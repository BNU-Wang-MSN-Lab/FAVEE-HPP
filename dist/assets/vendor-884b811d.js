function xg(j,ce){const Ee=Object.create(null),Be=j.split(",");for(let Ke=0;Ke<Be.length;Ke++)Ee[Be[Ke]]=!0;return ce?Ke=>!!Ee[Ke.toLowerCase()]:Ke=>!!Ee[Ke]}function bg(j){if(hi(j)){const ce={};for(let Ee=0;Ee<j.length;Ee++){const Be=j[Ee],Ke=is(Be)?_w(Be):bg(Be);if(Ke)for(const bt in Ke)ce[bt]=Ke[bt]}return ce}else{if(is(j))return j;if(Lo(j))return j}}const Rw=/;(?![^(]*\))/g,Dw=/:([^]+)/,Iw=/\/\*.*?\*\//gs;function _w(j){const ce={};return j.replace(Iw,"").split(Rw).forEach(Ee=>{if(Ee){const Be=Ee.split(Dw);Be.length>1&&(ce[Be[0].trim()]=Be[1].trim())}}),ce}function wg(j){let ce="";if(is(j))ce=j;else if(hi(j))for(let Ee=0;Ee<j.length;Ee++){const Be=wg(j[Ee]);Be&&(ce+=Be+" ")}else if(Lo(j))for(const Ee in j)j[Ee]&&(ce+=Ee+" ");return ce.trim()}const Fw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kw=xg(Fw);function km(j){return!!j||j===""}const p8=j=>is(j)?j:j==null?"":hi(j)||Lo(j)&&(j.toString===Nm||!wi(j.toString))?JSON.stringify(j,zm,2):String(j),zm=(j,ce)=>ce&&ce.__v_isRef?zm(j,ce.value):zh(ce)?{[`Map(${ce.size})`]:[...ce.entries()].reduce((Ee,[Be,Ke])=>(Ee[`${Be} =>`]=Ke,Ee),{})}:Om(ce)?{[`Set(${ce.size})`]:[...ce.values()]}:Lo(ce)&&!hi(ce)&&!Um(ce)?String(ce):ce,Mo={},kh=[],_u=()=>{},zw=()=>!1,Ow=/^on[^a-z]/,bp=j=>Ow.test(j),Tg=j=>j.startsWith("onUpdate:"),js=Object.assign,Ag=(j,ce)=>{const Ee=j.indexOf(ce);Ee>-1&&j.splice(Ee,1)},Bw=Object.prototype.hasOwnProperty,Wi=(j,ce)=>Bw.call(j,ce),hi=Array.isArray,zh=j=>wp(j)==="[object Map]",Om=j=>wp(j)==="[object Set]",wi=j=>typeof j=="function",is=j=>typeof j=="string",Mg=j=>typeof j=="symbol",Lo=j=>j!==null&&typeof j=="object",Bm=j=>Lo(j)&&wi(j.then)&&wi(j.catch),Nm=Object.prototype.toString,wp=j=>Nm.call(j),Nw=j=>wp(j).slice(8,-1),Um=j=>wp(j)==="[object Object]",Sg=j=>is(j)&&j!=="NaN"&&j[0]!=="-"&&""+parseInt(j,10)===j,Gd=xg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tp=j=>{const ce=Object.create(null);return Ee=>ce[Ee]||(ce[Ee]=j(Ee))},Uw=/-(\w)/g,vf=Tp(j=>j.replace(Uw,(ce,Ee)=>Ee?Ee.toUpperCase():"")),Hw=/\B([A-Z])/g,Kh=Tp(j=>j.replace(Hw,"-$1").toLowerCase()),Ap=Tp(j=>j.charAt(0).toUpperCase()+j.slice(1)),v0=Tp(j=>j?`on${Ap(j)}`:""),Uv=(j,ce)=>!Object.is(j,ce),d0=(j,ce)=>{for(let Ee=0;Ee<j.length;Ee++)j[Ee](ce)},qd=(j,ce,Ee)=>{Object.defineProperty(j,ce,{configurable:!0,enumerable:!1,value:Ee})},Hm=j=>{const ce=parseFloat(j);return isNaN(ce)?j:ce};let i1;const Vw=()=>i1||(i1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let of;class Gw{constructor(ce=!1){this.detached=ce,this.active=!0,this.effects=[],this.cleanups=[],this.parent=of,!ce&&of&&(this.index=(of.scopes||(of.scopes=[])).push(this)-1)}run(ce){if(this.active){const Ee=of;try{return of=this,ce()}finally{of=Ee}}}on(){of=this}off(){of=this.parent}stop(ce){if(this.active){let Ee,Be;for(Ee=0,Be=this.effects.length;Ee<Be;Ee++)this.effects[Ee].stop();for(Ee=0,Be=this.cleanups.length;Ee<Be;Ee++)this.cleanups[Ee]();if(this.scopes)for(Ee=0,Be=this.scopes.length;Ee<Be;Ee++)this.scopes[Ee].stop(!0);if(!this.detached&&this.parent&&!ce){const Ke=this.parent.scopes.pop();Ke&&Ke!==this&&(this.parent.scopes[this.index]=Ke,Ke.index=this.index)}this.parent=void 0,this.active=!1}}}function Ww(j,ce=of){ce&&ce.active&&ce.effects.push(j)}const Eg=j=>{const ce=new Set(j);return ce.w=0,ce.n=0,ce},Vm=j=>(j.w&Tc)>0,Gm=j=>(j.n&Tc)>0,Yw=({deps:j})=>{if(j.length)for(let ce=0;ce<j.length;ce++)j[ce].w|=Tc},Zw=j=>{const{deps:ce}=j;if(ce.length){let Ee=0;for(let Be=0;Be<ce.length;Be++){const Ke=ce[Be];Vm(Ke)&&!Gm(Ke)?Ke.delete(j):ce[Ee++]=Ke,Ke.w&=~Tc,Ke.n&=~Tc}ce.length=Ee}},I0=new WeakMap;let Mv=0,Tc=1;const _0=30;let Pu;const Qc=Symbol(""),F0=Symbol("");class Cg{constructor(ce,Ee=null,Be){this.fn=ce,this.scheduler=Ee,this.active=!0,this.deps=[],this.parent=void 0,Ww(this,Be)}run(){if(!this.active)return this.fn();let ce=Pu,Ee=bc;for(;ce;){if(ce===this)return;ce=ce.parent}try{return this.parent=Pu,Pu=this,bc=!0,Tc=1<<++Mv,Mv<=_0?Yw(this):o1(this),this.fn()}finally{Mv<=_0&&Zw(this),Tc=1<<--Mv,Pu=this.parent,bc=Ee,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pu===this?this.deferStop=!0:this.active&&(o1(this),this.onStop&&this.onStop(),this.active=!1)}}function o1(j){const{deps:ce}=j;if(ce.length){for(let Ee=0;Ee<ce.length;Ee++)ce[Ee].delete(j);ce.length=0}}let bc=!0;const Wm=[];function Jh(){Wm.push(bc),bc=!1}function Qh(){const j=Wm.pop();bc=j===void 0?!0:j}function Hl(j,ce,Ee){if(bc&&Pu){let Be=I0.get(j);Be||I0.set(j,Be=new Map);let Ke=Be.get(Ee);Ke||Be.set(Ee,Ke=Eg()),Ym(Ke)}}function Ym(j,ce){let Ee=!1;Mv<=_0?Gm(j)||(j.n|=Tc,Ee=!Vm(j)):Ee=!j.has(Pu),Ee&&(j.add(Pu),Pu.deps.push(j))}function Uf(j,ce,Ee,Be,Ke,bt){const W=I0.get(j);if(!W)return;let U=[];if(ce==="clear")U=[...W.values()];else if(Ee==="length"&&hi(j)){const e=Hm(Be);W.forEach((p,L)=>{(L==="length"||L>=e)&&U.push(p)})}else switch(Ee!==void 0&&U.push(W.get(Ee)),ce){case"add":hi(j)?Sg(Ee)&&U.push(W.get("length")):(U.push(W.get(Qc)),zh(j)&&U.push(W.get(F0)));break;case"delete":hi(j)||(U.push(W.get(Qc)),zh(j)&&U.push(W.get(F0)));break;case"set":zh(j)&&U.push(W.get(Qc));break}if(U.length===1)U[0]&&k0(U[0]);else{const e=[];for(const p of U)p&&e.push(...p);k0(Eg(e))}}function k0(j,ce){const Ee=hi(j)?j:[...j];for(const Be of Ee)Be.computed&&s1(Be);for(const Be of Ee)Be.computed||s1(Be)}function s1(j,ce){(j!==Pu||j.allowRecurse)&&(j.scheduler?j.scheduler():j.run())}const Xw=xg("__proto__,__v_isRef,__isVue"),Zm=new Set(Object.getOwnPropertyNames(Symbol).filter(j=>j!=="arguments"&&j!=="caller").map(j=>Symbol[j]).filter(Mg)),jw=Lg(),Kw=Lg(!1,!0),Jw=Lg(!0),l1=Qw();function Qw(){const j={};return["includes","indexOf","lastIndexOf"].forEach(ce=>{j[ce]=function(...Ee){const Be=$i(this);for(let bt=0,W=this.length;bt<W;bt++)Hl(Be,"get",bt+"");const Ke=Be[ce](...Ee);return Ke===-1||Ke===!1?Be[ce](...Ee.map($i)):Ke}}),["push","pop","shift","unshift","splice"].forEach(ce=>{j[ce]=function(...Ee){Jh();const Be=$i(this)[ce].apply(this,Ee);return Qh(),Be}}),j}function Lg(j=!1,ce=!1){return function(Be,Ke,bt){if(Ke==="__v_isReactive")return!j;if(Ke==="__v_isReadonly")return j;if(Ke==="__v_isShallow")return ce;if(Ke==="__v_raw"&&bt===(j?ce?vT:Qm:ce?Jm:Km).get(Be))return Be;const W=hi(Be);if(!j&&W&&Wi(l1,Ke))return Reflect.get(l1,Ke,bt);const U=Reflect.get(Be,Ke,bt);return(Mg(Ke)?Zm.has(Ke):Xw(Ke))||(j||Hl(Be,"get",Ke),ce)?U:Xs(U)?W&&Sg(Ke)?U:U.value:Lo(U)?j?$m(U):qv(U):U}}const $w=Xm(),qw=Xm(!0);function Xm(j=!1){return function(Ee,Be,Ke,bt){let W=Ee[Be];if(Hh(W)&&Xs(W)&&!Xs(Ke))return!1;if(!j&&(!ep(Ke)&&!Hh(Ke)&&(W=$i(W),Ke=$i(Ke)),!hi(Ee)&&Xs(W)&&!Xs(Ke)))return W.value=Ke,!0;const U=hi(Ee)&&Sg(Be)?Number(Be)<Ee.length:Wi(Ee,Be),e=Reflect.set(Ee,Be,Ke,bt);return Ee===$i(bt)&&(U?Uv(Ke,W)&&Uf(Ee,"set",Be,Ke):Uf(Ee,"add",Be,Ke)),e}}function eT(j,ce){const Ee=Wi(j,ce);j[ce];const Be=Reflect.deleteProperty(j,ce);return Be&&Ee&&Uf(j,"delete",ce,void 0),Be}function tT(j,ce){const Ee=Reflect.has(j,ce);return(!Mg(ce)||!Zm.has(ce))&&Hl(j,"has",ce),Ee}function rT(j){return Hl(j,"iterate",hi(j)?"length":Qc),Reflect.ownKeys(j)}const jm={get:jw,set:$w,deleteProperty:eT,has:tT,ownKeys:rT},nT={get:Jw,set(j,ce){return!0},deleteProperty(j,ce){return!0}},aT=js({},jm,{get:Kw,set:qw}),Pg=j=>j,Mp=j=>Reflect.getPrototypeOf(j);function Rd(j,ce,Ee=!1,Be=!1){j=j.__v_raw;const Ke=$i(j),bt=$i(ce);Ee||(ce!==bt&&Hl(Ke,"get",ce),Hl(Ke,"get",bt));const{has:W}=Mp(Ke),U=Be?Pg:Ee?Ig:Hv;if(W.call(Ke,ce))return U(j.get(ce));if(W.call(Ke,bt))return U(j.get(bt));j!==Ke&&j.get(ce)}function Dd(j,ce=!1){const Ee=this.__v_raw,Be=$i(Ee),Ke=$i(j);return ce||(j!==Ke&&Hl(Be,"has",j),Hl(Be,"has",Ke)),j===Ke?Ee.has(j):Ee.has(j)||Ee.has(Ke)}function Id(j,ce=!1){return j=j.__v_raw,!ce&&Hl($i(j),"iterate",Qc),Reflect.get(j,"size",j)}function u1(j){j=$i(j);const ce=$i(this);return Mp(ce).has.call(ce,j)||(ce.add(j),Uf(ce,"add",j,j)),this}function f1(j,ce){ce=$i(ce);const Ee=$i(this),{has:Be,get:Ke}=Mp(Ee);let bt=Be.call(Ee,j);bt||(j=$i(j),bt=Be.call(Ee,j));const W=Ke.call(Ee,j);return Ee.set(j,ce),bt?Uv(ce,W)&&Uf(Ee,"set",j,ce):Uf(Ee,"add",j,ce),this}function c1(j){const ce=$i(this),{has:Ee,get:Be}=Mp(ce);let Ke=Ee.call(ce,j);Ke||(j=$i(j),Ke=Ee.call(ce,j)),Be&&Be.call(ce,j);const bt=ce.delete(j);return Ke&&Uf(ce,"delete",j,void 0),bt}function h1(){const j=$i(this),ce=j.size!==0,Ee=j.clear();return ce&&Uf(j,"clear",void 0,void 0),Ee}function _d(j,ce){return function(Be,Ke){const bt=this,W=bt.__v_raw,U=$i(W),e=ce?Pg:j?Ig:Hv;return!j&&Hl(U,"iterate",Qc),W.forEach((p,L)=>Be.call(Ke,e(p),e(L),bt))}}function Fd(j,ce,Ee){return function(...Be){const Ke=this.__v_raw,bt=$i(Ke),W=zh(bt),U=j==="entries"||j===Symbol.iterator&&W,e=j==="keys"&&W,p=Ke[j](...Be),L=Ee?Pg:ce?Ig:Hv;return!ce&&Hl(bt,"iterate",e?F0:Qc),{next(){const{value:a,done:P}=p.next();return P?{value:a,done:P}:{value:U?[L(a[0]),L(a[1])]:L(a),done:P}},[Symbol.iterator](){return this}}}}function dc(j){return function(...ce){return j==="delete"?!1:this}}function iT(){const j={get(bt){return Rd(this,bt)},get size(){return Id(this)},has:Dd,add:u1,set:f1,delete:c1,clear:h1,forEach:_d(!1,!1)},ce={get(bt){return Rd(this,bt,!1,!0)},get size(){return Id(this)},has:Dd,add:u1,set:f1,delete:c1,clear:h1,forEach:_d(!1,!0)},Ee={get(bt){return Rd(this,bt,!0)},get size(){return Id(this,!0)},has(bt){return Dd.call(this,bt,!0)},add:dc("add"),set:dc("set"),delete:dc("delete"),clear:dc("clear"),forEach:_d(!0,!1)},Be={get(bt){return Rd(this,bt,!0,!0)},get size(){return Id(this,!0)},has(bt){return Dd.call(this,bt,!0)},add:dc("add"),set:dc("set"),delete:dc("delete"),clear:dc("clear"),forEach:_d(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(bt=>{j[bt]=Fd(bt,!1,!1),Ee[bt]=Fd(bt,!0,!1),ce[bt]=Fd(bt,!1,!0),Be[bt]=Fd(bt,!0,!0)}),[j,Ee,ce,Be]}const[oT,sT,lT,uT]=iT();function Rg(j,ce){const Ee=ce?j?uT:lT:j?sT:oT;return(Be,Ke,bt)=>Ke==="__v_isReactive"?!j:Ke==="__v_isReadonly"?j:Ke==="__v_raw"?Be:Reflect.get(Wi(Ee,Ke)&&Ke in Be?Ee:Be,Ke,bt)}const fT={get:Rg(!1,!1)},cT={get:Rg(!1,!0)},hT={get:Rg(!0,!1)},Km=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,vT=new WeakMap;function dT(j){switch(j){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pT(j){return j.__v_skip||!Object.isExtensible(j)?0:dT(Nw(j))}function qv(j){return Hh(j)?j:Dg(j,!1,jm,fT,Km)}function gT(j){return Dg(j,!1,aT,cT,Jm)}function $m(j){return Dg(j,!0,nT,hT,Qm)}function Dg(j,ce,Ee,Be,Ke){if(!Lo(j)||j.__v_raw&&!(ce&&j.__v_isReactive))return j;const bt=Ke.get(j);if(bt)return bt;const W=pT(j);if(W===0)return j;const U=new Proxy(j,W===2?Be:Ee);return Ke.set(j,U),U}function Oh(j){return Hh(j)?Oh(j.__v_raw):!!(j&&j.__v_isReactive)}function Hh(j){return!!(j&&j.__v_isReadonly)}function ep(j){return!!(j&&j.__v_isShallow)}function qm(j){return Oh(j)||Hh(j)}function $i(j){const ce=j&&j.__v_raw;return ce?$i(ce):j}function ex(j){return qd(j,"__v_skip",!0),j}const Hv=j=>Lo(j)?qv(j):j,Ig=j=>Lo(j)?$m(j):j;function tx(j){bc&&Pu&&(j=$i(j),Ym(j.dep||(j.dep=Eg())))}function rx(j,ce){j=$i(j),j.dep&&k0(j.dep)}function Xs(j){return!!(j&&j.__v_isRef===!0)}function yT(j){return nx(j,!1)}function mT(j){return nx(j,!0)}function nx(j,ce){return Xs(j)?j:new xT(j,ce)}class xT{constructor(ce,Ee){this.__v_isShallow=Ee,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Ee?ce:$i(ce),this._value=Ee?ce:Hv(ce)}get value(){return tx(this),this._value}set value(ce){const Ee=this.__v_isShallow||ep(ce)||Hh(ce);ce=Ee?ce:$i(ce),Uv(ce,this._rawValue)&&(this._rawValue=ce,this._value=Ee?ce:Hv(ce),rx(this))}}function Bh(j){return Xs(j)?j.value:j}const bT={get:(j,ce,Ee)=>Bh(Reflect.get(j,ce,Ee)),set:(j,ce,Ee,Be)=>{const Ke=j[ce];return Xs(Ke)&&!Xs(Ee)?(Ke.value=Ee,!0):Reflect.set(j,ce,Ee,Be)}};function ax(j){return Oh(j)?j:new Proxy(j,bT)}var ix;class wT{constructor(ce,Ee,Be,Ke){this._setter=Ee,this.dep=void 0,this.__v_isRef=!0,this[ix]=!1,this._dirty=!0,this.effect=new Cg(ce,()=>{this._dirty||(this._dirty=!0,rx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Ke,this.__v_isReadonly=Be}get value(){const ce=$i(this);return tx(ce),(ce._dirty||!ce._cacheable)&&(ce._dirty=!1,ce._value=ce.effect.run()),ce._value}set value(ce){this._setter(ce)}}ix="__v_isReadonly";function TT(j,ce,Ee=!1){let Be,Ke;const bt=wi(j);return bt?(Be=j,Ke=_u):(Be=j.get,Ke=j.set),new wT(Be,Ke,bt||!Ke,Ee)}function wc(j,ce,Ee,Be){let Ke;try{Ke=Be?j(...Be):j()}catch(bt){Sp(bt,ce,Ee)}return Ke}function au(j,ce,Ee,Be){if(wi(j)){const bt=wc(j,ce,Ee,Be);return bt&&Bm(bt)&&bt.catch(W=>{Sp(W,ce,Ee)}),bt}const Ke=[];for(let bt=0;bt<j.length;bt++)Ke.push(au(j[bt],ce,Ee,Be));return Ke}function Sp(j,ce,Ee,Be=!0){const Ke=ce?ce.vnode:null;if(ce){let bt=ce.parent;const W=ce.proxy,U=Ee;for(;bt;){const p=bt.ec;if(p){for(let L=0;L<p.length;L++)if(p[L](j,W,U)===!1)return}bt=bt.parent}const e=ce.appContext.config.errorHandler;if(e){wc(e,null,10,[j,W,U]);return}}AT(j,Ee,Ke,Be)}function AT(j,ce,Ee,Be=!0){console.error(j)}let Vv=!1,z0=!1;const Zs=[];let uf=0;const Nh=[];let Bf=null,Zc=0;const ox=Promise.resolve();let _g=null;function sx(j){const ce=_g||ox;return j?ce.then(this?j.bind(this):j):ce}function MT(j){let ce=uf+1,Ee=Zs.length;for(;ce<Ee;){const Be=ce+Ee>>>1;Gv(Zs[Be])<j?ce=Be+1:Ee=Be}return ce}function Fg(j){(!Zs.length||!Zs.includes(j,Vv&&j.allowRecurse?uf+1:uf))&&(j.id==null?Zs.push(j):Zs.splice(MT(j.id),0,j),lx())}function lx(){!Vv&&!z0&&(z0=!0,_g=ox.then(fx))}function ST(j){const ce=Zs.indexOf(j);ce>uf&&Zs.splice(ce,1)}function ET(j){hi(j)?Nh.push(...j):(!Bf||!Bf.includes(j,j.allowRecurse?Zc+1:Zc))&&Nh.push(j),lx()}function v1(j,ce=Vv?uf+1:0){for(;ce<Zs.length;ce++){const Ee=Zs[ce];Ee&&Ee.pre&&(Zs.splice(ce,1),ce--,Ee())}}function ux(j){if(Nh.length){const ce=[...new Set(Nh)];if(Nh.length=0,Bf){Bf.push(...ce);return}for(Bf=ce,Bf.sort((Ee,Be)=>Gv(Ee)-Gv(Be)),Zc=0;Zc<Bf.length;Zc++)Bf[Zc]();Bf=null,Zc=0}}const Gv=j=>j.id==null?1/0:j.id,CT=(j,ce)=>{const Ee=Gv(j)-Gv(ce);if(Ee===0){if(j.pre&&!ce.pre)return-1;if(ce.pre&&!j.pre)return 1}return Ee};function fx(j){z0=!1,Vv=!0,Zs.sort(CT);const ce=_u;try{for(uf=0;uf<Zs.length;uf++){const Ee=Zs[uf];Ee&&Ee.active!==!1&&wc(Ee,null,14)}}finally{uf=0,Zs.length=0,ux(),Vv=!1,_g=null,(Zs.length||Nh.length)&&fx()}}function LT(j,ce,...Ee){if(j.isUnmounted)return;const Be=j.vnode.props||Mo;let Ke=Ee;const bt=ce.startsWith("update:"),W=bt&&ce.slice(7);if(W&&W in Be){const L=`${W==="modelValue"?"model":W}Modifiers`,{number:a,trim:P}=Be[L]||Mo;P&&(Ke=Ee.map(A=>is(A)?A.trim():A)),a&&(Ke=Ee.map(Hm))}let U,e=Be[U=v0(ce)]||Be[U=v0(vf(ce))];!e&&bt&&(e=Be[U=v0(Kh(ce))]),e&&au(e,j,6,Ke);const p=Be[U+"Once"];if(p){if(!j.emitted)j.emitted={};else if(j.emitted[U])return;j.emitted[U]=!0,au(p,j,6,Ke)}}function cx(j,ce,Ee=!1){const Be=ce.emitsCache,Ke=Be.get(j);if(Ke!==void 0)return Ke;const bt=j.emits;let W={},U=!1;if(!wi(j)){const e=p=>{const L=cx(p,ce,!0);L&&(U=!0,js(W,L))};!Ee&&ce.mixins.length&&ce.mixins.forEach(e),j.extends&&e(j.extends),j.mixins&&j.mixins.forEach(e)}return!bt&&!U?(Lo(j)&&Be.set(j,null),null):(hi(bt)?bt.forEach(e=>W[e]=null):js(W,bt),Lo(j)&&Be.set(j,W),W)}function Ep(j,ce){return!j||!bp(ce)?!1:(ce=ce.slice(2).replace(/Once$/,""),Wi(j,ce[0].toLowerCase()+ce.slice(1))||Wi(j,Kh(ce))||Wi(j,ce))}let Ul=null,Cp=null;function tp(j){const ce=Ul;return Ul=j,Cp=j&&j.type.__scopeId||null,ce}function g8(j){Cp=j}function y8(){Cp=null}function PT(j,ce=Ul,Ee){if(!ce||j._n)return j;const Be=(...Ke)=>{Be._d&&A1(-1);const bt=tp(ce);let W;try{W=j(...Ke)}finally{tp(bt),Be._d&&A1(1)}return W};return Be._n=!0,Be._c=!0,Be._d=!0,Be}function p0(j){const{type:ce,vnode:Ee,proxy:Be,withProxy:Ke,props:bt,propsOptions:[W],slots:U,attrs:e,emit:p,render:L,renderCache:a,data:P,setupState:A,ctx:v,inheritAttrs:g}=j;let t,r;const u=tp(j);try{if(Ee.shapeFlag&4){const l=Ke||Be;t=lf(L.call(l,l,a,bt,A,P,v)),r=e}else{const l=ce;t=lf(l.length>1?l(bt,{attrs:e,slots:U,emit:p}):l(bt,null)),r=ce.props?e:RT(e)}}catch(l){_v.length=0,Sp(l,j,1),t=Ml(Fu)}let o=t;if(r&&g!==!1){const l=Object.keys(r),{shapeFlag:c}=o;l.length&&c&7&&(W&&l.some(Tg)&&(r=DT(r,W)),o=Ac(o,r))}return Ee.dirs&&(o=Ac(o),o.dirs=o.dirs?o.dirs.concat(Ee.dirs):Ee.dirs),Ee.transition&&(o.transition=Ee.transition),t=o,tp(u),t}const RT=j=>{let ce;for(const Ee in j)(Ee==="class"||Ee==="style"||bp(Ee))&&((ce||(ce={}))[Ee]=j[Ee]);return ce},DT=(j,ce)=>{const Ee={};for(const Be in j)(!Tg(Be)||!(Be.slice(9)in ce))&&(Ee[Be]=j[Be]);return Ee};function IT(j,ce,Ee){const{props:Be,children:Ke,component:bt}=j,{props:W,children:U,patchFlag:e}=ce,p=bt.emitsOptions;if(ce.dirs||ce.transition)return!0;if(Ee&&e>=0){if(e&1024)return!0;if(e&16)return Be?d1(Be,W,p):!!W;if(e&8){const L=ce.dynamicProps;for(let a=0;a<L.length;a++){const P=L[a];if(W[P]!==Be[P]&&!Ep(p,P))return!0}}}else return(Ke||U)&&(!U||!U.$stable)?!0:Be===W?!1:Be?W?d1(Be,W,p):!0:!!W;return!1}function d1(j,ce,Ee){const Be=Object.keys(ce);if(Be.length!==Object.keys(j).length)return!0;for(let Ke=0;Ke<Be.length;Ke++){const bt=Be[Ke];if(ce[bt]!==j[bt]&&!Ep(Ee,bt))return!0}return!1}function _T({vnode:j,parent:ce},Ee){for(;ce&&ce.subTree===j;)(j=ce.vnode).el=Ee,ce=ce.parent}const FT=j=>j.__isSuspense;function kT(j,ce){ce&&ce.pendingBranch?hi(j)?ce.effects.push(...j):ce.effects.push(j):ET(j)}function Wd(j,ce){if(ds){let Ee=ds.provides;const Be=ds.parent&&ds.parent.provides;Be===Ee&&(Ee=ds.provides=Object.create(Be)),Ee[j]=ce}}function Nf(j,ce,Ee=!1){const Be=ds||Ul;if(Be){const Ke=Be.parent==null?Be.vnode.appContext&&Be.vnode.appContext.provides:Be.parent.provides;if(Ke&&j in Ke)return Ke[j];if(arguments.length>1)return Ee&&wi(ce)?ce.call(Be.proxy):ce}}const kd={};function Yd(j,ce,Ee){return hx(j,ce,Ee)}function hx(j,ce,{immediate:Ee,deep:Be,flush:Ke,onTrack:bt,onTrigger:W}=Mo){const U=ds;let e,p=!1,L=!1;if(Xs(j)?(e=()=>j.value,p=ep(j)):Oh(j)?(e=()=>j,Be=!0):hi(j)?(L=!0,p=j.some(o=>Oh(o)||ep(o)),e=()=>j.map(o=>{if(Xs(o))return o.value;if(Oh(o))return Kc(o);if(wi(o))return wc(o,U,2)})):wi(j)?ce?e=()=>wc(j,U,2):e=()=>{if(!(U&&U.isUnmounted))return a&&a(),au(j,U,3,[P])}:e=_u,ce&&Be){const o=e;e=()=>Kc(o())}let a,P=o=>{a=r.onStop=()=>{wc(o,U,4)}},A;if(Yv)if(P=_u,ce?Ee&&au(ce,U,3,[e(),L?[]:void 0,P]):e(),Ke==="sync"){const o=_A();A=o.__watcherHandles||(o.__watcherHandles=[])}else return _u;let v=L?new Array(j.length).fill(kd):kd;const g=()=>{if(r.active)if(ce){const o=r.run();(Be||p||(L?o.some((l,c)=>Uv(l,v[c])):Uv(o,v)))&&(a&&a(),au(ce,U,3,[o,v===kd?void 0:L&&v[0]===kd?[]:v,P]),v=o)}else r.run()};g.allowRecurse=!!ce;let t;Ke==="sync"?t=g:Ke==="post"?t=()=>Tl(g,U&&U.suspense):(g.pre=!0,U&&(g.id=U.uid),t=()=>Fg(g));const r=new Cg(e,t);ce?Ee?g():v=r.run():Ke==="post"?Tl(r.run.bind(r),U&&U.suspense):r.run();const u=()=>{r.stop(),U&&U.scope&&Ag(U.scope.effects,r)};return A&&A.push(u),u}function zT(j,ce,Ee){const Be=this.proxy,Ke=is(j)?j.includes(".")?vx(Be,j):()=>Be[j]:j.bind(Be,Be);let bt;wi(ce)?bt=ce:(bt=ce.handler,Ee=ce);const W=ds;Vh(this);const U=hx(Ke,bt.bind(Be),Ee);return W?Vh(W):$c(),U}function vx(j,ce){const Ee=ce.split(".");return()=>{let Be=j;for(let Ke=0;Ke<Ee.length&&Be;Ke++)Be=Be[Ee[Ke]];return Be}}function Kc(j,ce){if(!Lo(j)||j.__v_skip||(ce=ce||new Set,ce.has(j)))return j;if(ce.add(j),Xs(j))Kc(j.value,ce);else if(hi(j))for(let Ee=0;Ee<j.length;Ee++)Kc(j[Ee],ce);else if(Om(j)||zh(j))j.forEach(Ee=>{Kc(Ee,ce)});else if(Um(j))for(const Ee in j)Kc(j[Ee],ce);return j}function OT(){const j={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mx(()=>{j.isMounted=!0}),xx(()=>{j.isUnmounting=!0}),j}const eu=[Function,Array],BT={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:eu,onEnter:eu,onAfterEnter:eu,onEnterCancelled:eu,onBeforeLeave:eu,onLeave:eu,onAfterLeave:eu,onLeaveCancelled:eu,onBeforeAppear:eu,onAppear:eu,onAfterAppear:eu,onAppearCancelled:eu},setup(j,{slots:ce}){const Ee=SA(),Be=OT();let Ke;return()=>{const bt=ce.default&&px(ce.default(),!0);if(!bt||!bt.length)return;let W=bt[0];if(bt.length>1){for(const g of bt)if(g.type!==Fu){W=g;break}}const U=$i(j),{mode:e}=U;if(Be.isLeaving)return g0(W);const p=p1(W);if(!p)return g0(W);const L=O0(p,U,Be,Ee);B0(p,L);const a=Ee.subTree,P=a&&p1(a);let A=!1;const{getTransitionKey:v}=p.type;if(v){const g=v();Ke===void 0?Ke=g:g!==Ke&&(Ke=g,A=!0)}if(P&&P.type!==Fu&&(!Xc(p,P)||A)){const g=O0(P,U,Be,Ee);if(B0(P,g),e==="out-in")return Be.isLeaving=!0,g.afterLeave=()=>{Be.isLeaving=!1,Ee.update.active!==!1&&Ee.update()},g0(W);e==="in-out"&&p.type!==Fu&&(g.delayLeave=(t,r,u)=>{const o=dx(Be,P);o[String(P.key)]=P,t._leaveCb=()=>{r(),t._leaveCb=void 0,delete L.delayedLeave},L.delayedLeave=u})}return W}}},NT=BT;function dx(j,ce){const{leavingVNodes:Ee}=j;let Be=Ee.get(ce.type);return Be||(Be=Object.create(null),Ee.set(ce.type,Be)),Be}function O0(j,ce,Ee,Be){const{appear:Ke,mode:bt,persisted:W=!1,onBeforeEnter:U,onEnter:e,onAfterEnter:p,onEnterCancelled:L,onBeforeLeave:a,onLeave:P,onAfterLeave:A,onLeaveCancelled:v,onBeforeAppear:g,onAppear:t,onAfterAppear:r,onAppearCancelled:u}=ce,o=String(j.key),l=dx(Ee,j),c=(h,T)=>{h&&au(h,Be,9,T)},n=(h,T)=>{const f=T[1];c(h,T),hi(h)?h.every(s=>s.length<=1)&&f():h.length<=1&&f()},x={mode:bt,persisted:W,beforeEnter(h){let T=U;if(!Ee.isMounted)if(Ke)T=g||U;else return;h._leaveCb&&h._leaveCb(!0);const f=l[o];f&&Xc(j,f)&&f.el._leaveCb&&f.el._leaveCb(),c(T,[h])},enter(h){let T=e,f=p,s=L;if(!Ee.isMounted)if(Ke)T=t||e,f=r||p,s=u||L;else return;let d=!1;const S=h._enterCb=M=>{d||(d=!0,M?c(s,[h]):c(f,[h]),x.delayedLeave&&x.delayedLeave(),h._enterCb=void 0)};T?n(T,[h,S]):S()},leave(h,T){const f=String(j.key);if(h._enterCb&&h._enterCb(!0),Ee.isUnmounting)return T();c(a,[h]);let s=!1;const d=h._leaveCb=S=>{s||(s=!0,T(),S?c(v,[h]):c(A,[h]),h._leaveCb=void 0,l[f]===j&&delete l[f])};l[f]=j,P?n(P,[h,d]):d()},clone(h){return O0(h,ce,Ee,Be)}};return x}function g0(j){if(Lp(j))return j=Ac(j),j.children=null,j}function p1(j){return Lp(j)?j.children?j.children[0]:void 0:j}function B0(j,ce){j.shapeFlag&6&&j.component?B0(j.component.subTree,ce):j.shapeFlag&128?(j.ssContent.transition=ce.clone(j.ssContent),j.ssFallback.transition=ce.clone(j.ssFallback)):j.transition=ce}function px(j,ce=!1,Ee){let Be=[],Ke=0;for(let bt=0;bt<j.length;bt++){let W=j[bt];const U=Ee==null?W.key:String(Ee)+String(W.key!=null?W.key:bt);W.type===sf?(W.patchFlag&128&&Ke++,Be=Be.concat(px(W.children,ce,U))):(ce||W.type!==Fu)&&Be.push(U!=null?Ac(W,{key:U}):W)}if(Ke>1)for(let bt=0;bt<Be.length;bt++)Be[bt].patchFlag=-2;return Be}function gx(j){return wi(j)?{setup:j,name:j.name}:j}const Zd=j=>!!j.type.__asyncLoader,Lp=j=>j.type.__isKeepAlive;function UT(j,ce){yx(j,"a",ce)}function HT(j,ce){yx(j,"da",ce)}function yx(j,ce,Ee=ds){const Be=j.__wdc||(j.__wdc=()=>{let Ke=Ee;for(;Ke;){if(Ke.isDeactivated)return;Ke=Ke.parent}return j()});if(Pp(ce,Be,Ee),Ee){let Ke=Ee.parent;for(;Ke&&Ke.parent;)Lp(Ke.parent.vnode)&&VT(Be,ce,Ee,Ke),Ke=Ke.parent}}function VT(j,ce,Ee,Be){const Ke=Pp(ce,j,Be,!0);bx(()=>{Ag(Be[ce],Ke)},Ee)}function Pp(j,ce,Ee=ds,Be=!1){if(Ee){const Ke=Ee[j]||(Ee[j]=[]),bt=ce.__weh||(ce.__weh=(...W)=>{if(Ee.isUnmounted)return;Jh(),Vh(Ee);const U=au(ce,Ee,j,W);return $c(),Qh(),U});return Be?Ke.unshift(bt):Ke.push(bt),bt}}const Vf=j=>(ce,Ee=ds)=>(!Yv||j==="sp")&&Pp(j,(...Be)=>ce(...Be),Ee),GT=Vf("bm"),mx=Vf("m"),WT=Vf("bu"),YT=Vf("u"),xx=Vf("bum"),bx=Vf("um"),ZT=Vf("sp"),XT=Vf("rtg"),jT=Vf("rtc");function KT(j,ce=ds){Pp("ec",j,ce)}function m8(j,ce){const Ee=Ul;if(Ee===null)return j;const Be=Ip(Ee)||Ee.proxy,Ke=j.dirs||(j.dirs=[]);for(let bt=0;bt<ce.length;bt++){let[W,U,e,p=Mo]=ce[bt];W&&(wi(W)&&(W={mounted:W,updated:W}),W.deep&&Kc(U),Ke.push({dir:W,instance:Be,value:U,oldValue:void 0,arg:e,modifiers:p}))}return j}function Gc(j,ce,Ee,Be){const Ke=j.dirs,bt=ce&&ce.dirs;for(let W=0;W<Ke.length;W++){const U=Ke[W];bt&&(U.oldValue=bt[W].value);let e=U.dir[Be];e&&(Jh(),au(e,Ee,8,[j.el,U,j,ce]),Qh())}}const wx="components";function x8(j,ce){return QT(wx,j,!0,ce)||j}const JT=Symbol();function QT(j,ce,Ee=!0,Be=!1){const Ke=Ul||ds;if(Ke){const bt=Ke.type;if(j===wx){const U=RA(bt,!1);if(U&&(U===ce||U===vf(ce)||U===Ap(vf(ce))))return bt}const W=g1(Ke[j]||bt[j],ce)||g1(Ke.appContext[j],ce);return!W&&Be?bt:W}}function g1(j,ce){return j&&(j[ce]||j[vf(ce)]||j[Ap(vf(ce))])}function b8(j,ce,Ee,Be){let Ke;const bt=Ee&&Ee[Be];if(hi(j)||is(j)){Ke=new Array(j.length);for(let W=0,U=j.length;W<U;W++)Ke[W]=ce(j[W],W,void 0,bt&&bt[W])}else if(typeof j=="number"){Ke=new Array(j);for(let W=0;W<j;W++)Ke[W]=ce(W+1,W,void 0,bt&&bt[W])}else if(Lo(j))if(j[Symbol.iterator])Ke=Array.from(j,(W,U)=>ce(W,U,void 0,bt&&bt[U]));else{const W=Object.keys(j);Ke=new Array(W.length);for(let U=0,e=W.length;U<e;U++){const p=W[U];Ke[U]=ce(j[p],p,U,bt&&bt[U])}}else Ke=[];return Ee&&(Ee[Be]=Ke),Ke}const N0=j=>j?_x(j)?Ip(j)||j.proxy:N0(j.parent):null,Iv=js(Object.create(null),{$:j=>j,$el:j=>j.vnode.el,$data:j=>j.data,$props:j=>j.props,$attrs:j=>j.attrs,$slots:j=>j.slots,$refs:j=>j.refs,$parent:j=>N0(j.parent),$root:j=>N0(j.root),$emit:j=>j.emit,$options:j=>kg(j),$forceUpdate:j=>j.f||(j.f=()=>Fg(j.update)),$nextTick:j=>j.n||(j.n=sx.bind(j.proxy)),$watch:j=>zT.bind(j)}),y0=(j,ce)=>j!==Mo&&!j.__isScriptSetup&&Wi(j,ce),$T={get({_:j},ce){const{ctx:Ee,setupState:Be,data:Ke,props:bt,accessCache:W,type:U,appContext:e}=j;let p;if(ce[0]!=="$"){const A=W[ce];if(A!==void 0)switch(A){case 1:return Be[ce];case 2:return Ke[ce];case 4:return Ee[ce];case 3:return bt[ce]}else{if(y0(Be,ce))return W[ce]=1,Be[ce];if(Ke!==Mo&&Wi(Ke,ce))return W[ce]=2,Ke[ce];if((p=j.propsOptions[0])&&Wi(p,ce))return W[ce]=3,bt[ce];if(Ee!==Mo&&Wi(Ee,ce))return W[ce]=4,Ee[ce];U0&&(W[ce]=0)}}const L=Iv[ce];let a,P;if(L)return ce==="$attrs"&&Hl(j,"get",ce),L(j);if((a=U.__cssModules)&&(a=a[ce]))return a;if(Ee!==Mo&&Wi(Ee,ce))return W[ce]=4,Ee[ce];if(P=e.config.globalProperties,Wi(P,ce))return P[ce]},set({_:j},ce,Ee){const{data:Be,setupState:Ke,ctx:bt}=j;return y0(Ke,ce)?(Ke[ce]=Ee,!0):Be!==Mo&&Wi(Be,ce)?(Be[ce]=Ee,!0):Wi(j.props,ce)||ce[0]==="$"&&ce.slice(1)in j?!1:(bt[ce]=Ee,!0)},has({_:{data:j,setupState:ce,accessCache:Ee,ctx:Be,appContext:Ke,propsOptions:bt}},W){let U;return!!Ee[W]||j!==Mo&&Wi(j,W)||y0(ce,W)||(U=bt[0])&&Wi(U,W)||Wi(Be,W)||Wi(Iv,W)||Wi(Ke.config.globalProperties,W)},defineProperty(j,ce,Ee){return Ee.get!=null?j._.accessCache[ce]=0:Wi(Ee,"value")&&this.set(j,ce,Ee.value,null),Reflect.defineProperty(j,ce,Ee)}};let U0=!0;function qT(j){const ce=kg(j),Ee=j.proxy,Be=j.ctx;U0=!1,ce.beforeCreate&&y1(ce.beforeCreate,j,"bc");const{data:Ke,computed:bt,methods:W,watch:U,provide:e,inject:p,created:L,beforeMount:a,mounted:P,beforeUpdate:A,updated:v,activated:g,deactivated:t,beforeDestroy:r,beforeUnmount:u,destroyed:o,unmounted:l,render:c,renderTracked:n,renderTriggered:x,errorCaptured:h,serverPrefetch:T,expose:f,inheritAttrs:s,components:d,directives:S,filters:M}=ce;if(p&&eA(p,Be,null,j.appContext.config.unwrapInjectedRef),W)for(const w in W){const b=W[w];wi(b)&&(Be[w]=b.bind(Ee))}if(Ke){const w=Ke.call(Ee,Ee);Lo(w)&&(j.data=qv(w))}if(U0=!0,bt)for(const w in bt){const b=bt[w],i=wi(b)?b.bind(Ee,Ee):wi(b.get)?b.get.bind(Ee,Ee):_u,E=!wi(b)&&wi(b.set)?b.set.bind(Ee):_u,m=tu({get:i,set:E});Object.defineProperty(Be,w,{enumerable:!0,configurable:!0,get:()=>m.value,set:F=>m.value=F})}if(U)for(const w in U)Tx(U[w],Be,Ee,w);if(e){const w=wi(e)?e.call(Ee):e;Reflect.ownKeys(w).forEach(b=>{Wd(b,w[b])})}L&&y1(L,j,"c");function y(w,b){hi(b)?b.forEach(i=>w(i.bind(Ee))):b&&w(b.bind(Ee))}if(y(GT,a),y(mx,P),y(WT,A),y(YT,v),y(UT,g),y(HT,t),y(KT,h),y(jT,n),y(XT,x),y(xx,u),y(bx,l),y(ZT,T),hi(f))if(f.length){const w=j.exposed||(j.exposed={});f.forEach(b=>{Object.defineProperty(w,b,{get:()=>Ee[b],set:i=>Ee[b]=i})})}else j.exposed||(j.exposed={});c&&j.render===_u&&(j.render=c),s!=null&&(j.inheritAttrs=s),d&&(j.components=d),S&&(j.directives=S)}function eA(j,ce,Ee=_u,Be=!1){hi(j)&&(j=H0(j));for(const Ke in j){const bt=j[Ke];let W;Lo(bt)?"default"in bt?W=Nf(bt.from||Ke,bt.default,!0):W=Nf(bt.from||Ke):W=Nf(bt),Xs(W)&&Be?Object.defineProperty(ce,Ke,{enumerable:!0,configurable:!0,get:()=>W.value,set:U=>W.value=U}):ce[Ke]=W}}function y1(j,ce,Ee){au(hi(j)?j.map(Be=>Be.bind(ce.proxy)):j.bind(ce.proxy),ce,Ee)}function Tx(j,ce,Ee,Be){const Ke=Be.includes(".")?vx(Ee,Be):()=>Ee[Be];if(is(j)){const bt=ce[j];wi(bt)&&Yd(Ke,bt)}else if(wi(j))Yd(Ke,j.bind(Ee));else if(Lo(j))if(hi(j))j.forEach(bt=>Tx(bt,ce,Ee,Be));else{const bt=wi(j.handler)?j.handler.bind(Ee):ce[j.handler];wi(bt)&&Yd(Ke,bt,j)}}function kg(j){const ce=j.type,{mixins:Ee,extends:Be}=ce,{mixins:Ke,optionsCache:bt,config:{optionMergeStrategies:W}}=j.appContext,U=bt.get(ce);let e;return U?e=U:!Ke.length&&!Ee&&!Be?e=ce:(e={},Ke.length&&Ke.forEach(p=>rp(e,p,W,!0)),rp(e,ce,W)),Lo(ce)&&bt.set(ce,e),e}function rp(j,ce,Ee,Be=!1){const{mixins:Ke,extends:bt}=ce;bt&&rp(j,bt,Ee,!0),Ke&&Ke.forEach(W=>rp(j,W,Ee,!0));for(const W in ce)if(!(Be&&W==="expose")){const U=tA[W]||Ee&&Ee[W];j[W]=U?U(j[W],ce[W]):ce[W]}return j}const tA={data:m1,props:Yc,emits:Yc,methods:Yc,computed:Yc,beforeCreate:ol,created:ol,beforeMount:ol,mounted:ol,beforeUpdate:ol,updated:ol,beforeDestroy:ol,beforeUnmount:ol,destroyed:ol,unmounted:ol,activated:ol,deactivated:ol,errorCaptured:ol,serverPrefetch:ol,components:Yc,directives:Yc,watch:nA,provide:m1,inject:rA};function m1(j,ce){return ce?j?function(){return js(wi(j)?j.call(this,this):j,wi(ce)?ce.call(this,this):ce)}:ce:j}function rA(j,ce){return Yc(H0(j),H0(ce))}function H0(j){if(hi(j)){const ce={};for(let Ee=0;Ee<j.length;Ee++)ce[j[Ee]]=j[Ee];return ce}return j}function ol(j,ce){return j?[...new Set([].concat(j,ce))]:ce}function Yc(j,ce){return j?js(js(Object.create(null),j),ce):ce}function nA(j,ce){if(!j)return ce;if(!ce)return j;const Ee=js(Object.create(null),j);for(const Be in ce)Ee[Be]=ol(j[Be],ce[Be]);return Ee}function aA(j,ce,Ee,Be=!1){const Ke={},bt={};qd(bt,Dp,1),j.propsDefaults=Object.create(null),Ax(j,ce,Ke,bt);for(const W in j.propsOptions[0])W in Ke||(Ke[W]=void 0);Ee?j.props=Be?Ke:gT(Ke):j.type.props?j.props=Ke:j.props=bt,j.attrs=bt}function iA(j,ce,Ee,Be){const{props:Ke,attrs:bt,vnode:{patchFlag:W}}=j,U=$i(Ke),[e]=j.propsOptions;let p=!1;if((Be||W>0)&&!(W&16)){if(W&8){const L=j.vnode.dynamicProps;for(let a=0;a<L.length;a++){let P=L[a];if(Ep(j.emitsOptions,P))continue;const A=ce[P];if(e)if(Wi(bt,P))A!==bt[P]&&(bt[P]=A,p=!0);else{const v=vf(P);Ke[v]=V0(e,U,v,A,j,!1)}else A!==bt[P]&&(bt[P]=A,p=!0)}}}else{Ax(j,ce,Ke,bt)&&(p=!0);let L;for(const a in U)(!ce||!Wi(ce,a)&&((L=Kh(a))===a||!Wi(ce,L)))&&(e?Ee&&(Ee[a]!==void 0||Ee[L]!==void 0)&&(Ke[a]=V0(e,U,a,void 0,j,!0)):delete Ke[a]);if(bt!==U)for(const a in bt)(!ce||!Wi(ce,a))&&(delete bt[a],p=!0)}p&&Uf(j,"set","$attrs")}function Ax(j,ce,Ee,Be){const[Ke,bt]=j.propsOptions;let W=!1,U;if(ce)for(let e in ce){if(Gd(e))continue;const p=ce[e];let L;Ke&&Wi(Ke,L=vf(e))?!bt||!bt.includes(L)?Ee[L]=p:(U||(U={}))[L]=p:Ep(j.emitsOptions,e)||(!(e in Be)||p!==Be[e])&&(Be[e]=p,W=!0)}if(bt){const e=$i(Ee),p=U||Mo;for(let L=0;L<bt.length;L++){const a=bt[L];Ee[a]=V0(Ke,e,a,p[a],j,!Wi(p,a))}}return W}function V0(j,ce,Ee,Be,Ke,bt){const W=j[Ee];if(W!=null){const U=Wi(W,"default");if(U&&Be===void 0){const e=W.default;if(W.type!==Function&&wi(e)){const{propsDefaults:p}=Ke;Ee in p?Be=p[Ee]:(Vh(Ke),Be=p[Ee]=e.call(null,ce),$c())}else Be=e}W[0]&&(bt&&!U?Be=!1:W[1]&&(Be===""||Be===Kh(Ee))&&(Be=!0))}return Be}function Mx(j,ce,Ee=!1){const Be=ce.propsCache,Ke=Be.get(j);if(Ke)return Ke;const bt=j.props,W={},U=[];let e=!1;if(!wi(j)){const L=a=>{e=!0;const[P,A]=Mx(a,ce,!0);js(W,P),A&&U.push(...A)};!Ee&&ce.mixins.length&&ce.mixins.forEach(L),j.extends&&L(j.extends),j.mixins&&j.mixins.forEach(L)}if(!bt&&!e)return Lo(j)&&Be.set(j,kh),kh;if(hi(bt))for(let L=0;L<bt.length;L++){const a=vf(bt[L]);x1(a)&&(W[a]=Mo)}else if(bt)for(const L in bt){const a=vf(L);if(x1(a)){const P=bt[L],A=W[a]=hi(P)||wi(P)?{type:P}:Object.assign({},P);if(A){const v=T1(Boolean,A.type),g=T1(String,A.type);A[0]=v>-1,A[1]=g<0||v<g,(v>-1||Wi(A,"default"))&&U.push(a)}}}const p=[W,U];return Lo(j)&&Be.set(j,p),p}function x1(j){return j[0]!=="$"}function b1(j){const ce=j&&j.toString().match(/^\s*function (\w+)/);return ce?ce[1]:j===null?"null":""}function w1(j,ce){return b1(j)===b1(ce)}function T1(j,ce){return hi(ce)?ce.findIndex(Ee=>w1(Ee,j)):wi(ce)&&w1(ce,j)?0:-1}const Sx=j=>j[0]==="_"||j==="$stable",zg=j=>hi(j)?j.map(lf):[lf(j)],oA=(j,ce,Ee)=>{if(ce._n)return ce;const Be=PT((...Ke)=>zg(ce(...Ke)),Ee);return Be._c=!1,Be},Ex=(j,ce,Ee)=>{const Be=j._ctx;for(const Ke in j){if(Sx(Ke))continue;const bt=j[Ke];if(wi(bt))ce[Ke]=oA(Ke,bt,Be);else if(bt!=null){const W=zg(bt);ce[Ke]=()=>W}}},Cx=(j,ce)=>{const Ee=zg(ce);j.slots.default=()=>Ee},sA=(j,ce)=>{if(j.vnode.shapeFlag&32){const Ee=ce._;Ee?(j.slots=$i(ce),qd(ce,"_",Ee)):Ex(ce,j.slots={})}else j.slots={},ce&&Cx(j,ce);qd(j.slots,Dp,1)},lA=(j,ce,Ee)=>{const{vnode:Be,slots:Ke}=j;let bt=!0,W=Mo;if(Be.shapeFlag&32){const U=ce._;U?Ee&&U===1?bt=!1:(js(Ke,ce),!Ee&&U===1&&delete Ke._):(bt=!ce.$stable,Ex(ce,Ke)),W=ce}else ce&&(Cx(j,ce),W={default:1});if(bt)for(const U in Ke)!Sx(U)&&!(U in W)&&delete Ke[U]};function Lx(){return{app:null,config:{isNativeTag:zw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uA=0;function fA(j,ce){return function(Be,Ke=null){wi(Be)||(Be=Object.assign({},Be)),Ke!=null&&!Lo(Ke)&&(Ke=null);const bt=Lx(),W=new Set;let U=!1;const e=bt.app={_uid:uA++,_component:Be,_props:Ke,_container:null,_context:bt,_instance:null,version:FA,get config(){return bt.config},set config(p){},use(p,...L){return W.has(p)||(p&&wi(p.install)?(W.add(p),p.install(e,...L)):wi(p)&&(W.add(p),p(e,...L))),e},mixin(p){return bt.mixins.includes(p)||bt.mixins.push(p),e},component(p,L){return L?(bt.components[p]=L,e):bt.components[p]},directive(p,L){return L?(bt.directives[p]=L,e):bt.directives[p]},mount(p,L,a){if(!U){const P=Ml(Be,Ke);return P.appContext=bt,L&&ce?ce(P,p):j(P,p,a),U=!0,e._container=p,p.__vue_app__=e,Ip(P.component)||P.component.proxy}},unmount(){U&&(j(null,e._container),delete e._container.__vue_app__)},provide(p,L){return bt.provides[p]=L,e}};return e}}function G0(j,ce,Ee,Be,Ke=!1){if(hi(j)){j.forEach((P,A)=>G0(P,ce&&(hi(ce)?ce[A]:ce),Ee,Be,Ke));return}if(Zd(Be)&&!Ke)return;const bt=Be.shapeFlag&4?Ip(Be.component)||Be.component.proxy:Be.el,W=Ke?null:bt,{i:U,r:e}=j,p=ce&&ce.r,L=U.refs===Mo?U.refs={}:U.refs,a=U.setupState;if(p!=null&&p!==e&&(is(p)?(L[p]=null,Wi(a,p)&&(a[p]=null)):Xs(p)&&(p.value=null)),wi(e))wc(e,U,12,[W,L]);else{const P=is(e),A=Xs(e);if(P||A){const v=()=>{if(j.f){const g=P?Wi(a,e)?a[e]:L[e]:e.value;Ke?hi(g)&&Ag(g,bt):hi(g)?g.includes(bt)||g.push(bt):P?(L[e]=[bt],Wi(a,e)&&(a[e]=L[e])):(e.value=[bt],j.k&&(L[j.k]=e.value))}else P?(L[e]=W,Wi(a,e)&&(a[e]=W)):A&&(e.value=W,j.k&&(L[j.k]=W))};W?(v.id=-1,Tl(v,Ee)):v()}}}const Tl=kT;function cA(j){return hA(j)}function hA(j,ce){const Ee=Vw();Ee.__VUE__=!0;const{insert:Be,remove:Ke,patchProp:bt,createElement:W,createText:U,createComment:e,setText:p,setElementText:L,parentNode:a,nextSibling:P,setScopeId:A=_u,insertStaticContent:v}=j,g=(Q,re,oe,Y=null,G=null,V=null,Z=!1,ae=null,ie=!!re.dynamicChildren)=>{if(Q===re)return;Q&&!Xc(Q,re)&&(Y=z(Q),F(Q,G,V,!0),Q=null),re.patchFlag===-2&&(ie=!1,re.dynamicChildren=null);const{type:J,ref:$,shapeFlag:se}=re;switch(J){case Rp:t(Q,re,oe,Y);break;case Fu:r(Q,re,oe,Y);break;case Xd:Q==null&&u(re,oe,Y,Z);break;case sf:d(Q,re,oe,Y,G,V,Z,ae,ie);break;default:se&1?c(Q,re,oe,Y,G,V,Z,ae,ie):se&6?S(Q,re,oe,Y,G,V,Z,ae,ie):(se&64||se&128)&&J.process(Q,re,oe,Y,G,V,Z,ae,ie,N)}$!=null&&G&&G0($,Q&&Q.ref,V,re||Q,!re)},t=(Q,re,oe,Y)=>{if(Q==null)Be(re.el=U(re.children),oe,Y);else{const G=re.el=Q.el;re.children!==Q.children&&p(G,re.children)}},r=(Q,re,oe,Y)=>{Q==null?Be(re.el=e(re.children||""),oe,Y):re.el=Q.el},u=(Q,re,oe,Y)=>{[Q.el,Q.anchor]=v(Q.children,re,oe,Y,Q.el,Q.anchor)},o=({el:Q,anchor:re},oe,Y)=>{let G;for(;Q&&Q!==re;)G=P(Q),Be(Q,oe,Y),Q=G;Be(re,oe,Y)},l=({el:Q,anchor:re})=>{let oe;for(;Q&&Q!==re;)oe=P(Q),Ke(Q),Q=oe;Ke(re)},c=(Q,re,oe,Y,G,V,Z,ae,ie)=>{Z=Z||re.type==="svg",Q==null?n(re,oe,Y,G,V,Z,ae,ie):T(Q,re,G,V,Z,ae,ie)},n=(Q,re,oe,Y,G,V,Z,ae)=>{let ie,J;const{type:$,props:se,shapeFlag:ee,transition:ue,dirs:ge}=Q;if(ie=Q.el=W(Q.type,V,se&&se.is,se),ee&8?L(ie,Q.children):ee&16&&h(Q.children,ie,null,Y,G,V&&$!=="foreignObject",Z,ae),ge&&Gc(Q,null,Y,"created"),se){for(const xe in se)xe!=="value"&&!Gd(xe)&&bt(ie,xe,null,se[xe],V,Q.children,Y,G,O);"value"in se&&bt(ie,"value",null,se.value),(J=se.onVnodeBeforeMount)&&af(J,Y,Q)}x(ie,Q,Q.scopeId,Z,Y),ge&&Gc(Q,null,Y,"beforeMount");const Te=(!G||G&&!G.pendingBranch)&&ue&&!ue.persisted;Te&&ue.beforeEnter(ie),Be(ie,re,oe),((J=se&&se.onVnodeMounted)||Te||ge)&&Tl(()=>{J&&af(J,Y,Q),Te&&ue.enter(ie),ge&&Gc(Q,null,Y,"mounted")},G)},x=(Q,re,oe,Y,G)=>{if(oe&&A(Q,oe),Y)for(let V=0;V<Y.length;V++)A(Q,Y[V]);if(G){let V=G.subTree;if(re===V){const Z=G.vnode;x(Q,Z,Z.scopeId,Z.slotScopeIds,G.parent)}}},h=(Q,re,oe,Y,G,V,Z,ae,ie=0)=>{for(let J=ie;J<Q.length;J++){const $=Q[J]=ae?gc(Q[J]):lf(Q[J]);g(null,$,re,oe,Y,G,V,Z,ae)}},T=(Q,re,oe,Y,G,V,Z)=>{const ae=re.el=Q.el;let{patchFlag:ie,dynamicChildren:J,dirs:$}=re;ie|=Q.patchFlag&16;const se=Q.props||Mo,ee=re.props||Mo;let ue;oe&&Wc(oe,!1),(ue=ee.onVnodeBeforeUpdate)&&af(ue,oe,re,Q),$&&Gc(re,Q,oe,"beforeUpdate"),oe&&Wc(oe,!0);const ge=G&&re.type!=="foreignObject";if(J?f(Q.dynamicChildren,J,ae,oe,Y,ge,V):Z||b(Q,re,ae,null,oe,Y,ge,V,!1),ie>0){if(ie&16)s(ae,re,se,ee,oe,Y,G);else if(ie&2&&se.class!==ee.class&&bt(ae,"class",null,ee.class,G),ie&4&&bt(ae,"style",se.style,ee.style,G),ie&8){const Te=re.dynamicProps;for(let xe=0;xe<Te.length;xe++){const Pe=Te[xe],Ie=se[Pe],Ae=ee[Pe];(Ae!==Ie||Pe==="value")&&bt(ae,Pe,Ie,Ae,G,Q.children,oe,Y,O)}}ie&1&&Q.children!==re.children&&L(ae,re.children)}else!Z&&J==null&&s(ae,re,se,ee,oe,Y,G);((ue=ee.onVnodeUpdated)||$)&&Tl(()=>{ue&&af(ue,oe,re,Q),$&&Gc(re,Q,oe,"updated")},Y)},f=(Q,re,oe,Y,G,V,Z)=>{for(let ae=0;ae<re.length;ae++){const ie=Q[ae],J=re[ae],$=ie.el&&(ie.type===sf||!Xc(ie,J)||ie.shapeFlag&70)?a(ie.el):oe;g(ie,J,$,null,Y,G,V,Z,!0)}},s=(Q,re,oe,Y,G,V,Z)=>{if(oe!==Y){if(oe!==Mo)for(const ae in oe)!Gd(ae)&&!(ae in Y)&&bt(Q,ae,oe[ae],null,Z,re.children,G,V,O);for(const ae in Y){if(Gd(ae))continue;const ie=Y[ae],J=oe[ae];ie!==J&&ae!=="value"&&bt(Q,ae,J,ie,Z,re.children,G,V,O)}"value"in Y&&bt(Q,"value",oe.value,Y.value)}},d=(Q,re,oe,Y,G,V,Z,ae,ie)=>{const J=re.el=Q?Q.el:U(""),$=re.anchor=Q?Q.anchor:U("");let{patchFlag:se,dynamicChildren:ee,slotScopeIds:ue}=re;ue&&(ae=ae?ae.concat(ue):ue),Q==null?(Be(J,oe,Y),Be($,oe,Y),h(re.children,oe,$,G,V,Z,ae,ie)):se>0&&se&64&&ee&&Q.dynamicChildren?(f(Q.dynamicChildren,ee,oe,G,V,Z,ae),(re.key!=null||G&&re===G.subTree)&&Px(Q,re,!0)):b(Q,re,oe,$,G,V,Z,ae,ie)},S=(Q,re,oe,Y,G,V,Z,ae,ie)=>{re.slotScopeIds=ae,Q==null?re.shapeFlag&512?G.ctx.activate(re,oe,Y,Z,ie):M(re,oe,Y,G,V,Z,ie):C(Q,re,ie)},M=(Q,re,oe,Y,G,V,Z)=>{const ae=Q.component=MA(Q,Y,G);if(Lp(Q)&&(ae.ctx.renderer=N),EA(ae),ae.asyncDep){if(G&&G.registerDep(ae,y),!Q.el){const ie=ae.subTree=Ml(Fu);r(null,ie,re,oe)}return}y(ae,Q,re,oe,G,V,Z)},C=(Q,re,oe)=>{const Y=re.component=Q.component;if(IT(Q,re,oe))if(Y.asyncDep&&!Y.asyncResolved){w(Y,re,oe);return}else Y.next=re,ST(Y.update),Y.update();else re.el=Q.el,Y.vnode=re},y=(Q,re,oe,Y,G,V,Z)=>{const ae=()=>{if(Q.isMounted){let{next:$,bu:se,u:ee,parent:ue,vnode:ge}=Q,Te=$,xe;Wc(Q,!1),$?($.el=ge.el,w(Q,$,Z)):$=ge,se&&d0(se),(xe=$.props&&$.props.onVnodeBeforeUpdate)&&af(xe,ue,$,ge),Wc(Q,!0);const Pe=p0(Q),Ie=Q.subTree;Q.subTree=Pe,g(Ie,Pe,a(Ie.el),z(Ie),Q,G,V),$.el=Pe.el,Te===null&&_T(Q,Pe.el),ee&&Tl(ee,G),(xe=$.props&&$.props.onVnodeUpdated)&&Tl(()=>af(xe,ue,$,ge),G)}else{let $;const{el:se,props:ee}=re,{bm:ue,m:ge,parent:Te}=Q,xe=Zd(re);if(Wc(Q,!1),ue&&d0(ue),!xe&&($=ee&&ee.onVnodeBeforeMount)&&af($,Te,re),Wc(Q,!0),se&&q){const Pe=()=>{Q.subTree=p0(Q),q(se,Q.subTree,Q,G,null)};xe?re.type.__asyncLoader().then(()=>!Q.isUnmounted&&Pe()):Pe()}else{const Pe=Q.subTree=p0(Q);g(null,Pe,oe,Y,Q,G,V),re.el=Pe.el}if(ge&&Tl(ge,G),!xe&&($=ee&&ee.onVnodeMounted)){const Pe=re;Tl(()=>af($,Te,Pe),G)}(re.shapeFlag&256||Te&&Zd(Te.vnode)&&Te.vnode.shapeFlag&256)&&Q.a&&Tl(Q.a,G),Q.isMounted=!0,re=oe=Y=null}},ie=Q.effect=new Cg(ae,()=>Fg(J),Q.scope),J=Q.update=()=>ie.run();J.id=Q.uid,Wc(Q,!0),J()},w=(Q,re,oe)=>{re.component=Q;const Y=Q.vnode.props;Q.vnode=re,Q.next=null,iA(Q,re.props,Y,oe),lA(Q,re.children,oe),Jh(),v1(),Qh()},b=(Q,re,oe,Y,G,V,Z,ae,ie=!1)=>{const J=Q&&Q.children,$=Q?Q.shapeFlag:0,se=re.children,{patchFlag:ee,shapeFlag:ue}=re;if(ee>0){if(ee&128){E(J,se,oe,Y,G,V,Z,ae,ie);return}else if(ee&256){i(J,se,oe,Y,G,V,Z,ae,ie);return}}ue&8?($&16&&O(J,G,V),se!==J&&L(oe,se)):$&16?ue&16?E(J,se,oe,Y,G,V,Z,ae,ie):O(J,G,V,!0):($&8&&L(oe,""),ue&16&&h(se,oe,Y,G,V,Z,ae,ie))},i=(Q,re,oe,Y,G,V,Z,ae,ie)=>{Q=Q||kh,re=re||kh;const J=Q.length,$=re.length,se=Math.min(J,$);let ee;for(ee=0;ee<se;ee++){const ue=re[ee]=ie?gc(re[ee]):lf(re[ee]);g(Q[ee],ue,oe,null,G,V,Z,ae,ie)}J>$?O(Q,G,V,!0,!1,se):h(re,oe,Y,G,V,Z,ae,ie,se)},E=(Q,re,oe,Y,G,V,Z,ae,ie)=>{let J=0;const $=re.length;let se=Q.length-1,ee=$-1;for(;J<=se&&J<=ee;){const ue=Q[J],ge=re[J]=ie?gc(re[J]):lf(re[J]);if(Xc(ue,ge))g(ue,ge,oe,null,G,V,Z,ae,ie);else break;J++}for(;J<=se&&J<=ee;){const ue=Q[se],ge=re[ee]=ie?gc(re[ee]):lf(re[ee]);if(Xc(ue,ge))g(ue,ge,oe,null,G,V,Z,ae,ie);else break;se--,ee--}if(J>se){if(J<=ee){const ue=ee+1,ge=ue<$?re[ue].el:Y;for(;J<=ee;)g(null,re[J]=ie?gc(re[J]):lf(re[J]),oe,ge,G,V,Z,ae,ie),J++}}else if(J>ee)for(;J<=se;)F(Q[J],G,V,!0),J++;else{const ue=J,ge=J,Te=new Map;for(J=ge;J<=ee;J++){const We=re[J]=ie?gc(re[J]):lf(re[J]);We.key!=null&&Te.set(We.key,J)}let xe,Pe=0;const Ie=ee-ge+1;let Ae=!1,be=0;const _e=new Array(Ie);for(J=0;J<Ie;J++)_e[J]=0;for(J=ue;J<=se;J++){const We=Q[J];if(Pe>=Ie){F(We,G,V,!0);continue}let ze;if(We.key!=null)ze=Te.get(We.key);else for(xe=ge;xe<=ee;xe++)if(_e[xe-ge]===0&&Xc(We,re[xe])){ze=xe;break}ze===void 0?F(We,G,V,!0):(_e[ze-ge]=J+1,ze>=be?be=ze:Ae=!0,g(We,re[ze],oe,null,G,V,Z,ae,ie),Pe++)}const Ve=Ae?vA(_e):kh;for(xe=Ve.length-1,J=Ie-1;J>=0;J--){const We=ge+J,ze=re[We],Ze=We+1<$?re[We+1].el:Y;_e[J]===0?g(null,ze,oe,Ze,G,V,Z,ae,ie):Ae&&(xe<0||J!==Ve[xe]?m(ze,oe,Ze,2):xe--)}}},m=(Q,re,oe,Y,G=null)=>{const{el:V,type:Z,transition:ae,children:ie,shapeFlag:J}=Q;if(J&6){m(Q.component.subTree,re,oe,Y);return}if(J&128){Q.suspense.move(re,oe,Y);return}if(J&64){Z.move(Q,re,oe,N);return}if(Z===sf){Be(V,re,oe);for(let se=0;se<ie.length;se++)m(ie[se],re,oe,Y);Be(Q.anchor,re,oe);return}if(Z===Xd){o(Q,re,oe);return}if(Y!==2&&J&1&&ae)if(Y===0)ae.beforeEnter(V),Be(V,re,oe),Tl(()=>ae.enter(V),G);else{const{leave:se,delayLeave:ee,afterLeave:ue}=ae,ge=()=>Be(V,re,oe),Te=()=>{se(V,()=>{ge(),ue&&ue()})};ee?ee(V,ge,Te):Te()}else Be(V,re,oe)},F=(Q,re,oe,Y=!1,G=!1)=>{const{type:V,props:Z,ref:ae,children:ie,dynamicChildren:J,shapeFlag:$,patchFlag:se,dirs:ee}=Q;if(ae!=null&&G0(ae,null,oe,Q,!0),$&256){re.ctx.deactivate(Q);return}const ue=$&1&&ee,ge=!Zd(Q);let Te;if(ge&&(Te=Z&&Z.onVnodeBeforeUnmount)&&af(Te,re,Q),$&6)I(Q.component,oe,Y);else{if($&128){Q.suspense.unmount(oe,Y);return}ue&&Gc(Q,null,re,"beforeUnmount"),$&64?Q.type.remove(Q,re,oe,G,N,Y):J&&(V!==sf||se>0&&se&64)?O(J,re,oe,!1,!0):(V===sf&&se&384||!G&&$&16)&&O(ie,re,oe),Y&&_(Q)}(ge&&(Te=Z&&Z.onVnodeUnmounted)||ue)&&Tl(()=>{Te&&af(Te,re,Q),ue&&Gc(Q,null,re,"unmounted")},oe)},_=Q=>{const{type:re,el:oe,anchor:Y,transition:G}=Q;if(re===sf){B(oe,Y);return}if(re===Xd){l(Q);return}const V=()=>{Ke(oe),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(Q.shapeFlag&1&&G&&!G.persisted){const{leave:Z,delayLeave:ae}=G,ie=()=>Z(oe,V);ae?ae(Q.el,V,ie):ie()}else V()},B=(Q,re)=>{let oe;for(;Q!==re;)oe=P(Q),Ke(Q),Q=oe;Ke(re)},I=(Q,re,oe)=>{const{bum:Y,scope:G,update:V,subTree:Z,um:ae}=Q;Y&&d0(Y),G.stop(),V&&(V.active=!1,F(Z,Q,re,oe)),ae&&Tl(ae,re),Tl(()=>{Q.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},O=(Q,re,oe,Y=!1,G=!1,V=0)=>{for(let Z=V;Z<Q.length;Z++)F(Q[Z],re,oe,Y,G)},z=Q=>Q.shapeFlag&6?z(Q.component.subTree):Q.shapeFlag&128?Q.suspense.next():P(Q.anchor||Q.el),k=(Q,re,oe)=>{Q==null?re._vnode&&F(re._vnode,null,null,!0):g(re._vnode||null,Q,re,null,null,null,oe),v1(),ux(),re._vnode=Q},N={p:g,um:F,m,r:_,mt:M,mc:h,pc:b,pbc:f,n:z,o:j};let K,q;return ce&&([K,q]=ce(N)),{render:k,hydrate:K,createApp:fA(k,K)}}function Wc({effect:j,update:ce},Ee){j.allowRecurse=ce.allowRecurse=Ee}function Px(j,ce,Ee=!1){const Be=j.children,Ke=ce.children;if(hi(Be)&&hi(Ke))for(let bt=0;bt<Be.length;bt++){const W=Be[bt];let U=Ke[bt];U.shapeFlag&1&&!U.dynamicChildren&&((U.patchFlag<=0||U.patchFlag===32)&&(U=Ke[bt]=gc(Ke[bt]),U.el=W.el),Ee||Px(W,U)),U.type===Rp&&(U.el=W.el)}}function vA(j){const ce=j.slice(),Ee=[0];let Be,Ke,bt,W,U;const e=j.length;for(Be=0;Be<e;Be++){const p=j[Be];if(p!==0){if(Ke=Ee[Ee.length-1],j[Ke]<p){ce[Be]=Ke,Ee.push(Be);continue}for(bt=0,W=Ee.length-1;bt<W;)U=bt+W>>1,j[Ee[U]]<p?bt=U+1:W=U;p<j[Ee[bt]]&&(bt>0&&(ce[Be]=Ee[bt-1]),Ee[bt]=Be)}}for(bt=Ee.length,W=Ee[bt-1];bt-- >0;)Ee[bt]=W,W=ce[W];return Ee}const dA=j=>j.__isTeleport,sf=Symbol(void 0),Rp=Symbol(void 0),Fu=Symbol(void 0),Xd=Symbol(void 0),_v=[];let Iu=null;function pA(j=!1){_v.push(Iu=j?null:[])}function gA(){_v.pop(),Iu=_v[_v.length-1]||null}let Wv=1;function A1(j){Wv+=j}function Rx(j){return j.dynamicChildren=Wv>0?Iu||kh:null,gA(),Wv>0&&Iu&&Iu.push(j),j}function w8(j,ce,Ee,Be,Ke,bt){return Rx(Ix(j,ce,Ee,Be,Ke,bt,!0))}function yA(j,ce,Ee,Be,Ke){return Rx(Ml(j,ce,Ee,Be,Ke,!0))}function W0(j){return j?j.__v_isVNode===!0:!1}function Xc(j,ce){return j.type===ce.type&&j.key===ce.key}const Dp="__vInternal",Dx=({key:j})=>j??null,jd=({ref:j,ref_key:ce,ref_for:Ee})=>j!=null?is(j)||Xs(j)||wi(j)?{i:Ul,r:j,k:ce,f:!!Ee}:j:null;function Ix(j,ce=null,Ee=null,Be=0,Ke=null,bt=j===sf?0:1,W=!1,U=!1){const e={__v_isVNode:!0,__v_skip:!0,type:j,props:ce,key:ce&&Dx(ce),ref:ce&&jd(ce),scopeId:Cp,slotScopeIds:null,children:Ee,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:bt,patchFlag:Be,dynamicProps:Ke,dynamicChildren:null,appContext:null,ctx:Ul};return U?(Og(e,Ee),bt&128&&j.normalize(e)):Ee&&(e.shapeFlag|=is(Ee)?8:16),Wv>0&&!W&&Iu&&(e.patchFlag>0||bt&6)&&e.patchFlag!==32&&Iu.push(e),e}const Ml=mA;function mA(j,ce=null,Ee=null,Be=0,Ke=null,bt=!1){if((!j||j===JT)&&(j=Fu),W0(j)){const U=Ac(j,ce,!0);return Ee&&Og(U,Ee),Wv>0&&!bt&&Iu&&(U.shapeFlag&6?Iu[Iu.indexOf(j)]=U:Iu.push(U)),U.patchFlag|=-2,U}if(DA(j)&&(j=j.__vccOpts),ce){ce=xA(ce);let{class:U,style:e}=ce;U&&!is(U)&&(ce.class=wg(U)),Lo(e)&&(qm(e)&&!hi(e)&&(e=js({},e)),ce.style=bg(e))}const W=is(j)?1:FT(j)?128:dA(j)?64:Lo(j)?4:wi(j)?2:0;return Ix(j,ce,Ee,Be,Ke,W,bt,!0)}function xA(j){return j?qm(j)||Dp in j?js({},j):j:null}function Ac(j,ce,Ee=!1){const{props:Be,ref:Ke,patchFlag:bt,children:W}=j,U=ce?wA(Be||{},ce):Be;return{__v_isVNode:!0,__v_skip:!0,type:j.type,props:U,key:U&&Dx(U),ref:ce&&ce.ref?Ee&&Ke?hi(Ke)?Ke.concat(jd(ce)):[Ke,jd(ce)]:jd(ce):Ke,scopeId:j.scopeId,slotScopeIds:j.slotScopeIds,children:W,target:j.target,targetAnchor:j.targetAnchor,staticCount:j.staticCount,shapeFlag:j.shapeFlag,patchFlag:ce&&j.type!==sf?bt===-1?16:bt|16:bt,dynamicProps:j.dynamicProps,dynamicChildren:j.dynamicChildren,appContext:j.appContext,dirs:j.dirs,transition:j.transition,component:j.component,suspense:j.suspense,ssContent:j.ssContent&&Ac(j.ssContent),ssFallback:j.ssFallback&&Ac(j.ssFallback),el:j.el,anchor:j.anchor,ctx:j.ctx}}function bA(j=" ",ce=0){return Ml(Rp,null,j,ce)}function T8(j,ce){const Ee=Ml(Xd,null,j);return Ee.staticCount=ce,Ee}function A8(j="",ce=!1){return ce?(pA(),yA(Fu,null,j)):Ml(Fu,null,j)}function lf(j){return j==null||typeof j=="boolean"?Ml(Fu):hi(j)?Ml(sf,null,j.slice()):typeof j=="object"?gc(j):Ml(Rp,null,String(j))}function gc(j){return j.el===null&&j.patchFlag!==-1||j.memo?j:Ac(j)}function Og(j,ce){let Ee=0;const{shapeFlag:Be}=j;if(ce==null)ce=null;else if(hi(ce))Ee=16;else if(typeof ce=="object")if(Be&65){const Ke=ce.default;Ke&&(Ke._c&&(Ke._d=!1),Og(j,Ke()),Ke._c&&(Ke._d=!0));return}else{Ee=32;const Ke=ce._;!Ke&&!(Dp in ce)?ce._ctx=Ul:Ke===3&&Ul&&(Ul.slots._===1?ce._=1:(ce._=2,j.patchFlag|=1024))}else wi(ce)?(ce={default:ce,_ctx:Ul},Ee=32):(ce=String(ce),Be&64?(Ee=16,ce=[bA(ce)]):Ee=8);j.children=ce,j.shapeFlag|=Ee}function wA(...j){const ce={};for(let Ee=0;Ee<j.length;Ee++){const Be=j[Ee];for(const Ke in Be)if(Ke==="class")ce.class!==Be.class&&(ce.class=wg([ce.class,Be.class]));else if(Ke==="style")ce.style=bg([ce.style,Be.style]);else if(bp(Ke)){const bt=ce[Ke],W=Be[Ke];W&&bt!==W&&!(hi(bt)&&bt.includes(W))&&(ce[Ke]=bt?[].concat(bt,W):W)}else Ke!==""&&(ce[Ke]=Be[Ke])}return ce}function af(j,ce,Ee,Be=null){au(j,ce,7,[Ee,Be])}const TA=Lx();let AA=0;function MA(j,ce,Ee){const Be=j.type,Ke=(ce?ce.appContext:j.appContext)||TA,bt={uid:AA++,vnode:j,type:Be,parent:ce,appContext:Ke,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ce?ce.provides:Object.create(Ke.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mx(Be,Ke),emitsOptions:cx(Be,Ke),emit:null,emitted:null,propsDefaults:Mo,inheritAttrs:Be.inheritAttrs,ctx:Mo,data:Mo,props:Mo,attrs:Mo,slots:Mo,refs:Mo,setupState:Mo,setupContext:null,suspense:Ee,suspenseId:Ee?Ee.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return bt.ctx={_:bt},bt.root=ce?ce.root:bt,bt.emit=LT.bind(null,bt),j.ce&&j.ce(bt),bt}let ds=null;const SA=()=>ds||Ul,Vh=j=>{ds=j,j.scope.on()},$c=()=>{ds&&ds.scope.off(),ds=null};function _x(j){return j.vnode.shapeFlag&4}let Yv=!1;function EA(j,ce=!1){Yv=ce;const{props:Ee,children:Be}=j.vnode,Ke=_x(j);aA(j,Ee,Ke,ce),sA(j,Be);const bt=Ke?CA(j,ce):void 0;return Yv=!1,bt}function CA(j,ce){const Ee=j.type;j.accessCache=Object.create(null),j.proxy=ex(new Proxy(j.ctx,$T));const{setup:Be}=Ee;if(Be){const Ke=j.setupContext=Be.length>1?PA(j):null;Vh(j),Jh();const bt=wc(Be,j,0,[j.props,Ke]);if(Qh(),$c(),Bm(bt)){if(bt.then($c,$c),ce)return bt.then(W=>{M1(j,W,ce)}).catch(W=>{Sp(W,j,0)});j.asyncDep=bt}else M1(j,bt,ce)}else Fx(j,ce)}function M1(j,ce,Ee){wi(ce)?j.type.__ssrInlineRender?j.ssrRender=ce:j.render=ce:Lo(ce)&&(j.setupState=ax(ce)),Fx(j,Ee)}let S1;function Fx(j,ce,Ee){const Be=j.type;if(!j.render){if(!ce&&S1&&!Be.render){const Ke=Be.template||kg(j).template;if(Ke){const{isCustomElement:bt,compilerOptions:W}=j.appContext.config,{delimiters:U,compilerOptions:e}=Be,p=js(js({isCustomElement:bt,delimiters:U},W),e);Be.render=S1(Ke,p)}}j.render=Be.render||_u}Vh(j),Jh(),qT(j),Qh(),$c()}function LA(j){return new Proxy(j.attrs,{get(ce,Ee){return Hl(j,"get","$attrs"),ce[Ee]}})}function PA(j){const ce=Be=>{j.exposed=Be||{}};let Ee;return{get attrs(){return Ee||(Ee=LA(j))},slots:j.slots,emit:j.emit,expose:ce}}function Ip(j){if(j.exposed)return j.exposeProxy||(j.exposeProxy=new Proxy(ax(ex(j.exposed)),{get(ce,Ee){if(Ee in ce)return ce[Ee];if(Ee in Iv)return Iv[Ee](j)},has(ce,Ee){return Ee in ce||Ee in Iv}}))}function RA(j,ce=!0){return wi(j)?j.displayName||j.name:j.name||ce&&j.__name}function DA(j){return wi(j)&&"__vccOpts"in j}const tu=(j,ce)=>TT(j,ce,Yv);function kx(j,ce,Ee){const Be=arguments.length;return Be===2?Lo(ce)&&!hi(ce)?W0(ce)?Ml(j,null,[ce]):Ml(j,ce):Ml(j,null,ce):(Be>3?Ee=Array.prototype.slice.call(arguments,2):Be===3&&W0(Ee)&&(Ee=[Ee]),Ml(j,ce,Ee))}const IA=Symbol(""),_A=()=>Nf(IA),FA="3.2.45",kA="http://www.w3.org/2000/svg",jc=typeof document<"u"?document:null,E1=jc&&jc.createElement("template"),zA={insert:(j,ce,Ee)=>{ce.insertBefore(j,Ee||null)},remove:j=>{const ce=j.parentNode;ce&&ce.removeChild(j)},createElement:(j,ce,Ee,Be)=>{const Ke=ce?jc.createElementNS(kA,j):jc.createElement(j,Ee?{is:Ee}:void 0);return j==="select"&&Be&&Be.multiple!=null&&Ke.setAttribute("multiple",Be.multiple),Ke},createText:j=>jc.createTextNode(j),createComment:j=>jc.createComment(j),setText:(j,ce)=>{j.nodeValue=ce},setElementText:(j,ce)=>{j.textContent=ce},parentNode:j=>j.parentNode,nextSibling:j=>j.nextSibling,querySelector:j=>jc.querySelector(j),setScopeId(j,ce){j.setAttribute(ce,"")},insertStaticContent(j,ce,Ee,Be,Ke,bt){const W=Ee?Ee.previousSibling:ce.lastChild;if(Ke&&(Ke===bt||Ke.nextSibling))for(;ce.insertBefore(Ke.cloneNode(!0),Ee),!(Ke===bt||!(Ke=Ke.nextSibling)););else{E1.innerHTML=Be?`<svg>${j}</svg>`:j;const U=E1.content;if(Be){const e=U.firstChild;for(;e.firstChild;)U.appendChild(e.firstChild);U.removeChild(e)}ce.insertBefore(U,Ee)}return[W?W.nextSibling:ce.firstChild,Ee?Ee.previousSibling:ce.lastChild]}};function OA(j,ce,Ee){const Be=j._vtc;Be&&(ce=(ce?[ce,...Be]:[...Be]).join(" ")),ce==null?j.removeAttribute("class"):Ee?j.setAttribute("class",ce):j.className=ce}function BA(j,ce,Ee){const Be=j.style,Ke=is(Ee);if(Ee&&!Ke){for(const bt in Ee)Y0(Be,bt,Ee[bt]);if(ce&&!is(ce))for(const bt in ce)Ee[bt]==null&&Y0(Be,bt,"")}else{const bt=Be.display;Ke?ce!==Ee&&(Be.cssText=Ee):ce&&j.removeAttribute("style"),"_vod"in j&&(Be.display=bt)}}const C1=/\s*!important$/;function Y0(j,ce,Ee){if(hi(Ee))Ee.forEach(Be=>Y0(j,ce,Be));else if(Ee==null&&(Ee=""),ce.startsWith("--"))j.setProperty(ce,Ee);else{const Be=NA(j,ce);C1.test(Ee)?j.setProperty(Kh(Be),Ee.replace(C1,""),"important"):j[Be]=Ee}}const L1=["Webkit","Moz","ms"],m0={};function NA(j,ce){const Ee=m0[ce];if(Ee)return Ee;let Be=vf(ce);if(Be!=="filter"&&Be in j)return m0[ce]=Be;Be=Ap(Be);for(let Ke=0;Ke<L1.length;Ke++){const bt=L1[Ke]+Be;if(bt in j)return m0[ce]=bt}return ce}const P1="http://www.w3.org/1999/xlink";function UA(j,ce,Ee,Be,Ke){if(Be&&ce.startsWith("xlink:"))Ee==null?j.removeAttributeNS(P1,ce.slice(6,ce.length)):j.setAttributeNS(P1,ce,Ee);else{const bt=kw(ce);Ee==null||bt&&!km(Ee)?j.removeAttribute(ce):j.setAttribute(ce,bt?"":Ee)}}function HA(j,ce,Ee,Be,Ke,bt,W){if(ce==="innerHTML"||ce==="textContent"){Be&&W(Be,Ke,bt),j[ce]=Ee??"";return}if(ce==="value"&&j.tagName!=="PROGRESS"&&!j.tagName.includes("-")){j._value=Ee;const e=Ee??"";(j.value!==e||j.tagName==="OPTION")&&(j.value=e),Ee==null&&j.removeAttribute(ce);return}let U=!1;if(Ee===""||Ee==null){const e=typeof j[ce];e==="boolean"?Ee=km(Ee):Ee==null&&e==="string"?(Ee="",U=!0):e==="number"&&(Ee=0,U=!0)}try{j[ce]=Ee}catch{}U&&j.removeAttribute(ce)}function VA(j,ce,Ee,Be){j.addEventListener(ce,Ee,Be)}function GA(j,ce,Ee,Be){j.removeEventListener(ce,Ee,Be)}function WA(j,ce,Ee,Be,Ke=null){const bt=j._vei||(j._vei={}),W=bt[ce];if(Be&&W)W.value=Be;else{const[U,e]=YA(ce);if(Be){const p=bt[ce]=jA(Be,Ke);VA(j,U,p,e)}else W&&(GA(j,U,W,e),bt[ce]=void 0)}}const R1=/(?:Once|Passive|Capture)$/;function YA(j){let ce;if(R1.test(j)){ce={};let Be;for(;Be=j.match(R1);)j=j.slice(0,j.length-Be[0].length),ce[Be[0].toLowerCase()]=!0}return[j[2]===":"?j.slice(3):Kh(j.slice(2)),ce]}let x0=0;const ZA=Promise.resolve(),XA=()=>x0||(ZA.then(()=>x0=0),x0=Date.now());function jA(j,ce){const Ee=Be=>{if(!Be._vts)Be._vts=Date.now();else if(Be._vts<=Ee.attached)return;au(KA(Be,Ee.value),ce,5,[Be])};return Ee.value=j,Ee.attached=XA(),Ee}function KA(j,ce){if(hi(ce)){const Ee=j.stopImmediatePropagation;return j.stopImmediatePropagation=()=>{Ee.call(j),j._stopped=!0},ce.map(Be=>Ke=>!Ke._stopped&&Be&&Be(Ke))}else return ce}const D1=/^on[a-z]/,JA=(j,ce,Ee,Be,Ke=!1,bt,W,U,e)=>{ce==="class"?OA(j,Be,Ke):ce==="style"?BA(j,Ee,Be):bp(ce)?Tg(ce)||WA(j,ce,Ee,Be,W):(ce[0]==="."?(ce=ce.slice(1),!0):ce[0]==="^"?(ce=ce.slice(1),!1):QA(j,ce,Be,Ke))?HA(j,ce,Be,bt,W,U,e):(ce==="true-value"?j._trueValue=Be:ce==="false-value"&&(j._falseValue=Be),UA(j,ce,Be,Ke))};function QA(j,ce,Ee,Be){return Be?!!(ce==="innerHTML"||ce==="textContent"||ce in j&&D1.test(ce)&&wi(Ee)):ce==="spellcheck"||ce==="draggable"||ce==="translate"||ce==="form"||ce==="list"&&j.tagName==="INPUT"||ce==="type"&&j.tagName==="TEXTAREA"||D1.test(ce)&&is(Ee)?!1:ce in j}const $A={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};NT.props;const qA=["ctrl","shift","alt","meta"],e5={stop:j=>j.stopPropagation(),prevent:j=>j.preventDefault(),self:j=>j.target!==j.currentTarget,ctrl:j=>!j.ctrlKey,shift:j=>!j.shiftKey,alt:j=>!j.altKey,meta:j=>!j.metaKey,left:j=>"button"in j&&j.button!==0,middle:j=>"button"in j&&j.button!==1,right:j=>"button"in j&&j.button!==2,exact:(j,ce)=>qA.some(Ee=>j[`${Ee}Key`]&&!ce.includes(Ee))},M8=(j,ce)=>(Ee,...Be)=>{for(let Ke=0;Ke<ce.length;Ke++){const bt=e5[ce[Ke]];if(bt&&bt(Ee,ce))return}return j(Ee,...Be)},S8={beforeMount(j,{value:ce},{transition:Ee}){j._vod=j.style.display==="none"?"":j.style.display,Ee&&ce?Ee.beforeEnter(j):bv(j,ce)},mounted(j,{value:ce},{transition:Ee}){Ee&&ce&&Ee.enter(j)},updated(j,{value:ce,oldValue:Ee},{transition:Be}){!ce!=!Ee&&(Be?ce?(Be.beforeEnter(j),bv(j,!0),Be.enter(j)):Be.leave(j,()=>{bv(j,!1)}):bv(j,ce))},beforeUnmount(j,{value:ce}){bv(j,ce)}};function bv(j,ce){j.style.display=ce?j._vod:"none"}const t5=js({patchProp:JA},zA);let I1;function r5(){return I1||(I1=cA(t5))}const E8=(...j)=>{const ce=r5().createApp(...j),{mount:Ee}=ce;return ce.mount=Be=>{const Ke=n5(Be);if(!Ke)return;const bt=ce._component;!wi(bt)&&!bt.render&&!bt.template&&(bt.template=Ke.innerHTML),Ke.innerHTML="";const W=Ee(Ke,!1,Ke instanceof SVGElement);return Ke instanceof Element&&(Ke.removeAttribute("v-cloak"),Ke.setAttribute("data-v-app","")),W},ce};function n5(j){return is(j)?document.querySelector(j):j}var a5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i5(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var Z0={},o5={get exports(){return Z0},set exports(j){Z0=j}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(j){(function(ce,Ee){j.exports=ce.document?Ee(ce,!0):function(Be){if(!Be.document)throw new Error("jQuery requires a window with a document");return Ee(Be)}})(typeof window<"u"?window:a5,function(ce,Ee){var Be=[],Ke=Object.getPrototypeOf,bt=Be.slice,W=Be.flat?function(me){return Be.flat.call(me)}:function(me){return Be.concat.apply([],me)},U=Be.push,e=Be.indexOf,p={},L=p.toString,a=p.hasOwnProperty,P=a.toString,A=P.call(Object),v={},g=function(Ue){return typeof Ue=="function"&&typeof Ue.nodeType!="number"&&typeof Ue.item!="function"},t=function(Ue){return Ue!=null&&Ue===Ue.window},r=ce.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function o(me,Ue,et){et=et||r;var ft,kt,_t=et.createElement("script");if(_t.text=me,Ue)for(ft in u)kt=Ue[ft]||Ue.getAttribute&&Ue.getAttribute(ft),kt&&_t.setAttribute(ft,kt);et.head.appendChild(_t).parentNode.removeChild(_t)}function l(me){return me==null?me+"":typeof me=="object"||typeof me=="function"?p[L.call(me)]||"object":typeof me}var c="3.6.3",n=function(me,Ue){return new n.fn.init(me,Ue)};n.fn=n.prototype={jquery:c,constructor:n,length:0,toArray:function(){return bt.call(this)},get:function(me){return me==null?bt.call(this):me<0?this[me+this.length]:this[me]},pushStack:function(me){var Ue=n.merge(this.constructor(),me);return Ue.prevObject=this,Ue},each:function(me){return n.each(this,me)},map:function(me){return this.pushStack(n.map(this,function(Ue,et){return me.call(Ue,et,Ue)}))},slice:function(){return this.pushStack(bt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(n.grep(this,function(me,Ue){return(Ue+1)%2}))},odd:function(){return this.pushStack(n.grep(this,function(me,Ue){return Ue%2}))},eq:function(me){var Ue=this.length,et=+me+(me<0?Ue:0);return this.pushStack(et>=0&&et<Ue?[this[et]]:[])},end:function(){return this.prevObject||this.constructor()},push:U,sort:Be.sort,splice:Be.splice},n.extend=n.fn.extend=function(){var me,Ue,et,ft,kt,_t,Wt=arguments[0]||{},Gt=1,Ht=arguments.length,nr=!1;for(typeof Wt=="boolean"&&(nr=Wt,Wt=arguments[Gt]||{},Gt++),typeof Wt!="object"&&!g(Wt)&&(Wt={}),Gt===Ht&&(Wt=this,Gt--);Gt<Ht;Gt++)if((me=arguments[Gt])!=null)for(Ue in me)ft=me[Ue],!(Ue==="__proto__"||Wt===ft)&&(nr&&ft&&(n.isPlainObject(ft)||(kt=Array.isArray(ft)))?(et=Wt[Ue],kt&&!Array.isArray(et)?_t=[]:!kt&&!n.isPlainObject(et)?_t={}:_t=et,kt=!1,Wt[Ue]=n.extend(nr,_t,ft)):ft!==void 0&&(Wt[Ue]=ft));return Wt},n.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(me){throw new Error(me)},noop:function(){},isPlainObject:function(me){var Ue,et;return!me||L.call(me)!=="[object Object]"?!1:(Ue=Ke(me),Ue?(et=a.call(Ue,"constructor")&&Ue.constructor,typeof et=="function"&&P.call(et)===A):!0)},isEmptyObject:function(me){var Ue;for(Ue in me)return!1;return!0},globalEval:function(me,Ue,et){o(me,{nonce:Ue&&Ue.nonce},et)},each:function(me,Ue){var et,ft=0;if(x(me))for(et=me.length;ft<et&&Ue.call(me[ft],ft,me[ft])!==!1;ft++);else for(ft in me)if(Ue.call(me[ft],ft,me[ft])===!1)break;return me},makeArray:function(me,Ue){var et=Ue||[];return me!=null&&(x(Object(me))?n.merge(et,typeof me=="string"?[me]:me):U.call(et,me)),et},inArray:function(me,Ue,et){return Ue==null?-1:e.call(Ue,me,et)},merge:function(me,Ue){for(var et=+Ue.length,ft=0,kt=me.length;ft<et;ft++)me[kt++]=Ue[ft];return me.length=kt,me},grep:function(me,Ue,et){for(var ft,kt=[],_t=0,Wt=me.length,Gt=!et;_t<Wt;_t++)ft=!Ue(me[_t],_t),ft!==Gt&&kt.push(me[_t]);return kt},map:function(me,Ue,et){var ft,kt,_t=0,Wt=[];if(x(me))for(ft=me.length;_t<ft;_t++)kt=Ue(me[_t],_t,et),kt!=null&&Wt.push(kt);else for(_t in me)kt=Ue(me[_t],_t,et),kt!=null&&Wt.push(kt);return W(Wt)},guid:1,support:v}),typeof Symbol=="function"&&(n.fn[Symbol.iterator]=Be[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(me,Ue){p["[object "+Ue+"]"]=Ue.toLowerCase()});function x(me){var Ue=!!me&&"length"in me&&me.length,et=l(me);return g(me)||t(me)?!1:et==="array"||Ue===0||typeof Ue=="number"&&Ue>0&&Ue-1 in me}var h=function(me){var Ue,et,ft,kt,_t,Wt,Gt,Ht,nr,Dr,Qr,Yr,Ur,Pn,Un,kn,Qn,qn,ca,ei="sizzle"+1*new Date,Na=me.document,Di=0,ri=0,vi=ll(),Ks=ll(),si=ll(),mo=ll(),Zo=function(Mr,on){return Mr===on&&(Qr=!0),0},Zi={}.hasOwnProperty,_i=[],ps=_i.pop,So=_i.push,Si=_i.push,sl=_i.slice,so=function(Mr,on){for(var mn=0,Zn=Mr.length;mn<Zn;mn++)if(Mr[mn]===on)return mn;return-1},to="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ni="[\\x20\\t\\r\\n\\f]",qi="(?:\\\\[\\da-fA-F]{1,6}"+ni+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",No="\\["+ni+"*("+qi+")(?:"+ni+"*([*^$|!~]?=)"+ni+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qi+"))|)"+ni+"*\\]",Xo=":("+qi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+No+")*)|.*)\\)|)",gs=new RegExp(ni+"+","g"),io=new RegExp("^"+ni+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ni+"+$","g"),Ou=new RegExp("^"+ni+"*,"+ni+"*"),es=new RegExp("^"+ni+"*([>+~]|"+ni+")"+ni+"*"),xo=new RegExp(ni+"|>"),ou=new RegExp(Xo),ys=new RegExp("^"+qi+"$"),Uo={ID:new RegExp("^#("+qi+")"),CLASS:new RegExp("^\\.("+qi+")"),TAG:new RegExp("^("+qi+"|[*])"),ATTR:new RegExp("^"+No),PSEUDO:new RegExp("^"+Xo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ni+"*(even|odd|(([+-]|)(\\d*)n|)"+ni+"*(?:([+-]|)"+ni+"*(\\d+)|))"+ni+"*\\)|)","i"),bool:new RegExp("^(?:"+to+")$","i"),needsContext:new RegExp("^"+ni+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ni+"*((?:-\\d)?\\d*)"+ni+"*\\)|)(?=[^-]|$)","i")},su=/HTML$/i,lu=/^(?:input|select|textarea|button)$/i,pf=/^h\d$/i,ms=/^[^{]+\{\s*\[native \w/,gf=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,uu=/[+~]/,xs=new RegExp("\\\\[\\da-fA-F]{1,6}"+ni+"?|\\\\([^\\r\\n\\f])","g"),ts=function(Mr,on){var mn="0x"+Mr.slice(1)-65536;return on||(mn<0?String.fromCharCode(mn+65536):String.fromCharCode(mn>>10|55296,mn&1023|56320))},Bu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Nu=function(Mr,on){return on?Mr==="\0"?"�":Mr.slice(0,-1)+"\\"+Mr.charCodeAt(Mr.length-1).toString(16)+" ":"\\"+Mr},fu=function(){Yr()},yf=Is(function(Mr){return Mr.disabled===!0&&Mr.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Si.apply(_i=sl.call(Na.childNodes),Na.childNodes),_i[Na.childNodes.length].nodeType}catch{Si={apply:_i.length?function(on,mn){So.apply(on,sl.call(mn))}:function(on,mn){for(var Zn=on.length,Ln=0;on[Zn++]=mn[Ln++];);on.length=Zn-1}}}function Fi(Mr,on,mn,Zn){var Ln,$n,na,ba,ha,Za,Xa,Ka=on&&on.ownerDocument,li=on?on.nodeType:9;if(mn=mn||[],typeof Mr!="string"||!Mr||li!==1&&li!==9&&li!==11)return mn;if(!Zn&&(Yr(on),on=on||Ur,Un)){if(li!==11&&(ha=gf.exec(Mr)))if(Ln=ha[1]){if(li===9)if(na=on.getElementById(Ln)){if(na.id===Ln)return mn.push(na),mn}else return mn;else if(Ka&&(na=Ka.getElementById(Ln))&&ca(on,na)&&na.id===Ln)return mn.push(na),mn}else{if(ha[2])return Si.apply(mn,on.getElementsByTagName(Mr)),mn;if((Ln=ha[3])&&et.getElementsByClassName&&on.getElementsByClassName)return Si.apply(mn,on.getElementsByClassName(Ln)),mn}if(et.qsa&&!mo[Mr+" "]&&(!kn||!kn.test(Mr))&&(li!==1||on.nodeName.toLowerCase()!=="object")){if(Xa=Mr,Ka=on,li===1&&(xo.test(Mr)||es.test(Mr))){for(Ka=uu.test(Mr)&&hu(on.parentNode)||on,(Ka!==on||!et.scope)&&((ba=on.getAttribute("id"))?ba=ba.replace(Bu,Nu):on.setAttribute("id",ba=ei)),Za=Wt(Mr),$n=Za.length;$n--;)Za[$n]=(ba?"#"+ba:":scope")+" "+os(Za[$n]);Xa=Za.join(",")}try{if(et.cssSupportsSelector&&!CSS.supports("selector(:is("+Xa+"))"))throw new Error;return Si.apply(mn,Ka.querySelectorAll(Xa)),mn}catch{mo(Mr,!0)}finally{ba===ei&&on.removeAttribute("id")}}}return Ht(Mr.replace(io,"$1"),on,mn,Zn)}function ll(){var Mr=[];function on(mn,Zn){return Mr.push(mn+" ")>ft.cacheLength&&delete on[Mr.shift()],on[mn+" "]=Zn}return on}function bo(Mr){return Mr[ei]=!0,Mr}function co(Mr){var on=Ur.createElement("fieldset");try{return!!Mr(on)}catch{return!1}finally{on.parentNode&&on.parentNode.removeChild(on),on=null}}function Ds(Mr,on){for(var mn=Mr.split("|"),Zn=mn.length;Zn--;)ft.attrHandle[mn[Zn]]=on}function El(Mr,on){var mn=on&&Mr,Zn=mn&&Mr.nodeType===1&&on.nodeType===1&&Mr.sourceIndex-on.sourceIndex;if(Zn)return Zn;if(mn){for(;mn=mn.nextSibling;)if(mn===on)return-1}return Mr?1:-1}function mf(Mr){return function(on){var mn=on.nodeName.toLowerCase();return mn==="input"&&on.type===Mr}}function bs(Mr){return function(on){var mn=on.nodeName.toLowerCase();return(mn==="input"||mn==="button")&&on.type===Mr}}function cu(Mr){return function(on){return"form"in on?on.parentNode&&on.disabled===!1?"label"in on?"label"in on.parentNode?on.parentNode.disabled===Mr:on.disabled===Mr:on.isDisabled===Mr||on.isDisabled!==!Mr&&yf(on)===Mr:on.disabled===Mr:"label"in on?on.disabled===Mr:!1}}function ws(Mr){return bo(function(on){return on=+on,bo(function(mn,Zn){for(var Ln,$n=Mr([],mn.length,on),na=$n.length;na--;)mn[Ln=$n[na]]&&(mn[Ln]=!(Zn[Ln]=mn[Ln]))})})}function hu(Mr){return Mr&&typeof Mr.getElementsByTagName<"u"&&Mr}et=Fi.support={},_t=Fi.isXML=function(Mr){var on=Mr&&Mr.namespaceURI,mn=Mr&&(Mr.ownerDocument||Mr).documentElement;return!su.test(on||mn&&mn.nodeName||"HTML")},Yr=Fi.setDocument=function(Mr){var on,mn,Zn=Mr?Mr.ownerDocument||Mr:Na;return Zn==Ur||Zn.nodeType!==9||!Zn.documentElement||(Ur=Zn,Pn=Ur.documentElement,Un=!_t(Ur),Na!=Ur&&(mn=Ur.defaultView)&&mn.top!==mn&&(mn.addEventListener?mn.addEventListener("unload",fu,!1):mn.attachEvent&&mn.attachEvent("onunload",fu)),et.scope=co(function(Ln){return Pn.appendChild(Ln).appendChild(Ur.createElement("div")),typeof Ln.querySelectorAll<"u"&&!Ln.querySelectorAll(":scope fieldset div").length}),et.cssSupportsSelector=co(function(){return CSS.supports("selector(*)")&&Ur.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),et.attributes=co(function(Ln){return Ln.className="i",!Ln.getAttribute("className")}),et.getElementsByTagName=co(function(Ln){return Ln.appendChild(Ur.createComment("")),!Ln.getElementsByTagName("*").length}),et.getElementsByClassName=ms.test(Ur.getElementsByClassName),et.getById=co(function(Ln){return Pn.appendChild(Ln).id=ei,!Ur.getElementsByName||!Ur.getElementsByName(ei).length}),et.getById?(ft.filter.ID=function(Ln){var $n=Ln.replace(xs,ts);return function(na){return na.getAttribute("id")===$n}},ft.find.ID=function(Ln,$n){if(typeof $n.getElementById<"u"&&Un){var na=$n.getElementById(Ln);return na?[na]:[]}}):(ft.filter.ID=function(Ln){var $n=Ln.replace(xs,ts);return function(na){var ba=typeof na.getAttributeNode<"u"&&na.getAttributeNode("id");return ba&&ba.value===$n}},ft.find.ID=function(Ln,$n){if(typeof $n.getElementById<"u"&&Un){var na,ba,ha,Za=$n.getElementById(Ln);if(Za){if(na=Za.getAttributeNode("id"),na&&na.value===Ln)return[Za];for(ha=$n.getElementsByName(Ln),ba=0;Za=ha[ba++];)if(na=Za.getAttributeNode("id"),na&&na.value===Ln)return[Za]}return[]}}),ft.find.TAG=et.getElementsByTagName?function(Ln,$n){if(typeof $n.getElementsByTagName<"u")return $n.getElementsByTagName(Ln);if(et.qsa)return $n.querySelectorAll(Ln)}:function(Ln,$n){var na,ba=[],ha=0,Za=$n.getElementsByTagName(Ln);if(Ln==="*"){for(;na=Za[ha++];)na.nodeType===1&&ba.push(na);return ba}return Za},ft.find.CLASS=et.getElementsByClassName&&function(Ln,$n){if(typeof $n.getElementsByClassName<"u"&&Un)return $n.getElementsByClassName(Ln)},Qn=[],kn=[],(et.qsa=ms.test(Ur.querySelectorAll))&&(co(function(Ln){var $n;Pn.appendChild(Ln).innerHTML="<a id='"+ei+"'></a><select id='"+ei+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ln.querySelectorAll("[msallowcapture^='']").length&&kn.push("[*^$]="+ni+`*(?:''|"")`),Ln.querySelectorAll("[selected]").length||kn.push("\\["+ni+"*(?:value|"+to+")"),Ln.querySelectorAll("[id~="+ei+"-]").length||kn.push("~="),$n=Ur.createElement("input"),$n.setAttribute("name",""),Ln.appendChild($n),Ln.querySelectorAll("[name='']").length||kn.push("\\["+ni+"*name"+ni+"*="+ni+`*(?:''|"")`),Ln.querySelectorAll(":checked").length||kn.push(":checked"),Ln.querySelectorAll("a#"+ei+"+*").length||kn.push(".#.+[+~]"),Ln.querySelectorAll("\\\f"),kn.push("[\\r\\n\\f]")}),co(function(Ln){Ln.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var $n=Ur.createElement("input");$n.setAttribute("type","hidden"),Ln.appendChild($n).setAttribute("name","D"),Ln.querySelectorAll("[name=d]").length&&kn.push("name"+ni+"*[*^$|!~]?="),Ln.querySelectorAll(":enabled").length!==2&&kn.push(":enabled",":disabled"),Pn.appendChild(Ln).disabled=!0,Ln.querySelectorAll(":disabled").length!==2&&kn.push(":enabled",":disabled"),Ln.querySelectorAll("*,:x"),kn.push(",.*:")})),(et.matchesSelector=ms.test(qn=Pn.matches||Pn.webkitMatchesSelector||Pn.mozMatchesSelector||Pn.oMatchesSelector||Pn.msMatchesSelector))&&co(function(Ln){et.disconnectedMatch=qn.call(Ln,"*"),qn.call(Ln,"[s!='']:x"),Qn.push("!=",Xo)}),et.cssSupportsSelector||kn.push(":has"),kn=kn.length&&new RegExp(kn.join("|")),Qn=Qn.length&&new RegExp(Qn.join("|")),on=ms.test(Pn.compareDocumentPosition),ca=on||ms.test(Pn.contains)?function(Ln,$n){var na=Ln.nodeType===9&&Ln.documentElement||Ln,ba=$n&&$n.parentNode;return Ln===ba||!!(ba&&ba.nodeType===1&&(na.contains?na.contains(ba):Ln.compareDocumentPosition&&Ln.compareDocumentPosition(ba)&16))}:function(Ln,$n){if($n){for(;$n=$n.parentNode;)if($n===Ln)return!0}return!1},Zo=on?function(Ln,$n){if(Ln===$n)return Qr=!0,0;var na=!Ln.compareDocumentPosition-!$n.compareDocumentPosition;return na||(na=(Ln.ownerDocument||Ln)==($n.ownerDocument||$n)?Ln.compareDocumentPosition($n):1,na&1||!et.sortDetached&&$n.compareDocumentPosition(Ln)===na?Ln==Ur||Ln.ownerDocument==Na&&ca(Na,Ln)?-1:$n==Ur||$n.ownerDocument==Na&&ca(Na,$n)?1:Dr?so(Dr,Ln)-so(Dr,$n):0:na&4?-1:1)}:function(Ln,$n){if(Ln===$n)return Qr=!0,0;var na,ba=0,ha=Ln.parentNode,Za=$n.parentNode,Xa=[Ln],Ka=[$n];if(!ha||!Za)return Ln==Ur?-1:$n==Ur?1:ha?-1:Za?1:Dr?so(Dr,Ln)-so(Dr,$n):0;if(ha===Za)return El(Ln,$n);for(na=Ln;na=na.parentNode;)Xa.unshift(na);for(na=$n;na=na.parentNode;)Ka.unshift(na);for(;Xa[ba]===Ka[ba];)ba++;return ba?El(Xa[ba],Ka[ba]):Xa[ba]==Na?-1:Ka[ba]==Na?1:0}),Ur},Fi.matches=function(Mr,on){return Fi(Mr,null,null,on)},Fi.matchesSelector=function(Mr,on){if(Yr(Mr),et.matchesSelector&&Un&&!mo[on+" "]&&(!Qn||!Qn.test(on))&&(!kn||!kn.test(on)))try{var mn=qn.call(Mr,on);if(mn||et.disconnectedMatch||Mr.document&&Mr.document.nodeType!==11)return mn}catch{mo(on,!0)}return Fi(on,Ur,null,[Mr]).length>0},Fi.contains=function(Mr,on){return(Mr.ownerDocument||Mr)!=Ur&&Yr(Mr),ca(Mr,on)},Fi.attr=function(Mr,on){(Mr.ownerDocument||Mr)!=Ur&&Yr(Mr);var mn=ft.attrHandle[on.toLowerCase()],Zn=mn&&Zi.call(ft.attrHandle,on.toLowerCase())?mn(Mr,on,!Un):void 0;return Zn!==void 0?Zn:et.attributes||!Un?Mr.getAttribute(on):(Zn=Mr.getAttributeNode(on))&&Zn.specified?Zn.value:null},Fi.escape=function(Mr){return(Mr+"").replace(Bu,Nu)},Fi.error=function(Mr){throw new Error("Syntax error, unrecognized expression: "+Mr)},Fi.uniqueSort=function(Mr){var on,mn=[],Zn=0,Ln=0;if(Qr=!et.detectDuplicates,Dr=!et.sortStable&&Mr.slice(0),Mr.sort(Zo),Qr){for(;on=Mr[Ln++];)on===Mr[Ln]&&(Zn=mn.push(Ln));for(;Zn--;)Mr.splice(mn[Zn],1)}return Dr=null,Mr},kt=Fi.getText=function(Mr){var on,mn="",Zn=0,Ln=Mr.nodeType;if(Ln){if(Ln===1||Ln===9||Ln===11){if(typeof Mr.textContent=="string")return Mr.textContent;for(Mr=Mr.firstChild;Mr;Mr=Mr.nextSibling)mn+=kt(Mr)}else if(Ln===3||Ln===4)return Mr.nodeValue}else for(;on=Mr[Zn++];)mn+=kt(on);return mn},ft=Fi.selectors={cacheLength:50,createPseudo:bo,match:Uo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Mr){return Mr[1]=Mr[1].replace(xs,ts),Mr[3]=(Mr[3]||Mr[4]||Mr[5]||"").replace(xs,ts),Mr[2]==="~="&&(Mr[3]=" "+Mr[3]+" "),Mr.slice(0,4)},CHILD:function(Mr){return Mr[1]=Mr[1].toLowerCase(),Mr[1].slice(0,3)==="nth"?(Mr[3]||Fi.error(Mr[0]),Mr[4]=+(Mr[4]?Mr[5]+(Mr[6]||1):2*(Mr[3]==="even"||Mr[3]==="odd")),Mr[5]=+(Mr[7]+Mr[8]||Mr[3]==="odd")):Mr[3]&&Fi.error(Mr[0]),Mr},PSEUDO:function(Mr){var on,mn=!Mr[6]&&Mr[2];return Uo.CHILD.test(Mr[0])?null:(Mr[3]?Mr[2]=Mr[4]||Mr[5]||"":mn&&ou.test(mn)&&(on=Wt(mn,!0))&&(on=mn.indexOf(")",mn.length-on)-mn.length)&&(Mr[0]=Mr[0].slice(0,on),Mr[2]=mn.slice(0,on)),Mr.slice(0,3))}},filter:{TAG:function(Mr){var on=Mr.replace(xs,ts).toLowerCase();return Mr==="*"?function(){return!0}:function(mn){return mn.nodeName&&mn.nodeName.toLowerCase()===on}},CLASS:function(Mr){var on=vi[Mr+" "];return on||(on=new RegExp("(^|"+ni+")"+Mr+"("+ni+"|$)"))&&vi(Mr,function(mn){return on.test(typeof mn.className=="string"&&mn.className||typeof mn.getAttribute<"u"&&mn.getAttribute("class")||"")})},ATTR:function(Mr,on,mn){return function(Zn){var Ln=Fi.attr(Zn,Mr);return Ln==null?on==="!=":on?(Ln+="",on==="="?Ln===mn:on==="!="?Ln!==mn:on==="^="?mn&&Ln.indexOf(mn)===0:on==="*="?mn&&Ln.indexOf(mn)>-1:on==="$="?mn&&Ln.slice(-mn.length)===mn:on==="~="?(" "+Ln.replace(gs," ")+" ").indexOf(mn)>-1:on==="|="?Ln===mn||Ln.slice(0,mn.length+1)===mn+"-":!1):!0}},CHILD:function(Mr,on,mn,Zn,Ln){var $n=Mr.slice(0,3)!=="nth",na=Mr.slice(-4)!=="last",ba=on==="of-type";return Zn===1&&Ln===0?function(ha){return!!ha.parentNode}:function(ha,Za,Xa){var Ka,li,Ei,Ga,ro,ho,wo=$n!==na?"nextSibling":"previousSibling",Oi=ha.parentNode,zs=ba&&ha.nodeName.toLowerCase(),Js=!Xa&&!ba,ai=!1;if(Oi){if($n){for(;wo;){for(Ga=ha;Ga=Ga[wo];)if(ba?Ga.nodeName.toLowerCase()===zs:Ga.nodeType===1)return!1;ho=wo=Mr==="only"&&!ho&&"nextSibling"}return!0}if(ho=[na?Oi.firstChild:Oi.lastChild],na&&Js){for(Ga=Oi,Ei=Ga[ei]||(Ga[ei]={}),li=Ei[Ga.uniqueID]||(Ei[Ga.uniqueID]={}),Ka=li[Mr]||[],ro=Ka[0]===Di&&Ka[1],ai=ro&&Ka[2],Ga=ro&&Oi.childNodes[ro];Ga=++ro&&Ga&&Ga[wo]||(ai=ro=0)||ho.pop();)if(Ga.nodeType===1&&++ai&&Ga===ha){li[Mr]=[Di,ro,ai];break}}else if(Js&&(Ga=ha,Ei=Ga[ei]||(Ga[ei]={}),li=Ei[Ga.uniqueID]||(Ei[Ga.uniqueID]={}),Ka=li[Mr]||[],ro=Ka[0]===Di&&Ka[1],ai=ro),ai===!1)for(;(Ga=++ro&&Ga&&Ga[wo]||(ai=ro=0)||ho.pop())&&!((ba?Ga.nodeName.toLowerCase()===zs:Ga.nodeType===1)&&++ai&&(Js&&(Ei=Ga[ei]||(Ga[ei]={}),li=Ei[Ga.uniqueID]||(Ei[Ga.uniqueID]={}),li[Mr]=[Di,ai]),Ga===ha)););return ai-=Ln,ai===Zn||ai%Zn===0&&ai/Zn>=0}}},PSEUDO:function(Mr,on){var mn,Zn=ft.pseudos[Mr]||ft.setFilters[Mr.toLowerCase()]||Fi.error("unsupported pseudo: "+Mr);return Zn[ei]?Zn(on):Zn.length>1?(mn=[Mr,Mr,"",on],ft.setFilters.hasOwnProperty(Mr.toLowerCase())?bo(function(Ln,$n){for(var na,ba=Zn(Ln,on),ha=ba.length;ha--;)na=so(Ln,ba[ha]),Ln[na]=!($n[na]=ba[ha])}):function(Ln){return Zn(Ln,0,mn)}):Zn}},pseudos:{not:bo(function(Mr){var on=[],mn=[],Zn=Gt(Mr.replace(io,"$1"));return Zn[ei]?bo(function(Ln,$n,na,ba){for(var ha,Za=Zn(Ln,null,ba,[]),Xa=Ln.length;Xa--;)(ha=Za[Xa])&&(Ln[Xa]=!($n[Xa]=ha))}):function(Ln,$n,na){return on[0]=Ln,Zn(on,null,na,mn),on[0]=null,!mn.pop()}}),has:bo(function(Mr){return function(on){return Fi(Mr,on).length>0}}),contains:bo(function(Mr){return Mr=Mr.replace(xs,ts),function(on){return(on.textContent||kt(on)).indexOf(Mr)>-1}}),lang:bo(function(Mr){return ys.test(Mr||"")||Fi.error("unsupported lang: "+Mr),Mr=Mr.replace(xs,ts).toLowerCase(),function(on){var mn;do if(mn=Un?on.lang:on.getAttribute("xml:lang")||on.getAttribute("lang"))return mn=mn.toLowerCase(),mn===Mr||mn.indexOf(Mr+"-")===0;while((on=on.parentNode)&&on.nodeType===1);return!1}}),target:function(Mr){var on=me.location&&me.location.hash;return on&&on.slice(1)===Mr.id},root:function(Mr){return Mr===Pn},focus:function(Mr){return Mr===Ur.activeElement&&(!Ur.hasFocus||Ur.hasFocus())&&!!(Mr.type||Mr.href||~Mr.tabIndex)},enabled:cu(!1),disabled:cu(!0),checked:function(Mr){var on=Mr.nodeName.toLowerCase();return on==="input"&&!!Mr.checked||on==="option"&&!!Mr.selected},selected:function(Mr){return Mr.parentNode&&Mr.parentNode.selectedIndex,Mr.selected===!0},empty:function(Mr){for(Mr=Mr.firstChild;Mr;Mr=Mr.nextSibling)if(Mr.nodeType<6)return!1;return!0},parent:function(Mr){return!ft.pseudos.empty(Mr)},header:function(Mr){return pf.test(Mr.nodeName)},input:function(Mr){return lu.test(Mr.nodeName)},button:function(Mr){var on=Mr.nodeName.toLowerCase();return on==="input"&&Mr.type==="button"||on==="button"},text:function(Mr){var on;return Mr.nodeName.toLowerCase()==="input"&&Mr.type==="text"&&((on=Mr.getAttribute("type"))==null||on.toLowerCase()==="text")},first:ws(function(){return[0]}),last:ws(function(Mr,on){return[on-1]}),eq:ws(function(Mr,on,mn){return[mn<0?mn+on:mn]}),even:ws(function(Mr,on){for(var mn=0;mn<on;mn+=2)Mr.push(mn);return Mr}),odd:ws(function(Mr,on){for(var mn=1;mn<on;mn+=2)Mr.push(mn);return Mr}),lt:ws(function(Mr,on,mn){for(var Zn=mn<0?mn+on:mn>on?on:mn;--Zn>=0;)Mr.push(Zn);return Mr}),gt:ws(function(Mr,on,mn){for(var Zn=mn<0?mn+on:mn;++Zn<on;)Mr.push(Zn);return Mr})}},ft.pseudos.nth=ft.pseudos.eq;for(Ue in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ft.pseudos[Ue]=mf(Ue);for(Ue in{submit:!0,reset:!0})ft.pseudos[Ue]=bs(Ue);function Ho(){}Ho.prototype=ft.filters=ft.pseudos,ft.setFilters=new Ho,Wt=Fi.tokenize=function(Mr,on){var mn,Zn,Ln,$n,na,ba,ha,Za=Ks[Mr+" "];if(Za)return on?0:Za.slice(0);for(na=Mr,ba=[],ha=ft.preFilter;na;){(!mn||(Zn=Ou.exec(na)))&&(Zn&&(na=na.slice(Zn[0].length)||na),ba.push(Ln=[])),mn=!1,(Zn=es.exec(na))&&(mn=Zn.shift(),Ln.push({value:mn,type:Zn[0].replace(io," ")}),na=na.slice(mn.length));for($n in ft.filter)(Zn=Uo[$n].exec(na))&&(!ha[$n]||(Zn=ha[$n](Zn)))&&(mn=Zn.shift(),Ln.push({value:mn,type:$n,matches:Zn}),na=na.slice(mn.length));if(!mn)break}return on?na.length:na?Fi.error(Mr):Ks(Mr,ba).slice(0)};function os(Mr){for(var on=0,mn=Mr.length,Zn="";on<mn;on++)Zn+=Mr[on].value;return Zn}function Is(Mr,on,mn){var Zn=on.dir,Ln=on.next,$n=Ln||Zn,na=mn&&$n==="parentNode",ba=ri++;return on.first?function(ha,Za,Xa){for(;ha=ha[Zn];)if(ha.nodeType===1||na)return Mr(ha,Za,Xa);return!1}:function(ha,Za,Xa){var Ka,li,Ei,Ga=[Di,ba];if(Xa){for(;ha=ha[Zn];)if((ha.nodeType===1||na)&&Mr(ha,Za,Xa))return!0}else for(;ha=ha[Zn];)if(ha.nodeType===1||na)if(Ei=ha[ei]||(ha[ei]={}),li=Ei[ha.uniqueID]||(Ei[ha.uniqueID]={}),Ln&&Ln===ha.nodeName.toLowerCase())ha=ha[Zn]||ha;else{if((Ka=li[$n])&&Ka[0]===Di&&Ka[1]===ba)return Ga[2]=Ka[2];if(li[$n]=Ga,Ga[2]=Mr(ha,Za,Xa))return!0}return!1}}function _s(Mr){return Mr.length>1?function(on,mn,Zn){for(var Ln=Mr.length;Ln--;)if(!Mr[Ln](on,mn,Zn))return!1;return!0}:Mr[0]}function ss(Mr,on,mn){for(var Zn=0,Ln=on.length;Zn<Ln;Zn++)Fi(Mr,on[Zn],mn);return mn}function jo(Mr,on,mn,Zn,Ln){for(var $n,na=[],ba=0,ha=Mr.length,Za=on!=null;ba<ha;ba++)($n=Mr[ba])&&(!mn||mn($n,Zn,Ln))&&(na.push($n),Za&&on.push(ba));return na}function Cl(Mr,on,mn,Zn,Ln,$n){return Zn&&!Zn[ei]&&(Zn=Cl(Zn)),Ln&&!Ln[ei]&&(Ln=Cl(Ln,$n)),bo(function(na,ba,ha,Za){var Xa,Ka,li,Ei=[],Ga=[],ro=ba.length,ho=na||ss(on||"*",ha.nodeType?[ha]:ha,[]),wo=Mr&&(na||!on)?jo(ho,Ei,Mr,ha,Za):ho,Oi=mn?Ln||(na?Mr:ro||Zn)?[]:ba:wo;if(mn&&mn(wo,Oi,ha,Za),Zn)for(Xa=jo(Oi,Ga),Zn(Xa,[],ha,Za),Ka=Xa.length;Ka--;)(li=Xa[Ka])&&(Oi[Ga[Ka]]=!(wo[Ga[Ka]]=li));if(na){if(Ln||Mr){if(Ln){for(Xa=[],Ka=Oi.length;Ka--;)(li=Oi[Ka])&&Xa.push(wo[Ka]=li);Ln(null,Oi=[],Xa,Za)}for(Ka=Oi.length;Ka--;)(li=Oi[Ka])&&(Xa=Ln?so(na,li):Ei[Ka])>-1&&(na[Xa]=!(ba[Xa]=li))}}else Oi=jo(Oi===ba?Oi.splice(ro,Oi.length):Oi),Ln?Ln(null,ba,Oi,Za):Si.apply(ba,Oi)})}function Fs(Mr){for(var on,mn,Zn,Ln=Mr.length,$n=ft.relative[Mr[0].type],na=$n||ft.relative[" "],ba=$n?1:0,ha=Is(function(Ka){return Ka===on},na,!0),Za=Is(function(Ka){return so(on,Ka)>-1},na,!0),Xa=[function(Ka,li,Ei){var Ga=!$n&&(Ei||li!==nr)||((on=li).nodeType?ha(Ka,li,Ei):Za(Ka,li,Ei));return on=null,Ga}];ba<Ln;ba++)if(mn=ft.relative[Mr[ba].type])Xa=[Is(_s(Xa),mn)];else{if(mn=ft.filter[Mr[ba].type].apply(null,Mr[ba].matches),mn[ei]){for(Zn=++ba;Zn<Ln&&!ft.relative[Mr[Zn].type];Zn++);return Cl(ba>1&&_s(Xa),ba>1&&os(Mr.slice(0,ba-1).concat({value:Mr[ba-2].type===" "?"*":""})).replace(io,"$1"),mn,ba<Zn&&Fs(Mr.slice(ba,Zn)),Zn<Ln&&Fs(Mr=Mr.slice(Zn)),Zn<Ln&&os(Mr))}Xa.push(mn)}return _s(Xa)}function ks(Mr,on){var mn=on.length>0,Zn=Mr.length>0,Ln=function($n,na,ba,ha,Za){var Xa,Ka,li,Ei=0,Ga="0",ro=$n&&[],ho=[],wo=nr,Oi=$n||Zn&&ft.find.TAG("*",Za),zs=Di+=wo==null?1:Math.random()||.1,Js=Oi.length;for(Za&&(nr=na==Ur||na||Za);Ga!==Js&&(Xa=Oi[Ga])!=null;Ga++){if(Zn&&Xa){for(Ka=0,!na&&Xa.ownerDocument!=Ur&&(Yr(Xa),ba=!Un);li=Mr[Ka++];)if(li(Xa,na||Ur,ba)){ha.push(Xa);break}Za&&(Di=zs)}mn&&((Xa=!li&&Xa)&&Ei--,$n&&ro.push(Xa))}if(Ei+=Ga,mn&&Ga!==Ei){for(Ka=0;li=on[Ka++];)li(ro,ho,na,ba);if($n){if(Ei>0)for(;Ga--;)ro[Ga]||ho[Ga]||(ho[Ga]=ps.call(ha));ho=jo(ho)}Si.apply(ha,ho),Za&&!$n&&ho.length>0&&Ei+on.length>1&&Fi.uniqueSort(ha)}return Za&&(Di=zs,nr=wo),ro};return mn?bo(Ln):Ln}return Gt=Fi.compile=function(Mr,on){var mn,Zn=[],Ln=[],$n=si[Mr+" "];if(!$n){for(on||(on=Wt(Mr)),mn=on.length;mn--;)$n=Fs(on[mn]),$n[ei]?Zn.push($n):Ln.push($n);$n=si(Mr,ks(Ln,Zn)),$n.selector=Mr}return $n},Ht=Fi.select=function(Mr,on,mn,Zn){var Ln,$n,na,ba,ha,Za=typeof Mr=="function"&&Mr,Xa=!Zn&&Wt(Mr=Za.selector||Mr);if(mn=mn||[],Xa.length===1){if($n=Xa[0]=Xa[0].slice(0),$n.length>2&&(na=$n[0]).type==="ID"&&on.nodeType===9&&Un&&ft.relative[$n[1].type]){if(on=(ft.find.ID(na.matches[0].replace(xs,ts),on)||[])[0],on)Za&&(on=on.parentNode);else return mn;Mr=Mr.slice($n.shift().value.length)}for(Ln=Uo.needsContext.test(Mr)?0:$n.length;Ln--&&(na=$n[Ln],!ft.relative[ba=na.type]);)if((ha=ft.find[ba])&&(Zn=ha(na.matches[0].replace(xs,ts),uu.test($n[0].type)&&hu(on.parentNode)||on))){if($n.splice(Ln,1),Mr=Zn.length&&os($n),!Mr)return Si.apply(mn,Zn),mn;break}}return(Za||Gt(Mr,Xa))(Zn,on,!Un,mn,!on||uu.test(Mr)&&hu(on.parentNode)||on),mn},et.sortStable=ei.split("").sort(Zo).join("")===ei,et.detectDuplicates=!!Qr,Yr(),et.sortDetached=co(function(Mr){return Mr.compareDocumentPosition(Ur.createElement("fieldset"))&1}),co(function(Mr){return Mr.innerHTML="<a href='#'></a>",Mr.firstChild.getAttribute("href")==="#"})||Ds("type|href|height|width",function(Mr,on,mn){if(!mn)return Mr.getAttribute(on,on.toLowerCase()==="type"?1:2)}),(!et.attributes||!co(function(Mr){return Mr.innerHTML="<input/>",Mr.firstChild.setAttribute("value",""),Mr.firstChild.getAttribute("value")===""}))&&Ds("value",function(Mr,on,mn){if(!mn&&Mr.nodeName.toLowerCase()==="input")return Mr.defaultValue}),co(function(Mr){return Mr.getAttribute("disabled")==null})||Ds(to,function(Mr,on,mn){var Zn;if(!mn)return Mr[on]===!0?on.toLowerCase():(Zn=Mr.getAttributeNode(on))&&Zn.specified?Zn.value:null}),Fi}(ce);n.find=h,n.expr=h.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=h.uniqueSort,n.text=h.getText,n.isXMLDoc=h.isXML,n.contains=h.contains,n.escapeSelector=h.escape;var T=function(me,Ue,et){for(var ft=[],kt=et!==void 0;(me=me[Ue])&&me.nodeType!==9;)if(me.nodeType===1){if(kt&&n(me).is(et))break;ft.push(me)}return ft},f=function(me,Ue){for(var et=[];me;me=me.nextSibling)me.nodeType===1&&me!==Ue&&et.push(me);return et},s=n.expr.match.needsContext;function d(me,Ue){return me.nodeName&&me.nodeName.toLowerCase()===Ue.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(me,Ue,et){return g(Ue)?n.grep(me,function(ft,kt){return!!Ue.call(ft,kt,ft)!==et}):Ue.nodeType?n.grep(me,function(ft){return ft===Ue!==et}):typeof Ue!="string"?n.grep(me,function(ft){return e.call(Ue,ft)>-1!==et}):n.filter(Ue,me,et)}n.filter=function(me,Ue,et){var ft=Ue[0];return et&&(me=":not("+me+")"),Ue.length===1&&ft.nodeType===1?n.find.matchesSelector(ft,me)?[ft]:[]:n.find.matches(me,n.grep(Ue,function(kt){return kt.nodeType===1}))},n.fn.extend({find:function(me){var Ue,et,ft=this.length,kt=this;if(typeof me!="string")return this.pushStack(n(me).filter(function(){for(Ue=0;Ue<ft;Ue++)if(n.contains(kt[Ue],this))return!0}));for(et=this.pushStack([]),Ue=0;Ue<ft;Ue++)n.find(me,kt[Ue],et);return ft>1?n.uniqueSort(et):et},filter:function(me){return this.pushStack(M(this,me||[],!1))},not:function(me){return this.pushStack(M(this,me||[],!0))},is:function(me){return!!M(this,typeof me=="string"&&s.test(me)?n(me):me||[],!1).length}});var C,y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,w=n.fn.init=function(me,Ue,et){var ft,kt;if(!me)return this;if(et=et||C,typeof me=="string")if(me[0]==="<"&&me[me.length-1]===">"&&me.length>=3?ft=[null,me,null]:ft=y.exec(me),ft&&(ft[1]||!Ue))if(ft[1]){if(Ue=Ue instanceof n?Ue[0]:Ue,n.merge(this,n.parseHTML(ft[1],Ue&&Ue.nodeType?Ue.ownerDocument||Ue:r,!0)),S.test(ft[1])&&n.isPlainObject(Ue))for(ft in Ue)g(this[ft])?this[ft](Ue[ft]):this.attr(ft,Ue[ft]);return this}else return kt=r.getElementById(ft[2]),kt&&(this[0]=kt,this.length=1),this;else return!Ue||Ue.jquery?(Ue||et).find(me):this.constructor(Ue).find(me);else{if(me.nodeType)return this[0]=me,this.length=1,this;if(g(me))return et.ready!==void 0?et.ready(me):me(n)}return n.makeArray(me,this)};w.prototype=n.fn,C=n(r);var b=/^(?:parents|prev(?:Until|All))/,i={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(me){var Ue=n(me,this),et=Ue.length;return this.filter(function(){for(var ft=0;ft<et;ft++)if(n.contains(this,Ue[ft]))return!0})},closest:function(me,Ue){var et,ft=0,kt=this.length,_t=[],Wt=typeof me!="string"&&n(me);if(!s.test(me)){for(;ft<kt;ft++)for(et=this[ft];et&&et!==Ue;et=et.parentNode)if(et.nodeType<11&&(Wt?Wt.index(et)>-1:et.nodeType===1&&n.find.matchesSelector(et,me))){_t.push(et);break}}return this.pushStack(_t.length>1?n.uniqueSort(_t):_t)},index:function(me){return me?typeof me=="string"?e.call(n(me),this[0]):e.call(this,me.jquery?me[0]:me):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(me,Ue){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(me,Ue))))},addBack:function(me){return this.add(me==null?this.prevObject:this.prevObject.filter(me))}});function E(me,Ue){for(;(me=me[Ue])&&me.nodeType!==1;);return me}n.each({parent:function(me){var Ue=me.parentNode;return Ue&&Ue.nodeType!==11?Ue:null},parents:function(me){return T(me,"parentNode")},parentsUntil:function(me,Ue,et){return T(me,"parentNode",et)},next:function(me){return E(me,"nextSibling")},prev:function(me){return E(me,"previousSibling")},nextAll:function(me){return T(me,"nextSibling")},prevAll:function(me){return T(me,"previousSibling")},nextUntil:function(me,Ue,et){return T(me,"nextSibling",et)},prevUntil:function(me,Ue,et){return T(me,"previousSibling",et)},siblings:function(me){return f((me.parentNode||{}).firstChild,me)},children:function(me){return f(me.firstChild)},contents:function(me){return me.contentDocument!=null&&Ke(me.contentDocument)?me.contentDocument:(d(me,"template")&&(me=me.content||me),n.merge([],me.childNodes))}},function(me,Ue){n.fn[me]=function(et,ft){var kt=n.map(this,Ue,et);return me.slice(-5)!=="Until"&&(ft=et),ft&&typeof ft=="string"&&(kt=n.filter(ft,kt)),this.length>1&&(i[me]||n.uniqueSort(kt),b.test(me)&&kt.reverse()),this.pushStack(kt)}});var m=/[^\x20\t\r\n\f]+/g;function F(me){var Ue={};return n.each(me.match(m)||[],function(et,ft){Ue[ft]=!0}),Ue}n.Callbacks=function(me){me=typeof me=="string"?F(me):n.extend({},me);var Ue,et,ft,kt,_t=[],Wt=[],Gt=-1,Ht=function(){for(kt=kt||me.once,ft=Ue=!0;Wt.length;Gt=-1)for(et=Wt.shift();++Gt<_t.length;)_t[Gt].apply(et[0],et[1])===!1&&me.stopOnFalse&&(Gt=_t.length,et=!1);me.memory||(et=!1),Ue=!1,kt&&(et?_t=[]:_t="")},nr={add:function(){return _t&&(et&&!Ue&&(Gt=_t.length-1,Wt.push(et)),function Dr(Qr){n.each(Qr,function(Yr,Ur){g(Ur)?(!me.unique||!nr.has(Ur))&&_t.push(Ur):Ur&&Ur.length&&l(Ur)!=="string"&&Dr(Ur)})}(arguments),et&&!Ue&&Ht()),this},remove:function(){return n.each(arguments,function(Dr,Qr){for(var Yr;(Yr=n.inArray(Qr,_t,Yr))>-1;)_t.splice(Yr,1),Yr<=Gt&&Gt--}),this},has:function(Dr){return Dr?n.inArray(Dr,_t)>-1:_t.length>0},empty:function(){return _t&&(_t=[]),this},disable:function(){return kt=Wt=[],_t=et="",this},disabled:function(){return!_t},lock:function(){return kt=Wt=[],!et&&!Ue&&(_t=et=""),this},locked:function(){return!!kt},fireWith:function(Dr,Qr){return kt||(Qr=Qr||[],Qr=[Dr,Qr.slice?Qr.slice():Qr],Wt.push(Qr),Ue||Ht()),this},fire:function(){return nr.fireWith(this,arguments),this},fired:function(){return!!ft}};return nr};function _(me){return me}function B(me){throw me}function I(me,Ue,et,ft){var kt;try{me&&g(kt=me.promise)?kt.call(me).done(Ue).fail(et):me&&g(kt=me.then)?kt.call(me,Ue,et):Ue.apply(void 0,[me].slice(ft))}catch(_t){et.apply(void 0,[_t])}}n.extend({Deferred:function(me){var Ue=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),1,"rejected"]],et="pending",ft={state:function(){return et},always:function(){return kt.done(arguments).fail(arguments),this},catch:function(_t){return ft.then(null,_t)},pipe:function(){var _t=arguments;return n.Deferred(function(Wt){n.each(Ue,function(Gt,Ht){var nr=g(_t[Ht[4]])&&_t[Ht[4]];kt[Ht[1]](function(){var Dr=nr&&nr.apply(this,arguments);Dr&&g(Dr.promise)?Dr.promise().progress(Wt.notify).done(Wt.resolve).fail(Wt.reject):Wt[Ht[0]+"With"](this,nr?[Dr]:arguments)})}),_t=null}).promise()},then:function(_t,Wt,Gt){var Ht=0;function nr(Dr,Qr,Yr,Ur){return function(){var Pn=this,Un=arguments,kn=function(){var qn,ca;if(!(Dr<Ht)){if(qn=Yr.apply(Pn,Un),qn===Qr.promise())throw new TypeError("Thenable self-resolution");ca=qn&&(typeof qn=="object"||typeof qn=="function")&&qn.then,g(ca)?Ur?ca.call(qn,nr(Ht,Qr,_,Ur),nr(Ht,Qr,B,Ur)):(Ht++,ca.call(qn,nr(Ht,Qr,_,Ur),nr(Ht,Qr,B,Ur),nr(Ht,Qr,_,Qr.notifyWith))):(Yr!==_&&(Pn=void 0,Un=[qn]),(Ur||Qr.resolveWith)(Pn,Un))}},Qn=Ur?kn:function(){try{kn()}catch(qn){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(qn,Qn.stackTrace),Dr+1>=Ht&&(Yr!==B&&(Pn=void 0,Un=[qn]),Qr.rejectWith(Pn,Un))}};Dr?Qn():(n.Deferred.getStackHook&&(Qn.stackTrace=n.Deferred.getStackHook()),ce.setTimeout(Qn))}}return n.Deferred(function(Dr){Ue[0][3].add(nr(0,Dr,g(Gt)?Gt:_,Dr.notifyWith)),Ue[1][3].add(nr(0,Dr,g(_t)?_t:_)),Ue[2][3].add(nr(0,Dr,g(Wt)?Wt:B))}).promise()},promise:function(_t){return _t!=null?n.extend(_t,ft):ft}},kt={};return n.each(Ue,function(_t,Wt){var Gt=Wt[2],Ht=Wt[5];ft[Wt[1]]=Gt.add,Ht&&Gt.add(function(){et=Ht},Ue[3-_t][2].disable,Ue[3-_t][3].disable,Ue[0][2].lock,Ue[0][3].lock),Gt.add(Wt[3].fire),kt[Wt[0]]=function(){return kt[Wt[0]+"With"](this===kt?void 0:this,arguments),this},kt[Wt[0]+"With"]=Gt.fireWith}),ft.promise(kt),me&&me.call(kt,kt),kt},when:function(me){var Ue=arguments.length,et=Ue,ft=Array(et),kt=bt.call(arguments),_t=n.Deferred(),Wt=function(Gt){return function(Ht){ft[Gt]=this,kt[Gt]=arguments.length>1?bt.call(arguments):Ht,--Ue||_t.resolveWith(ft,kt)}};if(Ue<=1&&(I(me,_t.done(Wt(et)).resolve,_t.reject,!Ue),_t.state()==="pending"||g(kt[et]&&kt[et].then)))return _t.then();for(;et--;)I(kt[et],Wt(et),_t.reject);return _t.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;n.Deferred.exceptionHook=function(me,Ue){ce.console&&ce.console.warn&&me&&O.test(me.name)&&ce.console.warn("jQuery.Deferred exception: "+me.message,me.stack,Ue)},n.readyException=function(me){ce.setTimeout(function(){throw me})};var z=n.Deferred();n.fn.ready=function(me){return z.then(me).catch(function(Ue){n.readyException(Ue)}),this},n.extend({isReady:!1,readyWait:1,ready:function(me){(me===!0?--n.readyWait:n.isReady)||(n.isReady=!0,!(me!==!0&&--n.readyWait>0)&&z.resolveWith(r,[n]))}}),n.ready.then=z.then;function k(){r.removeEventListener("DOMContentLoaded",k),ce.removeEventListener("load",k),n.ready()}r.readyState==="complete"||r.readyState!=="loading"&&!r.documentElement.doScroll?ce.setTimeout(n.ready):(r.addEventListener("DOMContentLoaded",k),ce.addEventListener("load",k));var N=function(me,Ue,et,ft,kt,_t,Wt){var Gt=0,Ht=me.length,nr=et==null;if(l(et)==="object"){kt=!0;for(Gt in et)N(me,Ue,Gt,et[Gt],!0,_t,Wt)}else if(ft!==void 0&&(kt=!0,g(ft)||(Wt=!0),nr&&(Wt?(Ue.call(me,ft),Ue=null):(nr=Ue,Ue=function(Dr,Qr,Yr){return nr.call(n(Dr),Yr)})),Ue))for(;Gt<Ht;Gt++)Ue(me[Gt],et,Wt?ft:ft.call(me[Gt],Gt,Ue(me[Gt],et)));return kt?me:nr?Ue.call(me):Ht?Ue(me[0],et):_t},K=/^-ms-/,q=/-([a-z])/g;function Q(me,Ue){return Ue.toUpperCase()}function re(me){return me.replace(K,"ms-").replace(q,Q)}var oe=function(me){return me.nodeType===1||me.nodeType===9||!+me.nodeType};function Y(){this.expando=n.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(me){var Ue=me[this.expando];return Ue||(Ue={},oe(me)&&(me.nodeType?me[this.expando]=Ue:Object.defineProperty(me,this.expando,{value:Ue,configurable:!0}))),Ue},set:function(me,Ue,et){var ft,kt=this.cache(me);if(typeof Ue=="string")kt[re(Ue)]=et;else for(ft in Ue)kt[re(ft)]=Ue[ft];return kt},get:function(me,Ue){return Ue===void 0?this.cache(me):me[this.expando]&&me[this.expando][re(Ue)]},access:function(me,Ue,et){return Ue===void 0||Ue&&typeof Ue=="string"&&et===void 0?this.get(me,Ue):(this.set(me,Ue,et),et!==void 0?et:Ue)},remove:function(me,Ue){var et,ft=me[this.expando];if(ft!==void 0){if(Ue!==void 0)for(Array.isArray(Ue)?Ue=Ue.map(re):(Ue=re(Ue),Ue=Ue in ft?[Ue]:Ue.match(m)||[]),et=Ue.length;et--;)delete ft[Ue[et]];(Ue===void 0||n.isEmptyObject(ft))&&(me.nodeType?me[this.expando]=void 0:delete me[this.expando])}},hasData:function(me){var Ue=me[this.expando];return Ue!==void 0&&!n.isEmptyObject(Ue)}};var G=new Y,V=new Y,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;function ie(me){return me==="true"?!0:me==="false"?!1:me==="null"?null:me===+me+""?+me:Z.test(me)?JSON.parse(me):me}function J(me,Ue,et){var ft;if(et===void 0&&me.nodeType===1)if(ft="data-"+Ue.replace(ae,"-$&").toLowerCase(),et=me.getAttribute(ft),typeof et=="string"){try{et=ie(et)}catch{}V.set(me,Ue,et)}else et=void 0;return et}n.extend({hasData:function(me){return V.hasData(me)||G.hasData(me)},data:function(me,Ue,et){return V.access(me,Ue,et)},removeData:function(me,Ue){V.remove(me,Ue)},_data:function(me,Ue,et){return G.access(me,Ue,et)},_removeData:function(me,Ue){G.remove(me,Ue)}}),n.fn.extend({data:function(me,Ue){var et,ft,kt,_t=this[0],Wt=_t&&_t.attributes;if(me===void 0){if(this.length&&(kt=V.get(_t),_t.nodeType===1&&!G.get(_t,"hasDataAttrs"))){for(et=Wt.length;et--;)Wt[et]&&(ft=Wt[et].name,ft.indexOf("data-")===0&&(ft=re(ft.slice(5)),J(_t,ft,kt[ft])));G.set(_t,"hasDataAttrs",!0)}return kt}return typeof me=="object"?this.each(function(){V.set(this,me)}):N(this,function(Gt){var Ht;if(_t&&Gt===void 0)return Ht=V.get(_t,me),Ht!==void 0||(Ht=J(_t,me),Ht!==void 0)?Ht:void 0;this.each(function(){V.set(this,me,Gt)})},null,Ue,arguments.length>1,null,!0)},removeData:function(me){return this.each(function(){V.remove(this,me)})}}),n.extend({queue:function(me,Ue,et){var ft;if(me)return Ue=(Ue||"fx")+"queue",ft=G.get(me,Ue),et&&(!ft||Array.isArray(et)?ft=G.access(me,Ue,n.makeArray(et)):ft.push(et)),ft||[]},dequeue:function(me,Ue){Ue=Ue||"fx";var et=n.queue(me,Ue),ft=et.length,kt=et.shift(),_t=n._queueHooks(me,Ue),Wt=function(){n.dequeue(me,Ue)};kt==="inprogress"&&(kt=et.shift(),ft--),kt&&(Ue==="fx"&&et.unshift("inprogress"),delete _t.stop,kt.call(me,Wt,_t)),!ft&&_t&&_t.empty.fire()},_queueHooks:function(me,Ue){var et=Ue+"queueHooks";return G.get(me,et)||G.access(me,et,{empty:n.Callbacks("once memory").add(function(){G.remove(me,[Ue+"queue",et])})})}}),n.fn.extend({queue:function(me,Ue){var et=2;return typeof me!="string"&&(Ue=me,me="fx",et--),arguments.length<et?n.queue(this[0],me):Ue===void 0?this:this.each(function(){var ft=n.queue(this,me,Ue);n._queueHooks(this,me),me==="fx"&&ft[0]!=="inprogress"&&n.dequeue(this,me)})},dequeue:function(me){return this.each(function(){n.dequeue(this,me)})},clearQueue:function(me){return this.queue(me||"fx",[])},promise:function(me,Ue){var et,ft=1,kt=n.Deferred(),_t=this,Wt=this.length,Gt=function(){--ft||kt.resolveWith(_t,[_t])};for(typeof me!="string"&&(Ue=me,me=void 0),me=me||"fx";Wt--;)et=G.get(_t[Wt],me+"queueHooks"),et&&et.empty&&(ft++,et.empty.add(Gt));return Gt(),kt.promise(Ue)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),ee=["Top","Right","Bottom","Left"],ue=r.documentElement,ge=function(me){return n.contains(me.ownerDocument,me)},Te={composed:!0};ue.getRootNode&&(ge=function(me){return n.contains(me.ownerDocument,me)||me.getRootNode(Te)===me.ownerDocument});var xe=function(me,Ue){return me=Ue||me,me.style.display==="none"||me.style.display===""&&ge(me)&&n.css(me,"display")==="none"};function Pe(me,Ue,et,ft){var kt,_t,Wt=20,Gt=ft?function(){return ft.cur()}:function(){return n.css(me,Ue,"")},Ht=Gt(),nr=et&&et[3]||(n.cssNumber[Ue]?"":"px"),Dr=me.nodeType&&(n.cssNumber[Ue]||nr!=="px"&&+Ht)&&se.exec(n.css(me,Ue));if(Dr&&Dr[3]!==nr){for(Ht=Ht/2,nr=nr||Dr[3],Dr=+Ht||1;Wt--;)n.style(me,Ue,Dr+nr),(1-_t)*(1-(_t=Gt()/Ht||.5))<=0&&(Wt=0),Dr=Dr/_t;Dr=Dr*2,n.style(me,Ue,Dr+nr),et=et||[]}return et&&(Dr=+Dr||+Ht||0,kt=et[1]?Dr+(et[1]+1)*et[2]:+et[2],ft&&(ft.unit=nr,ft.start=Dr,ft.end=kt)),kt}var Ie={};function Ae(me){var Ue,et=me.ownerDocument,ft=me.nodeName,kt=Ie[ft];return kt||(Ue=et.body.appendChild(et.createElement(ft)),kt=n.css(Ue,"display"),Ue.parentNode.removeChild(Ue),kt==="none"&&(kt="block"),Ie[ft]=kt,kt)}function be(me,Ue){for(var et,ft,kt=[],_t=0,Wt=me.length;_t<Wt;_t++)ft=me[_t],ft.style&&(et=ft.style.display,Ue?(et==="none"&&(kt[_t]=G.get(ft,"display")||null,kt[_t]||(ft.style.display="")),ft.style.display===""&&xe(ft)&&(kt[_t]=Ae(ft))):et!=="none"&&(kt[_t]="none",G.set(ft,"display",et)));for(_t=0;_t<Wt;_t++)kt[_t]!=null&&(me[_t].style.display=kt[_t]);return me}n.fn.extend({show:function(){return be(this,!0)},hide:function(){return be(this)},toggle:function(me){return typeof me=="boolean"?me?this.show():this.hide():this.each(function(){xe(this)?n(this).show():n(this).hide()})}});var _e=/^(?:checkbox|radio)$/i,Ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,We=/^$|^module$|\/(?:java|ecma)script/i;(function(){var me=r.createDocumentFragment(),Ue=me.appendChild(r.createElement("div")),et=r.createElement("input");et.setAttribute("type","radio"),et.setAttribute("checked","checked"),et.setAttribute("name","t"),Ue.appendChild(et),v.checkClone=Ue.cloneNode(!0).cloneNode(!0).lastChild.checked,Ue.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ue.cloneNode(!0).lastChild.defaultValue,Ue.innerHTML="<option></option>",v.option=!!Ue.lastChild})();var ze={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,v.option||(ze.optgroup=ze.option=[1,"<select multiple='multiple'>","</select>"]);function Ze(me,Ue){var et;return typeof me.getElementsByTagName<"u"?et=me.getElementsByTagName(Ue||"*"):typeof me.querySelectorAll<"u"?et=me.querySelectorAll(Ue||"*"):et=[],Ue===void 0||Ue&&d(me,Ue)?n.merge([me],et):et}function ct(me,Ue){for(var et=0,ft=me.length;et<ft;et++)G.set(me[et],"globalEval",!Ue||G.get(Ue[et],"globalEval"))}var lt=/<|&#?\w+;/;function at(me,Ue,et,ft,kt){for(var _t,Wt,Gt,Ht,nr,Dr,Qr=Ue.createDocumentFragment(),Yr=[],Ur=0,Pn=me.length;Ur<Pn;Ur++)if(_t=me[Ur],_t||_t===0)if(l(_t)==="object")n.merge(Yr,_t.nodeType?[_t]:_t);else if(!lt.test(_t))Yr.push(Ue.createTextNode(_t));else{for(Wt=Wt||Qr.appendChild(Ue.createElement("div")),Gt=(Ve.exec(_t)||["",""])[1].toLowerCase(),Ht=ze[Gt]||ze._default,Wt.innerHTML=Ht[1]+n.htmlPrefilter(_t)+Ht[2],Dr=Ht[0];Dr--;)Wt=Wt.lastChild;n.merge(Yr,Wt.childNodes),Wt=Qr.firstChild,Wt.textContent=""}for(Qr.textContent="",Ur=0;_t=Yr[Ur++];){if(ft&&n.inArray(_t,ft)>-1){kt&&kt.push(_t);continue}if(nr=ge(_t),Wt=Ze(Qr.appendChild(_t),"script"),nr&&ct(Wt),et)for(Dr=0;_t=Wt[Dr++];)We.test(_t.type||"")&&et.push(_t)}return Qr}var tt=/^([^.]*)(?:\.(.+)|)/;function dt(){return!0}function wt(){return!1}function Mt(me,Ue){return me===It()==(Ue==="focus")}function It(){try{return r.activeElement}catch{}}function $e(me,Ue,et,ft,kt,_t){var Wt,Gt;if(typeof Ue=="object"){typeof et!="string"&&(ft=ft||et,et=void 0);for(Gt in Ue)$e(me,Gt,et,ft,Ue[Gt],_t);return me}if(ft==null&&kt==null?(kt=et,ft=et=void 0):kt==null&&(typeof et=="string"?(kt=ft,ft=void 0):(kt=ft,ft=et,et=void 0)),kt===!1)kt=wt;else if(!kt)return me;return _t===1&&(Wt=kt,kt=function(Ht){return n().off(Ht),Wt.apply(this,arguments)},kt.guid=Wt.guid||(Wt.guid=n.guid++)),me.each(function(){n.event.add(this,Ue,kt,ft,et)})}n.event={global:{},add:function(me,Ue,et,ft,kt){var _t,Wt,Gt,Ht,nr,Dr,Qr,Yr,Ur,Pn,Un,kn=G.get(me);if(oe(me))for(et.handler&&(_t=et,et=_t.handler,kt=_t.selector),kt&&n.find.matchesSelector(ue,kt),et.guid||(et.guid=n.guid++),(Ht=kn.events)||(Ht=kn.events=Object.create(null)),(Wt=kn.handle)||(Wt=kn.handle=function(Qn){return typeof n<"u"&&n.event.triggered!==Qn.type?n.event.dispatch.apply(me,arguments):void 0}),Ue=(Ue||"").match(m)||[""],nr=Ue.length;nr--;)Gt=tt.exec(Ue[nr])||[],Ur=Un=Gt[1],Pn=(Gt[2]||"").split(".").sort(),Ur&&(Qr=n.event.special[Ur]||{},Ur=(kt?Qr.delegateType:Qr.bindType)||Ur,Qr=n.event.special[Ur]||{},Dr=n.extend({type:Ur,origType:Un,data:ft,handler:et,guid:et.guid,selector:kt,needsContext:kt&&n.expr.match.needsContext.test(kt),namespace:Pn.join(".")},_t),(Yr=Ht[Ur])||(Yr=Ht[Ur]=[],Yr.delegateCount=0,(!Qr.setup||Qr.setup.call(me,ft,Pn,Wt)===!1)&&me.addEventListener&&me.addEventListener(Ur,Wt)),Qr.add&&(Qr.add.call(me,Dr),Dr.handler.guid||(Dr.handler.guid=et.guid)),kt?Yr.splice(Yr.delegateCount++,0,Dr):Yr.push(Dr),n.event.global[Ur]=!0)},remove:function(me,Ue,et,ft,kt){var _t,Wt,Gt,Ht,nr,Dr,Qr,Yr,Ur,Pn,Un,kn=G.hasData(me)&&G.get(me);if(!(!kn||!(Ht=kn.events))){for(Ue=(Ue||"").match(m)||[""],nr=Ue.length;nr--;){if(Gt=tt.exec(Ue[nr])||[],Ur=Un=Gt[1],Pn=(Gt[2]||"").split(".").sort(),!Ur){for(Ur in Ht)n.event.remove(me,Ur+Ue[nr],et,ft,!0);continue}for(Qr=n.event.special[Ur]||{},Ur=(ft?Qr.delegateType:Qr.bindType)||Ur,Yr=Ht[Ur]||[],Gt=Gt[2]&&new RegExp("(^|\\.)"+Pn.join("\\.(?:.*\\.|)")+"(\\.|$)"),Wt=_t=Yr.length;_t--;)Dr=Yr[_t],(kt||Un===Dr.origType)&&(!et||et.guid===Dr.guid)&&(!Gt||Gt.test(Dr.namespace))&&(!ft||ft===Dr.selector||ft==="**"&&Dr.selector)&&(Yr.splice(_t,1),Dr.selector&&Yr.delegateCount--,Qr.remove&&Qr.remove.call(me,Dr));Wt&&!Yr.length&&((!Qr.teardown||Qr.teardown.call(me,Pn,kn.handle)===!1)&&n.removeEvent(me,Ur,kn.handle),delete Ht[Ur])}n.isEmptyObject(Ht)&&G.remove(me,"handle events")}},dispatch:function(me){var Ue,et,ft,kt,_t,Wt,Gt=new Array(arguments.length),Ht=n.event.fix(me),nr=(G.get(this,"events")||Object.create(null))[Ht.type]||[],Dr=n.event.special[Ht.type]||{};for(Gt[0]=Ht,Ue=1;Ue<arguments.length;Ue++)Gt[Ue]=arguments[Ue];if(Ht.delegateTarget=this,!(Dr.preDispatch&&Dr.preDispatch.call(this,Ht)===!1)){for(Wt=n.event.handlers.call(this,Ht,nr),Ue=0;(kt=Wt[Ue++])&&!Ht.isPropagationStopped();)for(Ht.currentTarget=kt.elem,et=0;(_t=kt.handlers[et++])&&!Ht.isImmediatePropagationStopped();)(!Ht.rnamespace||_t.namespace===!1||Ht.rnamespace.test(_t.namespace))&&(Ht.handleObj=_t,Ht.data=_t.data,ft=((n.event.special[_t.origType]||{}).handle||_t.handler).apply(kt.elem,Gt),ft!==void 0&&(Ht.result=ft)===!1&&(Ht.preventDefault(),Ht.stopPropagation()));return Dr.postDispatch&&Dr.postDispatch.call(this,Ht),Ht.result}},handlers:function(me,Ue){var et,ft,kt,_t,Wt,Gt=[],Ht=Ue.delegateCount,nr=me.target;if(Ht&&nr.nodeType&&!(me.type==="click"&&me.button>=1)){for(;nr!==this;nr=nr.parentNode||this)if(nr.nodeType===1&&!(me.type==="click"&&nr.disabled===!0)){for(_t=[],Wt={},et=0;et<Ht;et++)ft=Ue[et],kt=ft.selector+" ",Wt[kt]===void 0&&(Wt[kt]=ft.needsContext?n(kt,this).index(nr)>-1:n.find(kt,this,null,[nr]).length),Wt[kt]&&_t.push(ft);_t.length&&Gt.push({elem:nr,handlers:_t})}}return nr=this,Ht<Ue.length&&Gt.push({elem:nr,handlers:Ue.slice(Ht)}),Gt},addProp:function(me,Ue){Object.defineProperty(n.Event.prototype,me,{enumerable:!0,configurable:!0,get:g(Ue)?function(){if(this.originalEvent)return Ue(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[me]},set:function(et){Object.defineProperty(this,me,{enumerable:!0,configurable:!0,writable:!0,value:et})}})},fix:function(me){return me[n.expando]?me:new n.Event(me)},special:{load:{noBubble:!0},click:{setup:function(me){var Ue=this||me;return _e.test(Ue.type)&&Ue.click&&d(Ue,"input")&&ke(Ue,"click",dt),!1},trigger:function(me){var Ue=this||me;return _e.test(Ue.type)&&Ue.click&&d(Ue,"input")&&ke(Ue,"click"),!0},_default:function(me){var Ue=me.target;return _e.test(Ue.type)&&Ue.click&&d(Ue,"input")&&G.get(Ue,"click")||d(Ue,"a")}},beforeunload:{postDispatch:function(me){me.result!==void 0&&me.originalEvent&&(me.originalEvent.returnValue=me.result)}}}};function ke(me,Ue,et){if(!et){G.get(me,Ue)===void 0&&n.event.add(me,Ue,dt);return}G.set(me,Ue,!1),n.event.add(me,Ue,{namespace:!1,handler:function(ft){var kt,_t,Wt=G.get(this,Ue);if(ft.isTrigger&1&&this[Ue]){if(Wt.length)(n.event.special[Ue]||{}).delegateType&&ft.stopPropagation();else if(Wt=bt.call(arguments),G.set(this,Ue,Wt),kt=et(this,Ue),this[Ue](),_t=G.get(this,Ue),Wt!==_t||kt?G.set(this,Ue,!1):_t={},Wt!==_t)return ft.stopImmediatePropagation(),ft.preventDefault(),_t&&_t.value}else Wt.length&&(G.set(this,Ue,{value:n.event.trigger(n.extend(Wt[0],n.Event.prototype),Wt.slice(1),this)}),ft.stopImmediatePropagation())}})}n.removeEvent=function(me,Ue,et){me.removeEventListener&&me.removeEventListener(Ue,et)},n.Event=function(me,Ue){if(!(this instanceof n.Event))return new n.Event(me,Ue);me&&me.type?(this.originalEvent=me,this.type=me.type,this.isDefaultPrevented=me.defaultPrevented||me.defaultPrevented===void 0&&me.returnValue===!1?dt:wt,this.target=me.target&&me.target.nodeType===3?me.target.parentNode:me.target,this.currentTarget=me.currentTarget,this.relatedTarget=me.relatedTarget):this.type=me,Ue&&n.extend(this,Ue),this.timeStamp=me&&me.timeStamp||Date.now(),this[n.expando]=!0},n.Event.prototype={constructor:n.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var me=this.originalEvent;this.isDefaultPrevented=dt,me&&!this.isSimulated&&me.preventDefault()},stopPropagation:function(){var me=this.originalEvent;this.isPropagationStopped=dt,me&&!this.isSimulated&&me.stopPropagation()},stopImmediatePropagation:function(){var me=this.originalEvent;this.isImmediatePropagationStopped=dt,me&&!this.isSimulated&&me.stopImmediatePropagation(),this.stopPropagation()}},n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},n.event.addProp),n.each({focus:"focusin",blur:"focusout"},function(me,Ue){n.event.special[me]={setup:function(){return ke(this,me,Mt),!1},trigger:function(){return ke(this,me),!0},_default:function(et){return G.get(et.target,me)},delegateType:Ue}}),n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(me,Ue){n.event.special[me]={delegateType:Ue,bindType:Ue,handle:function(et){var ft,kt=this,_t=et.relatedTarget,Wt=et.handleObj;return(!_t||_t!==kt&&!n.contains(kt,_t))&&(et.type=Wt.origType,ft=Wt.handler.apply(this,arguments),et.type=Ue),ft}}}),n.fn.extend({on:function(me,Ue,et,ft){return $e(this,me,Ue,et,ft)},one:function(me,Ue,et,ft){return $e(this,me,Ue,et,ft,1)},off:function(me,Ue,et){var ft,kt;if(me&&me.preventDefault&&me.handleObj)return ft=me.handleObj,n(me.delegateTarget).off(ft.namespace?ft.origType+"."+ft.namespace:ft.origType,ft.selector,ft.handler),this;if(typeof me=="object"){for(kt in me)this.off(kt,Ue,me[kt]);return this}return(Ue===!1||typeof Ue=="function")&&(et=Ue,Ue=void 0),et===!1&&(et=wt),this.each(function(){n.event.remove(this,me,et,Ue)})}});var Fe=/<script|<style|<link/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Je(me,Ue){return d(me,"table")&&d(Ue.nodeType!==11?Ue:Ue.firstChild,"tr")&&n(me).children("tbody")[0]||me}function Re(me){return me.type=(me.getAttribute("type")!==null)+"/"+me.type,me}function Me(me){return(me.type||"").slice(0,5)==="true/"?me.type=me.type.slice(5):me.removeAttribute("type"),me}function fe(me,Ue){var et,ft,kt,_t,Wt,Gt,Ht;if(Ue.nodeType===1){if(G.hasData(me)&&(_t=G.get(me),Ht=_t.events,Ht)){G.remove(Ue,"handle events");for(kt in Ht)for(et=0,ft=Ht[kt].length;et<ft;et++)n.event.add(Ue,kt,Ht[kt][et])}V.hasData(me)&&(Wt=V.access(me),Gt=n.extend({},Wt),V.set(Ue,Gt))}}function ye(me,Ue){var et=Ue.nodeName.toLowerCase();et==="input"&&_e.test(me.type)?Ue.checked=me.checked:(et==="input"||et==="textarea")&&(Ue.defaultValue=me.defaultValue)}function Le(me,Ue,et,ft){Ue=W(Ue);var kt,_t,Wt,Gt,Ht,nr,Dr=0,Qr=me.length,Yr=Qr-1,Ur=Ue[0],Pn=g(Ur);if(Pn||Qr>1&&typeof Ur=="string"&&!v.checkClone&&qe.test(Ur))return me.each(function(Un){var kn=me.eq(Un);Pn&&(Ue[0]=Ur.call(this,Un,kn.html())),Le(kn,Ue,et,ft)});if(Qr&&(kt=at(Ue,me[0].ownerDocument,!1,me,ft),_t=kt.firstChild,kt.childNodes.length===1&&(kt=_t),_t||ft)){for(Wt=n.map(Ze(kt,"script"),Re),Gt=Wt.length;Dr<Qr;Dr++)Ht=kt,Dr!==Yr&&(Ht=n.clone(Ht,!0,!0),Gt&&n.merge(Wt,Ze(Ht,"script"))),et.call(me[Dr],Ht,Dr);if(Gt)for(nr=Wt[Wt.length-1].ownerDocument,n.map(Wt,Me),Dr=0;Dr<Gt;Dr++)Ht=Wt[Dr],We.test(Ht.type||"")&&!G.access(Ht,"globalEval")&&n.contains(nr,Ht)&&(Ht.src&&(Ht.type||"").toLowerCase()!=="module"?n._evalUrl&&!Ht.noModule&&n._evalUrl(Ht.src,{nonce:Ht.nonce||Ht.getAttribute("nonce")},nr):o(Ht.textContent.replace(it,""),Ht,nr))}return me}function Oe(me,Ue,et){for(var ft,kt=Ue?n.filter(Ue,me):me,_t=0;(ft=kt[_t])!=null;_t++)!et&&ft.nodeType===1&&n.cleanData(Ze(ft)),ft.parentNode&&(et&&ge(ft)&&ct(Ze(ft,"script")),ft.parentNode.removeChild(ft));return me}n.extend({htmlPrefilter:function(me){return me},clone:function(me,Ue,et){var ft,kt,_t,Wt,Gt=me.cloneNode(!0),Ht=ge(me);if(!v.noCloneChecked&&(me.nodeType===1||me.nodeType===11)&&!n.isXMLDoc(me))for(Wt=Ze(Gt),_t=Ze(me),ft=0,kt=_t.length;ft<kt;ft++)ye(_t[ft],Wt[ft]);if(Ue)if(et)for(_t=_t||Ze(me),Wt=Wt||Ze(Gt),ft=0,kt=_t.length;ft<kt;ft++)fe(_t[ft],Wt[ft]);else fe(me,Gt);return Wt=Ze(Gt,"script"),Wt.length>0&&ct(Wt,!Ht&&Ze(me,"script")),Gt},cleanData:function(me){for(var Ue,et,ft,kt=n.event.special,_t=0;(et=me[_t])!==void 0;_t++)if(oe(et)){if(Ue=et[G.expando]){if(Ue.events)for(ft in Ue.events)kt[ft]?n.event.remove(et,ft):n.removeEvent(et,ft,Ue.handle);et[G.expando]=void 0}et[V.expando]&&(et[V.expando]=void 0)}}}),n.fn.extend({detach:function(me){return Oe(this,me,!0)},remove:function(me){return Oe(this,me)},text:function(me){return N(this,function(Ue){return Ue===void 0?n.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=Ue)})},null,me,arguments.length)},append:function(){return Le(this,arguments,function(me){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Ue=Je(this,me);Ue.appendChild(me)}})},prepend:function(){return Le(this,arguments,function(me){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Ue=Je(this,me);Ue.insertBefore(me,Ue.firstChild)}})},before:function(){return Le(this,arguments,function(me){this.parentNode&&this.parentNode.insertBefore(me,this)})},after:function(){return Le(this,arguments,function(me){this.parentNode&&this.parentNode.insertBefore(me,this.nextSibling)})},empty:function(){for(var me,Ue=0;(me=this[Ue])!=null;Ue++)me.nodeType===1&&(n.cleanData(Ze(me,!1)),me.textContent="");return this},clone:function(me,Ue){return me=me??!1,Ue=Ue??me,this.map(function(){return n.clone(this,me,Ue)})},html:function(me){return N(this,function(Ue){var et=this[0]||{},ft=0,kt=this.length;if(Ue===void 0&&et.nodeType===1)return et.innerHTML;if(typeof Ue=="string"&&!Fe.test(Ue)&&!ze[(Ve.exec(Ue)||["",""])[1].toLowerCase()]){Ue=n.htmlPrefilter(Ue);try{for(;ft<kt;ft++)et=this[ft]||{},et.nodeType===1&&(n.cleanData(Ze(et,!1)),et.innerHTML=Ue);et=0}catch{}}et&&this.empty().append(Ue)},null,me,arguments.length)},replaceWith:function(){var me=[];return Le(this,arguments,function(Ue){var et=this.parentNode;n.inArray(this,me)<0&&(n.cleanData(Ze(this)),et&&et.replaceChild(Ue,this))},me)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(me,Ue){n.fn[me]=function(et){for(var ft,kt=[],_t=n(et),Wt=_t.length-1,Gt=0;Gt<=Wt;Gt++)ft=Gt===Wt?this:this.clone(!0),n(_t[Gt])[Ue](ft),U.apply(kt,ft.get());return this.pushStack(kt)}});var ht=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),vt=/^--/,Lt=function(me){var Ue=me.ownerDocument.defaultView;return(!Ue||!Ue.opener)&&(Ue=ce),Ue.getComputedStyle(me)},Ot=function(me,Ue,et){var ft,kt,_t={};for(kt in Ue)_t[kt]=me.style[kt],me.style[kt]=Ue[kt];ft=et.call(me);for(kt in Ue)me.style[kt]=_t[kt];return ft},Jt=new RegExp(ee.join("|"),"i"),qt="[\\x20\\t\\r\\n\\f]",Vt=new RegExp("^"+qt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qt+"+$","g");(function(){function me(){if(nr){Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",nr.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ue.appendChild(Ht).appendChild(nr);var Dr=ce.getComputedStyle(nr);et=Dr.top!=="1%",Gt=Ue(Dr.marginLeft)===12,nr.style.right="60%",_t=Ue(Dr.right)===36,ft=Ue(Dr.width)===36,nr.style.position="absolute",kt=Ue(nr.offsetWidth/3)===12,ue.removeChild(Ht),nr=null}}function Ue(Dr){return Math.round(parseFloat(Dr))}var et,ft,kt,_t,Wt,Gt,Ht=r.createElement("div"),nr=r.createElement("div");nr.style&&(nr.style.backgroundClip="content-box",nr.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle=nr.style.backgroundClip==="content-box",n.extend(v,{boxSizingReliable:function(){return me(),ft},pixelBoxStyles:function(){return me(),_t},pixelPosition:function(){return me(),et},reliableMarginLeft:function(){return me(),Gt},scrollboxSize:function(){return me(),kt},reliableTrDimensions:function(){var Dr,Qr,Yr,Ur;return Wt==null&&(Dr=r.createElement("table"),Qr=r.createElement("tr"),Yr=r.createElement("div"),Dr.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Qr.style.cssText="border:1px solid",Qr.style.height="1px",Yr.style.height="9px",Yr.style.display="block",ue.appendChild(Dr).appendChild(Qr).appendChild(Yr),Ur=ce.getComputedStyle(Qr),Wt=parseInt(Ur.height,10)+parseInt(Ur.borderTopWidth,10)+parseInt(Ur.borderBottomWidth,10)===Qr.offsetHeight,ue.removeChild(Dr)),Wt}}))})();function vr(me,Ue,et){var ft,kt,_t,Wt,Gt=vt.test(Ue),Ht=me.style;return et=et||Lt(me),et&&(Wt=et.getPropertyValue(Ue)||et[Ue],Gt&&Wt&&(Wt=Wt.replace(Vt,"$1")||void 0),Wt===""&&!ge(me)&&(Wt=n.style(me,Ue)),!v.pixelBoxStyles()&&ht.test(Wt)&&Jt.test(Ue)&&(ft=Ht.width,kt=Ht.minWidth,_t=Ht.maxWidth,Ht.minWidth=Ht.maxWidth=Ht.width=Wt,Wt=et.width,Ht.width=ft,Ht.minWidth=kt,Ht.maxWidth=_t)),Wt!==void 0?Wt+"":Wt}function gr(me,Ue){return{get:function(){if(me()){delete this.get;return}return(this.get=Ue).apply(this,arguments)}}}var Gr=["Webkit","Moz","ms"],At=r.createElement("div").style,or={};function rr(me){for(var Ue=me[0].toUpperCase()+me.slice(1),et=Gr.length;et--;)if(me=Gr[et]+Ue,me in At)return me}function Lr(me){var Ue=n.cssProps[me]||or[me];return Ue||(me in At?me:or[me]=rr(me)||me)}var Tr=/^(none|table(?!-c[ea]).+)/,pt={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function yt(me,Ue,et){var ft=se.exec(Ue);return ft?Math.max(0,ft[2]-(et||0))+(ft[3]||"px"):Ue}function Pt(me,Ue,et,ft,kt,_t){var Wt=Ue==="width"?1:0,Gt=0,Ht=0;if(et===(ft?"border":"content"))return 0;for(;Wt<4;Wt+=2)et==="margin"&&(Ht+=n.css(me,et+ee[Wt],!0,kt)),ft?(et==="content"&&(Ht-=n.css(me,"padding"+ee[Wt],!0,kt)),et!=="margin"&&(Ht-=n.css(me,"border"+ee[Wt]+"Width",!0,kt))):(Ht+=n.css(me,"padding"+ee[Wt],!0,kt),et!=="padding"?Ht+=n.css(me,"border"+ee[Wt]+"Width",!0,kt):Gt+=n.css(me,"border"+ee[Wt]+"Width",!0,kt));return!ft&&_t>=0&&(Ht+=Math.max(0,Math.ceil(me["offset"+Ue[0].toUpperCase()+Ue.slice(1)]-_t-Ht-Gt-.5))||0),Ht}function Dt(me,Ue,et){var ft=Lt(me),kt=!v.boxSizingReliable()||et,_t=kt&&n.css(me,"boxSizing",!1,ft)==="border-box",Wt=_t,Gt=vr(me,Ue,ft),Ht="offset"+Ue[0].toUpperCase()+Ue.slice(1);if(ht.test(Gt)){if(!et)return Gt;Gt="auto"}return(!v.boxSizingReliable()&&_t||!v.reliableTrDimensions()&&d(me,"tr")||Gt==="auto"||!parseFloat(Gt)&&n.css(me,"display",!1,ft)==="inline")&&me.getClientRects().length&&(_t=n.css(me,"boxSizing",!1,ft)==="border-box",Wt=Ht in me,Wt&&(Gt=me[Ht])),Gt=parseFloat(Gt)||0,Gt+Pt(me,Ue,et||(_t?"border":"content"),Wt,ft,Gt)+"px"}n.extend({cssHooks:{opacity:{get:function(me,Ue){if(Ue){var et=vr(me,"opacity");return et===""?"1":et}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(me,Ue,et,ft){if(!(!me||me.nodeType===3||me.nodeType===8||!me.style)){var kt,_t,Wt,Gt=re(Ue),Ht=vt.test(Ue),nr=me.style;if(Ht||(Ue=Lr(Gt)),Wt=n.cssHooks[Ue]||n.cssHooks[Gt],et!==void 0){if(_t=typeof et,_t==="string"&&(kt=se.exec(et))&&kt[1]&&(et=Pe(me,Ue,kt),_t="number"),et==null||et!==et)return;_t==="number"&&!Ht&&(et+=kt&&kt[3]||(n.cssNumber[Gt]?"":"px")),!v.clearCloneStyle&&et===""&&Ue.indexOf("background")===0&&(nr[Ue]="inherit"),(!Wt||!("set"in Wt)||(et=Wt.set(me,et,ft))!==void 0)&&(Ht?nr.setProperty(Ue,et):nr[Ue]=et)}else return Wt&&"get"in Wt&&(kt=Wt.get(me,!1,ft))!==void 0?kt:nr[Ue]}},css:function(me,Ue,et,ft){var kt,_t,Wt,Gt=re(Ue),Ht=vt.test(Ue);return Ht||(Ue=Lr(Gt)),Wt=n.cssHooks[Ue]||n.cssHooks[Gt],Wt&&"get"in Wt&&(kt=Wt.get(me,!0,et)),kt===void 0&&(kt=vr(me,Ue,ft)),kt==="normal"&&Ue in st&&(kt=st[Ue]),et===""||et?(_t=parseFloat(kt),et===!0||isFinite(_t)?_t||0:kt):kt}}),n.each(["height","width"],function(me,Ue){n.cssHooks[Ue]={get:function(et,ft,kt){if(ft)return Tr.test(n.css(et,"display"))&&(!et.getClientRects().length||!et.getBoundingClientRect().width)?Ot(et,pt,function(){return Dt(et,Ue,kt)}):Dt(et,Ue,kt)},set:function(et,ft,kt){var _t,Wt=Lt(et),Gt=!v.scrollboxSize()&&Wt.position==="absolute",Ht=Gt||kt,nr=Ht&&n.css(et,"boxSizing",!1,Wt)==="border-box",Dr=kt?Pt(et,Ue,kt,nr,Wt):0;return nr&&Gt&&(Dr-=Math.ceil(et["offset"+Ue[0].toUpperCase()+Ue.slice(1)]-parseFloat(Wt[Ue])-Pt(et,Ue,"border",!1,Wt)-.5)),Dr&&(_t=se.exec(ft))&&(_t[3]||"px")!=="px"&&(et.style[Ue]=ft,ft=n.css(et,Ue)),yt(et,ft,Dr)}}}),n.cssHooks.marginLeft=gr(v.reliableMarginLeft,function(me,Ue){if(Ue)return(parseFloat(vr(me,"marginLeft"))||me.getBoundingClientRect().left-Ot(me,{marginLeft:0},function(){return me.getBoundingClientRect().left}))+"px"}),n.each({margin:"",padding:"",border:"Width"},function(me,Ue){n.cssHooks[me+Ue]={expand:function(et){for(var ft=0,kt={},_t=typeof et=="string"?et.split(" "):[et];ft<4;ft++)kt[me+ee[ft]+Ue]=_t[ft]||_t[ft-2]||_t[0];return kt}},me!=="margin"&&(n.cssHooks[me+Ue].set=yt)}),n.fn.extend({css:function(me,Ue){return N(this,function(et,ft,kt){var _t,Wt,Gt={},Ht=0;if(Array.isArray(ft)){for(_t=Lt(et),Wt=ft.length;Ht<Wt;Ht++)Gt[ft[Ht]]=n.css(et,ft[Ht],!1,_t);return Gt}return kt!==void 0?n.style(et,ft,kt):n.css(et,ft)},me,Ue,arguments.length>1)}});function Nt(me,Ue,et,ft,kt){return new Nt.prototype.init(me,Ue,et,ft,kt)}n.Tween=Nt,Nt.prototype={constructor:Nt,init:function(me,Ue,et,ft,kt,_t){this.elem=me,this.prop=et,this.easing=kt||n.easing._default,this.options=Ue,this.start=this.now=this.cur(),this.end=ft,this.unit=_t||(n.cssNumber[et]?"":"px")},cur:function(){var me=Nt.propHooks[this.prop];return me&&me.get?me.get(this):Nt.propHooks._default.get(this)},run:function(me){var Ue,et=Nt.propHooks[this.prop];return this.options.duration?this.pos=Ue=n.easing[this.easing](me,this.options.duration*me,0,1,this.options.duration):this.pos=Ue=me,this.now=(this.end-this.start)*Ue+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),et&&et.set?et.set(this):Nt.propHooks._default.set(this),this}},Nt.prototype.init.prototype=Nt.prototype,Nt.propHooks={_default:{get:function(me){var Ue;return me.elem.nodeType!==1||me.elem[me.prop]!=null&&me.elem.style[me.prop]==null?me.elem[me.prop]:(Ue=n.css(me.elem,me.prop,""),!Ue||Ue==="auto"?0:Ue)},set:function(me){n.fx.step[me.prop]?n.fx.step[me.prop](me):me.elem.nodeType===1&&(n.cssHooks[me.prop]||me.elem.style[Lr(me.prop)]!=null)?n.style(me.elem,me.prop,me.now+me.unit):me.elem[me.prop]=me.now}}},Nt.propHooks.scrollTop=Nt.propHooks.scrollLeft={set:function(me){me.elem.nodeType&&me.elem.parentNode&&(me.elem[me.prop]=me.now)}},n.easing={linear:function(me){return me},swing:function(me){return .5-Math.cos(me*Math.PI)/2},_default:"swing"},n.fx=Nt.prototype.init,n.fx.step={};var Zt,$t,lr=/^(?:toggle|show|hide)$/,ir=/queueHooks$/;function He(){$t&&(r.hidden===!1&&ce.requestAnimationFrame?ce.requestAnimationFrame(He):ce.setTimeout(He,n.fx.interval),n.fx.tick())}function Ge(){return ce.setTimeout(function(){Zt=void 0}),Zt=Date.now()}function Ct(me,Ue){var et,ft=0,kt={height:me};for(Ue=Ue?1:0;ft<4;ft+=2-Ue)et=ee[ft],kt["margin"+et]=kt["padding"+et]=me;return Ue&&(kt.opacity=kt.width=me),kt}function Ut(me,Ue,et){for(var ft,kt=(ur.tweeners[Ue]||[]).concat(ur.tweeners["*"]),_t=0,Wt=kt.length;_t<Wt;_t++)if(ft=kt[_t].call(et,Ue,me))return ft}function Kt(me,Ue,et){var ft,kt,_t,Wt,Gt,Ht,nr,Dr,Qr="width"in Ue||"height"in Ue,Yr=this,Ur={},Pn=me.style,Un=me.nodeType&&xe(me),kn=G.get(me,"fxshow");et.queue||(Wt=n._queueHooks(me,"fx"),Wt.unqueued==null&&(Wt.unqueued=0,Gt=Wt.empty.fire,Wt.empty.fire=function(){Wt.unqueued||Gt()}),Wt.unqueued++,Yr.always(function(){Yr.always(function(){Wt.unqueued--,n.queue(me,"fx").length||Wt.empty.fire()})}));for(ft in Ue)if(kt=Ue[ft],lr.test(kt)){if(delete Ue[ft],_t=_t||kt==="toggle",kt===(Un?"hide":"show"))if(kt==="show"&&kn&&kn[ft]!==void 0)Un=!0;else continue;Ur[ft]=kn&&kn[ft]||n.style(me,ft)}if(Ht=!n.isEmptyObject(Ue),!(!Ht&&n.isEmptyObject(Ur))){Qr&&me.nodeType===1&&(et.overflow=[Pn.overflow,Pn.overflowX,Pn.overflowY],nr=kn&&kn.display,nr==null&&(nr=G.get(me,"display")),Dr=n.css(me,"display"),Dr==="none"&&(nr?Dr=nr:(be([me],!0),nr=me.style.display||nr,Dr=n.css(me,"display"),be([me]))),(Dr==="inline"||Dr==="inline-block"&&nr!=null)&&n.css(me,"float")==="none"&&(Ht||(Yr.done(function(){Pn.display=nr}),nr==null&&(Dr=Pn.display,nr=Dr==="none"?"":Dr)),Pn.display="inline-block")),et.overflow&&(Pn.overflow="hidden",Yr.always(function(){Pn.overflow=et.overflow[0],Pn.overflowX=et.overflow[1],Pn.overflowY=et.overflow[2]})),Ht=!1;for(ft in Ur)Ht||(kn?"hidden"in kn&&(Un=kn.hidden):kn=G.access(me,"fxshow",{display:nr}),_t&&(kn.hidden=!Un),Un&&be([me],!0),Yr.done(function(){Un||be([me]),G.remove(me,"fxshow");for(ft in Ur)n.style(me,ft,Ur[ft])})),Ht=Ut(Un?kn[ft]:0,ft,Yr),ft in kn||(kn[ft]=Ht.start,Un&&(Ht.end=Ht.start,Ht.start=0))}}function Xt(me,Ue){var et,ft,kt,_t,Wt;for(et in me)if(ft=re(et),kt=Ue[ft],_t=me[et],Array.isArray(_t)&&(kt=_t[1],_t=me[et]=_t[0]),et!==ft&&(me[ft]=_t,delete me[et]),Wt=n.cssHooks[ft],Wt&&"expand"in Wt){_t=Wt.expand(_t),delete me[ft];for(et in _t)et in me||(me[et]=_t[et],Ue[et]=kt)}else Ue[ft]=kt}function ur(me,Ue,et){var ft,kt,_t=0,Wt=ur.prefilters.length,Gt=n.Deferred().always(function(){delete Ht.elem}),Ht=function(){if(kt)return!1;for(var Qr=Zt||Ge(),Yr=Math.max(0,nr.startTime+nr.duration-Qr),Ur=Yr/nr.duration||0,Pn=1-Ur,Un=0,kn=nr.tweens.length;Un<kn;Un++)nr.tweens[Un].run(Pn);return Gt.notifyWith(me,[nr,Pn,Yr]),Pn<1&&kn?Yr:(kn||Gt.notifyWith(me,[nr,1,0]),Gt.resolveWith(me,[nr]),!1)},nr=Gt.promise({elem:me,props:n.extend({},Ue),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},et),originalProperties:Ue,originalOptions:et,startTime:Zt||Ge(),duration:et.duration,tweens:[],createTween:function(Qr,Yr){var Ur=n.Tween(me,nr.opts,Qr,Yr,nr.opts.specialEasing[Qr]||nr.opts.easing);return nr.tweens.push(Ur),Ur},stop:function(Qr){var Yr=0,Ur=Qr?nr.tweens.length:0;if(kt)return this;for(kt=!0;Yr<Ur;Yr++)nr.tweens[Yr].run(1);return Qr?(Gt.notifyWith(me,[nr,1,0]),Gt.resolveWith(me,[nr,Qr])):Gt.rejectWith(me,[nr,Qr]),this}}),Dr=nr.props;for(Xt(Dr,nr.opts.specialEasing);_t<Wt;_t++)if(ft=ur.prefilters[_t].call(nr,me,Dr,nr.opts),ft)return g(ft.stop)&&(n._queueHooks(nr.elem,nr.opts.queue).stop=ft.stop.bind(ft)),ft;return n.map(Dr,Ut,nr),g(nr.opts.start)&&nr.opts.start.call(me,nr),nr.progress(nr.opts.progress).done(nr.opts.done,nr.opts.complete).fail(nr.opts.fail).always(nr.opts.always),n.fx.timer(n.extend(Ht,{elem:me,anim:nr,queue:nr.opts.queue})),nr}n.Animation=n.extend(ur,{tweeners:{"*":[function(me,Ue){var et=this.createTween(me,Ue);return Pe(et.elem,me,se.exec(Ue),et),et}]},tweener:function(me,Ue){g(me)?(Ue=me,me=["*"]):me=me.match(m);for(var et,ft=0,kt=me.length;ft<kt;ft++)et=me[ft],ur.tweeners[et]=ur.tweeners[et]||[],ur.tweeners[et].unshift(Ue)},prefilters:[Kt],prefilter:function(me,Ue){Ue?ur.prefilters.unshift(me):ur.prefilters.push(me)}}),n.speed=function(me,Ue,et){var ft=me&&typeof me=="object"?n.extend({},me):{complete:et||!et&&Ue||g(me)&&me,duration:me,easing:et&&Ue||Ue&&!g(Ue)&&Ue};return n.fx.off?ft.duration=0:typeof ft.duration!="number"&&(ft.duration in n.fx.speeds?ft.duration=n.fx.speeds[ft.duration]:ft.duration=n.fx.speeds._default),(ft.queue==null||ft.queue===!0)&&(ft.queue="fx"),ft.old=ft.complete,ft.complete=function(){g(ft.old)&&ft.old.call(this),ft.queue&&n.dequeue(this,ft.queue)},ft},n.fn.extend({fadeTo:function(me,Ue,et,ft){return this.filter(xe).css("opacity",0).show().end().animate({opacity:Ue},me,et,ft)},animate:function(me,Ue,et,ft){var kt=n.isEmptyObject(me),_t=n.speed(Ue,et,ft),Wt=function(){var Gt=ur(this,n.extend({},me),_t);(kt||G.get(this,"finish"))&&Gt.stop(!0)};return Wt.finish=Wt,kt||_t.queue===!1?this.each(Wt):this.queue(_t.queue,Wt)},stop:function(me,Ue,et){var ft=function(kt){var _t=kt.stop;delete kt.stop,_t(et)};return typeof me!="string"&&(et=Ue,Ue=me,me=void 0),Ue&&this.queue(me||"fx",[]),this.each(function(){var kt=!0,_t=me!=null&&me+"queueHooks",Wt=n.timers,Gt=G.get(this);if(_t)Gt[_t]&&Gt[_t].stop&&ft(Gt[_t]);else for(_t in Gt)Gt[_t]&&Gt[_t].stop&&ir.test(_t)&&ft(Gt[_t]);for(_t=Wt.length;_t--;)Wt[_t].elem===this&&(me==null||Wt[_t].queue===me)&&(Wt[_t].anim.stop(et),kt=!1,Wt.splice(_t,1));(kt||!et)&&n.dequeue(this,me)})},finish:function(me){return me!==!1&&(me=me||"fx"),this.each(function(){var Ue,et=G.get(this),ft=et[me+"queue"],kt=et[me+"queueHooks"],_t=n.timers,Wt=ft?ft.length:0;for(et.finish=!0,n.queue(this,me,[]),kt&&kt.stop&&kt.stop.call(this,!0),Ue=_t.length;Ue--;)_t[Ue].elem===this&&_t[Ue].queue===me&&(_t[Ue].anim.stop(!0),_t.splice(Ue,1));for(Ue=0;Ue<Wt;Ue++)ft[Ue]&&ft[Ue].finish&&ft[Ue].finish.call(this);delete et.finish})}}),n.each(["toggle","show","hide"],function(me,Ue){var et=n.fn[Ue];n.fn[Ue]=function(ft,kt,_t){return ft==null||typeof ft=="boolean"?et.apply(this,arguments):this.animate(Ct(Ue,!0),ft,kt,_t)}}),n.each({slideDown:Ct("show"),slideUp:Ct("hide"),slideToggle:Ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(me,Ue){n.fn[me]=function(et,ft,kt){return this.animate(Ue,et,ft,kt)}}),n.timers=[],n.fx.tick=function(){var me,Ue=0,et=n.timers;for(Zt=Date.now();Ue<et.length;Ue++)me=et[Ue],!me()&&et[Ue]===me&&et.splice(Ue--,1);et.length||n.fx.stop(),Zt=void 0},n.fx.timer=function(me){n.timers.push(me),n.fx.start()},n.fx.interval=13,n.fx.start=function(){$t||($t=!0,He())},n.fx.stop=function(){$t=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(me,Ue){return me=n.fx&&n.fx.speeds[me]||me,Ue=Ue||"fx",this.queue(Ue,function(et,ft){var kt=ce.setTimeout(et,me);ft.stop=function(){ce.clearTimeout(kt)}})},function(){var me=r.createElement("input"),Ue=r.createElement("select"),et=Ue.appendChild(r.createElement("option"));me.type="checkbox",v.checkOn=me.value!=="",v.optSelected=et.selected,me=r.createElement("input"),me.value="t",me.type="radio",v.radioValue=me.value==="t"}();var Ar,Rr=n.expr.attrHandle;n.fn.extend({attr:function(me,Ue){return N(this,n.attr,me,Ue,arguments.length>1)},removeAttr:function(me){return this.each(function(){n.removeAttr(this,me)})}}),n.extend({attr:function(me,Ue,et){var ft,kt,_t=me.nodeType;if(!(_t===3||_t===8||_t===2)){if(typeof me.getAttribute>"u")return n.prop(me,Ue,et);if((_t!==1||!n.isXMLDoc(me))&&(kt=n.attrHooks[Ue.toLowerCase()]||(n.expr.match.bool.test(Ue)?Ar:void 0)),et!==void 0){if(et===null){n.removeAttr(me,Ue);return}return kt&&"set"in kt&&(ft=kt.set(me,et,Ue))!==void 0?ft:(me.setAttribute(Ue,et+""),et)}return kt&&"get"in kt&&(ft=kt.get(me,Ue))!==null?ft:(ft=n.find.attr(me,Ue),ft??void 0)}},attrHooks:{type:{set:function(me,Ue){if(!v.radioValue&&Ue==="radio"&&d(me,"input")){var et=me.value;return me.setAttribute("type",Ue),et&&(me.value=et),Ue}}}},removeAttr:function(me,Ue){var et,ft=0,kt=Ue&&Ue.match(m);if(kt&&me.nodeType===1)for(;et=kt[ft++];)me.removeAttribute(et)}}),Ar={set:function(me,Ue,et){return Ue===!1?n.removeAttr(me,et):me.setAttribute(et,et),et}},n.each(n.expr.match.bool.source.match(/\w+/g),function(me,Ue){var et=Rr[Ue]||n.find.attr;Rr[Ue]=function(ft,kt,_t){var Wt,Gt,Ht=kt.toLowerCase();return _t||(Gt=Rr[Ht],Rr[Ht]=Wt,Wt=et(ft,kt,_t)!=null?Ht:null,Rr[Ht]=Gt),Wt}});var wr=/^(?:input|select|textarea|button)$/i,er=/^(?:a|area)$/i;n.fn.extend({prop:function(me,Ue){return N(this,n.prop,me,Ue,arguments.length>1)},removeProp:function(me){return this.each(function(){delete this[n.propFix[me]||me]})}}),n.extend({prop:function(me,Ue,et){var ft,kt,_t=me.nodeType;if(!(_t===3||_t===8||_t===2))return(_t!==1||!n.isXMLDoc(me))&&(Ue=n.propFix[Ue]||Ue,kt=n.propHooks[Ue]),et!==void 0?kt&&"set"in kt&&(ft=kt.set(me,et,Ue))!==void 0?ft:me[Ue]=et:kt&&"get"in kt&&(ft=kt.get(me,Ue))!==null?ft:me[Ue]},propHooks:{tabIndex:{get:function(me){var Ue=n.find.attr(me,"tabindex");return Ue?parseInt(Ue,10):wr.test(me.nodeName)||er.test(me.nodeName)&&me.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(n.propHooks.selected={get:function(me){var Ue=me.parentNode;return Ue&&Ue.parentNode&&Ue.parentNode.selectedIndex,null},set:function(me){var Ue=me.parentNode;Ue&&(Ue.selectedIndex,Ue.parentNode&&Ue.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});function _r(me){var Ue=me.match(m)||[];return Ue.join(" ")}function Vr(me){return me.getAttribute&&me.getAttribute("class")||""}function Br(me){return Array.isArray(me)?me:typeof me=="string"?me.match(m)||[]:[]}n.fn.extend({addClass:function(me){var Ue,et,ft,kt,_t,Wt;return g(me)?this.each(function(Gt){n(this).addClass(me.call(this,Gt,Vr(this)))}):(Ue=Br(me),Ue.length?this.each(function(){if(ft=Vr(this),et=this.nodeType===1&&" "+_r(ft)+" ",et){for(_t=0;_t<Ue.length;_t++)kt=Ue[_t],et.indexOf(" "+kt+" ")<0&&(et+=kt+" ");Wt=_r(et),ft!==Wt&&this.setAttribute("class",Wt)}}):this)},removeClass:function(me){var Ue,et,ft,kt,_t,Wt;return g(me)?this.each(function(Gt){n(this).removeClass(me.call(this,Gt,Vr(this)))}):arguments.length?(Ue=Br(me),Ue.length?this.each(function(){if(ft=Vr(this),et=this.nodeType===1&&" "+_r(ft)+" ",et){for(_t=0;_t<Ue.length;_t++)for(kt=Ue[_t];et.indexOf(" "+kt+" ")>-1;)et=et.replace(" "+kt+" "," ");Wt=_r(et),ft!==Wt&&this.setAttribute("class",Wt)}}):this):this.attr("class","")},toggleClass:function(me,Ue){var et,ft,kt,_t,Wt=typeof me,Gt=Wt==="string"||Array.isArray(me);return g(me)?this.each(function(Ht){n(this).toggleClass(me.call(this,Ht,Vr(this),Ue),Ue)}):typeof Ue=="boolean"&&Gt?Ue?this.addClass(me):this.removeClass(me):(et=Br(me),this.each(function(){if(Gt)for(_t=n(this),kt=0;kt<et.length;kt++)ft=et[kt],_t.hasClass(ft)?_t.removeClass(ft):_t.addClass(ft);else(me===void 0||Wt==="boolean")&&(ft=Vr(this),ft&&G.set(this,"__className__",ft),this.setAttribute&&this.setAttribute("class",ft||me===!1?"":G.get(this,"__className__")||""))}))},hasClass:function(me){var Ue,et,ft=0;for(Ue=" "+me+" ";et=this[ft++];)if(et.nodeType===1&&(" "+_r(Vr(et))+" ").indexOf(Ue)>-1)return!0;return!1}});var yr=/\r/g;n.fn.extend({val:function(me){var Ue,et,ft,kt=this[0];return arguments.length?(ft=g(me),this.each(function(_t){var Wt;this.nodeType===1&&(ft?Wt=me.call(this,_t,n(this).val()):Wt=me,Wt==null?Wt="":typeof Wt=="number"?Wt+="":Array.isArray(Wt)&&(Wt=n.map(Wt,function(Gt){return Gt==null?"":Gt+""})),Ue=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],(!Ue||!("set"in Ue)||Ue.set(this,Wt,"value")===void 0)&&(this.value=Wt))})):kt?(Ue=n.valHooks[kt.type]||n.valHooks[kt.nodeName.toLowerCase()],Ue&&"get"in Ue&&(et=Ue.get(kt,"value"))!==void 0?et:(et=kt.value,typeof et=="string"?et.replace(yr,""):et??"")):void 0}}),n.extend({valHooks:{option:{get:function(me){var Ue=n.find.attr(me,"value");return Ue??_r(n.text(me))}},select:{get:function(me){var Ue,et,ft,kt=me.options,_t=me.selectedIndex,Wt=me.type==="select-one",Gt=Wt?null:[],Ht=Wt?_t+1:kt.length;for(_t<0?ft=Ht:ft=Wt?_t:0;ft<Ht;ft++)if(et=kt[ft],(et.selected||ft===_t)&&!et.disabled&&(!et.parentNode.disabled||!d(et.parentNode,"optgroup"))){if(Ue=n(et).val(),Wt)return Ue;Gt.push(Ue)}return Gt},set:function(me,Ue){for(var et,ft,kt=me.options,_t=n.makeArray(Ue),Wt=kt.length;Wt--;)ft=kt[Wt],(ft.selected=n.inArray(n.valHooks.option.get(ft),_t)>-1)&&(et=!0);return et||(me.selectedIndex=-1),_t}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(me,Ue){if(Array.isArray(Ue))return me.checked=n.inArray(n(me).val(),Ue)>-1}},v.checkOn||(n.valHooks[this].get=function(me){return me.getAttribute("value")===null?"on":me.value})}),v.focusin="onfocusin"in ce;var pn=/^(?:focusinfocus|focusoutblur)$/,an=function(me){me.stopPropagation()};n.extend(n.event,{trigger:function(me,Ue,et,ft){var kt,_t,Wt,Gt,Ht,nr,Dr,Qr,Yr=[et||r],Ur=a.call(me,"type")?me.type:me,Pn=a.call(me,"namespace")?me.namespace.split("."):[];if(_t=Qr=Wt=et=et||r,!(et.nodeType===3||et.nodeType===8)&&!pn.test(Ur+n.event.triggered)&&(Ur.indexOf(".")>-1&&(Pn=Ur.split("."),Ur=Pn.shift(),Pn.sort()),Ht=Ur.indexOf(":")<0&&"on"+Ur,me=me[n.expando]?me:new n.Event(Ur,typeof me=="object"&&me),me.isTrigger=ft?2:3,me.namespace=Pn.join("."),me.rnamespace=me.namespace?new RegExp("(^|\\.)"+Pn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,me.result=void 0,me.target||(me.target=et),Ue=Ue==null?[me]:n.makeArray(Ue,[me]),Dr=n.event.special[Ur]||{},!(!ft&&Dr.trigger&&Dr.trigger.apply(et,Ue)===!1))){if(!ft&&!Dr.noBubble&&!t(et)){for(Gt=Dr.delegateType||Ur,pn.test(Gt+Ur)||(_t=_t.parentNode);_t;_t=_t.parentNode)Yr.push(_t),Wt=_t;Wt===(et.ownerDocument||r)&&Yr.push(Wt.defaultView||Wt.parentWindow||ce)}for(kt=0;(_t=Yr[kt++])&&!me.isPropagationStopped();)Qr=_t,me.type=kt>1?Gt:Dr.bindType||Ur,nr=(G.get(_t,"events")||Object.create(null))[me.type]&&G.get(_t,"handle"),nr&&nr.apply(_t,Ue),nr=Ht&&_t[Ht],nr&&nr.apply&&oe(_t)&&(me.result=nr.apply(_t,Ue),me.result===!1&&me.preventDefault());return me.type=Ur,!ft&&!me.isDefaultPrevented()&&(!Dr._default||Dr._default.apply(Yr.pop(),Ue)===!1)&&oe(et)&&Ht&&g(et[Ur])&&!t(et)&&(Wt=et[Ht],Wt&&(et[Ht]=null),n.event.triggered=Ur,me.isPropagationStopped()&&Qr.addEventListener(Ur,an),et[Ur](),me.isPropagationStopped()&&Qr.removeEventListener(Ur,an),n.event.triggered=void 0,Wt&&(et[Ht]=Wt)),me.result}},simulate:function(me,Ue,et){var ft=n.extend(new n.Event,et,{type:me,isSimulated:!0});n.event.trigger(ft,null,Ue)}}),n.fn.extend({trigger:function(me,Ue){return this.each(function(){n.event.trigger(me,Ue,this)})},triggerHandler:function(me,Ue){var et=this[0];if(et)return n.event.trigger(me,Ue,et,!0)}}),v.focusin||n.each({focus:"focusin",blur:"focusout"},function(me,Ue){var et=function(ft){n.event.simulate(Ue,ft.target,n.event.fix(ft))};n.event.special[Ue]={setup:function(){var ft=this.ownerDocument||this.document||this,kt=G.access(ft,Ue);kt||ft.addEventListener(me,et,!0),G.access(ft,Ue,(kt||0)+1)},teardown:function(){var ft=this.ownerDocument||this.document||this,kt=G.access(ft,Ue)-1;kt?G.access(ft,Ue,kt):(ft.removeEventListener(me,et,!0),G.remove(ft,Ue))}}});var Zr=ce.location,Nn={guid:Date.now()},fn=/\?/;n.parseXML=function(me){var Ue,et;if(!me||typeof me!="string")return null;try{Ue=new ce.DOMParser().parseFromString(me,"text/xml")}catch{}return et=Ue&&Ue.getElementsByTagName("parsererror")[0],(!Ue||et)&&n.error("Invalid XML: "+(et?n.map(et.childNodes,function(ft){return ft.textContent}).join(`
`):me)),Ue};var xn=/\[\]$/,On=/\r?\n/g,br=/^(?:submit|button|image|reset|file)$/i,Ir=/^(?:input|select|textarea|keygen)/i;function jr(me,Ue,et,ft){var kt;if(Array.isArray(Ue))n.each(Ue,function(_t,Wt){et||xn.test(me)?ft(me,Wt):jr(me+"["+(typeof Wt=="object"&&Wt!=null?_t:"")+"]",Wt,et,ft)});else if(!et&&l(Ue)==="object")for(kt in Ue)jr(me+"["+kt+"]",Ue[kt],et,ft);else ft(me,Ue)}n.param=function(me,Ue){var et,ft=[],kt=function(_t,Wt){var Gt=g(Wt)?Wt():Wt;ft[ft.length]=encodeURIComponent(_t)+"="+encodeURIComponent(Gt??"")};if(me==null)return"";if(Array.isArray(me)||me.jquery&&!n.isPlainObject(me))n.each(me,function(){kt(this.name,this.value)});else for(et in me)jr(et,me[et],Ue,kt);return ft.join("&")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var me=n.prop(this,"elements");return me?n.makeArray(me):this}).filter(function(){var me=this.type;return this.name&&!n(this).is(":disabled")&&Ir.test(this.nodeName)&&!br.test(me)&&(this.checked||!_e.test(me))}).map(function(me,Ue){var et=n(this).val();return et==null?null:Array.isArray(et)?n.map(et,function(ft){return{name:Ue.name,value:ft.replace(On,`\r
`)}}):{name:Ue.name,value:et.replace(On,`\r
`)}}).get()}});var Wr=/%20/g,An=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)$/mg,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gn=/^(?:GET|HEAD)$/,ma=/^\/\//,pa={},ua={},xa="*/".concat("*"),ga=r.createElement("a");ga.href=Zr.href;function Or(me){return function(Ue,et){typeof Ue!="string"&&(et=Ue,Ue="*");var ft,kt=0,_t=Ue.toLowerCase().match(m)||[];if(g(et))for(;ft=_t[kt++];)ft[0]==="+"?(ft=ft.slice(1)||"*",(me[ft]=me[ft]||[]).unshift(et)):(me[ft]=me[ft]||[]).push(et)}}function cn(me,Ue,et,ft){var kt={},_t=me===ua;function Wt(Gt){var Ht;return kt[Gt]=!0,n.each(me[Gt]||[],function(nr,Dr){var Qr=Dr(Ue,et,ft);if(typeof Qr=="string"&&!_t&&!kt[Qr])return Ue.dataTypes.unshift(Qr),Wt(Qr),!1;if(_t)return!(Ht=Qr)}),Ht}return Wt(Ue.dataTypes[0])||!kt["*"]&&Wt("*")}function vn(me,Ue){var et,ft,kt=n.ajaxSettings.flatOptions||{};for(et in Ue)Ue[et]!==void 0&&((kt[et]?me:ft||(ft={}))[et]=Ue[et]);return ft&&n.extend(!0,me,ft),me}function Cn(me,Ue,et){for(var ft,kt,_t,Wt,Gt=me.contents,Ht=me.dataTypes;Ht[0]==="*";)Ht.shift(),ft===void 0&&(ft=me.mimeType||Ue.getResponseHeader("Content-Type"));if(ft){for(kt in Gt)if(Gt[kt]&&Gt[kt].test(ft)){Ht.unshift(kt);break}}if(Ht[0]in et)_t=Ht[0];else{for(kt in et){if(!Ht[0]||me.converters[kt+" "+Ht[0]]){_t=kt;break}Wt||(Wt=kt)}_t=_t||Wt}if(_t)return _t!==Ht[0]&&Ht.unshift(_t),et[_t]}function Wn(me,Ue,et,ft){var kt,_t,Wt,Gt,Ht,nr={},Dr=me.dataTypes.slice();if(Dr[1])for(Wt in me.converters)nr[Wt.toLowerCase()]=me.converters[Wt];for(_t=Dr.shift();_t;)if(me.responseFields[_t]&&(et[me.responseFields[_t]]=Ue),!Ht&&ft&&me.dataFilter&&(Ue=me.dataFilter(Ue,me.dataType)),Ht=_t,_t=Dr.shift(),_t){if(_t==="*")_t=Ht;else if(Ht!=="*"&&Ht!==_t){if(Wt=nr[Ht+" "+_t]||nr["* "+_t],!Wt){for(kt in nr)if(Gt=kt.split(" "),Gt[1]===_t&&(Wt=nr[Ht+" "+Gt[0]]||nr["* "+Gt[0]],Wt)){Wt===!0?Wt=nr[kt]:nr[kt]!==!0&&(_t=Gt[0],Dr.unshift(Gt[1]));break}}if(Wt!==!0)if(Wt&&me.throws)Ue=Wt(Ue);else try{Ue=Wt(Ue)}catch(Qr){return{state:"parsererror",error:Wt?Qr:"No conversion from "+Ht+" to "+_t}}}}return{state:"success",data:Ue}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zr.href,type:"GET",isLocal:Rn.test(Zr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xa,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(me,Ue){return Ue?vn(vn(me,n.ajaxSettings),Ue):vn(n.ajaxSettings,me)},ajaxPrefilter:Or(pa),ajaxTransport:Or(ua),ajax:function(me,Ue){typeof me=="object"&&(Ue=me,me=void 0),Ue=Ue||{};var et,ft,kt,_t,Wt,Gt,Ht,nr,Dr,Qr,Yr=n.ajaxSetup({},Ue),Ur=Yr.context||Yr,Pn=Yr.context&&(Ur.nodeType||Ur.jquery)?n(Ur):n.event,Un=n.Deferred(),kn=n.Callbacks("once memory"),Qn=Yr.statusCode||{},qn={},ca={},ei="canceled",Na={readyState:0,getResponseHeader:function(ri){var vi;if(Ht){if(!_t)for(_t={};vi=Tn.exec(kt);)_t[vi[1].toLowerCase()+" "]=(_t[vi[1].toLowerCase()+" "]||[]).concat(vi[2]);vi=_t[ri.toLowerCase()+" "]}return vi==null?null:vi.join(", ")},getAllResponseHeaders:function(){return Ht?kt:null},setRequestHeader:function(ri,vi){return Ht==null&&(ri=ca[ri.toLowerCase()]=ca[ri.toLowerCase()]||ri,qn[ri]=vi),this},overrideMimeType:function(ri){return Ht==null&&(Yr.mimeType=ri),this},statusCode:function(ri){var vi;if(ri)if(Ht)Na.always(ri[Na.status]);else for(vi in ri)Qn[vi]=[Qn[vi],ri[vi]];return this},abort:function(ri){var vi=ri||ei;return et&&et.abort(vi),Di(0,vi),this}};if(Un.promise(Na),Yr.url=((me||Yr.url||Zr.href)+"").replace(ma,Zr.protocol+"//"),Yr.type=Ue.method||Ue.type||Yr.method||Yr.type,Yr.dataTypes=(Yr.dataType||"*").toLowerCase().match(m)||[""],Yr.crossDomain==null){Gt=r.createElement("a");try{Gt.href=Yr.url,Gt.href=Gt.href,Yr.crossDomain=ga.protocol+"//"+ga.host!=Gt.protocol+"//"+Gt.host}catch{Yr.crossDomain=!0}}if(Yr.data&&Yr.processData&&typeof Yr.data!="string"&&(Yr.data=n.param(Yr.data,Yr.traditional)),cn(pa,Yr,Ue,Na),Ht)return Na;nr=n.event&&Yr.global,nr&&n.active++===0&&n.event.trigger("ajaxStart"),Yr.type=Yr.type.toUpperCase(),Yr.hasContent=!Gn.test(Yr.type),ft=Yr.url.replace(An,""),Yr.hasContent?Yr.data&&Yr.processData&&(Yr.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Yr.data=Yr.data.replace(Wr,"+")):(Qr=Yr.url.slice(ft.length),Yr.data&&(Yr.processData||typeof Yr.data=="string")&&(ft+=(fn.test(ft)?"&":"?")+Yr.data,delete Yr.data),Yr.cache===!1&&(ft=ft.replace(wn,"$1"),Qr=(fn.test(ft)?"&":"?")+"_="+Nn.guid+++Qr),Yr.url=ft+Qr),Yr.ifModified&&(n.lastModified[ft]&&Na.setRequestHeader("If-Modified-Since",n.lastModified[ft]),n.etag[ft]&&Na.setRequestHeader("If-None-Match",n.etag[ft])),(Yr.data&&Yr.hasContent&&Yr.contentType!==!1||Ue.contentType)&&Na.setRequestHeader("Content-Type",Yr.contentType),Na.setRequestHeader("Accept",Yr.dataTypes[0]&&Yr.accepts[Yr.dataTypes[0]]?Yr.accepts[Yr.dataTypes[0]]+(Yr.dataTypes[0]!=="*"?", "+xa+"; q=0.01":""):Yr.accepts["*"]);for(Dr in Yr.headers)Na.setRequestHeader(Dr,Yr.headers[Dr]);if(Yr.beforeSend&&(Yr.beforeSend.call(Ur,Na,Yr)===!1||Ht))return Na.abort();if(ei="abort",kn.add(Yr.complete),Na.done(Yr.success),Na.fail(Yr.error),et=cn(ua,Yr,Ue,Na),!et)Di(-1,"No Transport");else{if(Na.readyState=1,nr&&Pn.trigger("ajaxSend",[Na,Yr]),Ht)return Na;Yr.async&&Yr.timeout>0&&(Wt=ce.setTimeout(function(){Na.abort("timeout")},Yr.timeout));try{Ht=!1,et.send(qn,Di)}catch(ri){if(Ht)throw ri;Di(-1,ri)}}function Di(ri,vi,Ks,si){var mo,Zo,Zi,_i,ps,So=vi;Ht||(Ht=!0,Wt&&ce.clearTimeout(Wt),et=void 0,kt=si||"",Na.readyState=ri>0?4:0,mo=ri>=200&&ri<300||ri===304,Ks&&(_i=Cn(Yr,Na,Ks)),!mo&&n.inArray("script",Yr.dataTypes)>-1&&n.inArray("json",Yr.dataTypes)<0&&(Yr.converters["text script"]=function(){}),_i=Wn(Yr,_i,Na,mo),mo?(Yr.ifModified&&(ps=Na.getResponseHeader("Last-Modified"),ps&&(n.lastModified[ft]=ps),ps=Na.getResponseHeader("etag"),ps&&(n.etag[ft]=ps)),ri===204||Yr.type==="HEAD"?So="nocontent":ri===304?So="notmodified":(So=_i.state,Zo=_i.data,Zi=_i.error,mo=!Zi)):(Zi=So,(ri||!So)&&(So="error",ri<0&&(ri=0))),Na.status=ri,Na.statusText=(vi||So)+"",mo?Un.resolveWith(Ur,[Zo,So,Na]):Un.rejectWith(Ur,[Na,So,Zi]),Na.statusCode(Qn),Qn=void 0,nr&&Pn.trigger(mo?"ajaxSuccess":"ajaxError",[Na,Yr,mo?Zo:Zi]),kn.fireWith(Ur,[Na,So]),nr&&(Pn.trigger("ajaxComplete",[Na,Yr]),--n.active||n.event.trigger("ajaxStop")))}return Na},getJSON:function(me,Ue,et){return n.get(me,Ue,et,"json")},getScript:function(me,Ue){return n.get(me,void 0,Ue,"script")}}),n.each(["get","post"],function(me,Ue){n[Ue]=function(et,ft,kt,_t){return g(ft)&&(_t=_t||kt,kt=ft,ft=void 0),n.ajax(n.extend({url:et,type:Ue,dataType:_t,data:ft,success:kt},n.isPlainObject(et)&&et))}}),n.ajaxPrefilter(function(me){var Ue;for(Ue in me.headers)Ue.toLowerCase()==="content-type"&&(me.contentType=me.headers[Ue]||"")}),n._evalUrl=function(me,Ue,et){return n.ajax({url:me,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ft){n.globalEval(ft,Ue,et)}})},n.fn.extend({wrapAll:function(me){var Ue;return this[0]&&(g(me)&&(me=me.call(this[0])),Ue=n(me,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Ue.insertBefore(this[0]),Ue.map(function(){for(var et=this;et.firstElementChild;)et=et.firstElementChild;return et}).append(this)),this},wrapInner:function(me){return g(me)?this.each(function(Ue){n(this).wrapInner(me.call(this,Ue))}):this.each(function(){var Ue=n(this),et=Ue.contents();et.length?et.wrapAll(me):Ue.append(me)})},wrap:function(me){var Ue=g(me);return this.each(function(et){n(this).wrapAll(Ue?me.call(this,et):me)})},unwrap:function(me){return this.parent(me).not("body").each(function(){n(this).replaceWith(this.childNodes)}),this}}),n.expr.pseudos.hidden=function(me){return!n.expr.pseudos.visible(me)},n.expr.pseudos.visible=function(me){return!!(me.offsetWidth||me.offsetHeight||me.getClientRects().length)},n.ajaxSettings.xhr=function(){try{return new ce.XMLHttpRequest}catch{}};var Fn={0:200,1223:204},Hn=n.ajaxSettings.xhr();v.cors=!!Hn&&"withCredentials"in Hn,v.ajax=Hn=!!Hn,n.ajaxTransport(function(me){var Ue,et;if(v.cors||Hn&&!me.crossDomain)return{send:function(ft,kt){var _t,Wt=me.xhr();if(Wt.open(me.type,me.url,me.async,me.username,me.password),me.xhrFields)for(_t in me.xhrFields)Wt[_t]=me.xhrFields[_t];me.mimeType&&Wt.overrideMimeType&&Wt.overrideMimeType(me.mimeType),!me.crossDomain&&!ft["X-Requested-With"]&&(ft["X-Requested-With"]="XMLHttpRequest");for(_t in ft)Wt.setRequestHeader(_t,ft[_t]);Ue=function(Gt){return function(){Ue&&(Ue=et=Wt.onload=Wt.onerror=Wt.onabort=Wt.ontimeout=Wt.onreadystatechange=null,Gt==="abort"?Wt.abort():Gt==="error"?typeof Wt.status!="number"?kt(0,"error"):kt(Wt.status,Wt.statusText):kt(Fn[Wt.status]||Wt.status,Wt.statusText,(Wt.responseType||"text")!=="text"||typeof Wt.responseText!="string"?{binary:Wt.response}:{text:Wt.responseText},Wt.getAllResponseHeaders()))}},Wt.onload=Ue(),et=Wt.onerror=Wt.ontimeout=Ue("error"),Wt.onabort!==void 0?Wt.onabort=et:Wt.onreadystatechange=function(){Wt.readyState===4&&ce.setTimeout(function(){Ue&&et()})},Ue=Ue("abort");try{Wt.send(me.hasContent&&me.data||null)}catch(Gt){if(Ue)throw Gt}},abort:function(){Ue&&Ue()}}}),n.ajaxPrefilter(function(me){me.crossDomain&&(me.contents.script=!1)}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(me){return n.globalEval(me),me}}}),n.ajaxPrefilter("script",function(me){me.cache===void 0&&(me.cache=!1),me.crossDomain&&(me.type="GET")}),n.ajaxTransport("script",function(me){if(me.crossDomain||me.scriptAttrs){var Ue,et;return{send:function(ft,kt){Ue=n("<script>").attr(me.scriptAttrs||{}).prop({charset:me.scriptCharset,src:me.url}).on("load error",et=function(_t){Ue.remove(),et=null,_t&&kt(_t.type==="error"?404:200,_t.type)}),r.head.appendChild(Ue[0])},abort:function(){et&&et()}}}});var Xn=[],sa=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var me=Xn.pop()||n.expando+"_"+Nn.guid++;return this[me]=!0,me}}),n.ajaxPrefilter("json jsonp",function(me,Ue,et){var ft,kt,_t,Wt=me.jsonp!==!1&&(sa.test(me.url)?"url":typeof me.data=="string"&&(me.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&sa.test(me.data)&&"data");if(Wt||me.dataTypes[0]==="jsonp")return ft=me.jsonpCallback=g(me.jsonpCallback)?me.jsonpCallback():me.jsonpCallback,Wt?me[Wt]=me[Wt].replace(sa,"$1"+ft):me.jsonp!==!1&&(me.url+=(fn.test(me.url)?"&":"?")+me.jsonp+"="+ft),me.converters["script json"]=function(){return _t||n.error(ft+" was not called"),_t[0]},me.dataTypes[0]="json",kt=ce[ft],ce[ft]=function(){_t=arguments},et.always(function(){kt===void 0?n(ce).removeProp(ft):ce[ft]=kt,me[ft]&&(me.jsonpCallback=Ue.jsonpCallback,Xn.push(ft)),_t&&g(kt)&&kt(_t[0]),_t=kt=void 0}),"script"}),v.createHTMLDocument=function(){var me=r.implementation.createHTMLDocument("").body;return me.innerHTML="<form></form><form></form>",me.childNodes.length===2}(),n.parseHTML=function(me,Ue,et){if(typeof me!="string")return[];typeof Ue=="boolean"&&(et=Ue,Ue=!1);var ft,kt,_t;return Ue||(v.createHTMLDocument?(Ue=r.implementation.createHTMLDocument(""),ft=Ue.createElement("base"),ft.href=r.location.href,Ue.head.appendChild(ft)):Ue=r),kt=S.exec(me),_t=!et&&[],kt?[Ue.createElement(kt[1])]:(kt=at([me],Ue,_t),_t&&_t.length&&n(_t).remove(),n.merge([],kt.childNodes))},n.fn.load=function(me,Ue,et){var ft,kt,_t,Wt=this,Gt=me.indexOf(" ");return Gt>-1&&(ft=_r(me.slice(Gt)),me=me.slice(0,Gt)),g(Ue)?(et=Ue,Ue=void 0):Ue&&typeof Ue=="object"&&(kt="POST"),Wt.length>0&&n.ajax({url:me,type:kt||"GET",dataType:"html",data:Ue}).done(function(Ht){_t=arguments,Wt.html(ft?n("<div>").append(n.parseHTML(Ht)).find(ft):Ht)}).always(et&&function(Ht,nr){Wt.each(function(){et.apply(this,_t||[Ht.responseText,nr,Ht])})}),this},n.expr.pseudos.animated=function(me){return n.grep(n.timers,function(Ue){return me===Ue.elem}).length},n.offset={setOffset:function(me,Ue,et){var ft,kt,_t,Wt,Gt,Ht,nr,Dr=n.css(me,"position"),Qr=n(me),Yr={};Dr==="static"&&(me.style.position="relative"),Gt=Qr.offset(),_t=n.css(me,"top"),Ht=n.css(me,"left"),nr=(Dr==="absolute"||Dr==="fixed")&&(_t+Ht).indexOf("auto")>-1,nr?(ft=Qr.position(),Wt=ft.top,kt=ft.left):(Wt=parseFloat(_t)||0,kt=parseFloat(Ht)||0),g(Ue)&&(Ue=Ue.call(me,et,n.extend({},Gt))),Ue.top!=null&&(Yr.top=Ue.top-Gt.top+Wt),Ue.left!=null&&(Yr.left=Ue.left-Gt.left+kt),"using"in Ue?Ue.using.call(me,Yr):Qr.css(Yr)}},n.fn.extend({offset:function(me){if(arguments.length)return me===void 0?this:this.each(function(kt){n.offset.setOffset(this,me,kt)});var Ue,et,ft=this[0];if(ft)return ft.getClientRects().length?(Ue=ft.getBoundingClientRect(),et=ft.ownerDocument.defaultView,{top:Ue.top+et.pageYOffset,left:Ue.left+et.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var me,Ue,et,ft=this[0],kt={top:0,left:0};if(n.css(ft,"position")==="fixed")Ue=ft.getBoundingClientRect();else{for(Ue=this.offset(),et=ft.ownerDocument,me=ft.offsetParent||et.documentElement;me&&(me===et.body||me===et.documentElement)&&n.css(me,"position")==="static";)me=me.parentNode;me&&me!==ft&&me.nodeType===1&&(kt=n(me).offset(),kt.top+=n.css(me,"borderTopWidth",!0),kt.left+=n.css(me,"borderLeftWidth",!0))}return{top:Ue.top-kt.top-n.css(ft,"marginTop",!0),left:Ue.left-kt.left-n.css(ft,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var me=this.offsetParent;me&&n.css(me,"position")==="static";)me=me.offsetParent;return me||ue})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(me,Ue){var et=Ue==="pageYOffset";n.fn[me]=function(ft){return N(this,function(kt,_t,Wt){var Gt;if(t(kt)?Gt=kt:kt.nodeType===9&&(Gt=kt.defaultView),Wt===void 0)return Gt?Gt[Ue]:kt[_t];Gt?Gt.scrollTo(et?Gt.pageXOffset:Wt,et?Wt:Gt.pageYOffset):kt[_t]=Wt},me,ft,arguments.length)}}),n.each(["top","left"],function(me,Ue){n.cssHooks[Ue]=gr(v.pixelPosition,function(et,ft){if(ft)return ft=vr(et,Ue),ht.test(ft)?n(et).position()[Ue]+"px":ft})}),n.each({Height:"height",Width:"width"},function(me,Ue){n.each({padding:"inner"+me,content:Ue,"":"outer"+me},function(et,ft){n.fn[ft]=function(kt,_t){var Wt=arguments.length&&(et||typeof kt!="boolean"),Gt=et||(kt===!0||_t===!0?"margin":"border");return N(this,function(Ht,nr,Dr){var Qr;return t(Ht)?ft.indexOf("outer")===0?Ht["inner"+me]:Ht.document.documentElement["client"+me]:Ht.nodeType===9?(Qr=Ht.documentElement,Math.max(Ht.body["scroll"+me],Qr["scroll"+me],Ht.body["offset"+me],Qr["offset"+me],Qr["client"+me])):Dr===void 0?n.css(Ht,nr,Gt):n.style(Ht,nr,Dr,Gt)},Ue,Wt?kt:void 0,Wt)}})}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(me,Ue){n.fn[Ue]=function(et){return this.on(Ue,et)}}),n.fn.extend({bind:function(me,Ue,et){return this.on(me,null,Ue,et)},unbind:function(me,Ue){return this.off(me,null,Ue)},delegate:function(me,Ue,et,ft){return this.on(Ue,me,et,ft)},undelegate:function(me,Ue,et){return arguments.length===1?this.off(me,"**"):this.off(Ue,me||"**",et)},hover:function(me,Ue){return this.mouseenter(me).mouseleave(Ue||me)}}),n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(me,Ue){n.fn[Ue]=function(et,ft){return arguments.length>0?this.on(Ue,null,et,ft):this.trigger(Ue)}});var ka=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;n.proxy=function(me,Ue){var et,ft,kt;if(typeof Ue=="string"&&(et=me[Ue],Ue=me,me=et),!!g(me))return ft=bt.call(arguments,2),kt=function(){return me.apply(Ue||this,ft.concat(bt.call(arguments)))},kt.guid=me.guid=me.guid||n.guid++,kt},n.holdReady=function(me){me?n.readyWait++:n.ready(!0)},n.isArray=Array.isArray,n.parseJSON=JSON.parse,n.nodeName=d,n.isFunction=g,n.isWindow=t,n.camelCase=re,n.type=l,n.now=Date.now,n.isNumeric=function(me){var Ue=n.type(me);return(Ue==="number"||Ue==="string")&&!isNaN(me-parseFloat(me))},n.trim=function(me){return me==null?"":(me+"").replace(ka,"$1")};var oi=ce.jQuery,ar=ce.$;return n.noConflict=function(me){return ce.$===n&&(ce.$=ar),me&&ce.jQuery===n&&(ce.jQuery=oi),n},typeof Ee>"u"&&(ce.jQuery=ce.$=n),n})})(o5);const C8=Z0;/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Dh=typeof window<"u";function s5(j){return j.__esModule||j[Symbol.toStringTag]==="Module"}const ao=Object.assign;function b0(j,ce){const Ee={};for(const Be in ce){const Ke=ce[Be];Ee[Be]=ku(Ke)?Ke.map(j):j(Ke)}return Ee}const Fv=()=>{},ku=Array.isArray,l5=/\/$/,u5=j=>j.replace(l5,"");function w0(j,ce,Ee="/"){let Be,Ke={},bt="",W="";const U=ce.indexOf("#");let e=ce.indexOf("?");return U<e&&U>=0&&(e=-1),e>-1&&(Be=ce.slice(0,e),bt=ce.slice(e+1,U>-1?U:ce.length),Ke=j(bt)),U>-1&&(Be=Be||ce.slice(0,U),W=ce.slice(U,ce.length)),Be=v5(Be??ce,Ee),{fullPath:Be+(bt&&"?")+bt+W,path:Be,query:Ke,hash:W}}function f5(j,ce){const Ee=ce.query?j(ce.query):"";return ce.path+(Ee&&"?")+Ee+(ce.hash||"")}function _1(j,ce){return!ce||!j.toLowerCase().startsWith(ce.toLowerCase())?j:j.slice(ce.length)||"/"}function c5(j,ce,Ee){const Be=ce.matched.length-1,Ke=Ee.matched.length-1;return Be>-1&&Be===Ke&&Gh(ce.matched[Be],Ee.matched[Ke])&&zx(ce.params,Ee.params)&&j(ce.query)===j(Ee.query)&&ce.hash===Ee.hash}function Gh(j,ce){return(j.aliasOf||j)===(ce.aliasOf||ce)}function zx(j,ce){if(Object.keys(j).length!==Object.keys(ce).length)return!1;for(const Ee in j)if(!h5(j[Ee],ce[Ee]))return!1;return!0}function h5(j,ce){return ku(j)?F1(j,ce):ku(ce)?F1(ce,j):j===ce}function F1(j,ce){return ku(ce)?j.length===ce.length&&j.every((Ee,Be)=>Ee===ce[Be]):j.length===1&&j[0]===ce}function v5(j,ce){if(j.startsWith("/"))return j;if(!j)return ce;const Ee=ce.split("/"),Be=j.split("/");let Ke=Ee.length-1,bt,W;for(bt=0;bt<Be.length;bt++)if(W=Be[bt],W!==".")if(W==="..")Ke>1&&Ke--;else break;return Ee.slice(0,Ke).join("/")+"/"+Be.slice(bt-(bt===Be.length?1:0)).join("/")}var Zv;(function(j){j.pop="pop",j.push="push"})(Zv||(Zv={}));var kv;(function(j){j.back="back",j.forward="forward",j.unknown=""})(kv||(kv={}));function d5(j){if(!j)if(Dh){const ce=document.querySelector("base");j=ce&&ce.getAttribute("href")||"/",j=j.replace(/^\w+:\/\/[^\/]+/,"")}else j="/";return j[0]!=="/"&&j[0]!=="#"&&(j="/"+j),u5(j)}const p5=/^[^#]+#/;function g5(j,ce){return j.replace(p5,"#")+ce}function y5(j,ce){const Ee=document.documentElement.getBoundingClientRect(),Be=j.getBoundingClientRect();return{behavior:ce.behavior,left:Be.left-Ee.left-(ce.left||0),top:Be.top-Ee.top-(ce.top||0)}}const _p=()=>({left:window.pageXOffset,top:window.pageYOffset});function m5(j){let ce;if("el"in j){const Ee=j.el,Be=typeof Ee=="string"&&Ee.startsWith("#"),Ke=typeof Ee=="string"?Be?document.getElementById(Ee.slice(1)):document.querySelector(Ee):Ee;if(!Ke)return;ce=y5(Ke,j)}else ce=j;"scrollBehavior"in document.documentElement.style?window.scrollTo(ce):window.scrollTo(ce.left!=null?ce.left:window.pageXOffset,ce.top!=null?ce.top:window.pageYOffset)}function k1(j,ce){return(history.state?history.state.position-ce:-1)+j}const X0=new Map;function x5(j,ce){X0.set(j,ce)}function b5(j){const ce=X0.get(j);return X0.delete(j),ce}let w5=()=>location.protocol+"//"+location.host;function Ox(j,ce){const{pathname:Ee,search:Be,hash:Ke}=ce,bt=j.indexOf("#");if(bt>-1){let U=Ke.includes(j.slice(bt))?j.slice(bt).length:1,e=Ke.slice(U);return e[0]!=="/"&&(e="/"+e),_1(e,"")}return _1(Ee,j)+Be+Ke}function T5(j,ce,Ee,Be){let Ke=[],bt=[],W=null;const U=({state:P})=>{const A=Ox(j,location),v=Ee.value,g=ce.value;let t=0;if(P){if(Ee.value=A,ce.value=P,W&&W===v){W=null;return}t=g?P.position-g.position:0}else Be(A);Ke.forEach(r=>{r(Ee.value,v,{delta:t,type:Zv.pop,direction:t?t>0?kv.forward:kv.back:kv.unknown})})};function e(){W=Ee.value}function p(P){Ke.push(P);const A=()=>{const v=Ke.indexOf(P);v>-1&&Ke.splice(v,1)};return bt.push(A),A}function L(){const{history:P}=window;P.state&&P.replaceState(ao({},P.state,{scroll:_p()}),"")}function a(){for(const P of bt)P();bt=[],window.removeEventListener("popstate",U),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",U),window.addEventListener("beforeunload",L),{pauseListeners:e,listen:p,destroy:a}}function z1(j,ce,Ee,Be=!1,Ke=!1){return{back:j,current:ce,forward:Ee,replaced:Be,position:window.history.length,scroll:Ke?_p():null}}function A5(j){const{history:ce,location:Ee}=window,Be={value:Ox(j,Ee)},Ke={value:ce.state};Ke.value||bt(Be.value,{back:null,current:Be.value,forward:null,position:ce.length-1,replaced:!0,scroll:null},!0);function bt(e,p,L){const a=j.indexOf("#"),P=a>-1?(Ee.host&&document.querySelector("base")?j:j.slice(a))+e:w5()+j+e;try{ce[L?"replaceState":"pushState"](p,"",P),Ke.value=p}catch(A){console.error(A),Ee[L?"replace":"assign"](P)}}function W(e,p){const L=ao({},ce.state,z1(Ke.value.back,e,Ke.value.forward,!0),p,{position:Ke.value.position});bt(e,L,!0),Be.value=e}function U(e,p){const L=ao({},Ke.value,ce.state,{forward:e,scroll:_p()});bt(L.current,L,!0);const a=ao({},z1(Be.value,e,null),{position:L.position+1},p);bt(e,a,!1),Be.value=e}return{location:Be,state:Ke,push:U,replace:W}}function M5(j){j=d5(j);const ce=A5(j),Ee=T5(j,ce.state,ce.location,ce.replace);function Be(bt,W=!0){W||Ee.pauseListeners(),history.go(bt)}const Ke=ao({location:"",base:j,go:Be,createHref:g5.bind(null,j)},ce,Ee);return Object.defineProperty(Ke,"location",{enumerable:!0,get:()=>ce.location.value}),Object.defineProperty(Ke,"state",{enumerable:!0,get:()=>ce.state.value}),Ke}function L8(j){return j=location.host?j||location.pathname+location.search:"",j.includes("#")||(j+="#"),M5(j)}function S5(j){return typeof j=="string"||j&&typeof j=="object"}function Bx(j){return typeof j=="string"||typeof j=="symbol"}const pc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nx=Symbol("");var O1;(function(j){j[j.aborted=4]="aborted",j[j.cancelled=8]="cancelled",j[j.duplicated=16]="duplicated"})(O1||(O1={}));function Wh(j,ce){return ao(new Error,{type:j,[Nx]:!0},ce)}function kf(j,ce){return j instanceof Error&&Nx in j&&(ce==null||!!(j.type&ce))}const B1="[^/]+?",E5={sensitive:!1,strict:!1,start:!0,end:!0},C5=/[.+*?^${}()[\]/\\]/g;function L5(j,ce){const Ee=ao({},E5,ce),Be=[];let Ke=Ee.start?"^":"";const bt=[];for(const p of j){const L=p.length?[]:[90];Ee.strict&&!p.length&&(Ke+="/");for(let a=0;a<p.length;a++){const P=p[a];let A=40+(Ee.sensitive?.25:0);if(P.type===0)a||(Ke+="/"),Ke+=P.value.replace(C5,"\\$&"),A+=40;else if(P.type===1){const{value:v,repeatable:g,optional:t,regexp:r}=P;bt.push({name:v,repeatable:g,optional:t});const u=r||B1;if(u!==B1){A+=10;try{new RegExp(`(${u})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${v}" (${u}): `+l.message)}}let o=g?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;a||(o=t&&p.length<2?`(?:/${o})`:"/"+o),t&&(o+="?"),Ke+=o,A+=20,t&&(A+=-8),g&&(A+=-20),u===".*"&&(A+=-50)}L.push(A)}Be.push(L)}if(Ee.strict&&Ee.end){const p=Be.length-1;Be[p][Be[p].length-1]+=.7000000000000001}Ee.strict||(Ke+="/?"),Ee.end?Ke+="$":Ee.strict&&(Ke+="(?:/|$)");const W=new RegExp(Ke,Ee.sensitive?"":"i");function U(p){const L=p.match(W),a={};if(!L)return null;for(let P=1;P<L.length;P++){const A=L[P]||"",v=bt[P-1];a[v.name]=A&&v.repeatable?A.split("/"):A}return a}function e(p){let L="",a=!1;for(const P of j){(!a||!L.endsWith("/"))&&(L+="/"),a=!1;for(const A of P)if(A.type===0)L+=A.value;else if(A.type===1){const{value:v,repeatable:g,optional:t}=A,r=v in p?p[v]:"";if(ku(r)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const u=ku(r)?r.join("/"):r;if(!u)if(t)P.length<2&&(L.endsWith("/")?L=L.slice(0,-1):a=!0);else throw new Error(`Missing required param "${v}"`);L+=u}}return L||"/"}return{re:W,score:Be,keys:bt,parse:U,stringify:e}}function P5(j,ce){let Ee=0;for(;Ee<j.length&&Ee<ce.length;){const Be=ce[Ee]-j[Ee];if(Be)return Be;Ee++}return j.length<ce.length?j.length===1&&j[0]===40+40?-1:1:j.length>ce.length?ce.length===1&&ce[0]===40+40?1:-1:0}function R5(j,ce){let Ee=0;const Be=j.score,Ke=ce.score;for(;Ee<Be.length&&Ee<Ke.length;){const bt=P5(Be[Ee],Ke[Ee]);if(bt)return bt;Ee++}if(Math.abs(Ke.length-Be.length)===1){if(N1(Be))return 1;if(N1(Ke))return-1}return Ke.length-Be.length}function N1(j){const ce=j[j.length-1];return j.length>0&&ce[ce.length-1]<0}const D5={type:0,value:""},I5=/[a-zA-Z0-9_]/;function _5(j){if(!j)return[[]];if(j==="/")return[[D5]];if(!j.startsWith("/"))throw new Error(`Invalid path "${j}"`);function ce(A){throw new Error(`ERR (${Ee})/"${p}": ${A}`)}let Ee=0,Be=Ee;const Ke=[];let bt;function W(){bt&&Ke.push(bt),bt=[]}let U=0,e,p="",L="";function a(){p&&(Ee===0?bt.push({type:0,value:p}):Ee===1||Ee===2||Ee===3?(bt.length>1&&(e==="*"||e==="+")&&ce(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),bt.push({type:1,value:p,regexp:L,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):ce("Invalid state to consume buffer"),p="")}function P(){p+=e}for(;U<j.length;){if(e=j[U++],e==="\\"&&Ee!==2){Be=Ee,Ee=4;continue}switch(Ee){case 0:e==="/"?(p&&a(),W()):e===":"?(a(),Ee=1):P();break;case 4:P(),Ee=Be;break;case 1:e==="("?Ee=2:I5.test(e)?P():(a(),Ee=0,e!=="*"&&e!=="?"&&e!=="+"&&U--);break;case 2:e===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+e:Ee=3:L+=e;break;case 3:a(),Ee=0,e!=="*"&&e!=="?"&&e!=="+"&&U--,L="";break;default:ce("Unknown state");break}}return Ee===2&&ce(`Unfinished custom RegExp for param "${p}"`),a(),W(),Ke}function F5(j,ce,Ee){const Be=L5(_5(j.path),Ee),Ke=ao(Be,{record:j,parent:ce,children:[],alias:[]});return ce&&!Ke.record.aliasOf==!ce.record.aliasOf&&ce.children.push(Ke),Ke}function k5(j,ce){const Ee=[],Be=new Map;ce=V1({strict:!1,end:!0,sensitive:!1},ce);function Ke(L){return Be.get(L)}function bt(L,a,P){const A=!P,v=z5(L);v.aliasOf=P&&P.record;const g=V1(ce,L),t=[v];if("alias"in L){const o=typeof L.alias=="string"?[L.alias]:L.alias;for(const l of o)t.push(ao({},v,{components:P?P.record.components:v.components,path:l,aliasOf:P?P.record:v}))}let r,u;for(const o of t){const{path:l}=o;if(a&&l[0]!=="/"){const c=a.record.path,n=c[c.length-1]==="/"?"":"/";o.path=a.record.path+(l&&n+l)}if(r=F5(o,a,g),P?P.alias.push(r):(u=u||r,u!==r&&u.alias.push(r),A&&L.name&&!H1(r)&&W(L.name)),v.children){const c=v.children;for(let n=0;n<c.length;n++)bt(c[n],r,P&&P.children[n])}P=P||r,(r.record.components&&Object.keys(r.record.components).length||r.record.name||r.record.redirect)&&e(r)}return u?()=>{W(u)}:Fv}function W(L){if(Bx(L)){const a=Be.get(L);a&&(Be.delete(L),Ee.splice(Ee.indexOf(a),1),a.children.forEach(W),a.alias.forEach(W))}else{const a=Ee.indexOf(L);a>-1&&(Ee.splice(a,1),L.record.name&&Be.delete(L.record.name),L.children.forEach(W),L.alias.forEach(W))}}function U(){return Ee}function e(L){let a=0;for(;a<Ee.length&&R5(L,Ee[a])>=0&&(L.record.path!==Ee[a].record.path||!Ux(L,Ee[a]));)a++;Ee.splice(a,0,L),L.record.name&&!H1(L)&&Be.set(L.record.name,L)}function p(L,a){let P,A={},v,g;if("name"in L&&L.name){if(P=Be.get(L.name),!P)throw Wh(1,{location:L});g=P.record.name,A=ao(U1(a.params,P.keys.filter(u=>!u.optional).map(u=>u.name)),L.params&&U1(L.params,P.keys.map(u=>u.name))),v=P.stringify(A)}else if("path"in L)v=L.path,P=Ee.find(u=>u.re.test(v)),P&&(A=P.parse(v),g=P.record.name);else{if(P=a.name?Be.get(a.name):Ee.find(u=>u.re.test(a.path)),!P)throw Wh(1,{location:L,currentLocation:a});g=P.record.name,A=ao({},a.params,L.params),v=P.stringify(A)}const t=[];let r=P;for(;r;)t.unshift(r.record),r=r.parent;return{name:g,path:v,params:A,matched:t,meta:B5(t)}}return j.forEach(L=>bt(L)),{addRoute:bt,resolve:p,removeRoute:W,getRoutes:U,getRecordMatcher:Ke}}function U1(j,ce){const Ee={};for(const Be of ce)Be in j&&(Ee[Be]=j[Be]);return Ee}function z5(j){return{path:j.path,redirect:j.redirect,name:j.name,meta:j.meta||{},aliasOf:void 0,beforeEnter:j.beforeEnter,props:O5(j),children:j.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in j?j.components||null:j.component&&{default:j.component}}}function O5(j){const ce={},Ee=j.props||!1;if("component"in j)ce.default=Ee;else for(const Be in j.components)ce[Be]=typeof Ee=="boolean"?Ee:Ee[Be];return ce}function H1(j){for(;j;){if(j.record.aliasOf)return!0;j=j.parent}return!1}function B5(j){return j.reduce((ce,Ee)=>ao(ce,Ee.meta),{})}function V1(j,ce){const Ee={};for(const Be in j)Ee[Be]=Be in ce?ce[Be]:j[Be];return Ee}function Ux(j,ce){return ce.children.some(Ee=>Ee===j||Ux(j,Ee))}const Hx=/#/g,N5=/&/g,U5=/\//g,H5=/=/g,V5=/\?/g,Vx=/\+/g,G5=/%5B/g,W5=/%5D/g,Gx=/%5E/g,Y5=/%60/g,Wx=/%7B/g,Z5=/%7C/g,Yx=/%7D/g,X5=/%20/g;function Bg(j){return encodeURI(""+j).replace(Z5,"|").replace(G5,"[").replace(W5,"]")}function j5(j){return Bg(j).replace(Wx,"{").replace(Yx,"}").replace(Gx,"^")}function j0(j){return Bg(j).replace(Vx,"%2B").replace(X5,"+").replace(Hx,"%23").replace(N5,"%26").replace(Y5,"`").replace(Wx,"{").replace(Yx,"}").replace(Gx,"^")}function K5(j){return j0(j).replace(H5,"%3D")}function J5(j){return Bg(j).replace(Hx,"%23").replace(V5,"%3F")}function Q5(j){return j==null?"":J5(j).replace(U5,"%2F")}function np(j){try{return decodeURIComponent(""+j)}catch{}return""+j}function $5(j){const ce={};if(j===""||j==="?")return ce;const Be=(j[0]==="?"?j.slice(1):j).split("&");for(let Ke=0;Ke<Be.length;++Ke){const bt=Be[Ke].replace(Vx," "),W=bt.indexOf("="),U=np(W<0?bt:bt.slice(0,W)),e=W<0?null:np(bt.slice(W+1));if(U in ce){let p=ce[U];ku(p)||(p=ce[U]=[p]),p.push(e)}else ce[U]=e}return ce}function G1(j){let ce="";for(let Ee in j){const Be=j[Ee];if(Ee=K5(Ee),Be==null){Be!==void 0&&(ce+=(ce.length?"&":"")+Ee);continue}(ku(Be)?Be.map(bt=>bt&&j0(bt)):[Be&&j0(Be)]).forEach(bt=>{bt!==void 0&&(ce+=(ce.length?"&":"")+Ee,bt!=null&&(ce+="="+bt))})}return ce}function q5(j){const ce={};for(const Ee in j){const Be=j[Ee];Be!==void 0&&(ce[Ee]=ku(Be)?Be.map(Ke=>Ke==null?null:""+Ke):Be==null?Be:""+Be)}return ce}const e4=Symbol(""),W1=Symbol(""),Ng=Symbol(""),Zx=Symbol(""),K0=Symbol("");function wv(){let j=[];function ce(Be){return j.push(Be),()=>{const Ke=j.indexOf(Be);Ke>-1&&j.splice(Ke,1)}}function Ee(){j=[]}return{add:ce,list:()=>j,reset:Ee}}function yc(j,ce,Ee,Be,Ke){const bt=Be&&(Be.enterCallbacks[Ke]=Be.enterCallbacks[Ke]||[]);return()=>new Promise((W,U)=>{const e=a=>{a===!1?U(Wh(4,{from:Ee,to:ce})):a instanceof Error?U(a):S5(a)?U(Wh(2,{from:ce,to:a})):(bt&&Be.enterCallbacks[Ke]===bt&&typeof a=="function"&&bt.push(a),W())},p=j.call(Be&&Be.instances[Ke],ce,Ee,e);let L=Promise.resolve(p);j.length<3&&(L=L.then(e)),L.catch(a=>U(a))})}function T0(j,ce,Ee,Be){const Ke=[];for(const bt of j)for(const W in bt.components){let U=bt.components[W];if(!(ce!=="beforeRouteEnter"&&!bt.instances[W]))if(t4(U)){const p=(U.__vccOpts||U)[ce];p&&Ke.push(yc(p,Ee,Be,bt,W))}else{let e=U();Ke.push(()=>e.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${W}" at "${bt.path}"`));const L=s5(p)?p.default:p;bt.components[W]=L;const P=(L.__vccOpts||L)[ce];return P&&yc(P,Ee,Be,bt,W)()}))}}return Ke}function t4(j){return typeof j=="object"||"displayName"in j||"props"in j||"__vccOpts"in j}function Y1(j){const ce=Nf(Ng),Ee=Nf(Zx),Be=tu(()=>ce.resolve(Bh(j.to))),Ke=tu(()=>{const{matched:e}=Be.value,{length:p}=e,L=e[p-1],a=Ee.matched;if(!L||!a.length)return-1;const P=a.findIndex(Gh.bind(null,L));if(P>-1)return P;const A=Z1(e[p-2]);return p>1&&Z1(L)===A&&a[a.length-1].path!==A?a.findIndex(Gh.bind(null,e[p-2])):P}),bt=tu(()=>Ke.value>-1&&i4(Ee.params,Be.value.params)),W=tu(()=>Ke.value>-1&&Ke.value===Ee.matched.length-1&&zx(Ee.params,Be.value.params));function U(e={}){return a4(e)?ce[Bh(j.replace)?"replace":"push"](Bh(j.to)).catch(Fv):Promise.resolve()}return{route:Be,href:tu(()=>Be.value.href),isActive:bt,isExactActive:W,navigate:U}}const r4=gx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Y1,setup(j,{slots:ce}){const Ee=qv(Y1(j)),{options:Be}=Nf(Ng),Ke=tu(()=>({[X1(j.activeClass,Be.linkActiveClass,"router-link-active")]:Ee.isActive,[X1(j.exactActiveClass,Be.linkExactActiveClass,"router-link-exact-active")]:Ee.isExactActive}));return()=>{const bt=ce.default&&ce.default(Ee);return j.custom?bt:kx("a",{"aria-current":Ee.isExactActive?j.ariaCurrentValue:null,href:Ee.href,onClick:Ee.navigate,class:Ke.value},bt)}}}),n4=r4;function a4(j){if(!(j.metaKey||j.altKey||j.ctrlKey||j.shiftKey)&&!j.defaultPrevented&&!(j.button!==void 0&&j.button!==0)){if(j.currentTarget&&j.currentTarget.getAttribute){const ce=j.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(ce))return}return j.preventDefault&&j.preventDefault(),!0}}function i4(j,ce){for(const Ee in ce){const Be=ce[Ee],Ke=j[Ee];if(typeof Be=="string"){if(Be!==Ke)return!1}else if(!ku(Ke)||Ke.length!==Be.length||Be.some((bt,W)=>bt!==Ke[W]))return!1}return!0}function Z1(j){return j?j.aliasOf?j.aliasOf.path:j.path:""}const X1=(j,ce,Ee)=>j??ce??Ee,o4=gx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(j,{attrs:ce,slots:Ee}){const Be=Nf(K0),Ke=tu(()=>j.route||Be.value),bt=Nf(W1,0),W=tu(()=>{let p=Bh(bt);const{matched:L}=Ke.value;let a;for(;(a=L[p])&&!a.components;)p++;return p}),U=tu(()=>Ke.value.matched[W.value]);Wd(W1,tu(()=>W.value+1)),Wd(e4,U),Wd(K0,Ke);const e=yT();return Yd(()=>[e.value,U.value,j.name],([p,L,a],[P,A,v])=>{L&&(L.instances[a]=p,A&&A!==L&&p&&p===P&&(L.leaveGuards.size||(L.leaveGuards=A.leaveGuards),L.updateGuards.size||(L.updateGuards=A.updateGuards))),p&&L&&(!A||!Gh(L,A)||!P)&&(L.enterCallbacks[a]||[]).forEach(g=>g(p))},{flush:"post"}),()=>{const p=Ke.value,L=j.name,a=U.value,P=a&&a.components[L];if(!P)return j1(Ee.default,{Component:P,route:p});const A=a.props[L],v=A?A===!0?p.params:typeof A=="function"?A(p):A:null,t=kx(P,ao({},v,ce,{onVnodeUnmounted:r=>{r.component.isUnmounted&&(a.instances[L]=null)},ref:e}));return j1(Ee.default,{Component:t,route:p})||t}}});function j1(j,ce){if(!j)return null;const Ee=j(ce);return Ee.length===1?Ee[0]:Ee}const s4=o4;function P8(j){const ce=k5(j.routes,j),Ee=j.parseQuery||$5,Be=j.stringifyQuery||G1,Ke=j.history,bt=wv(),W=wv(),U=wv(),e=mT(pc);let p=pc;Dh&&j.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=b0.bind(null,I=>""+I),a=b0.bind(null,Q5),P=b0.bind(null,np);function A(I,O){let z,k;return Bx(I)?(z=ce.getRecordMatcher(I),k=O):k=I,ce.addRoute(k,z)}function v(I){const O=ce.getRecordMatcher(I);O&&ce.removeRoute(O)}function g(){return ce.getRoutes().map(I=>I.record)}function t(I){return!!ce.getRecordMatcher(I)}function r(I,O){if(O=ao({},O||e.value),typeof I=="string"){const Q=w0(Ee,I,O.path),re=ce.resolve({path:Q.path},O),oe=Ke.createHref(Q.fullPath);return ao(Q,re,{params:P(re.params),hash:np(Q.hash),redirectedFrom:void 0,href:oe})}let z;if("path"in I)z=ao({},I,{path:w0(Ee,I.path,O.path).path});else{const Q=ao({},I.params);for(const re in Q)Q[re]==null&&delete Q[re];z=ao({},I,{params:a(I.params)}),O.params=a(O.params)}const k=ce.resolve(z,O),N=I.hash||"";k.params=L(P(k.params));const K=f5(Be,ao({},I,{hash:j5(N),path:k.path})),q=Ke.createHref(K);return ao({fullPath:K,hash:N,query:Be===G1?q5(I.query):I.query||{}},k,{redirectedFrom:void 0,href:q})}function u(I){return typeof I=="string"?w0(Ee,I,e.value.path):ao({},I)}function o(I,O){if(p!==I)return Wh(8,{from:O,to:I})}function l(I){return x(I)}function c(I){return l(ao(u(I),{replace:!0}))}function n(I){const O=I.matched[I.matched.length-1];if(O&&O.redirect){const{redirect:z}=O;let k=typeof z=="function"?z(I):z;return typeof k=="string"&&(k=k.includes("?")||k.includes("#")?k=u(k):{path:k},k.params={}),ao({query:I.query,hash:I.hash,params:"path"in k?{}:I.params},k)}}function x(I,O){const z=p=r(I),k=e.value,N=I.state,K=I.force,q=I.replace===!0,Q=n(z);if(Q)return x(ao(u(Q),{state:typeof Q=="object"?ao({},N,Q.state):N,force:K,replace:q}),O||z);const re=z;re.redirectedFrom=O;let oe;return!K&&c5(Be,k,z)&&(oe=Wh(16,{to:re,from:k}),E(k,k,!0,!1)),(oe?Promise.resolve(oe):T(re,k)).catch(Y=>kf(Y)?kf(Y,2)?Y:i(Y):w(Y,re,k)).then(Y=>{if(Y){if(kf(Y,2))return x(ao({replace:q},u(Y.to),{state:typeof Y.to=="object"?ao({},N,Y.to.state):N,force:K}),O||re)}else Y=s(re,k,!0,q,N);return f(re,k,Y),Y})}function h(I,O){const z=o(I,O);return z?Promise.reject(z):Promise.resolve()}function T(I,O){let z;const[k,N,K]=l4(I,O);z=T0(k.reverse(),"beforeRouteLeave",I,O);for(const Q of k)Q.leaveGuards.forEach(re=>{z.push(yc(re,I,O))});const q=h.bind(null,I,O);return z.push(q),Rh(z).then(()=>{z=[];for(const Q of bt.list())z.push(yc(Q,I,O));return z.push(q),Rh(z)}).then(()=>{z=T0(N,"beforeRouteUpdate",I,O);for(const Q of N)Q.updateGuards.forEach(re=>{z.push(yc(re,I,O))});return z.push(q),Rh(z)}).then(()=>{z=[];for(const Q of I.matched)if(Q.beforeEnter&&!O.matched.includes(Q))if(ku(Q.beforeEnter))for(const re of Q.beforeEnter)z.push(yc(re,I,O));else z.push(yc(Q.beforeEnter,I,O));return z.push(q),Rh(z)}).then(()=>(I.matched.forEach(Q=>Q.enterCallbacks={}),z=T0(K,"beforeRouteEnter",I,O),z.push(q),Rh(z))).then(()=>{z=[];for(const Q of W.list())z.push(yc(Q,I,O));return z.push(q),Rh(z)}).catch(Q=>kf(Q,8)?Q:Promise.reject(Q))}function f(I,O,z){for(const k of U.list())k(I,O,z)}function s(I,O,z,k,N){const K=o(I,O);if(K)return K;const q=O===pc,Q=Dh?history.state:{};z&&(k||q?Ke.replace(I.fullPath,ao({scroll:q&&Q&&Q.scroll},N)):Ke.push(I.fullPath,N)),e.value=I,E(I,O,z,q),i()}let d;function S(){d||(d=Ke.listen((I,O,z)=>{if(!B.listening)return;const k=r(I),N=n(k);if(N){x(ao(N,{replace:!0}),k).catch(Fv);return}p=k;const K=e.value;Dh&&x5(k1(K.fullPath,z.delta),_p()),T(k,K).catch(q=>kf(q,12)?q:kf(q,2)?(x(q.to,k).then(Q=>{kf(Q,20)&&!z.delta&&z.type===Zv.pop&&Ke.go(-1,!1)}).catch(Fv),Promise.reject()):(z.delta&&Ke.go(-z.delta,!1),w(q,k,K))).then(q=>{q=q||s(k,K,!1),q&&(z.delta&&!kf(q,8)?Ke.go(-z.delta,!1):z.type===Zv.pop&&kf(q,20)&&Ke.go(-1,!1)),f(k,K,q)}).catch(Fv)}))}let M=wv(),C=wv(),y;function w(I,O,z){i(I);const k=C.list();return k.length?k.forEach(N=>N(I,O,z)):console.error(I),Promise.reject(I)}function b(){return y&&e.value!==pc?Promise.resolve():new Promise((I,O)=>{M.add([I,O])})}function i(I){return y||(y=!I,S(),M.list().forEach(([O,z])=>I?z(I):O()),M.reset()),I}function E(I,O,z,k){const{scrollBehavior:N}=j;if(!Dh||!N)return Promise.resolve();const K=!z&&b5(k1(I.fullPath,0))||(k||!z)&&history.state&&history.state.scroll||null;return sx().then(()=>N(I,O,K)).then(q=>q&&m5(q)).catch(q=>w(q,I,O))}const m=I=>Ke.go(I);let F;const _=new Set,B={currentRoute:e,listening:!0,addRoute:A,removeRoute:v,hasRoute:t,getRoutes:g,resolve:r,options:j,push:l,replace:c,go:m,back:()=>m(-1),forward:()=>m(1),beforeEach:bt.add,beforeResolve:W.add,afterEach:U.add,onError:C.add,isReady:b,install(I){const O=this;I.component("RouterLink",n4),I.component("RouterView",s4),I.config.globalProperties.$router=O,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Bh(e)}),Dh&&!F&&e.value===pc&&(F=!0,l(Ke.location).catch(N=>{}));const z={};for(const N in pc)z[N]=tu(()=>e.value[N]);I.provide(Ng,O),I.provide(Zx,qv(z)),I.provide(K0,e);const k=I.unmount;_.add(I),I.unmount=function(){_.delete(I),_.size<1&&(p=pc,d&&d(),d=null,e.value=pc,F=!1,y=!1),k()}}};return B}function Rh(j){return j.reduce((ce,Ee)=>ce.then(()=>Ee()),Promise.resolve())}function l4(j,ce){const Ee=[],Be=[],Ke=[],bt=Math.max(ce.matched.length,j.matched.length);for(let W=0;W<bt;W++){const U=ce.matched[W];U&&(j.matched.find(p=>Gh(p,U))?Be.push(U):Ee.push(U));const e=j.matched[W];e&&(ce.matched.find(p=>Gh(p,e))||Ke.push(e))}return[Ee,Be,Ke]}var J0={},u4={get exports(){return J0},set exports(j){J0=j}};(function(j,ce){(function(Be,Ke){j.exports=Ke()})(self,function(){return function(){var Ee={98847:function(W,U,e){var p=e(71828),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in L){var P=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(P,L[a])}},98222:function(W,U,e){W.exports=e(82887)},27206:function(W,U,e){W.exports=e(60822)},59893:function(W,U,e){W.exports=e(23381)},5224:function(W,U,e){W.exports=e(83832)},59509:function(W,U,e){W.exports=e(72201)},75557:function(W,U,e){W.exports=e(91815)},40338:function(W,U,e){W.exports=e(21462)},35080:function(W,U,e){W.exports=e(51319)},61396:function(W,U,e){W.exports=e(57516)},40549:function(W,U,e){W.exports=e(98128)},49866:function(W,U,e){W.exports=e(99442)},36089:function(W,U,e){W.exports=e(93740)},19548:function(W,U,e){W.exports=e(8729)},35831:function(W,U,e){W.exports=e(93814)},61039:function(W,U,e){W.exports=e(14382)},97040:function(W,U,e){W.exports=e(51759)},77986:function(W,U,e){W.exports=e(10421)},24296:function(W,U,e){W.exports=e(43102)},58872:function(W,U,e){W.exports=e(92165)},29626:function(W,U,e){W.exports=e(3325)},65591:function(W,U,e){W.exports=e(36071)},69738:function(W,U,e){W.exports=e(43905)},92650:function(W,U,e){W.exports=e(35902)},35630:function(W,U,e){W.exports=e(69816)},73434:function(W,U,e){W.exports=e(94507)},27909:function(W,U,e){var p=e(19548);p.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),W.exports=p},46163:function(W,U,e){W.exports=e(15154)},96881:function(W,U,e){W.exports=e(64943)},50581:function(W,U,e){W.exports=e(21164)},55334:function(W,U,e){W.exports=e(54186)},65317:function(W,U,e){W.exports=e(94873)},10021:function(W,U,e){W.exports=e(67618)},54201:function(W,U,e){W.exports=e(58810)},5861:function(W,U,e){W.exports=e(20593)},16122:function(W,U,e){W.exports=e(29396)},83043:function(W,U,e){W.exports=e(13551)},48131:function(W,U,e){W.exports=e(46858)},47582:function(W,U,e){W.exports=e(17988)},21641:function(W,U,e){W.exports=e(68868)},96268:function(W,U,e){W.exports=e(20467)},19440:function(W,U,e){W.exports=e(91271)},99488:function(W,U,e){W.exports=e(21461)},97393:function(W,U,e){W.exports=e(85956)},25743:function(W,U,e){W.exports=e(52979)},66398:function(W,U,e){W.exports=e(32275)},17280:function(W,U,e){W.exports=e(6419)},77900:function(W,U,e){W.exports=e(61510)},81299:function(W,U,e){W.exports=e(87619)},93005:function(W,U,e){W.exports=e(93601)},40344:function(W,U,e){W.exports=e(96595)},47645:function(W,U,e){W.exports=e(70954)},6197:function(W,U,e){W.exports=e(47462)},4534:function(W,U,e){W.exports=e(17659)},85461:function(W,U,e){W.exports=e(19990)},82884:function(W){W.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(W,U,e){var p=e(82884),L=e(41940),a=e(85555),P=e(44467).templatedArray;e(24695),W.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(W,U,e){var p=e(71828),L=e(89298),a=e(92605).draw;W.exports=function(g){var t=g._fullLayout,r=p.filterVisible(t.annotations);if(r.length&&g._fullData.length)return p.syncOrAsync([a,P],g)};function P(v){var g=v._fullLayout;p.filterVisible(g.annotations).forEach(function(t){var r=L.getFromId(v,t.xref),u=L.getFromId(v,t.yref),o=L.getRefType(t.xref),l=L.getRefType(t.yref);t._extremes={},o==="range"&&A(t,r),l==="range"&&A(t,u)})}function A(v,g){var t=g._id,r=t.charAt(0),u=v[r],o=v["a"+r],l=v[r+"ref"],c=v["a"+r+"ref"],n=v["_"+r+"padplus"],x=v["_"+r+"padminus"],h={x:1,y:-1}[r]*v[r+"shift"],T=3*v.arrowsize*v.arrowwidth||0,f=T+h,s=T-h,d=3*v.startarrowsize*v.arrowwidth||0,S=d+h,M=d-h,C;if(c===l){var y=L.findExtremes(g,[g.r2c(u)],{ppadplus:f,ppadminus:s}),w=L.findExtremes(g,[g.r2c(o)],{ppadplus:Math.max(n,S),ppadminus:Math.max(x,M)});C={min:[y.min[0],w.min[0]],max:[y.max[0],w.max[0]]}}else S=o?S+o:S,M=o?M-o:M,C=L.findExtremes(g,[g.r2c(u)],{ppadplus:Math.max(n,f,S),ppadminus:Math.max(x,s,M)});v._extremes[t]=C}},44317:function(W,U,e){var p=e(71828),L=e(73972),a=e(44467).arrayEditor;W.exports={hasClickToShow:P,onClick:A};function P(t,r){var u=v(t,r);return u.on.length>0||u.explicitOff.length>0}function A(t,r){var u=v(t,r),o=u.on,l=u.off.concat(u.explicitOff),c={},n=t._fullLayout.annotations,x,h;if(o.length||l.length){for(x=0;x<o.length;x++)h=a(t.layout,"annotations",n[o[x]]),h.modifyItem("visible",!0),p.extendFlat(c,h.getUpdateObj());for(x=0;x<l.length;x++)h=a(t.layout,"annotations",n[l[x]]),h.modifyItem("visible",!1),p.extendFlat(c,h.getUpdateObj());return L.call("update",t,{},c)}}function v(t,r){var u=t._fullLayout.annotations,o=[],l=[],c=[],n=(r||[]).length,x,h,T,f,s,d,S,M;for(x=0;x<u.length;x++)if(T=u[x],f=T.clicktoshow,f){for(h=0;h<n;h++)if(s=r[h],d=s.xaxis,S=s.yaxis,d._id===T.xref&&S._id===T.yref&&d.d2r(s.x)===g(T._xclick,d)&&S.d2r(s.y)===g(T._yclick,S)){T.visible?f==="onout"?M=l:M=c:M=o,M.push(x);break}h===n&&T.visible&&f==="onout"&&l.push(x)}return{on:o,off:l,explicitOff:c}}function g(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(W,U,e){var p=e(71828),L=e(7901);W.exports=function(P,A,v,g){g("opacity");var t=g("bgcolor"),r=g("bordercolor"),u=L.opacity(r);g("borderpad");var o=g("borderwidth"),l=g("showarrow");g("text",l?" ":v._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",v.font),g("width"),g("align");var c=g("height");if(c&&g("valign"),l){var n=g("arrowside"),x,h;n.indexOf("end")!==-1&&(x=g("arrowhead"),h=g("arrowsize")),n.indexOf("start")!==-1&&(g("startarrowhead",x),g("startarrowsize",h)),g("arrowcolor",u?A.bordercolor:L.defaultLine),g("arrowwidth",(u&&o||1)*2),g("standoff"),g("startstandoff")}var T=g("hovertext"),f=v.hoverlabel||{};if(T){var s=g("hoverlabel.bgcolor",f.bgcolor||(L.opacity(t)?L.rgb(t):L.defaultLine)),d=g("hoverlabel.bordercolor",f.bordercolor||L.contrast(s));p.coerceFont(g,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||d})}g("captureevents",!!T)}},94128:function(W,U,e){var p=e(92770),L=e(58163);W.exports=function(P,A,v,g){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(!(t||r))return;var u=P._fullLayout.annotations,o=A._id.charAt(0),l,c;function n(h){var T=l[h],f=null;t?f=L(T,A.range):f=Math.pow(10,T),p(f)||(f=null),g(c+h,f)}for(var x=0;x<u.length;x++)l=u[x],c="annotations["+x+"].",l[o+"ref"]===A._id&&n(o),l["a"+o+"ref"]===A._id&&n("a"+o)}},84046:function(W,U,e){var p=e(71828),L=e(89298),a=e(85501),P=e(25625),A=e(50215);W.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:v})};function v(g,t,r){function u(b,i){return p.coerce(g,t,A,b,i)}var o=u("visible"),l=u("clicktoshow");if(o||l){P(g,t,r,u);for(var c=t.showarrow,n=["x","y"],x=[-10,-30],h={_fullLayout:r},T=0;T<2;T++){var f=n[T],s=L.coerceRef(g,t,h,f,"","paper");if(s!=="paper"){var d=L.getFromId(h,s);d._annIndices.push(t._index)}if(L.coercePosition(t,h,u,s,f,.5),c){var S="a"+f,M=L.coerceRef(g,t,h,S,"pixel",["pixel","paper"]);M!=="pixel"&&M!==s&&(M=t[S]="pixel");var C=M==="pixel"?x[T]:.4;L.coercePosition(t,h,u,M,S,C)}u(f+"anchor"),u(f+"shift")}if(p.noneOrAll(g,t,["x","y"]),c&&p.noneOrAll(g,t,["ax","ay"]),l){var y=u("xclick"),w=u("yclick");t._xclick=y===void 0?t.x:L.cleanPosition(y,h,t.xref),t._yclick=w===void 0?t.y:L.cleanPosition(w,h,t.yref)}}}},92605:function(W,U,e){var p=e(39898),L=e(73972),a=e(74875),P=e(71828),A=P.strTranslate,v=e(89298),g=e(7901),t=e(91424),r=e(30211),u=e(63893),o=e(6964),l=e(28569),c=e(44467).arrayEditor,n=e(13011);W.exports={draw:x,drawOne:h,drawRaw:f};function x(s){var d=s._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var S=0;S<d.annotations.length;S++)d.annotations[S].visible&&h(s,S);return a.previousPromises(s)}function h(s,d){var S=s._fullLayout,M=S.annotations[d]||{},C=v.getFromId(s,M.xref),y=v.getFromId(s,M.yref);C&&C.setScale(),y&&y.setScale(),f(s,M,d,!1,C,y)}function T(s,d,S,M,C){var y=C[S],w=C[S+"ref"],b=S.indexOf("y")!==-1,i=v.getRefType(w)==="domain",E=b?M.h:M.w;return s?i?y+(b?-d:d)/s._length:s.p2r(s.r2p(y)+d):y+(b?-d:d)/E}function f(s,d,S,M,C,y){var w=s._fullLayout,b=s._fullLayout._size,i=s._context.edits,E,m;M?(E="annotation-"+M,m=M+".annotations"):(E="annotation",m="annotations");var F=c(s.layout,m,d),_=F.modifyBase,B=F.modifyItem,I=F.getUpdateObj;w._infolayer.selectAll("."+E+'[data-index="'+S+'"]').remove();var O="clip"+w._uid+"_ann"+S;if(!d._input||d.visible===!1){p.selectAll("#"+O).remove();return}var z={x:{},y:{}},k=+d.textangle||0,N=w._infolayer.append("g").classed(E,!0).attr("data-index",String(S)).style("opacity",d.opacity),K=N.append("g").classed("annotation-text-g",!0),q=i[d.showarrow?"annotationTail":"annotationPosition"],Q=d.captureevents||i.annotationText||q;function re(ge){var Te={index:S,annotation:d._input,fullAnnotation:d,event:ge};return M&&(Te.subplotId=M),Te}var oe=K.append("g").style("pointer-events",Q?"all":null).call(o,"pointer").on("click",function(){s._dragging=!1,s.emit("plotly_clickannotation",re(p.event))});d.hovertext&&oe.on("mouseover",function(){var ge=d.hoverlabel,Te=ge.font,xe=this.getBoundingClientRect(),Pe=s.getBoundingClientRect();r.loneHover({x0:xe.left-Pe.left,x1:xe.right-Pe.left,y:(xe.top+xe.bottom)/2-Pe.top,text:d.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:Te.family,fontSize:Te.size,fontColor:Te.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:s})}).on("mouseout",function(){r.loneUnhover(w._hoverlayer.node())});var Y=d.borderwidth,G=d.borderpad,V=Y+G,Z=oe.append("rect").attr("class","bg").style("stroke-width",Y+"px").call(g.stroke,d.bordercolor).call(g.fill,d.bgcolor),ae=d.width||d.height,ie=w._topclips.selectAll("#"+O).data(ae?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),ie.exit().remove();var J=d.font,$=w._meta?P.templateString(d.text,w._meta):d.text,se=oe.append("text").classed("annotation-text",!0).text($);function ee(ge){return ge.call(t.font,J).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),u.convertToTspans(ge,s,ue),ge}function ue(){var ge=se.selectAll("a");if(ge.size()===1&&ge.text()===se.text()){var Te=oe.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"});Te.node().appendChild(Z.node())}var xe=oe.select(".annotation-text-math-group"),Pe=!xe.empty(),Ie=t.bBox((Pe?xe:se).node()),Ae=Ie.width,be=Ie.height,_e=d.width||Ae,Ve=d.height||be,We=Math.round(_e+2*V),ze=Math.round(Ve+2*V);function Ze(Lr,Tr){return Tr==="auto"&&(Lr<.3333333333333333?Tr="left":Lr>.6666666666666666?Tr="right":Tr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Tr]}for(var ct=!1,lt=["x","y"],at=0;at<lt.length;at++){var tt=lt[at],dt=d[tt+"ref"]||tt,wt=d["a"+tt+"ref"],Mt={x:C,y}[tt],It=(k+(tt==="x"?0:-90))*Math.PI/180,$e=We*Math.cos(It),ke=ze*Math.sin(It),Fe=Math.abs($e)+Math.abs(ke),qe=d[tt+"anchor"],it=d[tt+"shift"]*(tt==="x"?1:-1),Je=z[tt],Re,Me,fe,ye,Le,Oe=v.getRefType(dt);if(Mt&&Oe!=="domain"){var ht=Mt.r2fraction(d[tt]);(ht<0||ht>1)&&(wt===dt?(ht=Mt.r2fraction(d["a"+tt]),(ht<0||ht>1)&&(ct=!0)):ct=!0),Re=Mt._offset+Mt.r2p(d[tt]),ye=.5}else{var vt=Oe==="domain";tt==="x"?(fe=d[tt],Re=vt?Mt._offset+Mt._length*fe:Re=b.l+b.w*fe):(fe=1-d[tt],Re=vt?Mt._offset+Mt._length*fe:Re=b.t+b.h*fe),ye=d.showarrow?.5:fe}if(d.showarrow){Je.head=Re;var Lt=d["a"+tt];if(Le=$e*Ze(.5,d.xanchor)-ke*Ze(.5,d.yanchor),wt===dt){var Ot=v.getRefType(wt);Ot==="domain"?(tt==="y"&&(Lt=1-Lt),Je.tail=Mt._offset+Mt._length*Lt):Ot==="paper"?tt==="y"?(Lt=1-Lt,Je.tail=b.t+b.h*Lt):Je.tail=b.l+b.w*Lt:Je.tail=Mt._offset+Mt.r2p(Lt),Me=Le}else Je.tail=Re+Lt,Me=Le+Lt;Je.text=Je.tail+Le;var Jt=w[tt==="x"?"width":"height"];if(dt==="paper"&&(Je.head=P.constrain(Je.head,1,Jt-1)),wt==="pixel"){var qt=-Math.max(Je.tail-3,Je.text),Vt=Math.min(Je.tail+3,Je.text)-Jt;qt>0?(Je.tail+=qt,Je.text+=qt):Vt>0&&(Je.tail-=Vt,Je.text-=Vt)}Je.tail+=it,Je.head+=it}else Le=Fe*Ze(ye,qe),Me=Le,Je.text=Re+Le;Je.text+=it,Le+=it,Me+=it,d["_"+tt+"padplus"]=Fe/2+Me,d["_"+tt+"padminus"]=Fe/2-Me,d["_"+tt+"size"]=Fe,d["_"+tt+"shift"]=Le}if(ct){oe.remove();return}var vr=0,gr=0;if(d.align!=="left"&&(vr=(_e-Ae)*(d.align==="center"?.5:1)),d.valign!=="top"&&(gr=(Ve-be)*(d.valign==="middle"?.5:1)),Pe)xe.select("svg").attr({x:V+vr-1,y:V+gr}).call(t.setClipUrl,ae?O:null,s);else{var Gr=V+gr-Ie.top,At=V+vr-Ie.left;se.call(u.positionText,At,Gr).call(t.setClipUrl,ae?O:null,s)}ie.select("rect").call(t.setRect,V,V,_e,Ve),Z.call(t.setRect,Y/2,Y/2,We-Y,ze-Y),oe.call(t.setTranslate,Math.round(z.x.text-We/2),Math.round(z.y.text-ze/2)),K.attr({transform:"rotate("+k+","+z.x.text+","+z.y.text+")"});var or=function(Lr,Tr){N.selectAll(".annotation-arrow-g").remove();var pt=z.x.head,st=z.y.head,yt=z.x.tail+Lr,Pt=z.y.tail+Tr,Dt=z.x.text+Lr,Nt=z.y.text+Tr,Zt=P.rotationXYMatrix(k,Dt,Nt),$t=P.apply2DTransform(Zt),lr=P.apply2DTransform2(Zt),ir=+Z.attr("width"),He=+Z.attr("height"),Ge=Dt-.5*ir,Ct=Ge+ir,Ut=Nt-.5*He,Kt=Ut+He,Xt=[[Ge,Ut,Ge,Kt],[Ge,Kt,Ct,Kt],[Ct,Kt,Ct,Ut],[Ct,Ut,Ge,Ut]].map(lr);if(!Xt.reduce(function(Zr,Nn){return Zr^!!P.segmentsIntersect(pt,st,pt+1e6,st+1e6,Nn[0],Nn[1],Nn[2],Nn[3])},!1)){Xt.forEach(function(Zr){var Nn=P.segmentsIntersect(yt,Pt,pt,st,Zr[0],Zr[1],Zr[2],Zr[3]);Nn&&(yt=Nn.x,Pt=Nn.y)});var ur=d.arrowwidth,Ar=d.arrowcolor,Rr=d.arrowside,wr=N.append("g").style({opacity:g.opacity(Ar)}).classed("annotation-arrow-g",!0),er=wr.append("path").attr("d","M"+yt+","+Pt+"L"+pt+","+st).style("stroke-width",ur+"px").call(g.stroke,g.rgb(Ar));if(n(er,Rr,d),i.annotationPosition&&er.node().parentNode&&!M){var _r=pt,Vr=st;if(d.standoff){var Br=Math.sqrt(Math.pow(pt-yt,2)+Math.pow(st-Pt,2));_r+=d.standoff*(yt-pt)/Br,Vr+=d.standoff*(Pt-st)/Br}var yr=wr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(yt-_r)+","+(Pt-Vr),transform:A(_r,Vr)}).style("stroke-width",ur+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),pn,an;l.init({element:yr.node(),gd:s,prepFn:function(){var Zr=t.getTranslate(oe);pn=Zr.x,an=Zr.y,C&&C.autorange&&_(C._name+".autorange",!0),y&&y.autorange&&_(y._name+".autorange",!0)},moveFn:function(Zr,Nn){var fn=$t(pn,an),xn=fn[0]+Zr,On=fn[1]+Nn;oe.call(t.setTranslate,xn,On),B("x",T(C,Zr,"x",b,d)),B("y",T(y,Nn,"y",b,d)),d.axref===d.xref&&B("ax",T(C,Zr,"ax",b,d)),d.ayref===d.yref&&B("ay",T(y,Nn,"ay",b,d)),wr.attr("transform",A(Zr,Nn)),K.attr({transform:"rotate("+k+","+xn+","+On+")"})},doneFn:function(){L.call("_guiRelayout",s,I());var Zr=document.querySelector(".js-notes-box-panel");Zr&&Zr.redraw(Zr.selectedObj)}})}}};if(d.showarrow&&or(0,0),q){var rr;l.init({element:oe.node(),gd:s,prepFn:function(){rr=K.attr("transform")},moveFn:function(Lr,Tr){var pt="pointer";if(d.showarrow)d.axref===d.xref?B("ax",T(C,Lr,"ax",b,d)):B("ax",d.ax+Lr),d.ayref===d.yref?B("ay",T(y,Tr,"ay",b.w,d)):B("ay",d.ay+Tr),or(Lr,Tr);else{if(M)return;var st,yt;if(C)st=T(C,Lr,"x",b,d);else{var Pt=d._xsize/b.w,Dt=d.x+(d._xshift-d.xshift)/b.w-Pt/2;st=l.align(Dt+Lr/b.w,Pt,0,1,d.xanchor)}if(y)yt=T(y,Tr,"y",b,d);else{var Nt=d._ysize/b.h,Zt=d.y-(d._yshift+d.yshift)/b.h-Nt/2;yt=l.align(Zt-Tr/b.h,Nt,0,1,d.yanchor)}B("x",st),B("y",yt),(!C||!y)&&(pt=l.getCursor(C?.5:st,y?.5:yt,d.xanchor,d.yanchor))}K.attr({transform:A(Lr,Tr)+rr}),o(oe,pt)},clickFn:function(Lr,Tr){d.captureevents&&s.emit("plotly_clickannotation",re(Tr))},doneFn:function(){o(oe),L.call("_guiRelayout",s,I());var Lr=document.querySelector(".js-notes-box-panel");Lr&&Lr.redraw(Lr.selectedObj)}})}}i.annotationText?se.call(u.makeEditable,{delegate:oe,gd:s}).call(ee).on("edit",function(ge){d.text=ge,this.call(ee),B("text",ge),C&&C.autorange&&_(C._name+".autorange",!0),y&&y.autorange&&_(y._name+".autorange",!0),L.call("_guiRelayout",s,I())}):se.call(ee)}},13011:function(W,U,e){var p=e(39898),L=e(7901),a=e(82884),P=e(71828),A=P.strScale,v=P.strRotate,g=P.strTranslate;W.exports=function(r,u,o){var l=r.node(),c=a[o.arrowhead||0],n=a[o.startarrowhead||0],x=(o.arrowwidth||1)*(o.arrowsize||1),h=(o.arrowwidth||1)*(o.startarrowsize||1),T=u.indexOf("start")>=0,f=u.indexOf("end")>=0,s=c.backoff*x+o.standoff,d=n.backoff*h+o.startstandoff,S,M,C,y;if(l.nodeName==="line"){S={x:+r.attr("x1"),y:+r.attr("y1")},M={x:+r.attr("x2"),y:+r.attr("y2")};var w=S.x-M.x,b=S.y-M.y;if(C=Math.atan2(b,w),y=C+Math.PI,s&&d&&s+d>Math.sqrt(w*w+b*b)){K();return}if(s){if(s*s>w*w+b*b){K();return}var i=s*Math.cos(C),E=s*Math.sin(C);M.x+=i,M.y+=E,r.attr({x2:M.x,y2:M.y})}if(d){if(d*d>w*w+b*b){K();return}var m=d*Math.cos(C),F=d*Math.sin(C);S.x-=m,S.y-=F,r.attr({x1:S.x,y1:S.y})}}else if(l.nodeName==="path"){var _=l.getTotalLength(),B="";if(_<s+d){K();return}var I=l.getPointAtLength(0),O=l.getPointAtLength(.1);C=Math.atan2(I.y-O.y,I.x-O.x),S=l.getPointAtLength(Math.min(d,_)),B="0px,"+d+"px,";var z=l.getPointAtLength(_),k=l.getPointAtLength(_-.1);y=Math.atan2(z.y-k.y,z.x-k.x),M=l.getPointAtLength(Math.max(0,_-s));var N=B?d+s:s;B+=_-N+"px,"+_+"px",r.style("stroke-dasharray",B)}function K(){r.style("stroke-dasharray","0px,100px")}function q(Q,re,oe,Y){Q.path&&(Q.noRotate&&(oe=0),p.select(l.parentNode).append("path").attr({class:r.attr("class"),d:Q.path,transform:g(re.x,re.y)+v(oe*180/Math.PI)+A(Y)}).style({fill:L.rgb(o.arrowcolor),"stroke-width":0}))}T&&q(n,S,C,h),f&&q(c,M,y,x)}},32745:function(W,U,e){var p=e(92605),L=e(44317);W.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(94128)}},26997:function(W,U,e){var p=e(50215),L=e(30962).overrideAll,a=e(44467).templatedArray;W.exports=L(a("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(W,U,e){var p=e(71828),L=e(89298);W.exports=function(A){for(var v=A.fullSceneLayout,g=v.annotations,t=0;t<g.length;t++)a(g[t],A);A.fullLayout._infolayer.selectAll(".annotation-"+A.id).remove()};function a(P,A){var v=A.fullSceneLayout,g=v.domain,t=A.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},p.extendFlat(P._xa,r),L.setConvert(P._xa),P._xa._offset=t.l+g.x[0]*t.w,P._xa.l2p=function(){return .5*(1+P._pdata[0]/P._pdata[3])*t.w*(g.x[1]-g.x[0])},P._ya={},p.extendFlat(P._ya,r),L.setConvert(P._ya),P._ya._offset=t.t+(1-g.y[1])*t.h,P._ya.l2p=function(){return .5*(1-P._pdata[1]/P._pdata[3])*t.h*(g.y[1]-g.y[0])}}},20226:function(W,U,e){var p=e(71828),L=e(89298),a=e(85501),P=e(25625),A=e(26997);W.exports=function(t,r,u){a(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:u.fullLayout})};function v(g,t,r,u){function o(n,x){return p.coerce(g,t,A,n,x)}function l(n){var x=n+"axis",h={_fullLayout:{}};return h._fullLayout[x]=r[x],L.coercePosition(t,h,o,n,n,.5)}var c=o("visible");c&&(P(g,t,u.fullLayout,o),l("x"),l("y"),l("z"),p.noneOrAll(g,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",o("ax",-10),o("ay",-30),p.noneOrAll(g,t,["ax","ay"])))}},82188:function(W,U,e){var p=e(92605).drawRaw,L=e(63538),a=["x","y","z"];W.exports=function(A){for(var v=A.fullSceneLayout,g=A.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var u=t[r],o=!1,l=0;l<3;l++){var c=a[l],n=u[c],x=v[c+"axis"],h=x.r2fraction(n);if(h<0||h>1){o=!0;break}}o?A.fullLayout._infolayer.select(".annotation-"+A.id+'[data-index="'+r+'"]').remove():(u._pdata=L(A.glplot.cameraParams,[v.xaxis.r2l(u.x)*g[0],v.yaxis.r2l(u.y)*g[1],v.zaxis.r2l(u.z)*g[2]]),p(A.graphDiv,u,r,A.id,u._xa,u._ya))}}},2468:function(W,U,e){var p=e(73972),L=e(71828);W.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(P,A){var v=p.subplotsRegistry.gl3d;if(v)for(var g=v.attrRegex,t=Object.keys(P),r=0;r<t.length;r++){var u=t[r];g.test(u)&&(P[u].annotations||[]).length&&(L.pushUnique(A._basePlotModules,v),L.pushUnique(A._subplots.gl3d,u))}}},7561:function(W,U,e){W.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(W,U,e){var p=e(7561),L=e(71828),a=e(50606),P=a.EPOCHJD,A=a.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(C,y,w,b){var i={};return i[w]=v,L.coerce(C,y,i,w,b)},t=function(C,y,w,b){for(var i=0;i<w.length;i++)g(C,y,w[i]+"calendar",b.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},o={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function n(C,y,w){for(var b=Math.floor((y+.05)/A)+P,i=h(w).fromJD(b),E=0,m,F,_,B,I;(E=C.indexOf("%",E))!==-1;)m=C.charAt(E+1),m==="0"||m==="-"||m==="_"?(_=3,F=C.charAt(E+2),m==="_"&&(m="-")):(F=m,m="0",_=2),B=c[F],B?(B===l?I=l:I=i.formatDate(B[m]),C=C.substr(0,E)+I+C.substr(E+_),E+=I.length):E+=_;return C}var x={};function h(C){var y=x[C];return y||(y=x[C]=p.instance(C),y)}function T(C){return L.extendFlat({},v,{description:C})}function f(C){return"Sets the calendar system to use with `"+C+"` date data."}var s={xcalendar:T(f("x"))},d=L.extendFlat({},s,{ycalendar:T(f("y"))}),S=L.extendFlat({},d,{zcalendar:T(f("z"))}),M=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));W.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:S,surface:S,mesh3d:S,scattergl:d,ohlc:s,candlestick:s},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:M},yaxis:{calendar:M},scene:{xaxis:{calendar:M},yaxis:{calendar:M},zaxis:{calendar:M}},polar:{radialaxis:{calendar:M}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:g,handleTraceDefaults:t,CANONICAL_SUNDAY:u,CANONICAL_TICK:r,DFLTRANGE:o,getCal:h,worldCalFmt:n}},22399:function(W,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},7901:function(W,U,e){var p=e(84267),L=e(92770),a=e(73627).isTypedArray,P=W.exports={},A=e(22399);P.defaults=A.defaults;var v=P.defaultLine=A.defaultLine;P.lightLine=A.lightLine;var g=P.background=A.background;P.tinyRGB=function(r){var u=r.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},P.rgb=function(r){return P.tinyRGB(p(r))},P.opacity=function(r){return r?p(r).getAlpha():0},P.addOpacity=function(r,u){var o=p(r).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+u+")"},P.combine=function(r,u){var o=p(r).toRgb();if(o.a===1)return p(r).toRgbString();var l=p(u||g).toRgb(),c=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},n={r:c.r*(1-o.a)+o.r*o.a,g:c.g*(1-o.a)+o.g*o.a,b:c.b*(1-o.a)+o.b*o.a};return p(n).toRgbString()},P.contrast=function(r,u,o){var l=p(r);l.getAlpha()!==1&&(l=p(P.combine(r,g)));var c=l.isDark()?u?l.lighten(u):g:o?l.darken(o):v;return c.toString()},P.stroke=function(r,u){var o=p(u);r.style({stroke:P.tinyRGB(o),"stroke-opacity":o.getAlpha()})},P.fill=function(r,u){var o=p(u);r.style({fill:P.tinyRGB(o),"fill-opacity":o.getAlpha()})},P.clean=function(r){if(!(!r||typeof r!="object")){var u=Object.keys(r),o,l,c,n;for(o=0;o<u.length;o++)if(c=u[o],n=r[c],c.substr(c.length-5)==="color")if(Array.isArray(n))for(l=0;l<n.length;l++)n[l]=t(n[l]);else r[c]=t(n);else if(c.substr(c.length-10)==="colorscale"&&Array.isArray(n))for(l=0;l<n.length;l++)Array.isArray(n[l])&&(n[l][1]=t(n[l][1]));else if(Array.isArray(n)){var x=n[0];if(!Array.isArray(x)&&x&&typeof x=="object")for(l=0;l<n.length;l++)P.clean(n[l])}else n&&typeof n=="object"&&!a(n)&&P.clean(n)}};function t(r){if(L(r)||typeof r!="string")return r;var u=r.trim();if(u.substr(0,3)!=="rgb")return r;var o=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return r;var l=o[1].trim().split(/\s*[\s,]\s*/),c=u.charAt(3)==="a"&&l.length===4;if(!c&&l.length!==3)return r;for(var n=0;n<l.length;n++){if(!l[n].length||(l[n]=Number(l[n]),!(l[n]>=0)))return r;if(n===3)l[n]>1&&(l[n]=1);else if(l[n]>=1)return r}var x=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return c?"rgba("+x+", "+l[3]+")":"rgb("+x+")"}},63583:function(W,U,e){var p=e(13838),L=e(41940),a=e(1426).extendFlat,P=e(30962).overrideAll;W.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:a({},p.ticks,{dflt:""}),ticklabeloverflow:a({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(W){W.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(W,U,e){var p=e(71828),L=e(44467),a=e(26218),P=e(38701),A=e(96115),v=e(89426),g=e(63583);W.exports=function(r,u,o){var l=L.newContainer(u,"colorbar"),c=r.colorbar||{};function n(i,E){return p.coerce(c,l,g,i,E)}var x=o.margin||{t:0,b:0,l:0,r:0},h=o.width-x.l-x.r,T=o.height-x.t-x.b,f=n("orientation"),s=f==="v",d=n("thicknessmode");n("thickness",d==="fraction"?30/(s?h:T):30);var S=n("lenmode");n("len",S==="fraction"?1:s?T:h),n("x",s?1.02:.5),n("xanchor",s?"left":"center"),n("xpad"),n("y",s?.5:1.02),n("yanchor",s?"middle":"bottom"),n("ypad"),p.noneOrAll(c,l,["x","y"]),n("outlinecolor"),n("outlinewidth"),n("bordercolor"),n("borderwidth"),n("bgcolor");var M=p.coerce(c,l,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:s?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");n("ticklabeloverflow",M.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(c,l,n,"linear");var C=o.font,y={outerTicks:!1,font:C};M.indexOf("inside")!==-1&&(y.bgColor="black"),v(c,l,n,"linear",y),A(c,l,n,"linear",y),P(c,l,n,"linear",y),n("title.text",o._dfltTitle.colorbar);var w=l.tickfont,b=p.extendFlat({},w,{color:C.color,size:p.bigFont(w.size)});p.coerceFont(n,"title.font",b),n("title.side",s?"top":"right")}},98981:function(W,U,e){var p=e(39898),L=e(84267),a=e(74875),P=e(73972),A=e(89298),v=e(28569),g=e(71828),t=g.strTranslate,r=e(1426).extendFlat,u=e(6964),o=e(91424),l=e(7901),c=e(92998),n=e(63893),x=e(52075).flipScale,h=e(71453),T=e(52830),f=e(13838),s=e(18783),d=s.LINE_SPACING,S=s.FROM_TL,M=s.FROM_BR,C=e(30939).cn;function y(F){var _=F._fullLayout,B=_._infolayer.selectAll("g."+C.colorbar).data(w(F),function(I){return I._id});B.enter().append("g").attr("class",function(I){return I._id}).classed(C.colorbar,!0),B.each(function(I){var O=p.select(this);g.ensureSingle(O,"rect",C.cbbg),g.ensureSingle(O,"g",C.cbfills),g.ensureSingle(O,"g",C.cblines),g.ensureSingle(O,"g",C.cbaxis,function(k){k.classed(C.crisp,!0)}),g.ensureSingle(O,"g",C.cbtitleunshift,function(k){k.append("g").classed(C.cbtitle,!0)}),g.ensureSingle(O,"rect",C.cboutline);var z=b(O,I,F);z&&z.then&&(F._promises||[]).push(z),F._context.edits.colorbarPosition&&i(O,I,F)}),B.exit().each(function(I){a.autoMargin(F,I._id)}).remove(),B.order()}function w(F){var _=F._fullLayout,B=F.calcdata,I=[],O,z,k,N;function K(J){return r(J,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof N.calc=="function"?N.calc(F,k,O):(O._fillgradient=z.reversescale?x(z.colorscale):z.colorscale,O._zrange=[z[N.min],z[N.max]])}for(var Q=0;Q<B.length;Q++){var re=B[Q];k=re[0].trace;var oe=k._module.colorbar;if(k.visible===!0&&oe)for(var Y=Array.isArray(oe),G=Y?oe:[oe],V=0;V<G.length;V++){N=G[V];var Z=N.container;z=Z?k[Z]:k,z&&z.showscale&&(O=K(z.colorbar),O._id="cb"+k.uid+(Y&&Z?"-"+Z:""),O._traceIndex=k.index,O._propPrefix=(Z?Z+".":"")+"colorbar.",O._meta=k._meta,q(),I.push(O))}}for(var ae in _._colorAxes)if(z=_[ae],z.showscale){var ie=_._colorAxes[ae];O=K(z.colorbar),O._id="cb"+ae,O._propPrefix=ae+".colorbar.",O._meta=_._meta,N={min:"cmin",max:"cmax"},ie[0]!=="heatmap"&&(k=ie[1],N.calc=k._module.colorbar.calc),q(),I.push(O)}return I}function b(F,_,B){var I=_.orientation==="v",O=_.len,z=_.lenmode,k=_.thickness,N=_.thicknessmode,K=_.outlinewidth,q=_.borderwidth,Q=_.bgcolor,re=_.xanchor,oe=_.yanchor,Y=_.xpad,G=_.ypad,V=_.x,Z=I?_.y:1-_.y,ae=B._fullLayout,ie=ae._size,J=_._fillcolor,$=_._line,se=_.title,ee=se.side,ue=_._zrange||p.extent((typeof J=="function"?J:$.color).domain()),ge=typeof $.color=="function"?$.color:function(){return $.color},Te=typeof J=="function"?J:function(){return J},xe=_._levels,Pe=E(B,_,ue),Ie=Pe.fill,Ae=Pe.line,be=Math.round(k*(N==="fraction"?I?ie.w:ie.h:1)),_e=be/(I?ie.w:ie.h),Ve=Math.round(O*(z==="fraction"?I?ie.h:ie.w:1)),We=Ve/(I?ie.h:ie.w),ze=Math.round(I?V*ie.w+Y:Z*ie.h+G),Ze={center:.5,right:1}[re]||0,ct={top:1,middle:.5}[oe]||0,lt=I?V-Ze*_e:Z-ct*_e,at=I?Z-ct*We:V-Ze*We,tt=Math.round(I?ie.h*(1-at):ie.w*at);_._lenFrac=We,_._thickFrac=_e,_._uFrac=lt,_._vFrac=at;var dt=_._axis=m(B,_,ue);dt.position=_e+(I?V+Y/ie.w:Z+G/ie.h);var wt=["top","bottom"].indexOf(ee)!==-1;if(I&&wt&&(dt.title.side=ee,dt.titlex=V+Y/ie.w,dt.titley=at+(se.side==="top"?We-G/ie.h:G/ie.h)),!I&&!wt&&(dt.title.side=ee,dt.titley=Z+G/ie.h,dt.titlex=at+Y/ie.w),$.color&&_.tickmode==="auto"){dt.tickmode="linear",dt.tick0=xe.start;var Mt=xe.size,It=g.constrain(Ve/50,4,15)+1,$e=(ue[1]-ue[0])/((_.nticks||It)*Mt);if($e>1){var ke=Math.pow(10,Math.floor(Math.log($e)/Math.LN10));Mt*=ke*g.roundUp($e/ke,[2,5,10]),(Math.abs(xe.start)/xe.size+1e-6)%1<2e-6&&(dt.tick0=0)}dt.dtick=Mt}dt.domain=I?[at+G/ie.h,at+We-G/ie.h]:[at+Y/ie.w,at+We-Y/ie.w],dt.setScale(),F.attr("transform",t(Math.round(ie.l),Math.round(ie.t)));var Fe=F.select("."+C.cbtitleunshift).attr("transform",t(-Math.round(ie.l),-Math.round(ie.t))),qe=dt.ticklabelposition,it=dt.title.font.size,Je=F.select("."+C.cbaxis),Re,Me=0,fe=0;function ye(Lt,Ot){var Jt={propContainer:dt,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:ae._dfltTitle.colorbar,containerGroup:F.select("."+C.cbtitle)},qt=Lt.charAt(0)==="h"?Lt.substr(1):"h"+Lt;F.selectAll("."+qt+",."+qt+"-math-group").remove(),c.draw(B,Lt,r(Jt,Ot||{}))}function Le(){if(I&&wt||!I&&!wt){var Lt,Ot;ee==="top"&&(Lt=Y+ie.l+ie.w*V,Ot=G+ie.t+ie.h*(1-at-We)+3+it*.75),ee==="bottom"&&(Lt=Y+ie.l+ie.w*V,Ot=G+ie.t+ie.h*(1-at)-3-it*.25),ee==="right"&&(Ot=G+ie.t+ie.h*Z+3+it*.75,Lt=Y+ie.l+ie.w*at),ye(dt._id+"title",{attributes:{x:Lt,y:Ot,"text-anchor":I?"start":"middle"}})}}function Oe(){if(I&&!wt||!I&&wt){var Lt=dt.position||0,Ot=dt._offset+dt._length/2,Jt,qt;if(ee==="right")qt=Ot,Jt=ie.l+ie.w*Lt+10+it*(dt.showticklabels?1:.5);else if(Jt=Ot,ee==="bottom"&&(qt=ie.t+ie.h*Lt+10+(qe.indexOf("inside")===-1?dt.tickfont.size:0)+(dt.ticks!=="intside"&&_.ticklen||0)),ee==="top"){var Vt=se.text.split("<br>").length;qt=ie.t+ie.h*Lt+10-be-d*it*Vt}ye((I?"h":"v")+dt._id+"title",{avoid:{selection:p.select(B).selectAll("g."+dt._id+"tick"),side:ee,offsetTop:I?0:ie.t,offsetLeft:I?ie.l:0,maxShift:I?ae.width:ae.height},attributes:{x:Jt,y:qt,"text-anchor":"middle"},transform:{rotate:I?-90:0,offset:0}})}}function ht(){if(!I&&!wt||I&&wt){var Lt=F.select("."+C.cbtitle),Ot=Lt.select("text"),Jt=[-K/2,K/2],qt=Lt.select(".h"+dt._id+"title-math-group").node(),Vt=15.6;Ot.node()&&(Vt=parseInt(Ot.node().style.fontSize,10)*d);var vr;if(qt?(vr=o.bBox(qt),fe=vr.width,Me=vr.height,Me>Vt&&(Jt[1]-=(Me-Vt)/2)):Ot.node()&&!Ot.classed(C.jsPlaceholder)&&(vr=o.bBox(Ot.node()),fe=vr.width,Me=vr.height),I){if(Me){if(Me+=5,ee==="top")dt.domain[1]-=Me/ie.h,Jt[1]*=-1;else{dt.domain[0]+=Me/ie.h;var gr=n.lineCount(Ot);Jt[1]+=(1-gr)*Vt}Lt.attr("transform",t(Jt[0],Jt[1])),dt.setScale()}}else fe&&(ee==="right"&&(dt.domain[0]+=(fe+it/2)/ie.w),Lt.attr("transform",t(Jt[0],Jt[1])),dt.setScale())}F.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",I?t(0,Math.round(ie.h*(1-dt.domain[1]))):t(Math.round(ie.w*dt.domain[0]),0)),Je.attr("transform",I?t(0,Math.round(-ie.t)):t(Math.round(-ie.l),0));var Gr=F.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(Ie);Gr.enter().append("rect").classed(C.cbfill,!0).style("stroke","none"),Gr.exit().remove();var At=ue.map(dt.c2p).map(Math.round).sort(function(pt,st){return pt-st});Gr.each(function(pt,st){var yt=[st===0?ue[0]:(Ie[st]+Ie[st-1])/2,st===Ie.length-1?ue[1]:(Ie[st]+Ie[st+1])/2].map(dt.c2p).map(Math.round);I&&(yt[1]=g.constrain(yt[1]+(yt[1]>yt[0])?1:-1,At[0],At[1]));var Pt=p.select(this).attr(I?"x":"y",ze).attr(I?"y":"x",p.min(yt)).attr(I?"width":"height",Math.max(be,2)).attr(I?"height":"width",Math.max(p.max(yt)-p.min(yt),2));if(_._fillgradient)o.gradient(Pt,B,_._id,I?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Dt=Te(pt).replace("e-","");Pt.attr("fill",L(Dt).toHexString())}});var or=F.select("."+C.cblines).selectAll("path."+C.cbline).data($.color&&$.width?Ae:[]);or.enter().append("path").classed(C.cbline,!0),or.exit().remove(),or.each(function(pt){var st=ze,yt=Math.round(dt.c2p(pt))+$.width/2%1;p.select(this).attr("d","M"+(I?st+","+yt:yt+","+st)+(I?"h":"v")+be).call(o.lineGroupStyle,$.width,ge(pt),$.dash)}),Je.selectAll("g."+dt._id+"tick,path").remove();var rr=ze+be+(K||0)/2-(_.ticks==="outside"?1:0),Lr=A.calcTicks(dt),Tr=A.getTickSigns(dt)[2];return A.drawTicks(B,dt,{vals:dt.ticks==="inside"?A.clipEnds(dt,Lr):Lr,layer:Je,path:A.makeTickPath(dt,rr,Tr),transFn:A.makeTransTickFn(dt)}),A.drawLabels(B,dt,{vals:Lr,layer:Je,transFn:A.makeTransTickLabelFn(dt),labelFns:A.makeLabelFns(dt,rr)})}function vt(){var Lt,Ot=be+K/2;qe.indexOf("inside")===-1&&(Lt=o.bBox(Je.node()),Ot+=I?Lt.width:Lt.height),Re=Fe.select("text");var Jt=0,qt=I&&ee==="top",Vt=!I&&ee==="right",vr=0;if(Re.node()&&!Re.classed(C.jsPlaceholder)){var gr,Gr=Fe.select(".h"+dt._id+"title-math-group").node();Gr&&(I&&wt||!I&&!wt)?(Lt=o.bBox(Gr),Jt=Lt.width,gr=Lt.height):(Lt=o.bBox(Fe.node()),Jt=Lt.right-ie.l-(I?ze:tt),gr=Lt.bottom-ie.t-(I?tt:ze),!I&&ee==="top"&&(Ot+=Lt.height,vr=Lt.height)),Vt&&(Re.attr("transform",t(Jt/2+it/2,0)),Jt*=2),Ot=Math.max(Ot,I?Jt:gr)}var At=(I?Y:G)*2+Ot+q+K/2,or=0;!I&&se.text&&oe==="bottom"&&Z<=0&&(or=At/2,At+=or,vr+=or),ae._hColorbarMoveTitle=or,ae._hColorbarMoveCBTitle=vr;var rr=q+K;F.select("."+C.cbbg).attr("x",(I?ze:tt)-rr/2-(I?Y:0)).attr("y",(I?tt:ze)-(I?Ve:G+vr-or)).attr(I?"width":"height",Math.max(At-or,2)).attr(I?"height":"width",Math.max(Ve+rr,2)).call(l.fill,Q).call(l.stroke,_.bordercolor).style("stroke-width",q);var Lr=Vt?Math.max(Jt-10,0):0;if(F.selectAll("."+C.cboutline).attr("x",(I?ze:tt+Y)+Lr).attr("y",(I?tt+G-Ve:ze)+(qt?Me:0)).attr(I?"width":"height",Math.max(be,2)).attr(I?"height":"width",Math.max(Ve-(I?2*G+Me:2*Y+Lr),2)).call(l.stroke,_.outlinecolor).style({fill:"none","stroke-width":K}),F.attr("transform",t(ie.l-(I?Ze*At:0),ie.t-(I?0:(1-ct)*At-vr))),!I&&(q||L(Q).getAlpha()&&!L.equals(ae.paper_bgcolor,Q))){var Tr=Je.selectAll("text"),pt=Tr[0].length,st=F.select("."+C.cbbg).node(),yt=o.bBox(st),Pt=o.getTranslate(F),Dt=2;Tr.each(function(Ge,Ct){var Ut=0,Kt=pt-1;if(Ct===Ut||Ct===Kt){var Xt=o.bBox(this),ur=o.getTranslate(this),Ar;if(Ct===Kt){var Rr=Xt.right+ur.x,wr=yt.right+Pt.x+tt-q-Dt+V;Ar=wr-Rr,Ar>0&&(Ar=0)}else if(Ct===Ut){var er=Xt.left+ur.x,_r=yt.left+Pt.x+tt+q+Dt;Ar=_r-er,Ar<0&&(Ar=0)}Ar&&(pt<3?this.setAttribute("transform","translate("+Ar+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Nt={},Zt=S[re],$t=M[re],lr=S[oe],ir=M[oe],He=At-be;I?(z==="pixels"?(Nt.y=Z,Nt.t=Ve*lr,Nt.b=Ve*ir):(Nt.t=Nt.b=0,Nt.yt=Z+O*lr,Nt.yb=Z-O*ir),N==="pixels"?(Nt.x=V,Nt.l=At*Zt,Nt.r=At*$t):(Nt.l=He*Zt,Nt.r=He*$t,Nt.xl=V-k*Zt,Nt.xr=V+k*$t)):(z==="pixels"?(Nt.x=V,Nt.l=Ve*Zt,Nt.r=Ve*$t):(Nt.l=Nt.r=0,Nt.xl=V+O*Zt,Nt.xr=V-O*$t),N==="pixels"?(Nt.y=1-Z,Nt.t=At*lr,Nt.b=At*ir):(Nt.t=He*lr,Nt.b=He*ir,Nt.yt=Z-k*lr,Nt.yb=Z+k*ir)),a.autoMargin(B,_._id,Nt)}return g.syncOrAsync([a.previousPromises,Le,ht,Oe,a.previousPromises,vt],B)}function i(F,_,B){var I=_.orientation==="v",O=B._fullLayout,z=O._size,k,N,K;v.init({element:F.node(),gd:B,prepFn:function(){k=F.attr("transform"),u(F)},moveFn:function(q,Q){F.attr("transform",k+t(q,Q)),N=v.align((I?_._uFrac:_._vFrac)+q/z.w,I?_._thickFrac:_._lenFrac,0,1,_.xanchor),K=v.align((I?_._vFrac:1-_._uFrac)-Q/z.h,I?_._lenFrac:_._thickFrac,0,1,_.yanchor);var re=v.getCursor(N,K,_.xanchor,_.yanchor);u(F,re)},doneFn:function(){if(u(F),N!==void 0&&K!==void 0){var q={};q[_._propPrefix+"x"]=N,q[_._propPrefix+"y"]=K,_._traceIndex!==void 0?P.call("_guiRestyle",B,q,_._traceIndex):P.call("_guiRelayout",B,q)}}})}function E(F,_,B){var I=_._levels,O=[],z=[],k,N,K=I.end+I.size/100,q=I.size,Q=1.001*B[0]-.001*B[1],re=1.001*B[1]-.001*B[0];for(N=0;N<1e5&&(k=I.start+N*q,!(q>0?k>=K:k<=K));N++)k>Q&&k<re&&O.push(k);if(_._fillgradient)z=[0];else if(typeof _._fillcolor=="function"){var oe=_._filllevels;if(oe)for(K=oe.end+oe.size/100,q=oe.size,N=0;N<1e5&&(k=oe.start+N*q,!(q>0?k>=K:k<=K));N++)k>B[0]&&k<B[1]&&z.push(k);else z=O.map(function(Y){return Y-I.size/2}),z.push(z[z.length-1]+I.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(z=[0]);return I.size<0&&(O.reverse(),z.reverse()),{line:O,fill:z}}function m(F,_,B){var I=F._fullLayout,O=_.orientation==="v",z={type:"linear",range:B,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},k=O?"y":"x",N={type:"linear",_id:k+_._id},K={letter:k,font:I.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:I.calendar};function q(Q,re){return g.coerce(z,N,f,Q,re)}return h(z,N,q,K,I),T(z,N,q,K),N}W.exports={draw:y}},76228:function(W,U,e){var p=e(71828);W.exports=function(a){return p.isPlainObject(a.colorbar)}},12311:function(W,U,e){W.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(W,U,e){var p=e(63583),L=e(30587).counter,a=e(78607),P=e(63282).scales;a(P),W.exports=function(v,g){v=v||"",g=g||{};var t=g.cLetter||"c";"onlyIfNumerical"in g?g.onlyIfNumerical:Boolean(v);var r="noScale"in g?g.noScale:v==="marker.line",u="showScaleDflt"in g?g.showScaleDflt:t==="z",o=typeof g.colorscaleDflt=="string"?P[g.colorscaleDflt]:null,l=g.editTypeOverride||"",c;"colorAttr"in g?(c=g.colorAttr,g.colorAttr):c={z:"z",c:"color"}[t];var n=t+"auto",x=t+"min",h=t+"max",T=t+"mid",f={};f[x]=f[h]=void 0;var s={};s[n]=!1;var d={};return c==="color"&&(d.color={valType:"color",arrayOk:!0,editType:l||"style"},g.anim&&(d.color.anim=!0)),d[n]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},d[x]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:s},d[h]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:s},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},d.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:u,editType:"calc"},d.colorbar=p),g.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(W,U,e){var p=e(92770),L=e(71828),a=e(52075).extractOpts;W.exports=function(A,v,g){var t=A._fullLayout,r=g.vals,u=g.containerStr,o=u?L.nestedProperty(v,u).get():v,l=a(o),c=l.auto!==!1,n=l.min,x=l.max,h=l.mid,T=function(){return L.aggNums(Math.min,null,r)},f=function(){return L.aggNums(Math.max,null,r)};if(n===void 0?n=T():c&&(o._colorAx&&p(n)?n=Math.min(n,T()):n=T()),x===void 0?x=f():c&&(o._colorAx&&p(x)?x=Math.max(x,f()):x=f()),c&&h!==void 0&&(x-h>h-n?n=h-(x-h):x-h<h-n&&(x=h+(h-n))),n===x&&(n-=.5,x+=.5),l._sync("min",n),l._sync("max",x),l.autocolorscale){var s;n*x<0?s=t.colorscale.diverging:n>=0?s=t.colorscale.sequential:s=t.colorscale.sequentialminus,l._sync("colorscale",s)}}},33046:function(W,U,e){var p=e(71828),L=e(52075).hasColorscale,a=e(52075).extractOpts;W.exports=function(A,v){function g(n,x){var h=n["_"+x];h!==void 0&&(n[x]=h)}function t(n,x){var h=x.container?p.nestedProperty(n,x.container).get():n;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=a(h),f=T.auto;(f||T.min===void 0)&&g(h,x.min),(f||T.max===void 0)&&g(h,x.max),T.autocolorscale&&g(h,"colorscale")}}for(var r=0;r<A.length;r++){var u=A[r],o=u._module.colorbar;if(o)if(Array.isArray(o))for(var l=0;l<o.length;l++)t(u,o[l]);else t(u,o);L(u,"marker.line")&&t(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in v._colorAxes)t(v[c],{min:"cmin",max:"cmax"})}},1586:function(W,U,e){var p=e(92770),L=e(71828),a=e(76228),P=e(62499),A=e(63282).isValid,v=e(73972).traceIs;function g(t,r){var u=r.slice(0,r.length-1);return r?L.nestedProperty(t,u).get()||{}:t}W.exports=function t(r,u,o,l,c){var n=c.prefix,x=c.cLetter,h="_module"in u,T=g(r,n),f=g(u,n),s=g(u._template||{},n)||{},d=function(){return delete r.coloraxis,delete u.coloraxis,t(r,u,o,l,c)};if(h){var S=o._colorAxes||{},M=l(n+"coloraxis");if(M){var C=v(u,"contour")&&L.nestedProperty(u,"contours.coloring").get()||"heatmap",y=S[M];y?(y[2].push(d),y[0]!==C&&(y[0]=!1,L.warn(["Ignoring coloraxis:",M,"setting","as it is linked to incompatible colorscales."].join(" ")))):S[M]=[C,u,[d]];return}}var w=T[x+"min"],b=T[x+"max"],i=p(w)&&p(b)&&w<b,E=l(n+x+"auto",!i);E?l(n+x+"mid"):(l(n+x+"min"),l(n+x+"max"));var m=T.colorscale,F=s.colorscale,_;if(m!==void 0&&(_=!A(m)),F!==void 0&&(_=!A(F)),l(n+"autocolorscale",_),l(n+"colorscale"),l(n+"reversescale"),n!=="marker.line."){var B;n&&h&&(B=a(T));var I=l(n+"showscale",B);I&&(n&&s&&(f._template=s),P(T,f,o))}}},52075:function(W,U,e){var p=e(39898),L=e(84267),a=e(92770),P=e(71828),A=e(7901),v=e(63282).isValid;function g(h,T,f){var s=T?P.nestedProperty(h,T).get()||{}:h,d=s[f||"color"],S=!1;if(P.isArrayOrTypedArray(d)){for(var M=0;M<d.length;M++)if(a(d[M])){S=!0;break}}return P.isPlainObject(s)&&(S||s.showscale===!0||a(s.cmin)&&a(s.cmax)||v(s.colorscale)||P.isPlainObject(s.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function u(h){var T=h._colorAx,f=T||h,s={},d,S,M;for(S=0;S<t.length;S++)M=t[S],s[M]=f[M];if(T)for(d="c",S=0;S<r.length;S++)M=r[S],s[M]=f["c"+M];else{var C;for(S=0;S<r.length;S++){if(M=r[S],C="c"+M,C in f){s[M]=f[C];continue}C="z"+M,C in f&&(s[M]=f[C])}d=C.charAt(0)}return s._sync=function(y,w){var b=r.indexOf(y)!==-1?d+y:y;f[b]=f["_"+b]=w},s}function o(h){for(var T=u(h),f=T.min,s=T.max,d=T.reversescale?l(T.colorscale):T.colorscale,S=d.length,M=new Array(S),C=new Array(S),y=0;y<S;y++){var w=d[y];M[y]=f+w[0]*(s-f),C[y]=w[1]}return{domain:M,range:C}}function l(h){for(var T=h.length,f=new Array(T),s=T-1,d=0;s>=0;s--,d++){var S=h[s];f[d]=[1-S[0],S[1]]}return f}function c(h,T){T=T||{};for(var f=h.domain,s=h.range,d=s.length,S=new Array(d),M=0;M<d;M++){var C=L(s[M]).toRgb();S[M]=[C.r,C.g,C.b,C.a]}var y=p.scale.linear().domain(f).range(S).clamp(!0),w=T.noNumericCheck,b=T.returnArray,i;return w&&b?i=y:w?i=function(E){return x(y(E))}:b?i=function(E){return a(E)?y(E):L(E).isValid()?E:A.defaultLine}:i=function(E){return a(E)?x(y(E)):L(E).isValid()?E:A.defaultLine},i.domain=y.domain,i.range=function(){return s},i}function n(h,T){return c(o(h),T)}function x(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return L(T).toRgbString()}W.exports={hasColorscale:g,extractOpts:u,extractScale:o,flipScale:l,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:n}},21081:function(W,U,e){var p=e(63282),L=e(52075);W.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},72673:function(W,U,e){var p=e(1426).extendFlat,L=e(50693),a=e(63282).scales;W.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(W,U,e){var p=e(71828),L=e(44467),a=e(72673),P=e(1586);W.exports=function(v,g){function t(h,T){return p.coerce(v,g,a,h,T)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=g._colorAxes,u,o;function l(h,T){return p.coerce(u,o,a.coloraxis,h,T)}for(var c in r){var n=r[c];if(n[0])u=v[c]||{},o=L.newContainer(g,c,"coloraxis"),o._name=c,P(u,o,g,l,{prefix:"",cLetter:"c"});else{for(var x=0;x<n[2].length;x++)n[2][x]();delete g._colorAxes[c]}}}},63282:function(W,U,e){var p=e(84267),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=L.RdBu;function P(g,t){if(t||(t=a),!g)return t;function r(){try{g=L[g]||JSON.parse(g)}catch{g=t}}return typeof g=="string"&&(r(),typeof g=="string"&&r()),A(g)?g:t}function A(g){var t=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var r=0;r<g.length;r++){var u=g[r];if(u.length!==2||+u[0]<t||!p(u[1]).isValid())return!1;t=+u[0]}return!0}function v(g){return L[g]!==void 0?!0:A(g)}W.exports={scales:L,defaultScale:a,get:P,isValid:v}},92807:function(W){W.exports=function(e,p,L,a,P){var A=(e-L)/(a-L),v=A+p/(a-L),g=(A+v)/2;return P==="left"||P==="bottom"?A:P==="center"||P==="middle"?g:P==="right"||P==="top"?v:A<.6666666666666666-g?A:v>1.3333333333333333-g?v:g}},70461:function(W,U,e){var p=e(71828),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];W.exports=function(P,A,v,g){return v==="left"?P=0:v==="center"?P=1:v==="right"?P=2:P=p.constrain(Math.floor(P*3),0,2),g==="bottom"?A=0:g==="middle"?A=1:g==="top"?A=2:A=p.constrain(Math.floor(A*3),0,2),L[A][P]}},64505:function(W,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},28569:function(W,U,e){var p=e(48956),L=e(57035),a=e(38520),P=e(71828).removeElement,A=e(85555),v=W.exports={};v.align=e(92807),v.getCursor=e(70461);var g=e(26041);v.unhover=g.wrapped,v.unhoverRaw=g.raw,v.init=function(o){var l=o.gd,c=1,n=l._context.doubleClickDelay,x=o.element,h,T,f,s,d,S,M,C;l._mouseDownTime||(l._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=b,a?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=b,x.addEventListener("touchstart",b,{passive:!1})):x.ontouchstart=b;function y(m,F,_){return Math.abs(m)<_&&(m=0),Math.abs(F)<_&&(F=0),[m,F]}var w=o.clampFn||y;function b(m){l._dragged=!1,l._dragging=!0;var F=r(m);h=F[0],T=F[1],M=m.target,S=m,C=m.buttons===2||m.ctrlKey,typeof m.clientX>"u"&&typeof m.clientY>"u"&&(m.clientX=h,m.clientY=T),f=new Date().getTime(),f-l._mouseDownTime<n?c+=1:(c=1,l._mouseDownTime=f),o.prepFn&&o.prepFn(m,h,T),L&&!C?(d=t(),d.style.cursor=window.getComputedStyle(x).cursor):L||(d=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),o.dragmode!==!1&&(m.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(m){m.preventDefault();var F=r(m),_=o.minDrag||A.MINDRAG,B=w(F[0]-h,F[1]-T,_),I=B[0],O=B[1];(I||O)&&(l._dragged=!0,v.unhover(l,m)),l._dragged&&o.moveFn&&!C&&(l._dragdata={element:x,dx:I,dy:O},o.moveFn(I,O))}function E(m){if(delete l._dragdata,o.dragmode!==!1&&(m.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),L?P(d):s&&(d.documentElement.style.cursor=s,s=null),!l._dragging){l._dragged=!1;return}if(l._dragging=!1,new Date().getTime()-l._mouseDownTime>n&&(c=Math.max(c-1,1)),l._dragged)o.doneFn&&o.doneFn();else if(o.clickFn&&o.clickFn(c,S),!C){var F;try{F=new MouseEvent("click",m)}catch{var _=r(m);F=document.createEvent("MouseEvents"),F.initMouseEvent("click",m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,_[0],_[1],m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}M.dispatchEvent(F)}l._dragging=!1,l._dragged=!1}};function t(){var u=document.createElement("div");u.className="dragcover";var o=u.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(u),u}v.coverSlip=t;function r(u){return p(u.changedTouches?u.changedTouches[0]:u,document.body)}},26041:function(W,U,e){var p=e(11086),L=e(79990),a=e(24401).getGraphDiv,P=e(26675),A=W.exports={};A.wrapped=function(v,g,t){v=a(v),v._fullLayout&&L.clear(v._fullLayout._uid+P.HOVERID),A.raw(v,g,t)},A.raw=function(g,t){var r=g._fullLayout,u=g._hoverdata;t||(t={}),!(t.target&&!g._dragged&&p.triggerHandler(g,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,t.target&&u&&g.emit("plotly_unhover",{event:t,points:u}))}},79952:function(W,U){U.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(W,U,e){var p=e(39898),L=e(71828),a=L.numberFormat,P=e(92770),A=e(84267),v=e(73972),g=e(7901),t=e(21081),r=L.strTranslate,u=e(63893),o=e(77922),l=e(18783),c=l.LINE_SPACING,n=e(37822).DESELECTDIM,x=e(34098),h=e(39984),T=e(23469).appendArrayPointValue,f=W.exports={};f.font=function(Ae,be,_e,Ve){L.isPlainObject(be)&&(Ve=be.color,_e=be.size,be=be.family),be&&Ae.style("font-family",be),_e+1&&Ae.style("font-size",_e+"px"),Ve&&Ae.call(g.fill,Ve)},f.setPosition=function(Ae,be,_e){Ae.attr("x",be).attr("y",_e)},f.setSize=function(Ae,be,_e){Ae.attr("width",be).attr("height",_e)},f.setRect=function(Ae,be,_e,Ve,We){Ae.call(f.setPosition,be,_e).call(f.setSize,Ve,We)},f.translatePoint=function(Ae,be,_e,Ve){var We=_e.c2p(Ae.x),ze=Ve.c2p(Ae.y);if(P(We)&&P(ze)&&be.node())be.node().nodeName==="text"?be.attr("x",We).attr("y",ze):be.attr("transform",r(We,ze));else return!1;return!0},f.translatePoints=function(Ae,be,_e){Ae.each(function(Ve){var We=p.select(this);f.translatePoint(Ve,We,be,_e)})},f.hideOutsideRangePoint=function(Ae,be,_e,Ve,We,ze){be.attr("display",_e.isPtWithinRange(Ae,We)&&Ve.isPtWithinRange(Ae,ze)?null:"none")},f.hideOutsideRangePoints=function(Ae,be){if(be._hasClipOnAxisFalse){var _e=be.xaxis,Ve=be.yaxis;Ae.each(function(We){var ze=We[0].trace,Ze=ze.xcalendar,ct=ze.ycalendar,lt=v.traceIs(ze,"bar-like")?".bartext":".point,.textpoint";Ae.selectAll(lt).each(function(at){f.hideOutsideRangePoint(at,p.select(this),_e,Ve,Ze,ct)})})}},f.crispRound=function(Ae,be,_e){return!be||!P(be)?_e||0:Ae._context.staticPlot?be:be<1?1:Math.round(be)},f.singleLineStyle=function(Ae,be,_e,Ve,We){be.style("fill","none");var ze=(((Ae||[])[0]||{}).trace||{}).line||{},Ze=_e||ze.width||0,ct=We||ze.dash||"";g.stroke(be,Ve||ze.color),f.dashLine(be,ct,Ze)},f.lineGroupStyle=function(Ae,be,_e,Ve){Ae.style("fill","none").each(function(We){var ze=(((We||[])[0]||{}).trace||{}).line||{},Ze=be||ze.width||0,ct=Ve||ze.dash||"";p.select(this).call(g.stroke,_e||ze.color).call(f.dashLine,ct,Ze)})},f.dashLine=function(Ae,be,_e){_e=+_e||0,be=f.dashStyle(be,_e),Ae.style({"stroke-dasharray":be,"stroke-width":_e+"px"})},f.dashStyle=function(Ae,be){be=+be||1;var _e=Math.max(be,3);return Ae==="solid"?Ae="":Ae==="dot"?Ae=_e+"px,"+_e+"px":Ae==="dash"?Ae=3*_e+"px,"+3*_e+"px":Ae==="longdash"?Ae=5*_e+"px,"+5*_e+"px":Ae==="dashdot"?Ae=3*_e+"px,"+_e+"px,"+_e+"px,"+_e+"px":Ae==="longdashdot"&&(Ae=5*_e+"px,"+2*_e+"px,"+_e+"px,"+2*_e+"px"),Ae};function s(Ae,be,_e){var Ve=be.fillpattern,We=Ve&&f.getPatternAttr(Ve.shape,0,"");if(We){var ze=f.getPatternAttr(Ve.bgcolor,0,null),Ze=f.getPatternAttr(Ve.fgcolor,0,null),ct=Ve.fgopacity,lt=f.getPatternAttr(Ve.size,0,8),at=f.getPatternAttr(Ve.solidity,0,.3),tt=be.uid;f.pattern(Ae,"point",_e,tt,We,lt,at,void 0,Ve.fillmode,ze,Ze,ct)}else be.fillcolor&&Ae.call(g.fill,be.fillcolor)}f.singleFillStyle=function(Ae,be){var _e=p.select(Ae.node()),Ve=_e.data(),We=((Ve[0]||[])[0]||{}).trace||{};s(Ae,We,be)},f.fillGroupStyle=function(Ae,be){Ae.style("stroke-width",0).each(function(_e){var Ve=p.select(this);_e[0].trace&&s(Ve,_e[0].trace,be)})};var d=e(90998);f.symbolNames=[],f.symbolFuncs=[],f.symbolBackOffs=[],f.symbolNeedLines={},f.symbolNoDot={},f.symbolNoFill={},f.symbolList=[],Object.keys(d).forEach(function(Ae){var be=d[Ae],_e=be.n;f.symbolList.push(_e,String(_e),Ae,_e+100,String(_e+100),Ae+"-open"),f.symbolNames[_e]=Ae,f.symbolFuncs[_e]=be.f,f.symbolBackOffs[_e]=be.backoff||0,be.needLine&&(f.symbolNeedLines[_e]=!0),be.noDot?f.symbolNoDot[_e]=!0:f.symbolList.push(_e+200,String(_e+200),Ae+"-dot",_e+300,String(_e+300),Ae+"-open-dot"),be.noFill&&(f.symbolNoFill[_e]=!0)});var S=f.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";f.symbolNumber=function(Ae){if(P(Ae))Ae=+Ae;else if(typeof Ae=="string"){var be=0;Ae.indexOf("-open")>0&&(be=100,Ae=Ae.replace("-open","")),Ae.indexOf("-dot")>0&&(be+=200,Ae=Ae.replace("-dot","")),Ae=f.symbolNames.indexOf(Ae),Ae>=0&&(Ae+=be)}return Ae%100>=S||Ae>=400?0:Math.floor(Math.max(Ae,0))};function C(Ae,be,_e,Ve){var We=Ae%100;return f.symbolFuncs[We](be,_e,Ve)+(Ae>=200?M:"")}var y={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},b=a("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:y},horizontalreversed:{node:"linearGradient",attrs:y,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};f.gradient=function(Ae,be,_e,Ve,We,ze){for(var Ze=We.length,ct=i[Ve],lt=new Array(Ze),at=0;at<Ze;at++)ct.reversed?lt[Ze-1-at]=[b((1-We[at][0])*100),We[at][1]]:lt[at]=[b(We[at][0]*100),We[at][1]];var tt=be._fullLayout,dt="g"+tt._uid+"-"+_e,wt=tt._defs.select(".gradients").selectAll("#"+dt).data([Ve+lt.join(";")],L.identity);wt.exit().remove(),wt.enter().append(ct.node).each(function(){var Mt=p.select(this);ct.attrs&&Mt.attr(ct.attrs),Mt.attr("id",dt);var It=Mt.selectAll("stop").data(lt);It.exit().remove(),It.enter().append("stop"),It.each(function($e){var ke=A($e[1]);p.select(this).attr({offset:$e[0]+"%","stop-color":g.tinyRGB(ke),"stop-opacity":ke.getAlpha()})})}),Ae.style(ze,G(dt,be)).style(ze+"-opacity",null),Ae.classed("gradient_filled",!0)},f.pattern=function(Ae,be,_e,Ve,We,ze,Ze,ct,lt,at,tt,dt){var wt=be==="legend";ct&&(lt==="overlay"?(at=ct,tt=g.contrast(at)):(at=void 0,tt=ct));var Mt=_e._fullLayout,It="p"+Mt._uid+"-"+Ve,$e,ke,Fe=function(Lt,Ot,Jt,qt,Vt){return qt+(Vt-qt)*(Lt-Ot)/(Jt-Ot)},qe,it,Je,Re,Me={},fe=A(tt),ye=g.tinyRGB(fe),Le=fe.getAlpha(),Oe=dt*Le;switch(We){case"/":$e=ze*Math.sqrt(2),ke=ze*Math.sqrt(2),qe="M-"+$e/4+","+ke/4+"l"+$e/2+",-"+ke/2+"M0,"+ke+"L"+$e+",0M"+$e/4*3+","+ke/4*5+"l"+$e/2+",-"+ke/2,it=Ze*ze,Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case"\\":$e=ze*Math.sqrt(2),ke=ze*Math.sqrt(2),qe="M"+$e/4*3+",-"+ke/4+"l"+$e/2+","+ke/2+"M0,0L"+$e+","+ke+"M-"+$e/4+","+ke/4*3+"l"+$e/2+","+ke/2,it=Ze*ze,Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case"x":$e=ze*Math.sqrt(2),ke=ze*Math.sqrt(2),qe="M-"+$e/4+","+ke/4+"l"+$e/2+",-"+ke/2+"M0,"+ke+"L"+$e+",0M"+$e/4*3+","+ke/4*5+"l"+$e/2+",-"+ke/2+"M"+$e/4*3+",-"+ke/4+"l"+$e/2+","+ke/2+"M0,0L"+$e+","+ke+"M-"+$e/4+","+ke/4*3+"l"+$e/2+","+ke/2,it=ze-ze*Math.sqrt(1-Ze),Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case"|":$e=ze,ke=ze,Re="path",qe="M"+$e/2+",0L"+$e/2+","+ke,it=Ze*ze,Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case"-":$e=ze,ke=ze,Re="path",qe="M0,"+ke/2+"L"+$e+","+ke/2,it=Ze*ze,Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case"+":$e=ze,ke=ze,Re="path",qe="M"+$e/2+",0L"+$e/2+","+ke+"M0,"+ke/2+"L"+$e+","+ke/2,it=ze-ze*Math.sqrt(1-Ze),Re="path",Me={d:qe,opacity:Oe,stroke:ye,"stroke-width":it+"px"};break;case".":$e=ze,ke=ze,Ze<Math.PI/4?Je=Math.sqrt(Ze*ze*ze/Math.PI):Je=Fe(Ze,Math.PI/4,1,ze/2,ze/Math.sqrt(2)),Re="circle",Me={cx:$e/2,cy:ke/2,r:Je,opacity:Oe,fill:ye};break}var ht=[We||"noSh",at||"noBg",tt||"noFg",ze,Ze].join(";"),vt=Mt._defs.select(".patterns").selectAll("#"+It).data([ht],L.identity);vt.exit().remove(),vt.enter().append("pattern").each(function(){var Lt=p.select(this);if(Lt.attr({id:It,width:$e+"px",height:ke+"px",patternUnits:"userSpaceOnUse",patternTransform:wt?"scale(0.8)":""}),at){var Ot=A(at),Jt=g.tinyRGB(Ot),qt=Ot.getAlpha(),Vt=Lt.selectAll("rect").data([0]);Vt.exit().remove(),Vt.enter().append("rect").attr({width:$e+"px",height:ke+"px",fill:Jt,"fill-opacity":qt})}var vr=Lt.selectAll(Re).data([0]);vr.exit().remove(),vr.enter().append(Re).attr(Me)}),Ae.style("fill",G(It,_e)).style("fill-opacity",null),Ae.classed("pattern_filled",!0)},f.initGradients=function(Ae){var be=Ae._fullLayout,_e=L.ensureSingle(be._defs,"g","gradients");_e.selectAll("linearGradient,radialGradient").remove(),p.select(Ae).selectAll(".gradient_filled").classed("gradient_filled",!1)},f.initPatterns=function(Ae){var be=Ae._fullLayout,_e=L.ensureSingle(be._defs,"g","patterns");_e.selectAll("pattern").remove(),p.select(Ae).selectAll(".pattern_filled").classed("pattern_filled",!1)},f.getPatternAttr=function(Ae,be,_e){return Ae&&L.isArrayOrTypedArray(Ae)?be<Ae.length?Ae[be]:_e:Ae},f.pointStyle=function(Ae,be,_e){if(Ae.size()){var Ve=f.makePointStyleFns(be);Ae.each(function(We){f.singlePointStyle(We,p.select(this),be,Ve,_e)})}},f.singlePointStyle=function(Ae,be,_e,Ve,We){var ze=_e.marker,Ze=ze.line;if(be.style("opacity",Ve.selectedOpacityFn?Ve.selectedOpacityFn(Ae):Ae.mo===void 0?ze.opacity:Ae.mo),Ve.ms2mrc){var ct;Ae.ms==="various"||ze.size==="various"?ct=3:ct=Ve.ms2mrc(Ae.ms),Ae.mrc=ct,Ve.selectedSizeFn&&(ct=Ae.mrc=Ve.selectedSizeFn(Ae));var lt=f.symbolNumber(Ae.mx||ze.symbol)||0;Ae.om=lt%200>=100;var at=Ie(Ae,_e),tt=ae(Ae,_e);be.attr("d",C(lt,ct,at,tt))}var dt=!1,wt,Mt,It;if(Ae.so)It=Ze.outlierwidth,Mt=Ze.outliercolor,wt=ze.outliercolor;else{var $e=(Ze||{}).width;It=(Ae.mlw+1||$e+1||(Ae.trace?(Ae.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ae?Mt=Ae.mlcc=Ve.lineScale(Ae.mlc):L.isArrayOrTypedArray(Ze.color)?Mt=g.defaultLine:Mt=Ze.color,L.isArrayOrTypedArray(ze.color)&&(wt=g.defaultLine,dt=!0),"mc"in Ae?wt=Ae.mcc=Ve.markerScale(Ae.mc):wt=ze.color||"rgba(0,0,0,0)",Ve.selectedColorFn&&(wt=Ve.selectedColorFn(Ae))}if(Ae.om)be.call(g.stroke,wt).style({"stroke-width":(It||1)+"px",fill:"none"});else{be.style("stroke-width",(Ae.isBlank?0:It)+"px");var ke=ze.gradient,Fe=Ae.mgt;Fe?dt=!0:Fe=ke&&ke.type,L.isArrayOrTypedArray(Fe)&&(Fe=Fe[0],i[Fe]||(Fe=0));var qe=ze.pattern,it=qe&&f.getPatternAttr(qe.shape,Ae.i,"");if(Fe&&Fe!=="none"){var Je=Ae.mgc;Je?dt=!0:Je=ke.color;var Re=_e.uid;dt&&(Re+="-"+Ae.i),f.gradient(be,We,Re,Fe,[[0,Je],[1,wt]],"fill")}else if(it){var Me=f.getPatternAttr(qe.bgcolor,Ae.i,null),fe=f.getPatternAttr(qe.fgcolor,Ae.i,null),ye=qe.fgopacity,Le=f.getPatternAttr(qe.size,Ae.i,8),Oe=f.getPatternAttr(qe.solidity,Ae.i,.3),ht=Ae.mcc||L.isArrayOrTypedArray(qe.shape)||L.isArrayOrTypedArray(qe.bgcolor)||L.isArrayOrTypedArray(qe.size)||L.isArrayOrTypedArray(qe.solidity),vt=_e.uid;ht&&(vt+="-"+Ae.i),f.pattern(be,"point",We,vt,it,Le,Oe,Ae.mcc,qe.fillmode,Me,fe,ye)}else g.fill(be,wt);It&&g.stroke(be,Mt)}},f.makePointStyleFns=function(Ae){var be={},_e=Ae.marker;return be.markerScale=f.tryColorscale(_e,""),be.lineScale=f.tryColorscale(_e,"line"),v.traceIs(Ae,"symbols")&&(be.ms2mrc=x.isBubble(Ae)?h(Ae):function(){return(_e.size||6)/2}),Ae.selectedpoints&&L.extendFlat(be,f.makeSelectedPointStyleFns(Ae)),be},f.makeSelectedPointStyleFns=function(Ae){var be={},_e=Ae.selected||{},Ve=Ae.unselected||{},We=Ae.marker||{},ze=_e.marker||{},Ze=Ve.marker||{},ct=We.opacity,lt=ze.opacity,at=Ze.opacity,tt=lt!==void 0,dt=at!==void 0;(L.isArrayOrTypedArray(ct)||tt||dt)&&(be.selectedOpacityFn=function(Je){var Re=Je.mo===void 0?We.opacity:Je.mo;return Je.selected?tt?lt:Re:dt?at:n*Re});var wt=We.color,Mt=ze.color,It=Ze.color;(Mt||It)&&(be.selectedColorFn=function(Je){var Re=Je.mcc||wt;return Je.selected?Mt||Re:It||Re});var $e=We.size,ke=ze.size,Fe=Ze.size,qe=ke!==void 0,it=Fe!==void 0;return v.traceIs(Ae,"symbols")&&(qe||it)&&(be.selectedSizeFn=function(Je){var Re=Je.mrc||$e/2;return Je.selected?qe?ke/2:Re:it?Fe/2:Re}),be},f.makeSelectedTextStyleFns=function(Ae){var be={},_e=Ae.selected||{},Ve=Ae.unselected||{},We=Ae.textfont||{},ze=_e.textfont||{},Ze=Ve.textfont||{},ct=We.color,lt=ze.color,at=Ze.color;return be.selectedTextColorFn=function(tt){var dt=tt.tc||ct;return tt.selected?lt||dt:at||(lt?dt:g.addOpacity(dt,n))},be},f.selectedPointStyle=function(Ae,be){if(!(!Ae.size()||!be.selectedpoints)){var _e=f.makeSelectedPointStyleFns(be),Ve=be.marker||{},We=[];_e.selectedOpacityFn&&We.push(function(ze,Ze){ze.style("opacity",_e.selectedOpacityFn(Ze))}),_e.selectedColorFn&&We.push(function(ze,Ze){g.fill(ze,_e.selectedColorFn(Ze))}),_e.selectedSizeFn&&We.push(function(ze,Ze){var ct=Ze.mx||Ve.symbol||0,lt=_e.selectedSizeFn(Ze);ze.attr("d",C(f.symbolNumber(ct),lt,Ie(Ze,be),ae(Ze,be))),Ze.mrc2=lt}),We.length&&Ae.each(function(ze){for(var Ze=p.select(this),ct=0;ct<We.length;ct++)We[ct](Ze,ze)})}},f.tryColorscale=function(Ae,be){var _e=be?L.nestedProperty(Ae,be).get():Ae;if(_e){var Ve=_e.color;if((_e.colorscale||_e._colorAx)&&L.isArrayOrTypedArray(Ve))return t.makeColorScaleFuncFromTrace(_e)}return L.identity};var E={start:1,end:-1,middle:0,bottom:1,top:-1};function m(Ae,be,_e,Ve,We){var ze=p.select(Ae.node().parentNode),Ze=be.indexOf("top")!==-1?"top":be.indexOf("bottom")!==-1?"bottom":"middle",ct=be.indexOf("left")!==-1?"end":be.indexOf("right")!==-1?"start":"middle",lt=Ve?Ve/.8+1:0,at=(u.lineCount(Ae)-1)*c+1,tt=E[ct]*lt,dt=_e*.75+E[Ze]*lt+(E[Ze]-1)*at*_e/2;Ae.attr("text-anchor",ct),We||ze.attr("transform",r(tt,dt))}function F(Ae,be){var _e=Ae.ts||be.textfont.size;return P(_e)&&_e>0?_e:0}f.textPointStyle=function(Ae,be,_e){if(Ae.size()){var Ve;if(be.selectedpoints){var We=f.makeSelectedTextStyleFns(be);Ve=We.selectedTextColorFn}var ze=be.texttemplate,Ze=_e._fullLayout;Ae.each(function(ct){var lt=p.select(this),at=ze?L.extractOption(ct,be,"txt","texttemplate"):L.extractOption(ct,be,"tx","text");if(!at&&at!==0){lt.remove();return}if(ze){var tt=be._module.formatLabels,dt=tt?tt(ct,be,Ze):{},wt={};T(wt,be,ct.i);var Mt=be._meta||{};at=L.texttemplateString(at,dt,Ze._d3locale,wt,ct,Mt)}var It=ct.tp||be.textposition,$e=F(ct,be),ke=Ve?Ve(ct):ct.tc||be.textfont.color;lt.call(f.font,ct.tf||be.textfont.family,$e,ke).text(at).call(u.convertToTspans,_e).call(m,It,$e,ct.mrc)})}},f.selectedTextStyle=function(Ae,be){if(!(!Ae.size()||!be.selectedpoints)){var _e=f.makeSelectedTextStyleFns(be);Ae.each(function(Ve){var We=p.select(this),ze=_e.selectedTextColorFn(Ve),Ze=Ve.tp||be.textposition,ct=F(Ve,be);g.fill(We,ze);var lt=v.traceIs(be,"bar-like");m(We,Ze,ct,Ve.mrc2||Ve.mrc,lt)})}};var _=.5;f.smoothopen=function(Ae,be){if(Ae.length<3)return"M"+Ae.join("L");var _e="M"+Ae[0],Ve=[],We;for(We=1;We<Ae.length-1;We++)Ve.push(N(Ae[We-1],Ae[We],Ae[We+1],be));for(_e+="Q"+Ve[0][0]+" "+Ae[1],We=2;We<Ae.length-1;We++)_e+="C"+Ve[We-2][1]+" "+Ve[We-1][0]+" "+Ae[We];return _e+="Q"+Ve[Ae.length-3][1]+" "+Ae[Ae.length-1],_e},f.smoothclosed=function(Ae,be){if(Ae.length<3)return"M"+Ae.join("L")+"Z";var _e="M"+Ae[0],Ve=Ae.length-1,We=[N(Ae[Ve],Ae[0],Ae[1],be)],ze;for(ze=1;ze<Ve;ze++)We.push(N(Ae[ze-1],Ae[ze],Ae[ze+1],be));for(We.push(N(Ae[Ve-1],Ae[Ve],Ae[0],be)),ze=1;ze<=Ve;ze++)_e+="C"+We[ze-1][1]+" "+We[ze][0]+" "+Ae[ze];return _e+="C"+We[Ve][1]+" "+We[0][0]+" "+Ae[0]+"Z",_e};var B,I;function O(Ae,be,_e){return _e&&(Ae=Q(Ae)),be?k(Ae[1]):z(Ae[0])}function z(Ae){var be=p.round(Ae,2);return B=be,be}function k(Ae){var be=p.round(Ae,2);return I=be,be}function N(Ae,be,_e,Ve){var We=Ae[0]-be[0],ze=Ae[1]-be[1],Ze=_e[0]-be[0],ct=_e[1]-be[1],lt=Math.pow(We*We+ze*ze,_/2),at=Math.pow(Ze*Ze+ct*ct,_/2),tt=(at*at*We-lt*lt*Ze)*Ve,dt=(at*at*ze-lt*lt*ct)*Ve,wt=3*at*(lt+at),Mt=3*lt*(lt+at);return[[z(be[0]+(wt&&tt/wt)),k(be[1]+(wt&&dt/wt))],[z(be[0]-(Mt&&tt/Mt)),k(be[1]-(Mt&&dt/Mt))]]}var K={hv:function(Ae,be,_e){return"H"+z(be[0])+"V"+O(be,1,_e)},vh:function(Ae,be,_e){return"V"+k(be[1])+"H"+O(be,0,_e)},hvh:function(Ae,be,_e){return"H"+z((Ae[0]+be[0])/2)+"V"+k(be[1])+"H"+O(be,0,_e)},vhv:function(Ae,be,_e){return"V"+k((Ae[1]+be[1])/2)+"H"+z(be[0])+"V"+O(be,1,_e)}},q=function(Ae,be,_e){return"L"+O(be,0,_e)+","+O(be,1,_e)};f.steps=function(Ae){var be=K[Ae]||q;return function(_e){for(var Ve="M"+z(_e[0][0])+","+k(_e[0][1]),We=_e.length,ze=1;ze<We;ze++)Ve+=be(_e[ze-1],_e[ze],ze===We-1);return Ve}};function Q(Ae,be){var _e=Ae.backoff,Ve=Ae.trace,We=Ae.d,ze=Ae.i;if(_e&&Ve&&Ve.marker&&Ve.marker.angle%360===0&&Ve.line&&Ve.line.shape!=="spline"){var Ze=L.isArrayOrTypedArray(_e),ct=Ae,lt=be?be[0]:B||0,at=be?be[1]:I||0,tt=ct[0],dt=ct[1],wt=tt-lt,Mt=dt-at,It=Math.atan2(Mt,wt),$e=Ze?_e[ze]:_e;if($e==="auto"){var ke=ct.i;Ve.type==="scatter"&&ke--;var Fe=ct.marker,qe=Fe.symbol;L.isArrayOrTypedArray(qe)&&(qe=qe[ke]);var it=Fe.size;L.isArrayOrTypedArray(it)&&(it=it[ke]),$e=Fe?f.symbolBackOffs[f.symbolNumber(qe)]*it:0,$e+=f.getMarkerStandoff(We[ke],Ve)||0}var Je=tt-$e*Math.cos(It),Re=dt-$e*Math.sin(It);(Je<=tt&&Je>=lt||Je>=tt&&Je<=lt)&&(Re<=dt&&Re>=at||Re>=dt&&Re<=at)&&(Ae=[Je,Re])}return Ae}f.applyBackoff=Q,f.makeTester=function(){var Ae=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(_e){_e.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),be=L.ensureSingle(Ae,"path","js-reference-point",function(_e){_e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});f.tester=Ae,f.testref=be},f.savedBBoxes={};var re=0,oe=1e4;f.bBox=function(Ae,be,_e){_e||(_e=Y(Ae));var Ve;if(_e){if(Ve=f.savedBBoxes[_e],Ve)return L.extendFlat({},Ve)}else if(Ae.childNodes.length===1){var We=Ae.childNodes[0];if(_e=Y(We),_e){var ze=+We.getAttribute("x")||0,Ze=+We.getAttribute("y")||0,ct=We.getAttribute("transform");if(!ct){var lt=f.bBox(We,!1,_e);return ze&&(lt.left+=ze,lt.right+=ze),Ze&&(lt.top+=Ze,lt.bottom+=Ze),lt}if(_e+="~"+ze+"~"+Ze+"~"+ct,Ve=f.savedBBoxes[_e],Ve)return L.extendFlat({},Ve)}}var at,tt;be?at=Ae:(tt=f.tester.node(),at=Ae.cloneNode(!0),tt.appendChild(at)),p.select(at).attr("transform",null).call(u.positionText,0,0);var dt=at.getBoundingClientRect(),wt=f.testref.node().getBoundingClientRect();be||tt.removeChild(at);var Mt={height:dt.height,width:dt.width,left:dt.left-wt.left,top:dt.top-wt.top,right:dt.right-wt.left,bottom:dt.bottom-wt.top};return re>=oe&&(f.savedBBoxes={},re=0),_e&&(f.savedBBoxes[_e]=Mt),re++,L.extendFlat({},Mt)};function Y(Ae){var be=Ae.getAttribute("data-unformatted");if(be!==null)return be+Ae.getAttribute("data-math")+Ae.getAttribute("text-anchor")+Ae.getAttribute("style")}f.setClipUrl=function(Ae,be,_e){Ae.attr("clip-path",G(be,_e))};function G(Ae,be){if(!Ae)return null;var _e=be._context,Ve=_e._exportedPlot?"":_e._baseUrl||"";return Ve?"url('"+Ve+"#"+Ae+"')":"url(#"+Ae+")"}f.getTranslate=function(Ae){var be=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,_e=Ae.attr?"attr":"getAttribute",Ve=Ae[_e]("transform")||"",We=Ve.replace(be,function(ze,Ze,ct){return[Ze,ct].join(" ")}).split(" ");return{x:+We[0]||0,y:+We[1]||0}},f.setTranslate=function(Ae,be,_e){var Ve=/(\btranslate\(.*?\);?)/,We=Ae.attr?"attr":"getAttribute",ze=Ae.attr?"attr":"setAttribute",Ze=Ae[We]("transform")||"";return be=be||0,_e=_e||0,Ze=Ze.replace(Ve,"").trim(),Ze+=r(be,_e),Ze=Ze.trim(),Ae[ze]("transform",Ze),Ze},f.getScale=function(Ae){var be=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,_e=Ae.attr?"attr":"getAttribute",Ve=Ae[_e]("transform")||"",We=Ve.replace(be,function(ze,Ze,ct){return[Ze,ct].join(" ")}).split(" ");return{x:+We[0]||1,y:+We[1]||1}},f.setScale=function(Ae,be,_e){var Ve=/(\bscale\(.*?\);?)/,We=Ae.attr?"attr":"getAttribute",ze=Ae.attr?"attr":"setAttribute",Ze=Ae[We]("transform")||"";return be=be||1,_e=_e||1,Ze=Ze.replace(Ve,"").trim(),Ze+="scale("+be+","+_e+")",Ze=Ze.trim(),Ae[ze]("transform",Ze),Ze};var V=/\s*sc.*/;f.setPointGroupScale=function(Ae,be,_e){if(be=be||1,_e=_e||1,!!Ae){var Ve=be===1&&_e===1?"":"scale("+be+","+_e+")";Ae.each(function(){var We=(this.getAttribute("transform")||"").replace(V,"");We+=Ve,We=We.trim(),this.setAttribute("transform",We)})}};var Z=/translate\([^)]*\)\s*$/;f.setTextPointsScale=function(Ae,be,_e){Ae&&Ae.each(function(){var Ve,We=p.select(this),ze=We.select("text");if(ze.node()){var Ze=parseFloat(ze.attr("x")||0),ct=parseFloat(ze.attr("y")||0),lt=(We.attr("transform")||"").match(Z);be===1&&_e===1?Ve=[]:Ve=[r(Ze,ct),"scale("+be+","+_e+")",r(-Ze,-ct)],lt&&Ve.push(lt),We.attr("transform",Ve.join(""))}})};function ae(Ae,be){var _e;return Ae&&(_e=Ae.mf),_e===void 0&&(_e=be.marker&&be.marker.standoff||0),!be._geo&&!be._xA?-_e:_e}f.getMarkerStandoff=ae;var ie=Math.atan2,J=Math.cos,$=Math.sin;function se(Ae,be){var _e=be[0],Ve=be[1];return[_e*J(Ae)-Ve*$(Ae),_e*$(Ae)+Ve*J(Ae)]}var ee,ue,ge,Te,xe,Pe;function Ie(Ae,be){var _e=Ae.ma;_e===void 0&&(_e=be.marker.angle||0);var Ve,We,ze=be.marker.angleref;if(ze==="previous"||ze==="north"){if(be._geo){var Ze=be._geo.project(Ae.lonlat);Ve=Ze[0],We=Ze[1]}else{var ct=be._xA,lt=be._yA;if(ct&&lt)Ve=ct.c2p(Ae.x),We=lt.c2p(Ae.y);else return 90}if(be._geo){var at=Ae.lonlat[0],tt=Ae.lonlat[1],dt=be._geo.project([at,tt+1e-5]),wt=be._geo.project([at+1e-5,tt]),Mt=ie(wt[1]-We,wt[0]-Ve),It=ie(dt[1]-We,dt[0]-Ve),$e;if(ze==="north")$e=_e/180*Math.PI;else if(ze==="previous"){var ke=at/180*Math.PI,Fe=tt/180*Math.PI,qe=ee/180*Math.PI,it=ue/180*Math.PI,Je=qe-ke,Re=J(it)*$(Je),Me=$(it)*J(Fe)-J(it)*$(Fe)*J(Je);$e=-ie(Re,Me)-Math.PI,ee=at,ue=tt}var fe=se(Mt,[J($e),0]),ye=se(It,[$($e),0]);_e=ie(fe[1]+ye[1],fe[0]+ye[0])/Math.PI*180,ze==="previous"&&!(Pe===be.uid&&Ae.i===xe+1)&&(_e=null)}if(ze==="previous"&&!be._geo)if(Pe===be.uid&&Ae.i===xe+1&&P(Ve)&&P(We)){var Le=Ve-ge,Oe=We-Te,ht=be.line&&be.line.shape||"",vt=ht.slice(ht.length-1);vt==="h"&&(Oe=0),vt==="v"&&(Le=0),_e+=ie(Oe,Le)/Math.PI*180+90}else _e=null}return ge=Ve,Te=We,xe=Ae.i,Pe=be.uid,_e}f.getMarkerAngle=Ie},90998:function(W,U,e){var p=e(95616),L=e(39898).round,a="M0,0Z",P=Math.sqrt(2),A=Math.sqrt(3),v=Math.PI,g=Math.cos,t=Math.sin;W.exports={circle:{n:0,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s="M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z";return T?n(h,T,s):s}},square:{n:1,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")}},diamond:{n:2,f:function(x,h,T){if(r(h))return a;var f=L(x*1.3,2);return n(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"Z")}},cross:{n:3,f:function(x,h,T){if(r(h))return a;var f=L(x*.4,2),s=L(x*1.2,2);return n(h,T,"M"+s+","+f+"H"+f+"V"+s+"H-"+f+"V"+f+"H-"+s+"V-"+f+"H-"+f+"V-"+s+"H"+f+"V-"+f+"H"+s+"Z")}},x:{n:4,f:function(x,h,T){if(r(h))return a;var f=L(x*.8/P,2),s="l"+f+","+f,d="l"+f+",-"+f,S="l-"+f+",-"+f,M="l-"+f+","+f;return n(h,T,"M0,"+f+s+d+S+d+S+M+S+M+s+M+s+"Z")}},"triangle-up":{n:5,f:function(x,h,T){if(r(h))return a;var f=L(x*2/A,2),s=L(x/2,2),d=L(x,2);return n(h,T,"M-"+f+","+s+"H"+f+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(x,h,T){if(r(h))return a;var f=L(x*2/A,2),s=L(x/2,2),d=L(x,2);return n(h,T,"M-"+f+",-"+s+"H"+f+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(x,h,T){if(r(h))return a;var f=L(x*2/A,2),s=L(x/2,2),d=L(x,2);return n(h,T,"M"+s+",-"+f+"V"+f+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(x,h,T){if(r(h))return a;var f=L(x*2/A,2),s=L(x/2,2),d=L(x,2);return n(h,T,"M-"+s+",-"+f+"V"+f+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(x,h,T){if(r(h))return a;var f=L(x*.6,2),s=L(x*1.2,2);return n(h,T,"M-"+s+",-"+f+"H"+f+"V"+s+"Z")}},"triangle-se":{n:10,f:function(x,h,T){if(r(h))return a;var f=L(x*.6,2),s=L(x*1.2,2);return n(h,T,"M"+f+",-"+s+"V"+f+"H-"+s+"Z")}},"triangle-sw":{n:11,f:function(x,h,T){if(r(h))return a;var f=L(x*.6,2),s=L(x*1.2,2);return n(h,T,"M"+s+","+f+"H-"+f+"V-"+s+"Z")}},"triangle-nw":{n:12,f:function(x,h,T){if(r(h))return a;var f=L(x*.6,2),s=L(x*1.2,2);return n(h,T,"M-"+f+","+s+"V-"+f+"H"+s+"Z")}},pentagon:{n:13,f:function(x,h,T){if(r(h))return a;var f=L(x*.951,2),s=L(x*.588,2),d=L(-x,2),S=L(x*-.309,2),M=L(x*.809,2);return n(h,T,"M"+f+","+S+"L"+s+","+M+"H-"+s+"L-"+f+","+S+"L0,"+d+"Z")}},hexagon:{n:14,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x/2,2),d=L(x*A/2,2);return n(h,T,"M"+d+",-"+s+"V"+s+"L0,"+f+"L-"+d+","+s+"V-"+s+"L0,-"+f+"Z")}},hexagon2:{n:15,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x/2,2),d=L(x*A/2,2);return n(h,T,"M-"+s+","+d+"H"+s+"L"+f+",0L"+s+",-"+d+"H-"+s+"L-"+f+",0Z")}},octagon:{n:16,f:function(x,h,T){if(r(h))return a;var f=L(x*.924,2),s=L(x*.383,2);return n(h,T,"M-"+s+",-"+f+"H"+s+"L"+f+",-"+s+"V"+s+"L"+s+","+f+"H-"+s+"L-"+f+","+s+"V-"+s+"Z")}},star:{n:17,f:function(x,h,T){if(r(h))return a;var f=x*1.4,s=L(f*.225,2),d=L(f*.951,2),S=L(f*.363,2),M=L(f*.588,2),C=L(-f,2),y=L(f*-.309,2),w=L(f*.118,2),b=L(f*.809,2),i=L(f*.382,2);return n(h,T,"M"+s+","+y+"H"+d+"L"+S+","+w+"L"+M+","+b+"L0,"+i+"L-"+M+","+b+"L-"+S+","+w+"L-"+d+","+y+"H-"+s+"L0,"+C+"Z")}},hexagram:{n:18,f:function(x,h,T){if(r(h))return a;var f=L(x*.66,2),s=L(x*.38,2),d=L(x*.76,2);return n(h,T,"M-"+d+",0l-"+s+",-"+f+"h"+d+"l"+s+",-"+f+"l"+s+","+f+"h"+d+"l-"+s+","+f+"l"+s+","+f+"h-"+d+"l-"+s+","+f+"l-"+s+",-"+f+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(x,h,T){if(r(h))return a;var f=L(x*A*.8,2),s=L(x*.8,2),d=L(x*1.6,2),S=L(x*4,2),M="A "+S+","+S+" 0 0 1 ";return n(h,T,"M-"+f+","+s+M+f+","+s+M+"0,-"+d+M+"-"+f+","+s+"Z")}},"star-triangle-down":{n:20,f:function(x,h,T){if(r(h))return a;var f=L(x*A*.8,2),s=L(x*.8,2),d=L(x*1.6,2),S=L(x*4,2),M="A "+S+","+S+" 0 0 1 ";return n(h,T,"M"+f+",-"+s+M+"-"+f+",-"+s+M+"0,"+d+M+f+",-"+s+"Z")}},"star-square":{n:21,f:function(x,h,T){if(r(h))return a;var f=L(x*1.1,2),s=L(x*2,2),d="A "+s+","+s+" 0 0 1 ";return n(h,T,"M-"+f+",-"+f+d+"-"+f+","+f+d+f+","+f+d+f+",-"+f+d+"-"+f+",-"+f+"Z")}},"star-diamond":{n:22,f:function(x,h,T){if(r(h))return a;var f=L(x*1.4,2),s=L(x*1.9,2),d="A "+s+","+s+" 0 0 1 ";return n(h,T,"M-"+f+",0"+d+"0,"+f+d+f+",0"+d+"0,-"+f+d+"-"+f+",0Z")}},"diamond-tall":{n:23,f:function(x,h,T){if(r(h))return a;var f=L(x*.7,2),s=L(x*1.4,2);return n(h,T,"M0,"+s+"L"+f+",0L0,-"+s+"L-"+f+",0Z")}},"diamond-wide":{n:24,f:function(x,h,T){if(r(h))return a;var f=L(x*1.4,2),s=L(x*.7,2);return n(h,T,"M0,"+s+"L"+f+",0L0,-"+s+"L-"+f+",0Z")}},hourglass:{n:25,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"H-"+f+"L"+f+",-"+f+"H-"+f+"Z")},noDot:!0},bowtie:{n:26,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"V-"+f+"L-"+f+","+f+"V-"+f+"Z")},noDot:!0},"circle-cross":{n:27,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x/P,2);return n(h,T,"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(x,h,T){if(r(h))return a;var f=L(x*1.3,2);return n(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM0,-"+f+"V"+f+"M-"+f+",0H"+f)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(x,h,T){if(r(h))return a;var f=L(x*1.3,2),s=L(x*.65,2);return n(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM-"+s+",-"+s+"L"+s+","+s+"M-"+s+","+s+"L"+s+",-"+s)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(x,h,T){if(r(h))return a;var f=L(x*1.4,2);return n(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(x,h,T){if(r(h))return a;var f=L(x*1.2,2),s=L(x*.85,2);return n(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(x,h,T){if(r(h))return a;var f=L(x/2,2),s=L(x,2);return n(h,T,"M"+f+","+s+"V-"+s+"M"+(f-s)+",-"+s+"V"+s+"M"+s+","+f+"H-"+s+"M-"+s+","+(f-s)+"H"+s)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(x,h,T){if(r(h))return a;var f=L(x*1.2,2),s=L(x*1.6,2),d=L(x*.8,2);return n(h,T,"M-"+f+","+d+"L0,0M"+f+","+d+"L0,0M0,-"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(x,h,T){if(r(h))return a;var f=L(x*1.2,2),s=L(x*1.6,2),d=L(x*.8,2);return n(h,T,"M-"+f+",-"+d+"L0,0M"+f+",-"+d+"L0,0M0,"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(x,h,T){if(r(h))return a;var f=L(x*1.2,2),s=L(x*1.6,2),d=L(x*.8,2);return n(h,T,"M"+d+","+f+"L0,0M"+d+",-"+f+"L0,0M-"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(x,h,T){if(r(h))return a;var f=L(x*1.2,2),s=L(x*1.6,2),d=L(x*.8,2);return n(h,T,"M-"+d+","+f+"L0,0M-"+d+",-"+f+"L0,0M"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(x,h,T){if(r(h))return a;var f=L(x*1.4,2);return n(h,T,"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(x,h,T){if(r(h))return a;var f=L(x*1.4,2);return n(h,T,"M0,"+f+"V-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(x,h,T){if(r(h))return a;var f=L(x,2);return n(h,T,"M"+f+","+f+"L-"+f+",-"+f)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x*2,2);return n(h,T,"M0,0L-"+f+","+s+"H"+f+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x*2,2);return n(h,T,"M0,0L-"+f+",-"+s+"H"+f+"Z")},noDot:!0},"arrow-left":{n:47,f:function(x,h,T){if(r(h))return a;var f=L(x*2,2),s=L(x,2);return n(h,T,"M0,0L"+f+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-right":{n:48,f:function(x,h,T){if(r(h))return a;var f=L(x*2,2),s=L(x,2);return n(h,T,"M0,0L-"+f+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x*2,2);return n(h,T,"M-"+f+",0H"+f+"M0,0L-"+f+","+s+"H"+f+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(x,h,T){if(r(h))return a;var f=L(x,2),s=L(x*2,2);return n(h,T,"M-"+f+",0H"+f+"M0,0L-"+f+",-"+s+"H"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(x,h,T){if(r(h))return a;var f=L(x*2,2),s=L(x,2);return n(h,T,"M0,-"+s+"V"+s+"M0,0L"+f+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(x,h,T){if(r(h))return a;var f=L(x*2,2),s=L(x,2);return n(h,T,"M0,-"+s+"V"+s+"M0,0L-"+f+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(x,h,T){if(r(h))return a;var f=v/2.5,s=2*x*g(f),d=2*x*t(f);return n(h,T,"M0,0L"+-s+","+d+"L"+s+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(x,h,T){if(r(h))return a;var f=v/4,s=2*x*g(f),d=2*x*t(f);return n(h,T,"M0,0L"+-s+","+d+"A "+2*x+","+2*x+" 0 0 1 "+s+","+d+"Z")},backoff:.4,noDot:!0}};function r(x){return x===null}var u,o,l,c;function n(x,h,T){if((!x||x%360===0)&&!h)return T;if(l===x&&c===h&&u===T)return o;l=x,c=h,u=T;function f(_,B){var I=g(_),O=t(_),z=B[0],k=B[1]+(h||0);return[z*I-k*O,z*O+k*I]}for(var s=x/180*v,d=0,S=0,M=p(T),C="",y=0;y<M.length;y++){var w=M[y],b=w[0],i=d,E=S;if(b==="M"||b==="L")d=+w[1],S=+w[2];else if(b==="m"||b==="l")d+=+w[1],S+=+w[2];else if(b==="H")d=+w[1];else if(b==="h")d+=+w[1];else if(b==="V")S=+w[1];else if(b==="v")S+=+w[1];else if(b==="A"){d=+w[1],S=+w[2];var m=f(s,[+w[6],+w[7]]);w[6]=m[0],w[7]=m[1],w[3]=+w[3]+x}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(d-=i,S-=E);var F=f(s,[d,S]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(w[1]=F[0],w[2]=F[1]),w[0]=b,C+=w[0]+w.slice(1).join(",")}return o=C,C}},25673:function(W){W.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(W,U,e){var p=e(92770),L=e(73972),a=e(89298),P=e(71828),A=e(45827);W.exports=function(t){for(var r=t.calcdata,u=0;u<r.length;u++){var o=r[u],l=o[0].trace;if(l.visible===!0&&L.traceIs(l,"errorBarsOK")){var c=a.getFromId(t,l.xaxis),n=a.getFromId(t,l.yaxis);v(o,l,c,"x"),v(o,l,n,"y")}}};function v(g,t,r,u){var o=t["error_"+u]||{},l=o.visible&&["linear","log"].indexOf(r.type)!==-1,c=[];if(l){for(var n=A(o),x=0;x<g.length;x++){var h=g[x],T=h.i;if(T===void 0)T=x;else if(T===null)continue;var f=h[u];if(p(r.c2l(f))){var s=n(f,T);if(p(s[0])&&p(s[1])){var d=h[u+"s"]=f-s[0],S=h[u+"h"]=f+s[1];c.push(d,S)}}}var M=r._id,C=t._extremes[M],y=a.findExtremes(r,c,P.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(y.min),C.max=C.max.concat(y.max)}}},45827:function(W){W.exports=function(p){var L=p.type,a=p.symmetric;if(L==="data"){var P=p.array||[];if(a)return function(r,u){var o=+P[u];return[o,o]};var A=p.arrayminus||[];return function(r,u){var o=+P[u],l=+A[u];return!isNaN(o)||!isNaN(l)?[l||0,o||0]:[NaN,NaN]}}else{var v=U(L,p.value),g=U(L,p.valueminus);return a||p.valueminus===void 0?function(r){var u=v(r);return[u,u]}:function(r){return[g(r),v(r)]}}};function U(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},97587:function(W,U,e){var p=e(92770),L=e(73972),a=e(71828),P=e(44467),A=e(25673);W.exports=function(v,g,t,r){var u="error_"+r.axis,o=P.newContainer(g,u),l=v[u]||{};function c(d,S){return a.coerce(l,o,A,d,S)}var n=l.array!==void 0||l.value!==void 0||l.type==="sqrt",x=c("visible",n);if(x!==!1){var h=c("type","array"in l?"data":"percent"),T=!0;h!=="sqrt"&&(T=c("symmetric",!((h==="data"?"arrayminus":"valueminus")in l))),h==="data"?(c("array"),c("traceref"),T||(c("arrayminus"),c("tracerefminus"))):(h==="percent"||h==="constant")&&(c("value"),T||c("valueminus"));var f="copy_"+r.inherit+"style";if(r.inherit){var s=g["error_"+r.inherit];(s||{}).visible&&c(f,!(l.color||p(l.thickness)||p(l.width)))}(!r.inherit||!o[f])&&(c("color",t),c("thickness"),c("width",L.traceIs(g,"gl3d")?0:4))}}},37369:function(W,U,e){var p=e(71828),L=e(30962).overrideAll,a=e(25673),P={error_x:p.extendFlat({},a),error_y:p.extendFlat({},a)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var A={error_x:p.extendFlat({},a),error_y:p.extendFlat({},a),error_z:p.extendFlat({},a)};delete A.error_x.copy_ystyle,delete A.error_y.copy_ystyle,delete A.error_z.copy_ystyle,delete A.error_z.copy_zstyle,W.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:L(A,"calc","nested"),scattergl:L(P,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(g,t,r){(t.error_y||{}).visible&&(r.yerr=g.yh-g.y,t.error_y.symmetric||(r.yerrneg=g.y-g.ys)),(t.error_x||{}).visible&&(r.xerr=g.xh-g.x,t.error_x.symmetric||(r.xerrneg=g.x-g.xs))}},19398:function(W,U,e){var p=e(39898),L=e(92770),a=e(91424),P=e(34098);W.exports=function(g,t,r,u){var o,l=r.xaxis,c=r.yaxis,n=u&&u.duration>0;t.each(function(x){var h=x[0].trace,T=h.error_x||{},f=h.error_y||{},s;h.ids&&(s=function(C){return C.id});var d=P.hasMarkers(h)&&h.marker.maxdisplayed>0;!f.visible&&!T.visible&&(x=[]);var S=p.select(this).selectAll("g.errorbar").data(x,s);if(S.exit().remove(),!!x.length){T.visible||S.selectAll("path.xerror").remove(),f.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var M=S.enter().append("g").classed("errorbar",!0);n&&M.style("opacity",0).transition().duration(u.duration).style("opacity",1),a.setClipUrl(S,r.layerClipId,g),S.each(function(C){var y=p.select(this),w=A(C,l,c);if(!(d&&!C.vis)){var b,i=y.select("path.yerror");if(f.visible&&L(w.x)&&L(w.yh)&&L(w.ys)){var E=f.width;b="M"+(w.x-E)+","+w.yh+"h"+2*E+"m-"+E+",0V"+w.ys,w.noYS||(b+="m-"+E+",0h"+2*E),o=!i.size(),o?i=y.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):n&&(i=i.transition().duration(u.duration).ease(u.easing)),i.attr("d",b)}else i.remove();var m=y.select("path.xerror");if(T.visible&&L(w.y)&&L(w.xh)&&L(w.xs)){var F=(T.copy_ystyle?f:T).width;b="M"+w.xh+","+(w.y-F)+"v"+2*F+"m0,-"+F+"H"+w.xs,w.noXS||(b+="m0,-"+F+"v"+2*F),o=!m.size(),o?m=y.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):n&&(m=m.transition().duration(u.duration).ease(u.easing)),m.attr("d",b)}else m.remove()}})}})};function A(v,g,t){var r={x:g.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),L(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=g.c2p(v.xh),r.xs=g.c2p(v.xs),L(r.xs)||(r.noXS=!0,r.xs=g.c2p(v.xs,!0))),r}},62662:function(W,U,e){var p=e(39898),L=e(7901);W.exports=function(P){P.each(function(A){var v=A[0].trace,g=v.error_y||{},t=v.error_x||{},r=p.select(this);r.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(L.stroke,g.color),t.copy_ystyle&&(t=g),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(L.stroke,t.color)})}},77914:function(W,U,e){var p=e(41940),L=e(528).hoverlabel,a=e(1426).extendFlat;W.exports={hoverlabel:{bgcolor:a({},L.bgcolor,{arrayOk:!0}),bordercolor:a({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:a({},L.align,{arrayOk:!0}),namelength:a({},L.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(W,U,e){var p=e(71828),L=e(73972);W.exports=function(A){var v=A.calcdata,g=A._fullLayout;function t(c){return function(n){return p.coerceHoverinfo({hoverinfo:n},{_module:c._module},g)}}for(var r=0;r<v.length;r++){var u=v[r],o=u[0].trace;if(!L.traceIs(o,"pie-like")){var l=L.traceIs(o,"2dMap")?a:p.fillArray;l(o.hoverinfo,u,"hi",t(o)),o.hovertemplate&&l(o.hovertemplate,u,"ht"),o.hoverlabel&&(l(o.hoverlabel.bgcolor,u,"hbg"),l(o.hoverlabel.bordercolor,u,"hbc"),l(o.hoverlabel.font.size,u,"hts"),l(o.hoverlabel.font.color,u,"htc"),l(o.hoverlabel.font.family,u,"htf"),l(o.hoverlabel.namelength,u,"hnl"),l(o.hoverlabel.align,u,"hta"))}}};function a(P,A,v,g){g=g||p.identity,Array.isArray(P)&&(A[0][v]=g(P))}},75914:function(W,U,e){var p=e(73972),L=e(88335).hover;W.exports=function(P,A,v){var g=p.getComponentMethod("annotations","onClick")(P,P._hoverdata);v!==void 0&&L(P,A,v,!0);function t(){P.emit("plotly_click",{points:P._hoverdata,event:A})}P._hoverdata&&A&&A.target&&(g&&g.then?g.then(t):t(),A.stopImmediatePropagation&&A.stopImmediatePropagation())}},26675:function(W){W.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(W,U,e){var p=e(71828),L=e(77914),a=e(38048);W.exports=function(A,v,g,t){function r(o,l){return p.coerce(A,v,L,o,l)}var u=p.extendFlat({},t.hoverlabel);v.hovertemplate&&(u.namelength=-1),a(A,v,r,u)}},23469:function(W,U,e){var p=e(71828);U.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},U.isTraceInSubplots=function(g,t){if(g.type==="splom"){for(var r=g.xaxes||[],u=g.yaxes||[],o=0;o<r.length;o++)for(var l=0;l<u.length;l++)if(t.indexOf(r[o]+u[l])!==-1)return!0;return!1}return t.indexOf(U.getSubplot(g))!==-1},U.flat=function(g,t){for(var r=new Array(g.length),u=0;u<g.length;u++)r[u]=t;return r},U.p2c=function(g,t){for(var r=new Array(g.length),u=0;u<g.length;u++)r[u]=g[u].p2c(t);return r},U.getDistanceFunction=function(g,t,r,u){return g==="closest"?u||U.quadrature(t,r):g.charAt(0)==="x"?t:r},U.getClosest=function(g,t,r){if(r.index!==!1)r.index>=0&&r.index<g.length?r.distance=0:r.index=!1;else for(var u=0;u<g.length;u++){var o=t(g[u]);o<=r.distance&&(r.index=u,r.distance=o)}return r},U.inbox=function(g,t,r){return g*t<0||g===0?r:1/0},U.quadrature=function(g,t){return function(r){var u=g(r),o=t(r);return Math.sqrt(u*u+o*o)}},U.makeEventData=function(g,t,r){var u="index"in g?g.index:g.pointNumber,o={data:t._input,fullData:t,curveNumber:t.index,pointNumber:u};if(t._indexToPoints){var l=t._indexToPoints[u];l.length===1?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=u;return t._module.eventData?o=t._module.eventData(o,g,t,r,u):("xVal"in g?o.x=g.xVal:"x"in g&&(o.x=g.x),"yVal"in g?o.y=g.yVal:"y"in g&&(o.y=g.y),g.xa&&(o.xaxis=g.xa),g.ya&&(o.yaxis=g.ya),g.zLabelVal!==void 0&&(o.z=g.zLabelVal)),U.appendArrayPointValue(o,t,u),o},U.appendArrayPointValue=function(g,t,r){var u=t._arrayAttrs;if(u)for(var o=0;o<u.length;o++){var l=u[o],c=a(l);if(g[c]===void 0){var n=p.nestedProperty(t,l).get(),x=P(n,r);x!==void 0&&(g[c]=x)}}},U.appendArrayMultiPointValues=function(g,t,r){var u=t._arrayAttrs;if(u)for(var o=0;o<u.length;o++){var l=u[o],c=a(l);if(g[c]===void 0){for(var n=p.nestedProperty(t,l).get(),x=new Array(r.length),h=0;h<r.length;h++)x[h]=P(n,r[h]);g[c]=x}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(g){return L[g]||g}function P(g,t){if(Array.isArray(t)){if(Array.isArray(g)&&Array.isArray(g[t[0]]))return g[t[0]][t[1]]}else return g[t]}var A={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(g){return typeof g!="string"?!1:!!v[g]},U.isXYhover=function(g){return typeof g!="string"?!1:!!A[g]}},88335:function(W,U,e){var p=e(39898),L=e(92770),a=e(84267),P=e(71828),A=P.strTranslate,v=P.strRotate,g=e(11086),t=e(63893),r=e(39918),u=e(91424),o=e(7901),l=e(28569),c=e(89298),n=e(73972),x=e(23469),h=e(26675),T=e(99017),f=e(43969),s=h.YANGLE,d=Math.PI*s/180,S=1/Math.sin(d),M=Math.cos(d),C=Math.sin(d),y=h.HOVERARROWSIZE,w=h.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};U.hover=function(Z,ae,ie,J){Z=P.getGraphDiv(Z);var $=ae.target;P.throttle(Z._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){E(Z,ae,ie,J,$)})},U.loneHover=function(Z,ae){var ie=!0;Array.isArray(Z)||(ie=!1,Z=[Z]);var J=ae.gd,$=oe(J),se=Y(J),ee=Z.map(function(be){var _e=be._x0||be.x0||be.x||0,Ve=be._x1||be.x1||be.x||0,We=be._y0||be.y0||be.y||0,ze=be._y1||be.y1||be.y||0,Ze=be.eventData;if(Ze){var ct=Math.min(_e,Ve),lt=Math.max(_e,Ve),at=Math.min(We,ze),tt=Math.max(We,ze),dt=be.trace;if(n.traceIs(dt,"gl3d")){var wt=J._fullLayout[dt.scene]._scene.container,Mt=wt.offsetLeft,It=wt.offsetTop;ct+=Mt,lt+=Mt,at+=It,tt+=It}Ze.bbox={x0:ct+se,x1:lt+se,y0:at+$,y1:tt+$},ae.inOut_bbox&&ae.inOut_bbox.push(Ze.bbox)}else Ze=!1;return{color:be.color||o.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:Ze}}),ue=!1,ge=_(ee,{gd:J,hovermode:"closest",rotateLabels:ue,bgColor:ae.bgColor||o.background,container:p.select(ae.container),outerContainer:ae.outerContainer||ae.container}),Te=5,xe=0,Pe=0;ge.sort(function(be,_e){return be.y0-_e.y0}).each(function(be,_e){var Ve=be.y0-be.by/2;Ve-Te<xe?be.offset=xe-Ve+Te:be.offset=0,xe=Ve+be.by+be.offset,_e===ae.anchorIndex&&(Pe=be.offset)}).each(function(be){be.offset-=Pe});var Ie=J._fullLayout._invScaleX,Ae=J._fullLayout._invScaleY;return O(ge,ue,Ie,Ae),ie?ge:ge.node()};function E(V,Z,ae,ie,J){ae||(ae="xy");var $=Array.isArray(ae)?ae:[ae],se=V._fullLayout,ee=se._plots||[],ue=ee[ae],ge=se._has("cartesian");if(ue){var Te=ue.overlays.map(function(xn){return xn.id});$=$.concat(Te)}for(var xe=$.length,Pe=new Array(xe),Ie=new Array(xe),Ae=!1,be=0;be<xe;be++){var _e=$[be];if(ee[_e])Ae=!0,Pe[be]=ee[_e].xaxis,Ie[be]=ee[_e].yaxis;else if(se[_e]&&se[_e]._subplot){var Ve=se[_e]._subplot;Pe[be]=Ve.xaxis,Ie[be]=Ve.yaxis}else{P.warn("Unrecognized subplot: "+_e);return}}var We=Z.hovermode||se.hovermode;if(We&&!Ae&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!V.calcdata||V.querySelector(".zoombox")||V._dragging)return l.unhoverRaw(V,Z);var ze=se.hoverdistance;ze===-1&&(ze=1/0);var Ze=se.spikedistance;Ze===-1&&(Ze=1/0);var ct=[],lt=[],at,tt,dt,wt,Mt,It,$e,ke,Fe,qe,it,Je,Re,Me={hLinePoint:null,vLinePoint:null},fe=!1;if(Array.isArray(Z))for(We="array",dt=0;dt<Z.length;dt++)Mt=V.calcdata[Z[dt].curveNumber||0],Mt&&(It=Mt[0].trace,Mt[0].trace.hoverinfo!=="skip"&&(lt.push(Mt),It.orientation==="h"&&(fe=!0)));else{for(wt=0;wt<V.calcdata.length;wt++)Mt=V.calcdata[wt],It=Mt[0].trace,It.hoverinfo!=="skip"&&x.isTraceInSubplots(It,$)&&(lt.push(Mt),It.orientation==="h"&&(fe=!0));var ye=!J,Le,Oe;if(ye)"xpx"in Z?Le=Z.xpx:Le=Pe[0]._length/2,"ypx"in Z?Oe=Z.ypx:Oe=Ie[0]._length/2;else{if(g.triggerHandler(V,"plotly_beforehover",Z)===!1)return;var ht=J.getBoundingClientRect();Le=Z.clientX-ht.left,Oe=Z.clientY-ht.top,se._calcInverseTransform(V);var vt=P.apply3DTransform(se._invTransform)(Le,Oe);if(Le=vt[0],Oe=vt[1],Le<0||Le>Pe[0]._length||Oe<0||Oe>Ie[0]._length)return l.unhoverRaw(V,Z)}if(Z.pointerX=Le+Pe[0]._offset,Z.pointerY=Oe+Ie[0]._offset,"xval"in Z?at=x.flat($,Z.xval):at=x.p2c(Pe,Le),"yval"in Z?tt=x.flat($,Z.yval):tt=x.p2c(Ie,Oe),!L(at[0])||!L(tt[0]))return P.warn("Fx.hover failed",Z,V),l.unhoverRaw(V,Z)}var Lt=1/0;function Ot(xn,On){for(wt=0;wt<lt.length;wt++)if(Mt=lt[wt],!(!Mt||!Mt[0]||!Mt[0].trace)&&(It=Mt[0].trace,!(It.visible!==!0||It._length===0)&&["carpet","contourcarpet"].indexOf(It._module.name)===-1)){if(It.type==="splom"?(ke=0,$e=$[ke]):($e=x.getSubplot(It),ke=$.indexOf($e)),Fe=We,x.isUnifiedHover(Fe)&&(Fe=Fe.charAt(0)),Je={cd:Mt,trace:It,xa:Pe[ke],ya:Ie[ke],maxHoverDistance:ze,maxSpikeDistance:Ze,index:!1,distance:Math.min(Lt,ze),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:It.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},se[$e]&&(Je.subplot=se[$e]._subplot),se._splomScenes&&se._splomScenes[It.uid]&&(Je.scene=se._splomScenes[It.uid]),Re=ct.length,Fe==="array"){var br=Z[wt];"pointNumber"in br?(Je.index=br.pointNumber,Fe="closest"):(Fe="","xval"in br&&(qe=br.xval,Fe="x"),"yval"in br&&(it=br.yval,Fe=Fe?"closest":"y"))}else xn!==void 0&&On!==void 0?(qe=xn,it=On):(qe=at[ke],it=tt[ke]);if(ze!==0)if(It._module&&It._module.hoverPoints){var Ir=It._module.hoverPoints(Je,qe,it,Fe,{finiteRange:!0,hoverLayer:se._hoverlayer});if(Ir)for(var jr,Wr=0;Wr<Ir.length;Wr++)jr=Ir[Wr],L(jr.x0)&&L(jr.y0)&&ct.push(z(jr,We))}else P.log("Unrecognized trace type in hover:",It);if(We==="closest"&&ct.length>Re&&(ct.splice(0,Re),Lt=ct[0].distance),ge&&Ze!==0&&ct.length===0){Je.distance=Ze,Je.index=!1;var An=It._module.hoverPoints(Je,qe,it,"closest",{hoverLayer:se._hoverlayer});if(An&&(An=An.filter(function(pa){return pa.spikeDistance<=Ze})),An&&An.length){var wn,Tn=An.filter(function(pa){return pa.xa.showspikes&&pa.xa.spikesnap!=="hovered data"});if(Tn.length){var Rn=Tn[0];L(Rn.x0)&&L(Rn.y0)&&(wn=qt(Rn),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>wn.spikeDistance)&&(Me.vLinePoint=wn))}var Gn=An.filter(function(pa){return pa.ya.showspikes&&pa.ya.spikesnap!=="hovered data"});if(Gn.length){var ma=Gn[0];L(ma.x0)&&L(ma.y0)&&(wn=qt(ma),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>wn.spikeDistance)&&(Me.hLinePoint=wn))}}}}}Ot();function Jt(xn,On,br){for(var Ir=null,jr=1/0,Wr,An=0;An<xn.length;An++)Wr=xn[An].spikeDistance,br&&An===0&&(Wr=-1/0),Wr<=jr&&Wr<=On&&(Ir=xn[An],jr=Wr);return Ir}function qt(xn){return xn?{xa:xn.xa,ya:xn.ya,x:xn.xSpike!==void 0?xn.xSpike:(xn.x0+xn.x1)/2,y:xn.ySpike!==void 0?xn.ySpike:(xn.y0+xn.y1)/2,distance:xn.distance,spikeDistance:xn.spikeDistance,curveNumber:xn.trace.index,color:xn.color,pointNumber:xn.index}:null}var Vt={fullLayout:se,container:se._hoverlayer,event:Z},vr=V._spikepoints,gr={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};V._spikepoints=gr;var Gr=function(){ct.sort(function(xn,On){return xn.distance-On.distance}),ct=Q(ct,We)};Gr();var At=We.charAt(0),or=(At==="x"||At==="y")&&ct[0]&&i[ct[0].trace.type];if(ge&&Ze!==0&&ct.length!==0){var rr=ct.filter(function(xn){return xn.ya.showspikes}),Lr=Jt(rr,Ze,or);Me.hLinePoint=qt(Lr);var Tr=ct.filter(function(xn){return xn.xa.showspikes}),pt=Jt(Tr,Ze,or);Me.vLinePoint=qt(pt)}if(ct.length===0){var st=l.unhoverRaw(V,Z);return ge&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&K(vr)&&k(V,Me,Vt),st}if(ge&&K(vr)&&k(V,Me,Vt),x.isXYhover(Fe)&&ct[0].length!==0&&ct[0].trace.type!=="splom"){var yt=ct[0];b[yt.trace.type]?ct=ct.filter(function(xn){return xn.trace.index===yt.trace.index}):ct=[yt];var Pt=ct.length,Dt=re("x",yt,se),Nt=re("y",yt,se);Ot(Dt,Nt);var Zt=[],$t={},lr=0,ir=function(xn){var On=b[xn.trace.type]?m(xn):xn.trace.index;if(!$t[On])lr++,$t[On]=lr,Zt.push(xn);else{var br=$t[On]-1,Ir=Zt[br];br>0&&Math.abs(xn.distance)<Math.abs(Ir.distance)&&(Zt[br]=xn)}},He;for(He=0;He<Pt;He++)ir(ct[He]);for(He=ct.length-1;He>Pt-1;He--)ir(ct[He]);ct=Zt,Gr()}var Ge=V._hoverdata,Ct=[],Ut=oe(V),Kt=Y(V);for(dt=0;dt<ct.length;dt++){var Xt=ct[dt],ur=x.makeEventData(Xt,Xt.trace,Xt.cd);if(Xt.hovertemplate!==!1){var Ar=!1;Xt.cd[Xt.index]&&Xt.cd[Xt.index].ht&&(Ar=Xt.cd[Xt.index].ht),Xt.hovertemplate=Ar||Xt.trace.hovertemplate||!1}if(Xt.xa&&Xt.ya){var Rr=Xt.x0+Xt.xa._offset,wr=Xt.x1+Xt.xa._offset,er=Xt.y0+Xt.ya._offset,_r=Xt.y1+Xt.ya._offset,Vr=Math.min(Rr,wr),Br=Math.max(Rr,wr),yr=Math.min(er,_r),pn=Math.max(er,_r);ur.bbox={x0:Vr+Kt,x1:Br+Kt,y0:yr+Ut,y1:pn+Ut}}Xt.eventData=[ur],Ct.push(ur)}V._hoverdata=Ct;var an=We==="y"&&(lt.length>1||ct.length>1)||We==="closest"&&fe&&ct.length>1,Zr=o.combine(se.plot_bgcolor||o.background,se.paper_bgcolor),Nn=_(ct,{gd:V,hovermode:We,rotateLabels:an,bgColor:Zr,container:se._hoverlayer,outerContainer:se._paper.node(),commonLabelOpts:se.hoverlabel,hoverdistance:se.hoverdistance});if(x.isUnifiedHover(We)||(I(Nn,an?"xa":"ya",se),O(Nn,an,se._invScaleX,se._invScaleY)),J&&J.tagName){var fn=n.getComponentMethod("annotations","hasClickToShow")(V,Ct);r(p.select(J),fn?"pointer":"")}!J||ie||!N(V,Z,Ge)||(Ge&&V.emit("plotly_unhover",{event:Z,points:Ge}),V.emit("plotly_hover",{event:Z,points:V._hoverdata,xaxes:Pe,yaxes:Ie,xvals:at,yvals:tt}))}function m(V){return[V.trace.index,V.index,V.x0,V.y0,V.name,V.attr,V.xa?V.xa._id:"",V.ya?V.ya._id:""].join(",")}var F=/<extra>([\s\S]*)<\/extra>/;function _(V,Z){var ae=Z.gd,ie=ae._fullLayout,J=Z.hovermode,$=Z.rotateLabels,se=Z.bgColor,ee=Z.container,ue=Z.outerContainer,ge=Z.commonLabelOpts||{};if(V.length===0)return[[]];var Te=Z.fontFamily||h.HOVERFONT,xe=Z.fontSize||h.HOVERFONTSIZE,Pe=V[0],Ie=Pe.xa,Ae=Pe.ya,be=J.charAt(0),_e=be+"Label",Ve=Pe[_e];if(Ve===void 0&&Ie.type==="multicategory")for(var We=0;We<V.length&&(Ve=V[We][_e],Ve===void 0);We++);var ze=G(ae,ue),Ze=ze.top,ct=ze.width,lt=ze.height,at=Ve!==void 0&&Pe.distance<=Z.hoverdistance&&(J==="x"||J==="y");if(at){var tt=!0,dt,wt;for(dt=0;dt<V.length;dt++)if(tt&&V[dt].zLabel===void 0&&(tt=!1),wt=V[dt].hoverinfo||V[dt].trace.hoverinfo,wt){var Mt=Array.isArray(wt)?wt:wt.split("+");if(Mt.indexOf("all")===-1&&Mt.indexOf(J)===-1){at=!1;break}}tt&&(at=!1)}var It=ee.selectAll("g.axistext").data(at?[0]:[]);if(It.enter().append("g").classed("axistext",!0),It.exit().remove(),It.each(function(){var yt=p.select(this),Pt=P.ensureSingle(yt,"path","",function(Br){Br.style({"stroke-width":"1px"})}),Dt=P.ensureSingle(yt,"text","",function(Br){Br.attr("data-notex",1)}),Nt=ge.bgcolor||o.defaultLine,Zt=ge.bordercolor||o.contrast(Nt),$t=o.contrast(Nt),lr={family:ge.font.family||Te,size:ge.font.size||xe,color:ge.font.color||$t};Pt.style({fill:Nt,stroke:Zt}),Dt.text(Ve).call(u.font,lr).call(t.positionText,0,0).call(t.convertToTspans,ae),yt.attr("transform","");var ir=G(ae,Dt.node()),He,Ge;if(J==="x"){var Ct=Ie.side==="top"?"-":"";Dt.attr("text-anchor","middle").call(t.positionText,0,Ie.side==="top"?Ze-ir.bottom-y-w:Ze-ir.top+y+w),He=Ie._offset+(Pe.x0+Pe.x1)/2,Ge=Ae._offset+(Ie.side==="top"?0:Ae._length);var Ut=ir.width/2+w;He<Ut?(He=Ut,Pt.attr("d","M-"+(Ut-y)+",0L-"+(Ut-y*2)+","+Ct+y+"H"+(w+ir.width/2)+"v"+Ct+(w*2+ir.height)+"H-"+Ut+"V"+Ct+y+"Z")):He>ie.width-Ut?(He=ie.width-Ut,Pt.attr("d","M"+(Ut-y)+",0L"+Ut+","+Ct+y+"v"+Ct+(w*2+ir.height)+"H-"+Ut+"V"+Ct+y+"H"+(Ut-y*2)+"Z")):Pt.attr("d","M0,0L"+y+","+Ct+y+"H"+(w+ir.width/2)+"v"+Ct+(w*2+ir.height)+"H-"+(w+ir.width/2)+"V"+Ct+y+"H-"+y+"Z")}else{var Kt,Xt,ur;Ae.side==="right"?(Kt="start",Xt=1,ur="",He=Ie._offset+Ie._length):(Kt="end",Xt=-1,ur="-",He=Ie._offset),Ge=Ae._offset+(Pe.y0+Pe.y1)/2,Dt.attr("text-anchor",Kt),Pt.attr("d","M0,0L"+ur+y+","+y+"V"+(w+ir.height/2)+"h"+ur+(w*2+ir.width)+"V-"+(w+ir.height/2)+"H"+ur+y+"V-"+y+"Z");var Ar=ir.height/2,Rr=Ze-ir.top-Ar,wr="clip"+ie._uid+"commonlabel"+Ae._id,er;if(He<ir.width+2*w+y){er="M-"+(y+w)+"-"+Ar+"h-"+(ir.width-w)+"V"+Ar+"h"+(ir.width-w)+"Z";var _r=ir.width-He+w;t.positionText(Dt,_r,Rr),Kt==="end"&&Dt.selectAll("tspan").each(function(){var Br=p.select(this),yr=u.tester.append("text").text(Br.text()).call(u.font,lr),pn=G(ae,yr.node());Math.round(pn.width)<Math.round(ir.width)&&Br.attr("x",_r-pn.width),yr.remove()})}else t.positionText(Dt,Xt*(w+y),Rr),er=null;var Vr=ie._topclips.selectAll("#"+wr).data(er?[0]:[]);Vr.enter().append("clipPath").attr("id",wr).append("path"),Vr.exit().remove(),Vr.select("path").attr("d",er),u.setClipUrl(Dt,er?wr:null,ae)}yt.attr("transform",A(He,Ge))}),x.isUnifiedHover(J)){ee.selectAll("g.hovertext").remove();var $e=V.filter(function(yt){return yt.hoverinfo!=="none"});if($e.length===0)return;var ke=ie.hoverlabel,Fe=ke.font,qe={showlegend:!0,legend:{title:{text:Ve,font:Fe},font:Fe,bgcolor:ke.bgcolor,bordercolor:ke.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ie.legend?ie.legend.traceorder:void 0,orientation:"v"}},it={font:Fe};T(qe,it,ae._fullData);var Je=it.legend;Je.entries=[];for(var Re=0;Re<$e.length;Re++){var Me=$e[Re];if(Me.hoverinfo!=="none"){var fe=B(Me,!0,J,ie,Ve),ye=fe[0],Le=fe[1];Me.name=Le,Le!==""?Me.text=Le+" : "+ye:Me.text=ye;var Oe=Me.cd[Me.index];Oe&&(Oe.mc&&(Me.mc=Oe.mc),Oe.mcc&&(Me.mc=Oe.mcc),Oe.mlc&&(Me.mlc=Oe.mlc),Oe.mlcc&&(Me.mlc=Oe.mlcc),Oe.mlw&&(Me.mlw=Oe.mlw),Oe.mrc&&(Me.mrc=Oe.mrc),Oe.dir&&(Me.dir=Oe.dir)),Me._distinct=!0,Je.entries.push([Me])}}Je.entries.sort(function(yt,Pt){return yt[0].trace.index-Pt[0].trace.index}),Je.layer=ee,Je._inHover=!0,Je._groupTitleFont=ke.grouptitlefont,f(ae,Je);var ht=ee.select("g.legend"),vt=G(ae,ht.node()),Lt=vt.width+2*w,Ot=vt.height+2*w,Jt=$e[0],qt=(Jt.x0+Jt.x1)/2,Vt=(Jt.y0+Jt.y1)/2,vr=!(n.traceIs(Jt.trace,"bar-like")||n.traceIs(Jt.trace,"box-violin")),gr,Gr;be==="y"?vr?(Gr=Vt-w,gr=Vt+w):(Gr=Math.min.apply(null,$e.map(function(yt){return Math.min(yt.y0,yt.y1)})),gr=Math.max.apply(null,$e.map(function(yt){return Math.max(yt.y0,yt.y1)}))):Gr=gr=P.mean($e.map(function(yt){return(yt.y0+yt.y1)/2}))-Ot/2;var At,or;be==="x"?vr?(At=qt+w,or=qt-w):(At=Math.max.apply(null,$e.map(function(yt){return Math.max(yt.x0,yt.x1)})),or=Math.min.apply(null,$e.map(function(yt){return Math.min(yt.x0,yt.x1)}))):At=or=P.mean($e.map(function(yt){return(yt.x0+yt.x1)/2}))-Lt/2;var rr=Ie._offset,Lr=Ae._offset;gr+=Lr,At+=rr,or+=rr-Lt,Gr+=Lr-Ot;var Tr,pt;return At+Lt<ct&&At>=0?Tr=At:or+Lt<ct&&or>=0?Tr=or:rr+Lt<ct?Tr=rr:At-qt<qt-or+Lt?Tr=ct-Lt:Tr=0,Tr+=w,gr+Ot<lt&&gr>=0?pt=gr:Gr+Ot<lt&&Gr>=0?pt=Gr:Lr+Ot<lt?pt=Lr:gr-Vt<Vt-Gr+Ot?pt=lt-Ot:pt=0,pt+=w,ht.attr("transform",A(Tr-1,pt-1)),ht}var st=ee.selectAll("g.hovertext").data(V,function(yt){return m(yt)});return st.enter().append("g").classed("hovertext",!0).each(function(){var yt=p.select(this);yt.append("rect").call(o.fill,o.addOpacity(se,.8)),yt.append("text").classed("name",!0),yt.append("path").style("stroke-width","1px"),yt.append("text").classed("nums",!0).call(u.font,Te,xe)}),st.exit().remove(),st.each(function(yt){var Pt=p.select(this).attr("transform",""),Dt=yt.color;Array.isArray(Dt)&&(Dt=Dt[yt.eventData[0].pointNumber]);var Nt=yt.bgcolor||Dt,Zt=o.combine(o.opacity(Nt)?Nt:o.defaultLine,se),$t=o.combine(o.opacity(Dt)?Dt:o.defaultLine,se),lr=yt.borderColor||o.contrast(Zt),ir=B(yt,at,J,ie,Ve,Pt),He=ir[0],Ge=ir[1],Ct=Pt.select("text.nums").call(u.font,yt.fontFamily||Te,yt.fontSize||xe,yt.fontColor||lr).text(He).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ae),Ut=Pt.select("text.name"),Kt=0,Xt=0;if(Ge&&Ge!==He){Ut.call(u.font,yt.fontFamily||Te,yt.fontSize||xe,$t).text(Ge).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ae);var ur=G(ae,Ut.node());Kt=ur.width+2*w,Xt=ur.height+2*w}else Ut.remove(),Pt.select("rect").remove();Pt.select("path").style({fill:Zt,stroke:lr});var Ar=yt.xa._offset+(yt.x0+yt.x1)/2,Rr=yt.ya._offset+(yt.y0+yt.y1)/2,wr=Math.abs(yt.x1-yt.x0),er=Math.abs(yt.y1-yt.y0),_r=G(ae,Ct.node()),Vr=_r.width/ie._invScaleX,Br=_r.height/ie._invScaleY;yt.ty0=(Ze-_r.top)/ie._invScaleY,yt.bx=Vr+2*w,yt.by=Math.max(Br+2*w,Xt),yt.anchor="start",yt.txwidth=Vr,yt.tx2width=Kt,yt.offset=0;var yr=(Vr+y+w+Kt)*ie._invScaleX,pn,an;if($)yt.pos=Ar,pn=Rr+er/2+yr<=lt,an=Rr-er/2-yr>=0,(yt.idealAlign==="top"||!pn)&&an?(Rr-=er/2,yt.anchor="end"):pn?(Rr+=er/2,yt.anchor="start"):yt.anchor="middle";else if(yt.pos=Rr,pn=Ar+wr/2+yr<=ct,an=Ar-wr/2-yr>=0,(yt.idealAlign==="left"||!pn)&&an)Ar-=wr/2,yt.anchor="end";else if(pn)Ar+=wr/2,yt.anchor="start";else{yt.anchor="middle";var Zr=yr/2,Nn=Ar+Zr-ct,fn=Ar-Zr;Nn>0&&(Ar-=Nn),fn<0&&(Ar+=-fn)}Ct.attr("text-anchor",yt.anchor),Kt&&Ut.attr("text-anchor",yt.anchor),Pt.attr("transform",A(Ar,Rr)+($?v(s):""))}),st}function B(V,Z,ae,ie,J,$){var se="",ee="";V.nameOverride!==void 0&&(V.name=V.nameOverride),V.name&&(V.trace._meta&&(V.name=P.templateString(V.name,V.trace._meta)),se=q(V.name,V.nameLength));var ue=ae.charAt(0),ge=ue==="x"?"y":"x";V.zLabel!==void 0?(V.xLabel!==void 0&&(ee+="x: "+V.xLabel+"<br>"),V.yLabel!==void 0&&(ee+="y: "+V.yLabel+"<br>"),V.trace.type!=="choropleth"&&V.trace.type!=="choroplethmapbox"&&(ee+=(ee?"z: ":"")+V.zLabel)):Z&&V[ue+"Label"]===J?ee=V[ge+"Label"]||"":V.xLabel===void 0?V.yLabel!==void 0&&V.trace.type!=="scattercarpet"&&(ee=V.yLabel):V.yLabel===void 0?ee=V.xLabel:ee="("+V.xLabel+", "+V.yLabel+")",(V.text||V.text===0)&&!Array.isArray(V.text)&&(ee+=(ee?"<br>":"")+V.text),V.extraText!==void 0&&(ee+=(ee?"<br>":"")+V.extraText),$&&ee===""&&!V.hovertemplate&&(se===""&&$.remove(),ee=se);var Te=V.hovertemplate||!1;if(Te){var xe=V.hovertemplateLabels||V;V[ue+"Label"]!==J&&(xe[ue+"other"]=xe[ue+"Val"],xe[ue+"otherLabel"]=xe[ue+"Label"]),ee=P.hovertemplateString(Te,xe,ie._d3locale,V.eventData[0]||{},V.trace._meta),ee=ee.replace(F,function(Pe,Ie){return se=q(Ie,V.nameLength),""})}return[ee,se]}function I(V,Z,ae){var ie=0,J=1,$=V.size(),se=new Array($),ee=0;V.each(function(at){var tt=at[Z],dt=tt._id.charAt(0)==="x",wt=tt.range;ee===0&&wt&&wt[0]>wt[1]!==dt&&(J=-1),se[ee++]=[{datum:at,traceIndex:at.trace.index,dp:0,pos:at.pos,posref:at.posref,size:at.by*(dt?S:1)/2,pmin:0,pmax:dt?ae.width:ae.height}]}),se.sort(function(at,tt){return at[0].posref-tt[0].posref||J*(tt[0].traceIndex-at[0].traceIndex)});var ue,ge,Te,xe,Pe,Ie,Ae;function be(at){var tt=at[0],dt=at[at.length-1];if(ge=tt.pmin-tt.pos-tt.dp+tt.size,Te=dt.pos+dt.dp+dt.size-tt.pmax,ge>.01){for(Pe=at.length-1;Pe>=0;Pe--)at[Pe].dp+=ge;ue=!1}if(!(Te<.01)){if(ge<-.01){for(Pe=at.length-1;Pe>=0;Pe--)at[Pe].dp-=Te;ue=!1}if(ue){var wt=0;for(xe=0;xe<at.length;xe++)Ie=at[xe],Ie.pos+Ie.dp+Ie.size>tt.pmax&&wt++;for(xe=at.length-1;xe>=0&&!(wt<=0);xe--)Ie=at[xe],Ie.pos>tt.pmax-1&&(Ie.del=!0,wt--);for(xe=0;xe<at.length&&!(wt<=0);xe++)if(Ie=at[xe],Ie.pos<tt.pmin+1)for(Ie.del=!0,wt--,Te=Ie.size*2,Pe=at.length-1;Pe>=0;Pe--)at[Pe].dp-=Te;for(xe=at.length-1;xe>=0&&!(wt<=0);xe--)Ie=at[xe],Ie.pos+Ie.dp+Ie.size>tt.pmax&&(Ie.del=!0,wt--)}}}for(;!ue&&ie<=$;){for(ie++,ue=!0,xe=0;xe<se.length-1;){var _e=se[xe],Ve=se[xe+1],We=_e[_e.length-1],ze=Ve[0];if(ge=We.pos+We.dp+We.size-ze.pos-ze.dp+ze.size,ge>.01&&We.pmin===ze.pmin&&We.pmax===ze.pmax){for(Pe=Ve.length-1;Pe>=0;Pe--)Ve[Pe].dp+=ge;for(_e.push.apply(_e,Ve),se.splice(xe+1,1),Ae=0,Pe=_e.length-1;Pe>=0;Pe--)Ae+=_e[Pe].dp;for(Te=Ae/_e.length,Pe=_e.length-1;Pe>=0;Pe--)_e[Pe].dp-=Te;ue=!1}else xe++}se.forEach(be)}for(xe=se.length-1;xe>=0;xe--){var Ze=se[xe];for(Pe=Ze.length-1;Pe>=0;Pe--){var ct=Ze[Pe],lt=ct.datum;lt.offset=ct.dp,lt.del=ct.del}}}function O(V,Z,ae,ie){var J=function(se){return se*ae},$=function(se){return se*ie};V.each(function(se){var ee=p.select(this);if(se.del)return ee.remove();var ue=ee.select("text.nums"),ge=se.anchor,Te=ge==="end"?-1:1,xe={start:1,end:-1,middle:0}[ge],Pe=xe*(y+w),Ie=Pe+xe*(se.txwidth+w),Ae=0,be=se.offset,_e=ge==="middle";_e&&(Pe-=se.tx2width/2,Ie+=se.txwidth/2+w),Z&&(be*=-C,Ae=se.offset*M),ee.select("path").attr("d",_e?"M-"+J(se.bx/2+se.tx2width/2)+","+$(be-se.by/2)+"h"+J(se.bx)+"v"+$(se.by)+"h-"+J(se.bx)+"Z":"M0,0L"+J(Te*y+Ae)+","+$(y+be)+"v"+$(se.by/2-y)+"h"+J(Te*se.bx)+"v-"+$(se.by)+"H"+J(Te*y+Ae)+"V"+$(be-y)+"Z");var Ve=Ae+Pe,We=be+se.ty0-se.by/2+w,ze=se.textAlign||"auto";ze!=="auto"&&(ze==="left"&&ge!=="start"?(ue.attr("text-anchor","start"),Ve=_e?-se.bx/2-se.tx2width/2+w:-se.bx-w):ze==="right"&&ge!=="end"&&(ue.attr("text-anchor","end"),Ve=_e?se.bx/2-se.tx2width/2-w:se.bx+w)),ue.call(t.positionText,J(Ve),$(We)),se.tx2width&&(ee.select("text.name").call(t.positionText,J(Ie+xe*w+Ae),$(be+se.ty0-se.by/2+w)),ee.select("rect").call(u.setRect,J(Ie+(xe-1)*se.tx2width/2+Ae),$(be-se.by/2-1),J(se.tx2width),$(se.by+2)))})}function z(V,Z){var ae=V.index,ie=V.trace||{},J=V.cd[0],$=V.cd[ae]||{};function se(Pe){return Pe||L(Pe)&&Pe===0}var ee=Array.isArray(ae)?function(Pe,Ie){var Ae=P.castOption(J,ae,Pe);return se(Ae)?Ae:P.extractOption({},ie,"",Ie)}:function(Pe,Ie){return P.extractOption($,ie,Pe,Ie)};function ue(Pe,Ie,Ae){var be=ee(Ie,Ae);se(be)&&(V[Pe]=be)}if(ue("hoverinfo","hi","hoverinfo"),ue("bgcolor","hbg","hoverlabel.bgcolor"),ue("borderColor","hbc","hoverlabel.bordercolor"),ue("fontFamily","htf","hoverlabel.font.family"),ue("fontSize","hts","hoverlabel.font.size"),ue("fontColor","htc","hoverlabel.font.color"),ue("nameLength","hnl","hoverlabel.namelength"),ue("textAlign","hta","hoverlabel.align"),V.posref=Z==="y"||Z==="closest"&&ie.orientation==="h"?V.xa._offset+(V.x0+V.x1)/2:V.ya._offset+(V.y0+V.y1)/2,V.x0=P.constrain(V.x0,0,V.xa._length),V.x1=P.constrain(V.x1,0,V.xa._length),V.y0=P.constrain(V.y0,0,V.ya._length),V.y1=P.constrain(V.y1,0,V.ya._length),V.xLabelVal!==void 0&&(V.xLabel="xLabel"in V?V.xLabel:c.hoverLabelText(V.xa,V.xLabelVal,ie.xhoverformat),V.xVal=V.xa.c2d(V.xLabelVal)),V.yLabelVal!==void 0&&(V.yLabel="yLabel"in V?V.yLabel:c.hoverLabelText(V.ya,V.yLabelVal,ie.yhoverformat),V.yVal=V.ya.c2d(V.yLabelVal)),V.zLabelVal!==void 0&&V.zLabel===void 0&&(V.zLabel=String(V.zLabelVal)),!isNaN(V.xerr)&&!(V.xa.type==="log"&&V.xerr<=0)){var ge=c.tickText(V.xa,V.xa.c2l(V.xerr),"hover").text;V.xerrneg!==void 0?V.xLabel+=" +"+ge+" / -"+c.tickText(V.xa,V.xa.c2l(V.xerrneg),"hover").text:V.xLabel+=" ± "+ge,Z==="x"&&(V.distance+=1)}if(!isNaN(V.yerr)&&!(V.ya.type==="log"&&V.yerr<=0)){var Te=c.tickText(V.ya,V.ya.c2l(V.yerr),"hover").text;V.yerrneg!==void 0?V.yLabel+=" +"+Te+" / -"+c.tickText(V.ya,V.ya.c2l(V.yerrneg),"hover").text:V.yLabel+=" ± "+Te,Z==="y"&&(V.distance+=1)}var xe=V.hoverinfo||V.trace.hoverinfo;return xe&&xe!=="all"&&(xe=Array.isArray(xe)?xe:xe.split("+"),xe.indexOf("x")===-1&&(V.xLabel=void 0),xe.indexOf("y")===-1&&(V.yLabel=void 0),xe.indexOf("z")===-1&&(V.zLabel=void 0),xe.indexOf("text")===-1&&(V.text=void 0),xe.indexOf("name")===-1&&(V.name=void 0)),V}function k(V,Z,ae){var ie=ae.container,J=ae.fullLayout,$=J._size,se=ae.event,ee=!!Z.hLinePoint,ue=!!Z.vLinePoint,ge,Te;if(ie.selectAll(".spikeline").remove(),!!(ue||ee)){var xe=o.combine(J.plot_bgcolor,J.paper_bgcolor);if(ee){var Pe=Z.hLinePoint,Ie,Ae;ge=Pe&&Pe.xa,Te=Pe&&Pe.ya;var be=Te.spikesnap;be==="cursor"?(Ie=se.pointerX,Ae=se.pointerY):(Ie=ge._offset+Pe.x,Ae=Te._offset+Pe.y);var _e=a.readability(Pe.color,xe)<1.5?o.contrast(xe):Pe.color,Ve=Te.spikemode,We=Te.spikethickness,ze=Te.spikecolor||_e,Ze=c.getPxPosition(V,Te),ct,lt;if(Ve.indexOf("toaxis")!==-1||Ve.indexOf("across")!==-1){if(Ve.indexOf("toaxis")!==-1&&(ct=Ze,lt=Ie),Ve.indexOf("across")!==-1){var at=Te._counterDomainMin,tt=Te._counterDomainMax;Te.anchor==="free"&&(at=Math.min(at,Te.position),tt=Math.max(tt,Te.position)),ct=$.l+at*$.w,lt=$.l+tt*$.w}ie.insert("line",":first-child").attr({x1:ct,x2:lt,y1:Ae,y2:Ae,"stroke-width":We,stroke:ze,"stroke-dasharray":u.dashStyle(Te.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:ct,x2:lt,y1:Ae,y2:Ae,"stroke-width":We+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}Ve.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:Ze+(Te.side!=="right"?We:-We),cy:Ae,r:We,fill:ze}).classed("spikeline",!0)}if(ue){var dt=Z.vLinePoint,wt,Mt;ge=dt&&dt.xa,Te=dt&&dt.ya;var It=ge.spikesnap;It==="cursor"?(wt=se.pointerX,Mt=se.pointerY):(wt=ge._offset+dt.x,Mt=Te._offset+dt.y);var $e=a.readability(dt.color,xe)<1.5?o.contrast(xe):dt.color,ke=ge.spikemode,Fe=ge.spikethickness,qe=ge.spikecolor||$e,it=c.getPxPosition(V,ge),Je,Re;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(Je=it,Re=Mt),ke.indexOf("across")!==-1){var Me=ge._counterDomainMin,fe=ge._counterDomainMax;ge.anchor==="free"&&(Me=Math.min(Me,ge.position),fe=Math.max(fe,ge.position)),Je=$.t+(1-fe)*$.h,Re=$.t+(1-Me)*$.h}ie.insert("line",":first-child").attr({x1:wt,x2:wt,y1:Je,y2:Re,"stroke-width":Fe,stroke:qe,"stroke-dasharray":u.dashStyle(ge.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),ie.insert("line",":first-child").attr({x1:wt,x2:wt,y1:Je,y2:Re,"stroke-width":Fe+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&ie.insert("circle",":first-child").attr({cx:wt,cy:it-(ge.side!=="top"?Fe:-Fe),r:Fe,fill:qe}).classed("spikeline",!0)}}}function N(V,Z,ae){if(!ae||ae.length!==V._hoverdata.length)return!0;for(var ie=ae.length-1;ie>=0;ie--){var J=ae[ie],$=V._hoverdata[ie];if(J.curveNumber!==$.curveNumber||String(J.pointNumber)!==String($.pointNumber)||String(J.pointNumbers)!==String($.pointNumbers))return!0}return!1}function K(V,Z){return!Z||Z.vLinePoint!==V._spikepoints.vLinePoint||Z.hLinePoint!==V._spikepoints.hLinePoint}function q(V,Z){return t.plainText(V||"",{len:Z,allowedTags:["br","sub","sup","b","i","em"]})}function Q(V,Z){for(var ae=Z.charAt(0),ie=[],J=[],$=[],se=0;se<V.length;se++){var ee=V[se];n.traceIs(ee.trace,"bar-like")||n.traceIs(ee.trace,"box-violin")?$.push(ee):ee.trace[ae+"period"]?J.push(ee):ie.push(ee)}return ie.concat(J).concat($)}function re(V,Z,ae){var ie=Z[V+"a"],J=Z[V+"Val"],$=Z.cd[0];if(ie.type==="category"||ie.type==="multicategory")J=ie._categoriesMap[J];else if(ie.type==="date"){var se=Z.trace[V+"periodalignment"];if(se){var ee=Z.cd[Z.index],ue=ee[V+"Start"];ue===void 0&&(ue=ee[V]);var ge=ee[V+"End"];ge===void 0&&(ge=ee[V]);var Te=ge-ue;se==="end"?J+=Te:se==="middle"&&(J+=Te/2)}J=ie.d2c(J)}return $&&$.t&&$.t.posLetter===ie._id&&(ae.boxmode==="group"||ae.violinmode==="group")&&(J+=$.t.dPos),J}function oe(V){return V.offsetTop+V.clientTop}function Y(V){return V.offsetLeft+V.clientLeft}function G(V,Z){var ae=V._fullLayout,ie=Z.getBoundingClientRect(),J=ie.x,$=ie.y,se=J+ie.width,ee=$+ie.height,ue=P.apply3DTransform(ae._invTransform)(J,$),ge=P.apply3DTransform(ae._invTransform)(se,ee),Te=ue[0],xe=ue[1],Pe=ge[0],Ie=ge[1];return{x:Te,y:xe,width:Pe-Te,height:Ie-xe,top:Math.min(xe,Ie),left:Math.min(Te,Pe),right:Math.max(Te,Pe),bottom:Math.max(xe,Ie)}}},38048:function(W,U,e){var p=e(71828),L=e(7901),a=e(23469).isUnifiedHover;W.exports=function(A,v,g,t){t=t||{};var r=v.legend;function u(o){t.font[o]||(t.font[o]=r?v.legend.font[o]:v.font[o])}v&&a(v.hovermode)&&(t.font||(t.font={}),u("size"),u("family"),u("color"),r?(t.bgcolor||(t.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),g("hoverlabel.bgcolor",t.bgcolor),g("hoverlabel.bordercolor",t.bordercolor),g("hoverlabel.namelength",t.namelength),p.coerceFont(g,"hoverlabel.font",t.font),g("hoverlabel.align",t.align)}},98212:function(W,U,e){var p=e(71828),L=e(528);W.exports=function(P,A){function v(g,t){return A[g]!==void 0?A[g]:p.coerce(P,A,L,g,t)}return v("clickmode"),v("hovermode")}},30211:function(W,U,e){var p=e(39898),L=e(71828),a=e(28569),P=e(23469),A=e(528),v=e(88335);W.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:A},attributes:e(77914),layoutAttributes:A,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:g,click:e(75914)};function g(u){var o=L.isD3Selection(u)?u:p.select(u);o.selectAll("g.hovertext").remove(),o.selectAll(".spikeline").remove()}function t(u,o,l){return L.castOption(u,o,"hoverlabel."+l)}function r(u,o,l){function c(n){return L.coerceHoverinfo({hoverinfo:n},{_module:u._module},o)}return L.castOption(u,l,"hoverinfo",c)}},528:function(W,U,e){var p=e(26675),L=e(41940),a=L({editType:"none"});a.family.dflt=p.HOVERFONT,a.size.dflt=p.HOVERFONTSIZE,W.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(W,U,e){var p=e(71828),L=e(528),a=e(98212),P=e(38048);W.exports=function(v,g){function t(n,x){return p.coerce(v,g,L,n,x)}var r=a(v,g);r&&(t("hoverdistance"),t("spikedistance"));var u=t("dragmode");u==="select"&&t("selectdirection");var o=g._has("mapbox"),l=g._has("geo"),c=g._basePlotModules.length;g.dragmode==="zoom"&&((o||l)&&c===1||o&&l&&c===2)&&(g.dragmode="pan"),P(v,g,t),p.coerceFont(t,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},22774:function(W,U,e){var p=e(71828),L=e(38048),a=e(528);W.exports=function(A,v){function g(t,r){return p.coerce(A,v,a,t,r)}L(A,v,g)}},83312:function(W,U,e){var p=e(71828),L=e(30587).counter,a=e(27670).Y,P=e(85555).idRegex,A=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(l,c,n){var x=c[n+"axes"],h=Object.keys((l._splomAxes||{})[n]||{});if(Array.isArray(x))return x;if(h.length)return h}function t(l,c){var n=l.grid||{},x=g(c,n,"x"),h=g(c,n,"y");if(!l.grid&&!x&&!h)return;var T=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),f=Array.isArray(x),s=Array.isArray(h),d=f&&x!==n.xaxes&&s&&h!==n.yaxes,S,M;T?(S=n.subplots.length,M=n.subplots[0].length):(s&&(S=h.length),f&&(M=x.length));var C=A.newContainer(c,"grid");function y(O,z){return p.coerce(n,C,v,O,z)}var w=y("rows",S),b=y("columns",M);if(!(w*b>1)){delete c.grid;return}if(!T&&!f&&!s){var i=y("pattern")==="independent";i&&(T=!0)}C._hasSubplotGrid=T;var E=y("roworder"),m=E==="top to bottom",F=T?.2:.1,_=T?.3:.1,B,I;d&&c._splomGridDflt&&(B=c._splomGridDflt.xside,I=c._splomGridDflt.yside),C._domains={x:r("x",y,F,B,b),y:r("y",y,_,I,w,m)}}function r(l,c,n,x,h,T){var f=c(l+"gap",n),s=c("domain."+l);c(l+"side",x);for(var d=new Array(h),S=s[0],M=(s[1]-S)/(h-f),C=M*(1-f),y=0;y<h;y++){var w=S+M*y;d[T?h-1-y:y]=[w,w+C]}return d}function u(l,c){var n=c.grid;if(!(!n||!n._domains)){var x=l.grid||{},h=c._subplots,T=n._hasSubplotGrid,f=n.rows,s=n.columns,d=n.pattern==="independent",S,M,C,y,w,b,i,E=n._axisMap={};if(T){var m=x.subplots||[];b=n.subplots=new Array(f);var F=1;for(S=0;S<f;S++){var _=b[S]=new Array(s),B=m[S]||[];for(M=0;M<s;M++)if(d?(w=F===1?"xy":"x"+F+"y"+F,F++):w=B[M],_[M]="",h.cartesian.indexOf(w)!==-1){if(i=w.indexOf("y"),C=w.slice(0,i),y=w.slice(i),E[C]!==void 0&&E[C]!==M||E[y]!==void 0&&E[y]!==S)continue;_[M]=w,E[C]=M,E[y]=S}}}else{var I=g(c,x,"x"),O=g(c,x,"y");n.xaxes=o(I,h.xaxis,s,E,"x"),n.yaxes=o(O,h.yaxis,f,E,"y")}var z=n._anchors={},k=n.roworder==="top to bottom";for(var N in E){var K=N.charAt(0),q=n[K+"side"],Q,re,oe;if(q.length<8)z[N]="free";else if(K==="x"){if(q.charAt(0)==="t"===k?(Q=0,re=1,oe=f):(Q=f-1,re=-1,oe=-1),T){var Y=E[N];for(S=Q;S!==oe;S+=re)if(w=b[S][Y],!!w&&(i=w.indexOf("y"),w.slice(0,i)===N)){z[N]=w.slice(i);break}}else for(S=Q;S!==oe;S+=re)if(y=n.yaxes[S],h.cartesian.indexOf(N+y)!==-1){z[N]=y;break}}else if(q.charAt(0)==="l"?(Q=0,re=1,oe=s):(Q=s-1,re=-1,oe=-1),T){var G=E[N];for(S=Q;S!==oe;S+=re)if(w=b[G][S],!!w&&(i=w.indexOf("y"),w.slice(i)===N)){z[N]=w.slice(0,i);break}}else for(S=Q;S!==oe;S+=re)if(C=n.xaxes[S],h.cartesian.indexOf(C+N)!==-1){z[N]=C;break}}}}function o(l,c,n,x,h){var T=new Array(n),f;function s(d,S){c.indexOf(S)!==-1&&x[S]===void 0?(T[d]=S,x[S]=d):T[d]=""}if(Array.isArray(l))for(f=0;f<n;f++)s(f,l[f]);else for(s(0,h),f=1;f<n;f++)s(f,h+(f+1));return T}W.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:u}},69819:function(W,U,e){var p=e(85555),L=e(44467).templatedArray;e(24695),W.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(W,U,e){var p=e(92770),L=e(58163);W.exports=function(P,A,v,g){A=A||{};var t=v==="log"&&A.type==="linear",r=v==="linear"&&A.type==="log";if(t||r){for(var u=P._fullLayout.images,o=A._id.charAt(0),l,c,n=0;n<u.length;n++)if(l=u[n],c="images["+n+"].",l[o+"ref"]===A._id){var x=l[o],h=l["size"+o],T=null,f=null;if(t){T=L(x,A.range);var s=h/Math.pow(10,T)/2;f=2*Math.log(s+Math.sqrt(1+s*s))/Math.LN10}else T=Math.pow(10,x),f=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));p(T)?p(f)||(f=null):(T=null,f=null),g(c+o,T),g(c+"size"+o,f)}}}},81603:function(W,U,e){var p=e(71828),L=e(89298),a=e(85501),P=e(69819),A="images";W.exports=function(t,r){var u={name:A,handleItemDefaults:v};a(t,r,u)};function v(g,t,r){function u(s,d){return p.coerce(g,t,P,s,d)}var o=u("source"),l=u("visible",!!o);if(!l)return t;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var c={_fullLayout:r},n=["x","y"],x=0;x<2;x++){var h=n[x],T=L.coerceRef(g,t,c,h,"paper",void 0);if(T!=="paper"){var f=L.getFromId(c,T);f._imgIndices.push(t._index)}L.coercePosition(t,c,u,T,h,0)}return t}},80750:function(W,U,e){var p=e(39898),L=e(91424),a=e(89298),P=e(41675),A=e(77922);W.exports=function(g){var t=g._fullLayout,r=[],u={},o=[],l,c;for(c=0;c<t.images.length;c++){var n=t.images[c];if(n.visible)if(n.layer==="below"&&n.xref!=="paper"&&n.yref!=="paper"){l=P.ref2id(n.xref)+P.ref2id(n.yref);var x=t._plots[l];if(!x){o.push(n);continue}x.mainplot&&(l=x.mainplot.id),u[l]||(u[l]=[]),u[l].push(n)}else n.layer==="above"?r.push(n):o.push(n)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(y){var w=p.select(this);if(this._imgSrc!==y.source)if(w.attr("xmlns",A.svg),y.source&&y.source.slice(0,5)==="data:")w.attr("xlink:href",y.source),this._imgSrc=y.source;else{var b=new Promise(function(i){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=m,E.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height;var _=F.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var B=F.toDataURL("image/png");w.attr("xlink:href",B),i()},w.on("error",m),E.src=y.source,this._imgSrc=y.source;function m(){w.remove(),i()}}.bind(this));g._promises.push(b)}}function f(y){var w=p.select(this),b=a.getFromId(g,y.xref),i=a.getFromId(g,y.yref),E=a.getRefType(y.xref)==="domain",m=a.getRefType(y.yref)==="domain",F=t._size,_,B;b!==void 0?_=typeof y.xref=="string"&&E?b._length*y.sizex:Math.abs(b.l2p(y.sizex)-b.l2p(0)):_=y.sizex*F.w,i!==void 0?B=typeof y.yref=="string"&&m?i._length*y.sizey:Math.abs(i.l2p(y.sizey)-i.l2p(0)):B=y.sizey*F.h;var I=_*h.x[y.xanchor].offset,O=B*h.y[y.yanchor].offset,z=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,k,N;switch(b!==void 0?k=typeof y.xref=="string"&&E?b._length*y.x+b._offset:b.r2p(y.x)+b._offset:k=y.x*F.w+F.l,k+=I,i!==void 0?N=typeof y.yref=="string"&&m?i._length*(1-y.y)+i._offset:i.r2p(y.y)+i._offset:N=F.h-y.y*F.h+F.t,N+=O,y.sizing){case"fill":z+=" slice";break;case"stretch":z="none";break}w.attr({x:k,y:N,width:_,height:B,preserveAspectRatio:z,opacity:y.opacity});var K=b&&a.getRefType(y.xref)!=="domain"?b._id:"",q=i&&a.getRefType(y.yref)!=="domain"?i._id:"",Q=K+q;L.setClipUrl(w,Q?"clip"+t._uid+Q:null,g)}var s=t._imageLowerLayer.selectAll("image").data(o),d=t._imageUpperLayer.selectAll("image").data(r);s.enter().append("image"),d.enter().append("image"),s.exit().remove(),d.exit().remove(),s.each(function(y){T.bind(this)(y),f.bind(this)(y)}),d.each(function(y){T.bind(this)(y),f.bind(this)(y)});var S=Object.keys(t._plots);for(c=0;c<S.length;c++){l=S[c];var M=t._plots[l];if(M.imagelayer){var C=M.imagelayer.selectAll("image").data(u[l]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(y){T.bind(this)(y),f.bind(this)(y)})}}}},68804:function(W,U,e){W.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(W,U,e){var p=e(41940),L=e(22399);W.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(W){W.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(W,U,e){var p=e(73972),L=e(71828),a=e(44467),P=e(9012),A=e(33030),v=e(10820),g=e(10130);W.exports=function(r,u,o){var l=r.legend||{},c=a.newContainer(u,"legend");function n(B,I){return L.coerce(l,c,A,B,I)}for(var x,h=function(B,I){var O=x._input,z=x;return L.coerce(O,z,P,B,I)},T=u.font||{},f=L.coerceFont(n,"grouptitlefont",L.extendFlat({},T,{size:Math.round(T.size*1.1)})),s=0,d=!1,S="normal",M=0;M<o.length;M++)x=o[M],x.visible&&((x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&x._module.attributes.showlegend.dflt===!1))&&(s++,x.showlegend&&(d=!0,(p.traceIs(x,"pie-like")||x._input.showlegend===!0)&&s++),L.coerceFont(h,"legendgrouptitle.font",f)),(p.traceIs(x,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(x.fill)!==-1)&&(S=g.isGrouped({traceorder:S})?"grouped+reversed":"reversed"),x.legendgroup!==void 0&&x.legendgroup!==""&&(S=g.isReversed({traceorder:S})?"reversed+grouped":"grouped"));var C=L.coerce(r,u,v,"showlegend",d&&s>1);if(C===!1&&(u.legend=void 0),!(C===!1&&!l.uirevision)&&(n("uirevision",u.uirevision),C!==!1)){n("bgcolor",u.paper_bgcolor),n("bordercolor"),n("borderwidth");var y=L.coerceFont(n,"font",u.font),w=n("orientation"),b=w==="h",i,E,m;b?(i=0,p.getComponentMethod("rangeslider","isVisible")(r.xaxis)?(E=1.1,m="bottom"):(E=-.1,m="top")):(i=1.02,E=1,m="auto"),n("traceorder",S),g.isGrouped(u.legend)&&n("tracegroupgap"),n("entrywidth"),n("entrywidthmode"),n("itemsizing"),n("itemwidth"),n("itemclick"),n("itemdoubleclick"),n("groupclick"),n("x",i),n("xanchor"),n("y",E),n("yanchor",m),n("valign"),L.noneOrAll(l,c,["x","y"]);var F=n("title.text");if(F){n("title.side",b?"left":"top");var _=L.extendFlat({},y,{size:L.bigFont(y.size)});L.coerceFont(n,"title.font",_)}}}},43969:function(W,U,e){var p=e(39898),L=e(71828),a=e(74875),P=e(73972),A=e(11086),v=e(28569),g=e(91424),t=e(7901),r=e(63893),u=e(85167),o=e(14928),l=e(18783),c=l.LINE_SPACING,n=l.FROM_TL,x=l.FROM_BR,h=e(82424),T=e(53630),f=e(10130),s=1;W.exports=function(O,z){return z||(z=O._fullLayout.legend||{}),d(O,z)};function d(I,O){var z=I._fullLayout,k="legend"+z._uid,N,K=O._inHover;if(K?(N=O.layer,k+="-hover"):N=z._infolayer,!!N){I._legendMouseDownTime||(I._legendMouseDownTime=0);var q;if(K){if(!O.entries)return;q=h(O.entries,O)}else{if(!I.calcdata)return;q=z.showlegend&&h(I.calcdata,O)}var Q=z.hiddenlabels||[];if(!K&&(!z.showlegend||!q.length))return N.selectAll(".legend").remove(),z._topdefs.select("#"+k).remove(),a.autoMargin(I,"legend");var re=L.ensureSingle(N,"g","legend",function($){K||$.attr("pointer-events","all")}),oe=L.ensureSingleById(z._topdefs,"clipPath",k,function($){$.append("rect")}),Y=L.ensureSingle(re,"rect","bg",function($){$.attr("shape-rendering","crispEdges")});Y.call(t.stroke,O.bordercolor).call(t.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px");var G=L.ensureSingle(re,"g","scrollbox"),V=O.title;if(O._titleWidth=0,O._titleHeight=0,V.text){var Z=L.ensureSingle(G,"text","legendtitletext");Z.attr("text-anchor","start").call(g.font,V.font).text(V.text),b(Z,G,I,O,s)}else G.selectAll(".legendtitletext").remove();var ae=L.ensureSingle(re,"rect","scrollbar",function($){$.attr(o.scrollBarEnterAttrs).call(t.fill,o.scrollBarColor)}),ie=G.selectAll("g.groups").data(q);ie.enter().append("g").attr("class","groups"),ie.exit().remove();var J=ie.selectAll("g.traces").data(L.identity);J.enter().append("g").attr("class","traces"),J.exit().remove(),J.style("opacity",function($){var se=$[0].trace;return P.traceIs(se,"pie-like")?Q.indexOf($[0].label)!==-1?.5:1:se.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(C,I,O)}).call(T,I,O).each(function(){K||p.select(this).call(w,I)}),L.syncOrAsync([a.previousPromises,function(){return m(I,ie,J,O)},function(){var $=z._size,se=O.borderwidth;if(!K){var ee=F(I);if(ee)return;var ue=$.l+$.w*O.x-n[_(O)]*O._width,ge=$.t+$.h*(1-O.y)-n[B(O)]*O._effHeight;if(z.margin.autoexpand){var Te=ue,xe=ge;ue=L.constrain(ue,0,z.width-O._width),ge=L.constrain(ge,0,z.height-O._effHeight),ue!==Te&&L.log("Constrain legend.x to make legend fit inside graph"),ge!==xe&&L.log("Constrain legend.y to make legend fit inside graph")}g.setTranslate(re,ue,ge)}if(ae.on(".drag",null),re.on("wheel",null),K||O._height<=O._maxHeight||I._context.staticPlot){var Pe=O._effHeight;K&&(Pe=O._height),Y.attr({width:O._width-se,height:Pe-se,x:se/2,y:se/2}),g.setTranslate(G,0,0),oe.select("rect").attr({width:O._width-2*se,height:Pe-2*se,x:se,y:se}),g.setClipUrl(G,k,I),g.setRect(ae,0,0,0,0),delete O._scrollY}else{var Ie=Math.max(o.scrollBarMinHeight,O._effHeight*O._effHeight/O._height),Ae=O._effHeight-Ie-2*o.scrollBarMargin,be=O._height-O._effHeight,_e=Ae/be,Ve=Math.min(O._scrollY||0,be);Y.attr({width:O._width-2*se+o.scrollBarWidth+o.scrollBarMargin,height:O._effHeight-se,x:se/2,y:se/2}),oe.select("rect").attr({width:O._width-2*se+o.scrollBarWidth+o.scrollBarMargin,height:O._effHeight-2*se,x:se,y:se+Ve}),g.setClipUrl(G,k,I),dt(Ve,Ie,_e),re.on("wheel",function(){Ve=L.constrain(O._scrollY+p.event.deltaY/Ae*be,0,be),dt(Ve,Ie,_e),Ve!==0&&Ve!==be&&p.event.preventDefault()});var We,ze,Ze,ct=function(ke,Fe,qe){var it=(qe-Fe)/_e+ke;return L.constrain(it,0,be)},lt=function(ke,Fe,qe){var it=(Fe-qe)/_e+ke;return L.constrain(it,0,be)},at=p.behavior.drag().on("dragstart",function(){var ke=p.event.sourceEvent;ke.type==="touchstart"?We=ke.changedTouches[0].clientY:We=ke.clientY,Ze=Ve}).on("drag",function(){var ke=p.event.sourceEvent;ke.buttons===2||ke.ctrlKey||(ke.type==="touchmove"?ze=ke.changedTouches[0].clientY:ze=ke.clientY,Ve=ct(Ze,We,ze),dt(Ve,Ie,_e))});ae.call(at);var tt=p.behavior.drag().on("dragstart",function(){var ke=p.event.sourceEvent;ke.type==="touchstart"&&(We=ke.changedTouches[0].clientY,Ze=Ve)}).on("drag",function(){var ke=p.event.sourceEvent;ke.type==="touchmove"&&(ze=ke.changedTouches[0].clientY,Ve=lt(Ze,We,ze),dt(Ve,Ie,_e))});G.call(tt)}function dt(ke,Fe,qe){O._scrollY=I._fullLayout.legend._scrollY=ke,g.setTranslate(G,0,-ke),g.setRect(ae,O._width,o.scrollBarMargin+ke*qe,o.scrollBarWidth,Fe),oe.select("rect").attr("y",se+ke)}if(I._context.edits.legendPosition){var wt,Mt,It,$e;re.classed("cursor-move",!0),v.init({element:re.node(),gd:I,prepFn:function(){var ke=g.getTranslate(re);It=ke.x,$e=ke.y},moveFn:function(ke,Fe){var qe=It+ke,it=$e+Fe;g.setTranslate(re,qe,it),wt=v.align(qe,0,$.l,$.l+$.w,O.xanchor),Mt=v.align(it,0,$.t+$.h,$.t,O.yanchor)},doneFn:function(){wt!==void 0&&Mt!==void 0&&P.call("_guiRelayout",I,{"legend.x":wt,"legend.y":Mt})},clickFn:function(ke,Fe){var qe=N.selectAll("g.traces").filter(function(){var it=this.getBoundingClientRect();return Fe.clientX>=it.left&&Fe.clientX<=it.right&&Fe.clientY>=it.top&&Fe.clientY<=it.bottom});qe.size()>0&&M(I,re,qe,ke,Fe)}})}}],I)}}function S(I,O,z){var k=I[0],N=k.width,K=O.entrywidthmode,q=k.trace.legendwidth||O.entrywidth;return K==="fraction"?O._maxWidth*q:z+(q||N)}function M(I,O,z,k,N){var K=z.data()[0][0].trace,q={event:N,node:z.node(),curveNumber:K.index,expandedIndex:K._expandedIndex,data:I.data,layout:I.layout,frames:I._transitionData._frames,config:I._context,fullData:I._fullData,fullLayout:I._fullLayout};K._group&&(q.group=K._group),P.traceIs(K,"pie-like")&&(q.label=z.datum()[0].label);var Q=A.triggerHandler(I,"plotly_legendclick",q);if(Q!==!1){if(k===1)O._clickTimeout=setTimeout(function(){I._fullLayout&&u(z,I,k)},I._context.doubleClickDelay);else if(k===2){O._clickTimeout&&clearTimeout(O._clickTimeout),I._legendMouseDownTime=0;var re=A.triggerHandler(I,"plotly_legenddoubleclick",q);re!==!1&&u(z,I,k)}}}function C(I,O,z){var k=I.data()[0][0],N=k.trace,K=P.traceIs(N,"pie-like"),q=!z._inHover&&O._context.edits.legendText&&!K,Q=z._maxNameLength,re,oe;k.groupTitle?(re=k.groupTitle.text,oe=k.groupTitle.font):(oe=z.font,z.entries?re=k.text:(re=K?k.label:N.name,N._meta&&(re=L.templateString(re,N._meta))));var Y=L.ensureSingle(I,"text","legendtext");Y.attr("text-anchor","start").call(g.font,oe).text(q?y(re,Q):re);var G=z.itemwidth+o.itemGap*2;r.positionText(Y,G,0),q?Y.call(r.makeEditable,{gd:O,text:re}).call(b,I,O,z).on("edit",function(V){this.text(y(V,Q)).call(b,I,O,z);var Z=k.trace._fullInput||{},ae={};if(P.hasTransform(Z,"groupby")){var ie=P.getTransformIndices(Z,"groupby"),J=ie[ie.length-1],$=L.keyedContainer(Z,"transforms["+J+"].styles","target","value.name");$.set(k.trace._group,V),ae=$.constructUpdate()}else ae.name=V;return P.call("_guiRestyle",O,ae,N.index)}):b(Y,I,O,z)}function y(I,O){var z=Math.max(4,O);if(I&&I.trim().length>=z/2)return I;I=I||"";for(var k=z-I.length;k>0;k--)I+=" ";return I}function w(I,O){var z=O._context.doubleClickDelay,k,N=1,K=L.ensureSingle(I,"rect","legendtoggle",function(q){O._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(t.fill,"rgba(0,0,0,0)")});O._context.staticPlot||(K.on("mousedown",function(){k=new Date().getTime(),k-O._legendMouseDownTime<z?N+=1:(N=1,O._legendMouseDownTime=k)}),K.on("mouseup",function(){if(!(O._dragged||O._editing)){var q=O._fullLayout.legend;new Date().getTime()-O._legendMouseDownTime>z&&(N=Math.max(N-1,1)),M(O,q,I,N,p.event)}}))}function b(I,O,z,k,N){k._inHover&&I.attr("data-notex",!0),r.convertToTspans(I,z,function(){i(O,z,k,N)})}function i(I,O,z,k){var N=I.data()[0][0];if(!z._inHover&&N&&!N.trace.showlegend){I.remove();return}var K=I.select("g[class*=math-group]"),q=K.node();z||(z=O._fullLayout.legend);var Q=z.borderwidth,re;k===s?re=z.title.font:N.groupTitle?re=N.groupTitle.font:re=z.font;var oe=re.size*c,Y,G;if(q){var V=g.bBox(q);Y=V.height,G=V.width,k===s?g.setTranslate(K,Q,Q+Y*.75):g.setTranslate(K,0,Y*.25)}else{var Z=I.select(k===s?".legendtitletext":".legendtext"),ae=r.lineCount(Z),ie=Z.node();if(Y=oe*ae,G=ie?g.bBox(ie).width:0,k===s)z.title.side==="left"&&(G+=o.itemGap*2),r.positionText(Z,Q+o.titlePad,Q+oe);else{var J=o.itemGap*2+z.itemwidth;N.groupTitle&&(J=o.itemGap,G-=z.itemwidth),r.positionText(Z,J,-oe*((ae-1)/2-.3))}}k===s?(z._titleWidth=G,z._titleHeight=Y):(N.lineHeight=oe,N.height=Math.max(Y,16)+3,N.width=G)}function E(I){var O=0,z=0,k=I.title.side;return k&&(k.indexOf("left")!==-1&&(O=I._titleWidth),k.indexOf("top")!==-1&&(z=I._titleHeight)),[O,z]}function m(I,O,z,k){var N=I._fullLayout;k||(k=N.legend);var K=N._size,q=f.isVertical(k),Q=f.isGrouped(k),re=k.entrywidthmode==="fraction",oe=k.borderwidth,Y=2*oe,G=o.itemGap,V=k.itemwidth+G*2,Z=2*(oe+G),ae=B(k),ie=k.y<0||k.y===0&&ae==="top",J=k.y>1||k.y===1&&ae==="bottom",$=k.tracegroupgap,se={};k._maxHeight=Math.max(ie||J?N.height/2:K.h,30);var ee=0;k._width=0,k._height=0;var ue=E(k);if(q)z.each(function(It){var $e=It[0].height;g.setTranslate(this,oe+ue[0],oe+ue[1]+k._height+$e/2+G),k._height+=$e,k._width=Math.max(k._width,It[0].width)}),ee=V+k._width,k._width+=G+V+Y,k._height+=Z,Q&&(O.each(function(It,$e){g.setTranslate(this,0,$e*k.tracegroupgap)}),k._height+=(k._lgroupsLength-1)*k.tracegroupgap);else{var ge=_(k),Te=k.x<0||k.x===0&&ge==="right",xe=k.x>1||k.x===1&&ge==="left",Pe=J||ie,Ie=N.width/2;k._maxWidth=Math.max(Te?Pe&&ge==="left"?K.l+K.w:Ie:xe?Pe&&ge==="right"?K.r+K.w:Ie:K.w,2*V);var Ae=0,be=0;z.each(function(It){var $e=S(It,k,V);Ae=Math.max(Ae,$e),be+=$e}),ee=null;var _e=0;if(Q){var Ve=0,We=0,ze=0;O.each(function(){var It=0,$e=0;p.select(this).selectAll("g.traces").each(function(Fe){var qe=S(Fe,k,V),it=Fe[0].height;g.setTranslate(this,ue[0],ue[1]+oe+G+it/2+$e),$e+=it,It=Math.max(It,qe),se[Fe[0].trace.legendgroup]=It});var ke=It+G;We>0&&ke+oe+We>k._maxWidth?(_e=Math.max(_e,We),We=0,ze+=Ve+$,Ve=$e):Ve=Math.max(Ve,$e),g.setTranslate(this,We,ze),We+=ke}),k._width=Math.max(_e,We)+oe,k._height=ze+Ve+Z}else{var Ze=z.size(),ct=be+Y+(Ze-1)*G<k._maxWidth,lt=0,at=0,tt=0,dt=0;z.each(function(It){var $e=It[0].height,ke=S(It,k,V),Fe=ct?ke:Ae;re||(Fe+=G),Fe+oe+at-G>=k._maxWidth&&(_e=Math.max(_e,dt),at=0,tt+=lt,k._height+=lt,lt=0),g.setTranslate(this,ue[0]+oe+at,ue[1]+oe+tt+$e/2+G),dt=at+ke+G,at+=Fe,lt=Math.max(lt,$e)}),ct?(k._width=at+Y,k._height=lt+Z):(k._width=Math.max(_e,dt)+Y,k._height+=lt+Z)}}k._width=Math.ceil(Math.max(k._width+ue[0],k._titleWidth+2*(oe+o.titlePad))),k._height=Math.ceil(Math.max(k._height+ue[1],k._titleHeight+2*(oe+o.itemGap))),k._effHeight=Math.min(k._height,k._maxHeight);var wt=I._context.edits,Mt=wt.legendText||wt.legendPosition;z.each(function(It){var $e=p.select(this).select(".legendtoggle"),ke=It[0].height,Fe=It[0].trace.legendgroup,qe=S(It,k,V);Q&&Fe!==""&&(qe=se[Fe]);var it=Mt?V:ee||qe;!q&&!re&&(it+=G/2),g.setRect($e,0,-ke/2,it,ke)})}function F(I){var O=I._fullLayout,z=O.legend,k=_(z),N=B(z);return a.autoMargin(I,"legend",{x:z.x,y:z.y,l:z._width*n[k],r:z._width*x[k],b:z._effHeight*x[N],t:z._effHeight*n[N]})}function _(I){return L.isRightAnchor(I)?"right":L.isCenterAnchor(I)?"center":"left"}function B(I){return L.isBottomAnchor(I)?"bottom":L.isMiddleAnchor(I)?"middle":"top"}},82424:function(W,U,e){var p=e(73972),L=e(10130);W.exports=function(P,A){var v=A._inHover,g=L.isGrouped(A),t=L.isReversed(A),r={},u=[],o=!1,l={},c=0,n=0,x,h;function T(O,z){if(O===""||!L.isGrouped(A)){var k="~~i"+c;u.push(k),r[k]=[z],c++}else u.indexOf(O)===-1?(u.push(O),o=!0,r[O]=[z]):r[O].push(z)}for(x=0;x<P.length;x++){var f=P[x],s=f[0],d=s.trace,S=d.legendgroup;if(!(!v&&(!d.visible||!d.showlegend)))if(p.traceIs(d,"pie-like"))for(l[S]||(l[S]={}),h=0;h<f.length;h++){var M=f[h].label;l[S][M]||(T(S,{label:M,color:f[h].color,i:f[h].i,trace:d,pts:f[h].pts}),l[S][M]=!0,n=Math.max(n,(M||"").length))}else T(S,s),n=Math.max(n,(d.name||"").length)}if(!u.length)return[];var C=!o||!g,y=[];for(x=0;x<u.length;x++){var w=r[u[x]];C?y.push(w[0]):y.push(w)}for(C&&(y=[y]),x=0;x<y.length;x++){var b=1/0;for(h=0;h<y[x].length;h++){var i=y[x][h].trace.legendrank;b>i&&(b=i)}y[x][0]._groupMinRank=b,y[x][0]._preGroupSort=x}var E=function(O,z){return O[0]._groupMinRank-z[0]._groupMinRank||O[0]._preGroupSort-z[0]._preGroupSort},m=function(O,z){return O.trace.legendrank-z.trace.legendrank||O._preSort-z._preSort};for(y.forEach(function(O,z){O[0]._preGroupSort=z}),y.sort(E),x=0;x<y.length;x++){y[x].forEach(function(O,z){O._preSort=z}),y[x].sort(m);var F=y[x][0].trace,_=null;for(h=0;h<y[x].length;h++){var B=y[x][h].trace.legendgrouptitle;if(B&&B.text){_=B,v&&(B.font=A._groupTitleFont);break}}if(t&&y[x].reverse(),_){var I=!1;for(h=0;h<y[x].length;h++)if(p.traceIs(y[x][h].trace,"pie-like")){I=!0;break}y[x].unshift({i:-1,groupTitle:_,noClick:I,trace:{showlegend:F.showlegend,legendgroup:F.legendgroup,visible:A.groupclick==="toggleitem"?!0:F.visible}})}for(h=0;h<y[x].length;h++)y[x][h]=[y[x][h]]}return A._lgroupsLength=y.length,A._maxNameLength=n,y}},85167:function(W,U,e){var p=e(71828),L=e(73972),a=!0;W.exports=function(A,v,g){var t=v._fullLayout;if(v._dragged||v._editing)return;var r=t.legend.itemclick,u=t.legend.itemdoubleclick,o=t.legend.groupclick;g===1&&r==="toggle"&&u==="toggleothers"&&a&&v.data&&v._context.showTips&&p.notifier(p._(v,"Double-click on legend to isolate one trace"),"long"),a=!1;var l;if(g===1?l=r:g===2&&(l=u),!l)return;var c=o==="togglegroup",n=t.hiddenlabels?t.hiddenlabels.slice():[],x=A.data()[0][0];if(x.groupTitle&&x.noClick)return;var h=v._fullData,T=x.trace,f=T.legendgroup,s,d,S,M,C,y,w={},b=[],i=[],E=[];function m(G,V,Z){var ae=b.indexOf(G),ie=w[V];return ie||(ie=w[V]=[]),b.indexOf(G)===-1&&(b.push(G),ae=b.length-1),ie[ae]=Z,ae}function F(G,V){if(!(x.groupTitle&&!c)){var Z=G._fullInput;if(L.hasTransform(Z,"groupby")){var ae=i[Z.index];if(!ae){var ie=L.getTransformIndices(Z,"groupby"),J=ie[ie.length-1];ae=p.keyedContainer(Z,"transforms["+J+"].styles","target","value.visible"),i[Z.index]=ae}var $=ae.get(G._group);$===void 0&&($=!0),$!==!1&&ae.set(G._group,V),E[Z.index]=m(Z.index,"visible",Z.visible!==!1)}else{var se=Z.visible===!1?!1:V;m(Z.index,"visible",se)}}}if(L.traceIs(T,"pie-like")){var _=x.label,B=n.indexOf(_);l==="toggle"?B===-1?n.push(_):n.splice(B,1):l==="toggleothers"&&(n=[],v.calcdata[0].forEach(function(G){_!==G.label&&n.push(G.label)}),v._fullLayout.hiddenlabels&&v._fullLayout.hiddenlabels.length===n.length&&B===-1&&(n=[])),L.call("_guiRelayout",v,"hiddenlabels",n)}else{var I=f&&f.length,O=[],z;if(I)for(s=0;s<h.length;s++)z=h[s],z.visible&&z.legendgroup===f&&O.push(s);if(l==="toggle"){var k;switch(T.visible){case!0:k="legendonly";break;case!1:k=!1;break;case"legendonly":k=!0;break}if(I)if(c)for(s=0;s<h.length;s++)h[s].visible!==!1&&h[s].legendgroup===f&&F(h[s],k);else F(T,k);else F(T,k)}else if(l==="toggleothers"){var N,K,q,Q,re=!0;for(s=0;s<h.length;s++)if(N=h[s]===T,q=h[s].showlegend!==!0,!(N||q)&&(K=I&&h[s].legendgroup===f,!K&&h[s].visible===!0&&!L.traceIs(h[s],"notLegendIsolatable"))){re=!1;break}for(s=0;s<h.length;s++)if(h[s].visible!==!1&&!L.traceIs(h[s],"notLegendIsolatable"))switch(T.visible){case"legendonly":F(h[s],!0);break;case!0:Q=re?!0:"legendonly",N=h[s]===T,q=h[s].showlegend!==!0&&!h[s].legendgroup,K=N||I&&h[s].legendgroup===f,F(h[s],K||q?!0:Q);break}}for(s=0;s<i.length;s++)if(S=i[s],!!S){var oe=S.constructUpdate(),Y=Object.keys(oe);for(d=0;d<Y.length;d++)M=Y[d],y=w[M]=w[M]||[],y[E[s]]=oe[M]}for(C=Object.keys(w),s=0;s<C.length;s++)for(M=C[s],d=0;d<b.length;d++)w[M].hasOwnProperty(d)||(w[M][d]=void 0);L.call("_guiRestyle",v,w,b)}}},10130:function(W,U){U.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(p){return p.orientation!=="h"},U.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(W,U,e){W.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(W,U,e){var p=e(39898),L=e(73972),a=e(71828),P=a.strTranslate,A=e(91424),v=e(7901),g=e(52075).extractOpts,t=e(34098),r=e(63463),u=e(53581).castOption,o=e(14928),l=12,c=5,n=2,x=10,h=5;W.exports=function(S,M,C){var y=M._fullLayout;C||(C=y.legend);var w=C.itemsizing==="constant",b=C.itemwidth,i=(b+o.itemGap*2)/2,E=P(i,0),m=function(Y,G,V,Z){var ae;if(Y+1)ae=Y;else if(G&&G.width>0)ae=G.width;else return 0;return w?Z:Math.min(ae,V)};S.each(function(Y){var G=p.select(this),V=a.ensureSingle(G,"g","layers");V.style("opacity",Y[0].trace.opacity);var Z=C.valign,ae=Y[0].lineHeight,ie=Y[0].height;if(Z==="middle"||!ae||!ie)V.attr("transform",null);else{var J={top:1,bottom:-1}[Z],$=J*(.5*(ae-ie+3));V.attr("transform",P(0,$))}var se=V.selectAll("g.legendfill").data([Y]);se.enter().append("g").classed("legendfill",!0);var ee=V.selectAll("g.legendlines").data([Y]);ee.enter().append("g").classed("legendlines",!0);var ue=V.selectAll("g.legendsymbols").data([Y]);ue.enter().append("g").classed("legendsymbols",!0),ue.selectAll("g.legendpoints").data([Y]).enter().append("g").classed("legendpoints",!0)}).each(oe).each(B).each(O).each(I).each(k).each(Q).each(q).each(F).each(_).each(N).each(K);function F(Y){var G=f(Y),V=G.showFill,Z=G.showLine,ae=G.showGradientLine,ie=G.showGradientFill,J=G.anyFill,$=G.anyLine,se=Y[0],ee=se.trace,ue,ge,Te=g(ee),xe=Te.colorscale,Pe=Te.reversescale,Ie=function(Ze){if(Ze.size())if(V)A.fillGroupStyle(Ze,M);else{var ct="legendfill-"+ee.uid;A.gradient(Ze,M,ct,T(Pe),xe,"fill")}},Ae=function(Ze){if(Ze.size()){var ct="legendline-"+ee.uid;A.lineGroupStyle(Ze),A.gradient(Ze,M,ct,T(Pe),xe,"stroke")}},be=t.hasMarkers(ee)||!J?"M5,0":$?"M5,-2":"M5,-3",_e=p.select(this),Ve=_e.select(".legendfill").selectAll("path").data(V||ie?[Y]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",be+"h"+b+"v6h-"+b+"z").call(Ie),Z||ae){var We=m(void 0,ee.line,x,c);ge=a.minExtend(ee,{line:{width:We}}),ue=[a.minExtend(se,{trace:ge})]}var ze=_e.select(".legendlines").selectAll("path").data(Z||ae?[ue]:[]);ze.enter().append("path").classed("js-line",!0),ze.exit().remove(),ze.attr("d",be+(ae?"l"+b+",0.0001":"h"+b)).call(Z?A.lineGroupStyle:Ae)}function _(Y){var G=f(Y),V=G.anyFill,Z=G.anyLine,ae=G.showLine,ie=G.showMarker,J=Y[0],$=J.trace,se=!ie&&!Z&&!V&&t.hasText($),ee,ue;function ge(Ve,We,ze,Ze){var ct=a.nestedProperty($,Ve).get(),lt=a.isArrayOrTypedArray(ct)&&We?We(ct):ct;if(w&&lt&&Ze!==void 0&&(lt=Ze),ze){if(lt<ze[0])return ze[0];if(lt>ze[1])return ze[1]}return lt}function Te(Ve){return J._distinct&&J.index&&Ve[J.index]?Ve[J.index]:Ve[0]}if(ie||se||ae){var xe={},Pe={};if(ie){xe.mc=ge("marker.color",Te),xe.mx=ge("marker.symbol",Te),xe.mo=ge("marker.opacity",a.mean,[.2,1]),xe.mlc=ge("marker.line.color",Te),xe.mlw=ge("marker.line.width",a.mean,[0,5],n),Pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ie=ge("marker.size",a.mean,[2,16],l);xe.ms=Ie,Pe.marker.size=Ie}ae&&(Pe.line={width:ge("line.width",Te,[0,10],c)}),se&&(xe.tx="Aa",xe.tp=ge("textposition",Te),xe.ts=10,xe.tc=ge("textfont.color",Te),xe.tf=ge("textfont.family",Te)),ee=[a.minExtend(J,xe)],ue=a.minExtend($,Pe),ue.selectedpoints=null,ue.texttemplate=null}var Ae=p.select(this).select("g.legendpoints"),be=Ae.selectAll("path.scatterpts").data(ie?ee:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),be.exit().remove(),be.call(A.pointStyle,ue,M),ie&&(ee[0].mrc=3);var _e=Ae.selectAll("g.pointtext").data(se?ee:[]);_e.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),_e.exit().remove(),_e.selectAll("text").call(A.textPointStyle,ue,M)}function B(Y){var G=Y[0].trace,V=G.type==="waterfall";if(Y[0]._distinct&&V){var Z=Y[0].trace[Y[0].dir].marker;return Y[0].mc=Z.color,Y[0].mlw=Z.line.width,Y[0].mlc=Z.line.color,z(Y,this,"waterfall")}var ae=[];G.visible&&V&&(ae=Y[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ie=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ae);ie.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(J){var $=p.select(this),se=G[J[0]].marker,ee=m(void 0,se.line,h,n);$.attr("d",J[1]).style("stroke-width",ee+"px").call(v.fill,se.color),ee&&$.call(v.stroke,se.line.color)})}function I(Y){z(Y,this)}function O(Y){z(Y,this,"funnel")}function z(Y,G,V){var Z=Y[0].trace,ae=Z.marker||{},ie=ae.line||{},J=V?Z.visible&&Z.type===V:L.traceIs(Z,"bar"),$=p.select(G).select("g.legendpoints").selectAll("path.legend"+V).data(J?[Y]:[]);$.enter().append("path").classed("legend"+V,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),$.exit().remove(),$.each(function(se){var ee=p.select(this),ue=se[0],ge=m(ue.mlw,ae.line,h,n);ee.style("stroke-width",ge+"px");var Te=ue.mcc;if(!C._inHover&&"mc"in ue){var xe=g(ae),Pe=xe.mid;Pe===void 0&&(Pe=(xe.max+xe.min)/2),Te=A.tryColorscale(ae,"")(Pe)}var Ie=Te||ue.mc||ae.color,Ae=ae.pattern,be=Ae&&A.getPatternAttr(Ae.shape,0,"");if(be){var _e=A.getPatternAttr(Ae.bgcolor,0,null),Ve=A.getPatternAttr(Ae.fgcolor,0,null),We=Ae.fgopacity,ze=s(Ae.size,8,10),Ze=s(Ae.solidity,.5,1),ct="legend-"+Z.uid;ee.call(A.pattern,"legend",M,ct,be,ze,Ze,Te,Ae.fillmode,_e,Ve,We)}else ee.call(v.fill,Ie);ge&&v.stroke(ee,ue.mlc||ie.color)})}function k(Y){var G=Y[0].trace,V=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(G.visible&&L.traceIs(G,"box-violin")?[Y]:[]);V.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),V.exit().remove(),V.each(function(){var Z=p.select(this);if((G.boxpoints==="all"||G.points==="all")&&v.opacity(G.fillcolor)===0&&v.opacity((G.line||{}).color)===0){var ae=a.minExtend(G,{marker:{size:w?l:a.constrain(G.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});V.call(A.pointStyle,ae,M)}else{var ie=m(void 0,G.line,h,n);Z.style("stroke-width",ie+"px").call(v.fill,G.fillcolor),ie&&v.stroke(Z,G.line.color)}})}function N(Y){var G=Y[0].trace,V=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(G.visible&&G.type==="candlestick"?[Y,Y]:[]);V.enter().append("path").classed("legendcandle",!0).attr("d",function(Z,ae){return ae?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),V.exit().remove(),V.each(function(Z,ae){var ie=p.select(this),J=G[ae?"increasing":"decreasing"],$=m(void 0,J.line,h,n);ie.style("stroke-width",$+"px").call(v.fill,J.fillcolor),$&&v.stroke(ie,J.line.color)})}function K(Y){var G=Y[0].trace,V=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(G.visible&&G.type==="ohlc"?[Y,Y]:[]);V.enter().append("path").classed("legendohlc",!0).attr("d",function(Z,ae){return ae?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),V.exit().remove(),V.each(function(Z,ae){var ie=p.select(this),J=G[ae?"increasing":"decreasing"],$=m(void 0,J.line,h,n);ie.style("fill","none").call(A.dashLine,J.line.dash,$),$&&v.stroke(ie,J.line.color)})}function q(Y){re(Y,this,"pie")}function Q(Y){re(Y,this,"funnelarea")}function re(Y,G,V){var Z=Y[0],ae=Z.trace,ie=V?ae.visible&&ae.type===V:L.traceIs(ae,V),J=p.select(G).select("g.legendpoints").selectAll("path.legend"+V).data(ie?[Y]:[]);if(J.enter().append("path").classed("legend"+V,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),J.exit().remove(),J.size()){var $=(ae.marker||{}).line,se=m(u($.width,Z.pts),$,h,n),ee=a.minExtend(ae,{marker:{line:{width:se}}});ee.marker.line.color=$.color;var ue=a.minExtend(Z,{trace:ee});r(J,ue,ee)}}function oe(Y){var G=Y[0].trace,V,Z=[];if(G.visible)switch(G.type){case"histogram2d":case"heatmap":Z=[["M-15,-2V4H15V-2Z"]],V=!0;break;case"choropleth":case"choroplethmapbox":Z=[["M-6,-6V6H6V-6Z"]],V=!0;break;case"densitymapbox":Z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],V="radial";break;case"cone":Z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],V=!1;break;case"streamtube":Z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],V=!1;break;case"surface":Z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],V=!0;break;case"mesh3d":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],V=!1;break;case"volume":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],V=!0;break;case"isosurface":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],V=!1;break}var ae=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Z);ae.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(ie,J){var $=p.select(this),se=g(G),ee=se.colorscale,ue=se.reversescale,ge=function(Ie){if(Ie.size()){var Ae="legendfill-"+G.uid;A.gradient(Ie,M,Ae,T(ue,V==="radial"),ee,"fill")}},Te;if(ee){if(!V){var Pe=ee.length;Te=J===0?ee[ue?Pe-1:0][1]:J===1?ee[ue?0:Pe-1][1]:ee[Math.floor((Pe-1)/2)][1]}}else{var xe=G.vertexcolor||G.facecolor||G.color;Te=a.isArrayOrTypedArray(xe)?xe[J]||xe[0]:xe}$.attr("d",ie[0]),Te?$.call(v.fill,Te):$.call(ge)})}};function T(d,S){var M=S?"radial":"horizontal";return M+(d?"":"reversed")}function f(d){var S=d[0].trace,M=S.contours,C=t.hasLines(S),y=t.hasMarkers(S),w=S.visible&&S.fill&&S.fill!=="none",b=!1,i=!1;if(M){var E=M.coloring;E==="lines"?b=!0:C=E==="none"||E==="heatmap"||M.showlines,M.type==="constraint"?w=M._operation!=="=":(E==="fill"||E==="heatmap")&&(i=!0)}return{showMarker:y,showLine:C,showFill:w,showGradientLine:b,showGradientFill:i,anyLine:C||b,anyFill:w||i}}function s(d,S,M){return d&&a.isArrayOrTypedArray(d)?S:d>M?M:d}},42068:function(W,U,e){e(93348),W.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(W,U,e){var p=e(73972),L=e(74875),a=e(41675),P=e(24255),A=e(34031).eraseActiveShape,v=e(71828),g=v._,t=W.exports={};t.toImage={name:"toImage",title:function(d){var S=d._context.toImageButtonOptions||{},M=S.format||"png";return M==="png"?g(d,"Download plot as a png"):g(d,"Download plot")},icon:P.camera,click:function(d){var S=d._context.toImageButtonOptions,M={format:S.format||"png"};v.notifier(g(d,"Taking snapshot - this may take a few seconds"),"long"),M.format!=="svg"&&v.isIE()&&(v.notifier(g(d,"IE only supports svg.  Changing format to svg."),"long"),M.format="svg"),["filename","width","height","scale"].forEach(function(C){C in S&&(M[C]=S[C])}),p.call("downloadImage",d,M).then(function(C){v.notifier(g(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(g(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return g(d,"Edit in Chart Studio")},icon:P.disk,click:function(d){L.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return g(d,"Edit in Chart Studio")},icon:P.pencil,click:function(d){L.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return g(d,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return g(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return g(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return g(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return g(d,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return g(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return g(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return g(d,"Erase active shape")},icon:P.eraseshape,click:A},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return g(d,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return g(d,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return g(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return g(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:r};function r(d,S){var M=S.currentTarget,C=M.getAttribute("data-attr"),y=M.getAttribute("data-val")||!0,w=d._fullLayout,b={},i=a.list(d,null,!0),E=w._cartesianSpikesEnabled,m,F;if(C==="zoom"){var _=y==="in"?.5:2,B=(1+_)/2,I=(1-_)/2,O;for(F=0;F<i.length;F++)if(m=i[F],!m.fixedrange)if(O=m._name,y==="auto")b[O+".autorange"]=!0;else if(y==="reset"){if(m._rangeInitial===void 0)b[O+".autorange"]=!0;else{var z=m._rangeInitial.slice();b[O+".range[0]"]=z[0],b[O+".range[1]"]=z[1]}m._showSpikeInitial!==void 0&&(b[O+".showspikes"]=m._showSpikeInitial,E==="on"&&!m._showSpikeInitial&&(E="off"))}else{var k=[m.r2l(m.range[0]),m.r2l(m.range[1])],N=[B*k[0]+I*k[1],B*k[1]+I*k[0]];b[O+".range[0]"]=m.l2r(N[0]),b[O+".range[1]"]=m.l2r(N[1])}}else C==="hovermode"&&(y==="x"||y==="y")&&(y=w._isHoriz?"y":"x",M.setAttribute("data-val",y)),b[C]=y;w._cartesianSpikesEnabled=E,p.call("_guiRelayout",d,b)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:u},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:u},t.orbitRotation={name:"orbitRotation",title:function(d){return g(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:u},t.tableRotation={name:"tableRotation",title:function(d){return g(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:u};function u(d,S){for(var M=S.currentTarget,C=M.getAttribute("data-attr"),y=M.getAttribute("data-val")||!0,w=d._fullLayout._subplots.gl3d||[],b={},i=C.split("."),E=0;E<w.length;E++)b[w[E]+"."+i[1]]=y;var m=y==="pan"?y:"zoom";b.dragmode=m,p.call("_guiRelayout",d,b)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return g(d,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:o},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return g(d,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:o};function o(d,S){for(var M=S.currentTarget,C=M.getAttribute("data-attr"),y=C==="resetLastSave",w=C==="resetDefault",b=d._fullLayout,i=b._subplots.gl3d||[],E={},m=0;m<i.length;m++){var F=i[m],_=F+".camera",B=F+".aspectratio",I=F+".aspectmode",O=b[F]._scene,z;y?(E[_+".up"]=O.viewInitial.up,E[_+".eye"]=O.viewInitial.eye,E[_+".center"]=O.viewInitial.center,z=!0):w&&(E[_+".up"]=null,E[_+".eye"]=null,E[_+".center"]=null,z=!0),z&&(E[B+".x"]=O.viewInitial.aspectratio.x,E[B+".y"]=O.viewInitial.aspectratio.y,E[B+".z"]=O.viewInitial.aspectratio.z,E[I]=O.viewInitial.aspectmode)}p.call("_guiRelayout",d,E)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:c};function l(d,S){var M=S.currentTarget,C=M._previousVal,y=d._fullLayout,w=y._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],i={},E={};if(C)E=C,M._previousVal=null;else{for(var m=0;m<w.length;m++){var F=w[m],_=y[F],B=F+".hovermode";i[B]=_.hovermode,E[B]=!1;for(var I=0;I<3;I++){var O=b[I],z=F+"."+O+".showspikes";E[z]=!1,i[z]=_[O].showspikes}}M._previousVal=i}return E}function c(d,S){var M=l(d,S);p.call("_guiRelayout",d,M)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:n},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:n},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return g(d,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:n},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:h};function n(d,S){for(var M=S.currentTarget,C=M.getAttribute("data-attr"),y=M.getAttribute("data-val")||!0,w=d._fullLayout,b=w._subplots.geo||[],i=0;i<b.length;i++){var E=b[i],m=w[E];if(C==="zoom"){var F=m.projection.scale,_=y==="in"?2*F:.5*F;p.call("_guiRelayout",d,E+".projection.scale",_)}}C==="reset"&&s(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:h};function x(d){var S=d._fullLayout;return S.hovermode?!1:S._has("cartesian")?S._isHoriz?"y":"x":"closest"}function h(d){var S=x(d);p.call("_guiRelayout",d,"hovermode",S)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return g(d,"Reset view")},icon:P.home,click:function(d){for(var S={"node.groups":[],"node.x":[],"node.y":[]},M=0;M<d._fullData.length;M++){var C=d._fullData[M]._viewInitial;S["node.groups"].push(C.node.groups.slice()),S["node.x"].push(C.node.x.slice()),S["node.y"].push(C.node.y.slice())}p.call("restyle",d,S)}},t.toggleHover={name:"toggleHover",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(d,S){var M=l(d,S);M.hovermode=x(d),p.call("_guiRelayout",d,M)}},t.resetViews={name:"resetViews",title:function(d){return g(d,"Reset views")},icon:P.home,click:function(d,S){var M=S.currentTarget;M.setAttribute("data-attr","zoom"),M.setAttribute("data-val","reset"),r(d,S),M.setAttribute("data-attr","resetLastSave"),o(d,S),s(d,"geo"),s(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return g(d,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var S=d._fullLayout,M=S._cartesianSpikesEnabled;S._cartesianSpikesEnabled=M==="on"?"off":"on",p.call("_guiRelayout",d,T(d))}};function T(d){for(var S=d._fullLayout,M=S._cartesianSpikesEnabled==="on",C=a.list(d,null,!0),y={},w=0;w<C.length;w++){var b=C[w];y[b._name+".showspikes"]=M?!0:b._showSpikeInitial}return y}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return g(d,"Reset view")},attr:"reset",icon:P.home,click:function(d){s(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:f},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:f};function f(d,S){for(var M=S.currentTarget,C=M.getAttribute("data-val"),y=d._fullLayout,w=y._subplots.mapbox||[],b=1.05,i={},E=0;E<w.length;E++){var m=w[E],F=y[m].zoom,_=C==="in"?b*F:F/b;i[m+".zoom"]=_}p.call("_guiRelayout",d,i)}function s(d,S){for(var M=d._fullLayout,C=M._subplots[S]||[],y={},w=0;w<C.length;w++)for(var b=C[w],i=M[b]._subplot,E=i.viewInitial,m=Object.keys(E),F=0;F<m.length;F++){var _=m[F];y[b+"."+_]=E[_]}p.call("_guiRelayout",d,y)}},93348:function(W,U,e){var p=e(26023),L=Object.keys(p),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),A=[],v=function(g){if(P.indexOf(g._cat||g.name)===-1){var t=g.name,r=(g._cat||g.name).toLowerCase();A.indexOf(t)===-1&&A.push(t),A.indexOf(r)===-1&&A.push(r)}};L.forEach(function(g){v(p[g])}),A.sort(),W.exports={DRAW_MODES:a,backButtons:P,foreButtons:A}},35750:function(W,U,e){var p=e(71828),L=e(7901),a=e(44467),P=e(42068);W.exports=function(v,g){var t=v.modebar||{},r=a.newContainer(g,"modebar");function u(l,c){return p.coerce(t,r,P,l,c)}u("orientation"),u("bgcolor",L.addOpacity(g.paper_bgcolor,.5));var o=L.contrast(L.rgb(g.modebar.bgcolor));u("color",L.addOpacity(o,.3)),u("activecolor",L.addOpacity(o,.7)),u("uirevision",g.uirevision),u("add"),u("remove")}},64168:function(W,U,e){W.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(W,U,e){var p=e(41675),L=e(34098),a=e(73972),P=e(23469).isUnifiedHover,A=e(37676),v=e(26023),g=e(93348).DRAW_MODES,t=e(71828).extendDeep;W.exports=function(h){var T=h._fullLayout,f=h._context,s=T._modeBar;if(!f.displayModeBar&&!f.watermark){s&&(s.destroy(),delete T._modeBar);return}if(!Array.isArray(f.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(f.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=f.modeBarButtons,S;Array.isArray(d)&&d.length?S=n(d):!f.displayModeBar&&f.watermark?S=[]:S=r(h),s?s.update(h,S):T._modeBar=A(h,S)};function r(x){var h=x._fullLayout,T=x._fullData,f=x._context;function s(J,$){if(typeof $=="string"){if($.toLowerCase()===J.toLowerCase())return!0}else{var se=$.name,ee=$._cat||$.name;if(se===J||ee===J.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var S=h.modebar.remove;typeof S=="string"&&(S=[S]);var M=f.modeBarButtonsToAdd.concat(d.filter(function(J){for(var $=0;$<f.modeBarButtonsToRemove.length;$++)if(s(J,f.modeBarButtonsToRemove[$]))return!1;return!0})),C=f.modeBarButtonsToRemove.concat(S.filter(function(J){for(var $=0;$<f.modeBarButtonsToAdd.length;$++)if(s(J,f.modeBarButtonsToAdd[$]))return!1;return!0})),y=h._has("cartesian"),w=h._has("gl3d"),b=h._has("geo"),i=h._has("pie"),E=h._has("funnelarea"),m=h._has("gl2d"),F=h._has("ternary"),_=h._has("mapbox"),B=h._has("polar"),I=h._has("smith"),O=h._has("sankey"),z=u(h),k=P(h.hovermode),N=[];function K(J){if(J.length){for(var $=[],se=0;se<J.length;se++){for(var ee=J[se],ue=v[ee],ge=ue.name.toLowerCase(),Te=(ue._cat||ue.name).toLowerCase(),xe=!1,Pe=0;Pe<C.length;Pe++){var Ie=C[Pe].toLowerCase();if(Ie===ge||Ie===Te){xe=!0;break}}xe||$.push(v[ee])}N.push($)}}var q=["toImage"];f.showEditInChartStudio?q.push("editInChartStudio"):f.showSendToCloud&&q.push("sendDataToCloud"),K(q);var Q=[],re=[],oe=[],Y=[];(y||m||i||E||F)+b+w+_+B+I>1?(re=["toggleHover"],oe=["resetViews"]):b?(Q=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],oe=["resetGeo"]):w?(re=["hoverClosest3d"],oe=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(Q=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],oe=["resetViewMapbox"]):m?re=["hoverClosestGl2d"]:i?re=["hoverClosestPie"]:O?(re=["hoverClosestCartesian","hoverCompareCartesian"],oe=["resetViewSankey"]):re=["toggleHover"],y&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(l(T)||k)&&(re=[]),(y||m)&&!z&&(Q=["zoomIn2d","zoomOut2d","autoScale2d"],oe[0]!=="resetViews"&&(oe=["resetScale2d"])),w?Y=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||m)&&!z||F?Y=["zoom2d","pan2d"]:_||b?Y=["pan2d"]:B&&(Y=["zoom2d"]),o(T)&&Y.push("select2d","lasso2d");var G=[],V=function(J){G.indexOf(J)===-1&&re.indexOf(J)!==-1&&G.push(J)};if(Array.isArray(M)){for(var Z=[],ae=0;ae<M.length;ae++){var ie=M[ae];typeof ie=="string"?(ie=ie.toLowerCase(),g.indexOf(ie)!==-1?(h._has("mapbox")||h._has("cartesian"))&&Y.push(ie):ie==="togglespikelines"?V("toggleSpikelines"):ie==="togglehover"?V("toggleHover"):ie==="hovercompare"?V("hoverCompareCartesian"):ie==="hoverclosest"?(V("hoverClosestCartesian"),V("hoverClosestGeo"),V("hoverClosest3d"),V("hoverClosestGl2d"),V("hoverClosestPie")):ie==="v1hovermode"&&(V("toggleHover"),V("hoverClosestCartesian"),V("hoverCompareCartesian"),V("hoverClosestGeo"),V("hoverClosest3d"),V("hoverClosestGl2d"),V("hoverClosestPie"))):Z.push(ie)}M=Z}return K(Y),K(Q.concat(oe)),K(G),c(N,M)}function u(x){for(var h=p.list({_fullLayout:x},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function o(x){for(var h=!1,T=0;T<x.length&&!h;T++){var f=x[T];!f._module||!f._module.selectPoints||(a.traceIs(f,"scatter-like")?(L.hasMarkers(f)||L.hasText(f))&&(h=!0):a.traceIs(f,"box-violin")?(f.boxpoints==="all"||f.points==="all")&&(h=!0):h=!0)}return h}function l(x){for(var h=0;h<x.length;h++)if(!a.traceIs(x[h],"noHover"))return!1;return!0}function c(x,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)x.push(h[T]);else x.push(h);return x}function n(x){for(var h=t([],x),T=0;T<h.length;T++)for(var f=h[T],s=0;s<f.length;s++){var d=f[s];if(typeof d=="string")if(v[d]!==void 0)h[T][s]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},37676:function(W,U,e){var p=e(39898),L=e(92770),a=e(71828),P=e(24255),A=e(11506).version,v=new DOMParser;function g(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var t=g.prototype;t.update=function(o,l){this.graphInfo=o;var c=this.graphInfo._context,n=this.graphInfo._fullLayout,x="modebar-"+n._uid;this.element.setAttribute("id",x),this._uid=x,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var h=n.modebar,T=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(x),a.addRelatedStyleRule(x,T+"#"+x+" .modebar-group","background-color: "+h.bgcolor),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn .icon path","fill: "+h.color),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn:hover .icon path","fill: "+h.activecolor),a.addRelatedStyleRule(x,"#"+x+" .modebar-btn.active .icon path","fill: "+h.activecolor);var f=!this.hasButtons(l),s=this.hasLogo!==c.displaylogo,d=this.locale!==c.locale;if(this.locale=c.locale,(f||s||d)&&(this.removeAllButtons(),this.updateButtons(l),c.watermark||c.displaylogo)){var S=this.getLogo();c.watermark&&(S.className=S.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(S,this.element.childNodes[0]):this.element.appendChild(S),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(o){var l=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var n=l.createGroup();c.forEach(function(x){var h=x.name;if(!h)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");l.buttonsNames.push(h);var T=l.createButton(x);l.buttonElements.push(T),n.appendChild(T)}),l.element.appendChild(n)})},t.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},t.createButton=function(o){var l=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var n=o.title;n===void 0?n=o.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&c.setAttribute("data-title",n),o.attr!==void 0&&c.setAttribute("data-attr",o.attr);var x=o.val;x!==void 0&&(typeof x=="function"&&(x=x(this.graphInfo)),c.setAttribute("data-val",x));var h=o.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(f){o.click(l.graphInfo,f),l.updateActiveButton(f.currentTarget)}),c.setAttribute("data-toggle",o.toggle||!1),o.toggle&&p.select(c).classed("active",!0);var T=o.icon;return typeof T=="function"?c.appendChild(T()):c.appendChild(this.createIcon(T||P.question)),c.setAttribute("data-gravity",o.gravity||"n"),c},t.createIcon=function(o){var l=L(o.height)?Number(o.height):o.ascent-o.descent,c="http://www.w3.org/2000/svg",n;if(o.path){n=document.createElementNS(c,"svg"),n.setAttribute("viewBox",[0,0,o.width,l].join(" ")),n.setAttribute("class","icon");var x=document.createElementNS(c,"path");x.setAttribute("d",o.path),o.transform?x.setAttribute("transform",o.transform):o.ascent!==void 0&&x.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),n.appendChild(x)}if(o.svg){var h=v.parseFromString(o.svg,"application/xml");n=h.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(o){var l=this.graphInfo._fullLayout,c=o!==void 0?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var x=n.getAttribute("data-val")||!0,h=n.getAttribute("data-attr"),T=n.getAttribute("data-toggle")==="true",f=p.select(n);if(T)h===c&&f.classed("active",!f.classed("active"));else{var s=h===null?h:a.nestedProperty(l,h).get();f.classed("active",s===x)}})},t.hasButtons=function(o){var l=this.buttons;if(!l||o.length!==l.length)return!1;for(var c=0;c<o.length;++c){if(o[c].length!==l[c].length)return!1;for(var n=0;n<o[c].length;n++)if(o[c][n].name!==l[c][n].name)return!1}return!0};function r(o){return o+" (v"+A+")"}t.getLogo=function(){var o=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(P.newplotlylogo)),o.appendChild(l),o},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function u(o,l){var c=o._fullLayout,n=new g({graphInfo:o,container:c._modebardiv.node(),buttons:l});return c._privateplot&&p.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}W.exports=u},37113:function(W,U,e){var p=e(41940),L=e(22399),a=e(44467).templatedArray,P=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});W.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(W){W.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(W,U,e){var p=e(71828),L=e(7901),a=e(44467),P=e(85501),A=e(37113),v=e(89573);W.exports=function(u,o,l,c,n){var x=u.rangeselector||{},h=a.newContainer(o,"rangeselector");function T(M,C){return p.coerce(x,h,A,M,C)}var f=P(x,h,{name:"buttons",handleItemDefaults:g,calendar:n}),s=T("visible",f.length>0);if(s){var d=t(o,l,c);T("x",d[0]),T("y",d[1]),p.noneOrAll(u,o,["x","y"]),T("xanchor"),T("yanchor"),p.coerceFont(T,"font",l.font);var S=T("bgcolor");T("activecolor",L.contrast(S,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function g(r,u,o,l){var c=l.calendar;function n(T,f){return p.coerce(r,u,A.buttons,T,f)}var x=n("visible");if(x){var h=n("step");h!=="all"&&(c&&c!=="gregorian"&&(h==="month"||h==="year")?u.stepmode="backward":n("stepmode"),n("count")),n("label")}}function t(r,u,o){for(var l=o.filter(function(h){return u[h].anchor===r._id}),c=0,n=0;n<l.length;n++){var x=u[l[n]].domain;x&&(c=Math.max(x[1],c))}return[r.domain[0],c+v.yPad]}},21598:function(W,U,e){var p=e(39898),L=e(73972),a=e(74875),P=e(7901),A=e(91424),v=e(71828),g=v.strTranslate,t=e(63893),r=e(41675),u=e(18783),o=u.LINE_SPACING,l=u.FROM_TL,c=u.FROM_BR,n=e(89573),x=e(70565);W.exports=function(w){var b=w._fullLayout,i=b._infolayer.selectAll(".rangeselector").data(h(w),T);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(E){var m=p.select(this),F=E,_=F.rangeselector,B=m.selectAll("g.button").data(v.filterVisible(_.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(I){var O=p.select(this),z=x(F,I);I._isActive=f(F,I,z),O.call(s,_,I),O.call(S,_,I,w),O.on("click",function(){w._dragged||L.call("_guiRelayout",w,z)}),O.on("mouseover",function(){I._isHovered=!0,O.call(s,_,I)}),O.on("mouseout",function(){I._isHovered=!1,O.call(s,_,I)})}),C(w,B,_,F._name,m)})};function h(y){for(var w=r.list(y,"x",!0),b=[],i=0;i<w.length;i++){var E=w[i];E.rangeselector&&E.rangeselector.visible&&b.push(E)}return b}function T(y){return y._id}function f(y,w,b){if(w.step==="all")return y.autorange===!0;var i=Object.keys(b);return y.range[0]===b[i[0]]&&y.range[1]===b[i[1]]}function s(y,w,b){var i=v.ensureSingle(y,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});i.attr({rx:n.rx,ry:n.ry}),i.call(P.stroke,w.bordercolor).call(P.fill,d(w,b)).style("stroke-width",w.borderwidth+"px")}function d(y,w){return w._isActive||w._isHovered?y.activecolor:y.bgcolor}function S(y,w,b,i){function E(F){t.convertToTspans(F,i)}var m=v.ensureSingle(y,"text","selector-text",function(F){F.attr("text-anchor","middle")});m.call(A.font,w.font).text(M(b,i._fullLayout._meta)).call(E)}function M(y,w){return y.label?w?v.templateString(y.label,w):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function C(y,w,b,i,E){var m=0,F=0,_=b.borderwidth;w.each(function(){var N=p.select(this),K=N.select(".selector-text"),q=b.font.size*o,Q=Math.max(q*t.lineCount(K),16)+3;F=Math.max(F,Q)}),w.each(function(){var N=p.select(this),K=N.select(".selector-rect"),q=N.select(".selector-text"),Q=q.node()&&A.bBox(q.node()).width,re=b.font.size*o,oe=t.lineCount(q),Y=Math.max(Q+10,n.minButtonWidth);N.attr("transform",g(_+m,_)),K.attr({x:0,y:0,width:Y,height:F}),t.positionText(q,Y/2,F/2-(oe-1)*re/2+3),m+=Y+5});var B=y._fullLayout._size,I=B.l+B.w*b.x,O=B.t+B.h*(1-b.y),z="left";v.isRightAnchor(b)&&(I-=m,z="right"),v.isCenterAnchor(b)&&(I-=m/2,z="center");var k="top";v.isBottomAnchor(b)&&(O-=F,k="bottom"),v.isMiddleAnchor(b)&&(O-=F/2,k="middle"),m=Math.ceil(m),F=Math.ceil(F),I=Math.round(I),O=Math.round(O),a.autoMargin(y,i+"-range-selector",{x:b.x,y:b.y,l:m*l[z],r:m*c[z],b:F*c[k],t:F*l[k]}),E.attr("transform",g(I,O))}},70565:function(W,U,e){var p=e(81041),L=e(71828).titleCase;W.exports=function(A,v){var g=A._name,t={};if(v.step==="all")t[g+".autorange"]=!0;else{var r=a(A,v);t[g+".range[0]"]=r[0],t[g+".range[1]"]=r[1]}return t};function a(P,A){var v=P.range,g=new Date(P.r2l(v[1])),t=A.step,r=p["utc"+L(t)],u=A.count,o;switch(A.stepmode){case"backward":o=P.l2r(+r.offset(g,-u));break;case"todate":var l=r.offset(g,-u);o=P.l2r(+r.ceil(l));break}var c=v[1];return[o,c]}},97218:function(W,U,e){W.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(W,U,e){var p=e(22399);W.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(W,U,e){var p=e(41675).list,L=e(71739).getAutoRange,a=e(73251);W.exports=function(A){for(var v=p(A,"x",!0),g=0;g<v.length;g++){var t=v[g],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=L(A,t))}}},73251:function(W){W.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(W,U,e){var p=e(71828),L=e(44467),a=e(41675),P=e(75148),A=e(47850);W.exports=function(g,t,r){var u=g[r],o=t[r];if(!(u.rangeslider||t._requestRangeslider[o._id]))return;p.isPlainObject(u.rangeslider)||(u.rangeslider={});var l=u.rangeslider,c=L.newContainer(o,"rangeslider");function n(i,E){return p.coerce(l,c,P,i,E)}var x,h;function T(i,E){return p.coerce(x,h,A,i,E)}var f=n("visible");if(f){n("bgcolor",t.plot_bgcolor),n("bordercolor"),n("borderwidth"),n("thickness"),n("autorange",!o.isValidRange(l.range)),n("range");var s=t._subplots;if(s)for(var d=s.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===a.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),S=p.simpleMap(d,a.id2name),M=0;M<S.length;M++){var C=S[M];x=l[C]||{},h=L.newContainer(c,C,"yaxis");var y=t[C],w;x.range&&y.isValidRange(x.range)&&(w="fixed");var b=T("rangemode",w);b!=="match"&&T("range",y.range.slice())}c._input=l}}},72413:function(W,U,e){var p=e(39898),L=e(73972),a=e(74875),P=e(71828),A=P.strTranslate,v=e(91424),g=e(7901),t=e(92998),r=e(93612),u=e(41675),o=e(28569),l=e(6964),c=e(73251);W.exports=function(y){for(var w=y._fullLayout,b=w._rangeSliderData,i=0;i<b.length;i++){var E=b[i][c.name];E._clipId=E._id+"-"+w._uid}function m(_){return _._name}var F=w._infolayer.selectAll("g."+c.containerClassName).data(b,m);F.exit().each(function(_){var B=_[c.name];w._topdefs.select("#"+B._clipId).remove()}).remove(),b.length!==0&&(F.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),F.each(function(_){var B=p.select(this),I=_[c.name],O=w[u.id2name(_.anchor)],z=I[u.id2name(_.anchor)];if(I.range){var k=P.simpleMap(I.range,_.r2l),N=P.simpleMap(_.range,_.r2l),K;N[0]<N[1]?K=[Math.min(k[0],N[0]),Math.max(k[1],N[1])]:K=[Math.max(k[0],N[0]),Math.min(k[1],N[1])],I.range=I._input.range=P.simpleMap(K,_.l2r)}_.cleanRange("rangeslider.range");var q=w._size,Q=_.domain;I._width=q.w*(Q[1]-Q[0]);var re=Math.round(q.l+q.w*Q[0]),oe=Math.round(q.t+q.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+I._offsetShift+c.extraPad);B.attr("transform",A(re,oe)),I._rl=P.simpleMap(I.range,_.r2l);var Y=I._rl[0],G=I._rl[1],V=G-Y;if(I.p2d=function(Te){return Te/I._width*V+Y},I.d2p=function(Te){return(Te-Y)/V*I._width},_.rangebreaks){var Z=_.locateBreaks(Y,G);if(Z.length){var ae,ie,J=0;for(ae=0;ae<Z.length;ae++)ie=Z[ae],J+=ie.max-ie.min;var $=I._width/(G-Y-J),se=[-$*Y];for(ae=0;ae<Z.length;ae++)ie=Z[ae],se.push(se[se.length-1]-$*(ie.max-ie.min));for(I.d2p=function(Te){for(var xe=se[0],Pe=0;Pe<Z.length;Pe++){var Ie=Z[Pe];if(Te>=Ie.max)xe=se[Pe+1];else if(Te<Ie.min)break}return xe+$*Te},ae=0;ae<Z.length;ae++)ie=Z[ae],ie.pmin=I.d2p(ie.min),ie.pmax=I.d2p(ie.max);I.p2d=function(Te){for(var xe=se[0],Pe=0;Pe<Z.length;Pe++){var Ie=Z[Pe];if(Te>=Ie.pmax)xe=se[Pe+1];else if(Te<Ie.pmin)break}return(Te-xe)/$}}}if(z.rangemode!=="match"){var ee=O.r2l(z.range[0]),ue=O.r2l(z.range[1]),ge=ue-ee;I.d2pOppAxis=function(Te){return(Te-ee)/ge*I._height}}B.call(T,y,_,I).call(f,y,_,I).call(s,y,_,I).call(S,y,_,I,z).call(M,y,_,I).call(C,y,_,I),n(B,y,_,I),h(B,y,_,I,O,z),_.side==="bottom"&&t.draw(y,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:w._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:oe+I._height+I._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))};function n(y,w,b,i){if(w._context.staticPlot)return;var E=y.select("rect."+c.slideBoxClassName).node(),m=y.select("rect."+c.grabAreaMinClassName).node(),F=y.select("rect."+c.grabAreaMaxClassName).node();function _(){var B=p.event,I=B.target,O=B.clientX||B.touches[0].clientX,z=O-y.node().getBoundingClientRect().left,k=i.d2p(b._rl[0]),N=i.d2p(b._rl[1]),K=o.coverSlip();this.addEventListener("touchmove",q),this.addEventListener("touchend",Q),K.addEventListener("mousemove",q),K.addEventListener("mouseup",Q);function q(re){var oe=re.clientX||re.touches[0].clientX,Y=+oe-O,G,V,Z;switch(I){case E:Z="ew-resize",G=k+Y,V=N+Y;break;case m:Z="col-resize",G=k+Y,V=N;break;case F:Z="col-resize",G=k,V=N+Y;break;default:Z="ew-resize",G=z,V=z+Y;break}if(V<G){var ae=V;V=G,G=ae}i._pixelMin=G,i._pixelMax=V,l(p.select(K),Z),x(y,w,b,i)}function Q(){K.removeEventListener("mousemove",q),K.removeEventListener("mouseup",Q),this.removeEventListener("touchmove",q),this.removeEventListener("touchend",Q),P.removeElement(K)}}y.on("mousedown",_),y.on("touchstart",_)}function x(y,w,b,i){function E(_){return b.l2r(P.constrain(_,i._rl[0],i._rl[1]))}var m=E(i.p2d(i._pixelMin)),F=E(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",w,b._name+".range",[m,F])})}function h(y,w,b,i,E,m){var F=c.handleWidth/2;function _(re){return P.constrain(re,0,i._width)}function B(re){return P.constrain(re,0,i._height)}function I(re){return P.constrain(re,-F,i._width+F)}var O=_(i.d2p(b._rl[0])),z=_(i.d2p(b._rl[1]));if(y.select("rect."+c.slideBoxClassName).attr("x",O).attr("width",z-O),y.select("rect."+c.maskMinClassName).attr("width",O),y.select("rect."+c.maskMaxClassName).attr("x",z).attr("width",i._width-z),m.rangemode!=="match"){var k=i._height-B(i.d2pOppAxis(E._rl[1])),N=i._height-B(i.d2pOppAxis(E._rl[0]));y.select("rect."+c.maskMinOppAxisClassName).attr("x",O).attr("height",k).attr("width",z-O),y.select("rect."+c.maskMaxOppAxisClassName).attr("x",O).attr("y",N).attr("height",i._height-N).attr("width",z-O),y.select("rect."+c.slideBoxClassName).attr("y",k).attr("height",N-k)}var K=.5,q=Math.round(I(O-F))-K,Q=Math.round(I(z-F))+K;y.select("g."+c.grabberMinClassName).attr("transform",A(q,K)),y.select("g."+c.grabberMaxClassName).attr("transform",A(Q,K))}function T(y,w,b,i){var E=P.ensureSingle(y,"rect",c.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),m=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,F=-i._offsetShift,_=v.crispRound(w,i.borderwidth);E.attr({width:i._width+m,height:i._height+m,transform:A(F,F),"stroke-width":_}).call(g.stroke,i.bordercolor).call(g.fill,i.bgcolor)}function f(y,w,b,i){var E=w._fullLayout,m=P.ensureSingleById(E._topdefs,"clipPath",i._clipId,function(F){F.append("rect").attr({x:0,y:0})});m.select("rect").attr({width:i._width,height:i._height})}function s(y,w,b,i){var E=w.calcdata,m=y.selectAll("g."+c.rangePlotClassName).data(b._subplotsWith,P.identity);m.enter().append("g").attr("class",function(_){return c.rangePlotClassName+" "+_}).call(v.setClipUrl,i._clipId,w),m.order(),m.exit().remove();var F;m.each(function(_,B){var I=p.select(this),O=B===0,z=u.getFromId(w,_,"y"),k=z._name,N=i[k],K={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:i.range.slice(),calendar:b.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:w._context};b.rangebreaks&&(K.layout.xaxis.rangebreaks=b.rangebreaks),K.layout[k]={type:z.type,domain:[0,1],range:N.rangemode!=="match"?N.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(K.layout[k].rangebreaks=z.rangebreaks),a.supplyDefaults(K);var q=K._fullLayout.xaxis,Q=K._fullLayout[k];q.clearCalc(),q.setScale(),Q.clearCalc(),Q.setScale();var re={id:_,plotgroup:I,xaxis:q,yaxis:Q,isRangePlot:!0};O?F=re:(re.mainplot="xy",re.mainplotinfo=F),r.rangePlot(w,re,d(E,_))})}function d(y,w){for(var b=[],i=0;i<y.length;i++){var E=y[i],m=E[0].trace;m.xaxis+m.yaxis===w&&b.push(E)}return b}function S(y,w,b,i,E){var m=P.ensureSingle(y,"rect",c.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})});m.attr("height",i._height).call(g.fill,c.maskColor);var F=P.ensureSingle(y,"rect",c.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});if(F.attr("height",i._height).call(g.fill,c.maskColor),E.rangemode!=="match"){var _=P.ensureSingle(y,"rect",c.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",i._width).call(g.fill,c.maskOppAxisColor);var B=P.ensureSingle(y,"rect",c.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",i._width).style("border-top",c.maskOppBorder).call(g.fill,c.maskOppAxisColor)}}function M(y,w,b,i){if(!w._context.staticPlot){var E=P.ensureSingle(y,"rect",c.slideBoxClassName,function(m){m.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})});E.attr({height:i._height,fill:c.slideBoxFill})}}function C(y,w,b,i){var E=P.ensureSingle(y,"g",c.grabberMinClassName),m=P.ensureSingle(y,"g",c.grabberMaxClassName),F={x:0,width:c.handleWidth,rx:c.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},_={y:Math.round(i._height/4),height:Math.round(i._height/2)},B=P.ensureSingle(E,"rect",c.handleMinClassName,function(N){N.attr(F)});B.attr(_);var I=P.ensureSingle(m,"rect",c.handleMaxClassName,function(N){N.attr(F)});I.attr(_);var O={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:w._context.staticPlot?void 0:c.grabAreaCursor},z=P.ensureSingle(E,"rect",c.grabAreaMinClassName,function(N){N.attr(O)});z.attr("height",i._height);var k=P.ensureSingle(m,"rect",c.grabAreaMaxClassName,function(N){N.attr(O)});k.attr("height",i._height)}},549:function(W,U,e){var p=e(41675),L=e(63893),a=e(73251),P=e(18783).LINE_SPACING,A=a.name;function v(g){var t=g&&g[A];return t&&t.visible}U.isVisible=v,U.makeData=function(g){var t=p.list({_fullLayout:g},"x",!0),r=g.margin,u=[];if(!g._has("gl2d"))for(var o=0;o<t.length;o++){var l=t[o];if(v(l)){u.push(l);var c=l[A];c._id=A+l._id,c._height=(g.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}g._rangeSliderData=u},U.autoMarginOpts=function(g,t){var r=g._fullLayout,u=t[A],o=t._id.charAt(0),l=0,c=0;if(t.side==="bottom"&&(l=t._depth,t.title.text!==r._dfltTitle[o])){c=1.5*t.title.font.size+10+u._offsetShift;var n=(t.title.text.match(L.BR_TAG_ALL)||[]).length;c+=n*t.title.font.size*P}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:u._height+l+Math.max(r.margin.b,c),pad:a.extraPad+u._offsetShift*2}}},13137:function(W,U,e){var p=e(71828),L=e(75148),a=e(47850),P=e(549);W.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}},47850:function(W){W.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(W,U,e){var p=e(50215),L=e(82196).line,a=e(79952).P,P=e(1426).extendFlat,A=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),W.exports=A(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},p.xref,{}),yref:P({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:P({},L.width,{min:1,dflt:1}),dash:P({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(W){W.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(W,U,e){var p=e(71828),L=e(89298),a=e(85501),P=e(8389),A=e(30477);W.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:v});for(var u=r.selections,o=0;o<u.length;o++){var l=u[o];l&&l.path===void 0&&(l.x0===void 0||l.x1===void 0||l.y0===void 0||l.y1===void 0)&&(r.selections[o]=null)}};function v(g,t,r){function u(m,F){return p.coerce(g,t,P,m,F)}var o=u("path"),l=o?"path":"rect",c=u("type",l),n=c!=="path";n&&delete t.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var x=["x","y"],h=0;h<2;h++){var T=x[h],f={_fullLayout:r},s,d,S,M=L.coerceRef(g,t,f,T);if(s=L.getFromId(f,M),s._selectionIndices.push(t._index),S=A.rangeToShapePosition(s),d=A.shapePositionToRange(s),n){var C=T+"0",y=T+"1",w=g[C],b=g[y];g[C]=d(g[C],!0),g[y]=d(g[y],!0),L.coercePosition(t,f,u,M,C),L.coercePosition(t,f,u,M,y);var i=t[C],E=t[y];i!==void 0&&E!==void 0&&(t[C]=S(i),t[y]=S(E),g[C]=w,g[y]=b)}}n&&p.noneOrAll(g,t,["x0","x1","y0","y1"])}},32485:function(W,U,e){var p=e(60165).readPaths,L=e(42359),a=e(51873).clearOutlineControllers,P=e(7901),A=e(91424),v=e(44467).arrayEditor,g=e(30477),t=g.getPathString;W.exports={draw:r,drawOne:o,activateLastSelection:n};function r(h){var T=h._fullLayout;a(h),T._selectionLayer.selectAll("path").remove();for(var f in T._plots){var s=T._plots[f].selectionLayer;s&&s.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)o(h,d)}function u(h){return h._context.editSelection}function o(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var f=g.makeSelectionsOptionsAndPlotinfo(h,T),s=f.options,d=f.plotinfo;if(!s._input)return;S(h._fullLayout._selectionLayer);function S(M){var C=t(h,s),y={"data-index":T,"fill-rule":"evenodd",d:C},w=s.opacity,b="rgba(0,0,0,0)",i=s.line.color||P.contrast(h._fullLayout.plot_bgcolor),E=s.line.width,m=s.line.dash;E||(E=5,m="solid");var F=u(h)&&h._fullLayout._activeSelectionIndex===T;F&&(b=h._fullLayout.activeselection.fillcolor,w=h._fullLayout.activeselection.opacity);for(var _=[],B=1;B>=0;B--){var I=M.append("path").attr(y).style("opacity",B?.1:w).call(P.stroke,i).call(P.fill,b).call(A.dashLine,B?"solid":m,B?4+E:E);if(l(I,h,s),F){var O=v(h.layout,"selections",s);I.style({cursor:"move"});var z={element:I.node(),plotinfo:d,gd:h,editHelpers:O,isActiveSelection:!0},k=p(C,h);L(k,I,z)}else I.style("pointer-events",B?"all":"none");_[B]=I}var N=_[0],K=_[1];K.node().addEventListener("click",function(){return c(h,N)})}}function l(h,T,f){var s=f.xref+f.yref;A.setClipUrl(h,"clip"+T._fullLayout._uid+s,T)}function c(h,T){if(u(h)){var f=T.node(),s=+f.getAttribute("data-index");if(s>=0){if(s===h._fullLayout._activeSelectionIndex){x(h);return}h._fullLayout._activeSelectionIndex=s,h._fullLayout._deactivateSelection=x,r(h)}}}function n(h){if(u(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=x,r(h)}}function x(h){if(u(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(a(h),delete h._fullLayout._activeSelectionIndex,r(h))}}},53777:function(W,U,e){var p=e(79952).P,L=e(1426).extendFlat;W.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(W){W.exports=function(e,p,L){L("newselection.mode");var a=L("newselection.line.width");a&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},35855:function(W,U,e){var p=e(64505),L=p.selectMode,a=e(51873),P=a.clearOutline,A=e(60165),v=A.readPaths,g=A.writePaths,t=A.fixDatesForPaths;W.exports=function(u,o){if(u.length){var l=u[0][0];if(l){var c=l.getAttribute("d"),n=o.gd,x=n._fullLayout.newselection,h=o.plotinfo,T=h.xaxis,f=h.yaxis,s=o.isActiveSelection,d=o.dragmode,S=(n.layout||{}).selections||[];if(!L(d)&&s!==void 0){var M=n._fullLayout._activeSelectionIndex;if(M<S.length)switch(n._fullLayout.selections[M].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(c,n,h,s),y={xref:T._id,yref:f._id,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}},w;C.length===1&&(w=C[0]),w&&w.length===5&&d==="select"?(y.type="rect",y.x0=w[0][1],y.y0=w[0][2],y.x1=w[2][1],y.y1=w[2][2]):(y.type="path",T&&f&&t(C,T,f),y.path=g(C),w=null),P(n);for(var b=o.editHelpers,i=(b||{}).modifyItem,E=[],m=0;m<S.length;m++){var F=n._fullLayout.selections[m];if(!F){E[m]=F;continue}if(E[m]=F._input,s!==void 0&&m===n._fullLayout._activeSelectionIndex){var _=y;switch(F.type){case"rect":i("x0",_.x0),i("x1",_.x1),i("y0",_.y0),i("y1",_.y1);break;case"path":i("path",_.path);break}}}return s===void 0?(E.push(y),E):b?b.getUpdateObj():{}}}}},75549:function(W,U,e){var p=e(71828).strTranslate;function L(v,g){switch(v.type){case"log":return v.p2d(g);case"date":return v.p2r(g,0,v.calendar);default:return v.p2r(g)}}function a(v,g){switch(v.type){case"log":return v.d2p(g);case"date":return v.r2p(g,0,v.calendar);default:return v.r2p(g)}}function P(v){var g=v._id.charAt(0)==="y"?1:0;return function(t){return L(v,t[g])}}function A(v){return p(v.xaxis._offset,v.yaxis._offset)}W.exports={p2r:L,r2p:a,axValue:P,getTransform:A}},47322:function(W,U,e){var p=e(32485),L=e(3937);W.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},3937:function(W,U,e){var p=e(52142),L=e(38258),a=e(73972),P=e(91424).dashStyle,A=e(7901),v=e(30211),g=e(23469).makeEventData,t=e(64505),r=t.freeMode,u=t.rectMode,o=t.drawMode,l=t.openMode,c=t.selectMode,n=e(30477),x=e(21459),h=e(42359),T=e(51873).clearOutline,f=e(60165),s=f.handleEllipse,d=f.readPaths,S=e(90551),M=e(35855),C=e(32485).activateLastSelection,y=e(71828),w=y.sorterAsc,b=e(61082),i=e(79990),E=e(41675).getFromId,m=e(33306),F=e(61549).redrawReglTraces,_=e(34122),B=_.MINSELECT,I=b.filter,O=b.tester,z=e(75549),k=z.p2r,N=z.axValue,K=z.getTransform;function q(Je){return Je.subplot!==void 0}function Q(Je,Re,Me,fe,ye){var Le=!q(fe),Oe=r(ye),ht=u(ye),vt=l(ye),Lt=o(ye),Ot=c(ye),Jt=ye==="drawline",qt=ye==="drawcircle",Vt=Jt||qt,vr=fe.gd,gr=vr._fullLayout,Gr=Ot&&gr.newselection.mode==="immediate"&&Le,At=gr._zoomlayer,or=fe.element.getBoundingClientRect(),rr=fe.plotinfo,Lr=K(rr),Tr=Re-or.left,pt=Me-or.top;gr._calcInverseTransform(vr);var st=y.apply3DTransform(gr._invTransform)(Tr,pt);Tr=st[0],pt=st[1];var yt=gr._invScaleX,Pt=gr._invScaleY,Dt=Tr,Nt=pt,Zt="M"+Tr+","+pt,$t=fe.xaxes[0],lr=fe.yaxes[0],ir=$t._length,He=lr._length,Ge=Je.altKey&&!(o(ye)&&vt),Ct,Ut,Kt,Xt,ur,Ar,Rr;Z(Je,vr,fe),Oe&&(Ct=I([[Tr,pt]],_.BENDPX));var wr=At.selectAll("path.select-outline-"+rr.id).data([1]),er=Lt?gr.newshape:gr.newselection,_r=Lt&&!vt?er.fillcolor:"rgba(0,0,0,0)",Vr=er.line.color||(Le?A.contrast(vr._fullLayout.plot_bgcolor):"#7f7f7f");wr.enter().append("path").attr("class","select-outline select-outline-"+rr.id).style({opacity:Lt?er.opacity/2:1,"stroke-dasharray":P(er.line.dash,er.line.width),"stroke-width":er.line.width+"px","shape-rendering":"crispEdges"}).call(A.stroke,Vr).call(A.fill,_r).attr("fill-rule","evenodd").classed("cursor-move",!!Lt).attr("transform",Lr).attr("d",Zt+"Z");var Br=At.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1}).attr("transform",Lr).attr("d","M0,0Z"),yr=gr._uid+_.SELECTID,pn=[],an=se(vr,fe.xaxes,fe.yaxes,fe.subplot);Gr&&!Je.shiftKey&&(fe._clearSubplotSelections=function(){if(Le){var Nn=$t._id,fn=lr._id;lt(vr,Nn,fn,an);for(var xn=(vr.layout||{}).selections||[],On=[],br=!1,Ir=0;Ir<xn.length;Ir++){var jr=gr.selections[Ir];jr.xref!==Nn||jr.yref!==fn?On.push(xn[Ir]):br=!0}br&&(vr._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",vr,{selections:On}))}});var Zr=ke(fe);fe.moveFn=function(Nn,fn){fe._clearSubplotSelections&&(fe._clearSubplotSelections(),fe._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(ir,yt*Nn+Tr)),Nt=Math.max(0,Math.min(He,Pt*fn+pt));var xn=Math.abs(Dt-Tr),On=Math.abs(Nt-pt);if(ht){var br,Ir,jr;if(Ot){var Wr=gr.selectdirection;switch(Wr==="any"?On<Math.min(xn*.6,B)?br="h":xn<Math.min(On*.6,B)?br="v":br="d":br=Wr,br){case"h":Ir=qt?He/2:0,jr=He;break;case"v":Ir=qt?ir/2:0,jr=ir;break}}if(Lt)switch(gr.newshape.drawdirection){case"vertical":br="h",Ir=qt?He/2:0,jr=He;break;case"horizontal":br="v",Ir=qt?ir/2:0,jr=ir;break;case"ortho":xn<On?(br="h",Ir=pt,jr=Nt):(br="v",Ir=Tr,jr=Dt);break;default:br="d"}br==="h"?(Xt=Vt?s(qt,[Dt,Ir],[Dt,jr]):[[Tr,Ir],[Tr,jr],[Dt,jr],[Dt,Ir]],Xt.xmin=Vt?Dt:Math.min(Tr,Dt),Xt.xmax=Vt?Dt:Math.max(Tr,Dt),Xt.ymin=Math.min(Ir,jr),Xt.ymax=Math.max(Ir,jr),Br.attr("d","M"+Xt.xmin+","+(pt-B)+"h-4v"+2*B+"h4ZM"+(Xt.xmax-1)+","+(pt-B)+"h4v"+2*B+"h-4Z")):br==="v"?(Xt=Vt?s(qt,[Ir,Nt],[jr,Nt]):[[Ir,pt],[Ir,Nt],[jr,Nt],[jr,pt]],Xt.xmin=Math.min(Ir,jr),Xt.xmax=Math.max(Ir,jr),Xt.ymin=Vt?Nt:Math.min(pt,Nt),Xt.ymax=Vt?Nt:Math.max(pt,Nt),Br.attr("d","M"+(Tr-B)+","+Xt.ymin+"v-4h"+2*B+"v4ZM"+(Tr-B)+","+(Xt.ymax-1)+"v4h"+2*B+"v-4Z")):br==="d"&&(Xt=Vt?s(qt,[Tr,pt],[Dt,Nt]):[[Tr,pt],[Tr,Nt],[Dt,Nt],[Dt,pt]],Xt.xmin=Math.min(Tr,Dt),Xt.xmax=Math.max(Tr,Dt),Xt.ymin=Math.min(pt,Nt),Xt.ymax=Math.max(pt,Nt),Br.attr("d","M0,0Z"))}else Oe&&(Ct.addPt([Dt,Nt]),Xt=Ct.filtered);if(fe.selectionDefs&&fe.selectionDefs.length?(Kt=be(fe.mergedPolygons,Xt,Ge),Xt.subtract=Ge,Ut=V(fe.selectionDefs.concat([Xt]))):(Kt=[Xt],Ut=O(Xt)),h(Ve(Kt,vt),wr,fe),Ot){var An=ze(vr,!1),wn=An.eventData?An.eventData.points.slice():[];An=ze(vr,!1,Ut,an,fe),Ut=An.selectionTesters,Rr=An.eventData;var Tn;Ct?Tn=Ct.filtered:Tn=Mt(Kt),i.throttle(yr,_.SELECTDELAY,function(){pn=We(Ut,an);for(var Rn=pn.slice(),Gn=0;Gn<wn.length;Gn++){for(var ma=wn[Gn],pa=!1,ua=0;ua<Rn.length;ua++)if(Rn[ua].curveNumber===ma.curveNumber&&Rn[ua].pointNumber===ma.pointNumber){pa=!0;break}pa||Rn.push(ma)}Rn.length&&(Rr||(Rr={}),Rr.points=Rn),Zr(Rr,Tn),Fe(vr,Rr)})}},fe.clickFn=function(Nn,fn){if(Br.remove(),vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}if(!Lt){var xn=gr.clickmode;i.done(yr).then(function(){if(i.clear(yr),Nn===2){for(wr.remove(),ur=0;ur<an.length;ur++)Ar=an[ur],Ar._module.selectPoints(Ar,!1);if(Ie(vr,an),J(fe),it(vr),an.length){var On=an[0].xaxis,br=an[0].yaxis;if(On&&br){for(var Ir=[],jr=vr._fullLayout.selections,Wr=0;Wr<jr.length;Wr++){var An=jr[Wr];An&&(An.xref!==On._id||An.yref!==br._id)&&Ir.push(An)}Ir.length<jr.length&&(vr._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",vr,{selections:Ir}))}}}else xn.indexOf("select")>-1&&re(fn,vr,fe.xaxes,fe.yaxes,fe.subplot,fe,wr),xn==="event"&&qe(vr,void 0);v.click(vr,fn)}).catch(y.error)}},fe.doneFn=function(){Br.remove(),i.done(yr).then(function(){i.clear(yr),!Gr&&Xt&&fe.selectionDefs&&(Xt.subtract=Ge,fe.selectionDefs.push(Xt),fe.mergedPolygons.length=0,[].push.apply(fe.mergedPolygons,Kt)),(Gr||Lt)&&J(fe,Gr),fe.doneFnCompleted&&fe.doneFnCompleted(pn),Ot&&qe(vr,Rr)}).catch(y.error)}}function re(Je,Re,Me,fe,ye,Le,Oe){var ht=Re._hoverdata,vt=Re._fullLayout,Lt=vt.clickmode,Ot=Lt.indexOf("event")>-1,Jt=[],qt,Vt,vr,gr,Gr,At,or,rr,Lr,Tr;if(ue(ht)){Z(Je,Re,Le),qt=se(Re,Me,fe,ye);var pt=ge(ht,qt),st=pt.pointNumbers.length>0;if(st?xe(qt,pt):Pe(qt)&&(or=Te(pt))){for(Oe&&Oe.remove(),Tr=0;Tr<qt.length;Tr++)Vt=qt[Tr],Vt._module.selectPoints(Vt,!1);Ie(Re,qt),J(Le),Ot&&it(Re)}else{rr=Je.shiftKey&&(or!==void 0?or:Te(pt)),vr=oe(pt.pointNumber,pt.searchInfo,rr);var yt=Le.selectionDefs.concat([vr]);for(gr=V(yt),Tr=0;Tr<qt.length;Tr++)if(Gr=qt[Tr]._module.selectPoints(qt[Tr],gr),At=_e(Gr,qt[Tr]),Jt.length)for(var Pt=0;Pt<At.length;Pt++)Jt.push(At[Pt]);else Jt=At;if(Lr={points:Jt},Ie(Re,qt,Lr),vr&&Le&&Le.selectionDefs.push(vr),Oe){var Dt=Le.mergedPolygons,Nt=l(Le.dragmode);h(Ve(Dt,Nt),Oe,Le)}Ot&&qe(Re,Lr)}}}function oe(Je,Re,Me){return{pointNumber:Je,searchInfo:Re,subtract:!!Me}}function Y(Je){return"pointNumber"in Je&&"searchInfo"in Je}function G(Je){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Re,Me,fe,ye){var Le=Je.searchInfo.cd[0].trace._expandedIndex,Oe=ye.cd[0].trace._expandedIndex;return Oe===Le&&fe===Je.pointNumber},isRect:!1,degenerate:!1,subtract:!!Je.subtract}}function V(Je){if(!Je.length)return;for(var Re=[],Me=Y(Je[0])?0:Je[0][0][0],fe=Me,ye=Y(Je[0])?0:Je[0][0][1],Le=ye,Oe=0;Oe<Je.length;Oe++)if(Y(Je[Oe]))Re.push(G(Je[Oe]));else{var ht=O(Je[Oe]);ht.subtract=!!Je[Oe].subtract,Re.push(ht),Me=Math.min(Me,ht.xmin),fe=Math.max(fe,ht.xmax),ye=Math.min(ye,ht.ymin),Le=Math.max(Le,ht.ymax)}function vt(Lt,Ot,Jt,qt){for(var Vt=!1,vr=0;vr<Re.length;vr++)Re[vr].contains(Lt,Ot,Jt,qt)&&(Vt=!Re[vr].subtract);return Vt}return{xmin:Me,xmax:fe,ymin:ye,ymax:Le,pts:[],contains:vt,isRect:!1,degenerate:!1}}function Z(Je,Re,Me){var fe=Re._fullLayout,ye=Me.plotinfo,Le=Me.dragmode,Oe=fe._lastSelectedSubplot&&fe._lastSelectedSubplot===ye.id,ht=(Je.shiftKey||Je.altKey)&&!(o(Le)&&l(Le));Oe&&ht&&ye.selection&&ye.selection.selectionDefs&&!Me.selectionDefs?(Me.selectionDefs=ye.selection.selectionDefs,Me.mergedPolygons=ye.selection.mergedPolygons):(!ht||!ye.selection)&&J(Me),Oe||(T(Re),fe._lastSelectedSubplot=ye.id)}function ae(Je){return Je._fullLayout._activeShapeIndex>=0}function ie(Je){return Je._fullLayout._activeSelectionIndex>=0}function J(Je,Re){var Me=Je.dragmode,fe=Je.plotinfo,ye=Je.gd;ae(ye)&&ye._fullLayout._deactivateShape(ye),ie(ye)&&ye._fullLayout._deactivateSelection(ye);var Le=ye._fullLayout,Oe=Le._zoomlayer,ht=o(Me),vt=c(Me);if(ht||vt){var Lt=Oe.selectAll(".select-outline-"+fe.id);if(Lt&&ye._fullLayout._outlining){var Ot;ht&&(Ot=S(Lt,Je)),Ot&&a.call("_guiRelayout",ye,{shapes:Ot});var Jt;vt&&!q(Je)&&(Jt=M(Lt,Je)),Jt&&(ye._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",ye,{selections:Jt}).then(function(){Re&&C(ye)})),ye._fullLayout._outlining=!1}}fe.selection={},fe.selection.selectionDefs=Je.selectionDefs=[],fe.selection.mergedPolygons=Je.mergedPolygons=[]}function $(Je){return Je._id}function se(Je,Re,Me,fe){if(!Je.calcdata)return[];var ye=[],Le=Re.map($),Oe=Me.map($),ht,vt,Lt;for(Lt=0;Lt<Je.calcdata.length;Lt++)if(ht=Je.calcdata[Lt],vt=ht[0].trace,!(vt.visible!==!0||!vt._module||!vt._module.selectPoints))if(q({subplot:fe})&&(vt.subplot===fe||vt.geo===fe))ye.push(ee(vt._module,ht,Re[0],Me[0]));else if(vt.type==="splom"){if(vt._xaxes[Le[0]]&&vt._yaxes[Oe[0]]){var Ot=ee(vt._module,ht,Re[0],Me[0]);Ot.scene=Je._fullLayout._splomScenes[vt.uid],ye.push(Ot)}}else if(vt.type==="sankey"){var Jt=ee(vt._module,ht,Re[0],Me[0]);ye.push(Jt)}else{if(Le.indexOf(vt.xaxis)===-1||Oe.indexOf(vt.yaxis)===-1)continue;ye.push(ee(vt._module,ht,E(Je,vt.xaxis),E(Je,vt.yaxis)))}return ye}function ee(Je,Re,Me,fe){return{_module:Je,cd:Re,xaxis:Me,yaxis:fe}}function ue(Je){return Je&&Array.isArray(Je)&&Je[0].hoverOnBox!==!0}function ge(Je,Re){var Me=Je[0],fe=-1,ye=[],Le,Oe;for(Oe=0;Oe<Re.length;Oe++)if(Le=Re[Oe],Me.fullData._expandedIndex===Le.cd[0].trace._expandedIndex){if(Me.hoverOnBox===!0)break;Me.pointNumber!==void 0?fe=Me.pointNumber:Me.binNumber!==void 0&&(fe=Me.binNumber,ye=Me.pointNumbers);break}return{pointNumber:fe,pointNumbers:ye,searchInfo:Le}}function Te(Je){var Re=Je.searchInfo.cd[0].trace,Me=Je.pointNumber,fe=Je.pointNumbers,ye=fe.length>0,Le=ye?fe[0]:Me;return Re.selectedpoints?Re.selectedpoints.indexOf(Le)>-1:!1}function xe(Je,Re){var Me=[],fe,ye,Le,Oe;for(Oe=0;Oe<Je.length;Oe++)fe=Je[Oe],fe.cd[0].trace.selectedpoints&&fe.cd[0].trace.selectedpoints.length>0&&Me.push(fe);if(Me.length===1&&(Le=Me[0]===Re.searchInfo,Le&&(ye=Re.searchInfo.cd[0].trace,ye.selectedpoints.length===Re.pointNumbers.length))){for(Oe=0;Oe<Re.pointNumbers.length;Oe++)if(ye.selectedpoints.indexOf(Re.pointNumbers[Oe])<0)return!1;return!0}return!1}function Pe(Je){var Re=0,Me,fe,ye;for(ye=0;ye<Je.length;ye++)if(Me=Je[ye],fe=Me.cd[0].trace,fe.selectedpoints&&(fe.selectedpoints.length>1||(Re+=fe.selectedpoints.length,Re>1)))return!1;return Re===1}function Ie(Je,Re,Me){var fe;for(fe=0;fe<Re.length;fe++){var ye=Re[fe].cd[0].trace._fullInput,Le=Je._fullLayout._tracePreGUI[ye.uid]||{};Le.selectedpoints===void 0&&(Le.selectedpoints=ye._input.selectedpoints||null)}var Oe;if(Me){var ht=Me.points||[];for(fe=0;fe<Re.length;fe++)Oe=Re[fe].cd[0].trace,Oe._input.selectedpoints=Oe._fullInput.selectedpoints=[],Oe._fullInput!==Oe&&(Oe.selectedpoints=[]);for(var vt=0;vt<ht.length;vt++){var Lt=ht[vt],Ot=Lt.data,Jt=Lt.fullData,qt=Lt.pointIndex,Vt=Lt.pointIndices;Vt?([].push.apply(Ot.selectedpoints,Vt),Oe._fullInput!==Oe&&[].push.apply(Jt.selectedpoints,Vt)):(Ot.selectedpoints.push(qt),Oe._fullInput!==Oe&&Jt.selectedpoints.push(qt))}}else for(fe=0;fe<Re.length;fe++)Oe=Re[fe].cd[0].trace,delete Oe.selectedpoints,delete Oe._input.selectedpoints,Oe._fullInput!==Oe&&delete Oe._fullInput.selectedpoints;Ae(Je,Re)}function Ae(Je,Re){for(var Me=!1,fe=0;fe<Re.length;fe++){var ye=Re[fe],Le=ye.cd;a.traceIs(Le[0].trace,"regl")&&(Me=!0);var Oe=ye._module,ht=Oe.styleOnSelect||Oe.style;ht&&(ht(Je,Le,Le[0].node3),Le[0].nodeRangePlot3&&ht(Je,Le,Le[0].nodeRangePlot3))}Me&&(m(Je),F(Je))}function be(Je,Re,Me){for(var fe=Me?p.difference:p.union,ye=fe({regions:Je},{regions:[Re]}),Le=ye.regions.reverse(),Oe=0;Oe<Le.length;Oe++){var ht=Le[Oe];ht.subtract=dt(ht,Le.slice(0,Oe))}return Le}function _e(Je,Re){if(Array.isArray(Je))for(var Me=Re.cd,fe=Re.cd[0].trace,ye=0;ye<Je.length;ye++)Je[ye]=g(Je[ye],fe,Me);return Je}function Ve(Je,Re){for(var Me=[],fe=0;fe<Je.length;fe++){Me[fe]=[];for(var ye=0;ye<Je[fe].length;ye++){Me[fe][ye]=[],Me[fe][ye][0]=ye?"L":"M";for(var Le=0;Le<Je[fe][ye].length;Le++)Me[fe][ye].push(Je[fe][ye][Le])}Re||Me[fe].push(["Z",Me[fe][0][1],Me[fe][0][2]])}return Me}function We(Je,Re){for(var Me=[],fe,ye,Le=0;Le<Re.length;Le++){var Oe=Re[Le];ye=Oe._module.selectPoints(Oe,Je),fe=_e(ye,Oe),Me=Me.concat(fe)}return Me}function ze(Je,Re,Me,fe,ye){var Le=!!fe,Oe,ht,vt;ye&&(Oe=ye.plotinfo,ht=ye.xaxes[0]._id,vt=ye.yaxes[0]._id);var Lt=[],Ot=[],Jt=tt(Je),qt=Je._fullLayout;if(Oe){var Vt=qt._zoomlayer,vr=qt.dragmode,gr=o(vr),Gr=c(vr);if(gr||Gr){var At=E(Je,ht,"x"),or=E(Je,vt,"y");if(At&&or){var rr=Vt.selectAll(".select-outline-"+Oe.id);if(rr&&Je._fullLayout._outlining&&rr.length){for(var Lr=rr[0][0],Tr=Lr.getAttribute("d"),pt=d(Tr,Je,Oe),st=[],yt=0;yt<pt.length;yt++){for(var Pt=pt[yt],Dt=[],Nt=0;Nt<Pt.length;Nt++)Dt.push([wt(At,Pt[Nt][1]),wt(or,Pt[Nt][2])]);Dt.xref=ht,Dt.yref=vt,Dt.subtract=dt(Dt,st),st.push(Dt)}Jt=Jt.concat(st)}}}}var Zt=ht&&vt?[ht+vt]:qt._subplots.cartesian;Ze(Je);for(var $t={},lr=0;lr<Zt.length;lr++){var ir=Zt[lr],He=ir.indexOf("y"),Ge=ir.slice(0,He),Ct=ir.slice(He),Ut=ht&&vt?Me:void 0;if(Ut=at(Jt,Ge,Ct,Ut),Ut){var Kt=fe;if(!Le){var Xt=E(Je,Ge,"x"),ur=E(Je,Ct,"y");Kt=se(Je,[Xt],[ur],ir);for(var Ar=0;Ar<Kt.length;Ar++){var Rr=Kt[Ar],wr=Rr.cd[0],er=wr.trace;if(Rr._module.name==="scattergl"&&!wr.t.xpx){var _r=er.x,Vr=er.y,Br=er._length;wr.t.xpx=[],wr.t.ypx=[];for(var yr=0;yr<Br;yr++)wr.t.xpx[yr]=Xt.c2p(_r[yr]),wr.t.ypx[yr]=ur.c2p(Vr[yr])}Rr._module.name==="splom"&&($t[er.uid]||($t[er.uid]=!0))}}var pn=We(Ut,Kt);Lt=Lt.concat(pn),Ot=Ot.concat(Kt)}}var an={points:Lt};Ie(Je,Ot,an);var Zr=qt.clickmode,Nn=Zr.indexOf("event")>-1&&Re;if(!Oe&&Re){var fn=tt(Je,!0);if(fn.length){var xn=fn[0].xref,On=fn[0].yref;if(xn&&On){var br=Mt(fn),Ir=$e([E(Je,xn,"x"),E(Je,On,"y")]);Ir(an,br)}}Je._fullLayout._noEmitSelectedAtStart?Je._fullLayout._noEmitSelectedAtStart=!1:Nn&&qe(Je,an),qt._reselect=!1}if(!Oe&&qt._deselect){var jr=qt._deselect;ht=jr.xref,vt=jr.yref,ct(ht,vt,Ot)||lt(Je,ht,vt,fe),Nn&&(an.points.length?qe(Je,an):it(Je)),qt._deselect=!1}return{eventData:an,selectionTesters:Me}}function Ze(Je){var Re=Je.calcdata;if(Re)for(var Me=0;Me<Re.length;Me++){var fe=Re[Me][0],ye=fe.trace,Le=Je._fullLayout._splomScenes;if(Le){var Oe=Le[ye.uid];Oe&&(Oe.selectBatch=[])}}}function ct(Je,Re,Me){for(var fe=0;fe<Me.length;fe++){var ye=Me[fe];if(ye.xaxis&&ye.xaxis._id===Je&&ye.yaxis&&ye.yaxis._id===Re)return!0}return!1}function lt(Je,Re,Me,fe){fe=se(Je,[E(Je,Re,"x")],[E(Je,Me,"y")],Re+Me);for(var ye=0;ye<fe.length;ye++){var Le=fe[ye];Le._module.selectPoints(Le,!1)}Ie(Je,fe)}function at(Je,Re,Me,fe){for(var ye,Le=0;Le<Je.length;Le++){var Oe=Je[Le];if(!(Re!==Oe.xref||Me!==Oe.yref))if(ye){var ht=!!Oe.subtract;ye=be(ye,Oe,ht),fe=V(ye)}else ye=[Oe],fe=O(Oe)}return fe}function tt(Je,Re){for(var Me=[],fe=Je._fullLayout,ye=fe.selections,Le=ye.length,Oe=0;Oe<Le;Oe++)if(!(Re&&Oe!==fe._activeSelectionIndex)){var ht=ye[Oe];if(ht){var vt=ht.xref,Lt=ht.yref,Ot=E(Je,vt,"x"),Jt=E(Je,Lt,"y"),qt,Vt,vr,gr,Gr;if(ht.type==="rect"){Gr=[];var At=wt(Ot,ht.x0),or=wt(Ot,ht.x1),rr=wt(Jt,ht.y0),Lr=wt(Jt,ht.y1);Gr=[[At,rr],[At,Lr],[or,Lr],[or,rr]],qt=Math.min(At,or),Vt=Math.max(At,or),vr=Math.min(rr,Lr),gr=Math.max(rr,Lr),Gr.xmin=qt,Gr.xmax=Vt,Gr.ymin=vr,Gr.ymax=gr,Gr.xref=vt,Gr.yref=Lt,Gr.subtract=!1,Gr.isRect=!0,Me.push(Gr)}else if(ht.type==="path")for(var Tr=ht.path.split("Z"),pt=[],st=0;st<Tr.length;st++){var yt=Tr[st];if(yt){yt+="Z";var Pt=n.extractPathCoords(yt,x.paramIsX,"raw"),Dt=n.extractPathCoords(yt,x.paramIsY,"raw");qt=1/0,Vt=-1/0,vr=1/0,gr=-1/0,Gr=[];for(var Nt=0;Nt<Pt.length;Nt++){var Zt=wt(Ot,Pt[Nt]),$t=wt(Jt,Dt[Nt]);Gr.push([Zt,$t]),qt=Math.min(Zt,qt),Vt=Math.max(Zt,Vt),vr=Math.min($t,vr),gr=Math.max($t,gr)}Gr.xmin=qt,Gr.xmax=Vt,Gr.ymin=vr,Gr.ymax=gr,Gr.xref=vt,Gr.yref=Lt,Gr.subtract=dt(Gr,pt),pt.push(Gr),Me.push(Gr)}}}}return Me}function dt(Je,Re){for(var Me=!1,fe=0;fe<Re.length;fe++)for(var ye=Re[fe],Le=0;Le<Je.length;Le++)if(L(Je[Le],ye)){Me=!Me;break}return Me}function wt(Je,Re){return Je.type==="date"&&(Re=Re.replace("_"," ")),Je.type==="log"?Je.c2p(Re):Je.r2p(Re,null,Je.calendar)}function Mt(Je){for(var Re=Je.length,Me=[],fe=0;fe<Re;fe++){var ye=Je[fe];Me=Me.concat(ye),Me=Me.concat([ye[0]])}return It(Me)}function It(Je){return Je.isRect=Je.length===5&&Je[0][0]===Je[4][0]&&Je[0][1]===Je[4][1]&&Je[0][0]===Je[1][0]&&Je[2][0]===Je[3][0]&&Je[0][1]===Je[3][1]&&Je[1][1]===Je[2][1]||Je[0][1]===Je[1][1]&&Je[2][1]===Je[3][1]&&Je[0][0]===Je[3][0]&&Je[1][0]===Je[2][0],Je.isRect&&(Je.xmin=Math.min(Je[0][0],Je[2][0]),Je.xmax=Math.max(Je[0][0],Je[2][0]),Je.ymin=Math.min(Je[0][1],Je[2][1]),Je.ymax=Math.max(Je[0][1],Je[2][1])),Je}function $e(Je){return function(Re,Me){for(var fe,ye,Le=0;Le<Je.length;Le++){var Oe=Je[Le],ht=Oe._id,vt=ht.charAt(0);if(Me.isRect){fe||(fe={});var Lt=Me[vt+"min"],Ot=Me[vt+"max"];Lt!==void 0&&Ot!==void 0&&(fe[ht]=[k(Oe,Lt),k(Oe,Ot)].sort(w))}else ye||(ye={}),ye[ht]=Me.map(N(Oe))}fe&&(Re.range=fe),ye&&(Re.lassoPoints=ye)}}function ke(Je){var Re=Je.plotinfo;return Re.fillRangeItems||$e(Je.xaxes.concat(Je.yaxes))}function Fe(Je,Re){Je.emit("plotly_selecting",Re)}function qe(Je,Re){Re&&(Re.selections=(Je.layout||{}).selections||[]),Je.emit("plotly_selected",Re)}function it(Je){Je.emit("plotly_deselect",null)}W.exports={reselect:ze,prepSelect:Q,clearOutline:T,clearSelectionsCache:J,selectOnClick:re}},89827:function(W,U,e){var p=e(50215),L=e(82196).line,a=e(79952).P,P=e(1426).extendFlat,A=e(44467).templatedArray;e(24695),W.exports=A("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:P({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:P({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:P({},L.color,{editType:"arraydraw"}),width:P({},L.width,{editType:"calc+arraydraw"}),dash:P({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},5627:function(W,U,e){var p=e(71828),L=e(89298),a=e(21459),P=e(30477);W.exports=function(u){var o=u._fullLayout,l=p.filterVisible(o.shapes);if(!(!l.length||!u._fullData.length))for(var c=0;c<l.length;c++){var n=l[c];n._extremes={};var x,h,T=L.getRefType(n.xref),f=L.getRefType(n.yref);if(n.xref!=="paper"&&T!=="domain"){var s=n.xsizemode==="pixel"?n.xanchor:n.x0,d=n.xsizemode==="pixel"?n.xanchor:n.x1;x=L.getFromId(u,n.xref),h=t(x,s,d,n.path,a.paramIsX),h&&(n._extremes[x._id]=L.findExtremes(x,h,A(n)))}if(n.yref!=="paper"&&f!=="domain"){var S=n.ysizemode==="pixel"?n.yanchor:n.y0,M=n.ysizemode==="pixel"?n.yanchor:n.y1;x=L.getFromId(u,n.yref),h=t(x,S,M,n.path,a.paramIsY),h&&(n._extremes[x._id]=L.findExtremes(x,h,v(n)))}}};function A(r){return g(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return g(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function g(r,u,o,l,c,n){var x=r/2,h=n;if(u==="pixel"){var T=c?P.extractPathCoords(c,n?a.paramIsY:a.paramIsX):[o,l],f=p.aggNums(Math.max,null,T),s=p.aggNums(Math.min,null,T),d=s<0?Math.abs(s)+x:x,S=f>0?f+x:x;return{ppad:x,ppadplus:h?d:S,ppadminus:h?S:d}}else return{ppad:x}}function t(r,u,o,l,c){var n=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(u!==void 0)return[n(u),n(o)];if(l){var x=1/0,h=-1/0,T=l.match(a.segmentRE),f,s,d,S,M;for(r.type==="date"&&(n=P.decodeDate(n)),f=0;f<T.length;f++)s=T[f],d=c[s.charAt(0)].drawn,d!==void 0&&(S=T[f].substr(1).match(a.paramRE),!(!S||S.length<d)&&(M=n(S[d]),M<x&&(x=M),M>h&&(h=M)));if(h>=x)return[x,h]}}},21459:function(W){W.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(W,U,e){var p=e(71828),L=e(89298),a=e(85501),P=e(89827),A=e(30477);W.exports=function(t,r){a(t,r,{name:"shapes",handleItemDefaults:v})};function v(g,t,r){function u(N,K){return p.coerce(g,t,P,N,K)}var o=u("visible");if(o){var l=u("path"),c=l?"path":"rect",n=u("type",c),x=n!=="path";x&&delete t.path,u("editable"),u("layer"),u("opacity"),u("fillcolor"),u("fillrule");var h=u("line.width");h&&(u("line.color"),u("line.dash"));for(var T=u("xsizemode"),f=u("ysizemode"),s=["x","y"],d=0;d<2;d++){var S=s[d],M=S+"anchor",C=S==="x"?T:f,y={_fullLayout:r},w,b,i,E=L.coerceRef(g,t,y,S,void 0,"paper"),m=L.getRefType(E);if(m==="range"?(w=L.getFromId(y,E),w._shapeIndices.push(t._index),i=A.rangeToShapePosition(w),b=A.shapePositionToRange(w)):b=i=p.identity,x){var F=.25,_=.75,B=S+"0",I=S+"1",O=g[B],z=g[I];g[B]=b(g[B],!0),g[I]=b(g[I],!0),C==="pixel"?(u(B,0),u(I,10)):(L.coercePosition(t,y,u,E,B,F),L.coercePosition(t,y,u,E,I,_)),t[B]=i(t[B]),t[I]=i(t[I]),g[B]=O,g[I]=z}if(C==="pixel"){var k=g[M];g[M]=b(g[M],!0),L.coercePosition(t,y,u,E,M,.25),t[M]=i(t[M]),g[M]=k}}x&&p.noneOrAll(g,t,["x0","x1","y0","y1"])}}},42359:function(W,U,e){var p=e(71828),L=p.strTranslate,a=e(28569),P=e(64505),A=P.drawMode,v=P.selectMode,g=e(73972),t=e(7901),r=e(89995),u=r.i000,o=r.i090,l=r.i180,c=r.i270,n=e(51873),x=n.clearOutlineControllers,h=e(60165),T=h.pointsOnRectangle,f=h.pointsOnEllipse,s=h.writePaths,d=e(90551),S=e(35855);W.exports=function w(b,i,E,m){m||(m=0);var F=E.gd;function _(){w(b,i,E,m++),f(b[0])&&B({redrawing:!0})}function B(xe){var Pe={};E.isActiveShape!==void 0&&(E.isActiveShape=!1,Pe=d(i,E)),E.isActiveSelection!==void 0&&(E.isActiveSelection=!1,Pe=S(i,E),F._fullLayout._reselect=!0),Object.keys(Pe).length&&g.call((xe||{}).redrawing?"relayout":"_guiRelayout",F,Pe)}var I=F._fullLayout,O=I._zoomlayer,z=E.dragmode,k=A(z),N=v(z);(k||N)&&(F._fullLayout._outlining=!0),x(F),i.attr("d",s(b));var K,q,Q,re,oe;if(!m&&(E.isActiveShape||E.isActiveSelection)){oe=M([],b);var Y=O.append("g").attr("class","outline-controllers");J(Y),Te()}function G(xe){Q=+xe.srcElement.getAttribute("data-i"),re=+xe.srcElement.getAttribute("data-j"),K[Q][re].moveFn=V}function V(xe,Pe){if(b.length){var Ie=oe[Q][re][1],Ae=oe[Q][re][2],be=b[Q],_e=be.length;if(T(be)){var Ve=xe,We=Pe;if(E.isActiveSelection){var ze=C(be,re);ze[1]===be[re][1]?We=0:Ve=0}for(var Ze=0;Ze<_e;Ze++)if(Ze!==re){var ct=be[Ze];ct[1]===be[re][1]&&(ct[1]=Ie+Ve),ct[2]===be[re][2]&&(ct[2]=Ae+We)}if(be[re][1]=Ie+Ve,be[re][2]=Ae+We,!T(be))for(var lt=0;lt<_e;lt++)for(var at=0;at<be[lt].length;at++)be[lt][at]=oe[Q][lt][at]}else be[re][1]=Ie+xe,be[re][2]=Ae+Pe;_()}}function Z(){B()}function ae(){if(b.length&&b[Q]&&b[Q].length){for(var xe=[],Pe=0;Pe<b[Q].length;Pe++)Pe!==re&&xe.push(b[Q][Pe]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(re===0&&(xe[0][0]="M"),b[Q]=xe,_(),B())}}function ie(xe,Pe){if(xe===2){Q=+Pe.srcElement.getAttribute("data-i"),re=+Pe.srcElement.getAttribute("data-j");var Ie=b[Q];!T(Ie)&&!f(Ie)&&ae()}}function J(xe){K=[];for(var Pe=0;Pe<b.length;Pe++){var Ie=b[Pe],Ae=T(Ie),be=!Ae&&f(Ie);K[Pe]=[];for(var _e=Ie.length,Ve=0;Ve<_e;Ve++)if(Ie[Ve][0]!=="Z"&&!(be&&Ve!==u&&Ve!==o&&Ve!==l&&Ve!==c)){var We=Ae&&E.isActiveSelection,ze;We&&(ze=C(Ie,Ve));var Ze=Ie[Ve][1],ct=Ie[Ve][2],lt=xe.append(We?"rect":"circle").attr("data-i",Pe).attr("data-j",Ve).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(We){var at=ze[1]-Ze,tt=ze[2]-ct,dt=tt?5:Math.max(Math.min(25,Math.abs(at)-5),5),wt=at?5:Math.max(Math.min(25,Math.abs(tt)-5),5);lt.classed(tt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",dt).attr("height",wt).attr("x",Ze-dt/2).attr("y",ct-wt/2).attr("transform",L(at/2,tt/2))}else lt.classed("cursor-grab",!0).attr("r",5).attr("cx",Ze).attr("cy",ct);K[Pe][Ve]={element:lt.node(),gd:F,prepFn:G,doneFn:Z,clickFn:ie},a.init(K[Pe][Ve])}}}function $(xe,Pe){if(b.length)for(var Ie=0;Ie<b.length;Ie++)for(var Ae=0;Ae<b[Ie].length;Ae++)for(var be=0;be+2<b[Ie][Ae].length;be+=2)b[Ie][Ae][be+1]=oe[Ie][Ae][be+1]+xe,b[Ie][Ae][be+2]=oe[Ie][Ae][be+2]+Pe}function se(xe,Pe){$(xe,Pe),_()}function ee(xe){Q=+xe.srcElement.getAttribute("data-i"),Q||(Q=0),q[Q].moveFn=se}function ue(){B()}function ge(xe){xe===2&&y(F)}function Te(){if(q=[],!!b.length){var xe=0;q[xe]={element:i[0][0],gd:F,prepFn:ee,doneFn:ue,clickFn:ge},a.init(q[xe])}}};function M(w,b){for(var i=0;i<b.length;i++){var E=b[i];w[i]=[];for(var m=0;m<E.length;m++){w[i][m]=[];for(var F=0;F<E[m].length;F++)w[i][m][F]=E[m][F]}}return w}function C(w,b){var i=w[b][1],E=w[b][2],m=w.length,F,_,B;return F=(b+1)%m,_=w[F][1],B=w[F][2],_===i&&B===E&&(F=(b+2)%m,_=w[F][1],B=w[F][2]),[F,_,B]}function y(w){if(v(w._fullLayout.dragmode)){x(w);var b=w._fullLayout._activeSelectionIndex,i=(w.layout||{}).selections||[];if(b<i.length){for(var E=[],m=0;m<i.length;m++)m!==b&&E.push(i[m]);delete w._fullLayout._activeSelectionIndex;var F=w._fullLayout.selections[b];w._fullLayout._deselect={xref:F.xref,yref:F.yref},g.call("_guiRelayout",w,{selections:E})}}}},34031:function(W,U,e){var p=e(73972),L=e(71828),a=e(89298),P=e(60165).readPaths,A=e(42359),v=e(51873).clearOutlineControllers,g=e(7901),t=e(91424),r=e(44467).arrayEditor,u=e(28569),o=e(6964),l=e(21459),c=e(30477),n=c.getPathString;W.exports={draw:x,drawOne:f,eraseActiveShape:y};function x(w){var b=w._fullLayout;b._shapeUpperLayer.selectAll("path").remove(),b._shapeLowerLayer.selectAll("path").remove();for(var i in b._plots){var E=b._plots[i].shapelayer;E&&E.selectAll("path").remove()}for(var m=0;m<b.shapes.length;m++)b.shapes[m].visible&&f(w,m)}function h(w){return!!w._fullLayout._outlining}function T(w){return!w._context.edits.shapePosition}function f(w,b){w._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+b+'"]').remove();var i=c.makeShapesOptionsAndPlotinfo(w,b),E=i.options,m=i.plotinfo;if(!E._input||E.visible===!1)return;if(E.layer!=="below")_(w._fullLayout._shapeUpperLayer);else if(E.xref==="paper"||E.yref==="paper")_(w._fullLayout._shapeLowerLayer);else if(m._hadPlotinfo){var F=m.mainplotinfo||m;_(F.shapelayer)}else _(w._fullLayout._shapeLowerLayer);function _(B){var I=n(w,E),O={"data-index":b,"fill-rule":E.fillrule,d:I},z=E.opacity,k=E.fillcolor,N=E.line.width?E.line.color:"rgba(0,0,0,0)",K=E.line.width,q=E.line.dash;!K&&E.editable===!0&&(K=5,q="solid");var Q=I[I.length-1]!=="Z",re=T(w)&&E.editable&&w._fullLayout._activeShapeIndex===b;re&&(k=Q?"rgba(0,0,0,0)":w._fullLayout.activeshape.fillcolor,z=w._fullLayout.activeshape.opacity);var oe=B.append("path").attr(O).style("opacity",z).call(g.stroke,N).call(g.fill,k).call(t.dashLine,q,K);s(oe,w,E);var Y;if((re||w._context.edits.shapePosition)&&(Y=r(w.layout,"shapes",E)),re){oe.style({cursor:"move"});var G={element:oe.node(),plotinfo:m,gd:w,editHelpers:Y,isActiveShape:!0},V=P(I,w);A(V,oe,G)}else w._context.edits.shapePosition?d(w,oe,E,b,B,Y):E.editable===!0&&oe.style("pointer-events",Q||g.opacity(k)*z<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return M(w,oe)})}}function s(w,b,i){var E=(i.xref+i.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");t.setClipUrl(w,E?"clip"+b._fullLayout._uid+E:null,b)}function d(w,b,i,E,m,F){var _=10,B=10,I=i.xsizemode==="pixel",O=i.ysizemode==="pixel",z=i.type==="line",k=i.type==="path",N=F.modifyItem,K,q,Q,re,oe,Y,G,V,Z,ae,ie,J,$,se,ee,ue=a.getFromId(w,i.xref),ge=a.getRefType(i.xref),Te=a.getFromId(w,i.yref),xe=a.getRefType(i.yref),Pe=c.getDataToPixel(w,ue,!1,ge),Ie=c.getDataToPixel(w,Te,!0,xe),Ae=c.getPixelToData(w,ue,!1,ge),be=c.getPixelToData(w,Te,!0,xe),_e=ze(),Ve={element:_e.node(),gd:w,prepFn:lt,doneFn:at,clickFn:tt},We;u.init(Ve),_e.node().onmousemove=ct;function ze(){return z?Ze():b}function Ze(){var ke=10,Fe=Math.max(i.line.width,ke),qe=m.append("g").attr("data-index",E);qe.append("path").attr("d",b.attr("d")).style({cursor:"move","stroke-width":Fe,"stroke-opacity":"0"});var it={"fill-opacity":"0"},Je=Math.max(Fe/2,ke);return qe.append("circle").attr({"data-line-point":"start-point",cx:I?Pe(i.xanchor)+i.x0:Pe(i.x0),cy:O?Ie(i.yanchor)-i.y0:Ie(i.y0),r:Je}).style(it).classed("cursor-grab",!0),qe.append("circle").attr({"data-line-point":"end-point",cx:I?Pe(i.xanchor)+i.x1:Pe(i.x1),cy:O?Ie(i.yanchor)-i.y1:Ie(i.y1),r:Je}).style(it).classed("cursor-grab",!0),qe}function ct(ke){if(h(w)){We=null;return}if(z)ke.target.tagName==="path"?We="move":We=ke.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Fe=Ve.element.getBoundingClientRect(),qe=Fe.right-Fe.left,it=Fe.bottom-Fe.top,Je=ke.clientX-Fe.left,Re=ke.clientY-Fe.top,Me=!k&&qe>_&&it>B&&!ke.shiftKey?u.getCursor(Je/qe,1-Re/it):"move";o(b,Me),We=Me.split("-")[0]}}function lt(ke){h(w)||(I&&(oe=Pe(i.xanchor)),O&&(Y=Ie(i.yanchor)),i.type==="path"?ee=i.path:(K=I?i.x0:Pe(i.x0),q=O?i.y0:Ie(i.y0),Q=I?i.x1:Pe(i.x1),re=O?i.y1:Ie(i.y1)),K<Q?(Z=K,$="x0",ae=Q,se="x1"):(Z=Q,$="x1",ae=K,se="x0"),!O&&q<re||O&&q>re?(G=q,ie="y0",V=re,J="y1"):(G=re,ie="y1",V=q,J="y0"),ct(ke),Mt(m,i),$e(b,i,w),Ve.moveFn=We==="move"?dt:wt,Ve.altKey=ke.altKey)}function at(){h(w)||(o(b),It(m),s(b,w,i),p.call("_guiRelayout",w,F.getUpdateObj()))}function tt(){h(w)||It(m)}function dt(ke,Fe){if(i.type==="path"){var qe=function(Re){return Re},it=qe,Je=qe;I?N("xanchor",i.xanchor=Ae(oe+ke)):(it=function(Me){return Ae(Pe(Me)+ke)},ue&&ue.type==="date"&&(it=c.encodeDate(it))),O?N("yanchor",i.yanchor=be(Y+Fe)):(Je=function(Me){return be(Ie(Me)+Fe)},Te&&Te.type==="date"&&(Je=c.encodeDate(Je))),N("path",i.path=S(ee,it,Je))}else I?N("xanchor",i.xanchor=Ae(oe+ke)):(N("x0",i.x0=Ae(K+ke)),N("x1",i.x1=Ae(Q+ke))),O?N("yanchor",i.yanchor=be(Y+Fe)):(N("y0",i.y0=be(q+Fe)),N("y1",i.y1=be(re+Fe)));b.attr("d",n(w,i)),Mt(m,i)}function wt(ke,Fe){if(k){var qe=function(vr){return vr},it=qe,Je=qe;I?N("xanchor",i.xanchor=Ae(oe+ke)):(it=function(gr){return Ae(Pe(gr)+ke)},ue&&ue.type==="date"&&(it=c.encodeDate(it))),O?N("yanchor",i.yanchor=be(Y+Fe)):(Je=function(gr){return be(Ie(gr)+Fe)},Te&&Te.type==="date"&&(Je=c.encodeDate(Je))),N("path",i.path=S(ee,it,Je))}else if(z){if(We==="resize-over-start-point"){var Re=K+ke,Me=O?q-Fe:q+Fe;N("x0",i.x0=I?Re:Ae(Re)),N("y0",i.y0=O?Me:be(Me))}else if(We==="resize-over-end-point"){var fe=Q+ke,ye=O?re-Fe:re+Fe;N("x1",i.x1=I?fe:Ae(fe)),N("y1",i.y1=O?ye:be(ye))}}else{var Le=function(vr){return We.indexOf(vr)!==-1},Oe=Le("n"),ht=Le("s"),vt=Le("w"),Lt=Le("e"),Ot=Oe?G+Fe:G,Jt=ht?V+Fe:V,qt=vt?Z+ke:Z,Vt=Lt?ae+ke:ae;O&&(Oe&&(Ot=G-Fe),ht&&(Jt=V-Fe)),(!O&&Jt-Ot>B||O&&Ot-Jt>B)&&(N(ie,i[ie]=O?Ot:be(Ot)),N(J,i[J]=O?Jt:be(Jt))),Vt-qt>_&&(N($,i[$]=I?qt:Ae(qt)),N(se,i[se]=I?Vt:Ae(Vt)))}b.attr("d",n(w,i)),Mt(m,i)}function Mt(ke,Fe){(I||O)&&qe();function qe(){var it=Fe.type!=="path",Je=ke.selectAll(".visual-cue").data([0]),Re=1;Je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Re}).classed("visual-cue",!0);var Me=Pe(I?Fe.xanchor:L.midRange(it?[Fe.x0,Fe.x1]:c.extractPathCoords(Fe.path,l.paramIsX))),fe=Ie(O?Fe.yanchor:L.midRange(it?[Fe.y0,Fe.y1]:c.extractPathCoords(Fe.path,l.paramIsY)));if(Me=c.roundPositionForSharpStrokeRendering(Me,Re),fe=c.roundPositionForSharpStrokeRendering(fe,Re),I&&O){var ye="M"+(Me-1-Re)+","+(fe-1-Re)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Je.attr("d",ye)}else if(I){var Le="M"+(Me-1-Re)+","+(fe-9-Re)+"v18 h2 v-18 Z";Je.attr("d",Le)}else{var Oe="M"+(Me-9-Re)+","+(fe-1-Re)+"h18 v2 h-18 Z";Je.attr("d",Oe)}}}function It(ke){ke.selectAll(".visual-cue").remove()}function $e(ke,Fe,qe){var it=Fe.xref,Je=Fe.yref,Re=a.getFromId(qe,it),Me=a.getFromId(qe,Je),fe="";it!=="paper"&&!Re.autorange&&(fe+=it),Je!=="paper"&&!Me.autorange&&(fe+=Je),t.setClipUrl(ke,fe?"clip"+qe._fullLayout._uid+fe:null,qe)}}function S(w,b,i){return w.replace(l.segmentRE,function(E){var m=0,F=E.charAt(0),_=l.paramIsX[F],B=l.paramIsY[F],I=l.numParams[F],O=E.substr(1).replace(l.paramRE,function(z){return m>=I||(_[m]?z=b(z):B[m]&&(z=i(z)),m++),z});return F+O})}function M(w,b){if(T(w)){var i=b.node(),E=+i.getAttribute("data-index");if(E>=0){if(E===w._fullLayout._activeShapeIndex){C(w);return}w._fullLayout._activeShapeIndex=E,w._fullLayout._deactivateShape=C,x(w)}}}function C(w){if(T(w)){var b=w._fullLayout._activeShapeIndex;b>=0&&(v(w),delete w._fullLayout._activeShapeIndex,x(w))}}function y(w){if(T(w)){v(w);var b=w._fullLayout._activeShapeIndex,i=(w.layout||{}).shapes||[];if(b<i.length){for(var E=[],m=0;m<i.length;m++)m!==b&&E.push(i[m]);delete w._fullLayout._activeShapeIndex,p.call("_guiRelayout",w,{shapes:E})}}}},29241:function(W,U,e){var p=e(79952).P,L=e(1426).extendFlat;W.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:L({},p,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(W){var U=32;W.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(W,U,e){var p=e(7901);W.exports=function(a,P,A){A("newshape.drawdirection"),A("newshape.layer"),A("newshape.fillcolor"),A("newshape.fillrule"),A("newshape.opacity");var v=A("newshape.line.width");if(v){var g=(a||{}).plot_bgcolor||"#FFF";A("newshape.line.color",p.contrast(g)),A("newshape.line.dash")}A("activeshape.fillcolor"),A("activeshape.opacity")}},60165:function(W,U,e){var p=e(95616),L=e(89995),a=L.CIRCLE_SIDES,P=L.SQRT2,A=e(75549),v=A.p2r,g=A.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];U.writePaths=function(l){var c=l.length;if(!c)return"M0,0Z";for(var n="",x=0;x<c;x++)for(var h=l[x].length,T=0;T<h;T++){var f=l[x][T][0];if(f==="Z")n+="Z";else for(var s=l[x][T].length,d=0;d<s;d++){var S=d;f==="Q"||f==="S"?S=r[d]:f==="C"&&(S=t[d]),n+=l[x][T][S],d>0&&d<s-1&&(n+=",")}}return n},U.readPaths=function(l,c,n,x){var h=p(l),T=[],f=-1,s=function(){f++,T[f]=[]},d,S=0,M=0,C,y,w=function(){C=S,y=M};w();for(var b=0;b<h.length;b++){var i=[],E,m,F,_,B=h[b][0],I=B;switch(B){case"M":s(),S=+h[b][1],M=+h[b][2],i.push([I,S,M]),w();break;case"Q":case"S":E=+h[b][1],F=+h[b][2],S=+h[b][3],M=+h[b][4],i.push([I,S,M,E,F]);break;case"C":E=+h[b][1],F=+h[b][2],m=+h[b][3],_=+h[b][4],S=+h[b][5],M=+h[b][6],i.push([I,S,M,E,F,m,_]);break;case"T":case"L":S=+h[b][1],M=+h[b][2],i.push([I,S,M]);break;case"H":I="L",S=+h[b][1],i.push([I,S,M]);break;case"V":I="L",M=+h[b][1],i.push([I,S,M]);break;case"A":I="L";var O=+h[b][1],z=+h[b][2];+h[b][4]||(O=-O,z=-z);var k=S-O,N=M;for(d=1;d<=a/2;d++){var K=2*Math.PI*d/a;i.push([I,k+O*Math.cos(K),N+z*Math.sin(K)])}break;case"Z":(S!==C||M!==y)&&(S=C,M=y,i.push([I,S,M]));break}for(var q=(n||{}).domain,Q=c._fullLayout._size,re=n&&n.xsizemode==="pixel",oe=n&&n.ysizemode==="pixel",Y=x===!1,G=0;G<i.length;G++){for(d=0;d+2<7;d+=2){var V=i[G][d+1],Z=i[G][d+2];V===void 0||Z===void 0||(S=V,M=Z,n&&(n.xaxis&&n.xaxis.p2r?(Y&&(V-=n.xaxis._offset),re?V=g(n.xaxis,n.xanchor)+V:V=v(n.xaxis,V)):(Y&&(V-=Q.l),q?V=q.x[0]+V/Q.w:V=V/Q.w),n.yaxis&&n.yaxis.p2r?(Y&&(Z-=n.yaxis._offset),oe?Z=g(n.yaxis,n.yanchor)-Z:Z=v(n.yaxis,Z)):(Y&&(Z-=Q.t),q?Z=q.y[1]-Z/Q.h:Z=1-Z/Q.h)),i[G][d+1]=V,i[G][d+2]=Z)}T[f].push(i[G].slice())}}return T};function u(l,c){return Math.abs(l-c)<=1e-6}function o(l,c){var n=c[1]-l[1],x=c[2]-l[2];return Math.sqrt(n*n+x*x)}U.pointsOnRectangle=function(l){var c=l.length;if(c!==5)return!1;for(var n=1;n<3;n++){var x=l[0][n]-l[1][n],h=l[3][n]-l[2][n];if(!u(x,h))return!1;var T=l[0][n]-l[3][n],f=l[1][n]-l[2][n];if(!u(T,f))return!1}return!u(l[0][1],l[1][1])&&!u(l[0][1],l[3][1])?!1:!!(o(l[0],l[1])*o(l[0],l[3]))},U.pointsOnEllipse=function(l){var c=l.length;if(c!==a+1)return!1;c=a;for(var n=0;n<c;n++){var x=(c*2-n)%c,h=(c/2+x)%c,T=(c/2+n)%c;if(!u(o(l[n],l[T]),o(l[x],l[h])))return!1}return!0},U.handleEllipse=function(l,c,n){if(!l)return[c,n];var x=U.ellipseOver({x0:c[0],y0:c[1],x1:n[0],y1:n[1]}),h=(x.x1+x.x0)/2,T=(x.y1+x.y0)/2,f=(x.x1-x.x0)/2,s=(x.y1-x.y0)/2;f||(f=s=s/P),s||(s=f=f/P);for(var d=[],S=0;S<a;S++){var M=S*2*Math.PI/a;d.push([h+f*Math.cos(M),T+s*Math.sin(M)])}return d},U.ellipseOver=function(l){var c=l.x0,n=l.y0,x=l.x1,h=l.y1,T=x-c,f=h-n;c-=T,n-=f;var s=(c+x)/2,d=(n+h)/2,S=P;return T*=S,f*=S,{x0:s-T,y0:d-f,x1:s+T,y1:d+f}},U.fixDatesForPaths=function(l,c,n){var x=c.type==="date",h=n.type==="date";if(!x&&!h)return l;for(var T=0;T<l.length;T++)for(var f=0;f<l[T].length;f++)for(var s=0;s+2<l[T][f].length;s+=2)x&&(l[T][f][s+1]=l[T][f][s+1].replace(" ","_")),h&&(l[T][f][s+2]=l[T][f][s+2].replace(" ","_"));return l}},90551:function(W,U,e){var p=e(64505),L=p.drawMode,a=p.openMode,P=e(89995),A=P.i000,v=P.i090,g=P.i180,t=P.i270,r=P.cos45,u=P.sin45,o=e(75549),l=o.p2r,c=o.r2p,n=e(51873),x=n.clearOutline,h=e(60165),T=h.readPaths,f=h.writePaths,s=h.ellipseOver,d=h.fixDatesForPaths;W.exports=function(M,C){if(M.length){var y=M[0][0];if(y){var w=y.getAttribute("d"),b=C.gd,i=b._fullLayout.newshape,E=C.plotinfo,m=E.xaxis,F=E.yaxis,_=!!E.domain||!E.xaxis,B=!!E.domain||!E.yaxis,I=C.isActiveShape,O=C.dragmode,z=(b.layout||{}).shapes||[];if(!L(O)&&I!==void 0){var k=b._fullLayout._activeShapeIndex;if(k<z.length)switch(b._fullLayout.shapes[k].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var N=z[k].path||"";N[N.length-1]==="Z"?O="drawclosedpath":O="drawopenpath";break}}var K=a(O),q=T(w,b,E,I),Q={editable:!0,xref:_?"paper":m._id,yref:B?"paper":F._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};K||(Q.fillcolor=i.fillcolor,Q.fillrule=i.fillrule);var re;if(q.length===1&&(re=q[0]),re&&re.length===5&&O==="drawrect")Q.type="rect",Q.x0=re[0][1],Q.y0=re[0][2],Q.x1=re[2][1],Q.y1=re[2][2];else if(re&&O==="drawline")Q.type="line",Q.x0=re[0][1],Q.y0=re[0][2],Q.x1=re[1][1],Q.y1=re[1][2];else if(re&&O==="drawcircle"){Q.type="circle";var oe=re[A][1],Y=re[v][1],G=re[g][1],V=re[t][1],Z=re[A][2],ae=re[v][2],ie=re[g][2],J=re[t][2],$=E.xaxis&&(E.xaxis.type==="date"||E.xaxis.type==="log"),se=E.yaxis&&(E.yaxis.type==="date"||E.yaxis.type==="log");$&&(oe=c(E.xaxis,oe),Y=c(E.xaxis,Y),G=c(E.xaxis,G),V=c(E.xaxis,V)),se&&(Z=c(E.yaxis,Z),ae=c(E.yaxis,ae),ie=c(E.yaxis,ie),J=c(E.yaxis,J));var ee=(Y+V)/2,ue=(Z+ie)/2,ge=(V-Y+G-oe)/2,Te=(J-ae+ie-Z)/2,xe=s({x0:ee,y0:ue,x1:ee+ge*r,y1:ue+Te*u});$&&(xe.x0=l(E.xaxis,xe.x0),xe.x1=l(E.xaxis,xe.x1)),se&&(xe.y0=l(E.yaxis,xe.y0),xe.y1=l(E.yaxis,xe.y1)),Q.x0=xe.x0,Q.y0=xe.y0,Q.x1=xe.x1,Q.y1=xe.y1}else Q.type="path",m&&F&&d(q,m,F),Q.path=f(q),re=null;x(b);for(var Pe=C.editHelpers,Ie=(Pe||{}).modifyItem,Ae=[],be=0;be<z.length;be++){var _e=b._fullLayout.shapes[be];if(Ae[be]=_e._input,I!==void 0&&be===b._fullLayout._activeShapeIndex){var Ve=Q;switch(_e.type){case"line":case"rect":case"circle":Ie("x0",Ve.x0),Ie("x1",Ve.x1),Ie("y0",Ve.y0),Ie("y1",Ve.y1);break;case"path":Ie("path",Ve.path);break}}}return I===void 0?(Ae.push(Q),Ae):Pe?Pe.getUpdateObj():{}}}}},51873:function(W){function U(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}W.exports={clearOutlineControllers:U,clearOutline:e}},30477:function(W,U,e){var p=e(21459),L=e(71828),a=e(89298);U.rangeToShapePosition=function(A){return A.type==="log"?A.r2d:function(v){return v}},U.shapePositionToRange=function(A){return A.type==="log"?A.d2r:function(v){return v}},U.decodeDate=function(A){return function(v){return v.replace&&(v=v.replace("_"," ")),A(v)}},U.encodeDate=function(A){return function(v){return A(v).replace(" ","_")}},U.extractPathCoords=function(A,v,g){var t=[],r=A.match(p.segmentRE);return r.forEach(function(u){var o=v[u.charAt(0)].drawn;if(o!==void 0){var l=u.substr(1).match(p.paramRE);if(!(!l||l.length<o)){var c=l[o],n=g?c:L.cleanNumber(c);t.push(n)}}}),t},U.getDataToPixel=function(A,v,g,t){var r=A._fullLayout._size,u;if(v)if(t==="domain")u=function(l){return v._length*(g?1-l:l)+v._offset};else{var o=U.shapePositionToRange(v);u=function(l){return v._offset+v.r2p(o(l,!0))},v.type==="date"&&(u=U.decodeDate(u))}else g?u=function(l){return r.t+r.h*(1-l)}:u=function(l){return r.l+r.w*l};return u},U.getPixelToData=function(A,v,g,t){var r=A._fullLayout._size,u;if(v)if(t==="domain")u=function(l){var c=(l-v._offset)/v._length;return g?1-c:c};else{var o=U.rangeToShapePosition(v);u=function(l){return o(v.p2r(l-v._offset))}}else g?u=function(l){return 1-(l-r.t)/r.h}:u=function(l){return(l-r.l)/r.w};return u},U.roundPositionForSharpStrokeRendering=function(A,v){var g=Math.round(v%2)===1,t=Math.round(A);return g?t+.5:t},U.makeShapesOptionsAndPlotinfo=function(A,v){var g=A._fullLayout.shapes[v]||{},t=A._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&g.xref!=="paper"&&(t.xaxis=A._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(t.yaxis=A._fullLayout[g.yref+"axis"])),t.xsizemode=g.xsizemode,t.ysizemode=g.ysizemode,t.xanchor=g.xanchor,t.yanchor=g.yanchor,{options:g,plotinfo:t}},U.makeSelectionsOptionsAndPlotinfo=function(A,v){var g=A._fullLayout.selections[v]||{},t=A._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&(t.xaxis=A._fullLayout[g.xref+"axis"]),g.yref&&(t.yaxis=A._fullLayout[g.yref+"axis"])),{options:g,plotinfo:t}},U.getPathString=function(A,v){var g=v.type,t=a.getRefType(v.xref),r=a.getRefType(v.yref),u=a.getFromId(A,v.xref),o=a.getFromId(A,v.yref),l=A._fullLayout._size,c,n,x,h,T,f,s,d;if(u?t==="domain"?n=function(F){return u._offset+u._length*F}:(c=U.shapePositionToRange(u),n=function(F){return u._offset+u.r2p(c(F,!0))}):n=function(F){return l.l+l.w*F},o?r==="domain"?h=function(F){return o._offset+o._length*(1-F)}:(x=U.shapePositionToRange(o),h=function(F){return o._offset+o.r2p(x(F,!0))}):h=function(F){return l.t+l.h*(1-F)},g==="path")return u&&u.type==="date"&&(n=U.decodeDate(n)),o&&o.type==="date"&&(h=U.decodeDate(h)),P(v,n,h);if(v.xsizemode==="pixel"){var S=n(v.xanchor);T=S+v.x0,f=S+v.x1}else T=n(v.x0),f=n(v.x1);if(v.ysizemode==="pixel"){var M=h(v.yanchor);s=M-v.y0,d=M-v.y1}else s=h(v.y0),d=h(v.y1);if(g==="line")return"M"+T+","+s+"L"+f+","+d;if(g==="rect")return"M"+T+","+s+"H"+f+"V"+d+"H"+T+"Z";var C=(T+f)/2,y=(s+d)/2,w=Math.abs(C-T),b=Math.abs(y-s),i="A"+w+","+b,E=C+w+","+y,m=C+","+(y-b);return"M"+E+i+" 0 1,1 "+m+i+" 0 0,1 "+E+"Z"};function P(A,v,g){var t=A.path,r=A.xsizemode,u=A.ysizemode,o=A.xanchor,l=A.yanchor;return t.replace(p.segmentRE,function(c){var n=0,x=c.charAt(0),h=p.paramIsX[x],T=p.paramIsY[x],f=p.numParams[x],s=c.substr(1).replace(p.paramRE,function(d){return h[n]?r==="pixel"?d=v(o)+Number(d):d=v(d):T[n]&&(u==="pixel"?d=g(l)-Number(d):d=g(d)),n++,n>f&&(d="X"),d});return n>f&&(s=s.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+c)),x+s})}},89853:function(W,U,e){var p=e(34031);W.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:p.draw,drawOne:p.drawOne}},75067:function(W,U,e){var p=e(41940),L=e(35025),a=e(1426).extendDeepAll,P=e(30962).overrideAll,A=e(85594),v=e(44467).templatedArray,g=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});W.exports=P(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:A.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},98292:function(W){W.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(W,U,e){var p=e(71828),L=e(85501),a=e(75067),P=e(98292),A=P.name,v=a.steps;W.exports=function(u,o){L(u,o,{name:A,handleItemDefaults:g})};function g(r,u,o){function l(d,S){return p.coerce(r,u,a,d,S)}for(var c=L(r,u,{name:"steps",handleItemDefaults:t}),n=0,x=0;x<c.length;x++)c[x].visible&&n++;var h;if(n<2?h=u.visible=!1:h=l("visible"),!!h){u._stepCount=n;var T=u._visibleSteps=p.filterVisible(c),f=l("active");(c[f]||{}).visible||(u.active=T[0]._index),l("x"),l("y"),p.noneOrAll(r,u,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),p.coerceFont(l,"font",o.font);var s=l("currentvalue.visible");s&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),p.coerceFont(l,"currentvalue.font",u.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function t(r,u){function o(n,x){return p.coerce(r,u,v,n,x)}var l;if(r.method!=="skip"&&!Array.isArray(r.args)?l=u.visible=!1:l=o("visible"),l){o("method"),o("args");var c=o("label","step-"+u._index);o("value",c),o("execute")}}},44504:function(W,U,e){var p=e(39898),L=e(74875),a=e(7901),P=e(91424),A=e(71828),v=A.strTranslate,g=e(63893),t=e(44467).arrayEditor,r=e(98292),u=e(18783),o=u.LINE_SPACING,l=u.FROM_TL,c=u.FROM_BR;W.exports=function(O){var z=O._context.staticPlot,k=O._fullLayout,N=x(k,O),K=k._infolayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);K.enter().append("g").classed(r.containerClassName,!0).style("cursor",z?null:"ew-resize");function q(Y){Y._commandObserver&&(Y._commandObserver.remove(),delete Y._commandObserver),L.autoMargin(O,n(Y))}if(K.exit().each(function(){p.select(this).selectAll("g."+r.groupClassName).each(q)}).remove(),N.length!==0){var Q=K.selectAll("g."+r.groupClassName).data(N,h);Q.enter().append("g").classed(r.groupClassName,!0),Q.exit().each(q).remove();for(var re=0;re<N.length;re++){var oe=N[re];T(O,oe)}Q.each(function(Y){var G=p.select(this);i(Y),L.manageCommandObserver(O,Y,Y._visibleSteps,function(V){var Z=G.data()[0];Z.active!==V.index&&(Z._dragging||y(O,G,Z,V.index,!1,!0))}),f(O,p.select(this),Y)})}};function n(I){return r.autoMarginIdRoot+I._index}function x(I,O){for(var z=I[r.name],k=[],N=0;N<z.length;N++){var K=z[N];K.visible&&(K._gd=O,k.push(K))}return k}function h(I){return I._index}function T(I,O){var z=P.tester.selectAll("g."+r.labelGroupClass).data(O._visibleSteps);z.enter().append("g").classed(r.labelGroupClass,!0);var k=0,N=0;z.each(function(ae){var ie=p.select(this),J=S(ie,{step:ae},O),$=J.node();if($){var se=P.bBox($);N=Math.max(N,se.height),k=Math.max(k,se.width)}}),z.remove();var K=O._dims={};K.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var q=I._fullLayout._size;K.lx=q.l+q.w*O.x,K.ly=q.t+q.h*(1-O.y),O.lenmode==="fraction"?K.outerLength=Math.round(q.w*O.len):K.outerLength=O.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-O.pad.l-O.pad.r);var Q=K.inputAreaLength-2*r.stepInset,re=Q/(O._stepCount-1),oe=k+r.labelPadding;if(K.labelStride=Math.max(1,Math.ceil(oe/re)),K.labelHeight=N,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,O.currentvalue.visible){var Y=P.tester.append("g");z.each(function(ae){var ie=s(Y,O,ae.label),J=ie.node()&&P.bBox(ie.node())||{width:0,height:0},$=g.lineCount(ie);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(J.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(J.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,$)}),K.currentValueTotalHeight=K.currentValueHeight+O.currentvalue.offset,Y.remove()}K.height=K.currentValueTotalHeight+r.tickOffset+O.ticklen+r.labelOffset+K.labelHeight+O.pad.t+O.pad.b;var G="left";A.isRightAnchor(O)&&(K.lx-=K.outerLength,G="right"),A.isCenterAnchor(O)&&(K.lx-=K.outerLength/2,G="center");var V="top";A.isBottomAnchor(O)&&(K.ly-=K.height,V="bottom"),A.isMiddleAnchor(O)&&(K.ly-=K.height/2,V="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var Z={y:O.y,b:K.height*c[V],t:K.height*l[V]};O.lenmode==="fraction"?(Z.l=0,Z.xl=O.x-O.len*l[G],Z.r=0,Z.xr=O.x+O.len*c[G]):(Z.x=O.x,Z.l=K.outerLength*l[G],Z.r=K.outerLength*c[G]),L.autoMargin(I,n(O),Z)}function f(I,O,z){(z.steps[z.active]||{}).visible||(z.active=z._visibleSteps[0]._index),O.call(s,z).call(B,z).call(M,z).call(b,z).call(_,I,z).call(d,I,z);var k=z._dims;P.setTranslate(O,k.lx+z.pad.l,k.ly+z.pad.t),O.call(E,z,!1),O.call(s,z)}function s(I,O,z){if(O.currentvalue.visible){var k=O._dims,N,K;switch(O.currentvalue.xanchor){case"right":N=k.inputAreaLength-r.currentValueInset-k.currentValueMaxWidth,K="left";break;case"center":N=k.inputAreaLength*.5,K="middle";break;default:N=r.currentValueInset,K="left"}var q=A.ensureSingle(I,"text",r.labelClass,function(V){V.attr({"text-anchor":K,"data-notex":1})}),Q=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof z=="string")Q+=z;else{var re=O.steps[O.active].label,oe=O._gd._fullLayout._meta;oe&&(re=A.templateString(re,oe)),Q+=re}O.currentvalue.suffix&&(Q+=O.currentvalue.suffix),q.call(P.font,O.currentvalue.font).text(Q).call(g.convertToTspans,O._gd);var Y=g.lineCount(q),G=(k.currentValueMaxLines+1-Y)*O.currentvalue.font.size*o;return g.positionText(q,N,G),q}}function d(I,O,z){var k=A.ensureSingle(I,"rect",r.gripRectClass,function(N){N.call(w,O,I,z).style("pointer-events","all")});k.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function S(I,O,z){var k=A.ensureSingle(I,"text",r.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),N=O.step.label,K=z._gd._fullLayout._meta;return K&&(N=A.templateString(N,K)),k.call(P.font,z.font).text(N).call(g.convertToTspans,z._gd),k}function M(I,O){var z=A.ensureSingle(I,"g",r.labelsClass),k=O._dims,N=z.selectAll("g."+r.labelGroupClass).data(k.labelSteps);N.enter().append("g").classed(r.labelGroupClass,!0),N.exit().remove(),N.each(function(K){var q=p.select(this);q.call(S,K,O),P.setTranslate(q,m(O,K.fraction),r.tickOffset+O.ticklen+O.font.size*o+r.labelOffset+k.currentValueTotalHeight)})}function C(I,O,z,k,N){var K=Math.round(k*(z._stepCount-1)),q=z._visibleSteps[K]._index;q!==z.active&&y(I,O,z,q,!0,N)}function y(I,O,z,k,N,K){var q=z.active;z.active=k,t(I.layout,r.name,z).applyUpdate("active",k);var Q=z.steps[z.active];O.call(E,z,K),O.call(s,z),I.emit("plotly_sliderchange",{slider:z,step:z.steps[z.active],interaction:N,previousActive:q}),Q&&Q.method&&N&&(O._nextMethod?(O._nextMethod.step=Q,O._nextMethod.doCallback=N,O._nextMethod.doTransition=K):(O._nextMethod={step:Q,doCallback:N,doTransition:K},O._nextMethodRaf=window.requestAnimationFrame(function(){var re=O._nextMethod.step;re.method&&(re.execute&&L.executeAPICommand(I,re.method,re.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function w(I,O,z){if(O._context.staticPlot)return;var k=z.node(),N=p.select(O);function K(){return z.data()[0]}function q(){var Q=K();O.emit("plotly_sliderstart",{slider:Q});var re=z.select("."+r.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),re.call(a.fill,Q.activebgcolor);var oe=F(Q,p.mouse(k)[0]);C(O,z,Q,oe,!0),Q._dragging=!0;function Y(){var V=K(),Z=F(V,p.mouse(k)[0]);C(O,z,V,Z,!1)}N.on("mousemove",Y),N.on("touchmove",Y);function G(){var V=K();V._dragging=!1,re.call(a.fill,V.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),O.emit("plotly_sliderend",{slider:V,step:V.steps[V.active]})}N.on("mouseup",G),N.on("touchend",G)}I.on("mousedown",q),I.on("touchstart",q)}function b(I,O){var z=I.selectAll("rect."+r.tickRectClass).data(O._visibleSteps),k=O._dims;z.enter().append("rect").classed(r.tickRectClass,!0),z.exit().remove(),z.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),z.each(function(N,K){var q=K%k.labelStride===0,Q=p.select(this);Q.attr({height:q?O.ticklen:O.minorticklen}).call(a.fill,O.tickcolor),P.setTranslate(Q,m(O,K/(O._stepCount-1))-.5*O.tickwidth,(q?r.tickOffset:r.minorTickOffset)+k.currentValueTotalHeight)})}function i(I){var O=I._dims;O.labelSteps=[];for(var z=I._stepCount,k=0;k<z;k+=O.labelStride)O.labelSteps.push({fraction:k/(z-1),step:I._visibleSteps[k]})}function E(I,O,z){for(var k=I.select("rect."+r.gripRectClass),N=0,K=0;K<O._stepCount;K++)if(O._visibleSteps[K]._index===O.active){N=K;break}var q=m(O,N/(O._stepCount-1));if(!O._invokingCommand){var Q=k;z&&O.transition.duration>0&&(Q=Q.transition().duration(O.transition.duration).ease(O.transition.easing)),Q.attr("transform",v(q-r.gripWidth*.5,O._dims.currentValueTotalHeight))}}function m(I,O){var z=I._dims;return z.inputAreaStart+r.stepInset+(z.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,O))}function F(I,O){var z=I._dims;return Math.min(1,Math.max(0,(O-r.stepInset-z.inputAreaStart)/(z.inputAreaLength-2*r.stepInset-2*z.inputAreaStart)))}function _(I,O,z){var k=z._dims,N=A.ensureSingle(I,"rect",r.railTouchRectClass,function(K){K.call(w,O,I,z).style("pointer-events","all")});N.attr({width:k.inputAreaLength,height:Math.max(k.inputAreaWidth,r.tickOffset+z.ticklen+k.labelHeight)}).call(a.fill,z.bgcolor).attr("opacity",0),P.setTranslate(N,0,k.currentValueTotalHeight)}function B(I,O){var z=O._dims,k=z.inputAreaLength-r.railInset*2,N=A.ensureSingle(I,"rect",r.railRectClass);N.attr({width:k,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),P.setTranslate(N,r.railInset,(z.inputAreaWidth-r.railWidth)*.5+z.currentValueTotalHeight)}},23243:function(W,U,e){var p=e(98292);W.exports={moduleType:"component",name:p.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(W,U,e){var p=e(39898),L=e(92770),a=e(74875),P=e(73972),A=e(71828),v=A.strTranslate,g=e(91424),t=e(7901),r=e(63893),u=e(37822),o=e(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;function c(n,x,h){var T=h.propContainer,f=h.propName,s=h.placeholder,d=h.traceIndex,S=h.avoid||{},M=h.attributes,C=h.transform,y=h.containerGroup,w=n._fullLayout,b=1,i=!1,E=T.title,m=(E&&E.text?E.text:"").trim(),F=E&&E.font?E.font:{},_=F.family,B=F.size,I=F.color,O;f==="title.text"?O="titleText":f.indexOf("axis")!==-1?O="axisTitleText":f.indexOf("colorbar"!==-1)&&(O="colorbarTitleText");var z=n._context.edits[O];m===""?b=0:m.replace(l," % ")===s.replace(l," % ")&&(b=.2,i=!0,z||(m="")),h._meta?m=A.templateString(m,h._meta):w._meta&&(m=A.templateString(m,w._meta));var k=m||z,N;y||(y=A.ensureSingle(w._infolayer,"g","g-"+x),N=w._hColorbarMoveTitle);var K=y.selectAll("text").data(k?[0]:[]);if(K.enter().append("text"),K.text(m).attr("class",x),K.exit().remove(),!k)return y;function q(Y){A.syncOrAsync([Q,re],Y)}function Q(Y){var G;return!C&&N&&(C={}),C?(G="",C.rotate&&(G+="rotate("+[C.rotate,M.x,M.y]+")"),(C.offset||N)&&(G+=v(0,(C.offset||0)-(N||0)))):G=null,Y.attr("transform",G),Y.style({"font-family":_,"font-size":p.round(B,2)+"px",fill:t.rgb(I),opacity:b*t.opacity(I),"font-weight":a.fontWeight}).attr(M).call(r.convertToTspans,n),a.previousPromises(n)}function re(Y){var G=p.select(Y.node().parentNode);if(S&&S.selection&&S.side&&m){G.attr("transform",null);var V=o[S.side],Z=S.side==="left"||S.side==="top"?-1:1,ae=L(S.pad)?S.pad:2,ie=g.bBox(G.node()),J={left:0,top:0,right:w.width,bottom:w.height},$=S.maxShift||Z*(J[S.side]-ie[S.side]),se=0;if($<0)se=$;else{var ee=S.offsetLeft||0,ue=S.offsetTop||0;ie.left-=ee,ie.right-=ee,ie.top-=ue,ie.bottom-=ue,S.selection.each(function(){var Te=g.bBox(this);A.bBoxIntersect(ie,Te,ae)&&(se=Math.max(se,Z*(Te[S.side]-ie[V])+ae))}),se=Math.min($,se),T._titleScoot=Math.abs(se)}if(se>0||$<0){var ge={left:[-se,0],right:[se,0],top:[0,-se],bottom:[0,se]}[S.side];G.attr("transform",v(ge[0],ge[1]))}}}K.call(q);function oe(){b=0,i=!0,K.text(s).on("mouseover.opacity",function(){p.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}return z&&(m?K.on(".opacity",null):oe(),K.call(r.makeEditable,{gd:n}).on("edit",function(Y){d!==void 0?P.call("_guiRestyle",n,f,Y,d):P.call("_guiRelayout",n,f,Y)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(Y){this.text(Y||" ").call(r.positionText,M.x,M.y)})),K.classed("js-placeholder",i),y}W.exports={draw:c}},7163:function(W,U,e){var p=e(41940),L=e(22399),a=e(1426).extendFlat,P=e(30962).overrideAll,A=e(35025),v=e(44467).templatedArray,g=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});W.exports=P(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(A({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(W){W.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(W,U,e){var p=e(71828),L=e(85501),a=e(7163),P=e(75909),A=P.name,v=a.buttons;W.exports=function(u,o){var l={name:A,handleItemDefaults:g};L(u,o,l)};function g(r,u,o){function l(x,h){return p.coerce(r,u,a,x,h)}var c=L(r,u,{name:"buttons",handleItemDefaults:t}),n=l("visible",c.length>0);n&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),p.noneOrAll(r,u,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),p.coerceFont(l,"font",o.font),l("bgcolor",o.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function t(r,u){function o(c,n){return p.coerce(r,u,v,c,n)}var l=o("visible",r.method==="skip"||Array.isArray(r.args));l&&(o("method"),o("args"),o("args2"),o("label"),o("execute"))}},13689:function(W,U,e){var p=e(39898),L=e(74875),a=e(7901),P=e(91424),A=e(71828),v=e(63893),g=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),u=e(25849);W.exports=function(F){var _=F._fullLayout,B=A.filterVisible(_[r.name]);function I(re){L.autoMargin(F,b(re))}var O=_._menulayer.selectAll("g."+r.containerClassName).data(B.length>0?[0]:[]);if(O.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){p.select(this).selectAll("g."+r.headerGroupClassName).each(I)}).remove(),B.length!==0){var z=O.selectAll("g."+r.headerGroupClassName).data(B,o);z.enter().append("g").classed(r.headerGroupClassName,!0);for(var k=A.ensureSingle(O,"g",r.dropdownButtonGroupClassName,function(re){re.style("pointer-events","all")}),N=0;N<B.length;N++){var K=B[N];w(F,K)}var q="updatemenus"+_._uid,Q=new u(F,k,q);z.enter().size()&&(k.node().parentNode.appendChild(k.node()),k.call(E)),z.exit().each(function(re){k.call(E),I(re)}).remove(),z.each(function(re){var oe=p.select(this),Y=re.type==="dropdown"?k:null;L.manageCommandObserver(F,re,re.buttons,function(G){n(F,re,re.buttons[G.index],oe,Y,Q,G.index,!0)}),re.type==="dropdown"?(x(F,oe,k,Q,re),c(k,re)&&h(F,oe,k,Q,re)):h(F,oe,null,null,re)})}};function o(m){return m._index}function l(m){return+m.attr(r.menuIndexAttrName)==-1}function c(m,F){return+m.attr(r.menuIndexAttrName)===F._index}function n(m,F,_,B,I,O,z,k){F.active=z,g(m.layout,r.name,F).applyUpdate("active",z),F.type==="buttons"?h(m,B,null,null,F):F.type==="dropdown"&&(I.attr(r.menuIndexAttrName,"-1"),x(m,B,I,O,F),k||h(m,B,I,O,F))}function x(m,F,_,B,I){var O=A.ensureSingle(F,"g",r.headerClassName,function(re){re.style("pointer-events","all")}),z=I._dims,k=I.active,N=I.buttons[k]||r.blankHeaderOpts,K={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},q={width:z.headerWidth,height:z.headerHeight};O.call(s,I,N,m).call(i,I,K,q);var Q=A.ensureSingle(F,"text",r.headerArrowClassName,function(re){re.attr("text-anchor","end").call(P.font,I.font).text(r.arrowSymbol[I.direction])});Q.attr({x:z.headerWidth-r.arrowOffsetX+I.pad.l,y:z.headerHeight/2+r.textOffsetY+I.pad.t}),O.on("click",function(){_.call(E,String(c(_,I)?-1:I._index)),h(m,F,_,B,I)}),O.on("mouseover",function(){O.call(C)}),O.on("mouseout",function(){O.call(y,I)}),P.setTranslate(F,z.lx,z.ly)}function h(m,F,_,B,I){_||(_=F,_.attr("pointer-events","all"));var O=!l(_)||I.type==="buttons"?I.buttons:[],z=I.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,k=_.selectAll("g."+z).data(A.filterVisible(O)),N=k.enter().append("g").classed(z,!0),K=k.exit();I.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var q=0,Q=0,re=I._dims,oe=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(oe?Q=re.headerHeight+r.gapButtonHeader:q=re.headerWidth+r.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(Q=-r.gapButtonHeader+r.gapButton-re.openHeight),I.type==="dropdown"&&I.direction==="left"&&(q=-r.gapButtonHeader+r.gapButton-re.openWidth);var Y={x:re.lx+q+I.pad.l,y:re.ly+Q+I.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},G={l:Y.x+I.borderwidth,t:Y.y+I.borderwidth};k.each(function(V,Z){var ae=p.select(this);ae.call(s,I,V,m).call(i,I,Y),ae.on("click",function(){p.event.defaultPrevented||(V.execute&&(V.args2&&I.active===Z?(n(m,I,V,F,_,B,-1),L.executeAPICommand(m,V.method,V.args2)):(n(m,I,V,F,_,B,Z),L.executeAPICommand(m,V.method,V.args))),m.emit("plotly_buttonclicked",{menu:I,button:V,active:I.active}))}),ae.on("mouseover",function(){ae.call(C)}),ae.on("mouseout",function(){ae.call(y,I),k.call(M,I)})}),k.call(M,I),oe?(G.w=Math.max(re.openWidth,re.headerWidth),G.h=Y.y-G.t):(G.w=Y.x-G.l,G.h=Math.max(re.openHeight,re.headerHeight)),G.direction=I.direction,B&&(k.size()?T(m,F,_,B,I,G):f(B))}function T(m,F,_,B,I,O){var z=I.direction,k=z==="up"||z==="down",N=I._dims,K=I.active,q,Q,re;if(k)for(Q=0,re=0;re<K;re++)Q+=N.heights[re]+r.gapButton;else for(q=0,re=0;re<K;re++)q+=N.widths[re]+r.gapButton;B.enable(O,q,Q),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(m){var F=!!m.hbar,_=!!m.vbar;F&&m.hbar.transition().attr("opacity","0").each("end",function(){F=!1,_||m.disable()}),_&&m.vbar.transition().attr("opacity","0").each("end",function(){_=!1,F||m.disable()})}function s(m,F,_,B){m.call(d,F).call(S,F,_,B)}function d(m,F){var _=A.ensureSingle(m,"rect",r.itemRectClassName,function(B){B.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});_.call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function S(m,F,_,B){var I=A.ensureSingle(m,"text",r.itemTextClassName,function(k){k.attr({"text-anchor":"start","data-notex":1})}),O=_.label,z=B._fullLayout._meta;z&&(O=A.templateString(O,z)),I.call(P.font,F.font).text(O).call(v.convertToTspans,B)}function M(m,F){var _=F.active;m.each(function(B,I){var O=p.select(this);I===_&&F.showactive&&O.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function C(m){m.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function y(m,F){m.select("rect."+r.itemRectClassName).call(a.fill,F.bgcolor)}function w(m,F){var _=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=P.tester.selectAll("g."+r.dropdownButtonClassName).data(A.filterVisible(F.buttons));B.enter().append("g").classed(r.dropdownButtonClassName,!0);var I=["up","down"].indexOf(F.direction)!==-1;B.each(function(q,Q){var re=p.select(this);re.call(s,F,q,m);var oe=re.select("."+r.itemTextClassName),Y=oe.node()&&P.bBox(oe.node()).width,G=Math.max(Y+r.textPadX,r.minWidth),V=F.font.size*t,Z=v.lineCount(oe),ae=Math.max(V*Z,r.minHeight)+r.textOffsetY;ae=Math.ceil(ae),G=Math.ceil(G),_.widths[Q]=G,_.heights[Q]=ae,_.height1=Math.max(_.height1,ae),_.width1=Math.max(_.width1,G),I?(_.totalWidth=Math.max(_.totalWidth,G),_.openWidth=_.totalWidth,_.totalHeight+=ae+r.gapButton,_.openHeight+=ae+r.gapButton):(_.totalWidth+=G+r.gapButton,_.openWidth+=G+r.gapButton,_.totalHeight=Math.max(_.totalHeight,ae),_.openHeight=_.totalHeight)}),I?_.totalHeight-=r.gapButton:_.totalWidth-=r.gapButton,_.headerWidth=_.width1+r.arrowPadX,_.headerHeight=_.height1,F.type==="dropdown"&&(I?(_.width1+=r.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=r.arrowPadX),B.remove();var O=_.totalWidth+F.pad.l+F.pad.r,z=_.totalHeight+F.pad.t+F.pad.b,k=m._fullLayout._size;_.lx=k.l+k.w*F.x,_.ly=k.t+k.h*(1-F.y);var N="left";A.isRightAnchor(F)&&(_.lx-=O,N="right"),A.isCenterAnchor(F)&&(_.lx-=O/2,N="center");var K="top";A.isBottomAnchor(F)&&(_.ly-=z,K="bottom"),A.isMiddleAnchor(F)&&(_.ly-=z/2,K="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),L.autoMargin(m,b(F),{x:F.x,y:F.y,l:O*({right:1,center:.5}[N]||0),r:O*({left:1,center:.5}[N]||0),b:z*({top:1,middle:.5}[K]||0),t:z*({bottom:1,middle:.5}[K]||0)})}function b(m){return r.autoMarginIdRoot+m._index}function i(m,F,_,B){B=B||{};var I=m.select("."+r.itemRectClassName),O=m.select("."+r.itemTextClassName),z=F.borderwidth,k=_.index,N=F._dims;P.setTranslate(m,z+_.x,z+_.y);var K=["up","down"].indexOf(F.direction)!==-1,q=B.height||(K?N.heights[k]:N.height1);I.attr({x:0,y:0,width:B.width||(K?N.width1:N.widths[k]),height:q});var Q=F.font.size*t,re=v.lineCount(O),oe=(re-1)*Q/2;v.positionText(O,r.textOffsetX,q/2-oe+r.textOffsetY),K?_.y+=N.heights[k]+_.yPad:_.x+=N.widths[k]+_.xPad,_.index++}function E(m,F){m.attr(r.menuIndexAttrName,F||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(W,U,e){var p=e(75909);W.exports={moduleType:"component",name:p.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(W,U,e){W.exports=A;var p=e(39898),L=e(7901),a=e(91424),P=e(71828);function A(v,g,t){this.gd=v,this.container=g,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}A.barWidth=2,A.barLength=20,A.barRadius=2,A.barPad=1,A.barColor="#808BA4",A.prototype.enable=function(g,t,r){var u=this.gd._fullLayout,o=u.width,l=u.height;this.position=g;var c=this.position.l,n=this.position.w,x=this.position.t,h=this.position.h,T=this.position.direction,f=T==="down",s=T==="left",d=T==="right",S=T==="up",M=n,C=h,y,w,b,i;!f&&!s&&!d&&!S&&(this.position.direction="down",f=!0);var E=f||S;E?(y=c,w=y+M,f?(b=x,i=Math.min(b+C,l),C=i-b):(i=x+C,b=Math.max(i-C,0),C=i-b)):(b=x,i=b+C,s?(w=c+M,y=Math.max(w-M,0),M=w-y):(y=c,w=Math.min(y+M,o),M=w-y)),this._box={l:y,t:b,w:M,h:C};var m=n>M,F=A.barLength+2*A.barPad,_=A.barWidth+2*A.barPad,B=c,I=x+h;I+_>l&&(I=l-_);var O=this.container.selectAll("rect.scrollbar-horizontal").data(m?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,A.barColor),m?(this.hbar=O.attr({rx:A.barRadius,ry:A.barRadius,x:B,y:I,width:F,height:_}),this._hbarXMin=B+F/2,this._hbarTranslateMax=M-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=h>C,k=A.barWidth+2*A.barPad,N=A.barLength+2*A.barPad,K=c+n,q=x;K+k>o&&(K=o-k);var Q=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);Q.exit().on(".drag",null).remove(),Q.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,A.barColor),z?(this.vbar=Q.attr({rx:A.barRadius,ry:A.barRadius,x:K,y:q,width:k,height:N}),this._vbarYMin=q+N/2,this._vbarTranslateMax=C-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var re=this.id,oe=y-.5,Y=z?w+k+.5:w+.5,G=b-.5,V=m?i+_+.5:i+.5,Z=u._topdefs.selectAll("#"+re).data(m||z?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",re).append("rect"),m||z?(this._clipRect=Z.select("rect").attr({x:Math.floor(oe),y:Math.floor(G),width:Math.ceil(Y)-Math.floor(oe),height:Math.ceil(V)-Math.floor(G)}),this.container.call(a.setClipUrl,re,this.gd),this.bg.attr({x:c,y:x,width:n,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),m||z){var ae=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ae);var ie=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));m&&this.hbar.on(".drag",null).call(ie),z&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(t,r)},A.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},A.prototype._onBoxDrag=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(t-=p.event.dy),this.setTranslate(g,t)},A.prototype._onBoxWheel=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(t+=p.event.deltaY),this.setTranslate(g,t)},A.prototype._onBarDrag=function(){var g=this.translateX,t=this.translateY;if(this.hbar){var r=g+this._hbarXMin,u=r+this._hbarTranslateMax,o=P.constrain(p.event.x,r,u),l=(o-r)/(u-r),c=this.position.w-this._box.w;g=l*c}if(this.vbar){var n=t+this._vbarYMin,x=n+this._vbarTranslateMax,h=P.constrain(p.event.y,n,x),T=(h-n)/(x-n),f=this.position.h-this._box.h;t=T*f}this.setTranslate(g,t)},A.prototype.setTranslate=function(g,t){var r=this.position.w-this._box.w,u=this.position.h-this._box.h;if(g=P.constrain(g||0,0,r),t=P.constrain(t||0,0,u),this.translateX=g,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=g/r;this.hbar.call(a.setTranslate,g+o*this._hbarTranslateMax,t)}if(this.vbar){var l=t/u;this.vbar.call(a.setTranslate,g,t+l*this._vbarTranslateMax)}}},18783:function(W){W.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(W){W.exports={axisRefDescription:function(U,e,p){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",U,"axis."].join(" ")}}},22372:function(W){W.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(W){W.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(W){W.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(W){W.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(W){W.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(W){W.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(W){W.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},77922:function(W,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},8729:function(W,U,e){U.version=e(11506).version,e(7417),e(98847);for(var p=e(73972),L=U.register=p.register,a=e(10641),P=Object.keys(a),A=0;A<P.length;A++){var v=P[A];v.charAt(0)!=="_"&&(U[v]=a[v]),L({moduleType:"apiMethod",name:v,fn:a[v]})}L(e(67368)),L([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),L([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(24255);var g=e(30211),t=e(74875);U.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},U.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},U.Snapshot=e(44511),U.PlotSchema=e(86281)},24255:function(W){W.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(W,U){U.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},U.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},U.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},U.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},U.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},U.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},26348:function(W,U,e){var p=e(64872),L=p.mod,a=p.modHalf,P=Math.PI,A=2*P;function v(T){return T/180*P}function g(T){return T/P*180}function t(T){return Math.abs(T[1]-T[0])>A-1e-14}function r(T,f){return a(f-T,A)}function u(T,f){return Math.abs(r(T,f))}function o(T,f){if(t(f))return!0;var s,d;f[0]<f[1]?(s=f[0],d=f[1]):(s=f[1],d=f[0]),s=L(s,A),d=L(d,A),s>d&&(d+=A);var S=L(T,A),M=S+A;return S>=s&&S<=d||M>=s&&M<=d}function l(T,f,s,d){if(!o(f,d))return!1;var S,M;return s[0]<s[1]?(S=s[0],M=s[1]):(S=s[1],M=s[0]),T>=S&&T<=M}function c(T,f,s,d,S,M,C){S=S||0,M=M||0;var y=t([s,d]),w,b,i,E,m;y?(w=0,b=P,i=A):s<d?(w=s,i=d):(w=d,i=s),T<f?(E=T,m=f):(E=f,m=T);function F(O,z){return[O*Math.cos(z)+S,M-O*Math.sin(z)]}var _=Math.abs(i-w)<=P?0:1;function B(O,z,k){return"A"+[O,O]+" "+[0,_,k]+" "+F(O,z)}var I;return y?E===null?I="M"+F(m,w)+B(m,b,0)+B(m,i,0)+"Z":I="M"+F(E,w)+B(E,b,0)+B(E,i,0)+"ZM"+F(m,w)+B(m,b,1)+B(m,i,1)+"Z":E===null?(I="M"+F(m,w)+B(m,i,0),C&&(I+="L0,0Z")):I="M"+F(E,w)+"L"+F(m,w)+B(m,i,0)+"L"+F(E,i)+B(E,w,1)+"Z",I}function n(T,f,s,d,S){return c(null,T,f,s,d,S,0)}function x(T,f,s,d,S){return c(null,T,f,s,d,S,1)}function h(T,f,s,d,S,M){return c(T,f,s,d,S,M,1)}W.exports={deg2rad:v,rad2deg:g,angleDelta:r,angleDist:u,isFullCircle:t,isAngleInsideSector:o,isPtInsideSector:l,pathArc:n,pathSector:x,pathAnnulus:h}},73627:function(W,U){var e=Array.isArray,p=ArrayBuffer,L=DataView;function a(g){return p.isView(g)&&!(g instanceof L)}U.isTypedArray=a;function P(g){return e(g)||a(g)}U.isArrayOrTypedArray=P;function A(g){return!P(g[0])}U.isArray1D=A,U.ensureArray=function(g,t){return e(g)||(g=[]),g.length=t,g},U.concat=function(){var g=[],t=!0,r=0,u,o,l,c,n,x,h,T;for(l=0;l<arguments.length;l++)c=arguments[l],x=c.length,x&&(o?g.push(c):(o=c,n=x),e(c)?u=!1:(t=!1,r?u!==c.constructor&&(u=!1):u=c.constructor),r+=x);if(!r)return[];if(!g.length)return o;if(t)return o.concat.apply(o,g);if(u){for(h=new u(r),h.set(o),l=0;l<g.length;l++)c=g[l],h.set(c,n),n+=c.length;return h}for(h=new Array(r),T=0;T<o.length;T++)h[T]=o[T];for(l=0;l<g.length;l++){for(c=g[l],T=0;T<c.length;T++)h[n+T]=c[T];n+=T}return h},U.maxRowLength=function(g){return v(g,Math.max,0)},U.minRowLength=function(g){return v(g,Math.min,1/0)};function v(g,t,r){if(P(g))if(P(g[0])){for(var u=r,o=0;o<g.length;o++)u=t(u,g[o].length);return u}else return g.length;return 0}},95218:function(W,U,e){var p=e(92770),L=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;W.exports=function(A){return typeof A=="string"&&(A=A.replace(a,"")),p(A)?Number(A):L}},33306:function(W){W.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},86367:function(W){W.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(W,U,e){var p=e(92770),L=e(84267),a=e(9012),P=e(63282),A=e(7901),v=e(37822).DESELECTDIM,g=e(65487),t=e(30587).counter,r=e(64872).modHalf,u=e(73627).isArrayOrTypedArray;U.valObjectMeta={data_array:{coerceFunction:function(l,c,n){u(l)?c.set(l):n!==void 0&&c.set(n)}},enumerated:{coerceFunction:function(l,c,n,x){x.coerceNumber&&(l=+l),x.values.indexOf(l)===-1?c.set(n):c.set(l)},validateFunction:function(l,c){c.coerceNumber&&(l=+l);for(var n=c.values,x=0;x<n.length;x++){var h=String(n[x]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var T=new RegExp(h.substr(1,h.length-2));if(T.test(l))return!0}else if(l===n[x])return!0}return!1}},boolean:{coerceFunction:function(l,c,n){l===!0||l===!1?c.set(l):c.set(n)}},number:{coerceFunction:function(l,c,n,x){!p(l)||x.min!==void 0&&l<x.min||x.max!==void 0&&l>x.max?c.set(n):c.set(+l)}},integer:{coerceFunction:function(l,c,n,x){l%1||!p(l)||x.min!==void 0&&l<x.min||x.max!==void 0&&l>x.max?c.set(n):c.set(+l)}},string:{coerceFunction:function(l,c,n,x){if(typeof l!="string"){var h=typeof l=="number";x.strict===!0||!h?c.set(n):c.set(String(l))}else x.noBlank&&!l?c.set(n):c.set(l)}},color:{coerceFunction:function(l,c,n){L(l).isValid()?c.set(l):c.set(n)}},colorlist:{coerceFunction:function(l,c,n){function x(h){return L(h).isValid()}!Array.isArray(l)||!l.length?c.set(n):l.every(x)?c.set(l):c.set(n)}},colorscale:{coerceFunction:function(l,c,n){c.set(P.get(l,n))}},angle:{coerceFunction:function(l,c,n){l==="auto"?c.set("auto"):p(l)?c.set(r(+l,360)):c.set(n)}},subplotid:{coerceFunction:function(l,c,n,x){var h=x.regex||t(n);if(typeof l=="string"&&h.test(l)){c.set(l);return}c.set(n)},validateFunction:function(l,c){var n=c.dflt;return l===n?!0:typeof l!="string"?!1:!!t(n).test(l)}},flaglist:{coerceFunction:function(l,c,n,x){if((x.extras||[]).indexOf(l)!==-1){c.set(l);return}if(typeof l!="string"){c.set(n);return}for(var h=l.split("+"),T=0;T<h.length;){var f=h[T];x.flags.indexOf(f)===-1||h.indexOf(f)<T?h.splice(T,1):T++}h.length?c.set(h.join("+")):c.set(n)}},any:{coerceFunction:function(l,c,n){l===void 0?c.set(n):c.set(l)}},info_array:{coerceFunction:function(l,c,n,x){function h(F,_,B){var I,O={set:function(z){I=z}};return B===void 0&&(B=_.dflt),U.valObjectMeta[_.valType].coerceFunction(F,O,B,_),I}var T=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(l)&&Array.isArray(l[0]);if(!Array.isArray(l)){c.set(n);return}var f=x.items,s=[],d=Array.isArray(f),S=d&&T&&Array.isArray(f[0]),M=T&&d&&!S,C=d&&!M?f.length:l.length,y,w,b,i,E,m;if(n=Array.isArray(n)?n:[],T)for(y=0;y<C;y++)for(s[y]=[],b=Array.isArray(l[y])?l[y]:[],M?E=f.length:d?E=f[y].length:E=b.length,w=0;w<E;w++)M?i=f[w]:d?i=f[y][w]:i=f,m=h(b[w],i,(n[y]||[])[w]),m!==void 0&&(s[y][w]=m);else for(y=0;y<C;y++)m=h(l[y],d?f[y]:f,n[y]),m!==void 0&&(s[y]=m);c.set(s)},validateFunction:function(l,c){if(!Array.isArray(l))return!1;var n=c.items,x=Array.isArray(n),h=c.dimensions===2;if(!c.freeLength&&l.length!==n.length)return!1;for(var T=0;T<l.length;T++)if(h){if(!Array.isArray(l[T])||!c.freeLength&&l[T].length!==n[T].length)return!1;for(var f=0;f<l[T].length;f++)if(!o(l[T][f],x?n[T][f]:n))return!1}else if(!o(l[T],x?n[T]:n))return!1;return!0}}},U.coerce=function(l,c,n,x,h){var T=g(n,x).get(),f=g(l,x),s=g(c,x),d=f.get(),S=c._template;if(d===void 0&&S&&(d=g(S,x).get(),S=0),h===void 0&&(h=T.dflt),T.arrayOk&&u(d))return s.set(d),d;var M=U.valObjectMeta[T.valType].coerceFunction;M(d,s,h,T);var C=s.get();return S&&C===h&&!o(d,T)&&(d=g(S,x).get(),M(d,s,h,T),C=s.get()),C},U.coerce2=function(l,c,n,x,h){var T=g(l,x),f=U.coerce(l,c,n,x,h),s=T.get();return s!=null?f:!1},U.coerceFont=function(l,c,n){var x={};return n=n||{},x.family=l(c+".family",n.family),x.size=l(c+".size",n.size),x.color=l(c+".color",n.color),x},U.coercePattern=function(l,c,n,x){var h=l(c+".shape");if(h){l(c+".solidity"),l(c+".size");var T=l(c+".fillmode"),f=T==="overlay";if(!x){var s=l(c+".bgcolor",f?n:void 0);l(c+".fgcolor",f?A.contrast(s):n)}l(c+".fgopacity",f?.5:1)}},U.coerceHoverinfo=function(l,c,n){var x=c._module.attributes,h=x.hoverinfo?x:a,T=h.hoverinfo,f;if(n._dataLength===1){var s=T.dflt==="all"?T.flags.slice():T.dflt.split("+");s.splice(s.indexOf("name"),1),f=s.join("+")}return U.coerce(l,c,h,"hoverinfo",f)},U.coerceSelectionMarkerOpacity=function(l,c){if(l.marker){var n=l.marker.opacity;if(n!==void 0){var x,h;!u(n)&&!l.selected&&!l.unselected&&(x=n,h=v*n),c("selected.marker.opacity",x),c("unselected.marker.opacity",h)}}};function o(l,c){var n=U.valObjectMeta[c.valType];if(c.arrayOk&&u(l))return!0;if(n.validateFunction)return n.validateFunction(l,c);var x={},h=x,T={set:function(f){h=f}};return n.coerceFunction(l,T,x,c),h!==x}U.validate=o},41631:function(W,U,e){var p=e(84096).i$,L=e(92770),a=e(47769),P=e(64872).mod,A=e(50606),v=A.BADNUM,g=A.ONEDAY,t=A.ONEHOUR,r=A.ONEMIN,u=A.ONESEC,o=A.EPOCHJD,l=e(73972),c=e(84096).g0,n=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(I){return I&&l.componentsRegistry.calendars&&typeof I=="string"&&I!=="gregorian"}U.dateTick0=function(I,O){var z=f(I,!!O);if(O<2)return z;var k=U.dateTime2ms(z,I);return k+=g*(O-1),U.ms2DateTime(k,0,I)};function f(I,O){return T(I)?O?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[I]:l.getComponentMethod("calendars","CANONICAL_TICK")[I]:O?"2000-01-02":"2000-01-01"}U.dfltRange=function(I){return T(I)?l.getComponentMethod("calendars","DFLTRANGE")[I]:["2000-01-01","2001-01-01"]},U.isJSDate=function(I){return typeof I=="object"&&I!==null&&typeof I.getTime=="function"};var s,d;U.dateTime2ms=function(I,O){if(U.isJSDate(I)){var z=I.getTimezoneOffset()*r,k=(I.getUTCMinutes()-I.getMinutes())*r+(I.getUTCSeconds()-I.getSeconds())*u+(I.getUTCMilliseconds()-I.getMilliseconds());if(k){var N=3*r;z=z-N/2+P(k-z+N/2,N)}return I=Number(I)-z,I>=s&&I<=d?I:v}if(typeof I!="string"&&typeof I!="number")return v;I=String(I);var K=T(O),q=I.charAt(0);K&&(q==="G"||q==="g")&&(I=I.substr(1),O="");var Q=K&&O.substr(0,7)==="chinese",re=I.match(Q?x:n);if(!re)return v;var oe=re[1],Y=re[3]||"1",G=Number(re[5]||1),V=Number(re[7]||0),Z=Number(re[9]||0),ae=Number(re[11]||0);if(K){if(oe.length===2)return v;oe=Number(oe);var ie;try{var J=l.getComponentMethod("calendars","getCal")(O);if(Q){var $=Y.charAt(Y.length-1)==="i";Y=parseInt(Y,10),ie=J.newDate(oe,J.toMonthIndex(oe,Y,$),G)}else ie=J.newDate(oe,Number(Y),G)}catch{return v}return ie?(ie.toJD()-o)*g+V*t+Z*r+ae*u:v}oe.length===2?oe=(Number(oe)+2e3-h)%100+h:oe=Number(oe),Y-=1;var se=new Date(Date.UTC(2e3,Y,G,V,Z));return se.setUTCFullYear(oe),se.getUTCMonth()!==Y||se.getUTCDate()!==G?v:se.getTime()+ae*u},s=U.MIN_MS=U.dateTime2ms("-9999"),d=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(I,O){return U.dateTime2ms(I,O)!==v};function S(I,O){return String(I+Math.pow(10,O)).substr(1)}var M=90*g,C=3*t,y=5*r;U.ms2DateTime=function(I,O,z){if(typeof I!="number"||!(I>=s&&I<=d))return v;O||(O=0);var k=Math.floor(P(I+.05,1)*10),N=Math.round(I-k/10),K,q,Q,re,oe,Y;if(T(z)){var G=Math.floor(N/g)+o,V=Math.floor(P(I,g));try{K=l.getComponentMethod("calendars","getCal")(z).fromJD(G).formatDate("yyyy-mm-dd")}catch{K=c("G%Y-%m-%d")(new Date(N))}if(K.charAt(0)==="-")for(;K.length<11;)K="-0"+K.substr(1);else for(;K.length<10;)K="0"+K;q=O<M?Math.floor(V/t):0,Q=O<M?Math.floor(V%t/r):0,re=O<C?Math.floor(V%r/u):0,oe=O<y?V%u*10+k:0}else Y=new Date(N),K=c("%Y-%m-%d")(Y),q=O<M?Y.getUTCHours():0,Q=O<M?Y.getUTCMinutes():0,re=O<C?Y.getUTCSeconds():0,oe=O<y?Y.getUTCMilliseconds()*10+k:0;return w(K,q,Q,re,oe)},U.ms2DateTimeLocal=function(I){if(!(I>=s+g&&I<=d-g))return v;var O=Math.floor(P(I+.05,1)*10),z=new Date(Math.round(I-O/10)),k=p("%Y-%m-%d")(z),N=z.getHours(),K=z.getMinutes(),q=z.getSeconds(),Q=z.getUTCMilliseconds()*10+O;return w(k,N,K,q,Q)};function w(I,O,z,k,N){if((O||z||k||N)&&(I+=" "+S(O,2)+":"+S(z,2),(k||N)&&(I+=":"+S(k,2),N))){for(var K=4;N%10===0;)K-=1,N/=10;I+="."+S(N,K)}return I}U.cleanDate=function(I,O,z){if(I===v)return O;if(U.isJSDate(I)||typeof I=="number"&&isFinite(I)){if(T(z))return a.error("JS Dates and milliseconds are incompatible with world calendars",I),O;if(I=U.ms2DateTimeLocal(+I),!I&&O!==void 0)return O}else if(!U.isDateTime(I,z))return a.error("unrecognized date",I),O;return I};var b=/%\d?f/g,i=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function m(I,O,z,k){I=I.replace(b,function(K){var q=Math.min(+K.charAt(1)||6,6),Q=(O/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return Q});var N=new Date(Math.floor(O+.05));if(I=I.replace(i,function(){return E[z("%q")(N)]}),T(k))try{I=l.getComponentMethod("calendars","worldCalFmt")(I,O,k)}catch{return"Invalid"}return z(I)(N)}var F=[59,59.9,59.99,59.999,59.9999];function _(I,O){var z=P(I+.05,g),k=S(Math.floor(z/t),2)+":"+S(P(Math.floor(z/r),60),2);if(O!=="M"){L(O)||(O=0);var N=Math.min(P(I/u,60),F[O]),K=(100+N).toFixed(O).substr(1);O>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),k+=":"+K}return k}U.formatDate=function(I,O,z,k,N,K){if(N=T(N)&&N,!O)if(z==="y")O=K.year;else if(z==="m")O=K.month;else if(z==="d")O=K.dayMonth+`
`+K.year;else return _(I,z)+`
`+m(K.dayMonthYear,I,k,N);return m(O,I,k,N)};var B=3*g;U.incrementMonth=function(I,O,z){z=T(z)&&z;var k=P(I,g);if(I=Math.round(I-k),z)try{var N=Math.round(I/g)+o,K=l.getComponentMethod("calendars","getCal")(z),q=K.fromJD(N);return O%12?K.add(q,O,"m"):K.add(q,O/12,"y"),(q.toJD()-o)*g+k}catch{a.error("invalid ms "+I+" in calendar "+z)}var Q=new Date(I+B);return Q.setUTCMonth(Q.getUTCMonth()+O)+k-B},U.findExactDates=function(I,O){for(var z=0,k=0,N=0,K=0,q,Q,re=T(O)&&l.getComponentMethod("calendars","getCal")(O),oe=0;oe<I.length;oe++){if(Q=I[oe],!L(Q)){K++;continue}if(!(Q%g))if(re)try{q=re.fromJD(Q/g+o),q.day()===1?q.month()===1?z++:k++:N++}catch{}else q=new Date(Q),q.getUTCDate()===1?q.getUTCMonth()===0?z++:k++:N++}k+=z,N+=k;var Y=I.length-K;return{exactYears:z/Y,exactMonths:k/Y,exactDays:N/Y}}},24401:function(W,U,e){var p=e(39898),L=e(47769),a=e(35657),P=e(79576);function A(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=p.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function g(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function t(h,T){r("global",h,T)}function r(h,T,f){var s="plotly.js-style-"+h,d=document.getElementById(s);d||(d=document.createElement("style"),d.setAttribute("id",s),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var S=d.sheet;S.insertRule?S.insertRule(T+"{"+f+"}",0):S.addRule?S.addRule(T,f,0):L.warn("addStyleRule failed")}function u(h){var T="plotly.js-style-"+h,f=document.getElementById(T);f&&g(f)}function o(h){var T=c(h),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(s){var d=l(s);if(d){var S=a.convertCssMatrix(d);f=P.multiply(f,f,S)}}),f}function l(h){var T=window.getComputedStyle(h,null),f=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return f==="none"?null:f.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function c(h){for(var T=[];n(h);)T.push(h),h=h.parentNode;return T}function n(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function x(h,T){return h&&T&&h.x===T.x&&h.y===T.y&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}W.exports={getGraphDiv:A,isPlotDiv:v,removeElement:g,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:u,getFullTransformMatrix:o,getElementTransformMatrix:l,getElementAndAncestors:c,equalDomRects:x}},11086:function(W,U,e){var p=e(15398).EventEmitter,L={init:function(a){if(a._ev instanceof p)return a;var P=new p,A=new p;return a._ev=P,a._internalEv=A,a.on=P.on.bind(P),a.once=P.once.bind(P),a.removeListener=P.removeListener.bind(P),a.removeAllListeners=P.removeAllListeners.bind(P),a._internalOn=A.on.bind(A),a._internalOnce=A.once.bind(A),a._removeInternalListener=A.removeListener.bind(A),a._removeAllInternalListeners=A.removeAllListeners.bind(A),a.emit=function(v,g){typeof jQuery<"u"&&jQuery(a).trigger(v,g),P.emit(v,g),A.emit(v,g)},a},triggerHandler:function(a,P,A){var v,g;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(P,A));var t=a._ev;if(!t)return v;var r=t._events[P];if(!r)return v;function u(l){if(l.listener){if(t.removeListener(P,l.listener),!l.fired)return l.fired=!0,l.listener.apply(t,[A])}else return l.apply(t,[A])}r=Array.isArray(r)?r:[r];var o;for(o=0;o<r.length-1;o++)u(r[o]);return g=u(r[o]),v!==void 0?v:g},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};W.exports=L},1426:function(W,U,e){var p=e(41965),L=Array.isArray;function a(A,v){var g,t;for(g=0;g<A.length;g++){if(t=A[g],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[g]=t)}return!0}U.extendFlat=function(){return P(arguments,!1,!1,!1)},U.extendDeep=function(){return P(arguments,!0,!1,!1)},U.extendDeepAll=function(){return P(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return P(arguments,!0,!1,!0)};function P(A,v,g,t){var r=A[0],u=A.length,o,l,c,n,x,h,T;if(u===2&&L(r)&&L(A[1])&&r.length===0){if(T=a(A[1],r),T)return r;r.splice(0,r.length)}for(var f=1;f<u;f++){o=A[f];for(l in o)c=r[l],n=o[l],t&&L(n)?r[l]=n:v&&n&&(p(n)||(x=L(n)))?(x?(x=!1,h=c&&L(c)?c:[]):h=c&&p(c)?c:{},r[l]=P([h,n],v,g,t)):(typeof n<"u"||g)&&(r[l]=n)}return r}},75744:function(W){W.exports=function(e){for(var p={},L=[],a=0,P=0;P<e.length;P++){var A=e[P];p[A]!==1&&(p[A]=1,L[a++]=A)}return L}},76756:function(W){W.exports=function(a){for(var P=p(a)?e:U,A=[],v=0;v<a.length;v++){var g=a[v];P(g)&&A.push(g)}return A};function U(L){return L.visible===!0}function e(L){var a=L[0].trace;return a.visible===!0&&a._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},41327:function(W,U,e){var p=e(39898),L=e(24138),a=e(30774),P=e(29261),A=e(85268),v=e(23389),g=e(47769),t=e(41965),r=e(65487),u=e(61082),o=Object.keys(L),l={"ISO-3":v,"USA-states":v,"country names":c};function c(S){for(var M=0;M<o.length;M++){var C=o[M],y=new RegExp(L[C]);if(y.test(S.trim().toLowerCase()))return C}return g.log("Unrecognized country name: "+S+"."),!1}function n(S,M,C){if(!M||typeof M!="string")return!1;var y=l[S](M),w,b,i;if(y){if(S==="USA-states")for(w=[],i=0;i<C.length;i++)b=C[i],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&w.push(b);else w=C;for(i=0;i<w.length;i++)if(b=w[i],b.id===y)return b;g.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function x(S){var M=S.geometry,C=M.coordinates,y=S.id,w=[],b,i,E,m;function F(_){for(var B=0;B<_.length-1;B++)if(_[B][0]>0&&_[B+1][0]<0)return B;return null}switch(y==="RUS"||y==="FJI"?b=function(_){var B;if(F(_)===null)B=_;else for(B=new Array(_.length),m=0;m<_.length;m++)B[m]=[_[m][0]<0?_[m][0]+360:_[m][0],_[m][1]];w.push(u.tester(B))}:y==="ATA"?b=function(_){var B=F(_);if(B===null)return w.push(u.tester(_));var I=new Array(_.length+1),O=0;for(m=0;m<_.length;m++)m>B?I[O++]=[_[m][0]+360,_[m][1]]:m===B?(I[O++]=_[m],I[O++]=[_[m][0],-90]):I[O++]=_[m];var z=u.tester(I);z.pts.pop(),w.push(z)}:b=function(_){w.push(u.tester(_))},M.type){case"MultiPolygon":for(i=0;i<C.length;i++)for(E=0;E<C[i].length;E++)b(C[i][E]);break;case"Polygon":for(i=0;i<C.length;i++)b(C[i]);break}return w}function h(S){var M=S.geojson,C=window.PlotlyGeoAssets||{},y=typeof M=="string"?C[M]:M;return t(y)?y:(g.error("Oops ... something went wrong when fetching "+M),!1)}function T(S){var M=S[0].trace,C=h(M);if(!C)return!1;var y={},w=[],b;for(b=0;b<M._length;b++){var i=S[b];(i.loc||i.loc===0)&&(y[i.loc]=i)}function E(_){var B=r(_,M.featureidkey||"id").get(),I=y[B];if(I){var O=_.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var z={type:"Feature",id:B,geometry:O,properties:{}};z.properties.ct=f(z),I.fIn=_,I.fOut=z,w.push(z)}else g.log(["Location",I.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[B]}switch(C.type){case"FeatureCollection":var m=C.features;for(b=0;b<m.length;b++)E(m[b]);break;case"Feature":E(C);break;default:return g.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in y)g.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+M.featureidkey+"*."].join(" "));return w}function f(S){var M=S.geometry,C;if(M.type==="MultiPolygon")for(var y=M.coordinates,w=0,b=0;b<y.length;b++){var i={type:"Polygon",coordinates:y[b]},E=a.default(i);E>w&&(w=E,C=i)}else C=M;return P.default(C).geometry.coordinates}function s(S){var M=window.PlotlyGeoAssets||{},C=[];function y(m){return new Promise(function(F,_){p.json(m,function(B,I){if(B){delete M[m];var O=B.status===404?'GeoJSON at URL "'+m+'" does not exist.':"Unexpected error while fetching from "+m;return _(new Error(O))}return M[m]=I,F(I)})})}function w(m){return new Promise(function(F,_){var B=0,I=setInterval(function(){if(M[m]&&M[m]!=="pending")return clearInterval(I),F(M[m]);if(B>100)return clearInterval(I),_("Unexpected error while fetching from "+m);B++},50)})}for(var b=0;b<S.length;b++){var i=S[b][0].trace,E=i.geojson;typeof E=="string"&&(M[E]?M[E]==="pending"&&C.push(w(E)):(M[E]="pending",C.push(y(E))))}return C}function d(S){return A.default(S)}W.exports={locationToFeature:n,feature2polygons:x,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:s,computeBbox:d}},18214:function(W,U,e){var p=e(50606).BADNUM;U.calcTraceToLineCoords=function(L){for(var a=L[0].trace,P=a.connectgaps,A=[],v=[],g=0;g<L.length;g++){var t=L[g],r=t.lonlat;r[0]!==p?v.push(r):!P&&v.length>0&&(A.push(v),v=[])}return v.length>0&&A.push(v),A},U.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},U.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var a=new Array(L.length),P=0;P<L.length;P++)a[P]=[L[P]];return{type:"MultiPolygon",coordinates:a}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(W,U,e){var p=e(64872).mod;U.segmentsIntersect=L;function L(g,t,r,u,o,l,c,n){var x=r-g,h=o-g,T=c-o,f=u-t,s=l-t,d=n-l,S=x*d-T*f;if(S===0)return null;var M=(h*d-T*s)/S,C=(h*f-x*s)/S;return C<0||C>1||M<0||M>1?null:{x:g+x*M,y:t+f*M}}U.segmentDistance=function(t,r,u,o,l,c,n,x){if(L(t,r,u,o,l,c,n,x))return 0;var h=u-t,T=o-r,f=n-l,s=x-c,d=h*h+T*T,S=f*f+s*s,M=Math.min(a(h,T,d,l-t,c-r),a(h,T,d,n-t,x-r),a(f,s,S,t-l,r-c),a(f,s,S,u-l,o-c));return Math.sqrt(M)};function a(g,t,r,u,o){var l=u*g+o*t;if(l<0)return u*u+o*o;if(l>r){var c=u-g,n=o-t;return c*c+n*n}else{var x=u*t-o*g;return x*x/r}}var P,A,v;U.getTextLocation=function(t,r,u,o){if((t!==A||o!==v)&&(P={},A=t,v=o),P[u])return P[u];var l=t.getPointAtLength(p(u-o/2,r)),c=t.getPointAtLength(p(u+o/2,r)),n=Math.atan((c.y-l.y)/(c.x-l.x)),x=t.getPointAtLength(p(u,r)),h=(x.x*4+l.x+c.x)/6,T=(x.y*4+l.y+c.y)/6,f={x:h,y:T,theta:n};return P[u]=f,f},U.clearLocationCache=function(){A=null},U.getVisibleSegment=function(t,r,u){var o=r.left,l=r.right,c=r.top,n=r.bottom,x=0,h=t.getTotalLength(),T=h,f,s;function d(M){var C=t.getPointAtLength(M);M===0?f=C:M===h&&(s=C);var y=C.x<o?o-C.x:C.x>l?C.x-l:0,w=C.y<c?c-C.y:C.y>n?C.y-n:0;return Math.sqrt(y*y+w*w)}for(var S=d(x);S;){if(x+=S+u,x>T)return;S=d(x)}for(S=d(T);S;){if(T-=S+u,x>T)return;S=d(T)}return{min:x,max:T,len:T-x,total:h,isClosed:x===0&&T===h&&Math.abs(f.x-s.x)<.1&&Math.abs(f.y-s.y)<.1}},U.findPointOnPath=function(t,r,u,o){o=o||{};for(var l=o.pathLength||t.getTotalLength(),c=o.tolerance||.001,n=o.iterationLimit||30,x=t.getPointAtLength(0)[u]>t.getPointAtLength(l)[u]?-1:1,h=0,T=0,f=l,s,d,S;h<n;){if(s=(T+f)/2,d=t.getPointAtLength(s),S=d[u]-r,Math.abs(S)<c)return d;x*S>0?f=s:T=s,h++}return d}},81697:function(W,U,e){var p=e(92770),L=e(84267),a=e(25075),P=e(21081),A=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,g=a(A),t=1;function r(n,x){var h=n;return h[3]*=x,h}function u(n){if(p(n))return g;var x=a(n);return x.length?x:g}function o(n){return p(n)?n:t}function l(n,x,h){var T=n.color,f=v(T),s=v(x),d=P.extractOpts(n),S=[],M,C,y,w,b;if(d.colorscale!==void 0?M=P.makeColorScaleFuncFromTrace(n):M=u,f?C=function(E,m){return E[m]===void 0?g:a(M(E[m]))}:C=u,s?y=function(E,m){return E[m]===void 0?t:o(E[m])}:y=o,f||s)for(var i=0;i<h;i++)w=C(T,i),b=y(x,i),S[i]=r(w,b);else S=r(a(T),x);return S}function c(n){var x=P.extractOpts(n),h=x.colorscale;return x.reversescale&&(h=P.flipScale(x.colorscale)),h.map(function(T){var f=T[0],s=L(T[1]),d=s.toRgb();return{index:f,rgb:[d.r,d.g,d.b,d.a]}})}W.exports={formatColor:l,parseColorScale:c}},28984:function(W,U,e){var p=e(23389);function L(a){return[a]}W.exports={keyFun:function(a){return a.key},repeat:L,descend:p,wrap:L,unwrap:function(a){return a[0]}}},23389:function(W){W.exports=function(e){return e}},39240:function(W){W.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),a=L>1?(L*e+L*p)/L:e+p,P=String(a).length;if(P>16){var A=String(p).length,v=String(e).length;if(P>=v+A){var g=parseFloat(a).toPrecision(12);g.indexOf("e+")===-1&&(a=+g)}}return a}},71828:function(W,U,e){var p=e(39898),L=e(84096).g0,a=e(60721).WU,P=e(92770),A=e(50606),v=A.FP_SAFE,g=-v,t=A.BADNUM,r=W.exports={};r.adjustFormat=function(Y){return!Y||/^\d[.]\df/.test(Y)||/[.]\d%/.test(Y)?Y:Y==="0.f"?"~f":/^\d%/.test(Y)?"~%":/^\ds/.test(Y)?"~s":!/^[~,.0$]/.test(Y)&&/[&fps]/.test(Y)?"~"+Y:Y};var u={};r.warnBadFormat=function(oe){var Y=String(oe);u[Y]||(u[Y]=1,r.warn('encountered bad format: "'+Y+'"'))},r.noFormat=function(oe){return String(oe)},r.numberFormat=function(oe){var Y;try{Y=a(r.adjustFormat(oe))}catch{return r.warnBadFormat(oe),r.noFormat}return Y},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var o=e(73627);r.isTypedArray=o.isTypedArray,r.isArrayOrTypedArray=o.isArrayOrTypedArray,r.isArray1D=o.isArray1D,r.ensureArray=o.ensureArray,r.concat=o.concat,r.maxRowLength=o.maxRowLength,r.minRowLength=o.minRowLength;var l=e(64872);r.mod=l.mod,r.modHalf=l.modHalf;var c=e(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var n=e(41631);r.dateTime2ms=n.dateTime2ms,r.isDateTime=n.isDateTime,r.ms2DateTime=n.ms2DateTime,r.ms2DateTimeLocal=n.ms2DateTimeLocal,r.cleanDate=n.cleanDate,r.isJSDate=n.isJSDate,r.formatDate=n.formatDate,r.incrementMonth=n.incrementMonth,r.dateTick0=n.dateTick0,r.dfltRange=n.dfltRange,r.findExactDates=n.findExactDates,r.MIN_MS=n.MIN_MS,r.MAX_MS=n.MAX_MS;var x=e(65888);r.findBin=x.findBin,r.sorterAsc=x.sorterAsc,r.sorterDes=x.sorterDes,r.distinctVals=x.distinctVals,r.roundUp=x.roundUp,r.sort=x.sort,r.findIndexOfMin=x.findIndexOfMin,r.sortObjectKeys=e(78607);var h=e(80038);r.aggNums=h.aggNums,r.len=h.len,r.mean=h.mean,r.median=h.median,r.midRange=h.midRange,r.variance=h.variance,r.stdev=h.stdev,r.interp=h.interp;var T=e(35657);r.init2dArray=T.init2dArray,r.transposeRagged=T.transposeRagged,r.dot=T.dot,r.translationMatrix=T.translationMatrix,r.rotationMatrix=T.rotationMatrix,r.rotationXYMatrix=T.rotationXYMatrix,r.apply3DTransform=T.apply3DTransform,r.apply2DTransform=T.apply2DTransform,r.apply2DTransform2=T.apply2DTransform2,r.convertCssMatrix=T.convertCssMatrix,r.inverseTransformMatrix=T.inverseTransformMatrix;var f=e(26348);r.deg2rad=f.deg2rad,r.rad2deg=f.rad2deg,r.angleDelta=f.angleDelta,r.angleDist=f.angleDist,r.isFullCircle=f.isFullCircle,r.isAngleInsideSector=f.isAngleInsideSector,r.isPtInsideSector=f.isPtInsideSector,r.pathArc=f.pathArc,r.pathSector=f.pathSector,r.pathAnnulus=f.pathAnnulus;var s=e(99863);r.isLeftAnchor=s.isLeftAnchor,r.isCenterAnchor=s.isCenterAnchor,r.isRightAnchor=s.isRightAnchor,r.isTopAnchor=s.isTopAnchor,r.isMiddleAnchor=s.isMiddleAnchor,r.isBottomAnchor=s.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var S=e(1426);r.extendFlat=S.extendFlat,r.extendDeep=S.extendDeep,r.extendDeepAll=S.extendDeepAll,r.extendDeepNoArrays=S.extendDeepNoArrays;var M=e(47769);r.log=M.log,r.warn=M.warn,r.error=M.error;var C=e(30587);r.counterRegex=C.counter;var y=e(79990);r.throttle=y.throttle,r.throttleDone=y.done,r.clearThrottle=y.clear;var w=e(24401);r.getGraphDiv=w.getGraphDiv,r.isPlotDiv=w.isPlotDiv,r.removeElement=w.removeElement,r.addStyleRule=w.addStyleRule,r.addRelatedStyleRule=w.addRelatedStyleRule,r.deleteRelatedStyleRule=w.deleteRelatedStyleRule,r.getFullTransformMatrix=w.getFullTransformMatrix,r.getElementTransformMatrix=w.getElementTransformMatrix,r.getElementAndAncestors=w.getElementAndAncestors,r.equalDomRects=w.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(Y){return P(Y)?(Y=Number(Y),Y>v||Y<g?t:Y):t},r.isIndex=function(oe,Y){return Y!==void 0&&oe>=Y?!1:P(oe)&&oe>=0&&oe%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(oe,Y){for(var G=new Array(Y),V=0;V<Y;V++)G[V]=oe;return G},r.swapAttrs=function(oe,Y,G,V){G||(G="x"),V||(V="y");for(var Z=0;Z<Y.length;Z++){var ae=Y[Z],ie=r.nestedProperty(oe,ae.replace("?",G)),J=r.nestedProperty(oe,ae.replace("?",V)),$=ie.get();ie.set(J.get()),J.set($)}},r.raiseToTop=function(Y){Y.parentNode.appendChild(Y)},r.cancelTransition=function(oe){return oe.transition().duration(0)},r.constrain=function(oe,Y,G){return Y>G?Math.max(G,Math.min(Y,oe)):Math.max(Y,Math.min(G,oe))},r.bBoxIntersect=function(oe,Y,G){return G=G||0,oe.left<=Y.right+G&&Y.left<=oe.right+G&&oe.top<=Y.bottom+G&&Y.top<=oe.bottom+G},r.simpleMap=function(oe,Y,G,V,Z){for(var ae=oe.length,ie=new Array(ae),J=0;J<ae;J++)ie[J]=Y(oe[J],G,V,Z);return ie},r.randstr=function oe(Y,G,V,Z){if(V||(V=16),G===void 0&&(G=24),G<=0)return"0";var ae=Math.log(Math.pow(2,G))/Math.log(V),ie="",J,$,se;for(J=2;ae===1/0;J*=2)ae=Math.log(Math.pow(2,G/J))/Math.log(V)*J;var ee=ae-Math.floor(ae);for(J=0;J<Math.floor(ae);J++)se=Math.floor(Math.random()*V).toString(V),ie=se+ie;ee&&($=Math.pow(V,ee),se=Math.floor(Math.random()*$).toString(V),ie=se+ie);var ue=parseInt(ie,V);return Y&&Y[ie]||ue!==1/0&&ue>=Math.pow(2,G)?Z>10?(r.warn("randstr failed uniqueness"),ie):oe(Y,G,V,(Z||0)+1):ie},r.OptionControl=function(oe,Y){oe||(oe={}),Y||(Y="opt");var G={};return G.optionList=[],G._newoption=function(V){V[Y]=oe,G[V.name]=V,G.optionList.push(V)},G["_"+Y]=oe,G},r.smooth=function(oe,Y){if(Y=Math.round(Y)||0,Y<2)return oe;var G=oe.length,V=2*G,Z=2*Y-1,ae=new Array(Z),ie=new Array(G),J,$,se,ee;for(J=0;J<Z;J++)ae[J]=(1-Math.cos(Math.PI*(J+1)/Y))/(2*Y);for(J=0;J<G;J++){for(ee=0,$=0;$<Z;$++)se=J+$+1-Y,se<-G?se-=V*Math.round(se/V):se>=V&&(se-=V*Math.floor(se/V)),se<0?se=-1-se:se>=G&&(se=V-1-se),ee+=oe[se]*ae[$];ie[J]=ee}return ie},r.syncOrAsync=function(oe,Y,G){var V,Z;function ae(){return r.syncOrAsync(oe,Y,G)}for(;oe.length;)if(Z=oe.splice(0,1)[0],V=Z(Y),V&&V.then)return V.then(ae);return G&&G(Y)},r.stripTrailingSlash=function(oe){return oe.substr(-1)==="/"?oe.substr(0,oe.length-1):oe},r.noneOrAll=function(oe,Y,G){if(oe){var V=!1,Z=!0,ae,ie;for(ae=0;ae<G.length;ae++)ie=oe[G[ae]],ie!=null?V=!0:Z=!1;if(V&&!Z)for(ae=0;ae<G.length;ae++)oe[G[ae]]=Y[G[ae]]}},r.mergeArray=function(oe,Y,G,V){var Z=typeof V=="function";if(r.isArrayOrTypedArray(oe))for(var ae=Math.min(oe.length,Y.length),ie=0;ie<ae;ie++){var J=oe[ie];Y[ie][G]=Z?V(J):J}},r.mergeArrayCastPositive=function(oe,Y,G){return r.mergeArray(oe,Y,G,function(V){var Z=+V;return isFinite(Z)&&Z>0?Z:0})},r.fillArray=function(oe,Y,G,V){if(V=V||r.identity,r.isArrayOrTypedArray(oe))for(var Z=0;Z<Y.length;Z++)Y[Z][G]=V(oe[Z])},r.castOption=function(oe,Y,G,V){V=V||r.identity;var Z=r.nestedProperty(oe,G).get();return r.isArrayOrTypedArray(Z)?Array.isArray(Y)&&r.isArrayOrTypedArray(Z[Y[0]])?V(Z[Y[0]][Y[1]]):V(Z[Y]):Z},r.extractOption=function(oe,Y,G,V){if(G in oe)return oe[G];var Z=r.nestedProperty(Y,V).get();if(!Array.isArray(Z))return Z};function b(oe){var Y={};for(var G in oe)for(var V=oe[G],Z=0;Z<V.length;Z++)Y[V[Z]]=+G;return Y}r.tagSelected=function(oe,Y,G){var V=Y.selectedpoints,Z=Y._indexToPoints,ae;Z&&(ae=b(Z));function ie(ue){return ue!==void 0&&ue<oe.length}for(var J=0;J<V.length;J++){var $=V[J];if(r.isIndex($)||r.isArrayOrTypedArray($)&&r.isIndex($[0])&&r.isIndex($[1])){var se=ae?ae[$]:$,ee=G?G[se]:se;ie(ee)&&(oe[ee].selected=1)}}},r.selIndices2selPoints=function(oe){var Y=oe.selectedpoints,G=oe._indexToPoints;if(G){for(var V=b(G),Z=[],ae=0;ae<Y.length;ae++){var ie=Y[ae];if(r.isIndex(ie)){var J=V[ie];r.isIndex(J)&&Z.push(J)}}return Z}else return Y},r.getTargetArray=function(oe,Y){var G=Y.target;if(typeof G=="string"&&G){var V=r.nestedProperty(oe,G).get();return Array.isArray(V)?V:!1}else if(Array.isArray(G))return G;return!1},r.minExtend=function(oe,Y){var G={};typeof Y!="object"&&(Y={});var V=3,Z=Object.keys(oe),ae,ie,J;for(ae=0;ae<Z.length;ae++)ie=Z[ae],J=oe[ie],!(ie.charAt(0)==="_"||typeof J=="function")&&(ie==="module"?G[ie]=J:Array.isArray(J)?ie==="colorscale"?G[ie]=J.slice():G[ie]=J.slice(0,V):r.isTypedArray(J)?G[ie]=J.subarray(0,V):J&&typeof J=="object"?G[ie]=r.minExtend(oe[ie],Y[ie]):G[ie]=J);for(Z=Object.keys(Y),ae=0;ae<Z.length;ae++)ie=Z[ae],J=Y[ie],(typeof J!="object"||!(ie in G)||typeof G[ie]!="object")&&(G[ie]=J);return G},r.titleCase=function(oe){return oe.charAt(0).toUpperCase()+oe.substr(1)},r.containsAny=function(oe,Y){for(var G=0;G<Y.length;G++)if(oe.indexOf(Y[G])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var i=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return i.test(window.navigator.userAgent)};var E=/iPad|iPhone|iPod/;r.isIOS=function(){return E.test(window.navigator.userAgent)};var m=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var oe=m.exec(window.navigator.userAgent);if(oe&&oe.length===2){var Y=parseInt(oe[1]);if(!isNaN(Y))return Y}return null},r.isD3Selection=function(oe){return oe instanceof p.selection},r.ensureSingle=function(oe,Y,G,V){var Z=oe.select(Y+(G?"."+G:""));if(Z.size())return Z;var ae=oe.append(Y);return G&&ae.classed(G,!0),V&&ae.call(V),ae},r.ensureSingleById=function(oe,Y,G,V){var Z=oe.select(Y+"#"+G);if(Z.size())return Z;var ae=oe.append(Y).attr("id",G);return V&&ae.call(V),ae},r.objectFromPath=function(oe,Y){for(var G=oe.split("."),V,Z=V={},ae=0;ae<G.length;ae++){var ie=G[ae],J=null,$=G[ae].match(/(.*)\[([0-9]+)\]/);$?(ie=$[1],J=$[2],V=V[ie]=[],ae===G.length-1?V[J]=Y:V[J]={},V=V[J]):(ae===G.length-1?V[ie]=Y:V[ie]={},V=V[ie])}return Z};var F=/^([^\[\.]+)\.(.+)?/,_=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(oe){var Y,G,V,Z,ae,ie,J;if(typeof oe=="object"&&!Array.isArray(oe))for(G in oe)oe.hasOwnProperty(G)&&((Y=G.match(F))?(Z=oe[G],V=Y[1],delete oe[G],oe[V]=r.extendDeepNoArrays(oe[V]||{},r.objectFromPath(G,r.expandObjectPaths(Z))[V])):(Y=G.match(_))?(Z=oe[G],V=Y[1],ae=parseInt(Y[2]),delete oe[G],oe[V]=oe[V]||[],Y[3]==="."?(J=Y[4],ie=oe[V][ae]=oe[V][ae]||{},r.extendDeepNoArrays(ie,r.objectFromPath(J,r.expandObjectPaths(Z)))):oe[V][ae]=r.expandObjectPaths(Z)):oe[G]=r.expandObjectPaths(oe[G]));return oe},r.numSeparate=function(oe,Y,G){if(G||(G=!1),typeof Y!="string"||Y.length===0)throw new Error("Separator string required for formatting!");typeof oe=="number"&&(oe=String(oe));var V=/(\d+)(\d{3})/,Z=Y.charAt(0),ae=Y.charAt(1),ie=oe.split("."),J=ie[0],$=ie.length>1?Z+ie[1]:"";if(ae&&(ie.length>1||J.length>4||G))for(;V.test(J);)J=J.replace(V,"$1"+ae+"$2");return J+$},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;r.templateString=function(oe,Y){var G={};return oe.replace(r.TEMPLATE_STRING_REGEX,function(V,Z){var ae;return B.test(Z)?ae=Y[Z]:(G[Z]=G[Z]||r.nestedProperty(Y,Z).get,ae=G[Z]()),r.isValidTextValue(ae)?ae:""})};var I={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return k.apply(I,arguments)};var O={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return k.apply(O,arguments)};var z=/^[:|\|]/;function k(oe,Y,G){var V=this,Z=arguments;Y||(Y={});var ae={};return oe.replace(r.TEMPLATE_STRING_REGEX,function(ie,J,$){var se=J==="xother"||J==="yother",ee=J==="_xother"||J==="_yother",ue=J==="_xother_"||J==="_yother_",ge=J==="xother_"||J==="yother_",Te=se||ee||ge||ue,xe=J;(ee||ue)&&(xe=xe.substring(1)),(ge||ue)&&(xe=xe.substring(0,xe.length-1));var Pe;if(Te){if(Pe=Y[xe],Pe===void 0)return""}else{var Ie,Ae;for(Ae=3;Ae<Z.length;Ae++)if(Ie=Z[Ae],!!Ie){if(Ie.hasOwnProperty(xe)){Pe=Ie[xe];break}if(B.test(xe)||(Pe=r.nestedProperty(Ie,xe).get(),Pe=ae[xe]||r.nestedProperty(Ie,xe).get(),Pe&&(ae[xe]=Pe)),Pe!==void 0)break}}if(Pe===void 0&&V)return V.count<V.max&&(r.warn("Variable '"+xe+"' in "+V.name+" could not be found!"),Pe=ie),V.count===V.max&&r.warn("Too many "+V.name+" warnings - additional warnings will be suppressed"),V.count++,ie;if($){var be;if($[0]===":"&&(be=G?G.numberFormat:r.numberFormat,Pe=be($.replace(z,""))(Pe)),$[0]==="|"){be=G?G.timeFormat:L;var _e=r.dateTime2ms(Pe);Pe=r.formatDate(_e,$.replace(z,""),!1,be)}}else{var Ve=xe+"Label";Y.hasOwnProperty(Ve)&&(Pe=Y[Ve])}return Te&&(Pe="("+Pe+")",(ee||ue)&&(Pe=" "+Pe),(ge||ue)&&(Pe=Pe+" ")),Pe})}var N=48,K=57;r.subplotSort=function(oe,Y){for(var G=Math.min(oe.length,Y.length)+1,V=0,Z=0,ae=0;ae<G;ae++){var ie=oe.charCodeAt(ae)||0,J=Y.charCodeAt(ae)||0,$=ie>=N&&ie<=K,se=J>=N&&J<=K;if($&&(V=10*V+ie-N),se&&(Z=10*Z+J-N),!$||!se){if(V!==Z)return V-Z;if(ie!==J)return ie-J}}return Z-V};var q=2e9;r.seedPseudoRandom=function(){q=2e9},r.pseudoRandom=function(){var oe=q;return q=(69069*q+1)%4294967296,Math.abs(q-oe)<429496729?r.pseudoRandom():q/4294967296},r.fillText=function(oe,Y,G){var V=Array.isArray(G)?function(ie){G.push(ie)}:function(ie){G.text=ie},Z=r.extractOption(oe,Y,"htx","hovertext");if(r.isValidTextValue(Z))return V(Z);var ae=r.extractOption(oe,Y,"tx","text");if(r.isValidTextValue(ae))return V(ae)},r.isValidTextValue=function(oe){return oe||oe===0},r.formatPercent=function(oe,Y){Y=Y||0;for(var G=(Math.round(100*oe*Math.pow(10,Y))*Math.pow(.1,Y)).toFixed(Y)+"%",V=0;V<Y;V++)G.indexOf(".")!==-1&&(G=G.replace("0%","%"),G=G.replace(".%","%"));return G},r.isHidden=function(oe){var Y=window.getComputedStyle(oe).display;return!Y||Y==="none"},r.strTranslate=function(oe,Y){return oe||Y?"translate("+oe+","+Y+")":""},r.strRotate=function(oe){return oe?"rotate("+oe+")":""},r.strScale=function(oe){return oe!==1?"scale("+oe+")":""},r.getTextTransform=function(oe){var Y=oe.noCenter,G=oe.textX,V=oe.textY,Z=oe.targetX,ae=oe.targetY,ie=oe.anchorX||0,J=oe.anchorY||0,$=oe.rotate,se=oe.scale;return se?se>1&&(se=1):se=0,r.strTranslate(Z-se*(G+ie),ae-se*(V+J))+r.strScale(se)+($?"rotate("+$+(Y?"":" "+G+" "+V)+")":"")},r.setTransormAndDisplay=function(oe,Y){oe.attr("transform",r.getTextTransform(Y)),oe.style("display",Y.scale?null:"none")},r.ensureUniformFontSize=function(oe,Y){var G=r.extendFlat({},Y);return G.size=Math.max(Y.size,oe._fullLayout.uniformtext.minsize||0),G},r.join2=function(oe,Y,G){var V=oe.length;return V>1?oe.slice(0,-1).join(Y)+G+oe[V-1]:oe.join(Y)},r.bigFont=function(oe){return Math.round(1.2*oe)};var Q=r.getFirefoxVersion(),re=Q!==null&&Q<86;r.getPositionFromD3Event=function(){return re?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},41965:function(W){W.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(W,U,e){var p=e(65487),L=/^\w*$/,a=0,P=1,A=2,v=3,g=4;W.exports=function(r,u,o,l){o=o||"name",l=l||"value";var c,n,x,h={};u&&u.length?(x=p(r,u),n=x.get()):n=r,u=u||"";var T={};if(n)for(c=0;c<n.length;c++)T[n[c][o]]=c;var f=L.test(l),s={set:function(d,S){var M=S===null?g:a;if(!n){if(!x||M===g)return;n=[],x.set(n)}var C=T[d];if(C===void 0){if(M===g)return;M=M|v,C=n.length,T[d]=C}else S!==(f?n[C][l]:p(n[C],l).get())&&(M=M|A);var y=n[C]=n[C]||{};return y[o]=d,f?y[l]=S:p(y,l).set(S),S!==null&&(M=M&~g),h[C]=h[C]|M,s},get:function(d){if(n){var S=T[d];if(S!==void 0)return f?n[S][l]:p(n[S],l).get()}},rename:function(d,S){var M=T[d];return M===void 0||(h[M]=h[M]|P,T[S]=M,delete T[d],n[M][o]=S),s},remove:function(d){var S=T[d];if(S===void 0)return s;var M=n[S];if(Object.keys(M).length>2)return h[S]=h[S]|A,s.set(d,null);if(f){for(c=S;c<n.length;c++)h[c]=h[c]|v;for(c=S;c<n.length;c++)T[n[c][o]]--;n.splice(S,1),delete T[d]}else p(M,l).set(null),h[S]=h[S]|A|g;return s},constructUpdate:function(){for(var d,S,M={},C=Object.keys(h),y=0;y<C.length;y++)S=C[y],d=u+"["+S+"]",n[S]?(h[S]&P&&(M[d+"."+o]=n[S][o]),h[S]&A&&(f?M[d+"."+l]=h[S]&g?null:n[S][l]:M[d+"."+l]=h[S]&g?null:p(n[S],l).get())):M[d]=null;return M}};return s}},15867:function(W,U,e){var p=e(73972);W.exports=function(a,P){for(var A=a._context.locale,v=0;v<2;v++){for(var g=a._context.locales,t=0;t<2;t++){var r=(g[A]||{}).dictionary;if(r){var u=r[P];if(u)return u}g=p.localeRegistry}var o=A.split("-")[0];if(o===A)break;A=o}return P}},47769:function(W,U,e){var p=e(72075).dfltConfig,L=e(75046),a=W.exports={};a.log=function(){var P;if(p.logging>1){var A=["LOG:"];for(P=0;P<arguments.length;P++)A.push(arguments[P]);console.trace.apply(console,A)}if(p.notifyOnLogging>1){var v=[];for(P=0;P<arguments.length;P++)v.push(arguments[P]);L(v.join("<br>"),"long")}},a.warn=function(){var P;if(p.logging>0){var A=["WARN:"];for(P=0;P<arguments.length;P++)A.push(arguments[P]);console.trace.apply(console,A)}if(p.notifyOnLogging>0){var v=[];for(P=0;P<arguments.length;P++)v.push(arguments[P]);L(v.join("<br>"),"stick")}},a.error=function(){var P;if(p.logging>0){var A=["ERROR:"];for(P=0;P<arguments.length;P++)A.push(arguments[P]);console.error.apply(console,A)}if(p.notifyOnLogging>0){var v=[];for(P=0;P<arguments.length;P++)v.push(arguments[P]);L(v.join("<br>"),"stick")}}},77310:function(W,U,e){var p=e(39898);W.exports=function(a,P,A){var v=a.selectAll("g."+A.replace(/\s/g,".")).data(P,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",A),v.order();var g=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][g]=p.select(this)}),v}},35657:function(W,U,e){var p=e(79576);U.init2dArray=function(L,a){for(var P=new Array(L),A=0;A<L;A++)P[A]=new Array(a);return P},U.transposeRagged=function(L){var a=0,P=L.length,A,v;for(A=0;A<P;A++)a=Math.max(a,L[A].length);var g=new Array(a);for(A=0;A<a;A++)for(g[A]=new Array(P),v=0;v<P;v++)g[A][v]=L[v][A];return g},U.dot=function(L,a){if(!(L.length&&a.length)||L.length!==a.length)return null;var P=L.length,A,v;if(L[0].length)for(A=new Array(P),v=0;v<P;v++)A[v]=U.dot(L[v],a);else if(a[0].length){var g=U.transposeRagged(a);for(A=new Array(g.length),v=0;v<g.length;v++)A[v]=U.dot(L,g[v])}else for(A=0,v=0;v<P;v++)A+=L[v]*a[v];return A},U.translationMatrix=function(L,a){return[[1,0,L],[0,1,a],[0,0,1]]},U.rotationMatrix=function(L){var a=L*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},U.rotationXYMatrix=function(L,a,P){return U.dot(U.dot(U.translationMatrix(a,P),U.rotationMatrix(L)),U.translationMatrix(-a,-P))},U.apply3DTransform=function(L){return function(){var a=arguments,P=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return U.dot(L,[P[0],P[1],P[2],1]).slice(0,3)}},U.apply2DTransform=function(L){return function(){var a=arguments;a.length===3&&(a=a[0]);var P=arguments.length===1?a[0]:[a[0],a[1]];return U.dot(L,[P[0],P[1],1]).slice(0,2)}},U.apply2DTransform2=function(L){var a=U.apply2DTransform(L);return function(P){return a(P.slice(0,2)).concat(a(P.slice(2,4)))}},U.convertCssMatrix=function(L){if(L){var a=L.length;if(a===16)return L;if(a===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(L){var a=[];return p.invert(a,L),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(W){function U(p,L){var a=p%L;return a<0?a+L:a}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}W.exports={mod:U,modHalf:e}},65487:function(W,U,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;W.exports=function(l,c){if(p(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";for(var n=0,x=c.split("."),h,T,f;n<x.length;){if(h=String(x[n]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),h){if(h[1])x[n]=h[1];else if(n===0)x.splice(0,1);else throw"bad property string";for(T=h[2].substr(1,h[2].length-2).split("]["),f=0;f<T.length;f++)n++,x.splice(n,0,Number(T[f]))}n++}return typeof l!="object"?u(l,c,x):{set:v(l,x,c),get:a(l,x),astr:c,parts:x,obj:l}};function a(o,l){return function(){var c=o,n,x,h,T,f;for(T=0;T<l.length-1;T++){if(n=l[T],n===-1){for(x=!0,h=[],f=0;f<c.length;f++)h[f]=a(c[f],l.slice(T+1))(),h[f]!==h[0]&&(x=!1);return x?h[0]:h}if(typeof n=="number"&&!L(c)||(c=c[n],typeof c!="object"||c===null))return}if(!(typeof c!="object"||c===null)&&(h=c[l[T]],h!==null))return h}}var P=/(^|\.)args\[/;function A(o,l){return o===void 0||o===null&&!l.match(P)}function v(o,l,c){return function(n){var x=o,h="",T=A(n,c),f,s;for(s=0;s<l.length-1;s++){if(f=l[s],typeof f=="number"&&!L(x))throw"array index but container is not an array";if(f===-1){if(T=!t(x,l.slice(s+1),n,c),T)break;return}if(!r(x,f,l[s+1],T))break;if(x=x[f],typeof x!="object"||x===null)throw"container is not an object";h=g(h,f)}if(T){if(s===l.length-1&&(delete x[l[s]],Array.isArray(x)&&+l[s]===x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[l[s]]=n}}function g(o,l){var c=l;return p(l)?c="["+l+"]":o&&(c="."+l),o+c}function t(o,l,c,n){var x=L(c),h=!0,T=c,f=n.replace("-1",0),s=x?!1:A(c,f),d=l[0],S;for(S=0;S<o.length;S++)f=n.replace("-1",S),x&&(T=c[S%c.length],s=A(T,f)),s&&(h=!1),r(o,S,d,s)&&v(o[S],l,n.replace("-1",S))(T);return h}function r(o,l,c,n){if(o[l]===void 0){if(n)return!1;typeof c=="number"?o[l]=[]:o[l]={}}return!0}function u(o,l,c){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:c,obj:o}}},64213:function(W){W.exports=function(){}},75046:function(W,U,e){var p=e(39898),L=e(92770),a=[];W.exports=function(P,A){if(a.indexOf(P)!==-1)return;a.push(P);var v=1e3;L(A)?v=A:A==="long"&&(v=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var t=g.selectAll(".notifier-note").data(a);function r(u){u.duration(700).style("opacity",0).each("end",function(o){var l=a.indexOf(o);l!==-1&&a.splice(l,1),p.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var o=p.select(this);o.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){o.transition().call(r)});for(var l=o.append("p"),c=u.split(/<br\s*\/?>/g),n=0;n<c.length;n++)n&&l.append("br"),l.append("span").text(c[n]);A==="stick"?o.transition().duration(350).style("opacity",1):o.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(W,U,e){var p=e(6964),L="data-savedcursor",a="!!";W.exports=function(A,v){var g=A.attr(L);if(v){if(!g){for(var t=(A.attr("class")||"").split(" "),r=0;r<t.length;r++){var u=t[r];u.indexOf("cursor-")===0&&A.attr(L,u.substr(7)).classed(u,!1)}A.attr(L)||A.attr(L,a)}p(A,v)}else g&&(A.attr(L,null),g===a?p(A):p(A,g))}},61082:function(W,U,e){var p=e(35657).dot,L=e(50606).BADNUM,a=W.exports={};a.tester=function(A){var v=A.slice(),g=v[0][0],t=g,r=v[0][1],u=r,o;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),o=1;o<v.length;o++)g=Math.min(g,v[o][0]),t=Math.max(t,v[o][0]),r=Math.min(r,v[o][1]),u=Math.max(u,v[o][1]);var l=!1,c;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,c=function(f){return f[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,c=function(f){return f[1]===v[0][1]}));function n(f,s){var d=f[0],S=f[1];return!(d===L||d<g||d>t||S===L||S<r||S>u||s&&c(f))}function x(f,s){var d=f[0],S=f[1];if(d===L||d<g||d>t||S===L||S<r||S>u)return!1;var M=v.length,C=v[0][0],y=v[0][1],w=0,b,i,E,m,F;for(b=1;b<M;b++)if(i=C,E=y,C=v[b][0],y=v[b][1],m=Math.min(i,C),!(d<m||d>Math.max(i,C)||S>Math.max(E,y)))if(S<Math.min(E,y))d!==m&&w++;else{if(C===i?F=S:F=E+(d-i)*(y-E)/(C-i),S===F)return!(b===1&&s);S<=F&&d!==m&&w++}return w%2===1}var h=!0,T=v[0];for(o=1;o<v.length;o++)if(T[0]!==v[o][0]||T[1]!==v[o][1]){h=!1;break}return{xmin:g,xmax:t,ymin:r,ymax:u,pts:v,contains:l?n:x,isRect:l,degenerate:h}},a.isSegmentBent=function(A,v,g,t){var r=A[v],u=[A[g][0]-r[0],A[g][1]-r[1]],o=p(u,u),l=Math.sqrt(o),c=[-u[1]/l,u[0]/l],n,x,h;for(n=v+1;n<g;n++)if(x=[A[n][0]-r[0],A[n][1]-r[1]],h=p(x,u),h<0||h>o||Math.abs(p(x,c))>t)return!0;return!1},a.filter=function(A,v){var g=[A[0]],t=0,r=0;function u(l){A.push(l);var c=g.length,n=t;g.splice(r+1);for(var x=n+1;x<A.length;x++)(x===A.length-1||a.isSegmentBent(A,n,x+1,v))&&(g.push(A[x]),g.length<c-2&&(t=x,r=g.length-1),n=x)}if(A.length>1){var o=A.pop();u(o)}return{addPt:u,raw:A,filtered:g}}},79749:function(W,U,e){var p=e(58617),L=e(98580);W.exports=function(P,A,v){var g=P._fullLayout,t=!0;return g._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!g._has("parcoords"))){try{r.regl=L({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:P._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:A||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(u){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:u,layer:r.key})},!1)}}),t||p({container:g._glcontainer.node()}),t}},45142:function(W,U,e){var p=e(92770),L=e(15539);W.exports=function(A){var v;if(A&&A.hasOwnProperty("userAgent")?v=A.userAgent:v=a(),typeof v!="string")return!0;var g=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!g)for(var t=v.split(" "),r=1;r<t.length;r++){var u=t[r];if(u.indexOf("Safari")!==-1)for(var o=r-1;o>-1;o--){var l=t[o];if(l.substr(0,8)==="Version/"){var c=l.substr(8).split(".")[0];if(p(c)&&(c=+c),c>=13)return!0}}}return g};function a(){var P;return typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&typeof P.headers["user-agent"]=="string"&&(P=P.headers["user-agent"]),P}},75138:function(W){W.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},10847:function(W,U,e){var p=e(71828),L=e(72075).dfltConfig;function a(A,v){for(var g=[],t,r=0;r<v.length;r++)t=v[r],t===A?g[r]=t:typeof t=="object"?g[r]=Array.isArray(t)?p.extendDeep([],t):p.extendDeepAll({},t):g[r]=t;return g}var P={};P.add=function(A,v,g,t,r){var u,o;if(A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},o=A.undoQueue.index,A.autoplay){A.undoQueue.inSequence||(A.autoplay=!1);return}!A.undoQueue.sequence||A.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},A.undoQueue.queue.splice(o,A.undoQueue.queue.length-o,u),A.undoQueue.index+=1):u=A.undoQueue.queue[o-1],A.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(v),u.undo.args.unshift(g),u.redo.calls.push(t),u.redo.args.push(r)),A.undoQueue.queue.length>L.queueLength&&(A.undoQueue.queue.shift(),A.undoQueue.index--)},P.startSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!0,A.undoQueue.beginSequence=!0},P.stopSequence=function(A){A.undoQueue=A.undoQueue||{index:0,queue:[],sequence:!1},A.undoQueue.sequence=!1,A.undoQueue.beginSequence=!1},P.undo=function(v){var g,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<g.undo.calls.length;t++)P.plotDo(v,g.undo.calls[t],g.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},P.redo=function(v){var g,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<g.redo.calls.length;t++)P.plotDo(v,g.redo.calls[t],g.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},P.plotDo=function(A,v,g){A.autoplay=!0,g=a(A,g),v.apply(null,g)},W.exports=P},30587:function(W,U){U.counter=function(e,p,L,a){var P=(p||"")+(L?"":"$"),A=a===!1?"":"^";return e==="xy"?new RegExp(A+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(A+e+"([2-9]|[1-9][0-9]+)?"+P)}},6962:function(W){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;W.exports=function(p,L){for(;L;){var a=p.match(U);if(a)p=a[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51332:function(W,U,e){var p=e(73627).isArrayOrTypedArray,L=e(41965);W.exports=function a(P,A){for(var v in A){var g=A[v],t=P[v];if(t!==g)if(v.charAt(0)==="_"||typeof g=="function"){if(v in P)continue;P[v]=g}else if(p(g)&&p(t)&&L(g[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(g.length,t.length),u=0;u<r;u++)t[u]!==g[u]&&L(g[u])&&L(t[u])&&a(t[u],g[u])}else L(g)&&L(t)&&(a(t,g),Object.keys(t).length||delete P[v])}}},65888:function(W,U,e){var p=e(92770),L=e(47769),a=e(23389),P=e(50606).BADNUM,A=1e-9;U.findBin=function(u,o,l){if(p(o.start))return l?Math.ceil((u-o.start)/o.size-A)-1:Math.floor((u-o.start)/o.size+A);var c=0,n=o.length,x=0,h=n>1?(o[n-1]-o[0])/(n-1):1,T,f;for(h>=0?f=l?v:g:f=l?r:t,u+=h*A*(l?-1:1)*(h>=0?1:-1);c<n&&x++<100;)T=Math.floor((c+n)/2),f(o[T],u)?c=T+1:n=T;return x>90&&L.log("Long binary search..."),c-1};function v(u,o){return u<o}function g(u,o){return u<=o}function t(u,o){return u>o}function r(u,o){return u>=o}U.sorterAsc=function(u,o){return u-o},U.sorterDes=function(u,o){return o-u},U.distinctVals=function(u){var o=u.slice();o.sort(U.sorterAsc);var l;for(l=o.length-1;l>-1&&o[l]===P;l--);for(var c=o[l]-o[0]||1,n=c/(l||1)/1e4,x=[],h,T=0;T<=l;T++){var f=o[T],s=f-h;h===void 0?(x.push(f),h=f):s>n&&(c=Math.min(c,s),x.push(f),h=f)}return{vals:x,minDiff:c}},U.roundUp=function(u,o,l){for(var c=0,n=o.length-1,x,h=0,T=l?0:1,f=l?1:0,s=l?Math.ceil:Math.floor;c<n&&h++<100;)x=s((c+n)/2),o[x]<=u?c=x+T:n=x-f;return o[c]},U.sort=function(u,o){for(var l=0,c=0,n=1;n<u.length;n++){var x=o(u[n],u[n-1]);if(x<0?l=1:x>0&&(c=1),l&&c)return u.sort(o)}return c?u:u.reverse()},U.findIndexOfMin=function(u,o){o=o||a;for(var l=1/0,c,n=0;n<u.length;n++){var x=o(u[n]);x<l&&(l=x,c=n)}return c}},6964:function(W){W.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},58617:function(W,U,e){var p=e(7901),L=function(){};W.exports=function(P){for(var A in P)typeof P[A]=="function"&&(P[A]=L);P.destroy=function(){P.container.parentNode.removeChild(P.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=p.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=p.lightLine,v.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",v.appendChild(g),P.container.appendChild(v),P.container.style.background="#FFFFFF",P.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(W){W.exports=function(e){return Object.keys(e).sort()}},80038:function(W,U,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;U.aggNums=function(a,P,A,v){var g,t;if((!v||v>A.length)&&(v=A.length),p(P)||(P=!1),L(A[0])){for(t=new Array(v),g=0;g<v;g++)t[g]=U.aggNums(a,P,A[g]);A=t}for(g=0;g<v;g++)p(P)?p(A[g])&&(P=a(+P,+A[g])):P=A[g];return P},U.len=function(a){return U.aggNums(function(P){return P+1},0,a)},U.mean=function(a,P){return P||(P=U.len(a)),U.aggNums(function(A,v){return A+v},0,a)/P},U.midRange=function(a){if(!(a===void 0||a.length===0))return(U.aggNums(Math.max,null,a)+U.aggNums(Math.min,null,a))/2},U.variance=function(a,P,A){return P||(P=U.len(a)),p(A)||(A=U.mean(a,P)),U.aggNums(function(v,g){return v+Math.pow(g-A,2)},0,a)/P},U.stdev=function(a,P,A){return Math.sqrt(U.variance(a,P,A))},U.median=function(a){var P=a.slice().sort();return U.interp(P,.5)},U.interp=function(a,P){if(!p(P))throw"n should be a finite number";if(P=P*a.length-.5,P<0)return a[0];if(P>a.length-1)return a[a.length-1];var A=P%1;return A*a[Math.ceil(P)]+(1-A)*a[Math.floor(P)]}},78614:function(W,U,e){var p=e(25075);function L(a){return a?p(a):[0,0,0,1]}W.exports=L},63893:function(W,U,e){var p=e(39898),L=e(71828),a=L.strTranslate,P=e(77922),A=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(z,k,N){var K=z.text(),q=!z.attr("data-notex")&&k&&k._context.typesetMath&&typeof MathJax<"u"&&K.match(v),Q=p.select(z.node().parentNode);if(Q.empty())return;var re=z.attr("class")?z.attr("class").split(" ")[0]:"text";re+="-math",Q.selectAll("svg."+re).remove(),Q.selectAll("g."+re+"-group").remove(),z.style("display",null).attr({"data-unformatted":K,"data-math":"N"});function oe(){Q.empty()||(re=z.attr("class")+"-math",Q.select("svg."+re).remove()),z.text("").style("white-space","pre");var Y=_(z.node(),K);Y&&z.style("pointer-events","all"),U.positionText(z),N&&N.call(z)}return q?(k&&k._promises||[]).push(new Promise(function(Y){z.style("display","none");var G=parseInt(z.node().style.fontSize,10),V={fontSize:G};o(q[2],V,function(Z,ae,ie){Q.selectAll("svg."+re).remove(),Q.selectAll("g."+re+"-group").remove();var J=Z&&Z.select("svg");if(!J||!J.node()){oe(),Y();return}var $=Q.append("g").classed(re+"-group",!0).attr({"pointer-events":"none","data-unformatted":K,"data-math":"Y"});$.node().appendChild(J.node()),ae&&ae.node()&&J.node().insertBefore(ae.node().cloneNode(!0),J.node().firstChild);var se=ie.width,ee=ie.height;J.attr({class:re,height:ee,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ue=z.node().style.fill||"black",ge=J.select("g");ge.attr({fill:ue,stroke:ue});var Te=ge.node().getBoundingClientRect(),xe=Te.width,Pe=Te.height;(xe>se||Pe>ee)&&(J.style("overflow","hidden"),Te=J.node().getBoundingClientRect(),xe=Te.width,Pe=Te.height);var Ie=+z.attr("x"),Ae=+z.attr("y"),be=G||z.node().getBoundingClientRect().height,_e=-be/4;if(re[0]==="y")$.attr({transform:"rotate("+[-90,Ie,Ae]+")"+a(-xe/2,_e-Pe/2)});else if(re[0]==="l")Ae=_e-Pe/2;else if(re[0]==="a"&&re.indexOf("atitle")!==0)Ie=0,Ae=_e;else{var Ve=z.attr("text-anchor");Ie=Ie-xe*(Ve==="middle"?.5:Ve==="end"?1:0),Ae=Ae+_e-Pe/2}J.attr({x:Ie,y:Ae}),N&&N.call(z,$),Y($)})})):oe(),z};var g=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(z){return z.replace(g,"\\lt ").replace(t,"\\gt ")}var u=[["$","$"],["\\(","\\)"]];function o(z,k,N){var K=parseInt((MathJax.version||"").split(".")[0]);if(K!==2&&K!==3){L.warn("No MathJax version:",MathJax.version);return}var q,Q,re,oe,Y=function(){return Q=L.extendDeepAll({},MathJax.Hub.config),re=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},G=function(){Q=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u},V=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},Z=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},ae=function(){var ue="math-output-"+L.randstr({},64);oe=p.select("body").append("div").attr({id:ue}).style({visibility:"hidden",position:"absolute","font-size":k.fontSize+"px"}).text(r(z));var ge=oe.node();return K===2?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},ie=function(){var ue=oe.select(K===2?".MathJax_SVG":".MathJax"),ge=!ue.empty()&&oe.select("svg").node();if(!ge)L.log("There was an error in the tex syntax.",z),N();else{var Te=ge.getBoundingClientRect(),xe;K===2?xe=p.select("body").select("#MathJax_SVG_glyphs"):xe=ue.select("defs"),N(ue,xe,Te)}oe.remove()},J=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},$=function(){q!=="svg"&&(MathJax.config.startup.output=q)},se=function(){return re!==void 0&&(MathJax.Hub.processSectionDelay=re),MathJax.Hub.Config(Q)},ee=function(){MathJax.config=Q};K===2?MathJax.Hub.Queue(Y,V,ae,ie,J,se):K===3&&(G(),Z(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ae(),ie(),$(),ee()}))}var l={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},n={sub:"-0.21em",sup:"0.42em"},x="​",h=["http:","https:","mailto:","",void 0,":"],T=U.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,s=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function w(z,k){if(!z)return null;var N=z.match(k),K=N&&(N[3]||N[4]);return K&&m(K)}var b=/(^|;)\s*color:/;U.plainText=function(z,k){k=k||{};for(var N=k.len!==void 0&&k.len!==-1?k.len:1/0,K=k.allowedTags!==void 0?k.allowedTags:["br"],q="...",Q=q.length,re=z.split(f),oe=[],Y="",G=0,V=0;V<re.length;V++){var Z=re[V],ae=Z.match(s),ie=ae&&ae[2].toLowerCase();if(ie)K.indexOf(ie)!==-1&&(oe.push(Z),Y=ie);else{var J=Z.length;if(G+J<N)oe.push(Z),G+=J;else if(G<N){var $=N-G;Y&&(Y!=="br"||$<=Q||J<=Q)&&oe.pop(),N>Q?oe.push(Z.substr(0,$-Q)+q):oe.push(Z.substr(0,$));break}Y=""}}return oe.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function m(z){return z.replace(E,function(k,N){var K;return N.charAt(0)==="#"?K=F(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):K=i[N],K||k})}U.convertEntities=m;function F(z){if(!(z>1114111)){var k=String.fromCodePoint;if(k)return k(z);var N=String.fromCharCode;return z<=65535?N(z):N((z>>10)+55232,z%1024+56320)}}function _(z,k){k=k.replace(T," ");var N=!1,K=[],q,Q=-1;function re(){Q++;var Pe=document.createElementNS(P.svg,"tspan");p.select(Pe).attr({class:"line",dy:Q*A+"em"}),z.appendChild(Pe),q=Pe;var Ie=K;if(K=[{node:Pe}],Ie.length>1)for(var Ae=1;Ae<Ie.length;Ae++)oe(Ie[Ae])}function oe(Pe){var Ie=Pe.type,Ae={},be;if(Ie==="a"){be="a";var _e=Pe.target,Ve=Pe.href,We=Pe.popup;Ve&&(Ae={"xlink:xlink:show":_e==="_blank"||_e.charAt(0)!=="_"?"new":"replace",target:_e,"xlink:xlink:href":Ve},We&&(Ae.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+We+'");return false;'))}else be="tspan";Pe.style&&(Ae.style=Pe.style);var ze=document.createElementNS(P.svg,be);if(Ie==="sup"||Ie==="sub"){Y(q,x),q.appendChild(ze);var Ze=document.createElementNS(P.svg,"tspan");Y(Ze,x),p.select(Ze).attr("dy",n[Ie]),Ae.dy=c[Ie],q.appendChild(ze),q.appendChild(Ze)}else q.appendChild(ze);p.select(ze).attr(Ae),q=Pe.node=ze,K.push(Pe)}function Y(Pe,Ie){Pe.appendChild(document.createTextNode(Ie))}function G(Pe){if(K.length===1){L.log("Ignoring unexpected end tag </"+Pe+">.",k);return}var Ie=K.pop();Pe!==Ie.type&&L.log("Start tag <"+Ie.type+"> doesnt match end tag <"+Pe+">. Pretending it did match.",k),q=K[K.length-1].node}var V=d.test(k);V?re():(q=z,K=[{node:z}]);for(var Z=k.split(f),ae=0;ae<Z.length;ae++){var ie=Z[ae],J=ie.match(s),$=J&&J[2].toLowerCase(),se=l[$];if($==="br")re();else if(se===void 0)Y(q,m(ie));else if(J[1])G($);else{var ee=J[4],ue={type:$},ge=w(ee,S);if(ge?(ge=ge.replace(b,"$1 fill:"),se&&(ge+=";"+se)):se&&(ge=se),ge&&(ue.style=ge),$==="a"){N=!0;var Te=w(ee,M);if(Te){var xe=B(Te);xe&&(ue.href=xe,ue.target=w(ee,C)||"_blank",ue.popup=w(ee,y))}}oe(ue)}}return N}function B(z){var k=encodeURI(decodeURI(z)),N=document.createElement("a"),K=document.createElement("a");N.href=z,K.href=k;var q=N.protocol,Q=K.protocol;return h.indexOf(q)!==-1&&h.indexOf(Q)!==-1?k:""}U.sanitizeHTML=function(k){k=k.replace(T," ");for(var N=document.createElement("p"),K=N,q=[],Q=k.split(f),re=0;re<Q.length;re++){var oe=Q[re],Y=oe.match(s),G=Y&&Y[2].toLowerCase();if(G in l)if(Y[1])q.length&&(K=q.pop());else{var V=Y[4],Z=w(V,S),ae=Z?{style:Z}:{};if(G==="a"){var ie=w(V,M);if(ie){var J=B(ie);if(J){ae.href=J;var $=w(V,C);$&&(ae.target=$)}}}var se=document.createElement(G);K.appendChild(se),p.select(se).attr(ae),K=se,q.push(se)}else K.appendChild(document.createTextNode(m(oe)))}var ee="innerHTML";return N[ee]},U.lineCount=function(k){return k.selectAll("tspan.line").size()||1},U.positionText=function(k,N,K){return k.each(function(){var q=p.select(this);function Q(Y,G){return G===void 0?(G=q.attr(Y),G===null&&(q.attr(Y,0),G=0)):q.attr(Y,G),G}var re=Q("x",N),oe=Q("y",K);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:re,y:oe})})};function I(z,k,N){var K=N.horizontalAlign,q=N.verticalAlign||"top",Q=z.node().getBoundingClientRect(),re=k.node().getBoundingClientRect(),oe,Y,G;return q==="bottom"?Y=function(){return Q.bottom-oe.height}:q==="middle"?Y=function(){return Q.top+(Q.height-oe.height)/2}:Y=function(){return Q.top},K==="right"?G=function(){return Q.right-oe.width}:K==="center"?G=function(){return Q.left+(Q.width-oe.width)/2}:G=function(){return Q.left},function(){oe=this.node().getBoundingClientRect();var V=G()-re.left,Z=Y()-re.top,ae=N.gd||{};if(N.gd){ae._fullLayout._calcInverseTransform(ae);var ie=L.apply3DTransform(ae._fullLayout._invTransform)(V,Z);V=ie[0],Z=ie[1]}return this.style({top:Z+"px",left:V+"px","z-index":1e3}),this}}var O="1px ";U.makeTextShadow=function(z){var k=O,N=O,K=O;return k+N+K+z+", -"+k+"-"+N+K+z+", "+k+"-"+N+K+z+", -"+k+N+K+z},U.makeEditable=function(z,k){var N=k.gd,K=k.delegate,q=p.dispatch("edit","input","cancel"),Q=K||z;if(z.style({"pointer-events":K?"none":"all"}),z.size()!==1)throw new Error("boo");function re(){Y(),z.style({opacity:0});var G=Q.attr("class"),V;G?V="."+G.split(" ")[0]+"-math-group":V="[class*=-math-group]",V&&p.select(z.node().parentNode).select(V).style({opacity:0})}function oe(G){var V=G.node(),Z=document.createRange();Z.selectNodeContents(V);var ae=window.getSelection();ae.removeAllRanges(),ae.addRange(Z),V.focus()}function Y(){var G=p.select(N),V=G.select(".svg-container"),Z=V.append("div"),ae=z.node().style,ie=parseFloat(ae.fontSize||12),J=k.text;J===void 0&&(J=z.attr("data-unformatted")),Z.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ae.fontFamily||"Arial","font-size":ie,color:k.fill||ae.fill||"black",opacity:1,"background-color":k.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ie/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(I(z,V,k)).on("blur",function(){N._editing=!1,z.text(this.textContent).style({opacity:1});var $=p.select(this).attr("class"),se;$?se="."+$.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&p.select(z.node().parentNode).select(se).style({opacity:0});var ee=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),q.edit.call(z,ee)}).on("focus",function(){var $=this;N._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===$)return!1;document.activeElement===Z.node()&&Z.node().blur()})}).on("keyup",function(){p.event.which===27?(N._editing=!1,z.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(z,this.textContent)):(q.input.call(z,this.textContent),p.select(this).call(I(z,V,k)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(oe)}return k.immediate?re():Q.on("click",re),p.rebind(z,q,"on")}},79990:function(W,U){var e={};U.throttle=function(a,P,A){var v=e[a],g=Date.now();if(!v){for(var t in e)e[t].ts<g-6e4&&delete e[t];v=e[a]={ts:0,timer:null}}p(v);function r(){A(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(g>v.ts+P){r();return}v.timer=setTimeout(function(){r(),v.timer=null},P)},U.done=function(L){var a=e[L];return!a||!a.timer?Promise.resolve():new Promise(function(P){var A=a.onDone;a.onDone=function(){A&&A(),P(),a.onDone=null}})},U.clear=function(L){if(L)p(e[L]),delete e[L];else for(var a in e)U.clear(a)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},58163:function(W,U,e){var p=e(92770);W.exports=function(a,P){if(a>0)return Math.log(a)/Math.LN10;var A=Math.log(Math.min(P[0],P[1]))/Math.LN10;return p(A)||(A=Math.log(Math.max(P[0],P[1]))/Math.LN10-6),A}},90973:function(W,U,e){var p=W.exports={},L=e(78776).locationmodeToLayer,a=e(96892).zL;p.getTopojsonName=function(P){return[P.scope.replace(/ /g,"-"),"_",P.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(P,A){return P+A+".json"},p.getTopojsonFeatures=function(P,A){var v=L[P.locationmode],g=A.objects[v];return a(A,g).features}},37815:function(W){W.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(W){W.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(W,U,e){var p=e(73972);W.exports=function(a){for(var P=p.layoutArrayContainers,A=p.layoutArrayRegexes,v=a.split("[")[0],g,t,r=0;r<A.length;r++)if(t=a.match(A[r]),t&&t.index===0){g=t[0];break}if(g||(g=P[P.indexOf(v)]),!g)return!1;var u=a.substr(g.length);return u?(t=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:g,index:Number(t[1]),property:t[3]||""}:!1):{array:g,index:"",property:""}}},30962:function(W,U,e){var p=e(71828),L=p.extendFlat,a=p.isPlainObject,P={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},A={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},v=P.flags.slice().concat(["fullReplot"]),g=A.flags.slice().concat("layoutReplot");W.exports={traces:P,layout:A,traceFlags:function(){return t(v)},layoutFlags:function(){return t(g)},update:function(o,l){var c=l.editType;if(c&&c!=="none")for(var n=c.split("+"),x=0;x<n.length;x++)o[n[x]]=!0},overrideAll:r};function t(o){for(var l={},c=0;c<o.length;c++)l[o[c]]=!1;return l}function r(o,l,c){var n=L({},o);for(var x in n){var h=n[x];a(h)&&(n[x]=u(h,l,c,x))}return c==="from-root"&&(n.editType=l),n}function u(o,l,c,n){if(o.valType){var x=L({},o);if(x.editType=l,Array.isArray(o.items)){x.items=new Array(o.items.length);for(var h=0;h<o.items.length;h++)x.items[h]=u(o.items[h],l)}return x}else return r(o,l,n.charAt(0)==="_"?"nested":"from-root")}},58377:function(W,U,e){var p=e(92770),L=e(27812),a=e(73972),P=e(71828),A=e(74875),v=e(41675),g=e(7901),t=v.cleanId,r=v.getFromTrace,u=a.traceIs;U.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&P.log("Clearing previous rejected promises from queue."),d._promises=[]},U.cleanLayout=function(d){var S,M;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(A.subplotsRegistry.cartesian||{}).attrRegex,y=(A.subplotsRegistry.polar||{}).attrRegex,w=(A.subplotsRegistry.ternary||{}).attrRegex,b=(A.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(d);for(S=0;S<i.length;S++){var E=i[S];if(C&&C.test(E)){var m=d[E];m.anchor&&m.anchor!=="free"&&(m.anchor=t(m.anchor)),m.overlaying&&(m.overlaying=t(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":m.isdate===!1&&m.islog===!1&&(m.type="linear")),(m.autorange==="withzero"||m.autorange==="tozero")&&(m.autorange=!0,m.rangemode="tozero"),delete m.islog,delete m.isdate,delete m.categories,h(m,"domain")&&delete m.domain,m.autotick!==void 0&&(m.tickmode===void 0&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),l(m)}else if(y&&y.test(E)){var F=d[E];l(F.radialaxis)}else if(w&&w.test(E)){var _=d[E];l(_.aaxis),l(_.baxis),l(_.caxis)}else if(b&&b.test(E)){var B=d[E],I=B.cameraposition;if(Array.isArray(I)&&I[0].length===4){var O=I[0],z=I[1],k=I[2],N=L([],O),K=[];for(M=0;M<3;++M)K[M]=z[M]+k*N[2+4*M];B.camera={eye:{x:K[0],y:K[1],z:K[2]},center:{x:z[0],y:z[1],z:z[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}l(B.xaxis),l(B.yaxis),l(B.zaxis)}}var q=Array.isArray(d.annotations)?d.annotations.length:0;for(S=0;S<q;S++){var Q=d.annotations[S];P.isPlainObject(Q)&&(Q.ref&&(Q.ref==="paper"?(Q.xref="paper",Q.yref="paper"):Q.ref==="data"&&(Q.xref="x",Q.yref="y"),delete Q.ref),o(Q,"xref"),o(Q,"yref"))}var re=Array.isArray(d.shapes)?d.shapes.length:0;for(S=0;S<re;S++){var oe=d.shapes[S];P.isPlainObject(oe)&&(o(oe,"xref"),o(oe,"yref"))}var Y=Array.isArray(d.images)?d.images.length:0;for(S=0;S<Y;S++){var G=d.images[S];P.isPlainObject(G)&&(o(G,"xref"),o(G,"yref"))}var V=d.legend;return V&&(V.x>3?(V.x=1.02,V.xanchor="left"):V.x<-2&&(V.x=-.02,V.xanchor="right"),V.y>3?(V.y=1.02,V.yanchor="bottom"):V.y<-2&&(V.y=-.02,V.yanchor="top")),l(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),g.clean(d),d.template&&d.template.layout&&U.cleanLayout(d.template.layout),d};function o(d,S){var M=d[S],C=S.charAt(0);M&&M!=="paper"&&(d[S]=t(M,C,!0))}function l(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),S("titlefont","font"),S("titleposition","position"),S("titleside","side"),S("titleoffset","offset"));function S(M,C){var y=d[M],w=d.title&&d.title[C];y&&!w&&(d.title||(d.title={}),d.title[C]=d[M],delete d[M])}}U.cleanData=function(d){for(var S=0;S<d.length;S++){var M=d[S],C;if(M.type==="histogramy"&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var y=g.defaults,w=M.error_y.color||(u(M,"bar")?g.defaultLine:y[S%y.length]);M.error_y.color=g.addOpacity(g.rgb(w),g.opacity(w)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&(M.bardir==="h"&&(u(M,"bar")||M.type.substr(0,9)==="histogram")&&(M.orientation="h",U.swapXYData(M)),delete M.bardir),M.type==="histogramy"&&U.swapXYData(M),(M.type==="histogramx"||M.type==="histogramy")&&(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=t(M.xaxis,"x")),M.yaxis&&(M.yaxis=t(M.yaxis,"y")),u(M,"gl3d")&&M.scene&&(M.scene=A.subplotsRegistry.gl3d.cleanId(M.scene)),!u(M,"pie-like")&&!u(M,"bar-like"))if(Array.isArray(M.textposition))for(C=0;C<M.textposition.length;C++)M.textposition[C]=x(M.textposition[C]);else M.textposition&&(M.textposition=x(M.textposition));var b=a.getModule(M);if(b&&b.colorbar){var i=b.colorbar.container,E=i?M[i]:M;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(M.type==="surface"&&P.isPlainObject(M.contours)){var m=["x","y","z"];for(C=0;C<m.length;C++){var F=M.contours[m[C]];P.isPlainObject(F)&&(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if(M.type==="candlestick"||M.type==="ohlc"){var _=(M.increasing||{}).showlegend!==!1,B=(M.decreasing||{}).showlegend!==!1,I=c(M.increasing),O=c(M.decreasing);if(I!==!1&&O!==!1){var z=n(I,O,_,B);z&&(M.name=z)}else(I||O)&&!M.name&&(M.name=I||O)}if(Array.isArray(M.transforms)){var k=M.transforms;for(C=0;C<k.length;C++){var N=k[C];if(P.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var K=N.styles,q=Object.keys(K);N.styles=[];for(var Q=0;Q<q.length;Q++)N.styles.push({target:q[Q],value:K[q[Q]]})}break}}}h(M,"line")&&delete M.line,"marker"in M&&(h(M.marker,"line")&&delete M.marker.line,h(M,"marker")&&delete M.marker),g.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),l(M),M.colorbar&&l(M.colorbar),M.marker&&M.marker.colorbar&&l(M.marker.colorbar),M.line&&M.line.colorbar&&l(M.line.colorbar),M.aaxis&&l(M.aaxis),M.baxis&&l(M.baxis)}};function c(d){if(!P.isPlainObject(d))return!1;var S=d.name;return delete d.name,delete d.showlegend,(typeof S=="string"||typeof S=="number")&&String(S)}function n(d,S,M,C){if(M&&!C)return d;if(C&&!M||!d.trim())return S;if(!S.trim())return d;var y=Math.min(d.length,S.length),w;for(w=0;w<y&&d.charAt(w)===S.charAt(w);w++);var b=d.substr(0,w);return b.trim()}function x(d){var S="middle",M="center";return typeof d=="string"&&(d.indexOf("top")!==-1?S="top":d.indexOf("bottom")!==-1&&(S="bottom"),d.indexOf("left")!==-1?M="left":d.indexOf("right")!==-1&&(M="right")),S+" "+M}function h(d,S){return S in d&&typeof d[S]=="object"&&Object.keys(d[S]).length===0}U.swapXYData=function(d){var S;if(P.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var M=d.error_y,C="copy_ystyle"in M?M.copy_ystyle:!(M.color||M.thickness||M.width);P.swapAttrs(d,["error_?.copy_ystyle"]),C&&P.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(S=0;S<y.length;S++)y[S]==="x"?y[S]="y":y[S]==="y"&&(y[S]="x");d.hoverinfo=y.join("+")}},U.coerceTraceIndices=function(d,S){if(p(S))return[S];if(!Array.isArray(S)||!S.length)return d.data.map(function(y,w){return w});if(Array.isArray(S)){for(var M=[],C=0;C<S.length;C++)P.isIndex(S[C],d.data.length)?M.push(S[C]):P.warn("trace index (",S[C],") is not a number or is out of bounds");return M}return S},U.manageArrayContainers=function(d,S,M){var C=d.obj,y=d.parts,w=y.length,b=y[w-1],i=p(b);if(i&&S===null){var E=y.slice(0,w-1).join("."),m=P.nestedProperty(C,E).get();m.splice(b,1)}else i&&d.get()===void 0&&d.get()===void 0&&(M[d.astr]=null),d.set(S)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function f(d){var S=d.search(T);if(S>0)return d.substr(0,S)}U.hasParent=function(d,S){for(var M=f(S);M;){if(M in d)return!0;M=f(M)}return!1};var s=["x","y","z"];U.clearAxisTypes=function(d,S,M){for(var C=0;C<S.length;C++)for(var y=d._fullData[C],w=0;w<3;w++){var b=r(d,y,s[w]);if(b&&b.type!=="log"){var i=b._name,E=b._id.substr(1);if(E.substr(0,5)==="scene"){if(M[E]!==void 0)continue;i=E+"."+i}var m=i+".type";M[i]===void 0&&M[m]===void 0&&P.nestedProperty(d.layout,m).set(null)}}}},10641:function(W,U,e){var p=e(72391);U._doPlot=p._doPlot,U.newPlot=p.newPlot,U.restyle=p.restyle,U.relayout=p.relayout,U.redraw=p.redraw,U.update=p.update,U._guiRestyle=p._guiRestyle,U._guiRelayout=p._guiRelayout,U._guiUpdate=p._guiUpdate,U._storeDirectGUIEdit=p._storeDirectGUIEdit,U.react=p.react,U.extendTraces=p.extendTraces,U.prependTraces=p.prependTraces,U.addTraces=p.addTraces,U.deleteTraces=p.deleteTraces,U.moveTraces=p.moveTraces,U.purge=p.purge,U.addFrames=p.addFrames,U.deleteFrames=p.deleteFrames,U.animate=p.animate,U.setPlotConfig=p.setPlotConfig,U.toImage=e(403),U.validate=e(84936),U.downloadImage=e(7239);var L=e(96318);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},6611:function(W,U,e){var p=e(41965),L=e(64213),a=e(47769),P=e(65888).sorterAsc,A=e(73972);U.containerArrayMatch=e(14458);var v=U.isAddVal=function(r){return r==="add"||p(r)},g=U.isRemoveVal=function(r){return r===null||r==="remove"};U.applyContainerArrayChanges=function(r,u,o,l,c){var n=u.astr,x=A.getComponentMethod(n,"supplyLayoutDefaults"),h=A.getComponentMethod(n,"draw"),T=A.getComponentMethod(n,"drawOne"),f=l.replot||l.recalc||x===L||h===L,s=r.layout,d=r._fullLayout;if(o[""]){Object.keys(o).length>1&&a.warn("Full array edits are incompatible with other edits",n);var S=o[""][""];if(g(S))u.set(null);else if(Array.isArray(S))u.set(S);else return a.warn("Unrecognized full array edit value",n,S),!0;return f?!1:(x(s,d),h(r),!0)}var M=Object.keys(o).map(Number).sort(P),C=u.get(),y=C||[],w=c(d,n).get(),b=[],i=-1,E=y.length,m,F,_,B,I,O,z,k;for(m=0;m<M.length;m++){if(_=M[m],B=o[_],I=Object.keys(B),O=B[""],z=v(O),_<0||_>y.length-(z?0:1)){a.warn("index out of range",n,_);continue}if(O!==void 0)I.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",n,_),g(O)?b.push(_):z?(O==="add"&&(O={}),y.splice(_,0,O),w&&w.splice(_,0,{})):a.warn("Unrecognized full object edit value",n,_,O),i===-1&&(i=_);else for(F=0;F<I.length;F++)k=n+"["+_+"].",c(y[_],I[F],k).set(B[I[F]])}for(m=b.length-1;m>=0;m--)y.splice(b[m],1),w&&w.splice(b[m],1);if(y.length?C||u.set(y):u.set(null),f)return!1;if(x(s,d),T!==L){var N;if(i===-1)N=M;else{for(E=Math.max(y.length,E),N=[],m=0;m<M.length&&(_=M[m],!(_>=i));m++)N.push(_);for(m=i;m<E;m++)N.push(m)}for(m=0;m<N.length;m++)T(r,N[m])}else h(r);return!0}},72391:function(W,U,e){var p=e(39898),L=e(92770),a=e(57035),P=e(71828),A=P.nestedProperty,v=e(11086),g=e(10847),t=e(73972),r=e(86281),u=e(74875),o=e(89298),l=e(91424),c=e(7901),n=e(4305).initInteractions,x=e(77922),h=e(47322).clearOutline,T=e(72075).dfltConfig,f=e(6611),s=e(58377),d=e(61549),S=e(30962),M=e(85555).AX_NAME_PATTERN,C=0,y=5;function w(fe,ye,Le,Oe){var ht;if(fe=P.getGraphDiv(fe),v.init(fe),P.isPlainObject(ye)){var vt=ye;ye=vt.data,Le=vt.layout,Oe=vt.config,ht=vt.frames}var Lt=v.triggerHandler(fe,"plotly_beforeplot",[ye,Le,Oe]);if(Lt===!1)return Promise.reject();!ye&&!Le&&!P.isPlotDiv(fe)&&P.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",fe);function Ot(){if(ht)return U.addFrames(fe,ht)}F(fe,Oe),Le||(Le={}),p.select(fe).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(fe._promises)||(fe._promises=[]);var Jt=(fe.data||[]).length===0&&Array.isArray(ye);Array.isArray(ye)&&(s.cleanData(ye),Jt?fe.data=ye:fe.data.push.apply(fe.data,ye),fe.empty=!1),(!fe.layout||Jt)&&(fe.layout=s.cleanLayout(Le)),u.supplyDefaults(fe);var qt=fe._fullLayout,Vt=qt._has("cartesian");qt._replotting=!0,(Jt||qt._shouldCreateBgLayer)&&(Me(fe),qt._shouldCreateBgLayer&&delete qt._shouldCreateBgLayer),l.initGradients(fe),l.initPatterns(fe),Jt&&o.saveShowSpikeInitial(fe);var vr=!fe.calcdata||fe.calcdata.length!==(fe._fullData||[]).length;vr&&u.doCalcdata(fe);for(var gr=0;gr<fe.calcdata.length;gr++)fe.calcdata[gr][0].trace=fe._fullData[gr];fe._context.responsive?fe._responsiveChartHandler||(fe._responsiveChartHandler=function(){P.isHidden(fe)||u.resize(fe)},window.addEventListener("resize",fe._responsiveChartHandler)):P.clearResponsive(fe);var Gr=P.extendFlat({},qt._size),At=0;function or(){for(var Nt=qt._basePlotModules,Zt=0;Zt<Nt.length;Zt++)Nt[Zt].drawFramework&&Nt[Zt].drawFramework(fe);!qt._glcanvas&&qt._has("gl")&&(qt._glcanvas=qt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(He){return He.key}),qt._glcanvas.enter().append("canvas").attr("class",function(He){return"gl-canvas gl-canvas-"+He.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $t=fe._context.plotGlPixelRatio;if(qt._glcanvas){qt._glcanvas.attr("width",qt.width*$t).attr("height",qt.height*$t).style("width",qt.width+"px").style("height",qt.height+"px");var lr=qt._glcanvas.data()[0].regl;if(lr&&(Math.floor(qt.width*$t)!==lr._gl.drawingBufferWidth||Math.floor(qt.height*$t)!==lr._gl.drawingBufferHeight)){var ir="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(At)P.error(ir);else return P.log(ir+" Clearing graph and plotting again."),u.cleanPlot([],{},fe._fullData,qt),u.supplyDefaults(fe),qt=fe._fullLayout,u.doCalcdata(fe),At++,or()}}return qt.modebar.orientation==="h"?qt._modebardiv.style("height",null).style("width","100%"):qt._modebardiv.style("width",null).style("height",qt.height+"px"),u.previousPromises(fe)}function rr(){if(u.clearAutoMarginIds(fe),d.drawMarginPushers(fe),o.allowAutoMargin(fe),qt._has("pie"))for(var Nt=fe._fullData,Zt=0;Zt<Nt.length;Zt++){var $t=Nt[Zt];$t.type==="pie"&&$t.automargin&&u.allowAutoMargin(fe,"pie."+$t.uid+".automargin")}return u.doAutoMargin(fe),u.previousPromises(fe)}function Lr(){if(u.didMarginChange(Gr,qt._size))return P.syncOrAsync([rr,d.layoutStyles],fe)}function Tr(){if(!vr){pt();return}return P.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),pt],fe)}function pt(){fe._transitioning||(d.doAutoRangeAndConstraints(fe),Jt&&o.saveRangeInitial(fe),t.getComponentMethod("rangeslider","calcAutorange")(fe))}function st(){return o.draw(fe,Jt?"":"redraw")}var yt=[u.previousPromises,Ot,or,rr,Lr];Vt&&yt.push(Tr),yt.push(d.layoutStyles),Vt&&yt.push(st,function(Zt){Zt._fullLayout._insideTickLabelsAutorange&&ue(Zt,Zt._fullLayout._insideTickLabelsAutorange).then(function(){Zt._fullLayout._insideTickLabelsAutorange=void 0})}),yt.push(d.drawData,d.finalDraw,n,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,Pt,u.previousPromises);function Pt(Nt){Nt._fullLayout._insideTickLabelsAutorange&&Jt&&o.saveRangeInitial(Nt,!0)}var Dt=P.syncOrAsync(yt,fe);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return b(fe),fe})}function b(fe){var ye=fe._fullLayout;ye._redrawFromAutoMarginCount?ye._redrawFromAutoMarginCount--:fe.emit("plotly_afterplot")}function i(fe){return P.extendFlat(T,fe)}function E(fe,ye){try{fe._fullLayout._paper.style("background",ye)}catch(Le){P.error(Le)}}function m(fe,ye){var Le=c.combine(ye,"white");E(fe,Le)}function F(fe,ye){if(!fe._context){fe._context=P.extendDeep({},T);var Le=p.select("base");fe._context._baseUrl=Le.size()&&Le.attr("href")?window.location.href.split("#")[0]:""}var Oe=fe._context,ht,vt,Lt;if(ye){for(vt=Object.keys(ye),ht=0;ht<vt.length;ht++)Lt=vt[ht],!(Lt==="editable"||Lt==="edits")&&Lt in Oe&&(Lt==="setBackground"&&ye[Lt]==="opaque"?Oe[Lt]=m:Oe[Lt]=ye[Lt]);ye.plot3dPixelRatio&&!Oe.plotGlPixelRatio&&(Oe.plotGlPixelRatio=Oe.plot3dPixelRatio);var Ot=ye.editable;if(Ot!==void 0)for(Oe.editable=Ot,vt=Object.keys(Oe.edits),ht=0;ht<vt.length;ht++)Oe.edits[vt[ht]]=Ot;if(ye.edits)for(vt=Object.keys(ye.edits),ht=0;ht<vt.length;ht++)Lt=vt[ht],Lt in Oe.edits&&(Oe.edits[Lt]=ye.edits[Lt]);Oe._exportedPlot=ye._exportedPlot}Oe.staticPlot&&(Oe.editable=!1,Oe.edits={},Oe.autosizable=!1,Oe.scrollZoom=!1,Oe.doubleClick=!1,Oe.showTips=!1,Oe.showLink=!1,Oe.displayModeBar=!1),Oe.displayModeBar==="hover"&&!a&&(Oe.displayModeBar=!0),(Oe.setBackground==="transparent"||typeof Oe.setBackground!="function")&&(Oe.setBackground=E),Oe._hasZeroHeight=Oe._hasZeroHeight||fe.clientHeight===0,Oe._hasZeroWidth=Oe._hasZeroWidth||fe.clientWidth===0;var Jt=Oe.scrollZoom,qt=Oe._scrollZoom={};if(Jt===!0)qt.cartesian=1,qt.gl3d=1,qt.geo=1,qt.mapbox=1;else if(typeof Jt=="string"){var Vt=Jt.split("+");for(ht=0;ht<Vt.length;ht++)qt[Vt[ht]]=1}else Jt!==!1&&(qt.gl3d=1,qt.geo=1,qt.mapbox=1)}function _(fe){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);return s.cleanData(fe.data),s.cleanLayout(fe.layout),fe.calcdata=void 0,U._doPlot(fe).then(function(){return fe.emit("plotly_redraw"),fe})}function B(fe,ye,Le,Oe){return fe=P.getGraphDiv(fe),u.cleanPlot([],{},fe._fullData||[],fe._fullLayout||{}),u.purge(fe),U._doPlot(fe,ye,Le,Oe)}function I(fe,ye){var Le=ye+1,Oe=[],ht,vt;for(ht=0;ht<fe.length;ht++)vt=fe[ht],vt<0?Oe.push(Le+vt):Oe.push(vt);return Oe}function O(fe,ye,Le){var Oe,ht;for(Oe=0;Oe<ye.length;Oe++){if(ht=ye[Oe],ht!==parseInt(ht,10))throw new Error("all values in "+Le+" must be integers");if(ht>=fe.data.length||ht<-fe.data.length)throw new Error(Le+" must be valid indices for gd.data.");if(ye.indexOf(ht,Oe+1)>-1||ht>=0&&ye.indexOf(-fe.data.length+ht)>-1||ht<0&&ye.indexOf(fe.data.length+ht)>-1)throw new Error("each index in "+Le+" must be unique.")}}function z(fe,ye,Le){if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof ye>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ye)||(ye=[ye]),O(fe,ye,"currentIndices"),typeof Le<"u"&&!Array.isArray(Le)&&(Le=[Le]),typeof Le<"u"&&O(fe,Le,"newIndices"),typeof Le<"u"&&ye.length!==Le.length)throw new Error("current and new indices must be of equal length.")}function k(fe,ye,Le){var Oe,ht;if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof ye>"u")throw new Error("traces must be defined.");for(Array.isArray(ye)||(ye=[ye]),Oe=0;Oe<ye.length;Oe++)if(ht=ye[Oe],typeof ht!="object"||Array.isArray(ht)||ht===null)throw new Error("all values in traces array must be non-array objects");if(typeof Le<"u"&&!Array.isArray(Le)&&(Le=[Le]),typeof Le<"u"&&Le.length!==ye.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function N(fe,ye,Le,Oe){var ht=P.isPlainObject(Oe);if(!Array.isArray(fe.data))throw new Error("gd.data must be an array");if(!P.isPlainObject(ye))throw new Error("update must be a key:value object");if(typeof Le>"u")throw new Error("indices must be an integer or array of integers");O(fe,Le,"indices");for(var vt in ye){if(!Array.isArray(ye[vt])||ye[vt].length!==Le.length)throw new Error("attribute "+vt+" must be an array of length equal to indices array length");if(ht&&(!(vt in Oe)||!Array.isArray(Oe[vt])||Oe[vt].length!==ye[vt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function K(fe,ye,Le,Oe){var ht=P.isPlainObject(Oe),vt=[],Lt,Ot,Jt,qt,Vt;Array.isArray(Le)||(Le=[Le]),Le=I(Le,fe.data.length-1);for(var vr in ye)for(var gr=0;gr<Le.length;gr++){if(Lt=fe.data[Le[gr]],Jt=A(Lt,vr),Ot=Jt.get(),qt=ye[vr][gr],!P.isArrayOrTypedArray(qt))throw new Error("attribute: "+vr+" index: "+gr+" must be an array");if(!P.isArrayOrTypedArray(Ot))throw new Error("cannot extend missing or non-array attribute: "+vr);if(Ot.constructor!==qt.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Vt=ht?Oe[vr][gr]:Oe,L(Vt)||(Vt=-1),vt.push({prop:Jt,target:Ot,insert:qt,maxp:Math.floor(Vt)})}return vt}function q(fe,ye,Le,Oe,ht){N(fe,ye,Le,Oe);for(var vt=K(fe,ye,Le,Oe),Lt={},Ot={},Jt=0;Jt<vt.length;Jt++){var qt=vt[Jt].prop,Vt=vt[Jt].maxp,vr=ht(vt[Jt].target,vt[Jt].insert,Vt);qt.set(vr[0]),Array.isArray(Lt[qt.astr])||(Lt[qt.astr]=[]),Lt[qt.astr].push(vr[1]),Array.isArray(Ot[qt.astr])||(Ot[qt.astr]=[]),Ot[qt.astr].push(vt[Jt].target.length)}return{update:Lt,maxPoints:Ot}}function Q(fe,ye){var Le=new fe.constructor(fe.length+ye.length);return Le.set(fe),Le.set(ye,fe.length),Le}function re(fe,ye,Le,Oe){fe=P.getGraphDiv(fe);function ht(Jt,qt,Vt){var vr,gr;if(P.isTypedArray(Jt))if(Vt<0){var Gr=new Jt.constructor(0),At=Q(Jt,qt);Vt<0?(vr=At,gr=Gr):(vr=Gr,gr=At)}else if(vr=new Jt.constructor(Vt),gr=new Jt.constructor(Jt.length+qt.length-Vt),Vt===qt.length)vr.set(qt),gr.set(Jt);else if(Vt<qt.length){var or=qt.length-Vt;vr.set(qt.subarray(or)),gr.set(Jt),gr.set(qt.subarray(0,or),Jt.length)}else{var rr=Vt-qt.length,Lr=Jt.length-rr;vr.set(Jt.subarray(Lr)),vr.set(qt,rr),gr.set(Jt.subarray(0,Lr))}else vr=Jt.concat(qt),gr=Vt>=0&&Vt<vr.length?vr.splice(0,vr.length-Vt):[];return[vr,gr]}var vt=q(fe,ye,Le,Oe,ht),Lt=U.redraw(fe),Ot=[fe,vt.update,Le,vt.maxPoints];return g.add(fe,U.prependTraces,Ot,re,arguments),Lt}function oe(fe,ye,Le,Oe){fe=P.getGraphDiv(fe);function ht(Jt,qt,Vt){var vr,gr;if(P.isTypedArray(Jt))if(Vt<=0){var Gr=new Jt.constructor(0),At=Q(qt,Jt);Vt<0?(vr=At,gr=Gr):(vr=Gr,gr=At)}else if(vr=new Jt.constructor(Vt),gr=new Jt.constructor(Jt.length+qt.length-Vt),Vt===qt.length)vr.set(qt),gr.set(Jt);else if(Vt<qt.length){var or=qt.length-Vt;vr.set(qt.subarray(0,or)),gr.set(qt.subarray(or)),gr.set(Jt,or)}else{var rr=Vt-qt.length;vr.set(qt),vr.set(Jt.subarray(0,rr),qt.length),gr.set(Jt.subarray(rr))}else vr=qt.concat(Jt),gr=Vt>=0&&Vt<vr.length?vr.splice(Vt,vr.length):[];return[vr,gr]}var vt=q(fe,ye,Le,Oe,ht),Lt=U.redraw(fe),Ot=[fe,vt.update,Le,vt.maxPoints];return g.add(fe,U.extendTraces,Ot,oe,arguments),Lt}function Y(fe,ye,Le){fe=P.getGraphDiv(fe);var Oe=[],ht=U.deleteTraces,vt=Y,Lt=[fe,Oe],Ot=[fe,ye],Jt,qt;for(k(fe,ye,Le),Array.isArray(ye)||(ye=[ye]),ye=ye.map(function(Vt){return P.extendFlat({},Vt)}),s.cleanData(ye),Jt=0;Jt<ye.length;Jt++)fe.data.push(ye[Jt]);for(Jt=0;Jt<ye.length;Jt++)Oe.push(-ye.length+Jt);if(typeof Le>"u")return qt=U.redraw(fe),g.add(fe,ht,Lt,vt,Ot),qt;Array.isArray(Le)||(Le=[Le]);try{z(fe,Oe,Le)}catch(Vt){throw fe.data.splice(fe.data.length-ye.length,ye.length),Vt}return g.startSequence(fe),g.add(fe,ht,Lt,vt,Ot),qt=U.moveTraces(fe,Oe,Le),g.stopSequence(fe),qt}function G(fe,ye){fe=P.getGraphDiv(fe);var Le=[],Oe=U.addTraces,ht=G,vt=[fe,Le,ye],Lt=[fe,ye],Ot,Jt;if(typeof ye>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ye)||(ye=[ye]),O(fe,ye,"indices"),ye=I(ye,fe.data.length-1),ye.sort(P.sorterDes),Ot=0;Ot<ye.length;Ot+=1)Jt=fe.data.splice(ye[Ot],1)[0],Le.push(Jt);var qt=U.redraw(fe);return g.add(fe,Oe,vt,ht,Lt),qt}function V(fe,ye,Le){fe=P.getGraphDiv(fe);var Oe=[],ht=[],vt=V,Lt=V,Ot=[fe,Le,ye],Jt=[fe,ye,Le],qt;if(z(fe,ye,Le),ye=Array.isArray(ye)?ye:[ye],typeof Le>"u")for(Le=[],qt=0;qt<ye.length;qt++)Le.push(-ye.length+qt);for(Le=Array.isArray(Le)?Le:[Le],ye=I(ye,fe.data.length-1),Le=I(Le,fe.data.length-1),qt=0;qt<fe.data.length;qt++)ye.indexOf(qt)===-1&&Oe.push(fe.data[qt]);for(qt=0;qt<ye.length;qt++)ht.push({newIndex:Le[qt],trace:fe.data[ye[qt]]});for(ht.sort(function(vr,gr){return vr.newIndex-gr.newIndex}),qt=0;qt<ht.length;qt+=1)Oe.splice(ht[qt].newIndex,0,ht[qt].trace);fe.data=Oe;var Vt=U.redraw(fe);return g.add(fe,vt,Ot,Lt,Jt),Vt}function Z(fe,ye,Le,Oe){fe=P.getGraphDiv(fe),s.clearPromiseQueue(fe);var ht={};if(typeof ye=="string")ht[ye]=Le;else if(P.isPlainObject(ye))ht=P.extendFlat({},ye),Oe===void 0&&(Oe=Le);else return P.warn("Restyle fail.",ye,Le,Oe),Promise.reject();Object.keys(ht).length&&(fe.changed=!0);var vt=s.coerceTraceIndices(fe,Oe),Lt=se(fe,ht,vt),Ot=Lt.flags;Ot.calc&&(fe.calcdata=void 0),Ot.clearAxisTypes&&s.clearAxisTypes(fe,vt,{});var Jt=[];Ot.fullReplot?Jt.push(U._doPlot):(Jt.push(u.previousPromises),u.supplyDefaults(fe),Ot.markerSize&&(u.doCalcdata(fe),Te(Jt)),Ot.style&&Jt.push(d.doTraceStyle),Ot.colorbars&&Jt.push(d.doColorBars),Jt.push(b)),Jt.push(u.rehover,u.redrag,u.reselect),g.add(fe,Z,[fe,Lt.undoit,Lt.traces],Z,[fe,Lt.redoit,Lt.traces]);var qt=P.syncOrAsync(Jt,fe);return(!qt||!qt.then)&&(qt=Promise.resolve()),qt.then(function(){return fe.emit("plotly_restyle",Lt.eventData),fe})}function ae(fe){return fe===void 0?null:fe}function ie(fe,ye){return ye?function(Le,Oe,ht){var vt=A(Le,Oe),Lt=vt.set;return vt.set=function(Ot){var Jt=(ht||"")+Oe;J(Jt,vt.get(),Ot,fe),Lt(Ot)},vt}:A}function J(fe,ye,Le,Oe){if(Array.isArray(ye)||Array.isArray(Le))for(var ht=Array.isArray(ye)?ye:[],vt=Array.isArray(Le)?Le:[],Lt=Math.max(ht.length,vt.length),Ot=0;Ot<Lt;Ot++)J(fe+"["+Ot+"]",ht[Ot],vt[Ot],Oe);else if(P.isPlainObject(ye)||P.isPlainObject(Le)){var Jt=P.isPlainObject(ye)?ye:{},qt=P.isPlainObject(Le)?Le:{},Vt=P.extendFlat({},Jt,qt);for(var vr in Vt)J(fe+"."+vr,Jt[vr],qt[vr],Oe)}else Oe[fe]===void 0&&(Oe[fe]=ae(ye))}function $(fe,ye,Le){for(var Oe in Le){var ht=A(fe,Oe);J(Oe,ht.get(),Le[Oe],ye)}}function se(fe,ye,Le){var Oe=fe._fullLayout,ht=fe._fullData,vt=fe.data,Lt=Oe._guiEditing,Ot=ie(Oe._preGUI,Lt),Jt=P.extendDeepAll({},ye),qt;ee(ye);var Vt=S.traceFlags(),vr={},gr={},Gr;function At(){return Le.map(function(){})}function or(fn){var xn=o.id2name(fn);Gr.indexOf(xn)===-1&&Gr.push(xn)}function rr(fn){return"LAYOUT"+fn+".autorange"}function Lr(fn){return"LAYOUT"+fn+".range"}function Tr(fn){for(var xn=fn;xn<ht.length;xn++)if(ht[xn]._input===vt[fn])return ht[xn]}function pt(fn,xn,On){if(Array.isArray(fn)){fn.forEach(function(Wr){pt(Wr,xn,On)});return}if(!(fn in ye||s.hasParent(ye,fn))){var br;if(fn.substr(0,6)==="LAYOUT")br=Ot(fe.layout,fn.replace("LAYOUT",""));else{var Ir=Le[On],jr=Oe._tracePreGUI[Tr(Ir)._fullInput.uid];br=ie(jr,Lt)(vt[Ir],fn)}fn in gr||(gr[fn]=At()),gr[fn][On]===void 0&&(gr[fn][On]=ae(br.get())),xn!==void 0&&br.set(xn)}}function st(fn){return function(xn){return ht[xn][fn]}}function yt(fn){return function(xn,On){return xn===!1?ht[Le[On]][fn]:null}}for(var Pt in ye){if(s.hasParent(ye,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");var Dt=ye[Pt],Nt,Zt,$t,lr,ir,He;if((Pt==="autobinx"||Pt==="autobiny")&&(Pt=Pt.charAt(Pt.length-1)+"bins",Array.isArray(Dt)?Dt=Dt.map(yt(Pt)):Dt===!1?Dt=Le.map(st(Pt)):Dt=null),vr[Pt]=Dt,Pt.substr(0,6)==="LAYOUT"){$t=Ot(fe.layout,Pt.replace("LAYOUT","")),gr[Pt]=[ae($t.get())],$t.set(Array.isArray(Dt)?Dt[0]:Dt),Vt.calc=!0;continue}for(gr[Pt]=At(),qt=0;qt<Le.length;qt++){Nt=vt[Le[qt]],Zt=Tr(Le[qt]);var Ge=Oe._tracePreGUI[Zt._fullInput.uid];if($t=ie(Ge,Lt)(Nt,Pt),lr=$t.get(),ir=Array.isArray(Dt)?Dt[qt%Dt.length]:Dt,ir!==void 0){var Ct=$t.parts[$t.parts.length-1],Ut=Pt.substr(0,Pt.length-Ct.length-1),Kt=Ut?Ut+".":"",Xt=Ut?A(Zt,Ut).get():Zt;if(He=r.getTraceValObject(Zt,$t.parts),He&&He.impliedEdits&&ir!==null)for(var ur in He.impliedEdits)pt(P.relativeAttr(Pt,ur),He.impliedEdits[ur],qt);else if((Ct==="thicknessmode"||Ct==="lenmode")&&lr!==ir&&(ir==="fraction"||ir==="pixels")&&Xt){var Ar=Oe._size,Rr=Xt.orient,wr=Rr==="top"||Rr==="bottom";if(Ct==="thicknessmode"){var er=wr?Ar.h:Ar.w;pt(Kt+"thickness",Xt.thickness*(ir==="fraction"?1/er:er),qt)}else{var _r=wr?Ar.w:Ar.h;pt(Kt+"len",Xt.len*(ir==="fraction"?1/_r:_r),qt)}}else if(Pt==="type"&&(ir==="pie"!=(lr==="pie")||ir==="funnelarea"!=(lr==="funnelarea"))){var Vr="x",Br="y";(ir==="bar"||lr==="bar")&&Nt.orientation==="h"&&(Vr="y",Br="x"),P.swapAttrs(Nt,["?","?src"],"labels",Vr),P.swapAttrs(Nt,["d?","?0"],"label",Vr),P.swapAttrs(Nt,["?","?src"],"values",Br),lr==="pie"||lr==="funnelarea"?(A(Nt,"marker.color").set(A(Nt,"marker.colors").get()),Oe._pielayer.selectAll("g.trace").remove()):t.traceIs(Nt,"cartesian")&&A(Nt,"marker.colors").set(A(Nt,"marker.color").get())}gr[Pt][qt]=ae(lr);var yr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(yr.indexOf(Pt)!==-1){if(Pt==="orientation"){$t.set(ir);var pn=Nt.x&&!Nt.y?"h":"v";if(($t.get()||pn)===Zt.orientation)continue}else Pt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Zt.orientation]);s.swapXYData(Nt),Vt.calc=Vt.clearAxisTypes=!0}else u.dataArrayContainers.indexOf($t.parts[0])!==-1?(s.manageArrayContainers($t,ir,gr),Vt.calc=!0):(He?He.arrayOk&&!t.traceIs(Zt,"regl")&&(P.isArrayOrTypedArray(ir)||P.isArrayOrTypedArray(lr))?Vt.calc=!0:S.update(Vt,He):Vt.calc=!0,$t.set(ir))}}if(["swapxyaxes","orientationaxes"].indexOf(Pt)!==-1&&o.swap(fe,Le),Pt==="orientationaxes"){var an=A(fe.layout,"hovermode"),Zr=an.get();Zr==="x"?an.set("y"):Zr==="y"?an.set("x"):Zr==="x unified"?an.set("y unified"):Zr==="y unified"&&an.set("x unified")}if(["orientation","type"].indexOf(Pt)!==-1){for(Gr=[],qt=0;qt<Le.length;qt++){var Nn=vt[Le[qt]];t.traceIs(Nn,"cartesian")&&(or(Nn.xaxis||"x"),or(Nn.yaxis||"y"))}pt(Gr.map(rr),!0,0),pt(Gr.map(Lr),[0,1],0)}}return(Vt.calc||Vt.plot)&&(Vt.fullReplot=!0),{flags:Vt,undoit:gr,redoit:vr,traces:Le,eventData:P.extendDeepNoArrays([],[Jt,Le])}}function ee(fe){var ye=P.counterRegex("axis",".title",!1,!1),Le=/colorbar\.title$/,Oe=Object.keys(fe),ht,vt,Lt;for(ht=0;ht<Oe.length;ht++)vt=Oe[ht],Lt=fe[vt],(vt==="title"||ye.test(vt)||Le.test(vt))&&(typeof Lt=="string"||typeof Lt=="number")?Ot(vt,vt.replace("title","title.text")):vt.indexOf("titlefont")>-1&&vt.indexOf("grouptitlefont")===-1?Ot(vt,vt.replace("titlefont","title.font")):vt.indexOf("titleposition")>-1?Ot(vt,vt.replace("titleposition","title.position")):vt.indexOf("titleside")>-1?Ot(vt,vt.replace("titleside","title.side")):vt.indexOf("titleoffset")>-1&&Ot(vt,vt.replace("titleoffset","title.offset"));function Ot(Jt,qt){fe[qt]=fe[Jt],delete fe[Jt]}}function ue(fe,ye,Le){fe=P.getGraphDiv(fe),s.clearPromiseQueue(fe);var Oe={};if(typeof ye=="string")Oe[ye]=Le;else if(P.isPlainObject(ye))Oe=P.extendFlat({},ye);else return P.warn("Relayout fail.",ye,Le),Promise.reject();Object.keys(Oe).length&&(fe.changed=!0);var ht=Ae(fe,Oe),vt=ht.flags;vt.calc&&(fe.calcdata=void 0);var Lt=[u.previousPromises];vt.layoutReplot?Lt.push(d.layoutReplot):Object.keys(Oe).length&&(ge(fe,vt,ht)||u.supplyDefaults(fe),vt.legend&&Lt.push(d.doLegend),vt.layoutstyle&&Lt.push(d.layoutStyles),vt.axrange&&Te(Lt,ht.rangesAltered),vt.ticks&&Lt.push(d.doTicksRelayout),vt.modebar&&Lt.push(d.doModeBar),vt.camera&&Lt.push(d.doCamera),vt.colorbars&&Lt.push(d.doColorBars),Lt.push(b)),Lt.push(u.rehover,u.redrag,u.reselect),g.add(fe,ue,[fe,ht.undoit],ue,[fe,ht.redoit]);var Ot=P.syncOrAsync(Lt,fe);return(!Ot||!Ot.then)&&(Ot=Promise.resolve(fe)),Ot.then(function(){return fe.emit("plotly_relayout",ht.eventData),fe})}function ge(fe,ye,Le){var Oe=fe._fullLayout;if(!ye.axrange)return!1;for(var ht in ye)if(ht!=="axrange"&&ye[ht])return!1;for(var vt in Le.rangesAltered){var Lt=o.id2name(vt),Ot=fe.layout[Lt],Jt=Oe[Lt];if(Jt.autorange=Ot.autorange,Ot.range&&(Jt.range=Ot.range.slice()),Jt.cleanRange(),Jt._matchGroup){for(var qt in Jt._matchGroup)if(qt!==vt){var Vt=Oe[o.id2name(qt)];Vt.autorange=Jt.autorange,Vt.range=Jt.range.slice(),Vt._input.range=Jt.range.slice()}}}return!0}function Te(fe,ye){var Le=ye?function(Oe){var ht=[],vt=!0;for(var Lt in ye){var Ot=o.getFromId(Oe,Lt);if(ht.push(Lt),(Ot.ticklabelposition||"").indexOf("inside")!==-1&&Ot._anchorAxis&&ht.push(Ot._anchorAxis._id),Ot._matchGroup)for(var Jt in Ot._matchGroup)ye[Jt]||ht.push(Jt)}return o.draw(Oe,ht,{skipTitle:vt})}:function(Oe){return o.draw(Oe,"redraw")};fe.push(h,d.doAutoRangeAndConstraints,Le,d.drawData,d.finalDraw)}var xe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Pe=/^[xyz]axis[0-9]*\.autorange$/,Ie=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ae(fe,ye){var Le=fe.layout,Oe=fe._fullLayout,ht=Oe._guiEditing,vt=ie(Oe._preGUI,ht),Lt=Object.keys(ye),Ot=o.list(fe),Jt=P.extendDeepAll({},ye),qt={},Vt,vr,gr;for(ee(ye),Lt=Object.keys(ye),vr=0;vr<Lt.length;vr++)if(Lt[vr].indexOf("allaxes")===0){for(gr=0;gr<Ot.length;gr++){var Gr=Ot[gr]._id.substr(1),At=Gr.indexOf("scene")!==-1?Gr+".":"",or=Lt[vr].replace("allaxes",At+Ot[gr]._name);ye[or]||(ye[or]=ye[Lt[vr]])}delete ye[Lt[vr]]}var rr=S.layoutFlags(),Lr={},Tr={};function pt(Ir,jr){if(Array.isArray(Ir)){Ir.forEach(function(An){pt(An,jr)});return}if(!(Ir in ye||s.hasParent(ye,Ir))){var Wr=vt(Le,Ir);Ir in Tr||(Tr[Ir]=ae(Wr.get())),jr!==void 0&&Wr.set(jr)}}var st={},yt;function Pt(Ir){var jr=o.name2id(Ir.split(".")[0]);return st[jr]=1,jr}for(var Dt in ye){if(s.hasParent(ye,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");for(var Nt=vt(Le,Dt),Zt=ye[Dt],$t=Nt.parts.length,lr=$t-1;lr>0&&typeof Nt.parts[lr]!="string";)lr--;var ir=Nt.parts[lr],He=Nt.parts[lr-1]+"."+ir,Ge=Nt.parts.slice(0,lr).join("."),Ct=A(fe.layout,Ge).get(),Ut=A(Oe,Ge).get(),Kt=Nt.get();if(Zt!==void 0){Lr[Dt]=Zt,Tr[Dt]=ir==="reverse"?Zt:ae(Kt);var Xt=r.getLayoutValObject(Oe,Nt.parts);if(Xt&&Xt.impliedEdits&&Zt!==null)for(var ur in Xt.impliedEdits)pt(P.relativeAttr(Dt,ur),Xt.impliedEdits[ur]);if(["width","height"].indexOf(Dt)!==-1)if(Zt){pt("autosize",null);var Ar=Dt==="height"?"width":"height";pt(Ar,Oe[Ar])}else Oe[Dt]=fe._initialAutoSize[Dt];else if(Dt==="autosize")pt("width",Zt?null:Oe.width),pt("height",Zt?null:Oe.height);else if(He.match(xe))Pt(He),A(Oe,Ge+"._inputRange").set(null);else if(He.match(Pe)){Pt(He),A(Oe,Ge+"._inputRange").set(null);var Rr=A(Oe,Ge).get();Rr._inputDomain&&(Rr._input.domain=Rr._inputDomain.slice())}else He.match(Ie)&&A(Oe,Ge+"._inputDomain").set(null);if(ir==="type"){yt=Ct;var wr=Ut.type==="linear"&&Zt==="log",er=Ut.type==="log"&&Zt==="linear";if(wr||er){if(!yt||!yt.range)pt(Ge+".autorange",!0);else if(Ut.autorange)wr&&(yt.range=yt.range[1]>yt.range[0]?[1,2]:[2,1]);else{var _r=yt.range[0],Vr=yt.range[1];wr?(_r<=0&&Vr<=0&&pt(Ge+".autorange",!0),_r<=0?_r=Vr/1e6:Vr<=0&&(Vr=_r/1e6),pt(Ge+".range[0]",Math.log(_r)/Math.LN10),pt(Ge+".range[1]",Math.log(Vr)/Math.LN10)):(pt(Ge+".range[0]",Math.pow(10,_r)),pt(Ge+".range[1]",Math.pow(10,Vr)))}Array.isArray(Oe._subplots.polar)&&Oe._subplots.polar.length&&Oe[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete Oe[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(fe,Ut,Zt,pt),t.getComponentMethod("images","convertCoords")(fe,Ut,Zt,pt)}else pt(Ge+".autorange",!0),pt(Ge+".range",null);A(Oe,Ge+"._inputRange").set(null)}else if(ir.match(M)){var Br=A(Oe,Dt).get(),yr=(Zt||{}).type;(!yr||yr==="-")&&(yr="linear"),t.getComponentMethod("annotations","convertCoords")(fe,Br,yr,pt),t.getComponentMethod("images","convertCoords")(fe,Br,yr,pt)}var pn=f.containerArrayMatch(Dt);if(pn){Vt=pn.array,vr=pn.index;var an=pn.property,Zr=Xt||{editType:"calc"};vr!==""&&an===""&&(f.isAddVal(Zt)?Tr[Dt]=null:f.isRemoveVal(Zt)?Tr[Dt]=(A(Le,Vt).get()||[])[vr]:P.warn("unrecognized full object value",ye)),S.update(rr,Zr),qt[Vt]||(qt[Vt]={});var Nn=qt[Vt][vr];Nn||(Nn=qt[Vt][vr]={}),Nn[an]=Zt,delete ye[Dt]}else ir==="reverse"?(Ct.range?Ct.range.reverse():(pt(Ge+".autorange",!0),Ct.range=[1,0]),Ut.autorange?rr.calc=!0:rr.plot=!0):(Dt==="dragmode"&&(Zt===!1&&Kt!==!1||Zt!==!1&&Kt===!1)||Oe._has("scatter-like")&&Oe._has("regl")&&Dt==="dragmode"&&(Zt==="lasso"||Zt==="select")&&!(Kt==="lasso"||Kt==="select")||Oe._has("gl2d")?rr.plot=!0:Xt?S.update(rr,Xt):rr.calc=!0,Nt.set(Zt))}}for(Vt in qt){var fn=f.applyContainerArrayChanges(fe,vt(Le,Vt),qt[Vt],rr,vt);fn||(rr.plot=!0)}for(var xn in st){yt=o.getFromId(fe,xn);var On=yt&&yt._constraintGroup;if(On){rr.calc=!0;for(var br in On)st[br]||(o.getFromId(fe,br)._constraintShrinkable=!0)}}return(be(fe)||ye.height||ye.width)&&(rr.plot=!0),(rr.plot||rr.calc)&&(rr.layoutReplot=!0),{flags:rr,rangesAltered:st,undoit:Tr,redoit:Lr,eventData:Jt}}function be(fe){var ye=fe._fullLayout,Le=ye.width,Oe=ye.height;return fe.layout.autosize&&u.plotAutoSize(fe,fe.layout,ye),ye.width!==Le||ye.height!==Oe}function _e(fe,ye,Le,Oe){fe=P.getGraphDiv(fe),s.clearPromiseQueue(fe),P.isPlainObject(ye)||(ye={}),P.isPlainObject(Le)||(Le={}),Object.keys(ye).length&&(fe.changed=!0),Object.keys(Le).length&&(fe.changed=!0);var ht=s.coerceTraceIndices(fe,Oe),vt=se(fe,P.extendFlat({},ye),ht),Lt=vt.flags,Ot=Ae(fe,P.extendFlat({},Le)),Jt=Ot.flags;(Lt.calc||Jt.calc)&&(fe.calcdata=void 0),Lt.clearAxisTypes&&s.clearAxisTypes(fe,ht,Le);var qt=[];Jt.layoutReplot?qt.push(d.layoutReplot):Lt.fullReplot?qt.push(U._doPlot):(qt.push(u.previousPromises),ge(fe,Jt,Ot)||u.supplyDefaults(fe),Lt.style&&qt.push(d.doTraceStyle),(Lt.colorbars||Jt.colorbars)&&qt.push(d.doColorBars),Jt.legend&&qt.push(d.doLegend),Jt.layoutstyle&&qt.push(d.layoutStyles),Jt.axrange&&Te(qt,Ot.rangesAltered),Jt.ticks&&qt.push(d.doTicksRelayout),Jt.modebar&&qt.push(d.doModeBar),Jt.camera&&qt.push(d.doCamera),qt.push(b)),qt.push(u.rehover,u.redrag,u.reselect),g.add(fe,_e,[fe,vt.undoit,Ot.undoit,vt.traces],_e,[fe,vt.redoit,Ot.redoit,vt.traces]);var Vt=P.syncOrAsync(qt,fe);return(!Vt||!Vt.then)&&(Vt=Promise.resolve(fe)),Vt.then(function(){return fe.emit("plotly_update",{data:vt.eventData,layout:Ot.eventData}),fe})}function Ve(fe){return function(Le){Le._fullLayout._guiEditing=!0;var Oe=fe.apply(null,arguments);return Le._fullLayout._guiEditing=!1,Oe}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ze=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ze(fe,ye){for(var Le=0;Le<ye.length;Le++){var Oe=ye[Le],ht=fe.match(Oe.pattern);if(ht){var vt=ht[1]||"";return{head:vt,tail:fe.substr(vt.length+1),attr:Oe.attr}}}}function ct(fe,ye){var Le=A(ye,fe).get();if(Le!==void 0)return Le;var Oe=fe.split(".");for(Oe.pop();Oe.length>1;)if(Oe.pop(),Le=A(ye,Oe.join(".")+".uirevision").get(),Le!==void 0)return Le;return ye.uirevision}function lt(fe,ye){for(var Le=0;Le<ye.length;Le++)if(ye[Le]._fullInput.uid===fe)return Le;return-1}function at(fe,ye,Le){for(var Oe=0;Oe<ye.length;Oe++)if(ye[Oe].uid===fe)return Oe;return!ye[Le]||ye[Le].uid?-1:Le}function tt(fe,ye){var Le=P.isPlainObject(fe),Oe=Array.isArray(fe);return Le||Oe?(Le&&P.isPlainObject(ye)||Oe&&Array.isArray(ye))&&JSON.stringify(fe)===JSON.stringify(ye):fe===ye}function dt(fe,ye,Le,Oe){var ht=Oe._preGUI,vt,Lt,Ot,Jt,qt,Vt,vr,gr,Gr,At,or=[],rr={},Lr={};for(vt in ht){if(qt=Ze(vt,We),qt){if(Gr=qt.head,At=qt.tail,Lt=qt.attr||Gr+".uirevision",Ot=A(Oe,Lt).get(),Jt=Ot&&ct(Lt,ye),Jt&&Jt===Ot){if(Vt=ht[vt],Vt===null&&(Vt=void 0),vr=A(ye,vt),gr=vr.get(),tt(gr,Vt)){gr===void 0&&At==="autorange"&&or.push(Gr),vr.set(ae(A(Oe,vt).get()));continue}else if(At==="autorange"||At.substr(0,6)==="range["){var Tr=ht[Gr+".range[0]"],pt=ht[Gr+".range[1]"],st=ht[Gr+".autorange"];if(st||st===null&&Tr===null&&pt===null){if(!(Gr in rr)){var yt=A(ye,Gr).get();rr[Gr]=yt&&(yt.autorange||yt.autorange!==!1&&(!yt.range||yt.range.length!==2))}if(rr[Gr]){vr.set(ae(A(Oe,vt).get()));continue}}}}}else P.warn("unrecognized GUI edit: "+vt);delete ht[vt],qt&&qt.tail.substr(0,6)==="range["&&(Lr[qt.head]=1)}for(var Pt=0;Pt<or.length;Pt++){var Dt=or[Pt];if(Lr[Dt]){var Nt=A(ye,Dt).get();Nt&&delete Nt.autorange}}var Zt=Oe._tracePreGUI;for(var $t in Zt){var lr=Zt[$t],ir=null,He;for(vt in lr){if(!ir){var Ge=lt($t,Le);if(Ge<0){delete Zt[$t];break}var Ct=Le[Ge];He=Ct._fullInput;var Ut=at($t,fe,He.index);if(Ut<0){delete Zt[$t];break}ir=fe[Ut]}if(qt=Ze(vt,ze),qt){if(qt.attr?(Ot=A(Oe,qt.attr).get(),Jt=Ot&&ct(qt.attr,ye)):(Ot=He.uirevision,Jt=ir.uirevision,Jt===void 0&&(Jt=ye.uirevision)),Jt&&Jt===Ot&&(Vt=lr[vt],Vt===null&&(Vt=void 0),vr=A(ir,vt),gr=vr.get(),tt(gr,Vt))){vr.set(ae(A(He,vt).get()));continue}}else P.warn("unrecognized GUI edit: "+vt+" in trace uid "+$t);delete lr[vt]}}}function wt(fe,ye,Le,Oe){var ht,vt;function Lt(){return U.addFrames(fe,ht)}fe=P.getGraphDiv(fe),s.clearPromiseQueue(fe);var Ot=fe._fullData,Jt=fe._fullLayout;if(!P.isPlotDiv(fe)||!Ot||!Jt)vt=U.newPlot(fe,ye,Le,Oe);else{if(P.isPlainObject(ye)){var qt=ye;ye=qt.data,Le=qt.layout,Oe=qt.config,ht=qt.frames}var Vt=!1;if(Oe){var vr=P.extendDeep({},fe._context);fe._context=void 0,F(fe,Oe),Vt=ke(vr,fe._context)}fe.data=ye||[],s.cleanData(fe.data),fe.layout=Le||{},s.cleanLayout(fe.layout),dt(fe.data,fe.layout,Ot,Jt),u.supplyDefaults(fe,{skipUpdateCalc:!0});var gr=fe._fullData,Gr=fe._fullLayout,At=Gr.datarevision===void 0,or=Gr.transition,rr=It(fe,Jt,Gr,At,or),Lr=rr.newDataRevision,Tr=Mt(fe,Ot,gr,At,or,Lr);if(be(fe)&&(rr.layoutReplot=!0),Tr.calc||rr.calc){fe.calcdata=void 0;for(var pt=Object.getOwnPropertyNames(Gr),st=0;st<pt.length;st++){var yt=pt[st],Pt=yt.substring(0,5);if(Pt==="xaxis"||Pt==="yaxis"){var Dt=Gr[yt]._emptyCategories;Dt&&Dt()}}}else u.supplyDefaultsUpdateCalc(fe.calcdata,gr);var Nt=[];if(ht&&(fe._transitionData={},u.createTransitionData(fe),Nt.push(Lt)),Gr.transition&&!Vt&&(Tr.anim||rr.anim))rr.ticks&&Nt.push(d.doTicksRelayout),u.doCalcdata(fe),d.doAutoRangeAndConstraints(fe),Nt.push(function(){return u.transitionFromReact(fe,Tr,rr,Jt)});else if(Tr.fullReplot||rr.layoutReplot||Vt)fe._fullLayout._skipDefaults=!0,Nt.push(U._doPlot);else{for(var Zt in rr.arrays){var $t=rr.arrays[Zt];if($t.length){var lr=t.getComponentMethod(Zt,"drawOne");if(lr!==P.noop)for(var ir=0;ir<$t.length;ir++)lr(fe,$t[ir]);else{var He=t.getComponentMethod(Zt,"draw");if(He===P.noop)throw new Error("cannot draw components: "+Zt);He(fe)}}}Nt.push(u.previousPromises),Tr.style&&Nt.push(d.doTraceStyle),(Tr.colorbars||rr.colorbars)&&Nt.push(d.doColorBars),rr.legend&&Nt.push(d.doLegend),rr.layoutstyle&&Nt.push(d.layoutStyles),rr.axrange&&Te(Nt),rr.ticks&&Nt.push(d.doTicksRelayout),rr.modebar&&Nt.push(d.doModeBar),rr.camera&&Nt.push(d.doCamera),Nt.push(b)}Nt.push(u.rehover,u.redrag,u.reselect),vt=P.syncOrAsync(Nt,fe),(!vt||!vt.then)&&(vt=Promise.resolve(fe))}return vt.then(function(){return fe.emit("plotly_react",{data:ye,layout:Le}),fe})}function Mt(fe,ye,Le,Oe,ht,vt){var Lt=ye.length===Le.length;if(!ht&&!Lt)return{fullReplot:!0,calc:!0};var Ot=S.traceFlags();Ot.arrays={},Ot.nChanges=0,Ot.nChangesAnim=0;var Jt,qt;function Vt(Gr){var At=r.getTraceValObject(qt,Gr);return!qt._module.animatable&&At.anim&&(At.anim=!1),At}var vr={getValObject:Vt,flags:Ot,immutable:Oe,transition:ht,newDataRevision:vt,gd:fe},gr={};for(Jt=0;Jt<ye.length;Jt++)if(Le[Jt]){if(qt=Le[Jt]._fullInput,u.hasMakesDataTransform(qt)&&(qt=Le[Jt]),gr[qt.uid])continue;gr[qt.uid]=1,$e(ye[Jt]._fullInput,qt,[],vr)}return(Ot.calc||Ot.plot)&&(Ot.fullReplot=!0),ht&&Ot.nChanges&&Ot.nChangesAnim&&(Ot.anim=Ot.nChanges===Ot.nChangesAnim&&Lt?"all":"some"),Ot}function It(fe,ye,Le,Oe,ht){var vt=S.layoutFlags();vt.arrays={},vt.rangesAltered={},vt.nChanges=0,vt.nChangesAnim=0;function Lt(Jt){return r.getLayoutValObject(Le,Jt)}var Ot={getValObject:Lt,flags:vt,immutable:Oe,transition:ht,gd:fe};return $e(ye,Le,[],Ot),(vt.plot||vt.calc)&&(vt.layoutReplot=!0),ht&&vt.nChanges&&vt.nChangesAnim&&(vt.anim=vt.nChanges===vt.nChangesAnim?"all":"some"),vt}function $e(fe,ye,Le,Oe){var ht,vt,Lt,Ot=Oe.getValObject,Jt=Oe.flags,qt=Oe.immutable,Vt=Oe.inArray,vr=Oe.arrayIndex;function gr(){var Ge=ht.editType;if(Vt&&Ge.indexOf("arraydraw")!==-1){P.pushUnique(Jt.arrays[Vt],vr);return}S.update(Jt,ht),Ge!=="none"&&Jt.nChanges++,Oe.transition&&ht.anim&&Jt.nChangesAnim++,(xe.test(Lt)||Pe.test(Lt))&&(Jt.rangesAltered[Le[0]]=1),Ie.test(Lt)&&A(ye,"_inputDomain").set(null),vt==="datarevision"&&(Jt.newDataRevision=1)}function Gr(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(vt in fe){if(Jt.calc&&!Oe.transition)return;var At=fe[vt],or=ye[vt],rr=Le.concat(vt);if(Lt=rr.join("."),!(vt.charAt(0)==="_"||typeof At=="function"||At===or)){if((vt==="tick0"||vt==="dtick")&&Le[0]!=="geo"){var Lr=ye.tickmode;if(Lr==="auto"||Lr==="array"||!Lr)continue}if(!(vt==="range"&&ye.autorange)&&!((vt==="zmin"||vt==="zmax")&&ye.type==="contourcarpet")&&(ht=Ot(rr),!!ht&&!(ht._compareAsJSON&&JSON.stringify(At)===JSON.stringify(or)))){var Tr=ht.valType,pt,st=Gr(ht),yt=Array.isArray(At),Pt=Array.isArray(or);if(yt&&Pt){var Dt="_input_"+vt,Nt=fe[Dt],Zt=ye[Dt];if(Array.isArray(Nt)&&Nt===Zt)continue}if(or===void 0)st&&yt?Jt.calc=!0:gr();else if(ht._isLinkedToArray){var $t=[],lr=!1;Vt||(Jt.arrays[vt]=$t);var ir=Math.min(At.length,or.length),He=Math.max(At.length,or.length);if(ir!==He)if(ht.editType==="arraydraw")lr=!0;else{gr();continue}for(pt=0;pt<ir;pt++)$e(At[pt],or[pt],rr.concat(pt),P.extendFlat({inArray:vt,arrayIndex:pt},Oe));if(lr)for(pt=ir;pt<He;pt++)$t.push(pt)}else!Tr&&P.isPlainObject(At)?$e(At,or,rr,Oe):st?yt&&Pt?(qt&&(Jt.calc=!0),(qt||Oe.newDataRevision)&&gr()):yt!==Pt?Jt.calc=!0:gr():yt&&Pt?(At.length!==or.length||String(At)!==String(or))&&gr():gr()}}}for(vt in ye)if(!(vt in fe||vt.charAt(0)==="_"||typeof ye[vt]=="function"))if(ht=Ot(Le.concat(vt)),Gr(ht)&&Array.isArray(ye[vt])){Jt.calc=!0;return}else gr()}function ke(fe,ye){var Le;for(Le in fe)if(Le.charAt(0)!=="_"){var Oe=fe[Le],ht=ye[Le];if(Oe!==ht)if(P.isPlainObject(Oe)&&P.isPlainObject(ht)){if(ke(Oe,ht))return!0}else if(Array.isArray(Oe)&&Array.isArray(ht)){if(Oe.length!==ht.length)return!0;for(var vt=0;vt<Oe.length;vt++)if(Oe[vt]!==ht[vt])if(P.isPlainObject(Oe[vt])&&P.isPlainObject(ht[vt])){if(ke(Oe[vt],ht[vt]))return!0}else return!0}else return!0}}function Fe(fe,ye,Le){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Oe=fe._transitionData;Oe._frameQueue||(Oe._frameQueue=[]),Le=u.supplyAnimationDefaults(Le);var ht=Le.transition,vt=Le.frame;Oe._frameWaitingCnt===void 0&&(Oe._frameWaitingCnt=0);function Lt(qt){return Array.isArray(ht)?qt>=ht.length?ht[0]:ht[qt]:ht}function Ot(qt){return Array.isArray(vt)?qt>=vt.length?vt[0]:vt[qt]:vt}function Jt(qt,Vt){var vr=0;return function(){if(qt&&++vr===Vt)return qt()}}return new Promise(function(qt,Vt){function vr(){if(Oe._frameQueue.length!==0){for(;Oe._frameQueue.length;){var ir=Oe._frameQueue.pop();ir.onInterrupt&&ir.onInterrupt()}fe.emit("plotly_animationinterrupted",[])}}function gr(ir){if(ir.length!==0){for(var He=0;He<ir.length;He++){var Ge;ir[He].type==="byname"?Ge=u.computeFrame(fe,ir[He].name):Ge=ir[He].data;var Ct=Ot(He),Ut=Lt(He);Ut.duration=Math.min(Ut.duration,Ct.duration);var Kt={frame:Ge,name:ir[He].name,frameOpts:Ct,transitionOpts:Ut};He===ir.length-1&&(Kt.onComplete=Jt(qt,2),Kt.onInterrupt=Vt),Oe._frameQueue.push(Kt)}Le.mode==="immediate"&&(Oe._lastFrameAt=-1/0),Oe._animationRaf||or()}}function Gr(){fe.emit("plotly_animated"),window.cancelAnimationFrame(Oe._animationRaf),Oe._animationRaf=null}function At(){Oe._currentFrame&&Oe._currentFrame.onComplete&&Oe._currentFrame.onComplete();var ir=Oe._currentFrame=Oe._frameQueue.shift();if(ir){var He=ir.name?ir.name.toString():null;fe._fullLayout._currentFrame=He,Oe._lastFrameAt=Date.now(),Oe._timeToNext=ir.frameOpts.duration,u.transition(fe,ir.frame.data,ir.frame.layout,s.coerceTraceIndices(fe,ir.frame.traces),ir.frameOpts,ir.transitionOpts).then(function(){ir.onComplete&&ir.onComplete()}),fe.emit("plotly_animatingframe",{name:He,frame:ir.frame,animation:{frame:ir.frameOpts,transition:ir.transitionOpts}})}else Gr()}function or(){fe.emit("plotly_animating"),Oe._lastFrameAt=-1/0,Oe._timeToNext=0,Oe._runningTransitions=0,Oe._currentFrame=null;var ir=function(){Oe._animationRaf=window.requestAnimationFrame(ir),Date.now()-Oe._lastFrameAt>Oe._timeToNext&&At()};ir()}var rr=0;function Lr(ir){return Array.isArray(ht)?rr>=ht.length?ir.transitionOpts=ht[rr]:ir.transitionOpts=ht[0]:ir.transitionOpts=ht,rr++,ir}var Tr,pt,st=[],yt=ye==null,Pt=Array.isArray(ye),Dt=!yt&&!Pt&&P.isPlainObject(ye);if(Dt)st.push({type:"object",data:Lr(P.extendFlat({},ye))});else if(yt||["string","number"].indexOf(typeof ye)!==-1)for(Tr=0;Tr<Oe._frames.length;Tr++)pt=Oe._frames[Tr],pt&&(yt||String(pt.group)===String(ye))&&st.push({type:"byname",name:String(pt.name),data:Lr({name:pt.name})});else if(Pt)for(Tr=0;Tr<ye.length;Tr++){var Nt=ye[Tr];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),st.push({type:"byname",name:Nt,data:Lr({name:Nt})})):P.isPlainObject(Nt)&&st.push({type:"object",data:Lr(P.extendFlat({},Nt))})}for(Tr=0;Tr<st.length;Tr++)if(pt=st[Tr],pt.type==="byname"&&!Oe._frameHash[pt.data.name]){P.warn('animate failure: frame not found: "'+pt.data.name+'"'),Vt();return}["next","immediate"].indexOf(Le.mode)!==-1&&vr(),Le.direction==="reverse"&&st.reverse();var Zt=fe._fullLayout._currentFrame;if(Zt&&Le.fromcurrent){var $t=-1;for(Tr=0;Tr<st.length;Tr++)if(pt=st[Tr],pt.type==="byname"&&pt.name===Zt){$t=Tr;break}if($t>0&&$t<st.length-1){var lr=[];for(Tr=0;Tr<st.length;Tr++)pt=st[Tr],(st[Tr].type!=="byname"||Tr>$t)&&lr.push(pt);st=lr}}st.length>0?gr(st):(fe.emit("plotly_animated"),qt())})}function qe(fe,ye,Le){if(fe=P.getGraphDiv(fe),ye==null)return Promise.resolve();if(!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Oe,ht,vt,Lt,Ot=fe._transitionData._frames,Jt=fe._transitionData._frameHash;if(!Array.isArray(ye))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ye);var qt=Ot.length+ye.length*2,Vt=[],vr={};for(Oe=ye.length-1;Oe>=0;Oe--)if(P.isPlainObject(ye[Oe])){var gr=ye[Oe].name,Gr=(Jt[gr]||vr[gr]||{}).name,At=ye[Oe].name,or=Jt[Gr]||vr[Gr];Gr&&At&&typeof At=="number"&&or&&C<y&&(C++,P.warn('addFrames: overwriting frame "'+(Jt[Gr]||vr[Gr]).name+'" with a frame whose name of type "number" also equates to "'+Gr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),C===y&&P.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[gr]={name:gr},Vt.push({frame:u.supplyFrameDefaults(ye[Oe]),index:Le&&Le[Oe]!==void 0&&Le[Oe]!==null?Le[Oe]:qt+Oe})}Vt.sort(function(Dt,Nt){return Dt.index>Nt.index?-1:Dt.index<Nt.index?1:0});var rr=[],Lr=[],Tr=Ot.length;for(Oe=Vt.length-1;Oe>=0;Oe--){if(ht=Vt[Oe].frame,typeof ht.name=="number"&&P.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ht.name)for(;Jt[ht.name="frame "+fe._transitionData._counter++];);if(Jt[ht.name]){for(vt=0;vt<Ot.length&&(Ot[vt]||{}).name!==ht.name;vt++);rr.push({type:"replace",index:vt,value:ht}),Lr.unshift({type:"replace",index:vt,value:Ot[vt]})}else Lt=Math.max(0,Math.min(Vt[Oe].index,Tr)),rr.push({type:"insert",index:Lt,value:ht}),Lr.unshift({type:"delete",index:Lt}),Tr++}var pt=u.modifyFrames,st=u.modifyFrames,yt=[fe,Lr],Pt=[fe,rr];return g&&g.add(fe,pt,yt,st,Pt),u.modifyFrames(fe,rr)}function it(fe,ye){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);var Le,Oe,ht=fe._transitionData._frames,vt=[],Lt=[];if(!ye)for(ye=[],Le=0;Le<ht.length;Le++)ye.push(Le);for(ye=ye.slice(),ye.sort(),Le=ye.length-1;Le>=0;Le--)Oe=ye[Le],vt.push({type:"delete",index:Oe}),Lt.unshift({type:"insert",index:Oe,value:ht[Oe]});var Ot=u.modifyFrames,Jt=u.modifyFrames,qt=[fe,Lt],Vt=[fe,vt];return g&&g.add(fe,Ot,qt,Jt,Vt),u.modifyFrames(fe,vt)}function Je(fe){fe=P.getGraphDiv(fe);var ye=fe._fullLayout||{},Le=fe._fullData||[];return u.cleanPlot([],{},Le,ye),u.purge(fe),v.purge(fe),ye._container&&ye._container.remove(),delete fe._context,fe}function Re(fe){var ye=fe._fullLayout,Le=fe.getBoundingClientRect();if(!P.equalDomRects(Le,ye._lastBBox)){var Oe=ye._invTransform=P.inverseTransformMatrix(P.getFullTransformMatrix(fe));ye._invScaleX=Math.sqrt(Oe[0][0]*Oe[0][0]+Oe[0][1]*Oe[0][1]+Oe[0][2]*Oe[0][2]),ye._invScaleY=Math.sqrt(Oe[1][0]*Oe[1][0]+Oe[1][1]*Oe[1][1]+Oe[1][2]*Oe[1][2]),ye._lastBBox=Le}}function Me(fe){var ye=p.select(fe),Le=fe._fullLayout;if(Le._calcInverseTransform=Re,Le._calcInverseTransform(fe),Le._container=ye.selectAll(".plot-container").data([0]),Le._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Le._paperdiv=Le._container.selectAll(".svg-container").data([0]),Le._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Le._glcontainer=Le._paperdiv.selectAll(".gl-container").data([{}]),Le._glcontainer.enter().append("div").classed("gl-container",!0),Le._paperdiv.selectAll(".main-svg").remove(),Le._paperdiv.select(".modebar-container").remove(),Le._paper=Le._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Le._toppaper=Le._paperdiv.append("svg").classed("main-svg",!0),Le._modebardiv=Le._paperdiv.append("div"),delete Le._modeBar,Le._hoverpaper=Le._paperdiv.append("svg").classed("main-svg",!0),!Le._uid){var Oe={};p.selectAll("defs").each(function(){this.id&&(Oe[this.id.split("-")[1]]=1)}),Le._uid=P.randstr(Oe)}Le._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),Le._defs=Le._paper.append("defs").attr("id","defs-"+Le._uid),Le._clips=Le._defs.append("g").classed("clips",!0),Le._topdefs=Le._toppaper.append("defs").attr("id","topdefs-"+Le._uid),Le._topclips=Le._topdefs.append("g").classed("clips",!0),Le._bgLayer=Le._paper.append("g").classed("bglayer",!0),Le._draggers=Le._paper.append("g").classed("draglayer",!0);var ht=Le._paper.append("g").classed("layer-below",!0);Le._imageLowerLayer=ht.append("g").classed("imagelayer",!0),Le._shapeLowerLayer=ht.append("g").classed("shapelayer",!0),Le._cartesianlayer=Le._paper.append("g").classed("cartesianlayer",!0),Le._polarlayer=Le._paper.append("g").classed("polarlayer",!0),Le._smithlayer=Le._paper.append("g").classed("smithlayer",!0),Le._ternarylayer=Le._paper.append("g").classed("ternarylayer",!0),Le._geolayer=Le._paper.append("g").classed("geolayer",!0),Le._funnelarealayer=Le._paper.append("g").classed("funnelarealayer",!0),Le._pielayer=Le._paper.append("g").classed("pielayer",!0),Le._iciclelayer=Le._paper.append("g").classed("iciclelayer",!0),Le._treemaplayer=Le._paper.append("g").classed("treemaplayer",!0),Le._sunburstlayer=Le._paper.append("g").classed("sunburstlayer",!0),Le._indicatorlayer=Le._toppaper.append("g").classed("indicatorlayer",!0),Le._glimages=Le._paper.append("g").classed("glimages",!0);var vt=Le._toppaper.append("g").classed("layer-above",!0);Le._imageUpperLayer=vt.append("g").classed("imagelayer",!0),Le._shapeUpperLayer=vt.append("g").classed("shapelayer",!0),Le._selectionLayer=Le._toppaper.append("g").classed("selectionlayer",!0),Le._infolayer=Le._toppaper.append("g").classed("infolayer",!0),Le._menulayer=Le._toppaper.append("g").classed("menulayer",!0),Le._zoomlayer=Le._toppaper.append("g").classed("zoomlayer",!0),Le._hoverlayer=Le._hoverpaper.append("g").classed("hoverlayer",!0),Le._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),fe.emit("plotly_framework")}U.animate=Fe,U.addFrames=qe,U.deleteFrames=it,U.addTraces=Y,U.deleteTraces=G,U.extendTraces=re,U.moveTraces=V,U.prependTraces=oe,U.newPlot=B,U._doPlot=w,U.purge=Je,U.react=wt,U.redraw=_,U.relayout=ue,U.restyle=Z,U.setPlotConfig=i,U.update=_e,U._guiRelayout=Ve(ue),U._guiRestyle=Ve(Z),U._guiUpdate=Ve(_e),U._storeDirectGUIEdit=$},72075:function(W){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,a){for(var P in L){var A=L[P];A.valType?a[P]=A.dflt:(a[P]||(a[P]={}),p(A,a[P]))}}p(U,e),W.exports={configAttributes:U,dfltConfig:e}},86281:function(W,U,e){var p=e(73972),L=e(71828),a=e(9012),P=e(10820),A=e(31391),v=e(85594),g=e(72075).configAttributes,t=e(30962),r=L.extendDeepAll,u=L.isPlainObject,o=L.isArrayOrTypedArray,l=L.nestedProperty,c=L.valObjectMeta,n="_isSubplotObj",x="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",f=[n,x,h,T];U.IS_SUBPLOT_OBJ=n,U.IS_LINKED_TO_ARRAY=x,U.DEPRECATED=T,U.UNDERSCORE_ATTRS=f,U.get=function(){var B={};p.allTypes.forEach(function(O){B[O]=M(O)});var I={};return Object.keys(p.transformsRegistry).forEach(function(O){I[O]=y(O)}),{defs:{valObjects:c,metaKeys:f.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:B,layout:C(),transforms:I,frames:w(),animation:b(v),config:b(g)}},U.crawl=function(B,I,O,z){var k=O||0;z=z||"",Object.keys(B).forEach(function(N){var K=B[N];if(f.indexOf(N)===-1){var q=(z?z+".":"")+N;I(K,N,B,k,q),!U.isValObject(K)&&u(K)&&N!=="impliedEdits"&&U.crawl(K,I,k+1,q)}})},U.isValObject=function(B){return B&&B.valType!==void 0},U.findArrayAttributes=function(B){var I=[],O=[],z=[],k,N;function K(G,V,Z,ae){O=O.slice(0,ae).concat([V]),z=z.slice(0,ae).concat([G&&G._isLinkedToArray]);var ie=G&&(G.valType==="data_array"||G.arrayOk===!0)&&!(O[ae-1]==="colorbar"&&(V==="ticktext"||V==="tickvals"));ie&&q(k,0,"")}function q(G,V,Z){var ae=G[O[V]],ie=Z+O[V];if(V===O.length-1)o(ae)&&I.push(N+ie);else if(z[V]){if(Array.isArray(ae))for(var J=0;J<ae.length;J++)u(ae[J])&&q(ae[J],V+1,ie+"["+J+"].")}else u(ae)&&q(ae,V+1,ie+".")}k=B,N="",U.crawl(a,K),B._module&&B._module.attributes&&U.crawl(B._module.attributes,K);var Q=B.transforms;if(Q)for(var re=0;re<Q.length;re++){var oe=Q[re],Y=oe._module;Y&&(N="transforms["+re+"].",k=oe,U.crawl(Y.attributes,K))}return I},U.getTraceValObject=function(B,I){var O=I[0],z=1,k,N;if(O==="transforms"){if(I.length===1)return a.transforms;var K=B.transforms;if(!Array.isArray(K)||!K.length)return!1;var q=I[1];if(!S(q)||q>=K.length)return!1;k=(p.transformsRegistry[K[q].type]||{}).attributes,N=k&&k[I[2]],z=3}else{var Q=B._module;if(Q||(Q=(p.modules[B.type||a.type.dflt]||{})._module),!Q)return!1;if(k=Q.attributes,N=k&&k[O],!N){var re=Q.basePlotModule;re&&re.attributes&&(N=re.attributes[O])}N||(N=a[O])}return d(N,I,z)},U.getLayoutValObject=function(B,I){var O=s(B,I[0]);return d(O,I,1)};function s(B,I){var O,z,k,N,K=B._basePlotModules;if(K){var q;for(O=0;O<K.length;O++){if(k=K[O],k.attrRegex&&k.attrRegex.test(I)){if(k.layoutAttrOverrides)return k.layoutAttrOverrides;!q&&k.layoutAttributes&&(q=k.layoutAttributes)}var Q=k.baseLayoutAttrOverrides;if(Q&&I in Q)return Q[I]}if(q)return q}var re=B._modules;if(re){for(O=0;O<re.length;O++)if(N=re[O].layoutAttributes,N&&I in N)return N[I]}for(z in p.componentsRegistry){if(k=p.componentsRegistry[z],k.name==="colorscale"&&I.indexOf("coloraxis")===0)return k.layoutAttributes[I];if(!k.schema&&I===k.name)return k.layoutAttributes}return I in P?P[I]:!1}function d(B,I,O){if(!B)return!1;if(B._isLinkedToArray){if(S(I[O]))O++;else if(O<I.length)return!1}for(;O<I.length;O++){var z=B[I[O]];if(u(z))B=z;else break;if(O===I.length-1)break;if(B._isLinkedToArray){if(O++,!S(I[O]))return!1}else if(B.valType==="info_array"){O++;var k=I[O];if(!S(k))return!1;var N=B.items;if(Array.isArray(N)){if(k>=N.length)return!1;if(B.dimensions===2){if(O++,I.length===O)return B;var K=I[O];if(!S(K))return!1;B=N[k][K]}else B=N[k]}else B=N}}return B}function S(B){return B===Math.round(B)&&B>=0}function M(B){var I,O;I=p.modules[B]._module,O=I.basePlotModule;var z={};z.type=null;var k=r({},a),N=r({},I.attributes);U.crawl(N,function(Q,re,oe,Y,G){l(k,G).set(void 0),Q===void 0&&l(N,G).set(void 0)}),r(z,k),p.traceIs(B,"noOpacity")&&delete z.opacity,p.traceIs(B,"showLegend")||(delete z.showlegend,delete z.legendgroup),p.traceIs(B,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),I.selectPoints||delete z.selectedpoints,r(z,N),O.attributes&&r(z,O.attributes),z.type=B;var K={meta:I.meta||{},categories:I.categories||{},animatable:Boolean(I.animatable),type:B,attributes:b(z)};if(I.layoutAttributes){var q={};r(q,I.layoutAttributes),K.layoutAttributes=b(q)}return I.animatable||U.crawl(K,function(Q){U.isValObject(Q)&&"anim"in Q&&delete Q.anim}),K}function C(){var B={},I,O;r(B,P);for(I in p.subplotsRegistry)if(O=p.subplotsRegistry[I],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var z=0;z<O.attr.length;z++)F(B,O,O.attr[z]);else{var k=O.attr==="subplot"?O.name:O.attr;F(B,O,k)}for(I in p.componentsRegistry){O=p.componentsRegistry[I];var N=O.schema;if(N&&(N.subplots||N.layout)){var K=N.subplots;if(K&&K.xaxis&&!K.yaxis)for(var q in K.xaxis)delete B.yaxis[q];delete B.xaxis.shift,delete B.xaxis.autoshift}else O.name==="colorscale"?r(B,O.layoutAttributes):O.layoutAttributes&&_(B,O.layoutAttributes,O.name)}return{layoutAttributes:b(B)}}function y(B){var I=p.transformsRegistry[B],O=r({},I.attributes);return Object.keys(p.componentsRegistry).forEach(function(z){var k=p.componentsRegistry[z];k.schema&&k.schema.transforms&&k.schema.transforms[B]&&Object.keys(k.schema.transforms[B]).forEach(function(N){_(O,k.schema.transforms[B][N],N)})}),{attributes:b(O)}}function w(){var B={frames:r({},A)};return b(B),B.frames}function b(B){return i(B),E(B),m(B),B}function i(B){function I(z){return{valType:"string",editType:"none"}}function O(z,k,N){U.isValObject(z)?(z.arrayOk===!0||z.valType==="data_array")&&(N[k+"src"]=I()):u(z)&&(z.role="object")}U.crawl(B,O)}function E(B){function I(O,z,k){if(O){var N=O[x];N&&(delete O[x],k[z]={items:{}},k[z].items[N]=O,k[z].role="object")}}U.crawl(B,I)}function m(B){function I(O){for(var z in O)if(u(O[z]))I(O[z]);else if(Array.isArray(O[z]))for(var k=0;k<O[z].length;k++)I(O[z][k]);else O[z]instanceof RegExp&&(O[z]=O[z].toString())}I(B)}function F(B,I,O){var z=l(B,O),k=r({},I.layoutAttributes);k[n]=!0,z.set(k)}function _(B,I,O){var z=l(B,O);z.set(r(z.get()||{},I))}},44467:function(W,U,e){var p=e(71828),L=e(9012),a="templateitemname",P={name:{valType:"string",editType:"none"}};P[a]={valType:"string",editType:"calc"},U.templatedArray=function(g,t){return t._isLinkedToArray=g,t.name=P.name,t[a]=P[a],t},U.traceTemplater=function(g){var t={},r,u;for(r in g)u=g[r],Array.isArray(u)&&u.length&&(t[r]=0);function o(l){r=p.coerce(l,{},L,"type");var c={type:r,_template:null};if(r in t){u=g[r];var n=t[r]%u.length;t[r]++,c._template=u[n]}return c}return{newTrace:o}},U.newContainer=function(g,t,r){var u=g._template,o=u&&(u[t]||r&&u[r]);p.isPlainObject(o)||(o=null);var l=g[t]={_template:o};return l},U.arrayTemplater=function(g,t,r){var u=g._template,o=u&&u[v(t)],l=u&&u[t];(!Array.isArray(l)||!l.length)&&(l=[]);var c={};function n(h){var T={name:h.name,_input:h},f=T[a]=h[a];if(!A(f))return T._template=o,T;for(var s=0;s<l.length;s++){var d=l[s];if(d.name===f)return c[f]=1,T._template=d,T}return T[r]=h[r]||!1,T._template=!1,T}function x(){for(var h=[],T=0;T<l.length;T++){var f=l[T],s=f.name;if(A(s)&&!c[s]){var d={_template:f,name:s,_input:{_templateitemname:s}};d[a]=f[a],h.push(d),c[s]=1}}return h}return{newItem:n,defaultItems:x}};function A(g){return g&&typeof g=="string"}function v(g){var t=g.length-1;return g.charAt(t)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(g,t,r){var u=(p.nestedProperty(g,t).get()||[]).length,o=r._index,l=o>=u&&(r._input||{})._templateitemname;l&&(o=u);var c=t+"["+o+"]",n;function x(){n={},l&&(n[c]={},n[c][a]=l)}x();function h(d,S){n[d]=S}function T(d,S){l?p.nestedProperty(n[c],d).set(S):n[c+"."+d]=S}function f(){var d=n;return x(),d}function s(d,S){d&&T(d,S);var M=f();for(var C in M)p.nestedProperty(g,C).set(M[C])}return{modifyBase:h,modifyItem:T,getUpdateObj:f,applyUpdate:s}}},61549:function(W,U,e){var p=e(39898),L=e(73972),a=e(74875),P=e(71828),A=e(33306),v=e(7901),g=e(91424),t=e(92998),r=e(64168),u=e(89298),o=e(18783),l=e(99082),c=l.enforce,n=l.clean,x=e(71739).doAutoRange,h="start",T="middle",f="end";U.layoutStyles=function(E){return P.syncOrAsync([a.doAutoMargin,d],E)};function s(E,m,F){for(var _=0;_<F.length;_++){var B=F[_][0],I=F[_][1];if(!(B[0]>=E[1]||B[1]<=E[0])&&I[0]<m[1]&&I[1]>m[0])return!0}return!1}function d(E){var m=E._fullLayout,F=m._size,_=F.p,B=u.list(E,"",!0),I,O,z,k,N,K;if(m._paperdiv.style({width:E._context.responsive&&m.autosize&&!E._context._hasZeroWidth&&!E.layout.width?"100%":m.width+"px",height:E._context.responsive&&m.autosize&&!E._context._hasZeroHeight&&!E.layout.height?"100%":m.height+"px"}).selectAll(".main-svg").call(g.setSize,m.width,m.height),E._context.setBackground(E,m.paper_bgcolor),U.drawMainTitle(E),r.manage(E),!m._has("cartesian"))return a.previousPromises(E);function q(ke,Fe,qe){var it=ke._lw/2;if(ke._id.charAt(0)==="x"){if(Fe){if(qe==="top")return Fe._offset-_-it}else return F.t+F.h*(1-(ke.position||0))+it%1;return Fe._offset+Fe._length+_+it}if(Fe){if(qe==="right")return Fe._offset+Fe._length+_+it}else return F.l+F.w*(ke.position||0)+it%1;return Fe._offset-_-it}for(I=0;I<B.length;I++){k=B[I];var Q=k._anchorAxis;k._linepositions={},k._lw=g.crispRound(E,k.linewidth,1),k._mainLinePosition=q(k,Q,k.side),k._mainMirrorPosition=k.mirror&&Q?q(k,Q,o.OPPOSITE_SIDE[k.side]):null}var re=[],oe=[],Y=[],G=v.opacity(m.paper_bgcolor)===1&&v.opacity(m.plot_bgcolor)===1&&m.paper_bgcolor===m.plot_bgcolor;for(O in m._plots)if(z=m._plots[O],z.mainplot)z.bg&&z.bg.remove(),z.bg=void 0;else{var V=z.xaxis.domain,Z=z.yaxis.domain,ae=z.plotgroup;if(s(V,Z,Y)){var ie=ae.node(),J=z.bg=P.ensureSingle(ae,"rect","bg");ie.insertBefore(J.node(),ie.childNodes[0]),oe.push(O)}else ae.select("rect.bg").remove(),Y.push([V,Z]),G||(re.push(O),oe.push(O))}var $=m._bgLayer.selectAll(".bg").data(re);for($.enter().append("rect").classed("bg",!0),$.exit().remove(),$.each(function(ke){m._plots[ke].bg=p.select(this)}),I=0;I<oe.length;I++)z=m._plots[oe[I]],N=z.xaxis,K=z.yaxis,z.bg&&N._offset!==void 0&&K._offset!==void 0&&z.bg.call(g.setRect,N._offset-_,K._offset-_,N._length+2*_,K._length+2*_).call(v.fill,m.plot_bgcolor).style("stroke-width",0);if(!m._hasOnlyLargeSploms)for(O in m._plots){z=m._plots[O],N=z.xaxis,K=z.yaxis;var se=z.clipId="clip"+m._uid+O+"plot",ee=P.ensureSingleById(m._clips,"clipPath",se,function(ke){ke.classed("plotclip",!0).append("rect")});z.clipRect=ee.select("rect").attr({width:N._length,height:K._length}),g.setTranslate(z.plot,N._offset,K._offset);var ue,ge;z._hasClipOnAxisFalse?(ue=null,ge=se):(ue=se,ge=null),g.setClipUrl(z.plot,ue,E),z.layerClipId=ge}var Te,xe,Pe,Ie,Ae,be,_e,Ve,We,ze,Ze,ct,lt;function at(ke){return"M"+Te+","+ke+"H"+xe}function tt(ke){return"M"+N._offset+","+ke+"h"+N._length}function dt(ke){return"M"+ke+","+Ve+"V"+_e}function wt(ke){return K._shift!==void 0&&(ke+=K._shift),"M"+ke+","+K._offset+"v"+K._length}function Mt(ke,Fe,qe){if(!ke.showline||O!==ke._mainSubplot)return"";if(!ke._anchorAxis)return qe(ke._mainLinePosition);var it=Fe(ke._mainLinePosition);return ke.mirror&&(it+=Fe(ke._mainMirrorPosition)),it}for(O in m._plots){z=m._plots[O],N=z.xaxis,K=z.yaxis;var It="M0,0";S(N,O)&&(Ae=C(N,"left",K,B),Te=N._offset-(Ae?_+Ae:0),be=C(N,"right",K,B),xe=N._offset+N._length+(be?_+be:0),Pe=q(N,K,"bottom"),Ie=q(N,K,"top"),lt=!N._anchorAxis||O!==N._mainSubplot,lt&&(N.mirror==="allticks"||N.mirror==="all")&&(N._linepositions[O]=[Pe,Ie]),It=Mt(N,at,tt),lt&&N.showline&&(N.mirror==="all"||N.mirror==="allticks")&&(It+=at(Pe)+at(Ie)),z.xlines.style("stroke-width",N._lw+"px").call(v.stroke,N.showline?N.linecolor:"rgba(0,0,0,0)")),z.xlines.attr("d",It);var $e="M0,0";S(K,O)&&(Ze=C(K,"bottom",N,B),_e=K._offset+K._length+(Ze?_:0),ct=C(K,"top",N,B),Ve=K._offset-(ct?_:0),We=q(K,N,"left"),ze=q(K,N,"right"),lt=!K._anchorAxis||O!==K._mainSubplot,lt&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[O]=[We,ze]),$e=Mt(K,dt,wt),lt&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&($e+=dt(We)+dt(ze)),z.ylines.style("stroke-width",K._lw+"px").call(v.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),z.ylines.attr("d",$e)}return u.makeClipPaths(E),a.previousPromises(E)}function S(E,m){return(E.ticks||E.showline)&&(m===E._mainSubplot||E.mirror==="all"||E.mirror==="allticks")}function M(E,m,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var _=F._anchorAxis;if(!_)return!1;var B=o.FROM_BL[m];return F.side===m?_.domain[B]===E.domain[B]:F.mirror&&_.domain[1-B]===E.domain[1-B]}function C(E,m,F,_){if(M(E,m,F))return F._lw;for(var B=0;B<_.length;B++){var I=_[B];if(I._mainAxis===F._mainAxis&&M(E,m,I))return I._lw}return 0}U.drawMainTitle=function(E){var m=E._fullLayout,F=b(m),_=i(m);t.draw(E,"gtitle",{propContainer:m,propName:"title.text",placeholder:m._dfltTitle.plot,attributes:{x:y(m,F),y:w(m,_),"text-anchor":F,dy:_}})};function y(E,m){var F=E.title,_=E._size,B=0;switch(m===h?B=F.pad.l:m===f&&(B=-F.pad.r),F.xref){case"paper":return _.l+_.w*F.x+B;case"container":default:return E.width*F.x+B}}function w(E,m){var F=E.title,_=E._size,B=0;if(m==="0em"||!m?B=-F.pad.b:m===o.CAP_SHIFT+"em"&&(B=F.pad.t),F.y==="auto")return _.t/2;switch(F.yref){case"paper":return _.t+_.h-_.h*F.y+B;case"container":default:return E.height-E.height*F.y+B}}function b(E){var m=E.title,F=T;return P.isRightAnchor(m)?F=f:P.isLeftAnchor(m)&&(F=h),F}function i(E){var m=E.title,F="0em";return P.isTopAnchor(m)?F=o.CAP_SHIFT+"em":P.isMiddleAnchor(m)&&(F=o.MID_SHIFT+"em"),F}U.doTraceStyle=function(E){var m=E.calcdata,F=[],_;for(_=0;_<m.length;_++){var B=m[_],I=B[0]||{},O=I.trace||{},z=O._module||{},k=z.arraysToCalcdata;k&&k(B,O);var N=z.editStyle;N&&F.push({fn:N,cd0:I})}if(F.length){for(_=0;_<F.length;_++){var K=F[_];K.fn(E,K.cd0)}A(E),U.redrawReglTraces(E)}return a.style(E),L.getComponentMethod("legend","draw")(E),a.previousPromises(E)},U.doColorBars=function(E){return L.getComponentMethod("colorbar","draw")(E),a.previousPromises(E)},U.layoutReplot=function(E){var m=E.layout;return E.layout=void 0,L.call("_doPlot",E,"",m)},U.doLegend=function(E){return L.getComponentMethod("legend","draw")(E),a.previousPromises(E)},U.doTicksRelayout=function(E){return u.draw(E,"redraw"),E._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(E),A(E),U.redrawReglTraces(E)),U.drawMainTitle(E),a.previousPromises(E)},U.doModeBar=function(E){var m=E._fullLayout;r.manage(E);for(var F=0;F<m._basePlotModules.length;F++){var _=m._basePlotModules[F].updateFx;_&&_(E)}return a.previousPromises(E)},U.doCamera=function(E){for(var m=E._fullLayout,F=m._subplots.gl3d,_=0;_<F.length;_++){var B=m[F[_]],I=B._scene;I.setViewport(B)}},U.drawData=function(E){var m=E._fullLayout;A(E);for(var F=m._basePlotModules,_=0;_<F.length;_++)F[_].plot(E);return U.redrawReglTraces(E),a.style(E),L.getComponentMethod("selections","draw")(E),L.getComponentMethod("shapes","draw")(E),L.getComponentMethod("annotations","draw")(E),L.getComponentMethod("images","draw")(E),m._replotting=!1,a.previousPromises(E)},U.redrawReglTraces=function(E){var m=E._fullLayout;if(m._has("regl")){var F=E._fullData,_=[],B=[],I,O;for(m._hasOnlyLargeSploms&&m._splomGrid.draw(),I=0;I<F.length;I++){var z=F[I];z.visible===!0&&z._length!==0&&(z.type==="splom"?m._splomScenes[z.uid].draw():z.type==="scattergl"?P.pushUnique(_,z.xaxis+z.yaxis):z.type==="scatterpolargl"&&P.pushUnique(B,z.subplot))}for(I=0;I<_.length;I++)O=m._plots[_[I]],O._scene&&O._scene.draw();for(I=0;I<B.length;I++)O=m[B[I]]._subplot,O._scene&&O._scene.draw()}},U.doAutoRangeAndConstraints=function(E){for(var m=u.list(E,"",!0),F,_={},B=0;B<m.length;B++)if(F=m[B],!_[F._id]){_[F._id]=1,n(E,F),x(E,F);var I=F._matchGroup;if(I)for(var O in I){var z=u.getFromId(E,O);x(E,z,F.range),_[O]=1}}c(E)},U.finalDraw=function(E){L.getComponentMethod("rangeslider","draw")(E),L.getComponentMethod("rangeselector","draw")(E)},U.drawMarginPushers=function(E){L.getComponentMethod("legend","draw")(E),L.getComponentMethod("rangeselector","draw")(E),L.getComponentMethod("sliders","draw")(E),L.getComponentMethod("updatemenus","draw")(E),L.getComponentMethod("colorbar","draw")(E)}},96318:function(W,U,e){var p=e(71828),L=p.isPlainObject,a=e(86281),P=e(74875),A=e(9012),v=e(44467),g=e(72075).dfltConfig;U.makeTemplate=function(h){h=p.isPlainObject(h)?h:p.getGraphDiv(h),h=p.extendDeep({_context:g},{data:h.data,layout:h.layout}),P.supplyDefaults(h);var T=h.data||[],f=h.layout||{};f._basePlotModules=h._fullLayout._basePlotModules,f._modules=h._fullLayout._modules;var s={data:{},layout:{}};T.forEach(function(m){var F={};u(m,F,l.bind(null,m));var _=p.coerce(m,{},A,"type"),B=s.data[_];B||(B=s.data[_]=[]),B.push(F)}),u(f,s.layout,o.bind(null,f)),delete s.layout.template;var d=f.template;if(L(d)){var S=d.layout,M,C,y,w,b,i;L(S)&&t(S,s.layout);var E=d.data;if(L(E)){for(C in s.data)if(y=E[C],Array.isArray(y)){for(b=s.data[C],i=b.length,w=y.length,M=0;M<i;M++)t(y[M%w],b[M]);for(M=i;M<w;M++)b.push(p.extendDeep({},y[M]))}for(C in E)C in s.data||(s.data[C]=p.extendDeep([],E[C]))}}return s};function t(h,T){h=p.extendDeep({},h);var f=Object.keys(h).sort(),s,d;function S(b,i,E){if(L(i)&&L(b))t(b,i);else if(Array.isArray(i)&&Array.isArray(b)){var m=v.arrayTemplater({_template:h},E);for(d=0;d<i.length;d++){var F=i[d],_=m.newItem(F)._template;_&&t(_,F)}var B=m.defaultItems();for(d=0;d<B.length;d++)i.push(B[d]._template);for(d=0;d<i.length;d++)delete i[d].templateitemname}}for(s=0;s<f.length;s++){var M=f[s],C=h[M];if(M in T?S(C,T[M],M):T[M]=C,r(M)===M)for(var y in T){var w=r(y);y!==w&&w===M&&!(y in h)&&S(C,T[y],M)}}}function r(h){return h.replace(/[0-9]+$/,"")}function u(h,T,f,s,d){var S=d&&f(d);for(var M in h){var C=h[M],y=c(h,M,s),w=c(h,M,d),b=f(w);if(!b){var i=r(M);i!==M&&(w=c(h,i,d),b=f(w))}if(!(S&&S===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(C)))if(!b.valType&&L(C))u(C,T,f,y,w);else if(b._isLinkedToArray&&Array.isArray(C))for(var E=!1,m=0,F={},_=0;_<C.length;_++){var B=C[_];if(L(B)){var I=B.name;if(I)F[I]||(u(B,T,f,c(C,m,y),c(C,m,w)),m++,F[I]=1);else if(!E){var O=v.arrayDefaultKey(M),z=c(h,O,s),k=c(C,m,y);u(B,T,f,k,c(C,m,w));var N=p.nestedProperty(T,k),K=p.nestedProperty(T,z);K.set(N.get()),N.set(null),E=!0}}}else{var q=p.nestedProperty(T,y);q.set(C)}}}function o(h,T){return a.getLayoutValObject(h,p.nestedProperty({},T).parts)}function l(h,T){return a.getTraceValObject(h,p.nestedProperty({},T).parts)}function c(h,T,f){var s;return f?Array.isArray(h)?s=f+"["+T+"]":s=f+"."+T:s=T,s}U.validateTemplate=function(h,T){var f=p.extendDeep({},{_context:g,data:h.data,layout:h.layout}),s=f.layout||{};L(T)||(T=s.template||{});var d=T.layout,S=T.data,M=[];f.layout=s,f.layout.template=T,P.supplyDefaults(f);var C=f._fullLayout,y=f._fullData,w={};function b(z,k){for(var N in z)if(N.charAt(0)!=="_"&&L(z[N])){var K=r(N),q=[],Q;for(Q=0;Q<k.length;Q++)q.push(c(z,N,k[Q])),K!==N&&q.push(c(z,K,k[Q]));for(Q=0;Q<q.length;Q++)w[q[Q]]=1;b(z[N],q)}}function i(z,k){for(var N in z)if(N.indexOf("defaults")===-1&&L(z[N])){var K=c(z,N,k);w[K]?i(z[N],K):M.push({code:"unused",path:K})}}if(L(d)?(b(C,["layout"]),i(d,"layout")):M.push({code:"layout"}),!L(S))M.push({code:"data"});else{for(var E={},m,F=0;F<y.length;F++){var _=y[F];m=_.type,E[m]=(E[m]||0)+1,_._fullInput._template||M.push({code:"missing",index:_._fullInput.index,traceType:m})}for(m in S){var B=S[m].length,I=E[m]||0;B>I?M.push({code:"unused",traceType:m,templateCount:B,dataCount:I}):I>B&&M.push({code:"reused",traceType:m,templateCount:B,dataCount:I})}}function O(z,k){for(var N in z)if(N.charAt(0)!=="_"){var K=z[N],q=c(z,N,k);L(K)?(Array.isArray(z)&&K._template===!1&&K.templateitemname&&M.push({code:"missing",path:q,templateitemname:K.templateitemname}),O(K,q)):Array.isArray(K)&&n(K)&&O(K,q)}}if(O({data:y,layout:C},""),M.length)return M.map(x)};function n(h){for(var T=0;T<h.length;T++)if(L(h[T]))return!0}function x(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},403:function(W,U,e){var p=e(92770),L=e(72391),a=e(74875),P=e(71828),A=e(25095),v=e(5900),g=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function u(o,l){l=l||{};var c,n,x,h;P.isPlainObject(o)?(c=o.data||[],n=o.layout||{},x=o.config||{},h={}):(o=P.getGraphDiv(o),c=P.extendDeep([],o.data),n=P.extendDeep({},o.layout),x=o._context,h=o._fullLayout||{});function T(I){return!(I in l)||P.validate(l[I],r[I])}if(!T("width")&&l.width!==null||!T("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+P.join2(r.format.values,", "," or ")+".");var f={};function s(I,O){return P.coerce(l,f,r,I,O)}var d=s("format"),S=s("width"),M=s("height"),C=s("scale"),y=s("setBackground"),w=s("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var i=P.extendFlat({},n);S?i.width=S:l.width===null&&p(h.width)&&(i.width=h.width),M?i.height=M:l.height===null&&p(h.height)&&(i.height=h.height);var E=P.extendFlat({},x,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),m=A.getRedrawFunc(b);function F(){return new Promise(function(I){setTimeout(I,A.getDelay(b._fullLayout))})}function _(){return new Promise(function(I,O){var z=v(b,d,C),k=b._fullLayout.width,N=b._fullLayout.height;function K(){L.purge(b),document.body.removeChild(b)}if(d==="full-json"){var q=a.graphJson(b,!1,"keepdata","object",!0,!0);return q.version=t,q=JSON.stringify(q),K(),I(w?q:A.encodeJSON(q))}if(K(),d==="svg")return I(w?z:A.encodeSVG(z));var Q=document.createElement("canvas");Q.id=P.randstr(),g({format:d,width:k,height:N,scale:C,canvas:Q,svg:z,promise:!0}).then(I).catch(O)})}function B(I){return w?I.replace(A.IMAGE_URL_PREFIX,""):I}return new Promise(function(I,O){L.newPlot(b,c,i,E).then(m).then(F).then(_).then(function(z){I(B(z))}).catch(function(z){O(z)})})}W.exports=u},84936:function(W,U,e){var p=e(71828),L=e(74875),a=e(86281),P=e(72075).dfltConfig,A=p.isPlainObject,v=Array.isArray,g=p.isArrayOrTypedArray;W.exports=function(s,d){s===void 0&&(s=[]),d===void 0&&(d={});var S=a.get(),M=[],C={_context:p.extendFlat({},P)},y,w;v(s)?(C.data=p.extendDeep([],s),y=s):(C.data=[],y=[],M.push(l("array","data"))),A(d)?(C.layout=p.extendDeep({},d),w=d):(C.layout={},w={},arguments.length>1&&M.push(l("object","layout"))),L.supplyDefaults(C);for(var b=C._fullData,i=y.length,E=0;E<i;E++){var m=y[E],F=["data",E];if(!A(m)){M.push(l("object",F));continue}var _=b[E],B=_.type,I=S.traces[B].attributes;I.type={valType:"enumerated",values:[B]},_.visible===!1&&m.visible!==!1&&M.push(l("invisible",F)),t(m,_,I,M,F);var O=m.transforms,z=_.transforms;if(O){v(O)||M.push(l("array",F,["transforms"])),F.push("transforms");for(var k=0;k<O.length;k++){var N=["transforms",k],K=O[k].type;if(!A(O[k])){M.push(l("object",F,N));continue}var q=S.transforms[K]?S.transforms[K].attributes:{};q.type={valType:"enumerated",values:Object.keys(S.transforms)},t(O[k],z[k],q,M,F,N)}}}var Q=C._fullLayout,re=r(S,b);return t(w,Q,re,M,"layout"),M.length===0?void 0:M};function t(f,s,d,S,M,C){C=C||[];for(var y=Object.keys(f),w=0;w<y.length;w++){var b=y[w];if(b!=="transforms"){var i=C.slice();i.push(b);var E=f[b],m=s[b],F=n(d,b),_=(F||{}).valType,B=_==="info_array",I=_==="colorscale",O=(F||{}).items;if(!c(d,b))S.push(l("schema",M,i));else if(A(E)&&A(m)&&_!=="any")t(E,m,F,S,M,i);else if(B&&v(E)){E.length>m.length&&S.push(l("unused",M,i.concat(m.length)));var z=m.length,k=Array.isArray(O);k&&(z=Math.min(z,O.length));var N,K,q,Q,re;if(F.dimensions===2)for(K=0;K<z;K++)if(v(E[K])){E[K].length>m[K].length&&S.push(l("unused",M,i.concat(K,m[K].length)));var oe=m[K].length;for(N=0;N<(k?Math.min(oe,O[K].length):oe);N++)q=k?O[K][N]:O,Q=E[K][N],re=m[K][N],p.validate(Q,q)?re!==Q&&re!==+Q&&S.push(l("dynamic",M,i.concat(K,N),Q,re)):S.push(l("value",M,i.concat(K,N),Q))}else S.push(l("array",M,i.concat(K),E[K]));else for(K=0;K<z;K++)q=k?O[K]:O,Q=E[K],re=m[K],p.validate(Q,q)?re!==Q&&re!==+Q&&S.push(l("dynamic",M,i.concat(K),Q,re)):S.push(l("value",M,i.concat(K),Q))}else if(F.items&&!B&&v(E)){var Y=O[Object.keys(O)[0]],G=[],V,Z;for(V=0;V<m.length;V++){var ae=m[V]._index||V;if(Z=i.slice(),Z.push(ae),A(E[ae])&&A(m[V])){G.push(ae);var ie=E[ae],J=m[V];A(ie)&&ie.visible!==!1&&J.visible===!1?S.push(l("invisible",M,Z)):t(ie,J,Y,S,M,Z)}}for(V=0;V<E.length;V++)Z=i.slice(),Z.push(V),A(E[V])?G.indexOf(V)===-1&&S.push(l("unused",M,Z)):S.push(l("object",M,Z,E[V]))}else!A(E)&&A(m)?S.push(l("object",M,i,E)):!g(E)&&g(m)&&!B&&!I?S.push(l("array",M,i,E)):b in s?p.validate(E,F)?F.valType==="enumerated"&&(F.coerceNumber&&E!==+m||E!==m)&&S.push(l("dynamic",M,i,E,m)):S.push(l("value",M,i,E)):S.push(l("unused",M,i,E))}}return S}function r(f,s){for(var d=f.layout.layoutAttributes,S=0;S<s.length;S++){var M=s[S],C=f.traces[M.type],y=C.layoutAttributes;y&&(M.subplot?p.extendFlat(d[C.attributes.subplot.dflt],y):p.extendFlat(d,y))}return d}var u={object:function(f,s){var d;return f==="layout"&&s===""?d="The layout argument":f[0]==="data"&&s===""?d="Trace "+f[1]+" in the data argument":d=o(f)+"key "+s,d+" must be linked to an object container"},array:function(f,s){var d;return f==="data"?d="The data argument":d=o(f)+"key "+s,d+" must be linked to an array container"},schema:function(f,s){return o(f)+"key "+s+" is not part of the schema"},unused:function(f,s,d){var S=A(d)?"container":"key";return o(f)+S+" "+s+" did not get coerced"},dynamic:function(f,s,d,S){return[o(f)+"key",s,"(set to '"+d+"')","got reset to","'"+S+"'","during defaults."].join(" ")},invisible:function(f,s){return(s?o(f)+"item "+s:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,s,d){return[o(f)+"key "+s,"is set to an invalid value ("+d+")"].join(" ")}};function o(f){return v(f)?"In data trace "+f[1]+", ":"In "+f+", "}function l(f,s,d,S,M){d=d||"";var C,y;v(s)?(C=s[0],y=s[1]):(C=s,y=null);var w=T(d),b=u[f](s,w,S,M);return p.log(b),{code:f,container:C,trace:y,path:d,astr:w,msg:b}}function c(f,s){var d=h(s),S=d.keyMinusId,M=d.id;return S in f&&f[S]._isSubplotObj&&M?!0:s in f}function n(f,s){if(s in f)return f[s];var d=h(s);return f[d.keyMinusId]}var x=p.counterRegex("([a-z]+)");function h(f){var s=f.match(x);return{keyMinusId:s&&s[1],id:s&&s[2]}}function T(f){if(!v(f))return String(f);for(var s="",d=0;d<f.length;d++){var S=f[d];typeof S=="number"?s=s.substr(0,s.length-1)+"["+S+"]":s+=S,d<f.length-1&&(s+=".")}return s}},85594:function(W){W.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(W,U,e){var p=e(71828),L=e(44467);W.exports=function(P,A,v){var g=v.name,t=v.inclusionAttr||"visible",r=A[g],u=p.isArrayOrTypedArray(P[g])?P[g]:[],o=A[g]=[],l=L.arrayTemplater(A,g,t),c,n;for(c=0;c<u.length;c++){var x=u[c];p.isPlainObject(x)?n=l.newItem(x):(n=l.newItem({}),n[t]=!1),n._index=c,n[t]!==!1&&v.handleItemDefaults(x,n,A,v),o.push(n)}var h=l.defaultItems();for(c=0;c<h.length;c++)n=h[c],n._index=o.length,v.handleItemDefaults({},n,A,v,{}),o.push(n);if(p.isArrayOrTypedArray(r)){var T=Math.min(r.length,o.length);for(c=0;c<T;c++)p.relinkPrivateKeys(o[c],r[c])}return o}},9012:function(W,U,e){var p=e(41940),L=e(77914);W.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(W,U,e){var p=e(92770),L=e(71828),a=L.dateTime2ms,P=L.incrementMonth,A=e(50606),v=A.ONEAVGMONTH;W.exports=function(t,r,u,o){if(r.type!=="date")return{vals:o};var l=t[u+"periodalignment"];if(!l)return{vals:o};var c=t[u+"period"],n;if(p(c)){if(c=+c,c<=0)return{vals:o}}else if(typeof c=="string"&&c.charAt(0)==="M"){var x=+c.substring(1);if(x>0&&Math.round(x)===x)n=x;else return{vals:o}}for(var h=r.calendar,T=l==="start",f=l==="end",s=t[u+"period0"],d=a(s,h)||0,S=[],M=[],C=[],y=o.length,w=0;w<y;w++){var b=o[w],i,E,m;if(n){for(i=Math.round((b-d)/(n*v)),m=P(d,n*i,h);m>b;)m=P(m,-n,h);for(;m<=b;)m=P(m,n,h);E=P(m,-n,h)}else{for(i=Math.round((b-d)/c),m=d+i*c;m>b;)m-=c;for(;m<=b;)m+=c;E=m-c}S[w]=T?E:f?m:(E+m)/2,M[w]=E,C[w]=m}return{vals:S,starts:M,ends:C}}},89502:function(W){W.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(W,U,e){var p=e(39898),L=e(92770),a=e(71828),P=e(50606).FP_SAFE,A=e(73972),v=e(91424),g=e(41675),t=g.getFromId,r=g.isLinked;W.exports={getAutoRange:u,makePadFn:l,doAutoRange:h,findExtremes:T,concatExtremes:x};function u(y,w){var b,i,E=[],m=y._fullLayout,F=l(m,w,0),_=l(m,w,1),B=x(y,w),I=B.min,O=B.max;if(I.length===0||O.length===0)return a.simpleMap(w.range,w.r2l);var z=I[0].val,k=O[0].val;for(b=1;b<I.length&&z===k;b++)z=Math.min(z,I[b].val);for(b=1;b<O.length&&z===k;b++)k=Math.max(k,O[b].val);var N=!1;if(w.range){var K=a.simpleMap(w.range,w.r2l);N=K[1]<K[0]}w.autorange==="reversed"&&(N=!0,w.autorange=!0);var q=w.rangemode,Q=q==="tozero",re=q==="nonnegative",oe=w._length,Y=oe/10,G=0,V,Z,ae,ie,J,$;for(b=0;b<I.length;b++)for(V=I[b],i=0;i<O.length;i++)Z=O[i],$=Z.val-V.val-o(w,V.val,Z.val),$>0&&(J=oe-F(V)-_(Z),J>Y?$/J>G&&(ae=V,ie=Z,G=$/J):$/oe>G&&(ae={val:V.val,nopad:1},ie={val:Z.val,nopad:1},G=$/oe));function se(xe,Pe){return Math.max(xe,_(Pe))}if(z===k){var ee=z-1,ue=z+1;if(Q)if(z===0)E=[0,1];else{var ge=(z>0?O:I).reduce(se,0),Te=z/(1-Math.min(.5,ge/oe));E=z>0?[0,Te]:[Te,0]}else re?E=[Math.max(0,ee),Math.max(1,ue)]:E=[ee,ue]}else Q?(ae.val>=0&&(ae={val:0,nopad:1}),ie.val<=0&&(ie={val:0,nopad:1})):re&&(ae.val-G*F(ae)<0&&(ae={val:0,nopad:1}),ie.val<=0&&(ie={val:1,nopad:1})),G=(ie.val-ae.val-o(w,V.val,Z.val))/(oe-F(ae)-_(ie)),E=[ae.val-G*F(ae),ie.val+G*_(ie)];return N&&E.reverse(),a.simpleMap(E,w.l2r||Number)}function o(y,w,b){var i=0;if(y.rangebreaks)for(var E=y.locateBreaks(w,b),m=0;m<E.length;m++){var F=E[m];i+=F.max-F.min}return i}function l(y,w,b){var i=.05*w._length,E=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var m=w.autorange==="reversed";if(!m){var F=a.simpleMap(w.range,w.r2l);m=F[1]<F[0]}m&&(b=!b)}var _=0;return r(y,w._id)||(_=n(y,w,b)),i=Math.max(_,i),w.constrain==="domain"&&w._inputDomain&&(i*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(I){return I.nopad?0:I.pad+(I.extrapad?i:_)}}var c=3;function n(y,w,b){var i=0,E=w._id.charAt(0)==="x";for(var m in y._plots){var F=y._plots[m];if(!(w._id!==F.xaxis._id&&w._id!==F.yaxis._id)){var _=(E?F.yaxis:F.xaxis)||{};if((_.ticklabelposition||"").indexOf("inside")!==-1&&(!b&&(_.side==="left"||_.side==="bottom")||b&&(_.side==="top"||_.side==="right"))){if(_._vals){var B=a.deg2rad(_._tickAngles[_._id+"tick"]||0),I=Math.abs(Math.cos(B)),O=Math.abs(Math.sin(B));if(!_._vals[0].bb){var z=_._id+"tick",k=_._selections[z];k.each(function(oe){var Y=p.select(this),G=Y.select(".text-math-group");G.empty()&&(oe.bb=v.bBox(Y.node()))})}for(var N=0;N<_._vals.length;N++){var K=_._vals[N],q=K.bb;if(q){var Q=2*c+q.width,re=2*c+q.height;i=Math.max(i,E?Math.max(Q*I,re*O):Math.max(re*I,Q*O))}}}_.ticks==="inside"&&_.ticklabelposition==="inside"&&(i+=_.ticklen||0)}}}return i}function x(y,w,b){var i=w._id,E=y._fullData,m=y._fullLayout,F=[],_=[],B,I,O;function z(Q,re){for(B=0;B<re.length;B++){var oe=Q[re[B]],Y=(oe._extremes||{})[i];if(oe.visible===!0&&Y){for(I=0;I<Y.min.length;I++)O=Y.min[I],f(F,O.val,O.pad,{extrapad:O.extrapad});for(I=0;I<Y.max.length;I++)O=Y.max[I],s(_,O.val,O.pad,{extrapad:O.extrapad})}}}if(z(E,w._traceIndices),z(m.annotations||[],w._annIndices||[]),z(m.shapes||[],w._shapeIndices||[]),w._matchGroup&&!b){for(var k in w._matchGroup)if(k!==w._id){var N=t(y,k),K=x(y,N,!0),q=w._length/N._length;for(I=0;I<K.min.length;I++)O=K.min[I],f(F,O.val,O.pad*q,{extrapad:O.extrapad});for(I=0;I<K.max.length;I++)O=K.max[I],s(_,O.val,O.pad*q,{extrapad:O.extrapad})}}return{min:F,max:_}}function h(y,w,b){if(w.setScale(),w.autorange){w.range=b?b.slice():u(y,w),w._r=w.range.slice(),w._rl=a.simpleMap(w._r,w.r2l);var i=w._input,E={};E[w._attr+".range"]=w.range,E[w._attr+".autorange"]=w.autorange,A.call("_storeDirectGUIEdit",y.layout,y._fullLayout._preGUI,E),i.range=w.range.slice(),i.autorange=w.autorange}var m=w._anchorAxis;if(m&&m.rangeslider){var F=m.rangeslider[w._name];F&&F.rangemode==="auto"&&(F.range=u(y,w)),m._input.rangeslider[w._name]=a.extendFlat({},F)}}function T(y,w,b){b||(b={}),y._m||y.setScale();var i=[],E=[],m=w.length,F=b.padded||!1,_=b.tozero&&(y.type==="linear"||y.type==="-"),B=y.type==="log",I=!1,O=b.vpadLinearized||!1,z,k,N,K,q,Q,re,oe,Y;function G(ee){if(Array.isArray(ee))return I=!0,function(ge){return Math.max(Number(ee[ge]||0),0)};var ue=Math.max(Number(ee||0),0);return function(){return ue}}var V=G((y._m>0?b.ppadplus:b.ppadminus)||b.ppad||0),Z=G((y._m>0?b.ppadminus:b.ppadplus)||b.ppad||0),ae=G(b.vpadplus||b.vpad),ie=G(b.vpadminus||b.vpad);if(!I){if(oe=1/0,Y=-1/0,B)for(z=0;z<m;z++)k=w[z],k<oe&&k>0&&(oe=k),k>Y&&k<P&&(Y=k);else for(z=0;z<m;z++)k=w[z],k<oe&&k>-P&&(oe=k),k>Y&&k<P&&(Y=k);w=[oe,Y],m=2}var J={tozero:_,extrapad:F};function $(ee){N=w[ee],L(N)&&(Q=V(ee),re=Z(ee),O?(K=y.c2l(N)-ie(ee),q=y.c2l(N)+ae(ee)):(oe=N-ie(ee),Y=N+ae(ee),B&&oe<Y/10&&(oe=Y/10),K=y.c2l(oe),q=y.c2l(Y)),_&&(K=Math.min(0,K),q=Math.max(0,q)),S(K)&&f(i,K,re,J),S(q)&&s(E,q,Q,J))}var se=Math.min(6,m);for(z=0;z<se;z++)$(z);for(z=m-1;z>=se;z--)$(z);return{min:i,max:E,opts:b}}function f(y,w,b,i){d(y,w,b,i,M)}function s(y,w,b,i){d(y,w,b,i,C)}function d(y,w,b,i,E){for(var m=i.tozero,F=i.extrapad,_=!0,B=0;B<y.length&&_;B++){var I=y[B];if(E(I.val,w)&&I.pad>=b&&(I.extrapad||!F)){_=!1;break}else E(w,I.val)&&I.pad<=b&&(F||!I.extrapad)&&(y.splice(B,1),B--)}if(_){var O=m&&w===0;y.push({val:w,pad:O?0:b,extrapad:O?!1:F})}}function S(y){return L(y)&&Math.abs(y)<P}function M(y,w){return y<=w}function C(y,w){return y>=w}},89298:function(W,U,e){var p=e(39898),L=e(92770),a=e(74875),P=e(73972),A=e(71828),v=A.strTranslate,g=e(63893),t=e(92998),r=e(7901),u=e(91424),o=e(13838),l=e(66287),c=e(50606),n=c.ONEMAXYEAR,x=c.ONEAVGYEAR,h=c.ONEMINYEAR,T=c.ONEMAXQUARTER,f=c.ONEAVGQUARTER,s=c.ONEMINQUARTER,d=c.ONEMAXMONTH,S=c.ONEAVGMONTH,M=c.ONEMINMONTH,C=c.ONEWEEK,y=c.ONEDAY,w=y/2,b=c.ONEHOUR,i=c.ONEMIN,E=c.ONESEC,m=c.MINUS_SIGN,F=c.BADNUM,_={K:"zeroline"},B={K:"gridline",L:"path"},I={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},z={K:"tick",L:"text"},k={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},N=e(18783),K=N.MID_SHIFT,q=N.CAP_SHIFT,Q=N.LINE_SPACING,re=N.OPPOSITE_SIDE,oe=3,Y=W.exports={};Y.setConvert=e(21994);var G=e(4322),V=e(41675),Z=V.idSort,ae=V.isLinked;Y.id2name=V.id2name,Y.name2id=V.name2id,Y.cleanId=V.cleanId,Y.list=V.list,Y.listIds=V.listIds,Y.getFromId=V.getFromId,Y.getFromTrace=V.getFromTrace;var ie=e(71739);Y.getAutoRange=ie.getAutoRange,Y.findExtremes=ie.findExtremes;var J=1e-4;function $(He){var Ge=(He[1]-He[0])*J;return[He[0]-Ge,He[1]+Ge]}Y.coerceRef=function(He,Ge,Ct,Ut,Kt,Xt){var ur=Ut.charAt(Ut.length-1),Ar=Ct._fullLayout._subplots[ur+"axis"],Rr=Ut+"ref",wr={};return Kt||(Kt=Ar[0]||(typeof Xt=="string"?Xt:Xt[0])),Xt||(Xt=Kt),Ar=Ar.concat(Ar.map(function(er){return er+" domain"})),wr[Rr]={valType:"enumerated",values:Ar.concat(Xt?typeof Xt=="string"?[Xt]:Xt:[]),dflt:Kt},A.coerce(He,Ge,wr,Rr)},Y.getRefType=function(He){return He===void 0?He:He==="paper"?"paper":He==="pixel"?"pixel":/( domain)$/.test(He)?"domain":"range"},Y.coercePosition=function(He,Ge,Ct,Ut,Kt,Xt){var ur,Ar,Rr=Y.getRefType(Ut);if(Rr!=="range")ur=A.ensureNumber,Ar=Ct(Kt,Xt);else{var wr=Y.getFromId(Ge,Ut);Xt=wr.fraction2r(Xt),Ar=Ct(Kt,Xt),ur=wr.cleanPos}He[Kt]=ur(Ar)},Y.cleanPosition=function(He,Ge,Ct){var Ut=Ct==="paper"||Ct==="pixel"?A.ensureNumber:Y.getFromId(Ge,Ct).cleanPos;return Ut(He)},Y.redrawComponents=function(He,Ge){Ge=Ge||Y.listIds(He);var Ct=He._fullLayout;function Ut(Kt,Xt,ur,Ar){for(var Rr=P.getComponentMethod(Kt,Xt),wr={},er=0;er<Ge.length;er++)for(var _r=Ct[Y.id2name(Ge[er])],Vr=_r[ur],Br=0;Br<Vr.length;Br++){var yr=Vr[Br];if(!wr[yr]&&(Rr(He,yr),wr[yr]=1,Ar))return}}Ut("annotations","drawOne","_annIndices"),Ut("shapes","drawOne","_shapeIndices"),Ut("images","draw","_imgIndices",!0),Ut("selections","drawOne","_selectionIndices")};var se=Y.getDataConversions=function(He,Ge,Ct,Ut){var Kt,Xt=Ct==="x"||Ct==="y"||Ct==="z"?Ct:Ut;if(Array.isArray(Xt)){if(Kt={type:G(Ut,void 0,{autotypenumbers:He._fullLayout.autotypenumbers}),_categories:[]},Y.setConvert(Kt),Kt.type==="category")for(var ur=0;ur<Ut.length;ur++)Kt.d2c(Ut[ur])}else Kt=Y.getFromTrace(He,Ge,Xt);return Kt?{d2c:Kt.d2c,c2d:Kt.c2d}:Xt==="ids"?{d2c:ue,c2d:ue}:{d2c:ee,c2d:ee}};function ee(He){return+He}function ue(He){return String(He)}Y.getDataToCoordFunc=function(He,Ge,Ct,Ut){return se(He,Ge,Ct,Ut).d2c},Y.counterLetter=function(He){var Ge=He.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},Y.minDtick=function(He,Ge,Ct,Ut){["log","category","multicategory"].indexOf(He.type)!==-1||!Ut?He._minDtick=0:He._minDtick===void 0?(He._minDtick=Ge,He._forceTick0=Ct):He._minDtick&&((He._minDtick/Ge+1e-6)%1<2e-6&&((Ct-He._forceTick0)/Ge%1+1.000001)%1<2e-6?(He._minDtick=Ge,He._forceTick0=Ct):((Ge/He._minDtick+1e-6)%1>2e-6||((Ct-He._forceTick0)/He._minDtick%1+1.000001)%1>2e-6)&&(He._minDtick=0))},Y.saveRangeInitial=function(He,Ge){for(var Ct=Y.list(He,"",!0),Ut=!1,Kt=0;Kt<Ct.length;Kt++){var Xt=Ct[Kt],ur=Xt._rangeInitial===void 0,Ar=ur||!(Xt.range[0]===Xt._rangeInitial[0]&&Xt.range[1]===Xt._rangeInitial[1]);(ur&&Xt.autorange===!1||Ge&&Ar)&&(Xt._rangeInitial=Xt.range.slice(),Ut=!0)}return Ut},Y.saveShowSpikeInitial=function(He,Ge){for(var Ct=Y.list(He,"",!0),Ut=!1,Kt="on",Xt=0;Xt<Ct.length;Xt++){var ur=Ct[Xt],Ar=ur._showSpikeInitial===void 0,Rr=Ar||ur.showspikes!==ur._showspikes;(Ar||Ge&&Rr)&&(ur._showSpikeInitial=ur.showspikes,Ut=!0),Kt==="on"&&!ur.showspikes&&(Kt="off")}return He._fullLayout._cartesianSpikesEnabled=Kt,Ut},Y.autoBin=function(He,Ge,Ct,Ut,Kt,Xt){var ur=A.aggNums(Math.min,null,He),Ar=A.aggNums(Math.max,null,He);if(Ge.type==="category"||Ge.type==="multicategory")return{start:ur-.5,end:Ar+.5,size:Math.max(1,Math.round(Xt)||1),_dataSpan:Ar-ur};Kt||(Kt=Ge.calendar);var Rr;if(Ge.type==="log"?Rr={type:"linear",range:[ur,Ar]}:Rr={type:Ge.type,range:A.simpleMap([ur,Ar],Ge.c2r,0,Kt),calendar:Kt},Y.setConvert(Rr),Xt=Xt&&l.dtick(Xt,Rr.type),Xt)Rr.dtick=Xt,Rr.tick0=l.tick0(void 0,Rr.type,Kt);else{var wr;if(Ct)wr=(Ar-ur)/Ct;else{var er=A.distinctVals(He),_r=Math.pow(10,Math.floor(Math.log(er.minDiff)/Math.LN10)),Vr=_r*A.roundUp(er.minDiff/_r,[.9,1.9,4.9,9.9],!0);wr=Math.max(Vr,2*A.stdev(He)/Math.pow(He.length,Ut?.25:.4)),L(wr)||(wr=1)}Y.autoTicks(Rr,wr)}var Br=Rr.dtick,yr=Y.tickIncrement(Y.tickFirst(Rr),Br,"reverse",Kt),pn,an;if(typeof Br=="number")yr=ge(yr,He,Rr,ur,Ar),an=1+Math.floor((Ar-yr)/Br),pn=yr+an*Br;else for(Rr.dtick.charAt(0)==="M"&&(yr=Te(yr,He,Br,ur,Kt)),pn=yr,an=0;pn<=Ar;)pn=Y.tickIncrement(pn,Br,!1,Kt),an++;return{start:Ge.c2r(yr,0,Kt),end:Ge.c2r(pn,0,Kt),size:Br,_dataSpan:Ar-ur}};function ge(He,Ge,Ct,Ut,Kt){var Xt=0,ur=0,Ar=0,Rr=0;function wr(Br){return(1+(Br-He)*100/Ct.dtick)%100<2}for(var er=0;er<Ge.length;er++)Ge[er]%1===0?Ar++:L(Ge[er])||Rr++,wr(Ge[er])&&Xt++,wr(Ge[er]+Ct.dtick/2)&&ur++;var _r=Ge.length-Rr;if(Ar===_r&&Ct.type!=="date")Ct.dtick<1?He=Ut-.5*Ct.dtick:(He-=.5,He+Ct.dtick<Ut&&(He+=Ct.dtick));else if(ur<_r*.1&&(Xt>_r*.3||wr(Ut)||wr(Kt))){var Vr=Ct.dtick/2;He+=He+Vr<Ut?Vr:-Vr}return He}function Te(He,Ge,Ct,Ut,Kt){var Xt=A.findExactDates(Ge,Kt),ur=.8;if(Xt.exactDays>ur){var Ar=Number(Ct.substr(1));Xt.exactYears>ur&&Ar%12===0?He=Y.tickIncrement(He,"M6","reverse")+y*1.5:Xt.exactMonths>ur?He=Y.tickIncrement(He,"M1","reverse")+y*15.5:He-=w;var Rr=Y.tickIncrement(He,Ct);if(Rr<=Ut)return Rr}return He}Y.prepMinorTicks=function(He,Ge,Ct){if(!Ge.minor.dtick){delete He.dtick;var Ut=Ge.dtick&&L(Ge._tmin),Kt;if(Ut){var Xt=Y.tickIncrement(Ge._tmin,Ge.dtick,!0);Kt=[Ge._tmin,Xt*.99+Ge._tmin*.01]}else{var ur=A.simpleMap(Ge.range,Ge.r2l);Kt=[ur[0],.8*ur[0]+.2*ur[1]]}if(He.range=A.simpleMap(Kt,Ge.l2r),He._isMinor=!0,Y.prepTicks(He,Ct),Ut){var Ar=L(Ge.dtick),Rr=L(He.dtick),wr=Ar?Ge.dtick:+Ge.dtick.substring(1),er=Rr?He.dtick:+He.dtick.substring(1);Ar&&Rr?xe(wr,er)?wr===2*C&&er===2*y&&(He.dtick=C):wr===2*C&&er===3*y?He.dtick=C:wr===C&&!(Ge._input.minor||{}).nticks?He.dtick=y:Pe(wr/er,2.5)?He.dtick=wr/2:He.dtick=wr:String(Ge.dtick).charAt(0)==="M"?Rr?He.dtick="M1":xe(wr,er)?wr>=12&&er===2&&(He.dtick="M3"):He.dtick=Ge.dtick:String(He.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?xe(wr,er)||(He.dtick=Pe(wr/er,2.5)?Ge.dtick/2:Ge.dtick):He.dtick="D1":He.dtick==="D2"&&+Ge.dtick>1&&(He.dtick=1)}He.range=Ge.range}Ge.minor._tick0Init===void 0&&(He.tick0=Ge.tick0)};function xe(He,Ge){return Math.abs((He/Ge+.5)%1-.5)<.001}function Pe(He,Ge){return Math.abs(He/Ge-1)<.001}Y.prepTicks=function(He,Ge){var Ct=A.simpleMap(He.range,He.r2l,void 0,void 0,Ge);if(He.tickmode==="auto"||!He.dtick){var Ut=He.nticks,Kt;Ut||(He.type==="category"||He.type==="multicategory"?(Kt=He.tickfont?A.bigFont(He.tickfont.size||12):15,Ut=He._length/Kt):(Kt=He._id.charAt(0)==="y"?40:80,Ut=A.constrain(He._length/Kt,4,9)+1),He._name==="radialaxis"&&(Ut*=2)),He.minor&&He.minor.tickmode!=="array"||He.tickmode==="array"&&(Ut*=100),He._roughDTick=Math.abs(Ct[1]-Ct[0])/Ut,Y.autoTicks(He,He._roughDTick),He._minDtick>0&&He.dtick<He._minDtick*2&&(He.dtick=He._minDtick,He.tick0=He.l2r(He._forceTick0))}He.ticklabelmode==="period"&&Ae(He),He.tick0||(He.tick0=He.type==="date"?"2000-01-01":0),He.type==="date"&&He.dtick<.1&&(He.dtick=.1),dt(He)};function Ie(He){return+He.substring(1)}function Ae(He){var Ge;function Ct(){return!(L(He.dtick)||He.dtick.charAt(0)!=="M")}var Ut=Ct(),Kt=Y.getTickFormat(He);if(Kt){var Xt=He._dtickInit!==He.dtick;/%[fLQsSMX]/.test(Kt)||(/%[HI]/.test(Kt)?(Ge=b,Xt&&!Ut&&He.dtick<b&&(He.dtick=b)):/%p/.test(Kt)?(Ge=w,Xt&&!Ut&&He.dtick<w&&(He.dtick=w)):/%[Aadejuwx]/.test(Kt)?(Ge=y,Xt&&!Ut&&He.dtick<y&&(He.dtick=y)):/%[UVW]/.test(Kt)?(Ge=C,Xt&&!Ut&&He.dtick<C&&(He.dtick=C)):/%[Bbm]/.test(Kt)?(Ge=S,Xt&&(Ut?Ie(He.dtick)<1:He.dtick<M)&&(He.dtick="M1")):/%[q]/.test(Kt)?(Ge=f,Xt&&(Ut?Ie(He.dtick)<3:He.dtick<s)&&(He.dtick="M3")):/%[Yy]/.test(Kt)&&(Ge=x,Xt&&(Ut?Ie(He.dtick)<12:He.dtick<h)&&(He.dtick="M12")))}Ut=Ct(),Ut&&He.tick0===He._dowTick0&&(He.tick0=He._rawTick0),He._definedDelta=Ge}function be(He,Ge,Ct){for(var Ut=0;Ut<He.length;Ut++){var Kt=He[Ut].value,Xt=Ut,ur=Ut+1;Ut<He.length-1?(Xt=Ut,ur=Ut+1):Ut>0?(Xt=Ut-1,ur=Ut):(Xt=Ut,ur=Ut);var Ar=He[Xt].value,Rr=He[ur].value,wr=Math.abs(Rr-Ar),er=Ct||wr,_r=0;er>=h?wr>=h&&wr<=n?_r=wr:_r=x:Ct===f&&er>=s?wr>=s&&wr<=T?_r=wr:_r=f:er>=M?wr>=M&&wr<=d?_r=wr:_r=S:Ct===C&&er>=C?_r=C:er>=y?_r=y:Ct===w&&er>=w?_r=w:Ct===b&&er>=b&&(_r=b);var Vr;_r>=wr&&(_r=wr,Vr=!0);var Br=Kt+_r;if(Ge.rangebreaks&&_r>0){for(var yr=84,pn=0,an=0;an<yr;an++){var Zr=(an+.5)/yr;Ge.maskBreaks(Kt*(1-Zr)+Zr*Br)!==F&&pn++}_r*=pn/yr,_r||(He[Ut].drop=!0),Vr&&wr>C&&(_r=wr)}(_r>0||Ut===0)&&(He[Ut].periodX=Kt+_r/2)}}Y.calcTicks=function(Ge,Ct){for(var Ut=Ge.type,Kt=Ge.calendar,Xt=Ge.ticklabelstep,ur=Ge.ticklabelmode==="period",Ar=A.simpleMap(Ge.range,Ge.r2l,void 0,void 0,Ct),Rr=Ar[1]<Ar[0],wr=Math.min(Ar[0],Ar[1]),er=Math.max(Ar[0],Ar[1]),_r=Math.max(1e3,Ge._length||0),Vr=[],Br=[],yr=[],pn=[],an=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),Zr=1;Zr>=(an?0:1);Zr--){var Nn=!Zr;Zr?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var fn=Zr?Ge:A.extendFlat({},Ge,Ge.minor);if(Nn?Y.prepMinorTicks(fn,Ge,Ct):Y.prepTicks(fn,Ct),fn.tickmode==="array"){Zr?(yr=[],Vr=_e(Ge)):(pn=[],Br=_e(Ge));continue}var xn=$(Ar),On=xn[0],br=xn[1],Ir=L(fn.dtick),jr=Ut==="log"&&!(Ir||fn.dtick.charAt(0)==="L"),Wr=Y.tickFirst(fn,Ct);if(Zr){if(Ge._tmin=Wr,Wr<On!==Rr)break;(Ut==="category"||Ut==="multicategory")&&(br=Rr?Math.max(-.5,br):Math.min(Ge._categories.length-.5,br))}var An=null,wn=Wr,Tn;if(Zr){var Rn;Ir?Rn=Ge.dtick:Ut==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(Rn=S*Ge.dtick.substring(1)):Rn=Ge._roughDTick,Tn=Math.round((Ge.r2l(wn)-Ge.r2l(Ge.tick0))/Rn)-1}var Gn=fn.dtick;for(fn.rangebreaks&&fn._tick0Init!==fn.tick0&&(wn=Nt(wn,Ge),Rr||(wn=Y.tickIncrement(wn,Gn,!Rr,Kt))),Zr&&ur&&(wn=Y.tickIncrement(wn,Gn,!Rr,Kt),Tn--);Rr?wn>=br:wn<=br;wn=Y.tickIncrement(wn,Gn,Rr,Kt)){if(Zr&&Tn++,fn.rangebreaks&&!Rr){if(wn<On)continue;if(fn.maskBreaks(wn)===F&&Nt(wn,fn)>=er)break}if(yr.length>_r||wn===An)break;An=wn;var ma={value:wn};Zr?(jr&&wn!==(wn|0)&&(ma.simpleLabel=!0),Xt>1&&Tn%Xt&&(ma.skipLabel=!0),yr.push(ma)):(ma.minor=!0,pn.push(ma))}}if(an){var pa=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!pa){for(var ua=yr.map(function(ft){return ft.value}),xa=[],ga=0;ga<pn.length;ga++){var Or=pn[ga],cn=Or.value;if(ua.indexOf(cn)===-1){for(var vn=!1,Cn=0;!vn&&Cn<yr.length;Cn++)1e7+yr[Cn].value===1e7+cn&&(vn=!0);vn||xa.push(Or)}}pn=xa}}ur&&be(yr,Ge,Ge._definedDelta);var Wn;if(Ge.rangebreaks){var Fn=Ge._id.charAt(0)==="y",Hn=1;Ge.tickmode==="auto"&&(Hn=Ge.tickfont?Ge.tickfont.size:12);var Xn=NaN;for(Wn=yr.length-1;Wn>-1;Wn--){if(yr[Wn].drop){yr.splice(Wn,1);continue}yr[Wn].value=Nt(yr[Wn].value,Ge);var sa=Ge.c2p(yr[Wn].value);(Fn?Xn>sa-Hn:Xn<sa+Hn)?yr.splice(Rr?Wn+1:Wn,1):Xn=sa}}Dt(Ge)&&Math.abs(Ar[1]-Ar[0])===360&&yr.pop(),Ge._tmax=(yr[yr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var ka,oi=function(ft){ft.text="",Ge._prevDateHead=ka};yr=yr.concat(pn);var ar,me;for(Wn=0;Wn<yr.length;Wn++){var Ue=yr[Wn].minor,et=yr[Wn].value;Ue?Br.push({x:et,minor:!0}):(ka=Ge._prevDateHead,ar=Y.tickText(Ge,et,!1,yr[Wn].simpleLabel),me=yr[Wn].periodX,me!==void 0&&(ar.periodX=me,(me>er||me<wr)&&(me>er&&(ar.periodX=er),me<wr&&(ar.periodX=wr),oi(ar))),yr[Wn].skipLabel&&oi(ar),Vr.push(ar))}return Vr=Vr.concat(Br),Ge._inCalcTicks=!1,ur&&Vr.length&&(Vr[0].noTick=!0),Vr};function _e(He){var Ge=A.simpleMap(He.range,He.r2l),Ct=$(Ge),Ut=Math.min(Ct[0],Ct[1]),Kt=Math.max(Ct[0],Ct[1]),Xt=He.type==="category"?He.d2l_noadd:He.d2l;He.type==="log"&&String(He.dtick).charAt(0)!=="L"&&(He.dtick="L"+Math.pow(10,Math.floor(Math.min(He.range[0],He.range[1]))-1));for(var ur=[],Ar=0;Ar<=1;Ar++)if(!(Ar&&!He.minor)){var Rr=Ar?He.minor.tickvals:He.tickvals,wr=Ar?[]:He.ticktext;if(Rr){Array.isArray(wr)||(wr=[]);for(var er=0;er<Rr.length;er++){var _r=Xt(Rr[er]);if(_r>Ut&&_r<Kt){var Vr=wr[er]===void 0?Y.tickText(He,_r):wt(He,_r,String(wr[er]));Ar&&(Vr.minor=!0,Vr.text=""),ur.push(Vr)}}}}return He.rangebreaks&&(ur=ur.filter(function(Br){return He.maskBreaks(Br.x)!==F})),ur}var Ve=[2,5,10],We=[1,2,3,6,12],ze=[1,2,5,10,15,30],Ze=[1,2,3,7,14],ct=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],lt=[-.301,0,.301,.699,1],at=[15,30,45,90,180];function tt(He,Ge,Ct){return Ge*A.roundUp(He/Ge,Ct)}Y.autoTicks=function(He,Ge,Ct){var Ut;function Kt(_r){return Math.pow(_r,Math.floor(Math.log(Ge)/Math.LN10))}if(He.type==="date"){He.tick0=A.dateTick0(He.calendar,0);var Xt=2*Ge;if(Xt>x)Ge/=x,Ut=Kt(10),He.dtick="M"+12*tt(Ge,Ut,Ve);else if(Xt>S)Ge/=S,He.dtick="M"+tt(Ge,1,We);else if(Xt>y){if(He.dtick=tt(Ge,y,He._hasDayOfWeekBreaks?[1,2,7,14]:Ze),!Ct){var ur=Y.getTickFormat(He),Ar=He.ticklabelmode==="period";Ar&&(He._rawTick0=He.tick0),/%[uVW]/.test(ur)?He.tick0=A.dateTick0(He.calendar,2):He.tick0=A.dateTick0(He.calendar,1),Ar&&(He._dowTick0=He.tick0)}}else Xt>b?He.dtick=tt(Ge,b,We):Xt>i?He.dtick=tt(Ge,i,ze):Xt>E?He.dtick=tt(Ge,E,ze):(Ut=Kt(10),He.dtick=tt(Ge,Ut,Ve))}else if(He.type==="log"){He.tick0=0;var Rr=A.simpleMap(He.range,He.r2l);if(He._isMinor&&(Ge*=1.5),Ge>.7)He.dtick=Math.ceil(Ge);else if(Math.abs(Rr[1]-Rr[0])<1){var wr=1.5*Math.abs((Rr[1]-Rr[0])/Ge);Ge=Math.abs(Math.pow(10,Rr[1])-Math.pow(10,Rr[0]))/wr,Ut=Kt(10),He.dtick="L"+tt(Ge,Ut,Ve)}else He.dtick=Ge>.3?"D2":"D1"}else He.type==="category"||He.type==="multicategory"?(He.tick0=0,He.dtick=Math.ceil(Math.max(Ge,1))):Dt(He)?(He.tick0=0,Ut=1,He.dtick=tt(Ge,Ut,at)):(He.tick0=0,Ut=Kt(10),He.dtick=tt(Ge,Ut,Ve));if(He.dtick===0&&(He.dtick=1),!L(He.dtick)&&typeof He.dtick!="string"){var er=He.dtick;throw He.dtick=1,"ax.dtick error: "+String(er)}};function dt(He){var Ge=He.dtick;if(He._tickexponent=0,!L(Ge)&&typeof Ge!="string"&&(Ge=1),(He.type==="category"||He.type==="multicategory")&&(He._tickround=null),He.type==="date"){var Ct=He.r2l(He.tick0),Ut=He.l2r(Ct).replace(/(^-|i)/g,""),Kt=Ut.length;if(String(Ge).charAt(0)==="M")Kt>10||Ut.substr(5)!=="01-01"?He._tickround="d":He._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=y&&Kt<=10||Ge>=y*15)He._tickround="d";else if(Ge>=i&&Kt<=16||Ge>=b)He._tickround="M";else if(Ge>=E&&Kt<=19||Ge>=i)He._tickround="S";else{var Xt=He.l2r(Ct+Ge).replace(/^-/,"").length;He._tickround=Math.max(Kt,Xt)-20,He._tickround<0&&(He._tickround=4)}}else if(L(Ge)||Ge.charAt(0)==="L"){var ur=He.range.map(He.r2d||Number);L(Ge)||(Ge=Number(Ge.substr(1))),He._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var Ar=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Rr=Math.floor(Math.log(Ar)/Math.LN10+.01),wr=He.minexponent===void 0?3:He.minexponent;Math.abs(Rr)>wr&&(Re(He.exponentformat)&&!Me(Rr)?He._tickexponent=3*Math.round((Rr-1)/3):He._tickexponent=Rr)}else He._tickround=null}Y.tickIncrement=function(He,Ge,Ct,Ut){var Kt=Ct?-1:1;if(L(Ge))return A.increment(He,Kt*Ge);var Xt=Ge.charAt(0),ur=Kt*Number(Ge.substr(1));if(Xt==="M")return A.incrementMonth(He,ur,Ut);if(Xt==="L")return Math.log(Math.pow(10,He)+ur)/Math.LN10;if(Xt==="D"){var Ar=Ge==="D2"?lt:ct,Rr=He+Kt*.01,wr=A.roundUp(A.mod(Rr,1),Ar,Ct);return Math.floor(Rr)+Math.log(p.round(Math.pow(10,wr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Y.tickFirst=function(He,Ge){var Ct=He.r2l||Number,Ut=A.simpleMap(He.range,Ct,void 0,void 0,Ge),Kt=Ut[1]<Ut[0],Xt=Kt?Math.floor:Math.ceil,ur=$(Ut)[0],Ar=He.dtick,Rr=Ct(He.tick0);if(L(Ar)){var wr=Xt((ur-Rr)/Ar)*Ar+Rr;return(He.type==="category"||He.type==="multicategory")&&(wr=A.constrain(wr,0,He._categories.length-1)),wr}var er=Ar.charAt(0),_r=Number(Ar.substr(1));if(er==="M"){for(var Vr=0,Br=Rr,yr,pn,an;Vr<10;){if(yr=Y.tickIncrement(Br,Ar,Kt,He.calendar),(yr-ur)*(Br-ur)<=0)return Kt?Math.min(Br,yr):Math.max(Br,yr);pn=(ur-(Br+yr)/2)/(yr-Br),an=er+(Math.abs(Math.round(pn))||1)*_r,Br=Y.tickIncrement(Br,an,pn<0?!Kt:Kt,He.calendar),Vr++}return A.error("tickFirst did not converge",He),Br}else{if(er==="L")return Math.log(Xt((Math.pow(10,ur)-Rr)/_r)*_r+Rr)/Math.LN10;if(er==="D"){var Zr=Ar==="D2"?lt:ct,Nn=A.roundUp(A.mod(ur,1),Zr,Kt);return Math.floor(ur)+Math.log(p.round(Math.pow(10,Nn),1))/Math.LN10}else throw"unrecognized dtick "+String(Ar)}},Y.tickText=function(He,Ge,Ct,Ut){var Kt=wt(He,Ge),Xt=He.tickmode==="array",ur=Ct||Xt,Ar=He.type,Rr=Ar==="category"?He.d2l_noadd:He.d2l,wr;if(Xt&&Array.isArray(He.ticktext)){var er=A.simpleMap(He.range,He.r2l),_r=(Math.abs(er[1]-er[0])-(He._lBreaks||0))/1e4;for(wr=0;wr<He.ticktext.length&&!(Math.abs(Ge-Rr(He.tickvals[wr]))<_r);wr++);if(wr<He.ticktext.length)return Kt.text=String(He.ticktext[wr]),Kt}function Vr(pn){if(pn===void 0)return!0;if(Ct)return pn==="none";var an={first:He._tmin,last:He._tmax}[pn];return pn!=="all"&&Ge!==an}var Br=Ct?"never":He.exponentformat!=="none"&&Vr(He.showexponent)?"hide":"";if(Ar==="date"?Mt(He,Kt,Ct,ur):Ar==="log"?It(He,Kt,Ct,ur,Br):Ar==="category"?$e(He,Kt):Ar==="multicategory"?ke(He,Kt,Ct):Dt(He)?qe(He,Kt,Ct,ur,Br):Fe(He,Kt,Ct,ur,Br),Ut||(He.tickprefix&&!Vr(He.showtickprefix)&&(Kt.text=He.tickprefix+Kt.text),He.ticksuffix&&!Vr(He.showticksuffix)&&(Kt.text+=He.ticksuffix)),He.tickson==="boundaries"||He.showdividers){var yr=function(pn){var an=He.l2p(pn);return an>=0&&an<=He._length?pn:null};Kt.xbnd=[yr(Kt.x-.5),yr(Kt.x+He.dtick-.5)]}return Kt},Y.hoverLabelText=function(He,Ge,Ct){Ct&&(He=A.extendFlat({},He,{hoverformat:Ct}));var Ut=Array.isArray(Ge)?Ge[0]:Ge,Kt=Array.isArray(Ge)?Ge[1]:void 0;if(Kt!==void 0&&Kt!==Ut)return Y.hoverLabelText(He,Ut,Ct)+" - "+Y.hoverLabelText(He,Kt,Ct);var Xt=He.type==="log"&&Ut<=0,ur=Y.tickText(He,He.c2l(Xt?-Ut:Ut),"hover").text;return Xt?Ut===0?"0":m+ur:ur};function wt(He,Ge,Ct){var Ut=He.tickfont||{};return{x:Ge,dx:0,dy:0,text:Ct||"",fontSize:Ut.size,font:Ut.family,fontColor:Ut.color}}function Mt(He,Ge,Ct,Ut){var Kt=He._tickround,Xt=Ct&&He.hoverformat||Y.getTickFormat(He);Ut&&(L(Kt)?Kt=4:Kt={y:"m",m:"d",d:"M",M:"S",S:4}[Kt]);var ur=A.formatDate(Ge.x,Xt,Kt,He._dateFormat,He.calendar,He._extraFormat),Ar,Rr=ur.indexOf(`
`);if(Rr!==-1&&(Ar=ur.substr(Rr+1),ur=ur.substr(0,Rr)),Ut&&(ur==="00:00:00"||ur==="00:00"?(ur=Ar,Ar=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),Ar)if(Ct)Kt==="d"?ur+=", "+Ar:ur=Ar+(ur?", "+ur:"");else if(!He._inCalcTicks||He._prevDateHead!==Ar)He._prevDateHead=Ar,ur+="<br>"+Ar;else{var wr=Zt(He),er=He._trueSide||He.side;(!wr&&er==="top"||wr&&er==="bottom")&&(ur+="<br> ")}Ge.text=ur}function It(He,Ge,Ct,Ut,Kt){var Xt=He.dtick,ur=Ge.x,Ar=He.tickformat,Rr=typeof Xt=="string"&&Xt.charAt(0);if(Kt==="never"&&(Kt=""),Ut&&Rr!=="L"&&(Xt="L3",Rr="L"),Ar||Rr==="L")Ge.text=fe(Math.pow(10,ur),He,Kt,Ut);else if(L(Xt)||Rr==="D"&&A.mod(ur+.01,1)<.1){var wr=Math.round(ur),er=Math.abs(wr),_r=He.exponentformat;_r==="power"||Re(_r)&&Me(wr)?(wr===0?Ge.text=1:wr===1?Ge.text="10":Ge.text="10<sup>"+(wr>1?"":m)+er+"</sup>",Ge.fontSize*=1.25):(_r==="e"||_r==="E")&&er>2?Ge.text="1"+_r+(wr>0?"+":m)+er:(Ge.text=fe(Math.pow(10,ur),He,"","fakehover"),Xt==="D1"&&He._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Rr==="D")Ge.text=String(Math.round(Math.pow(10,A.mod(ur,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(Xt);if(He.dtick==="D1"){var Vr=String(Ge.text).charAt(0);(Vr==="0"||Vr==="1")&&(He._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(He.range[1]>He.range[0]?1:-1)*Ge.fontSize*(ur<0?.5:.25)))}}function $e(He,Ge){var Ct=He._categories[Math.round(Ge.x)];Ct===void 0&&(Ct=""),Ge.text=String(Ct)}function ke(He,Ge,Ct){var Ut=Math.round(Ge.x),Kt=He._categories[Ut]||[],Xt=Kt[1]===void 0?"":String(Kt[1]),ur=Kt[0]===void 0?"":String(Kt[0]);Ct?Ge.text=ur+" - "+Xt:(Ge.text=Xt,Ge.text2=ur)}function Fe(He,Ge,Ct,Ut,Kt){Kt==="never"?Kt="":He.showexponent==="all"&&Math.abs(Ge.x/He.dtick)<1e-6&&(Kt="hide"),Ge.text=fe(Ge.x,He,Kt,Ut)}function qe(He,Ge,Ct,Ut,Kt){if(He.thetaunit==="radians"&&!Ct){var Xt=Ge.x/180;if(Xt===0)Ge.text="0";else{var ur=it(Xt);if(ur[1]>=100)Ge.text=fe(A.deg2rad(Ge.x),He,Kt,Ut);else{var Ar=Ge.x<0;ur[1]===1?ur[0]===1?Ge.text="π":Ge.text=ur[0]+"π":Ge.text=["<sup>",ur[0],"</sup>","⁄","<sub>",ur[1],"</sub>","π"].join(""),Ar&&(Ge.text=m+Ge.text)}}}else Ge.text=fe(Ge.x,He,Kt,Ut)}function it(He){function Ge(Ar,Rr){return Math.abs(Ar-Rr)<=1e-6}function Ct(Ar,Rr){return Ge(Rr,0)?Ar:Ct(Rr,Ar%Rr)}function Ut(Ar){for(var Rr=1;!Ge(Math.round(Ar*Rr)/Rr,Ar);)Rr*=10;return Rr}var Kt=Ut(He),Xt=He*Kt,ur=Math.abs(Ct(Xt,Kt));return[Math.round(Xt/ur),Math.round(Kt/ur)]}var Je=["f","p","n","μ","m","","k","M","G","T"];function Re(He){return He==="SI"||He==="B"}function Me(He){return He>14||He<-15}function fe(He,Ge,Ct,Ut){var Kt=He<0,Xt=Ge._tickround,ur=Ct||Ge.exponentformat||"B",Ar=Ge._tickexponent,Rr=Y.getTickFormat(Ge),wr=Ge.separatethousands;if(Ut){var er={exponentformat:ur,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:L(He)&&Math.abs(He)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,He||1]};dt(er),Xt=(Number(er._tickround)||0)+4,Ar=er._tickexponent,Ge.hoverformat&&(Rr=Ge.hoverformat)}if(Rr)return Ge._numFormat(Rr)(He).replace(/-/g,m);var _r=Math.pow(10,-Xt)/2;if(ur==="none"&&(Ar=0),He=Math.abs(He),He<_r)He="0",Kt=!1;else{if(He+=_r,Ar&&(He*=Math.pow(10,-Ar),Xt+=Ar),Xt===0)He=String(Math.floor(He));else if(Xt<0){He=String(Math.round(He)),He=He.substr(0,He.length+Xt);for(var Vr=Xt;Vr<0;Vr++)He+="0"}else{He=String(He);var Br=He.indexOf(".")+1;Br&&(He=He.substr(0,Br+Xt).replace(/\.?0+$/,""))}He=A.numSeparate(He,Ge._separators,wr)}if(Ar&&ur!=="hide"){Re(ur)&&Me(Ar)&&(ur="power");var yr;Ar<0?yr=m+-Ar:ur!=="power"?yr="+"+Ar:yr=String(Ar),ur==="e"||ur==="E"?He+=ur+yr:ur==="power"?He+="×10<sup>"+yr+"</sup>":ur==="B"&&Ar===9?He+="B":Re(ur)&&(He+=Je[Ar/3+5])}return Kt?m+He:He}Y.getTickFormat=function(He){var Ge;function Ct(Rr){return typeof Rr!="string"?Rr:Number(Rr.replace("M",""))*S}function Ut(Rr,wr){var er=["L","D"];if(typeof Rr==typeof wr){if(typeof Rr=="number")return Rr-wr;var _r=er.indexOf(Rr.charAt(0)),Vr=er.indexOf(wr.charAt(0));return _r===Vr?Number(Rr.replace(/(L|D)/g,""))-Number(wr.replace(/(L|D)/g,"")):_r-Vr}else return typeof Rr=="number"?1:-1}function Kt(Rr,wr,er){var _r=er||function(yr){return yr},Vr=wr[0],Br=wr[1];return(!Vr&&typeof Vr!="number"||_r(Vr)<=_r(Rr))&&(!Br&&typeof Br!="number"||_r(Br)>=_r(Rr))}function Xt(Rr,wr){var er=wr[0]===null,_r=wr[1]===null,Vr=Ut(Rr,wr[0])>=0,Br=Ut(Rr,wr[1])<=0;return(er||Vr)&&(_r||Br)}var ur,Ar;if(He.tickformatstops&&He.tickformatstops.length>0)switch(He.type){case"date":case"linear":{for(Ge=0;Ge<He.tickformatstops.length;Ge++)if(Ar=He.tickformatstops[Ge],Ar.enabled&&Kt(He.dtick,Ar.dtickrange,Ct)){ur=Ar;break}break}case"log":{for(Ge=0;Ge<He.tickformatstops.length;Ge++)if(Ar=He.tickformatstops[Ge],Ar.enabled&&Xt(He.dtick,Ar.dtickrange)){ur=Ar;break}break}}return ur?ur.value:He.tickformat},Y.getSubplots=function(He,Ge){var Ct=He._fullLayout._subplots,Ut=Ct.cartesian.concat(Ct.gl2d||[]),Kt=Ge?Y.findSubplotsWithAxis(Ut,Ge):Ut;return Kt.sort(function(Xt,ur){var Ar=Xt.substr(1).split("y"),Rr=ur.substr(1).split("y");return Ar[0]===Rr[0]?+Ar[1]-+Rr[1]:+Ar[0]-+Rr[0]}),Kt},Y.findSubplotsWithAxis=function(He,Ge){for(var Ct=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),Ut=[],Kt=0;Kt<He.length;Kt++){var Xt=He[Kt];Ct.test(Xt)&&Ut.push(Xt)}return Ut},Y.makeClipPaths=function(He){var Ge=He._fullLayout;if(!Ge._hasOnlyLargeSploms){var Ct={_offset:0,_length:Ge.width,_id:""},Ut={_offset:0,_length:Ge.height,_id:""},Kt=Y.list(He,"x",!0),Xt=Y.list(He,"y",!0),ur=[],Ar,Rr;for(Ar=0;Ar<Kt.length;Ar++)for(ur.push({x:Kt[Ar],y:Ut}),Rr=0;Rr<Xt.length;Rr++)Ar===0&&ur.push({x:Ct,y:Xt[Rr]}),ur.push({x:Kt[Ar],y:Xt[Rr]});var wr=Ge._clips.selectAll(".axesclip").data(ur,function(er){return er.x._id+er.y._id});wr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(er){return"clip"+Ge._uid+er.x._id+er.y._id}).append("rect"),wr.exit().remove(),wr.each(function(er){p.select(this).select("rect").attr({x:er.x._offset||0,y:er.y._offset||0,width:er.x._length||1,height:er.y._length||1})})}},Y.draw=function(He,Ge,Ct){var Ut=He._fullLayout;Ge==="redraw"&&Ut._paper.selectAll("g.subplot").each(function(Rr){var wr=Rr[0],er=Ut._plots[wr];if(er){var _r=er.xaxis,Vr=er.yaxis;er.xaxislayer.selectAll("."+_r._id+"tick").remove(),er.yaxislayer.selectAll("."+Vr._id+"tick").remove(),er.xaxislayer.selectAll("."+_r._id+"tick2").remove(),er.yaxislayer.selectAll("."+Vr._id+"tick2").remove(),er.xaxislayer.selectAll("."+_r._id+"divider").remove(),er.yaxislayer.selectAll("."+Vr._id+"divider").remove(),er.minorGridlayer&&er.minorGridlayer.selectAll("path").remove(),er.gridlayer&&er.gridlayer.selectAll("path").remove(),er.zerolinelayer&&er.zerolinelayer.selectAll("path").remove(),Ut._infolayer.select(".g-"+_r._id+"title").remove(),Ut._infolayer.select(".g-"+Vr._id+"title").remove()}});var Kt=!Ge||Ge==="redraw"?Y.listIds(He):Ge,Xt=Y.list(He),ur=Xt.filter(function(Rr){return Rr.autoshift}).map(function(Rr){return Rr.overlaying}),Ar={false:{left:0,right:0}};return A.syncOrAsync(Kt.map(function(Rr){return function(){if(Rr){var wr=Y.getFromId(He,Rr);Ct||(Ct={}),Ct.axShifts=Ar,Ct.overlayingShiftedAx=ur;var er=Y.drawOne(He,wr,Ct);return wr._shiftPusher&&lr(wr,wr._fullDepth||0,Ar,!0),wr._r=wr.range.slice(),wr._rl=A.simpleMap(wr._r,wr.r2l),er}}}))},Y.drawOne=function(He,Ge,Ct){Ct=Ct||{};var Ut=Ct.axShifts||{},Kt=Ct.overlayingShiftedAx||[],Xt,ur,Ar;Ge.setScale();var Rr=He._fullLayout,wr=Ge._id,er=wr.charAt(0),_r=Y.counterLetter(wr),Vr=Rr._plots[Ge._mainSubplot];if(!Vr)return;if(Ge._shiftPusher=Ge.autoshift||Kt.indexOf(Ge._id)!==-1||Kt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Br=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Br+=Ge.ticklen),lr(Ge,Br,Ut,!0),lr(Ge,Ge.shift||0,Ut,!1)}(Ct.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=ir(Ge,Ut));var yr=Vr[er+"axislayer"],pn=Ge._mainLinePosition,an=pn+=Ge._shift,Zr=Ge._mainMirrorPosition,Nn=Ge._vals=Y.calcTicks(Ge),fn=[Ge.mirror,an,Zr].join("_");for(Xt=0;Xt<Nn.length;Xt++)Nn[Xt].axInfo=fn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var xn={};function On(Gt){var Ht=wr+(Gt||"tick");return xn[Ht]||(xn[Ht]=vt(Ge,Ht)),xn[Ht]}if(Ge.visible){var br=Y.makeTransTickFn(Ge),Ir=Y.makeTransTickLabelFn(Ge),jr,Wr,An=Ge.ticks==="inside",wn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var Tn=Le(Ge,Nn);Wr=Y.clipEnds(Ge,Tn),jr=An?Wr:Tn}else Wr=Y.clipEnds(Ge,Nn),jr=An&&Ge.ticklabelmode!=="period"?Wr:Nn;var Rn=Ge._gridVals=Wr,Gn=ht(Ge,Nn);if(!Rr._hasOnlyLargeSploms){var ma=Ge._subplotsWith,pa={};for(Xt=0;Xt<ma.length;Xt++){ur=ma[Xt],Ar=Rr._plots[ur];var ua=Ar[_r+"axis"],xa=ua._mainAxis._id;if(!pa[xa]){pa[xa]=1;var ga=er==="x"?"M0,"+ua._offset+"v"+ua._length:"M"+ua._offset+",0h"+ua._length;Y.drawGrid(He,Ge,{vals:Rn,counterAxis:ua,layer:Ar.gridlayer.select("."+wr),minorLayer:Ar.minorGridlayer.select("."+wr),path:ga,transFn:br}),Y.drawZeroLine(He,Ge,{counterAxis:ua,layer:Ar.zerolinelayer,path:ga,transFn:br})}}}var Or,cn=Y.getTickSigns(Ge),vn=Y.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var Cn=Y.makeTickPath(Ge,an,cn[2]),Wn=Y.makeTickPath(Ge,an,vn[2],{minor:!0}),Fn,Hn,Xn,sa;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Fn=Y.makeTickPath(Ge,Zr,cn[3]),Hn=Y.makeTickPath(Ge,Zr,vn[3],{minor:!0}),Xn=Cn+Fn,sa=Wn+Hn):(Fn="",Hn="",Xn=Cn,sa=Wn),Ge.showdividers&&wn&&Ge.tickson==="boundaries"){var ka={};for(Xt=0;Xt<Gn.length;Xt++)ka[Gn[Xt].x]=1;Or=function(Gt){return ka[Gt.x]?Fn:Xn}}else Or=function(Gt){return Gt.minor?sa:Xn}}if(Y.drawTicks(He,Ge,{vals:jr,layer:yr,path:Or,transFn:br}),Ge.mirror==="allticks"){var oi=Object.keys(Ge._linepositions||{});for(Xt=0;Xt<oi.length;Xt++){ur=oi[Xt],Ar=Rr._plots[ur];var ar=Ge._linepositions[ur]||[],me=ar[0],Ue=ar[1],et=ar[2],ft=Y.makeTickPath(Ge,me,et?cn[0]:vn[0],{minor:et})+Y.makeTickPath(Ge,Ue,et?cn[1]:vn[1],{minor:et});Y.drawTicks(He,Ge,{vals:jr,layer:Ar[er+"axislayer"],path:ft,transFn:br})}}var kt=[];if(kt.push(function(){return Y.drawLabels(He,Ge,{vals:Nn,layer:yr,plotinfo:Ar,transFn:Ir,labelFns:Y.makeLabelFns(Ge,an)})}),Ge.type==="multicategory"){var _t={x:2,y:10}[er];kt.push(function(){var Gt={x:"height",y:"width"}[er],Ht=On()[Gt]+_t+(Ge._tickAngles[wr+"tick"]?Ge.tickfont.size*Q:0);return Y.drawLabels(He,Ge,{vals:Oe(Ge,Nn),layer:yr,cls:wr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:br,labelFns:Y.makeLabelFns(Ge,an+Ht*cn[4])})}),kt.push(function(){return Ge._depth=cn[4]*(On("tick2")[Ge.side]-an),qt(He,Ge,{vals:Gn,layer:yr,path:Y.makeTickPath(Ge,an,cn[4],{len:Ge._depth}),transFn:br})})}else Ge.title.hasOwnProperty("standoff")&&kt.push(function(){Ge._depth=cn[4]*(On()[Ge.side]-an)});var Wt=P.getComponentMethod("rangeslider","isVisible")(Ge);return!Ct.skipTitle&&!(Wt&&Ge.side==="bottom")&&kt.push(function(){return vr(He,Ge)}),kt.push(function(){var Gt=Ge.side.charAt(0),Ht=re[Ge.side].charAt(0),nr=Y.getPxPosition(He,Ge),Dr=wn?Ge.ticklen:0,Qr,Yr,Ur,Pn;(Ge.automargin||Wt||Ge._shiftPusher)&&(Ge.type==="multicategory"?Qr=On("tick2"):(Qr=On(),er==="x"&&Gt==="b"&&(Ge._depth=Math.max(Qr.width>0?Qr.bottom-nr:0,Dr))));var Un=0,kn=0;if(Ge._shiftPusher&&(Un=Math.max(Dr,Qr.height>0?Gt==="l"?nr-Qr.left:Qr.right-nr:0),Ge.title.text!==Rr._dfltTitle[er]&&(kn=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Gt==="l"&&(kn+=Vt(Ge))),Ge._fullDepth=Math.max(Un,kn)),Ge.automargin){Yr={x:0,y:0,r:0,l:0,t:0,b:0};var Qn=[0,1],qn=typeof Ge._shift=="number"?Ge._shift:0;if(er==="x"){if(Gt==="b"?Yr[Gt]=Ge._depth:(Yr[Gt]=Ge._depth=Math.max(Qr.width>0?nr-Qr.top:0,Dr),Qn.reverse()),Qr.width>0){var ca=Qr.right-(Ge._offset+Ge._length);ca>0&&(Yr.xr=1,Yr.r=ca);var ei=Ge._offset-Qr.left;ei>0&&(Yr.xl=0,Yr.l=ei)}}else if(Gt==="l"?(Ge._depth=Math.max(Qr.height>0?nr-Qr.left:0,Dr),Yr[Gt]=Ge._depth-qn):(Ge._depth=Math.max(Qr.height>0?Qr.right-nr:0,Dr),Yr[Gt]=Ge._depth+qn,Qn.reverse()),Qr.height>0){var Na=Qr.bottom-(Ge._offset+Ge._length);Na>0&&(Yr.yb=0,Yr.b=Na);var Di=Ge._offset-Qr.top;Di>0&&(Yr.yt=1,Yr.t=Di)}Yr[_r]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Qn[0]],Ge.title.text!==Rr._dfltTitle[er]&&(Yr[Gt]+=Vt(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Ur={x:0,y:0,r:0,l:0,t:0,b:0},Ur[Ht]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Ur[Ht]+=Dr),Ge.mirror===!0||Ge.mirror==="ticks"?Ur[_r]=Ge._anchorAxis.domain[Qn[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Ur[_r]=[Ge._counterDomainMin,Ge._counterDomainMax][Qn[1]]))}Wt&&(Pn=P.getComponentMethod("rangeslider","autoMarginOpts")(He,Ge)),typeof Ge.automargin=="string"&&(ye(Yr,Ge.automargin),ye(Ur,Ge.automargin)),a.autoMargin(He,rr(Ge),Yr),a.autoMargin(He,Lr(Ge),Ur),a.autoMargin(He,Tr(Ge),Pn)}),A.syncOrAsync(kt)}};function ye(He,Ge){if(He){var Ct=Object.keys(k).reduce(function(Ut,Kt){return Ge.indexOf(Kt)!==-1&&k[Kt].forEach(function(Xt){Ut[Xt]=1}),Ut},{});Object.keys(He).forEach(function(Ut){Ct[Ut]||(Ut.length===1?He[Ut]=0:delete He[Ut])})}}function Le(He,Ge){var Ct=[],Ut,Kt=function(Xt,ur){var Ar=Xt.xbnd[ur];Ar!==null&&Ct.push(A.extendFlat({},Xt,{x:Ar}))};if(Ge.length){for(Ut=0;Ut<Ge.length;Ut++)Kt(Ge[Ut],0);Kt(Ge[Ut-1],1)}return Ct}function Oe(He,Ge){for(var Ct=[],Ut={},Kt=0;Kt<Ge.length;Kt++){var Xt=Ge[Kt];Ut[Xt.text2]?Ut[Xt.text2].push(Xt.x):Ut[Xt.text2]=[Xt.x]}for(var ur in Ut)Ct.push(wt(He,A.interp(Ut[ur],.5),ur));return Ct}function ht(He,Ge){var Ct=[],Ut,Kt,Xt=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,ur=function(Rr,wr){var er=Rr.xbnd[wr];er!==null&&Ct.push(A.extendFlat({},Rr,{x:er}))};if(He.showdividers&&Ge.length){for(Ut=0;Ut<Ge.length;Ut++){var Ar=Ge[Ut];Ar.text2!==Kt&&ur(Ar,Xt?1:0),Kt=Ar.text2}ur(Ge[Ut-1],Xt?0:1)}return Ct}function vt(He,Ge){var Ct,Ut,Kt,Xt;return He._selections[Ge].size()?(Ct=1/0,Ut=-1/0,Kt=1/0,Xt=-1/0,He._selections[Ge].each(function(){var ur=or(this),Ar=u.bBox(ur.node().parentNode);Ct=Math.min(Ct,Ar.top),Ut=Math.max(Ut,Ar.bottom),Kt=Math.min(Kt,Ar.left),Xt=Math.max(Xt,Ar.right)})):(Ct=0,Ut=0,Kt=0,Xt=0),{top:Ct,bottom:Ut,left:Kt,right:Xt,height:Ut-Ct,width:Xt-Kt}}Y.getTickSigns=function(He,Ge){var Ct=He._id.charAt(0),Ut={x:"top",y:"right"}[Ct],Kt=He.side===Ut?1:-1,Xt=[-1,1,Kt,-Kt],ur=Ge?(He.minor||{}).ticks:He.ticks;return ur!=="inside"==(Ct==="x")&&(Xt=Xt.map(function(Ar){return-Ar})),He.side&&Xt.push({l:-1,t:-1,r:1,b:1}[He.side.charAt(0)]),Xt},Y.makeTransTickFn=function(He){return He._id.charAt(0)==="x"?function(Ge){return v(He._offset+He.l2p(Ge.x),0)}:function(Ge){return v(0,He._offset+He.l2p(Ge.x))}},Y.makeTransTickLabelFn=function(He){var Ge=Ot(He),Ct=Ge[0],Ut=Ge[1];return He._id.charAt(0)==="x"?function(Kt){return v(Ct+He._offset+He.l2p(Lt(Kt)),Ut)}:function(Kt){return v(Ut,Ct+He._offset+He.l2p(Lt(Kt)))}};function Lt(He){return He.periodX!==void 0?He.periodX:He.x}function Ot(He){var Ge=He.ticklabelposition||"",Ct=function(Br){return Ge.indexOf(Br)!==-1},Ut=Ct("top"),Kt=Ct("left"),Xt=Ct("right"),ur=Ct("bottom"),Ar=Ct("inside"),Rr=ur||Kt||Ut||Xt;if(!Rr&&!Ar)return[0,0];var wr=He.side,er=Rr?(He.tickwidth||0)/2:0,_r=oe,Vr=He.tickfont?He.tickfont.size:12;return(ur||Ut)&&(er+=Vr*q,_r+=(He.linewidth||0)/2),(Kt||Xt)&&(er+=(He.linewidth||0)/2,_r+=oe),Ar&&wr==="top"&&(_r-=Vr*(1-q)),(Kt||Ut)&&(er=-er),(wr==="bottom"||wr==="right")&&(_r=-_r),[Rr?er:0,Ar?_r:0]}Y.makeTickPath=function(He,Ge,Ct,Ut){Ut||(Ut={});var Kt=Ut.minor;if(Kt&&!He.minor)return"";var Xt=Ut.len!==void 0?Ut.len:Kt?He.minor.ticklen:He.ticklen,ur=He._id.charAt(0),Ar=(He.linewidth||1)/2;return ur==="x"?"M0,"+(Ge+Ar*Ct)+"v"+Xt*Ct:"M"+(Ge+Ar*Ct)+",0h"+Xt*Ct},Y.makeLabelFns=function(He,Ge,Ct){var Ut=He.ticklabelposition||"",Kt=function(Tn){return Ut.indexOf(Tn)!==-1},Xt=Kt("top"),ur=Kt("left"),Ar=Kt("right"),Rr=Kt("bottom"),wr=Rr||ur||Xt||Ar,er=Kt("inside"),_r=Ut==="inside"&&He.ticks==="inside"||!er&&He.ticks==="outside"&&He.tickson!=="boundaries",Vr=0,Br=0,yr=_r?He.ticklen:0;if(er?yr*=-1:wr&&(yr=0),_r&&(Vr+=yr,Ct)){var pn=A.deg2rad(Ct);Vr=yr*Math.cos(pn)+1,Br=yr*Math.sin(pn)}He.showticklabels&&(_r||He.showline)&&(Vr+=.2*He.tickfont.size),Vr+=(He.linewidth||1)/2*(er?-1:1);var an={labelStandoff:Vr,labelShift:Br},Zr,Nn,fn,xn,On=0,br=He.side,Ir=He._id.charAt(0),jr=He.tickangle,Wr;if(Ir==="x")Wr=!er&&br==="bottom"||er&&br==="top",xn=Wr?1:-1,er&&(xn*=-1),Zr=Br*xn,Nn=Ge+Vr*xn,fn=Wr?1:-.2,Math.abs(jr)===90&&(er?fn+=K:jr===-90&&br==="bottom"?fn=q:jr===90&&br==="top"?fn=K:fn=.5,On=K/2*(jr/90)),an.xFn=function(Tn){return Tn.dx+Zr+On*Tn.fontSize},an.yFn=function(Tn){return Tn.dy+Nn+Tn.fontSize*fn},an.anchorFn=function(Tn,Rn){if(wr){if(ur)return"end";if(Ar)return"start"}return!L(Rn)||Rn===0||Rn===180?"middle":Rn*xn<0!==er?"end":"start"},an.heightFn=function(Tn,Rn,Gn){return Rn<-60||Rn>60?-.5*Gn:He.side==="top"!==er?-Gn:0};else if(Ir==="y"){if(Wr=!er&&br==="left"||er&&br==="right",xn=Wr?1:-1,er&&(xn*=-1),Zr=Vr,Nn=Br*xn,fn=0,!er&&Math.abs(jr)===90&&(jr===-90&&br==="left"||jr===90&&br==="right"?fn=q:fn=.5),er){var An=L(jr)?+jr:0;if(An!==0){var wn=A.deg2rad(An);On=Math.abs(Math.sin(wn))*q*xn,fn=0}}an.xFn=function(Tn){return Tn.dx+Ge-(Zr+Tn.fontSize*fn)*xn+On*Tn.fontSize},an.yFn=function(Tn){return Tn.dy+Nn+Tn.fontSize*K},an.anchorFn=function(Tn,Rn){return L(Rn)&&Math.abs(Rn)===90?"middle":Wr?"end":"start"},an.heightFn=function(Tn,Rn,Gn){return He.side==="right"&&(Rn*=-1),Rn<-30?-Gn:Rn<30?-.5*Gn:0}}return an};function Jt(He){return[He.text,He.x,He.axInfo,He.font,He.fontSize,He.fontColor].join("_")}Y.drawTicks=function(He,Ge,Ct){Ct=Ct||{};var Ut=Ge._id+"tick",Kt=[].concat(Ge.minor&&Ge.minor.ticks?Ct.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ge.ticks?Ct.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),Xt=Ct.layer.selectAll("path."+Ut).data(Kt,Jt);Xt.exit().remove(),Xt.enter().append("path").classed(Ut,1).classed("ticks",1).classed("crisp",Ct.crisp!==!1).each(function(ur){return r.stroke(p.select(this),ur.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(ur){return u.crispRound(He,ur.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",Ct.path).style("display",null),$t(Ge,[O]),Xt.attr("transform",Ct.transFn)},Y.drawGrid=function(He,Ge,Ct){Ct=Ct||{};var Ut=Ge._id+"grid",Kt=Ge.minor&&Ge.minor.showgrid,Xt=Kt?Ct.vals.filter(function(Zr){return Zr.minor}):[],ur=Ge.showgrid?Ct.vals.filter(function(Zr){return!Zr.minor}):[],Ar=Ct.counterAxis;if(Ar&&Y.shouldShowZeroLine(He,Ge,Ar))for(var Rr=Ge.tickmode==="array",wr=0;wr<ur.length;wr++){var er=ur[wr].x;if(Rr?!er:Math.abs(er)<Ge.dtick/100)if(ur=ur.slice(0,wr).concat(ur.slice(wr+1)),Rr)wr--;else break}Ge._gw=u.crispRound(He,Ge.gridwidth,1);for(var _r=Kt?u.crispRound(He,Ge.minor.gridwidth,1):0,Vr=Ct.layer,Br=Ct.minorLayer,yr=1;yr>=0;yr--){var pn=yr?Vr:Br;if(pn){var an=pn.selectAll("path."+Ut).data(yr?ur:Xt,Jt);an.exit().remove(),an.enter().append("path").classed(Ut,1).classed("crisp",Ct.crisp!==!1),an.attr("transform",Ct.transFn).attr("d",Ct.path).each(function(Zr){return r.stroke(p.select(this),Zr.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(Zr){return u.dashStyle(Zr.minor?Ge.minor.griddash:Ge.griddash,Zr.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(Zr){return(Zr.minor?_r:Ge._gw)+"px"}).style("display",null),typeof Ct.path=="function"&&an.attr("d",Ct.path)}}$t(Ge,[B,I])},Y.drawZeroLine=function(He,Ge,Ct){Ct=Ct||Ct;var Ut=Ge._id+"zl",Kt=Y.shouldShowZeroLine(He,Ge,Ct.counterAxis),Xt=Ct.layer.selectAll("path."+Ut).data(Kt?[{x:0,id:Ge._id}]:[]);Xt.exit().remove(),Xt.enter().append("path").classed(Ut,1).classed("zl",1).classed("crisp",Ct.crisp!==!1).each(function(){Ct.layer.selectAll("path").sort(function(ur,Ar){return Z(ur.id,Ar.id)})}),Xt.attr("transform",Ct.transFn).attr("d",Ct.path).call(r.stroke,Ge.zerolinecolor||r.defaultLine).style("stroke-width",u.crispRound(He,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),$t(Ge,[_])},Y.drawLabels=function(He,Ge,Ct){Ct=Ct||{};var Ut=He._fullLayout,Kt=Ge._id,Xt=Kt.charAt(0),ur=Ct.cls||Kt+"tick",Ar=Ct.vals.filter(function(xn){return xn.text}),Rr=Ct.labelFns,wr=Ct.secondary?0:Ge.tickangle,er=(Ge._prevTickAngles||{})[ur],_r=Ct.layer.selectAll("g."+ur).data(Ge.showticklabels?Ar:[],Jt),Vr=[];_r.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(xn){var On=p.select(this),br=He._promises.length;On.call(g.positionText,Rr.xFn(xn),Rr.yFn(xn)).call(u.font,xn.font,xn.fontSize,xn.fontColor).text(xn.text).call(g.convertToTspans,He),He._promises[br]?Vr.push(He._promises.pop().then(function(){Br(On,wr)})):Br(On,wr)}),$t(Ge,[z]),_r.exit().remove(),Ct.repositionOnUpdate&&_r.each(function(xn){p.select(this).select("text").call(g.positionText,Rr.xFn(xn),Rr.yFn(xn))});function Br(xn,On){xn.each(function(br){var Ir=p.select(this),jr=Ir.select(".text-math-group"),Wr=Rr.anchorFn(br,On),An=Ct.transFn.call(Ir.node(),br)+(L(On)&&+On!=0?" rotate("+On+","+Rr.xFn(br)+","+(Rr.yFn(br)-br.fontSize/2)+")":""),wn=g.lineCount(Ir),Tn=Q*br.fontSize,Rn=Rr.heightFn(br,L(On)?+On:0,(wn-1)*Tn);if(Rn&&(An+=v(0,Rn)),jr.empty()){var Gn=Ir.select("text");Gn.attr({transform:An,"text-anchor":Wr}),Gn.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var ma=u.bBox(jr.node()).width,pa=ma*{end:-.5,start:.5}[Wr];jr.attr("transform",An+v(pa,0))}})}Ge._adjustTickLabelsOverflow=function(){var xn=Ge.ticklabeloverflow;if(!(!xn||xn==="allow")){var On=xn.indexOf("hide")!==-1,br=Ge._id.charAt(0)==="x",Ir=0,jr=br?He._fullLayout.width:He._fullLayout.height;if(xn.indexOf("domain")!==-1){var Wr=A.simpleMap(Ge.range,Ge.r2l);Ir=Ge.l2p(Wr[0])+Ge._offset,jr=Ge.l2p(Wr[1])+Ge._offset}var An=Math.min(Ir,jr),wn=Math.max(Ir,jr),Tn=Ge.side,Rn=1/0,Gn=-1/0;_r.each(function(xa){var ga=p.select(this),Or=ga.select(".text-math-group");if(Or.empty()){var cn=u.bBox(ga.node()),vn=0;br?(cn.right>wn||cn.left<An)&&(vn=1):(cn.bottom>wn||cn.top+(Ge.tickangle?0:xa.fontSize/4)<An)&&(vn=1);var Cn=ga.select("text");vn?On&&Cn.style("opacity",0):(Cn.style("opacity",1),Tn==="bottom"||Tn==="right"?Rn=Math.min(Rn,br?cn.top:cn.left):Rn=-1/0,Tn==="top"||Tn==="left"?Gn=Math.max(Gn,br?cn.bottom:cn.right):Gn=1/0)}});for(var ma in Ut._plots){var pa=Ut._plots[ma];if(!(Ge._id!==pa.xaxis._id&&Ge._id!==pa.yaxis._id)){var ua=br?pa.yaxis:pa.xaxis;ua&&(ua["_visibleLabelMin_"+Ge._id]=Rn,ua["_visibleLabelMax_"+Ge._id]=Gn)}}}},Ge._hideCounterAxisInsideTickLabels=function(xn){var On=Ge._id.charAt(0)==="x",br=[];for(var Ir in Ut._plots){var jr=Ut._plots[Ir];Ge._id!==jr.xaxis._id&&Ge._id!==jr.yaxis._id||br.push(On?jr.yaxis:jr.xaxis)}br.forEach(function(Wr,An){Wr&&Zt(Wr)&&(xn||[_,I,B,O,z]).forEach(function(wn){var Tn=wn.K==="tick"&&wn.L==="text"&&Ge.ticklabelmode==="period",Rn=Ut._plots[Ge._mainSubplot],Gn;wn.K===_.K?Gn=Rn.zerolinelayer.selectAll("."+Ge._id+"zl"):wn.K===I.K?Gn=Rn.minorGridlayer.selectAll("."+Ge._id):wn.K===B.K?Gn=Rn.gridlayer.selectAll("."+Ge._id):Gn=Rn[Ge._id.charAt(0)+"axislayer"],Gn.each(function(){var ma=p.select(this);wn.L&&(ma=ma.selectAll(wn.L)),ma.each(function(pa){var ua=Ge.l2p(Tn?Lt(pa):pa.x)+Ge._offset,xa=p.select(this);ua<Ge["_visibleLabelMax_"+Wr._id]&&ua>Ge["_visibleLabelMin_"+Wr._id]?xa.style("display","none"):wn.K==="tick"&&!An&&xa.style("display",null)})})})})},Br(_r,er+1?er:wr);function yr(){return Vr.length&&Promise.all(Vr)}var pn=null;function an(){if(Br(_r,wr),Ar.length&&Xt==="x"&&!L(wr)&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){pn=0;var xn=0,On=[],br;if(_r.each(function(cn){xn=Math.max(xn,cn.fontSize);var vn=Ge.l2p(cn.x),Cn=or(this),Wn=u.bBox(Cn.node());On.push({top:0,bottom:10,height:10,left:vn-Wn.width/2,right:vn+Wn.width/2+2,width:Wn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!Ct.secondary){var Ir=2;for(Ge.ticks&&(Ir+=Ge.tickwidth/2),br=0;br<On.length;br++){var jr=Ar[br].xbnd,Wr=On[br];if(jr[0]!==null&&Wr.left-Ge.l2p(jr[0])<Ir||jr[1]!==null&&Ge.l2p(jr[1])-Wr.right<Ir){pn=90;break}}}else{var An=Ar.length,wn=Math.abs((Ar[An-1].x-Ar[0].x)*Ge._m)/(An-1),Tn=Ge.ticklabelposition||"",Rn=function(cn){return Tn.indexOf(cn)!==-1},Gn=Rn("top"),ma=Rn("left"),pa=Rn("right"),ua=Rn("bottom"),xa=ua||ma||Gn||pa,ga=xa?(Ge.tickwidth||0)+2*oe:0,Or=wn<xn*2.5||Ge.type==="multicategory"||Ge._name==="realaxis";for(br=0;br<On.length-1;br++)if(A.bBoxIntersect(On[br],On[br+1],ga)){pn=Or?90:30;break}}pn&&Br(_r,pn)}}Ge._selections&&(Ge._selections[ur]=_r);var Zr=[yr];Ge.automargin&&Ut._redrawFromAutoMarginCount&&er===90?(pn=90,Zr.push(function(){Br(_r,er)})):Zr.push(an),Ge._tickAngles&&Zr.push(function(){Ge._tickAngles[ur]=pn===null?L(wr)?wr:0:pn});var Nn=Ge._anchorAxis;Nn&&Nn.autorange&&Zt(Ge)&&!ae(Ut,Ge._id)&&(Ut._insideTickLabelsAutorange||(Ut._insideTickLabelsAutorange={}),Ut._insideTickLabelsAutorange[Nn._name+".autorange"]=Nn.autorange,Zr.push(function(){_r.each(function(On,br){var Ir=or(this),jr=Ir.select(".text-math-group");jr.empty()&&(Ge._vals[br].bb=u.bBox(Ir.node()))})}));var fn=A.syncOrAsync(Zr);return fn&&fn.then&&He._promises.push(fn),fn};function qt(He,Ge,Ct){var Ut=Ge._id+"divider",Kt=Ct.vals,Xt=Ct.layer.selectAll("path."+Ut).data(Kt,Jt);Xt.exit().remove(),Xt.enter().insert("path",":first-child").classed(Ut,1).classed("crisp",1).call(r.stroke,Ge.dividercolor).style("stroke-width",u.crispRound(He,Ge.dividerwidth,1)+"px"),Xt.attr("transform",Ct.transFn).attr("d",Ct.path)}Y.getPxPosition=function(He,Ge){var Ct=He._fullLayout._size,Ut=Ge._id.charAt(0),Kt=Ge.side,Xt;if(Ge.anchor!=="free"?Xt=Ge._anchorAxis:Ut==="x"?Xt={_offset:Ct.t+(1-(Ge.position||0))*Ct.h,_length:0}:Ut==="y"&&(Xt={_offset:Ct.l+(Ge.position||0)*Ct.w+Ge._shift,_length:0}),Kt==="top"||Kt==="left")return Xt._offset;if(Kt==="bottom"||Kt==="right")return Xt._offset+Xt._length};function Vt(He){var Ge=He.title.font.size,Ct=(He.title.text.match(g.BR_TAG_ALL)||[]).length;return He.title.hasOwnProperty("standoff")?Ct?Ge*(q+Ct*Q):Ge*q:Ct?Ge*(Ct+1)*Q:Ge}function vr(He,Ge){var Ct=He._fullLayout,Ut=Ge._id,Kt=Ut.charAt(0),Xt=Ge.title.font.size,ur;if(Ge.title.hasOwnProperty("standoff"))ur=Ge._depth+Ge.title.standoff+Vt(Ge);else{var Ar=Zt(Ge);if(Ge.type==="multicategory")ur=Ge._depth;else{var Rr=1.5*Xt;Ar&&(Rr=.5*Xt,Ge.ticks==="outside"&&(Rr+=Ge.ticklen)),ur=10+Rr+(Ge.linewidth?Ge.linewidth-1:0)}Ar||(Kt==="x"?ur+=Ge.side==="top"?Xt*(Ge.showticklabels?1:0):Xt*(Ge.showticklabels?1.5:.5):ur+=Ge.side==="right"?Xt*(Ge.showticklabels?1:.5):Xt*(Ge.showticklabels?.5:0))}var wr=Y.getPxPosition(He,Ge),er,_r,Vr;Kt==="x"?(_r=Ge._offset+Ge._length/2,Vr=Ge.side==="top"?wr-ur:wr+ur):(Vr=Ge._offset+Ge._length/2,_r=Ge.side==="right"?wr+ur:wr-ur,er={rotate:"-90",offset:0});var Br;if(Ge.type!=="multicategory"){var yr=Ge._selections[Ge._id+"tick"];if(Br={selection:yr,side:Ge.side},yr&&yr.node()&&yr.node().parentNode){var pn=u.getTranslate(yr.node().parentNode);Br.offsetLeft=pn.x,Br.offsetTop=pn.y}Ge.title.hasOwnProperty("standoff")&&(Br.pad=0)}return Ge._titleStandoff=ur,t.draw(He,Ut+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:Ct._dfltTitle[Kt],avoid:Br,transform:er,attributes:{x:_r,y:Vr,"text-anchor":"middle"}})}Y.shouldShowZeroLine=function(He,Ge,Ct){var Ut=A.simpleMap(Ge.range,Ge.r2l);return Ut[0]*Ut[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===F)&&(gr(Ge,0)||!Gr(He,Ge,Ct,Ut)||At(He,Ge))},Y.clipEnds=function(He,Ge){return Ge.filter(function(Ct){return gr(He,Ct.x)})};function gr(He,Ge){var Ct=He.l2p(Ge);return Ct>1&&Ct<He._length-1}function Gr(He,Ge,Ct,Ut){var Kt=Ct._mainAxis;if(!Kt)return;var Xt=He._fullLayout,ur=Ge._id.charAt(0),Ar=Y.counterLetter(Ge._id),Rr=Ge._offset+(Math.abs(Ut[0])<Math.abs(Ut[1])==(ur==="x")?0:Ge._length);function wr(yr){if(!yr.showline||!yr.linewidth)return!1;var pn=Math.max((yr.linewidth+Ge.zerolinewidth)/2,1);function an(fn){return typeof fn=="number"&&Math.abs(fn-Rr)<pn}if(an(yr._mainLinePosition)||an(yr._mainMirrorPosition))return!0;var Zr=yr._linepositions||{};for(var Nn in Zr)if(an(Zr[Nn][0])||an(Zr[Nn][1]))return!0}var er=Xt._plots[Ct._mainSubplot];if(!(er.mainplotinfo||er).overlays.length)return wr(Ct);for(var _r=Y.list(He,Ar),Vr=0;Vr<_r.length;Vr++){var Br=_r[Vr];if(Br._mainAxis===Kt&&wr(Br))return!0}}function At(He,Ge){for(var Ct=He._fullData,Ut=Ge._mainSubplot,Kt=Ge._id.charAt(0),Xt=0;Xt<Ct.length;Xt++){var ur=Ct[Xt];if(ur.visible===!0&&ur.xaxis+ur.yaxis===Ut&&(P.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Kt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Kt))return!0}return!1}function or(He){var Ge=p.select(He),Ct=Ge.select(".text-math-group");return Ct.empty()?Ge.select("text"):Ct}Y.allowAutoMargin=function(He){for(var Ge=Y.list(He,"",!0),Ct=0;Ct<Ge.length;Ct++){var Ut=Ge[Ct];Ut.automargin&&(a.allowAutoMargin(He,rr(Ut)),Ut.mirror&&a.allowAutoMargin(He,Lr(Ut))),P.getComponentMethod("rangeslider","isVisible")(Ut)&&a.allowAutoMargin(He,Tr(Ut))}};function rr(He){return He._id+".automargin"}function Lr(He){return rr(He)+".mirror"}function Tr(He){return He._id+".rangeslider"}Y.swap=function(He,Ge){for(var Ct=pt(He,Ge),Ut=0;Ut<Ct.length;Ut++)yt(He,Ct[Ut].x,Ct[Ut].y)};function pt(He,Ge){var Ct=[],Ut,Kt;for(Ut=0;Ut<Ge.length;Ut++){var Xt=[],ur=He._fullData[Ge[Ut]].xaxis,Ar=He._fullData[Ge[Ut]].yaxis;if(!(!ur||!Ar)){for(Kt=0;Kt<Ct.length;Kt++)(Ct[Kt].x.indexOf(ur)!==-1||Ct[Kt].y.indexOf(Ar)!==-1)&&Xt.push(Kt);if(!Xt.length){Ct.push({x:[ur],y:[Ar]});continue}var Rr=Ct[Xt[0]],wr;if(Xt.length>1)for(Kt=1;Kt<Xt.length;Kt++)wr=Ct[Xt[Kt]],st(Rr.x,wr.x),st(Rr.y,wr.y);st(Rr.x,[ur]),st(Rr.y,[Ar])}}return Ct}function st(He,Ge){for(var Ct=0;Ct<Ge.length;Ct++)He.indexOf(Ge[Ct])===-1&&He.push(Ge[Ct])}function yt(He,Ge,Ct){var Ut=[],Kt=[],Xt=He.layout,ur,Ar;for(ur=0;ur<Ge.length;ur++)Ut.push(Y.getFromId(He,Ge[ur]));for(ur=0;ur<Ct.length;ur++)Kt.push(Y.getFromId(He,Ct[ur]));var Rr=Object.keys(o),wr=["anchor","domain","overlaying","position","side","tickangle","editType"],er=["linear","log"];for(ur=0;ur<Rr.length;ur++){var _r=Rr[ur],Vr=Ut[0][_r],Br=Kt[0][_r],yr=!0,pn=!1,an=!1;if(!(_r.charAt(0)==="_"||typeof Vr=="function"||wr.indexOf(_r)!==-1)){for(Ar=1;Ar<Ut.length&&yr;Ar++){var Zr=Ut[Ar][_r];_r==="type"&&er.indexOf(Vr)!==-1&&er.indexOf(Zr)!==-1&&Vr!==Zr?pn=!0:Zr!==Vr&&(yr=!1)}for(Ar=1;Ar<Kt.length&&yr;Ar++){var Nn=Kt[Ar][_r];_r==="type"&&er.indexOf(Br)!==-1&&er.indexOf(Nn)!==-1&&Br!==Nn?an=!0:Kt[Ar][_r]!==Br&&(yr=!1)}yr&&(pn&&(Xt[Ut[0]._name].type="linear"),an&&(Xt[Kt[0]._name].type="linear"),Pt(Xt,_r,Ut,Kt,He._fullLayout._dfltTitle))}}for(ur=0;ur<He._fullLayout.annotations.length;ur++){var fn=He._fullLayout.annotations[ur];Ge.indexOf(fn.xref)!==-1&&Ct.indexOf(fn.yref)!==-1&&A.swapAttrs(Xt.annotations[ur],["?"])}}function Pt(He,Ge,Ct,Ut,Kt){var Xt=A.nestedProperty,ur=Xt(He[Ct[0]._name],Ge).get(),Ar=Xt(He[Ut[0]._name],Ge).get(),Rr;for(Ge==="title"&&(ur&&ur.text===Kt.x&&(ur.text=Kt.y),Ar&&Ar.text===Kt.y&&(Ar.text=Kt.x)),Rr=0;Rr<Ct.length;Rr++)Xt(He,Ct[Rr]._name+"."+Ge).set(Ar);for(Rr=0;Rr<Ut.length;Rr++)Xt(He,Ut[Rr]._name+"."+Ge).set(ur)}function Dt(He){return He._id==="angularaxis"}function Nt(He,Ge){for(var Ct=Ge._rangebreaks.length,Ut=0;Ut<Ct;Ut++){var Kt=Ge._rangebreaks[Ut];if(He>=Kt.min&&He<Kt.max)return Kt.max}return He}function Zt(He){return(He.ticklabelposition||"").indexOf("inside")!==-1}function $t(He,Ge){Zt(He._anchorAxis||{})&&He._hideCounterAxisInsideTickLabels&&He._hideCounterAxisInsideTickLabels(Ge)}function lr(He,Ge,Ct,Ut){var Kt=He.anchor!=="free"&&(He.overlaying===void 0||He.overlaying===!1)?He._id:He.overlaying,Xt;Ut?Xt=He.side==="right"?Ge:-Ge:Xt=Ge,Kt in Ct||(Ct[Kt]={}),He.side in Ct[Kt]||(Ct[Kt][He.side]=0),Ct[Kt][He.side]+=Xt}function ir(He,Ge){return He.autoshift?Ge[He.overlaying][He.side]:He.shift||0}},4322:function(W,U,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM,P=L.isArrayOrTypedArray,A=L.isDateTime,v=L.cleanNumber,g=Math.round;W.exports=function(x,h,T){var f=x,s=T.noMultiCategory;if(P(f)&&!f.length)return"-";if(!s&&c(f))return"multicategory";if(s&&Array.isArray(f[0])){for(var d=[],S=0;S<f.length;S++)if(P(f[S]))for(var M=0;M<f[S].length;M++)d.push(f[S][M]);f=d}if(u(f,h))return"date";var C=T.autotypenumbers!=="strict";return l(f,C)?"category":r(f,C)?"linear":"-"};function t(n,x){return x?p(n):typeof n=="number"}function r(n,x){for(var h=n.length,T=0;T<h;T++)if(t(n[T],x))return!0;return!1}function u(n,x){for(var h=n.length,T=o(h),f=0,s=0,d={},S=0;S<h;S+=T){var M=g(S),C=n[M],y=String(C);d[y]||(d[y]=1,A(C,x)&&f++,p(C)&&s++)}return f>s*2}function o(n){return Math.max(1,(n-1)/1e3)}function l(n,x){for(var h=n.length,T=o(h),f=0,s=0,d={},S=0;S<h;S+=T){var M=g(S),C=n[M],y=String(C);if(!d[y]){d[y]=1;var w=typeof C;w==="boolean"?s++:(x?v(C)!==a:w==="number")?f++:w==="string"&&s++}}return s>f*2}function c(n){return P(n[0])&&P(n[1])}},71453:function(W,U,e){var p=e(92770),L=e(73972),a=e(71828),P=e(44467),A=e(85501),v=e(13838),g=e(26218),t=e(38701),r=e(96115),u=e(89426),o=e(15258),l=e(92128),c=e(21994),n=e(85555).WEEKDAY_PATTERN,x=e(85555).HOUR_PATTERN;W.exports=function(d,S,M,C,y){var w=C.letter,b=C.font||{},i=C.splomStash||{},E=M("visible",!C.visibleDflt),m=S._template||{},F=S.type||m.type||"-",_;if(F==="date"){var B=L.getComponentMethod("calendars","handleDefaults");B(d,S,"calendar",C.calendar),C.noTicklabelmode||(_=M("ticklabelmode"))}var I="";(!C.noTicklabelposition||F==="multicategory")&&(I=a.coerce(d,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:_==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),C.noTicklabeloverflow||M("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":F==="category"||F==="multicategory"?"allow":"hide past div"),c(S,y);var O=!S.isValidRange(d.range);O&&C.reverseDflt&&(O="reversed");var z=M("autorange",O);z&&(F==="linear"||F==="-")&&M("rangemode"),M("range"),S.cleanRange(),o(d,S,M,C),F!=="category"&&!C.noHover&&M("hoverformat");var k=M("color"),N=k!==v.color.dflt?k:b.color,K=i.label||y._dfltTitle[w];if(u(d,S,M,F,C),!E)return S;M("title.text",K),a.coerceFont(M,"title.font",{family:b.family,size:a.bigFont(b.size),color:N}),g(d,S,M,F);var q=C.hasMinor;if(q&&(P.newContainer(S,"minor"),g(d,S,M,F,{isMinor:!0})),r(d,S,M,F,C),t(d,S,M,C),q){var Q=C.isMinor;C.isMinor=!0,t(d,S,M,C),C.isMinor=Q}l(d,S,M,{dfltColor:k,bgColor:C.bgColor,showGrid:C.showGrid,hasMinor:q,attributes:v}),q&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&M("mirror");var re=F==="multicategory";if(!C.noTickson&&(F==="category"||re)&&(S.ticks||S.showgrid)){var oe;re&&(oe="boundaries");var Y=M("tickson",oe);Y==="boundaries"&&delete S.ticklabelposition}if(re){var G=M("showdividers");G&&(M("dividercolor"),M("dividerwidth"))}if(F==="date")if(A(d,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:h}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var V=0;V<S.rangebreaks.length;V++)if(S.rangebreaks[V].pattern===n){S._hasDayOfWeekBreaks=!0;break}if(c(S,y),y._has("scattergl")||y._has("splom"))for(var Z=0;Z<C.data.length;Z++){var ae=C.data[Z];(ae.type==="scattergl"||ae.type==="splom")&&(ae.visible=!1,a.warn(ae.type+" traces do not work on axes with rangebreaks. Setting trace "+ae.index+" to `visible: false`."))}}return S};function h(s,d,S){function M(_,B){return a.coerce(s,d,v.rangebreaks,_,B)}var C=M("enabled");if(C){var y=M("bounds");if(y&&y.length>=2){var w="",b,i;if(y.length===2){for(b=0;b<2;b++)if(i=f(y[b]),i){w=n;break}}var E=M("pattern",w);if(E===n)for(b=0;b<2;b++)i=f(y[b]),i&&(d.bounds[b]=y[b]=i-1);if(E)for(b=0;b<2;b++)switch(i=y[b],E){case n:if(!p(i)){d.enabled=!1;return}if(i=+i,i!==Math.floor(i)||i<0||i>=7){d.enabled=!1;return}d.bounds[b]=y[b]=i;break;case x:if(!p(i)){d.enabled=!1;return}if(i=+i,i<0||i>24){d.enabled=!1;return}d.bounds[b]=y[b]=i;break}if(S.autorange===!1){var m=S.range;if(m[0]<m[1]){if(y[0]<m[0]&&y[1]>m[1]){d.enabled=!1;return}}else if(y[0]>m[0]&&y[1]<m[1]){d.enabled=!1;return}}}else{var F=M("values");if(F&&F.length)M("dvalue");else{d.enabled=!1;return}}}}var T={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(s){if(typeof s=="string")return T[s.substr(0,3).toLowerCase()]}},12663:function(W,U,e){var p=e(31562),L=p.FORMAT_LINK,a=p.DATE_FORMAT_LINK;function P(g,t){return{valType:"string",dflt:"",editType:"none",description:(t?A:v)("hover text",g)+["By default the values are formatted using "+(t?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function A(g,t){return["Sets the "+g+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(g,t){return A(g,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}W.exports={axisHoverFormat:P,descriptionOnlyNumbers:A,descriptionWithDates:v}},41675:function(W,U,e){var p=e(73972),L=e(85555);U.id2name=function(A){if(!(typeof A!="string"||!A.match(L.AX_ID_PATTERN))){var v=A.split(" ")[0].substr(1);return v==="1"&&(v=""),A.charAt(0)+"axis"+v}},U.name2id=function(A){if(A.match(L.AX_NAME_PATTERN)){var v=A.substr(5);return v==="1"&&(v=""),A.charAt(0)+v}},U.cleanId=function(A,v,g){var t=/( domain)$/.test(A);if(!(typeof A!="string"||!A.match(L.AX_ID_PATTERN))&&!(v&&A.charAt(0)!==v)&&!(t&&!g)){var r=A.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),A.charAt(0)+r+(t&&g?" domain":"")}},U.list=function(P,A,v){var g=P._fullLayout;if(!g)return[];var t=U.listIds(P,A),r=new Array(t.length),u;for(u=0;u<t.length;u++){var o=t[u];r[u]=g[o.charAt(0)+"axis"+o.substr(1)]}if(!v){var l=g._subplots.gl3d||[];for(u=0;u<l.length;u++){var c=g[l[u]];A?r.push(c[A+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},U.listIds=function(P,A){var v=P._fullLayout;if(!v)return[];var g=v._subplots;return A?g[A+"axis"]:g.xaxis.concat(g.yaxis)},U.getFromId=function(P,A,v){var g=P._fullLayout;return A=A===void 0||typeof A!="string"?A:A.replace(" domain",""),v==="x"?A=A.replace(/y[0-9]*/,""):v==="y"&&(A=A.replace(/x[0-9]*/,"")),g[U.id2name(A)]},U.getFromTrace=function(P,A,v){var g=P._fullLayout,t=null;if(p.traceIs(A,"gl3d")){var r=A.scene;r.substr(0,5)==="scene"&&(t=g[r][v+"axis"])}else t=U.getFromId(P,A[v+"axis"]||v);return t},U.idSort=function(P,A){var v=P.charAt(0),g=A.charAt(0);return v!==g?v>g?1:-1:+(P.substr(1)||1)-+(A.substr(1)||1)},U.ref2id=function(P){return/^[xyz]/.test(P)?P.split(" ")[0]:!1};function a(P,A){if(A&&A.length){for(var v=0;v<A.length;v++)if(A[v][P])return!0}return!1}U.isLinked=function(P,A){return a(A,P._axisMatchGroups)||a(A,P._axisConstraintGroups)}},15258:function(W){function U(e,p){var L=p.dataAttr||e._id.charAt(0),a={},P,A,v;if(p.axData)P=p.axData;else for(P=[],A=0;A<p.data.length;A++){var g=p.data[A];g[L+"axis"]===e._id&&P.push(g)}for(A=0;A<P.length;A++){var t=P[A][L];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(a[r]=1)}}return Object.keys(a)}W.exports=function(p,L,a,P){if(L.type==="category"){var A=p.categoryarray,v=Array.isArray(A)&&A.length>0,g;v&&(g="array");var t=a("categoryorder",g),r;t==="array"&&(r=a("categoryarray")),!v&&t==="array"&&(t=L.categoryorder="trace"),t==="trace"?L._initialCategories=[]:t==="array"?L._initialCategories=r.slice():(r=U(L,P).sort(),t==="category ascending"?L._initialCategories=r:t==="category descending"&&(L._initialCategories=r.reverse()))}}},66287:function(W,U,e){var p=e(92770),L=e(71828),a=e(50606),P=a.ONEDAY,A=a.ONEWEEK;U.dtick=function(v,g){var t=g==="log",r=g==="date",u=g==="category",o=r?P:1;if(!v)return o;if(p(v))return v=Number(v),v<=0?o:u?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return o;var l=v.charAt(0),c=v.substr(1);return c=p(c)?Number(c):0,c<=0||!(r&&l==="M"&&c===Math.round(c)||t&&l==="L"||t&&l==="D"&&(c===1||c===2))?o:v},U.tick0=function(v,g,t,r){if(g==="date")return L.cleanDate(v,L.dateTick0(t,r%A===0?1:0));if(!(r==="D1"||r==="D2"))return p(v)?Number(v):0}},85555:function(W,U,e){var p=e(30587).counter;W.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(W,U,e){var p=e(71828),L=e(71739),a=e(41675).id2name,P=e(13838),A=e(42449),v=e(21994),g=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;U.handleDefaults=function(h,T,f){var s=f.axIds,d=f.axHasImage,S=T._axisConstraintGroups=[],M=T._axisMatchGroups=[],C,y,w,b,i,E,m,F;for(C=0;C<s.length;C++)b=a(s[C]),i=h[b],E=T[b],r(i,E,{axIds:s,layoutOut:T,hasImage:d[b]});function _(Q,re){for(C=0;C<Q.length;C++){y=Q[C];for(w in y)T[a(w)][re]=y}}for(_(M,"_matchGroup"),C=0;C<S.length;C++){y=S[C];for(w in y)if(E=T[a(w)],E.fixedrange){for(var B in y){var I=a(B);(h[I]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+I+" but was overridden because another axis in its constraint group has fixedrange true"),T[I].fixedrange=!0}break}}for(C=0;C<S.length;){y=S[C];for(w in y){E=T[a(w)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(y).length&&(S.splice(C,1),C--);break}C++}_(S,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],z=!1,k=!1;function N(){F=E[m],m==="rangebreaks"&&(k=E._hasDayOfWeekBreaks)}for(C=0;C<M.length;C++){y=M[C];for(var K=0;K<O.length;K++){m=O[K],F=null;var q;for(w in y)if(b=a(w),i=h[b],E=T[b],m in E){if(!E.matches&&(q=E,m in i)){N();break}F===null&&m in i&&N()}if(m==="range"&&F&&(z=!0),m==="autorange"&&F===null&&z&&(F=!1),F===null&&m in q&&(F=q[m]),F!==null)for(w in y)E=T[a(w)],E[m]=m==="range"?F.slice():F,m==="rangebreaks"&&(E._hasDayOfWeekBreaks=k,v(E,T))}}};function r(h,T,f){var s=f.axIds,d=f.layoutOut,S=f.hasImage,M=d._axisConstraintGroups,C=d._axisMatchGroups,y=T._id,w=y.charAt(0),b=((d._splomAxes||{})[w]||{})[y]||{},i=T._id,E=i.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function m(G,V){return p.coerce(h,T,P,G,V)}m("constrain",S?"domain":"range"),p.coerce(h,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var F=T.type,_,B,I=[];for(_=0;_<s.length;_++)if(B=s[_],B!==i){var O=d[a(B)];O.type===F&&I.push(B)}var z=o(M,i);if(z){var k=[];for(_=0;_<I.length;_++)B=I[_],z[B]||k.push(B);I=k}var N=I.length,K,q;N&&(h.matches||b.matches)&&(K=p.coerce(h,T,{matches:{valType:"enumerated",values:I,dflt:I.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var Q=S&&!E?T.anchor:void 0;if(N&&!K&&(h.scaleanchor||Q)&&(q=p.coerce(h,T,{scaleanchor:{valType:"enumerated",values:I}},"scaleanchor",Q)),K){T._matchGroup=l(C,i,K,1);var re=d[a(K)],oe=u(d,T)/u(d,re);E!==(K.charAt(0)==="x")&&(oe=(E?"x":"y")+oe),l(M,i,K,oe)}else h.matches&&s.indexOf(h.matches)!==-1&&p.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(q){var Y=m("scaleratio");Y||(Y=T.scaleratio=1),l(M,i,q,Y)}else h.scaleanchor&&s.indexOf(h.scaleanchor)!==-1&&p.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(h,T){var f=T.domain;return f||(f=h[a(T.overlaying)].domain),f[1]-f[0]}function o(h,T){for(var f=0;f<h.length;f++)if(h[f][T])return h[f];return null}function l(h,T,f,s){var d,S,M,C,y,w=o(h,T);w===null?(w={},w[T]=1,y=h.length,h.push(w)):y=h.indexOf(w);var b=Object.keys(w);for(d=0;d<h.length;d++)if(M=h[d],d!==y&&M[f]){var i=M[f];for(S=0;S<b.length;S++)C=b[S],M[C]=c(i,c(s,w[C]));h.splice(y,1);return}if(s!==1)for(S=0;S<b.length;S++){var E=b[S];w[E]=c(s,w[E])}w[f]=1}function c(h,T){var f="",s="",d,S;typeof h=="string"&&(f=h.match(/^[xy]*/)[0],d=f.length,h=+h.substr(d)),typeof T=="string"&&(s=T.match(/^[xy]*/)[0],S=s.length,T=+T.substr(S));var M=h*T;return!d&&!S?M:!d||!S||f.charAt(0)===s.charAt(0)?f+s+h*T:d===S?M:(d>S?f.substr(S):s.substr(d))+M}function n(h,T){for(var f=T._size,s=f.h/f.w,d={},S=Object.keys(h),M=0;M<S.length;M++){var C=S[M],y=h[C];if(typeof y=="string"){var w=y.match(/^[xy]*/)[0],b=w.length;y=+y.substr(b);for(var i=w.charAt(0)==="y"?s:1/s,E=0;E<b;E++)y*=i}d[C]=y}return d}U.enforce=function(T){var f=T._fullLayout,s=f._axisConstraintGroups||[],d,S,M,C,y,w,b,i;for(d=0;d<s.length;d++){M=n(s[d],f);var E=Object.keys(M),m=1/0,F=0,_=1/0,B={},I={},O=!1;for(S=0;S<E.length;S++)C=E[S],I[C]=y=f[a(C)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),B[C]=w=Math.abs(y._m)/M[C],m=Math.min(m,w),(y.constrain==="domain"||!y._constraintShrinkable)&&(_=Math.min(_,w)),delete y._constraintShrinkable,F=Math.max(F,w),y.constrain==="domain"&&(O=!0);if(!(m>g*F&&!O)){for(S=0;S<E.length;S++)if(C=E[S],w=B[C],y=I[C],b=y.constrain,w!==_||b==="domain")if(i=w/_,b==="range")A(y,i);else{var z=y._inputDomain,k=(y.domain[1]-y.domain[0])/(z[1]-z[0]),N=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(i/=k,i*N<1){y.domain=y._input.domain=z.slice(),A(y,i);continue}if(N<1&&(y.range=y._input.range=y._inputRange.slice(),i*=N),y.autorange){var K=y.r2l(y.range[0]),q=y.r2l(y.range[1]),Q=(K+q)/2,re=Q,oe=Q,Y=Math.abs(q-Q),G=Q-Y*i*1.0001,V=Q+Y*i*1.0001,Z=L.makePadFn(f,y,0),ae=L.makePadFn(f,y,1);x(y,i);var ie=Math.abs(y._m),J=L.concatExtremes(T,y),$=J.min,se=J.max,ee,ue;for(ue=0;ue<$.length;ue++)ee=$[ue].val-Z($[ue])/ie,ee>G&&ee<re&&(re=ee);for(ue=0;ue<se.length;ue++)ee=se[ue].val+ae(se[ue])/ie,ee<V&&ee>oe&&(oe=ee);var ge=(oe-re)/(2*Y);i/=ge,re=y.l2r(re),oe=y.l2r(oe),y.range=y._input.range=K<q?[re,oe]:[oe,re]}x(y,i)}}}},U.getAxisGroup=function(T,f){for(var s=T._axisMatchGroups,d=0;d<s.length;d++){var S=s[d];if(S[f])return"g"+d}return f},U.clean=function(T,f){if(f._inputDomain){for(var s=!1,d=f._id,S=T._fullLayout._axisConstraintGroups,M=0;M<S.length;M++)if(S[M][d]){s=!0;break}(!s||f.constrain!=="domain")&&(f._input.domain=f.domain=f._inputDomain,delete f._inputDomain)}};function x(h,T){var f=h._inputDomain,s=t[h.constraintoward],d=f[0]+(f[1]-f[0])*s;h.domain=h._input.domain=[d+(f[0]-d)/T,d+(f[1]-d)/T],h.setScale()}},29323:function(W,U,e){var p=e(39898),L=e(71828),a=L.numberFormat,P=e(84267),A=e(38520),v=e(73972),g=L.strTranslate,t=e(63893),r=e(7901),u=e(91424),o=e(30211),l=e(89298),c=e(6964),n=e(28569),x=e(64505),h=x.selectingOrDrawing,T=x.freeMode,f=e(18783).FROM_TL,s=e(33306),d=e(61549).redrawReglTraces,S=e(74875),M=e(41675).getFromId,C=e(47322).prepSelect,y=e(47322).clearOutline,w=e(47322).selectOnClick,b=e(42449),i=e(85555),E=i.MINDRAG,m=i.MINZOOM,F=!0;function _(ee,ue,ge,Te,xe,Pe,Ie,Ae){var be=ee._fullLayout._zoomlayer,_e=Ie+Ae==="nsew",Ve=(Ie+Ae).length===1,We,ze,Ze,ct,lt,at,tt,dt,wt,Mt,It,$e,ke,Fe,qe,it,Je,Re,Me,fe,ye,Le,Oe;ge+=ue.yaxis._shift;function ht(){if(We=ue.xaxis,ze=ue.yaxis,wt=We._length,Mt=ze._length,tt=We._offset,dt=ze._offset,Ze={},Ze[We._id]=We,ct={},ct[ze._id]=ze,Ie&&Ae)for(var wr=ue.overlays,er=0;er<wr.length;er++){var _r=wr[er].xaxis;Ze[_r._id]=_r;var Vr=wr[er].yaxis;ct[Vr._id]=Vr}lt=se(Ze),at=se(ct),ke=O(lt,Ae),Fe=O(at,Ie),qe=!Fe&&!ke,$e=J(ee,ee._fullLayout._axisMatchGroups,Ze,ct),It=J(ee,ee._fullLayout._axisConstraintGroups,Ze,ct,$e);var Br=It.isSubplotConstrained||$e.isSubplotConstrained;it=Ae||Br,Je=Ie||Br;var yr=ee._fullLayout;Re=yr._has("scattergl"),Me=yr._has("splom"),fe=yr._has("svg")}ht();var vt=q(Fe+ke,ee._fullLayout.dragmode,_e),Lt=I(ue,Ie+Ae+"drag",vt,ge,Te,xe,Pe);if(qe&&!_e)return Lt.onmousedown=null,Lt.style.pointerEvents="none",Lt;var Ot={element:Lt,gd:ee,plotinfo:ue};Ot.prepFn=function(wr,er,_r){var Vr=Ot.dragmode,Br=ee._fullLayout.dragmode;Br!==Vr&&(Ot.dragmode=Br),ht(),Le=ee._fullLayout._invScaleX,Oe=ee._fullLayout._invScaleY,qe||(_e?wr.shiftKey?Br==="pan"?Br="zoom":h(Br)||(Br="pan"):wr.ctrlKey&&(Br="pan"):Br="pan"),T(Br)?Ot.minDrag=1:Ot.minDrag=void 0,h(Br)?(Ot.xaxes=lt,Ot.yaxes=at,C(wr,er,_r,Ot,Br)):(Ot.clickFn=qt,h(Vr)&&Jt(),qe||(Br==="zoom"?(Ot.moveFn=yt,Ot.doneFn=Dt,Ot.minDrag=1,st(wr,er,_r)):Br==="pan"&&(Ot.moveFn=He,Ot.doneFn=Kt))),ee._fullLayout._redrag=function(){var yr=ee._dragdata;if(yr&&yr.element===Lt){var pn=ee._fullLayout.dragmode;h(pn)||(ht(),Xt([0,0,wt,Mt]),Ot.moveFn(yr.dx,yr.dy))}}};function Jt(){Ot.plotinfo.selection=!1,y(ee)}function qt(wr,er){var _r=Ot.gd;if(_r._fullLayout._activeShapeIndex>=0){_r._fullLayout._deactivateShape(_r);return}var Vr=_r._fullLayout.clickmode;if(G(_r),wr===2&&!Ve&&Ut(),_e)Vr.indexOf("select")>-1&&w(er,_r,lt,at,ue.id,Ot),Vr.indexOf("event")>-1&&o.click(_r,er,ue.id);else if(wr===1&&Ve){var Br=Ie?ze:We,yr=Ie==="s"||Ae==="w"?0:1,pn=Br._name+".range["+yr+"]",an=z(Br,yr),Zr="left",Nn="middle";if(Br.fixedrange)return;Ie?(Nn=Ie==="n"?"top":"bottom",Br.side==="right"&&(Zr="right")):Ae==="e"&&(Zr="right"),_r._context.showAxisRangeEntryBoxes&&p.select(Lt).call(t.makeEditable,{gd:_r,immediate:!0,background:_r._fullLayout.paper_bgcolor,text:String(an),fill:Br.tickfont?Br.tickfont.color:"#444",horizontalAlign:Zr,verticalAlign:Nn}).on("edit",function(fn){var xn=Br.d2r(fn);xn!==void 0&&v.call("_guiRelayout",_r,pn,xn)})}}n.init(Ot);var Vt,vr,gr,Gr,At,or,rr,Lr,Tr,pt;function st(wr,er,_r){var Vr=Lt.getBoundingClientRect();Vt=er-Vr.left,vr=_r-Vr.top,ee._fullLayout._calcInverseTransform(ee);var Br=L.apply3DTransform(ee._fullLayout._invTransform)(Vt,vr);Vt=Br[0],vr=Br[1],gr={l:Vt,r:Vt,w:0,t:vr,b:vr,h:0},Gr=ee._hmpixcount?ee._hmlumcount/ee._hmpixcount:P(ee._fullLayout.plot_bgcolor).getLuminance(),At="M0,0H"+wt+"V"+Mt+"H0V0",or=!1,rr="xy",pt=!1,Lr=Q(be,Gr,tt,dt,At),Tr=re(be,tt,dt)}function yt(wr,er){if(ee._transitioningWithDuration)return!1;var _r=Math.max(0,Math.min(wt,Le*wr+Vt)),Vr=Math.max(0,Math.min(Mt,Oe*er+vr)),Br=Math.abs(_r-Vt),yr=Math.abs(Vr-vr);gr.l=Math.min(Vt,_r),gr.r=Math.max(Vt,_r),gr.t=Math.min(vr,Vr),gr.b=Math.max(vr,Vr);function pn(){rr="",gr.r=gr.l,gr.t=gr.b,Tr.attr("d","M0,0Z")}if(It.isSubplotConstrained)Br>m||yr>m?(rr="xy",Br/wt>yr/Mt?(yr=Br*Mt/wt,vr>Vr?gr.t=vr-yr:gr.b=vr+yr):(Br=yr*wt/Mt,Vt>_r?gr.l=Vt-Br:gr.r=Vt+Br),Tr.attr("d",ie(gr))):pn();else if($e.isSubplotConstrained)if(Br>m||yr>m){rr="xy";var an=Math.min(gr.l/wt,(Mt-gr.b)/Mt),Zr=Math.max(gr.r/wt,(Mt-gr.t)/Mt);gr.l=an*wt,gr.r=Zr*wt,gr.b=(1-an)*Mt,gr.t=(1-Zr)*Mt,Tr.attr("d",ie(gr))}else pn();else!Fe||yr<Math.min(Math.max(Br*.6,E),m)?Br<E||!ke?pn():(gr.t=0,gr.b=Mt,rr="x",Tr.attr("d",Z(gr,vr))):!ke||Br<Math.min(yr*.6,m)?(gr.l=0,gr.r=wt,rr="y",Tr.attr("d",ae(gr,Vt))):(rr="xy",Tr.attr("d",ie(gr)));gr.w=gr.r-gr.l,gr.h=gr.b-gr.t,rr&&(pt=!0),ee._dragged=pt,oe(Lr,Tr,gr,At,or,Gr),Pt(),ee.emit("plotly_relayouting",ye),or=!0}function Pt(){ye={},(rr==="xy"||rr==="x")&&(k(lt,gr.l/wt,gr.r/wt,ye,It.xaxes),Ge("x",ye)),(rr==="xy"||rr==="y")&&(k(at,(Mt-gr.b)/Mt,(Mt-gr.t)/Mt,ye,It.yaxes),Ge("y",ye))}function Dt(){Pt(),G(ee),Kt(),V(ee)}var Nt=[0,0,wt,Mt],Zt=null,$t=i.REDRAWDELAY,lr=ue.mainplot?ee._fullLayout._plots[ue.mainplot]:ue;function ir(wr){if(!ee._context._scrollZoom.cartesian&&!ee._fullLayout._enablescrollzoom)return;if(Jt(),ee._transitioningWithDuration){wr.preventDefault(),wr.stopPropagation();return}ht(),clearTimeout(Zt);var er=-wr.deltaY;if(isFinite(er)||(er=wr.wheelDelta/10),!isFinite(er)){L.log("Did not find wheel motion attributes: ",wr);return}var _r=Math.exp(-Math.min(Math.max(er,-20),20)/200),Vr=lr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Br=(wr.clientX-Vr.left)/Vr.width,yr=(Vr.bottom-wr.clientY)/Vr.height,pn;function an(Zr,Nn,fn){if(Zr.fixedrange)return;var xn=L.simpleMap(Zr.range,Zr.r2l),On=xn[0]+(xn[1]-xn[0])*Nn;function br(Ir){return Zr.l2r(On+(Ir-On)*fn)}Zr.range=xn.map(br)}if(it){for(Ae||(Br=.5),pn=0;pn<lt.length;pn++)an(lt[pn],Br,_r);Ge("x"),Nt[2]*=_r,Nt[0]+=Nt[2]*Br*(1/_r-1)}if(Je){for(Ie||(yr=.5),pn=0;pn<at.length;pn++)an(at[pn],yr,_r);Ge("y"),Nt[3]*=_r,Nt[1]+=Nt[3]*(1-yr)*(1/_r-1)}Xt(Nt),Ct(),ee.emit("plotly_relayouting",ye),Zt=setTimeout(function(){ee._fullLayout&&(Nt=[0,0,wt,Mt],Kt())},$t),wr.preventDefault()}Ie.length*Ae.length!==1&&$(Lt,ir);function He(wr,er){if(wr=wr*Le,er=er*Oe,ee._transitioningWithDuration)return;if(ee._fullLayout._replotting=!0,ke==="ew"||Fe==="ns"){var _r=ke?-wr:0,Vr=Fe?-er:0;if($e.isSubplotConstrained){if(ke&&Fe){var Br=(wr/wt-er/Mt)/2;wr=Br*wt,er=-Br*Mt,_r=-wr,Vr=-er}Fe?_r=-Vr*wt/Mt:Vr=-_r*Mt/wt}ke&&(N(lt,wr),Ge("x")),Fe&&(N(at,er),Ge("y")),Xt([_r,Vr,wt,Mt]),Ct(),ee.emit("plotly_relayouting",ye);return}function yr(br,Ir,jr){for(var Wr=1-Ir,An,wn,Tn=0;Tn<br.length;Tn++){var Rn=br[Tn];if(!Rn.fixedrange){An=Rn,wn=Rn._rl[Wr]+(Rn._rl[Ir]-Rn._rl[Wr])/K(jr/Rn._length);var Gn=Rn.l2r(wn);Gn!==!1&&Gn!==void 0&&(Rn.range[Ir]=Gn)}}return An._length*(An._rl[Ir]-wn)/(An._rl[Ir]-An._rl[Wr])}var pn=ke==="w"==(Fe==="n")?1:-1;if(ke&&Fe&&(It.isSubplotConstrained||$e.isSubplotConstrained)){var an=(wr/wt+pn*er/Mt)/2;wr=an*wt,er=pn*an*Mt}var Zr,Nn;if(ke==="w"?wr=yr(lt,0,wr):ke==="e"?wr=yr(lt,1,-wr):ke||(wr=0),Fe==="n"?er=yr(at,1,er):Fe==="s"?er=yr(at,0,-er):Fe||(er=0),Zr=ke==="w"?wr:0,Nn=Fe==="n"?er:0,It.isSubplotConstrained&&!$e.isSubplotConstrained||$e.isSubplotConstrained&&ke&&Fe&&pn>0){var fn;if($e.isSubplotConstrained||!ke&&Fe.length===1){for(fn=0;fn<lt.length;fn++)lt[fn].range=lt[fn]._r.slice(),b(lt[fn],1-er/Mt);wr=er*wt/Mt,Zr=wr/2}if($e.isSubplotConstrained||!Fe&&ke.length===1){for(fn=0;fn<at.length;fn++)at[fn].range=at[fn]._r.slice(),b(at[fn],1-wr/wt);er=wr*Mt/wt,Nn=er/2}}(!$e.isSubplotConstrained||!Fe)&&Ge("x"),(!$e.isSubplotConstrained||!ke)&&Ge("y");var xn=wt-wr,On=Mt-er;$e.isSubplotConstrained&&!(ke&&Fe)&&(ke?(Nn=Zr?0:wr*Mt/wt,On=xn*Mt/wt):(Zr=Nn?0:er*wt/Mt,xn=On*wt/Mt)),Xt([Zr,Nn,xn,On]),Ct(),ee.emit("plotly_relayouting",ye)}function Ge(wr,er){for(var _r=$e.isSubplotConstrained?{x:at,y:lt}[wr]:$e[wr+"axes"],Vr=$e.isSubplotConstrained?{x:lt,y:at}[wr]:[],Br=0;Br<_r.length;Br++){var yr=_r[Br],pn=yr._id,an=$e.xLinks[pn]||$e.yLinks[pn],Zr=Vr[0]||Ze[an]||ct[an];Zr&&(er?(er[yr._name+".range[0]"]=er[Zr._name+".range[0]"],er[yr._name+".range[1]"]=er[Zr._name+".range[1]"]):yr.range=Zr.range.slice())}}function Ct(){var wr=[],er;function _r(yr){for(er=0;er<yr.length;er++)yr[er].fixedrange||wr.push(yr[er]._id)}for(it&&(_r(lt),_r(It.xaxes),_r($e.xaxes)),Je&&(_r(at),_r(It.yaxes),_r($e.yaxes)),ye={},er=0;er<wr.length;er++){var Vr=wr[er],Br=M(ee,Vr);l.drawOne(ee,Br,{skipTitle:!0}),ye[Br._name+".range[0]"]=Br.range[0],ye[Br._name+".range[1]"]=Br.range[1]}l.redrawComponents(ee,wr)}function Ut(){if(!ee._transitioningWithDuration){var wr=ee._context.doubleClick,er=[];ke&&(er=er.concat(lt)),Fe&&(er=er.concat(at)),$e.xaxes&&(er=er.concat($e.xaxes)),$e.yaxes&&(er=er.concat($e.yaxes));var _r={},Vr,Br,yr;if(wr==="reset+autosize"){for(wr="autosize",Br=0;Br<er.length;Br++)if(Vr=er[Br],Vr._rangeInitial&&(Vr.range[0]!==Vr._rangeInitial[0]||Vr.range[1]!==Vr._rangeInitial[1])||!Vr._rangeInitial&&!Vr.autorange){wr="reset";break}}if(wr==="autosize")for(Br=0;Br<er.length;Br++)Vr=er[Br],Vr.fixedrange||(_r[Vr._name+".autorange"]=!0);else if(wr==="reset")for((ke||It.isSubplotConstrained)&&(er=er.concat(It.xaxes)),Fe&&!It.isSubplotConstrained&&(er=er.concat(It.yaxes)),It.isSubplotConstrained&&(ke?Fe||(er=er.concat(at)):er=er.concat(lt)),Br=0;Br<er.length;Br++)Vr=er[Br],Vr.fixedrange||(Vr._rangeInitial?(yr=Vr._rangeInitial,_r[Vr._name+".range[0]"]=yr[0],_r[Vr._name+".range[1]"]=yr[1]):_r[Vr._name+".autorange"]=!0);ee.emit("plotly_doubleclick",null),v.call("_guiRelayout",ee,_r)}}function Kt(){Xt([0,0,wt,Mt]),L.syncOrAsync([S.previousPromises,function(){ee._fullLayout._replotting=!1,v.call("_guiRelayout",ee,ye)}],ee)}function Xt(wr){var er=ee._fullLayout,_r=er._plots,Vr=er._subplots.cartesian,Br,yr,pn,an;if(Me&&v.subplotsRegistry.splom.drag(ee),Re){for(Br=0;Br<Vr.length;Br++)if(yr=_r[Vr[Br]],pn=yr.xaxis,an=yr.yaxis,yr._scene){var Zr=L.simpleMap(pn.range,pn.r2l),Nn=L.simpleMap(an.range,an.r2l);yr._scene.update({range:[Zr[0],Nn[0],Zr[1],Nn[1]]})}}if((Me||Re)&&(s(ee),d(ee)),fe){var fn=wr[2]/We._length,xn=wr[3]/ze._length;for(Br=0;Br<Vr.length;Br++){yr=_r[Vr[Br]],pn=yr.xaxis,an=yr.yaxis;var On=(it||$e.isSubplotConstrained)&&!pn.fixedrange&&Ze[pn._id],br=(Je||$e.isSubplotConstrained)&&!an.fixedrange&&ct[an._id],Ir,jr,Wr,An;if(On?(Ir=fn,Wr=Ae||$e.isSubplotConstrained?wr[0]:Rr(pn,Ir)):$e.xaHash[pn._id]?(Ir=fn,Wr=wr[0]*pn._length/We._length):$e.yaHash[pn._id]?(Ir=xn,Wr=Fe==="ns"?-wr[1]*pn._length/ze._length:Rr(pn,Ir,{n:"top",s:"bottom"}[Fe])):(Ir=ur(pn,fn,xn),Wr=Ar(pn,Ir)),br?(jr=xn,An=Ie||$e.isSubplotConstrained?wr[1]:Rr(an,jr)):$e.yaHash[an._id]?(jr=xn,An=wr[1]*an._length/ze._length):$e.xaHash[an._id]?(jr=fn,An=ke==="ew"?-wr[0]*an._length/We._length:Rr(an,jr,{e:"right",w:"left"}[ke])):(jr=ur(an,fn,xn),An=Ar(an,jr)),!(!Ir&&!jr)){Ir||(Ir=1),jr||(jr=1);var wn=pn._offset-Wr/Ir,Tn=an._offset-An/jr;yr.clipRect.call(u.setTranslate,Wr,An).call(u.setScale,Ir,jr),yr.plot.call(u.setTranslate,wn,Tn).call(u.setScale,1/Ir,1/jr),(Ir!==yr.xScaleFactor||jr!==yr.yScaleFactor)&&(u.setPointGroupScale(yr.zoomScalePts,Ir,jr),u.setTextPointsScale(yr.zoomScaleTxt,Ir,jr)),u.hideOutsideRangePoints(yr.clipOnAxisFalseTraces,yr),yr.xScaleFactor=Ir,yr.yScaleFactor=jr}}}}function ur(wr,er,_r){return wr.fixedrange?0:it&&It.xaHash[wr._id]?er:Je&&(It.isSubplotConstrained?It.xaHash:It.yaHash)[wr._id]?_r:0}function Ar(wr,er){return er?(wr.range=wr._r.slice(),b(wr,er),Rr(wr,er)):0}function Rr(wr,er,_r){return wr._length*(1-er)*f[_r||wr.constraintoward||"middle"]}return Lt}function B(ee,ue,ge,Te){var xe=L.ensureSingle(ee.draglayer,ue,ge,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ee.id)});return xe.call(c,Te),xe.node()}function I(ee,ue,ge,Te,xe,Pe,Ie){var Ae=B(ee,"rect",ue,ge);return p.select(Ae).call(u.setRect,Te,xe,Pe,Ie),Ae}function O(ee,ue){for(var ge=0;ge<ee.length;ge++)if(!ee[ge].fixedrange)return ue;return""}function z(ee,ue){var ge=ee.range[ue],Te=Math.abs(ge-ee.range[1-ue]),xe;return ee.type==="date"?ge:ee.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(Te)/Math.LN10))+3,a("."+xe+"g")(Math.pow(10,ge))):(xe=Math.floor(Math.log(Math.abs(ge))/Math.LN10)-Math.floor(Math.log(Te)/Math.LN10)+4,a("."+String(xe)+"g")(ge))}function k(ee,ue,ge,Te,xe){for(var Pe=0;Pe<ee.length;Pe++){var Ie=ee[Pe];if(!Ie.fixedrange)if(Ie.rangebreaks){var Ae=Ie._id.charAt(0)==="y",be=Ae?1-ue:ue,_e=Ae?1-ge:ge;Te[Ie._name+".range[0]"]=Ie.l2r(Ie.p2l(be*Ie._length)),Te[Ie._name+".range[1]"]=Ie.l2r(Ie.p2l(_e*Ie._length))}else{var Ve=Ie._rl[0],We=Ie._rl[1]-Ve;Te[Ie._name+".range[0]"]=Ie.l2r(Ve+We*ue),Te[Ie._name+".range[1]"]=Ie.l2r(Ve+We*ge)}}if(xe&&xe.length){var ze=(ue+(1-ge))/2;k(xe,ze,1-ze,Te,[])}}function N(ee,ue){for(var ge=0;ge<ee.length;ge++){var Te=ee[ge];if(!Te.fixedrange)if(Te.rangebreaks){var xe=0,Pe=Te._length,Ie=Te.p2l(xe+ue)-Te.p2l(xe),Ae=Te.p2l(Pe+ue)-Te.p2l(Pe),be=(Ie+Ae)/2;Te.range=[Te.l2r(Te._rl[0]-be),Te.l2r(Te._rl[1]-be)]}else Te.range=[Te.l2r(Te._rl[0]-ue/Te._m),Te.l2r(Te._rl[1]-ue/Te._m)]}}function K(ee){return 1-(ee>=0?Math.min(ee,.9):1/(1/Math.max(ee,-.3)+3.222))}function q(ee,ue,ge){return ee?ee==="nsew"?ge?"":ue==="pan"?"move":"crosshair":ee.toLowerCase()+"-resize":"pointer"}function Q(ee,ue,ge,Te,xe){return ee.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(ge,Te)).attr("d",xe+"Z")}function re(ee,ue,ge){return ee.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(ue,ge)).attr("d","M0,0Z")}function oe(ee,ue,ge,Te,xe,Pe){ee.attr("d",Te+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),Y(ee,ue,xe,Pe)}function Y(ee,ue,ge,Te){ge||(ee.transition().style("fill",Te>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function G(ee){p.select(ee).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function V(ee){F&&ee.data&&ee._context.showTips&&(L.notifier(L._(ee,"Double-click to zoom back out"),"long"),F=!1)}function Z(ee,ue){return"M"+(ee.l-.5)+","+(ue-m-.5)+"h-3v"+(2*m+1)+"h3ZM"+(ee.r+.5)+","+(ue-m-.5)+"h3v"+(2*m+1)+"h-3Z"}function ae(ee,ue){return"M"+(ue-m-.5)+","+(ee.t-.5)+"v-3h"+(2*m+1)+"v3ZM"+(ue-m-.5)+","+(ee.b+.5)+"v3h"+(2*m+1)+"v-3Z"}function ie(ee){var ue=Math.floor(Math.min(ee.b-ee.t,ee.r-ee.l,m)/2);return"M"+(ee.l-3.5)+","+(ee.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(ee.r+3.5)+","+(ee.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(ee.r+3.5)+","+(ee.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(ee.l-3.5)+","+(ee.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function J(ee,ue,ge,Te,xe){for(var Pe=!1,Ie={},Ae={},be,_e,Ve,We,ze=(xe||{}).xaHash,Ze=(xe||{}).yaHash,ct=0;ct<ue.length;ct++){var lt=ue[ct];for(be in ge)if(lt[be]){for(Ve in lt)!(xe&&(ze[Ve]||Ze[Ve]))&&!(Ve.charAt(0)==="x"?ge:Te)[Ve]&&(Ie[Ve]=be);for(_e in Te)!(xe&&(ze[_e]||Ze[_e]))&&lt[_e]&&(Pe=!0)}for(_e in Te)if(lt[_e])for(We in lt)!(xe&&(ze[We]||Ze[We]))&&!(We.charAt(0)==="x"?ge:Te)[We]&&(Ae[We]=_e)}Pe&&(L.extendFlat(Ie,Ae),Ae={});var at={},tt=[];for(Ve in Ie){var dt=M(ee,Ve);tt.push(dt),at[dt._id]=dt}var wt={},Mt=[];for(We in Ae){var It=M(ee,We);Mt.push(It),wt[It._id]=It}return{xaHash:at,yaHash:wt,xaxes:tt,yaxes:Mt,xLinks:Ie,yLinks:Ae,isSubplotConstrained:Pe}}function $(ee,ue){if(!A)ee.onwheel!==void 0?ee.onwheel=ue:ee.onmousewheel!==void 0?ee.onmousewheel=ue:ee.isAddedWheelEvent||(ee.isAddedWheelEvent=!0,ee.addEventListener("wheel",ue,{passive:!1}));else{var ge=ee.onwheel!==void 0?"wheel":"mousewheel";ee._onwheel&&ee.removeEventListener(ge,ee._onwheel),ee._onwheel=ue,ee.addEventListener(ge,ue,{passive:!1})}}function se(ee){var ue=[];for(var ge in ee)ue.push(ee[ge]);return ue}W.exports={makeDragBox:_,makeDragger:B,makeRectDragger:I,makeZoombox:Q,makeCorners:re,updateZoombox:oe,xyCorners:ie,transitionZoombox:Y,removeZoombox:G,showDoubleClickNotifier:V,attachWheelEventHandler:$}},4305:function(W,U,e){var p=e(39898),L=e(30211),a=e(28569),P=e(6964),A=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;U.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){p.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var u=Object.keys(r._plots||{}).sort(function(l,c){if((r._plots[l].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var n=l.split("y"),x=c.split("y");return n[0]===x[0]?Number(n[1]||1)-Number(x[1]||1):Number(n[0]||1)-Number(x[0]||1)}return r._plots[l].mainplot?1:-1});u.forEach(function(l){var c=r._plots[l],n=c.xaxis,x=c.yaxis;if(!c.mainplot){var h=A(t,c,n._offset,x._offset,n._length,x._length,"ns","ew");h.onmousemove=function(s){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===l&&t._fullLayout._plots[l]&&L.hover(t,s,l)},L.hover(t,s,l),t._fullLayout._lasthover=h,t._fullLayout._hoversubplot=l},h.onmouseout=function(s){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,s))},t._context.showAxisDragHandles&&(A(t,c,n._offset-v,x._offset-v,v,v,"n","w"),A(t,c,n._offset+n._length,x._offset-v,v,v,"n","e"),A(t,c,n._offset-v,x._offset+x._length,v,v,"s","w"),A(t,c,n._offset+n._length,x._offset+x._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(l===n._mainSubplot){var T=n._mainLinePosition;n.side==="top"&&(T-=v),A(t,c,n._offset+n._length*.1,T,n._length*.8,v,"","ew"),A(t,c,n._offset,T,n._length*.1,v,"","w"),A(t,c,n._offset+n._length*.9,T,n._length*.1,v,"","e")}if(l===x._mainSubplot){var f=x._mainLinePosition;x.side!=="right"&&(f-=v),A(t,c,f,x._offset+x._length*.1,v,x._length*.8,"ns",""),A(t,c,f,x._offset+x._length*.9,v,x._length*.1,"s",""),A(t,c,f,x._offset,v,x._length*.1,"n","")}}});var o=r._hoverlayer.node();o.onmousemove=function(l){l.target=t._fullLayout._lasthover,L.hover(t,l,r._hoversubplot)},o.onclick=function(l){l.target=t._fullLayout._lasthover,L.click(t,l)},o.onmousedown=function(l){t._fullLayout._lasthover.onmousedown(l)},U.updateFx(t)}},U.updateFx=function(g){var t=g._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";P(t._draggers,r)}},76325:function(W,U,e){var p=e(73972),L=e(71828),a=e(41675);W.exports=function(A){return function(g,t){var r=g[A];if(Array.isArray(r))for(var u=p.subplotsRegistry.cartesian,o=u.idRegex,l=t._subplots,c=l.xaxis,n=l.yaxis,x=l.cartesian,h=t._has("cartesian")||t._has("gl2d"),T=0;T<r.length;T++){var f=r[T];if(L.isPlainObject(f)){var s=a.cleanId(f.xref,"x",!1),d=a.cleanId(f.yref,"y",!1),S=o.x.test(s),M=o.y.test(d);if(S||M){h||L.pushUnique(t._basePlotModules,u);var C=!1;S&&c.indexOf(s)===-1&&(c.push(s),C=!0),M&&n.indexOf(d)===-1&&(n.push(d),C=!0),C&&S&&M&&x.push(s+d)}}}}}},93612:function(W,U,e){var p=e(39898),L=e(73972),a=e(71828),P=e(74875),A=e(91424),v=e(27659).a0,g=e(41675),t=e(85555),r=e(77922),u=a.ensureSingle;function o(T,f,s){return a.ensureSingle(T,f,s,function(d){d.datum(s)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=t.idRegex,U.attrRegex=t.attrRegex,U.attributes=e(89502),U.layoutAttributes=e(13838),U.supplyLayoutDefaults=e(86763),U.transitionAxes=e(66847),U.finalizeSubplots=function(T,f){var s=f._subplots,d=s.xaxis,S=s.yaxis,M=s.cartesian,C=M.concat(s.gl2d||[]),y={},w={},b,i,E;for(b=0;b<C.length;b++){var m=C[b].split("y");y[m[0]]=1,w["y"+m[1]]=1}for(b=0;b<d.length;b++)i=d[b],y[i]||(E=(T[g.id2name(i)]||{}).anchor,t.idRegex.y.test(E)||(E="y"),M.push(i+E),C.push(i+E),w[E]||(w[E]=1,a.pushUnique(S,E)));for(b=0;b<S.length;b++)E=S[b],w[E]||(i=(T[g.id2name(E)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),M.push(i+E),C.push(i+E),y[i]||(y[i]=1,a.pushUnique(d,i)));if(!C.length){i="",E="";for(var F in T)if(t.attrRegex.test(F)){var _=F.charAt(0);_==="x"?(!i||+F.substr(5)<+i.substr(5))&&(i=F):(!E||+F.substr(5)<+E.substr(5))&&(E=F)}i=i?g.name2id(i):"x",E=E?g.name2id(E):"y",d.push(i),S.push(E),M.push(i+E)}},U.plot=function(T,f,s,d){var S=T._fullLayout,M=S._subplots.cartesian,C=T.calcdata,y;if(!Array.isArray(f))for(f=[],y=0;y<C.length;y++)f.push(y);for(y=0;y<M.length;y++){for(var w=M[y],b=S._plots[w],i=[],E,m=0;m<C.length;m++){var F=C[m],_=F[0].trace;_.xaxis+_.yaxis===w&&((f.indexOf(_.index)!==-1||_.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===w&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&i.indexOf(E)===-1&&i.push(E),i.push(F)),E=F)}l(T,b,i,s,d)}};function l(T,f,s,d,S){for(var M=t.traceLayerClasses,C=T._fullLayout,y=C._modules,w,b,i,E=[],m=[],F=0;F<y.length;F++){w=y[F];var _=w.name,B=L.modules[_].categories;if(B.svg){var I=w.layerName||_+"layer",O=w.plot;b=v(s,O),i=b[0],s=b[1],i.length&&E.push({i:M.indexOf(I),className:I,plotMethod:O,cdModule:i}),B.zoomScale&&m.push("."+I)}}E.sort(function(N,K){return N.i-K.i});var z=f.plot.selectAll("g.mlayer").data(E,function(N){return N.className});if(z.enter().append("g").attr("class",function(N){return N.className}).classed("mlayer",!0).classed("rangeplot",f.isRangePlot),z.exit().remove(),z.order(),z.each(function(N){var K=p.select(this),q=N.className;N.plotMethod(T,f,N.cdModule,K,d,S),t.clipOnAxisFalseQuery.indexOf("."+q)===-1&&A.setClipUrl(K,f.layerClipId,T)}),C._has("scattergl")&&(w=L.getModule("scattergl"),i=v(s,w)[0],w.plot(T,f,i)),!T._context.staticPlot&&(f._hasClipOnAxisFalse&&(f.clipOnAxisFalseTraces=f.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var k=f.plot.selectAll(m.join(",")).selectAll(".trace");f.zoomScalePts=k.selectAll("path.point"),f.zoomScaleTxt=k.selectAll(".textpoint")}}U.clean=function(T,f,s,d){var S=d._plots||{},M=f._plots||{},C=d._subplots||{},y,w,b;if(d._hasOnlyLargeSploms&&!f._hasOnlyLargeSploms)for(b in S)y=S[b],y.plotgroup&&y.plotgroup.remove();var i=d._has&&d._has("gl"),E=f._has&&f._has("gl");if(i&&!E)for(b in S)y=S[b],y._scene&&y._scene.destroy();if(C.xaxis&&C.yaxis){var m=g.listIds({_fullLayout:d});for(w=0;w<m.length;w++){var F=m[w];f[g.id2name(F)]||d._infolayer.selectAll(".g-"+F+"title").remove()}}var _=d._has&&d._has("cartesian"),B=f._has&&f._has("cartesian");if(_&&!B)x(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(w=0;w<C.cartesian.length;w++){var I=C.cartesian[w];if(!M[I]){var O="."+I+",."+I+"-x,."+I+"-y";d._cartesianlayer.selectAll(O).remove(),h(I,d)}}},U.drawFramework=function(T){var f=T._fullLayout,s=c(T),d=f._cartesianlayer.selectAll(".subplot").data(s,String);d.enter().append("g").attr("class",function(S){return"subplot "+S[0]}),d.order(),d.exit().call(x,f),d.each(function(S){var M=S[0],C=f._plots[M];C.plotgroup=p.select(this),n(T,C),C.draglayer=u(f._draggers,"g",M)})},U.rangePlot=function(T,f,s){n(T,f),l(T,f,s),P.style(T)};function c(T){var f=T._fullLayout,s=f._subplots.cartesian,d=s.length,S,M,C,y,w,b,i=[],E=[];for(S=0;S<d;S++){C=s[S],y=f._plots[C],w=y.xaxis,b=y.yaxis;var m=w._mainAxis,F=b._mainAxis,_=m._id+F._id,B=f._plots[_];y.overlays=[],_!==C&&B?(y.mainplot=_,y.mainplotinfo=B,E.push(C)):(y.mainplot=void 0,y.mainplotinfo=void 0,i.push(C))}for(S=0;S<E.length;S++)C=E[S],y=f._plots[C],y.mainplotinfo.overlays.push(y);var I=i.concat(E),O=new Array(d);for(S=0;S<d;S++){C=I[S],y=f._plots[C],w=y.xaxis,b=y.yaxis;var z=[C,w.layer,b.layer,w.overlaying||"",b.overlaying||""];for(M=0;M<y.overlays.length;M++)z.push(y.overlays[M].id);O[S]=z}return O}function n(T,f){var s=f.plotgroup,d=f.id,S=t.layerValue2layerClass[f.xaxis.layer],M=t.layerValue2layerClass[f.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(f.mainplot){var w=f.mainplotinfo,b=w.plotgroup,i=d+"-x",E=d+"-y";f.minorGridlayer=w.minorGridlayer,f.gridlayer=w.gridlayer,f.zerolinelayer=w.zerolinelayer,u(w.overlinesBelow,"path",i),u(w.overlinesBelow,"path",E),u(w.overaxesBelow,"g",i),u(w.overaxesBelow,"g",E),f.plot=u(w.overplot,"g",d),u(w.overlinesAbove,"path",i),u(w.overlinesAbove,"path",E),u(w.overaxesAbove,"g",i),u(w.overaxesAbove,"g",E),f.xlines=b.select(".overlines-"+S).select("."+i),f.ylines=b.select(".overlines-"+M).select("."+E),f.xaxislayer=b.select(".overaxes-"+S).select("."+i),f.yaxislayer=b.select(".overaxes-"+M).select("."+E)}else if(C)f.xlines=u(s,"path","xlines-above"),f.ylines=u(s,"path","ylines-above"),f.xaxislayer=u(s,"g","xaxislayer-above"),f.yaxislayer=u(s,"g","yaxislayer-above");else{var y=u(s,"g","layer-subplot");f.shapelayer=u(y,"g","shapelayer"),f.imagelayer=u(y,"g","imagelayer"),f.minorGridlayer=u(s,"g","minor-gridlayer"),f.gridlayer=u(s,"g","gridlayer"),f.zerolinelayer=u(s,"g","zerolinelayer"),u(s,"path","xlines-below"),u(s,"path","ylines-below"),f.overlinesBelow=u(s,"g","overlines-below"),u(s,"g","xaxislayer-below"),u(s,"g","yaxislayer-below"),f.overaxesBelow=u(s,"g","overaxes-below"),f.plot=u(s,"g","plot"),f.overplot=u(s,"g","overplot"),f.xlines=u(s,"path","xlines-above"),f.ylines=u(s,"path","ylines-above"),f.overlinesAbove=u(s,"g","overlines-above"),u(s,"g","xaxislayer-above"),u(s,"g","yaxislayer-above"),f.overaxesAbove=u(s,"g","overaxes-above"),f.xlines=s.select(".xlines-"+S),f.ylines=s.select(".ylines-"+M),f.xaxislayer=s.select(".xaxislayer-"+S),f.yaxislayer=s.select(".yaxislayer-"+M)}C||(o(f.minorGridlayer,"g",f.xaxis._id),o(f.minorGridlayer,"g",f.yaxis._id),f.minorGridlayer.selectAll("g").map(function(m){return m[0]}).sort(g.idSort),o(f.gridlayer,"g",f.xaxis._id),o(f.gridlayer,"g",f.yaxis._id),f.gridlayer.selectAll("g").map(function(m){return m[0]}).sort(g.idSort)),f.xlines.style("fill","none").classed("crisp",!0),f.ylines.style("fill","none").classed("crisp",!0)}function x(T,f){if(T){var s={};T.each(function(w){var b=w[0],i=p.select(this);i.remove(),h(b,f),s[b]=!0});for(var d in f._plots)for(var S=f._plots[d],M=S.overlays||[],C=0;C<M.length;C++){var y=M[C];s[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(T,f){f._draggers.selectAll("g."+T).remove(),f._defs.select("#clip"+f._uid+T+"plot").remove()}U.toSVG=function(T){var f=T._fullLayout._glimages,s=p.select(T).selectAll(".svg-container"),d=s.filter(function(M,C){return C===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function S(){var M=this,C=M.toDataURL("image/png"),y=f.append("svg:image");y.attr({xmlns:r.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}d.each(S)},U.updateFx=e(4305).updateFx},13838:function(W,U,e){var p=e(41940),L=e(22399),a=e(79952).P,P=e(1426).extendFlat,A=e(44467).templatedArray,v=e(12663).descriptionWithDates,g=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,u=t.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function l(y){return{valType:"integer",min:0,dflt:y?5:0,editType:"ticks"}}var c={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},n={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"data_array",editType:"ticks"},h={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function T(y){var w={valType:"number",min:0,editType:"ticks"};return y||(w.dflt=5),w}function f(y){var w={valType:"number",min:0,editType:"ticks"};return y||(w.dflt=1),w}var s={valType:"color",dflt:L.defaultLine,editType:"ticks"},d={valType:"color",dflt:L.lightLine,editType:"ticks"};function S(y){var w={valType:"number",min:0,editType:"ticks"};return y||(w.dflt=1),w}var M=P({},a,{editType:"ticks"}),C={valType:"boolean",editType:"ticks"};W.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:A("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:o,nticks:l(),tick0:c,dtick:n,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:x,ticktext:{valType:"data_array",editType:"ticks"},ticks:h,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:T(),tickwidth:f(),tickcolor:s,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:A("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:C,gridcolor:d,gridwidth:S(),griddash:M,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:l("minor"),tick0:c,dtick:n,tickvals:x,ticks:h,ticklen:T("minor"),tickwidth:f("minor"),tickcolor:s,gridcolor:d,gridwidth:S("minor"),griddash:M,showgrid:C,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},86763:function(W,U,e){var p=e(71828),L=e(7901),a=e(23469).isUnifiedHover,P=e(98212),A=e(44467),v=e(10820),g=e(13838),t=e(951),r=e(71453),u=e(99082),o=e(52830),l=e(41675),c=l.id2name,n=l.name2id,x=e(85555).AX_ID_PATTERN,h=e(73972),T=h.traceIs,f=h.getComponentMethod;function s(d,S,M){Array.isArray(d[S])?d[S].push(M):d[S]=[M]}W.exports=function(S,M,C){var y=M.autotypenumbers,w={},b={},i={},E={},m={},F={},_={},B={},I={},O={},z,k;for(z=0;z<C.length;z++){var N=C[z];if(!(!T(N,"cartesian")&&!T(N,"gl2d"))){var K;if(N.xaxis)K=c(N.xaxis),s(w,K,N);else if(N.xaxes)for(k=0;k<N.xaxes.length;k++)s(w,c(N.xaxes[k]),N);var q;if(N.yaxis)q=c(N.yaxis),s(w,q,N);else if(N.yaxes)for(k=0;k<N.yaxes.length;k++)s(w,c(N.yaxes[k]),N);if(N.type==="funnel"?N.orientation==="h"?(K&&(b[K]=!0),q&&(_[q]=!0)):q&&(i[q]=!0):N.type==="image"?(q&&(B[q]=!0),K&&(B[K]=!0)):(q&&(m[q]=!0,F[q]=!0),(!T(N,"carpet")||N.type==="carpet"&&!N._cheater)&&K&&(E[K]=!0)),N.type==="carpet"&&N._cheater&&K&&(b[K]=!0),T(N,"2dMap")&&(I[K]=!0,I[q]=!0),T(N,"oriented")){var Q=N.orientation==="h"?q:K;O[Q]=!0}}}var re=M._subplots,oe=re.xaxis,Y=re.yaxis,G=p.simpleMap(oe,c),V=p.simpleMap(Y,c),Z=G.concat(V),ae=L.background;oe.length&&Y.length&&(ae=p.coerce(S,M,v,"plot_bgcolor"));var ie=L.combine(ae,M.paper_bgcolor),J,$,se,ee,ue;function ge(){var Le=w[J]||[];ue._traceIndices=Le.map(function(Oe){return Oe._expandedIndex}),ue._annIndices=[],ue._shapeIndices=[],ue._selectionIndices=[],ue._imgIndices=[],ue._subplotsWith=[],ue._counterAxes=[],ue._name=ue._attr=J,ue._id=$}function Te(Le,Oe){return p.coerce(ee,ue,g,Le,Oe)}function xe(Le,Oe){return p.coerce2(ee,ue,g,Le,Oe)}function Pe(Le){return Le==="x"?Y:oe}function Ie(Le,Oe){for(var ht=Le==="x"?G:V,vt=[],Lt=0;Lt<ht.length;Lt++){var Ot=ht[Lt];Ot!==Oe&&!(S[Ot]||{}).overlaying&&vt.push(n(Ot))}return vt}var Ae={x:Pe("x"),y:Pe("y")},be=Ae.x.concat(Ae.y),_e={},Ve=[];function We(){var Le=ee.matches;x.test(Le)&&be.indexOf(Le)===-1&&(_e[Le]=ee.type,Ve=Object.keys(_e))}var ze=P(S,M),Ze=a(ze);for(z=0;z<Z.length;z++){J=Z[z],$=n(J),se=J.charAt(0),p.isPlainObject(S[J])||(S[J]={}),ee=S[J],ue=A.newContainer(M,J,se+"axis"),ge();var ct=se==="x"&&!E[J]&&b[J]||se==="y"&&!m[J]&&i[J],lt=se==="y"&&(!F[J]&&_[J]||B[J]),at={hasMinor:!0,letter:se,font:M.font,outerTicks:I[J],showGrid:!O[J],data:w[J]||[],bgColor:ie,calendar:M.calendar,automargin:!0,visibleDflt:ct,reverseDflt:lt,autotypenumbersDflt:y,splomStash:((M._splomAxes||{})[se]||{})[$]};Te("uirevision",M.uirevision),t(ee,ue,Te,at),r(ee,ue,Te,at,M);var tt=Ze&&se===ze.charAt(0),dt=xe("spikecolor",Ze?ue.color:void 0),wt=xe("spikethickness",Ze?1.5:void 0),Mt=xe("spikedash",Ze?"dot":void 0),It=xe("spikemode",Ze?"across":void 0),$e=xe("spikesnap"),ke=Te("showspikes",!!tt||!!dt||!!wt||!!Mt||!!It||!!$e);ke||(delete ue.spikecolor,delete ue.spikethickness,delete ue.spikedash,delete ue.spikemode,delete ue.spikesnap);var Fe=c(ee.overlaying),qe=[0,1];if(M[Fe]!==void 0){var it=c(M[Fe].anchor);M[it]!==void 0&&(qe=M[it].domain)}o(ee,ue,Te,{letter:se,counterAxes:Ae[se],overlayableAxes:Ie(se,J),grid:M.grid,overlayingDomain:qe}),Te("title.standoff"),We(),ue._input=ee}for(z=0;z<Ve.length;){$=Ve[z++],J=c($),se=J.charAt(0),p.isPlainObject(S[J])||(S[J]={}),ee=S[J],ue=A.newContainer(M,J,se+"axis"),ge();var Je={letter:se,font:M.font,outerTicks:I[J],showGrid:!O[J],data:[],bgColor:ie,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((M._splomAxes||{})[se]||{})[$]};Te("uirevision",M.uirevision),ue.type=_e[$]||"linear",r(ee,ue,Te,Je,M),o(ee,ue,Te,{letter:se,counterAxes:Ae[se],overlayableAxes:Ie(se,J),grid:M.grid}),Te("fixedrange"),We(),ue._input=ee}var Re=f("rangeslider","handleDefaults"),Me=f("rangeselector","handleDefaults");for(z=0;z<G.length;z++)J=G[z],ee=S[J],ue=M[J],Re(S,M,J),ue.type==="date"&&Me(ee,ue,M,V,ue.calendar),Te("fixedrange");for(z=0;z<V.length;z++){J=V[z],ee=S[J],ue=M[J];var fe=M[c(ue.anchor)],ye=f("rangeslider","isVisible")(fe);Te("fixedrange",ye)}u.handleDefaults(S,M,{axIds:be.concat(Ve).sort(l.idSort),axHasImage:B})}},92128:function(W,U,e){var p=e(84267).mix,L=e(22399),a=e(71828);W.exports=function(A,v,g,t){t=t||{};var r=t.dfltColor;function u(i,E){return a.coerce2(A,v,t.attributes,i,E)}var o=u("linecolor",r),l=u("linewidth"),c=g("showline",t.showLine||!!o||!!l);c||(delete v.linecolor,delete v.linewidth);var n=p(r,t.bgColor,t.blend||L.lightFraction).toRgbString(),x=u("gridcolor",n),h=u("gridwidth"),T=u("griddash"),f=g("showgrid",t.showGrid||!!x||!!h||!!T);if(f||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var s=p(v.gridcolor,t.bgColor,67).toRgbString(),d=u("minor.gridcolor",s),S=u("minor.gridwidth",v.gridwidth||1),M=u("minor.griddash",v.griddash||"solid"),C=g("minor.showgrid",!!d||!!S||!!M);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var y=u("zerolinecolor",r),w=u("zerolinewidth"),b=g("zeroline",t.showGrid||!!y||!!w);b||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(W,U,e){var p=e(92770),L=e(71828);W.exports=function(P,A,v,g){var t=g.counterAxes||[],r=g.overlayableAxes||[],u=g.letter,o=g.grid,l=g.overlayingDomain,c,n,x,h,T,f;o&&(n=o._domains[u][o._axisMap[A._id]],c=o._anchors[A._id],n&&(x=o[u+"side"].split(" ")[0],h=o.domain[u][x==="right"||x==="top"?1:0])),n=n||[0,1],c=c||(p(P.position)?"free":t[0]||"free"),x=x||(u==="x"?"bottom":"left"),h=h||0,T=0,f=!1;var s=L.coerce(P,A,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:c}},"anchor"),d=L.coerce(P,A,{side:{valType:"enumerated",values:u==="x"?["bottom","top"]:["left","right"],dflt:x}},"side");if(s==="free"){if(u==="y"){var S=v("autoshift");S&&(h=d==="left"?l[0]:l[1],f=A.automargin?A.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",f);var M=!1;if(r.length&&(M=L.coerce(P,A,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!M){var C=v("domain",n);C[0]>C[1]-.000244140625&&(A.domain=n),L.noneOrAll(P.domain,A.domain,n)}return v("layer"),A}},89426:function(W,U,e){var p=e(59652);W.exports=function(a,P,A,v,g){g||(g={});var t=g.tickSuffixDflt,r=p(a),u=A("tickprefix");u&&A("showtickprefix",r);var o=A("ticksuffix",t);o&&A("showticksuffix",r)}},42449:function(W,U,e){var p=e(18783).FROM_BL;W.exports=function(a,P,A){A===void 0&&(A=p[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],g=v[0]+(v[1]-v[0])*A;a.range=a._input.range=[a.l2r(g+(v[0]-g)*P),a.l2r(g+(v[1]-g)*P)],a.setScale()}},21994:function(W,U,e){var p=e(39898),L=e(84096).g0,a=e(71828),P=a.numberFormat,A=e(92770),v=a.cleanNumber,g=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,u=a.isArrayOrTypedArray,o=e(50606),l=o.FP_SAFE,c=o.BADNUM,n=o.LOG_CLIP,x=o.ONEWEEK,h=o.ONEDAY,T=o.ONEHOUR,f=o.ONEMIN,s=o.ONESEC,d=e(41675),S=e(85555),M=S.HOUR_PATTERN,C=S.WEEKDAY_PATTERN;function y(b){return Math.pow(10,b)}function w(b){return b!=null}W.exports=function(i,E){E=E||{};var m=i._id||"x",F=m.charAt(0);function _(Z,ae){if(Z>0)return Math.log(Z)/Math.LN10;if(Z<=0&&ae&&i.range&&i.range.length===2){var ie=i.range[0],J=i.range[1];return .5*(ie+J-2*n*Math.abs(ie-J))}else return c}function B(Z,ae,ie,J){if((J||{}).msUTC&&A(Z))return+Z;var $=t(Z,ie||i.calendar);if($===c)if(A(Z)){Z=+Z;var se=Math.floor(a.mod(Z+.05,1)*10),ee=Math.round(Z-se/10);$=t(new Date(ee))+se/10}else return c;return $}function I(Z,ae,ie){return g(Z,ae,ie||i.calendar)}function O(Z){return i._categories[Math.round(Z)]}function z(Z){if(w(Z)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[Z]!==void 0)return i._categoriesMap[Z];i._categories.push(typeof Z=="number"?String(Z):Z);var ae=i._categories.length-1;return i._categoriesMap[Z]=ae,ae}return c}function k(Z,ae){for(var ie=new Array(ae),J=0;J<ae;J++){var $=(Z[0]||[])[J],se=(Z[1]||[])[J];ie[J]=N([$,se])}return ie}function N(Z){if(i._categoriesMap)return i._categoriesMap[Z]}function K(Z){var ae=N(Z);if(ae!==void 0)return ae;if(A(Z))return+Z}function q(Z){return A(Z)?+Z:N(Z)}function Q(Z,ae,ie){return p.round(ie+ae*Z,2)}function re(Z,ae,ie){return(Z-ie)/ae}var oe=function(ae){return A(ae)?Q(ae,i._m,i._b):c},Y=function(Z){return re(Z,i._m,i._b)};if(i.rangebreaks){var G=F==="y";oe=function(Z){if(!A(Z))return c;var ae=i._rangebreaks.length;if(!ae)return Q(Z,i._m,i._b);var ie=G;i.range[0]>i.range[1]&&(ie=!ie);for(var J=ie?-1:1,$=J*Z,se=0,ee=0;ee<ae;ee++){var ue=J*i._rangebreaks[ee].min,ge=J*i._rangebreaks[ee].max;if($<ue)break;if($>ge)se=ee+1;else{se=$<(ue+ge)/2?ee:ee+1;break}}var Te=i._B[se]||0;return isFinite(Te)?Q(Z,i._m2,Te):0},Y=function(Z){var ae=i._rangebreaks.length;if(!ae)return re(Z,i._m,i._b);for(var ie=0,J=0;J<ae&&!(Z<i._rangebreaks[J].pmin);J++)Z>i._rangebreaks[J].pmax&&(ie=J+1);return re(Z,i._m2,i._B[ie])}}i.c2l=i.type==="log"?_:r,i.l2c=i.type==="log"?y:r,i.l2p=oe,i.p2l=Y,i.c2p=i.type==="log"?function(Z,ae){return oe(_(Z,ae))}:oe,i.p2c=i.type==="log"?function(Z){return y(Y(Z))}:Y,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(Z){return i.l2p(v(Z))},i.p2d=i.p2r=Y,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(Z,ae){return _(v(Z),ae)},i.r2d=i.r2c=function(Z){return y(v(Z))},i.d2c=i.r2l=v,i.c2d=i.l2r=r,i.c2r=_,i.l2d=y,i.d2p=function(Z,ae){return i.l2p(i.d2r(Z,ae))},i.p2d=function(Z){return y(Y(Z))},i.r2p=function(Z){return i.l2p(v(Z))},i.p2r=Y,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=a.identity,i.d2c=i.r2c=i.d2l=i.r2l=B,i.c2d=i.c2r=i.l2d=i.l2r=I,i.d2p=i.r2p=function(Z,ae,ie){return i.l2p(B(Z,0,ie))},i.p2d=i.p2r=function(Z,ae,ie){return I(Y(Z),ae,ie)},i.cleanPos=function(Z){return a.cleanDate(Z,c,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=z,i.r2d=i.c2d=i.l2d=O,i.d2r=i.d2l_noadd=K,i.r2c=function(Z){var ae=q(Z);return ae!==void 0?ae:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=q,i.d2p=function(Z){return i.l2p(i.r2c(Z))},i.p2d=function(Z){return O(Y(Z))},i.r2p=i.d2p,i.p2r=Y,i.cleanPos=function(Z){return typeof Z=="string"&&Z!==""?Z:r(Z)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=O,i.d2r=i.d2l_noadd=K,i.r2c=function(Z){var ae=K(Z);return ae!==void 0?ae:i.fraction2r(.5)},i.r2c_just_indices=N,i.l2r=i.c2r=r,i.r2l=K,i.d2p=function(Z){return i.l2p(i.r2c(Z))},i.p2d=function(Z){return O(Y(Z))},i.r2p=i.d2p,i.p2r=Y,i.cleanPos=function(Z){return Array.isArray(Z)||typeof Z=="string"&&Z!==""?Z:r(Z)},i.setupMultiCategory=function(Z){var ae=i._traceIndices,ie,J,$=i._matchGroup;if($&&i._categories.length===0){for(var se in $)if(se!==m){var ee=E[d.id2name(se)];ae=ae.concat(ee._traceIndices)}}var ue=[[0,{}],[0,{}]],ge=[];for(ie=0;ie<ae.length;ie++){var Te=Z[ae[ie]];if(F in Te){var xe=Te[F],Pe=Te._length||a.minRowLength(xe);if(u(xe[0])&&u(xe[1]))for(J=0;J<Pe;J++){var Ie=xe[0][J],Ae=xe[1][J];w(Ie)&&w(Ae)&&(ge.push([Ie,Ae]),Ie in ue[0][1]||(ue[0][1][Ie]=ue[0][0]++),Ae in ue[1][1]||(ue[1][1][Ae]=ue[1][0]++))}}}for(ge.sort(function(be,_e){var Ve=ue[0][1],We=Ve[be[0]]-Ve[_e[0]];if(We)return We;var ze=ue[1][1];return ze[be[1]]-ze[_e[1]]}),ie=0;ie<ge.length;ie++)z(ge[ie])}),i.fraction2r=function(Z){var ae=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return i.l2r(ae+Z*(ie-ae))},i.r2fraction=function(Z){var ae=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return(i.r2l(Z)-ae)/(ie-ae)},i.cleanRange=function(Z,ae){ae||(ae={}),Z||(Z="range");var ie=a.nestedProperty(i,Z).get(),J,$;if(i.type==="date"?$=a.dfltRange(i.calendar):F==="y"?$=S.DFLTRANGEY:i._name==="realaxis"?$=[0,1]:$=ae.dfltRange||S.DFLTRANGEX,$=$.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&($[0]=0),!ie||ie.length!==2){a.nestedProperty(i,Z).set($);return}for(i.type==="date"&&!i.autorange&&(ie[0]=a.cleanDate(ie[0],c,i.calendar),ie[1]=a.cleanDate(ie[1],c,i.calendar)),J=0;J<2;J++)if(i.type==="date"){if(!a.isDateTime(ie[J],i.calendar)){i[Z]=$;break}if(i.r2l(ie[0])===i.r2l(ie[1])){var se=a.constrain(i.r2l(ie[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ie[0]=i.l2r(se-1e3),ie[1]=i.l2r(se+1e3);break}}else{if(!A(ie[J]))if(A(ie[1-J]))ie[J]=ie[1-J]*(J?10:.1);else{i[Z]=$;break}if(ie[J]<-l?ie[J]=-l:ie[J]>l&&(ie[J]=l),ie[0]===ie[1]){var ee=Math.max(1,Math.abs(ie[0]*1e-6));ie[0]-=ee,ie[1]+=ee}}},i.setScale=function(Z){var ae=E._size;if(i.overlaying){var ie=d.getFromId({_fullLayout:E},i.overlaying);i.domain=ie.domain}var J=Z&&i._r?"_r":"range",$=i.calendar;i.cleanRange(J);var se=i.r2l(i[J][0],$),ee=i.r2l(i[J][1],$),ue=F==="y";if(ue?(i._offset=ae.t+(1-i.domain[1])*ae.h,i._length=ae.h*(i.domain[1]-i.domain[0]),i._m=i._length/(se-ee),i._b=-i._m*ee):(i._offset=ae.l+i.domain[0]*ae.w,i._length=ae.w*(i.domain[1]-i.domain[0]),i._m=i._length/(ee-se),i._b=-i._m*se),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var ge,Te;if(i._rangebreaks=i.locateBreaks(Math.min(se,ee),Math.max(se,ee)),i._rangebreaks.length){for(ge=0;ge<i._rangebreaks.length;ge++)Te=i._rangebreaks[ge],i._lBreaks+=Math.abs(Te.max-Te.min);var xe=ue;se>ee&&(xe=!xe),xe&&i._rangebreaks.reverse();var Pe=xe?-1:1;for(i._m2=Pe*i._length/(Math.abs(ee-se)-i._lBreaks),i._B.push(-i._m2*(ue?ee:se)),ge=0;ge<i._rangebreaks.length;ge++)Te=i._rangebreaks[ge],i._B.push(i._B[i._B.length-1]-Pe*i._m2*(Te.max-Te.min));for(ge=0;ge<i._rangebreaks.length;ge++)Te=i._rangebreaks[ge],Te.pmin=oe(Te.min),Te.pmax=oe(Te.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(Z){var ae=i.rangebreaks||[],ie,J,$,se,ee;ae._cachedPatterns||(ae._cachedPatterns=ae.map(function(Ve){return Ve.enabled&&Ve.bounds?a.simpleMap(Ve.bounds,Ve.pattern?v:i.d2c):null})),ae._cachedValues||(ae._cachedValues=ae.map(function(Ve){return Ve.enabled&&Ve.values?a.simpleMap(Ve.values,i.d2c).sort(a.sorterAsc):null}));for(var ue=0;ue<ae.length;ue++){var ge=ae[ue];if(ge.enabled){if(ge.bounds){var Te=ge.pattern;switch(ie=ae._cachedPatterns[ue],J=ie[0],$=ie[1],Te){case C:ee=new Date(Z),se=ee.getUTCDay(),J>$&&($+=7,se<J&&(se+=7));break;case M:ee=new Date(Z);var xe=ee.getUTCHours(),Pe=ee.getUTCMinutes(),Ie=ee.getUTCSeconds(),Ae=ee.getUTCMilliseconds();se=xe+(Pe/60+Ie/3600+Ae/36e5),J>$&&($+=24,se<J&&(se+=24));break;case"":se=Z;break}if(se>=J&&se<$)return c}else for(var be=ae._cachedValues[ue],_e=0;_e<be.length;_e++)if(J=be[_e],$=J+ge.dvalue,Z>=J&&Z<$)return c}}return Z},i.locateBreaks=function(Z,ae){var ie,J,$,se,ee=[];if(!i.rangebreaks)return ee;var ue=i.rangebreaks.slice().sort(function(ze,Ze){return ze.pattern===C&&Ze.pattern===M?-1:Ze.pattern===C&&ze.pattern===M?1:0}),ge=function(ze,Ze){if(ze=a.constrain(ze,Z,ae),Ze=a.constrain(Ze,Z,ae),ze!==Ze){for(var ct=!0,lt=0;lt<ee.length;lt++){var at=ee[lt];ze<at.max&&Ze>=at.min&&(ze<at.min&&(at.min=ze),Ze>at.max&&(at.max=Ze),ct=!1)}ct&&ee.push({min:ze,max:Ze})}};for(ie=0;ie<ue.length;ie++){var Te=ue[ie];if(Te.enabled)if(Te.bounds){var xe=Z,Pe=ae;Te.pattern&&(xe=Math.floor(xe)),J=a.simpleMap(Te.bounds,Te.pattern?v:i.r2l),$=J[0],se=J[1];var Ie=new Date(xe),Ae,be;switch(Te.pattern){case C:be=x,Ae=((se<$?7:0)+(se-$))*h,xe+=$*h-(Ie.getUTCDay()*h+Ie.getUTCHours()*T+Ie.getUTCMinutes()*f+Ie.getUTCSeconds()*s+Ie.getUTCMilliseconds());break;case M:be=h,Ae=((se<$?24:0)+(se-$))*T,xe+=$*T-(Ie.getUTCHours()*T+Ie.getUTCMinutes()*f+Ie.getUTCSeconds()*s+Ie.getUTCMilliseconds());break;default:xe=Math.min(J[0],J[1]),Pe=Math.max(J[0],J[1]),be=Pe-xe,Ae=be}for(var _e=xe;_e<Pe;_e+=be)ge(_e,_e+Ae)}else for(var Ve=a.simpleMap(Te.values,i.d2c),We=0;We<Ve.length;We++)$=Ve[We],se=$+Te.dvalue,ge($,se)}return ee.sort(function(ze,Ze){return ze.min-Ze.min}),ee},i.makeCalcdata=function(Z,ae,ie){var J,$,se,ee,ue=i.type,ge=ue==="date"&&Z[ae+"calendar"];if(ae in Z){if(J=Z[ae],ee=Z._length||a.minRowLength(J),a.isTypedArray(J)&&(ue==="linear"||ue==="log")){if(ee===J.length)return J;if(J.subarray)return J.subarray(0,ee)}if(ue==="multicategory")return k(J,ee);for($=new Array(ee),se=0;se<ee;se++)$[se]=i.d2c(J[se],0,ge,ie)}else{var Te=ae+"0"in Z?i.d2c(Z[ae+"0"],0,ge):0,xe=Z["d"+ae]?Number(Z["d"+ae]):1;for(J=Z[{x:"y",y:"x"}[ae]],ee=Z._length||J.length,$=new Array(ee),se=0;se<ee;se++)$[se]=Te+se*xe}if(i.rangebreaks)for(se=0;se<ee;se++)$[se]=i.maskBreaks($[se]);return $},i.isValidRange=function(Z){return Array.isArray(Z)&&Z.length===2&&A(i.r2l(Z[0]))&&A(i.r2l(Z[1]))},i.isPtWithinRange=function(Z,ae){var ie=i.c2l(Z[F],null,ae),J=i.r2l(i.range[0]),$=i.r2l(i.range[1]);return J<$?J<=ie&&ie<=$:$<=ie&&ie<=J},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var Z=i._matchGroup;if(Z){var ae=null,ie=null;for(var J in Z){var $=E[d.id2name(J)];if($._categories){ae=$._categories,ie=$._categoriesMap;break}}ae&&ie?(i._categories=ae,i._categoriesMap=ie):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var se=0;se<i._initialCategories.length;se++)z(i._initialCategories[se])},i.sortByInitialCategories=function(){var Z=[];if(i._emptyCategories(),i._initialCategories)for(var ae=0;ae<i._initialCategories.length;ae++)z(i._initialCategories[ae]);Z=Z.concat(i._traceIndices);var ie=i._matchGroup;for(var J in ie)if(m!==J){var $=E[d.id2name(J)];$._categories=i._categories,$._categoriesMap=i._categoriesMap,Z=Z.concat($._traceIndices)}return Z};var V=E._d3locale;i.type==="date"&&(i._dateFormat=V?V.timeFormat:L,i._extraFormat=E._extraFormat),i._separators=E.separators,i._numFormat=V?V.numberFormat:P,delete i._minDtick,delete i._forceTick0}},59652:function(W){W.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(P){return e[P]!==void 0}),a=function(P){return e[P]===e[L[0]]};if(L.every(a)||L.length===1)return e[L[0]]}},96115:function(W,U,e){var p=e(71828),L=e(7901).contrast,a=e(13838),P=e(59652),A=e(85501);W.exports=function(t,r,u,o,l){l||(l={});var c=P(t),n=u("showticklabels");if(n){var x=l.font||{},h=r.color,T=r.ticklabelposition||"",f=T.indexOf("inside")!==-1?L(l.bgColor):h&&h!==a.color.dflt?h:x.color;if(p.coerceFont(u,"tickfont",{family:x.family,size:x.size,color:f}),!l.noTicklabelstep&&o!=="multicategory"&&o!=="log"&&u("ticklabelstep"),l.noAng||u("tickangle"),o!=="category"){var s=u("tickformat");A(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!l.noExp&&!s&&o!=="date"&&(u("showexponent",c),u("exponentformat"),u("minexponent"),u("separatethousands"))}}};function v(g,t){function r(o,l){return p.coerce(g,t,a.tickformatstops,o,l)}var u=r("enabled");u&&(r("dtickrange"),r("value"))}},38701:function(W,U,e){var p=e(71828),L=e(13838);W.exports=function(P,A,v,g){var t=g.isMinor,r=t?P.minor||{}:P,u=t?A.minor:A,o=t?L.minor:L,l=t?"minor.":"",c=p.coerce2(r,u,o,"ticklen",t?(A.ticklen||5)*.6:void 0),n=p.coerce2(r,u,o,"tickwidth",t?A.tickwidth||1:void 0),x=p.coerce2(r,u,o,"tickcolor",(t?A.tickcolor:void 0)||u.color),h=v(l+"ticks",!t&&g.outerTicks||c||n||x?"outside":"");h||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},26218:function(W,U,e){var p=e(66287),L=e(71828).isArrayOrTypedArray;W.exports=function(P,A,v,g,t){t||(t={});var r=t.isMinor,u=r?P.minor||{}:P,o=r?A.minor:A,l=r?"minor.":"";function c(S){var M=u[S];return M!==void 0?M:(o._template||{})[S]}var n=c("tick0"),x=c("dtick"),h=c("tickvals"),T=L(h)?"array":x?"linear":"auto",f=v(l+"tickmode",T);if(f==="auto")v(l+"nticks");else if(f==="linear"){var s=o.dtick=p.dtick(x,g);o.tick0=p.tick0(n,g,A.calendar,s)}else if(g!=="multicategory"){var d=v(l+"tickvals");d===void 0?o.tickmode="auto":r||v("ticktext")}}},66847:function(W,U,e){var p=e(39898),L=e(73972),a=e(71828),P=e(91424),A=e(89298);W.exports=function(g,t,r,u){var o=g._fullLayout;if(t.length===0){A.redrawComponents(g);return}function l(M){var C=M.xaxis,y=M.yaxis;o._defs.select("#"+M.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),M.plot.call(P.setTranslate,C._offset,y._offset).call(P.setScale,1,1);var w=M.plot.selectAll(".scatterlayer .trace");w.selectAll(".point").call(P.setPointGroupScale,1,1),w.selectAll(".textpoint").call(P.setTextPointsScale,1,1),w.call(P.hideOutsideRangePoints,M)}function c(M,C){var y=M.plotinfo,w=y.xaxis,b=y.yaxis,i=w._length,E=b._length,m=!!M.xr1,F=!!M.yr1,_=[];if(m){var B=a.simpleMap(M.xr0,w.r2l),I=a.simpleMap(M.xr1,w.r2l),O=B[1]-B[0],z=I[1]-I[0];_[0]=(B[0]*(1-C)+C*I[0]-B[0])/(B[1]-B[0])*i,_[2]=i*(1-C+C*z/O),w.range[0]=w.l2r(B[0]*(1-C)+C*I[0]),w.range[1]=w.l2r(B[1]*(1-C)+C*I[1])}else _[0]=0,_[2]=i;if(F){var k=a.simpleMap(M.yr0,b.r2l),N=a.simpleMap(M.yr1,b.r2l),K=k[1]-k[0],q=N[1]-N[0];_[1]=(k[1]*(1-C)+C*N[1]-k[1])/(k[0]-k[1])*E,_[3]=E*(1-C+C*q/K),b.range[0]=w.l2r(k[0]*(1-C)+C*N[0]),b.range[1]=b.l2r(k[1]*(1-C)+C*N[1])}else _[1]=0,_[3]=E;A.drawOne(g,w,{skipTitle:!0}),A.drawOne(g,b,{skipTitle:!0}),A.redrawComponents(g,[w._id,b._id]);var Q=m?i/_[2]:1,re=F?E/_[3]:1,oe=m?_[0]:0,Y=F?_[1]:0,G=m?_[0]/_[2]*i:0,V=F?_[1]/_[3]*E:0,Z=w._offset-G,ae=b._offset-V;y.clipRect.call(P.setTranslate,oe,Y).call(P.setScale,1/Q,1/re),y.plot.call(P.setTranslate,Z,ae).call(P.setScale,Q,re),P.setPointGroupScale(y.zoomScalePts,1/Q,1/re),P.setTextPointsScale(y.zoomScaleTxt,1/Q,1/re)}var n;u&&(n=u());function x(){for(var M={},C=0;C<t.length;C++){var y=t[C],w=y.plotinfo.xaxis,b=y.plotinfo.yaxis;y.xr1&&(M[w._name+".range"]=y.xr1.slice()),y.yr1&&(M[b._name+".range"]=y.yr1.slice())}return n&&n(),L.call("relayout",g,M).then(function(){for(var i=0;i<t.length;i++)l(t[i].plotinfo)})}function h(){for(var M={},C=0;C<t.length;C++){var y=t[C],w=y.plotinfo.xaxis,b=y.plotinfo.yaxis;y.xr0&&(M[w._name+".range"]=y.xr0.slice()),y.yr0&&(M[b._name+".range"]=y.yr0.slice())}return L.call("relayout",g,M).then(function(){for(var i=0;i<t.length;i++)l(t[i].plotinfo)})}var T,f,s,d=p.ease(r.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(s),s=null,h()});function S(){f=Date.now();for(var M=Math.min(1,(f-T)/r.duration),C=d(M),y=0;y<t.length;y++)c(t[y],C);f-T>r.duration?(x(),s=window.cancelAnimationFrame(S)):s=window.requestAnimationFrame(S)}return T=Date.now(),s=window.requestAnimationFrame(S),Promise.resolve()}},951:function(W,U,e){var p=e(73972).traceIs,L=e(4322);W.exports=function(t,r,u,o){u("autotypenumbers",o.autotypenumbersDflt);var l=u("type",(o.splomStash||{}).type);l==="-"&&(a(r,o.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(g,t){if(g.type==="-"){var r=g._id,u=r.charAt(0),o;r.indexOf("scene")!==-1&&(r=u);var l=P(t,r,u);if(l){if(l.type==="histogram"&&u==={v:"y",h:"x"}[l.orientation||"v"]){g.type="linear";return}var c=u+"calendar",n=l[c],x={noMultiCategory:!p(l,"cartesian")||p(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&u==={h:"x",v:"y"}[l.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=g.autotypenumbers,v(l,u)){var h=A(l),T=[];for(o=0;o<t.length;o++){var f=t[o];!p(f,"box-violin")||(f[u+"axis"]||u)!==r||(f[h]!==void 0?T.push(f[h][0]):f.name!==void 0?T.push(f.name):T.push("text"),f[c]!==n&&(n=void 0))}g.type=L(T,n,x)}else if(l.type==="splom"){var s=l.dimensions,d=s[l._axesDim[r]];d.visible&&(g.type=L(d.values,n,x))}else g.type=L(l[u]||[l[u+"0"]],n,x)}}}function P(g,t,r){for(var u=0;u<g.length;u++){var o=g[u];if(o.type==="splom"&&o._length>0&&(o["_"+r+"axes"]||{})[t])return o;if((o[r+"axis"]||r)===t){if(v(o,r))return o;if((o[r]||[]).length||o[r+"0"])return o}}}function A(g){return{v:"x",h:"y"}[g.orientation||"v"]}function v(g,t){var r=A(g),u=p(g,"box-violin"),o=p(g._fullInput||{},"candlestick");return u&&!o&&t===r&&g[r]===void 0&&g[r+"0"]===void 0}},31137:function(W,U,e){var p=e(73972),L=e(71828);U.manageCommandObserver=function(t,r,u,o){var l={},c=!0;r&&r._commandObserver&&(l=r._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var n=U.hasSimpleAPICommandBindings(t,u,l.lookupTable);if(r&&r._commandObserver){if(n)return l;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,l}if(n){a(t,n,l.cache),l.check=function(){if(c){var f=a(t,n,l.cache);return f.changed&&o&&l.lookupTable[f.value]!==void 0&&(l.disable(),Promise.resolve(o({value:f.value,type:n.type,prop:n.prop,traces:n.traces,index:l.lookupTable[f.value]})).then(l.enable,l.enable)),f.changed}};for(var x=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<x.length;h++)t._internalOn(x[h],l.check);l.remove=function(){for(var T=0;T<x.length;T++)t._removeInternalListener(x[T],l.check)}}else L.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){c=!1},l.enable=function(){c=!0},r&&(r._commandObserver=l),l},U.hasSimpleAPICommandBindings=function(t,r,u){var o,l=r.length,c;for(o=0;o<l;o++){var n,x=r[o],h=x.method,T=x.args;if(Array.isArray(T)||(T=[]),!h)return!1;var f=U.computeAPICommandBindings(t,h,T);if(f.length!==1)return!1;if(!c)c=f[0],Array.isArray(c.traces)&&c.traces.sort();else{if(n=f[0],n.type!==c.type||n.prop!==c.prop)return!1;if(Array.isArray(c.traces))if(Array.isArray(n.traces)){n.traces.sort();for(var s=0;s<c.traces.length;s++)if(c.traces[s]!==n.traces[s])return!1}else return!1;else if(n.prop!==c.prop)return!1}n=f[0];var d=n.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;u&&(u[d]=o)}return c};function a(t,r,u){var o,l,c,n=!1;if(r.type==="data")o=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")o=t._fullLayout;else return!1;return l=L.nestedProperty(o,r.prop).get(),c=u[r.type]=u[r.type]||{},c.hasOwnProperty(r.prop)&&c[r.prop]!==l&&(n=!0),c[r.prop]=l,{changed:n,value:l}}U.executeAPICommand=function(t,r,u){if(r==="skip")return Promise.resolve();var o=p.apiMethodRegistry[r],l=[t];Array.isArray(u)||(u=[]);for(var c=0;c<u.length;c++)l.push(u[c]);return o.apply(null,l).catch(function(n){return L.warn("API call to Plotly."+r+" rejected.",n),Promise.reject(n)})},U.computeAPICommandBindings=function(t,r,u){var o;switch(Array.isArray(u)||(u=[]),r){case"restyle":o=v(t,u);break;case"relayout":o=A(t,u);break;case"update":o=v(t,[u[0],u[2]]).concat(A(t,[u[1]]));break;case"animate":o=P(t,u);break;default:o=[]}return o};function P(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function A(t,r){var u=[],o=r[0],l={};if(typeof o=="string")l[o]=r[1];else if(L.isPlainObject(o))l=o;else return u;return g(l,function(c,n,x){u.push({type:"layout",prop:c,value:x})},"",0),u}function v(t,r){var u,o,l,c,n=[];if(o=r[0],l=r[1],u=r[2],c={},typeof o=="string")c[o]=l;else if(L.isPlainObject(o))c=o,u===void 0&&(u=l);else return n;return u===void 0&&(u=null),g(c,function(x,h,T){var f,s;if(Array.isArray(T)){s=T.slice();var d=Math.min(s.length,t.data.length);u&&(d=Math.min(d,u.length)),f=[];for(var S=0;S<d;S++)f[S]=u?u[S]:S}else s=T,f=u?u.slice():null;if(f===null)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(f)){if(!Array.isArray(s)){var M=s;s=[];for(var C=0;C<f.length;C++)s[C]=M}s.length=Math.min(f.length,s.length)}n.push({type:"data",prop:x,traces:f,value:s})},"",0),n}function g(t,r,u,o){Object.keys(t).forEach(function(l){var c=t[l];if(l[0]!=="_"){var n=u+(o>0?".":"")+l;L.isPlainObject(c)?g(c,r,n,o+1):r(n,l,c)}})}},27670:function(W,U,e){var p=e(1426).extendFlat;U.Y=function(L,a){L=L||{},a=a||{};var P={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,a.description&&""+a.description;var A={x:p({},P,{}),y:p({},P,{}),editType:L.editType};return L.noGridCell||(A.row={valType:"integer",min:0,dflt:0,editType:L.editType},A.column={valType:"integer",min:0,dflt:0,editType:L.editType}),A},U.c=function(L,a,P,A){var v=A&&A.x||[0,1],g=A&&A.y||[0,1],t=a.grid;if(t){var r=P("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete L.domain.column);var u=P("domain.row");u!==void 0&&(u<t.rows?g=t._domains.y[u]:delete L.domain.row)}var o=P("domain.x",v),l=P("domain.y",g);o[0]<o[1]||(L.domain.x=v.slice()),l[0]<l[1]||(L.domain.y=g.slice())}},41940:function(W){W.exports=function(U){var e=U.editType,p=U.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return U.autoSize&&(L.size.dflt="auto"),U.autoColor&&(L.color.dflt="auto"),U.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},31391:function(W){W.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(W,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(W,U,e){var p=e(39898),L=e(27362),a=L.geoPath,P=L.geoDistance,A=e(65704),v=e(73972),g=e(71828),t=g.strTranslate,r=e(7901),u=e(91424),o=e(30211),l=e(74875),c=e(89298),n=e(71739).getAutoRange,x=e(28569),h=e(47322).prepSelect,T=e(47322).clearOutline,f=e(47322).selectOnClick,s=e(74455),d=e(78776),S=e(41327),M=e(90973),C=e(96892).zL;function y(m){this.id=m.id,this.graphDiv=m.graphDiv,this.container=m.container,this.topojsonURL=m.topojsonURL,this.isStatic=m.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var w=y.prototype;W.exports=function(F){return new y(F)},w.plot=function(m,F,_,B){var I=this;if(B)return I.update(m,F,!0);I._geoCalcData=m,I._fullLayout=F;var O=F[this.id],z=[],k=!1;for(var N in d.layerNameToAdjective)if(N!=="frame"&&O["show"+N]){k=!0;break}for(var K=!1,q=0;q<m.length;q++){var Q=m[0][0].trace;Q._geo=I,Q.locationmode&&(k=!0);var re=Q.marker;if(re){var oe=re.angle,Y=re.angleref;(oe||Y==="north"||Y==="previous")&&(K=!0)}}if(this._hasMarkerAngles=K,k){var G=M.getTopojsonName(O);(I.topojson===null||G!==I.topojsonName)&&(I.topojsonName=G,PlotlyGeoAssets.topojson[I.topojsonName]===void 0&&z.push(I.fetchTopojson()))}z=z.concat(S.fetchTraceGeoData(m)),_.push(new Promise(function(V,Z){Promise.all(z).then(function(){I.topojson=PlotlyGeoAssets.topojson[I.topojsonName],I.update(m,F),V()}).catch(Z)}))},w.fetchTopojson=function(){var m=this,F=M.getTopojsonPath(m.topojsonURL,m.topojsonName);return new Promise(function(_,B){p.json(F,function(I,O){if(I)return I.status===404?B(new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[m.topojsonName]=O,_()})})},w.update=function(m,F,_){var B=F[this.id];this.hasChoropleth=!1;for(var I=0;I<m.length;I++){var O=m[I],z=O[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(O,F)}if(!_){var k=this.updateProjection(m,F);if(k)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(F,B),this.updateDims(F,B),this.updateFx(F,B),l.generalUpdatePerTraceModule(this.graphDiv,this,m,B);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var K=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=K.selectAll("path"),this._render()},w.updateProjection=function(m,F){var _=this.graphDiv,B=F[this.id],I=F._size,O=B.domain,z=B.projection,k=B.lonaxis,N=B.lataxis,K=k._ax,q=N._ax,Q=this.projection=b(B),re=[[I.l+I.w*O.x[0],I.t+I.h*(1-O.y[1])],[I.l+I.w*O.x[1],I.t+I.h*(1-O.y[0])]],oe=B.center||{},Y=z.rotation||{},G=k.range||[],V=N.range||[];if(B.fitbounds){K._length=re[1][0]-re[0][0],q._length=re[1][1]-re[0][1],K.range=n(_,K),q.range=n(_,q);var Z=(K.range[0]+K.range[1])/2,ae=(q.range[0]+q.range[1])/2;if(B._isScoped)oe={lon:Z,lat:ae};else if(B._isClipped){oe={lon:Z,lat:ae},Y={lon:Z,lat:ae,roll:Y.roll};var ie=z.type,J=d.lonaxisSpan[ie]/2||180,$=d.lataxisSpan[ie]/2||90;G=[Z-J,Z+J],V=[ae-$,ae+$]}else oe={lon:Z,lat:ae},Y={lon:Z,lat:Y.lat,roll:Y.roll}}Q.center([oe.lon-Y.lon,oe.lat-Y.lat]).rotate([-Y.lon,-Y.lat,Y.roll]).parallels(z.parallels);var se=E(G,V);Q.fitExtent(re,se);var ee=this.bounds=Q.getBounds(se),ue=this.fitScale=Q.scale(),ge=Q.translate();if(B.fitbounds){var Te=Q.getBounds(E(K.range,q.range)),xe=Math.min((ee[1][0]-ee[0][0])/(Te[1][0]-Te[0][0]),(ee[1][1]-ee[0][1])/(Te[1][1]-Te[0][1]));isFinite(xe)?Q.scale(xe*ue):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else Q.scale(z.scale*ue);var Pe=this.midPt=[(ee[0][0]+ee[1][0])/2,(ee[0][1]+ee[1][1])/2];if(Q.translate([ge[0]+(Pe[0]-ge[0]),ge[1]+(Pe[1]-ge[1])]).clipExtent(ee),B._isAlbersUsa){var Ie=Q([oe.lon,oe.lat]),Ae=Q.translate();Q.translate([Ae[0]-(Ie[0]-Ae[0]),Ae[1]-(Ie[1]-Ae[1])])}},w.updateBaseLayers=function(m,F){var _=this,B=_.topojson,I=_.layers,O=_.basePaths;function z(re){return re==="lonaxis"||re==="lataxis"}function k(re){return Boolean(d.lineLayers[re])}function N(re){return Boolean(d.fillLayers[re])}var K=this.hasChoropleth?d.layersForChoropleth:d.layers,q=K.filter(function(re){return k(re)||N(re)?F["show"+re]:z(re)?F[re].showgrid:!0}),Q=_.framework.selectAll(".layer").data(q,String);Q.exit().each(function(re){delete I[re],delete O[re],p.select(this).remove()}),Q.enter().append("g").attr("class",function(re){return"layer "+re}).each(function(re){var oe=I[re]=p.select(this);re==="bg"?_.bgRect=oe.append("rect").style("pointer-events","all"):z(re)?O[re]=oe.append("path").style("fill","none"):re==="backplot"?oe.append("g").classed("choroplethlayer",!0):re==="frontplot"?oe.append("g").classed("scatterlayer",!0):k(re)?O[re]=oe.append("path").style("fill","none").style("stroke-miterlimit",2):N(re)&&(O[re]=oe.append("path").style("stroke","none"))}),Q.order(),Q.each(function(re){var oe=O[re],Y=d.layerNameToAdjective[re];re==="frame"?oe.datum(d.sphereSVG):k(re)||N(re)?oe.datum(C(B,B.objects[re])):z(re)&&oe.datum(i(re,F,m)).call(r.stroke,F[re].gridcolor).call(u.dashLine,F[re].griddash,F[re].gridwidth),k(re)?oe.call(r.stroke,F[Y+"color"]).call(u.dashLine,"",F[Y+"width"]):N(re)&&oe.call(r.fill,F[Y+"color"])})},w.updateDims=function(m,F){var _=this.bounds,B=(F.framewidth||0)/2,I=_[0][0]-B,O=_[0][1]-B,z=_[1][0]-I+B,k=_[1][1]-O+B;u.setRect(this.clipRect,I,O,z,k),this.bgRect.call(u.setRect,I,O,z,k).call(r.fill,F.bgcolor),this.xaxis._offset=I,this.xaxis._length=z,this.yaxis._offset=O,this.yaxis._length=k},w.updateFx=function(m,F){var _=this,B=_.graphDiv,I=_.bgRect,O=m.dragmode,z=m.clickmode;if(_.isStatic)return;function k(){var Q=_.viewInitial,re={};for(var oe in Q)re[_.id+"."+oe]=Q[oe];v.call("_guiRelayout",B,re),B.emit("plotly_doubleclick",null)}function N(Q){return _.projection.invert([Q[0]+_.xaxis._offset,Q[1]+_.yaxis._offset])}var K=function(Q,re){if(re.isRect){var oe=Q.range={};oe[_.id]=[N([re.xmin,re.ymin]),N([re.xmax,re.ymax])]}else{var Y=Q.lassoPoints={};Y[_.id]=re.map(N)}},q={element:_.bgRect.node(),gd:B,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:K},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(Q){Q===2&&T(B)}};O==="pan"?(I.node().onmousedown=null,I.call(s(_,F)),I.on("dblclick.zoom",k),B._context._scrollZoom.geo||I.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(I.on(".zoom",null),q.prepFn=function(Q,re,oe){h(Q,re,oe,q,O)},x.init(q)),I.on("mousemove",function(){var Q=_.projection.invert(g.getPositionFromD3Event());if(!Q)return x.unhover(B,p.event);_.xaxis.p2c=function(){return Q[0]},_.yaxis.p2c=function(){return Q[1]},o.hover(B,p.event,_.id)}),I.on("mouseout",function(){B._dragging||x.unhover(B,p.event)}),I.on("click",function(){O!=="select"&&O!=="lasso"&&(z.indexOf("select")>-1&&f(p.event,B,[_.xaxis],[_.yaxis],_.id,q),z.indexOf("event")>-1&&o.click(B,p.event))})},w.makeFramework=function(){var m=this,F=m.graphDiv,_=F._fullLayout,B="clip"+_._uid+m.id;m.clipDef=_._clips.append("clipPath").attr("id",B),m.clipRect=m.clipDef.append("rect"),m.framework=p.select(m.container).append("g").attr("class","geo "+m.id).call(u.setClipUrl,B,F),m.project=function(I){var O=m.projection(I);return O?[O[0]-m.xaxis._offset,O[1]-m.yaxis._offset]:[null,null]},m.xaxis={_id:"x",c2p:function(I){return m.project(I)[0]}},m.yaxis={_id:"y",c2p:function(I){return m.project(I)[1]}},m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(m.mockAxis,_)},w.saveViewInitial=function(m){var F=m.center||{},_=m.projection,B=_.rotation||{};this.viewInitial={fitbounds:m.fitbounds,"projection.scale":_.scale};var I;m._isScoped?I={"center.lon":F.lon,"center.lat":F.lat}:m._isClipped?I={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:I={"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":B.lon},g.extendFlat(this.viewInitial,I)},w.render=function(m){this._hasMarkerAngles&&m?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},w._render=function(){var m=this.projection,F=m.getPath(),_;function B(O){var z=m(O.lonlat);return z?t(z[0],z[1]):null}function I(O){return m.isLonLatOverEdges(O.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",F);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(O){return F(O.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",I).attr("transform",B)};function b(m){var F=m.projection,_=F.type,B=d.projNames[_];B="geo"+g.titleCase(B);for(var I=L[B]||A[B],O=I(),z=m._isSatellite?Math.acos(1/F.distance)*180/Math.PI:m._isClipped?d.lonaxisSpan[_]/2:null,k=["center","rotate","parallels","clipExtent"],N=function(Q){return Q?O:[]},K=0;K<k.length;K++){var q=k[K];typeof O[q]!="function"&&(O[q]=N)}return O.isLonLatOverEdges=function(Q){if(O(Q)===null)return!0;if(z){var re=O.rotate(),oe=P(Q,[-re[0],-re[1]]),Y=z*Math.PI/180;return oe>Y}else return!1},O.getPath=function(){return a().projection(O)},O.getBounds=function(Q){return O.getPath().bounds(Q)},O.precision(d.precision),m._isSatellite&&O.tilt(F.tilt).distance(F.distance),z&&O.clipAngle(z-d.clipPad),O}function i(m,F,_){var B=1e-6,I=2.5,O=F[m],z=d.scopeDefaults[F.scope],k,N,K;m==="lonaxis"?(k=z.lonaxisRange,N=z.lataxisRange,K=function(ae,ie){return[ae,ie]}):m==="lataxis"&&(k=z.lataxisRange,N=z.lonaxisRange,K=function(ae,ie){return[ie,ae]});var q={type:"linear",range:[k[0],k[1]-B],tick0:O.tick0,dtick:O.dtick};c.setConvert(q,_);var Q=c.calcTicks(q);!F.isScoped&&m==="lonaxis"&&Q.pop();for(var re=Q.length,oe=new Array(re),Y=0;Y<re;Y++)for(var G=Q[Y].x,V=oe[Y]=[],Z=N[0];Z<N[1]+I;Z+=I)V.push(K(G,Z));return{type:"MultiLineString",coordinates:oe}}function E(m,F){var _=d.clipPad,B=m[0]+_,I=m[1]-_,O=F[0]+_,z=F[1]-_;B>0&&I<0&&(I+=360);var k=(I-B)/4;return{type:"Polygon",coordinates:[[[B,O],[B,z],[B+k,z],[B+2*k,z],[B+3*k,z],[I,z],[I,O],[I-k,O],[I-2*k,O],[I-3*k,O],[B,O]]]}}},44622:function(W,U,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(69082),P="geo",A=L(P),v={};v[P]={valType:"subplotid",dflt:P,editType:"calc"};function g(u){for(var o=u._fullLayout,l=u.calcdata,c=o._subplots[P],n=0;n<c.length;n++){var x=c[n],h=p(l,P,x),T=o[x],f=T._subplot;f||(f=a({id:x,graphDiv:u,container:o._geolayer.node(),topojsonURL:u._context.topojsonURL,staticPlot:u._context.staticPlot}),o[x]._subplot=f),f.plot(h,o,u._promises)}}function t(u,o,l,c){for(var n=c._subplots[P]||[],x=0;x<n.length;x++){var h=n[x],T=c[h]._subplot;!o[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function r(u){for(var o=u._fullLayout,l=o._subplots[P],c=0;c<l.length;c++){var n=o[l[c]],x=n._subplot;x.updateFx(o,n)}}W.exports={attr:P,name:P,idRoot:P,idRegex:A,attrRegex:A,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:g,updateFx:r,clean:t}},77519:function(W,U,e){var p=e(22399),L=e(27670).Y,a=e(79952).P,P=e(78776),A=e(30962).overrideAll,v=e(78607),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=W.exports=A({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(P.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(P.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:P.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:P.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:P.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:P.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:g,lataxis:g},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(W,U,e){var p=e(71828),L=e(49119),a=e(27659).NG,P=e(78776),A=e(77519),v=P.axesNames;W.exports=function(r,u,o){L(r,u,o,{type:"geo",attributes:A,handleDefaults:g,fullData:o,partition:"y"})};function g(t,r,u,o){var l=a(o.fullData,"geo",o.id),c=l.map(function(V){return V._expandedIndex}),n=u("resolution"),x=u("scope"),h=P.scopeDefaults[x],T=u("projection.type",h.projType),f=r._isAlbersUsa=T==="albers usa";f&&(x=r.scope="usa");var s=r._isScoped=x!=="world",d=r._isSatellite=T==="satellite",S=r._isConic=T.indexOf("conic")!==-1||T==="albers",M=r._isClipped=!!P.lonaxisSpan[T];if(t.visible===!1){var C=p.extendDeep({},r._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),r._template=C}for(var y=u("visible"),w,b=0;b<v.length;b++){var i=v[b],E=[30,10][b],m;if(s)m=h[i+"Range"];else{var F=P[i+"Span"],_=(F[T]||F["*"])/2,B=u("projection.rotation."+i.substr(0,3),h.projRotate[b]);m=[B-_,B+_]}var I=u(i+".range",m);u(i+".tick0"),u(i+".dtick",E),w=u(i+".showgrid",y?void 0:!1),w&&(u(i+".gridcolor"),u(i+".gridwidth"),u(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:c,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:I.slice(),_m:1,_input:{}}}var O=r.lonaxis.range,z=r.lataxis.range,k=O[0],N=O[1];k>0&&N<0&&(N+=360);var K=(k+N)/2,q;if(!f){var Q=s?h.projRotate:[K,0,0];q=u("projection.rotation.lon",Q[0]),u("projection.rotation.lat",Q[1]),u("projection.rotation.roll",Q[2]),w=u("showcoastlines",!s&&y),w&&(u("coastlinecolor"),u("coastlinewidth")),w=u("showocean",y?void 0:!1),w&&u("oceancolor")}var re,oe;if(f?(re=-96.6,oe=38.7):(re=s?K:q,oe=(z[0]+z[1])/2),u("center.lon",re),u("center.lat",oe),d&&(u("projection.tilt"),u("projection.distance")),S){var Y=h.projParallels||[0,60];u("projection.parallels",Y)}u("projection.scale"),w=u("showland",y?void 0:!1),w&&u("landcolor"),w=u("showlakes",y?void 0:!1),w&&u("lakecolor"),w=u("showrivers",y?void 0:!1),w&&(u("rivercolor"),u("riverwidth")),w=u("showcountries",s&&x!=="usa"&&y),w&&(u("countrycolor"),u("countrywidth")),(x==="usa"||x==="north america"&&n===50)&&(u("showsubunits",y),u("subunitcolor"),u("subunitwidth")),s||(w=u("showframe",y),w&&(u("framecolor"),u("framewidth"))),u("bgcolor");var G=u("fitbounds");G&&(delete r.projection.scale,s?(delete r.center.lon,delete r.center.lat):M?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(W,U,e){var p=e(39898),L=e(71828),a=e(73972),P=Math.PI/180,A=180/Math.PI,v={cursor:"pointer"},g={cursor:"auto"};function t(i,E){var m=i.projection,F;return E._isScoped?F=o:E._isClipped?F=c:F=l,F(i,m)}W.exports=t;function r(i,E){return p.behavior.zoom().translate(E.translate()).scale(E.scale())}function u(i,E,m){var F=i.id,_=i.graphDiv,B=_.layout,I=B[F],O=_._fullLayout,z=O[F],k={},N={};function K(q,Q){k[F+"."+q]=L.nestedProperty(I,q).get(),a.call("_storeDirectGUIEdit",B,O._preGUI,k);var re=L.nestedProperty(z,q);re.get()!==Q&&(re.set(Q),L.nestedProperty(I,q).set(Q),N[F+"."+q]=Q)}m(K),K("projection.scale",E.scale()/i.fitScale),K("fitbounds",!1),_.emit("plotly_relayout",N)}function o(i,E){var m=r(i,E);function F(){p.select(this).style(v)}function _(){E.scale(p.event.scale).translate(p.event.translate),i.render(!0);var O=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function B(O){var z=E.invert(i.midPt);O("center.lon",z[0]),O("center.lat",z[1])}function I(){p.select(this).style(g),u(i,E,B)}return m.on("zoomstart",F).on("zoom",_).on("zoomend",I),m}function l(i,E){var m=r(i,E),F=2,_,B,I,O,z,k,N,K,q;function Q(Z){return E.invert(Z)}function re(Z){var ae=Q(Z);if(!ae)return!0;var ie=E(ae);return Math.abs(ie[0]-Z[0])>F||Math.abs(ie[1]-Z[1])>F}function oe(){p.select(this).style(v),_=p.mouse(this),B=E.rotate(),I=E.translate(),O=B,z=Q(_)}function Y(){if(k=p.mouse(this),re(_)){m.scale(E.scale()),m.translate(E.translate());return}E.scale(p.event.scale),E.translate([I[0],p.event.translate[1]]),z?Q(k)&&(K=Q(k),N=[O[0]+(K[0]-z[0]),B[1],B[2]],E.rotate(N),O=N):(_=k,z=Q(_)),q=!0,i.render(!0);var Z=E.rotate(),ae=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":ae[0],"geo.center.lat":ae[1],"geo.projection.rotation.lon":-Z[0]})}function G(){p.select(this).style(g),q&&u(i,E,V)}function V(Z){var ae=E.rotate(),ie=E.invert(i.midPt);Z("projection.rotation.lon",-ae[0]),Z("center.lon",ie[0]),Z("center.lat",ie[1])}return m.on("zoomstart",oe).on("zoom",Y).on("zoomend",G),m}function c(i,E){E.rotate(),E.scale();var m=r(i,E),F=b(m,"zoomstart","zoom","zoomend"),_=0,B=m.on,I;m.on("zoomstart",function(){p.select(this).style(v);var K=p.mouse(this),q=E.rotate(),Q=q,re=E.translate(),oe=x(q);I=n(E,K),B.call(m,"zoom",function(){var Y=p.mouse(this);if(E.scale(p.event.scale),!I)K=Y,I=n(E,K);else if(n(E,Y)){E.rotate(q).translate(re);var G=n(E,Y),V=T(I,G),Z=M(h(oe,V)),ae=f(Z,I,Q);(!isFinite(ae[0])||!isFinite(ae[1])||!isFinite(ae[2]))&&(ae=Q),E.rotate(ae),Q=ae}z(F.of(this,arguments))}),O(F.of(this,arguments))}).on("zoomend",function(){p.select(this).style(g),B.call(m,"zoom",null),k(F.of(this,arguments)),u(i,E,N)}).on("zoom.redraw",function(){i.render(!0);var K=E.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.projection.rotation.lon":-K[0],"geo.projection.rotation.lat":-K[1]})});function O(K){_++||K({type:"zoomstart"})}function z(K){K({type:"zoom"})}function k(K){--_||K({type:"zoomend"})}function N(K){var q=E.rotate();K("projection.rotation.lon",-q[0]),K("projection.rotation.lat",-q[1])}return p.rebind(m,F,"on")}function n(i,E){var m=i.invert(E);return m&&isFinite(m[0])&&isFinite(m[1])&&C(m)}function x(i){var E=.5*i[0]*P,m=.5*i[1]*P,F=.5*i[2]*P,_=Math.sin(E),B=Math.cos(E),I=Math.sin(m),O=Math.cos(m),z=Math.sin(F),k=Math.cos(F);return[B*O*k+_*I*z,_*O*k-B*I*z,B*I*k+_*O*z,B*O*z-_*I*k]}function h(i,E){var m=i[0],F=i[1],_=i[2],B=i[3],I=E[0],O=E[1],z=E[2],k=E[3];return[m*I-F*O-_*z-B*k,m*O+F*I+_*k-B*z,m*z-F*k+_*I+B*O,m*k+F*z-_*O+B*I]}function T(i,E){if(!(!i||!E)){var m=w(i,E),F=Math.sqrt(y(m,m)),_=.5*Math.acos(Math.max(-1,Math.min(1,y(i,E)))),B=Math.sin(_)/F;return F&&[Math.cos(_),m[2]*B,-m[1]*B,m[0]*B]}}function f(i,E,m){var F=S(E,2,i[0]);F=S(F,1,i[1]),F=S(F,0,i[2]-m[2]);var _=E[0],B=E[1],I=E[2],O=F[0],z=F[1],k=F[2],N=Math.atan2(B,_)*A,K=Math.sqrt(_*_+B*B),q,Q;Math.abs(z)>K?(Q=(z>0?90:-90)-N,q=0):(Q=Math.asin(z/K)*A-N,q=Math.sqrt(K*K-z*z));var re=180-Q-2*N,oe=(Math.atan2(k,O)-Math.atan2(I,q))*A,Y=(Math.atan2(k,O)-Math.atan2(I,-q))*A,G=s(m[0],m[1],Q,oe),V=s(m[0],m[1],re,Y);return G<=V?[Q,oe,m[2]]:[re,Y,m[2]]}function s(i,E,m,F){var _=d(m-i),B=d(F-E);return Math.sqrt(_*_+B*B)}function d(i){return(i%360+540)%360-180}function S(i,E,m){var F=m*P,_=i.slice(),B=E===0?1:0,I=E===2?1:2,O=Math.cos(F),z=Math.sin(F);return _[B]=i[B]*O-i[I]*z,_[I]=i[I]*O+i[B]*z,_}function M(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*A,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*A,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*A]}function C(i){var E=i[0]*P,m=i[1]*P,F=Math.cos(m);return[F*Math.cos(E),F*Math.sin(E),Math.sin(m)]}function y(i,E){for(var m=0,F=0,_=i.length;F<_;++F)m+=i[F]*E[F];return m}function w(i,E){return[i[1]*E[2]-i[2]*E[1],i[2]*E[0]-i[0]*E[2],i[0]*E[1]-i[1]*E[0]]}function b(i){for(var E=0,m=arguments.length,F=[];++E<m;)F.push(arguments[E]);var _=p.dispatch.apply(null,F);return _.of=function(B,I){return function(O){var z;try{z=O.sourceEvent=p.event,O.target=i,p.event=O,_[O.type].apply(B,I)}finally{p.event=z}}},_}},27659:function(W,U,e){var p=e(73972),L=e(85555).SUBPLOT_PATTERN;U.AU=function(a,P,A){var v=p.subplotsRegistry[P];if(!v)return[];for(var g=v.attr,t=[],r=0;r<a.length;r++){var u=a[r],o=u[0].trace;o[g]===A&&t.push(u)}return t},U.a0=function(a,P){var A=[],v=[],g;if(typeof P=="string"?g=p.getModule(P).plot:typeof P=="function"?g=P:g=P.plot,!g)return[A,a];for(var t=0;t<a.length;t++){var r=a[t],u=r[0].trace;u.visible!==!0||u._length===0||(u._module.plot===g?A.push(r):v.push(r))}return[A,v]},U.NG=function(P,A,v){if(!p.subplotsRegistry[A])return[];var g=p.subplotsRegistry[A].attr,t=[],r,u,o;if(A==="gl2d"){var l=v.match(L);u="x"+l[1],o="y"+l[2]}for(var c=0;c<P.length;c++)r=P[c],A==="gl2d"&&p.traceIs(r,"gl2d")?r[g[0]]===u&&r[g[1]]===o&&t.push(r):r[g]===v&&t.push(r);return t}},75071:function(W,U,e){var p=e(16825),L=e(1195),a=e(48956),P=e(85555),A=e(38520);W.exports=g;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(t){var r=t.mouseContainer,u=t.glplot,o=new v(r,u);function l(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(){for(var x=t.graphDiv._fullLayout._axisConstraintGroups,h=t.xaxis._id,T=t.yaxis._id,f=0;f<x.length;f++)if(x[f][h]!==-1){if(x[f][T]!==-1)return!0;break}return!1}o.mouseListener=p(r,n),r.addEventListener("touchstart",function(x){var h=a(x.changedTouches[0],r);n(0,h[0],h[1]),n(1,h[0],h[1]),x.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchmove",function(x){x.preventDefault();var h=a(x.changedTouches[0],r);n(1,h[0],h[1]),x.preventDefault()},A?{passive:!1}:!1),r.addEventListener("touchend",function(x){n(0,o.lastPos[0],o.lastPos[1]),x.preventDefault()},A?{passive:!1}:!1);function n(x,h,T){var f=t.calcDataBox(),s=u.viewBox,d=o.lastPos[0],S=o.lastPos[1],M=P.MINDRAG*u.pixelRatio,C=P.MINZOOM*u.pixelRatio,y,w;h*=u.pixelRatio,T*=u.pixelRatio,T=s[3]-s[1]-T;function b(B,I,O){var z=Math.min(I,O),k=Math.max(I,O);z!==k?(f[B]=z,f[B+2]=k,o.dataBox=f,t.setRanges(f)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(x){var i=h/(s[2]-s[0])*(f[2]-f[0])+f[0],E=T/(s[3]-s[1])*(f[3]-f[1])+f[1];o.boxInited||(o.boxStart[0]=i,o.boxStart[1]=E,o.dragStart[0]=h,o.dragStart[1]=T),o.boxEnd[0]=i,o.boxEnd[1]=E,o.boxInited=!0,!o.boxEnabled&&(o.boxStart[0]!==o.boxEnd[0]||o.boxStart[1]!==o.boxEnd[1])&&(o.boxEnabled=!0);var m=Math.abs(o.dragStart[0]-h)<C,F=Math.abs(o.dragStart[1]-T)<C;if(c()&&!(m&&F)){y=o.boxEnd[0]-o.boxStart[0],w=o.boxEnd[1]-o.boxStart[1];var _=(f[3]-f[1])/(f[2]-f[0]);Math.abs(y*_)>Math.abs(w)?(o.boxEnd[1]=o.boxStart[1]+Math.abs(y)*_*(w>=0?1:-1),o.boxEnd[1]<f[1]?(o.boxEnd[1]=f[1],o.boxEnd[0]=o.boxStart[0]+(f[1]-o.boxStart[1])/Math.abs(_)):o.boxEnd[1]>f[3]&&(o.boxEnd[1]=f[3],o.boxEnd[0]=o.boxStart[0]+(f[3]-o.boxStart[1])/Math.abs(_))):(o.boxEnd[0]=o.boxStart[0]+Math.abs(w)/_*(y>=0?1:-1),o.boxEnd[0]<f[0]?(o.boxEnd[0]=f[0],o.boxEnd[1]=o.boxStart[1]+(f[0]-o.boxStart[0])*Math.abs(_)):o.boxEnd[0]>f[2]&&(o.boxEnd[0]=f[2],o.boxEnd[1]=o.boxStart[1]+(f[2]-o.boxStart[0])*Math.abs(_)))}else m&&(o.boxEnd[0]=o.boxStart[0]),F&&(o.boxEnd[1]=o.boxStart[1])}else o.boxEnabled?(y=o.boxStart[0]!==o.boxEnd[0],w=o.boxStart[1]!==o.boxEnd[1],y||w?(y&&(b(0,o.boxStart[0],o.boxEnd[0]),t.xaxis.autorange=!1),w&&(b(1,o.boxStart[1],o.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),o.boxEnabled=!1,o.boxInited=!1):o.boxInited&&(o.boxInited=!1);break;case"pan":o.boxEnabled=!1,o.boxInited=!1,x?(o.panning||(o.dragStart[0]=h,o.dragStart[1]=T),Math.abs(o.dragStart[0]-h)<M&&(h=o.dragStart[0]),Math.abs(o.dragStart[1]-T)<M&&(T=o.dragStart[1]),y=(d-h)*(f[2]-f[0])/(u.viewBox[2]-u.viewBox[0]),w=(S-T)*(f[3]-f[1])/(u.viewBox[3]-u.viewBox[1]),f[0]+=y,f[2]+=y,f[1]+=w,f[3]+=w,t.setRanges(f),o.panning=!0,o.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations()):o.panning&&(o.panning=!1,t.relayoutCallback());break}o.lastPos[0]=h,o.lastPos[1]=T}return o.wheelListener=L(r,function(x,h){if(!t.scrollZoom)return!1;var T=t.calcDataBox(),f=u.viewBox,s=o.lastPos[0],d=o.lastPos[1],S=Math.exp(5*h/(f[3]-f[1])),M=s/(f[2]-f[0])*(T[2]-T[0])+T[0],C=d/(f[3]-f[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-M)*S+M,T[2]=(T[2]-M)*S+M,T[1]=(T[1]-C)*S+C,T[3]=(T[3]-C)*S+C,t.setRanges(T),o.lastInputTime=Date.now(),l(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),o}},82961:function(W,U,e){var p=e(89298),L=e(78614);function a(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var P=a.prototype,A=["xaxis","yaxis"];P.merge=function(g){this.titleEnable=!1,this.backgroundColor=L(g.plot_bgcolor);var t,r,u,o,l,c,n,x,h,T,f;for(T=0;T<2;++T){t=A[T];var s=t.charAt(0);for(r=g[this.scene[t]._name],u=r.title.text===this.scene.fullLayout._dfltTitle[s]?"":r.title.text,f=0;f<=2;f+=2)this.labelEnable[T+f]=!1,this.labels[T+f]=u,this.labelColor[T+f]=L(r.title.font.color),this.labelFont[T+f]=r.title.font.family,this.labelSize[T+f]=r.title.font.size,this.labelPad[T+f]=this.getLabelPad(t,r),this.tickEnable[T+f]=!1,this.tickColor[T+f]=L((r.tickfont||{}).color),this.tickAngle[T+f]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[T+f]=this.getTickPad(r),this.tickMarkLength[T+f]=0,this.tickMarkWidth[T+f]=r.tickwidth||0,this.tickMarkColor[T+f]=L(r.tickcolor),this.borderLineEnable[T+f]=!1,this.borderLineColor[T+f]=L(r.linecolor),this.borderLineWidth[T+f]=r.linewidth||0;n=this.hasSharedAxis(r),l=this.hasAxisInDfltPos(t,r)&&!n,c=this.hasAxisInAltrPos(t,r)&&!n,o=r.mirror||!1,x=n?String(o).indexOf("all")!==-1:!!o,h=n?o==="allticks":String(o).indexOf("ticks")!==-1,l?this.labelEnable[T]=!0:c&&(this.labelEnable[T+2]=!0),l?this.tickEnable[T]=r.showticklabels:c&&(this.tickEnable[T+2]=r.showticklabels),(l||x)&&(this.borderLineEnable[T]=r.showline),(c||x)&&(this.borderLineEnable[T+2]=r.showline),(l||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(r)),(c||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(r)),this.gridLineEnable[T]=r.showgrid,this.gridLineColor[T]=L(r.gridcolor),this.gridLineWidth[T]=r.gridwidth,this.zeroLineEnable[T]=r.zeroline,this.zeroLineColor[T]=L(r.zerolinecolor),this.zeroLineWidth[T]=r.zerolinewidth}},P.hasSharedAxis=function(g){var t=this.scene,r=t.fullLayout._subplots.gl2d,u=p.findSubplotsWithAxis(r,g);return u.indexOf(t.id)!==0},P.hasAxisInDfltPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="bottom";if(g==="yaxis")return r==="left"},P.hasAxisInAltrPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="top";if(g==="yaxis")return r==="right"},P.getLabelPad=function(g,t){var r=1.5,u=t.title.font.size,o=t.showticklabels;if(g==="xaxis")return t.side==="top"?-10+u*(r+(o?1:0)):-10+u*(r+(o?.5:0));if(g==="yaxis")return t.side==="right"?10+u*(r+(o?1:.5)):10+u*(r+(o?.5:0))},P.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},P.getTickMarkLength=function(g){if(!g.ticks)return 0;var t=g.ticklen;return g.ticks==="inside"?-t:t};function v(g){return new a(g)}W.exports=v},4796:function(W,U,e){var p=e(30962).overrideAll,L=e(92918),a=e(10820),P=e(77922),A=e(85555),v=e(93612),g=e(528),t=e(27659).NG;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=A.idRegex,U.attrRegex=A.attrRegex,U.attributes=e(89502),U.supplyLayoutDefaults=function(r,u,o){u._has("cartesian")||v.supplyLayoutDefaults(r,u,o)},U.layoutAttrOverrides=p(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=p({plot_bgcolor:a.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),U.plot=function(u){for(var o=u._fullLayout,l=u._fullData,c=o._subplots.gl2d,n=0;n<c.length;n++){var x=c[n],h=o._plots[x],T=t(l,"gl2d",x),f=h._scene2d;f===void 0&&(f=new L({id:x,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio},o),h._scene2d=f),f.plot(T,u.calcdata,o,u.layout)}},U.clean=function(r,u,o,l){for(var c=l._subplots.gl2d||[],n=0;n<c.length;n++){var x=c[n],h=l._plots[x];if(h._scene2d){var T=t(r,"gl2d",x);T.length===0&&(h._scene2d.destroy(),delete l._plots[x])}}v.clean.apply(this,arguments)},U.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},U.toSVG=function(r){for(var u=r._fullLayout,o=u._subplots.gl2d,l=0;l<o.length;l++){var c=u._plots[o[l]],n=c._scene2d,x=n.toImage("png"),h=u._glimages.append("svg:image");h.attr({xmlns:P.svg,"xlink:href":x,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),n.destroy()}},U.updateFx=function(r){for(var u=r._fullLayout,o=u._subplots.gl2d,l=0;l<o.length;l++){var c=u._plots[o[l]]._scene2d;c.updateFx(u.dragmode)}}},92918:function(W,U,e){var p=e(73972),L=e(89298),a=e(30211),P=e(9330).gl_plot2d,A=e(9330).gl_spikes2d,v=e(9330).gl_select_box,g=e(40372),t=e(82961),r=e(75071),u=e(58617),o=e(99082),l=o.enforce,c=o.clean,n=e(71739).doAutoRange,x=e(64505),h=x.drawMode,T=x.selectMode,f=["xaxis","yaxis"],s,d,S=e(85555).SUBPLOT_PATTERN;function M(w,b){this.container=w.container,this.graphDiv=w.graphDiv,this.pixelRatio=w.plotGlPixelRatio||window.devicePixelRatio,this.id=w.id,this.staticPlot=!!w.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(b),this.glplot=P(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=A(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}W.exports=M;var C=M.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(s=document.createElement("canvas"),d=g({canvas:s,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=s,this.gl=d}else{var w=this.container.querySelector(".gl-canvas-focus"),b=g({canvas:w,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){u(this),this.stopped=!0;return}this.canvas=w,this.gl=b}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var m=this.mouseContainer=document.createElement("div");m.style.position="absolute",m.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(E),F.appendChild(m);var _=this;m.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),m.addEventListener("mouseover",function(){_.isMouseOver=!0})},C.toImage=function(w){w||(w="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(s),this.updateSize(this.canvas);var b=this.glplot.gl,i=b.drawingBufferWidth,E=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var m=new Uint8Array(i*E*4);b.readPixels(0,0,i,E,b.RGBA,b.UNSIGNED_BYTE,m);for(var F=0,_=E-1;F<_;++F,--_)for(var B=0;B<i;++B)for(var I=0;I<4;++I){var O=m[4*(i*F+B)+I];m[4*(i*F+B)+I]=m[4*(i*_+B)+I],m[4*(i*_+B)+I]=O}var z=document.createElement("canvas");z.width=i,z.height=E;var k=z.getContext("2d",{willReadFrequently:!0}),N=k.createImageData(i,E);N.data.set(m),k.putImageData(N,0,0);var K;switch(w){case"jpeg":K=z.toDataURL("image/jpeg");break;case"webp":K=z.toDataURL("image/webp");break;default:K=z.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(s),K},C.updateSize=function(w){w||(w=this.canvas);var b=this.pixelRatio,i=this.fullLayout,E=i.width,m=i.height,F=Math.ceil(b*E)|0,_=Math.ceil(b*m)|0;return(w.width!==F||w.height!==_)&&(w.width=F,w.height=_),w},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var w=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],b=0;b<2;++b)for(var i=0;i<w[b].length;++i)w[b][i].text=w[b][i].text+"";return w};function y(w,b){for(var i=0;i<2;++i){var E=w[i],m=b[i];if(E.length!==m.length)return!0;for(var F=0;F<E.length;++F)if(E[F].x!==m[F].x)return!0}return!1}C.updateRefs=function(w){this.fullLayout=w;var b=this.id.match(S),i="xaxis"+b[1],E="yaxis"+b[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var w=this.graphDiv,b=this.xaxis,i=this.yaxis,E=w.layout,m={},F=m[b._name+".range"]=b.range.slice(),_=m[i._name+".range"]=i.range.slice();m[b._name+".autorange"]=b.autorange,m[i._name+".autorange"]=i.autorange,p.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,m);var B=E[b._name];B.range=F,B.autorange=b.autorange;var I=E[i._name];I.range=_,I.autorange=i.autorange,m.lastInputTime=this.camera.lastInputTime,w.emit("plotly_relayout",m)},C.cameraChanged=function(){var w=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),i=this.glplotOptions.ticks;y(b,i)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=w.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var w=this.graphDiv,b=this.fullLayout.annotations,i=0;i<b.length;i++){var E=b[i];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(w,i)}},C.destroy=function(){if(this.glplot){var w=this.traces;w&&Object.keys(w).map(function(b){w[b].dispose(),delete w[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(w,b,i){var E=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(w,b),this.updateFx(i.dragmode);var m=i.width,F=i.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(i),_.screenBox=[0,0,m,F];var B={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};c(B,this.xaxis),c(B,this.yaxis);var I=i._size,O=this.xaxis.domain,z=this.yaxis.domain;_.viewBox=[I.l+O[0]*I.w,I.b+z[0]*I.h,m-I.r-(1-O[1])*I.w,F-I.t-(1-z[1])*I.h],this.mouseContainer.style.width=I.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=I.h*(z[1]-z[0])+"px",this.mouseContainer.height=I.h*(z[1]-z[0]),this.mouseContainer.style.left=I.l+O[0]*I.w+"px",this.mouseContainer.style.top=I.t+(1-z[1])*I.h+"px";var k,N;for(N=0;N<2;++N)k=this[f[N]],k._length=_.viewBox[N+2]-_.viewBox[N],n(this.graphDiv,k),k.setScale();l(B),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(i),E.update(_),this.glplot.draw()},C.calcDataBox=function(){var w=this.xaxis,b=this.yaxis,i=w.range,E=b.range,m=w.r2l,F=b.r2l;return[m(i[0]),F(E[0]),m(i[1]),F(E[1])]},C.setRanges=function(w){var b=this.xaxis,i=this.yaxis,E=b.l2r,m=i.l2r;b.range=[E(w[0]),E(w[2])],i.range=[m(w[1]),m(w[3])]},C.updateTraces=function(w,b){var i=Object.keys(this.traces),E,m,F;this.fullData=w;e:for(E=0;E<i.length;E++){var _=i[E],B=this.traces[_];for(m=0;m<w.length;m++)if(F=w[m],F.uid===_&&F.type===B.type)continue e;B.dispose(),delete this.traces[_]}for(E=0;E<w.length;E++){F=w[E];var I=b[E],O=this.traces[F.uid];O?O.update(F,I):(O=F._module.plot(this,F,I),this.traces[F.uid]=O)}this.glplot.objects.sort(function(z,k){return z._trace.index-k._trace.index})},C.updateFx=function(w){T(w)||h(w)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),w==="pan"?this.mouseContainer.style.cursor="move":w==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(w,b){for(var i=w.trace.uid,E=w.pointIndex,m,F=0;F<this.fullData.length;F++)this.fullData[F].uid===i&&(m=this.fullData[F]);var _={x:w.traceCoord[0],y:w.traceCoord[1],curveNumber:m.index,pointNumber:E,data:m._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(_,m,E),this.graphDiv.emit(b,{points:[_]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var w=this.glplot,b=this.camera,i=b.mouseListener,E=this.lastButtonState===1&&i.buttons===0,m=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var F=i.x*w.pixelRatio,_=this.canvas.height-w.pixelRatio*i.y,B;if(b.boxEnabled&&m.dragmode==="zoom"){this.selectBox.enabled=!0;for(var I=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],O=0;O<2;O++)b.boxStart[O]===b.boxEnd[O]&&(I[O]=w.dataBox[O],I[O+2]=w.dataBox[O+2]);w.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var z=m._size,k=this.xaxis.domain,N=this.yaxis.domain;B=w.pick(F/w.pixelRatio+z.l+k[0]*z.w,_/w.pixelRatio-(z.t+(1-N[1])*z.h));var K=B&&B.object._trace.handlePick(B);if(K&&E&&this.emitPointAction(K,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&m.hovermode&&K&&(!this.lastPickResult||this.lastPickResult.traceUid!==K.trace.uid||this.lastPickResult.dataCoord[0]!==K.dataCoord[0]||this.lastPickResult.dataCoord[1]!==K.dataCoord[1])){var q=K;this.lastPickResult={traceUid:K.trace?K.trace.uid:null,dataCoord:K.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),q.screenCoord=[((w.viewBox[2]-w.viewBox[0])*(B.dataCoord[0]-w.dataBox[0])/(w.dataBox[2]-w.dataBox[0])+w.viewBox[0])/w.pixelRatio,(this.canvas.height-(w.viewBox[3]-w.viewBox[1])*(B.dataCoord[1]-w.dataBox[1])/(w.dataBox[3]-w.dataBox[1])-w.viewBox[1])/w.pixelRatio],this.emitPointAction(K,"plotly_hover");var Q=this.fullData[q.trace.index]||{},re=q.pointIndex,oe=a.castHoverinfo(Q,m,re);if(oe&&oe!=="all"){var Y=oe.split("+");Y.indexOf("x")===-1&&(q.traceCoord[0]=void 0),Y.indexOf("y")===-1&&(q.traceCoord[1]=void 0),Y.indexOf("z")===-1&&(q.traceCoord[2]=void 0),Y.indexOf("text")===-1&&(q.textLabel=void 0),Y.indexOf("name")===-1&&(q.name=void 0)}a.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:a.castHoverOption(Q,re,"bgcolor")||q.color,borderColor:a.castHoverOption(Q,re,"bordercolor"),fontFamily:a.castHoverOption(Q,re,"font.family"),fontSize:a.castHoverOption(Q,re,"font.size"),fontColor:a.castHoverOption(Q,re,"font.color"),nameLength:a.castHoverOption(Q,re,"namelength"),textAlign:a.castHoverOption(Q,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),w.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},C.hoverFormatter=function(w,b){if(b!==void 0){var i=this[w];return L.tickText(i,i.c2l(b),"hover").text}}},58547:function(W,U,e){var p=e(30962).overrideAll,L=e(528),a=e(33539),P=e(27659).NG,A=e(71828),v=e(77922),g="gl3d",t="scene";U.name=g,U.attr=t,U.idRoot=t,U.idRegex=U.attrRegex=A.counterRegex("scene"),U.attributes=e(59084),U.layoutAttributes=e(65500),U.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(24682),U.plot=function(u){for(var o=u._fullLayout,l=u._fullData,c=o._subplots[g],n=0;n<c.length;n++){var x=c[n],h=P(l,g,x),T=o[x],f=T.camera,s=T._scene;s||(s=new a({id:x,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio,camera:f},o),T._scene=s),s.viewInitial||(s.viewInitial={up:{x:f.up.x,y:f.up.y,z:f.up.z},eye:{x:f.eye.x,y:f.eye.y,z:f.eye.z},center:{x:f.center.x,y:f.center.y,z:f.center.z}}),s.plot(h,o,u.layout)}},U.clean=function(r,u,o,l){for(var c=l._subplots[g]||[],n=0;n<c.length;n++){var x=c[n];!u[x]&&l[x]._scene&&(l[x]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+x).remove())}},U.toSVG=function(r){for(var u=r._fullLayout,o=u._subplots[g],l=u._size,c=0;c<o.length;c++){var n=u[o[c]],x=n.domain,h=n._scene,T=h.toImage("png"),f=u._glimages.append("svg:image");f.attr({xmlns:v.svg,"xlink:href":T,x:l.l+l.w*x.x[0],y:l.t+l.h*(1-x.y[1]),width:l.w*(x.x[1]-x.x[0]),height:l.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(u){if(u.match(/^scene[0-9]*$/)){var o=u.substr(5);return o==="1"&&(o=""),t+o}},U.updateFx=function(r){for(var u=r._fullLayout,o=u._subplots[g],l=0;l<o.length;l++){var c=u[o[l]]._scene;c.updateFx(u.dragmode,u.hovermode)}}},59084:function(W){W.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(W,U,e){var p=e(7901),L=e(13838),a=e(1426).extendFlat,P=e(30962).overrideAll;W.exports=P({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:a({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,rangemode:L.rangemode,range:a({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:a({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},3277:function(W,U,e){var p=e(84267).mix,L=e(71828),a=e(44467),P=e(77894),A=e(951),v=e(71453),g=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);W.exports=function(u,o,l){var c,n;function x(f,s){return L.coerce(c,n,P,f,s)}for(var h=0;h<g.length;h++){var T=g[h];c=u[T]||{},n=a.newContainer(o,T),n._id=T[0]+l.scene,n._name=T,A(c,n,x,l),v(c,n,x,{font:l.font,letter:T[0],data:l.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:l.bgColor,calendar:l.calendar},l.fullLayout),x("gridcolor",p(n.color,l.bgColor,t).toRgbString()),x("title.text",T[0]),n.setScale=L.noop,x("showspikes")&&(x("spikesides"),x("spikethickness"),x("spikecolor",n.color)),x("showaxeslabels"),x("showbackground")&&x("backgroundcolor")}}},30422:function(W,U,e){var p=e(78614),L=e(71828),a=["xaxis","yaxis","zaxis"];function P(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var A=P.prototype;A.merge=function(g,t){for(var r=this,u=0;u<3;++u){var o=t[a[u]];if(!o.visible){r.tickEnable[u]=!1,r.labelEnable[u]=!1,r.lineEnable[u]=!1,r.lineTickEnable[u]=!1,r.gridEnable[u]=!1,r.zeroEnable[u]=!1,r.backgroundEnable[u]=!1;continue}r.labels[u]=g._meta?L.templateString(o.title.text,g._meta):o.title.text,"font"in o.title&&(o.title.font.color&&(r.labelColor[u]=p(o.title.font.color)),o.title.font.family&&(r.labelFont[u]=o.title.font.family),o.title.font.size&&(r.labelSize[u]=o.title.font.size)),"showline"in o&&(r.lineEnable[u]=o.showline),"linecolor"in o&&(r.lineColor[u]=p(o.linecolor)),"linewidth"in o&&(r.lineWidth[u]=o.linewidth),"showgrid"in o&&(r.gridEnable[u]=o.showgrid),"gridcolor"in o&&(r.gridColor[u]=p(o.gridcolor)),"gridwidth"in o&&(r.gridWidth[u]=o.gridwidth),o.type==="log"?r.zeroEnable[u]=!1:"zeroline"in o&&(r.zeroEnable[u]=o.zeroline),"zerolinecolor"in o&&(r.zeroLineColor[u]=p(o.zerolinecolor)),"zerolinewidth"in o&&(r.zeroLineWidth[u]=o.zerolinewidth),"ticks"in o&&o.ticks?r.lineTickEnable[u]=!0:r.lineTickEnable[u]=!1,"ticklen"in o&&(r.lineTickLength[u]=r._defaultLineTickLength[u]=o.ticklen),"tickcolor"in o&&(r.lineTickColor[u]=p(o.tickcolor)),"tickwidth"in o&&(r.lineTickWidth[u]=o.tickwidth),"tickangle"in o&&(r.tickAngle[u]=o.tickangle==="auto"?-3600:Math.PI*-o.tickangle/180),"showticklabels"in o&&(r.tickEnable[u]=o.showticklabels),"tickfont"in o&&(o.tickfont.color&&(r.tickColor[u]=p(o.tickfont.color)),o.tickfont.family&&(r.tickFont[u]=o.tickfont.family),o.tickfont.size&&(r.tickSize[u]=o.tickfont.size)),"mirror"in o?["ticks","all","allticks"].indexOf(o.mirror)!==-1?(r.lineTickMirror[u]=!0,r.lineMirror[u]=!0):o.mirror===!0?(r.lineTickMirror[u]=!1,r.lineMirror[u]=!0):(r.lineTickMirror[u]=!1,r.lineMirror[u]=!1):r.lineMirror[u]=!1,"showbackground"in o&&o.showbackground!==!1?(r.backgroundEnable[u]=!0,r.backgroundColor[u]=p(o.backgroundcolor)):r.backgroundEnable[u]=!1}};function v(g,t){var r=new P;return r.merge(g,t),r}W.exports=v},24682:function(W,U,e){var p=e(71828),L=e(7901),a=e(73972),P=e(49119),A=e(3277),v=e(65500),g=e(27659).NG,t="gl3d";W.exports=function(o,l,c){var n=l._basePlotModules.length>1;function x(h){if(!n){var T=p.validate(o[h],v[h]);if(T)return o[h]}}P(o,l,c,{type:t,attributes:v,handleDefaults:r,fullLayout:l,font:l.font,fullData:c,getDfltFromLayout:x,autotypenumbersDflt:l.autotypenumbers,paper_bgcolor:l.paper_bgcolor,calendar:l.calendar})};function r(u,o,l,c){for(var n=l("bgcolor"),x=L.combine(n,c.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)l("camera."+h[T]+".x"),l("camera."+h[T]+".y"),l("camera."+h[T]+".z");l("camera.projection.type");var f=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),s=f?"manual":"auto",d=l("aspectmode",s);f||(u.aspectratio=o.aspectratio={x:1,y:1,z:1},d==="manual"&&(o.aspectmode="auto"),u.aspectmode=o.aspectmode);var S=g(c.fullData,t,c.id);A(u,o,{font:c.font,scene:c.id,data:S,bgColor:x,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(u,o,c);var M=c.getDfltFromLayout("dragmode");if(M!==!1&&!M)if(M="orbit",u.camera&&u.camera.up){var C=u.camera.up.x,y=u.camera.up.y,w=u.camera.up.z;w!==0&&(!C||!y||!w||w/Math.sqrt(C*C+y*y+w*w)>.999)&&(M="turntable")}else M="turntable";l("dragmode",M),l("hovermode",c.getDfltFromLayout("hovermode"))}},65500:function(W,U,e){var p=e(77894),L=e(27670).Y,a=e(1426).extendFlat,P=e(71828).counterRegex;function A(v,g,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}W.exports={_arrayAttrRegexps:[P("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(A(0,0,1),{}),center:a(A(0,0,0),{}),eye:a(A(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(W,U,e){var p=e(78614),L=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var P=a.prototype;P.merge=function(v){for(var g=0;g<3;++g){var t=v[L[g]];if(!t.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=t.showspikes,this.colors[g]=p(t.spikecolor),this.drawSides[g]=t.spikesides,this.lineWidth[g]=t.spikethickness}};function A(v){var g=new a;return g.merge(v),g}W.exports=A},96085:function(W,U,e){W.exports=A;var p=e(89298),L=e(71828),a=["xaxis","yaxis","zaxis"];function P(v){for(var g=new Array(3),t=0;t<3;++t){for(var r=v[t],u=new Array(r.length),o=0;o<r.length;++o)u[o]=r[o].x;g[t]=u}return g}function A(v){for(var g=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,u=[[],[],[]],o=0;o<3;++o){var l=r[a[o]];if(l._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/v.dataScale[o],Math.abs(l._length)===1/0||isNaN(l._length))u[o]=[];else{l._input_range=l.range.slice(),l.range[0]=t[o].lo/v.dataScale[o],l.range[1]=t[o].hi/v.dataScale[o],l._m=1/(v.dataScale[o]*t[o].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var c=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var n=l.nticks||L.constrain(l._length/40,4,9);p.autoTicks(l,Math.abs(l.range[1]-l.range[0])/n)}for(var x=p.calcTicks(l,{msUTC:!0}),h=0;h<x.length;++h)x[h].x=x[h].x*v.dataScale[o],l.type==="date"&&(x[h].text=x[h].text.replace(/\<br\>/g," "));u[o]=x,l.tickmode=c}}g.ticks=u;for(var o=0;o<3;++o){.5*(v.glplot.bounds[0][o]+v.glplot.bounds[1][o]);for(var h=0;h<2;++h)g.bounds[h][o]=v.glplot.bounds[h][o]}v.contourLevels=P(u)}},63538:function(W){function U(p,L){var a=[0,0,0,0],P,A;for(P=0;P<4;++P)for(A=0;A<4;++A)a[A]+=p[4*P+A]*L[P];return a}function e(p,L){var a=U(p.projection,U(p.view,U(p.model,[L[0],L[1],L[2],1])));return a}W.exports=e},33539:function(W,U,e){var p=e(9330).gl_plot3d,L=p.createCamera,a=p.createScene,P=e(40372),A=e(38520),v=e(73972),g=e(71828),t=g.preserveDrawingBuffer(),r=e(89298),u=e(30211),o=e(78614),l=e(58617),c=e(63538),n=e(30422),x=e(13133),h=e(96085),T,f;function s(m,F){var _=document.createElement("div"),B=m.container;this.graphDiv=m.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",_.appendChild(I),this.svgContainer=I,_.id=m.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",B.appendChild(_),this.fullLayout=F,this.id=m.id||"scene",this.fullSceneLayout=F[this.id],this.plotArgs=[[],{},{}],this.axesOptions=n(F,F[this.id]),this.spikeOptions=x(F[this.id]),this.container=_,this.staticMode=!!m.staticPlot,this.pixelRatio=this.pixelRatio||m.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var d=s.prototype;d.prepareOptions=function(){var m=this,F={canvas:m.canvas,gl:m.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:m.container,axes:m.axesOptions,spikes:m.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:m.camera,pixelRatio:m.pixelRatio};if(m.staticMode){if(!f&&(T=document.createElement("canvas"),f=P({canvas:T,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!f))throw new Error("error creating static canvas/context for image server");F.gl=f,F.canvas=T}return F};var S=!0;d.tryCreatePlot=function(){var m=this,F=m.prepareOptions(),_=!0;try{m.glplot=a(F)}catch{if(m.staticMode||!S||t)_=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=F.glOptions.preserveDrawingBuffer=!0,m.glplot=a(F)}catch{t=F.glOptions.preserveDrawingBuffer=!1,_=!1}}}return S=!1,_},d.initializeGLCamera=function(){var m=this,F=m.fullSceneLayout.camera,_=F.projection.type==="orthographic";m.camera=L(m.container,{center:[F.center.x,F.center.y,F.center.z],eye:[F.eye.x,F.eye.y,F.eye.z],up:[F.up.x,F.up.y,F.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},d.initializeGLPlot=function(){var m=this;m.initializeGLCamera();var F=m.tryCreatePlot();if(!F)return l(m);m.traces={},m.make4thDimension();var _=m.graphDiv,B=_.layout,I=function(){var z={};return m.isCameraChanged(B)&&(z[m.id+".camera"]=m.getCamera()),m.isAspectChanged(B)&&(z[m.id+".aspectratio"]=m.glplot.getAspectratio(),B[m.id].aspectmode!=="manual"&&(m.fullSceneLayout.aspectmode=B[m.id].aspectmode=z[m.id+".aspectmode"]="manual")),z},O=function(z){if(z.fullSceneLayout.dragmode!==!1){var k=I();z.saveLayout(B),z.graphDiv.emit("plotly_relayout",k)}};return m.glplot.canvas&&(m.glplot.canvas.addEventListener("mouseup",function(){O(m)}),m.glplot.canvas.addEventListener("wheel",function(z){if(_._context._scrollZoom.gl3d){if(m.camera._ortho){var k=z.deltaX>z.deltaY?1.1:.9090909090909091,N=m.glplot.getAspectratio();m.glplot.setAspectratio({x:k*N.x,y:k*N.y,z:k*N.z})}O(m)}},A?{passive:!1}:!1),m.glplot.canvas.addEventListener("mousemove",function(){if(m.fullSceneLayout.dragmode!==!1&&m.camera.mouseListener.buttons!==0){var z=I();m.graphDiv.emit("plotly_relayouting",z)}}),m.staticMode||m.glplot.canvas.addEventListener("webglcontextlost",function(z){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:z,layer:m.id})},!1)),m.glplot.oncontextloss=function(){m.recoverContext()},m.glplot.onrender=function(){m.render()},!0},d.render=function(){var m=this,F=m.graphDiv,_,B=m.svgContainer,I=m.container.getBoundingClientRect();F._fullLayout._calcInverseTransform(F);var O=F._fullLayout._invScaleX,z=F._fullLayout._invScaleY,k=I.width*O,N=I.height*z;B.setAttributeNS(null,"viewBox","0 0 "+k+" "+N),B.setAttributeNS(null,"width",k),B.setAttributeNS(null,"height",N),h(m),m.glplot.axes.update(m.axesOptions);for(var K=Object.keys(m.traces),q=null,Q=m.glplot.selection,re=0;re<K.length;++re)_=m.traces[K[re]],_.data.hoverinfo!=="skip"&&_.handlePick(Q)&&(q=_),_.setContourLevels&&_.setContourLevels();function oe(Te,xe,Pe){var Ie=m.fullSceneLayout[Te+"axis"];return Ie.type!=="log"&&(xe=Ie.d2l(xe)),r.hoverLabelText(Ie,xe,Pe)}if(q!==null){var Y=c(m.glplot.cameraParams,Q.dataCoordinate);_=q.data;var G=F._fullData[_.index],V=Q.index,Z={xLabel:oe("x",Q.traceCoordinate[0],_.xhoverformat),yLabel:oe("y",Q.traceCoordinate[1],_.yhoverformat),zLabel:oe("z",Q.traceCoordinate[2],_.zhoverformat)},ae=u.castHoverinfo(G,m.fullLayout,V),ie=(ae||"").split("+"),J=ae&&ae==="all";!G.hovertemplate&&!J&&(ie.indexOf("x")===-1&&(Z.xLabel=void 0),ie.indexOf("y")===-1&&(Z.yLabel=void 0),ie.indexOf("z")===-1&&(Z.zLabel=void 0),ie.indexOf("text")===-1&&(Q.textLabel=void 0),ie.indexOf("name")===-1&&(q.name=void 0));var $,se=[];_.type==="cone"||_.type==="streamtube"?(Z.uLabel=oe("x",Q.traceCoordinate[3],_.uhoverformat),(J||ie.indexOf("u")!==-1)&&se.push("u: "+Z.uLabel),Z.vLabel=oe("y",Q.traceCoordinate[4],_.vhoverformat),(J||ie.indexOf("v")!==-1)&&se.push("v: "+Z.vLabel),Z.wLabel=oe("z",Q.traceCoordinate[5],_.whoverformat),(J||ie.indexOf("w")!==-1)&&se.push("w: "+Z.wLabel),Z.normLabel=Q.traceCoordinate[6].toPrecision(3),(J||ie.indexOf("norm")!==-1)&&se.push("norm: "+Z.normLabel),_.type==="streamtube"&&(Z.divergenceLabel=Q.traceCoordinate[7].toPrecision(3),(J||ie.indexOf("divergence")!==-1)&&se.push("divergence: "+Z.divergenceLabel)),Q.textLabel&&se.push(Q.textLabel),$=se.join("<br>")):_.type==="isosurface"||_.type==="volume"?(Z.valueLabel=r.hoverLabelText(m._mockAxis,m._mockAxis.d2l(Q.traceCoordinate[3]),_.valuehoverformat),se.push("value: "+Z.valueLabel),Q.textLabel&&se.push(Q.textLabel),$=se.join("<br>")):$=Q.textLabel;var ee={x:Q.traceCoordinate[0],y:Q.traceCoordinate[1],z:Q.traceCoordinate[2],data:G._input,fullData:G,curveNumber:G.index,pointNumber:V};u.appendArrayPointValue(ee,G,V),_._module.eventData&&(ee=G._module.eventData(ee,Q,G,{},V));var ue={points:[ee]};if(m.fullSceneLayout.hovermode){var ge=[];u.loneHover({trace:G,x:(.5+.5*Y[0]/Y[3])*k,y:(.5-.5*Y[1]/Y[3])*N,xLabel:Z.xLabel,yLabel:Z.yLabel,zLabel:Z.zLabel,text:$,name:q.name,color:u.castHoverOption(G,V,"bgcolor")||q.color,borderColor:u.castHoverOption(G,V,"bordercolor"),fontFamily:u.castHoverOption(G,V,"font.family"),fontSize:u.castHoverOption(G,V,"font.size"),fontColor:u.castHoverOption(G,V,"font.color"),nameLength:u.castHoverOption(G,V,"namelength"),textAlign:u.castHoverOption(G,V,"align"),hovertemplate:g.castOption(G,V,"hovertemplate"),hovertemplateLabels:g.extendFlat({},ee,Z),eventData:[ee]},{container:B,gd:F,inOut_bbox:ge}),ee.bbox=ge[0]}Q.buttons&&Q.distance<5?F.emit("plotly_click",ue):F.emit("plotly_hover",ue),this.oldEventData=ue}else u.loneUnhover(B),this.oldEventData&&F.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;m.drawAnnotations(m)},d.recoverContext=function(){var m=this;m.glplot.dispose();var F=function(){if(m.glplot.gl.isContextLost()){requestAnimationFrame(F);return}if(!m.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}m.plot.apply(m,m.plotArgs)};requestAnimationFrame(F)};var M=["xaxis","yaxis","zaxis"];function C(m,F,_){for(var B=m.fullSceneLayout,I=0;I<3;I++){var O=M[I],z=O.charAt(0),k=B[O],N=F[z],K=F[z+"calendar"],q=F["_"+z+"length"];if(!g.isArrayOrTypedArray(N))_[0][I]=Math.min(_[0][I],0),_[1][I]=Math.max(_[1][I],q-1);else for(var Q,re=0;re<(q||N.length);re++)if(g.isArrayOrTypedArray(N[re]))for(var oe=0;oe<N[re].length;++oe)Q=k.d2l(N[re][oe],0,K),!isNaN(Q)&&isFinite(Q)&&(_[0][I]=Math.min(_[0][I],Q),_[1][I]=Math.max(_[1][I],Q));else Q=k.d2l(N[re],0,K),!isNaN(Q)&&isFinite(Q)&&(_[0][I]=Math.min(_[0][I],Q),_[1][I]=Math.max(_[1][I],Q))}}function y(m,F){for(var _=m.fullSceneLayout,B=_.annotations||[],I=0;I<3;I++)for(var O=M[I],z=O.charAt(0),k=_[O],N=0;N<B.length;N++){var K=B[N];if(K.visible){var q=k.r2l(K[z]);!isNaN(q)&&isFinite(q)&&(F[0][I]=Math.min(F[0][I],q),F[1][I]=Math.max(F[1][I],q))}}}d.plot=function(m,F,_){var B=this;if(B.plotArgs=[m,F,_],B.glplot.contextLost)return;var I,O,z,k,N,K,q=F[B.id],Q=_[B.id];B.fullLayout=F,B.fullSceneLayout=q,B.axesOptions.merge(F,q),B.spikeOptions.merge(q),B.setViewport(q),B.updateFx(q.dragmode,q.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(o(q.bgcolor)),B.setConvert(N),m?Array.isArray(m)||(m=[m]):m=[];var re=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(z=0;z<m.length;++z)I=m[z],!(I.visible!==!0||I._length===0)&&C(this,I,re);y(this,re);var oe=[1,1,1];for(k=0;k<3;++k)re[1][k]===re[0][k]?oe[k]=1:oe[k]=1/(re[1][k]-re[0][k]);for(B.dataScale=oe,B.convertAnnotations(this),z=0;z<m.length;++z)I=m[z],!(I.visible!==!0||I._length===0)&&(O=B.traces[I.uid],O?O.data.type===I.type?O.update(I):(O.dispose(),O=I._module.plot(this,I),B.traces[I.uid]=O):(O=I._module.plot(this,I),B.traces[I.uid]=O),O.name=I.name);var Y=Object.keys(B.traces);e:for(z=0;z<Y.length;++z){for(k=0;k<m.length;++k)if(m[k].uid===Y[z]&&m[k].visible===!0&&m[k]._length!==0)continue e;O=B.traces[Y[z]],O.dispose(),delete B.traces[Y[z]]}B.glplot.objects.sort(function(Ze,ct){return Ze._trace.data.index-ct._trace.data.index});var G=[[0,0,0],[0,0,0]],V={};for(z=0;z<3;++z){if(N=q[M[z]],K=N.type,K in V?(V[K].acc*=oe[z],V[K].count+=1):V[K]={acc:oe[z],count:1},N.autorange){G[0][z]=1/0,G[1][z]=-1/0;var Z=B.glplot.objects,ae=B.fullSceneLayout.annotations||[],ie=N._name.charAt(0);for(k=0;k<Z.length;k++){var J=Z[k],$=J.bounds,se=J._trace.data._pad||0;J.constructor.name==="ErrorBars"&&N._lowerLogErrorBound?G[0][z]=Math.min(G[0][z],N._lowerLogErrorBound):G[0][z]=Math.min(G[0][z],$[0][z]/oe[z]-se),G[1][z]=Math.max(G[1][z],$[1][z]/oe[z]+se)}for(k=0;k<ae.length;k++){var ee=ae[k];if(ee.visible){var ue=N.r2l(ee[ie]);G[0][z]=Math.min(G[0][z],ue),G[1][z]=Math.max(G[1][z],ue)}}if("rangemode"in N&&N.rangemode==="tozero"&&(G[0][z]=Math.min(G[0][z],0),G[1][z]=Math.max(G[1][z],0)),G[0][z]>G[1][z])G[0][z]=-1,G[1][z]=1;else{var ge=G[1][z]-G[0][z];G[0][z]-=ge/32,G[1][z]+=ge/32}if(N.autorange==="reversed"){var Te=G[0][z];G[0][z]=G[1][z],G[1][z]=Te}}else{var xe=N.range;G[0][z]=N.r2l(xe[0]),G[1][z]=N.r2l(xe[1])}G[0][z]===G[1][z]&&(G[0][z]-=1,G[1][z]+=1),B.glplot.setBounds(z,{min:G[0][z]*oe[z],max:G[1][z]*oe[z]})}var Pe,Ie=q.aspectmode;if(Ie==="cube")Pe=[1,1,1];else if(Ie==="manual"){var Ae=q.aspectratio;Pe=[Ae.x,Ae.y,Ae.z]}else if(Ie==="auto"||Ie==="data"){var be=[1,1,1];for(z=0;z<3;++z){N=q[M[z]],K=N.type;var _e=V[K];be[z]=Math.pow(_e.acc,1/_e.count)/oe[z]}Ie==="data"||Math.max.apply(null,be)/Math.min.apply(null,be)<=4?Pe=be:Pe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");q.aspectratio.x=Q.aspectratio.x=Pe[0],q.aspectratio.y=Q.aspectratio.y=Pe[1],q.aspectratio.z=Q.aspectratio.z=Pe[2],B.glplot.setAspectratio(q.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:q.aspectratio.x,y:q.aspectratio.y,z:q.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=q.aspectmode);var Ve=q.domain||null,We=F._size||null;if(Ve&&We){var ze=B.container.style;ze.position="absolute",ze.left=We.l+Ve.x[0]*We.w+"px",ze.top=We.t+(1-Ve.y[1])*We.h+"px",ze.width=We.w*(Ve.x[1]-Ve.x[0])+"px",ze.height=We.h*(Ve.y[1]-Ve.y[0])+"px"}B.glplot.redraw()},d.destroy=function(){var m=this;m.glplot&&(m.camera.mouseListener.enabled=!1,m.container.removeEventListener("wheel",m.camera.wheelListener),m.camera=null,m.glplot.dispose(),m.container.parentNode.removeChild(m.container),m.glplot=null)};function w(m){return[[m.eye.x,m.eye.y,m.eye.z],[m.center.x,m.center.y,m.center.z],[m.up.x,m.up.y,m.up.z]]}function b(m){return{up:{x:m.up[0],y:m.up[1],z:m.up[2]},center:{x:m.center[0],y:m.center[1],z:m.center[2]},eye:{x:m.eye[0],y:m.eye[1],z:m.eye[2]},projection:{type:m._ortho===!0?"orthographic":"perspective"}}}d.getCamera=function(){var m=this;return m.camera.view.recalcMatrix(m.camera.view.lastT()),b(m.camera)},d.setViewport=function(m){var F=this,_=m.camera;F.camera.lookAt.apply(this,w(_)),F.glplot.setAspectratio(m.aspectratio);var B=_.projection.type==="orthographic",I=F.camera._ortho;B!==I&&(F.glplot.redraw(),F.glplot.clearRGBA(),F.glplot.dispose(),F.initializeGLPlot())},d.isCameraChanged=function(m){var F=this,_=F.getCamera(),B=g.nestedProperty(m,F.id+".camera"),I=B.get();function O(K,q,Q,re){var oe=["up","center","eye"],Y=["x","y","z"];return q[oe[Q]]&&K[oe[Q]][Y[re]]===q[oe[Q]][Y[re]]}var z=!1;if(I===void 0)z=!0;else{for(var k=0;k<3;k++)for(var N=0;N<3;N++)if(!O(_,I,k,N)){z=!0;break}(!I.projection||_.projection&&_.projection.type!==I.projection.type)&&(z=!0)}return z},d.isAspectChanged=function(m){var F=this,_=F.glplot.getAspectratio(),B=g.nestedProperty(m,F.id+".aspectratio"),I=B.get();return I===void 0||I.x!==_.x||I.y!==_.y||I.z!==_.z},d.saveLayout=function(m){var F=this,_=F.fullLayout,B,I,O,z,k,N,K=F.isCameraChanged(m),q=F.isAspectChanged(m),Q=K||q;if(Q){var re={};if(K&&(B=F.getCamera(),I=g.nestedProperty(m,F.id+".camera"),O=I.get(),re[F.id+".camera"]=O),q&&(z=F.glplot.getAspectratio(),k=g.nestedProperty(m,F.id+".aspectratio"),N=k.get(),re[F.id+".aspectratio"]=N),v.call("_storeDirectGUIEdit",m,_._preGUI,re),K){I.set(B);var oe=g.nestedProperty(_,F.id+".camera");oe.set(B)}if(q){k.set(z);var Y=g.nestedProperty(_,F.id+".aspectratio");Y.set(z),F.glplot.redraw()}}return Q},d.updateFx=function(m,F){var _=this,B=_.camera;if(B)if(m==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(m==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var I=_.graphDiv,O=I._fullLayout,z=_.fullSceneLayout.camera,k=z.up.x,N=z.up.y,K=z.up.z;if(K/Math.sqrt(k*k+N*N+K*K)<.999){var q=_.id+".camera.up",Q={x:0,y:0,z:1},re={};re[q]=Q;var oe=I.layout;v.call("_storeDirectGUIEdit",oe,O._preGUI,re),z.up=Q,g.nestedProperty(oe,q).set(Q)}}else B.keyBindingMode=m;_.fullSceneLayout.hovermode=F};function i(m,F,_){for(var B=0,I=_-1;B<I;++B,--I)for(var O=0;O<F;++O)for(var z=0;z<4;++z){var k=4*(F*B+O)+z,N=4*(F*I+O)+z,K=m[k];m[k]=m[N],m[N]=K}}function E(m,F,_){for(var B=0;B<_;++B)for(var I=0;I<F;++I){var O=4*(F*B+I),z=m[O+3];if(z>0)for(var k=255/z,N=0;N<3;++N)m[O+N]=Math.min(k*m[O+N],255)}}d.toImage=function(m){var F=this;m||(m="png"),F.staticMode&&F.container.appendChild(T),F.glplot.redraw();var _=F.glplot.gl,B=_.drawingBufferWidth,I=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var O=new Uint8Array(B*I*4);_.readPixels(0,0,B,I,_.RGBA,_.UNSIGNED_BYTE,O),i(O,B,I),E(O,B,I);var z=document.createElement("canvas");z.width=B,z.height=I;var k=z.getContext("2d",{willReadFrequently:!0}),N=k.createImageData(B,I);N.data.set(O),k.putImageData(N,0,0);var K;switch(m){case"jpeg":K=z.toDataURL("image/jpeg");break;case"webp":K=z.toDataURL("image/webp");break;default:K=z.toDataURL("image/png")}return F.staticMode&&F.container.removeChild(T),K},d.setConvert=function(){for(var m=this,F=0;F<3;F++){var _=m.fullSceneLayout[M[F]];r.setConvert(_,m.fullLayout),_.setScale=g.noop}},d.make4thDimension=function(){var m=this,F=m.graphDiv,_=F._fullLayout;m._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(m._mockAxis,_)},W.exports=s},90060:function(W){W.exports=function(e,p,L,a){a=a||e.length;for(var P=new Array(a),A=0;A<a;A++)P[A]=[e[A],p[A],L[A]];return P}},10820:function(W,U,e){var p=e(41940),L=e(85594),a=e(22399),P=e(29241),A=e(53777),v=e(35025),g=e(1426).extendFlat,t=p({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,W.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(v({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:A.newselection,activeselection:A.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},77734:function(W,U,e){var p=e(78607),L="1.10.1",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',P=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),A=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:A,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:A,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},t=p(g);W.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(W,U,e){var p=e(71828);W.exports=function(a,P){var A=a.split(" "),v=A[0],g=A[1],t=p.isArrayOrTypedArray(P)?p.mean(P):P,r=.5+t/100,u=1.5+t/100,o=["",""],l=[0,0];switch(v){case"top":o[0]="top",l[1]=-u;break;case"bottom":o[0]="bottom",l[1]=u;break}switch(g){case"left":o[1]="right",l[0]=-r;break;case"right":o[1]="left",l[0]=r;break}var c;return o[0]&&o[1]?c=o.join("-"):o[0]?c=o[0]:o[1]?c=o[1]:c="center",{anchor:c,offset:l}}},50101:function(W,U,e){var p=e(44517),L=e(71828),a=L.strTranslate,P=L.strScale,A=e(27659).AU,v=e(77922),g=e(39898),t=e(91424),r=e(63893),u=e(10481),o="mapbox",l=U.constants=e(77734);U.name=o,U.attr="subplot",U.idRoot=o,U.idRegex=U.attrRegex=L.counterRegex(o),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(23585),U.supplyLayoutDefaults=e(77882),U.plot=function(h){var T=h._fullLayout,f=h.calcdata,s=T._subplots[o];if(p.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var d=c(h,s);p.accessToken=d;for(var S=0;S<s.length;S++){var M=s[S],C=A(f,o,M),y=T[M],w=y._subplot;w||(w=new u(h,M),T[M]._subplot=w),w.viewInitial||(w.viewInitial={center:L.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),w.plot(C,T,h._promises)}},U.clean=function(x,h,T,f){for(var s=f._subplots[o]||[],d=0;d<s.length;d++){var S=s[d];!h[S]&&f[S]._subplot&&f[S]._subplot.destroy()}},U.toSVG=function(x){for(var h=x._fullLayout,T=h._subplots[o],f=h._size,s=0;s<T.length;s++){var d=h[T[s]],S=d.domain,M=d._subplot,C=M.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":C,x:f.l+f.w*S.x[0],y:f.t+f.h*(1-S.y[1]),width:f.w*(S.x[1]-S.x[0]),height:f.h*(S.y[1]-S.y[0]),preserveAspectRatio:"none"});var w=g.select(d._subplot.div),b=w.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var i=h._glimages.append("g");i.attr("transform",a(f.l+f.w*S.x[0]+10,f.t+f.h*(1-S.y[0])-31)),i.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=w.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),m=h._glimages.append("g"),F=m.append("text");F.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var _=t.bBox(F.node()),B=f.w*(S.x[1]-S.x[0]);if(_.width>B/2){var I=E.split("|").join("<br>");F.text(I).attr("data-unformatted",I).call(r.convertToTspans,x),_=t.bBox(F.node())}F.attr("transform",a(-3,-_.height+8)),m.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;_.width+6>B&&(O=B/(_.width+6));var z=[f.l+f.w*S.x[1],f.t+f.h*(1-S.y[0])];m.attr("transform",a(z[0],z[1])+P(O))}};function c(x,h){var T=x._fullLayout,f=x._context;if(f.mapboxAccessToken==="")return"";for(var s=[],d=[],S=!1,M=!1,C=0;C<h.length;C++){var y=T[h[C]],w=y.accesstoken;n(y.style)&&(w?L.pushUnique(s,w):(n(y._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),S=!0),M=!0)),w&&L.pushUnique(d,w)}if(M){var b=S?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw L.error(b),new Error(b)}return s.length?(s.length>1&&L.warn(l.multipleTokensErrorMsg),s[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function n(x){return typeof x=="string"&&(l.styleValuesMapbox.indexOf(x)!==-1||x.indexOf("mapbox://")===0)}U.updateFx=function(x){for(var h=x._fullLayout,T=h._subplots[o],f=0;f<T.length;f++){var s=h[T[f]]._subplot;s.updateFx(h)}}},67911:function(W,U,e){var p=e(71828),L=e(63893).sanitizeHTML,a=e(13056),P=e(77734);function A(u,o){this.subplot=u,this.uid=u.uid+"-"+o,this.index=o,this.idSource="source-"+this.uid,this.idLayer=P.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=A.prototype;v.update=function(o){this.visible?this.needsNewImage(o)?this.updateImage(o):this.needsNewSource(o)?(this.removeLayer(),this.updateSource(o),this.updateLayer(o)):this.needsNewLayer(o)?this.updateLayer(o):this.updateStyle(o):(this.updateSource(o),this.updateLayer(o)),this.visible=g(o)},v.needsNewImage=function(u){var o=this.subplot.map;return o.getSource(this.idSource)&&this.sourceType==="image"&&u.sourcetype==="image"&&(this.source!==u.source||JSON.stringify(this.coordinates)!==JSON.stringify(u.coordinates))},v.needsNewSource=function(u){return this.sourceType!==u.sourcetype||JSON.stringify(this.source)!==JSON.stringify(u.source)||this.layerType!==u.type},v.needsNewLayer=function(u){return this.layerType!==u.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(u){var o=this.subplot.map;o.getSource(this.idSource).updateImage({url:u.source,coordinates:u.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},v.updateSource=function(u){var o=this.subplot.map;if(o.getSource(this.idSource)&&o.removeSource(this.idSource),this.sourceType=u.sourcetype,this.source=u.source,!!g(u)){var l=r(u);o.addSource(this.idSource,l)}},v.findFollowingMapboxLayerId=function(u){if(u==="traces")for(var o=this.subplot.getMapLayers(),l=0;l<o.length;l++){var c=o[l].id;if(typeof c=="string"&&c.indexOf(P.traceLayerPrefix)===0){u=c;break}}return u},v.updateLayer=function(u){var o=this.subplot,l=t(u),c=this.lookupBelow(),n=this.findFollowingMapboxLayerId(c);this.removeLayer(),g(u)&&o.addLayer({id:this.idLayer,source:this.idSource,"source-layer":u.sourcelayer||"",type:u.type,minzoom:u.minzoom,maxzoom:u.maxzoom,layout:l.layout,paint:l.paint},n),this.layerType=u.type,this.below=c},v.updateStyle=function(u){if(g(u)){var o=t(u);this.subplot.setOptions(this.idLayer,"setLayoutProperty",o.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",o.paint)}},v.removeLayer=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer)},v.dispose=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer),u.getSource(this.idSource)&&u.removeSource(this.idSource)};function g(u){if(!u.visible)return!1;var o=u.source;if(Array.isArray(o)&&o.length>0){for(var l=0;l<o.length;l++)if(typeof o[l]!="string"||o[l].length===0)return!1;return!0}return p.isPlainObject(o)||typeof o=="string"&&o.length>0}function t(u){var o={},l={};switch(u.type){case"circle":p.extendFlat(l,{"circle-radius":u.circle.radius,"circle-color":u.color,"circle-opacity":u.opacity});break;case"line":p.extendFlat(l,{"line-width":u.line.width,"line-color":u.color,"line-opacity":u.opacity,"line-dasharray":u.line.dash});break;case"fill":p.extendFlat(l,{"fill-color":u.color,"fill-outline-color":u.fill.outlinecolor,"fill-opacity":u.opacity});break;case"symbol":var c=u.symbol,n=a(c.textposition,c.iconsize);p.extendFlat(o,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":n.anchor,"text-offset":n.offset,"symbol-placement":c.placement}),p.extendFlat(l,{"icon-color":u.color,"text-color":c.textfont.color,"text-opacity":u.opacity});break;case"raster":p.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":u.opacity});break}return{layout:o,paint:l}}function r(u){var o=u.sourcetype,l=u.source,c={type:o},n;return o==="geojson"?n="data":o==="vector"?n=typeof l=="string"?"url":"tiles":o==="raster"?(n="tiles",c.tileSize=256):o==="image"&&(n="url",c.coordinates=u.coordinates),c[n]=l,u.sourceattribution&&(c.attribution=L(u.sourceattribution)),c}W.exports=function(o,l,c){var n=new A(o,l);return n.update(c),n}},23585:function(W,U,e){var p=e(71828),L=e(7901).defaultLine,a=e(27670).Y,P=e(41940),A=e(82196).textposition,v=e(30962).overrideAll,g=e(44467).templatedArray,t=e(77734),r=P({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var u=W.exports=v({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:p.extendFlat({},A,{arrayOk:!1})}})},"plot","from-root");u.uirevision={valType:"any",editType:"none"}},77882:function(W,U,e){var p=e(71828),L=e(49119),a=e(85501),P=e(23585);W.exports=function(t,r,u){L(t,r,u,{type:"mapbox",attributes:P,handleDefaults:A,partition:"y",accessToken:r._mapboxAccessToken})};function A(g,t,r,u){r("accesstoken",u.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var o=r("bounds.west"),l=r("bounds.east"),c=r("bounds.south"),n=r("bounds.north");(o===void 0||l===void 0||c===void 0||n===void 0)&&delete t.bounds,a(g,t,{name:"layers",handleItemDefaults:v}),t._input=g}function v(g,t){function r(x,h){return p.coerce(g,t,P.layers,x,h)}var u=r("visible");if(u){var o=r("sourcetype"),l=o==="raster"||o==="image";r("source"),r("sourceattribution"),o==="vector"&&r("sourcelayer"),o==="image"&&r("coordinates");var c;l&&(c="raster");var n=r("type",c);l&&n!=="raster"&&(n=t.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),n==="circle"&&r("circle.radius"),n==="line"&&(r("line.width"),r("line.dash")),n==="fill"&&r("fill.outlinecolor"),n==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),p.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(W,U,e){var p=e(44517),L=e(71828),a=e(41327),P=e(73972),A=e(89298),v=e(28569),g=e(30211),t=e(64505),r=t.drawMode,u=t.selectMode,o=e(47322).prepSelect,l=e(47322).clearOutline,c=e(47322).clearSelectionsCache,n=e(47322).selectOnClick,x=e(77734),h=e(67911);function T(C,y){this.id=y,this.gd=C;var w=C._fullLayout,b=C._context;this.container=w._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=w._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(w),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var f=T.prototype;f.plot=function(C,y,w){var b=this,i=y[b.id];b.map&&i.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var E;b.map?E=new Promise(function(m,F){b.updateMap(C,y,m,F)}):E=new Promise(function(m,F){b.createMap(C,y,m,F)}),w.push(E)},f.createMap=function(C,y,w,b){var i=this,E=y[i.id],m=i.styleObj=d(E.style);i.accessToken=E.accesstoken;var F=E.bounds,_=F?[[F.west,F.south],[F.east,F.north]]:null,B=i.map=new p.Map({container:i.div,style:m.style,center:M(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:_,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",i.rejectOnError(b),i.isStatic||i.initFx(C,y);var I=[];I.push(new Promise(function(O){B.once("load",O)})),I=I.concat(a.fetchTraceGeoData(C)),Promise.all(I).then(function(){i.fillBelowLookup(C,y),i.updateData(C),i.updateLayout(y),i.resolveOnRender(w)}).catch(b)},f.updateMap=function(C,y,w,b){var i=this,E=i.map,m=y[this.id];i.rejectOnError(b);var F=[],_=d(m.style);JSON.stringify(i.styleObj)!==JSON.stringify(_)&&(i.styleObj=_,E.setStyle(_.style),i.traceHash={},F.push(new Promise(function(B){E.once("styledata",B)}))),F=F.concat(a.fetchTraceGeoData(C)),Promise.all(F).then(function(){i.fillBelowLookup(C,y),i.updateData(C),i.updateLayout(y),i.resolveOnRender(w)}).catch(b)},f.fillBelowLookup=function(C,y){var w=y[this.id],b=w.layers,i,E,m=this.belowLookup={},F=!1;for(i=0;i<C.length;i++){var _=C[i][0].trace,B=_._module;typeof _.below=="string"?E=_.below:B.getBelow&&(E=B.getBelow(_,this)),E===""&&(F=!0),m["trace-"+_.uid]=E||""}for(i=0;i<b.length;i++){var I=b[i];typeof I.below=="string"?E=I.below:F?E="traces":E="",m["layout-"+i]=E}var O={},z,k;for(z in m)E=m[z],O[E]?O[E].push(z):O[E]=[z];for(E in O){var N=O[E];if(N.length>1)for(i=0;i<N.length;i++)z=N[i],z.indexOf("trace-")===0?(k=z.split("trace-")[1],this.traceHash[k]&&(this.traceHash[k].below=null)):z.indexOf("layout-")===0&&(k=z.split("layout-")[1],this.layerList[k]&&(this.layerList[k].below=null))}};var s={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};f.updateData=function(C){var y=this.traceHash,w,b,i,E,m=C.slice().sort(function(O,z){return s[O[0].trace.type]-s[z[0].trace.type]});for(i=0;i<m.length;i++){var F=m[i];b=F[0].trace,w=y[b.uid];var _=!1;w&&(w.type===b.type?(w.update(F),_=!0):w.dispose()),!_&&b._module&&(y[b.uid]=b._module.plot(this,F))}var B=Object.keys(y);e:for(i=0;i<B.length;i++){var I=B[i];for(E=0;E<C.length;E++)if(b=C[E][0].trace,I===b.uid)continue e;w=y[I],w.dispose(),delete y[I]}},f.updateLayout=function(C){var y=this.map,w=C[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(M(w.center)),y.setZoom(w.zoom),y.setBearing(w.bearing),y.setPitch(w.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},f.resolveOnRender=function(C){var y=this.map;y.on("render",function w(){y.loaded()&&(y.off("render",w),setTimeout(C,10))})},f.rejectOnError=function(C){var y=this.map;function w(){C(new Error(x.mapOnErrorMsg))}y.once("error",w),y.once("style.error",w),y.once("source.error",w),y.once("tile.error",w),y.once("layer.error",w)},f.createFramework=function(C){var y=this,w=y.div=document.createElement("div");w.id=y.uid,w.style.position="absolute",y.container.appendChild(w),y.xaxis={_id:"x",c2p:function(b){return y.project(b).x}},y.yaxis={_id:"y",c2p:function(b){return y.project(b).y}},y.updateFramework(C),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},A.setConvert(y.mockAxis,C)},f.initFx=function(C,y){var w=this,b=w.gd,i=w.map;i.on("moveend",function(F){if(w.map){var _=b._fullLayout;if(F.originalEvent||w.wheeling){var B=_[w.id];P.call("_storeDirectGUIEdit",b.layout,_._preGUI,w.getViewEdits(B));var I=w.getView();B._input.center=B.center=I.center,B._input.zoom=B.zoom=I.zoom,B._input.bearing=B.bearing=I.bearing,B._input.pitch=B.pitch=I.pitch,b.emit("plotly_relayout",w.getViewEditsWithDerived(I))}F.originalEvent&&F.originalEvent.type==="mouseup"?w.dragging=!1:w.wheeling&&(w.wheeling=!1),_._rehover&&_._rehover()}}),i.on("wheel",function(){w.wheeling=!0}),i.on("mousemove",function(F){var _=w.div.getBoundingClientRect(),B=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return _},w.xaxis.p2c=function(){return i.unproject(B).lng},w.yaxis.p2c=function(){return i.unproject(B).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===w.id&&b._fullLayout[w.id]&&g.hover(b,F,w.id)},g.hover(b,F,w.id),b._fullLayout._hoversubplot=w.id});function E(){g.loneUnhover(y._hoverlayer)}i.on("dragstart",function(){w.dragging=!0,E()}),i.on("zoomstart",E),i.on("mouseout",function(){b._fullLayout._hoversubplot=null});function m(){var F=w.getView();b.emit("plotly_relayouting",w.getViewEditsWithDerived(F))}i.on("drag",m),i.on("zoom",m),i.on("dblclick",function(){var F=b._fullLayout[w.id];P.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,w.getViewEdits(F));var _=w.viewInitial;i.setCenter(M(_.center)),i.setZoom(_.zoom),i.setBearing(_.bearing),i.setPitch(_.pitch);var B=w.getView();F._input.center=F.center=B.center,F._input.zoom=F.zoom=B.zoom,F._input.bearing=F.bearing=B.bearing,F._input.pitch=F.pitch=B.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",w.getViewEditsWithDerived(B))}),w.clearOutline=function(){c(w.dragOptions),l(w.dragOptions.gd)},w.onClickInPanFn=function(F){return function(_){var B=b._fullLayout.clickmode;B.indexOf("select")>-1&&n(_.originalEvent,b,[w.xaxis],[w.yaxis],w.id,F),B.indexOf("event")>-1&&g.click(b,_.originalEvent)}}},f.updateFx=function(C){var y=this,w=y.map,b=y.gd;if(y.isStatic)return;function i(_){var B=y.map.unproject(_);return[B.lng,B.lat]}var E=C.dragmode,m;m=function(_,B){if(B.isRect){var I=_.range={};I[y.id]=[i([B.xmin,B.ymin]),i([B.xmax,B.ymax])]}else{var O=_.lassoPoints={};O[y.id]=B.map(i)}};var F=y.dragOptions;y.dragOptions=L.extendDeep(F||{},{dragmode:C.dragmode,element:y.div,gd:b,plotinfo:{id:y.id,domain:C[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:m},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),w.off("click",y.onClickInPanHandler),u(E)||r(E)?(w.dragPan.disable(),w.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(_,B,I){o(_,B,I,y.dragOptions,E)},v.init(y.dragOptions)):(w.dragPan.enable(),w.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),w.on("click",y.onClickInPanHandler))},f.updateFramework=function(C){var y=C[this.id].domain,w=C._size,b=this.div.style;b.width=w.w*(y.x[1]-y.x[0])+"px",b.height=w.h*(y.y[1]-y.y[0])+"px",b.left=w.l+y.x[0]*w.w+"px",b.top=w.t+(1-y.y[1])*w.h+"px",this.xaxis._offset=w.l+y.x[0]*w.w,this.xaxis._length=w.w*(y.x[1]-y.x[0]),this.yaxis._offset=w.t+(1-y.y[1])*w.h,this.yaxis._length=w.h*(y.y[1]-y.y[0])},f.updateLayers=function(C){var y=C[this.id],w=y.layers,b=this.layerList,i;if(w.length!==b.length){for(i=0;i<b.length;i++)b[i].dispose();for(b=this.layerList=[],i=0;i<w.length;i++)b.push(h(this,i,w[i]))}else for(i=0;i<w.length;i++)b[i].update(w[i])},f.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},f.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},f.setOptions=function(C,y,w){for(var b in w)this.map[y](C,b,w[b])},f.getMapLayers=function(){return this.map.getStyle().layers},f.addLayer=function(C,y){var w=this.map;if(typeof y=="string"){if(y===""){w.addLayer(C,y);return}for(var b=this.getMapLayers(),i=0;i<b.length;i++)if(y===b[i].id){w.addLayer(C,y);return}L.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}w.addLayer(C)},f.project=function(C){return this.map.project(new p.LngLat(C[0],C[1]))},f.getView=function(){var C=this.map,y=C.getCenter(),w=y.lng,b=y.lat,i={lon:w,lat:b},E=C.getCanvas(),m=parseInt(E.style.width),F=parseInt(E.style.height);return{center:i,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([m,0]).toArray(),C.unproject([m,F]).toArray(),C.unproject([0,F]).toArray()]}}},f.getViewEdits=function(C){for(var y=this.id,w=["center","zoom","bearing","pitch"],b={},i=0;i<w.length;i++){var E=w[i];b[y+"."+E]=C[E]}return b},f.getViewEditsWithDerived=function(C){var y=this.id,w=this.getViewEdits(C);return w[y+"._derived"]=C._derived,w};function d(C){var y={};return L.isPlainObject(C)?(y.id=C.id,y.style=C):typeof C=="string"?(y.id=C,x.styleValuesMapbox.indexOf(C)!==-1?y.style=S(C):x.stylesNonMapbox[C]?y.style=x.stylesNonMapbox[C]:y.style=C):(y.id=x.styleValueDflt,y.style=S(x.styleValueDflt)),y.transition={duration:0,delay:0},y}function S(C){return x.styleUrlPrefix+C+"-"+x.styleUrlSuffix}function M(C){return[C.lon,C.lat]}W.exports=T},35025:function(W){W.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(W,U,e){var p=e(39898),L=e(84096).Dq,a=e(60721).FF,P=e(92770),A=e(73972),v=e(86281),g=e(44467),t=e(71828),r=e(7901),u=e(50606).BADNUM,o=e(41675),l=e(51873).clearOutline,c=e(21479),n=e(85594),x=e(31391),h=e(27659).a0,T=t.relinkPrivateKeys,f=t._,s=W.exports={};t.extendFlat(s,A),s.attributes=e(9012),s.attributes.type.values=s.allTypes,s.fontAttrs=e(41940),s.layoutAttributes=e(10820),s.fontWeight="normal";var d=s.transformsRegistry,S=e(31137);s.executeAPICommand=S.executeAPICommand,s.computeAPICommandBindings=S.computeAPICommandBindings,s.manageCommandObserver=S.manageCommandObserver,s.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,s.redrawText=function(V){return V=t.getGraphDiv(V),new Promise(function(Z){setTimeout(function(){V._fullLayout&&(A.getComponentMethod("annotations","draw")(V),A.getComponentMethod("legend","draw")(V),A.getComponentMethod("colorbar","draw")(V),Z(s.previousPromises(V)))},300)})},s.resize=function(V){V=t.getGraphDiv(V);var Z,ae=new Promise(function(ie,J){(!V||t.isHidden(V))&&J(new Error("Resize must be passed a displayed plot div element.")),V._redrawTimer&&clearTimeout(V._redrawTimer),V._resolveResize&&(Z=V._resolveResize),V._resolveResize=ie,V._redrawTimer=setTimeout(function(){if(!V.layout||V.layout.width&&V.layout.height||t.isHidden(V)){ie(V);return}delete V.layout.width,delete V.layout.height;var $=V.changed;V.autoplay=!0,A.call("relayout",V,{autosize:!0}).then(function(){V.changed=$,V._resolveResize===ie&&(delete V._resolveResize,ie(V))})},100)});return Z&&Z(ae),ae},s.previousPromises=function(V){if((V._promises||[]).length)return Promise.all(V._promises).then(function(){V._promises=[]})},s.addLinks=function(V){if(!(!V._context.showLink&&!V._context.showSources)){var Z=V._fullLayout,ae=t.ensureSingle(Z._paper,"text","js-plot-link-container",function(ue){ue.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var ge=p.select(this);ge.append("tspan").classed("js-link-to-tool",!0),ge.append("tspan").classed("js-link-spacer",!0),ge.append("tspan").classed("js-sourcelinks",!0)})}),ie=ae.node(),J={y:Z._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=Z.width-20?(J["text-anchor"]="start",J.x=5):(J["text-anchor"]="end",J.x=Z._paper.attr("width")-7),ae.attr(J);var $=ae.select(".js-link-to-tool"),se=ae.select(".js-link-spacer"),ee=ae.select(".js-sourcelinks");V._context.showSources&&V._context.showSources(V),V._context.showLink&&M(V,$),se.text($.text()&&ee.text()?" - ":"")}};function M(V,Z){Z.text("");var ae=Z.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(V._context.linkText+" "+String.fromCharCode(187));if(V._context.sendData)ae.on("click",function(){s.sendDataToCloud(V)});else{var ie=window.location.pathname.split("/"),J=window.location.search;ae.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ie[2].split(".")[0]+"/"+ie[1]+J})}}s.sendDataToCloud=function(V){var Z=(window.PLOTLYENV||{}).BASE_URL||V._context.plotlyServerURL;if(Z){V.emit("plotly_beforeexport");var ae=p.select(V).append("div").attr("id","hiddenform").style("display","none"),ie=ae.append("form").attr({action:Z+"/external",method:"post",target:"_blank"}),J=ie.append("input").attr({type:"text",name:"data"});return J.node().value=s.graphJson(V,!1,"keepdata"),ie.node().submit(),ae.remove(),V.emit("plotly_afterexport"),!1}};var C=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],y=["year","month","dayMonth","dayMonthYear"];s.supplyDefaults=function(V,Z){var ae=Z&&Z.skipUpdateCalc,ie=V._fullLayout||{};if(ie._skipDefaults){delete ie._skipDefaults;return}var J=V._fullLayout={},$=V.layout||{},se=V._fullData||[],ee=V._fullData=[],ue=V.data||[],ge=V.calcdata||[],Te=V._context||{},xe;V._transitionData||s.createTransitionData(V),J._dfltTitle={plot:f(V,"Click to enter Plot title"),x:f(V,"Click to enter X axis title"),y:f(V,"Click to enter Y axis title"),colorbar:f(V,"Click to enter Colorscale title"),annotation:f(V,"new text")},J._traceWord=f(V,"trace");var Pe=i(V,C);if(J._mapboxAccessToken=Te.mapboxAccessToken,ie._initialAutoSizeIsDone){var Ie=ie.width,Ae=ie.height;s.supplyLayoutGlobalDefaults($,J,Pe),$.width||(J.width=Ie),$.height||(J.height=Ae),s.sanitizeMargins(J)}else{s.supplyLayoutGlobalDefaults($,J,Pe);var be=!$.width||!$.height,_e=J.autosize,Ve=Te.autosizable,We=be&&(_e||Ve);We?s.plotAutoSize(V,$,J):be&&s.sanitizeMargins(J),!_e&&be&&($.width=J.width,$.height=J.height)}J._d3locale=E(Pe,J.separators),J._extraFormat=i(V,y),J._initialAutoSizeIsDone=!0,J._dataLength=ue.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var ze=J._subplots=b(),Ze=J._splomAxes={x:{},y:{}},ct=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=w(se,ue),J._globalTransforms=(V._context||{}).globalTransforms,s.supplyDataDefaults(ue,ee,$,J);var lt=Object.keys(Ze.x),at=Object.keys(Ze.y);if(lt.length>1&&at.length>1){for(A.getComponentMethod("grid","sizeDefaults")($,J),xe=0;xe<lt.length;xe++)t.pushUnique(ze.xaxis,lt[xe]);for(xe=0;xe<at.length;xe++)t.pushUnique(ze.yaxis,at[xe]);for(var tt in ct)t.pushUnique(ze.cartesian,tt)}if(J._has=s._hasPlotType.bind(J),se.length===ee.length)for(xe=0;xe<ee.length;xe++)T(ee[xe],se[xe]);s.supplyLayoutModuleDefaults($,J,ee,V._transitionData);var dt=J._visibleModules,wt=[];for(xe=0;xe<dt.length;xe++){var Mt=dt[xe].crossTraceDefaults;Mt&&t.pushUnique(wt,Mt)}for(xe=0;xe<wt.length;xe++)wt[xe](ee,J);J._hasOnlyLargeSploms=J._basePlotModules.length===1&&J._basePlotModules[0].name==="splom"&&lt.length>15&&at.length>15&&J.shapes.length===0&&J.images.length===0,s.linkSubplots(ee,J,se,ie),s.cleanPlot(ee,J,se,ie);var It=!!(ie._has&&ie._has("gl2d")),$e=!!(J._has&&J._has("gl2d")),ke=!!(ie._has&&ie._has("cartesian")),Fe=!!(J._has&&J._has("cartesian")),qe=ke||It,it=Fe||$e;qe&&!it?ie._bgLayer.remove():it&&!qe&&(J._shouldCreateBgLayer=!0),ie._zoomlayer&&!V._dragging&&l({_fullLayout:ie}),m(ee,J),T(J,ie),A.getComponentMethod("colorscale","crossTraceDefaults")(ee,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var Je=J._tracePreGUI,Re={},Me;for(Me in Je)Re[Me]="old";for(xe=0;xe<ee.length;xe++)Me=ee[xe]._fullInput.uid,Re[Me]||(Je[Me]={}),Re[Me]="new";for(Me in Re)Re[Me]==="old"&&delete Je[Me];O(J),A.getComponentMethod("rangeslider","makeData")(J),!ae&&ge.length===ee.length&&s.supplyDefaultsUpdateCalc(ge,ee)},s.supplyDefaultsUpdateCalc=function(V,Z){for(var ae=0;ae<Z.length;ae++){var ie=Z[ae],J=(V[ae]||[])[0];if(J&&J.trace){var $=J.trace;if($._hasCalcTransform){var se=$._arrayAttrs,ee,ue,ge;for(ee=0;ee<se.length;ee++)ue=se[ee],ge=t.nestedProperty($,ue).get().slice(),t.nestedProperty(ie,ue).set(ge)}J.trace=ie}}};function w(V,Z){var ae=Z.length,ie=[],J,$;for(J=0;J<V.length;J++){var se=V[J]._fullInput;se!==$&&ie.push(se),$=se}var ee=ie.length,ue=new Array(ae),ge={};function Te(Ie,Ae){ue[Ae]=Ie,ge[Ie]=1}function xe(Ie,Ae){if(Ie&&typeof Ie=="string"&&!ge[Ie])return Te(Ie,Ae),!0}for(J=0;J<ae;J++){var Pe=Z[J].uid;typeof Pe=="number"&&(Pe=String(Pe)),!xe(Pe,J)&&(J<ee&&xe(ie[J].uid,J)||Te(t.randstr(ge),J))}return ue}function b(){var V=A.collectableSubplotTypes,Z={},ae,ie;if(!V){V=[];var J=A.subplotsRegistry;for(var $ in J){var se=J[$],ee=se.attr;if(ee&&(V.push($),Array.isArray(ee)))for(ie=0;ie<ee.length;ie++)t.pushUnique(V,ee[ie])}}for(ae=0;ae<V.length;ae++)Z[V[ae]]=[];return Z}function i(V,Z){var ae=V._context.locale;ae||(ae="en-US");var ie=!1,J={};function $(xe){for(var Pe=!0,Ie=0;Ie<Z.length;Ie++){var Ae=Z[Ie];J[Ae]||(xe[Ae]?J[Ae]=xe[Ae]:Pe=!1)}Pe&&(ie=!0)}for(var se=0;se<2;se++){for(var ee=V._context.locales,ue=0;ue<2;ue++){var ge=(ee[ae]||{}).format;if(ge&&($(ge),ie))break;ee=A.localeRegistry}var Te=ae.split("-")[0];if(ie||Te===ae)break;ae=Te}return ie||$(A.localeRegistry.en.format),J}function E(V,Z){return V.decimal=Z.charAt(0),V.thousands=Z.charAt(1),{numberFormat:function(ae){try{ae=a(V).format(t.adjustFormat(ae))}catch{return t.warnBadFormat(ae),t.noFormat}return ae},timeFormat:L(V).utcFormat}}function m(V,Z){var ae,ie=[];Z.meta&&(ae=Z._meta={meta:Z.meta,layout:{meta:Z.meta}});for(var J=0;J<V.length;J++){var $=V[J];$.meta?ie[$.index]=$._meta={meta:$.meta}:Z.meta&&($._meta={meta:Z.meta}),Z.meta&&($._meta.layout={meta:Z.meta})}ie.length&&(ae||(ae=Z._meta={}),ae.data=ie)}s.createTransitionData=function(V){V._transitionData||(V._transitionData={}),V._transitionData._frames||(V._transitionData._frames=[]),V._transitionData._frameHash||(V._transitionData._frameHash={}),V._transitionData._counter||(V._transitionData._counter=0),V._transitionData._interruptCallbacks||(V._transitionData._interruptCallbacks=[])},s._hasPlotType=function(V){var Z,ae=this._basePlotModules||[];for(Z=0;Z<ae.length;Z++)if(ae[Z].name===V)return!0;var ie=this._modules||[];for(Z=0;Z<ie.length;Z++){var J=ie[Z].name;if(J===V)return!0;var $=A.modules[J];if($&&$.categories[V])return!0}return!1},s.cleanPlot=function(V,Z,ae,ie){var J,$,se=ie._basePlotModules||[];for(J=0;J<se.length;J++){var ee=se[J];ee.clean&&ee.clean(V,Z,ae,ie)}var ue=ie._has&&ie._has("gl"),ge=Z._has&&Z._has("gl");ue&&!ge&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var Te=!!ie._infolayer;e:for(J=0;J<ae.length;J++){var xe=ae[J],Pe=xe.uid;for($=0;$<V.length;$++){var Ie=V[$];if(Pe===Ie.uid)continue e}Te&&ie._infolayer.select(".cb"+Pe).remove()}},s.linkSubplots=function(V,Z,ae,ie){var J,$,se=ie._plots||{},ee=Z._plots={},ue=Z._subplots,ge={_fullData:V,_fullLayout:Z},Te=ue.cartesian.concat(ue.gl2d||[]);for(J=0;J<Te.length;J++){var xe=Te[J],Pe=se[xe],Ie=o.getFromId(ge,xe,"x"),Ae=o.getFromId(ge,xe,"y"),be;for(Pe?be=ee[xe]=Pe:(be=ee[xe]={},be.id=xe),Ie._counterAxes.push(Ae._id),Ae._counterAxes.push(Ie._id),Ie._subplotsWith.push(xe),Ae._subplotsWith.push(xe),be.xaxis=Ie,be.yaxis=Ae,be._hasClipOnAxisFalse=!1,$=0;$<V.length;$++){var _e=V[$];if(_e.xaxis===be.xaxis._id&&_e.yaxis===be.yaxis._id&&_e.cliponaxis===!1){be._hasClipOnAxisFalse=!0;break}}}var Ve=o.list(ge,null,!0),We;for(J=0;J<Ve.length;J++){We=Ve[J];var ze=null;We.overlaying&&(ze=o.getFromId(ge,We.overlaying),ze&&ze.overlaying&&(We.overlaying=!1,ze=null)),We._mainAxis=ze||We,ze&&(We.domain=ze.domain.slice()),We._anchorAxis=We.anchor==="free"?null:o.getFromId(ge,We.anchor)}for(J=0;J<Ve.length;J++)if(We=Ve[J],We._counterAxes.sort(o.idSort),We._subplotsWith.sort(t.subplotSort),We._mainSubplot=F(We,Z),We._counterAxes.length&&(We.spikemode&&We.spikemode.indexOf("across")!==-1||We.automargin&&We.mirror&&We.anchor!=="free"||A.getComponentMethod("rangeslider","isVisible")(We))){var Ze=1,ct=0;for($=0;$<We._counterAxes.length;$++){var lt=o.getFromId(ge,We._counterAxes[$]);Ze=Math.min(Ze,lt.domain[0]),ct=Math.max(ct,lt.domain[1])}Ze<ct&&(We._counterDomainMin=Ze,We._counterDomainMax=ct)}};function F(V,Z){var ae={_fullLayout:Z},ie=V._id.charAt(0)==="x",J=V._mainAxis._anchorAxis,$="",se="",ee="";if(J&&(ee=J._mainAxis._id,$=ie?V._id+ee:ee+V._id),!$||!Z._plots[$]){$="";for(var ue=V._counterAxes,ge=0;ge<ue.length;ge++){var Te=ue[ge],xe=ie?V._id+Te:Te+V._id;se||(se=xe);var Pe=o.getFromId(ae,Te);if(ee&&Pe.overlaying===ee){$=xe;break}}}return $||se}s.clearExpandedTraceDefaultColors=function(V){var Z,ae,ie;function J(se,ee,ue,ge){ae[ge]=ee,ae.length=ge+1,se.valType==="color"&&se.dflt===void 0&&Z.push(ae.join("."))}for(ae=[],Z=V._module._colorAttrs,Z||(V._module._colorAttrs=Z=[],v.crawl(V._module.attributes,J)),ie=0;ie<Z.length;ie++){var $=t.nestedProperty(V,"_input."+Z[ie]);$.get()||t.nestedProperty(V,Z[ie]).set(null)}},s.supplyDataDefaults=function(V,Z,ae,ie){var J=ie._modules,$=ie._visibleModules,se=ie._basePlotModules,ee=0,ue=0,ge,Te,xe;ie._transformModules=[];function Pe(at){Z.push(at);var tt=at._module;tt&&(t.pushUnique(J,tt),at.visible===!0&&t.pushUnique($,tt),t.pushUnique(se,at._module.basePlotModule),ee++,at._input.visible!==!1&&ue++)}var Ie={},Ae=[],be=(ae.template||{}).data||{},_e=g.traceTemplater(be);for(ge=0;ge<V.length;ge++){if(xe=V[ge],Te=_e.newTrace(xe),Te.uid=ie._traceUids[ge],s.supplyTraceDefaults(xe,Te,ue,ie,ge),Te.index=ge,Te._input=xe,Te._expandedIndex=ee,Te.transforms&&Te.transforms.length)for(var Ve=xe.visible!==!1&&Te.visible===!1,We=B(Te,Z,ae,ie),ze=0;ze<We.length;ze++){var Ze=We[ze],ct={_template:Te._template,type:Te.type,uid:Te.uid+ze};Ve&&Ze.visible===!1&&delete Ze.visible,s.supplyTraceDefaults(Ze,ct,ee,ie,ge),T(ct,Ze),ct.index=ge,ct._input=xe,ct._fullInput=Te,ct._expandedIndex=ee,ct._expandedInput=Ze,Pe(ct)}else Te._fullInput=Te,Te._expandedInput=Te,Pe(Te);A.traceIs(Te,"carpetAxis")&&(Ie[Te.carpet]=Te),A.traceIs(Te,"carpetDependent")&&Ae.push(ge)}for(ge=0;ge<Ae.length;ge++)if(Te=Z[Ae[ge]],!!Te.visible){var lt=Ie[Te.carpet];if(Te._carpet=lt,!lt||!lt.visible){Te.visible=!1;continue}Te.xaxis=lt.xaxis,Te.yaxis=lt.yaxis}},s.supplyAnimationDefaults=function(V){V=V||{};var Z,ae={};function ie(J,$){return t.coerce(V||{},ae,n,J,$)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(V.frame))for(ae.frame=[],Z=0;Z<V.frame.length;Z++)ae.frame[Z]=s.supplyAnimationFrameDefaults(V.frame[Z]||{});else ae.frame=s.supplyAnimationFrameDefaults(V.frame||{});if(Array.isArray(V.transition))for(ae.transition=[],Z=0;Z<V.transition.length;Z++)ae.transition[Z]=s.supplyAnimationTransitionDefaults(V.transition[Z]||{});else ae.transition=s.supplyAnimationTransitionDefaults(V.transition||{});return ae},s.supplyAnimationFrameDefaults=function(V){var Z={};function ae(ie,J){return t.coerce(V||{},Z,n.frame,ie,J)}return ae("duration"),ae("redraw"),Z},s.supplyAnimationTransitionDefaults=function(V){var Z={};function ae(ie,J){return t.coerce(V||{},Z,n.transition,ie,J)}return ae("duration"),ae("easing"),Z},s.supplyFrameDefaults=function(V){var Z={};function ae(ie,J){return t.coerce(V,Z,x,ie,J)}return ae("group"),ae("name"),ae("traces"),ae("baseframe"),ae("data"),ae("layout"),Z},s.supplyTraceDefaults=function(V,Z,ae,ie,J){var $=ie.colorway||r.defaults,se=$[ae%$.length],ee;function ue(We,ze){return t.coerce(V,Z,s.attributes,We,ze)}var ge=ue("visible");ue("type"),ue("name",ie._traceWord+" "+J),ue("uirevision",ie.uirevision);var Te=s.getModule(Z);if(Z._module=Te,Te){var xe=Te.basePlotModule,Pe=xe.attr,Ie=xe.attributes;if(Pe&&Ie){var Ae=ie._subplots,be="";if(ge||xe.name!=="gl2d"){if(Array.isArray(Pe))for(ee=0;ee<Pe.length;ee++){var _e=Pe[ee],Ve=t.coerce(V,Z,Ie,_e);Ae[_e]&&t.pushUnique(Ae[_e],Ve),be+=Ve}else be=t.coerce(V,Z,Ie,Pe);Ae[xe.name]&&t.pushUnique(Ae[xe.name],be)}}}return ge&&(ue("customdata"),ue("ids"),ue("meta"),A.traceIs(Z,"showLegend")?(t.coerce(V,Z,Te.attributes.showlegend?Te.attributes:s.attributes,"showlegend"),ue("legendwidth"),ue("legendgroup"),ue("legendgrouptitle.text"),ue("legendrank"),Z._dfltShowLegend=!0):Z._dfltShowLegend=!1,Te&&Te.supplyDefaults(V,Z,se,ie),A.traceIs(Z,"noOpacity")||ue("opacity"),A.traceIs(Z,"notLegendIsolatable")&&(Z.visible=!!Z.visible),A.traceIs(Z,"noHover")||(Z.hovertemplate||t.coerceHoverinfo(V,Z,ie),Z.type!=="parcats"&&A.getComponentMethod("fx","supplyDefaults")(V,Z,se,ie)),Te&&Te.selectPoints&&ue("selectedpoints"),s.supplyTransformDefaults(V,Z,ie)),Z};function _(V){var Z=V.transforms;if(Array.isArray(Z)&&Z.length)for(var ae=0;ae<Z.length;ae++){var ie=Z[ae],J=ie._module||d[ie.type];if(J&&J.makesData)return!0}return!1}s.hasMakesDataTransform=_,s.supplyTransformDefaults=function(V,Z,ae){if(Z._length||_(V)){var ie=ae._globalTransforms||[],J=ae._transformModules||[];if(!(!Array.isArray(V.transforms)&&ie.length===0))for(var $=V.transforms||[],se=ie.concat($),ee=Z.transforms=[],ue=0;ue<se.length;ue++){var ge=se[ue],Te=ge.type,xe=d[Te],Pe,Ie=!(ge._module&&ge._module===xe),Ae=xe&&typeof xe.transform=="function";xe||t.warn("Unrecognized transform type "+Te+"."),xe&&xe.supplyDefaults&&(Ie||Ae)?(Pe=xe.supplyDefaults(ge,Z,ae,V),Pe.type=Te,Pe._module=xe,t.pushUnique(J,xe)):Pe=t.extendFlat({},ge),ee.push(Pe)}}};function B(V,Z,ae,ie){for(var J=V.transforms,$=[V],se=0;se<J.length;se++){var ee=J[se],ue=d[ee.type];ue&&ue.transform&&($=ue.transform($,{transform:ee,fullTrace:V,fullData:Z,layout:ae,fullLayout:ie,transformIndex:se}))}return $}s.supplyLayoutGlobalDefaults=function(V,Z,ae){function ie(ge,Te){return t.coerce(V,Z,s.layoutAttributes,ge,Te)}var J=V.template;t.isPlainObject(J)&&(Z.template=J,Z._template=J.layout,Z._dataTemplate=J.data),ie("autotypenumbers");var $=t.coerceFont(ie,"font"),se=$.size;t.coerceFont(ie,"title.font",t.extendFlat({},$,{size:Math.round(se*1.4)})),ie("title.text",Z._dfltTitle.plot),ie("title.xref"),ie("title.yref"),ie("title.x"),ie("title.y"),ie("title.xanchor"),ie("title.yanchor"),ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var ee=ie("uniformtext.mode");ee&&ie("uniformtext.minsize"),ie("autosize",!(V.width&&V.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),V.width&&V.height&&s.sanitizeMargins(Z),A.getComponentMethod("grid","sizeDefaults")(V,Z),ie("paper_bgcolor"),ie("separators",ae.decimal+ae.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var ue=ie("uirevision");ie("editrevision",ue),ie("selectionrevision",ue),A.getComponentMethod("modebar","supplyLayoutDefaults")(V,Z),A.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(V,Z,ie),A.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(V,Z,ie),ie("meta"),t.isPlainObject(V.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),A.getComponentMethod("calendars","handleDefaults")(V,Z,"calendar"),A.getComponentMethod("fx","supplyLayoutGlobalDefaults")(V,Z,ie),t.coerce(V,Z,c,"scattermode")};function I(V){return typeof V=="string"&&V.substr(V.length-2)==="px"&&parseFloat(V)}s.plotAutoSize=function(Z,ae,ie){var J=Z._context||{},$=J.frameMargins,se,ee,ue=t.isPlotDiv(Z);if(ue&&Z.emit("plotly_autosize"),J.fillFrame)se=window.innerWidth,ee=window.innerHeight,document.body.style.overflow="hidden";else{var ge=ue?window.getComputedStyle(Z):{};if(se=I(ge.width)||I(ge.maxWidth)||ie.width,ee=I(ge.height)||I(ge.maxHeight)||ie.height,P($)&&$>0){var Te=1-2*$;se=Math.round(Te*se),ee=Math.round(Te*ee)}}var xe=s.layoutAttributes.width.min,Pe=s.layoutAttributes.height.min;se<xe&&(se=xe),ee<Pe&&(ee=Pe);var Ie=!ae.width&&Math.abs(ie.width-se)>1,Ae=!ae.height&&Math.abs(ie.height-ee)>1;(Ae||Ie)&&(Ie&&(ie.width=se),Ae&&(ie.height=ee)),Z._initialAutoSize||(Z._initialAutoSize={width:se,height:ee}),s.sanitizeMargins(ie)},s.supplyLayoutModuleDefaults=function(V,Z,ae,ie){var J=A.componentsRegistry,$=Z._basePlotModules,se,ee,ue,ge=A.subplotsRegistry.cartesian;for(se in J)ue=J[se],ue.includeBasePlot&&ue.includeBasePlot(V,Z);$.length||$.push(ge),Z._has("cartesian")&&(A.getComponentMethod("grid","contentDefaults")(V,Z),ge.finalizeSubplots(V,Z));for(var Te in Z._subplots)Z._subplots[Te].sort(t.subplotSort);for(ee=0;ee<$.length;ee++)ue=$[ee],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(V,Z,ae);var xe=Z._modules;for(ee=0;ee<xe.length;ee++)ue=xe[ee],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(V,Z,ae);var Pe=Z._transformModules;for(ee=0;ee<Pe.length;ee++)ue=Pe[ee],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(V,Z,ae,ie);for(se in J)ue=J[se],ue.supplyLayoutDefaults&&ue.supplyLayoutDefaults(V,Z,ae)},s.purge=function(V){var Z=V._fullLayout||{};Z._glcontainer!==void 0&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.remove(),Z._glcanvas=null),Z._modeBar&&Z._modeBar.destroy(),V._transitionData&&(V._transitionData._interruptCallbacks&&(V._transitionData._interruptCallbacks.length=0),V._transitionData._animationRaf&&window.cancelAnimationFrame(V._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(V),delete V.data,delete V.layout,delete V._fullData,delete V._fullLayout,delete V.calcdata,delete V.empty,delete V.fid,delete V.undoqueue,delete V.undonum,delete V.autoplay,delete V.changed,delete V._promises,delete V._redrawTimer,delete V._hmlumcount,delete V._hmpixcount,delete V._transitionData,delete V._transitioning,delete V._initialAutoSize,delete V._transitioningWithDuration,delete V._dragging,delete V._dragged,delete V._dragdata,delete V._hoverdata,delete V._snapshotInProgress,delete V._editing,delete V._mouseDownTime,delete V._legendMouseDownTime,V.removeAllListeners&&V.removeAllListeners()},s.style=function(V){var Z=V._fullLayout._visibleModules,ae=[],ie;for(ie=0;ie<Z.length;ie++){var J=Z[ie];J.style&&t.pushUnique(ae,J.style)}for(ie=0;ie<ae.length;ie++)ae[ie](V)},s.sanitizeMargins=function(V){if(!(!V||!V.margin)){var Z=V.width,ae=V.height,ie=V.margin,J=Z-(ie.l+ie.r),$=ae-(ie.t+ie.b),se;J<0&&(se=(Z-1)/(ie.l+ie.r),ie.l=Math.floor(se*ie.l),ie.r=Math.floor(se*ie.r)),$<0&&(se=(ae-1)/(ie.t+ie.b),ie.t=Math.floor(se*ie.t),ie.b=Math.floor(se*ie.b))}},s.clearAutoMarginIds=function(V){V._fullLayout._pushmarginIds={}},s.allowAutoMargin=function(V,Z){V._fullLayout._pushmarginIds[Z]=1};function O(V){var Z=V.margin;if(!V._size){var ae=V._size={l:Math.round(Z.l),r:Math.round(Z.r),t:Math.round(Z.t),b:Math.round(Z.b),p:Math.round(Z.pad)};ae.w=Math.round(V.width)-ae.l-ae.r,ae.h=Math.round(V.height)-ae.t-ae.b}V._pushmargin||(V._pushmargin={}),V._pushmarginIds||(V._pushmarginIds={})}var z=2,k=2;s.autoMargin=function(V,Z,ae){var ie=V._fullLayout,J=ie.width,$=ie.height,se=ie.margin,ee=ie.minreducedwidth,ue=ie.minreducedheight,ge=t.constrain(J-se.l-se.r,z,ee),Te=t.constrain($-se.t-se.b,k,ue),xe=Math.max(0,J-ge),Pe=Math.max(0,$-Te),Ie=ie._pushmargin,Ae=ie._pushmarginIds;if(se.autoexpand!==!1){if(!ae)delete Ie[Z],delete Ae[Z];else{var be=ae.pad;if(be===void 0&&(be=Math.min(12,se.l,se.r,se.t,se.b)),xe){var _e=(ae.l+ae.r)/xe;_e>1&&(ae.l/=_e,ae.r/=_e)}if(Pe){var Ve=(ae.t+ae.b)/Pe;Ve>1&&(ae.t/=Ve,ae.b/=Ve)}var We=ae.xl!==void 0?ae.xl:ae.x,ze=ae.xr!==void 0?ae.xr:ae.x,Ze=ae.yt!==void 0?ae.yt:ae.y,ct=ae.yb!==void 0?ae.yb:ae.y;Ie[Z]={l:{val:We,size:ae.l+be},r:{val:ze,size:ae.r+be},b:{val:ct,size:ae.b+be},t:{val:Ze,size:ae.t+be}},Ae[Z]=1}if(!ie._replotting)return s.doAutoMargin(V)}};function N(V){if("_redrawFromAutoMarginCount"in V._fullLayout)return!1;var Z=o.list(V,"",!0);for(var ae in Z)if(Z[ae].autoshift||Z[ae].shift)return!0;return!1}s.doAutoMargin=function(V){var Z=V._fullLayout,ae=Z.width,ie=Z.height;Z._size||(Z._size={}),O(Z);var J=Z._size,$=Z.margin,se=t.extendFlat({},J),ee=$.l,ue=$.r,ge=$.t,Te=$.b,xe=Z._pushmargin,Pe=Z._pushmarginIds,Ie=Z.minreducedwidth,Ae=Z.minreducedheight;if(Z.margin.autoexpand!==!1){for(var be in xe)Pe[be]||delete xe[be];xe.base={l:{val:0,size:ee},r:{val:1,size:ue},t:{val:1,size:ge},b:{val:0,size:Te}};for(var _e in xe){var Ve=xe[_e].l||{},We=xe[_e].b||{},ze=Ve.val,Ze=Ve.size,ct=We.val,lt=We.size;for(var at in xe){if(P(Ze)&&xe[at].r){var tt=xe[at].r.val,dt=xe[at].r.size;if(tt>ze){var wt=(Ze*tt+(dt-ae)*ze)/(tt-ze),Mt=(dt*(1-ze)+(Ze-ae)*(1-tt))/(tt-ze);wt+Mt>ee+ue&&(ee=wt,ue=Mt)}}if(P(lt)&&xe[at].t){var It=xe[at].t.val,$e=xe[at].t.size;if(It>ct){var ke=(lt*It+($e-ie)*ct)/(It-ct),Fe=($e*(1-ct)+(lt-ie)*(1-It))/(It-ct);ke+Fe>Te+ge&&(Te=ke,ge=Fe)}}}}}var qe=t.constrain(ae-$.l-$.r,z,Ie),it=t.constrain(ie-$.t-$.b,k,Ae),Je=Math.max(0,ae-qe),Re=Math.max(0,ie-it);if(Je){var Me=(ee+ue)/Je;Me>1&&(ee/=Me,ue/=Me)}if(Re){var fe=(Te+ge)/Re;fe>1&&(Te/=fe,ge/=fe)}if(J.l=Math.round(ee),J.r=Math.round(ue),J.t=Math.round(ge),J.b=Math.round(Te),J.p=Math.round($.pad),J.w=Math.round(ae)-J.l-J.r,J.h=Math.round(ie)-J.t-J.b,!Z._replotting&&(s.didMarginChange(se,J)||N(V))){"_redrawFromAutoMarginCount"in Z?Z._redrawFromAutoMarginCount++:Z._redrawFromAutoMarginCount=1;var ye=3*(1+Object.keys(Pe).length);if(Z._redrawFromAutoMarginCount<ye)return A.call("_doPlot",V);Z._size=se,t.warn("Too many auto-margin redraws.")}K(V)};function K(V){var Z=o.list(V,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ae){for(var ie=0;ie<Z.length;ie++){var J=Z[ie][ae];J&&J()}})}var q=["l","r","t","b","p","w","h"];s.didMarginChange=function(V,Z){for(var ae=0;ae<q.length;ae++){var ie=q[ae],J=V[ie],$=Z[ie];if(!P(J)||Math.abs($-J)>1)return!0}return!1},s.graphJson=function(V,Z,ae,ie,J,$){(J&&Z&&!V._fullData||J&&!Z&&!V._fullLayout)&&s.supplyDefaults(V);var se=J?V._fullData:V.data,ee=J?V._fullLayout:V.layout,ue=(V._transitionData||{})._frames;function ge(Pe,Ie){if(typeof Pe=="function")return Ie?"_function_":null;if(t.isPlainObject(Pe)){var Ae={},be;return Object.keys(Pe).sort().forEach(function(_e){if(["_","["].indexOf(_e.charAt(0))===-1){if(typeof Pe[_e]=="function"){Ie&&(Ae[_e]="_function");return}if(ae==="keepdata"){if(_e.substr(_e.length-3)==="src")return}else if(ae==="keepstream"){if(be=Pe[_e+"src"],typeof be=="string"&&be.indexOf(":")>0&&!t.isPlainObject(Pe.stream))return}else if(ae!=="keepall"&&(be=Pe[_e+"src"],typeof be=="string"&&be.indexOf(":")>0))return;Ae[_e]=ge(Pe[_e],Ie)}}),Ae}return Array.isArray(Pe)?Pe.map(function(_e){return ge(_e,Ie)}):t.isTypedArray(Pe)?t.simpleMap(Pe,t.identity):t.isJSDate(Pe)?t.ms2DateTimeLocal(+Pe):Pe}var Te={data:(se||[]).map(function(Pe){var Ie=ge(Pe);return Z&&delete Ie.fit,Ie})};if(!Z&&(Te.layout=ge(ee),J)){var xe=ee._size;Te.layout.computed={margin:{b:xe.b,l:xe.l,r:xe.r,t:xe.t}}}return ue&&(Te.frames=ge(ue)),$&&(Te.config=ge(V._context,!0)),ie==="object"?Te:JSON.stringify(Te)},s.modifyFrames=function(V,Z){var ae,ie,J,$=V._transitionData._frames,se=V._transitionData._frameHash;for(ae=0;ae<Z.length;ae++)switch(ie=Z[ae],ie.type){case"replace":J=ie.value;var ee=($[ie.index]||{}).name,ue=J.name;$[ie.index]=se[ue]=J,ue!==ee&&(delete se[ee],se[ue]=J);break;case"insert":J=ie.value,se[J.name]=J,$.splice(ie.index,0,J);break;case"delete":J=$[ie.index],delete se[J.name],$.splice(ie.index,1);break}return Promise.resolve()},s.computeFrame=function(V,Z){var ae=V._transitionData._frameHash,ie,J,$,se;if(!Z)throw new Error("computeFrame must be given a string frame name");var ee=ae[Z.toString()];if(!ee)return!1;for(var ue=[ee],ge=[ee.name];ee.baseframe&&(ee=ae[ee.baseframe.toString()])&&ge.indexOf(ee.name)===-1;)ue.push(ee),ge.push(ee.name);for(var Te={};ee=ue.pop();)if(ee.layout&&(Te.layout=s.extendLayout(Te.layout,ee.layout)),ee.data){if(Te.data||(Te.data=[]),J=ee.traces,!J)for(J=[],ie=0;ie<ee.data.length;ie++)J[ie]=ie;for(Te.traces||(Te.traces=[]),ie=0;ie<ee.data.length;ie++)$=J[ie],$!=null&&(se=Te.traces.indexOf($),se===-1&&(se=Te.data.length,Te.traces[se]=$),Te.data[se]=s.extendTrace(Te.data[se],ee.data[ie]))}return Te},s.recomputeFrameHash=function(V){for(var Z=V._transitionData._frameHash={},ae=V._transitionData._frames,ie=0;ie<ae.length;ie++){var J=ae[ie];J&&J.name&&(Z[J.name]=J)}},s.extendObjectWithContainers=function(V,Z,ae){var ie,J,$,se,ee,ue,ge,Te,xe=t.extendDeepNoArrays({},Z||{}),Pe=t.expandObjectPaths(xe),Ie={};if(ae&&ae.length)for($=0;$<ae.length;$++)ie=t.nestedProperty(Pe,ae[$]),J=ie.get(),J===void 0?t.nestedProperty(Ie,ae[$]).set(null):(ie.set(null),t.nestedProperty(Ie,ae[$]).set(J));if(V=t.extendDeepNoArrays(V||{},Pe),ae&&ae.length){for($=0;$<ae.length;$++)if(ee=t.nestedProperty(Ie,ae[$]),ge=ee.get(),!!ge){for(ue=t.nestedProperty(V,ae[$]),Te=ue.get(),Array.isArray(Te)||(Te=[],ue.set(Te)),se=0;se<ge.length;se++){var Ae=ge[se];Ae===null?Te[se]=null:Te[se]=s.extendObjectWithContainers(Te[se],Ae)}ue.set(Te)}}return V},s.dataArrayContainers=["transforms","dimensions"],s.layoutArrayContainers=A.layoutArrayContainers,s.extendTrace=function(V,Z){return s.extendObjectWithContainers(V,Z,s.dataArrayContainers)},s.extendLayout=function(V,Z){return s.extendObjectWithContainers(V,Z,s.layoutArrayContainers)},s.transition=function(V,Z,ae,ie,J,$){var se={redraw:J.redraw},ee={},ue=[];return se.prepareFn=function(){for(var ge=Array.isArray(Z)?Z.length:0,Te=ie.slice(0,ge),xe=0;xe<Te.length;xe++){var Pe=Te[xe],Ie=V._fullData[Pe],Ae=Ie._module;if(Ae){if(Ae.animatable){var be=Ae.basePlotModule.name;ee[be]||(ee[be]=[]),ee[be].push(Pe)}V.data[Te[xe]]=s.extendTrace(V.data[Te[xe]],Z[xe])}}var _e=t.expandObjectPaths(t.extendDeepNoArrays({},ae)),Ve=/^[xy]axis[0-9]*$/;for(var We in _e)Ve.test(We)&&delete _e[We].range;s.extendLayout(V.layout,_e),delete V.calcdata,s.supplyDefaults(V),s.doCalcdata(V);var ze=t.expandObjectPaths(ae);if(ze){var Ze=V._fullLayout._plots;for(var ct in Ze){var lt=Ze[ct],at=lt.xaxis,tt=lt.yaxis,dt=at.range.slice(),wt=tt.range.slice(),Mt=null,It=null,$e=null,ke=null;Array.isArray(ze[at._name+".range"])?Mt=ze[at._name+".range"].slice():Array.isArray((ze[at._name]||{}).range)&&(Mt=ze[at._name].range.slice()),Array.isArray(ze[tt._name+".range"])?It=ze[tt._name+".range"].slice():Array.isArray((ze[tt._name]||{}).range)&&(It=ze[tt._name].range.slice()),dt&&Mt&&(at.r2l(dt[0])!==at.r2l(Mt[0])||at.r2l(dt[1])!==at.r2l(Mt[1]))&&($e={xr0:dt,xr1:Mt}),wt&&It&&(tt.r2l(wt[0])!==tt.r2l(It[0])||tt.r2l(wt[1])!==tt.r2l(It[1]))&&(ke={yr0:wt,yr1:It}),($e||ke)&&ue.push(t.extendFlat({plotinfo:lt},$e,ke))}}return Promise.resolve()},se.runFn=function(ge){var Te,xe=V._fullLayout._basePlotModules,Pe=ue.length,Ie;if(ae)for(Ie=0;Ie<xe.length;Ie++)xe[Ie].transitionAxes&&xe[Ie].transitionAxes(V,ue,$,ge);Pe?(Te=t.extendFlat({},$),Te.duration=0,delete ee.cartesian):Te=$;for(var Ae in ee){var be=ee[Ae],_e=V._fullData[be[0]]._module;_e.basePlotModule.plot(V,be,Te,ge)}},Q(V,$,se)},s.transitionFromReact=function(V,Z,ae,ie){var J=V._fullLayout,$=J.transition,se={},ee=[];return se.prepareFn=function(){var ue=J._plots;se.redraw=!1,Z.anim==="some"&&(se.redraw=!0),ae.anim==="some"&&(se.redraw=!0);for(var ge in ue){var Te=ue[ge],xe=Te.xaxis,Pe=Te.yaxis,Ie=ie[xe._name].range.slice(),Ae=ie[Pe._name].range.slice(),be=xe.range.slice(),_e=Pe.range.slice();xe.setScale(),Pe.setScale();var Ve=null,We=null;(xe.r2l(Ie[0])!==xe.r2l(be[0])||xe.r2l(Ie[1])!==xe.r2l(be[1]))&&(Ve={xr0:Ie,xr1:be}),(Pe.r2l(Ae[0])!==Pe.r2l(_e[0])||Pe.r2l(Ae[1])!==Pe.r2l(_e[1]))&&(We={yr0:Ae,yr1:_e}),(Ve||We)&&ee.push(t.extendFlat({plotinfo:Te},Ve,We))}return Promise.resolve()},se.runFn=function(ue){for(var ge=V._fullData,Te=V._fullLayout,xe=Te._basePlotModules,Pe,Ie,Ae,be=[],_e=0;_e<ge.length;_e++)be.push(_e);function Ve(){if(V._fullLayout)for(var ze=0;ze<xe.length;ze++)xe[ze].transitionAxes&&xe[ze].transitionAxes(V,ee,Pe,ue)}function We(){if(V._fullLayout)for(var ze=0;ze<xe.length;ze++)xe[ze].plot(V,Ae,Ie,ue)}ee.length&&Z.anim?$.ordering==="traces first"?(Pe=t.extendFlat({},$,{duration:0}),Ae=be,Ie=$,setTimeout(Ve,$.duration),We()):(Pe=$,Ae=null,Ie=t.extendFlat({},$,{duration:0}),setTimeout(We,Pe.duration),Ve()):ee.length?(Pe=$,Ve()):Z.anim&&(Ae=be,Ie=$,We())},Q(V,$,se)};function Q(V,Z,ae){var ie=!1;function J(xe){var Pe=Promise.resolve();if(!xe)return Pe;for(;xe.length;)Pe=Pe.then(xe.shift());return Pe}function $(xe){if(xe)for(;xe.length;)xe.shift()}function se(){return V.emit("plotly_transitioning",[]),new Promise(function(xe){V._transitioning=!0,Z.duration>0&&(V._transitioningWithDuration=!0),V._transitionData._interruptCallbacks.push(function(){ie=!0}),ae.redraw&&V._transitionData._interruptCallbacks.push(function(){return A.call("redraw",V)}),V._transitionData._interruptCallbacks.push(function(){V.emit("plotly_transitioninterrupted",[])});var Pe=0,Ie=0;function Ae(){return Pe++,function(){Ie++,!ie&&Ie===Pe&&ee(xe)}}ae.runFn(Ae),setTimeout(Ae())})}function ee(xe){if(V._transitionData)return $(V._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ae.redraw)return A.call("redraw",V)}).then(function(){V._transitioning=!1,V._transitioningWithDuration=!1,V.emit("plotly_transitioned",[])}).then(xe)}function ue(){if(V._transitionData)return V._transitioning=!1,J(V._transitionData._interruptCallbacks)}var ge=[s.previousPromises,ue,ae.prepareFn,s.rehover,s.reselect,se],Te=t.syncOrAsync(ge,V);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return V})}s.doCalcdata=function(V,Z){var ae=o.list(V),ie=V._fullData,J=V._fullLayout,$,se,ee,ue,ge=new Array(ie.length),Te=(V.calcdata||[]).slice();for(V.calcdata=ge,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},V._hmpixcount=0,V._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},ee=0;ee<ie.length;ee++)if(Array.isArray(Z)&&Z.indexOf(ee)===-1){ge[ee]=Te[ee];continue}for(ee=0;ee<ie.length;ee++)$=ie[ee],$._arrayAttrs=v.findArrayAttributes($),$._extremes={};var xe=J._subplots.polar||[];for(ee=0;ee<xe.length;ee++)ae.push(J[xe[ee]].radialaxis,J[xe[ee]].angularaxis);for(var Pe in J._colorAxes){var Ie=J[Pe];Ie.cauto!==!1&&(delete Ie.cmin,delete Ie.cmax)}var Ae=!1;function be(We){if($=ie[We],se=$._module,$.visible===!0&&$.transforms){if(se&&se.calc){var ze=se.calc(V,$);ze[0]&&ze[0].t&&ze[0].t._scene&&delete ze[0].t._scene.dirty}for(ue=0;ue<$.transforms.length;ue++){var Ze=$.transforms[ue];se=d[Ze.type],se&&se.calcTransform&&($._hasCalcTransform=!0,Ae=!0,se.calcTransform(V,$,Ze))}}}function _e(We,ze){if($=ie[We],se=$._module,!!se.isContainer===ze){var Ze=[];if($.visible===!0&&$._length!==0){delete $._indexToPoints;var ct=$.transforms||[];for(ue=ct.length-1;ue>=0;ue--)if(ct[ue].enabled){$._indexToPoints=ct[ue]._indexToPoints;break}se&&se.calc&&(Ze=se.calc(V,$))}(!Array.isArray(Ze)||!Ze[0])&&(Ze=[{x:u,y:u}]),Ze[0].t||(Ze[0].t={}),Ze[0].trace=$,ge[We]=Ze}}for(Y(ae,ie,J),ee=0;ee<ie.length;ee++)_e(ee,!0);for(ee=0;ee<ie.length;ee++)be(ee);for(Ae&&Y(ae,ie,J),ee=0;ee<ie.length;ee++)_e(ee,!0);for(ee=0;ee<ie.length;ee++)_e(ee,!1);G(V);var Ve=oe(ae,V);if(Ve.length){for(J._numBoxes=0,J._numViolins=0,ee=0;ee<Ve.length;ee++)_e(Ve[ee],!0);for(ee=0;ee<Ve.length;ee++)_e(Ve[ee],!1);G(V)}A.getComponentMethod("fx","calc")(V),A.getComponentMethod("errorbars","calc")(V)};var re=/(total|sum|min|max|mean|median) (ascending|descending)/;function oe(V,Z){var ae=[],ie,J,$,se,ee;function ue(qe,it,Je){var Re=it._id.charAt(0);if(qe==="histogram2dcontour"){var Me=it._counterAxes[0],fe=o.getFromId(Z,Me),ye=Re==="x"||Me==="x"&&fe.type==="category",Le=Re==="y"||Me==="y"&&fe.type==="category";return function(Oe,ht){return Oe===0||ht===0||ye&&Oe===Je[ht].length-1||Le&&ht===Je.length-1?-1:(Re==="y"?ht:Oe)-1}}else return function(Oe,ht){return Re==="y"?ht:Oe}}var ge={min:function(qe){return t.aggNums(Math.min,null,qe)},max:function(qe){return t.aggNums(Math.max,null,qe)},sum:function(qe){return t.aggNums(function(it,Je){return it+Je},null,qe)},total:function(qe){return t.aggNums(function(it,Je){return it+Je},null,qe)},mean:function(qe){return t.mean(qe)},median:function(qe){return t.median(qe)}};for(ie=0;ie<V.length;ie++){var Te=V[ie];if(Te.type==="category"){var xe=Te.categoryorder.match(re);if(xe){var Pe=xe[1],Ie=xe[2],Ae=Te._id.charAt(0),be=Ae==="x",_e=[];for(J=0;J<Te._categories.length;J++)_e.push([Te._categories[J],[]]);for(J=0;J<Te._traceIndices.length;J++){var Ve=Te._traceIndices[J],We=Z._fullData[Ve];if(We.visible===!0){var ze=We.type;A.traceIs(We,"histogram")&&(delete We._xautoBinFinished,delete We._yautoBinFinished);var Ze=ze==="splom",ct=ze==="scattergl",lt=Z.calcdata[Ve];for($=0;$<lt.length;$++){var at=lt[$],tt,dt;if(Ze){var wt=We._axesDim[Te._id];if(!be){var Mt=We._diag[wt][0];Mt&&(Te=Z._fullLayout[o.id2name(Mt)])}var It=at.trace.dimensions[wt].values;for(se=0;se<It.length;se++)for(tt=Te._categoriesMap[It[se]],ee=0;ee<at.trace.dimensions.length;ee++)if(ee!==wt){var $e=at.trace.dimensions[ee];_e[tt][1].push($e.values[se])}}else if(ct){for(se=0;se<at.t.x.length;se++)be?(tt=at.t.x[se],dt=at.t.y[se]):(tt=at.t.y[se],dt=at.t.x[se]),_e[tt][1].push(dt);at.t&&at.t._scene&&delete at.t._scene.dirty}else if(at.hasOwnProperty("z")){dt=at.z;var ke=ue(We.type,Te,dt);for(se=0;se<dt.length;se++)for(ee=0;ee<dt[se].length;ee++)tt=ke(ee,se),tt+1&&_e[tt][1].push(dt[se][ee])}else for(tt=at.p,tt===void 0&&(tt=at[Ae]),dt=at.s,dt===void 0&&(dt=at.v),dt===void 0&&(dt=be?at.y:at.x),Array.isArray(dt)||(dt===void 0?dt=[]:dt=[dt]),se=0;se<dt.length;se++)_e[tt][1].push(dt[se])}}}Te._categoriesValue=_e;var Fe=[];for(J=0;J<_e.length;J++)Fe.push([_e[J][0],ge[Pe](_e[J][1])]);Fe.sort(function(qe,it){return qe[1]-it[1]}),Te._categoriesAggregatedValue=Fe,Te._initialCategories=Fe.map(function(qe){return qe[0]}),Ie==="descending"&&Te._initialCategories.reverse(),ae=ae.concat(Te.sortByInitialCategories())}}}return ae}function Y(V,Z,ae){var ie={};function J(ue){ue.clearCalc(),ue.type==="multicategory"&&ue.setupMultiCategory(Z),ie[ue._id]=1}t.simpleMap(V,J);for(var $=ae._axisMatchGroups||[],se=0;se<$.length;se++)for(var ee in $[se])ie[ee]||J(ae[o.id2name(ee)])}function G(V){var Z=V._fullLayout,ae=Z._visibleModules,ie={},J,$,se;for($=0;$<ae.length;$++){var ee=ae[$],ue=ee.crossTraceCalc;if(ue){var ge=ee.basePlotModule.name;ie[ge]?t.pushUnique(ie[ge],ue):ie[ge]=[ue]}}for(se in ie){var Te=ie[se],xe=Z._subplots[se];if(Array.isArray(xe))for(J=0;J<xe.length;J++){var Pe=xe[J],Ie=se==="cartesian"?Z._plots[Pe]:Z[Pe];for($=0;$<Te.length;$++)Te[$](V,Ie,Pe)}else for($=0;$<Te.length;$++)Te[$](V)}}s.rehover=function(V){V._fullLayout._rehover&&V._fullLayout._rehover()},s.redrag=function(V){V._fullLayout._redrag&&V._fullLayout._redrag()},s.reselect=function(V){var Z=V._fullLayout,ae=(V.layout||{}).selections,ie=Z._previousSelections;Z._previousSelections=ae;var J=Z._reselect||JSON.stringify(ae)!==JSON.stringify(ie);A.getComponentMethod("selections","reselect")(V,J)},s.generalUpdatePerTraceModule=function(V,Z,ae,ie){var J=Z.traceHash,$={},se;for(se=0;se<ae.length;se++){var ee=ae[se],ue=ee[0].trace;ue.visible&&($[ue.type]=$[ue.type]||[],$[ue.type].push(ee))}for(var ge in J)if(!$[ge]){var Te=J[ge][0],xe=Te[0].trace;xe.visible=!1,$[ge]=[Te]}for(var Pe in $){var Ie=$[Pe],Ae=Ie[0][0].trace._module;Ae.plot(V,Z,t.filterVisible(Ie),ie)}Z.traceHash=$},s.plotBasePlot=function(V,Z,ae,ie,J){var $=A.getModule(V),se=h(Z.calcdata,$)[0];$.plot(Z,se,ie,J)},s.cleanBasePlot=function(V,Z,ae,ie,J){var $=J._has&&J._has(V),se=ae._has&&ae._has(V);$&&!se&&J["_"+V+"layer"].selectAll("g.trace").remove()}},9813:function(W){W.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(W,U,e){var p=e(71828),L=e(61082).tester,a=p.findIndexOfMin,P=p.isAngleInsideSector,A=p.angleDelta,v=p.angleDist;function g(s,d,S,M,C){if(!P(d,M))return!1;var y,w;S[0]<S[1]?(y=S[0],w=S[1]):(y=S[1],w=S[0]);var b=L(l(y,M[0],M[1],C)),i=L(l(w,M[0],M[1],C)),E=[s*Math.cos(d),s*Math.sin(d)];return i.contains(E)&&!b.contains(E)}function t(s,d,S,M){var C,y,w=M[0],b=M[1],i=x(Math.sin(d)-Math.sin(s)),E=x(Math.cos(d)-Math.cos(s)),m=Math.tan(S),F=x(1/m),_=i/E,B=b-_*w;return F?i&&E?(C=B/(m-_),y=m*C):E?(C=b*F,y=b):(C=w,y=w*m):i&&E?(C=0,y=B):E?(C=0,y=b):C=y=NaN,[C,y]}function r(s,d,S,M){var C=-d*S,y=d*d+1,w=2*(d*C-S),b=C*C+S*S-s*s,i=Math.sqrt(w*w-4*y*b),E=(-w+i)/(2*y),m=(-w-i)/(2*y);return[[E,d*E+C+M],[m,d*m+C+M]]}function u(s,d){var S=d.length,M=new Array(S+1),C;for(C=0;C<S;C++){var y=d[C];M[C]=[s*Math.cos(y),s*Math.sin(y)]}return M[C]=M[0].slice(),M}function o(s,d,S,M){var C=M.length,y=[],w,b;function i(k){return[s*Math.cos(k),s*Math.sin(k)]}function E(k,N,K){return t(k,N,K,i(k))}function m(k){return p.mod(k,C)}function F(k){return P(k,[d,S])}var _=a(M,function(k){return F(k)?v(k,d):1/0}),B=E(M[_],M[m(_-1)],d);for(y.push(B),w=_,b=0;b<C;w++,b++){var I=M[m(w)];if(!F(I))break;y.push(i(I))}var O=a(M,function(k){return F(k)?v(k,S):1/0}),z=E(M[O],M[m(O+1)],S);return y.push(z),y.push([0,0]),y.push(y[0].slice()),y}function l(s,d,S,M){return p.isFullCircle([d,S])?u(s,M):o(s,d,S,M)}function c(s,d,S,M){for(var C=1/0,y=1/0,w=l(s,d,S,M),b=0;b<w.length;b++){var i=w[b];C=Math.min(C,i[0]),y=Math.min(y,-i[1])}return[C,y]}function n(s,d){var S=function(y){var w=A(y,s);return w>0?w:1/0},M=a(d,S),C=p.mod(M+1,d.length);return[d[M],d[C]]}function x(s){return Math.abs(s)>1e-10?s:0}function h(s,d,S){d=d||0,S=S||0;for(var M=s.length,C=new Array(M),y=0;y<M;y++){var w=s[y];C[y]=[d+w[0],S-w[1]]}return C}function T(s,d,S,M,C,y){var w=l(s,d,S,M);return"M"+h(w,C,y).join("L")}function f(s,d,S,M,C,y,w){var b,i;s<d?(b=s,i=d):(b=d,i=s);var E=h(l(b,S,M,C),y,w),m=h(l(i,S,M,C),y,w);return"M"+m.reverse().join("L")+"M"+E.join("L")}W.exports={isPtInsidePolygon:g,findPolygonOffset:c,findEnclosingVertexAngles:n,findIntersectionXY:t,findXYatLength:r,clampTiny:x,pathPolygon:T,pathPolygonAnnulus:f}},23580:function(W,U,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(77997),P=e(9813),A=P.attr,v=P.name,g=L(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(o){for(var l=o._fullLayout,c=o.calcdata,n=l._subplots[v],x=0;x<n.length;x++){var h=n[x],T=p(c,v,h),f=l[h]._subplot;f||(f=a(o,h),l[h]._subplot=f),f.plot(T,l,o._promises)}}function u(o,l,c,n){for(var x=n._subplots[v]||[],h=n._has&&n._has("gl"),T=l._has&&l._has("gl"),f=h&&!T,s=0;s<x.length;s++){var d=x[s],S=n[d]._subplot;if(!l[d]&&S){S.framework.remove(),S.layers["radial-axis-title"].remove();for(var M in S.clipPaths)S.clipPaths[M].remove()}f&&S._scene&&(S._scene.destroy(),S._scene=null)}}W.exports={attr:A,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:u,toSVG:e(93612).toSVG}},73812:function(W,U,e){var p=e(22399),L=e(13838),a=e(27670).Y,P=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:L.color,showline:P({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:P({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=A({tickmode:L.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),t={visible:P({},L.visible,{dflt:!0}),type:P({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:P({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:P({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:P({},L.title.text,{editType:"plot",dflt:""}),font:P({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};P(t,v,g);var r={visible:P({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};P(r,v,g),W.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(W,U,e){var p=e(71828),L=e(7901),a=e(44467),P=e(49119),A=e(27659).NG,v=e(26218),g=e(38701),t=e(96115),r=e(89426),u=e(15258),o=e(92128),l=e(4322),c=e(73812),n=e(12101),x=e(9813),h=x.axisNames;function T(s,d,S,M){var C=S("bgcolor");M.bgColor=L.combine(C,M.paper_bgcolor);var y=S("sector");S("hole");var w=A(M.fullData,x.name,M.id),b=M.layoutOut,i;function E(Y,G){return S(i+"."+Y,G)}for(var m=0;m<h.length;m++){i=h[m],p.isPlainObject(s[i])||(s[i]={});var F=s[i],_=a.newContainer(d,i);_._id=_._name=i,_._attr=M.id+"."+i,_._traceIndices=w.map(function(Y){return Y._expandedIndex});var B=x.axisName2dataArray[i],I=f(F,_,E,w,B,M);u(F,_,E,{axData:w,dataAttr:B});var O=E("visible");switch(n(_,d,b),E("uirevision",d.uirevision),_._m=1,i){case"radialaxis":var z=E("autorange",!_.isValidRange(F.range));F.autorange=z,z&&(I==="linear"||I==="-")&&E("rangemode"),z==="reversed"&&(_._m=-1),E("range"),_.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(I==="date"){p.log("Polar plots do not support date angular axes yet.");for(var k=0;k<w.length;k++)w[k].visible=!1;I=F.type=_.type="linear"}E(I==="linear"?"thetaunit":"period");var N=E("direction");E("rotation",{counterclockwise:0,clockwise:90}[N]);break}if(r(F,_,E,_.type,{tickSuffixDflt:_.thetaunit==="degrees"?"°":void 0}),O){var K,q,Q,re,oe=M.font||{};K=E("color"),q=K===F.color?K:oe.color,Q=oe.size,re=oe.family,v(F,_,E,_.type),t(F,_,E,_.type,{font:{color:q,size:Q,family:re}}),g(F,_,E,{outerTicks:!0}),o(F,_,E,{dfltColor:K,bgColor:M.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[i]}),E("layer"),i==="radialaxis"&&(E("side"),E("angle",y[0]),E("title.text"),p.coerceFont(E,"title.font",{color:q,size:p.bigFont(Q),family:re}))}I!=="category"&&E("hoverformat"),_._input=F}d.angularaxis.type==="category"&&S("gridshape")}function f(s,d,S,M,C,y){var w=S("autotypenumbers",y.autotypenumbersDflt),b=S("type");if(b==="-"){for(var i,E=0;E<M.length;E++)if(M[E].visible){i=M[E];break}i&&i[C]&&(d.type=l(i[C],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),d.type==="-"?d.type="linear":s.type=d.type}return d.type}W.exports=function(d,S,M){P(d,S,M,{type:x.name,attributes:c,handleDefaults:T,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:M,layoutOut:S})}},77997:function(W,U,e){var p=e(39898),L=e(84267),a=e(73972),P=e(71828),A=P.strRotate,v=P.strTranslate,g=e(7901),t=e(91424),r=e(74875),u=e(89298),o=e(21994),l=e(12101),c=e(71739).doAutoRange,n=e(29323),x=e(28569),h=e(30211),T=e(92998),f=e(47322).prepSelect,s=e(47322).selectOnClick,d=e(47322).clearOutline,S=e(6964),M=e(33306),C=e(61549).redrawReglTraces,y=e(18783).MID_SHIFT,w=e(9813),b=e(10869),i=e(23893),E=i.smith,m=i.reactanceArc,F=i.resistanceArc,_=i.smithTransform,B=P._,I=P.mod,O=P.deg2rad,z=P.rad2deg;function k(oe,Y,G){this.isSmith=G||!1,this.id=Y,this.gd=oe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var V=oe._fullLayout,Z="clip"+V._uid+Y;this.clipIds.forTraces=Z+"-for-traces",this.clipPaths.forTraces=V._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=V["_"+(G?"smith":"polar")+"layer"].append("g").attr("class",Y),this.getHole=function(ae){return this.isSmith?0:ae.hole},this.getSector=function(ae){return this.isSmith?[0,360]:ae.sector},this.getRadial=function(ae){return this.isSmith?ae.realaxis:ae.radialaxis},this.getAngular=function(ae){return this.isSmith?ae.imaginaryaxis:ae.angularaxis},G||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=k.prototype;W.exports=function(Y,G,V){return new k(Y,G,V)},N.plot=function(oe,Y){for(var G=this,V=Y[G.id],Z=!1,ae=0;ae<oe.length;ae++){var ie=oe[ae][0].trace;if(ie.cliponaxis===!1){Z=!0;break}}G._hasClipOnAxisFalse=Z,G.updateLayers(Y,V),G.updateLayout(Y,V),r.generalUpdatePerTraceModule(G.gd,G,oe,V),G.updateFx(Y,V),G.isSmith&&(delete V.realaxis.range,delete V.imaginaryaxis.range)},N.updateLayers=function(oe,Y){var G=this,V=G.isSmith,Z=G.layers,ae=G.getRadial(Y),ie=G.getAngular(Y),J=w.layerNames,$=J.indexOf("frontplot"),se=J.slice(0,$),ee=ie.layer==="below traces",ue=ae.layer==="below traces";ee&&se.push("angular-line"),ue&&se.push("radial-line"),ee&&se.push("angular-axis"),ue&&se.push("radial-axis"),se.push("frontplot"),ee||se.push("angular-line"),ue||se.push("radial-line"),ee||se.push("angular-axis"),ue||se.push("radial-axis");var ge=(V?"smith":"polar")+"sublayer",Te=G.framework.selectAll("."+ge).data(se,String);Te.enter().append("g").attr("class",function(xe){return ge+" "+xe}).each(function(xe){var Pe=Z[xe]=p.select(this);switch(xe){case"frontplot":V||Pe.append("g").classed("barlayer",!0),Pe.append("g").classed("scatterlayer",!0);break;case"backplot":Pe.append("g").classed("maplayer",!0);break;case"plotbg":Z.bg=Pe.append("path");break;case"radial-grid":Pe.style("fill","none");break;case"angular-grid":Pe.style("fill","none");break;case"radial-line":Pe.append("line").style("fill","none");break;case"angular-line":Pe.append("path").style("fill","none");break}}),Te.order()},N.updateLayout=function(oe,Y){var G=this,V=G.layers,Z=oe._size,ae=G.getRadial(Y),ie=G.getAngular(Y),J=Y.domain.x,$=Y.domain.y;G.xOffset=Z.l+Z.w*J[0],G.yOffset=Z.t+Z.h*(1-$[1]);var se=G.xLength=Z.w*(J[1]-J[0]),ee=G.yLength=Z.h*($[1]-$[0]),ue=G.getSector(Y);G.sectorInRad=ue.map(O);var ge=G.sectorBBox=q(ue),Te=ge[2]-ge[0],xe=ge[3]-ge[1],Pe=ee/se,Ie=Math.abs(xe/Te),Ae,be,_e,Ve,We;Pe>Ie?(Ae=se,be=se*Ie,We=(ee-be)/Z.h/2,_e=[J[0],J[1]],Ve=[$[0]+We,$[1]-We]):(Ae=ee/Ie,be=ee,We=(se-Ae)/Z.w/2,_e=[J[0]+We,J[1]-We],Ve=[$[0],$[1]]),G.xLength2=Ae,G.yLength2=be,G.xDomain2=_e,G.yDomain2=Ve;var ze=G.xOffset2=Z.l+Z.w*_e[0],Ze=G.yOffset2=Z.t+Z.h*(1-Ve[1]),ct=G.radius=Ae/Te,lt=G.innerRadius=G.getHole(Y)*ct,at=G.cx=ze-ct*ge[0],tt=G.cy=Ze+ct*ge[3],dt=G.cxx=at-ze,wt=G.cyy=tt-Ze,Mt=ae.side,It;Mt==="counterclockwise"?(It=Mt,Mt="top"):Mt==="clockwise"&&(It=Mt,Mt="bottom"),G.radialAxis=G.mockAxis(oe,Y,ae,{_id:"x",side:Mt,_trueSide:It,domain:[lt/Z.w,ct/Z.w]}),G.angularAxis=G.mockAxis(oe,Y,ie,{side:"right",domain:[0,Math.PI],autorange:!1}),G.doAutoRange(oe,Y),G.updateAngularAxis(oe,Y),G.updateRadialAxis(oe,Y),G.updateRadialAxisTitle(oe,Y),G.xaxis=G.mockCartesianAxis(oe,Y,{_id:"x",domain:_e}),G.yaxis=G.mockCartesianAxis(oe,Y,{_id:"y",domain:Ve});var $e=G.pathSubplot();G.clipPaths.forTraces.select("path").attr("d",$e).attr("transform",v(dt,wt)),V.frontplot.attr("transform",v(ze,Ze)).call(t.setClipUrl,G._hasClipOnAxisFalse?null:G.clipIds.forTraces,G.gd),V.bg.attr("d",$e).attr("transform",v(at,tt)).call(g.fill,Y.bgcolor)},N.mockAxis=function(oe,Y,G,V){var Z=P.extendFlat({},G,V);return l(Z,Y,oe),Z},N.mockCartesianAxis=function(oe,Y,G){var V=this,Z=V.isSmith,ae=G._id,ie=P.extendFlat({type:"linear"},G);o(ie,oe);var J={x:[0,2],y:[1,3]};return ie.setRange=function(){var $=V.sectorBBox,se=J[ae],ee=V.radialAxis._rl,ue=(ee[1]-ee[0])/(1-V.getHole(Y));ie.range=[$[se[0]]*ue,$[se[1]]*ue]},ie.isPtWithinRange=ae==="x"&&!Z?function($){return V.isPtInside($)}:function(){return!0},ie.setRange(),ie.setScale(),ie},N.doAutoRange=function(oe,Y){var G=this,V=G.gd,Z=G.radialAxis,ae=G.getRadial(Y);c(V,Z);var ie=Z.range;ae.range=ie.slice(),ae._input.range=ie.slice(),Z._rl=[Z.r2l(ie[0],null,"gregorian"),Z.r2l(ie[1],null,"gregorian")]},N.updateRadialAxis=function(oe,Y){var G=this,V=G.gd,Z=G.layers,ae=G.radius,ie=G.innerRadius,J=G.cx,$=G.cy,se=G.getRadial(Y),ee=I(G.getSector(Y)[0],360),ue=G.radialAxis,ge=ie<ae,Te=G.isSmith;Te||(G.fillViewInitialKey("radialaxis.angle",se.angle),G.fillViewInitialKey("radialaxis.range",ue.range.slice()),ue.setGeometry()),ue.tickangle==="auto"&&ee>90&&ee<=270&&(ue.tickangle=180);var xe=Te?function(ct){var lt=_(G,E([ct.x,0]));return v(lt[0]-J,lt[1]-$)}:function(ct){return v(ue.l2p(ct.x)+ie,0)},Pe=Te?function(ct){return F(G,ct.x,-1/0,1/0)}:function(ct){return G.pathArc(ue.r2p(ct.x)+ie)},Ie=K(se);if(G.radialTickLayout!==Ie&&(Z["radial-axis"].selectAll(".xtick").remove(),G.radialTickLayout=Ie),ge){ue.setScale();var Ae=0,be=Te?(ue.tickvals||[]).filter(function(ct){return ct>=0}).map(function(ct){return u.tickText(ue,ct,!0,!1)}):u.calcTicks(ue),_e=Te?be:u.clipEnds(ue,be),Ve=u.getTickSigns(ue)[2];Te&&((ue.ticks==="top"&&ue.side==="bottom"||ue.ticks==="bottom"&&ue.side==="top")&&(Ve=-Ve),ue.ticks==="top"&&ue.side==="top"&&(Ae=-ue.ticklen),ue.ticks==="bottom"&&ue.side==="bottom"&&(Ae=ue.ticklen)),u.drawTicks(V,ue,{vals:be,layer:Z["radial-axis"],path:u.makeTickPath(ue,0,Ve),transFn:xe,crisp:!1}),u.drawGrid(V,ue,{vals:_e,layer:Z["radial-grid"],path:Pe,transFn:P.noop,crisp:!1}),u.drawLabels(V,ue,{vals:be,layer:Z["radial-axis"],transFn:xe,labelFns:u.makeLabelFns(ue,Ae)})}var We=G.radialAxisAngle=G.vangles?z(Q(O(se.angle),G.vangles)):se.angle,ze=v(J,$),Ze=ze+A(-We);re(Z["radial-axis"],ge&&(se.showticklabels||se.ticks),{transform:Ze}),re(Z["radial-grid"],ge&&se.showgrid,{transform:Te?"":ze}),re(Z["radial-line"].select("line"),ge&&se.showline,{x1:Te?-ae:ie,y1:0,x2:ae,y2:0,transform:Ze}).attr("stroke-width",se.linewidth).call(g.stroke,se.linecolor)},N.updateRadialAxisTitle=function(oe,Y,G){if(!this.isSmith){var V=this,Z=V.gd,ae=V.radius,ie=V.cx,J=V.cy,$=V.getRadial(Y),se=V.id+"title",ee=0;if($.title){var ue=t.bBox(V.layers["radial-axis"].node()).height,ge=$.title.font.size,Te=$.side;ee=Te==="top"?ge:Te==="counterclockwise"?-(ue+ge*.4):ue+ge*.8}var xe=G!==void 0?G:V.radialAxisAngle,Pe=O(xe),Ie=Math.cos(Pe),Ae=Math.sin(Pe),be=ie+ae/2*Ie+ee*Ae,_e=J-ae/2*Ae+ee*Ie;V.layers["radial-axis-title"]=T.draw(Z,se,{propContainer:$,propName:V.id+".radialaxis.title",placeholder:B(Z,"Click to enter radial axis title"),attributes:{x:be,y:_e,"text-anchor":"middle"},transform:{rotate:-xe}})}},N.updateAngularAxis=function(oe,Y){var G=this,V=G.gd,Z=G.layers,ae=G.radius,ie=G.innerRadius,J=G.cx,$=G.cy,se=G.getAngular(Y),ee=G.angularAxis,ue=G.isSmith;ue||(G.fillViewInitialKey("angularaxis.rotation",se.rotation),ee.setGeometry(),ee.setScale());var ge=ue?function(lt){var at=_(G,E([0,lt.x]));return Math.atan2(at[0]-J,at[1]-$)-Math.PI/2}:function(lt){return ee.t2g(lt.x)};ee.type==="linear"&&ee.thetaunit==="radians"&&(ee.tick0=z(ee.tick0),ee.dtick=z(ee.dtick));var Te=function(lt){return v(J+ae*Math.cos(lt),$-ae*Math.sin(lt))},xe=ue?function(lt){var at=_(G,E([0,lt.x]));return v(at[0],at[1])}:function(lt){return Te(ge(lt))},Pe=ue?function(lt){var at=_(G,E([0,lt.x])),tt=Math.atan2(at[0]-J,at[1]-$)-Math.PI/2;return v(at[0],at[1])+A(-z(tt))}:function(lt){var at=ge(lt);return Te(at)+A(-z(at))},Ie=ue?function(lt){return m(G,lt.x,0,1/0)}:function(lt){var at=ge(lt),tt=Math.cos(at),dt=Math.sin(at);return"M"+[J+ie*tt,$-ie*dt]+"L"+[J+ae*tt,$-ae*dt]},Ae=u.makeLabelFns(ee,0),be=Ae.labelStandoff,_e={};_e.xFn=function(lt){var at=ge(lt);return Math.cos(at)*be},_e.yFn=function(lt){var at=ge(lt),tt=Math.sin(at)>0?.2:1;return-Math.sin(at)*(be+lt.fontSize*tt)+Math.abs(Math.cos(at))*(lt.fontSize*y)},_e.anchorFn=function(lt){var at=ge(lt),tt=Math.cos(at);return Math.abs(tt)<.1?"middle":tt>0?"start":"end"},_e.heightFn=function(lt,at,tt){var dt=ge(lt);return-.5*(1+Math.sin(dt))*tt};var Ve=K(se);G.angularTickLayout!==Ve&&(Z["angular-axis"].selectAll("."+ee._id+"tick").remove(),G.angularTickLayout=Ve);var We=ue?[1/0].concat(ee.tickvals||[]).map(function(lt){return u.tickText(ee,lt,!0,!1)}):u.calcTicks(ee);ue&&(We[0].text="∞",We[0].fontSize*=1.75);var ze;if(Y.gridshape==="linear"?(ze=We.map(ge),P.angleDelta(ze[0],ze[1])<0&&(ze=ze.slice().reverse())):ze=null,G.vangles=ze,ee.type==="category"&&(We=We.filter(function(lt){return P.isAngleInsideSector(ge(lt),G.sectorInRad)})),ee.visible){var Ze=ee.ticks==="inside"?-1:1,ct=(ee.linewidth||1)/2;u.drawTicks(V,ee,{vals:We,layer:Z["angular-axis"],path:"M"+Ze*ct+",0h"+Ze*ee.ticklen,transFn:Pe,crisp:!1}),u.drawGrid(V,ee,{vals:We,layer:Z["angular-grid"],path:Ie,transFn:P.noop,crisp:!1}),u.drawLabels(V,ee,{vals:We,layer:Z["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:_e})}re(Z["angular-line"].select("path"),se.showline,{d:G.pathSubplot(),transform:v(J,$)}).attr("stroke-width",se.linewidth).call(g.stroke,se.linecolor)},N.updateFx=function(oe,Y){if(!this.gd._context.staticPlot){var G=!this.isSmith;G&&(this.updateAngularDrag(oe),this.updateRadialDrag(oe,Y,0),this.updateRadialDrag(oe,Y,1)),this.updateHoverAndMainDrag(oe)}},N.updateHoverAndMainDrag=function(oe){var Y=this,G=Y.isSmith,V=Y.gd,Z=Y.layers,ae=oe._zoomlayer,ie=w.MINZOOM,J=w.OFFEDGE,$=Y.radius,se=Y.innerRadius,ee=Y.cx,ue=Y.cy,ge=Y.cxx,Te=Y.cyy,xe=Y.sectorInRad,Pe=Y.vangles,Ie=Y.radialAxis,Ae=b.clampTiny,be=b.findXYatLength,_e=b.findEnclosingVertexAngles,Ve=w.cornerHalfWidth,We=w.cornerLen/2,ze,Ze,ct=n.makeDragger(Z,"path","maindrag",oe.dragmode===!1?"none":"crosshair");p.select(ct).attr("d",Y.pathSubplot()).attr("transform",v(ee,ue)),ct.onmousemove=function(Vt){h.hover(V,Vt,Y.id),V._fullLayout._lasthover=ct,V._fullLayout._hoversubplot=Y.id},ct.onmouseout=function(Vt){V._dragging||x.unhover(V,Vt)};var lt={element:ct,gd:V,subplot:Y.id,plotinfo:{id:Y.id,xaxis:Y.xaxis,yaxis:Y.yaxis},xaxes:[Y.xaxis],yaxes:[Y.yaxis]},at,tt,dt,wt,Mt,It,$e,ke,Fe;function qe(Vt,vr){return Math.sqrt(Vt*Vt+vr*vr)}function it(Vt,vr){return qe(Vt-ge,vr-Te)}function Je(Vt,vr){return Math.atan2(Te-vr,Vt-ge)}function Re(Vt,vr){return[Vt*Math.cos(vr),Vt*Math.sin(-vr)]}function Me(Vt,vr){if(Vt===0)return Y.pathSector(2*Ve);var gr=We/Vt,Gr=vr-gr,At=vr+gr,or=Math.max(0,Math.min(Vt,$)),rr=or-Ve,Lr=or+Ve;return"M"+Re(rr,Gr)+"A"+[rr,rr]+" 0,0,0 "+Re(rr,At)+"L"+Re(Lr,At)+"A"+[Lr,Lr]+" 0,0,1 "+Re(Lr,Gr)+"Z"}function fe(Vt,vr,gr){if(Vt===0)return Y.pathSector(2*Ve);var Gr=Re(Vt,vr),At=Re(Vt,gr),or=Ae((Gr[0]+At[0])/2),rr=Ae((Gr[1]+At[1])/2),Lr,Tr;if(or&&rr){var pt=rr/or,st=-1/pt,yt=be(Ve,pt,or,rr);Lr=be(We,st,yt[0][0],yt[0][1]),Tr=be(We,st,yt[1][0],yt[1][1])}else{var Pt,Dt;rr?(Pt=We,Dt=Ve):(Pt=Ve,Dt=We),Lr=[[or-Pt,rr-Dt],[or+Pt,rr-Dt]],Tr=[[or-Pt,rr+Dt],[or+Pt,rr+Dt]]}return"M"+Lr.join("L")+"L"+Tr.reverse().join("L")+"Z"}function ye(){dt=null,wt=null,Mt=Y.pathSubplot(),It=!1;var Vt=V._fullLayout[Y.id];$e=L(Vt.bgcolor).getLuminance(),ke=n.makeZoombox(ae,$e,ee,ue,Mt),ke.attr("fill-rule","evenodd"),Fe=n.makeCorners(ae,ee,ue),d(V)}function Le(Vt,vr){return vr=Math.max(Math.min(vr,$),se),Vt<J?Vt=0:$-Vt<J?Vt=$:vr<J?vr=0:$-vr<J&&(vr=$),Math.abs(vr-Vt)>ie?(Vt<vr?(dt=Vt,wt=vr):(dt=vr,wt=Vt),!0):(dt=null,wt=null,!1)}function Oe(Vt,vr){Vt=Vt||Mt,vr=vr||"M0,0Z",ke.attr("d",Vt),Fe.attr("d",vr),n.transitionZoombox(ke,Fe,It,$e),It=!0;var gr={};Jt(gr),V.emit("plotly_relayouting",gr)}function ht(Vt,vr){Vt=Vt*ze,vr=vr*Ze;var gr=at+Vt,Gr=tt+vr,At=it(at,tt),or=Math.min(it(gr,Gr),$),rr=Je(at,tt),Lr,Tr;Le(At,or)&&(Lr=Mt+Y.pathSector(wt),dt&&(Lr+=Y.pathSector(dt)),Tr=Me(dt,rr)+Me(wt,rr)),Oe(Lr,Tr)}function vt(Vt,vr,gr,Gr){var At=b.findIntersectionXY(gr,Gr,gr,[Vt-ge,Te-vr]);return qe(At[0],At[1])}function Lt(Vt,vr){var gr=at+Vt,Gr=tt+vr,At=Je(at,tt),or=Je(gr,Gr),rr=_e(At,Pe),Lr=_e(or,Pe),Tr=vt(at,tt,rr[0],rr[1]),pt=Math.min(vt(gr,Gr,Lr[0],Lr[1]),$),st,yt;Le(Tr,pt)&&(st=Mt+Y.pathSector(wt),dt&&(st+=Y.pathSector(dt)),yt=[fe(dt,rr[0],rr[1]),fe(wt,rr[0],rr[1])].join(" ")),Oe(st,yt)}function Ot(){if(n.removeZoombox(V),!(dt===null||wt===null)){var Vt={};Jt(Vt),n.showDoubleClickNotifier(V),a.call("_guiRelayout",V,Vt)}}function Jt(Vt){var vr=Ie._rl,gr=(vr[1]-vr[0])/(1-se/$)/$,Gr=[vr[0]+(dt-se)*gr,vr[0]+(wt-se)*gr];Vt[Y.id+".radialaxis.range"]=Gr}function qt(Vt,vr){var gr=V._fullLayout.clickmode;if(n.removeZoombox(V),Vt===2){var Gr={};for(var At in Y.viewInitial)Gr[Y.id+"."+At]=Y.viewInitial[At];V.emit("plotly_doubleclick",null),a.call("_guiRelayout",V,Gr)}gr.indexOf("select")>-1&&Vt===1&&s(vr,V,[Y.xaxis],[Y.yaxis],Y.id,lt),gr.indexOf("event")>-1&&h.click(V,vr,Y.id)}lt.prepFn=function(Vt,vr,gr){var Gr=V._fullLayout.dragmode,At=ct.getBoundingClientRect();V._fullLayout._calcInverseTransform(V);var or=V._fullLayout._invTransform;ze=V._fullLayout._invScaleX,Ze=V._fullLayout._invScaleY;var rr=P.apply3DTransform(or)(vr-At.left,gr-At.top);if(at=rr[0],tt=rr[1],Pe){var Lr=b.findPolygonOffset($,xe[0],xe[1],Pe);at+=ge+Lr[0],tt+=Te+Lr[1]}switch(Gr){case"zoom":lt.clickFn=qt,G||(Pe?lt.moveFn=Lt:lt.moveFn=ht,lt.doneFn=Ot,ye());break;case"select":case"lasso":f(Vt,vr,gr,lt,Gr);break}},x.init(lt)},N.updateRadialDrag=function(oe,Y,G){var V=this,Z=V.gd,ae=V.layers,ie=V.radius,J=V.innerRadius,$=V.cx,se=V.cy,ee=V.radialAxis,ue=w.radialDragBoxSize,ge=ue/2;if(!ee.visible)return;var Te=O(V.radialAxisAngle),xe=ee._rl,Pe=xe[0],Ie=xe[1],Ae=xe[G],be=.75*(xe[1]-xe[0])/(1-V.getHole(Y))/ie,_e,Ve,We;G?(_e=$+(ie+ge)*Math.cos(Te),Ve=se-(ie+ge)*Math.sin(Te),We="radialdrag"):(_e=$+(J-ge)*Math.cos(Te),Ve=se-(J-ge)*Math.sin(Te),We="radialdrag-inner");var ze=n.makeRectDragger(ae,We,"crosshair",-ge,-ge,ue,ue),Ze={element:ze,gd:Z};oe.dragmode===!1&&(Ze.dragmode=!1),re(p.select(ze),ee.visible&&J<ie,{transform:v(_e,Ve)});var ct,lt,at;function tt($e,ke){if(ct)ct($e,ke);else{var Fe=[$e,-ke],qe=[Math.cos(Te),Math.sin(Te)],it=Math.abs(P.dot(Fe,qe)/Math.sqrt(P.dot(Fe,Fe)));isNaN(it)||(ct=it<.5?Mt:It)}var Je={};dt(Je),Z.emit("plotly_relayouting",Je)}function dt($e){lt!==null?$e[V.id+".radialaxis.angle"]=lt:at!==null&&($e[V.id+".radialaxis.range["+G+"]"]=at)}function wt(){lt!==null?a.call("_guiRelayout",Z,V.id+".radialaxis.angle",lt):at!==null&&a.call("_guiRelayout",Z,V.id+".radialaxis.range["+G+"]",at)}function Mt($e,ke){if(G!==0){var Fe=_e+$e,qe=Ve+ke;lt=Math.atan2(se-qe,Fe-$),V.vangles&&(lt=Q(lt,V.vangles)),lt=z(lt);var it=v($,se)+A(-lt);ae["radial-axis"].attr("transform",it),ae["radial-line"].select("line").attr("transform",it);var Je=V.gd._fullLayout,Re=Je[V.id];V.updateRadialAxisTitle(Je,Re,lt)}}function It($e,ke){var Fe=P.dot([$e,-ke],[Math.cos(Te),Math.sin(Te)]);if(at=Ae-be*Fe,be>0!=(G?at>Pe:at<Ie)){at=null;return}var qe=Z._fullLayout,it=qe[V.id];ee.range[G]=at,ee._rl[G]=at,V.updateRadialAxis(qe,it),V.xaxis.setRange(),V.xaxis.setScale(),V.yaxis.setRange(),V.yaxis.setScale();var Je=!1;for(var Re in V.traceHash){var Me=V.traceHash[Re],fe=P.filterVisible(Me),ye=Me[0][0].trace._module;ye.plot(Z,V,fe,it),a.traceIs(Re,"gl")&&fe.length&&(Je=!0)}Je&&(M(Z),C(Z))}Ze.prepFn=function(){ct=null,lt=null,at=null,Ze.moveFn=tt,Ze.doneFn=wt,d(Z)},Ze.clampFn=function($e,ke){return Math.sqrt($e*$e+ke*ke)<w.MINDRAG&&($e=0,ke=0),[$e,ke]},x.init(Ze)},N.updateAngularDrag=function(oe){var Y=this,G=Y.gd,V=Y.layers,Z=Y.radius,ae=Y.angularAxis,ie=Y.cx,J=Y.cy,$=Y.cxx,se=Y.cyy,ee=w.angularDragBoxSize,ue=n.makeDragger(V,"path","angulardrag",oe.dragmode===!1?"none":"move"),ge={element:ue,gd:G};oe.dragmode===!1?ge.dragmode=!1:p.select(ue).attr("d",Y.pathAnnulus(Z,Z+ee)).attr("transform",v(ie,J)).call(S,"move");function Te(at,tt){return Math.atan2(se+ee-tt,at-$-ee)}var xe=V.frontplot.select(".scatterlayer").selectAll(".trace"),Pe=xe.selectAll(".point"),Ie=xe.selectAll(".textpoint"),Ae,be,_e,Ve,We,ze;function Ze(at,tt){var dt=Y.gd._fullLayout,wt=dt[Y.id],Mt=Ae+at*oe._invScaleX,It=be+tt*oe._invScaleY,$e=Te(Mt,It),ke=z($e-ze);if(Ve=_e+ke,V.frontplot.attr("transform",v(Y.xOffset2,Y.yOffset2)+A([-ke,$,se])),Y.vangles){We=Y.radialAxisAngle+ke;var Fe=v(ie,J)+A(-ke),qe=v(ie,J)+A(-We);V.bg.attr("transform",Fe),V["radial-grid"].attr("transform",Fe),V["radial-axis"].attr("transform",qe),V["radial-line"].select("line").attr("transform",qe),Y.updateRadialAxisTitle(dt,wt,We)}else Y.clipPaths.forTraces.select("path").attr("transform",v($,se)+A(ke));Pe.each(function(){var Le=p.select(this),Oe=t.getTranslate(Le);Le.attr("transform",v(Oe.x,Oe.y)+A([ke]))}),Ie.each(function(){var Le=p.select(this),Oe=Le.select("text"),ht=t.getTranslate(Le);Le.attr("transform",A([ke,Oe.attr("x"),Oe.attr("y")])+v(ht.x,ht.y))}),ae.rotation=P.modHalf(Ve,360),Y.updateAngularAxis(dt,wt),Y._hasClipOnAxisFalse&&!P.isFullCircle(Y.sectorInRad)&&xe.call(t.hideOutsideRangePoints,Y);var it=!1;for(var Je in Y.traceHash)if(a.traceIs(Je,"gl")){var Re=Y.traceHash[Je],Me=P.filterVisible(Re),fe=Re[0][0].trace._module;fe.plot(G,Y,Me,wt),Me.length&&(it=!0)}it&&(M(G),C(G));var ye={};ct(ye),G.emit("plotly_relayouting",ye)}function ct(at){at[Y.id+".angularaxis.rotation"]=Ve,Y.vangles&&(at[Y.id+".radialaxis.angle"]=We)}function lt(){Ie.select("text").attr("transform",null);var at={};ct(at),a.call("_guiRelayout",G,at)}ge.prepFn=function(at,tt,dt){var wt=oe[Y.id];_e=wt.angularaxis.rotation;var Mt=ue.getBoundingClientRect();Ae=tt-Mt.left,be=dt-Mt.top,G._fullLayout._calcInverseTransform(G);var It=P.apply3DTransform(oe._invTransform)(Ae,be);Ae=It[0],be=It[1],ze=Te(Ae,be),ge.moveFn=Ze,ge.doneFn=lt,d(G)},Y.vangles&&!P.isFullCircle(Y.sectorInRad)&&(ge.prepFn=P.noop,S(p.select(ue),null)),x.init(ge)},N.isPtInside=function(oe){if(this.isSmith)return!0;var Y=this.sectorInRad,G=this.vangles,V=this.angularAxis.c2g(oe.theta),Z=this.radialAxis,ae=Z.c2l(oe.r),ie=Z._rl,J=G?b.isPtInsidePolygon:P.isPtInsideSector;return J(ae,V,ie,Y,G)},N.pathArc=function(oe){var Y=this.sectorInRad,G=this.vangles,V=G?b.pathPolygon:P.pathArc;return V(oe,Y[0],Y[1],G)},N.pathSector=function(oe){var Y=this.sectorInRad,G=this.vangles,V=G?b.pathPolygon:P.pathSector;return V(oe,Y[0],Y[1],G)},N.pathAnnulus=function(oe,Y){var G=this.sectorInRad,V=this.vangles,Z=V?b.pathPolygonAnnulus:P.pathAnnulus;return Z(oe,Y,G[0],G[1],V)},N.pathSubplot=function(){var oe=this.innerRadius,Y=this.radius;return oe?this.pathAnnulus(oe,Y):this.pathSector(Y)},N.fillViewInitialKey=function(oe,Y){oe in this.viewInitial||(this.viewInitial[oe]=Y)};function K(oe){var Y=oe.ticks+String(oe.ticklen)+String(oe.showticklabels);return"side"in oe&&(Y+=oe.side),Y}function q(oe){var Y=oe[0],G=oe[1],V=G-Y,Z=I(Y,360),ae=Z+V,ie=Math.cos(O(Z)),J=Math.sin(O(Z)),$=Math.cos(O(ae)),se=Math.sin(O(ae)),ee,ue,ge,Te;return Z<=90&&ae>=90||Z>90&&ae>=450?Te=1:J<=0&&se<=0?Te=0:Te=Math.max(J,se),Z<=180&&ae>=180||Z>180&&ae>=540?ee=-1:ie>=0&&$>=0?ee=0:ee=Math.min(ie,$),Z<=270&&ae>=270||Z>270&&ae>=630?ue=-1:J>=0&&se>=0?ue=0:ue=Math.min(J,se),ae>=360?ge=1:ie<=0&&$<=0?ge=0:ge=Math.max(ie,$),[ee,ue,ge,Te]}function Q(oe,Y){var G=function(Z){return P.angleDist(oe,Z)},V=P.findIndexOfMin(Y,G);return Y[V]}function re(oe,Y,G){return Y?(oe.attr("display",null),oe.attr(G)):oe&&oe.attr("display","none"),oe}},12101:function(W,U,e){var p=e(71828),L=e(21994),a=p.deg2rad,P=p.rad2deg;W.exports=function(u,o,l){switch(L(u,l),u._id){case"x":case"radialaxis":A(u,o);break;case"angularaxis":t(u,o);break}};function A(r,u){var o=u._subplot;r.setGeometry=function(){var l=r._rl[0],c=r._rl[1],n=o.innerRadius,x=(o.radius-n)/(c-l),h=n/x,T=l>c?function(f){return f<=0}:function(f){return f>=0};r.c2g=function(f){var s=r.c2l(f)-l;return(T(s)?s:0)+h},r.g2c=function(f){return r.l2c(f+l-h)},r.g2p=function(f){return f*x},r.c2p=function(f){return r.g2p(r.c2g(f))}}}function v(r,u){return u==="degrees"?a(r):r}function g(r,u){return u==="degrees"?P(r):r}function t(r,u){var o=r.type;if(o==="linear"){var l=r.d2c,c=r.c2d;r.d2c=function(n,x){return v(l(n),x)},r.c2d=function(n,x){return c(g(n,x))}}r.makeCalcdata=function(n,x){var h=n[x],T=n._length,f,s,d=function(w){return r.d2c(w,n.thetaunit)};if(h){if(p.isTypedArray(h)&&o==="linear"){if(T===h.length)return h;if(h.subarray)return h.subarray(0,T)}for(f=new Array(T),s=0;s<T;s++)f[s]=d(h[s])}else{var S=x+"0",M="d"+x,C=S in n?d(n[S]):0,y=n[M]?d(n[M]):(r.period||2*Math.PI)/T;for(f=new Array(T),s=0;s<T;s++)f[s]=C+s*y}return f},r.setGeometry=function(){var n=u.sector,x=n.map(a),h={clockwise:-1,counterclockwise:1}[r.direction],T=a(r.rotation),f=function(b){return h*b+T},s=function(b){return(b-T)/h},d,S,M,C;switch(o){case"linear":S=d=p.identity,C=a,M=P,r.range=p.isFullCircle(x)?[n[0],n[0]+360]:x.map(s).map(P);break;case"category":var y=r._categories.length,w=r.period?Math.max(r.period,y):y;w===0&&(w=1),S=C=function(b){return b*2*Math.PI/w},d=M=function(b){return b*w/Math.PI/2},r.range=[0,w];break}r.c2g=function(b){return f(S(b))},r.g2c=function(b){return d(s(b))},r.t2g=function(b){return f(C(b))},r.g2t=function(b){return M(s(b))}}}},39779:function(W){W.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(W){function U(A){return A<0?-1:A>0?1:0}function e(A){var v=A[0],g=A[1];if(!isFinite(v)||!isFinite(g))return[1,0];var t=(v+1)*(v+1)+g*g;return[(v*v+g*g-1)/t,2*g/t]}function p(A,v){var g=v[0],t=v[1];return[g*A.radius+A.cx,-t*A.radius+A.cy]}function L(A,v){return v*A.radius}function a(A,v,g,t){var r=p(A,e([g,v])),u=r[0],o=r[1],l=p(A,e([t,v])),c=l[0],n=l[1];if(v===0)return["M"+u+","+o,"L"+c+","+n].join(" ");var x=L(A,1/Math.abs(v));return["M"+u+","+o,"A"+x+","+x+" 0 0,"+(v<0?1:0)+" "+c+","+n].join(" ")}function P(A,v,g,t){var r=L(A,1/(v+1)),u=p(A,e([v,g])),o=u[0],l=u[1],c=p(A,e([v,t])),n=c[0],x=c[1];if(U(g)!==U(t)){var h=p(A,e([v,0])),T=h[0],f=h[1];return["M"+o+","+l,"A"+r+","+r+" 0 0,"+(0<g?0:1)+" "+T+","+f,"A"+r+","+r+" 0 0,"+(t<0?0:1)+n+","+x].join(" ")}return["M"+o+","+l,"A"+r+","+r+" 0 0,"+(t<g?0:1)+" "+n+","+x].join(" ")}W.exports={smith:e,reactanceArc:a,resistanceArc:P,smithTransform:p}},7504:function(W,U,e){var p=e(27659).AU,L=e(71828).counterRegex,a=e(77997),P=e(39779),A=P.attr,v=P.name,g=L(v),t={};t[A]={valType:"subplotid",dflt:v,editType:"calc"};function r(o){for(var l=o._fullLayout,c=o.calcdata,n=l._subplots[v],x=0;x<n.length;x++){var h=n[x],T=p(c,v,h),f=l[h]._subplot;f||(f=a(o,h,!0),l[h]._subplot=f),f.plot(T,l,o._promises)}}function u(o,l,c,n){for(var x=n._subplots[v]||[],h=0;h<x.length;h++){var T=x[h],f=n[T]._subplot;if(!l[T]&&f){f.framework.remove();for(var s in f.clipPaths)f.clipPaths[s].remove()}}}W.exports={attr:A,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:u,toSVG:e(93612).toSVG}},33419:function(W,U,e){var p=e(22399),L=e(13838),a=e(27670).Y,P=e(71828).extendFlat,A=e(30962).overrideAll,v=A({color:L.color,showline:P({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:P({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=A({ticklen:L.ticklen,tickwidth:P({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),t=P({visible:P({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:P({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,g),r=P({visible:P({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,g);W.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(W,U,e){var p=e(71828),L=e(7901),a=e(44467),P=e(49119),A=e(27659).NG,v=e(89426),g=e(96115),t=e(92128),r=e(21994),u=e(33419),o=e(39779),l=o.axisNames,c=x(function(h){return h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function n(h,T,f,s){var d=f("bgcolor");s.bgColor=L.combine(d,s.paper_bgcolor);var S=A(s.fullData,o.name,s.id),M=s.layoutOut,C;function y(N,K){return f(C+"."+N,K)}for(var w=0;w<l.length;w++){C=l[w],p.isPlainObject(h[C])||(h[C]={});var b=h[C],i=a.newContainer(T,C);i._id=i._name=C,i._attr=s.id+"."+C,i._traceIndices=S.map(function(N){return N._expandedIndex});var E=y("visible");if(i.type="linear",r(i,M),v(b,i,y,i.type),E){var m=C==="realaxis";if(m&&y("side"),m)y("tickvals");else{var F=c(T.realaxis.tickvals||u.realaxis.tickvals.dflt);y("tickvals",F)}var _,B,I,O,z=s.font||{};E&&(_=y("color"),B=_===b.color?_:z.color,I=z.size,O=z.family),g(b,i,y,i.type,{noTicklabelstep:!0,noAng:!m,noExp:!0,font:{color:B,size:I,family:O}}),p.coerce2(h,T,u,C+".ticklen"),p.coerce2(h,T,u,C+".tickwidth"),p.coerce2(h,T,u,C+".tickcolor",T.color);var k=y("ticks");k||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),t(b,i,y,{dfltColor:_,bgColor:s.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[C]}),y("layer")}y("hoverformat"),delete i.type,i._input=b}}W.exports=function(T,f,s){P(T,f,s,{noUirevision:!0,type:o.name,attributes:u,handleDefaults:n,font:f.font,paper_bgcolor:f.paper_bgcolor,fullData:s,layoutOut:f})};function x(h,T){var f={};return function(s){var d=T?T(s):s;if(d in f)return f[d];var S=h(s);return f[d]=S,S}}},49119:function(W,U,e){var p=e(71828),L=e(44467),a=e(27670).c;W.exports=function(A,v,g,t){var r=t.type,u=t.attributes,o=t.handleDefaults,l=t.partition||"x",c=v._subplots[r],n=c.length,x=n&&c[0].replace(/\d+$/,""),h,T;function f(M,C){return p.coerce(h,T,u,M,C)}for(var s=0;s<n;s++){var d=c[s];A[d]?h=A[d]:h=A[d]={},T=L.newContainer(v,d,x),t.noUirevision||f("uirevision",v.uirevision);var S={};S[l]=[s/n,(s+1)/n],a(T,v,f,S),t.id=d,o(h,T,f,t)}}},5386:function(W,U,e){var p=e(31562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(a){var P=a.description?" "+a.description:"",A=a.keys||[];if(A.length>0){for(var v=[],g=0;g<A.length;g++)v[g]="`"+A[g]+"`";P=P+"Finally, the template string has access to ",A.length===1?P="variable "+v[0]:P="variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return P}U.f=function(a,P){a=a||{},P=P||{},L(P);var A={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(A.arrayOk=!0),A},U.s=function(a,P){a=a||{},P=P||{},L(P);var A={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(A.arrayOk=!0),A}},61639:function(W,U,e){var p=e(64380),L=e(27659).AU,a=e(71828).counterRegex,P="ternary";U.name=P;var A=U.attr="subplot";U.idRoot=P,U.idRegex=U.attrRegex=a(P);var v=U.attributes={};v[A]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(81367),U.supplyLayoutDefaults=e(25369),U.plot=function(t){for(var r=t._fullLayout,u=t.calcdata,o=r._subplots[P],l=0;l<o.length;l++){var c=o[l],n=L(u,P,c),x=r[c]._subplot;x||(x=new p({id:c,graphDiv:t,container:r._ternarylayer.node()},r),r[c]._subplot=x),x.plot(n,r,t._promises)}},U.clean=function(g,t,r,u){for(var o=u._subplots[P]||[],l=0;l<o.length;l++){var c=o[l],n=u[c]._subplot;!t[c]&&n&&(n.plotContainer.remove(),n.clipDef.remove(),n.clipDefRelative.remove(),n.layers["a-title"].remove(),n.layers["b-title"].remove(),n.layers["c-title"].remove())}}},81367:function(W,U,e){var p=e(22399),L=e(27670).Y,a=e(13838),P=e(30962).overrideAll,A=e(1426).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.tickmode,nticks:A({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:A({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:A({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},g=W.exports=P({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},25369:function(W,U,e){var p=e(7901),L=e(44467),a=e(71828),P=e(49119),A=e(96115),v=e(89426),g=e(38701),t=e(26218),r=e(92128),u=e(81367),o=["aaxis","baxis","caxis"];W.exports=function(x,h,T){P(x,h,T,{type:"ternary",attributes:u,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor})};function l(n,x,h,T){var f=h("bgcolor"),s=h("sum");T.bgColor=p.combine(f,T.paper_bgcolor);for(var d,S,M,C=0;C<o.length;C++)d=o[C],S=n[d]||{},M=L.newContainer(x,d),M._name=d,c(S,M,T,x);var y=x.aaxis,w=x.baxis,b=x.caxis;y.min+w.min+b.min>=s&&(y.min=0,w.min=0,b.min=0,n.aaxis&&delete n.aaxis.min,n.baxis&&delete n.baxis.min,n.caxis&&delete n.caxis.min)}function c(n,x,h,T){var f=u[x._name];function s(i,E){return a.coerce(n,x,f,i,E)}s("uirevision",T.uirevision),x.type="linear";var d=s("color"),S=d!==f.color.dflt?d:h.font.color,M=x._name,C=M.charAt(0).toUpperCase(),y="Component "+C,w=s("title.text",y);x._hovertitle=w===y?w:C,a.coerceFont(s,"title.font",{family:h.font.family,size:a.bigFont(h.font.size),color:S}),s("min"),t(n,x,s,"linear"),v(n,x,s,"linear"),A(n,x,s,"linear"),g(n,x,s,{outerTicks:!0});var b=s("showticklabels");b&&(a.coerceFont(s,"tickfont",{family:h.font.family,size:h.font.size,color:S}),s("tickangle"),s("tickformat")),r(n,x,s,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f}),s("hoverformat"),s("layer")}},64380:function(W,U,e){var p=e(39898),L=e(84267),a=e(73972),P=e(71828),A=P.strTranslate,v=P._,g=e(7901),t=e(91424),r=e(21994),u=e(1426).extendFlat,o=e(74875),l=e(89298),c=e(28569),n=e(30211),x=e(64505),h=x.freeMode,T=x.rectMode,f=e(92998),s=e(47322).prepSelect,d=e(47322).selectOnClick,S=e(47322).clearOutline,M=e(47322).clearSelectionsCache,C=e(85555);function y(z,k){this.id=z.id,this.graphDiv=z.graphDiv,this.init(k),this.makeFramework(k),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}W.exports=y;var w=y.prototype;w.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},w.plot=function(z,k){var N=this,K=k[N.id],q=k._size;N._hasClipOnAxisFalse=!1;for(var Q=0;Q<z.length;Q++){var re=z[Q][0].trace;if(re.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}}N.updateLayers(K),N.adjustLayout(K,q),o.generalUpdatePerTraceModule(N.graphDiv,N,z,K),N.layers.plotbg.select("path").call(g.fill,K.bgcolor)},w.makeFramework=function(z){var k=this,N=k.graphDiv,K=z[k.id],q=k.clipId="clip"+k.layoutId+k.id,Q=k.clipIdRelative="clip-relative"+k.layoutId+k.id;k.clipDef=P.ensureSingleById(z._clips,"clipPath",q,function(re){re.append("path").attr("d","M0,0Z")}),k.clipDefRelative=P.ensureSingleById(z._clips,"clipPath",Q,function(re){re.append("path").attr("d","M0,0Z")}),k.plotContainer=P.ensureSingle(k.container,"g",k.id),k.updateLayers(K),t.setClipUrl(k.layers.backplot,q,N),t.setClipUrl(k.layers.grids,q,N)},w.updateLayers=function(z){var k=this,N=k.layers,K=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&K.push("aaxis","aline"),z.baxis.layer==="below traces"&&K.push("baxis","bline"),z.caxis.layer==="below traces"&&K.push("caxis","cline"),K.push("frontplot"),z.aaxis.layer==="above traces"&&K.push("aaxis","aline"),z.baxis.layer==="above traces"&&K.push("baxis","bline"),z.caxis.layer==="above traces"&&K.push("caxis","cline");var q=k.plotContainer.selectAll("g.toplevel").data(K,String),Q=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(re){return"toplevel "+re}).each(function(re){var oe=p.select(this);N[re]=oe,re==="frontplot"?oe.append("g").classed("scatterlayer",!0):re==="backplot"?oe.append("g").classed("maplayer",!0):re==="plotbg"?oe.append("path").attr("d","M0,0Z"):re==="aline"||re==="bline"||re==="cline"?oe.append("path"):re==="grids"&&Q.forEach(function(Y){N[Y]=oe.append("g").classed("grid "+Y,!0)})}),q.order()};var b=Math.sqrt(4/3);w.adjustLayout=function(z,k){var N=this,K=z.domain,q=(K.x[0]+K.x[1])/2,Q=(K.y[0]+K.y[1])/2,re=K.x[1]-K.x[0],oe=K.y[1]-K.y[0],Y=re*k.w,G=oe*k.h,V=z.sum,Z=z.aaxis.min,ae=z.baxis.min,ie=z.caxis.min,J,$,se,ee,ue,ge;Y>b*G?(ee=G,se=ee*b):(se=Y,ee=se/b),ue=re*se/Y,ge=oe*ee/G,J=k.l+k.w*q-se/2,$=k.t+k.h*(1-Q)-ee/2,N.x0=J,N.y0=$,N.w=se,N.h=ee,N.sum=V,N.xaxis={type:"linear",range:[Z+2*ie-V,V-Z-2*ae],domain:[q-ue/2,q+ue/2],_id:"x"},r(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(Ze){return Ze.a>=N.aaxis.range[0]&&Ze.a<=N.aaxis.range[1]&&Ze.b>=N.baxis.range[1]&&Ze.b<=N.baxis.range[0]&&Ze.c>=N.caxis.range[1]&&Ze.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[Z,V-ae-ie],domain:[Q-ge/2,Q+ge/2],_id:"y"},r(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var Te=N.yaxis.domain[0],xe=N.aaxis=u({},z.aaxis,{range:[Z,V-ae-ie],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[Te,Te+ge*b],anchor:"free",position:0,_id:"y",_length:se});r(xe,N.graphDiv._fullLayout),xe.setScale();var Pe=N.baxis=u({},z.baxis,{range:[V-Z-ie,ae],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});r(Pe,N.graphDiv._fullLayout),Pe.setScale();var Ie=N.caxis=u({},z.caxis,{range:[V-Z-ae,ie],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[Te,Te+ge*b],anchor:"free",position:0,_id:"y",_length:se});r(Ie,N.graphDiv._fullLayout),Ie.setScale();var Ae="M"+J+","+($+ee)+"h"+se+"l-"+se/2+",-"+ee+"Z";N.clipDef.select("path").attr("d",Ae),N.layers.plotbg.select("path").attr("d",Ae);var be="M0,"+ee+"h"+se+"l-"+se/2+",-"+ee+"Z";N.clipDefRelative.select("path").attr("d",be);var _e=A(J,$);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",_e),N.clipDefRelative.select("path").attr("transform",null);var Ve=A(J-Pe._offset,$+ee);N.layers.baxis.attr("transform",Ve),N.layers.bgrid.attr("transform",Ve);var We=A(J+se/2,$)+"rotate(30)"+A(0,-xe._offset);N.layers.aaxis.attr("transform",We),N.layers.agrid.attr("transform",We);var ze=A(J+se/2,$)+"rotate(-30)"+A(0,-Ie._offset);N.layers.caxis.attr("transform",ze),N.layers.cgrid.attr("transform",ze),N.drawAxes(!0),N.layers.aline.select("path").attr("d",xe.showline?"M"+J+","+($+ee)+"l"+se/2+",-"+ee:"M0,0").call(g.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",Pe.showline?"M"+J+","+($+ee)+"h"+se:"M0,0").call(g.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",Ie.showline?"M"+(J+se/2)+","+$+"l"+se/2+","+ee:"M0,0").call(g.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),t.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},w.drawAxes=function(z){var k=this,N=k.graphDiv,K=k.id.substr(7)+"title",q=k.layers,Q=k.aaxis,re=k.baxis,oe=k.caxis;if(k.drawAx(Q),k.drawAx(re),k.drawAx(oe),z){var Y=Math.max(Q.showticklabels?Q.tickfont.size/2:0,(oe.showticklabels?oe.tickfont.size*.75:0)+(oe.ticks==="outside"?oe.ticklen*.87:0)),G=(re.showticklabels?re.tickfont.size:0)+(re.ticks==="outside"?re.ticklen:0)+3;q["a-title"]=f.draw(N,"a"+K,{propContainer:Q,propName:k.id+".aaxis.title",placeholder:v(N,"Click to enter Component A title"),attributes:{x:k.x0+k.w/2,y:k.y0-Q.title.font.size/3-Y,"text-anchor":"middle"}}),q["b-title"]=f.draw(N,"b"+K,{propContainer:re,propName:k.id+".baxis.title",placeholder:v(N,"Click to enter Component B title"),attributes:{x:k.x0-G,y:k.y0+k.h+re.title.font.size*.83+G,"text-anchor":"middle"}}),q["c-title"]=f.draw(N,"c"+K,{propContainer:oe,propName:k.id+".caxis.title",placeholder:v(N,"Click to enter Component C title"),attributes:{x:k.x0+k.w+G,y:k.y0+k.h+oe.title.font.size*.83+G,"text-anchor":"middle"}})}},w.drawAx=function(z){var k=this,N=k.graphDiv,K=z._name,q=K.charAt(0),Q=z._id,re=k.layers[K],oe=30,Y=q+"tickLayout",G=i(z);k[Y]!==G&&(re.selectAll("."+Q+"tick").remove(),k[Y]=G),z.setScale();var V=l.calcTicks(z),Z=l.clipEnds(z,V),ae=l.makeTransTickFn(z),ie=l.getTickSigns(z)[2],J=P.deg2rad(oe),$=ie*(z.linewidth||1)/2,se=ie*z.ticklen,ee=k.w,ue=k.h,ge=q==="b"?"M0,"+$+"l"+Math.sin(J)*se+","+Math.cos(J)*se:"M"+$+",0l"+Math.cos(J)*se+","+-Math.sin(J)*se,Te={a:"M0,0l"+ue+",-"+ee/2,b:"M0,0l-"+ee/2+",-"+ue,c:"M0,0l-"+ue+","+ee/2}[q];l.drawTicks(N,z,{vals:z.ticks==="inside"?Z:V,layer:re,path:ge,transFn:ae,crisp:!1}),l.drawGrid(N,z,{vals:Z,layer:k.layers[q+"grid"],path:Te,transFn:ae,crisp:!1}),l.drawLabels(N,z,{vals:V,layer:re,transFn:ae,labelFns:l.makeLabelFns(z,0,oe)})};function i(z){return z.ticks+String(z.ticklen)+String(z.showticklabels)}var E=C.MINZOOM/2+.87,m="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",F="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",_="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",I=!0;w.clearOutline=function(){M(this.dragOptions),S(this.dragOptions.gd)},w.initInteractions=function(){var z=this,k=z.layers.plotbg.select("path").node(),N=z.graphDiv,K=N._fullLayout._zoomlayer,q,Q;this.dragOptions={element:k,gd:N,plotinfo:{id:z.id,domain:N._fullLayout[z.id].domain,xaxis:z.xaxis,yaxis:z.yaxis},subplot:z.id,prepFn:function(Ve,We,ze){z.dragOptions.xaxes=[z.xaxis],z.dragOptions.yaxes=[z.yaxis],q=N._fullLayout._invScaleX,Q=N._fullLayout._invScaleY;var Ze=z.dragOptions.dragmode=N._fullLayout.dragmode;h(Ze)?z.dragOptions.minDrag=1:z.dragOptions.minDrag=void 0,Ze==="zoom"?(z.dragOptions.moveFn=Pe,z.dragOptions.clickFn=ee,z.dragOptions.doneFn=Ie,ue(Ve,We,ze)):Ze==="pan"?(z.dragOptions.moveFn=be,z.dragOptions.clickFn=ee,z.dragOptions.doneFn=_e,Ae(),z.clearOutline(N)):(T(Ze)||h(Ze))&&s(Ve,We,ze,z.dragOptions,Ze)}};var re,oe,Y,G,V,Z,ae,ie,J,$;function se(Ve){var We={};return We[z.id+".aaxis.min"]=Ve.a,We[z.id+".baxis.min"]=Ve.b,We[z.id+".caxis.min"]=Ve.c,We}function ee(Ve,We){var ze=N._fullLayout.clickmode;O(N),Ve===2&&(N.emit("plotly_doubleclick",null),a.call("_guiRelayout",N,se({a:0,b:0,c:0}))),ze.indexOf("select")>-1&&Ve===1&&d(We,N,[z.xaxis],[z.yaxis],z.id,z.dragOptions),ze.indexOf("event")>-1&&n.click(N,We,z.id)}function ue(Ve,We,ze){var Ze=k.getBoundingClientRect();re=We-Ze.left,oe=ze-Ze.top,N._fullLayout._calcInverseTransform(N);var ct=N._fullLayout._invTransform,lt=P.apply3DTransform(ct)(re,oe);re=lt[0],oe=lt[1],Y={a:z.aaxis.range[0],b:z.baxis.range[1],c:z.caxis.range[1]},V=Y,G=z.aaxis.range[1]-Y.a,Z=L(z.graphDiv._fullLayout[z.id].bgcolor).getLuminance(),ae="M0,"+z.h+"L"+z.w/2+", 0L"+z.w+","+z.h+"Z",ie=!1,J=K.append("path").attr("class","zoombox").attr("transform",A(z.x0,z.y0)).style({fill:Z>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ae),$=K.append("path").attr("class","zoombox-corners").attr("transform",A(z.x0,z.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),z.clearOutline(N)}function ge(Ve,We){return 1-We/z.h}function Te(Ve,We){return 1-(Ve+(z.h-We)/Math.sqrt(3))/z.w}function xe(Ve,We){return(Ve-(z.h-We)/Math.sqrt(3))/z.w}function Pe(Ve,We){var ze=re+Ve*q,Ze=oe+We*Q,ct=Math.max(0,Math.min(1,ge(re,oe),ge(ze,Ze))),lt=Math.max(0,Math.min(1,Te(re,oe),Te(ze,Ze))),at=Math.max(0,Math.min(1,xe(re,oe),xe(ze,Ze))),tt=(ct/2+at)*z.w,dt=(1-ct/2-lt)*z.w,wt=(tt+dt)/2,Mt=dt-tt,It=(1-ct)*z.h,$e=It-Mt/b;Mt<C.MINZOOM?(V=Y,J.attr("d",ae),$.attr("d","M0,0Z")):(V={a:Y.a+ct*G,b:Y.b+lt*G,c:Y.c+at*G},J.attr("d",ae+"M"+tt+","+It+"H"+dt+"L"+wt+","+$e+"L"+tt+","+It+"Z"),$.attr("d","M"+re+","+oe+B+"M"+tt+","+It+m+"M"+dt+","+It+F+"M"+wt+","+$e+_)),ie||(J.transition().style("fill",Z>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),ie=!0),N.emit("plotly_relayouting",se(V))}function Ie(){O(N),V!==Y&&(a.call("_guiRelayout",N,se(V)),I&&N.data&&N._context.showTips&&(P.notifier(v(N,"Double-click to zoom back out"),"long"),I=!1))}function Ae(){Y={a:z.aaxis.range[0],b:z.baxis.range[1],c:z.caxis.range[1]},V=Y}function be(Ve,We){var ze=Ve/z.xaxis._m,Ze=We/z.yaxis._m;V={a:Y.a-Ze,b:Y.b+(ze+Ze)/2,c:Y.c-(ze-Ze)/2};var ct=[V.a,V.b,V.c].sort(P.sorterAsc),lt={a:ct.indexOf(V.a),b:ct.indexOf(V.b),c:ct.indexOf(V.c)};ct[0]<0&&(ct[1]+ct[0]/2<0?(ct[2]+=ct[0]+ct[1],ct[0]=ct[1]=0):(ct[2]+=ct[0]/2,ct[1]+=ct[0]/2,ct[0]=0),V={a:ct[lt.a],b:ct[lt.b],c:ct[lt.c]},We=(Y.a-V.a)*z.yaxis._m,Ve=(Y.c-V.c-Y.b+V.b)*z.xaxis._m);var at=A(z.x0+Ve,z.y0+We);z.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",at);var tt=A(-Ve,-We);z.clipDefRelative.select("path").attr("transform",tt),z.aaxis.range=[V.a,z.sum-V.b-V.c],z.baxis.range=[z.sum-V.a-V.c,V.b],z.caxis.range=[z.sum-V.a-V.b,V.c],z.drawAxes(!1),z._hasClipOnAxisFalse&&z.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,z),N.emit("plotly_relayouting",se(V))}function _e(){a.call("_guiRelayout",N,se(V))}k.onmousemove=function(Ve){n.hover(N,Ve,z.id),N._fullLayout._lasthover=k,N._fullLayout._hoversubplot=z.id},k.onmouseout=function(Ve){N._dragging||c.unhover(N,Ve)},c.init(this.dragOptions)};function O(z){p.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(W,U,e){var p=e(47769),L=e(64213),a=e(75138),P=e(41965),A=e(24401).addStyleRule,v=e(1426),g=e(9012),t=e(10820),r=v.extendFlat,u=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(M){if(U.collectableSubplotTypes=null,M)M&&!Array.isArray(M)&&(M=[M]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<M.length;C++){var y=M[C];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":o(y);break;case"transform":n(y);break;case"component":c(y);break;case"locale":x(y);break;case"apiMethod":var w=y.name;U.apiMethodRegistry[w]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(S){var M=U.modules[d(S)];return M?M._module:!1},U.traceIs=function(S,M){if(S=d(S),S==="various")return!1;var C=U.modules[S];return C||(S&&p.log("Unrecognized trace type "+S+"."),C=U.modules[g.type.dflt]),!!C.categories[M]},U.getTransformIndices=function(S,M){for(var C=[],y=S.transforms||[],w=0;w<y.length;w++)y[w].type===M&&C.push(w);return C},U.hasTransform=function(S,M){for(var C=S.transforms||[],y=0;y<C.length;y++)if(C[y].type===M)return!0;return!1},U.getComponentMethod=function(S,M){var C=U.componentsRegistry[S];return C&&C[M]||L},U.call=function(){var S=arguments[0],M=[].slice.call(arguments,1);return U.apiMethodRegistry[S].apply(null,M)};function o(S){var M=S.name,C=S.categories,y=S.meta;if(U.modules[M]){p.log("Type "+M+" already registered");return}U.subplotsRegistry[S.basePlotModule.name]||l(S.basePlotModule);for(var w={},b=0;b<C.length;b++)w[C[b]]=!0,U.allCategories[C[b]]=!0;U.modules[M]={_module:S,categories:w},y&&Object.keys(y).length&&(U.modules[M].meta=y),U.allTypes.push(M);for(var i in U.componentsRegistry)T(i,M);S.layoutAttributes&&r(U.traceLayoutAttributes,S.layoutAttributes);var E=S.basePlotModule,m=E.name;if(m==="mapbox"){var F=E.constants.styleRules;for(var _ in F)A(".js-plotly-plot .plotly .mapboxgl-"+_,F[_])}(m==="geo"||m==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(S){var M=S.name;if(U.subplotsRegistry[M]){p.log("Plot type "+M+" already registered.");return}h(S),U.subplotsRegistry[M]=S;for(var C in U.componentsRegistry)s(C,S.name)}function c(S){if(typeof S.name!="string")throw new Error("Component module *name* must be a string.");var M=S.name;U.componentsRegistry[M]=S,S.layoutAttributes&&(S.layoutAttributes._isLinkedToArray&&a(U.layoutArrayContainers,M),h(S));for(var C in U.modules)T(M,C);for(var y in U.subplotsRegistry)s(M,y);for(var w in U.transformsRegistry)f(M,w);S.schema&&S.schema.layout&&u(t,S.schema.layout)}function n(S){if(typeof S.name!="string")throw new Error("Transform module *name* must be a string.");var M="Transform module "+S.name,C=typeof S.transform=="function",y=typeof S.calcTransform=="function";if(!C&&!y)throw new Error(M+" is missing a *transform* or *calcTransform* method.");C&&y&&p.log([M+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),P(S.attributes)||p.log(M+" registered without an *attributes* object."),typeof S.supplyDefaults!="function"&&p.log(M+" registered without a *supplyDefaults* method."),U.transformsRegistry[S.name]=S;for(var w in U.componentsRegistry)f(w,S.name)}function x(S){var M=S.name,C=M.split("-")[0],y=S.dictionary,w=S.format,b=y&&Object.keys(y).length,i=w&&Object.keys(w).length,E=U.localeRegistry,m=E[M];if(m||(E[M]=m={}),C!==M){var F=E[C];F||(E[C]=F={}),b&&F.dictionary===m.dictionary&&(F.dictionary=y),i&&F.format===m.format&&(F.format=w)}b&&(m.dictionary=y),i&&(m.format=w)}function h(S){if(S.layoutAttributes){var M=S.layoutAttributes._arrayAttrRegexps;if(M)for(var C=0;C<M.length;C++)a(U.layoutArrayRegexes,M[C])}}function T(S,M){var C=U.componentsRegistry[S].schema;if(!(!C||!C.traces)){var y=C.traces[M];y&&u(U.modules[M]._module.attributes,y)}}function f(S,M){var C=U.componentsRegistry[S].schema;if(!(!C||!C.transforms)){var y=C.transforms[M];y&&u(U.transformsRegistry[M].attributes,y)}}function s(S,M){var C=U.componentsRegistry[S].schema;if(!(!C||!C.subplots)){var y=U.subplotsRegistry[M],w=y.layoutAttributes,b=y.attr==="subplot"?y.name:y.attr;Array.isArray(b)&&(b=b[0]);var i=C.subplots[b];w&&i&&u(w,i)}}function d(S){return typeof S=="object"&&(S=S.type),S}},61914:function(W,U,e){var p=e(73972),L=e(71828),a=L.extendFlat,P=L.extendDeep;function A(g){var t;switch(g){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(g){var t=["xaxis","yaxis","zaxis"];return t.indexOf(g.slice(0,5))>-1}W.exports=function(t,r){var u,o=t.data,l=t.layout,c=P([],o),n=P({},l,A(r.tileClass)),x=t._context||{};if(r.width&&(n.width=r.width),r.height&&(n.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){n.annotations=[];var h=Object.keys(n);for(u=0;u<h.length;u++)v(h[u])&&(n[h[u]].title={text:""});for(u=0;u<c.length;u++){var T=c[u];T.showscale=!1,T.marker&&(T.marker.showscale=!1),p.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(r.annotations))for(u=0;u<r.annotations.length;u++)n.annotations.push(r.annotations[u]);var f=Object.keys(n).filter(function(C){return C.match(/^scene\d*$/)});if(f.length){var s={};for(r.tileClass==="thumbnail"&&(s={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),u=0;u<f.length;u++){var d=n[f[u]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,s),a(d.yaxis,s),a(d.zaxis,s),d._scene=null}}var S=document.createElement("div");r.tileClass&&(S.className=r.tileClass);var M={gd:S,td:S,layout:n,data:c,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:x.mapboxAccessToken}};return r.setBackground!=="transparent"&&(M.config.setBackground=r.setBackground||"opaque"),M.gd.defaultLayout=A(r.tileClass),M}},7239:function(W,U,e){var p=e(71828),L=e(403),a=e(22435),P=e(25095);function A(v,g){var t;return p.isPlainObject(v)||(t=p.getGraphDiv(v)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(r,u){t&&t._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),p.isIE()&&g.format!=="svg"&&u(new Error(P.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var o=L(v,g),l=g.filename||v.fn||"newplot";l+="."+g.format.replace("-","."),o.then(function(c){return t&&(t._snapshotInProgress=!1),a(c,l,g.format)}).then(function(c){r(c)}).catch(function(c){t&&(t._snapshotInProgress=!1),u(c)})})}W.exports=A},22435:function(W,U,e){var p=e(71828),L=e(25095);function a(P,A,v){var g=document.createElement("a"),t="download"in g,r=new Promise(function(u,o){var l,c;if(p.isIE())return l=L.createBlob(P,"svg"),window.navigator.msSaveBlob(l,A),l=null,u(A);if(t)return l=L.createBlob(P,v),c=L.createObjectURL(l),g.href=c,g.download=A,document.body.appendChild(g),g.click(),document.body.removeChild(g),L.revokeObjectURL(c),l=null,u(A);if(p.isSafari()){var n=v==="svg"?",":";base64,";return L.octetStream(n+encodeURIComponent(P)),u(A)}o(new Error("download error"))});return r}W.exports=a},25095:function(W,U,e){var p=e(73972);U.getDelay=function(P){return P._has&&(P._has("gl3d")||P._has("gl2d")||P._has("mapbox"))?500:0},U.getRedrawFunc=function(P){return function(){p.getComponentMethod("colorbar","draw")(P)}},U.encodeSVG=function(P){return"data:image/svg+xml,"+encodeURIComponent(P)},U.encodeJSON=function(P){return"data:application/json,"+encodeURIComponent(P)};var L=window.URL||window.webkitURL;U.createObjectURL=function(P){return L.createObjectURL(P)},U.revokeObjectURL=function(P){return L.revokeObjectURL(P)},U.createBlob=function(P,A){if(A==="svg")return new window.Blob([P],{type:"image/svg+xml;charset=utf-8"});if(A==="full-json")return new window.Blob([P],{type:"application/json;charset=utf-8"});var v=a(window.atob(P));return new window.Blob([v],{type:"image/"+A})},U.octetStream=function(P){document.location.href="data:application/octet-stream"+P};function a(P){for(var A=P.length,v=new ArrayBuffer(A),g=new Uint8Array(v),t=0;t<A;t++)g[t]=P.charCodeAt(t);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(W,U,e){var p=e(25095),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};W.exports=L},70942:function(W,U,e){var p=e(71828),L=e(15398).EventEmitter,a=e(25095);function P(A){var v=A.emitter||new L,g=new Promise(function(t,r){var u=window.Image,o=A.svg,l=A.format||"png";if(p.isIE()&&l!=="svg"){var c=new Error(a.MSG_IE_BAD_FORMAT);return r(c),A.promise?g:v.emit("error",c)}var n=A.canvas,x=A.scale||1,h=A.width||300,T=A.height||150,f=x*h,s=x*T,d=n.getContext("2d",{willReadFrequently:!0}),S=new u,M,C;l==="svg"||p.isSafari()?C=a.encodeSVG(o):(M=a.createBlob(o,"svg"),C=a.createObjectURL(M)),n.width=f,n.height=s,S.onload=function(){var y;switch(M=null,a.revokeObjectURL(C),l!=="svg"&&d.drawImage(S,0,0,f,s),l){case"jpeg":y=n.toDataURL("image/jpeg");break;case"png":y=n.toDataURL("image/png");break;case"webp":y=n.toDataURL("image/webp");break;case"svg":y=C;break;default:var w="Image format is not jpeg, png, svg or webp.";if(r(new Error(w)),!A.promise)return v.emit("error",w)}t(y),A.promise||v.emit("success",y)},S.onerror=function(y){if(M=null,a.revokeObjectURL(C),r(y),!A.promise)return v.emit("error",y)},S.src=C});return A.promise?g:v}W.exports=P},56395:function(W,U,e){var p=e(15398).EventEmitter,L=e(73972),a=e(71828),P=e(25095),A=e(61914),v=e(5900),g=e(70942);function t(r,u){var o=new p,l=A(r,{format:"png"}),c=l.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);function n(){var h=P.getDelay(c._fullLayout);setTimeout(function(){var T=v(c),f=document.createElement("canvas");f.id=a.randstr(),o=g({format:u.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:f,emitter:o,svg:T}),o.clean=function(){c&&document.body.removeChild(c)}},h)}var x=P.getRedrawFunc(c);return L.call("_doPlot",c,l.data,l.layout,l.config).then(x).then(n).catch(function(h){o.emit("error",h)}),o}W.exports=t},5900:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(7901),A=e(77922),v=/"/g,g="TOBESTRIPPED",t=new RegExp('("'+g+")|("+g+'")',"g");function r(o){var l=p.select("body").append("div").style({display:"none"}).html(""),c=o.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":l.html(n).text()});return l.remove(),c}function u(o){return o.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}W.exports=function(l,c,n){var x=l._fullLayout,h=x._paper,T=x._toppaper,f=x.width,s=x.height,d;h.insert("rect",":first-child").call(a.setRect,0,0,f,s).call(P.fill,x.paper_bgcolor);var S=x._basePlotModules||[];for(d=0;d<S.length;d++){var M=S[d];M.toSVG&&M.toSVG(l)}if(T){var C=T.node().childNodes,y=Array.prototype.slice.call(C);for(d=0;d<y.length;d++){var w=y[d];w.childNodes.length&&h.node().appendChild(w)}}x._draggers&&x._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&i.style("font-family",E.replace(v,g))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=p.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&i.style("fill",E.replace(v,g));var m=this.style.stroke;m&&m.indexOf("url(")!==-1&&i.style("stroke",m.replace(v,g))}),(c==="pdf"||c==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(A.xmlns,"xmlns",A.svg),h.node().setAttributeNS(A.xmlns,"xmlns:xlink",A.xlink),c==="svg"&&n&&(h.attr("width",n*f),h.attr("height",n*s),h.attr("viewBox","0 0 "+f+" "+s));var b=new window.XMLSerializer().serializeToString(h.node());return b=r(b),b=u(b),b=b.replace(t,"'"),L.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},75341:function(W,U,e){var p=e(71828);W.exports=function(a,P){for(var A=0;A<a.length;A++)a[A].i=A;p.mergeArray(P.text,a,"tx"),p.mergeArray(P.hovertext,a,"htx");var v=P.marker;if(v){p.mergeArray(v.opacity,a,"mo",!0),p.mergeArray(v.color,a,"mc");var g=v.line;g&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"))}}},1486:function(W,U,e){var p=e(82196),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(5386).s,A=e(50693),v=e(41940),g=e(97313),t=e(79952).u,r=e(1426).extendFlat,u=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=p.marker,l=o.line,c=r({},l.width,{dflt:0}),n=r({width:c,editType:"calc"},A("marker.line")),x=r({line:n,editType:"calc"},A("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});W.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:P({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:a({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},u,{}),insidetextfont:r({},u,{}),outsidetextfont:r({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:x,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(W,U,e){var p=e(89298),L=e(42973),a=e(52075).hasColorscale,P=e(78803),A=e(75341),v=e(66279);W.exports=function(t,r){var u=p.getFromId(t,r.xaxis||"x"),o=p.getFromId(t,r.yaxis||"y"),l,c,n,x,h,T,f={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(l=u.makeCalcdata(r,"x",f),n=o.makeCalcdata(r,"y"),x=L(r,o,"y",n),h=!!r.yperiodalignment,T="y"):(l=o.makeCalcdata(r,"y",f),n=u.makeCalcdata(r,"x"),x=L(r,u,"x",n),h=!!r.xperiodalignment,T="x"),c=x.vals;for(var s=Math.min(c.length,l.length),d=new Array(s),S=0;S<s;S++)d[S]={p:c[S],s:l[S]},h&&(d[S].orig_p=n[S],d[S][T+"End"]=x.ends[S],d[S][T+"Start"]=x.starts[S]),r.ids&&(d[S].id=String(r.ids[S]));return a(r,"marker")&&P(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&P(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),A(d,r),v(d,r),d}},97313:function(W){W.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(W,U,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,P=e(73972),A=e(89298),v=e(99082).getAxisGroup,g=e(61546);function t(b,i){for(var E=i.xaxis,m=i.yaxis,F=b._fullLayout,_=b._fullData,B=b.calcdata,I=[],O=[],z=0;z<_.length;z++){var k=_[z];if(k.visible===!0&&P.traceIs(k,"bar")&&k.xaxis===E._id&&k.yaxis===m._id&&(k.orientation==="h"?I.push(B[z]):O.push(B[z]),k._computePh))for(var N=b.calcdata[z],K=0;K<N.length;K++)typeof N[K].ph0=="function"&&(N[K].ph0=N[K].ph0()),typeof N[K].ph1=="function"&&(N[K].ph1=N[K].ph1())}var q={xCat:E.type==="category"||E.type==="multicategory",yCat:m.type==="category"||m.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};r(b,E,m,O,q),r(b,m,E,I,q)}function r(b,i,E,m,F){if(m.length){var _,B,I,O,z;switch(u(E,m),F.mode){case"overlay":o(i,E,m,F);break;case"group":for(_=[],B=[],I=0;I<m.length;I++)O=m[I],z=O[0].trace,z.offset===void 0?B.push(O):_.push(O);B.length&&l(b,i,E,B,F),_.length&&o(i,E,_,F);break;case"stack":case"relative":for(_=[],B=[],I=0;I<m.length;I++)O=m[I],z=O[0].trace,z.base===void 0?B.push(O):_.push(O);B.length&&c(b,i,E,B,F),_.length&&o(i,E,_,F);break}y(m,i)}}function u(b,i){var E,m;for(E=0;E<i.length;E++){var F=i[E],_=F[0].trace,B=_.type==="funnel"?_._base:_.base,I,O=_.orientation==="h"?_.xcalendar:_.ycalendar,z=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(L(B)){for(m=0;m<Math.min(B.length,F.length);m++)I=z(B[m],0,O),p(I)?(F[m].b=+I,F[m].hasB=1):F[m].b=0;for(;m<F.length;m++)F[m].b=0}else{I=z(B,0,O);var k=p(I);for(I=k?I:0,m=0;m<F.length;m++)F[m].b=I,k&&(F[m].hasB=1)}}}function o(b,i,E,m){for(var F=0;F<E.length;F++){var _=E[F],B=new g([_],{posAxis:b,sepNegVal:!1,overlapNoMerge:!m.norm});n(b,B,m),m.norm?(S(B),C(i,B,m)):s(i,B)}}function l(b,i,E,m,F){var _=new g(m,{posAxis:i,sepNegVal:!1,overlapNoMerge:!F.norm});x(b,i,_,F),M(_,i),F.norm?(S(_),C(E,_,F)):s(E,_)}function c(b,i,E,m,F){var _=new g(m,{posAxis:i,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});n(i,_,F),d(E,_,F);for(var B=0;B<m.length;B++)for(var I=m[B],O=0;O<I.length;O++){var z=I[O];if(z.s!==a){var k=z.b+z.s===_.get(z.p,z.s);k&&(z._outmost=!0)}}F.norm&&C(E,_,F)}function n(b,i,E){for(var m=i.minDiff,F=i.traces,_=m*(1-E.gap),B=_,I=B*(1-(E.groupgap||0)),O=-I/2,z=0;z<F.length;z++){var k=F[z],N=k[0].t;N.barwidth=I,N.poffset=O,N.bargroupwidth=_,N.bardelta=m}i.binWidth=F[0][0].t.barwidth/100,h(i),T(b,i),f(b,i)}function x(b,i,E,m){for(var F=b._fullLayout,_=E.positions,B=E.distinctPositions,I=E.minDiff,O=E.traces,z=O.length,k=_.length!==B.length,N=I*(1-m.gap),K=v(F,i._id)+O[0][0].trace.orientation,q=F._alignmentOpts[K]||{},Q=0;Q<z;Q++){var re=O[Q],oe=re[0].trace,Y=q[oe.alignmentgroup]||{},G=Object.keys(Y.offsetGroups||{}).length,V;G?V=N/G:V=k?N/z:N;var Z=V*(1-(m.groupgap||0)),ae;G?ae=((2*oe._offsetIndex+1-G)*V-Z)/2:ae=k?((2*Q+1-z)*V-Z)/2:-Z/2;var ie=re[0].t;ie.barwidth=Z,ie.poffset=ae,ie.bargroupwidth=N,ie.bardelta=I}E.binWidth=O[0][0].t.barwidth/100,h(E),T(i,E),f(i,E,k)}function h(b){var i=b.traces,E,m;for(E=0;E<i.length;E++){var F=i[E],_=F[0],B=_.trace,I=_.t,O=B._offset||B.offset,z=I.poffset,k;if(L(O)){for(k=Array.prototype.slice.call(O,0,F.length),m=0;m<k.length;m++)p(k[m])||(k[m]=z);for(m=k.length;m<F.length;m++)k.push(z);I.poffset=k}else O!==void 0&&(I.poffset=O);var N=B._width||B.width,K=I.barwidth;if(L(N)){var q=Array.prototype.slice.call(N,0,F.length);for(m=0;m<q.length;m++)p(q[m])||(q[m]=K);for(m=q.length;m<F.length;m++)q.push(K);if(I.barwidth=q,O===void 0){for(k=[],m=0;m<F.length;m++)k.push(z+(K-q[m])/2);I.poffset=k}}else N!==void 0&&(I.barwidth=N,O===void 0&&(I.poffset=z+(K-N)/2))}}function T(b,i){for(var E=i.traces,m=w(b),F=0;F<E.length;F++)for(var _=E[F],B=_[0].t,I=B.poffset,O=Array.isArray(I),z=B.barwidth,k=Array.isArray(z),N=0;N<_.length;N++){var K=_[N],q=K.w=k?z[N]:z;K.p===void 0&&(K.p=K[m],K["orig_"+m]=K[m]);var Q=(O?I[N]:I)+q/2;K[m]=K.p+Q}}function f(b,i,E){var m=i.traces,F=i.minDiff,_=F/2;A.minDtick(b,i.minDiff,i.distinctPositions[0],E);for(var B=0;B<m.length;B++){var I=m[B],O=I[0],z=O.trace,k=[],N,K,q,Q;for(Q=0;Q<I.length;Q++)N=I[Q],K=N.p-_,q=N.p+_,k.push(K,q);if(z.width||z.offset){var re=O.t,oe=re.poffset,Y=re.barwidth,G=Array.isArray(oe),V=Array.isArray(Y);for(Q=0;Q<I.length;Q++){N=I[Q];var Z=G?oe[Q]:oe,ae=V?Y[Q]:Y;K=N.p+Z,q=K+ae,k.push(K,q)}}z._extremes[b._id]=A.findExtremes(b,k,{padded:!1})}}function s(b,i){for(var E=i.traces,m=w(b),F=0;F<E.length;F++){for(var _=E[F],B=_[0].trace,I=B.type==="scatter",O=B.orientation==="v",z=[],k=!1,N=0;N<_.length;N++){var K=_[N],q=I?0:K.b,Q=I?O?K.y:K.x:q+K.s;K[m]=Q,z.push(Q),K.hasB&&z.push(q),(!K.hasB||!K.b)&&(k=!0)}B._extremes[b._id]=A.findExtremes(b,z,{tozero:k,padded:!0})}}function d(b,i,E){var m=w(b),F=i.traces,_,B,I,O,z,k;for(O=0;O<F.length;O++)if(_=F[O],B=_[0].trace,B.type==="funnel")for(z=0;z<_.length;z++)k=_[z],k.s!==a&&i.put(k.p,-.5*k.s);for(O=0;O<F.length;O++){_=F[O],B=_[0].trace,I=B.type==="funnel";var N=[];for(z=0;z<_.length;z++)if(k=_[z],k.s!==a){var K;I?K=k.s:K=k.s+k.b;var q=i.put(k.p,K),Q=q+K;k.b=q,k[m]=Q,E.norm||(N.push(Q),k.hasB&&N.push(q))}E.norm||(B._extremes[b._id]=A.findExtremes(b,N,{tozero:!0,padded:!0}))}}function S(b){for(var i=b.traces,E=0;E<i.length;E++)for(var m=i[E],F=0;F<m.length;F++){var _=m[F];_.s!==a&&b.put(_.p,_.b+_.s)}}function M(b,i){for(var E=b.traces,m=0;m<E.length;m++){var F=E[m],_=F[0].trace;if(_.base===void 0)for(var B=new g([F],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),I=0;I<F.length;I++){var O=F[I];if(O.p!==a){var z=B.put(O.p,O.b+O.s);z&&(O.b=z)}}}}function C(b,i,E){var m=i.traces,F=w(b),_=E.norm==="fraction"?1:100,B=_/1e9,I=b.l2c(b.c2l(0)),O=E.mode==="stack"?_:I;function z(ae){return p(b.c2l(ae))&&(ae<I-B||ae>O+B||!p(I))}for(var k=0;k<m.length;k++){for(var N=m[k],K=N[0].trace,q=[],Q=!1,re=!1,oe=0;oe<N.length;oe++){var Y=N[oe];if(Y.s!==a){var G=Math.abs(_/i.get(Y.p,Y.s));Y.b*=G,Y.s*=G;var V=Y.b,Z=V+Y.s;Y[F]=Z,q.push(Z),re=re||z(Z),Y.hasB&&(q.push(V),re=re||z(V)),(!Y.hasB||!Y.b)&&(Q=!0)}}K._extremes[b._id]=A.findExtremes(b,q,{tozero:Q,padded:re})}}function y(b,i){var E=w(i),m={},F,_,B,I=1/0,O=-1/0;for(F=0;F<b.length;F++)for(B=b[F],_=0;_<B.length;_++){var z=B[_].p;p(z)&&(I=Math.min(I,z),O=Math.max(O,z))}var k=1e4/(O-I),N=m.round=function(G){return String(Math.round(k*(G-I)))};for(F=0;F<b.length;F++){B=b[F],B[0].t.extents=m;var K=B[0].t.poffset,q=Array.isArray(K);for(_=0;_<B.length;_++){var Q=B[_],re=Q[E]-Q.w/2;if(p(re)){var oe=Q[E]+Q.w/2,Y=N(Q.p);m[Y]?m[Y]=[Math.min(re,m[Y][0]),Math.max(oe,m[Y][1])]:m[Y]=[re,oe]}Q.p0=Q.p+(q?K[_]:K),Q.p1=Q.p0+Q.w,Q.s0=Q.b,Q.s1=Q.s0+Q.s}}}function w(b){return b._id.charAt(0)}W.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(W,U,e){var p=e(71828),L=e(7901),a=e(73972),P=e(67513),A=e(73927),v=e(98340),g=e(26125),t=e(1486),r=p.coerceFont;function u(c,n,x,h){function T(M,C){return p.coerce(c,n,t,M,C)}var f=P(c,n,h,T);if(!f){n.visible=!1;return}A(c,n,h,T),T("xhoverformat"),T("yhoverformat"),T("orientation",n.x&&!n.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var s=T("textposition");l(c,n,h,T,s,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(c,n,T,x,h);var d=(n.marker.line||{}).color,S=a.getComponentMethod("errorbars","supplyDefaults");S(c,n,d||L.defaultLine,{axis:"y"}),S(c,n,d||L.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(n,T)}function o(c,n){var x,h;function T(s){return p.coerce(h._input,h,t,s)}if(n.barmode==="group")for(var f=0;f<c.length;f++)h=c[f],h.type==="bar"&&(x=h._input,g(x,h,n,T))}function l(c,n,x,h,T,f){f=f||{};var s=f.moduleHasSelected!==!1,d=f.moduleHasUnselected!==!1,S=f.moduleHasConstrain!==!1,M=f.moduleHasCliponaxis!==!1,C=f.moduleHasTextangle!==!1,y=f.moduleHasInsideanchor!==!1,w=!!f.hasPathbar,b=Array.isArray(T)||T==="auto",i=b||T==="inside",E=b||T==="outside";if(i||E){var m=r(h,"textfont",x.font),F=p.extendFlat({},m),_=c.textfont&&c.textfont.color,B=!_;if(B&&delete F.color,r(h,"insidetextfont",F),w){var I=p.extendFlat({},m);B&&delete I.color,r(h,"pathbar.textfont",I)}E&&r(h,"outsidetextfont",m),s&&h("selected.textfont.color"),d&&h("unselected.textfont.color"),S&&h("constraintext"),M&&h("cliponaxis"),C&&h("textangle"),h("texttemplate")}i&&y&&h("insidetextanchor")}W.exports={supplyDefaults:u,crossTraceDefaults:o,handleText:l}},58065:function(W){W.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(W,U,e){var p=e(92770),L=e(84267),a=e(71828).isArrayOrTypedArray;U.coerceString=function(P,A,v){if(typeof A=="string"){if(A||!P.noBlank)return A}else if((typeof A=="number"||A===!0)&&!P.strict)return String(A);return v!==void 0?v:P.dflt},U.coerceNumber=function(P,A,v){if(p(A)){A=+A;var g=P.min,t=P.max,r=g!==void 0&&A<g||t!==void 0&&A>t;if(!r)return A}return v!==void 0?v:P.dflt},U.coerceColor=function(P,A,v){return L(A).isValid()?A:v!==void 0?v:P.dflt},U.coerceEnumerated=function(P,A,v){return P.coerceNumber&&(A=+A),P.values.indexOf(A)!==-1?A:v!==void 0?v:P.dflt},U.getValue=function(P,A){var v;return Array.isArray(P)?A<P.length&&(v=P[A]):v=P,v},U.getLineWidth=function(P,A){var v=0<A.mlw?A.mlw:a(P.marker.line.width)?0:P.marker.line.width;return v}},95423:function(W,U,e){var p=e(30211),L=e(73972),a=e(7901),P=e(71828).fillText,A=e(69383).getLineWidth,v=e(89298).hoverLabelText,g=e(50606).BADNUM;function t(o,l,c,n,x){var h=r(o,l,c,n,x);if(h){var T=h.cd,f=T[0].trace,s=T[h.index];return h.color=u(f,s),L.getComponentMethod("errorbars","hoverInfo")(s,f,h),[h]}}function r(o,l,c,n,x){var h=o.cd,T=h[0].trace,f=h[0].t,s=n==="closest",d=T.type==="waterfall",S=o.maxHoverDistance,M=o.maxSpikeDistance,C,y,w,b,i,E,m;T.orientation==="h"?(C=c,y=l,w="y",b="x",i=oe,E=q):(C=l,y=c,w="x",b="y",E=oe,i=q);var F=T[w+"period"],_=s||F;function B(ue){return O(ue,-1)}function I(ue){return O(ue,1)}function O(ue,ge){var Te=ue.w;return ue[w]+ge*Te/2}function z(ue){return ue[w+"End"]-ue[w+"Start"]}var k=s?B:F?function(ue){return ue.p-z(ue)/2}:function(ue){return Math.min(B(ue),ue.p-f.bardelta/2)},N=s?I:F?function(ue){return ue.p+z(ue)/2}:function(ue){return Math.max(I(ue),ue.p+f.bardelta/2)};function K(ue,ge,Te){return x.finiteRange&&(Te=0),p.inbox(ue-C,ge-C,Te+Math.min(1,Math.abs(ge-ue)/m)-1)}function q(ue){return K(k(ue),N(ue),S)}function Q(ue){return K(B(ue),I(ue),M)}function re(ue){var ge=ue[b];if(d){var Te=Math.abs(ue.rawS)||0;y>0?ge+=Te:y<0&&(ge-=Te)}return ge}function oe(ue){var ge=y,Te=ue.b,xe=re(ue);return p.inbox(Te-ge,xe-ge,S+(xe-ge)/(xe-Te)-1)}function Y(ue){var ge=y,Te=ue.b,xe=re(ue);return p.inbox(Te-ge,xe-ge,M+(xe-ge)/(xe-Te)-1)}var G=o[w+"a"],V=o[b+"a"];m=Math.abs(G.r2c(G.range[1])-G.r2c(G.range[0]));function Z(ue){return(i(ue)+E(ue))/2}var ae=p.getDistanceFunction(n,i,E,Z);if(p.getClosest(h,ae,o),o.index!==!1&&h[o.index].p!==g){_||(k=function(ue){return Math.min(B(ue),ue.p-f.bargroupwidth/2)},N=function(ue){return Math.max(I(ue),ue.p+f.bargroupwidth/2)});var ie=o.index,J=h[ie],$=T.base?J.b+J.s:J.s;o[b+"0"]=o[b+"1"]=V.c2p(J[b],!0),o[b+"LabelVal"]=$;var se=f.extents[f.extents.round(J.p)];o[w+"0"]=G.c2p(s?k(J):se[0],!0),o[w+"1"]=G.c2p(s?N(J):se[1],!0);var ee=J.orig_p!==void 0;return o[w+"LabelVal"]=ee?J.orig_p:J.p,o.labelLabel=v(G,o[w+"LabelVal"],T[w+"hoverformat"]),o.valueLabel=v(V,o[b+"LabelVal"],T[b+"hoverformat"]),o.baseLabel=v(V,J.b,T[b+"hoverformat"]),o.spikeDistance=(Y(J)+Q(J))/2,o[w+"Spike"]=G.c2p(J.p,!0),P(J,T,o),o.hovertemplate=T.hovertemplate,o}}function u(o,l){var c=l.mcc||o.marker.color,n=l.mlcc||o.marker.line.color,x=A(o,l);if(a.opacity(c))return c;if(a.opacity(n)&&x)return n}W.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:u}},60822:function(W,U,e){W.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(W,U,e){var p=e(73972),L=e(89298),a=e(71828),P=e(43641);W.exports=function(A,v,g){function t(f,s){return a.coerce(A,v,P,f,s)}for(var r=!1,u=!1,o=!1,l={},c=t("barmode"),n=0;n<g.length;n++){var x=g[n];if(p.traceIs(x,"bar")&&x.visible)r=!0;else continue;if(c==="group"){var h=x.xaxis+x.yaxis;l[h]&&(o=!0),l[h]=!0}if(x.visible&&x.type==="histogram"){var T=L.getFromId({_fullLayout:v},x[x.orientation==="v"?"xaxis":"yaxis"]);T.type!=="category"&&(u=!0)}}if(!r){delete v.barmode;return}c!=="overlay"&&t("barnorm"),t("bargap",u&&!o?0:.2),t("bargroupgap")}},17295:function(W,U,e){var p=e(39898),L=e(92770),a=e(71828),P=e(63893),A=e(7901),v=e(91424),g=e(73972),t=e(89298).tickText,r=e(72597),u=r.recordMinTextSize,o=r.clearMinTextSize,l=e(16688),c=e(69383),n=e(97313),x=e(1486),h=x.text,T=x.textposition,f=e(23469).appendArrayPointValue,s=n.TEXTPAD;function d(k){return k.id}function S(k){if(k.ids)return d}function M(k,N){return k<N?1:-1}function C(k,N,K,q){var Q=[],re=[],oe=q?N:K,Y=q?K:N;return Q[0]=oe.c2p(k.s0,!0),re[0]=Y.c2p(k.p0,!0),Q[1]=oe.c2p(k.s1,!0),re[1]=Y.c2p(k.p1,!0),q?[Q,re]:[re,Q]}function y(k,N,K,q){if(!N.uniformtext.mode&&w(K)){var Q;return q&&(Q=q()),k.transition().duration(K.duration).ease(K.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()})}else return k}function w(k){return k&&k.duration>0}function b(k,N,K,q,Q,re){var oe=N.xaxis,Y=N.yaxis,G=k._fullLayout;Q||(Q={mode:G.barmode,norm:G.barmode,gap:G.bargap,groupgap:G.bargroupgap},o("bar",G));var V=a.makeTraceGroups(q,K,"trace bars").each(function(Z){var ae=p.select(this),ie=Z[0].trace,J=ie.type==="waterfall",$=ie.type==="funnel",se=ie.type==="bar",ee=se||$,ue=0;J&&ie.connector.visible&&ie.connector.mode==="between"&&(ue=ie.connector.line.width/2);var ge=ie.orientation==="h",Te=w(Q),xe=a.ensureSingle(ae,"g","points"),Pe=S(ie),Ie=xe.selectAll("g.point").data(a.identity,Pe);Ie.enter().append("g").classed("point",!0),Ie.exit().remove(),Ie.each(function(be,_e){var Ve=p.select(this),We=C(be,oe,Y,ge),ze=We[0][0],Ze=We[0][1],ct=We[1][0],lt=We[1][1],at=(ge?Ze-ze:lt-ct)===0;at&&ee&&c.getLineWidth(ie,be)&&(at=!1),at||(at=!L(ze)||!L(Ze)||!L(ct)||!L(lt)),be.isBlank=at,at&&(ge?Ze=ze:lt=ct),ue&&!at&&(ge?(ze-=M(ze,Ze)*ue,Ze+=M(ze,Ze)*ue):(ct-=M(ct,lt)*ue,lt+=M(ct,lt)*ue));var tt,dt;if(ie.type==="waterfall"){if(!at){var wt=ie[be.dir].marker;tt=wt.line.width,dt=wt.color}}else tt=c.getLineWidth(ie,be),dt=be.mc||ie.marker.color;function Mt(it){var Je=p.round(tt/2%1,2);return Q.gap===0&&Q.groupgap===0?p.round(Math.round(it)-Je,2):it}function It(it,Je,Re){return Re&&it===Je?it:Math.abs(it-Je)>=2?Mt(it):it>Je?Math.ceil(it):Math.floor(it)}if(!k._context.staticPlot){var $e=A.opacity(dt),ke=$e<1||tt>.01?Mt:It;ze=ke(ze,Ze,ge),Ze=ke(Ze,ze,ge),ct=ke(ct,lt,!ge),lt=ke(lt,ct,!ge)}var Fe=y(a.ensureSingle(Ve,"path"),G,Q,re);if(Fe.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Ze-ze)*(lt-ct))||at&&k._context.staticPlot?"M0,0Z":"M"+ze+","+ct+"V"+lt+"H"+Ze+"V"+ct+"Z").call(v.setClipUrl,N.layerClipId,k),!G.uniformtext.mode&&Te){var qe=v.makePointStyleFns(ie);v.singlePointStyle(be,Fe,ie,qe,k)}i(k,N,Ve,Z,_e,ze,Ze,ct,lt,Q,re),N.layerClipId&&v.hideOutsideRangePoint(be,Ve.select("text"),oe,Y,ie.xcalendar,ie.ycalendar)});var Ae=ie.cliponaxis===!1;v.setClipUrl(ae,Ae?null:N.layerClipId,k)});g.getComponentMethod("errorbars","plot")(k,V,N,Q)}function i(k,N,K,q,Q,re,oe,Y,G,V,Z){var ae=N.xaxis,ie=N.yaxis,J=k._fullLayout,$;function se(Je,Re,Me){var fe=a.ensureSingle(Je,"text").text(Re).attr({class:"bartext bartext-"+$,"text-anchor":"middle","data-notex":1}).call(v.font,Me).call(P.convertToTspans,k);return fe}var ee=q[0].trace,ue=ee.orientation==="h",ge=B(J,q,Q,ae,ie);$=I(ee,Q);var Te=V.mode==="stack"||V.mode==="relative",xe=q[Q],Pe=!Te||xe._outmost;if(!ge||$==="none"||(xe.isBlank||re===oe||Y===G)&&($==="auto"||$==="inside")){K.select("text").remove();return}var Ie=J.font,Ae=l.getBarColor(q[Q],ee),be=l.getInsideTextFont(ee,Q,Ie,Ae),_e=l.getOutsideTextFont(ee,Q,Ie),Ve=K.datum();ue?ae.type==="log"&&Ve.s0<=0&&(ae.range[0]<ae.range[1]?re=0:re=ae._length):ie.type==="log"&&Ve.s0<=0&&(ie.range[0]<ie.range[1]?Y=ie._length:Y=0);var We=Math.abs(oe-re)-2*s,ze=Math.abs(G-Y)-2*s,Ze,ct,lt,at,tt;if($==="outside"&&!Pe&&!xe.hasB&&($="inside"),$==="auto")if(Pe){$="inside",tt=a.ensureUniformFontSize(k,be),Ze=se(K,ge,tt),ct=v.bBox(Ze.node()),lt=ct.width,at=ct.height;var dt=lt>0&&at>0,wt=lt<=We&&at<=ze,Mt=lt<=ze&&at<=We,It=ue?We>=lt*(ze/at):ze>=at*(We/lt);dt&&(wt||Mt||It)?$="inside":($="outside",Ze.remove(),Ze=null)}else $="inside";if(!Ze){tt=a.ensureUniformFontSize(k,$==="outside"?_e:be),Ze=se(K,ge,tt);var $e=Ze.attr("transform");if(Ze.attr("transform",""),ct=v.bBox(Ze.node()),lt=ct.width,at=ct.height,Ze.attr("transform",$e),lt<=0||at<=0){Ze.remove();return}}var ke=ee.textangle,Fe,qe;$==="outside"?(qe=ee.constraintext==="both"||ee.constraintext==="outside",Fe=_(re,oe,Y,G,ct,{isHorizontal:ue,constrained:qe,angle:ke})):(qe=ee.constraintext==="both"||ee.constraintext==="inside",Fe=F(re,oe,Y,G,ct,{isHorizontal:ue,constrained:qe,angle:ke,anchor:ee.insidetextanchor})),Fe.fontSize=tt.size,u(ee.type==="histogram"?"bar":ee.type,Fe,J),xe.transform=Fe;var it=y(Ze,J,V,Z);a.setTransormAndDisplay(it,Fe)}function E(k){return k==="auto"?0:k}function m(k,N){var K=Math.PI/180*N,q=Math.abs(Math.sin(K)),Q=Math.abs(Math.cos(K));return{x:k.width*Q+k.height*q,y:k.width*q+k.height*Q}}function F(k,N,K,q,Q,re){var oe=!!re.isHorizontal,Y=!!re.constrained,G=re.angle||0,V=re.anchor||"end",Z=V==="end",ae=V==="start",ie=re.leftToRight||0,J=(ie+1)/2,$=1-J,se=Q.width,ee=Q.height,ue=Math.abs(N-k),ge=Math.abs(q-K),Te=ue>2*s&&ge>2*s?s:0;ue-=2*Te,ge-=2*Te;var xe=E(G);G==="auto"&&!(se<=ue&&ee<=ge)&&(se>ue||ee>ge)&&(!(se>ge||ee>ue)||se<ee!=ue<ge)&&(xe+=90);var Pe=m(Q,xe),Ie=1;Y&&(Ie=Math.min(1,ue/Pe.x,ge/Pe.y));var Ae=Q.left*$+Q.right*J,be=(Q.top+Q.bottom)/2,_e=(k+s)*$+(N-s)*J,Ve=(K+q)/2,We=0,ze=0;if(ae||Z){var Ze=(oe?Pe.x:Pe.y)/2,ct=oe?M(k,N):M(K,q);oe?ae?(_e=k+ct*Te,We=-ct*Ze):(_e=N-ct*Te,We=ct*Ze):ae?(Ve=K+ct*Te,ze=-ct*Ze):(Ve=q-ct*Te,ze=ct*Ze)}return{textX:Ae,textY:be,targetX:_e,targetY:Ve,anchorX:We,anchorY:ze,scale:Ie,rotate:xe}}function _(k,N,K,q,Q,re){var oe=!!re.isHorizontal,Y=!!re.constrained,G=re.angle||0,V=Q.width,Z=Q.height,ae=Math.abs(N-k),ie=Math.abs(q-K),J;oe?J=ie>2*s?s:0:J=ae>2*s?s:0;var $=1;Y&&($=oe?Math.min(1,ie/Z):Math.min(1,ae/V));var se=E(G),ee=m(Q,se),ue=(oe?ee.x:ee.y)/2,ge=(Q.left+Q.right)/2,Te=(Q.top+Q.bottom)/2,xe=(k+N)/2,Pe=(K+q)/2,Ie=0,Ae=0,be=oe?M(N,k):M(K,q);return oe?(xe=N-be*J,Ie=be*ue):(Pe=q+be*J,Ae=-be*ue),{textX:ge,textY:Te,targetX:xe,targetY:Pe,anchorX:Ie,anchorY:Ae,scale:$,rotate:se}}function B(k,N,K,q,Q){var re=N[0].trace,oe=re.texttemplate,Y;return oe?Y=O(k,N,K,q,Q):re.textinfo?Y=z(N,K,q,Q):Y=c.getValue(re.text,K),c.coerceString(h,Y)}function I(k,N){var K=c.getValue(k.textposition,N);return c.coerceEnumerated(T,K)}function O(k,N,K,q,Q){var re=N[0].trace,oe=a.castOption(re,K,"texttemplate");if(!oe)return"";var Y=re.type==="histogram",G=re.type==="waterfall",V=re.type==="funnel",Z=re.orientation==="h",ae,ie,J,$;Z?(ae="y",ie=Q,J="x",$=q):(ae="x",ie=q,J="y",$=Q);function se(Ie){return t(ie,ie.c2l(Ie),!0).text}function ee(Ie){return t($,$.c2l(Ie),!0).text}var ue=N[K],ge={};ge.label=ue.p,ge.labelLabel=ge[ae+"Label"]=se(ue.p);var Te=a.castOption(re,ue.i,"text");(Te===0||Te)&&(ge.text=Te),ge.value=ue.s,ge.valueLabel=ge[J+"Label"]=ee(ue.s);var xe={};f(xe,re,ue.i),(Y||xe.x===void 0)&&(xe.x=Z?ge.value:ge.label),(Y||xe.y===void 0)&&(xe.y=Z?ge.label:ge.value),(Y||xe.xLabel===void 0)&&(xe.xLabel=Z?ge.valueLabel:ge.labelLabel),(Y||xe.yLabel===void 0)&&(xe.yLabel=Z?ge.labelLabel:ge.valueLabel),G&&(ge.delta=+ue.rawS||ue.s,ge.deltaLabel=ee(ge.delta),ge.final=ue.v,ge.finalLabel=ee(ge.final),ge.initial=ge.final-ge.delta,ge.initialLabel=ee(ge.initial)),V&&(ge.value=ue.s,ge.valueLabel=ee(ge.value),ge.percentInitial=ue.begR,ge.percentInitialLabel=a.formatPercent(ue.begR),ge.percentPrevious=ue.difR,ge.percentPreviousLabel=a.formatPercent(ue.difR),ge.percentTotal=ue.sumR,ge.percenTotalLabel=a.formatPercent(ue.sumR));var Pe=a.castOption(re,ue.i,"customdata");return Pe&&(ge.customdata=Pe),a.texttemplateString(oe,ge,k._d3locale,xe,ge,re._meta||{})}function z(k,N,K,q){var Q=k[0].trace,re=Q.orientation==="h",oe=Q.type==="waterfall",Y=Q.type==="funnel";function G(Pe){var Ie=re?q:K;return t(Ie,Pe,!0).text}function V(Pe){var Ie=re?K:q;return t(Ie,+Pe,!0).text}var Z=Q.textinfo,ae=k[N],ie=Z.split("+"),J=[],$,se=function(Pe){return ie.indexOf(Pe)!==-1};if(se("label")&&J.push(G(k[N].p)),se("text")&&($=a.castOption(Q,ae.i,"text"),($===0||$)&&J.push($)),oe){var ee=+ae.rawS||ae.s,ue=ae.v,ge=ue-ee;se("initial")&&J.push(V(ge)),se("delta")&&J.push(V(ee)),se("final")&&J.push(V(ue))}if(Y){se("value")&&J.push(V(ae.s));var Te=0;se("percent initial")&&Te++,se("percent previous")&&Te++,se("percent total")&&Te++;var xe=Te>1;se("percent initial")&&($=a.formatPercent(ae.begR),xe&&($+=" of initial"),J.push($)),se("percent previous")&&($=a.formatPercent(ae.difR),xe&&($+=" of previous"),J.push($)),se("percent total")&&($=a.formatPercent(ae.sumR),xe&&($+=" of total"),J.push($))}return J.join("<br>")}W.exports={plot:b,toMoveInsideBar:F}},81974:function(W){W.exports=function(p,L){var a=p.cd,P=p.xaxis,A=p.yaxis,v=a[0].trace,g=v.type==="funnel",t=v.orientation==="h",r=[],u;if(L===!1)for(u=0;u<a.length;u++)a[u].selected=0;else for(u=0;u<a.length;u++){var o=a[u],l="ct"in o?o.ct:U(o,P,A,t,g);L.contains(l,!1,u,p)?(r.push({pointNumber:u,x:P.c2d(o.x),y:A.c2d(o.y)}),o.selected=1):o.selected=0}return r};function U(e,p,L,a,P){var A=p.c2p(a?e.s0:e.p0,!0),v=p.c2p(a?e.s1:e.p1,!0),g=L.c2p(a?e.p0:e.s0,!0),t=L.c2p(a?e.p1:e.s1,!0);return P?[(A+v)/2,(g+t)/2]:a?[v,(g+t)/2]:[(A+v)/2,t]}},61546:function(W,U,e){W.exports=L;var p=e(71828).distinctVals;function L(a,P){this.traces=a,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var A=1/0,v=P.posAxis._id.charAt(0),g=[],t=0;t<a.length;t++){for(var r=a[t],u=0;u<r.length;u++){var o=r[u],l=o.p;l===void 0&&(l=o[v]),l!==void 0&&g.push(l)}r[0]&&r[0].width1&&(A=Math.min(r[0].width1,A))}this.positions=g;var c=p(g);this.distinctPositions=c.vals,c.vals.length===1&&A!==1/0?this.minDiff=A:this.minDiff=Math.min(c.minDiff,A);var n=(P.posAxis||{}).type;(n==="category"||n==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(P,A){var v=this.getLabel(P,A),g=this.bins[v]||0;return this.bins[v]=g+A,g},L.prototype.get=function(P,A){var v=this.getLabel(P,A);return this.bins[v]||0},L.prototype.getLabel=function(P,A){var v=A<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?P:Math.round(P/this.binWidth);return v+g}},16688:function(W,U,e){var p=e(39898),L=e(7901),a=e(91424),P=e(71828),A=e(73972),v=e(72597).resizeText,g=e(1486),t=g.textfont,r=g.insidetextfont,u=g.outsidetextfont,o=e(69383);function l(y){var w=p.select(y).selectAll("g.barlayer").selectAll("g.trace");v(y,w,"bar");var b=w.size(),i=y._fullLayout;w.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(i.barmode==="stack"&&b>1||i.bargap===0&&i.bargroupgap===0&&!E[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),w.selectAll("g.points").each(function(E){var m=p.select(this),F=E[0].trace;c(m,F,y)}),A.getComponentMethod("errorbars","style")(w)}function c(y,w,b){a.pointStyle(y.selectAll("path"),w,b),n(y,w,b)}function n(y,w,b){y.selectAll("text").each(function(i){var E=p.select(this),m=P.ensureUniformFontSize(b,f(E,i,w,b));a.font(E,m)})}function x(y,w,b){var i=w[0].trace;i.selectedpoints?h(b,i,y):(c(b,i,y),A.getComponentMethod("errorbars","style")(b))}function h(y,w,b){a.selectedPointStyle(y.selectAll("path"),w),T(y.selectAll("text"),w,b)}function T(y,w,b){y.each(function(i){var E=p.select(this),m;if(i.selected){m=P.ensureUniformFontSize(b,f(E,i,w,b));var F=w.selected.textfont&&w.selected.textfont.color;F&&(m.color=F),a.font(E,m)}else a.selectedTextStyle(E,w)})}function f(y,w,b,i){var E=i._fullLayout.font,m=b.textfont;if(y.classed("bartext-inside")){var F=C(w,b);m=d(b,w.i,E,F)}else y.classed("bartext-outside")&&(m=S(b,w.i,E));return m}function s(y,w,b){return M(t,y.textfont,w,b)}function d(y,w,b,i){var E=s(y,w,b),m=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[w]===void 0;return m&&(E={color:L.contrast(i),family:E.family,size:E.size}),M(r,y.insidetextfont,w,E)}function S(y,w,b){var i=s(y,w,b);return M(u,y.outsidetextfont,w,i)}function M(y,w,b,i){w=w||{};var E=o.getValue(w.family,b),m=o.getValue(w.size,b),F=o.getValue(w.color,b);return{family:o.coerceString(y.family,E,i.family),size:o.coerceNumber(y.size,m,i.size),color:o.coerceColor(y.color,F,i.color)}}function C(y,w){return w.type==="waterfall"?w[y.dir].marker.color:y.mcc||y.mc||w.marker.color}W.exports={style:l,styleTextPoints:n,styleOnSelect:x,getInsideTextFont:d,getOutsideTextFont:S,getBarColor:C,resizeText:v}},98340:function(W,U,e){var p=e(7901),L=e(52075).hasColorscale,a=e(1586),P=e(71828).coercePattern;W.exports=function(v,g,t,r,u){var o=t("marker.color",r),l=L(v,"marker");l&&a(v,g,u,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",p.defaultLine),L(v,"marker.line")&&a(v,g,u,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),P(t,"marker.pattern",o,l),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(W,U,e){var p=e(39898),L=e(71828);function a(g,t,r){var u=g._fullLayout,o=u["_"+r+"Text_minsize"];if(o){var l=u.uniformtext.mode==="hide",c;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}t.selectAll(c).each(function(n){var x=n.transform;if(x){x.scale=l&&x.hide?0:o/x.fontSize;var h=p.select(this).select("text");L.setTransormAndDisplay(h,x)}})}}function P(g,t,r){if(r.uniformtext.mode){var u=v(g),o=r.uniformtext.minsize,l=t.scale*t.fontSize;t.hide=l<o,r[u]=r[u]||1/0,t.hide||(r[u]=Math.min(r[u],Math.max(l,o)))}}function A(g,t){var r=v(g);t[r]=void 0}function v(g){return"_"+g+"Text_minsize"}W.exports={recordMinTextSize:P,clearMinTextSize:A,resizeText:a}},55023:function(W,U,e){var p=e(5386).f,L=e(1426).extendFlat,a=e(81245),P=e(1486);W.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:L({},P.base,{}),offset:L({},P.offset,{}),width:L({},P.width,{}),text:L({},P.text,{}),hovertext:L({},P.hovertext,{}),marker:P.marker,hoverinfo:a.hoverinfo,hovertemplate:p(),selected:P.selected,unselected:P.unselected}},74692:function(W,U,e){var p=e(52075).hasColorscale,L=e(78803),a=e(75341),P=e(11661).setGroupPositions,A=e(66279),v=e(73972).traceIs,g=e(71828).extendFlat;function t(u,o){for(var l=u._fullLayout,c=o.subplot,n=l[c].radialaxis,x=l[c].angularaxis,h=n.makeCalcdata(o,"r"),T=x.makeCalcdata(o,"theta"),f=o._length,s=new Array(f),d=h,S=T,M=0;M<f;M++)s[M]={p:S[M],s:d[M]};function C(y){var w=o[y];w!==void 0&&(o["_"+y]=Array.isArray(w)?x.makeCalcdata(o,y):x.d2c(w,o.thetaunit))}return x.type==="linear"&&(C("width"),C("offset")),p(o,"marker")&&L(u,o,{vals:o.marker.color,containerStr:"marker",cLetter:"c"}),p(o,"marker.line")&&L(u,o,{vals:o.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(s,o),A(s,o),s}function r(u,o,l){for(var c=u.calcdata,n=[],x=0;x<c.length;x++){var h=c[x],T=h[0].trace;T.visible===!0&&v(T,"bar")&&T.subplot===l&&n.push(h)}var f=g({},o.radialaxis,{_id:"x"}),s=o.angularaxis;P(u,s,f,n,{mode:o.barmode,norm:o.barnorm,gap:o.bargap,groupgap:o.bargroupgap})}W.exports={calc:t,crossTraceCalc:r}},6135:function(W,U,e){var p=e(71828),L=e(22184).handleRThetaDefaults,a=e(98340),P=e(55023);W.exports=function(v,g,t,r){function u(l,c){return p.coerce(v,g,P,l,c)}var o=L(v,g,r,u);if(!o){g.visible=!1;return}u("thetaunit"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate"),a(v,g,u,t,r),p.coerceSelectionMarkerOpacity(g,u)}},27379:function(W,U,e){var p=e(30211),L=e(71828),a=e(95423).getTraceColor,P=L.fillText,A=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;W.exports=function(t,r,u){var o=t.cd,l=o[0].trace,c=t.subplot,n=c.radialAxis,x=c.angularAxis,h=c.vangles,T=h?v:L.isPtInsideSector,f=t.maxHoverDistance,s=x._period||2*Math.PI,d=Math.abs(n.g2p(Math.sqrt(r*r+u*u))),S=Math.atan2(u,r);n.range[0]>n.range[1]&&(S+=Math.PI);var M=function(b){return T(d,S,[b.rp0,b.rp1],[b.thetag0,b.thetag1],h)?f+Math.min(1,Math.abs(b.thetag1-b.thetag0)/s)-1+(b.rp1-d)/(b.rp1-b.rp0)-1:1/0};if(p.getClosest(o,M,t),t.index!==!1){var C=t.index,y=o[C];t.x0=t.x1=y.ct[0],t.y0=t.y1=y.ct[1];var w=L.extendFlat({},y,{r:y.s,theta:y.p});return P(y,l,t),A(w,l,c,t),t.hovertemplate=l.hovertemplate,t.color=a(l,y),t.xLabelVal=t.yLabelVal=void 0,y.s<0&&(t.idealAlign="left"),[t]}}},23381:function(W,U,e){W.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(W,U,e){var p=e(71828),L=e(40151);W.exports=function(a,P,A){var v={},g;function t(o,l){return p.coerce(a[g]||{},P[g],L,o,l)}for(var r=0;r<A.length;r++){var u=A[r];u.type==="barpolar"&&u.visible===!0&&(g=u.subplot,v[g]||(t("barmode"),t("bargap"),v[g]=1))}}},60173:function(W,U,e){var p=e(39898),L=e(92770),a=e(71828),P=e(91424),A=e(10869);W.exports=function(t,r,u){var o=r.xaxis,l=r.yaxis,c=r.radialAxis,n=r.angularAxis,x=v(r),h=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(h,u,"trace bars").each(function(){var T=p.select(this),f=a.ensureSingle(T,"g","points"),s=f.selectAll("g.point").data(a.identity);s.enter().append("g").style("vector-effect","non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),s.exit().remove(),s.each(function(d){var S=p.select(this),M=d.rp0=c.c2p(d.s0),C=d.rp1=c.c2p(d.s1),y=d.thetag0=n.c2g(d.p0),w=d.thetag1=n.c2g(d.p1),b;if(!L(M)||!L(C)||!L(y)||!L(w)||M===C||y===w)b="M0,0Z";else{var i=c.c2g(d.s1),E=(y+w)/2;d.ct=[o.c2p(i*Math.cos(E)),l.c2p(i*Math.sin(E))],b=x(M,C,y,w)}a.ensureSingle(S,"path").attr("d",b)}),P.setClipUrl(T,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(g){var t=g.cxx,r=g.cyy;return g.vangles?function(u,o,l,c){var n,x;a.angleDelta(l,c)>0?(n=l,x=c):(n=c,x=l);var h=A.findEnclosingVertexAngles(n,g.vangles)[0],T=A.findEnclosingVertexAngles(x,g.vangles)[1],f=[h,(n+x)/2,T];return A.pathPolygonAnnulus(u,o,n,x,f,t,r)}:function(u,o,l,c){return a.pathAnnulus(u,o,l,c,t,r)}}},53522:function(W,U,e){var p=e(82196),L=e(1486),a=e(22399),P=e(12663).axisHoverFormat,A=e(5386).f,v=e(1426).extendFlat,g=p.marker,t=g.line;W.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},g.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},g.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},g.angle,{arrayOk:!1,editType:"calc"}),size:v({},g.size,{arrayOk:!1,editType:"calc"}),color:v({},g.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:L.offsetgroup,alignmentgroup:L.alignmentgroup,selected:{marker:p.selected.marker,editType:"style"},unselected:{marker:p.unselected.marker,editType:"style"},text:v({},p.text,{}),hovertext:v({},p.hovertext,{}),hovertemplate:A({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(W,U,e){var p=e(92770),L=e(89298),a=e(42973),P=e(71828),A=e(50606).BADNUM,v=P._;W.exports=function(S,M){var C=S._fullLayout,y=L.getFromId(S,M.xaxis||"x"),w=L.getFromId(S,M.yaxis||"y"),b=[],i=M.type==="violin"?"_numViolins":"_numBoxes",E,m,F,_,B,I,O;M.orientation==="h"?(F=y,_="x",B=w,I="y",O=!!M.yperiodalignment):(F=w,_="y",B=y,I="x",O=!!M.xperiodalignment);var z=g(M,I,B,C[i]),k=z[0],N=z[1],K=P.distinctVals(k,B),q=K.vals,Q=K.minDiff/2,re,oe,Y,G,V,Z,ae=(M.boxpoints||M.points)==="all"?P.identity:function($e){return $e.v<re.lf||$e.v>re.uf};if(M._hasPreCompStats){var ie=M[_],J=function($e){return F.d2c((M[$e]||[])[E])},$=1/0,se=-1/0;for(E=0;E<M._length;E++){var ee=k[E];if(p(ee)){if(re={},re.pos=re[I]=ee,O&&N&&(re.orig_p=N[E]),re.q1=J("q1"),re.med=J("median"),re.q3=J("q3"),oe=[],ie&&P.isArrayOrTypedArray(ie[E]))for(m=0;m<ie[E].length;m++)Z=F.d2c(ie[E][m]),Z!==A&&(V={v:Z,i:[E,m]},o(V,M,[E,m]),oe.push(V));if(re.pts=oe.sort(c),Y=re[_]=oe.map(n),G=Y.length,re.med!==A&&re.q1!==A&&re.q3!==A&&re.med>=re.q1&&re.q3>=re.med){var ue=J("lowerfence");re.lf=ue!==A&&ue<=re.q1?ue:x(re,Y,G);var ge=J("upperfence");re.uf=ge!==A&&ge>=re.q3?ge:h(re,Y,G);var Te=J("mean");re.mean=Te!==A?Te:G?P.mean(Y,G):(re.q1+re.q3)/2;var xe=J("sd");re.sd=Te!==A&&xe>=0?xe:G?P.stdev(Y,G,re.mean):re.q3-re.q1,re.lo=T(re),re.uo=f(re);var Pe=J("notchspan");Pe=Pe!==A&&Pe>0?Pe:s(re,G),re.ln=re.med-Pe,re.un=re.med+Pe;var Ie=re.lf,Ae=re.uf;M.boxpoints&&Y.length&&(Ie=Math.min(Ie,Y[0]),Ae=Math.max(Ae,Y[G-1])),M.notched&&(Ie=Math.min(Ie,re.ln),Ae=Math.max(Ae,re.un)),re.min=Ie,re.max=Ae}else{P.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+re.q1,"median = "+re.med,"q3 = "+re.q3].join(`
`));var be;re.med!==A?be=re.med:re.q1!==A?re.q3!==A?be=(re.q1+re.q3)/2:be=re.q1:re.q3!==A?be=re.q3:be=0,re.med=be,re.q1=re.q3=be,re.lf=re.uf=be,re.mean=re.sd=be,re.ln=re.un=be,re.min=re.max=be}$=Math.min($,re.min),se=Math.max(se,re.max),re.pts2=oe.filter(ae),b.push(re)}}M._extremes[F._id]=L.findExtremes(F,[$,se],{padded:!0})}else{var _e=F.makeCalcdata(M,_),Ve=t(q,Q),We=q.length,ze=r(We);for(E=0;E<M._length;E++)if(Z=_e[E],!!p(Z)){var Ze=P.findBin(k[E],Ve);Ze>=0&&Ze<We&&(V={v:Z,i:E},o(V,M,E),ze[Ze].push(V))}var ct=1/0,lt=-1/0,at=M.quartilemethod,tt=at==="exclusive",dt=at==="inclusive";for(E=0;E<We;E++)if(ze[E].length>0){if(re={},re.pos=re[I]=q[E],oe=re.pts=ze[E].sort(c),Y=re[_]=oe.map(n),G=Y.length,re.min=Y[0],re.max=Y[G-1],re.mean=P.mean(Y,G),re.sd=P.stdev(Y,G,re.mean),re.med=P.interp(Y,.5),G%2&&(tt||dt)){var wt,Mt;tt?(wt=Y.slice(0,G/2),Mt=Y.slice(G/2+1)):dt&&(wt=Y.slice(0,G/2+1),Mt=Y.slice(G/2)),re.q1=P.interp(wt,.5),re.q3=P.interp(Mt,.5)}else re.q1=P.interp(Y,.25),re.q3=P.interp(Y,.75);re.lf=x(re,Y,G),re.uf=h(re,Y,G),re.lo=T(re),re.uo=f(re);var It=s(re,G);re.ln=re.med-It,re.un=re.med+It,ct=Math.min(ct,re.ln),lt=Math.max(lt,re.un),re.pts2=oe.filter(ae),b.push(re)}M._extremes[F._id]=L.findExtremes(F,M.notched?_e.concat([ct,lt]):_e,{padded:!0})}return l(b,M),b.length>0?(b[0].t={num:C[i],dPos:Q,posLetter:I,valLetter:_,labels:{med:v(S,"median:"),min:v(S,"min:"),q1:v(S,"q1:"),q3:v(S,"q3:"),max:v(S,"max:"),mean:M.boxmean==="sd"?v(S,"mean ± σ:"):v(S,"mean:"),lf:v(S,"lower fence:"),uf:v(S,"upper fence:")}},C[i]++,b):[{t:{empty:!0}}]};function g(d,S,M,C){var y=S in d,w=S+"0"in d,b="d"+S in d;if(y||w&&b){var i=M.makeCalcdata(d,S),E=a(d,M,S,i).vals;return[E,i]}var m;w?m=d[S+"0"]:"name"in d&&(M.type==="category"||p(d.name)&&["linear","log"].indexOf(M.type)!==-1||P.isDateTime(d.name)&&M.type==="date")?m=d.name:m=C;for(var F=M.type==="multicategory"?M.r2c_just_indices(m):M.d2c(m,0,d[S+"calendar"]),_=d._length,B=new Array(_),I=0;I<_;I++)B[I]=F;return[B]}function t(d,S){for(var M=d.length,C=new Array(M+1),y=0;y<M;y++)C[y]=d[y]-S;return C[M]=d[M-1]+S,C}function r(d){for(var S=new Array(d),M=0;M<d;M++)S[M]=[];return S}var u={text:"tx",hovertext:"htx"};function o(d,S,M){for(var C in u)P.isArrayOrTypedArray(S[C])&&(Array.isArray(M)?P.isArrayOrTypedArray(S[C][M[0]])&&(d[u[C]]=S[C][M[0]][M[1]]):d[u[C]]=S[C][M])}function l(d,S){if(P.isArrayOrTypedArray(S.selectedpoints))for(var M=0;M<d.length;M++){for(var C=d[M].pts||[],y={},w=0;w<C.length;w++)y[C[w].i]=w;P.tagSelected(C,S,y)}}function c(d,S){return d.v-S.v}function n(d){return d.v}function x(d,S,M){return M===0?d.q1:Math.min(d.q1,S[Math.min(P.findBin(2.5*d.q1-1.5*d.q3,S,!0)+1,M-1)])}function h(d,S,M){return M===0?d.q3:Math.max(d.q3,S[Math.max(P.findBin(2.5*d.q3-1.5*d.q1,S),0)])}function T(d){return 4*d.q1-3*d.q3}function f(d){return 4*d.q3-3*d.q1}function s(d,S){return S===0?0:1.57*(d.q3-d.q1)/Math.sqrt(S)}},37188:function(W,U,e){var p=e(89298),L=e(71828),a=e(99082).getAxisGroup,P=["v","h"];function A(g,t){for(var r=g.calcdata,u=t.xaxis,o=t.yaxis,l=0;l<P.length;l++){for(var c=P[l],n=c==="h"?o:u,x=[],h=0;h<r.length;h++){var T=r[h],f=T[0].t,s=T[0].trace;s.visible===!0&&(s.type==="box"||s.type==="candlestick")&&!f.empty&&(s.orientation||"v")===c&&s.xaxis===u._id&&s.yaxis===o._id&&x.push(h)}v("box",g,x,n)}}function v(g,t,r,u){var o=t.calcdata,l=t._fullLayout,c=u._id,n=c.charAt(0),x,h,T,f=[],s=0;for(x=0;x<r.length;x++)for(T=o[r[x]],h=0;h<T.length;h++)f.push(u.c2l(T[h].pos,!0)),s+=(T[h].pts2||[]).length;if(f.length){var d=L.distinctVals(f);(u.type==="category"||u.type==="multicategory")&&(d.minDiff=1);var S=d.minDiff/2;p.minDtick(u,d.minDiff,d.vals[0],!0);var M=g==="violin"?"_numViolins":"_numBoxes",C=l[M],y=l[g+"mode"]==="group"&&C>1,w=1-l[g+"gap"],b=1-l[g+"groupgap"];for(x=0;x<r.length;x++){T=o[r[x]];var i=T[0].trace,E=T[0].t,m=i.width,F=i.side,_,B,I,O;if(m)_=B=O=m/2,I=0;else if(_=S,y){var z=a(l,u._id)+i.orientation,k=l._alignmentOpts[z]||{},N=k[i.alignmentgroup]||{},K=Object.keys(N.offsetGroups||{}).length,q=K||C,Q=K?i._offsetIndex:E.num;B=_*w*b/q,I=2*_*(-.5+(Q+.5)/q)*w,O=_*w/q}else B=_*w*b,I=0,O=_;E.dPos=_,E.bPos=I,E.bdPos=B,E.wHover=O;var re,oe,Y=I+B,G,V,Z,ae,ie,J,$=Boolean(m),se=(i.boxpoints||i.points)&&s>0;if(F==="positive"?(re=_*(m?1:.5),G=Y,oe=G=I):F==="negative"?(re=G=I,oe=_*(m?1:.5),V=Y):(re=oe=_,G=V=Y),se){var ee=i.pointpos,ue=i.jitter,ge=i.marker.size/2,Te=0;ee+ue>=0&&(Te=Y*(ee+ue),Te>re?($=!0,ie=ge,Z=Te):Te>G&&(ie=ge,Z=re)),Te<=re&&(Z=re);var xe=0;ee-ue<=0&&(xe=-Y*(ee-ue),xe>oe?($=!0,J=ge,ae=xe):xe>V&&(J=ge,ae=oe)),xe<=oe&&(ae=oe)}else Z=re,ae=oe;var Pe=new Array(T.length);for(h=0;h<T.length;h++)Pe[h]=T[h].pos;i._extremes[c]=p.findExtremes(u,Pe,{padded:$,vpadminus:ae,vpadplus:Z,vpadLinearized:!0,ppadminus:{x:J,y:ie}[n],ppadplus:{x:ie,y:J}[n]})}}}W.exports={crossTraceCalc:A,setPositionOffset:v}},36411:function(W,U,e){var p=e(71828),L=e(73972),a=e(7901),P=e(73927),A=e(26125),v=e(4322),g=e(53522);function t(l,c,n,x){function h(y,w){return p.coerce(l,c,g,y,w)}if(r(l,c,h,x),c.visible!==!1){P(l,c,x,h),h("xhoverformat"),h("yhoverformat");var T=c._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(l.marker||{}).color||n),h("line.width"),h("fillcolor",a.addOpacity(c.line.color,.5));var f=!1;if(T){var s=h("mean"),d=h("sd");s&&s.length&&(f=!0,d&&d.length&&(f="sd"))}h("boxmean",f),h("whiskerwidth"),h("width"),h("quartilemethod");var S=!1;if(T){var M=h("notchspan");M&&M.length&&(S=!0)}else p.validate(l.notchwidth,g.notchwidth)&&(S=!0);var C=h("notched",S);C&&h("notchwidth"),u(l,c,h,{prefix:"box"})}}function r(l,c,n,x){function h(K){var q=0;return K&&K.length&&(q+=1,p.isArrayOrTypedArray(K[0])&&K[0].length&&(q+=1)),q}function T(K){return p.validate(l[K],g[K])}var f=n("y"),s=n("x"),d;if(c.type==="box"){var S=n("q1"),M=n("median"),C=n("q3");c._hasPreCompStats=S&&S.length&&M&&M.length&&C&&C.length,d=Math.min(p.minRowLength(S),p.minRowLength(M),p.minRowLength(C))}var y=h(f),w=h(s),b=y&&p.minRowLength(f),i=w&&p.minRowLength(s),E=x.calendar,m={autotypenumbers:x.autotypenumbers},F,_;if(c._hasPreCompStats)switch(String(w)+String(y)){case"00":var B=T("x0")||T("dx"),I=T("y0")||T("dy");I&&!B?F="h":F="v",_=d;break;case"10":F="v",_=Math.min(d,i);break;case"20":F="h",_=Math.min(d,s.length);break;case"01":F="h",_=Math.min(d,b);break;case"02":F="v",_=Math.min(d,f.length);break;case"12":F="v",_=Math.min(d,i,f.length);break;case"21":F="h",_=Math.min(d,s.length,b);break;case"11":_=0;break;case"22":var O=!1,z;for(z=0;z<s.length;z++)if(v(s[z],E,m)==="category"){O=!0;break}if(O)F="v",_=Math.min(d,i,f.length);else{for(z=0;z<f.length;z++)if(v(f[z],E,m)==="category"){O=!0;break}O?(F="h",_=Math.min(d,s.length,b)):(F="v",_=Math.min(d,i,f.length))}break}else y>0?(F="v",w>0?_=Math.min(i,b):_=Math.min(b)):w>0?(F="h",_=Math.min(i)):_=0;if(!_){c.visible=!1;return}c._length=_;var k=n("orientation",F);c._hasPreCompStats?k==="v"&&w===0?(n("x0",0),n("dx",1)):k==="h"&&y===0&&(n("y0",0),n("dy",1)):k==="v"&&w===0?n("x0"):k==="h"&&y===0&&n("y0");var N=L.getComponentMethod("calendars","handleTraceDefaults");N(l,c,["x","y"],x)}function u(l,c,n,x){var h=x.prefix,T=p.coerce2(l,c,g,"marker.outliercolor"),f=n("marker.line.outliercolor"),s="outliers";c._hasPreCompStats?s="all":(T||f)&&(s="suspectedoutliers");var d=n(h+"points",s);d?(n("jitter",d==="all"?.3:0),n("pointpos",d==="all"?-1.5:0),n("marker.symbol"),n("marker.opacity"),n("marker.size"),n("marker.angle"),n("marker.color",c.line.color),n("marker.line.color"),n("marker.line.width"),d==="suspectedoutliers"&&(n("marker.line.outliercolor",c.marker.color),n("marker.line.outlierwidth")),n("selected.marker.color"),n("unselected.marker.color"),n("selected.marker.size"),n("unselected.marker.size"),n("text"),n("hovertext")):delete c.marker;var S=n("hoveron");(S==="all"||S.indexOf("points")!==-1)&&n("hovertemplate"),p.coerceSelectionMarkerOpacity(c,n)}function o(l,c){var n,x;function h(s){return p.coerce(x._input,x,g,s)}for(var T=0;T<l.length;T++){x=l[T];var f=x.type;(f==="box"||f==="violin")&&(n=x._input,c[f+"mode"]==="group"&&A(n,x,c,h))}}W.exports={supplyDefaults:t,crossTraceDefaults:o,handleSampleDefaults:r,handlePointsDefaults:u}},74907:function(W){W.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},41868:function(W,U,e){var p=e(89298),L=e(71828),a=e(30211),P=e(7901),A=L.fillText;function v(r,u,o,l){var c=r.cd,n=c[0].trace,x=n.hoveron,h=[],T;return x.indexOf("boxes")!==-1&&(h=h.concat(g(r,u,o,l))),x.indexOf("points")!==-1&&(T=t(r,u,o)),l==="closest"?T?[T]:h:(T&&h.push(T),h)}function g(r,u,o,l){var c=r.cd,n=r.xa,x=r.ya,h=c[0].trace,T=c[0].t,f=h.type==="violin",s,d,S,M,C,y,w,b,i,E,m,F=T.bdPos,_,B,I=T.wHover,O=function(xe){return S.c2l(xe.pos)+T.bPos-S.c2l(y)};f&&h.side!=="both"?(h.side==="positive"&&(i=function(xe){var Pe=O(xe);return a.inbox(Pe,Pe+I,E)},_=F,B=0),h.side==="negative"&&(i=function(xe){var Pe=O(xe);return a.inbox(Pe-I,Pe,E)},_=0,B=F)):(i=function(xe){var Pe=O(xe);return a.inbox(Pe-I,Pe+I,E)},_=B=F);var z;f?z=function(xe){return a.inbox(xe.span[0]-C,xe.span[1]-C,E)}:z=function(xe){return a.inbox(xe.min-C,xe.max-C,E)},h.orientation==="h"?(C=u,y=o,w=z,b=i,s="y",S=x,d="x",M=n):(C=o,y=u,w=i,b=z,s="x",S=n,d="y",M=x);var k=Math.min(1,F/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));E=r.maxHoverDistance-k,m=r.maxSpikeDistance-k;function N(xe){return(w(xe)+b(xe))/2}var K=a.getDistanceFunction(l,w,b,N);if(a.getClosest(c,K,r),r.index===!1)return[];var q=c[r.index],Q=h.line.color,re=(h.marker||{}).color;P.opacity(Q)&&h.line.width?r.color=Q:P.opacity(re)&&h.boxpoints?r.color=re:r.color=h.fillcolor,r[s+"0"]=S.c2p(q.pos+T.bPos-B,!0),r[s+"1"]=S.c2p(q.pos+T.bPos+_,!0),r[s+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var oe=s+"Spike";r.spikeDistance=N(q)*m/E,r[oe]=S.c2p(q.pos,!0);var Y=h.boxmean||(h.meanline||{}).visible,G=h.boxpoints||h.points,V=G&&Y?["max","uf","q3","med","mean","q1","lf","min"]:G&&!Y?["max","uf","q3","med","q1","lf","min"]:!G&&Y?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Z=M.range[1]<M.range[0];h.orientation===(Z?"v":"h")&&V.reverse();for(var ae=r.spikeDistance,ie=r[oe],J=[],$=0;$<V.length;$++){var se=V[$];if(se in q){var ee=q[se],ue=M.c2p(ee,!0),ge=L.extendFlat({},r);ge.attr=se,ge[d+"0"]=ge[d+"1"]=ue,ge[d+"LabelVal"]=ee,ge[d+"Label"]=(T.labels?T.labels[se]+" ":"")+p.hoverLabelText(M,ee,h[d+"hoverformat"]),ge.hoverOnBox=!0,se==="mean"&&"sd"in q&&h.boxmean==="sd"&&(ge[d+"err"]=q.sd),ge.hovertemplate=!1,J.push(ge)}}r.name="",r.spikeDistance=void 0,r[oe]=void 0;for(var Te=0;Te<J.length;Te++)J[Te].attr!=="med"?(J[Te].name="",J[Te].spikeDistance=void 0,J[Te][oe]=void 0):(J[Te].spikeDistance=ae,J[Te][oe]=ie);return J}function t(r,u,o){for(var l=r.cd,c=r.xa,n=r.ya,x=l[0].trace,h=c.c2p(u),T=n.c2p(o),f,s=function(z){var k=Math.max(3,z.mrc||0);return Math.max(Math.abs(c.c2p(z.x)-h)-k,1-3/k)},d=function(z){var k=Math.max(3,z.mrc||0);return Math.max(Math.abs(n.c2p(z.y)-T)-k,1-3/k)},S=a.quadrature(s,d),M=!1,C,y,w=0;w<l.length;w++){C=l[w];for(var b=0;b<(C.pts||[]).length;b++){y=C.pts[b];var i=S(y);i<=r.distance&&(r.distance=i,M=[w,b])}}if(!M)return!1;C=l[M[0]],y=C.pts[M[1]];var E=c.c2p(y.x,!0),m=n.c2p(y.y,!0),F=y.mrc||1;f=L.extendFlat({},r,{index:y.i,color:(x.marker||{}).color,name:x.name,x0:E-F,x1:E+F,y0:m-F,y1:m+F,spikeDistance:r.distance,hovertemplate:x.hovertemplate});var _=C.orig_p,B=_!==void 0?_:C.pos,I;x.orientation==="h"?(I=n,f.xLabelVal=y.x,f.yLabelVal=B):(I=c,f.xLabelVal=B,f.yLabelVal=y.y);var O=I._id.charAt(0);return f[O+"Spike"]=I.c2p(C.pos,!0),A(y,x,f),f}W.exports={hoverPoints:v,hoverOnBoxes:g,hoverOnPoints:t}},83832:function(W,U,e){W.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(W){W.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(W,U,e){var p=e(73972),L=e(71828),a=e(40094);function P(v,g,t,r,u){for(var o=u+"Layout",l=!1,c=0;c<t.length;c++){var n=t[c];if(p.traceIs(n,o)){l=!0;break}}l&&(r(u+"mode"),r(u+"gap"),r(u+"groupgap"))}function A(v,g,t){function r(u,o){return L.coerce(v,g,a,u,o)}P(v,g,t,r,"box")}W.exports={supplyLayoutDefaults:A,_supply:P}},86047:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=5,A=.01;function v(u,o,l,c){var n=o.xaxis,x=o.yaxis;L.makeTraceGroups(c,l,"trace boxes").each(function(h){var T=p.select(this),f=h[0],s=f.t,d=f.trace;if(s.wdPos=s.bdPos*d.whiskerwidth,d.visible!==!0||s.empty){T.remove();return}var S,M;d.orientation==="h"?(S=x,M=n):(S=n,M=x),g(T,{pos:S,val:M},d,s),t(T,{x:n,y:x},d,s),r(T,{pos:S,val:M},d,s)})}function g(u,o,l,c){var n=l.orientation==="h",x=o.val,h=o.pos,T=!!h.rangebreaks,f=c.bPos,s=c.wdPos||0,d=c.bPosPxOffset||0,S=l.whiskerwidth||0,M=l.notched||!1,C=M?1-2*l.notchwidth:1,y,w;Array.isArray(c.bdPos)?(y=c.bdPos[0],w=c.bdPos[1]):(y=c.bdPos,w=c.bdPos);var b=u.selectAll("path.box").data(l.type!=="violin"||l.box.visible?L.identity:[]);b.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),b.exit().remove(),b.each(function(i){if(i.empty)return"M0,0Z";var E=h.c2l(i.pos+f,!0),m=h.l2p(E-y)+d,F=h.l2p(E+w)+d,_=T?(m+F)/2:h.l2p(E)+d,B=l.whiskerwidth,I=T?m*B+(1-B)*_:h.l2p(E-s)+d,O=T?F*B+(1-B)*_:h.l2p(E+s)+d,z=h.l2p(E-y*C)+d,k=h.l2p(E+w*C)+d,N=x.c2p(i.q1,!0),K=x.c2p(i.q3,!0),q=L.constrain(x.c2p(i.med,!0),Math.min(N,K)+1,Math.max(N,K)-1),Q=i.lf===void 0||l.boxpoints===!1,re=x.c2p(Q?i.min:i.lf,!0),oe=x.c2p(Q?i.max:i.uf,!0),Y=x.c2p(i.ln,!0),G=x.c2p(i.un,!0);n?p.select(this).attr("d","M"+q+","+z+"V"+k+"M"+N+","+m+"V"+F+(M?"H"+Y+"L"+q+","+k+"L"+G+","+F:"")+"H"+K+"V"+m+(M?"H"+G+"L"+q+","+z+"L"+Y+","+m:"")+"ZM"+N+","+_+"H"+re+"M"+K+","+_+"H"+oe+(S===0?"":"M"+re+","+I+"V"+O+"M"+oe+","+I+"V"+O)):p.select(this).attr("d","M"+z+","+q+"H"+k+"M"+m+","+N+"H"+F+(M?"V"+Y+"L"+k+","+q+"L"+F+","+G:"")+"V"+K+"H"+m+(M?"V"+G+"L"+z+","+q+"L"+m+","+Y:"")+"ZM"+_+","+N+"V"+re+"M"+_+","+K+"V"+oe+(S===0?"":"M"+I+","+re+"H"+O+"M"+I+","+oe+"H"+O))})}function t(u,o,l,c){var n=o.x,x=o.y,h=c.bdPos,T=c.bPos,f=l.boxpoints||l.points;L.seedPseudoRandom();var s=function(M){return M.forEach(function(C){C.t=c,C.trace=l}),M},d=u.selectAll("g.points").data(f?s:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var S=d.selectAll("path").data(function(M){var C,y=M.pts2,w=Math.max((M.max-M.min)/10,M.q3-M.q1),b=w*1e-9,i=w*A,E=[],m=0,F;if(l.jitter){if(w===0)for(m=1,E=new Array(y.length),C=0;C<y.length;C++)E[C]=1;else for(C=0;C<y.length;C++){var _=Math.max(0,C-P),B=y[_].v,I=Math.min(y.length-1,C+P),O=y[I].v;f!=="all"&&(y[C].v<M.lf?O=Math.min(O,M.lf):B=Math.max(B,M.uf));var z=Math.sqrt(i*(I-_)/(O-B+b))||0;z=L.constrain(Math.abs(z),0,1),E.push(z),m=Math.max(z,m)}F=l.jitter*2/(m||1)}for(C=0;C<y.length;C++){var k=y[C],N=k.v,K=l.jitter?F*E[C]*(L.pseudoRandom()-.5):0,q=M.pos+T+h*(l.pointpos+K);l.orientation==="h"?(k.y=q,k.x=N):(k.x=q,k.y=N),f==="suspectedoutliers"&&N<M.uo&&N>M.lo&&(k.so=!0)}return y});S.enter().append("path").classed("point",!0),S.exit().remove(),S.call(a.translatePoints,n,x)}function r(u,o,l,c){var n=o.val,x=o.pos,h=!!x.rangebreaks,T=c.bPos,f=c.bPosPxOffset||0,s=l.boxmean||(l.meanline||{}).visible,d,S;Array.isArray(c.bdPos)?(d=c.bdPos[0],S=c.bdPos[1]):(d=c.bdPos,S=c.bdPos);var M=u.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?L.identity:[]);M.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),M.exit().remove(),M.each(function(C){var y=x.c2l(C.pos+T,!0),w=x.l2p(y-d)+f,b=x.l2p(y+S)+f,i=h?(w+b)/2:x.l2p(y)+f,E=n.c2p(C.mean,!0),m=n.c2p(C.mean-C.sd,!0),F=n.c2p(C.mean+C.sd,!0);l.orientation==="h"?p.select(this).attr("d","M"+E+","+w+"V"+b+(s==="sd"?"m0,0L"+m+","+i+"L"+E+","+w+"L"+F+","+i+"Z":"")):p.select(this).attr("d","M"+w+","+E+"H"+b+(s==="sd"?"m0,0L"+i+","+m+"L"+w+","+E+"L"+i+","+F+"Z":""))})}W.exports={plot:v,plotBoxAndWhiskers:g,plotPoints:t,plotBoxMean:r}},24626:function(W){W.exports=function(e,p){var L=e.cd,a=e.xaxis,P=e.yaxis,A=[],v,g;if(p===!1)for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++)L[v].pts[g].selected=0;else for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++){var t=L[v].pts[g],r=a.c2p(t.x),u=P.c2p(t.y);p.contains([r,u],null,t.i,e)?(A.push({pointNumber:t.i,x:a.c2d(t.x),y:P.c2d(t.y)}),t.selected=1):t.selected=0}return A}},58063:function(W,U,e){var p=e(39898),L=e(7901),a=e(91424);function P(v,g,t){var r=t||p.select(v).selectAll("g.trace.boxes");r.style("opacity",function(u){return u[0].trace.opacity}),r.each(function(u){var o=p.select(this),l=u[0].trace,c=l.line.width;function n(T,f,s,d){T.style("stroke-width",f+"px").call(L.stroke,s).call(L.fill,d)}var x=o.selectAll("path.box");if(l.type==="candlestick")x.each(function(T){if(!T.empty){var f=p.select(this),s=l[T.dir];n(f,s.line.width,s.line.color,s.fillcolor),f.style("opacity",l.selectedpoints&&!T.selected?.3:1)}});else{n(x,c,l.line.color,l.fillcolor),o.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(L.stroke,l.line.color);var h=o.selectAll("path.point");a.pointStyle(h,l,v)}})}function A(v,g,t){var r=g[0].trace,u=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(u,r):a.pointStyle(u,r,v)}W.exports={style:P,styleOnSelect:A}},75343:function(W,U,e){var p=e(71828).extendFlat,L=e(12663).axisHoverFormat,a=e(2522),P=e(53522);function A(v){return{line:{color:p({},P.line.color,{dflt:v}),width:P.line.width,editType:"style"},fillcolor:P.fillcolor,editType:"style"}}W.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:p({},P.line.width,{}),editType:"style"},increasing:A(a.increasing.line.color.dflt),decreasing:A(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:p({},P.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(W,U,e){var p=e(71828),L=e(89298),a=e(42973),P=e(3485).calcCommon;W.exports=function(v,g){var t=v._fullLayout,r=L.getFromId(v,g.xaxis),u=L.getFromId(v,g.yaxis),o=r.makeCalcdata(g,"x"),l=a(g,r,"x",o).vals,c=P(v,g,o,l,u,A);return c.length?(p.extendFlat(c[0].t,{num:t._numBoxes,dPos:p.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,c):[{t:{empty:!0}}]};function A(v,g,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:g}}},1026:function(W,U,e){var p=e(71828),L=e(7901),a=e(14555),P=e(73927),A=e(75343);W.exports=function(t,r,u,o){function l(n,x){return p.coerce(t,r,A,n,x)}var c=a(t,r,l,o);if(!c){r.visible=!1;return}P(t,r,o,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),v(t,r,l,"increasing"),v(t,r,l,"decreasing"),l("text"),l("hovertext"),l("whiskerwidth"),o._requestRangeslider[r.xaxis]=!0};function v(g,t,r,u){var o=r(u+".line.color");r(u+".line.width",t.line.width),r(u+".fillcolor",L.addOpacity(o,.5))}},91815:function(W,U,e){W.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(W,U,e){var p=e(11500),L=e(44467);W.exports=function(A,v,g,t,r){var u=t("a");u||(t("da"),t("a0"));var o=t("b");o||(t("db"),t("b0")),a(A,v,g,r)};function a(P,A,v,g){var t=["aaxis","baxis"];t.forEach(function(r){var u=r.charAt(0),o=P[r]||{},l=L.newContainer(A,r),c={noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:A.font,name:r,data:P[u],calendar:A.calendar,dfltColor:g,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};p(o,l,c),l._categories=l._categories||[],!P[r]&&o.type!=="-"&&(P[r]={type:o.type})})}},402:function(W,U,e){var p=e(71828).isArrayOrTypedArray;W.exports=function(a){return L(a,0)};function L(a,P){if(!p(a)||P>=10)return null;for(var A=1/0,v=-1/0,g=a.length,t=0;t<g;t++){var r=a[t];if(p(r)){var u=L(r,P+1);u&&(A=Math.min(u[0],A),v=Math.max(u[1],v))}else A=Math.min(r,A),v=Math.max(r,v)}return[A,v]}},99798:function(W,U,e){var p=e(41940),L=e(1928),a=e(22399),P=p({editType:"calc"});P.family.dflt='"Open Sans", verdana, arial, sans-serif',P.size.dflt=12,P.color.dflt=a.defaultLine,W.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:P,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(W,U,e){var p=e(71828).isArrayOrTypedArray;W.exports=function(L,a,P,A){var v,g,t,r,u,o,l,c,n,x,h,T,f,s=p(P)?"a":"b",d=s==="a"?L.aaxis:L.baxis,S=d.smoothing,M=s==="a"?L.a2i:L.b2j,C=s==="a"?P:A,y=s==="a"?A:P,w=s==="a"?a.a.length:a.b.length,b=s==="a"?a.b.length:a.a.length,i=Math.floor(s==="a"?L.b2j(y):L.a2i(y)),E=s==="a"?function(Q){return L.evalxy([],Q,i)}:function(Q){return L.evalxy([],i,Q)};S&&(t=Math.max(0,Math.min(b-2,i)),r=i-t,g=s==="a"?function(Q,re){return L.dxydi([],Q,t,re,r)}:function(Q,re){return L.dxydj([],t,Q,r,re)});var m=M(C[0]),F=M(C[1]),_=m<F?1:-1,B=(F-m)*1e-8,I=_>0?Math.floor:Math.ceil,O=_>0?Math.ceil:Math.floor,z=_>0?Math.min:Math.max,k=_>0?Math.max:Math.min,N=I(m+B),K=O(F-B);l=E(m);var q=[[l]];for(v=N;v*_<K*_;v+=_)u=[],h=k(m,v),T=z(F,v+_),f=T-h,o=Math.max(0,Math.min(w-2,Math.floor(.5*(h+T)))),c=E(T),S&&(n=g(o,h-o),x=g(o,T-o),u.push([l[0]+n[0]/3*f,l[1]+n[1]/3*f]),u.push([c[0]-x[0]/3*f,c[1]-x[1]/3*f])),u.push(c),q.push(u),l=c;return q}},1928:function(W,U,e){var p=e(41940),L=e(22399),a=e(13838),P=e(12663).descriptionWithDates,A=e(30962).overrideAll,v=e(79952).P,g=e(1426).extendFlat;W.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:P("tick label")},tickformatstops:A(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(W,U,e){var p=e(99798),L=e(7901).addOpacity,a=e(73972),P=e(71828),A=e(26218),v=e(96115),g=e(89426),t=e(15258),r=e(21994),u=e(4322);W.exports=function(c,n,x){var h=x.letter,T=x.font||{},f=p[h+"axis"];function s(N,K){return P.coerce(c,n,f,N,K)}function d(N,K){return P.coerce2(c,n,f,N,K)}x.name&&(n._name=x.name,n._id=x.name),s("autotypenumbers",x.autotypenumbersDflt);var S=s("type");if(S==="-"&&(x.data&&o(n,x.data),n.type==="-"?n.type="linear":S=c.type=n.type),s("smoothing"),s("cheatertype"),s("showticklabels"),s("labelprefix",h+" = "),s("labelsuffix"),s("showtickprefix"),s("showticksuffix"),s("separatethousands"),s("tickformat"),s("exponentformat"),s("minexponent"),s("showexponent"),s("categoryorder"),s("tickmode"),s("tickvals"),s("ticktext"),s("tick0"),s("dtick"),n.tickmode==="array"&&(s("arraytick0"),s("arraydtick")),s("labelpadding"),n._hovertitle=h,S==="date"){var M=a.getComponentMethod("calendars","handleDefaults");M(c,n,"calendar",x.calendar)}r(n,x.fullLayout),n.c2p=P.identity;var C=s("color",x.dfltColor),y=C===c.color?C:T.color,w=s("title.text");w&&(P.coerceFont(s,"title.font",{family:T.family,size:P.bigFont(T.size),color:y}),s("title.offset")),s("tickangle");var b=s("autorange",!n.isValidRange(c.range));b&&s("rangemode"),s("range"),n.cleanRange(),s("fixedrange"),A(c,n,s,S),g(c,n,s,S,x),v(c,n,s,S,x),t(c,n,s,{data:x.data,dataAttr:h});var i=d("gridcolor",L(C,.3)),E=d("gridwidth"),m=d("griddash"),F=s("showgrid");F||(delete n.gridcolor,delete n.gridwidth,delete n.griddash);var _=d("startlinecolor",C),B=d("startlinewidth",E),I=s("startline",n.showgrid||!!_||!!B);I||(delete n.startlinecolor,delete n.startlinewidth);var O=d("endlinecolor",C),z=d("endlinewidth",E),k=s("endline",n.showgrid||!!O||!!z);return k||(delete n.endlinecolor,delete n.endlinewidth),F?(s("minorgridcount"),s("minorgridwidth",E),s("minorgriddash",m),s("minorgridcolor",L(i,.06)),n.minorgridcount||(delete n.minorgridwidth,delete n.minorgriddash,delete n.minorgridcolor)):(delete n.gridcolor,delete n.gridwidth,delete n.griddash),n.showticklabels==="none"&&(delete n.tickfont,delete n.tickangle,delete n.showexponent,delete n.exponentformat,delete n.minexponent,delete n.tickformat,delete n.showticksuffix,delete n.showtickprefix),n.showticksuffix||delete n.ticksuffix,n.showtickprefix||delete n.tickprefix,s("tickmode"),n};function o(l,c){if(l.type==="-"){var n=l._id,x=n.charAt(0),h=x+"calendar",T=l[h];l.type=u(c,T,{autotypenumbers:l.autotypenumbers})}}},25281:function(W,U,e){var p=e(89298),L=e(71828).isArray1D,a=e(53824),P=e(402),A=e(20347),v=e(83311),g=e(44807),t=e(4742),r=e(72505),u=e(68296),o=e(11435);W.exports=function(c,n){var x=p.getFromId(c,n.xaxis),h=p.getFromId(c,n.yaxis),T=n.aaxis,f=n.baxis,s=n.x,d=n.y,S=[];s&&L(s)&&S.push("x"),d&&L(d)&&S.push("y"),S.length&&u(n,T,f,"a","b",S);var M=n._a=n._a||n.a,C=n._b=n._b||n.b;s=n._x||n.x,d=n._y||n.y;var y={};if(n._cheater){var w=T.cheatertype==="index"?M.length:M,b=f.cheatertype==="index"?C.length:C;s=a(w,b,n.cheaterslope)}n._x=s=t(s),n._y=d=t(d),r(s,M,C),r(d,M,C),o(n),n.setScale();var i=P(s),E=P(d),m=.5*(i[1]-i[0]),F=.5*(i[1]+i[0]),_=.5*(E[1]-E[0]),B=.5*(E[1]+E[0]),I=1.3;return i=[F-m*I,F+m*I],E=[B-_*I,B+_*I],n._extremes[x._id]=p.findExtremes(x,i,{padded:!0}),n._extremes[h._id]=p.findExtremes(h,E,{padded:!0}),A(n,"a","b"),A(n,"b","a"),v(n,T),v(n,f),y.clipsegments=g(n._xctrl,n._yctrl,T,f),y.x=s,y.y=d,y.a=M,y.b=C,[y]}},44807:function(W){W.exports=function(e,p,L,a){var P,A,v,g=[],t=!!L.smoothing,r=!!a.smoothing,u=e[0].length-1,o=e.length-1;for(P=0,A=[],v=[];P<=u;P++)A[P]=e[0][P],v[P]=p[0][P];for(g.push({x:A,y:v,bicubic:t}),P=0,A=[],v=[];P<=o;P++)A[P]=e[P][u],v[P]=p[P][u];for(g.push({x:A,y:v,bicubic:r}),P=u,A=[],v=[];P>=0;P--)A[u-P]=e[o][P],v[u-P]=p[o][P];for(g.push({x:A,y:v,bicubic:t}),P=o,A=[],v=[];P>=0;P--)A[o-P]=e[P][0],v[o-P]=p[P][0];return g.push({x:A,y:v,bicubic:r}),g}},20347:function(W,U,e){var p=e(89298),L=e(1426).extendFlat;W.exports=function(P,A,v){var g,t,r,u,o,l,c,n,x,h,T,f,s,d,S=P["_"+A],M=P[A+"axis"],C=M._gridlines=[],y=M._minorgridlines=[],w=M._boundarylines=[],b=P["_"+v],i=P[v+"axis"];M.tickmode==="array"&&(M.tickvals=S.slice());var E=P._xctrl,m=P._yctrl,F=E[0].length,_=E.length,B=P._a.length,I=P._b.length;p.prepTicks(M),M.tickmode==="array"&&delete M.tickvals;var O=M.smoothing?3:1;function z(N){var K,q,Q,re,oe,Y,G,V,Z,ae,ie,J,$=[],se=[],ee={};if(A==="b")for(q=P.b2j(N),Q=Math.floor(Math.max(0,Math.min(I-2,q))),re=q-Q,ee.length=I,ee.crossLength=B,ee.xy=function(ue){return P.evalxy([],ue,q)},ee.dxy=function(ue,ge){return P.dxydi([],ue,Q,ge,re)},K=0;K<B;K++)Y=Math.min(B-2,K),G=K-Y,V=P.evalxy([],K,q),i.smoothing&&K>0&&(Z=P.dxydi([],K-1,Q,0,re),$.push(oe[0]+Z[0]/3),se.push(oe[1]+Z[1]/3),ae=P.dxydi([],K-1,Q,1,re),$.push(V[0]-ae[0]/3),se.push(V[1]-ae[1]/3)),$.push(V[0]),se.push(V[1]),oe=V;else for(K=P.a2i(N),Y=Math.floor(Math.max(0,Math.min(B-2,K))),G=K-Y,ee.length=B,ee.crossLength=I,ee.xy=function(ue){return P.evalxy([],K,ue)},ee.dxy=function(ue,ge){return P.dxydj([],Y,ue,G,ge)},q=0;q<I;q++)Q=Math.min(I-2,q),re=q-Q,V=P.evalxy([],K,q),i.smoothing&&q>0&&(ie=P.dxydj([],Y,q-1,G,0),$.push(oe[0]+ie[0]/3),se.push(oe[1]+ie[1]/3),J=P.dxydj([],Y,q-1,G,1),$.push(V[0]-J[0]/3),se.push(V[1]-J[1]/3)),$.push(V[0]),se.push(V[1]),oe=V;return ee.axisLetter=A,ee.axis=M,ee.crossAxis=i,ee.value=N,ee.constvar=v,ee.index=n,ee.x=$,ee.y=se,ee.smoothing=i.smoothing,ee}function k(N){var K,q,Q,re,oe,Y=[],G=[],V={};if(V.length=S.length,V.crossLength=b.length,A==="b")for(Q=Math.max(0,Math.min(I-2,N)),oe=Math.min(1,Math.max(0,N-Q)),V.xy=function(Z){return P.evalxy([],Z,N)},V.dxy=function(Z,ae){return P.dxydi([],Z,Q,ae,oe)},K=0;K<F;K++)Y[K]=E[N*O][K],G[K]=m[N*O][K];else for(q=Math.max(0,Math.min(B-2,N)),re=Math.min(1,Math.max(0,N-q)),V.xy=function(Z){return P.evalxy([],N,Z)},V.dxy=function(Z,ae){return P.dxydj([],q,Z,re,ae)},K=0;K<_;K++)Y[K]=E[K][N*O],G[K]=m[K][N*O];return V.axisLetter=A,V.axis=M,V.crossAxis=i,V.value=S[N],V.constvar=v,V.index=N,V.x=Y,V.y=G,V.smoothing=i.smoothing,V}if(M.tickmode==="array"){for(u=5e-15,o=[Math.floor((S.length-1-M.arraytick0)/M.arraydtick*(1+u)),Math.ceil(-M.arraytick0/M.arraydtick/(1+u))].sort(function(N,K){return N-K}),l=o[0]-1,c=o[1]+1,n=l;n<c;n++)t=M.arraytick0+M.arraydtick*n,!(t<0||t>S.length-1)&&C.push(L(k(t),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(n=l;n<c;n++)if(r=M.arraytick0+M.arraydtick*n,T=Math.min(r+M.arraydtick,S.length-1),!(r<0||r>S.length-1)&&!(T<0||T>S.length-1))for(f=S[r],s=S[T],g=0;g<M.minorgridcount;g++)d=T-r,!(d<=0)&&(h=f+(s-f)*(g+1)/(M.minorgridcount+1)*(M.arraydtick/d),!(h<S[0]||h>S[S.length-1])&&y.push(L(z(h),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash})));M.startline&&w.push(L(k(0),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&w.push(L(k(S.length-1),{color:M.endlinecolor,width:M.endlinewidth}))}else{for(u=5e-15,o=[Math.floor((S[S.length-1]-M.tick0)/M.dtick*(1+u)),Math.ceil((S[0]-M.tick0)/M.dtick/(1+u))].sort(function(N,K){return N-K}),l=o[0],c=o[1],n=l;n<=c;n++)x=M.tick0+M.dtick*n,C.push(L(z(x),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(n=l-1;n<c+1;n++)for(x=M.tick0+M.dtick*n,g=0;g<M.minorgridcount;g++)h=x+M.dtick*(g+1)/(M.minorgridcount+1),!(h<S[0]||h>S[S.length-1])&&y.push(L(z(h),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash}));M.startline&&w.push(L(z(S[0]),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&w.push(L(z(S[S.length-1]),{color:M.endlinecolor,width:M.endlinewidth}))}}},83311:function(W,U,e){var p=e(89298),L=e(1426).extendFlat;W.exports=function(P,A){var v,g,t,r,u,o=A._labels=[],l=A._gridlines;for(v=0;v<l.length;v++)u=l[v],["start","both"].indexOf(A.showticklabels)!==-1&&(g=p.tickText(A,u.value),L(g,{prefix:t,suffix:r,endAnchor:!0,xy:u.xy(0),dxy:u.dxy(0,0),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),o.push(g)),["end","both"].indexOf(A.showticklabels)!==-1&&(g=p.tickText(A,u.value),L(g,{endAnchor:!1,xy:u.xy(u.crossLength-1),dxy:u.dxy(u.crossLength-2,1),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),o.push(g))}},42048:function(W){var U=.5;W.exports=function(p,L,a,P){var A=p[0]-L[0],v=p[1]-L[1],g=a[0]-L[0],t=a[1]-L[1],r=Math.pow(A*A+v*v,U/2),u=Math.pow(g*g+t*t,U/2),o=(u*u*A-r*r*g)*P,l=(u*u*v-r*r*t)*P,c=u*(r+u)*3,n=r*(r+u)*3;return[[L[0]+(c&&o/c),L[1]+(c&&l/c)],[L[0]-(n&&o/n),L[1]-(n&&l/n)]]}},53824:function(W,U,e){var p=e(71828).isArrayOrTypedArray;W.exports=function(L,a,P){var A,v,g,t,r,u,o=[],l=p(L)?L.length:L,c=p(a)?a.length:a,n=p(L)?L:null,x=p(a)?a:null;n&&(g=(n.length-1)/(n[n.length-1]-n[0])/(l-1)),x&&(t=(x.length-1)/(x[x.length-1]-x[0])/(c-1));var h,T=1/0,f=-1/0;for(v=0;v<c;v++)for(o[v]=[],u=x?(x[v]-x[0])*t:v/(c-1),A=0;A<l;A++)r=n?(n[A]-n[0])*g:A/(l-1),h=r-u*P,T=Math.min(h,T),f=Math.max(h,f),o[v][A]=h;var s=1/(f-T),d=-T*s;for(v=0;v<c;v++)for(A=0;A<l;A++)o[v][A]=s*o[v][A]+d;return o}},45664:function(W,U,e){var p=e(42048),L=e(71828).ensureArray;function a(P,A,v){var g=-.5*v[0]+1.5*A[0],t=-.5*v[1]+1.5*A[1];return[(2*g+P[0])/3,(2*t+P[1])/3]}W.exports=function(A,v,g,t,r,u){var o,l,c,n,x,h,T,f,s,d,S=g[0].length,M=g.length,C=r?3*S-2:S,y=u?3*M-2:M;for(A=L(A,y),v=L(v,y),c=0;c<y;c++)A[c]=L(A[c],C),v[c]=L(v[c],C);for(l=0,n=0;l<M;l++,n+=u?3:1)for(x=A[n],h=v[n],T=g[l],f=t[l],o=0,c=0;o<S;o++,c+=r?3:1)x[c]=T[o],h[c]=f[o];if(r)for(l=0,n=0;l<M;l++,n+=u?3:1){for(o=1,c=3;o<S-1;o++,c+=3)s=p([g[l][o-1],t[l][o-1]],[g[l][o],t[l][o]],[g[l][o+1],t[l][o+1]],r),A[n][c-1]=s[0][0],v[n][c-1]=s[0][1],A[n][c+1]=s[1][0],v[n][c+1]=s[1][1];d=a([A[n][0],v[n][0]],[A[n][2],v[n][2]],[A[n][3],v[n][3]]),A[n][1]=d[0],v[n][1]=d[1],d=a([A[n][C-1],v[n][C-1]],[A[n][C-3],v[n][C-3]],[A[n][C-4],v[n][C-4]]),A[n][C-2]=d[0],v[n][C-2]=d[1]}if(u)for(c=0;c<C;c++){for(n=3;n<y-3;n+=3)s=p([A[n-3][c],v[n-3][c]],[A[n][c],v[n][c]],[A[n+3][c],v[n+3][c]],u),A[n-1][c]=s[0][0],v[n-1][c]=s[0][1],A[n+1][c]=s[1][0],v[n+1][c]=s[1][1];d=a([A[0][c],v[0][c]],[A[2][c],v[2][c]],[A[3][c],v[3][c]]),A[1][c]=d[0],v[1][c]=d[1],d=a([A[y-1][c],v[y-1][c]],[A[y-3][c],v[y-3][c]],[A[y-4][c],v[y-4][c]]),A[y-2][c]=d[0],v[y-2][c]=d[1]}if(r&&u)for(n=1;n<y;n+=(n+1)%3===0?2:1){for(c=3;c<C-3;c+=3)s=p([A[n][c-3],v[n][c-3]],[A[n][c],v[n][c]],[A[n][c+3],v[n][c+3]],r),A[n][c-1]=.5*(A[n][c-1]+s[0][0]),v[n][c-1]=.5*(v[n][c-1]+s[0][1]),A[n][c+1]=.5*(A[n][c+1]+s[1][0]),v[n][c+1]=.5*(v[n][c+1]+s[1][1]);d=a([A[n][0],v[n][0]],[A[n][2],v[n][2]],[A[n][3],v[n][3]]),A[n][1]=.5*(A[n][1]+d[0]),v[n][1]=.5*(v[n][1]+d[1]),d=a([A[n][C-1],v[n][C-1]],[A[n][C-3],v[n][C-3]],[A[n][C-4],v[n][C-4]]),A[n][C-2]=.5*(A[n][C-2]+d[0]),v[n][C-2]=.5*(v[n][C-2]+d[1])}return[A,v]}},35509:function(W){W.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(W){W.exports=function(U,e,p){return e&&p?function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o,l;a*=3,P*=3;var c=A*A,n=1-A,x=n*n,h=n*A*2,T=-3*x,f=3*(x-h),s=3*(h-c),d=3*c,S=v*v,M=S*v,C=1-v,y=C*C,w=y*C;for(l=0;l<U.length;l++)o=U[l],g=T*o[P][a]+f*o[P][a+1]+s*o[P][a+2]+d*o[P][a+3],t=T*o[P+1][a]+f*o[P+1][a+1]+s*o[P+1][a+2]+d*o[P+1][a+3],r=T*o[P+2][a]+f*o[P+2][a+1]+s*o[P+2][a+2]+d*o[P+2][a+3],u=T*o[P+3][a]+f*o[P+3][a+1]+s*o[P+3][a+2]+d*o[P+3][a+3],L[l]=w*g+3*(y*v*t+C*S*r)+M*u;return L}:e?function(L,a,P,A,v){L||(L=[]);var g,t,r,u;a*=3;var o=A*A,l=1-A,c=l*l,n=l*A*2,x=-3*c,h=3*(c-n),T=3*(n-o),f=3*o,s=1-v;for(r=0;r<U.length;r++)u=U[r],g=x*u[P][a]+h*u[P][a+1]+T*u[P][a+2]+f*u[P][a+3],t=x*u[P+1][a]+h*u[P+1][a+1]+T*u[P+1][a+2]+f*u[P+1][a+3],L[r]=s*g+v*t;return L}:p?function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o,l;P*=3;var c=v*v,n=c*v,x=1-v,h=x*x,T=h*x;for(o=0;o<U.length;o++)l=U[o],g=l[P][a+1]-l[P][a],t=l[P+1][a+1]-l[P+1][a],r=l[P+2][a+1]-l[P+2][a],u=l[P+3][a+1]-l[P+3][a],L[o]=T*g+3*(h*v*t+x*c*r)+n*u;return L}:function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o=1-v;for(r=0;r<U.length;r++)u=U[r],g=u[P][a+1]-u[P][a],t=u[P+1][a+1]-u[P+1][a],L[r]=o*g+v*t;return L}}},73057:function(W){W.exports=function(U,e,p){return e&&p?function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o,l;a*=3,P*=3;var c=A*A,n=c*A,x=1-A,h=x*x,T=h*x,f=v*v,s=1-v,d=s*s,S=s*v*2,M=-3*d,C=3*(d-S),y=3*(S-f),w=3*f;for(l=0;l<U.length;l++)o=U[l],g=M*o[P][a]+C*o[P+1][a]+y*o[P+2][a]+w*o[P+3][a],t=M*o[P][a+1]+C*o[P+1][a+1]+y*o[P+2][a+1]+w*o[P+3][a+1],r=M*o[P][a+2]+C*o[P+1][a+2]+y*o[P+2][a+2]+w*o[P+3][a+2],u=M*o[P][a+3]+C*o[P+1][a+3]+y*o[P+2][a+3]+w*o[P+3][a+3],L[l]=T*g+3*(h*A*t+x*c*r)+n*u;return L}:e?function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o,l;a*=3;var c=v*v,n=c*v,x=1-v,h=x*x,T=h*x;for(o=0;o<U.length;o++)l=U[o],g=l[P+1][a]-l[P][a],t=l[P+1][a+1]-l[P][a+1],r=l[P+1][a+2]-l[P][a+2],u=l[P+1][a+3]-l[P][a+3],L[o]=T*g+3*(h*v*t+x*c*r)+n*u;return L}:p?function(L,a,P,A,v){L||(L=[]);var g,t,r,u;P*=3;var o=1-A,l=v*v,c=1-v,n=c*c,x=c*v*2,h=-3*n,T=3*(n-x),f=3*(x-l),s=3*l;for(r=0;r<U.length;r++)u=U[r],g=h*u[P][a]+T*u[P+1][a]+f*u[P+2][a]+s*u[P+3][a],t=h*u[P][a+1]+T*u[P+1][a+1]+f*u[P+2][a+1]+s*u[P+3][a+1],L[r]=o*g+A*t;return L}:function(L,a,P,A,v){L||(L=[]);var g,t,r,u,o=1-A;for(r=0;r<U.length;r++)u=U[r],g=u[P+1][a]-u[P][a],t=u[P+1][a+1]-u[P][a+1],L[r]=o*g+A*t;return L}}},20349:function(W){W.exports=function(U,e,p,L,a){var P=e-2,A=p-2;return L&&a?function(v,g,t){v||(v=[]);var r,u,o,l,c,n,x=Math.max(0,Math.min(Math.floor(g),P)),h=Math.max(0,Math.min(Math.floor(t),A)),T=Math.max(0,Math.min(1,g-x)),f=Math.max(0,Math.min(1,t-h));x*=3,h*=3;var s=T*T,d=s*T,S=1-T,M=S*S,C=M*S,y=f*f,w=y*f,b=1-f,i=b*b,E=i*b;for(n=0;n<U.length;n++)c=U[n],r=C*c[h][x]+3*(M*T*c[h][x+1]+S*s*c[h][x+2])+d*c[h][x+3],u=C*c[h+1][x]+3*(M*T*c[h+1][x+1]+S*s*c[h+1][x+2])+d*c[h+1][x+3],o=C*c[h+2][x]+3*(M*T*c[h+2][x+1]+S*s*c[h+2][x+2])+d*c[h+2][x+3],l=C*c[h+3][x]+3*(M*T*c[h+3][x+1]+S*s*c[h+3][x+2])+d*c[h+3][x+3],v[n]=E*r+3*(i*f*u+b*y*o)+w*l;return v}:L?function(v,g,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(g),P)),u=Math.max(0,Math.min(Math.floor(t),A)),o=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-u)),c,n,x,h,T,f;r*=3;var s=o*o,d=s*o,S=1-o,M=S*S,C=M*S,y=1-l;for(T=0;T<U.length;T++)f=U[T],c=y*f[u][r]+l*f[u+1][r],n=y*f[u][r+1]+l*f[u+1][r+1],x=y*f[u][r+2]+l*f[u+1][r+1],h=y*f[u][r+3]+l*f[u+1][r+1],v[T]=C*c+3*(M*o*n+S*s*x)+d*h;return v}:a?function(v,g,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(g),P)),u=Math.max(0,Math.min(Math.floor(t),A)),o=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-u)),c,n,x,h,T,f;u*=3;var s=l*l,d=s*l,S=1-l,M=S*S,C=M*S,y=1-o;for(T=0;T<U.length;T++)f=U[T],c=y*f[u][r]+o*f[u][r+1],n=y*f[u+1][r]+o*f[u+1][r+1],x=y*f[u+2][r]+o*f[u+2][r+1],h=y*f[u+3][r]+o*f[u+3][r+1],v[T]=C*c+3*(M*l*n+S*s*x)+d*h;return v}:function(v,g,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(g),P)),u=Math.max(0,Math.min(Math.floor(t),A)),o=Math.max(0,Math.min(1,g-r)),l=Math.max(0,Math.min(1,t-u)),c,n,x,h,T=1-l,f=1-o;for(x=0;x<U.length;x++)h=U[x],c=f*h[u][r]+o*h[u][r+1],n=f*h[u+1][r]+o*h[u+1][r+1],v[x]=T*c+l*n;return v}}},92087:function(W,U,e){var p=e(71828),L=e(19237),a=e(13145),P=e(99798),A=e(22399);W.exports=function(g,t,r,u){function o(n,x){return p.coerce(g,t,P,n,x)}t._clipPathId="clip"+t.uid+"carpet";var l=o("color",A.defaultLine);if(p.coerceFont(o,"font"),o("carpet"),a(g,t,u,o,l),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var c=L(g,t,o);c||(t.visible=!1),t._cheater&&o("cheaterslope")}},21462:function(W,U,e){W.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(W){W.exports=function(U,e){for(var p=U._fullData.length,L,a=0;a<p;a++){var P=U._fullData[a];if(P.index!==e.index&&P.type==="carpet"&&(L||(L=P),P.carpet===e.carpet))return P}return L}},67961:function(W){W.exports=function(e,p,L){if(e.length===0)return"";var a,P=[],A=L?3:1;for(a=0;a<e.length;a+=A)P.push(e[a]+","+p[a]),L&&a<e.length-A&&(P.push("C"),P.push([e[a+1]+","+p[a+1],e[a+2]+","+p[a+2]+" "].join(" ")));return P.join(L?"":"L")}},27669:function(W,U,e){var p=e(71828).isArrayOrTypedArray;W.exports=function(a,P,A){var v;for(p(a)?a.length>P.length&&(a=a.slice(0,P.length)):a=[],v=0;v<P.length;v++)a[v]=A(P[v]);return a}},11651:function(W){W.exports=function(e,p,L,a,P,A){var v=P[0]*e.dpdx(p),g=P[1]*e.dpdy(L),t=1,r=1;if(A){var u=Math.sqrt(P[0]*P[0]+P[1]*P[1]),o=Math.sqrt(A[0]*A[0]+A[1]*A[1]),l=(P[0]*A[0]+P[1]*A[1])/u/o;r=Math.max(0,l)}var c=Math.atan2(g,v)*180/Math.PI;return c<-90?(c+=180,t=-t):c>90&&(c-=180,t=-t),{angle:c,flip:t,p:e.c2p(a,p,L),offsetMultplier:r}}},89740:function(W,U,e){var p=e(39898),L=e(91424),a=e(27669),P=e(67961),A=e(11651),v=e(63893),g=e(71828),t=g.strRotate,r=g.strTranslate,u=e(18783);W.exports=function(s,d,S,M){var C=d.xaxis,y=d.yaxis,w=s._fullLayout,b=w._clips;g.makeTraceGroups(M,S,"trace").each(function(i){var E=p.select(this),m=i[0],F=m.trace,_=F.aaxis,B=F.baxis,I=g.ensureSingle(E,"g","minorlayer"),O=g.ensureSingle(E,"g","majorlayer"),z=g.ensureSingle(E,"g","boundarylayer"),k=g.ensureSingle(E,"g","labellayer");E.style("opacity",F.opacity),l(C,y,O,_,"a",_._gridlines),l(C,y,O,B,"b",B._gridlines),l(C,y,I,_,"a",_._minorgridlines),l(C,y,I,B,"b",B._minorgridlines),l(C,y,z,_,"a-boundary",_._boundarylines),l(C,y,z,B,"b-boundary",B._boundarylines);var N=c(s,C,y,F,m,k,_._labels,"a-label"),K=c(s,C,y,F,m,k,B._labels,"b-label");n(s,k,F,m,C,y,N,K),o(F,m,b,C,y)})};function o(f,s,d,S,M){var C,y,w,b,i=d.select("#"+f._clipPathId);i.size()||(i=d.append("clipPath").classed("carpetclip",!0));var E=g.ensureSingle(i,"path","carpetboundary"),m=s.clipsegments,F=[];for(b=0;b<m.length;b++)C=m[b],y=a([],C.x,S.c2p),w=a([],C.y,M.c2p),F.push(P(y,w,C.bicubic));var _="M"+F.join("L")+"Z";i.attr("id",f._clipPathId),E.attr("d",_)}function l(f,s,d,S,M,C){var y="const-"+M+"-lines",w=d.selectAll("."+y).data(C);w.enter().append("path").classed(y,!0).style("vector-effect","non-scaling-stroke"),w.each(function(b){var i=b,E=i.x,m=i.y,F=a([],E,f.c2p),_=a([],m,s.c2p),B="M"+P(F,_,i.smoothing),I=p.select(this);I.attr("d",B).style("stroke-width",i.width).style("stroke",i.color).style("stroke-dasharray",L.dashStyle(i.dash,i.width)).style("fill","none")}),w.exit().remove()}function c(f,s,d,S,M,C,y,w){var b=C.selectAll("text."+w).data(y);b.enter().append("text").classed(w,!0);var i=0,E={};return b.each(function(m,F){var _;if(m.axis.tickangle==="auto")_=A(S,s,d,m.xy,m.dxy);else{var B=(m.axis.tickangle+180)*Math.PI/180;_=A(S,s,d,m.xy,[Math.cos(B),Math.sin(B)])}F||(E={angle:_.angle,flip:_.flip});var I=(m.endAnchor?-1:1)*_.flip,O=p.select(this).attr({"text-anchor":I>0?"start":"end","data-notex":1}).call(L.font,m.font).text(m.text).call(v.convertToTspans,f),z=L.bBox(this);O.attr("transform",r(_.p[0],_.p[1])+t(_.angle)+r(m.axis.labelpadding*I,z.height*.3)),i=Math.max(i,z.width+m.axis.labelpadding)}),b.exit().remove(),E.maxExtent=i,E}function n(f,s,d,S,M,C,y,w){var b,i,E,m,F=g.aggNums(Math.min,null,d.a),_=g.aggNums(Math.max,null,d.a),B=g.aggNums(Math.min,null,d.b),I=g.aggNums(Math.max,null,d.b);b=.5*(F+_),i=B,E=d.ab2xy(b,i,!0),m=d.dxyda_rough(b,i),y.angle===void 0&&g.extendFlat(y,A(d,M,C,E,d.dxydb_rough(b,i))),T(f,s,d,S,E,m,d.aaxis,M,C,y,"a-title"),b=F,i=.5*(B+I),E=d.ab2xy(b,i,!0),m=d.dxydb_rough(b,i),w.angle===void 0&&g.extendFlat(w,A(d,M,C,E,d.dxyda_rough(b,i))),T(f,s,d,S,E,m,d.baxis,M,C,w,"b-title")}var x=u.LINE_SPACING,h=(1-u.MID_SHIFT)/x+1;function T(f,s,d,S,M,C,y,w,b,i,E){var m=[];y.title.text&&m.push(y.title.text);var F=s.selectAll("text."+E).data(m),_=i.maxExtent;F.enter().append("text").classed(E,!0),F.each(function(){var B=A(d,w,b,M,C);["start","both"].indexOf(y.showticklabels)===-1&&(_=0);var I=y.title.font.size;_+=I+y.title.offset;var O=i.angle+(i.flip<0?180:0),z=(O-B.angle+450)%360,k=z>90&&z<270,N=p.select(this);N.text(y.title.text).call(v.convertToTspans,f),k&&(_=(-v.lineCount(N)+h)*x*I-_),N.attr("transform",r(B.p[0],B.p[1])+t(B.angle)+r(0,_)).attr("text-anchor","middle").call(L.font,y.title.font)}),F.exit().remove()}},11435:function(W,U,e){var p=e(35509),L=e(65888).findBin,a=e(45664),P=e(20349),A=e(54495),v=e(73057);W.exports=function(t){var r=t._a,u=t._b,o=r.length,l=u.length,c=t.aaxis,n=t.baxis,x=r[0],h=r[o-1],T=u[0],f=u[l-1],s=r[r.length-1]-r[0],d=u[u.length-1]-u[0],S=s*p.RELATIVE_CULL_TOLERANCE,M=d*p.RELATIVE_CULL_TOLERANCE;x-=S,h+=S,T-=M,f+=M,t.isVisible=function(C,y){return C>x&&C<h&&y>T&&y<f},t.isOccluded=function(C,y){return C<x||C>h||y<T||y>f},t.setScale=function(){var C=t._x,y=t._y,w=a(t._xctrl,t._yctrl,C,y,c.smoothing,n.smoothing);t._xctrl=w[0],t._yctrl=w[1],t.evalxy=P([t._xctrl,t._yctrl],o,l,c.smoothing,n.smoothing),t.dxydi=A([t._xctrl,t._yctrl],c.smoothing,n.smoothing),t.dxydj=v([t._xctrl,t._yctrl],c.smoothing,n.smoothing)},t.i2a=function(C){var y=Math.max(0,Math.floor(C[0]),o-2),w=C[0]-y;return(1-w)*r[y]+w*r[y+1]},t.j2b=function(C){var y=Math.max(0,Math.floor(C[1]),o-2),w=C[1]-y;return(1-w)*u[y]+w*u[y+1]},t.ij2ab=function(C){return[t.i2a(C[0]),t.j2b(C[1])]},t.a2i=function(C){var y=Math.max(0,Math.min(L(C,r),o-2)),w=r[y],b=r[y+1];return Math.max(0,Math.min(o-1,y+(C-w)/(b-w)))},t.b2j=function(C){var y=Math.max(0,Math.min(L(C,u),l-2)),w=u[y],b=u[y+1];return Math.max(0,Math.min(l-1,y+(C-w)/(b-w)))},t.ab2ij=function(C){return[t.a2i(C[0]),t.b2j(C[1])]},t.i2c=function(C,y){return t.evalxy([],C,y)},t.ab2xy=function(C,y,w){if(!w&&(C<r[0]||C>r[o-1]|y<u[0]||y>u[l-1]))return[!1,!1];var b=t.a2i(C),i=t.b2j(y),E=t.evalxy([],b,i);if(w){var m=0,F=0,_=[],B,I,O,z;C<r[0]?(B=0,I=0,m=(C-r[0])/(r[1]-r[0])):C>r[o-1]?(B=o-2,I=1,m=(C-r[o-1])/(r[o-1]-r[o-2])):(B=Math.max(0,Math.min(o-2,Math.floor(b))),I=b-B),y<u[0]?(O=0,z=0,F=(y-u[0])/(u[1]-u[0])):y>u[l-1]?(O=l-2,z=1,F=(y-u[l-1])/(u[l-1]-u[l-2])):(O=Math.max(0,Math.min(l-2,Math.floor(i))),z=i-O),m&&(t.dxydi(_,B,O,I,z),E[0]+=_[0]*m,E[1]+=_[1]*m),F&&(t.dxydj(_,B,O,I,z),E[0]+=_[0]*F,E[1]+=_[1]*F)}return E},t.c2p=function(C,y,w){return[y.c2p(C[0]),w.c2p(C[1])]},t.p2x=function(C,y,w){return[y.p2c(C[0]),w.p2c(C[1])]},t.dadi=function(C){var y=Math.max(0,Math.min(r.length-2,C));return r[y+1]-r[y]},t.dbdj=function(C){var y=Math.max(0,Math.min(u.length-2,C));return u[y+1]-u[y]},t.dxyda=function(C,y,w,b){var i=t.dxydi(null,C,y,w,b),E=t.dadi(C,w);return[i[0]/E,i[1]/E]},t.dxydb=function(C,y,w,b){var i=t.dxydj(null,C,y,w,b),E=t.dbdj(y,b);return[i[0]/E,i[1]/E]},t.dxyda_rough=function(C,y,w){var b=s*(w||.1),i=t.ab2xy(C+b,y,!0),E=t.ab2xy(C-b,y,!0);return[(i[0]-E[0])*.5/b,(i[1]-E[1])*.5/b]},t.dxydb_rough=function(C,y,w){var b=d*(w||.1),i=t.ab2xy(C,y+b,!0),E=t.ab2xy(C,y-b,!0);return[(i[0]-E[0])*.5/b,(i[1]-E[1])*.5/b]},t.dpdx=function(C){return C._m},t.dpdy=function(C){return C._m}}},72505:function(W,U,e){var p=e(71828);W.exports=function(a,P,A){var v,g,t,r=[],u=[],o=a[0].length,l=a.length;function c(q,Q){var re=0,oe,Y=0;return q>0&&(oe=a[Q][q-1])!==void 0&&(Y++,re+=oe),q<o-1&&(oe=a[Q][q+1])!==void 0&&(Y++,re+=oe),Q>0&&(oe=a[Q-1][q])!==void 0&&(Y++,re+=oe),Q<l-1&&(oe=a[Q+1][q])!==void 0&&(Y++,re+=oe),re/Math.max(1,Y)}var n=0;for(v=0;v<o;v++)for(g=0;g<l;g++)a[g][v]===void 0&&(r.push(v),u.push(g),a[g][v]=c(v,g)),n=Math.max(n,Math.abs(a[g][v]));if(!r.length)return a;var x,h,T,f,s,d,S,M,C,y,w,b=1e-5,i=0,E=100,m=0,F=r.length;do{for(i=0,t=0;t<F;t++){v=r[t],g=u[t];var _=0,B=0,I,O,z,k,N,K;v===0?(N=Math.min(o-1,2),z=P[N],k=P[1],I=a[g][N],O=a[g][1],B+=O+(O-I)*(P[0]-k)/(k-z),_++):v===o-1&&(N=Math.max(0,o-3),z=P[N],k=P[o-2],I=a[g][N],O=a[g][o-2],B+=O+(O-I)*(P[o-1]-k)/(k-z),_++),(v===0||v===o-1)&&g>0&&g<l-1&&(x=A[g+1]-A[g],h=A[g]-A[g-1],B+=(h*a[g+1][v]+x*a[g-1][v])/(h+x),_++),g===0?(K=Math.min(l-1,2),z=A[K],k=A[1],I=a[K][v],O=a[1][v],B+=O+(O-I)*(A[0]-k)/(k-z),_++):g===l-1&&(K=Math.max(0,l-3),z=A[K],k=A[l-2],I=a[K][v],O=a[l-2][v],B+=O+(O-I)*(A[l-1]-k)/(k-z),_++),(g===0||g===l-1)&&v>0&&v<o-1&&(x=P[v+1]-P[v],h=P[v]-P[v-1],B+=(h*a[g][v+1]+x*a[g][v-1])/(h+x),_++),_?B/=_:(T=P[v+1]-P[v],f=P[v]-P[v-1],s=A[g+1]-A[g],d=A[g]-A[g-1],S=T*f*(T+f),M=s*d*(s+d),B=(S*(d*a[g+1][v]+s*a[g-1][v])+M*(f*a[g][v+1]+T*a[g][v-1]))/(M*(f+T)+S*(d+s))),C=B-a[g][v],y=C/n,i+=y*y,w=_?0:.85,a[g][v]+=C*(1+w)}i=Math.sqrt(i)}while(m++<E&&i>b);return p.log("Smoother converged to",i,"after",m,"iterations"),a}},19237:function(W,U,e){var p=e(71828).isArray1D;W.exports=function(a,P,A){var v=A("x"),g=v&&v.length,t=A("y"),r=t&&t.length;if(!g&&!r)return!1;if(P._cheater=!v,(!g||p(v))&&(!r||p(t))){var u=g?v.length:1/0;r&&(u=Math.min(u,t.length)),P.a&&P.a.length&&(u=Math.min(u,P.a.length)),P.b&&P.b.length&&(u=Math.min(u,P.b.length)),P._length=u}else P._length=null;return!0}},69568:function(W,U,e){var p=e(5386).f,L=e(19316),a=e(50693),P=e(9012),A=e(22399).defaultLine,v=e(1426).extendFlat,g=L.marker.line;W.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},g.color,{dflt:A}),width:v({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},P.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:v({},P.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(W,U,e){var p=e(92770),L=e(50606).BADNUM,a=e(78803),P=e(75225),A=e(66279);function v(g){return g&&typeof g=="string"}W.exports=function(t,r){var u=r._length,o=new Array(u),l;r.geojson?l=function(T){return v(T)||p(T)}:l=v;for(var c=0;c<u;c++){var n=o[c]={},x=r.locations[c],h=r.z[c];l(x)&&p(h)?(n.loc=x,n.z=h):(n.loc=null,n.z=L),n.index=c}return P(o,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),A(o,r),o}},61869:function(W,U,e){var p=e(71828),L=e(1586),a=e(69568);W.exports=function(A,v,g,t){function r(h,T){return p.coerce(A,v,a,h,T)}var u=r("locations"),o=r("z");if(!(u&&u.length&&p.isArrayOrTypedArray(o)&&o.length)){v.visible=!1;return}v._length=Math.min(u.length,o.length);var l=r("geojson"),c;(typeof l=="string"&&l!==""||p.isPlainObject(l))&&(c="geojson-id");var n=r("locationmode",c);n==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var x=r("marker.line.width");x&&r("marker.line.color"),r("marker.opacity"),L(A,v,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,r)}},92069:function(W){W.exports=function(e,p,L,a,P){e.location=p.location,e.z=p.z;var A=a[P];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e.ct=A.ct,e}},42300:function(W,U,e){var p=e(89298),L=e(69568),a=e(71828).fillText;W.exports=function(v,g,t){var r=v.cd,u=r[0].trace,o=v.subplot,l,c,n,x,h=[g,t],T=[g+360,t];for(c=0;c<r.length;c++)if(l=r[c],x=!1,l._polygons){for(n=0;n<l._polygons.length;n++)l._polygons[n].contains(h)&&(x=!x),l._polygons[n].contains(T)&&(x=!x);if(x)break}if(!(!x||!l))return v.x0=v.x1=v.xa.c2p(l.ct),v.y0=v.y1=v.ya.c2p(l.ct),v.index=l.index,v.location=l.loc,v.z=l.z,v.zLabel=p.tickText(o.mockAxis,o.mockAxis.c2l(l.z),"hover").text,v.hovertemplate=l.hovertemplate,P(v,u,l),[v]};function P(A,v,g){if(!v.hovertemplate){var t=g.hi||v.hoverinfo,r=String(g.loc),u=t==="all"?L.hoverinfo.flags:t.split("+"),o=u.indexOf("name")!==-1,l=u.indexOf("location")!==-1,c=u.indexOf("z")!==-1,n=u.indexOf("text")!==-1,x=!o&&l,h=[];x?A.nameOverride=r:(o&&(A.nameOverride=v.name),l&&h.push(r)),c&&h.push(A.zLabel),n&&a(g,v,h),A.extraText=h.join("<br>")}}},51319:function(W,U,e){W.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(W,U,e){var p=e(39898),L=e(71828),a=e(41327),P=e(90973).getTopojsonFeatures,A=e(71739).findExtremes,v=e(99636).style;function g(r,u,o){var l=u.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(l,o,"trace choropleth").each(function(c){var n=p.select(this),x=n.selectAll("path.choroplethlocation").data(L.identity);x.enter().append("path").classed("choroplethlocation",!0),x.exit().remove(),v(r,c)})}function t(r,u){for(var o=r[0].trace,l=u[o.geo],c=l._subplot,n=o.locationmode,x=o._length,h=n==="geojson-id"?a.extractTraceFeature(r):P(o,c.topojson),T=[],f=[],s=0;s<x;s++){var d=r[s],S=n==="geojson-id"?d.fOut:a.locationToFeature(n,d.loc,h);if(S){d.geojson=S,d.ct=S.properties.ct,d._polygons=a.feature2polygons(S);var M=a.computeBbox(S);T.push(M[0],M[2]),f.push(M[1],M[3])}else d.geojson=null}if(l.fitbounds==="geojson"&&n==="geojson-id"){var C=a.computeBbox(a.getTraceGeojson(o));T=[C[0],C[2]],f=[C[1],C[3]]}var y={padded:!0};o._extremes.lon=A(l.lonaxis._ax,T,y),o._extremes.lat=A(l.lataxis._ax,f,y)}W.exports={calcGeoJSON:t,plot:g}},81253:function(W){W.exports=function(e,p){var L=e.cd,a=e.xaxis,P=e.yaxis,A=[],v,g,t,r,u;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)g=L[v],t=g.ct,t&&(r=a.c2p(t),u=P.c2p(t),p.contains([r,u],null,v,e)?(A.push({pointNumber:v,lon:t[0],lat:t[1]}),g.selected=1):g.selected=0);return A}},99636:function(W,U,e){var p=e(39898),L=e(7901),a=e(91424),P=e(21081);function A(t,r){r&&v(t,r)}function v(t,r){var u=r[0].trace,o=r[0].node3,l=o.selectAll(".choroplethlocation"),c=u.marker||{},n=c.line||{},x=P.makeColorScaleFuncFromTrace(u);l.each(function(h){p.select(this).attr("fill",x(h.z)).call(L.stroke,h.mlc||n.color).call(a.dashLine,"",h.mlw||n.width||0).style("opacity",c.opacity)}),a.selectedPointStyle(l,u)}function g(t,r){var u=r[0].node3,o=r[0].trace;o.selectedpoints?a.selectedPointStyle(u.selectAll(".choroplethlocation"),o):v(t,r)}W.exports={style:A,styleOnSelect:g}},64496:function(W,U,e){var p=e(69568),L=e(50693),a=e(5386).f,P=e(9012),A=e(1426).extendFlat;W.exports=A({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:A({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:A({},p.marker.line.color,{editType:"plot"}),width:A({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:A({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:A({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:A({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:A({},P.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(W,U,e){var p=e(92770),L=e(71828),a=e(21081),P=e(91424),A=e(18214).makeBlank,v=e(41327);function g(r){var u=r[0].trace,o=u.visible===!0&&u._length!==0,l={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},n=u._opts={fill:l,line:c,geojson:A()};if(!o)return n;var x=v.extractTraceFeature(r);if(!x)return n;var h=a.makeColorScaleFuncFromTrace(u),T=u.marker,f=T.line||{},s;L.isArrayOrTypedArray(T.opacity)&&(s=function(i){var E=i.mo;return p(E)?+L.constrain(E,0,1):0});var d;L.isArrayOrTypedArray(f.color)&&(d=function(i){return i.mlc});var S;L.isArrayOrTypedArray(f.width)&&(S=function(i){return i.mlw});for(var M=0;M<r.length;M++){var C=r[M],y=C.fOut;if(y){var w=y.properties;w.fc=h(C.z),s&&(w.mo=s(C)),d&&(w.mlc=d(C)),S&&(w.mlw=S(C)),C.ct=w.ct,C._polygons=v.feature2polygons(y)}}var b=s?{type:"identity",property:"mo"}:T.opacity;return L.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),L.extendFlat(c.paint,{"line-color":d?{type:"identity",property:"mlc"}:f.color,"line-width":S?{type:"identity",property:"mlw"}:f.width,"line-opacity":b}),l.layout.visibility="visible",c.layout.visibility="visible",n.geojson={type:"FeatureCollection",features:x},t(r),n}function t(r){var u=r[0].trace,o=u._opts,l;if(u.selectedpoints){for(var c=P.makeSelectedPointStyleFns(u),n=0;n<r.length;n++){var x=r[n];x.fOut&&(x.fOut.properties.mo2=c.selectedOpacityFn(x))}l={type:"identity",property:"mo2"}}else l=L.isArrayOrTypedArray(u.marker.opacity)?{type:"identity",property:"mo"}:u.marker.opacity;return L.extendFlat(o.fill.paint,{"fill-opacity":l}),L.extendFlat(o.line.paint,{"line-opacity":l}),o}W.exports={convert:g,convertOnSelect:t}},22654:function(W,U,e){var p=e(71828),L=e(1586),a=e(64496);W.exports=function(A,v,g,t){function r(n,x){return p.coerce(A,v,a,n,x)}var u=r("locations"),o=r("z"),l=r("geojson");if(!p.isArrayOrTypedArray(u)||!u.length||!p.isArrayOrTypedArray(o)||!o.length||!(typeof l=="string"&&l!==""||p.isPlainObject(l))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(u.length,o.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var c=r("marker.line.width");c&&r("marker.line.color"),r("marker.opacity"),L(A,v,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,r)}},57516:function(W,U,e){W.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(p,L){if(L){var a=L[0].trace;a._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var a=L.getMapLayers(),P=a.length-2;P>=0;P--){var A=a[P].id;if(typeof A=="string"&&A.indexOf("water")===0){for(var v=P+1;v<a.length;v++)if(A=a[v].id,typeof A=="string"&&A.indexOf("plotly-")===-1)return A}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(W,U,e){var p=e(82004).convert,L=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function P(v,g){this.type="choroplethmapbox",this.subplot=v,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",a+g+"-fill"],["line",a+g+"-line"]],this.below=null}var A=P.prototype;A.update=function(v){this._update(p(v)),v[0].trace._glTrace=this},A.updateOnSelect=function(v){this._update(L(v))},A._update=function(v){var g=this.subplot,t=this.layerList,r=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var u=0;u<t.length;u++){var o=t[u],l=o[0],c=o[1],n=v[l];g.setOptions(c,"setLayoutProperty",n.layout),n.layout.visibility==="visible"&&g.setOptions(c,"setPaintProperty",n.paint)}},A._addLayers=function(v,g){for(var t=this.subplot,r=this.layerList,u=this.sourceId,o=0;o<r.length;o++){var l=r[o],c=l[0],n=v[c];t.addLayer({type:c,id:l[1],source:u,layout:n.layout,paint:n.paint},g)}},A._removeLayers=function(){for(var v=this.subplot.map,g=this.layerList,t=g.length-1;t>=0;t--)v.removeLayer(g[t][1])},A.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},W.exports=function(g,t){var r=t[0].trace,u=new P(g,r.uid),o=u.sourceId,l=p(t),c=u.below=g.belowLookup["trace-"+r.uid];return g.map.addSource(o,{type:"geojson",data:l.geojson}),u._addLayers(l,c),t[0].trace._glTrace=u,u}},12674:function(W,U,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(2418),A=e(9012),v=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=P[r]}),g.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,W.exports=g},31371:function(W,U,e){var p=e(78803);W.exports=function(a,P){for(var A=P.u,v=P.v,g=P.w,t=Math.min(P.x.length,P.y.length,P.z.length,A.length,v.length,g.length),r=-1/0,u=1/0,o=0;o<t;o++){var l=A[o],c=v[o],n=g[o],x=Math.sqrt(l*l+c*c+n*n);r=Math.max(r,x),u=Math.min(u,x)}P._len=t,P._normMax=r,p(a,P,{vals:[u,r],containerStr:"",cLetter:"c"})}},5453:function(W,U,e){var p=e(9330).gl_cone3d,L=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,P=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060);function g(n,x){this.scene=n,this.uid=x,this.mesh=null,this.data=null}var t=g.prototype;t.handlePick=function(n){if(n.object===this.mesh){var x=n.index=n.data.index,h=this.data.x[x],T=this.data.y[x],f=this.data.z[x],s=this.data.u[x],d=this.data.v[x],S=this.data.w[x];n.traceCoordinate=[h,T,f,s,d,S,Math.sqrt(s*s+d*d+S*S)];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[x]!==void 0?n.textLabel=M[x]:M&&(n.textLabel=M),!0}};var r={xaxis:0,yaxis:1,zaxis:2},u={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(n,x){var h=n.fullSceneLayout,T=n.dataScale,f={};function s(C,y){var w=h[y],b=T[r[y]];return a(C,function(i){return w.d2l(i)*b})}f.vectors=v(s(x.u,"xaxis"),s(x.v,"yaxis"),s(x.w,"zaxis"),x._len),f.positions=v(s(x.x,"xaxis"),s(x.y,"yaxis"),s(x.z,"zaxis"),x._len);var d=A(x);f.colormap=P(x),f.vertexIntensityBounds=[d.min/x._normMax,d.max/x._normMax],f.coneOffset=u[x.anchor],x.sizemode==="scaled"?f.coneSize=x.sizeref||.5:f.coneSize=x.sizeref&&x._normMax?x.sizeref/x._normMax:.5;var S=p(f),M=x.lightposition;return S.lightPosition=[M.x,M.y,M.z],S.ambient=x.lighting.ambient,S.diffuse=x.lighting.diffuse,S.specular=x.lighting.specular,S.roughness=x.lighting.roughness,S.fresnel=x.lighting.fresnel,S.opacity=x.opacity,x._pad=o[x.anchor]*S.vectorScale*S.coneScale*x._normMax,S}t.update=function(n){this.data=n;var x=l(this.scene,n);this.mesh.update(x)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(n,x){var h=n.glplot.gl,T=l(n,x),f=L(h,T),s=new g(n,x.uid);return s.mesh=f,s.data=x,f._trace=s,n.glplot.add(f),s}W.exports=c},91750:function(W,U,e){var p=e(71828),L=e(1586),a=e(12674);W.exports=function(A,v,g,t){function r(h,T){return p.coerce(A,v,a,h,T)}var u=r("u"),o=r("v"),l=r("w"),c=r("x"),n=r("y"),x=r("z");if(!u||!u.length||!o||!o.length||!l||!l.length||!c||!c.length||!n||!n.length||!x||!x.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(W,U,e){W.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},70600:function(W,U,e){var p=e(21606),L=e(82196),a=e(12663),P=a.axisHoverFormat,A=a.descriptionOnlyNumbers,v=e(50693),g=e(79952).P,t=e(41940),r=e(1426).extendFlat,u=e(74808),o=u.COMPARISON_OPS2,l=u.INTERVAL_OPS,c=L.line;W.exports=r({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:p.hovertemplate,texttemplate:r({},p.texttemplate,{}),textfont:r({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:r({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:A("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:r({},c.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(W,U,e){var p=e(21081),L=e(90757),a=e(18670),P=e(53572);W.exports=function(v,g){var t=L(v,g),r=t[0].z;a(g,r);var u=g.contours,o=p.extractOpts(g),l;if(u.coloring==="heatmap"&&o.auto&&g.autocontour===!1){var c=u.start,n=P(u),x=u.size||1,h=Math.floor((n-c)/x)+1;isFinite(x)||(x=1,h=1);var T=c-x/2,f=T+h*x;l=[T,f]}else l=r;return p.calc(v,g,{vals:l,cLetter:"z"}),t}},20083:function(W){W.exports=function(U,e){var p=U[0],L=p.z,a;switch(e.type){case"levels":var P=Math.min(L[0][0],L[0][1]);for(a=0;a<U.length;a++){var A=U[a];A.prefixBoundary=!A.edgepaths.length&&(P>A.level||A.starts.length&&P===A.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var v=p.x.length,g=p.y.length,t=-1/0,r=1/0;for(a=0;a<g;a++)r=Math.min(r,L[a][0]),r=Math.min(r,L[a][v-1]),t=Math.max(t,L[a][0]),t=Math.max(t,L[a][v-1]);for(a=1;a<v-1;a++)r=Math.min(r,L[0][a]),r=Math.min(r,L[g-1][a]),t=Math.max(t,L[0][a]),t=Math.max(t,L[g-1][a]);var u=e.value,o,l;switch(e._operation){case">":u>t&&(p.prefixBoundary=!0);break;case"<":(u<r||p.starts.length&&u===r)&&(p.prefixBoundary=!0);break;case"[]":o=Math.min(u[0],u[1]),l=Math.max(u[0],u[1]),(l<r||o>t||p.starts.length&&l===r)&&(p.prefixBoundary=!0);break;case"][":o=Math.min(u[0],u[1]),l=Math.max(u[0],u[1]),o<r&&l>t&&(p.prefixBoundary=!0);break}break}}},90654:function(W,U,e){var p=e(21081),L=e(86068),a=e(53572);function P(A,v,g){var t=v.contours,r=v.line,u=t.size||1,o=t.coloring,l=L(v,{isColorbar:!0});if(o==="heatmap"){var c=p.extractOpts(v);g._fillgradient=c.reversescale?p.flipScale(c.colorscale):c.colorscale,g._zrange=[c.min,c.max]}else o==="fill"&&(g._fillcolor=l);g._line={color:o==="lines"?l:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},g._levels={start:t.start,end:a(t),size:u}}W.exports={min:"zmin",max:"zmax",calc:P}},36914:function(W){W.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(W,U,e){var p=e(92770),L=e(14523),a=e(7901),P=a.addOpacity,A=a.opacity,v=e(74808),g=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;W.exports=function(o,l,c,n,x,h){var T=l.contours,f,s,d,S=c("contours.operation");if(T._operation=g[S],r(c,T),S==="="?f=T.showlines=!0:(f=c("contours.showlines"),d=c("fillcolor",P((o.line||{}).color||x,.5))),f){var M=d&&A(d)?P(l.fillcolor,1):x;s=c("line.color",M),c("line.width",2),c("line.dash")}c("line.smoothing"),L(c,n,s,h)};function r(u,o){var l;t.indexOf(o.operation)===-1?(u("contours.value",[0,1]),Array.isArray(o.value)?o.value.length>2?o.value=o.value.slice(2):o.length===0?o.value=[0,1]:o.length<2?(l=parseFloat(o.value[0]),o.value=[l,l+1]):o.value=[parseFloat(o.value[0]),parseFloat(o.value[1])]:p(o.value)&&(l=parseFloat(o.value),o.value=[l,l+1])):(u("contours.value",0),p(o.value)||(Array.isArray(o.value)?o.value=parseFloat(o.value[0]):o.value=0))}},64237:function(W,U,e){var p=e(74808),L=e(92770);W.exports={"[]":P("[]"),"][":P("]["),">":A(">"),"<":A("<"),"=":A("=")};function a(v,g){var t=Array.isArray(g),r;function u(o){return L(o)?+o:null}return p.COMPARISON_OPS2.indexOf(v)!==-1?r=u(t?g[0]:g):p.INTERVAL_OPS.indexOf(v)!==-1?r=t?[u(g[0]),u(g[1])]:[u(g),u(g)]:p.SET_OPS.indexOf(v)!==-1&&(r=t?g.map(u):[u(g)]),r}function P(v){return function(g){g=a(v,g);var t=Math.min(g[0],g[1]),r=Math.max(g[0],g[1]);return{start:t,end:r,size:r-t}}}function A(v){return function(g){return g=a(v,g),{start:g,end:1/0,size:1/0}}}},67217:function(W){W.exports=function(e,p,L,a){var P=a("contours.start"),A=a("contours.end"),v=P===!1||A===!1,g=L("contours.size"),t;v?t=p.autocontour=!0:t=L("autocontour",!1),(t||!g)&&L("ncontours")}},84857:function(W,U,e){var p=e(71828);W.exports=function(a,P){var A,v,g,t=function(o){return o.reverse()},r=function(o){return o};switch(P){case"=":case"<":return a;case">":for(a.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),v=a[0],A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);return a;case"][":var u=t;t=r,r=u;case"[]":for(a.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),v=L(a[0]),g=L(a[1]),A=0;A<v.edgepaths.length;A++)v.edgepaths[A]=t(v.edgepaths[A]);for(A=0;A<v.paths.length;A++)v.paths[A]=t(v.paths[A]);for(A=0;A<v.starts.length;A++)v.starts[A]=t(v.starts[A]);for(;g.edgepaths.length;)v.edgepaths.push(r(g.edgepaths.shift()));for(;g.paths.length;)v.paths.push(r(g.paths.shift()));for(;g.starts.length;)v.starts.push(r(g.starts.shift()));return[v]}};function L(a){return p.extendFlat({},a,{edgepaths:p.extendDeep([],a.edgepaths),paths:p.extendDeep([],a.paths),starts:p.extendDeep([],a.starts)})}},13031:function(W,U,e){var p=e(71828),L=e(67684),a=e(73927),P=e(83179),A=e(67217),v=e(8724),g=e(58623),t=e(70600);W.exports=function(u,o,l,c){function n(f,s){return p.coerce(u,o,t,f,s)}function x(f){return p.coerce2(u,o,t,f)}var h=L(u,o,n,c);if(!h){o.visible=!1;return}a(u,o,c,n),n("xhoverformat"),n("yhoverformat"),n("text"),n("hovertext"),n("hoverongaps"),n("hovertemplate");var T=n("contours.type")==="constraint";n("connectgaps",p.isArray1D(o.z)),T?P(u,o,n,c,l):(A(u,o,n,x),v(u,o,n,c)),o.contours&&o.contours.coloring==="heatmap"&&g(n,c)}},87558:function(W,U,e){var p=e(71828),L=e(64237),a=e(53572);W.exports=function(A,v,g){for(var t=A.type==="constraint"?L[A._operation](A.value):A,r=t.size,u=[],o=a(t),l=g.trace._carpetTrace,c=l?{xaxis:l.aaxis,yaxis:l.baxis,x:g.a,y:g.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:g.x,y:g.y},n=t.start;n<o;n+=r)if(u.push(p.extendFlat({level:n,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},c)),u.length>1e3){p.warn("Too many contours, clipping at 1000",A);break}return u}},53572:function(W){W.exports=function(e){return e.end+e.size/1e6}},81696:function(W,U,e){var p=e(71828),L=e(36914);W.exports=function(r,u,o){var l,c,n,x,h;for(u=u||.01,o=o||.01,n=0;n<r.length;n++){for(x=r[n],h=0;h<x.starts.length;h++)c=x.starts[h],A(x,c,"edge",u,o);for(l=0;Object.keys(x.crossings).length&&l<1e4;)l++,c=Object.keys(x.crossings)[0].split(",").map(Number),A(x,c,void 0,u,o);l===1e4&&p.log("Infinite loop in contour?")}};function a(t,r,u,o){return Math.abs(t[0]-r[0])<u&&Math.abs(t[1]-r[1])<o}function P(t,r){var u=t[2]-r[2],o=t[3]-r[3];return Math.sqrt(u*u+o*o)}function A(t,r,u,o,l){var c=r.join(","),n=t.crossings[c],x=v(n,u,r),h=[g(t,r,[-x[0],-x[1]])],T=t.z.length,f=t.z[0].length,s=r.slice(),d=x.slice(),S;for(S=0;S<1e4;S++){if(n>20?(n=L.CHOOSESADDLE[n][(x[0]||x[1])<0?0:1],t.crossings[c]=L.SADDLEREMAINDER[n]):delete t.crossings[c],x=L.NEWDELTA[n],!x){p.log("Found bad marching index:",n,r,t.level);break}h.push(g(t,r,x)),r[0]+=x[0],r[1]+=x[1],c=r.join(","),a(h[h.length-1],h[h.length-2],o,l)&&h.pop();var M=x[0]&&(r[0]<0||r[0]>f-2)||x[1]&&(r[1]<0||r[1]>T-2),C=r[0]===s[0]&&r[1]===s[1]&&x[0]===d[0]&&x[1]===d[1];if(C||u&&M)break;n=t.crossings[c]}S===1e4&&p.log("Infinite loop in contour?");var y=a(h[0],h[h.length-1],o,l),w=0,b=.2*t.smoothing,i=[],E=0,m,F,_,B,I,O,z,k,N,K,q;for(S=1;S<h.length;S++)z=P(h[S],h[S-1]),w+=z,i.push(z);var Q=w/i.length*b;function re(G){return h[G%h.length]}for(S=h.length-2;S>=E;S--)if(m=i[S],m<Q){for(_=0,F=S-1;F>=E&&m+i[F]<Q;F--)m+=i[F];if(y&&S===h.length-2)for(_=0;_<F&&m+i[_]<Q;_++)m+=i[_];I=S-F+_+1,O=Math.floor((S+F+_+2)/2),!y&&S===h.length-2?B=h[h.length-1]:!y&&F===-1?B=h[0]:I%2?B=re(O):B=[(re(O)[0]+re(O+1)[0])/2,(re(O)[1]+re(O+1)[1])/2],h.splice(F+1,S-F+1,B),S=F+1,_&&(E=_),y&&(S===h.length-2?h[_]=h[h.length-1]:S===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),S=0;S<h.length;S++)h[S].length=2;if(!(h.length<2))if(y)h.pop(),t.paths.push(h);else{u||p.log("Unclosed interior contour?",t.level,s.join(","),h.join("L"));var oe=!1;for(k=0;k<t.edgepaths.length;k++)if(K=t.edgepaths[k],!oe&&a(K[0],h[h.length-1],o,l)){h.pop(),oe=!0;var Y=!1;for(N=0;N<t.edgepaths.length;N++)if(q=t.edgepaths[N],a(q[q.length-1],h[0],o,l)){Y=!0,h.shift(),t.edgepaths.splice(k,1),N===k?t.paths.push(h.concat(q)):(N>k&&N--,t.edgepaths[N]=q.concat(h,K));break}Y||(t.edgepaths[k]=h.concat(K))}for(k=0;k<t.edgepaths.length&&!oe;k++)K=t.edgepaths[k],a(K[K.length-1],h[0],o,l)&&(h.shift(),t.edgepaths[k]=K.concat(h),oe=!0);oe||t.edgepaths.push(h)}}function v(t,r,u){var o=0,l=0;return t>20&&r?t===208||t===1114?o=u[0]===0?1:-1:l=u[1]===0?1:-1:L.BOTTOMSTART.indexOf(t)!==-1?l=1:L.LEFTSTART.indexOf(t)!==-1?o=1:L.TOPSTART.indexOf(t)!==-1?l=-1:o=-1,[o,l]}function g(t,r,u){var o=r[0]+Math.max(u[0],0),l=r[1]+Math.max(u[1],0),c=t.z[l][o],n=t.xaxis,x=t.yaxis;if(u[1]){var h=(t.level-c)/(t.z[l][o+1]-c),T=(h!==1?(1-h)*n.c2l(t.x[o]):0)+(h!==0?h*n.c2l(t.x[o+1]):0);return[n.c2p(n.l2c(T),!0),x.c2p(t.y[l],!0),o+h,l]}else{var f=(t.level-c)/(t.z[l+1][o]-c),s=(f!==1?(1-f)*x.c2l(t.y[l]):0)+(f!==0?f*x.c2l(t.y[l+1]):0);return[n.c2p(t.x[o],!0),x.c2p(x.l2c(s),!0),o,l+f]}}},52421:function(W,U,e){var p=e(7901),L=e(46248);W.exports=function(P,A,v,g,t){t||(t={}),t.isContour=!0;var r=L(P,A,v,g,t);return r&&r.forEach(function(u){var o=u.trace;o.contours.type==="constraint"&&(o.fillcolor&&p.opacity(o.fillcolor)?u.color=p.addOpacity(o.fillcolor,1):o.contours.showlines&&p.opacity(o.line.color)&&(u.color=p.addOpacity(o.line.color,1)))}),r}},99442:function(W,U,e){W.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(W,U,e){var p=e(71828);W.exports=function(a,P,A,v){v||(v={});var g=a("contours.showlabels");if(g){var t=P.font;p.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:A}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},86068:function(W,U,e){var p=e(39898),L=e(21081),a=e(53572);W.exports=function(A){var v=A.contours,g=v.start,t=a(v),r=v.size||1,u=Math.floor((t-g)/r)+1,o=v.coloring==="lines"?0:1,l=L.extractOpts(A);isFinite(r)||(r=1,u=1);var c=l.reversescale?L.flipScale(l.colorscale):l.colorscale,n=c.length,x=new Array(n),h=new Array(n),T,f;if(v.coloring==="heatmap"){var s=l.min,d=l.max;for(f=0;f<n;f++)T=c[f],x[f]=T[0]*(d-s)+s,h[f]=T[1];var S=p.extent([s,d,v.start,v.start+r*(u-1)]),M=S[s<d?0:1],C=S[s<d?1:0];M!==s&&(x.splice(0,0,M),h.splice(0,0,h[0])),C!==d&&(x.push(C),h.push(h[h.length-1]))}else for(f=0;f<n;f++)T=c[f],x[f]=(T[0]*(u+o-1)-o/2)*r+g,h[f]=T[1];return L.makeColorScaleFunc({domain:x,range:h},{noNumericCheck:!0})}},87678:function(W,U,e){var p=e(36914);W.exports=function(P){var A=P[0].z,v=A.length,g=A[0].length,t=v===2||g===2,r,u,o,l,c,n,x,h,T;for(u=0;u<v-1;u++)for(l=[],u===0&&(l=l.concat(p.BOTTOMSTART)),u===v-2&&(l=l.concat(p.TOPSTART)),r=0;r<g-1;r++)for(o=l.slice(),r===0&&(o=o.concat(p.LEFTSTART)),r===g-2&&(o=o.concat(p.RIGHTSTART)),c=r+","+u,n=[[A[u][r],A[u][r+1]],[A[u+1][r],A[u+1][r+1]]],T=0;T<P.length;T++)h=P[T],x=L(h.level,n),x&&(h.crossings[c]=x,o.indexOf(x)!==-1&&(h.starts.push([r,u]),t&&o.indexOf(x,o.indexOf(x)+1)!==-1&&h.starts.push([r,u])))};function L(a,P){var A=(P[0][0]>a?0:1)+(P[0][1]>a?0:2)+(P[1][1]>a?0:4)+(P[1][0]>a?0:8);if(A===5||A===10){var v=(P[0][0]+P[0][1]+P[1][0]+P[1][1])/4;return a>v?A===5?713:1114:A===5?104:208}return A===15?0:A}},29854:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(21081),A=e(63893),v=e(89298),g=e(21994),t=e(50347),r=e(87678),u=e(81696),o=e(87558),l=e(84857),c=e(20083),n=e(36914),x=n.LABELOPTIMIZER;U.plot=function(y,w,b,i){var E=w.xaxis,m=w.yaxis;L.makeTraceGroups(i,b,"contour").each(function(F){var _=p.select(this),B=F[0],I=B.trace,O=B.x,z=B.y,k=I.contours,N=o(k,w,B),K=L.ensureSingle(_,"g","heatmapcoloring"),q=[];k.coloring==="heatmap"&&(q=[F]),t(y,w,q,K),r(N),u(N);var Q=E.c2p(O[0],!0),re=E.c2p(O[O.length-1],!0),oe=m.c2p(z[0],!0),Y=m.c2p(z[z.length-1],!0),G=[[Q,Y],[re,Y],[re,oe],[Q,oe]],V=N;k.type==="constraint"&&(V=l(N,k._operation)),h(_,G,k),T(_,V,G,k),s(_,N,y,B,k),S(_,w,y,B,G)})};function h(C,y,w){var b=L.ensureSingle(C,"g","contourbg"),i=b.selectAll("path").data(w.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function T(C,y,w,b){var i=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",E="M"+w.join("L")+"Z";i&&c(y,b);var m=L.ensureSingle(C,"g","contourfill"),F=m.selectAll("path").data(i?y:[]);F.enter().append("path"),F.exit().remove(),F.each(function(_){var B=(_.prefixBoundary?E:"")+f(_,w);B?p.select(this).attr("d",B).style("stroke","none"):p.select(this).remove()})}function f(C,y){var w="",b=0,i=C.edgepaths.map(function(Q,re){return re}),E=!0,m,F,_,B,I,O;function z(Q){return Math.abs(Q[1]-y[0][1])<.01}function k(Q){return Math.abs(Q[1]-y[2][1])<.01}function N(Q){return Math.abs(Q[0]-y[0][0])<.01}function K(Q){return Math.abs(Q[0]-y[2][0])<.01}for(;i.length;){for(O=a.smoothopen(C.edgepaths[b],C.smoothing),w+=E?O:O.replace(/^M/,"L"),i.splice(i.indexOf(b),1),m=C.edgepaths[b][C.edgepaths[b].length-1],B=-1,_=0;_<4;_++){if(!m){L.log("Missing end?",b,C);break}for(z(m)&&!K(m)?F=y[1]:N(m)?F=y[0]:k(m)?F=y[3]:K(m)&&(F=y[2]),I=0;I<C.edgepaths.length;I++){var q=C.edgepaths[I][0];Math.abs(m[0]-F[0])<.01?Math.abs(m[0]-q[0])<.01&&(q[1]-m[1])*(F[1]-q[1])>=0&&(F=q,B=I):Math.abs(m[1]-F[1])<.01?Math.abs(m[1]-q[1])<.01&&(q[0]-m[0])*(F[0]-q[0])>=0&&(F=q,B=I):L.log("endpt to newendpt is not vert. or horz.",m,F,q)}if(m=F,B>=0)break;w+="L"+F}if(B===C.edgepaths.length){L.log("unclosed perimeter path");break}b=B,E=i.indexOf(b)===-1,E&&(b=i[0],w+="Z")}for(b=0;b<C.paths.length;b++)w+=a.smoothclosed(C.paths[b],C.smoothing);return w}function s(C,y,w,b,i){var E=L.ensureSingle(C,"g","contourlines"),m=i.showlines!==!1,F=i.showlabels,_=m&&F,B=U.createLines(E,m||F,y),I=U.createLineClip(E,_,w,b.trace.uid),O=C.selectAll("g.contourlabels").data(F?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),F){var z=[],k=[];L.clearLocationCache();var N=U.labelFormatter(w,b),K=a.tester.append("text").attr("data-notex",1).call(a.font,i.labelfont),q=y[0].xaxis,Q=y[0].yaxis,re=q._length,oe=Q._length,Y=q.range,G=Q.range,V=L.aggNums(Math.min,null,b.x),Z=L.aggNums(Math.max,null,b.x),ae=L.aggNums(Math.min,null,b.y),ie=L.aggNums(Math.max,null,b.y),J=Math.max(q.c2p(V,!0),0),$=Math.min(q.c2p(Z,!0),re),se=Math.max(Q.c2p(ie,!0),0),ee=Math.min(Q.c2p(ae,!0),oe),ue={};Y[0]<Y[1]?(ue.left=J,ue.right=$):(ue.left=$,ue.right=J),G[0]<G[1]?(ue.top=se,ue.bottom=ee):(ue.top=ee,ue.bottom=se),ue.middle=(ue.top+ue.bottom)/2,ue.center=(ue.left+ue.right)/2,z.push([[ue.left,ue.top],[ue.right,ue.top],[ue.right,ue.bottom],[ue.left,ue.bottom]]);var ge=Math.sqrt(re*re+oe*oe),Te=n.LABELDISTANCE*ge/Math.max(1,y.length/n.LABELINCREASE);B.each(function(xe){var Pe=U.calcTextOpts(xe.level,N,K,w);p.select(this).selectAll("path").each(function(){var Ie=this,Ae=L.getVisibleSegment(Ie,ue,Pe.height/2);if(Ae&&!(Ae.len<(Pe.width+Pe.height)*n.LABELMIN))for(var be=Math.min(Math.ceil(Ae.len/Te),n.LABELMAX),_e=0;_e<be;_e++){var Ve=U.findBestTextLocation(Ie,Ae,Pe,k,ue);if(!Ve)break;U.addLabelData(Ve,Pe,k,z)}})}),K.remove(),U.drawLabels(O,k,w,I,_?z:null)}F&&!m&&B.remove()}U.createLines=function(C,y,w){var b=w[0].smoothing,i=C.selectAll("g.contourlevel").data(y?w:[]);if(i.exit().remove(),i.enter().append("g").classed("contourlevel",!0),y){var E=i.selectAll("path.openline").data(function(F){return F.pedgepaths||F.edgepaths});E.exit().remove(),E.enter().append("path").classed("openline",!0),E.attr("d",function(F){return a.smoothopen(F,b)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var m=i.selectAll("path.closedline").data(function(F){return F.ppaths||F.paths});m.exit().remove(),m.enter().append("path").classed("closedline",!0),m.attr("d",function(F){return a.smoothclosed(F,b)}).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}return i},U.createLineClip=function(C,y,w,b){var i=w._fullLayout._clips,E=y?"clipline"+b:null,m=i.selectAll("#"+E).data(y?[0]:[]);return m.exit().remove(),m.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),a.setClipUrl(C,E,w),m},U.labelFormatter=function(C,y){var w=C._fullLayout,b=y.trace,i=b.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)E.tickformat=i.labelformat,g(E,w);else{var m=P.extractOpts(b);if(m&&m.colorbar&&m.colorbar._axis)E=m.colorbar._axis;else{if(i.type==="constraint"){var F=i.value;Array.isArray(F)?E.range=[F[0],F[F.length-1]]:E.range=[F,F]}else E.range=[i.start,i.end],E.nticks=(i.end-i.start)/i.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),g(E,w),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(_){return v.tickText(E,_).text}},U.calcTextOpts=function(C,y,w,b){var i=y(C);w.text(i).call(A.convertToTspans,b);var E=w.node(),m=a.bBox(E,!0);return{text:i,width:m.width,height:m.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(m.top+m.bottom)/2}},U.findBestTextLocation=function(C,y,w,b,i){var E=w.width,m,F,_,B,I;y.isClosed?(F=y.len/x.INITIALSEARCHPOINTS,m=y.min+F/2,_=y.max):(F=(y.len-E)/(x.INITIALSEARCHPOINTS+1),m=y.min+F+E/2,_=y.max-(F+E)/2);for(var O=1/0,z=0;z<x.ITERATIONS;z++){for(var k=m;k<_;k+=F){var N=L.getTextLocation(C,y.total,k,E),K=d(N,w,b,i);K<O&&(O=K,I=N,B=k)}if(O>x.MAXCOST*2)break;z&&(F/=2),m=B-F/2,_=m+F*1.5}if(O<=x.MAXCOST)return I};function d(C,y,w,b){var i=y.width/2,E=y.height/2,m=C.x,F=C.y,_=C.theta,B=Math.cos(_)*i,I=Math.sin(_)*i,O=(m>b.center?b.right-m:m-b.left)/(B+Math.abs(Math.sin(_)*E)),z=(F>b.middle?b.bottom-F:F-b.top)/(Math.abs(I)+Math.cos(_)*E);if(O<1||z<1)return 1/0;var k=x.EDGECOST*(1/(O-1)+1/(z-1));k+=x.ANGLECOST*_*_;for(var N=m-B,K=F-I,q=m+B,Q=F+I,re=0;re<w.length;re++){var oe=w[re],Y=Math.cos(oe.theta)*oe.width/2,G=Math.sin(oe.theta)*oe.width/2,V=L.segmentDistance(N,K,q,Q,oe.x-Y,oe.y-G,oe.x+Y,oe.y+G)*2/(y.height+oe.height),Z=oe.level===y.level,ae=Z?x.SAMELEVELDISTANCE:1;if(V<=ae)return 1/0;var ie=x.NEIGHBORCOST*(Z?x.SAMELEVELFACTOR:1);k+=ie/(V-ae)}return k}U.addLabelData=function(C,y,w,b){var i=y.fontSize,E=y.width+i/3,m=Math.max(0,y.height-i/3),F=C.x,_=C.y,B=C.theta,I=Math.sin(B),O=Math.cos(B),z=function(N,K){return[F+N*O-K*I,_+N*I+K*O]},k=[z(-E/2,-m/2),z(-E/2,m/2),z(E/2,m/2),z(E/2,-m/2)];w.push({text:y.text,x:F,y:_,dy:y.dy,theta:B,level:y.level,width:E,height:m}),b.push(k)},U.drawLabels=function(C,y,w,b,i){var E=C.selectAll("text").data(y,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var I=B.x+Math.sin(B.theta)*B.dy,O=B.y-Math.cos(B.theta)*B.dy;p.select(this).text(B.text).attr({x:I,y:O,transform:"rotate("+180*B.theta/Math.PI+" "+I+" "+O+")"}).call(A.convertToTspans,w)}),i){for(var m="",F=0;F<i.length;F++)m+="M"+i[F].join("L")+"Z";var _=L.ensureSingle(b,"path","");_.attr("d",m)}};function S(C,y,w,b,i){var E=b.trace,m=w._fullLayout._clips,F="clip"+E.uid,_=m.selectAll("#"+F).data(E.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",F),_.exit().remove(),E.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:b.x,y:b.y,z:M(b),smoothing:0};r([B]),u([B]),c([B],{type:"levels"});var I=L.ensureSingle(_,"path","");I.attr("d",(B.prefixBoundary?"M"+i.join("L")+"Z":"")+f(B,i))}else F=null;a.setClipUrl(C,F,w)}function M(C){var y=C.trace._emptypoints,w=[],b=C.z.length,i=C.z[0].length,E,m=[],F;for(E=0;E<i;E++)m.push(1);for(E=0;E<b;E++)w.push(m.slice());for(E=0;E<y.length;E++)F=y[E],w[F[0]][F[1]]=0;return C.zmask=w,w}},18670:function(W,U,e){var p=e(89298),L=e(71828);W.exports=function(A,v){var g=A.contours;if(A.autocontour){var t=A.zmin,r=A.zmax;(A.zauto||t===void 0)&&(t=L.aggNums(Math.min,null,v)),(A.zauto||r===void 0)&&(r=L.aggNums(Math.max,null,v));var u=a(t,r,A.ncontours);g.size=u.dtick,g.start=p.tickFirst(u),u.range.reverse(),g.end=p.tickFirst(u),g.start===t&&(g.start+=g.size),g.end===r&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),A._input.contours||(A._input.contours={}),L.extendFlat(A._input.contours,{start:g.start,end:g.end,size:g.size}),A._input.autocontour=!0}else if(g.type!=="constraint"){var o=g.start,l=g.end,c=A._input.contours;if(o>l&&(g.start=c.start=l,l=g.end=c.end=o,o=g.start),!(g.size>0)){var n;o===l?n=1:n=a(o,l,A.ncontours).dtick,c.size=g.size=n}}};function a(P,A,v){var g={type:"linear",range:[P,A]};return p.autoTicks(g,(A-P)/(v||15)),g}},84426:function(W,U,e){var p=e(39898),L=e(91424),a=e(70035),P=e(86068);W.exports=function(v){var g=p.select(v).selectAll("g.contour");g.style("opacity",function(t){return t[0].trace.opacity}),g.each(function(t){var r=p.select(this),u=t[0].trace,o=u.contours,l=u.line,c=o.size||1,n=o.start,x=o.type==="constraint",h=!x&&o.coloring==="lines",T=!x&&o.coloring==="fill",f=h||T?P(u):null;r.selectAll("g.contourlevel").each(function(S){p.select(this).selectAll("path").call(L.lineGroupStyle,l.width,h?f(S.level):l.color,l.dash)});var s=o.labelfont;if(r.selectAll("g.contourlabels text").each(function(S){L.font(p.select(this),{family:s.family,size:s.size,color:s.color||(h?f(S.level):l.color)})}),x)r.selectAll("g.contourfill path").style("fill",u.fillcolor);else if(T){var d;r.selectAll("g.contourfill path").style("fill",function(S){return d===void 0&&(d=S.level),f(S.level+.5*c)}),d===void 0&&(d=n),r.selectAll("g.contourbg path").style("fill",f(d-.5*c))}}),a(v)}},8724:function(W,U,e){var p=e(1586),L=e(14523);W.exports=function(P,A,v,g,t){var r=v("contours.coloring"),u,o="";r==="fill"&&(u=v("contours.showlines")),u!==!1&&(r!=="lines"&&(o=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(P.showlegend!==!0&&(A.showlegend=!1),A._dfltShowLegend=!1,p(P,A,g,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,g,o,t)}},88085:function(W,U,e){var p=e(21606),L=e(70600),a=e(50693),P=e(1426).extendFlat,A=L.contours;W.exports=P({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:A.type,start:A.start,end:A.end,size:A.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:A.showlines,showlabels:A.showlabels,labelfont:A.labelfont,labelformat:A.labelformat,operation:A.operation,value:A.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(W,U,e){var p=e(78803),L=e(71828),a=e(68296),P=e(4742),A=e(824),v=e(43907),g=e(70769),t=e(75005),r=e(22882),u=e(18670);W.exports=function(c,n){var x=n._carpetTrace=r(c,n);if(!(!x||!x.visible||x.visible==="legendonly")){if(!n.a||!n.b){var h=c.data[x.index],T=c.data[n.index];T.a||(T.a=h.a),T.b||(T.b=h.b),t(T,n,n._defaultColor,c._fullLayout)}var f=o(c,n);return u(n,n._z),f}};function o(l,c){var n=c._carpetTrace,x=n.aaxis,h=n.baxis,T,f,s,d,S,M,C;x._minDtick=0,h._minDtick=0,L.isArray1D(c.z)&&a(c,x,h,"a","b",["z"]),T=c._a=c._a||c.a,d=c._b=c._b||c.b,T=T?x.makeCalcdata(c,"_a"):[],d=d?h.makeCalcdata(c,"_b"):[],f=c.a0||0,s=c.da||1,S=c.b0||0,M=c.db||1,C=c._z=P(c._z||c.z,c.transpose),c._emptypoints=v(C),A(C,c._emptypoints);var y=L.maxRowLength(C),w=c.xtype==="scaled"?"":T,b=g(c,w,f,s,y,x),i=c.ytype==="scaled"?"":d,E=g(c,i,S,M,C.length,h),m={a:b,b:E,z:C};return c.contours.type==="levels"&&c.contours.coloring!=="none"&&p(l,c,{vals:C,containerStr:"",cLetter:"z"}),[m]}},75005:function(W,U,e){var p=e(71828),L=e(67684),a=e(88085),P=e(83179),A=e(67217),v=e(8724);W.exports=function(t,r,u,o){function l(h,T){return p.coerce(t,r,a,h,T)}function c(h){return p.coerce2(t,r,a,h)}if(l("carpet"),t.a&&t.b){var n=L(t,r,l,o,"a","b");if(!n){r.visible=!1;return}l("text");var x=l("contours.type")==="constraint";x?P(t,r,l,o,u,{hasHover:!1}):(A(t,r,l,c),v(t,r,l,o,{hasHover:!1}))}else r._defaultColor=u,r._length=null}},93740:function(W,U,e){W.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(W,U,e){var p=e(39898),L=e(27669),a=e(67961),P=e(91424),A=e(71828),v=e(87678),g=e(81696),t=e(29854),r=e(36914),u=e(84857),o=e(87558),l=e(20083),c=e(22882),n=e(4536);W.exports=function(w,b,i,E){var m=b.xaxis,F=b.yaxis;A.makeTraceGroups(E,i,"contour").each(function(_){var B=p.select(this),I=_[0],O=I.trace,z=O._carpetTrace=c(w,O),k=w.calcdata[z.index][0];if(!z.visible||z.visible==="legendonly")return;var N=I.a,K=I.b,q=O.contours,Q=o(q,b,I),re=q.type==="constraint",oe=q._operation,Y=re?oe==="="?"lines":"fill":q.coloring;function G(Te){var xe=z.ab2xy(Te[0],Te[1],!0);return[m.c2p(xe[0]),F.c2p(xe[1])]}var V=[[N[0],K[K.length-1]],[N[N.length-1],K[K.length-1]],[N[N.length-1],K[0]],[N[0],K[0]]];v(Q);var Z=(N[N.length-1]-N[0])*1e-8,ae=(K[K.length-1]-K[0])*1e-8;g(Q,Z,ae);var ie=Q;q.type==="constraint"&&(ie=u(Q,oe)),x(Q,G);var J,$,se,ee,ue=[];for(ee=k.clipsegments.length-1;ee>=0;ee--)J=k.clipsegments[ee],$=L([],J.x,m.c2p),se=L([],J.y,F.c2p),$.reverse(),se.reverse(),ue.push(a($,se,J.bicubic));var ge="M"+ue.join("L")+"Z";S(B,k.clipsegments,m,F,re,Y),M(O,B,m,F,ie,V,G,z,k,Y,ge),h(B,Q,w,I,q,b,z),P.setClipUrl(B,z._clipPathId,w)})};function x(y,w){var b,i,E,m,F,_,B,I,O;for(b=0;b<y.length;b++){for(m=y[b],F=m.pedgepaths=[],_=m.ppaths=[],i=0;i<m.edgepaths.length;i++){for(O=m.edgepaths[i],B=[],E=0;E<O.length;E++)B[E]=w(O[E]);F.push(B)}for(i=0;i<m.paths.length;i++){for(O=m.paths[i],I=[],E=0;E<O.length;E++)I[E]=w(O[E]);_.push(I)}}}function h(y,w,b,i,E,m,F){var _=A.ensureSingle(y,"g","contourlines"),B=E.showlines!==!1,I=E.showlabels,O=B&&I,z=t.createLines(_,B||I,w),k=t.createLineClip(_,O,b,i.trace.uid),N=y.selectAll("g.contourlabels").data(I?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),I){var K=m.xaxis,q=m.yaxis,Q=K._length,re=q._length,oe=[[[0,0],[Q,0],[Q,re],[0,re]]],Y=[];A.clearLocationCache();var G=t.labelFormatter(b,i),V=P.tester.append("text").attr("data-notex",1).call(P.font,E.labelfont),Z={left:0,right:Q,center:Q/2,top:0,bottom:re,middle:re/2},ae=Math.sqrt(Q*Q+re*re),ie=r.LABELDISTANCE*ae/Math.max(1,w.length/r.LABELINCREASE);z.each(function(J){var $=t.calcTextOpts(J.level,G,V,b);p.select(this).selectAll("path").each(function(se){var ee=this,ue=A.getVisibleSegment(ee,Z,$.height/2);if(ue&&(T(ee,se,J,ue,F,$.height),!(ue.len<($.width+$.height)*r.LABELMIN)))for(var ge=Math.min(Math.ceil(ue.len/ie),r.LABELMAX),Te=0;Te<ge;Te++){var xe=t.findBestTextLocation(ee,ue,$,Y,Z);if(!xe)break;t.addLabelData(xe,$,Y,oe)}})}),V.remove(),t.drawLabels(N,Y,b,k,O?oe:null)}I&&!B&&z.remove()}function T(y,w,b,i,E,m){for(var F,_=0;_<b.pedgepaths.length;_++)w===b.pedgepaths[_]&&(F=b.edgepaths[_]);if(!F)return;var B=E.a[0],I=E.a[E.a.length-1],O=E.b[0],z=E.b[E.b.length-1];function k(re,oe){var Y=0,G,V=.1;return(Math.abs(re[0]-B)<V||Math.abs(re[0]-I)<V)&&(G=s(E.dxydb_rough(re[0],re[1],V)),Y=Math.max(Y,m*d(oe,G)/2)),(Math.abs(re[1]-O)<V||Math.abs(re[1]-z)<V)&&(G=s(E.dxyda_rough(re[0],re[1],V)),Y=Math.max(Y,m*d(oe,G)/2)),Y}var N=f(y,0,1),K=f(y,i.total,i.total-1),q=k(F[0],N),Q=i.total-k(F[F.length-1],K);i.min<q&&(i.min=q),i.max>Q&&(i.max=Q),i.len=i.max-i.min}function f(y,w,b){var i=y.getPointAtLength(w),E=y.getPointAtLength(b),m=E.x-i.x,F=E.y-i.y,_=Math.sqrt(m*m+F*F);return[m/_,F/_]}function s(y){var w=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/w,y[1]/w]}function d(y,w){var b=Math.abs(y[0]*w[0]+y[1]*w[1]),i=Math.sqrt(1-b*b);return i/b}function S(y,w,b,i,E,m){var F,_,B,I,O=A.ensureSingle(y,"g","contourbg"),z=O.selectAll("path").data(m==="fill"&&!E?[0]:[]);z.enter().append("path"),z.exit().remove();var k=[];for(I=0;I<w.length;I++)F=w[I],_=L([],F.x,b.c2p),B=L([],F.y,i.c2p),k.push(a(_,B,F.bicubic));z.attr("d","M"+k.join("L")+"Z").style("stroke","none")}function M(y,w,b,i,E,m,F,_,B,I,O){var z=I==="fill";z&&l(E,y.contours);var k=A.ensureSingle(w,"g","contourfill"),N=k.selectAll("path").data(z?E:[]);N.enter().append("path"),N.exit().remove(),N.each(function(K){var q=(K.prefixBoundary?O:"")+C(y,K,m,F,_,B,b,i);q?p.select(this).attr("d",q).style("stroke","none"):p.select(this).remove()})}function C(y,w,b,i,E,m,F,_){var B,I="",O=w.edgepaths.map(function(se,ee){return ee}),z=!0,k,N,K,q,Q,re,oe=Math.abs(b[0][0]-b[2][0])*1e-4,Y=Math.abs(b[0][1]-b[2][1])*1e-4;function G(se){return Math.abs(se[1]-b[0][1])<Y}function V(se){return Math.abs(se[1]-b[2][1])<Y}function Z(se){return Math.abs(se[0]-b[0][0])<oe}function ae(se){return Math.abs(se[0]-b[2][0])<oe}function ie(se,ee){var ue,ge,Te,xe,Pe="";for(G(se)&&!ae(se)||V(se)&&!Z(se)?(xe=E.aaxis,Te=n(E,m,[se[0],ee[0]],.5*(se[1]+ee[1]))):(xe=E.baxis,Te=n(E,m,.5*(se[0]+ee[0]),[se[1],ee[1]])),ue=1;ue<Te.length;ue++)for(Pe+=xe.smoothing?"C":"L",ge=0;ge<Te[ue].length;ge++){var Ie=Te[ue][ge];Pe+=[F.c2p(Ie[0]),_.c2p(Ie[1])]+" "}return Pe}for(B=0,k=null;O.length;){var J=w.edgepaths[B][0];for(k&&(I+=ie(k,J)),re=P.smoothopen(w.edgepaths[B].map(i),w.smoothing),I+=z?re:re.replace(/^M/,"L"),O.splice(O.indexOf(B),1),k=w.edgepaths[B][w.edgepaths[B].length-1],q=-1,K=0;K<4;K++){if(!k){A.log("Missing end?",B,w);break}for(G(k)&&!ae(k)?N=b[1]:Z(k)?N=b[0]:V(k)?N=b[3]:ae(k)&&(N=b[2]),Q=0;Q<w.edgepaths.length;Q++){var $=w.edgepaths[Q][0];Math.abs(k[0]-N[0])<oe?Math.abs(k[0]-$[0])<oe&&($[1]-k[1])*(N[1]-$[1])>=0&&(N=$,q=Q):Math.abs(k[1]-N[1])<Y?Math.abs(k[1]-$[1])<Y&&($[0]-k[0])*(N[0]-$[0])>=0&&(N=$,q=Q):A.log("endpt to newendpt is not vert. or horz.",k,N,$)}if(q>=0)break;I+=ie(k,N),k=N}if(q===w.edgepaths.length){A.log("unclosed perimeter path");break}B=q,z=O.indexOf(B)===-1,z&&(B=O[0],I+=ie(k,N)+"Z",k=null)}for(B=0;B<w.paths.length;B++)I+=P.smoothclosed(w.paths[B].map(i),w.smoothing);return I}},64096:function(W,U,e){var p=e(50693),L=e(5386).f,a=e(9012),P=e(99181),A=e(1426).extendFlat;W.exports=A({lon:P.lon,lat:P.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:P.text,hovertext:P.hovertext,hoverinfo:A({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:A({},a.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(W,U,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,P=e(78803),A=e(71828)._;W.exports=function(g,t){for(var r=t._length,u=new Array(r),o=t.z,l=L(o)&&o.length,c=0;c<r;c++){var n=u[c]={},x=t.lon[c],h=t.lat[c];if(n.lonlat=p(x)&&p(h)?[+x,+h]:[a,a],l){var T=o[c];n.z=p(T)?T:a}}return P(g,t,{vals:l?o:[0,1],containerStr:"",cLetter:"z"}),r&&(u[0].t={labels:{lat:A(g,"lat:")+" ",lon:A(g,"lon:")+" "}}),u}},52414:function(W,U,e){var p=e(92770),L=e(71828),a=e(7901),P=e(21081),A=e(50606).BADNUM,v=e(18214).makeBlank;W.exports=function(t){var r=t[0].trace,u=r.visible===!0&&r._length!==0,o={layout:{visibility:"none"},paint:{}},l=r._opts={heatmap:o,geojson:v()};if(!u)return l;var c=[],n,x=r.z,h=r.radius,T=L.isArrayOrTypedArray(x)&&x.length,f=L.isArrayOrTypedArray(h);for(n=0;n<t.length;n++){var s=t[n],d=s.lonlat;if(d[0]!==A){var S={};if(T){var M=s.z;S.z=M!==A?M:0}f&&(S.r=p(h[n])&&h[n]>0?+h[n]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:S})}}var C=P.extractOpts(r),y=C.reversescale?P.flipScale(C.colorscale):C.colorscale,w=y[0][1],b=a.opacity(w)<1?w:a.addOpacity(w,0),i=["interpolate",["linear"],["heatmap-density"],0,b];for(n=1;n<y.length;n++)i.push(y[n][0],y[n][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return L.extendFlat(l.heatmap.paint,{"heatmap-weight":T?E:1/(C.max-C.min),"heatmap-color":i,"heatmap-radius":f?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),l.geojson={type:"FeatureCollection",features:c},l.heatmap.layout.visibility="visible",l}},79429:function(W,U,e){var p=e(71828),L=e(1586),a=e(64096);W.exports=function(A,v,g,t){function r(c,n){return p.coerce(A,v,a,c,n)}var u=r("lon")||[],o=r("lat")||[],l=Math.min(u.length,o.length);if(!l){v.visible=!1;return}v._length=l,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),L(A,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(W){W.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},84684:function(W,U,e){var p=e(89298),L=e(28178).hoverPoints,a=e(28178).getExtraText;W.exports=function(A,v,g){var t=L(A,v,g);if(t){var r=t[0],u=r.cd,o=u[0].trace,l=u[r.index];if(delete r.color,"z"in l){var c=r.subplot.mockAxis;r.z=l.z,r.zLabel=p.tickText(c,c.c2l(l.z),"hover").text}return r.extraText=a(o,l,u[0].t.labels),[r]}}},93814:function(W,U,e){W.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(p,L){for(var a=L.getMapLayers(),P=0;P<a.length;P++){var A=a[P],v=A.id;if(A.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(W,U,e){var p=e(52414),L=e(77734).traceLayerPrefix;function a(A,v){this.type="densitymapbox",this.subplot=A,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var P=a.prototype;P.update=function(A){var v=this.subplot,g=this.layerList,t=p(A),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var u=0;u<g.length;u++){var o=g[u],l=o[0],c=o[1],n=t[l];v.setOptions(c,"setLayoutProperty",n.layout),n.layout.visibility==="visible"&&v.setOptions(c,"setPaintProperty",n.paint)}},P._addLayers=function(A,v){for(var g=this.subplot,t=this.layerList,r=this.sourceId,u=0;u<t.length;u++){var o=t[u],l=o[0],c=A[l];g.addLayer({type:l,id:o[1],source:r,layout:c.layout,paint:c.paint},v)}},P._removeLayers=function(){for(var A=this.subplot.map,v=this.layerList,g=v.length-1;g>=0;g--)A.removeLayer(v[g][1])},P.dispose=function(){var A=this.subplot.map;this._removeLayers(),A.removeSource(this.sourceId)},W.exports=function(v,g){var t=g[0].trace,r=new a(v,t.uid),u=r.sourceId,o=p(g),l=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(u,{type:"geojson",data:o.geojson}),r._addLayers(o,l),r}},49789:function(W,U,e){var p=e(71828);W.exports=function(a,P){for(var A=0;A<a.length;A++)a[A].i=A;p.mergeArray(P.text,a,"tx"),p.mergeArray(P.hovertext,a,"htx");var v=P.marker;if(v){p.mergeArray(v.opacity,a,"mo"),p.mergeArray(v.color,a,"mc");var g=v.line;g&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"))}}},1285:function(W,U,e){var p=e(1486),L=e(82196).line,a=e(9012),P=e(12663).axisHoverFormat,A=e(5386).f,v=e(5386).s,g=e(18517),t=e(1426).extendFlat,r=e(7901);W.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:p.hovertext,hovertemplate:A({},{keys:g.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:t({},p.insidetextanchor,{dflt:"middle"}),textangle:t({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:t({},p.orientation,{}),offset:t({},p.offset,{arrayOk:!1}),width:t({},p.width,{arrayOk:!1}),marker:u(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function u(){var o=t({},p.marker);return delete o.pattern,o}},9532:function(W,U,e){var p=e(89298),L=e(42973),a=e(49789),P=e(66279),A=e(50606).BADNUM;W.exports=function(t,r){var u=p.getFromId(t,r.xaxis||"x"),o=p.getFromId(t,r.yaxis||"y"),l,c,n,x,h,T,f,s;r.orientation==="h"?(l=u.makeCalcdata(r,"x"),n=o.makeCalcdata(r,"y"),x=L(r,o,"y",n),h=!!r.yperiodalignment,T="y"):(l=o.makeCalcdata(r,"y"),n=u.makeCalcdata(r,"x"),x=L(r,u,"x",n),h=!!r.xperiodalignment,T="x"),c=x.vals;var d=Math.min(c.length,l.length),S=new Array(d);for(r._base=[],f=0;f<d;f++){l[f]<0&&(l[f]=A);var M=!1;l[f]!==A&&f+1<d&&l[f+1]!==A&&(M=!0),s=S[f]={p:c[f],s:l[f],cNext:M},r._base[f]=-.5*s.s,h&&(S[f].orig_p=n[f],S[f][T+"End"]=x.ends[f],S[f][T+"Start"]=x.starts[f]),r.ids&&(s.id=String(r.ids[f])),f===0&&(S[0].vTotal=0),S[0].vTotal+=v(s.s),s.begR=v(s.s)/v(S[0].s)}var C;for(f=0;f<d;f++)s=S[f],s.s!==A&&(s.sumR=s.s/S[0].vTotal,s.difR=C!==void 0?s.s/C:1,C=s.s);return a(S,r),P(S,r),S};function v(g){return g===A?0:g}},18517:function(W){W.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(W,U,e){var p=e(11661).setGroupPositions;W.exports=function(a,P){var A=a._fullLayout,v=a._fullData,g=a.calcdata,t=P.xaxis,r=P.yaxis,u=[],o=[],l=[],c,n;for(n=0;n<v.length;n++){var x=v[n],h=x.orientation==="h";x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="funnel"&&(c=g[n],h?l.push(c):o.push(c),u.push(c))}var T={mode:A.funnelmode,norm:A.funnelnorm,gap:A.funnelgap,groupgap:A.funnelgroupgap};for(p(a,t,r,o,T),p(a,r,t,l,T),n=0;n<u.length;n++){c=u[n];for(var f=0;f<c.length;f++)f+1<c.length&&(c[f].nextP0=c[f+1].p0,c[f].nextS0=c[f+1].s0,c[f].nextP1=c[f+1].p1,c[f].nextS1=c[f+1].s1)}}},26199:function(W,U,e){var p=e(71828),L=e(26125),a=e(90769).handleText,P=e(67513),A=e(73927),v=e(1285),g=e(7901);function t(o,l,c,n){function x(M,C){return p.coerce(o,l,v,M,C)}var h=P(o,l,n,x);if(!h){l.visible=!1;return}A(o,l,n,x),x("xhoverformat"),x("yhoverformat"),x("orientation",l.y&&!l.x?"v":"h"),x("offset"),x("width");var T=x("text");x("hovertext"),x("hovertemplate");var f=x("textposition");a(o,l,n,x,f,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&x("textinfo",Array.isArray(T)?"text+value":"value");var s=x("marker.color",c);x("marker.line.color",g.defaultLine),x("marker.line.width");var d=x("connector.visible");if(d){x("connector.fillcolor",r(s));var S=x("connector.line.width");S&&(x("connector.line.color"),x("connector.line.dash"))}}function r(o){var l=p.isArrayOrTypedArray(o)?"#000":o;return g.addOpacity(l,.5*g.opacity(l))}function u(o,l){var c,n;function x(T){return p.coerce(n._input,n,v,T)}if(l.funnelmode==="group")for(var h=0;h<o.length;h++)n=o[h],c=n._input,L(c,n,l,x)}W.exports={supplyDefaults:t,crossTraceDefaults:u}},34598:function(W){W.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},63341:function(W,U,e){var p=e(7901).opacity,L=e(95423).hoverOnBars,a=e(71828).formatPercent;W.exports=function(v,g,t,r,u){var o=L(v,g,t,r,u);if(o){var l=o.cd,c=l[0].trace,n=c.orientation==="h",x=o.index,h=l[x],T=n?"x":"y";o[T+"LabelVal"]=h.s,o.percentInitial=h.begR,o.percentInitialLabel=a(h.begR,1),o.percentPrevious=h.difR,o.percentPreviousLabel=a(h.difR,1),o.percentTotal=h.sumR,o.percentTotalLabel=a(h.sumR,1);var f=h.hi||c.hoverinfo,s=[];if(f&&f!=="none"&&f!=="skip"){var d=f==="all",S=f.split("+"),M=function(C){return d||S.indexOf(C)!==-1};M("percent initial")&&s.push(o.percentInitialLabel+" of initial"),M("percent previous")&&s.push(o.percentPreviousLabel+" of previous"),M("percent total")&&s.push(o.percentTotalLabel+" of total")}return o.extraText=s.join("<br>"),o.color=P(c,h),[o]}};function P(A,v){var g=A.marker,t=v.mc||g.color,r=v.mlc||g.line.color,u=v.mlw||g.line.width;if(p(t))return t;if(p(r)&&u)return r}},51759:function(W,U,e){W.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(W){W.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(W,U,e){var p=e(71828),L=e(10440);W.exports=function(a,P,A){var v=!1;function g(u,o){return p.coerce(a,P,L,u,o)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},80461:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;W.exports=function(o,l,c,n){var x=o._fullLayout;v("funnel",x),g(o,l,c,n),t(o,l,c,n),A.plot(o,l,c,n,{mode:x.funnelmode,norm:x.funnelmode,gap:x.funnelgap,groupgap:x.funnelgroupgap})};function g(u,o,l,c){var n=o.xaxis,x=o.yaxis;L.makeTraceGroups(c,l,"trace bars").each(function(h){var T=p.select(this),f=h[0].trace,s=L.ensureSingle(T,"g","regions");if(!f.connector||!f.connector.visible){s.remove();return}var d=f.orientation==="h",S=s.selectAll("g.region").data(L.identity);S.enter().append("g").classed("region",!0),S.exit().remove();var M=S.size();S.each(function(C,y){if(!(y!==M-1&&!C.cNext)){var w=r(C,n,x,d),b=w[0],i=w[1],E="";b[0]!==P&&i[0]!==P&&b[1]!==P&&i[1]!==P&&b[2]!==P&&i[2]!==P&&b[3]!==P&&i[3]!==P&&(d?E+="M"+b[0]+","+i[1]+"L"+b[2]+","+i[2]+"H"+b[3]+"L"+b[1]+","+i[1]+"Z":E+="M"+b[1]+","+i[1]+"L"+b[2]+","+i[3]+"V"+i[2]+"L"+b[1]+","+i[0]+"Z"),E===""&&(E="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",E).call(a.setClipUrl,o.layerClipId,u)}})})}function t(u,o,l,c){var n=o.xaxis,x=o.yaxis;L.makeTraceGroups(c,l,"trace bars").each(function(h){var T=p.select(this),f=h[0].trace,s=L.ensureSingle(T,"g","lines");if(!f.connector||!f.connector.visible||!f.connector.line.width){s.remove();return}var d=f.orientation==="h",S=s.selectAll("g.line").data(L.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(C,y){if(!(y!==M-1&&!C.cNext)){var w=r(C,n,x,d),b=w[0],i=w[1],E="";b[3]!==void 0&&i[3]!==void 0&&(d?(E+="M"+b[0]+","+i[1]+"L"+b[2]+","+i[2],E+="M"+b[1]+","+i[1]+"L"+b[3]+","+i[2]):(E+="M"+b[1]+","+i[1]+"L"+b[2]+","+i[3],E+="M"+b[1]+","+i[0]+"L"+b[2]+","+i[2])),E===""&&(E="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",E).call(a.setClipUrl,o.layerClipId,u)}})})}function r(u,o,l,c){var n=[],x=[],h=c?o:l,T=c?l:o;return n[0]=h.c2p(u.s0,!0),x[0]=T.c2p(u.p0,!0),n[1]=h.c2p(u.s1,!0),x[1]=T.c2p(u.p1,!0),n[2]=h.c2p(u.nextS0,!0),x[2]=T.c2p(u.nextP0,!0),n[3]=h.c2p(u.nextS1,!0),x[3]=T.c2p(u.nextP1,!0),c?[n,x]:[x,n]}},68266:function(W,U,e){var p=e(39898),L=e(91424),a=e(7901),P=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,g=A.styleTextPoints;function t(r,u,o){var l=o||p.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,l,"funnel"),l.style("opacity",function(c){return c[0].trace.opacity}),l.each(function(c){var n=p.select(this),x=c[0].trace;n.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=x.marker;p.select(this).call(a.fill,h.mc||T.color).call(a.stroke,h.mlc||T.line.color).call(L.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",x.selectedpoints&&!h.selected?P:1)}}),g(n,x,r),n.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(a.fill,x.connector.fillcolor)}),n.selectAll(".lines").each(function(){var h=x.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}W.exports={style:t}},86807:function(W,U,e){var p=e(34e3),L=e(9012),a=e(27670).Y,P=e(5386).f,A=e(5386).s,v=e(1426).extendFlat;W.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:v({},p.marker.line.color,{dflt:null}),width:v({},p.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:v({},p.scalegroup,{}),textinfo:v({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:A({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:P({},{keys:["label","color","value","text","percent"]}),textposition:v({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:v({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(W,U,e){var p=e(74875);U.name="funnelarea",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},89574:function(W,U,e){var p=e(32354);function L(P,A){return p.calc(P,A)}function a(P){p.crossTraceCalc(P,{type:"funnelarea"})}W.exports={calc:L,crossTraceCalc:a}},86282:function(W,U,e){var p=e(71828),L=e(86807),a=e(27670).c,P=e(90769).handleText,A=e(37434).handleLabelsAndValues;W.exports=function(g,t,r,u){function o(M,C){return p.coerce(g,t,L,M,C)}var l=o("labels"),c=o("values"),n=A(l,c),x=n.len;if(t._hasLabels=n.hasLabels,t._hasValues=n.hasValues,!t._hasLabels&&t._hasValues&&(o("label0"),o("dlabel")),!x){t.visible=!1;return}t._length=x;var h=o("marker.line.width");h&&o("marker.line.color",u.paper_bgcolor),o("marker.colors"),o("scalegroup");var T=o("text"),f=o("texttemplate"),s;if(f||(s=o("textinfo",Array.isArray(T)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),f||s&&s!=="none"){var d=o("textposition");P(g,t,u,o,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,u,o);var S=o("title.text");S&&(o("title.position"),p.coerceFont(o,"title.font",u.font)),o("aspectratio"),o("baseratio")}},10421:function(W,U,e){W.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(W,U,e){var p=e(92774).hiddenlabels;W.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(W,U,e){var p=e(71828),L=e(80097);W.exports=function(P,A){function v(g,t){return p.coerce(P,A,L,g,t)}v("hiddenlabels"),v("funnelareacolorway",A.colorway),v("extendfunnelareacolors")}},79187:function(W,U,e){var p=e(39898),L=e(91424),a=e(71828),P=a.strScale,A=a.strTranslate,v=e(63893),g=e(17295),t=g.toMoveInsideBar,r=e(72597),u=r.recordMinTextSize,o=r.clearMinTextSize,l=e(53581),c=e(14575),n=c.attachFxHandlers,x=c.determineInsideTextFont,h=c.layoutAreas,T=c.prerenderTitles,f=c.positionTitleOutside,s=c.formatSliceLabel;W.exports=function(y,w){var b=y._context.staticPlot,i=y._fullLayout;o("funnelarea",i),T(w,y),h(w,i._size),a.makeTraceGroups(i._funnelarealayer,w,"trace").each(function(E){var m=p.select(this),F=E[0],_=F.trace;M(E),m.each(function(){var B=p.select(this).selectAll("g.slice").data(E);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(O,z){if(O.hidden){p.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=_.index;var k=F.cx,N=F.cy,K=p.select(this),q=K.selectAll("path.surface").data([O]);q.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),K.call(n,y,E);var Q="M"+(k+O.TR[0])+","+(N+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";q.attr("d",Q),s(y,O,F);var re=l.castOption(_.textposition,O.pts),oe=K.selectAll("g.slicetext").data(O.text&&re!=="none"?[0]:[]);oe.enter().append("g").classed("slicetext",!0),oe.exit().remove(),oe.each(function(){var Y=a.ensureSingle(p.select(this),"text","",function(se){se.attr("data-notex",1)}),G=a.ensureUniformFontSize(y,x(_,O,i.font));Y.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,G).call(v.convertToTspans,y);var V=L.bBox(Y.node()),Z,ae,ie,J=Math.min(O.BL[1],O.BR[1])+N,$=Math.max(O.TL[1],O.TR[1])+N;ae=Math.max(O.TL[0],O.BL[0])+k,ie=Math.min(O.TR[0],O.BR[0])+k,Z=t(ae,ie,J,$,V,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Z.fontSize=G.size,u(_.type,Z,i),E[z].transform=Z,a.setTransormAndDisplay(Y,Z)})});var I=p.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);I.enter().append("g").classed("titletext",!0),I.exit().remove(),I.each(function(){var O=a.ensureSingle(p.select(this),"text","",function(N){N.attr("data-notex",1)}),z=_.title.text;_._meta&&(z=a.templateString(z,_._meta)),O.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,_.title.font).call(v.convertToTspans,y);var k=f(F,i._size);O.attr("transform",A(k.x,k.y)+P(Math.min(1,k.scale))+A(k.tx,k.ty))})})})};function d(C,y){var w=y[0]-C[0],b=y[1]-C[1];return"l"+w+","+b}function S(C,y){return[.5*(C[0]+y[0]),.5*(C[1]+y[1])]}function M(C){if(!C.length)return;var y=C[0],w=y.trace,b=w.aspectratio,i=w.baseratio;i>.999&&(i=.999);var E=Math.pow(i,2),m=y.vTotal,F=m*E/(1-E),_=m,B=F/m;function I(){var ee=Math.sqrt(B);return{x:ee,y:-ee}}function O(){var ee=I();return[ee.x,ee.y]}var z,k=[];k.push(O());var N,K;for(N=C.length-1;N>-1;N--)if(K=C[N],!K.hidden){var q=K.v/_;B+=q,k.push(O())}var Q=1/0,re=-1/0;for(N=0;N<k.length;N++)z=k[N],Q=Math.min(Q,z[1]),re=Math.max(re,z[1]);for(N=0;N<k.length;N++)k[N][1]-=(re+Q)/2;var oe=k[k.length-1][0],Y=y.r,G=(re-Q)/2,V=Y/oe,Z=Y/G*b;for(y.r=Z*G,N=0;N<k.length;N++)k[N][0]*=V,k[N][1]*=Z;z=k[0];var ae=[-z[0],z[1]],ie=[z[0],z[1]],J=0;for(N=C.length-1;N>-1;N--)if(K=C[N],!K.hidden){J+=1;var $=k[J][0],se=k[J][1];K.TL=[-$,se],K.TR=[$,se],K.BL=ae,K.BR=ie,K.pxmid=S(K.TR,K.BR),ae=K.TL,ie=K.TR}}},71858:function(W,U,e){var p=e(39898),L=e(63463),a=e(72597).resizeText;W.exports=function(A){var v=A._fullLayout._funnelarealayer.selectAll(".trace");a(A,v,"funnelarea"),v.each(function(g){var t=g[0],r=t.trace,u=p.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(o){p.select(this).call(L,o,r)})})}},21606:function(W,U,e){var p=e(82196),L=e(9012),a=e(41940),P=e(12663).axisHoverFormat,A=e(5386).f,v=e(5386).s,g=e(50693),t=e(1426).extendFlat;W.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},p.x,{impliedEdits:{xtype:"array"}}),x0:t({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},p.y,{impliedEdits:{ytype:"array"}}),y0:t({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:A(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},L.showlegend,{dflt:!1})},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},90757:function(W,U,e){var p=e(73972),L=e(71828),a=e(89298),P=e(42973),A=e(17562),v=e(78803),g=e(68296),t=e(4742),r=e(824),u=e(43907),o=e(70769),l=e(50606).BADNUM;W.exports=function(h,T){var f=a.getFromId(h,T.xaxis||"x"),s=a.getFromId(h,T.yaxis||"y"),d=p.traceIs(T,"contour"),S=p.traceIs(T,"histogram"),M=p.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,y,w,b,i,E,m,F,_,B,I,O;if(f._minDtick=0,s._minDtick=0,S)O=A(h,T),i=O.orig_x,y=O.x,w=O.x0,b=O.dx,_=O.orig_y,E=O.y,m=O.y0,F=O.dy,B=O.z;else{var z=T.z;L.isArray1D(z)?(g(T,f,s,"x","y",["z"]),y=T._x,E=T._y,z=T._z):(i=T.x?f.makeCalcdata(T,"x"):[],_=T.y?s.makeCalcdata(T,"y"):[],y=P(T,f,"x",i).vals,E=P(T,s,"y",_).vals,T._x=y,T._y=E),w=T.x0,b=T.dx,m=T.y0,F=T.dy,B=t(z,T,f,s)}(f.rangebreaks||s.rangebreaks)&&(B=n(y,E,B),S||(y=c(y),E=c(E),T._x=y,T._y=E)),!S&&(d||T.connectgaps)&&(T._emptypoints=u(B),r(B,T._emptypoints));function k(ie){C=T._input.zsmooth=T.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+ie)}if(C==="fast"){if(f.type==="log"||s.type==="log")k("log axis found");else if(!S){if(y.length){var N=(y[y.length-1]-y[0])/(y.length-1),K=Math.abs(N/100);for(I=0;I<y.length-1;I++)if(Math.abs(y[I+1]-y[I]-N)>K){k("x scale is not linear");break}}if(E.length&&C==="fast"){var q=(E[E.length-1]-E[0])/(E.length-1),Q=Math.abs(q/100);for(I=0;I<E.length-1;I++)if(Math.abs(E[I+1]-E[I]-q)>Q){k("y scale is not linear");break}}}}var re=L.maxRowLength(B),oe=T.xtype==="scaled"?"":y,Y=o(T,oe,w,b,re,f),G=T.ytype==="scaled"?"":E,V=o(T,G,m,F,B.length,s);M||(T._extremes[f._id]=a.findExtremes(f,Y),T._extremes[s._id]=a.findExtremes(s,V));var Z={x:Y,y:V,z:B,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&i&&(Z.orig_x=i),T.yperiodalignment&&_&&(Z.orig_y=_),oe&&oe.length===Y.length-1&&(Z.xCenter=oe),G&&G.length===V.length-1&&(Z.yCenter=G),S&&(Z.xRanges=O.xRanges,Z.yRanges=O.yRanges,Z.pts=O.pts),d||v(h,T,{vals:B,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var ae={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};Z.xfill=o(ae,oe,w,b,re,f),Z.yfill=o(ae,G,m,F,B.length,s)}return[Z]};function c(x){for(var h=[],T=x.length,f=0;f<T;f++){var s=x[f];s!==l&&h.push(s)}return h}function n(x,h,T){for(var f=[],s=-1,d=0;d<T.length;d++)if(h[d]!==l){s++,f[s]=[];for(var S=0;S<T[d].length;S++)x[S]!==l&&f[s].push(T[d][S])}return f}},4742:function(W,U,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM;W.exports=function(A,v,g,t){var r,u,o,l,c,n;function x(S){if(p(S))return+S}if(v&&v.transpose){for(r=0,c=0;c<A.length;c++)r=Math.max(r,A[c].length);if(r===0)return!1;o=function(S){return S.length},l=function(S,M,C){return(S[C]||[])[M]}}else r=A.length,o=function(S,M){return S[M].length},l=function(S,M,C){return(S[M]||[])[C]};var h=function(S,M,C){return M===a||C===a?a:l(S,M,C)};function T(S){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&S&&S.type==="category"&&v["_"+S._id.charAt(0)].length){var M=S._id.charAt(0),C={},y=v["_"+M+"CategoryMap"]||v[M];for(c=0;c<y.length;c++)C[y[c]]=c;return function(w){var b=C[S._categories[w]];return b+1?b:a}}else return L.identity}var f=T(g),s=T(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(c=0;c<r;c++)for(g&&g.type==="category"?u=g._categories.length:u=o(A,c),d[c]=new Array(u),n=0;n<u;n++)d[c][n]=x(h(A,s(c),f(n)));return d}},61243:function(W){W.exports={min:"zmin",max:"zmax"}},68296:function(W,U,e){var p=e(71828),L=e(50606).BADNUM,a=e(42973);W.exports=function(A,v,g,t,r,u){var o=A._length,l=v.makeCalcdata(A,t),c=g.makeCalcdata(A,r);l=a(A,v,t,l).vals,c=a(A,g,r,c).vals;var n=A.text,x=n!==void 0&&p.isArray1D(n),h=A.hovertext,T=h!==void 0&&p.isArray1D(h),f,s,d=p.distinctVals(l),S=d.vals,M=p.distinctVals(c),C=M.vals,y=[],w,b,i=C.length,E=S.length;for(f=0;f<u.length;f++)y[f]=p.init2dArray(i,E);x&&(w=p.init2dArray(i,E)),T&&(b=p.init2dArray(i,E));var m=p.init2dArray(i,E);for(f=0;f<o;f++)if(l[f]!==L&&c[f]!==L){var F=p.findBin(l[f]+d.minDiff/2,S),_=p.findBin(c[f]+M.minDiff/2,C);for(s=0;s<u.length;s++){var B=u[s],I=A[B],O=y[s];O[_][F]=I[f],m[_][F]=f}x&&(w[_][F]=n[f]),T&&(b[_][F]=h[f])}for(A["_"+t]=S,A["_"+r]=C,s=0;s<u.length;s++)A["_"+u[s]]=y[s];x&&(A._text=w),T&&(A._hovertext=b),v&&v.type==="category"&&(A["_"+t+"CategoryMap"]=S.map(function(z){return v._categories[z]})),g&&g.type==="category"&&(A["_"+r+"CategoryMap"]=C.map(function(z){return g._categories[z]})),A._after2before=m}},76382:function(W,U,e){var p=e(71828),L=e(67684),a=e(58623),P=e(73927),A=e(49901),v=e(1586),g=e(21606);W.exports=function(r,u,o,l){function c(x,h){return p.coerce(r,u,g,x,h)}var n=L(r,u,c,l);if(!n){u.visible=!1;return}P(r,u,l,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),a(c,l),A(r,u,c,l),c("hoverongaps"),c("connectgaps",p.isArray1D(u.z)&&u.zsmooth!==!1),v(r,u,l,c,{prefix:"",cLetter:"z"})}},43907:function(W,U,e){var p=e(71828).maxRowLength;W.exports=function(a){var P=[],A={},v=[],g=a[0],t=[],r=[0,0,0],u=p(a),o,l,c,n,x,h,T,f;for(l=0;l<a.length;l++)for(o=t,t=g,g=a[l+1]||[],c=0;c<u;c++)t[c]===void 0&&(h=(t[c-1]!==void 0?1:0)+(t[c+1]!==void 0?1:0)+(o[c]!==void 0?1:0)+(g[c]!==void 0?1:0),h?(l===0&&h++,c===0&&h++,l===a.length-1&&h++,c===t.length-1&&h++,h<4&&(A[[l,c]]=[l,c,h]),P.push([l,c,h])):v.push([l,c]));for(;v.length;){for(T={},f=!1,x=v.length-1;x>=0;x--)n=v[x],l=n[0],c=n[1],h=((A[[l-1,c]]||r)[2]+(A[[l+1,c]]||r)[2]+(A[[l,c-1]]||r)[2]+(A[[l,c+1]]||r)[2])/20,h&&(T[n]=[l,c,h],v.splice(x,1),f=!0);if(!f)throw"findEmpties iterated with no new neighbors";for(n in T)A[n]=T[n],P.push(T[n])}return P.sort(function(s,d){return d[2]-s[2]})}},46248:function(W,U,e){var p=e(30211),L=e(71828),a=e(89298),P=e(21081).extractOpts;W.exports=function(v,g,t,r,u){u||(u={});var o=u.isContour,l=v.cd[0],c=l.trace,n=v.xa,x=v.ya,h=l.x,T=l.y,f=l.z,s=l.xCenter,d=l.yCenter,S=l.zmask,M=c.zhoverformat,C=h,y=T,w,b,i,E;if(v.index!==!1){try{i=Math.round(v.index[1]),E=Math.round(v.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(i<0||i>=f[0].length||E<0||E>f.length)return}else{if(p.inbox(g-h[0],g-h[h.length-1],0)>0||p.inbox(t-T[0],t-T[T.length-1],0)>0)return;if(o){var m;for(C=[2*h[0]-h[1]],m=1;m<h.length;m++)C.push((h[m]+h[m-1])/2);for(C.push([2*h[h.length-1]-h[h.length-2]]),y=[2*T[0]-T[1]],m=1;m<T.length;m++)y.push((T[m]+T[m-1])/2);y.push([2*T[T.length-1]-T[T.length-2]])}i=Math.max(0,Math.min(C.length-2,L.findBin(g,C))),E=Math.max(0,Math.min(y.length-2,L.findBin(t,y)))}var F=n.c2p(h[i]),_=n.c2p(h[i+1]),B=x.c2p(T[E]),I=x.c2p(T[E+1]),O,z;o?(O=l.orig_x||h,z=l.orig_y||T,_=F,w=O[i],I=B,b=z[E]):(O=l.orig_x||s||h,z=l.orig_y||d||T,w=s?O[i]:(O[i]+O[i+1])/2,b=d?z[E]:(z[E]+z[E+1])/2,n&&n.type==="category"&&(w=h[i]),x&&x.type==="category"&&(b=T[E]),c.zsmooth&&(F=_=n.c2p(w),B=I=x.c2p(b)));var k=f[E][i];if(S&&!S[E][i]&&(k=void 0),!(k===void 0&&!c.hoverongaps)){var N;Array.isArray(l.hovertext)&&Array.isArray(l.hovertext[E])?N=l.hovertext[E][i]:Array.isArray(l.text)&&Array.isArray(l.text[E])&&(N=l.text[E][i]);var K=P(c),q={type:"linear",range:[K.min,K.max],hoverformat:M,_separators:n._separators,_numFormat:n._numFormat},Q=a.tickText(q,k,"hover").text;return[L.extendFlat(v,{index:c._after2before?c._after2before[E][i]:[E,i],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:F,x1:_,y0:B,y1:I,xLabelVal:w,yLabelVal:b,zLabelVal:k,zLabel:Q,text:N})]}}},92165:function(W,U,e){W.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(W,U,e){var p=e(71828),L=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function P(v){return .5-.25*Math.min(1,v*.5)}W.exports=function(g,t){var r=1,u;for(A(g,t),u=0;u<t.length&&!(t[u][2]<4);u++);for(t=t.slice(u),u=0;u<100&&r>L;u++)r=A(g,t,P(r));return r>L&&p.log("interp2d didn't converge quickly",r),g};function A(v,g,t){var r=0,u,o,l,c,n,x,h,T,f,s,d,S,M;for(c=0;c<g.length;c++){for(u=g[c],o=u[0],l=u[1],d=v[o][l],s=0,f=0,n=0;n<4;n++)x=a[n],h=v[o+x[0]],h&&(T=h[l+x[1]],T!==void 0&&(s===0?S=M=T:(S=Math.min(S,T),M=Math.max(M,T)),f++,s+=T));if(f===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[o][l]=s/f,d===void 0?f<4&&(r=1):(v[o][l]=(1+t)*v[o][l]-t*d,M>S&&(r=Math.max(r,Math.abs(v[o][l]-d)/(M-S))))}return r}},58623:function(W,U,e){var p=e(71828);W.exports=function(a,P){a("texttemplate");var A=p.extendFlat({},P.font,{color:"auto",size:"auto"});p.coerceFont(a,"textfont",A)}},70769:function(W,U,e){var p=e(73972),L=e(71828).isArrayOrTypedArray;W.exports=function(P,A,v,g,t,r){var u=[],o=p.traceIs(P,"contour"),l=p.traceIs(P,"histogram"),c=p.traceIs(P,"gl2d"),n,x,h,T=L(A)&&A.length>1;if(T&&!l&&r.type!=="category"){var f=A.length;if(f<=t){if(o||c)u=A.slice(0,t);else if(t===1)u=[A[0]-.5,A[0]+.5];else{for(u=[1.5*A[0]-.5*A[1]],h=1;h<f;h++)u.push((A[h-1]+A[h])*.5);u.push(1.5*A[f-1]-.5*A[f-2])}if(f<t){var s=u[u.length-1],d=s-u[u.length-2];for(h=f;h<t;h++)s+=d,u.push(s)}}else return o?A.slice(0,t):A.slice(0,t+1)}else{var S=P[r._id.charAt(0)+"calendar"];if(l)n=r.r2c(v,0,S);else if(L(A)&&A.length===1)n=A[0];else if(v===void 0)n=0;else{var M=r.type==="log"?r.d2c:r.r2c;n=M(v,0,S)}for(x=g||1,h=o||c?0:-.5;h<t;h++)u.push(n+x*h)}return u}},50347:function(W,U,e){var p=e(39898),L=e(84267),a=e(73972),P=e(91424),A=e(89298),v=e(71828),g=e(63893),t=e(8225),r=e(7901),u=e(21081).extractOpts,o=e(21081).makeColorScaleFuncFromTrace,l=e(77922),c=e(18783),n=c.LINE_SPACING,x="heatmap-label";function h(S){return S.selectAll("g."+x)}function T(S){h(S).remove()}W.exports=function(S,M,C,y){var w=M.xaxis,b=M.yaxis;v.makeTraceGroups(y,C,"hm").each(function(i){var E=p.select(this),m=i[0],F=m.trace,_=F.xgap||0,B=F.ygap||0,I=m.z,O=m.x,z=m.y,k=m.xCenter,N=m.yCenter,K=a.traceIs(F,"contour"),q=K?"best":F.zsmooth,Q=I.length,re=v.maxRowLength(I),oe=!1,Y=!1,G,V,Z,ae,ie,J,$,se;for(J=0;G===void 0&&J<O.length-1;)G=w.c2p(O[J]),J++;for(J=O.length-1;V===void 0&&J>0;)V=w.c2p(O[J]),J--;for(V<G&&(Z=V,V=G,G=Z,oe=!0),J=0;ae===void 0&&J<z.length-1;)ae=b.c2p(z[J]),J++;for(J=z.length-1;ie===void 0&&J>0;)ie=b.c2p(z[J]),J--;if(ie<ae&&(Z=ae,ae=ie,ie=Z,Y=!0),K&&(k=O,N=z,O=m.xfill,z=m.yfill),q!=="fast"){var ee=q==="best"?0:.5;G=Math.max(-ee*w._length,G),V=Math.min((1+ee)*w._length,V),ae=Math.max(-ee*b._length,ae),ie=Math.min((1+ee)*b._length,ie)}var ue=Math.round(V-G),ge=Math.round(ie-ae),Te=ue<=0||ge<=0;if(Te){var xe=E.selectAll("image").data([]);xe.exit().remove(),T(E);return}var Pe,Ie;q==="fast"?(Pe=re,Ie=Q):(Pe=ue,Ie=ge);var Ae=document.createElement("canvas");Ae.width=Pe,Ae.height=Ie;var be=Ae.getContext("2d"),_e=o(F,{noNumericCheck:!0,returnArray:!0}),Ve,We;q==="fast"?(Ve=oe?function(Ir){return re-1-Ir}:v.identity,We=Y?function(Ir){return Q-1-Ir}:v.identity):(Ve=function(Ir){return v.constrain(Math.round(w.c2p(O[Ir])-G),0,ue)},We=function(Ir){return v.constrain(Math.round(b.c2p(z[Ir])-ae),0,ge)});var ze=We(0),Ze=[ze,ze],ct=oe?0:1,lt=Y?0:1,at=0,tt=0,dt=0,wt=0,Mt,It,$e,ke,Fe;function qe(Ir,jr){if(Ir!==void 0){var Wr=_e(Ir);return Wr[0]=Math.round(Wr[0]),Wr[1]=Math.round(Wr[1]),Wr[2]=Math.round(Wr[2]),at+=jr,tt+=Wr[0]*jr,dt+=Wr[1]*jr,wt+=Wr[2]*jr,Wr}return[0,0,0,0]}function it(Ir,jr,Wr,An){var wn=Ir[Wr.bin0];if(wn===void 0)return qe(void 0,1);var Tn=Ir[Wr.bin1],Rn=jr[Wr.bin0],Gn=jr[Wr.bin1],ma=Tn-wn||0,pa=Rn-wn||0,ua;return Tn===void 0?Gn===void 0?ua=0:Rn===void 0?ua=2*(Gn-wn):ua=(2*Gn-Rn-wn)*2/3:Gn===void 0?Rn===void 0?ua=0:ua=(2*wn-Tn-Rn)*2/3:Rn===void 0?ua=(2*Gn-Tn-wn)*2/3:ua=Gn+wn-Tn-Rn,qe(wn+Wr.frac*ma+An.frac*(pa+Wr.frac*ua))}if(q){var Je=0,Re;try{Re=new Uint8Array(ue*ge*4)}catch{Re=new Array(ue*ge*4)}if(q==="best"){var Me=k||O,fe=N||z,ye=new Array(Me.length),Le=new Array(fe.length),Oe=new Array(ue),ht=k?s:f,vt=N?s:f,Lt,Ot,Jt;for(J=0;J<Me.length;J++)ye[J]=Math.round(w.c2p(Me[J])-G);for(J=0;J<fe.length;J++)Le[J]=Math.round(b.c2p(fe[J])-ae);for(J=0;J<ue;J++)Oe[J]=ht(J,ye);for($=0;$<ge;$++)for(Lt=vt($,Le),Ot=I[Lt.bin0],Jt=I[Lt.bin1],J=0;J<ue;J++,Je+=4)Fe=it(Ot,Jt,Oe[J],Lt),d(Re,Je,Fe)}else for($=0;$<Q;$++)for(ke=I[$],Ze=We($),J=0;J<ue;J++)Fe=qe(ke[J],1),Je=(Ze*ue+Ve(J))*4,d(Re,Je,Fe);var qt=be.createImageData(ue,ge);try{qt.data.set(Re)}catch{var Vt=qt.data,vr=Vt.length;for($=0;$<vr;$++)Vt[$]=Re[$]}be.putImageData(qt,0,0)}else{var gr=Math.floor(_/2),Gr=Math.floor(B/2);for($=0;$<Q;$++)if(ke=I[$],Ze.reverse(),Ze[lt]=We($+1),!(Ze[0]===Ze[1]||Ze[0]===void 0||Ze[1]===void 0))for(It=Ve(0),Mt=[It,It],J=0;J<re;J++)Mt.reverse(),Mt[ct]=Ve(J+1),!(Mt[0]===Mt[1]||Mt[0]===void 0||Mt[1]===void 0)&&($e=ke[J],Fe=qe($e,(Mt[1]-Mt[0])*(Ze[1]-Ze[0])),be.fillStyle="rgba("+Fe.join(",")+")",be.fillRect(Mt[0]+gr,Ze[0]+Gr,Mt[1]-Mt[0]-_,Ze[1]-Ze[0]-B))}tt=Math.round(tt/at),dt=Math.round(dt/at),wt=Math.round(wt/at);var At=L("rgb("+tt+","+dt+","+wt+")");S._hmpixcount=(S._hmpixcount||0)+at,S._hmlumcount=(S._hmlumcount||0)+at*At.getLuminance();var or=E.selectAll("image").data(i);or.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),or.attr({height:ge,width:ue,x:G,y:ae,"xlink:href":Ae.toDataURL("image/png")}),T(E);var rr=F.texttemplate;if(rr){var Lr=u(F),Tr={type:"linear",range:[Lr.min,Lr.max],_separators:w._separators,_numFormat:w._numFormat},pt=F.type==="histogram2dcontour",st=F.type==="contour",yt=st?1:0,Pt=st?Q-1:Q,Dt=st?1:0,Nt=st?re-1:re,Zt=[];for(J=yt;J<Pt;J++){var $t;if(st)$t=m.y[J];else if(pt){if(J===0||J===Q-1)continue;$t=m.y[J]}else if(m.yCenter)$t=m.yCenter[J];else{if(J+1===Q&&m.y[J+1]===void 0)continue;$t=(m.y[J]+m.y[J+1])/2}var lr=Math.round(b.c2p($t));if(!(0>lr||lr>b._length))for($=Dt;$<Nt;$++){var ir;if(st)ir=m.x[$];else if(pt){if($===0||$===re-1)continue;ir=m.x[$]}else if(m.xCenter)ir=m.xCenter[$];else{if($+1===re&&m.x[$+1]===void 0)continue;ir=(m.x[$]+m.x[$+1])/2}var He=Math.round(w.c2p(ir));if(!(0>He||He>w._length)){var Ge=t({x:ir,y:$t},F,S._fullLayout);Ge.x=ir,Ge.y=$t;var Ct=m.z[J][$];Ct===void 0?(Ge.z="",Ge.zLabel=""):(Ge.z=Ct,Ge.zLabel=A.tickText(Tr,Ct,"hover").text);var Ut=m.text&&m.text[J]&&m.text[J][$];(Ut===void 0||Ut===!1)&&(Ut=""),Ge.text=Ut;var Kt=v.texttemplateString(rr,Ge,S._fullLayout._d3locale,Ge,F._meta||{});if(Kt){var Xt=Kt.split("<br>"),ur=Xt.length,Ar=0;for(se=0;se<ur;se++)Ar=Math.max(Ar,Xt[se].length);Zt.push({l:ur,c:Ar,t:Kt,x:He,y:lr,z:Ct})}}}}var Rr=F.textfont,wr=Rr.family,er=Rr.size,_r=S._fullLayout.font.size;if(!er||er==="auto"){var Vr=1/0,Br=1/0,yr=0,pn=0;for(se=0;se<Zt.length;se++){var an=Zt[se];if(yr=Math.max(yr,an.l),pn=Math.max(pn,an.c),se<Zt.length-1){var Zr=Zt[se+1],Nn=Math.abs(Zr.x-an.x),fn=Math.abs(Zr.y-an.y);Nn&&(Vr=Math.min(Vr,Nn)),fn&&(Br=Math.min(Br,fn))}}!isFinite(Vr)||!isFinite(Br)?er=_r:(Vr-=_,Br-=B,Vr/=pn,Br/=yr,Vr/=n/2,Br/=n,er=Math.min(Math.floor(Vr),Math.floor(Br),_r))}if(er<=0||!isFinite(er))return;var xn=function(Ir){return Ir.x},On=function(Ir){return Ir.y-er*(Ir.l*n/2-1)},br=h(E).data(Zt);br.enter().append("g").classed(x,1).append("text").attr("text-anchor","middle").each(function(Ir){var jr=p.select(this),Wr=Rr.color;(!Wr||Wr==="auto")&&(Wr=r.contrast("rgba("+_e(Ir.z).join()+")")),jr.attr("data-notex",1).call(g.positionText,xn(Ir),On(Ir)).call(P.font,wr,er,Wr).text(Ir.t).call(g.convertToTspans,S)})}})};function f(S,M){var C=M.length-2,y=v.constrain(v.findBin(S,M),0,C),w=M[y],b=M[y+1],i=v.constrain(y+(S-w)/(b-w)-.5,0,C),E=Math.round(i),m=Math.abs(i-E);return!i||i===C||!m?{bin0:E,bin1:E,frac:0}:{bin0:E,frac:m,bin1:Math.round(E+m/(i-E))}}function s(S,M){var C=M.length-1,y=v.constrain(v.findBin(S,M),0,C),w=M[y],b=M[y+1],i=(S-w)/(b-w)||0;return i<=0?{bin0:y,bin1:y,frac:0}:i<.5?{bin0:y,bin1:y+1,frac:i}:{bin0:y+1,bin1:y,frac:1-i}}function d(S,M,C){S[M]=C[0],S[M+1]=C[1],S[M+2]=C[2],S[M+3]=Math.round(C[3]*255)}},70035:function(W,U,e){var p=e(39898);W.exports=function(a){p.select(a).selectAll(".hm image").style("opacity",function(P){return P.trace.opacity})}},49901:function(W){W.exports=function(e,p,L){var a=L("zsmooth");a===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},67684:function(W,U,e){var p=e(92770),L=e(71828),a=e(73972);W.exports=function(g,t,r,u,o,l){var c=r("z");o=o||"x",l=l||"y";var n,x;if(c===void 0||!c.length)return 0;if(L.isArray1D(g.z)){n=r(o),x=r(l);var h=L.minRowLength(n),T=L.minRowLength(x);if(h===0||T===0)return 0;t._length=Math.min(h,T,c.length)}else{if(n=P(o,r),x=P(l,r),!A(c))return 0;r("transpose"),t._length=null}if(g.type==="heatmapgl")return!0;var f=a.getComponentMethod("calendars","handleTraceDefaults");return f(g,t,[o,l],u),!0};function P(v,g){var t=g(v),r=t?g(v+"type","array"):"scaled";return r==="scaled"&&(g(v+"0"),g("d"+v)),t}function A(v){for(var g=!0,t=!1,r=!1,u,o=0;o<v.length;o++){if(u=v[o],!L.isArrayOrTypedArray(u)){g=!1;break}u.length>0&&(t=!0);for(var l=0;l<u.length;l++)if(p(u[l])){r=!0;break}}return g&&t&&r}},16063:function(W,U,e){for(var p=e(21606),L=e(50693),a=e(1426).extendFlat,P=e(30962).overrideAll,A=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},g=0;g<A.length;g++){var t=A[g];v[t]=p[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,L("",{cLetter:"z",autoColorDflt:!1})),W.exports=P(v,"calc","nested")},59560:function(W,U,e){var p=e(9330).gl_heatmap2d,L=e(89298),a=e(78614);function P(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(t.glplot,this.options),this.heatmap._trace=this}var A=P.prototype;A.handlePick=function(t){var r=this.options,u=r.shape,o=t.pointId,l=o%u[0],c=Math.floor(o/u[0]),n=o;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[l],r.y[c],r.z[n]],textLabel:this.textLabels[o],name:this.name,pointIndex:[c,l],hoverinfo:this.hoverinfo}},A.update=function(t,r){var u=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var o=u.z;this.options.z=[].concat.apply([],o);var l=o[0].length,c=o.length;this.options.shape=[l,c],this.options.x=u.x,this.options.y=u.y,this.options.zsmooth=t.zsmooth;var n=v(t);this.options.colorLevels=n.colorLevels,this.options.colorValues=n.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var x=this.scene.xaxis,h=this.scene.yaxis,T,f;t.zsmooth===!1&&(T={ppad:u.x[1]-u.x[0]},f={ppad:u.y[1]-u.y[0]}),t._extremes[x._id]=L.findExtremes(x,u.x,T),t._extremes[h._id]=L.findExtremes(h,u.y,f)},A.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,u=t.zmin,o=t.zmax,l=r.length,c=new Array(l),n=new Array(4*l),x=0;x<l;x++){var h=r[x],T=a(h[1]);c[x]=u+h[0]*(o-u);for(var f=0;f<4;f++)n[4*x+f]=T[f]}return{colorLevels:c,colorValues:n}}function g(t,r,u){var o=new P(t,r.uid);return o.update(r,u),o}W.exports=g},19600:function(W,U,e){var p=e(71828),L=e(67684),a=e(1586),P=e(16063);W.exports=function(v,g,t,r){function u(l,c){return p.coerce(v,g,P,l,c)}var o=L(v,g,u,r);if(!o){g.visible=!1;return}u("text"),u("zsmooth"),a(v,g,r,u,{prefix:"",cLetter:"z"})}},3325:function(W,U,e){W.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(W,U,e){var p=e(1486),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(5386).s,A=e(41940),v=e(17656),g=e(72406),t=e(1426).extendFlat;W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:t({},p.text,{}),hovertext:t({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:g.eventDataKeys}),texttemplate:P({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},p.textposition,{arrayOk:!1}),textfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:A({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},42174:function(W){W.exports=function(e,p){for(var L=e.length,a=0,P=0;P<L;P++)p[P]?(e[P]/=p[P],a+=e[P]):e[P]=null;return a}},17656:function(W){W.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(W,U,e){var p=e(92770);W.exports={count:function(L,a,P){return P[L]++,1},sum:function(L,a,P,A){var v=A[a];return p(v)?(v=Number(v),P[L]+=v,v):0},avg:function(L,a,P,A,v){var g=A[a];return p(g)&&(g=Number(g),P[L]+=g,v[L]++),0},min:function(L,a,P,A){var v=A[a];if(p(v))if(v=Number(v),p(P[L])){if(P[L]>v){var g=v-P[L];return P[L]=v,g}}else return P[L]=v,v;return 0},max:function(L,a,P,A){var v=A[a];if(p(v))if(v=Number(v),p(P[L])){if(P[L]<v){var g=v-P[L];return P[L]=v,g}}else return P[L]=v,v;return 0}}},40965:function(W,U,e){var p=e(50606),L=p.ONEAVGYEAR,a=p.ONEAVGMONTH,P=p.ONEDAY,A=p.ONEHOUR,v=p.ONEMIN,g=p.ONESEC,t=e(89298).tickIncrement;W.exports=function(n,x,h,T,f){var s=-1.1*x,d=-.1*x,S=n-d,M=h[0],C=h[1],y=Math.min(r(M+d,M+S,T,f),r(C+d,C+S,T,f)),w=Math.min(r(M+s,M+d,T,f),r(C+s,C+d,T,f)),b,i;if(y>w&&w<Math.abs(C-M)/4e3?(b=y,i=!1):(b=Math.min(y,w),i=!0),T.type==="date"&&b>P){var E=b===L?1:6,m=b===L?"M12":"M1";return function(F,_){var B=T.c2d(F,L,f),I=B.indexOf("-",E);I>0&&(B=B.substr(0,I));var O=T.d2c(B,0,f);if(O<F){var z=t(O,m,!1,f);(O+z)/2<F+n&&(O=z)}return _&&i?t(O,m,!0,f):O}}return function(F,_){var B=b*Math.round(F/b);return B+b/10<F&&B+b*.9<F+n&&(B+=b),_&&i&&(B-=b),B}};function r(c,n,x,h){if(c*n<=0)return 1/0;for(var T=Math.abs(n-c),f=x.type==="date",s=u(T,f),d=0;d<10;d++){var S=u(s*80,f);if(s===S)break;if(o(S,c,n,f,x,h))s=S;else break}return s}function u(c,n){return n&&c>g?c>P?c>L*1.1?L:c>a*1.1?a:P:c>A?A:c>v?v:g:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function o(c,n,x,h,T,f){if(h&&c>P){var s=l(n,T,f),d=l(x,T,f),S=c===L?0:1;return s[S]!==d[S]}return Math.floor(x/c)-Math.floor(n/c)>.1}function l(c,n,x){var h=n.c2d(c,L,x).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},72138:function(W,U,e){var p=e(92770),L=e(71828),a=e(73972),P=e(89298),A=e(75341),v=e(59575),g=e(36362),t=e(42174),r=e(40965);function u(x,h){var T=[],f=[],s=h.orientation==="h",d=P.getFromId(x,s?h.yaxis:h.xaxis),S=s?"y":"x",M={x:"y",y:"x"}[S],C=h[S+"calendar"],y=h.cumulative,w,b=o(x,h,d,S),i=b[0],E=b[1],m=typeof i.size=="string",F=[],_=m?F:i,B=[],I=[],O=[],z=0,k=h.histnorm,N=h.histfunc,K=k.indexOf("density")!==-1,q,Q,re;y.enabled&&K&&(k=k.replace(/ ?density$/,""),K=!1);var oe=N==="max"||N==="min",Y=oe?null:0,G=v.count,V=g[k],Z=!1,ae=function(We){return d.r2c(We,0,C)},ie;for(L.isArrayOrTypedArray(h[M])&&N!=="count"&&(ie=h[M],Z=N==="avg",G=v[N]),w=ae(i.start),Q=ae(i.end)+(w-P.tickIncrement(w,i.size,!1,C))/1e6;w<Q&&T.length<1e6&&(q=P.tickIncrement(w,i.size,!1,C),T.push((w+q)/2),f.push(Y),O.push([]),F.push(w),K&&B.push(1/(q-w)),Z&&I.push(0),!(q<=w));)w=q;F.push(w),!m&&d.type==="date"&&(_={start:ae(_.start),end:ae(_.end),size:_.size}),x._fullLayout._roundFnOpts||(x._fullLayout._roundFnOpts={});var J=h["_"+S+"bingroup"],$={leftGap:1/0,rightGap:1/0};J&&(x._fullLayout._roundFnOpts[J]||(x._fullLayout._roundFnOpts[J]=$),$=x._fullLayout._roundFnOpts[J]);var se=f.length,ee=!0,ue=$.leftGap,ge=$.rightGap,Te={};for(w=0;w<E.length;w++){var xe=E[w];re=L.findBin(xe,_),re>=0&&re<se&&(z+=G(re,w,f,ie,I),ee&&O[re].length&&xe!==E[O[re][0]]&&(ee=!1),O[re].push(w),Te[w]=re,ue=Math.min(ue,xe-F[re]),ge=Math.min(ge,F[re+1]-xe))}$.leftGap=ue,$.rightGap=ge;var Pe;ee||(Pe=function(We,ze){return function(){var Ze=x._fullLayout._roundFnOpts[J];return r(Ze.leftGap,Ze.rightGap,F,d,C)(We,ze)}}),Z&&(z=t(f,I)),V&&V(f,z,B),y.enabled&&n(f,y.direction,y.currentbin);var Ie=Math.min(T.length,f.length),Ae=[],be=0,_e=Ie-1;for(w=0;w<Ie;w++)if(f[w]){be=w;break}for(w=Ie-1;w>=be;w--)if(f[w]){_e=w;break}for(w=be;w<=_e;w++)if(p(T[w])&&p(f[w])){var Ve={p:T[w],s:f[w],b:0};y.enabled||(Ve.pts=O[w],ee?Ve.ph0=Ve.ph1=O[w].length?E[O[w][0]]:T[w]:(h._computePh=!0,Ve.ph0=Pe(F[w]),Ve.ph1=Pe(F[w+1],!0))),Ae.push(Ve)}return Ae.length===1&&(Ae[0].width1=P.tickIncrement(Ae[0].p,i.size,!1,C)-Ae[0].p),A(Ae,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Ae,h,Te),Ae}function o(x,h,T,f,s){var d=f+"bins",S=x._fullLayout,M=h["_"+f+"bingroup"],C=S._histogramBinOpts[M],y=S.barmode==="overlay",w,b,i,E,m,F,_,B=function(xe){return T.r2c(xe,0,E)},I=function(xe){return T.c2r(xe,0,E)},O=T.type==="date"?function(xe){return xe||xe===0?L.cleanDate(xe,null,E):null}:function(xe){return p(xe)?Number(xe):null};function z(xe,Pe,Ie){Pe[xe+"Found"]?(Pe[xe]=O(Pe[xe]),Pe[xe]===null&&(Pe[xe]=Ie[xe])):(F[xe]=Pe[xe]=Ie[xe],L.nestedProperty(b[0],d+"."+xe).set(Ie[xe]))}if(h["_"+f+"autoBinFinished"])delete h["_"+f+"autoBinFinished"];else{b=C.traces;var k=[],N=!0,K=!1,q=!1;for(w=0;w<b.length;w++)if(i=b[w],i.visible){var Q=C.dirs[w];m=i["_"+Q+"pos0"]=T.makeCalcdata(i,Q),k=L.concat(k,m),delete i["_"+f+"autoBinFinished"],h.visible===!0&&(N?N=!1:(delete i._autoBin,i["_"+f+"autoBinFinished"]=1),a.traceIs(i,"2dMap")&&(K=!0),i.type==="histogram2dcontour"&&(q=!0))}E=b[0][f+"calendar"];var re=P.autoBin(k,T,C.nbins,K,E,C.sizeFound&&C.size),oe=b[0]._autoBin={};if(F=oe[C.dirs[0]]={},q&&(C.size||(re.start=I(P.tickIncrement(B(re.start),re.size,!0,E))),C.end===void 0&&(re.end=I(P.tickIncrement(B(re.end),re.size,!1,E)))),y&&!a.traceIs(h,"2dMap")&&re._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"){if(s)return[re,m,!0];re=l(x,h,T,f,d)}_=i.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?re.start=I(P.tickIncrement(B(re.start),re.size,!0,E)):re.end=I(P.tickIncrement(B(re.end),re.size,!1,E))),C.size=re.size,C.sizeFound||(F.size=re.size,L.nestedProperty(b[0],d+".size").set(re.size)),z("start",C,re),z("end",C,re)}m=h["_"+f+"pos0"],delete h["_"+f+"pos0"];var Y=h._input[d]||{},G=L.extendFlat({},C),V=C.start,Z=T.r2l(Y.start),ae=Z!==void 0;if((C.startFound||ae)&&Z!==T.r2l(V)){var ie=ae?Z:L.aggNums(Math.min,null,m),J={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:V,calendar:E,range:[ie,P.tickIncrement(ie,C.size,!1,E)].map(T.l2r)},$=P.tickFirst(J);$>T.r2l(ie)&&($=P.tickIncrement($,C.size,!0,E)),G.start=T.l2r($),ae||L.nestedProperty(h,d+".start").set(G.start)}var se=C.end,ee=T.r2l(Y.end),ue=ee!==void 0;if((C.endFound||ue)&&ee!==T.r2l(se)){var ge=ue?ee:L.aggNums(Math.max,null,m);G.end=T.l2r(ge),ue||L.nestedProperty(h,d+".start").set(G.end)}var Te="autobin"+f;return h._input[Te]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Te],delete h[Te]),[G,m]}function l(x,h,T,f,s){var d=x._fullLayout,S=c(x,h),M=!1,C=1/0,y=[h],w,b,i;for(w=0;w<S.length;w++)if(b=S[w],b===h)M=!0;else if(!M)i=d._histogramBinOpts[b["_"+f+"bingroup"]],C=Math.min(C,i.size||b[s].size);else{var E=o(x,b,T,f,!0),m=E[0],F=E[2];b["_"+f+"autoBinFinished"]=1,b["_"+f+"pos0"]=E[1],F?y.push(b):C=Math.min(C,m.size)}var _=new Array(y.length);for(w=0;w<y.length;w++)for(var B=y[w]["_"+f+"pos0"],I=0;I<B.length;I++)if(B[I]!==void 0){_[w]=B[I];break}for(isFinite(C)||(C=L.distinctVals(_).minDiff),w=0;w<y.length;w++){b=y[w];var O=b[f+"calendar"],z={start:T.c2r(_[w]-C/2,0,O),end:T.c2r(_[w]+C/2,0,O),size:C};b._input[s]=b[s]=z,i=d._histogramBinOpts[b["_"+f+"bingroup"]],i&&L.extendFlat(i,z)}return h[s]}function c(x,h){for(var T=h.xaxis,f=h.yaxis,s=h.orientation,d=[],S=x._fullData,M=0;M<S.length;M++){var C=S[M];C.type==="histogram"&&C.visible===!0&&C.orientation===s&&C.xaxis===T&&C.yaxis===f&&d.push(C)}return d}function n(x,h,T){var f,s,d;function S(C){d=x[C],x[C]/=2}function M(C){s=x[C],x[C]=d+s/2,d+=s}if(T==="half")if(h==="increasing")for(S(0),f=1;f<x.length;f++)M(f);else for(S(x.length-1),f=x.length-2;f>=0;f--)M(f);else if(h==="increasing"){for(f=1;f<x.length;f++)x[f]+=x[f-1];T==="exclude"&&(x.unshift(0),x.pop())}else{for(f=x.length-2;f>=0;f--)x[f]+=x[f+1];T==="exclude"&&(x.push(0),x.shift())}}W.exports={calc:u,calcAllAutoBins:o}},72406:function(W){W.exports={eventDataKeys:["binNumber"]}},82222:function(W,U,e){var p=e(71828),L=e(41675),a=e(73972).traceIs,P=e(26125),A=p.nestedProperty,v=e(99082).getAxisGroup,g=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];W.exports=function(u,o){var l=o._histogramBinOpts={},c=[],n={},x=[],h,T,f,s,d,S,M;function C(q,Q){return p.coerce(h._input,h,h._module.attributes,q,Q)}function y(q){return q.orientation==="v"?"x":"y"}function w(q,Q){var re=L.getFromTrace({_fullLayout:o},q,Q);return re.type}function b(q,Q,re){var oe=q.uid+"__"+re;Q||(Q=oe);var Y=w(q,re),G=q[re+"calendar"]||"",V=l[Q],Z=!0;V&&(Y===V.axType&&G===V.calendar?(Z=!1,V.traces.push(q),V.dirs.push(re)):(Q=oe,Y!==V.axType&&p.warn(["Attempted to group the bins of trace",q.index,"set on a","type:"+Y,"axis","with bins on","type:"+V.axType,"axis."].join(" ")),G!==V.calendar&&p.warn(["Attempted to group the bins of trace",q.index,"set with a",G,"calendar","with bins",V.calendar?"on a "+V.calendar+" calendar":"w/o a set calendar"].join(" ")))),Z&&(l[Q]={traces:[q],dirs:[re],axType:Y,calendar:q[re+"calendar"]||""}),q["_"+re+"bingroup"]=Q}for(d=0;d<u.length;d++)h=u[d],a(h,"histogram")&&(c.push(h),delete h._xautoBinFinished,delete h._yautoBinFinished,a(h,"2dMap")||P(h._input,h,o,C));var i=o._alignmentOpts||{};for(d=0;d<c.length;d++){if(h=c[d],f="",!a(h,"2dMap")){if(s=y(h),o.barmode==="group"&&h.alignmentgroup){var E=h[s+"axis"],m=v(o,E)+h.orientation;(i[m]||{})[h.alignmentgroup]&&(f=m)}!f&&o.barmode!=="overlay"&&(f=v(o,h.xaxis)+v(o,h.yaxis)+y(h))}f?(n[f]||(n[f]=[]),n[f].push(h)):x.push(h)}for(f in n){if(T=n[f],T.length===1){x.push(T[0]);continue}var F=!1;for(T.length&&(h=T[0],F=C("bingroup")),f=F||f,d=0;d<T.length;d++){h=T[d];var _=h._input.bingroup;_&&_!==f&&p.warn(["Trace",h.index,"must match","within bingroup",f+".","Ignoring its bingroup:",_,"setting."].join(" ")),h.bingroup=f,b(h,f,y(h))}}for(d=0;d<x.length;d++){h=x[d];var B=C("bingroup");if(a(h,"2dMap"))for(M=0;M<2;M++){s=t[M];var I=C(s+"bingroup",B?B+"__"+s:null);b(h,I,s)}else b(h,B,y(h))}for(f in l){var O=l[f];for(T=O.traces,S=0;S<g.length;S++){var z=g[S],k=z.name,N,K;if(!(k==="nbins"&&O.sizeFound)){for(d=0;d<T.length;d++){if(h=T[d],s=O.dirs[d],N=z.aStr[s],A(h._input,N).get()!==void 0){O[k]=C(N),O[k+"Found"]=!0;break}K=(h._autoBin||{})[s]||{},K[k]&&A(h,N).set(K[k])}if(k==="start"||k==="end")for(;d<T.length;d++)h=T[d],h["_"+s+"bingroup"]&&(K=(h._autoBin||{})[s]||{},C(N,K[k]));k==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(h=T[0],O[k]=C(N))}}}}},11385:function(W,U,e){var p=e(73972),L=e(71828),a=e(7901),P=e(90769).handleText,A=e(98340),v=e(7745);W.exports=function(t,r,u,o){function l(w,b){return L.coerce(t,r,v,w,b)}var c=l("x"),n=l("y"),x=l("cumulative.enabled");x&&(l("cumulative.direction"),l("cumulative.currentbin")),l("text");var h=l("textposition");P(t,r,o,l,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat");var T=l("orientation",n&&!c?"h":"v"),f=T==="v"?"x":"y",s=T==="v"?"y":"x",d=c&&n?Math.min(L.minRowLength(c)&&L.minRowLength(n)):L.minRowLength(r[f]||[]);if(!d){r.visible=!1;return}r._length=d;var S=p.getComponentMethod("calendars","handleTraceDefaults");S(t,r,["x","y"],o);var M=r[s];M&&l("histfunc"),l("histnorm"),l("autobin"+f),A(t,r,l,u,o),L.coerceSelectionMarkerOpacity(r,l);var C=(r.marker.line||{}).color,y=p.getComponentMethod("errorbars","supplyDefaults");y(t,r,C||a.defaultLine,{axis:"y"}),y(t,r,C||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(W){W.exports=function(e,p,L,a,P){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var A=Array.isArray(P)?a[0].pts[P[0]][P[1]]:a[P].pts;e.pointNumbers=A,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var g=0;g<A.length;g++)v=v.concat(L._indexToPoints[A[g]])}else v=A;e.pointIndices=v}return e}},76440:function(W,U,e){var p=e(95423).hoverPoints,L=e(89298).hoverLabelText;W.exports=function(P,A,v,g,t){var r=p(P,A,v,g,t);if(r){P=r[0];var u=P.cd[P.index],o=P.cd[0].trace;if(!o.cumulative.enabled){var l=o.orientation==="h"?"y":"x";P[l+"Label"]=L(P[l+"a"],[u.ph0,u.ph1],o[l+"hoverformat"])}return r}}},36071:function(W,U,e){W.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(W){W.exports={percent:function(U,e){for(var p=U.length,L=100/e,a=0;a<p;a++)U[a]*=L},probability:function(U,e){for(var p=U.length,L=0;L<p;L++)U[L]/=e},density:function(U,e,p,L){var a=U.length;L=L||1;for(var P=0;P<a;P++)U[P]*=p[P]*L},"probability density":function(U,e,p,L){var a=U.length;L&&(e/=L);for(var P=0;P<a;P++)U[P]*=p[P]/e}}},35361:function(W,U,e){var p=e(7745),L=e(17656),a=e(21606),P=e(9012),A=e(12663).axisHoverFormat,v=e(5386).f,g=e(5386).s,t=e(50693),r=e(1426).extendFlat;W.exports=r({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:r({},p.bingroup,{}),xbingroup:r({},p.bingroup,{}),ybingroup:r({},p.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:A("x"),yhoverformat:A("y"),zhoverformat:A("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},P.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(W,U,e){var p=e(71828),L=e(89298),a=e(59575),P=e(36362),A=e(42174),v=e(40965),g=e(72138).calcAllAutoBins;W.exports=function(l,c){var n=L.getFromId(l,c.xaxis),x=L.getFromId(l,c.yaxis),h=c.xcalendar,T=c.ycalendar,f=function(Je){return n.r2c(Je,0,h)},s=function(Je){return x.r2c(Je,0,T)},d=function(Je){return n.c2r(Je,0,h)},S=function(Je){return x.c2r(Je,0,T)},M,C,y,w,b=g(l,c,n,"x"),i=b[0],E=b[1],m=g(l,c,x,"y"),F=m[0],_=m[1],B=c._length;E.length>B&&E.splice(B,E.length-B),_.length>B&&_.splice(B,_.length-B);var I=[],O=[],z=[],k=typeof i.size=="string",N=typeof F.size=="string",K=[],q=[],Q=k?K:i,re=N?q:F,oe=0,Y=[],G=[],V=c.histnorm,Z=c.histfunc,ae=V.indexOf("density")!==-1,ie=Z==="max"||Z==="min",J=ie?null:0,$=a.count,se=P[V],ee=!1,ue=[],ge=[],Te="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Te&&Z!=="count"&&(ee=Z==="avg",$=a[Z]);var xe=i.size,Pe=f(i.start),Ie=f(i.end)+(Pe-L.tickIncrement(Pe,xe,!1,h))/1e6;for(M=Pe;M<Ie;M=L.tickIncrement(M,xe,!1,h))O.push(J),K.push(M),ee&&z.push(0);K.push(M);var Ae=O.length,be=(M-Pe)/Ae,_e=d(Pe+be/2),Ve=F.size,We=s(F.start),ze=s(F.end)+(We-L.tickIncrement(We,Ve,!1,T))/1e6;for(M=We;M<ze;M=L.tickIncrement(M,Ve,!1,T)){I.push(O.slice()),q.push(M);var Ze=new Array(Ae);for(C=0;C<Ae;C++)Ze[C]=[];G.push(Ze),ee&&Y.push(z.slice())}q.push(M);var ct=I.length,lt=(M-We)/ct,at=S(We+lt/2);ae&&(ue=t(O.length,Q,be,k),ge=t(I.length,re,lt,N)),!k&&n.type==="date"&&(Q=r(f,Q)),!N&&x.type==="date"&&(re=r(s,re));var tt=!0,dt=!0,wt=new Array(Ae),Mt=new Array(ct),It=1/0,$e=1/0,ke=1/0,Fe=1/0;for(M=0;M<B;M++){var qe=E[M],it=_[M];y=p.findBin(qe,Q),w=p.findBin(it,re),y>=0&&y<Ae&&w>=0&&w<ct&&(oe+=$(y,M,I[w],Te,Y[w]),G[w][y].push(M),tt&&(wt[y]===void 0?wt[y]=qe:wt[y]!==qe&&(tt=!1)),dt&&(Mt[w]===void 0?Mt[w]=it:Mt[w]!==it&&(dt=!1)),It=Math.min(It,qe-K[y]),$e=Math.min($e,K[y+1]-qe),ke=Math.min(ke,it-q[w]),Fe=Math.min(Fe,q[w+1]-it))}if(ee)for(w=0;w<ct;w++)oe+=A(I[w],Y[w]);if(se)for(w=0;w<ct;w++)se(I[w],oe,ue,ge[w]);return{x:E,xRanges:u(K,tt&&wt,It,$e,n,h),x0:_e,dx:be,y:_,yRanges:u(q,dt&&Mt,ke,Fe,x,T),y0:at,dy:lt,z:I,pts:G}};function t(o,l,c,n){var x=new Array(o),h;if(n)for(h=0;h<o;h++)x[h]=1/(l[h+1]-l[h]);else{var T=1/c;for(h=0;h<o;h++)x[h]=T}return x}function r(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function u(o,l,c,n,x,h){var T,f=o.length-1,s=new Array(f),d=v(c,n,o,x,h);for(T=0;T<f;T++){var S=(l||[])[T];s[T]=S===void 0?[d(o[T]),d(o[T+1],!0)]:[S,S]}return s}},93888:function(W,U,e){var p=e(71828),L=e(75238),a=e(49901),P=e(1586),A=e(58623),v=e(35361);W.exports=function(t,r,u,o){function l(c,n){return p.coerce(t,r,v,c,n)}L(t,r,l,o),r.visible!==!1&&(a(t,r,l,o),P(t,r,o,l,{prefix:"",cLetter:"z"}),l("hovertemplate"),A(l,o),l("xhoverformat"),l("yhoverformat"))}},76128:function(W,U,e){var p=e(46248),L=e(89298).hoverLabelText;W.exports=function(P,A,v,g,t){var r=p(P,A,v,g,t);if(r){P=r[0];var u=P.index,o=u[0],l=u[1],c=P.cd[0],n=c.trace,x=c.xRanges[l],h=c.yRanges[o];return P.xLabel=L(P.xa,[x[0],x[1]],n.xhoverformat),P.yLabel=L(P.ya,[h[0],h[1]],n.yhoverformat),r}}},43905:function(W,U,e){W.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(W,U,e){var p=e(73972),L=e(71828);W.exports=function(P,A,v,g){var t=v("x"),r=v("y"),u=L.minRowLength(t),o=L.minRowLength(r);if(!u||!o){A.visible=!1;return}A._length=Math.min(u,o);var l=p.getComponentMethod("calendars","handleTraceDefaults");l(P,A,["x","y"],g);var c=v("z")||v("marker.color");c&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(W,U,e){var p=e(35361),L=e(70600),a=e(50693),P=e(12663).axisHoverFormat,A=e(1426).extendFlat;W.exports=A({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:A({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(W,U,e){var p=e(71828),L=e(75238),a=e(67217),P=e(8724),A=e(58623),v=e(99066);W.exports=function(t,r,u,o){function l(n,x){return p.coerce(t,r,v,n,x)}function c(n){return p.coerce2(t,r,v,n)}L(t,r,l,o),r.visible!==!1&&(a(t,r,l,c),P(t,r,l,o),l("xhoverformat"),l("yhoverformat"),l("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&A(l,o))}},35902:function(W,U,e){W.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(50693),P=e(27670).Y,A=e(34e3),v=e(57564),g=e(45802),t=e(43473),r=e(1426).extendFlat;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:g.pathbar,text:A.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:t.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:A.sort,root:v.root,domain:P({name:"icicle",trace:!0,editType:"calc"})}},96346:function(W,U,e){var p=e(74875);U.name="icicle",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},46584:function(W,U,e){var p=e(52147);U.y=function(L,a){return p.calc(L,a)},U.T=function(L){return p._runCrossTraceCalc("icicle",L)}},56524:function(W,U,e){var p=e(71828),L=e(46291),a=e(7901),P=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,g=e(21081),t=g.hasColorscale,r=g.handleDefaults;W.exports=function(o,l,c,n){function x(y,w){return p.coerce(o,l,L,y,w)}var h=x("labels"),T=x("parents");if(!h||!h.length||!T||!T.length){l.visible=!1;return}var f=x("values");f&&f.length?x("branchvalues"):x("count"),x("level"),x("maxdepth"),x("tiling.orientation"),x("tiling.flip"),x("tiling.pad");var s=x("text");x("texttemplate"),l.texttemplate||x("textinfo",Array.isArray(s)?"text+label":"label"),x("hovertext"),x("hovertemplate");var d=x("pathbar.visible"),S="auto";A(o,l,n,x,S,{hasPathbar:d,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),x("textposition");var M=x("marker.line.width");M&&x("marker.line.color",n.paper_bgcolor),x("marker.colors");var C=l._hasColorscale=t(o,"marker","colors")||(o.marker||{}).coloraxis;C&&r(o,l,n,x,{prefix:"marker.",cLetter:"c"}),x("leaf.opacity",C?1:.7),l._hovered={marker:{line:{width:2,color:a.contrast(n.paper_bgcolor)}}},d&&(x("pathbar.thickness",l.pathbar.textfont.size+2*v),x("pathbar.side"),x("pathbar.edgeshape")),x("sort"),x("root.color"),P(l,n,x),l._length=null}},90666:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(63893),A=e(21538),v=e(82454).styleOne,g=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,o=!1;W.exports=function(c,n,x,h,T){var f=T.width,s=T.height,d=T.viewX,S=T.viewY,M=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,w=T.hasTransition,b=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,m=T.prevEntry,F={},_=c._context.staticPlot,B=c._fullLayout,I=n[0],O=I.trace,z=O.textposition.indexOf("left")!==-1,k=O.textposition.indexOf("right")!==-1,N=O.textposition.indexOf("bottom")!==-1,K=A(x,[f,s],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),q=K.descendants(),Q=1/0,re=-1/0;q.forEach(function(Z){var ae=Z.depth;ae>=O._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(Q=Math.min(Q,ae),re=Math.max(re,ae))}),h=h.data(q,t.getPtId),O._maxVisibleLayers=isFinite(re)?re-Q+1:0,h.enter().append("g").classed("slice",!0),b(h,o,F,[f,s],M),h.order();var oe=null;if(w&&m){var Y=t.getPtId(m);h.each(function(Z){oe===null&&t.getPtId(Z)===Y&&(oe={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var G=function(){return oe||{x0:0,x1:f,y0:0,y1:s}},V=h;return w&&(V=V.transition().each("end",function(){var Z=p.select(this);t.setSliceCursor(Z,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(Z){Z._x0=d(Z.x0),Z._x1=d(Z.x1),Z._y0=S(Z.y0),Z._y1=S(Z.y1),Z._hoverX=d(Z.x1-O.tiling.pad),Z._hoverY=S(N?Z.y1-O.tiling.pad/2:Z.y0+O.tiling.pad/2);var ae=p.select(this),ie=L.ensureSingle(ae,"path","surface",function(ee){ee.style("pointer-events",_?"none":"all")});w?ie.transition().attrTween("d",function(ee){var ue=i(ee,o,G(),[f,s],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ge){return M(ue(ge))}}):ie.attr("d",M),ae.call(r,x,c,n,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),ie.call(v,Z,O,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":Z._text=u(Z,x,O,n,B)||"";var J=L.ensureSingle(ae,"g","slicetext"),$=L.ensureSingle(J,"text","",function(ee){ee.attr("data-notex",1)}),se=L.ensureUniformFontSize(c,t.determineTextFont(O,Z,B.font));$.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",k?"end":z?"start":"middle").call(a.font,se).call(P.convertToTspans,c),Z.textBB=a.bBox($.node()),Z.transform=C(Z,{fontSize:se.size}),Z.transform.fontSize=se.size,w?$.transition().attrTween("transform",function(ee){var ue=E(ee,o,G(),[f,s]);return function(ge){return y(ue(ge))}}):$.attr("transform",y(Z))}),oe}},69816:function(W,U,e){W.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(W){W.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(W,U,e){var p=e(71828),L=e(92894);W.exports=function(P,A){function v(g,t){return p.coerce(P,A,L,g,t)}v("iciclecolorway",A.colorway),v("extendiciclecolors")}},21538:function(W,U,e){var p=e(674),L=e(14102);W.exports=function(P,A,v){var g=v.flipX,t=v.flipY,r=v.orientation==="h",u=v.maxDepth,o=A[0],l=A[1];u&&(o=(P.height+1)*A[0]/Math.min(P.height+1,u),l=(P.height+1)*A[1]/Math.min(P.height+1,u));var c=p.partition().padding(v.pad.inner).size(r?[A[1],o]:[A[0],l])(P);return(r||g||t)&&L(c,A,{swapXY:r,flipX:g,flipY:t}),c}},85596:function(W,U,e){var p=e(80694),L=e(90666);W.exports=function(P,A,v,g){return p(P,A,v,g,{type:"icicle",drawDescendants:L})}},82454:function(W,U,e){var p=e(39898),L=e(7901),a=e(71828),P=e(72597).resizeText;function A(g){var t=g._fullLayout._iciclelayer.selectAll(".trace");P(g,t,"icicle"),t.each(function(r){var u=p.select(this),o=r[0],l=o.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(c){p.select(this).call(v,c,l)})})}function v(g,t,r){var u=t.data.data,o=!t.children,l=u.i,c=a.castOption(r,l,"marker.line.color")||L.defaultLine,n=a.castOption(r,l,"marker.line.width")||0;g.style("stroke-width",n).call(L.fill,u.color).call(L.stroke,c).style("opacity",o?r.leaf.opacity:null)}W.exports={style:A,styleOne:v}},17230:function(W,U,e){for(var p=e(9012),L=e(5386).f,a=e(1426).extendFlat,P=e(51877).colormodel,A=["rgb","rgba","rgba256","hsl","hsla"],v=[],g=[],t=0;t<A.length;t++){var r=P[A[t]];v.push("For the `"+A[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),g.push("For the `"+A[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}W.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:A,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(W,U,e){var p=e(71828),L=e(51877),a=e(92770),P=e(89298),A=e(71828).maxRowLength,v=e(67395).A;W.exports=function(o,l){var c,n;if(l._hasZ)c=l.z.length,n=A(l.z);else if(l._hasSource){var x=v(l.source);c=x.height,n=x.width}var h=P.getFromId(o,l.xaxis||"x"),T=P.getFromId(o,l.yaxis||"y"),f=h.d2c(l.x0)-l.dx/2,s=T.d2c(l.y0)-l.dy/2,d,S=[f,f+n*l.dx],M=[s,s+c*l.dy];if(h&&h.type==="log")for(d=0;d<n;d++)S.push(f+d*l.dx);if(T&&T.type==="log")for(d=0;d<c;d++)M.push(s+d*l.dy);l._extremes[h._id]=P.findExtremes(h,S),l._extremes[T._id]=P.findExtremes(T,M),l._scaler=r(l);var C={x0:f,y0:s,z:l.z,w:n,h:c};return[C]};function g(u,o,l,c){return function(n){return p.constrain((n-u)*o,l,c)}}function t(u,o){return function(l){return p.constrain(l,u,o)}}function r(u){var o=L.colormodel[u.colormodel],l=o.colormodel||u.colormodel,c=l.length;u._sArray=[];for(var n=0;n<c;n++)o.min[n]!==u.zmin[n]||o.max[n]!==u.zmax[n]?u._sArray.push(g(u.zmin[n],(o.max[n]-o.min[n])/(u.zmax[n]-u.zmin[n]),o.min[n],o.max[n])):u._sArray.push(t(o.min[n],o.max[n]));return function(x){for(var h=x.slice(0,c),T=0;T<c;T++){var f=h[T];if(!a(f))return!1;h[T]=u._sArray[T](f)}return h}}},51877:function(W){W.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}},pixelatedStyle:["image-rendering: optimizeSpeed","image-rendering: -moz-crisp-edges","image-rendering: -o-crisp-edges","image-rendering: -webkit-optimize-contrast","image-rendering: optimize-contrast","image-rendering: crisp-edges","image-rendering: pixelated",""].join("; ")}},13245:function(W,U,e){var p=e(71828),L=e(17230),a=e(51877),P=e(25095).IMAGE_URL_PREFIX;W.exports=function(v,g){function t(o,l){return p.coerce(v,g,L,o,l)}t("source"),g.source&&!g.source.match(P)&&delete g.source,g._hasSource=!!g.source;var r=t("z");if(g._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var u;g._hasZ?(t("colormodel","rgb"),u=a.colormodel[g.colormodel],t("zmin",u.zminDflt||u.min),t("zmax",u.zmaxDflt||u.max)):g._hasSource&&(g.colormodel="rgba256",u=a.colormodel[g.colormodel],g.zmin=u.zminDflt,g.zmax=u.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),g._length=null}},30835:function(W){W.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},67395:function(W,U,e){var p=e(33575),L=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;U.A=function(P){var A=P.replace(L,""),v=new a(A,"base64");return p(v)}},28749:function(W,U,e){var p=e(30211),L=e(71828),a=e(51877);W.exports=function(A,v,g){var t=A.cd[0],r=t.trace,u=A.xa,o=A.ya;if(!(p.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||p.inbox(g-t.y0,g-(t.y0+t.h*r.dy),0)>0)){var l=Math.floor((v-t.x0)/r.dx),c=Math.floor(Math.abs(g-t.y0)/r.dy),n;if(r._hasZ?n=t.z[c][l]:r._hasSource&&(n=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,c,1,1).data),!!n){var x=t.hi||r.hoverinfo,h;if(x){var T=x.split("+");T.indexOf("all")!==-1&&(T=["color"]),T.indexOf("color")!==-1&&(h=!0)}var f=a.colormodel[r.colormodel],s=f.colormodel||r.colormodel,d=s.length,S=r._scaler(n),M=f.suffix,C=[];(r.hovertemplate||h)&&(C.push("["+[S[0]+M[0],S[1]+M[1],S[2]+M[2]].join(", ")),d===4&&C.push(", "+S[3]+M[3]),C.push("]"),C=C.join(""),A.extraText=s.toUpperCase()+": "+C);var y;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?y=r.hovertext[c][l]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(y=r.text[c][l]);var w=o.c2p(t.y0+(c+.5)*r.dy),b=t.x0+(l+.5)*r.dx,i=t.y0+(c+.5)*r.dy,E="["+n.slice(0,r.colormodel.length).join(", ")+"]";return[L.extendFlat(A,{index:[c,l],x0:u.c2p(t.x0+l*r.dx),x1:u.c2p(t.x0+(l+1)*r.dx),y0:w,y1:w,color:S,xVal:b,xLabelVal:b,yVal:i,yLabelVal:i,zLabelVal:E,text:y,hovertemplateLabels:{zLabel:E,colorLabel:C,"color[0]Label":S[0]+M[0],"color[1]Label":S[1]+M[1],"color[2]Label":S[2]+M[2],"color[3]Label":S[3]+M[3]}})]}}}},94507:function(W,U,e){W.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(W,U,e){var p=e(39898),L=e(71828),a=L.strTranslate,P=e(77922),A=e(51877),v=L.isIOS()||L.isSafari()||L.isIE();W.exports=function(t,r,u,o){var l=r.xaxis,c=r.yaxis,n=!(v||t._context._exportedPlot);L.makeTraceGroups(o,u,"im").each(function(x){var h=p.select(this),T=x[0],f=T.trace,s=(f.zsmooth==="fast"||f.zsmooth===!1&&n)&&!f._hasZ&&f._hasSource&&l.type==="linear"&&c.type==="linear";f._realImage=s;var d=T.z,S=T.x0,M=T.y0,C=T.w,y=T.h,w=f.dx,b=f.dy,i,E,m,F,_,B;for(B=0;i===void 0&&B<C;)i=l.c2p(S+B*w),B++;for(B=C;E===void 0&&B>0;)E=l.c2p(S+B*w),B--;for(B=0;F===void 0&&B<y;)F=c.c2p(M+B*b),B++;for(B=y;_===void 0&&B>0;)_=c.c2p(M+B*b),B--;if(E<i&&(m=E,E=i,i=m),_<F&&(m=F,F=_,_=m),!s){var I=.5;i=Math.max(-I*l._length,i),E=Math.min((1+I)*l._length,E),F=Math.max(-I*c._length,F),_=Math.min((1+I)*c._length,_)}var O=Math.round(E-i),z=Math.round(_-F),k=O<=0||z<=0;if(k){var N=h.selectAll("image").data([]);N.exit().remove();return}function K(ie){var J=document.createElement("canvas");J.width=O,J.height=z;var $=J.getContext("2d",{willReadFrequently:!0}),se=function(Ve){return L.constrain(Math.round(l.c2p(S+Ve*w)-i),0,O)},ee=function(Ve){return L.constrain(Math.round(c.c2p(M+Ve*b)-F),0,z)},ue=A.colormodel[f.colormodel],ge=ue.colormodel||f.colormodel,Te=ue.fmt,xe;for(B=0;B<T.w;B++){var Pe=se(B),Ie=se(B+1);if(!(Ie===Pe||isNaN(Ie)||isNaN(Pe)))for(var Ae=0;Ae<T.h;Ae++){var be=ee(Ae),_e=ee(Ae+1);_e===be||isNaN(_e)||isNaN(be)||!ie(B,Ae)||(xe=f._scaler(ie(B,Ae)),xe?$.fillStyle=ge+"("+Te(xe).join(",")+")":$.fillStyle="rgba(0,0,0,0)",$.fillRect(Pe,be,Ie-Pe,_e-be))}}return J}var q=h.selectAll("image").data([x]);q.enter().append("svg:image").attr({xmlns:P.svg,preserveAspectRatio:"none"}),q.exit().remove();var Q=f.zsmooth===!1?A.pixelatedStyle:"";if(s){var re=L.simpleMap(l.range,l.r2l),oe=L.simpleMap(c.range,c.r2l),Y=re[1]<re[0],G=oe[1]>oe[0];if(Y||G){var V=i+O/2,Z=F+z/2;Q+="transform:"+a(V+"px",Z+"px")+"scale("+(Y?-1:1)+","+(G?-1:1)+")"+a(-V+"px",-Z+"px")+";"}}q.attr("style",Q);var ae=new Promise(function(ie){if(f._hasZ)ie();else if(f._hasSource)if(f._canvas&&f._canvas.el.width===C&&f._canvas.el.height===y&&f._canvas.source===f.source)ie();else{var J=document.createElement("canvas");J.width=C,J.height=y;var $=J.getContext("2d",{willReadFrequently:!0});f._image=f._image||new Image;var se=f._image;se.onload=function(){$.drawImage(se,0,0),f._canvas={el:J,source:f.source},ie()},se.setAttribute("src",f.source)}}).then(function(){var ie,J;if(f._hasZ)J=K(function(ee,ue){return d[ue][ee]}),ie=J.toDataURL("image/png");else if(f._hasSource)if(s)ie=f.source;else{var $=f._canvas.el.getContext("2d",{willReadFrequently:!0}),se=$.getImageData(0,0,C,y).data;J=K(function(ee,ue){var ge=4*(ue*C+ee);return[se[ge],se[ge+1],se[ge+2],se[ge+3]]}),ie=J.toDataURL("image/png")}q.attr({"xlink:href":ie,height:z,width:O,x:i,y:F})});t._promises.push(ae)})}},12826:function(W,U,e){var p=e(39898);W.exports=function(a){p.select(a).selectAll(".im image").style("opacity",function(P){return P[0].trace.opacity})}},54846:function(W,U,e){var p=e(1426).extendFlat,L=e(1426).extendDeep,a=e(30962).overrideAll,P=e(41940),A=e(22399),v=e(27670).Y,g=e(13838),t=e(44467).templatedArray,r=e(22372),u=e(12663).descriptionOnlyNumbers,o=P({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:A.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},n=t("step",L({},l,{range:c}));W.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:u("value")},font:p({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:u("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:c,visible:p({},g.visible,{dflt:!0}),tickmode:g.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:p({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:n,threshold:{line:{color:p({},l.line.color,{}),width:p({},l.line.width,{dflt:1}),editType:"plot"},thickness:p({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(W,U,e){var p=e(74875);U.name="indicator",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},24667:function(W){function U(e,p){var L=[],a=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var P=p._lastValue,A=P;return p._hasDelta&&typeof p.delta.reference=="number"&&(A=p.delta.reference),L[0]={y:a,lastY:P,delta:a-A,relativeDelta:(a-A)/A},L}W.exports={calc:U}},84577:function(W){W.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(W,U,e){var p=e(71828),L=e(54846),a=e(27670).c,P=e(44467),A=e(85501),v=e(84577),g=e(26218),t=e(38701),r=e(96115),u=e(89426);function o(c,n,x,h){function T(B,I){return p.coerce(c,n,L,B,I)}a(n,h,T),T("mode"),n._hasNumber=n.mode.indexOf("number")!==-1,n._hasDelta=n.mode.indexOf("delta")!==-1,n._hasGauge=n.mode.indexOf("gauge")!==-1;var f=T("value");n._range=[0,typeof f=="number"?1.5*f:1];var s=new Array(2),d;n._hasNumber&&(T("number.valueformat"),T("number.font.color",h.font.color),T("number.font.family",h.font.family),T("number.font.size"),n.number.font.size===void 0&&(n.number.font.size=v.defaultNumberFontSize,s[0]=!0),T("number.prefix"),T("number.suffix"),d=n.number.font.size);var S;n._hasDelta&&(T("delta.font.color",h.font.color),T("delta.font.family",h.font.family),T("delta.font.size"),n.delta.font.size===void 0&&(n.delta.font.size=(n._hasNumber?.5:1)*(d||v.defaultNumberFontSize),s[1]=!0),T("delta.reference",n.value),T("delta.relative"),T("delta.valueformat",n.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),S=n.delta.font.size),n._scaleNumbers=(!n._hasNumber||s[0])&&(!n._hasDelta||s[1])||!1,T("title.font.color",h.font.color),T("title.font.family",h.font.family),T("title.font.size",.25*(d||S||v.defaultNumberFontSize)),T("title.text");var M,C,y,w;function b(B,I){return p.coerce(M,C,L.gauge,B,I)}function i(B,I){return p.coerce(y,w,L.gauge.axis,B,I)}if(n._hasGauge){M=c.gauge,M||(M={}),C=P.newContainer(n,"gauge"),b("shape");var E=n._isBullet=n.gauge.shape==="bullet";E||T("title.align","center");var m=n._isAngular=n.gauge.shape==="angular";m||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var F=v.valueThickness*(n.gauge.shape==="bullet"?.5:1);b("bar.thickness",F),A(M,C,{name:"steps",handleItemDefaults:l}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),y={},M&&(y=M.axis||{}),w=P.newContainer(C,"axis"),i("visible"),n._range=i("range",n._range);var _={outerTicks:!0};g(y,w,i,"linear"),u(y,w,i,"linear",_),r(y,w,i,"linear",_),t(y,w,i,_)}else T("title.align","center"),T("align","center"),n._isAngular=n._isBullet=!1;n._length=null}function l(c,n){function x(h,T){return p.coerce(c,n,L.gauge.steps,h,T)}x("color"),x("line.color"),x("line.width"),x("range"),x("thickness")}W.exports={supplyDefaults:o}},15154:function(W,U,e){W.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(W,U,e){var p=e(39898),L=e(29502).sX,a=e(29502).k4,P=e(71828),A=P.strScale,v=P.strTranslate,g=P.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),u=e(84577),o=e(63893),l=e(89298),c=e(71453),n=e(52830),x=e(13838),h=e(7901),T={left:"start",center:"middle",right:"end"},f={left:0,center:.5,right:1},s=/[yzafpnµmkMGTPEZY]/;function d(_){return _&&_.duration>0}W.exports=function(B,I,O,z){var k=B._fullLayout,N;d(O)&&z&&(N=z()),P.makeTraceGroups(k._indicatorlayer,I,"trace").each(function(K){var q=K[0],Q=q.trace,re=p.select(this),oe=Q._hasGauge,Y=Q._isAngular,G=Q._isBullet,V=Q.domain,Z={w:k._size.w*(V.x[1]-V.x[0]),h:k._size.h*(V.y[1]-V.y[0]),l:k._size.l+k._size.w*V.x[0],r:k._size.r+k._size.w*(1-V.x[1]),t:k._size.t+k._size.h*(1-V.y[1]),b:k._size.b+k._size.h*V.y[0]},ae=Z.l+Z.w/2,ie=Z.t+Z.h/2,J=Math.min(Z.w/2,Z.h),$=u.innerRadius*J,se,ee,ue,ge=Q.align||"center";if(ee=ie,!oe)se=Z.l+f[ge]*Z.w,ue=function(ze){return i(ze,Z.w,Z.h)};else if(Y&&(se=ae,ee=ie+J/2,ue=function(ze){return E(ze,.9*$)}),G){var Te=u.bulletPadding,xe=1-u.bulletNumberDomainSize+Te;se=Z.l+(xe+(1-xe)*f[ge])*Z.w,ue=function(ze){return i(ze,(u.bulletNumberDomainSize-Te)*Z.w,Z.h)}}C(B,re,K,{numbersX:se,numbersY:ee,numbersScaler:ue,transitionOpts:O,onComplete:N});var Pe,Ie;oe&&(Pe={range:Q.gauge.axis.range,color:Q.gauge.bgcolor,line:{color:Q.gauge.bordercolor,width:0},thickness:1},Ie={range:Q.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:Q.gauge.bordercolor,width:Q.gauge.borderwidth},thickness:1});var Ae=re.selectAll("g.angular").data(Y?K:[]);Ae.exit().remove();var be=re.selectAll("g.angularaxis").data(Y?K:[]);be.exit().remove(),Y&&M(B,re,K,{radius:J,innerRadius:$,gauge:Ae,layer:be,size:Z,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:O,onComplete:N});var _e=re.selectAll("g.bullet").data(G?K:[]);_e.exit().remove();var Ve=re.selectAll("g.bulletaxis").data(G?K:[]);Ve.exit().remove(),G&&S(B,re,K,{gauge:_e,layer:Ve,size:Z,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:O,onComplete:N});var We=re.selectAll("text.title").data(K);We.exit().remove(),We.enter().append("text").classed("title",!0),We.attr("text-anchor",function(){return G?T.right:T[Q.title.align]}).text(Q.title.text).call(r.font,Q.title.font).call(o.convertToTspans,B),We.attr("transform",function(){var ze=Z.l+Z.w*f[Q.title.align],Ze,ct=u.titlePadding,lt=r.bBox(We.node());if(oe){if(Y)if(Q.gauge.axis.visible){var at=r.bBox(be.node());Ze=at.top-ct-lt.bottom}else Ze=Z.t+Z.h/2-J/2-lt.bottom-ct;G&&(Ze=ee-(lt.top+lt.bottom)/2,ze=Z.l-u.bulletPadding*Z.w)}else Ze=Q._numbersTop-ct-lt.bottom;return v(ze,Ze)})})};function S(_,B,I,O){var z=I[0].trace,k=O.gauge,N=O.layer,K=O.gaugeBg,q=O.gaugeOutline,Q=O.size,re=z.domain,oe=O.transitionOpts,Y=O.onComplete,G,V,Z,ae,ie;k.enter().append("g").classed("bullet",!0),k.attr("transform",v(Q.l,Q.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var J=Q.h,$=z.gauge.bar.thickness*J,se=re.x[0],ee=re.x[0]+(re.x[1]-re.x[0])*(z._hasNumber||z._hasDelta?1-u.bulletNumberDomainSize:1);G=b(_,z.gauge.axis),G._id="xbulletaxis",G.domain=[se,ee],G.setScale(),V=l.calcTicks(G),Z=l.makeTransTickFn(G),ae=l.getTickSigns(G)[2],ie=Q.t+Q.h,G.visible&&(l.drawTicks(_,G,{vals:G.ticks==="inside"?l.clipEnds(G,V):V,layer:N,path:l.makeTickPath(G,ie,ae),transFn:Z}),l.drawLabels(_,G,{vals:V,layer:N,transFn:Z,labelFns:l.makeLabelFns(G,ie)}));function ue(be){be.attr("width",function(_e){return Math.max(0,G.c2p(_e.range[1])-G.c2p(_e.range[0]))}).attr("x",function(_e){return G.c2p(_e.range[0])}).attr("y",function(_e){return .5*(1-_e.thickness)*J}).attr("height",function(_e){return _e.thickness*J})}var ge=[K].concat(z.gauge.steps),Te=k.selectAll("g.bg-bullet").data(ge);Te.enter().append("g").classed("bg-bullet",!0).append("rect"),Te.select("rect").call(ue).call(y),Te.exit().remove();var xe=k.selectAll("g.value-bullet").data([z.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",$).attr("y",(J-$)/2).call(y),d(oe)?xe.select("rect").transition().duration(oe.duration).ease(oe.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()}).attr("width",Math.max(0,G.c2p(Math.min(z.gauge.axis.range[1],I[0].y)))):xe.select("rect").attr("width",typeof I[0].y=="number"?Math.max(0,G.c2p(Math.min(z.gauge.axis.range[1],I[0].y))):0),xe.exit().remove();var Pe=I.filter(function(){return z.gauge.threshold.value||z.gauge.threshold.value===0}),Ie=k.selectAll("g.threshold-bullet").data(Pe);Ie.enter().append("g").classed("threshold-bullet",!0).append("line"),Ie.select("line").attr("x1",G.c2p(z.gauge.threshold.value)).attr("x2",G.c2p(z.gauge.threshold.value)).attr("y1",(1-z.gauge.threshold.thickness)/2*J).attr("y2",(1-(1-z.gauge.threshold.thickness)/2)*J).call(h.stroke,z.gauge.threshold.line.color).style("stroke-width",z.gauge.threshold.line.width),Ie.exit().remove();var Ae=k.selectAll("g.gauge-outline").data([q]);Ae.enter().append("g").classed("gauge-outline",!0).append("rect"),Ae.select("rect").call(ue).call(y),Ae.exit().remove()}function M(_,B,I,O){var z=I[0].trace,k=O.size,N=O.radius,K=O.innerRadius,q=O.gaugeBg,Q=O.gaugeOutline,re=[k.l+k.w/2,k.t+k.h/2+N/2],oe=O.gauge,Y=O.layer,G=O.transitionOpts,V=O.onComplete,Z=Math.PI/2;function ae(tt){var dt=z.gauge.axis.range[0],wt=z.gauge.axis.range[1],Mt=(tt-dt)/(wt-dt)*Math.PI-Z;return Mt<-Z?-Z:Mt>Z?Z:Mt}function ie(tt){return p.svg.arc().innerRadius((K+N)/2-tt/2*(N-K)).outerRadius((K+N)/2+tt/2*(N-K)).startAngle(-Z)}function J(tt){tt.attr("d",function(dt){return ie(dt.thickness).startAngle(ae(dt.range[0])).endAngle(ae(dt.range[1]))()})}var $,se,ee,ue;oe.enter().append("g").classed("angular",!0),oe.attr("transform",v(re[0],re[1])),Y.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Y.selectAll("g.xangularaxistick,path,text").remove(),$=b(_,z.gauge.axis),$.type="linear",$.range=z.gauge.axis.range,$._id="xangularaxis",$.ticklabeloverflow="allow",$.setScale();var ge=function(tt){return($.range[0]-tt.x)/($.range[1]-$.range[0])*Math.PI+Math.PI},Te={},xe=l.makeLabelFns($,0),Pe=xe.labelStandoff;Te.xFn=function(tt){var dt=ge(tt);return Math.cos(dt)*Pe},Te.yFn=function(tt){var dt=ge(tt),wt=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(Pe+tt.fontSize*wt)+Math.abs(Math.cos(dt))*(tt.fontSize*t)},Te.anchorFn=function(tt){var dt=ge(tt),wt=Math.cos(dt);return Math.abs(wt)<.1?"middle":wt>0?"start":"end"},Te.heightFn=function(tt,dt,wt){var Mt=ge(tt);return-.5*(1+Math.sin(Mt))*wt};var Ie=function(tt){return v(re[0]+N*Math.cos(tt),re[1]-N*Math.sin(tt))};ee=function(tt){return Ie(ge(tt))};var Ae=function(tt){var dt=ge(tt);return Ie(dt)+"rotate("+-g(dt)+")"};if(se=l.calcTicks($),ue=l.getTickSigns($)[2],$.visible){ue=$.ticks==="inside"?-1:1;var be=($.linewidth||1)/2;l.drawTicks(_,$,{vals:se,layer:Y,path:"M"+ue*be+",0h"+ue*$.ticklen,transFn:Ae}),l.drawLabels(_,$,{vals:se,layer:Y,transFn:ee,labelFns:Te})}var _e=[q].concat(z.gauge.steps),Ve=oe.selectAll("g.bg-arc").data(_e);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call(J).call(y),Ve.exit().remove();var We=ie(z.gauge.bar.thickness),ze=oe.selectAll("g.value-arc").data([z.gauge.bar]);ze.enter().append("g").classed("value-arc",!0).append("path");var Ze=ze.select("path");d(G)?(Ze.transition().duration(G.duration).ease(G.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()}).attrTween("d",w(We,ae(I[0].lastY),ae(I[0].y))),z._lastValue=I[0].y):Ze.attr("d",typeof I[0].y=="number"?We.endAngle(ae(I[0].y)):"M0,0Z"),Ze.call(y),ze.exit().remove(),_e=[];var ct=z.gauge.threshold.value;(ct||ct===0)&&_e.push({range:[ct,ct],color:z.gauge.threshold.color,line:{color:z.gauge.threshold.line.color,width:z.gauge.threshold.line.width},thickness:z.gauge.threshold.thickness});var lt=oe.selectAll("g.threshold-arc").data(_e);lt.enter().append("g").classed("threshold-arc",!0).append("path"),lt.select("path").call(J).call(y),lt.exit().remove();var at=oe.selectAll("g.gauge-outline").data([Q]);at.enter().append("g").classed("gauge-outline",!0).append("path"),at.select("path").call(J).call(y),at.exit().remove()}function C(_,B,I,O){var z=I[0].trace,k=O.numbersX,N=O.numbersY,K=z.align||"center",q=T[K],Q=O.transitionOpts,re=O.onComplete,oe=P.ensureSingle(B,"g","numbers"),Y,G,V,Z=[];z._hasNumber&&Z.push("number"),z._hasDelta&&(Z.push("delta"),z.delta.position==="left"&&Z.reverse());var ae=oe.selectAll("text").data(Z);ae.enter().append("text"),ae.attr("text-anchor",function(){return q}).attr("class",function(Ie){return Ie}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ae.exit().remove();function ie(Ie,Ae,be,_e){if(Ie.match("s")&&be>=0!=_e>=0&&!Ae(be).slice(-1).match(s)&&!Ae(_e).slice(-1).match(s)){var Ve=Ie.slice().replace("s","f").replace(/\d+/,function(ze){return parseInt(ze)-1}),We=b(_,{tickformat:Ve});return function(ze){return Math.abs(ze)<1?l.tickText(We,ze).text:Ae(ze)}}else return Ae}function J(){var Ie=b(_,{tickformat:z.number.valueformat},z._range);Ie.setScale(),l.prepTicks(Ie);var Ae=function(ze){return l.tickText(Ie,ze).text},be=z.number.suffix,_e=z.number.prefix,Ve=oe.select("text.number");function We(){var ze=typeof I[0].y=="number"?_e+Ae(I[0].y)+be:"-";Ve.text(ze).call(r.font,z.number.font).call(o.convertToTspans,_)}return d(Q)?Ve.transition().duration(Q.duration).ease(Q.easing).each("end",function(){We(),re&&re()}).each("interrupt",function(){We(),re&&re()}).attrTween("text",function(){var ze=p.select(this),Ze=a(I[0].lastY,I[0].y);z._lastValue=I[0].y;var ct=ie(z.number.valueformat,Ae,I[0].lastY,I[0].y);return function(lt){ze.text(_e+ct(Ze(lt))+be)}}):We(),Y=m(_e+Ae(I[0].y)+be,z.number.font,q,_),Ve}function $(){var Ie=b(_,{tickformat:z.delta.valueformat},z._range);Ie.setScale(),l.prepTicks(Ie);var Ae=function(lt){return l.tickText(Ie,lt).text},be=z.delta.suffix,_e=z.delta.prefix,Ve=function(lt){var at=z.delta.relative?lt.relativeDelta:lt.delta;return at},We=function(lt,at){return lt===0||typeof lt!="number"||isNaN(lt)?"-":(lt>0?z.delta.increasing.symbol:z.delta.decreasing.symbol)+_e+at(lt)+be},ze=function(lt){return lt.delta>=0?z.delta.increasing.color:z.delta.decreasing.color};z._deltaLastValue===void 0&&(z._deltaLastValue=Ve(I[0]));var Ze=oe.select("text.delta");Ze.call(r.font,z.delta.font).call(h.fill,ze({delta:z._deltaLastValue}));function ct(){Ze.text(We(Ve(I[0]),Ae)).call(h.fill,ze(I[0])).call(o.convertToTspans,_)}return d(Q)?Ze.transition().duration(Q.duration).ease(Q.easing).tween("text",function(){var lt=p.select(this),at=Ve(I[0]),tt=z._deltaLastValue,dt=ie(z.delta.valueformat,Ae,tt,at),wt=a(tt,at);return z._deltaLastValue=at,function(Mt){lt.text(We(wt(Mt),dt)),lt.call(h.fill,ze({delta:wt(Mt)}))}}).each("end",function(){ct(),re&&re()}).each("interrupt",function(){ct(),re&&re()}):ct(),G=m(We(Ve(I[0]),Ae),z.delta.font,q,_),Ze}var se=z.mode+z.align,ee;if(z._hasDelta&&(ee=$(),se+=z.delta.position+z.delta.font.size+z.delta.font.family+z.delta.valueformat,se+=z.delta.increasing.symbol+z.delta.decreasing.symbol,V=G),z._hasNumber&&(J(),se+=z.number.font.size+z.number.font.family+z.number.valueformat+z.number.suffix+z.number.prefix,V=Y),z._hasDelta&&z._hasNumber){var ue=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],ge=[(G.left+G.right)/2,(G.top+G.bottom)/2],Te,xe,Pe=.75*z.delta.font.size;z.delta.position==="left"&&(Te=F(z,"deltaPos",0,-1*(Y.width*f[z.align]+G.width*(1-f[z.align])+Pe),se,Math.min),xe=ue[1]-ge[1],V={width:Y.width+G.width+Pe,height:Math.max(Y.height,G.height),left:G.left+Te,right:Y.right,top:Math.min(Y.top,G.top+xe),bottom:Math.max(Y.bottom,G.bottom+xe)}),z.delta.position==="right"&&(Te=F(z,"deltaPos",0,Y.width*(1-f[z.align])+G.width*f[z.align]+Pe,se,Math.max),xe=ue[1]-ge[1],V={width:Y.width+G.width+Pe,height:Math.max(Y.height,G.height),left:Y.left,right:G.right+Te,top:Math.min(Y.top,G.top+xe),bottom:Math.max(Y.bottom,G.bottom+xe)}),z.delta.position==="bottom"&&(Te=null,xe=G.height,V={width:Math.max(Y.width,G.width),height:Y.height+G.height,left:Math.min(Y.left,G.left),right:Math.max(Y.right,G.right),top:Y.bottom-Y.height,bottom:Y.bottom+G.height}),z.delta.position==="top"&&(Te=null,xe=Y.top,V={width:Math.max(Y.width,G.width),height:Y.height+G.height,left:Math.min(Y.left,G.left),right:Math.max(Y.right,G.right),top:Y.bottom-Y.height-G.height,bottom:Y.bottom}),ee.attr({dx:Te,dy:xe})}(z._hasNumber||z._hasDelta)&&oe.attr("transform",function(){var Ie=O.numbersScaler(V);se+=Ie[2];var Ae=F(z,"numbersScale",1,Ie[0],se,Math.min),be;z._scaleNumbers||(Ae=1),z._isAngular?be=N-Ae*V.bottom:be=N-Ae*(V.top+V.bottom)/2,z._numbersTop=Ae*V.top+be;var _e=V[K];K==="center"&&(_e=(V.left+V.right)/2);var Ve=k-Ae*_e;return Ve=F(z,"numbersTranslate",0,Ve,se,Math.max),v(Ve,be)+A(Ae)})}function y(_){_.each(function(B){h.stroke(p.select(this),B.line.color)}).each(function(B){h.fill(p.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function w(_,B,I){return function(){var O=L(B,I);return function(z){return _.endAngle(O(z))()}}}function b(_,B,I){var O=_._fullLayout,z=P.extendFlat({type:"linear",ticks:"outside",range:I,showline:!0},B),k={type:"linear",_id:"x"+B._id},N={letter:"x",font:O.font,noHover:!0,noTickson:!0};function K(q,Q){return P.coerce(z,k,x,q,Q)}return c(z,k,K,N,O),n(z,k,K,N),k}function i(_,B,I){var O=Math.min(B/_.width,I/_.height);return[O,_,B+"x"+I]}function E(_,B){var I=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),O=B/I;return[O,_,B]}function m(_,B,I,O){var z=document.createElementNS("http://www.w3.org/2000/svg","text"),k=p.select(z);return k.text(_).attr("x",0).attr("y",0).attr("text-anchor",I).attr("data-unformatted",_).call(o.convertToTspans,O).call(r.font,B),r.bBox(k.node())}function F(_,B,I,O,z,k){var N="_cache"+B;_[N]&&_[N].key===z||(_[N]={key:z,value:I});var K=P.aggNums(k,null,[_[N].value,O],2);return _[N].value=K,K}},16249:function(W,U,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(2418),A=e(9012),v=e(1426).extendFlat,g=e(30962).overrideAll;function t(o){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(o){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var u=W.exports=g(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},A.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:v({},A.hoverinfo)}),"calc","nested");u.flatshading.dflt=!0,u.lighting.facenormalsepsilon.dflt=0,u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},56959:function(W,U,e){var p=e(78803),L=e(88489).processGrid,a=e(88489).filter;W.exports=function(A,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var g=L(v);v._gridFill=g.fill,v._Xs=g.Xs,v._Ys=g.Ys,v._Zs=g.Zs,v._len=g.len;for(var t=1/0,r=-1/0,u=0;u<v._len;u++){var o=v._value[u];t=Math.min(t,o),r=Math.max(r,o)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,p(A,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(W,U,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,a=e(78614),P=e(21081).extractOpts,A=e(90060),v=function(l,c){for(var n=c.length-1;n>0;n--){var x=Math.min(c[n],c[n-1]),h=Math.max(c[n],c[n-1]);if(h>x&&x<l&&l<=h)return{id:n,distRatio:(h-l)/(h-x)}}return{id:0,distRatio:0}};function g(l,c,n){this.scene=l,this.uid=n,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var t=g.prototype;t.handlePick=function(l){if(l.object===this.mesh){var c=l.data.index,n=this.data._meshX[c],x=this.data._meshY[c],h=this.data._meshZ[c],T=this.data._Ys.length,f=this.data._Zs.length,s=v(n,this.data._Xs).id,d=v(x,this.data._Ys).id,S=v(h,this.data._Zs).id,M=l.index=S+f*d+f*T*s;l.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var C=this.data.hovertext||this.data.text;return Array.isArray(C)&&C[M]!==void 0?l.textLabel=C[M]:C&&(l.textLabel=C),!0}},t.update=function(l){var c=this.scene,n=c.fullSceneLayout;this.data=u(l);function x(d,S,M,C){return S.map(function(y){return d.d2l(y,0,C)*M})}var h=A(x(n.xaxis,l._meshX,c.dataScale[0],l.xcalendar),x(n.yaxis,l._meshY,c.dataScale[1],l.ycalendar),x(n.zaxis,l._meshZ,c.dataScale[2],l.zcalendar)),T=A(l._meshI,l._meshJ,l._meshK),f={positions:h,cells:T,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:a(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},s=P(l);f.vertexIntensity=l._meshIntensity,f.vertexIntensityBounds=[s.min,s.max],f.colormap=L(l),this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function u(l){l._meshI=[],l._meshJ=[],l._meshK=[];var c=l.surface.show,n=l.spaceframe.show,x=l.surface.fill,h=l.spaceframe.fill,T=!1,f=!1,s=0,d,S,M=l._Xs,C=l._Ys,y=l._Zs,w=M.length,b=C.length,i=y.length,E=r.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(qe,it,Je){switch(E){case 5:return Je+i*it+i*b*qe;case 4:return Je+i*qe+i*w*it;case 3:return it+b*Je+b*i*qe;case 2:return it+b*qe+b*w*Je;case 1:return qe+w*Je+w*i*it;default:return qe+w*it+w*b*Je}},F=l._minValues,_=l._maxValues,B=l._vMin,I=l._vMax,O,z,k,N;function K(qe,it,Je){for(var Re=N.length,Me=S;Me<Re;Me++)if(qe===O[Me]&&it===z[Me]&&Je===k[Me])return Me;return-1}function q(){S=d}function Q(){O=[],z=[],k=[],N=[],d=0,q()}function re(qe,it,Je,Re){return O.push(qe),z.push(it),k.push(Je),N.push(Re),d++,d-1}function oe(qe,it,Je){return l._meshI.push(qe),l._meshJ.push(it),l._meshK.push(Je),s++,s-1}function Y(qe,it,Je){for(var Re=[],Me=0;Me<qe.length;Me++)Re[Me]=(qe[Me]+it[Me]+Je[Me])/3;return Re}function G(qe,it,Je){for(var Re=[],Me=0;Me<qe.length;Me++)Re[Me]=qe[Me]*(1-Je)+Je*it[Me];return Re}var V;function Z(qe){V=qe}function ae(qe,it){var Je=qe[0],Re=qe[1],Me=qe[2],fe=Y(Je,Re,Me),ye=Math.sqrt(1-V),Le=G(fe,Je,ye),Oe=G(fe,Re,ye),ht=G(fe,Me,ye),vt=it[0],Lt=it[1],Ot=it[2];return{xyzv:[[Je,Re,Oe],[Oe,Le,Je],[Re,Me,ht],[ht,Oe,Re],[Me,Je,Le],[Le,ht,Me]],abc:[[vt,Lt,-1],[-1,-1,vt],[Lt,Ot,-1],[-1,-1,Lt],[Ot,vt,-1],[-1,-1,Ot]]}}function ie(qe,it){return qe==="all"||qe===null?!0:qe.indexOf(it)>-1}function J(qe,it){return qe===null?it:qe}function $(qe,it,Je){q();var Re=[it],Me=[Je];if(V>=1)Re=[it],Me=[Je];else if(V>0){var fe=ae(it,Je);Re=fe.xyzv,Me=fe.abc}for(var ye=0;ye<Re.length;ye++){it=Re[ye],Je=Me[ye];for(var Le=[],Oe=0;Oe<3;Oe++){var ht=it[Oe][0],vt=it[Oe][1],Lt=it[Oe][2],Ot=it[Oe][3],Jt=Je[Oe]>-1?Je[Oe]:K(ht,vt,Lt);Jt>-1?Le[Oe]=Jt:Le[Oe]=re(ht,vt,Lt,J(qe,Ot))}oe(Le[0],Le[1],Le[2])}}function se(qe,it,Je){var Re=function(Me,fe,ye){$(qe,[it[Me],it[fe],it[ye]],[Je[Me],Je[fe],Je[ye]])};Re(0,1,2),Re(2,3,0)}function ee(qe,it,Je){var Re=function(Me,fe,ye){$(qe,[it[Me],it[fe],it[ye]],[Je[Me],Je[fe],Je[ye]])};Re(0,1,2),Re(3,0,1),Re(2,3,0),Re(1,2,3)}function ue(qe,it,Je,Re){var Me=qe[3];Me<Je&&(Me=Je),Me>Re&&(Me=Re);for(var fe=(qe[3]-Me)/(qe[3]-it[3]+1e-9),ye=[],Le=0;Le<4;Le++)ye[Le]=(1-fe)*qe[Le]+fe*it[Le];return ye}function ge(qe,it,Je){return qe>=it&&qe<=Je}function Te(qe){var it=.001*(I-B);return qe>=B-it&&qe<=I+it}function xe(qe){for(var it=[],Je=0;Je<4;Je++){var Re=qe[Je];it.push([l._x[Re],l._y[Re],l._z[Re],l._value[Re]])}return it}var Pe=3;function Ie(qe,it,Je,Re,Me,fe){fe||(fe=1),Je=[-1,-1,-1];var ye=!1,Le=[ge(it[0][3],Re,Me),ge(it[1][3],Re,Me),ge(it[2][3],Re,Me)];if(!Le[0]&&!Le[1]&&!Le[2])return!1;var Oe=function(vt,Lt,Ot){return Te(Lt[0][3])&&Te(Lt[1][3])&&Te(Lt[2][3])?($(vt,Lt,Ot),!0):fe<Pe?Ie(vt,Lt,Ot,B,I,++fe):!1};if(Le[0]&&Le[1]&&Le[2])return Oe(qe,it,Je)||ye;var ht=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(vt){if(Le[vt[0]]&&Le[vt[1]]&&!Le[vt[2]]){var Lt=it[vt[0]],Ot=it[vt[1]],Jt=it[vt[2]],qt=ue(Jt,Lt,Re,Me),Vt=ue(Jt,Ot,Re,Me);ye=Oe(qe,[Vt,qt,Lt],[-1,-1,Je[vt[0]]])||ye,ye=Oe(qe,[Lt,Ot,Vt],[Je[vt[0]],Je[vt[1]],-1])||ye,ht=!0}}),ht||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(vt){if(Le[vt[0]]&&!Le[vt[1]]&&!Le[vt[2]]){var Lt=it[vt[0]],Ot=it[vt[1]],Jt=it[vt[2]],qt=ue(Ot,Lt,Re,Me),Vt=ue(Jt,Lt,Re,Me);ye=Oe(qe,[Vt,qt,Lt],[-1,-1,Je[vt[0]]])||ye,ht=!0}}),ye}function Ae(qe,it,Je,Re){var Me=!1,fe=xe(it),ye=[ge(fe[0][3],Je,Re),ge(fe[1][3],Je,Re),ge(fe[2][3],Je,Re),ge(fe[3][3],Je,Re)];if(!ye[0]&&!ye[1]&&!ye[2]&&!ye[3])return Me;if(ye[0]&&ye[1]&&ye[2]&&ye[3])return f&&(Me=ee(qe,fe,it)||Me),Me;var Le=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Oe){if(ye[Oe[0]]&&ye[Oe[1]]&&ye[Oe[2]]&&!ye[Oe[3]]){var ht=fe[Oe[0]],vt=fe[Oe[1]],Lt=fe[Oe[2]],Ot=fe[Oe[3]];if(f)Me=$(qe,[ht,vt,Lt],[it[Oe[0]],it[Oe[1]],it[Oe[2]]])||Me;else{var Jt=ue(Ot,ht,Je,Re),qt=ue(Ot,vt,Je,Re),Vt=ue(Ot,Lt,Je,Re);Me=$(null,[Jt,qt,Vt],[-1,-1,-1])||Me}Le=!0}}),Le||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Oe){if(ye[Oe[0]]&&ye[Oe[1]]&&!ye[Oe[2]]&&!ye[Oe[3]]){var ht=fe[Oe[0]],vt=fe[Oe[1]],Lt=fe[Oe[2]],Ot=fe[Oe[3]],Jt=ue(Lt,ht,Je,Re),qt=ue(Lt,vt,Je,Re),Vt=ue(Ot,vt,Je,Re),vr=ue(Ot,ht,Je,Re);f?(Me=$(qe,[ht,vr,Jt],[it[Oe[0]],-1,-1])||Me,Me=$(qe,[vt,qt,Vt],[it[Oe[1]],-1,-1])||Me):Me=se(null,[Jt,qt,Vt,vr],[-1,-1,-1,-1])||Me,Le=!0}}),Le)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Oe){if(ye[Oe[0]]&&!ye[Oe[1]]&&!ye[Oe[2]]&&!ye[Oe[3]]){var ht=fe[Oe[0]],vt=fe[Oe[1]],Lt=fe[Oe[2]],Ot=fe[Oe[3]],Jt=ue(vt,ht,Je,Re),qt=ue(Lt,ht,Je,Re),Vt=ue(Ot,ht,Je,Re);f?(Me=$(qe,[ht,Jt,qt],[it[Oe[0]],-1,-1])||Me,Me=$(qe,[ht,qt,Vt],[it[Oe[0]],-1,-1])||Me,Me=$(qe,[ht,Vt,Jt],[it[Oe[0]],-1,-1])||Me):Me=$(null,[Jt,qt,Vt],[-1,-1,-1])||Me,Le=!0}}),Me}function be(qe,it,Je,Re,Me,fe,ye,Le,Oe,ht,vt){var Lt=!1;return T&&(ie(qe,"A")&&(Lt=Ae(null,[it,Je,Re,fe],ht,vt)||Lt),ie(qe,"B")&&(Lt=Ae(null,[Je,Re,Me,Oe],ht,vt)||Lt),ie(qe,"C")&&(Lt=Ae(null,[Je,fe,ye,Oe],ht,vt)||Lt),ie(qe,"D")&&(Lt=Ae(null,[Re,fe,Le,Oe],ht,vt)||Lt),ie(qe,"E")&&(Lt=Ae(null,[Je,Re,fe,Oe],ht,vt)||Lt)),f&&(Lt=Ae(qe,[Je,Re,fe,Oe],ht,vt)||Lt),Lt}function _e(qe,it,Je,Re,Me,fe,ye,Le){return[Le[0]===!0?!0:Ie(qe,xe([it,Je,Re]),[it,Je,Re],fe,ye),Le[1]===!0?!0:Ie(qe,xe([Re,Me,it]),[Re,Me,it],fe,ye)]}function Ve(qe,it,Je,Re,Me,fe,ye,Le,Oe){return Le?_e(qe,it,Je,Me,Re,fe,ye,Oe):_e(qe,Je,Me,Re,it,fe,ye,Oe)}function We(qe,it,Je,Re,Me,fe,ye){var Le=!1,Oe,ht,vt,Lt,Ot=function(){Le=Ie(qe,[Oe,ht,vt],[-1,-1,-1],Me,fe)||Le,Le=Ie(qe,[vt,Lt,Oe],[-1,-1,-1],Me,fe)||Le},Jt=ye[0],qt=ye[1],Vt=ye[2];return Jt&&(Oe=G(xe([m(it,Je-0,Re-0)])[0],xe([m(it-1,Je-0,Re-0)])[0],Jt),ht=G(xe([m(it,Je-0,Re-1)])[0],xe([m(it-1,Je-0,Re-1)])[0],Jt),vt=G(xe([m(it,Je-1,Re-1)])[0],xe([m(it-1,Je-1,Re-1)])[0],Jt),Lt=G(xe([m(it,Je-1,Re-0)])[0],xe([m(it-1,Je-1,Re-0)])[0],Jt),Ot()),qt&&(Oe=G(xe([m(it-0,Je,Re-0)])[0],xe([m(it-0,Je-1,Re-0)])[0],qt),ht=G(xe([m(it-0,Je,Re-1)])[0],xe([m(it-0,Je-1,Re-1)])[0],qt),vt=G(xe([m(it-1,Je,Re-1)])[0],xe([m(it-1,Je-1,Re-1)])[0],qt),Lt=G(xe([m(it-1,Je,Re-0)])[0],xe([m(it-1,Je-1,Re-0)])[0],qt),Ot()),Vt&&(Oe=G(xe([m(it-0,Je-0,Re)])[0],xe([m(it-0,Je-0,Re-1)])[0],Vt),ht=G(xe([m(it-0,Je-1,Re)])[0],xe([m(it-0,Je-1,Re-1)])[0],Vt),vt=G(xe([m(it-1,Je-1,Re)])[0],xe([m(it-1,Je-1,Re-1)])[0],Vt),Lt=G(xe([m(it-1,Je-0,Re)])[0],xe([m(it-1,Je-0,Re-1)])[0],Vt),Ot()),Le}function ze(qe,it,Je,Re,Me,fe,ye,Le,Oe,ht,vt,Lt){var Ot=qe;return Lt?(T&&qe==="even"&&(Ot=null),be(Ot,it,Je,Re,Me,fe,ye,Le,Oe,ht,vt)):(T&&qe==="odd"&&(Ot=null),be(Ot,Oe,Le,ye,fe,Me,Re,Je,it,ht,vt))}function Ze(qe,it,Je,Re,Me){for(var fe=[],ye=0,Le=0;Le<it.length;Le++)for(var Oe=it[Le],ht=1;ht<i;ht++)for(var vt=1;vt<b;vt++)fe.push(Ve(qe,m(Oe,vt-1,ht-1),m(Oe,vt-1,ht),m(Oe,vt,ht-1),m(Oe,vt,ht),Je,Re,(Oe+vt+ht)%2,Me&&Me[ye]?Me[ye]:[])),ye++;return fe}function ct(qe,it,Je,Re,Me){for(var fe=[],ye=0,Le=0;Le<it.length;Le++)for(var Oe=it[Le],ht=1;ht<w;ht++)for(var vt=1;vt<i;vt++)fe.push(Ve(qe,m(ht-1,Oe,vt-1),m(ht,Oe,vt-1),m(ht-1,Oe,vt),m(ht,Oe,vt),Je,Re,(ht+Oe+vt)%2,Me&&Me[ye]?Me[ye]:[])),ye++;return fe}function lt(qe,it,Je,Re,Me){for(var fe=[],ye=0,Le=0;Le<it.length;Le++)for(var Oe=it[Le],ht=1;ht<b;ht++)for(var vt=1;vt<w;vt++)fe.push(Ve(qe,m(vt-1,ht-1,Oe),m(vt-1,ht,Oe),m(vt,ht-1,Oe),m(vt,ht,Oe),Je,Re,(vt+ht+Oe)%2,Me&&Me[ye]?Me[ye]:[])),ye++;return fe}function at(qe,it,Je){for(var Re=1;Re<i;Re++)for(var Me=1;Me<b;Me++)for(var fe=1;fe<w;fe++)ze(qe,m(fe-1,Me-1,Re-1),m(fe-1,Me-1,Re),m(fe-1,Me,Re-1),m(fe-1,Me,Re),m(fe,Me-1,Re-1),m(fe,Me-1,Re),m(fe,Me,Re-1),m(fe,Me,Re),it,Je,(fe+Me+Re)%2)}function tt(qe,it,Je){f=!0,at(qe,it,Je),f=!1}function dt(qe,it,Je){T=!0,at(qe,it,Je),T=!1}function wt(qe,it,Je,Re,Me,fe){for(var ye=[],Le=0,Oe=0;Oe<it.length;Oe++)for(var ht=it[Oe],vt=1;vt<i;vt++)for(var Lt=1;Lt<b;Lt++)ye.push(We(qe,ht,Lt,vt,Je,Re,Me[Oe],fe&&fe[Le]?fe[Le]:[])),Le++;return ye}function Mt(qe,it,Je,Re,Me,fe){for(var ye=[],Le=0,Oe=0;Oe<it.length;Oe++)for(var ht=it[Oe],vt=1;vt<w;vt++)for(var Lt=1;Lt<i;Lt++)ye.push(We(qe,vt,ht,Lt,Je,Re,Me[Oe],fe&&fe[Le]?fe[Le]:[])),Le++;return ye}function It(qe,it,Je,Re,Me,fe){for(var ye=[],Le=0,Oe=0;Oe<it.length;Oe++)for(var ht=it[Oe],vt=1;vt<b;vt++)for(var Lt=1;Lt<w;Lt++)ye.push(We(qe,Lt,vt,ht,Je,Re,Me[Oe],fe&&fe[Le]?fe[Le]:[])),Le++;return ye}function $e(qe,it){for(var Je=[],Re=qe;Re<it;Re++)Je.push(Re);return Je}function ke(){for(var qe=0;qe<w;qe++)for(var it=0;it<b;it++)for(var Je=0;Je<i;Je++){var Re=m(qe,it,Je);re(l._x[Re],l._y[Re],l._z[Re],l._value[Re])}}function Fe(){Q(),ke();var qe=null;if(n&&h&&(Z(h),tt(qe,B,I)),c&&x){Z(x);for(var it=l.surface.pattern,Je=l.surface.count,Re=0;Re<Je;Re++){var Me=Je===1?.5:Re/(Je-1),fe=(1-Me)*B+Me*I,ye=Math.abs(fe-F),Le=Math.abs(fe-_),Oe=ye>Le?[F,fe]:[fe,_];dt(it,Oe[0],Oe[1])}}var ht=[[Math.min(B,_),Math.max(B,_)],[Math.min(F,I),Math.max(F,I)]];["x","y","z"].forEach(function(vt){for(var Lt=[],Ot=0;Ot<ht.length;Ot++){var Jt=0,qt=ht[Ot][0],Vt=ht[Ot][1],vr=l.slices[vt];if(vr.show&&vr.fill){Z(vr.fill);var gr=[],Gr=[],At=[];if(vr.locations.length)for(var or=0;or<vr.locations.length;or++){var rr=v(vr.locations[or],vt==="x"?M:vt==="y"?C:y);rr.distRatio===0?gr.push(rr.id):rr.id>0&&(Gr.push(rr.id),vt==="x"?At.push([rr.distRatio,0,0]):vt==="y"?At.push([0,rr.distRatio,0]):At.push([0,0,rr.distRatio]))}else vt==="x"?gr=$e(1,w-1):vt==="y"?gr=$e(1,b-1):gr=$e(1,i-1);Gr.length>0&&(vt==="x"?Lt[Jt]=wt(qe,Gr,qt,Vt,At,Lt[Jt]):vt==="y"?Lt[Jt]=Mt(qe,Gr,qt,Vt,At,Lt[Jt]):Lt[Jt]=It(qe,Gr,qt,Vt,At,Lt[Jt]),Jt++),gr.length>0&&(vt==="x"?Lt[Jt]=Ze(qe,gr,qt,Vt,Lt[Jt]):vt==="y"?Lt[Jt]=ct(qe,gr,qt,Vt,Lt[Jt]):Lt[Jt]=lt(qe,gr,qt,Vt,Lt[Jt]),Jt++)}var Lr=l.caps[vt];Lr.show&&Lr.fill&&(Z(Lr.fill),vt==="x"?Lt[Jt]=Ze(qe,[0,w-1],qt,Vt,Lt[Jt]):vt==="y"?Lt[Jt]=ct(qe,[0,b-1],qt,Vt,Lt[Jt]):Lt[Jt]=lt(qe,[0,i-1],qt,Vt,Lt[Jt]),Jt++)}}),s===0&&Q(),l._meshX=O,l._meshY=z,l._meshZ=k,l._meshIntensity=N,l._Xs=M,l._Ys=C,l._Zs=y}return Fe(),l}function o(l,c){var n=l.glplot.gl,x=p({gl:n}),h=new g(l,x,c.uid);return x._trace=h,h.update(c),l.glplot.add(x),h}W.exports={findNearestOnAxis:v,generateIsoMeshes:u,createIsosurfaceTrace:o}},82738:function(W,U,e){var p=e(71828),L=e(73972),a=e(16249),P=e(1586);function A(g,t,r,u){function o(l,c){return p.coerce(g,t,a,l,c)}v(g,t,r,u,o)}function v(g,t,r,u,o){var l=o("isomin"),c=o("isomax");c!=null&&l!==void 0&&l!==null&&l>c&&(t.isomin=null,t.isomax=null);var n=o("x"),x=o("y"),h=o("z"),T=o("value");if(!n||!n.length||!x||!x.length||!h||!h.length||!T||!T.length){t.visible=!1;return}var f=L.getComponentMethod("calendars","handleTraceDefaults");f(g,t,["x","y","z"],u),o("valuehoverformat"),["x","y","z"].forEach(function(M){o(M+"hoverformat");var C="caps."+M,y=o(C+".show");y&&o(C+".fill");var w="slices."+M,b=o(w+".show");b&&(o(w+".fill"),o(w+".locations"))});var s=o("spaceframe.show");s&&o("spaceframe.fill");var d=o("surface.show");d&&(o("surface.count"),o("surface.fill"),o("surface.pattern"));var S=o("contour.show");S&&(o("contour.color"),o("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(M){o(M)}),P(g,t,u,o,{prefix:"",cLetter:"c"}),t._length=null}W.exports={supplyDefaults:A,supplyIsoDefaults:v}},64943:function(W,U,e){W.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(W,U,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(54532),A=e(9012),v=e(1426).extendFlat;W.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},P.contours.x.show,{}),color:P.contours.x.color,width:P.contours.x.width,editType:"calc"},lightposition:{x:v({},P.lightposition.x,{dflt:1e5}),y:v({},P.lightposition.y,{dflt:1e5}),z:v({},P.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},P.lighting),hoverinfo:v({},A.hoverinfo,{editType:"calc"}),showlegend:v({},A.showlegend,{dflt:!1})})},82932:function(W,U,e){var p=e(78803);W.exports=function(a,P){P.intensity&&p(a,P,{vals:P.intensity,containerStr:"",cLetter:"c"})}},91134:function(W,U,e){var p=e(9330).gl_mesh3d,L=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,P=e(9330).convex_hull,A=e(81697).parseColorScale,v=e(78614),g=e(21081).extractOpts,t=e(90060);function r(T,f,s){this.scene=T,this.uid=s,this.mesh=f,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var u=r.prototype;u.handlePick=function(T){if(T.object===this.mesh){var f=T.index=T.data.index;T.data._cellCenter?T.traceCoordinate=T.data.dataCoordinate:T.traceCoordinate=[this.data.x[f],this.data.y[f],this.data.z[f]];var s=this.data.hovertext||this.data.text;return Array.isArray(s)&&s[f]!==void 0?T.textLabel=s[f]:s&&(T.textLabel=s),!0}};function o(T){for(var f=[],s=T.length,d=0;d<s;d++)f[d]=v(T[d]);return f}function l(T,f,s,d){for(var S=[],M=f.length,C=0;C<M;C++)S[C]=T.d2l(f[C],0,d)*s;return S}function c(T){for(var f=[],s=T.length,d=0;d<s;d++)f[d]=Math.round(T[d]);return f}function n(T,f){for(var s=["x","y","z"].indexOf(T),d=[],S=f.length,M=0;M<S;M++)d[M]=[f[M][(s+1)%3],f[M][(s+2)%3]];return L(d)}function x(T,f){for(var s=T.length,d=0;d<s;d++)if(T[d]<=-.5||T[d]>=f-.5)return!1;return!0}u.update=function(T){var f=this.scene,s=f.fullSceneLayout;this.data=T;var d=T.x.length,S=t(l(s.xaxis,T.x,f.dataScale[0],T.xcalendar),l(s.yaxis,T.y,f.dataScale[1],T.ycalendar),l(s.zaxis,T.z,f.dataScale[2],T.zcalendar)),M;if(T.i&&T.j&&T.k){if(T.i.length!==T.j.length||T.j.length!==T.k.length||!x(T.i,d)||!x(T.j,d)||!x(T.k,d))return;M=t(c(T.i),c(T.j),c(T.k))}else T.alphahull===0?M=P(S):T.alphahull>0?M=a(T.alphahull,S):M=n(T.delaunayaxis,S);var C={positions:S,cells:M,lightPosition:[T.lightposition.x,T.lightposition.y,T.lightposition.z],ambient:T.lighting.ambient,diffuse:T.lighting.diffuse,specular:T.lighting.specular,roughness:T.lighting.roughness,fresnel:T.lighting.fresnel,vertexNormalsEpsilon:T.lighting.vertexnormalsepsilon,faceNormalsEpsilon:T.lighting.facenormalsepsilon,opacity:T.opacity,contourEnable:T.contour.show,contourColor:v(T.contour.color).slice(0,3),contourWidth:T.contour.width,useFacetNormals:T.flatshading};if(T.intensity){var y=g(T);this.color="#fff";var w=T.intensitymode;C[w+"Intensity"]=T.intensity,C[w+"IntensityBounds"]=[y.min,y.max],C.colormap=A(T)}else T.vertexcolor?(this.color=T.vertexcolor[0],C.vertexColors=o(T.vertexcolor)):T.facecolor?(this.color=T.facecolor[0],C.cellColors=o(T.facecolor)):(this.color=T.color,C.meshColor=v(T.color));this.mesh.update(C)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(T,f){var s=T.glplot.gl,d=p({gl:s}),S=new r(T,d,f.uid);return d._trace=S,S.update(f),T.glplot.add(d),S}W.exports=h},58669:function(W,U,e){var p=e(73972),L=e(71828),a=e(1586),P=e(2418);W.exports=function(v,g,t,r){function u(x,h){return L.coerce(v,g,P,x,h)}function o(x){var h=x.map(function(T){var f=u(T);return f&&L.isArrayOrTypedArray(f)?f:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var l=o(["x","y","z"]);if(!l){g.visible=!1;return}if(o(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var c=p.getComponentMethod("calendars","handleTraceDefaults");c(v,g,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(x){u(x)});var n=u("contour.show");n&&(u("contour.color"),u("contour.width")),"intensity"in v?(u("intensity"),u("intensitymode"),a(v,g,r,u,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in v?u("facecolor"):"vertexcolor"in v?u("vertexcolor"):u("color",t)),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),g._length=null}},21164:function(W,U,e){W.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(W,U,e){var p=e(71828).extendFlat,L=e(82196),a=e(12663).axisHoverFormat,P=e(79952).P,A=e(77914),v=e(22372),g=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=L.line;function u(o){return{line:{color:p({},r.color,{dflt:o}),width:r.width,dash:P,editType:"style"},editType:"style"}}W.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},r.width,{}),dash:p({},P,{}),editType:"style"},increasing:u(g),decreasing:u(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},A.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(W,U,e){var p=e(71828),L=p._,a=e(89298),P=e(42973),A=e(50606).BADNUM;function v(u,o){var l=a.getFromId(u,o.xaxis),c=a.getFromId(u,o.yaxis),n=r(u,l,o),x=o._minDiff;o._minDiff=null;var h=o._origX;o._origX=null;var T=o._xcalc;o._xcalc=null;var f=t(u,o,h,T,c,g);return o._extremes[l._id]=a.findExtremes(l,T,{vpad:x/2}),f.length?(p.extendFlat(f[0].t,{wHover:x/2,tickLen:n}),f):[{t:{empty:!0}}]}function g(u,o,l,c){return{o:u,h:o,l,c}}function t(u,o,l,c,n,x){for(var h=n.makeCalcdata(o,"open"),T=n.makeCalcdata(o,"high"),f=n.makeCalcdata(o,"low"),s=n.makeCalcdata(o,"close"),d=Array.isArray(o.text),S=Array.isArray(o.hovertext),M=!0,C=null,y=!!o.xperiodalignment,w=[],b=0;b<c.length;b++){var i=c[b],E=h[b],m=T[b],F=f[b],_=s[b];if(i!==A&&E!==A&&m!==A&&F!==A&&_!==A){_===E?C!==null&&_!==C&&(M=_>C):M=_>E,C=_;var B=x(E,m,F,_);B.pos=i,B.yc=(E+_)/2,B.i=b,B.dir=M?"increasing":"decreasing",B.x=B.pos,B.y=[F,m],y&&(B.orig_p=l[b]),d&&(B.tx=o.text[b]),S&&(B.htx=o.hovertext[b]),w.push(B)}else w.push({pos:i,empty:!0})}return o._extremes[n._id]=a.findExtremes(n,p.concat(f,T),{padded:!0}),w.length&&(w[0].t={labels:{open:L(u,"open:")+" ",high:L(u,"high:")+" ",low:L(u,"low:")+" ",close:L(u,"close:")+" "}}),w}function r(u,o,l){var c=l._minDiff;if(!c){var n=u._fullData,x=[];c=1/0;var h;for(h=0;h<n.length;h++){var T=n[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===o._id){x.push(T);var f=o.makeCalcdata(T,"x");T._origX=f;var s=P(l,o,"x",f).vals;T._xcalc=s;var d=p.distinctVals(s).minDiff;d&&isFinite(d)&&(c=Math.min(c,d))}}for(c===1/0&&(c=1),h=0;h<x.length;h++)x[h]._minDiff=c}return c*l.tickwidth}W.exports={calc:v,calcCommon:t}},16169:function(W,U,e){var p=e(71828),L=e(14555),a=e(73927),P=e(2522);W.exports=function(g,t,r,u){function o(c,n){return p.coerce(g,t,P,c,n)}var l=L(g,t,o,u);if(!l){t.visible=!1;return}a(g,t,u,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),o("line.dash"),A(g,t,o,"increasing"),A(g,t,o,"decreasing"),o("text"),o("hovertext"),o("tickwidth"),u._requestRangeslider[t.xaxis]=!0};function A(v,g,t,r){t(r+".line.color"),t(r+".line.width",g.line.width),t(r+".line.dash",g.line.dash)}},66449:function(W,U,e){var p=e(89298),L=e(71828),a=e(30211),P=e(7901),A=e(71828).fillText,v=e(22372),g={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(l,c,n,x){var h=l.cd,T=h[0].trace;return T.hoverlabel.split?u(l,c,n,x):o(l,c,n,x)}function r(l,c,n,x){var h=l.cd,T=l.xa,f=h[0].trace,s=h[0].t,d=f.type,S=d==="ohlc"?"l":"min",M=d==="ohlc"?"h":"max",C,y,w=s.bPos||0,b=function(K){return K.pos+w-c},i=s.bdPos||s.tickLen,E=s.wHover,m=Math.min(1,i/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=l.maxHoverDistance-m,y=l.maxSpikeDistance-m;function F(K){var q=b(K);return a.inbox(q-E,q+E,C)}function _(K){var q=K[S],Q=K[M];return q===Q||a.inbox(q-n,Q-n,C)}function B(K){return(F(K)+_(K))/2}var I=a.getDistanceFunction(x,F,_,B);if(a.getClosest(h,I,l),l.index===!1)return null;var O=h[l.index];if(O.empty)return null;var z=O.dir,k=f[z],N=k.line.color;return P.opacity(N)&&k.line.width?l.color=N:l.color=k.fillcolor,l.x0=T.c2p(O.pos+w-i,!0),l.x1=T.c2p(O.pos+w+i,!0),l.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,l.spikeDistance=B(O)*y/C,l.xSpike=T.c2p(O.pos,!0),l}function u(l,c,n,x){var h=l.cd,T=l.ya,f=h[0].trace,s=h[0].t,d=[],S=r(l,c,n,x);if(!S)return[];var M=S.index,C=h[M],y=C.hi||f.hoverinfo,w=y.split("+"),b=y==="all",i=b||w.indexOf("y")!==-1;if(!i)return[];for(var E=["high","open","close","low"],m={},F=0;F<E.length;F++){var _=E[F],B=f[_][S.index],I=T.c2p(B,!0),O;B in m?(O=m[B],O.yLabel+="<br>"+s.labels[_]+p.hoverLabelText(T,B,f.yhoverformat)):(O=L.extendFlat({},S),O.y0=O.y1=I,O.yLabelVal=B,O.yLabel=s.labels[_]+p.hoverLabelText(T,B,f.yhoverformat),O.name="",d.push(O),m[B]=O)}return d}function o(l,c,n,x){var h=l.cd,T=l.ya,f=h[0].trace,s=h[0].t,d=r(l,c,n,x);if(!d)return[];var S=d.index,M=h[S],C=d.index=M.i,y=M.dir;function w(B){return s.labels[B]+p.hoverLabelText(T,f[B][C],f.yhoverformat)}var b=M.hi||f.hoverinfo,i=b.split("+"),E=b==="all",m=E||i.indexOf("y")!==-1,F=E||i.indexOf("text")!==-1,_=m?[w("open"),w("high"),w("low"),w("close")+"  "+g[y]]:[];return F&&A(M,f,_),d.extraText=_.join("<br>"),d.y0=d.y1=T.c2p(M.yc,!0),[d]}W.exports={hoverPoints:t,hoverSplit:u,hoverOnPoints:o}},54186:function(W,U,e){W.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(W,U,e){var p=e(73972),L=e(71828);W.exports=function(P,A,v,g){var t=v("x"),r=v("open"),u=v("high"),o=v("low"),l=v("close");v("hoverlabel.split");var c=p.getComponentMethod("calendars","handleTraceDefaults");if(c(P,A,["x"],g),!!(r&&u&&o&&l)){var n=Math.min(r.length,u.length,o.length,l.length);return t&&(n=Math.min(n,L.minRowLength(t))),A._length=n,n}}},72314:function(W,U,e){var p=e(39898),L=e(71828);W.exports=function(P,A,v,g){var t=A.yaxis,r=A.xaxis,u=!!r.rangebreaks;L.makeTraceGroups(g,v,"trace ohlc").each(function(o){var l=p.select(this),c=o[0],n=c.t,x=c.trace;if(x.visible!==!0||n.empty){l.remove();return}var h=n.tickLen,T=l.selectAll("path").data(L.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(f){if(f.empty)return"M0,0Z";var s=r.c2p(f.pos-h,!0),d=r.c2p(f.pos+h,!0),S=u?(s+d)/2:r.c2p(f.pos,!0),M=t.c2p(f.o,!0),C=t.c2p(f.h,!0),y=t.c2p(f.l,!0),w=t.c2p(f.c,!0);return"M"+s+","+M+"H"+S+"M"+S+","+C+"V"+y+"M"+d+","+w+"H"+S})})}},67324:function(W){W.exports=function(e,p){var L=e.cd,a=e.xaxis,P=e.yaxis,A=[],v,g=L[0].t.bPos||0;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var t=L[v];p.contains([a.c2p(t.pos+g),P.c2p(t.yc)],null,t.i,e)?(A.push({pointNumber:t.i,x:a.c2d(t.pos),y:P.c2d(t.yc)}),t.selected=1):t.selected=0}return A}},53101:function(W,U,e){var p=e(39898),L=e(91424),a=e(7901);W.exports=function(A,v,g){var t=g||p.select(A).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var u=r[0].trace;p.select(this).selectAll("path").each(function(o){if(!o.empty){var l=u[o.dir].line;p.select(this).style("fill","none").call(a.stroke,l.color).call(L.dashLine,l.dash,l.width).style("opacity",u.selectedpoints&&!o.selected?.3:1)}})})}},99506:function(W,U,e){var p=e(1426).extendFlat,L=e(9012),a=e(41940),P=e(50693),A=e(5386).f,v=e(27670).Y,g=p({editType:"calc"},P("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});W.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:A({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(W,U,e){var p=e(27659).a0,L=e(45784),a="parcats";U.name=a,U.plot=function(P,A,v,g){var t=p(P.calcdata,a);if(t.length){var r=t[0];L(P,r,v,g)}},U.clean=function(P,A,v,g){var t=g._has&&g._has("parcats"),r=A._has&&A._has("parcats");t&&!r&&g._paperdiv.selectAll(".parcats").remove()}},28699:function(W,U,e){var p=e(28984).wrap,L=e(52075).hasColorscale,a=e(78803),P=e(75744),A=e(91424),v=e(71828),g=e(92770);W.exports=function(s,d){var S=v.filterVisible(d.dimensions);if(S.length===0)return[];var M=S.map(function(Y){var G;if(Y.categoryorder==="trace")G=null;else if(Y.categoryorder==="array")G=Y.categoryarray;else{G=P(Y.values);for(var V=!0,Z=0;Z<G.length;Z++)if(!g(G[Z])){V=!1;break}G.sort(V?v.sorterAsc:void 0),Y.categoryorder==="category descending"&&(G=G.reverse())}return n(Y.values,G)}),C,y,w;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],x(S),S.forEach(function(Y,G){h(Y,M[G])});var b=d.line,i;b?(L(d,"line")&&a(s,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),i=A.tryColorscale(b)):i=v.identity;function E(Y){var G,V;return v.isArrayOrTypedArray(b.color)?(G=b.color[Y%b.color.length],V=G):G=b.color,{color:i(G),rawColor:V}}var m=S[0].values.length,F={},_=M.map(function(Y){return Y.inds});w=0;var B,I;for(B=0;B<m;B++){var O=[];for(I=0;I<_.length;I++)O.push(_[I][B]);y=C[B%C.length],w+=y;var z=E(B),k=O+"-"+z.rawColor;F[k]===void 0&&(F[k]=l(O,z.color,z.rawColor)),c(F[k],B,y)}var N=S.map(function(Y,G){return r(G,Y._index,Y._displayindex,Y.label,w)});for(B=0;B<m;B++)for(y=C[B%C.length],I=0;I<N.length;I++){var K=N[I].containerInd,q=M[I].inds[B],Q=N[I].categories;if(Q[q]===void 0){var re=d.dimensions[K]._categoryarray[q],oe=d.dimensions[K]._ticktext[q];Q[q]=u(I,q,re,oe)}o(Q[q],B,y)}return p(t(N,F,w))};function t(f,s,d){var S=f.map(function(M){return M.categories.length}).reduce(function(M,C){return Math.max(M,C)});return{dimensions:f,paths:s,trace:void 0,maxCats:S,count:d}}function r(f,s,d,S,M){return{dimensionInd:f,containerInd:s,displayInd:d,dimensionLabel:S,count:M,categories:[],dragX:null}}function u(f,s,d,S){return{dimensionInd:f,categoryInd:s,categoryValue:d,displayInd:s,categoryLabel:S,valueInds:[],count:0,dragY:null}}function o(f,s,d){f.valueInds.push(s),f.count+=d}function l(f,s,d){return{categoryInds:f,color:s,rawColor:d,valueInds:[],count:0}}function c(f,s,d){f.valueInds.push(s),f.count+=d}function n(f,s){s==null?s=[]:s=s.map(function(i){return i});var d={},S={},M=[];s.forEach(function(i,E){d[i]=0,S[i]=E});for(var C=0;C<f.length;C++){var y=f[C],w;d[y]===void 0?(d[y]=1,w=s.push(y)-1,S[y]=w):(d[y]++,w=S[y]),M.push(w)}var b=s.map(function(i){return d[i]});return{uniqueValues:s,uniqueCounts:b,inds:M}}function x(f){var s=f.map(function(S){return S.displayindex}),d;if(T(s))for(d=0;d<f.length;d++)f[d]._displayindex=f[d].displayindex;else for(d=0;d<f.length;d++)f[d]._displayindex=d}function h(f,s){f._categoryarray=s.uniqueValues,f.ticktext===null||f.ticktext===void 0?f._ticktext=[]:f._ticktext=f.ticktext.slice();for(var d=f._ticktext.length;d<s.uniqueValues.length;d++)f._ticktext.push(s.uniqueValues[d])}function T(f){for(var s=new Array(f.length),d=0;d<f.length;d++){if(f[d]<0||f[d]>=f.length||s[f[d]]!==void 0)return!1;s[f[d]]=!0}return!0}},14647:function(W,U,e){var p=e(71828),L=e(52075).hasColorscale,a=e(1586),P=e(27670).c,A=e(85501),v=e(99506),g=e(94397);function t(u,o,l,c,n){n("line.shape"),n("line.hovertemplate");var x=n("line.color",c.colorway[0]);if(L(u,"line")&&p.isArrayOrTypedArray(x)){if(x.length)return n("line.colorscale"),a(u,o,c,n,{prefix:"line.",cLetter:"c"}),x.length;o.line.color=l}return 1/0}function r(u,o){function l(s,d){return p.coerce(u,o,v.dimensions,s,d)}var c=l("values"),n=l("visible");if(c&&c.length||(n=o.visible=!1),n){l("label"),l("displayindex",o._index);var x=u.categoryarray,h=Array.isArray(x)&&x.length>0,T;h&&(T="array");var f=l("categoryorder",T);f==="array"?(l("categoryarray"),l("ticktext")):(delete u.categoryarray,delete u.ticktext),!h&&f==="array"&&(o.categoryorder="trace")}}W.exports=function(o,l,c,n){function x(d,S){return p.coerce(o,l,v,d,S)}var h=A(o,l,{name:"dimensions",handleItemDefaults:r}),T=t(o,l,c,n,x);P(l,n,x),(!Array.isArray(h)||!h.length)&&(l.visible=!1),g(l,h,"values",T),x("hoveron"),x("hovertemplate"),x("arrangement"),x("bundlecolors"),x("sortpaths"),x("counts");var f={family:n.font.family,size:Math.round(n.font.size),color:n.font.color};p.coerceFont(x,"labelfont",f);var s={family:n.font.family,size:Math.round(n.font.size/1.2),color:n.font.color};p.coerceFont(x,"tickfont",s)}},94873:function(W,U,e){W.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(W,U,e){var p=e(39898),L=e(29502).k4,a=e(72391),P=e(30211),A=e(71828),v=A.strTranslate,g=e(91424),t=e(84267),r=e(63893);function u(Z,ae,ie,J){var $=ae._context.staticPlot,se=Z.map(re.bind(0,ae,ie)),ee=J.selectAll("g.parcatslayer").data([null]);ee.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var ue=ee.selectAll("g.trace.parcats").data(se,o),ge=ue.enter().append("g").attr("class","trace parcats");ue.attr("transform",function(Ze){return v(Ze.x,Ze.y)}),ge.append("g").attr("class","paths");var Te=ue.select("g.paths"),xe=Te.selectAll("path.path").data(function(Ze){return Ze.paths},o);xe.attr("fill",function(Ze){return Ze.model.color});var Pe=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ze){return Ze.model.color}).attr("fill-opacity",0);s(Pe),xe.attr("d",function(Ze){return Ze.svgD}),Pe.empty()||xe.sort(c),xe.exit().remove(),xe.on("mouseover",n).on("mouseout",x).on("click",f),ge.append("g").attr("class","dimensions");var Ie=ue.select("g.dimensions"),Ae=Ie.selectAll("g.dimension").data(function(Ze){return Ze.dimensions},o);Ae.enter().append("g").attr("class","dimension"),Ae.attr("transform",function(Ze){return v(Ze.x,0)}),Ae.exit().remove();var be=Ae.selectAll("g.category").data(function(Ze){return Ze.categories},o),_e=be.enter().append("g").attr("class","category");be.attr("transform",function(Ze){return v(0,Ze.y)}),_e.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(Ze){return Ze.width}).attr("height",function(Ze){return Ze.height}),M(_e);var Ve=be.selectAll("rect.bandrect").data(function(Ze){return Ze.bands},o);Ve.each(function(){A.raiseToTop(this)}),Ve.attr("fill",function(Ze){return Ze.color});var We=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ze){return Ze.color}).attr("fill-opacity",0);Ve.attr("fill",function(Ze){return Ze.color}).attr("width",function(Ze){return Ze.width}).attr("height",function(Ze){return Ze.height}).attr("y",function(Ze){return Ze.y}).attr("cursor",function(Ze){return Ze.parcatsViewModel.arrangement==="fixed"?"default":Ze.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(We),Ve.exit().remove(),_e.append("text").attr("class","catlabel").attr("pointer-events","none");var ze=ae._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(Ze){return l(Ze)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(ze)).style("fill","rgb(0, 0, 0)").attr("x",function(Ze){return l(Ze)?Ze.width+5:-5}).attr("y",function(Ze){return Ze.height/2}).text(function(Ze){return Ze.model.categoryLabel}).each(function(Ze){g.font(p.select(this),Ze.parcatsViewModel.categorylabelfont),r.convertToTspans(p.select(this),ae)}),_e.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ze){return Ze.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ze){return Ze.width/2}).attr("y",-5).text(function(Ze,ct){return ct===0?Ze.parcatsViewModel.model.dimensions[Ze.model.dimensionInd].dimensionLabel:null}).each(function(Ze){g.font(p.select(this),Ze.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",I).on("mouseout",O),be.exit().remove(),Ae.call(p.behavior.drag().origin(function(Ze){return{x:Ze.x,y:0}}).on("dragstart",z).on("drag",k).on("dragend",N)),ue.each(function(Ze){Ze.traceSelection=p.select(this),Ze.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),Ze.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ue.exit().remove()}W.exports=function(Z,ae,ie,J){u(ie,Z,J,ae)};function o(Z){return Z.key}function l(Z){var ae=Z.parcatsViewModel.dimensions.length,ie=Z.parcatsViewModel.dimensions[ae-1].model.dimensionInd;return Z.model.dimensionInd===ie}function c(Z,ae){return Z.model.rawColor>ae.model.rawColor?1:Z.model.rawColor<ae.model.rawColor?-1:0}function n(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){A.raiseToTop(this),d(p.select(this));var ae=h(Z),ie=T(Z);if(Z.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ae,event:p.event,constraints:ie}),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J=p.mouse(this)[0],$=Z.parcatsViewModel.graphDiv,se=Z.parcatsViewModel.trace,ee=$._fullLayout,ue=ee._paperdiv.node().getBoundingClientRect(),ge=Z.parcatsViewModel.graphDiv.getBoundingClientRect(),Te,xe,Pe;for(Pe=0;Pe<Z.leftXs.length-1;Pe++)if(Z.leftXs[Pe]+Z.dimWidths[Pe]-2<=J&&J<=Z.leftXs[Pe+1]+2){var Ie=Z.parcatsViewModel.dimensions[Pe],Ae=Z.parcatsViewModel.dimensions[Pe+1];Te=(Ie.x+Ie.width+Ae.x)/2,xe=(Z.topYs[Pe]+Z.topYs[Pe+1]+Z.height)/2;break}var be=Z.parcatsViewModel.x+Te,_e=Z.parcatsViewModel.y+xe,Ve=t.mostReadable(Z.model.color,["black","white"]),We=Z.model.count,ze=We/Z.parcatsViewModel.model.count,Ze={countLabel:We,probabilityLabel:ze.toFixed(3)},ct=[];Z.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ct.push(["Count:",Ze.countLabel].join(" ")),Z.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ct.push(["P:",Ze.probabilityLabel].join(" "));var lt=ct.join("<br>"),at=p.mouse($)[0];P.loneHover({trace:se,x:be-ue.left+ge.left,y:_e-ue.top+ge.top,text:lt,color:Z.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:at<be?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ze,eventData:[{data:se._input,fullData:se,count:We,probability:ze}]},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:$})}}}function x(Z){if(!Z.parcatsViewModel.dragDimension&&(s(p.select(this)),P.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Z.parcatsViewModel.pathSelection.sort(c),Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ae=h(Z),ie=T(Z);Z.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ae,event:p.event,constraints:ie})}}function h(Z){for(var ae=[],ie=K(Z.parcatsViewModel),J=0;J<Z.model.valueInds.length;J++){var $=Z.model.valueInds[J];ae.push({curveNumber:ie,pointNumber:$})}return ae}function T(Z){for(var ae={},ie=Z.parcatsViewModel.model.dimensions,J=0;J<ie.length;J++){var $=ie[J],se=$.categories[Z.model.categoryInds[J]];ae[$.containerInd]=se.categoryValue}return Z.model.rawColor!==void 0&&(ae.color=Z.model.rawColor),ae}function f(Z){if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ae=h(Z),ie=T(Z);Z.parcatsViewModel.graphDiv.emit("plotly_click",{points:ae,event:p.event,constraints:ie})}}function s(Z){Z.attr("fill",function(ae){return ae.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Z){Z.attr("fill-opacity",.8).attr("stroke",function(ae){return t.mostReadable(ae.model.color,["black","white"])}).attr("stroke-width",.3)}function S(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function M(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(Z){Z.attr("stroke","black").attr("stroke-width",1.5)}function y(Z){Z.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function w(Z){var ae=Z.parcatsViewModel.pathSelection,ie=Z.categoryViewModel.model.dimensionInd,J=Z.categoryViewModel.model.categoryInd;return ae.filter(function($){return $.model.categoryInds[ie]===J&&$.model.color===Z.color})}function b(Z){var ae=p.select(Z.parentNode).selectAll("rect.bandrect");ae.each(function(ie){var J=w(ie);d(J),J.each(function(){A.raiseToTop(this)})}),S(p.select(Z.parentNode))}function i(Z){var ae=p.select(Z).datum(),ie=w(ae);d(ie),ie.each(function(){A.raiseToTop(this)}),p.select(Z.parentNode).selectAll("rect.bandrect").filter(function(J){return J.color===ae.color}).each(function(){A.raiseToTop(this),C(p.select(this))})}function E(Z,ae,ie){var J=p.select(Z).datum(),$=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ee=p.select(Z.parentNode).selectAll("rect.bandrect"),ue=[];ee.each(function(Te){var xe=w(Te);xe.each(function(Pe){Array.prototype.push.apply(ue,h(Pe))})});var ge={};ge[$.dimensionInd]=$.categoryValue,se.emit(ae,{points:ue,event:ie,constraints:ge})}function m(Z,ae,ie){var J=p.select(Z).datum(),$=J.categoryViewModel.model,se=J.parcatsViewModel.graphDiv,ee=w(J),ue=[];ee.each(function(Te){Array.prototype.push.apply(ue,h(Te))});var ge={};ge[$.dimensionInd]=$.categoryValue,J.rawColor!==void 0&&(ge.color=J.rawColor),se.emit(ae,{points:ue,event:ie,constraints:ge})}function F(Z,ae,ie){Z._fullLayout._calcInverseTransform(Z);var J=Z._fullLayout._invScaleX,$=Z._fullLayout._invScaleY,se=p.select(ie.parentNode).select("rect.catrect"),ee=se.node().getBoundingClientRect(),ue=se.datum(),ge=ue.parcatsViewModel,Te=ge.model.dimensions[ue.model.dimensionInd],xe=ge.trace,Pe=ee.top+ee.height/2,Ie,Ae;ge.dimensions.length>1&&Te.displayInd===ge.dimensions.length-1?(Ie=ee.left,Ae="left"):(Ie=ee.left+ee.width,Ae="right");var be=ue.model.count,_e=ue.model.categoryLabel,Ve=be/ue.parcatsViewModel.model.count,We={countLabel:be,categoryLabel:_e,probabilityLabel:Ve.toFixed(3)},ze=[];ue.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ze.push(["Count:",We.countLabel].join(" ")),ue.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ze.push(["P("+We.categoryLabel+"):",We.probabilityLabel].join(" "));var Ze=ze.join("<br>");return{trace:xe,x:J*(Ie-ae.left),y:$*(Pe-ae.top),text:Ze,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ae,hovertemplate:xe.hovertemplate,hovertemplateLabels:We,eventData:[{data:xe._input,fullData:xe,count:be,category:_e,probability:Ve}]}}function _(Z,ae,ie){var J=[];return p.select(ie.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var $=this;J.push(F(Z,ae,$))}),J}function B(Z,ae,ie){Z._fullLayout._calcInverseTransform(Z);var J=Z._fullLayout._invScaleX,$=Z._fullLayout._invScaleY,se=ie.getBoundingClientRect(),ee=p.select(ie).datum(),ue=ee.categoryViewModel,ge=ue.parcatsViewModel,Te=ge.model.dimensions[ue.model.dimensionInd],xe=ge.trace,Pe=se.y+se.height/2,Ie,Ae;ge.dimensions.length>1&&Te.displayInd===ge.dimensions.length-1?(Ie=se.left,Ae="left"):(Ie=se.left+se.width,Ae="right");var be=ue.model.categoryLabel,_e=ee.parcatsViewModel.model.count,Ve=0;ee.categoryViewModel.bands.forEach(function(Mt){Mt.color===ee.color&&(Ve+=Mt.count)});var We=ue.model.count,ze=0;ge.pathSelection.each(function(Mt){Mt.model.color===ee.color&&(ze+=Mt.model.count)});var Ze=Ve/_e,ct=Ve/ze,lt=Ve/We,at={countLabel:_e,categoryLabel:be,probabilityLabel:Ze.toFixed(3)},tt=[];ue.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",at.countLabel].join(" ")),ue.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(tt.push("P(color ∩ "+be+"): "+at.probabilityLabel),tt.push("P("+be+" | color): "+ct.toFixed(3)),tt.push("P(color | "+be+"): "+lt.toFixed(3)));var dt=tt.join("<br>"),wt=t.mostReadable(ee.color,["black","white"]);return{trace:xe,x:J*(Ie-ae.left),y:$*(Pe-ae.top),text:dt,color:ee.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:wt,fontSize:10,idealAlign:Ae,hovertemplate:xe.hovertemplate,hovertemplateLabels:at,eventData:[{data:xe._input,fullData:xe,category:be,count:_e,probability:Ze,categorycount:We,colorcount:ze,bandcolorcount:Ve}]}}function I(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ae=p.mouse(this)[1];if(ae<-1)return;var ie=Z.parcatsViewModel.graphDiv,J=ie._fullLayout,$=J._paperdiv.node().getBoundingClientRect(),se=Z.parcatsViewModel.hoveron,ee=this;if(se==="color"?(i(ee),m(ee,"plotly_hover",p.event)):(b(ee),E(ee,"plotly_hover",p.event)),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ue;se==="category"?ue=F(ie,$,ee):se==="color"?ue=B(ie,$,ee):se==="dimension"&&(ue=_(ie,$,ee)),ue&&P.loneHover(ue,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:ie})}}}function O(Z){var ae=Z.parcatsViewModel;if(!ae.dragDimension&&(s(ae.pathSelection),M(ae.dimensionSelection.selectAll("g.category")),y(ae.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),P.loneUnhover(ae.graphDiv._fullLayout._hoverlayer.node()),ae.pathSelection.sort(c),ae.hoverinfoItems.indexOf("skip")===-1)){var ie=Z.parcatsViewModel.hoveron,J=this;ie==="color"?m(J,"plotly_unhover",p.event):E(J,"plotly_unhover",p.event)}}function z(Z){Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragDimensionDisplayInd=Z.model.displayInd,Z.initialDragDimensionDisplayInds=Z.parcatsViewModel.model.dimensions.map(function(ae){return ae.displayInd}),Z.dragHasMoved=!1,Z.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(ae){var ie=p.mouse(this)[0],J=p.mouse(this)[1];-2<=ie&&ie<=ae.width+2&&-2<=J&&J<=ae.height+2&&(Z.dragCategoryDisplayInd=ae.model.displayInd,Z.initialDragCategoryDisplayInds=Z.model.categories.map(function($){return $.displayInd}),ae.model.dragY=ae.y,A.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<J&&J<=$.y+$.height&&(Z.potentialClickBand=this)}))}),Z.parcatsViewModel.dragDimension=Z,P.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function k(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragHasMoved=!0,Z.dragDimensionDisplayInd!==null)){var ae=Z.dragDimensionDisplayInd,ie=ae-1,J=ae+1,$=Z.parcatsViewModel.dimensions[ae];if(Z.dragCategoryDisplayInd!==null){var se=$.categories[Z.dragCategoryDisplayInd];se.model.dragY+=p.event.dy;var ee=se.model.dragY,ue=se.model.displayInd,ge=$.categories,Te=ge[ue-1],xe=ge[ue+1];Te!==void 0&&ee<Te.y+Te.height/2&&(se.model.displayInd=Te.model.displayInd,Te.model.displayInd=ue),xe!==void 0&&ee+se.height>xe.y+xe.height/2&&(se.model.displayInd=xe.model.displayInd,xe.model.displayInd=ue),Z.dragCategoryDisplayInd=se.model.displayInd}if(Z.dragCategoryDisplayInd===null||Z.parcatsViewModel.arrangement==="freeform"){$.model.dragX=p.event.x;var Pe=Z.parcatsViewModel.dimensions[ie],Ie=Z.parcatsViewModel.dimensions[J];Pe!==void 0&&$.model.dragX<Pe.x+Pe.width&&($.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=ae),Ie!==void 0&&$.model.dragX+$.width>Ie.x&&($.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=Z.dragDimensionDisplayInd),Z.dragDimensionDisplayInd=$.model.displayInd}G(Z.parcatsViewModel),Y(Z.parcatsViewModel),Q(Z.parcatsViewModel),q(Z.parcatsViewModel)}}function N(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&Z.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var ae={},ie=K(Z.parcatsViewModel),J=Z.parcatsViewModel.model.dimensions.map(function(Ie){return Ie.displayInd}),$=Z.initialDragDimensionDisplayInds.some(function(Ie,Ae){return Ie!==J[Ae]});$&&J.forEach(function(Ie,Ae){var be=Z.parcatsViewModel.model.dimensions[Ae].containerInd;ae["dimensions["+be+"].displayindex"]=Ie});var se=!1;if(Z.dragCategoryDisplayInd!==null){var ee=Z.model.categories.map(function(Ie){return Ie.displayInd});if(se=Z.initialDragCategoryDisplayInds.some(function(Ie,Ae){return Ie!==ee[Ae]}),se){var ue=Z.model.categories.slice().sort(function(Ie,Ae){return Ie.displayInd-Ae.displayInd}),ge=ue.map(function(Ie){return Ie.categoryValue}),Te=ue.map(function(Ie){return Ie.categoryLabel});ae["dimensions["+Z.model.containerInd+"].categoryarray"]=[ge],ae["dimensions["+Z.model.containerInd+"].ticktext"]=[Te],ae["dimensions["+Z.model.containerInd+"].categoryorder"]="array"}}if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Z.dragHasMoved&&Z.potentialClickBand&&(Z.parcatsViewModel.hoveron==="color"?m(Z.potentialClickBand,"plotly_click",p.event.sourceEvent):E(Z.potentialClickBand,"plotly_click",p.event.sourceEvent)),Z.model.dragX=null,Z.dragCategoryDisplayInd!==null){var xe=Z.parcatsViewModel.dimensions[Z.dragDimensionDisplayInd].categories[Z.dragCategoryDisplayInd];xe.model.dragY=null,Z.dragCategoryDisplayInd=null}Z.dragDimensionDisplayInd=null,Z.parcatsViewModel.dragDimension=null,Z.dragHasMoved=null,Z.potentialClickBand=null,G(Z.parcatsViewModel),Y(Z.parcatsViewModel);var Pe=p.transition().duration(300).ease("cubic-in-out");Pe.each(function(){Q(Z.parcatsViewModel,!0),q(Z.parcatsViewModel,!0)}).each("end",function(){($||se)&&a.restyle(Z.parcatsViewModel.graphDiv,ae,[ie])})}}function K(Z){for(var ae,ie=Z.graphDiv._fullData,J=0;J<ie.length;J++)if(Z.key===ie[J].uid){ae=J;break}return ae}function q(Z,ae){ae===void 0&&(ae=!1);function ie(J){return ae?J.transition():J}Z.pathSelection.data(function(J){return J.paths},o),ie(Z.pathSelection).attr("d",function(J){return J.svgD})}function Q(Z,ae){ae===void 0&&(ae=!1);function ie(ge){return ae?ge.transition():ge}Z.dimensionSelection.data(function(ge){return ge.dimensions},o);var J=Z.dimensionSelection.selectAll("g.category").data(function(ge){return ge.categories},o);ie(Z.dimensionSelection).attr("transform",function(ge){return v(ge.x,0)}),ie(J).attr("transform",function(ge){return v(0,ge.y)});var $=J.select(".dimlabel");$.text(function(ge,Te){return Te===0?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null});var se=J.select(".catlabel");se.attr("text-anchor",function(ge){return l(ge)?"start":"end"}).attr("x",function(ge){return l(ge)?ge.width+5:-5}).each(function(ge){var Te,xe;l(ge)?(Te=ge.width+5,xe="start"):(Te=-5,xe="end"),p.select(this).selectAll("tspan").attr("x",Te).attr("text-anchor",xe)});var ee=J.selectAll("rect.bandrect").data(function(ge){return ge.bands},o),ue=ee.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);ee.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}),y(ue),ee.each(function(){A.raiseToTop(this)}),ee.exit().remove()}function re(Z,ae,ie){var J=ie[0],$=ae.margin||{l:80,r:80,t:100,b:80},se=J.trace,ee=se.domain,ue=ae.width,ge=ae.height,Te=Math.floor(ue*(ee.x[1]-ee.x[0])),xe=Math.floor(ge*(ee.y[1]-ee.y[0])),Pe=ee.x[0]*ue+$.l,Ie=ae.height-ee.y[1]*ae.height+$.t,Ae=se.line.shape,be;se.hoverinfo==="all"?be=["count","probability"]:be=(se.hoverinfo||"").split("+");var _e={trace:se,key:se.uid,model:J,x:Pe,y:Ie,width:Te,height:xe,hoveron:se.hoveron,hoverinfoItems:be,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Ae,dragDimension:null,margin:$,paths:[],dimensions:[],graphDiv:Z,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(G(_e),Y(_e)),_e}function oe(Z,ae,ie,J,$){var se=[],ee=[],ue,ge;for(ge=0;ge<ie.length-1;ge++)ue=L(ie[ge]+Z[ge],Z[ge+1]),se.push(ue($)),ee.push(ue(1-$));var Te="M "+Z[0]+","+ae[0];for(Te+="l"+ie[0]+",0 ",ge=1;ge<ie.length;ge++)Te+="C"+se[ge-1]+","+ae[ge-1]+" "+ee[ge-1]+","+ae[ge]+" "+Z[ge]+","+ae[ge],Te+="l"+ie[ge]+",0 ";for(Te+="l0,"+J+" ",Te+="l -"+ie[ie.length-1]+",0 ",ge=ie.length-2;ge>=0;ge--)Te+="C"+ee[ge]+","+(ae[ge+1]+J)+" "+se[ge]+","+(ae[ge]+J)+" "+(Z[ge]+ie[ge])+","+(ae[ge]+J),Te+="l-"+ie[ge]+",0 ";return Te+="Z",Te}function Y(Z){var ae=Z.dimensions,ie=Z.model,J=ae.map(function(ke){return ke.categories.map(function(Fe){return Fe.y})}),$=Z.model.dimensions.map(function(ke){return ke.categories.map(function(Fe){return Fe.displayInd})}),se=Z.model.dimensions.map(function(ke){return ke.displayInd}),ee=Z.dimensions.map(function(ke){return ke.model.dimensionInd}),ue=ae.map(function(ke){return ke.x}),ge=ae.map(function(ke){return ke.width}),Te=[];for(var xe in ie.paths)ie.paths.hasOwnProperty(xe)&&Te.push(ie.paths[xe]);function Pe(ke){var Fe=ke.categoryInds.map(function(it,Je){return $[Je][it]}),qe=ee.map(function(it){return Fe[it]});return qe}Te.sort(function(ke,Fe){var qe=Pe(ke),it=Pe(Fe);return Z.sortpaths==="backward"&&(qe.reverse(),it.reverse()),qe.push(ke.valueInds[0]),it.push(Fe.valueInds[0]),Z.bundlecolors&&(qe.unshift(ke.rawColor),it.unshift(Fe.rawColor)),qe<it?-1:qe>it?1:0});for(var Ie=new Array(Te.length),Ae=ae[0].model.count,be=ae[0].categories.map(function(ke){return ke.height}).reduce(function(ke,Fe){return ke+Fe}),_e=0;_e<Te.length;_e++){var Ve=Te[_e],We;Ae>0?We=be*(Ve.count/Ae):We=0;for(var ze=new Array(J.length),Ze=0;Ze<Ve.categoryInds.length;Ze++){var ct=Ve.categoryInds[Ze],lt=$[Ze][ct],at=se[Ze];ze[at]=J[at][lt],J[at][lt]+=We;var tt=Z.dimensions[at].categories[lt],dt=tt.bands.length,wt=tt.bands[dt-1];if(wt===void 0||Ve.rawColor!==wt.rawColor){var Mt=wt===void 0?0:wt.y+wt.height;tt.bands.push({key:Mt,color:Ve.color,rawColor:Ve.rawColor,height:We,width:tt.width,count:Ve.count,y:Mt,categoryViewModel:tt,parcatsViewModel:Z})}else{var It=tt.bands[dt-1];It.height+=We,It.count+=Ve.count}}var $e;Z.pathShape==="hspline"?$e=oe(ue,ze,ge,We,.5):$e=oe(ue,ze,ge,We,0),Ie[_e]={key:Ve.valueInds[0],model:Ve,height:We,leftXs:ue,topYs:ze,dimWidths:ge,svgD:$e,parcatsViewModel:Z}}Z.paths=Ie}function G(Z){var ae=Z.model.dimensions.map(function(ee){return{displayInd:ee.displayInd,dimensionInd:ee.dimensionInd}});ae.sort(function(ee,ue){return ee.displayInd-ue.displayInd});var ie=[];for(var J in ae){var $=ae[J].dimensionInd,se=Z.model.dimensions[$];ie.push(V(Z,se))}Z.dimensions=ie}function V(Z,ae){var ie=40,J=16,$=Z.model.dimensions.length,se=ae.displayInd,ee,ue,ge;$>1?ee=(Z.width-2*ie-J)/($-1):ee=0,ue=ie,ge=ue+ee*se;var Te=[],xe=Z.model.maxCats,Pe=ae.categories.length,Ie=8,Ae=ae.count,be=Z.height-Ie*(xe-1),_e,Ve,We,ze,Ze,ct=(xe-Pe)*Ie/2,lt=ae.categories.map(function(at){return{displayInd:at.displayInd,categoryInd:at.categoryInd}});for(lt.sort(function(at,tt){return at.displayInd-tt.displayInd}),Ze=0;Ze<Pe;Ze++)ze=lt[Ze].categoryInd,Ve=ae.categories[ze],Ae>0?_e=Ve.count/Ae*be:_e=0,We={key:Ve.valueInds[0],model:Ve,width:J,height:_e,y:Ve.dragY!==null?Ve.dragY:ct,bands:[],parcatsViewModel:Z},ct=ct+_e+Ie,Te.push(We);return{key:ae.dimensionInd,x:ae.dragX!==null?ae.dragX:ge,y:0,width:J,model:ae,categories:Te,parcatsViewModel:Z,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(W,U,e){var p=e(45460);W.exports=function(a,P,A,v){var g=a._fullLayout,t=g._paper,r=g._size;p(a,t,P,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},A,v)}},73362:function(W,U,e){var p=e(50693),L=e(13838),a=e(41940),P=e(27670).Y,A=e(1426).extendFlat,v=e(44467).templatedArray;W.exports={domain:P({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:A({},L.tickvals,{editType:"plot"}),ticktext:A({},L.ticktext,{editType:"plot"}),tickformat:A({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:A({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(W,U,e){var p=e(25706),L=e(39898),a=e(28984).keyFun,P=e(28984).repeat,A=e(71828).sorterAsc,v=e(71828).strTranslate,g=p.bar.snapRatio;function t(N,K){return N*(1-g)+K*g}var r=p.bar.snapClose;function u(N,K){return N*(1-r)+K*r}function o(N,K,q,Q){if(l(q,Q))return q;var re=N?-1:1,oe=0,Y=K.length-1;if(re<0){var G=oe;oe=Y,Y=G}for(var V=K[oe],Z=V,ae=oe;re*ae<re*Y;ae+=re){var ie=ae+re,J=K[ie];if(re*q<re*u(V,J))return t(V,Z);if(re*q<re*J||ie===Y)return t(J,V);Z=V,V=J}}function l(N,K){for(var q=0;q<K.length;q++)if(N>=K[q][0]&&N<=K[q][1])return!0;return!1}function c(N){N.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function n(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function x(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var K=h(N.brush.filter.getConsolidated(),N.height),q=[0],Q,re,oe,Y=K.length?K[0][0]:null,G=0;G<K.length;G++)Q=K[G],re=Q[1]-Q[0],q.push(Y),q.push(re),oe=G+1,oe<K.length&&(Y=K[oe][0]-Q[1]);return q.push(N.height),q}function h(N,K){return N.map(function(q){return q.map(function(Q){return Math.max(0,Q*K)}).sort(A)})}function T(N,K){var q=p.bar.handleHeight;if(!(K>N[1]+q||K<N[0]-q))return K>=.9*N[1]+.1*N[0]?"n":K<=.9*N[0]+.1*N[1]?"s":"ns"}function f(){L.select(document.body).style("cursor",null)}function s(N){N.attr("stroke-dasharray",x)}function d(N,K){var q=L.select(N).selectAll(".highlight, .highlight-shadow"),Q=K?q.transition().duration(p.bar.snapDuration).each("end",K):q;s(Q)}function S(N,K){var q=N.brush,Q=q.filterSpecified,re=NaN,oe={},Y;if(Q){var G=N.height,V=q.filter.getConsolidated(),Z=h(V,G),ae=NaN,ie=NaN,J=NaN;for(Y=0;Y<=Z.length;Y++){var $=Z[Y];if($&&$[0]<=K&&K<=$[1]){ae=Y;break}else if(ie=Y?Y-1:NaN,$&&$[0]>K){J=Y;break}}if(re=ae,isNaN(re)&&(isNaN(ie)||isNaN(J)?re=isNaN(ie)?J:ie:re=K-Z[ie][1]<Z[J][0]-K?ie:J),!isNaN(re)){var se=Z[re],ee=T(se,K);ee&&(oe.interval=V[re],oe.intervalPix=se,oe.region=ee)}}if(N.ordinal&&!oe.region){var ue=N.unitTickvals,ge=N.unitToPaddedPx.invert(K);for(Y=0;Y<ue.length;Y++){var Te=[ue[Math.max(Y-1,0)]*.25+ue[Y]*.75,ue[Math.min(Y+1,ue.length-1)]*.25+ue[Y]*.75];if(ge>=Te[0]&&ge<=Te[1]){oe.clickableOrdinalRange=Te;break}}}return oe}function M(N,K){L.event.sourceEvent.stopPropagation();var q=K.height-L.mouse(N)[1]-2*p.verticalPadding,Q=K.unitToPaddedPx.invert(q),re=K.brush,oe=S(K,q),Y=oe.interval,G=re.svgBrush;if(G.wasDragged=!1,G.grabbingBar=oe.region==="ns",G.grabbingBar){var V=Y.map(K.unitToPaddedPx);G.grabPoint=q-V[0]-p.verticalPadding,G.barLength=V[1]-V[0]}G.clickableOrdinalRange=oe.clickableOrdinalRange,G.stayingIntervals=K.multiselect&&re.filterSpecified?re.filter.getConsolidated():[],Y&&(G.stayingIntervals=G.stayingIntervals.filter(function(Z){return Z[0]!==Y[0]&&Z[1]!==Y[1]})),G.startExtent=oe.region?Y[oe.region==="s"?1:0]:Q,K.parent.inBrushDrag=!0,G.brushStartCallback()}function C(N,K){L.event.sourceEvent.stopPropagation();var q=K.height-L.mouse(N)[1]-2*p.verticalPadding,Q=K.brush.svgBrush;Q.wasDragged=!0,Q._dragging=!0,Q.grabbingBar?Q.newExtent=[q-Q.grabPoint,q+Q.barLength-Q.grabPoint].map(K.unitToPaddedPx.invert):Q.newExtent=[Q.startExtent,K.unitToPaddedPx.invert(q)].sort(A),K.brush.filterSpecified=!0,Q.extent=Q.stayingIntervals.concat([Q.newExtent]),Q.brushCallback(K),d(N.parentNode)}function y(N,K){var q=K.brush,Q=q.filter,re=q.svgBrush;re._dragging||(w(N,K),C(N,K),K.brush.svgBrush.wasDragged=!1),re._dragging=!1;var oe=L.event;oe.sourceEvent.stopPropagation();var Y=re.grabbingBar;if(re.grabbingBar=!1,re.grabLocation=void 0,K.parent.inBrushDrag=!1,f(),!re.wasDragged){re.wasDragged=void 0,re.clickableOrdinalRange?q.filterSpecified&&K.multiselect?re.extent.push(re.clickableOrdinalRange):(re.extent=[re.clickableOrdinalRange],q.filterSpecified=!0):Y?(re.extent=re.stayingIntervals,re.extent.length===0&&_(q)):_(q),re.brushCallback(K),d(N.parentNode),re.brushEndCallback(q.filterSpecified?Q.getConsolidated():[]);return}var G=function(){Q.set(Q.getConsolidated())};if(K.ordinal){var V=K.unitTickvals;V[V.length-1]<V[0]&&V.reverse(),re.newExtent=[o(0,V,re.newExtent[0],re.stayingIntervals),o(1,V,re.newExtent[1],re.stayingIntervals)];var Z=re.newExtent[1]>re.newExtent[0];re.extent=re.stayingIntervals.concat(Z?[re.newExtent]:[]),re.extent.length||_(q),re.brushCallback(K),Z?d(N.parentNode,G):(G(),d(N.parentNode))}else G();re.brushEndCallback(q.filterSpecified?Q.getConsolidated():[])}function w(N,K){var q=K.height-L.mouse(N)[1]-2*p.verticalPadding,Q=S(K,q),re="crosshair";Q.clickableOrdinalRange?re="pointer":Q.region&&(re=Q.region+"-resize"),L.select(document.body).style("cursor",re)}function b(N){N.on("mousemove",function(K){L.event.preventDefault(),K.parent.inBrushDrag||w(this,K)}).on("mouseleave",function(K){K.parent.inBrushDrag||f()}).call(L.behavior.drag().on("dragstart",function(K){M(this,K)}).on("drag",function(K){C(this,K)}).on("dragend",function(K){y(this,K)}))}function i(N,K){return N[0]-K[0]}function E(N,K,q){var Q=q._context.staticPlot,re=N.selectAll(".background").data(P);re.enter().append("rect").classed("background",!0).call(c).call(n).style("pointer-events",Q?"none":"auto").attr("transform",v(0,p.verticalPadding)),re.call(b).attr("height",function(G){return G.height-p.verticalPadding});var oe=N.selectAll(".highlight-shadow").data(P);oe.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",K).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),oe.attr("y1",function(G){return G.height}).call(s);var Y=N.selectAll(".highlight").data(P);Y.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),Y.attr("y1",function(G){return G.height}).call(s)}function m(N,K,q){var Q=N.selectAll("."+p.cn.axisBrush).data(P,a);Q.enter().append("g").classed(p.cn.axisBrush,!0),E(Q,K,q)}function F(N){return N.svgBrush.extent.map(function(K){return K.slice()})}function _(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function B(N){return function(q){var Q=q.brush,re=F(Q),oe=re.slice();Q.filter.set(oe),N()}}function I(N){for(var K=N.slice(),q=[],Q,re=K.shift();re;){for(Q=re.slice();(re=K.shift())&&re[0]<=Q[1];)Q[1]=Math.max(Q[1],re[1]);q.push(Q)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function O(){var N=[],K,q;return{set:function(Q){N=Q.map(function(re){return re.slice().sort(A)}).sort(i),N.length===1&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),K=I(N),q=N.reduce(function(re,oe){return[Math.min(re[0],oe[0]),Math.max(re[1],oe[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return K},getBounds:function(){return q}}}function z(N,K,q,Q,re,oe){var Y=O();return Y.set(q),{filter:Y,filterSpecified:K,svgBrush:{extent:[],brushStartCallback:Q,brushCallback:B(re),brushEndCallback:oe}}}function k(N,K){if(Array.isArray(N[0])?(N=N.map(function(Q){return Q.sort(A)}),K.multiselect?N=I(N.sort(i)):N=[N[0]]):N=[N.sort(A)],K.tickvals){var q=K.tickvals.slice().sort(A);if(N=N.map(function(Q){var re=[o(0,q,Q[0],[]),o(1,q,Q[1],[])];if(re[1]>re[0])return re}).filter(function(Q){return Q}),!N.length)return}return N.length>1?N:N[0]}W.exports={makeBrush:z,ensureAxisBrush:m,cleanRanges:k}},71791:function(W,U,e){W.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(W,U,e){var p=e(39898),L=e(27659).a0,a=e(21341),P=e(77922);U.name="parcoords",U.plot=function(A){var v=L(A.calcdata,"parcoords")[0];v.length&&a(A,v)},U.clean=function(A,v,g,t){var r=t._has&&t._has("parcoords"),u=v._has&&v._has("parcoords");r&&!u&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},U.toSVG=function(A){var v=A._fullLayout._glimages,g=p.select(A).selectAll(".svg-container"),t=g.filter(function(u,o){return o===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var u=this,o=u.toDataURL("image/png"),l=v.append("svg:image");l.attr({xmlns:P.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:u.style.width,height:u.style.height})}t.each(r),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(W,U,e){var p=e(71828).isArrayOrTypedArray,L=e(21081),a=e(28984).wrap;W.exports=function(v,g){var t,r;return L.hasColorscale(g,"line")&&p(g.line.color)?(t=g.line.color,r=L.extractOpts(g.line).colorscale,L.calc(v,g,{vals:t,containerStr:"line",cLetter:"c"})):(t=P(g._length),r=[[0,g.line.color],[1,g.line.color]]),a({lineColor:t,cscale:r})};function P(A){for(var v=new Array(A),g=0;g<A;g++)v[g]=.5;return v}},25706:function(W){W.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(W,U,e){var p=e(71828),L=e(52075).hasColorscale,a=e(1586),P=e(27670).c,A=e(85501),v=e(89298),g=e(73362),t=e(57920),r=e(25706).maxDimensionCount,u=e(94397);function o(c,n,x,h,T){var f=T("line.color",x);if(L(c,"line")&&p.isArrayOrTypedArray(f)){if(f.length)return T("line.colorscale"),a(c,n,h,T,{prefix:"line.",cLetter:"c"}),f.length;n.line.color=x}return 1/0}function l(c,n,x,h){function T(M,C){return p.coerce(c,n,g.dimensions,M,C)}var f=T("values"),s=T("visible");if(f&&f.length||(s=n.visible=!1),s){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");n._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(n._ax,h.layout),T("multiselect");var S=T("constraintrange");S&&(n.constraintrange=t.cleanRanges(S,n))}}W.exports=function(n,x,h,T){function f(C,y){return p.coerce(n,x,g,C,y)}var s=n.dimensions;Array.isArray(s)&&s.length>r&&(p.log("parcoords traces support up to "+r+" dimensions at the moment"),s.splice(r));var d=A(n,x,{name:"dimensions",layout:T,handleItemDefaults:l}),S=o(n,x,h,T,f);P(x,T,f),(!Array.isArray(d)||!d.length)&&(x.visible=!1),u(x,d,"values",S);var M={family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};p.coerceFont(f,"labelfont",M),p.coerceFont(f,"tickfont",M),p.coerceFont(f,"rangefont",M),f("labelangle"),f("labelside"),f("unselected.line.color"),f("unselected.line.opacity")}},1602:function(W,U,e){var p=e(71828).isTypedArray;U.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},U.isOrdinal=function(L){return!!L.tickvals},U.isVisible=function(L){return L.visible||!("visible"in L)}},67618:function(W,U,e){var p=e(71791);p.plot=e(21341),W.exports=p},83398:function(W,U,e){var p=e(56068),L=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),P=e(25706).maxDimensionCount,A=e(71828),v=1e-6,g=2048,t=new Uint8Array(4),r=new Uint8Array(4),u={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(w){w.read({x:0,y:0,width:1,height:1,data:t})}function l(w,b,i,E,m){var F=w._gl;F.enable(F.SCISSOR_TEST),F.scissor(b,i,E,m),w.clear({color:[0,0,0,0],depth:1})}function c(w,b,i,E,m,F){var _=F.key;function B(I){var O=Math.min(E,m-I*E);I===0&&(window.cancelAnimationFrame(i.currentRafs[_]),delete i.currentRafs[_],l(w,F.scissorX,F.scissorY,F.scissorWidth,F.viewBoxSize[1])),!i.clearOnly&&(F.count=2*O,F.offset=2*I*E,b(F),I*E+O<m&&(i.currentRafs[_]=window.requestAnimationFrame(function(){B(I+1)})),i.drawCompleted=!1)}i.drawCompleted||(o(w),i.drawCompleted=!0),B(0)}function n(w){return Math.max(v,Math.min(1-v,w))}function x(w,b){for(var i=new Array(256),E=0;E<256;E++)i[E]=w(E/255).concat(b);return i}function h(w,b){return(w>>>8*b)%256/255}function T(w,b,i){for(var E=new Array(w*(P+4)),m=0,F=0;F<w;F++){for(var _=0;_<P;_++)E[m++]=_<b.length?b[_].paddedUnitValues[F]:.5;E[m++]=h(F,2),E[m++]=h(F,1),E[m++]=h(F,0),E[m++]=n(i[F])}return E}function f(w,b,i){for(var E=new Array(b*8),m=0,F=0;F<b;F++)for(var _=0;_<2;_++)for(var B=0;B<4;B++){var I=w*4+B,O=i[F*64+I];I===63&&_===0&&(O*=-1),E[m++]=O}return E}function s(w){var b="0"+w;return b.substr(b.length-2)}function d(w){return w<P?"p"+s(w+1)+"_"+s(w+4):"colors"}function S(w,b,i){for(var E=0;E<=P;E+=4)w[d(E)](f(E/4,b,i))}function M(w){for(var b={},i=0;i<=P;i+=4)b[d(i)]=w.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return b}function C(w,b,i,E,m,F,_,B,I,O,z,k,N,K){for(var q=[[],[]],Q=0;Q<64;Q++)q[0][Q]=Q===m?1:0,q[1][Q]=Q===F?1:0;_*=K,B*=K,I*=K,O*=K;var re=w.lines.canvasOverdrag*K,oe=w.domain,Y=w.canvasWidth*K,G=w.canvasHeight*K,V=w.pad.l*K,Z=w.pad.b*K,ae=w.layoutHeight*K,ie=w.layoutWidth*K,J=w.deselectedLines.color,$=w.deselectedLines.opacity,se=A.extendFlat({key:z,resolution:[Y,G],viewBoxPos:[_+re,B],viewBoxSize:[I,O],i0:m,i1:F,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:k,contextColor:[J[0]/255,J[1]/255,J[2]/255,$!=="auto"?J[3]*$:Math.max(1/255,Math.pow(1/w.lines.color.length,1/3))],scissorX:(E===b?0:_+re)+(V-re)+ie*oe.x[0],scissorWidth:(E===i?Y-_+re:I+.5)+(E===b?_+re:0),scissorY:B+Z+ae*oe.y[0],scissorHeight:O,viewportX:V-re+ie*oe.x[0],viewportY:Z+ae*oe.y[0],viewportWidth:Y,viewportHeight:G},N);return se}function y(w){var b=g-1,i=Math.max(0,Math.floor(w[0]*b),0),E=Math.min(b,Math.ceil(w[1]*b),b);return[Math.min(i,E),Math.max(i,E)]}W.exports=function(w,b){var i=b.context,E=b.pick,m=b.regl,F=m._gl,_=F.getParameter(F.ALIASED_LINE_WIDTH_RANGE),B=Math.max(_[0],Math.min(_[1],b.viewModel.plotGlPixelRatio)),I={currentRafs:{},drawCompleted:!0,clearOnly:!1},O,z,k,N,K=M(m),q,Q=m.texture(u),re=[];Y(b);var oe=m({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:m.prop("scissorX"),y:m.prop("scissorY"),width:m.prop("scissorWidth"),height:m.prop("scissorHeight")}},viewport:{x:m.prop("viewportX"),y:m.prop("viewportY"),width:m.prop("viewportWidth"),height:m.prop("viewportHeight")},dither:!1,vert:L,frag:a,primitive:"lines",lineWidth:B,attributes:K,uniforms:{resolution:m.prop("resolution"),viewBoxPos:m.prop("viewBoxPos"),viewBoxSize:m.prop("viewBoxSize"),dim0A:m.prop("dim0A"),dim1A:m.prop("dim1A"),dim0B:m.prop("dim0B"),dim1B:m.prop("dim1B"),dim0C:m.prop("dim0C"),dim1C:m.prop("dim1C"),dim0D:m.prop("dim0D"),dim1D:m.prop("dim1D"),loA:m.prop("loA"),hiA:m.prop("hiA"),loB:m.prop("loB"),hiB:m.prop("hiB"),loC:m.prop("loC"),hiC:m.prop("hiC"),loD:m.prop("loD"),hiD:m.prop("hiD"),palette:Q,contextColor:m.prop("contextColor"),maskTexture:m.prop("maskTexture"),drwLayer:m.prop("drwLayer"),maskHeight:m.prop("maskHeight")},offset:m.prop("offset"),count:m.prop("count")});function Y(J){O=J.model,z=J.viewModel,k=z.dimensions.slice(),N=k[0]?k[0].values.length:0;var $=O.lines,se=E?$.color.map(function(ue,ge){return ge/$.color.length}):$.color,ee=T(N,k,se);S(K,N,ee),!i&&!E&&(Q=m.texture(A.extendFlat({data:x(O.unitToColor,255)},u)))}function G(J){var $,se,ee,ue=[[],[]];for(ee=0;ee<64;ee++){var ge=!J&&ee<k.length?k[ee].brush.filter.getBounds():[-1/0,1/0];ue[0][ee]=ge[0],ue[1][ee]=ge[1]}var Te=g*8,xe=new Array(Te);for($=0;$<Te;$++)xe[$]=255;if(!J)for($=0;$<k.length;$++){var Pe=$%8,Ie=($-Pe)/8,Ae=Math.pow(2,Pe),be=k[$],_e=be.brush.filter.get();if(!(_e.length<2)){var Ve=y(_e[0])[1];for(se=1;se<_e.length;se++){var We=y(_e[se]);for(ee=Ve+1;ee<We[0];ee++)xe[ee*8+Ie]&=~Ae;Ve=Math.max(Ve,We[1])}}}var ze={shape:[8,g],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:xe};return q?q(ze):q=m.texture(ze),{maskTexture:q,maskHeight:g,loA:ue[0].slice(0,16),loB:ue[0].slice(16,32),loC:ue[0].slice(32,48),loD:ue[0].slice(48,64),hiA:ue[1].slice(0,16),hiB:ue[1].slice(16,32),hiC:ue[1].slice(32,48),hiD:ue[1].slice(48,64)}}function V(J,$,se){var ee=J.length,ue,ge,Te,xe=1/0,Pe=-1/0;for(ue=0;ue<ee;ue++)J[ue].dim0.canvasX<xe&&(xe=J[ue].dim0.canvasX,ge=ue),J[ue].dim1.canvasX>Pe&&(Pe=J[ue].dim1.canvasX,Te=ue);ee===0&&l(m,0,0,O.canvasWidth,O.canvasHeight);var Ie=G(i);for(ue=0;ue<ee;ue++){var Ae=J[ue],be=Ae.dim0.crossfilterDimensionIndex,_e=Ae.dim1.crossfilterDimensionIndex,Ve=Ae.canvasX,We=Ae.canvasY,ze=Ve+Ae.panelSizeX,Ze=Ae.plotGlPixelRatio;if($||!re[be]||re[be][0]!==Ve||re[be][1]!==ze){re[be]=[Ve,ze];var ct=C(O,ge,Te,ue,be,_e,Ve,We,Ae.panelSizeX,Ae.panelSizeY,Ae.dim0.crossfilterDimensionIndex,i?0:E?2:1,Ie,Ze);I.clearOnly=se;var lt=$?O.lines.blockLineCount:N;c(m,oe,I,lt,N,ct)}}}function Z(J,$){return m.read({x:J,y:$,width:1,height:1,data:r}),r}function ae(J,$,se,ee){var ue=new Uint8Array(4*se*ee);return m.read({x:J,y:$,width:se,height:ee,data:ue}),ue}function ie(){w.style["pointer-events"]="none",Q.destroy(),q&&q.destroy();for(var J in K)K[J].destroy()}return{render:V,readPixel:Z,readPixels:ae,destroy:ie,update:Y}}},94397:function(W){W.exports=function(U,e,p,L){L||(L=1/0);var a,P;for(a=0;a<e.length;a++)P=e[a],P.visible&&(L=Math.min(L,P[p].length));for(L===1/0&&(L=0),U._length=L,a=0;a<e.length;a++)P=e[a],P.visible&&(P._length=L);return L}},17171:function(W,U,e){var p=e(39898),L=e(71828),a=L.numberFormat,P=e(36652),A=e(89298),v=L.strRotate,g=L.strTranslate,t=e(63893),r=e(91424),u=e(21081),o=e(28984),l=o.keyFun,c=o.repeat,n=o.unwrap,x=e(1602),h=e(25706),T=e(57920),f=e(83398);function s(q,Q,re){return L.aggNums(q,null,Q,re)}function d(q,Q){return M(s(Math.min,q,Q),s(Math.max,q,Q))}function S(q){var Q=q.range;return Q?M(Q[0],Q[1]):d(q.values,q._length)}function M(q,Q){return(isNaN(q)||!isFinite(q))&&(q=0),(isNaN(Q)||!isFinite(Q))&&(Q=0),q===Q&&(q===0?(q-=1,Q+=1):(q*=.9,Q*=1.1)),[q,Q]}function C(q,Q){return Q?function(re,oe){var Y=Q[oe];return Y??q(re)}:q}function y(q,Q,re,oe,Y){var G=S(re);return oe?p.scale.ordinal().domain(oe.map(C(a(re.tickformat),Y))).range(oe.map(function(V){var Z=(V-G[0])/(G[1]-G[0]);return q-Q+Z*(2*Q-q)})):p.scale.linear().domain(G).range([q-Q,Q])}function w(q,Q){return p.scale.linear().range([Q,q-Q])}function b(q,Q){return p.scale.linear().domain(S(q)).range([Q,1-Q])}function i(q){if(q.tickvals){var Q=S(q);return p.scale.ordinal().domain(q.tickvals).range(q.tickvals.map(function(re){return(re-Q[0])/(Q[1]-Q[0])}))}}function E(q){var Q=q.map(function(G){return G[0]}),re=q.map(function(G){var V=P(G[1]);return p.rgb("rgb("+V[0]+","+V[1]+","+V[2]+")")}),oe=function(G){return function(V){return V[G]}},Y="rgb".split("").map(function(G){return p.scale.linear().clamp(!0).domain(Q).range(re.map(oe(G)))});return function(G){return Y.map(function(V){return V(G)})}}function m(q){return q.dimensions.some(function(Q){return Q.brush.filterSpecified})}function F(q,Q,re){var oe=n(Q),Y=oe.trace,G=x.convertTypedArray(oe.lineColor),V=Y.line,Z={color:P(Y.unselected.line.color),opacity:Y.unselected.line.opacity},ae=u.extractOpts(V),ie=ae.reversescale?u.flipScale(oe.cscale):oe.cscale,J=Y.domain,$=Y.dimensions,se=q.width,ee=Y.labelangle,ue=Y.labelside,ge=Y.labelfont,Te=Y.tickfont,xe=Y.rangefont,Pe=L.extendDeepNoArrays({},V,{color:G.map(p.scale.linear().domain(S({values:G,range:[ae.min,ae.max],_length:Y._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),Ie=Math.floor(se*(J.x[1]-J.x[0])),Ae=Math.floor(q.height*(J.y[1]-J.y[0])),be=q.margin||{l:80,r:80,t:100,b:80},_e=Ie,Ve=Ae;return{key:re,colCount:$.filter(x.isVisible).length,dimensions:$,tickDistance:h.tickDistance,unitToColor:E(ie),lines:Pe,deselectedLines:Z,labelAngle:ee,labelSide:ue,labelFont:ge,tickFont:Te,rangeFont:xe,layoutWidth:se,layoutHeight:q.height,domain:J,translateX:J.x[0]*se,translateY:q.height-J.y[1]*q.height,pad:be,canvasWidth:_e*h.canvasPixelRatio+2*Pe.canvasOverdrag,canvasHeight:Ve*h.canvasPixelRatio,width:_e,height:Ve,canvasPixelRatio:h.canvasPixelRatio}}function _(q,Q,re){var oe=re.width,Y=re.height,G=re.dimensions,V=re.canvasPixelRatio,Z=function(se){return oe*se/Math.max(1,re.colCount-1)},ae=h.verticalPadding/Y,ie=w(Y,h.verticalPadding),J={key:re.key,xScale:Z,model:re,inBrushDrag:!1},$={};return J.dimensions=G.filter(x.isVisible).map(function(se,ee){var ue=b(se,ae),ge=$[se.label];$[se.label]=(ge||0)+1;var Te=se.label+(ge?"__"+ge:""),xe=se.constraintrange,Pe=xe&&xe.length;Pe&&!Array.isArray(xe[0])&&(xe=[xe]);var Ie=Pe?xe.map(function(at){return at.map(ue)}):[[-1/0,1/0]],Ae=function(){var at=J;at.focusLayer&&at.focusLayer.render(at.panels,!0);var tt=m(at);!q.contextShown()&&tt?(at.contextLayer&&at.contextLayer.render(at.panels,!0),q.contextShown(!0)):q.contextShown()&&!tt&&(at.contextLayer&&at.contextLayer.render(at.panels,!0,!0),q.contextShown(!1))},be=se.values;be.length>se._length&&(be=be.slice(0,se._length));var _e=se.tickvals,Ve;function We(at,tt){return{val:at,text:Ve[tt]}}function ze(at,tt){return at.val-tt.val}if(Array.isArray(_e)&&_e.length){Ve=se.ticktext,!Array.isArray(Ve)||!Ve.length?Ve=_e.map(a(se.tickformat)):Ve.length>_e.length?Ve=Ve.slice(0,_e.length):_e.length>Ve.length&&(_e=_e.slice(0,Ve.length));for(var Ze=1;Ze<_e.length;Ze++)if(_e[Ze]<_e[Ze-1]){for(var ct=_e.map(We).sort(ze),lt=0;lt<_e.length;lt++)_e[lt]=ct[lt].val,Ve[lt]=ct[lt].text;break}}else _e=void 0;return be=x.convertTypedArray(be),{key:Te,label:se.label,tickFormat:se.tickformat,tickvals:_e,ticktext:Ve,ordinal:x.isOrdinal(se),multiselect:se.multiselect,xIndex:ee,crossfilterDimensionIndex:ee,visibleIndex:se._index,height:Y,values:be,paddedUnitValues:be.map(ue),unitTickvals:_e&&_e.map(ue),xScale:Z,x:Z(ee),canvasX:Z(ee)*V,unitToPaddedPx:ie,domainScale:y(Y,h.verticalPadding,se,_e,Ve),ordinalScale:i(se),parent:J,model:re,brush:T.makeBrush(q,Pe,Ie,function(){q.linePickActive(!1)},Ae,function(at){if(J.focusLayer.render(J.panels,!0),J.pickLayer&&J.pickLayer.render(J.panels,!0),q.linePickActive(!0),Q&&Q.filterChanged){var tt=ue.invert,dt=at.map(function(wt){return wt.map(tt).sort(L.sorterAsc)}).sort(function(wt,Mt){return wt[0]-Mt[0]});Q.filterChanged(J.key,se._index,dt)}})}}),J}function B(q){q.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function I(){var q=!0,Q=!1;return{linePickActive:function(re){return arguments.length?q=!!re:q},contextShown:function(re){return arguments.length?Q=!!re:Q}}}function O(q,Q){var re=Q==="top"?1:-1,oe=q*Math.PI/180,Y=Math.sin(oe),G=Math.cos(oe);return{dir:re,dx:Y,dy:G,degrees:q}}function z(q,Q,re){for(var oe=Q.panels||(Q.panels=[]),Y=q.data(),G=0;G<Y.length-1;G++){var V=oe[G]||(oe[G]={}),Z=Y[G],ae=Y[G+1];V.dim0=Z,V.dim1=ae,V.canvasX=Z.canvasX,V.panelSizeX=ae.canvasX-Z.canvasX,V.panelSizeY=Q.model.canvasHeight,V.y=0,V.canvasY=0,V.plotGlPixelRatio=re}}function k(q){for(var Q=0;Q<q.length;Q++)for(var re=0;re<q[Q].length;re++)for(var oe=q[Q][re].trace,Y=oe.dimensions,G=0;G<Y.length;G++){var V=Y[G].values,Z=Y[G]._ax;Z&&(Z.range?Z.range=M(Z.range[0],Z.range[1]):Z.range=d(V,oe._length),Z.dtick||(Z.dtick=.01*(Math.abs(Z.range[1]-Z.range[0])||1)),Z.tickformat=Y[G].tickformat,A.calcTicks(Z),Z.cleanRange())}}function N(q,Q){return A.tickText(q._ax,Q,!1).text}function K(q,Q){if(q.ordinal)return"";var re=q.domainScale.domain(),oe=re[Q?re.length-1:0];return N(q.model.dimensions[q.visibleIndex],oe)}W.exports=function(Q,re,oe,Y){var G=Q._context.staticPlot,V=Q._fullLayout,Z=V._toppaper,ae=V._glcontainer,ie=Q._context.plotGlPixelRatio,J=Q._fullLayout.paper_bgcolor;k(re);var $=I(),se=re.filter(function(lt){return n(lt).trace.visible}).map(F.bind(0,oe)).map(_.bind(0,$,Y));ae.each(function(lt,at){return L.extendFlat(lt,se[at])});var ee=ae.selectAll(".gl-canvas").each(function(lt){lt.viewModel=se[0],lt.viewModel.plotGlPixelRatio=ie,lt.viewModel.paperColor=J,lt.model=lt.viewModel?lt.viewModel.model:null}),ue=null,ge=ee.filter(function(lt){return lt.pick});ge.style("pointer-events",G?"none":"auto").on("mousemove",function(lt){if($.linePickActive()&&lt.lineLayer&&Y&&Y.hover){var at=p.event,tt=this.width,dt=this.height,wt=p.mouse(this),Mt=wt[0],It=wt[1];if(Mt<0||It<0||Mt>=tt||It>=dt)return;var $e=lt.lineLayer.readPixel(Mt,dt-1-It),ke=$e[3]!==0,Fe=ke?$e[2]+256*($e[1]+256*$e[0]):null,qe={x:Mt,y:It,clientX:at.clientX,clientY:at.clientY,dataIndex:lt.model.key,curveNumber:Fe};Fe!==ue&&(ke?Y.hover(qe):Y.unhover&&Y.unhover(qe),ue=Fe)}}),ee.style("opacity",function(lt){return lt.pick?0:1}),Z.style("background","rgba(255, 255, 255, 0)");var Te=Z.selectAll("."+h.cn.parcoords).data(se,l);Te.exit().remove(),Te.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function(lt){return g(lt.model.translateX,lt.model.translateY)});var xe=Te.selectAll("."+h.cn.parcoordsControlView).data(c,l);xe.enter().append("g").classed(h.cn.parcoordsControlView,!0),xe.attr("transform",function(lt){return g(lt.model.pad.l,lt.model.pad.t)});var Pe=xe.selectAll("."+h.cn.yAxis).data(function(lt){return lt.dimensions},l);Pe.enter().append("g").classed(h.cn.yAxis,!0),xe.each(function(lt){z(Pe,lt,ie)}),ee.each(function(lt){if(lt.viewModel){!lt.lineLayer||Y?lt.lineLayer=f(this,lt):lt.lineLayer.update(lt),(lt.key||lt.key===0)&&(lt.viewModel[lt.key]=lt.lineLayer);var at=!lt.context||Y;lt.lineLayer.render(lt.viewModel.panels,at)}}),Pe.attr("transform",function(lt){return g(lt.xScale(lt.xIndex),0)}),Pe.call(p.behavior.drag().origin(function(lt){return lt}).on("drag",function(lt){var at=lt.parent;$.linePickActive(!1),lt.x=Math.max(-h.overdrag,Math.min(lt.model.width+h.overdrag,p.event.x)),lt.canvasX=lt.x*lt.model.canvasPixelRatio,Pe.sort(function(tt,dt){return tt.x-dt.x}).each(function(tt,dt){tt.xIndex=dt,tt.x=lt===tt?tt.x:tt.xScale(tt.xIndex),tt.canvasX=tt.x*tt.model.canvasPixelRatio}),z(Pe,at,ie),Pe.filter(function(tt){return Math.abs(lt.xIndex-tt.xIndex)!==0}).attr("transform",function(tt){return g(tt.xScale(tt.xIndex),0)}),p.select(this).attr("transform",g(lt.x,0)),Pe.each(function(tt,dt,wt){wt===lt.parent.key&&(at.dimensions[dt]=tt)}),at.contextLayer&&at.contextLayer.render(at.panels,!1,!m(at)),at.focusLayer.render&&at.focusLayer.render(at.panels)}).on("dragend",function(lt){var at=lt.parent;lt.x=lt.xScale(lt.xIndex),lt.canvasX=lt.x*lt.model.canvasPixelRatio,z(Pe,at,ie),p.select(this).attr("transform",function(tt){return g(tt.x,0)}),at.contextLayer&&at.contextLayer.render(at.panels,!1,!m(at)),at.focusLayer&&at.focusLayer.render(at.panels),at.pickLayer&&at.pickLayer.render(at.panels,!0),$.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(at.key,at.dimensions.map(function(tt){return tt.crossfilterDimensionIndex}))})),Pe.exit().remove();var Ie=Pe.selectAll("."+h.cn.axisOverlays).data(c,l);Ie.enter().append("g").classed(h.cn.axisOverlays,!0),Ie.selectAll("."+h.cn.axis).remove();var Ae=Ie.selectAll("."+h.cn.axis).data(c,l);Ae.enter().append("g").classed(h.cn.axis,!0),Ae.each(function(lt){var at=lt.model.height/lt.model.tickDistance,tt=lt.domainScale,dt=tt.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(at,lt.tickFormat).tickValues(lt.ordinal?dt:null).tickFormat(function(wt){return x.isOrdinal(lt)?wt:N(lt.model.dimensions[lt.visibleIndex],wt)}).scale(tt)),r.font(Ae.selectAll("text"),lt.model.tickFont)}),Ae.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ae.selectAll("text").style("text-shadow",t.makeTextShadow(J)).style("cursor","default");var be=Ie.selectAll("."+h.cn.axisHeading).data(c,l);be.enter().append("g").classed(h.cn.axisHeading,!0);var _e=be.selectAll("."+h.cn.axisTitle).data(c,l);_e.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",G?"none":"auto"),_e.text(function(lt){return lt.label}).each(function(lt){var at=p.select(this);r.font(at,lt.model.labelFont),t.convertToTspans(at,Q)}).attr("transform",function(lt){var at=O(lt.model.labelAngle,lt.model.labelSide),tt=h.axisTitleOffset;return(at.dir>0?"":g(0,2*tt+lt.model.height))+v(at.degrees)+g(-tt*at.dx,-tt*at.dy)}).attr("text-anchor",function(lt){var at=O(lt.model.labelAngle,lt.model.labelSide),tt=Math.abs(at.dx),dt=Math.abs(at.dy);return 2*tt>dt?at.dir*at.dx<0?"start":"end":"middle"});var Ve=Ie.selectAll("."+h.cn.axisExtent).data(c,l);Ve.enter().append("g").classed(h.cn.axisExtent,!0);var We=Ve.selectAll("."+h.cn.axisExtentTop).data(c,l);We.enter().append("g").classed(h.cn.axisExtentTop,!0),We.attr("transform",g(0,-h.axisExtentOffset));var ze=We.selectAll("."+h.cn.axisExtentTopText).data(c,l);ze.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(B),ze.text(function(lt){return K(lt,!0)}).each(function(lt){r.font(p.select(this),lt.model.rangeFont)});var Ze=Ve.selectAll("."+h.cn.axisExtentBottom).data(c,l);Ze.enter().append("g").classed(h.cn.axisExtentBottom,!0),Ze.attr("transform",function(lt){return g(0,lt.model.height+h.axisExtentOffset)});var ct=Ze.selectAll("."+h.cn.axisExtentBottomText).data(c,l);ct.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(B),ct.text(function(lt){return K(lt,!1)}).each(function(lt){r.font(p.select(this),lt.model.rangeFont)}),T.ensureAxisBrush(Ie,J,Q)}},21341:function(W,U,e){var p=e(17171),L=e(79749),a=e(1602).isVisible,P={};function A(t,r,u){var o=r.indexOf(u),l=t.indexOf(o);return l===-1&&(l+=r.length),l}function v(t,r){return function(o,l){return A(t,r,o)-A(t,r,l)}}var g=W.exports=function(r,u){var o=r._fullLayout,l=L(r,[],P);if(l){var c={},n={},x={},h={},T=o._size;u.forEach(function(M,C){var y=M[0].trace;x[C]=y.index;var w=h[C]=y._fullInput.index;c[C]=r.data[w].dimensions,n[C]=r.data[w].dimensions.slice()});var f=function(M,C,y){var w=n[M][C],b=y.map(function(B){return B.slice()}),i="dimensions["+C+"].constraintrange",E=o._tracePreGUI[r._fullData[x[M]]._fullInput.uid];if(E[i]===void 0){var m=w.constraintrange;E[i]=m||null}var F=r._fullData[x[M]].dimensions[C];b.length?(b.length===1&&(b=b[0]),w.constraintrange=b,F.constraintrange=b.slice(),b=[b]):(delete w.constraintrange,delete F.constraintrange,b=null);var _={};_[i]=b,r.emit("plotly_restyle",[_,[h[M]]])},s=function(M){r.emit("plotly_hover",M)},d=function(M){r.emit("plotly_unhover",M)},S=function(M,C){var y=v(C,n[M].filter(a));c[M].sort(y),n[M].filter(function(w){return!a(w)}).sort(function(w){return n[M].indexOf(w)}).forEach(function(w){c[M].splice(c[M].indexOf(w),1),c[M].splice(n[M].indexOf(w),0,w)}),r.emit("plotly_restyle",[{dimensions:[c[M]]},[h[M]]])};p(r,u,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:f,hover:s,unhover:d,axesMoved:S})}};g.reglPrecompiled=P},34e3:function(W,U,e){var p=e(9012),L=e(27670).Y,a=e(41940),P=e(22399),A=e(5386).f,v=e(5386).s,g=e(1426).extendFlat,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});W.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:A({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},t,{}),outsidetextfont:g({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(W,U,e){var p=e(74875);U.name="pie",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},32354:function(W,U,e){var p=e(92770),L=e(84267),a=e(7901),P={};function A(r,u){var o=[],l=r._fullLayout,c=l.hiddenlabels||[],n=u.labels,x=u.marker.colors||[],h=u.values,T=u._length,f=u._hasValues&&T,s,d;if(u.dlabel)for(n=new Array(T),s=0;s<T;s++)n[s]=String(u.label0+s*u.dlabel);var S={},M=v(l["_"+u.type+"colormap"]),C=0,y=!1;for(s=0;s<T;s++){var w,b,i;if(f){if(w=h[s],!p(w))continue;w=+w}else w=1;b=n[s],(b===void 0||b==="")&&(b=s),b=String(b);var E=S[b];E===void 0?(S[b]=o.length,i=c.indexOf(b)!==-1,i||(C+=w),o.push({v:w,label:b,color:M(x[s],b),i:s,pts:[s],hidden:i})):(y=!0,d=o[E],d.v+=w,d.pts.push(s),d.hidden||(C+=w),d.color===!1&&x[s]&&(d.color=M(x[s],b)))}o=o.filter(function(F){return F.v>=0});var m=u.type==="funnelarea"?y:u.sort;return m&&o.sort(function(F,_){return _.v-F.v}),o[0]&&(o[0].vTotal=C),o}function v(r){return function(o,l){return!o||(o=L(o),!o.isValid())?!1:(o=a.addOpacity(o,o.getAlpha()),r[l]||(r[l]=o),o)}}function g(r,u){var o=(u||{}).type;o||(o="pie");var l=r._fullLayout,c=r.calcdata,n=l[o+"colorway"],x=l["_"+o+"colormap"];l["extend"+o+"colors"]&&(n=t(n,P));for(var h=0,T=0;T<c.length;T++){var f=c[T],s=f[0].trace.type;if(s===o)for(var d=0;d<f.length;d++){var S=f[d];S.color===!1&&(x[S.label]?S.color=x[S.label]:(x[S.label]=S.color=n[h%n.length],h++))}}}function t(r,u){var o,l=JSON.stringify(r),c=u[l];if(!c){for(c=r.slice(),o=0;o<r.length;o++)c.push(L(r[o]).lighten(20).toHexString());for(o=0;o<r.length;o++)c.push(L(r[o]).darken(20).toHexString());u[l]=c}return c}W.exports={calc:A,crossTraceCalc:g,makePullColorFn:v,generateExtendedColors:t}},37434:function(W,U,e){var p=e(92770),L=e(71828),a=e(34e3),P=e(27670).c,A=e(90769).handleText;function v(t,r){var u=Array.isArray(t),o=L.isArrayOrTypedArray(r),l=Math.min(u?t.length:1/0,o?r.length:1/0);if(isFinite(l)||(l=0),l&&o){for(var c,n=0;n<l;n++){var x=r[n];if(p(x)&&x>0){c=!0;break}}c||(l=0)}return{hasLabels:u,hasValues:o,len:l}}function g(t,r,u,o){function l(i,E){return L.coerce(t,r,a,i,E)}var c=l("labels"),n=l("values"),x=v(c,n),h=x.len;if(r._hasLabels=x.hasLabels,r._hasValues=x.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),!h){r.visible=!1;return}r._length=h;var T=l("marker.line.width");T&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var f=l("text"),s=l("texttemplate"),d;if(s||(d=l("textinfo",Array.isArray(f)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),s||d&&d!=="none"){var S=l("textposition");A(t,r,o,l,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var M=Array.isArray(S)||S==="auto",C=M||S==="outside";C&&l("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&l("insidetextorientation")}P(r,o,l);var y=l("hole"),w=l("title.text");if(w){var b=l("title.position",y?"middle center":"top center");!y&&b==="middle center"&&(r.title.position="top center"),L.coerceFont(l,"title.font",o.font)}l("sort"),l("direction"),l("rotation"),l("pull")}W.exports={handleLabelsAndValues:v,supplyDefaults:g}},20007:function(W,U,e){var p=e(23469).appendArrayMultiPointValues;W.exports=function(a,P){var A={curveNumber:P.index,pointNumbers:a.pts,data:P._input,fullData:P,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(A.pointNumber=A.i=a.pts[0]),p(A,P,a.pts),P.type==="funnelarea"&&(delete A.v,delete A.i),A}},53581:function(W,U,e){var p=e(71828);function L(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}U.formatPiePercent=function(P,A){var v=L((P*100).toPrecision(3));return p.numSeparate(v,A)+"%"},U.formatPieValue=function(P,A){var v=L(P.toPrecision(10));return p.numSeparate(v,A)},U.getFirstFilled=function(P,A){if(Array.isArray(P))for(var v=0;v<A.length;v++){var g=P[A[v]];if(g||g===0||g==="")return g}},U.castOption=function(P,A){if(Array.isArray(P))return U.getFirstFilled(P,A);if(P)return P},U.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(W,U,e){W.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(W){W.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(W,U,e){var p=e(71828),L=e(92774);W.exports=function(P,A){function v(g,t){return p.coerce(P,A,L,g,t)}v("hiddenlabels"),v("piecolorway",A.colorway),v("extendpiecolors")}},14575:function(W,U,e){var p=e(39898),L=e(74875),a=e(30211),P=e(7901),A=e(91424),v=e(71828),g=v.strScale,t=v.strTranslate,r=e(63893),u=e(72597),o=u.recordMinTextSize,l=u.clearMinTextSize,c=e(97313).TEXTPAD,n=e(53581),x=e(20007),h=e(71828).isValidTextValue;function T(G,V){var Z=G._context.staticPlot,ae=G._fullLayout,ie=ae._size;l("pie",ae),M(V,G),K(V,ie);var J=v.makeTraceGroups(ae._pielayer,V,"trace").each(function($){var se=p.select(this),ee=$[0],ue=ee.trace;Q($),se.attr("stroke-linejoin","round"),se.each(function(){var ge=p.select(this).selectAll("g.slice").data($);ge.enter().append("g").classed("slice",!0),ge.exit().remove();var Te=[[[],[]],[[],[]]],xe=!1;ge.each(function(ze,Ze){if(ze.hidden){p.select(this).selectAll("path,g").remove();return}ze.pointNumber=ze.i,ze.curveNumber=ue.index,Te[ze.pxmid[1]<0?0:1][ze.pxmid[0]<0?0:1].push(ze);var ct=ee.cx,lt=ee.cy,at=p.select(this),tt=at.selectAll("path.surface").data([ze]);if(tt.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),at.call(s,G,$),ue.pull){var dt=+n.castOption(ue.pull,ze.pts)||0;dt>0&&(ct+=dt*ze.pxmid[0],lt+=dt*ze.pxmid[1])}ze.cxFinal=ct,ze.cyFinal=lt;function wt(it,Je,Re,Me){var fe=Me*(Je[0]-it[0]),ye=Me*(Je[1]-it[1]);return"a"+Me*ee.r+","+Me*ee.r+" 0 "+ze.largeArc+(Re?" 1 ":" 0 ")+fe+","+ye}var Mt=ue.hole;if(ze.v===ee.vTotal){var It="M"+(ct+ze.px0[0])+","+(lt+ze.px0[1])+wt(ze.px0,ze.pxmid,!0,1)+wt(ze.pxmid,ze.px0,!0,1)+"Z";Mt?tt.attr("d","M"+(ct+Mt*ze.px0[0])+","+(lt+Mt*ze.px0[1])+wt(ze.px0,ze.pxmid,!1,Mt)+wt(ze.pxmid,ze.px0,!1,Mt)+"Z"+It):tt.attr("d",It)}else{var $e=wt(ze.px0,ze.px1,!0,1);if(Mt){var ke=1-Mt;tt.attr("d","M"+(ct+Mt*ze.px1[0])+","+(lt+Mt*ze.px1[1])+wt(ze.px1,ze.px0,!1,Mt)+"l"+ke*ze.px0[0]+","+ke*ze.px0[1]+$e+"Z")}else tt.attr("d","M"+ct+","+lt+"l"+ze.px0[0]+","+ze.px0[1]+$e+"Z")}oe(G,ze,ee);var Fe=n.castOption(ue.textposition,ze.pts),qe=at.selectAll("g.slicetext").data(ze.text&&Fe!=="none"?[0]:[]);qe.enter().append("g").classed("slicetext",!0),qe.exit().remove(),qe.each(function(){var it=v.ensureSingle(p.select(this),"text","",function(ht){ht.attr("data-notex",1)}),Je=v.ensureUniformFontSize(G,Fe==="outside"?d(ue,ze,ae.font):S(ue,ze,ae.font));it.text(ze.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(A.font,Je).call(r.convertToTspans,G);var Re=A.bBox(it.node()),Me;if(Fe==="outside")Me=_(Re,ze);else if(Me=C(Re,ze,ee),Fe==="auto"&&Me.scale<1){var fe=v.ensureUniformFontSize(G,ue.outsidetextfont);it.call(A.font,fe),Re=A.bBox(it.node()),Me=_(Re,ze)}var ye=Me.textPosAngle,Le=ye===void 0?ze.pxmid:re(ee.r,ye);if(Me.targetX=ct+Le[0]*Me.rCenter+(Me.x||0),Me.targetY=lt+Le[1]*Me.rCenter+(Me.y||0),Y(Me,Re),Me.outside){var Oe=Me.targetY;ze.yLabelMin=Oe-Re.height/2,ze.yLabelMid=Oe,ze.yLabelMax=Oe+Re.height/2,ze.labelExtraX=0,ze.labelExtraY=0,xe=!0}Me.fontSize=Je.size,o(ue.type,Me,ae),$[Ze].transform=Me,v.setTransormAndDisplay(it,Me)})});var Pe=p.select(this).selectAll("g.titletext").data(ue.title.text?[0]:[]);if(Pe.enter().append("g").classed("titletext",!0),Pe.exit().remove(),Pe.each(function(){var ze=v.ensureSingle(p.select(this),"text","",function(lt){lt.attr("data-notex",1)}),Ze=ue.title.text;ue._meta&&(Ze=v.templateString(Ze,ue._meta)),ze.text(Ze).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(A.font,ue.title.font).call(r.convertToTspans,G);var ct;ue.title.position==="middle center"?ct=B(ee):ct=I(ee,ie),ze.attr("transform",t(ct.x,ct.y)+g(Math.min(1,ct.scale))+t(ct.tx,ct.ty))}),xe&&N(Te,ue),f(ge,ue),xe&&ue.automargin){var Ie=A.bBox(se.node()),Ae=ue.domain,be=ie.w*(Ae.x[1]-Ae.x[0]),_e=ie.h*(Ae.y[1]-Ae.y[0]),Ve=(.5*be-ee.r)/ie.w,We=(.5*_e-ee.r)/ie.h;L.autoMargin(G,"pie."+ue.uid+".automargin",{xl:Ae.x[0]-Ve,xr:Ae.x[1]+Ve,yb:Ae.y[0]-We,yt:Ae.y[1]+We,l:Math.max(ee.cx-ee.r-Ie.left,0),r:Math.max(Ie.right-(ee.cx+ee.r),0),b:Math.max(Ie.bottom-(ee.cy+ee.r),0),t:Math.max(ee.cy-ee.r-Ie.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var $=p.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)}function f(G,V){G.each(function(Z){var ae=p.select(this);if(!Z.labelExtraX&&!Z.labelExtraY){ae.select("path.textline").remove();return}var ie=ae.select("g.slicetext text");Z.transform.targetX+=Z.labelExtraX,Z.transform.targetY+=Z.labelExtraY,v.setTransormAndDisplay(ie,Z.transform);var J=Z.cxFinal+Z.pxmid[0],$=Z.cyFinal+Z.pxmid[1],se="M"+J+","+$,ee=(Z.yLabelMax-Z.yLabelMin)*(Z.pxmid[0]<0?-1:1)/4;if(Z.labelExtraX){var ue=Z.labelExtraX*Z.pxmid[1]/Z.pxmid[0],ge=Z.yLabelMid+Z.labelExtraY-(Z.cyFinal+Z.pxmid[1]);Math.abs(ue)>Math.abs(ge)?se+="l"+ge*Z.pxmid[0]/Z.pxmid[1]+","+ge+"H"+(J+Z.labelExtraX+ee):se+="l"+Z.labelExtraX+","+ue+"v"+(ge-ue)+"h"+ee}else se+="V"+(Z.yLabelMid+Z.labelExtraY)+"h"+ee;v.ensureSingle(ae,"path","textline").call(P.stroke,V.outsidetextfont.color).attr({"stroke-width":Math.min(2,V.outsidetextfont.size/8),d:se,fill:"none"})})}function s(G,V,Z){var ae=Z[0],ie=ae.cx,J=ae.cy,$=ae.trace,se=$.type==="funnelarea";"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),G.on("mouseover",function(ee){var ue=V._fullLayout,ge=V._fullData[$.index];if(!(V._dragging||ue.hovermode===!1)){var Te=ge.hoverinfo;if(Array.isArray(Te)&&(Te=a.castHoverinfo({hoverinfo:[n.castOption(Te,ee.pts)],_module:$._module},ue,0)),Te==="all"&&(Te="label+text+value+percent+name"),ge.hovertemplate||Te!=="none"&&Te!=="skip"&&Te){var xe=ee.rInscribed||0,Pe=ie+ee.pxmid[0]*(1-xe),Ie=J+ee.pxmid[1]*(1-xe),Ae=ue.separators,be=[];if(Te&&Te.indexOf("label")!==-1&&be.push(ee.label),ee.text=n.castOption(ge.hovertext||ge.text,ee.pts),Te&&Te.indexOf("text")!==-1){var _e=ee.text;v.isValidTextValue(_e)&&be.push(_e)}ee.value=ee.v,ee.valueLabel=n.formatPieValue(ee.v,Ae),Te&&Te.indexOf("value")!==-1&&be.push(ee.valueLabel),ee.percent=ee.v/ae.vTotal,ee.percentLabel=n.formatPiePercent(ee.percent,Ae),Te&&Te.indexOf("percent")!==-1&&be.push(ee.percentLabel);var Ve=ge.hoverlabel,We=Ve.font,ze=[];a.loneHover({trace:$,x0:Pe-xe*ae.r,x1:Pe+xe*ae.r,y:Ie,_x0:se?ie+ee.TL[0]:Pe-xe*ae.r,_x1:se?ie+ee.TR[0]:Pe+xe*ae.r,_y0:se?J+ee.TL[1]:Ie-xe*ae.r,_y1:se?J+ee.BL[1]:Ie+xe*ae.r,text:be.join("<br>"),name:ge.hovertemplate||Te.indexOf("name")!==-1?ge.name:void 0,idealAlign:ee.pxmid[0]<0?"left":"right",color:n.castOption(Ve.bgcolor,ee.pts)||ee.color,borderColor:n.castOption(Ve.bordercolor,ee.pts),fontFamily:n.castOption(We.family,ee.pts),fontSize:n.castOption(We.size,ee.pts),fontColor:n.castOption(We.color,ee.pts),nameLength:n.castOption(Ve.namelength,ee.pts),textAlign:n.castOption(Ve.align,ee.pts),hovertemplate:n.castOption(ge.hovertemplate,ee.pts),hovertemplateLabels:ee,eventData:[x(ee,ge)]},{container:ue._hoverlayer.node(),outerContainer:ue._paper.node(),gd:V,inOut_bbox:ze}),ee.bbox=ze[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,V.emit("plotly_hover",{points:[x(ee,ge)],event:p.event})}}),G.on("mouseout",function(ee){var ue=V._fullLayout,ge=V._fullData[$.index],Te=p.select(this).datum();$._hasHoverEvent&&(ee.originalEvent=p.event,V.emit("plotly_unhover",{points:[x(Te,ge)],event:p.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(a.loneUnhover(ue._hoverlayer.node()),$._hasHoverLabel=!1)}),G.on("click",function(ee){var ue=V._fullLayout,ge=V._fullData[$.index];V._dragging||ue.hovermode===!1||(V._hoverdata=[x(ee,ge)],a.click(V,p.event))})}function d(G,V,Z){var ae=n.castOption(G.outsidetextfont.color,V.pts)||n.castOption(G.textfont.color,V.pts)||Z.color,ie=n.castOption(G.outsidetextfont.family,V.pts)||n.castOption(G.textfont.family,V.pts)||Z.family,J=n.castOption(G.outsidetextfont.size,V.pts)||n.castOption(G.textfont.size,V.pts)||Z.size;return{color:ae,family:ie,size:J}}function S(G,V,Z){var ae=n.castOption(G.insidetextfont.color,V.pts);!ae&&G._input.textfont&&(ae=n.castOption(G._input.textfont.color,V.pts));var ie=n.castOption(G.insidetextfont.family,V.pts)||n.castOption(G.textfont.family,V.pts)||Z.family,J=n.castOption(G.insidetextfont.size,V.pts)||n.castOption(G.textfont.size,V.pts)||Z.size;return{color:ae||P.contrast(V.color),family:ie,size:J}}function M(G,V){for(var Z,ae,ie=0;ie<G.length;ie++)if(Z=G[ie][0],ae=Z.trace,ae.title.text){var J=ae.title.text;ae._meta&&(J=v.templateString(J,ae._meta));var $=A.tester.append("text").attr("data-notex",1).text(J).call(A.font,ae.title.font).call(r.convertToTspans,V),se=A.bBox($.node(),!0);Z.titleBox={width:se.width,height:se.height},$.remove()}}function C(G,V,Z){var ae=Z.r||V.rpx1,ie=V.rInscribed,J=V.startangle===V.stopangle;if(J)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var $=V.ring,se=$===1&&Math.abs(V.startangle-V.stopangle)===Math.PI*2,ee=V.halfangle,ue=V.midangle,ge=Z.trace.insidetextorientation,Te=ge==="horizontal",xe=ge==="tangential",Pe=ge==="radial",Ie=ge==="auto",Ae=[],be;if(!Ie){var _e=function(at,tt){if(y(V,at)){var dt=Math.abs(at-V.startangle),wt=Math.abs(at-V.stopangle),Mt=dt<wt?dt:wt;tt==="tan"?be=b(G,ae,$,Mt,0):be=w(G,ae,$,Mt,Math.PI/2),be.textPosAngle=at,Ae.push(be)}},Ve;if(Te||xe){for(Ve=4;Ve>=-4;Ve-=2)_e(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)_e(Math.PI*(Ve+1),"tan")}if(Te||Pe){for(Ve=4;Ve>=-4;Ve-=2)_e(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)_e(Math.PI*(Ve+.5),"rad")}}if(se||Ie||Te){var We=Math.sqrt(G.width*G.width+G.height*G.height);if(be={scale:ie*ae*2/We,rCenter:1-ie,rotate:0},be.textPosAngle=(V.startangle+V.stopangle)/2,be.scale>=1)return be;Ae.push(be)}(Ie||Pe)&&(be=w(G,ae,$,ee,ue),be.textPosAngle=(V.startangle+V.stopangle)/2,Ae.push(be)),(Ie||xe)&&(be=b(G,ae,$,ee,ue),be.textPosAngle=(V.startangle+V.stopangle)/2,Ae.push(be));for(var ze=0,Ze=0,ct=0;ct<Ae.length;ct++){var lt=Ae[ct].scale;if(Ze<lt&&(Ze=lt,ze=ct),!Ie&&Ze>=1)break}return Ae[ze]}function y(G,V){var Z=G.startangle,ae=G.stopangle;return Z>V&&V>ae||Z<V&&V<ae}function w(G,V,Z,ae,ie){V=Math.max(0,V-2*c);var J=G.width/G.height,$=m(J,ae,V,Z);return{scale:$*2/G.height,rCenter:i(J,$/V),rotate:E(ie)}}function b(G,V,Z,ae,ie){V=Math.max(0,V-2*c);var J=G.height/G.width,$=m(J,ae,V,Z);return{scale:$*2/G.width,rCenter:i(J,$/V),rotate:E(ie+Math.PI/2)}}function i(G,V){return Math.cos(V)-G*V}function E(G){return(180/Math.PI*G+720)%180-90}function m(G,V,Z,ae){var ie=G+1/(2*Math.tan(V));return Z*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),ae/(Math.sqrt(G*G+ae/2)+G))}function F(G,V){return G.v===V.vTotal&&!V.trace.hole?1:Math.min(1/(1+1/Math.sin(G.halfangle)),G.ring/2)}function _(G,V){var Z=V.pxmid[0],ae=V.pxmid[1],ie=G.width/2,J=G.height/2;return Z<0&&(ie*=-1),ae<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(J)*(ie>0?1:-1)/2,y:J/(1+Z*Z/(ae*ae)),outside:!0}}function B(G){var V=Math.sqrt(G.titleBox.width*G.titleBox.width+G.titleBox.height*G.titleBox.height);return{x:G.cx,y:G.cy,scale:G.trace.hole*G.r*2/V,tx:0,ty:-G.titleBox.height/2+G.trace.title.font.size}}function I(G,V){var Z=1,ae=1,ie,J=G.trace,$={x:G.cx,y:G.cy},se={tx:0,ty:0};se.ty+=J.title.font.size,ie=k(J),J.title.position.indexOf("top")!==-1?($.y-=(1+ie)*G.r,se.ty-=G.titleBox.height):J.title.position.indexOf("bottom")!==-1&&($.y+=(1+ie)*G.r);var ee=O(G.r,G.trace.aspectratio),ue=V.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(ue=ue+ee,$.x-=(1+ie)*ee,se.tx+=G.titleBox.width/2):J.title.position.indexOf("center")!==-1?ue*=2:J.title.position.indexOf("right")!==-1&&(ue=ue+ee,$.x+=(1+ie)*ee,se.tx-=G.titleBox.width/2),Z=ue/G.titleBox.width,ae=z(G,V)/G.titleBox.height,{x:$.x,y:$.y,scale:Math.min(Z,ae),tx:se.tx,ty:se.ty}}function O(G,V){return G/(V===void 0?1:V)}function z(G,V){var Z=G.trace,ae=V.h*(Z.domain.y[1]-Z.domain.y[0]);return Math.min(G.titleBox.height,ae/2)}function k(G){var V=G.pull;if(!V)return 0;var Z;if(Array.isArray(V))for(V=0,Z=0;Z<G.pull.length;Z++)G.pull[Z]>V&&(V=G.pull[Z]);return V}function N(G,V){var Z,ae,ie,J,$,se,ee,ue,ge,Te,xe,Pe,Ie;function Ae(We,ze){return We.pxmid[1]-ze.pxmid[1]}function be(We,ze){return ze.pxmid[1]-We.pxmid[1]}function _e(We,ze){ze||(ze={});var Ze=ze.labelExtraY+(ae?ze.yLabelMax:ze.yLabelMin),ct=ae?We.yLabelMin:We.yLabelMax,lt=ae?We.yLabelMax:We.yLabelMin,at=We.cyFinal+$(We.px0[1],We.px1[1]),tt=Ze-ct,dt,wt,Mt,It,$e,ke;if(tt*ee>0&&(We.labelExtraY=tt),!!Array.isArray(V.pull))for(wt=0;wt<Te.length;wt++)Mt=Te[wt],!(Mt===We||(n.castOption(V.pull,We.pts)||0)>=(n.castOption(V.pull,Mt.pts)||0))&&((We.pxmid[1]-Mt.pxmid[1])*ee>0?(It=Mt.cyFinal+$(Mt.px0[1],Mt.px1[1]),tt=It-ct-We.labelExtraY,tt*ee>0&&(We.labelExtraY+=tt)):(lt+We.labelExtraY-at)*ee>0&&(dt=3*se*Math.abs(wt-Te.indexOf(We)),$e=Mt.cxFinal+J(Mt.px0[0],Mt.px1[0]),ke=$e+dt-(We.cxFinal+We.pxmid[0])-We.labelExtraX,ke*se>0&&(We.labelExtraX+=ke)))}for(ae=0;ae<2;ae++)for(ie=ae?Ae:be,$=ae?Math.max:Math.min,ee=ae?1:-1,Z=0;Z<2;Z++){for(J=Z?Math.max:Math.min,se=Z?1:-1,ue=G[ae][Z],ue.sort(ie),ge=G[1-ae][Z],Te=ge.concat(ue),Pe=[],xe=0;xe<ue.length;xe++)ue[xe].yLabelMid!==void 0&&Pe.push(ue[xe]);for(Ie=!1,xe=0;ae&&xe<ge.length;xe++)if(ge[xe].yLabelMid!==void 0){Ie=ge[xe];break}for(xe=0;xe<Pe.length;xe++){var Ve=xe&&Pe[xe-1];Ie&&!xe&&(Ve=Ie),_e(Pe[xe],Ve)}}}function K(G,V){for(var Z=[],ae=0;ae<G.length;ae++){var ie=G[ae][0],J=ie.trace,$=J.domain,se=V.w*($.x[1]-$.x[0]),ee=V.h*($.y[1]-$.y[0]);J.title.text&&J.title.position!=="middle center"&&(ee-=z(ie,V));var ue=se/2,ge=ee/2;J.type==="funnelarea"&&!J.scalegroup&&(ge/=J.aspectratio),ie.r=Math.min(ue,ge)/(1+k(J)),ie.cx=V.l+V.w*(J.domain.x[1]+J.domain.x[0])/2,ie.cy=V.t+V.h*(1-J.domain.y[0])-ee/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(ie.cy-=z(ie,V)),J.scalegroup&&Z.indexOf(J.scalegroup)===-1&&Z.push(J.scalegroup)}q(G,Z)}function q(G,V){for(var Z,ae,ie,J=0;J<V.length;J++){var $=1/0,se=V[J];for(ae=0;ae<G.length;ae++)if(Z=G[ae][0],ie=Z.trace,ie.scalegroup===se){var ee;if(ie.type==="pie")ee=Z.r*Z.r;else if(ie.type==="funnelarea"){var ue,ge;ie.aspectratio>1?(ue=Z.r,ge=ue/ie.aspectratio):(ge=Z.r,ue=ge*ie.aspectratio),ue*=(1+ie.baseratio)/2,ee=ue*ge}$=Math.min($,ee/Z.vTotal)}for(ae=0;ae<G.length;ae++)if(Z=G[ae][0],ie=Z.trace,ie.scalegroup===se){var Te=$*Z.vTotal;ie.type==="funnelarea"&&(Te/=(1+ie.baseratio)/2,Te/=ie.aspectratio),Z.r=Math.sqrt(Te)}}}function Q(G){var V=G[0],Z=V.r,ae=V.trace,ie=n.getRotationAngle(ae.rotation),J=2*Math.PI/V.vTotal,$="px0",se="px1",ee,ue,ge;if(ae.direction==="counterclockwise"){for(ee=0;ee<G.length&&G[ee].hidden;ee++);if(ee===G.length)return;ie+=J*G[ee].v,J*=-1,$="px1",se="px0"}for(ge=re(Z,ie),ee=0;ee<G.length;ee++)ue=G[ee],!ue.hidden&&(ue[$]=ge,ue.startangle=ie,ie+=J*ue.v/2,ue.pxmid=re(Z,ie),ue.midangle=ie,ie+=J*ue.v/2,ge=re(Z,ie),ue.stopangle=ie,ue[se]=ge,ue.largeArc=ue.v>V.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/V.vTotal,.5),ue.ring=1-ae.hole,ue.rInscribed=F(ue,V))}function re(G,V){return[G*Math.sin(V),-G*Math.cos(V)]}function oe(G,V,Z){var ae=G._fullLayout,ie=Z.trace,J=ie.texttemplate,$=ie.textinfo;if(!J&&$&&$!=="none"){var se=$.split("+"),ee=function(ze){return se.indexOf(ze)!==-1},ue=ee("label"),ge=ee("text"),Te=ee("value"),xe=ee("percent"),Pe=ae.separators,Ie;if(Ie=ue?[V.label]:[],ge){var Ae=n.getFirstFilled(ie.text,V.pts);h(Ae)&&Ie.push(Ae)}Te&&Ie.push(n.formatPieValue(V.v,Pe)),xe&&Ie.push(n.formatPiePercent(V.v/Z.vTotal,Pe)),V.text=Ie.join("<br>")}function be(ze){return{label:ze.label,value:ze.v,valueLabel:n.formatPieValue(ze.v,ae.separators),percent:ze.v/Z.vTotal,percentLabel:n.formatPiePercent(ze.v/Z.vTotal,ae.separators),color:ze.color,text:ze.text,customdata:v.castOption(ie,ze.i,"customdata")}}if(J){var _e=v.castOption(ie,V.i,"texttemplate");if(!_e)V.text="";else{var Ve=be(V),We=n.getFirstFilled(ie.text,V.pts);(h(We)||We==="")&&(Ve.text=We),V.text=v.texttemplateString(_e,Ve,G._fullLayout._d3locale,Ve,ie._meta||{})}}}function Y(G,V){var Z=G.rotate*Math.PI/180,ae=Math.cos(Z),ie=Math.sin(Z),J=(V.left+V.right)/2,$=(V.top+V.bottom)/2;G.textX=J*ae-$*ie,G.textY=J*ie+$*ae,G.noCenter=!0}W.exports={plot:T,formatSliceLabel:oe,transformInsideText:C,determineInsideTextFont:S,positionTitleOutside:I,prerenderTitles:M,layoutAreas:K,attachFxHandlers:s,computeTransform:Y}},68357:function(W,U,e){var p=e(39898),L=e(63463),a=e(72597).resizeText;W.exports=function(A){var v=A._fullLayout._pielayer.selectAll(".trace");a(A,v,"pie"),v.each(function(g){var t=g[0],r=t.trace,u=p.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(o){p.select(this).call(L,o,r)})})}},63463:function(W,U,e){var p=e(7901),L=e(53581).castOption;W.exports=function(P,A,v){var g=v.marker.line,t=L(g.color,A.pts)||p.defaultLine,r=L(g.width,A.pts)||0;P.style("stroke-width",r).call(p.fill,A.color).call(p.stroke,t)}},10959:function(W,U,e){var p=e(82196);W.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(W,U,e){var p=e(9330).gl_pointcloud2d,L=e(78614),a=e(71739).findExtremes,P=e(34603);function A(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=A.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=P(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,o=this.pickXYData=t.xy,l=t.xbounds&&t.ybounds,c=t.indices,n,x,h,T=this.bounds,f,s,d;if(o){if(h=o,n=o.length>>>1,l)T[0]=t.xbounds[0],T[2]=t.xbounds[1],T[1]=t.ybounds[0],T[3]=t.ybounds[1];else for(d=0;d<n;d++)f=h[d*2],s=h[d*2+1],f<T[0]&&(T[0]=f),f>T[2]&&(T[2]=f),s<T[1]&&(T[1]=s),s>T[3]&&(T[3]=s);if(c)x=c;else for(x=new Int32Array(n),d=0;d<n;d++)x[d]=d}else for(n=r.length,h=new Float32Array(2*n),x=new Int32Array(n),d=0;d<n;d++)f=r[d],s=u[d],x[d]=d,h[d*2]=f,h[d*2+1]=s,f<T[0]&&(T[0]=f),f>T[2]&&(T[2]=f),s<T[1]&&(T[1]=s),s>T[3]&&(T[3]=s);this.idToIndex=x,this.pointcloudOptions.idToIndex=x,this.pointcloudOptions.positions=h;var S=L(t.marker.color),M=L(t.marker.border.color),C=t.opacity*t.marker.opacity;S[3]*=C,this.pointcloudOptions.color=S;var y=t.marker.blend;if(y===null){var w=100;y=r.length<w||u.length<w}this.pointcloudOptions.blend=y,M[3]*=C,this.pointcloudOptions.borderColor=M;var b=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,m=this.scene.yaxis,F=i/2||.5;t._extremes[E._id]=a(E,[T[0],T[2]],{ppad:F}),t._extremes[m._id]=a(m,[T[1],T[3]],{ppad:F})},v.dispose=function(){this.pointcloud.dispose()};function g(t,r){var u=new A(t,r.uid);return u.update(r),u}W.exports=g},33876:function(W,U,e){var p=e(71828),L=e(10959);W.exports=function(P,A,v){function g(t,r){return p.coerce(P,A,L,t,r)}g("x"),g("y"),g("xbounds"),g("ybounds"),P.xy&&P.xy instanceof Float32Array&&(A.xy=P.xy),P.indices&&P.indices instanceof Int32Array&&(A.indices=P.indices),g("text"),g("marker.color",v),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",v),g("marker.border.arearatio"),A._length=null}},20593:function(W,U,e){W.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(W,U,e){var p=e(41940),L=e(9012),a=e(22399),P=e(77914),A=e(27670).Y,v=e(5386).f,g=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,u=e(1426).extendFlat,o=e(30962).overrideAll,l=W.exports=o({hoverinfo:u({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:P.hoverlabel,domain:A({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:u(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},75536:function(W,U,e){var p=e(30962).overrideAll,L=e(27659).a0,a=e(60436),P=e(528),A=e(6964),v=e(28569),g=e(47322).prepSelect,t=e(71828),r=e(73972),u="sankey";U.name=u,U.baseLayoutAttrOverrides=p({hoverlabel:P.hoverlabel},"plot","nested"),U.plot=function(l){var c=L(l.calcdata,u)[0];a(l,c),U.updateFx(l)},U.clean=function(l,c,n,x){var h=x._has&&x._has(u),T=c._has&&c._has(u);h&&!T&&(x._paperdiv.selectAll(".sankey").remove(),x._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(l){for(var c=0;c<l._fullData.length;c++)o(l,c)};function o(l,c){var n=l._fullData[c],x=l._fullLayout,h=x.dragmode,T=x.dragmode==="pan"?"move":"crosshair",f=n._bgRect;if(f&&!(h==="pan"||h==="zoom")){A(f,T);var s={_id:"x",c2p:t.identity,_offset:n._sankey.translateX,_length:n._sankey.width},d={_id:"y",c2p:t.identity,_offset:n._sankey.translateY,_length:n._sankey.height},S={gd:l,element:f.node(),plotinfo:{id:c,xaxis:s,yaxis:d,fillRangeItems:t.noop},subplot:c,xaxes:[s],yaxes:[d],doneFnCompleted:function(M){var C=l._fullData[c],y,w=C.node.groups.slice(),b=[];function i(_){for(var B=C._sankey.graph.nodes,I=0;I<B.length;I++)if(B[I].pointNumber===_)return B[I]}for(var E=0;E<M.length;E++){var m=i(M[E].pointNumber);if(m)if(m.group){for(var F=0;F<m.childrenNodes.length;F++)b.push(m.childrenNodes[F].pointNumber);w[m.pointNumber-C.node._count]=!1}else b.push(m.pointNumber)}y=w.filter(Boolean).concat([b]),r.call("_guiRestyle",l,{"node.groups":[y]},c)}};S.prepFn=function(M,C,y){g(M,C,y,S,h)},v.init(S)}}},92930:function(W,U,e){var p=e(68664),L=e(71828),a=e(28984).wrap,P=L.isArrayOrTypedArray,A=L.isIndex,v=e(21081);function g(r){var u=r.node,o=r.link,l=[],c=P(o.color),n=P(o.customdata),x={},h={},T=o.colorscales.length,f;for(f=0;f<T;f++){var s=o.colorscales[f],d=v.extractScale(s,{cLetter:"c"}),S=v.makeColorScaleFunc(d);h[s.label]=S}var M=0;for(f=0;f<o.value.length;f++)o.source[f]>M&&(M=o.source[f]),o.target[f]>M&&(M=o.target[f]);var C=M+1;r.node._count=C;var y,w=r.node.groups,b={};for(f=0;f<w.length;f++){var i=w[f];for(y=0;y<i.length;y++){var E=i[y],m=C+f;b.hasOwnProperty(E)?L.warn("Node "+E+" is already part of a group."):b[E]=m}}var F={source:[],target:[]};for(f=0;f<o.value.length;f++){var _=o.value[f],B=o.source[f],I=o.target[f];if(_>0&&A(B,C)&&A(I,C)&&!(b.hasOwnProperty(B)&&b.hasOwnProperty(I)&&b[B]===b[I])){b.hasOwnProperty(I)&&(I=b[I]),b.hasOwnProperty(B)&&(B=b[B]),B=+B,I=+I,x[B]=x[I]=!0;var O="";o.label&&o.label[f]&&(O=o.label[f]);var z=null;O&&h.hasOwnProperty(O)&&(z=h[O]),l.push({pointNumber:f,label:O,color:c?o.color[f]:o.color,customdata:n?o.customdata[f]:o.customdata,concentrationscale:z,source:B,target:I,value:+_}),F.source.push(B),F.target.push(I)}}var k=C+w.length,N=P(u.color),K=P(u.customdata),q=[];for(f=0;f<k;f++)if(x[f]){var Q=u.label[f];q.push({group:f>C-1,childrenNodes:[],pointNumber:f,label:Q,color:N?u.color[f]:u.color,customdata:K?u.customdata[f]:u.customdata})}var re=!1;return t(k,F.source,F.target)&&(re=!0),{circular:re,links:l,nodes:q,groups:w,groupLookup:b}}function t(r,u,o){for(var l=L.init2dArray(r,0),c=0;c<Math.min(u.length,o.length);c++)if(L.isIndex(u[c],r)&&L.isIndex(o[c],r)){if(u[c]===o[c])return!0;l[u[c]].push(o[c])}var n=p(l);return n.components.some(function(x){return x.length>1})}W.exports=function(u,o){var l=g(o);return a({circular:l.circular,_nodes:l.nodes,_links:l.links,_groups:l.groups,_groupLookup:l.groupLookup})}},85247:function(W){W.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(W,U,e){var p=e(71828),L=e(39953),a=e(7901),P=e(84267),A=e(27670).c,v=e(38048),g=e(44467),t=e(85501);W.exports=function(o,l,c,n){function x(i,E){return p.coerce(o,l,L,i,E)}var h=p.extendDeep(n.hoverlabel,o.hoverlabel),T=o.node,f=g.newContainer(l,"node");function s(i,E){return p.coerce(T,f,L.node,i,E)}s("label"),s("groups"),s("x"),s("y"),s("pad"),s("thickness"),s("line.color"),s("line.width"),s("hoverinfo",o.hoverinfo),v(T,f,s,h),s("hovertemplate");var d=n.colorway,S=function(i){return d[i%d.length]};s("color",f.label.map(function(i,E){return a.addOpacity(S(E),.8)})),s("customdata");var M=o.link||{},C=g.newContainer(l,"link");function y(i,E){return p.coerce(M,C,L.link,i,E)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",o.hoverinfo),v(M,C,y,h),y("hovertemplate");var w=P(n.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";y("color",p.repeat(w,C.value.length)),y("customdata"),t(M,C,{name:"colorscales",handleItemDefaults:r}),A(l,n,x),x("orientation"),x("valueformat"),x("valuesuffix");var b;f.x.length&&f.y.length&&(b="freeform"),x("arrangement",b),p.coerceFont(x,"textfont",p.extendFlat({},n.font)),l._length=null};function r(u,o){function l(c,n){return p.coerce(u,o,L.link.colorscales,c,n)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},29396:function(W,U,e){W.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(W,U,e){var p=e(39898),L=e(71828),a=L.numberFormat,P=e(3393),A=e(30211),v=e(7901),g=e(85247).cn,t=L._;function r(d){return d!==""}function u(d,S){return d.filter(function(M){return M.key===S.traceId})}function o(d,S){p.select(d).select("path").style("fill-opacity",S),p.select(d).select("rect").style("fill-opacity",S)}function l(d){p.select(d).select("text.name").style("fill","black")}function c(d){return function(S){return d.node.sourceLinks.indexOf(S.link)!==-1||d.node.targetLinks.indexOf(S.link)!==-1}}function n(d){return function(S){return S.node.sourceLinks.indexOf(d.link)!==-1||S.node.targetLinks.indexOf(d.link)!==-1}}function x(d,S,M){S&&M&&u(M,S).selectAll("."+g.sankeyLink).filter(c(S)).call(T.bind(0,S,M,!1))}function h(d,S,M){S&&M&&u(M,S).selectAll("."+g.sankeyLink).filter(c(S)).call(f.bind(0,S,M,!1))}function T(d,S,M,C){var y=C.datum().link.label;C.style("fill-opacity",function(w){if(!w.link.concentrationscale)return .4}),y&&u(S,d).selectAll("."+g.sankeyLink).filter(function(w){return w.link.label===y}).style("fill-opacity",function(w){if(!w.link.concentrationscale)return .4}),M&&u(S,d).selectAll("."+g.sankeyNode).filter(n(d)).call(x)}function f(d,S,M,C){var y=C.datum().link.label;C.style("fill-opacity",function(w){return w.tinyColorAlpha}),y&&u(S,d).selectAll("."+g.sankeyLink).filter(function(w){return w.link.label===y}).style("fill-opacity",function(w){return w.tinyColorAlpha}),M&&u(S,d).selectAll(g.sankeyNode).filter(n(d)).call(h)}function s(d,S){var M=d.hoverlabel||{},C=L.nestedProperty(M,S).get();return Array.isArray(C)?!1:C}W.exports=function(S,M){for(var C=S._fullLayout,y=C._paper,w=C._size,b=0;b<S._fullData.length;b++)if(S._fullData[b].visible&&S._fullData[b].type===g.sankey&&!S._fullData[b]._viewInitial){var i=S._fullData[b].node;S._fullData[b]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var E=function(re,oe){var Y=oe.link;Y.originalEvent=p.event,S._hoverdata=[Y],A.click(S,{target:!0})},m=function(re,oe,Y){S._fullLayout.hovermode!==!1&&(p.select(re).call(T.bind(0,oe,Y,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,S.emit("plotly_hover",{event:p.event,points:[oe.link]})))},F=t(S,"source:")+" ",_=t(S,"target:")+" ",B=t(S,"concentration:")+" ",I=t(S,"incoming flow count:")+" ",O=t(S,"outgoing flow count:")+" ",z=function(re,oe){if(S._fullLayout.hovermode===!1)return;var Y=oe.link.trace.link;if(Y.hoverinfo==="none"||Y.hoverinfo==="skip")return;var G=[];function V(ee){var ue,ge;ee.circular?(ue=(ee.circularPathData.leftInnerExtent+ee.circularPathData.rightInnerExtent)/2,ge=ee.circularPathData.verticalFullExtent):(ue=(ee.source.x1+ee.target.x0)/2,ge=(ee.y0+ee.y1)/2);var Te=[ue,ge];return ee.trace.orientation==="v"&&Te.reverse(),Te[0]+=oe.parent.translateX,Te[1]+=oe.parent.translateY,Te}for(var Z=0,ae=0;ae<oe.flow.links.length;ae++){var ie=oe.flow.links[ae];if(!(S._fullLayout.hovermode==="closest"&&oe.link.pointNumber!==ie.pointNumber)){oe.link.pointNumber===ie.pointNumber&&(Z=ae),ie.fullData=ie.trace,Y=oe.link.trace.link;var J=V(ie),$={valueLabel:a(oe.valueFormat)(ie.value)+oe.valueSuffix};G.push({x:J[0],y:J[1],name:$.valueLabel,text:[ie.label||"",F+ie.source.label,_+ie.target.label,ie.concentrationscale?B+a("%0.2f")(ie.flow.labelConcentration):""].filter(r).join("<br>"),color:s(Y,"bgcolor")||v.addOpacity(ie.color,1),borderColor:s(Y,"bordercolor"),fontFamily:s(Y,"font.family"),fontSize:s(Y,"font.size"),fontColor:s(Y,"font.color"),nameLength:s(Y,"namelength"),textAlign:s(Y,"align"),idealAlign:p.event.x<J[0]?"right":"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:$,eventData:[ie]})}}var se=A.loneHover(G,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:S,anchorIndex:Z});se.each(function(){var ee=this;oe.link.concentrationscale||o(ee,.65),l(ee)})},k=function(re,oe,Y){S._fullLayout.hovermode!==!1&&(p.select(re).call(f.bind(0,oe,Y,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,S.emit("plotly_unhover",{event:p.event,points:[oe.link]})),A.loneUnhover(C._hoverlayer.node()))},N=function(re,oe,Y){var G=oe.node;G.originalEvent=p.event,S._hoverdata=[G],p.select(re).call(h,oe,Y),A.click(S,{target:!0})},K=function(re,oe,Y){S._fullLayout.hovermode!==!1&&(p.select(re).call(x,oe,Y),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,S.emit("plotly_hover",{event:p.event,points:[oe.node]})))},q=function(re,oe){if(S._fullLayout.hovermode!==!1){var Y=oe.node.trace.node;if(!(Y.hoverinfo==="none"||Y.hoverinfo==="skip")){var G=p.select(re).select("."+g.nodeRect),V=S._fullLayout._paperdiv.node().getBoundingClientRect(),Z=G.node().getBoundingClientRect(),ae=Z.left-2-V.left,ie=Z.right+2-V.left,J=Z.top+Z.height/4-V.top,$={valueLabel:a(oe.valueFormat)(oe.node.value)+oe.valueSuffix};oe.node.fullData=oe.node.trace,S._fullLayout._calcInverseTransform(S);var se=S._fullLayout._invScaleX,ee=S._fullLayout._invScaleY,ue=A.loneHover({x0:se*ae,x1:se*ie,y:ee*J,name:a(oe.valueFormat)(oe.node.value)+oe.valueSuffix,text:[oe.node.label,I+oe.node.targetLinks.length,O+oe.node.sourceLinks.length].filter(r).join("<br>"),color:s(Y,"bgcolor")||oe.tinyColorHue,borderColor:s(Y,"bordercolor"),fontFamily:s(Y,"font.family"),fontSize:s(Y,"font.size"),fontColor:s(Y,"font.color"),nameLength:s(Y,"namelength"),textAlign:s(Y,"align"),idealAlign:"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:$,eventData:[oe.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:S});o(ue,.85),l(ue)}}},Q=function(re,oe,Y){S._fullLayout.hovermode!==!1&&(p.select(re).call(h,oe,Y),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,S.emit("plotly_unhover",{event:p.event,points:[oe.node]})),A.loneUnhover(C._hoverlayer.node()))};P(S,y,M,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{linkEvents:{hover:m,follow:z,unhover:k,select:E},nodeEvents:{hover:K,follow:q,unhover:Q,select:N}})}},3393:function(W,U,e){var p=e(49887),L=e(29502).k4,a=e(39898),P=e(30838),A=e(86781),v=e(85247),g=e(84267),t=e(7901),r=e(91424),u=e(71828),o=u.strTranslate,l=u.strRotate,c=e(28984),n=c.keyFun,x=c.repeat,h=c.unwrap,T=e(63893),f=e(73972),s=e(18783),d=s.CAP_SHIFT,S=s.LINE_SPACING,M=3;function C(V,Z,ae){var ie=h(Z),J=ie.trace,$=J.domain,se=J.orientation==="h",ee=J.node.pad,ue=J.node.thickness,ge=V.width*($.x[1]-$.x[0]),Te=V.height*($.y[1]-$.y[0]),xe=ie._nodes,Pe=ie._links,Ie=ie.circular,Ae;Ie?Ae=A.sankeyCircular().circularLinkGap(0):Ae=P.sankey(),Ae.iterations(v.sankeyIterations).size(se?[ge,Te]:[Te,ge]).nodeWidth(ue).nodePadding(ee).nodeId(function($e){return $e.pointNumber}).nodes(xe).links(Pe);var be=Ae();Ae.nodePadding()<ee&&u.warn("node.pad was reduced to ",Ae.nodePadding()," to fit within the figure.");var _e,Ve,We;for(var ze in ie._groupLookup){var Ze=parseInt(ie._groupLookup[ze]),ct;for(_e=0;_e<be.nodes.length;_e++)if(be.nodes[_e].pointNumber===Ze){ct=be.nodes[_e];break}if(ct){var lt={pointNumber:parseInt(ze),x0:ct.x0,x1:ct.x1,y0:ct.y0,y1:ct.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};be.nodes.unshift(lt),ct.childrenNodes.unshift(lt)}}function at(){for(_e=0;_e<be.nodes.length;_e++){var $e=be.nodes[_e],ke={},Fe,qe;for(Ve=0;Ve<$e.targetLinks.length;Ve++)qe=$e.targetLinks[Ve],Fe=qe.source.pointNumber+":"+qe.target.pointNumber,ke.hasOwnProperty(Fe)||(ke[Fe]=[]),ke[Fe].push(qe);var it=Object.keys(ke);for(Ve=0;Ve<it.length;Ve++){Fe=it[Ve];var Je=ke[Fe],Re=0,Me={};for(We=0;We<Je.length;We++)qe=Je[We],Me[qe.label]||(Me[qe.label]=0),Me[qe.label]+=qe.value,Re+=qe.value;for(We=0;We<Je.length;We++)qe=Je[We],qe.flow={value:Re,labelConcentration:Me[qe.label]/Re,concentration:qe.value/Re,links:Je},qe.concentrationscale&&(qe.color=g(qe.concentrationscale(qe.flow.labelConcentration)))}var fe=0;for(Ve=0;Ve<$e.sourceLinks.length;Ve++)fe+=$e.sourceLinks[Ve].value;for(Ve=0;Ve<$e.sourceLinks.length;Ve++)qe=$e.sourceLinks[Ve],qe.concentrationOut=qe.value/fe;var ye=0;for(Ve=0;Ve<$e.targetLinks.length;Ve++)ye+=$e.targetLinks[Ve].value;for(Ve=0;Ve<$e.targetLinks.length;Ve++)qe=$e.targetLinks[Ve],qe.concenrationIn=qe.value/ye}}at();function tt($e){$e.forEach(function(ke){var Fe,qe,it=0,Je=ke.length,Re;for(ke.sort(function(Me,fe){return Me.y0-fe.y0}),Re=0;Re<Je;++Re)Fe=ke[Re],Fe.y0>=it||(qe=it-Fe.y0,qe>1e-6&&(Fe.y0+=qe,Fe.y1+=qe)),it=Fe.y1+ee})}function dt($e){var ke=$e.map(function(fe,ye){return{x0:fe.x0,index:ye}}).sort(function(fe,ye){return fe.x0-ye.x0}),Fe=[],qe=-1,it,Je=-1/0,Re;for(_e=0;_e<ke.length;_e++){var Me=$e[ke[_e].index];Me.x0>Je+ue&&(qe+=1,it=Me.x0),Je=Me.x0,Fe[qe]||(Fe[qe]=[]),Fe[qe].push(Me),Re=it-Me.x0,Me.x0+=Re,Me.x1+=Re}return Fe}if(J.node.x.length&&J.node.y.length){for(_e=0;_e<Math.min(J.node.x.length,J.node.y.length,be.nodes.length);_e++)if(J.node.x[_e]&&J.node.y[_e]){var wt=[J.node.x[_e]*ge,J.node.y[_e]*Te];be.nodes[_e].x0=wt[0]-ue/2,be.nodes[_e].x1=wt[0]+ue/2;var Mt=be.nodes[_e].y1-be.nodes[_e].y0;be.nodes[_e].y0=wt[1]-Mt/2,be.nodes[_e].y1=wt[1]+Mt/2}if(J.arrangement==="snap"){xe=be.nodes;var It=dt(xe);tt(It)}Ae.update(be)}return{circular:Ie,key:ae,trace:J,guid:u.randstr(),horizontal:se,width:ge,height:Te,nodePad:J.node.pad,nodeLineColor:J.node.line.color,nodeLineWidth:J.node.line.width,linkLineColor:J.link.line.color,linkLineWidth:J.link.line.width,linkArrowLength:J.link.arrowlen,valueFormat:J.valueformat,valueSuffix:J.valuesuffix,textFont:J.textfont,translateX:$.x[0]*V.width+V.margin.l,translateY:V.height-$.y[1]*V.height+V.margin.t,dragParallel:se?Te:ge,dragPerpendicular:se?ge:Te,arrangement:J.arrangement,sankey:Ae,graph:be,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(V,Z,ae){var ie=g(Z.color),J=Z.source.label+"|"+Z.target.label,$=J+"__"+ae;return Z.trace=V.trace,Z.curveNumber=V.trace.index,{circular:V.circular,key:$,traceId:V.key,pointNumber:Z.pointNumber,link:Z,tinyColorHue:t.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),linkPath:b,linkLineColor:V.linkLineColor,linkLineWidth:V.linkLineWidth,linkArrowLength:V.linkArrowLength,valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,parent:V,interactionState:V.interactionState,flow:Z.flow}}function w(V,Z){var ae="",ie=V.width/2,J=V.circularPathData;return V.circularLinkType==="top"?ae="M "+(J.targetX-Z)+" "+(J.targetY+ie)+" L"+(J.rightInnerExtent-Z)+" "+(J.targetY+ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 1 "+(J.rightFullExtent-ie-Z)+" "+(J.targetY-J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-Z)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 1 "+(J.rightInnerExtent-Z)+" "+(J.verticalFullExtent-ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 1 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.leftInnerExtent+" "+(J.sourceY-ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 0 "+(J.leftFullExtent-ie)+" "+(J.sourceY-J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"L"+(J.rightInnerExtent-Z)+" "+(J.verticalFullExtent+ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 0 "+(J.rightFullExtent+ie-Z)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-Z)+" "+(J.targetY-J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 0 "+(J.rightInnerExtent-Z)+" "+(J.targetY-ie)+"L"+(J.targetX-Z)+" "+(J.targetY-ie)+(Z>0?"L"+J.targetX+" "+J.targetY:"")+"Z":ae="M "+(J.targetX-Z)+" "+(J.targetY-ie)+" L"+(J.rightInnerExtent-Z)+" "+(J.targetY-ie)+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightSmallArcRadius+ie)+" 0 0 0 "+(J.rightFullExtent-ie-Z)+" "+(J.targetY+J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ie-Z)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ie)+" "+(J.rightLargeArcRadius+ie)+" 0 0 0 "+(J.rightInnerExtent-Z)+" "+(J.verticalFullExtent+ie)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent+ie)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftLargeArcRadius+ie)+" 0 0 0 "+(J.leftFullExtent+ie)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ie)+" "+(J.leftSmallArcRadius+ie)+" 0 0 0 "+J.leftInnerExtent+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY-ie)+"L"+J.sourceX+" "+(J.sourceY+ie)+"L"+J.leftInnerExtent+" "+(J.sourceY+ie)+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftSmallArcRadius-ie)+" 0 0 1 "+(J.leftFullExtent-ie)+" "+(J.sourceY+J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ie)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ie)+" "+(J.leftLargeArcRadius-ie)+" 0 0 1 "+J.leftInnerExtent+" "+(J.verticalFullExtent-ie)+"L"+(J.rightInnerExtent-Z)+" "+(J.verticalFullExtent-ie)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightLargeArcRadius-ie)+" 0 0 1 "+(J.rightFullExtent+ie-Z)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ie-Z)+" "+(J.targetY+J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ie)+" "+(J.rightSmallArcRadius-ie)+" 0 0 1 "+(J.rightInnerExtent-Z)+" "+(J.targetY+ie)+"L"+(J.targetX-Z)+" "+(J.targetY+ie)+(Z>0?"L"+J.targetX+" "+J.targetY:"")+"Z",ae}function b(){var V=.5;function Z(ae){var ie=ae.linkArrowLength;if(ae.link.circular)return w(ae.link,ie);var J=Math.abs((ae.link.target.x0-ae.link.source.x1)/2);ie>J&&(ie=J);var $=ae.link.source.x1,se=ae.link.target.x0-ie,ee=L($,se),ue=ee(V),ge=ee(1-V),Te=ae.link.y0-ae.link.width/2,xe=ae.link.y0+ae.link.width/2,Pe=ae.link.y1-ae.link.width/2,Ie=ae.link.y1+ae.link.width/2,Ae="M"+$+","+Te,be="C"+ue+","+Te+" "+ge+","+Pe+" "+se+","+Pe,_e="C"+ge+","+Ie+" "+ue+","+xe+" "+$+","+xe,Ve=ie>0?"L"+(se+ie)+","+(Pe+ae.link.width/2):"";return Ve+="L"+se+","+Ie,Ae+be+Ve+_e+"Z"}return Z}function i(V,Z){var ae=g(Z.color),ie=v.nodePadAcross,J=V.nodePad/2;Z.dx=Z.x1-Z.x0,Z.dy=Z.y1-Z.y0;var $=Z.dx,se=Math.max(.5,Z.dy),ee="node_"+Z.pointNumber;return Z.group&&(ee=u.randstr()),Z.trace=V.trace,Z.curveNumber=V.trace.index,{index:Z.pointNumber,key:ee,partOfGroup:Z.partOfGroup||!1,group:Z.group,traceId:V.key,trace:V.trace,node:Z,nodePad:V.nodePad,nodeLineColor:V.nodeLineColor,nodeLineWidth:V.nodeLineWidth,textFont:V.textFont,size:V.horizontal?V.height:V.width,visibleWidth:Math.ceil($),visibleHeight:se,zoneX:-ie,zoneY:-J,zoneWidth:$+2*ie,zoneHeight:se+2*J,labelY:V.horizontal?Z.dy/2+1:Z.dx/2+1,left:Z.originalLayer===1,sizeAcross:V.width,forceLayouts:V.forceLayouts,horizontal:V.horizontal,darkBackground:ae.getBrightness()<=128,tinyColorHue:t.tinyRGB(ae),tinyColorAlpha:ae.getAlpha(),valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,graph:V.graph,arrangement:V.arrangement,uniqueNodeLabelPathId:[V.guid,V.key,ee].join("_"),interactionState:V.interactionState,figure:V}}function E(V){V.attr("transform",function(Z){return o(Z.node.x0.toFixed(3),Z.node.y0.toFixed(3))})}function m(V){V.call(E)}function F(V,Z){V.call(m),Z.attr("d",b())}function _(V){V.attr("width",function(Z){return Z.node.x1-Z.node.x0}).attr("height",function(Z){return Z.visibleHeight})}function B(V){return V.link.width>1||V.linkLineWidth>0}function I(V){var Z=o(V.translateX,V.translateY);return Z+(V.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(V,Z,ae){V.on(".basic",null).on("mouseover.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(ae.hover(this,ie,Z),ie.interactionState.hovered=[this,ie])}).on("mousemove.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(ae.follow(this,ie),ie.interactionState.hovered=[this,ie])}).on("mouseout.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(ae.unhover(this,ie,Z),ie.interactionState.hovered=!1)}).on("click.basic",function(ie){ie.interactionState.hovered&&(ae.unhover(this,ie,Z),ie.interactionState.hovered=!1),!ie.interactionState.dragInProgress&&!ie.partOfGroup&&ae.select(this,ie,Z)})}function z(V,Z,ae,ie){var J=a.behavior.drag().origin(function($){return{x:$.node.x0+$.visibleWidth/2,y:$.node.y0+$.visibleHeight/2}}).on("dragstart",function($){if($.arrangement!=="fixed"&&(u.ensureSingle(ie._fullLayout._infolayer,"g","dragcover",function(ee){ie._fullLayout._dragCover=ee}),u.raiseToTop(this),$.interactionState.dragInProgress=$.node,re($.node),$.interactionState.hovered&&(ae.nodeEvents.unhover.apply(0,$.interactionState.hovered),$.interactionState.hovered=!1),$.arrangement==="snap")){var se=$.traceId+"|"+$.key;$.forceLayouts[se]?$.forceLayouts[se].alpha(1):k(V,se,$),N(V,Z,$,se,ie)}}).on("drag",function($){if($.arrangement!=="fixed"){var se=a.event.x,ee=a.event.y;$.arrangement==="snap"?($.node.x0=se-$.visibleWidth/2,$.node.x1=se+$.visibleWidth/2,$.node.y0=ee-$.visibleHeight/2,$.node.y1=ee+$.visibleHeight/2):($.arrangement==="freeform"&&($.node.x0=se-$.visibleWidth/2,$.node.x1=se+$.visibleWidth/2),ee=Math.max(0,Math.min($.size-$.visibleHeight/2,ee)),$.node.y0=ee-$.visibleHeight/2,$.node.y1=ee+$.visibleHeight/2),re($.node),$.arrangement!=="snap"&&($.sankey.update($.graph),F(V.filter(oe($)),Z))}}).on("dragend",function($){if($.arrangement!=="fixed"){$.interactionState.dragInProgress=!1;for(var se=0;se<$.node.childrenNodes.length;se++)$.node.childrenNodes[se].x=$.node.x,$.node.childrenNodes[se].y=$.node.y;$.arrangement!=="snap"&&q($,ie)}});V.on(".drag",null).call(J)}function k(V,Z,ae,ie){Y(ae.graph.nodes);var J=ae.graph.nodes.filter(function($){return $.originalX===ae.node.originalX}).filter(function($){return!$.partOfGroup});ae.forceLayouts[Z]=p.forceSimulation(J).alphaDecay(0).force("collide",p.forceCollide().radius(function($){return $.dy/2+ae.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",K(V,Z,J,ae)).stop()}function N(V,Z,ae,ie,J){window.requestAnimationFrame(function $(){var se;for(se=0;se<v.forceTicksPerFrame;se++)ae.forceLayouts[ie].tick();var ee=ae.graph.nodes;if(G(ee),ae.sankey.update(ae.graph),F(V.filter(oe(ae)),Z),ae.forceLayouts[ie].alpha()>0)window.requestAnimationFrame($);else{var ue=ae.node.originalX;ae.node.x0=ue-ae.visibleWidth/2,ae.node.x1=ue+ae.visibleWidth/2,q(ae,J)}})}function K(V,Z,ae,ie){return function(){for(var $=0,se=0;se<ae.length;se++){var ee=ae[se];ee===ie.interactionState.dragInProgress?(ee.x=ee.lastDraggedX,ee.y=ee.lastDraggedY):(ee.vx=(ee.originalX-ee.x)/v.forceTicksPerFrame,ee.y=Math.min(ie.size-ee.dy/2,Math.max(ee.dy/2,ee.y))),$=Math.max($,Math.abs(ee.vx),Math.abs(ee.vy))}!ie.interactionState.dragInProgress&&$<.1&&ie.forceLayouts[Z].alpha()>0&&ie.forceLayouts[Z].alpha(0)}}function q(V,Z){for(var ae=[],ie=[],J=0;J<V.graph.nodes.length;J++){var $=(V.graph.nodes[J].x0+V.graph.nodes[J].x1)/2,se=(V.graph.nodes[J].y0+V.graph.nodes[J].y1)/2;ae.push($/V.figure.width),ie.push(se/V.figure.height)}f.call("_guiRestyle",Z,{"node.x":[ae],"node.y":[ie]},V.trace.index).then(function(){Z._fullLayout._dragCover&&Z._fullLayout._dragCover.remove()})}function Q(V){var Z=[],ae;for(ae=0;ae<V.length;ae++)V[ae].originalX=(V[ae].x0+V[ae].x1)/2,V[ae].originalY=(V[ae].y0+V[ae].y1)/2,Z.indexOf(V[ae].originalX)===-1&&Z.push(V[ae].originalX);for(Z.sort(function(ie,J){return ie-J}),ae=0;ae<V.length;ae++)V[ae].originalLayerIndex=Z.indexOf(V[ae].originalX),V[ae].originalLayer=V[ae].originalLayerIndex/(Z.length-1)}function re(V){V.lastDraggedX=V.x0+V.dx/2,V.lastDraggedY=V.y0+V.dy/2}function oe(V){return function(Z){return Z.node.originalX===V.node.originalX}}function Y(V){for(var Z=0;Z<V.length;Z++)V[Z].y=(V[Z].y0+V[Z].y1)/2,V[Z].x=(V[Z].x0+V[Z].x1)/2}function G(V){for(var Z=0;Z<V.length;Z++)V[Z].y0=V[Z].y-V[Z].dy/2,V[Z].y1=V[Z].y0+V[Z].dy,V[Z].x0=V[Z].x-V[Z].dx/2,V[Z].x1=V[Z].x0+V[Z].dx}W.exports=function(V,Z,ae,ie,J){var $=V._context.staticPlot,se=!1;u.ensureSingle(V._fullLayout._infolayer,"g","first-render",function(){se=!0});var ee=V._fullLayout._dragCover,ue=ae.filter(function(_e){return h(_e).trace.visible}).map(C.bind(null,ie)),ge=Z.selectAll("."+v.cn.sankey).data(ue,n);ge.exit().remove(),ge.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",$?"none":"auto").attr("transform",I),ge.each(function(_e,Ve){V._fullData[Ve]._sankey=_e;var We="bgsankey-"+_e.trace.uid+"-"+Ve;u.ensureSingle(V._fullLayout._draggers,"rect",We),V._fullData[Ve]._bgRect=a.select("."+We),V._fullData[Ve]._bgRect.style("pointer-events",$?"none":"all").attr("width",_e.width).attr("height",_e.height).attr("x",_e.translateX).attr("y",_e.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ge.transition().ease(v.ease).duration(v.duration).attr("transform",I);var Te=ge.selectAll("."+v.cn.sankeyLinks).data(x,n);Te.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=Te.selectAll("."+v.cn.sankeyLink).data(function(_e){var Ve=_e.graph.links;return Ve.filter(function(We){return We.value}).map(y.bind(null,_e))},n);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ge,J.linkEvents),xe.style("stroke",function(_e){return B(_e)?t.tinyRGB(g(_e.linkLineColor)):_e.tinyColorHue}).style("stroke-opacity",function(_e){return B(_e)?t.opacity(_e.linkLineColor):_e.tinyColorAlpha}).style("fill",function(_e){return _e.tinyColorHue}).style("fill-opacity",function(_e){return _e.tinyColorAlpha}).style("stroke-width",function(_e){return B(_e)?_e.linkLineWidth:1}).attr("d",b()),xe.style("opacity",function(){return V._context.staticPlot||se||ee?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Pe=ge.selectAll("."+v.cn.sankeyNodeSet).data(x,n);Pe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Pe.style("cursor",function(_e){switch(_e.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ie=Pe.selectAll("."+v.cn.sankeyNode).data(function(_e){var Ve=_e.graph.nodes;return Q(Ve),Ve.map(i.bind(null,_e))},n);Ie.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(_e){return(V._context.staticPlot||se)&&!_e.partOfGroup?1:0}),Ie.call(O,ge,J.nodeEvents).call(z,xe,J,V),Ie.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(_e){return _e.partOfGroup?0:1}),Ie.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ae=Ie.selectAll("."+v.cn.nodeRect).data(x);Ae.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Ae.style("stroke-width",function(_e){return _e.nodeLineWidth}).style("stroke",function(_e){return t.tinyRGB(g(_e.nodeLineColor))}).style("stroke-opacity",function(_e){return t.opacity(_e.nodeLineColor)}).style("fill",function(_e){return _e.tinyColorHue}).style("fill-opacity",function(_e){return _e.tinyColorAlpha}),Ae.transition().ease(v.ease).duration(v.duration).call(_);var be=Ie.selectAll("."+v.cn.nodeLabel).data(x);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(_e){return _e.node.label}).each(function(_e){var Ve=a.select(this);r.font(Ve,_e.textFont),T.convertToTspans(Ve,V)}).style("text-shadow",T.makeTextShadow(V._fullLayout.paper_bgcolor)).attr("text-anchor",function(_e){return _e.horizontal&&_e.left?"end":"start"}).attr("transform",function(_e){var Ve=a.select(this),We=T.lineCount(Ve),ze=_e.textFont.size*((We-1)*S-d),Ze=_e.nodeLineWidth/2+M,ct=((_e.horizontal?_e.visibleHeight:_e.visibleWidth)-ze)/2;_e.horizontal&&(_e.left?Ze=-Ze:Ze+=_e.visibleWidth);var lt=_e.horizontal?"":"scale(-1,1)"+l(90);return o(_e.horizontal?Ze:ct,_e.horizontal?ct:Ze)+lt}),be.transition().ease(v.ease).duration(v.duration)}},84564:function(W){W.exports=function(e,p){for(var L=e.cd,a=[],P=L[0].trace,A=P._sankey.graph.nodes,v=0;v<A.length;v++){var g=A[v];if(!g.partOfGroup){var t=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];P.orientation==="v"&&t.reverse(),p&&p.contains(t,!1,v,e)&&a.push({pointNumber:g.pointNumber})}}return a}},75225:function(W,U,e){var p=e(71828);W.exports=function(a,P){for(var A=0;A<a.length;A++)a[A].i=A;p.mergeArray(P.text,a,"tx"),p.mergeArray(P.texttemplate,a,"txt"),p.mergeArray(P.hovertext,a,"htx"),p.mergeArray(P.customdata,a,"data"),p.mergeArray(P.textposition,a,"tp"),P.textfont&&(p.mergeArrayCastPositive(P.textfont.size,a,"ts"),p.mergeArray(P.textfont.color,a,"tc"),p.mergeArray(P.textfont.family,a,"tf"));var v=P.marker;if(v){p.mergeArrayCastPositive(v.size,a,"ms"),p.mergeArrayCastPositive(v.opacity,a,"mo"),p.mergeArray(v.symbol,a,"mx"),p.mergeArray(v.angle,a,"ma"),p.mergeArray(v.standoff,a,"mf"),p.mergeArray(v.color,a,"mc");var g=v.line;v.line&&(p.mergeArray(g.color,a,"mlc"),p.mergeArrayCastPositive(g.width,a,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(p.mergeArray(t.type,a,"mgt"),p.mergeArray(t.color,a,"mgc"))}}},82196:function(W,U,e){var p=e(12663).axisHoverFormat,L=e(5386).s,a=e(5386).f,P=e(50693),A=e(41940),v=e(79952).P,g=e(79952).u,t=e(91424),r=e(47581),u=e(1426).extendFlat;function o(n){return{valType:"any",dflt:0,editType:"calc"}}function l(n){return{valType:"any",editType:"calc"}}function c(n){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:o(),yperiod:o(),xperiod0:l(),yperiod0:l(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:g,marker:u({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:A({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(W,U,e){var p=e(92770),L=e(71828),a=e(89298),P=e(42973),A=e(50606).BADNUM,v=e(34098),g=e(36922),t=e(75225),r=e(66279);function u(h,T){var f=h._fullLayout,s=T._xA=a.getFromId(h,T.xaxis||"x","x"),d=T._yA=a.getFromId(h,T.yaxis||"y","y"),S=s.makeCalcdata(T,"x"),M=d.makeCalcdata(T,"y"),C=P(T,s,"x",S),y=P(T,d,"y",M),w=C.vals,b=y.vals,i=T._length,E=new Array(i),m=T.ids,F=x(T,f,s,d),_=!1,B,I,O,z,k,N;c(f,T);var K="x",q="y",Q;if(F)L.pushUnique(F.traceIndices,T._expandedIndex),B=F.orientation==="v",B?(q="s",Q="x"):(K="s",Q="y"),k=F.stackgaps==="interpolate";else{var re=l(T,i);o(h,T,s,d,w,b,re)}var oe=!!T.xperiodalignment,Y=!!T.yperiodalignment;for(I=0;I<i;I++){var G=E[I]={},V=p(w[I]),Z=p(b[I]);V&&Z?(G[K]=w[I],G[q]=b[I],oe&&(G.orig_x=S[I],G.xEnd=C.ends[I],G.xStart=C.starts[I]),Y&&(G.orig_y=M[I],G.yEnd=y.ends[I],G.yStart=y.starts[I])):F&&(B?V:Z)?(G[Q]=B?w[I]:b[I],G.gap=!0,k?(G.s=A,_=!0):G.s=0):G[K]=G[q]=A,m&&(G.id=String(m[I]))}if(t(E,T),g(h,T),r(E,T),F){for(I=0;I<E.length;)E[I][Q]===A?E.splice(I,1):I++;if(L.sort(E,function($,se){return $[Q]-se[Q]||$.i-se.i}),_){for(I=0;I<E.length-1&&E[I].gap;)I++;for(N=E[I].s,N||(N=E[I].s=0),O=0;O<I;O++)E[O].s=N;for(z=E.length-1;z>I&&E[z].gap;)z--;for(N=E[z].s,O=E.length-1;O>z;O--)E[O].s=N;for(;I<z;)if(I++,E[I].gap){for(O=I+1;E[O].gap;)O++;for(var ae=E[I-1][Q],ie=E[I-1].s,J=(E[O].s-ie)/(E[O][Q]-ae);I<O;)E[I].s=ie+(E[I][Q]-ae)*J,I++}}}return E}function o(h,T,f,s,d,S,M){var C=T._length,y=h._fullLayout,w=f._id,b=s._id,i=y._firstScatter[n(T)]===T.uid,E=(x(T,y,f,s)||{}).orientation,m=T.fill;f._minDtick=0,s._minDtick=0;var F={padded:!0},_={padded:!0};M&&(F.ppad=_.ppad=M);var B=C<2||d[0]!==d[C-1]||S[0]!==S[C-1];B&&(m==="tozerox"||m==="tonextx"&&(i||E==="h"))?F.tozero=!0:!(T.error_y||{}).visible&&(m==="tonexty"||m==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(F.padded=!1,F.ppad=0),B&&(m==="tozeroy"||m==="tonexty"&&(i||E==="v"))?_.tozero=!0:(m==="tonextx"||m==="tozerox")&&(_.padded=!1),w&&(T._extremes[w]=a.findExtremes(f,d,F)),b&&(T._extremes[b]=a.findExtremes(s,S,_))}function l(h,T){if(v.hasMarkers(h)){var f=h.marker,s=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(w){return Math.max(Math.sqrt((w||0)/s),3)}:d=function(w){return Math.max((w||0)/s,3)},L.isArrayOrTypedArray(f.size)){var S={type:"linear"};a.setConvert(S);for(var M=S.makeCalcdata(h.marker,"size"),C=new Array(T),y=0;y<T;y++)C[y]=d(M[y]);return C}else return d(f.size)}}function c(h,T){var f=n(T),s=h._firstScatter;s[f]||(s[f]=T.uid)}function n(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function x(h,T,f,s){var d=h.stackgroup;if(d){var S=T._scatterStackOpts[f._id+s._id][d],M=S.orientation==="v"?s:f;if(M.type==="linear"||M.type==="log")return S}}W.exports={calc:u,calcMarkerSize:l,calcAxisExpansion:o,setFirstScatter:c,getStackOpts:x}},66279:function(W,U,e){var p=e(71828);W.exports=function(a,P){p.isArrayOrTypedArray(P.selectedpoints)&&p.tagSelected(a,P)}},36922:function(W,U,e){var p=e(52075).hasColorscale,L=e(78803),a=e(34098);W.exports=function(A,v){a.hasLines(v)&&p(v,"line")&&L(A,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(p(v,"marker")&&L(A,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),p(v,"marker.line")&&L(A,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(W){W.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(W,U,e){var p=e(47761),L=e(11661).setGroupPositions;function a(v,g){for(var t=g.xaxis,r=g.yaxis,u=v._fullLayout,o=v._fullData,l=v.calcdata,c=[],n=[],x=0;x<o.length;x++){var h=o[x];h.visible===!0&&h.type==="scatter"&&h.xaxis===t._id&&h.yaxis===r._id&&(h.orientation==="h"?c.push(l[x]):h.orientation==="v"&&n.push(l[x]))}var T={mode:u.scattermode,gap:u.scattergap};L(v,t,r,n,T),L(v,r,t,c,T)}W.exports=function(g,t){g._fullLayout.scattermode==="group"&&a(g,t);var r=t.xaxis,u=t.yaxis,o=r._id+u._id,l=g._fullLayout._scatterStackOpts[o];if(l){var c=g.calcdata,n,x,h,T,f,s,d,S,M,C,y,w,b,i,E;for(var m in l){C=l[m];var F=C.traceIndices;if(F.length){for(y=C.stackgaps==="interpolate",w=C.groupnorm,C.orientation==="v"?(b="x",i="y"):(b="y",i="x"),E=new Array(F.length),n=0;n<E.length;n++)E[n]=!1;s=c[F[0]];var _=new Array(s.length);for(n=0;n<s.length;n++)_[n]=s[n][b];for(n=1;n<F.length;n++){for(f=c[F[n]],x=h=0;x<f.length;x++){for(d=f[x][b];d>_[h]&&h<_.length;h++)P(f,x,_[h],n,E,y,b),x++;if(d!==_[h]){for(T=0;T<n;T++)P(c[F[T]],h,d,T,E,y,b);_.splice(h,0,d)}h++}for(;h<_.length;h++)P(f,x,_[h],n,E,y,b),x++}var B=_.length;for(x=0;x<s.length;x++){for(S=s[x][i]=s[x].s,n=1;n<F.length;n++)f=c[F[n]],f[0].trace._rawLength=f[0].trace._length,f[0].trace._length=B,S+=f[x].s,f[x][i]=S;if(w)for(M=(w==="fraction"?S:S/100)||1,n=0;n<F.length;n++){var I=c[F[n]][x];I[i]/=M,I.sNorm=I.s/M}}for(n=0;n<F.length;n++){f=c[F[n]];var O=f[0].trace,z=p.calcMarkerSize(O,O._rawLength),k=Array.isArray(z);if(z&&E[n]||k){var N=z;for(z=new Array(B),x=0;x<B;x++)z[x]=f[x].gap?0:k?N[f[x].i]:N}var K=new Array(B),q=new Array(B);for(x=0;x<B;x++)K[x]=f[x].x,q[x]=f[x].y;p.calcAxisExpansion(g,O,r,u,K,q,z),f[0].t.orientation=C.orientation}}}}};function P(v,g,t,r,u,o,l){u[r]=!0;var c={i:null,gap:!0,s:0};if(c[l]=t,v.splice(g,0,c),g&&t===v[g-1][l]){var n=v[g-1];c.s=n.s,c.i=n.i,c.gap=n.gap}else o&&(c.s=A(v,g,t,l));g||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function A(v,g,t,r){var u=v[g-1],o=v[g+1];return o?u?u.s+(o.s-u.s)*(t-u[r])/(o[r]-u[r]):o.s:u.s}},34936:function(W,U,e){var p=e(71828),L=e(26125),a=e(82196);W.exports=function(A,v){var g,t,r;function u(x){return p.coerce(t._input,t,a,x)}if(v.scattermode==="group")for(r=0;r<A.length;r++)t=A[r],t.type==="scatter"&&(g=t._input,L(g,t,v,u));for(r=0;r<A.length;r++){var o=A[r];if(o.type==="scatter"){var l=o.fill;if(!(l==="none"||l==="toself")&&(o.opacity=void 0,l==="tonexty"||l==="tonextx"))for(var c=r-1;c>=0;c--){var n=A[c];if(n.type==="scatter"&&n.xaxis===o.xaxis&&n.yaxis===o.yaxis){n.opacity=void 0;break}}}}}},17438:function(W,U,e){var p=e(71828),L=e(73972),a=e(82196),P=e(47581),A=e(34098),v=e(67513),g=e(73927),t=e(565),r=e(49508),u=e(11058),o=e(94039),l=e(82410),c=e(28908),n=e(71828).coercePattern;W.exports=function(h,T,f,s){function d(E,m){return p.coerce(h,T,a,E,m)}var S=v(h,T,s,d);if(S||(T.visible=!1),!!T.visible){g(h,T,s,d),d("xhoverformat"),d("yhoverformat");var M=t(h,T,s,d);s.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!M&&S<P.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),A.hasLines(T)&&(u(h,T,f,s,d,{backoff:!0}),o(h,T,d),d("connectgaps"),d("line.simplify")),A.hasMarkers(T)&&r(h,T,f,s,d,{gradient:!0}),A.hasText(T)&&(d("texttemplate"),l(h,T,s,d));var y=[];(A.hasMarkers(T)||A.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",M?M.fillDflt:"none"),T.fill!=="none"&&(c(h,T,f,d),A.hasLines(T)||o(h,T,d),n(d,"fillpattern",T.fillcolor,!1));var w=(T.line||{}).color,b=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var i=L.getComponentMethod("errorbars","supplyDefaults");i(h,T,w||b||f,{axis:"y"}),i(h,T,w||b||f,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(T,d)}}},28908:function(W,U,e){var p=e(7901),L=e(71828).isArrayOrTypedArray;W.exports=function(P,A,v,g){var t=!1;if(A.marker){var r=A.marker.color,u=(A.marker.line||{}).color;r&&!L(r)?t=r:u&&!L(u)&&(t=u)}g("fillcolor",p.addOpacity((A.line||{}).color||t||v,.5))}},8225:function(W,U,e){var p=e(89298);W.exports=function(a,P,A){var v={},g={_fullLayout:A},t=p.getFromTrace(g,P,"x"),r=p.getFromTrace(g,P,"y"),u=a.orig_x;u===void 0&&(u=a.x);var o=a.orig_y;return o===void 0&&(o=a.y),v.xLabel=p.tickText(t,t.c2l(u),!0).text,v.yLabel=p.tickText(r,r.c2l(o),!0).text,v}},34603:function(W,U,e){var p=e(7901),L=e(34098);W.exports=function(P,A){var v,g;if(P.mode==="lines")return v=P.line.color,v&&p.opacity(v)?v:P.fillcolor;if(P.mode==="none")return P.fill?P.fillcolor:"";var t=A.mcc||(P.marker||{}).color,r=A.mlcc||((P.marker||{}).line||{}).color;return g=t&&p.opacity(t)?t:r&&p.opacity(r)&&(A.mlw||((P.marker||{}).line||{}).width)?r:"",g?p.opacity(g)<.3?p.addOpacity(g,.3):g:(v=(P.line||{}).color,v&&p.opacity(v)&&L.hasLines(P)&&P.line.width?v:P.fillcolor)}},26125:function(W,U,e){var p=e(99082).getAxisGroup;W.exports=function(a,P,A,v){var g=P.orientation,t=P[{v:"x",h:"y"}[g]+"axis"],r=p(A,t)+g,u=A._alignmentOpts||{},o=v("alignmentgroup"),l=u[r];l||(l=u[r]={});var c=l[o];c?c.traces.push(P):c=l[o]={traces:[P],alignmentIndex:Object.keys(l).length,offsetGroups:{}};var n=v("offsetgroup"),x=c.offsetGroups,h=x[n];n&&(h||(h=x[n]={offsetIndex:Object.keys(x).length}),P._offsetIndex=h.offsetIndex)}},33720:function(W,U,e){var p=e(71828),L=e(30211),a=e(73972),P=e(34603),A=e(7901),v=p.fillText;W.exports=function(t,r,u,o){var l=t.cd,c=l[0].trace,n=t.xa,x=t.ya,h=n.c2p(r),T=x.c2p(u),f=[h,T],s=c.hoveron||"",d=c.mode.indexOf("markers")!==-1?3:.5,S=!!c.xperiodalignment,M=!!c.yperiodalignment;if(s.indexOf("points")!==-1){var C=function(ue){if(S){var ge=n.c2p(ue.xStart),Te=n.c2p(ue.xEnd);return h>=Math.min(ge,Te)&&h<=Math.max(ge,Te)?0:1/0}var xe=Math.max(3,ue.mrc||0),Pe=1-1/xe,Ie=Math.abs(n.c2p(ue.x)-h);return Ie<xe?Pe*Ie/xe:Ie-xe+Pe},y=function(ue){if(M){var ge=x.c2p(ue.yStart),Te=x.c2p(ue.yEnd);return T>=Math.min(ge,Te)&&T<=Math.max(ge,Te)?0:1/0}var xe=Math.max(3,ue.mrc||0),Pe=1-1/xe,Ie=Math.abs(x.c2p(ue.y)-T);return Ie<xe?Pe*Ie/xe:Ie-xe+Pe},w=function(ue){var ge=Math.max(d,ue.mrc||0),Te=n.c2p(ue.x)-h,xe=x.c2p(ue.y)-T;return Math.max(Math.sqrt(Te*Te+xe*xe)-ge,1-d/ge)},b=L.getDistanceFunction(o,C,y,w);if(L.getClosest(l,b,t),t.index!==!1){var i=l[t.index],E=n.c2p(i.x,!0),m=x.c2p(i.y,!0),F=i.mrc||1;t.index=i.i;var _=l[0].t.orientation,B=_&&(i.sNorm||i.s),I=_==="h"?B:i.orig_x!==void 0?i.orig_x:i.x,O=_==="v"?B:i.orig_y!==void 0?i.orig_y:i.y;return p.extendFlat(t,{color:P(c,i),x0:E-F,x1:E+F,xLabelVal:I,y0:m-F,y1:m+F,yLabelVal:O,spikeDistance:w(i),hovertemplate:c.hovertemplate}),v(i,c,t),a.getComponentMethod("errorbars","hoverInfo")(i,c,t),[t]}}if(s.indexOf("fills")!==-1&&c._polygons){var z=c._polygons,k=[],N=!1,K=1/0,q=-1/0,Q=1/0,re=-1/0,oe,Y,G,V,Z,ae,ie,J,$;for(oe=0;oe<z.length;oe++)G=z[oe],G.contains(f)&&(N=!N,k.push(G),Q=Math.min(Q,G.ymin),re=Math.max(re,G.ymax));if(N){Q=Math.max(Q,0),re=Math.min(re,x._length);var se=(Q+re)/2;for(oe=0;oe<k.length;oe++)for(V=k[oe].pts,Y=1;Y<V.length;Y++)J=V[Y-1][1],$=V[Y][1],J>se!=$>=se&&(ae=V[Y-1][0],ie=V[Y][0],$-J&&(Z=ae+(ie-ae)*(se-J)/($-J),K=Math.min(K,Z),q=Math.max(q,Z)));K=Math.max(K,0),q=Math.min(q,n._length);var ee=A.defaultLine;return A.opacity(c.fillcolor)?ee=c.fillcolor:A.opacity((c.line||{}).color)&&(ee=c.line.color),p.extendFlat(t,{distance:t.maxHoverDistance,x0:K,x1:q,y0:se,y1:se,color:ee,hovertemplate:!1}),delete t.index,c.text&&!Array.isArray(c.text)?t.text=String(c.text):t.text=c.name,[t]}}}},67368:function(W,U,e){var p=e(34098);W.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(W){W.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(W,U,e){var p=e(71828),L=e(21479);W.exports=function(a,P){function A(g,t){return p.coerce(a,P,L,g,t)}var v=P.barmode==="group";P.scattermode==="group"&&A("scattergap",v?P.bargap:.2)}},11058:function(W,U,e){var p=e(71828).isArrayOrTypedArray,L=e(52075).hasColorscale,a=e(1586);W.exports=function(A,v,g,t,r,u){u||(u={});var o=(A.marker||{}).color;if(r("line.color",g),L(A,"line"))a(A,v,t,r,{prefix:"line.",cLetter:"c"});else{var l=(p(o)?!1:o)||g;r("line.color",l)}r("line.width"),u.noDash||r("line.dash"),u.backoff&&r("line.backoff")}},34621:function(W,U,e){var p=e(91424),L=e(50606),a=L.BADNUM,P=L.LOG_CLIP,A=P+.5,v=P-.5,g=e(71828),t=g.segmentsIntersect,r=g.constrain,u=e(47581);W.exports=function(l,c){var n=c.trace||{},x=c.xaxis,h=c.yaxis,T=x.type==="log",f=h.type==="log",s=x._length,d=h._length,S=c.backoff,M=n.marker,C=c.connectGaps,y=c.baseTolerance,w=c.shape,b=w==="linear",i=n.fill&&n.fill!=="none",E=[],m=u.minTolerance,F=l.length,_=new Array(F),B=0,I,O,z,k,N,K,q,Q,re,oe,Y,G,V,Z,ae,ie;function J(Lt){var Ot=l[Lt];if(!Ot)return!1;var Jt=c.linearized?x.l2p(Ot.x):x.c2p(Ot.x),qt=c.linearized?h.l2p(Ot.y):h.c2p(Ot.y);if(Jt===a){if(T&&(Jt=x.c2p(Ot.x,!0)),Jt===a)return!1;f&&qt===a&&(Jt*=Math.abs(x._m*d*(x._m>0?A:v)/(h._m*s*(h._m>0?A:v)))),Jt*=1e3}if(qt===a){if(f&&(qt=h.c2p(Ot.y,!0)),qt===a)return!1;qt*=1e3}return[Jt,qt]}function $(Lt,Ot,Jt,qt){var Vt=Jt-Lt,vr=qt-Ot,gr=.5-Lt,Gr=.5-Ot,At=Vt*Vt+vr*vr,or=Vt*gr+vr*Gr;if(or>0&&or<At){var rr=gr*vr-Gr*Vt;if(rr*rr<At)return!0}}var se,ee;function ue(Lt,Ot){var Jt=Lt[0]/s,qt=Lt[1]/d,Vt=Math.max(0,-Jt,Jt-1,-qt,qt-1);return Vt&&se!==void 0&&$(Jt,qt,se,ee)&&(Vt=0),Vt&&Ot&&$(Jt,qt,Ot[0]/s,Ot[1]/d)&&(Vt=0),(1+u.toleranceGrowth*Vt)*y}function ge(Lt,Ot){var Jt=Lt[0]-Ot[0],qt=Lt[1]-Ot[1];return Math.sqrt(Jt*Jt+qt*qt)}var Te=u.maxScreensAway,xe=-s*Te,Pe=s*(1+Te),Ie=-d*Te,Ae=d*(1+Te),be=[[xe,Ie,Pe,Ie],[Pe,Ie,Pe,Ae],[Pe,Ae,xe,Ae],[xe,Ae,xe,Ie]],_e,Ve,We,ze,Ze,ct;function lt(Lt,Ot){for(var Jt=[],qt=0,Vt=0;Vt<4;Vt++){var vr=be[Vt],gr=t(Lt[0],Lt[1],Ot[0],Ot[1],vr[0],vr[1],vr[2],vr[3]);gr&&(!qt||Math.abs(gr.x-Jt[0][0])>1||Math.abs(gr.y-Jt[0][1])>1)&&(gr=[gr.x,gr.y],qt&&ge(gr,Lt)<ge(Jt[0],Lt)?Jt.unshift(gr):Jt.push(gr),qt++)}return Jt}function at(Lt){if(Lt[0]<xe||Lt[0]>Pe||Lt[1]<Ie||Lt[1]>Ae)return[r(Lt[0],xe,Pe),r(Lt[1],Ie,Ae)]}function tt(Lt,Ot){if(Lt[0]===Ot[0]&&(Lt[0]===xe||Lt[0]===Pe)||Lt[1]===Ot[1]&&(Lt[1]===Ie||Lt[1]===Ae))return!0}function dt(Lt,Ot){var Jt=[],qt=at(Lt),Vt=at(Ot);return qt&&Vt&&tt(qt,Vt)||(qt&&Jt.push(qt),Vt&&Jt.push(Vt)),Jt}function wt(Lt,Ot,Jt){return function(qt,Vt){var vr=at(qt),gr=at(Vt),Gr=[];if(vr&&gr&&tt(vr,gr))return Gr;vr&&Gr.push(vr),gr&&Gr.push(gr);var At=2*g.constrain((qt[Lt]+Vt[Lt])/2,Ot,Jt)-((vr||qt)[Lt]+(gr||Vt)[Lt]);if(At){var or;vr&&gr?or=At>0==vr[Lt]>gr[Lt]?vr:gr:or=vr||gr,or[Lt]+=At}return Gr}}var Mt;w==="linear"||w==="spline"?Mt=lt:w==="hv"||w==="vh"?Mt=dt:w==="hvh"?Mt=wt(0,xe,Pe):w==="vhv"&&(Mt=wt(1,Ie,Ae));function It(Lt,Ot){var Jt=Ot[0]-Lt[0],qt=(Ot[1]-Lt[1])/Jt,Vt=(Lt[1]*Ot[0]-Ot[1]*Lt[0])/Jt;return Vt>0?[qt>0?xe:Pe,Ae]:[qt>0?Pe:xe,Ie]}function $e(Lt){var Ot=Lt[0],Jt=Lt[1],qt=Ot===_[B-1][0],Vt=Jt===_[B-1][1];if(!(qt&&Vt))if(B>1){var vr=Ot===_[B-2][0],gr=Jt===_[B-2][1];qt&&(Ot===xe||Ot===Pe)&&vr?gr?B--:_[B-1]=Lt:Vt&&(Jt===Ie||Jt===Ae)&&gr?vr?B--:_[B-1]=Lt:_[B++]=Lt}else _[B++]=Lt}function ke(Lt){_[B-1][0]!==Lt[0]&&_[B-1][1]!==Lt[1]&&$e([We,ze]),$e(Lt),Ze=null,We=ze=0}var Fe=g.isArrayOrTypedArray(M);function qe(Lt){if(Lt&&S&&(Lt.i=I,Lt.d=l,Lt.trace=n,Lt.marker=Fe?M[Lt.i]:M,Lt.backoff=S),se=Lt[0]/s,ee=Lt[1]/d,_e=Lt[0]<xe?xe:Lt[0]>Pe?Pe:0,Ve=Lt[1]<Ie?Ie:Lt[1]>Ae?Ae:0,_e||Ve){if(!B)_[B++]=[_e||Lt[0],Ve||Lt[1]];else if(Ze){var Ot=Mt(Ze,Lt);Ot.length>1&&(ke(Ot[0]),_[B++]=Ot[1])}else ct=Mt(_[B-1],Lt)[0],_[B++]=ct;var Jt=_[B-1];_e&&Ve&&(Jt[0]!==_e||Jt[1]!==Ve)?(Ze&&(We!==_e&&ze!==Ve?$e(We&&ze?It(Ze,Lt):[We||_e,ze||Ve]):We&&ze&&$e([We,ze])),$e([_e,Ve])):We-_e&&ze-Ve&&$e([_e||We,Ve||ze]),Ze=Lt,We=_e,ze=Ve}else Ze&&ke(Mt(Ze,Lt)[0]),_[B++]=Lt}for(I=0;I<F;I++)if(O=J(I),!!O){for(B=0,Ze=null,qe(O),I++;I<F;I++){if(k=J(I),!k){if(C)continue;break}if(!b||!c.simplify){qe(k);continue}var it=J(I+1);if(oe=ge(k,O),!(!(i&&(B===0||B===F-1))&&oe<ue(k,it)*m)){for(Q=[(k[0]-O[0])/oe,(k[1]-O[1])/oe],N=O,Y=oe,G=Z=ae=0,q=!1,z=k,I++;I<l.length;I++){if(K=it,it=J(I+1),!K){if(C)continue;break}if(re=[K[0]-O[0],K[1]-O[1]],ie=re[0]*Q[1]-re[1]*Q[0],Z=Math.min(Z,ie),ae=Math.max(ae,ie),ae-Z>ue(K,it))break;z=K,V=re[0]*Q[0]+re[1]*Q[1],V>Y?(Y=V,k=K,q=!1):V<G&&(G=V,N=K,q=!0)}if(q?(qe(k),z!==N&&qe(N)):(N!==O&&qe(N),z!==k&&qe(k)),qe(z),I>=l.length||!K)break;qe(K),O=K}}Ze&&$e([We||Ze[0],ze||Ze[1]]),E.push(_.slice(0,B))}var Je=w.slice(w.length-1);if(S&&Je!=="h"&&Je!=="v"){for(var Re=!1,Me=-1,fe=[],ye=0;ye<E.length;ye++)for(var Le=0;Le<E[ye].length-1;Le++){var Oe=E[ye][Le],ht=E[ye][Le+1],vt=p.applyBackoff(ht,Oe);(vt[0]!==ht[0]||vt[1]!==ht[1])&&(Re=!0),fe[Me+1]||(Me++,fe[Me]=[Oe,[vt[0],vt[1]]])}return Re?fe:E}return E}},94039:function(W){W.exports=function(e,p,L){var a=L("line.shape");a==="spline"&&L("line.smoothing")}},68687:function(W){var U={tonextx:1,tonexty:1,tonext:1};W.exports=function(p,L,a){var P,A,v,g,t,r={},u=!1,o=-1,l=0,c=-1;for(A=0;A<a.length;A++)P=a[A][0].trace,v=P.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=l,l++):P.fill in U&&c>=0?t=c:(t=c=l,l++),t<o&&(u=!0),P._groupIndex=o=t;var n=a.slice();u&&n.sort(function(h,T){var f=h[0].trace,s=T[0].trace;return f._groupIndex-s._groupIndex||f.index-s.index});var x={};for(A=0;A<n.length;A++)P=n[A][0].trace,v=P.stackgroup||"",P.visible===!0?(P._nexttrace=null,P.fill in U&&(g=x[v],P._prevtrace=g||null,g&&(g._nexttrace=P)),P._ownfill=P.fill&&(P.fill.substr(0,6)==="tozero"||P.fill==="toself"||P.fill.substr(0,2)==="to"&&!P._prevtrace),x[v]=P):P._prevtrace=P._nexttrace=P._ownfill=null;return n}},39984:function(W,U,e){var p=e(92770);W.exports=function(a,P){P||(P=2);var A=a.marker,v=A.sizeref||1,g=A.sizemin||0,t=A.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var u=t(r/P);return p(u)&&u>0?Math.max(u,g):0}}},4898:function(W){W.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(W,U,e){var p=e(7901),L=e(52075).hasColorscale,a=e(1586),P=e(34098);W.exports=function(v,g,t,r,u,o){var l=P.isBubble(v),c=(v.line||{}).color,n;if(o=o||{},c&&(t=c),u("marker.symbol"),u("marker.opacity",l?.7:1),u("marker.size"),o.noAngle||(u("marker.angle"),o.noAngleRef||u("marker.angleref"),o.noStandOff||u("marker.standoff")),u("marker.color",t),L(v,"marker")&&a(v,g,r,u,{prefix:"marker.",cLetter:"c"}),o.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),o.noLine||(c&&!Array.isArray(c)&&g.marker.color!==c?n=c:l?n=p.background:n=p.defaultLine,u("marker.line.color",n),L(v,"marker.line")&&a(v,g,r,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",l?1:0)),l&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),o.gradient){var x=u("marker.gradient.type");x!=="none"&&u("marker.gradient.color")}}},73927:function(W,U,e){var p=e(71828).dateTick0,L=e(50606),a=L.ONEWEEK;function P(A,v){return A%a===0?p(v,1):p(v,0)}W.exports=function(v,g,t,r,u){if(u||(u={x:!0,y:!0}),u.x){var o=r("xperiod");o&&(r("xperiod0",P(o,g.xcalendar)),r("xperiodalignment"))}if(u.y){var l=r("yperiod");l&&(r("yperiod0",P(l,g.ycalendar)),r("yperiodalignment"))}}},32663:function(W,U,e){var p=e(39898),L=e(73972),a=e(71828),P=a.ensureSingle,A=a.identity,v=e(91424),g=e(34098),t=e(34621),r=e(68687),u=e(61082).tester;W.exports=function(x,h,T,f,s,d){var S,M,C=!s,y=!!s&&s.duration>0,w=r(x,h,T);if(S=f.selectAll("g.trace").data(w,function(i){return i[0].trace.uid}),S.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),S.order(),o(x,S,h),y){d&&(M=d());var b=p.transition().duration(s.duration).ease(s.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});b.each(function(){f.selectAll("g.trace").each(function(i,E){l(x,E,h,i,w,this,s)})})}else S.each(function(i,E){l(x,E,h,i,w,this,s)});C&&S.exit().remove(),f.selectAll("path:not([d])").remove()};function o(n,x,h){x.each(function(T){var f=P(p.select(this),"g","fills");v.setClipUrl(f,h.layerClipId,n);var s=T[0].trace,d=[];s._ownfill&&d.push("_ownFill"),s._nexttrace&&d.push("_nextFill");var S=f.selectAll("g").data(d,A);S.enter().append("g"),S.exit().each(function(M){s[M]=null}).remove(),S.order().each(function(M){s[M]=P(p.select(this),"path","js-fill")})})}function l(n,x,h,T,f,s,d){var S;c(n,x,h,T,f);var M=!!d&&d.duration>0;function C(We){return M?We.transition():We}var y=h.xaxis,w=h.yaxis,b=T[0].trace,i=b.line,E=p.select(s),m=P(E,"g","errorbars"),F=P(E,"g","lines"),_=P(E,"g","points"),B=P(E,"g","text");if(L.getComponentMethod("errorbars","plot")(n,m,h,d),b.visible!==!0)return;C(E).style("opacity",b.opacity);var I,O,z=b.fill.charAt(b.fill.length-1);z!=="x"&&z!=="y"&&(z=""),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=E;var k="",N=[],K=b._prevtrace;K&&(k=K._prevRevpath||"",O=K._nextFill,N=K._polygons);var q,Q,re="",oe="",Y,G,V,Z,ae,ie,J,$=[],se=a.noop;if(I=b._ownFill,g.hasLines(b)||b.fill!=="none"){for(O&&O.datum(T),["hv","vh","hvh","vhv"].indexOf(i.shape)!==-1?(Y=v.steps(i.shape),G=v.steps(i.shape.split("").reverse().join(""))):i.shape==="spline"?Y=G=function(We){var ze=We[We.length-1];return We.length>1&&We[0][0]===ze[0]&&We[0][1]===ze[1]?v.smoothclosed(We.slice(1),i.smoothing):v.smoothopen(We,i.smoothing)}:Y=G=function(We){return"M"+We.join("L")},V=function(We){return G(We.reverse())},$=t(T,{xaxis:y,yaxis:w,trace:b,connectGaps:b.connectgaps,baseTolerance:Math.max(i.width||1,3)/4,shape:i.shape,backoff:i.backoff,simplify:i.simplify,fill:b.fill}),J=b._polygons=new Array($.length),S=0;S<$.length;S++)b._polygons[S]=u($[S]);$.length&&(Z=$[0][0],ae=$[$.length-1],ie=ae[ae.length-1]),se=function(We){return function(ze){if(q=Y(ze),Q=V(ze),re?z?(re+="L"+q.substr(1),oe=Q+("L"+oe.substr(1))):(re+="Z"+q,oe=Q+"Z"+oe):(re=q,oe=Q),g.hasLines(b)){var Ze=p.select(this);if(Ze.datum(T),We)C(Ze.style("opacity",0).attr("d",q).call(v.lineGroupStyle)).style("opacity",1);else{var ct=C(Ze);ct.attr("d",q),v.singleLineStyle(T,ct)}}}}}var ee=F.selectAll(".js-line").data($);C(ee.exit()).style("opacity",0).remove(),ee.each(se(!1)),ee.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(v.lineGroupStyle).each(se(!0)),v.setClipUrl(ee,h.layerClipId,n);function ue(We){C(We).attr("d","M0,0Z")}$.length?(I?(I.datum(T),Z&&ie&&(z?(z==="y"?Z[1]=ie[1]=w.c2p(0,!0):z==="x"&&(Z[0]=ie[0]=y.c2p(0,!0)),C(I).attr("d","M"+ie+"L"+Z+"L"+re.substr(1)).call(v.singleFillStyle,n)):C(I).attr("d",re+"Z").call(v.singleFillStyle,n))):O&&(b.fill.substr(0,6)==="tonext"&&re&&k?(b.fill==="tonext"?C(O).attr("d",re+"Z"+k+"Z").call(v.singleFillStyle,n):C(O).attr("d",re+"L"+k.substr(1)+"Z").call(v.singleFillStyle,n),b._polygons=b._polygons.concat(N)):(ue(O),b._polygons=null)),b._prevRevpath=oe,b._prevPolygons=J):(I?ue(I):O&&ue(O),b._polygons=b._prevRevpath=b._prevPolygons=null);function ge(We){return We.filter(function(ze){return!ze.gap&&ze.vis})}function Te(We){return We.filter(function(ze){return ze.vis})}function xe(We){return We.filter(function(ze){return!ze.gap})}function Pe(We){return We.id}function Ie(We){if(We.ids)return Pe}function Ae(){return!1}function be(We,ze,Ze){var ct,lt,at,tt=Ze[0].trace,dt=g.hasMarkers(tt),wt=g.hasText(tt),Mt=Ie(tt),It=Ae,$e=Ae;if(dt||wt){var ke=A,Fe=tt.stackgroup,qe=Fe&&n._fullLayout._scatterStackOpts[y._id+w._id][Fe].stackgaps==="infer zero";tt.marker.maxdisplayed||tt._needsCull?ke=qe?Te:ge:Fe&&!qe&&(ke=xe),dt&&(It=ke),wt&&($e=ke)}lt=We.selectAll("path.point"),ct=lt.data(It,Mt);var it=ct.enter().append("path").classed("point",!0);M&&it.call(v.pointStyle,tt,n).call(v.translatePoints,y,w).style("opacity",0).transition().style("opacity",1),ct.order();var Je;dt&&(Je=v.makePointStyleFns(tt)),ct.each(function(Re){var Me=p.select(this),fe=C(Me);at=v.translatePoint(Re,fe,y,w),at?(v.singlePointStyle(Re,fe,tt,Je,n),h.layerClipId&&v.hideOutsideRangePoint(Re,fe,y,w,tt.xcalendar,tt.ycalendar),tt.customdata&&Me.classed("plotly-customdata",Re.data!==null&&Re.data!==void 0)):fe.remove()}),M?ct.exit().transition().style("opacity",0).remove():ct.exit().remove(),lt=ze.selectAll("g"),ct=lt.data($e,Mt),ct.enter().append("g").classed("textpoint",!0).append("text"),ct.order(),ct.each(function(Re){var Me=p.select(this),fe=C(Me.select("text"));at=v.translatePoint(Re,fe,y,w),at?h.layerClipId&&v.hideOutsideRangePoint(Re,Me,y,w,tt.xcalendar,tt.ycalendar):Me.remove()}),ct.selectAll("text").call(v.textPointStyle,tt,n).each(function(Re){var Me=y.c2p(Re.x),fe=w.c2p(Re.y);p.select(this).selectAll("tspan.line").each(function(){C(p.select(this)).attr({x:Me,y:fe})})}),ct.exit().remove()}_.datum(T),B.datum(T),be(_,B,T);var _e=b.cliponaxis===!1,Ve=_e?null:h.layerClipId;v.setClipUrl(_,Ve,n),v.setClipUrl(B,Ve,n)}function c(n,x,h,T,f){var s=h.xaxis,d=h.yaxis,S=p.extent(a.simpleMap(s.range,s.r2c)),M=p.extent(a.simpleMap(d.range,d.r2c)),C=T[0].trace;if(g.hasMarkers(C)){var y=C.marker.maxdisplayed;if(y!==0){var w=T.filter(function(m){return m.x>=S[0]&&m.x<=S[1]&&m.y>=M[0]&&m.y<=M[1]}),b=Math.ceil(w.length/y),i=0;f.forEach(function(m,F){var _=m[0].trace;g.hasMarkers(_)&&_.marker.maxdisplayed>0&&F<x&&i++});var E=Math.round(i*b/3+Math.floor(i/3)*b/7.1);T.forEach(function(m){delete m.vis}),w.forEach(function(m,F){Math.round((F+E)%b)===0&&(m.vis=!0)})}}}},98002:function(W,U,e){var p=e(34098);W.exports=function(a,P){var A=a.cd,v=a.xaxis,g=a.yaxis,t=[],r=A[0].trace,u,o,l,c,n=!p.hasMarkers(r)&&!p.hasText(r);if(n)return[];if(P===!1)for(u=0;u<A.length;u++)A[u].selected=0;else for(u=0;u<A.length;u++)o=A[u],l=v.c2p(o.x),c=g.c2p(o.y),o.i!==null&&P.contains([l,c],!1,u,a)?(t.push({pointNumber:o.i,x:v.c2d(o.x),y:g.c2d(o.y)}),o.selected=1):o.selected=0;return t}},565:function(W){var U=["orientation","groupnorm","stackgaps"];W.exports=function(p,L,a,P){var A=a._scatterStackOpts,v=P("stackgroup");if(v){var g=L.xaxis+L.yaxis,t=A[g];t||(t=A[g]={});var r=t[v],u=!1;r?r.traces.push(L):(r=t[v]={traceIndices:[],traces:[L]},u=!0);for(var o={orientation:L.x&&!L.y?"h":"v"},l=0;l<U.length;l++){var c=U[l],n=c+"Found";if(!r[n]){var x=p[c]!==void 0,h=c==="orientation";if((x||u)&&(r[c]=P(c,o[c]),h&&(r.fillDflt=r[c]==="h"?"tonextx":"tonexty"),x&&(r[n]=!0,!u&&(delete r.traces[0][c],h))))for(var T=0;T<r.traces.length-1;T++){var f=r.traces[T];f._input.fill!==f.fill&&(f.fill=r.fillDflt)}}}return r}}},16296:function(W,U,e){var p=e(39898),L=e(91424),a=e(73972);function P(t){var r=p.select(t).selectAll("g.trace.scatter");r.style("opacity",function(u){return u[0].trace.opacity}),r.selectAll("g.points").each(function(u){var o=p.select(this),l=u.trace||u[0].trace;A(o,l,t)}),r.selectAll("g.text").each(function(u){var o=p.select(this),l=u.trace||u[0].trace;v(o,l,t)}),r.selectAll("g.trace path.js-line").call(L.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function A(t,r,u){L.pointStyle(t.selectAll("path.point"),r,u)}function v(t,r,u){L.textPointStyle(t.selectAll("text"),r,u)}function g(t,r,u){var o=r[0].trace;o.selectedpoints?(L.selectedPointStyle(u.selectAll("path.point"),o),L.selectedTextStyle(u.selectAll("text"),o)):(A(u,o,t),v(u,o,t))}W.exports={style:P,stylePoints:A,styleText:v,styleOnSelect:g}},34098:function(W,U,e){var p=e(71828);W.exports={hasLines:function(L){return L.visible&&L.mode&&L.mode.indexOf("lines")!==-1},hasMarkers:function(L){return L.visible&&(L.mode&&L.mode.indexOf("markers")!==-1||L.type==="splom")},hasText:function(L){return L.visible&&L.mode&&L.mode.indexOf("text")!==-1},isBubble:function(L){return p.isPlainObject(L.marker)&&p.isArrayOrTypedArray(L.marker.size)}}},82410:function(W,U,e){var p=e(71828);W.exports=function(L,a,P,A,v){v=v||{},A("textposition"),p.coerceFont(A,"textfont",P.font),v.noSelect||(A("selected.textfont.color"),A("unselected.textfont.color"))}},67513:function(W,U,e){var p=e(71828),L=e(73972);W.exports=function(P,A,v,g){var t=g("x"),r=g("y"),u,o=L.getComponentMethod("calendars","handleTraceDefaults");if(o(P,A,["x","y"],v),t){var l=p.minRowLength(t);r?u=Math.min(l,p.minRowLength(r)):(u=l,g("y0"),g("dy"))}else{if(!r)return 0;u=p.minRowLength(r),g("x0"),g("dx")}return A._length=u,u}},44542:function(W,U,e){var p=e(82196),L=e(50693),a=e(12663).axisHoverFormat,P=e(5386).f,A=e(5386).s,v=e(9012),g=e(29659),t=e(87381),r=e(1426).extendFlat,u=e(30962).overrideAll,o=e(78607),l=p.line,c=p.marker,n=c.line,x=r({width:l.width,dash:{valType:"enumerated",values:o(g),dflt:"solid"}},L("line"));function h(f){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var T=W.exports=u({x:p.x,y:p.y,z:{valType:"data_array"},text:r({},p.text,{}),texttemplate:A({},{}),hovertext:r({},p.hovertext,{}),hovertemplate:P(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:p.connectgaps,line:x,marker:r({symbol:{valType:"enumerated",values:o(t),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},n.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:r({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:r({},p.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},36563:function(W,U,e){var p=e(75225),L=e(36922);W.exports=function(P,A){var v=[{x:!1,y:!1,trace:A,t:{}}];return p(v,A),L(P,A),v}},67336:function(W,U,e){var p=e(73972);function L(A,v,g,t){if(!v||!v.visible)return null;for(var r=p.getComponentMethod("errorbars","makeComputeError")(v),u=new Array(A.length),o=0;o<A.length;o++){var l=r(+A[o],o);if(t.type==="log"){var c=t.c2l(A[o]),n=A[o]-l[0],x=A[o]+l[1];if(u[o]=[(t.c2l(n,!0)-c)*g,(t.c2l(x,!0)-c)*g],n>0){var h=t.c2l(n);t._lowerLogErrorBound||(t._lowerLogErrorBound=h),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,h)}}else u[o]=[-l[0]*g,l[1]*g]}return u}function a(A){for(var v=0;v<A.length;v++)if(A[v])return A[v].length;return 0}function P(A,v,g){var t=[L(A.x,A.error_x,v[0],g.xaxis),L(A.y,A.error_y,v[1],g.yaxis),L(A.z,A.error_z,v[2],g.zaxis)],r=a(t);if(r===0)return null;for(var u=new Array(r),o=0;o<r;o++){for(var l=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(t[c])for(var n=0;n<2;n++)l[n][c]=t[c][o][n];u[o]=l}return u}W.exports=P},58925:function(W,U,e){var p=e(9330).gl_line3d,L=e(9330).gl_scatter3d,a=e(9330).gl_error3d,P=e(9330).gl_mesh3d,A=e(9330).delaunay_triangulate,v=e(71828),g=e(78614),t=e(81697).formatColor,r=e(39984),u=e(29659),o=e(87381),l=e(89298),c=e(23469).appendArrayPointValue,n=e(67336);function x(m,F){this.scene=m,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=x.prototype;h.handlePick=function(m){if(m.object&&(m.object===this.linePlot||m.object===this.delaunayMesh||m.object===this.textMarkers||m.object===this.scatterPlot)){var F=m.index=m.data.index;return m.object.highlight&&m.object.highlight(null),this.scatterPlot&&(m.object=this.scatterPlot,this.scatterPlot.highlight(m.data)),m.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[F]||this.textLabels[F]===0)&&(m.textLabel=this.textLabels[F]):m.textLabel=this.textLabels),m.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}};function T(m,F,_){var B=(_+1)%3,I=(_+2)%3,O=[],z=[],k;for(k=0;k<m.length;++k){var N=m[k];isNaN(N[B])||!isFinite(N[B])||isNaN(N[I])||!isFinite(N[I])||(O.push([N[B],N[I]]),z.push(k))}var K=A(O);for(k=0;k<K.length;++k)for(var q=K[k],Q=0;Q<q.length;++Q)q[Q]=z[q[Q]];return{positions:m,cells:K,meshColor:F}}function f(m){for(var F=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],I=0;I<3;I++){var O=m[I];O&&O.copy_zstyle!==!1&&m[2].visible!==!1&&(O=m[2]),!(!O||!O.visible)&&(F[I]=O.width/2,_[I]=g(O.color),B[I]=O.thickness)}return{capSize:F,color:_,lineWidth:B}}function s(m){return m==null?0:m.indexOf("left")>-1?-1:m.indexOf("right")>-1?1:0}function d(m){return m==null?0:m.indexOf("top")>-1?-1:m.indexOf("bottom")>-1?1:0}function S(m){var F=0,_=0,B=[F,_];if(Array.isArray(m))for(var I=0;I<m.length;I++)B[I]=[F,_],m[I]&&(B[I][0]=s(m[I]),B[I][1]=d(m[I]));else B[0]=s(m),B[1]=d(m);return B}function M(m,F){return F(m*4)}function C(m){return o[m]}function y(m,F,_,B,I){var O=null;if(v.isArrayOrTypedArray(m)){O=[];for(var z=0;z<F;z++)m[z]===void 0?O[z]=B:O[z]=_(m[z],I)}else O=_(m,v.identity);return O}function w(m,F){var _=[],B=m.fullSceneLayout,I=m.dataScale,O=B.xaxis,z=B.yaxis,k=B.zaxis,N=F.marker,K=F.line,q=F.x||[],Q=F.y||[],re=F.z||[],oe=q.length,Y=F.xcalendar,G=F.ycalendar,V=F.zcalendar,Z,ae,ie,J,$,se;for($=0;$<oe;$++)Z=O.d2l(q[$],0,Y)*I[0],ae=z.d2l(Q[$],0,G)*I[1],ie=k.d2l(re[$],0,V)*I[2],_[$]=[Z,ae,ie];if(Array.isArray(F.text))se=F.text;else if(F.text!==void 0)for(se=new Array(oe),$=0;$<oe;$++)se[$]=F.text;function ee(lt,at){var tt=B[lt];return l.tickText(tt,tt.d2l(at),!0).text}var ue=F.texttemplate;if(ue){var ge=m.fullLayout,Te=ge._d3locale,xe=Array.isArray(ue),Pe=xe?Math.min(ue.length,oe):oe,Ie=xe?function(lt){return ue[lt]}:function(){return ue};for(se=new Array(Pe),$=0;$<Pe;$++){var Ae={x:q[$],y:Q[$],z:re[$]},be={xLabel:ee("xaxis",q[$]),yLabel:ee("yaxis",Q[$]),zLabel:ee("zaxis",re[$])},_e={};c(_e,F,$);var Ve=F._meta||{};se[$]=v.texttemplateString(Ie($),be,Te,_e,Ae,Ve)}}if(J={position:_,mode:F.mode,text:se},"line"in F&&(J.lineColor=t(K,1,oe),J.lineWidth=K.width,J.lineDashes=K.dash),"marker"in F){var We=r(F);J.scatterColor=t(N,1,oe),J.scatterSize=y(N.size,oe,M,20,We),J.scatterMarker=y(N.symbol,oe,C,"●"),J.scatterLineWidth=N.line.width,J.scatterLineColor=t(N.line,1,oe),J.scatterAngle=0}"textposition"in F&&(J.textOffset=S(F.textposition),J.textColor=t(F.textfont,1,oe),J.textSize=y(F.textfont.size,oe,v.identity,12),J.textFont=F.textfont.family,J.textAngle=0);var ze=["x","y","z"];for(J.project=[!1,!1,!1],J.projectScale=[1,1,1],J.projectOpacity=[1,1,1],$=0;$<3;++$){var Ze=F.projection[ze[$]];(J.project[$]=Ze.show)&&(J.projectOpacity[$]=Ze.opacity,J.projectScale[$]=Ze.scale)}J.errorBounds=n(F,I,B);var ct=f([F.error_x,F.error_y,F.error_z]);return J.errorColor=ct.color,J.errorLineWidth=ct.lineWidth,J.errorCapSize=ct.capSize,J.delaunayAxis=F.surfaceaxis,J.delaunayColor=g(F.surfacecolor),J}function b(m){if(v.isArrayOrTypedArray(m)){var F=m[0];return v.isArrayOrTypedArray(F)&&(m=F),"rgb("+m.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function i(m){return v.isArrayOrTypedArray(m)?m.length===4&&typeof m[0]=="number"?b(m):m.map(b):null}h.update=function(m){var F=this.scene.glplot.gl,_,B,I,O,z=u.solid;this.data=m;var k=w(this.scene,m);"mode"in k&&(this.mode=k.mode),"lineDashes"in k&&k.lineDashes in u&&(z=u[k.lineDashes]),this.color=i(k.scatterColor)||i(k.lineColor),this.dataPoints=k.position,_={gl:this.scene.glplot.gl,position:k.position,color:k.lineColor,lineWidth:k.lineWidth||1,dashes:z[0],dashScale:z[1],opacity:m.opacity,connectGaps:m.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=p(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=m.opacity;if(m.marker&&m.marker.opacity&&(N*=m.marker.opacity),B={gl:this.scene.glplot.gl,position:k.position,color:k.scatterColor,size:k.scatterSize,glyph:k.scatterMarker,opacity:N,orthographic:!0,lineWidth:k.scatterLineWidth,lineColor:k.scatterLineColor,project:k.project,projectScale:k.projectScale,projectOpacity:k.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=L(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:k.position,glyph:k.text,color:k.textColor,size:k.textSize,angle:k.textAngle,alignment:k.textOffset,font:k.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:m.opacity},this.textLabels=m.hovertext||m.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=L(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),I={gl:this.scene.glplot.gl,position:k.position,color:k.errorColor,error:k.errorBounds,lineWidth:k.errorLineWidth,capSize:k.errorCapSize,opacity:m.opacity},this.errorBars?k.errorBounds?this.errorBars.update(I):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):k.errorBounds&&(this.errorBars=a(I),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),k.delaunayAxis>=0){var K=T(k.position,k.delaunayColor,k.delaunayAxis);K.opacity=m.opacity,this.delaunayMesh?this.delaunayMesh.update(K):(K.gl=F,this.delaunayMesh=P(K),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(m,F){var _=new x(m,F.uid);return _.update(F),_}W.exports=E},21428:function(W,U,e){var p=e(73972),L=e(71828),a=e(34098),P=e(49508),A=e(11058),v=e(82410),g=e(44542);W.exports=function(u,o,l,c){function n(M,C){return L.coerce(u,o,g,M,C)}var x=t(u,o,n,c);if(!x){o.visible=!1;return}n("text"),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),n("mode"),a.hasLines(o)&&(n("connectgaps"),A(u,o,l,c,n)),a.hasMarkers(o)&&P(u,o,l,c,n,{noSelect:!0,noAngle:!0}),a.hasText(o)&&(n("texttemplate"),v(u,o,c,n,{noSelect:!0}));var h=(o.line||{}).color,T=(o.marker||{}).color;n("surfaceaxis")>=0&&n("surfacecolor",h||T);for(var f=["x","y","z"],s=0;s<3;++s){var d="projection."+f[s];n(d+".show")&&(n(d+".opacity"),n(d+".scale"))}var S=p.getComponentMethod("errorbars","supplyDefaults");S(u,o,h||T||l,{axis:"z"}),S(u,o,h||T||l,{axis:"y",inherit:"z"}),S(u,o,h||T||l,{axis:"x",inherit:"z"})};function t(r,u,o,l){var c=0,n=o("x"),x=o("y"),h=o("z"),T=p.getComponentMethod("calendars","handleTraceDefaults");return T(r,u,["x","y","z"],l),n&&x&&h&&(c=Math.min(n.length,x.length,h.length),u._length=u._xlength=u._ylength=u._zlength=c),c}},13551:function(W,U,e){W.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(W,U,e){var p=e(82196),L=e(9012),a=e(5386).f,P=e(5386).s,A=e(50693),v=e(1426).extendFlat,g=p.marker,t=p.line,r=g.line;W.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},p.mode,{dflt:"markers"}),text:v({},p.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},p.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:p.connectgaps,fill:v({},p.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p.fillcolor,marker:v({symbol:g.symbol,opacity:g.opacity,maxdisplayed:g.maxdisplayed,angle:g.angle,angleref:g.angleref,standoff:g.standoff,size:g.size,sizeref:g.sizeref,sizemin:g.sizemin,sizemode:g.sizemode,line:v({width:r.width,editType:"calc"},A("marker.line")),gradient:g.gradient,editType:"calc"},A("marker")),textfont:p.textfont,textposition:p.textposition,selected:p.selected,unselected:p.unselected,hoverinfo:v({},L.hoverinfo,{flags:["a","b","text","name"]}),hoveron:p.hoveron,hovertemplate:a()}},34618:function(W,U,e){var p=e(92770),L=e(36922),a=e(75225),P=e(66279),A=e(47761).calcMarkerSize,v=e(22882);W.exports=function(t,r){var u=r._carpetTrace=v(t,r);if(!(!u||!u.visible||u.visible==="legendonly")){var o;r.xaxis=u.xaxis,r.yaxis=u.yaxis;var l=r._length,c=new Array(l),n,x,h=!1;for(o=0;o<l;o++)if(n=r.a[o],x=r.b[o],p(n)&&p(x)){var T=u.ab2xy(+n,+x,!0),f=u.isVisible(+n,+x);f||(h=!0),c[o]={x:T[0],y:T[1],a:n,b:x,vis:f}}else c[o]={x:!1,y:!1};return r._needsCull=h,c[0].carpet=u,c[0].trace=r,A(r,l),L(t,r),a(c,r),P(c,r),c}}},98965:function(W,U,e){var p=e(71828),L=e(47581),a=e(34098),P=e(49508),A=e(11058),v=e(94039),g=e(82410),t=e(28908),r=e(97001);W.exports=function(o,l,c,n){function x(M,C){return p.coerce(o,l,r,M,C)}x("carpet"),l.xaxis="x",l.yaxis="y";var h=x("a"),T=x("b"),f=Math.min(h.length,T.length);if(!f){l.visible=!1;return}l._length=f,x("text"),x("texttemplate"),x("hovertext");var s=f<L.PTS_LINESONLY?"lines+markers":"lines";x("mode",s),a.hasLines(l)&&(A(o,l,c,n,x,{backoff:!0}),v(o,l,x),x("connectgaps")),a.hasMarkers(l)&&P(o,l,c,n,x,{gradient:!0}),a.hasText(l)&&g(o,l,n,x);var d=[];(a.hasMarkers(l)||a.hasText(l))&&(x("marker.maxdisplayed"),d.push("points")),x("fill"),l.fill!=="none"&&(t(o,l,c,x),a.hasLines(l)||v(o,l,x)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills");var S=x("hoveron",d.join("+")||"points");S!=="fills"&&x("hovertemplate"),p.coerceSelectionMarkerOpacity(l,x)}},16165:function(W){W.exports=function(e,p,L,a,P){var A=a[P];return e.a=A.a,e.b=A.b,e.y=A.y,e}},48953:function(W){W.exports=function(e,p){var L={},a=p._carpet,P=a.ab2ij([e.a,e.b]),A=Math.floor(P[0]),v=P[0]-A,g=Math.floor(P[1]),t=P[1]-g,r=a.evalxy([],A,g,v,t);return L.yLabel=r[1].toFixed(3),L}},22931:function(W,U,e){var p=e(33720),L=e(71828).fillText;W.exports=function(P,A,v,g){var t=p(P,A,v,g);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var u=1-r.y0/P.ya._length,o=P.xa._length,l=o*u/2,c=o-l;return r.x0=Math.max(Math.min(r.x0,c),l),r.x1=Math.max(Math.min(r.x1,c),l),t}var n=r.cd[r.index];r.a=n.a,r.b=n.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var x=r.trace,h=x._carpet,T=x._module.formatLabels(n,x);r.yLabel=T.yLabel,delete r.text;var f=[];function s(M,C){var y;M.labelprefix&&M.labelprefix.length>0?y=M.labelprefix.replace(/ = $/,""):y=M._hovertitle,f.push(y+": "+C.toFixed(3)+M.labelsuffix)}if(!x.hovertemplate){var d=n.hi||x.hoverinfo,S=d.split("+");S.indexOf("all")!==-1&&(S=["a","b","text"]),S.indexOf("a")!==-1&&s(h.aaxis,n.a),S.indexOf("b")!==-1&&s(h.baxis,n.b),f.push("y: "+r.yLabel),S.indexOf("text")!==-1&&L(n,x,f),r.extraText=f.join("<br>")}return t}},46858:function(W,U,e){W.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(W,U,e){var p=e(32663),L=e(89298),a=e(91424);W.exports=function(A,v,g,t){var r,u,o,l=g[0][0].carpet,c=L.getFromId(A,l.xaxis||"x"),n=L.getFromId(A,l.yaxis||"y"),x={xaxis:c,yaxis:n,plot:v.plot};for(r=0;r<g.length;r++)u=g[r][0].trace,u._xA=c,u._yA=n;for(p(A,x,g,t),r=0;r<g.length;r++)u=g[r][0].trace,o=t.selectAll("g.trace"+u.uid+" .js-line"),a.setClipUrl(o,g[r][0].carpet._clipPathId,A)}},19316:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(82196),P=e(9012),A=e(50693),v=e(79952).P,g=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,u=a.line,o=r.line;W.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:g({},a.mode,{dflt:"markers"}),text:g({},a.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:g({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:u.color,width:u.width,dash:v},connectgaps:a.connectgaps,marker:g({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:g({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:g({width:o.width},A("marker.line")),gradient:r.gradient},A("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:g({},P.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},84622:function(W,U,e){var p=e(92770),L=e(50606).BADNUM,a=e(36922),P=e(75225),A=e(66279),v=e(71828)._;function g(t){return t&&typeof t=="string"}W.exports=function(r,u){var o=Array.isArray(u.locations),l=o?u.locations.length:u._length,c=new Array(l),n;u.geojson?n=function(d){return g(d)||p(d)}:n=g;for(var x=0;x<l;x++){var h=c[x]={};if(o){var T=u.locations[x];h.loc=n(T)?T:null}else{var f=u.lon[x],s=u.lat[x];p(f)&&p(s)?h.lonlat=[+f,+s]:h.lonlat=[L,L]}}return P(c,u),a(r,u),A(c,u),l&&(c[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),c}},10659:function(W,U,e){var p=e(71828),L=e(34098),a=e(49508),P=e(11058),A=e(82410),v=e(28908),g=e(19316);W.exports=function(r,u,o,l){function c(S,M){return p.coerce(r,u,g,S,M)}var n=c("locations"),x;if(n&&n.length){var h=c("geojson"),T;(typeof h=="string"&&h!==""||p.isPlainObject(h))&&(T="geojson-id");var f=c("locationmode",T);f==="geojson-id"&&c("featureidkey"),x=n.length}else{var s=c("lon")||[],d=c("lat")||[];x=Math.min(s.length,d.length)}if(!x){u.visible=!1;return}u._length=x,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),L.hasLines(u)&&(P(r,u,o,l,c),c("connectgaps")),L.hasMarkers(u)&&a(r,u,o,l,c,{gradient:!0}),L.hasText(u)&&(c("texttemplate"),A(r,u,l,c)),c("fill"),u.fill!=="none"&&v(r,u,o,c),p.coerceSelectionMarkerOpacity(u,c)}},84084:function(W){W.exports=function(e,p,L,a,P){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var A=a[P];return A.fIn&&A.fIn.properties&&(e.properties=A.fIn.properties),e}},82719:function(W,U,e){var p=e(89298);W.exports=function(a,P,A){var v={},g=A[P.geo]._subplot,t=g.mockAxis,r=a.lonlat;return v.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(W,U,e){var p=e(30211),L=e(50606).BADNUM,a=e(34603),P=e(71828).fillText,A=e(19316);W.exports=function(t,r,u){var o=t.cd,l=o[0].trace,c=t.xa,n=t.ya,x=t.subplot,h=x.projection.isLonLatOverEdges,T=x.project;function f(w){var b=w.lonlat;if(b[0]===L||h(b))return 1/0;var i=T(b),E=T([r,u]),m=Math.abs(i[0]-E[0]),F=Math.abs(i[1]-E[1]),_=Math.max(3,w.mrc||0);return Math.max(Math.sqrt(m*m+F*F)-_,1-3/_)}if(p.getClosest(o,f,t),t.index!==!1){var s=o[t.index],d=s.lonlat,S=[c.c2p(d),n.c2p(d)],M=s.mrc||1;t.x0=S[0]-M,t.x1=S[0]+M,t.y0=S[1]-M,t.y1=S[1]+M,t.loc=s.loc,t.lon=d[0],t.lat=d[1];var C={};C[l.geo]={_subplot:x};var y=l._module.formatLabels(s,l,C);return t.lonLabel=y.lonLabel,t.latLabel=y.latLabel,t.color=a(l,s),t.extraText=v(l,s,t,o[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}};function v(g,t,r,u){if(g.hovertemplate)return;var o=t.hi||g.hoverinfo,l=o==="all"?A.hoverinfo.flags:o.split("+"),c=l.indexOf("location")!==-1&&Array.isArray(g.locations),n=l.indexOf("lon")!==-1,x=l.indexOf("lat")!==-1,h=l.indexOf("text")!==-1,T=[];function f(s){return s+"°"}return c?T.push(t.loc):n&&x?T.push("("+f(r.latLabel)+", "+f(r.lonLabel)+")"):n?T.push(u.lon+f(r.lonLabel)):x&&T.push(u.lat+f(r.latLabel)),h&&P(t,g,T),T.join("<br>")}},17988:function(W,U,e){W.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(W,U,e){var p=e(39898),L=e(71828),a=e(90973).getTopojsonFeatures,P=e(18214),A=e(41327),v=e(71739).findExtremes,g=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),u=e(33095);function o(c,n,x){var h=n.layers.frontplot.select(".scatterlayer"),T=L.makeTraceGroups(h,x,"trace scattergeo");function f(s,d){s.lonlat[0]===g&&p.select(d).remove()}T.selectAll("*").remove(),T.each(function(s){var d=p.select(this),S=s[0].trace;if(r.hasLines(S)||S.fill!=="none"){var M=P.calcTraceToLineCoords(s),C=S.fill!=="none"?P.makePolygon(M):P.makeLine(M);d.selectAll("path.js-line").data([{geojson:C,trace:S}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(S)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(y){f(y,this)}),r.hasText(S)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(y){f(y,this)}),u(c,s)})}function l(c,n){var x=c[0].trace,h=n[x.geo],T=h._subplot,f=x._length,s,d;if(Array.isArray(x.locations)){var S=x.locationmode,M=S==="geojson-id"?A.extractTraceFeature(c):a(x,T.topojson);for(s=0;s<f;s++){d=c[s];var C=S==="geojson-id"?d.fOut:A.locationToFeature(S,d.loc,M);d.lonlat=C?C.properties.ct:[g,g]}}var y={padded:!0},w,b;if(h.fitbounds==="geojson"&&x.locationmode==="geojson-id"){var i=A.computeBbox(A.getTraceGeojson(x));w=[i[0],i[2]],b=[i[1],i[3]]}else{for(w=new Array(f),b=new Array(f),s=0;s<f;s++)d=c[s],w[s]=d.lonlat[0],b[s]=d.lonlat[1];y.ppad=t(x,f)}x._extremes.lon=v(h.lonaxis._ax,w,y),x._extremes.lat=v(h.lataxis._ax,b,y)}W.exports={calcGeoJSON:l,plot:o}},20548:function(W,U,e){var p=e(34098),L=e(50606).BADNUM;W.exports=function(P,A){var v=P.cd,g=P.xaxis,t=P.yaxis,r=[],u=v[0].trace,o,l,c,n,x,h=!p.hasMarkers(u)&&!p.hasText(u);if(h)return[];if(A===!1)for(x=0;x<v.length;x++)v[x].selected=0;else for(x=0;x<v.length;x++)o=v[x],l=o.lonlat,l[0]!==L&&(c=g.c2p(l),n=t.c2p(l),A.contains([c,n],null,x,P)?(r.push({pointNumber:x,lon:l[0],lat:l[1]}),o.selected=1):o.selected=0);return r}},33095:function(W,U,e){var p=e(39898),L=e(91424),a=e(7901),P=e(16296),A=P.stylePoints,v=P.styleText;W.exports=function(r,u){u&&g(r,u)};function g(t,r){var u=r[0].trace,o=r[0].node3;o.style("opacity",r[0].trace.opacity),A(o,u,t),v(o,u,t),o.selectAll("path.js-line").style("fill","none").each(function(l){var c=p.select(this),n=l.trace,x=n.line||{};c.call(a.stroke,x.color).call(L.dashLine,x.dash||"",x.width||0),n.fill!=="none"&&c.call(a.fill,n.fillcolor)})}},42341:function(W,U,e){var p=e(9012),L=e(82196),a=e(12663).axisHoverFormat,P=e(50693),A=e(78607),v=e(1426).extendFlat,g=e(30962).overrideAll,t=e(78232).DASHES,r=L.line,u=L.marker,o=u.line,l=W.exports=g({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:L.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:A(t),dflt:"solid"}},marker:v({},P("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:v({},P("marker.line"),{width:o.width})}),connectgaps:L.connectgaps,fill:v({},L.fill,{dflt:"none"}),fillcolor:L.fillcolor,selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:p.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=L.hovertemplate,l.texttemplate=L.texttemplate},72156:function(W,U,e){var p=e(20794);W.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:p.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(W,U,e){var p=e(88294),L=e(71828),a=e(41675),P=e(71739).findExtremes,A=e(42973),v=e(47761),g=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,u=e(36922),o=e(19635),l=e(38967),c=e(50606).BADNUM,n=e(78232).TOO_MANY_POINTS;W.exports=function(f,s){var d=f._fullLayout,S=s._xA=a.getFromId(f,s.xaxis,"x"),M=s._yA=a.getFromId(f,s.yaxis,"y"),C=d._plots[s.xaxis+s.yaxis],y=s._length,w=y>=n,b=y*2,i={},E,m=S.makeCalcdata(s,"x"),F=M.makeCalcdata(s,"y"),_=A(s,S,"x",m),B=A(s,M,"y",F),I=_.vals,O=B.vals;s._x=I,s._y=O,s.xperiodalignment&&(s._origX=m,s._xStarts=_.starts,s._xEnds=_.ends),s.yperiodalignment&&(s._origY=F,s._yStarts=B.starts,s._yEnds=B.ends);var z=new Array(b),k=new Array(y);for(E=0;E<y;E++)z[E*2]=I[E]===c?NaN:I[E],z[E*2+1]=O[E]===c?NaN:O[E],k[E]=E;if(S.type==="log")for(E=0;E<b;E+=2)z[E]=S.c2l(z[E]);if(M.type==="log")for(E=1;E<b;E+=2)z[E]=M.c2l(z[E]);w&&S.type!=="log"&&M.type!=="log"?i.tree=p(z):i.ids=k,u(f,s);var N=h(f,C,s,z,I,O),K=l(f,C);r(d,s);var q;return w?N.marker&&(q=N.marker.sizeAvg||Math.max(N.marker.size,3)):q=g(s,y),t(f,s,S,M,I,O,q),N.errorX&&x(s,S,N.errorX),N.errorY&&x(s,M,N.errorY),N.fill&&!K.fill2d&&(K.fill2d=!0),N.marker&&!K.scatter2d&&(K.scatter2d=!0),N.line&&!K.line2d&&(K.line2d=!0),(N.errorX||N.errorY)&&!K.error2d&&(K.error2d=!0),N.text&&!K.glText&&(K.glText=!0),N.marker&&(N.marker.snap=y),K.lineOptions.push(N.line),K.errorXOptions.push(N.errorX),K.errorYOptions.push(N.errorY),K.fillOptions.push(N.fill),K.markerOptions.push(N.marker),K.markerSelectedOptions.push(N.markerSel),K.markerUnselectedOptions.push(N.markerUnsel),K.textOptions.push(N.text),K.textSelectedOptions.push(N.textSel),K.textUnselectedOptions.push(N.textUnsel),K.selectBatch.push([]),K.unselectBatch.push([]),i._scene=K,i.index=K.count,i.x=I,i.y=O,i.positions=z,K.count++,[{x:!1,y:!1,t:i,trace:s}]};function x(T,f,s){var d=T._extremes[f._id],S=P(f,s._bnds,{padded:!0});d.min=d.min.concat(S.min),d.max=d.max.concat(S.max)}function h(T,f,s,d,S,M){var C=o.style(T,s);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&L.extendFlat(C.line,o.linePositions(T,s,d)),C.errorX||C.errorY){var y=o.errorBarPositions(T,s,d,S,M);C.errorX&&L.extendFlat(C.errorX,y.x),C.errorY&&L.extendFlat(C.errorY,y.y)}return C.text&&(L.extendFlat(C.text,{positions:d},o.textPosition(T,s,C.text,C.marker)),L.extendFlat(C.textSel,{positions:d},o.textPosition(T,s,C.text,C.markerSel)),L.extendFlat(C.textUnsel,{positions:d},o.textPosition(T,s,C.text,C.markerUnsel))),C}},78232:function(W){var U=20;W.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(W,U,e){var p=e(92770),L=e(82019),a=e(25075),P=e(73972),A=e(71828),v=e(91424),g=e(41675),t=e(81697).formatColor,r=e(34098),u=e(39984),o=e(68645),l=e(78232),c=e(37822).DESELECTDIM,n={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},x=e(23469).appendArrayPointValue;function h(_,B){var I,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=_._context.plotGlPixelRatio;if(B.visible!==!0)return O;if(r.hasText(B)&&(O.text=T(_,B),O.textSel=d(_,B,B.selected),O.textUnsel=d(_,B,B.unselected)),r.hasMarkers(B)&&(O.marker=f(_,B),O.markerSel=s(_,B,B.selected),O.markerUnsel=s(_,B,B.unselected),!B.unselected&&A.isArrayOrTypedArray(B.marker.opacity))){var k=B.marker.opacity;for(O.markerUnsel.opacity=new Array(k.length),I=0;I<k.length;I++)O.markerUnsel.opacity[I]=c*k[I]}if(r.hasLines(B)){O.line={overlay:!0,thickness:B.line.width*z,color:B.line.color,opacity:B.opacity};var N=(l.DASHES[B.line.dash]||[1]).slice();for(I=0;I<N.length;++I)N[I]*=B.line.width*z;O.line.dashes=N}return B.error_x&&B.error_x.visible&&(O.errorX=S(B,B.error_x,z)),B.error_y&&B.error_y.visible&&(O.errorY=S(B,B.error_y,z)),B.fill&&B.fill!=="none"&&(O.fill={closed:!0,fill:B.fillcolor,thickness:0}),O}function T(_,B){var I=_._fullLayout,O=B._length,z=B.textfont,k=B.textposition,N=Array.isArray(k)?k:[k],K=z.color,q=z.size,Q=z.family,re={},oe,Y=_._context.plotGlPixelRatio,G=B.texttemplate;if(G){re.text=[];var V=I._d3locale,Z=Array.isArray(G),ae=Z?Math.min(G.length,O):O,ie=Z?function(Te){return G[Te]}:function(){return G};for(oe=0;oe<ae;oe++){var J={i:oe},$=B._module.formatLabels(J,B,I),se={};x(se,B,oe);var ee=B._meta||{};re.text.push(A.texttemplateString(ie(oe),$,V,se,J,ee))}}else Array.isArray(B.text)&&B.text.length<O?re.text=B.text.slice():re.text=B.text;if(Array.isArray(re.text))for(oe=re.text.length;oe<O;oe++)re.text[oe]="";for(re.opacity=B.opacity,re.font={},re.align=[],re.baseline=[],oe=0;oe<N.length;oe++){var ue=N[oe].split(/\s+/);switch(ue[1]){case"left":re.align.push("right");break;case"right":re.align.push("left");break;default:re.align.push(ue[1])}switch(ue[0]){case"top":re.baseline.push("bottom");break;case"bottom":re.baseline.push("top");break;default:re.baseline.push(ue[0])}}if(Array.isArray(K))for(re.color=new Array(O),oe=0;oe<O;oe++)re.color[oe]=K[oe];else re.color=K;if(A.isArrayOrTypedArray(q)||Array.isArray(Q))for(re.font=new Array(O),oe=0;oe<O;oe++){var ge=re.font[oe]={};ge.size=(A.isTypedArray(q)?q[oe]:Array.isArray(q)?p(q[oe])?q[oe]:0:q)*Y,ge.family=Array.isArray(Q)?Q[oe]:Q}else re.font={size:q*Y,family:Q};return re}function f(_,B){var I=B._length,O=B.marker,z={},k,N=A.isArrayOrTypedArray(O.symbol),K=A.isArrayOrTypedArray(O.angle),q=A.isArrayOrTypedArray(O.color),Q=A.isArrayOrTypedArray(O.line.color),re=A.isArrayOrTypedArray(O.opacity),oe=A.isArrayOrTypedArray(O.size),Y=A.isArrayOrTypedArray(O.line.width),G;if(N||(G=o.isOpenSymbol(O.symbol)),N||q||Q||re||K){z.symbols=new Array(I),z.angles=new Array(I),z.colors=new Array(I),z.borderColors=new Array(I);var V=O.symbol,Z=O.angle,ae=t(O,O.opacity,I),ie=t(O.line,O.opacity,I);if(!Array.isArray(ie[0])){var J=ie;for(ie=Array(I),k=0;k<I;k++)ie[k]=J}if(!Array.isArray(ae[0])){var $=ae;for(ae=Array(I),k=0;k<I;k++)ae[k]=$}if(!Array.isArray(V)){var se=V;for(V=Array(I),k=0;k<I;k++)V[k]=se}if(!Array.isArray(Z)){var ee=Z;for(Z=Array(I),k=0;k<I;k++)Z[k]=ee}for(z.symbols=V,z.angles=Z,z.colors=ae,z.borderColors=ie,k=0;k<I;k++)N&&(G=o.isOpenSymbol(O.symbol[k])),G&&(ie[k]=ae[k].slice(),ae[k]=ae[k].slice(),ae[k][3]=0);for(z.opacity=B.opacity,z.markers=new Array(I),k=0;k<I;k++)z.markers[k]=i({mx:z.symbols[k],ma:z.angles[k]},B)}else G?(z.color=a(O.color,"uint8"),z.color[3]=0,z.borderColor=a(O.color,"uint8")):(z.color=a(O.color,"uint8"),z.borderColor=a(O.line.color,"uint8")),z.opacity=B.opacity*O.opacity,z.marker=i({mx:O.symbol,ma:O.angle},B);var ue=1,ge=u(B,ue),Te;if(oe||Y){var xe=z.sizes=new Array(I),Pe=z.borderSizes=new Array(I),Ie=0,Ae;if(oe){for(k=0;k<I;k++)xe[k]=ge(O.size[k]),Ie+=xe[k];Ae=Ie/I}else for(Te=ge(O.size),k=0;k<I;k++)xe[k]=Te;if(Y)for(k=0;k<I;k++)Pe[k]=O.line.width[k];else for(Te=O.line.width,k=0;k<I;k++)Pe[k]=Te;z.sizeAvg=Ae}else z.size=ge(O&&O.size||10),z.borderSizes=ge(O.line.width);return z}function s(_,B,I){var O=B.marker,z={};return I&&(I.marker&&I.marker.symbol?z=f(_,A.extendFlat({},O,I.marker)):I.marker&&(I.marker.size&&(z.size=I.marker.size),I.marker.color&&(z.colors=I.marker.color),I.marker.opacity!==void 0&&(z.opacity=I.marker.opacity))),z}function d(_,B,I){var O={};if(!I)return O;if(I.textfont){var z={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:A.extendFlat({},B.textfont)};I.textfont&&A.extendFlat(z.textfont,I.textfont),O=T(_,z)}return O}function S(_,B,I){var O={capSize:B.width*2*I,lineWidth:B.thickness*I,color:B.color};return B.copy_ystyle&&(O=_.error_y),O}var M=l.SYMBOL_SDF_SIZE,C=l.SYMBOL_SIZE,y=l.SYMBOL_STROKE,w={},b=v.symbolFuncs[0](C*.05);function i(_,B){var I=_.mx;if(I==="circle")return null;var O,z,k=v.symbolNumber(I),N=v.symbolFuncs[k%100],K=!!v.symbolNoDot[k%100],q=!!v.symbolNoFill[k%100],Q=o.isDotSymbol(I);if(_.ma&&(I+="_"+_.ma),w[I])return w[I];var re=v.getMarkerAngle(_,B);return Q&&!K?O=N(C*1.1,re)+b:O=N(C,re),z=L(O,{w:M,h:M,viewBox:[-C,-C,C,C],stroke:q?y:-y}),w[I]=z,z||null}function E(_,B,I){var O=I.length,z=O/2,k,N;if(r.hasLines(B)&&z)if(B.line.shape==="hv"){for(k=[],N=0;N<z-1;N++)isNaN(I[N*2])||isNaN(I[N*2+1])?k.push(NaN,NaN,NaN,NaN):(k.push(I[N*2],I[N*2+1]),!isNaN(I[N*2+2])&&!isNaN(I[N*2+3])?k.push(I[N*2+2],I[N*2+1]):k.push(NaN,NaN));k.push(I[O-2],I[O-1])}else if(B.line.shape==="hvh"){for(k=[],N=0;N<z-1;N++)if(isNaN(I[N*2])||isNaN(I[N*2+1])||isNaN(I[N*2+2])||isNaN(I[N*2+3]))!isNaN(I[N*2])&&!isNaN(I[N*2+1])?k.push(I[N*2],I[N*2+1]):k.push(NaN,NaN),k.push(NaN,NaN);else{var K=(I[N*2]+I[N*2+2])/2;k.push(I[N*2],I[N*2+1],K,I[N*2+1],K,I[N*2+3])}k.push(I[O-2],I[O-1])}else if(B.line.shape==="vhv"){for(k=[],N=0;N<z-1;N++)if(isNaN(I[N*2])||isNaN(I[N*2+1])||isNaN(I[N*2+2])||isNaN(I[N*2+3]))!isNaN(I[N*2])&&!isNaN(I[N*2+1])?k.push(I[N*2],I[N*2+1]):k.push(NaN,NaN),k.push(NaN,NaN);else{var q=(I[N*2+1]+I[N*2+3])/2;k.push(I[N*2],I[N*2+1],I[N*2],q,I[N*2+2],q)}k.push(I[O-2],I[O-1])}else if(B.line.shape==="vh"){for(k=[],N=0;N<z-1;N++)isNaN(I[N*2])||isNaN(I[N*2+1])?k.push(NaN,NaN,NaN,NaN):(k.push(I[N*2],I[N*2+1]),!isNaN(I[N*2+2])&&!isNaN(I[N*2+3])?k.push(I[N*2],I[N*2+3]):k.push(NaN,NaN));k.push(I[O-2],I[O-1])}else k=I;var Q=!1;for(N=0;N<k.length;N++)if(isNaN(k[N])){Q=!0;break}var re=Q||k.length>l.TOO_MANY_POINTS||r.hasMarkers(B)?"rect":"round";if(Q&&B.connectgaps){var oe=k[0],Y=k[1];for(N=0;N<k.length;N+=2)isNaN(k[N])||isNaN(k[N+1])?(k[N]=oe,k[N+1]=Y):(oe=k[N],Y=k[N+1])}return{join:re,positions:k}}function m(_,B,I,O,z){var k=P.getComponentMethod("errorbars","makeComputeError"),N=g.getFromId(_,B.xaxis,"x"),K=g.getFromId(_,B.yaxis,"y"),q=I.length/2,Q={};function re(oe,Y){var G=Y._id.charAt(0),V=B["error_"+G];if(V&&V.visible&&(Y.type==="linear"||Y.type==="log")){for(var Z=k(V),ae={x:0,y:1}[G],ie={x:[0,1,2,3],y:[2,3,0,1]}[G],J=new Float64Array(4*q),$=1/0,se=-1/0,ee=0,ue=0;ee<q;ee++,ue+=4){var ge=oe[ee];if(p(ge)){var Te=I[ee*2+ae],xe=Z(ge,ee),Pe=xe[0],Ie=xe[1];if(p(Pe)&&p(Ie)){var Ae=ge-Pe,be=ge+Ie;J[ue+ie[0]]=Te-Y.c2l(Ae),J[ue+ie[1]]=Y.c2l(be)-Te,J[ue+ie[2]]=0,J[ue+ie[3]]=0,$=Math.min($,ge-Pe),se=Math.max(se,ge+Ie)}}}Q[G]={positions:I,errors:J,_bnds:[$,se]}}}return re(O,N),re(z,K),Q}function F(_,B,I,O){var z=B._length,k={},N;if(r.hasMarkers(B)){var K=I.font,q=I.align,Q=I.baseline;for(k.offset=new Array(z),N=0;N<z;N++){var re=O.sizes?O.sizes[N]:O.size,oe=Array.isArray(K)?K[N].size:K.size,Y=Array.isArray(q)?q.length>1?q[N]:q[0]:q,G=Array.isArray(Q)?Q.length>1?Q[N]:Q[0]:Q,V=n[Y],Z=n[G],ae=re?re/.8+1:0,ie=-Z*ae-Z*.5;k.offset[N]=[V*ae/oe,ie/oe]}}return k}W.exports={style:h,markerStyle:f,markerSelection:s,linePositions:E,errorBarPositions:m,textPosition:F}},47148:function(W,U,e){var p=e(71828),L=e(73972),a=e(68645),P=e(42341),A=e(47581),v=e(34098),g=e(67513),t=e(73927),r=e(49508),u=e(11058),o=e(28908),l=e(82410);W.exports=function(n,x,h,T){function f(b,i){return p.coerce(n,x,P,b,i)}var s=n.marker?a.isOpenSymbol(n.marker.symbol):!1,d=v.isBubble(n),S=g(n,x,T,f);if(!S){x.visible=!1;return}t(n,x,T,f),f("xhoverformat"),f("yhoverformat");var M=S<A.PTS_LINESONLY?"lines+markers":"lines";f("text"),f("hovertext"),f("hovertemplate"),f("mode",M),v.hasLines(x)&&(f("connectgaps"),u(n,x,h,T,f),f("line.shape")),v.hasMarkers(x)&&(r(n,x,h,T,f,{noAngleRef:!0,noStandOff:!0}),f("marker.line.width",s||d?1:0)),v.hasText(x)&&(f("texttemplate"),l(n,x,T,f));var C=(x.line||{}).color,y=(x.marker||{}).color;f("fill"),x.fill!=="none"&&o(n,x,h,f);var w=L.getComponentMethod("errorbars","supplyDefaults");w(n,x,C||y||h,{axis:"y"}),w(n,x,C||y||h,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(x,f)}},5345:function(W,U,e){var p=e(71828),L=e(7901),a=e(37822).DESELECTDIM;function P(A){var v=A[0],g=v.trace,t=v.t,r=t._scene,u=t.index,o=r.selectBatch[u],l=r.unselectBatch[u],c=r.textOptions[u],n=r.textSelectedOptions[u]||{},x=r.textUnselectedOptions[u]||{},h=p.extendFlat({},c),T,f;if(o.length||l.length){var s=n.color,d=x.color,S=c.color,M=Array.isArray(S);for(h.color=new Array(g._length),T=0;T<o.length;T++)f=o[T],h.color[f]=s||(M?S[f]:S);for(T=0;T<l.length;T++){f=l[T];var C=M?S[f]:S;h.color[f]=d||(s?C:L.addOpacity(C,a))}}r.glText[u].update(h)}W.exports={styleTextSelection:P}},68101:function(W,U,e){var p=e(8225);W.exports=function(a,P,A){var v=a.i;return"x"in a||(a.x=P._x[v]),"y"in a||(a.y=P._y[v]),p(a,P,A)}},68645:function(W,U,e){var p=e(78232);U.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},U.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},20794:function(W,U,e){var p=e(73972),L=e(71828),a=e(34603);function P(v,g,t,r){var u=v.cd,o=u[0].t,l=u[0].trace,c=v.xa,n=v.ya,x=o.x,h=o.y,T=c.c2p(g),f=n.c2p(t),s=v.distance,d;if(o.tree){var S=c.p2c(T-s),M=c.p2c(T+s),C=n.p2c(f-s),y=n.p2c(f+s);r==="x"?d=o.tree.range(Math.min(S,M),Math.min(n._rl[0],n._rl[1]),Math.max(S,M),Math.max(n._rl[0],n._rl[1])):d=o.tree.range(Math.min(S,M),Math.min(C,y),Math.max(S,M),Math.max(C,y))}else d=o.ids;var w,b,i,E,m,F,_,B,I,O=s;if(r==="x"){var z=!!l.xperiodalignment,k=!!l.yperiodalignment;for(m=0;m<d.length;m++){if(w=d[m],i=x[w],F=Math.abs(c.c2p(i)-T),z){var N=c.c2p(l._xStarts[w]),K=c.c2p(l._xEnds[w]);F=T>=Math.min(N,K)&&T<=Math.max(N,K)?0:1/0}if(F<O){if(O=F,E=h[w],_=n.c2p(E)-f,k){var q=n.c2p(l._yStarts[w]),Q=n.c2p(l._yEnds[w]);_=f>=Math.min(q,Q)&&f<=Math.max(q,Q)?0:1/0}I=Math.sqrt(F*F+_*_),b=d[m]}}}else for(m=d.length-1;m>-1;m--)w=d[m],i=x[w],E=h[w],F=c.c2p(i)-T,_=n.c2p(E)-f,B=Math.sqrt(F*F+_*_),B<O&&(O=I=B,b=w);return v.index=b,v.distance=O,v.dxy=I,b===void 0?[v]:[A(v,x,h,l)]}function A(v,g,t,r){var u=v.xa,o=v.ya,l=v.distance,c=v.dxy,n=v.index,x={pointNumber:n,x:g[n],y:t[n]};x.tx=Array.isArray(r.text)?r.text[n]:r.text,x.htx=Array.isArray(r.hovertext)?r.hovertext[n]:r.hovertext,x.data=Array.isArray(r.customdata)?r.customdata[n]:r.customdata,x.tp=Array.isArray(r.textposition)?r.textposition[n]:r.textposition;var h=r.textfont;h&&(x.ts=L.isArrayOrTypedArray(h.size)?h.size[n]:h.size,x.tc=Array.isArray(h.color)?h.color[n]:h.color,x.tf=Array.isArray(h.family)?h.family[n]:h.family);var T=r.marker;T&&(x.ms=L.isArrayOrTypedArray(T.size)?T.size[n]:T.size,x.mo=L.isArrayOrTypedArray(T.opacity)?T.opacity[n]:T.opacity,x.mx=L.isArrayOrTypedArray(T.symbol)?T.symbol[n]:T.symbol,x.ma=L.isArrayOrTypedArray(T.angle)?T.angle[n]:T.angle,x.mc=L.isArrayOrTypedArray(T.color)?T.color[n]:T.color);var f=T&&T.line;f&&(x.mlc=Array.isArray(f.color)?f.color[n]:f.color,x.mlw=L.isArrayOrTypedArray(f.width)?f.width[n]:f.width);var s=T&&T.gradient;s&&s.type!=="none"&&(x.mgt=Array.isArray(s.type)?s.type[n]:s.type,x.mgc=Array.isArray(s.color)?s.color[n]:s.color);var d=u.c2p(x.x,!0),S=o.c2p(x.y,!0),M=x.mrc||1,C=r.hoverlabel;C&&(x.hbg=Array.isArray(C.bgcolor)?C.bgcolor[n]:C.bgcolor,x.hbc=Array.isArray(C.bordercolor)?C.bordercolor[n]:C.bordercolor,x.hts=L.isArrayOrTypedArray(C.font.size)?C.font.size[n]:C.font.size,x.htc=Array.isArray(C.font.color)?C.font.color[n]:C.font.color,x.htf=Array.isArray(C.font.family)?C.font.family[n]:C.font.family,x.hnl=L.isArrayOrTypedArray(C.namelength)?C.namelength[n]:C.namelength);var y=r.hoverinfo;y&&(x.hi=Array.isArray(y)?y[n]:y);var w=r.hovertemplate;w&&(x.ht=Array.isArray(w)?w[n]:w);var b={};b[v.index]=x;var i=r._origX,E=r._origY,m=L.extendFlat({},v,{color:a(r,x),x0:d-M,x1:d+M,xLabelVal:i?i[n]:x.x,y0:S-M,y1:S+M,yLabelVal:E?E[n]:x.y,cd:b,distance:l,spikeDistance:c,hovertemplate:x.ht});return x.htx?m.text=x.htx:x.tx?m.text=x.tx:r.text&&(m.text=r.text),L.fillText(x,r,m),p.getComponentMethod("errorbars","hoverInfo")(x,r,m),m}W.exports={hoverPoints:P,calcHover:A}},68868:function(W,U,e){var p=e(72156);p.plot=e(26787),W.exports=p},26787:function(W,U,e){var p=e(11870),L=e(46075),a=e(3593),P=e(42505),A=e(71828),v=e(64505).selectMode,g=e(79749),t=e(34098),r=e(68687),u=e(5345).styleTextSelection,o={};function l(n,x,h,T){var f=n._size,s=n.width*T,d=n.height*T,S=f.l*T,M=f.b*T,C=f.r*T,y=f.t*T,w=f.w*T,b=f.h*T;return[S+x.domain[0]*w,M+h.domain[0]*b,s-C-(1-x.domain[1])*w,d-y-(1-h.domain[1])*b]}var c=W.exports=function(x,h,T){if(T.length){var f=x._fullLayout,s=h._scene,d=h.xaxis,S=h.yaxis,M,C;if(s){var y=g(x,["ANGLE_instanced_arrays","OES_element_index_uint"],o);if(!y){s.init();return}var w=s.count,b=f._glcanvas.data()[0].regl;if(r(x,h,T),s.dirty){if(s.error2d===!0&&(s.error2d=a(b)),s.line2d===!0&&(s.line2d=L(b)),s.scatter2d===!0&&(s.scatter2d=p(b)),s.fill2d===!0&&(s.fill2d=L(b)),s.glText===!0)for(s.glText=new Array(w),M=0;M<w;M++)s.glText[M]=new P(b);if(s.glText){if(w>s.glText.length){var i=w-s.glText.length;for(M=0;M<i;M++)s.glText.push(new P(b))}else if(w<s.glText.length){var E=s.glText.length-w,m=s.glText.splice(w,E);m.forEach(function(J){J.destroy()})}for(M=0;M<w;M++)s.glText[M].update(s.textOptions[M])}if(s.line2d&&(s.line2d.update(s.lineOptions),s.lineOptions=s.lineOptions.map(function(J){if(J&&J.positions){for(var $=J.positions,se=0;se<$.length&&(isNaN($[se])||isNaN($[se+1]));)se+=2;for(var ee=$.length-2;ee>se&&(isNaN($[ee])||isNaN($[ee+1]));)ee-=2;J.positions=$.slice(se,ee+2)}return J}),s.line2d.update(s.lineOptions)),s.error2d){var F=(s.errorXOptions||[]).concat(s.errorYOptions||[]);s.error2d.update(F)}s.scatter2d&&s.scatter2d.update(s.markerOptions),s.fillOrder=A.repeat(null,w),s.fill2d&&(s.fillOptions=s.fillOptions.map(function(J,$){var se=T[$];if(!(!J||!se||!se[0]||!se[0].trace)){var ee=se[0],ue=ee.trace,ge=ee.t,Te=s.lineOptions[$],xe,Pe,Ie=[];ue._ownfill&&Ie.push($),ue._nexttrace&&Ie.push($+1),Ie.length&&(s.fillOrder[$]=Ie);var Ae=[],be=Te&&Te.positions||ge.positions,_e,Ve;if(ue.fill==="tozeroy"){for(_e=0;_e<be.length&&isNaN(be[_e+1]);)_e+=2;for(Ve=be.length-2;Ve>_e&&isNaN(be[Ve+1]);)Ve-=2;be[_e+1]!==0&&(Ae=[be[_e],0]),Ae=Ae.concat(be.slice(_e,Ve+2)),be[Ve+1]!==0&&(Ae=Ae.concat([be[Ve],0]))}else if(ue.fill==="tozerox"){for(_e=0;_e<be.length&&isNaN(be[_e]);)_e+=2;for(Ve=be.length-2;Ve>_e&&isNaN(be[Ve]);)Ve-=2;be[_e]!==0&&(Ae=[0,be[_e+1]]),Ae=Ae.concat(be.slice(_e,Ve+2)),be[Ve]!==0&&(Ae=Ae.concat([0,be[Ve+1]]))}else if(ue.fill==="toself"||ue.fill==="tonext"){for(Ae=[],xe=0,J.splitNull=!0,Pe=0;Pe<be.length;Pe+=2)(isNaN(be[Pe])||isNaN(be[Pe+1]))&&(Ae=Ae.concat(be.slice(xe,Pe)),Ae.push(be[xe],be[xe+1]),Ae.push(null,null),xe=Pe+2);Ae=Ae.concat(be.slice(xe)),xe&&Ae.push(be[xe],be[xe+1])}else{var We=ue._nexttrace;if(We){var ze=s.lineOptions[$+1];if(ze){var Ze=ze.positions;if(ue.fill==="tonexty"){for(Ae=be.slice(),$=Math.floor(Ze.length/2);$--;){var ct=Ze[$*2],lt=Ze[$*2+1];isNaN(ct)||isNaN(lt)||Ae.push(ct,lt)}J.fill=We.fillcolor}}}}if(ue._prevtrace&&ue._prevtrace.fill==="tonext"){var at=s.lineOptions[$-1].positions,tt=Ae.length/2;xe=tt;var dt=[xe];for(Pe=0;Pe<at.length;Pe+=2)(isNaN(at[Pe])||isNaN(at[Pe+1]))&&(dt.push(Pe/2+tt+1),xe=Pe+2);Ae=Ae.concat(at),J.hole=dt}return J.fillmode=ue.fill,J.opacity=ue.opacity,J.positions=Ae,J}}),s.fill2d.update(s.fillOptions))}var _=f.dragmode,B=v(_),I=f.clickmode.indexOf("select")>-1;for(M=0;M<w;M++){var O=T[M][0],z=O.trace,k=O.t,N=k.index,K=z._length,q=k.x,Q=k.y;if(z.selectedpoints||B||I){if(B||(B=!0),z.selectedpoints){var re=s.selectBatch[N]=A.selIndices2selPoints(z),oe={};for(C=0;C<re.length;C++)oe[re[C]]=1;var Y=[];for(C=0;C<K;C++)oe[C]||Y.push(C);s.unselectBatch[N]=Y}var G=k.xpx=new Array(K),V=k.ypx=new Array(K);for(C=0;C<K;C++)G[C]=d.c2p(q[C]),V[C]=S.c2p(Q[C])}else k.xpx=k.ypx=null}if(B){if(s.select2d||(s.select2d=p(f._glcanvas.data()[1].regl)),s.scatter2d){var Z=new Array(w);for(M=0;M<w;M++)Z[M]=s.selectBatch[M].length||s.unselectBatch[M].length?s.markerUnselectedOptions[M]:{};s.scatter2d.update(Z)}s.select2d&&(s.select2d.update(s.markerOptions),s.select2d.update(s.markerSelectedOptions)),s.glText&&T.forEach(function(J){var $=((J||[])[0]||{}).trace||{};t.hasText($)&&u(J)})}else s.scatter2d&&s.scatter2d.update(s.markerOptions);var ae={viewport:l(f,d,S,x._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(S._rl||S.range)[0],(d._rl||d.range)[1],(S._rl||S.range)[1]]},ie=A.repeat(ae,s.count);s.fill2d&&s.fill2d.update(ie),s.line2d&&s.line2d.update(ie),s.error2d&&s.error2d.update(ie.concat(ie)),s.scatter2d&&s.scatter2d.update(ie),s.select2d&&s.select2d.update(ie),s.glText&&s.glText.forEach(function(J){J.update(ae)})}}};c.reglPrecompiled=o},38967:function(W,U,e){var p=e(71828);W.exports=function(a,P){var A=P._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return P._scene||(A=P._scene={},A.init=function(){p.extendFlat(A,g,v)},A.init(),A.update=function(r){var u=p.repeat(r,A.count);if(A.fill2d&&A.fill2d.update(u),A.scatter2d&&A.scatter2d.update(u),A.line2d&&A.line2d.update(u),A.error2d&&A.error2d.update(u.concat(u)),A.select2d&&A.select2d.update(u),A.glText)for(var o=0;o<A.count;o++)A.glText[o].update(r)},A.draw=function(){for(var r=A.count,u=A.fill2d,o=A.error2d,l=A.line2d,c=A.scatter2d,n=A.glText,x=A.select2d,h=A.selectBatch,T=A.unselectBatch,f=0;f<r;f++){if(u&&A.fillOrder[f]&&u.draw(A.fillOrder[f]),l&&A.lineOptions[f]&&l.draw(f),o&&(A.errorXOptions[f]&&o.draw(f),A.errorYOptions[f]&&o.draw(f+r)),c&&A.markerOptions[f])if(T[f].length){var s=p.repeat([],A.count);s[f]=T[f],c.draw(s)}else h[f].length||c.draw(f);n[f]&&A.textOptions[f]&&n[f].render()}x&&x.draw(h),A.dirty=!1},A.destroy=function(){A.fill2d&&A.fill2d.destroy&&A.fill2d.destroy(),A.scatter2d&&A.scatter2d.destroy&&A.scatter2d.destroy(),A.error2d&&A.error2d.destroy&&A.error2d.destroy(),A.line2d&&A.line2d.destroy&&A.line2d.destroy(),A.select2d&&A.select2d.destroy&&A.select2d.destroy(),A.glText&&A.glText.forEach(function(r){r.destroy&&r.destroy()}),A.lineOptions=null,A.fillOptions=null,A.markerOptions=null,A.markerSelectedOptions=null,A.markerUnselectedOptions=null,A.errorXOptions=null,A.errorYOptions=null,A.textOptions=null,A.textSelectedOptions=null,A.textUnselectedOptions=null,A.selectBatch=null,A.unselectBatch=null,P._scene=null}),A.dirty||p.extendFlat(A,v),A}},58147:function(W,U,e){var p=e(34098),L=e(5345).styleTextSelection;W.exports=function(P,A){var v=P.cd,g=P.xaxis,t=P.yaxis,r=[],u=v[0].trace,o=v[0].t,l=u._length,c=o.x,n=o.y,x=o._scene,h=o.index;if(!x)return r;var T=p.hasText(u),f=p.hasMarkers(u),s=!f&&!T;if(u.visible!==!0||s)return r;var d=[],S=[];if(A!==!1&&!A.degenerate)for(var M=0;M<l;M++)A.contains([o.xpx[M],o.ypx[M]],!1,M,P)?(d.push(M),r.push({pointNumber:M,x:g.c2d(c[M]),y:t.c2d(n[M])})):S.push(M);if(f){var C=x.scatter2d;if(!d.length&&!S.length){var y=new Array(x.count);y[h]=x.markerOptions[h],C.update.apply(C,y)}else if(!x.selectBatch[h].length&&!x.unselectBatch[h].length){var w=new Array(x.count);w[h]=x.markerUnselectedOptions[h],C.update.apply(C,w)}}return x.selectBatch[h]=d,x.unselectBatch[h]=S,T&&L(v),r}},99181:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(19316),P=e(82196),A=e(23585),v=e(9012),g=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,u=e(23585),o=a.line,l=a.marker;W.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},u.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},P.mode,{dflt:"markers"}),text:t({},P.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},P.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:P.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},g("marker")),fill:a.fill,fillcolor:P.fillcolor,textfont:A.layers.symbol.textfont,textposition:A.layers.symbol.textposition,below:{valType:"string"},selected:{marker:P.selected.marker},unselected:{marker:P.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},15790:function(W,U,e){var p=e(92770),L=e(71828),a=e(50606).BADNUM,P=e(18214),A=e(21081),v=e(91424),g=e(39984),t=e(34098),r=e(13056),u=e(23469).appendArrayPointValue,o=e(63893).NEWLINES,l=e(63893).BR_TAG_ALL;W.exports=function(S,M){var C=M[0].trace,y=C.visible===!0&&C._length!==0,w=C.fill!=="none",b=t.hasLines(C),i=t.hasMarkers(C),E=t.hasText(C),m=i&&C.marker.symbol==="circle",F=i&&C.marker.symbol!=="circle",_=C.cluster&&C.cluster.enabled,B=c("fill"),I=c("line"),O=c("circle"),z=c("symbol"),k={fill:B,line:I,circle:O,symbol:z};if(!y)return k;var N;if((w||b)&&(N=P.calcTraceToLineCoords(M)),w&&(B.geojson=P.makePolygon(N),B.layout.visibility="visible",L.extendFlat(B.paint,{"fill-color":C.fillcolor})),b&&(I.geojson=P.makeLine(N),I.layout.visibility="visible",L.extendFlat(I.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),m){var K=n(M);O.geojson=K.geojson,O.layout.visibility="visible",_&&(O.filter=["!",["has","point_count"]],k.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":s(C.cluster.color,C.cluster.step),"circle-radius":s(C.cluster.size,C.cluster.step),"circle-opacity":s(C.cluster.opacity,C.cluster.step)}},k.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(O.paint,{"circle-color":K.mcc,"circle-radius":K.mrc,"circle-opacity":K.mo})}if(m&&_&&(O.filter=["!",["has","point_count"]]),(F||E)&&(z.geojson=x(M,S),L.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),F&&(L.extendFlat(z.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&L.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=C.marker.allowoverlap,L.extendFlat(z.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),E)){var q=(C.marker||{}).size,Q=r(C.textposition,q);L.extendFlat(z.layout,{"text-size":C.textfont.size,"text-anchor":Q.anchor,"text-offset":Q.offset}),L.extendFlat(z.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return k};function c(d){return{type:d,geojson:P.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function n(d){var S=d[0].trace,M=S.marker,C=S.selectedpoints,y=L.isArrayOrTypedArray(M.color),w=L.isArrayOrTypedArray(M.size),b=L.isArrayOrTypedArray(M.opacity),i;function E(q){return S.opacity*q}function m(q){return q/2}var F;y&&(A.hasColorscale(S,"marker")?F=A.makeColorScaleFuncFromTrace(M):F=L.identity);var _;w&&(_=g(S));var B;b&&(B=function(q){var Q=p(q)?+L.constrain(q,0,1):0;return E(Q)});var I=[];for(i=0;i<d.length;i++){var O=d[i],z=O.lonlat;if(!f(z)){var k={};F&&(k.mcc=O.mcc=F(O.mc)),_&&(k.mrc=O.mrc=_(O.ms)),B&&(k.mo=B(O.mo)),C&&(k.selected=O.selected||0),I.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:z},properties:k})}}var N;if(C)for(N=v.makeSelectedPointStyleFns(S),i=0;i<I.length;i++){var K=I[i].properties;N.selectedOpacityFn&&(K.mo=E(N.selectedOpacityFn(K))),N.selectedColorFn&&(K.mcc=N.selectedColorFn(K)),N.selectedSizeFn&&(K.mrc=N.selectedSizeFn(K))}return{geojson:{type:"FeatureCollection",features:I},mcc:y||N&&N.selectedColorFn?{type:"identity",property:"mcc"}:M.color,mrc:w||N&&N.selectedSizeFn?{type:"identity",property:"mrc"}:m(M.size),mo:b||N&&N.selectedOpacityFn?{type:"identity",property:"mo"}:E(M.opacity)}}function x(d,S){for(var M=S._fullLayout,C=d[0].trace,y=C.marker||{},w=y.symbol,b=y.angle,i=w!=="circle"?h(w):T,E=b!=="auto"?h(b,!0):T,m=t.hasText(C)?h(C.text):T,F=[],_=0;_<d.length;_++){var B=d[_];if(!f(B.lonlat)){var I=C.texttemplate,O;if(I){var z=Array.isArray(I)?I[_]||"":I,k=C._module.formatLabels(B,C,M),N={};u(N,C,B.i);var K=C._meta||{};O=L.texttemplateString(z,k,M._d3locale,N,B,K)}else O=m(_);O&&(O=O.replace(o,"").replace(l,`
`)),F.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:i(_),angle:E(_),text:O}})}}return{type:"FeatureCollection",features:F}}function h(d,S){return L.isArrayOrTypedArray(d)?S?function(M){return p(d[M])?+d[M]:0}:function(M){return d[M]}:d?function(){return d}:T}function T(){return""}function f(d){return d[0]===a}function s(d,S){var M;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(S)){M=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)M.push(S[C-1],d[C])}else M=d;return M}},76645:function(W,U,e){var p=e(71828),L=e(34098),a=e(49508),P=e(11058),A=e(82410),v=e(28908),g=e(99181);W.exports=function(u,o,l,c){function n(y,w){return p.coerce(u,o,g,y,w)}function x(y,w){return p.coerce2(u,o,g,y,w)}var h=t(u,o,n);if(!h){o.visible=!1;return}if(n("text"),n("texttemplate"),n("hovertext"),n("hovertemplate"),n("mode"),n("below"),L.hasLines(o)&&(P(u,o,l,c,n,{noDash:!0}),n("connectgaps")),L.hasMarkers(o)){a(u,o,l,c,n,{noLine:!0,noAngle:!0}),n("marker.allowoverlap"),n("marker.angle");var T=o.marker;T.symbol!=="circle"&&(p.isArrayOrTypedArray(T.size)&&(T.size=T.size[0]),p.isArrayOrTypedArray(T.color)&&(T.color=T.color[0]))}var f=x("cluster.maxzoom"),s=x("cluster.step"),d=x("cluster.color",o.marker&&o.marker.color||l),S=x("cluster.size"),M=x("cluster.opacity"),C=f!==!1||s!==!1||d!==!1||S!==!1||M!==!1;n("cluster.enabled",C),L.hasText(o)&&A(u,o,c,n,{noSelect:!0}),n("fill"),o.fill!=="none"&&v(u,o,l,n),p.coerceSelectionMarkerOpacity(o,n)};function t(r,u,o){var l=o("lon")||[],c=o("lat")||[],n=Math.min(l.length,c.length);return u._length=n,n}},53353:function(W){W.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},15636:function(W,U,e){var p=e(89298);W.exports=function(a,P,A){var v={},g=A[P.subplot]._subplot,t=g.mockAxis,r=a.lonlat;return v.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(W,U,e){var p=e(30211),L=e(71828),a=e(34603),P=L.fillText,A=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function g(r,u,o){var l=r.cd,c=l[0].trace,n=r.xa,x=r.ya,h=r.subplot,T=[],f=v+c.uid+"-circle",s=c.cluster&&c.cluster.enabled;if(s){var d=h.map.queryRenderedFeatures(null,{layers:[f]});T=d.map(function(I){return I.id})}var S=u>=0?Math.floor((u+180)/360):Math.ceil((u-180)/360),M=S*360,C=u-M;function y(I){var O=I.lonlat;if(O[0]===A||s&&T.indexOf(I.i+1)===-1)return 1/0;var z=L.modHalf(O[0],360),k=O[1],N=h.project([z,k]),K=N.x-n.c2p([C,k]),q=N.y-x.c2p([z,o]),Q=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(K*K+q*q)-Q,1-3/Q)}if(p.getClosest(l,y,r),r.index!==!1){var w=l[r.index],b=w.lonlat,i=[L.modHalf(b[0],360)+M,b[1]],E=n.c2p(i),m=x.c2p(i),F=w.mrc||1;r.x0=E-F,r.x1=E+F,r.y0=m-F,r.y1=m+F;var _={};_[c.subplot]={_subplot:h};var B=c._module.formatLabels(w,c,_);return r.lonLabel=B.lonLabel,r.latLabel=B.latLabel,r.color=a(c,w),r.extraText=t(c,w,l[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}}function t(r,u,o){if(r.hovertemplate)return;var l=u.hi||r.hoverinfo,c=l.split("+"),n=c.indexOf("all")!==-1,x=c.indexOf("lon")!==-1,h=c.indexOf("lat")!==-1,T=u.lonlat,f=[];function s(d){return d+"°"}return n||x&&h?f.push("("+s(T[1])+", "+s(T[0])+")"):x?f.push(o.lon+s(T[0])):h&&f.push(o.lat+s(T[1])),(n||c.indexOf("text")!==-1)&&P(u,r,f),f.join("<br>")}W.exports={hoverPoints:g,getExtraText:t}},20467:function(W,U,e){W.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(p,L){if(L){var a=L[0].trace;a._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(W,U,e){var p=e(71828),L=e(15790),a=e(77734).traceLayerPrefix,P={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function A(g,t,r,u){this.type="scattermapbox",this.subplot=g,this.uid=t,this.clusterEnabled=r,this.isHidden=u,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var v=A.prototype;v.addSource=function(g,t,r){var u={type:"geojson",data:t.geojson};r&&r.enabled&&p.extendFlat(u,{cluster:!0,clusterMaxZoom:r.maxzoom}),this.subplot.map.addSource(this.sourceIds[g],u)},v.setSourceData=function(g,t){this.subplot.map.getSource(this.sourceIds[g]).setData(t.geojson)},v.addLayer=function(g,t,r){var u={type:t.type,id:this.layerIds[g],source:this.sourceIds[g],layout:t.layout,paint:t.paint};t.filter&&(u.filter=t.filter),this.subplot.addLayer(u,r)},v.update=function(t){var r=t[0].trace,u=this.subplot,o=u.map,l=L(u.gd,t),c=u.belowLookup["trace-"+this.uid],n=!!(r.cluster&&r.cluster.enabled),x=!!this.clusterEnabled,h=this;function T(b){b||h.addSource("circle",l.circle,r.cluster);for(var i=P.cluster,E=0;E<i.length;E++){var m=i[E],F=l[m];h.addLayer(m,F,c)}}function f(b){for(var i=P.cluster,E=i.length-1;E>=0;E--){var m=i[E];o.removeLayer(h.layerIds[m])}b||o.removeSource(h.sourceIds.circle)}function s(b){for(var i=P.nonCluster,E=0;E<i.length;E++){var m=i[E],F=l[m];b||h.addSource(m,F),h.addLayer(m,F,c)}}function d(b){for(var i=P.nonCluster,E=i.length-1;E>=0;E--){var m=i[E];o.removeLayer(h.layerIds[m]),b||o.removeSource(h.sourceIds[m])}}function S(b){x?f(b):d(b)}function M(b){n?T(b):s(b)}function C(){for(var b=n?P.cluster:P.nonCluster,i=0;i<b.length;i++){var E=b[i],m=l[E];m&&(u.setOptions(h.layerIds[E],"setLayoutProperty",m.layout),m.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,m),u.setOptions(h.layerIds[E],"setPaintProperty",m.paint)))}}var y=this.isHidden,w=r.visible!==!0;w?y||S():y?w||M():x!==n?(S(),M()):(this.below!==c&&(S(!0),M(!0)),C()),this.clusterEnabled=n,this.isHidden=w,this.below=c,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?P.cluster:P.nonCluster,u=r.length-1;u>=0;u--){var o=r[u];t.removeLayer(this.layerIds[o]),t.removeSource(this.sourceIds[o])}},W.exports=function(t,r){var u=r[0].trace,o=u.cluster&&u.cluster.enabled,l=u.visible!==!0,c=new A(t,u.uid,o,l),n=L(t.gd,r),x=c.below=t.belowLookup["trace-"+u.uid],h,T,f;if(o)for(c.addSource("circle",n.circle,u.cluster),h=0;h<P.cluster.length;h++)T=P.cluster[h],f=n[T],c.addLayer(T,f,x);else for(h=0;h<P.nonCluster.length;h++)T=P.nonCluster[h],f=n[T],c.addSource(T,f,u.cluster),c.addLayer(T,f,x);return r[0].trace._glTrace=c,c}},86387:function(W,U,e){var p=e(71828),L=e(34098),a=e(50606).BADNUM;W.exports=function(A,v){var g=A.cd,t=A.xaxis,r=A.yaxis,u=[],o=g[0].trace,l;if(!L.hasMarkers(o))return[];if(v===!1)for(l=0;l<g.length;l++)g[l].selected=0;else for(l=0;l<g.length;l++){var c=g[l],n=c.lonlat;if(n[0]!==a){var x=[p.modHalf(n[0],360),n[1]],h=[t.c2p(x),r.c2p(x)];v.contains(h,null,l,A)?(u.push({pointNumber:l,lon:n[0],lat:n[1]}),c.selected=1):c.selected=0}}return u}},81245:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(1426).extendFlat,P=e(82196),A=e(9012),v=P.line;W.exports={mode:P.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:P.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:a({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:a({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:a({},A.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:P.hoveron,hovertemplate:p(),selected:P.selected,unselected:P.unselected}},26442:function(W,U,e){var p=e(92770),L=e(50606).BADNUM,a=e(89298),P=e(36922),A=e(75225),v=e(66279),g=e(47761).calcMarkerSize;W.exports=function(r,u){for(var o=r._fullLayout,l=u.subplot,c=o[l].radialaxis,n=o[l].angularaxis,x=c.makeCalcdata(u,"r"),h=n.makeCalcdata(u,"theta"),T=u._length,f=new Array(T),s=0;s<T;s++){var d=x[s],S=h[s],M=f[s]={};p(d)&&p(S)?(M.r=d,M.theta=S):M.r=L}var C=g(u,T);return u._extremes.x=a.findExtremes(c,x,{ppad:C}),P(r,u),A(f,u),v(f,u),f}},22184:function(W,U,e){var p=e(71828),L=e(34098),a=e(49508),P=e(11058),A=e(94039),v=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function u(l,c,n,x){function h(s,d){return p.coerce(l,c,r,s,d)}var T=o(l,c,x,h);if(!T){c.visible=!1;return}h("thetaunit"),h("mode",T<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),L.hasLines(c)&&(P(l,c,n,x,h,{backoff:!0}),A(l,c,h),h("connectgaps")),L.hasMarkers(c)&&a(l,c,n,x,h,{gradient:!0}),L.hasText(c)&&(h("texttemplate"),v(l,c,x,h));var f=[];(L.hasMarkers(c)||L.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(g(l,c,n,h),L.hasLines(c)||A(l,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,h)}function o(l,c,n,x){var h=x("r"),T=x("theta"),f;if(h)T?f=Math.min(h.length,T.length):(f=h.length,x("theta0"),x("dtheta"));else{if(!T)return 0;f=c.theta.length,x("r0"),x("dr")}return c._length=f,f}W.exports={handleRThetaDefaults:o,supplyDefaults:u}},98608:function(W,U,e){var p=e(71828),L=e(89298);W.exports=function(P,A,v){var g={},t=v[A.subplot]._subplot,r,u;t?(r=t.radialAxis,u=t.angularAxis):(t=v[A.subplot],r=t.radialaxis,u=t.angularaxis);var o=r.c2l(P.r);g.rLabel=L.tickText(r,o,!0).text;var l=u.thetaunit==="degrees"?p.rad2deg(P.theta):P.theta;return g.thetaLabel=L.tickText(u,l,!0).text,g}},59150:function(W,U,e){var p=e(33720);function L(P,A,v,g){var t=p(P,A,v,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=P.subplot,o=r.cd[r.index],l=r.trace;if(u.isPtInside(o))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(o,l,u,r),r.hovertemplate=l.hovertemplate,t}}function a(P,A,v,g){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="θ";var u={};u[A.subplot]={_subplot:v};var o=A._module.formatLabels(P,A,u);g.rLabel=o.rLabel,g.thetaLabel=o.thetaLabel;var l=P.hi||A.hoverinfo,c=[];function n(h,T){c.push(h._hovertitle+": "+T)}if(!A.hovertemplate){var x=l.split("+");x.indexOf("all")!==-1&&(x=["r","theta","text"]),x.indexOf("r")!==-1&&n(t,g.rLabel),x.indexOf("theta")!==-1&&n(r,g.thetaLabel),x.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}W.exports={hoverPoints:L,makeHoverPointText:a}},91271:function(W,U,e){W.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(W,U,e){var p=e(32663),L=e(50606).BADNUM;W.exports=function(P,A,v){for(var g=A.layers.frontplot.select("g.scatterlayer"),t=A.xaxis,r=A.yaxis,u={xaxis:t,yaxis:r,plot:A.framework,layerClipId:A._hasClipOnAxisFalse?A.clipIds.forTraces:null},o=A.radialAxis,l=A.angularAxis,c=0;c<v.length;c++)for(var n=v[c],x=0;x<n.length;x++){x===0&&(n[0].trace._xA=t,n[0].trace._yA=r);var h=n[x],T=h.r;if(T===L)h.x=h.y=L;else{var f=o.c2g(T),s=l.c2g(h.theta);h.x=f*Math.cos(s),h.y=f*Math.sin(s)}}p(P,u,v,g)}},53286:function(W,U,e){var p=e(81245),L=e(42341),a=e(5386).s;W.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:L.line,connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},65746:function(W,U,e){W.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(W,U,e){var p=e(36922),L=e(47761).calcMarkerSize,a=e(19635),P=e(89298),A=e(78232).TOO_MANY_POINTS;W.exports=function(g,t){var r=g._fullLayout,u=t.subplot,o=r[u].radialaxis,l=r[u].angularaxis,c=t._r=o.makeCalcdata(t,"r"),n=t._theta=l.makeCalcdata(t,"theta"),x=t._length,h={};x<c.length&&(c=c.slice(0,x)),x<n.length&&(n=n.slice(0,x)),h.r=c,h.theta=n,p(g,t);var T=h.opts=a.style(g,t),f;return x<A?f=L(t,x):T.marker&&(f=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),t._extremes.x=P.findExtremes(o,c,{ppad:f}),[{x:!1,y:!1,t:h,trace:t}]}},75485:function(W,U,e){var p=e(71828),L=e(34098),a=e(22184).handleRThetaDefaults,P=e(49508),A=e(11058),v=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);W.exports=function(o,l,c,n){function x(T,f){return p.coerce(o,l,r,T,f)}var h=a(o,l,n,x);if(!h){l.visible=!1;return}x("thetaunit"),x("mode",h<t?"lines+markers":"lines"),x("text"),x("hovertext"),l.hoveron!=="fills"&&x("hovertemplate"),L.hasLines(l)&&(A(o,l,c,n,x),x("connectgaps")),L.hasMarkers(l)&&P(o,l,c,n,x,{noAngleRef:!0,noStandOff:!0}),L.hasText(l)&&(x("texttemplate"),v(o,l,n,x)),x("fill"),l.fill!=="none"&&g(o,l,c,x),p.coerceSelectionMarkerOpacity(l,x)}},46255:function(W,U,e){var p=e(98608);W.exports=function(a,P,A){var v=a.i;return"r"in a||(a.r=P._r[v]),"theta"in a||(a.theta=P._theta[v]),p(a,P,A)}},29347:function(W,U,e){var p=e(20794),L=e(59150).makeHoverPointText;function a(P,A,v,g){var t=P.cd,r=t[0].t,u=r.r,o=r.theta,l=p.hoverPoints(P,A,v,g);if(!(!l||l[0].index===!1)){var c=l[0];if(c.index===void 0)return l;var n=P.subplot,x=c.cd[c.index],h=c.trace;if(x.r=u[c.index],x.theta=o[c.index],!!n.isPtInside(x))return c.xLabelVal=void 0,c.yLabelVal=void 0,L(x,h,n,c),l}}W.exports={hoverPoints:a}},21461:function(W,U,e){var p=e(65746);p.plot=e(49741),W.exports=p},49741:function(W,U,e){var p=e(88294),L=e(92770),a=e(26787),P=e(38967),A=e(19635),v=e(71828),g=e(78232).TOO_MANY_POINTS,t={};W.exports=function(u,o,l){if(l.length){var c=o.radialAxis,n=o.angularAxis,x=P(u,o);return l.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],f=T.trace,s=T.t,d=f._length,S=s.r,M=s.theta,C=s.opts,y,w=S.slice(),b=M.slice();for(y=0;y<S.length;y++)o.isPtInside({r:S[y],theta:M[y]})||(w[y]=NaN,b[y]=NaN);var i=new Array(d*2),E=Array(d),m=Array(d);for(y=0;y<d;y++){var F=w[y],_,B;if(L(F)){var I=c.c2g(F),O=n.c2g(b[y],f.thetaunit);_=I*Math.cos(O),B=I*Math.sin(O)}else _=B=NaN;E[y]=i[y*2]=_,m[y]=i[y*2+1]=B}s.tree=p(i),C.marker&&d>=g&&(C.marker.cluster=s.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=i),C.line&&i.length>1&&v.extendFlat(C.line,A.linePositions(u,f,i)),C.text&&(v.extendFlat(C.text,{positions:i},A.textPosition(u,f,C.text,C.marker)),v.extendFlat(C.textSel,{positions:i},A.textPosition(u,f,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:i},A.textPosition(u,f,C.text,C.markerUnsel))),C.fill&&!x.fill2d&&(x.fill2d=!0),C.marker&&!x.scatter2d&&(x.scatter2d=!0),C.line&&!x.line2d&&(x.line2d=!0),C.text&&!x.glText&&(x.glText=!0),x.lineOptions.push(C.line),x.fillOptions.push(C.fill),x.markerOptions.push(C.marker),x.markerSelectedOptions.push(C.markerSel),x.markerUnselectedOptions.push(C.markerUnsel),x.textOptions.push(C.text),x.textSelectedOptions.push(C.textSel),x.textUnselectedOptions.push(C.textUnsel),x.selectBatch.push([]),x.unselectBatch.push([]),s.x=E,s.y=m,s.rawx=E,s.rawy=m,s.r=S,s.theta=M,s.positions=i,s._scene=x,s.index=x.count,x.count++}}),a(u,o,l)}},W.exports.reglPrecompiled=t},48300:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(1426).extendFlat,P=e(82196),A=e(9012),v=P.line;W.exports={mode:P.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:P.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:a({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:a({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:a({},A.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:P.hoveron,hovertemplate:p(),selected:P.selected,unselected:P.unselected}},30621:function(W,U,e){var p=e(92770),L=e(50606).BADNUM,a=e(36922),P=e(75225),A=e(66279),v=e(47761).calcMarkerSize;W.exports=function(t,r){for(var u=t._fullLayout,o=r.subplot,l=u[o].realaxis,c=u[o].imaginaryaxis,n=l.makeCalcdata(r,"real"),x=c.makeCalcdata(r,"imag"),h=r._length,T=new Array(h),f=0;f<h;f++){var s=n[f],d=x[f],S=T[f]={};p(s)&&p(d)?(S.real=s,S.imag=d):S.real=L}return v(r,h),a(t,r),P(T,r),A(T,r),T}},65269:function(W,U,e){var p=e(71828),L=e(34098),a=e(49508),P=e(11058),A=e(94039),v=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);W.exports=function(l,c,n,x){function h(s,d){return p.coerce(l,c,r,s,d)}var T=u(l,c,x,h);if(!T){c.visible=!1;return}h("mode",T<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),L.hasLines(c)&&(P(l,c,n,x,h,{backoff:!0}),A(l,c,h),h("connectgaps")),L.hasMarkers(c)&&a(l,c,n,x,h,{gradient:!0}),L.hasText(c)&&(h("texttemplate"),v(l,c,x,h));var f=[];(L.hasMarkers(c)||L.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(g(l,c,n,h),L.hasLines(c)||A(l,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,h)};function u(o,l,c,n){var x=n("real"),h=n("imag"),T;return x&&h&&(T=Math.min(x.length,h.length)),l._length=T,T}},62047:function(W,U,e){var p=e(89298);W.exports=function(a,P,A){var v={},g=A[P.subplot]._subplot;return v.realLabel=p.tickText(g.radialAxis,a.real,!0).text,v.imagLabel=p.tickText(g.angularAxis,a.imag,!0).text,v}},11350:function(W,U,e){var p=e(33720);function L(P,A,v,g){var t=p(P,A,v,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=P.subplot,o=r.cd[r.index],l=r.trace;if(u.isPtInside(o))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(o,l,u,r),r.hovertemplate=l.hovertemplate,t}}function a(P,A,v,g){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var u={};u[A.subplot]={_subplot:v};var o=A._module.formatLabels(P,A,u);g.realLabel=o.realLabel,g.imagLabel=o.imagLabel;var l=P.hi||A.hoverinfo,c=[];function n(h,T){c.push(h._hovertitle+": "+T)}if(!A.hovertemplate){var x=l.split("+");x.indexOf("all")!==-1&&(x=["real","imag","text"]),x.indexOf("real")!==-1&&n(t,g.realLabel),x.indexOf("imag")!==-1&&n(r,g.imagLabel),x.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}W.exports={hoverPoints:L,makeHoverPointText:a}},85956:function(W,U,e){W.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(W,U,e){var p=e(32663),L=e(50606).BADNUM,a=e(23893),P=a.smith;W.exports=function(v,g,t){for(var r=g.layers.frontplot.select("g.scatterlayer"),u=g.xaxis,o=g.yaxis,l={xaxis:u,yaxis:o,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},c=0;c<t.length;c++)for(var n=t[c],x=0;x<n.length;x++){x===0&&(n[0].trace._xA=u,n[0].trace._yA=o);var h=n[x],T=h.real;if(T===L)h.x=h.y=L;else{var f=P([T,h.imag]);h.x=f[0],h.y=f[1]}}p(v,l,t,r)}},50413:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(82196),P=e(9012),A=e(50693),v=e(79952).P,g=e(1426).extendFlat,t=a.marker,r=a.line,u=t.line;W.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:g({},a.mode,{dflt:"markers"}),text:g({},a.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:g({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:g({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:g({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:g({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:g({width:u.width,editType:"calc"},A("marker.line")),gradient:t.gradient,editType:"calc"},A("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:g({},P.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:p()}},54337:function(W,U,e){var p=e(92770),L=e(36922),a=e(75225),P=e(66279),A=e(47761).calcMarkerSize,v=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};W.exports=function(r,u){var o=r._fullLayout[u.subplot],l=o.sum,c=u.sum||l,n={a:u.a,b:u.b,c:u.c},x,h,T,f,s,d;for(x=0;x<v.length;x++)if(T=v[x],!n[T]){for(s=n[g[T][0]],d=n[g[T][1]],f=new Array(s.length),h=0;h<s.length;h++)f[h]=c-s[h]-d[h];n[T]=f}var S=u._length,M=new Array(S),C,y,w,b,i,E;for(x=0;x<S;x++)C=n.a[x],y=n.b[x],w=n.c[x],p(C)&&p(y)&&p(w)?(C=+C,y=+y,w=+w,b=l/(C+y+w),b!==1&&(C*=b,y*=b,w*=b),E=C,i=w-y,M[x]={x:i,y:E,a:C,b:y,c:w}):M[x]={x:!1,y:!1};return A(u,S),L(r,u),a(M,u),P(M,u),M}},46008:function(W,U,e){var p=e(71828),L=e(47581),a=e(34098),P=e(49508),A=e(11058),v=e(94039),g=e(82410),t=e(28908),r=e(50413);W.exports=function(o,l,c,n){function x(M,C){return p.coerce(o,l,r,M,C)}var h=x("a"),T=x("b"),f=x("c"),s;if(h?(s=h.length,T?(s=Math.min(s,T.length),f&&(s=Math.min(s,f.length))):f?s=Math.min(s,f.length):s=0):T&&f&&(s=Math.min(T.length,f.length)),!s){l.visible=!1;return}l._length=s,x("sum"),x("text"),x("hovertext"),l.hoveron!=="fills"&&x("hovertemplate");var d=s<L.PTS_LINESONLY?"lines+markers":"lines";x("mode",d),a.hasLines(l)&&(A(o,l,c,n,x,{backoff:!0}),v(o,l,x),x("connectgaps")),a.hasMarkers(l)&&P(o,l,c,n,x,{gradient:!0}),a.hasText(l)&&(x("texttemplate"),g(o,l,n,x));var S=[];(a.hasMarkers(l)||a.hasText(l))&&(x("cliponaxis"),x("marker.maxdisplayed"),S.push("points")),x("fill"),l.fill!=="none"&&(t(o,l,c,x),a.hasLines(l)||v(o,l,x)),(l.fill==="tonext"||l.fill==="toself")&&S.push("fills"),x("hoveron",S.join("+")||"points"),p.coerceSelectionMarkerOpacity(l,x)}},4524:function(W){W.exports=function(e,p,L,a,P){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),a[P]){var A=a[P];e.a=A.a,e.b=A.b,e.c=A.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},93645:function(W,U,e){var p=e(89298);W.exports=function(a,P,A){var v={},g=A[P.subplot]._subplot;return v.aLabel=p.tickText(g.aaxis,a.a,!0).text,v.bLabel=p.tickText(g.baxis,a.b,!0).text,v.cLabel=p.tickText(g.caxis,a.c,!0).text,v}},47250:function(W,U,e){var p=e(33720);W.exports=function(a,P,A,v){var g=p(a,P,A,v);if(!g||g[0].index===!1)return;var t=g[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,u=a.xa._length,o=u*r/2,l=u-o;return t.x0=Math.max(Math.min(t.x0,l),o),t.x1=Math.max(Math.min(t.x1,l),o),g}var c=t.cd[t.index],n=t.trace,x=t.subplot;t.a=c.a,t.b=c.b,t.c=c.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var h={};h[n.subplot]={_subplot:x};var T=n._module.formatLabels(c,n,h);t.aLabel=T.aLabel,t.bLabel=T.bLabel,t.cLabel=T.cLabel;var f=c.hi||n.hoverinfo,s=[];function d(M,C){s.push(M._hovertitle+": "+C)}if(!n.hovertemplate){var S=f.split("+");S.indexOf("all")!==-1&&(S=["a","b","c"]),S.indexOf("a")!==-1&&d(x.aaxis,t.aLabel),S.indexOf("b")!==-1&&d(x.baxis,t.bLabel),S.indexOf("c")!==-1&&d(x.caxis,t.cLabel)}return t.extraText=s.join("<br>"),t.hovertemplate=n.hovertemplate,g}},52979:function(W,U,e){W.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(W,U,e){var p=e(32663);W.exports=function(a,P,A){var v=P.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var g=P.xaxis,t=P.yaxis,r={xaxis:g,yaxis:t,plot:v,layerClipId:P._hasClipOnAxisFalse?P.clipIdRelative:null},u=P.layers.frontplot.select("g.scatterlayer"),o=0;o<A.length;o++){var l=A[o];l.length&&(l[0].trace._xA=g,l[0].trace._yA=t)}p(a,r,A,u)}},46880:function(W,U,e){var p=e(82196),L=e(50693),a=e(12663).axisHoverFormat,P=e(5386).f,A=e(42341),v=e(85555).idRegex,g=e(44467).templatedArray,t=e(1426).extendFlat,r=p.marker,u=r.line,o=t(L("marker.line",{editTypeOverride:"calc"}),{width:t({},u.width,{editType:"calc"}),editType:"calc"}),l=t(L("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:o,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function c(n){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[n],editType:"plot"}}}W.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},A.text,{}),hovertext:t({},A.hovertext,{}),hovertemplate:P(),xhoverformat:a("x"),yhoverformat:a("y"),marker:l,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:A.selected.marker,editType:"calc"},unselected:{marker:A.unselected.marker,editType:"calc"},opacity:A.opacity}},65017:function(W,U,e){var p=e(73972),L=e(83312);W.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},p.register(L)},16947:function(W,U,e){var p=e(46075),L=e(73972),a=e(79749),P=e(27659).a0,A=e(93612),v=e(41675).getFromId,g=e(89298).shouldShowZeroLine,t="splom",r={};function u(h){var T=h._fullLayout,f=L.getModule(t),s=P(h.calcdata,f)[0],d=a(h,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(T._hasOnlyLargeSploms&&c(h),f.plot(h,{},s))}function o(h){var T=h.calcdata,f=h._fullLayout;f._hasOnlyLargeSploms&&c(h);for(var s=0;s<T.length;s++){var d=T[s][0],S=d.trace,M=f._splomScenes[S.uid];S.type==="splom"&&M&&M.matrix&&l(h,S,M)}}function l(h,T,f){for(var s=f.matrixOptions.data.length,d=T._visibleDims,S=f.viewOpts.ranges=new Array(s),M=0;M<d.length;M++){var C=d[M],y=S[M]=new Array(4),w=v(h,T._diag[C][0]);w&&(y[0]=w.r2l(w.range[0]),y[2]=w.r2l(w.range[1]));var b=v(h,T._diag[C][1]);b&&(y[1]=b.r2l(b.range[0]),y[3]=b.r2l(b.range[1]))}f.selectBatch.length||f.unselectBatch.length?f.matrix.update({ranges:S},{ranges:S}):f.matrix.update({ranges:S})}function c(h){var T=h._fullLayout,f=T._glcanvas.data()[0].regl,s=T._splomGrid;s||(s=T._splomGrid=p(f)),s.update(n(h))}function n(h){var T=h._context.plotGlPixelRatio,f=h._fullLayout,s=f._size,d=[0,0,f.width*T,f.height*T],S={},M;function C(K,q,Q,re,oe,Y){Q*=T,re*=T,oe*=T,Y*=T;var G=q[K+"color"],V=q[K+"width"],Z=String(G+V);Z in S?S[Z].data.push(NaN,NaN,Q,re,oe,Y):S[Z]={data:[Q,re,oe,Y],join:"rect",thickness:V*T,color:G,viewport:d,range:d,overlay:!1}}for(M in f._splomSubplots){var y=f._plots[M],w=y.xaxis,b=y.yaxis,i=w._gridVals,E=b._gridVals,m=w._offset,F=w._length,_=b._length,B=s.b+b.domain[0]*s.h,I=-b._m,O=-I*b.r2l(b.range[0],b.calendar),z,k;if(w.showgrid)for(M=0;M<i.length;M++)z=m+w.l2p(i[M].x),C("grid",w,z,B,z,B+_);if(b.showgrid)for(M=0;M<E.length;M++)k=B+O+I*E[M].x,C("grid",b,m,k,m+F,k);g(h,w,b)&&(z=m+w.l2p(0),C("zeroline",w,z,B,z,B+_)),g(h,b,w)&&(k=B+O+0,C("zeroline",b,m,k,m+F,k))}var N=[];for(M in S)N.push(S[M]);return N}function x(h,T,f,s){var d={},S;if(s._splomScenes){for(S=0;S<h.length;S++){var M=h[S];M.type==="splom"&&(d[M.uid]=1)}for(S=0;S<f.length;S++){var C=f[S];if(!d[C.uid]){var y=s._splomScenes[C.uid];y&&y.destroy&&y.destroy(),s._splomScenes[C.uid]=null,delete s._splomScenes[C.uid]}}}Object.keys(s._splomScenes||{}).length===0&&delete s._splomScenes,s._splomGrid&&!T._hasOnlyLargeSploms&&s._hasOnlyLargeSploms&&(s._splomGrid.destroy(),s._splomGrid=null,delete s._splomGrid),A.clean(h,T,f,s)}W.exports={name:t,attr:A.attr,attrRegex:A.attrRegex,layoutAttributes:A.layoutAttributes,supplyLayoutDefaults:A.supplyLayoutDefaults,drawFramework:A.drawFramework,plot:u,drag:o,updateGrid:c,clean:x,updateFx:A.updateFx,toSVG:A.toSVG,reglPrecompiled:r}},87625:function(W,U,e){var p=e(71828),L=e(41675),a=e(47761).calcMarkerSize,P=e(47761).calcAxisExpansion,A=e(36922),v=e(19635).markerSelection,g=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;W.exports=function(l,c){var n=c.dimensions,x=c._length,h={},T=h.cdata=[],f=h.data=[],s=c._visibleDims=[],d,S,M,C,y;function w(F,_){for(var B=F.makeCalcdata({v:_.values,vcalendar:c.calendar},"v"),I=0;I<B.length;I++)B[I]=B[I]===r?NaN:B[I];T.push(B),f.push(F.type==="log"?p.simpleMap(B,F.c2l):B)}for(d=0;d<n.length;d++)if(M=n[d],M.visible){if(C=L.getFromId(l,c._diag[d][0]),y=L.getFromId(l,c._diag[d][1]),C&&y&&C.type!==y.type){p.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(w(C,M),y&&y.type==="category"&&(y._categories=C._categories.slice())):w(y,M),s.push(d)}A(l,c),p.extendFlat(h,g(l,c));var b=T.length,i=b*x>u,E;for(i?E=h.sizeAvg||Math.max(h.size,3):E=a(c,x),S=0;S<s.length;S++)d=s[S],M=n[d],C=L.getFromId(l,c._diag[d][0])||{},y=L.getFromId(l,c._diag[d][1])||{},P(l,c,C,y,T[S],T[S],E);var m=t(l,c);return m.matrix||(m.matrix=!0),m.matrixOptions=h,m.selectedOptions=v(l,c,c.selected),m.unselectedOptions=v(l,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(W,U,e){var p=e(71828),L=e(85501),a=e(46880),P=e(34098),A=e(49508),v=e(94397),g=e(68645).isOpenSymbol;W.exports=function(o,l,c,n){function x(C,y){return p.coerce(o,l,a,C,y)}var h=L(o,l,{name:"dimensions",handleItemDefaults:t}),T=x("diagonal.visible"),f=x("showupperhalf"),s=x("showlowerhalf"),d=v(l,h,"values");if(!d||!T&&!f&&!s){l.visible=!1;return}x("text"),x("hovertext"),x("hovertemplate"),x("xhoverformat"),x("yhoverformat"),A(o,l,c,n,x,{noAngleRef:!0,noStandOff:!0});var S=g(l.marker.symbol),M=P.isBubble(l);x("marker.line.width",S||M?1:0),r(o,l,n,x),p.coerceSelectionMarkerOpacity(l,x)};function t(u,o){function l(n,x){return p.coerce(u,o,a.dimensions,n,x)}l("label");var c=l("values");c&&c.length?l("visible"):o.visible=!1,l("axis.type"),l("axis.matches")}function r(u,o,l,c){var n=o.dimensions,x=n.length,h=o.showupperhalf,T=o.showlowerhalf,f=o.diagonal.visible,s,d,S=new Array(x),M=new Array(x);for(s=0;s<x;s++){var C=s?s+1:"";S[s]="x"+C,M[s]="y"+C}var y=c("xaxes",S),w=c("yaxes",M),b=o._diag=new Array(x);o._xaxes={},o._yaxes={};var i=[],E=[];function m(K,q,Q,re){if(K){var oe=K.charAt(0),Y=l._splomAxes[oe];if(o["_"+oe+"axes"][K]=1,re.push(K),!(K in Y)){var G=Y[K]={};Q&&(G.label=Q.label||"",Q.visible&&Q.axis&&(Q.axis.type&&(G.type=Q.axis.type),Q.axis.matches&&(G.matches=q)))}}}var F=!f&&!T,_=!f&&!h;for(o._axesDim={},s=0;s<x;s++){var B=n[s],I=s===0,O=s===x-1,z=I&&F||O&&_?void 0:y[s],k=I&&_||O&&F?void 0:w[s];m(z,k,B,i),m(k,z,B,E),b[s]=[z,k],o._axesDim[z]=s,o._axesDim[k]=s}for(s=0;s<i.length;s++)for(d=0;d<E.length;d++){var N=i[s]+E[d];(s>d&&h||s<d&&T||s===d&&(f||!T||!h))&&(l._splomSubplots[N]=1)}(!T||!f&&h&&T)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},28801:function(W,U,e){var p=e(71828),L=e(36922),a=e(19635).markerStyle;W.exports=function(A,v){var g=v.trace,t=A._fullLayout._splomScenes[g.uid];if(t){L(A,g),p.extendFlat(t.matrixOptions,a(A,g));var r=p.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(W,U){U.getDimIndex=function(p,L){for(var a=L._id,P=a.charAt(0),A={x:0,y:1}[P],v=p._visibleDims,g=0;g<v.length;g++){var t=v[g];if(p._diag[t][A]===a)return g}return!1}},8567:function(W,U,e){var p=e(35948),L=e(20794).calcHover;function a(P,A,v){var g=P.cd,t=g[0].trace,r=P.scene,u=r.matrixOptions.cdata,o=P.xa,l=P.ya,c=o.c2p(A),n=l.c2p(v),x=P.distance,h=p.getDimIndex(t,o),T=p.getDimIndex(t,l);if(h===!1||T===!1)return[P];for(var f=u[h],s=u[T],d,S,M=x,C=0;C<f.length;C++){var y=f[C],w=s[C],b=o.c2p(y)-c,i=l.c2p(w)-n,E=Math.sqrt(b*b+i*i);E<M&&(M=S=E,d=C)}return P.index=d,P.distance=M,P.dxy=S,d===void 0?[P]:[L(P,f,s,t)]}W.exports={hoverPoints:a}},6419:function(W,U,e){var p=e(65017);p.basePlotModule=e(16947),W.exports=p},79410:function(W,U,e){var p=e(60487),L=e(71828),a=e(41675),P=e(64505).selectMode;W.exports=function(g,t,r){if(r.length)for(var u=0;u<r.length;u++)A(g,r[u][0])};function A(v,g){var t=v._fullLayout,r=t._size,u=g.trace,o=g.t,l=t._splomScenes[u.uid],c=l.matrixOptions,n=c.cdata,x=t._glcanvas.data()[0].regl,h=t.dragmode,T,f,s,d,S;if(n.length!==0){c.lower=u.showupperhalf,c.upper=u.showlowerhalf,c.diagonal=u.diagonal.visible;var M=u._visibleDims,C=n.length,y=l.viewOpts={};for(y.ranges=new Array(C),y.domains=new Array(C),S=0;S<M.length;S++){s=M[S];var w=y.ranges[S]=new Array(4),b=y.domains[S]=new Array(4);T=a.getFromId(v,u._diag[s][0]),T&&(w[0]=T._rl[0],w[2]=T._rl[1],b[0]=T.domain[0],b[2]=T.domain[1]),f=a.getFromId(v,u._diag[s][1]),f&&(w[1]=f._rl[0],w[3]=f._rl[1],b[1]=f.domain[0],b[3]=f.domain[1])}var i=v._context.plotGlPixelRatio,E=r.l*i,m=r.b*i,F=r.w*i,_=r.h*i;y.viewport=[E,m,F+E,_+m],l.matrix===!0&&(l.matrix=p(x));var B=t.clickmode.indexOf("select")>-1,I=P(h)||!!u.selectedpoints||B,O=!0;if(I){var z=u._length;if(u.selectedpoints){l.selectBatch=u.selectedpoints;var k=u.selectedpoints,N={};for(s=0;s<k.length;s++)N[k[s]]=!0;var K=[];for(s=0;s<z;s++)N[s]||K.push(s);l.unselectBatch=K}var q=o.xpx=new Array(C),Q=o.ypx=new Array(C);for(S=0;S<M.length;S++){if(s=M[S],T=a.getFromId(v,u._diag[s][0]),T)for(q[S]=new Array(z),d=0;d<z;d++)q[S][d]=T.c2p(n[S][d]);if(f=a.getFromId(v,u._diag[s][1]),f)for(Q[S]=new Array(z),d=0;d<z;d++)Q[S][d]=f.c2p(n[S][d])}if(l.selectBatch.length||l.unselectBatch.length){var re=L.extendFlat({},c,l.unselectedOptions,y),oe=L.extendFlat({},c,l.selectedOptions,y);l.matrix.update(re,oe),O=!1}}else o.xpx=o.ypx=null;if(O){var Y=L.extendFlat({},c,y);l.matrix.update(Y,null)}}}},10164:function(W,U,e){var p=e(71828);W.exports=function(a,P){var A=a._fullLayout,v=P.uid,g=A._splomScenes;g||(g=A._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},u=g[P.uid];return u||(u=g[v]=p.extendFlat({},t,r),u.draw=function(){u.matrix&&u.matrix.draw&&(u.selectBatch.length||u.unselectBatch.length?u.matrix.draw(u.unselectBatch,u.selectBatch):u.matrix.draw()),u.dirty=!1},u.destroy=function(){u.matrix&&u.matrix.destroy&&u.matrix.destroy(),u.matrixOptions=null,u.selectBatch=null,u.unselectBatch=null,u=null}),u.dirty||p.extendFlat(u,t),u}},8689:function(W,U,e){var p=e(71828),L=p.pushUnique,a=e(34098),P=e(35948);W.exports=function(v,g){var t=v.cd,r=t[0].trace,u=t[0].t,o=v.scene,l=o.matrixOptions.cdata,c=v.xaxis,n=v.yaxis,x=[];if(!o)return x;var h=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||h)return x;var T=P.getDimIndex(r,c),f=P.getDimIndex(r,n);if(T===!1||f===!1)return x;var s=u.xpx[T],d=u.ypx[f],S=l[T],M=l[f],C=(v.scene.selectBatch||[]).slice(),y=[];if(g!==!1&&!g.degenerate)for(var w=0;w<S.length;w++)g.contains([s[w],d[w]],null,w,v)?(x.push({pointNumber:w,x:S[w],y:M[w]}),L(C,w)):C.indexOf(w)!==-1?L(C,w):y.push(w);var b=o.matrixOptions;return!C.length&&!y.length?o.matrix.update(b,null):!o.selectBatch.length&&!o.unselectBatch.length&&o.matrix.update(o.unselectedOptions,p.extendFlat({},b,o.selectedOptions,o.viewOpts)),o.selectBatch=C,o.unselectBatch=y,x}},21850:function(W,U,e){var p=e(50693),L=e(12663).axisHoverFormat,a=e(5386).f,P=e(2418),A=e(9012),v=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},A.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=P[r]}),g.hoverinfo=v({},A.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,W.exports=g},88489:function(W,U,e){var p=e(71828),L=e(78803);function a(g,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=P(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var u=0,o,l,c;t.starts&&(o=v(t.starts.x||[]),l=v(t.starts.y||[]),c=v(t.starts.z||[]),u=Math.min(o.length,l.length,c.length)),t._startsX=o||[],t._startsY=l||[],t._startsZ=c||[];var n=0,x=1/0,h;for(h=0;h<t._len;h++){var T=t._u[h],f=t._v[h],s=t._w[h],d=Math.sqrt(T*T+f*f+s*s);n=Math.max(n,d),x=Math.min(x,d)}for(L(g,t,{vals:[x,n],containerStr:"",cLetter:"c"}),h=0;h<u;h++){var S=o[h];r.xMax=Math.max(r.xMax,S),r.xMin=Math.min(r.xMin,S);var M=l[h];r.yMax=Math.max(r.yMax,M),r.yMin=Math.min(r.yMin,M);var C=c[h];r.zMax=Math.max(r.zMax,C),r.zMin=Math.min(r.zMin,C)}t._slen=u,t._normMax=n,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function P(g){var t=g._x,r=g._y,u=g._z,o=g._len,l,c,n,x=-1/0,h=1/0,T=-1/0,f=1/0,s=-1/0,d=1/0,S="",M,C,y,w,b,i,E,m,F;for(o&&(w=t[0],i=r[0],m=u[0]),o>1&&(b=t[o-1],E=r[o-1],F=u[o-1]),l=0;l<o;l++)x=Math.max(x,t[l]),h=Math.min(h,t[l]),T=Math.max(T,r[l]),f=Math.min(f,r[l]),s=Math.max(s,u[l]),d=Math.min(d,u[l]),!M&&t[l]!==w&&(M=!0,S+="x"),!C&&r[l]!==i&&(C=!0,S+="y"),!y&&u[l]!==m&&(y=!0,S+="z");M||(S+="x"),C||(S+="y"),y||(S+="z");var _=A(g._x),B=A(g._y),I=A(g._z);S=S.replace("x",(w>b?"-":"+")+"x"),S=S.replace("y",(i>E?"-":"+")+"y"),S=S.replace("z",(m>F?"-":"+")+"z");var O=function(){o=0,_=[],B=[],I=[]};(!o||o<_.length*B.length*I.length)&&O();var z=function(ue){return ue==="x"?t:ue==="y"?r:u},k=function(ue){return ue==="x"?_:ue==="y"?B:I},N=function(ue){return ue[o-1]<ue[0]?-1:1},K=z(S[1]),q=z(S[3]),Q=z(S[5]),re=k(S[1]).length,oe=k(S[3]).length,Y=k(S[5]).length,G=!1,V=function(ue,ge,Te){return re*(oe*ue+ge)+Te},Z=N(z(S[1])),ae=N(z(S[3])),ie=N(z(S[5]));for(l=0;l<Y-1;l++){for(c=0;c<oe-1;c++){for(n=0;n<re-1;n++){var J=V(l,c,n),$=V(l,c,n+1),se=V(l,c+1,n),ee=V(l+1,c,n);if((!(K[J]*Z<K[$]*Z)||!(q[J]*ae<q[se]*ae)||!(Q[J]*ie<Q[ee]*ie))&&(G=!0),G)break}if(G)break}if(G)break}return G&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:h,yMin:f,zMin:d,xMax:x,yMax:T,zMax:s,Xs:_,Ys:B,Zs:I,len:o,fill:S}}function A(g){return p.distinctVals(g).vals}function v(g,t){if(t===void 0&&(t=g.length),p.isTypedArray(g))return g.subarray(0,t);for(var r=[],u=0;u<t;u++)r[u]=+g[u];return r}W.exports={calc:a,filter:v,processGrid:P}},90154:function(W,U,e){var p=e(9330).gl_streamtube3d,L=p.createTubeMesh,a=e(71828),P=e(81697).parseColorScale,A=e(21081).extractOpts,v=e(90060),g={xaxis:0,yaxis:1,zaxis:2};function t(n,x){this.scene=n,this.uid=x,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(n){var x=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,S){var M=x[S],C=h[g[S]];return M.l2c(d)/C}if(n.object===this.mesh){var f=n.data.position,s=n.data.velocity;return n.traceCoordinate=[T(f[0],"xaxis"),T(f[1],"yaxis"),T(f[2],"zaxis"),T(s[0],"xaxis"),T(s[1],"yaxis"),T(s[2],"zaxis"),n.data.intensity*this.data._normMax,n.data.divergence],n.textLabel=this.data.hovertext||this.data.text,!0}};function u(n){var x=n.length,h;return x>2?h=n.slice(1,x-1):x===2?h=[(n[0]+n[1])/2]:h=n,h}function o(n){var x=n.length;return x===1?[.5,.5]:[n[1]-n[0],n[x-1]-n[x-2]]}function l(n,x){var h=n.fullSceneLayout,T=n.dataScale,f=x._len,s={};function d(oe,Y){var G=h[Y],V=T[g[Y]];return a.simpleMap(oe,function(Z){return G.d2l(Z)*V})}if(s.vectors=v(d(x._u,"xaxis"),d(x._v,"yaxis"),d(x._w,"zaxis"),f),!f)return{positions:[],cells:[]};var S=d(x._Xs,"xaxis"),M=d(x._Ys,"yaxis"),C=d(x._Zs,"zaxis");s.meshgrid=[S,M,C],s.gridFill=x._gridFill;var y=x._slen;if(y)s.startingPositions=v(d(x._startsX,"xaxis"),d(x._startsY,"yaxis"),d(x._startsZ,"zaxis"));else{for(var w=M[0],b=u(S),i=u(C),E=new Array(b.length*i.length),m=0,F=0;F<b.length;F++)for(var _=0;_<i.length;_++)E[m++]=[b[F],w,i[_]];s.startingPositions=E}s.colormap=P(x),s.tubeSize=x.sizeref,s.maxLength=x.maxdisplayed;var B=d(x._xbnds,"xaxis"),I=d(x._ybnds,"yaxis"),O=d(x._zbnds,"zaxis"),z=o(S),k=o(M),N=o(C),K=[[B[0]-z[0],I[0]-k[0],O[0]-N[0]],[B[1]+z[1],I[1]+k[1],O[1]+N[1]]],q=p(s,K),Q=A(x);q.vertexIntensityBounds=[Q.min/x._normMax,Q.max/x._normMax];var re=x.lightposition;return q.lightPosition=[re.x,re.y,re.z],q.ambient=x.lighting.ambient,q.diffuse=x.lighting.diffuse,q.specular=x.lighting.specular,q.roughness=x.lighting.roughness,q.fresnel=x.lighting.fresnel,q.opacity=x.opacity,x._pad=q.tubeScale*x.sizeref*2,q}r.update=function(n){this.data=n;var x=l(this.scene,n);this.mesh.update(x)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(n,x){var h=n.glplot.gl,T=l(n,x),f=L(h,T),s=new t(n,x.uid);return s.mesh=f,s.data=x,f._trace=s,n.glplot.add(f),s}W.exports=c},22459:function(W,U,e){var p=e(71828),L=e(1586),a=e(21850);W.exports=function(A,v,g,t){function r(h,T){return p.coerce(A,v,a,h,T)}var u=r("u"),o=r("v"),l=r("w"),c=r("x"),n=r("y"),x=r("z");if(!u||!u.length||!o||!o.length||!l||!l.length||!c||!c.length||!n||!n.length||!x||!x.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(A,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(W,U,e){W.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},57564:function(W,U,e){var p=e(9012),L=e(5386).f,a=e(5386).s,P=e(50693),A=e(27670).Y,v=e(34e3),g=e(7055),t=e(1426).extendFlat;W.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},P("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:g.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:A({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(W,U,e){var p=e(74875);U.name="sunburst",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},52147:function(W,U,e){var p=e(674),L=e(92770),a=e(71828),P=e(21081).makeColorScaleFuncFromTrace,A=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,g=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},u={},o={};U.calc=function(c,n){var x=c._fullLayout,h=n.ids,T=a.isArrayOrTypedArray(h),f=n.labels,s=n.parents,d=n.values,S=a.isArrayOrTypedArray(d),M=[],C={},y={},w=function(Z,ae){C[Z]?C[Z].push(ae):C[Z]=[ae],y[ae]=1},b=function(Z){return Z||typeof Z=="number"},i=function(Z){return!S||L(d[Z])&&d[Z]>=0},E,m,F;T?(E=Math.min(h.length,s.length),m=function(Z){return b(h[Z])&&i(Z)},F=function(Z){return String(h[Z])}):(E=Math.min(f.length,s.length),m=function(Z){return b(f[Z])&&i(Z)},F=function(Z){return String(f[Z])}),S&&(E=Math.min(E,d.length));for(var _=0;_<E;_++)if(m(_)){var B=F(_),I=b(s[_])?String(s[_]):"",O={i:_,id:B,pid:I,label:b(f[_])?String(f[_]):""};S&&(O.v=+d[_]),M.push(O),w(I,B)}if(C[""]){if(C[""].length>1){for(var N=a.randstr(),K=0;K<M.length;K++)M[K].pid===""&&(M[K].pid=N);M.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var z=[],k;for(k in C)y[k]||z.push(k);if(z.length===1)k=z[0],M.unshift({hasImpliedRoot:!0,id:k,pid:"",label:k});else return a.warn(["Multiple implied roots, cannot build",n.type,"hierarchy of",n.name+".","These roots include:",z.join(", ")].join(" "))}var q;try{q=p.stratify().id(function(Z){return Z.id}).parentId(function(Z){return Z.pid})(M)}catch(Z){return a.warn(["Failed to build",n.type,"hierarchy of",n.name+".","Error:",Z.message].join(" "))}var Q=p.hierarchy(q),re=!1;if(S)switch(n.branchvalues){case"remainder":Q.sum(function(Z){return Z.data.v});break;case"total":Q.each(function(Z){var ae=Z.data.data,ie=ae.v;if(Z.children){var J=Z.children.reduce(function($,se){return $+se.data.data.v},0);if((ae.hasImpliedRoot||ae.hasMultipleRoots)&&(ie=J),ie<J*t)return re=!0,a.warn(["Total value for node",Z.data.data.id,"of",n.name,"is smaller than the sum of its children.",`
parent value =`,ie,`
children sum =`,J].join(" "))}Z.value=ie});break}else l(Q,n,{branches:n.count.indexOf("branches")!==-1,leaves:n.count.indexOf("leaves")!==-1});if(!re){n.sort&&Q.sort(function(Z,ae){return ae.value-Z.value});var oe,Y,G=n.marker.colors||[],V=!!G.length;return n._hasColorscale?(V||(G=S?n.values:n._values),g(c,n,{vals:G,containerStr:"marker",cLetter:"c"}),Y=P(n.marker)):oe=A(x["_"+n.type+"colormap"]),Q.each(function(Z){var ae=Z.data.data;ae.color=n._hasColorscale?Y(G[ae.i]):oe(G[ae.i],ae.id)}),M[0].hierarchy=Q,M}},U._runCrossTraceCalc=function(c,n){var x=n._fullLayout,h=n.calcdata,T=x[c+"colorway"],f=x["_"+c+"colormap"];x["extend"+c+"colors"]&&(T=v(T,c==="icicle"?o:c==="treemap"?u:r));var s=0,d;function S(w){var b=w.data.data,i=b.id;b.color===!1&&(f[i]?b.color=f[i]:w.parent?w.parent.parent?b.color=w.parent.data.data.color:(f[i]=b.color=T[s%T.length],s++):b.color=d)}for(var M=0;M<h.length;M++){var C=h[M],y=C[0];y.trace.type===c&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(S))}},U.crossTraceCalc=function(c){return U._runCrossTraceCalc("sunburst",c)};function l(c,n,x){var h=0,T=c.children;if(T){for(var f=T.length,s=0;s<f;s++)h+=l(T[s],n,x);x.branches&&h++}else x.leaves&&h++;return c.value=c.data.data.value=h,n._values||(n._values=[]),n._values[c.data.data.i]=h,h}},7055:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(W,U,e){var p=e(71828),L=e(57564),a=e(27670).c,P=e(90769).handleText,A=e(21081),v=A.hasColorscale,g=A.handleDefaults;W.exports=function(r,u,o,l){function c(S,M){return p.coerce(r,u,L,S,M)}var n=c("labels"),x=c("parents");if(!n||!n.length||!x||!x.length){u.visible=!1;return}var h=c("values");h&&h.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var T=c("marker.line.width");T&&c("marker.line.color",l.paper_bgcolor),c("marker.colors");var f=u._hasColorscale=v(r,"marker","colors")||(r.marker||{}).coloraxis;f&&g(r,u,l,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",f?1:.7);var s=c("text");c("texttemplate"),u.texttemplate||c("textinfo",Array.isArray(s)?"text+label":"label"),c("hovertext"),c("hovertemplate");var d="auto";P(r,u,l,c,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),a(u,l,c),u._length=null}},83523:function(W,U,e){var p=e(39898),L=e(73972),a=e(23469).appendArrayPointValue,P=e(30211),A=e(71828),v=e(11086),g=e(2791),t=e(53581),r=t.formatPieValue;W.exports=function(l,c,n,x,h){var T=x[0],f=T.trace,s=T.hierarchy,d=f.type==="sunburst",S=f.type==="treemap"||f.type==="icicle";"_hasHoverLabel"in f||(f._hasHoverLabel=!1),"_hasHoverEvent"in f||(f._hasHoverEvent=!1);var M=function(w){var b=n._fullLayout;if(!(n._dragging||b.hovermode===!1)){var i=n._fullData[f.index],E=w.data.data,m=E.i,F=g.isHierarchyRoot(w),_=g.getParent(s,w),B=g.getValue(w),I=function($){return A.castOption(i,m,$)},O=I("hovertemplate"),z=P.castHoverinfo(i,b,m),k=b.separators,N;if(O||z&&z!=="none"&&z!=="skip"){var K,q;d&&(K=T.cx+w.pxmid[0]*(1-w.rInscribed),q=T.cy+w.pxmid[1]*(1-w.rInscribed)),S&&(K=w._hoverX,q=w._hoverY);var Q={},re=[],oe=[],Y=function($){return re.indexOf($)!==-1};z&&(re=z==="all"?i._module.attributes.hoverinfo.flags:z.split("+")),Q.label=E.label,Y("label")&&Q.label&&oe.push(Q.label),E.hasOwnProperty("v")&&(Q.value=E.v,Q.valueLabel=r(Q.value,k),Y("value")&&oe.push(Q.valueLabel)),Q.currentPath=w.currentPath=g.getPath(w.data),Y("current path")&&!F&&oe.push(Q.currentPath);var G,V=[],Z=function(){V.indexOf(G)===-1&&(oe.push(G),V.push(G))};Q.percentParent=w.percentParent=B/g.getValue(_),Q.parent=w.parentString=g.getPtLabel(_),Y("percent parent")&&(G=g.formatPercent(Q.percentParent,k)+" of "+Q.parent,Z()),Q.percentEntry=w.percentEntry=B/g.getValue(c),Q.entry=w.entry=g.getPtLabel(c),Y("percent entry")&&!F&&!w.onPathbar&&(G=g.formatPercent(Q.percentEntry,k)+" of "+Q.entry,Z()),Q.percentRoot=w.percentRoot=B/g.getValue(s),Q.root=w.root=g.getPtLabel(s),Y("percent root")&&!F&&(G=g.formatPercent(Q.percentRoot,k)+" of "+Q.root,Z()),Q.text=I("hovertext")||I("text"),Y("text")&&(G=Q.text,A.isValidTextValue(G)&&oe.push(G)),N=[u(w,i,h.eventDataKeys)];var ae={trace:i,y:q,_x0:w._x0,_x1:w._x1,_y0:w._y0,_y1:w._y1,text:oe.join("<br>"),name:O||Y("name")?i.name:void 0,color:I("hoverlabel.bgcolor")||E.color,borderColor:I("hoverlabel.bordercolor"),fontFamily:I("hoverlabel.font.family"),fontSize:I("hoverlabel.font.size"),fontColor:I("hoverlabel.font.color"),nameLength:I("hoverlabel.namelength"),textAlign:I("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:Q,eventData:N};d&&(ae.x0=K-w.rInscribed*w.rpx1,ae.x1=K+w.rInscribed*w.rpx1,ae.idealAlign=w.pxmid[0]<0?"left":"right"),S&&(ae.x=K,ae.idealAlign=K<0?"left":"right");var ie=[];P.loneHover(ae,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:n,inOut_bbox:ie}),N[0].bbox=ie[0],f._hasHoverLabel=!0}if(S){var J=l.select("path.surface");h.styleOne(J,w,i,{hovered:!0})}f._hasHoverEvent=!0,n.emit("plotly_hover",{points:N||[u(w,i,h.eventDataKeys)],event:p.event})}},C=function(w){var b=n._fullLayout,i=n._fullData[f.index],E=p.select(this).datum();if(f._hasHoverEvent&&(w.originalEvent=p.event,n.emit("plotly_unhover",{points:[u(E,i,h.eventDataKeys)],event:p.event}),f._hasHoverEvent=!1),f._hasHoverLabel&&(P.loneUnhover(b._hoverlayer.node()),f._hasHoverLabel=!1),S){var m=l.select("path.surface");h.styleOne(m,E,i,{hovered:!1})}},y=function(w){var b=n._fullLayout,i=n._fullData[f.index],E=d&&(g.isHierarchyRoot(w)||g.isLeaf(w)),m=g.getPtId(w),F=g.isEntry(w)?g.findEntryWithChild(s,m):g.findEntryWithLevel(s,m),_=g.getPtId(F),B={points:[u(w,i,h.eventDataKeys)],event:p.event};E||(B.nextLevel=_);var I=v.triggerHandler(n,"plotly_"+f.type+"click",B);if(I!==!1&&b.hovermode&&(n._hoverdata=[u(w,i,h.eventDataKeys)],P.click(n,p.event)),!E&&I!==!1&&!n._dragging&&!n._transitioning){L.call("_storeDirectGUIEdit",i,b._tracePreGUI[i.uid],{level:i.level});var O={data:[{level:_}],traces:[f.index]},z={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};P.loneUnhover(b._hoverlayer.node()),L.call("animate",n,O,z)}};l.on("mouseover",M),l.on("mouseout",C),l.on("click",y)};function u(o,l,c){for(var n=o.data.data,x={curveNumber:l.index,pointNumber:n.i,data:l._input,fullData:l},h=0;h<c.length;h++){var T=c[h];T in o&&(x[T]=o[T])}return"parentString"in o&&!g.isHierarchyRoot(o)&&(x.parent=o.parentString),a(x,l,n.i),x}},2791:function(W,U,e){var p=e(71828),L=e(7901),a=e(6964),P=e(53581);U.findEntryWithLevel=function(t,r){var u;return r&&t.eachAfter(function(o){if(U.getPtId(o)===r)return u=o.copy()}),u||t},U.findEntryWithChild=function(t,r){var u;return t.eachAfter(function(o){for(var l=o.children||[],c=0;c<l.length;c++){var n=l[c];if(U.getPtId(n)===r)return u=o.copy()}}),u||t},U.isEntry=function(t){return!t.parent},U.isLeaf=function(t){return!t.children},U.getPtId=function(t){return t.data.data.id},U.getPtLabel=function(t){return t.data.data.label},U.getValue=function(t){return t.value},U.isHierarchyRoot=function(t){return g(t)===""},U.setSliceCursor=function(t,r,u){var o=u.isTransitioning;if(!o){var l=t.datum();o=u.hideOnRoot&&U.isHierarchyRoot(l)||u.hideOnLeaves&&U.isLeaf(l)}a(t,o?null:"pointer")};function A(t,r,u){return{color:U.getOutsideTextFontKey("color",t,r,u),family:U.getOutsideTextFontKey("family",t,r,u),size:U.getOutsideTextFontKey("size",t,r,u)}}function v(t,r,u,o){var l=(o||{}).onPathbar,c=r.data.data,n=c.i,x=p.castOption(t,n,(l?"pathbar.textfont":"insidetextfont")+".color");return!x&&t._input.textfont&&(x=p.castOption(t._input,n,"textfont.color")),{color:x||L.contrast(c.color),family:U.getInsideTextFontKey("family",t,r,u,o),size:U.getInsideTextFontKey("size",t,r,u,o)}}U.getInsideTextFontKey=function(t,r,u,o,l){var c=(l||{}).onPathbar,n=c?"pathbar.textfont":"insidetextfont",x=u.data.data.i;return p.castOption(r,x,n+"."+t)||p.castOption(r,x,"textfont."+t)||o.size},U.getOutsideTextFontKey=function(t,r,u,o){var l=u.data.data.i;return p.castOption(r,l,"outsidetextfont."+t)||p.castOption(r,l,"textfont."+t)||o.size},U.isOutsideText=function(t,r){return!t._hasColorscale&&U.isHierarchyRoot(r)},U.determineTextFont=function(t,r,u,o){return U.isOutsideText(t,r)?A(t,r,u):v(t,r,u,o)},U.hasTransition=function(t){return!!(t&&t.duration>0)},U.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},U.isHeader=function(t,r){return!(U.isLeaf(t)||t.depth===r._maxDepth-1)};function g(t){return t.data.data.pid}U.getParent=function(t,r){return U.findEntryWithLevel(t,g(r))},U.listPath=function(t,r){var u=t.parent;if(!u)return[];var o=r?[u.data[r]]:[u];return U.listPath(u,r).concat(o)},U.getPath=function(t){return U.listPath(t,"label").join("/")+"/"},U.formatValue=P.formatPieValue,U.formatPercent=function(t,r){var u=p.formatPercent(t,0);return u==="0%"&&(u=P.formatPiePercent(t,r)),u}},87619:function(W,U,e){W.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(W){W.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(W,U,e){var p=e(71828),L=e(2654);W.exports=function(P,A){function v(g,t){return p.coerce(P,A,L,g,t)}v("sunburstcolorway",A.colorway),v("extendsunburstcolors")}},24714:function(W,U,e){var p=e(39898),L=e(674),a=e(29502).sX,P=e(91424),A=e(71828),v=e(63893),g=e(72597),t=g.recordMinTextSize,r=g.clearMinTextSize,u=e(14575),o=e(53581).getRotationAngle,l=u.computeTransform,c=u.transformInsideText,n=e(29969).styleOne,x=e(16688).resizeText,h=e(83523),T=e(7055),f=e(2791);U.plot=function(y,w,b,i){var E=y._fullLayout,m=E._sunburstlayer,F,_,B=!b,I=!E.uniformtext.mode&&f.hasTransition(b);if(r("sunburst",E),F=m.selectAll("g.trace.sunburst").data(w,function(z){return z[0].trace.uid}),F.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),I){i&&(_=i());var O=p.transition().duration(b.duration).ease(b.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});O.each(function(){m.selectAll("g.trace").each(function(z){s(y,z,this,b)})})}else F.each(function(z){s(y,z,this,b)}),E.uniformtext.mode&&x(y,E._sunburstlayer.selectAll(".trace"),"sunburst");B&&F.exit().remove()};function s(y,w,b,i){var E=y._context.staticPlot,m=y._fullLayout,F=!m.uniformtext.mode&&f.hasTransition(i),_=p.select(b),B=_.selectAll("g.slice"),I=w[0],O=I.trace,z=I.hierarchy,k=f.findEntryWithLevel(z,O.level),N=f.getMaxDepth(O),K=m._size,q=O.domain,Q=K.w*(q.x[1]-q.x[0]),re=K.h*(q.y[1]-q.y[0]),oe=.5*Math.min(Q,re),Y=I.cx=K.l+K.w*(q.x[1]+q.x[0])/2,G=I.cy=K.t+K.h*(1-q.y[0])-re/2;if(!k)return B.remove();var V=null,Z={};F&&B.each(function(Ze){Z[f.getPtId(Ze)]={rpx0:Ze.rpx0,rpx1:Ze.rpx1,x0:Ze.x0,x1:Ze.x1,transform:Ze.transform},!V&&f.isEntry(Ze)&&(V=Ze)});var ae=d(k).descendants(),ie=k.height+1,J=0,$=N;I.hasMultipleRoots&&f.isHierarchyRoot(k)&&(ae=ae.slice(1),ie-=1,J=1,$+=1),ae=ae.filter(function(Ze){return Ze.y1<=$});var se=o(O.rotation);se&&ae.forEach(function(Ze){Ze.x0+=se,Ze.x1+=se});var ee=Math.min(ie,N),ue=function(Ze){return(Ze-J)/ee*oe},ge=function(Ze,ct){return[Ze*Math.cos(ct),-Ze*Math.sin(ct)]},Te=function(Ze){return A.pathAnnulus(Ze.rpx0,Ze.rpx1,Ze.x0,Ze.x1,Y,G)},xe=function(Ze){return Y+M(Ze)[0]*(Ze.transform.rCenter||0)+(Ze.transform.x||0)},Pe=function(Ze){return G+M(Ze)[1]*(Ze.transform.rCenter||0)+(Ze.transform.y||0)};B=B.data(ae,f.getPtId),B.enter().append("g").classed("slice",!0),F?B.exit().transition().each(function(){var Ze=p.select(this),ct=Ze.select("path.surface");ct.transition().attrTween("d",function(at){var tt=_e(at);return function(dt){return Te(tt(dt))}});var lt=Ze.select("g.slicetext");lt.attr("opacity",0)}).remove():B.exit().remove(),B.order();var Ie=null;if(F&&V){var Ae=f.getPtId(V);B.each(function(Ze){Ie===null&&f.getPtId(Ze)===Ae&&(Ie=Ze.x1)})}var be=B;F&&(be=be.transition().each("end",function(){var Ze=p.select(this);f.setSliceCursor(Ze,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(Ze){var ct=p.select(this),lt=A.ensureSingle(ct,"path","surface",function(It){It.style("pointer-events",E?"none":"all")});Ze.rpx0=ue(Ze.y0),Ze.rpx1=ue(Ze.y1),Ze.xmid=(Ze.x0+Ze.x1)/2,Ze.pxmid=ge(Ze.rpx1,Ze.xmid),Ze.midangle=-(Ze.xmid-Math.PI/2),Ze.startangle=-(Ze.x0-Math.PI/2),Ze.stopangle=-(Ze.x1-Math.PI/2),Ze.halfangle=.5*Math.min(A.angleDelta(Ze.x0,Ze.x1)||Math.PI,Math.PI),Ze.ring=1-Ze.rpx0/Ze.rpx1,Ze.rInscribed=S(Ze),F?lt.transition().attrTween("d",function(It){var $e=Ve(It);return function(ke){return Te($e(ke))}}):lt.attr("d",Te),ct.call(h,k,y,w,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(f.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),lt.call(n,Ze,O);var at=A.ensureSingle(ct,"g","slicetext"),tt=A.ensureSingle(at,"text","",function(It){It.attr("data-notex",1)}),dt=A.ensureUniformFontSize(y,f.determineTextFont(O,Ze,m.font));tt.text(U.formatSliceLabel(Ze,k,O,w,m)).classed("slicetext",!0).attr("text-anchor","middle").call(P.font,dt).call(v.convertToTspans,y);var wt=P.bBox(tt.node());Ze.transform=c(wt,Ze,I),Ze.transform.targetX=xe(Ze),Ze.transform.targetY=Pe(Ze);var Mt=function(It,$e){var ke=It.transform;return l(ke,$e),ke.fontSize=dt.size,t(O.type,ke,m),A.getTextTransform(ke)};F?tt.transition().attrTween("transform",function(It){var $e=We(It);return function(ke){return Mt($e(ke),wt)}}):tt.attr("transform",Mt(Ze,wt))});function _e(Ze){var ct=f.getPtId(Ze),lt=Z[ct],at=Z[f.getPtId(k)],tt;if(at){var dt=(Ze.x1>at.x1?2*Math.PI:0)+se;tt=Ze.rpx1<at.rpx1?{x0:Ze.x0,x1:Ze.x1,rpx0:0,rpx1:0}:{x0:dt,x1:dt,rpx0:Ze.rpx0,rpx1:Ze.rpx1}}else{var wt,Mt=f.getPtId(Ze.parent);B.each(function(qe){if(f.getPtId(qe)===Mt)return wt=qe});var It=wt.children,$e;It.forEach(function(qe,it){if(f.getPtId(qe)===ct)return $e=it});var ke=It.length,Fe=a(wt.x0,wt.x1);tt={rpx0:oe,rpx1:oe,x0:Fe($e/ke),x1:Fe(($e+1)/ke)}}return a(lt,tt)}function Ve(Ze){var ct=Z[f.getPtId(Ze)],lt,at={x0:Ze.x0,x1:Ze.x1,rpx0:Ze.rpx0,rpx1:Ze.rpx1};if(ct)lt=ct;else if(V)if(Ze.parent)if(Ie){var tt=(Ze.x1>Ie?2*Math.PI:0)+se;lt={x0:tt,x1:tt}}else lt={rpx0:oe,rpx1:oe},A.extendFlat(lt,ze(Ze));else lt={rpx0:0,rpx1:0};else lt={x0:se,x1:se};return a(lt,at)}function We(Ze){var ct=Z[f.getPtId(Ze)],lt,at=Ze.transform;if(ct)lt=ct;else if(lt={rpx1:Ze.rpx1,transform:{textPosAngle:at.textPosAngle,scale:0,rotate:at.rotate,rCenter:at.rCenter,x:at.x,y:at.y}},V)if(Ze.parent)if(Ie){var tt=Ze.x1>Ie?2*Math.PI:0;lt.x0=lt.x1=tt}else A.extendFlat(lt,ze(Ze));else lt.x0=lt.x1=se;else lt.x0=lt.x1=se;var dt=a(lt.transform.textPosAngle,Ze.transform.textPosAngle),wt=a(lt.rpx1,Ze.rpx1),Mt=a(lt.x0,Ze.x0),It=a(lt.x1,Ze.x1),$e=a(lt.transform.scale,at.scale),ke=a(lt.transform.rotate,at.rotate),Fe=at.rCenter===0?3:lt.transform.rCenter===0?1/3:1,qe=a(lt.transform.rCenter,at.rCenter),it=function(Je){return qe(Math.pow(Je,Fe))};return function(Je){var Re=wt(Je),Me=Mt(Je),fe=It(Je),ye=it(Je),Le=ge(Re,(Me+fe)/2),Oe=dt(Je),ht={pxmid:Le,rpx1:Re,transform:{textPosAngle:Oe,rCenter:ye,x:at.x,y:at.y}};return t(O.type,at,m),{transform:{targetX:xe(ht),targetY:Pe(ht),scale:$e(Je),rotate:ke(Je),rCenter:ye}}}}function ze(Ze){var ct=Ze.parent,lt=Z[f.getPtId(ct)],at={};if(lt){var tt=ct.children,dt=tt.indexOf(Ze),wt=tt.length,Mt=a(lt.x0,lt.x1);at.x0=Mt(dt/wt),at.x1=Mt(dt/wt)}else at.x0=at.x1=0;return at}}function d(y){return L.partition().size([2*Math.PI,y.height+1])(y)}U.formatSliceLabel=function(y,w,b,i,E){var m=b.texttemplate,F=b.textinfo;if(!m&&(!F||F==="none"))return"";var _=E.separators,B=i[0],I=y.data.data,O=B.hierarchy,z=f.isHierarchyRoot(y),k=f.getParent(O,y),N=f.getValue(y);if(!m){var K=F.split("+"),q=function(J){return K.indexOf(J)!==-1},Q=[],re;if(q("label")&&I.label&&Q.push(I.label),I.hasOwnProperty("v")&&q("value")&&Q.push(f.formatValue(I.v,_)),!z){q("current path")&&Q.push(f.getPath(y.data));var oe=0;q("percent parent")&&oe++,q("percent entry")&&oe++,q("percent root")&&oe++;var Y=oe>1;if(oe){var G,V=function(J){re=f.formatPercent(G,_),Y&&(re+=" of "+J),Q.push(re)};q("percent parent")&&!z&&(G=N/f.getValue(k),V("parent")),q("percent entry")&&(G=N/f.getValue(w),V("entry")),q("percent root")&&(G=N/f.getValue(O),V("root"))}}return q("text")&&(re=A.castOption(b,I.i,"text"),A.isValidTextValue(re)&&Q.push(re)),Q.join("<br>")}var Z=A.castOption(b,I.i,"texttemplate");if(!Z)return"";var ae={};I.label&&(ae.label=I.label),I.hasOwnProperty("v")&&(ae.value=I.v,ae.valueLabel=f.formatValue(I.v,_)),ae.currentPath=f.getPath(y.data),z||(ae.percentParent=N/f.getValue(k),ae.percentParentLabel=f.formatPercent(ae.percentParent,_),ae.parent=f.getPtLabel(k)),ae.percentEntry=N/f.getValue(w),ae.percentEntryLabel=f.formatPercent(ae.percentEntry,_),ae.entry=f.getPtLabel(w),ae.percentRoot=N/f.getValue(O),ae.percentRootLabel=f.formatPercent(ae.percentRoot,_),ae.root=f.getPtLabel(O),I.hasOwnProperty("color")&&(ae.color=I.color);var ie=A.castOption(b,I.i,"text");return(A.isValidTextValue(ie)||ie==="")&&(ae.text=ie),ae.customdata=A.castOption(b,I.i,"customdata"),A.texttemplateString(Z,ae,E._d3locale,ae,b._meta||{})};function S(y){return y.rpx0===0&&A.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function M(y){return C(y.rpx1,y.transform.textPosAngle)}function C(y,w){return[y*Math.sin(w),-y*Math.cos(w)]}},29969:function(W,U,e){var p=e(39898),L=e(7901),a=e(71828),P=e(72597).resizeText;function A(g){var t=g._fullLayout._sunburstlayer.selectAll(".trace");P(g,t,"sunburst"),t.each(function(r){var u=p.select(this),o=r[0],l=o.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(c){p.select(this).call(v,c,l)})})}function v(g,t,r){var u=t.data.data,o=!t.children,l=u.i,c=a.castOption(r,l,"marker.line.color")||L.defaultLine,n=a.castOption(r,l,"marker.line.width")||0;g.style("stroke-width",n).call(L.fill,u.color).call(L.stroke,c).style("opacity",o?r.leaf.opacity:null)}W.exports={style:A,styleOne:v}},54532:function(W,U,e){var p=e(7901),L=e(50693),a=e(12663).axisHoverFormat,P=e(5386).f,A=e(9012),v=e(1426).extendFlat,g=e(30962).overrideAll;function t(o){return{valType:"boolean",dflt:!1}}function r(o){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var u=W.exports=g(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:P(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},A.hoverinfo),showlegend:v({},A.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType="calc+clearAxisTypes",u.transforms=void 0},18396:function(W,U,e){var p=e(78803);W.exports=function(a,P){P.surfacecolor?p(a,P,{vals:P.surfacecolor,containerStr:"",cLetter:"c"}):p(a,P,{vals:P.z,containerStr:"",cLetter:"c"})}},43768:function(W,U,e){var p=e(9330).gl_surface3d,L=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,P=e(824),A=e(43907),v=e(71828).isArrayOrTypedArray,g=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function u(i,E,m){this.scene=i,this.uid=m,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=u.prototype;o.getXat=function(i,E,m,F){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[E][i]:this.data.x[i]:i;return m===void 0?_:F.d2l(_,0,m)},o.getYat=function(i,E,m,F){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[E][i]:this.data.y[E]:E;return m===void 0?_:F.d2l(_,0,m)},o.getZat=function(i,E,m,F){var _=this.data.z[E][i];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[E][i]),m===void 0?_:F.d2l(_,0,m)},o.handlePick=function(i){if(i.object===this.surface){var E=(i.data.index[0]-1)/this.dataScaleX-1,m=(i.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(m),this.data._ylength-1),0);i.index=[F,_],i.traceCoordinate=[this.getXat(F,_),this.getYat(F,_),this.getZat(F,_)],i.dataCoordinate=[this.getXat(F,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var I=i.dataCoordinate[B];I!=null&&(i.dataCoordinate[B]*=this.scene.dataScale[B])}var O=this.data.hovertext||this.data.text;return Array.isArray(O)&&O[_]&&O[_][F]!==void 0?i.textLabel=O[_][F]:O?i.textLabel=O:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function l(i){var E=i[0].rgb,m=i[i.length-1].rgb;return E[0]===m[0]&&E[1]===m[1]&&E[2]===m[2]&&E[3]===m[3]}var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function n(i,E){if(i<E)return 0;for(var m=0;Math.floor(i%E)===0;)i/=E,m++;return m}function x(i){for(var E=[],m=0;m<c.length;m++){var F=c[m];E.push(n(i,F))}return E}function h(i){for(var E=x(i),m=i,F=0;F<c.length;F++)if(E[F]>0){m=c[F];break}return m}function T(i,E){if(!(i<1||E<1)){for(var m=x(i),F=x(E),_=1,B=0;B<c.length;B++)_*=Math.pow(c[B],Math.max(m[B],F[B]));return _}}function f(i){if(i.length!==0){for(var E=1,m=0;m<i.length;m++)E=T(E,i[m]);return E}}o.calcXnums=function(i){var E,m=[];for(E=1;E<i;E++){var F=this.getXat(E-1,0),_=this.getXat(E,0);_!==F&&F!==void 0&&F!==null&&_!==void 0&&_!==null?m[E-1]=Math.abs(_-F):m[E-1]=0}var B=0;for(E=1;E<i;E++)B+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(B/m[E-1]);return m},o.calcYnums=function(i){var E,m=[];for(E=1;E<i;E++){var F=this.getYat(0,E-1),_=this.getYat(0,E);_!==F&&F!==void 0&&F!==null&&_!==void 0&&_!==null?m[E-1]=Math.abs(_-F):m[E-1]=0}var B=0;for(E=1;E<i;E++)B+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(B/m[E-1]);return m};var s=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=s[9],S=s[13];o.estimateScale=function(i,E){for(var m=E===0?this.calcXnums(i):this.calcYnums(i),F=1+f(m);F<d;)F*=2;for(;F>S;)F--,F/=h(F),F++,F<d&&(F=S);var _=Math.round(F/i);return _>1?_:1};function M(i,E,m){var F=m[8]+m[2]*E[0]+m[5]*E[1];return i[0]=(m[6]+m[0]*E[0]+m[3]*E[1])/F,i[1]=(m[7]+m[1]*E[0]+m[4]*E[1])/F,i}function C(i,E,m){return y(i,E,M,m),i}function y(i,E,m,F){for(var _=[0,0],B=i.shape[0],I=i.shape[1],O=0;O<B;O++)for(var z=0;z<I;z++)m(_,[O,z],F),i.set(O,z,a(E,_[0],_[1]));return i}o.refineCoords=function(i){for(var E=this.dataScaleX,m=this.dataScaleY,F=i[0].shape[0],_=i[0].shape[1],B=Math.floor(i[0].shape[0]*E+1)|0,I=Math.floor(i[0].shape[1]*m+1)|0,O=1+F+1,z=1+_+1,k=L(new Float32Array(O*z),[O,z]),N=[1/E,0,0,0,1/m,0,0,0,1],K=0;K<i.length;++K){this.surface.padField(k,i[K]);var q=L(new Float32Array(B*I),[B,I]);C(q,k,N),i[K]=q}};function w(i,E){for(var m=!1,F=0;F<i.length;F++)if(E===i[F]){m=!0;break}m===!1&&i.push(E)}o.setContourLevels=function(){var i=[[],[],[]],E=[!1,!1,!1],m=!1,F,_,B;for(F=0;F<3;++F)if(this.showContour[F]&&(m=!0,this.contourSize[F]>0&&this.contourStart[F]!==null&&this.contourEnd[F]!==null&&this.contourEnd[F]>this.contourStart[F]))for(E[F]=!0,_=this.contourStart[F];_<this.contourEnd[F];_+=this.contourSize[F])B=_*this.scene.dataScale[F],w(i[F],B);if(m){var I=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(I[F]=E[F]?i[F]:this.scene.contourLevels[F]);this.surface.update({levels:I})}},o.update=function(i){var E=this.scene,m=E.fullSceneLayout,F=this.surface,_=g(i),B=E.dataScale,I=i.z[0].length,O=i._ylength,z=E.contourLevels;this.data=i;var k,N,K,q,Q=[];for(k=0;k<3;k++)for(Q[k]=[],N=0;N<I;N++)Q[k][N]=[];for(N=0;N<I;N++)for(K=0;K<O;K++)Q[0][N][K]=this.getXat(N,K,i.xcalendar,m.xaxis),Q[1][N][K]=this.getYat(N,K,i.ycalendar,m.yaxis),Q[2][N][K]=this.getZat(N,K,i.zcalendar,m.zaxis);if(i.connectgaps)for(i._emptypoints=A(Q[2]),P(Q[2],i._emptypoints),i._interpolatedZ=[],N=0;N<I;N++)for(i._interpolatedZ[N]=[],K=0;K<O;K++)i._interpolatedZ[N][K]=Q[2][N][K];for(k=0;k<3;k++)for(N=0;N<I;N++)for(K=0;K<O;K++)q=Q[k][N][K],q==null?Q[k][N][K]=NaN:q=Q[k][N][K]*=B[k];for(k=0;k<3;k++)for(N=0;N<I;N++)for(K=0;K<O;K++)q=Q[k][N][K],q!=null&&(this.minValues[k]>q&&(this.minValues[k]=q),this.maxValues[k]<q&&(this.maxValues[k]=q));for(k=0;k<3;k++)this.objectOffset[k]=.5*(this.minValues[k]+this.maxValues[k]);for(k=0;k<3;k++)for(N=0;N<I;N++)for(K=0;K<O;K++)q=Q[k][N][K],q!=null&&(Q[k][N][K]-=this.objectOffset[k]);var re=[L(new Float32Array(I*O),[I,O]),L(new Float32Array(I*O),[I,O]),L(new Float32Array(I*O),[I,O])];for(k=0;k<3;k++)for(N=0;N<I;N++)for(K=0;K<O;K++)re[k].set(N,K,Q[k][N][K]);Q=[];var oe={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},Y=r(i);if(oe.intensityBounds=[Y.min,Y.max],i.surfacecolor){var G=L(new Float32Array(I*O),[I,O]);for(N=0;N<I;N++)for(K=0;K<O;K++)G.set(N,K,i.surfacecolor[K][N]);re.push(G)}else oe.intensityBounds[0]*=B[2],oe.intensityBounds[1]*=B[2];(S<re[0].shape[0]||S<re[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(re[0].shape[0],0),this.dataScaleY=this.estimateScale(re[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(re)),i.surfacecolor&&(oe.intensity=re.pop());var V=[!0,!0,!0],Z=["x","y","z"];for(k=0;k<3;++k){var ae=i.contours[Z[k]];V[k]=ae.highlight,oe.showContour[k]=ae.show||ae.highlight,oe.showContour[k]&&(oe.contourProject[k]=[ae.project.x,ae.project.y,ae.project.z],ae.show?(this.showContour[k]=!0,oe.levels[k]=z[k],F.highlightColor[k]=oe.contourColor[k]=t(ae.color),ae.usecolormap?F.highlightTint[k]=oe.contourTint[k]=0:F.highlightTint[k]=oe.contourTint[k]=1,oe.contourWidth[k]=ae.width,this.contourStart[k]=ae.start,this.contourEnd[k]=ae.end,this.contourSize[k]=ae.size):(this.showContour[k]=!1,this.contourStart[k]=null,this.contourEnd[k]=null,this.contourSize[k]=0),ae.highlight&&(oe.dynamicColor[k]=t(ae.highlightcolor),oe.dynamicWidth[k]=ae.highlightwidth))}l(_)&&(oe.vertexColor=!0),oe.objectOffset=this.objectOffset,oe.coords=re,F.update(oe),F.visible=i.visible,F.enableDynamic=V,F.enableHighlight=V,F.snapToData=!0,"lighting"in i&&(F.ambientLight=i.lighting.ambient,F.diffuseLight=i.lighting.diffuse,F.specularLight=i.lighting.specular,F.roughness=i.lighting.roughness,F.fresnel=i.lighting.fresnel),"lightposition"in i&&(F.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(i,E){var m=i.glplot.gl,F=p({gl:m}),_=new u(i,F,E.uid);return F._trace=_,_.update(E),i.glplot.add(F),_}W.exports=b},91831:function(W,U,e){var p=e(73972),L=e(71828),a=e(1586),P=e(54532),A=.1;function v(o,l){for(var c=[],n=32,x=0;x<n;x++){var h=x/(n-1),T=l+(1-l)*(1-Math.pow(Math.sin(o*h*Math.PI),2));c.push([h,Math.max(0,Math.min(1,T))])}return c}function g(o){var l=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||+o[0][0]!=0||+o[o.length-1][0]!=1)return!1;for(var c=0;c<o.length;c++){var n=o[c];if(n.length!==2||+n[0]<l)return!1;l=+n[0]}return!0}function t(o,l,c,n){var x,h;function T(i,E){return L.coerce(o,l,P,i,E)}var f=T("x"),s=T("y"),d=T("z");if(!d||!d.length||f&&f.length<1||s&&s.length<1){l.visible=!1;return}l._xlength=Array.isArray(f)&&L.isArrayOrTypedArray(f[0])?d.length:d[0].length,l._ylength=d.length;var S=p.getComponentMethod("calendars","handleTraceDefaults");S(o,l,["x","y","z"],n),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){T(i)});var M=T("surfacecolor"),C=["x","y","z"];for(x=0;x<3;++x){var y="contours."+C[x],w=T(y+".show"),b=T(y+".highlight");if(w||b)for(h=0;h<3;++h)T(y+".project."+C[h]);w&&(T(y+".color"),T(y+".width"),T(y+".usecolormap")),b&&(T(y+".highlightcolor"),T(y+".highlightwidth")),T(y+".start"),T(y+".end"),T(y+".size")}M||(u(o,"zmin","cmin"),u(o,"zmax","cmax"),u(o,"zauto","cauto")),a(o,l,n,T,{prefix:"",cLetter:"c"}),r(o,l,n,T),l._length=null}function r(o,l,c,n){var x=n("opacityscale");x==="max"?l.opacityscale=[[0,A],[1,1]]:x==="min"?l.opacityscale=[[0,1],[1,A]]:x==="extremes"?l.opacityscale=v(1,A):g(x)||(l.opacityscale=void 0)}function u(o,l,c){l in o&&!(c in o)&&(o[c]=o[l])}W.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(W,U,e){W.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(W,U,e){var p=e(50215),L=e(1426).extendFlat,a=e(30962).overrideAll,P=e(41940),A=e(27670).Y,v=e(12663).descriptionOnlyNumbers,g=W.exports=a({domain:A({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},P({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},P({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},99469:function(W,U,e){var p=e(27659).a0,L=e(36736),a="table";U.name=a,U.plot=function(P){var A=p(P.calcdata,a)[0];A.length&&L(P,A)},U.clean=function(P,A,v,g){var t=g._has&&g._has(a),r=A._has&&A._has(a);t&&!r&&g._paperdiv.selectAll(".table").remove()}},76333:function(W,U,e){var p=e(28984).wrap;W.exports=function(){return p({})}},49850:function(W){W.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(W,U,e){var p=e(49850),L=e(1426).extendFlat,a=e(92770);W.exports=function(c,n){var x=v(n.cells.values),h=function(N){return N.slice(n.header.values.length,N.length)},T=v(n.header.values);T.length&&!T[0].length&&(T[0]=[""],T=v(T));var f=T.concat(h(x).map(function(){return g((T[0]||[""]).length)})),s=n.domain,d=Math.floor(c._fullLayout._size.w*(s.x[1]-s.x[0])),S=Math.floor(c._fullLayout._size.h*(s.y[1]-s.y[0])),M=n.header.values.length?f[0].map(function(){return n.header.height}):[p.emptyHeaderHeight],C=x.length?x[0].map(function(){return n.cells.height}):[],y=M.reduce(A,0),w=S-y,b=w+p.uplift,i=u(C,b),E=u(M,y),m=r(E,[]),F=r(i,m),_={},B=n._fullInput.columnorder.concat(h(x.map(function(N,K){return K}))),I=f.map(function(N,K){var q=Array.isArray(n.columnwidth)?n.columnwidth[Math.min(K,n.columnwidth.length-1)]:n.columnwidth;return a(q)?Number(q):1}),O=I.reduce(A,0);I=I.map(function(N){return N/O*d});var z=Math.max(P(n.header.line.width),P(n.cells.line.width)),k={key:n.uid+c._context.staticPlot,translateX:s.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-s.y[1]),size:c._fullLayout._size,width:d,maxLineWidth:z,height:S,columnOrder:B,groupHeight:S,rowBlocks:F,headerRowBlocks:m,scrollY:0,cells:L({},n.cells,{values:x}),headerCells:L({},n.header,{values:f}),gdColumns:f.map(function(N){return N[0]}),gdColumnsOriginalOrder:f.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:f.map(function(N,K){var q=_[N];_[N]=(q||0)+1;var Q=N+"__"+_[N];return{key:Q,label:N,specIndex:K,xIndex:B[K],xScale:t,x:void 0,calcdata:void 0,columnWidth:I[K]}})};return k.columns.forEach(function(N){N.calcdata=k,N.x=t(N)}),k};function P(l){if(Array.isArray(l)){for(var c=0,n=0;n<l.length;n++)c=Math.max(c,P(l[n]));return c}return l}function A(l,c){return l+c}function v(l){var c=l.slice(),n=1/0,x=0,h;for(h=0;h<c.length;h++)Array.isArray(c[h])||(c[h]=[c[h]]),n=Math.min(n,c[h].length),x=Math.max(x,c[h].length);if(n!==x)for(h=0;h<c.length;h++){var T=x-c[h].length;T&&(c[h]=c[h].concat(g(T)))}return c}function g(l){for(var c=new Array(l),n=0;n<l;n++)c[n]="";return c}function t(l){return l.calcdata.columns.reduce(function(c,n){return n.xIndex<l.xIndex?c+n.columnWidth:c},0)}function r(l,c){var n=Object.keys(l);return n.map(function(x){return L({},l[x],{auxiliaryBlocks:c})})}function u(l,c){for(var n={},x,h=0,T=0,f=o(),s=0,d=0,S=0;S<l.length;S++)x=l[S],f.rows.push({rowIndex:S,rowHeight:x}),T+=x,(T>=c||S===l.length-1)&&(n[h]=f,f.key=d++,f.firstRowIndex=s,f.lastRowIndex=S,f=o(),h+=T,s=S+1,T=0);return n}function o(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(W,U,e){var p=e(1426).extendFlat;U.splitToPanels=function(a){var P=[0,0],A=p({},a,{key:"header",type:"header",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:p({},a.calcdata,{cells:a.calcdata.headerCells})}),v=p({},a,{key:"cells1",type:"cells",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),g=p({},a,{key:"cells2",type:"cells",page:1,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,g,A]},U.splitToCells=function(a){var P=L(a);return(a.values||[]).slice(P[0],P[1]).map(function(A,v){var g=typeof A=="string"&&A.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+g,key:P[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:A}})};function L(a){var P=a.rowBlocks[a.page],A=P?P.rows[0].rowIndex:0,v=P?A+P.rows.length:0;return[A,v]}},39754:function(W,U,e){var p=e(71828),L=e(44464),a=e(27670).c;function P(A,v){for(var g=A.columnorder||[],t=A.header.values.length,r=g.slice(0,t),u=r.slice().sort(function(c,n){return c-n}),o=r.map(function(c){return u.indexOf(c)}),l=o.length;l<t;l++)o.push(l);v("columnorder",o)}W.exports=function(v,g,t,r){function u(o,l){return p.coerce(v,g,L,o,l)}a(g,r,u),u("columnwidth"),u("header.values"),u("header.format"),u("header.align"),u("header.prefix"),u("header.suffix"),u("header.height"),u("header.line.width"),u("header.line.color"),u("header.fill.color"),p.coerceFont(u,"header.font",p.extendFlat({},r.font)),P(g,u),u("cells.values"),u("cells.format"),u("cells.align"),u("cells.prefix"),u("cells.suffix"),u("cells.height"),u("cells.line.width"),u("cells.line.color"),u("cells.fill.color"),p.coerceFont(u,"cells.font",p.extendFlat({},r.font)),g._length=null}},96595:function(W,U,e){W.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(W,U,e){var p=e(49850),L=e(39898),a=e(71828),P=a.numberFormat,A=e(28984),v=e(91424),g=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,u=e(71828).cancelTransition,o=e(51018),l=e(56269),c=e(7901);W.exports=function(se,ee){var ue=!se._context.staticPlot,ge=se._fullLayout._paper.selectAll("."+p.cn.table).data(ee.map(function(at){var tt=A.unwrap(at),dt=tt.trace;return o(se,dt)}),A.keyFun);ge.exit().remove(),ge.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ge.attr("width",function(at){return at.width+at.size.l+at.size.r}).attr("height",function(at){return at.height+at.size.t+at.size.b}).attr("transform",function(at){return r(at.translateX,at.translateY)});var Te=ge.selectAll("."+p.cn.tableControlView).data(A.repeat,A.keyFun),xe=Te.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(ue){var Pe="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(at){Te.filter(function(tt){return at===tt}).call(f,se)}).on(Pe,function(at){if(!at.scrollbarState.wheeling){at.scrollbarState.wheeling=!0;var tt=at.scrollY+L.event.deltaY,dt=q(se,Te,null,tt)(at);dt||(L.event.stopPropagation(),L.event.preventDefault()),at.scrollbarState.wheeling=!1}}).call(f,se,!0)}Te.attr("transform",function(at){return r(at.size.l,at.size.t)});var Ie=Te.selectAll("."+p.cn.scrollBackground).data(A.repeat,A.keyFun);Ie.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),Ie.attr("width",function(at){return at.width}).attr("height",function(at){return at.height}),Te.each(function(at){v.setClipUrl(L.select(this),x(se,at),se)});var Ae=Te.selectAll("."+p.cn.yColumn).data(function(at){return at.columns},A.keyFun);Ae.enter().append("g").classed(p.cn.yColumn,!0),Ae.exit().remove(),Ae.attr("transform",function(at){return r(at.x,0)}),ue&&Ae.call(L.behavior.drag().origin(function(at){var tt=L.select(this);return I(tt,at,-p.uplift),t(this),at.calcdata.columnDragInProgress=!0,f(Te.filter(function(dt){return at.calcdata.key===dt.key}),se),at}).on("drag",function(at){var tt=L.select(this),dt=function(It){return(at===It?L.event.x:It.x)+It.columnWidth/2};at.x=Math.max(-p.overdrag,Math.min(at.calcdata.width+p.overdrag-at.columnWidth,L.event.x));var wt=T(Ae).filter(function(It){return It.calcdata.key===at.calcdata.key}),Mt=wt.sort(function(It,$e){return dt(It)-dt($e)});Mt.forEach(function(It,$e){It.xIndex=$e,It.x=at===It?It.x:It.xScale(It)}),Ae.filter(function(It){return at!==It}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(It){return r(It.x,0)}),tt.call(u).attr("transform",r(at.x,-p.uplift))}).on("dragend",function(at){var tt=L.select(this),dt=at.calcdata;at.x=at.xScale(at),at.calcdata.columnDragInProgress=!1,I(tt,at,0),_(se,dt,dt.columns.map(function(wt){return wt.xIndex}))})),Ae.each(function(at){v.setClipUrl(L.select(this),h(se,at),se)});var be=Ae.selectAll("."+p.cn.columnBlock).data(l.splitToPanels,A.keyFun);be.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(at){return at.key}),be.style("cursor",function(at){return at.dragHandle?"ew-resize":at.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var _e=be.filter(z),Ve=be.filter(O);ue&&Ve.call(L.behavior.drag().origin(function(at){return L.event.stopPropagation(),at}).on("drag",q(se,Te,-1)).on("dragend",function(){})),s(se,Te,_e,be),s(se,Te,Ve,be);var We=Te.selectAll("."+p.cn.scrollAreaClip).data(A.repeat,A.keyFun);We.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(at){return x(se,at)});var ze=We.selectAll("."+p.cn.scrollAreaClipRect).data(A.repeat,A.keyFun);ze.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),ze.attr("width",function(at){return at.width+2*p.overdrag}).attr("height",function(at){return at.height+p.uplift});var Ze=Ae.selectAll("."+p.cn.columnBoundary).data(A.repeat,A.keyFun);Ze.enter().append("g").classed(p.cn.columnBoundary,!0);var ct=Ae.selectAll("."+p.cn.columnBoundaryClippath).data(A.repeat,A.keyFun);ct.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),ct.attr("id",function(at){return h(se,at)});var lt=ct.selectAll("."+p.cn.columnBoundaryRect).data(A.repeat,A.keyFun);lt.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),lt.attr("width",function(at){return at.columnWidth+2*n(at)}).attr("height",function(at){return at.calcdata.height+2*n(at)+p.uplift}).attr("x",function(at){return-n(at)}).attr("y",function(at){return-n(at)}),K(null,Ve,Te)};function n($){return Math.ceil($.calcdata.maxLineWidth/2)}function x($,se){return"clip"+$._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h($,se){return"clip"+$._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T($){return[].concat.apply([],$.map(function(se){return se})).map(function(se){return se.__data__})}function f($,se,ee){function ue(Ae){var be=Ae.rowBlocks;return V(be,be.length-1)+(be.length?Z(be[be.length-1],1/0):1)}var ge=$.selectAll("."+p.cn.scrollbarKit).data(A.repeat,A.keyFun);ge.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ge.each(function(Ae){var be=Ae.scrollbarState;be.totalHeight=ue(Ae),be.scrollableAreaHeight=Ae.groupHeight-k(Ae),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Ae.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Ae){var be=Ae.width+p.scrollbarWidth/2+p.scrollbarOffset;return r(be,k(Ae))});var Te=ge.selectAll("."+p.cn.scrollbar).data(A.repeat,A.keyFun);Te.enter().append("g").classed(p.cn.scrollbar,!0);var xe=Te.selectAll("."+p.cn.scrollbarSlider).data(A.repeat,A.keyFun);xe.enter().append("g").classed(p.cn.scrollbarSlider,!0),xe.attr("transform",function(Ae){return r(0,Ae.scrollbarState.topY||0)});var Pe=xe.selectAll("."+p.cn.scrollbarGlyph).data(A.repeat,A.keyFun);Pe.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Pe.attr("y2",function(Ae){return Ae.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Ae){return Ae.columnDragInProgress||!Ae.scrollbarState.barWiggleRoom||ee?0:.4}),Pe.transition().delay(0).duration(0),Pe.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var Ie=Te.selectAll("."+p.cn.scrollbarCaptureZone).data(A.repeat,A.keyFun);Ie.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ae){var be=L.event.y,_e=this.getBoundingClientRect(),Ve=Ae.scrollbarState,We=be-_e.top,ze=L.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=We&&We<=Ve.bottomY||q(se,$,null,ze(We-Ve.barLength/2))(Ae)}).call(L.behavior.drag().origin(function(Ae){return L.event.stopPropagation(),Ae.scrollbarState.scrollbarScrollInProgress=!0,Ae}).on("drag",q(se,$)).on("dragend",function(){})),Ie.attr("y2",function(Ae){return Ae.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(Pe.remove(),Ie.remove())}function s($,se,ee,ue){var ge=d(ee),Te=S(ge);w(Te);var xe=M(Te);i(xe);var Pe=y(Te),Ie=C(Pe);b(Ie),E(Ie,se,ue,$),G(Te)}function d($){var se=$.selectAll("."+p.cn.columnCells).data(A.repeat,A.keyFun);return se.enter().append("g").classed(p.cn.columnCells,!0),se.exit().remove(),se}function S($){var se=$.selectAll("."+p.cn.columnCell).data(l.splitToCells,function(ee){return ee.keyWithinBlock});return se.enter().append("g").classed(p.cn.columnCell,!0),se.exit().remove(),se}function M($){var se=$.selectAll("."+p.cn.cellRect).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("rect").classed(p.cn.cellRect,!0),se}function C($){var se=$.selectAll("."+p.cn.cellText).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),se}function y($){var se=$.selectAll("."+p.cn.cellTextHolder).data(A.repeat,function(ee){return ee.keyWithinBlock});return se.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function w($){$.each(function(se,ee){var ue=se.calcdata.cells.font,ge=se.column.specIndex,Te={size:B(ue.size,ge,ee),color:B(ue.color,ge,ee),family:B(ue.family,ge,ee)};se.rowNumber=se.key,se.align=B(se.calcdata.cells.align,ge,ee),se.cellBorderWidth=B(se.calcdata.cells.line.width,ge,ee),se.font=Te})}function b($){$.each(function(se){v.font(L.select(this),se.font)})}function i($){$.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ee=L.select(this);c.stroke(ee,B(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),c.fill(ee,B(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E($,se,ee,ue){$.text(function(ge){var Te=ge.column.specIndex,xe=ge.rowNumber,Pe=ge.value,Ie=typeof Pe=="string",Ae=Ie&&Pe.match(/<br>/i),be=!Ie||Ae;ge.mayHaveMarkup=Ie&&Pe.match(/[<&>]/);var _e=m(Pe);ge.latex=_e;var Ve=_e?"":B(ge.calcdata.cells.prefix,Te,xe)||"",We=_e?"":B(ge.calcdata.cells.suffix,Te,xe)||"",ze=_e?null:B(ge.calcdata.cells.format,Te,xe)||null,Ze=Ve+(ze?P(ze)(ge.value):ge.value)+We,ct;ge.wrappingNeeded=!ge.wrapped&&!be&&!_e&&(ct=F(Ze)),ge.cellHeightMayIncrease=Ae||_e||ge.mayHaveMarkup||(ct===void 0?F(Ze):ct),ge.needsConvertToTspans=ge.mayHaveMarkup||ge.wrappingNeeded||ge.latex;var lt;if(ge.wrappingNeeded){var at=p.wrapSplitCharacter===" "?Ze.replace(/<a href=/ig,"<a_href="):Ze,tt=at.split(p.wrapSplitCharacter),dt=p.wrapSplitCharacter===" "?tt.map(function(wt){return wt.replace(/<a_href=/ig,"<a href=")}):tt;ge.fragments=dt.map(function(wt){return{text:wt,width:null}}),ge.fragments.push({fragment:p.wrapSpacer,width:null}),lt=dt.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete ge.fragments,lt=Ze;return lt}).attr("dy",function(ge){return ge.needsConvertToTspans?0:"0.75em"}).each(function(ge){var Te=this,xe=L.select(Te),Pe=ge.wrappingNeeded?re:oe;ge.needsConvertToTspans?g.convertToTspans(xe,ue,Pe(ee,Te,se,ue,ge)):L.select(Te.parentNode).attr("transform",function(Ie){return r(Y(Ie),p.cellPad)}).attr("text-anchor",function(Ie){return{left:"start",center:"middle",right:"end"}[Ie.align]})})}function m($){return typeof $=="string"&&$.match(p.latexCheck)}function F($){return $.indexOf(p.wrapSplitCharacter)!==-1}function _($,se,ee){var ue=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ge,Te){return ee[ue.indexOf(ge)]-ee[ue.indexOf(Te)]}),se.columnorder=ee,$.emit("plotly_restyle")}function B($,se,ee){if(Array.isArray($)){var ue=$[Math.min(se,$.length-1)];return Array.isArray(ue)?ue[Math.min(ee,ue.length-1)]:ue}else return $}function I($,se,ee){$.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",r(se.x,ee))}function O($){return $.type==="cells"}function z($){return $.type==="header"}function k($){var se=$.rowBlocks.length?$.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ee,ue){return ee+Z(ue,1/0)},0)}function N($,se,ee){for(var ue=[],ge=0,Te=0;Te<$.length;Te++){for(var xe=$[Te],Pe=xe.rows,Ie=0,Ae=0;Ae<Pe.length;Ae++)Ie+=Pe[Ae].rowHeight;xe.allRowsHeight=Ie;var be=ge+Ie,_e=se,Ve=_e+ee;_e<be&&Ve>ge&&ue.push(Te),ge+=Ie}return ue}function K($,se,ee){var ue=T(se)[0];if(ue!==void 0){var ge=ue.rowBlocks,Te=ue.calcdata,xe=V(ge,ge.length),Pe=ue.calcdata.groupHeight-k(ue),Ie=Te.scrollY=Math.max(0,Math.min(xe-Pe,Te.scrollY)),Ae=N(ge,Ie,Pe);Ae.length===1&&(Ae[0]===ge.length-1?Ae.unshift(Ae[0]-1):Ae.push(Ae[0]+1)),Ae[0]%2&&Ae.reverse(),se.each(function(be,_e){be.page=Ae[_e],be.scrollY=Ie}),se.attr("transform",function(be){var _e=V(be.rowBlocks,be.page)-be.scrollY;return r(0,_e)}),$&&(Q($,ee,se,Ae,ue.prevPages,ue,0),Q($,ee,se,Ae,ue.prevPages,ue,1),f(ee,$))}}function q($,se,ee,ue){return function(Te){var xe=Te.calcdata?Te.calcdata:Te,Pe=se.filter(function(_e){return xe.key===_e.key}),Ie=ee||xe.scrollbarState.dragMultiplier,Ae=xe.scrollY;xe.scrollY=ue===void 0?xe.scrollY+Ie*L.event.dy:ue;var be=Pe.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(O);return K($,be,Pe),xe.scrollY===Ae}}function Q($,se,ee,ue,ge,Te,xe){var Pe=ue[xe]!==ge[xe];Pe&&(clearTimeout(Te.currentRepaint[xe]),Te.currentRepaint[xe]=setTimeout(function(){var Ie=ee.filter(function(Ae,be){return be===xe&&ue[be]!==ge[be]});s($,se,Ie,ee),ge[xe]=ue[xe]}))}function re($,se,ee,ue){return function(){var Te=L.select(se.parentNode);Te.each(function(xe){var Pe=xe.fragments;Te.selectAll("tspan.line").each(function(Ze,ct){Pe[ct].width=this.getComputedTextLength()});var Ie=Pe[Pe.length-1].width,Ae=Pe.slice(0,-1),be=[],_e,Ve,We=0,ze=xe.column.columnWidth-2*p.cellPad;for(xe.value="";Ae.length;)_e=Ae.shift(),Ve=_e.width+Ie,We+Ve>ze&&(xe.value+=be.join(p.wrapSpacer)+p.lineBreaker,be=[],We=0),be.push(_e.text),We+=Ve;We&&(xe.value+=be.join(p.wrapSpacer)),xe.wrapped=!0}),Te.selectAll("tspan.line").remove(),E(Te.select("."+p.cn.cellText),ee,$,ue),L.select(se.parentNode.parentNode).call(G)}}function oe($,se,ee,ue,ge){return function(){if(!ge.settledY){var xe=L.select(se.parentNode),Pe=ie(ge),Ie=ge.key-Pe.firstRowIndex,Ae=Pe.rows[Ie].rowHeight,be=ge.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*p.cellPad:Ae,_e=Math.max(be,Ae),Ve=_e-Pe.rows[Ie].rowHeight;Ve&&(Pe.rows[Ie].rowHeight=_e,$.selectAll("."+p.cn.columnCell).call(G),K(null,$.filter(O),0),f(ee,ue,!0)),xe.attr("transform",function(){var We=this,ze=We.parentNode,Ze=ze.getBoundingClientRect(),ct=L.select(We.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),lt=We.transform.baseVal.consolidate(),at=ct.top-Ze.top+(lt?lt.matrix.f:p.cellPad);return r(Y(ge,L.select(We.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),at)}),ge.settledY=!0}}}function Y($,se){switch($.align){case"left":return p.cellPad;case"right":return $.column.columnWidth-(se||0)-p.cellPad;case"center":return($.column.columnWidth-(se||0))/2;default:return p.cellPad}}function G($){$.attr("transform",function(se){var ee=se.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,Pe){return xe+Z(Pe,1/0)},0),ue=ie(se),ge=Z(ue,se.key),Te=ge+ee;return r(0,Te)}).selectAll("."+p.cn.cellRect).attr("height",function(se){return J(ie(se),se.key).rowHeight})}function V($,se){for(var ee=0,ue=se-1;ue>=0;ue--)ee+=ae($[ue]);return ee}function Z($,se){for(var ee=0,ue=0;ue<$.rows.length&&$.rows[ue].rowIndex<se;ue++)ee+=$.rows[ue].rowHeight;return ee}function ae($){var se=$.allRowsHeight;if(se!==void 0)return se;for(var ee=0,ue=0;ue<$.rows.length;ue++)ee+=$.rows[ue].rowHeight;return $.allRowsHeight=ee,ee}function ie($){return $.rowBlocks[$.page]}function J($,se){return $.rows[se-$.firstRowIndex]}},45802:function(W,U,e){var p=e(5386).f,L=e(5386).s,a=e(50693),P=e(27670).Y,A=e(34e3),v=e(57564),g=e(43473),t=e(1426).extendFlat;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},A.textfont,{}),editType:"calc"},text:A.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:A.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:g.eventDataKeys}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:t({},A.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:A.sort,root:v.root,domain:P({name:"treemap",trace:!0,editType:"calc"})}},78018:function(W,U,e){var p=e(74875);U.name="treemap",U.plot=function(L,a,P,A){p.plotBasePlot(U.name,L,a,P,A)},U.clean=function(L,a,P,A){p.cleanBasePlot(U.name,L,a,P,A)}},65039:function(W,U,e){var p=e(52147);U.y=function(L,a){return p.calc(L,a)},U.T=function(L){return p._runCrossTraceCalc("treemap",L)}},43473:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(W,U,e){var p=e(71828),L=e(45802),a=e(7901),P=e(27670).c,A=e(90769).handleText,v=e(97313).TEXTPAD,g=e(21081),t=g.hasColorscale,r=g.handleDefaults;W.exports=function(o,l,c,n){function x(E,m){return p.coerce(o,l,L,E,m)}var h=x("labels"),T=x("parents");if(!h||!h.length||!T||!T.length){l.visible=!1;return}var f=x("values");f&&f.length?x("branchvalues"):x("count"),x("level"),x("maxdepth");var s=x("tiling.packing");s==="squarify"&&x("tiling.squarifyratio"),x("tiling.flip"),x("tiling.pad");var d=x("text");x("texttemplate"),l.texttemplate||x("textinfo",Array.isArray(d)?"text+label":"label"),x("hovertext"),x("hovertemplate");var S=x("pathbar.visible"),M="auto";A(o,l,n,x,M,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),x("textposition");var C=l.textposition.indexOf("bottom")!==-1,y=x("marker.line.width");y&&x("marker.line.color",n.paper_bgcolor);var w=x("marker.colors"),b=l._hasColorscale=t(o,"marker","colors")||(o.marker||{}).coloraxis;b?r(o,l,n,x,{prefix:"marker.",cLetter:"c"}):x("marker.depthfade",!(w||[]).length);var i=l.textfont.size*2;x("marker.pad.t",C?i/4:i),x("marker.pad.l",i/4),x("marker.pad.r",i/4),x("marker.pad.b",C?i:i/4),x("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:a.contrast(n.paper_bgcolor)}}},S&&(x("pathbar.thickness",l.pathbar.textfont.size+2*v),x("pathbar.side"),x("pathbar.edgeshape")),x("sort"),x("root.color"),P(l,n,x),l._length=null}},80694:function(W,U,e){var p=e(39898),L=e(2791),a=e(72597),P=a.clearMinTextSize,A=e(16688).resizeText,v=e(46650);W.exports=function(t,r,u,o,l){var c=l.type,n=l.drawDescendants,x=t._fullLayout,h=x["_"+c+"layer"],T,f,s=!u;if(P(c,x),T=h.selectAll("g.trace."+c).data(r,function(S){return S[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(c,!0),T.order(),!x.uniformtext.mode&&L.hasTransition(u)){o&&(f=o());var d=p.transition().duration(u.duration).ease(u.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});d.each(function(){h.selectAll("g.trace").each(function(S){v(t,S,this,u,n)})})}else T.each(function(S){v(t,S,this,u,n)}),x.uniformtext.mode&&A(t,h.selectAll(".trace"),c);s&&T.exit().remove()}},66209:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(63893),A=e(37210),v=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),u=!0;W.exports=function(l,c,n,x,h){var T=h.barDifY,f=h.width,s=h.height,d=h.viewX,S=h.viewY,M=h.pathSlice,C=h.toMoveInsideSlice,y=h.strTransform,w=h.hasTransition,b=h.handleSlicesExit,i=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,m={},F=l._context.staticPlot,_=l._fullLayout,B=c[0],I=B.trace,O=B.hierarchy,z=f/I._entryDepth,k=t.listPath(n.data,"id"),N=A(O.copy(),[f,s],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function(q){var Q=k.indexOf(q.data.id);return Q===-1?!1:(q.x0=z*Q,q.x1=z*(Q+1),q.y0=T,q.y1=T+s,q.onPathbar=!0,!0)}),N.reverse(),x=x.data(N,t.getPtId),x.enter().append("g").classed("pathbar",!0),b(x,u,m,[f,s],M),x.order();var K=x;w&&(K=K.transition().each("end",function(){var q=p.select(this);t.setSliceCursor(q,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(q){q._x0=d(q.x0),q._x1=d(q.x1),q._y0=S(q.y0),q._y1=S(q.y1),q._hoverX=d(q.x1-Math.min(f,s)/2),q._hoverY=S(q.y1-s/2);var Q=p.select(this),re=L.ensureSingle(Q,"path","surface",function(V){V.style("pointer-events",F?"none":"all")});w?re.transition().attrTween("d",function(V){var Z=i(V,u,m,[f,s]);return function(ae){return M(Z(ae))}}):re.attr("d",M),Q.call(r,n,l,c,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:l._transitioning}),re.call(v,q,I,{hovered:!1}),q._text=(t.getPtLabel(q)||"").split("<br>").join(" ")||"";var oe=L.ensureSingle(Q,"g","slicetext"),Y=L.ensureSingle(oe,"text","",function(V){V.attr("data-notex",1)}),G=L.ensureUniformFontSize(l,t.determineTextFont(I,q,_.font,{onPathbar:!0}));Y.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,G).call(P.convertToTspans,l),q.textBB=a.bBox(Y.node()),q.transform=C(q,{fontSize:G.size,onPathbar:!0}),q.transform.fontSize=G.size,w?Y.transition().attrTween("transform",function(V){var Z=E(V,u,m,[f,s]);return function(ae){return y(Z(ae))}}):Y.attr("transform",y(q))})}},52583:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(63893),A=e(37210),v=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,o=!1;W.exports=function(c,n,x,h,T){var f=T.width,s=T.height,d=T.viewX,S=T.viewY,M=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,w=T.hasTransition,b=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,m=T.prevEntry,F={},_=c._context.staticPlot,B=c._fullLayout,I=n[0],O=I.trace,z=O.textposition.indexOf("left")!==-1,k=O.textposition.indexOf("right")!==-1,N=O.textposition.indexOf("bottom")!==-1,K=!N&&!O.marker.pad.t||N&&!O.marker.pad.b,q=A(x,[f,s],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),Q=q.descendants(),re=1/0,oe=-1/0;Q.forEach(function(ae){var ie=ae.depth;ie>=O._maxDepth?(ae.x0=ae.x1=(ae.x0+ae.x1)/2,ae.y0=ae.y1=(ae.y0+ae.y1)/2):(re=Math.min(re,ie),oe=Math.max(oe,ie))}),h=h.data(Q,t.getPtId),O._maxVisibleLayers=isFinite(oe)?oe-re+1:0,h.enter().append("g").classed("slice",!0),b(h,o,F,[f,s],M),h.order();var Y=null;if(w&&m){var G=t.getPtId(m);h.each(function(ae){Y===null&&t.getPtId(ae)===G&&(Y={x0:ae.x0,x1:ae.x1,y0:ae.y0,y1:ae.y1})})}var V=function(){return Y||{x0:0,x1:f,y0:0,y1:s}},Z=h;return w&&(Z=Z.transition().each("end",function(){var ae=p.select(this);t.setSliceCursor(ae,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(ae){var ie=t.isHeader(ae,O);ae._x0=d(ae.x0),ae._x1=d(ae.x1),ae._y0=S(ae.y0),ae._y1=S(ae.y1),ae._hoverX=d(ae.x1-O.marker.pad.r),ae._hoverY=S(N?ae.y1-O.marker.pad.b/2:ae.y0+O.marker.pad.t/2);var J=p.select(this),$=L.ensureSingle(J,"path","surface",function(ge){ge.style("pointer-events",_?"none":"all")});w?$.transition().attrTween("d",function(ge){var Te=i(ge,o,V(),[f,s]);return function(xe){return M(Te(xe))}}):$.attr("d",M),J.call(r,x,c,n,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),$.call(v,ae,O,{hovered:!1}),ae.x0===ae.x1||ae.y0===ae.y1?ae._text="":ie?ae._text=K?"":t.getPtLabel(ae)||"":ae._text=u(ae,x,O,n,B)||"";var se=L.ensureSingle(J,"g","slicetext"),ee=L.ensureSingle(se,"text","",function(ge){ge.attr("data-notex",1)}),ue=L.ensureUniformFontSize(c,t.determineTextFont(O,ae,B.font));ee.text(ae._text||" ").classed("slicetext",!0).attr("text-anchor",k?"end":z||ie?"start":"middle").call(a.font,ue).call(P.convertToTspans,c),ae.textBB=a.bBox(ee.node()),ae.transform=C(ae,{fontSize:ue.size,isHeader:ie}),ae.transform.fontSize=ue.size,w?ee.transition().attrTween("transform",function(ge){var Te=E(ge,o,V(),[f,s]);return function(xe){return y(Te(xe))}}):ee.attr("transform",y(ae))}),Y}},14102:function(W){W.exports=function U(e,p,L){var a;L.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),L.flipX&&(a=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-a),L.flipY&&(a=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-a);var P=e.children;if(P)for(var A=0;A<P.length;A++)U(P[A],p,L)}},70954:function(W,U,e){W.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(W){W.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(W,U,e){var p=e(71828),L=e(55479);W.exports=function(P,A){function v(g,t){return p.coerce(P,A,L,g,t)}v("treemapcolorway",A.colorway),v("extendtreemapcolors")}},37210:function(W,U,e){var p=e(674),L=e(14102);W.exports=function(A,v,g){var t=g.flipX,r=g.flipY,u=g.packing==="dice-slice",o=g.pad[r?"bottom":"top"],l=g.pad[t?"right":"left"],c=g.pad[t?"left":"right"],n=g.pad[r?"top":"bottom"],x;u&&(x=l,l=o,o=x,x=c,c=n,n=x);var h=p.treemap().tile(a(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(l).paddingRight(c).paddingTop(o).paddingBottom(n).size(u?[v[1],v[0]]:v)(A);return(u||t||r)&&L(h,v,{swapXY:u,flipX:t,flipY:r}),h};function a(P,A){switch(P){case"squarify":return p.treemapSquarify.ratio(A);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},5893:function(W,U,e){var p=e(80694),L=e(52583);W.exports=function(P,A,v,g){return p(P,A,v,g,{type:"treemap",drawDescendants:L})}},46650:function(W,U,e){var p=e(39898),L=e(29502).sX,a=e(2791),P=e(71828),A=e(97313).TEXTPAD,v=e(17295),g=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,u=e(43473),o=e(66209);function l(c){return a.isHierarchyRoot(c)?"":a.getPtId(c)}W.exports=function(n,x,h,T,f){var s=n._fullLayout,d=x[0],S=d.trace,M=S.type,C=M==="icicle",y=d.hierarchy,w=a.findEntryWithLevel(y,S.level),b=p.select(h),i=b.selectAll("g.pathbar"),E=b.selectAll("g.slice");if(!w){i.remove(),E.remove();return}var m=a.isHierarchyRoot(w),F=!s.uniformtext.mode&&a.hasTransition(T),_=a.getMaxDepth(S),B=function(Fe){return Fe.data.depth-w.data.depth<_},I=s._size,O=S.domain,z=I.w*(O.x[1]-O.x[0]),k=I.h*(O.y[1]-O.y[0]),N=z,K=S.pathbar.thickness,q=S.marker.line.width+u.gapWithPathbar,Q=S.pathbar.visible?S.pathbar.side.indexOf("bottom")>-1?k+q:-(K+q):0,re={x0:N,x1:N,y0:Q,y1:Q+K},oe=function(Fe,qe,it){var Je=S.tiling.pad,Re=function(Le){return Le-Je<=qe.x0},Me=function(Le){return Le+Je>=qe.x1},fe=function(Le){return Le-Je<=qe.y0},ye=function(Le){return Le+Je>=qe.y1};return Fe.x0===qe.x0&&Fe.x1===qe.x1&&Fe.y0===qe.y0&&Fe.y1===qe.y1?{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1}:{x0:Re(Fe.x0-Je)?0:Me(Fe.x0-Je)?it[0]:Fe.x0,x1:Re(Fe.x1+Je)?0:Me(Fe.x1+Je)?it[0]:Fe.x1,y0:fe(Fe.y0-Je)?0:ye(Fe.y0-Je)?it[1]:Fe.y0,y1:fe(Fe.y1+Je)?0:ye(Fe.y1+Je)?it[1]:Fe.y1}},Y=null,G={},V={},Z=null,ae=function(Fe,qe){return qe?G[l(Fe)]:V[l(Fe)]},ie=function(Fe,qe,it,Je){if(qe)return G[l(y)]||re;var Re=V[S.level]||it;return B(Fe)?oe(Fe,Re,Je):{}};d.hasMultipleRoots&&m&&_++,S._maxDepth=_,S._backgroundColor=s.paper_bgcolor,S._entryDepth=w.data.depth,S._atRootLevel=m;var J=-z/2+I.l+I.w*(O.x[1]+O.x[0])/2,$=-k/2+I.t+I.h*(1-(O.y[1]+O.y[0])/2),se=function(Fe){return J+Fe},ee=function(Fe){return $+Fe},ue=ee(0),ge=se(0),Te=function(Fe){return ge+Fe},xe=function(Fe){return ue+Fe};function Pe(Fe,qe){return Fe+","+qe}var Ie=Te(0),Ae=function(Fe){Fe.x=Math.max(Ie,Fe.x)},be=S.pathbar.edgeshape,_e=function(Fe){var qe=Te(Math.max(Math.min(Fe.x0,Fe.x0),0)),it=Te(Math.min(Math.max(Fe.x1,Fe.x1),N)),Je=xe(Fe.y0),Re=xe(Fe.y1),Me=K/2,fe={},ye={};fe.x=qe,ye.x=it,fe.y=ye.y=(Je+Re)/2;var Le={x:qe,y:Je},Oe={x:it,y:Je},ht={x:it,y:Re},vt={x:qe,y:Re};return be===">"?(Le.x-=Me,Oe.x-=Me,ht.x-=Me,vt.x-=Me):be==="/"?(ht.x-=Me,vt.x-=Me,fe.x-=Me/2,ye.x-=Me/2):be==="\\"?(Le.x-=Me,Oe.x-=Me,fe.x-=Me/2,ye.x-=Me/2):be==="<"&&(fe.x-=Me,ye.x-=Me),Ae(Le),Ae(vt),Ae(fe),Ae(Oe),Ae(ht),Ae(ye),"M"+Pe(Le.x,Le.y)+"L"+Pe(Oe.x,Oe.y)+"L"+Pe(ye.x,ye.y)+"L"+Pe(ht.x,ht.y)+"L"+Pe(vt.x,vt.y)+"L"+Pe(fe.x,fe.y)+"Z"},Ve=S[C?"tiling":"marker"].pad,We=function(Fe){return S.textposition.indexOf(Fe)!==-1},ze=We("top"),Ze=We("left"),ct=We("right"),lt=We("bottom"),at=function(Fe){var qe=se(Fe.x0),it=se(Fe.x1),Je=ee(Fe.y0),Re=ee(Fe.y1),Me=it-qe,fe=Re-Je;if(!Me||!fe)return"";var ye=S.marker.cornerradius||0,Le=Math.min(ye,Me/2,fe/2);Le&&Fe.data&&Fe.data.data&&Fe.data.data.label&&(ze&&(Le=Math.min(Le,Ve.t)),Ze&&(Le=Math.min(Le,Ve.l)),ct&&(Le=Math.min(Le,Ve.r)),lt&&(Le=Math.min(Le,Ve.b)));var Oe=function(ht,vt){return Le?"a"+Pe(Le,Le)+" 0 0 1 "+Pe(ht,vt):""};return"M"+Pe(qe,Je+Le)+Oe(Le,-Le)+"L"+Pe(it-Le,Je)+Oe(Le,Le)+"L"+Pe(it,Re-Le)+Oe(-Le,Le)+"L"+Pe(qe+Le,Re)+Oe(-Le,-Le)+"Z"},tt=function(Fe,qe){var it=Fe.x0,Je=Fe.x1,Re=Fe.y0,Me=Fe.y1,fe=Fe.textBB,ye=ze||qe.isHeader&&!lt,Le=ye?"start":lt?"end":"middle",Oe=We("right"),ht=We("left")||qe.onPathbar,vt=ht?-1:Oe?1:0;if(qe.isHeader){if(it+=(C?Ve:Ve.l)-A,Je-=(C?Ve:Ve.r)-A,it>=Je){var Lt=(it+Je)/2;it=Lt,Je=Lt}var Ot;lt?(Ot=Me-(C?Ve:Ve.b),Re<Ot&&Ot<Me&&(Re=Ot)):(Ot=Re+(C?Ve:Ve.t),Re<Ot&&Ot<Me&&(Me=Ot))}var Jt=g(it,Je,Re,Me,fe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Le,leftToRight:vt});return Jt.fontSize=qe.fontSize,Jt.targetX=se(Jt.targetX),Jt.targetY=ee(Jt.targetY),isNaN(Jt.targetX)||isNaN(Jt.targetY)?{}:(it!==Je&&Re!==Me&&r(S.type,Jt,s),{scale:Jt.scale,rotate:Jt.rotate,textX:Jt.textX,textY:Jt.textY,anchorX:Jt.anchorX,anchorY:Jt.anchorY,targetX:Jt.targetX,targetY:Jt.targetY})},dt=function(Fe,qe){for(var it,Je=0,Re=Fe;!it&&Je<_;)Je++,Re=Re.parent,Re?it=ae(Re,qe):Je=_;return it||{}},wt=function(Fe,qe,it,Je){var Re=ae(Fe,qe),Me;if(qe)Me=re;else{var fe=ae(w,qe);fe?Me=oe(Fe,fe,Je):Me={}}return L(Re,Me)},Mt=function(Fe,qe,it,Je,Re){var Me=ae(Fe,qe),fe;if(Me)fe=Me;else if(qe)fe=re;else if(Y)if(Fe.parent){var ye=Z||it;ye&&!qe?fe=oe(Fe,ye,Je):(fe={},P.extendFlat(fe,dt(Fe,qe)))}else fe=P.extendFlat({},Fe),C&&(Re.orientation==="h"?Re.flipX?fe.x0=Fe.x1:fe.x1=0:Re.flipY?fe.y0=Fe.y1:fe.y1=0);else fe={};return L(fe,{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1})},It=function(Fe,qe,it,Je){var Re=ae(Fe,qe),Me={},fe=ie(Fe,qe,it,Je);P.extendFlat(Me,{transform:tt({x0:fe.x0,x1:fe.x1,y0:fe.y0,y1:fe.y1,textBB:Fe.textBB,_text:Fe._text},{isHeader:a.isHeader(Fe,S)})}),Re?Me=Re:Fe.parent&&P.extendFlat(Me,dt(Fe,qe));var ye=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&r(S.type,ye,s),L(Me,{transform:{scale:ye.scale,rotate:ye.rotate,textX:ye.textX,textY:ye.textY,anchorX:ye.anchorX,anchorY:ye.anchorY,targetX:ye.targetX,targetY:ye.targetY}})},$e=function(Fe,qe,it,Je,Re){var Me=Je[0],fe=Je[1];F?Fe.exit().transition().each(function(){var ye=p.select(this),Le=ye.select("path.surface");Le.transition().attrTween("d",function(ht){var vt=wt(ht,qe,it,[Me,fe]);return function(Lt){return Re(vt(Lt))}});var Oe=ye.select("g.slicetext");Oe.attr("opacity",0)}).remove():Fe.exit().remove()},ke=function(Fe){var qe=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&r(S.type,qe,s),P.getTextTransform({textX:qe.textX,textY:qe.textY,anchorX:qe.anchorX,anchorY:qe.anchorY,targetX:qe.targetX,targetY:qe.targetY,scale:qe.scale,rotate:qe.rotate})};F&&(i.each(function(Fe){G[l(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(G[l(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate})}),E.each(function(Fe){V[l(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(V[l(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate}),!Y&&a.isEntry(Fe)&&(Y=Fe)})),Z=f(n,x,w,E,{width:z,height:k,viewX:se,viewY:ee,pathSlice:at,toMoveInsideSlice:tt,prevEntry:Y,makeUpdateSliceInterpolator:Mt,makeUpdateTextInterpolator:It,handleSlicesExit:$e,hasTransition:F,strTransform:ke}),S.pathbar.visible?o(n,x,w,i,{barDifY:Q,width:N,height:K,viewX:Te,viewY:xe,pathSlice:_e,toMoveInsideSlice:tt,makeUpdateSliceInterpolator:Mt,makeUpdateTextInterpolator:It,handleSlicesExit:$e,hasTransition:F,strTransform:ke}):i.remove()}},96362:function(W,U,e){var p=e(39898),L=e(7901),a=e(71828),P=e(2791),A=e(72597).resizeText;function v(t){var r=t._fullLayout._treemaplayer.selectAll(".trace");A(t,r,"treemap"),r.each(function(u){var o=p.select(this),l=u[0],c=l.trace;o.style("opacity",c.opacity),o.selectAll("path.surface").each(function(n){p.select(this).call(g,n,c,{hovered:!1})})})}function g(t,r,u,o){var l=(o||{}).hovered,c=r.data.data,n=c.i,x,h,T=c.color,f=P.isHierarchyRoot(r),s=1;if(l)x=u._hovered.marker.line.color,h=u._hovered.marker.line.width;else if(f&&T===u.root.color)s=100,x="rgba(0,0,0,0)",h=0;else if(x=a.castOption(u,n,"marker.line.color")||L.defaultLine,h=a.castOption(u,n,"marker.line.width")||0,!u._hasColorscale&&!r.onPathbar){var d=u.marker.depthfade;if(d){var S=L.combine(L.addOpacity(u._backgroundColor,.75),T),M;if(d===!0){var C=P.getMaxDepth(u);isFinite(C)?P.isLeaf(r)?M=0:M=u._maxVisibleLayers-(r.data.depth-u._entryDepth):M=r.data.height+1}else M=r.data.depth-u._entryDepth,u._atRootLevel||M++;if(M>0)for(var y=0;y<M;y++){var w=.5*y/M;T=L.combine(L.addOpacity(S,w),T)}}}t.style("stroke-width",h).call(L.fill,T).call(L.stroke,x).style("opacity",s)}W.exports={style:v,styleOne:g}},68875:function(W,U,e){var p=e(53522),L=e(1426).extendFlat,a=e(12663).axisHoverFormat;W.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(W,U,e){var p=e(71828),L=e(89298),a=e(48518),P=e(60168),A=e(50606).BADNUM;W.exports=function(u,o){var l=a(u,o);if(l[0].t.empty)return l;for(var c=u._fullLayout,n=L.getFromId(u,o[o.orientation==="h"?"xaxis":"yaxis"]),x=1/0,h=-1/0,T=0,f=0,s=0;s<l.length;s++){var d=l[s],S=d.pts.map(P.extractVal),M=d.bandwidth=g(o,d,S),C=d.span=t(o,d,n,M);if(d.min===d.max&&M===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=M,T=Math.max(T,1);else{var y=C[1]-C[0],w=Math.ceil(y/(M/3)),b=y/w;if(!isFinite(b)||!isFinite(w))return p.error("Something went wrong with computing the violin span"),l[0].t.empty=!0,l;var i=P.makeKDE(d,o,S);d.density=new Array(w);for(var E=0,m=C[0];m<C[1]+b/2;E++,m+=b){var F=i(m);d.density[E]={v:F,t:m},T=Math.max(T,F)}}f=Math.max(f,S.length),x=Math.min(x,C[0]),h=Math.max(h,C[1])}var _=L.findExtremes(n,[x,h],{padded:!0});if(o._extremes[n._id]=_,o.width)l[0].t.maxKDE=T;else{var B=c._violinScaleGroupStats,I=o.scalegroup,O=B[I];O?(O.maxKDE=Math.max(O.maxKDE,T),O.maxCount=Math.max(O.maxCount,f)):B[I]={maxKDE:T,maxCount:f}}return l[0].t.labels.kde=p._(u,"kde:"),l};function v(r,u,o){var l=Math.min(u,o/1.349);return 1.059*l*Math.pow(r,-.2)}function g(r,u,o){var l=u.max-u.min;if(!l)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,l/1e4);var c=o.length,n=p.stdev(o,c-1,u.mean);return Math.max(v(c,n,u.q3-u.q1),l/100)}function t(r,u,o,l){var c=r.spanmode,n=r.span||[],x=[u.min,u.max],h=[u.min-2*l,u.max+2*l],T;function f(d){var S=n[d],M=o.type==="multicategory"?o.r2c(S):o.d2c(S,0,r[u.valLetter+"calendar"]);return M===A?h[d]:M}c==="soft"?T=h:c==="hard"?T=x:T=[f(0),f(1)];var s={type:"linear",range:T};return L.setConvert(s),s.cleanRange(),T}},86403:function(W,U,e){var p=e(37188).setPositionOffset,L=["v","h"];W.exports=function(P,A){for(var v=P.calcdata,g=A.xaxis,t=A.yaxis,r=0;r<L.length;r++){for(var u=L[r],o=u==="h"?t:g,l=[],c=0;c<v.length;c++){var n=v[c],x=n[0].t,h=n[0].trace;h.visible===!0&&h.type==="violin"&&!x.empty&&h.orientation===u&&h.xaxis===g._id&&h.yaxis===t._id&&l.push(c)}p("violin",P,l,o)}}},15899:function(W,U,e){var p=e(71828),L=e(7901),a=e(36411),P=e(68875);W.exports=function(v,g,t,r){function u(b,i){return p.coerce(v,g,P,b,i)}function o(b,i){return p.coerce2(v,g,P,b,i)}if(a.handleSampleDefaults(v,g,u,r),g.visible!==!1){u("bandwidth"),u("side");var l=u("width");l||(u("scalegroup",g.name),u("scalemode"));var c=u("span"),n;Array.isArray(c)&&(n="manual"),u("spanmode",n);var x=u("line.color",(v.marker||{}).color||t),h=u("line.width"),T=u("fillcolor",L.addOpacity(g.line.color,.5));a.handlePointsDefaults(v,g,u,{prefix:""});var f=o("box.width"),s=o("box.fillcolor",T),d=o("box.line.color",x),S=o("box.line.width",h),M=u("box.visible",Boolean(f||s||d||S));M||(g.box={visible:!1});var C=o("meanline.color",x),y=o("meanline.width",h),w=u("meanline.visible",Boolean(C||y));w||(g.meanline={visible:!1}),u("quartilemethod")}}},60168:function(W,U,e){var p=e(71828),L={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};U.makeKDE=function(a,P,A){var v=A.length,g=L.gaussian,t=a.bandwidth,r=1/(v*t);return function(u){for(var o=0,l=0;l<v;l++)o+=g((u-A[l])/t);return r*o}},U.getPositionOnKdePath=function(a,P,A){var v,g;P.orientation==="h"?(v="y",g="x"):(v="x",g="y");var t=p.findPointOnPath(a.path,A,g,{pathLength:a.pathLength}),r=a.posCenterPx,u=t[v],o=P.side==="both"?2*r-u:r;return[u,o]},U.getKdeValue=function(a,P,A){var v=a.pts.map(U.extractVal),g=U.makeKDE(a,P,v);return g(A)/a.posDensityScale},U.extractVal=function(a){return a.v}},57634:function(W,U,e){var p=e(7901),L=e(71828),a=e(89298),P=e(41868),A=e(60168);W.exports=function(g,t,r,u,o){o||(o={});var l=o.hoverLayer,c=g.cd,n=c[0].trace,x=n.hoveron,h=x.indexOf("violins")!==-1,T=x.indexOf("kde")!==-1,f=[],s,d;if(h||T){var S=P.hoverOnBoxes(g,t,r,u);if(T&&S.length>0){var M=g.xa,C=g.ya,y,w,b,i,E;n.orientation==="h"?(E=t,y="y",b=C,w="x",i=M):(E=r,y="x",b=M,w="y",i=C);var m=c[g.index];if(E>=m.span[0]&&E<=m.span[1]){var F=L.extendFlat({},g),_=i.c2p(E,!0),B=A.getKdeValue(m,n,E),I=A.getPositionOnKdePath(m,n,_),O=b._offset,z=b._length;F[y+"0"]=I[0],F[y+"1"]=I[1],F[w+"0"]=F[w+"1"]=_,F[w+"Label"]=w+": "+a.hoverLabelText(i,E,n[w+"hoverformat"])+", "+c[0].t.labels.kde+" "+B.toFixed(3);for(var k=0,N=0;N<S.length;N++)if(S[N].attr==="med"){k=N;break}F.spikeDistance=S[k].spikeDistance;var K=y+"Spike";F[K]=S[k][K],S[k].spikeDistance=void 0,S[k][K]=void 0,F.hovertemplate=!1,f.push(F),d={},d[y+"1"]=L.constrain(O+I[0],O,O+z),d[y+"2"]=L.constrain(O+I[1],O,O+z),d[w+"1"]=d[w+"2"]=i._offset+_}}h&&(f=f.concat(S))}x.indexOf("points")!==-1&&(s=P.hoverOnPoints(g,t,r));var q=l.selectAll(".violinline-"+n.uid).data(d?[0]:[]);return q.enter().append("line").classed("violinline-"+n.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(d).call(p.stroke,g.color),u==="closest"?s?[s]:f:(s&&f.push(s),f)}},47462:function(W,U,e){W.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(W,U,e){var p=e(40094),L=e(71828).extendFlat;W.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},33598:function(W,U,e){var p=e(71828),L=e(9228),a=e(4199);W.exports=function(A,v,g){function t(r,u){return p.coerce(A,v,L,r,u)}a._supply(A,v,g,t,"violin")}},28443:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(86047),A=e(34621),v=e(60168);W.exports=function(t,r,u,o){var l=t._fullLayout,c=r.xaxis,n=r.yaxis;function x(h,T){var f=A(h,{xaxis:c,yaxis:n,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(f[0],1)}L.makeTraceGroups(o,u,"trace violins").each(function(h){var T=p.select(this),f=h[0],s=f.t,d=f.trace;if(d.visible!==!0||s.empty){T.remove();return}var S=s.bPos,M=s.bdPos,C=r[s.valLetter+"axis"],y=r[s.posLetter+"axis"],w=d.side==="both",b=w||d.side==="positive",i=w||d.side==="negative",E=T.selectAll("path.violin").data(L.identity);E.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),E.exit().remove(),E.each(function(k){var N=p.select(this),K=k.density,q=K.length,Q=y.c2l(k.pos+S,!0),re=y.l2p(Q),oe;if(d.width)oe=s.maxKDE/M;else{var Y=l._violinScaleGroupStats[d.scalegroup];oe=d.scalemode==="count"?Y.maxKDE/M*(Y.maxCount/k.pts.length):Y.maxKDE/M}var G,V,Z,ae,ie,J,$;if(b){for(J=new Array(q),ae=0;ae<q;ae++)$=J[ae]={},$[s.posLetter]=Q+K[ae].v/oe,$[s.valLetter]=C.c2l(K[ae].t,!0);G=x(J,d)}if(i){for(J=new Array(q),ie=0,ae=q-1;ie<q;ie++,ae--)$=J[ie]={},$[s.posLetter]=Q-K[ae].v/oe,$[s.valLetter]=C.c2l(K[ae].t,!0);V=x(J,d)}if(w)Z=G+"L"+V.substr(1)+"Z";else{var se=[re,C.c2p(K[0].t)],ee=[re,C.c2p(K[q-1].t)];d.orientation==="h"&&(se.reverse(),ee.reverse()),b?Z="M"+se+"L"+G.substr(1)+"L"+ee:Z="M"+ee+"L"+V.substr(1)+"L"+se}N.attr("d",Z),k.posCenterPx=re,k.posDensityScale=oe*M,k.path=N.node(),k.pathLength=k.path.getTotalLength()/(w?2:1)});var m=d.box,F=m.width,_=(m.line||{}).width,B,I;w?(B=M*F,I=0):b?(B=[0,M*F/2],I=_*{x:1,y:-1}[s.posLetter]):(B=[M*F/2,0],I=_*{x:-1,y:1}[s.posLetter]),P.plotBoxAndWhiskers(T,{pos:y,val:C},d,{bPos:S,bdPos:B,bPosPxOffset:I}),P.plotBoxMean(T,{pos:y,val:C},d,{bPos:S,bdPos:B,bPosPxOffset:I});var O;!d.box.visible&&d.meanline.visible&&(O=L.identity);var z=T.selectAll("path.meanline").data(O||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),z.exit().remove(),z.each(function(k){var N=C.c2p(k.mean,!0),K=v.getPositionOnKdePath(k,d,N);p.select(this).attr("d",d.orientation==="h"?"M"+N+","+K[0]+"V"+K[1]:"M"+K[0]+","+N+"H"+K[1])}),P.plotPoints(T,{x:c,y:n},d,s)})}},31847:function(W,U,e){var p=e(39898),L=e(7901),a=e(16296).stylePoints;W.exports=function(A){var v=p.select(A).selectAll("g.trace.violins");v.style("opacity",function(g){return g[0].trace.opacity}),v.each(function(g){var t=g[0].trace,r=p.select(this),u=t.box||{},o=u.line||{},l=t.meanline||{},c=l.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(L.stroke,t.line.color).call(L.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",o.width+"px").call(L.stroke,o.color).call(L.fill,u.fillcolor);var n={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(n).call(L.stroke,l.color),r.selectAll("path.meanline").style(n).call(L.stroke,l.color),a(r,t,A)})}},16336:function(W,U,e){var p=e(50693),L=e(16249),a=e(54532),P=e(9012),A=e(1426).extendFlat,v=e(30962).overrideAll,g=W.exports=v(A({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:a.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:A({},P.hoverinfo),showlegend:A({},P.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},64809:function(W,U,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,a=e(78614),P=e(21081).extractOpts,A=e(90060),v=e(22674).findNearestOnAxis,g=e(22674).generateIsoMeshes;function t(o,l,c){this.scene=o,this.uid=c,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,c=this.data._meshX[l],n=this.data._meshY[l],x=this.data._meshZ[l],h=this.data._Ys.length,T=this.data._Zs.length,f=v(c,this.data._Xs).id,s=v(n,this.data._Ys).id,d=v(x,this.data._Zs).id,S=o.index=d+T*s+T*h*f;o.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[S]!==void 0?o.textLabel=M[S]:M&&(o.textLabel=M),!0}},r.update=function(o){var l=this.scene,c=l.fullSceneLayout;this.data=g(o);function n(s,d,S,M){return d.map(function(C){return s.d2l(C,0,M)*S})}var x=A(n(c.xaxis,o._meshX,l.dataScale[0],o.xcalendar),n(c.yaxis,o._meshY,l.dataScale[1],o.ycalendar),n(c.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),h=A(o._meshI,o._meshJ,o._meshK),T={positions:x,cells:h,lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,opacityscale:o.opacityscale,contourEnable:o.contour.show,contourColor:a(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},f=P(o);T.vertexIntensity=o._meshIntensity,T.vertexIntensityBounds=[f.min,f.max],T.colormap=L(o),this.mesh.update(T)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(o,l){var c=o.glplot.gl,n=p({gl:c}),x=new t(o,n,l.uid);return n._trace=x,x.update(l),o.glplot.add(n),x}W.exports=u},47651:function(W,U,e){var p=e(71828),L=e(16336),a=e(82738).supplyIsoDefaults,P=e(91831).opacityscaleDefaults;W.exports=function(v,g,t,r){function u(o,l){return p.coerce(v,g,L,o,l)}a(v,g,t,r,u),P(v,g,r,u)}},17659:function(W,U,e){W.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(W,U,e){var p=e(1486),L=e(82196).line,a=e(9012),P=e(12663).axisHoverFormat,A=e(5386).f,v=e(5386).s,g=e(48334),t=e(1426).extendFlat,r=e(7901);function u(o){return{marker:{color:t({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}W.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:p.hovertext,hovertemplate:A({},{keys:g.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:u(),decreasing:u(),totals:u(),connector:{line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},52752:function(W,U,e){var p=e(89298),L=e(42973),a=e(71828).mergeArray,P=e(66279),A=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function g(t){return t==="t"||t==="total"}W.exports=function(r,u){var o=p.getFromId(r,u.xaxis||"x"),l=p.getFromId(r,u.yaxis||"y"),c,n,x,h,T,f;u.orientation==="h"?(c=o.makeCalcdata(u,"x"),x=l.makeCalcdata(u,"y"),h=L(u,l,"y",x),T=!!u.yperiodalignment,f="y"):(c=l.makeCalcdata(u,"y"),x=o.makeCalcdata(u,"x"),h=L(u,o,"x",x),T=!!u.xperiodalignment,f="x"),n=h.vals;for(var s=Math.min(n.length,c.length),d=new Array(s),S=0,M,C=!1,y=0;y<s;y++){var w=c[y]||0,b=!1;(c[y]!==A||g(u.measure[y])||v(u.measure[y]))&&y+1<s&&(c[y+1]!==A||g(u.measure[y+1])||v(u.measure[y+1]))&&(b=!0);var i=d[y]={i:y,p:n[y],s:w,rawS:w,cNext:b};v(u.measure[y])?(S=i.s,i.isSum=!0,i.dir="totals",i.s=S):g(u.measure[y])?(i.isSum=!0,i.dir="totals",i.s=S):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",M=i.s,i.s=S+M,S+=M),i.dir==="totals"&&(C=!0),T&&(d[y].orig_p=x[y],d[y][f+"End"]=h.ends[y],d[y][f+"Start"]=h.starts[y]),u.ids&&(i.id=String(u.ids[y])),i.v=(u.base||0)+S}return d.length&&(d[0].hasTotals=C),a(u.text,d,"tx"),a(u.hovertext,d,"htx"),P(d,u),d}},48334:function(W){W.exports={eventDataKeys:["initial","delta","final"]}},70766:function(W,U,e){var p=e(11661).setGroupPositions;W.exports=function(a,P){var A=a._fullLayout,v=a._fullData,g=a.calcdata,t=P.xaxis,r=P.yaxis,u=[],o=[],l=[],c,n;for(n=0;n<v.length;n++){var x=v[n];x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="waterfall"&&(c=g[n],x.orientation==="h"?l.push(c):o.push(c),u.push(c))}var h={mode:A.waterfallmode,norm:A.waterfallnorm,gap:A.waterfallgap,groupgap:A.waterfallgroupgap};for(p(a,t,r,o,h),p(a,r,t,l,h),n=0;n<u.length;n++){c=u[n];for(var T=0;T<c.length;T++){var f=c[T];f.isSum===!1&&(f.s0+=T===0?0:c[T-1].s),T+1<c.length&&(c[T].nextP0=c[T+1].p0,c[T].nextS0=c[T+1].s0)}}}},83266:function(W,U,e){var p=e(71828),L=e(26125),a=e(90769).handleText,P=e(67513),A=e(73927),v=e(43037),g=e(7901),t=e(22372),r=t.INCREASING.COLOR,u=t.DECREASING.COLOR,o="#4499FF";function l(x,h,T){x(h+".marker.color",T),x(h+".marker.line.color",g.defaultLine),x(h+".marker.line.width")}function c(x,h,T,f){function s(y,w){return p.coerce(x,h,v,y,w)}var d=P(x,h,f,s);if(!d){h.visible=!1;return}A(x,h,f,s),s("xhoverformat"),s("yhoverformat"),s("measure"),s("orientation",h.x&&!h.y?"h":"v"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate");var S=s("textposition");a(x,h,f,s,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(s("texttemplate"),h.texttemplate||s("textinfo")),l(s,"increasing",r),l(s,"decreasing",u),l(s,"totals",o);var M=s("connector.visible");if(M){s("connector.mode");var C=s("connector.line.width");C&&(s("connector.line.color"),s("connector.line.dash"))}}function n(x,h){var T,f;function s(S){return p.coerce(f._input,f,v,S)}if(h.waterfallmode==="group")for(var d=0;d<x.length;d++)f=x[d],T=f._input,L(T,f,h,s)}W.exports={supplyDefaults:c,crossTraceDefaults:n}},58593:function(W){W.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},61326:function(W,U,e){var p=e(89298).hoverLabelText,L=e(7901).opacity,a=e(95423).hoverOnBars,P=e(22372),A={increasing:P.INCREASING.SYMBOL,decreasing:P.DECREASING.SYMBOL};W.exports=function(t,r,u,o,l){var c=a(t,r,u,o,l);if(!c)return;var n=c.cd,x=n[0].trace,h=x.orientation==="h",T=h?"x":"y",f=h?t.xa:t.ya;function s(m){return p(f,m,x[T+"hoverformat"])}var d=c.index,S=n[d],M=S.isSum?S.b+S.s:S.rawS;if(!S.isSum){c.initial=S.b+S.s-M,c.delta=M,c.final=c.initial+c.delta;var C=s(Math.abs(c.delta));c.deltaLabel=M<0?"("+C+")":C,c.finalLabel=s(c.final),c.initialLabel=s(c.initial)}var y=S.hi||x.hoverinfo,w=[];if(y&&y!=="none"&&y!=="skip"){var b=y==="all",i=y.split("+"),E=function(m){return b||i.indexOf(m)!==-1};S.isSum||(E("final")&&(h?!E("x"):!E("y"))&&w.push(c.finalLabel),E("delta")&&(M<0?w.push(c.deltaLabel+" "+A.decreasing):w.push(c.deltaLabel+" "+A.increasing)),E("initial")&&w.push("Initial: "+c.initialLabel))}return w.length&&(c.extraText=w.join("<br>")),c.color=v(x,S),[c]};function v(g,t){var r=g[t.dir].marker,u=r.color,o=r.line.color,l=r.line.width;if(L(u))return u;if(L(o)&&l)return o}},19990:function(W,U,e){W.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(W){W.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(W,U,e){var p=e(71828),L=e(13494);W.exports=function(a,P,A){var v=!1;function g(u,o){return p.coerce(a,P,L,u,o)}for(var t=0;t<A.length;t++){var r=A[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},30436:function(W,U,e){var p=e(39898),L=e(71828),a=e(91424),P=e(50606).BADNUM,A=e(17295),v=e(72597).clearMinTextSize;W.exports=function(u,o,l,c){var n=u._fullLayout;v("waterfall",n),A.plot(u,o,l,c,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),g(u,o,l,c)};function g(r,u,o,l){var c=u.xaxis,n=u.yaxis;L.makeTraceGroups(l,o,"trace bars").each(function(x){var h=p.select(this),T=x[0].trace,f=L.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){f.remove();return}var s=T.orientation==="h",d=T.connector.mode,S=f.selectAll("g.line").data(L.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(C,y){if(!(y!==M-1&&!C.cNext)){var w=t(C,c,n,s),b=w[0],i=w[1],E="";b[0]!==P&&i[0]!==P&&b[1]!==P&&i[1]!==P&&(d==="spanning"&&!C.isSum&&y>0&&(s?E+="M"+b[0]+","+i[1]+"V"+i[0]:E+="M"+b[1]+","+i[0]+"H"+b[0]),d!=="between"&&(C.isSum||y<M-1)&&(s?E+="M"+b[1]+","+i[0]+"V"+i[1]:E+="M"+b[0]+","+i[1]+"H"+b[1]),b[2]!==P&&i[2]!==P&&(s?E+="M"+b[1]+","+i[1]+"V"+i[2]:E+="M"+b[1]+","+i[1]+"H"+b[2])),E===""&&(E="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",E).call(a.setClipUrl,u.layerClipId,r)}})})}function t(r,u,o,l){var c=[],n=[],x=l?u:o,h=l?o:u;return c[0]=x.c2p(r.s0,!0),n[0]=h.c2p(r.p0,!0),c[1]=x.c2p(r.s1,!0),n[1]=h.c2p(r.p1,!0),c[2]=x.c2p(r.nextS0,!0),n[2]=h.c2p(r.nextP0,!0),l?[c,n]:[n,c]}},55750:function(W,U,e){var p=e(39898),L=e(91424),a=e(7901),P=e(37822).DESELECTDIM,A=e(16688),v=e(72597).resizeText,g=A.styleTextPoints;function t(r,u,o){var l=o||p.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,l,"waterfall"),l.style("opacity",function(c){return c[0].trace.opacity}),l.each(function(c){var n=p.select(this),x=c[0].trace;n.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=x[h.dir].marker;p.select(this).call(a.fill,T.color).call(a.stroke,T.line.color).call(L.dashLine,T.line.dash,T.line.width).style("opacity",x.selectedpoints&&!h.selected?P:1)}}),g(n,x,r),n.selectAll(".lines").each(function(){var h=x.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}W.exports={style:t}},82887:function(W,U,e){var p=e(89298),L=e(71828),a=e(86281),P=e(79344).p,A=e(50606).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=v.aggregations;U.supplyDefaults=function(c,n){var x={},h;function T(m,F){return L.coerce(c,x,v,m,F)}var f=T("enabled");if(!f)return x;var s=a.findArrayAttributes(n),d={};for(h=0;h<s.length;h++)d[s[h]]=1;var S=T("groups");if(!Array.isArray(S)){if(!d[S])return x.enabled=!1,x;d[S]=0}var M=c.aggregations||[],C=x.aggregations=new Array(M.length),y;function w(m,F){return L.coerce(M[h],y,g,m,F)}for(h=0;h<M.length;h++){y={_index:h};var b=w("target"),i=w("func"),E=w("enabled");E&&b&&(d[b]||i==="count"&&d[b]===void 0)?(i==="stddev"&&w("funcmode"),d[b]=0,C[h]=y):C[h]={enabled:!1,_index:h}}for(h=0;h<s.length;h++)d[s[h]]&&C.push({target:s[h],func:g.func.dflt,enabled:!0,_index:-1});return x},U.calcTransform=function(c,n,x){if(x.enabled){var h=x.groups,T=L.getTargetArray(n,{target:h});if(T){var f,s,d,S,M={},C={},y=[],w=P(n.transforms,x),b=T.length;for(n._length&&(b=Math.min(b,n._length)),f=0;f<b;f++)s=T[f],d=M[s],d===void 0?(M[s]=y.length,S=[f],y.push(S),C[M[s]]=w(f)):(y[d].push(f),C[M[s]]=(C[M[s]]||[]).concat(w(f)));x._indexToPoints=C;var i=x.aggregations;for(f=0;f<i.length;f++)t(c,n,y,i[f]);typeof h=="string"&&t(c,n,y,{target:h,func:"first",enabled:!0}),n._length=y.length}}};function t(c,n,x,h){if(h.enabled){for(var T=h.target,f=L.nestedProperty(n,T),s=f.get(),d=p.getDataConversions(c,n,T,s),S=r(h,d),M=new Array(x.length),C=0;C<x.length;C++)M[C]=S(s,x[C]);f.set(M),h.func==="count"&&L.pushUnique(n._arrayAttrs,T)}}function r(c,n){var x=c.func,h=n.d2c,T=n.c2d;switch(x){case"count":return u;case"first":return o;case"last":return l;case"sum":return function(f,s){for(var d=0,S=0;S<s.length;S++){var M=h(f[s[S]]);M!==A&&(d+=M)}return T(d)};case"avg":return function(f,s){for(var d=0,S=0,M=0;M<s.length;M++){var C=h(f[s[M]]);C!==A&&(d+=C,S++)}return S?T(d/S):A};case"min":return function(f,s){for(var d=1/0,S=0;S<s.length;S++){var M=h(f[s[S]]);M!==A&&(d=Math.min(d,M))}return d===1/0?A:T(d)};case"max":return function(f,s){for(var d=-1/0,S=0;S<s.length;S++){var M=h(f[s[S]]);M!==A&&(d=Math.max(d,M))}return d===-1/0?A:T(d)};case"range":return function(f,s){for(var d=1/0,S=-1/0,M=0;M<s.length;M++){var C=h(f[s[M]]);C!==A&&(d=Math.min(d,C),S=Math.max(S,C))}return S===-1/0||d===1/0?A:T(S-d)};case"change":return function(f,s){var d=h(f[s[0]]),S=h(f[s[s.length-1]]);return d===A||S===A?A:T(S-d)};case"median":return function(f,s){for(var d=[],S=0;S<s.length;S++){var M=h(f[s[S]]);M!==A&&d.push(M)}if(!d.length)return A;d.sort(L.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(f,s){for(var d={},S=0,M=A,C=0;C<s.length;C++){var y=h(f[s[C]]);if(y!==A){var w=d[y]=(d[y]||0)+1;w>S&&(S=w,M=y)}}return S?T(M):A};case"rms":return function(f,s){for(var d=0,S=0,M=0;M<s.length;M++){var C=h(f[s[M]]);C!==A&&(d+=C*C,S++)}return S?T(Math.sqrt(d/S)):A};case"stddev":return function(f,s){var d=0,S=0,M=1,C=A,y;for(y=0;y<s.length&&C===A;y++)C=h(f[s[y]]);if(C===A)return A;for(;y<s.length;y++){var w=h(f[s[y]]);if(w!==A){var b=w-C;d+=b,S+=b*b,M++}}var i=c.funcmode==="sample"?M-1:M;return i?Math.sqrt((S-d*d/M)/i):0}}}function u(c,n){return n.length}function o(c,n){return c[n[0]]}function l(c,n){return c[n[n.length-1]]}},14382:function(W,U,e){var p=e(71828),L=e(73972),a=e(89298),P=e(79344).p,A=e(74808),v=A.COMPARISON_OPS,g=A.INTERVAL_OPS,t=A.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(g).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(u){var o={};function l(h,T){return p.coerce(u,o,U.attributes,h,T)}var c=l("enabled");if(c){var n=l("target");if(p.isArrayOrTypedArray(n)&&n.length===0)return o.enabled=!1,o;l("preservegaps"),l("operation"),l("value");var x=L.getComponentMethod("calendars","handleDefaults");x(u,o,"valuecalendar",null),x(u,o,"targetcalendar",null)}return o},U.calcTransform=function(u,o,l){if(!l.enabled)return;var c=p.getTargetArray(o,l);if(!c)return;var n=l.target,x=c.length;o._length&&(x=Math.min(x,o._length));var h=l.targetcalendar,T=o._arrayAttrs,f=l.preservegaps;if(typeof n=="string"){var s=p.nestedProperty(o,n+"calendar").get();s&&(h=s)}var d=a.getDataToCoordFunc(u,o,n,c),S=r(l,d,h),M={},C={},y=0;function w(_,B){for(var I=0;I<T.length;I++){var O=p.nestedProperty(o,T[I]);_(O,B)}}var b,i;f?(b=function(_){M[_.astr]=p.extendDeep([],_.get()),_.set(new Array(x))},i=function(_,B){var I=M[_.astr][B];_.get()[B]=I}):(b=function(_){M[_.astr]=p.extendDeep([],_.get()),_.set([])},i=function(_,B){var I=M[_.astr][B];_.get().push(I)}),w(b);for(var E=P(o.transforms,l),m=0;m<x;m++){var F=S(c[m]);F?(w(i,m),C[y++]=E(m)):f&&y++}l._indexToPoints=C,o._length=y};function r(u,o,l){var c=u.operation,n=u.value,x=Array.isArray(n);function h(d){return d.indexOf(c)!==-1}var T=function(d){return o(d,0,u.valuecalendar)},f=function(d){return o(d,0,l)},s;switch(h(v)?s=T(x?n[0]:n):h(g)?s=x?[T(n[0]),T(n[1])]:[T(n),T(n)]:h(t)&&(s=x?n.map(T):[T(n)]),c){case"=":return function(d){return f(d)===s};case"!=":return function(d){return f(d)!==s};case"<":return function(d){return f(d)<s};case"<=":return function(d){return f(d)<=s};case">":return function(d){return f(d)>s};case">=":return function(d){return f(d)>=s};case"[]":return function(d){var S=f(d);return S>=s[0]&&S<=s[1]};case"()":return function(d){var S=f(d);return S>s[0]&&S<s[1]};case"[)":return function(d){var S=f(d);return S>=s[0]&&S<s[1]};case"(]":return function(d){var S=f(d);return S>s[0]&&S<=s[1]};case"][":return function(d){var S=f(d);return S<=s[0]||S>=s[1]};case")(":return function(d){var S=f(d);return S<s[0]||S>s[1]};case"](":return function(d){var S=f(d);return S<=s[0]||S>s[1]};case")[":return function(d){var S=f(d);return S<s[0]||S>=s[1]};case"{}":return function(d){return s.indexOf(f(d))!==-1};case"}{":return function(d){return s.indexOf(f(d))===-1}}}},43102:function(W,U,e){var p=e(71828),L=e(86281),a=e(74875),P=e(79344).p;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,g,t){var r,u={};function o(T,f){return p.coerce(v,u,U.attributes,T,f)}var l=o("enabled");if(!l)return u;o("groups"),o("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var c=v.styles,n=u.styles=[];if(c)for(r=0;r<c.length;r++){var x=n[r]={};p.coerce(c[r],n[r],U.attributes.styles,"target");var h=p.coerce(c[r],n[r],U.attributes.styles,"value");p.isPlainObject(h)?x.value=p.extendDeep({},h):h&&delete x.value}return u},U.transform=function(v,g){var t,r,u,o=[];for(r=0;r<v.length;r++)for(t=A(v[r],g),u=0;u<t.length;u++)o.push(t[u]);return o};function A(v,g){var t,r,u,o,l,c,n,x,h,T,f=g.transform,s=g.transformIndex,d=v.transforms[s].groups,S=P(v.transforms,f);if(!p.isArrayOrTypedArray(d)||d.length===0)return[v];var M=p.filterUnique(d),C=new Array(M.length),y=d.length,w=L.findArrayAttributes(v),b=f.styles||[],i={};for(t=0;t<b.length;t++)i[b[t].target]=b[t].value;f.styles&&(T=p.keyedContainer(f,"styles","target","value.name"));var E={},m={};for(t=0;t<M.length;t++){c=M[t],E[c]=t,m[c]=0,n=C[t]=p.extendDeepNoArrays({},v),n._group=c,n.transforms[s]._indexToPoints={};var F=null;for(T&&(F=T.get(c)),F||F===""?n.name=F:n.name=p.templateString(f.nameformat,{trace:v.name,group:c}),x=n.transforms,n.transforms=[],r=0;r<x.length;r++)n.transforms[r]=p.extendDeepNoArrays({},x[r]);for(r=0;r<w.length;r++)p.nestedProperty(n,w[r]).set([])}for(u=0;u<w.length;u++){for(o=w[u],r=0,h=[];r<M.length;r++)h[r]=p.nestedProperty(C[r],o).get();for(l=p.nestedProperty(v,o).get(),r=0;r<y;r++)h[E[d[r]]].push(l[r])}for(r=0;r<y;r++){n=C[E[d[r]]];var _=n.transforms[s]._indexToPoints;_[m[d[r]]]=S(r),m[d[r]]++}for(t=0;t<M.length;t++)c=M[t],n=C[t],a.clearExpandedTraceDefaultColors(n),n=p.extendDeepNoArrays(n,i[c]||{});return C}},79344:function(W,U){U.p=function(e,p){for(var L,a,P=0;P<e.length&&(L=e[P],L!==p);P++)!L._indexToPoints||L.enabled===!1||(a=L._indexToPoints);var A=a?function(v){return a[v]}:function(v){return[v]};return A}},32275:function(W,U,e){var p=e(71828),L=e(89298),a=e(79344).p,P=e(50606).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(g){var t={};function r(o,l){return p.coerce(g,t,U.attributes,o,l)}var u=r("enabled");return u&&(r("target"),r("order")),t},U.calcTransform=function(g,t,r){if(r.enabled){var u=p.getTargetArray(t,r);if(u){var o=r.target,l=u.length;t._length&&(l=Math.min(l,t._length));var c=t._arrayAttrs,n=L.getDataToCoordFunc(g,t,o,u),x=A(r,u,n,l),h=a(t.transforms,r),T={},f,s;for(f=0;f<c.length;f++){var d=p.nestedProperty(t,c[f]),S=d.get(),M=new Array(l);for(s=0;s<l;s++)M[s]=S[x[s]];d.set(M)}for(s=0;s<l;s++)T[s]=h(x[s]);r._indexToPoints=T,t._length=l}}};function A(g,t,r,u){var o=new Array(u),l=new Array(u),c;for(c=0;c<u;c++)o[c]={v:t[c],i:c};for(o.sort(v(g,r)),c=0;c<u;c++)l[c]=o[c].i;return l}function v(g,t){switch(g.order){case"ascending":return function(r,u){var o=t(r.v),l=t(u.v);return o===P?1:l===P?-1:o-l};case"descending":return function(r,u){var o=t(r.v),l=t(u.v);return o===P?1:l===P?-1:l-o}}}},11506:function(W,U){U.version="2.17.1"},9330:function(W,U,e){var p=e(90386);(function(a,P){W.exports=P()})(self,function(){return function(){var L={7386:function(v,g,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,g,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(Me,fe){if(!(Me instanceof fe))throw new TypeError("Cannot call a class as a function")}function u(Me,fe){for(var ye=0;ye<fe.length;ye++){var Le=fe[ye];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Me,Le.key,Le)}}function o(Me,fe,ye){return fe&&u(Me.prototype,fe),ye&&u(Me,ye),Object.defineProperty(Me,"prototype",{writable:!1}),Me}function l(Me,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");Me.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Me,writable:!0,configurable:!0}}),Object.defineProperty(Me,"prototype",{writable:!1}),fe&&c(Me,fe)}function c(Me,fe){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Le,Oe){return Le.__proto__=Oe,Le},c(Me,fe)}function n(Me){var fe=T();return function(){var Le=f(Me),Oe;if(fe){var ht=f(this).constructor;Oe=Reflect.construct(Le,arguments,ht)}else Oe=Le.apply(this,arguments);return x(this,Oe)}}function x(Me,fe){if(fe&&(s(fe)==="object"||typeof fe=="function"))return fe;if(fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Me)}function h(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(Me){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},f(Me)}function s(Me){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},s(Me)}var d=t(3910),S=t(3187),M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.lW=b,g.h2=50;var C=2147483647;b.TYPED_ARRAY_SUPPORT=y(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{var Me=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(Me,fe),Me.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function w(Me){if(Me>C)throw new RangeError('The value "'+Me+'" is invalid for option "size"');var fe=new Uint8Array(Me);return Object.setPrototypeOf(fe,b.prototype),fe}function b(Me,fe,ye){if(typeof Me=="number"){if(typeof fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(Me)}return i(Me,fe,ye)}b.poolSize=8192;function i(Me,fe,ye){if(typeof Me=="string")return _(Me,fe);if(ArrayBuffer.isView(Me))return I(Me);if(Me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Me));if(Fe(Me,ArrayBuffer)||Me&&Fe(Me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(Me,SharedArrayBuffer)||Me&&Fe(Me.buffer,SharedArrayBuffer)))return O(Me,fe,ye);if(typeof Me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=Me.valueOf&&Me.valueOf();if(Le!=null&&Le!==Me)return b.from(Le,fe,ye);var Oe=z(Me);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Me[Symbol.toPrimitive]=="function")return b.from(Me[Symbol.toPrimitive]("string"),fe,ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Me))}b.from=function(Me,fe,ye){return i(Me,fe,ye)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function E(Me){if(typeof Me!="number")throw new TypeError('"size" argument must be of type number');if(Me<0)throw new RangeError('The value "'+Me+'" is invalid for option "size"')}function m(Me,fe,ye){return E(Me),Me<=0?w(Me):fe!==void 0?typeof ye=="string"?w(Me).fill(fe,ye):w(Me).fill(fe):w(Me)}b.alloc=function(Me,fe,ye){return m(Me,fe,ye)};function F(Me){return E(Me),w(Me<0?0:k(Me)|0)}b.allocUnsafe=function(Me){return F(Me)},b.allocUnsafeSlow=function(Me){return F(Me)};function _(Me,fe){if((typeof fe!="string"||fe==="")&&(fe="utf8"),!b.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);var ye=N(Me,fe)|0,Le=w(ye),Oe=Le.write(Me,fe);return Oe!==ye&&(Le=Le.slice(0,Oe)),Le}function B(Me){for(var fe=Me.length<0?0:k(Me.length)|0,ye=w(fe),Le=0;Le<fe;Le+=1)ye[Le]=Me[Le]&255;return ye}function I(Me){if(Fe(Me,Uint8Array)){var fe=new Uint8Array(Me);return O(fe.buffer,fe.byteOffset,fe.byteLength)}return B(Me)}function O(Me,fe,ye){if(fe<0||Me.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(Me.byteLength<fe+(ye||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return fe===void 0&&ye===void 0?Le=new Uint8Array(Me):ye===void 0?Le=new Uint8Array(Me,fe):Le=new Uint8Array(Me,fe,ye),Object.setPrototypeOf(Le,b.prototype),Le}function z(Me){if(b.isBuffer(Me)){var fe=k(Me.length)|0,ye=w(fe);return ye.length===0||Me.copy(ye,0,0,fe),ye}if(Me.length!==void 0)return typeof Me.length!="number"||qe(Me.length)?w(0):B(Me);if(Me.type==="Buffer"&&Array.isArray(Me.data))return B(Me.data)}function k(Me){if(Me>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return Me|0}b.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==b.prototype},b.compare=function(fe,ye){if(Fe(fe,Uint8Array)&&(fe=b.from(fe,fe.offset,fe.byteLength)),Fe(ye,Uint8Array)&&(ye=b.from(ye,ye.offset,ye.byteLength)),!b.isBuffer(fe)||!b.isBuffer(ye))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===ye)return 0;for(var Le=fe.length,Oe=ye.length,ht=0,vt=Math.min(Le,Oe);ht<vt;++ht)if(fe[ht]!==ye[ht]){Le=fe[ht],Oe=ye[ht];break}return Le<Oe?-1:Oe<Le?1:0},b.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(fe,ye){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return b.alloc(0);var Le;if(ye===void 0)for(ye=0,Le=0;Le<fe.length;++Le)ye+=fe[Le].length;var Oe=b.allocUnsafe(ye),ht=0;for(Le=0;Le<fe.length;++Le){var vt=fe[Le];if(Fe(vt,Uint8Array))ht+vt.length>Oe.length?(b.isBuffer(vt)||(vt=b.from(vt)),vt.copy(Oe,ht)):Uint8Array.prototype.set.call(Oe,vt,ht);else if(b.isBuffer(vt))vt.copy(Oe,ht);else throw new TypeError('"list" argument must be an Array of Buffers');ht+=vt.length}return Oe};function N(Me,fe){if(b.isBuffer(Me))return Me.length;if(ArrayBuffer.isView(Me)||Fe(Me,ArrayBuffer))return Me.byteLength;if(typeof Me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(Me));var ye=Me.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&ye===0)return 0;for(var Oe=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":return wt(Me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye*2;case"hex":return ye>>>1;case"base64":return $e(Me).length;default:if(Oe)return Le?-1:wt(Me).length;fe=(""+fe).toLowerCase(),Oe=!0}}b.byteLength=N;function K(Me,fe,ye){var Le=!1;if((fe===void 0||fe<0)&&(fe=0),fe>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0,fe>>>=0,ye<=fe))return"";for(Me||(Me="utf8");;)switch(Me){case"hex":return ue(this,fe,ye);case"utf8":case"utf-8":return ie(this,fe,ye);case"ascii":return se(this,fe,ye);case"latin1":case"binary":return ee(this,fe,ye);case"base64":return ae(this,fe,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,fe,ye);default:if(Le)throw new TypeError("Unknown encoding: "+Me);Me=(Me+"").toLowerCase(),Le=!0}}b.prototype._isBuffer=!0;function q(Me,fe,ye){var Le=Me[fe];Me[fe]=Me[ye],Me[ye]=Le}b.prototype.swap16=function(){var fe=this.length;if(fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ye=0;ye<fe;ye+=2)q(this,ye,ye+1);return this},b.prototype.swap32=function(){var fe=this.length;if(fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ye=0;ye<fe;ye+=4)q(this,ye,ye+3),q(this,ye+1,ye+2);return this},b.prototype.swap64=function(){var fe=this.length;if(fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ye=0;ye<fe;ye+=8)q(this,ye,ye+7),q(this,ye+1,ye+6),q(this,ye+2,ye+5),q(this,ye+3,ye+4);return this},b.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?ie(this,0,fe):K.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(fe){if(!b.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe?!0:b.compare(this,fe)===0},b.prototype.inspect=function(){var fe="",ye=g.h2;return fe=this.toString("hex",0,ye).replace(/(.{2})/g,"$1 ").trim(),this.length>ye&&(fe+=" ... "),"<Buffer "+fe+">"},M&&(b.prototype[M]=b.prototype.inspect),b.prototype.compare=function(fe,ye,Le,Oe,ht){if(Fe(fe,Uint8Array)&&(fe=b.from(fe,fe.offset,fe.byteLength)),!b.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(fe));if(ye===void 0&&(ye=0),Le===void 0&&(Le=fe?fe.length:0),Oe===void 0&&(Oe=0),ht===void 0&&(ht=this.length),ye<0||Le>fe.length||Oe<0||ht>this.length)throw new RangeError("out of range index");if(Oe>=ht&&ye>=Le)return 0;if(Oe>=ht)return-1;if(ye>=Le)return 1;if(ye>>>=0,Le>>>=0,Oe>>>=0,ht>>>=0,this===fe)return 0;for(var vt=ht-Oe,Lt=Le-ye,Ot=Math.min(vt,Lt),Jt=this.slice(Oe,ht),qt=fe.slice(ye,Le),Vt=0;Vt<Ot;++Vt)if(Jt[Vt]!==qt[Vt]){vt=Jt[Vt],Lt=qt[Vt];break}return vt<Lt?-1:Lt<vt?1:0};function Q(Me,fe,ye,Le,Oe){if(Me.length===0)return-1;if(typeof ye=="string"?(Le=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,qe(ye)&&(ye=Oe?0:Me.length-1),ye<0&&(ye=Me.length+ye),ye>=Me.length){if(Oe)return-1;ye=Me.length-1}else if(ye<0)if(Oe)ye=0;else return-1;if(typeof fe=="string"&&(fe=b.from(fe,Le)),b.isBuffer(fe))return fe.length===0?-1:re(Me,fe,ye,Le,Oe);if(typeof fe=="number")return fe=fe&255,typeof Uint8Array.prototype.indexOf=="function"?Oe?Uint8Array.prototype.indexOf.call(Me,fe,ye):Uint8Array.prototype.lastIndexOf.call(Me,fe,ye):re(Me,[fe],ye,Le,Oe);throw new TypeError("val must be string, number or Buffer")}function re(Me,fe,ye,Le,Oe){var ht=1,vt=Me.length,Lt=fe.length;if(Le!==void 0&&(Le=String(Le).toLowerCase(),Le==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(Me.length<2||fe.length<2)return-1;ht=2,vt/=2,Lt/=2,ye/=2}function Ot(gr,Gr){return ht===1?gr[Gr]:gr.readUInt16BE(Gr*ht)}var Jt;if(Oe){var qt=-1;for(Jt=ye;Jt<vt;Jt++)if(Ot(Me,Jt)===Ot(fe,qt===-1?0:Jt-qt)){if(qt===-1&&(qt=Jt),Jt-qt+1===Lt)return qt*ht}else qt!==-1&&(Jt-=Jt-qt),qt=-1}else for(ye+Lt>vt&&(ye=vt-Lt),Jt=ye;Jt>=0;Jt--){for(var Vt=!0,vr=0;vr<Lt;vr++)if(Ot(Me,Jt+vr)!==Ot(fe,vr)){Vt=!1;break}if(Vt)return Jt}return-1}b.prototype.includes=function(fe,ye,Le){return this.indexOf(fe,ye,Le)!==-1},b.prototype.indexOf=function(fe,ye,Le){return Q(this,fe,ye,Le,!0)},b.prototype.lastIndexOf=function(fe,ye,Le){return Q(this,fe,ye,Le,!1)};function oe(Me,fe,ye,Le){ye=Number(ye)||0;var Oe=Me.length-ye;Le?(Le=Number(Le),Le>Oe&&(Le=Oe)):Le=Oe;var ht=fe.length;Le>ht/2&&(Le=ht/2);var vt;for(vt=0;vt<Le;++vt){var Lt=parseInt(fe.substr(vt*2,2),16);if(qe(Lt))return vt;Me[ye+vt]=Lt}return vt}function Y(Me,fe,ye,Le){return ke(wt(fe,Me.length-ye),Me,ye,Le)}function G(Me,fe,ye,Le){return ke(Mt(fe),Me,ye,Le)}function V(Me,fe,ye,Le){return ke($e(fe),Me,ye,Le)}function Z(Me,fe,ye,Le){return ke(It(fe,Me.length-ye),Me,ye,Le)}b.prototype.write=function(fe,ye,Le,Oe){if(ye===void 0)Oe="utf8",Le=this.length,ye=0;else if(Le===void 0&&typeof ye=="string")Oe=ye,Le=this.length,ye=0;else if(isFinite(ye))ye=ye>>>0,isFinite(Le)?(Le=Le>>>0,Oe===void 0&&(Oe="utf8")):(Oe=Le,Le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ht=this.length-ye;if((Le===void 0||Le>ht)&&(Le=ht),fe.length>0&&(Le<0||ye<0)||ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var vt=!1;;)switch(Oe){case"hex":return oe(this,fe,ye,Le);case"utf8":case"utf-8":return Y(this,fe,ye,Le);case"ascii":case"latin1":case"binary":return G(this,fe,ye,Le);case"base64":return V(this,fe,ye,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,fe,ye,Le);default:if(vt)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),vt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(Me,fe,ye){return fe===0&&ye===Me.length?d.fromByteArray(Me):d.fromByteArray(Me.slice(fe,ye))}function ie(Me,fe,ye){ye=Math.min(Me.length,ye);for(var Le=[],Oe=fe;Oe<ye;){var ht=Me[Oe],vt=null,Lt=ht>239?4:ht>223?3:ht>191?2:1;if(Oe+Lt<=ye){var Ot=void 0,Jt=void 0,qt=void 0,Vt=void 0;switch(Lt){case 1:ht<128&&(vt=ht);break;case 2:Ot=Me[Oe+1],(Ot&192)===128&&(Vt=(ht&31)<<6|Ot&63,Vt>127&&(vt=Vt));break;case 3:Ot=Me[Oe+1],Jt=Me[Oe+2],(Ot&192)===128&&(Jt&192)===128&&(Vt=(ht&15)<<12|(Ot&63)<<6|Jt&63,Vt>2047&&(Vt<55296||Vt>57343)&&(vt=Vt));break;case 4:Ot=Me[Oe+1],Jt=Me[Oe+2],qt=Me[Oe+3],(Ot&192)===128&&(Jt&192)===128&&(qt&192)===128&&(Vt=(ht&15)<<18|(Ot&63)<<12|(Jt&63)<<6|qt&63,Vt>65535&&Vt<1114112&&(vt=Vt))}}vt===null?(vt=65533,Lt=1):vt>65535&&(vt-=65536,Le.push(vt>>>10&1023|55296),vt=56320|vt&1023),Le.push(vt),Oe+=Lt}return $(Le)}var J=4096;function $(Me){var fe=Me.length;if(fe<=J)return String.fromCharCode.apply(String,Me);for(var ye="",Le=0;Le<fe;)ye+=String.fromCharCode.apply(String,Me.slice(Le,Le+=J));return ye}function se(Me,fe,ye){var Le="";ye=Math.min(Me.length,ye);for(var Oe=fe;Oe<ye;++Oe)Le+=String.fromCharCode(Me[Oe]&127);return Le}function ee(Me,fe,ye){var Le="";ye=Math.min(Me.length,ye);for(var Oe=fe;Oe<ye;++Oe)Le+=String.fromCharCode(Me[Oe]);return Le}function ue(Me,fe,ye){var Le=Me.length;(!fe||fe<0)&&(fe=0),(!ye||ye<0||ye>Le)&&(ye=Le);for(var Oe="",ht=fe;ht<ye;++ht)Oe+=it[Me[ht]];return Oe}function ge(Me,fe,ye){for(var Le=Me.slice(fe,ye),Oe="",ht=0;ht<Le.length-1;ht+=2)Oe+=String.fromCharCode(Le[ht]+Le[ht+1]*256);return Oe}b.prototype.slice=function(fe,ye){var Le=this.length;fe=~~fe,ye=ye===void 0?Le:~~ye,fe<0?(fe+=Le,fe<0&&(fe=0)):fe>Le&&(fe=Le),ye<0?(ye+=Le,ye<0&&(ye=0)):ye>Le&&(ye=Le),ye<fe&&(ye=fe);var Oe=this.subarray(fe,ye);return Object.setPrototypeOf(Oe,b.prototype),Oe};function Te(Me,fe,ye){if(Me%1!==0||Me<0)throw new RangeError("offset is not uint");if(Me+fe>ye)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(fe,ye,Le){fe=fe>>>0,ye=ye>>>0,Le||Te(fe,ye,this.length);for(var Oe=this[fe],ht=1,vt=0;++vt<ye&&(ht*=256);)Oe+=this[fe+vt]*ht;return Oe},b.prototype.readUintBE=b.prototype.readUIntBE=function(fe,ye,Le){fe=fe>>>0,ye=ye>>>0,Le||Te(fe,ye,this.length);for(var Oe=this[fe+--ye],ht=1;ye>0&&(ht*=256);)Oe+=this[fe+--ye]*ht;return Oe},b.prototype.readUint8=b.prototype.readUInt8=function(fe,ye){return fe=fe>>>0,ye||Te(fe,1,this.length),this[fe]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,2,this.length),this[fe]|this[fe+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,2,this.length),this[fe]<<8|this[fe+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+this[fe+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),this[fe]*16777216+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},b.prototype.readBigUInt64LE=Je(function(fe){fe=fe>>>0,lt(fe,"offset");var ye=this[fe],Le=this[fe+7];(ye===void 0||Le===void 0)&&at(fe,this.length-8);var Oe=ye+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),ht=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+Le*Math.pow(2,24);return BigInt(Oe)+(BigInt(ht)<<BigInt(32))}),b.prototype.readBigUInt64BE=Je(function(fe){fe=fe>>>0,lt(fe,"offset");var ye=this[fe],Le=this[fe+7];(ye===void 0||Le===void 0)&&at(fe,this.length-8);var Oe=ye*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],ht=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Le;return(BigInt(Oe)<<BigInt(32))+BigInt(ht)}),b.prototype.readIntLE=function(fe,ye,Le){fe=fe>>>0,ye=ye>>>0,Le||Te(fe,ye,this.length);for(var Oe=this[fe],ht=1,vt=0;++vt<ye&&(ht*=256);)Oe+=this[fe+vt]*ht;return ht*=128,Oe>=ht&&(Oe-=Math.pow(2,8*ye)),Oe},b.prototype.readIntBE=function(fe,ye,Le){fe=fe>>>0,ye=ye>>>0,Le||Te(fe,ye,this.length);for(var Oe=ye,ht=1,vt=this[fe+--Oe];Oe>0&&(ht*=256);)vt+=this[fe+--Oe]*ht;return ht*=128,vt>=ht&&(vt-=Math.pow(2,8*ye)),vt},b.prototype.readInt8=function(fe,ye){return fe=fe>>>0,ye||Te(fe,1,this.length),this[fe]&128?(255-this[fe]+1)*-1:this[fe]},b.prototype.readInt16LE=function(fe,ye){fe=fe>>>0,ye||Te(fe,2,this.length);var Le=this[fe]|this[fe+1]<<8;return Le&32768?Le|4294901760:Le},b.prototype.readInt16BE=function(fe,ye){fe=fe>>>0,ye||Te(fe,2,this.length);var Le=this[fe+1]|this[fe]<<8;return Le&32768?Le|4294901760:Le},b.prototype.readInt32LE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},b.prototype.readInt32BE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},b.prototype.readBigInt64LE=Je(function(fe){fe=fe>>>0,lt(fe,"offset");var ye=this[fe],Le=this[fe+7];(ye===void 0||Le===void 0)&&at(fe,this.length-8);var Oe=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(Le<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(ye+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),b.prototype.readBigInt64BE=Je(function(fe){fe=fe>>>0,lt(fe,"offset");var ye=this[fe],Le=this[fe+7];(ye===void 0||Le===void 0)&&at(fe,this.length-8);var Oe=(ye<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Le)}),b.prototype.readFloatLE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),S.read(this,fe,!0,23,4)},b.prototype.readFloatBE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,4,this.length),S.read(this,fe,!1,23,4)},b.prototype.readDoubleLE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,8,this.length),S.read(this,fe,!0,52,8)},b.prototype.readDoubleBE=function(fe,ye){return fe=fe>>>0,ye||Te(fe,8,this.length),S.read(this,fe,!1,52,8)};function xe(Me,fe,ye,Le,Oe,ht){if(!b.isBuffer(Me))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Oe||fe<ht)throw new RangeError('"value" argument is out of bounds');if(ye+Le>Me.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(fe,ye,Le,Oe){if(fe=+fe,ye=ye>>>0,Le=Le>>>0,!Oe){var ht=Math.pow(2,8*Le)-1;xe(this,fe,ye,Le,ht,0)}var vt=1,Lt=0;for(this[ye]=fe&255;++Lt<Le&&(vt*=256);)this[ye+Lt]=fe/vt&255;return ye+Le},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(fe,ye,Le,Oe){if(fe=+fe,ye=ye>>>0,Le=Le>>>0,!Oe){var ht=Math.pow(2,8*Le)-1;xe(this,fe,ye,Le,ht,0)}var vt=Le-1,Lt=1;for(this[ye+vt]=fe&255;--vt>=0&&(Lt*=256);)this[ye+vt]=fe/Lt&255;return ye+Le},b.prototype.writeUint8=b.prototype.writeUInt8=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,1,255,0),this[ye]=fe&255,ye+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,2,65535,0),this[ye]=fe&255,this[ye+1]=fe>>>8,ye+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,2,65535,0),this[ye]=fe>>>8,this[ye+1]=fe&255,ye+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,4,4294967295,0),this[ye+3]=fe>>>24,this[ye+2]=fe>>>16,this[ye+1]=fe>>>8,this[ye]=fe&255,ye+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,4,4294967295,0),this[ye]=fe>>>24,this[ye+1]=fe>>>16,this[ye+2]=fe>>>8,this[ye+3]=fe&255,ye+4};function Pe(Me,fe,ye,Le,Oe){ct(fe,Le,Oe,Me,ye,7);var ht=Number(fe&BigInt(4294967295));Me[ye++]=ht,ht=ht>>8,Me[ye++]=ht,ht=ht>>8,Me[ye++]=ht,ht=ht>>8,Me[ye++]=ht;var vt=Number(fe>>BigInt(32)&BigInt(4294967295));return Me[ye++]=vt,vt=vt>>8,Me[ye++]=vt,vt=vt>>8,Me[ye++]=vt,vt=vt>>8,Me[ye++]=vt,ye}function Ie(Me,fe,ye,Le,Oe){ct(fe,Le,Oe,Me,ye,7);var ht=Number(fe&BigInt(4294967295));Me[ye+7]=ht,ht=ht>>8,Me[ye+6]=ht,ht=ht>>8,Me[ye+5]=ht,ht=ht>>8,Me[ye+4]=ht;var vt=Number(fe>>BigInt(32)&BigInt(4294967295));return Me[ye+3]=vt,vt=vt>>8,Me[ye+2]=vt,vt=vt>>8,Me[ye+1]=vt,vt=vt>>8,Me[ye]=vt,ye+8}b.prototype.writeBigUInt64LE=Je(function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Pe(this,fe,ye,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Je(function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,fe,ye,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(fe,ye,Le,Oe){if(fe=+fe,ye=ye>>>0,!Oe){var ht=Math.pow(2,8*Le-1);xe(this,fe,ye,Le,ht-1,-ht)}var vt=0,Lt=1,Ot=0;for(this[ye]=fe&255;++vt<Le&&(Lt*=256);)fe<0&&Ot===0&&this[ye+vt-1]!==0&&(Ot=1),this[ye+vt]=(fe/Lt>>0)-Ot&255;return ye+Le},b.prototype.writeIntBE=function(fe,ye,Le,Oe){if(fe=+fe,ye=ye>>>0,!Oe){var ht=Math.pow(2,8*Le-1);xe(this,fe,ye,Le,ht-1,-ht)}var vt=Le-1,Lt=1,Ot=0;for(this[ye+vt]=fe&255;--vt>=0&&(Lt*=256);)fe<0&&Ot===0&&this[ye+vt+1]!==0&&(Ot=1),this[ye+vt]=(fe/Lt>>0)-Ot&255;return ye+Le},b.prototype.writeInt8=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,1,127,-128),fe<0&&(fe=255+fe+1),this[ye]=fe&255,ye+1},b.prototype.writeInt16LE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,2,32767,-32768),this[ye]=fe&255,this[ye+1]=fe>>>8,ye+2},b.prototype.writeInt16BE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,2,32767,-32768),this[ye]=fe>>>8,this[ye+1]=fe&255,ye+2},b.prototype.writeInt32LE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,4,2147483647,-2147483648),this[ye]=fe&255,this[ye+1]=fe>>>8,this[ye+2]=fe>>>16,this[ye+3]=fe>>>24,ye+4},b.prototype.writeInt32BE=function(fe,ye,Le){return fe=+fe,ye=ye>>>0,Le||xe(this,fe,ye,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[ye]=fe>>>24,this[ye+1]=fe>>>16,this[ye+2]=fe>>>8,this[ye+3]=fe&255,ye+4},b.prototype.writeBigInt64LE=Je(function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Pe(this,fe,ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Je(function(fe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,fe,ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(Me,fe,ye,Le,Oe,ht){if(ye+Le>Me.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function be(Me,fe,ye,Le,Oe){return fe=+fe,ye=ye>>>0,Oe||Ae(Me,fe,ye,4),S.write(Me,fe,ye,Le,23,4),ye+4}b.prototype.writeFloatLE=function(fe,ye,Le){return be(this,fe,ye,!0,Le)},b.prototype.writeFloatBE=function(fe,ye,Le){return be(this,fe,ye,!1,Le)};function _e(Me,fe,ye,Le,Oe){return fe=+fe,ye=ye>>>0,Oe||Ae(Me,fe,ye,8),S.write(Me,fe,ye,Le,52,8),ye+8}b.prototype.writeDoubleLE=function(fe,ye,Le){return _e(this,fe,ye,!0,Le)},b.prototype.writeDoubleBE=function(fe,ye,Le){return _e(this,fe,ye,!1,Le)},b.prototype.copy=function(fe,ye,Le,Oe){if(!b.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!Oe&&Oe!==0&&(Oe=this.length),ye>=fe.length&&(ye=fe.length),ye||(ye=0),Oe>0&&Oe<Le&&(Oe=Le),Oe===Le||fe.length===0||this.length===0)return 0;if(ye<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),fe.length-ye<Oe-Le&&(Oe=fe.length-ye+Le);var ht=Oe-Le;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ye,Le,Oe):Uint8Array.prototype.set.call(fe,this.subarray(Le,Oe),ye),ht},b.prototype.fill=function(fe,ye,Le,Oe){if(typeof fe=="string"){if(typeof ye=="string"?(Oe=ye,ye=0,Le=this.length):typeof Le=="string"&&(Oe=Le,Le=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!b.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(fe.length===1){var ht=fe.charCodeAt(0);(Oe==="utf8"&&ht<128||Oe==="latin1")&&(fe=ht)}}else typeof fe=="number"?fe=fe&255:typeof fe=="boolean"&&(fe=Number(fe));if(ye<0||this.length<ye||this.length<Le)throw new RangeError("Out of range index");if(Le<=ye)return this;ye=ye>>>0,Le=Le===void 0?this.length:Le>>>0,fe||(fe=0);var vt;if(typeof fe=="number")for(vt=ye;vt<Le;++vt)this[vt]=fe;else{var Lt=b.isBuffer(fe)?fe:b.from(fe,Oe),Ot=Lt.length;if(Ot===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(vt=0;vt<Le-ye;++vt)this[vt+ye]=Lt[vt%Ot]}return this};var Ve={};function We(Me,fe,ye){Ve[Me]=function(Le){l(ht,Le);var Oe=n(ht);function ht(){var vt;return r(this,ht),vt=Oe.call(this),Object.defineProperty(h(vt),"message",{value:fe.apply(h(vt),arguments),writable:!0,configurable:!0}),vt.name="".concat(vt.name," [").concat(Me,"]"),vt.stack,delete vt.name,vt}return o(ht,[{key:"code",get:function(){return Me},set:function(Lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Me,"]: ").concat(this.message)}}]),ht}(ye)}We("ERR_BUFFER_OUT_OF_BOUNDS",function(Me){return Me?"".concat(Me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),We("ERR_INVALID_ARG_TYPE",function(Me,fe){return'The "'.concat(Me,'" argument must be of type number. Received type ').concat(s(fe))},TypeError),We("ERR_OUT_OF_RANGE",function(Me,fe,ye){var Le='The value of "'.concat(Me,'" is out of range.'),Oe=ye;return Number.isInteger(ye)&&Math.abs(ye)>Math.pow(2,32)?Oe=ze(String(ye)):typeof ye=="bigint"&&(Oe=String(ye),(ye>Math.pow(BigInt(2),BigInt(32))||ye<-Math.pow(BigInt(2),BigInt(32)))&&(Oe=ze(Oe)),Oe+="n"),Le+=" It must be ".concat(fe,". Received ").concat(Oe),Le},RangeError);function ze(Me){for(var fe="",ye=Me.length,Le=Me[0]==="-"?1:0;ye>=Le+4;ye-=3)fe="_".concat(Me.slice(ye-3,ye)).concat(fe);return"".concat(Me.slice(0,ye)).concat(fe)}function Ze(Me,fe,ye){lt(fe,"offset"),(Me[fe]===void 0||Me[fe+ye]===void 0)&&at(fe,Me.length-(ye+1))}function ct(Me,fe,ye,Le,Oe,ht){if(Me>ye||Me<fe){var vt=typeof fe=="bigint"?"n":"",Lt;throw ht>3?fe===0||fe===BigInt(0)?Lt=">= 0".concat(vt," and < 2").concat(vt," ** ").concat((ht+1)*8).concat(vt):Lt=">= -(2".concat(vt," ** ").concat((ht+1)*8-1).concat(vt,") and < 2 ** ")+"".concat((ht+1)*8-1).concat(vt):Lt=">= ".concat(fe).concat(vt," and <= ").concat(ye).concat(vt),new Ve.ERR_OUT_OF_RANGE("value",Lt,Me)}Ze(Le,Oe,ht)}function lt(Me,fe){if(typeof Me!="number")throw new Ve.ERR_INVALID_ARG_TYPE(fe,"number",Me)}function at(Me,fe,ye){throw Math.floor(Me)!==Me?(lt(Me,ye),new Ve.ERR_OUT_OF_RANGE(ye||"offset","an integer",Me)):fe<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(ye||"offset",">= ".concat(ye?1:0," and <= ").concat(fe),Me)}var tt=/[^+/0-9A-Za-z-_]/g;function dt(Me){if(Me=Me.split("=")[0],Me=Me.trim().replace(tt,""),Me.length<2)return"";for(;Me.length%4!==0;)Me=Me+"=";return Me}function wt(Me,fe){fe=fe||1/0;for(var ye,Le=Me.length,Oe=null,ht=[],vt=0;vt<Le;++vt){if(ye=Me.charCodeAt(vt),ye>55295&&ye<57344){if(!Oe){if(ye>56319){(fe-=3)>-1&&ht.push(239,191,189);continue}else if(vt+1===Le){(fe-=3)>-1&&ht.push(239,191,189);continue}Oe=ye;continue}if(ye<56320){(fe-=3)>-1&&ht.push(239,191,189),Oe=ye;continue}ye=(Oe-55296<<10|ye-56320)+65536}else Oe&&(fe-=3)>-1&&ht.push(239,191,189);if(Oe=null,ye<128){if((fe-=1)<0)break;ht.push(ye)}else if(ye<2048){if((fe-=2)<0)break;ht.push(ye>>6|192,ye&63|128)}else if(ye<65536){if((fe-=3)<0)break;ht.push(ye>>12|224,ye>>6&63|128,ye&63|128)}else if(ye<1114112){if((fe-=4)<0)break;ht.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,ye&63|128)}else throw new Error("Invalid code point")}return ht}function Mt(Me){for(var fe=[],ye=0;ye<Me.length;++ye)fe.push(Me.charCodeAt(ye)&255);return fe}function It(Me,fe){for(var ye,Le,Oe,ht=[],vt=0;vt<Me.length&&!((fe-=2)<0);++vt)ye=Me.charCodeAt(vt),Le=ye>>8,Oe=ye%256,ht.push(Oe),ht.push(Le);return ht}function $e(Me){return d.toByteArray(dt(Me))}function ke(Me,fe,ye,Le){var Oe;for(Oe=0;Oe<Le&&!(Oe+ye>=fe.length||Oe>=Me.length);++Oe)fe[Oe+ye]=Me[Oe];return Oe}function Fe(Me,fe){return Me instanceof fe||Me!=null&&Me.constructor!=null&&Me.constructor.name!=null&&Me.constructor.name===fe.name}function qe(Me){return Me!==Me}var it=function(){for(var Me="0123456789abcdef",fe=new Array(256),ye=0;ye<16;++ye)for(var Le=ye*16,Oe=0;Oe<16;++Oe)fe[Le+Oe]=Me[ye]+Me[Oe];return fe}();function Je(Me){return typeof BigInt>"u"?Re:Me}function Re(){throw new Error("BigInt not supported")}},3910:function(v,g){g.byteLength=x,g.toByteArray=T,g.fromByteArray=d;for(var t=[],r=[],u=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=o.length;l<c;++l)t[l]=o[l],r[o.charCodeAt(l)]=l;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function n(S){var M=S.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=S.indexOf("=");C===-1&&(C=M);var y=C===M?0:4-C%4;return[C,y]}function x(S){var M=n(S),C=M[0],y=M[1];return(C+y)*3/4-y}function h(S,M,C){return(M+C)*3/4-C}function T(S){var M,C=n(S),y=C[0],w=C[1],b=new u(h(S,y,w)),i=0,E=w>0?y-4:y,m;for(m=0;m<E;m+=4)M=r[S.charCodeAt(m)]<<18|r[S.charCodeAt(m+1)]<<12|r[S.charCodeAt(m+2)]<<6|r[S.charCodeAt(m+3)],b[i++]=M>>16&255,b[i++]=M>>8&255,b[i++]=M&255;return w===2&&(M=r[S.charCodeAt(m)]<<2|r[S.charCodeAt(m+1)]>>4,b[i++]=M&255),w===1&&(M=r[S.charCodeAt(m)]<<10|r[S.charCodeAt(m+1)]<<4|r[S.charCodeAt(m+2)]>>2,b[i++]=M>>8&255,b[i++]=M&255),b}function f(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function s(S,M,C){for(var y,w=[],b=M;b<C;b+=3)y=(S[b]<<16&16711680)+(S[b+1]<<8&65280)+(S[b+2]&255),w.push(f(y));return w.join("")}function d(S){for(var M,C=S.length,y=C%3,w=[],b=16383,i=0,E=C-y;i<E;i+=b)w.push(s(S,i,i+b>E?E:i+b));return y===1?(M=S[C-1],w.push(t[M>>2]+t[M<<4&63]+"==")):y===2&&(M=(S[C-2]<<8)+S[C-1],w.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),w.join("")}},3187:function(v,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(t,r,u,o,l){var c,n,x=l*8-o-1,h=(1<<x)-1,T=h>>1,f=-7,s=u?l-1:0,d=u?-1:1,S=t[r+s];for(s+=d,c=S&(1<<-f)-1,S>>=-f,f+=x;f>0;c=c*256+t[r+s],s+=d,f-=8);for(n=c&(1<<-f)-1,c>>=-f,f+=o;f>0;n=n*256+t[r+s],s+=d,f-=8);if(c===0)c=1-T;else{if(c===h)return n?NaN:(S?-1:1)*(1/0);n=n+Math.pow(2,o),c=c-T}return(S?-1:1)*n*Math.pow(2,c-o)},g.write=function(t,r,u,o,l,c){var n,x,h,T=c*8-l-1,f=(1<<T)-1,s=f>>1,d=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=o?0:c-1,M=o?1:-1,C=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(x=isNaN(r)?1:0,n=f):(n=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-n))<1&&(n--,h*=2),n+s>=1?r+=d/h:r+=d*Math.pow(2,1-s),r*h>=2&&(n++,h/=2),n+s>=f?(x=0,n=f):n+s>=1?(x=(r*h-1)*Math.pow(2,l),n=n+s):(x=r*Math.pow(2,s-1)*Math.pow(2,l),n=0));l>=8;t[u+S]=x&255,S+=M,x/=256,l-=8);for(n=n<<l|x,T+=l;T>0;t[u+S]=n&255,S+=M,n/=256,T-=8);t[u+S-M]|=C*128}},1152:function(v,g,t){v.exports=n;var r=t(3440),u=t(7774),o=t(9298);function l(x,h){this._controllerNames=Object.keys(x),this._controllerList=this._controllerNames.map(function(T){return x[T]}),this._mode=h,this._active=x[h],this._active||(this._mode="turntable",this._active=x.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=l.prototype;c.flush=function(x){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(x)},c.idle=function(x){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(x)},c.lookAt=function(x,h,T,f){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].lookAt(x,h,T,f)},c.rotate=function(x,h,T,f){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].rotate(x,h,T,f)},c.pan=function(x,h,T,f){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].pan(x,h,T,f)},c.translate=function(x,h,T,f){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].translate(x,h,T,f)},c.setMatrix=function(x,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setMatrix(x,h)},c.setDistanceLimits=function(x,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setDistanceLimits(x,h)},c.setDistance=function(x,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setDistance(x,h)},c.recalcMatrix=function(x){this._active.recalcMatrix(x)},c.getDistance=function(x){return this._active.getDistance(x)},c.getDistanceLimits=function(x){return this._active.getDistanceLimits(x)},c.lastT=function(){return this._active.lastT()},c.setMode=function(x){if(x!==this._mode){var h=this._controllerNames.indexOf(x);if(!(h<0)){var T=this._active,f=this._controllerList[h],s=Math.max(T.lastT(),f.lastT());T.recalcMatrix(s),f.setMatrix(s,T.computedMatrix),this._active=f,this._mode=x,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function n(x){x=x||{};var h=x.eye||[0,0,1],T=x.center||[0,0,0],f=x.up||[0,1,0],s=x.distanceLimits||[0,1/0],d=x.mode||"turntable",S=r(),M=u(),C=o();return S.setDistanceLimits(s[0],s[1]),S.lookAt(0,h,T,f),M.setDistanceLimits(s[0],s[1]),M.lookAt(0,h,T,f),C.setDistanceLimits(s[0],s[1]),C.lookAt(0,h,T,f),new l({turntable:S,orbit:M,matrix:C},d)}},8126:function(v,g,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,u=t(5827),o=t(2944),l=new r;function c(n){var x=l.get(n),h=x&&(x._triangleBuffer.handle||x._triangleBuffer.buffer);if(!h||!n.isBuffer(h)){var T=u(n,new Float32Array([-1,-1,-1,4,4,-1]));x=o(n,[{buffer:T,type:n.FLOAT,size:2}]),x._triangleBuffer=T,l.set(n,x)}x.bind(),n.drawArrays(n.TRIANGLES,0,3),x.unbind()}v.exports=c},8008:function(v,g,t){var r=t(4930);v.exports=u;function u(o,l,c){l=typeof l=="number"?l:1,c=c||": ";var n=o.split(/\r?\n/),x=String(n.length+l-1).length;return n.map(function(h,T){var f=T+l,s=String(f).length,d=r(f,x-s);return d+c+h}).join(`
`)}},2153:function(v,g,t){v.exports=o;var r=t(417);function u(l,c){for(var n=new Array(c+1),x=0;x<l.length;++x)n[x]=l[x];for(var x=0;x<=l.length;++x){for(var h=l.length;h<=c;++h){for(var T=new Array(c),f=0;f<c;++f)T[f]=Math.pow(h+1-x,f);n[h]=T}var s=r.apply(void 0,n);if(s)return!0}return!1}function o(l){var c=l.length;if(c===0)return[];if(c===1)return[0];for(var n=l[0].length,x=[l[0]],h=[0],T=1;T<c;++T){if(x.push(l[T]),!u(x,n)){x.pop();continue}if(h.push(T),h.length===n+1)return h}return h}},4653:function(v,g,t){v.exports=o;var r=t(4419),u=t(1778);function o(l,c){return r(c).filter(function(n){for(var x=new Array(n.length),h=0;h<n.length;++h)x[h]=c[n[h]];return u(x)*l<1})}},2350:function(v,g,t){v.exports=o;var r=t(4653),u=t(8691);function o(l,c){return u(r(l,c))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,g,t){v.exports=o;var r=t(6606);function u(l){for(var c=0,n=0;n<l.length;++n)c+=l[n];return c}function o(l,c){for(var n=c.length,x=new Array(n+1),h=0;h<n;++h){for(var T=new Array(n+1),f=0;f<=n;++f)T[f]=l[f][h];x[h]=T}x[n]=new Array(n+1);for(var h=0;h<=n;++h)x[n][h]=1;for(var s=new Array(n+1),h=0;h<n;++h)s[h]=c[h];s[n]=1;var d=r(x,s),S=u(d[n+1]);S===0&&(S=1);for(var M=new Array(n+1),h=0;h<=n;++h)M[h]=u(d[h])/S;return M}},1539:function(v,g,t){var r=t(8524);v.exports=u;function u(o,l){return r(o[0].mul(l[1]).add(l[0].mul(o[1])),o[1].mul(l[1]))}},8846:function(v){v.exports=g;function g(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,g,t){var r=t(8524);v.exports=u;function u(o,l){return r(o[0].mul(l[1]),o[1].mul(l[0]))}},5125:function(v,g,t){var r=t(234),u=t(3218),o=t(5514),l=t(2813),c=t(8524),n=t(9189);v.exports=x;function x(h,T){if(r(h))return T?n(h,x(T)):[h[0].clone(),h[1].clone()];var f=0,s,d;if(u(h))s=h.clone();else if(typeof h=="string")s=l(h);else{if(h===0)return[o(0),o(1)];if(h===Math.floor(h))s=o(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),f-=256;s=o(h)}}if(r(T))s.mul(T[1]),d=T[0].clone();else if(u(T))d=T.clone();else if(typeof T=="string")d=l(T);else if(!T)d=o(1);else if(T===Math.floor(T))d=o(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),f+=256;d=o(T)}return f>0?s=s.ushln(f):f<0&&(d=d.ushln(-f)),c(s,d)}},234:function(v,g,t){var r=t(3218);v.exports=u;function u(o){return Array.isArray(o)&&o.length===2&&r(o[0])&&r(o[1])}},4275:function(v,g,t){var r=t(1928);v.exports=u;function u(o){return o.cmp(new r(0))}},9958:function(v,g,t){var r=t(4275);v.exports=u;function u(o){var l=o.length,c=o.words,n=0;if(l===1)n=c[0];else if(l===2)n=c[0]+c[1]*67108864;else for(var x=0;x<l;x++){var h=c[x];n+=h*Math.pow(67108864,x)}return r(o)*n}},1112:function(v,g,t){var r=t(8362),u=t(2288).countTrailingZeros;v.exports=o;function o(l){var c=u(r.lo(l));if(c<32)return c;var n=u(r.hi(l));return n>20?52:n+32}},3218:function(v,g,t){t(1928),v.exports=r;function r(u){return u&&typeof u=="object"&&Boolean(u.words)}},5514:function(v,g,t){var r=t(1928),u=t(8362);v.exports=o;function o(l){var c=u.exponent(l);return c<52?new r(l):new r(l*Math.pow(2,52-c)).ushln(c-52)}},8524:function(v,g,t){var r=t(5514),u=t(4275);v.exports=o;function o(l,c){var n=u(l),x=u(c);if(n===0)return[r(0),r(1)];if(x===0)return[r(0),r(0)];x<0&&(l=l.neg(),c=c.neg());var h=l.gcd(c);return h.cmpn(1)?[l.div(h),c.div(h)]:[l,c]}},2813:function(v,g,t){var r=t(1928);v.exports=u;function u(o){return new r(o)}},3962:function(v,g,t){var r=t(8524);v.exports=u;function u(o,l){return r(o[0].mul(l[0]),o[1].mul(l[1]))}},4951:function(v,g,t){var r=t(4275);v.exports=u;function u(o){return r(o[0])*r(o[1])}},4354:function(v,g,t){var r=t(8524);v.exports=u;function u(o,l){return r(o[0].mul(l[1]).sub(o[1].mul(l[0])),o[1].mul(l[1]))}},7999:function(v,g,t){var r=t(9958),u=t(1112);v.exports=o;function o(l){var c=l[0],n=l[1];if(c.cmpn(0)===0)return 0;var x=c.abs().divmod(n.abs()),h=x.div,T=r(h),f=x.mod,s=c.negative!==n.negative?-1:1;if(f.cmpn(0)===0)return s*T;if(T){var d=u(T)+4,S=r(f.ushln(d).divRound(n));return s*(T+S*Math.pow(2,-d))}else{var M=n.bitLength()-f.bitLength()+53,S=r(f.ushln(M).divRound(n));return M<1023?s*S*Math.pow(2,-M):(S*=Math.pow(2,-1023),s*S*Math.pow(2,1023-M))}}},5070:function(v){function g(c,n,x,h,T){for(var f=T+1;h<=T;){var s=h+T>>>1,d=c[s],S=x!==void 0?x(d,n):d-n;S>=0?(f=s,T=s-1):h=s+1}return f}function t(c,n,x,h,T){for(var f=T+1;h<=T;){var s=h+T>>>1,d=c[s],S=x!==void 0?x(d,n):d-n;S>0?(f=s,T=s-1):h=s+1}return f}function r(c,n,x,h,T){for(var f=h-1;h<=T;){var s=h+T>>>1,d=c[s],S=x!==void 0?x(d,n):d-n;S<0?(f=s,h=s+1):T=s-1}return f}function u(c,n,x,h,T){for(var f=h-1;h<=T;){var s=h+T>>>1,d=c[s],S=x!==void 0?x(d,n):d-n;S<=0?(f=s,h=s+1):T=s-1}return f}function o(c,n,x,h,T){for(;h<=T;){var f=h+T>>>1,s=c[f],d=x!==void 0?x(s,n):s-n;if(d===0)return f;d<=0?h=f+1:T=f-1}return-1}function l(c,n,x,h,T,f){return typeof x=="function"?f(c,n,x,h===void 0?0:h|0,T===void 0?c.length-1:T|0):f(c,n,void 0,x===void 0?0:x|0,h===void 0?c.length-1:h|0)}v.exports={ge:function(c,n,x,h,T){return l(c,n,x,h,T,g)},gt:function(c,n,x,h,T){return l(c,n,x,h,T,t)},lt:function(c,n,x,h,T){return l(c,n,x,h,T,r)},le:function(c,n,x,h,T){return l(c,n,x,h,T,u)},eq:function(c,n,x,h,T){return l(c,n,x,h,T,o)}}},2288:function(v,g){var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(o){return(o>0)-(o<0)},g.abs=function(o){var l=o>>t-1;return(o^l)-l},g.min=function(o,l){return l^(o^l)&-(o<l)},g.max=function(o,l){return o^(o^l)&-(o<l)},g.isPow2=function(o){return!(o&o-1)&&!!o},g.log2=function(o){var l,c;return l=(o>65535)<<4,o>>>=l,c=(o>255)<<3,o>>>=c,l|=c,c=(o>15)<<2,o>>>=c,l|=c,c=(o>3)<<1,o>>>=c,l|=c,l|o>>1},g.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},g.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function r(o){var l=32;return o&=-o,o&&l--,o&65535&&(l-=16),o&16711935&&(l-=8),o&252645135&&(l-=4),o&858993459&&(l-=2),o&1431655765&&(l-=1),l}g.countTrailingZeros=r,g.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},g.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},g.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var u=new Array(256);(function(o){for(var l=0;l<256;++l){var c=l,n=l,x=7;for(c>>>=1;c;c>>>=1)n<<=1,n|=c&1,--x;o[l]=n<<x&255}})(u),g.reverse=function(o){return u[o&255]<<24|u[o>>>8&255]<<16|u[o>>>16&255]<<8|u[o>>>24&255]},g.interleave2=function(o,l){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,o|l<<1},g.deinterleave2=function(o,l){return o=o>>>l&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},g.interleave3=function(o,l,c){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,o|=l<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,o|c<<2},g.deinterleave3=function(o,l){return o=o>>>l&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},g.nextCombination=function(o){var l=o|o-1;return l+1|(~l&-~l)-1>>>r(o)+1}},1928:function(v,g,t){v=t.nmd(v),function(r,u){function o(z,k){if(!z)throw new Error(k||"Assertion failed")}function l(z,k){z.super_=k;var N=function(){};N.prototype=k.prototype,z.prototype=new N,z.prototype.constructor=z}function c(z,k,N){if(c.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((k==="le"||k==="be")&&(N=k,k=10),this._init(z||0,k||10,N||"be"))}typeof r=="object"?r.exports=c:u.BN=c,c.BN=c,c.wordSize=26;var n;try{typeof window<"u"&&typeof window.Buffer<"u"?n=window.Buffer:n=t(6601).Buffer}catch{}c.isBN=function(k){return k instanceof c?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===c.wordSize&&Array.isArray(k.words)},c.max=function(k,N){return k.cmp(N)>0?k:N},c.min=function(k,N){return k.cmp(N)<0?k:N},c.prototype._init=function(k,N,K){if(typeof k=="number")return this._initNumber(k,N,K);if(typeof k=="object")return this._initArray(k,N,K);N==="hex"&&(N=16),o(N===(N|0)&&N>=2&&N<=36),k=k.toString().replace(/\s+/g,"");var q=0;k[0]==="-"&&(q++,this.negative=1),q<k.length&&(N===16?this._parseHex(k,q,K):(this._parseBase(k,N,q),K==="le"&&this._initArray(this.toArray(),N,K)))},c.prototype._initNumber=function(k,N,K){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(o(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),K==="le"&&this._initArray(this.toArray(),N,K)},c.prototype._initArray=function(k,N,K){if(o(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var Q,re,oe=0;if(K==="be")for(q=k.length-1,Q=0;q>=0;q-=3)re=k[q]|k[q-1]<<8|k[q-2]<<16,this.words[Q]|=re<<oe&67108863,this.words[Q+1]=re>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,Q++);else if(K==="le")for(q=0,Q=0;q<k.length;q+=3)re=k[q]|k[q+1]<<8|k[q+2]<<16,this.words[Q]|=re<<oe&67108863,this.words[Q+1]=re>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,Q++);return this.strip()};function x(z,k){var N=z.charCodeAt(k);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function h(z,k,N){var K=x(z,N);return N-1>=k&&(K|=x(z,N-1)<<4),K}c.prototype._parseHex=function(k,N,K){this.length=Math.ceil((k.length-N)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var Q=0,re=0,oe;if(K==="be")for(q=k.length-1;q>=N;q-=2)oe=h(k,N,q)<<Q,this.words[re]|=oe&67108863,Q>=18?(Q-=18,re+=1,this.words[re]|=oe>>>26):Q+=8;else{var Y=k.length-N;for(q=Y%2===0?N+1:N;q<k.length;q+=2)oe=h(k,N,q)<<Q,this.words[re]|=oe&67108863,Q>=18?(Q-=18,re+=1,this.words[re]|=oe>>>26):Q+=8}this.strip()};function T(z,k,N,K){for(var q=0,Q=Math.min(z.length,N),re=k;re<Q;re++){var oe=z.charCodeAt(re)-48;q*=K,oe>=49?q+=oe-49+10:oe>=17?q+=oe-17+10:q+=oe}return q}c.prototype._parseBase=function(k,N,K){this.words=[0],this.length=1;for(var q=0,Q=1;Q<=67108863;Q*=N)q++;q--,Q=Q/N|0;for(var re=k.length-K,oe=re%q,Y=Math.min(re,re-oe)+K,G=0,V=K;V<Y;V+=q)G=T(k,V,V+q,N),this.imuln(Q),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(oe!==0){var Z=1;for(G=T(k,V,k.length,N),V=0;V<oe;V++)Z*=N;this.imuln(Z),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this.strip()},c.prototype.copy=function(k){k.words=new Array(this.length);for(var N=0;N<this.length;N++)k.words[N]=this.words[N];k.length=this.length,k.negative=this.negative,k.red=this.red},c.prototype.clone=function(){var k=new c(null);return this.copy(k),k},c.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(k,N){k=k||10,N=N|0||1;var K;if(k===16||k==="hex"){K="";for(var q=0,Q=0,re=0;re<this.length;re++){var oe=this.words[re],Y=((oe<<q|Q)&16777215).toString(16);Q=oe>>>24-q&16777215,Q!==0||re!==this.length-1?K=f[6-Y.length]+Y+K:K=Y+K,q+=2,q>=26&&(q-=26,re--)}for(Q!==0&&(K=Q.toString(16)+K);K.length%N!==0;)K="0"+K;return this.negative!==0&&(K="-"+K),K}if(k===(k|0)&&k>=2&&k<=36){var G=s[k],V=d[k];K="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var ae=Z.modn(V).toString(k);Z=Z.idivn(V),Z.isZero()?K=ae+K:K=f[G-ae.length]+ae+K}for(this.isZero()&&(K="0"+K);K.length%N!==0;)K="0"+K;return this.negative!==0&&(K="-"+K),K}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(k,N){return o(typeof n<"u"),this.toArrayLike(n,k,N)},c.prototype.toArray=function(k,N){return this.toArrayLike(Array,k,N)},c.prototype.toArrayLike=function(k,N,K){var q=this.byteLength(),Q=K||Math.max(1,q);o(q<=Q,"byte array longer than desired length"),o(Q>0,"Requested array length <= 0"),this.strip();var re=N==="le",oe=new k(Q),Y,G,V=this.clone();if(re){for(G=0;!V.isZero();G++)Y=V.andln(255),V.iushrn(8),oe[G]=Y;for(;G<Q;G++)oe[G]=0}else{for(G=0;G<Q-q;G++)oe[G]=0;for(G=0;!V.isZero();G++)Y=V.andln(255),V.iushrn(8),oe[Q-G-1]=Y}return oe},Math.clz32?c.prototype._countBits=function(k){return 32-Math.clz32(k)}:c.prototype._countBits=function(k){var N=k,K=0;return N>=4096&&(K+=13,N>>>=13),N>=64&&(K+=7,N>>>=7),N>=8&&(K+=4,N>>>=4),N>=2&&(K+=2,N>>>=2),K+N},c.prototype._zeroBits=function(k){if(k===0)return 26;var N=k,K=0;return N&8191||(K+=13,N>>>=13),N&127||(K+=7,N>>>=7),N&15||(K+=4,N>>>=4),N&3||(K+=2,N>>>=2),N&1||K++,K},c.prototype.bitLength=function(){var k=this.words[this.length-1],N=this._countBits(k);return(this.length-1)*26+N};function S(z){for(var k=new Array(z.bitLength()),N=0;N<k.length;N++){var K=N/26|0,q=N%26;k[N]=(z.words[K]&1<<q)>>>q}return k}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,N=0;N<this.length;N++){var K=this._zeroBits(this.words[N]);if(k+=K,K!==26)break}return k},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},c.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var N=0;N<k.length;N++)this.words[N]=this.words[N]|k.words[N];return this.strip()},c.prototype.ior=function(k){return o((this.negative|k.negative)===0),this.iuor(k)},c.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},c.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},c.prototype.iuand=function(k){var N;this.length>k.length?N=k:N=this;for(var K=0;K<N.length;K++)this.words[K]=this.words[K]&k.words[K];return this.length=N.length,this.strip()},c.prototype.iand=function(k){return o((this.negative|k.negative)===0),this.iuand(k)},c.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},c.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},c.prototype.iuxor=function(k){var N,K;this.length>k.length?(N=this,K=k):(N=k,K=this);for(var q=0;q<K.length;q++)this.words[q]=N.words[q]^K.words[q];if(this!==N)for(;q<N.length;q++)this.words[q]=N.words[q];return this.length=N.length,this.strip()},c.prototype.ixor=function(k){return o((this.negative|k.negative)===0),this.iuxor(k)},c.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},c.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},c.prototype.inotn=function(k){o(typeof k=="number"&&k>=0);var N=Math.ceil(k/26)|0,K=k%26;this._expand(N),K>0&&N--;for(var q=0;q<N;q++)this.words[q]=~this.words[q]&67108863;return K>0&&(this.words[q]=~this.words[q]&67108863>>26-K),this.strip()},c.prototype.notn=function(k){return this.clone().inotn(k)},c.prototype.setn=function(k,N){o(typeof k=="number"&&k>=0);var K=k/26|0,q=k%26;return this._expand(K+1),N?this.words[K]=this.words[K]|1<<q:this.words[K]=this.words[K]&~(1<<q),this.strip()},c.prototype.iadd=function(k){var N;if(this.negative!==0&&k.negative===0)return this.negative=0,N=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,N=this.isub(k),k.negative=1,N._normSign();var K,q;this.length>k.length?(K=this,q=k):(K=k,q=this);for(var Q=0,re=0;re<q.length;re++)N=(K.words[re]|0)+(q.words[re]|0)+Q,this.words[re]=N&67108863,Q=N>>>26;for(;Q!==0&&re<K.length;re++)N=(K.words[re]|0)+Q,this.words[re]=N&67108863,Q=N>>>26;if(this.length=K.length,Q!==0)this.words[this.length]=Q,this.length++;else if(K!==this)for(;re<K.length;re++)this.words[re]=K.words[re];return this},c.prototype.add=function(k){var N;return k.negative!==0&&this.negative===0?(k.negative=0,N=this.sub(k),k.negative^=1,N):k.negative===0&&this.negative!==0?(this.negative=0,N=k.sub(this),this.negative=1,N):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},c.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var N=this.iadd(k);return k.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var K=this.cmp(k);if(K===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,Q;K>0?(q=this,Q=k):(q=k,Q=this);for(var re=0,oe=0;oe<Q.length;oe++)N=(q.words[oe]|0)-(Q.words[oe]|0)+re,re=N>>26,this.words[oe]=N&67108863;for(;re!==0&&oe<q.length;oe++)N=(q.words[oe]|0)+re,re=N>>26,this.words[oe]=N&67108863;if(re===0&&oe<q.length&&q!==this)for(;oe<q.length;oe++)this.words[oe]=q.words[oe];return this.length=Math.max(this.length,oe),q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(k){return this.clone().isub(k)};function M(z,k,N){N.negative=k.negative^z.negative;var K=z.length+k.length|0;N.length=K,K=K-1|0;var q=z.words[0]|0,Q=k.words[0]|0,re=q*Q,oe=re&67108863,Y=re/67108864|0;N.words[0]=oe;for(var G=1;G<K;G++){for(var V=Y>>>26,Z=Y&67108863,ae=Math.min(G,k.length-1),ie=Math.max(0,G-z.length+1);ie<=ae;ie++){var J=G-ie|0;q=z.words[J]|0,Q=k.words[ie]|0,re=q*Q+Z,V+=re/67108864|0,Z=re&67108863}N.words[G]=Z|0,Y=V|0}return Y!==0?N.words[G]=Y|0:N.length--,N.strip()}var C=function(k,N,K){var q=k.words,Q=N.words,re=K.words,oe=0,Y,G,V,Z=q[0]|0,ae=Z&8191,ie=Z>>>13,J=q[1]|0,$=J&8191,se=J>>>13,ee=q[2]|0,ue=ee&8191,ge=ee>>>13,Te=q[3]|0,xe=Te&8191,Pe=Te>>>13,Ie=q[4]|0,Ae=Ie&8191,be=Ie>>>13,_e=q[5]|0,Ve=_e&8191,We=_e>>>13,ze=q[6]|0,Ze=ze&8191,ct=ze>>>13,lt=q[7]|0,at=lt&8191,tt=lt>>>13,dt=q[8]|0,wt=dt&8191,Mt=dt>>>13,It=q[9]|0,$e=It&8191,ke=It>>>13,Fe=Q[0]|0,qe=Fe&8191,it=Fe>>>13,Je=Q[1]|0,Re=Je&8191,Me=Je>>>13,fe=Q[2]|0,ye=fe&8191,Le=fe>>>13,Oe=Q[3]|0,ht=Oe&8191,vt=Oe>>>13,Lt=Q[4]|0,Ot=Lt&8191,Jt=Lt>>>13,qt=Q[5]|0,Vt=qt&8191,vr=qt>>>13,gr=Q[6]|0,Gr=gr&8191,At=gr>>>13,or=Q[7]|0,rr=or&8191,Lr=or>>>13,Tr=Q[8]|0,pt=Tr&8191,st=Tr>>>13,yt=Q[9]|0,Pt=yt&8191,Dt=yt>>>13;K.negative=k.negative^N.negative,K.length=19,Y=Math.imul(ae,qe),G=Math.imul(ae,it),G=G+Math.imul(ie,qe)|0,V=Math.imul(ie,it);var Nt=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Y=Math.imul($,qe),G=Math.imul($,it),G=G+Math.imul(se,qe)|0,V=Math.imul(se,it),Y=Y+Math.imul(ae,Re)|0,G=G+Math.imul(ae,Me)|0,G=G+Math.imul(ie,Re)|0,V=V+Math.imul(ie,Me)|0;var Zt=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,Y=Math.imul(ue,qe),G=Math.imul(ue,it),G=G+Math.imul(ge,qe)|0,V=Math.imul(ge,it),Y=Y+Math.imul($,Re)|0,G=G+Math.imul($,Me)|0,G=G+Math.imul(se,Re)|0,V=V+Math.imul(se,Me)|0,Y=Y+Math.imul(ae,ye)|0,G=G+Math.imul(ae,Le)|0,G=G+Math.imul(ie,ye)|0,V=V+Math.imul(ie,Le)|0;var $t=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+($t>>>26)|0,$t&=67108863,Y=Math.imul(xe,qe),G=Math.imul(xe,it),G=G+Math.imul(Pe,qe)|0,V=Math.imul(Pe,it),Y=Y+Math.imul(ue,Re)|0,G=G+Math.imul(ue,Me)|0,G=G+Math.imul(ge,Re)|0,V=V+Math.imul(ge,Me)|0,Y=Y+Math.imul($,ye)|0,G=G+Math.imul($,Le)|0,G=G+Math.imul(se,ye)|0,V=V+Math.imul(se,Le)|0,Y=Y+Math.imul(ae,ht)|0,G=G+Math.imul(ae,vt)|0,G=G+Math.imul(ie,ht)|0,V=V+Math.imul(ie,vt)|0;var lr=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(lr>>>26)|0,lr&=67108863,Y=Math.imul(Ae,qe),G=Math.imul(Ae,it),G=G+Math.imul(be,qe)|0,V=Math.imul(be,it),Y=Y+Math.imul(xe,Re)|0,G=G+Math.imul(xe,Me)|0,G=G+Math.imul(Pe,Re)|0,V=V+Math.imul(Pe,Me)|0,Y=Y+Math.imul(ue,ye)|0,G=G+Math.imul(ue,Le)|0,G=G+Math.imul(ge,ye)|0,V=V+Math.imul(ge,Le)|0,Y=Y+Math.imul($,ht)|0,G=G+Math.imul($,vt)|0,G=G+Math.imul(se,ht)|0,V=V+Math.imul(se,vt)|0,Y=Y+Math.imul(ae,Ot)|0,G=G+Math.imul(ae,Jt)|0,G=G+Math.imul(ie,Ot)|0,V=V+Math.imul(ie,Jt)|0;var ir=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(ir>>>26)|0,ir&=67108863,Y=Math.imul(Ve,qe),G=Math.imul(Ve,it),G=G+Math.imul(We,qe)|0,V=Math.imul(We,it),Y=Y+Math.imul(Ae,Re)|0,G=G+Math.imul(Ae,Me)|0,G=G+Math.imul(be,Re)|0,V=V+Math.imul(be,Me)|0,Y=Y+Math.imul(xe,ye)|0,G=G+Math.imul(xe,Le)|0,G=G+Math.imul(Pe,ye)|0,V=V+Math.imul(Pe,Le)|0,Y=Y+Math.imul(ue,ht)|0,G=G+Math.imul(ue,vt)|0,G=G+Math.imul(ge,ht)|0,V=V+Math.imul(ge,vt)|0,Y=Y+Math.imul($,Ot)|0,G=G+Math.imul($,Jt)|0,G=G+Math.imul(se,Ot)|0,V=V+Math.imul(se,Jt)|0,Y=Y+Math.imul(ae,Vt)|0,G=G+Math.imul(ae,vr)|0,G=G+Math.imul(ie,Vt)|0,V=V+Math.imul(ie,vr)|0;var He=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(He>>>26)|0,He&=67108863,Y=Math.imul(Ze,qe),G=Math.imul(Ze,it),G=G+Math.imul(ct,qe)|0,V=Math.imul(ct,it),Y=Y+Math.imul(Ve,Re)|0,G=G+Math.imul(Ve,Me)|0,G=G+Math.imul(We,Re)|0,V=V+Math.imul(We,Me)|0,Y=Y+Math.imul(Ae,ye)|0,G=G+Math.imul(Ae,Le)|0,G=G+Math.imul(be,ye)|0,V=V+Math.imul(be,Le)|0,Y=Y+Math.imul(xe,ht)|0,G=G+Math.imul(xe,vt)|0,G=G+Math.imul(Pe,ht)|0,V=V+Math.imul(Pe,vt)|0,Y=Y+Math.imul(ue,Ot)|0,G=G+Math.imul(ue,Jt)|0,G=G+Math.imul(ge,Ot)|0,V=V+Math.imul(ge,Jt)|0,Y=Y+Math.imul($,Vt)|0,G=G+Math.imul($,vr)|0,G=G+Math.imul(se,Vt)|0,V=V+Math.imul(se,vr)|0,Y=Y+Math.imul(ae,Gr)|0,G=G+Math.imul(ae,At)|0,G=G+Math.imul(ie,Gr)|0,V=V+Math.imul(ie,At)|0;var Ge=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,Y=Math.imul(at,qe),G=Math.imul(at,it),G=G+Math.imul(tt,qe)|0,V=Math.imul(tt,it),Y=Y+Math.imul(Ze,Re)|0,G=G+Math.imul(Ze,Me)|0,G=G+Math.imul(ct,Re)|0,V=V+Math.imul(ct,Me)|0,Y=Y+Math.imul(Ve,ye)|0,G=G+Math.imul(Ve,Le)|0,G=G+Math.imul(We,ye)|0,V=V+Math.imul(We,Le)|0,Y=Y+Math.imul(Ae,ht)|0,G=G+Math.imul(Ae,vt)|0,G=G+Math.imul(be,ht)|0,V=V+Math.imul(be,vt)|0,Y=Y+Math.imul(xe,Ot)|0,G=G+Math.imul(xe,Jt)|0,G=G+Math.imul(Pe,Ot)|0,V=V+Math.imul(Pe,Jt)|0,Y=Y+Math.imul(ue,Vt)|0,G=G+Math.imul(ue,vr)|0,G=G+Math.imul(ge,Vt)|0,V=V+Math.imul(ge,vr)|0,Y=Y+Math.imul($,Gr)|0,G=G+Math.imul($,At)|0,G=G+Math.imul(se,Gr)|0,V=V+Math.imul(se,At)|0,Y=Y+Math.imul(ae,rr)|0,G=G+Math.imul(ae,Lr)|0,G=G+Math.imul(ie,rr)|0,V=V+Math.imul(ie,Lr)|0;var Ct=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,Y=Math.imul(wt,qe),G=Math.imul(wt,it),G=G+Math.imul(Mt,qe)|0,V=Math.imul(Mt,it),Y=Y+Math.imul(at,Re)|0,G=G+Math.imul(at,Me)|0,G=G+Math.imul(tt,Re)|0,V=V+Math.imul(tt,Me)|0,Y=Y+Math.imul(Ze,ye)|0,G=G+Math.imul(Ze,Le)|0,G=G+Math.imul(ct,ye)|0,V=V+Math.imul(ct,Le)|0,Y=Y+Math.imul(Ve,ht)|0,G=G+Math.imul(Ve,vt)|0,G=G+Math.imul(We,ht)|0,V=V+Math.imul(We,vt)|0,Y=Y+Math.imul(Ae,Ot)|0,G=G+Math.imul(Ae,Jt)|0,G=G+Math.imul(be,Ot)|0,V=V+Math.imul(be,Jt)|0,Y=Y+Math.imul(xe,Vt)|0,G=G+Math.imul(xe,vr)|0,G=G+Math.imul(Pe,Vt)|0,V=V+Math.imul(Pe,vr)|0,Y=Y+Math.imul(ue,Gr)|0,G=G+Math.imul(ue,At)|0,G=G+Math.imul(ge,Gr)|0,V=V+Math.imul(ge,At)|0,Y=Y+Math.imul($,rr)|0,G=G+Math.imul($,Lr)|0,G=G+Math.imul(se,rr)|0,V=V+Math.imul(se,Lr)|0,Y=Y+Math.imul(ae,pt)|0,G=G+Math.imul(ae,st)|0,G=G+Math.imul(ie,pt)|0,V=V+Math.imul(ie,st)|0;var Ut=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,Y=Math.imul($e,qe),G=Math.imul($e,it),G=G+Math.imul(ke,qe)|0,V=Math.imul(ke,it),Y=Y+Math.imul(wt,Re)|0,G=G+Math.imul(wt,Me)|0,G=G+Math.imul(Mt,Re)|0,V=V+Math.imul(Mt,Me)|0,Y=Y+Math.imul(at,ye)|0,G=G+Math.imul(at,Le)|0,G=G+Math.imul(tt,ye)|0,V=V+Math.imul(tt,Le)|0,Y=Y+Math.imul(Ze,ht)|0,G=G+Math.imul(Ze,vt)|0,G=G+Math.imul(ct,ht)|0,V=V+Math.imul(ct,vt)|0,Y=Y+Math.imul(Ve,Ot)|0,G=G+Math.imul(Ve,Jt)|0,G=G+Math.imul(We,Ot)|0,V=V+Math.imul(We,Jt)|0,Y=Y+Math.imul(Ae,Vt)|0,G=G+Math.imul(Ae,vr)|0,G=G+Math.imul(be,Vt)|0,V=V+Math.imul(be,vr)|0,Y=Y+Math.imul(xe,Gr)|0,G=G+Math.imul(xe,At)|0,G=G+Math.imul(Pe,Gr)|0,V=V+Math.imul(Pe,At)|0,Y=Y+Math.imul(ue,rr)|0,G=G+Math.imul(ue,Lr)|0,G=G+Math.imul(ge,rr)|0,V=V+Math.imul(ge,Lr)|0,Y=Y+Math.imul($,pt)|0,G=G+Math.imul($,st)|0,G=G+Math.imul(se,pt)|0,V=V+Math.imul(se,st)|0,Y=Y+Math.imul(ae,Pt)|0,G=G+Math.imul(ae,Dt)|0,G=G+Math.imul(ie,Pt)|0,V=V+Math.imul(ie,Dt)|0;var Kt=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Y=Math.imul($e,Re),G=Math.imul($e,Me),G=G+Math.imul(ke,Re)|0,V=Math.imul(ke,Me),Y=Y+Math.imul(wt,ye)|0,G=G+Math.imul(wt,Le)|0,G=G+Math.imul(Mt,ye)|0,V=V+Math.imul(Mt,Le)|0,Y=Y+Math.imul(at,ht)|0,G=G+Math.imul(at,vt)|0,G=G+Math.imul(tt,ht)|0,V=V+Math.imul(tt,vt)|0,Y=Y+Math.imul(Ze,Ot)|0,G=G+Math.imul(Ze,Jt)|0,G=G+Math.imul(ct,Ot)|0,V=V+Math.imul(ct,Jt)|0,Y=Y+Math.imul(Ve,Vt)|0,G=G+Math.imul(Ve,vr)|0,G=G+Math.imul(We,Vt)|0,V=V+Math.imul(We,vr)|0,Y=Y+Math.imul(Ae,Gr)|0,G=G+Math.imul(Ae,At)|0,G=G+Math.imul(be,Gr)|0,V=V+Math.imul(be,At)|0,Y=Y+Math.imul(xe,rr)|0,G=G+Math.imul(xe,Lr)|0,G=G+Math.imul(Pe,rr)|0,V=V+Math.imul(Pe,Lr)|0,Y=Y+Math.imul(ue,pt)|0,G=G+Math.imul(ue,st)|0,G=G+Math.imul(ge,pt)|0,V=V+Math.imul(ge,st)|0,Y=Y+Math.imul($,Pt)|0,G=G+Math.imul($,Dt)|0,G=G+Math.imul(se,Pt)|0,V=V+Math.imul(se,Dt)|0;var Xt=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Y=Math.imul($e,ye),G=Math.imul($e,Le),G=G+Math.imul(ke,ye)|0,V=Math.imul(ke,Le),Y=Y+Math.imul(wt,ht)|0,G=G+Math.imul(wt,vt)|0,G=G+Math.imul(Mt,ht)|0,V=V+Math.imul(Mt,vt)|0,Y=Y+Math.imul(at,Ot)|0,G=G+Math.imul(at,Jt)|0,G=G+Math.imul(tt,Ot)|0,V=V+Math.imul(tt,Jt)|0,Y=Y+Math.imul(Ze,Vt)|0,G=G+Math.imul(Ze,vr)|0,G=G+Math.imul(ct,Vt)|0,V=V+Math.imul(ct,vr)|0,Y=Y+Math.imul(Ve,Gr)|0,G=G+Math.imul(Ve,At)|0,G=G+Math.imul(We,Gr)|0,V=V+Math.imul(We,At)|0,Y=Y+Math.imul(Ae,rr)|0,G=G+Math.imul(Ae,Lr)|0,G=G+Math.imul(be,rr)|0,V=V+Math.imul(be,Lr)|0,Y=Y+Math.imul(xe,pt)|0,G=G+Math.imul(xe,st)|0,G=G+Math.imul(Pe,pt)|0,V=V+Math.imul(Pe,st)|0,Y=Y+Math.imul(ue,Pt)|0,G=G+Math.imul(ue,Dt)|0,G=G+Math.imul(ge,Pt)|0,V=V+Math.imul(ge,Dt)|0;var ur=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(ur>>>26)|0,ur&=67108863,Y=Math.imul($e,ht),G=Math.imul($e,vt),G=G+Math.imul(ke,ht)|0,V=Math.imul(ke,vt),Y=Y+Math.imul(wt,Ot)|0,G=G+Math.imul(wt,Jt)|0,G=G+Math.imul(Mt,Ot)|0,V=V+Math.imul(Mt,Jt)|0,Y=Y+Math.imul(at,Vt)|0,G=G+Math.imul(at,vr)|0,G=G+Math.imul(tt,Vt)|0,V=V+Math.imul(tt,vr)|0,Y=Y+Math.imul(Ze,Gr)|0,G=G+Math.imul(Ze,At)|0,G=G+Math.imul(ct,Gr)|0,V=V+Math.imul(ct,At)|0,Y=Y+Math.imul(Ve,rr)|0,G=G+Math.imul(Ve,Lr)|0,G=G+Math.imul(We,rr)|0,V=V+Math.imul(We,Lr)|0,Y=Y+Math.imul(Ae,pt)|0,G=G+Math.imul(Ae,st)|0,G=G+Math.imul(be,pt)|0,V=V+Math.imul(be,st)|0,Y=Y+Math.imul(xe,Pt)|0,G=G+Math.imul(xe,Dt)|0,G=G+Math.imul(Pe,Pt)|0,V=V+Math.imul(Pe,Dt)|0;var Ar=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Y=Math.imul($e,Ot),G=Math.imul($e,Jt),G=G+Math.imul(ke,Ot)|0,V=Math.imul(ke,Jt),Y=Y+Math.imul(wt,Vt)|0,G=G+Math.imul(wt,vr)|0,G=G+Math.imul(Mt,Vt)|0,V=V+Math.imul(Mt,vr)|0,Y=Y+Math.imul(at,Gr)|0,G=G+Math.imul(at,At)|0,G=G+Math.imul(tt,Gr)|0,V=V+Math.imul(tt,At)|0,Y=Y+Math.imul(Ze,rr)|0,G=G+Math.imul(Ze,Lr)|0,G=G+Math.imul(ct,rr)|0,V=V+Math.imul(ct,Lr)|0,Y=Y+Math.imul(Ve,pt)|0,G=G+Math.imul(Ve,st)|0,G=G+Math.imul(We,pt)|0,V=V+Math.imul(We,st)|0,Y=Y+Math.imul(Ae,Pt)|0,G=G+Math.imul(Ae,Dt)|0,G=G+Math.imul(be,Pt)|0,V=V+Math.imul(be,Dt)|0;var Rr=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Y=Math.imul($e,Vt),G=Math.imul($e,vr),G=G+Math.imul(ke,Vt)|0,V=Math.imul(ke,vr),Y=Y+Math.imul(wt,Gr)|0,G=G+Math.imul(wt,At)|0,G=G+Math.imul(Mt,Gr)|0,V=V+Math.imul(Mt,At)|0,Y=Y+Math.imul(at,rr)|0,G=G+Math.imul(at,Lr)|0,G=G+Math.imul(tt,rr)|0,V=V+Math.imul(tt,Lr)|0,Y=Y+Math.imul(Ze,pt)|0,G=G+Math.imul(Ze,st)|0,G=G+Math.imul(ct,pt)|0,V=V+Math.imul(ct,st)|0,Y=Y+Math.imul(Ve,Pt)|0,G=G+Math.imul(Ve,Dt)|0,G=G+Math.imul(We,Pt)|0,V=V+Math.imul(We,Dt)|0;var wr=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(wr>>>26)|0,wr&=67108863,Y=Math.imul($e,Gr),G=Math.imul($e,At),G=G+Math.imul(ke,Gr)|0,V=Math.imul(ke,At),Y=Y+Math.imul(wt,rr)|0,G=G+Math.imul(wt,Lr)|0,G=G+Math.imul(Mt,rr)|0,V=V+Math.imul(Mt,Lr)|0,Y=Y+Math.imul(at,pt)|0,G=G+Math.imul(at,st)|0,G=G+Math.imul(tt,pt)|0,V=V+Math.imul(tt,st)|0,Y=Y+Math.imul(Ze,Pt)|0,G=G+Math.imul(Ze,Dt)|0,G=G+Math.imul(ct,Pt)|0,V=V+Math.imul(ct,Dt)|0;var er=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(er>>>26)|0,er&=67108863,Y=Math.imul($e,rr),G=Math.imul($e,Lr),G=G+Math.imul(ke,rr)|0,V=Math.imul(ke,Lr),Y=Y+Math.imul(wt,pt)|0,G=G+Math.imul(wt,st)|0,G=G+Math.imul(Mt,pt)|0,V=V+Math.imul(Mt,st)|0,Y=Y+Math.imul(at,Pt)|0,G=G+Math.imul(at,Dt)|0,G=G+Math.imul(tt,Pt)|0,V=V+Math.imul(tt,Dt)|0;var _r=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(_r>>>26)|0,_r&=67108863,Y=Math.imul($e,pt),G=Math.imul($e,st),G=G+Math.imul(ke,pt)|0,V=Math.imul(ke,st),Y=Y+Math.imul(wt,Pt)|0,G=G+Math.imul(wt,Dt)|0,G=G+Math.imul(Mt,Pt)|0,V=V+Math.imul(Mt,Dt)|0;var Vr=(oe+Y|0)+((G&8191)<<13)|0;oe=(V+(G>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,Y=Math.imul($e,Pt),G=Math.imul($e,Dt),G=G+Math.imul(ke,Pt)|0,V=Math.imul(ke,Dt);var Br=(oe+Y|0)+((G&8191)<<13)|0;return oe=(V+(G>>>13)|0)+(Br>>>26)|0,Br&=67108863,re[0]=Nt,re[1]=Zt,re[2]=$t,re[3]=lr,re[4]=ir,re[5]=He,re[6]=Ge,re[7]=Ct,re[8]=Ut,re[9]=Kt,re[10]=Xt,re[11]=ur,re[12]=Ar,re[13]=Rr,re[14]=wr,re[15]=er,re[16]=_r,re[17]=Vr,re[18]=Br,oe!==0&&(re[19]=oe,K.length++),K};Math.imul||(C=M);function y(z,k,N){N.negative=k.negative^z.negative,N.length=z.length+k.length;for(var K=0,q=0,Q=0;Q<N.length-1;Q++){var re=q;q=0;for(var oe=K&67108863,Y=Math.min(Q,k.length-1),G=Math.max(0,Q-z.length+1);G<=Y;G++){var V=Q-G,Z=z.words[V]|0,ae=k.words[G]|0,ie=Z*ae,J=ie&67108863;re=re+(ie/67108864|0)|0,J=J+oe|0,oe=J&67108863,re=re+(J>>>26)|0,q+=re>>>26,re&=67108863}N.words[Q]=oe,K=re,re=q}return K!==0?N.words[Q]=K:N.length--,N.strip()}function w(z,k,N){var K=new b;return K.mulp(z,k,N)}c.prototype.mulTo=function(k,N){var K,q=this.length+k.length;return this.length===10&&k.length===10?K=C(this,k,N):q<63?K=M(this,k,N):q<1024?K=y(this,k,N):K=w(this,k,N),K};function b(z,k){this.x=z,this.y=k}b.prototype.makeRBT=function(k){for(var N=new Array(k),K=c.prototype._countBits(k)-1,q=0;q<k;q++)N[q]=this.revBin(q,K,k);return N},b.prototype.revBin=function(k,N,K){if(k===0||k===K-1)return k;for(var q=0,Q=0;Q<N;Q++)q|=(k&1)<<N-Q-1,k>>=1;return q},b.prototype.permute=function(k,N,K,q,Q,re){for(var oe=0;oe<re;oe++)q[oe]=N[k[oe]],Q[oe]=K[k[oe]]},b.prototype.transform=function(k,N,K,q,Q,re){this.permute(re,k,N,K,q,Q);for(var oe=1;oe<Q;oe<<=1)for(var Y=oe<<1,G=Math.cos(2*Math.PI/Y),V=Math.sin(2*Math.PI/Y),Z=0;Z<Q;Z+=Y)for(var ae=G,ie=V,J=0;J<oe;J++){var $=K[Z+J],se=q[Z+J],ee=K[Z+J+oe],ue=q[Z+J+oe],ge=ae*ee-ie*ue;ue=ae*ue+ie*ee,ee=ge,K[Z+J]=$+ee,q[Z+J]=se+ue,K[Z+J+oe]=$-ee,q[Z+J+oe]=se-ue,J!==Y&&(ge=G*ae-V*ie,ie=G*ie+V*ae,ae=ge)}},b.prototype.guessLen13b=function(k,N){var K=Math.max(N,k)|1,q=K&1,Q=0;for(K=K/2|0;K;K=K>>>1)Q++;return 1<<Q+1+q},b.prototype.conjugate=function(k,N,K){if(!(K<=1))for(var q=0;q<K/2;q++){var Q=k[q];k[q]=k[K-q-1],k[K-q-1]=Q,Q=N[q],N[q]=-N[K-q-1],N[K-q-1]=-Q}},b.prototype.normalize13b=function(k,N){for(var K=0,q=0;q<N/2;q++){var Q=Math.round(k[2*q+1]/N)*8192+Math.round(k[2*q]/N)+K;k[q]=Q&67108863,Q<67108864?K=0:K=Q/67108864|0}return k},b.prototype.convert13b=function(k,N,K,q){for(var Q=0,re=0;re<N;re++)Q=Q+(k[re]|0),K[2*re]=Q&8191,Q=Q>>>13,K[2*re+1]=Q&8191,Q=Q>>>13;for(re=2*N;re<q;++re)K[re]=0;o(Q===0),o((Q&-8192)===0)},b.prototype.stub=function(k){for(var N=new Array(k),K=0;K<k;K++)N[K]=0;return N},b.prototype.mulp=function(k,N,K){var q=2*this.guessLen13b(k.length,N.length),Q=this.makeRBT(q),re=this.stub(q),oe=new Array(q),Y=new Array(q),G=new Array(q),V=new Array(q),Z=new Array(q),ae=new Array(q),ie=K.words;ie.length=q,this.convert13b(k.words,k.length,oe,q),this.convert13b(N.words,N.length,V,q),this.transform(oe,re,Y,G,q,Q),this.transform(V,re,Z,ae,q,Q);for(var J=0;J<q;J++){var $=Y[J]*Z[J]-G[J]*ae[J];G[J]=Y[J]*ae[J]+G[J]*Z[J],Y[J]=$}return this.conjugate(Y,G,q),this.transform(Y,G,ie,re,q,Q),this.conjugate(ie,re,q),this.normalize13b(ie,q),K.negative=k.negative^N.negative,K.length=k.length+N.length,K.strip()},c.prototype.mul=function(k){var N=new c(null);return N.words=new Array(this.length+k.length),this.mulTo(k,N)},c.prototype.mulf=function(k){var N=new c(null);return N.words=new Array(this.length+k.length),w(this,k,N)},c.prototype.imul=function(k){return this.clone().mulTo(k,this)},c.prototype.imuln=function(k){o(typeof k=="number"),o(k<67108864);for(var N=0,K=0;K<this.length;K++){var q=(this.words[K]|0)*k,Q=(q&67108863)+(N&67108863);N>>=26,N+=q/67108864|0,N+=Q>>>26,this.words[K]=Q&67108863}return N!==0&&(this.words[K]=N,this.length++),this},c.prototype.muln=function(k){return this.clone().imuln(k)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(k){var N=S(k);if(N.length===0)return new c(1);for(var K=this,q=0;q<N.length&&N[q]===0;q++,K=K.sqr());if(++q<N.length)for(var Q=K.sqr();q<N.length;q++,Q=Q.sqr())N[q]!==0&&(K=K.mul(Q));return K},c.prototype.iushln=function(k){o(typeof k=="number"&&k>=0);var N=k%26,K=(k-N)/26,q=67108863>>>26-N<<26-N,Q;if(N!==0){var re=0;for(Q=0;Q<this.length;Q++){var oe=this.words[Q]&q,Y=(this.words[Q]|0)-oe<<N;this.words[Q]=Y|re,re=oe>>>26-N}re&&(this.words[Q]=re,this.length++)}if(K!==0){for(Q=this.length-1;Q>=0;Q--)this.words[Q+K]=this.words[Q];for(Q=0;Q<K;Q++)this.words[Q]=0;this.length+=K}return this.strip()},c.prototype.ishln=function(k){return o(this.negative===0),this.iushln(k)},c.prototype.iushrn=function(k,N,K){o(typeof k=="number"&&k>=0);var q;N?q=(N-N%26)/26:q=0;var Q=k%26,re=Math.min((k-Q)/26,this.length),oe=67108863^67108863>>>Q<<Q,Y=K;if(q-=re,q=Math.max(0,q),Y){for(var G=0;G<re;G++)Y.words[G]=this.words[G];Y.length=re}if(re!==0)if(this.length>re)for(this.length-=re,G=0;G<this.length;G++)this.words[G]=this.words[G+re];else this.words[0]=0,this.length=1;var V=0;for(G=this.length-1;G>=0&&(V!==0||G>=q);G--){var Z=this.words[G]|0;this.words[G]=V<<26-Q|Z>>>Q,V=Z&oe}return Y&&V!==0&&(Y.words[Y.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(k,N,K){return o(this.negative===0),this.iushrn(k,N,K)},c.prototype.shln=function(k){return this.clone().ishln(k)},c.prototype.ushln=function(k){return this.clone().iushln(k)},c.prototype.shrn=function(k){return this.clone().ishrn(k)},c.prototype.ushrn=function(k){return this.clone().iushrn(k)},c.prototype.testn=function(k){o(typeof k=="number"&&k>=0);var N=k%26,K=(k-N)/26,q=1<<N;if(this.length<=K)return!1;var Q=this.words[K];return!!(Q&q)},c.prototype.imaskn=function(k){o(typeof k=="number"&&k>=0);var N=k%26,K=(k-N)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=K)return this;if(N!==0&&K++,this.length=Math.min(K,this.length),N!==0){var q=67108863^67108863>>>N<<N;this.words[this.length-1]&=q}return this.strip()},c.prototype.maskn=function(k){return this.clone().imaskn(k)},c.prototype.iaddn=function(k){return o(typeof k=="number"),o(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},c.prototype._iaddn=function(k){this.words[0]+=k;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},c.prototype.isubn=function(k){if(o(typeof k=="number"),o(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},c.prototype.addn=function(k){return this.clone().iaddn(k)},c.prototype.subn=function(k){return this.clone().isubn(k)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(k,N,K){var q=k.length+K,Q;this._expand(q);var re,oe=0;for(Q=0;Q<k.length;Q++){re=(this.words[Q+K]|0)+oe;var Y=(k.words[Q]|0)*N;re-=Y&67108863,oe=(re>>26)-(Y/67108864|0),this.words[Q+K]=re&67108863}for(;Q<this.length-K;Q++)re=(this.words[Q+K]|0)+oe,oe=re>>26,this.words[Q+K]=re&67108863;if(oe===0)return this.strip();for(o(oe===-1),oe=0,Q=0;Q<this.length;Q++)re=-(this.words[Q]|0)+oe,oe=re>>26,this.words[Q]=re&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(k,N){var K=this.length-k.length,q=this.clone(),Q=k,re=Q.words[Q.length-1]|0,oe=this._countBits(re);K=26-oe,K!==0&&(Q=Q.ushln(K),q.iushln(K),re=Q.words[Q.length-1]|0);var Y=q.length-Q.length,G;if(N!=="mod"){G=new c(null),G.length=Y+1,G.words=new Array(G.length);for(var V=0;V<G.length;V++)G.words[V]=0}var Z=q.clone()._ishlnsubmul(Q,1,Y);Z.negative===0&&(q=Z,G&&(G.words[Y]=1));for(var ae=Y-1;ae>=0;ae--){var ie=(q.words[Q.length+ae]|0)*67108864+(q.words[Q.length+ae-1]|0);for(ie=Math.min(ie/re|0,67108863),q._ishlnsubmul(Q,ie,ae);q.negative!==0;)ie--,q.negative=0,q._ishlnsubmul(Q,1,ae),q.isZero()||(q.negative^=1);G&&(G.words[ae]=ie)}return G&&G.strip(),q.strip(),N!=="div"&&K!==0&&q.iushrn(K),{div:G||null,mod:q}},c.prototype.divmod=function(k,N,K){if(o(!k.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,Q,re;return this.negative!==0&&k.negative===0?(re=this.neg().divmod(k,N),N!=="mod"&&(q=re.div.neg()),N!=="div"&&(Q=re.mod.neg(),K&&Q.negative!==0&&Q.iadd(k)),{div:q,mod:Q}):this.negative===0&&k.negative!==0?(re=this.divmod(k.neg(),N),N!=="mod"&&(q=re.div.neg()),{div:q,mod:re.mod}):this.negative&k.negative?(re=this.neg().divmod(k.neg(),N),N!=="div"&&(Q=re.mod.neg(),K&&Q.negative!==0&&Q.isub(k)),{div:re.div,mod:Q}):k.length>this.length||this.cmp(k)<0?{div:new c(0),mod:this}:k.length===1?N==="div"?{div:this.divn(k.words[0]),mod:null}:N==="mod"?{div:null,mod:new c(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new c(this.modn(k.words[0]))}:this._wordDiv(k,N)},c.prototype.div=function(k){return this.divmod(k,"div",!1).div},c.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},c.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},c.prototype.divRound=function(k){var N=this.divmod(k);if(N.mod.isZero())return N.div;var K=N.div.negative!==0?N.mod.isub(k):N.mod,q=k.ushrn(1),Q=k.andln(1),re=K.cmp(q);return re<0||Q===1&&re===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},c.prototype.modn=function(k){o(k<=67108863);for(var N=(1<<26)%k,K=0,q=this.length-1;q>=0;q--)K=(N*K+(this.words[q]|0))%k;return K},c.prototype.idivn=function(k){o(k<=67108863);for(var N=0,K=this.length-1;K>=0;K--){var q=(this.words[K]|0)+N*67108864;this.words[K]=q/k|0,N=q%k}return this.strip()},c.prototype.divn=function(k){return this.clone().idivn(k)},c.prototype.egcd=function(k){o(k.negative===0),o(!k.isZero());var N=this,K=k.clone();N.negative!==0?N=N.umod(k):N=N.clone();for(var q=new c(1),Q=new c(0),re=new c(0),oe=new c(1),Y=0;N.isEven()&&K.isEven();)N.iushrn(1),K.iushrn(1),++Y;for(var G=K.clone(),V=N.clone();!N.isZero();){for(var Z=0,ae=1;!(N.words[0]&ae)&&Z<26;++Z,ae<<=1);if(Z>0)for(N.iushrn(Z);Z-- >0;)(q.isOdd()||Q.isOdd())&&(q.iadd(G),Q.isub(V)),q.iushrn(1),Q.iushrn(1);for(var ie=0,J=1;!(K.words[0]&J)&&ie<26;++ie,J<<=1);if(ie>0)for(K.iushrn(ie);ie-- >0;)(re.isOdd()||oe.isOdd())&&(re.iadd(G),oe.isub(V)),re.iushrn(1),oe.iushrn(1);N.cmp(K)>=0?(N.isub(K),q.isub(re),Q.isub(oe)):(K.isub(N),re.isub(q),oe.isub(Q))}return{a:re,b:oe,gcd:K.iushln(Y)}},c.prototype._invmp=function(k){o(k.negative===0),o(!k.isZero());var N=this,K=k.clone();N.negative!==0?N=N.umod(k):N=N.clone();for(var q=new c(1),Q=new c(0),re=K.clone();N.cmpn(1)>0&&K.cmpn(1)>0;){for(var oe=0,Y=1;!(N.words[0]&Y)&&oe<26;++oe,Y<<=1);if(oe>0)for(N.iushrn(oe);oe-- >0;)q.isOdd()&&q.iadd(re),q.iushrn(1);for(var G=0,V=1;!(K.words[0]&V)&&G<26;++G,V<<=1);if(G>0)for(K.iushrn(G);G-- >0;)Q.isOdd()&&Q.iadd(re),Q.iushrn(1);N.cmp(K)>=0?(N.isub(K),q.isub(Q)):(K.isub(N),Q.isub(q))}var Z;return N.cmpn(1)===0?Z=q:Z=Q,Z.cmpn(0)<0&&Z.iadd(k),Z},c.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var N=this.clone(),K=k.clone();N.negative=0,K.negative=0;for(var q=0;N.isEven()&&K.isEven();q++)N.iushrn(1),K.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;K.isEven();)K.iushrn(1);var Q=N.cmp(K);if(Q<0){var re=N;N=K,K=re}else if(Q===0||K.cmpn(1)===0)break;N.isub(K)}while(!0);return K.iushln(q)},c.prototype.invm=function(k){return this.egcd(k).a.umod(k)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(k){return this.words[0]&k},c.prototype.bincn=function(k){o(typeof k=="number");var N=k%26,K=(k-N)/26,q=1<<N;if(this.length<=K)return this._expand(K+1),this.words[K]|=q,this;for(var Q=q,re=K;Q!==0&&re<this.length;re++){var oe=this.words[re]|0;oe+=Q,Q=oe>>>26,oe&=67108863,this.words[re]=oe}return Q!==0&&(this.words[re]=Q,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(k){var N=k<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var K;if(this.length>1)K=1;else{N&&(k=-k),o(k<=67108863,"Number is too big");var q=this.words[0]|0;K=q===k?0:q<k?-1:1}return this.negative!==0?-K|0:K},c.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var N=this.ucmp(k);return this.negative!==0?-N|0:N},c.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var N=0,K=this.length-1;K>=0;K--){var q=this.words[K]|0,Q=k.words[K]|0;if(q!==Q){q<Q?N=-1:q>Q&&(N=1);break}}return N},c.prototype.gtn=function(k){return this.cmpn(k)===1},c.prototype.gt=function(k){return this.cmp(k)===1},c.prototype.gten=function(k){return this.cmpn(k)>=0},c.prototype.gte=function(k){return this.cmp(k)>=0},c.prototype.ltn=function(k){return this.cmpn(k)===-1},c.prototype.lt=function(k){return this.cmp(k)===-1},c.prototype.lten=function(k){return this.cmpn(k)<=0},c.prototype.lte=function(k){return this.cmp(k)<=0},c.prototype.eqn=function(k){return this.cmpn(k)===0},c.prototype.eq=function(k){return this.cmp(k)===0},c.red=function(k){return new I(k)},c.prototype.toRed=function(k){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(k){return this.red=k,this},c.prototype.forceRed=function(k){return o(!this.red,"Already a number in reduction context"),this._forceRed(k)},c.prototype.redAdd=function(k){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},c.prototype.redIAdd=function(k){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},c.prototype.redSub=function(k){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},c.prototype.redISub=function(k){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},c.prototype.redShl=function(k){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},c.prototype.redMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},c.prototype.redIMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(k){return o(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var i={k256:null,p224:null,p192:null,p25519:null};function E(z,k){this.name=z,this.p=new c(k,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var k=new c(null);return k.words=new Array(Math.ceil(this.n/13)),k},E.prototype.ireduce=function(k){var N=k,K;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),K=N.bitLength();while(K>this.n);var q=K<this.n?-1:N.ucmp(this.p);return q===0?(N.words[0]=0,N.length=1):q>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},E.prototype.split=function(k,N){k.iushrn(this.n,0,N)},E.prototype.imulK=function(k){return k.imul(this.k)};function m(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(m,E),m.prototype.split=function(k,N){for(var K=4194303,q=Math.min(k.length,9),Q=0;Q<q;Q++)N.words[Q]=k.words[Q];if(N.length=q,k.length<=9){k.words[0]=0,k.length=1;return}var re=k.words[9];for(N.words[N.length++]=re&K,Q=10;Q<k.length;Q++){var oe=k.words[Q]|0;k.words[Q-10]=(oe&K)<<4|re>>>22,re=oe}re>>>=22,k.words[Q-10]=re,re===0&&k.length>10?k.length-=10:k.length-=9},m.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var N=0,K=0;K<k.length;K++){var q=k.words[K]|0;N+=q*977,k.words[K]=N&67108863,N=q*64+(N/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function F(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(F,E);function _(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(_,E);function B(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(B,E),B.prototype.imulK=function(k){for(var N=0,K=0;K<k.length;K++){var q=(k.words[K]|0)*19+N,Q=q&67108863;q>>>=26,k.words[K]=Q,N=q}return N!==0&&(k.words[k.length++]=N),k},c._prime=function(k){if(i[k])return i[k];var N;if(k==="k256")N=new m;else if(k==="p224")N=new F;else if(k==="p192")N=new _;else if(k==="p25519")N=new B;else throw new Error("Unknown prime "+k);return i[k]=N,N};function I(z){if(typeof z=="string"){var k=c._prime(z);this.m=k.p,this.prime=k}else o(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}I.prototype._verify1=function(k){o(k.negative===0,"red works only with positives"),o(k.red,"red works only with red numbers")},I.prototype._verify2=function(k,N){o((k.negative|N.negative)===0,"red works only with positives"),o(k.red&&k.red===N.red,"red works only with red numbers")},I.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},I.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},I.prototype.add=function(k,N){this._verify2(k,N);var K=k.add(N);return K.cmp(this.m)>=0&&K.isub(this.m),K._forceRed(this)},I.prototype.iadd=function(k,N){this._verify2(k,N);var K=k.iadd(N);return K.cmp(this.m)>=0&&K.isub(this.m),K},I.prototype.sub=function(k,N){this._verify2(k,N);var K=k.sub(N);return K.cmpn(0)<0&&K.iadd(this.m),K._forceRed(this)},I.prototype.isub=function(k,N){this._verify2(k,N);var K=k.isub(N);return K.cmpn(0)<0&&K.iadd(this.m),K},I.prototype.shl=function(k,N){return this._verify1(k),this.imod(k.ushln(N))},I.prototype.imul=function(k,N){return this._verify2(k,N),this.imod(k.imul(N))},I.prototype.mul=function(k,N){return this._verify2(k,N),this.imod(k.mul(N))},I.prototype.isqr=function(k){return this.imul(k,k.clone())},I.prototype.sqr=function(k){return this.mul(k,k)},I.prototype.sqrt=function(k){if(k.isZero())return k.clone();var N=this.m.andln(3);if(o(N%2===1),N===3){var K=this.m.add(new c(1)).iushrn(2);return this.pow(k,K)}for(var q=this.m.subn(1),Q=0;!q.isZero()&&q.andln(1)===0;)Q++,q.iushrn(1);o(!q.isZero());var re=new c(1).toRed(this),oe=re.redNeg(),Y=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new c(2*G*G).toRed(this);this.pow(G,Y).cmp(oe)!==0;)G.redIAdd(oe);for(var V=this.pow(G,q),Z=this.pow(k,q.addn(1).iushrn(1)),ae=this.pow(k,q),ie=Q;ae.cmp(re)!==0;){for(var J=ae,$=0;J.cmp(re)!==0;$++)J=J.redSqr();o($<ie);var se=this.pow(V,new c(1).iushln(ie-$-1));Z=Z.redMul(se),V=se.redSqr(),ae=ae.redMul(V),ie=$}return Z},I.prototype.invm=function(k){var N=k._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},I.prototype.pow=function(k,N){if(N.isZero())return new c(1).toRed(this);if(N.cmpn(1)===0)return k.clone();var K=4,q=new Array(1<<K);q[0]=new c(1).toRed(this),q[1]=k;for(var Q=2;Q<q.length;Q++)q[Q]=this.mul(q[Q-1],k);var re=q[0],oe=0,Y=0,G=N.bitLength()%26;for(G===0&&(G=26),Q=N.length-1;Q>=0;Q--){for(var V=N.words[Q],Z=G-1;Z>=0;Z--){var ae=V>>Z&1;if(re!==q[0]&&(re=this.sqr(re)),ae===0&&oe===0){Y=0;continue}oe<<=1,oe|=ae,Y++,!(Y!==K&&(Q!==0||Z!==0))&&(re=this.mul(re,q[oe]),Y=0,oe=0)}G=26}return re},I.prototype.convertTo=function(k){var N=k.umod(this.m);return N===k?N.clone():N},I.prototype.convertFrom=function(k){var N=k.clone();return N.red=null,N},c.mont=function(k){return new O(k)};function O(z){I.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(O,I),O.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},O.prototype.convertFrom=function(k){var N=this.imod(k.mul(this.rinv));return N.red=null,N},O.prototype.imul=function(k,N){if(k.isZero()||N.isZero())return k.words[0]=0,k.length=1,k;var K=k.imul(N),q=K.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Q=K.isub(q).iushrn(this.shift),re=Q;return Q.cmp(this.m)>=0?re=Q.isub(this.m):Q.cmpn(0)<0&&(re=Q.iadd(this.m)),re._forceRed(this)},O.prototype.mul=function(k,N){if(k.isZero()||N.isZero())return new c(0)._forceRed(this);var K=k.mul(N),q=K.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Q=K.isub(q).iushrn(this.shift),re=Q;return Q.cmp(this.m)>=0?re=Q.isub(this.m):Q.cmpn(0)<0&&(re=Q.iadd(this.m)),re._forceRed(this)},O.prototype.invm=function(k){var N=this.imod(k._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(v,this)},2692:function(v){v.exports=g;function g(t){var r,u,o,l=t.length,c=0;for(r=0;r<l;++r)c+=t[r].length;var n=new Array(c),x=0;for(r=0;r<l;++r){var h=t[r],T=h.length;for(u=0;u<T;++u){var f=n[x++]=new Array(T-1),s=0;for(o=0;o<T;++o)o!==u&&(f[s++]=h[o]);if(u&1){var d=f[1];f[1]=f[0],f[0]=d}}}return n}},2569:function(v,g,t){v.exports=s;var r=t(5306),u=t(1390),o=t(2337);function l(d,S){for(var M=0;M<d;++M)if(!(S[M]<=S[M+d]))return!0;return!1}function c(d,S,M,C){for(var y=0,w=0,b=0,i=d.length;b<i;++b){var E=d[b];if(!l(S,E)){for(var m=0;m<2*S;++m)M[y++]=E[m];C[w++]=b}}return w}function n(d,S,M,C){var y=d.length,w=S.length;if(!(y<=0||w<=0)){var b=d[0].length>>>1;if(!(b<=0)){var i,E=r.mallocDouble(2*b*y),m=r.mallocInt32(y);if(y=c(d,b,E,m),y>0){if(b===1&&C)u.init(y),i=u.sweepComplete(b,M,0,y,E,m,0,y,E,m);else{var F=r.mallocDouble(2*b*w),_=r.mallocInt32(w);w=c(S,b,F,_),w>0&&(u.init(y+w),b===1?i=u.sweepBipartite(b,M,0,y,E,m,0,w,F,_):i=o(b,M,C,y,E,m,w,F,_),r.free(F),r.free(_))}r.free(E),r.free(m)}return i}}}var x;function h(d,S){x.push([d,S])}function T(d){return x=[],n(d,d,h,!0),x}function f(d,S){return x=[],n(d,S,h,!1),x}function s(d,S,M){switch(arguments.length){case 1:return T(d);case 2:return typeof S=="function"?n(d,d,S,!0):f(d,S);case 3:return n(d,S,M,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,g){function t(){function o(n,x,h,T,f,s,d,S,M,C,y){for(var w=2*n,b=T,i=w*T;b<f;++b,i+=w){var E=s[x+i],m=s[x+i+n],F=d[b];e:for(var _=S,B=w*S;_<M;++_,B+=w){var I=C[x+B],O=C[x+B+n],z=y[_];if(!(O<E||m<I)){for(var k=x+1;k<n;++k){var N=s[k+i],K=s[k+n+i],q=C[k+B],Q=C[k+n+B];if(K<q||Q<N)continue e}var re=h(F,z);if(re!==void 0)return re}}}}function l(n,x,h,T,f,s,d,S,M,C,y){for(var w=2*n,b=S,i=w*S;b<M;++b,i+=w){var E=C[x+i],m=C[x+i+n],F=y[b];e:for(var _=T,B=w*T;_<f;++_,B+=w){var I=s[x+B],O=s[x+B+n],z=d[_];if(!(m<I||O<E)){for(var k=x+1;k<n;++k){var N=s[k+B],K=s[k+n+B],q=C[k+i],Q=C[k+n+i];if(K<q||Q<N)continue e}var re=h(z,F);if(re!==void 0)return re}}}}function c(n,x,h,T,f,s,d,S,M,C,y){return f-T>M-S?o(n,x,h,T,f,s,d,S,M,C,y):l(n,x,h,T,f,s,d,S,M,C,y)}return c}function r(){function o(h,T,f,s,d,S,M,C,y,w,b){for(var i=2*h,E=s,m=i*s;E<d;++E,m+=i){var F=S[T+m],_=S[T+m+h],B=M[E];e:for(var I=C,O=i*C;I<y;++I,O+=i){var z=w[T+O],k=b[I];if(!(z<=F||_<z)){for(var N=T+1;N<h;++N){var K=S[N+m],q=S[N+h+m],Q=w[N+O],re=w[N+h+O];if(q<Q||re<K)continue e}var oe=f(k,B);if(oe!==void 0)return oe}}}}function l(h,T,f,s,d,S,M,C,y,w,b){for(var i=2*h,E=s,m=i*s;E<d;++E,m+=i){var F=S[T+m],_=S[T+m+h],B=M[E];e:for(var I=C,O=i*C;I<y;++I,O+=i){var z=w[T+O],k=b[I];if(!(z<F||_<z)){for(var N=T+1;N<h;++N){var K=S[N+m],q=S[N+h+m],Q=w[N+O],re=w[N+h+O];if(q<Q||re<K)continue e}var oe=f(B,k);if(oe!==void 0)return oe}}}}function c(h,T,f,s,d,S,M,C,y,w,b){for(var i=2*h,E=C,m=i*C;E<y;++E,m+=i){var F=w[T+m],_=b[E];e:for(var B=s,I=i*s;B<d;++B,I+=i){var O=S[T+I],z=S[T+I+h],k=M[B];if(!(F<=O||z<F)){for(var N=T+1;N<h;++N){var K=S[N+I],q=S[N+h+I],Q=w[N+m],re=w[N+h+m];if(q<Q||re<K)continue e}var oe=f(_,k);if(oe!==void 0)return oe}}}}function n(h,T,f,s,d,S,M,C,y,w,b){for(var i=2*h,E=C,m=i*C;E<y;++E,m+=i){var F=w[T+m],_=b[E];e:for(var B=s,I=i*s;B<d;++B,I+=i){var O=S[T+I],z=S[T+I+h],k=M[B];if(!(F<O||z<F)){for(var N=T+1;N<h;++N){var K=S[N+I],q=S[N+h+I],Q=w[N+m],re=w[N+h+m];if(q<Q||re<K)continue e}var oe=f(k,_);if(oe!==void 0)return oe}}}}function x(h,T,f,s,d,S,M,C,y,w,b,i){return S-d>w-y?s?o(h,T,f,d,S,M,C,y,w,b,i):l(h,T,f,d,S,M,C,y,w,b,i):s?c(h,T,f,d,S,M,C,y,w,b,i):n(h,T,f,d,S,M,C,y,w,b,i)}return x}function u(o){return o?t():r()}g.partial=u(!1),g.full=u(!0)},2337:function(v,g,t){v.exports=z;var r=t(5306),u=t(2288),o=t(7333),l=o.partial,c=o.full,n=t(1390),x=t(2464),h=t(122),T=128,f=1<<22,s=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),S=h("lo===p0"),M=h("lo<p0"),C=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),w=h("lo<p0&&p0<=hi"),b=6,i=2,E=1024,m=r.mallocInt32(E),F=r.mallocDouble(E);function _(k,N){var K=8*u.log2(N+1)*(k+1)|0,q=u.nextPow2(b*K);m.length<q&&(r.free(m),m=r.mallocInt32(q));var Q=u.nextPow2(i*K);F.length<Q&&(r.free(F),F=r.mallocDouble(Q))}function B(k,N,K,q,Q,re,oe,Y,G){var V=b*k;m[V]=N,m[V+1]=K,m[V+2]=q,m[V+3]=Q,m[V+4]=re,m[V+5]=oe;var Z=i*k;F[Z]=Y,F[Z+1]=G}function I(k,N,K,q,Q,re,oe,Y,G,V,Z){var ae=2*k,ie=G*ae,J=V[ie+N];e:for(var $=Q,se=Q*ae;$<re;++$,se+=ae){var ee=oe[se+N],ue=oe[se+N+k];if(!(J<ee||ue<J)&&!(q&&J===ee)){for(var ge=Y[$],Te=N+1;Te<k;++Te){var ee=oe[se+Te],ue=oe[se+Te+k],xe=V[ie+Te],Pe=V[ie+Te+k];if(ue<xe||Pe<ee)continue e}var Ie;if(q?Ie=K(Z,ge):Ie=K(ge,Z),Ie!==void 0)return Ie}}}function O(k,N,K,q,Q,re,oe,Y,G,V){var Z=2*k,ae=Y*Z,ie=G[ae+N];e:for(var J=q,$=q*Z;J<Q;++J,$+=Z){var se=oe[J];if(se!==V){var ee=re[$+N],ue=re[$+N+k];if(!(ie<ee||ue<ie)){for(var ge=N+1;ge<k;++ge){var ee=re[$+ge],ue=re[$+ge+k],Te=G[ae+ge],xe=G[ae+ge+k];if(ue<Te||xe<ee)continue e}var Pe=K(se,V);if(Pe!==void 0)return Pe}}}}function z(k,N,K,q,Q,re,oe,Y,G){_(k,q+oe);var V=0,Z=2*k,ae;for(B(V++,0,0,q,0,oe,K?16:0,-1/0,1/0),K||B(V++,0,0,oe,0,q,1,-1/0,1/0);V>0;){V-=1;var ie=V*b,J=m[ie],$=m[ie+1],se=m[ie+2],ee=m[ie+3],ue=m[ie+4],ge=m[ie+5],Te=V*i,xe=F[Te],Pe=F[Te+1],Ie=ge&1,Ae=!!(ge&16),be=Q,_e=re,Ve=Y,We=G;if(Ie&&(be=Y,_e=G,Ve=Q,We=re),!(ge&2&&(se=M(k,J,$,se,be,_e,Pe),$>=se))&&!(ge&4&&($=C(k,J,$,se,be,_e,xe),$>=se))){var ze=se-$,Ze=ue-ee;if(Ae){if(k*ze*(ze+Ze)<s){if(ae=n.scanComplete(k,J,N,$,se,be,_e,ee,ue,Ve,We),ae!==void 0)return ae;continue}}else if(k*Math.min(ze,Ze)<T){if(ae=l(k,J,N,Ie,$,se,be,_e,ee,ue,Ve,We),ae!==void 0)return ae;continue}else if(k*ze*Ze<f){if(ae=n.scanBipartite(k,J,N,Ie,$,se,be,_e,ee,ue,Ve,We),ae!==void 0)return ae;continue}var ct=d(k,J,$,se,be,_e,xe,Pe);if($<ct)if(k*(ct-$)<T){if(ae=c(k,J+1,N,$,ct,be,_e,ee,ue,Ve,We),ae!==void 0)return ae}else if(J===k-2){if(Ie?ae=n.sweepBipartite(k,N,ee,ue,Ve,We,$,ct,be,_e):ae=n.sweepBipartite(k,N,$,ct,be,_e,ee,ue,Ve,We),ae!==void 0)return ae}else B(V++,J+1,$,ct,ee,ue,Ie,-1/0,1/0),B(V++,J+1,ee,ue,$,ct,Ie^1,-1/0,1/0);if(ct<se){var lt=x(k,J,ee,ue,Ve,We),at=Ve[Z*lt+J],tt=S(k,J,lt,ue,Ve,We,at);if(tt<ue&&B(V++,J,ct,se,tt,ue,(Ie|4)+(Ae?16:0),at,Pe),ee<lt&&B(V++,J,ct,se,ee,lt,(Ie|2)+(Ae?16:0),xe,at),lt+1===tt){if(Ae?ae=O(k,J,N,ct,se,be,_e,lt,Ve,We[lt]):ae=I(k,J,N,Ie,ct,se,be,_e,lt,Ve,We[lt]),ae!==void 0)return ae}else if(lt<tt){var dt;if(Ae){if(dt=y(k,J,ct,se,be,_e,at),ct<dt){var wt=S(k,J,ct,dt,be,_e,at);if(J===k-2){if(ct<wt&&(ae=n.sweepComplete(k,N,ct,wt,be,_e,lt,tt,Ve,We),ae!==void 0)||wt<dt&&(ae=n.sweepBipartite(k,N,wt,dt,be,_e,lt,tt,Ve,We),ae!==void 0))return ae}else ct<wt&&B(V++,J+1,ct,wt,lt,tt,16,-1/0,1/0),wt<dt&&(B(V++,J+1,wt,dt,lt,tt,0,-1/0,1/0),B(V++,J+1,lt,tt,wt,dt,1,-1/0,1/0))}}else Ie?dt=w(k,J,ct,se,be,_e,at):dt=y(k,J,ct,se,be,_e,at),ct<dt&&(J===k-2?Ie?ae=n.sweepBipartite(k,N,lt,tt,Ve,We,ct,dt,be,_e):ae=n.sweepBipartite(k,N,ct,dt,be,_e,lt,tt,Ve,We):(B(V++,J+1,ct,dt,lt,tt,Ie,-1/0,1/0),B(V++,J+1,lt,tt,ct,dt,Ie^1,-1/0,1/0)))}}}}}},2464:function(v,g,t){v.exports=c;var r=t(122),u=r("lo<p0"),o=8;function l(n,x,h,T,f,s){for(var d=2*n,S=d*(h+1)+x,M=h+1;M<T;++M,S+=d)for(var C=f[S],y=M,w=d*(M-1);y>h&&f[w+x]>C;--y,w-=d){for(var b=w,i=w+d,E=0;E<d;++E,++b,++i){var m=f[b];f[b]=f[i],f[i]=m}var F=s[y];s[y]=s[y-1],s[y-1]=F}}function c(n,x,h,T,f,s){if(T<=h+1)return h;for(var d=h,S=T,M=T+h>>>1,C=2*n,y=M,w=f[C*M+x];d<S;){if(S-d<o){l(n,x,d,S,f,s),w=f[C*M+x];break}var b=S-d,i=Math.random()*b+d|0,E=f[C*i+x],m=Math.random()*b+d|0,F=f[C*m+x],_=Math.random()*b+d|0,B=f[C*_+x];E<=F?B>=F?(y=m,w=F):E>=B?(y=i,w=E):(y=_,w=B):F>=B?(y=m,w=F):B>=E?(y=i,w=E):(y=_,w=B);for(var z=C*(S-1),k=C*y,I=0;I<C;++I,++z,++k){var O=f[z];f[z]=f[k],f[k]=O}var N=s[S-1];s[S-1]=s[y],s[y]=N,y=u(n,x,d,S-1,f,s,w);for(var z=C*(S-1),k=C*y,I=0;I<C;++I,++z,++k){var O=f[z];f[z]=f[k],f[k]=O}var N=s[S-1];if(s[S-1]=s[y],s[y]=N,M<y){for(S=y-1;d<S&&f[C*(S-1)+x]===w;)S-=1;S+=1}else if(y<M)for(d=y+1;d<S&&f[C*d+x]===w;)d+=1;else break}return u(n,x,h,M,f,s,f[C*M+x])}},122:function(v){v.exports=t;var g={"lo===p0":r,"lo<p0":u,"lo<=p0":o,"hi<=p0":l,"lo<p0&&p0<=hi":n,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":x};function t(h){return g[h]}function r(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+i];if(F===M)if(b===m)b+=1,w+=C;else{for(var _=0;C>_;++_){var B=d[y+_];d[y+_]=d[w],d[w++]=B}var I=S[m];S[m]=S[b],S[b++]=I}}return b}function u(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+i];if(F<M)if(b===m)b+=1,w+=C;else{for(var _=0;C>_;++_){var B=d[y+_];d[y+_]=d[w],d[w++]=B}var I=S[m];S[m]=S[b],S[b++]=I}}return b}function o(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+E];if(F<=M)if(b===m)b+=1,w+=C;else{for(var _=0;C>_;++_){var B=d[y+_];d[y+_]=d[w],d[w++]=B}var I=S[m];S[m]=S[b],S[b++]=I}}return b}function l(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+E];if(F<=M)if(b===m)b+=1,w+=C;else{for(var _=0;C>_;++_){var B=d[y+_];d[y+_]=d[w],d[w++]=B}var I=S[m];S[m]=S[b],S[b++]=I}}return b}function c(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+i],_=d[y+E];if(F<=M&&M<=_)if(b===m)b+=1,w+=C;else{for(var B=0;C>B;++B){var I=d[y+B];d[y+B]=d[w],d[w++]=I}var O=S[m];S[m]=S[b],S[b++]=O}}return b}function n(h,T,f,s,d,S,M){for(var C=2*h,y=C*f,w=y,b=f,i=T,E=h+T,m=f;s>m;++m,y+=C){var F=d[y+i],_=d[y+E];if(F<M&&M<=_)if(b===m)b+=1,w+=C;else{for(var B=0;C>B;++B){var I=d[y+B];d[y+B]=d[w],d[w++]=I}var O=S[m];S[m]=S[b],S[b++]=O}}return b}function x(h,T,f,s,d,S,M,C){for(var y=2*h,w=y*f,b=w,i=f,E=T,m=h+T,F=f;s>F;++F,w+=y){var _=d[w+E],B=d[w+m];if(!(_>=M)&&!(C>=B))if(i===F)i+=1,b+=y;else{for(var I=0;y>I;++I){var O=d[w+I];d[w+I]=d[b],d[b++]=O}var z=S[F];S[F]=S[i],S[i++]=z}}return i}},309:function(v){v.exports=t;var g=32;function t(T,f){f<=4*g?r(0,f-1,T):h(0,f-1,T)}function r(T,f,s){for(var d=2*(T+1),S=T+1;S<=f;++S){for(var M=s[d++],C=s[d++],y=S,w=d-2;y-- >T;){var b=s[w-2],i=s[w-1];if(b<M)break;if(b===M&&i<C)break;s[w]=b,s[w+1]=i,w-=2}s[w]=M,s[w+1]=C}}function u(T,f,s){T*=2,f*=2;var d=s[T],S=s[T+1];s[T]=s[f],s[T+1]=s[f+1],s[f]=d,s[f+1]=S}function o(T,f,s){T*=2,f*=2,s[T]=s[f],s[T+1]=s[f+1]}function l(T,f,s,d){T*=2,f*=2,s*=2;var S=d[T],M=d[T+1];d[T]=d[f],d[T+1]=d[f+1],d[f]=d[s],d[f+1]=d[s+1],d[s]=S,d[s+1]=M}function c(T,f,s,d,S){T*=2,f*=2,S[T]=S[f],S[f]=s,S[T+1]=S[f+1],S[f+1]=d}function n(T,f,s){T*=2,f*=2;var d=s[T],S=s[f];return d<S?!1:d===S?s[T+1]>s[f+1]:!0}function x(T,f,s,d){T*=2;var S=d[T];return S<f?!0:S===f?d[T+1]<s:!1}function h(T,f,s){var d=(f-T+1)/6|0,S=T+d,M=f-d,C=T+f>>1,y=C-d,w=C+d,b=S,i=y,E=C,m=w,F=M,_=T+1,B=f-1,I=0;n(b,i,s)&&(I=b,b=i,i=I),n(m,F,s)&&(I=m,m=F,F=I),n(b,E,s)&&(I=b,b=E,E=I),n(i,E,s)&&(I=i,i=E,E=I),n(b,m,s)&&(I=b,b=m,m=I),n(E,m,s)&&(I=E,E=m,m=I),n(i,F,s)&&(I=i,i=F,F=I),n(i,E,s)&&(I=i,i=E,E=I),n(m,F,s)&&(I=m,m=F,F=I);for(var O=s[2*i],z=s[2*i+1],k=s[2*m],N=s[2*m+1],K=2*b,q=2*E,Q=2*F,re=2*S,oe=2*C,Y=2*M,G=0;G<2;++G){var V=s[K+G],Z=s[q+G],ae=s[Q+G];s[re+G]=V,s[oe+G]=Z,s[Y+G]=ae}o(y,T,s),o(w,f,s);for(var ie=_;ie<=B;++ie)if(x(ie,O,z,s))ie!==_&&u(ie,_,s),++_;else if(!x(ie,k,N,s))for(;;)if(x(B,k,N,s)){x(B,O,z,s)?(l(ie,_,B,s),++_,--B):(u(ie,B,s),--B);break}else{if(--B<ie)break;continue}c(T,_-1,O,z,s),c(f,B+1,k,N,s),_-2-T<=g?r(T,_-2,s):h(T,_-2,s),f-(B+2)<=g?r(B+2,f,s):h(B+2,f,s),B-_<=g?r(_,B,s):h(_,B,s)}},1390:function(v,g,t){v.exports={init:S,sweepBipartite:y,sweepComplete:w,scanBipartite:b,scanComplete:i};var r=t(5306),u=t(2288),o=t(309),l=1<<28,c=1024,n=r.mallocInt32(c),x=r.mallocInt32(c),h=r.mallocInt32(c),T=r.mallocInt32(c),f=r.mallocInt32(c),s=r.mallocInt32(c),d=r.mallocDouble(c*8);function S(E){var m=u.nextPow2(E);n.length<m&&(r.free(n),n=r.mallocInt32(m)),x.length<m&&(r.free(x),x=r.mallocInt32(m)),h.length<m&&(r.free(h),h=r.mallocInt32(m)),T.length<m&&(r.free(T),T=r.mallocInt32(m)),f.length<m&&(r.free(f),f=r.mallocInt32(m)),s.length<m&&(r.free(s),s=r.mallocInt32(m));var F=8*m;d.length<F&&(r.free(d),d=r.mallocDouble(F))}function M(E,m,F,_){var B=m[_],I=E[F-1];E[B]=I,m[I]=B}function C(E,m,F,_){E[F]=_,m[_]=F}function y(E,m,F,_,B,I,O,z,k,N){for(var K=0,q=2*E,Q=E-1,re=q-1,oe=F;oe<_;++oe){var Y=I[oe],G=q*oe;d[K++]=B[G+Q],d[K++]=-(Y+1),d[K++]=B[G+re],d[K++]=Y}for(var oe=O;oe<z;++oe){var Y=N[oe]+l,V=q*oe;d[K++]=k[V+Q],d[K++]=-Y,d[K++]=k[V+re],d[K++]=Y}var Z=K>>>1;o(d,Z);for(var ae=0,ie=0,oe=0;oe<Z;++oe){var J=d[2*oe+1]|0;if(J>=l)J=J-l|0,M(h,T,ie--,J);else if(J>=0)M(n,x,ae--,J);else if(J<=-l){J=-J-l|0;for(var $=0;$<ae;++$){var se=m(n[$],J);if(se!==void 0)return se}C(h,T,ie++,J)}else{J=-J-1|0;for(var $=0;$<ie;++$){var se=m(J,h[$]);if(se!==void 0)return se}C(n,x,ae++,J)}}}function w(E,m,F,_,B,I,O,z,k,N){for(var K=0,q=2*E,Q=E-1,re=q-1,oe=F;oe<_;++oe){var Y=I[oe]+1<<1,G=q*oe;d[K++]=B[G+Q],d[K++]=-Y,d[K++]=B[G+re],d[K++]=Y}for(var oe=O;oe<z;++oe){var Y=N[oe]+1<<1,V=q*oe;d[K++]=k[V+Q],d[K++]=-Y|1,d[K++]=k[V+re],d[K++]=Y|1}var Z=K>>>1;o(d,Z);for(var ae=0,ie=0,J=0,oe=0;oe<Z;++oe){var $=d[2*oe+1]|0,se=$&1;if(oe<Z-1&&$>>1===d[2*oe+3]>>1&&(se=2,oe+=1),$<0){for(var ee=-($>>1)-1,ue=0;ue<J;++ue){var ge=m(f[ue],ee);if(ge!==void 0)return ge}if(se!==0)for(var ue=0;ue<ae;++ue){var ge=m(n[ue],ee);if(ge!==void 0)return ge}if(se!==1)for(var ue=0;ue<ie;++ue){var ge=m(h[ue],ee);if(ge!==void 0)return ge}se===0?C(n,x,ae++,ee):se===1?C(h,T,ie++,ee):se===2&&C(f,s,J++,ee)}else{var ee=($>>1)-1;se===0?M(n,x,ae--,ee):se===1?M(h,T,ie--,ee):se===2&&M(f,s,J--,ee)}}}function b(E,m,F,_,B,I,O,z,k,N,K,q){var Q=0,re=2*E,oe=m,Y=m+E,G=1,V=1;_?V=l:G=l;for(var Z=B;Z<I;++Z){var ae=Z+G,ie=re*Z;d[Q++]=O[ie+oe],d[Q++]=-ae,d[Q++]=O[ie+Y],d[Q++]=ae}for(var Z=k;Z<N;++Z){var ae=Z+V,J=re*Z;d[Q++]=K[J+oe],d[Q++]=-ae}var $=Q>>>1;o(d,$);for(var se=0,Z=0;Z<$;++Z){var ee=d[2*Z+1]|0;if(ee<0){var ae=-ee,ue=!1;if(ae>=l?(ue=!_,ae-=l):(ue=!!_,ae-=1),ue)C(n,x,se++,ae);else{var ge=q[ae],Te=re*ae,xe=K[Te+m+1],Pe=K[Te+m+1+E];e:for(var Ie=0;Ie<se;++Ie){var Ae=n[Ie],be=re*Ae;if(!(Pe<O[be+m+1]||O[be+m+1+E]<xe)){for(var _e=m+2;_e<E;++_e)if(K[Te+_e+E]<O[be+_e]||O[be+_e+E]<K[Te+_e])continue e;var Ve=z[Ae],We;if(_?We=F(ge,Ve):We=F(Ve,ge),We!==void 0)return We}}}}else M(n,x,se--,ee-G)}}function i(E,m,F,_,B,I,O,z,k,N,K){for(var q=0,Q=2*E,re=m,oe=m+E,Y=_;Y<B;++Y){var G=Y+l,V=Q*Y;d[q++]=I[V+re],d[q++]=-G,d[q++]=I[V+oe],d[q++]=G}for(var Y=z;Y<k;++Y){var G=Y+1,Z=Q*Y;d[q++]=N[Z+re],d[q++]=-G}var ae=q>>>1;o(d,ae);for(var ie=0,Y=0;Y<ae;++Y){var J=d[2*Y+1]|0;if(J<0){var G=-J;if(G>=l)n[ie++]=G-l;else{G-=1;var $=K[G],se=Q*G,ee=N[se+m+1],ue=N[se+m+1+E];e:for(var ge=0;ge<ie;++ge){var Te=n[ge],xe=O[Te];if(xe===$)break;var Pe=Q*Te;if(!(ue<I[Pe+m+1]||I[Pe+m+1+E]<ee)){for(var Ie=m+2;Ie<E;++Ie)if(N[se+Ie+E]<I[Pe+Ie]||I[Pe+Ie+E]<N[se+Ie])continue e;var Ae=F(xe,$);if(Ae!==void 0)return Ae}}}}else{for(var G=J-l,ge=ie-1;ge>=0;--ge)if(n[ge]===G){for(var Ie=ge+1;Ie<ie;++Ie)n[Ie-1]=n[Ie];break}--ie}}}},7761:function(v,g,t){var r=t(9971),u=t(743),o=t(2161),l=t(7098);v.exports=T;function c(f){return[Math.min(f[0],f[1]),Math.max(f[0],f[1])]}function n(f,s){return f[0]-s[0]||f[1]-s[1]}function x(f){return f.map(c).sort(n)}function h(f,s,d){return s in f?f[s]:d}function T(f,s,d){Array.isArray(s)?(d=d||{},s=s||[]):(d=s||{},s=[]);var S=!!h(d,"delaunay",!0),M=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!M&&!C||f.length===0)return[];var w=r(f,s);if(S||M!==C||y){for(var b=u(f.length,x(s)),i=0;i<w.length;++i){var E=w[i];b.addTriangle(E[0],E[1],E[2])}return S&&o(f,b),C?M?y?l(b,0,y):b.cells():l(b,1,y):l(b,-1)}else return w}},2161:function(v,g,t){var r=t(2227)[4];t(5070),v.exports=o;function u(l,c,n,x,h,T){var f=c.opposite(x,h);if(!(f<0)){if(h<x){var s=x;x=h,h=s,s=T,T=f,f=s}c.isConstraint(x,h)||r(l[x],l[h],l[T],l[f])<0&&n.push(x,h)}}function o(l,c){for(var n=[],x=l.length,h=c.stars,T=0;T<x;++T)for(var f=h[T],s=1;s<f.length;s+=2){var d=f[s];if(!(d<T)&&!c.isConstraint(T,d)){for(var S=f[s-1],M=-1,C=1;C<f.length;C+=2)if(f[C-1]===d){M=f[C];break}M<0||r(l[T],l[d],l[S],l[M])<0&&n.push(T,d)}}for(;n.length>0;){for(var d=n.pop(),T=n.pop(),S=-1,M=-1,f=h[T],y=1;y<f.length;y+=2){var w=f[y-1],b=f[y];w===d?M=b:b===d&&(S=w)}S<0||M<0||r(l[T],l[d],l[S],l[M])>=0||(c.flip(T,d),u(l,c,n,S,T,M),u(l,c,n,T,M,S),u(l,c,n,M,d,S),u(l,c,n,d,S,M))}}},7098:function(v,g,t){var r=t(5070);v.exports=x;function u(h,T,f,s,d,S,M){this.cells=h,this.neighbor=T,this.flags=s,this.constraint=f,this.active=d,this.next=S,this.boundary=M}var o=u.prototype;function l(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}o.locate=function(){var h=[0,0,0];return function(T,f,s){var d=T,S=f,M=s;return f<s?f<T&&(d=f,S=s,M=T):s<T&&(d=s,S=T,M=f),d<0?-1:(h[0]=d,h[1]=S,h[2]=M,r.eq(this.cells,h,l))}}();function c(h,T){for(var f=h.cells(),s=f.length,d=0;d<s;++d){var S=f[d],M=S[0],C=S[1],y=S[2];C<y?C<M&&(S[0]=C,S[1]=y,S[2]=M):y<M&&(S[0]=y,S[1]=M,S[2]=C)}f.sort(l);for(var w=new Array(s),d=0;d<w.length;++d)w[d]=0;var b=[],i=[],E=new Array(3*s),m=new Array(3*s),F=null;T&&(F=[]);for(var _=new u(f,E,m,w,b,i,F),d=0;d<s;++d)for(var S=f[d],B=0;B<3;++B){var M=S[B],C=S[(B+1)%3],I=E[3*d+B]=_.locate(C,M,h.opposite(C,M)),O=m[3*d+B]=h.isConstraint(M,C);I<0&&(O?i.push(d):(b.push(d),w[d]=1),T&&F.push([C,M,-1]))}return _}function n(h,T,f){for(var s=0,d=0;d<h.length;++d)T[d]===f&&(h[s++]=h[d]);return h.length=s,h}function x(h,T,f){var s=c(h,f);if(T===0)return f?s.cells.concat(s.boundary):s.cells;for(var d=1,S=s.active,M=s.next,C=s.flags,y=s.cells,w=s.constraint,b=s.neighbor;S.length>0||M.length>0;){for(;S.length>0;){var i=S.pop();if(C[i]!==-d){C[i]=d,y[i];for(var E=0;E<3;++E){var m=b[3*i+E];m>=0&&C[m]===0&&(w[3*i+E]?M.push(m):(S.push(m),C[m]=d))}}}var F=M;M=S,S=F,M.length=0,d=-d}var _=n(y,C,T);return f?_.concat(s.boundary):_}},9971:function(v,g,t){var r=t(5070),u=t(417)[3],o=0,l=1,c=2;v.exports=M;function n(C,y,w,b,i){this.a=C,this.b=y,this.idx=w,this.lowerIds=b,this.upperIds=i}function x(C,y,w,b){this.a=C,this.b=y,this.type=w,this.idx=b}function h(C,y){var w=C.a[0]-y.a[0]||C.a[1]-y.a[1]||C.type-y.type;return w||C.type!==o&&(w=u(C.a,C.b,y.b),w)?w:C.idx-y.idx}function T(C,y){return u(C.a,C.b,y)}function f(C,y,w,b,i){for(var E=r.lt(y,b,T),m=r.gt(y,b,T),F=E;F<m;++F){for(var _=y[F],B=_.lowerIds,O=B.length;O>1&&u(w[B[O-2]],w[B[O-1]],b)>0;)C.push([B[O-1],B[O-2],i]),O-=1;B.length=O,B.push(i);for(var I=_.upperIds,O=I.length;O>1&&u(w[I[O-2]],w[I[O-1]],b)<0;)C.push([I[O-2],I[O-1],i]),O-=1;I.length=O,I.push(i)}}function s(C,y){var w;return C.a[0]<y.a[0]?w=u(C.a,C.b,y.a):w=u(y.b,y.a,C.a),w||(y.b[0]<C.b[0]?w=u(C.a,C.b,y.b):w=u(y.b,y.a,C.b),w||C.idx-y.idx)}function d(C,y,w){var b=r.le(C,w,s),i=C[b],E=i.upperIds,m=E[E.length-1];i.upperIds=[m],C.splice(b+1,0,new n(w.a,w.b,w.idx,[m],E))}function S(C,y,w){var b=w.a;w.a=w.b,w.b=b;var i=r.eq(C,w,s),E=C[i],m=C[i-1];m.upperIds=E.upperIds,C.splice(i,1)}function M(C,y){for(var w=C.length,b=y.length,i=[],E=0;E<w;++E)i.push(new x(C[E],null,o,E));for(var E=0;E<b;++E){var m=y[E],F=C[m[0]],_=C[m[1]];F[0]<_[0]?i.push(new x(F,_,c,E),new x(_,F,l,E)):F[0]>_[0]&&i.push(new x(_,F,c,E),new x(F,_,l,E))}i.sort(h);for(var B=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),I=[new n([B,1],[B,0],-1,[],[])],O=[],E=0,z=i.length;E<z;++E){var k=i[E],N=k.type;N===o?f(O,I,C,k.a,k.idx):N===c?d(I,C,k):S(I,C,k)}return O}},743:function(v,g,t){var r=t(5070);v.exports=c;function u(n,x){this.stars=n,this.edges=x}var o=u.prototype;function l(n,x,h){for(var T=1,f=n.length;T<f;T+=2)if(n[T-1]===x&&n[T]===h){n[T-1]=n[f-2],n[T]=n[f-1],n.length=f-2;return}}o.isConstraint=function(){var n=[0,0];function x(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return n[0]=Math.min(h,T),n[1]=Math.max(h,T),r.eq(this.edges,n,x)>=0}}(),o.removeTriangle=function(n,x,h){var T=this.stars;l(T[n],x,h),l(T[x],h,n),l(T[h],n,x)},o.addTriangle=function(n,x,h){var T=this.stars;T[n].push(x,h),T[x].push(h,n),T[h].push(n,x)},o.opposite=function(n,x){for(var h=this.stars[x],T=1,f=h.length;T<f;T+=2)if(h[T]===n)return h[T-1];return-1},o.flip=function(n,x){var h=this.opposite(n,x),T=this.opposite(x,n);this.removeTriangle(n,x,h),this.removeTriangle(x,n,T),this.addTriangle(n,T,h),this.addTriangle(x,h,T)},o.edges=function(){for(var n=this.stars,x=[],h=0,T=n.length;h<T;++h)for(var f=n[h],s=0,d=f.length;s<d;s+=2)x.push([f[s],f[s+1]]);return x},o.cells=function(){for(var n=this.stars,x=[],h=0,T=n.length;h<T;++h)for(var f=n[h],s=0,d=f.length;s<d;s+=2){var S=f[s],M=f[s+1];h<Math.min(S,M)&&x.push([h,S,M])}return x};function c(n,x){for(var h=new Array(n),T=0;T<n;++T)h[T]=[];return new u(h,x)}},9887:function(v){v.exports=g;function g(t){for(var r=1,u=1;u<t.length;++u)for(var o=0;o<u;++o)if(t[u]<t[o])r=-r;else if(t[o]===t[u])return 0;return r}},9243:function(v,g,t){var r=t(3094),u=t(6606);function o(n,x){for(var h=0,T=n.length,f=0;f<T;++f)h+=n[f]*x[f];return h}function l(n){var x=n.length;if(x===0)return[];n[0].length;var h=r([n.length+1,n.length+1],1),T=r([n.length+1],1);h[x][x]=0;for(var f=0;f<x;++f){for(var s=0;s<=f;++s)h[s][f]=h[f][s]=2*o(n[f],n[s]);T[f]=o(n[f],n[f])}for(var d=u(h,T),S=0,M=d[x+1],f=0;f<M.length;++f)S+=M[f];for(var C=new Array(x),f=0;f<x;++f){for(var M=d[f],y=0,s=0;s<M.length;++s)y+=M[s];C[f]=y/S}return C}function c(n){if(n.length===0)return[];for(var x=n[0].length,h=r([x]),T=l(n),f=0;f<n.length;++f)for(var s=0;s<x;++s)h[s]+=n[f][s]*T[f];return h}c.barycenetric=l,v.exports=c},1778:function(v,g,t){v.exports=u;var r=t(9243);function u(o){for(var l=r(o),c=0,n=0;n<o.length;++n)for(var x=o[n],h=0;h<l.length;++h)c+=Math.pow(x[h]-l[h],2);return Math.sqrt(c/o.length)}},197:function(v,g,t){v.exports=F;var r=t(1731),u=t(2569),o=t(4434),l=t(5125),c=t(8846),n=t(7999),x=t(2826),h=t(8551),T=t(5528);function f(_){var B=n(_);return[h(B,-1/0),h(B,1/0)]}function s(_,B){for(var I=new Array(B.length),O=0;O<B.length;++O){var z=B[O],k=_[z[0]],N=_[z[1]];I[O]=[h(Math.min(k[0],N[0]),-1/0),h(Math.min(k[1],N[1]),-1/0),h(Math.max(k[0],N[0]),1/0),h(Math.max(k[1],N[1]),1/0)]}return I}function d(_){for(var B=new Array(_.length),I=0;I<_.length;++I){var O=_[I];B[I]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return B}function S(_,B,I){var O=[];return u(I,function(z,k){var N=B[z],K=B[k];if(!(N[0]===K[0]||N[0]===K[1]||N[1]===K[0]||N[1]===K[1])){var q=_[N[0]],Q=_[N[1]],re=_[K[0]],oe=_[K[1]];o(q,Q,re,oe)&&O.push([z,k])}}),O}function M(_,B,I,O){var z=[];return u(I,O,function(k,N){var K=B[k];if(!(K[0]===N||K[1]===N)){var q=_[N],Q=_[K[0]],re=_[K[1]];o(Q,re,q,q)&&z.push([k,N])}}),z}function C(_,B,I,O,z){var k,N,K=_.map(function(Te){return[l(Te[0]),l(Te[1])]});for(k=0;k<I.length;++k){var q=I[k];N=q[0];var Q=q[1],re=B[N],oe=B[Q],Y=T(x(_[re[0]]),x(_[re[1]]),x(_[oe[0]]),x(_[oe[1]]));if(Y){var G=_.length;_.push([n(Y[0]),n(Y[1])]),K.push(Y),O.push([N,G],[Q,G])}}for(O.sort(function(Te,xe){if(Te[0]!==xe[0])return Te[0]-xe[0];var Pe=K[Te[1]],Ie=K[xe[1]];return c(Pe[0],Ie[0])||c(Pe[1],Ie[1])}),k=O.length-1;k>=0;--k){var V=O[k];N=V[0];var Z=B[N],ae=Z[0],ie=Z[1],J=_[ae],$=_[ie];if((J[0]-$[0]||J[1]-$[1])<0){var se=ae;ae=ie,ie=se}Z[0]=ae;var ee=Z[1]=V[1],ue;for(z&&(ue=Z[2]);k>0&&O[k-1][0]===N;){var V=O[--k],ge=V[1];z?B.push([ee,ge,ue]):B.push([ee,ge]),ee=ge}z?B.push([ee,ie,ue]):B.push([ee,ie])}return K}function y(_,B,I){for(var O=B.length,z=new r(O),k=[],N=0;N<B.length;++N){var K=B[N],q=f(K[0]),Q=f(K[1]);k.push([h(q[0],-1/0),h(Q[0],-1/0),h(q[1],1/0),h(Q[1],1/0)])}u(k,function(V,Z){z.link(V,Z)});for(var re=!0,oe=new Array(O),N=0;N<O;++N){var Y=z.find(N);Y!==N&&(re=!1,_[Y]=[Math.min(_[N][0],_[Y][0]),Math.min(_[N][1],_[Y][1])])}if(re)return null;for(var G=0,N=0;N<O;++N){var Y=z.find(N);Y===N?(oe[N]=G,_[G++]=_[N]):oe[N]=-1}_.length=G;for(var N=0;N<O;++N)oe[N]<0&&(oe[N]=oe[z.find(N)]);return oe}function w(_,B){return _[0]-B[0]||_[1]-B[1]}function b(_,B){var I=_[0]-B[0]||_[1]-B[1];return I||(_[2]<B[2]?-1:_[2]>B[2]?1:0)}function i(_,B,I){if(_.length!==0){if(B)for(var O=0;O<_.length;++O){var z=_[O],k=B[z[0]],N=B[z[1]];z[0]=Math.min(k,N),z[1]=Math.max(k,N)}else for(var O=0;O<_.length;++O){var z=_[O],k=z[0],N=z[1];z[0]=Math.min(k,N),z[1]=Math.max(k,N)}I?_.sort(b):_.sort(w);for(var K=1,O=1;O<_.length;++O){var q=_[O-1],Q=_[O];Q[0]===q[0]&&Q[1]===q[1]&&(!I||Q[2]===q[2])||(_[K++]=Q)}_.length=K}}function E(_,B,I){var O=y(_,[],d(_));return i(B,O,I),!!O}function m(_,B,I){var O=s(_,B),z=S(_,B,O),k=d(_),N=M(_,B,O,k),K=C(_,B,z,N,I),q=y(_,K);return i(B,q,I),q?!0:z.length>0||N.length>0}function F(_,B,I){var O;if(I){O=B;for(var z=new Array(B.length),k=0;k<B.length;++k){var N=B[k];z[k]=[N[0],N[1],I[k]]}B=z}for(var K=E(_,B,!!I);m(_,B,!!I);)K=!0;if(I&&K){O.length=0,I.length=0;for(var k=0;k<B.length;++k){var N=B[k];O.push([N[0],N[1]]),I.push(N[2])}}return K}},5528:function(v,g,t){v.exports=T;var r=t(3962),u=t(9189),o=t(4354),l=t(4951),c=t(6695),n=t(7584),x=t(4469);function h(f,s){return o(r(f[0],s[1]),r(f[1],s[0]))}function T(f,s,d,S){var M=c(s,f),C=c(S,d),y=h(M,C);if(l(y)===0)return null;var w=c(f,d),b=h(C,w),i=u(b,y),E=x(M,i),m=n(f,E);return m}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,g,t){var r=t(5692),u=t(3578);v.exports=o;function o(x){var h,T,f,s,d,S,M,C,i,y,w;if(x||(x={}),C=(x.nshades||72)-1,M=x.format||"hex",S=x.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!r[S])throw Error(S+" not a supported colorscale");d=r[S]}else if(Array.isArray(S))d=S.slice();else throw Error("unsupported colormap option",S);if(d.length>C+1)throw new Error(S+" map requires nshades to be at least size "+d.length);Array.isArray(x.alpha)?x.alpha.length!==2?y=[1,1]:y=x.alpha.slice():typeof x.alpha=="number"?y=[x.alpha,x.alpha]:y=[1,1],h=d.map(function(F){return Math.round(F.index*C)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var b=d.map(function(F,_){var B=d[_].index,I=d[_].rgb.slice();return I.length===4&&I[3]>=0&&I[3]<=1||(I[3]=y[0]+(y[1]-y[0])*B),I}),i=[];for(w=0;w<h.length-1;++w){s=h[w+1]-h[w],T=b[w],f=b[w+1];for(var E=0;E<s;E++){var m=E/s;i.push([Math.round(u(T[0],f[0],m)),Math.round(u(T[1],f[1],m)),Math.round(u(T[2],f[2],m)),u(T[3],f[3],m)])}}return i.push(d[d.length-1].rgb.concat(y[1])),M==="hex"?i=i.map(c):M==="rgbaString"?i=i.map(n):M==="float"&&(i=i.map(l)),i}function l(x){return[x[0]/255,x[1]/255,x[2]/255,x[3]]}function c(x){for(var h,T="#",f=0;f<3;++f)h=x[f],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function n(x){return"rgba("+x.join(",")+")"}},9398:function(v,g,t){v.exports=x;var r=t(417),u=t(7538),o=t(87),l=t(2019),c=t(9662);function n(h,T,f){var s=o(h[0],-T[0]),d=o(h[1],-T[1]),S=o(f[0],-T[0]),M=o(f[1],-T[1]),C=c(l(s,S),l(d,M));return C[C.length-1]>=0}function x(h,T,f,s){var d=r(T,f,s);if(d===0){var S=u(r(h,T,f)),M=u(r(h,T,s));if(S===M){if(S===0){var C=n(h,T,f),y=n(h,T,s);return C===y?0:C?1:-1}return 0}else{if(M===0)return S>0||n(h,T,s)?-1:1;if(S===0)return M>0||n(h,T,f)?1:-1}return u(M-S)}var w=r(h,T,f);if(w>0)return d>0&&r(h,T,s)>0?1:-1;if(w<0)return d>0||r(h,T,s)>0?1:-1;var b=r(h,T,s);return b>0||n(h,T,f)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var g=Math.min;function t(u,o){return u-o}function r(u,o){var l=u.length,c=u.length-o.length;if(c)return c;switch(l){case 0:return 0;case 1:return u[0]-o[0];case 2:return u[0]+u[1]-o[0]-o[1]||g(u[0],u[1])-g(o[0],o[1]);case 3:var n=u[0]+u[1],x=o[0]+o[1];if(c=n+u[2]-(x+o[2]),c)return c;var h=g(u[0],u[1]),T=g(o[0],o[1]);return g(h,u[2])-g(T,o[2])||g(h+u[2],n)-g(T+o[2],x);case 4:var f=u[0],s=u[1],d=u[2],S=u[3],M=o[0],C=o[1],y=o[2],w=o[3];return f+s+d+S-(M+C+y+w)||g(f,s,d,S)-g(M,C,y,w,M)||g(f+s,f+d,f+S,s+d,s+S,d+S)-g(M+C,M+y,M+w,C+y,C+w,y+w)||g(f+s+d,f+s+S,f+d+S,s+d+S)-g(M+C+y,M+C+w,M+y+w,C+y+w);default:for(var b=u.slice().sort(t),i=o.slice().sort(t),E=0;E<l;++E)if(c=b[E]-i[E],c)return c;return 0}}},1284:function(v,g,t){var r=t(9209),u=t(9887);v.exports=o;function o(l,c){return r(l,c)||u(l)-u(c)}},5537:function(v,g,t){var r=t(8950),u=t(8722),o=t(3332);v.exports=l;function l(c){var n=c.length;if(n===0)return[];if(n===1)return[[0]];var x=c[0].length;return x===0?[]:x===1?r(c):x===2?u(c):o(c,x)}},8950:function(v){v.exports=g;function g(t){for(var r=0,u=0,o=1;o<t.length;++o)t[o][0]<t[r][0]&&(r=o),t[o][0]>t[u][0]&&(u=o);return r<u?[[r],[u]]:r>u?[[u],[r]]:[[r]]}},8722:function(v,g,t){v.exports=u;var r=t(3266);function u(o){var l=r(o),c=l.length;if(c<=2)return[];for(var n=new Array(c),x=l[c-1],h=0;h<c;++h){var T=l[h];n[h]=[x,T],x=T}return n}},3332:function(v,g,t){v.exports=c;var r=t(2183),u=t(2153);function o(n,x){for(var h=n.length,T=new Array(h),f=0;f<x.length;++f)T[f]=n[x[f]];for(var s=x.length,f=0;f<h;++f)x.indexOf(f)<0&&(T[s++]=n[f]);return T}function l(n,x){for(var h=n.length,T=x.length,f=0;f<h;++f)for(var s=n[f],d=0;d<s.length;++d){var S=s[d];if(S<T)s[d]=x[S];else{S=S-T;for(var M=0;M<T;++M)S>=x[M]&&(S+=1);s[d]=S}}return n}function c(n,x){try{return r(n,!0)}catch{var h=u(n);if(h.length<=x)return[];var T=o(n,h),f=r(T,!0);return l(f,h)}}},9680:function(v){function g(r,u,o,l,c,n){var x=6*c*c-6*c,h=3*c*c-4*c+1,T=-6*c*c+6*c,f=3*c*c-2*c;if(r.length){n||(n=new Array(r.length));for(var s=r.length-1;s>=0;--s)n[s]=x*r[s]+h*u[s]+T*o[s]+f*l[s];return n}return x*r+h*u+T*o[s]+f*l}function t(r,u,o,l,c,n){var x=c-1,h=c*c,T=x*x,f=(1+2*c)*T,s=c*T,d=h*(3-2*c),S=h*x;if(r.length){n||(n=new Array(r.length));for(var M=r.length-1;M>=0;--M)n[M]=f*r[M]+s*u[M]+d*o[M]+S*l[M];return n}return f*r+s*u+d*o+S*l}v.exports=t,v.exports.derivative=g},4419:function(v,g,t){var r=t(2183),u=t(1215);v.exports=n;function o(x,h){this.point=x,this.index=h}function l(x,h){for(var T=x.point,f=h.point,s=T.length,d=0;d<s;++d){var S=f[d]-T[d];if(S)return S}return 0}function c(x,h,T){if(x===1)return T?[[-1,0]]:[];var f=h.map(function(C,y){return[C[0],y]});f.sort(function(C,y){return C[0]-y[0]});for(var s=new Array(x-1),d=1;d<x;++d){var S=f[d-1],M=f[d];s[d-1]=[S[1],M[1]]}return T&&s.push([-1,s[0][1]],[s[x-1][1],-1]),s}function n(x,h){var T=x.length;if(T===0)return[];var f=x[0].length;if(f<1)return[];if(f===1)return c(T,x,h);for(var s=new Array(T),d=1,S=0;S<T;++S){for(var M=x[S],C=new Array(f+1),y=0,w=0;w<f;++w){var b=M[w];C[w]=b,y+=b*b}C[f]=y,s[S]=new o(C,S),d=Math.max(y,d)}u(s,l),T=s.length;for(var i=new Array(T+f+1),E=new Array(T+f+1),m=(f+1)*(f+1)*d,F=new Array(f+1),S=0;S<=f;++S)F[S]=0;F[f]=m,i[0]=F.slice(),E[0]=-1;for(var S=0;S<=f;++S){var C=F.slice();C[S]=1,i[S+1]=C,E[S+1]=-1}for(var S=0;S<T;++S){var _=s[S];i[S+f+1]=_.point,E[S+f+1]=_.index}var B=r(i,!1);if(h?B=B.filter(function(I){for(var O=0,z=0;z<=f;++z){var k=E[I[z]];if(k<0&&++O>=2)return!1;I[z]=k}return!0}):B=B.filter(function(I){for(var O=0;O<=f;++O){var z=E[I[O]];if(z<0)return!1;I[O]=z}return!0}),f&1)for(var S=0;S<B.length;++S){var _=B[S],C=_[0];_[0]=_[1],_[1]=C}return B}},8362:function(v){var g=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,g=!0,r[1]===1072693248){let o=function(n,x){return r[0]=n,r[1]=x,t[0]},l=function(n){return t[0]=n,r[0]},c=function(n){return t[0]=n,r[1]};v.exports=function(x){return t[0]=x,[r[0],r[1]]},v.exports.pack=o,v.exports.lo=l,v.exports.hi=c}else if(r[0]===1072693248){let o=function(n,x){return r[1]=n,r[0]=x,t[0]},l=function(n){return t[0]=n,r[1]},c=function(n){return t[0]=n,r[0]};v.exports=function(x){return t[0]=x,[r[1],r[0]]},v.exports.pack=o,v.exports.lo=l,v.exports.hi=c}else g=!1}if(!g){let o=function(n,x){return u.writeUInt32LE(n,0,!0),u.writeUInt32LE(x,4,!0),u.readDoubleLE(0,!0)},l=function(n){return u.writeDoubleLE(n,0,!0),u.readUInt32LE(0,!0)},c=function(n){return u.writeDoubleLE(n,0,!0),u.readUInt32LE(4,!0)};var u=new Buffer(8);v.exports=function(x){return u.writeDoubleLE(x,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},v.exports.pack=o,v.exports.lo=l,v.exports.hi=c}v.exports.sign=function(o){return v.exports.hi(o)>>>31},v.exports.exponent=function(o){var l=v.exports.hi(o);return(l<<1>>>21)-1023},v.exports.fraction=function(o){var l=v.exports.lo(o),c=v.exports.hi(o),n=c&(1<<20)-1;return c&2146435072&&(n+=1048576),[l,n]},v.exports.denormalized=function(o){var l=v.exports.hi(o);return!(l&2146435072)}},3094:function(v){function g(u,o,l){var c=u[l]|0;if(c<=0)return[];var n=new Array(c),x;if(l===u.length-1)for(x=0;x<c;++x)n[x]=o;else for(x=0;x<c;++x)n[x]=g(u,o,l+1);return n}function t(u,o){var l,c;for(l=new Array(u),c=0;c<u;++c)l[c]=o;return l}function r(u,o){switch(typeof o>"u"&&(o=0),typeof u){case"number":if(u>0)return t(u|0,o);break;case"object":if(typeof u.length=="number")return g(u,o,0);break}return[]}v.exports=r},8348:function(v,g,t){v.exports=u;var r=t(1215);function u(o,l){var c=o.length;if(typeof l!="number"){l=0;for(var n=0;n<c;++n){var x=o[n];l=Math.max(l,x[0],x[1])}l=(l|0)+1}l=l|0;for(var h=new Array(l),n=0;n<l;++n)h[n]=[];for(var n=0;n<c;++n){var x=o[n];h[x[0]].push(x[1]),h[x[1]].push(x[0])}for(var T=0;T<l;++T)r(h[T],function(f,s){return f-s});return h}},5795:function(v){v.exports=g;function g(t,r,u){var o=r||0,l=u||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[o*t[12]+t[8],o*t[13]+t[9],o*t[14]+t[10],o*t[15]+t[11]],[l*t[12]-t[8],l*t[13]-t[9],l*t[14]-t[10],l*t[15]-t[11]]]}},8444:function(v,g,t){v.exports=x;var r=t(9680),u=t(5070);function o(h,T,f){return Math.min(T,Math.max(h,f))}function l(h,T,f){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var s=0;s<this.dimension;++s)this.bounds[0][s]=-1/0,this.bounds[1][s]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[f],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var c=l.prototype;c.flush=function(h){var T=u.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},c.curve=function(h){var T=this._time,f=T.length,s=u.le(T,h),d=this._scratch[0],S=this._state,M=this._velocity,C=this.dimension,y=this.bounds;if(s<0)for(var w=C-1,b=0;b<C;++b,--w)d[b]=S[w];else if(s>=f-1)for(var w=S.length-1,i=h-T[f-1],b=0;b<C;++b,--w)d[b]=S[w]+i*M[w];else{for(var w=C*(s+1)-1,E=T[s],m=T[s+1],F=m-E||1,_=this._scratch[1],B=this._scratch[2],I=this._scratch[3],O=this._scratch[4],z=!0,b=0;b<C;++b,--w)_[b]=S[w],I[b]=M[w]*F,B[b]=S[w+C],O[b]=M[w+C]*F,z=z&&_[b]===B[b]&&I[b]===O[b]&&I[b]===0;if(z)for(var b=0;b<C;++b)d[b]=_[b];else r(_,I,B,O,(h-E)/F,d)}for(var k=y[0],N=y[1],b=0;b<C;++b)d[b]=o(k[b],N[b],d[b]);return d},c.dcurve=function(h){var T=this._time,f=T.length,s=u.le(T,h),d=this._scratch[0],S=this._state,M=this._velocity,C=this.dimension;if(s>=f-1){var y=S.length-1;h-T[f-1];for(var w=0;w<C;++w,--y)d[w]=M[y]}else{for(var y=C*(s+1)-1,b=T[s],i=T[s+1],E=i-b||1,m=this._scratch[1],F=this._scratch[2],_=this._scratch[3],B=this._scratch[4],I=!0,w=0;w<C;++w,--y)m[w]=S[y],_[w]=M[y]*E,F[w]=S[y+C],B[w]=M[y+C]*E,I=I&&m[w]===F[w]&&_[w]===B[w]&&_[w]===0;if(I)for(var w=0;w<C;++w)d[w]=0;else{r.derivative(m,_,F,B,(h-b)/E,d);for(var w=0;w<C;++w)d[w]/=E}}return d},c.lastT=function(){var h=this._time;return h[h.length-1]},c.stable=function(){for(var h=this._velocity,T=h.length,f=this.dimension-1;f>=0;--f)if(h[--T])return!1;return!0},c.jump=function(h){var T=this.lastT(),f=this.dimension;if(!(h<T||arguments.length!==f+1)){var s=this._state,d=this._velocity,S=s.length-this.dimension,M=this.bounds,C=M[0],y=M[1];this._time.push(T,h);for(var w=0;w<2;++w)for(var b=0;b<f;++b)s.push(s[S++]),d.push(0);this._time.push(h);for(var b=f;b>0;--b)s.push(o(C[b-1],y[b-1],arguments[b])),d.push(0)}},c.push=function(h){var T=this.lastT(),f=this.dimension;if(!(h<T||arguments.length!==f+1)){var s=this._state,d=this._velocity,S=s.length-this.dimension,M=h-T,C=this.bounds,y=C[0],w=C[1],b=M>1e-6?1/M:0;this._time.push(h);for(var i=f;i>0;--i){var E=o(y[i-1],w[i-1],arguments[i]);s.push(E),d.push((E-s[S++])*b)}}},c.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var f=this._state,s=this._velocity,d=this.bounds,S=d[0],M=d[1];this._time.push(h);for(var C=T;C>0;--C)f.push(o(S[C-1],M[C-1],arguments[C])),s.push(0)}},c.move=function(h){var T=this.lastT(),f=this.dimension;if(!(h<=T||arguments.length!==f+1)){var s=this._state,d=this._velocity,S=s.length-this.dimension,M=this.bounds,C=M[0],y=M[1],w=h-T,b=w>1e-6?1/w:0;this._time.push(h);for(var i=f;i>0;--i){var E=arguments[i];s.push(o(C[i-1],y[i-1],s[S++]+E)),d.push(E*b)}}},c.idle=function(h){var T=this.lastT();if(!(h<T)){var f=this.dimension,s=this._state,d=this._velocity,S=s.length-f,M=this.bounds,C=M[0],y=M[1],w=h-T;this._time.push(h);for(var b=f-1;b>=0;--b)s.push(o(C[b],y[b],s[S]+w*d[S])),d.push(0),S+=1}};function n(h){for(var T=new Array(h),f=0;f<h;++f)T[f]=0;return T}function x(h,T,f){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof h=="number"){var s=n(h);return new l(s,s,0)}else return new l(h,n(h.length),0);case 2:if(typeof T=="number"){var s=n(h.length);return new l(h,s,+T)}else f=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new l(h,T,f)}}},7080:function(v){v.exports=C;var g=0,t=1;function r(y,w,b,i,E,m){this._color=y,this.key=w,this.value=b,this.left=i,this.right=E,this._count=m}function u(y){return new r(y._color,y.key,y.value,y.left,y.right,y._count)}function o(y,w){return new r(y,w.key,w.value,w.left,w.right,w._count)}function l(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function c(y,w){this._compare=y,this.root=w}var n=c.prototype;Object.defineProperty(n,"keys",{get:function(){var y=[];return this.forEach(function(w,b){y.push(w)}),y}}),Object.defineProperty(n,"values",{get:function(){var y=[];return this.forEach(function(w,b){y.push(b)}),y}}),Object.defineProperty(n,"length",{get:function(){return this.root?this.root._count:0}}),n.insert=function(y,w){for(var b=this._compare,i=this.root,E=[],m=[];i;){var F=b(y,i.key);E.push(i),m.push(F),F<=0?i=i.left:i=i.right}E.push(new r(g,y,w,null,null,1));for(var _=E.length-2;_>=0;--_){var i=E[_];m[_]<=0?E[_]=new r(i._color,i.key,i.value,E[_+1],i.right,i._count+1):E[_]=new r(i._color,i.key,i.value,i.left,E[_+1],i._count+1)}for(var _=E.length-1;_>1;--_){var B=E[_-1],i=E[_];if(B._color===t||i._color===t)break;var I=E[_-2];if(I.left===B)if(B.left===i){var O=I.right;if(O&&O._color===g)B._color=t,I.right=o(t,O),I._color=g,_-=1;else{if(I._color=g,I.left=B.right,B._color=t,B.right=I,E[_-2]=B,E[_-1]=i,l(I),l(B),_>=3){var z=E[_-3];z.left===I?z.left=B:z.right=B}break}}else{var O=I.right;if(O&&O._color===g)B._color=t,I.right=o(t,O),I._color=g,_-=1;else{if(B.right=i.left,I._color=g,I.left=i.right,i._color=t,i.left=B,i.right=I,E[_-2]=i,E[_-1]=B,l(I),l(B),l(i),_>=3){var z=E[_-3];z.left===I?z.left=i:z.right=i}break}}else if(B.right===i){var O=I.left;if(O&&O._color===g)B._color=t,I.left=o(t,O),I._color=g,_-=1;else{if(I._color=g,I.right=B.left,B._color=t,B.left=I,E[_-2]=B,E[_-1]=i,l(I),l(B),_>=3){var z=E[_-3];z.right===I?z.right=B:z.left=B}break}}else{var O=I.left;if(O&&O._color===g)B._color=t,I.left=o(t,O),I._color=g,_-=1;else{if(B.left=i.right,I._color=g,I.right=i.left,i._color=t,i.right=B,i.left=I,E[_-2]=i,E[_-1]=B,l(I),l(B),l(i),_>=3){var z=E[_-3];z.right===I?z.right=i:z.left=i}break}}}return E[0]._color=t,new c(b,E[0])};function x(y,w){if(w.left){var b=x(y,w.left);if(b)return b}var b=y(w.key,w.value);if(b)return b;if(w.right)return x(y,w.right)}function h(y,w,b,i){var E=w(y,i.key);if(E<=0){if(i.left){var m=h(y,w,b,i.left);if(m)return m}var m=b(i.key,i.value);if(m)return m}if(i.right)return h(y,w,b,i.right)}function T(y,w,b,i,E){var m=b(y,E.key),F=b(w,E.key),_;if(m<=0&&(E.left&&(_=T(y,w,b,i,E.left),_)||F>0&&(_=i(E.key,E.value),_)))return _;if(F>0&&E.right)return T(y,w,b,i,E.right)}n.forEach=function(w,b,i){if(this.root)switch(arguments.length){case 1:return x(w,this.root);case 2:return h(b,this._compare,w,this.root);case 3:return this._compare(b,i)>=0?void 0:T(b,i,this._compare,w,this.root)}},Object.defineProperty(n,"begin",{get:function(){for(var y=[],w=this.root;w;)y.push(w),w=w.left;return new f(this,y)}}),Object.defineProperty(n,"end",{get:function(){for(var y=[],w=this.root;w;)y.push(w),w=w.right;return new f(this,y)}}),n.at=function(y){if(y<0)return new f(this,[]);for(var w=this.root,b=[];;){if(b.push(w),w.left){if(y<w.left._count){w=w.left;continue}y-=w.left._count}if(!y)return new f(this,b);if(y-=1,w.right){if(y>=w.right._count)break;w=w.right}else break}return new f(this,[])},n.ge=function(y){for(var w=this._compare,b=this.root,i=[],E=0;b;){var m=w(y,b.key);i.push(b),m<=0&&(E=i.length),m<=0?b=b.left:b=b.right}return i.length=E,new f(this,i)},n.gt=function(y){for(var w=this._compare,b=this.root,i=[],E=0;b;){var m=w(y,b.key);i.push(b),m<0&&(E=i.length),m<0?b=b.left:b=b.right}return i.length=E,new f(this,i)},n.lt=function(y){for(var w=this._compare,b=this.root,i=[],E=0;b;){var m=w(y,b.key);i.push(b),m>0&&(E=i.length),m<=0?b=b.left:b=b.right}return i.length=E,new f(this,i)},n.le=function(y){for(var w=this._compare,b=this.root,i=[],E=0;b;){var m=w(y,b.key);i.push(b),m>=0&&(E=i.length),m<0?b=b.left:b=b.right}return i.length=E,new f(this,i)},n.find=function(y){for(var w=this._compare,b=this.root,i=[];b;){var E=w(y,b.key);if(i.push(b),E===0)return new f(this,i);E<=0?b=b.left:b=b.right}return new f(this,[])},n.remove=function(y){var w=this.find(y);return w?w.remove():this},n.get=function(y){for(var w=this._compare,b=this.root;b;){var i=w(y,b.key);if(i===0)return b.value;i<=0?b=b.left:b=b.right}};function f(y,w){this.tree=y,this._stack=w}var s=f.prototype;Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new f(this.tree,this._stack.slice())};function d(y,w){y.key=w.key,y.value=w.value,y.left=w.left,y.right=w.right,y._color=w._color,y._count=w._count}function S(y){for(var w,b,i,E,m=y.length-1;m>=0;--m){if(w=y[m],m===0){w._color=t;return}if(b=y[m-1],b.left===w){if(i=b.right,i.right&&i.right._color===g){if(i=b.right=u(i),E=i.right=u(i.right),b.right=i.left,i.left=b,i.right=E,i._color=b._color,w._color=t,b._color=t,E._color=t,l(b),l(i),m>1){var F=y[m-2];F.left===b?F.left=i:F.right=i}y[m-1]=i;return}else if(i.left&&i.left._color===g){if(i=b.right=u(i),E=i.left=u(i.left),b.right=E.left,i.left=E.right,E.left=b,E.right=i,E._color=b._color,b._color=t,i._color=t,w._color=t,l(b),l(i),l(E),m>1){var F=y[m-2];F.left===b?F.left=E:F.right=E}y[m-1]=E;return}if(i._color===t)if(b._color===g){b._color=t,b.right=o(g,i);return}else{b.right=o(g,i);continue}else{if(i=u(i),b.right=i.left,i.left=b,i._color=b._color,b._color=g,l(b),l(i),m>1){var F=y[m-2];F.left===b?F.left=i:F.right=i}y[m-1]=i,y[m]=b,m+1<y.length?y[m+1]=w:y.push(w),m=m+2}}else{if(i=b.left,i.left&&i.left._color===g){if(i=b.left=u(i),E=i.left=u(i.left),b.left=i.right,i.right=b,i.left=E,i._color=b._color,w._color=t,b._color=t,E._color=t,l(b),l(i),m>1){var F=y[m-2];F.right===b?F.right=i:F.left=i}y[m-1]=i;return}else if(i.right&&i.right._color===g){if(i=b.left=u(i),E=i.right=u(i.right),b.left=E.right,i.right=E.left,E.right=b,E.left=i,E._color=b._color,b._color=t,i._color=t,w._color=t,l(b),l(i),l(E),m>1){var F=y[m-2];F.right===b?F.right=E:F.left=E}y[m-1]=E;return}if(i._color===t)if(b._color===g){b._color=t,b.left=o(g,i);return}else{b.left=o(g,i);continue}else{if(i=u(i),b.left=i.right,i.right=b,i._color=b._color,b._color=g,l(b),l(i),m>1){var F=y[m-2];F.right===b?F.right=i:F.left=i}y[m-1]=i,y[m]=b,m+1<y.length?y[m+1]=w:y.push(w),m=m+2}}}}s.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var w=new Array(y.length),b=y[y.length-1];w[w.length-1]=new r(b._color,b.key,b.value,b.left,b.right,b._count);for(var i=y.length-2;i>=0;--i){var b=y[i];b.left===y[i+1]?w[i]=new r(b._color,b.key,b.value,w[i+1],b.right,b._count):w[i]=new r(b._color,b.key,b.value,b.left,w[i+1],b._count)}if(b=w[w.length-1],b.left&&b.right){var E=w.length;for(b=b.left;b.right;)w.push(b),b=b.right;var m=w[E-1];w.push(new r(b._color,m.key,m.value,b.left,b.right,b._count)),w[E-1].key=b.key,w[E-1].value=b.value;for(var i=w.length-2;i>=E;--i)b=w[i],w[i]=new r(b._color,b.key,b.value,b.left,w[i+1],b._count);w[E-1].left=w[E]}if(b=w[w.length-1],b._color===g){var F=w[w.length-2];F.left===b?F.left=null:F.right===b&&(F.right=null),w.pop();for(var i=0;i<w.length;++i)w[i]._count--;return new c(this.tree._compare,w[0])}else if(b.left||b.right){b.left?d(b,b.left):b.right&&d(b,b.right),b._color=t;for(var i=0;i<w.length-1;++i)w[i]._count--;return new c(this.tree._compare,w[0])}else{if(w.length===1)return new c(this.tree._compare,null);for(var i=0;i<w.length;++i)w[i]._count--;var _=w[w.length-2];S(w),_.left===b?_.left=null:_.right=null}return new c(this.tree._compare,w[0])},Object.defineProperty(s,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var y=0,w=this._stack;if(w.length===0){var b=this.tree.root;return b?b._count:0}else w[w.length-1].left&&(y=w[w.length-1].left._count);for(var i=w.length-2;i>=0;--i)w[i+1]===w[i].right&&(++y,w[i].left&&(y+=w[i].left._count));return y},enumerable:!0}),s.next=function(){var y=this._stack;if(y.length!==0){var w=y[y.length-1];if(w.right)for(w=w.right;w;)y.push(w),w=w.left;else for(y.pop();y.length>0&&y[y.length-1].right===w;)w=y[y.length-1],y.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var w=y.length-1;w>0;--w)if(y[w-1].left===y[w])return!0;return!1}}),s.update=function(y){var w=this._stack;if(w.length===0)throw new Error("Can't update empty node!");var b=new Array(w.length),i=w[w.length-1];b[b.length-1]=new r(i._color,i.key,y,i.left,i.right,i._count);for(var E=w.length-2;E>=0;--E)i=w[E],i.left===w[E+1]?b[E]=new r(i._color,i.key,i.value,b[E+1],i.right,i._count):b[E]=new r(i._color,i.key,i.value,i.left,b[E+1],i._count);return new c(this.tree._compare,b[0])},s.prev=function(){var y=this._stack;if(y.length!==0){var w=y[y.length-1];if(w.left)for(w=w.left;w;)y.push(w),w=w.right;else for(y.pop();y.length>0&&y[y.length-1].left===w;)w=y[y.length-1],y.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var w=y.length-1;w>0;--w)if(y[w-1].right===y[w])return!0;return!1}});function M(y,w){return y<w?-1:y>w?1:0}function C(y){return new c(y||M,null)}},7453:function(v,g,t){v.exports=i;var r=t(9557),u=t(1681),o=t(1011),l=t(2864),c=t(8468),n=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function x(E,m){return E[0]=m[0],E[1]=m[1],E[2]=m[2],E}function h(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(E)}var T=h.prototype;T.update=function(E){E=E||{};function m(re,oe,Y){if(Y in E){var G=E[Y],V=this[Y],Z;(re?Array.isArray(G)&&Array.isArray(G[0]):Array.isArray(G))?this[Y]=Z=[oe(G[0]),oe(G[1]),oe(G[2])]:this[Y]=Z=[oe(G),oe(G),oe(G)];for(var ae=0;ae<3;++ae)if(Z[ae]!==V[ae])return!0}return!1}var F=m.bind(this,!1,Number),_=m.bind(this,!1,Boolean),B=m.bind(this,!1,String),I=m.bind(this,!0,function(re){if(Array.isArray(re)){if(re.length===3)return[+re[0],+re[1],+re[2],1];if(re.length===4)return[+re[0],+re[1],+re[2],+re[3]]}return[0,0,0,1]}),O,z=!1,k=!1;if("bounds"in E)for(var N=E.bounds,K=0;K<2;++K)for(var q=0;q<3;++q)N[K][q]!==this.bounds[K][q]&&(k=!0),this.bounds[K][q]=N[K][q];if("ticks"in E){O=E.ticks,z=!0,this.autoTicks=!1;for(var K=0;K<3;++K)this.tickSpacing[K]=0}else F("tickSpacing")&&(this.autoTicks=!0,k=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),k=!0,z=!0,this._firstInit=!1),k&&this.autoTicks&&(O=c.create(this.bounds,this.tickSpacing),z=!0),z){for(var K=0;K<3;++K)O[K].sort(function(oe,Y){return oe.x-Y.x});c.equal(O,this.ticks)?z=!1:this.ticks=O}_("tickEnable"),B("tickFont")&&(z=!0),F("tickSize"),F("tickAngle"),F("tickPad"),I("tickColor");var Q=B("labels");B("labelFont")&&(Q=!0),_("labelEnable"),F("labelSize"),F("labelPad"),I("labelColor"),_("lineEnable"),_("lineMirror"),F("lineWidth"),I("lineColor"),_("lineTickEnable"),_("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),I("lineTickColor"),_("gridEnable"),F("gridWidth"),I("gridColor"),_("zeroEnable"),I("zeroLineColor"),F("zeroLineWidth"),_("backgroundEnable"),I("backgroundColor"),this._text?this._text&&(Q||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var s=[new f,new f,new f];function d(E,m,F,_,B){for(var I=E.primalOffset,O=E.primalMinor,z=E.mirrorOffset,k=E.mirrorMinor,N=_[m],K=0;K<3;++K)if(m!==K){var q=I,Q=z,re=O,oe=k;N&1<<K&&(q=z,Q=I,re=k,oe=O),q[K]=F[0][K],Q[K]=F[1][K],B[K]>0?(re[K]=-1,oe[K]=0):(re[K]=0,oe[K]=1)}}var S=[0,0,0],M={model:n,view:n,projection:n,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(E){};var C=0,y=[0,0,0],w=[0,0,0],b=[0,0,0];T.draw=function(E){E=E||M;for(var V=this.gl,m=E.model||n,F=E.view||n,_=E.projection||n,B=this.bounds,I=E._ortho||!1,O=l(m,F,_,B,I),z=O.cubeEdges,k=O.axis,N=F[12],K=F[13],q=F[14],Q=F[15],re=I?2:1,oe=re*this.pixelRatio*(_[3]*N+_[7]*K+_[11]*q+_[15]*Q)/V.drawingBufferHeight,Y=0;Y<3;++Y)this.lastCubeProps.cubeEdges[Y]=z[Y],this.lastCubeProps.axis[Y]=k[Y];for(var G=s,Y=0;Y<3;++Y)d(s[Y],Y,this.bounds,z,k);for(var V=this.gl,Z=S,Y=0;Y<3;++Y)this.backgroundEnable[Y]?Z[Y]=k[Y]:Z[Y]=0;this._background.draw(m,F,_,B,Z,this.backgroundColor),this._lines.bind(m,F,_,this);for(var Y=0;Y<3;++Y){var ae=[0,0,0];k[Y]>0?ae[Y]=B[1][Y]:ae[Y]=B[0][Y];for(var ie=0;ie<2;++ie){var J=(Y+1+ie)%3,$=(Y+1+(ie^1))%3;this.gridEnable[J]&&this._lines.drawGrid(J,$,this.bounds,ae,this.gridColor[J],this.gridWidth[J]*this.pixelRatio)}for(var ie=0;ie<2;++ie){var J=(Y+1+ie)%3,$=(Y+1+(ie^1))%3;this.zeroEnable[$]&&Math.min(B[0][$],B[1][$])<=0&&Math.max(B[0][$],B[1][$])>=0&&this._lines.drawZero(J,$,this.bounds,ae,this.zeroLineColor[$],this.zeroLineWidth[$]*this.pixelRatio)}}for(var Y=0;Y<3;++Y){this.lineEnable[Y]&&this._lines.drawAxisLine(Y,this.bounds,G[Y].primalOffset,this.lineColor[Y],this.lineWidth[Y]*this.pixelRatio),this.lineMirror[Y]&&this._lines.drawAxisLine(Y,this.bounds,G[Y].mirrorOffset,this.lineColor[Y],this.lineWidth[Y]*this.pixelRatio);for(var se=x(y,G[Y].primalMinor),ee=x(w,G[Y].mirrorMinor),ue=this.lineTickLength,ie=0;ie<3;++ie){var ge=oe/m[5*ie];se[ie]*=ue[ie]*ge,ee[ie]*=ue[ie]*ge}this.lineTickEnable[Y]&&this._lines.drawAxisTicks(Y,G[Y].primalOffset,se,this.lineTickColor[Y],this.lineTickWidth[Y]*this.pixelRatio),this.lineTickMirror[Y]&&this._lines.drawAxisTicks(Y,G[Y].mirrorOffset,ee,this.lineTickColor[Y],this.lineTickWidth[Y]*this.pixelRatio)}this._lines.unbind(),this._text.bind(m,F,_,this.pixelRatio);var Te,xe=.5,Pe,Ie;function Ae(Ze){Ie=[0,0,0],Ie[Ze]=1}function be(Ze,ct,lt){var at=(Ze+1)%3,tt=(Ze+2)%3,dt=ct[at],wt=ct[tt],Mt=lt[at],It=lt[tt];if(dt>0&&It>0){Ae(at);return}else if(dt>0&&It<0){Ae(at);return}else if(dt<0&&It>0){Ae(at);return}else if(dt<0&&It<0){Ae(at);return}else if(wt>0&&Mt>0){Ae(tt);return}else if(wt>0&&Mt<0){Ae(tt);return}else if(wt<0&&Mt>0){Ae(tt);return}else if(wt<0&&Mt<0){Ae(tt);return}}for(var Y=0;Y<3;++Y){for(var _e=G[Y].primalMinor,Ve=G[Y].mirrorMinor,We=x(b,G[Y].primalOffset),ie=0;ie<3;++ie)this.lineTickEnable[Y]&&(We[ie]+=oe*_e[ie]*Math.max(this.lineTickLength[ie],0)/m[5*ie]);var ze=[0,0,0];if(ze[Y]=1,this.tickEnable[Y]){this.tickAngle[Y]===-3600?(this.tickAngle[Y]=0,this.tickAlign[Y]="auto"):this.tickAlign[Y]=-1,Pe=1,Te=[this.tickAlign[Y],xe,Pe],Te[0]==="auto"?Te[0]=C:Te[0]=parseInt(""+Te[0]),Ie=[0,0,0],be(Y,_e,Ve);for(var ie=0;ie<3;++ie)We[ie]+=oe*_e[ie]*this.tickPad[ie]/m[5*ie];this._text.drawTicks(Y,this.tickSize[Y],this.tickAngle[Y],We,this.tickColor[Y],ze,Ie,Te)}if(this.labelEnable[Y]){Pe=0,Ie=[0,0,0],this.labels[Y].length>4&&(Ae(Y),Pe=1),Te=[this.labelAlign[Y],xe,Pe],Te[0]==="auto"?Te[0]=C:Te[0]=parseInt(""+Te[0]);for(var ie=0;ie<3;++ie)We[ie]+=oe*_e[ie]*this.labelPad[ie]/m[5*ie];We[Y]+=.5*(B[0][Y]+B[1][Y]),this._text.drawLabel(Y,this.labelSize[Y],this.labelAngle[Y],We,this.labelColor[Y],[0,0,0],Ie,Te)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(E,m){var F=new h(E);return F.update(m),F}},1011:function(v,g,t){v.exports=n;var r=t(5827),u=t(2944),o=t(1943).bg;function l(x,h,T,f){this.gl=x,this.buffer=h,this.vao=T,this.shader=f}var c=l.prototype;c.draw=function(x,h,T,f,s,d){for(var S=!1,M=0;M<3;++M)S=S||s[M];if(S){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:x,view:h,projection:T,bounds:f,enable:s,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function n(x){for(var h=[],T=[],f=0,s=0;s<3;++s)for(var d=(s+1)%3,S=(s+2)%3,M=[0,0,0],C=[0,0,0],y=-1;y<=1;y+=2){T.push(f,f+2,f+1,f+1,f+2,f+3),M[s]=y,C[s]=y;for(var w=-1;w<=1;w+=2){M[d]=w;for(var b=-1;b<=1;b+=2)M[S]=b,h.push(M[0],M[1],M[2],C[0],C[1],C[2]),f+=1}var i=d;d=S,S=i}var E=r(x,new Float32Array(h)),m=r(x,new Uint16Array(T),x.ELEMENT_ARRAY_BUFFER),F=u(x,[{buffer:E,type:x.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:x.FLOAT,size:3,offset:12,stride:24}],m),_=o(x);return _.attributes.position.location=0,_.attributes.normal.location=1,new l(x,E,F,_)}},2864:function(v,g,t){v.exports=y;var r=t(2288),u=t(104),o=t(4670),l=t(417),c=new Array(16),n=new Array(8),x=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var w=0;w<8;++w)n[w]=[1,1,1,1],x[w]=[1,1,1]})();function f(w,b,i){for(var E=0;E<4;++E){w[E]=i[12+E];for(var m=0;m<3;++m)w[E]+=b[m]*i[4*m+E]}}var s=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(w){for(var b=0;b<s.length;++b)if(w=o.positive(w,s[b]),w.length<3)return 0;for(var i=w[0],E=i[0]/i[3],m=i[1]/i[3],F=0,b=1;b+1<w.length;++b){var _=w[b],B=w[b+1],I=_[0]/_[3],O=_[1]/_[3],z=B[0]/B[3],k=B[1]/B[3],N=I-E,K=O-m,q=z-E,Q=k-m;F+=Math.abs(N*Q-K*q)}return F}var S=[1,1,1],M=[0,0,0],C={cubeEdges:S,axis:M};function y(w,b,i,E,m){u(c,b,w),u(c,i,c);for(var F=0,_=0;_<2;++_){h[2]=E[_][2];for(var B=0;B<2;++B){h[1]=E[B][1];for(var I=0;I<2;++I)h[0]=E[I][0],f(n[F],h,c),F+=1}}for(var O=-1,_=0;_<8;++_){for(var z=n[_][3],k=0;k<3;++k)x[_][k]=n[_][k]/z;m&&(x[_][2]*=-1),z<0&&(O<0||x[_][2]<x[O][2])&&(O=_)}if(O<0){O=0;for(var N=0;N<3;++N){for(var K=(N+2)%3,q=(N+1)%3,Q=-1,re=-1,oe=0;oe<2;++oe){var Y=oe<<N,G=Y+(oe<<K)+(1-oe<<q),V=Y+(1-oe<<K)+(oe<<q);l(x[Y],x[G],x[V],T)<0||(oe?Q=1:re=1)}if(Q<0||re<0){re>Q&&(O|=1<<N);continue}for(var oe=0;oe<2;++oe){var Y=oe<<N,G=Y+(oe<<K)+(1-oe<<q),V=Y+(1-oe<<K)+(oe<<q),Z=d([n[Y],n[G],n[V],n[Y+(1<<K)+(1<<q)]]);oe?Q=Z:re=Z}if(re>Q){O|=1<<N;continue}}}for(var ae=7^O,ie=-1,_=0;_<8;++_)_===O||_===ae||(ie<0||x[ie][1]>x[_][1])&&(ie=_);for(var J=-1,_=0;_<3;++_){var $=ie^1<<_;if(!($===O||$===ae)){J<0&&(J=$);var q=x[$];q[0]<x[J][0]&&(J=$)}}for(var se=-1,_=0;_<3;++_){var $=ie^1<<_;if(!($===O||$===ae||$===J)){se<0&&(se=$);var q=x[$];q[0]>x[se][0]&&(se=$)}}var ee=S;ee[0]=ee[1]=ee[2]=0,ee[r.log2(J^ie)]=ie&J,ee[r.log2(ie^se)]=ie&se;var ue=se^7;ue===O||ue===ae?(ue=J^7,ee[r.log2(se^ue)]=ue&se):ee[r.log2(J^ue)]=ue&J;for(var ge=M,Te=O,N=0;N<3;++N)Te&1<<N?ge[N]=-1:ge[N]=1;return C}},1681:function(v,g,t){v.exports=S;var r=t(5827),u=t(2944),o=t(1943).j,l=[0,0,0],c=[0,0,0],n=[0,0,0],x=[0,0,0],h=[1,1];function T(M){return M[0]=M[1]=M[2]=0,M}function f(M,C){return M[0]=C[0],M[1]=C[1],M[2]=C[2],M}function s(M,C,y,w,b,i,E,m){this.gl=M,this.vertBuffer=C,this.vao=y,this.shader=w,this.tickCount=b,this.tickOffset=i,this.gridCount=E,this.gridOffset=m}var d=s.prototype;d.bind=function(M,C,y){this.shader.bind(),this.shader.uniforms.model=M,this.shader.uniforms.view=C,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(M,C,y,w,b){var i=T(c);this.shader.uniforms.majorAxis=c,i[M]=C[1][M]-C[0][M],this.shader.uniforms.minorAxis=i;var E=f(x,y);E[M]+=C[0][M],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=w;var m=T(n);m[(M+2)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6);var m=T(n);m[(M+1)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(M,C,y,w,b){if(this.tickCount[M]){var i=T(l);i[M]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=w,this.shader.uniforms.lineWidth=b;var E=T(n);E[M]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M])}},d.drawGrid=function(M,C,y,w,b,i){if(this.gridCount[M]){var E=T(c);E[C]=y[1][C]-y[0][C],this.shader.uniforms.minorAxis=E;var m=f(x,w);m[C]+=y[0][C],this.shader.uniforms.offset=m;var F=T(l);F[M]=1,this.shader.uniforms.majorAxis=F;var _=T(n);_[M]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[M],this.gridOffset[M])}},d.drawZero=function(M,C,y,w,b,i){var E=T(c);this.shader.uniforms.majorAxis=E,E[M]=y[1][M]-y[0][M],this.shader.uniforms.minorAxis=E;var m=f(x,w);m[M]+=y[0][M],this.shader.uniforms.offset=m;var F=T(n);F[C]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(M,C,y){var w=[],b=[0,0,0],i=[0,0,0],E=[0,0,0],m=[0,0,0];w.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var I=w.length/3|0,_=0;_<y[F].length;++_){var B=+y[F][_].x;w.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var z=w.length/3|0;b[F]=I,i[F]=z-I;for(var I=w.length/3|0,O=0;O<y[F].length;++O){var B=+y[F][O].x;w.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var z=w.length/3|0;E[F]=I,m[F]=z-I}var k=r(M,new Float32Array(w)),N=u(M,[{buffer:k,type:M.FLOAT,size:3,stride:0,offset:0}]),K=o(M);return K.attributes.position.location=0,new s(M,k,N,K,i,b,m,E)}},1943:function(v,g,t){var r=t(6832),u=t(5158),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.j=function(T){return u(T,o,l,null,[{name:"position",type:"vec3"}])};var c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),n=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.f=function(T){return u(T,c,n,null,[{name:"position",type:"vec3"}])};var x=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(T){return u(T,x,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,g,t){v.exports=d;var r=t(5827),u=t(2944),o=t(875),l=t(1943).f,c=window||p.global||{},n=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var x=3;function h(S,M,C,y){this.gl=S,this.shader=M,this.buffer=C,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,f=[0,0];T.bind=function(S,M,C,y){this.vao.bind(),this.shader.bind();var w=this.shader.uniforms;w.model=S,w.view=M,w.projection=C,w.pixelScale=y,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=f},T.unbind=function(){this.vao.unbind()},T.update=function(S,M,C,y,w){var b=[];function i(k,N,K,q,Q,re){var oe=n[K];oe||(oe=n[K]={});var Y=oe[N];Y||(Y=oe[N]=s(N,{triangles:!0,font:K,textAlign:"center",textBaseline:"middle",lineSpacing:Q,styletags:re}));for(var G=(q||12)/12,V=Y.positions,Z=Y.cells,ae=0,ie=Z.length;ae<ie;++ae)for(var J=Z[ae],$=2;$>=0;--$){var se=V[J[$]];b.push(G*se[0],-G*se[1],k)}}for(var E=[0,0,0],m=[0,0,0],F=[0,0,0],_=[0,0,0],B=1.25,I={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){F[O]=b.length/x|0,i(.5*(S[0][O]+S[1][O]),M[O],C[O],12,B,I),_[O]=(b.length/x|0)-F[O],E[O]=b.length/x|0;for(var z=0;z<y[O].length;++z)y[O][z].text&&i(y[O][z].x,y[O][z].text,y[O][z].font||w,y[O][z].fontSize||12,B,I);m[O]=(b.length/x|0)-E[O]}this.buffer.update(b),this.tickOffset=E,this.tickCount=m,this.labelOffset=F,this.labelCount=_},T.drawTicks=function(S,M,C,y,w,b,i,E){this.tickCount[S]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=w,this.shader.uniforms.angle=C,this.shader.uniforms.scale=M,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},T.drawLabel=function(S,M,C,y,w,b,i,E){this.labelCount[S]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=w,this.shader.uniforms.angle=C,this.shader.uniforms.scale=M,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function s(S,M){try{return o(S,M)}catch(C){return console.warn('error vectorizing text:"'+S+'" error:',C),{cells:[],positions:[]}}}function d(S,M,C,y,w,b){var i=r(S),E=u(S,[{buffer:i,size:3}]),m=l(S);m.attributes.position.location=0;var F=new h(S,m,i,E);return F.update(M,C,y,w,b),F}},8468:function(v,g){g.create=r,g.equal=u;function t(o,l){var c=o+"",n=c.indexOf("."),x=0;n>=0&&(x=c.length-n-1);var h=Math.pow(10,x),T=Math.round(o*l*h),f=T+"";if(f.indexOf("e")>=0)return f;var s=T/h,d=T%h;T<0?(s=-Math.ceil(s)|0,d=-d|0):(s=Math.floor(s)|0,d=d|0);var S=""+s;if(T<0&&(S="-"+S),x){for(var M=""+d;M.length<x;)M="0"+M;return S+"."+M}else return S}function r(o,l){for(var c=[],n=0;n<3;++n){var x=[];.5*(o[0][n]+o[1][n]);for(var h=0;h*l[n]<=o[1][n];++h)x.push({x:h*l[n],text:t(l[n],h)});for(var h=-1;h*l[n]>=o[0][n];--h)x.push({x:h*l[n],text:t(l[n],h)});c.push(x)}return c}function u(o,l){for(var c=0;c<3;++c){if(o[c].length!==l[c].length)return!1;for(var n=0;n<o[c].length;++n){var x=o[c][n],h=l[c][n];if(x.x!==h.x||x.text!==h.text||x.font!==h.font||x.fontColor!==h.fontColor||x.fontSize!==h.fontSize||x.dx!==h.dx||x.dy!==h.dy)return!1}}return!0}},2771:function(v,g,t){v.exports=C;var r=t(5795),u=t(4670),o=t(2864),l=t(104),c=t(2142),n=t(6342),x=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(y,w,b){this.lo=y,this.hi=w,this.pixelsPerDataUnit=b}var f=[0,0,0,1],s=[0,0,0,1];function d(y,w,b,i,E){for(var m=0;m<3;++m){for(var F=f,_=s,B=0;B<3;++B)_[B]=F[B]=b[B];_[3]=F[3]=1,_[m]+=1,n(_,_,w),_[3]<0&&(y[m]=1/0),F[m]-=1,n(F,F,w),F[3]<0&&(y[m]=1/0);var I=(F[0]/F[3]-_[0]/_[3])*i,O=(F[1]/F[3]-_[1]/_[3])*E;y[m]=.25*Math.sqrt(I*I+O*O)}return y}var S=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],M=[0,0,0];function C(y,w,b,i,O){var m=w.model||x,F=w.view||x,_=w.projection||x,B=w._ortho||!1,I=y.bounds,O=O||o(m,F,_,I,B),z=O.axis;l(h,F,m),l(h,_,h);for(var k=S,N=0;N<3;++N)k[N].lo=1/0,k[N].hi=-1/0,k[N].pixelsPerDataUnit=1/0;var K=r(c(h,h));c(h,h);for(var q=0;q<3;++q){var Q=(q+1)%3,re=(q+2)%3,oe=M;e:for(var N=0;N<2;++N){var Y=[];if(z[q]<0!=!!N){oe[q]=I[N][q];for(var G=0;G<2;++G){oe[Q]=I[G^N][Q];for(var V=0;V<2;++V)oe[re]=I[V^G^N][re],Y.push(oe.slice())}for(var Z=B?5:4,G=Z;G===Z;++G){if(Y.length===0)continue e;Y=u.positive(Y,K[G])}for(var G=0;G<Y.length;++G)for(var re=Y[G],ae=d(M,h,re,b,i),V=0;V<3;++V)k[V].lo=Math.min(k[V].lo,re[V]),k[V].hi=Math.max(k[V].hi,re[V]),V!==q&&(k[V].pixelsPerDataUnit=Math.min(k[V].pixelsPerDataUnit,Math.abs(ae[V])))}}}return k}},5827:function(v,g,t){var r=t(5306),u=t(7498),o=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(s,d,S,M,C){this.gl=s,this.type=d,this.handle=S,this.length=M,this.usage=C}var n=c.prototype;n.bind=function(){this.gl.bindBuffer(this.type,this.handle)},n.unbind=function(){this.gl.bindBuffer(this.type,null)},n.dispose=function(){this.gl.deleteBuffer(this.handle)};function x(s,d,S,M,C,y){var w=C.length*C.BYTES_PER_ELEMENT;if(y<0)return s.bufferData(d,C,M),w;if(w+y>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return s.bufferSubData(d,y,C),S}function h(s,d){for(var S=r.malloc(s.length,d),M=s.length,C=0;C<M;++C)S[C]=s[C];return S}function T(s,d){for(var S=1,M=d.length-1;M>=0;--M){if(d[M]!==S)return!1;S*=s[M]}return!0}n.update=function(s,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof s=="object"&&typeof s.shape<"u"){var S=s.dtype;if(l.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var M=gl.getExtension("OES_element_index_uint");M&&S!=="uint16"?S="uint32":S="uint16"}if(S===s.dtype&&T(s.shape,s.stride))s.offset===0&&s.data.length===s.shape[0]?this.length=x(this.gl,this.type,this.length,this.usage,s.data,d):this.length=x(this.gl,this.type,this.length,this.usage,s.data.subarray(s.offset,s.shape[0]),d);else{var C=r.malloc(s.size,S),y=o(C,s.shape);u.assign(y,s),d<0?this.length=x(this.gl,this.type,this.length,this.usage,C,d):this.length=x(this.gl,this.type,this.length,this.usage,C.subarray(0,s.size),d),r.free(C)}}else if(Array.isArray(s)){var w;this.type===this.gl.ELEMENT_ARRAY_BUFFER?w=h(s,"uint16"):w=h(s,"float32"),d<0?this.length=x(this.gl,this.type,this.length,this.usage,w,d):this.length=x(this.gl,this.type,this.length,this.usage,w.subarray(0,s.length),d),r.free(w)}else if(typeof s=="object"&&typeof s.length=="number")this.length=x(this.gl,this.type,this.length,this.usage,s,d);else if(typeof s=="number"||s===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");s=s|0,s<=0&&(s=1),this.gl.bufferData(this.type,s|0,this.usage),this.length=s}else throw new Error("gl-buffer: Invalid data type")};function f(s,d,S,M){if(S=S||s.ARRAY_BUFFER,M=M||s.DYNAMIC_DRAW,S!==s.ARRAY_BUFFER&&S!==s.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(M!==s.DYNAMIC_DRAW&&M!==s.STATIC_DRAW&&M!==s.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=s.createBuffer(),y=new c(s,S,C,0,M);return y.update(d),y}v.exports=f},1140:function(v,g,t){var r=t(2858);v.exports=function(o,l){var c=o.positions,n=o.vectors,x={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(o.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),x;for(var h=0,T=1/0,f=-1/0,s=1/0,d=-1/0,S=1/0,M=-1/0,C=null,y=null,w=[],b=1/0,i=!1,E=0;E<c.length;E++){var m=c[E];T=Math.min(m[0],T),f=Math.max(m[0],f),s=Math.min(m[1],s),d=Math.max(m[1],d),S=Math.min(m[2],S),M=Math.max(m[2],M);var F=n[E];if(r.length(F)>h&&(h=r.length(F)),E){var _=2*r.distance(C,m)/(r.length(y)+r.length(F));_?(b=Math.min(b,_),i=!1):i=!0}i||(C=m,y=F),w.push(F)}var B=[T,s,S],I=[f,d,M];l&&(l[0]=B,l[1]=I),h===0&&(h=1);var O=1/h;isFinite(b)||(b=1),x.vectorScale=b;var z=o.coneSize||.5;o.absoluteConeSize&&(z=o.absoluteConeSize*O),x.coneScale=z;for(var E=0,k=0;E<c.length;E++)for(var m=c[E],N=m[0],K=m[1],q=m[2],Q=w[E],re=r.length(Q)*O,oe=0,Y=8;oe<Y;oe++){x.positions.push([N,K,q,k++]),x.positions.push([N,K,q,k++]),x.positions.push([N,K,q,k++]),x.positions.push([N,K,q,k++]),x.positions.push([N,K,q,k++]),x.positions.push([N,K,q,k++]),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vertexIntensity.push(re,re,re),x.vertexIntensity.push(re,re,re);var G=x.positions.length;x.cells.push([G-6,G-5,G-4],[G-3,G-2,G-1])}return x};var u=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(o,l){return v.exports.createMesh(o,l,{shaders:u,traceType:"cone"})}},5028:function(v,g,t){var r=t(5158),u=t(5827),o=t(2944),l=t(8931),c=t(104),n=t(7437),x=t(5050),h=t(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(w,b,i,E,m,F,_,B,I,O,z){this.gl=w,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=i,this.pickShader=E,this.trianglePositions=m,this.triangleVectors=F,this.triangleColors=B,this.triangleUVs=I,this.triangleIds=_,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=z,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var s=f.prototype;s.isOpaque=function(){return this.opacity>=1},s.isTransparent=function(){return this.opacity<1},s.pickSlots=1,s.setPickBase=function(w){this.pickId=w};function d(w){for(var b=h({colormap:w,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),E=0;E<256;++E){for(var m=b[E],F=0;F<3;++F)i[4*E+F]=m[F];i[4*E+3]=m[3]*255}return x(i,[256,256,4],[4,0,1])}function S(w){for(var b=w.length,i=new Array(b),E=0;E<b;++E)i[E]=w[E][2];return i}s.update=function(w){w=w||{};var b=this.gl;this.dirty=!0,"lightPosition"in w&&(this.lightPosition=w.lightPosition),"opacity"in w&&(this.opacity=w.opacity),"ambient"in w&&(this.ambientLight=w.ambient),"diffuse"in w&&(this.diffuseLight=w.diffuse),"specular"in w&&(this.specularLight=w.specular),"roughness"in w&&(this.roughness=w.roughness),"fresnel"in w&&(this.fresnel=w.fresnel),w.tubeScale!==void 0&&(this.tubeScale=w.tubeScale),w.vectorScale!==void 0&&(this.vectorScale=w.vectorScale),w.coneScale!==void 0&&(this.coneScale=w.coneScale),w.coneOffset!==void 0&&(this.coneOffset=w.coneOffset),w.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(w.colormap)),this.texture.generateMipmap());var i=w.cells,E=w.positions,m=w.vectors;if(!E||!i||!m)return;var F=[],_=[],B=[],I=[],O=[];this.cells=i,this.positions=E,this.vectors=m;var z=w.meshColor||[1,1,1,1],k=w.vertexIntensity,N=1/0,K=-1/0;if(k)if(w.vertexIntensityBounds)N=+w.vertexIntensityBounds[0],K=+w.vertexIntensityBounds[1];else for(var q=0;q<k.length;++q){var Q=k[q];N=Math.min(N,Q),K=Math.max(K,Q)}else for(var q=0;q<E.length;++q){var Q=E[q][2];N=Math.min(N,Q),K=Math.max(K,Q)}k?this.intensity=k:this.intensity=S(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<E.length;++q)for(var re=E[q],oe=0;oe<3;++oe)isNaN(re[oe])||!isFinite(re[oe])||(this.bounds[0][oe]=Math.min(this.bounds[0][oe],re[oe]),this.bounds[1][oe]=Math.max(this.bounds[1][oe],re[oe]));var Y=0;e:for(var q=0;q<i.length;++q){var G=i[q];switch(G.length){case 3:for(var oe=0;oe<3;++oe)for(var V=G[oe],re=E[V],Z=0;Z<3;++Z)if(isNaN(re[Z])||!isFinite(re[Z]))continue e;for(var oe=0;oe<3;++oe){var V=G[2-oe],re=E[V];F.push(re[0],re[1],re[2],re[3]);var ae=m[V];_.push(ae[0],ae[1],ae[2],ae[3]||0);var ie=z;ie.length===3?B.push(ie[0],ie[1],ie[2],1):B.push(ie[0],ie[1],ie[2],ie[3]);var J;k?J=[(k[V]-N)/(K-N),0]:J=[(re[2]-N)/(K-N),0],I.push(J[0],J[1]),O.push(q)}Y+=1;break}}this.triangleCount=Y,this.trianglePositions.update(F),this.triangleVectors.update(_),this.triangleColors.update(B),this.triangleUVs.update(I),this.triangleIds.update(new Uint32Array(O))},s.drawTransparent=s.draw=function(w){w=w||{};for(var b=this.gl,i=w.model||T,E=w.view||T,m=w.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)F[0][_]=Math.max(F[0][_],this.clipBounds[0][_]),F[1][_]=Math.min(F[1][_],this.clipBounds[1][_]);var B={model:i,view:E,projection:m,inverseModel:T.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=n(B.inverseModel,B.model),b.disable(b.CULL_FACE),this.texture.bind(0);var I=new Array(16);c(I,B.view,B.model),c(I,B.projection,I),n(I,I);for(var _=0;_<3;++_)B.eyePosition[_]=I[12+_]/I[15];for(var O=I[15],_=0;_<3;++_)O+=this.lightPosition[_]*I[4*_+3];for(var _=0;_<3;++_){for(var z=I[12+_],k=0;k<3;++k)z+=I[4*k+_]*this.lightPosition[k];B.lightPosition[_]=z/O}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=B,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},s.drawPick=function(w){w=w||{};for(var b=this.gl,i=w.model||T,E=w.view||T,m=w.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)F[0][_]=Math.max(F[0][_],this.clipBounds[0][_]),F[1][_]=Math.min(F[1][_],this.clipBounds[1][_]);this._model=[].slice.call(i),this._view=[].slice.call(E),this._projection=[].slice.call(m),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var B={model:i,view:E,projection:m,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},I=this.pickShader;I.bind(),I.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},s.pick=function(w){if(!w||w.id!==this.pickId)return null;var b=w.value[0]+256*w.value[1]+65536*w.value[2],i=this.cells[b],E=this.positions[i[1]].slice(0,3),m={position:E,dataCoordinate:E,index:Math.floor(i[1]/48)};return this.traceType==="cone"?m.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(m.intensity=this.intensity[i[1]],m.velocity=this.vectors[i[1]].slice(0,3),m.divergence=this.vectors[i[1]][3],m.index=b),m},s.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function M(w,b){var i=r(w,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function C(w,b){var i=r(w,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function y(w,b,i){var E=i.shaders;arguments.length===1&&(b=w,w=b.gl);var m=M(w,E),F=C(w,E),_=l(w,x(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=w.LINEAR_MIPMAP_LINEAR,_.magFilter=w.LINEAR;var B=u(w),I=u(w),O=u(w),z=u(w),k=u(w),N=o(w,[{buffer:B,type:w.FLOAT,size:4},{buffer:k,type:w.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:w.FLOAT,size:4},{buffer:z,type:w.FLOAT,size:2},{buffer:I,type:w.FLOAT,size:4}]),K=new f(w,_,m,F,B,I,k,O,z,N,i.traceType||"cone");return K.update(b),K}v.exports=y},7234:function(v,g,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),o=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:u,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,g,t){var r=t(1950);v.exports=function(o){return r[o]}},3110:function(v,g,t){v.exports=f;var r=t(5827),u=t(2944),o=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(s,d,S,M){this.gl=s,this.shader=M,this.buffer=d,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var n=c.prototype;n.isOpaque=function(){return!this.hasAlpha},n.isTransparent=function(){return this.hasAlpha},n.drawTransparent=n.draw=function(s){var d=this.gl,S=this.shader.uniforms;this.shader.bind();var M=S.view=s.view||l,C=S.projection=s.projection||l;S.model=s.model||l,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var y=M[12],w=M[13],b=M[14],i=M[15],E=s._ortho||!1,m=E?2:1,F=m*this.pixelRatio*(C[3]*y+C[7]*w+C[11]*b+C[15]*i)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),S.capSize=this.capSize[_]*F,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function x(s,d){for(var S=0;S<3;++S)s[0][S]=Math.min(s[0][S],d[S]),s[1][S]=Math.max(s[1][S],d[S])}var h=function(){for(var s=new Array(3),d=0;d<3;++d){for(var S=[],M=1;M<=2;++M)for(var C=-1;C<=1;C+=2){var y=(M+d)%3,w=[0,0,0];w[y]=C,S.push(w)}s[d]=S}return s}();function T(s,d,S,M){for(var C=h[M],y=0;y<C.length;++y){var w=C[y];s.push(d[0],d[1],d[2],S[0],S[1],S[2],S[3],w[0],w[1],w[2])}return C.length}n.update=function(s){s=s||{},"lineWidth"in s&&(this.lineWidth=s.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in s&&(this.capSize=s.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=s.color||[[0,0,0],[0,0,0],[0,0,0]],S=s.position,M=s.error;if(Array.isArray(d[0])||(d=[d,d,d]),S&&M){var C=[],y=S.length,w=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=w;e:for(var i=0;i<y;++i){for(var E=S[i],m=0;m<3;++m)if(isNaN(E[m])||!isFinite(E[m]))continue e;var F=M[i],_=d[b];if(Array.isArray(_[0])&&(_=d[i]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(F[0][b])||isNaN(F[1][b]))){if(F[0][b]<0){var B=E.slice();B[b]+=F[0][b],C.push(E[0],E[1],E[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),x(this.bounds,B),w+=2+T(C,B,_,b)}if(F[1][b]>0){var B=E.slice();B[b]+=F[1][b],C.push(E[0],E[1],E[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),x(this.bounds,B),w+=2+T(C,B,_,b)}}}this.lineCount[b]=w-this.lineOffset[b]}this.buffer.update(C)}},n.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function f(s){var d=s.gl,S=r(d),M=u(d,[{buffer:S,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:d.FLOAT,size:3,offset:28,stride:40}]),C=o(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var y=new c(d,S,M,C);return y.update(s),y}},7667:function(v,g,t){var r=t(6832),u=t(5158),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(c){return u(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,g,t){var r=t(8931);v.exports=w;var u=null,o,l,c,n;function x(b){var i=b.getParameter(b.FRAMEBUFFER_BINDING),E=b.getParameter(b.RENDERBUFFER_BINDING),m=b.getParameter(b.TEXTURE_BINDING_2D);return[i,E,m]}function h(b,i){b.bindFramebuffer(b.FRAMEBUFFER,i[0]),b.bindRenderbuffer(b.RENDERBUFFER,i[1]),b.bindTexture(b.TEXTURE_2D,i[2])}function T(b,i){var E=b.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(E+1);for(var m=0;m<=E;++m){for(var F=new Array(E),_=0;_<m;++_)F[_]=b.COLOR_ATTACHMENT0+_;for(var _=m;_<E;++_)F[_]=b.NONE;u[m]=F}}function f(b){switch(b){case o:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case n:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(b,i,E,m,F,_){if(!m)return null;var B=r(b,i,E,F,m);return B.magFilter=b.NEAREST,B.minFilter=b.NEAREST,B.mipSamples=1,B.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,_,b.TEXTURE_2D,B.handle,0),B}function d(b,i,E,m,F){var _=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,_),b.renderbufferStorage(b.RENDERBUFFER,m,i,E),b.framebufferRenderbuffer(b.FRAMEBUFFER,F,b.RENDERBUFFER,_),_}function S(b){var i=x(b.gl),E=b.gl,m=b.handle=E.createFramebuffer(),F=b._shape[0],_=b._shape[1],B=b.color.length,I=b._ext,O=b._useStencil,z=b._useDepth,k=b._colorType;E.bindFramebuffer(E.FRAMEBUFFER,m);for(var N=0;N<B;++N)b.color[N]=s(E,F,_,k,E.RGBA,E.COLOR_ATTACHMENT0+N);B===0?(b._color_rb=d(E,F,_,E.RGBA4,E.COLOR_ATTACHMENT0),I&&I.drawBuffersWEBGL(u[0])):B>1&&I.drawBuffersWEBGL(u[B]);var K=E.getExtension("WEBGL_depth_texture");K?O?b.depth=s(E,F,_,K.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):z&&(b.depth=s(E,F,_,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):z&&O?b._depth_rb=d(E,F,_,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):z?b._depth_rb=d(E,F,_,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):O&&(b._depth_rb=d(E,F,_,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var q=E.checkFramebufferStatus(E.FRAMEBUFFER);if(q!==E.FRAMEBUFFER_COMPLETE){b._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(E.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var N=0;N<b.color.length;++N)b.color[N].dispose(),b.color[N]=null;b._color_rb&&(E.deleteRenderbuffer(b._color_rb),b._color_rb=null),h(E,i),f(q)}h(E,i)}function M(b,i,E,m,F,_,B,I){this.gl=b,this._shape=[i|0,E|0],this._destroyed=!1,this._ext=I,this.color=new Array(F);for(var O=0;O<F;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=m,this._useDepth=_,this._useStencil=B;var z=this,k=[i|0,E|0];Object.defineProperties(k,{0:{get:function(){return z._shape[0]},set:function(N){return z.width=N}},1:{get:function(){return z._shape[1]},set:function(N){return z.height=N}}}),this._shapeVector=k,S(this)}var C=M.prototype;function y(b,i,E){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===i&&b._shape[1]===E)){var m=b.gl,F=m.getParameter(m.MAX_RENDERBUFFER_SIZE);if(i<0||i>F||E<0||E>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=i,b._shape[1]=E;for(var _=x(m),B=0;B<b.color.length;++B)b.color[B].shape=b._shape;b._color_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,b._color_rb),m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&m.renderbufferStorage(m.RENDERBUFFER,m.STENCIL_INDEX,b._shape[0],b._shape[1])),m.bindFramebuffer(m.FRAMEBUFFER,b.handle);var I=m.checkFramebufferStatus(m.FRAMEBUFFER);I!==m.FRAMEBUFFER_COMPLETE&&(b.dispose(),h(m,_),f(I)),h(m,_)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=b[0]|0,E=b[1]|0;return y(this,i,E),[i,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,y(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,y(this,this._shape[0],b),b},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function w(b,i,E,m){o||(o=b.FRAMEBUFFER_UNSUPPORTED,l=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,n=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=b.getExtension("WEBGL_draw_buffers");if(!u&&F&&T(b,F),Array.isArray(i)&&(m=E,E=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var _=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(i<0||i>_||E<0||E>_)throw new Error("gl-fbo: Parameters are too large for FBO");m=m||{};var B=1;if("color"in m){if(B=Math.max(m.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(F){if(B>b.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var I=b.UNSIGNED_BYTE,O=b.getExtension("OES_texture_float");if(m.float&&B>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");I=b.FLOAT}else m.preferFloat&&B>0&&O&&(I=b.FLOAT);var z=!0;"depth"in m&&(z=!!m.depth);var k=!1;return"stencil"in m&&(k=!!m.stencil),new M(b,i,E,I,B,z,k,F)}},3530:function(v,g,t){var r=t(8974).sprintf,u=t(6603),o=t(9365),l=t(8008);v.exports=c;function c(n,x,h){var T=o(x)||"of unknown name (see npm glsl-shader-name)",f="unknown type";h!==void 0&&(f=h===u.FRAGMENT_SHADER?"fragment":"vertex");for(var s=r(`Error compiling %s shader %s:
`,f,T),d=r("%s%s",s,n),S=n.split(`
`),M={},C=0;C<S.length;C++){var y=S[C];if(!(y===""||y==="\0")){var w=parseInt(y.split(":")[2]);if(isNaN(w))throw new Error(r("Could not parse error: %s",y));M[w]=y}}for(var b=l(x).split(`
`),C=0;C<b.length;C++)if(!(!M[C+3]&&!M[C+2]&&!M[C+1])){var i=b[C];if(s+=i+`
`,M[C+1]){var E=M[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),s+=r(`^^^ %s

`,E)}}return{long:s.trim(),short:d.trim()}}},6386:function(v,g,t){v.exports=f;var r=t(5070),u=t(9560),o=t(5306),l=t(5158),c=t(5827),n=t(1292);function x(s,d,S,M,C,y,w){this.plot=s,this.shader=d,this.pickShader=S,this.positionBuffer=M,this.weightBuffer=C,this.colorBuffer=y,this.idBuffer=w,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=x.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var s=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,S=this.shader,M=this.bounds,C=this.numVertices;if(!(C<=0)){var y=d.gl,w=d.dataBox,b=M[2]-M[0],i=M[3]-M[1],E=w[2]-w[0],m=w[3]-w[1];s[0]=2*b/E,s[4]=2*i/m,s[6]=2*(M[0]-w[0])/E-1,s[7]=2*(M[1]-w[1])/m-1,S.bind();var F=S.uniforms;F.viewTransform=s,F.shape=this.shape;var _=S.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,C)}}}(),h.drawPick=function(){var s=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(S){var M=this.plot,C=this.pickShader,y=this.bounds,w=this.numVertices;if(!(w<=0)){var b=M.gl,i=M.dataBox,E=y[2]-y[0],m=y[3]-y[1],F=i[2]-i[0],_=i[3]-i[1];s[0]=2*E/F,s[4]=2*m/_,s[6]=2*(y[0]-i[0])/F-1,s[7]=2*(y[1]-i[1])/_-1;for(var B=0;B<4;++B)d[B]=S>>B*8&255;this.pickOffset=S,C.bind();var I=C.uniforms;I.viewTransform=s,I.pickOffset=d,I.shape=this.shape;var O=C.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,w),S+this.shape[0]*this.shape[1]}}}(),h.pick=function(s,d,S){var M=this.pickOffset,C=this.shape[0]*this.shape[1];if(S<M||S>=M+C)return null;var y=S-M,w=this.xData,b=this.yData;return{object:this,pointId:y,dataCoord:[w[y%this.shape[0]],b[y/this.shape[0]|0]]}},h.update=function(s){s=s||{};var d=s.shape||[0,0],S=s.x||u(d[0]),M=s.y||u(d[1]),C=s.z||new Float32Array(d[0]*d[1]),y=s.zsmooth!==!1;this.xData=S,this.yData=M;var w=s.colorLevels||[0],b=s.colorValues||[0,0,0,1],i=w.length,E=this.bounds,m,F,_,B;y?(m=E[0]=S[0],F=E[1]=M[0],_=E[2]=S[S.length-1],B=E[3]=M[M.length-1]):(m=E[0]=S[0]+(S[1]-S[0])/2,F=E[1]=M[0]+(M[1]-M[0])/2,_=E[2]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2,B=E[3]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2);var I=1/(_-m),O=1/(B-F),z=d[0],k=d[1];this.shape=[z,k];var N=(y?(z-1)*(k-1):z*k)*(T.length>>>1);this.numVertices=N;for(var K=o.mallocUint8(N*4),q=o.mallocFloat32(N*2),Q=o.mallocUint8(N*2),re=o.mallocUint32(N),oe=0,Y=y?z-1:z,G=y?k-1:k,V=0;V<G;++V){var Z,ae;y?(Z=O*(M[V]-F),ae=O*(M[V+1]-F)):(Z=V<k-1?O*(M[V]-(M[V+1]-M[V])/2-F):O*(M[V]-(M[V]-M[V-1])/2-F),ae=V<k-1?O*(M[V]+(M[V+1]-M[V])/2-F):O*(M[V]+(M[V]-M[V-1])/2-F));for(var ie=0;ie<Y;++ie){var J,$;y?(J=I*(S[ie]-m),$=I*(S[ie+1]-m)):(J=ie<z-1?I*(S[ie]-(S[ie+1]-S[ie])/2-m):I*(S[ie]-(S[ie]-S[ie-1])/2-m),$=ie<z-1?I*(S[ie]+(S[ie+1]-S[ie])/2-m):I*(S[ie]+(S[ie]-S[ie-1])/2-m));for(var se=0;se<T.length;se+=2){var ee=T[se],ue=T[se+1],ge=y?(V+ue)*z+(ie+ee):V*z+ie,Te=C[ge],xe=r.le(w,Te),Pe,Ie,Ae,be;if(xe<0)Pe=b[0],Ie=b[1],Ae=b[2],be=b[3];else if(xe===i-1)Pe=b[4*i-4],Ie=b[4*i-3],Ae=b[4*i-2],be=b[4*i-1];else{var _e=(Te-w[xe])/(w[xe+1]-w[xe]),Ve=1-_e,We=4*xe,ze=4*(xe+1);Pe=Ve*b[We]+_e*b[ze],Ie=Ve*b[We+1]+_e*b[ze+1],Ae=Ve*b[We+2]+_e*b[ze+2],be=Ve*b[We+3]+_e*b[ze+3]}K[4*oe]=255*Pe,K[4*oe+1]=255*Ie,K[4*oe+2]=255*Ae,K[4*oe+3]=255*be,q[2*oe]=J*.5+$*.5,q[2*oe+1]=Z*.5+ae*.5,Q[2*oe]=ee,Q[2*oe+1]=ue,re[oe]=V*z+ie,oe+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(Q),this.colorBuffer.update(K),this.idBuffer.update(re),o.free(q),o.free(K),o.free(Q),o.free(re)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function f(s,d){var S=s.gl,M=l(S,n.vertex,n.fragment),C=l(S,n.pickVertex,n.pickFragment),y=c(S),w=c(S),b=c(S),i=c(S),E=new x(s,M,C,y,w,b,i);return E.update(d),s.addObject(E),E}},1292:function(v,g,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,g,t){var r=t(6832),u=t(5158),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),n=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(x){return u(x,o,l,null,n)},g.createPickShader=function(x){return u(x,o,c,null,n)}},6086:function(v,g,t){v.exports=b;var r=t(5827),u=t(2944),o=t(8931),l=new Uint8Array(4),c=new Float32Array(l.buffer);function n(i,E,m,F){return l[0]=F,l[1]=m,l[2]=E,l[3]=i,c[0]}var x=t(5070),h=t(5050),T=t(248),f=T.createShader,s=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(i,E){for(var m=0,F=0;F<3;++F){var _=i[F]-E[F];m+=_*_}return Math.sqrt(m)}function M(i){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],m=0;m<3;++m)E[0][m]=Math.max(i[0][m],E[0][m]),E[1][m]=Math.min(i[1][m],E[1][m]);return E}function C(i,E,m,F){this.arcLength=i,this.position=E,this.index=m,this.dataCoordinate=F}function y(i,E,m,F,_,B){this.gl=i,this.shader=E,this.pickShader=m,this.buffer=F,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var w=y.prototype;w.isTransparent=function(){return this.hasAlpha},w.isOpaque=function(){return!this.hasAlpha},w.pickSlots=1,w.setPickBase=function(i){this.pickId=i},w.drawTransparent=w.draw=function(i){if(this.vertexCount){var E=this.gl,m=this.shader,F=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,clipBounds:M(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(E.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},w.drawPick=function(i){if(this.vertexCount){var E=this.gl,m=this.pickShader,F=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,pickId:this.pickId,clipBounds:M(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(E.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},w.update=function(i){var E,m;this.dirty=!0;var F=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],B=[],I=[],O=0,z=0,k=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=i.position||i.positions;if(N){var K=i.color||i.colors||[0,0,0,1],q=i.lineWidth||1,Q=!1;e:for(E=1;E<N.length;++E){var re=N[E-1],oe=N[E];for(B.push(O),I.push(re.slice()),m=0;m<3;++m){if(isNaN(re[m])||isNaN(oe[m])||!isFinite(re[m])||!isFinite(oe[m])){if(!F&&_.length>0){for(var Y=0;Y<24;++Y)_.push(_[_.length-12]);z+=2,Q=!0}continue e}k[0][m]=Math.min(k[0][m],re[m],oe[m]),k[1][m]=Math.max(k[1][m],re[m],oe[m])}var G,V;Array.isArray(K[0])?(G=K.length>E-1?K[E-1]:K.length>0?K[K.length-1]:[0,0,0,1],V=K.length>E?K[E]:K.length>0?K[K.length-1]:[0,0,0,1]):G=V=K,G.length===3&&(G=[G[0],G[1],G[2],1]),V.length===3&&(V=[V[0],V[1],V[2],1]),!this.hasAlpha&&G[3]<1&&(this.hasAlpha=!0);var Z;Array.isArray(q)?Z=q.length>E-1?q[E-1]:q.length>0?q[q.length-1]:[0,0,0,1]:Z=q;var ae=O;if(O+=S(re,oe),Q){for(m=0;m<2;++m)_.push(re[0],re[1],re[2],oe[0],oe[1],oe[2],ae,Z,G[0],G[1],G[2],G[3]);z+=2,Q=!1}_.push(re[0],re[1],re[2],oe[0],oe[1],oe[2],ae,Z,G[0],G[1],G[2],G[3],re[0],re[1],re[2],oe[0],oe[1],oe[2],ae,-Z,G[0],G[1],G[2],G[3],oe[0],oe[1],oe[2],re[0],re[1],re[2],O,-Z,V[0],V[1],V[2],V[3],oe[0],oe[1],oe[2],re[0],re[1],re[2],O,Z,V[0],V[1],V[2],V[3]),z+=4}}if(this.buffer.update(_),B.push(O),I.push(N[N.length-1].slice()),this.bounds=k,this.vertexCount=z,this.points=I,this.arcLength=B,"dashes"in i){var ie=i.dashes,J=ie.slice();for(J.unshift(0),E=1;E<J.length;++E)J[E]=J[E-1]+J[E];var $=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(m=0;m<4;++m)$.set(E,0,m,0);x.le(J,J[J.length-1]*E/255)&1?$.set(E,0,0,0):$.set(E,0,0,255)}this.texture.setPixels($)}},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},w.pick=function(i){if(!i||i.id!==this.pickId)return null;var E=n(i.value[0],i.value[1],i.value[2],0),m=x.le(this.arcLength,E);if(m<0)return null;if(m===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),m);for(var F=this.points[m],_=this.points[Math.min(m+1,this.points.length-1)],B=(E-this.arcLength[m])/(this.arcLength[m+1]-this.arcLength[m]),I=1-B,O=[0,0,0],z=0;z<3;++z)O[z]=I*F[z]+B*_[z];var k=Math.min(B<.5?m:m+1,this.points.length-1);return new C(E,O,k,this.points[k])};function b(i){var E=i.gl||i.scene&&i.scene.gl,m=f(E);m.attributes.position.location=0,m.attributes.nextPosition.location=1,m.attributes.arcLength.location=2,m.attributes.lineWidth.location=3,m.attributes.color.location=4;var F=s(E);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var _=r(E),B=u(E,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),I=h(new Array(256*4),[256,1,4]),O=0;O<1024;++O)I.data[O]=255;var z=o(E,I);z.wrap=E.REPEAT;var k=new y(E,m,F,_,B,z);return k.update(i),k}},7332:function(v){v.exports=g;function g(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=g;function g(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=g;function g(t){var r=t[0],u=t[1],o=t[2],l=t[3],c=t[4],n=t[5],x=t[6],h=t[7],T=t[8],f=t[9],s=t[10],d=t[11],S=t[12],M=t[13],C=t[14],y=t[15],w=r*n-u*c,b=r*x-o*c,i=r*h-l*c,E=u*x-o*n,m=u*h-l*n,F=o*h-l*x,_=T*M-f*S,B=T*C-s*S,I=T*y-d*S,O=f*C-s*M,z=f*y-d*M,k=s*y-d*C;return w*k-b*z+i*O+E*I-m*B+F*_}},5950:function(v){v.exports=g;function g(t,r){var u=r[0],o=r[1],l=r[2],c=r[3],n=u+u,x=o+o,h=l+l,T=u*n,f=o*n,s=o*x,d=l*n,S=l*x,M=l*h,C=c*n,y=c*x,w=c*h;return t[0]=1-s-M,t[1]=f+w,t[2]=d-y,t[3]=0,t[4]=f-w,t[5]=1-T-M,t[6]=S+C,t[7]=0,t[8]=d+y,t[9]=S-C,t[10]=1-T-s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=r[3],x=o+o,h=l+l,T=c+c,f=o*x,s=o*h,d=o*T,S=l*h,M=l*T,C=c*T,y=n*x,w=n*h,b=n*T;return t[0]=1-(S+C),t[1]=s+b,t[2]=d-w,t[3]=0,t[4]=s-b,t[5]=1-(f+C),t[6]=M+y,t[7]=0,t[8]=d+w,t[9]=M-y,t[10]=1-(f+S),t[11]=0,t[12]=u[0],t[13]=u[1],t[14]=u[2],t[15]=1,t}},9947:function(v){v.exports=g;function g(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=g;function g(t,r){var u=r[0],o=r[1],l=r[2],c=r[3],n=r[4],x=r[5],h=r[6],T=r[7],f=r[8],s=r[9],d=r[10],S=r[11],M=r[12],C=r[13],y=r[14],w=r[15],b=u*x-o*n,i=u*h-l*n,E=u*T-c*n,m=o*h-l*x,F=o*T-c*x,_=l*T-c*h,B=f*C-s*M,I=f*y-d*M,O=f*w-S*M,z=s*y-d*C,k=s*w-S*C,N=d*w-S*y,K=b*N-i*k+E*z+m*O-F*I+_*B;return K?(K=1/K,t[0]=(x*N-h*k+T*z)*K,t[1]=(l*k-o*N-c*z)*K,t[2]=(C*_-y*F+w*m)*K,t[3]=(d*F-s*_-S*m)*K,t[4]=(h*O-n*N-T*I)*K,t[5]=(u*N-l*O+c*I)*K,t[6]=(y*E-M*_-w*i)*K,t[7]=(f*_-d*E+S*i)*K,t[8]=(n*k-x*O+T*B)*K,t[9]=(o*O-u*k-c*B)*K,t[10]=(M*F-C*E+w*b)*K,t[11]=(s*E-f*F-S*b)*K,t[12]=(x*I-n*z-h*B)*K,t[13]=(u*z-o*I+l*B)*K,t[14]=(C*i-M*m-y*b)*K,t[15]=(f*m-s*i+d*b)*K,t):null}},3012:function(v,g,t){var r=t(9947);v.exports=u;function u(o,l,c,n){var x,h,T,f,s,d,S,M,C,y,w=l[0],b=l[1],i=l[2],E=n[0],m=n[1],F=n[2],_=c[0],B=c[1],I=c[2];return Math.abs(w-_)<1e-6&&Math.abs(b-B)<1e-6&&Math.abs(i-I)<1e-6?r(o):(S=w-_,M=b-B,C=i-I,y=1/Math.sqrt(S*S+M*M+C*C),S*=y,M*=y,C*=y,x=m*C-F*M,h=F*S-E*C,T=E*M-m*S,y=Math.sqrt(x*x+h*h+T*T),y?(y=1/y,x*=y,h*=y,T*=y):(x=0,h=0,T=0),f=M*T-C*h,s=C*x-S*T,d=S*h-M*x,y=Math.sqrt(f*f+s*s+d*d),y?(y=1/y,f*=y,s*=y,d*=y):(f=0,s=0,d=0),o[0]=x,o[1]=f,o[2]=S,o[3]=0,o[4]=h,o[5]=s,o[6]=M,o[7]=0,o[8]=T,o[9]=d,o[10]=C,o[11]=0,o[12]=-(x*w+h*b+T*i),o[13]=-(f*w+s*b+d*i),o[14]=-(S*w+M*b+C*i),o[15]=1,o)}},104:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=r[3],x=r[4],h=r[5],T=r[6],f=r[7],s=r[8],d=r[9],S=r[10],M=r[11],C=r[12],y=r[13],w=r[14],b=r[15],i=u[0],E=u[1],m=u[2],F=u[3];return t[0]=i*o+E*x+m*s+F*C,t[1]=i*l+E*h+m*d+F*y,t[2]=i*c+E*T+m*S+F*w,t[3]=i*n+E*f+m*M+F*b,i=u[4],E=u[5],m=u[6],F=u[7],t[4]=i*o+E*x+m*s+F*C,t[5]=i*l+E*h+m*d+F*y,t[6]=i*c+E*T+m*S+F*w,t[7]=i*n+E*f+m*M+F*b,i=u[8],E=u[9],m=u[10],F=u[11],t[8]=i*o+E*x+m*s+F*C,t[9]=i*l+E*h+m*d+F*y,t[10]=i*c+E*T+m*S+F*w,t[11]=i*n+E*f+m*M+F*b,i=u[12],E=u[13],m=u[14],F=u[15],t[12]=i*o+E*x+m*s+F*C,t[13]=i*l+E*h+m*d+F*y,t[14]=i*c+E*T+m*S+F*w,t[15]=i*n+E*f+m*M+F*b,t}},5268:function(v){v.exports=g;function g(t,r,u,o,l,c,n){var x=1/(r-u),h=1/(o-l),T=1/(c-n);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*T,t[11]=0,t[12]=(r+u)*x,t[13]=(l+o)*h,t[14]=(n+c)*T,t[15]=1,t}},1120:function(v){v.exports=g;function g(t,r,u,o,l){var c=1/Math.tan(r/2),n=1/(o-l);return t[0]=c/u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(l+o)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*l*o*n,t[15]=0,t}},4422:function(v){v.exports=g;function g(t,r,u,o){var l=o[0],c=o[1],n=o[2],x=Math.sqrt(l*l+c*c+n*n),h,T,f,s,d,S,M,C,y,w,b,i,E,m,F,_,B,I,O,z,k,N,K,q;return Math.abs(x)<1e-6?null:(x=1/x,l*=x,c*=x,n*=x,h=Math.sin(u),T=Math.cos(u),f=1-T,s=r[0],d=r[1],S=r[2],M=r[3],C=r[4],y=r[5],w=r[6],b=r[7],i=r[8],E=r[9],m=r[10],F=r[11],_=l*l*f+T,B=c*l*f+n*h,I=n*l*f-c*h,O=l*c*f-n*h,z=c*c*f+T,k=n*c*f+l*h,N=l*n*f+c*h,K=c*n*f-l*h,q=n*n*f+T,t[0]=s*_+C*B+i*I,t[1]=d*_+y*B+E*I,t[2]=S*_+w*B+m*I,t[3]=M*_+b*B+F*I,t[4]=s*O+C*z+i*k,t[5]=d*O+y*z+E*k,t[6]=S*O+w*z+m*k,t[7]=M*O+b*z+F*k,t[8]=s*N+C*K+i*q,t[9]=d*N+y*K+E*q,t[10]=S*N+w*K+m*q,t[11]=M*N+b*K+F*q,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=g;function g(t,r,u){var o=Math.sin(u),l=Math.cos(u),c=r[4],n=r[5],x=r[6],h=r[7],T=r[8],f=r[9],s=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=c*l+T*o,t[5]=n*l+f*o,t[6]=x*l+s*o,t[7]=h*l+d*o,t[8]=T*l-c*o,t[9]=f*l-n*o,t[10]=s*l-x*o,t[11]=d*l-h*o,t}},7115:function(v){v.exports=g;function g(t,r,u){var o=Math.sin(u),l=Math.cos(u),c=r[0],n=r[1],x=r[2],h=r[3],T=r[8],f=r[9],s=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*l-T*o,t[1]=n*l-f*o,t[2]=x*l-s*o,t[3]=h*l-d*o,t[8]=c*o+T*l,t[9]=n*o+f*l,t[10]=x*o+s*l,t[11]=h*o+d*l,t}},5240:function(v){v.exports=g;function g(t,r,u){var o=Math.sin(u),l=Math.cos(u),c=r[0],n=r[1],x=r[2],h=r[3],T=r[4],f=r[5],s=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*l+T*o,t[1]=n*l+f*o,t[2]=x*l+s*o,t[3]=h*l+d*o,t[4]=T*l-c*o,t[5]=f*l-n*o,t[6]=s*l-x*o,t[7]=d*l-h*o,t}},3668:function(v){v.exports=g;function g(t,r,u){var o=u[0],l=u[1],c=u[2];return t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t[3]=r[3]*o,t[4]=r[4]*l,t[5]=r[5]*l,t[6]=r[6]*l,t[7]=r[7]*l,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=r[11]*c,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=g;function g(t,r,u){var o=u[0],l=u[1],c=u[2],n,x,h,T,f,s,d,S,M,C,y,w;return r===t?(t[12]=r[0]*o+r[4]*l+r[8]*c+r[12],t[13]=r[1]*o+r[5]*l+r[9]*c+r[13],t[14]=r[2]*o+r[6]*l+r[10]*c+r[14],t[15]=r[3]*o+r[7]*l+r[11]*c+r[15]):(n=r[0],x=r[1],h=r[2],T=r[3],f=r[4],s=r[5],d=r[6],S=r[7],M=r[8],C=r[9],y=r[10],w=r[11],t[0]=n,t[1]=x,t[2]=h,t[3]=T,t[4]=f,t[5]=s,t[6]=d,t[7]=S,t[8]=M,t[9]=C,t[10]=y,t[11]=w,t[12]=n*o+f*l+M*c+r[12],t[13]=x*o+s*l+C*c+r[13],t[14]=h*o+d*l+y*c+r[14],t[15]=T*o+S*l+w*c+r[15]),t}},2142:function(v){v.exports=g;function g(t,r){if(t===r){var u=r[1],o=r[2],l=r[3],c=r[6],n=r[7],x=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=u,t[6]=r[9],t[7]=r[13],t[8]=o,t[9]=c,t[11]=r[14],t[12]=l,t[13]=n,t[14]=x}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,g,t){var r=t(957),u=t(7309);v.exports=x;function o(h,T){for(var f=[0,0,0,0],s=0;s<4;++s)for(var d=0;d<4;++d)f[d]+=h[4*s+d]*T[s];return f}function l(h,T,f,s,d){for(var S=o(s,o(f,o(T,[h[0],h[1],h[2],1]))),M=0;M<3;++M)S[M]/=S[3];return[.5*d[0]*(1+S[0]),.5*d[1]*(1-S[1])]}function c(h,T){if(h.length===2){for(var f=0,s=0,d=0;d<2;++d)f+=Math.pow(T[d]-h[0][d],2),s+=Math.pow(T[d]-h[1][d],2);return f=Math.sqrt(f),s=Math.sqrt(s),f+s<1e-6?[1,0]:[s/(f+s),f/(s+f)]}else if(h.length===3){var S=[0,0];return u(h[0],h[1],h[2],T,S),r(h,S)}return[]}function n(h,T){for(var f=[0,0,0],s=0;s<h.length;++s)for(var d=h[s],S=T[s],M=0;M<3;++M)f[M]+=S*d[M];return f}function x(h,T,f,s,d,S){if(h.length===1)return[0,h[0].slice()];for(var M=new Array(h.length),C=0;C<h.length;++C)M[C]=l(h[C],f,s,d,S);for(var y=0,w=1/0,C=0;C<M.length;++C){for(var b=0,i=0;i<2;++i)b+=Math.pow(M[C][i]-T[i],2);b<w&&(w=b,y=C)}for(var E=c(M,T),m=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;m+=E[C]}return Math.abs(m-1)>.001?null:[y,n(h,E),E]}},2056:function(v,g,t){var r=t(6832),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),o=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),n=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),x=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:u,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:n,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:f,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:s,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,g,t){var r=1e-6,u=1e-6,o=t(5158),l=t(5827),c=t(2944),n=t(8931),x=t(115),h=t(104),T=t(7437),f=t(5050),s=t(9156),d=t(7212),S=t(5306),M=t(2056),C=t(4340),y=M.meshShader,w=M.wireShader,b=M.pointShader,i=M.pickShader,E=M.pointPickShader,m=M.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Y,G,V,Z,ae,ie,J,$,se,ee,ue,ge,Te,xe,Pe,Ie,Ae,be,_e,Ve,We,ze,Ze,ct,lt,at,tt){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=G,this.dirty=!0,this.triShader=V,this.lineShader=Z,this.pointShader=ae,this.pickShader=ie,this.pointPickShader=J,this.contourShader=$,this.trianglePositions=se,this.triangleColors=ue,this.triangleNormals=Te,this.triangleUVs=ge,this.triangleIds=ee,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=Ae,this.edgeUVs=be,this.edgeIds=Ie,this.edgeVAO=_e,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=ze,this.pointUVs=Ze,this.pointSizes=ct,this.pointIds=We,this.pointVAO=lt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=at,this.contourVAO=tt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var B=_.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(Y){this.pickId=Y};function I(Y,G){if(!G||!G.length)return 1;for(var V=0;V<G.length;++V){if(G.length<2)return 1;if(G[V][0]===Y)return G[V][1];if(G[V][0]>Y&&V>0){var Z=(G[V][0]-Y)/(G[V][0]-G[V-1][0]);return G[V][1]*(1-Z)+Z*G[V-1][1]}}return 1}function O(Y,G){for(var V=s({colormap:Y,nshades:256,format:"rgba"}),Z=new Uint8Array(256*4),ae=0;ae<256;++ae){for(var ie=V[ae],J=0;J<3;++J)Z[4*ae+J]=ie[J];G?Z[4*ae+3]=255*I(ae/255,G):Z[4*ae+3]=255*ie[3]}return f(Z,[256,256,4],[4,0,1])}function z(Y){for(var G=Y.length,V=new Array(G),Z=0;Z<G;++Z)V[Z]=Y[Z][2];return V}B.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var G=d(this.cells,this.intensity,Y.intensity),V=G.cells,Z=G.vertexIds,ae=G.vertexWeights,ie=V.length,J=S.mallocFloat32(2*3*ie),$=0,se=0;se<ie;++se)for(var ee=V[se],ue=0;ue<2;++ue){var ge=ee[0];ee.length===2&&(ge=ee[ue]);for(var Te=Z[ge][0],xe=Z[ge][1],Pe=ae[ge],Ie=1-Pe,Ae=this.positions[Te],be=this.positions[xe],_e=0;_e<3;++_e)J[$++]=Pe*Ae[_e]+Ie*be[_e]}this.contourCount=$/3|0,this.contourPositions.update(J.subarray(0,$)),S.free(J)},B.update=function(Y){Y=Y||{};var G=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=n(G,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=G.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=G.LINEAR,this.texture.setPixels(O(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var V=Y.cells,Z=Y.positions;if(!Z||!V)return;var ae=[],ie=[],J=[],$=[],se=[],ee=[],ue=[],ge=[],Te=[],xe=[],Pe=[],Ie=[],Ae=[],be=[];this.cells=V,this.positions=Z;var _e=Y.vertexNormals,Ve=Y.cellNormals,We=Y.vertexNormalsEpsilon===void 0?r:Y.vertexNormalsEpsilon,ze=Y.faceNormalsEpsilon===void 0?u:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Ve&&(Ve=x.faceNormals(V,Z,ze)),!Ve&&!_e&&(_e=x.vertexNormals(V,Z,We));var Ze=Y.vertexColors,ct=Y.cellColors,lt=Y.meshColor||[1,1,1,1],at=Y.vertexUVs,tt=Y.vertexIntensity,dt=Y.cellUVs,wt=Y.cellIntensity,Mt=1/0,It=-1/0;if(!at&&!dt)if(tt)if(Y.vertexIntensityBounds)Mt=+Y.vertexIntensityBounds[0],It=+Y.vertexIntensityBounds[1];else for(var $e=0;$e<tt.length;++$e){var ke=tt[$e];Mt=Math.min(Mt,ke),It=Math.max(It,ke)}else if(wt)if(Y.cellIntensityBounds)Mt=+Y.cellIntensityBounds[0],It=+Y.cellIntensityBounds[1];else for(var $e=0;$e<wt.length;++$e){var ke=wt[$e];Mt=Math.min(Mt,ke),It=Math.max(It,ke)}else for(var $e=0;$e<Z.length;++$e){var ke=Z[$e][2];Mt=Math.min(Mt,ke),It=Math.max(It,ke)}tt?this.intensity=tt:wt?this.intensity=wt:this.intensity=z(Z),this.pickVertex=!(wt||ct);var Fe=Y.pointSizes,qe=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $e=0;$e<Z.length;++$e)for(var it=Z[$e],Je=0;Je<3;++Je)isNaN(it[Je])||!isFinite(it[Je])||(this.bounds[0][Je]=Math.min(this.bounds[0][Je],it[Je]),this.bounds[1][Je]=Math.max(this.bounds[1][Je],it[Je]));var Re=0,Me=0,fe=0;e:for(var $e=0;$e<V.length;++$e){var ye=V[$e];switch(ye.length){case 1:for(var Le=ye[0],it=Z[Le],Je=0;Je<3;++Je)if(isNaN(it[Je])||!isFinite(it[Je]))continue e;xe.push(it[0],it[1],it[2]);var Oe;Ze?Oe=Ze[Le]:ct?Oe=ct[$e]:Oe=lt,this.opacityscale&&tt?ie.push(Oe[0],Oe[1],Oe[2],this.opacity*I((tt[Le]-Mt)/(It-Mt),this.opacityscale)):Oe.length===3?Pe.push(Oe[0],Oe[1],Oe[2],this.opacity):(Pe.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var ht;at?ht=at[Le]:tt?ht=[(tt[Le]-Mt)/(It-Mt),0]:dt?ht=dt[$e]:wt?ht=[(wt[$e]-Mt)/(It-Mt),0]:ht=[(it[2]-Mt)/(It-Mt),0],Ie.push(ht[0],ht[1]),Fe?Ae.push(Fe[Le]):Ae.push(qe),be.push($e),fe+=1;break;case 2:for(var Je=0;Je<2;++Je)for(var Le=ye[Je],it=Z[Le],vt=0;vt<3;++vt)if(isNaN(it[vt])||!isFinite(it[vt]))continue e;for(var Je=0;Je<2;++Je){var Le=ye[Je],it=Z[Le];ee.push(it[0],it[1],it[2]);var Oe;Ze?Oe=Ze[Le]:ct?Oe=ct[$e]:Oe=lt,this.opacityscale&&tt?ie.push(Oe[0],Oe[1],Oe[2],this.opacity*I((tt[Le]-Mt)/(It-Mt),this.opacityscale)):Oe.length===3?ue.push(Oe[0],Oe[1],Oe[2],this.opacity):(ue.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var ht;at?ht=at[Le]:tt?ht=[(tt[Le]-Mt)/(It-Mt),0]:dt?ht=dt[$e]:wt?ht=[(wt[$e]-Mt)/(It-Mt),0]:ht=[(it[2]-Mt)/(It-Mt),0],ge.push(ht[0],ht[1]),Te.push($e)}Me+=1;break;case 3:for(var Je=0;Je<3;++Je)for(var Le=ye[Je],it=Z[Le],vt=0;vt<3;++vt)if(isNaN(it[vt])||!isFinite(it[vt]))continue e;for(var Je=0;Je<3;++Je){var Le=ye[2-Je],it=Z[Le];ae.push(it[0],it[1],it[2]);var Oe;Ze?Oe=Ze[Le]:ct?Oe=ct[$e]:Oe=lt,Oe?this.opacityscale&&tt?ie.push(Oe[0],Oe[1],Oe[2],this.opacity*I((tt[Le]-Mt)/(It-Mt),this.opacityscale)):Oe.length===3?ie.push(Oe[0],Oe[1],Oe[2],this.opacity):(ie.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0)):ie.push(.5,.5,.5,1);var ht;at?ht=at[Le]:tt?ht=[(tt[Le]-Mt)/(It-Mt),0]:dt?ht=dt[$e]:wt?ht=[(wt[$e]-Mt)/(It-Mt),0]:ht=[(it[2]-Mt)/(It-Mt),0],$.push(ht[0],ht[1]);var Lt;_e?Lt=_e[Le]:Lt=Ve[$e],J.push(Lt[0],Lt[1],Lt[2]),se.push($e)}Re+=1;break}}this.pointCount=fe,this.edgeCount=Me,this.triangleCount=Re,this.pointPositions.update(xe),this.pointColors.update(Pe),this.pointUVs.update(Ie),this.pointSizes.update(Ae),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ee),this.edgeColors.update(ue),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(Te)),this.trianglePositions.update(ae),this.triangleColors.update(ie),this.triangleUVs.update($),this.triangleNormals.update(J),this.triangleIds.update(new Uint32Array(se))},B.drawTransparent=B.draw=function(Y){Y=Y||{};for(var G=this.gl,V=Y.model||F,Z=Y.view||F,ae=Y.projection||F,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);var $={model:V,view:Z,projection:ae,inverseModel:F.slice(),clipBounds:ie,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=T($.inverseModel,$.model),G.disable(G.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,$.view,$.model),h(se,$.projection,se),T(se,se);for(var J=0;J<3;++J)$.eyePosition[J]=se[12+J]/se[15];for(var ee=se[15],J=0;J<3;++J)ee+=this.lightPosition[J]*se[4*J+3];for(var J=0;J<3;++J){for(var ue=se[12+J],ge=0;ge<3;++ge)ue+=se[4*ge+J]*this.lightPosition[ge];$.lightPosition[J]=ue/ee}if(this.triangleCount>0){var Te=this.triShader;Te.bind(),Te.uniforms=$,this.triangleVAO.bind(),G.drawArrays(G.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Te=this.lineShader;Te.bind(),Te.uniforms=$,this.edgeVAO.bind(),G.lineWidth(this.lineWidth*this.pixelRatio),G.drawArrays(G.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Te=this.pointShader;Te.bind(),Te.uniforms=$,this.pointVAO.bind(),G.drawArrays(G.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Te=this.contourShader;Te.bind(),Te.uniforms=$,this.contourVAO.bind(),G.drawArrays(G.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(Y){Y=Y||{};for(var G=this.gl,V=Y.model||F,Z=Y.view||F,ae=Y.projection||F,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ie[0][J]=Math.max(ie[0][J],this.clipBounds[0][J]),ie[1][J]=Math.min(ie[1][J],this.clipBounds[1][J]);this._model=[].slice.call(V),this._view=[].slice.call(Z),this._projection=[].slice.call(ae),this._resolution=[G.drawingBufferWidth,G.drawingBufferHeight];var $={model:V,view:Z,projection:ae,clipBounds:ie,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),G.drawArrays(G.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),G.lineWidth(this.lineWidth*this.pixelRatio),G.drawArrays(G.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=$,this.pointVAO.bind(),G.drawArrays(G.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var G=Y.value[0]+256*Y.value[1]+65536*Y.value[2],V=this.cells[G],Z=this.positions,ae=new Array(V.length),ie=0;ie<V.length;++ie)ae[ie]=Z[V[ie]];var J=Y.coord[0],$=Y.coord[1];if(!this.pickVertex){var se=this.positions[V[0]],ee=this.positions[V[1]],ue=this.positions[V[2]],ge=[(se[0]+ee[0]+ue[0])/3,(se[1]+ee[1]+ue[1])/3,(se[2]+ee[2]+ue[2])/3];return{_cellCenter:!0,position:[J,$],index:G,cell:V,cellId:G,intensity:this.intensity[G],dataCoordinate:ge}}var Te=C(ae,[J*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Te)return null;for(var xe=Te[2],Pe=0,ie=0;ie<V.length;++ie)Pe+=xe[ie]*this.intensity[V[ie]];return{position:Te[1],index:V[Te[0]],cell:V,cellId:G,intensity:Pe,dataCoordinate:this.positions[V[Te[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function k(Y){var G=o(Y,y.vertex,y.fragment);return G.attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G.attributes.normal.location=4,G}function N(Y){var G=o(Y,w.vertex,w.fragment);return G.attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G}function K(Y){var G=o(Y,b.vertex,b.fragment);return G.attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G.attributes.pointSize.location=4,G}function q(Y){var G=o(Y,i.vertex,i.fragment);return G.attributes.position.location=0,G.attributes.id.location=1,G}function Q(Y){var G=o(Y,E.vertex,E.fragment);return G.attributes.position.location=0,G.attributes.id.location=1,G.attributes.pointSize.location=4,G}function re(Y){var G=o(Y,m.vertex,m.fragment);return G.attributes.position.location=0,G}function oe(Y,G){arguments.length===1&&(G=Y,Y=G.gl);var V=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!V)throw new Error("derivatives not supported");var Z=k(Y),ae=N(Y),ie=K(Y),J=q(Y),$=Q(Y),se=re(Y),ee=n(Y,f(new Uint8Array([255,255,255,255]),[1,1,4]));ee.generateMipmap(),ee.minFilter=Y.LINEAR_MIPMAP_LINEAR,ee.magFilter=Y.LINEAR;var ue=l(Y),ge=l(Y),Te=l(Y),xe=l(Y),Pe=l(Y),Ie=c(Y,[{buffer:ue,type:Y.FLOAT,size:3},{buffer:Pe,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:Y.FLOAT,size:4},{buffer:Te,type:Y.FLOAT,size:2},{buffer:xe,type:Y.FLOAT,size:3}]),Ae=l(Y),be=l(Y),_e=l(Y),Ve=l(Y),We=c(Y,[{buffer:Ae,type:Y.FLOAT,size:3},{buffer:Ve,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:Y.FLOAT,size:4},{buffer:_e,type:Y.FLOAT,size:2}]),ze=l(Y),Ze=l(Y),ct=l(Y),lt=l(Y),at=l(Y),tt=c(Y,[{buffer:ze,type:Y.FLOAT,size:3},{buffer:at,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ze,type:Y.FLOAT,size:4},{buffer:ct,type:Y.FLOAT,size:2},{buffer:lt,type:Y.FLOAT,size:1}]),dt=l(Y),wt=c(Y,[{buffer:dt,type:Y.FLOAT,size:3}]),Mt=new _(Y,ee,Z,ae,ie,J,$,se,ue,Pe,ge,Te,xe,Ie,Ae,Ve,be,_e,We,ze,at,Ze,ct,lt,tt,dt,wt);return Mt.update(G),Mt}v.exports=oe},4554:function(v,g,t){v.exports=n;var r=t(5827),u=t(5158),o=t(2709);function l(x,h,T){this.plot=x,this.vbo=h,this.shader=T}var c=l.prototype;c.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var x=[0,0],h=[0,0];return function(T,f,s,d,S){var M=this.plot,C=this.shader,y=M.gl;x[0]=T,x[1]=f,h[0]=s,h[1]=d,C.uniforms.lo=x,C.uniforms.hi=h,C.uniforms.color=S,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function n(x){var h=x.gl,T=r(h,[0,0,0,1,1,0,1,1]),f=u(h,o.boxVert,o.lineFrag);return new l(x,T,f)}},3016:function(v,g,t){v.exports=h;var r=t(5827),u=t(5158),o=t(5070),l=t(2709);function c(T,f,s,d){this.plot=T,this.vbo=f,this.shader=s,this.tickShader=d,this.ticks=[[],[]]}function n(T,f){return T-f}var x=c.prototype;x.draw=function(){var T=[0,0],f=[0,0],s=[0,0];return function(){for(var d=this.plot,S=this.vbo,M=this.shader,C=this.ticks,y=d.gl,w=d._tickBounds,b=d.dataBox,i=d.viewBox,E=d.gridLineWidth,m=d.gridLineColor,F=d.gridLineEnable,_=d.pixelRatio,B=0;B<2;++B){var I=w[B],O=w[B+2],z=O-I,k=.5*(b[B+2]+b[B]),N=b[B+2]-b[B];f[B]=2*z/N,T[B]=2*(I-k)/N}M.bind(),S.bind(),M.attributes.dataCoord.pointer(),M.uniforms.dataShift=T,M.uniforms.dataScale=f;for(var K=0,B=0;B<2;++B){s[0]=s[1]=0,s[B]=1,M.uniforms.dataAxis=s,M.uniforms.lineWidth=E[B]/(i[B+2]-i[B])*_,M.uniforms.color=m[B];var q=C[B].length*6;F[B]&&q&&y.drawArrays(y.TRIANGLES,K,q),K+=q}}}(),x.drawTickMarks=function(){var T=[0,0],f=[0,0],s=[1,0],d=[0,1],S=[0,0],M=[0,0];return function(){for(var C=this.plot,y=this.vbo,w=this.tickShader,b=this.ticks,i=C.gl,E=C._tickBounds,m=C.dataBox,F=C.viewBox,_=C.pixelRatio,B=C.screenBox,I=B[2]-B[0],O=B[3]-B[1],z=F[2]-F[0],k=F[3]-F[1],N=0;N<2;++N){var K=E[N],q=E[N+2],Q=q-K,re=.5*(m[N+2]+m[N]),oe=m[N+2]-m[N];f[N]=2*Q/oe,T[N]=2*(K-re)/oe}f[0]*=z/I,T[0]*=z/I,f[1]*=k/O,T[1]*=k/O,w.bind(),y.bind(),w.attributes.dataCoord.pointer();var Y=w.uniforms;Y.dataShift=T,Y.dataScale=f;var G=C.tickMarkLength,V=C.tickMarkWidth,Z=C.tickMarkColor,ae=0,ie=b[0].length*6,J=Math.min(o.ge(b[0],(m[0]-E[0])/(E[2]-E[0]),n),b[0].length),$=Math.min(o.gt(b[0],(m[2]-E[0])/(E[2]-E[0]),n),b[0].length),se=ae+6*J,ee=6*Math.max(0,$-J),ue=Math.min(o.ge(b[1],(m[1]-E[1])/(E[3]-E[1]),n),b[1].length),ge=Math.min(o.gt(b[1],(m[3]-E[1])/(E[3]-E[1]),n),b[1].length),Te=ie+6*ue,xe=6*Math.max(0,ge-ue);S[0]=2*(F[0]-G[1])/I-1,S[1]=(F[3]+F[1])/O-1,M[0]=G[1]*_/I,M[1]=V[1]*_/O,xe&&(Y.color=Z[1],Y.tickScale=M,Y.dataAxis=d,Y.screenOffset=S,i.drawArrays(i.TRIANGLES,Te,xe)),S[0]=(F[2]+F[0])/I-1,S[1]=2*(F[1]-G[0])/O-1,M[0]=V[0]*_/I,M[1]=G[0]*_/O,ee&&(Y.color=Z[0],Y.tickScale=M,Y.dataAxis=s,Y.screenOffset=S,i.drawArrays(i.TRIANGLES,se,ee)),S[0]=2*(F[2]+G[3])/I-1,S[1]=(F[3]+F[1])/O-1,M[0]=G[3]*_/I,M[1]=V[3]*_/O,xe&&(Y.color=Z[3],Y.tickScale=M,Y.dataAxis=d,Y.screenOffset=S,i.drawArrays(i.TRIANGLES,Te,xe)),S[0]=(F[2]+F[0])/I-1,S[1]=2*(F[3]+G[2])/O-1,M[0]=V[2]*_/I,M[1]=G[2]*_/O,ee&&(Y.color=Z[2],Y.tickScale=M,Y.dataAxis=s,Y.screenOffset=S,i.drawArrays(i.TRIANGLES,se,ee))}}(),x.update=function(){var T=[1,1,-1,-1,1,-1],f=[1,-1,1,1,-1,-1];return function(s){var d=s.ticks,S=s.bounds,M=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,y=[[],[]],w=0;w<2;++w)for(var b=y[w],i=d[w],E=S[w],m=S[w+2],F=0;F<i.length;++F){var _=(i[F].x-E)/(m-E);b.push(_);for(var B=0;B<6;++B)M[C++]=_,M[C++]=T[B],M[C++]=f[B]}this.ticks=y,this.vbo.update(M)}}(),x.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var f=T.gl,s=r(f),d=u(f,l.gridVert,l.gridFrag),S=u(f,l.tickVert,l.gridFrag),M=new c(T,s,d,S);return M}},1154:function(v,g,t){v.exports=n;var r=t(5827),u=t(5158),o=t(2709);function l(x,h,T){this.plot=x,this.vbo=h,this.shader=T}var c=l.prototype;c.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var x=[0,0],h=[0,0];return function(T,f,s,d,S,M){var C=this.plot,y=this.shader,w=C.gl;x[0]=T,x[1]=f,h[0]=s,h[1]=d,y.uniforms.start=x,y.uniforms.end=h,y.uniforms.width=S*C.pixelRatio,y.uniforms.color=M,w.drawArrays(w.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function n(x){var h=x.gl,T=r(h,[-1,-1,-1,1,1,-1,1,1]),f=u(h,o.lineVert,o.lineFrag),s=new l(x,T,f);return s}},2709:function(v,g,t){var r=t(6832),u=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:u,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:u,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:u,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,g,t){v.exports=h;var r=t(5827),u=t(5158),o=t(6946),l=t(5070),c=t(2709);function n(T,f,s){this.plot=T,this.vbo=f,this.shader=s,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var x=n.prototype;x.drawTicks=function(){var T=[0,0],f=[0,0],s=[0,0];return function(d){var S=this.plot,M=this.shader,C=this.tickX[d],y=this.tickOffset[d],w=S.gl,b=S.viewBox,i=S.dataBox,E=S.screenBox,m=S.pixelRatio,F=S.tickEnable,_=S.tickPad,B=S.tickColor,I=S.tickAngle,O=S.labelEnable,z=S.labelPad,k=S.labelColor,N=S.labelAngle,K=this.labelOffset[d],q=this.labelCount[d],Q=l.lt(C,i[d]),re=l.le(C,i[d+2]);T[0]=T[1]=0,T[d]=1,f[d]=(b[2+d]+b[d])/(E[2+d]-E[d])-1;var oe=2/E[2+(d^1)]-E[d^1];f[d^1]=oe*b[d^1]-1,F[d]&&(f[d^1]-=oe*m*_[d],Q<re&&y[re]>y[Q]&&(M.uniforms.dataAxis=T,M.uniforms.screenOffset=f,M.uniforms.color=B[d],M.uniforms.angle=I[d],w.drawArrays(w.TRIANGLES,y[Q],y[re]-y[Q]))),O[d]&&q&&(f[d^1]-=oe*m*z[d],M.uniforms.dataAxis=s,M.uniforms.screenOffset=f,M.uniforms.color=k[d],M.uniforms.angle=N[d],w.drawArrays(w.TRIANGLES,K,q)),f[d^1]=oe*b[2+(d^1)]-1,F[d+2]&&(f[d^1]+=oe*m*_[d+2],Q<re&&y[re]>y[Q]&&(M.uniforms.dataAxis=T,M.uniforms.screenOffset=f,M.uniforms.color=B[d+2],M.uniforms.angle=I[d+2],w.drawArrays(w.TRIANGLES,y[Q],y[re]-y[Q]))),O[d+2]&&q&&(f[d^1]+=oe*m*z[d+2],M.uniforms.dataAxis=s,M.uniforms.screenOffset=f,M.uniforms.color=k[d+2],M.uniforms.angle=N[d+2],w.drawArrays(w.TRIANGLES,K,q))}}(),x.drawTitle=function(){var T=[0,0],f=[0,0];return function(){var s=this.plot,d=this.shader,S=s.gl,M=s.screenBox,C=s.titleCenter,y=s.titleAngle,w=s.titleColor,b=s.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)f[i]=2*(C[i]*b-M[i])/(M[2+i]-M[i])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=f,d.uniforms.angle=y,d.uniforms.color=w,S.drawArrays(S.TRIANGLES,this.titleOffset,this.titleCount)}}}(),x.bind=function(){var T=[0,0],f=[0,0],s=[0,0];return function(){var d=this.plot,S=this.shader,M=d._tickBounds,C=d.dataBox,y=d.screenBox,w=d.viewBox;S.bind();for(var b=0;b<2;++b){var i=M[b],E=M[b+2],m=E-i,F=.5*(C[b+2]+C[b]),_=C[b+2]-C[b],B=w[b],I=w[b+2],O=I-B,z=y[b],k=y[b+2],N=k-z;f[b]=2*m/_*O/N,T[b]=2*(i-F)/_*O/N}s[1]=2*d.pixelRatio/(y[3]-y[1]),s[0]=s[1]*(y[3]-y[1])/(y[2]-y[0]),S.uniforms.dataScale=f,S.uniforms.dataShift=T,S.uniforms.textScale=s,this.vbo.bind(),S.attributes.textCoordinate.pointer()}}(),x.update=function(T){var f=[],s=T.ticks,d=T.bounds,S,M,C,y,w;for(w=0;w<2;++w){var b=[Math.floor(f.length/3)],i=[-1/0],E=s[w];for(S=0;S<E.length;++S){var m=E[S],F=m.x,_=m.text,B=m.font||"sans-serif";y=m.fontSize||12;for(var I=1/(d[w+2]-d[w]),O=d[w],z=_.split(`
`),k=0;k<z.length;k++)for(C=o(B,z[k]).data,M=0;M<C.length;M+=2)f.push(C[M]*y,-C[M+1]*y-k*y*1.2,(F-O)*I);b.push(Math.floor(f.length/3)),i.push(F)}this.tickOffset[w]=b,this.tickX[w]=i}for(w=0;w<2;++w){for(this.labelOffset[w]=Math.floor(f.length/3),C=o(T.labelFont[w],T.labels[w],{textAlign:"center"}).data,y=T.labelSize[w],S=0;S<C.length;S+=2)f.push(C[S]*y,-C[S+1]*y,0);this.labelCount[w]=Math.floor(f.length/3)-this.labelOffset[w]}for(this.titleOffset=Math.floor(f.length/3),C=o(T.titleFont,T.title).data,y=T.titleSize,S=0;S<C.length;S+=2)f.push(C[S]*y,-C[S+1]*y,0);this.titleCount=Math.floor(f.length/3)-this.titleOffset,this.vbo.update(f)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var f=T.gl,s=r(f),d=u(f,c.textVert,c.textFrag),S=new n(T,s,d);return S}},2117:function(v,g,t){v.exports=f;var r=t(2611),u=t(3016),o=t(5613),l=t(1154),c=t(4554);function n(s,d){this.gl=s,this.pickBuffer=d,this.screenBox=[0,0,s.drawingBufferWidth,s.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var x=n.prototype;x.setDirty=function(){this.dirty=this.pickDirty=!0},x.setOverlayDirty=function(){this.dirty=!0},x.nextDepthValue=function(){return this._depthCounter++/65536},x.draw=function(){return function(){var s=this.gl,d=this.screenBox,S=this.viewBox,M=this.dataBox,C=this.pixelRatio,y=this.grid,w=this.line,b=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,s.bindFramebuffer(s.FRAMEBUFFER,null),s.enable(s.SCISSOR_TEST),s.disable(s.DEPTH_TEST),s.depthFunc(s.LESS),s.depthMask(!1),s.enable(s.BLEND),s.blendEquation(s.FUNC_ADD,s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.borderColor){s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;s.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)}s.scissor(S[0],S[1],S[2]-S[0],S[3]-S[1]),s.viewport(S[0],S[1],S[2]-S[0],S[3]-S[1]);var m=this.backgroundColor;s.clearColor(m[0]*m[3],m[1]*m[3],m[2]*m[3],m[3]),s.clear(s.COLOR_BUFFER_BIT),y.draw();var F=this.zeroLineEnable,_=this.zeroLineColor,B=this.zeroLineWidth;if(F[0]||F[1]){w.bind();for(var I=0;I<2;++I)if(!(!F[I]||!(M[I]<=0&&M[I+2]>=0))){var O=d[I]-M[I]*(d[I+2]-d[I])/(M[I+2]-M[I]);I===0?w.drawLine(O,d[1],O,d[3],B[I],_[I]):w.drawLine(d[0],O,d[2],O,B[I],_[I])}}for(var I=0;I<i.length;++I)i[I].draw();s.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),w.bind();var z=this.borderLineEnable,k=this.borderLineWidth,N=this.borderLineColor;z[1]&&w.drawLine(S[0],S[1]-.5*k[1]*C,S[0],S[3]+.5*k[3]*C,k[1],N[1]),z[0]&&w.drawLine(S[0]-.5*k[0]*C,S[1],S[2]+.5*k[2]*C,S[1],k[0],N[0]),z[3]&&w.drawLine(S[2],S[1]-.5*k[1]*C,S[2],S[3]+.5*k[3]*C,k[3],N[3]),z[2]&&w.drawLine(S[0]-.5*k[0]*C,S[3],S[2]+.5*k[2]*C,S[3],k[2],N[2]),b.bind();for(var I=0;I<2;++I)b.drawTicks(I);this.titleEnable&&b.drawTitle();for(var K=this.overlays,I=0;I<K.length;++I)K[I].draw();s.disable(s.SCISSOR_TEST),s.disable(s.BLEND),s.depthMask(!0)}}}(),x.drawPick=function(){return function(){if(!this.static){var s=this.pickBuffer;this.gl,this._pickTimeout=null,s.begin();for(var d=1,S=this.objects,M=0;M<S.length;++M)d=S[M].drawPick(d);s.end()}}}(),x.pick=function(){return function(s,d){if(!this.static){var S=this.pixelRatio,M=this.pickPixelRatio,C=this.viewBox,y=Math.round((s-C[0]/S)*M)|0,w=Math.round((d-C[1]/S)*M)|0,b=this.pickBuffer.query(y,w,this.pickRadius);if(!b)return null;for(var i=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),E=this.objects,m=0;m<E.length;++m){var F=E[m].pick(y,w,i);if(F)return F}return null}}}();function h(s){for(var d=s.slice(),S=0;S<d.length;++S)d[S]=d[S].slice();return d}function T(s,d){return s.x-d.x}x.setScreenBox=function(s){var d=this.screenBox,S=this.pixelRatio;d[0]=Math.round(s[0]*S)|0,d[1]=Math.round(s[1]*S)|0,d[2]=Math.round(s[2]*S)|0,d[3]=Math.round(s[3]*S)|0,this.setDirty()},x.setDataBox=function(s){var d=this.dataBox,S=d[0]!==s[0]||d[1]!==s[1]||d[2]!==s[2]||d[3]!==s[3];S&&(d[0]=s[0],d[1]=s[1],d[2]=s[2],d[3]=s[3],this.setDirty())},x.setViewBox=function(s){var d=this.pixelRatio,S=this.viewBox;S[0]=Math.round(s[0]*d)|0,S[1]=Math.round(s[1]*d)|0,S[2]=Math.round(s[2]*d)|0,S[3]=Math.round(s[3]*d)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((s[2]-s[0])*M)|0,Math.round((s[3]-s[1])*M)|0],this.setDirty()},x.update=function(s){s=s||{};var d=this.gl;this.pixelRatio=s.pixelRatio||1;var S=this.pixelRatio;this.pickPixelRatio=Math.max(S,1),this.setScreenBox(s.screenBox||[0,0,d.drawingBufferWidth/S,d.drawingBufferHeight/S]),this.screenBox,this.setViewBox(s.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/S,.125*(this.screenBox[3]-this.screenBox[1])/S,.875*(this.screenBox[2]-this.screenBox[0])/S,.875*(this.screenBox[3]-this.screenBox[1])/S]);var M=this.viewBox,C=(M[2]-M[0])/(M[3]-M[1]);this.setDataBox(s.dataBox||[-10,-10/C,10,10/C]),this.borderColor=s.borderColor!==!1?(s.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(s.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(s.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(s.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(s.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(s.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(s.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(s.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(s.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(s.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(s.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(s.titleCenter||[.5*(M[0]+M[2])/S,(M[3]+120)/S]).slice(),this.titleEnable=!("titleEnable"in s)||!!s.titleEnable,this.titleAngle=s.titleAngle||0,this.titleColor=(s.titleColor||[0,0,0,1]).slice(),this.labelPad=(s.labelPad||[15,15,15,15]).slice(),this.labelAngle=(s.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(s.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(s.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(s.tickPad||[15,15,15,15]).slice(),this.tickAngle=(s.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(s.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(s.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(s.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(s.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(s.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=s.ticks||[[],[]],w=this._tickBounds;w[0]=w[1]=1/0,w[2]=w[3]=-1/0;for(var b=0;b<2;++b){var i=y[b].slice(0);i.length!==0&&(i.sort(T),w[b]=Math.min(w[b],i[0].x),w[b+2]=Math.max(w[b+2],i[i.length-1].x))}this.grid.update({bounds:w,ticks:y}),this.text.update({bounds:w,ticks:y,labels:s.labels||["x","y"],labelSize:s.labelSize||[12,12],labelFont:s.labelFont||["sans-serif","sans-serif"],title:s.title||"",titleSize:s.titleSize||18,titleFont:s.titleFont||"sans-serif"}),this.static=!!s.static,this.setDirty()},x.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var s=this.objects.length-1;s>=0;--s)this.objects[s].dispose();this.objects.length=0;for(var s=this.overlays.length-1;s>=0;--s)this.overlays[s].dispose();this.overlays.length=0,this.gl=null},x.addObject=function(s){this.objects.indexOf(s)<0&&(this.objects.push(s),this.setDirty())},x.removeObject=function(s){for(var d=this.objects,S=0;S<d.length;++S)if(d[S]===s){d.splice(S,1),this.setDirty();break}},x.addOverlay=function(s){this.overlays.indexOf(s)<0&&(this.overlays.push(s),this.setOverlayDirty())},x.removeOverlay=function(s){for(var d=this.overlays,S=0;S<d.length;++S)if(d[S]===s){d.splice(S,1),this.setOverlayDirty();break}};function f(s){var d=s.gl,S=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),M=new n(d,S);return M.grid=u(M),M.text=o(M),M.line=l(M),M.box=c(M),M.update(s),M}},4296:function(v,g,t){v.exports=x;var r=t(8161),u=t(1152),o=t(6145),l=t(6475),c=t(2565),n=t(5233);function x(h,T){h=h||document.body,T=T||{};var f=[.01,1/0];"distanceLimits"in T&&(f[0]=T.distanceLimits[0],f[1]=T.distanceLimits[1]),"zoomMin"in T&&(f[0]=T.zoomMin),"zoomMax"in T&&(f[1]=T.zoomMax);var s=u({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:f}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,M=h.clientWidth,C=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:s,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:s.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var w=r(),b=this.delay,i=w-2*b;s.idle(w-b),s.recalcMatrix(i),s.flush(w-(100+b*2));for(var E=!0,m=s.computedMatrix,F=0;F<16;++F)E=E&&d[F]===m[F],d[F]=m[F];var _=h.clientWidth===M&&h.clientHeight===C;return M=h.clientWidth,C=h.clientHeight,E?!_:(S=Math.exp(s.computedRadius[0]),!0)},lookAt:function(w,b,i){s.lookAt(s.lastT(),w,b,i)},rotate:function(w,b,i){s.rotate(s.lastT(),w,b,i)},pan:function(w,b,i){s.pan(s.lastT(),w,b,i)},translate:function(w,b,i){s.translate(s.lastT(),w,b,i)}};return Object.defineProperties(y,{matrix:{get:function(){return s.computedMatrix},set:function(w){return s.setMatrix(s.lastT(),w),s.computedMatrix},enumerable:!0},mode:{get:function(){return s.getMode()},set:function(w){var b=s.computedUp.slice(),i=s.computedEye.slice(),E=s.computedCenter.slice();if(s.setMode(w),w==="turntable"){var m=r();s._active.lookAt(m,i,E,b),s._active.lookAt(m+500,i,E,[0,0,1]),s._active.flush(m)}return s.getMode()},enumerable:!0},center:{get:function(){return s.computedCenter},set:function(w){return s.lookAt(s.lastT(),null,w),s.computedCenter},enumerable:!0},eye:{get:function(){return s.computedEye},set:function(w){return s.lookAt(s.lastT(),w),s.computedEye},enumerable:!0},up:{get:function(){return s.computedUp},set:function(w){return s.lookAt(s.lastT(),null,null,w),s.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(w){return s.setDistance(s.lastT(),w),w},enumerable:!0},distanceLimits:{get:function(){return s.getDistanceLimits(f)},set:function(w){return s.setDistanceLimits(w),w},enumerable:!0}}),h.addEventListener("contextmenu",function(w){return w.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=o(h,w),h.addEventListener("touchstart",function(b){var i=c(b.changedTouches[0],h);w(0,i[0],i[1],y._lastMods),w(1,i[0],i[1],y._lastMods)},n?{passive:!0}:!1),h.addEventListener("touchmove",function(b){var i=c(b.changedTouches[0],h);w(1,i[0],i[1],y._lastMods),b.preventDefault()},n?{passive:!1}:!1),h.addEventListener("touchend",function(b){w(0,y._lastX,y._lastY,y._lastMods)},n?{passive:!0}:!1);function w(b,i,E,m){var F=y.keyBindingMode;if(F!==!1){var _=F==="rotate",B=F==="pan",I=F==="zoom",O=!!m.control,z=!!m.alt,k=!!m.shift,N=!!(b&1),K=!!(b&2),q=!!(b&4),Q=1/h.clientHeight,re=Q*(i-y._lastX),oe=Q*(E-y._lastY),Y=y.flipX?1:-1,G=y.flipY?1:-1,V=Math.PI*y.rotateSpeed,Z=r();if(y._lastX!==-1&&y._lastY!==-1&&((_&&N&&!O&&!z&&!k||N&&!O&&!z&&k)&&s.rotate(Z,Y*V*re,-G*V*oe,0),(B&&N&&!O&&!z&&!k||K||N&&O&&!z&&!k)&&s.pan(Z,-y.translateSpeed*re*S,y.translateSpeed*oe*S,0),I&&N&&!O&&!z&&!k||q||N&&!O&&z&&!k)){var ae=-y.zoomSpeed*oe/window.innerHeight*(Z-s.lastT())*100;s.pan(Z,0,0,S*(Math.exp(ae)-1))}return y._lastX=i,y._lastY=E,y._lastMods=m,!0}}y.wheelListener=l(h,function(b,i){if(y.keyBindingMode!==!1&&y.enableWheel){var E=y.flipX?1:-1,m=y.flipY?1:-1,F=r();if(Math.abs(b)>Math.abs(i))s.rotate(F,0,0,-b*E*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var _=-y.zoomSpeed*m*i/window.innerHeight*(F-s.lastT())/20;s.pan(F,0,0,S*(Math.exp(_)-1))}}},!0)},y.enableMouseListeners(),y}},8245:function(v,g,t){var r=t(6832),u=t(5158),o=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(c){return u(c,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(v,g,t){var r=t(4296),u=t(7453),o=t(2771),l=t(6496),c=t(2611),n=t(4234),x=t(8126),h=t(6145),T=t(1120),f=t(5268),s=t(8245),d=t(2861)({tablet:!0,featureDetect:!0});v.exports={createScene:w,createCamera:r};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function M(i,E){var m=null;try{m=i.getContext("webgl",E),m||(m=i.getContext("experimental-webgl",E))}catch{return null}return m}function C(i){var E=Math.round(Math.log(Math.abs(i))/Math.log(10));if(E<0){var m=Math.round(Math.pow(10,-E));return Math.ceil(i*m)/m}else if(E>0){var m=Math.round(Math.pow(10,E));return Math.ceil(i/m)*m}return Math.ceil(i)}function y(i){return typeof i=="boolean"?i:!0}function w(i){i=i||{},i.camera=i.camera||{};var E=i.canvas;if(!E)if(E=document.createElement("canvas"),i.container){var m=i.container;m.appendChild(E)}else document.body.appendChild(E);var F=i.gl;if(F||(i.glOptions&&(d=!!i.glOptions.preserveDrawingBuffer),F=M(E,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!F)throw new Error("webgl not supported");var _=i.bounds||[[-10,-10,-10],[10,10,10]],B=new S,I=n(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!d}),O=s(F),z=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,k={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:z},N=i.axes||{},K=u(F,N);K.enable=!N.disable;var q=i.spikes||{},Q=l(F,q),re=[],oe=[],Y=[],G=[],V=!0,J=!0,Z=new Array(16),ae=new Array(16),ie={view:null,projection:Z,model:ae,_ortho:!1},J=!0,$=[F.drawingBufferWidth,F.drawingBufferHeight],se=i.cameraObject||r(E,k),ee={gl:F,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:E,selection:B,camera:se,axes:K,axesPixels:null,spikes:Q,bounds:_,objects:re,shape:$,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:y(i.autoResize),autoBounds:y(i.autoBounds),autoScale:!!i.autoScale,autoCenter:y(i.autoCenter),clipToBounds:y(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:ie,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,J=!0},setBounds:function(Ve,We){this.bounds[0][Ve]=We.min,this.bounds[1][Ve]=We.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ue=[F.drawingBufferWidth/ee.pixelRatio|0,F.drawingBufferHeight/ee.pixelRatio|0];function ge(){if(!ee._stopped&&ee.autoResize){var Ve=E.parentNode,We=1,ze=1;Ve&&Ve!==document.body?(We=Ve.clientWidth,ze=Ve.clientHeight):(We=window.innerWidth,ze=window.innerHeight);var Ze=Math.ceil(We*ee.pixelRatio)|0,ct=Math.ceil(ze*ee.pixelRatio)|0;if(Ze!==E.width||ct!==E.height){E.width=Ze,E.height=ct;var lt=E.style;lt.position=lt.position||"absolute",lt.left="0px",lt.top="0px",lt.width=We+"px",lt.height=ze+"px",V=!0}}}ee.autoResize&&ge(),window.addEventListener("resize",ge);function Te(){for(var Ve=re.length,We=G.length,ze=0;ze<We;++ze)Y[ze]=0;e:for(var ze=0;ze<Ve;++ze){var Ze=re[ze],ct=Ze.pickSlots;if(!ct){oe[ze]=-1;continue}for(var lt=0;lt<We;++lt)if(Y[lt]+ct<255){oe[ze]=lt,Ze.setPickBase(Y[lt]+1),Y[lt]+=ct;continue e}var at=c(F,$);oe[ze]=We,G.push(at),Y.push(ct),Ze.setPickBase(1),We+=1}for(;We>0&&Y[We-1]===0;)Y.pop(),G.pop().dispose()}ee.update=function(Ve){ee._stopped||(V=!0,J=!0)},ee.add=function(Ve){ee._stopped||(Ve.axes=K,re.push(Ve),oe.push(-1),V=!0,J=!0,Te())},ee.remove=function(Ve){if(!ee._stopped){var We=re.indexOf(Ve);We<0||(re.splice(We,1),oe.pop(),V=!0,J=!0,Te())}},ee.dispose=function(){if(!ee._stopped&&(ee._stopped=!0,window.removeEventListener("resize",ge),E.removeEventListener("webglcontextlost",xe),ee.mouseListener.enabled=!1,!ee.contextLost)){K.dispose(),Q.dispose();for(var Ve=0;Ve<re.length;++Ve)re[Ve].dispose();I.dispose();for(var Ve=0;Ve<G.length;++Ve)G[Ve].dispose();O.dispose(),F=null,K=null,Q=null,re=[]}},ee._mouseRotating=!1,ee._prevButtons=0,ee.enableMouseListeners=function(){ee.mouseListener=h(E,function(Ve,We,ze){if(!ee._stopped){var Ze=G.length,ct=re.length,lt=B.object;B.distance=1/0,B.mouse[0]=We,B.mouse[1]=ze,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var at=!1;if(Ve&&ee._prevButtons)ee._mouseRotating=!0;else{ee._mouseRotating&&(J=!0),ee._mouseRotating=!1;for(var tt=0;tt<Ze;++tt){var dt=G[tt].query(We,ue[1]-ze-1,ee.pickRadius);if(dt){if(dt.distance>B.distance)continue;for(var wt=0;wt<ct;++wt){var Mt=re[wt];if(oe[wt]===tt){var It=Mt.pick(dt);It&&(B.buttons=Ve,B.screen=dt.coord,B.distance=dt.distance,B.object=Mt,B.index=It.distance,B.dataPosition=It.position,B.dataCoordinate=It.dataCoordinate,B.data=It,at=!0)}}}}}lt&&lt!==B.object&&(lt.highlight&&lt.highlight(null),V=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),V=!0),at=at||B.object!==lt,at&&ee.onselect&&ee.onselect(B),Ve&1&&!(ee._prevButtons&1)&&ee.onclick&&ee.onclick(B),ee._prevButtons=Ve}})};function xe(){if(ee.contextLost)return!0;F.isContextLost()&&(ee.contextLost=!0,ee.mouseListener.enabled=!1,ee.selection.object=null,ee.oncontextloss&&ee.oncontextloss())}E.addEventListener("webglcontextlost",xe);function Pe(){if(!xe()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var Ve=re.length,We=G.length,ze=0;ze<We;++ze){var Ze=G[ze];Ze.shape=ue,Ze.begin();for(var ct=0;ct<Ve;++ct)if(oe[ct]===ze){var lt=re[ct];lt.drawPick&&(lt.pixelRatio=1,lt.drawPick(ie))}Ze.end()}}}var Ie=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ae=[Ie[0].slice(),Ie[1].slice()];function be(){if(!xe()){ge();var Ve=ee.camera.tick();ie.view=ee.camera.matrix,V=V||Ve,J=J||Ve,K.pixelRatio=ee.pixelRatio,Q.pixelRatio=ee.pixelRatio;var We=re.length,ze=Ie[0],Ze=Ie[1];ze[0]=ze[1]=ze[2]=1/0,Ze[0]=Ze[1]=Ze[2]=-1/0;for(var ct=0;ct<We;++ct){var lt=re[ct];lt.pixelRatio=ee.pixelRatio,lt.axes=ee.axes,V=V||!!lt.dirty,J=J||!!lt.dirty;var at=lt.bounds;if(at)for(var tt=at[0],dt=at[1],wt=0;wt<3;++wt)ze[wt]=Math.min(ze[wt],tt[wt]),Ze[wt]=Math.max(Ze[wt],dt[wt])}var Mt=ee.bounds;if(ee.autoBounds)for(var wt=0;wt<3;++wt){if(Ze[wt]<ze[wt])ze[wt]=-1,Ze[wt]=1;else{ze[wt]===Ze[wt]&&(ze[wt]-=1,Ze[wt]+=1);var It=.05*(Ze[wt]-ze[wt]);ze[wt]=ze[wt]-It,Ze[wt]=Ze[wt]+It}Mt[0][wt]=ze[wt],Mt[1][wt]=Ze[wt]}for(var $e=!1,wt=0;wt<3;++wt)$e=$e||Ae[0][wt]!==Mt[0][wt]||Ae[1][wt]!==Mt[1][wt],Ae[0][wt]=Mt[0][wt],Ae[1][wt]=Mt[1][wt];if(J=J||$e,V=V||$e,!!V){if($e){for(var ke=[0,0,0],ct=0;ct<3;++ct)ke[ct]=C((Mt[1][ct]-Mt[0][ct])/10);K.autoTicks?K.update({bounds:Mt,tickSpacing:ke}):K.update({bounds:Mt})}var Fe=F.drawingBufferWidth,qe=F.drawingBufferHeight;$[0]=Fe,$[1]=qe,ue[0]=Math.max(Fe/ee.pixelRatio,1)|0,ue[1]=Math.max(qe/ee.pixelRatio,1)|0,b(ee,z);for(var ct=0;ct<We;++ct){var lt=re[ct];lt.axesBounds=Mt,ee.clipToBounds&&(lt.clipBounds=Mt)}B.object&&(ee.snapToData?Q.position=B.dataCoordinate:Q.position=B.dataPosition,Q.bounds=Mt),J&&(J=!1,Pe()),ee.axesPixels=o(ee.axes,ie,Fe,qe),ee.onrender&&ee.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,Fe,qe),ee.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var it=!1;K.enable&&(it=it||K.isTransparent(),K.draw(ie)),Q.axes=K,B.object&&Q.draw(ie),F.disable(F.CULL_FACE);for(var ct=0;ct<We;++ct){var lt=re[ct];lt.axes=K,lt.pixelRatio=ee.pixelRatio,lt.isOpaque&&lt.isOpaque()&&lt.draw(ie),lt.isTransparent&&lt.isTransparent()&&(it=!0)}if(it){I.shape=$,I.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),K.enable&&K.isTransparent()&&K.drawTransparent(ie);for(var ct=0;ct<We;++ct){var lt=re[ct];lt.isOpaque&&lt.isOpaque()&&lt.draw(ie)}F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),K.isTransparent()&&K.drawTransparent(ie);for(var ct=0;ct<We;++ct){var lt=re[ct];lt.isTransparent&&lt.isTransparent()&&lt.drawTransparent(ie)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),O.bind(),I.color[0].bind(0),O.uniforms.accumBuffer=0,x(F),F.disable(F.BLEND)}V=!1;for(var ct=0;ct<We;++ct)re[ct].dirty=!1}}}function _e(){ee._stopped||ee.contextLost||(be(),requestAnimationFrame(_e))}return ee.enableMouseListeners(),_e(),ee.redraw=function(){ee._stopped||(V=!0,be())},ee}function b(i,E){var m=i.bounds,F=i.cameraParams,_=F.projection,B=F.model,I=i.gl.drawingBufferWidth,O=i.gl.drawingBufferHeight,z=i.zNear,k=i.zFar,N=i.fovy,K=I/O;E?(f(_,-K,K,-1,1,z,k),F._ortho=!0):(T(_,N,K,z,k),F._ortho=!1);for(var q=0;q<16;++q)B[q]=0;B[15]=1;for(var Q=0,q=0;q<3;++q)Q=Math.max(Q,m[1][q]-m[0][q]);for(var q=0;q<3;++q)i.autoScale?B[5*q]=i.aspect[q]/(m[1][q]-m[0][q]):B[5*q]=1/Q,i.autoCenter&&(B[12+q]=-B[5*q]*.5*(m[0][q]+m[1][q]))}},8023:function(v,g,t){var r=t(6832);g.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,g,t){var r=t(5158),u=t(5827),o=t(5306),l=t(8023);v.exports=h;function c(T,f,s,d,S){this.plot=T,this.offsetBuffer=f,this.pickBuffer=s,this.shader=d,this.pickShader=S,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var n=c.prototype;n.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},n.update=function(T){var f;T=T||{};function s(b,i){return b in T?T[b]:i}this.sizeMin=s("sizeMin",.5),this.sizeMax=s("sizeMax",20),this.color=s("color",[1,0,0,1]).slice(),this.areaRatio=s("areaRatio",1),this.borderColor=s("borderColor",[0,0,0,1]).slice(),this.blend=s("blend",!1);var d=T.positions.length>>>1,S=T.positions instanceof Float32Array,M=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,y=S?C:o.mallocFloat32(C.length),w=M?T.idToIndex:o.mallocInt32(d);if(S||y.set(C),!M)for(y.set(C),f=0;f<d;f++)w[f]=f;this.points=C,this.offsetBuffer.update(y),this.pickBuffer.update(w),S||o.free(y),M||o.free(w),this.pointCount=d,this.pickOffset=0};function x(T,f){var s=0,d=T.length>>>1,S;for(S=0;S<d;S++){var M=T[S*2],C=T[S*2+1];M>=f[0]&&M<=f[2]&&C>=f[1]&&C<=f[3]&&s++}return s}n.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],f=[0,0,0,0];return function(s){var d=s!==void 0,S=d?this.pickShader:this.shader,M=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return s;var y=C[2]-C[0],w=C[3]-C[1],b=x(this.points,C),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));T[0]=2/y,T[4]=2/w,T[6]=-2*C[0]/y-1,T[7]=-2*C[1]/w-1,this.offsetBuffer.bind(),S.bind(),S.attributes.position.pointer(),S.uniforms.matrix=T,S.uniforms.color=this.color,S.uniforms.borderColor=this.borderColor,S.uniforms.pointCloud=i<5,S.uniforms.pointSize=i,S.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(f[0]=s&255,f[1]=s>>8&255,f[2]=s>>16&255,f[3]=s>>24&255,this.pickBuffer.bind(),S.attributes.pickId.pointer(M.UNSIGNED_BYTE),S.uniforms.pickOffset=f,this.pickOffset=s);var E=M.getParameter(M.BLEND),m=M.getParameter(M.DITHER);return E&&!this.blend&&M.disable(M.BLEND),m&&M.disable(M.DITHER),M.drawArrays(M.POINTS,0,this.pointCount),E&&!this.blend&&M.enable(M.BLEND),m&&M.enable(M.DITHER),s+this.pointCount}}(),n.draw=n.unifiedDraw,n.drawPick=n.unifiedDraw,n.pick=function(T,f,s){var d=this.pickOffset,S=this.pointCount;if(s<d||s>=d+S)return null;var M=s-d,C=this.points;return{object:this,pointId:M,dataCoord:[C[2*M],C[2*M+1]]}};function h(T,f){var s=T.gl,d=u(s),S=u(s),M=r(s,l.pointVertex,l.pointFragment),C=r(s,l.pickVertex,l.pickFragment),y=new c(T,d,S,M,C);return y.update(f),T.addObject(y),y}},6093:function(v){v.exports=g;function g(t,r,u,o){var l=r[0],c=r[1],n=r[2],x=r[3],h=u[0],T=u[1],f=u[2],s=u[3],d,S,M,C,y;return S=l*h+c*T+n*f+x*s,S<0&&(S=-S,h=-h,T=-T,f=-f,s=-s),1-S>1e-6?(d=Math.acos(S),M=Math.sin(d),C=Math.sin((1-o)*d)/M,y=Math.sin(o*d)/M):(C=1-o,y=o),t[0]=C*l+y*h,t[1]=C*c+y*T,t[2]=C*n+y*f,t[3]=C*x+y*s,t}},8240:function(v){v.exports=function(g){return!g&&g!==0?"":g.toString()}},4123:function(v,g,t){var r=t(875);v.exports=o;var u={};function o(l,c,n){var x=u[c];if(x||(x=u[c]={}),l in x)return x[l];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var T=r(l,h);h.triangles=!1;var f=r(l,h),s,d;if(n&&n!==1){for(s=0;s<T.positions.length;++s)for(d=0;d<T.positions[s].length;++d)T.positions[s][d]/=n;for(s=0;s<f.positions.length;++s)for(d=0;d<f.positions[s].length;++d)f.positions[s][d]/=n}var S=[[1/0,1/0],[-1/0,-1/0]],M=f.positions.length;for(s=0;s<M;++s){var C=f.positions[s];for(d=0;d<2;++d)S[0][d]=Math.min(S[0][d],C[d]),S[1][d]=Math.max(S[1][d],C[d])}return x[l]=[T,f,S]}},9282:function(v,g,t){var r=t(5158),u=t(6832),o=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),n=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),x=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:n,attributes:h},f={vertex:l,fragment:n,attributes:h},s={vertex:c,fragment:n,attributes:h},d={vertex:o,fragment:x,attributes:h},S={vertex:l,fragment:x,attributes:h},M={vertex:c,fragment:x,attributes:h};function C(y,w){var b=r(y,w),i=b.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,b}g.createPerspective=function(y){return C(y,T)},g.createOrtho=function(y){return C(y,f)},g.createProject=function(y){return C(y,s)},g.createPickPerspective=function(y){return C(y,d)},g.createPickOrtho=function(y){return C(y,S)},g.createPickProject=function(y){return C(y,M)}},2182:function(v,g,t){var r=t(3596),u=t(5827),o=t(2944),l=t(5306),c=t(104),n=t(9282),x=t(4123),h=t(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=oe;function f(Y,G){var V=Y[0],Z=Y[1],ae=Y[2],ie=Y[3];return Y[0]=G[0]*V+G[4]*Z+G[8]*ae+G[12]*ie,Y[1]=G[1]*V+G[5]*Z+G[9]*ae+G[13]*ie,Y[2]=G[2]*V+G[6]*Z+G[10]*ae+G[14]*ie,Y[3]=G[3]*V+G[7]*Z+G[11]*ae+G[15]*ie,Y}function s(Y,G,V,Z){return f(Z,Z),f(Z,Z),f(Z,Z)}function d(Y,G){this.index=Y,this.dataCoordinate=this.position=G}function S(Y){return Y===!0||Y>1?1:Y}function M(Y,G,V,Z,ae,ie,J,$,se,ee,ue,ge){this.gl=Y,this.pixelRatio=1,this.shader=G,this.orthoShader=V,this.projectShader=Z,this.pointBuffer=ae,this.colorBuffer=ie,this.glyphBuffer=J,this.idBuffer=$,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ee,this.pickOrthoShader=ue,this.pickProjectShader=ge,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=M.prototype;C.pickSlots=1,C.setPickBase=function(Y){this.pickId=Y},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],w=[0,0,0],b=[0,0,0],i=[0,0,0,1],E=[0,0,0,1],m=T.slice(),F=[0,0,0],_=[[0,0,0],[0,0,0]];function B(Y){return Y[0]=Y[1]=Y[2]=0,Y}function I(Y,G){return Y[0]=G[0],Y[1]=G[1],Y[2]=G[2],Y[3]=1,Y}function O(Y,G,V,Z){return Y[0]=G[0],Y[1]=G[1],Y[2]=G[2],Y[V]=Z,Y}function z(Y){for(var G=_,V=0;V<2;++V)for(var Z=0;Z<3;++Z)G[V][Z]=Math.max(Math.min(Y[V][Z],1e8),-1e8);return G}function k(Y,G,V,Z){var ae=G.axesProject,ie=G.gl,J=Y.uniforms,$=V.model||T,se=V.view||T,ee=V.projection||T,ue=G.axesBounds,ge=z(G.clipBounds),Te;G.axes&&G.axes.lastCubeProps?Te=G.axes.lastCubeProps.axis:Te=[1,1,1],y[0]=2/ie.drawingBufferWidth,y[1]=2/ie.drawingBufferHeight,Y.bind(),J.view=se,J.projection=ee,J.screenSize=y,J.highlightId=G.highlightId,J.highlightScale=G.highlightScale,J.clipBounds=ge,J.pickGroup=G.pickId/255,J.pixelRatio=Z;for(var xe=0;xe<3;++xe)if(ae[xe]){J.scale=G.projectScale[xe],J.opacity=G.projectOpacity[xe];for(var Pe=m,Ie=0;Ie<16;++Ie)Pe[Ie]=0;for(var Ie=0;Ie<4;++Ie)Pe[5*Ie]=1;Pe[5*xe]=0,Te[xe]<0?Pe[12+xe]=ue[0][xe]:Pe[12+xe]=ue[1][xe],c(Pe,$,Pe),J.model=Pe;var Ae=(xe+1)%3,be=(xe+2)%3,_e=B(w),Ve=B(b);_e[Ae]=1,Ve[be]=1;var We=s(ee,se,$,I(i,_e)),ze=s(ee,se,$,I(E,Ve));if(Math.abs(We[1])>Math.abs(ze[1])){var Ze=We;We=ze,ze=Ze,Ze=_e,_e=Ve,Ve=Ze;var ct=Ae;Ae=be,be=ct}We[0]<0&&(_e[Ae]=-1),ze[1]>0&&(Ve[be]=-1);for(var lt=0,at=0,Ie=0;Ie<4;++Ie)lt+=Math.pow($[4*Ae+Ie],2),at+=Math.pow($[4*be+Ie],2);_e[Ae]/=Math.sqrt(lt),Ve[be]/=Math.sqrt(at),J.axes[0]=_e,J.axes[1]=Ve,J.fragClipBounds[0]=O(F,ge[0],xe,-1e8),J.fragClipBounds[1]=O(F,ge[1],xe,1e8),G.vao.bind(),G.vao.draw(ie.TRIANGLES,G.vertexCount),G.lineWidth>0&&(ie.lineWidth(G.lineWidth*Z),G.vao.draw(ie.LINES,G.lineVertexCount,G.vertexCount)),G.vao.unbind()}}var N=[-1e8,-1e8,-1e8],K=[1e8,1e8,1e8],q=[N,K];function Q(Y,G,V,Z,ae,ie,J){var $=V.gl;if((ie===V.projectHasAlpha||J)&&k(G,V,Z,ae),ie===V.hasAlpha||J){Y.bind();var se=Y.uniforms;se.model=Z.model||T,se.view=Z.view||T,se.projection=Z.projection||T,y[0]=2/$.drawingBufferWidth,y[1]=2/$.drawingBufferHeight,se.screenSize=y,se.highlightId=V.highlightId,se.highlightScale=V.highlightScale,se.fragClipBounds=q,se.clipBounds=V.axes.bounds,se.opacity=V.opacity,se.pickGroup=V.pickId/255,se.pixelRatio=ae,V.vao.bind(),V.vao.draw($.TRIANGLES,V.vertexCount),V.lineWidth>0&&($.lineWidth(V.lineWidth*ae),V.vao.draw($.LINES,V.lineVertexCount,V.vertexCount)),V.vao.unbind()}}C.draw=function(Y){var G=this.useOrtho?this.orthoShader:this.shader;Q(G,this.projectShader,this,Y,this.pixelRatio,!1,!1)},C.drawTransparent=function(Y){var G=this.useOrtho?this.orthoShader:this.shader;Q(G,this.projectShader,this,Y,this.pixelRatio,!0,!1)},C.drawPick=function(Y){var G=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;Q(G,this.pickProjectShader,this,Y,1,!0,!0)},C.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var G=Y.value[2]+(Y.value[1]<<8)+(Y.value[0]<<16);if(G>=this.pointCount||G<0)return null;var V=this.points[G],Z=this._selectResult;Z.index=G;for(var ae=0;ae<3;++ae)Z.position[ae]=Z.dataCoordinate[ae]=V[ae];return Z},C.highlight=function(Y){if(!Y)this.highlightId=[1,1,1,1];else{var G=Y.index,V=G&255,Z=G>>8&255,ae=G>>16&255;this.highlightId=[V/255,Z/255,ae/255,0]}};function re(Y,G,V,Z){var ae;Array.isArray(Y)?G<Y.length?ae=Y[G]:ae=void 0:ae=Y,ae=h(ae);var ie=!0;r(ae)&&(ae="▼",ie=!1);var J=x(ae,V,Z);return{mesh:J[0],lines:J[1],bounds:J[2],visible:ie}}C.update=function(Y){if(Y=Y||{},"perspective"in Y&&(this.useOrtho=!Y.perspective),"orthographic"in Y&&(this.useOrtho=!!Y.orthographic),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"project"in Y)if(Array.isArray(Y.project))this.axesProject=Y.project;else{var G=!!Y.project;this.axesProject=[G,G,G]}if("projectScale"in Y)if(Array.isArray(Y.projectScale))this.projectScale=Y.projectScale.slice();else{var V=+Y.projectScale;this.projectScale=[V,V,V]}if(this.projectHasAlpha=!1,"projectOpacity"in Y){if(Array.isArray(Y.projectOpacity))this.projectOpacity=Y.projectOpacity.slice();else{var V=+Y.projectOpacity;this.projectOpacity=[V,V,V]}for(var Z=0;Z<3;++Z)this.projectOpacity[Z]=S(this.projectOpacity[Z]),this.projectOpacity[Z]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Y&&(this.opacity=S(Y.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ae=Y.position,ie=Y.font||"normal",J=Y.alignment||[0,0],$,se;if(J.length===2)$=J[0],se=J[1];else{$=[],se=[];for(var Z=0;Z<J.length;++Z)$[Z]=J[Z][0],se[Z]=J[Z][1]}var ee=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],ge=Y.glyph,Te=Y.color,xe=Y.size,Pe=Y.angle,Ie=Y.lineColor,Ae=-1,be=0,_e=0,Ve=0;if(ae.length){Ve=ae.length;e:for(var Z=0;Z<Ve;++Z){for(var We=ae[Z],ze=0;ze<3;++ze)if(isNaN(We[ze])||!isFinite(We[ze]))continue e;var Ze=re(ge,Z,ie,this.pixelRatio),ct=Ze.mesh,lt=Ze.lines,at=Ze.bounds;be+=ct.cells.length*3,_e+=lt.edges.length*2}}var tt=be+_e,dt=l.mallocFloat(3*tt),wt=l.mallocFloat(4*tt),Mt=l.mallocFloat(2*tt),It=l.mallocUint32(tt);if(tt>0){var $e=0,ke=be,Fe=[0,0,0,1],qe=[0,0,0,1],it=Array.isArray(Te)&&Array.isArray(Te[0]),Je=Array.isArray(Ie)&&Array.isArray(Ie[0]);e:for(var Z=0;Z<Ve;++Z){Ae+=1;for(var We=ae[Z],ze=0;ze<3;++ze){if(isNaN(We[ze])||!isFinite(We[ze]))continue e;ue[ze]=Math.max(ue[ze],We[ze]),ee[ze]=Math.min(ee[ze],We[ze])}var Ze=re(ge,Z,ie,this.pixelRatio),ct=Ze.mesh,lt=Ze.lines,at=Ze.bounds,Re=Ze.visible;if(!Re)Fe=[1,1,1,0];else if(Array.isArray(Te)){var Me;if(it?Z<Te.length?Me=Te[Z]:Me=[0,0,0,0]:Me=Te,Me.length===3){for(var ze=0;ze<3;++ze)Fe[ze]=Me[ze];Fe[3]=1}else if(Me.length===4){for(var ze=0;ze<4;++ze)Fe[ze]=Me[ze];!this.hasAlpha&&Me[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;if(!Re)qe=[1,1,1,0];else if(Array.isArray(Ie)){var Me;if(Je?Z<Ie.length?Me=Ie[Z]:Me=[0,0,0,0]:Me=Ie,Me.length===3){for(var ze=0;ze<3;++ze)qe[ze]=Me[ze];qe[ze]=1}else if(Me.length===4){for(var ze=0;ze<4;++ze)qe[ze]=Me[ze];!this.hasAlpha&&Me[3]<1&&(this.hasAlpha=!0)}}else qe[0]=qe[1]=qe[2]=0,qe[3]=1;var fe=.5;Re?Array.isArray(xe)?Z<xe.length?fe=+xe[Z]:fe=12:xe?fe=+xe:this.useOrtho&&(fe=12):fe=0;var ye=0;Array.isArray(Pe)?Z<Pe.length?ye=+Pe[Z]:ye=0:Pe&&(ye=+Pe);for(var Le=Math.cos(ye),Oe=Math.sin(ye),We=ae[Z],ze=0;ze<3;++ze)ue[ze]=Math.max(ue[ze],We[ze]),ee[ze]=Math.min(ee[ze],We[ze]);var ht=$,vt=se,ht=0;Array.isArray($)?Z<$.length?ht=$[Z]:ht=0:$&&(ht=$);var vt=0;Array.isArray(se)?Z<se.length?vt=se[Z]:vt=0:se&&(vt=se),ht*=ht>0?1-at[0][0]:ht<0?1+at[1][0]:1,vt*=vt>0?1-at[0][1]:vt<0?1+at[1][1]:1;for(var Lt=[ht,vt],vr=ct.cells||[],gr=ct.positions||[],ze=0;ze<vr.length;++ze)for(var Ot=vr[ze],Jt=0;Jt<3;++Jt){for(var qt=0;qt<3;++qt)dt[3*$e+qt]=We[qt];for(var qt=0;qt<4;++qt)wt[4*$e+qt]=Fe[qt];It[$e]=Ae;var Vt=gr[Ot[Jt]];Mt[2*$e]=fe*(Le*Vt[0]-Oe*Vt[1]+Lt[0]),Mt[2*$e+1]=fe*(Oe*Vt[0]+Le*Vt[1]+Lt[1]),$e+=1}for(var vr=lt.edges,gr=lt.positions,ze=0;ze<vr.length;++ze)for(var Ot=vr[ze],Jt=0;Jt<2;++Jt){for(var qt=0;qt<3;++qt)dt[3*ke+qt]=We[qt];for(var qt=0;qt<4;++qt)wt[4*ke+qt]=qe[qt];It[ke]=Ae;var Vt=gr[Ot[Jt]];Mt[2*ke]=fe*(Le*Vt[0]-Oe*Vt[1]+Lt[0]),Mt[2*ke+1]=fe*(Oe*Vt[0]+Le*Vt[1]+Lt[1]),ke+=1}}}this.bounds=[ee,ue],this.points=ae,this.pointCount=ae.length,this.vertexCount=be,this.lineVertexCount=_e,this.pointBuffer.update(dt),this.colorBuffer.update(wt),this.glyphBuffer.update(Mt),this.idBuffer.update(It),l.free(dt),l.free(wt),l.free(Mt),l.free(It)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function oe(Y){var G=Y.gl,V=n.createPerspective(G),Z=n.createOrtho(G),ae=n.createProject(G),ie=n.createPickPerspective(G),J=n.createPickOrtho(G),$=n.createPickProject(G),se=u(G),ee=u(G),ue=u(G),ge=u(G),Te=o(G,[{buffer:se,size:3,type:G.FLOAT},{buffer:ee,size:4,type:G.FLOAT},{buffer:ue,size:2,type:G.FLOAT},{buffer:ge,size:4,type:G.UNSIGNED_BYTE,normalized:!0}]),xe=new M(G,V,Z,ae,se,ee,ue,ge,Te,ie,J,$);return xe.update(Y),xe}},1884:function(v,g,t){var r=t(6832);g.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,g,t){var r=t(5158),u=t(5827),o=t(1884);v.exports=n;function l(x,h,T){this.plot=x,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=l.prototype;c.draw=function(){if(this.enabled){var x=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var f=this.innerColor;this.outerFill;var s=this.outerColor,d=this.borderColor,S=x.box,M=x.screenBox,C=x.dataBox,y=x.viewBox,w=x.pixelRatio,b=(h[0]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],i=(h[1]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1],E=(h[2]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],m=(h[3]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1];if(b=Math.max(b,y[0]),i=Math.max(i,y[1]),E=Math.min(E,y[2]),m=Math.min(m,y[3]),!(E<b||m<i)){S.bind();var F=M[2]-M[0],_=M[3]-M[1];if(this.outerFill&&(S.drawBox(0,0,F,i,s),S.drawBox(0,i,b,m,s),S.drawBox(0,m,F,_,s),S.drawBox(E,i,F,m,s)),this.innerFill&&S.drawBox(b,i,E,m,f),T>0){var B=T*w;S.drawBox(b-B,i-B,E+B,i+B,d),S.drawBox(b-B,m-B,E+B,m+B,d),S.drawBox(b-B,i-B,b+B,m+B,d),S.drawBox(E-B,i-B,E+B,m+B,d)}}}},c.update=function(x){x=x||{},this.innerFill=!!x.innerFill,this.outerFill=!!x.outerFill,this.innerColor=(x.innerColor||[0,0,0,.5]).slice(),this.outerColor=(x.outerColor||[0,0,0,.5]).slice(),this.borderColor=(x.borderColor||[0,0,0,1]).slice(),this.borderWidth=x.borderWidth||0,this.selectBox=(x.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function n(x,h){var T=x.gl,f=u(T,[0,0,0,1,1,0,1,1]),s=r(T,o.boxVertex,o.boxFragment),d=new l(x,f,s);return d.update(h),x.addOverlay(d),d}},2611:function(v,g,t){v.exports=T;var r=t(4234),u=t(5306),o=t(5050),l=t(2288).nextPow2,c=function(f,s,d){for(var S=1e8,M=-1,C=-1,y=f.shape[0],w=f.shape[1],b=0;b<y;b++)for(var i=0;i<w;i++){var E=f.get(b,i,0),m=f.get(b,i,1),F=f.get(b,i,2),_=f.get(b,i,3);if(E<255||m<255||F<255||_<255){var B=s-b,I=d-i,O=B*B+I*I;O<S&&(S=O,M=b,C=i)}}return[M,C,S]};function n(f,s,d,S,M){this.coord=[f,s],this.id=d,this.value=S,this.distance=M}function x(f,s,d){this.gl=f,this.fbo=s,this.buffer=d,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(s.bind(),f.readPixels(0,0,s.shape[0],s.shape[1],f.RGBA,f.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var h=x.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(f){if(this.gl){this.fbo.shape=f;var s=this.fbo.shape[0],d=this.fbo.shape[1];if(d*s*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(l(d*s*4)),M=0;M<d*s*4;++M)S[M]=255}return f}}}),h.begin=function(){var f=this.gl;this.shape,f&&(this.fbo.bind(),f.clearColor(1,1,1,1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT))},h.end=function(){var f=this.gl;f&&(f.bindFramebuffer(f.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(f,s,d){if(!this.gl)return null;var S=this.fbo.shape.slice();f=f|0,s=s|0,typeof d!="number"&&(d=1);var M=Math.min(Math.max(f-d,0),S[0])|0,C=Math.min(Math.max(f+d,0),S[0])|0,y=Math.min(Math.max(s-d,0),S[1])|0,w=Math.min(Math.max(s+d,0),S[1])|0;if(C<=M||w<=y)return null;var b=[C-M,w-y],i=o(this.buffer,[b[0],b[1],4],[4,S[0]*4,1],4*(M+S[0]*y)),E=c(i.hi(b[0],b[1],1),d,d),m=E[0],F=E[1];if(m<0||Math.pow(this.radius,2)<E[2])return null;var _=i.get(m,F,0),B=i.get(m,F,1),I=i.get(m,F,2),O=i.get(m,F,3);return new n(m+M|0,F+y|0,_,[B,I,O],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(f,s){var d=s[0],S=s[1],M={},C=r(f,d,S,M),y=u.mallocUint8(d*S*4);return new x(f,C,y)}},5158:function(v,g,t){var r=t(9016),u=t(4280),o=t(3984),l=t(1628),c=t(2631),n=t(9068);function x(s){this.gl=s,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=x.prototype;h.bind=function(){this.program||this._relink();var s,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(d>S)for(s=S;s<d;s++)this.gl.enableVertexAttribArray(s);else if(S>d)for(s=d;s<S;s++)this.gl.disableVertexAttribArray(s);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var s=this.gl.lastAttribCount,d=0;d<s;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(s,d){return s.name<d.name?-1:1}h.update=function(s,d,S,M){if(!d||arguments.length===1){var C=s;s=C.vertex,d=C.fragment,S=C.uniforms,M=C.attributes}var y=this,w=y.gl,b=y._vref;y._vref=l.shader(w,w.VERTEX_SHADER,s),b&&b.dispose(),y.vertShader=y._vref.shader;var i=this._fref;if(y._fref=l.shader(w,w.FRAGMENT_SHADER,d),i&&i.dispose(),y.fragShader=y._fref.shader,!S||!M){var E=w.createProgram();if(w.attachShader(E,y.fragShader),w.attachShader(E,y.vertShader),w.linkProgram(E),!w.getProgramParameter(E,w.LINK_STATUS)){var m=w.getProgramInfoLog(E);throw new n(m,"Error linking program:"+m)}S=S||c.uniforms(w,E),M=M||c.attributes(w,E),w.deleteProgram(E)}M=M.slice(),M.sort(T);var F=[],_=[],B=[],I;for(I=0;I<M.length;++I){var O=M[I];if(O.type.indexOf("mat")>=0){for(var z=O.type.charAt(O.type.length-1)|0,k=new Array(z),N=0;N<z;++N)k[N]=B.length,_.push(O.name+"["+N+"]"),typeof O.location=="number"?B.push(O.location+N):Array.isArray(O.location)&&O.location.length===z&&typeof O.location[N]=="number"?B.push(O.location[N]|0):B.push(-1);F.push({name:O.name,type:O.type,locations:k})}else F.push({name:O.name,type:O.type,locations:[B.length]}),_.push(O.name),typeof O.location=="number"?B.push(O.location|0):B.push(-1)}var K=0;for(I=0;I<B.length;++I)if(B[I]<0){for(;B.indexOf(K)>=0;)K+=1;B[I]=K}var q=new Array(S.length);function Q(){y.program=l.program(w,y._vref,y._fref,_,B);for(var re=0;re<S.length;++re)q[re]=w.getUniformLocation(y.program,S[re].name)}Q(),y._relink=Q,y.types={uniforms:o(S),attributes:o(M)},y.attributes=u(w,y,F,B),Object.defineProperty(y,"uniforms",r(w,y,S,q))};function f(s,d,S,M,C){var y=new x(s);return y.update(d,S,M,C),y}v.exports=f},9068:function(v){function g(t,r,u){this.shortMessage=r||"",this.longMessage=u||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(u?`
`+u:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,v.exports=g},4280:function(v,g,t){v.exports=x;var r=t(9068);function u(h,T,f,s,d,S){this._gl=h,this._wrapper=T,this._index=f,this._locations=s,this._dimension=d,this._constFunc=S}var o=u.prototype;o.pointer=function(T,f,s,d){var S=this,M=S._gl,C=S._locations[S._index];M.vertexAttribPointer(C,S._dimension,T||M.FLOAT,!!f,s||0,d||0),M.enableVertexAttribArray(C)},o.set=function(h,T,f,s){return this._constFunc(this._locations[this._index],h,T,f,s)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var l=[function(h,T,f){return f.length===void 0?h.vertexAttrib1f(T,f):h.vertexAttrib1fv(T,f)},function(h,T,f,s){return f.length===void 0?h.vertexAttrib2f(T,f,s):h.vertexAttrib2fv(T,f)},function(h,T,f,s,d){return f.length===void 0?h.vertexAttrib3f(T,f,s,d):h.vertexAttrib3fv(T,f)},function(h,T,f,s,d,S){return f.length===void 0?h.vertexAttrib4f(T,f,s,d,S):h.vertexAttrib4fv(T,f)}];function c(h,T,f,s,d,S,M){var C=l[d],y=new u(h,T,f,s,d,C);Object.defineProperty(S,M,{set:function(w){return h.disableVertexAttribArray(s[f]),C(h,s[f],w),w},get:function(){return y},enumerable:!0})}function n(h,T,f,s,d,S,M){for(var C=new Array(d),y=new Array(d),w=0;w<d;++w)c(h,T,f[w],s,d,C,w),y[w]=C[w];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var m=0;m<d;++m)y[m].location=E[m];else for(var m=0;m<d;++m)y[m].location=E+m;return E},get:function(){for(var E=new Array(d),m=0;m<d;++m)E[m]=s[f[m]];return E},enumerable:!0}),C.pointer=function(E,m,F,_){E=E||h.FLOAT,m=!!m,F=F||d*d,_=_||0;for(var B=0;B<d;++B){var I=s[f[B]];h.vertexAttribPointer(I,d,E,m,F,_+B*d),h.enableVertexAttribArray(I)}};var b=new Array(d),i=h["vertexAttrib"+d+"fv"];Object.defineProperty(S,M,{set:function(E){for(var m=0;m<d;++m){var F=s[f[m]];if(h.disableVertexAttribArray(F),Array.isArray(E[0]))i.call(h,F,E[m]);else{for(var _=0;_<d;++_)b[_]=E[d*m+_];i.call(h,F,b)}}return E},get:function(){return C},enumerable:!0})}function x(h,T,f,s){for(var d={},S=0,M=f.length;S<M;++S){var C=f[S],y=C.name,w=C.type,b=C.locations;switch(w){case"bool":case"int":case"float":c(h,T,b[0],s,1,d,y);break;default:if(w.indexOf("vec")>=0){var i=w.charCodeAt(w.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+y+": "+w);c(h,T,b[0],s,i,d,y)}else if(w.indexOf("mat")>=0){var i=w.charCodeAt(w.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+y+": "+w);n(h,T,b,s,i,d,y)}else throw new r("","Unknown data type for attribute "+y+": "+w);break}}return d}},9016:function(v,g,t){var r=t(3984),u=t(9068);v.exports=c;function o(n){return function(){return n}}function l(n,x){for(var h=new Array(n),T=0;T<n;++T)h[T]=x;return h}function c(n,x,h,T){function f(w){return function(b,i,E){return b.getUniform(i.program,E[w])}}function s(w){return function(i){for(var E=d("",w),m=0;m<E.length;++m){var F=E[m],_=F[0],B=F[1];if(T[B]){var I=i;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var O=_;if(_.indexOf(".")===0&&(O=_.slice(1)),O.indexOf("]")===O.length-1){var z=O.indexOf("["),k=O.slice(0,z),N=O.slice(z+1,O.length-1);I=k?i[k][N]:i[N]}else I=i[O]}var K=h[B].type,q;switch(K){case"bool":case"int":case"sampler2D":case"samplerCube":n.uniform1i(T[B],I);break;case"float":n.uniform1f(T[B],I);break;default:var Q=K.indexOf("vec");if(0<=Q&&Q<=1&&K.length===4+Q){if(q=K.charCodeAt(K.length-1)-48,q<2||q>4)throw new u("","Invalid data type");switch(K.charAt(0)){case"b":case"i":n["uniform"+q+"iv"](T[B],I);break;case"v":n["uniform"+q+"fv"](T[B],I);break;default:throw new u("","Unrecognized data type for vector "+name+": "+K)}}else if(K.indexOf("mat")===0&&K.length===4){if(q=K.charCodeAt(K.length-1)-48,q<2||q>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+K);n["uniformMatrix"+q+"fv"](T[B],!1,I);break}else throw new u("","Unknown uniform data type for "+name+": "+K)}}}}}function d(w,b){if(typeof b!="object")return[[w,b]];var i=[];for(var E in b){var m=b[E],F=w;parseInt(E)+""===E?F+="["+E+"]":F+="."+E,typeof m=="object"?i.push.apply(i,d(F,m)):i.push([F,m])}return i}function S(w){switch(w){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=w.indexOf("vec");if(0<=b&&b<=1&&w.length===4+b){var i=w.charCodeAt(w.length-1)-48;if(i<2||i>4)throw new u("","Invalid data type");return w.charAt(0)==="b"?l(i,!1):l(i,0)}else if(w.indexOf("mat")===0&&w.length===4){var i=w.charCodeAt(w.length-1)-48;if(i<2||i>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+w);return l(i*i,0)}else throw new u("","Unknown uniform data type for "+name+": "+w)}}function M(w,b,i){if(typeof i=="object"){var E=C(i);Object.defineProperty(w,b,{get:o(E),set:s(i),enumerable:!0,configurable:!1})}else T[i]?Object.defineProperty(w,b,{get:f(i),set:s(i),enumerable:!0,configurable:!1}):w[b]=S(h[i].type)}function C(w){var b;if(Array.isArray(w)){b=new Array(w.length);for(var i=0;i<w.length;++i)M(b,i,w[i])}else{b={};for(var E in w)M(b,E,w[E])}return b}var y=r(h,!0);return{get:o(C(y)),set:s(y),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=g;function g(t,r){for(var u={},o=0;o<t.length;++o)for(var l=t[o].name,c=l.split("."),n=u,x=0;x<c.length;++x){var h=c[x].split("[");if(h.length>1){h[0]in n||(n[h[0]]=[]),n=n[h[0]];for(var T=1;T<h.length;++T){var f=parseInt(h[T]);T<h.length-1||x<c.length-1?(f in n||(T<h.length-1?n[f]=[]:n[f]={}),n=n[f]):r?n[f]=o:n[f]=t[o].type}}else x<c.length-1?(h[0]in n||(n[h[0]]={}),n=n[h[0]]):r?n[h[0]]=o:n[h[0]]=t[o].type}return u}},2631:function(v,g){g.uniforms=o,g.attributes=l;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function u(c,n){if(!r){var x=Object.keys(t);r={};for(var h=0;h<x.length;++h){var T=x[h];r[c[T]]=t[T]}}return r[n]}function o(c,n){for(var x=c.getProgramParameter(n,c.ACTIVE_UNIFORMS),h=[],T=0;T<x;++T){var f=c.getActiveUniform(n,T);if(f){var s=u(c,f.type);if(f.size>1)for(var d=0;d<f.size;++d)h.push({name:f.name.replace("[0]","["+d+"]"),type:s});else h.push({name:f.name,type:s})}}return h}function l(c,n){for(var x=c.getProgramParameter(n,c.ACTIVE_ATTRIBUTES),h=[],T=0;T<x;++T){var f=c.getActiveAttrib(n,T);f&&h.push({name:f.name,type:u(c,f.type)})}return h}},1628:function(v,g,t){g.shader=d,g.program=S;var r=t(9068),u=t(3530),o=typeof WeakMap>"u"?t(4037):WeakMap,l=new o,c=0;function n(M,C,y,w,b,i,E){this.id=M,this.src=C,this.type=y,this.shader=w,this.count=i,this.programs=[],this.cache=E}n.prototype.dispose=function(){if(--this.count===0){for(var M=this.cache,C=M.gl,y=this.programs,w=0,b=y.length;w<b;++w){var i=M.programs[y[w]];i&&(delete M.programs[w],C.deleteProgram(i))}C.deleteShader(this.shader),delete M.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function x(M){this.gl=M,this.shaders=[{},{}],this.programs={}}var h=x.prototype;function T(M,C,y){var w=M.createShader(C);if(M.shaderSource(w,y),M.compileShader(w),!M.getShaderParameter(w,M.COMPILE_STATUS)){var b=M.getShaderInfoLog(w);try{var i=u(b,y,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new r(b,`Error compiling shader:
`+b)}throw new r(b,i.short,i.long)}return w}h.getShaderReference=function(M,C){var y=this.gl,w=this.shaders[M===y.FRAGMENT_SHADER|0],b=w[C];if(!b||!y.isShader(b.shader)){var i=T(y,M,C);b=w[C]=new n(c++,C,M,i,[],1,this)}else b.count+=1;return b};function f(M,C,y,w,b){var i=M.createProgram();M.attachShader(i,C),M.attachShader(i,y);for(var E=0;E<w.length;++E)M.bindAttribLocation(i,b[E],w[E]);if(M.linkProgram(i),!M.getProgramParameter(i,M.LINK_STATUS)){var m=M.getProgramInfoLog(i);throw new r(m,"Error linking program: "+m)}return i}h.getProgram=function(M,C,y,w){var b=[M.id,C.id,y.join(":"),w.join(":")].join("@"),i=this.programs[b];return(!i||!this.gl.isProgram(i))&&(this.programs[b]=i=f(this.gl,M.shader,C.shader,y,w),M.programs.push(b),C.programs.push(b)),i};function s(M){var C=l.get(M);return C||(C=new x(M),l.set(M,C)),C}function d(M,C,y){return s(M).getShaderReference(C,y)}function S(M,C,y,w,b){return s(M).getProgram(C,y,w,b)}},3050:function(v){v.exports=r;function g(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=g.prototype;t.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(o){return o.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var u=this.enable,o=this.width,l=this.color,c=this.center,n=this.plot,x=n.line,h=n.dataBox,T=n.viewBox;if(x.bind(),h[0]<=c[0]&&c[0]<=h[2]&&h[1]<=c[1]&&c[1]<=h[3]){var f=T[0]+(c[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),s=T[1]+(c[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);u[0]&&x.drawLine(f,s,T[0],s,o[0],l[0]),u[1]&&x.drawLine(f,s,f,T[1],o[1],l[1]),u[2]&&x.drawLine(f,s,T[2],s,o[2],l[2]),u[3]&&x.drawLine(f,s,f,T[3],o[3],l[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(u,o){var l=new g(u);return l.update(o),u.addOverlay(l),l}},3540:function(v,g,t){var r=t(6832),u=t(5158),o=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(c){return u(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,g,t){var r=t(5827),u=t(2944),o=t(3540);v.exports=f;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(s,d,S,M){this.gl=s,this.buffer=d,this.vao=S,this.shader=M,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var n=c.prototype,x=[0,0,0],h=[0,0,0],T=[0,0];n.isTransparent=function(){return!1},n.drawTransparent=function(s){},n.draw=function(s){var d=this.gl,S=this.vao,M=this.shader;S.bind(),M.bind();var C=s.model||l,y=s.view||l,w=s.projection||l,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var i=x,E=h,m=0;m<3;++m)b&&b[m]<0?(i[m]=this.bounds[0][m],E[m]=this.bounds[1][m]):(i[m]=this.bounds[1][m],E[m]=this.bounds[0][m]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,M.uniforms.model=C,M.uniforms.view=y,M.uniforms.projection=w,M.uniforms.coordinates=[this.position,i,E],M.uniforms.colors=this.colors,M.uniforms.screenShape=T;for(var m=0;m<3;++m)M.uniforms.lineWidth=this.lineWidth[m]*this.pixelRatio,this.enabled[m]&&(S.draw(d.TRIANGLES,6,6*m),this.drawSides[m]&&S.draw(d.TRIANGLES,12,18+12*m));S.unbind()},n.update=function(s){s&&("bounds"in s&&(this.bounds=s.bounds),"position"in s&&(this.position=s.position),"lineWidth"in s&&(this.lineWidth=s.lineWidth),"colors"in s&&(this.colors=s.colors),"enabled"in s&&(this.enabled=s.enabled),"drawSides"in s&&(this.drawSides=s.drawSides))},n.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(s,d){var S=[];function M(i,E,m,F,_,B){var I=[i,E,m,0,0,0,1];I[F+3]=1,I[F]=_,S.push.apply(S,I),I[6]=-1,S.push.apply(S,I),I[F]=B,S.push.apply(S,I),S.push.apply(S,I),I[6]=1,S.push.apply(S,I),I[F]=_,S.push.apply(S,I)}M(0,0,0,0,0,1),M(0,0,0,1,0,1),M(0,0,0,2,0,1),M(1,0,0,1,-1,1),M(1,0,0,2,-1,1),M(0,1,0,0,-1,1),M(0,1,0,2,-1,1),M(0,0,1,0,-1,1),M(0,0,1,1,-1,1);var C=r(s,S),y=u(s,[{type:s.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:s.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:s.FLOAT,buffer:C,size:1,offset:24,stride:28}]),w=o(s);w.attributes.position.location=0,w.attributes.color.location=1,w.attributes.weight.location=2;var b=new c(s,C,y,w);return b.update(d),b}},9578:function(v,g,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),o=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:u,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,g,t){var r=t(2858),u=t(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(S,M,C,y){for(var w=S.points,b=S.velocities,i=S.divergences,E=[],m=[],F=[],_=[],B=[],I=[],O=0,z=0,k=u.create(),N=u.create(),K=8,q=0;q<w.length;q++){var Q=w[q],re=b[q],oe=i[q];M===0&&(oe=C*.05),z=r.length(re)/y,k=u.create(),r.copy(k,re),k[3]=oe;for(var Y=0;Y<K;Y++)B[Y]=[Q[0],Q[1],Q[2],Y];if(_.length>0)for(var Y=0;Y<K;Y++){var G=(Y+1)%K;E.push(_[Y],B[Y],B[G],B[G],_[G],_[Y]),F.push(N,k,k,k,N,N),I.push(O,z,z,z,O,O);var V=E.length;m.push([V-6,V-5,V-4],[V-3,V-2,V-1])}var Z=_;_=B,B=Z;var ae=N;N=k,k=ae;var ie=O;O=z,z=ie}return{positions:E,cells:m,vectors:F,vertexIntensity:I}},c=function(S,M,C,y){for(var w=0,b=0;b<S.length;b++)for(var i=S[b].velocities,E=0;E<i.length;E++)w=Math.max(w,r.length(i[E]));for(var m=S.map(function(q){return l(q,C,y,w)}),F=[],_=[],B=[],I=[],b=0;b<m.length;b++){var O=m[b],z=F.length;F=F.concat(O.positions),B=B.concat(O.vectors),I=I.concat(O.vertexIntensity);for(var E=0;E<O.cells.length;E++){var k=O.cells[E],N=[];_.push(N);for(var K=0;K<k.length;K++)N.push(k[K]+z)}}return{positions:F,cells:_,vectors:B,vertexIntensity:I,colormap:M}},n=function(S,M){var C=S.length,y;for(y=0;y<C;y++){var w=S[y];if(w===M)return y;if(w>M)return y-1}return y},x=function(S,M,C){return S<M?M:S>C?C:S},h=function(S,M,C){var y=M.vectors,w=M.meshgrid,b=S[0],i=S[1],E=S[2],m=w[0].length,F=w[1].length,_=w[2].length,B=n(w[0],b),I=n(w[1],i),O=n(w[2],E),z=B+1,k=I+1,N=O+1;if(B=x(B,0,m-1),z=x(z,0,m-1),I=x(I,0,F-1),k=x(k,0,F-1),O=x(O,0,_-1),N=x(N,0,_-1),B<0||I<0||O<0||z>m-1||k>F-1||N>_-1)return r.create();var K=w[0][B],q=w[0][z],Q=w[1][I],re=w[1][k],oe=w[2][O],Y=w[2][N],G=(b-K)/(q-K),V=(i-Q)/(re-Q),Z=(E-oe)/(Y-oe);isFinite(G)||(G=.5),isFinite(V)||(V=.5),isFinite(Z)||(Z=.5);var ae,ie,J,$,se,ee;switch(C.reversedX&&(B=m-1-B,z=m-1-z),C.reversedY&&(I=F-1-I,k=F-1-k),C.reversedZ&&(O=_-1-O,N=_-1-N),C.filled){case 5:se=O,ee=N,J=I*_,$=k*_,ae=B*_*F,ie=z*_*F;break;case 4:se=O,ee=N,ae=B*_,ie=z*_,J=I*_*m,$=k*_*m;break;case 3:J=I,$=k,se=O*F,ee=N*F,ae=B*F*_,ie=z*F*_;break;case 2:J=I,$=k,ae=B*F,ie=z*F,se=O*F*m,ee=N*F*m;break;case 1:ae=B,ie=z,se=O*m,ee=N*m,J=I*m*_,$=k*m*_;break;default:ae=B,ie=z,J=I*m,$=k*m,se=O*m*F,ee=N*m*F;break}var ue=y[ae+J+se],ge=y[ae+J+ee],Te=y[ae+$+se],xe=y[ae+$+ee],Pe=y[ie+J+se],Ie=y[ie+J+ee],Ae=y[ie+$+se],be=y[ie+$+ee],_e=r.create(),Ve=r.create(),We=r.create(),ze=r.create();r.lerp(_e,ue,Pe,G),r.lerp(Ve,ge,Ie,G),r.lerp(We,Te,Ae,G),r.lerp(ze,xe,be,G);var Ze=r.create(),ct=r.create();r.lerp(Ze,_e,We,V),r.lerp(ct,Ve,ze,V);var lt=r.create();return r.lerp(lt,Ze,ct,Z),lt},T=function(S){var M=1/0;S.sort(function(b,i){return b-i});for(var C=S.length,y=1;y<C;y++){var w=Math.abs(S[y]-S[y-1]);w<M&&(M=w)}return M},f=function(S){for(var M=[],C=[],y=[],w={},b={},i={},E=S.length,m=0;m<E;m++){var F=S[m],_=F[0],B=F[1],I=F[2];w[_]||(M.push(_),w[_]=!0),b[B]||(C.push(B),b[B]=!0),i[I]||(y.push(I),i[I]=!0)}var O=T(M),z=T(C),k=T(y),N=Math.min(O,z,k);return isFinite(N)?N:1};v.exports=function(S,M){var C=S.startingPositions,y=S.maxLength||1e3,w=S.tubeSize||1,b=S.absoluteTubeSize,i=S.gridFill||"+x+y+z",E={};i.indexOf("-x")!==-1&&(E.reversedX=!0),i.indexOf("-y")!==-1&&(E.reversedY=!0),i.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=o.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var m=S.getVelocity||function(Ie){return h(Ie,S,E)},F=S.getDivergence||function(Ie,Ae){var be=r.create(),_e=1e-4;r.add(be,Ie,[_e,0,0]);var Ve=m(be);r.subtract(Ve,Ve,Ae),r.scale(Ve,Ve,1/_e),r.add(be,Ie,[0,_e,0]);var We=m(be);r.subtract(We,We,Ae),r.scale(We,We,1/_e),r.add(be,Ie,[0,0,_e]);var ze=m(be);return r.subtract(ze,ze,Ae),r.scale(ze,ze,1/_e),r.add(be,Ve,We),r.add(be,be,ze),be},_=[],B=M[0][0],I=M[0][1],O=M[0][2],z=M[1][0],k=M[1][1],N=M[1][2],K=function(Ie){var Ae=Ie[0],be=Ie[1],_e=Ie[2];return!(Ae<B||Ae>z||be<I||be>k||_e<O||_e>N)},q=r.distance(M[0],M[1]),Q=10*q/y,re=Q*Q,oe=1,Y=0,G=C.length;G>1&&(oe=f(C));for(var V=0;V<G;V++){var Z=r.create();r.copy(Z,C[V]);var ae=[Z],ie=[],J=m(Z),$=Z;ie.push(J);var se=[],ee=F(Z,J),ue=r.length(ee);isFinite(ue)&&ue>Y&&(Y=ue),se.push(ue),_.push({points:ae,velocities:ie,divergences:se});for(var ge=0;ge<y*100&&ae.length<y&&K(Z);){ge++;var Te=r.clone(J),xe=r.squaredLength(Te);if(xe===0)break;if(xe>re&&r.scale(Te,Te,Q/Math.sqrt(xe)),r.add(Te,Te,Z),J=m(Te),r.squaredDistance($,Te)-re>-1e-4*re){ae.push(Te),$=Te,ie.push(J);var ee=F(Te,J),ue=r.length(ee);isFinite(ue)&&ue>Y&&(Y=ue),se.push(ue)}Z=Te}}var Pe=c(_,S.colormap,Y,oe);return b?Pe.tubeScale=b:(Y===0&&(Y=1),Pe.tubeScale=w*.5*oe/Y),Pe};var s=t(9578),d=t(1140).createMesh;v.exports.createTubeMesh=function(S,M){return d(S,M,{shaders:s,traceType:"streamtube"})}},9054:function(v,g,t){var r=t(5158),u=t(6832),o=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),n=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(x){var h=r(x,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createPickShader=function(x){var h=r(x,o,n,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createContourShader=function(x){var h=r(x,c,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},g.createPickContourShader=function(x){var h=r(x,c,n,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,g,t){v.exports=ie;var r=t(2288),u=t(5827),o=t(2944),l=t(8931),c=t(5306),n=t(9156),x=t(7498),h=t(7382),T=t(5050),f=t(4162),s=t(104),d=t(7437),S=t(5070),M=t(9144),C=t(9054),y=C.createShader,w=C.createContourShader,b=C.createPickShader,i=C.createPickContourShader,E=4*(4+3+3),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var J=0;J<3;++J){var $=_[J],se=(J+1)%3,ee=(J+2)%3;$[se+0]=1,$[ee+3]=1,$[J+6]=1}})();function B(J,$,se,ee,ue){this.position=J,this.index=$,this.uv=se,this.level=ee,this.dataCoordinate=ue}var I=256;function O(J,$,se,ee,ue,ge,Te,xe,Pe,Ie,Ae,be,_e,Ve,We){this.gl=J,this.shape=$,this.bounds=se,this.objectOffset=We,this.intensityBounds=[],this._shader=ee,this._pickShader=ue,this._coordinateBuffer=ge,this._vao=Te,this._colorMap=xe,this._contourShader=Pe,this._contourPickShader=Ie,this._contourBuffer=Ae,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=_e,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var z=O.prototype;z.genColormap=function(J,$){var se=!1,ee=h([n({colormap:J,nshades:I,format:"rgba"}).map(function(ue,ge){var Te=$?k(ge/255,$):ue[3];return Te<1&&(se=!0),[ue[0],ue[1],ue[2],255*Te]})]);return x.divseq(ee,255),this.hasAlphaScale=se,ee},z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},z.isOpaque=function(){return!this.isTransparent()},z.pickSlots=1,z.setPickBase=function(J){this.pickId=J};function k(J,$){if(!$||!$.length)return 1;for(var se=0;se<$.length;++se){if($.length<2)return 1;if($[se][0]===J)return $[se][1];if($[se][0]>J&&se>0){var ee=($[se][0]-J)/($[se][0]-$[se-1][0]);return $[se][1]*(1-ee)+ee*$[se-1][1]}}return 1}var N=[0,0,0],K={showSurface:!1,showContour:!1,projections:[m.slice(),m.slice(),m.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(J,$){var se,ee,ue,ge=$.axes&&$.axes.lastCubeProps.axis||N,Te=$.showSurface,xe=$.showContour;for(se=0;se<3;++se)for(Te=Te||$.surfaceProject[se],ee=0;ee<3;++ee)xe=xe||$.contourProject[se][ee];for(se=0;se<3;++se){var Pe=K.projections[se];for(ee=0;ee<16;++ee)Pe[ee]=0;for(ee=0;ee<4;++ee)Pe[5*ee]=1;Pe[5*se]=0,Pe[12+se]=$.axesBounds[+(ge[se]>0)][se],s(Pe,J.model,Pe);var Ie=K.clipBounds[se];for(ue=0;ue<2;++ue)for(ee=0;ee<3;++ee)Ie[ue][ee]=J.clipBounds[ue][ee];Ie[0][se]=-1e8,Ie[1][se]=1e8}return K.showSurface=Te,K.showContour=xe,K}var Q={model:m,view:m,projection:m,inverseModel:m.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=m.slice(),oe=[1,0,0,0,1,0,0,0,1];function Y(J,$){J=J||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ee=Q;ee.model=J.model||m,ee.view=J.view||m,ee.projection=J.projection||m,ee.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ee.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ee.objectOffset=this.objectOffset,ee.contourColor=this.contourColor[0],ee.inverseModel=d(ee.inverseModel,ee.model);for(var ue=0;ue<2;++ue)for(var ge=ee.clipBounds[ue],Te=0;Te<3;++Te)ge[Te]=Math.min(Math.max(this.clipBounds[ue][Te],-1e8),1e8);ee.kambient=this.ambientLight,ee.kdiffuse=this.diffuseLight,ee.kspecular=this.specularLight,ee.roughness=this.roughness,ee.fresnel=this.fresnel,ee.opacity=this.opacity,ee.height=0,ee.permutation=oe,ee.vertexColor=this.vertexColor;var xe=re;for(s(xe,ee.view,ee.model),s(xe,ee.projection,xe),d(xe,xe),ue=0;ue<3;++ue)ee.eyePosition[ue]=xe[12+ue]/xe[15];var Pe=xe[15];for(ue=0;ue<3;++ue)Pe+=this.lightPosition[ue]*xe[4*ue+3];for(ue=0;ue<3;++ue){var Ie=xe[12+ue];for(Te=0;Te<3;++Te)Ie+=xe[4*Te+ue]*this.lightPosition[Te];ee.lightPosition[ue]=Ie/Pe}var Ae=q(ee,this);if(Ae.showSurface){for(this._shader.bind(),this._shader.uniforms=ee,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),ue=0;ue<3;++ue)!this.surfaceProject[ue]||!this.vertexCount||(this._shader.uniforms.model=Ae.projections[ue],this._shader.uniforms.clipBounds=Ae.clipBounds[ue],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var be=this._contourShader;ee.kambient=1,ee.kdiffuse=0,ee.kspecular=0,ee.opacity=1,be.bind(),be.uniforms=ee;var _e=this._contourVAO;for(_e.bind(),ue=0;ue<3;++ue)for(be.uniforms.permutation=_[ue],se.lineWidth(this.contourWidth[ue]*this.pixelRatio),Te=0;Te<this.contourLevels[ue].length;++Te)Te===this.highlightLevel[ue]?(be.uniforms.contourColor=this.highlightColor[ue],be.uniforms.contourTint=this.highlightTint[ue]):(Te===0||Te-1===this.highlightLevel[ue])&&(be.uniforms.contourColor=this.contourColor[ue],be.uniforms.contourTint=this.contourTint[ue]),this._contourCounts[ue][Te]&&(be.uniforms.height=this.contourLevels[ue][Te],_e.draw(se.LINES,this._contourCounts[ue][Te],this._contourOffsets[ue][Te]));for(ue=0;ue<3;++ue)for(be.uniforms.model=Ae.projections[ue],be.uniforms.clipBounds=Ae.clipBounds[ue],Te=0;Te<3;++Te)if(this.contourProject[ue][Te]){be.uniforms.permutation=_[Te],se.lineWidth(this.contourWidth[Te]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Te].length;++Ve)Ve===this.highlightLevel[Te]?(be.uniforms.contourColor=this.highlightColor[Te],be.uniforms.contourTint=this.highlightTint[Te]):(Ve===0||Ve-1===this.highlightLevel[Te])&&(be.uniforms.contourColor=this.contourColor[Te],be.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][Ve]&&(be.uniforms.height=this.contourLevels[Te][Ve],_e.draw(se.LINES,this._contourCounts[Te][Ve],this._contourOffsets[Te][Ve]))}for(_e.unbind(),_e=this._dynamicVAO,_e.bind(),ue=0;ue<3;++ue)if(this._dynamicCounts[ue]!==0)for(be.uniforms.model=ee.model,be.uniforms.clipBounds=ee.clipBounds,be.uniforms.permutation=_[ue],se.lineWidth(this.dynamicWidth[ue]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[ue],be.uniforms.contourTint=this.dynamicTint[ue],be.uniforms.height=this.dynamicLevel[ue],_e.draw(se.LINES,this._dynamicCounts[ue],this._dynamicOffsets[ue]),Te=0;Te<3;++Te)this.contourProject[Te][ue]&&(be.uniforms.model=Ae.projections[Te],be.uniforms.clipBounds=Ae.clipBounds[Te],_e.draw(se.LINES,this._dynamicCounts[ue],this._dynamicOffsets[ue]));_e.unbind()}}z.draw=function(J){return Y.call(this,J,!1)},z.drawTransparent=function(J){return Y.call(this,J,!0)};var G={model:m,view:m,projection:m,inverseModel:m,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};z.drawPick=function(J){J=J||{};var $=this.gl;$.disable($.CULL_FACE);var se=G;se.model=J.model||m,se.view=J.view||m,se.projection=J.projection||m,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=oe;for(var ee=0;ee<2;++ee)for(var ue=se.clipBounds[ee],ge=0;ge<3;++ge)ue[ge]=Math.min(Math.max(this.clipBounds[ee][ge],-1e8),1e8);var Te=q(se,this);if(Te.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw($.TRIANGLES,this._vertexCount),ee=0;ee<3;++ee)this.surfaceProject[ee]&&(this._pickShader.uniforms.model=Te.projections[ee],this._pickShader.uniforms.clipBounds=Te.clipBounds[ee],this._vao.draw($.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Te.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=se;var Pe=this._contourVAO;for(Pe.bind(),ge=0;ge<3;++ge)for($.lineWidth(this.contourWidth[ge]*this.pixelRatio),xe.uniforms.permutation=_[ge],ee=0;ee<this.contourLevels[ge].length;++ee)this._contourCounts[ge][ee]&&(xe.uniforms.height=this.contourLevels[ge][ee],Pe.draw($.LINES,this._contourCounts[ge][ee],this._contourOffsets[ge][ee]));for(ee=0;ee<3;++ee)for(xe.uniforms.model=Te.projections[ee],xe.uniforms.clipBounds=Te.clipBounds[ee],ge=0;ge<3;++ge)if(this.contourProject[ee][ge]){xe.uniforms.permutation=_[ge],$.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var Ie=0;Ie<this.contourLevels[ge].length;++Ie)this._contourCounts[ge][Ie]&&(xe.uniforms.height=this.contourLevels[ge][Ie],Pe.draw($.LINES,this._contourCounts[ge][Ie],this._contourOffsets[ge][Ie]))}Pe.unbind()}},z.pick=function(J){if(!J||J.id!==this.pickId)return null;var $=this._field[2].shape,se=this._pickResult,ee=$[0]*(J.value[0]+(J.value[2]>>4)/16)/255,ue=Math.floor(ee),ge=ee-ue,Te=$[1]*(J.value[1]+(J.value[2]&15)/16)/255,xe=Math.floor(Te),Pe=Te-xe;ue+=1,xe+=1;var Ie=se.position;Ie[0]=Ie[1]=Ie[2]=0;for(var Ae=0;Ae<2;++Ae)for(var be=Ae?ge:1-ge,_e=0;_e<2;++_e)for(var Ve=_e?Pe:1-Pe,We=ue+Ae,ze=xe+_e,Ze=be*Ve,ct=0;ct<3;++ct)Ie[ct]+=this._field[ct].get(We,ze)*Ze;for(var lt=this._pickResult.level,at=0;at<3;++at)if(lt[at]=S.le(this.contourLevels[at],Ie[at]),lt[at]<0)this.contourLevels[at].length>0&&(lt[at]=0);else if(lt[at]<this.contourLevels[at].length-1){var tt=this.contourLevels[at][lt[at]],dt=this.contourLevels[at][lt[at]+1];Math.abs(tt-Ie[at])>Math.abs(dt-Ie[at])&&(lt[at]+=1)}for(se.index[0]=ge<.5?ue:ue+1,se.index[1]=Pe<.5?xe:xe+1,se.uv[0]=ee/$[0],se.uv[1]=Te/$[1],ct=0;ct<3;++ct)se.dataCoordinate[ct]=this._field[ct].get(se.index[0],se.index[1]);return se},z.padField=function(J,$){var se=$.shape.slice(),ee=J.shape.slice();x.assign(J.lo(1,1).hi(se[0],se[1]),$),x.assign(J.lo(1).hi(se[0],1),$.hi(se[0],1)),x.assign(J.lo(1,ee[1]-1).hi(se[0],1),$.lo(0,se[1]-1).hi(se[0],1)),x.assign(J.lo(0,1).hi(1,se[1]),$.hi(1)),x.assign(J.lo(ee[0]-1,1).hi(1,se[1]),$.lo(se[0]-1)),J.set(0,0,$.get(0,0)),J.set(0,ee[1]-1,$.get(0,se[1]-1)),J.set(ee[0]-1,0,$.get(se[0]-1,0)),J.set(ee[0]-1,ee[1]-1,$.get(se[0]-1,se[1]-1))};function V(J,$){return Array.isArray(J)?[$(J[0]),$(J[1]),$(J[2])]:[$(J),$(J),$(J)]}function Z(J){return Array.isArray(J)?J.length===3?[J[0],J[1],J[2],1]:[J[0],J[1],J[2],J[3]]:[0,0,0,1]}function ae(J){if(Array.isArray(J)){if(Array.isArray(J))return[Z(J[0]),Z(J[1]),Z(J[2])];var $=Z(J);return[$.slice(),$.slice(),$.slice()]}}z.update=function(J){J=J||{},this.objectOffset=J.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in J&&(this.contourWidth=V(J.contourWidth,Number)),"showContour"in J&&(this.showContour=V(J.showContour,Boolean)),"showSurface"in J&&(this.showSurface=!!J.showSurface),"contourTint"in J&&(this.contourTint=V(J.contourTint,Boolean)),"contourColor"in J&&(this.contourColor=ae(J.contourColor)),"contourProject"in J&&(this.contourProject=V(J.contourProject,function(Xt){return V(Xt,Boolean)})),"surfaceProject"in J&&(this.surfaceProject=J.surfaceProject),"dynamicColor"in J&&(this.dynamicColor=ae(J.dynamicColor)),"dynamicTint"in J&&(this.dynamicTint=V(J.dynamicTint,Number)),"dynamicWidth"in J&&(this.dynamicWidth=V(J.dynamicWidth,Number)),"opacity"in J&&(this.opacity=J.opacity),"opacityscale"in J&&(this.opacityscale=J.opacityscale),"colorBounds"in J&&(this.colorBounds=J.colorBounds),"vertexColor"in J&&(this.vertexColor=J.vertexColor?1:0),"colormap"in J&&this._colorMap.setPixels(this.genColormap(J.colormap,this.opacityscale));var $=J.field||J.coords&&J.coords[2]||null,se=!1;if($||(this._field[2].shape[0]||this._field[2].shape[2]?$=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):$=this._field[2].hi(0,0)),"field"in J||"coords"in J){var ee=($.shape[0]+2)*($.shape[1]+2);ee>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(ee))),this._field[2]=T(this._field[2].data,[$.shape[0]+2,$.shape[1]+2]),this.padField(this._field[2],$),this.shape=$.shape.slice();for(var ue=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(c.freeFloat(this._field[ge].data),this._field[ge].data=c.mallocFloat(this._field[2].size)),this._field[ge]=T(this._field[ge].data,[ue[0]+2,ue[1]+2]);if(J.coords){var Te=J.coords;if(!Array.isArray(Te)||Te.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var xe=Te[ge];for(_e=0;_e<2;++_e)if(xe.shape[_e]!==ue[_e])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],xe)}}else if(J.ticks){var Pe=J.ticks;if(!Array.isArray(Pe)||Pe.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var Ie=Pe[ge];if((Array.isArray(Ie)||Ie.length)&&(Ie=T(Ie)),Ie.shape[0]!==ue[ge])throw new Error("gl-surface: invalid tick length");var Ae=T(Ie.data,ue);Ae.stride[ge]=Ie.stride[0],Ae.stride[ge^1]=0,this.padField(this._field[ge],Ae)}}else{for(ge=0;ge<2;++ge){var be=[0,0];be[ge]=1,this._field[ge]=T(this._field[ge].data,[ue[0]+2,ue[1]+2],be,0)}this._field[0].set(0,0,0);for(var _e=0;_e<ue[0];++_e)this._field[0].set(_e+1,0,_e);for(this._field[0].set(ue[0]+1,0,ue[0]-1),this._field[1].set(0,0,0),_e=0;_e<ue[1];++_e)this._field[1].set(0,_e+1,_e);this._field[1].set(0,ue[1]+1,ue[1]-1)}var Ve=this._field,We=T(c.mallocFloat(Ve[2].size*3*2),[3,ue[0]+2,ue[1]+2,2]);for(ge=0;ge<3;++ge)M(We.pick(ge),Ve[ge],"mirror");var ze=T(c.mallocFloat(Ve[2].size*3),[ue[0]+2,ue[1]+2,3]);for(ge=0;ge<ue[0]+2;++ge)for(_e=0;_e<ue[1]+2;++_e){var Ze=We.get(0,ge,_e,0),ct=We.get(0,ge,_e,1),lt=We.get(1,ge,_e,0),at=We.get(1,ge,_e,1),tt=We.get(2,ge,_e,0),dt=We.get(2,ge,_e,1),wt=lt*dt-at*tt,Mt=tt*ct-dt*Ze,It=Ze*at-ct*lt,$e=Math.sqrt(wt*wt+Mt*Mt+It*It);$e<1e-8?($e=Math.max(Math.abs(wt),Math.abs(Mt),Math.abs(It)),$e<1e-8?(It=1,Mt=wt=0,$e=1):$e=1/$e):$e=1/Math.sqrt($e),ze.set(ge,_e,0,wt*$e),ze.set(ge,_e,1,Mt*$e),ze.set(ge,_e,2,It*$e)}c.free(We.data);var ke=[1/0,1/0,1/0],Fe=[-1/0,-1/0,-1/0],qe=1/0,it=-1/0,Je=(ue[0]-1)*(ue[1]-1)*6,Re=c.mallocFloat(r.nextPow2(10*Je)),Me=0,fe=0;for(ge=0;ge<ue[0]-1;++ge){e:for(_e=0;_e<ue[1]-1;++_e){for(var ye=0;ye<2;++ye)for(var Le=0;Le<2;++Le)for(var Oe=0;Oe<3;++Oe){var ht=this._field[Oe].get(1+ge+ye,1+_e+Le);if(isNaN(ht)||!isFinite(ht))continue e}for(Oe=0;Oe<6;++Oe){var vt=ge+F[Oe][0],Lt=_e+F[Oe][1],Ot=this._field[0].get(vt+1,Lt+1),Jt=this._field[1].get(vt+1,Lt+1);ht=this._field[2].get(vt+1,Lt+1),wt=ze.get(vt+1,Lt+1,0),Mt=ze.get(vt+1,Lt+1,1),It=ze.get(vt+1,Lt+1,2),J.intensity&&(qt=J.intensity.get(vt,Lt));var qt=J.intensity?J.intensity.get(vt,Lt):ht+this.objectOffset[2];Re[Me++]=vt,Re[Me++]=Lt,Re[Me++]=Ot,Re[Me++]=Jt,Re[Me++]=ht,Re[Me++]=0,Re[Me++]=qt,Re[Me++]=wt,Re[Me++]=Mt,Re[Me++]=It,ke[0]=Math.min(ke[0],Ot+this.objectOffset[0]),ke[1]=Math.min(ke[1],Jt+this.objectOffset[1]),ke[2]=Math.min(ke[2],ht+this.objectOffset[2]),qe=Math.min(qe,qt),Fe[0]=Math.max(Fe[0],Ot+this.objectOffset[0]),Fe[1]=Math.max(Fe[1],Jt+this.objectOffset[1]),Fe[2]=Math.max(Fe[2],ht+this.objectOffset[2]),it=Math.max(it,qt),fe+=1}}}for(J.intensityBounds&&(qe=+J.intensityBounds[0],it=+J.intensityBounds[1]),ge=6;ge<Me;ge+=10)Re[ge]=(Re[ge]-qe)/(it-qe);this._vertexCount=fe,this._coordinateBuffer.update(Re.subarray(0,Me)),c.freeFloat(Re),c.free(ze.data),this.bounds=[ke,Fe],this.intensity=J.intensity||this._field[2],(this.intensityBounds[0]!==qe||this.intensityBounds[1]!==it)&&(se=!0),this.intensityBounds=[qe,it]}if("levels"in J){var Vt=J.levels;for(Array.isArray(Vt[0])?Vt=Vt.slice():Vt=[[],[],Vt],ge=0;ge<3;++ge)Vt[ge]=Vt[ge].slice(),Vt[ge].sort(function(Xt,ur){return Xt-ur});for(ge=0;ge<3;++ge)for(_e=0;_e<Vt[ge].length;++_e)Vt[ge][_e]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(Vt[ge].length!==this.contourLevels[ge].length){se=!0;break}for(_e=0;_e<Vt[ge].length;++_e)if(Vt[ge][_e]!==this.contourLevels[ge][_e]){se=!0;break e}}this.contourLevels=Vt}if(se){Ve=this._field,ue=this.shape;for(var vr=[],gr=0;gr<3;++gr){var Gr=this.contourLevels[gr],At=[],or=[],rr=[0,0,0];for(ge=0;ge<Gr.length;++ge){var Lr=f(this._field[gr],Gr[ge]);At.push(vr.length/5|0),fe=0;e:for(_e=0;_e<Lr.cells.length;++_e){var Tr=Lr.cells[_e];for(Oe=0;Oe<2;++Oe){var pt=Lr.positions[Tr[Oe]],st=pt[0],yt=Math.floor(st)|0,Pt=st-yt,Dt=pt[1],Nt=Math.floor(Dt)|0,Zt=Dt-Nt,$t=!1;t:for(var lr=0;lr<3;++lr){rr[lr]=0;var ir=(gr+lr+1)%3;for(ye=0;ye<2;++ye){var He=ye?Pt:1-Pt;for(vt=Math.min(Math.max(yt+ye,0),ue[0])|0,Le=0;Le<2;++Le){var Ge=Le?Zt:1-Zt;if(Lt=Math.min(Math.max(Nt+Le,0),ue[1])|0,lr<2?ht=this._field[ir].get(vt,Lt):ht=(this.intensity.get(vt,Lt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(ht)||isNaN(ht)){$t=!0;break t}var Ct=He*Ge;rr[lr]+=Ct*ht}}}if(!$t)vr.push(rr[0],rr[1],pt[0],pt[1],rr[2]),fe+=1;else{if(Oe>0){for(var Ut=0;Ut<5;++Ut)vr.pop();fe-=1}continue e}}}or.push(fe)}this._contourOffsets[gr]=At,this._contourCounts[gr]=or}var Kt=c.mallocFloat(vr.length);for(ge=0;ge<vr.length;++ge)Kt[ge]=vr[ge];this._contourBuffer.update(Kt),c.freeFloat(Kt)}},z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var J=0;J<3;++J)c.freeFloat(this._field[J].data)},z.highlight=function(J){var $;if(!J){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for($=0;$<3;++$)this.enableHighlight[$]?this.highlightLevel[$]=J.level[$]:this.highlightLevel[$]=-1;var se;for(this.snapToData?se=J.dataCoordinate:se=J.position,$=0;$<3;++$)se[$]-=this.objectOffset[$];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ee=0,ue=this.shape,ge=c.mallocFloat(12*ue[0]*ue[1]),Te=0;Te<3;++Te){if(!this.enableDynamic[Te]){this.dynamicLevel[Te]=NaN,this._dynamicCounts[Te]=0;continue}this.dynamicLevel[Te]=se[Te];var xe=(Te+1)%3,Pe=(Te+2)%3,Ie=this._field[Te],Ae=this._field[xe],be=this._field[Pe],_e=f(Ie,se[Te]),Ve=_e.cells,We=_e.positions;for(this._dynamicOffsets[Te]=ee,$=0;$<Ve.length;++$)for(var ze=Ve[$],Ze=0;Ze<2;++Ze){var ct=We[ze[Ze]],lt=+ct[0],at=lt|0,tt=Math.min(at+1,ue[0])|0,dt=lt-at,wt=1-dt,Mt=+ct[1],It=Mt|0,$e=Math.min(It+1,ue[1])|0,ke=Mt-It,Fe=1-ke,qe=wt*Fe,it=wt*ke,Je=dt*Fe,Re=dt*ke,Me=qe*Ae.get(at,It)+it*Ae.get(at,$e)+Je*Ae.get(tt,It)+Re*Ae.get(tt,$e),fe=qe*be.get(at,It)+it*be.get(at,$e)+Je*be.get(tt,It)+Re*be.get(tt,$e);if(isNaN(Me)||isNaN(fe)){Ze&&(ee-=1);break}ge[2*ee+0]=Me,ge[2*ee+1]=fe,ee+=1}this._dynamicCounts[Te]=ee-this._dynamicOffsets[Te]}this._dynamicBuffer.update(ge.subarray(0,2*ee)),c.freeFloat(ge)}};function ie(J){var $=J.gl,se=y($),ee=b($),ue=w($),ge=i($),Te=u($),xe=o($,[{buffer:Te,size:4,stride:E,offset:0},{buffer:Te,size:3,stride:E,offset:16},{buffer:Te,size:3,stride:E,offset:28}]),Pe=u($),Ie=o($,[{buffer:Pe,size:4,stride:20,offset:0},{buffer:Pe,size:1,stride:20,offset:16}]),Ae=u($),be=o($,[{buffer:Ae,size:2,type:$.FLOAT}]),_e=l($,1,I,$.RGBA,$.UNSIGNED_BYTE);_e.minFilter=$.LINEAR,_e.magFilter=$.LINEAR;var Ve=new O($,[0,0],[[0,0,0],[0,0,0]],se,ee,Te,xe,_e,ue,ge,Pe,Ie,Ae,be,[0,0,0]),We={levels:[[],[],[]]};for(var ze in J)We[ze]=J[ze];return We.colormap=We.colormap||"jet",Ve.update(We),Ve}},8931:function(v,g,t){var r=t(5050),u=t(7498),o=t(5306);v.exports=i;var l=null,c=null,n=null;function x(E){l=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],c=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],n=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,m){u.muls(E,m,255)};function f(E,m,F){var _=E.gl,B=_.getParameter(_.MAX_TEXTURE_SIZE);if(m<0||m>B||F<0||F>B)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[m,F],E.bind(),_.texImage2D(_.TEXTURE_2D,0,E.format,m,F,0,E.format,E.type,null),E._mipLevels=[0],E}function s(E,m,F,_,B,I){this.gl=E,this.handle=m,this.format=B,this.type=I,this._shape=[F,_],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,z=[this._wrapS,this._wrapT];Object.defineProperties(z,[{get:function(){return O._wrapS},set:function(N){return O.wrapS=N}},{get:function(){return O._wrapT},set:function(N){return O.wrapT=N}}]),this._wrapVector=z;var k=[this._shape[0],this._shape[1]];Object.defineProperties(k,[{get:function(){return O._shape[0]},set:function(N){return O.width=N}},{get:function(){return O._shape[1]},set:function(N){return O.height=N}}]),this._shapeVector=k}var d=s.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),c.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),c.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var m=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,m!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),n.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),n.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var m=0;m<2;++m)if(n.indexOf(E[m])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return f(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,f(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,f(this,this._shape[0],E),E}}}),d.bind=function(E){var m=this.gl;return E!==void 0&&m.activeTexture(m.TEXTURE0+(E|0)),m.bindTexture(m.TEXTURE_2D,this.handle),E!==void 0?E|0:m.getParameter(m.ACTIVE_TEXTURE)-m.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),m=0;E>0;++m,E>>>=1)this._mipLevels.indexOf(m)<0&&this._mipLevels.push(m)},d.setPixels=function(E,m,F,_){var B=this.gl;this.bind(),Array.isArray(m)?(_=F,F=m[1]|0,m=m[0]|0):(m=m||0,F=F||0),_=_||0;var I=h(E)?E:E.raw;if(I){var O=this._mipLevels.indexOf(_)<0;O?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,I),this._mipLevels.push(_)):B.texSubImage2D(B.TEXTURE_2D,_,m,F,this.format,this.type,I)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||m+E.shape[1]>this._shape[1]>>>_||F+E.shape[0]>this._shape[0]>>>_||m<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");M(B,m,F,_,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function S(E,m){return E.length===3?m[2]===1&&m[1]===E[0]*E[2]&&m[0]===E[2]:m[0]===1&&m[1]===E[0]}function M(E,m,F,_,B,I,O,z){var k=z.dtype,N=z.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var K=0,q=0,Q=S(N,z.stride.slice());if(k==="float32"?K=E.FLOAT:k==="float64"?(K=E.FLOAT,Q=!1,k="float32"):k==="uint8"?K=E.UNSIGNED_BYTE:(K=E.UNSIGNED_BYTE,Q=!1,k="uint8"),N.length===2)q=E.LUMINANCE,N=[N[0],N[1],1],z=r(z.data,N,[z.stride[0],z.stride[1],1],z.offset);else if(N.length===3){if(N[2]===1)q=E.ALPHA;else if(N[2]===2)q=E.LUMINANCE_ALPHA;else if(N[2]===3)q=E.RGB;else if(N[2]===4)q=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");N[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===E.LUMINANCE||q===E.ALPHA)&&(B===E.LUMINANCE||B===E.ALPHA)&&(q=B),q!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var re=z.size,oe=O.indexOf(_)<0;if(oe&&O.push(_),K===I&&Q)z.offset===0&&z.data.length===re?oe?E.texImage2D(E.TEXTURE_2D,_,B,N[0],N[1],0,B,I,z.data):E.texSubImage2D(E.TEXTURE_2D,_,m,F,N[0],N[1],B,I,z.data):oe?E.texImage2D(E.TEXTURE_2D,_,B,N[0],N[1],0,B,I,z.data.subarray(z.offset,z.offset+re)):E.texSubImage2D(E.TEXTURE_2D,_,m,F,N[0],N[1],B,I,z.data.subarray(z.offset,z.offset+re));else{var Y;I===E.FLOAT?Y=o.mallocFloat32(re):Y=o.mallocUint8(re);var G=r(Y,N,[N[2],N[2]*N[0],1]);K===E.FLOAT&&I===E.UNSIGNED_BYTE?T(G,z):u.assign(G,z),oe?E.texImage2D(E.TEXTURE_2D,_,B,N[0],N[1],0,B,I,Y.subarray(0,re)):E.texSubImage2D(E.TEXTURE_2D,_,m,F,N[0],N[1],B,I,Y.subarray(0,re)),I===E.FLOAT?o.freeFloat32(Y):o.freeUint8(Y)}}function C(E){var m=E.createTexture();return E.bindTexture(E.TEXTURE_2D,m),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),m}function y(E,m,F,_,B){var I=E.getParameter(E.MAX_TEXTURE_SIZE);if(m<0||m>I||F<0||F>I)throw new Error("gl-texture2d: Invalid texture shape");if(B===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,_,m,F,0,_,B,null),new s(E,O,m,F,_,B)}function w(E,m,F,_,B,I){var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,B,B,I,m),new s(E,O,F,_,B,I)}function b(E,m){var F=m.dtype,_=m.shape.slice(),B=E.getParameter(E.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>B||_[1]<0||_[1]>B)throw new Error("gl-texture2d: Invalid texture size");var I=S(_,m.stride.slice()),O=0;F==="float32"?O=E.FLOAT:F==="float64"?(O=E.FLOAT,I=!1,F="float32"):F==="uint8"?O=E.UNSIGNED_BYTE:(O=E.UNSIGNED_BYTE,I=!1,F="uint8");var z=0;if(_.length===2)z=E.LUMINANCE,_=[_[0],_[1],1],m=r(m.data,_,[m.stride[0],m.stride[1],1],m.offset);else if(_.length===3)if(_[2]===1)z=E.ALPHA;else if(_[2]===2)z=E.LUMINANCE_ALPHA;else if(_[2]===3)z=E.RGB;else if(_[2]===4)z=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===E.FLOAT&&!E.getExtension("OES_texture_float")&&(O=E.UNSIGNED_BYTE,I=!1);var k,N,K=m.size;if(I)m.offset===0&&m.data.length===K?k=m.data:k=m.data.subarray(m.offset,m.offset+K);else{var q=[_[2],_[2]*_[0],1];N=o.malloc(K,F);var Q=r(N,_,q,0);(F==="float32"||F==="float64")&&O===E.UNSIGNED_BYTE?T(Q,m):u.assign(Q,m),k=N.subarray(0,K)}var re=C(E);return E.texImage2D(E.TEXTURE_2D,0,z,_[0],_[1],0,z,O,k),I||o.free(N),new s(E,re,_[0],_[1],z,O)}function i(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||x(E),typeof arguments[1]=="number")return y(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var m=arguments[1],F=h(m)?m:m.raw;if(F)return w(E,F,m.width|0,m.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(m.shape&&m.data&&m.stride)return b(E,m)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function g(t,r,u){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var o=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>o)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<u.length;++l){var c=u[l];if(c.buffer){var n=c.buffer,x=c.size||4,h=c.type||t.FLOAT,T=!!c.normalized,f=c.stride||0,s=c.offset||0;n.bind(),t.enableVertexAttribArray(l),t.vertexAttribPointer(l,x,h,T,f,s)}else{if(typeof c=="number")t.vertexAttrib1f(l,c);else if(c.length===1)t.vertexAttrib1f(l,c[0]);else if(c.length===2)t.vertexAttrib2f(l,c[0],c[1]);else if(c.length===3)t.vertexAttrib3f(l,c[0],c[1],c[2]);else if(c.length===4)t.vertexAttrib4f(l,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(l)}}for(;l<o;++l)t.disableVertexAttribArray(l)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var l=0;l<o;++l)t.disableVertexAttribArray(l)}}v.exports=g},7220:function(v,g,t){var r=t(3056);function u(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}u.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},u.prototype.update=function(l,c,n){this._elements=c,this._attributes=l,this._elementsType=n||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(l,c,n){n=n||0;var x=this.gl;this._elements?x.drawElements(l,c,this._elementsType,n):x.drawArrays(l,n,c)};function o(l){return new u(l)}v.exports=o},3778:function(v,g,t){var r=t(3056);function u(c,n,x,h,T,f){this.location=c,this.dimension=n,this.a=x,this.b=h,this.c=T,this.d=f}u.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function o(c,n,x){this.gl=c,this._ext=n,this.handle=x,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(c,n,x){if(this.bind(),r(this.gl,n,c),this.unbind(),this._attribs.length=0,c)for(var h=0;h<c.length;++h){var T=c[h];typeof T=="number"?this._attribs.push(new u(h,1,T)):Array.isArray(T)&&this._attribs.push(new u(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!n,this._elementsType=x||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(c,n,x){x=x||0;var h=this.gl;this._useElements?h.drawElements(c,n,this._elementsType,x):h.drawArrays(c,x,n)};function l(c,n){return new o(c,n,n.createVertexArrayOES())}v.exports=l},2944:function(v,g,t){var r=t(3778),u=t(7220);function o(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function l(c,n,x,h){var T=c.createVertexArray?new o(c):c.getExtension("OES_vertex_array_object"),f;return T?f=r(c,T):f=u(c),f.update(n,x,h),f}v.exports=l},2598:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t}},5879:function(v,g,t){v.exports=l;var r=t(5415),u=t(899),o=t(9305);function l(c,n){var x=r(c[0],c[1],c[2]),h=r(n[0],n[1],n[2]);u(x,x),u(h,h);var T=o(x,h);return T>1?0:Math.acos(T)}},8827:function(v){v.exports=g;function g(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=g;function g(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=g;function g(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=u[0],x=u[1],h=u[2];return t[0]=l*h-c*x,t[1]=c*n-o*h,t[2]=o*x-l*n,t}},5981:function(v,g,t){v.exports=t(8288)},8288:function(v){v.exports=g;function g(t,r){var u=r[0]-t[0],o=r[1]-t[1],l=r[2]-t[2];return Math.sqrt(u*u+o*o+l*l)}},8629:function(v,g,t){v.exports=t(7979)},7979:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t}},9305:function(v){v.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,g,t){v.exports=u;var r=t(154);function u(o,l){var c=o[0],n=o[1],x=o[2],h=l[0],T=l[1],f=l[2];return Math.abs(c-h)<=r*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(n-T)<=r*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(x-f)<=r*Math.max(1,Math.abs(x),Math.abs(f))}},5777:function(v){v.exports=g;function g(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=g;function g(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,g,t){v.exports=u;var r=t(8501)();function u(o,l,c,n,x,h){var T,f;for(l||(l=3),c||(c=0),n?f=Math.min(n*l+c,o.length):f=o.length,T=c;T<f;T+=l)r[0]=o[T],r[1]=o[T+1],r[2]=o[T+2],x(r,r,h),o[T]=r[0],o[T+1]=r[1],o[T+2]=r[2];return o}},5415:function(v){v.exports=g;function g(t,r,u){var o=new Float32Array(3);return o[0]=t,o[1]=r,o[2]=u,o}},2858:function(v,g,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,g,t){v.exports=t(4693)},4693:function(v){v.exports=g;function g(t){var r=t[0],u=t[1],o=t[2];return Math.sqrt(r*r+u*u+o*o)}},1868:function(v){v.exports=g;function g(t,r,u,o){var l=r[0],c=r[1],n=r[2];return t[0]=l+o*(u[0]-l),t[1]=c+o*(u[1]-c),t[2]=n+o*(u[2]-n),t}},1716:function(v){v.exports=g;function g(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t}},3605:function(v){v.exports=g;function g(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t}},5733:function(v,g,t){v.exports=t(105)},105:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t}},435:function(v){v.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=g;function g(t,r){var u=r[0],o=r[1],l=r[2],c=u*u+o*o+l*l;return c>0&&(c=1/Math.sqrt(c),t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c),t}},6660:function(v){v.exports=g;function g(t,r){r=r||1;var u=Math.random()*2*Math.PI,o=Math.random()*2-1,l=Math.sqrt(1-o*o)*r;return t[0]=Math.cos(u)*l,t[1]=Math.sin(u)*l,t[2]=o*r,t}},392:function(v){v.exports=g;function g(t,r,u,o){var l=u[1],c=u[2],n=r[1]-l,x=r[2]-c,h=Math.sin(o),T=Math.cos(o);return t[0]=r[0],t[1]=l+n*T-x*h,t[2]=c+n*h+x*T,t}},3222:function(v){v.exports=g;function g(t,r,u,o){var l=u[0],c=u[2],n=r[0]-l,x=r[2]-c,h=Math.sin(o),T=Math.cos(o);return t[0]=l+x*h+n*T,t[1]=r[1],t[2]=c+x*T-n*h,t}},3388:function(v){v.exports=g;function g(t,r,u,o){var l=u[0],c=u[1],n=r[0]-l,x=r[1]-c,h=Math.sin(o),T=Math.cos(o);return t[0]=l+n*T-x*h,t[1]=c+n*h+x*T,t[2]=r[2],t}},1624:function(v){v.exports=g;function g(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t}},6722:function(v){v.exports=g;function g(t,r,u,o){return t[0]=r[0]+u[0]*o,t[1]=r[1]+u[1]*o,t[2]=r[2]+u[2]*o,t}},831:function(v){v.exports=g;function g(t,r,u,o){return t[0]=r,t[1]=u,t[2]=o,t}},5294:function(v,g,t){v.exports=t(6403)},3303:function(v,g,t){v.exports=t(4337)},6403:function(v){v.exports=g;function g(t,r){var u=r[0]-t[0],o=r[1]-t[1],l=r[2]-t[2];return u*u+o*o+l*l}},4337:function(v){v.exports=g;function g(t){var r=t[0],u=t[1],o=t[2];return r*r+u*u+o*o}},8921:function(v,g,t){v.exports=t(911)},911:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t}},9908:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2];return t[0]=o*u[0]+l*u[3]+c*u[6],t[1]=o*u[1]+l*u[4]+c*u[7],t[2]=o*u[2]+l*u[5]+c*u[8],t}},3255:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=u[3]*o+u[7]*l+u[11]*c+u[15];return n=n||1,t[0]=(u[0]*o+u[4]*l+u[8]*c+u[12])/n,t[1]=(u[1]*o+u[5]*l+u[9]*c+u[13])/n,t[2]=(u[2]*o+u[6]*l+u[10]*c+u[14])/n,t}},6568:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=u[0],x=u[1],h=u[2],T=u[3],f=T*o+x*c-h*l,s=T*l+h*o-n*c,d=T*c+n*l-x*o,S=-n*o-x*l-h*c;return t[0]=f*T+S*-n+s*-h-d*-x,t[1]=s*T+S*-x+d*-n-f*-h,t[2]=d*T+S*-h+f*-x-s*-n,t}},3433:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t[3]=r[3]+u[3],t}},1413:function(v){v.exports=g;function g(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=g;function g(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=g;function g(t,r){var u=r[0]-t[0],o=r[1]-t[1],l=r[2]-t[2],c=r[3]-t[3];return Math.sqrt(u*u+o*o+l*l+c*c)}},205:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t[3]=r[3]/u[3],t}},4242:function(v){v.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=g;function g(t,r,u,o){var l=new Float32Array(4);return l[0]=t,l[1]=r,l[2]=u,l[3]=o,l}},4020:function(v,g,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=g;function g(t){var r=t[0],u=t[1],o=t[2],l=t[3];return Math.sqrt(r*r+u*u+o*o+l*l)}},8746:function(v){v.exports=g;function g(t,r,u,o){var l=r[0],c=r[1],n=r[2],x=r[3];return t[0]=l+o*(u[0]-l),t[1]=c+o*(u[1]-c),t[2]=n+o*(u[2]-n),t[3]=x+o*(u[3]-x),t}},3030:function(v){v.exports=g;function g(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t[3]=Math.max(r[3],u[3]),t}},2170:function(v){v.exports=g;function g(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t[3]=Math.min(r[3],u[3]),t}},746:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t[3]=r[3]*u[3],t}},6459:function(v){v.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=g;function g(t,r){var u=r[0],o=r[1],l=r[2],c=r[3],n=u*u+o*o+l*l+c*c;return n>0&&(n=1/Math.sqrt(n),t[0]=u*n,t[1]=o*n,t[2]=l*n,t[3]=c*n),t}},3770:function(v,g,t){var r=t(381),u=t(5510);v.exports=o;function o(l,c){return c=c||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),r(l,l),u(l,l,c),l}},5510:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t[3]=r[3]*u,t}},4224:function(v){v.exports=g;function g(t,r,u,o){return t[0]=r[0]+u[0]*o,t[1]=r[1]+u[1]*o,t[2]=r[2]+u[2]*o,t[3]=r[3]+u[3]*o,t}},6453:function(v){v.exports=g;function g(t,r,u,o,l){return t[0]=r,t[1]=u,t[2]=o,t[3]=l,t}},1542:function(v){v.exports=g;function g(t,r){var u=r[0]-t[0],o=r[1]-t[1],l=r[2]-t[2],c=r[3]-t[3];return u*u+o*o+l*l+c*c}},9037:function(v){v.exports=g;function g(t){var r=t[0],u=t[1],o=t[2],l=t[3];return r*r+u*u+o*o+l*l}},2705:function(v){v.exports=g;function g(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t[3]=r[3]-u[3],t}},6342:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=r[3];return t[0]=u[0]*o+u[4]*l+u[8]*c+u[12]*n,t[1]=u[1]*o+u[5]*l+u[9]*c+u[13]*n,t[2]=u[2]*o+u[6]*l+u[10]*c+u[14]*n,t[3]=u[3]*o+u[7]*l+u[11]*c+u[15]*n,t}},5022:function(v){v.exports=g;function g(t,r,u){var o=r[0],l=r[1],c=r[2],n=u[0],x=u[1],h=u[2],T=u[3],f=T*o+x*c-h*l,s=T*l+h*o-n*c,d=T*c+n*l-x*o,S=-n*o-x*l-h*c;return t[0]=f*T+S*-n+s*-h-d*-x,t[1]=s*T+S*-x+d*-n-f*-h,t[2]=d*T+S*-h+f*-x-s*-n,t[3]=r[3],t}},9365:function(v,g,t){var r=t(8096),u=t(7896);v.exports=o;function o(l){for(var c=Array.isArray(l)?l:r(l),n=0;n<c.length;n++){var x=c[n];if(x.type==="preprocessor"){var h=x.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],f=h[2];return(T?u(f):f).trim()}}}}},3193:function(v,g,t){v.exports=m;var r=t(399),u=t(9746),o=t(9525),l=t(9458),c=t(3585),n=999,x=9999,h=0,T=1,f=2,s=3,d=4,S=5,M=6,C=7,y=8,w=9,b=10,i=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function m(F){var _=0,B=0,I=n,O,z,k=[],N=[],K=1,q=0,Q=0,re=!1,oe=!1,Y="",G;F=F||{};var V=o,Z=r;F.version==="300 es"&&(V=c,Z=l);for(var ae={},ie={},_=0;_<V.length;_++)ae[V[_]]=!0;for(var _=0;_<Z.length;_++)ie[Z[_]]=!0;return function(We){return N=[],We!==null?$(We):se()};function J(We){We.length&&N.push({type:E[I],data:We,position:Q,line:K,column:q})}function $(We){_=0,We.toString&&(We=We.toString()),Y+=We.replace(/\r\n/g,`
`),G=Y.length;for(var ze;O=Y[_],_<G;){switch(ze=_,I){case h:_=xe();break;case T:_=Te();break;case f:_=ge();break;case s:_=Pe();break;case d:_=be();break;case i:_=Ae();break;case S:_=_e();break;case x:_=Ve();break;case w:_=ue();break;case n:_=ee();break}if(ze!==_)switch(Y[ze]){case`
`:q=0,++K;break;default:++q;break}}return B+=_,Y=Y.slice(_),N}function se(We){return k.length&&J(k.join("")),I=b,J("(eof)"),N}function ee(){return k=k.length?[]:k,z==="/"&&O==="*"?(Q=B+_-1,I=h,z=O,_+1):z==="/"&&O==="/"?(Q=B+_-1,I=T,z=O,_+1):O==="#"?(I=f,Q=B+_,_):/\s/.test(O)?(I=w,Q=B+_,_):(re=/\d/.test(O),oe=/[^\w_]/.test(O),Q=B+_,I=re?d:oe?s:x,_)}function ue(){return/[^\s]/g.test(O)?(J(k.join("")),I=n,_):(k.push(O),z=O,_+1)}function ge(){return(O==="\r"||O===`
`)&&z!=="\\"?(J(k.join("")),I=n,_):(k.push(O),z=O,_+1)}function Te(){return ge()}function xe(){return O==="/"&&z==="*"?(k.push(O),J(k.join("")),I=n,_+1):(k.push(O),z=O,_+1)}function Pe(){if(z==="."&&/\d/.test(O))return I=S,_;if(z==="/"&&O==="*")return I=h,_;if(z==="/"&&O==="/")return I=T,_;if(O==="."&&k.length){for(;Ie(k););return I=S,_}if(O===";"||O===")"||O==="("){if(k.length)for(;Ie(k););return J(O),I=n,_+1}var We=k.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||We){for(;Ie(k););return I=n,_}return k.push(O),z=O,_+1}function Ie(We){var ze=0,Ze,ct;do{if(Ze=u.indexOf(We.slice(0,We.length+ze).join("")),ct=u[Ze],Ze===-1){if(ze--+We.length>0)continue;ct=We.slice(0,1).join("")}return J(ct),Q+=ct.length,k=k.slice(ct.length),k.length}while(1)}function Ae(){return/[^a-fA-F0-9]/.test(O)?(J(k.join("")),I=n,_):(k.push(O),z=O,_+1)}function be(){return O==="."||/[eE]/.test(O)?(k.push(O),I=S,z=O,_+1):O==="x"&&k.length===1&&k[0]==="0"?(I=i,k.push(O),z=O,_+1):/[^\d]/.test(O)?(J(k.join("")),I=n,_):(k.push(O),z=O,_+1)}function _e(){return O==="f"&&(k.push(O),z=O,_+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(z)?(k.push(O),z=O,_+1):/[^\d]/.test(O)?(J(k.join("")),I=n,_):(k.push(O),z=O,_+1)}function Ve(){if(/[^\d\w_]/.test(O)){var We=k.join("");return ie[We]?I=y:ae[We]?I=C:I=M,J(k.join("")),I=n,_}return k.push(O),z=O,_+1}}},3585:function(v,g,t){var r=t(9525);r=r.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,g,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,g,t){var r=t(3193);v.exports=u;function u(o,l){var c=r(l),n=[];return n=n.concat(c(o)),n=n.concat(c(null)),n}},6832:function(v){v.exports=function(g){typeof g=="string"&&(g=[g]);for(var t=[].slice.call(arguments,1),r=[],u=0;u<g.length-1;u++)r.push(g[u],t[u]||"");return r.push(g[u]),r.join("")}},5233:function(v,g,t){var r=t(4846);function u(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{o=!1}return o}v.exports=r&&u()},2183:function(v,g,t){v.exports=s;var r=t(417),u=t(8211).H;function o(d,S,M){this.vertices=d,this.adjacent=S,this.boundary=M,this.lastVisited=-1}o.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function l(d,S,M){this.vertices=d,this.cell=S,this.index=M}function c(d,S){return u(d.vertices,S.vertices)}function n(d){return function(){var S=this.tuple;return d.apply(this,S)}}function x(d){var S=r[d+1];return S||(S=r),n(S)}var h=[];function T(d,S,M){this.dimension=d,this.vertices=S,this.simplices=M,this.interior=M.filter(function(w){return!w.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var y=h[d];y||(y=h[d]=x(d)),this.orient=y}var f=T.prototype;f.handleBoundaryDegeneracy=function(d,S){var M=this.dimension,C=this.vertices.length-1,y=this.tuple,w=this.vertices,b=[d];for(d.lastVisited=-C;b.length>0;){d=b.pop();for(var i=d.adjacent,E=0;E<=M;++E){var m=i[E];if(!(!m.boundary||m.lastVisited<=-C)){for(var F=m.vertices,_=0;_<=M;++_){var B=F[_];B<0?y[_]=S:y[_]=w[B]}var I=this.orient();if(I>0)return m;m.lastVisited=-C,I===0&&b.push(m)}}}return null},f.walk=function(d,S){var M=this.vertices.length-1,C=this.dimension,y=this.vertices,w=this.tuple,b=S?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[b];e:for(;!i.boundary;){for(var E=i.vertices,m=i.adjacent,F=0;F<=C;++F)w[F]=y[E[F]];i.lastVisited=M;for(var F=0;F<=C;++F){var _=m[F];if(!(_.lastVisited>=M)){var B=w[F];w[F]=d;var I=this.orient();if(w[F]=B,I<0){i=_;continue e}else _.boundary?_.lastVisited=-M:_.lastVisited=M}}return}return i},f.addPeaks=function(d,S){var M=this.vertices.length-1,C=this.dimension,y=this.vertices,w=this.tuple,b=this.interior,i=this.simplices,E=[S];S.lastVisited=M,S.vertices[S.vertices.indexOf(-1)]=M,S.boundary=!1,b.push(S);for(var m=[];E.length>0;){var S=E.pop(),F=S.vertices,_=S.adjacent,B=F.indexOf(M);if(!(B<0)){for(var I=0;I<=C;++I)if(I!==B){var O=_[I];if(!(!O.boundary||O.lastVisited>=M)){var z=O.vertices;if(O.lastVisited!==-M){for(var k=0,N=0;N<=C;++N)z[N]<0?(k=N,w[N]=d):w[N]=y[z[N]];var K=this.orient();if(K>0){z[k]=M,O.boundary=!1,b.push(O),E.push(O),O.lastVisited=M;continue}else O.lastVisited=-M}var q=O.adjacent,Q=F.slice(),re=_.slice(),oe=new o(Q,re,!0);i.push(oe);var Y=q.indexOf(S);if(!(Y<0)){q[Y]=oe,re[B]=O,Q[I]=-1,re[I]=S,_[I]=oe,oe.flip();for(var N=0;N<=C;++N){var G=Q[N];if(!(G<0||G===M)){for(var V=new Array(C-1),Z=0,ae=0;ae<=C;++ae){var ie=Q[ae];ie<0||ae===N||(V[Z++]=ie)}m.push(new l(V,oe,N))}}}}}}}m.sort(c);for(var I=0;I+1<m.length;I+=2){var J=m[I],$=m[I+1],se=J.index,ee=$.index;se<0||ee<0||(J.cell.adjacent[J.index]=$.cell,$.cell.adjacent[$.index]=J.cell)}},f.insert=function(d,S){var M=this.vertices;M.push(d);var C=this.walk(d,S);if(C){for(var y=this.dimension,w=this.tuple,b=0;b<=y;++b){var i=C.vertices[b];i<0?w[b]=d:w[b]=M[i]}var E=this.orient(w);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},f.boundary=function(){for(var d=this.dimension,S=[],M=this.simplices,C=M.length,y=0;y<C;++y){var w=M[y];if(w.boundary){for(var b=new Array(d),i=w.vertices,E=0,m=0,F=0;F<=d;++F)i[F]>=0?b[E++]=i[F]:m=F&1;if(m===(d&1)){var _=b[0];b[0]=b[1],b[1]=_}S.push(b)}}return S};function s(d,S){var M=d.length;if(M===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(M<=C)throw new Error("Must input at least d+1 points");var y=d.slice(0,C+1),w=r.apply(void 0,y);if(w===0)throw new Error("Input not in general position");for(var b=new Array(C+1),i=0;i<=C;++i)b[i]=i;w<0&&(b[0]=1,b[1]=0);for(var E=new o(b,new Array(C+1),!1),m=E.adjacent,F=new Array(C+2),i=0;i<=C;++i){for(var _=b.slice(),B=0;B<=C;++B)B===i&&(_[B]=-1);var I=_[0];_[0]=_[1],_[1]=I;var O=new o(_,new Array(C+1),!0);m[i]=O,F[i]=O}F[C+1]=E;for(var i=0;i<=C;++i)for(var _=m[i].vertices,z=m[i].adjacent,B=0;B<=C;++B){var k=_[B];if(k<0){z[B]=E;continue}for(var N=0;N<=C;++N)m[N].vertices.indexOf(k)<0&&(z[B]=m[N])}for(var K=new T(C,y,F),q=!!S,i=C+1;i<M;++i)K.insert(d[i],q);return K.boundary()}},9014:function(v,g,t){var r=t(5070),u=0,o=1,l=2;v.exports=E;function c(m,F,_,B,I){this.mid=m,this.left=F,this.right=_,this.leftPoints=B,this.rightPoints=I,this.count=(F?F.count:0)+(_?_.count:0)+B.length}var n=c.prototype;function x(m,F){m.mid=F.mid,m.left=F.left,m.right=F.right,m.leftPoints=F.leftPoints,m.rightPoints=F.rightPoints,m.count=F.count}function h(m,F){var _=w(F);m.mid=_.mid,m.left=_.left,m.right=_.right,m.leftPoints=_.leftPoints,m.rightPoints=_.rightPoints,m.count=_.count}function T(m,F){var _=m.intervals([]);_.push(F),h(m,_)}function f(m,F){var _=m.intervals([]),B=_.indexOf(F);return B<0?u:(_.splice(B,1),h(m,_),o)}n.intervals=function(m){return m.push.apply(m,this.leftPoints),this.left&&this.left.intervals(m),this.right&&this.right.intervals(m),m},n.insert=function(m){var F=this.count-this.leftPoints.length;if(this.count+=1,m[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?T(this,m):this.left.insert(m):this.left=w([m]);else if(m[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?T(this,m):this.right.insert(m):this.right=w([m]);else{var _=r.ge(this.leftPoints,m,C),B=r.ge(this.rightPoints,m,y);this.leftPoints.splice(_,0,m),this.rightPoints.splice(B,0,m)}},n.remove=function(m){var F=this.count-this.leftPoints;if(m[1]<this.mid){if(!this.left)return u;var _=this.right?this.right.count:0;if(4*_>3*(F-1))return f(this,m);var B=this.left.remove(m);return B===l?(this.left=null,this.count-=1,o):(B===o&&(this.count-=1),B)}else if(m[0]>this.mid){if(!this.right)return u;var I=this.left?this.left.count:0;if(4*I>3*(F-1))return f(this,m);var B=this.right.remove(m);return B===l?(this.right=null,this.count-=1,o):(B===o&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===m?l:u;if(this.leftPoints.length===1&&this.leftPoints[0]===m){if(this.left&&this.right){for(var O=this,z=this.left;z.right;)O=z,z=z.right;if(O===this)z.right=this.right;else{var k=this.left,B=this.right;O.count-=z.count,O.right=z.left,z.left=k,z.right=B}x(this,z),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?x(this,this.left):x(this,this.right);return o}for(var k=r.ge(this.leftPoints,m,C);k<this.leftPoints.length&&this.leftPoints[k][0]===m[0];++k)if(this.leftPoints[k]===m){this.count-=1,this.leftPoints.splice(k,1);for(var B=r.ge(this.rightPoints,m,y);B<this.rightPoints.length&&this.rightPoints[B][1]===m[1];++B)if(this.rightPoints[B]===m)return this.rightPoints.splice(B,1),o}return u}};function s(m,F,_){for(var B=0;B<m.length&&m[B][0]<=F;++B){var I=_(m[B]);if(I)return I}}function d(m,F,_){for(var B=m.length-1;B>=0&&m[B][1]>=F;--B){var I=_(m[B]);if(I)return I}}function S(m,F){for(var _=0;_<m.length;++_){var B=F(m[_]);if(B)return B}}n.queryPoint=function(m,F){if(m<this.mid){if(this.left){var _=this.left.queryPoint(m,F);if(_)return _}return s(this.leftPoints,m,F)}else if(m>this.mid){if(this.right){var _=this.right.queryPoint(m,F);if(_)return _}return d(this.rightPoints,m,F)}else return S(this.leftPoints,F)},n.queryInterval=function(m,F,_){if(m<this.mid&&this.left){var B=this.left.queryInterval(m,F,_);if(B)return B}if(F>this.mid&&this.right){var B=this.right.queryInterval(m,F,_);if(B)return B}return F<this.mid?s(this.leftPoints,F,_):m>this.mid?d(this.rightPoints,m,_):S(this.leftPoints,_)};function M(m,F){return m-F}function C(m,F){var _=m[0]-F[0];return _||m[1]-F[1]}function y(m,F){var _=m[1]-F[1];return _||m[0]-F[0]}function w(m){if(m.length===0)return null;for(var F=[],_=0;_<m.length;++_)F.push(m[_][0],m[_][1]);F.sort(M);for(var B=F[F.length>>1],I=[],O=[],z=[],_=0;_<m.length;++_){var k=m[_];k[1]<B?I.push(k):B<k[0]?O.push(k):z.push(k)}var N=z,K=z.slice();return N.sort(C),K.sort(y),new c(B,w(I),w(O),N,K)}function b(m){this.root=m}var i=b.prototype;i.insert=function(m){this.root?this.root.insert(m):this.root=new c(m[0],null,null,[m],[m])},i.remove=function(m){if(this.root){var F=this.root.remove(m);return F===l&&(this.root=null),F!==u}return!1},i.queryPoint=function(m,F){if(this.root)return this.root.queryPoint(m,F)},i.queryInterval=function(m,F,_){if(m<=F&&this.root)return this.root.queryInterval(m,F,_)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(m){return!m||m.length===0?new b(null):new b(w(m))}},9560:function(v){function g(t){for(var r=new Array(t),u=0;u<t;++u)r[u]=u;return r}v.exports=g},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(g(r)||t(r)||!!r._isBuffer)};function g(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&g(r.slice(0,0))}},2861:function(v){v.exports=r,v.exports.isMobile=r,v.exports.default=r;var g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function r(u){u||(u={});var o=u.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;var l=u.tablet?t.test(o):g.test(o);return!l&&u.tablet&&u.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(l=!0),l}},3596:function(v){v.exports=function(g){for(var t=g.length,r,u=0;u<t;u++)if(r=g.charCodeAt(u),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function g(t,r,u){return t*(1-u)+r*u}v.exports=g},7191:function(v,g,t){var r=t(4690),u=t(9823),o=t(7332),l=t(7787),c=t(7437),n=t(2142),x={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},h=u(),T=u(),f=[0,0,0,0],s=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(w,b,i,E,m,F){if(b||(b=[0,0,0]),i||(i=[0,0,0]),E||(E=[0,0,0]),m||(m=[0,0,0,1]),F||(F=[0,0,0,1]),!r(h,w)||(o(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var _=h[3],B=h[7],I=h[11],O=h[12],z=h[13],k=h[14],N=h[15];if(_!==0||B!==0||I!==0){f[0]=_,f[1]=B,f[2]=I,f[3]=N;var K=c(T,T);if(!K)return!1;n(T,T),S(m,f,T)}else m[0]=m[1]=m[2]=0,m[3]=1;if(b[0]=O,b[1]=z,b[2]=k,M(s,h),i[0]=x.length(s[0]),x.normalize(s[0],s[0]),E[0]=x.dot(s[0],s[1]),C(s[1],s[1],s[0],1,-E[0]),i[1]=x.length(s[1]),x.normalize(s[1],s[1]),E[0]/=i[1],E[1]=x.dot(s[0],s[2]),C(s[2],s[2],s[0],1,-E[1]),E[2]=x.dot(s[1],s[2]),C(s[2],s[2],s[1],1,-E[2]),i[2]=x.length(s[2]),x.normalize(s[2],s[2]),E[1]/=i[2],E[2]/=i[2],x.cross(d,s[1],s[2]),x.dot(s[0],d)<0)for(var q=0;q<3;q++)i[q]*=-1,s[q][0]*=-1,s[q][1]*=-1,s[q][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+s[0][0]-s[1][1]-s[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-s[0][0]+s[1][1]-s[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-s[0][0]-s[1][1]+s[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+s[0][0]+s[1][1]+s[2][2],0)),s[2][1]>s[1][2]&&(F[0]=-F[0]),s[0][2]>s[2][0]&&(F[1]=-F[1]),s[1][0]>s[0][1]&&(F[2]=-F[2]),!0};function S(y,w,b){var i=w[0],E=w[1],m=w[2],F=w[3];return y[0]=b[0]*i+b[4]*E+b[8]*m+b[12]*F,y[1]=b[1]*i+b[5]*E+b[9]*m+b[13]*F,y[2]=b[2]*i+b[6]*E+b[10]*m+b[14]*F,y[3]=b[3]*i+b[7]*E+b[11]*m+b[15]*F,y}function M(y,w){y[0][0]=w[0],y[0][1]=w[1],y[0][2]=w[2],y[1][0]=w[4],y[1][1]=w[5],y[1][2]=w[6],y[2][0]=w[8],y[2][1]=w[9],y[2][2]=w[10]}function C(y,w,b,i,E){y[0]=w[0]*i+b[0]*E,y[1]=w[1]*i+b[1]*E,y[2]=w[2]*i+b[2]*E}},4690:function(v){v.exports=function(t,r){var u=r[15];if(u===0)return!1;for(var o=1/u,l=0;l<16;l++)t[l]=r[l]*o;return!0}},7649:function(v,g,t){var r=t(1868),u=t(1102),o=t(7191),l=t(7787),c=t(1116),n=f(),x=f(),h=f();v.exports=T;function T(S,M,C,y){if(l(M)===0||l(C)===0)return!1;var w=o(M,n.translate,n.scale,n.skew,n.perspective,n.quaternion),b=o(C,x.translate,x.scale,x.skew,x.perspective,x.quaternion);return!w||!b?!1:(r(h.translate,n.translate,x.translate,y),r(h.skew,n.skew,x.skew,y),r(h.scale,n.scale,x.scale,y),r(h.perspective,n.perspective,x.perspective,y),c(h.quaternion,n.quaternion,x.quaternion,y),u(S,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function f(){return{translate:s(),scale:s(1),skew:s(),perspective:d(),quaternion:d()}}function s(S){return[S||0,S||0,S||0]}function d(){return[0,0,0,1]}},1102:function(v,g,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var u=r.create();v.exports=function(l,c,n,x,h,T){return r.identity(l),r.fromRotationTranslation(l,T,c),l[3]=h[0],l[7]=h[1],l[11]=h[2],l[15]=h[3],r.identity(u),x[2]!==0&&(u[9]=x[2],r.multiply(l,l,u)),x[1]!==0&&(u[9]=0,u[8]=x[1],r.multiply(l,l,u)),x[0]!==0&&(u[8]=0,u[4]=x[0],r.multiply(l,l,u)),r.scale(l,l,n),l}},9298:function(v,g,t){var r=t(5070),u=t(7649),o=t(7437),l=t(6109),c=t(7115),n=t(5240),x=t(3012),h=t(998);t(3668);var T=t(899),f=[0,0,0];v.exports=M;function s(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=s.prototype;d.recalcMatrix=function(C){var y=this._time,w=r.le(y,C),b=this.computedMatrix;if(!(w<0)){var i=this._components;if(w===y.length-1)for(var E=16*w,m=0;m<16;++m)b[m]=i[E++];else{for(var F=y[w+1]-y[w],E=16*w,_=this.prevMatrix,B=!0,m=0;m<16;++m)_[m]=i[E++];for(var I=this.nextMatrix,m=0;m<16;++m)I[m]=i[E++],B=B&&_[m]===I[m];if(F<1e-6||B)for(var m=0;m<16;++m)b[m]=_[m];else u(b,_,I,(C-y[w])/F)}var O=this.computedUp;O[0]=b[1],O[1]=b[5],O[2]=b[9],T(O,O);var z=this.computedInverse;o(z,b);var k=this.computedEye,N=z[15];k[0]=z[12]/N,k[1]=z[13]/N,k[2]=z[14]/N;for(var K=this.computedCenter,q=Math.exp(this.computedRadius[0]),m=0;m<3;++m)K[m]=k[m]-b[2+4*m]*q}},d.idle=function(C){if(!(C<this.lastT())){for(var y=this._components,w=y.length-16,b=0;b<16;++b)y.push(y[w++]);this._time.push(C)}},d.flush=function(C){var y=r.gt(this._time,C)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,y,w,b){this.recalcMatrix(C),y=y||this.computedEye,w=w||f,b=b||this.computedUp,this.setMatrix(C,x(this.computedMatrix,y,w,b));for(var i=0,E=0;E<3;++E)i+=Math.pow(w[E]-y[E],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},d.rotate=function(C,y,w,b){this.recalcMatrix(C);var i=this.computedInverse;y&&c(i,i,y),w&&l(i,i,w),b&&n(i,i,b),this.setMatrix(C,o(this.computedMatrix,i))};var S=[0,0,0];d.pan=function(C,y,w,b){S[0]=-(y||0),S[1]=-(w||0),S[2]=-(b||0),this.recalcMatrix(C);var i=this.computedInverse;h(i,i,S),this.setMatrix(C,o(i,i))},d.translate=function(C,y,w,b){S[0]=y||0,S[1]=w||0,S[2]=b||0,this.recalcMatrix(C);var i=this.computedMatrix;h(i,i,S),this.setMatrix(C,i)},d.setMatrix=function(C,y){if(!(C<this.lastT())){this._time.push(C);for(var w=0;w<16;++w)this._components.push(y[w])}},d.setDistance=function(C,y){this.computedRadius[0]=y},d.setDistanceLimits=function(C,y){var w=this._limits;w[0]=C,w[1]=y},d.getDistanceLimits=function(C){var y=this._limits;return C?(C[0]=y[0],C[1]=y[1],C):y};function M(C){C=C||{};var y=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new s(y)}},3266:function(v,g,t){v.exports=u;var r=t(417)[3];function u(o){var l=o.length;if(l<3){for(var d=new Array(l),c=0;c<l;++c)d[c]=c;return l===2&&o[0][0]===o[1][0]&&o[0][1]===o[1][1]?[0]:d}for(var n=new Array(l),c=0;c<l;++c)n[c]=c;n.sort(function(y,w){var b=o[y][0]-o[w][0];return b||o[y][1]-o[w][1]});for(var x=[n[0],n[1]],h=[n[0],n[1]],c=2;c<l;++c){for(var T=n[c],f=o[T],s=x.length;s>1&&r(o[x[s-2]],o[x[s-1]],f)<=0;)s-=1,x.pop();for(x.push(T),s=h.length;s>1&&r(o[h[s-2]],o[h[s-1]],f)>=0;)s-=1,h.pop();h.push(T)}for(var d=new Array(h.length+x.length-2),S=0,c=0,M=x.length;c<M;++c)d[S++]=x[c];for(var C=h.length-2;C>0;--C)d[S++]=h[C];return d}},6145:function(v,g,t){v.exports=u;var r=t(4110);function u(o,l){l||(l=o,o=window);var c=0,n=0,x=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function f(m){var F=!1;return"altKey"in m&&(F=F||m.altKey!==h.alt,h.alt=!!m.altKey),"shiftKey"in m&&(F=F||m.shiftKey!==h.shift,h.shift=!!m.shiftKey),"ctrlKey"in m&&(F=F||m.ctrlKey!==h.control,h.control=!!m.ctrlKey),"metaKey"in m&&(F=F||m.metaKey!==h.meta,h.meta=!!m.metaKey),F}function s(m,F){var _=r.x(F),B=r.y(F);"buttons"in F&&(m=F.buttons|0),(m!==c||_!==n||B!==x||f(F))&&(c=m|0,n=_||0,x=B||0,l&&l(c,n,x,h))}function d(m){s(0,m)}function S(){(c||n||x||h.shift||h.alt||h.meta||h.control)&&(n=x=0,c=0,h.shift=h.alt=h.control=h.meta=!1,l&&l(0,0,0,h))}function M(m){f(m)&&l&&l(c,n,x,h)}function C(m){r.buttons(m)===0?s(0,m):s(c,m)}function y(m){s(c|r.buttons(m),m)}function w(m){s(c&~r.buttons(m),m)}function b(){T||(T=!0,o.addEventListener("mousemove",C),o.addEventListener("mousedown",y),o.addEventListener("mouseup",w),o.addEventListener("mouseleave",d),o.addEventListener("mouseenter",d),o.addEventListener("mouseout",d),o.addEventListener("mouseover",d),o.addEventListener("blur",S),o.addEventListener("keyup",M),o.addEventListener("keydown",M),o.addEventListener("keypress",M),o!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",M),window.addEventListener("keydown",M),window.addEventListener("keypress",M)))}function i(){T&&(T=!1,o.removeEventListener("mousemove",C),o.removeEventListener("mousedown",y),o.removeEventListener("mouseup",w),o.removeEventListener("mouseleave",d),o.removeEventListener("mouseenter",d),o.removeEventListener("mouseout",d),o.removeEventListener("mouseover",d),o.removeEventListener("blur",S),o.removeEventListener("keyup",M),o.removeEventListener("keydown",M),o.removeEventListener("keypress",M),o!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",M),window.removeEventListener("keydown",M),window.removeEventListener("keypress",M)))}b();var E={element:o};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(m){m?b():i()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return n},enumerable:!0},y:{get:function(){return x},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},2565:function(v){var g={left:0,top:0};v.exports=t;function t(u,o,l){o=o||u.currentTarget||u.srcElement,Array.isArray(l)||(l=[0,0]);var c=u.clientX||0,n=u.clientY||0,x=r(o);return l[0]=c-x.left,l[1]=n-x.top,l}function r(u){return u===window||u===document||u===document.body?g:u.getBoundingClientRect()}},4110:function(v,g){function t(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var c=l.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in l){var c=l.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}g.buttons=t;function r(l){return l.target||l.srcElement||window}g.element=r;function u(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var c=r(l),n=c.getBoundingClientRect();return l.clientX-n.left}return 0}g.x=u;function o(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var c=r(l),n=c.getBoundingClientRect();return l.clientY-n.top}return 0}g.y=o},6475:function(v,g,t){var r=t(14);v.exports=u;function u(o,l,c){typeof o=="function"&&(c=!!l,l=o,o=window);var n=r("ex",o),x=function(h){c&&h.preventDefault();var T=h.deltaX||0,f=h.deltaY||0,s=h.deltaZ||0,d=h.deltaMode,S=1;switch(d){case 1:S=n;break;case 2:S=window.innerHeight;break}if(T*=S,f*=S,s*=S,T||f||s)return l(T,f,s,h)};return o.addEventListener("wheel",x),x}},9284:function(v,g,t){var r=t(5306);v.exports=l;var u={"false,0,1":function(n,x,h,T,f){return function(d,S,M,C){var y=d.shape[0]|0,w=d.shape[1]|0,b=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,F=i,_,B=-E|0,I=0,O=-m|0,z=0,k=-E-m|0,N=0,K=E|0,q=m-E*y|0,Q=0,re=0,oe=0,Y=2*y|0,G=T(Y),V=T(Y),Z=0,ae=0,ie=-1,J=-1,$=0,se=-y|0,ee=y|0,ue=0,ge=-y-1|0,Te=y-1|0,xe=0,Pe=0,Ie=0;for(Q=0;Q<y;++Q)G[Z++]=h(b[F],S,M,C),F+=K;if(F+=q,w>0){if(re=1,G[Z++]=h(b[F],S,M,C),F+=K,y>0)for(Q=1,_=b[F],ae=G[Z]=h(_,S,M,C),$=G[Z+ie],ue=G[Z+se],xe=G[Z+ge],(ae!==$||ae!==ue||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,$,ue,xe,S,M,C),Pe=V[Z]=oe++),Z+=1,F+=K,Q=2;Q<y;++Q)_=b[F],ae=G[Z]=h(_,S,M,C),$=G[Z+ie],ue=G[Z+se],xe=G[Z+ge],(ae!==$||ae!==ue||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,$,ue,xe,S,M,C),Pe=V[Z]=oe++,xe!==$&&x(V[Z+ie],Pe,N,I,xe,$,S,M,C)),Z+=1,F+=K;for(F+=q,Z=0,Ie=ie,ie=J,J=Ie,Ie=se,se=ee,ee=Ie,Ie=ge,ge=Te,Te=Ie,re=2;re<w;++re){if(G[Z++]=h(b[F],S,M,C),F+=K,y>0)for(Q=1,_=b[F],ae=G[Z]=h(_,S,M,C),$=G[Z+ie],ue=G[Z+se],xe=G[Z+ge],(ae!==$||ae!==ue||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,$,ue,xe,S,M,C),Pe=V[Z]=oe++,xe!==ue&&x(V[Z+se],Pe,z,N,ue,xe,S,M,C)),Z+=1,F+=K,Q=2;Q<y;++Q)_=b[F],ae=G[Z]=h(_,S,M,C),$=G[Z+ie],ue=G[Z+se],xe=G[Z+ge],(ae!==$||ae!==ue||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,$,ue,xe,S,M,C),Pe=V[Z]=oe++,xe!==ue&&x(V[Z+se],Pe,z,N,ue,xe,S,M,C),xe!==$&&x(V[Z+ie],Pe,N,I,xe,$,S,M,C)),Z+=1,F+=K;re&1&&(Z=0),Ie=ie,ie=J,J=Ie,Ie=se,se=ee,ee=Ie,Ie=ge,ge=Te,Te=Ie,F+=q}}f(V),f(G)}},"false,1,0":function(n,x,h,T,f){return function(d,S,M,C){var y=d.shape[0]|0,w=d.shape[1]|0,b=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,F=i,_,B=-E|0,I=0,O=-m|0,z=0,k=-E-m|0,N=0,K=m|0,q=E-m*w|0,Q=0,re=0,oe=0,Y=2*w|0,G=T(Y),V=T(Y),Z=0,ae=0,ie=-1,J=-1,$=0,se=-w|0,ee=w|0,ue=0,ge=-w-1|0,Te=w-1|0,xe=0,Pe=0,Ie=0;for(re=0;re<w;++re)G[Z++]=h(b[F],S,M,C),F+=K;if(F+=q,y>0){if(Q=1,G[Z++]=h(b[F],S,M,C),F+=K,w>0)for(re=1,_=b[F],ae=G[Z]=h(_,S,M,C),ue=G[Z+se],$=G[Z+ie],xe=G[Z+ge],(ae!==ue||ae!==$||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,ue,$,xe,S,M,C),Pe=V[Z]=oe++),Z+=1,F+=K,re=2;re<w;++re)_=b[F],ae=G[Z]=h(_,S,M,C),ue=G[Z+se],$=G[Z+ie],xe=G[Z+ge],(ae!==ue||ae!==$||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,ue,$,xe,S,M,C),Pe=V[Z]=oe++,xe!==$&&x(V[Z+ie],Pe,z,N,$,xe,S,M,C)),Z+=1,F+=K;for(F+=q,Z=0,Ie=se,se=ee,ee=Ie,Ie=ie,ie=J,J=Ie,Ie=ge,ge=Te,Te=Ie,Q=2;Q<y;++Q){if(G[Z++]=h(b[F],S,M,C),F+=K,w>0)for(re=1,_=b[F],ae=G[Z]=h(_,S,M,C),ue=G[Z+se],$=G[Z+ie],xe=G[Z+ge],(ae!==ue||ae!==$||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,ue,$,xe,S,M,C),Pe=V[Z]=oe++,xe!==ue&&x(V[Z+se],Pe,N,I,xe,ue,S,M,C)),Z+=1,F+=K,re=2;re<w;++re)_=b[F],ae=G[Z]=h(_,S,M,C),ue=G[Z+se],$=G[Z+ie],xe=G[Z+ge],(ae!==ue||ae!==$||ae!==xe)&&(I=b[F+B],z=b[F+O],N=b[F+k],n(Q,re,_,I,z,N,ae,ue,$,xe,S,M,C),Pe=V[Z]=oe++,xe!==$&&x(V[Z+ie],Pe,z,N,$,xe,S,M,C),xe!==ue&&x(V[Z+se],Pe,N,I,xe,ue,S,M,C)),Z+=1,F+=K;Q&1&&(Z=0),Ie=se,se=ee,ee=Ie,Ie=ie,ie=J,J=Ie,Ie=ge,ge=Te,Te=Ie,F+=q}}f(V),f(G)}}};function o(c,n,x,h,T,f){var s=[f,T].join(","),d=u[s];return d(c,n,x,r.mallocUint32,r.freeUint32)}function l(c){function n(S){throw new Error("ndarray-extract-contour: "+S)}typeof c!="object"&&n("Must specify arguments");var x=c.order;Array.isArray(x)||n("Must specify order");var h=c.arrayArguments||1;h<1&&n("Must have at least one array argument");var T=c.scalarArguments||0;T<0&&n("Scalar arg count must be > 0"),typeof c.vertex!="function"&&n("Must specify vertex creation function"),typeof c.cell!="function"&&n("Must specify cell creation function"),typeof c.phase!="function"&&n("Must specify phase function");for(var f=c.getters||[],s=new Array(h),d=0;d<h;++d)f.indexOf(d)>=0?s[d]=!0:s[d]=!1;return o(c.vertex,c.cell,c.phase,T,x,s)}},9144:function(v,g,t){var r=t(3094),u={zero:function(M,C,y,w){var b=M[0],i=y[0];w|=0;var E=0,m=i;for(E=0;E<b;++E)C[w]=0,w+=m},fdTemplate1:function(M,C,y,w,b,i,E){var m=M[0],F=y[0],_=i[0],B=-1*F,I=F;w|=0,E|=0;var O=0,z=F,k=_;for(O=0;O<m;++O)b[E]=.5*(C[w+B]-C[w+I]),w+=z,E+=k},fdTemplate2:function(M,C,y,w,b,i,E,m,F,_){var B=M[0],I=M[1],O=y[0],z=y[1],k=i[0],N=i[1],K=F[0],q=F[1],Q=-1*O,re=O,oe=-1*z,Y=z;w|=0,E|=0,_|=0;var G=0,V=0,Z=z,ae=O-I*z,ie=N,J=k-I*N,$=q,se=K-I*q;for(V=0;V<B;++V){for(G=0;G<I;++G)b[E]=.5*(C[w+Q]-C[w+re]),m[_]=.5*(C[w+oe]-C[w+Y]),w+=Z,E+=ie,_+=$;w+=ae,E+=J,_+=se}}},o={cdiff:function(M){var C={};return function(w,b,i){var E=w.dtype,m=w.order,F=b.dtype,_=b.order,B=i.dtype,I=i.order,O=[E,m.join(),F,_.join(),B,I.join()].join(),z=C[O];return z||(C[O]=z=M([E,m,F,_,B,I])),z(w.shape.slice(0),w.data,w.stride,w.offset|0,b.data,b.stride,b.offset|0,i.data,i.stride,i.offset|0)}},zero:function(M){var C={};return function(w){var b=w.dtype,i=w.order,E=[b,i.join()].join(),m=C[E];return m||(C[E]=m=M([b,i])),m(w.shape.slice(0),w.data,w.stride,w.offset|0)}},fdTemplate1:function(M){var C={};return function(w,b){var i=w.dtype,E=w.order,m=b.dtype,F=b.order,_=[i,E.join(),m,F.join()].join(),B=C[_];return B||(C[_]=B=M([i,E,m,F])),B(w.shape.slice(0),w.data,w.stride,w.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(M){var C={};return function(w,b,i){var E=w.dtype,m=w.order,F=b.dtype,_=b.order,B=i.dtype,I=i.order,O=[E,m.join(),F,_.join(),B,I.join()].join(),z=C[O];return z||(C[O]=z=M([E,m,F,_,B,I])),z(w.shape.slice(0),w.data,w.stride,w.offset|0,b.data,b.stride,b.offset|0,i.data,i.stride,i.offset|0)}}};function l(M){var C=o[M.funcName];return C(c.bind(void 0,M))}function c(M){return u[M.funcName]}function n(M){return l({funcName:M.funcName})}var x={},h={},T=n({funcName:"cdiff"}),f=n({funcName:"zero"});function s(M){return M in x?x[M]:x[M]=n({funcName:"fdTemplate"+M})}function d(M,C,y,w){return function(b,i){var E=i.shape.slice();return E[0]>2&&E[1]>2&&w(i.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),b.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),b.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(y(i.pick(0,-1).lo(1).hi(E[1]-2),b.pick(0,-1,1).lo(1).hi(E[1]-2)),C(b.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(y(i.pick(E[0]-1,-1).lo(1).hi(E[1]-2),b.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(b.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(y(i.pick(-1,0).lo(1).hi(E[0]-2),b.pick(-1,0,0).lo(1).hi(E[0]-2)),C(b.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(y(i.pick(-1,E[1]-1).lo(1).hi(E[0]-2),b.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(b.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(E[0]-1,0,0,0),b.set(E[0]-1,0,1,0),b.set(0,E[1]-1,0,0),b.set(0,E[1]-1,1,0),b.set(E[0]-1,E[1]-1,0,0),b.set(E[0]-1,E[1]-1,1,0),b}}function S(M){var C=M.join(),E=h[C];if(E)return E;for(var y=M.length,w=[T,f],b=1;b<=y;++b)w.push(s(b));var i=d,E=i.apply(void 0,w);return h[C]=E,E}v.exports=function(C,y,w){if(Array.isArray(w)||(typeof w=="string"?w=r(y.dimension,w):w=r(y.dimension,"clamp")),y.size===0)return C;if(y.dimension===0)return C.set(0),C;var b=S(w);return b(C,y)}},3581:function(v){function g(l,c){var n=Math.floor(c),x=c-n,h=0<=n&&n<l.shape[0],T=0<=n+1&&n+1<l.shape[0],f=h?+l.get(n):0,s=T?+l.get(n+1):0;return(1-x)*f+x*s}function t(l,c,n){var x=Math.floor(c),h=c-x,T=0<=x&&x<l.shape[0],f=0<=x+1&&x+1<l.shape[0],s=Math.floor(n),d=n-s,S=0<=s&&s<l.shape[1],M=0<=s+1&&s+1<l.shape[1],C=T&&S?l.get(x,s):0,y=T&&M?l.get(x,s+1):0,w=f&&S?l.get(x+1,s):0,b=f&&M?l.get(x+1,s+1):0;return(1-d)*((1-h)*C+h*w)+d*((1-h)*y+h*b)}function r(l,c,n,x){var h=Math.floor(c),T=c-h,f=0<=h&&h<l.shape[0],s=0<=h+1&&h+1<l.shape[0],d=Math.floor(n),S=n-d,M=0<=d&&d<l.shape[1],C=0<=d+1&&d+1<l.shape[1],y=Math.floor(x),w=x-y,b=0<=y&&y<l.shape[2],i=0<=y+1&&y+1<l.shape[2],E=f&&M&&b?l.get(h,d,y):0,m=f&&C&&b?l.get(h,d+1,y):0,F=s&&M&&b?l.get(h+1,d,y):0,_=s&&C&&b?l.get(h+1,d+1,y):0,B=f&&M&&i?l.get(h,d,y+1):0,I=f&&C&&i?l.get(h,d+1,y+1):0,O=s&&M&&i?l.get(h+1,d,y+1):0,z=s&&C&&i?l.get(h+1,d+1,y+1):0;return(1-w)*((1-S)*((1-T)*E+T*F)+S*((1-T)*m+T*_))+w*((1-S)*((1-T)*B+T*O)+S*((1-T)*I+T*z))}function u(l){var c=l.shape.length|0,n=new Array(c),x=new Array(c),h=new Array(c),T=new Array(c),f,s;for(f=0;f<c;++f)s=+arguments[f+1],n[f]=Math.floor(s),x[f]=s-n[f],h[f]=0<=n[f]&&n[f]<l.shape[f],T[f]=0<=n[f]+1&&n[f]+1<l.shape[f];var d=0,S,M,C;e:for(f=0;f<1<<c;++f){for(M=1,C=l.offset,S=0;S<c;++S)if(f&1<<S){if(!T[S])continue e;M*=x[S],C+=l.stride[S]*(n[S]+1)}else{if(!h[S])continue e;M*=1-x[S],C+=l.stride[S]*n[S]}d+=M*l.data[C]}return d}function o(l,c,n,x){switch(l.shape.length){case 0:return 0;case 1:return g(l,c);case 2:return t(l,c,n);case 3:return r(l,c,n,x);default:return u.apply(void 0,arguments)}}v.exports=o,v.exports.d1=g,v.exports.d2=t,v.exports.d3=r},7498:function(v,g){var t={"float64,2,1,0":function(){return function(h,T,f,s,d){var S=h[0],M=h[1],C=h[2],y=f[0],w=f[1],b=f[2];s|=0;var i=0,E=0,m=0,F=b,_=w-C*b,B=y-M*w;for(m=0;m<S;++m){for(E=0;E<M;++E){for(i=0;i<C;++i)T[s]/=d,s+=F;s+=_}s+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,f,s,d,S,M,C){var y=h[0],w=h[1],b=h[2],i=f[0],E=f[1],m=f[2],F=S[0],_=S[1],B=S[2];s|=0,M|=0;for(var I=s,O=M,z=h[0]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64);for(var k=h[1]|0;k>0;){k<64?(w=k,k=0):(w=64,k-=64),s=I+z*i+k*E,M=O+z*F+k*_;var N=0,K=0,q=0,Q=m,re=i-b*m,oe=E-y*i,Y=B,G=F-b*B,V=_-y*F;for(q=0;q<w;++q){for(K=0;K<y;++K){for(N=0;N<b;++N)T[s]=d[M]*C,s+=Q,M+=Y;s+=re,M+=G}s+=oe,M+=V}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,f,s,d,S,M){var C=h[0],y=h[1],w=f[0],b=f[1],i=S[0],E=S[1];s|=0,M|=0;var m=0,F=0,_=b,B=w-y*b,I=E,O=i-y*E;for(F=0;F<C;++F){for(m=0;m<y;++m)T[s]=d[M],s+=_,M+=I;s+=B,M+=O}}},"float32,1,0,float32,0,1":function(){return function(h,T,f,s,d,S,M){var C=h[0],y=h[1],w=f[0],b=f[1],i=S[0],E=S[1];s|=0,M|=0;for(var m=s,F=M,_=h[1]|0;_>0;){_<64?(y=_,_=0):(y=64,_-=64);for(var B=h[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64),s=m+_*b+B*w,M=F+_*E+B*i;var I=0,O=0,z=b,k=w-y*b,N=E,K=i-y*E;for(O=0;O<C;++O){for(I=0;I<y;++I)T[s]=d[M],s+=z,M+=N;s+=k,M+=K}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,f,s,d,S,M){var C=h[0],y=h[1],w=h[2],b=f[0],i=f[1],E=f[2],m=S[0],F=S[1],_=S[2];s|=0,M|=0;for(var B=s,I=M,O=h[2]|0;O>0;){O<64?(w=O,O=0):(w=64,O-=64);for(var z=h[0]|0;z>0;){z<64?(C=z,z=0):(C=64,z-=64);for(var k=h[1]|0;k>0;){k<64?(y=k,k=0):(y=64,k-=64),s=B+O*E+z*b+k*i,M=I+O*_+z*m+k*F;var N=0,K=0,q=0,Q=E,re=b-w*E,oe=i-C*b,Y=_,G=m-w*_,V=F-C*m;for(q=0;q<y;++q){for(K=0;K<C;++K){for(N=0;N<w;++N)T[s]=d[M],s+=Q,M+=Y;s+=re,M+=G}s+=oe,M+=V}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,f,s,d,S,M){var C=h[0],y=h[1],w=h[2],b=f[0],i=f[1],E=f[2],m=S[0],F=S[1],_=S[2];s|=0,M|=0;var B=0,I=0,O=0,z=E,k=b-w*E,N=i-C*b,K=_,q=m-w*_,Q=F-C*m;for(O=0;O<y;++O){for(I=0;I<C;++I){for(B=0;B<w;++B)T[s]=d[M],s+=z,M+=K;s+=k,M+=q}s+=N,M+=Q}}}};function r(x,h){var T=h.join(","),f=t[T];return f()}var u=r,o={mul:function(x){var h={};return function(f,s,d){var S=f.dtype,M=f.order,C=s.dtype,y=s.order,w=d.dtype,b=d.order,i=[S,M.join(),C,y.join(),w,b.join()].join(),E=h[i];return E||(h[i]=E=x([S,M,C,y,w,b])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},muls:function(x){var h={};return function(f,s,d){var S=f.dtype,M=f.order,C=s.dtype,y=s.order,w=[S,M.join(),C,y.join()].join(),b=h[w];return b||(h[w]=b=x([S,M,C,y])),b(f.shape.slice(0),f.data,f.stride,f.offset|0,s.data,s.stride,s.offset|0,d)}},mulseq:function(x){var h={};return function(f,s){var d=f.dtype,S=f.order,M=[d,S.join()].join(),C=h[M];return C||(h[M]=C=x([d,S])),C(f.shape.slice(0),f.data,f.stride,f.offset|0,s)}},div:function(x){var h={};return function(f,s,d){var S=f.dtype,M=f.order,C=s.dtype,y=s.order,w=d.dtype,b=d.order,i=[S,M.join(),C,y.join(),w,b.join()].join(),E=h[i];return E||(h[i]=E=x([S,M,C,y,w,b])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},divs:function(x){var h={};return function(f,s,d){var S=f.dtype,M=f.order,C=s.dtype,y=s.order,w=[S,M.join(),C,y.join()].join(),b=h[w];return b||(h[w]=b=x([S,M,C,y])),b(f.shape.slice(0),f.data,f.stride,f.offset|0,s.data,s.stride,s.offset|0,d)}},divseq:function(x){var h={};return function(f,s){var d=f.dtype,S=f.order,M=[d,S.join()].join(),C=h[M];return C||(h[M]=C=x([d,S])),C(f.shape.slice(0),f.data,f.stride,f.offset|0,s)}},assign:function(x){var h={};return function(f,s){var d=f.dtype,S=f.order,M=s.dtype,C=s.order,y=[d,S.join(),M,C.join()].join(),w=h[y];return w||(h[y]=w=x([d,S,M,C])),w(f.shape.slice(0),f.data,f.stride,f.offset|0,s.data,s.stride,s.offset|0)}}};function l(x){var h=o[x.funcName];return h(u.bind(void 0,x))}function c(x){return l({funcName:x.funcName})}var n={mul:"*",div:"/"};(function(){for(var x in n)g[x]=c({funcName:x}),g[x+"s"]=c({funcName:x+"s"}),g[x+"seq"]=c({funcName:x+"seq"})})(),g.assign=c({funcName:"assign"})},7382:function(v,g,t){var r=t(5050),u=t(9262);v.exports=function(l,c){for(var n=[],x=l,h=1;Array.isArray(x);)n.push(x.length),h*=x.length,x=x[0];return n.length===0?r():(c||(c=r(new Float64Array(h),n)),u(c,l),c)}},9262:function(v){function g(){return function(c,n,x,h,T){var f=c[0],s=c[1],d=c[2],S=x[0],M=x[1],C=x[2],y=[0,0,0];h|=0;var w=0,b=0,i=0,E=C,m=M-d*C,F=S-s*M;for(i=0;i<f;++i){for(b=0;b<s;++b){for(w=0;w<d;++w){{var _=T,B;for(B=0;B<y.length-1;++B)_=_[y[B]];n[h]=_[y[y.length-1]]}h+=E,++y[2]}h+=m,y[2]-=d,++y[1]}h+=F,y[1]-=s,++y[0]}}}function t(){return g()}var r=t;function u(c){var n={};return function(h,T){var f=h.dtype,s=h.order,d=[f,s.join()].join(),S=n[d];return S||(n[d]=S=c([f,s])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function o(c){return u(r.bind(void 0,c))}function l(c){return o({funcName:c.funcName})}v.exports=l({funcName:"convert"})},8139:function(v,g,t){var r=t(5306);function u(T){switch(T){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var o={"uint32,1,0":function(T,f){return function(d,S,M,C,y,w,b,i,E,m,F){var _,B,I,O=d*y+C,z,k=T(i),N,K,q,Q;for(_=d+1;_<=S;++_){for(B=_,O+=y,I=O,N=0,K=O,z=0;z<i;++z)k[N++]=M[K],K+=E;e:for(;B-- >d;){N=0,K=I-y;t:for(z=0;z<i;++z){if(q=M[K],Q=k[N],q<Q)break e;if(q>Q)break t;K+=m,N+=F}for(N=I,K=I-y,z=0;z<i;++z)M[N]=M[K],N+=E,K+=E;I-=y}for(N=I,K=0,z=0;z<i;++z)M[N]=k[K++],N+=E}f(k)}}};function l(T,f){var s=u(f),d=[f,T].join(","),S=o[d];return s?S(s[0],s[1]):S()}var c={"uint32,1,0":function(T,f,s){return function d(S,M,C,y,w,b,i,E,m,F,_){var B=(M-S+1)/6|0,I=S+B,O=M-B,z=S+M>>1,k=z-B,N=z+B,K=I,q=k,Q=z,re=N,oe=O,Y=S+1,G=M-1,V=!0,Z,ae,ie,J,$,se,ee,ue,ge,Te=0,xe=0,Pe=0,Ie,Ae,be,_e,Ve,We,ze,Ze,ct,lt,at,tt,dt,wt,Mt,It,$e=E,ke=f($e),Fe=f($e);Ae=w*K,be=w*q,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=K,K=q,q=ae;break e}if(Pe<0)break e;It+=F}Ae=w*re,be=w*oe,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=re,re=oe,oe=ae;break e}if(Pe<0)break e;It+=F}Ae=w*K,be=w*Q,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=K,K=Q,Q=ae;break e}if(Pe<0)break e;It+=F}Ae=w*q,be=w*Q,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=q,q=Q,Q=ae;break e}if(Pe<0)break e;It+=F}Ae=w*K,be=w*re,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=K,K=re,re=ae;break e}if(Pe<0)break e;It+=F}Ae=w*Q,be=w*re,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=Q,Q=re,re=ae;break e}if(Pe<0)break e;It+=F}Ae=w*q,be=w*oe,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=q,q=oe,oe=ae;break e}if(Pe<0)break e;It+=F}Ae=w*q,be=w*Q,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=q,q=Q,Q=ae;break e}if(Pe<0)break e;It+=F}Ae=w*re,be=w*oe,It=y;e:for(Ie=0;Ie<E;++Ie){if(ee=Ae+It,ue=be+It,Pe=C[ee]-C[ue],Pe>0){ae=re,re=oe,oe=ae;break e}if(Pe<0)break e;It+=F}for(Ae=w*K,be=w*q,_e=w*Q,Ve=w*re,We=w*oe,ze=w*I,Ze=w*z,ct=w*O,Mt=0,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,ge=_e+It,lt=Ve+It,at=We+It,tt=ze+It,dt=Ze+It,wt=ct+It,ke[Mt]=C[ue],Fe[Mt]=C[lt],V=V&&ke[Mt]===Fe[Mt],ie=C[ee],J=C[ge],$=C[at],C[tt]=ie,C[dt]=J,C[wt]=$,++Mt,It+=m;for(Ae=w*k,be=w*S,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,C[ee]=C[ue],It+=m;for(Ae=w*N,be=w*M,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,C[ee]=C[ue],It+=m;if(V)for(se=Y;se<=G;++se){ee=y+se*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-ke[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe!==0)if(Pe<0){if(se!==Y)for(Ae=w*se,be=w*Y,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;++Y}else for(;;){ee=y+G*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-ke[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe>0)G--;else if(Pe<0){for(Ae=w*se,be=w*Y,_e=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,ge=_e+It,Z=C[ee],C[ee]=C[ue],C[ue]=C[ge],C[ge]=Z,It+=m;++Y,--G;break}else{for(Ae=w*se,be=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;--G;break}}}else for(se=Y;se<=G;++se){ee=y+se*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Te=C[ee]-ke[Mt],Te!==0)break e;Mt+=_,ee+=F}if(Te<0){if(se!==Y)for(Ae=w*se,be=w*Y,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;++Y}else{ee=y+se*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(xe=C[ee]-Fe[Mt],xe!==0)break e;Mt+=_,ee+=F}if(xe>0)for(;;){ee=y+G*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-Fe[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe>0){if(--G<se)break;continue}else{ee=y+G*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-ke[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe<0){for(Ae=w*se,be=w*Y,_e=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,ge=_e+It,Z=C[ee],C[ee]=C[ue],C[ue]=C[ge],C[ge]=Z,It+=m;++Y,--G}else{for(Ae=w*se,be=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;--G}break}}}}for(Ae=w*S,be=w*(Y-1),Mt=0,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,C[ee]=C[ue],C[ue]=ke[Mt],++Mt,It+=m;for(Ae=w*M,be=w*(G+1),Mt=0,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,C[ee]=C[ue],C[ue]=Fe[Mt],++Mt,It+=m;if(Y-2-S<=32?T(S,Y-2,C,y,w,b,i,E,m,F,_):d(S,Y-2,C,y,w,b,i,E,m,F,_),M-(G+2)<=32?T(G+2,M,C,y,w,b,i,E,m,F,_):d(G+2,M,C,y,w,b,i,E,m,F,_),V){s(ke),s(Fe);return}if(Y<I&&G>O){e:for(;;){for(ee=y+Y*w,Mt=0,It=y,Ie=0;Ie<E;++Ie){if(C[ee]!==ke[Mt])break e;++Mt,ee+=m}++Y}e:for(;;){for(ee=y+G*w,Mt=0,It=y,Ie=0;Ie<E;++Ie){if(C[ee]!==Fe[Mt])break e;++Mt,ee+=m}--G}for(se=Y;se<=G;++se){ee=y+se*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Te=C[ee]-ke[Mt],Te!==0)break e;Mt+=_,ee+=F}if(Te===0){if(se!==Y)for(Ae=w*se,be=w*Y,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;++Y}else{ee=y+se*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(xe=C[ee]-Fe[Mt],xe!==0)break e;Mt+=_,ee+=F}if(xe===0)for(;;){ee=y+G*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-Fe[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe===0){if(--G<se)break;continue}else{ee=y+G*w,Mt=0;e:for(Ie=0;Ie<E;++Ie){if(Pe=C[ee]-ke[Mt],Pe!==0)break e;Mt+=_,ee+=F}if(Pe<0){for(Ae=w*se,be=w*Y,_e=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,ge=_e+It,Z=C[ee],C[ee]=C[ue],C[ue]=C[ge],C[ge]=Z,It+=m;++Y,--G}else{for(Ae=w*se,be=w*G,It=y,Ie=0;Ie<E;++Ie)ee=Ae+It,ue=be+It,Z=C[ee],C[ee]=C[ue],C[ue]=Z,It+=m;--G}break}}}}}s(ke),s(Fe),G-Y<=32?T(Y,G,C,y,w,b,i,E,m,F,_):d(Y,G,C,y,w,b,i,E,m,F,_)}}};function n(T,f,s){var d=u(f),S=[f,T].join(","),M=c[S];return T.length>1&&d?M(s,d[0],d[1]):M(s)}var x={"uint32,1,0":function(T,f){return function(s){var d=s.data,S=s.offset|0,M=s.shape,C=s.stride,y=C[0]|0,w=M[0]|0,b=C[1]|0,i=M[1]|0,E=b,m=b,F=1;w<=32?T(0,w-1,d,S,y,b,w,i,E,m,F):f(0,w-1,d,S,y,b,w,i,E,m,F)}}};function h(T,f){var s=[f,T].join(","),d=x[s],S=l(T,f),M=n(T,f,S);return d(S,M)}v.exports=h},8729:function(v,g,t){var r=t(8139),u={};function o(l){var c=l.order,n=l.dtype,x=[c,n],h=x.join(":"),T=u[h];return T||(u[h]=T=r(c,n)),T(l),l}v.exports=o},5050:function(v,g,t){var r=t(4780),u=typeof Float64Array<"u";function o(f,s){return f[0]-s[0]}function l(){var f=this.stride,s=new Array(f.length),d;for(d=0;d<s.length;++d)s[d]=[Math.abs(f[d]),d];s.sort(o);var S=new Array(s.length);for(d=0;d<S.length;++d)S[d]=s[d][1];return S}var c={T:function(f){function s(S){this.data=S}var d=s.prototype;return d.dtype=f,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new s(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(M){return new s(M)}},0:function(f,s){function d(M,C){this.data=M,this.offset=C}var S=d.prototype;return S.dtype=f,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new d(this.data,this.offset)},S.pick=function(){return s(this.data)},S.valueOf=S.get=function(){return f==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(C){return f==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,y,w,b){return new d(C,b)}},1:function(f,s,d){function S(C,y,w,b){this.data=C,this.shape=[y],this.stride=[w],this.offset=b|0}var M=S.prototype;return M.dtype=f,M.dimension=1,Object.defineProperty(M,"size",{get:function(){return this.shape[0]}}),M.order=[0],M.set=function(y,w){return f==="generic"?this.data.set(this.offset+this.stride[0]*y,w):this.data[this.offset+this.stride[0]*y]=w},M.get=function(y){return f==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},M.index=function(y){return this.offset+this.stride[0]*y},M.hi=function(y){return new S(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},M.lo=function(y){var w=this.offset,b=0,i=this.shape[0],E=this.stride[0];return typeof y=="number"&&y>=0&&(b=y|0,w+=E*b,i-=b),new S(this.data,i,E,w)},M.step=function(y){var w=this.shape[0],b=this.stride[0],i=this.offset,E=0,m=Math.ceil;return typeof y=="number"&&(E=y|0,E<0?(i+=b*(w-1),w=m(-w/E)):w=m(w/E),b*=E),new S(this.data,w,b,i)},M.transpose=function(y){y=y===void 0?0:y|0;var w=this.shape,b=this.stride;return new S(this.data,w[y],b[y],this.offset)},M.pick=function(y){var w=[],b=[],i=this.offset;typeof y=="number"&&y>=0?i=i+this.stride[0]*y|0:(w.push(this.shape[0]),b.push(this.stride[0]));var E=s[w.length+1];return E(this.data,w,b,i)},function(y,w,b,i){return new S(y,w[0],b[0],i)}},2:function(f,s,d){function S(C,y,w,b,i,E){this.data=C,this.shape=[y,w],this.stride=[b,i],this.offset=E|0}var M=S.prototype;return M.dtype=f,M.dimension=2,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(M,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),M.set=function(y,w,b){return f==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*w,b):this.data[this.offset+this.stride[0]*y+this.stride[1]*w]=b},M.get=function(y,w){return f==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*w):this.data[this.offset+this.stride[0]*y+this.stride[1]*w]},M.index=function(y,w){return this.offset+this.stride[0]*y+this.stride[1]*w},M.hi=function(y,w){return new S(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof w!="number"||w<0?this.shape[1]:w|0,this.stride[0],this.stride[1],this.offset)},M.lo=function(y,w){var b=this.offset,i=0,E=this.shape[0],m=this.shape[1],F=this.stride[0],_=this.stride[1];return typeof y=="number"&&y>=0&&(i=y|0,b+=F*i,E-=i),typeof w=="number"&&w>=0&&(i=w|0,b+=_*i,m-=i),new S(this.data,E,m,F,_,b)},M.step=function(y,w){var b=this.shape[0],i=this.shape[1],E=this.stride[0],m=this.stride[1],F=this.offset,_=0,B=Math.ceil;return typeof y=="number"&&(_=y|0,_<0?(F+=E*(b-1),b=B(-b/_)):b=B(b/_),E*=_),typeof w=="number"&&(_=w|0,_<0?(F+=m*(i-1),i=B(-i/_)):i=B(i/_),m*=_),new S(this.data,b,i,E,m,F)},M.transpose=function(y,w){y=y===void 0?0:y|0,w=w===void 0?1:w|0;var b=this.shape,i=this.stride;return new S(this.data,b[y],b[w],i[y],i[w],this.offset)},M.pick=function(y,w){var b=[],i=[],E=this.offset;typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(b.push(this.shape[0]),i.push(this.stride[0])),typeof w=="number"&&w>=0?E=E+this.stride[1]*w|0:(b.push(this.shape[1]),i.push(this.stride[1]));var m=s[b.length+1];return m(this.data,b,i,E)},function(y,w,b,i){return new S(y,w[0],w[1],b[0],b[1],i)}},3:function(f,s,d){function S(C,y,w,b,i,E,m,F){this.data=C,this.shape=[y,w,b],this.stride=[i,E,m],this.offset=F|0}var M=S.prototype;return M.dtype=f,M.dimension=3,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(M,"order",{get:function(){var y=Math.abs(this.stride[0]),w=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return y>w?w>b?[2,1,0]:y>b?[1,2,0]:[1,0,2]:y>b?[2,0,1]:b>w?[0,1,2]:[0,2,1]}}),M.set=function(y,w,b,i){return f==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b,i):this.data[this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b]=i},M.get=function(y,w,b){return f==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b):this.data[this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b]},M.index=function(y,w,b){return this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b},M.hi=function(y,w,b){return new S(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},M.lo=function(y,w,b){var i=this.offset,E=0,m=this.shape[0],F=this.shape[1],_=this.shape[2],B=this.stride[0],I=this.stride[1],O=this.stride[2];return typeof y=="number"&&y>=0&&(E=y|0,i+=B*E,m-=E),typeof w=="number"&&w>=0&&(E=w|0,i+=I*E,F-=E),typeof b=="number"&&b>=0&&(E=b|0,i+=O*E,_-=E),new S(this.data,m,F,_,B,I,O,i)},M.step=function(y,w,b){var i=this.shape[0],E=this.shape[1],m=this.shape[2],F=this.stride[0],_=this.stride[1],B=this.stride[2],I=this.offset,O=0,z=Math.ceil;return typeof y=="number"&&(O=y|0,O<0?(I+=F*(i-1),i=z(-i/O)):i=z(i/O),F*=O),typeof w=="number"&&(O=w|0,O<0?(I+=_*(E-1),E=z(-E/O)):E=z(E/O),_*=O),typeof b=="number"&&(O=b|0,O<0?(I+=B*(m-1),m=z(-m/O)):m=z(m/O),B*=O),new S(this.data,i,E,m,F,_,B,I)},M.transpose=function(y,w,b){y=y===void 0?0:y|0,w=w===void 0?1:w|0,b=b===void 0?2:b|0;var i=this.shape,E=this.stride;return new S(this.data,i[y],i[w],i[b],E[y],E[w],E[b],this.offset)},M.pick=function(y,w,b){var i=[],E=[],m=this.offset;typeof y=="number"&&y>=0?m=m+this.stride[0]*y|0:(i.push(this.shape[0]),E.push(this.stride[0])),typeof w=="number"&&w>=0?m=m+this.stride[1]*w|0:(i.push(this.shape[1]),E.push(this.stride[1])),typeof b=="number"&&b>=0?m=m+this.stride[2]*b|0:(i.push(this.shape[2]),E.push(this.stride[2]));var F=s[i.length+1];return F(this.data,i,E,m)},function(y,w,b,i){return new S(y,w[0],w[1],w[2],b[0],b[1],b[2],i)}},4:function(f,s,d){function S(C,y,w,b,i,E,m,F,_,B){this.data=C,this.shape=[y,w,b,i],this.stride=[E,m,F,_],this.offset=B|0}var M=S.prototype;return M.dtype=f,M.dimension=4,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(M,"order",{get:d}),M.set=function(y,w,b,i,E){return f==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b+this.stride[3]*i,E):this.data[this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b+this.stride[3]*i]=E},M.get=function(y,w,b,i){return f==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b+this.stride[3]*i):this.data[this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b+this.stride[3]*i]},M.index=function(y,w,b,i){return this.offset+this.stride[0]*y+this.stride[1]*w+this.stride[2]*b+this.stride[3]*i},M.hi=function(y,w,b,i){return new S(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},M.lo=function(y,w,b,i){var E=this.offset,m=0,F=this.shape[0],_=this.shape[1],B=this.shape[2],I=this.shape[3],O=this.stride[0],z=this.stride[1],k=this.stride[2],N=this.stride[3];return typeof y=="number"&&y>=0&&(m=y|0,E+=O*m,F-=m),typeof w=="number"&&w>=0&&(m=w|0,E+=z*m,_-=m),typeof b=="number"&&b>=0&&(m=b|0,E+=k*m,B-=m),typeof i=="number"&&i>=0&&(m=i|0,E+=N*m,I-=m),new S(this.data,F,_,B,I,O,z,k,N,E)},M.step=function(y,w,b,i){var E=this.shape[0],m=this.shape[1],F=this.shape[2],_=this.shape[3],B=this.stride[0],I=this.stride[1],O=this.stride[2],z=this.stride[3],k=this.offset,N=0,K=Math.ceil;return typeof y=="number"&&(N=y|0,N<0?(k+=B*(E-1),E=K(-E/N)):E=K(E/N),B*=N),typeof w=="number"&&(N=w|0,N<0?(k+=I*(m-1),m=K(-m/N)):m=K(m/N),I*=N),typeof b=="number"&&(N=b|0,N<0?(k+=O*(F-1),F=K(-F/N)):F=K(F/N),O*=N),typeof i=="number"&&(N=i|0,N<0?(k+=z*(_-1),_=K(-_/N)):_=K(_/N),z*=N),new S(this.data,E,m,F,_,B,I,O,z,k)},M.transpose=function(y,w,b,i){y=y===void 0?0:y|0,w=w===void 0?1:w|0,b=b===void 0?2:b|0,i=i===void 0?3:i|0;var E=this.shape,m=this.stride;return new S(this.data,E[y],E[w],E[b],E[i],m[y],m[w],m[b],m[i],this.offset)},M.pick=function(y,w,b,i){var E=[],m=[],F=this.offset;typeof y=="number"&&y>=0?F=F+this.stride[0]*y|0:(E.push(this.shape[0]),m.push(this.stride[0])),typeof w=="number"&&w>=0?F=F+this.stride[1]*w|0:(E.push(this.shape[1]),m.push(this.stride[1])),typeof b=="number"&&b>=0?F=F+this.stride[2]*b|0:(E.push(this.shape[2]),m.push(this.stride[2])),typeof i=="number"&&i>=0?F=F+this.stride[3]*i|0:(E.push(this.shape[3]),m.push(this.stride[3]));var _=s[E.length+1];return _(this.data,E,m,F)},function(y,w,b,i){return new S(y,w[0],w[1],w[2],w[3],b[0],b[1],b[2],b[3],i)}},5:function(s,d,S){function M(y,w,b,i,E,m,F,_,B,I,O,z){this.data=y,this.shape=[w,b,i,E,m],this.stride=[F,_,B,I,O],this.offset=z|0}var C=M.prototype;return C.dtype=s,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:S}),C.set=function(w,b,i,E,m,F){return s==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*b+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m,F):this.data[this.offset+this.stride[0]*w+this.stride[1]*b+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]=F},C.get=function(w,b,i,E,m){return s==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*b+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m):this.data[this.offset+this.stride[0]*w+this.stride[1]*b+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]},C.index=function(w,b,i,E,m){return this.offset+this.stride[0]*w+this.stride[1]*b+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m},C.hi=function(w,b,i,E,m){return new M(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof m!="number"||m<0?this.shape[4]:m|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(w,b,i,E,m){var F=this.offset,_=0,B=this.shape[0],I=this.shape[1],O=this.shape[2],z=this.shape[3],k=this.shape[4],N=this.stride[0],K=this.stride[1],q=this.stride[2],Q=this.stride[3],re=this.stride[4];return typeof w=="number"&&w>=0&&(_=w|0,F+=N*_,B-=_),typeof b=="number"&&b>=0&&(_=b|0,F+=K*_,I-=_),typeof i=="number"&&i>=0&&(_=i|0,F+=q*_,O-=_),typeof E=="number"&&E>=0&&(_=E|0,F+=Q*_,z-=_),typeof m=="number"&&m>=0&&(_=m|0,F+=re*_,k-=_),new M(this.data,B,I,O,z,k,N,K,q,Q,re,F)},C.step=function(w,b,i,E,m){var F=this.shape[0],_=this.shape[1],B=this.shape[2],I=this.shape[3],O=this.shape[4],z=this.stride[0],k=this.stride[1],N=this.stride[2],K=this.stride[3],q=this.stride[4],Q=this.offset,re=0,oe=Math.ceil;return typeof w=="number"&&(re=w|0,re<0?(Q+=z*(F-1),F=oe(-F/re)):F=oe(F/re),z*=re),typeof b=="number"&&(re=b|0,re<0?(Q+=k*(_-1),_=oe(-_/re)):_=oe(_/re),k*=re),typeof i=="number"&&(re=i|0,re<0?(Q+=N*(B-1),B=oe(-B/re)):B=oe(B/re),N*=re),typeof E=="number"&&(re=E|0,re<0?(Q+=K*(I-1),I=oe(-I/re)):I=oe(I/re),K*=re),typeof m=="number"&&(re=m|0,re<0?(Q+=q*(O-1),O=oe(-O/re)):O=oe(O/re),q*=re),new M(this.data,F,_,B,I,O,z,k,N,K,q,Q)},C.transpose=function(w,b,i,E,m){w=w===void 0?0:w|0,b=b===void 0?1:b|0,i=i===void 0?2:i|0,E=E===void 0?3:E|0,m=m===void 0?4:m|0;var F=this.shape,_=this.stride;return new M(this.data,F[w],F[b],F[i],F[E],F[m],_[w],_[b],_[i],_[E],_[m],this.offset)},C.pick=function(w,b,i,E,m){var F=[],_=[],B=this.offset;typeof w=="number"&&w>=0?B=B+this.stride[0]*w|0:(F.push(this.shape[0]),_.push(this.stride[0])),typeof b=="number"&&b>=0?B=B+this.stride[1]*b|0:(F.push(this.shape[1]),_.push(this.stride[1])),typeof i=="number"&&i>=0?B=B+this.stride[2]*i|0:(F.push(this.shape[2]),_.push(this.stride[2])),typeof E=="number"&&E>=0?B=B+this.stride[3]*E|0:(F.push(this.shape[3]),_.push(this.stride[3])),typeof m=="number"&&m>=0?B=B+this.stride[4]*m|0:(F.push(this.shape[4]),_.push(this.stride[4]));var I=d[F.length+1];return I(this.data,F,_,B)},function(w,b,i,E){return new M(w,b[0],b[1],b[2],b[3],b[4],i[0],i[1],i[2],i[3],i[4],E)}}};function n(f,s){var d=s===-1?"T":String(s),S=c[d];return s===-1?S(f):s===0?S(f,h[f][0]):S(f,h[f],l)}function x(f){if(r(f))return"buffer";if(u)switch(Object.prototype.toString.call(f)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(f)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(f,s,d,S){if(f===void 0){var i=h.array[0];return i([])}else typeof f=="number"&&(f=[f]);s===void 0&&(s=[f.length]);var M=s.length;if(d===void 0){d=new Array(M);for(var C=M-1,y=1;C>=0;--C)d[C]=y,y*=s[C]}if(S===void 0){S=0;for(var C=0;C<M;++C)d[C]<0&&(S-=(s[C]-1)*d[C])}for(var w=x(f),b=h[w];b.length<=M+1;)b.push(n(w,b.length-1));var i=b[M+1];return i(f,s,d,S)}v.exports=T},8551:function(v,g,t){var r=t(8362),u=Math.pow(2,-1074),o=-1>>>0;v.exports=l;function l(c,n){if(isNaN(c)||isNaN(n))return NaN;if(c===n)return c;if(c===0)return n<0?-u:u;var x=r.hi(c),h=r.lo(c);return n>c==c>0?h===o?(x+=1,h=0):h+=1:h===0?(h=o,x-=1):h-=1,r.pack(h,x)}},115:function(v,g){var t=1e-6,r=1e-6;g.vertexNormals=function(u,o,l){for(var c=o.length,n=new Array(c),x=l===void 0?t:l,h=0;h<c;++h)n[h]=[0,0,0];for(var h=0;h<u.length;++h)for(var T=u[h],f=0,s=T[T.length-1],d=T[0],S=0;S<T.length;++S){f=s,s=d,d=T[(S+1)%T.length];for(var M=o[f],C=o[s],y=o[d],w=new Array(3),b=0,i=new Array(3),E=0,m=0;m<3;++m)w[m]=M[m]-C[m],b+=w[m]*w[m],i[m]=y[m]-C[m],E+=i[m]*i[m];if(b*E>x)for(var F=n[s],_=1/Math.sqrt(b*E),m=0;m<3;++m){var B=(m+1)%3,I=(m+2)%3;F[m]+=_*(i[B]*w[I]-i[I]*w[B])}}for(var h=0;h<c;++h){for(var F=n[h],O=0,m=0;m<3;++m)O+=F[m]*F[m];if(O>x)for(var _=1/Math.sqrt(O),m=0;m<3;++m)F[m]*=_;else for(var m=0;m<3;++m)F[m]=0}return n},g.faceNormals=function(u,o,l){for(var c=u.length,n=new Array(c),x=l===void 0?r:l,h=0;h<c;++h){for(var T=u[h],f=new Array(3),s=0;s<3;++s)f[s]=o[T[s]];for(var d=new Array(3),S=new Array(3),s=0;s<3;++s)d[s]=f[1][s]-f[0][s],S[s]=f[2][s]-f[0][s];for(var M=new Array(3),C=0,s=0;s<3;++s){var y=(s+1)%3,w=(s+2)%3;M[s]=d[y]*S[w]-d[w]*S[y],C+=M[s]*M[s]}C>x?C=1/Math.sqrt(C):C=0;for(var s=0;s<3;++s)M[s]*=C;n[h]=M}return n}},567:function(v){v.exports=g;function g(t,r,u,o,l,c,n,x,h,T){var f=r+c+T;if(s>0){var s=Math.sqrt(f+1);t[0]=.5*(n-h)/s,t[1]=.5*(x-o)/s,t[2]=.5*(u-c)/s,t[3]=.5*s}else{var d=Math.max(r,c,T),s=Math.sqrt(2*d-f+1);r>=d?(t[0]=.5*s,t[1]=.5*(l+u)/s,t[2]=.5*(x+o)/s,t[3]=.5*(n-h)/s):c>=d?(t[0]=.5*(u+l)/s,t[1]=.5*s,t[2]=.5*(h+n)/s,t[3]=.5*(x-o)/s):(t[0]=.5*(o+x)/s,t[1]=.5*(n+h)/s,t[2]=.5*s,t[3]=.5*(u-l)/s)}return t}},7774:function(v,g,t){v.exports=s;var r=t(8444),u=t(3012),o=t(5950),l=t(7437),c=t(567);function n(d,S,M){return Math.sqrt(Math.pow(d,2)+Math.pow(S,2)+Math.pow(M,2))}function x(d,S,M,C){return Math.sqrt(Math.pow(d,2)+Math.pow(S,2)+Math.pow(M,2)+Math.pow(C,2))}function h(d,S){var M=S[0],C=S[1],y=S[2],w=S[3],b=x(M,C,y,w);b>1e-6?(d[0]=M/b,d[1]=C/b,d[2]=y/b,d[3]=w/b):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,S,M){this.radius=r([M]),this.center=r(S),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=T.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var S=this.computedRotation;h(S,S);var M=this.computedMatrix;o(M,S);var C=this.computedCenter,y=this.computedEye,w=this.computedUp,b=Math.exp(this.computedRadius[0]);y[0]=C[0]+b*M[2],y[1]=C[1]+b*M[6],y[2]=C[2]+b*M[10],w[0]=M[1],w[1]=M[5],w[2]=M[9];for(var i=0;i<3;++i){for(var E=0,m=0;m<3;++m)E+=M[i+4*m]*y[m];M[12+i]=-E}},f.getMatrix=function(d,S){this.recalcMatrix(d);var M=this.computedMatrix;if(S){for(var C=0;C<16;++C)S[C]=M[C];return S}return M},f.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},f.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},f.pan=function(d,S,M,C){S=S||0,M=M||0,C=C||0,this.recalcMatrix(d);var y=this.computedMatrix,w=y[1],b=y[5],i=y[9],E=n(w,b,i);w/=E,b/=E,i/=E;var m=y[0],F=y[4],_=y[8],B=m*w+F*b+_*i;m-=w*B,F-=b*B,_-=i*B;var I=n(m,F,_);m/=I,F/=I,_/=I,y[2],y[6],y[10];var O=m*S+w*M,z=F*S+b*M,k=_*S+i*M;this.center.move(d,O,z,k);var N=Math.exp(this.computedRadius[0]);N=Math.max(1e-4,N+C),this.radius.set(d,Math.log(N))},f.rotate=function(d,S,M,C){this.recalcMatrix(d),S=S||0,M=M||0;var y=this.computedMatrix,w=y[0],b=y[4],i=y[8],E=y[1],m=y[5],F=y[9],_=y[2],B=y[6],I=y[10],O=S*w+M*E,z=S*b+M*m,k=S*i+M*F,N=-(B*k-I*z),K=-(I*O-_*k),q=-(_*z-B*O),Q=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(K,2)-Math.pow(q,2))),re=x(N,K,q,Q);re>1e-6?(N/=re,K/=re,q/=re,Q/=re):(N=K=q=0,Q=1);var oe=this.computedRotation,Y=oe[0],G=oe[1],V=oe[2],Z=oe[3],ae=Y*Q+Z*N+G*q-V*K,ie=G*Q+Z*K+V*N-Y*q,J=V*Q+Z*q+Y*K-G*N,$=Z*Q-Y*N-G*K-V*q;if(C){N=_,K=B,q=I;var se=Math.sin(C)/n(N,K,q);N*=se,K*=se,q*=se,Q=Math.cos(S),ae=ae*Q+$*N+ie*q-J*K,ie=ie*Q+$*K+J*N-ae*q,J=J*Q+$*q+ae*K-ie*N,$=$*Q-ae*N-ie*K-J*q}var ee=x(ae,ie,J,$);ee>1e-6?(ae/=ee,ie/=ee,J/=ee,$/=ee):(ae=ie=J=0,$=1),this.rotation.set(d,ae,ie,J,$)},f.lookAt=function(d,S,M,C){this.recalcMatrix(d),M=M||this.computedCenter,S=S||this.computedEye,C=C||this.computedUp;var y=this.computedMatrix;u(y,S,M,C);var w=this.computedRotation;c(w,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);for(var b=0,i=0;i<3;++i)b+=Math.pow(M[i]-S[i],2);this.radius.set(d,.5*Math.log(Math.max(b,1e-6))),this.center.set(d,M[0],M[1],M[2])},f.translate=function(d,S,M,C){this.center.move(d,S||0,M||0,C||0)},f.setMatrix=function(d,S){var M=this.computedRotation;c(M,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),h(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);var C=this.computedMatrix;l(C,S);var y=C[15];if(Math.abs(y)>1e-6){var w=C[12]/y,b=C[13]/y,i=C[14]/y;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,w-C[2]*E,b-C[6]*E,i-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},f.setDistance=function(d,S){S>0&&this.radius.set(d,Math.log(S))},f.setDistanceLimits=function(d,S){d>0?d=Math.log(d):d=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=S},f.getDistanceLimits=function(d){var S=this.radius.bounds;return d?(d[0]=Math.exp(S[0][0]),d[1]=Math.exp(S[1][0]),d):[Math.exp(S[0][0]),Math.exp(S[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(d){var S=this.lastT(),M=d.center;M&&this.center.set(S,M[0],M[1],M[2]);var C=d.rotation;C&&this.rotation.set(S,C[0],C[1],C[2],C[3]);var y=d.distance;y&&y>0&&this.radius.set(S,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function s(d){d=d||{};var S=d.center||[0,0,0],M=d.rotation||[0,0,0,1],C=d.radius||1;S=[].slice.call(S,0,3),M=[].slice.call(M,0,4),h(M,M);var y=new T(M,S,Math.log(C));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},4930:function(v,g,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(o,l,c){return c=typeof c<"u"?c+"":" ",r(c,l)+o}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var u=parseFloat(t,10);return r[0]=u,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,g,t){v.exports=u;var r=t(9398);function u(o,l){for(var c=l.length|0,n=o.length,x=[new Array(c),new Array(c)],h=0;h<c;++h)x[0][h]=[],x[1][h]=[];for(var h=0;h<n;++h){var T=o[h];x[0][T[0]].push(T),x[1][T[1]].push(T)}for(var f=[],h=0;h<c;++h)x[0][h].length+x[1][h].length===0&&f.push([h]);function s(b,i){var E=x[i][b[i]];E.splice(E.indexOf(b),1)}function d(b,i,E){for(var m,F,_,B=0;B<2;++B)if(x[B][i].length>0){m=x[B][i][0],_=B;break}F=m[_^1];for(var I=0;I<2;++I)for(var O=x[I][i],z=0;z<O.length;++z){var k=O[z],N=k[I^1],K=r(l[b],l[i],l[F],l[N]);K>0&&(m=k,F=N,_=I)}return E||m&&s(m,_),F}function S(b,i){var E=x[i][b][0],m=[b];s(E,i);for(var F=E[i^1];;){for(;F!==b;)m.push(F),F=d(m[m.length-2],F,!1);if(x[0][b].length+x[1][b].length===0)break;var _=m[m.length-1],B=b,I=m[1],O=d(_,B,!0);if(r(l[_],l[B],l[I],l[O])<0)break;m.push(b),F=d(_,B)}return m}function M(b,i){return i[1]===i[i.length-1]}for(var h=0;h<c;++h)for(var C=0;C<2;++C){for(var y=[];x[C][h].length>0;){x[0][h].length;var w=S(h,C);M(y,w)?y.push.apply(y,w):(y.length>0&&f.push(y),y=w)}y.length>0&&f.push(y)}return f}},3959:function(v,g,t){v.exports=u;var r=t(8348);function u(o,l){for(var c=r(o,l.length),n=new Array(l.length),x=new Array(l.length),h=[],T=0;T<l.length;++T){var f=c[T].length;x[T]=f,n[T]=!0,f<=1&&h.push(T)}for(;h.length>0;){var s=h.pop();n[s]=!1;for(var d=c[s],T=0;T<d.length;++T){var S=d[T];--x[S]===0&&h.push(S)}}for(var M=new Array(l.length),C=[],T=0;T<l.length;++T)if(n[T]){var s=C.length;M[T]=s,C.push(l[T])}else M[T]=-1;for(var y=[],T=0;T<o.length;++T){var w=o[T];n[w[0]]&&n[w[1]]&&y.push([M[w[0]],M[w[1]]])}return[y,C]}},8040:function(v,g,t){v.exports=f;var r=t(8348),u=t(4166),o=t(211),l=t(9660),c=t(9662),n=t(1215),x=t(3959);function h(s,d){for(var S=new Array(s),M=0;M<s;++M)S[M]=d;return S}function T(s){for(var d=new Array(s),S=0;S<s;++S)d[S]=[];return d}function f(s,d){var $=x(s,d);s=$[0],d=$[1];var S=d.length;s.length;for(var M=r(s,d.length),C=0;C<S;++C)if(M[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=u(s,d);function w(Pe){for(var Ie=Pe.length,Ae=[0],be=0;be<Ie;++be){var _e=d[Pe[be]],Ve=d[Pe[(be+1)%Ie]],We=l(-_e[0],_e[1]),ze=l(-_e[0],Ve[1]),Ze=l(Ve[0],_e[1]),ct=l(Ve[0],Ve[1]);Ae=c(Ae,c(c(We,ze),c(Ze,ct)))}return Ae[Ae.length-1]>0}y=y.filter(w);for(var b=y.length,i=new Array(b),E=new Array(b),C=0;C<b;++C){i[C]=C;var m=new Array(b),F=y[C].map(function(Ie){return d[Ie]}),_=o([F]),B=0;e:for(var I=0;I<b;++I)if(m[I]=0,C!==I){for(var O=y[I],z=O.length,k=0;k<z;++k){var N=_(d[O[k]]);if(N!==0){N<0&&(m[I]=1,B+=1);continue e}}m[I]=1,B+=1}E[C]=[B,C,m]}E.sort(function(Pe,Ie){return Ie[0]-Pe[0]});for(var C=0;C<b;++C)for(var m=E[C],K=m[1],q=m[2],I=0;I<b;++I)q[I]&&(i[I]=K);for(var Q=T(b),C=0;C<b;++C)Q[C].push(i[C]),Q[i[C]].push(C);for(var re={},oe=h(S,!1),C=0;C<b;++C)for(var O=y[C],z=O.length,I=0;I<z;++I){var Y=O[I],G=O[(I+1)%z],V=Math.min(Y,G)+":"+Math.max(Y,G);if(V in re){var Z=re[V];Q[Z].push(C),Q[C].push(Z),oe[Y]=oe[G]=!0}else re[V]=C}function ae(Pe){for(var Ie=Pe.length,Ae=0;Ae<Ie;++Ae)if(!oe[Pe[Ae]])return!1;return!0}for(var ie=[],J=h(b,-1),C=0;C<b;++C)i[C]===C&&!ae(y[C])?(ie.push(C),J[C]=0):J[C]=-1;for(var $=[];ie.length>0;){var se=ie.pop(),ee=Q[se];n(ee,function(Pe,Ie){return Pe-Ie});var ue=ee.length,ge=J[se],Te;if(ge===0){var O=y[se];Te=[O]}for(var C=0;C<ue;++C){var xe=ee[C];if(!(J[xe]>=0)&&(J[xe]=ge^1,ie.push(xe),ge===0)){var O=y[xe];ae(O)||(O.reverse(),Te.push(O))}}ge===0&&$.push(Te)}return $}},211:function(v,g,t){v.exports=d;var r=t(417)[3],u=t(4385),o=t(9014),l=t(5070);function c(){return!0}function n(S){return function(M,C){var y=S[M];return y?!!y.queryPoint(C,c):!1}}function x(S){for(var M={},C=0;C<S.length;++C){var y=S[C],w=y[0][0],b=y[0][1],i=y[1][1],E=[Math.min(b,i),Math.max(b,i)];w in M?M[w].push(E):M[w]=[E]}for(var m={},F=Object.keys(M),C=0;C<F.length;++C){var _=M[F[C]];m[F[C]]=o(_)}return n(m)}function h(S,M){return function(C){var y=l.le(M,C[0]);if(y<0)return 1;var w=S[y];if(!w)if(y>0&&M[y]===C[0])w=S[y-1];else return 1;for(var b=1;w;){var i=w.key,E=r(C,i[0],i[1]);if(i[0][0]<i[1][0])if(E<0)w=w.left;else if(E>0)b=-1,w=w.right;else return 0;else if(E>0)w=w.left;else if(E<0)b=1,w=w.right;else return 0}return b}}function T(S){return 1}function f(S){return function(C){return S(C[0],C[1])?0:1}}function s(S,M){return function(y){return S(y[0],y[1])?0:M(y)}}function d(S){for(var M=S.length,C=[],y=[],w=0;w<M;++w)for(var b=S[w],i=b.length,E=i-1,m=0;m<i;E=m++){var F=b[E],_=b[m];F[0]===_[0]?y.push([F,_]):C.push([F,_])}if(C.length===0)return y.length===0?T:f(x(y));var B=u(C),I=h(B.slabs,B.coordinates);return y.length===0?I:s(x(y),I)}},7309:function(v){var g=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function u(o,l,c,n,x){g.length<n.length&&(g=new Float64Array(n.length),t=new Float64Array(n.length),r=new Float64Array(n.length));for(var h=0;h<n.length;++h)g[h]=o[h]-n[h],t[h]=l[h]-o[h],r[h]=c[h]-o[h];for(var T=0,f=0,s=0,d=0,S=0,M=0,h=0;h<n.length;++h){var C=t[h],y=r[h],w=g[h];T+=C*C,f+=C*y,s+=y*y,d+=w*C,S+=w*y,M+=w*w}var b=Math.abs(T*s-f*f),i=f*S-s*d,E=f*d-T*S,m;if(i+E<=b)if(i<0)E<0&&d<0?(E=0,-d>=T?(i=1,m=T+2*d+M):(i=-d/T,m=d*i+M)):(i=0,S>=0?(E=0,m=M):-S>=s?(E=1,m=s+2*S+M):(E=-S/s,m=S*E+M));else if(E<0)E=0,d>=0?(i=0,m=M):-d>=T?(i=1,m=T+2*d+M):(i=-d/T,m=d*i+M);else{var F=1/b;i*=F,E*=F,m=i*(T*i+f*E+2*d)+E*(f*i+s*E+2*S)+M}else{var _,B,I,O;i<0?(_=f+d,B=s+S,B>_?(I=B-_,O=T-2*f+s,I>=O?(i=1,E=0,m=T+2*d+M):(i=I/O,E=1-i,m=i*(T*i+f*E+2*d)+E*(f*i+s*E+2*S)+M)):(i=0,B<=0?(E=1,m=s+2*S+M):S>=0?(E=0,m=M):(E=-S/s,m=S*E+M))):E<0?(_=f+S,B=T+d,B>_?(I=B-_,O=T-2*f+s,I>=O?(E=1,i=0,m=s+2*S+M):(E=I/O,i=1-E,m=i*(T*i+f*E+2*d)+E*(f*i+s*E+2*S)+M)):(E=0,B<=0?(i=1,m=T+2*d+M):d>=0?(i=0,m=M):(i=-d/T,m=d*i+M))):(I=s+S-f-d,I<=0?(i=0,E=1,m=s+2*S+M):(O=T-2*f+s,I>=O?(i=1,E=0,m=T+2*d+M):(i=I/O,E=1-i,m=i*(T*i+f*E+2*d)+E*(f*i+s*E+2*S)+M)))}for(var z=1-i-E,h=0;h<n.length;++h)x[h]=z*o[h]+i*l[h]+E*c[h];return m<0?0:m}v.exports=u},1116:function(v,g,t){v.exports=t(6093)},7584:function(v,g,t){var r=t(1539);v.exports=u;function u(o,l){for(var c=o.length,n=new Array(c),x=0;x<c;++x)n[x]=r(o[x],l[x]);return n}},2826:function(v,g,t){v.exports=u;var r=t(5125);function u(o){for(var l=new Array(o.length),c=0;c<o.length;++c)l[c]=r(o[c]);return l}},4469:function(v,g,t){var r=t(5125),u=t(3962);v.exports=o;function o(l,c){for(var n=r(c),x=l.length,h=new Array(x),T=0;T<x;++T)h[T]=u(l[T],n);return h}},6695:function(v,g,t){var r=t(4354);v.exports=u;function u(o,l){for(var c=o.length,n=new Array(c),x=0;x<c;++x)n[x]=r(o[x],l[x]);return n}},7037:function(v,g,t){var r=t(9209),u=t(1284),o=t(9887);v.exports=l;function l(c){c.sort(u);for(var n=c.length,x=0,h=0;h<n;++h){var T=c[h],f=o(T);if(f!==0){if(x>0){var s=c[x-1];if(r(T,s)===0&&o(s)!==f){x-=1;continue}}c[x++]=T}}return c.length=x,c}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",t;v.exports=r;function r(u,o){if(typeof u!="string")throw new TypeError("expected a string");if(o===1)return u;if(o===2)return u+u;var l=u.length*o;if(t!==u||typeof t>"u")t=u,g="";else if(g.length>=l)return g.substr(0,l);for(;l>g.length&&o>1;)o&1&&(g+=u),o>>=1,u+=u;return g+=u,g=g.substr(0,l),g}},8161:function(v,g,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=g;function g(t){for(var r=t.length,u=t[t.length-1],o=r,l=r-2;l>=0;--l){var c=u,n=t[l];u=c+n;var x=u-c,h=n-x;h&&(t[--o]=u,u=h)}for(var T=0,l=o;l<r;++l){var c=t[l],n=u;u=c+n;var x=u-c,h=n-x;h&&(t[T++]=h)}return t[T++]=u,t.length=T,t}},8167:function(v,g,t){var r=t(9660),u=t(9662),o=t(8289),l=t(402),c=6;function n(M,C,y,w){return function(i){return w(M(y(i[0][0],i[1][1]),y(-i[0][1],i[1][0])))}}function x(M,C,y,w){return function(i){return w(M(C(M(y(i[1][1],i[2][2]),y(-i[1][2],i[2][1])),i[0][0]),M(C(M(y(i[1][0],i[2][2]),y(-i[1][2],i[2][0])),-i[0][1]),C(M(y(i[1][0],i[2][1]),y(-i[1][1],i[2][0])),i[0][2]))))}}function h(M,C,y,w){return function(i){return w(M(M(C(M(C(M(y(i[2][2],i[3][3]),y(-i[2][3],i[3][2])),i[1][1]),M(C(M(y(i[2][1],i[3][3]),y(-i[2][3],i[3][1])),-i[1][2]),C(M(y(i[2][1],i[3][2]),y(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),C(M(C(M(y(i[2][2],i[3][3]),y(-i[2][3],i[3][2])),i[1][0]),M(C(M(y(i[2][0],i[3][3]),y(-i[2][3],i[3][0])),-i[1][2]),C(M(y(i[2][0],i[3][2]),y(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),M(C(M(C(M(y(i[2][1],i[3][3]),y(-i[2][3],i[3][1])),i[1][0]),M(C(M(y(i[2][0],i[3][3]),y(-i[2][3],i[3][0])),-i[1][1]),C(M(y(i[2][0],i[3][1]),y(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),C(M(C(M(y(i[2][1],i[3][2]),y(-i[2][2],i[3][1])),i[1][0]),M(C(M(y(i[2][0],i[3][2]),y(-i[2][2],i[3][0])),-i[1][1]),C(M(y(i[2][0],i[3][1]),y(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function T(M,C,y,w){return function(i){return w(M(M(C(M(M(C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][2]),M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),-i[2][3]),C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][1]),M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][3]),C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),M(C(M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][1]),M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][2]),C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),C(M(C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][1]),M(C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),-i[2][2]),C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),C(M(M(C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][2]),M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),-i[2][3]),C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][3]),C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),M(C(M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][2]),C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),C(M(C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][0]),M(C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][2]),C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),M(C(M(M(C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][1]),M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][3]),C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),C(M(C(M(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][3]),C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),M(C(M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),C(M(C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),M(C(M(M(C(M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][1]),M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][2]),C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),C(M(C(M(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][2]),C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),M(C(M(C(M(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),C(M(C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),C(M(M(C(M(C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][1]),M(C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),-i[2][2]),C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),C(M(C(M(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][0]),M(C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][2]),C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),M(C(M(C(M(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),C(M(C(M(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][0]),M(C(M(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),-i[2][1]),C(M(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function f(M){var C=M===2?n:M===3?x:M===4?h:M===5?T:void 0;return C(u,o,r,l)}var s=[function(){return[0]},function(C){return[C[0][0]]}];function d(M,C,y,w,b,i,E,m){return function(_){switch(_.length){case 0:return M(_);case 1:return C(_);case 2:return y(_);case 3:return w(_);case 4:return b(_);case 5:return i(_)}var B=E[_.length];return B||(B=E[_.length]=m(_.length)),B(_)}}function S(){for(;s.length<c;)s.push(f(s.length));v.exports=d.apply(void 0,s.concat([s,f]));for(var M=0;M<s.length;++M)v.exports[M]=s[M]}S()},9130:function(v,g,t){var r=t(9660),u=t(9662);v.exports=o;function o(l,c){for(var n=r(l[0],c[0]),x=1;x<l.length;++x)n=u(n,r(l[x],c[x]));return n}},2227:function(v,g,t){var r=t(9660),u=t(9662),o=t(4078),l=t(8289),c=6;function n(b){var i=b===3?f:b===4?s:b===5?d:S;return i(u,o,r,l)}function x(){return 0}function h(){return 0}function T(){return 0}function f(b,i,E,m){function F(_,B,I){var O=E(_[0],_[0]),z=m(O,B[0]),k=m(O,I[0]),N=E(B[0],B[0]),K=m(N,_[0]),q=m(N,I[0]),Q=E(I[0],I[0]),re=m(Q,_[0]),oe=m(Q,B[0]),Y=b(i(oe,q),i(K,z)),G=i(re,k),V=i(Y,G);return V[V.length-1]}return F}function s(b,i,E,m){function F(_,B,I,O){var z=b(E(_[0],_[0]),E(_[1],_[1])),k=m(z,B[0]),N=m(z,I[0]),K=m(z,O[0]),q=b(E(B[0],B[0]),E(B[1],B[1])),Q=m(q,_[0]),re=m(q,I[0]),oe=m(q,O[0]),Y=b(E(I[0],I[0]),E(I[1],I[1])),G=m(Y,_[0]),V=m(Y,B[0]),Z=m(Y,O[0]),ae=b(E(O[0],O[0]),E(O[1],O[1])),ie=m(ae,_[0]),J=m(ae,B[0]),$=m(ae,I[0]),se=b(b(m(i($,Z),B[1]),b(m(i(J,oe),-I[1]),m(i(V,re),O[1]))),b(m(i(J,oe),_[1]),b(m(i(ie,K),-B[1]),m(i(Q,k),O[1])))),ee=b(b(m(i($,Z),_[1]),b(m(i(ie,K),-I[1]),m(i(G,N),O[1]))),b(m(i(V,re),_[1]),b(m(i(G,N),-B[1]),m(i(Q,k),I[1])))),ue=i(se,ee);return ue[ue.length-1]}return F}function d(b,i,E,m){function F(_,B,I,O,z){var k=b(E(_[0],_[0]),b(E(_[1],_[1]),E(_[2],_[2]))),N=m(k,B[0]),K=m(k,I[0]),q=m(k,O[0]),Q=m(k,z[0]),re=b(E(B[0],B[0]),b(E(B[1],B[1]),E(B[2],B[2]))),oe=m(re,_[0]),Y=m(re,I[0]),G=m(re,O[0]),V=m(re,z[0]),Z=b(E(I[0],I[0]),b(E(I[1],I[1]),E(I[2],I[2]))),ae=m(Z,_[0]),ie=m(Z,B[0]),J=m(Z,O[0]),$=m(Z,z[0]),se=b(E(O[0],O[0]),b(E(O[1],O[1]),E(O[2],O[2]))),ee=m(se,_[0]),ue=m(se,B[0]),ge=m(se,I[0]),Te=m(se,z[0]),xe=b(E(z[0],z[0]),b(E(z[1],z[1]),E(z[2],z[2]))),Pe=m(xe,_[0]),Ie=m(xe,B[0]),Ae=m(xe,I[0]),be=m(xe,O[0]),_e=b(b(b(m(b(m(i(be,Te),I[1]),b(m(i(Ae,$),-O[1]),m(i(ge,J),z[1]))),B[2]),b(m(b(m(i(be,Te),B[1]),b(m(i(Ie,V),-O[1]),m(i(ue,G),z[1]))),-I[2]),m(b(m(i(Ae,$),B[1]),b(m(i(Ie,V),-I[1]),m(i(ie,Y),z[1]))),O[2]))),b(m(b(m(i(ge,J),B[1]),b(m(i(ue,G),-I[1]),m(i(ie,Y),O[1]))),-z[2]),b(m(b(m(i(be,Te),B[1]),b(m(i(Ie,V),-O[1]),m(i(ue,G),z[1]))),_[2]),m(b(m(i(be,Te),_[1]),b(m(i(Pe,Q),-O[1]),m(i(ee,q),z[1]))),-B[2])))),b(b(m(b(m(i(Ie,V),_[1]),b(m(i(Pe,Q),-B[1]),m(i(oe,N),z[1]))),O[2]),b(m(b(m(i(ue,G),_[1]),b(m(i(ee,q),-B[1]),m(i(oe,N),O[1]))),-z[2]),m(b(m(i(ge,J),B[1]),b(m(i(ue,G),-I[1]),m(i(ie,Y),O[1]))),_[2]))),b(m(b(m(i(ge,J),_[1]),b(m(i(ee,q),-I[1]),m(i(ae,K),O[1]))),-B[2]),b(m(b(m(i(ue,G),_[1]),b(m(i(ee,q),-B[1]),m(i(oe,N),O[1]))),I[2]),m(b(m(i(ie,Y),_[1]),b(m(i(ae,K),-B[1]),m(i(oe,N),I[1]))),-O[2]))))),Ve=b(b(b(m(b(m(i(be,Te),I[1]),b(m(i(Ae,$),-O[1]),m(i(ge,J),z[1]))),_[2]),m(b(m(i(be,Te),_[1]),b(m(i(Pe,Q),-O[1]),m(i(ee,q),z[1]))),-I[2])),b(m(b(m(i(Ae,$),_[1]),b(m(i(Pe,Q),-I[1]),m(i(ae,K),z[1]))),O[2]),m(b(m(i(ge,J),_[1]),b(m(i(ee,q),-I[1]),m(i(ae,K),O[1]))),-z[2]))),b(b(m(b(m(i(Ae,$),B[1]),b(m(i(Ie,V),-I[1]),m(i(ie,Y),z[1]))),_[2]),m(b(m(i(Ae,$),_[1]),b(m(i(Pe,Q),-I[1]),m(i(ae,K),z[1]))),-B[2])),b(m(b(m(i(Ie,V),_[1]),b(m(i(Pe,Q),-B[1]),m(i(oe,N),z[1]))),I[2]),m(b(m(i(ie,Y),_[1]),b(m(i(ae,K),-B[1]),m(i(oe,N),I[1]))),-z[2])))),We=i(_e,Ve);return We[We.length-1]}return F}function S(b,i,E,m){function F(_,B,I,O,z,k){var N=b(b(E(_[0],_[0]),E(_[1],_[1])),b(E(_[2],_[2]),E(_[3],_[3]))),K=m(N,B[0]),q=m(N,I[0]),Q=m(N,O[0]),re=m(N,z[0]),oe=m(N,k[0]),Y=b(b(E(B[0],B[0]),E(B[1],B[1])),b(E(B[2],B[2]),E(B[3],B[3]))),G=m(Y,_[0]),V=m(Y,I[0]),Z=m(Y,O[0]),ae=m(Y,z[0]),ie=m(Y,k[0]),J=b(b(E(I[0],I[0]),E(I[1],I[1])),b(E(I[2],I[2]),E(I[3],I[3]))),$=m(J,_[0]),se=m(J,B[0]),ee=m(J,O[0]),ue=m(J,z[0]),ge=m(J,k[0]),Te=b(b(E(O[0],O[0]),E(O[1],O[1])),b(E(O[2],O[2]),E(O[3],O[3]))),xe=m(Te,_[0]),Pe=m(Te,B[0]),Ie=m(Te,I[0]),Ae=m(Te,z[0]),be=m(Te,k[0]),_e=b(b(E(z[0],z[0]),E(z[1],z[1])),b(E(z[2],z[2]),E(z[3],z[3]))),Ve=m(_e,_[0]),We=m(_e,B[0]),ze=m(_e,I[0]),Ze=m(_e,O[0]),ct=m(_e,k[0]),lt=b(b(E(k[0],k[0]),E(k[1],k[1])),b(E(k[2],k[2]),E(k[3],k[3]))),at=m(lt,_[0]),tt=m(lt,B[0]),dt=m(lt,I[0]),wt=m(lt,O[0]),Mt=m(lt,z[0]),It=b(b(b(m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),I[2]),m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),-O[2])),b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),z[2]),m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),-k[2]))),B[3]),b(m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),B[2]),m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),-O[2])),b(m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),z[2]),m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),-k[2]))),-I[3]),m(b(b(m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),B[2]),m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),-I[2])),b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),z[2]),m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),-k[2]))),O[3]))),b(b(m(b(b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),B[2]),m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),-I[2])),b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),O[2]),m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),-k[2]))),-z[3]),m(b(b(m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),B[2]),m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),-I[2])),b(m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),O[2]),m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),-z[2]))),k[3])),b(m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),B[2]),m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),-O[2])),b(m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),z[2]),m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),-k[2]))),_[3]),m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-O[2])),b(m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),z[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-k[2]))),-B[3])))),b(b(b(m(b(b(m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),z[2]),m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),-k[2]))),O[3]),m(b(b(m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),_[2]),m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),O[2]),m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),-k[2]))),-z[3])),b(m(b(b(m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),_[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-B[2])),b(m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),O[2]),m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),-z[2]))),k[3]),m(b(b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),B[2]),m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),-I[2])),b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),O[2]),m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),-k[2]))),_[3]))),b(b(m(b(b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),_[2]),m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),-I[2])),b(m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),O[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-k[2]))),-B[3]),m(b(b(m(b(m(i(wt,be),B[1]),b(m(i(tt,ie),-O[1]),m(i(Pe,Z),k[1]))),_[2]),m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),O[2]),m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),-k[2]))),I[3])),b(m(b(b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),_[2]),m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-k[2]))),-O[3]),m(b(b(m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),_[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-B[2])),b(m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-O[2]))),k[3]))))),$e=b(b(b(m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),I[2]),m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),-O[2])),b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),z[2]),m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),-k[2]))),_[3]),b(m(b(b(m(b(m(i(Mt,ct),O[1]),b(m(i(wt,be),-z[1]),m(i(Ze,Ae),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-O[2])),b(m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),z[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-k[2]))),-I[3]),m(b(b(m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-I[2])),b(m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),z[2]),m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),-k[2]))),O[3]))),b(b(m(b(b(m(b(m(i(wt,be),I[1]),b(m(i(dt,ge),-O[1]),m(i(Ie,ee),k[1]))),_[2]),m(b(m(i(wt,be),_[1]),b(m(i(at,oe),-O[1]),m(i(xe,Q),k[1]))),-I[2])),b(m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),O[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-k[2]))),-z[3]),m(b(b(m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),_[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-I[2])),b(m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),O[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-z[2]))),k[3])),b(m(b(b(m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),B[2]),m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),-I[2])),b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),z[2]),m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),-k[2]))),_[3]),m(b(b(m(b(m(i(Mt,ct),I[1]),b(m(i(dt,ge),-z[1]),m(i(ze,ue),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-I[2])),b(m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),z[2]),m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),-k[2]))),-B[3])))),b(b(b(m(b(b(m(b(m(i(Mt,ct),B[1]),b(m(i(tt,ie),-z[1]),m(i(We,ae),k[1]))),_[2]),m(b(m(i(Mt,ct),_[1]),b(m(i(at,oe),-z[1]),m(i(Ve,re),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),z[2]),m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),-k[2]))),I[3]),m(b(b(m(b(m(i(dt,ge),B[1]),b(m(i(tt,ie),-I[1]),m(i(se,V),k[1]))),_[2]),m(b(m(i(dt,ge),_[1]),b(m(i(at,oe),-I[1]),m(i($,q),k[1]))),-B[2])),b(m(b(m(i(tt,ie),_[1]),b(m(i(at,oe),-B[1]),m(i(G,K),k[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-k[2]))),-z[3])),b(m(b(b(m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),_[2]),m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),-B[2])),b(m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-z[2]))),k[3]),m(b(b(m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),B[2]),m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),-I[2])),b(m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),O[2]),m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),-z[2]))),_[3]))),b(b(m(b(b(m(b(m(i(Ze,Ae),I[1]),b(m(i(ze,ue),-O[1]),m(i(Ie,ee),z[1]))),_[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-I[2])),b(m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),O[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-z[2]))),-B[3]),m(b(b(m(b(m(i(Ze,Ae),B[1]),b(m(i(We,ae),-O[1]),m(i(Pe,Z),z[1]))),_[2]),m(b(m(i(Ze,Ae),_[1]),b(m(i(Ve,re),-O[1]),m(i(xe,Q),z[1]))),-B[2])),b(m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),O[2]),m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),-z[2]))),I[3])),b(m(b(b(m(b(m(i(ze,ue),B[1]),b(m(i(We,ae),-I[1]),m(i(se,V),z[1]))),_[2]),m(b(m(i(ze,ue),_[1]),b(m(i(Ve,re),-I[1]),m(i($,q),z[1]))),-B[2])),b(m(b(m(i(We,ae),_[1]),b(m(i(Ve,re),-B[1]),m(i(G,K),z[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-z[2]))),-O[3]),m(b(b(m(b(m(i(Ie,ee),B[1]),b(m(i(Pe,Z),-I[1]),m(i(se,V),O[1]))),_[2]),m(b(m(i(Ie,ee),_[1]),b(m(i(xe,Q),-I[1]),m(i($,q),O[1]))),-B[2])),b(m(b(m(i(Pe,Z),_[1]),b(m(i(xe,Q),-B[1]),m(i(G,K),O[1]))),I[2]),m(b(m(i(se,V),_[1]),b(m(i($,q),-B[1]),m(i(G,K),I[1]))),-O[2]))),z[3]))))),ke=i(It,$e);return ke[ke.length-1]}return F}var M=[x,h,T];function C(b){var i=M[b.length];return i||(i=M[b.length]=n(b.length)),i.apply(void 0,b)}function y(b,i,E,m,F,_,B,I){function O(z,k,N,K,q,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return m(z,k);case 3:return F(z,k,N);case 4:return _(z,k,N,K);case 5:return B(z,k,N,K,q);case 6:return I(z,k,N,K,q,Q)}for(var re=new Array(arguments.length),oe=0;oe<arguments.length;++oe)re[oe]=arguments[oe];return b(re)}return O}function w(){for(;M.length<=c;)M.push(n(M.length));v.exports=y.apply(void 0,[C].concat(M));for(var b=0;b<=c;++b)v.exports[b]=M[b]}w()},6606:function(v,g,t){var r=t(8167),u=6;function o(M){var C=M===2?n:M===3?x:M===4?h:M===5?T:f;return M<6?C(r[M]):C(r)}function l(){return[[0]]}function c(M,C){return[[C[0]],[M[0][0]]]}function n(M){return function(y,w){return[M([[+w[0],+y[0][1]],[+w[1],+y[1][1]]]),M([[+y[0][0],+w[0]],[+y[1][0],+w[1]]]),M(y)]}}function x(M){return function(y,w){return[M([[+w[0],+y[0][1],+y[0][2]],[+w[1],+y[1][1],+y[1][2]],[+w[2],+y[2][1],+y[2][2]]]),M([[+y[0][0],+w[0],+y[0][2]],[+y[1][0],+w[1],+y[1][2]],[+y[2][0],+w[2],+y[2][2]]]),M([[+y[0][0],+y[0][1],+w[0]],[+y[1][0],+y[1][1],+w[1]],[+y[2][0],+y[2][1],+w[2]]]),M(y)]}}function h(M){return function(y,w){return[M([[+w[0],+y[0][1],+y[0][2],+y[0][3]],[+w[1],+y[1][1],+y[1][2],+y[1][3]],[+w[2],+y[2][1],+y[2][2],+y[2][3]],[+w[3],+y[3][1],+y[3][2],+y[3][3]]]),M([[+y[0][0],+w[0],+y[0][2],+y[0][3]],[+y[1][0],+w[1],+y[1][2],+y[1][3]],[+y[2][0],+w[2],+y[2][2],+y[2][3]],[+y[3][0],+w[3],+y[3][2],+y[3][3]]]),M([[+y[0][0],+y[0][1],+w[0],+y[0][3]],[+y[1][0],+y[1][1],+w[1],+y[1][3]],[+y[2][0],+y[2][1],+w[2],+y[2][3]],[+y[3][0],+y[3][1],+w[3],+y[3][3]]]),M([[+y[0][0],+y[0][1],+y[0][2],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+w[3]]]),M(y)]}}function T(M){return function(y,w){return[M([[+w[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+w[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+w[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+w[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+w[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),M([[+y[0][0],+w[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+w[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+w[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+w[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+w[4],+y[4][2],+y[4][3],+y[4][4]]]),M([[+y[0][0],+y[0][1],+w[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+w[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+w[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+w[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+w[4],+y[4][3],+y[4][4]]]),M([[+y[0][0],+y[0][1],+y[0][2],+w[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+w[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+w[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+w[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+w[4],+y[4][4]]]),M([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+w[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+w[4]]]),M(y)]}}function f(M){return function(y,w){return[M([[+w[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+w[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+w[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+w[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+w[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+w[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),M([[+y[0][0],+w[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+w[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+w[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+w[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+w[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+w[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),M([[+y[0][0],+y[0][1],+w[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+w[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+w[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+w[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+w[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+w[5],+y[5][3],+y[5][4],+y[5][5]]]),M([[+y[0][0],+y[0][1],+y[0][2],+w[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+w[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+w[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+w[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+w[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+w[5],+y[5][4],+y[5][5]]]),M([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+w[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+w[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+w[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+w[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+w[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+w[5],+y[5][5]]]),M([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+w[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+w[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+w[5]]]),M(y)]}}var s=[l,c];function d(M,C,y,w,b,i,E,m){return function(_,B){switch(_.length){case 0:return M(_,B);case 1:return C(_,B);case 2:return y(_,B);case 3:return w(_,B);case 4:return b(_,B);case 5:return i(_,B)}var I=E[_.length];return I||(I=E[_.length]=m(_.length)),I(_,B)}}function S(){for(;s.length<u;)s.push(o(s.length));v.exports=d.apply(void 0,s.concat([s,o]));for(var M=0;M<u;++M)v.exports[M]=s[M]}S()},417:function(v,g,t){var r=t(9660),u=t(9662),o=t(8289),l=t(4078),c=5,n=11102230246251565e-32,x=(3+16*n)*n,h=(7+56*n)*n;function T(i,E,m,F){return function(B,I,O){var z=i(i(E(I[1],O[0]),E(-O[1],I[0])),i(E(B[1],I[0]),E(-I[1],B[0]))),k=i(E(B[1],O[0]),E(-O[1],B[0])),N=F(z,k);return N[N.length-1]}}function f(i,E,m,F){return function(B,I,O,z){var k=i(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),I[2]),i(m(i(E(I[1],z[0]),E(-z[1],I[0])),-O[2]),m(i(E(I[1],O[0]),E(-O[1],I[0])),z[2]))),i(m(i(E(I[1],z[0]),E(-z[1],I[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),z[2])))),N=i(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-O[2]),m(i(E(B[1],O[0]),E(-O[1],B[0])),z[2]))),i(m(i(E(I[1],O[0]),E(-O[1],I[0])),B[2]),i(m(i(E(B[1],O[0]),E(-O[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),O[2])))),K=F(k,N);return K[K.length-1]}}function s(i,E,m,F){return function(B,I,O,z,k){var N=i(i(i(m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),O[2]),i(m(i(E(O[1],k[0]),E(-k[1],O[0])),-z[2]),m(i(E(O[1],z[0]),E(-z[1],O[0])),k[2]))),I[3]),i(m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),I[2]),i(m(i(E(I[1],k[0]),E(-k[1],I[0])),-z[2]),m(i(E(I[1],z[0]),E(-z[1],I[0])),k[2]))),-O[3]),m(i(m(i(E(O[1],k[0]),E(-k[1],O[0])),I[2]),i(m(i(E(I[1],k[0]),E(-k[1],I[0])),-O[2]),m(i(E(I[1],O[0]),E(-O[1],I[0])),k[2]))),z[3]))),i(m(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),I[2]),i(m(i(E(I[1],z[0]),E(-z[1],I[0])),-O[2]),m(i(E(I[1],O[0]),E(-O[1],I[0])),z[2]))),-k[3]),i(m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),I[2]),i(m(i(E(I[1],k[0]),E(-k[1],I[0])),-z[2]),m(i(E(I[1],z[0]),E(-z[1],I[0])),k[2]))),B[3]),m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-z[2]),m(i(E(B[1],z[0]),E(-z[1],B[0])),k[2]))),-I[3])))),i(i(m(i(m(i(E(I[1],k[0]),E(-k[1],I[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),k[2]))),z[3]),i(m(i(m(i(E(I[1],z[0]),E(-z[1],I[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),z[2]))),-k[3]),m(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),I[2]),i(m(i(E(I[1],z[0]),E(-z[1],I[0])),-O[2]),m(i(E(I[1],O[0]),E(-O[1],I[0])),z[2]))),B[3]))),i(m(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-O[2]),m(i(E(B[1],O[0]),E(-O[1],B[0])),z[2]))),-I[3]),i(m(i(m(i(E(I[1],z[0]),E(-z[1],I[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),z[2]))),O[3]),m(i(m(i(E(I[1],O[0]),E(-O[1],I[0])),B[2]),i(m(i(E(B[1],O[0]),E(-O[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),O[2]))),-z[3]))))),K=i(i(i(m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),O[2]),i(m(i(E(O[1],k[0]),E(-k[1],O[0])),-z[2]),m(i(E(O[1],z[0]),E(-z[1],O[0])),k[2]))),B[3]),m(i(m(i(E(z[1],k[0]),E(-k[1],z[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-z[2]),m(i(E(B[1],z[0]),E(-z[1],B[0])),k[2]))),-O[3])),i(m(i(m(i(E(O[1],k[0]),E(-k[1],O[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-O[2]),m(i(E(B[1],O[0]),E(-O[1],B[0])),k[2]))),z[3]),m(i(m(i(E(O[1],z[0]),E(-z[1],O[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-O[2]),m(i(E(B[1],O[0]),E(-O[1],B[0])),z[2]))),-k[3]))),i(i(m(i(m(i(E(O[1],k[0]),E(-k[1],O[0])),I[2]),i(m(i(E(I[1],k[0]),E(-k[1],I[0])),-O[2]),m(i(E(I[1],O[0]),E(-O[1],I[0])),k[2]))),B[3]),m(i(m(i(E(O[1],k[0]),E(-k[1],O[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-O[2]),m(i(E(B[1],O[0]),E(-O[1],B[0])),k[2]))),-I[3])),i(m(i(m(i(E(I[1],k[0]),E(-k[1],I[0])),B[2]),i(m(i(E(B[1],k[0]),E(-k[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),k[2]))),O[3]),m(i(m(i(E(I[1],O[0]),E(-O[1],I[0])),B[2]),i(m(i(E(B[1],O[0]),E(-O[1],B[0])),-I[2]),m(i(E(B[1],I[0]),E(-I[1],B[0])),O[2]))),-k[3])))),q=F(N,K);return q[q.length-1]}}function d(i){var E=i===3?T:i===4?f:s;return E(u,r,o,l)}var S=d(3),M=d(4),C=[function(){return 0},function(){return 0},function(E,m){return m[0]-E[0]},function(E,m,F){var _=(E[1]-F[1])*(m[0]-F[0]),B=(E[0]-F[0])*(m[1]-F[1]),I=_-B,O;if(_>0){if(B<=0)return I;O=_+B}else if(_<0){if(B>=0)return I;O=-(_+B)}else return I;var z=x*O;return I>=z||I<=-z?I:S(E,m,F)},function(E,m,F,_){var B=E[0]-_[0],I=m[0]-_[0],O=F[0]-_[0],z=E[1]-_[1],k=m[1]-_[1],N=F[1]-_[1],K=E[2]-_[2],q=m[2]-_[2],Q=F[2]-_[2],re=I*N,oe=O*k,Y=O*z,G=B*N,V=B*k,Z=I*z,ae=K*(re-oe)+q*(Y-G)+Q*(V-Z),ie=(Math.abs(re)+Math.abs(oe))*Math.abs(K)+(Math.abs(Y)+Math.abs(G))*Math.abs(q)+(Math.abs(V)+Math.abs(Z))*Math.abs(Q),J=h*ie;return ae>J||-ae>J?ae:M(E,m,F,_)}];function y(i){var E=C[i.length];return E||(E=C[i.length]=d(i.length)),E.apply(void 0,i)}function w(i,E,m,F,_,B,I){return function(z,k,N,K,q){switch(arguments.length){case 0:case 1:return 0;case 2:return F(z,k);case 3:return _(z,k,N);case 4:return B(z,k,N,K);case 5:return I(z,k,N,K,q)}for(var Q=new Array(arguments.length),re=0;re<arguments.length;++re)Q[re]=arguments[re];return i(Q)}}function b(){for(;C.length<=c;)C.push(d(C.length));v.exports=w.apply(void 0,[y].concat(C));for(var i=0;i<=c;++i)v.exports[i]=C[i]}b()},2019:function(v,g,t){var r=t(9662),u=t(8289);v.exports=o;function o(l,c){if(l.length===1)return u(c,l[0]);if(c.length===1)return u(l,c[0]);if(l.length===0||c.length===0)return[0];var n=[0];if(l.length<c.length)for(var x=0;x<l.length;++x)n=r(n,u(c,l[x]));else for(var x=0;x<c.length;++x)n=r(n,u(l,c[x]));return n}},8289:function(v,g,t){var r=t(9660),u=t(87);v.exports=o;function o(l,c){var n=l.length;if(n===1){var x=r(l[0],c);return x[0]?x:[x[1]]}var h=new Array(2*n),T=[.1,.1],f=[.1,.1],s=0;r(l[0],c,T),T[0]&&(h[s++]=T[0]);for(var d=1;d<n;++d){r(l[d],c,f);var S=T[1];u(S,f[0],T),T[0]&&(h[s++]=T[0]);var M=f[1],C=T[1],y=M+C,w=y-M,b=C-w;T[1]=y,b&&(h[s++]=b)}return T[1]&&(h[s++]=T[1]),s===0&&(h[s++]=0),h.length=s,h}},4434:function(v,g,t){v.exports=o;var r=t(417)[3];function u(l,c,n,x){for(var h=0;h<2;++h){var T=l[h],f=c[h],s=Math.min(T,f),d=Math.max(T,f),S=n[h],M=x[h],C=Math.min(S,M),y=Math.max(S,M);if(y<s||d<C)return!1}return!0}function o(l,c,n,x){var h=r(l,n,x),T=r(c,n,x);if(h>0&&T>0||h<0&&T<0)return!1;var f=r(n,l,c),s=r(x,l,c);return f>0&&s>0||f<0&&s<0?!1:h===0&&T===0&&f===0&&s===0?u(l,c,n,x):!0}},4078:function(v){v.exports=t;function g(r,u){var o=r+u,l=o-r,c=o-l,n=u-l,x=r-c,h=x+n;return h?[h,o]:[o]}function t(r,u){var o=r.length|0,l=u.length|0;if(o===1&&l===1)return g(r[0],-u[0]);var c=o+l,n=new Array(c),x=0,h=0,T=0,f=Math.abs,s=r[h],d=f(s),S=-u[T],M=f(S),C,y;d<M?(y=s,h+=1,h<o&&(s=r[h],d=f(s))):(y=S,T+=1,T<l&&(S=-u[T],M=f(S))),h<o&&d<M||T>=l?(C=s,h+=1,h<o&&(s=r[h],d=f(s))):(C=S,T+=1,T<l&&(S=-u[T],M=f(S)));for(var w=C+y,b=w-C,i=y-b,E=i,m=w,F,_,B,I,O;h<o&&T<l;)d<M?(C=s,h+=1,h<o&&(s=r[h],d=f(s))):(C=S,T+=1,T<l&&(S=-u[T],M=f(S))),y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F;for(;h<o;)C=s,y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F,h+=1,h<o&&(s=r[h]);for(;T<l;)C=S,y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F,T+=1,T<l&&(S=-u[T]);return E&&(n[x++]=E),m&&(n[x++]=m),x||(n[x++]=0),n.length=x,n}},9662:function(v){v.exports=t;function g(r,u){var o=r+u,l=o-r,c=o-l,n=u-l,x=r-c,h=x+n;return h?[h,o]:[o]}function t(r,u){var o=r.length|0,l=u.length|0;if(o===1&&l===1)return g(r[0],u[0]);var c=o+l,n=new Array(c),x=0,h=0,T=0,f=Math.abs,s=r[h],d=f(s),S=u[T],M=f(S),C,y;d<M?(y=s,h+=1,h<o&&(s=r[h],d=f(s))):(y=S,T+=1,T<l&&(S=u[T],M=f(S))),h<o&&d<M||T>=l?(C=s,h+=1,h<o&&(s=r[h],d=f(s))):(C=S,T+=1,T<l&&(S=u[T],M=f(S)));for(var w=C+y,b=w-C,i=y-b,E=i,m=w,F,_,B,I,O;h<o&&T<l;)d<M?(C=s,h+=1,h<o&&(s=r[h],d=f(s))):(C=S,T+=1,T<l&&(S=u[T],M=f(S))),y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F;for(;h<o;)C=s,y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F,h+=1,h<o&&(s=r[h]);for(;T<l;)C=S,y=E,w=C+y,b=w-C,i=y-b,i&&(n[x++]=i),F=m+w,_=F-m,B=F-_,I=w-_,O=m-B,E=O+I,m=F,T+=1,T<l&&(S=u[T]);return E&&(n[x++]=E),m&&(n[x++]=m),x||(n[x++]=0),n.length=x,n}},8691:function(v,g,t){v.exports=o;var r=t(2692),u=t(7037);function o(l){return u(r(l))}},7212:function(v,g,t){v.exports=s;var r=t(5050),u=t(5306),o=t(8729),l=t(1168);function c(d){for(var S=d.length,M=0,C=0;C<S;++C)M=Math.max(M,d[C].length)|0;return M-1}function n(d,S){for(var M=d.length,C=u.mallocUint8(M),y=0;y<M;++y)C[y]=d[y]<S|0;return C}function x(d,S){for(var M=d.length,C=S*(S+1)/2*M|0,y=u.mallocUint32(C*2),w=0,b=0;b<M;++b)for(var i=d[b],S=i.length,E=0;E<S;++E)for(var m=0;m<E;++m){var F=i[m],_=i[E];y[w++]=Math.min(F,_)|0,y[w++]=Math.max(F,_)|0}var B=w/2|0;o(r(y,[B,2]));for(var I=2,b=2;b<w;b+=2)y[b-2]===y[b]&&y[b-1]===y[b+1]||(y[I++]=y[b],y[I++]=y[b+1]);return r(y,[I/2|0,2])}function h(d,S,M,C){for(var y=d.data,w=d.shape[0],b=u.mallocDouble(w),i=0,E=0;E<w;++E){var m=y[2*E],F=y[2*E+1];if(M[m]!==M[F]){var _=S[m],B=S[F];y[2*i]=m,y[2*i+1]=F,b[i++]=(B-C)/(B-_)}}return d.shape[0]=i,r(b,[i])}function T(d,S){var M=u.mallocInt32(S*2),C=d.shape[0],y=d.data;M[0]=0;for(var w=0,b=0;b<C;++b){var i=y[2*b];if(i!==w){for(M[2*w+1]=b;++w<i;)M[2*w]=b,M[2*w+1]=b;M[2*w]=b}}for(M[2*w+1]=C;++w<S;)M[2*w]=M[2*w+1]=C;return M}function f(d){for(var S=d.shape[0]|0,M=d.data,C=new Array(S),y=0;y<S;++y)C[y]=[M[2*y],M[2*y+1]];return C}function s(d,S,M,C){M=M||0,typeof C>"u"&&(C=c(d));var y=d.length;if(y===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var w=n(S,+M),b=x(d,C),i=h(b,S,w,+M),E=T(b,S.length|0),m=l(C)(d,b.data,E,w),F=f(b),_=[].slice.call(i.data,0,i.shape[0]);return u.free(w),u.free(b.data),u.free(i.data),u.free(E),{cells:m,vertexIds:F,vertexWeights:_}}},1168:function(v){v.exports=t;var g=[function(){function u(o,l,c,n){for(var x=o.length,h=[],T=0;T<x;++T){var f=o[T];f.length}return h}return u},function(){function u(l,c,n,x){for(var h=Math.min(n,x)|0,T=Math.max(n,x)|0,f=l[2*h],s=l[2*h+1];f<s;){var d=f+s>>1,S=c[2*d+1];if(S===T)return d;T<S?s=d:f=d+1}return f}function o(l,c,n,x){for(var h=l.length,T=[],f=0;f<h;++f){var s=l[f],d=s.length;if(d===2){var S=(x[s[0]]<<0)+(x[s[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[1])]);break;case 2:T.push([u(n,c,s[1],s[0])]);break}}}return T}return o},function(){function u(l,c,n,x){for(var h=Math.min(n,x)|0,T=Math.max(n,x)|0,f=l[2*h],s=l[2*h+1];f<s;){var d=f+s>>1,S=c[2*d+1];if(S===T)return d;T<S?s=d:f=d+1}return f}function o(l,c,n,x){for(var h=l.length,T=[],f=0;f<h;++f){var s=l[f],d=s.length;if(d===3){var S=(x[s[0]]<<0)+(x[s[1]]<<1)+(x[s[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[2]),u(n,c,s[0],s[1])]);break;case 2:T.push([u(n,c,s[1],s[0]),u(n,c,s[1],s[2])]);break;case 3:T.push([u(n,c,s[0],s[2]),u(n,c,s[1],s[2])]);break;case 4:T.push([u(n,c,s[2],s[1]),u(n,c,s[2],s[0])]);break;case 5:T.push([u(n,c,s[2],s[1]),u(n,c,s[0],s[1])]);break;case 6:T.push([u(n,c,s[1],s[0]),u(n,c,s[2],s[0])]);break}}else if(d===2){var S=(x[s[0]]<<0)+(x[s[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[1])]);break;case 2:T.push([u(n,c,s[1],s[0])]);break}}}return T}return o},function(){function u(l,c,n,x){for(var h=Math.min(n,x)|0,T=Math.max(n,x)|0,f=l[2*h],s=l[2*h+1];f<s;){var d=f+s>>1,S=c[2*d+1];if(S===T)return d;T<S?s=d:f=d+1}return f}function o(l,c,n,x){for(var h=l.length,T=[],f=0;f<h;++f){var s=l[f],d=s.length;if(d===4){var S=(x[s[0]]<<0)+(x[s[1]]<<1)+(x[s[2]]<<2)+(x[s[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[1]),u(n,c,s[0],s[2]),u(n,c,s[0],s[3])]);break;case 2:T.push([u(n,c,s[1],s[2]),u(n,c,s[1],s[0]),u(n,c,s[1],s[3])]);break;case 3:T.push([u(n,c,s[1],s[2]),u(n,c,s[0],s[2]),u(n,c,s[0],s[3])],[u(n,c,s[1],s[3]),u(n,c,s[1],s[2]),u(n,c,s[0],s[3])]);break;case 4:T.push([u(n,c,s[2],s[0]),u(n,c,s[2],s[1]),u(n,c,s[2],s[3])]);break;case 5:T.push([u(n,c,s[0],s[1]),u(n,c,s[2],s[1]),u(n,c,s[0],s[3])],[u(n,c,s[2],s[1]),u(n,c,s[2],s[3]),u(n,c,s[0],s[3])]);break;case 6:T.push([u(n,c,s[2],s[0]),u(n,c,s[1],s[0]),u(n,c,s[1],s[3])],[u(n,c,s[2],s[3]),u(n,c,s[2],s[0]),u(n,c,s[1],s[3])]);break;case 7:T.push([u(n,c,s[0],s[3]),u(n,c,s[1],s[3]),u(n,c,s[2],s[3])]);break;case 8:T.push([u(n,c,s[3],s[1]),u(n,c,s[3],s[0]),u(n,c,s[3],s[2])]);break;case 9:T.push([u(n,c,s[3],s[1]),u(n,c,s[0],s[1]),u(n,c,s[0],s[2])],[u(n,c,s[3],s[2]),u(n,c,s[3],s[1]),u(n,c,s[0],s[2])]);break;case 10:T.push([u(n,c,s[1],s[0]),u(n,c,s[3],s[0]),u(n,c,s[1],s[2])],[u(n,c,s[3],s[0]),u(n,c,s[3],s[2]),u(n,c,s[1],s[2])]);break;case 11:T.push([u(n,c,s[1],s[2]),u(n,c,s[0],s[2]),u(n,c,s[3],s[2])]);break;case 12:T.push([u(n,c,s[3],s[0]),u(n,c,s[2],s[0]),u(n,c,s[2],s[1])],[u(n,c,s[3],s[1]),u(n,c,s[3],s[0]),u(n,c,s[2],s[1])]);break;case 13:T.push([u(n,c,s[0],s[1]),u(n,c,s[2],s[1]),u(n,c,s[3],s[1])]);break;case 14:T.push([u(n,c,s[2],s[0]),u(n,c,s[1],s[0]),u(n,c,s[3],s[0])]);break}}else if(d===3){var S=(x[s[0]]<<0)+(x[s[1]]<<1)+(x[s[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[2]),u(n,c,s[0],s[1])]);break;case 2:T.push([u(n,c,s[1],s[0]),u(n,c,s[1],s[2])]);break;case 3:T.push([u(n,c,s[0],s[2]),u(n,c,s[1],s[2])]);break;case 4:T.push([u(n,c,s[2],s[1]),u(n,c,s[2],s[0])]);break;case 5:T.push([u(n,c,s[2],s[1]),u(n,c,s[0],s[1])]);break;case 6:T.push([u(n,c,s[1],s[0]),u(n,c,s[2],s[0])]);break}}else if(d===2){var S=(x[s[0]]<<0)+(x[s[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:T.push([u(n,c,s[0],s[1])]);break;case 2:T.push([u(n,c,s[1],s[0])]);break}}}return T}return o}];function t(r){return g[r]()}},8211:function(v,g,t){t(2288),t(1731);function r(u,o){var l=u.length,c=u.length-o.length,n=Math.min;if(c)return c;switch(l){case 0:return 0;case 1:return u[0]-o[0];case 2:var s=u[0]+u[1]-o[0]-o[1];return s||n(u[0],u[1])-n(o[0],o[1]);case 3:var x=u[0]+u[1],h=o[0]+o[1];if(s=x+u[2]-(h+o[2]),s)return s;var T=n(u[0],u[1]),f=n(o[0],o[1]),s=n(T,u[2])-n(f,o[2]);return s||n(T+u[2],x)-n(f+o[2],h);default:var d=u.slice(0);d.sort();var S=o.slice(0);S.sort();for(var M=0;M<l;++M)if(c=d[M]-S[M],c)return c;return 0}}g.H=r},9392:function(v,g){var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(o){return(o>0)-(o<0)},g.abs=function(o){var l=o>>t-1;return(o^l)-l},g.min=function(o,l){return l^(o^l)&-(o<l)},g.max=function(o,l){return o^(o^l)&-(o<l)},g.isPow2=function(o){return!(o&o-1)&&!!o},g.log2=function(o){var l,c;return l=(o>65535)<<4,o>>>=l,c=(o>255)<<3,o>>>=c,l|=c,c=(o>15)<<2,o>>>=c,l|=c,c=(o>3)<<1,o>>>=c,l|=c,l|o>>1},g.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},g.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function r(o){var l=32;return o&=-o,o&&l--,o&65535&&(l-=16),o&16711935&&(l-=8),o&252645135&&(l-=4),o&858993459&&(l-=2),o&1431655765&&(l-=1),l}g.countTrailingZeros=r,g.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},g.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},g.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var u=new Array(256);(function(o){for(var l=0;l<256;++l){var c=l,n=l,x=7;for(c>>>=1;c;c>>>=1)n<<=1,n|=c&1,--x;o[l]=n<<x&255}})(u),g.reverse=function(o){return u[o&255]<<24|u[o>>>8&255]<<16|u[o>>>16&255]<<8|u[o>>>24&255]},g.interleave2=function(o,l){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,o|l<<1},g.deinterleave2=function(o,l){return o=o>>>l&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},g.interleave3=function(o,l,c){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,o|=l<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,o|c<<2},g.deinterleave3=function(o,l){return o=o>>>l&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},g.nextCombination=function(o){var l=o|o-1;return l+1|(~l&-~l)-1>>>r(o)+1}},6656:function(v,g,t){var r=t(9392),u=t(9521);function o(i){for(var E=0,m=Math.max,F=0,_=i.length;F<_;++F)E=m(E,i[F].length);return E-1}g.dimension=o;function l(i){for(var E=-1,m=Math.max,F=0,_=i.length;F<_;++F)for(var B=i[F],I=0,O=B.length;I<O;++I)E=m(E,B[I]);return E+1}g.countVertices=l;function c(i){for(var E=new Array(i.length),m=0,F=i.length;m<F;++m)E[m]=i[m].slice(0);return E}g.cloneCells=c;function n(i,E){var m=i.length,F=i.length-E.length,_=Math.min;if(F)return F;switch(m){case 0:return 0;case 1:return i[0]-E[0];case 2:var k=i[0]+i[1]-E[0]-E[1];return k||_(i[0],i[1])-_(E[0],E[1]);case 3:var B=i[0]+i[1],I=E[0]+E[1];if(k=B+i[2]-(I+E[2]),k)return k;var O=_(i[0],i[1]),z=_(E[0],E[1]),k=_(O,i[2])-_(z,E[2]);return k||_(O+i[2],B)-_(z+E[2],I);default:var N=i.slice(0);N.sort();var K=E.slice(0);K.sort();for(var q=0;q<m;++q)if(F=N[q]-K[q],F)return F;return 0}}g.compareCells=n;function x(i,E){return n(i[0],E[0])}function h(i,E){if(E){for(var m=i.length,F=new Array(m),_=0;_<m;++_)F[_]=[i[_],E[_]];F.sort(x);for(var _=0;_<m;++_)i[_]=F[_][0],E[_]=F[_][1];return i}else return i.sort(n),i}g.normalize=h;function T(i){if(i.length===0)return[];for(var E=1,m=i.length,F=1;F<m;++F){var _=i[F];if(n(_,i[F-1])){if(F===E){E++;continue}i[E++]=_}}return i.length=E,i}g.unique=T;function f(i,E){for(var m=0,F=i.length-1,_=-1;m<=F;){var B=m+F>>1,I=n(i[B],E);I<=0?(I===0&&(_=B),m=B+1):I>0&&(F=B-1)}return _}g.findCell=f;function s(i,E){for(var m=new Array(i.length),F=0,_=m.length;F<_;++F)m[F]=[];for(var B=[],F=0,I=E.length;F<I;++F)for(var O=E[F],z=O.length,k=1,N=1<<z;k<N;++k){B.length=r.popCount(k);for(var K=0,q=0;q<z;++q)k&1<<q&&(B[K++]=O[q]);var Q=f(i,B);if(!(Q<0))for(;m[Q++].push(F),!(Q>=i.length||n(i[Q],B)!==0););}return m}g.incidence=s;function d(i,E){if(!E)return s(T(M(i,0)),i);for(var m=new Array(E),F=0;F<E;++F)m[F]=[];for(var F=0,_=i.length;F<_;++F)for(var B=i[F],I=0,O=B.length;I<O;++I)m[B[I]].push(F);return m}g.dual=d;function S(i){for(var E=[],m=0,F=i.length;m<F;++m)for(var _=i[m],B=_.length|0,I=1,O=1<<B;I<O;++I){for(var z=[],k=0;k<B;++k)I>>>k&1&&z.push(_[k]);E.push(z)}return h(E)}g.explode=S;function M(i,E){if(E<0)return[];for(var m=[],F=(1<<E+1)-1,_=0;_<i.length;++_)for(var B=i[_],I=F;I<1<<B.length;I=r.nextCombination(I)){for(var O=new Array(E+1),z=0,k=0;k<B.length;++k)I&1<<k&&(O[z++]=B[k]);m.push(O)}return h(m)}g.skeleton=M;function C(i){for(var E=[],m=0,F=i.length;m<F;++m)for(var _=i[m],B=0,I=_.length;B<I;++B){for(var O=new Array(_.length-1),z=0,k=0;z<I;++z)z!==B&&(O[k++]=_[z]);E.push(O)}return h(E)}g.boundary=C;function y(i,E){for(var m=new u(E),F=0;F<i.length;++F)for(var _=i[F],B=0;B<_.length;++B)for(var I=B+1;I<_.length;++I)m.link(_[B],_[I]);for(var O=[],z=m.ranks,F=0;F<z.length;++F)z[F]=-1;for(var F=0;F<i.length;++F){var k=m.find(i[F][0]);z[k]<0?(z[k]=O.length,O.push([i[F].slice(0)])):O[z[k]].push(i[F].slice(0))}return O}function w(i){for(var E=T(h(M(i,0))),m=new u(E.length),F=0;F<i.length;++F)for(var _=i[F],B=0;B<_.length;++B)for(var I=f(E,[_[B]]),O=B+1;O<_.length;++O)m.link(I,f(E,[_[O]]));for(var z=[],k=m.ranks,F=0;F<k.length;++F)k[F]=-1;for(var F=0;F<i.length;++F){var N=m.find(f(E,[i[F][0]]));k[N]<0?(k[N]=z.length,z.push([i[F].slice(0)])):z[k[N]].push(i[F].slice(0))}return z}function b(i,E){return E?y(i,E):w(i)}g.connectedComponents=b},9521:function(v){v.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},g.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var u=r[t];r[t]=r[u],t=u}return t},g.prototype.link=function(t,r){var u=this.find(t),o=this.find(r);if(u!==o){var l=this.ranks,c=this.roots,n=l[u],x=l[o];n<x?c[u]=o:x<n?c[o]=u:(c[o]=u,++l[u])}}},8243:function(v,g,t){v.exports=l;var r=t(417),u=t(6656);function o(c,n,x){var h=Math.abs(r(c,n,x)),T=Math.sqrt(Math.pow(n[0]-x[0],2)+Math.pow(n[1]-x[1],2));return h/T}function l(c,n,x){for(var h=n.length,T=c.length,f=new Array(h),s=new Array(h),d=new Array(h),S=new Array(h),M=0;M<h;++M)f[M]=s[M]=-1,d[M]=1/0,S[M]=!1;for(var M=0;M<T;++M){var C=c[M];if(C.length!==2)throw new Error("Input must be a graph");var y=C[1],w=C[0];s[w]!==-1?s[w]=-2:s[w]=y,f[y]!==-1?f[y]=-2:f[y]=w}function b(Y){if(S[Y])return 1/0;var G=f[Y],V=s[Y];return G<0||V<0?1/0:o(n[Y],n[G],n[V])}function i(Y,G){var V=z[Y],Z=z[G];z[Y]=Z,z[G]=V,k[V]=G,k[Z]=Y}function E(Y){return d[z[Y]]}function m(Y){return Y&1?Y-1>>1:(Y>>1)-1}function F(Y){for(var G=E(Y);;){var V=G,Z=2*Y+1,ae=2*(Y+1),ie=Y;if(Z<K){var J=E(Z);J<V&&(ie=Z,V=J)}if(ae<K){var $=E(ae);$<V&&(ie=ae)}if(ie===Y)return Y;i(Y,ie),Y=ie}}function _(Y){for(var G=E(Y);Y>0;){var V=m(Y);if(V>=0){var Z=E(V);if(G<Z){i(Y,V),Y=V;continue}}return Y}}function B(){if(K>0){var Y=z[0];return i(0,K-1),K-=1,F(0),Y}return-1}function I(Y,G){var V=z[Y];return d[V]===G?Y:(d[V]=-1/0,_(Y),B(),d[V]=G,K+=1,_(K-1))}function O(Y){if(!S[Y]){S[Y]=!0;var G=f[Y],V=s[Y];f[V]>=0&&(f[V]=G),s[G]>=0&&(s[G]=V),k[G]>=0&&I(k[G],b(G)),k[V]>=0&&I(k[V],b(V))}}for(var z=[],k=new Array(h),M=0;M<h;++M){var N=d[M]=b(M);N<1/0?(k[M]=z.length,z.push(M)):k[M]=-1}for(var K=z.length,M=K>>1;M>=0;--M)F(M);for(;;){var q=B();if(q<0||d[q]>x)break;O(q)}for(var Q=[],M=0;M<h;++M)S[M]||(k[M]=Q.length,Q.push(n[M].slice()));Q.length;function re(Y,G){if(Y[G]<0)return G;var V=G,Z=G;do{var ae=Y[Z];if(!S[Z]||ae<0||ae===Z||(Z=ae,ae=Y[Z],!S[Z]||ae<0||ae===Z))break;Z=ae,V=Y[V]}while(V!==Z);for(var ie=G;ie!==Z;ie=Y[ie])Y[ie]=Z;return Z}var oe=[];return c.forEach(function(Y){var G=re(f,Y[0]),V=re(s,Y[1]);if(G>=0&&V>=0&&G!==V){var Z=k[G],ae=k[V];Z!==ae&&oe.push([Z,ae])}}),u.unique(u.normalize(oe)),{positions:Q,edges:oe}}},6638:function(v,g,t){v.exports=o;var r=t(417);function u(l,c){var n,x;if(c[0][0]<c[1][0])n=c[0],x=c[1];else if(c[0][0]>c[1][0])n=c[1],x=c[0];else{var h=Math.min(l[0][1],l[1][1]),T=Math.max(l[0][1],l[1][1]),f=Math.min(c[0][1],c[1][1]),s=Math.max(c[0][1],c[1][1]);return T<f?T-f:h>s?h-s:T-s}var d,S;l[0][1]<l[1][1]?(d=l[0],S=l[1]):(d=l[1],S=l[0]);var M=r(x,n,d);return M||(M=r(x,n,S),M)?M:S-x}function o(l,c){var n,x;if(c[0][0]<c[1][0])n=c[0],x=c[1];else if(c[0][0]>c[1][0])n=c[1],x=c[0];else return u(c,l);var h,T;if(l[0][0]<l[1][0])h=l[0],T=l[1];else if(l[0][0]>l[1][0])h=l[1],T=l[0];else return-u(l,c);var f=r(n,x,T),s=r(n,x,h);if(f<0){if(s<=0)return f}else if(f>0){if(s>=0)return f}else if(s)return s;if(f=r(T,h,x),s=r(T,h,n),f<0){if(s<=0)return f}else if(f>0){if(s>=0)return f}else if(s)return s;return x[0]-T[0]}},4385:function(v,g,t){v.exports=s;var r=t(5070),u=t(7080),o=t(417),l=t(6638);function c(d,S,M){this.slabs=d,this.coordinates=S,this.horizontal=M}var n=c.prototype;function x(d,S){return d.y-S}function h(d,S){for(var M=null;d;){var C=d.key,y,w;C[0][0]<C[1][0]?(y=C[0],w=C[1]):(y=C[1],w=C[0]);var b=o(y,w,S);if(b<0)d=d.left;else if(b>0)if(S[0]!==C[1][0])M=d,d=d.right;else{var i=h(d.right,S);if(i)return i;d=d.left}else{if(S[0]!==C[1][0])return d;var i=h(d.right,S);if(i)return i;d=d.left}}return M}n.castUp=function(d){var S=r.le(this.coordinates,d[0]);if(S<0)return-1;this.slabs[S];var M=h(this.slabs[S],d),C=-1;if(M&&(C=M.value),this.coordinates[S]===d[0]){var y=null;if(M&&(y=M.key),S>0){var w=h(this.slabs[S-1],d);w&&(y?l(w.key,y)>0&&(y=w.key,C=w.value):(C=w.value,y=w.key))}var b=this.horizontal[S];if(b.length>0){var i=r.ge(b,d[1],x);if(i<b.length){var E=b[i];if(d[1]===E.y){if(E.closed)return E.index;for(;i<b.length-1&&b[i+1].y===d[1];)if(i=i+1,E=b[i],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(i=i+1,i>=b.length)return C;E=b[i]}}if(E.start)if(y){var m=o(y[0],y[1],[d[0],E.y]);y[0][0]>y[1][0]&&(m=-m),m>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function T(d,S,M,C){this.y=d,this.index=S,this.start=M,this.closed=C}function f(d,S,M,C){this.x=d,this.segment=S,this.create=M,this.index=C}function s(d){for(var S=d.length,M=2*S,C=new Array(M),y=0;y<S;++y){var w=d[y],b=w[0][0]<w[1][0];C[2*y]=new f(w[0][0],w,b,y),C[2*y+1]=new f(w[1][0],w,!b,y)}C.sort(function(O,z){var k=O.x-z.x;return k||(k=O.create-z.create,k)?k:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});for(var i=u(l),E=[],m=[],F=[],y=0;y<M;){for(var _=C[y].x,B=[];y<M;){var I=C[y];if(I.x!==_)break;y+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(B.push(new T(I.segment[0][1],I.index,!0,!0)),B.push(new T(I.segment[1][1],I.index,!1,!1))):(B.push(new T(I.segment[1][1],I.index,!0,!1)),B.push(new T(I.segment[0][1],I.index,!1,!0)))):I.create?i=i.insert(I.segment,I.index):i=i.remove(I.segment)}E.push(i.root),m.push(_),F.push(B)}return new c(E,m,F)}},4670:function(v,g,t){var r=t(9130),u=t(9662);v.exports=c,v.exports.positive=n,v.exports.negative=x;function o(h,T){var f=u(r(h,T),[T[T.length-1]]);return f[f.length-1]}function l(h,T,f,s){var d=s-T,S=-T/d;S<0?S=0:S>1&&(S=1);for(var M=1-S,C=h.length,y=new Array(C),w=0;w<C;++w)y[w]=S*h[w]+M*f[w];return y}function c(h,T){for(var f=[],s=[],d=o(h[h.length-1],T),S=h[h.length-1],M=h[0],C=0;C<h.length;++C,S=M){M=h[C];var y=o(M,T);if(d<0&&y>0||d>0&&y<0){var w=l(S,y,M,d);f.push(w),s.push(w.slice())}y<0?s.push(M.slice()):y>0?f.push(M.slice()):(f.push(M.slice()),s.push(M.slice())),d=y}return{positive:f,negative:s}}function n(h,T){for(var f=[],s=o(h[h.length-1],T),d=h[h.length-1],S=h[0],M=0;M<h.length;++M,d=S){S=h[M];var C=o(S,T);(s<0&&C>0||s>0&&C<0)&&f.push(l(d,C,S,s)),C>=0&&f.push(S.slice()),s=C}return f}function x(h,T){for(var f=[],s=o(h[h.length-1],T),d=h[h.length-1],S=h[0],M=0;M<h.length;++M,d=S){S=h[M];var C=o(S,T);(s<0&&C>0||s>0&&C<0)&&f.push(l(d,C,S,s)),C<=0&&f.push(S.slice()),s=C}return f}},8974:function(v,g,t){var r;(function(){var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(h){return c(x(h),arguments)}function l(h,T){return o.apply(null,[h].concat(T||[]))}function c(h,T){var f=1,s=h.length,d,S="",M,C,y,w,b,i,E,m;for(M=0;M<s;M++)if(typeof h[M]=="string")S+=h[M];else if(typeof h[M]=="object"){if(y=h[M],y.keys)for(d=T[f],C=0;C<y.keys.length;C++){if(d==null)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[C],y.keys[C-1]));d=d[y.keys[C]]}else y.param_no?d=T[y.param_no]:d=T[f++];if(u.not_type.test(y.type)&&u.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),u.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(o("[sprintf] expecting number but found %T",d));switch(u.number.test(y.type)&&(E=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}u.json.test(y.type)?S+=d:(u.number.test(y.type)&&(!E||y.sign)?(m=E?"+":"-",d=d.toString().replace(u.sign,"")):m="",b=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",i=y.width-(m+d).length,w=y.width&&i>0?b.repeat(i):"",S+=y.align?m+d+w:b==="0"?m+w+d:w+m+d)}return S}var n=Object.create(null);function x(h){if(n[h])return n[h];for(var T=h,f,s=[],d=0;T;){if((f=u.text.exec(T))!==null)s.push(f[0]);else if((f=u.modulo.exec(T))!==null)s.push("%");else if((f=u.placeholder.exec(T))!==null){if(f[2]){d|=1;var S=[],M=f[2],C=[];if((C=u.key.exec(M))!==null)for(S.push(C[1]);(M=M.substring(C[0].length))!=="";)if((C=u.key_access.exec(M))!==null)S.push(C[1]);else if((C=u.index_access.exec(M))!==null)S.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=S}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(f[0].length)}return n[h]=s}g.sprintf=o,g.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,r=function(){return{sprintf:o,vsprintf:l}}.call(g,t,g,v),r!==void 0&&(v.exports=r))})()},4162:function(v,g,t){v.exports=x;var r=t(9284),u=t(9584),o={"2d":function(h,T,f){var s=h({order:T,scalarArguments:3,getters:f==="generic"?[0]:void 0,phase:function(S,M,C,y){return S>y|0},vertex:function(S,M,C,y,w,b,i,E,m,F,_,B,I){var O=(i<<0)+(E<<1)+(m<<2)+(F<<3)|0;if(!(O===0||O===15))switch(O){case 0:_.push([S-.5,M-.5]);break;case 1:_.push([S-.25-.25*(y+C-2*I)/(C-y),M-.25-.25*(w+C-2*I)/(C-w)]);break;case 2:_.push([S-.75-.25*(-y-C+2*I)/(y-C),M-.25-.25*(b+y-2*I)/(y-b)]);break;case 3:_.push([S-.5,M-.5-.5*(w+C+b+y-4*I)/(C-w+y-b)]);break;case 4:_.push([S-.25-.25*(b+w-2*I)/(w-b),M-.75-.25*(-w-C+2*I)/(w-C)]);break;case 5:_.push([S-.5-.5*(y+C+b+w-4*I)/(C-y+w-b),M-.5]);break;case 6:_.push([S-.5-.25*(-y-C+b+w)/(y-C+w-b),M-.5-.25*(-w-C+b+y)/(w-C+y-b)]);break;case 7:_.push([S-.75-.25*(b+w-2*I)/(w-b),M-.75-.25*(b+y-2*I)/(y-b)]);break;case 8:_.push([S-.75-.25*(-b-w+2*I)/(b-w),M-.75-.25*(-b-y+2*I)/(b-y)]);break;case 9:_.push([S-.5-.25*(y+C+-b-w)/(C-y+b-w),M-.5-.25*(w+C+-b-y)/(C-w+b-y)]);break;case 10:_.push([S-.5-.5*(-y-C+-b-w+4*I)/(y-C+b-w),M-.5]);break;case 11:_.push([S-.25-.25*(-b-w+2*I)/(b-w),M-.75-.25*(w+C-2*I)/(C-w)]);break;case 12:_.push([S-.5,M-.5-.5*(-w-C+-b-y+4*I)/(w-C+b-y)]);break;case 13:_.push([S-.75-.25*(y+C-2*I)/(C-y),M-.25-.25*(-b-y+2*I)/(b-y)]);break;case 14:_.push([S-.25-.25*(-y-C+2*I)/(y-C),M-.25-.25*(-w-C+2*I)/(w-C)]);break;case 15:_.push([S-.5,M-.5]);break}},cell:function(S,M,C,y,w,b,i,E,m){w?E.push([S,M]):E.push([M,S])}});return function(d,S){var M=[],C=[];return s(d,M,C,S),{positions:M,cells:C}}}};function l(h,T){var f=h.length+"d",s=o[f];if(s)return s(r,h,T)}function c(h,T){for(var f=u(h,T),s=f.length,d=new Array(s),S=new Array(s),M=0;M<s;++M)d[M]=[f[M]],S[M]=[M];return{positions:d,cells:S}}var n={};function x(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return c(h,d);var f=h.order.join()+"-"+h.dtype,s=n[f],d=+d||0;return s||(s=n[f]=l(h.order,h.dtype)),s(h,d)}},6946:function(v,g,t){v.exports=c;var r=t(875),u=window||p.global||{},o=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};function l(n){for(var x=n.cells,h=n.positions,T=new Float32Array(x.length*6),f=0,s=0,d=0;d<x.length;++d)for(var S=x[d],M=0;M<3;++M){var C=h[S[M]];T[f++]=C[0],T[f++]=C[1]+1.4,s=Math.max(C[0],s)}return{data:T,shape:s}}function c(n,x,T){var T=T||{},f=o[n];f||(f=o[n]={" ":{data:new Float32Array(0),shape:.2}});var s=f[x];if(!s)if(x.length<=1||!/\d/.test(x))s=f[x]=l(r(x,{triangles:!0,font:n,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=x.split(/(\d|\s)/),S=new Array(d.length),M=0,C=0,y=0;y<d.length;++y)S[y]=c(n,d[y]),M+=S[y].data.length,C+=S[y].shape,y>0&&(C+=.02);for(var w=new Float32Array(M),b=0,i=-.5*C,y=0;y<S.length;++y){for(var E=S[y].data,m=0;m<E.length;m+=2)w[b++]=E[m]+i,w[b++]=E[m+1];i+=S[y].shape+.02}s=f[x]={data:w,shape:C}}return s}},14:function(v,g,t){var r=t(4405);v.exports=c;var u=96;function o(n,x){var h=r(getComputedStyle(n).getPropertyValue(x));return h[0]*c(h[1],n)}function l(n,x){var h=document.createElement("div");h.style["font-size"]="128"+n,x.appendChild(h);var T=o(h,"font-size")/128;return x.removeChild(h),T}function c(n,x){switch(x=x||document.body,n=(n||"px").trim().toLowerCase(),(x===window||x===document)&&(x=document.body),n){case"%":return x.clientHeight/100;case"ch":case"ex":return l(n,x);case"em":return o(x,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},3440:function(v,g,t){v.exports=S;var r=t(8444),u=t(7437),o=t(4422),l=t(903),c=t(899),n=t(9305);function x(M,C,y){return Math.sqrt(Math.pow(M,2)+Math.pow(C,2)+Math.pow(y,2))}function h(M){return Math.min(1,Math.max(-1,M))}function T(M){var C=Math.abs(M[0]),y=Math.abs(M[1]),w=Math.abs(M[2]),b=[0,0,0];C>Math.max(y,w)?b[2]=1:y>Math.max(C,w)?b[0]=1:b[1]=1;for(var i=0,E=0,m=0;m<3;++m)i+=M[m]*M[m],E+=b[m]*M[m];for(var m=0;m<3;++m)b[m]-=E/i*M[m];return c(b,b),b}function f(M,C,y,w,b,i,E,m){this.center=r(y),this.up=r(w),this.right=r(b),this.radius=r([i]),this.angle=r([E,m]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(M,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var s=f.prototype;s.setDistanceLimits=function(M,C){M>0?M=Math.log(M):M=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,M),this.radius.bounds[0][0]=M,this.radius.bounds[1][0]=C},s.getDistanceLimits=function(M){var C=this.radius.bounds[0];return M?(M[0]=Math.exp(C[0][0]),M[1]=Math.exp(C[1][0]),M):[Math.exp(C[0][0]),Math.exp(C[1][0])]},s.recalcMatrix=function(M){this.center.curve(M),this.up.curve(M),this.right.curve(M),this.radius.curve(M),this.angle.curve(M);for(var C=this.computedUp,y=this.computedRight,w=0,b=0,i=0;i<3;++i)b+=C[i]*y[i],w+=C[i]*C[i];for(var E=Math.sqrt(w),m=0,i=0;i<3;++i)y[i]-=C[i]*b/w,m+=y[i]*y[i],C[i]/=E;for(var F=Math.sqrt(m),i=0;i<3;++i)y[i]/=F;var _=this.computedToward;l(_,C,y),c(_,_);for(var B=Math.exp(this.computedRadius[0]),I=this.computedAngle[0],O=this.computedAngle[1],z=Math.cos(I),k=Math.sin(I),N=Math.cos(O),K=Math.sin(O),q=this.computedCenter,Q=z*N,re=k*N,oe=K,Y=-z*K,G=-k*K,V=N,Z=this.computedEye,ae=this.computedMatrix,i=0;i<3;++i){var ie=Q*y[i]+re*_[i]+oe*C[i];ae[4*i+1]=Y*y[i]+G*_[i]+V*C[i],ae[4*i+2]=ie,ae[4*i+3]=0}var J=ae[1],$=ae[5],se=ae[9],ee=ae[2],ue=ae[6],ge=ae[10],Te=$*ge-se*ue,xe=se*ee-J*ge,Pe=J*ue-$*ee,Ie=x(Te,xe,Pe);Te/=Ie,xe/=Ie,Pe/=Ie,ae[0]=Te,ae[4]=xe,ae[8]=Pe;for(var i=0;i<3;++i)Z[i]=q[i]+ae[2+4*i]*B;for(var i=0;i<3;++i){for(var m=0,Ae=0;Ae<3;++Ae)m+=ae[i+4*Ae]*Z[Ae];ae[12+i]=-m}ae[15]=1},s.getMatrix=function(M,C){this.recalcMatrix(M);var y=this.computedMatrix;if(C){for(var w=0;w<16;++w)C[w]=y[w];return C}return y};var d=[0,0,0];s.rotate=function(M,C,y,w){if(this.angle.move(M,C,y),w){this.recalcMatrix(M);var b=this.computedMatrix;d[0]=b[2],d[1]=b[6],d[2]=b[10];for(var i=this.computedUp,E=this.computedRight,m=this.computedToward,F=0;F<3;++F)b[4*F]=i[F],b[4*F+1]=E[F],b[4*F+2]=m[F];o(b,b,w,d);for(var F=0;F<3;++F)i[F]=b[4*F],E[F]=b[4*F+1];this.up.set(M,i[0],i[1],i[2]),this.right.set(M,E[0],E[1],E[2])}},s.pan=function(M,C,y,w){C=C||0,y=y||0,w=w||0,this.recalcMatrix(M);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=b[1],E=b[5],m=b[9],F=x(i,E,m);i/=F,E/=F,m/=F;var _=b[0],B=b[4],I=b[8],O=_*i+B*E+I*m;_-=i*O,B-=E*O,I-=m*O;var z=x(_,B,I);_/=z,B/=z,I/=z;var k=_*C+i*y,N=B*C+E*y,K=I*C+m*y;this.center.move(M,k,N,K);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+w),this.radius.set(M,Math.log(q))},s.translate=function(M,C,y,w){this.center.move(M,C||0,y||0,w||0)},s.setMatrix=function(M,C,y,w){var b=1;typeof y=="number"&&(b=y|0),(b<0||b>3)&&(b=1);var i=(b+2)%3;C||(this.recalcMatrix(M),C=this.computedMatrix);var E=C[b],m=C[b+4],F=C[b+8];if(w){var B=Math.abs(E),I=Math.abs(m),O=Math.abs(F),z=Math.max(B,I,O);B===z?(E=E<0?-1:1,m=F=0):O===z?(F=F<0?-1:1,E=m=0):(m=m<0?-1:1,E=F=0)}else{var _=x(E,m,F);E/=_,m/=_,F/=_}var k=C[i],N=C[i+4],K=C[i+8],q=k*E+N*m+K*F;k-=E*q,N-=m*q,K-=F*q;var Q=x(k,N,K);k/=Q,N/=Q,K/=Q;var re=m*K-F*N,oe=F*k-E*K,Y=E*N-m*k,G=x(re,oe,Y);re/=G,oe/=G,Y/=G,this.center.jump(M,We,ze,Ze),this.radius.idle(M),this.up.jump(M,E,m,F),this.right.jump(M,k,N,K);var V,Z;if(b===2){var ae=C[1],ie=C[5],J=C[9],$=ae*k+ie*N+J*K,se=ae*re+ie*oe+J*Y;Te<0?V=-Math.PI/2:V=Math.PI/2,Z=Math.atan2(se,$)}else{var ee=C[2],ue=C[6],ge=C[10],Te=ee*E+ue*m+ge*F,xe=ee*k+ue*N+ge*K,Pe=ee*re+ue*oe+ge*Y;V=Math.asin(h(Te)),Z=Math.atan2(Pe,xe)}this.angle.jump(M,Z,V),this.recalcMatrix(M);var Ie=C[2],Ae=C[6],be=C[10],_e=this.computedMatrix;u(_e,C);var Ve=_e[15],We=_e[12]/Ve,ze=_e[13]/Ve,Ze=_e[14]/Ve,ct=Math.exp(this.computedRadius[0]);this.center.jump(M,We-Ie*ct,ze-Ae*ct,Ze-be*ct)},s.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},s.idle=function(M){this.center.idle(M),this.up.idle(M),this.right.idle(M),this.radius.idle(M),this.angle.idle(M)},s.flush=function(M){this.center.flush(M),this.up.flush(M),this.right.flush(M),this.radius.flush(M),this.angle.flush(M)},s.setDistance=function(M,C){C>0&&this.radius.set(M,Math.log(C))},s.lookAt=function(M,C,y,w){this.recalcMatrix(M),C=C||this.computedEye,y=y||this.computedCenter,w=w||this.computedUp;var b=w[0],i=w[1],E=w[2],m=x(b,i,E);if(!(m<1e-6)){b/=m,i/=m,E/=m;var F=C[0]-y[0],_=C[1]-y[1],B=C[2]-y[2],I=x(F,_,B);if(!(I<1e-6)){F/=I,_/=I,B/=I;var O=this.computedRight,z=O[0],k=O[1],N=O[2],K=b*z+i*k+E*N;z-=K*b,k-=K*i,N-=K*E;var q=x(z,k,N);if(!(q<.01&&(z=i*B-E*_,k=E*F-b*B,N=b*_-i*F,q=x(z,k,N),q<1e-6))){z/=q,k/=q,N/=q,this.up.set(M,b,i,E),this.right.set(M,z,k,N),this.center.set(M,y[0],y[1],y[2]),this.radius.set(M,Math.log(I));var Q=i*N-E*k,re=E*z-b*N,oe=b*k-i*z,Y=x(Q,re,oe);Q/=Y,re/=Y,oe/=Y;var G=b*F+i*_+E*B,V=z*F+k*_+N*B,Z=Q*F+re*_+oe*B,ae=Math.asin(h(G)),ie=Math.atan2(Z,V),J=this.angle._state,$=J[J.length-1],se=J[J.length-2];$=$%(2*Math.PI);var ee=Math.abs($+2*Math.PI-ie),ue=Math.abs($-ie),ge=Math.abs($-2*Math.PI-ie);ee<ue&&($+=2*Math.PI),ge<ue&&($-=2*Math.PI),this.angle.jump(this.angle.lastT(),$,se),this.angle.set(M,ie,ae)}}}};function S(M){M=M||{};var C=M.center||[0,0,0],y=M.up||[0,1,0],w=M.right||T(y),b=M.radius||1,i=M.theta||0,E=M.phi||0;if(C=[].slice.call(C,0,3),y=[].slice.call(y,0,3),c(y,y),w=[].slice.call(w,0,3),c(w,w),"eye"in M){var m=M.eye,F=[m[0]-C[0],m[1]-C[1],m[2]-C[2]];l(w,F,y),x(w[0],w[1],w[2])<1e-6?w=T(y):c(w,w),b=x(F[0],F[1],F[2]);var _=n(y,F)/b,B=n(w,F)/b;E=Math.acos(_),i=Math.acos(B)}return b=Math.log(b),new f(M.zoomMin,M.zoomMax,C,y,w,b,i,E)}},9660:function(v){v.exports=t;var g=+(Math.pow(2,27)+1);function t(r,u,o){var l=r*u,c=g*r,n=c-r,x=c-n,h=r-x,T=g*u,f=T-u,s=T-f,d=u-s,S=l-x*s,M=S-h*s,C=M-x*d,y=h*d-C;return o?(o[0]=y,o[1]=l,o):[y,l]}},87:function(v){v.exports=g;function g(t,r,u){var o=t+r,l=o-t,c=o-l,n=r-l,x=t-c;return u?(u[0]=x+n,u[1]=o,u):[x+n,o]}},5306:function(v,g,t){var r=t(2288),u=t(3094),o=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var l=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",n=typeof BigInt64Array<"u",x=t.g.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=u([32,0])),x.BIGUINT64||(x.BIGUINT64=u([32,0])),x.BIGINT64||(x.BIGINT64=u([32,0])),x.BUFFER||(x.BUFFER=u([32,0]));var h=x.DATA,T=x.BUFFER;g.free=function(z){if(o.isBuffer(z))T[r.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var k=z.length||z.byteLength,N=r.log2(k)|0;h[N].push(z)}};function f(O){if(O){var z=O.length||O.byteLength,k=r.log2(z);h[k].push(O)}}function s(O){f(O.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=s,g.freeArrayBuffer=f,g.freeBuffer=function(z){T[r.log2(z.length)].push(z)},g.malloc=function(z,k){if(k===void 0||k==="arraybuffer")return d(z);switch(k){case"uint8":return S(z);case"uint16":return M(z);case"uint32":return C(z);case"int8":return y(z);case"int16":return w(z);case"int32":return b(z);case"float":case"float32":return i(z);case"double":case"float64":return E(z);case"uint8_clamped":return m(z);case"bigint64":return _(z);case"biguint64":return F(z);case"buffer":return I(z);case"data":case"dataview":return B(z);default:return null}return null};function d(z){var z=r.nextPow2(z),k=r.log2(z),N=h[k];return N.length>0?N.pop():new ArrayBuffer(z)}g.mallocArrayBuffer=d;function S(O){return new Uint8Array(d(O),0,O)}g.mallocUint8=S;function M(O){return new Uint16Array(d(2*O),0,O)}g.mallocUint16=M;function C(O){return new Uint32Array(d(4*O),0,O)}g.mallocUint32=C;function y(O){return new Int8Array(d(O),0,O)}g.mallocInt8=y;function w(O){return new Int16Array(d(2*O),0,O)}g.mallocInt16=w;function b(O){return new Int32Array(d(4*O),0,O)}g.mallocInt32=b;function i(O){return new Float32Array(d(4*O),0,O)}g.mallocFloat32=g.mallocFloat=i;function E(O){return new Float64Array(d(8*O),0,O)}g.mallocFloat64=g.mallocDouble=E;function m(O){return l?new Uint8ClampedArray(d(O),0,O):S(O)}g.mallocUint8Clamped=m;function F(O){return c?new BigUint64Array(d(8*O),0,O):null}g.mallocBigUint64=F;function _(O){return n?new BigInt64Array(d(8*O),0,O):null}g.mallocBigInt64=_;function B(O){return new DataView(d(O),0,O)}g.mallocDataView=B;function I(O){O=r.nextPow2(O);var z=r.log2(O),k=T[z];return k.length>0?k.pop():new o(O)}g.mallocBuffer=I,g.clearCache=function(){for(var z=0;z<32;++z)x.UINT8[z].length=0,x.UINT16[z].length=0,x.UINT32[z].length=0,x.INT8[z].length=0,x.INT16[z].length=0,x.INT32[z].length=0,x.FLOAT[z].length=0,x.DOUBLE[z].length=0,x.BIGUINT64[z].length=0,x.BIGINT64[z].length=0,x.UINT8C[z].length=0,h[z].length=0,T[z].length=0}},1731:function(v){v.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var u=0;u<r;++u)this.roots[u]=u,this.ranks[u]=0}var t=g.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var u=r,o=this.roots;o[r]!==r;)r=o[r];for(;o[u]!==r;){var l=o[u];o[u]=r,u=l}return r},t.link=function(r,u){var o=this.find(r),l=this.find(u);if(o!==l){var c=this.ranks,n=this.roots,x=c[o],h=c[l];x<h?n[o]=l:h<x?n[l]=o:(n[l]=o,++c[o])}}},1215:function(v){function g(u,o){for(var l=1,c=u.length,n=u[0],x=u[0],h=1;h<c;++h)if(x=n,n=u[h],o(n,x)){if(h===l){l++;continue}u[l++]=n}return u.length=l,u}function t(u){for(var o=1,l=u.length,c=u[0],n=u[0],x=1;x<l;++x,n=c)if(n=c,c=u[x],c!==n){if(x===o){o++;continue}u[o++]=c}return u.length=o,u}function r(u,o,l){return u.length===0?u:o?(l||u.sort(o),g(u,o)):(l||u.sort(),t(u))}v.exports=r},875:function(v,g,t){v.exports=l;var r=t(712),u=null,o=null;typeof document<"u"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,o=u.getContext("2d"));function l(c,n){return(typeof n!="object"||n===null)&&(n={}),r(c,n.canvas||u,n.context||o,n)}},712:function(v,g,t){v.exports=_,v.exports.processPixels=F;var r=t(4162),u=t(5050),o=t(8243),l=t(197),c=t(7761),n=t(8040),x="b",h="b|",T="i",f="i|",s="sup",d="+",S="+1",M="sub",C="-",y="-1";function w(B,I,O,z){for(var k="<"+B+">",N="</"+B+">",K=k.length,q=N.length,Q=I[0]===d||I[0]===C,re=0,oe=-q;re>-1&&(re=O.indexOf(k,re),!(re===-1||(oe=O.indexOf(N,re+K),oe===-1)||oe<=re));){for(var Y=re;Y<oe+q;++Y)if(Y<re+K||Y>=oe)z[Y]=null,O=O.substr(0,Y)+" "+O.substr(Y+1);else if(z[Y]!==null){var G=z[Y].indexOf(I[0]);G===-1?z[Y]+=I:Q&&(z[Y]=z[Y].substr(0,G+1)+(1+parseInt(z[Y][G+1]))+z[Y].substr(G+2))}var V=re+K,Z=O.substr(V,oe-V),ae=Z.indexOf(k);ae!==-1?re=ae:re=oe+q}return z}function b(B,I,O){for(var z=I.textAlign||"start",k=I.textBaseline||"alphabetic",N=[1<<30,1<<30],K=[0,0],q=B.length,Q=0;Q<q;++Q)for(var re=B[Q],oe=0;oe<2;++oe)N[oe]=Math.min(N[oe],re[oe])|0,K[oe]=Math.max(K[oe],re[oe])|0;var Y=0;switch(z){case"center":Y=-.5*(N[0]+K[0]);break;case"right":case"end":Y=-K[0];break;case"left":case"start":Y=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+z+"'")}var G=0;switch(k){case"hanging":case"top":G=-N[1];break;case"middle":G=-.5*(N[1]+K[1]);break;case"alphabetic":case"ideographic":G=-3*O;break;case"bottom":G=-K[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+k+"'")}var V=1/O;return"lineHeight"in I?V*=+I.lineHeight:"width"in I?V=I.width/(K[0]-N[0]):"height"in I&&(V=I.height/(K[1]-N[1])),B.map(function(Z){return[V*(Z[0]+Y),V*(Z[1]+G)]})}function i(B,I,O,z,k,N){O=O.replace(/\n/g,""),N.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var K="",q=[];for($=0;$<O.length;++$)q[$]=K;N.bolds===!0&&(q=w(x,h,O,q)),N.italics===!0&&(q=w(T,f,O,q)),N.superscripts===!0&&(q=w(s,S,O,q)),N.subscripts===!0&&(q=w(M,y,O,q));var Q=[],re="";for($=0;$<O.length;++$)q[$]!==null&&(re+=O[$],Q.push(q[$]));var oe=re.split(`
`),Y=oe.length,G=Math.round(k*z),V=z,Z=z*2,ae=0,ie=Y*G+Z;B.height<ie&&(B.height=ie),I.fillStyle="#000",I.fillRect(0,0,B.width,B.height),I.fillStyle="#fff";var J,$,se,ee,ue,ge=0,Te="";function xe(){if(Te!==""){var Ze=I.measureText(Te).width;I.fillText(Te,V+se,Z+ee),se+=Ze}}function Pe(){return""+Math.round(ue)+"px "}function Ie(Ze,ct){var lt=""+I.font;if(N.subscripts===!0){var at=Ze.indexOf(C),tt=ct.indexOf(C),dt=at>-1?parseInt(Ze[1+at]):0,wt=tt>-1?parseInt(ct[1+tt]):0;dt!==wt&&(lt=lt.replace(Pe(),"?px "),ue*=Math.pow(.75,wt-dt),lt=lt.replace("?px ",Pe())),ee+=.25*G*(wt-dt)}if(N.superscripts===!0){var Mt=Ze.indexOf(d),It=ct.indexOf(d),$e=Mt>-1?parseInt(Ze[1+Mt]):0,ke=It>-1?parseInt(ct[1+It]):0;$e!==ke&&(lt=lt.replace(Pe(),"?px "),ue*=Math.pow(.75,ke-$e),lt=lt.replace("?px ",Pe())),ee-=.25*G*(ke-$e)}if(N.bolds===!0){var Fe=Ze.indexOf(h)>-1,qe=ct.indexOf(h)>-1;!Fe&&qe&&(it?lt=lt.replace("italic ","italic bold "):lt="bold "+lt),Fe&&!qe&&(lt=lt.replace("bold ",""))}if(N.italics===!0){var it=Ze.indexOf(f)>-1,Je=ct.indexOf(f)>-1;!it&&Je&&(lt="italic "+lt),it&&!Je&&(lt=lt.replace("italic ",""))}I.font=lt}for(J=0;J<Y;++J){var Ae=oe[J]+`
`;for(se=0,ee=J*G,ue=z,Te="",$=0;$<Ae.length;++$){var be=$+ge<Q.length?Q[$+ge]:Q[Q.length-1];K===be?Te+=Ae[$]:(xe(),Te=Ae[$],be!==void 0&&(Ie(K,be),K=be))}xe(),ge+=Ae.length;var _e=Math.round(se+2*V)|0;ae<_e&&(ae=_e)}var Ve=ae,We=Z+G*Y,ze=u(I.getImageData(0,0,Ve,We).data,[We,Ve,4]);return ze.pick(-1,-1,0).transpose(1,0)}function E(B,I){var O=r(B,128);return I?o(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function m(B,I,O,z){var k=E(B,z),N=b(k.positions,I,O),K=k.edges,q=I.orientation==="ccw";if(l(N,K),I.polygons||I.polygon||I.polyline){for(var Q=n(K,N),re=new Array(Q.length),oe=0;oe<Q.length;++oe){for(var Y=Q[oe],G=new Array(Y.length),V=0;V<Y.length;++V){for(var Z=Y[V],ae=new Array(Z.length),ie=0;ie<Z.length;++ie)ae[ie]=N[Z[ie]].slice();q&&ae.reverse(),G[V]=ae}re[oe]=G}return re}else return I.triangles||I.triangulate||I.triangle?{cells:c(N,K,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:K,positions:N}}function F(B,I,O){try{return m(B,I,O,!0)}catch{}try{return m(B,I,O,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(B,I,O,z){var k=64,N=1.25,K={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};z&&(z.size&&z.size>0&&(k=z.size),z.lineSpacing&&z.lineSpacing>0&&(N=z.lineSpacing),z.styletags&&z.styletags.breaklines&&(K.breaklines=!!z.styletags.breaklines),z.styletags&&z.styletags.bolds&&(K.bolds=!!z.styletags.bolds),z.styletags&&z.styletags.italics&&(K.italics=!!z.styletags.italics),z.styletags&&z.styletags.subscripts&&(K.subscripts=!!z.styletags.subscripts),z.styletags&&z.styletags.superscripts&&(K.superscripts=!!z.styletags.superscripts)),O.font=[z.fontStyle,z.fontVariant,z.fontWeight,k+"px",z.font].filter(function(Q){return Q}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var q=i(I,O,B,k,N,K);return F(q,z,k)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(E){E.permitHostObjects___&&E.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var o=new u,l=Object.freeze({});if(o.set(l,1),o.get(l)!==1)r=!0;else{v.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,n=Object.defineProperty,x=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var f=new ArrayBuffer(25),s=new Uint8Array(f);crypto.getRandomValues(s),T=h+"rand:"+Array.prototype.map.call(s,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(n(Object,"getOwnPropertyNames",{value:function(m){return c(m).filter(d)}}),"getPropertyNames"in Object){var S=Object.getPropertyNames;n(Object,"getPropertyNames",{value:function(m){return S(m).filter(d)}})}function M(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var m=E[T];if(m&&m.key===E)return m;if(x(E)){m={key:E};try{return n(E,T,{value:m,writable:!1,enumerable:!1,configurable:!1}),m}catch{return}}}(function(){var E=Object.freeze;n(Object,"freeze",{value:function(B){return M(B),E(B)}});var m=Object.seal;n(Object,"seal",{value:function(B){return M(B),m(B)}});var F=Object.preventExtensions;n(Object,"preventExtensions",{value:function(B){return M(B),F(B)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var y=!1;function w(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,i=function(){this instanceof i||w();var E=[],m=[],F=b++;function _(z,k){var N,K=M(z);return K?F in K?K[F]:k:(N=E.indexOf(z),N>=0?m[N]:k)}function B(z){var k=M(z);return k?F in k:E.indexOf(z)>=0}function I(z,k){var N,K=M(z);return K?K[F]=k:(N=E.indexOf(z),N>=0?m[N]=k:(N=E.length,m[N]=k,E[N]=z)),this}function O(z){var k=M(z),N,K;return k?F in k&&delete k[F]:(N=E.indexOf(z),N<0?!1:(K=E.length-1,E[N]=void 0,m[N]=m[K],E[N]=E[K],E.length=K,m.length=K,!0))}return Object.create(i.prototype,{get___:{value:C(_)},has___:{value:C(B)},set___:{value:C(I)},delete___:{value:C(O)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(m,F){return this.get___(m,F)},writable:!0,configurable:!0},has:{value:function(m){return this.has___(m)},writable:!0,configurable:!0},set:{value:function(m,F){return this.set___(m,F)},writable:!0,configurable:!0},delete:{value:function(m){return this.delete___(m)},writable:!0,configurable:!0}}),typeof u=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof i||w();var m=new u,F=void 0,_=!1;function B(k,N){return F?m.has(k)?m.get(k):F.get___(k,N):m.get(k,N)}function I(k){return m.has(k)||(F?F.has___(k):!1)}var O;r?O=function(k,N){return m.set(k,N),m.has(k)||(F||(F=new i),F.set(k,N)),this}:O=function(k,N){if(_)try{m.set(k,N)}catch{F||(F=new i),F.set___(k,N)}else m.set(k,N);return this};function z(k){var N=!!m.delete(k);return F&&F.delete___(k)||N}return Object.create(i.prototype,{get___:{value:C(B)},has___:{value:C(I)},set___:{value:C(O)},delete___:{value:C(z)},permitHostObjects___:{value:C(function(k){if(k===t)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=i.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},9222:function(v,g,t){var r=t(7178);v.exports=u;function u(){var o={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var c=l.valueOf(o);return c&&c.identity===o?c:r(l,o)}}},7178:function(v){v.exports=g;function g(t,r){var u={identity:r},o=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(l){return l!==r?o.apply(this,arguments):u},writable:!0}),u}},4037:function(v,g,t){var r=t(9222);v.exports=u;function u(){var o=r();return{get:function(l,c){var n=o(l);return n.hasOwnProperty("value")?n.value:c},set:function(l,c){return o(l).value=c,this},has:function(l){return"value"in o(l)},delete:function(l){return delete o(l).value}}}},6183:function(v){function g(){return function(c,n,x,h,T,f){var s=c[0],d=x[0],S=[0],M=d;h|=0;var C=0,y=d;for(C=0;C<s;++C){{var w=n[h]-f,b=n[h+M]-f;w>=0!=b>=0&&T.push(S[0]+.5+.5*(w+b)/(w-b))}h+=y,++S[0]}}}function t(){return g()}var r=t;function u(c){var n={};return function(h,T,f){var s=h.dtype,d=h.order,S=[s,d.join()].join(),M=n[S];return M||(n[S]=M=c([s,d])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,T,f)}}function o(c){return u(r.bind(void 0,c))}function l(c){return o({funcName:c.funcName})}v.exports=l({funcName:"zeroCrossings"})},9584:function(v,g,t){v.exports=u;var r=t(6183);function u(o,l){var c=[];return l=+l||0,r(o.hi(o.shape[0]-1),c,l),c}},6601:function(){}},a={};function P(v){var g=a[v];if(g!==void 0)return g.exports;var t=a[v]={id:v,loaded:!1,exports:{}};return L[v].call(t.exports,t,t.exports,P),t.loaded=!0,t.exports}(function(){P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){P.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var A=P(7386);return A}()})},12856:function(W,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p($e,ke){if(!($e instanceof ke))throw new TypeError("Cannot call a class as a function")}function L($e,ke){for(var Fe=0;Fe<ke.length;Fe++){var qe=ke[Fe];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty($e,qe.key,qe)}}function a($e,ke,Fe){return ke&&L($e.prototype,ke),Fe&&L($e,Fe),Object.defineProperty($e,"prototype",{writable:!1}),$e}function P($e,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(ke&&ke.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),Object.defineProperty($e,"prototype",{writable:!1}),ke&&A($e,ke)}function A($e,ke){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(qe,it){return qe.__proto__=it,qe},A($e,ke)}function v($e){var ke=r();return function(){var qe=u($e),it;if(ke){var Je=u(this).constructor;it=Reflect.construct(qe,arguments,Je)}else it=qe.apply(this,arguments);return g(this,it)}}function g($e,ke){if(ke&&(o(ke)==="object"||typeof ke=="function"))return ke;if(ke!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t($e)}function t($e){if($e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e}function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u($e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},u($e)}function o($e){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},o($e)}var l=e(95341),c=e(95280),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=f,U.SlowBuffer=m,U.INSPECT_MAX_BYTES=50;var x=2147483647;U.kMaxLength=x,f.TYPED_ARRAY_SUPPORT=h(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var $e=new Uint8Array(1),ke={foo:function(){return 42}};return Object.setPrototypeOf(ke,Uint8Array.prototype),Object.setPrototypeOf($e,ke),$e.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function T($e){if($e>x)throw new RangeError('The value "'+$e+'" is invalid for option "size"');var ke=new Uint8Array($e);return Object.setPrototypeOf(ke,f.prototype),ke}function f($e,ke,Fe){if(typeof $e=="number"){if(typeof ke=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M($e)}return s($e,ke,Fe)}f.poolSize=8192;function s($e,ke,Fe){if(typeof $e=="string")return C($e,ke);if(ArrayBuffer.isView($e))return w($e);if($e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o($e));if(tt($e,ArrayBuffer)||$e&&tt($e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tt($e,SharedArrayBuffer)||$e&&tt($e.buffer,SharedArrayBuffer)))return b($e,ke,Fe);if(typeof $e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var qe=$e.valueOf&&$e.valueOf();if(qe!=null&&qe!==$e)return f.from(qe,ke,Fe);var it=i($e);if(it)return it;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $e[Symbol.toPrimitive]=="function")return f.from($e[Symbol.toPrimitive]("string"),ke,Fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o($e))}f.from=function($e,ke,Fe){return s($e,ke,Fe)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function d($e){if(typeof $e!="number")throw new TypeError('"size" argument must be of type number');if($e<0)throw new RangeError('The value "'+$e+'" is invalid for option "size"')}function S($e,ke,Fe){return d($e),$e<=0?T($e):ke!==void 0?typeof Fe=="string"?T($e).fill(ke,Fe):T($e).fill(ke):T($e)}f.alloc=function($e,ke,Fe){return S($e,ke,Fe)};function M($e){return d($e),T($e<0?0:E($e)|0)}f.allocUnsafe=function($e){return M($e)},f.allocUnsafeSlow=function($e){return M($e)};function C($e,ke){if((typeof ke!="string"||ke==="")&&(ke="utf8"),!f.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);var Fe=F($e,ke)|0,qe=T(Fe),it=qe.write($e,ke);return it!==Fe&&(qe=qe.slice(0,it)),qe}function y($e){for(var ke=$e.length<0?0:E($e.length)|0,Fe=T(ke),qe=0;qe<ke;qe+=1)Fe[qe]=$e[qe]&255;return Fe}function w($e){if(tt($e,Uint8Array)){var ke=new Uint8Array($e);return b(ke.buffer,ke.byteOffset,ke.byteLength)}return y($e)}function b($e,ke,Fe){if(ke<0||$e.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if($e.byteLength<ke+(Fe||0))throw new RangeError('"length" is outside of buffer bounds');var qe;return ke===void 0&&Fe===void 0?qe=new Uint8Array($e):Fe===void 0?qe=new Uint8Array($e,ke):qe=new Uint8Array($e,ke,Fe),Object.setPrototypeOf(qe,f.prototype),qe}function i($e){if(f.isBuffer($e)){var ke=E($e.length)|0,Fe=T(ke);return Fe.length===0||$e.copy(Fe,0,0,ke),Fe}if($e.length!==void 0)return typeof $e.length!="number"||dt($e.length)?T(0):y($e);if($e.type==="Buffer"&&Array.isArray($e.data))return y($e.data)}function E($e){if($e>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return $e|0}function m($e){return+$e!=$e&&($e=0),f.alloc(+$e)}f.isBuffer=function(ke){return ke!=null&&ke._isBuffer===!0&&ke!==f.prototype},f.compare=function(ke,Fe){if(tt(ke,Uint8Array)&&(ke=f.from(ke,ke.offset,ke.byteLength)),tt(Fe,Uint8Array)&&(Fe=f.from(Fe,Fe.offset,Fe.byteLength)),!f.isBuffer(ke)||!f.isBuffer(Fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ke===Fe)return 0;for(var qe=ke.length,it=Fe.length,Je=0,Re=Math.min(qe,it);Je<Re;++Je)if(ke[Je]!==Fe[Je]){qe=ke[Je],it=Fe[Je];break}return qe<it?-1:it<qe?1:0},f.isEncoding=function(ke){switch(String(ke).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(ke,Fe){if(!Array.isArray(ke))throw new TypeError('"list" argument must be an Array of Buffers');if(ke.length===0)return f.alloc(0);var qe;if(Fe===void 0)for(Fe=0,qe=0;qe<ke.length;++qe)Fe+=ke[qe].length;var it=f.allocUnsafe(Fe),Je=0;for(qe=0;qe<ke.length;++qe){var Re=ke[qe];if(tt(Re,Uint8Array))Je+Re.length>it.length?(f.isBuffer(Re)||(Re=f.from(Re)),Re.copy(it,Je)):Uint8Array.prototype.set.call(it,Re,Je);else if(f.isBuffer(Re))Re.copy(it,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=Re.length}return it};function F($e,ke){if(f.isBuffer($e))return $e.length;if(ArrayBuffer.isView($e)||tt($e,ArrayBuffer))return $e.byteLength;if(typeof $e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o($e));var Fe=$e.length,qe=arguments.length>2&&arguments[2]===!0;if(!qe&&Fe===0)return 0;for(var it=!1;;)switch(ke){case"ascii":case"latin1":case"binary":return Fe;case"utf8":case"utf-8":return ze($e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe*2;case"hex":return Fe>>>1;case"base64":return lt($e).length;default:if(it)return qe?-1:ze($e).length;ke=(""+ke).toLowerCase(),it=!0}}f.byteLength=F;function _($e,ke,Fe){var qe=!1;if((ke===void 0||ke<0)&&(ke=0),ke>this.length||((Fe===void 0||Fe>this.length)&&(Fe=this.length),Fe<=0)||(Fe>>>=0,ke>>>=0,Fe<=ke))return"";for($e||($e="utf8");;)switch($e){case"hex":return Z(this,ke,Fe);case"utf8":case"utf-8":return re(this,ke,Fe);case"ascii":return G(this,ke,Fe);case"latin1":case"binary":return V(this,ke,Fe);case"base64":return Q(this,ke,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ke,Fe);default:if(qe)throw new TypeError("Unknown encoding: "+$e);$e=($e+"").toLowerCase(),qe=!0}}f.prototype._isBuffer=!0;function B($e,ke,Fe){var qe=$e[ke];$e[ke]=$e[Fe],$e[Fe]=qe}f.prototype.swap16=function(){var ke=this.length;if(ke%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Fe=0;Fe<ke;Fe+=2)B(this,Fe,Fe+1);return this},f.prototype.swap32=function(){var ke=this.length;if(ke%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Fe=0;Fe<ke;Fe+=4)B(this,Fe,Fe+3),B(this,Fe+1,Fe+2);return this},f.prototype.swap64=function(){var ke=this.length;if(ke%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Fe=0;Fe<ke;Fe+=8)B(this,Fe,Fe+7),B(this,Fe+1,Fe+6),B(this,Fe+2,Fe+5),B(this,Fe+3,Fe+4);return this},f.prototype.toString=function(){var ke=this.length;return ke===0?"":arguments.length===0?re(this,0,ke):_.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(ke){if(!f.isBuffer(ke))throw new TypeError("Argument must be a Buffer");return this===ke?!0:f.compare(this,ke)===0},f.prototype.inspect=function(){var ke="",Fe=U.INSPECT_MAX_BYTES;return ke=this.toString("hex",0,Fe).replace(/(.{2})/g,"$1 ").trim(),this.length>Fe&&(ke+=" ... "),"<Buffer "+ke+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(ke,Fe,qe,it,Je){if(tt(ke,Uint8Array)&&(ke=f.from(ke,ke.offset,ke.byteLength)),!f.isBuffer(ke))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(ke));if(Fe===void 0&&(Fe=0),qe===void 0&&(qe=ke?ke.length:0),it===void 0&&(it=0),Je===void 0&&(Je=this.length),Fe<0||qe>ke.length||it<0||Je>this.length)throw new RangeError("out of range index");if(it>=Je&&Fe>=qe)return 0;if(it>=Je)return-1;if(Fe>=qe)return 1;if(Fe>>>=0,qe>>>=0,it>>>=0,Je>>>=0,this===ke)return 0;for(var Re=Je-it,Me=qe-Fe,fe=Math.min(Re,Me),ye=this.slice(it,Je),Le=ke.slice(Fe,qe),Oe=0;Oe<fe;++Oe)if(ye[Oe]!==Le[Oe]){Re=ye[Oe],Me=Le[Oe];break}return Re<Me?-1:Me<Re?1:0};function I($e,ke,Fe,qe,it){if($e.length===0)return-1;if(typeof Fe=="string"?(qe=Fe,Fe=0):Fe>2147483647?Fe=2147483647:Fe<-2147483648&&(Fe=-2147483648),Fe=+Fe,dt(Fe)&&(Fe=it?0:$e.length-1),Fe<0&&(Fe=$e.length+Fe),Fe>=$e.length){if(it)return-1;Fe=$e.length-1}else if(Fe<0)if(it)Fe=0;else return-1;if(typeof ke=="string"&&(ke=f.from(ke,qe)),f.isBuffer(ke))return ke.length===0?-1:O($e,ke,Fe,qe,it);if(typeof ke=="number")return ke=ke&255,typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call($e,ke,Fe):Uint8Array.prototype.lastIndexOf.call($e,ke,Fe):O($e,[ke],Fe,qe,it);throw new TypeError("val must be string, number or Buffer")}function O($e,ke,Fe,qe,it){var Je=1,Re=$e.length,Me=ke.length;if(qe!==void 0&&(qe=String(qe).toLowerCase(),qe==="ucs2"||qe==="ucs-2"||qe==="utf16le"||qe==="utf-16le")){if($e.length<2||ke.length<2)return-1;Je=2,Re/=2,Me/=2,Fe/=2}function fe(vt,Lt){return Je===1?vt[Lt]:vt.readUInt16BE(Lt*Je)}var ye;if(it){var Le=-1;for(ye=Fe;ye<Re;ye++)if(fe($e,ye)===fe(ke,Le===-1?0:ye-Le)){if(Le===-1&&(Le=ye),ye-Le+1===Me)return Le*Je}else Le!==-1&&(ye-=ye-Le),Le=-1}else for(Fe+Me>Re&&(Fe=Re-Me),ye=Fe;ye>=0;ye--){for(var Oe=!0,ht=0;ht<Me;ht++)if(fe($e,ye+ht)!==fe(ke,ht)){Oe=!1;break}if(Oe)return ye}return-1}f.prototype.includes=function(ke,Fe,qe){return this.indexOf(ke,Fe,qe)!==-1},f.prototype.indexOf=function(ke,Fe,qe){return I(this,ke,Fe,qe,!0)},f.prototype.lastIndexOf=function(ke,Fe,qe){return I(this,ke,Fe,qe,!1)};function z($e,ke,Fe,qe){Fe=Number(Fe)||0;var it=$e.length-Fe;qe?(qe=Number(qe),qe>it&&(qe=it)):qe=it;var Je=ke.length;qe>Je/2&&(qe=Je/2);var Re;for(Re=0;Re<qe;++Re){var Me=parseInt(ke.substr(Re*2,2),16);if(dt(Me))return Re;$e[Fe+Re]=Me}return Re}function k($e,ke,Fe,qe){return at(ze(ke,$e.length-Fe),$e,Fe,qe)}function N($e,ke,Fe,qe){return at(Ze(ke),$e,Fe,qe)}function K($e,ke,Fe,qe){return at(lt(ke),$e,Fe,qe)}function q($e,ke,Fe,qe){return at(ct(ke,$e.length-Fe),$e,Fe,qe)}f.prototype.write=function(ke,Fe,qe,it){if(Fe===void 0)it="utf8",qe=this.length,Fe=0;else if(qe===void 0&&typeof Fe=="string")it=Fe,qe=this.length,Fe=0;else if(isFinite(Fe))Fe=Fe>>>0,isFinite(qe)?(qe=qe>>>0,it===void 0&&(it="utf8")):(it=qe,qe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Je=this.length-Fe;if((qe===void 0||qe>Je)&&(qe=Je),ke.length>0&&(qe<0||Fe<0)||Fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var Re=!1;;)switch(it){case"hex":return z(this,ke,Fe,qe);case"utf8":case"utf-8":return k(this,ke,Fe,qe);case"ascii":case"latin1":case"binary":return N(this,ke,Fe,qe);case"base64":return K(this,ke,Fe,qe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,ke,Fe,qe);default:if(Re)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),Re=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q($e,ke,Fe){return ke===0&&Fe===$e.length?l.fromByteArray($e):l.fromByteArray($e.slice(ke,Fe))}function re($e,ke,Fe){Fe=Math.min($e.length,Fe);for(var qe=[],it=ke;it<Fe;){var Je=$e[it],Re=null,Me=Je>239?4:Je>223?3:Je>191?2:1;if(it+Me<=Fe){var fe=void 0,ye=void 0,Le=void 0,Oe=void 0;switch(Me){case 1:Je<128&&(Re=Je);break;case 2:fe=$e[it+1],(fe&192)===128&&(Oe=(Je&31)<<6|fe&63,Oe>127&&(Re=Oe));break;case 3:fe=$e[it+1],ye=$e[it+2],(fe&192)===128&&(ye&192)===128&&(Oe=(Je&15)<<12|(fe&63)<<6|ye&63,Oe>2047&&(Oe<55296||Oe>57343)&&(Re=Oe));break;case 4:fe=$e[it+1],ye=$e[it+2],Le=$e[it+3],(fe&192)===128&&(ye&192)===128&&(Le&192)===128&&(Oe=(Je&15)<<18|(fe&63)<<12|(ye&63)<<6|Le&63,Oe>65535&&Oe<1114112&&(Re=Oe))}}Re===null?(Re=65533,Me=1):Re>65535&&(Re-=65536,qe.push(Re>>>10&1023|55296),Re=56320|Re&1023),qe.push(Re),it+=Me}return Y(qe)}var oe=4096;function Y($e){var ke=$e.length;if(ke<=oe)return String.fromCharCode.apply(String,$e);for(var Fe="",qe=0;qe<ke;)Fe+=String.fromCharCode.apply(String,$e.slice(qe,qe+=oe));return Fe}function G($e,ke,Fe){var qe="";Fe=Math.min($e.length,Fe);for(var it=ke;it<Fe;++it)qe+=String.fromCharCode($e[it]&127);return qe}function V($e,ke,Fe){var qe="";Fe=Math.min($e.length,Fe);for(var it=ke;it<Fe;++it)qe+=String.fromCharCode($e[it]);return qe}function Z($e,ke,Fe){var qe=$e.length;(!ke||ke<0)&&(ke=0),(!Fe||Fe<0||Fe>qe)&&(Fe=qe);for(var it="",Je=ke;Je<Fe;++Je)it+=wt[$e[Je]];return it}function ae($e,ke,Fe){for(var qe=$e.slice(ke,Fe),it="",Je=0;Je<qe.length-1;Je+=2)it+=String.fromCharCode(qe[Je]+qe[Je+1]*256);return it}f.prototype.slice=function(ke,Fe){var qe=this.length;ke=~~ke,Fe=Fe===void 0?qe:~~Fe,ke<0?(ke+=qe,ke<0&&(ke=0)):ke>qe&&(ke=qe),Fe<0?(Fe+=qe,Fe<0&&(Fe=0)):Fe>qe&&(Fe=qe),Fe<ke&&(Fe=ke);var it=this.subarray(ke,Fe);return Object.setPrototypeOf(it,f.prototype),it};function ie($e,ke,Fe){if($e%1!==0||$e<0)throw new RangeError("offset is not uint");if($e+ke>Fe)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(ke,Fe,qe){ke=ke>>>0,Fe=Fe>>>0,qe||ie(ke,Fe,this.length);for(var it=this[ke],Je=1,Re=0;++Re<Fe&&(Je*=256);)it+=this[ke+Re]*Je;return it},f.prototype.readUintBE=f.prototype.readUIntBE=function(ke,Fe,qe){ke=ke>>>0,Fe=Fe>>>0,qe||ie(ke,Fe,this.length);for(var it=this[ke+--Fe],Je=1;Fe>0&&(Je*=256);)it+=this[ke+--Fe]*Je;return it},f.prototype.readUint8=f.prototype.readUInt8=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,1,this.length),this[ke]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,2,this.length),this[ke]|this[ke+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,2,this.length),this[ke]<<8|this[ke+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),(this[ke]|this[ke+1]<<8|this[ke+2]<<16)+this[ke+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),this[ke]*16777216+(this[ke+1]<<16|this[ke+2]<<8|this[ke+3])},f.prototype.readBigUInt64LE=Mt(function(ke){ke=ke>>>0,be(ke,"offset");var Fe=this[ke],qe=this[ke+7];(Fe===void 0||qe===void 0)&&_e(ke,this.length-8);var it=Fe+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24),Je=this[++ke]+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+qe*Math.pow(2,24);return BigInt(it)+(BigInt(Je)<<BigInt(32))}),f.prototype.readBigUInt64BE=Mt(function(ke){ke=ke>>>0,be(ke,"offset");var Fe=this[ke],qe=this[ke+7];(Fe===void 0||qe===void 0)&&_e(ke,this.length-8);var it=Fe*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke],Je=this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+qe;return(BigInt(it)<<BigInt(32))+BigInt(Je)}),f.prototype.readIntLE=function(ke,Fe,qe){ke=ke>>>0,Fe=Fe>>>0,qe||ie(ke,Fe,this.length);for(var it=this[ke],Je=1,Re=0;++Re<Fe&&(Je*=256);)it+=this[ke+Re]*Je;return Je*=128,it>=Je&&(it-=Math.pow(2,8*Fe)),it},f.prototype.readIntBE=function(ke,Fe,qe){ke=ke>>>0,Fe=Fe>>>0,qe||ie(ke,Fe,this.length);for(var it=Fe,Je=1,Re=this[ke+--it];it>0&&(Je*=256);)Re+=this[ke+--it]*Je;return Je*=128,Re>=Je&&(Re-=Math.pow(2,8*Fe)),Re},f.prototype.readInt8=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,1,this.length),this[ke]&128?(255-this[ke]+1)*-1:this[ke]},f.prototype.readInt16LE=function(ke,Fe){ke=ke>>>0,Fe||ie(ke,2,this.length);var qe=this[ke]|this[ke+1]<<8;return qe&32768?qe|4294901760:qe},f.prototype.readInt16BE=function(ke,Fe){ke=ke>>>0,Fe||ie(ke,2,this.length);var qe=this[ke+1]|this[ke]<<8;return qe&32768?qe|4294901760:qe},f.prototype.readInt32LE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),this[ke]|this[ke+1]<<8|this[ke+2]<<16|this[ke+3]<<24},f.prototype.readInt32BE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),this[ke]<<24|this[ke+1]<<16|this[ke+2]<<8|this[ke+3]},f.prototype.readBigInt64LE=Mt(function(ke){ke=ke>>>0,be(ke,"offset");var Fe=this[ke],qe=this[ke+7];(Fe===void 0||qe===void 0)&&_e(ke,this.length-8);var it=this[ke+4]+this[ke+5]*Math.pow(2,8)+this[ke+6]*Math.pow(2,16)+(qe<<24);return(BigInt(it)<<BigInt(32))+BigInt(Fe+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24))}),f.prototype.readBigInt64BE=Mt(function(ke){ke=ke>>>0,be(ke,"offset");var Fe=this[ke],qe=this[ke+7];(Fe===void 0||qe===void 0)&&_e(ke,this.length-8);var it=(Fe<<24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke];return(BigInt(it)<<BigInt(32))+BigInt(this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+qe)}),f.prototype.readFloatLE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),c.read(this,ke,!0,23,4)},f.prototype.readFloatBE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,4,this.length),c.read(this,ke,!1,23,4)},f.prototype.readDoubleLE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,8,this.length),c.read(this,ke,!0,52,8)},f.prototype.readDoubleBE=function(ke,Fe){return ke=ke>>>0,Fe||ie(ke,8,this.length),c.read(this,ke,!1,52,8)};function J($e,ke,Fe,qe,it,Je){if(!f.isBuffer($e))throw new TypeError('"buffer" argument must be a Buffer instance');if(ke>it||ke<Je)throw new RangeError('"value" argument is out of bounds');if(Fe+qe>$e.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(ke,Fe,qe,it){if(ke=+ke,Fe=Fe>>>0,qe=qe>>>0,!it){var Je=Math.pow(2,8*qe)-1;J(this,ke,Fe,qe,Je,0)}var Re=1,Me=0;for(this[Fe]=ke&255;++Me<qe&&(Re*=256);)this[Fe+Me]=ke/Re&255;return Fe+qe},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(ke,Fe,qe,it){if(ke=+ke,Fe=Fe>>>0,qe=qe>>>0,!it){var Je=Math.pow(2,8*qe)-1;J(this,ke,Fe,qe,Je,0)}var Re=qe-1,Me=1;for(this[Fe+Re]=ke&255;--Re>=0&&(Me*=256);)this[Fe+Re]=ke/Me&255;return Fe+qe},f.prototype.writeUint8=f.prototype.writeUInt8=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,1,255,0),this[Fe]=ke&255,Fe+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,2,65535,0),this[Fe]=ke&255,this[Fe+1]=ke>>>8,Fe+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,2,65535,0),this[Fe]=ke>>>8,this[Fe+1]=ke&255,Fe+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,4,4294967295,0),this[Fe+3]=ke>>>24,this[Fe+2]=ke>>>16,this[Fe+1]=ke>>>8,this[Fe]=ke&255,Fe+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,4,4294967295,0),this[Fe]=ke>>>24,this[Fe+1]=ke>>>16,this[Fe+2]=ke>>>8,this[Fe+3]=ke&255,Fe+4};function $($e,ke,Fe,qe,it){Ae(ke,qe,it,$e,Fe,7);var Je=Number(ke&BigInt(4294967295));$e[Fe++]=Je,Je=Je>>8,$e[Fe++]=Je,Je=Je>>8,$e[Fe++]=Je,Je=Je>>8,$e[Fe++]=Je;var Re=Number(ke>>BigInt(32)&BigInt(4294967295));return $e[Fe++]=Re,Re=Re>>8,$e[Fe++]=Re,Re=Re>>8,$e[Fe++]=Re,Re=Re>>8,$e[Fe++]=Re,Fe}function se($e,ke,Fe,qe,it){Ae(ke,qe,it,$e,Fe,7);var Je=Number(ke&BigInt(4294967295));$e[Fe+7]=Je,Je=Je>>8,$e[Fe+6]=Je,Je=Je>>8,$e[Fe+5]=Je,Je=Je>>8,$e[Fe+4]=Je;var Re=Number(ke>>BigInt(32)&BigInt(4294967295));return $e[Fe+3]=Re,Re=Re>>8,$e[Fe+2]=Re,Re=Re>>8,$e[Fe+1]=Re,Re=Re>>8,$e[Fe]=Re,Fe+8}f.prototype.writeBigUInt64LE=Mt(function(ke){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return $(this,ke,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Mt(function(ke){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ke,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(ke,Fe,qe,it){if(ke=+ke,Fe=Fe>>>0,!it){var Je=Math.pow(2,8*qe-1);J(this,ke,Fe,qe,Je-1,-Je)}var Re=0,Me=1,fe=0;for(this[Fe]=ke&255;++Re<qe&&(Me*=256);)ke<0&&fe===0&&this[Fe+Re-1]!==0&&(fe=1),this[Fe+Re]=(ke/Me>>0)-fe&255;return Fe+qe},f.prototype.writeIntBE=function(ke,Fe,qe,it){if(ke=+ke,Fe=Fe>>>0,!it){var Je=Math.pow(2,8*qe-1);J(this,ke,Fe,qe,Je-1,-Je)}var Re=qe-1,Me=1,fe=0;for(this[Fe+Re]=ke&255;--Re>=0&&(Me*=256);)ke<0&&fe===0&&this[Fe+Re+1]!==0&&(fe=1),this[Fe+Re]=(ke/Me>>0)-fe&255;return Fe+qe},f.prototype.writeInt8=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,1,127,-128),ke<0&&(ke=255+ke+1),this[Fe]=ke&255,Fe+1},f.prototype.writeInt16LE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,2,32767,-32768),this[Fe]=ke&255,this[Fe+1]=ke>>>8,Fe+2},f.prototype.writeInt16BE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,2,32767,-32768),this[Fe]=ke>>>8,this[Fe+1]=ke&255,Fe+2},f.prototype.writeInt32LE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,4,2147483647,-2147483648),this[Fe]=ke&255,this[Fe+1]=ke>>>8,this[Fe+2]=ke>>>16,this[Fe+3]=ke>>>24,Fe+4},f.prototype.writeInt32BE=function(ke,Fe,qe){return ke=+ke,Fe=Fe>>>0,qe||J(this,ke,Fe,4,2147483647,-2147483648),ke<0&&(ke=4294967295+ke+1),this[Fe]=ke>>>24,this[Fe+1]=ke>>>16,this[Fe+2]=ke>>>8,this[Fe+3]=ke&255,Fe+4},f.prototype.writeBigInt64LE=Mt(function(ke){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return $(this,ke,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Mt(function(ke){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ke,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee($e,ke,Fe,qe,it,Je){if(Fe+qe>$e.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("Index out of range")}function ue($e,ke,Fe,qe,it){return ke=+ke,Fe=Fe>>>0,it||ee($e,ke,Fe,4),c.write($e,ke,Fe,qe,23,4),Fe+4}f.prototype.writeFloatLE=function(ke,Fe,qe){return ue(this,ke,Fe,!0,qe)},f.prototype.writeFloatBE=function(ke,Fe,qe){return ue(this,ke,Fe,!1,qe)};function ge($e,ke,Fe,qe,it){return ke=+ke,Fe=Fe>>>0,it||ee($e,ke,Fe,8),c.write($e,ke,Fe,qe,52,8),Fe+8}f.prototype.writeDoubleLE=function(ke,Fe,qe){return ge(this,ke,Fe,!0,qe)},f.prototype.writeDoubleBE=function(ke,Fe,qe){return ge(this,ke,Fe,!1,qe)},f.prototype.copy=function(ke,Fe,qe,it){if(!f.isBuffer(ke))throw new TypeError("argument should be a Buffer");if(qe||(qe=0),!it&&it!==0&&(it=this.length),Fe>=ke.length&&(Fe=ke.length),Fe||(Fe=0),it>0&&it<qe&&(it=qe),it===qe||ke.length===0||this.length===0)return 0;if(Fe<0)throw new RangeError("targetStart out of bounds");if(qe<0||qe>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),ke.length-Fe<it-qe&&(it=ke.length-Fe+qe);var Je=it-qe;return this===ke&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Fe,qe,it):Uint8Array.prototype.set.call(ke,this.subarray(qe,it),Fe),Je},f.prototype.fill=function(ke,Fe,qe,it){if(typeof ke=="string"){if(typeof Fe=="string"?(it=Fe,Fe=0,qe=this.length):typeof qe=="string"&&(it=qe,qe=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!f.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(ke.length===1){var Je=ke.charCodeAt(0);(it==="utf8"&&Je<128||it==="latin1")&&(ke=Je)}}else typeof ke=="number"?ke=ke&255:typeof ke=="boolean"&&(ke=Number(ke));if(Fe<0||this.length<Fe||this.length<qe)throw new RangeError("Out of range index");if(qe<=Fe)return this;Fe=Fe>>>0,qe=qe===void 0?this.length:qe>>>0,ke||(ke=0);var Re;if(typeof ke=="number")for(Re=Fe;Re<qe;++Re)this[Re]=ke;else{var Me=f.isBuffer(ke)?ke:f.from(ke,it),fe=Me.length;if(fe===0)throw new TypeError('The value "'+ke+'" is invalid for argument "value"');for(Re=0;Re<qe-Fe;++Re)this[Re+Fe]=Me[Re%fe]}return this};var Te={};function xe($e,ke,Fe){Te[$e]=function(qe){P(Je,qe);var it=v(Je);function Je(){var Re;return p(this,Je),Re=it.call(this),Object.defineProperty(t(Re),"message",{value:ke.apply(t(Re),arguments),writable:!0,configurable:!0}),Re.name="".concat(Re.name," [").concat($e,"]"),Re.stack,delete Re.name,Re}return a(Je,[{key:"code",get:function(){return $e},set:function(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat($e,"]: ").concat(this.message)}}]),Je}(Fe)}xe("ERR_BUFFER_OUT_OF_BOUNDS",function($e){return $e?"".concat($e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),xe("ERR_INVALID_ARG_TYPE",function($e,ke){return'The "'.concat($e,'" argument must be of type number. Received type ').concat(o(ke))},TypeError),xe("ERR_OUT_OF_RANGE",function($e,ke,Fe){var qe='The value of "'.concat($e,'" is out of range.'),it=Fe;return Number.isInteger(Fe)&&Math.abs(Fe)>Math.pow(2,32)?it=Pe(String(Fe)):typeof Fe=="bigint"&&(it=String(Fe),(Fe>Math.pow(BigInt(2),BigInt(32))||Fe<-Math.pow(BigInt(2),BigInt(32)))&&(it=Pe(it)),it+="n"),qe+=" It must be ".concat(ke,". Received ").concat(it),qe},RangeError);function Pe($e){for(var ke="",Fe=$e.length,qe=$e[0]==="-"?1:0;Fe>=qe+4;Fe-=3)ke="_".concat($e.slice(Fe-3,Fe)).concat(ke);return"".concat($e.slice(0,Fe)).concat(ke)}function Ie($e,ke,Fe){be(ke,"offset"),($e[ke]===void 0||$e[ke+Fe]===void 0)&&_e(ke,$e.length-(Fe+1))}function Ae($e,ke,Fe,qe,it,Je){if($e>Fe||$e<ke){var Re=typeof ke=="bigint"?"n":"",Me;throw Je>3?ke===0||ke===BigInt(0)?Me=">= 0".concat(Re," and < 2").concat(Re," ** ").concat((Je+1)*8).concat(Re):Me=">= -(2".concat(Re," ** ").concat((Je+1)*8-1).concat(Re,") and < 2 ** ")+"".concat((Je+1)*8-1).concat(Re):Me=">= ".concat(ke).concat(Re," and <= ").concat(Fe).concat(Re),new Te.ERR_OUT_OF_RANGE("value",Me,$e)}Ie(qe,it,Je)}function be($e,ke){if(typeof $e!="number")throw new Te.ERR_INVALID_ARG_TYPE(ke,"number",$e)}function _e($e,ke,Fe){throw Math.floor($e)!==$e?(be($e,Fe),new Te.ERR_OUT_OF_RANGE(Fe||"offset","an integer",$e)):ke<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(Fe||"offset",">= ".concat(Fe?1:0," and <= ").concat(ke),$e)}var Ve=/[^+/0-9A-Za-z-_]/g;function We($e){if($e=$e.split("=")[0],$e=$e.trim().replace(Ve,""),$e.length<2)return"";for(;$e.length%4!==0;)$e=$e+"=";return $e}function ze($e,ke){ke=ke||1/0;for(var Fe,qe=$e.length,it=null,Je=[],Re=0;Re<qe;++Re){if(Fe=$e.charCodeAt(Re),Fe>55295&&Fe<57344){if(!it){if(Fe>56319){(ke-=3)>-1&&Je.push(239,191,189);continue}else if(Re+1===qe){(ke-=3)>-1&&Je.push(239,191,189);continue}it=Fe;continue}if(Fe<56320){(ke-=3)>-1&&Je.push(239,191,189),it=Fe;continue}Fe=(it-55296<<10|Fe-56320)+65536}else it&&(ke-=3)>-1&&Je.push(239,191,189);if(it=null,Fe<128){if((ke-=1)<0)break;Je.push(Fe)}else if(Fe<2048){if((ke-=2)<0)break;Je.push(Fe>>6|192,Fe&63|128)}else if(Fe<65536){if((ke-=3)<0)break;Je.push(Fe>>12|224,Fe>>6&63|128,Fe&63|128)}else if(Fe<1114112){if((ke-=4)<0)break;Je.push(Fe>>18|240,Fe>>12&63|128,Fe>>6&63|128,Fe&63|128)}else throw new Error("Invalid code point")}return Je}function Ze($e){for(var ke=[],Fe=0;Fe<$e.length;++Fe)ke.push($e.charCodeAt(Fe)&255);return ke}function ct($e,ke){for(var Fe,qe,it,Je=[],Re=0;Re<$e.length&&!((ke-=2)<0);++Re)Fe=$e.charCodeAt(Re),qe=Fe>>8,it=Fe%256,Je.push(it),Je.push(qe);return Je}function lt($e){return l.toByteArray(We($e))}function at($e,ke,Fe,qe){var it;for(it=0;it<qe&&!(it+Fe>=ke.length||it>=$e.length);++it)ke[it+Fe]=$e[it];return it}function tt($e,ke){return $e instanceof ke||$e!=null&&$e.constructor!=null&&$e.constructor.name!=null&&$e.constructor.name===ke.name}function dt($e){return $e!==$e}var wt=function(){for(var $e="0123456789abcdef",ke=new Array(256),Fe=0;Fe<16;++Fe)for(var qe=Fe*16,it=0;it<16;++it)ke[qe+it]=$e[Fe]+$e[it];return ke}();function Mt($e){return typeof BigInt>"u"?It:$e}function It(){throw new Error("BigInt not supported")}},86781:function(W,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return u},sankeyCircular:function(){return E},sankeyJustify:function(){return r},sankeyLeft:function(){return g},sankeyRight:function(){return t}});var p=e(33064),L=e(15140),a=e(45879),P=e(2502),A=e.n(P);function v(xe){return xe.target.depth}function g(xe){return xe.depth}function t(xe,Pe){return Pe-1-xe.height}function r(xe,Pe){return xe.sourceLinks.length?xe.depth:Pe-1}function u(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,p.VV)(xe.sourceLinks,v)-1:0}function o(xe){return function(){return xe}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function c(xe,Pe){return x(xe.source,Pe.source)||xe.index-Pe.index}function n(xe,Pe){return x(xe.target,Pe.target)||xe.index-Pe.index}function x(xe,Pe){return xe.partOfCycle===Pe.partOfCycle?xe.y0-Pe.y0:xe.circularLinkType==="top"||Pe.circularLinkType==="bottom"?-1:1}function h(xe){return xe.value}function T(xe){return(xe.y0+xe.y1)/2}function f(xe){return T(xe.source)}function s(xe){return T(xe.target)}function d(xe){return xe.index}function S(xe){return xe.nodes}function M(xe){return xe.links}function C(xe,Pe){var Ie=xe.get(Pe);if(!Ie)throw new Error("missing: "+Pe);return Ie}function y(xe,Pe){return Pe(xe)}var w=25,b=10,i=.3;function E(){var xe=0,Pe=0,Ie=1,Ae=1,be=24,_e,Ve=d,We=r,ze=S,Ze=M,ct=32,lt=2,at,tt=null;function dt(){var it={nodes:ze.apply(null,arguments),links:Ze.apply(null,arguments)};wt(it),m(it,Ve,tt),Mt(it),ke(it),F(it,Ve),Fe(it,ct,Ve),qe(it);for(var Je=4,Re=0;Re<Je;Re++)$(it,Ae,Ve),se(it,Ae,Ve),ae(it,Pe,Ae,Ve),$(it,Ae,Ve),se(it,Ae,Ve);return Te(it,Pe,Ae),k(it,lt,Ae,Ve),it}dt.nodeId=function(it){return arguments.length?(Ve=typeof it=="function"?it:o(it),dt):Ve},dt.nodeAlign=function(it){return arguments.length?(We=typeof it=="function"?it:o(it),dt):We},dt.nodeWidth=function(it){return arguments.length?(be=+it,dt):be},dt.nodePadding=function(it){return arguments.length?(_e=+it,dt):_e},dt.nodes=function(it){return arguments.length?(ze=typeof it=="function"?it:o(it),dt):ze},dt.links=function(it){return arguments.length?(Ze=typeof it=="function"?it:o(it),dt):Ze},dt.size=function(it){return arguments.length?(xe=Pe=0,Ie=+it[0],Ae=+it[1],dt):[Ie-xe,Ae-Pe]},dt.extent=function(it){return arguments.length?(xe=+it[0][0],Ie=+it[1][0],Pe=+it[0][1],Ae=+it[1][1],dt):[[xe,Pe],[Ie,Ae]]},dt.iterations=function(it){return arguments.length?(ct=+it,dt):ct},dt.circularLinkGap=function(it){return arguments.length?(lt=+it,dt):lt},dt.nodePaddingRatio=function(it){return arguments.length?(at=+it,dt):at},dt.sortNodes=function(it){return arguments.length?(tt=it,dt):tt},dt.update=function(it){return F(it,Ve),qe(it),it.links.forEach(function(Je){Je.circular&&(Je.circularLinkType=Je.y0+Je.y1<Ae?"top":"bottom",Je.source.circularLinkType=Je.circularLinkType,Je.target.circularLinkType=Je.circularLinkType)}),$(it,Ae,Ve,!1),se(it,Ae,Ve),k(it,lt,Ae,Ve),it};function wt(it){it.nodes.forEach(function(Re,Me){Re.index=Me,Re.sourceLinks=[],Re.targetLinks=[]});var Je=(0,L.UI)(it.nodes,Ve);return it.links.forEach(function(Re,Me){Re.index=Me;var fe=Re.source,ye=Re.target;(typeof fe>"u"?"undefined":l(fe))!=="object"&&(fe=Re.source=C(Je,fe)),(typeof ye>"u"?"undefined":l(ye))!=="object"&&(ye=Re.target=C(Je,ye)),fe.sourceLinks.push(Re),ye.targetLinks.push(Re)}),it}function Mt(it){it.nodes.forEach(function(Je){Je.partOfCycle=!1,Je.value=Math.max((0,p.Sm)(Je.sourceLinks,h),(0,p.Sm)(Je.targetLinks,h)),Je.sourceLinks.forEach(function(Re){Re.circular&&(Je.partOfCycle=!0,Je.circularLinkType=Re.circularLinkType)}),Je.targetLinks.forEach(function(Re){Re.circular&&(Je.partOfCycle=!0,Je.circularLinkType=Re.circularLinkType)})})}function It(it){var Je=0,Re=0,Me=0,fe=0,ye=(0,p.Fp)(it.nodes,function(Le){return Le.column});return it.links.forEach(function(Le){Le.circular&&(Le.circularLinkType=="top"?Je=Je+Le.width:Re=Re+Le.width,Le.target.column==0&&(fe=fe+Le.width),Le.source.column==ye&&(Me=Me+Le.width))}),Je=Je>0?Je+w+b:Je,Re=Re>0?Re+w+b:Re,Me=Me>0?Me+w+b:Me,fe=fe>0?fe+w+b:fe,{top:Je,bottom:Re,left:fe,right:Me}}function $e(it,Je){var Re=(0,p.Fp)(it.nodes,function(vt){return vt.column}),Me=Ie-xe,fe=Ae-Pe,ye=Me+Je.right+Je.left,Le=fe+Je.top+Je.bottom,Oe=Me/ye,ht=fe/Le;return xe=xe*Oe+Je.left,Ie=Je.right==0?Ie:Ie*Oe,Pe=Pe*ht+Je.top,Ae=Ae*ht,it.nodes.forEach(function(vt){vt.x0=xe+vt.column*((Ie-xe-be)/Re),vt.x1=vt.x0+be}),ht}function ke(it){var Je,Re,Me;for(Je=it.nodes,Re=[],Me=0;Je.length;++Me,Je=Re,Re=[])Je.forEach(function(fe){fe.depth=Me,fe.sourceLinks.forEach(function(ye){Re.indexOf(ye.target)<0&&!ye.circular&&Re.push(ye.target)})});for(Je=it.nodes,Re=[],Me=0;Je.length;++Me,Je=Re,Re=[])Je.forEach(function(fe){fe.height=Me,fe.targetLinks.forEach(function(ye){Re.indexOf(ye.source)<0&&!ye.circular&&Re.push(ye.source)})});it.nodes.forEach(function(fe){fe.column=Math.floor(We.call(null,fe,Me))})}function Fe(it,Je,Re){var Me=(0,L.b1)().key(function(vt){return vt.column}).sortKeys(p.j2).entries(it.nodes).map(function(vt){return vt.values});Le(Re),ht();for(var fe=1,ye=Je;ye>0;--ye)Oe(fe*=.99,Re),ht();function Le(vt){if(at){var Lt=1/0;Me.forEach(function(Vt){var vr=Ae*at/(Vt.length+1);Lt=vr<Lt?vr:Lt}),_e=Lt}var Ot=(0,p.VV)(Me,function(Vt){return(Ae-Pe-(Vt.length-1)*_e)/(0,p.Sm)(Vt,h)});Ot=Ot*i,it.links.forEach(function(Vt){Vt.width=Vt.value*Ot});var Jt=It(it),qt=$e(it,Jt);Ot=Ot*qt,it.links.forEach(function(Vt){Vt.width=Vt.value*Ot}),Me.forEach(function(Vt){var vr=Vt.length;Vt.forEach(function(gr,Gr){gr.depth==Me.length-1&&vr==1||gr.depth==0&&vr==1?(gr.y0=Ae/2-gr.value*Ot,gr.y1=gr.y0+gr.value*Ot):gr.partOfCycle?I(gr,vt)==0?(gr.y0=Ae/2+Gr,gr.y1=gr.y0+gr.value*Ot):gr.circularLinkType=="top"?(gr.y0=Pe+Gr,gr.y1=gr.y0+gr.value*Ot):(gr.y0=Ae-gr.value*Ot-Gr,gr.y1=gr.y0+gr.value*Ot):Jt.top==0||Jt.bottom==0?(gr.y0=(Ae-Pe)/vr*Gr,gr.y1=gr.y0+gr.value*Ot):(gr.y0=(Ae-Pe)/2-vr/2+Gr,gr.y1=gr.y0+gr.value*Ot)})})}function Oe(vt,Lt){var Ot=Me.length;Me.forEach(function(Jt){var qt=Jt.length,Vt=Jt[0].depth;Jt.forEach(function(vr){var gr;if((vr.sourceLinks.length||vr.targetLinks.length)&&!(vr.partOfCycle&&I(vr,Lt)>0))if(Vt==0&&qt==1)gr=vr.y1-vr.y0,vr.y0=Ae/2-gr/2,vr.y1=Ae/2+gr/2;else if(Vt==Ot-1&&qt==1)gr=vr.y1-vr.y0,vr.y0=Ae/2-gr/2,vr.y1=Ae/2+gr/2;else{var Gr=0,At=(0,p.J6)(vr.sourceLinks,s),or=(0,p.J6)(vr.targetLinks,f);At&&or?Gr=(At+or)/2:Gr=At||or;var rr=(Gr-T(vr))*vt;vr.y0+=rr,vr.y1+=rr}})})}function ht(){Me.forEach(function(vt){var Lt,Ot,Jt=Pe,qt=vt.length,Vt;for(vt.sort(x),Vt=0;Vt<qt;++Vt)Lt=vt[Vt],Ot=Jt-Lt.y0,Ot>0&&(Lt.y0+=Ot,Lt.y1+=Ot),Jt=Lt.y1+_e;if(Ot=Jt-_e-Ae,Ot>0)for(Jt=Lt.y0-=Ot,Lt.y1-=Ot,Vt=qt-2;Vt>=0;--Vt)Lt=vt[Vt],Ot=Lt.y1+_e-Jt,Ot>0&&(Lt.y0-=Ot,Lt.y1-=Ot),Jt=Lt.y0})}}function qe(it){it.nodes.forEach(function(Je){Je.sourceLinks.sort(n),Je.targetLinks.sort(c)}),it.nodes.forEach(function(Je){var Re=Je.y0,Me=Re,fe=Je.y1,ye=fe;Je.sourceLinks.forEach(function(Le){Le.circular?(Le.y0=fe-Le.width/2,fe=fe-Le.width):(Le.y0=Re+Le.width/2,Re+=Le.width)}),Je.targetLinks.forEach(function(Le){Le.circular?(Le.y1=ye-Le.width/2,ye=ye-Le.width):(Le.y1=Me+Le.width/2,Me+=Le.width)})})}return dt}function m(xe,Pe,Ie){var Ae=0;if(Ie===null){for(var be=[],_e=0;_e<xe.links.length;_e++){var Ve=xe.links[_e],We=Ve.source.index,ze=Ve.target.index;be[We]||(be[We]=[]),be[ze]||(be[ze]=[]),be[We].indexOf(ze)===-1&&be[We].push(ze)}var Ze=A()(be);Ze.sort(function(tt,dt){return tt.length-dt.length});var ct={};for(_e=0;_e<Ze.length;_e++){var lt=Ze[_e],at=lt.slice(-2);ct[at[0]]||(ct[at[0]]={}),ct[at[0]][at[1]]=!0}xe.links.forEach(function(tt){var dt=tt.target.index,wt=tt.source.index;dt===wt||ct[wt]&&ct[wt][dt]?(tt.circular=!0,tt.circularLinkID=Ae,Ae=Ae+1):tt.circular=!1})}else xe.links.forEach(function(tt){tt.source[Ie]<tt.target[Ie]?tt.circular=!1:(tt.circular=!0,tt.circularLinkID=Ae,Ae=Ae+1)})}function F(xe,Pe){var Ie=0,Ae=0;xe.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=Ie<Ae?"top":"bottom",be.circularLinkType=="top"?Ie=Ie+1:Ae=Ae+1,xe.nodes.forEach(function(_e){(y(_e,Pe)==y(be.source,Pe)||y(_e,Pe)==y(be.target,Pe))&&(_e.circularLinkType=be.circularLinkType)}))}),xe.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),ge(be,Pe)&&(be.circularLinkType=be.source.circularLinkType))})}function _(xe){var Pe=Math.abs(xe.y1-xe.y0),Ie=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(Ie/Pe)}function B(xe,Pe){return xe.source.column<Pe.target.column?!1:!(xe.target.column>Pe.source.column)}function I(xe,Pe){var Ie=0;xe.sourceLinks.forEach(function(be){Ie=be.circular&&!ge(be,Pe)?Ie+1:Ie});var Ae=0;return xe.targetLinks.forEach(function(be){Ae=be.circular&&!ge(be,Pe)?Ae+1:Ae}),Ie+Ae}function O(xe){var Pe=xe.source.sourceLinks,Ie=0;Pe.forEach(function(_e){Ie=_e.circular?Ie+1:Ie});var Ae=xe.target.targetLinks,be=0;return Ae.forEach(function(_e){be=_e.circular?be+1:be}),!(Ie>1||be>1)}function z(xe,Pe,Ie){return xe.sort(K),xe.forEach(function(Ae,be){var _e=0;if(ge(Ae,Ie)&&O(Ae))Ae.circularPathData.verticalBuffer=_e+Ae.width/2;else{var Ve=0;for(Ve;Ve<be;Ve++)if(B(xe[be],xe[Ve])){var We=xe[Ve].circularPathData.verticalBuffer+xe[Ve].width/2+Pe;_e=We>_e?We:_e}Ae.circularPathData.verticalBuffer=_e+Ae.width/2}}),xe}function k(xe,Pe,Ie,Ae){var be=5,_e=(0,p.VV)(xe.links,function(ze){return ze.source.y0});xe.links.forEach(function(ze){ze.circular&&(ze.circularPathData={})});var Ve=xe.links.filter(function(ze){return ze.circularLinkType=="top"});z(Ve,Pe,Ae);var We=xe.links.filter(function(ze){return ze.circularLinkType=="bottom"});z(We,Pe,Ae),xe.links.forEach(function(ze){if(ze.circular){if(ze.circularPathData.arcRadius=ze.width+b,ze.circularPathData.leftNodeBuffer=be,ze.circularPathData.rightNodeBuffer=be,ze.circularPathData.sourceWidth=ze.source.x1-ze.source.x0,ze.circularPathData.sourceX=ze.source.x0+ze.circularPathData.sourceWidth,ze.circularPathData.targetX=ze.target.x0,ze.circularPathData.sourceY=ze.y0,ze.circularPathData.targetY=ze.y1,ge(ze,Ae)&&O(ze))ze.circularPathData.leftSmallArcRadius=b+ze.width/2,ze.circularPathData.leftLargeArcRadius=b+ze.width/2,ze.circularPathData.rightSmallArcRadius=b+ze.width/2,ze.circularPathData.rightLargeArcRadius=b+ze.width/2,ze.circularLinkType=="bottom"?(ze.circularPathData.verticalFullExtent=ze.source.y1+w+ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.rightLargeArcRadius):(ze.circularPathData.verticalFullExtent=ze.source.y0-w-ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.rightLargeArcRadius);else{var Ze=ze.source.column,ct=ze.circularLinkType,lt=xe.links.filter(function(dt){return dt.source.column==Ze&&dt.circularLinkType==ct});ze.circularLinkType=="bottom"?lt.sort(Q):lt.sort(q);var at=0;lt.forEach(function(dt,wt){dt.circularLinkID==ze.circularLinkID&&(ze.circularPathData.leftSmallArcRadius=b+ze.width/2+at,ze.circularPathData.leftLargeArcRadius=b+ze.width/2+wt*Pe+at),at=at+dt.width}),Ze=ze.target.column,lt=xe.links.filter(function(dt){return dt.target.column==Ze&&dt.circularLinkType==ct}),ze.circularLinkType=="bottom"?lt.sort(oe):lt.sort(re),at=0,lt.forEach(function(dt,wt){dt.circularLinkID==ze.circularLinkID&&(ze.circularPathData.rightSmallArcRadius=b+ze.width/2+at,ze.circularPathData.rightLargeArcRadius=b+ze.width/2+wt*Pe+at),at=at+dt.width}),ze.circularLinkType=="bottom"?(ze.circularPathData.verticalFullExtent=Math.max(Ie,ze.source.y1,ze.target.y1)+w+ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.rightLargeArcRadius):(ze.circularPathData.verticalFullExtent=_e-w-ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.rightLargeArcRadius)}ze.circularPathData.leftInnerExtent=ze.circularPathData.sourceX+ze.circularPathData.leftNodeBuffer,ze.circularPathData.rightInnerExtent=ze.circularPathData.targetX-ze.circularPathData.rightNodeBuffer,ze.circularPathData.leftFullExtent=ze.circularPathData.sourceX+ze.circularPathData.leftLargeArcRadius+ze.circularPathData.leftNodeBuffer,ze.circularPathData.rightFullExtent=ze.circularPathData.targetX-ze.circularPathData.rightLargeArcRadius-ze.circularPathData.rightNodeBuffer}if(ze.circular)ze.path=N(ze);else{var tt=(0,a.h5)().source(function(dt){var wt=dt.source.x0+(dt.source.x1-dt.source.x0),Mt=dt.y0;return[wt,Mt]}).target(function(dt){var wt=dt.target.x0,Mt=dt.y1;return[wt,Mt]});ze.path=tt(ze)}})}function N(xe){var Pe="";return xe.circularLinkType=="top"?Pe="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:Pe="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,Pe}function K(xe,Pe){return Y(xe)==Y(Pe)?xe.circularLinkType=="bottom"?Q(xe,Pe):q(xe,Pe):Y(Pe)-Y(xe)}function q(xe,Pe){return xe.y0-Pe.y0}function Q(xe,Pe){return Pe.y0-xe.y0}function re(xe,Pe){return xe.y1-Pe.y1}function oe(xe,Pe){return Pe.y1-xe.y1}function Y(xe){return xe.target.column-xe.source.column}function G(xe){return xe.target.x0-xe.source.x1}function V(xe,Pe){var Ie=_(xe),Ae=G(Pe)/Math.tan(Ie),be=ue(xe)=="up"?xe.y1+Ae:xe.y1-Ae;return be}function Z(xe,Pe){var Ie=_(xe),Ae=G(Pe)/Math.tan(Ie),be=ue(xe)=="up"?xe.y1-Ae:xe.y1+Ae;return be}function ae(xe,Pe,Ie,Ae){xe.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var _e=be.source.column+1,Ve=be.target.column-1,We=1,ze=Ve-_e+1;for(We=1;_e<=Ve;_e++,We++)xe.nodes.forEach(function(Ze){if(Ze.column==_e){var ct=We/(ze+1),lt=Math.pow(1-ct,3),at=3*ct*Math.pow(1-ct,2),tt=3*Math.pow(ct,2)*(1-ct),dt=Math.pow(ct,3),wt=lt*be.y0+at*be.y0+tt*be.y1+dt*be.y1,Mt=wt-be.width/2,It=wt+be.width/2,$e;Mt>Ze.y0&&Mt<Ze.y1?($e=Ze.y1-Mt+10,$e=Ze.circularLinkType=="bottom"?$e:-$e,Ze=J(Ze,$e,Pe,Ie),xe.nodes.forEach(function(ke){y(ke,Ae)==y(Ze,Ae)||ke.column!=Ze.column||ie(Ze,ke)&&J(ke,$e,Pe,Ie)})):It>Ze.y0&&It<Ze.y1?($e=It-Ze.y0+10,Ze=J(Ze,$e,Pe,Ie),xe.nodes.forEach(function(ke){y(ke,Ae)==y(Ze,Ae)||ke.column!=Ze.column||ke.y0<Ze.y1&&ke.y1>Ze.y1&&J(ke,$e,Pe,Ie)})):Mt<Ze.y0&&It>Ze.y1&&($e=It-Ze.y0+10,Ze=J(Ze,$e,Pe,Ie),xe.nodes.forEach(function(ke){y(ke,Ae)==y(Ze,Ae)||ke.column!=Ze.column||ke.y0<Ze.y1&&ke.y1>Ze.y1&&J(ke,$e,Pe,Ie)}))}})}})}function ie(xe,Pe){return xe.y0>Pe.y0&&xe.y0<Pe.y1||xe.y1>Pe.y0&&xe.y1<Pe.y1?!0:xe.y0<Pe.y0&&xe.y1>Pe.y1}function J(xe,Pe,Ie,Ae){return xe.y0+Pe>=Ie&&xe.y1+Pe<=Ae&&(xe.y0=xe.y0+Pe,xe.y1=xe.y1+Pe,xe.targetLinks.forEach(function(be){be.y1=be.y1+Pe}),xe.sourceLinks.forEach(function(be){be.y0=be.y0+Pe})),xe}function $(xe,Pe,Ie,Ae){xe.nodes.forEach(function(be){Ae&&be.y+(be.y1-be.y0)>Pe&&(be.y=be.y-(be.y+(be.y1-be.y0)-Pe));var _e=xe.links.filter(function(ze){return y(ze.source,Ie)==y(be,Ie)}),Ve=_e.length;Ve>1&&_e.sort(function(ze,Ze){if(!ze.circular&&!Ze.circular){if(ze.target.column==Ze.target.column)return ze.y1-Ze.y1;if(ee(ze,Ze)){if(ze.target.column>Ze.target.column){var ct=Z(Ze,ze);return ze.y1-ct}if(Ze.target.column>ze.target.column){var lt=Z(ze,Ze);return lt-Ze.y1}}else return ze.y1-Ze.y1}if(ze.circular&&!Ze.circular)return ze.circularLinkType=="top"?-1:1;if(Ze.circular&&!ze.circular)return Ze.circularLinkType=="top"?1:-1;if(ze.circular&&Ze.circular)return ze.circularLinkType===Ze.circularLinkType&&ze.circularLinkType=="top"?ze.target.column===Ze.target.column?ze.target.y1-Ze.target.y1:Ze.target.column-ze.target.column:ze.circularLinkType===Ze.circularLinkType&&ze.circularLinkType=="bottom"?ze.target.column===Ze.target.column?Ze.target.y1-ze.target.y1:ze.target.column-Ze.target.column:ze.circularLinkType=="top"?-1:1});var We=be.y0;_e.forEach(function(ze){ze.y0=We+ze.width/2,We=We+ze.width}),_e.forEach(function(ze,Ze){if(ze.circularLinkType=="bottom"){var ct=Ze+1,lt=0;for(ct;ct<Ve;ct++)lt=lt+_e[ct].width;ze.y0=be.y1-lt-ze.width/2}})})}function se(xe,Pe,Ie){xe.nodes.forEach(function(Ae){var be=xe.links.filter(function(We){return y(We.target,Ie)==y(Ae,Ie)}),_e=be.length;_e>1&&be.sort(function(We,ze){if(!We.circular&&!ze.circular){if(We.source.column==ze.source.column)return We.y0-ze.y0;if(ee(We,ze)){if(ze.source.column<We.source.column){var Ze=V(ze,We);return We.y0-Ze}if(We.source.column<ze.source.column){var ct=V(We,ze);return ct-ze.y0}}else return We.y0-ze.y0}if(We.circular&&!ze.circular)return We.circularLinkType=="top"?-1:1;if(ze.circular&&!We.circular)return ze.circularLinkType=="top"?1:-1;if(We.circular&&ze.circular)return We.circularLinkType===ze.circularLinkType&&We.circularLinkType=="top"?We.source.column===ze.source.column?We.source.y1-ze.source.y1:We.source.column-ze.source.column:We.circularLinkType===ze.circularLinkType&&We.circularLinkType=="bottom"?We.source.column===ze.source.column?We.source.y1-ze.source.y1:ze.source.column-We.source.column:We.circularLinkType=="top"?-1:1});var Ve=Ae.y0;be.forEach(function(We){We.y1=Ve+We.width/2,Ve=Ve+We.width}),be.forEach(function(We,ze){if(We.circularLinkType=="bottom"){var Ze=ze+1,ct=0;for(Ze;Ze<_e;Ze++)ct=ct+be[Ze].width;We.y1=Ae.y1-ct-We.width/2}})})}function ee(xe,Pe){return ue(xe)==ue(Pe)}function ue(xe){return xe.y0-xe.y1>0?"up":"down"}function ge(xe,Pe){return y(xe.source,Pe)==y(xe.target,Pe)}function Te(xe,Pe,Ie){var Ae=xe.nodes,be=xe.links,_e=!1,Ve=!1;if(be.forEach(function(at){at.circularLinkType=="top"?_e=!0:at.circularLinkType=="bottom"&&(Ve=!0)}),_e==!1||Ve==!1){var We=(0,p.VV)(Ae,function(at){return at.y0}),ze=(0,p.Fp)(Ae,function(at){return at.y1}),Ze=ze-We,ct=Ie-Pe,lt=ct/Ze;Ae.forEach(function(at){var tt=(at.y1-at.y0)*lt;at.y0=(at.y0-We)*lt,at.y1=at.y0+tt}),be.forEach(function(at){at.y0=(at.y0-We)*lt,at.y1=(at.y1-We)*lt,at.width=at.width*lt})}}},30838:function(W,U,e){e.r(U),e.d(U,{sankey:function(){return d},sankeyCenter:function(){return g},sankeyJustify:function(){return v},sankeyLeft:function(){return P},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return A}});var p=e(33064),L=e(15140);function a(w){return w.target.depth}function P(w){return w.depth}function A(w,b){return b-1-w.height}function v(w,b){return w.sourceLinks.length?w.depth:b-1}function g(w){return w.targetLinks.length?w.depth:w.sourceLinks.length?(0,p.VV)(w.sourceLinks,a)-1:0}function t(w){return function(){return w}}function r(w,b){return o(w.source,b.source)||w.index-b.index}function u(w,b){return o(w.target,b.target)||w.index-b.index}function o(w,b){return w.y0-b.y0}function l(w){return w.value}function c(w){return(w.y0+w.y1)/2}function n(w){return c(w.source)*w.value}function x(w){return c(w.target)*w.value}function h(w){return w.index}function T(w){return w.nodes}function f(w){return w.links}function s(w,b){var i=w.get(b);if(!i)throw new Error("missing: "+b);return i}function d(){var w=0,b=0,i=1,E=1,m=24,F=8,_=h,B=v,I=T,O=f,z=32,k=2/3;function N(){var Y={nodes:I.apply(null,arguments),links:O.apply(null,arguments)};return K(Y),q(Y),Q(Y),re(Y),oe(Y),Y}N.update=function(Y){return oe(Y),Y},N.nodeId=function(Y){return arguments.length?(_=typeof Y=="function"?Y:t(Y),N):_},N.nodeAlign=function(Y){return arguments.length?(B=typeof Y=="function"?Y:t(Y),N):B},N.nodeWidth=function(Y){return arguments.length?(m=+Y,N):m},N.nodePadding=function(Y){return arguments.length?(F=+Y,N):F},N.nodes=function(Y){return arguments.length?(I=typeof Y=="function"?Y:t(Y),N):I},N.links=function(Y){return arguments.length?(O=typeof Y=="function"?Y:t(Y),N):O},N.size=function(Y){return arguments.length?(w=b=0,i=+Y[0],E=+Y[1],N):[i-w,E-b]},N.extent=function(Y){return arguments.length?(w=+Y[0][0],i=+Y[1][0],b=+Y[0][1],E=+Y[1][1],N):[[w,b],[i,E]]},N.iterations=function(Y){return arguments.length?(z=+Y,N):z};function K(Y){Y.nodes.forEach(function(V,Z){V.index=Z,V.sourceLinks=[],V.targetLinks=[]});var G=(0,L.UI)(Y.nodes,_);Y.links.forEach(function(V,Z){V.index=Z;var ae=V.source,ie=V.target;typeof ae!="object"&&(ae=V.source=s(G,ae)),typeof ie!="object"&&(ie=V.target=s(G,ie)),ae.sourceLinks.push(V),ie.targetLinks.push(V)})}function q(Y){Y.nodes.forEach(function(G){G.value=Math.max((0,p.Sm)(G.sourceLinks,l),(0,p.Sm)(G.targetLinks,l))})}function Q(Y){var G,V,Z;for(G=Y.nodes,V=[],Z=0;G.length;++Z,G=V,V=[])G.forEach(function(ie){ie.depth=Z,ie.sourceLinks.forEach(function(J){V.indexOf(J.target)<0&&V.push(J.target)})});for(G=Y.nodes,V=[],Z=0;G.length;++Z,G=V,V=[])G.forEach(function(ie){ie.height=Z,ie.targetLinks.forEach(function(J){V.indexOf(J.source)<0&&V.push(J.source)})});var ae=(i-w-m)/(Z-1);Y.nodes.forEach(function(ie){ie.x1=(ie.x0=w+Math.max(0,Math.min(Z-1,Math.floor(B.call(null,ie,Z))))*ae)+m})}function re(Y){var G=(0,L.b1)().key(function(se){return se.x0}).sortKeys(p.j2).entries(Y.nodes).map(function(se){return se.values});ae(),$();for(var V=1,Z=z;Z>0;--Z)J(V*=.99),$(),ie(V),$();function ae(){var se=(0,p.Fp)(G,function(ge){return ge.length}),ee=k*(E-b)/(se-1);F>ee&&(F=ee);var ue=(0,p.VV)(G,function(ge){return(E-b-(ge.length-1)*F)/(0,p.Sm)(ge,l)});G.forEach(function(ge){ge.forEach(function(Te,xe){Te.y1=(Te.y0=xe)+Te.value*ue})}),Y.links.forEach(function(ge){ge.width=ge.value*ue})}function ie(se){G.forEach(function(ee){ee.forEach(function(ue){if(ue.targetLinks.length){var ge=((0,p.Sm)(ue.targetLinks,n)/(0,p.Sm)(ue.targetLinks,l)-c(ue))*se;ue.y0+=ge,ue.y1+=ge}})})}function J(se){G.slice().reverse().forEach(function(ee){ee.forEach(function(ue){if(ue.sourceLinks.length){var ge=((0,p.Sm)(ue.sourceLinks,x)/(0,p.Sm)(ue.sourceLinks,l)-c(ue))*se;ue.y0+=ge,ue.y1+=ge}})})}function $(){G.forEach(function(se){var ee,ue,ge=b,Te=se.length,xe;for(se.sort(o),xe=0;xe<Te;++xe)ee=se[xe],ue=ge-ee.y0,ue>0&&(ee.y0+=ue,ee.y1+=ue),ge=ee.y1+F;if(ue=ge-F-E,ue>0)for(ge=ee.y0-=ue,ee.y1-=ue,xe=Te-2;xe>=0;--xe)ee=se[xe],ue=ee.y1+F-ge,ue>0&&(ee.y0-=ue,ee.y1-=ue),ge=ee.y0})}}function oe(Y){Y.nodes.forEach(function(G){G.sourceLinks.sort(u),G.targetLinks.sort(r)}),Y.nodes.forEach(function(G){var V=G.y0,Z=V;G.sourceLinks.forEach(function(ae){ae.y0=V+ae.width/2,V+=ae.width}),G.targetLinks.forEach(function(ae){ae.y1=Z+ae.width/2,Z+=ae.width})})}return N}var S=e(45879);function M(w){return[w.source.x1,w.y0]}function C(w){return[w.target.x0,w.y1]}function y(){return(0,S.h5)().source(M).target(C)}},39898:function(W,U,e){var p,L;(function(){var a={version:"3.8.0"},P=[].slice,A=function(le){return P.call(le)},v=self.document;function g(le){return le&&(le.ownerDocument||le.document||le).documentElement}function t(le){return le&&(le.ownerDocument&&le.ownerDocument.defaultView||le.document&&le||le.defaultView)}if(v)try{A(v.documentElement.childNodes)[0].nodeType}catch{A=function(Se){for(var Ne=Se.length,Qe=new Array(Ne);Ne--;)Qe[Ne]=Se[Ne];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,u=r.setAttribute,o=r.setAttributeNS,l=this.CSSStyleDeclaration.prototype,c=l.setProperty;r.setAttribute=function(Se,Ne){u.call(this,Se,Ne+"")},r.setAttributeNS=function(Se,Ne,Qe){o.call(this,Se,Ne,Qe+"")},l.setProperty=function(Se,Ne,Qe){c.call(this,Se,Ne+"",Qe)}}a.ascending=n;function n(le,Se){return le<Se?-1:le>Se?1:le>=Se?0:NaN}a.descending=function(le,Se){return Se<le?-1:Se>le?1:Se>=le?0:NaN},a.min=function(le,Se){var Ne=-1,Qe=le.length,rt,ot;if(arguments.length===1){for(;++Ne<Qe;)if((ot=le[Ne])!=null&&ot>=ot){rt=ot;break}for(;++Ne<Qe;)(ot=le[Ne])!=null&&rt>ot&&(rt=ot)}else{for(;++Ne<Qe;)if((ot=Se.call(le,le[Ne],Ne))!=null&&ot>=ot){rt=ot;break}for(;++Ne<Qe;)(ot=Se.call(le,le[Ne],Ne))!=null&&rt>ot&&(rt=ot)}return rt},a.max=function(le,Se){var Ne=-1,Qe=le.length,rt,ot;if(arguments.length===1){for(;++Ne<Qe;)if((ot=le[Ne])!=null&&ot>=ot){rt=ot;break}for(;++Ne<Qe;)(ot=le[Ne])!=null&&ot>rt&&(rt=ot)}else{for(;++Ne<Qe;)if((ot=Se.call(le,le[Ne],Ne))!=null&&ot>=ot){rt=ot;break}for(;++Ne<Qe;)(ot=Se.call(le,le[Ne],Ne))!=null&&ot>rt&&(rt=ot)}return rt},a.extent=function(le,Se){var Ne=-1,Qe=le.length,rt,ot,zt;if(arguments.length===1){for(;++Ne<Qe;)if((ot=le[Ne])!=null&&ot>=ot){rt=zt=ot;break}for(;++Ne<Qe;)(ot=le[Ne])!=null&&(rt>ot&&(rt=ot),zt<ot&&(zt=ot))}else{for(;++Ne<Qe;)if((ot=Se.call(le,le[Ne],Ne))!=null&&ot>=ot){rt=zt=ot;break}for(;++Ne<Qe;)(ot=Se.call(le,le[Ne],Ne))!=null&&(rt>ot&&(rt=ot),zt<ot&&(zt=ot))}return[rt,zt]};function x(le){return le===null?NaN:+le}function h(le){return!isNaN(le)}a.sum=function(le,Se){var Ne=0,Qe=le.length,rt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)h(rt=+le[ot])&&(Ne+=rt);else for(;++ot<Qe;)h(rt=+Se.call(le,le[ot],ot))&&(Ne+=rt);return Ne},a.mean=function(le,Se){var Ne=0,Qe=le.length,rt,ot=-1,zt=Qe;if(arguments.length===1)for(;++ot<Qe;)h(rt=x(le[ot]))?Ne+=rt:--zt;else for(;++ot<Qe;)h(rt=x(Se.call(le,le[ot],ot)))?Ne+=rt:--zt;if(zt)return Ne/zt},a.quantile=function(le,Se){var Ne=(le.length-1)*Se+1,Qe=Math.floor(Ne),rt=+le[Qe-1],ot=Ne-Qe;return ot?rt+ot*(le[Qe]-rt):rt},a.median=function(le,Se){var Ne=[],Qe=le.length,rt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)h(rt=x(le[ot]))&&Ne.push(rt);else for(;++ot<Qe;)h(rt=x(Se.call(le,le[ot],ot)))&&Ne.push(rt);if(Ne.length)return a.quantile(Ne.sort(n),.5)},a.variance=function(le,Se){var Ne=le.length,Qe=0,rt,ot,zt=0,mt=-1,Qt=0;if(arguments.length===1)for(;++mt<Ne;)h(rt=x(le[mt]))&&(ot=rt-Qe,Qe+=ot/++Qt,zt+=ot*(rt-Qe));else for(;++mt<Ne;)h(rt=x(Se.call(le,le[mt],mt)))&&(ot=rt-Qe,Qe+=ot/++Qt,zt+=ot*(rt-Qe));if(Qt>1)return zt/(Qt-1)},a.deviation=function(){var le=a.variance.apply(this,arguments);return le&&Math.sqrt(le)};function T(le){return{left:function(Se,Ne,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Se.length);Qe<rt;){var ot=Qe+rt>>>1;le(Se[ot],Ne)<0?Qe=ot+1:rt=ot}return Qe},right:function(Se,Ne,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Se.length);Qe<rt;){var ot=Qe+rt>>>1;le(Se[ot],Ne)>0?rt=ot:Qe=ot+1}return Qe}}}var f=T(n);a.bisectLeft=f.left,a.bisect=a.bisectRight=f.right,a.bisector=function(le){return T(le.length===1?function(Se,Ne){return n(le(Se),Ne)}:le)},a.shuffle=function(le,Se,Ne){(Qe=arguments.length)<3&&(Ne=le.length,Qe<2&&(Se=0));for(var Qe=Ne-Se,rt,ot;Qe;)ot=Math.random()*Qe--|0,rt=le[Qe+Se],le[Qe+Se]=le[ot+Se],le[ot+Se]=rt;return le},a.permute=function(le,Se){for(var Ne=Se.length,Qe=new Array(Ne);Ne--;)Qe[Ne]=le[Se[Ne]];return Qe},a.pairs=function(le){for(var Se=0,Ne=le.length-1,Qe=le[0],rt=new Array(Ne<0?0:Ne);Se<Ne;)rt[Se]=[Qe,Qe=le[++Se]];return rt},a.transpose=function(le){if(!(ot=le.length))return[];for(var Se=-1,Ne=a.min(le,s),Qe=new Array(Ne);++Se<Ne;)for(var rt=-1,ot,zt=Qe[Se]=new Array(ot);++rt<ot;)zt[rt]=le[rt][Se];return Qe};function s(le){return le.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(le){var Se=[];for(var Ne in le)Se.push(Ne);return Se},a.values=function(le){var Se=[];for(var Ne in le)Se.push(le[Ne]);return Se},a.entries=function(le){var Se=[];for(var Ne in le)Se.push({key:Ne,value:le[Ne]});return Se},a.merge=function(le){for(var Se=le.length,Ne,Qe=-1,rt=0,ot,zt;++Qe<Se;)rt+=le[Qe].length;for(ot=new Array(rt);--Se>=0;)for(zt=le[Se],Ne=zt.length;--Ne>=0;)ot[--rt]=zt[Ne];return ot};var d=Math.abs;a.range=function(le,Se,Ne){if(arguments.length<3&&(Ne=1,arguments.length<2&&(Se=le,le=0)),(Se-le)/Ne===1/0)throw new Error("infinite range");var Qe=[],rt=S(d(Ne)),ot=-1,zt;if(le*=rt,Se*=rt,Ne*=rt,Ne<0)for(;(zt=le+Ne*++ot)>Se;)Qe.push(zt/rt);else for(;(zt=le+Ne*++ot)<Se;)Qe.push(zt/rt);return Qe};function S(le){for(var Se=1;le*Se%1;)Se*=10;return Se}function M(le,Se){for(var Ne in Se)Object.defineProperty(le.prototype,Ne,{value:Se[Ne],enumerable:!1})}a.map=function(le,Se){var Ne=new C;if(le instanceof C)le.forEach(function(mt,Qt){Ne.set(mt,Qt)});else if(Array.isArray(le)){var Qe=-1,rt=le.length,ot;if(arguments.length===1)for(;++Qe<rt;)Ne.set(Qe,le[Qe]);else for(;++Qe<rt;)Ne.set(Se.call(le,ot=le[Qe],Qe),ot)}else for(var zt in le)Ne.set(zt,le[zt]);return Ne};function C(){this._=Object.create(null)}var y="__proto__",w="\0";M(C,{has:E,get:function(le){return this._[b(le)]},set:function(le,Se){return this._[b(le)]=Se},remove:m,keys:F,values:function(){var le=[];for(var Se in this._)le.push(this._[Se]);return le},entries:function(){var le=[];for(var Se in this._)le.push({key:i(Se),value:this._[Se]});return le},size:_,empty:B,forEach:function(le){for(var Se in this._)le.call(this,i(Se),this._[Se])}});function b(le){return(le+="")===y||le[0]===w?w+le:le}function i(le){return(le+="")[0]===w?le.slice(1):le}function E(le){return b(le)in this._}function m(le){return(le=b(le))in this._&&delete this._[le]}function F(){var le=[];for(var Se in this._)le.push(i(Se));return le}function _(){var le=0;for(var Se in this._)++le;return le}function B(){for(var le in this._)return!1;return!0}a.nest=function(){var le={},Se=[],Ne=[],Qe,rt;function ot(mt,Qt,cr){if(cr>=Se.length)return rt?rt.call(le,Qt):Qe?Qt.sort(Qe):Qt;for(var hr=-1,kr=Qt.length,Fr=Se[cr++],nn,hn,Nr,Kr=new C,tn;++hr<kr;)(tn=Kr.get(nn=Fr(hn=Qt[hr])))?tn.push(hn):Kr.set(nn,[hn]);return mt?(hn=mt(),Nr=function(dn,bn){hn.set(dn,ot(mt,bn,cr))}):(hn={},Nr=function(dn,bn){hn[dn]=ot(mt,bn,cr)}),Kr.forEach(Nr),hn}function zt(mt,Qt){if(Qt>=Se.length)return mt;var cr=[],hr=Ne[Qt++];return mt.forEach(function(kr,Fr){cr.push({key:kr,values:zt(Fr,Qt)})}),hr?cr.sort(function(kr,Fr){return hr(kr.key,Fr.key)}):cr}return le.map=function(mt,Qt){return ot(Qt,mt,0)},le.entries=function(mt){return zt(ot(a.map,mt,0),0)},le.key=function(mt){return Se.push(mt),le},le.sortKeys=function(mt){return Ne[Se.length-1]=mt,le},le.sortValues=function(mt){return Qe=mt,le},le.rollup=function(mt){return rt=mt,le},le},a.set=function(le){var Se=new I;if(le)for(var Ne=0,Qe=le.length;Ne<Qe;++Ne)Se.add(le[Ne]);return Se};function I(){this._=Object.create(null)}M(I,{has:E,add:function(le){return this._[b(le+="")]=!0,le},remove:m,values:F,size:_,empty:B,forEach:function(le){for(var Se in this._)le.call(this,i(Se))}}),a.behavior={};function O(le){return le}a.rebind=function(le,Se){for(var Ne=1,Qe=arguments.length,rt;++Ne<Qe;)le[rt=arguments[Ne]]=z(le,Se,Se[rt]);return le};function z(le,Se,Ne){return function(){var Qe=Ne.apply(Se,arguments);return Qe===Se?le:Qe}}function k(le,Se){if(Se in le)return Se;Se=Se.charAt(0).toUpperCase()+Se.slice(1);for(var Ne=0,Qe=N.length;Ne<Qe;++Ne){var rt=N[Ne]+Se;if(rt in le)return rt}}var N=["webkit","ms","moz","Moz","o","O"];function K(){}a.dispatch=function(){for(var le=new q,Se=-1,Ne=arguments.length;++Se<Ne;)le[arguments[Se]]=Q(le);return le};function q(){}q.prototype.on=function(le,Se){var Ne=le.indexOf("."),Qe="";if(Ne>=0&&(Qe=le.slice(Ne+1),le=le.slice(0,Ne)),le)return arguments.length<2?this[le].on(Qe):this[le].on(Qe,Se);if(arguments.length===2){if(Se==null)for(le in this)this.hasOwnProperty(le)&&this[le].on(Qe,null);return this}};function Q(le){var Se=[],Ne=new C;function Qe(){for(var rt=Se,ot=-1,zt=rt.length,mt;++ot<zt;)(mt=rt[ot].on)&&mt.apply(this,arguments);return le}return Qe.on=function(rt,ot){var zt=Ne.get(rt),mt;return arguments.length<2?zt&&zt.on:(zt&&(zt.on=null,Se=Se.slice(0,mt=Se.indexOf(zt)).concat(Se.slice(mt+1)),Ne.remove(rt)),ot&&Se.push(Ne.set(rt,{on:ot})),le)},Qe}a.event=null;function re(){a.event.preventDefault()}function oe(){for(var le=a.event,Se;Se=le.sourceEvent;)le=Se;return le}function Y(le){for(var Se=new q,Ne=0,Qe=arguments.length;++Ne<Qe;)Se[arguments[Ne]]=Q(Se);return Se.of=function(rt,ot){return function(zt){try{var mt=zt.sourceEvent=a.event;zt.target=le,a.event=zt,Se[zt.type].apply(rt,ot)}finally{a.event=mt}}},Se}a.requote=function(le){return le.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,V={}.__proto__?function(le,Se){le.__proto__=Se}:function(le,Se){for(var Ne in Se)le[Ne]=Se[Ne]};function Z(le){return V(le,$),le}var ae=function(le,Se){return Se.querySelector(le)},ie=function(le,Se){return Se.querySelectorAll(le)},J=function(le,Se){var Ne=le.matches||le[k(le,"matchesSelector")];return J=function(Qe,rt){return Ne.call(Qe,rt)},J(le,Se)};typeof Sizzle=="function"&&(ae=function(le,Se){return Sizzle(le,Se)[0]||null},ie=Sizzle,J=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var $=a.selection.prototype=[];$.select=function(le){var Se=[],Ne,Qe,rt,ot;le=se(le);for(var zt=-1,mt=this.length;++zt<mt;){Se.push(Ne=[]),Ne.parentNode=(rt=this[zt]).parentNode;for(var Qt=-1,cr=rt.length;++Qt<cr;)(ot=rt[Qt])?(Ne.push(Qe=le.call(ot,ot.__data__,Qt,zt)),Qe&&"__data__"in ot&&(Qe.__data__=ot.__data__)):Ne.push(null)}return Z(Se)};function se(le){return typeof le=="function"?le:function(){return ae(le,this)}}$.selectAll=function(le){var Se=[],Ne,Qe;le=ee(le);for(var rt=-1,ot=this.length;++rt<ot;)for(var zt=this[rt],mt=-1,Qt=zt.length;++mt<Qt;)(Qe=zt[mt])&&(Se.push(Ne=A(le.call(Qe,Qe.__data__,mt,rt))),Ne.parentNode=Qe);return Z(Se)};function ee(le){return typeof le=="function"?le:function(){return ie(le,this)}}var ue="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:ge,qualify:function(le){var Se=le.indexOf(":"),Ne=le;return Se>=0&&(Ne=le.slice(0,Se))!=="xmlns"&&(le=le.slice(Se+1)),ge.hasOwnProperty(Ne)?{space:ge[Ne],local:le}:le}},$.attr=function(le,Se){if(arguments.length<2){if(typeof le=="string"){var Ne=this.node();return le=a.ns.qualify(le),le.local?Ne.getAttributeNS(le.space,le.local):Ne.getAttribute(le)}for(Se in le)this.each(Te(Se,le[Se]));return this}return this.each(Te(le,Se))};function Te(le,Se){le=a.ns.qualify(le);function Ne(){this.removeAttribute(le)}function Qe(){this.removeAttributeNS(le.space,le.local)}function rt(){this.setAttribute(le,Se)}function ot(){this.setAttributeNS(le.space,le.local,Se)}function zt(){var Qt=Se.apply(this,arguments);Qt==null?this.removeAttribute(le):this.setAttribute(le,Qt)}function mt(){var Qt=Se.apply(this,arguments);Qt==null?this.removeAttributeNS(le.space,le.local):this.setAttributeNS(le.space,le.local,Qt)}return Se==null?le.local?Qe:Ne:typeof Se=="function"?le.local?mt:zt:le.local?ot:rt}function xe(le){return le.trim().replace(/\s+/g," ")}$.classed=function(le,Se){if(arguments.length<2){if(typeof le=="string"){var Ne=this.node(),Qe=(le=Ie(le)).length,rt=-1;if(Se=Ne.classList){for(;++rt<Qe;)if(!Se.contains(le[rt]))return!1}else for(Se=Ne.getAttribute("class");++rt<Qe;)if(!Pe(le[rt]).test(Se))return!1;return!0}for(Se in le)this.each(Ae(Se,le[Se]));return this}return this.each(Ae(le,Se))};function Pe(le){return new RegExp("(?:^|\\s+)"+a.requote(le)+"(?:\\s+|$)","g")}function Ie(le){return(le+"").trim().split(/^|\s+/)}function Ae(le,Se){le=Ie(le).map(be);var Ne=le.length;function Qe(){for(var ot=-1;++ot<Ne;)le[ot](this,Se)}function rt(){for(var ot=-1,zt=Se.apply(this,arguments);++ot<Ne;)le[ot](this,zt)}return typeof Se=="function"?rt:Qe}function be(le){var Se=Pe(le);return function(Ne,Qe){if(rt=Ne.classList)return Qe?rt.add(le):rt.remove(le);var rt=Ne.getAttribute("class")||"";Qe?(Se.lastIndex=0,Se.test(rt)||Ne.setAttribute("class",xe(rt+" "+le))):Ne.setAttribute("class",xe(rt.replace(Se," ")))}}$.style=function(le,Se,Ne){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Se="");for(Ne in le)this.each(_e(Ne,le[Ne],Se));return this}if(Qe<2){var rt=this.node();return t(rt).getComputedStyle(rt,null).getPropertyValue(le)}Ne=""}return this.each(_e(le,Se,Ne))};function _e(le,Se,Ne){function Qe(){this.style.removeProperty(le)}function rt(){this.style.setProperty(le,Se,Ne)}function ot(){var zt=Se.apply(this,arguments);zt==null?this.style.removeProperty(le):this.style.setProperty(le,zt,Ne)}return Se==null?Qe:typeof Se=="function"?ot:rt}$.property=function(le,Se){if(arguments.length<2){if(typeof le=="string")return this.node()[le];for(Se in le)this.each(Ve(Se,le[Se]));return this}return this.each(Ve(le,Se))};function Ve(le,Se){function Ne(){delete this[le]}function Qe(){this[le]=Se}function rt(){var ot=Se.apply(this,arguments);ot==null?delete this[le]:this[le]=ot}return Se==null?Ne:typeof Se=="function"?rt:Qe}$.text=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Se=le.apply(this,arguments);this.textContent=Se??""}:le==null?function(){this.textContent=""}:function(){this.textContent=le}):this.node().textContent},$.html=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Se=le.apply(this,arguments);this.innerHTML=Se??""}:le==null?function(){this.innerHTML=""}:function(){this.innerHTML=le}):this.node().innerHTML},$.append=function(le){return le=We(le),this.select(function(){return this.appendChild(le.apply(this,arguments))})};function We(le){function Se(){var Qe=this.ownerDocument,rt=this.namespaceURI;return rt===ue&&Qe.documentElement.namespaceURI===ue?Qe.createElement(le):Qe.createElementNS(rt,le)}function Ne(){return this.ownerDocument.createElementNS(le.space,le.local)}return typeof le=="function"?le:(le=a.ns.qualify(le)).local?Ne:Se}$.insert=function(le,Se){return le=We(le),Se=se(Se),this.select(function(){return this.insertBefore(le.apply(this,arguments),Se.apply(this,arguments)||null)})},$.remove=function(){return this.each(ze)};function ze(){var le=this.parentNode;le&&le.removeChild(this)}$.data=function(le,Se){var Ne=-1,Qe=this.length,rt,ot;if(!arguments.length){for(le=new Array(Qe=(rt=this[0]).length);++Ne<Qe;)(ot=rt[Ne])&&(le[Ne]=ot.__data__);return le}function zt(hr,kr){var Fr,nn=hr.length,hn=kr.length,Nr=Math.min(nn,hn),Kr=new Array(hn),tn=new Array(hn),dn=new Array(nn),bn,rn;if(Se){var Yn=new C,Jn=new Array(nn),aa;for(Fr=-1;++Fr<nn;)(bn=hr[Fr])&&(Yn.has(aa=Se.call(bn,bn.__data__,Fr))?dn[Fr]=bn:Yn.set(aa,bn),Jn[Fr]=aa);for(Fr=-1;++Fr<hn;)(bn=Yn.get(aa=Se.call(kr,rn=kr[Fr],Fr)))?bn!==!0&&(Kr[Fr]=bn,bn.__data__=rn):tn[Fr]=Ze(rn),Yn.set(aa,!0);for(Fr=-1;++Fr<nn;)Fr in Jn&&Yn.get(Jn[Fr])!==!0&&(dn[Fr]=hr[Fr])}else{for(Fr=-1;++Fr<Nr;)bn=hr[Fr],rn=kr[Fr],bn?(bn.__data__=rn,Kr[Fr]=bn):tn[Fr]=Ze(rn);for(;Fr<hn;++Fr)tn[Fr]=Ze(kr[Fr]);for(;Fr<nn;++Fr)dn[Fr]=hr[Fr]}tn.update=Kr,tn.parentNode=Kr.parentNode=dn.parentNode=hr.parentNode,mt.push(tn),Qt.push(Kr),cr.push(dn)}var mt=tt([]),Qt=Z([]),cr=Z([]);if(typeof le=="function")for(;++Ne<Qe;)zt(rt=this[Ne],le.call(rt,rt.parentNode.__data__,Ne));else for(;++Ne<Qe;)zt(rt=this[Ne],le);return Qt.enter=function(){return mt},Qt.exit=function(){return cr},Qt};function Ze(le){return{__data__:le}}$.datum=function(le){return arguments.length?this.property("__data__",le):this.property("__data__")},$.filter=function(le){var Se=[],Ne,Qe,rt;typeof le!="function"&&(le=ct(le));for(var ot=0,zt=this.length;ot<zt;ot++){Se.push(Ne=[]),Ne.parentNode=(Qe=this[ot]).parentNode;for(var mt=0,Qt=Qe.length;mt<Qt;mt++)(rt=Qe[mt])&&le.call(rt,rt.__data__,mt,ot)&&Ne.push(rt)}return Z(Se)};function ct(le){return function(){return J(this,le)}}$.order=function(){for(var le=-1,Se=this.length;++le<Se;)for(var Ne=this[le],Qe=Ne.length-1,rt=Ne[Qe],ot;--Qe>=0;)(ot=Ne[Qe])&&(rt&&rt!==ot.nextSibling&&rt.parentNode.insertBefore(ot,rt),rt=ot);return this},$.sort=function(le){le=lt.apply(this,arguments);for(var Se=-1,Ne=this.length;++Se<Ne;)this[Se].sort(le);return this.order()};function lt(le){return arguments.length||(le=n),function(Se,Ne){return Se&&Ne?le(Se.__data__,Ne.__data__):!Se-!Ne}}$.each=function(le){return at(this,function(Se,Ne,Qe){le.call(Se,Se.__data__,Ne,Qe)})};function at(le,Se){for(var Ne=0,Qe=le.length;Ne<Qe;Ne++)for(var rt=le[Ne],ot=0,zt=rt.length,mt;ot<zt;ot++)(mt=rt[ot])&&Se(mt,ot,Ne);return le}$.call=function(le){var Se=A(arguments);return le.apply(Se[0]=this,Se),this},$.empty=function(){return!this.node()},$.node=function(){for(var le=0,Se=this.length;le<Se;le++)for(var Ne=this[le],Qe=0,rt=Ne.length;Qe<rt;Qe++){var ot=Ne[Qe];if(ot)return ot}return null},$.size=function(){var le=0;return at(this,function(){++le}),le};function tt(le){return V(le,dt),le}var dt=[];a.selection.enter=tt,a.selection.enter.prototype=dt,dt.append=$.append,dt.empty=$.empty,dt.node=$.node,dt.call=$.call,dt.size=$.size,dt.select=function(le){for(var Se=[],Ne,Qe,rt,ot,zt,mt=-1,Qt=this.length;++mt<Qt;){rt=(ot=this[mt]).update,Se.push(Ne=[]),Ne.parentNode=ot.parentNode;for(var cr=-1,hr=ot.length;++cr<hr;)(zt=ot[cr])?(Ne.push(rt[cr]=Qe=le.call(ot.parentNode,zt.__data__,cr,mt)),Qe.__data__=zt.__data__):Ne.push(null)}return Z(Se)},dt.insert=function(le,Se){return arguments.length<2&&(Se=wt(this)),$.insert.call(this,le,Se)};function wt(le){var Se,Ne;return function(Qe,rt,ot){var zt=le[ot].update,mt=zt.length,Qt;for(ot!=Ne&&(Ne=ot,Se=0),rt>=Se&&(Se=rt+1);!(Qt=zt[Se])&&++Se<mt;);return Qt}}a.select=function(le){var Se;return typeof le=="string"?(Se=[ae(le,v)],Se.parentNode=v.documentElement):(Se=[le],Se.parentNode=g(le)),Z([Se])},a.selectAll=function(le){var Se;return typeof le=="string"?(Se=A(ie(le,v)),Se.parentNode=v.documentElement):(Se=A(le),Se.parentNode=null),Z([Se])},$.on=function(le,Se,Ne){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Se=!1);for(Ne in le)this.each(Mt(Ne,le[Ne],Se));return this}if(Qe<2)return(Qe=this.node()["__on"+le])&&Qe._;Ne=!1}return this.each(Mt(le,Se,Ne))};function Mt(le,Se,Ne){var Qe="__on"+le,rt=le.indexOf("."),ot=$e;rt>0&&(le=le.slice(0,rt));var zt=It.get(le);zt&&(le=zt,ot=ke);function mt(){var hr=this[Qe];hr&&(this.removeEventListener(le,hr,hr.$),delete this[Qe])}function Qt(){var hr=ot(Se,A(arguments));mt.call(this),this.addEventListener(le,this[Qe]=hr,hr.$=Ne),hr._=Se}function cr(){var hr=new RegExp("^__on([^.]+)"+a.requote(le)+"$"),kr;for(var Fr in this)if(kr=Fr.match(hr)){var nn=this[Fr];this.removeEventListener(kr[1],nn,nn.$),delete this[Fr]}}return rt?Se?Qt:mt:Se?K:cr}var It=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&It.forEach(function(le){"on"+le in v&&It.remove(le)});function $e(le,Se){return function(Ne){var Qe=a.event;a.event=Ne,Se[0]=this.__data__;try{le.apply(this,Se)}finally{a.event=Qe}}}function ke(le,Se){var Ne=$e(le,Se);return function(Qe){var rt=this,ot=Qe.relatedTarget;(!ot||ot!==rt&&!(ot.compareDocumentPosition(rt)&8))&&Ne.call(rt,Qe)}}var Fe,qe=0;function it(le){var Se=".dragsuppress-"+ ++qe,Ne="click"+Se,Qe=a.select(t(le)).on("touchmove"+Se,re).on("dragstart"+Se,re).on("selectstart"+Se,re);if(Fe==null&&(Fe="onselectstart"in le?!1:k(le.style,"userSelect")),Fe){var rt=g(le).style,ot=rt[Fe];rt[Fe]="none"}return function(zt){if(Qe.on(Se,null),Fe&&(rt[Fe]=ot),zt){var mt=function(){Qe.on(Ne,null)};Qe.on(Ne,function(){re(),mt()},!0),setTimeout(mt,0)}}}a.mouse=function(le){return Re(le,oe())};var Je=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Re(le,Se){Se.changedTouches&&(Se=Se.changedTouches[0]);var Ne=le.ownerSVGElement||le;if(Ne.createSVGPoint){var Qe=Ne.createSVGPoint();if(Je<0){var rt=t(le);if(rt.scrollX||rt.scrollY){Ne=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ot=Ne[0][0].getScreenCTM();Je=!(ot.f||ot.e),Ne.remove()}}return Je?(Qe.x=Se.pageX,Qe.y=Se.pageY):(Qe.x=Se.clientX,Qe.y=Se.clientY),Qe=Qe.matrixTransform(le.getScreenCTM().inverse()),[Qe.x,Qe.y]}var zt=le.getBoundingClientRect();return[Se.clientX-zt.left-le.clientLeft,Se.clientY-zt.top-le.clientTop]}a.touch=function(le,Se,Ne){if(arguments.length<3&&(Ne=Se,Se=oe().changedTouches),Se){for(var Qe=0,rt=Se.length,ot;Qe<rt;++Qe)if((ot=Se[Qe]).identifier===Ne)return Re(le,ot)}},a.behavior.drag=function(){var le=Y(rt,"drag","dragstart","dragend"),Se=null,Ne=ot(K,a.mouse,t,"mousemove","mouseup"),Qe=ot(Me,a.touch,O,"touchmove","touchend");function rt(){this.on("mousedown.drag",Ne).on("touchstart.drag",Qe)}function ot(zt,mt,Qt,cr,hr){return function(){var kr=this,Fr=a.event.target.correspondingElement||a.event.target,nn=kr.parentNode,hn=le.of(kr,arguments),Nr=0,Kr=zt(),tn=".drag"+(Kr==null?"":"-"+Kr),dn,bn=a.select(Qt(Fr)).on(cr+tn,Jn).on(hr+tn,aa),rn=it(Fr),Yn=mt(nn,Kr);Se?(dn=Se.apply(kr,arguments),dn=[dn.x-Yn[0],dn.y-Yn[1]]):dn=[0,0],hn({type:"dragstart"});function Jn(){var fa=mt(nn,Kr),Ea,Sa;fa&&(Ea=fa[0]-Yn[0],Sa=fa[1]-Yn[1],Nr|=Ea|Sa,Yn=fa,hn({type:"drag",x:fa[0]+dn[0],y:fa[1]+dn[1],dx:Ea,dy:Sa}))}function aa(){mt(nn,Kr)&&(bn.on(cr+tn,null).on(hr+tn,null),rn(Nr),hn({type:"dragend"}))}}}return rt.origin=function(zt){return arguments.length?(Se=zt,rt):Se},a.rebind(rt,le,"on")};function Me(){return a.event.changedTouches[0].identifier}a.touches=function(le,Se){return arguments.length<2&&(Se=oe().touches),Se?A(Se).map(function(Ne){var Qe=Re(le,Ne);return Qe.identifier=Ne.identifier,Qe}):[]};var fe=1e-6,ye=fe*fe,Le=Math.PI,Oe=2*Le,ht=Oe-fe,vt=Le/2,Lt=Le/180,Ot=180/Le;function Jt(le,Se,Ne){return(Se[0]-le[0])*(Ne[1]-le[1])-(Se[1]-le[1])*(Ne[0]-le[0])}function qt(le){return le>1?vt:le<-1?-vt:Math.asin(le)}function Vt(le){return((le=Math.exp(le))-1/le)/2}function vr(le){return((le=Math.exp(le))+1/le)/2}function gr(le){return((le=Math.exp(2*le))-1)/(le+1)}var Gr=Math.SQRT2,At=2,or=4;a.interpolateZoom=function(le,Se){var Ne=le[0],Qe=le[1],rt=le[2],ot=Se[0],zt=Se[1],mt=Se[2],Qt=ot-Ne,cr=zt-Qe,hr=Qt*Qt+cr*cr,kr,Fr;if(hr<ye)Fr=Math.log(mt/rt)/Gr,kr=function(dn){return[Ne+dn*Qt,Qe+dn*cr,rt*Math.exp(Gr*dn*Fr)]};else{var nn=Math.sqrt(hr),hn=(mt*mt-rt*rt+or*hr)/(2*rt*At*nn),Nr=(mt*mt-rt*rt-or*hr)/(2*mt*At*nn),Kr=Math.log(Math.sqrt(hn*hn+1)-hn),tn=Math.log(Math.sqrt(Nr*Nr+1)-Nr);Fr=(tn-Kr)/Gr,kr=function(dn){var bn=dn*Fr,rn=vr(Kr),Yn=rt/(At*nn)*(rn*gr(Gr*bn+Kr)-Vt(Kr));return[Ne+Yn*Qt,Qe+Yn*cr,rt*rn/vr(Gr*bn+Kr)]}}return kr.duration=Fr*1e3,kr},a.behavior.zoom=function(){var le={x:0,y:0,k:1},Se,Ne,Qe,rt=[960,500],ot=rr,zt=250,mt=0,Qt="mousedown.zoom",cr="mousemove.zoom",hr="mouseup.zoom",kr,Fr="touchstart.zoom",nn,hn=Y(bn,"zoomstart","zoom","zoomend"),Nr,Kr,tn,dn;Tr||(Tr="onwheel"in v?(Lr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Lr=function(){return a.event.wheelDelta},"mousewheel"):(Lr=function(){return-a.event.detail},"MozMousePixelScroll"));function bn(jn){jn.on(Qt,Wa).on(Tr+".zoom",yi).on("dblclick.zoom",Li).on(Fr,di)}bn.event=function(jn){jn.each(function(){var Ya=hn.of(this,arguments),Ha=le;zr?a.select(this).transition().each("start.zoom",function(){le=this.__chart__||{x:0,y:0,k:1},Sa(Ya)}).tween("zoom:zoom",function(){var ii=rt[0],Xi=rt[1],oo=Ne?Ne[0]:ii/2,vo=Ne?Ne[1]:Xi/2,Ui=a.interpolateZoom([(oo-le.x)/le.k,(vo-le.y)/le.k,ii/le.k],[(oo-Ha.x)/Ha.k,(vo-Ha.y)/Ha.k,ii/Ha.k]);return function(Ri){var Aa=Ui(Ri),Ra=ii/Aa[2];this.__chart__=le={x:oo-Aa[0]*Ra,y:vo-Aa[1]*Ra,k:Ra},Ja(Ya)}}).each("interrupt.zoom",function(){Ia(Ya)}).each("end.zoom",function(){Ia(Ya)}):(this.__chart__=le,Sa(Ya),Ja(Ya),Ia(Ya))})},bn.translate=function(jn){return arguments.length?(le={x:+jn[0],y:+jn[1],k:le.k},Ea(),bn):[le.x,le.y]},bn.scale=function(jn){return arguments.length?(le={x:le.x,y:le.y,k:null},Jn(+jn),Ea(),bn):le.k},bn.scaleExtent=function(jn){return arguments.length?(ot=jn==null?rr:[+jn[0],+jn[1]],bn):ot},bn.center=function(jn){return arguments.length?(Qe=jn&&[+jn[0],+jn[1]],bn):Qe},bn.size=function(jn){return arguments.length?(rt=jn&&[+jn[0],+jn[1]],bn):rt},bn.duration=function(jn){return arguments.length?(zt=+jn,bn):zt},bn.x=function(jn){return arguments.length?(Kr=jn,Nr=jn.copy(),le={x:0,y:0,k:1},bn):Kr},bn.y=function(jn){return arguments.length?(dn=jn,tn=jn.copy(),le={x:0,y:0,k:1},bn):dn};function rn(jn){return[(jn[0]-le.x)/le.k,(jn[1]-le.y)/le.k]}function Yn(jn){return[jn[0]*le.k+le.x,jn[1]*le.k+le.y]}function Jn(jn){le.k=Math.max(ot[0],Math.min(ot[1],jn))}function aa(jn,Ya){Ya=Yn(Ya),le.x+=jn[0]-Ya[0],le.y+=jn[1]-Ya[1]}function fa(jn,Ya,Ha,ii){jn.__chart__={x:le.x,y:le.y,k:le.k},Jn(Math.pow(2,ii)),aa(Ne=Ya,Ha),jn=a.select(jn),zt>0&&(jn=jn.transition().duration(zt)),jn.call(bn.event)}function Ea(){Kr&&Kr.domain(Nr.range().map(function(jn){return(jn-le.x)/le.k}).map(Nr.invert)),dn&&dn.domain(tn.range().map(function(jn){return(jn-le.y)/le.k}).map(tn.invert))}function Sa(jn){mt++||jn({type:"zoomstart"})}function Ja(jn){Ea(),jn({type:"zoom",scale:le.k,translate:[le.x,le.y]})}function Ia(jn){--mt||(jn({type:"zoomend"}),Ne=null)}function Wa(){var jn=this,Ya=hn.of(jn,arguments),Ha=0,ii=a.select(t(jn)).on(cr,vo).on(hr,Ui),Xi=rn(a.mouse(jn)),oo=it(jn);Yt.call(jn),Sa(Ya);function vo(){Ha=1,aa(a.mouse(jn),Xi),Ja(Ya)}function Ui(){ii.on(cr,null).on(hr,null),oo(Ha),Ia(Ya)}}function di(){var jn=this,Ya=hn.of(jn,arguments),Ha={},ii=0,Xi,oo=".zoom-"+a.event.changedTouches[0].identifier,vo="touchmove"+oo,Ui="touchend"+oo,Ri=[],Aa=a.select(jn),Ra=it(jn);fo(),Sa(Ya),Aa.on(Qt,null).on(Fr,fo);function Hi(){var Vo=a.touches(jn);return Xi=le.k,Vo.forEach(function(Ki){Ki.identifier in Ha&&(Ha[Ki.identifier]=rn(Ki))}),Vo}function fo(){var Vo=a.event.target;a.select(Vo).on(vo,ns).on(Ui,Eo),Ri.push(Vo);for(var Ki=a.event.changedTouches,ls=0,zi=Ki.length;ls<zi;++ls)Ha[Ki[ls].identifier]=null;var Us=Hi(),us=Date.now();if(Us.length===1){if(us-nn<500){var ui=Us[0];fa(jn,ui,Ha[ui.identifier],Math.floor(Math.log(le.k)/Math.LN2)+1),re()}nn=us}else if(Us.length>1){var ui=Us[0],Vi=Us[1],tc=ui[0]-Vi[0],Pf=ui[1]-Vi[1];ii=tc*tc+Pf*Pf}}function ns(){var Vo=a.touches(jn),Ki,ls,zi,Us;Yt.call(jn);for(var us=0,ui=Vo.length;us<ui;++us,Us=null)if(zi=Vo[us],Us=Ha[zi.identifier]){if(ls)break;Ki=zi,ls=Us}if(Us){var Vi=(Vi=zi[0]-Ki[0])*Vi+(Vi=zi[1]-Ki[1])*Vi,tc=ii&&Math.sqrt(Vi/ii);Ki=[(Ki[0]+zi[0])/2,(Ki[1]+zi[1])/2],ls=[(ls[0]+Us[0])/2,(ls[1]+Us[1])/2],Jn(tc*Xi)}nn=null,aa(Ki,ls),Ja(Ya)}function Eo(){if(a.event.touches.length){for(var Vo=a.event.changedTouches,Ki=0,ls=Vo.length;Ki<ls;++Ki)delete Ha[Vo[Ki].identifier];for(var zi in Ha)return void Hi()}a.selectAll(Ri).on(oo,null),Aa.on(Qt,Wa).on(Fr,di),Ra(),Ia(Ya)}}function yi(){var jn=hn.of(this,arguments);kr?clearTimeout(kr):(Yt.call(this),Se=rn(Ne=Qe||a.mouse(this)),Sa(jn)),kr=setTimeout(function(){kr=null,Ia(jn)},50),re(),Jn(Math.pow(2,Lr()*.002)*le.k),aa(Ne,Se),Ja(jn)}function Li(){var jn=a.mouse(this),Ya=Math.log(le.k)/Math.LN2;fa(this,jn,rn(jn),a.event.shiftKey?Math.ceil(Ya)-1:Math.floor(Ya)+1)}return a.rebind(bn,hn,"on")};var rr=[0,1/0],Lr,Tr;a.color=pt;function pt(){}pt.prototype.toString=function(){return this.rgb()+""},a.hsl=st;function st(le,Se,Ne){return this instanceof st?(this.h=+le,this.s=+Se,void(this.l=+Ne)):arguments.length<2?le instanceof st?new st(le.h,le.s,le.l):Br(""+le,yr,st):new st(le,Se,Ne)}var yt=st.prototype=new pt;yt.brighter=function(le){return le=Math.pow(.7,arguments.length?le:1),new st(this.h,this.s,this.l/le)},yt.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new st(this.h,this.s,le*this.l)},yt.rgb=function(){return Pt(this.h,this.s,this.l)};function Pt(le,Se,Ne){var Qe,rt;le=isNaN(le)?0:(le%=360)<0?le+360:le,Se=isNaN(Se)||Se<0?0:Se>1?1:Se,Ne=Ne<0?0:Ne>1?1:Ne,rt=Ne<=.5?Ne*(1+Se):Ne+Se-Ne*Se,Qe=2*Ne-rt;function ot(mt){return mt>360?mt-=360:mt<0&&(mt+=360),mt<60?Qe+(rt-Qe)*mt/60:mt<180?rt:mt<240?Qe+(rt-Qe)*(240-mt)/60:Qe}function zt(mt){return Math.round(ot(mt)*255)}return new Rr(zt(le+120),zt(le),zt(le-120))}a.hcl=Dt;function Dt(le,Se,Ne){return this instanceof Dt?(this.h=+le,this.c=+Se,void(this.l=+Ne)):arguments.length<2?le instanceof Dt?new Dt(le.h,le.c,le.l):le instanceof $t?Kt(le.l,le.a,le.b):Kt((le=pn((le=a.rgb(le)).r,le.g,le.b)).l,le.a,le.b):new Dt(le,Se,Ne)}var Nt=Dt.prototype=new pt;Nt.brighter=function(le){return new Dt(this.h,this.c,Math.min(100,this.l+lr*(arguments.length?le:1)))},Nt.darker=function(le){return new Dt(this.h,this.c,Math.max(0,this.l-lr*(arguments.length?le:1)))},Nt.rgb=function(){return Zt(this.h,this.c,this.l).rgb()};function Zt(le,Se,Ne){return isNaN(le)&&(le=0),isNaN(Se)&&(Se=0),new $t(Ne,Math.cos(le*=Lt)*Se,Math.sin(le)*Se)}a.lab=$t;function $t(le,Se,Ne){return this instanceof $t?(this.l=+le,this.a=+Se,void(this.b=+Ne)):arguments.length<2?le instanceof $t?new $t(le.l,le.a,le.b):le instanceof Dt?Zt(le.h,le.c,le.l):pn((le=Rr(le)).r,le.g,le.b):new $t(le,Se,Ne)}var lr=18,ir=.95047,He=1,Ge=1.08883,Ct=$t.prototype=new pt;Ct.brighter=function(le){return new $t(Math.min(100,this.l+lr*(arguments.length?le:1)),this.a,this.b)},Ct.darker=function(le){return new $t(Math.max(0,this.l-lr*(arguments.length?le:1)),this.a,this.b)},Ct.rgb=function(){return Ut(this.l,this.a,this.b)};function Ut(le,Se,Ne){var Qe=(le+16)/116,rt=Qe+Se/500,ot=Qe-Ne/200;return rt=Xt(rt)*ir,Qe=Xt(Qe)*He,ot=Xt(ot)*Ge,new Rr(Ar(3.2404542*rt-1.5371385*Qe-.4985314*ot),Ar(-.969266*rt+1.8760108*Qe+.041556*ot),Ar(.0556434*rt-.2040259*Qe+1.0572252*ot))}function Kt(le,Se,Ne){return le>0?new Dt(Math.atan2(Ne,Se)*Ot,Math.sqrt(Se*Se+Ne*Ne),le):new Dt(NaN,NaN,le)}function Xt(le){return le>.206893034?le*le*le:(le-.13793103448275862)/7.787037}function ur(le){return le>.008856?Math.pow(le,.3333333333333333):7.787037*le+.13793103448275862}function Ar(le){return Math.round(255*(le<=.00304?12.92*le:1.055*Math.pow(le,.4166666666666667)-.055))}a.rgb=Rr;function Rr(le,Se,Ne){return this instanceof Rr?(this.r=~~le,this.g=~~Se,void(this.b=~~Ne)):arguments.length<2?le instanceof Rr?new Rr(le.r,le.g,le.b):Br(""+le,Rr,Pt):new Rr(le,Se,Ne)}function wr(le){return new Rr(le>>16,le>>8&255,le&255)}function er(le){return wr(le)+""}var _r=Rr.prototype=new pt;_r.brighter=function(le){le=Math.pow(.7,arguments.length?le:1);var Se=this.r,Ne=this.g,Qe=this.b,rt=30;return!Se&&!Ne&&!Qe?new Rr(rt,rt,rt):(Se&&Se<rt&&(Se=rt),Ne&&Ne<rt&&(Ne=rt),Qe&&Qe<rt&&(Qe=rt),new Rr(Math.min(255,Se/le),Math.min(255,Ne/le),Math.min(255,Qe/le)))},_r.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new Rr(le*this.r,le*this.g,le*this.b)},_r.hsl=function(){return yr(this.r,this.g,this.b)},_r.toString=function(){return"#"+Vr(this.r)+Vr(this.g)+Vr(this.b)};function Vr(le){return le<16?"0"+Math.max(0,le).toString(16):Math.min(255,le).toString(16)}function Br(le,Se,Ne){var Qe=0,rt=0,ot=0,zt,mt,Qt;if(zt=/([a-z]+)\((.*)\)/.exec(le=le.toLowerCase()),zt)switch(mt=zt[2].split(","),zt[1]){case"hsl":return Ne(parseFloat(mt[0]),parseFloat(mt[1])/100,parseFloat(mt[2])/100);case"rgb":return Se(Zr(mt[0]),Zr(mt[1]),Zr(mt[2]))}return(Qt=Nn.get(le))?Se(Qt.r,Qt.g,Qt.b):(le!=null&&le.charAt(0)==="#"&&!isNaN(Qt=parseInt(le.slice(1),16))&&(le.length===4?(Qe=(Qt&3840)>>4,Qe=Qe>>4|Qe,rt=Qt&240,rt=rt>>4|rt,ot=Qt&15,ot=ot<<4|ot):le.length===7&&(Qe=(Qt&16711680)>>16,rt=(Qt&65280)>>8,ot=Qt&255)),Se(Qe,rt,ot))}function yr(le,Se,Ne){var Qe=Math.min(le/=255,Se/=255,Ne/=255),rt=Math.max(le,Se,Ne),ot=rt-Qe,zt,mt,Qt=(rt+Qe)/2;return ot?(mt=Qt<.5?ot/(rt+Qe):ot/(2-rt-Qe),le==rt?zt=(Se-Ne)/ot+(Se<Ne?6:0):Se==rt?zt=(Ne-le)/ot+2:zt=(le-Se)/ot+4,zt*=60):(zt=NaN,mt=Qt>0&&Qt<1?0:zt),new st(zt,mt,Qt)}function pn(le,Se,Ne){le=an(le),Se=an(Se),Ne=an(Ne);var Qe=ur((.4124564*le+.3575761*Se+.1804375*Ne)/ir),rt=ur((.2126729*le+.7151522*Se+.072175*Ne)/He),ot=ur((.0193339*le+.119192*Se+.9503041*Ne)/Ge);return $t(116*rt-16,500*(Qe-rt),200*(rt-ot))}function an(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function Zr(le){var Se=parseFloat(le);return le.charAt(le.length-1)==="%"?Math.round(Se*2.55):Se}var Nn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Nn.forEach(function(le,Se){Nn.set(le,wr(Se))});function fn(le){return typeof le=="function"?le:function(){return le}}a.functor=fn,a.xhr=xn(O);function xn(le){return function(Se,Ne,Qe){return arguments.length===2&&typeof Ne=="function"&&(Qe=Ne,Ne=null),On(Se,Ne,le,Qe)}}function On(le,Se,Ne,Qe){var rt={},ot=a.dispatch("beforesend","progress","load","error"),zt={},mt=new XMLHttpRequest,Qt=null;self.XDomainRequest&&!("withCredentials"in mt)&&/^(http(s)?:)?\/\//.test(le)&&(mt=new XDomainRequest),"onload"in mt?mt.onload=mt.onerror=cr:mt.onreadystatechange=function(){mt.readyState>3&&cr()};function cr(){var hr=mt.status,kr;if(!hr&&Ir(mt)||hr>=200&&hr<300||hr===304){try{kr=Ne.call(rt,mt)}catch(Fr){ot.error.call(rt,Fr);return}ot.load.call(rt,kr)}else ot.error.call(rt,mt)}return mt.onprogress=function(hr){var kr=a.event;a.event=hr;try{ot.progress.call(rt,mt)}finally{a.event=kr}},rt.header=function(hr,kr){return hr=(hr+"").toLowerCase(),arguments.length<2?zt[hr]:(kr==null?delete zt[hr]:zt[hr]=kr+"",rt)},rt.mimeType=function(hr){return arguments.length?(Se=hr==null?null:hr+"",rt):Se},rt.responseType=function(hr){return arguments.length?(Qt=hr,rt):Qt},rt.response=function(hr){return Ne=hr,rt},["get","post"].forEach(function(hr){rt[hr]=function(){return rt.send.apply(rt,[hr].concat(A(arguments)))}}),rt.send=function(hr,kr,Fr){if(arguments.length===2&&typeof kr=="function"&&(Fr=kr,kr=null),mt.open(hr,le,!0),Se!=null&&!("accept"in zt)&&(zt.accept=Se+",*/*"),mt.setRequestHeader)for(var nn in zt)mt.setRequestHeader(nn,zt[nn]);return Se!=null&&mt.overrideMimeType&&mt.overrideMimeType(Se),Qt!=null&&(mt.responseType=Qt),Fr!=null&&rt.on("error",Fr).on("load",function(hn){Fr(null,hn)}),ot.beforesend.call(rt,mt),mt.send(kr??null),rt},rt.abort=function(){return mt.abort(),rt},a.rebind(rt,ot,"on"),Qe==null?rt:rt.get(br(Qe))}function br(le){return le.length===1?function(Se,Ne){le(Se==null?Ne:null)}:le}function Ir(le){var Se=le.responseType;return Se&&Se!=="text"?le.response:le.responseText}a.dsv=function(le,Se){var Ne=new RegExp('["'+le+`
]`),Qe=le.charCodeAt(0);function rt(cr,hr,kr){arguments.length<3&&(kr=hr,hr=null);var Fr=On(cr,Se,hr==null?ot:zt(hr),kr);return Fr.row=function(nn){return arguments.length?Fr.response((hr=nn)==null?ot:zt(nn)):hr},Fr}function ot(cr){return rt.parse(cr.responseText)}function zt(cr){return function(hr){return rt.parse(hr.responseText,cr)}}rt.parse=function(cr,hr){var kr;return rt.parseRows(cr,function(Fr,nn){if(kr)return kr(Fr,nn-1);var hn=function(Nr){for(var Kr={},tn=Fr.length,dn=0;dn<tn;++dn)Kr[Fr[dn]]=Nr[dn];return Kr};kr=hr?function(Nr,Kr){return hr(hn(Nr),Kr)}:hn})},rt.parseRows=function(cr,hr){var kr={},Fr={},nn=[],hn=cr.length,Nr=0,Kr=0,tn,dn;function bn(){if(Nr>=hn)return Fr;if(dn)return dn=!1,kr;var Yn=Nr;if(cr.charCodeAt(Yn)===34){for(var Jn=Yn;Jn++<hn;)if(cr.charCodeAt(Jn)===34){if(cr.charCodeAt(Jn+1)!==34)break;++Jn}Nr=Jn+2;var aa=cr.charCodeAt(Jn+1);return aa===13?(dn=!0,cr.charCodeAt(Jn+2)===10&&++Nr):aa===10&&(dn=!0),cr.slice(Yn+1,Jn).replace(/""/g,'"')}for(;Nr<hn;){var aa=cr.charCodeAt(Nr++),fa=1;if(aa===10)dn=!0;else if(aa===13)dn=!0,cr.charCodeAt(Nr)===10&&(++Nr,++fa);else if(aa!==Qe)continue;return cr.slice(Yn,Nr-fa)}return cr.slice(Yn)}for(;(tn=bn())!==Fr;){for(var rn=[];tn!==kr&&tn!==Fr;)rn.push(tn),tn=bn();hr&&(rn=hr(rn,Kr++))==null||nn.push(rn)}return nn},rt.format=function(cr){if(Array.isArray(cr[0]))return rt.formatRows(cr);var hr=new I,kr=[];return cr.forEach(function(Fr){for(var nn in Fr)hr.has(nn)||kr.push(hr.add(nn))}),[kr.map(Qt).join(le)].concat(cr.map(function(Fr){return kr.map(function(nn){return Qt(Fr[nn])}).join(le)})).join(`
`)},rt.formatRows=function(cr){return cr.map(mt).join(`
`)};function mt(cr){return cr.map(Qt).join(le)}function Qt(cr){return Ne.test(cr)?'"'+cr.replace(/\"/g,'""')+'"':cr}return rt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var jr,Wr,An,wn,Tn=this[k(this,"requestAnimationFrame")]||function(le){setTimeout(le,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(le,Se,Ne){var Qe=arguments.length;Qe<2&&(Se=0),Qe<3&&(Ne=Date.now());var rt=Ne+Se,ot={c:le,t:rt,n:null};return Wr?Wr.n=ot:jr=ot,Wr=ot,An||(wn=clearTimeout(wn),An=1,Tn(Gn)),ot}function Gn(){var le=ma(),Se=pa()-le;Se>24?(isFinite(Se)&&(clearTimeout(wn),wn=setTimeout(Gn,Se)),An=0):(An=1,Tn(Gn))}a.timer.flush=function(){ma(),pa()};function ma(){for(var le=Date.now(),Se=jr;Se;)le>=Se.t&&Se.c(le-Se.t)&&(Se.c=null),Se=Se.n;return le}function pa(){for(var le,Se=jr,Ne=1/0;Se;)Se.c?(Se.t<Ne&&(Ne=Se.t),Se=(le=Se).n):Se=le?le.n=Se.n:jr=Se.n;return Wr=le,Ne}a.round=function(le,Se){return Se?Math.round(le*(Se=Math.pow(10,Se)))/Se:Math.round(le)},a.geom={};function ua(le){return le[0]}function xa(le){return le[1]}a.geom.hull=function(le){var Se=ua,Ne=xa;if(arguments.length)return Qe(le);function Qe(rt){if(rt.length<3)return[];var ot=fn(Se),zt=fn(Ne),mt,Qt=rt.length,cr=[],hr=[];for(mt=0;mt<Qt;mt++)cr.push([+ot.call(this,rt[mt],mt),+zt.call(this,rt[mt],mt),mt]);for(cr.sort(Or),mt=0;mt<Qt;mt++)hr.push([cr[mt][0],-cr[mt][1]]);var kr=ga(cr),Fr=ga(hr),nn=Fr[0]===kr[0],hn=Fr[Fr.length-1]===kr[kr.length-1],Nr=[];for(mt=kr.length-1;mt>=0;--mt)Nr.push(rt[cr[kr[mt]][2]]);for(mt=+nn;mt<Fr.length-hn;++mt)Nr.push(rt[cr[Fr[mt]][2]]);return Nr}return Qe.x=function(rt){return arguments.length?(Se=rt,Qe):Se},Qe.y=function(rt){return arguments.length?(Ne=rt,Qe):Ne},Qe};function ga(le){for(var Se=le.length,Ne=[0,1],Qe=2,rt=2;rt<Se;rt++){for(;Qe>1&&Jt(le[Ne[Qe-2]],le[Ne[Qe-1]],le[rt])<=0;)--Qe;Ne[Qe++]=rt}return Ne.slice(0,Qe)}function Or(le,Se){return le[0]-Se[0]||le[1]-Se[1]}a.geom.polygon=function(le){return V(le,cn),le};var cn=a.geom.polygon.prototype=[];cn.area=function(){for(var le=-1,Se=this.length,Ne,Qe=this[Se-1],rt=0;++le<Se;)Ne=Qe,Qe=this[le],rt+=Ne[1]*Qe[0]-Ne[0]*Qe[1];return rt*.5},cn.centroid=function(le){var Se=-1,Ne=this.length,Qe=0,rt=0,ot,zt=this[Ne-1],mt;for(arguments.length||(le=-1/(6*this.area()));++Se<Ne;)ot=zt,zt=this[Se],mt=ot[0]*zt[1]-zt[0]*ot[1],Qe+=(ot[0]+zt[0])*mt,rt+=(ot[1]+zt[1])*mt;return[Qe*le,rt*le]},cn.clip=function(le){for(var Se,Ne=Wn(le),Qe=-1,rt=this.length-Wn(this),ot,zt,mt=this[rt-1],Qt,cr,hr;++Qe<rt;){for(Se=le.slice(),le.length=0,Qt=this[Qe],cr=Se[(zt=Se.length-Ne)-1],ot=-1;++ot<zt;)hr=Se[ot],vn(hr,mt,Qt)?(vn(cr,mt,Qt)||le.push(Cn(cr,hr,mt,Qt)),le.push(hr)):vn(cr,mt,Qt)&&le.push(Cn(cr,hr,mt,Qt)),cr=hr;Ne&&le.push(le[0]),mt=Qt}return le};function vn(le,Se,Ne){return(Ne[0]-Se[0])*(le[1]-Se[1])<(Ne[1]-Se[1])*(le[0]-Se[0])}function Cn(le,Se,Ne,Qe){var rt=le[0],ot=Ne[0],zt=Se[0]-rt,mt=Qe[0]-ot,Qt=le[1],cr=Ne[1],hr=Se[1]-Qt,kr=Qe[1]-cr,Fr=(mt*(Qt-cr)-kr*(rt-ot))/(kr*zt-mt*hr);return[rt+Fr*zt,Qt+Fr*hr]}function Wn(le){var Se=le[0],Ne=le[le.length-1];return!(Se[0]-Ne[0]||Se[1]-Ne[1])}var Fn,Hn,Xn,sa=[],ka,oi,ar=[];function me(){Di(this),this.edge=this.site=this.circle=null}function Ue(le){var Se=sa.pop()||new me;return Se.site=le,Se}function et(le){Yr(le),Xn.remove(le),sa.push(le),Di(le)}function ft(le){var Se=le.circle,Ne=Se.x,Qe=Se.cy,rt={x:Ne,y:Qe},ot=le.P,zt=le.N,mt=[le];et(le);for(var Qt=ot;Qt.circle&&d(Ne-Qt.circle.x)<fe&&d(Qe-Qt.circle.cy)<fe;)ot=Qt.P,mt.unshift(Qt),et(Qt),Qt=ot;mt.unshift(Qt),Yr(Qt);for(var cr=zt;cr.circle&&d(Ne-cr.circle.x)<fe&&d(Qe-cr.circle.cy)<fe;)zt=cr.N,mt.push(cr),et(cr),cr=zt;mt.push(cr),Yr(cr);var hr=mt.length,kr;for(kr=1;kr<hr;++kr)cr=mt[kr],Qt=mt[kr-1],ca(cr.edge,Qt.site,cr.site,rt);Qt=mt[0],cr=mt[hr-1],cr.edge=Qn(Qt.site,cr.site,null,rt),Qr(Qt),Qr(cr)}function kt(le){for(var Se=le.x,Ne=le.y,Qe,rt,ot,zt,mt=Xn._;mt;)if(ot=_t(mt,Ne)-Se,ot>fe)mt=mt.L;else if(zt=Se-Wt(mt,Ne),zt>fe){if(!mt.R){Qe=mt;break}mt=mt.R}else{ot>-fe?(Qe=mt.P,rt=mt):zt>-fe?(Qe=mt,rt=mt.N):Qe=rt=mt;break}var Qt=Ue(le);if(Xn.insert(Qe,Qt),!(!Qe&&!rt)){if(Qe===rt){Yr(Qe),rt=Ue(Qe.site),Xn.insert(Qt,rt),Qt.edge=rt.edge=Qn(Qe.site,Qt.site),Qr(Qe),Qr(rt);return}if(!rt){Qt.edge=Qn(Qe.site,Qt.site);return}Yr(Qe),Yr(rt);var cr=Qe.site,hr=cr.x,kr=cr.y,Fr=le.x-hr,nn=le.y-kr,hn=rt.site,Nr=hn.x-hr,Kr=hn.y-kr,tn=2*(Fr*Kr-nn*Nr),dn=Fr*Fr+nn*nn,bn=Nr*Nr+Kr*Kr,rn={x:(Kr*dn-nn*bn)/tn+hr,y:(Fr*bn-Nr*dn)/tn+kr};ca(rt.edge,cr,hn,rn),Qt.edge=Qn(cr,le,null,rn),rt.edge=Qn(le,hn,null,rn),Qr(Qe),Qr(rt)}}function _t(le,Se){var Ne=le.site,Qe=Ne.x,rt=Ne.y,ot=rt-Se;if(!ot)return Qe;var zt=le.P;if(!zt)return-1/0;Ne=zt.site;var mt=Ne.x,Qt=Ne.y,cr=Qt-Se;if(!cr)return mt;var hr=mt-Qe,kr=1/ot-1/cr,Fr=hr/cr;return kr?(-Fr+Math.sqrt(Fr*Fr-2*kr*(hr*hr/(-2*cr)-Qt+cr/2+rt-ot/2)))/kr+Qe:(Qe+mt)/2}function Wt(le,Se){var Ne=le.N;if(Ne)return _t(Ne,Se);var Qe=le.site;return Qe.y===Se?Qe.x:1/0}function Gt(le){this.site=le,this.edges=[]}Gt.prototype.prepare=function(){for(var le=this.edges,Se=le.length,Ne;Se--;)Ne=le[Se].edge,(!Ne.b||!Ne.a)&&le.splice(Se,1);return le.sort(nr),le.length};function Ht(le){for(var Se=le[0][0],Ne=le[1][0],Qe=le[0][1],rt=le[1][1],ot,zt,mt,Qt,cr=Hn,hr=cr.length,kr,Fr,nn,hn,Nr,Kr;hr--;)if(kr=cr[hr],!(!kr||!kr.prepare()))for(nn=kr.edges,hn=nn.length,Fr=0;Fr<hn;)Kr=nn[Fr].end(),mt=Kr.x,Qt=Kr.y,Nr=nn[++Fr%hn].start(),ot=Nr.x,zt=Nr.y,(d(mt-ot)>fe||d(Qt-zt)>fe)&&(nn.splice(Fr,0,new ei(qn(kr.site,Kr,d(mt-Se)<fe&&rt-Qt>fe?{x:Se,y:d(ot-Se)<fe?zt:rt}:d(Qt-rt)<fe&&Ne-mt>fe?{x:d(zt-rt)<fe?ot:Ne,y:rt}:d(mt-Ne)<fe&&Qt-Qe>fe?{x:Ne,y:d(ot-Ne)<fe?zt:Qe}:d(Qt-Qe)<fe&&mt-Se>fe?{x:d(zt-Qe)<fe?ot:Se,y:Qe}:null),kr.site,null)),++hn)}function nr(le,Se){return Se.angle-le.angle}function Dr(){Di(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qr(le){var Se=le.P,Ne=le.N;if(!(!Se||!Ne)){var Qe=Se.site,rt=le.site,ot=Ne.site;if(Qe!==ot){var zt=rt.x,mt=rt.y,Qt=Qe.x-zt,cr=Qe.y-mt,hr=ot.x-zt,Kr=ot.y-mt,kr=2*(Qt*Kr-cr*hr);if(!(kr>=-ye)){var Fr=Qt*Qt+cr*cr,nn=hr*hr+Kr*Kr,hn=(Kr*Fr-cr*nn)/kr,Nr=(Qt*nn-hr*Fr)/kr,Kr=Nr+mt,tn=ar.pop()||new Dr;tn.arc=le,tn.site=rt,tn.x=hn+zt,tn.y=Kr+Math.sqrt(hn*hn+Nr*Nr),tn.cy=Kr,le.circle=tn;for(var dn=null,bn=oi._;bn;)if(tn.y<bn.y||tn.y===bn.y&&tn.x<=bn.x)if(bn.L)bn=bn.L;else{dn=bn.P;break}else if(bn.R)bn=bn.R;else{dn=bn;break}oi.insert(dn,tn),dn||(ka=tn)}}}}function Yr(le){var Se=le.circle;Se&&(Se.P||(ka=Se.N),oi.remove(Se),ar.push(Se),Di(Se),le.circle=null)}function Ur(le,Se,Ne,Qe){return function(rt){var ot=rt.a,zt=rt.b,mt=ot.x,Qt=ot.y,cr=zt.x,hr=zt.y,kr=0,Fr=1,nn=cr-mt,hn=hr-Qt,Nr;if(Nr=le-mt,!(!nn&&Nr>0)){if(Nr/=nn,nn<0){if(Nr<kr)return;Nr<Fr&&(Fr=Nr)}else if(nn>0){if(Nr>Fr)return;Nr>kr&&(kr=Nr)}if(Nr=Ne-mt,!(!nn&&Nr<0)){if(Nr/=nn,nn<0){if(Nr>Fr)return;Nr>kr&&(kr=Nr)}else if(nn>0){if(Nr<kr)return;Nr<Fr&&(Fr=Nr)}if(Nr=Se-Qt,!(!hn&&Nr>0)){if(Nr/=hn,hn<0){if(Nr<kr)return;Nr<Fr&&(Fr=Nr)}else if(hn>0){if(Nr>Fr)return;Nr>kr&&(kr=Nr)}if(Nr=Qe-Qt,!(!hn&&Nr<0)){if(Nr/=hn,hn<0){if(Nr>Fr)return;Nr>kr&&(kr=Nr)}else if(hn>0){if(Nr<kr)return;Nr<Fr&&(Fr=Nr)}return kr>0&&(rt.a={x:mt+kr*nn,y:Qt+kr*hn}),Fr<1&&(rt.b={x:mt+Fr*nn,y:Qt+Fr*hn}),rt}}}}}}function Pn(le){for(var Se=Fn,Ne=Ur(le[0][0],le[0][1],le[1][0],le[1][1]),Qe=Se.length,rt;Qe--;)rt=Se[Qe],(!Un(rt,le)||!Ne(rt)||d(rt.a.x-rt.b.x)<fe&&d(rt.a.y-rt.b.y)<fe)&&(rt.a=rt.b=null,Se.splice(Qe,1))}function Un(le,Se){var Ne=le.b;if(Ne)return!0;var Qe=le.a,rt=Se[0][0],ot=Se[1][0],zt=Se[0][1],mt=Se[1][1],Qt=le.l,cr=le.r,hr=Qt.x,kr=Qt.y,Fr=cr.x,nn=cr.y,hn=(hr+Fr)/2,Nr=(kr+nn)/2,Kr,tn;if(nn===kr){if(hn<rt||hn>=ot)return;if(hr>Fr){if(!Qe)Qe={x:hn,y:zt};else if(Qe.y>=mt)return;Ne={x:hn,y:mt}}else{if(!Qe)Qe={x:hn,y:mt};else if(Qe.y<zt)return;Ne={x:hn,y:zt}}}else if(Kr=(hr-Fr)/(nn-kr),tn=Nr-Kr*hn,Kr<-1||Kr>1)if(hr>Fr){if(!Qe)Qe={x:(zt-tn)/Kr,y:zt};else if(Qe.y>=mt)return;Ne={x:(mt-tn)/Kr,y:mt}}else{if(!Qe)Qe={x:(mt-tn)/Kr,y:mt};else if(Qe.y<zt)return;Ne={x:(zt-tn)/Kr,y:zt}}else if(kr<nn){if(!Qe)Qe={x:rt,y:Kr*rt+tn};else if(Qe.x>=ot)return;Ne={x:ot,y:Kr*ot+tn}}else{if(!Qe)Qe={x:ot,y:Kr*ot+tn};else if(Qe.x<rt)return;Ne={x:rt,y:Kr*rt+tn}}return le.a=Qe,le.b=Ne,!0}function kn(le,Se){this.l=le,this.r=Se,this.a=this.b=null}function Qn(le,Se,Ne,Qe){var rt=new kn(le,Se);return Fn.push(rt),Ne&&ca(rt,le,Se,Ne),Qe&&ca(rt,Se,le,Qe),Hn[le.i].edges.push(new ei(rt,le,Se)),Hn[Se.i].edges.push(new ei(rt,Se,le)),rt}function qn(le,Se,Ne){var Qe=new kn(le,null);return Qe.a=Se,Qe.b=Ne,Fn.push(Qe),Qe}function ca(le,Se,Ne,Qe){!le.a&&!le.b?(le.a=Qe,le.l=Se,le.r=Ne):le.l===Ne?le.b=Qe:le.a=Qe}function ei(le,Se,Ne){var Qe=le.a,rt=le.b;this.edge=le,this.site=Se,this.angle=Ne?Math.atan2(Ne.y-Se.y,Ne.x-Se.x):le.l===Se?Math.atan2(rt.x-Qe.x,Qe.y-rt.y):Math.atan2(Qe.x-rt.x,rt.y-Qe.y)}ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Na(){this._=null}function Di(le){le.U=le.C=le.L=le.R=le.P=le.N=null}Na.prototype={insert:function(le,Se){var Ne,Qe,rt;if(le){if(Se.P=le,Se.N=le.N,le.N&&(le.N.P=Se),le.N=Se,le.R){for(le=le.R;le.L;)le=le.L;le.L=Se}else le.R=Se;Ne=le}else this._?(le=Ks(this._),Se.P=null,Se.N=le,le.P=le.L=Se,Ne=le):(Se.P=Se.N=null,this._=Se,Ne=null);for(Se.L=Se.R=null,Se.U=Ne,Se.C=!0,le=Se;Ne&&Ne.C;)Qe=Ne.U,Ne===Qe.L?(rt=Qe.R,rt&&rt.C?(Ne.C=rt.C=!1,Qe.C=!0,le=Qe):(le===Ne.R&&(ri(this,Ne),le=Ne,Ne=le.U),Ne.C=!1,Qe.C=!0,vi(this,Qe))):(rt=Qe.L,rt&&rt.C?(Ne.C=rt.C=!1,Qe.C=!0,le=Qe):(le===Ne.L&&(vi(this,Ne),le=Ne,Ne=le.U),Ne.C=!1,Qe.C=!0,ri(this,Qe))),Ne=le.U;this._.C=!1},remove:function(le){le.N&&(le.N.P=le.P),le.P&&(le.P.N=le.N),le.N=le.P=null;var Se=le.U,Ne,Qe=le.L,rt=le.R,ot,zt;if(Qe?rt?ot=Ks(rt):ot=Qe:ot=rt,Se?Se.L===le?Se.L=ot:Se.R=ot:this._=ot,Qe&&rt?(zt=ot.C,ot.C=le.C,ot.L=Qe,Qe.U=ot,ot!==rt?(Se=ot.U,ot.U=le.U,le=ot.R,Se.L=le,ot.R=rt,rt.U=ot):(ot.U=Se,Se=ot,le=ot.R)):(zt=le.C,le=ot),le&&(le.U=Se),!zt){if(le&&le.C){le.C=!1;return}do{if(le===this._)break;if(le===Se.L){if(Ne=Se.R,Ne.C&&(Ne.C=!1,Se.C=!0,ri(this,Se),Ne=Se.R),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.R||!Ne.R.C)&&(Ne.L.C=!1,Ne.C=!0,vi(this,Ne),Ne=Se.R),Ne.C=Se.C,Se.C=Ne.R.C=!1,ri(this,Se),le=this._;break}}else if(Ne=Se.L,Ne.C&&(Ne.C=!1,Se.C=!0,vi(this,Se),Ne=Se.L),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.L||!Ne.L.C)&&(Ne.R.C=!1,Ne.C=!0,ri(this,Ne),Ne=Se.L),Ne.C=Se.C,Se.C=Ne.L.C=!1,vi(this,Se),le=this._;break}Ne.C=!0,le=Se,Se=Se.U}while(!le.C);le&&(le.C=!1)}}};function ri(le,Se){var Ne=Se,Qe=Se.R,rt=Ne.U;rt?rt.L===Ne?rt.L=Qe:rt.R=Qe:le._=Qe,Qe.U=rt,Ne.U=Qe,Ne.R=Qe.L,Ne.R&&(Ne.R.U=Ne),Qe.L=Ne}function vi(le,Se){var Ne=Se,Qe=Se.L,rt=Ne.U;rt?rt.L===Ne?rt.L=Qe:rt.R=Qe:le._=Qe,Qe.U=rt,Ne.U=Qe,Ne.L=Qe.R,Ne.L&&(Ne.L.U=Ne),Qe.R=Ne}function Ks(le){for(;le.L;)le=le.L;return le}function si(le,Se){var Ne=le.sort(mo).pop(),Qe,rt,ot;for(Fn=[],Hn=new Array(le.length),Xn=new Na,oi=new Na;;)if(ot=ka,Ne&&(!ot||Ne.y<ot.y||Ne.y===ot.y&&Ne.x<ot.x))(Ne.x!==Qe||Ne.y!==rt)&&(Hn[Ne.i]=new Gt(Ne),kt(Ne),Qe=Ne.x,rt=Ne.y),Ne=le.pop();else if(ot)ft(ot.arc);else break;Se&&(Pn(Se),Ht(Se));var zt={cells:Hn,edges:Fn};return Xn=oi=Fn=Hn=null,zt}function mo(le,Se){return Se.y-le.y||Se.x-le.x}a.geom.voronoi=function(le){var Se=ua,Ne=xa,Qe=Se,rt=Ne,ot=Zo;if(le)return zt(le);function zt(Qt){var cr=new Array(Qt.length),hr=ot[0][0],kr=ot[0][1],Fr=ot[1][0],nn=ot[1][1];return si(mt(Qt),ot).cells.forEach(function(hn,Nr){var Kr=hn.edges,tn=hn.site,dn=cr[Nr]=Kr.length?Kr.map(function(bn){var rn=bn.start();return[rn.x,rn.y]}):tn.x>=hr&&tn.x<=Fr&&tn.y>=kr&&tn.y<=nn?[[hr,nn],[Fr,nn],[Fr,kr],[hr,kr]]:[];dn.point=Qt[Nr]}),cr}function mt(Qt){return Qt.map(function(cr,hr){return{x:Math.round(Qe(cr,hr)/fe)*fe,y:Math.round(rt(cr,hr)/fe)*fe,i:hr}})}return zt.links=function(Qt){return si(mt(Qt)).edges.filter(function(cr){return cr.l&&cr.r}).map(function(cr){return{source:Qt[cr.l.i],target:Qt[cr.r.i]}})},zt.triangles=function(Qt){var cr=[];return si(mt(Qt)).cells.forEach(function(hr,kr){for(var Fr=hr.site,nn=hr.edges.sort(nr),hn=-1,Nr=nn.length,Kr,tn=nn[Nr-1].edge,dn=tn.l===Fr?tn.r:tn.l;++hn<Nr;)Kr=dn,tn=nn[hn].edge,dn=tn.l===Fr?tn.r:tn.l,kr<Kr.i&&kr<dn.i&&Zi(Fr,Kr,dn)<0&&cr.push([Qt[kr],Qt[Kr.i],Qt[dn.i]])}),cr},zt.x=function(Qt){return arguments.length?(Qe=fn(Se=Qt),zt):Se},zt.y=function(Qt){return arguments.length?(rt=fn(Ne=Qt),zt):Ne},zt.clipExtent=function(Qt){return arguments.length?(ot=Qt??Zo,zt):ot===Zo?null:ot},zt.size=function(Qt){return arguments.length?zt.clipExtent(Qt&&[[0,0],Qt]):ot===Zo?null:ot&&ot[1]},zt};var Zo=[[-1e6,-1e6],[1e6,1e6]];function Zi(le,Se,Ne){return(le.x-Ne.x)*(Se.y-le.y)-(le.x-Se.x)*(Ne.y-le.y)}a.geom.delaunay=function(le){return a.geom.voronoi().triangles(le)},a.geom.quadtree=function(le,Se,Ne,Qe,rt){var ot=ua,zt=xa,mt;if(mt=arguments.length)return ot=_i,zt=ps,mt===3&&(rt=Ne,Qe=Se,Ne=Se=0),Qt(le);function Qt(cr){var hr,kr=fn(ot),Fr=fn(zt),nn,hn,Nr,Kr,tn,dn,bn,rn;if(Se!=null)tn=Se,dn=Ne,bn=Qe,rn=rt;else if(bn=rn=-(tn=dn=1/0),nn=[],hn=[],Kr=cr.length,mt)for(Nr=0;Nr<Kr;++Nr)hr=cr[Nr],hr.x<tn&&(tn=hr.x),hr.y<dn&&(dn=hr.y),hr.x>bn&&(bn=hr.x),hr.y>rn&&(rn=hr.y),nn.push(hr.x),hn.push(hr.y);else for(Nr=0;Nr<Kr;++Nr){var Yn=+kr(hr=cr[Nr],Nr),Jn=+Fr(hr,Nr);Yn<tn&&(tn=Yn),Jn<dn&&(dn=Jn),Yn>bn&&(bn=Yn),Jn>rn&&(rn=Jn),nn.push(Yn),hn.push(Jn)}var aa=bn-tn,fa=rn-dn;aa>fa?rn=dn+aa:bn=tn+fa;function Ea(Ia,Wa,di,yi,Li,jn,Ya,Ha){if(!(isNaN(di)||isNaN(yi)))if(Ia.leaf){var ii=Ia.x,Xi=Ia.y;if(ii!=null)if(d(ii-di)+d(Xi-yi)<.01)Sa(Ia,Wa,di,yi,Li,jn,Ya,Ha);else{var oo=Ia.point;Ia.x=Ia.y=Ia.point=null,Sa(Ia,oo,ii,Xi,Li,jn,Ya,Ha),Sa(Ia,Wa,di,yi,Li,jn,Ya,Ha)}else Ia.x=di,Ia.y=yi,Ia.point=Wa}else Sa(Ia,Wa,di,yi,Li,jn,Ya,Ha)}function Sa(Ia,Wa,di,yi,Li,jn,Ya,Ha){var ii=(Li+Ya)*.5,Xi=(jn+Ha)*.5,oo=di>=ii,vo=yi>=Xi,Ui=vo<<1|oo;Ia.leaf=!1,Ia=Ia.nodes[Ui]||(Ia.nodes[Ui]=So()),oo?Li=ii:Ya=ii,vo?jn=Xi:Ha=Xi,Ea(Ia,Wa,di,yi,Li,jn,Ya,Ha)}var Ja=So();if(Ja.add=function(Ia){Ea(Ja,Ia,+kr(Ia,++Nr),+Fr(Ia,Nr),tn,dn,bn,rn)},Ja.visit=function(Ia){Si(Ia,Ja,tn,dn,bn,rn)},Ja.find=function(Ia){return sl(Ja,Ia[0],Ia[1],tn,dn,bn,rn)},Nr=-1,Se==null){for(;++Nr<Kr;)Ea(Ja,cr[Nr],nn[Nr],hn[Nr],tn,dn,bn,rn);--Nr}else cr.forEach(Ja.add);return nn=hn=cr=hr=null,Ja}return Qt.x=function(cr){return arguments.length?(ot=cr,Qt):ot},Qt.y=function(cr){return arguments.length?(zt=cr,Qt):zt},Qt.extent=function(cr){return arguments.length?(cr==null?Se=Ne=Qe=rt=null:(Se=+cr[0][0],Ne=+cr[0][1],Qe=+cr[1][0],rt=+cr[1][1]),Qt):Se==null?null:[[Se,Ne],[Qe,rt]]},Qt.size=function(cr){return arguments.length?(cr==null?Se=Ne=Qe=rt=null:(Se=Ne=0,Qe=+cr[0],rt=+cr[1]),Qt):Se==null?null:[Qe-Se,rt-Ne]},Qt};function _i(le){return le.x}function ps(le){return le.y}function So(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Si(le,Se,Ne,Qe,rt,ot){if(!le(Se,Ne,Qe,rt,ot)){var zt=(Ne+rt)*.5,mt=(Qe+ot)*.5,Qt=Se.nodes;Qt[0]&&Si(le,Qt[0],Ne,Qe,zt,mt),Qt[1]&&Si(le,Qt[1],zt,Qe,rt,mt),Qt[2]&&Si(le,Qt[2],Ne,mt,zt,ot),Qt[3]&&Si(le,Qt[3],zt,mt,rt,ot)}}function sl(le,Se,Ne,Qe,rt,ot,zt){var mt=1/0,Qt;return function cr(hr,kr,Fr,nn,hn){if(!(kr>ot||Fr>zt||nn<Qe||hn<rt)){if(Nr=hr.point){var Nr,Kr=Se-hr.x,tn=Ne-hr.y,dn=Kr*Kr+tn*tn;if(dn<mt){var bn=Math.sqrt(mt=dn);Qe=Se-bn,rt=Ne-bn,ot=Se+bn,zt=Ne+bn,Qt=Nr}}for(var rn=hr.nodes,Yn=(kr+nn)*.5,Jn=(Fr+hn)*.5,aa=Se>=Yn,fa=Ne>=Jn,Ea=fa<<1|aa,Sa=Ea+4;Ea<Sa;++Ea)if(hr=rn[Ea&3])switch(Ea&3){case 0:cr(hr,kr,Fr,Yn,Jn);break;case 1:cr(hr,Yn,Fr,nn,Jn);break;case 2:cr(hr,kr,Jn,Yn,hn);break;case 3:cr(hr,Yn,Jn,nn,hn);break}}}(le,Qe,rt,ot,zt),Qt}a.interpolateRgb=so;function so(le,Se){le=a.rgb(le),Se=a.rgb(Se);var Ne=le.r,Qe=le.g,rt=le.b,ot=Se.r-Ne,zt=Se.g-Qe,mt=Se.b-rt;return function(Qt){return"#"+Vr(Math.round(Ne+ot*Qt))+Vr(Math.round(Qe+zt*Qt))+Vr(Math.round(rt+mt*Qt))}}a.interpolateObject=to;function to(le,Se){var Ne={},Qe={},rt;for(rt in le)rt in Se?Ne[rt]=gs(le[rt],Se[rt]):Qe[rt]=le[rt];for(rt in Se)rt in le||(Qe[rt]=Se[rt]);return function(ot){for(rt in Ne)Qe[rt]=Ne[rt](ot);return Qe}}a.interpolateNumber=ni;function ni(le,Se){return le=+le,Se=+Se,function(Ne){return le*(1-Ne)+Se*Ne}}a.interpolateString=qi;function qi(le,Se){var Ne=No.lastIndex=Xo.lastIndex=0,Qe,rt,ot,zt=-1,mt=[],Qt=[];for(le=le+"",Se=Se+"";(Qe=No.exec(le))&&(rt=Xo.exec(Se));)(ot=rt.index)>Ne&&(ot=Se.slice(Ne,ot),mt[zt]?mt[zt]+=ot:mt[++zt]=ot),(Qe=Qe[0])===(rt=rt[0])?mt[zt]?mt[zt]+=rt:mt[++zt]=rt:(mt[++zt]=null,Qt.push({i:zt,x:ni(Qe,rt)})),Ne=Xo.lastIndex;return Ne<Se.length&&(ot=Se.slice(Ne),mt[zt]?mt[zt]+=ot:mt[++zt]=ot),mt.length<2?Qt[0]?(Se=Qt[0].x,function(cr){return Se(cr)+""}):function(){return Se}:(Se=Qt.length,function(cr){for(var hr=0,kr;hr<Se;++hr)mt[(kr=Qt[hr]).i]=kr.x(cr);return mt.join("")})}var No=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xo=new RegExp(No.source,"g");a.interpolate=gs;function gs(le,Se){for(var Ne=a.interpolators.length,Qe;--Ne>=0&&!(Qe=a.interpolators[Ne](le,Se)););return Qe}a.interpolators=[function(le,Se){var Ne=typeof Se;return(Ne==="string"?Nn.has(Se.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Se)?so:qi:Se instanceof pt?so:Array.isArray(Se)?io:Ne==="object"&&isNaN(Se)?to:ni)(le,Se)}],a.interpolateArray=io;function io(le,Se){var Ne=[],Qe=[],rt=le.length,ot=Se.length,zt=Math.min(le.length,Se.length),mt;for(mt=0;mt<zt;++mt)Ne.push(gs(le[mt],Se[mt]));for(;mt<rt;++mt)Qe[mt]=le[mt];for(;mt<ot;++mt)Qe[mt]=Se[mt];return function(Qt){for(mt=0;mt<zt;++mt)Qe[mt]=Ne[mt](Qt);return Qe}}var Ou=function(){return O},es=a.map({linear:Ou,poly:ms,quad:function(){return su},cubic:function(){return lu},sin:function(){return gf},exp:function(){return uu},circle:function(){return xs},elastic:ts,back:Bu,bounce:function(){return Nu}}),xo=a.map({in:O,out:ys,"in-out":Uo,"out-in":function(le){return Uo(ys(le))}});a.ease=function(le){var Se=le.indexOf("-"),Ne=Se>=0?le.slice(0,Se):le,Qe=Se>=0?le.slice(Se+1):"in";return Ne=es.get(Ne)||Ou,Qe=xo.get(Qe)||O,ou(Qe(Ne.apply(null,P.call(arguments,1))))};function ou(le){return function(Se){return Se<=0?0:Se>=1?1:le(Se)}}function ys(le){return function(Se){return 1-le(1-Se)}}function Uo(le){return function(Se){return .5*(Se<.5?le(2*Se):2-le(2-2*Se))}}function su(le){return le*le}function lu(le){return le*le*le}function pf(le){if(le<=0)return 0;if(le>=1)return 1;var Se=le*le,Ne=Se*le;return 4*(le<.5?Ne:3*(le-Se)+Ne-.75)}function ms(le){return function(Se){return Math.pow(Se,le)}}function gf(le){return 1-Math.cos(le*vt)}function uu(le){return Math.pow(2,10*(le-1))}function xs(le){return 1-Math.sqrt(1-le*le)}function ts(le,Se){var Ne;return arguments.length<2&&(Se=.45),arguments.length?Ne=Se/Oe*Math.asin(1/le):(le=1,Ne=Se/4),function(Qe){return 1+le*Math.pow(2,-10*Qe)*Math.sin((Qe-Ne)*Oe/Se)}}function Bu(le){return le||(le=1.70158),function(Se){return Se*Se*((le+1)*Se-le)}}function Nu(le){return le<.36363636363636365?7.5625*le*le:le<.7272727272727273?7.5625*(le-=.5454545454545454)*le+.75:le<.9090909090909091?7.5625*(le-=.8181818181818182)*le+.9375:7.5625*(le-=.9545454545454546)*le+.984375}a.interpolateHcl=fu;function fu(le,Se){le=a.hcl(le),Se=a.hcl(Se);var Ne=le.h,Qe=le.c,rt=le.l,ot=Se.h-Ne,zt=Se.c-Qe,mt=Se.l-rt;return isNaN(zt)&&(zt=0,Qe=isNaN(Qe)?Se.c:Qe),isNaN(ot)?(ot=0,Ne=isNaN(Ne)?Se.h:Ne):ot>180?ot-=360:ot<-180&&(ot+=360),function(Qt){return Zt(Ne+ot*Qt,Qe+zt*Qt,rt+mt*Qt)+""}}a.interpolateHsl=yf;function yf(le,Se){le=a.hsl(le),Se=a.hsl(Se);var Ne=le.h,Qe=le.s,rt=le.l,ot=Se.h-Ne,zt=Se.s-Qe,mt=Se.l-rt;return isNaN(zt)&&(zt=0,Qe=isNaN(Qe)?Se.s:Qe),isNaN(ot)?(ot=0,Ne=isNaN(Ne)?Se.h:Ne):ot>180?ot-=360:ot<-180&&(ot+=360),function(Qt){return Pt(Ne+ot*Qt,Qe+zt*Qt,rt+mt*Qt)+""}}a.interpolateLab=Fi;function Fi(le,Se){le=a.lab(le),Se=a.lab(Se);var Ne=le.l,Qe=le.a,rt=le.b,ot=Se.l-Ne,zt=Se.a-Qe,mt=Se.b-rt;return function(Qt){return Ut(Ne+ot*Qt,Qe+zt*Qt,rt+mt*Qt)+""}}a.interpolateRound=ll;function ll(le,Se){return Se-=le,function(Ne){return Math.round(le+Se*Ne)}}a.transform=function(le){var Se=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ne){if(Ne!=null){Se.setAttribute("transform",Ne);var Qe=Se.transform.baseVal.consolidate()}return new bo(Qe?Qe.matrix:mf)})(le)};function bo(le){var Se=[le.a,le.b],Ne=[le.c,le.d],Qe=Ds(Se),rt=co(Se,Ne),ot=Ds(El(Ne,Se,-rt))||0;Se[0]*Ne[1]<Ne[0]*Se[1]&&(Se[0]*=-1,Se[1]*=-1,Qe*=-1,rt*=-1),this.rotate=(Qe?Math.atan2(Se[1],Se[0]):Math.atan2(-Ne[0],Ne[1]))*Ot,this.translate=[le.e,le.f],this.scale=[Qe,ot],this.skew=ot?Math.atan2(rt,ot)*Ot:0}bo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function co(le,Se){return le[0]*Se[0]+le[1]*Se[1]}function Ds(le){var Se=Math.sqrt(co(le,le));return Se&&(le[0]/=Se,le[1]/=Se),Se}function El(le,Se,Ne){return le[0]+=Ne*Se[0],le[1]+=Ne*Se[1],le}var mf={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=os;function bs(le){return le.length?le.pop()+",":""}function cu(le,Se,Ne,Qe){if(le[0]!==Se[0]||le[1]!==Se[1]){var rt=Ne.push("translate(",null,",",null,")");Qe.push({i:rt-4,x:ni(le[0],Se[0])},{i:rt-2,x:ni(le[1],Se[1])})}else(Se[0]||Se[1])&&Ne.push("translate("+Se+")")}function ws(le,Se,Ne,Qe){le!==Se?(le-Se>180?Se+=360:Se-le>180&&(le+=360),Qe.push({i:Ne.push(bs(Ne)+"rotate(",null,")")-2,x:ni(le,Se)})):Se&&Ne.push(bs(Ne)+"rotate("+Se+")")}function hu(le,Se,Ne,Qe){le!==Se?Qe.push({i:Ne.push(bs(Ne)+"skewX(",null,")")-2,x:ni(le,Se)}):Se&&Ne.push(bs(Ne)+"skewX("+Se+")")}function Ho(le,Se,Ne,Qe){if(le[0]!==Se[0]||le[1]!==Se[1]){var rt=Ne.push(bs(Ne)+"scale(",null,",",null,")");Qe.push({i:rt-4,x:ni(le[0],Se[0])},{i:rt-2,x:ni(le[1],Se[1])})}else(Se[0]!==1||Se[1]!==1)&&Ne.push(bs(Ne)+"scale("+Se+")")}function os(le,Se){var Ne=[],Qe=[];return le=a.transform(le),Se=a.transform(Se),cu(le.translate,Se.translate,Ne,Qe),ws(le.rotate,Se.rotate,Ne,Qe),hu(le.skew,Se.skew,Ne,Qe),Ho(le.scale,Se.scale,Ne,Qe),le=Se=null,function(rt){for(var ot=-1,zt=Qe.length,mt;++ot<zt;)Ne[(mt=Qe[ot]).i]=mt.x(rt);return Ne.join("")}}function Is(le,Se){return Se=(Se-=le=+le)||1/Se,function(Ne){return(Ne-le)/Se}}function _s(le,Se){return Se=(Se-=le=+le)||1/Se,function(Ne){return Math.max(0,Math.min(1,(Ne-le)/Se))}}a.layout={},a.layout.bundle=function(){return function(le){for(var Se=[],Ne=-1,Qe=le.length;++Ne<Qe;)Se.push(ss(le[Ne]));return Se}};function ss(le){for(var Se=le.source,Ne=le.target,Qe=Cl(Se,Ne),rt=[Se];Se!==Qe;)Se=Se.parent,rt.push(Se);for(var ot=rt.length;Ne!==Qe;)rt.splice(ot,0,Ne),Ne=Ne.parent;return rt}function jo(le){for(var Se=[],Ne=le.parent;Ne!=null;)Se.push(le),le=Ne,Ne=Ne.parent;return Se.push(le),Se}function Cl(le,Se){if(le===Se)return le;for(var Ne=jo(le),Qe=jo(Se),rt=Ne.pop(),ot=Qe.pop(),zt=null;rt===ot;)zt=rt,rt=Ne.pop(),ot=Qe.pop();return zt}a.layout.chord=function(){var le={},Se,Ne,Qe,rt,ot=0,zt,mt,Qt;function cr(){var kr={},Fr=[],nn=a.range(rt),hn=[],Nr,Kr,tn,dn,bn;for(Se=[],Ne=[],Nr=0,dn=-1;++dn<rt;){for(Kr=0,bn=-1;++bn<rt;)Kr+=Qe[dn][bn];Fr.push(Kr),hn.push(a.range(rt)),Nr+=Kr}for(zt&&nn.sort(function(Ja,Ia){return zt(Fr[Ja],Fr[Ia])}),mt&&hn.forEach(function(Ja,Ia){Ja.sort(function(Wa,di){return mt(Qe[Ia][Wa],Qe[Ia][di])})}),Nr=(Oe-ot*rt)/Nr,Kr=0,dn=-1;++dn<rt;){for(tn=Kr,bn=-1;++bn<rt;){var rn=nn[dn],Yn=hn[rn][bn],Jn=Qe[rn][Yn],aa=Kr,fa=Kr+=Jn*Nr;kr[rn+"-"+Yn]={index:rn,subindex:Yn,startAngle:aa,endAngle:fa,value:Jn}}Ne[rn]={index:rn,startAngle:tn,endAngle:Kr,value:Fr[rn]},Kr+=ot}for(dn=-1;++dn<rt;)for(bn=dn-1;++bn<rt;){var Ea=kr[dn+"-"+bn],Sa=kr[bn+"-"+dn];(Ea.value||Sa.value)&&Se.push(Ea.value<Sa.value?{source:Sa,target:Ea}:{source:Ea,target:Sa})}Qt&&hr()}function hr(){Se.sort(function(kr,Fr){return Qt((kr.source.value+kr.target.value)/2,(Fr.source.value+Fr.target.value)/2)})}return le.matrix=function(kr){return arguments.length?(rt=(Qe=kr)&&Qe.length,Se=Ne=null,le):Qe},le.padding=function(kr){return arguments.length?(ot=kr,Se=Ne=null,le):ot},le.sortGroups=function(kr){return arguments.length?(zt=kr,Se=Ne=null,le):zt},le.sortSubgroups=function(kr){return arguments.length?(mt=kr,Se=null,le):mt},le.sortChords=function(kr){return arguments.length?(Qt=kr,Se&&hr(),le):Qt},le.chords=function(){return Se||cr(),Se},le.groups=function(){return Ne||cr(),Ne},le},a.layout.force=function(){var le={},Se=a.dispatch("start","tick","end"),Ne,Qe=[1,1],rt,ot,zt=.9,mt=Zn,Qt=Ln,cr=-30,hr=$n,kr=.1,Fr=.64,nn=[],hn=[],Nr,Kr,tn;function dn(rn){return function(Yn,Jn,aa,fa){if(Yn.point!==rn){var Ea=Yn.cx-rn.x,Sa=Yn.cy-rn.y,Ja=fa-Jn,Ia=Ea*Ea+Sa*Sa;if(Ja*Ja/Fr<Ia){if(Ia<hr){var Wa=Yn.charge/Ia;rn.px-=Ea*Wa,rn.py-=Sa*Wa}return!0}if(Yn.point&&Ia&&Ia<hr){var Wa=Yn.pointCharge/Ia;rn.px-=Ea*Wa,rn.py-=Sa*Wa}}return!Yn.charge}}le.tick=function(){if((ot*=.99)<.005)return Ne=null,Se.end({type:"end",alpha:ot=0}),!0;var rn=nn.length,Yn=hn.length,Jn,aa,fa,Ea,Sa,Ja,Ia,Wa,di;for(aa=0;aa<Yn;++aa)fa=hn[aa],Ea=fa.source,Sa=fa.target,Wa=Sa.x-Ea.x,di=Sa.y-Ea.y,(Ja=Wa*Wa+di*di)&&(Ja=ot*Kr[aa]*((Ja=Math.sqrt(Ja))-Nr[aa])/Ja,Wa*=Ja,di*=Ja,Sa.x-=Wa*(Ia=Ea.weight+Sa.weight?Ea.weight/(Ea.weight+Sa.weight):.5),Sa.y-=di*Ia,Ea.x+=Wa*(Ia=1-Ia),Ea.y+=di*Ia);if((Ia=ot*kr)&&(Wa=Qe[0]/2,di=Qe[1]/2,aa=-1,Ia))for(;++aa<rn;)fa=nn[aa],fa.x+=(Wa-fa.x)*Ia,fa.y+=(di-fa.y)*Ia;if(cr)for(mn(Jn=a.geom.quadtree(nn),ot,tn),aa=-1;++aa<rn;)(fa=nn[aa]).fixed||Jn.visit(dn(fa));for(aa=-1;++aa<rn;)fa=nn[aa],fa.fixed?(fa.x=fa.px,fa.y=fa.py):(fa.x-=(fa.px-(fa.px=fa.x))*zt,fa.y-=(fa.py-(fa.py=fa.y))*zt);Se.tick({type:"tick",alpha:ot})},le.nodes=function(rn){return arguments.length?(nn=rn,le):nn},le.links=function(rn){return arguments.length?(hn=rn,le):hn},le.size=function(rn){return arguments.length?(Qe=rn,le):Qe},le.linkDistance=function(rn){return arguments.length?(mt=typeof rn=="function"?rn:+rn,le):mt},le.distance=le.linkDistance,le.linkStrength=function(rn){return arguments.length?(Qt=typeof rn=="function"?rn:+rn,le):Qt},le.friction=function(rn){return arguments.length?(zt=+rn,le):zt},le.charge=function(rn){return arguments.length?(cr=typeof rn=="function"?rn:+rn,le):cr},le.chargeDistance=function(rn){return arguments.length?(hr=rn*rn,le):Math.sqrt(hr)},le.gravity=function(rn){return arguments.length?(kr=+rn,le):kr},le.theta=function(rn){return arguments.length?(Fr=rn*rn,le):Math.sqrt(Fr)},le.alpha=function(rn){return arguments.length?(rn=+rn,ot?rn>0?ot=rn:(Ne.c=null,Ne.t=NaN,Ne=null,Se.end({type:"end",alpha:ot=0})):rn>0&&(Se.start({type:"start",alpha:ot=rn}),Ne=Rn(le.tick)),le):ot},le.start=function(){var rn,Yn=nn.length,Jn=hn.length,aa=Qe[0],fa=Qe[1],Ea,Sa;for(rn=0;rn<Yn;++rn)(Sa=nn[rn]).index=rn,Sa.weight=0;for(rn=0;rn<Jn;++rn)Sa=hn[rn],typeof Sa.source=="number"&&(Sa.source=nn[Sa.source]),typeof Sa.target=="number"&&(Sa.target=nn[Sa.target]),++Sa.source.weight,++Sa.target.weight;for(rn=0;rn<Yn;++rn)Sa=nn[rn],isNaN(Sa.x)&&(Sa.x=Ja("x",aa)),isNaN(Sa.y)&&(Sa.y=Ja("y",fa)),isNaN(Sa.px)&&(Sa.px=Sa.x),isNaN(Sa.py)&&(Sa.py=Sa.y);if(Nr=[],typeof mt=="function")for(rn=0;rn<Jn;++rn)Nr[rn]=+mt.call(this,hn[rn],rn);else for(rn=0;rn<Jn;++rn)Nr[rn]=mt;if(Kr=[],typeof Qt=="function")for(rn=0;rn<Jn;++rn)Kr[rn]=+Qt.call(this,hn[rn],rn);else for(rn=0;rn<Jn;++rn)Kr[rn]=Qt;if(tn=[],typeof cr=="function")for(rn=0;rn<Yn;++rn)tn[rn]=+cr.call(this,nn[rn],rn);else for(rn=0;rn<Yn;++rn)tn[rn]=cr;function Ja(Ia,Wa){if(!Ea){for(Ea=new Array(Yn),Li=0;Li<Yn;++Li)Ea[Li]=[];for(Li=0;Li<Jn;++Li){var di=hn[Li];Ea[di.source.index].push(di.target),Ea[di.target.index].push(di.source)}}for(var yi=Ea[rn],Li=-1,jn=yi.length,Ya;++Li<jn;)if(!isNaN(Ya=yi[Li][Ia]))return Ya;return Math.random()*Wa}return le.resume()},le.resume=function(){return le.alpha(.1)},le.stop=function(){return le.alpha(0)},le.drag=function(){if(rt||(rt=a.behavior.drag().origin(O).on("dragstart.force",Fs).on("drag.force",bn).on("dragend.force",ks)),!arguments.length)return rt;this.on("mouseover.force",Mr).on("mouseout.force",on).call(rt)};function bn(rn){rn.px=a.event.x,rn.py=a.event.y,le.resume()}return a.rebind(le,Se,"on")};function Fs(le){le.fixed|=2}function ks(le){le.fixed&=-7}function Mr(le){le.fixed|=4,le.px=le.x,le.py=le.y}function on(le){le.fixed&=-5}function mn(le,Se,Ne){var Qe=0,rt=0;if(le.charge=0,!le.leaf)for(var ot=le.nodes,zt=ot.length,mt=-1,Qt;++mt<zt;)Qt=ot[mt],Qt!=null&&(mn(Qt,Se,Ne),le.charge+=Qt.charge,Qe+=Qt.charge*Qt.cx,rt+=Qt.charge*Qt.cy);if(le.point){le.leaf||(le.point.x+=Math.random()-.5,le.point.y+=Math.random()-.5);var cr=Se*Ne[le.point.index];le.charge+=le.pointCharge=cr,Qe+=cr*le.point.x,rt+=cr*le.point.y}le.cx=Qe/le.charge,le.cy=rt/le.charge}var Zn=20,Ln=1,$n=1/0;a.layout.hierarchy=function(){var le=Ka,Se=Za,Ne=Xa;function Qe(rt){var ot=[rt],zt=[],mt;for(rt.depth=0;(mt=ot.pop())!=null;)if(zt.push(mt),(cr=Se.call(Qe,mt,mt.depth))&&(Qt=cr.length)){for(var Qt,cr,hr;--Qt>=0;)ot.push(hr=cr[Qt]),hr.parent=mt,hr.depth=mt.depth+1;Ne&&(mt.value=0),mt.children=cr}else Ne&&(mt.value=+Ne.call(Qe,mt,mt.depth)||0),delete mt.children;return ha(rt,function(kr){var Fr,nn;le&&(Fr=kr.children)&&Fr.sort(le),Ne&&(nn=kr.parent)&&(nn.value+=kr.value)}),zt}return Qe.sort=function(rt){return arguments.length?(le=rt,Qe):le},Qe.children=function(rt){return arguments.length?(Se=rt,Qe):Se},Qe.value=function(rt){return arguments.length?(Ne=rt,Qe):Ne},Qe.revalue=function(rt){return Ne&&(ba(rt,function(ot){ot.children&&(ot.value=0)}),ha(rt,function(ot){var zt;ot.children||(ot.value=+Ne.call(Qe,ot,ot.depth)||0),(zt=ot.parent)&&(zt.value+=ot.value)})),rt},Qe};function na(le,Se){return a.rebind(le,Se,"sort","children","value"),le.nodes=le,le.links=li,le}function ba(le,Se){for(var Ne=[le];(le=Ne.pop())!=null;)if(Se(le),(rt=le.children)&&(Qe=rt.length))for(var Qe,rt;--Qe>=0;)Ne.push(rt[Qe])}function ha(le,Se){for(var Ne=[le],Qe=[];(le=Ne.pop())!=null;)if(Qe.push(le),(zt=le.children)&&(ot=zt.length))for(var rt=-1,ot,zt;++rt<ot;)Ne.push(zt[rt]);for(;(le=Qe.pop())!=null;)Se(le)}function Za(le){return le.children}function Xa(le){return le.value}function Ka(le,Se){return Se.value-le.value}function li(le){return a.merge(le.map(function(Se){return(Se.children||[]).map(function(Ne){return{source:Se,target:Ne}})}))}a.layout.partition=function(){var le=a.layout.hierarchy(),Se=[1,1];function Ne(ot,zt,mt,Qt){var cr=ot.children;if(ot.x=zt,ot.y=ot.depth*Qt,ot.dx=mt,ot.dy=Qt,cr&&(kr=cr.length)){var hr=-1,kr,Fr,nn;for(mt=ot.value?mt/ot.value:0;++hr<kr;)Ne(Fr=cr[hr],zt,nn=Fr.value*mt,Qt),zt+=nn}}function Qe(ot){var zt=ot.children,mt=0;if(zt&&(cr=zt.length))for(var Qt=-1,cr;++Qt<cr;)mt=Math.max(mt,Qe(zt[Qt]));return 1+mt}function rt(ot,zt){var mt=le.call(this,ot,zt);return Ne(mt[0],0,Se[0],Se[1]/Qe(mt[0])),mt}return rt.size=function(ot){return arguments.length?(Se=ot,rt):Se},na(rt,le)},a.layout.pie=function(){var le=Number,Se=Ei,Ne=0,Qe=Oe,rt=0;function ot(zt){var mt=zt.length,Qt=zt.map(function(dn,bn){return+le.call(ot,dn,bn)}),cr=+(typeof Ne=="function"?Ne.apply(this,arguments):Ne),hr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-cr,kr=Math.min(Math.abs(hr)/mt,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Fr=kr*(hr<0?-1:1),nn=a.sum(Qt),hn=nn?(hr-mt*Fr)/nn:0,Nr=a.range(mt),Kr=[],tn;return Se!=null&&Nr.sort(Se===Ei?function(dn,bn){return Qt[bn]-Qt[dn]}:function(dn,bn){return Se(zt[dn],zt[bn])}),Nr.forEach(function(dn){Kr[dn]={data:zt[dn],value:tn=Qt[dn],startAngle:cr,endAngle:cr+=tn*hn+Fr,padAngle:kr}}),Kr}return ot.value=function(zt){return arguments.length?(le=zt,ot):le},ot.sort=function(zt){return arguments.length?(Se=zt,ot):Se},ot.startAngle=function(zt){return arguments.length?(Ne=zt,ot):Ne},ot.endAngle=function(zt){return arguments.length?(Qe=zt,ot):Qe},ot.padAngle=function(zt){return arguments.length?(rt=zt,ot):rt},ot};var Ei={};a.layout.stack=function(){var le=O,Se=zs,Ne=Js,Qe=ho,rt=Ga,ot=ro;function zt(mt,Qt){if(!(hn=mt.length))return mt;var cr=mt.map(function(dn,bn){return le.call(zt,dn,bn)}),hr=cr.map(function(dn){return dn.map(function(bn,rn){return[rt.call(zt,bn,rn),ot.call(zt,bn,rn)]})}),kr=Se.call(zt,hr,Qt);cr=a.permute(cr,kr),hr=a.permute(hr,kr);var Fr=Ne.call(zt,hr,Qt),nn=cr[0].length,hn,Nr,Kr,tn;for(Kr=0;Kr<nn;++Kr)for(Qe.call(zt,cr[0][Kr],tn=Fr[Kr],hr[0][Kr][1]),Nr=1;Nr<hn;++Nr)Qe.call(zt,cr[Nr][Kr],tn+=hr[Nr-1][Kr][1],hr[Nr][Kr][1]);return mt}return zt.values=function(mt){return arguments.length?(le=mt,zt):le},zt.order=function(mt){return arguments.length?(Se=typeof mt=="function"?mt:wo.get(mt)||zs,zt):Se},zt.offset=function(mt){return arguments.length?(Ne=typeof mt=="function"?mt:Oi.get(mt)||Js,zt):Ne},zt.x=function(mt){return arguments.length?(rt=mt,zt):rt},zt.y=function(mt){return arguments.length?(ot=mt,zt):ot},zt.out=function(mt){return arguments.length?(Qe=mt,zt):Qe},zt};function Ga(le){return le.x}function ro(le){return le.y}function ho(le,Se,Ne){le.y0=Se,le.y=Ne}var wo=a.map({"inside-out":function(le){var Se=le.length,Ne,Qe,rt=le.map(ai),ot=le.map(Gf),zt=a.range(Se).sort(function(kr,Fr){return rt[kr]-rt[Fr]}),mt=0,Qt=0,cr=[],hr=[];for(Ne=0;Ne<Se;++Ne)Qe=zt[Ne],mt<Qt?(mt+=ot[Qe],cr.push(Qe)):(Qt+=ot[Qe],hr.push(Qe));return hr.reverse().concat(cr)},reverse:function(le){return a.range(le.length).reverse()},default:zs}),Oi=a.map({silhouette:function(le){var Se=le.length,Ne=le[0].length,Qe=[],rt=0,ot,zt,mt,Qt=[];for(zt=0;zt<Ne;++zt){for(ot=0,mt=0;ot<Se;ot++)mt+=le[ot][zt][1];mt>rt&&(rt=mt),Qe.push(mt)}for(zt=0;zt<Ne;++zt)Qt[zt]=(rt-Qe[zt])/2;return Qt},wiggle:function(le){var Se=le.length,Ne=le[0],Qe=Ne.length,rt,ot,zt,mt,Qt,cr,hr,kr,Fr,nn=[];for(nn[0]=kr=Fr=0,ot=1;ot<Qe;++ot){for(rt=0,mt=0;rt<Se;++rt)mt+=le[rt][ot][1];for(rt=0,Qt=0,hr=Ne[ot][0]-Ne[ot-1][0];rt<Se;++rt){for(zt=0,cr=(le[rt][ot][1]-le[rt][ot-1][1])/(2*hr);zt<rt;++zt)cr+=(le[zt][ot][1]-le[zt][ot-1][1])/hr;Qt+=cr*le[rt][ot][1]}nn[ot]=kr-=mt?Qt/mt*hr:0,kr<Fr&&(Fr=kr)}for(ot=0;ot<Qe;++ot)nn[ot]-=Fr;return nn},expand:function(le){var Se=le.length,Ne=le[0].length,Qe=1/Se,rt,ot,zt,mt=[];for(ot=0;ot<Ne;++ot){for(rt=0,zt=0;rt<Se;rt++)zt+=le[rt][ot][1];if(zt)for(rt=0;rt<Se;rt++)le[rt][ot][1]/=zt;else for(rt=0;rt<Se;rt++)le[rt][ot][1]=Qe}for(ot=0;ot<Ne;++ot)mt[ot]=0;return mt},zero:Js});function zs(le){return a.range(le.length)}function Js(le){for(var Se=-1,Ne=le[0].length,Qe=[];++Se<Ne;)Qe[Se]=0;return Qe}function ai(le){for(var Se=1,Ne=0,Qe=le[0][1],rt,ot=le.length;Se<ot;++Se)(rt=le[Se][1])>Qe&&(Ne=Se,Qe=rt);return Ne}function Gf(le){return le.reduce(Ts,0)}function Ts(le,Se){return le+Se[1]}a.layout.histogram=function(){var le=!0,Se=Number,Ne=xf,Qe=Gl;function rt(ot,Fr){for(var mt=[],Qt=ot.map(Se,this),cr=Ne.call(this,Qt,Fr),hr=Qe.call(this,cr,Qt,Fr),kr,Fr=-1,nn=Qt.length,hn=hr.length-1,Nr=le?1:1/nn,Kr;++Fr<hn;)kr=mt[Fr]=[],kr.dx=hr[Fr+1]-(kr.x=hr[Fr]),kr.y=0;if(hn>0)for(Fr=-1;++Fr<nn;)Kr=Qt[Fr],Kr>=cr[0]&&Kr<=cr[1]&&(kr=mt[a.bisect(hr,Kr,1,hn)-1],kr.y+=Nr,kr.push(ot[Fr]));return mt}return rt.value=function(ot){return arguments.length?(Se=ot,rt):Se},rt.range=function(ot){return arguments.length?(Ne=fn(ot),rt):Ne},rt.bins=function(ot){return arguments.length?(Qe=typeof ot=="number"?function(zt){return Ll(zt,ot)}:fn(ot),rt):Qe},rt.frequency=function(ot){return arguments.length?(le=!!ot,rt):le},rt};function Gl(le,Se){return Ll(le,Math.ceil(Math.log(Se.length)/Math.LN2+1))}function Ll(le,Se){for(var Ne=-1,Qe=+le[0],rt=(le[1]-Qe)/Se,ot=[];++Ne<=Se;)ot[Ne]=rt*Ne+Qe;return ot}function xf(le){return[a.min(le),a.max(le)]}a.layout.pack=function(){var le=a.layout.hierarchy().sort(lo),Se=0,Ne=[1,1],Qe;function rt(ot,zt){var mt=le.call(this,ot,zt),Qt=mt[0],cr=Ne[0],hr=Ne[1],kr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Qt.x=Qt.y=0,ha(Qt,function(nn){nn.r=+kr(nn.value)}),ha(Qt,$s),Se){var Fr=Se*(Qe?1:Math.max(2*Qt.r/cr,2*Qt.r/hr))/2;ha(Qt,function(nn){nn.r+=Fr}),ha(Qt,$s),ha(Qt,function(nn){nn.r-=Fr})}return cl(Qt,cr/2,hr/2,Qe?1:1/Math.max(2*Qt.r/cr,2*Qt.r/hr)),mt}return rt.size=function(ot){return arguments.length?(Ne=ot,rt):Ne},rt.radius=function(ot){return arguments.length?(Qe=ot==null||typeof ot=="function"?ot:+ot,rt):Qe},rt.padding=function(ot){return arguments.length?(Se=+ot,rt):Se},na(rt,le)};function lo(le,Se){return le.value-Se.value}function vu(le,Se){var Ne=le._pack_next;le._pack_next=Se,Se._pack_prev=le,Se._pack_next=Ne,Ne._pack_prev=Se}function Ko(le,Se){le._pack_next=Se,Se._pack_prev=le}function Qs(le,Se){var Ne=Se.x-le.x,Qe=Se.y-le.y,rt=le.r+Se.r;return .999*rt*rt>Ne*Ne+Qe*Qe}function $s(le){if(!(Se=le.children)||!(Fr=Se.length))return;var Se,Ne=1/0,Qe=-1/0,rt=1/0,ot=-1/0,zt,mt,Qt,cr,hr,kr,Fr;function nn(rn){Ne=Math.min(rn.x-rn.r,Ne),Qe=Math.max(rn.x+rn.r,Qe),rt=Math.min(rn.y-rn.r,rt),ot=Math.max(rn.y+rn.r,ot)}if(Se.forEach(ul),zt=Se[0],zt.x=-zt.r,zt.y=0,nn(zt),Fr>1&&(mt=Se[1],mt.x=mt.r,mt.y=0,nn(mt),Fr>2))for(Qt=Se[2],As(zt,mt,Qt),nn(Qt),vu(zt,Qt),zt._pack_prev=Qt,vu(Qt,mt),mt=zt._pack_next,cr=3;cr<Fr;cr++){As(zt,mt,Qt=Se[cr]);var hn=0,Nr=1,Kr=1;for(hr=mt._pack_next;hr!==mt;hr=hr._pack_next,Nr++)if(Qs(hr,Qt)){hn=1;break}if(hn==1)for(kr=zt._pack_prev;kr!==hr._pack_prev&&!Qs(kr,Qt);kr=kr._pack_prev,Kr++);hn?(Nr<Kr||Nr==Kr&&mt.r<zt.r?Ko(zt,mt=hr):Ko(zt=kr,mt),cr--):(vu(zt,Qt),mt=Qt,nn(Qt))}var tn=(Ne+Qe)/2,dn=(rt+ot)/2,bn=0;for(cr=0;cr<Fr;cr++)Qt=Se[cr],Qt.x-=tn,Qt.y-=dn,bn=Math.max(bn,Qt.r+Math.sqrt(Qt.x*Qt.x+Qt.y*Qt.y));le.r=bn,Se.forEach(fl)}function ul(le){le._pack_next=le._pack_prev=le}function fl(le){delete le._pack_next,delete le._pack_prev}function cl(le,Se,Ne,Qe){var rt=le.children;if(le.x=Se+=Qe*le.x,le.y=Ne+=Qe*le.y,le.r*=Qe,rt)for(var ot=-1,zt=rt.length;++ot<zt;)cl(rt[ot],Se,Ne,Qe)}function As(le,Se,Ne){var Qe=le.r+Ne.r,rt=Se.x-le.x,ot=Se.y-le.y;if(Qe&&(rt||ot)){var zt=Se.r+Ne.r,mt=rt*rt+ot*ot;zt*=zt,Qe*=Qe;var Qt=.5+(Qe-zt)/(2*mt),cr=Math.sqrt(Math.max(0,2*zt*(Qe+mt)-(Qe-=mt)*Qe-zt*zt))/(2*mt);Ne.x=le.x+Qt*rt+cr*ot,Ne.y=le.y+Qt*ot-cr*rt}else Ne.x=le.x+Qe,Ne.y=le.y}a.layout.tree=function(){var le=a.layout.hierarchy().sort(null).value(null),Se=Os,Ne=[1,1],Qe=null;function rt(hr,kr){var Fr=le.call(this,hr,kr),nn=Fr[0],hn=ot(nn);if(ha(hn,zt),hn.parent.m=-hn.z,ba(hn,mt),Qe)ba(nn,cr);else{var Nr=nn,Kr=nn,tn=nn;ba(nn,function(Yn){Yn.x<Nr.x&&(Nr=Yn),Yn.x>Kr.x&&(Kr=Yn),Yn.depth>tn.depth&&(tn=Yn)});var dn=Se(Nr,Kr)/2-Nr.x,bn=Ne[0]/(Kr.x+Se(Kr,Nr)/2+dn),rn=Ne[1]/(tn.depth||1);ba(nn,function(Yn){Yn.x=(Yn.x+dn)*bn,Yn.y=Yn.depth*rn})}return Fr}function ot(hr){for(var kr={A:null,children:[hr]},Fr=[kr],nn;(nn=Fr.pop())!=null;)for(var hn=nn.children,Nr,Kr=0,tn=hn.length;Kr<tn;++Kr)Fr.push((hn[Kr]=Nr={_:hn[Kr],parent:nn,children:(Nr=hn[Kr].children)&&Nr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Kr}).a=Nr);return kr.children[0]}function zt(hr){var kr=hr.children,Fr=hr.parent.children,nn=hr.i?Fr[hr.i-1]:null;if(kr.length){Sc(hr);var hn=(kr[0].z+kr[kr.length-1].z)/2;nn?(hr.z=nn.z+Se(hr._,nn._),hr.m=hr.z-hn):hr.z=hn}else nn&&(hr.z=nn.z+Se(hr._,nn._));hr.parent.A=Qt(hr,nn,hr.parent.A||Fr[0])}function mt(hr){hr._.x=hr.z+hr.parent.m,hr.m+=hr.parent.m}function Qt(hr,kr,Fr){if(kr){for(var nn=hr,hn=hr,Nr=kr,Kr=nn.parent.children[0],tn=nn.m,dn=hn.m,bn=Nr.m,rn=Kr.m,Yn;Nr=pu(Nr),nn=du(nn),Nr&&nn;)Kr=du(Kr),hn=pu(hn),hn.a=hr,Yn=Nr.z+bn-nn.z-tn+Se(Nr._,nn._),Yn>0&&(Uu(Ec(Nr,hr,Fr),hr,Yn),tn+=Yn,dn+=Yn),bn+=Nr.m,tn+=nn.m,rn+=Kr.m,dn+=hn.m;Nr&&!pu(hn)&&(hn.t=Nr,hn.m+=bn-dn),nn&&!du(Kr)&&(Kr.t=nn,Kr.m+=tn-rn,Fr=hr)}return Fr}function cr(hr){hr.x*=Ne[0],hr.y=hr.depth*Ne[1]}return rt.separation=function(hr){return arguments.length?(Se=hr,rt):Se},rt.size=function(hr){return arguments.length?(Qe=(Ne=hr)==null?cr:null,rt):Qe?null:Ne},rt.nodeSize=function(hr){return arguments.length?(Qe=(Ne=hr)==null?null:cr,rt):Qe?Ne:null},na(rt,le)};function Os(le,Se){return le.parent==Se.parent?1:2}function du(le){var Se=le.children;return Se.length?Se[0]:le.t}function pu(le){var Se=le.children,Ne;return(Ne=Se.length)?Se[Ne-1]:le.t}function Uu(le,Se,Ne){var Qe=Ne/(Se.i-le.i);Se.c-=Qe,Se.s+=Ne,le.c+=Qe,Se.z+=Ne,Se.m+=Ne}function Sc(le){for(var Se=0,Ne=0,Qe=le.children,rt=Qe.length,ot;--rt>=0;)ot=Qe[rt],ot.z+=Se,ot.m+=Se,Se+=ot.s+(Ne+=ot.c)}function Ec(le,Se,Ne){return le.a.parent===Se.parent?le.a:Ne}a.layout.cluster=function(){var le=a.layout.hierarchy().sort(null).value(null),Se=Os,Ne=[1,1],Qe=!1;function rt(ot,zt){var mt=le.call(this,ot,zt),Qt=mt[0],cr,hr=0;ha(Qt,function(Nr){var Kr=Nr.children;Kr&&Kr.length?(Nr.x=Lc(Kr),Nr.y=Cc(Kr)):(Nr.x=cr?hr+=Se(Nr,cr):0,Nr.y=0,cr=Nr)});var kr=Hu(Qt),Fr=Wf(Qt),nn=kr.x-Se(kr,Fr)/2,hn=Fr.x+Se(Fr,kr)/2;return ha(Qt,Qe?function(Nr){Nr.x=(Nr.x-Qt.x)*Ne[0],Nr.y=(Qt.y-Nr.y)*Ne[1]}:function(Nr){Nr.x=(Nr.x-nn)/(hn-nn)*Ne[0],Nr.y=(1-(Qt.y?Nr.y/Qt.y:1))*Ne[1]}),mt}return rt.separation=function(ot){return arguments.length?(Se=ot,rt):Se},rt.size=function(ot){return arguments.length?(Qe=(Ne=ot)==null,rt):Qe?null:Ne},rt.nodeSize=function(ot){return arguments.length?(Qe=(Ne=ot)!=null,rt):Qe?Ne:null},na(rt,le)};function Cc(le){return 1+a.max(le,function(Se){return Se.y})}function Lc(le){return le.reduce(function(Se,Ne){return Se+Ne.x},0)/le.length}function Hu(le){var Se=le.children;return Se&&Se.length?Hu(Se[0]):le}function Wf(le){var Se=le.children,Ne;return Se&&(Ne=Se.length)?Wf(Se[Ne-1]):le}a.layout.treemap=function(){var le=a.layout.hierarchy(),Se=Math.round,Ne=[1,1],Qe=null,rt=Wl,ot=!1,zt,mt="squarify",Qt=.5*(1+Math.sqrt(5));function cr(Nr,Kr){for(var tn=-1,dn=Nr.length,bn,rn;++tn<dn;)rn=(bn=Nr[tn]).value*(Kr<0?0:Kr),bn.area=isNaN(rn)||rn<=0?0:rn}function hr(Nr){var Kr=Nr.children;if(Kr&&Kr.length){var tn=rt(Nr),dn=[],bn=Kr.slice(),rn,Yn=1/0,Jn,aa=mt==="slice"?tn.dx:mt==="dice"?tn.dy:mt==="slice-dice"?Nr.depth&1?tn.dy:tn.dx:Math.min(tn.dx,tn.dy),fa;for(cr(bn,tn.dx*tn.dy/Nr.value),dn.area=0;(fa=bn.length)>0;)dn.push(rn=bn[fa-1]),dn.area+=rn.area,mt!=="squarify"||(Jn=Fr(dn,aa))<=Yn?(bn.pop(),Yn=Jn):(dn.area-=dn.pop().area,nn(dn,aa,tn,!1),aa=Math.min(tn.dx,tn.dy),dn.length=dn.area=0,Yn=1/0);dn.length&&(nn(dn,aa,tn,!0),dn.length=dn.area=0),Kr.forEach(hr)}}function kr(Nr){var Kr=Nr.children;if(Kr&&Kr.length){var tn=rt(Nr),dn=Kr.slice(),bn,rn=[];for(cr(dn,tn.dx*tn.dy/Nr.value),rn.area=0;bn=dn.pop();)rn.push(bn),rn.area+=bn.area,bn.z!=null&&(nn(rn,bn.z?tn.dx:tn.dy,tn,!dn.length),rn.length=rn.area=0);Kr.forEach(kr)}}function Fr(Nr,Kr){for(var tn=Nr.area,dn,bn=0,rn=1/0,Yn=-1,Jn=Nr.length;++Yn<Jn;)(dn=Nr[Yn].area)&&(dn<rn&&(rn=dn),dn>bn&&(bn=dn));return tn*=tn,Kr*=Kr,tn?Math.max(Kr*bn*Qt/tn,tn/(Kr*rn*Qt)):1/0}function nn(Nr,Kr,tn,dn){var bn=-1,rn=Nr.length,Yn=tn.x,Jn=tn.y,aa=Kr?Se(Nr.area/Kr):0,fa;if(Kr==tn.dx){for((dn||aa>tn.dy)&&(aa=tn.dy);++bn<rn;)fa=Nr[bn],fa.x=Yn,fa.y=Jn,fa.dy=aa,Yn+=fa.dx=Math.min(tn.x+tn.dx-Yn,aa?Se(fa.area/aa):0);fa.z=!0,fa.dx+=tn.x+tn.dx-Yn,tn.y+=aa,tn.dy-=aa}else{for((dn||aa>tn.dx)&&(aa=tn.dx);++bn<rn;)fa=Nr[bn],fa.x=Yn,fa.y=Jn,fa.dx=aa,Jn+=fa.dy=Math.min(tn.y+tn.dy-Jn,aa?Se(fa.area/aa):0);fa.z=!1,fa.dy+=tn.y+tn.dy-Jn,tn.x+=aa,tn.dx-=aa}}function hn(Nr){var Kr=zt||le(Nr),tn=Kr[0];return tn.x=tn.y=0,tn.value?(tn.dx=Ne[0],tn.dy=Ne[1]):tn.dx=tn.dy=0,zt&&le.revalue(tn),cr([tn],tn.dx*tn.dy/tn.value),(zt?kr:hr)(tn),ot&&(zt=Kr),Kr}return hn.size=function(Nr){return arguments.length?(Ne=Nr,hn):Ne},hn.padding=function(Nr){if(!arguments.length)return Qe;function Kr(bn){var rn=Nr.call(hn,bn,bn.depth);return rn==null?Wl(bn):Po(bn,typeof rn=="number"?[rn,rn,rn,rn]:rn)}function tn(bn){return Po(bn,Nr)}var dn;return rt=(Qe=Nr)==null?Wl:(dn=typeof Nr)=="function"?Kr:(dn==="number"&&(Nr=[Nr,Nr,Nr,Nr]),tn),hn},hn.round=function(Nr){return arguments.length?(Se=Nr?Math.round:Number,hn):Se!=Number},hn.sticky=function(Nr){return arguments.length?(ot=Nr,zt=null,hn):ot},hn.ratio=function(Nr){return arguments.length?(Qt=Nr,hn):Qt},hn.mode=function(Nr){return arguments.length?(mt=Nr+"",hn):mt},na(hn,le)};function Wl(le){return{x:le.x,y:le.y,dx:le.dx,dy:le.dy}}function Po(le,Se){var Ne=le.x+Se[3],Qe=le.y+Se[0],rt=le.dx-Se[1]-Se[3],ot=le.dy-Se[0]-Se[2];return rt<0&&(Ne+=rt/2,rt=0),ot<0&&(Qe+=ot/2,ot=0),{x:Ne,y:Qe,dx:rt,dy:ot}}a.random={normal:function(le,Se){var Ne=arguments.length;return Ne<2&&(Se=1),Ne<1&&(le=0),function(){var Qe,rt,ot;do Qe=Math.random()*2-1,rt=Math.random()*2-1,ot=Qe*Qe+rt*rt;while(!ot||ot>1);return le+Se*Qe*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var le=a.random.normal.apply(a,arguments);return function(){return Math.exp(le())}},bates:function(le){var Se=a.random.irwinHall(le);return function(){return Se()/le}},irwinHall:function(le){return function(){for(var Se=0,Ne=0;Ne<le;Ne++)Se+=Math.random();return Se}}},a.scale={};function Jo(le){var Se=le[0],Ne=le[le.length-1];return Se<Ne?[Se,Ne]:[Ne,Se]}function gu(le){return le.rangeExtent?le.rangeExtent():Jo(le.range())}function Pl(le,Se,Ne,Qe){var rt=Ne(le[0],le[1]),ot=Qe(Se[0],Se[1]);return function(zt){return ot(rt(zt))}}function yu(le,Se){var Ne=0,Qe=le.length-1,rt=le[Ne],ot=le[Qe],zt;return ot<rt&&(zt=Ne,Ne=Qe,Qe=zt,zt=rt,rt=ot,ot=zt),le[Ne]=Se.floor(rt),le[Qe]=Se.ceil(ot),le}function Vu(le){return le?{floor:function(Se){return Math.floor(Se/le)*le},ceil:function(Se){return Math.ceil(Se/le)*le}}:Pc}var Pc={floor:O,ceil:O};function Yf(le,Se,Ne,Qe){var rt=[],ot=[],zt=0,mt=Math.min(le.length,Se.length)-1;for(le[mt]<le[0]&&(le=le.slice().reverse(),Se=Se.slice().reverse());++zt<=mt;)rt.push(Ne(le[zt-1],le[zt])),ot.push(Qe(Se[zt-1],Se[zt]));return function(Qt){var cr=a.bisect(le,Qt,1,mt)-1;return ot[cr](rt[cr](Qt))}}a.scale.linear=function(){return Zf([0,1],[0,1],gs,!1)};function Zf(le,Se,Ne,Qe){var rt,ot;function zt(){var Qt=Math.min(le.length,Se.length)>2?Yf:Pl,cr=Qe?_s:Is;return rt=Qt(le,Se,cr,Ne),ot=Qt(Se,le,cr,gs),mt}function mt(Qt){return rt(Qt)}return mt.invert=function(Qt){return ot(Qt)},mt.domain=function(Qt){return arguments.length?(le=Qt.map(Number),zt()):le},mt.range=function(Qt){return arguments.length?(Se=Qt,zt()):Se},mt.rangeRound=function(Qt){return mt.range(Qt).interpolate(ll)},mt.clamp=function(Qt){return arguments.length?(Qe=Qt,zt()):Qe},mt.interpolate=function(Qt){return arguments.length?(Ne=Qt,zt()):Ne},mt.ticks=function(Qt){return Bs(le,Qt)},mt.tickFormat=function(Qt,cr){return d3_scale_linearTickFormat(le,Qt,cr)},mt.nice=function(Qt){return hl(le,Qt),zt()},mt.copy=function(){return Zf(le,Se,Ne,Qe)},zt()}function bf(le,Se){return a.rebind(le,Se,"range","rangeRound","interpolate","clamp")}function hl(le,Se){return yu(le,Vu(uo(le,Se)[2])),yu(le,Vu(uo(le,Se)[2])),le}function uo(le,Se){Se==null&&(Se=10);var Ne=Jo(le),Qe=Ne[1]-Ne[0],rt=Math.pow(10,Math.floor(Math.log(Qe/Se)/Math.LN10)),ot=Se/Qe*rt;return ot<=.15?rt*=10:ot<=.35?rt*=5:ot<=.75&&(rt*=2),Ne[0]=Math.ceil(Ne[0]/rt)*rt,Ne[1]=Math.floor(Ne[1]/rt)*rt+rt*.5,Ne[2]=rt,Ne}function Bs(le,Se){return a.range.apply(a,uo(le,Se))}a.scale.log=function(){return wf(a.scale.linear().domain([0,1]),10,!0,[1,10])};function wf(le,Se,Ne,Qe){function rt(mt){return(Ne?Math.log(mt<0?0:mt):-Math.log(mt>0?0:-mt))/Math.log(Se)}function ot(mt){return Ne?Math.pow(Se,mt):-Math.pow(Se,-mt)}function zt(mt){return le(rt(mt))}return zt.invert=function(mt){return ot(le.invert(mt))},zt.domain=function(mt){return arguments.length?(Ne=mt[0]>=0,le.domain((Qe=mt.map(Number)).map(rt)),zt):Qe},zt.base=function(mt){return arguments.length?(Se=+mt,le.domain(Qe.map(rt)),zt):Se},zt.nice=function(){var mt=yu(Qe.map(rt),Ne?Math:Xf);return le.domain(mt),Qe=mt.map(ot),zt},zt.ticks=function(){var mt=Jo(Qe),Qt=[],cr=mt[0],hr=mt[1],kr=Math.floor(rt(cr)),Fr=Math.ceil(rt(hr)),nn=Se%1?2:Se;if(isFinite(Fr-kr)){if(Ne){for(;kr<Fr;kr++)for(var hn=1;hn<nn;hn++)Qt.push(ot(kr)*hn);Qt.push(ot(kr))}else for(Qt.push(ot(kr));kr++<Fr;)for(var hn=nn-1;hn>0;hn--)Qt.push(ot(kr)*hn);for(kr=0;Qt[kr]<cr;kr++);for(Fr=Qt.length;Qt[Fr-1]>hr;Fr--);Qt=Qt.slice(kr,Fr)}return Qt},zt.copy=function(){return wf(le.copy(),Se,Ne,Qe)},bf(zt,le)}var Xf={floor:function(le){return-Math.ceil(-le)},ceil:function(le){return-Math.floor(-le)}};a.scale.pow=function(){return Rl(a.scale.linear(),1,[0,1])};function Rl(le,Se,Ne){var Qe=Gu(Se),rt=Gu(1/Se);function ot(zt){return le(Qe(zt))}return ot.invert=function(zt){return rt(le.invert(zt))},ot.domain=function(zt){return arguments.length?(le.domain((Ne=zt.map(Number)).map(Qe)),ot):Ne},ot.ticks=function(zt){return Bs(Ne,zt)},ot.tickFormat=function(zt,mt){return d3_scale_linearTickFormat(Ne,zt,mt)},ot.nice=function(zt){return ot.domain(hl(Ne,zt))},ot.exponent=function(zt){return arguments.length?(Qe=Gu(Se=zt),rt=Gu(1/Se),le.domain(Ne.map(Qe)),ot):Se},ot.copy=function(){return Rl(le.copy(),Se,Ne)},bf(ot,le)}function Gu(le){return function(Se){return Se<0?-Math.pow(-Se,le):Math.pow(Se,le)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ms([],{t:"range",a:[[]]})};function Ms(le,Se){var Ne,Qe,rt;function ot(mt){return Qe[((Ne.get(mt)||(Se.t==="range"?Ne.set(mt,le.push(mt)):NaN))-1)%Qe.length]}function zt(mt,Qt){return a.range(le.length).map(function(cr){return mt+Qt*cr})}return ot.domain=function(mt){if(!arguments.length)return le;le=[],Ne=new C;for(var Qt=-1,cr=mt.length,hr;++Qt<cr;)Ne.has(hr=mt[Qt])||Ne.set(hr,le.push(hr));return ot[Se.t].apply(ot,Se.a)},ot.range=function(mt){return arguments.length?(Qe=mt,rt=0,Se={t:"range",a:arguments},ot):Qe},ot.rangePoints=function(mt,Qt){arguments.length<2&&(Qt=0);var cr=mt[0],hr=mt[1],kr=le.length<2?(cr=(cr+hr)/2,0):(hr-cr)/(le.length-1+Qt);return Qe=zt(cr+kr*Qt/2,kr),rt=0,Se={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(mt,Qt){arguments.length<2&&(Qt=0);var cr=mt[0],hr=mt[1],kr=le.length<2?(cr=hr=Math.round((cr+hr)/2),0):(hr-cr)/(le.length-1+Qt)|0;return Qe=zt(cr+Math.round(kr*Qt/2+(hr-cr-(le.length-1+Qt)*kr)/2),kr),rt=0,Se={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(mt,Qt,cr){arguments.length<2&&(Qt=0),arguments.length<3&&(cr=Qt);var hr=mt[1]<mt[0],kr=mt[hr-0],Fr=mt[1-hr],nn=(Fr-kr)/(le.length-Qt+2*cr);return Qe=zt(kr+nn*cr,nn),hr&&Qe.reverse(),rt=nn*(1-Qt),Se={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(mt,Qt,cr){arguments.length<2&&(Qt=0),arguments.length<3&&(cr=Qt);var hr=mt[1]<mt[0],kr=mt[hr-0],Fr=mt[1-hr],nn=Math.floor((Fr-kr)/(le.length-Qt+2*cr));return Qe=zt(kr+Math.round((Fr-kr-(le.length-Qt)*nn)/2),nn),hr&&Qe.reverse(),rt=Math.round(nn*(1-Qt)),Se={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return rt},ot.rangeExtent=function(){return Jo(Se.a[0])},ot.copy=function(){return Ms(le,Se)},ot.domain(le)}a.scale.category10=function(){return a.scale.ordinal().range(Wu)},a.scale.category20=function(){return a.scale.ordinal().range(qs)},a.scale.category20b=function(){return a.scale.ordinal().range(el)},a.scale.category20c=function(){return a.scale.ordinal().range(Tf)};var Wu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(er),qs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(er),el=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(er),Tf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(er);a.scale.quantile=function(){return Yl([],[])};function Yl(le,Se){var Ne;function Qe(){var ot=0,zt=Se.length;for(Ne=[];++ot<zt;)Ne[ot-1]=a.quantile(le,ot/zt);return rt}function rt(ot){if(!isNaN(ot=+ot))return Se[a.bisect(Ne,ot)]}return rt.domain=function(ot){return arguments.length?(le=ot.map(x).filter(h).sort(n),Qe()):le},rt.range=function(ot){return arguments.length?(Se=ot,Qe()):Se},rt.quantiles=function(){return Ne},rt.invertExtent=function(ot){return ot=Se.indexOf(ot),ot<0?[NaN,NaN]:[ot>0?Ne[ot-1]:le[0],ot<Ne.length?Ne[ot]:le[le.length-1]]},rt.copy=function(){return Yl(le,Se)},Qe()}a.scale.quantize=function(){return Ci(0,1,[0,1])};function Ci(le,Se,Ne){var Qe,rt;function ot(mt){return Ne[Math.max(0,Math.min(rt,Math.floor(Qe*(mt-le))))]}function zt(){return Qe=Ne.length/(Se-le),rt=Ne.length-1,ot}return ot.domain=function(mt){return arguments.length?(le=+mt[0],Se=+mt[mt.length-1],zt()):[le,Se]},ot.range=function(mt){return arguments.length?(Ne=mt,zt()):Ne},ot.invertExtent=function(mt){return mt=Ne.indexOf(mt),mt=mt<0?NaN:mt/Qe+le,[mt,mt+1/Qe]},ot.copy=function(){return Ci(le,Se,Ne)},zt()}a.scale.threshold=function(){return Dl([.5],[0,1])};function Dl(le,Se){function Ne(Qe){if(Qe<=Qe)return Se[a.bisect(le,Qe)]}return Ne.domain=function(Qe){return arguments.length?(le=Qe,Ne):le},Ne.range=function(Qe){return arguments.length?(Se=Qe,Ne):Se},Ne.invertExtent=function(Qe){return Qe=Se.indexOf(Qe),[le[Qe-1],le[Qe]]},Ne.copy=function(){return Dl(le,Se)},Ne}a.scale.identity=function(){return Yu([0,1])};function Yu(le){function Se(Ne){return+Ne}return Se.invert=Se,Se.domain=Se.range=function(Ne){return arguments.length?(le=Ne.map(Se),Se):le},Se.ticks=function(Ne){return Bs(le,Ne)},Se.tickFormat=function(Ne,Qe){return d3_scale_linearTickFormat(le,Ne,Qe)},Se.copy=function(){return Yu(le)},Se}a.svg={};function Zu(){return 0}a.svg.arc=function(){var le=Rc,Se=Af,Ne=Zu,Qe=vl,rt=Zl,ot=Mf,zt=jf;function mt(){var cr=Math.max(0,+le.apply(this,arguments)),hr=Math.max(0,+Se.apply(this,arguments)),kr=rt.apply(this,arguments)-vt,Fr=ot.apply(this,arguments)-vt,nn=Math.abs(Fr-kr),hn=kr>Fr?0:1;if(hr<cr&&(Nr=hr,hr=cr,cr=Nr),nn>=ht)return Qt(hr,hn)+(cr?Qt(cr,1-hn):"")+"Z";var Nr,Kr,tn,dn,bn=0,rn=0,Yn,Jn,aa,fa,Ea,Sa,Ja,Ia,Wa=[];if((dn=(+zt.apply(this,arguments)||0)/2)&&(tn=Qe===vl?Math.sqrt(cr*cr+hr*hr):+Qe.apply(this,arguments),hn||(rn*=-1),hr&&(rn=qt(tn/hr*Math.sin(dn))),cr&&(bn=qt(tn/cr*Math.sin(dn)))),hr){Yn=hr*Math.cos(kr+rn),Jn=hr*Math.sin(kr+rn),aa=hr*Math.cos(Fr-rn),fa=hr*Math.sin(Fr-rn);var di=Math.abs(Fr-kr-2*rn)<=Le?0:1;if(rn&&tl(Yn,Jn,aa,fa)===hn^di){var yi=(kr+Fr)/2;Yn=hr*Math.cos(yi),Jn=hr*Math.sin(yi),aa=fa=null}}else Yn=Jn=0;if(cr){Ea=cr*Math.cos(Fr-bn),Sa=cr*Math.sin(Fr-bn),Ja=cr*Math.cos(kr+bn),Ia=cr*Math.sin(kr+bn);var Li=Math.abs(kr-Fr+2*bn)<=Le?0:1;if(bn&&tl(Ea,Sa,Ja,Ia)===1-hn^Li){var jn=(kr+Fr)/2;Ea=cr*Math.cos(jn),Sa=cr*Math.sin(jn),Ja=Ia=null}}else Ea=Sa=0;if(nn>fe&&(Nr=Math.min(Math.abs(hr-cr)/2,+Ne.apply(this,arguments)))>.001){Kr=cr<hr^hn?0:1;var Ya=Nr,Ha=Nr;if(nn<Le){var ii=Ja==null?[Ea,Sa]:aa==null?[Yn,Jn]:Cn([Yn,Jn],[Ja,Ia],[aa,fa],[Ea,Sa]),Xi=Yn-ii[0],oo=Jn-ii[1],vo=aa-ii[0],Ui=fa-ii[1],Ri=1/Math.sin(Math.acos((Xi*vo+oo*Ui)/(Math.sqrt(Xi*Xi+oo*oo)*Math.sqrt(vo*vo+Ui*Ui)))/2),Aa=Math.sqrt(ii[0]*ii[0]+ii[1]*ii[1]);Ha=Math.min(Nr,(cr-Aa)/(Ri-1)),Ya=Math.min(Nr,(hr-Aa)/(Ri+1))}if(aa!=null){var Ra=dl(Ja==null?[Ea,Sa]:[Ja,Ia],[Yn,Jn],hr,Ya,hn),Hi=dl([aa,fa],[Ea,Sa],hr,Ya,hn);Nr===Ya?Wa.push("M",Ra[0],"A",Ya,",",Ya," 0 0,",Kr," ",Ra[1],"A",hr,",",hr," 0 ",1-hn^tl(Ra[1][0],Ra[1][1],Hi[1][0],Hi[1][1]),",",hn," ",Hi[1],"A",Ya,",",Ya," 0 0,",Kr," ",Hi[0]):Wa.push("M",Ra[0],"A",Ya,",",Ya," 0 1,",Kr," ",Hi[0])}else Wa.push("M",Yn,",",Jn);if(Ja!=null){var fo=dl([Yn,Jn],[Ja,Ia],cr,-Ha,hn),ns=dl([Ea,Sa],aa==null?[Yn,Jn]:[aa,fa],cr,-Ha,hn);Nr===Ha?Wa.push("L",ns[0],"A",Ha,",",Ha," 0 0,",Kr," ",ns[1],"A",cr,",",cr," 0 ",hn^tl(ns[1][0],ns[1][1],fo[1][0],fo[1][1]),",",1-hn," ",fo[1],"A",Ha,",",Ha," 0 0,",Kr," ",fo[0]):Wa.push("L",ns[0],"A",Ha,",",Ha," 0 0,",Kr," ",fo[0])}else Wa.push("L",Ea,",",Sa)}else Wa.push("M",Yn,",",Jn),aa!=null&&Wa.push("A",hr,",",hr," 0 ",di,",",hn," ",aa,",",fa),Wa.push("L",Ea,",",Sa),Ja!=null&&Wa.push("A",cr,",",cr," 0 ",Li,",",1-hn," ",Ja,",",Ia);return Wa.push("Z"),Wa.join("")}function Qt(cr,hr){return"M0,"+cr+"A"+cr+","+cr+" 0 1,"+hr+" 0,"+-cr+"A"+cr+","+cr+" 0 1,"+hr+" 0,"+cr}return mt.innerRadius=function(cr){return arguments.length?(le=fn(cr),mt):le},mt.outerRadius=function(cr){return arguments.length?(Se=fn(cr),mt):Se},mt.cornerRadius=function(cr){return arguments.length?(Ne=fn(cr),mt):Ne},mt.padRadius=function(cr){return arguments.length?(Qe=cr==vl?vl:fn(cr),mt):Qe},mt.startAngle=function(cr){return arguments.length?(rt=fn(cr),mt):rt},mt.endAngle=function(cr){return arguments.length?(ot=fn(cr),mt):ot},mt.padAngle=function(cr){return arguments.length?(zt=fn(cr),mt):zt},mt.centroid=function(){var cr=(+le.apply(this,arguments)+ +Se.apply(this,arguments))/2,hr=(+rt.apply(this,arguments)+ +ot.apply(this,arguments))/2-vt;return[Math.cos(hr)*cr,Math.sin(hr)*cr]},mt};var vl="auto";function Rc(le){return le.innerRadius}function Af(le){return le.outerRadius}function Zl(le){return le.startAngle}function Mf(le){return le.endAngle}function jf(le){return le&&le.padAngle}function tl(le,Se,Ne,Qe){return(le-Ne)*Se-(Se-Qe)*le>0?0:1}function dl(le,Se,Ne,Qe,rt){var ot=le[0]-Se[0],zt=le[1]-Se[1],mt=(rt?Qe:-Qe)/Math.sqrt(ot*ot+zt*zt),Qt=mt*zt,cr=-mt*ot,hr=le[0]+Qt,kr=le[1]+cr,Fr=Se[0]+Qt,nn=Se[1]+cr,hn=(hr+Fr)/2,Nr=(kr+nn)/2,Kr=Fr-hr,tn=nn-kr,dn=Kr*Kr+tn*tn,bn=Ne-Qe,rn=hr*nn-Fr*kr,Yn=(tn<0?-1:1)*Math.sqrt(Math.max(0,bn*bn*dn-rn*rn)),Jn=(rn*tn-Kr*Yn)/dn,aa=(-rn*Kr-tn*Yn)/dn,fa=(rn*tn+Kr*Yn)/dn,Ea=(-rn*Kr+tn*Yn)/dn,Sa=Jn-hn,Ja=aa-Nr,Ia=fa-hn,Wa=Ea-Nr;return Sa*Sa+Ja*Ja>Ia*Ia+Wa*Wa&&(Jn=fa,aa=Ea),[[Jn-Qt,aa-cr],[Jn*Ne/bn,aa*Ne/bn]]}function Il(){return!0}function _l(le){var Se=ua,Ne=xa,Qe=Il,rt=rs,ot=rt.key,zt=.7;function mt(Qt){var cr=[],hr=[],kr=-1,Fr=Qt.length,nn,hn=fn(Se),Nr=fn(Ne);function Kr(){cr.push("M",rt(le(hr),zt))}for(;++kr<Fr;)Qe.call(this,nn=Qt[kr],kr)?hr.push([+hn.call(this,nn,kr),+Nr.call(this,nn,kr)]):hr.length&&(Kr(),hr=[]);return hr.length&&Kr(),cr.length?cr.join(""):null}return mt.x=function(Qt){return arguments.length?(Se=Qt,mt):Se},mt.y=function(Qt){return arguments.length?(Ne=Qt,mt):Ne},mt.defined=function(Qt){return arguments.length?(Qe=Qt,mt):Qe},mt.interpolate=function(Qt){return arguments.length?(typeof Qt=="function"?ot=rt=Qt:ot=(rt=Qo.get(Qt)||rs).key,mt):ot},mt.tension=function(Qt){return arguments.length?(zt=Qt,mt):zt},mt}a.svg.line=function(){return _l(O)};var Qo=a.map({linear:rs,"linear-closed":Fl,step:Kf,"step-before":Xl,"step-after":Xu,basis:rl,"basis-open":Dc,"basis-closed":Ef,bundle:ju,cardinal:Sf,"cardinal-open":Jf,"cardinal-closed":Ss,monotone:Cf});Qo.forEach(function(le,Se){Se.key=le,Se.closed=/-closed$/.test(le)});function rs(le){return le.length>1?le.join("L"):le+"Z"}function Fl(le){return le.join("L")+"Z"}function Kf(le){for(var Se=0,Ne=le.length,Qe=le[0],rt=[Qe[0],",",Qe[1]];++Se<Ne;)rt.push("H",(Qe[0]+(Qe=le[Se])[0])/2,"V",Qe[1]);return Ne>1&&rt.push("H",Qe[0]),rt.join("")}function Xl(le){for(var Se=0,Ne=le.length,Qe=le[0],rt=[Qe[0],",",Qe[1]];++Se<Ne;)rt.push("V",(Qe=le[Se])[1],"H",Qe[0]);return rt.join("")}function Xu(le){for(var Se=0,Ne=le.length,Qe=le[0],rt=[Qe[0],",",Qe[1]];++Se<Ne;)rt.push("H",(Qe=le[Se])[0],"V",Qe[1]);return rt.join("")}function Jf(le,Se){return le.length<4?rs(le):le[1]+pl(le.slice(1,-1),mu(le,Se))}function Ss(le,Se){return le.length<3?Fl(le):le[0]+pl((le.push(le[0]),le),mu([le[le.length-2]].concat(le,[le[1]]),Se))}function Sf(le,Se){return le.length<3?rs(le):le[0]+pl(le,mu(le,Se))}function pl(le,Se){if(Se.length<1||le.length!=Se.length&&le.length!=Se.length+2)return rs(le);var Ne=le.length!=Se.length,Qe="",rt=le[0],ot=le[1],zt=Se[0],mt=zt,Qt=1;if(Ne&&(Qe+="Q"+(ot[0]-zt[0]*2/3)+","+(ot[1]-zt[1]*2/3)+","+ot[0]+","+ot[1],rt=le[1],Qt=2),Se.length>1){mt=Se[1],ot=le[Qt],Qt++,Qe+="C"+(rt[0]+zt[0])+","+(rt[1]+zt[1])+","+(ot[0]-mt[0])+","+(ot[1]-mt[1])+","+ot[0]+","+ot[1];for(var cr=2;cr<Se.length;cr++,Qt++)ot=le[Qt],mt=Se[cr],Qe+="S"+(ot[0]-mt[0])+","+(ot[1]-mt[1])+","+ot[0]+","+ot[1]}if(Ne){var hr=le[Qt];Qe+="Q"+(ot[0]+mt[0]*2/3)+","+(ot[1]+mt[1]*2/3)+","+hr[0]+","+hr[1]}return Qe}function mu(le,Se){for(var Ne=[],Qe=(1-Se)/2,rt,ot=le[0],zt=le[1],mt=1,Qt=le.length;++mt<Qt;)rt=ot,ot=zt,zt=le[mt],Ne.push([Qe*(zt[0]-rt[0]),Qe*(zt[1]-rt[1])]);return Ne}function rl(le){if(le.length<3)return rs(le);var Se=1,Ne=le.length,Qe=le[0],rt=Qe[0],ot=Qe[1],zt=[rt,rt,rt,(Qe=le[1])[0]],mt=[ot,ot,ot,Qe[1]],Qt=[rt,",",ot,"L",Oo(Ns,zt),",",Oo(Ns,mt)];for(le.push(le[Ne-1]);++Se<=Ne;)Qe=le[Se],zt.shift(),zt.push(Qe[0]),mt.shift(),mt.push(Qe[1]),bu(Qt,zt,mt);return le.pop(),Qt.push("L",Qe),Qt.join("")}function Dc(le){if(le.length<4)return rs(le);for(var Se=[],Ne=-1,Qe=le.length,rt,ot=[0],zt=[0];++Ne<3;)rt=le[Ne],ot.push(rt[0]),zt.push(rt[1]);for(Se.push(Oo(Ns,ot)+","+Oo(Ns,zt)),--Ne;++Ne<Qe;)rt=le[Ne],ot.shift(),ot.push(rt[0]),zt.shift(),zt.push(rt[1]),bu(Se,ot,zt);return Se.join("")}function Ef(le){for(var Se,Ne=-1,Qe=le.length,rt=Qe+4,ot,zt=[],mt=[];++Ne<4;)ot=le[Ne%Qe],zt.push(ot[0]),mt.push(ot[1]);for(Se=[Oo(Ns,zt),",",Oo(Ns,mt)],--Ne;++Ne<rt;)ot=le[Ne%Qe],zt.shift(),zt.push(ot[0]),mt.shift(),mt.push(ot[1]),bu(Se,zt,mt);return Se.join("")}function ju(le,Se){var Ne=le.length-1;if(Ne)for(var Qe=le[0][0],rt=le[0][1],ot=le[Ne][0]-Qe,zt=le[Ne][1]-rt,mt=-1,Qt,cr;++mt<=Ne;)Qt=le[mt],cr=mt/Ne,Qt[0]=Se*Qt[0]+(1-Se)*(Qe+cr*ot),Qt[1]=Se*Qt[1]+(1-Se)*(rt+cr*zt);return rl(le)}function Oo(le,Se){return le[0]*Se[0]+le[1]*Se[1]+le[2]*Se[2]+le[3]*Se[3]}var Qf=[0,2/3,1/3,0],xu=[0,1/3,2/3,0],Ns=[0,1/6,2/3,1/6];function bu(le,Se,Ne){le.push("C",Oo(Qf,Se),",",Oo(Qf,Ne),",",Oo(xu,Se),",",Oo(xu,Ne),",",Oo(Ns,Se),",",Oo(Ns,Ne))}function yl(le,Se){return(Se[1]-le[1])/(Se[0]-le[0])}function Ku(le){for(var Se=0,Ne=le.length-1,Qe=[],rt=le[0],ot=le[1],zt=Qe[0]=yl(rt,ot);++Se<Ne;)Qe[Se]=(zt+(zt=yl(rt=ot,ot=le[Se+1])))/2;return Qe[Se]=zt,Qe}function $f(le){for(var Se=[],Ne,Qe,rt,ot,zt=Ku(le),mt=-1,Qt=le.length-1;++mt<Qt;)Ne=yl(le[mt],le[mt+1]),d(Ne)<fe?zt[mt]=zt[mt+1]=0:(Qe=zt[mt]/Ne,rt=zt[mt+1]/Ne,ot=Qe*Qe+rt*rt,ot>9&&(ot=Ne*3/Math.sqrt(ot),zt[mt]=ot*Qe,zt[mt+1]=ot*rt));for(mt=-1;++mt<=Qt;)ot=(le[Math.min(Qt,mt+1)][0]-le[Math.max(0,mt-1)][0])/(6*(1+zt[mt]*zt[mt])),Se.push([ot||0,zt[mt]*ot||0]);return Se}function Cf(le){return le.length<3?rs(le):le[0]+pl(le,$f(le))}a.svg.line.radial=function(){var le=_l(Lf);return le.radius=le.x,delete le.x,le.angle=le.y,delete le.y,le};function Lf(le){for(var Se,Ne=-1,Qe=le.length,rt,ot;++Ne<Qe;)Se=le[Ne],rt=Se[0],ot=Se[1]-vt,Se[0]=rt*Math.cos(ot),Se[1]=rt*Math.sin(ot);return le}function kl(le){var Se=ua,Ne=ua,Qe=0,rt=xa,ot=Il,zt=rs,mt=zt.key,Qt=zt,cr="L",hr=.7;function kr(Fr){var nn=[],hn=[],Nr=[],Kr=-1,tn=Fr.length,dn,bn=fn(Se),rn=fn(Qe),Yn=Se===Ne?function(){return aa}:fn(Ne),Jn=Qe===rt?function(){return fa}:fn(rt),aa,fa;function Ea(){nn.push("M",zt(le(Nr),hr),cr,Qt(le(hn.reverse()),hr),"Z")}for(;++Kr<tn;)ot.call(this,dn=Fr[Kr],Kr)?(hn.push([aa=+bn.call(this,dn,Kr),fa=+rn.call(this,dn,Kr)]),Nr.push([+Yn.call(this,dn,Kr),+Jn.call(this,dn,Kr)])):hn.length&&(Ea(),hn=[],Nr=[]);return hn.length&&Ea(),nn.length?nn.join(""):null}return kr.x=function(Fr){return arguments.length?(Se=Ne=Fr,kr):Ne},kr.x0=function(Fr){return arguments.length?(Se=Fr,kr):Se},kr.x1=function(Fr){return arguments.length?(Ne=Fr,kr):Ne},kr.y=function(Fr){return arguments.length?(Qe=rt=Fr,kr):rt},kr.y0=function(Fr){return arguments.length?(Qe=Fr,kr):Qe},kr.y1=function(Fr){return arguments.length?(rt=Fr,kr):rt},kr.defined=function(Fr){return arguments.length?(ot=Fr,kr):ot},kr.interpolate=function(Fr){return arguments.length?(typeof Fr=="function"?mt=zt=Fr:mt=(zt=Qo.get(Fr)||rs).key,Qt=zt.reverse||zt,cr=zt.closed?"M":"L",kr):mt},kr.tension=function(Fr){return arguments.length?(hr=Fr,kr):hr},kr}Xl.reverse=Xu,Xu.reverse=Xl,a.svg.area=function(){return kl(O)},a.svg.area.radial=function(){var le=kl(Lf);return le.radius=le.x,delete le.x,le.innerRadius=le.x0,delete le.x0,le.outerRadius=le.x1,delete le.x1,le.angle=le.y,delete le.y,le.startAngle=le.y0,delete le.y0,le.endAngle=le.y1,delete le.y1,le};function Ju(le){return le.source}function wu(le){return le.target}a.svg.chord=function(){var le=Ju,Se=wu,Ne=qf,Qe=Zl,rt=Mf;function ot(hr,kr){var Fr=zt(this,le,hr,kr),nn=zt(this,Se,hr,kr);return"M"+Fr.p0+Qt(Fr.r,Fr.p1,Fr.a1-Fr.a0)+(mt(Fr,nn)?cr(Fr.r,Fr.p1,Fr.r,Fr.p0):cr(Fr.r,Fr.p1,nn.r,nn.p0)+Qt(nn.r,nn.p1,nn.a1-nn.a0)+cr(nn.r,nn.p1,Fr.r,Fr.p0))+"Z"}function zt(hr,kr,Fr,nn){var hn=kr.call(hr,Fr,nn),Nr=Ne.call(hr,hn,nn),Kr=Qe.call(hr,hn,nn)-vt,tn=rt.call(hr,hn,nn)-vt;return{r:Nr,a0:Kr,a1:tn,p0:[Nr*Math.cos(Kr),Nr*Math.sin(Kr)],p1:[Nr*Math.cos(tn),Nr*Math.sin(tn)]}}function mt(hr,kr){return hr.a0==kr.a0&&hr.a1==kr.a1}function Qt(hr,kr,Fr){return"A"+hr+","+hr+" 0 "+ +(Fr>Le)+",1 "+kr}function cr(hr,kr,Fr,nn){return"Q 0,0 "+nn}return ot.radius=function(hr){return arguments.length?(Ne=fn(hr),ot):Ne},ot.source=function(hr){return arguments.length?(le=fn(hr),ot):le},ot.target=function(hr){return arguments.length?(Se=fn(hr),ot):Se},ot.startAngle=function(hr){return arguments.length?(Qe=fn(hr),ot):Qe},ot.endAngle=function(hr){return arguments.length?(rt=fn(hr),ot):rt},ot};function qf(le){return le.radius}a.svg.diagonal=function(){var le=Ju,Se=wu,Ne=Tu;function Qe(rt,ot){var zt=le.call(this,rt,ot),mt=Se.call(this,rt,ot),Qt=(zt.y+mt.y)/2,cr=[zt,{x:zt.x,y:Qt},{x:mt.x,y:Qt},mt];return cr=cr.map(Ne),"M"+cr[0]+"C"+cr[1]+" "+cr[2]+" "+cr[3]}return Qe.source=function(rt){return arguments.length?(le=fn(rt),Qe):le},Qe.target=function(rt){return arguments.length?(Se=fn(rt),Qe):Se},Qe.projection=function(rt){return arguments.length?(Ne=rt,Qe):Ne},Qe};function Tu(le){return[le.x,le.y]}a.svg.diagonal.radial=function(){var le=a.svg.diagonal(),Se=Tu,Ne=le.projection;return le.projection=function(Qe){return arguments.length?Ne(ec(Se=Qe)):Se},le};function ec(le){return function(){var Se=le.apply(this,arguments),Ne=Se[0],Qe=Se[1]-vt;return[Ne*Math.cos(Qe),Ne*Math.sin(Qe)]}}a.svg.symbol=function(){var le=nt,Se=Xe;function Ne(Qe,rt){return(Tt.get(le.call(this,Qe,rt))||xt)(Se.call(this,Qe,rt))}return Ne.type=function(Qe){return arguments.length?(le=fn(Qe),Ne):le},Ne.size=function(Qe){return arguments.length?(Se=fn(Qe),Ne):Se},Ne};function Xe(){return 64}function nt(){return"circle"}function xt(le){var Se=Math.sqrt(le/Le);return"M0,"+Se+"A"+Se+","+Se+" 0 1,1 0,"+-Se+"A"+Se+","+Se+" 0 1,1 0,"+Se+"Z"}var Tt=a.map({circle:xt,cross:function(le){var Se=Math.sqrt(le/5)/2;return"M"+-3*Se+","+-Se+"H"+-Se+"V"+-3*Se+"H"+Se+"V"+-Se+"H"+3*Se+"V"+Se+"H"+Se+"V"+3*Se+"H"+-Se+"V"+Se+"H"+-3*Se+"Z"},diamond:function(le){var Se=Math.sqrt(le/(2*Ft)),Ne=Se*Ft;return"M0,"+-Se+"L"+Ne+",0 0,"+Se+" "+-Ne+",0Z"},square:function(le){var Se=Math.sqrt(le)/2;return"M"+-Se+","+-Se+"L"+Se+","+-Se+" "+Se+","+Se+" "+-Se+","+Se+"Z"},"triangle-down":function(le){var Se=Math.sqrt(le/Bt),Ne=Se*Bt/2;return"M0,"+Ne+"L"+Se+","+-Ne+" "+-Se+","+-Ne+"Z"},"triangle-up":function(le){var Se=Math.sqrt(le/Bt),Ne=Se*Bt/2;return"M0,"+-Ne+"L"+Se+","+Ne+" "+-Se+","+Ne+"Z"}});a.svg.symbolTypes=Tt.keys();var Bt=Math.sqrt(3),Ft=Math.tan(30*Lt);$.transition=function(le){for(var Se=zr||++Pr,Ne=En(le),Qe=[],rt,ot,zt=en||{time:Date.now(),ease:pf,delay:0,duration:250},mt=-1,Qt=this.length;++mt<Qt;){Qe.push(rt=[]);for(var cr=this[mt],hr=-1,kr=cr.length;++hr<kr;)(ot=cr[hr])&&zn(ot,hr,Ne,Se,zt),rt.push(ot)}return Sr(Qe,Ne,Se)},$.interrupt=function(le){return this.each(le==null?Yt:xr(En(le)))};var Yt=xr(En());function xr(le){return function(){var Se,Ne,Qe;(Se=this[le])&&(Qe=Se[Ne=Se.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Se.count?delete Se[Ne]:delete this[le],Se.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function Sr(le,Se,Ne){return V(le,dr),le.namespace=Se,le.id=Ne,le}var dr=[],Pr=0,zr,en;dr.call=$.call,dr.empty=$.empty,dr.node=$.node,dr.size=$.size,a.transition=function(le,Se){return le&&le.transition?zr?le.transition(Se):le:a.selection().transition(le)},a.transition.prototype=dr,dr.select=function(le){var Se=this.id,Ne=this.namespace,Qe=[],rt,ot,zt;le=se(le);for(var mt=-1,Qt=this.length;++mt<Qt;){Qe.push(rt=[]);for(var cr=this[mt],hr=-1,kr=cr.length;++hr<kr;)(zt=cr[hr])&&(ot=le.call(zt,zt.__data__,hr,mt))?("__data__"in zt&&(ot.__data__=zt.__data__),zn(ot,hr,Ne,Se,zt[Ne][Se]),rt.push(ot)):rt.push(null)}return Sr(Qe,Ne,Se)},dr.selectAll=function(le){var Se=this.id,Ne=this.namespace,Qe=[],rt,ot,zt,mt,Qt;le=ee(le);for(var cr=-1,hr=this.length;++cr<hr;)for(var kr=this[cr],Fr=-1,nn=kr.length;++Fr<nn;)if(zt=kr[Fr]){Qt=zt[Ne][Se],ot=le.call(zt,zt.__data__,Fr,cr),Qe.push(rt=[]);for(var hn=-1,Nr=ot.length;++hn<Nr;)(mt=ot[hn])&&zn(mt,hn,Ne,Se,Qt),rt.push(mt)}return Sr(Qe,Ne,Se)},dr.filter=function(le){var Se=[],Ne,Qe,rt;typeof le!="function"&&(le=ct(le));for(var ot=0,zt=this.length;ot<zt;ot++){Se.push(Ne=[]);for(var Qe=this[ot],mt=0,Qt=Qe.length;mt<Qt;mt++)(rt=Qe[mt])&&le.call(rt,rt.__data__,mt,ot)&&Ne.push(rt)}return Sr(Se,this.namespace,this.id)},dr.tween=function(le,Se){var Ne=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Ne].tween.get(le):at(this,Se==null?function(rt){rt[Qe][Ne].tween.remove(le)}:function(rt){rt[Qe][Ne].tween.set(le,Se)})};function sn(le,Se,Ne,Qe){var rt=le.id,ot=le.namespace;return at(le,typeof Ne=="function"?function(zt,mt,Qt){zt[ot][rt].tween.set(Se,Qe(Ne.call(zt,zt.__data__,mt,Qt)))}:(Ne=Qe(Ne),function(zt){zt[ot][rt].tween.set(Se,Ne)}))}dr.attr=function(le,Se){if(arguments.length<2){for(Se in le)this.attr(Se,le[Se]);return this}var Ne=le=="transform"?os:gs,Qe=a.ns.qualify(le);function rt(){this.removeAttribute(Qe)}function ot(){this.removeAttributeNS(Qe.space,Qe.local)}function zt(Qt){return Qt==null?rt:(Qt+="",function(){var cr=this.getAttribute(Qe),hr;return cr!==Qt&&(hr=Ne(cr,Qt),function(kr){this.setAttribute(Qe,hr(kr))})})}function mt(Qt){return Qt==null?ot:(Qt+="",function(){var cr=this.getAttributeNS(Qe.space,Qe.local),hr;return cr!==Qt&&(hr=Ne(cr,Qt),function(kr){this.setAttributeNS(Qe.space,Qe.local,hr(kr))})})}return sn(this,"attr."+le,Se,Qe.local?mt:zt)},dr.attrTween=function(le,Se){var Ne=a.ns.qualify(le);function Qe(ot,zt){var mt=Se.call(this,ot,zt,this.getAttribute(Ne));return mt&&function(Qt){this.setAttribute(Ne,mt(Qt))}}function rt(ot,zt){var mt=Se.call(this,ot,zt,this.getAttributeNS(Ne.space,Ne.local));return mt&&function(Qt){this.setAttributeNS(Ne.space,Ne.local,mt(Qt))}}return this.tween("attr."+le,Ne.local?rt:Qe)},dr.style=function(le,Se,Ne){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Se="");for(Ne in le)this.style(Ne,le[Ne],Se);return this}Ne=""}function rt(){this.style.removeProperty(le)}function ot(zt){return zt==null?rt:(zt+="",function(){var mt=t(this).getComputedStyle(this,null).getPropertyValue(le),Qt;return mt!==zt&&(Qt=gs(mt,zt),function(cr){this.style.setProperty(le,Qt(cr),Ne)})})}return sn(this,"style."+le,Se,ot)},dr.styleTween=function(le,Se,Ne){arguments.length<3&&(Ne="");function Qe(rt,ot){var zt=Se.call(this,rt,ot,t(this).getComputedStyle(this,null).getPropertyValue(le));return zt&&function(mt){this.style.setProperty(le,zt(mt),Ne)}}return this.tween("style."+le,Qe)},dr.text=function(le){return sn(this,"text",le,Mn)};function Mn(le){return le==null&&(le=""),function(){this.textContent=le}}dr.remove=function(){var le=this.namespace;return this.each("end.transition",function(){var Se;this[le].count<2&&(Se=this.parentNode)&&Se.removeChild(this)})},dr.ease=function(le){var Se=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Se].ease:(typeof le!="function"&&(le=a.ease.apply(a,arguments)),at(this,function(Qe){Qe[Ne][Se].ease=le}))},dr.delay=function(le){var Se=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Se].delay:at(this,typeof le=="function"?function(Qe,rt,ot){Qe[Ne][Se].delay=+le.call(Qe,Qe.__data__,rt,ot)}:(le=+le,function(Qe){Qe[Ne][Se].delay=le}))},dr.duration=function(le){var Se=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Se].duration:at(this,typeof le=="function"?function(Qe,rt,ot){Qe[Ne][Se].duration=Math.max(1,le.call(Qe,Qe.__data__,rt,ot))}:(le=Math.max(1,le),function(Qe){Qe[Ne][Se].duration=le}))},dr.each=function(le,Se){var Ne=this.id,Qe=this.namespace;if(arguments.length<2){var rt=en,ot=zr;try{zr=Ne,at(this,function(zt,mt,Qt){en=zt[Qe][Ne],le.call(zt,zt.__data__,mt,Qt)})}finally{en=rt,zr=ot}}else at(this,function(zt){var mt=zt[Qe][Ne];(mt.event||(mt.event=a.dispatch("start","end","interrupt"))).on(le,Se)});return this},dr.transition=function(){for(var le=this.id,Se=++Pr,Ne=this.namespace,Qe=[],rt,ot,zt,mt,Qt=0,cr=this.length;Qt<cr;Qt++){Qe.push(rt=[]);for(var ot=this[Qt],hr=0,kr=ot.length;hr<kr;hr++)(zt=ot[hr])&&(mt=zt[Ne][le],zn(zt,hr,Ne,Se,{time:mt.time,ease:mt.ease,delay:mt.delay+mt.duration,duration:mt.duration})),rt.push(zt)}return Sr(Qe,Ne,Se)};function En(le){return le==null?"__transition__":"__transition_"+le+"__"}function zn(le,Se,Ne,Qe,rt){var ot=le[Ne]||(le[Ne]={active:0,count:0}),zt=ot[Qe],mt,Qt,cr,hr,kr;function Fr(Nr){var Kr=zt.delay;if(Qt.t=Kr+mt,Kr<=Nr)return nn(Nr-Kr);Qt.c=nn}function nn(Nr){var Kr=ot.active,tn=ot[Kr];tn&&(tn.timer.c=null,tn.timer.t=NaN,--ot.count,delete ot[Kr],tn.event&&tn.event.interrupt.call(le,le.__data__,tn.index));for(var dn in ot)if(+dn<Qe){var bn=ot[dn];bn.timer.c=null,bn.timer.t=NaN,--ot.count,delete ot[dn]}Qt.c=hn,Rn(function(){return Qt.c&&hn(Nr||1)&&(Qt.c=null,Qt.t=NaN),1},0,mt),ot.active=Qe,zt.event&&zt.event.start.call(le,le.__data__,Se),kr=[],zt.tween.forEach(function(rn,Yn){(Yn=Yn.call(le,le.__data__,Se))&&kr.push(Yn)}),hr=zt.ease,cr=zt.duration}function hn(Nr){for(var Kr=Nr/cr,tn=hr(Kr),dn=kr.length;dn>0;)kr[--dn].call(le,tn);if(Kr>=1)return zt.event&&zt.event.end.call(le,le.__data__,Se),--ot.count?delete ot[Qe]:delete le[Ne],1}zt||(mt=rt.time,Qt=Rn(Fr,0,mt),zt=ot[Qe]={tween:new C,time:mt,timer:Qt,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Se},rt=null,++ot.count)}a.svg.axis=function(){var le=a.scale.linear(),Se=wa,Ne=6,Qe=6,rt=3,ot=[10],zt=null,mt;function Qt(cr){cr.each(function(){var hr=a.select(this),kr=this.__chart__||le,Fr=this.__chart__=le.copy(),nn=zt??(Fr.ticks?Fr.ticks.apply(Fr,ot):Fr.domain()),hn=mt??(Fr.tickFormat?Fr.tickFormat.apply(Fr,ot):O),Nr=hr.selectAll(".tick").data(nn,Fr),Kr=Nr.enter().insert("g",".domain").attr("class","tick").style("opacity",fe),tn=a.transition(Nr.exit()).style("opacity",fe).remove(),dn=a.transition(Nr.order()).style("opacity",1),bn=Math.max(Ne,0)+rt,rn,Yn=gu(Fr),Jn=hr.selectAll(".domain").data([0]),aa=(Jn.enter().append("path").attr("class","domain"),a.transition(Jn));Kr.append("line"),Kr.append("text");var fa=Kr.select("line"),Ea=dn.select("line"),Sa=Nr.select("text").text(hn),Ja=Kr.select("text"),Ia=dn.select("text"),Wa=Se==="top"||Se==="left"?-1:1,di,yi,Li,jn;if(Se==="bottom"||Se==="top"?(rn=za,di="x",Li="y",yi="x2",jn="y2",Sa.attr("dy",Wa<0?"0em":".71em").style("text-anchor","middle"),aa.attr("d","M"+Yn[0]+","+Wa*Qe+"V0H"+Yn[1]+"V"+Wa*Qe)):(rn=Oa,di="y",Li="x",yi="y2",jn="x2",Sa.attr("dy",".32em").style("text-anchor",Wa<0?"end":"start"),aa.attr("d","M"+Wa*Qe+","+Yn[0]+"H0V"+Yn[1]+"H"+Wa*Qe)),fa.attr(jn,Wa*Ne),Ja.attr(Li,Wa*bn),Ea.attr(yi,0).attr(jn,Wa*Ne),Ia.attr(di,0).attr(Li,Wa*bn),Fr.rangeBand){var Ya=Fr,Ha=Ya.rangeBand()/2;kr=Fr=function(ii){return Ya(ii)+Ha}}else kr.rangeBand?kr=Fr:tn.call(rn,Fr,kr);Kr.call(rn,kr,Fr),dn.call(rn,Fr,Fr)})}return Qt.scale=function(cr){return arguments.length?(le=cr,Qt):le},Qt.orient=function(cr){return arguments.length?(Se=cr in _a?cr+"":wa,Qt):Se},Qt.ticks=function(){return arguments.length?(ot=A(arguments),Qt):ot},Qt.tickValues=function(cr){return arguments.length?(zt=cr,Qt):zt},Qt.tickFormat=function(cr){return arguments.length?(mt=cr,Qt):mt},Qt.tickSize=function(cr){var hr=arguments.length;return hr?(Ne=+cr,Qe=+arguments[hr-1],Qt):Ne},Qt.innerTickSize=function(cr){return arguments.length?(Ne=+cr,Qt):Ne},Qt.outerTickSize=function(cr){return arguments.length?(Qe=+cr,Qt):Qe},Qt.tickPadding=function(cr){return arguments.length?(rt=+cr,Qt):rt},Qt.tickSubdivide=function(){return arguments.length&&Qt},Qt};var wa="bottom",_a={top:1,right:1,bottom:1,left:1};function za(le,Se,Ne){le.attr("transform",function(Qe){var rt=Se(Qe);return"translate("+(isFinite(rt)?rt:Ne(Qe))+",0)"})}function Oa(le,Se,Ne){le.attr("transform",function(Qe){var rt=Se(Qe);return"translate(0,"+(isFinite(rt)?rt:Ne(Qe))+")"})}a.svg.brush=function(){var le=Y(hr,"brushstart","brush","brushend"),Se=null,Ne=null,Qe=[0,0],rt=[0,0],ot,zt,mt=!0,Qt=!0,cr=Ti[0];function hr(Nr){Nr.each(function(){var Kr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",hn).on("touchstart.brush",hn),tn=Kr.selectAll(".background").data([0]);tn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Kr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var dn=Kr.selectAll(".resize").data(cr,O);dn.exit().remove(),dn.enter().append("g").attr("class",function(Jn){return"resize "+Jn}).style("cursor",function(Jn){return Ua[Jn]}).append("rect").attr("x",function(Jn){return/[ew]$/.test(Jn)?-3:null}).attr("y",function(Jn){return/^[ns]/.test(Jn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),dn.style("display",hr.empty()?"none":null);var bn=a.transition(Kr),rn=a.transition(tn),Yn;Se&&(Yn=gu(Se),rn.attr("x",Yn[0]).attr("width",Yn[1]-Yn[0]),Fr(bn)),Ne&&(Yn=gu(Ne),rn.attr("y",Yn[0]).attr("height",Yn[1]-Yn[0]),nn(bn)),kr(bn)})}hr.event=function(Nr){Nr.each(function(){var Kr=le.of(this,arguments),tn={x:Qe,y:rt,i:ot,j:zt},dn=this.__chart__||tn;this.__chart__=tn,zr?a.select(this).transition().each("start.brush",function(){ot=dn.i,zt=dn.j,Qe=dn.x,rt=dn.y,Kr({type:"brushstart"})}).tween("brush:brush",function(){var bn=io(Qe,tn.x),rn=io(rt,tn.y);return ot=zt=null,function(Yn){Qe=tn.x=bn(Yn),rt=tn.y=rn(Yn),Kr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=tn.i,zt=tn.j,Kr({type:"brush",mode:"resize"}),Kr({type:"brushend"})}):(Kr({type:"brushstart"}),Kr({type:"brush",mode:"resize"}),Kr({type:"brushend"}))})};function kr(Nr){Nr.selectAll(".resize").attr("transform",function(Kr){return"translate("+Qe[+/e$/.test(Kr)]+","+rt[+/^s/.test(Kr)]+")"})}function Fr(Nr){Nr.select(".extent").attr("x",Qe[0]),Nr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function nn(Nr){Nr.select(".extent").attr("y",rt[0]),Nr.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function hn(){var Nr=this,Kr=a.select(a.event.target),tn=le.of(Nr,arguments),dn=a.select(Nr),bn=Kr.datum(),rn=!/^(n|s)$/.test(bn)&&Se,Yn=!/^(e|w)$/.test(bn)&&Ne,Jn=Kr.classed("extent"),aa=it(Nr),fa,Ea=a.mouse(Nr),Sa,Ja=a.select(t(Nr)).on("keydown.brush",di).on("keyup.brush",yi);if(a.event.changedTouches?Ja.on("touchmove.brush",Li).on("touchend.brush",Ya):Ja.on("mousemove.brush",Li).on("mouseup.brush",Ya),dn.interrupt().selectAll("*").interrupt(),Jn)Ea[0]=Qe[0]-Ea[0],Ea[1]=rt[0]-Ea[1];else if(bn){var Ia=+/w$/.test(bn),Wa=+/^n/.test(bn);Sa=[Qe[1-Ia]-Ea[0],rt[1-Wa]-Ea[1]],Ea[0]=Qe[Ia],Ea[1]=rt[Wa]}else a.event.altKey&&(fa=Ea.slice());dn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Kr.style("cursor")),tn({type:"brushstart"}),Li();function di(){a.event.keyCode==32&&(Jn||(fa=null,Ea[0]-=Qe[1],Ea[1]-=rt[1],Jn=2),re())}function yi(){a.event.keyCode==32&&Jn==2&&(Ea[0]+=Qe[1],Ea[1]+=rt[1],Jn=0,re())}function Li(){var Ha=a.mouse(Nr),ii=!1;Sa&&(Ha[0]+=Sa[0],Ha[1]+=Sa[1]),Jn||(a.event.altKey?(fa||(fa=[(Qe[0]+Qe[1])/2,(rt[0]+rt[1])/2]),Ea[0]=Qe[+(Ha[0]<fa[0])],Ea[1]=rt[+(Ha[1]<fa[1])]):fa=null),rn&&jn(Ha,Se,0)&&(Fr(dn),ii=!0),Yn&&jn(Ha,Ne,1)&&(nn(dn),ii=!0),ii&&(kr(dn),tn({type:"brush",mode:Jn?"move":"resize"}))}function jn(Ha,ii,Xi){var oo=gu(ii),vo=oo[0],Ui=oo[1],Ri=Ea[Xi],Aa=Xi?rt:Qe,Ra=Aa[1]-Aa[0],Hi,fo;if(Jn&&(vo-=Ri,Ui-=Ra+Ri),Hi=(Xi?Qt:mt)?Math.max(vo,Math.min(Ui,Ha[Xi])):Ha[Xi],Jn?fo=(Hi+=Ri)+Ra:(fa&&(Ri=Math.max(vo,Math.min(Ui,2*fa[Xi]-Hi))),Ri<Hi?(fo=Hi,Hi=Ri):fo=Ri),Aa[0]!=Hi||Aa[1]!=fo)return Xi?zt=null:ot=null,Aa[0]=Hi,Aa[1]=fo,!0}function Ya(){Li(),dn.style("pointer-events","all").selectAll(".resize").style("display",hr.empty()?"none":null),a.select("body").style("cursor",null),Ja.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),aa(),tn({type:"brushend"})}}return hr.x=function(Nr){return arguments.length?(Se=Nr,cr=Ti[!Se<<1|!Ne],hr):Se},hr.y=function(Nr){return arguments.length?(Ne=Nr,cr=Ti[!Se<<1|!Ne],hr):Ne},hr.clamp=function(Nr){return arguments.length?(Se&&Ne?(mt=!!Nr[0],Qt=!!Nr[1]):Se?mt=!!Nr:Ne&&(Qt=!!Nr),hr):Se&&Ne?[mt,Qt]:Se?mt:Ne?Qt:null},hr.extent=function(Nr){var Kr,tn,dn,bn,rn;return arguments.length?(Se&&(Kr=Nr[0],tn=Nr[1],Ne&&(Kr=Kr[0],tn=tn[0]),ot=[Kr,tn],Se.invert&&(Kr=Se(Kr),tn=Se(tn)),tn<Kr&&(rn=Kr,Kr=tn,tn=rn),(Kr!=Qe[0]||tn!=Qe[1])&&(Qe=[Kr,tn])),Ne&&(dn=Nr[0],bn=Nr[1],Se&&(dn=dn[1],bn=bn[1]),zt=[dn,bn],Ne.invert&&(dn=Ne(dn),bn=Ne(bn)),bn<dn&&(rn=dn,dn=bn,bn=rn),(dn!=rt[0]||bn!=rt[1])&&(rt=[dn,bn])),hr):(Se&&(ot?(Kr=ot[0],tn=ot[1]):(Kr=Qe[0],tn=Qe[1],Se.invert&&(Kr=Se.invert(Kr),tn=Se.invert(tn)),tn<Kr&&(rn=Kr,Kr=tn,tn=rn))),Ne&&(zt?(dn=zt[0],bn=zt[1]):(dn=rt[0],bn=rt[1],Ne.invert&&(dn=Ne.invert(dn),bn=Ne.invert(bn)),bn<dn&&(rn=dn,dn=bn,bn=rn))),Se&&Ne?[[Kr,dn],[tn,bn]]:Se?[Kr,tn]:Ne&&[dn,bn])},hr.clear=function(){return hr.empty()||(Qe=[0,0],rt=[0,0],ot=zt=null),hr},hr.empty=function(){return!!Se&&Qe[0]==Qe[1]||!!Ne&&rt[0]==rt[1]},a.rebind(hr,le,"on")};var Ua={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ti=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=xn(function(le){return le.responseText}),a.json=function(le,Se){return On(le,"application/json",eo,Se)};function eo(le){return JSON.parse(le.responseText)}a.html=function(le,Se){return On(le,"text/html",ki,Se)};function ki(le){var Se=v.createRange();return Se.selectNode(v.body),Se.createContextualFragment(le.responseText)}a.xml=xn(function(le){return le.responseXML}),this.d3=a,p=a,L=typeof p=="function"?p.call(U,e,U,W):p,L!==void 0&&(W.exports=L)}).apply(self)},88294:function(W,U,e){W.exports=e(62849)},62849:function(W,U,e){var p=e(91358),L=e(53435),a=e(18863),P=e(21527),A=e(71299),v=e(46775),g=e(30120),t=e(64941),r=e(90660),u=e(27084),o=1073741824;W.exports=function(n,x){x||(x={}),n=g(n,"float64"),x=A(x,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(x.maxDepth,255),T=v(x.bounds,P(n,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var f=l(n,T),s=n.length>>>1,d;x.dtype||(x.dtype="array"),typeof x.dtype=="string"?d=new(r(x.dtype))(s):x.dtype&&(d=x.dtype,Array.isArray(d)&&(d.length=s));for(var S=0;S<s;++S)d[S]=S;var M=[],C=[],y=[],w=[];B(0,0,1,d,0,1);for(var b=0,i=0;i<M.length;i++){var E=M[i];if(d.set)d.set(E,b);else for(var m=0,F=E.length;m<F;m++)d[m+b]=E[m];var _=b+M[i].length;w[i]=[b,_],b=_}return d.range=I,d;function B(k,N,K,q,Q,re){if(!q.length)return null;var oe=M[Q]||(M[Q]=[]),Y=y[Q]||(y[Q]=[]),G=C[Q]||(C[Q]=[]),V=oe.length;if(Q++,Q>h||re>o){for(var Z=0;Z<q.length;Z++)oe.push(q[Z]),Y.push(re),G.push(null,null,null,null);return V}if(oe.push(q[0]),Y.push(re),q.length<=1)return G.push(null,null,null,null),V;for(var ae=K*.5,ie=k+ae,J=N+ae,$=[],se=[],ee=[],ue=[],ge=1,Te=q.length;ge<Te;ge++){var xe=q[ge],Pe=f[xe*2],Ie=f[xe*2+1];Pe<ie?Ie<J?$.push(xe):se.push(xe):Ie<J?ee.push(xe):ue.push(xe)}return re<<=2,G.push(B(k,N,ae,$,Q,re),B(k,J,ae,se,Q,re+1),B(ie,N,ae,ee,Q,re+2),B(ie,J,ae,ue,Q,re+3)),V}function I(){for(var k=[],N=arguments.length;N--;)k[N]=arguments[N];var K;if(t(k[k.length-1])){var q=k.pop();!k.length&&(q.x!=null||q.l!=null||q.left!=null)&&(k=[q],K={}),K=A(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else K={};k.length||(k=T);var Q=a.apply(void 0,k),re=[Math.min(Q.x,Q.x+Q.width),Math.min(Q.y,Q.y+Q.height),Math.max(Q.x,Q.x+Q.width),Math.max(Q.y,Q.y+Q.height)],oe=re[0],Y=re[1],G=re[2],V=re[3],Z=l([oe,Y,G,V],T),ae=Z[0],ie=Z[1],J=Z[2],$=Z[3],se=v(K.level,M.length);if(K.d!=null){var ee;typeof K.d=="number"?ee=[K.d,K.d]:K.d.length&&(ee=K.d),se=Math.min(Math.max(Math.ceil(-u(Math.abs(ee[0])/(T[2]-T[0]))),Math.ceil(-u(Math.abs(ee[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,M.length),K.lod)return O(ae,ie,J,$,se);var ue=[];ge(0,0,1,0,0,1);function ge(xe,Pe,Ie,Ae,be,_e){if(!(be===null||_e===null)){var Ve=xe+Ie,We=Pe+Ie;if(!(ae>Ve||ie>We||J<xe||$<Pe)&&!(Ae>=se)&&be!==_e){var ze=M[Ae];_e===void 0&&(_e=ze.length);for(var Ze=be;Ze<_e;Ze++){var ct=ze[Ze],lt=n[ct*2],at=n[ct*2+1];lt>=oe&&lt<=G&&at>=Y&&at<=V&&ue.push(ct)}var tt=C[Ae],dt=tt[be*4+0],wt=tt[be*4+1],Mt=tt[be*4+2],It=tt[be*4+3],$e=Te(tt,be+1),ke=Ie*.5,Fe=Ae+1;ge(xe,Pe,ke,Fe,dt,wt||Mt||It||$e),ge(xe,Pe+ke,ke,Fe,wt,Mt||It||$e),ge(xe+ke,Pe,ke,Fe,Mt,It||$e),ge(xe+ke,Pe+ke,ke,Fe,It,$e)}}}function Te(xe,Pe){for(var Ie=null,Ae=0;Ie===null;)if(Ie=xe[Pe*4+Ae],Ae++,Ae>xe.length)return null;return Ie}return ue}function O(k,N,K,q,Q){for(var re=[],oe=0;oe<Q;oe++){var Y=y[oe],G=w[oe][0],V=z(k,N,oe),Z=z(K,q,oe),ae=p.ge(Y,V),ie=p.gt(Y,Z,ae,Y.length-1);re[oe]=[ae+G,ie+G]}return re}function z(k,N,K){for(var q=1,Q=.5,re=.5,oe=.5,Y=0;Y<K;Y++)q<<=2,q+=k<Q?N<re?0:1:N<re?2:3,oe*=.5,Q+=k<Q?-oe:oe,re+=N<re?-oe:oe;return q}};function l(c,n){for(var x=n[0],h=n[1],T=n[2],f=n[3],s=1/(T-x),d=1/(f-h),S=new Array(c.length),M=0,C=c.length/2;M<C;M++)S[2*M]=L((c[2*M]-x)*s,0,1),S[2*M+1]=L((c[2*M+1]-h)*d,0,1);return S}},30774:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(60302),L=6378137;function a(t){return p.geomReduce(t,function(r,u){return r+P(u)},0)}U.default=a;function P(t){var r=0,u;switch(t.type){case"Polygon":return A(t.coordinates);case"MultiPolygon":for(u=0;u<t.coordinates.length;u++)r+=A(t.coordinates[u]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function A(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var u=1;u<t.length;u++)r-=Math.abs(v(t[u]))}return r}function v(t){var r,u,o,l,c,n,x,h=0,T=t.length;if(T>2){for(x=0;x<T;x++)x===T-2?(l=T-2,c=T-1,n=0):x===T-1?(l=T-1,c=0,n=1):(l=x,c=x+1,n=x+2),r=t[l],u=t[c],o=t[n],h+=(g(o[0])-g(r[0]))*Math.sin(g(u[1]));h=h*L*L/2}return h}function g(t){return t*Math.PI/180}},23132:function(W,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=b,m}U.feature=e;function p(b,i,E){switch(b){case"Point":return L(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return P(i).geometry;case"MultiPoint":return u(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return o(i).geometry;default:throw new Error(b+" is invalid")}}U.geometry=p;function L(b,i,E){if(E===void 0&&(E={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(b[0])||!M(b[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:b};return e(m,i,E)}U.point=L;function a(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return L(m,i)}),E)}U.points=a;function P(b,i,E){E===void 0&&(E={});for(var m=0,F=b;m<F.length;m++){var _=F[m];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var I={type:"Polygon",coordinates:b};return e(I,i,E)}U.polygon=P;function A(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return P(m,i)}),E)}U.polygons=A;function v(b,i,E){if(E===void 0&&(E={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:b};return e(m,i,E)}U.lineString=v;function g(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return v(m,i)}),E)}U.lineStrings=g;function t(b,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=b,E}U.featureCollection=t;function r(b,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:b};return e(m,i,E)}U.multiLineString=r;function u(b,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:b};return e(m,i,E)}U.multiPoint=u;function o(b,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:b};return e(m,i,E)}U.multiPolygon=o;function l(b,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:b};return e(m,i,E)}U.geometryCollection=l;function c(b,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(b*E)/E}U.round=c;function n(b,i){i===void 0&&(i="kilometers");var E=U.factors[i];if(!E)throw new Error(i+" units is invalid");return b*E}U.radiansToLength=n;function x(b,i){i===void 0&&(i="kilometers");var E=U.factors[i];if(!E)throw new Error(i+" units is invalid");return b/E}U.lengthToRadians=x;function h(b,i){return f(x(b,i))}U.lengthToDegrees=h;function T(b){var i=b%360;return i<0&&(i+=360),i}U.bearingToAzimuth=T;function f(b){var i=b%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=f;function s(b){var i=b%360;return i*Math.PI/180}U.degreesToRadians=s;function d(b,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(b>=0))throw new Error("length must be a positive number");return n(x(b,i),E)}U.convertLength=d;function S(b,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(b>=0))throw new Error("area must be a positive number");var m=U.areaFactors[i];if(!m)throw new Error("invalid original units");var F=U.areaFactors[E];if(!F)throw new Error("invalid final units");return b/m*F}U.convertArea=S;function M(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}U.isNumber=M;function C(b){return!!b&&b.constructor===Object}U.isObject=C;function y(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(i){if(!M(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function w(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}U.validateId=w},60302:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(23132);function L(s,d,S){if(s!==null)for(var M,C,y,w,b,i,E,m=0,F=0,_,B=s.type,I=B==="FeatureCollection",O=B==="Feature",z=I?s.features.length:1,k=0;k<z;k++){E=I?s.features[k].geometry:O?s.geometry:s,_=E?E.type==="GeometryCollection":!1,b=_?E.geometries.length:1;for(var N=0;N<b;N++){var K=0,q=0;if(w=_?E.geometries[N]:E,w!==null){i=w.coordinates;var Q=w.type;switch(m=S&&(Q==="Polygon"||Q==="MultiPolygon")?1:0,Q){case null:break;case"Point":if(d(i,F,k,K,q)===!1)return!1;F++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],F,k,K,q)===!1)return!1;F++,Q==="MultiPoint"&&K++}Q==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(C=0;C<i[M].length-m;C++){if(d(i[M][C],F,k,K,q)===!1)return!1;F++}Q==="MultiLineString"&&K++,Q==="Polygon"&&q++}Q==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,C=0;C<i[M].length;C++){for(y=0;y<i[M][C].length-m;y++){if(d(i[M][C][y],F,k,K,q)===!1)return!1;F++}q++}K++}break;case"GeometryCollection":for(M=0;M<w.geometries.length;M++)if(L(w.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,S,M){var C=S;return L(s,function(y,w,b,i,E){w===0&&S===void 0?C=y:C=d(C,y,w,b,i,E)},M),C}function P(s,d){var S;switch(s.type){case"FeatureCollection":for(S=0;S<s.features.length&&d(s.features[S].properties,S)!==!1;S++);break;case"Feature":d(s.properties,0);break}}function A(s,d,S){var M=S;return P(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var S=0;S<s.features.length&&d(s.features[S],S)!==!1;S++);}function g(s,d,S){var M=S;return v(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function t(s){var d=[];return L(s,function(S){d.push(S)}),d}function r(s,d){var S,M,C,y,w,b,i,E,m,F,_=0,B=s.type==="FeatureCollection",I=s.type==="Feature",O=B?s.features.length:1;for(S=0;S<O;S++){for(b=B?s.features[S].geometry:I?s.geometry:s,E=B?s.features[S].properties:I?s.properties:{},m=B?s.features[S].bbox:I?s.bbox:void 0,F=B?s.features[S].id:I?s.id:void 0,i=b?b.type==="GeometryCollection":!1,w=i?b.geometries.length:1,C=0;C<w;C++){if(y=i?b.geometries[C]:b,y===null){if(d(null,_,E,m,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,_,E,m,F)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<y.geometries.length;M++)if(d(y.geometries[M],_,E,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function u(s,d,S){var M=S;return r(s,function(C,y,w,b,i){y===0&&S===void 0?M=C:M=d(M,C,y,w,b,i)}),M}function o(s,d){r(s,function(S,M,C,y,w){var b=S===null?null:S.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,C,{bbox:y,id:w}),M,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<S.coordinates.length;E++){var m=S.coordinates[E],F={type:i,coordinates:m};if(d(p.feature(F,C),M,E)===!1)return!1}})}function l(s,d,S){var M=S;return o(s,function(C,y,w){y===0&&w===0&&S===void 0?M=C:M=d(M,C,y,w)}),M}function c(s,d){o(s,function(S,M,C){var y=0;if(S.geometry){var w=S.geometry.type;if(!(w==="Point"||w==="MultiPoint")){var b,i=0,E=0,m=0;if(L(S,function(F,_,B,I,O){if(b===void 0||M>i||I>E||O>m){b=F,i=M,E=I,m=O,y=0;return}var z=p.lineString([b,F],S.properties);if(d(z,M,C,O,y)===!1)return!1;y++,b=F})===!1)return!1}}})}function n(s,d,S){var M=S,C=!1;return c(s,function(y,w,b,i,E){C===!1&&S===void 0?M=y:M=d(M,y,w,b,i,E),C=!0}),M}function x(s,d){if(!s)throw new Error("geojson is required");o(s,function(S,M,C){if(S.geometry!==null){var y=S.geometry.type,w=S.geometry.coordinates;switch(y){case"LineString":if(d(S,M,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<w.length;b++)if(d(p.lineString(w[b],S.properties),M,C,b)===!1)return!1;break}}})}function h(s,d,S){var M=S;return x(s,function(C,y,w,b){y===0&&S===void 0?M=C:M=d(M,C,y,w,b)}),M}function T(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),p.lineString([i[y],i[y+1]],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),p.lineString([i[C][y],i[C][y+1]],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y-1),p.lineString([i[M][y],i[M][y+1]],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y-1),p.lineString([i[M][C][y],i[M][C][y+1]],w,d)}throw new Error("geojson is invalid")}function f(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,w,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],w,d);case"LineString":return y<0&&(y=i.length+y),p.point(i[y],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),p.point(i[C][y],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y),p.point(i[M][y],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y),p.point(i[M][C][y],w,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=P,U.propReduce=A,U.featureEach=v,U.featureReduce=g,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=o,U.flattenReduce=l,U.segmentEach=c,U.segmentReduce=n,U.lineEach=x,U.lineReduce=h,U.findSegment=T,U.findPoint=f},85268:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(27138);function L(a){var P=[1/0,1/0,-1/0,-1/0];return p.coordEach(a,function(A){P[0]>A[0]&&(P[0]=A[0]),P[1]>A[1]&&(P[1]=A[1]),P[2]<A[0]&&(P[2]=A[0]),P[3]<A[1]&&(P[3]=A[1])}),P}L.default=L,U.default=L},94228:function(W,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=b,m}U.feature=e;function p(b,i,E){switch(b){case"Point":return L(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return P(i).geometry;case"MultiPoint":return u(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return o(i).geometry;default:throw new Error(b+" is invalid")}}U.geometry=p;function L(b,i,E){if(E===void 0&&(E={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(b[0])||!M(b[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:b};return e(m,i,E)}U.point=L;function a(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return L(m,i)}),E)}U.points=a;function P(b,i,E){E===void 0&&(E={});for(var m=0,F=b;m<F.length;m++){var _=F[m];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var I={type:"Polygon",coordinates:b};return e(I,i,E)}U.polygon=P;function A(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return P(m,i)}),E)}U.polygons=A;function v(b,i,E){if(E===void 0&&(E={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:b};return e(m,i,E)}U.lineString=v;function g(b,i,E){return E===void 0&&(E={}),t(b.map(function(m){return v(m,i)}),E)}U.lineStrings=g;function t(b,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=b,E}U.featureCollection=t;function r(b,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:b};return e(m,i,E)}U.multiLineString=r;function u(b,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:b};return e(m,i,E)}U.multiPoint=u;function o(b,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:b};return e(m,i,E)}U.multiPolygon=o;function l(b,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:b};return e(m,i,E)}U.geometryCollection=l;function c(b,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(b*E)/E}U.round=c;function n(b,i){i===void 0&&(i="kilometers");var E=U.factors[i];if(!E)throw new Error(i+" units is invalid");return b*E}U.radiansToLength=n;function x(b,i){i===void 0&&(i="kilometers");var E=U.factors[i];if(!E)throw new Error(i+" units is invalid");return b/E}U.lengthToRadians=x;function h(b,i){return f(x(b,i))}U.lengthToDegrees=h;function T(b){var i=b%360;return i<0&&(i+=360),i}U.bearingToAzimuth=T;function f(b){var i=b%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=f;function s(b){var i=b%360;return i*Math.PI/180}U.degreesToRadians=s;function d(b,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(b>=0))throw new Error("length must be a positive number");return n(x(b,i),E)}U.convertLength=d;function S(b,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(b>=0))throw new Error("area must be a positive number");var m=U.areaFactors[i];if(!m)throw new Error("invalid original units");var F=U.areaFactors[E];if(!F)throw new Error("invalid final units");return b/m*F}U.convertArea=S;function M(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}U.isNumber=M;function C(b){return!!b&&b.constructor===Object}U.isObject=C;function y(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(i){if(!M(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function w(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}U.validateId=w},27138:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(94228);function L(s,d,S){if(s!==null)for(var M,C,y,w,b,i,E,m=0,F=0,_,B=s.type,I=B==="FeatureCollection",O=B==="Feature",z=I?s.features.length:1,k=0;k<z;k++){E=I?s.features[k].geometry:O?s.geometry:s,_=E?E.type==="GeometryCollection":!1,b=_?E.geometries.length:1;for(var N=0;N<b;N++){var K=0,q=0;if(w=_?E.geometries[N]:E,w!==null){i=w.coordinates;var Q=w.type;switch(m=S&&(Q==="Polygon"||Q==="MultiPolygon")?1:0,Q){case null:break;case"Point":if(d(i,F,k,K,q)===!1)return!1;F++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],F,k,K,q)===!1)return!1;F++,Q==="MultiPoint"&&K++}Q==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(C=0;C<i[M].length-m;C++){if(d(i[M][C],F,k,K,q)===!1)return!1;F++}Q==="MultiLineString"&&K++,Q==="Polygon"&&q++}Q==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,C=0;C<i[M].length;C++){for(y=0;y<i[M][C].length-m;y++){if(d(i[M][C][y],F,k,K,q)===!1)return!1;F++}q++}K++}break;case"GeometryCollection":for(M=0;M<w.geometries.length;M++)if(L(w.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,S,M){var C=S;return L(s,function(y,w,b,i,E){w===0&&S===void 0?C=y:C=d(C,y,w,b,i,E)},M),C}function P(s,d){var S;switch(s.type){case"FeatureCollection":for(S=0;S<s.features.length&&d(s.features[S].properties,S)!==!1;S++);break;case"Feature":d(s.properties,0);break}}function A(s,d,S){var M=S;return P(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var S=0;S<s.features.length&&d(s.features[S],S)!==!1;S++);}function g(s,d,S){var M=S;return v(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function t(s){var d=[];return L(s,function(S){d.push(S)}),d}function r(s,d){var S,M,C,y,w,b,i,E,m,F,_=0,B=s.type==="FeatureCollection",I=s.type==="Feature",O=B?s.features.length:1;for(S=0;S<O;S++){for(b=B?s.features[S].geometry:I?s.geometry:s,E=B?s.features[S].properties:I?s.properties:{},m=B?s.features[S].bbox:I?s.bbox:void 0,F=B?s.features[S].id:I?s.id:void 0,i=b?b.type==="GeometryCollection":!1,w=i?b.geometries.length:1,C=0;C<w;C++){if(y=i?b.geometries[C]:b,y===null){if(d(null,_,E,m,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,_,E,m,F)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<y.geometries.length;M++)if(d(y.geometries[M],_,E,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function u(s,d,S){var M=S;return r(s,function(C,y,w,b,i){y===0&&S===void 0?M=C:M=d(M,C,y,w,b,i)}),M}function o(s,d){r(s,function(S,M,C,y,w){var b=S===null?null:S.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,C,{bbox:y,id:w}),M,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<S.coordinates.length;E++){var m=S.coordinates[E],F={type:i,coordinates:m};if(d(p.feature(F,C),M,E)===!1)return!1}})}function l(s,d,S){var M=S;return o(s,function(C,y,w){y===0&&w===0&&S===void 0?M=C:M=d(M,C,y,w)}),M}function c(s,d){o(s,function(S,M,C){var y=0;if(S.geometry){var w=S.geometry.type;if(!(w==="Point"||w==="MultiPoint")){var b,i=0,E=0,m=0;if(L(S,function(F,_,B,I,O){if(b===void 0||M>i||I>E||O>m){b=F,i=M,E=I,m=O,y=0;return}var z=p.lineString([b,F],S.properties);if(d(z,M,C,O,y)===!1)return!1;y++,b=F})===!1)return!1}}})}function n(s,d,S){var M=S,C=!1;return c(s,function(y,w,b,i,E){C===!1&&S===void 0?M=y:M=d(M,y,w,b,i,E),C=!0}),M}function x(s,d){if(!s)throw new Error("geojson is required");o(s,function(S,M,C){if(S.geometry!==null){var y=S.geometry.type,w=S.geometry.coordinates;switch(y){case"LineString":if(d(S,M,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<w.length;b++)if(d(p.lineString(w[b],S.properties),M,C,b)===!1)return!1;break}}})}function h(s,d,S){var M=S;return x(s,function(C,y,w,b){y===0&&S===void 0?M=C:M=d(M,C,y,w,b)}),M}function T(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),p.lineString([i[y],i[y+1]],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),p.lineString([i[C][y],i[C][y+1]],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y-1),p.lineString([i[M][y],i[M][y+1]],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y-1),p.lineString([i[M][C][y],i[M][C][y+1]],w,d)}throw new Error("geojson is invalid")}function f(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,w,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],w,d);case"LineString":return y<0&&(y=i.length+y),p.point(i[y],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),p.point(i[C][y],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y),p.point(i[M][y],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y),p.point(i[M][C][y],w,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=P,U.propReduce=A,U.featureEach=v,U.featureReduce=g,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=o,U.flattenReduce=l,U.segmentEach=c,U.segmentReduce=n,U.lineEach=x,U.lineReduce=h,U.findSegment=T,U.findPoint=f},29261:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(88553),L=e(64182);function a(P,A){A===void 0&&(A={});var v=0,g=0,t=0;return p.coordEach(P,function(r){v+=r[0],g+=r[1],t++}),L.point([v/t,g/t],A.properties)}U.default=a},64182:function(W,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(I,O,z){z===void 0&&(z={});var k={type:"Feature"};return(z.id===0||z.id)&&(k.id=z.id),z.bbox&&(k.bbox=z.bbox),k.properties=O||{},k.geometry=I,k}U.feature=e;function p(I,O,z){switch(I){case"Point":return L(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return P(O).geometry;case"MultiPoint":return u(O).geometry;case"MultiLineString":return r(O).geometry;case"MultiPolygon":return o(O).geometry;default:throw new Error(I+" is invalid")}}U.geometry=p;function L(I,O,z){z===void 0&&(z={});var k={type:"Point",coordinates:I};return e(k,O,z)}U.point=L;function a(I,O,z){return z===void 0&&(z={}),t(I.map(function(k){return L(k,O)}),z)}U.points=a;function P(I,O,z){z===void 0&&(z={});for(var k=0,N=I;k<N.length;k++){var K=N[k];if(K.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<K[K.length-1].length;q++)if(K[K.length-1][q]!==K[0][q])throw new Error("First and last Position are not equivalent.")}var Q={type:"Polygon",coordinates:I};return e(Q,O,z)}U.polygon=P;function A(I,O,z){return z===void 0&&(z={}),t(I.map(function(k){return P(k,O)}),z)}U.polygons=A;function v(I,O,z){if(z===void 0&&(z={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");var k={type:"LineString",coordinates:I};return e(k,O,z)}U.lineString=v;function g(I,O,z){return z===void 0&&(z={}),t(I.map(function(k){return v(k,O)}),z)}U.lineStrings=g;function t(I,O){O===void 0&&(O={});var z={type:"FeatureCollection"};return O.id&&(z.id=O.id),O.bbox&&(z.bbox=O.bbox),z.features=I,z}U.featureCollection=t;function r(I,O,z){z===void 0&&(z={});var k={type:"MultiLineString",coordinates:I};return e(k,O,z)}U.multiLineString=r;function u(I,O,z){z===void 0&&(z={});var k={type:"MultiPoint",coordinates:I};return e(k,O,z)}U.multiPoint=u;function o(I,O,z){z===void 0&&(z={});var k={type:"MultiPolygon",coordinates:I};return e(k,O,z)}U.multiPolygon=o;function l(I,O,z){z===void 0&&(z={});var k={type:"GeometryCollection",geometries:I};return e(k,O,z)}U.geometryCollection=l;function c(I,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var z=Math.pow(10,O||0);return Math.round(I*z)/z}U.round=c;function n(I,O){O===void 0&&(O="kilometers");var z=U.factors[O];if(!z)throw new Error(O+" units is invalid");return I*z}U.radiansToLength=n;function x(I,O){O===void 0&&(O="kilometers");var z=U.factors[O];if(!z)throw new Error(O+" units is invalid");return I/z}U.lengthToRadians=x;function h(I,O){return f(x(I,O))}U.lengthToDegrees=h;function T(I){var O=I%360;return O<0&&(O+=360),O}U.bearingToAzimuth=T;function f(I){var O=I%(2*Math.PI);return O*180/Math.PI}U.radiansToDegrees=f;function s(I){var O=I%360;return O*Math.PI/180}U.degreesToRadians=s;function d(I,O,z){if(O===void 0&&(O="kilometers"),z===void 0&&(z="kilometers"),!(I>=0))throw new Error("length must be a positive number");return n(x(I,O),z)}U.convertLength=d;function S(I,O,z){if(O===void 0&&(O="meters"),z===void 0&&(z="kilometers"),!(I>=0))throw new Error("area must be a positive number");var k=U.areaFactors[O];if(!k)throw new Error("invalid original units");var N=U.areaFactors[z];if(!N)throw new Error("invalid final units");return I/k*N}U.convertArea=S;function M(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)&&!/^\s*$/.test(I)}U.isNumber=M;function C(I){return!!I&&I.constructor===Object}U.isObject=C;function y(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(O){if(!M(O))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function w(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}U.validateId=w;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=b;function i(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=i;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=E;function m(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=m;function F(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=F;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=_;function B(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=B},88553:function(W,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(64182);function L(s,d,S){if(s!==null)for(var M,C,y,w,b,i,E,m=0,F=0,_,B=s.type,I=B==="FeatureCollection",O=B==="Feature",z=I?s.features.length:1,k=0;k<z;k++){E=I?s.features[k].geometry:O?s.geometry:s,_=E?E.type==="GeometryCollection":!1,b=_?E.geometries.length:1;for(var N=0;N<b;N++){var K=0,q=0;if(w=_?E.geometries[N]:E,w!==null){i=w.coordinates;var Q=w.type;switch(m=S&&(Q==="Polygon"||Q==="MultiPolygon")?1:0,Q){case null:break;case"Point":if(d(i,F,k,K,q)===!1)return!1;F++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],F,k,K,q)===!1)return!1;F++,Q==="MultiPoint"&&K++}Q==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(C=0;C<i[M].length-m;C++){if(d(i[M][C],F,k,K,q)===!1)return!1;F++}Q==="MultiLineString"&&K++,Q==="Polygon"&&q++}Q==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,C=0;C<i[M].length;C++){for(y=0;y<i[M][C].length-m;y++){if(d(i[M][C][y],F,k,K,q)===!1)return!1;F++}q++}K++}break;case"GeometryCollection":for(M=0;M<w.geometries.length;M++)if(L(w.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,S,M){var C=S;return L(s,function(y,w,b,i,E){w===0&&S===void 0?C=y:C=d(C,y,w,b,i,E)},M),C}function P(s,d){var S;switch(s.type){case"FeatureCollection":for(S=0;S<s.features.length&&d(s.features[S].properties,S)!==!1;S++);break;case"Feature":d(s.properties,0);break}}function A(s,d,S){var M=S;return P(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var S=0;S<s.features.length&&d(s.features[S],S)!==!1;S++);}function g(s,d,S){var M=S;return v(s,function(C,y){y===0&&S===void 0?M=C:M=d(M,C,y)}),M}function t(s){var d=[];return L(s,function(S){d.push(S)}),d}function r(s,d){var S,M,C,y,w,b,i,E,m,F,_=0,B=s.type==="FeatureCollection",I=s.type==="Feature",O=B?s.features.length:1;for(S=0;S<O;S++){for(b=B?s.features[S].geometry:I?s.geometry:s,E=B?s.features[S].properties:I?s.properties:{},m=B?s.features[S].bbox:I?s.bbox:void 0,F=B?s.features[S].id:I?s.id:void 0,i=b?b.type==="GeometryCollection":!1,w=i?b.geometries.length:1,C=0;C<w;C++){if(y=i?b.geometries[C]:b,y===null){if(d(null,_,E,m,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,_,E,m,F)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<y.geometries.length;M++)if(d(y.geometries[M],_,E,m,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function u(s,d,S){var M=S;return r(s,function(C,y,w,b,i){y===0&&S===void 0?M=C:M=d(M,C,y,w,b,i)}),M}function o(s,d){r(s,function(S,M,C,y,w){var b=S===null?null:S.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,C,{bbox:y,id:w}),M,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<S.coordinates.length;E++){var m=S.coordinates[E],F={type:i,coordinates:m};if(d(p.feature(F,C),M,E)===!1)return!1}})}function l(s,d,S){var M=S;return o(s,function(C,y,w){y===0&&w===0&&S===void 0?M=C:M=d(M,C,y,w)}),M}function c(s,d){o(s,function(S,M,C){var y=0;if(S.geometry){var w=S.geometry.type;if(!(w==="Point"||w==="MultiPoint")){var b,i=0,E=0,m=0;if(L(S,function(F,_,B,I,O){if(b===void 0||M>i||I>E||O>m){b=F,i=M,E=I,m=O,y=0;return}var z=p.lineString([b,F],S.properties);if(d(z,M,C,O,y)===!1)return!1;y++,b=F})===!1)return!1}}})}function n(s,d,S){var M=S,C=!1;return c(s,function(y,w,b,i,E){C===!1&&S===void 0?M=y:M=d(M,y,w,b,i,E),C=!0}),M}function x(s,d){if(!s)throw new Error("geojson is required");o(s,function(S,M,C){if(S.geometry!==null){var y=S.geometry.type,w=S.geometry.coordinates;switch(y){case"LineString":if(d(S,M,C,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<w.length;b++)if(d(p.lineString(w[b],S.properties),M,C,b)===!1)return!1;break}}})}function h(s,d,S){var M=S;return x(s,function(C,y,w,b){y===0&&S===void 0?M=C:M=d(M,C,y,w,b)}),M}function T(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),p.lineString([i[y],i[y+1]],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),p.lineString([i[C][y],i[C][y+1]],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y-1),p.lineString([i[M][y],i[M][y+1]],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y-1),p.lineString([i[M][C][y],i[M][C][y+1]],w,d)}throw new Error("geojson is invalid")}function f(s,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,w=d.properties,b;switch(s.type){case"FeatureCollection":S<0&&(S=s.features.length+S),w=w||s.features[S].properties,b=s.features[S].geometry;break;case"Feature":w=w||s.properties,b=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=s;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,w,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],w,d);case"LineString":return y<0&&(y=i.length+y),p.point(i[y],w,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),p.point(i[C][y],w,d);case"MultiLineString":return M<0&&(M=i.length+M),y<0&&(y=i[M].length+y),p.point(i[M][y],w,d);case"MultiPolygon":return M<0&&(M=i.length+M),C<0&&(C=i[M].length+C),y<0&&(y=i[M][C].length-y),p.point(i[M][C][y],w,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=a,U.propEach=P,U.propReduce=A,U.featureEach=v,U.featureReduce=g,U.coordAll=t,U.geomEach=r,U.geomReduce=u,U.flattenEach=o,U.flattenReduce=l,U.segmentEach=c,U.segmentReduce=n,U.lineEach=x,U.lineReduce=h,U.findSegment=T,U.findPoint=f},65185:function(W){W.exports=U;function U(e){var p=0,L=0,a=0,P=0;return e.map(function(A){A=A.slice();var v=A[0],g=v.toUpperCase();if(v!=g)switch(A[0]=g,v){case"a":A[6]+=a,A[7]+=P;break;case"v":A[1]+=P;break;case"h":A[1]+=a;break;default:for(var t=1;t<A.length;)A[t++]+=a,A[t++]+=P}switch(g){case"Z":a=p,P=L;break;case"H":a=A[1];break;case"V":P=A[1];break;case"M":a=p=A[1],P=L=A[2];break;default:a=A[A.length-2],P=A[A.length-1]}return A})}},21527:function(W){W.exports=U;function U(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),a=0;a<p;a++){for(var P=-1/0,A=1/0,v=a,g=e.length;v<g;v+=p)e[v]>P&&(P=e[v]),e[v]<A&&(A=e[v]);L[a]=A,L[p+a]=P}return L}},24696:function(W){W.exports=function(e,p,L){if(e.filter)return e.filter(p,L);if(e==null)throw new TypeError;if(typeof p!="function")throw new TypeError;for(var a=[],P=0;P<e.length;P++)if(U.call(e,P)){var A=e[P];p.call(L,A,P,e)&&a.push(A)}return a};var U=Object.prototype.hasOwnProperty},6851:function(W){W.exports=function(U,e,p){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(U),a=L.length;if(a===0)return-1;for(var P=0;P<a;P++)if(e.call(p,L[P],P,L))return P;return-1}},54:function(W,U,e){var p=e(21527);W.exports=L;function L(a,P,A){if(!a||a.length==null)throw Error("Argument should be an array");P==null&&(P=1),A==null&&(A=p(a,P));for(var v=0;v<P;v++){var g=A[P+v],t=A[v],r=v,u=a.length;if(g===1/0&&t===-1/0)for(r=v;r<u;r+=P)a[r]=a[r]===g?1:a[r]===t?0:.5;else if(g===1/0)for(r=v;r<u;r+=P)a[r]=a[r]===g?1:0;else if(t===-1/0)for(r=v;r<u;r+=P)a[r]=a[r]===t?0:1;else{var o=g-t;for(r=v;r<u;r+=P)isNaN(a[r])||(a[r]=o===0?.5:(a[r]-t)/o)}}return a}},57471:function(W){W.exports=function(e,p){var L=typeof e=="number",a=typeof p=="number";L&&!a?(p=e,e=0):!L&&!a&&(e=0,p=0),e=e|0,p=p|0;var P=p-e;if(P<0)throw new Error("array length must be positive");for(var A=new Array(P),v=0,g=e;v<P;v++,g++)A[v]=g;return A}},32791:function(W,U,e){var p=e(90386);function L(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(re){return typeof re}:L=function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},L(q)}function a(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}var P=e(79616),A=P.codes,v=A.ERR_AMBIGUOUS_ARGUMENT,g=A.ERR_INVALID_ARG_TYPE,t=A.ERR_INVALID_ARG_VALUE,r=A.ERR_INVALID_RETURN_VALUE,u=A.ERR_MISSING_ARGS,o=e(73894),l=e(43827),c=l.inspect,n=e(43827).types,x=n.isPromise,h=n.isRegExp,T=Object.assign?Object.assign:e(73523).assign,f=Object.is?Object.is:e(64003),s,d;function S(){var q=e(74061);s=q.isDeepEqual,d=q.isDeepStrictEqual}var M=!1,C=W.exports=E,y={};function w(q){throw q.message instanceof Error?q.message:new o(q)}function b(q,Q,re,oe,Y){var G=arguments.length,V;if(G===0)V="Failed";else if(G===1)re=q,q=void 0;else{if(M===!1){M=!0;var Z=p.emitWarning?p.emitWarning:console.warn.bind(console);Z("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}G===2&&(oe="!=")}if(re instanceof Error)throw re;var ae={actual:q,expected:Q,operator:oe===void 0?"fail":oe,stackStartFn:Y||b};re!==void 0&&(ae.message=re);var ie=new o(ae);throw V&&(ie.message=V,ie.generatedMessage=!0),ie}C.fail=b,C.AssertionError=o;function i(q,Q,re,oe){if(!re){var Y=!1;if(Q===0)Y=!0,oe="No value argument passed to `assert.ok()`";else if(oe instanceof Error)throw oe;var G=new o({actual:re,expected:!0,message:oe,operator:"==",stackStartFn:q});throw G.generatedMessage=Y,G}}function E(){for(var q=arguments.length,Q=new Array(q),re=0;re<q;re++)Q[re]=arguments[re];i.apply(void 0,[E,Q.length].concat(Q))}C.ok=E,C.equal=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");Q!=re&&w({actual:Q,expected:re,message:oe,operator:"==",stackStartFn:q})},C.notEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");Q==re&&w({actual:Q,expected:re,message:oe,operator:"!=",stackStartFn:q})},C.deepEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");s===void 0&&S(),s(Q,re)||w({actual:Q,expected:re,message:oe,operator:"deepEqual",stackStartFn:q})},C.notDeepEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");s===void 0&&S(),s(Q,re)&&w({actual:Q,expected:re,message:oe,operator:"notDeepEqual",stackStartFn:q})},C.deepStrictEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");s===void 0&&S(),d(Q,re)||w({actual:Q,expected:re,message:oe,operator:"deepStrictEqual",stackStartFn:q})},C.notDeepStrictEqual=m;function m(q,Q,re){if(arguments.length<2)throw new u("actual","expected");s===void 0&&S(),d(q,Q)&&w({actual:q,expected:Q,message:re,operator:"notDeepStrictEqual",stackStartFn:m})}C.strictEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");f(Q,re)||w({actual:Q,expected:re,message:oe,operator:"strictEqual",stackStartFn:q})},C.notStrictEqual=function q(Q,re,oe){if(arguments.length<2)throw new u("actual","expected");f(Q,re)&&w({actual:Q,expected:re,message:oe,operator:"notStrictEqual",stackStartFn:q})};var F=function q(Q,re,oe){var Y=this;a(this,q),re.forEach(function(G){G in Q&&(oe!==void 0&&typeof oe[G]=="string"&&h(Q[G])&&Q[G].test(oe[G])?Y[G]=oe[G]:Y[G]=Q[G])})};function _(q,Q,re,oe,Y,G){if(!(re in q)||!d(q[re],Q[re])){if(!oe){var V=new F(q,Y),Z=new F(Q,Y,q),ae=new o({actual:V,expected:Z,operator:"deepStrictEqual",stackStartFn:G});throw ae.actual=q,ae.expected=Q,ae.operator=G.name,ae}w({actual:q,expected:Q,message:oe,operator:G.name,stackStartFn:G})}}function B(q,Q,re,oe){if(typeof Q!="function"){if(h(Q))return Q.test(q);if(arguments.length===2)throw new g("expected",["Function","RegExp"],Q);if(L(q)!=="object"||q===null){var Y=new o({actual:q,expected:Q,message:re,operator:"deepStrictEqual",stackStartFn:oe});throw Y.operator=oe.name,Y}var G=Object.keys(Q);if(Q instanceof Error)G.push("name","message");else if(G.length===0)throw new t("error",Q,"may not be an empty object");return s===void 0&&S(),G.forEach(function(V){typeof q[V]=="string"&&h(Q[V])&&Q[V].test(q[V])||_(q,Q,V,re,G,oe)}),!0}return Q.prototype!==void 0&&q instanceof Q?!0:Error.isPrototypeOf(Q)?!1:Q.call({},q)===!0}function I(q){if(typeof q!="function")throw new g("fn","Function",q);try{q()}catch(Q){return Q}return y}function O(q){return x(q)||q!==null&&L(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function z(q){return Promise.resolve().then(function(){var Q;if(typeof q=="function"){if(Q=q(),!O(Q))throw new r("instance of Promise","promiseFn",Q)}else if(O(q))Q=q;else throw new g("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return Q}).then(function(){return y}).catch(function(re){return re})})}function k(q,Q,re,oe){if(typeof re=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],re);if(L(Q)==="object"&&Q!==null){if(Q.message===re)throw new v("error/message",'The error message "'.concat(Q.message,'" is identical to the message.'))}else if(Q===re)throw new v("error/message",'The error "'.concat(Q,'" is identical to the message.'));oe=re,re=void 0}else if(re!=null&&L(re)!=="object"&&typeof re!="function")throw new g("error",["Object","Error","Function","RegExp"],re);if(Q===y){var Y="";re&&re.name&&(Y+=" (".concat(re.name,")")),Y+=oe?": ".concat(oe):".";var G=q.name==="rejects"?"rejection":"exception";w({actual:void 0,expected:re,operator:q.name,message:"Missing expected ".concat(G).concat(Y),stackStartFn:q})}if(re&&!B(Q,re,oe,q))throw Q}function N(q,Q,re,oe){if(Q!==y){if(typeof re=="string"&&(oe=re,re=void 0),!re||B(Q,re)){var Y=oe?": ".concat(oe):".",G=q.name==="doesNotReject"?"rejection":"exception";w({actual:Q,expected:re,operator:q.name,message:"Got unwanted ".concat(G).concat(Y,`
`)+'Actual message: "'.concat(Q&&Q.message,'"'),stackStartFn:q})}throw Q}}C.throws=function q(Q){for(var re=arguments.length,oe=new Array(re>1?re-1:0),Y=1;Y<re;Y++)oe[Y-1]=arguments[Y];k.apply(void 0,[q,I(Q)].concat(oe))},C.rejects=function q(Q){for(var re=arguments.length,oe=new Array(re>1?re-1:0),Y=1;Y<re;Y++)oe[Y-1]=arguments[Y];return z(Q).then(function(G){return k.apply(void 0,[q,G].concat(oe))})},C.doesNotThrow=function q(Q){for(var re=arguments.length,oe=new Array(re>1?re-1:0),Y=1;Y<re;Y++)oe[Y-1]=arguments[Y];N.apply(void 0,[q,I(Q)].concat(oe))},C.doesNotReject=function q(Q){for(var re=arguments.length,oe=new Array(re>1?re-1:0),Y=1;Y<re;Y++)oe[Y-1]=arguments[Y];return z(Q).then(function(G){return N.apply(void 0,[q,G].concat(oe))})},C.ifError=function q(Q){if(Q!=null){var re="ifError got unwanted exception: ";L(Q)==="object"&&typeof Q.message=="string"?Q.message.length===0&&Q.constructor?re+=Q.constructor.name:re+=Q.message:re+=c(Q);var oe=new o({actual:Q,expected:null,operator:"ifError",message:re,stackStartFn:q}),Y=Q.stack;if(typeof Y=="string"){var G=Y.split(`
`);G.shift();for(var V=oe.stack.split(`
`),Z=0;Z<G.length;Z++){var ae=V.indexOf(G[Z]);if(ae!==-1){V=V.slice(0,ae);break}}oe.stack="".concat(V.join(`
`),`
`).concat(G.join(`
`))}throw oe}};function K(){for(var q=arguments.length,Q=new Array(q),re=0;re<q;re++)Q[re]=arguments[re];i.apply(void 0,[K,Q.length].concat(Q))}C.strict=T(K,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},73894:function(W,U,e){var p=e(90386);function L(I){for(var O=1;O<arguments.length;O++){var z=arguments[O]!=null?arguments[O]:{},k=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(z).filter(function(N){return Object.getOwnPropertyDescriptor(z,N).enumerable}))),k.forEach(function(N){a(I,N,z[N])})}return I}function a(I,O,z){return O in I?Object.defineProperty(I,O,{value:z,enumerable:!0,configurable:!0,writable:!0}):I[O]=z,I}function P(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function A(I,O){for(var z=0;z<O.length;z++){var k=O[z];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function v(I,O,z){return O&&A(I.prototype,O),z&&A(I,z),I}function g(I,O){return O&&(h(O)==="object"||typeof O=="function")?O:t(I)}function t(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),O&&n(I,O)}function u(I){var O=typeof Map=="function"?new Map:void 0;return u=function(k){if(k===null||!c(k))return k;if(typeof k!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(k))return O.get(k);O.set(k,N)}function N(){return l(k,arguments,x(this).constructor)}return N.prototype=Object.create(k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),n(N,k)},u(I)}function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(I,O,z){return o()?l=Reflect.construct:l=function(N,K,q){var Q=[null];Q.push.apply(Q,K);var re=Function.bind.apply(N,Q),oe=new re;return q&&n(oe,q.prototype),oe},l.apply(null,arguments)}function c(I){return Function.toString.call(I).indexOf("[native code]")!==-1}function n(I,O){return n=Object.setPrototypeOf||function(k,N){return k.__proto__=N,k},n(I,O)}function x(I){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},x(I)}function h(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(z){return typeof z}:h=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},h(I)}var T=e(43827),f=T.inspect,s=e(79616),d=s.codes.ERR_INVALID_ARG_TYPE;function S(I,O,z){return(z===void 0||z>I.length)&&(z=I.length),I.substring(z-O.length,z)===O}function M(I,O){if(O=Math.floor(O),I.length==0||O==0)return"";var z=I.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)I+=I,O--;return I+=I.substring(0,z-I.length),I}var C="",y="",w="",b="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function m(I){var O=Object.keys(I),z=Object.create(Object.getPrototypeOf(I));return O.forEach(function(k){z[k]=I[k]}),Object.defineProperty(z,"message",{value:I.message}),z}function F(I){return f(I,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(I,O,z){var k="",N="",K=0,q="",Q=!1,re=F(I),oe=re.split(`
`),Y=F(O).split(`
`),G=0,V="";if(z==="strictEqual"&&h(I)==="object"&&h(O)==="object"&&I!==null&&O!==null&&(z="strictEqualObject"),oe.length===1&&Y.length===1&&oe[0]!==Y[0]){var Z=oe[0].length+Y[0].length;if(Z<=E){if((h(I)!=="object"||I===null)&&(h(O)!=="object"||O===null)&&(I!==0||O!==0))return"".concat(i[z],`

`)+"".concat(oe[0]," !== ").concat(Y[0],`
`)}else if(z!=="strictEqualObject"){var ae=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(Z<ae){for(;oe[0][G]===Y[0][G];)G++;G>2&&(V=`
  `.concat(M(" ",G),"^"),G=0)}}}for(var ie=oe[oe.length-1],J=Y[Y.length-1];ie===J&&(G++<2?q=`
  `.concat(ie).concat(q):k=ie,oe.pop(),Y.pop(),!(oe.length===0||Y.length===0));)ie=oe[oe.length-1],J=Y[Y.length-1];var $=Math.max(oe.length,Y.length);if($===0){var se=re.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(b);se.length>27;)se.pop();return"".concat(i.notIdentical,`

`).concat(se.join(`
`),`
`)}G>3&&(q=`
`.concat(C,"...").concat(b).concat(q),Q=!0),k!==""&&(q=`
  `.concat(k).concat(q),k="");var ee=0,ue=i[z]+`
`.concat(y,"+ actual").concat(b," ").concat(w,"- expected").concat(b),ge=" ".concat(C,"...").concat(b," Lines skipped");for(G=0;G<$;G++){var Te=G-K;if(oe.length<G+1)Te>1&&G>2&&(Te>4?(N+=`
`.concat(C,"...").concat(b),Q=!0):Te>3&&(N+=`
  `.concat(Y[G-2]),ee++),N+=`
  `.concat(Y[G-1]),ee++),K=G,k+=`
`.concat(w,"-").concat(b," ").concat(Y[G]),ee++;else if(Y.length<G+1)Te>1&&G>2&&(Te>4?(N+=`
`.concat(C,"...").concat(b),Q=!0):Te>3&&(N+=`
  `.concat(oe[G-2]),ee++),N+=`
  `.concat(oe[G-1]),ee++),K=G,N+=`
`.concat(y,"+").concat(b," ").concat(oe[G]),ee++;else{var xe=Y[G],Pe=oe[G],Ie=Pe!==xe&&(!S(Pe,",")||Pe.slice(0,-1)!==xe);Ie&&S(xe,",")&&xe.slice(0,-1)===Pe&&(Ie=!1,Pe+=","),Ie?(Te>1&&G>2&&(Te>4?(N+=`
`.concat(C,"...").concat(b),Q=!0):Te>3&&(N+=`
  `.concat(oe[G-2]),ee++),N+=`
  `.concat(oe[G-1]),ee++),K=G,N+=`
`.concat(y,"+").concat(b," ").concat(Pe),k+=`
`.concat(w,"-").concat(b," ").concat(xe),ee+=2):(N+=k,k="",(Te===1||G===0)&&(N+=`
  `.concat(Pe),ee++))}if(ee>20&&G<$-2)return"".concat(ue).concat(ge,`
`).concat(N,`
`).concat(C,"...").concat(b).concat(k,`
`)+"".concat(C,"...").concat(b)}return"".concat(ue).concat(Q?ge:"",`
`).concat(N).concat(k).concat(q).concat(V)}var B=function(I){r(O,I);function O(z){var k;if(P(this,O),h(z)!=="object"||z===null)throw new d("options","Object",z);var N=z.message,K=z.operator,q=z.stackStartFn,Q=z.actual,re=z.expected,oe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,N!=null)k=g(this,x(O).call(this,String(N)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(C="\x1B[34m",y="\x1B[32m",b="\x1B[39m",w="\x1B[31m"):(C="",y="",b="",w="")),h(Q)==="object"&&Q!==null&&h(re)==="object"&&re!==null&&"stack"in Q&&Q instanceof Error&&"stack"in re&&re instanceof Error&&(Q=m(Q),re=m(re)),K==="deepStrictEqual"||K==="strictEqual")k=g(this,x(O).call(this,_(Q,re,K)));else if(K==="notDeepStrictEqual"||K==="notStrictEqual"){var Y=i[K],G=F(Q).split(`
`);if(K==="notStrictEqual"&&h(Q)==="object"&&Q!==null&&(Y=i.notStrictEqualObject),G.length>30)for(G[26]="".concat(C,"...").concat(b);G.length>27;)G.pop();G.length===1?k=g(this,x(O).call(this,"".concat(Y," ").concat(G[0]))):k=g(this,x(O).call(this,"".concat(Y,`

`).concat(G.join(`
`),`
`)))}else{var V=F(Q),Z="",ae=i[K];K==="notDeepEqual"||K==="notEqual"?(V="".concat(i[K],`

`).concat(V),V.length>1024&&(V="".concat(V.slice(0,1021),"..."))):(Z="".concat(F(re)),V.length>512&&(V="".concat(V.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),K==="deepEqual"||K==="equal"?V="".concat(ae,`

`).concat(V,`

should equal

`):Z=" ".concat(K," ").concat(Z)),k=g(this,x(O).call(this,"".concat(V).concat(Z)))}return Error.stackTraceLimit=oe,k.generatedMessage=!N,Object.defineProperty(t(k),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),k.code="ERR_ASSERTION",k.actual=Q,k.expected=re,k.operator=K,Error.captureStackTrace&&Error.captureStackTrace(t(k),q),k.stack,k.name="AssertionError",g(k)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(k,N){return f(this,L({},N,{customInspect:!1,depth:0}))}}]),O}(u(Error));W.exports=B},79616:function(W,U,e){function p(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(h)}function L(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function a(h,T){return T&&(p(T)==="object"||typeof T=="function")?T:P(h)}function P(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function A(h){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},A(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&g(h,T)}function g(h,T){return g=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},g(h,T)}var t={},r,u;function o(h,T,f){f||(f=Error);function s(S,M,C){return typeof T=="string"?T:T(S,M,C)}var d=function(S){v(M,S);function M(C,y,w){var b;return L(this,M),b=a(this,A(M).call(this,s(C,y,w))),b.code=h,b}return M}(f);t[h]=d}function l(h,T){if(Array.isArray(h)){var f=h.length;return h=h.map(function(s){return String(s)}),f>2?"one of ".concat(T," ").concat(h.slice(0,f-1).join(", "),", or ")+h[f-1]:f===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function c(h,T,f){return h.substr(!f||f<0?0:+f,T.length)===T}function n(h,T,f){return(f===void 0||f>h.length)&&(f=h.length),h.substring(f-T.length,f)===T}function x(h,T,f){return typeof f!="number"&&(f=0),f+T.length>h.length?!1:h.indexOf(T,f)!==-1}o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(h,T,f){r===void 0&&(r=e(32791)),r(typeof h=="string","'name' must be a string");var s;typeof T=="string"&&c(T,"not ")?(s="must not be",T=T.replace(/^not /,"")):s="must be";var d;if(n(h," argument"))d="The ".concat(h," ").concat(s," ").concat(l(T,"type"));else{var S=x(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(S," ").concat(s," ").concat(l(T,"type"))}return d+=". Received type ".concat(p(f)),d},TypeError),o("ERR_INVALID_ARG_VALUE",function(h,T){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";u===void 0&&(u=e(43827));var s=u.inspect(T);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(f,". Received ").concat(s)},TypeError),o("ERR_INVALID_RETURN_VALUE",function(h,T,f){var s;return f&&f.constructor&&f.constructor.name?s="instance of ".concat(f.constructor.name):s="type ".concat(p(f)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(s,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),f=0;f<h;f++)T[f]=arguments[f];r===void 0&&(r=e(32791)),r(T.length>0,"At least one arg needs to be specified");var s="The ",d=T.length;switch(T=T.map(function(S){return'"'.concat(S,'"')}),d){case 1:s+="".concat(T[0]," argument");break;case 2:s+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:s+=T.slice(0,d-1).join(", "),s+=", and ".concat(T[d-1]," arguments");break}return"".concat(s," must be specified")},TypeError),W.exports.codes=t},74061:function(W,U,e){function p(Ae,be){return P(Ae)||a(Ae,be)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Ae,be){var _e=[],Ve=!0,We=!1,ze=void 0;try{for(var Ze=Ae[Symbol.iterator](),ct;!(Ve=(ct=Ze.next()).done)&&(_e.push(ct.value),!(be&&_e.length===be));Ve=!0);}catch(lt){We=!0,ze=lt}finally{try{!Ve&&Ze.return!=null&&Ze.return()}finally{if(We)throw ze}}return _e}function P(Ae){if(Array.isArray(Ae))return Ae}function A(Ae){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(_e){return typeof _e}:A=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},A(Ae)}var v=/a/g.flags!==void 0,g=function(be){var _e=[];return be.forEach(function(Ve){return _e.push(Ve)}),_e},t=function(be){var _e=[];return be.forEach(function(Ve,We){return _e.push([We,Ve])}),_e},r=Object.is?Object.is:e(64003),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},o=Number.isNaN?Number.isNaN:e(15567);function l(Ae){return Ae.call.bind(Ae)}var c=l(Object.prototype.hasOwnProperty),n=l(Object.prototype.propertyIsEnumerable),x=l(Object.prototype.toString),h=e(43827).types,T=h.isAnyArrayBuffer,f=h.isArrayBufferView,s=h.isDate,d=h.isMap,S=h.isRegExp,M=h.isSet,C=h.isNativeError,y=h.isBoxedPrimitive,w=h.isNumberObject,b=h.isStringObject,i=h.isBooleanObject,E=h.isBigIntObject,m=h.isSymbolObject,F=h.isFloat32Array,_=h.isFloat64Array;function B(Ae){if(Ae.length===0||Ae.length>10)return!0;for(var be=0;be<Ae.length;be++){var _e=Ae.charCodeAt(be);if(_e<48||_e>57)return!0}return Ae.length===10&&Ae>=Math.pow(2,32)}function I(Ae){return Object.keys(Ae).filter(B).concat(u(Ae).filter(Object.prototype.propertyIsEnumerable.bind(Ae)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Ae,be){if(Ae===be)return 0;for(var _e=Ae.length,Ve=be.length,We=0,ze=Math.min(_e,Ve);We<ze;++We)if(Ae[We]!==be[We]){_e=Ae[We],Ve=be[We];break}return _e<Ve?-1:Ve<_e?1:0}var z=!0,k=!1,N=0,K=1,q=2,Q=3;function re(Ae,be){return v?Ae.source===be.source&&Ae.flags===be.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(be)}function oe(Ae,be){if(Ae.byteLength!==be.byteLength)return!1;for(var _e=0;_e<Ae.byteLength;_e++)if(Ae[_e]!==be[_e])return!1;return!0}function Y(Ae,be){return Ae.byteLength!==be.byteLength?!1:O(new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function G(Ae,be){return Ae.byteLength===be.byteLength&&O(new Uint8Array(Ae),new Uint8Array(be))===0}function V(Ae,be){return w(Ae)?w(be)&&r(Number.prototype.valueOf.call(Ae),Number.prototype.valueOf.call(be)):b(Ae)?b(be)&&String.prototype.valueOf.call(Ae)===String.prototype.valueOf.call(be):i(Ae)?i(be)&&Boolean.prototype.valueOf.call(Ae)===Boolean.prototype.valueOf.call(be):E(Ae)?E(be)&&BigInt.prototype.valueOf.call(Ae)===BigInt.prototype.valueOf.call(be):m(be)&&Symbol.prototype.valueOf.call(Ae)===Symbol.prototype.valueOf.call(be)}function Z(Ae,be,_e,Ve){if(Ae===be)return Ae!==0?!0:_e?r(Ae,be):!0;if(_e){if(A(Ae)!=="object")return typeof Ae=="number"&&o(Ae)&&o(be);if(A(be)!=="object"||Ae===null||be===null||Object.getPrototypeOf(Ae)!==Object.getPrototypeOf(be))return!1}else{if(Ae===null||A(Ae)!=="object")return be===null||A(be)!=="object"?Ae==be:!1;if(be===null||A(be)!=="object")return!1}var We=x(Ae),ze=x(be);if(We!==ze)return!1;if(Array.isArray(Ae)){if(Ae.length!==be.length)return!1;var Ze=I(Ae),ct=I(be);return Ze.length!==ct.length?!1:ie(Ae,be,_e,Ve,K,Ze)}if(We==="[object Object]"&&(!d(Ae)&&d(be)||!M(Ae)&&M(be)))return!1;if(s(Ae)){if(!s(be)||Date.prototype.getTime.call(Ae)!==Date.prototype.getTime.call(be))return!1}else if(S(Ae)){if(!S(be)||!re(Ae,be))return!1}else if(C(Ae)||Ae instanceof Error){if(Ae.message!==be.message||Ae.name!==be.name)return!1}else if(f(Ae)){if(!_e&&(F(Ae)||_(Ae))){if(!oe(Ae,be))return!1}else if(!Y(Ae,be))return!1;var lt=I(Ae),at=I(be);return lt.length!==at.length?!1:ie(Ae,be,_e,Ve,N,lt)}else{if(M(Ae))return!M(be)||Ae.size!==be.size?!1:ie(Ae,be,_e,Ve,q);if(d(Ae))return!d(be)||Ae.size!==be.size?!1:ie(Ae,be,_e,Ve,Q);if(T(Ae)){if(!G(Ae,be))return!1}else if(y(Ae)&&!V(Ae,be))return!1}return ie(Ae,be,_e,Ve,N)}function ae(Ae,be){return be.filter(function(_e){return n(Ae,_e)})}function ie(Ae,be,_e,Ve,We,ze){if(arguments.length===5){ze=Object.keys(Ae);var Ze=Object.keys(be);if(ze.length!==Ze.length)return!1}for(var ct=0;ct<ze.length;ct++)if(!c(be,ze[ct]))return!1;if(_e&&arguments.length===5){var lt=u(Ae);if(lt.length!==0){var at=0;for(ct=0;ct<lt.length;ct++){var tt=lt[ct];if(n(Ae,tt)){if(!n(be,tt))return!1;ze.push(tt),at++}else if(n(be,tt))return!1}var dt=u(be);if(lt.length!==dt.length&&ae(be,dt).length!==at)return!1}else{var wt=u(be);if(wt.length!==0&&ae(be,wt).length!==0)return!1}}if(ze.length===0&&(We===N||We===K&&Ae.length===0||Ae.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var Mt=Ve.val1.get(Ae);if(Mt!==void 0){var It=Ve.val2.get(be);if(It!==void 0)return Mt===It}Ve.position++}Ve.val1.set(Ae,Ve.position),Ve.val2.set(be,Ve.position);var $e=xe(Ae,be,_e,ze,Ve,We);return Ve.val1.delete(Ae),Ve.val2.delete(be),$e}function J(Ae,be,_e,Ve){for(var We=g(Ae),ze=0;ze<We.length;ze++){var Ze=We[ze];if(Z(be,Ze,_e,Ve))return Ae.delete(Ze),!0}return!1}function $(Ae){switch(A(Ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ae=+Ae;case"number":if(o(Ae))return!1}return!0}function se(Ae,be,_e){var Ve=$(_e);return Ve??(be.has(Ve)&&!Ae.has(Ve))}function ee(Ae,be,_e,Ve,We){var ze=$(_e);if(ze!=null)return ze;var Ze=be.get(ze);return Ze===void 0&&!be.has(ze)||!Z(Ve,Ze,!1,We)?!1:!Ae.has(ze)&&Z(Ve,Ze,!1,We)}function ue(Ae,be,_e,Ve){for(var We=null,ze=g(Ae),Ze=0;Ze<ze.length;Ze++){var ct=ze[Ze];if(A(ct)==="object"&&ct!==null)We===null&&(We=new Set),We.add(ct);else if(!be.has(ct)){if(_e||!se(Ae,be,ct))return!1;We===null&&(We=new Set),We.add(ct)}}if(We!==null){for(var lt=g(be),at=0;at<lt.length;at++){var tt=lt[at];if(A(tt)==="object"&&tt!==null){if(!J(We,tt,_e,Ve))return!1}else if(!_e&&!Ae.has(tt)&&!J(We,tt,_e,Ve))return!1}return We.size===0}return!0}function ge(Ae,be,_e,Ve,We,ze){for(var Ze=g(Ae),ct=0;ct<Ze.length;ct++){var lt=Ze[ct];if(Z(_e,lt,We,ze)&&Z(Ve,be.get(lt),We,ze))return Ae.delete(lt),!0}return!1}function Te(Ae,be,_e,Ve){for(var We=null,ze=t(Ae),Ze=0;Ze<ze.length;Ze++){var ct=p(ze[Ze],2),lt=ct[0],at=ct[1];if(A(lt)==="object"&&lt!==null)We===null&&(We=new Set),We.add(lt);else{var tt=be.get(lt);if(tt===void 0&&!be.has(lt)||!Z(at,tt,_e,Ve)){if(_e||!ee(Ae,be,lt,at,Ve))return!1;We===null&&(We=new Set),We.add(lt)}}}if(We!==null){for(var dt=t(be),wt=0;wt<dt.length;wt++){var Mt=p(dt[wt],2),lt=Mt[0],It=Mt[1];if(A(lt)==="object"&&lt!==null){if(!ge(We,Ae,lt,It,_e,Ve))return!1}else if(!_e&&(!Ae.has(lt)||!Z(Ae.get(lt),It,!1,Ve))&&!ge(We,Ae,lt,It,!1,Ve))return!1}return We.size===0}return!0}function xe(Ae,be,_e,Ve,We,ze){var Ze=0;if(ze===q){if(!ue(Ae,be,_e,We))return!1}else if(ze===Q){if(!Te(Ae,be,_e,We))return!1}else if(ze===K)for(;Ze<Ae.length;Ze++)if(c(Ae,Ze)){if(!c(be,Ze)||!Z(Ae[Ze],be[Ze],_e,We))return!1}else{if(c(be,Ze))return!1;for(var ct=Object.keys(Ae);Ze<ct.length;Ze++){var lt=ct[Ze];if(!c(be,lt)||!Z(Ae[lt],be[lt],_e,We))return!1}return ct.length===Object.keys(be).length}for(Ze=0;Ze<Ve.length;Ze++){var at=Ve[Ze];if(!Z(Ae[at],be[at],_e,We))return!1}return!0}function Pe(Ae,be){return Z(Ae,be,k)}function Ie(Ae,be){return Z(Ae,be,z)}W.exports={isDeepEqual:Pe,isDeepStrictEqual:Ie}},95341:function(W,U){U.byteLength=g,U.toByteArray=r,U.fromByteArray=l;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,A=a.length;P<A;++P)e[P]=a[P],p[a.charCodeAt(P)]=P;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function v(c){var n=c.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=c.indexOf("=");x===-1&&(x=n);var h=x===n?0:4-x%4;return[x,h]}function g(c){var n=v(c),x=n[0],h=n[1];return(x+h)*3/4-h}function t(c,n,x){return(n+x)*3/4-x}function r(c){var n,x=v(c),h=x[0],T=x[1],f=new L(t(c,h,T)),s=0,d=T>0?h-4:h,S;for(S=0;S<d;S+=4)n=p[c.charCodeAt(S)]<<18|p[c.charCodeAt(S+1)]<<12|p[c.charCodeAt(S+2)]<<6|p[c.charCodeAt(S+3)],f[s++]=n>>16&255,f[s++]=n>>8&255,f[s++]=n&255;return T===2&&(n=p[c.charCodeAt(S)]<<2|p[c.charCodeAt(S+1)]>>4,f[s++]=n&255),T===1&&(n=p[c.charCodeAt(S)]<<10|p[c.charCodeAt(S+1)]<<4|p[c.charCodeAt(S+2)]>>2,f[s++]=n>>8&255,f[s++]=n&255),f}function u(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function o(c,n,x){for(var h,T=[],f=n;f<x;f+=3)h=(c[f]<<16&16711680)+(c[f+1]<<8&65280)+(c[f+2]&255),T.push(u(h));return T.join("")}function l(c){for(var n,x=c.length,h=x%3,T=[],f=16383,s=0,d=x-h;s<d;s+=f)T.push(o(c,s,s+f>d?d:s+f));return h===1?(n=c[x-1],T.push(e[n>>2]+e[n<<4&63]+"==")):h===2&&(n=(c[x-2]<<8)+c[x-1],T.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),T.join("")}},91358:function(W){function U(A,v,g,t,r){for(var u=r+1;t<=r;){var o=t+r>>>1,l=A[o],c=g!==void 0?g(l,v):l-v;c>=0?(u=o,r=o-1):t=o+1}return u}function e(A,v,g,t,r){for(var u=r+1;t<=r;){var o=t+r>>>1,l=A[o],c=g!==void 0?g(l,v):l-v;c>0?(u=o,r=o-1):t=o+1}return u}function p(A,v,g,t,r){for(var u=t-1;t<=r;){var o=t+r>>>1,l=A[o],c=g!==void 0?g(l,v):l-v;c<0?(u=o,t=o+1):r=o-1}return u}function L(A,v,g,t,r){for(var u=t-1;t<=r;){var o=t+r>>>1,l=A[o],c=g!==void 0?g(l,v):l-v;c<=0?(u=o,t=o+1):r=o-1}return u}function a(A,v,g,t,r){for(;t<=r;){var u=t+r>>>1,o=A[u],l=g!==void 0?g(o,v):o-v;if(l===0)return u;l<=0?t=u+1:r=u-1}return-1}function P(A,v,g,t,r,u){return typeof g=="function"?u(A,v,g,t===void 0?0:t|0,r===void 0?A.length-1:r|0):u(A,v,void 0,g===void 0?0:g|0,t===void 0?A.length-1:t|0)}W.exports={ge:function(A,v,g,t,r){return P(A,v,g,t,r,U)},gt:function(A,v,g,t,r){return P(A,v,g,t,r,e)},lt:function(A,v,g,t,r){return P(A,v,g,t,r,p)},le:function(A,v,g,t,r){return P(A,v,g,t,r,L)},eq:function(A,v,g,t,r){return P(A,v,g,t,r,a)}}},13547:function(W,U){var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(a){return(a>0)-(a<0)},U.abs=function(a){var P=a>>e-1;return(a^P)-P},U.min=function(a,P){return P^(a^P)&-(a<P)},U.max=function(a,P){return a^(a^P)&-(a<P)},U.isPow2=function(a){return!(a&a-1)&&!!a},U.log2=function(a){var P,A;return P=(a>65535)<<4,a>>>=P,A=(a>255)<<3,a>>>=A,P|=A,A=(a>15)<<2,a>>>=A,P|=A,A=(a>3)<<1,a>>>=A,P|=A,P|a>>1},U.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},U.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function p(a){var P=32;return a&=-a,a&&P--,a&65535&&(P-=16),a&16711935&&(P-=8),a&252645135&&(P-=4),a&858993459&&(P-=2),a&1431655765&&(P-=1),P}U.countTrailingZeros=p,U.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},U.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},U.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var L=new Array(256);(function(a){for(var P=0;P<256;++P){var A=P,v=P,g=7;for(A>>>=1;A;A>>>=1)v<<=1,v|=A&1,--g;a[P]=v<<g&255}})(L),U.reverse=function(a){return L[a&255]<<24|L[a>>>8&255]<<16|L[a>>>16&255]<<8|L[a>>>24&255]},U.interleave2=function(a,P){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,P&=65535,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,a|P<<1},U.deinterleave2=function(a,P){return a=a>>>P&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},U.interleave3=function(a,P,A){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,P&=1023,P=(P|P<<16)&4278190335,P=(P|P<<8)&251719695,P=(P|P<<4)&3272356035,P=(P|P<<2)&1227133513,a|=P<<1,A&=1023,A=(A|A<<16)&4278190335,A=(A|A<<8)&251719695,A=(A|A<<4)&3272356035,A=(A|A<<2)&1227133513,a|A<<2},U.deinterleave3=function(a,P){return a=a>>>P&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},U.nextCombination=function(a){var P=a|a-1;return P+1|(~P&-~P)-1>>>p(a)+1}},44781:function(W,U,e){var p=e(53435);W.exports=a;var L=1e20;function a(v,g){g||(g={});var t=g.cutoff==null?.25:g.cutoff,r=g.radius==null?8:g.radius,u=g.channel||0,o,l,c,n,x,h,T,f,s,d,S;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");o=g.width,l=g.height,n=v,g.stride?h=g.stride:h=Math.floor(v.length/o/l)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(f=v,T=f.getContext("2d"),o=f.width,l=f.height,s=T.getImageData(0,0,o,l),n=s.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(f=v.canvas,T=v,o=f.width,l=f.height,s=T.getImageData(0,0,o,l),n=s.data,h=4):window.ImageData&&v instanceof window.ImageData&&(s=v,o=v.width,l=v.height,n=s.data,h=4);if(c=Math.max(o,l),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(x=n,n=Array(o*l),d=0,S=x.length;d<S;d++)n[d]=x[d*h+u]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var M=Array(o*l),C=Array(o*l),y=Array(c),w=Array(c),b=Array(c+1),i=Array(c);for(d=0,S=o*l;d<S;d++){var E=n[d];M[d]=E===1?0:E===0?L:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?L:E===0?0:Math.pow(Math.max(0,E-.5),2)}P(M,o,l,y,w,i,b),P(C,o,l,y,w,i,b);var m=window.Float32Array?new Float32Array(o*l):new Array(o*l);for(d=0,S=o*l;d<S;d++)m[d]=p(1-((M[d]-C[d])/r+t),0,1);return m}function P(v,g,t,r,u,o,l){for(var c=0;c<g;c++){for(var n=0;n<t;n++)r[n]=v[n*g+c];for(A(r,u,o,l,t),n=0;n<t;n++)v[n*g+c]=u[n]}for(n=0;n<t;n++){for(c=0;c<g;c++)r[c]=v[n*g+c];for(A(r,u,o,l,g),c=0;c<g;c++)v[n*g+c]=Math.sqrt(u[c])}}function A(v,g,t,r,u){t[0]=0,r[0]=-L,r[1]=+L;for(var o=1,l=0;o<u;o++){for(var c=(v[o]+o*o-(v[t[l]]+t[l]*t[l]))/(2*o-2*t[l]);c<=r[l];)l--,c=(v[o]+o*o-(v[t[l]]+t[l]*t[l]))/(2*o-2*t[l]);l++,t[l]=o,r[l]=c,r[l+1]=+L}for(o=0,l=0;o<u;o++){for(;r[l+1]<o;)l++;g[o]=(o-t[l])*(o-t[l])+v[t[l]]}}},68222:function(W,U,e){var p=e(77575),L=e(68318),a=L("%Function.prototype.apply%"),P=L("%Function.prototype.call%"),A=L("%Reflect.apply%",!0)||p.call(P,a),v=L("%Object.defineProperty%",!0);if(v)try{v({},"a",{value:1})}catch{v=null}W.exports=function(){return A(p,P,arguments)};var g=function(){return A(p,a,arguments)};v?v(W.exports,"apply",{value:g}):W.exports.apply=g},53435:function(W){W.exports=U;function U(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},6475:function(W,U,e){var p=e(53435);W.exports=L,W.exports.to=L,W.exports.from=a;function L(P,A){A==null&&(A=!0);var v=P[0],g=P[1],t=P[2],r=P[3];r==null&&(r=A?1:255),A&&(v*=255,g*=255,t*=255,r*=255),v=p(v,0,255)&255,g=p(g,0,255)&255,t=p(t,0,255)&255,r=p(r,0,255)&255;var u=v*16777216+(g<<16)+(t<<8)+r;return u}function a(P,A){P=+P;var v=P>>>24,g=(P&16711680)>>>16,t=(P&65280)>>>8,r=P&255;return A===!1?[v,g,t,r]:[v/255,g/255,t/255,r/255]}},76857:function(W){W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(W,U,e){var p=e(36652),L=e(53435),a=e(90660);W.exports=function(v,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var t=a(g),r=new t(4),u=g!=="uint8"&&g!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=p(v),v[0]/=255,v[1]/=255,v[2]/=255),P(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,u&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(u?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=L(Math.floor(v[0]*255),0,255),r[1]=L(Math.floor(v[1]*255),0,255),r[2]=L(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),r)};function P(A){return!!(A instanceof Uint8Array||A instanceof Uint8ClampedArray||Array.isArray(A)&&(A[0]>1||A[0]===0)&&(A[1]>1||A[1]===0)&&(A[2]>1||A[2]===0)&&(!A[3]||A[3]>1))}},90736:function(W,U,e){var p=e(76857),L=e(10973),a=e(46775);W.exports=A;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function A(v){var g,t=[],r=1,u;if(typeof v=="string")if(p[v])t=p[v].slice(),u="rgb";else if(v==="transparent")r=0,u="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var o=v.slice(1),l=o.length,c=l<=4;r=1,c?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],l===4&&(r=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],l===8&&(r=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),u="rgb"}else if(g=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var n=g[1],x=n==="rgb",o=n.replace(/a$/,"");u=o;var l=o==="cmyk"?4:o==="gray"?1:3;t=g[2].trim().split(/\s*,\s*/).map(function(s,d){if(/%$/.test(s))return d===l?parseFloat(s)/100:o==="rgb"?parseFloat(s)*255/100:parseFloat(s);if(o[d]==="h"){if(/deg$/.test(s))return parseFloat(s);if(P[s]!==void 0)return P[s]}return parseFloat(s)}),n===o&&t.push(1),r=x||t[l]===void 0?1:t[l],t=t.slice(0,l)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(T){return parseFloat(T)}),u=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))u="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(L(v)){var h=a(v.r,v.red,v.R,null);h!==null?(u="rgb",t=[h,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(u="hsl",t=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),r=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],u="rgb",r=v.length===4?v[3]:1);return{space:u,values:t,alpha:r}}},36652:function(W,U,e){var p=e(90736),L=e(80009),a=e(53435);W.exports=function(A){var v,g=p(A);return g.space?(v=Array(3),v[0]=a(g.values[0],0,255),v[1]=a(g.values[1],0,255),v[2]=a(g.values[2],0,255),g.space[0]==="h"&&(v=L.rgb(v)),v.push(a(g.alpha,0,1)),v):[]}},80009:function(W,U,e){var p=e(6866);W.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var a=L[0]/360,P=L[1]/100,A=L[2]/100,v,g,t,r,u;if(P===0)return u=A*255,[u,u,u];A<.5?g=A*(1+P):g=A+P-A*P,v=2*A-g,r=[0,0,0];for(var o=0;o<3;o++)t=a+.3333333333333333*-(o-1),t<0?t++:t>1&&t--,6*t<1?u=v+(g-v)*6*t:2*t<1?u=g:3*t<2?u=v+(g-v)*(.6666666666666666-t)*6:u=v,r[o]=u*255;return r}},p.hsl=function(L){var a=L[0]/255,P=L[1]/255,A=L[2]/255,v=Math.min(a,P,A),g=Math.max(a,P,A),t=g-v,r,u,o;return g===v?r=0:a===g?r=(P-A)/t:P===g?r=2+(A-a)/t:A===g&&(r=4+(a-P)/t),r=Math.min(r*60,360),r<0&&(r+=360),o=(v+g)/2,g===v?u=0:o<=.5?u=t/(g+v):u=t/(2-g-v),[r,u*100,o*100]}},6866:function(W){W.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(W){W.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(W,U,e){W.exports={parse:e(41004),stringify:e(53313)}},63625:function(W,U,e){var p=e(40402);W.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||p.indexOf(a)!==-1}}},41004:function(W,U,e){var p=e(90448),L=e(38732),a=e(41901),P=e(15659),A=e(96209),v=e(83794),g=e(99011),t=e(63625).isSize;W.exports=u;var r=u.cache={};function u(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(r[l])return r[l];if(l==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(l)!==-1)return r[l]={system:l};for(var c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},n=g(l,/\s+/),x;x=n.shift();){if(L.indexOf(x)!==-1)return["style","variant","weight","stretch"].forEach(function(T){c[T]=x}),r[l]=c;if(A.indexOf(x)!==-1){c.style=x;continue}if(x==="normal"||x==="small-caps"){c.variant=x;continue}if(v.indexOf(x)!==-1){c.stretch=x;continue}if(P.indexOf(x)!==-1){c.weight=x;continue}if(t(x)){var h=g(x,"/");if(c.size=h[0],h[1]!=null?c.lineHeight=o(h[1]):n[0]==="/"&&(n.shift(),c.lineHeight=o(n.shift())),!n.length)throw new Error("Missing required font-family.");return c.family=g(n.join(" "),/\s*,\s*/).map(p),r[l]=c}throw new Error("Unknown or unsupported font token: "+x)}throw new Error("Missing required font-size.")}function o(l){var c=parseFloat(l);return c.toString()===l?c:l}},53313:function(W,U,e){var p=e(71299),L=e(63625).isSize,a=l(e(38732)),P=l(e(41901)),A=l(e(15659)),v=l(e(96209)),g=l(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};W.exports=function(n){if(n=p(n,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),n.system)return n.system&&o(n.system,P),n.system;if(o(n.style,v),o(n.variant,t),o(n.weight,A),o(n.stretch,g),n.size==null&&(n.size=u.size),typeof n.size=="number"&&(n.size+="px"),!L)throw Error("Bad size value `"+n.size+"`");n.family||(n.family=u.family),Array.isArray(n.family)&&(n.family.length||(n.family=[u.family]),n.family=n.family.map(function(h){return r[h]?h:'"'+h+'"'}).join(", "));var x=[];return x.push(n.style),n.variant!==n.style&&x.push(n.variant),n.weight!==n.variant&&n.weight!==n.style&&x.push(n.weight),n.stretch!==n.weight&&n.stretch!==n.variant&&n.stretch!==n.style&&x.push(n.stretch),x.push(n.size+(n.lineHeight==null||n.lineHeight==="normal"||n.lineHeight+""=="1"?"":"/"+n.lineHeight)),x.push(n.family),x.filter(Boolean).join(" ")};function o(c,n){if(c&&!n[c]&&!a[c])throw Error("Unknown keyword `"+c+"`");return c}function l(c){for(var n={},x=0;x<c.length;x++)n[c[x]]=1;return n}},55174:function(W,U,e){var p=e(24582),L=e(10424),a=e(82527),P=e(19012),A=e(21780),v=e(16906),g=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,u;u=function(o,l,c){var n=L(l)&&a(l.value),x;return x=P(l),delete x.writable,delete x.value,x.get=function(){return!c.overwriteDefinition&&r.call(this,o)?n:(l.value=g.call(n,c.resolveContext?c.resolveContext(this):this),t(this,o,l),this[o])},x},W.exports=function(o){var l=A(arguments[1]);return p(l.resolveContext)&&a(l.resolveContext),v(o,function(c,n){return u(n,c,l)})}},62072:function(W,U,e){var p=e(24582),L=e(84985),a=e(95879),P=e(21780),A=e(66741),v=W.exports=function(g,t){var r,u,o,l,c;return arguments.length<2||typeof g!="string"?(l=t,t=g,g=null):l=arguments[2],p(g)?(r=A.call(g,"c"),u=A.call(g,"e"),o=A.call(g,"w")):(r=o=!0,u=!1),c={value:t,configurable:r,enumerable:u,writable:o},l?a(P(l),c):c};v.gs=function(g,t,r){var u,o,l,c;return typeof g!="string"?(l=r,r=t,t=g,g=null):l=arguments[3],p(t)?L(t)?p(r)?L(r)||(l=r,r=void 0):r=void 0:(l=t,t=r=void 0):t=void 0,p(g)?(u=A.call(g,"c"),o=A.call(g,"e")):(u=!0,o=!1),c={get:t,set:r,configurable:u,enumerable:o},l?a(P(l),c):c}},33064:function(W,U,e){e.d(U,{j2:function(){return p},Fp:function(){return P},J6:function(){return v},TS:function(){return g},VV:function(){return t},w6:function(){return r},Sm:function(){return u}});function p(o,l){return o<l?-1:o>l?1:o>=l?0:NaN}function L(o){return o.length===1&&(o=a(o)),{left:function(l,c,n,x){for(n==null&&(n=0),x==null&&(x=l.length);n<x;){var h=n+x>>>1;o(l[h],c)<0?n=h+1:x=h}return n},right:function(l,c,n,x){for(n==null&&(n=0),x==null&&(x=l.length);n<x;){var h=n+x>>>1;o(l[h],c)>0?x=h:n=h+1}return n}}}function a(o){return function(l,c){return p(o(l),c)}}L(p);function P(o,l){var c=o.length,n=-1,x,h;if(l==null){for(;++n<c;)if((x=o[n])!=null&&x>=x)for(h=x;++n<c;)(x=o[n])!=null&&x>h&&(h=x)}else for(;++n<c;)if((x=l(o[n],n,o))!=null&&x>=x)for(h=x;++n<c;)(x=l(o[n],n,o))!=null&&x>h&&(h=x);return h}function A(o){return o===null?NaN:+o}function v(o,l){var c=o.length,n=c,x=-1,h,T=0;if(l==null)for(;++x<c;)isNaN(h=A(o[x]))?--n:T+=h;else for(;++x<c;)isNaN(h=A(l(o[x],x,o)))?--n:T+=h;if(n)return T/n}function g(o){for(var l=o.length,c,n=-1,x=0,h,T;++n<l;)x+=o[n].length;for(h=new Array(x);--l>=0;)for(T=o[l],c=T.length;--c>=0;)h[--x]=T[c];return h}function t(o,l){var c=o.length,n=-1,x,h;if(l==null){for(;++n<c;)if((x=o[n])!=null&&x>=x)for(h=x;++n<c;)(x=o[n])!=null&&h>x&&(h=x)}else for(;++n<c;)if((x=l(o[n],n,o))!=null&&x>=x)for(h=x;++n<c;)(x=l(o[n],n,o))!=null&&h>x&&(h=x);return h}function r(o,l,c){o=+o,l=+l,c=(x=arguments.length)<2?(l=o,o=0,1):x<3?1:+c;for(var n=-1,x=Math.max(0,Math.ceil((l-o)/c))|0,h=new Array(x);++n<x;)h[n]=o+n*c;return h}function u(o,l){var c=o.length,n=-1,x,h=0;if(l==null)for(;++n<c;)(x=+o[n])&&(h+=x);else for(;++n<c;)(x=+l(o[n],n,o))&&(h+=x);return h}},15140:function(W,U,e){e.d(U,{UI:function(){return P},b1:function(){return A}});var p="$";function L(){}L.prototype=a.prototype={constructor:L,has:function(l){return p+l in this},get:function(l){return this[p+l]},set:function(l,c){return this[p+l]=c,this},remove:function(l){var c=p+l;return c in this&&delete this[c]},clear:function(){for(var l in this)l[0]===p&&delete this[l]},keys:function(){var l=[];for(var c in this)c[0]===p&&l.push(c.slice(1));return l},values:function(){var l=[];for(var c in this)c[0]===p&&l.push(this[c]);return l},entries:function(){var l=[];for(var c in this)c[0]===p&&l.push({key:c.slice(1),value:this[c]});return l},size:function(){var l=0;for(var c in this)c[0]===p&&++l;return l},empty:function(){for(var l in this)if(l[0]===p)return!1;return!0},each:function(l){for(var c in this)c[0]===p&&l(this[c],c.slice(1),this)}};function a(l,c){var n=new L;if(l instanceof L)l.each(function(s,d){n.set(d,s)});else if(Array.isArray(l)){var x=-1,h=l.length,T;if(c==null)for(;++x<h;)n.set(x,l[x]);else for(;++x<h;)n.set(c(T=l[x],x,l),T)}else if(l)for(var f in l)n.set(f,l[f]);return n}var P=a;function A(){var l=[],c=[],n,x,h;function T(s,d,S,M){if(d>=l.length)return n!=null&&s.sort(n),x!=null?x(s):s;for(var C=-1,y=s.length,w=l[d++],b,i,E=P(),m,F=S();++C<y;)(m=E.get(b=w(i=s[C])+""))?m.push(i):E.set(b,[i]);return E.each(function(_,B){M(F,B,T(_,d,S,M))}),F}function f(s,d){if(++d>l.length)return s;var S,M=c[d-1];return x!=null&&d>=l.length?S=s.entries():(S=[],s.each(function(C,y){S.push({key:y,values:f(C,d)})})),M!=null?S.sort(function(C,y){return M(C.key,y.key)}):S}return h={object:function(s){return T(s,0,v,g)},map:function(s){return T(s,0,t,r)},entries:function(s){return f(T(s,0,t,r),0)},key:function(s){return l.push(s),h},sortKeys:function(s){return c[l.length-1]=s,h},sortValues:function(s){return n=s,h},rollup:function(s){return x=s,h}}}function v(){return{}}function g(l,c,n){l[c]=n}function t(){return P()}function r(l,c,n){l.set(c,n)}function u(){}var o=P.prototype;u.prototype={constructor:u,has:o.has,add:function(l){return l+="",this[p+l]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(W,U,e){e.r(U),e.d(U,{forceCenter:function(){return p},forceCollide:function(){return E},forceLink:function(){return B},forceManyBody:function(){return Ze},forceRadial:function(){return ct},forceSimulation:function(){return ze},forceX:function(){return lt},forceY:function(){return at}});function p(tt,dt){var wt;tt==null&&(tt=0),dt==null&&(dt=0);function Mt(){var It,$e=wt.length,ke,Fe=0,qe=0;for(It=0;It<$e;++It)ke=wt[It],Fe+=ke.x,qe+=ke.y;for(Fe=Fe/$e-tt,qe=qe/$e-dt,It=0;It<$e;++It)ke=wt[It],ke.x-=Fe,ke.y-=qe}return Mt.initialize=function(It){wt=It},Mt.x=function(It){return arguments.length?(tt=+It,Mt):tt},Mt.y=function(It){return arguments.length?(dt=+It,Mt):dt},Mt}function L(tt){return function(){return tt}}function a(){return(Math.random()-.5)*1e-6}function P(tt){var dt=+this._x.call(null,tt),wt=+this._y.call(null,tt);return A(this.cover(dt,wt),dt,wt,tt)}function A(tt,dt,wt,Mt){if(isNaN(dt)||isNaN(wt))return tt;var It,$e=tt._root,ke={data:Mt},Fe=tt._x0,qe=tt._y0,it=tt._x1,Je=tt._y1,Re,Me,fe,ye,Le,Oe,ht,vt;if(!$e)return tt._root=ke,tt;for(;$e.length;)if((Le=dt>=(Re=(Fe+it)/2))?Fe=Re:it=Re,(Oe=wt>=(Me=(qe+Je)/2))?qe=Me:Je=Me,It=$e,!($e=$e[ht=Oe<<1|Le]))return It[ht]=ke,tt;if(fe=+tt._x.call(null,$e.data),ye=+tt._y.call(null,$e.data),dt===fe&&wt===ye)return ke.next=$e,It?It[ht]=ke:tt._root=ke,tt;do It=It?It[ht]=new Array(4):tt._root=new Array(4),(Le=dt>=(Re=(Fe+it)/2))?Fe=Re:it=Re,(Oe=wt>=(Me=(qe+Je)/2))?qe=Me:Je=Me;while((ht=Oe<<1|Le)===(vt=(ye>=Me)<<1|fe>=Re));return It[vt]=$e,It[ht]=ke,tt}function v(tt){var dt,wt,Mt=tt.length,It,$e,ke=new Array(Mt),Fe=new Array(Mt),qe=1/0,it=1/0,Je=-1/0,Re=-1/0;for(wt=0;wt<Mt;++wt)isNaN(It=+this._x.call(null,dt=tt[wt]))||isNaN($e=+this._y.call(null,dt))||(ke[wt]=It,Fe[wt]=$e,It<qe&&(qe=It),It>Je&&(Je=It),$e<it&&(it=$e),$e>Re&&(Re=$e));if(qe>Je||it>Re)return this;for(this.cover(qe,it).cover(Je,Re),wt=0;wt<Mt;++wt)A(this,ke[wt],Fe[wt],tt[wt]);return this}function g(tt,dt){if(isNaN(tt=+tt)||isNaN(dt=+dt))return this;var wt=this._x0,Mt=this._y0,It=this._x1,$e=this._y1;if(isNaN(wt))It=(wt=Math.floor(tt))+1,$e=(Mt=Math.floor(dt))+1;else{for(var ke=It-wt,Fe=this._root,qe,it;wt>tt||tt>=It||Mt>dt||dt>=$e;)switch(it=(dt<Mt)<<1|tt<wt,qe=new Array(4),qe[it]=Fe,Fe=qe,ke*=2,it){case 0:It=wt+ke,$e=Mt+ke;break;case 1:wt=It-ke,$e=Mt+ke;break;case 2:It=wt+ke,Mt=$e-ke;break;case 3:wt=It-ke,Mt=$e-ke;break}this._root&&this._root.length&&(this._root=Fe)}return this._x0=wt,this._y0=Mt,this._x1=It,this._y1=$e,this}function t(){var tt=[];return this.visit(function(dt){if(!dt.length)do tt.push(dt.data);while(dt=dt.next)}),tt}function r(tt){return arguments.length?this.cover(+tt[0][0],+tt[0][1]).cover(+tt[1][0],+tt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function u(tt,dt,wt,Mt,It){this.node=tt,this.x0=dt,this.y0=wt,this.x1=Mt,this.y1=It}function o(tt,dt,wt){var Mt,It=this._x0,$e=this._y0,ke,Fe,qe,it,Je=this._x1,Re=this._y1,Me=[],fe=this._root,ye,Le;for(fe&&Me.push(new u(fe,It,$e,Je,Re)),wt==null?wt=1/0:(It=tt-wt,$e=dt-wt,Je=tt+wt,Re=dt+wt,wt*=wt);ye=Me.pop();)if(!(!(fe=ye.node)||(ke=ye.x0)>Je||(Fe=ye.y0)>Re||(qe=ye.x1)<It||(it=ye.y1)<$e))if(fe.length){var Oe=(ke+qe)/2,ht=(Fe+it)/2;Me.push(new u(fe[3],Oe,ht,qe,it),new u(fe[2],ke,ht,Oe,it),new u(fe[1],Oe,Fe,qe,ht),new u(fe[0],ke,Fe,Oe,ht)),(Le=(dt>=ht)<<1|tt>=Oe)&&(ye=Me[Me.length-1],Me[Me.length-1]=Me[Me.length-1-Le],Me[Me.length-1-Le]=ye)}else{var vt=tt-+this._x.call(null,fe.data),Lt=dt-+this._y.call(null,fe.data),Ot=vt*vt+Lt*Lt;if(Ot<wt){var Jt=Math.sqrt(wt=Ot);It=tt-Jt,$e=dt-Jt,Je=tt+Jt,Re=dt+Jt,Mt=fe.data}}return Mt}function l(tt){if(isNaN(Je=+this._x.call(null,tt))||isNaN(Re=+this._y.call(null,tt)))return this;var dt,wt=this._root,Mt,It,$e,ke=this._x0,Fe=this._y0,qe=this._x1,it=this._y1,Je,Re,Me,fe,ye,Le,Oe,ht;if(!wt)return this;if(wt.length)for(;;){if((ye=Je>=(Me=(ke+qe)/2))?ke=Me:qe=Me,(Le=Re>=(fe=(Fe+it)/2))?Fe=fe:it=fe,dt=wt,!(wt=wt[Oe=Le<<1|ye]))return this;if(!wt.length)break;(dt[Oe+1&3]||dt[Oe+2&3]||dt[Oe+3&3])&&(Mt=dt,ht=Oe)}for(;wt.data!==tt;)if(It=wt,!(wt=wt.next))return this;return($e=wt.next)&&delete wt.next,It?($e?It.next=$e:delete It.next,this):dt?($e?dt[Oe]=$e:delete dt[Oe],(wt=dt[0]||dt[1]||dt[2]||dt[3])&&wt===(dt[3]||dt[2]||dt[1]||dt[0])&&!wt.length&&(Mt?Mt[ht]=wt:this._root=wt),this):(this._root=$e,this)}function c(tt){for(var dt=0,wt=tt.length;dt<wt;++dt)this.remove(tt[dt]);return this}function n(){return this._root}function x(){var tt=0;return this.visit(function(dt){if(!dt.length)do++tt;while(dt=dt.next)}),tt}function h(tt){var dt=[],wt,Mt=this._root,It,$e,ke,Fe,qe;for(Mt&&dt.push(new u(Mt,this._x0,this._y0,this._x1,this._y1));wt=dt.pop();)if(!tt(Mt=wt.node,$e=wt.x0,ke=wt.y0,Fe=wt.x1,qe=wt.y1)&&Mt.length){var it=($e+Fe)/2,Je=(ke+qe)/2;(It=Mt[3])&&dt.push(new u(It,it,Je,Fe,qe)),(It=Mt[2])&&dt.push(new u(It,$e,Je,it,qe)),(It=Mt[1])&&dt.push(new u(It,it,ke,Fe,Je)),(It=Mt[0])&&dt.push(new u(It,$e,ke,it,Je))}return this}function T(tt){var dt=[],wt=[],Mt;for(this._root&&dt.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));Mt=dt.pop();){var It=Mt.node;if(It.length){var $e,ke=Mt.x0,Fe=Mt.y0,qe=Mt.x1,it=Mt.y1,Je=(ke+qe)/2,Re=(Fe+it)/2;($e=It[0])&&dt.push(new u($e,ke,Fe,Je,Re)),($e=It[1])&&dt.push(new u($e,Je,Fe,qe,Re)),($e=It[2])&&dt.push(new u($e,ke,Re,Je,it)),($e=It[3])&&dt.push(new u($e,Je,Re,qe,it))}wt.push(Mt)}for(;Mt=wt.pop();)tt(Mt.node,Mt.x0,Mt.y0,Mt.x1,Mt.y1);return this}function f(tt){return tt[0]}function s(tt){return arguments.length?(this._x=tt,this):this._x}function d(tt){return tt[1]}function S(tt){return arguments.length?(this._y=tt,this):this._y}function M(tt,dt,wt){var Mt=new C(dt??f,wt??d,NaN,NaN,NaN,NaN);return tt==null?Mt:Mt.addAll(tt)}function C(tt,dt,wt,Mt,It,$e){this._x=tt,this._y=dt,this._x0=wt,this._y0=Mt,this._x1=It,this._y1=$e,this._root=void 0}function y(tt){for(var dt={data:tt.data},wt=dt;tt=tt.next;)wt=wt.next={data:tt.data};return dt}var w=M.prototype=C.prototype;w.copy=function(){var tt=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),dt=this._root,wt,Mt;if(!dt)return tt;if(!dt.length)return tt._root=y(dt),tt;for(wt=[{source:dt,target:tt._root=new Array(4)}];dt=wt.pop();)for(var It=0;It<4;++It)(Mt=dt.source[It])&&(Mt.length?wt.push({source:Mt,target:dt.target[It]=new Array(4)}):dt.target[It]=y(Mt));return tt},w.add=P,w.addAll=v,w.cover=g,w.data=t,w.extent=r,w.find=o,w.remove=l,w.removeAll=c,w.root=n,w.size=x,w.visit=h,w.visitAfter=T,w.x=s,w.y=S;function b(tt){return tt.x+tt.vx}function i(tt){return tt.y+tt.vy}function E(tt){var dt,wt,Mt=1,It=1;typeof tt!="function"&&(tt=L(tt==null?1:+tt));function $e(){for(var qe,it=dt.length,Je,Re,Me,fe,ye,Le,Oe=0;Oe<It;++Oe)for(Je=M(dt,b,i).visitAfter(ke),qe=0;qe<it;++qe)Re=dt[qe],ye=wt[Re.index],Le=ye*ye,Me=Re.x+Re.vx,fe=Re.y+Re.vy,Je.visit(ht);function ht(vt,Lt,Ot,Jt,qt){var Vt=vt.data,vr=vt.r,gr=ye+vr;if(Vt){if(Vt.index>Re.index){var Gr=Me-Vt.x-Vt.vx,At=fe-Vt.y-Vt.vy,or=Gr*Gr+At*At;or<gr*gr&&(Gr===0&&(Gr=a(),or+=Gr*Gr),At===0&&(At=a(),or+=At*At),or=(gr-(or=Math.sqrt(or)))/or*Mt,Re.vx+=(Gr*=or)*(gr=(vr*=vr)/(Le+vr)),Re.vy+=(At*=or)*gr,Vt.vx-=Gr*(gr=1-gr),Vt.vy-=At*gr)}return}return Lt>Me+gr||Jt<Me-gr||Ot>fe+gr||qt<fe-gr}}function ke(qe){if(qe.data)return qe.r=wt[qe.data.index];for(var it=qe.r=0;it<4;++it)qe[it]&&qe[it].r>qe.r&&(qe.r=qe[it].r)}function Fe(){if(dt){var qe,it=dt.length,Je;for(wt=new Array(it),qe=0;qe<it;++qe)Je=dt[qe],wt[Je.index]=+tt(Je,qe,dt)}}return $e.initialize=function(qe){dt=qe,Fe()},$e.iterations=function(qe){return arguments.length?(It=+qe,$e):It},$e.strength=function(qe){return arguments.length?(Mt=+qe,$e):Mt},$e.radius=function(qe){return arguments.length?(tt=typeof qe=="function"?qe:L(+qe),Fe(),$e):tt},$e}var m=e(15140);function F(tt){return tt.index}function _(tt,dt){var wt=tt.get(dt);if(!wt)throw new Error("missing: "+dt);return wt}function B(tt){var dt=F,wt=Je,Mt,It=L(30),$e,ke,Fe,qe,it=1;tt==null&&(tt=[]);function Je(Le){return 1/Math.min(Fe[Le.source.index],Fe[Le.target.index])}function Re(Le){for(var Oe=0,ht=tt.length;Oe<it;++Oe)for(var vt=0,Lt,Ot,Jt,qt,Vt,vr,gr;vt<ht;++vt)Lt=tt[vt],Ot=Lt.source,Jt=Lt.target,qt=Jt.x+Jt.vx-Ot.x-Ot.vx||a(),Vt=Jt.y+Jt.vy-Ot.y-Ot.vy||a(),vr=Math.sqrt(qt*qt+Vt*Vt),vr=(vr-$e[vt])/vr*Le*Mt[vt],qt*=vr,Vt*=vr,Jt.vx-=qt*(gr=qe[vt]),Jt.vy-=Vt*gr,Ot.vx+=qt*(gr=1-gr),Ot.vy+=Vt*gr}function Me(){if(ke){var Le,Oe=ke.length,ht=tt.length,vt=(0,m.UI)(ke,dt),Lt;for(Le=0,Fe=new Array(Oe);Le<ht;++Le)Lt=tt[Le],Lt.index=Le,typeof Lt.source!="object"&&(Lt.source=_(vt,Lt.source)),typeof Lt.target!="object"&&(Lt.target=_(vt,Lt.target)),Fe[Lt.source.index]=(Fe[Lt.source.index]||0)+1,Fe[Lt.target.index]=(Fe[Lt.target.index]||0)+1;for(Le=0,qe=new Array(ht);Le<ht;++Le)Lt=tt[Le],qe[Le]=Fe[Lt.source.index]/(Fe[Lt.source.index]+Fe[Lt.target.index]);Mt=new Array(ht),fe(),$e=new Array(ht),ye()}}function fe(){if(ke)for(var Le=0,Oe=tt.length;Le<Oe;++Le)Mt[Le]=+wt(tt[Le],Le,tt)}function ye(){if(ke)for(var Le=0,Oe=tt.length;Le<Oe;++Le)$e[Le]=+It(tt[Le],Le,tt)}return Re.initialize=function(Le){ke=Le,Me()},Re.links=function(Le){return arguments.length?(tt=Le,Me(),Re):tt},Re.id=function(Le){return arguments.length?(dt=Le,Re):dt},Re.iterations=function(Le){return arguments.length?(it=+Le,Re):it},Re.strength=function(Le){return arguments.length?(wt=typeof Le=="function"?Le:L(+Le),fe(),Re):wt},Re.distance=function(Le){return arguments.length?(It=typeof Le=="function"?Le:L(+Le),ye(),Re):It},Re}var I={value:function(){}};function O(){for(var tt=0,dt=arguments.length,wt={},Mt;tt<dt;++tt){if(!(Mt=arguments[tt]+"")||Mt in wt||/[\s.]/.test(Mt))throw new Error("illegal type: "+Mt);wt[Mt]=[]}return new z(wt)}function z(tt){this._=tt}function k(tt,dt){return tt.trim().split(/^|\s+/).map(function(wt){var Mt="",It=wt.indexOf(".");if(It>=0&&(Mt=wt.slice(It+1),wt=wt.slice(0,It)),wt&&!dt.hasOwnProperty(wt))throw new Error("unknown type: "+wt);return{type:wt,name:Mt}})}z.prototype=O.prototype={constructor:z,on:function(tt,dt){var wt=this._,Mt=k(tt+"",wt),It,$e=-1,ke=Mt.length;if(arguments.length<2){for(;++$e<ke;)if((It=(tt=Mt[$e]).type)&&(It=N(wt[It],tt.name)))return It;return}if(dt!=null&&typeof dt!="function")throw new Error("invalid callback: "+dt);for(;++$e<ke;)if(It=(tt=Mt[$e]).type)wt[It]=K(wt[It],tt.name,dt);else if(dt==null)for(It in wt)wt[It]=K(wt[It],tt.name,null);return this},copy:function(){var tt={},dt=this._;for(var wt in dt)tt[wt]=dt[wt].slice();return new z(tt)},call:function(tt,dt){if((It=arguments.length-2)>0)for(var wt=new Array(It),Mt=0,It,$e;Mt<It;++Mt)wt[Mt]=arguments[Mt+2];if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for($e=this._[tt],Mt=0,It=$e.length;Mt<It;++Mt)$e[Mt].value.apply(dt,wt)},apply:function(tt,dt,wt){if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(var Mt=this._[tt],It=0,$e=Mt.length;It<$e;++It)Mt[It].value.apply(dt,wt)}};function N(tt,dt){for(var wt=0,Mt=tt.length,It;wt<Mt;++wt)if((It=tt[wt]).name===dt)return It.value}function K(tt,dt,wt){for(var Mt=0,It=tt.length;Mt<It;++Mt)if(tt[Mt].name===dt){tt[Mt]=I,tt=tt.slice(0,Mt).concat(tt.slice(Mt+1));break}return wt!=null&&tt.push({name:dt,value:wt}),tt}var q=O,Q=0,re=0,oe=0,Y=1e3,G,V,Z=0,ae=0,ie=0,J=typeof performance=="object"&&performance.now?performance:Date,$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(tt){setTimeout(tt,17)};function se(){return ae||($(ee),ae=J.now()+ie)}function ee(){ae=0}function ue(){this._call=this._time=this._next=null}ue.prototype=ge.prototype={constructor:ue,restart:function(tt,dt,wt){if(typeof tt!="function")throw new TypeError("callback is not a function");wt=(wt==null?se():+wt)+(dt==null?0:+dt),!this._next&&V!==this&&(V?V._next=this:G=this,V=this),this._call=tt,this._time=wt,Ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ae())}};function ge(tt,dt,wt){var Mt=new ue;return Mt.restart(tt,dt,wt),Mt}function Te(){se(),++Q;for(var tt=G,dt;tt;)(dt=ae-tt._time)>=0&&tt._call.call(null,dt),tt=tt._next;--Q}function xe(){ae=(Z=J.now())+ie,Q=re=0;try{Te()}finally{Q=0,Ie(),ae=0}}function Pe(){var tt=J.now(),dt=tt-Z;dt>Y&&(ie-=dt,Z=tt)}function Ie(){for(var tt,dt=G,wt,Mt=1/0;dt;)dt._call?(Mt>dt._time&&(Mt=dt._time),tt=dt,dt=dt._next):(wt=dt._next,dt._next=null,dt=tt?tt._next=wt:G=wt);V=tt,Ae(Mt)}function Ae(tt){if(!Q){re&&(re=clearTimeout(re));var dt=tt-ae;dt>24?(tt<1/0&&(re=setTimeout(xe,tt-J.now()-ie)),oe&&(oe=clearInterval(oe))):(oe||(Z=J.now(),oe=setInterval(Pe,Y)),Q=1,$(xe))}}function be(tt){return tt.x}function _e(tt){return tt.y}var Ve=10,We=Math.PI*(3-Math.sqrt(5));function ze(tt){var dt,wt=1,Mt=.001,It=1-Math.pow(Mt,1/300),$e=0,ke=.6,Fe=(0,m.UI)(),qe=ge(Je),it=q("tick","end");tt==null&&(tt=[]);function Je(){Re(),it.call("tick",dt),wt<Mt&&(qe.stop(),it.call("end",dt))}function Re(ye){var Le,Oe=tt.length,ht;ye===void 0&&(ye=1);for(var vt=0;vt<ye;++vt)for(wt+=($e-wt)*It,Fe.each(function(Lt){Lt(wt)}),Le=0;Le<Oe;++Le)ht=tt[Le],ht.fx==null?ht.x+=ht.vx*=ke:(ht.x=ht.fx,ht.vx=0),ht.fy==null?ht.y+=ht.vy*=ke:(ht.y=ht.fy,ht.vy=0);return dt}function Me(){for(var ye=0,Le=tt.length,Oe;ye<Le;++ye){if(Oe=tt[ye],Oe.index=ye,Oe.fx!=null&&(Oe.x=Oe.fx),Oe.fy!=null&&(Oe.y=Oe.fy),isNaN(Oe.x)||isNaN(Oe.y)){var ht=Ve*Math.sqrt(ye),vt=ye*We;Oe.x=ht*Math.cos(vt),Oe.y=ht*Math.sin(vt)}(isNaN(Oe.vx)||isNaN(Oe.vy))&&(Oe.vx=Oe.vy=0)}}function fe(ye){return ye.initialize&&ye.initialize(tt),ye}return Me(),dt={tick:Re,restart:function(){return qe.restart(Je),dt},stop:function(){return qe.stop(),dt},nodes:function(ye){return arguments.length?(tt=ye,Me(),Fe.each(fe),dt):tt},alpha:function(ye){return arguments.length?(wt=+ye,dt):wt},alphaMin:function(ye){return arguments.length?(Mt=+ye,dt):Mt},alphaDecay:function(ye){return arguments.length?(It=+ye,dt):+It},alphaTarget:function(ye){return arguments.length?($e=+ye,dt):$e},velocityDecay:function(ye){return arguments.length?(ke=1-ye,dt):1-ke},force:function(ye,Le){return arguments.length>1?(Le==null?Fe.remove(ye):Fe.set(ye,fe(Le)),dt):Fe.get(ye)},find:function(ye,Le,Oe){var ht=0,vt=tt.length,Lt,Ot,Jt,qt,Vt;for(Oe==null?Oe=1/0:Oe*=Oe,ht=0;ht<vt;++ht)qt=tt[ht],Lt=ye-qt.x,Ot=Le-qt.y,Jt=Lt*Lt+Ot*Ot,Jt<Oe&&(Vt=qt,Oe=Jt);return Vt},on:function(ye,Le){return arguments.length>1?(it.on(ye,Le),dt):it.on(ye)}}}function Ze(){var tt,dt,wt,Mt=L(-30),It,$e=1,ke=1/0,Fe=.81;function qe(Me){var fe,ye=tt.length,Le=M(tt,be,_e).visitAfter(Je);for(wt=Me,fe=0;fe<ye;++fe)dt=tt[fe],Le.visit(Re)}function it(){if(tt){var Me,fe=tt.length,ye;for(It=new Array(fe),Me=0;Me<fe;++Me)ye=tt[Me],It[ye.index]=+Mt(ye,Me,tt)}}function Je(Me){var fe=0,ye,Le,Oe=0,ht,vt,Lt;if(Me.length){for(ht=vt=Lt=0;Lt<4;++Lt)(ye=Me[Lt])&&(Le=Math.abs(ye.value))&&(fe+=ye.value,Oe+=Le,ht+=Le*ye.x,vt+=Le*ye.y);Me.x=ht/Oe,Me.y=vt/Oe}else{ye=Me,ye.x=ye.data.x,ye.y=ye.data.y;do fe+=It[ye.data.index];while(ye=ye.next)}Me.value=fe}function Re(Me,fe,ye,Le){if(!Me.value)return!0;var Oe=Me.x-dt.x,ht=Me.y-dt.y,vt=Le-fe,Lt=Oe*Oe+ht*ht;if(vt*vt/Fe<Lt)return Lt<ke&&(Oe===0&&(Oe=a(),Lt+=Oe*Oe),ht===0&&(ht=a(),Lt+=ht*ht),Lt<$e&&(Lt=Math.sqrt($e*Lt)),dt.vx+=Oe*Me.value*wt/Lt,dt.vy+=ht*Me.value*wt/Lt),!0;if(Me.length||Lt>=ke)return;(Me.data!==dt||Me.next)&&(Oe===0&&(Oe=a(),Lt+=Oe*Oe),ht===0&&(ht=a(),Lt+=ht*ht),Lt<$e&&(Lt=Math.sqrt($e*Lt)));do Me.data!==dt&&(vt=It[Me.data.index]*wt/Lt,dt.vx+=Oe*vt,dt.vy+=ht*vt);while(Me=Me.next)}return qe.initialize=function(Me){tt=Me,it()},qe.strength=function(Me){return arguments.length?(Mt=typeof Me=="function"?Me:L(+Me),it(),qe):Mt},qe.distanceMin=function(Me){return arguments.length?($e=Me*Me,qe):Math.sqrt($e)},qe.distanceMax=function(Me){return arguments.length?(ke=Me*Me,qe):Math.sqrt(ke)},qe.theta=function(Me){return arguments.length?(Fe=Me*Me,qe):Math.sqrt(Fe)},qe}function ct(tt,dt,wt){var Mt,It=L(.1),$e,ke;typeof tt!="function"&&(tt=L(+tt)),dt==null&&(dt=0),wt==null&&(wt=0);function Fe(it){for(var Je=0,Re=Mt.length;Je<Re;++Je){var Me=Mt[Je],fe=Me.x-dt||1e-6,ye=Me.y-wt||1e-6,Le=Math.sqrt(fe*fe+ye*ye),Oe=(ke[Je]-Le)*$e[Je]*it/Le;Me.vx+=fe*Oe,Me.vy+=ye*Oe}}function qe(){if(Mt){var it,Je=Mt.length;for($e=new Array(Je),ke=new Array(Je),it=0;it<Je;++it)ke[it]=+tt(Mt[it],it,Mt),$e[it]=isNaN(ke[it])?0:+It(Mt[it],it,Mt)}}return Fe.initialize=function(it){Mt=it,qe()},Fe.strength=function(it){return arguments.length?(It=typeof it=="function"?it:L(+it),qe(),Fe):It},Fe.radius=function(it){return arguments.length?(tt=typeof it=="function"?it:L(+it),qe(),Fe):tt},Fe.x=function(it){return arguments.length?(dt=+it,Fe):dt},Fe.y=function(it){return arguments.length?(wt=+it,Fe):wt},Fe}function lt(tt){var dt=L(.1),wt,Mt,It;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function $e(Fe){for(var qe=0,it=wt.length,Je;qe<it;++qe)Je=wt[qe],Je.vx+=(It[qe]-Je.x)*Mt[qe]*Fe}function ke(){if(wt){var Fe,qe=wt.length;for(Mt=new Array(qe),It=new Array(qe),Fe=0;Fe<qe;++Fe)Mt[Fe]=isNaN(It[Fe]=+tt(wt[Fe],Fe,wt))?0:+dt(wt[Fe],Fe,wt)}}return $e.initialize=function(Fe){wt=Fe,ke()},$e.strength=function(Fe){return arguments.length?(dt=typeof Fe=="function"?Fe:L(+Fe),ke(),$e):dt},$e.x=function(Fe){return arguments.length?(tt=typeof Fe=="function"?Fe:L(+Fe),ke(),$e):tt},$e}function at(tt){var dt=L(.1),wt,Mt,It;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function $e(Fe){for(var qe=0,it=wt.length,Je;qe<it;++qe)Je=wt[qe],Je.vy+=(It[qe]-Je.y)*Mt[qe]*Fe}function ke(){if(wt){var Fe,qe=wt.length;for(Mt=new Array(qe),It=new Array(qe),Fe=0;Fe<qe;++Fe)Mt[Fe]=isNaN(It[Fe]=+tt(wt[Fe],Fe,wt))?0:+dt(wt[Fe],Fe,wt)}}return $e.initialize=function(Fe){wt=Fe,ke()},$e.strength=function(Fe){return arguments.length?(dt=typeof Fe=="function"?Fe:L(+Fe),ke(),$e):dt},$e.y=function(Fe){return arguments.length?(tt=typeof Fe=="function"?Fe:L(+Fe),ke(),$e):tt},$e}},60721:function(W,U,e){e.d(U,{WU:function(){return s},FF:function(){return T}});function p(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}function L(S,M){if((C=(S=M?S.toExponential(M-1):S.toExponential()).indexOf("e"))<0)return null;var C,y=S.slice(0,C);return[y.length>1?y[0]+y.slice(2):y,+S.slice(C+1)]}function a(S){return S=L(Math.abs(S)),S?S[1]:NaN}function P(S,M){return function(C,y){for(var w=C.length,b=[],i=0,E=S[0],m=0;w>0&&E>0&&(m+E+1>y&&(E=Math.max(1,y-m)),b.push(C.substring(w-=E,w+E)),!((m+=E+1)>y));)E=S[i=(i+1)%S.length];return b.reverse().join(M)}}function A(S){return function(M){return M.replace(/[0-9]/g,function(C){return S[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(S){if(!(M=v.exec(S)))throw new Error("invalid format: "+S);var M;return new t({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}g.prototype=t.prototype;function t(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(S){e:for(var M=S.length,C=1,y=-1,w;C<M;++C)switch(S[C]){case".":y=w=C;break;case"0":y===0&&(y=C),w=C;break;default:if(!+S[C])break e;y>0&&(y=0);break}return y>0?S.slice(0,y)+S.slice(w+1):S}var u;function o(S,M){var C=L(S,M);if(!C)return S+"";var y=C[0],w=C[1],b=w-(u=Math.max(-8,Math.min(8,Math.floor(w/3)))*3)+1,i=y.length;return b===i?y:b>i?y+new Array(b-i+1).join("0"):b>0?y.slice(0,b)+"."+y.slice(b):"0."+new Array(1-b).join("0")+L(S,Math.max(0,M+b-1))[0]}function l(S,M){var C=L(S,M);if(!C)return S+"";var y=C[0],w=C[1];return w<0?"0."+new Array(-w).join("0")+y:y.length>w+1?y.slice(0,w+1)+"."+y.slice(w+1):y+new Array(w-y.length+2).join("0")}var c={"%":function(S,M){return(S*100).toFixed(M)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:p,e:function(S,M){return S.toExponential(M)},f:function(S,M){return S.toFixed(M)},g:function(S,M){return S.toPrecision(M)},o:function(S){return Math.round(S).toString(8)},p:function(S,M){return l(S*100,M)},r:l,s:o,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function n(S){return S}var x=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(S){var M=S.grouping===void 0||S.thousands===void 0?n:P(x.call(S.grouping,Number),S.thousands+""),C=S.currency===void 0?"":S.currency[0]+"",y=S.currency===void 0?"":S.currency[1]+"",w=S.decimal===void 0?".":S.decimal+"",b=S.numerals===void 0?n:A(x.call(S.numerals,String)),i=S.percent===void 0?"%":S.percent+"",E=S.minus===void 0?"-":S.minus+"",m=S.nan===void 0?"NaN":S.nan+"";function F(B){B=g(B);var I=B.fill,O=B.align,z=B.sign,k=B.symbol,N=B.zero,K=B.width,q=B.comma,Q=B.precision,re=B.trim,oe=B.type;oe==="n"?(q=!0,oe="g"):c[oe]||(Q===void 0&&(Q=12),re=!0,oe="g"),(N||I==="0"&&O==="=")&&(N=!0,I="0",O="=");var Y=k==="$"?C:k==="#"&&/[boxX]/.test(oe)?"0"+oe.toLowerCase():"",G=k==="$"?y:/[%p]/.test(oe)?i:"",V=c[oe],Z=/[defgprs%]/.test(oe);Q=Q===void 0?6:/[gprs]/.test(oe)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q));function ae(ie){var J=Y,$=G,se,ee,ue;if(oe==="c")$=V(ie)+$,ie="";else{ie=+ie;var ge=ie<0||1/ie<0;if(ie=isNaN(ie)?m:V(Math.abs(ie),Q),re&&(ie=r(ie)),ge&&+ie==0&&z!=="+"&&(ge=!1),J=(ge?z==="("?z:E:z==="-"||z==="("?"":z)+J,$=(oe==="s"?h[8+u/3]:"")+$+(ge&&z==="("?")":""),Z){for(se=-1,ee=ie.length;++se<ee;)if(ue=ie.charCodeAt(se),48>ue||ue>57){$=(ue===46?w+ie.slice(se+1):ie.slice(se))+$,ie=ie.slice(0,se);break}}}q&&!N&&(ie=M(ie,1/0));var Te=J.length+ie.length+$.length,xe=Te<K?new Array(K-Te+1).join(I):"";switch(q&&N&&(ie=M(xe+ie,xe.length?K-$.length:1/0),xe=""),O){case"<":ie=J+ie+$+xe;break;case"=":ie=J+xe+ie+$;break;case"^":ie=xe.slice(0,Te=xe.length>>1)+J+ie+$+xe.slice(Te);break;default:ie=xe+J+ie+$;break}return b(ie)}return ae.toString=function(){return B+""},ae}function _(B,I){var O=F((B=g(B),B.type="f",B)),z=Math.max(-8,Math.min(8,Math.floor(a(I)/3)))*3,k=Math.pow(10,-z),N=h[8+z/3];return function(K){return O(k*K)+N}}return{format:F,formatPrefix:_}}var f,s;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(S){return f=T(S),s=f.format,f.formatPrefix,f}},65704:function(W,U,e){e.r(U),e.d(U,{geoAiry:function(){return N},geoAiryRaw:function(){return k},geoAitoff:function(){return q},geoAitoffRaw:function(){return K},geoArmadillo:function(){return re},geoArmadilloRaw:function(){return Q},geoAugust:function(){return Y},geoAugustRaw:function(){return oe},geoBaker:function(){return ae},geoBakerRaw:function(){return Z},geoBerghaus:function(){return $},geoBerghausRaw:function(){return J},geoBertin1953:function(){return Ie},geoBertin1953Raw:function(){return Pe},geoBoggs:function(){return ct},geoBoggsRaw:function(){return Ze},geoBonne:function(){return wt},geoBonneRaw:function(){return dt},geoBottomley:function(){return It},geoBottomleyRaw:function(){return Mt},geoBromley:function(){return ke},geoBromleyRaw:function(){return $e},geoChamberlin:function(){return Le},geoChamberlinAfrica:function(){return ye},geoChamberlinRaw:function(){return Me},geoCollignon:function(){return ht},geoCollignonRaw:function(){return Oe},geoCraig:function(){return Lt},geoCraigRaw:function(){return vt},geoCraster:function(){return qt},geoCrasterRaw:function(){return Jt},geoCylindricalEqualArea:function(){return vr},geoCylindricalEqualAreaRaw:function(){return Vt},geoCylindricalStereographic:function(){return Gr},geoCylindricalStereographicRaw:function(){return gr},geoEckert1:function(){return or},geoEckert1Raw:function(){return At},geoEckert2:function(){return Lr},geoEckert2Raw:function(){return rr},geoEckert3:function(){return pt},geoEckert3Raw:function(){return Tr},geoEckert4:function(){return yt},geoEckert4Raw:function(){return st},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Pt},geoEckert6:function(){return Zt},geoEckert6Raw:function(){return Nt},geoEisenlohr:function(){return ir},geoEisenlohrRaw:function(){return lr},geoFahey:function(){return Ct},geoFaheyRaw:function(){return Ge},geoFoucaut:function(){return Kt},geoFoucautRaw:function(){return Ut},geoFoucautSinusoidal:function(){return ur},geoFoucautSinusoidalRaw:function(){return Xt},geoGilbert:function(){return _r},geoGingery:function(){return pn},geoGingeryRaw:function(){return Vr},geoGinzburg4:function(){return Nn},geoGinzburg4Raw:function(){return Zr},geoGinzburg5:function(){return xn},geoGinzburg5Raw:function(){return fn},geoGinzburg6:function(){return br},geoGinzburg6Raw:function(){return On},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return Ir},geoGinzburg9:function(){return An},geoGinzburg9Raw:function(){return Wr},geoGringorten:function(){return ma},geoGringortenQuincuncial:function(){return Pc},geoGringortenRaw:function(){return Tn},geoGuyou:function(){return Cn},geoGuyouRaw:function(){return Or},geoHammer:function(){return ge},geoHammerRaw:function(){return ee},geoHammerRetroazimuthal:function(){return Xn},geoHammerRetroazimuthalRaw:function(){return Fn},geoHealpix:function(){return Wt},geoHealpixRaw:function(){return Ue},geoHill:function(){return Ht},geoHillRaw:function(){return Gt},geoHomolosine:function(){return Pn},geoHomolosineRaw:function(){return Ur},geoHufnagel:function(){return kn},geoHufnagelRaw:function(){return Un},geoHyperelliptical:function(){return ei},geoHyperellipticalRaw:function(){return ca},geoInterrupt:function(){return vi},geoInterruptedBoggs:function(){return si},geoInterruptedHomolosine:function(){return Zo},geoInterruptedMollweide:function(){return _i},geoInterruptedMollweideHemispheres:function(){return So},geoInterruptedQuarticAuthalic:function(){return Cl},geoInterruptedSinuMollweide:function(){return sl},geoInterruptedSinusoidal:function(){return to},geoKavrayskiy7:function(){return qi},geoKavrayskiy7Raw:function(){return ni},geoLagrange:function(){return Xo},geoLagrangeRaw:function(){return No},geoLarrivee:function(){return Ou},geoLarriveeRaw:function(){return io},geoLaskowski:function(){return xo},geoLaskowskiRaw:function(){return es},geoLittrow:function(){return ys},geoLittrowRaw:function(){return ou},geoLoximuthal:function(){return su},geoLoximuthalRaw:function(){return Uo},geoMiller:function(){return pf},geoMillerRaw:function(){return lu},geoModifiedStereographic:function(){return bo},geoModifiedStereographicAlaska:function(){return Nu},geoModifiedStereographicGs48:function(){return fu},geoModifiedStereographicGs50:function(){return yf},geoModifiedStereographicLee:function(){return ll},geoModifiedStereographicMiller:function(){return Fi},geoModifiedStereographicRaw:function(){return ms},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return _e},geoMtFlatPolarParabolic:function(){return mf},geoMtFlatPolarParabolicRaw:function(){return El},geoMtFlatPolarQuartic:function(){return cu},geoMtFlatPolarQuarticRaw:function(){return bs},geoMtFlatPolarSinusoidal:function(){return hu},geoMtFlatPolarSinusoidalRaw:function(){return ws},geoNaturalEarth:function(){return Ho.Z},geoNaturalEarth2:function(){return Is},geoNaturalEarth2Raw:function(){return os},geoNaturalEarthRaw:function(){return Ho.K},geoNellHammer:function(){return ss},geoNellHammerRaw:function(){return _s},geoNicolosi:function(){return ks},geoNicolosiRaw:function(){return Fs},geoPatterson:function(){return Xa},geoPattersonRaw:function(){return Za},geoPeirceQuincuncial:function(){return Yf},geoPierceQuincuncial:function(){return Yf},geoPolyconic:function(){return li},geoPolyconicRaw:function(){return Ka},geoPolyhedral:function(){return ai},geoPolyhedralButterfly:function(){return Qs},geoPolyhedralCollignon:function(){return fl},geoPolyhedralWaterman:function(){return cl},geoProject:function(){return Cc},geoQuantize:function(){return Zf},geoQuincuncial:function(){return Vu},geoRectangularPolyconic:function(){return hl},geoRectangularPolyconicRaw:function(){return bf},geoRobinson:function(){return wf},geoRobinsonRaw:function(){return Bs},geoSatellite:function(){return Gu},geoSatelliteRaw:function(){return Rl},geoSinuMollweide:function(){return Yr},geoSinuMollweideRaw:function(){return Qr},geoSinusoidal:function(){return tt},geoSinusoidalRaw:function(){return at},geoStitch:function(){return _l},geoTimes:function(){return rs},geoTimesRaw:function(){return Qo},geoTwoPointAzimuthal:function(){return Xu},geoTwoPointAzimuthalRaw:function(){return Kf},geoTwoPointAzimuthalUsa:function(){return Xl},geoTwoPointEquidistant:function(){return Sf},geoTwoPointEquidistantRaw:function(){return Jf},geoTwoPointEquidistantUsa:function(){return Ss},geoVanDerGrinten:function(){return mu},geoVanDerGrinten2:function(){return Dc},geoVanDerGrinten2Raw:function(){return rl},geoVanDerGrinten3:function(){return ju},geoVanDerGrinten3Raw:function(){return Ef},geoVanDerGrinten4:function(){return Qf},geoVanDerGrinten4Raw:function(){return Oo},geoVanDerGrintenRaw:function(){return pl},geoWagner:function(){return bu},geoWagner4:function(){return Lf},geoWagner4Raw:function(){return Cf},geoWagner6:function(){return Ju},geoWagner6Raw:function(){return kl},geoWagner7:function(){return yl},geoWagnerRaw:function(){return Ns},geoWiechel:function(){return qf},geoWiechelRaw:function(){return wu},geoWinkel3:function(){return ec},geoWinkel3Raw:function(){return Tu}});var p=e(15002),L=Math.abs,a=Math.atan,P=Math.atan2,A=Math.cos,v=Math.exp,g=Math.floor,t=Math.log,r=Math.max,u=Math.min,o=Math.pow,l=Math.round,c=Math.sign||function(Xe){return Xe>0?1:Xe<0?-1:0},n=Math.sin,x=Math.tan,h=1e-6,T=1e-12,f=Math.PI,s=f/2,d=f/4,S=Math.SQRT1_2,M=F(2),C=F(f),y=f*2,w=180/f,b=f/180;function i(Xe){return Xe?Xe/Math.sin(Xe):1}function E(Xe){return Xe>1?s:Xe<-1?-s:Math.asin(Xe)}function m(Xe){return Xe>1?0:Xe<-1?f:Math.acos(Xe)}function F(Xe){return Xe>0?Math.sqrt(Xe):0}function _(Xe){return Xe=v(2*Xe),(Xe-1)/(Xe+1)}function B(Xe){return(v(Xe)-v(-Xe))/2}function I(Xe){return(v(Xe)+v(-Xe))/2}function O(Xe){return t(Xe+F(Xe*Xe+1))}function z(Xe){return t(Xe+F(Xe*Xe-1))}function k(Xe){var nt=x(Xe/2),xt=2*t(A(Xe/2))/(nt*nt);function Tt(Bt,Ft){var Yt=A(Bt),xr=A(Ft),Sr=n(Ft),dr=xr*Yt,Pr=-((1-dr?t((1+dr)/2)/(1-dr):-.5)+xt/(1+dr));return[Pr*xr*n(Bt),Pr*Sr]}return Tt.invert=function(Bt,Ft){var Yt=F(Bt*Bt+Ft*Ft),xr=-Xe/2,Sr=50,dr;if(!Yt)return[0,0];do{var Pr=xr/2,zr=A(Pr),en=n(Pr),sn=en/zr,Mn=-t(L(zr));xr-=dr=(2/sn*Mn-xt*sn-Yt)/(-Mn/(en*en)+1-xt/(2*zr*zr))*(zr<0?.7:1)}while(L(dr)>h&&--Sr>0);var En=n(xr);return[P(Bt*En,Yt*A(xr)),E(Ft*En/Yt)]},Tt}function N(){var Xe=s,nt=(0,p.r)(k),xt=nt(Xe);return xt.radius=function(Tt){return arguments.length?nt(Xe=Tt*b):Xe*w},xt.scale(179.976).clipAngle(147)}function K(Xe,nt){var xt=A(nt),Tt=i(m(xt*A(Xe/=2)));return[2*xt*n(Xe)*Tt,n(nt)*Tt]}K.invert=function(Xe,nt){if(!(Xe*Xe+4*nt*nt>f*f+h)){var xt=Xe,Tt=nt,Bt=25;do{var Ft=n(xt),Yt=n(xt/2),xr=A(xt/2),Sr=n(Tt),dr=A(Tt),Pr=n(2*Tt),zr=Sr*Sr,en=dr*dr,sn=Yt*Yt,Mn=1-en*xr*xr,En=Mn?m(dr*xr)*F(zn=1/Mn):zn=0,zn,wa=2*En*dr*Yt-Xe,_a=En*Sr-nt,za=zn*(en*sn+En*dr*xr*zr),Oa=zn*(.5*Ft*Pr-En*2*Sr*Yt),Ua=zn*.25*(Pr*Yt-En*Sr*en*Ft),Ti=zn*(zr*xr+En*sn*dr),eo=Oa*Ua-Ti*za;if(!eo)break;var ki=(_a*Oa-wa*Ti)/eo,le=(wa*Ua-_a*za)/eo;xt-=ki,Tt-=le}while((L(ki)>h||L(le)>h)&&--Bt>0);return[xt,Tt]}};function q(){return(0,p.Z)(K).scale(152.63)}function Q(Xe){var nt=n(Xe),xt=A(Xe),Tt=Xe>=0?1:-1,Bt=x(Tt*Xe),Ft=(1+nt-xt)/2;function Yt(xr,Sr){var dr=A(Sr),Pr=A(xr/=2);return[(1+dr)*n(xr),(Tt*Sr>-P(Pr,Bt)-.001?0:-Tt*10)+Ft+n(Sr)*xt-(1+dr)*nt*Pr]}return Yt.invert=function(xr,Sr){var dr=0,Pr=0,zr=50;do{var en=A(dr),sn=n(dr),Mn=A(Pr),En=n(Pr),zn=1+Mn,wa=zn*sn-xr,_a=Ft+En*xt-zn*nt*en-Sr,za=zn*en/2,Oa=-sn*En,Ua=nt*zn*sn/2,Ti=xt*Mn+nt*en*En,eo=Oa*Ua-Ti*za,ki=(_a*Oa-wa*Ti)/eo/2,le=(wa*Ua-_a*za)/eo;L(le)>2&&(le/=2),dr-=ki,Pr-=le}while((L(ki)>h||L(le)>h)&&--zr>0);return Tt*Pr>-P(A(dr),Bt)-.001?[dr*2,Pr]:null},Yt}function re(){var Xe=20*b,nt=Xe>=0?1:-1,xt=x(nt*Xe),Tt=(0,p.r)(Q),Bt=Tt(Xe),Ft=Bt.stream;return Bt.parallel=function(Yt){return arguments.length?(xt=x((nt=(Xe=Yt*b)>=0?1:-1)*Xe),Tt(Xe)):Xe*w},Bt.stream=function(Yt){var xr=Bt.rotate(),Sr=Ft(Yt),dr=(Bt.rotate([0,0]),Ft(Yt)),Pr=Bt.precision();return Bt.rotate(xr),Sr.sphere=function(){dr.polygonStart(),dr.lineStart();for(var zr=nt*-180;nt*zr<180;zr+=nt*90)dr.point(zr,nt*90);if(Xe)for(;nt*(zr-=3*nt*Pr)>=-180;)dr.point(zr,nt*-P(A(zr*b/2),xt)*w);dr.lineEnd(),dr.polygonEnd()},Sr},Bt.scale(218.695).center([0,28.0974])}function oe(Xe,nt){var xt=x(nt/2),Tt=F(1-xt*xt),Bt=1+Tt*A(Xe/=2),Ft=n(Xe)*Tt/Bt,Yt=xt/Bt,xr=Ft*Ft,Sr=Yt*Yt;return[1.3333333333333333*Ft*(3+xr-3*Sr),1.3333333333333333*Yt*(3+3*xr-Sr)]}oe.invert=function(Xe,nt){if(Xe*=.375,nt*=.375,!Xe&&L(nt)>1)return null;var xt=Xe*Xe,Tt=nt*nt,Bt=1+xt+Tt,Ft=F((Bt-F(Bt*Bt-4*nt*nt))/2),Yt=E(Ft)/3,xr=Ft?z(L(nt/Ft))/3:O(L(Xe))/3,Sr=A(Yt),dr=I(xr),Pr=dr*dr-Sr*Sr;return[c(Xe)*2*P(B(xr)*Sr,.25-Pr),c(nt)*2*P(dr*n(Yt),.25+Pr)]};function Y(){return(0,p.Z)(oe).scale(66.1603)}var G=F(8),V=t(1+M);function Z(Xe,nt){var xt=L(nt);return xt<d?[Xe,t(x(d+nt/2))]:[Xe*A(xt)*(2*M-1/n(xt)),c(nt)*(2*M*(xt-d)-t(x(xt/2)))]}Z.invert=function(Xe,nt){if((Ft=L(nt))<V)return[Xe,2*a(v(nt))-s];var xt=d,Tt=25,Bt,Ft;do{var Yt=A(xt/2),xr=x(xt/2);xt-=Bt=(G*(xt-d)-t(xr)-Ft)/(G-Yt*Yt/(2*xr))}while(L(Bt)>T&&--Tt>0);return[Xe/(A(xt)*(G-1/n(xt))),c(nt)*xt]};function ae(){return(0,p.Z)(Z).scale(112.314)}var ie=e(17889);function J(Xe){var nt=2*f/Xe;function xt(Tt,Bt){var Ft=(0,ie.N)(Tt,Bt);if(L(Tt)>s){var Yt=P(Ft[1],Ft[0]),xr=F(Ft[0]*Ft[0]+Ft[1]*Ft[1]),Sr=nt*l((Yt-s)/nt)+s,dr=P(n(Yt-=Sr),2-A(Yt));Yt=Sr+E(f/xr*n(dr))-dr,Ft[0]=xr*A(Yt),Ft[1]=xr*n(Yt)}return Ft}return xt.invert=function(Tt,Bt){var Ft=F(Tt*Tt+Bt*Bt);if(Ft>s){var Yt=P(Bt,Tt),xr=nt*l((Yt-s)/nt)+s,Sr=Yt>xr?-1:1,dr=Ft*A(xr-Yt),Pr=1/x(Sr*m((dr-f)/F(f*(f-2*dr)+Ft*Ft)));Yt=xr+2*a((Pr+Sr*F(Pr*Pr-3))/3),Tt=Ft*A(Yt),Bt=Ft*n(Yt)}return ie.N.invert(Tt,Bt)},xt}function $(){var Xe=5,nt=(0,p.r)(J),xt=nt(Xe),Tt=xt.stream,Bt=.01,Ft=-A(Bt*b),Yt=n(Bt*b);return xt.lobes=function(xr){return arguments.length?nt(Xe=+xr):Xe},xt.stream=function(xr){var Sr=xt.rotate(),dr=Tt(xr),Pr=(xt.rotate([0,0]),Tt(xr));return xt.rotate(Sr),dr.sphere=function(){Pr.polygonStart(),Pr.lineStart();for(var zr=0,en=360/Xe,sn=2*f/Xe,Mn=90-180/Xe,En=s;zr<Xe;++zr,Mn-=en,En-=sn)Pr.point(P(Yt*A(En),Ft)*w,E(Yt*n(En))*w),Mn<-90?(Pr.point(-90,-180-Mn-Bt),Pr.point(-90,-180-Mn+Bt)):(Pr.point(90,Mn+Bt),Pr.point(90,Mn-Bt));Pr.lineEnd(),Pr.polygonEnd()},dr},xt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(12956);function ee(Xe,nt){if(arguments.length<2&&(nt=Xe),nt===1)return se.l;if(nt===1/0)return ue;function xt(Tt,Bt){var Ft=(0,se.l)(Tt/nt,Bt);return Ft[0]*=Xe,Ft}return xt.invert=function(Tt,Bt){var Ft=se.l.invert(Tt/Xe,Bt);return Ft[0]*=nt,Ft},xt}function ue(Xe,nt){return[Xe*A(nt)/A(nt/=2),2*n(nt)]}ue.invert=function(Xe,nt){var xt=2*E(nt/2);return[Xe*A(xt/2)/A(xt),xt]};function ge(){var Xe=2,nt=(0,p.r)(ee),xt=nt(Xe);return xt.coefficient=function(Tt){return arguments.length?nt(Xe=+Tt):Xe},xt.scale(169.529)}function Te(Xe,nt,xt){var Tt=100,Bt,Ft,Yt;xt=xt===void 0?0:+xt,nt=+nt;do Ft=Xe(xt),Yt=Xe(xt+h),Ft===Yt&&(Yt=Ft+h),xt-=Bt=-1*h*(Ft-nt)/(Ft-Yt);while(Tt-- >0&&L(Bt)>h);return Tt<0?NaN:xt}function xe(Xe,nt,xt){return nt===void 0&&(nt=40),xt===void 0&&(xt=T),function(Tt,Bt,Ft,Yt){var xr,Sr,dr;Ft=Ft===void 0?0:+Ft,Yt=Yt===void 0?0:+Yt;for(var Pr=0;Pr<nt;Pr++){var zr=Xe(Ft,Yt),en=zr[0]-Tt,sn=zr[1]-Bt;if(L(en)<xt&&L(sn)<xt)break;var Mn=en*en+sn*sn;if(Mn>xr){Ft-=Sr/=2,Yt-=dr/=2;continue}xr=Mn;var En=(Ft>0?-1:1)*xt,zn=(Yt>0?-1:1)*xt,wa=Xe(Ft+En,Yt),_a=Xe(Ft,Yt+zn),za=(wa[0]-zr[0])/En,Oa=(wa[1]-zr[1])/En,Ua=(_a[0]-zr[0])/zn,Ti=(_a[1]-zr[1])/zn,eo=Ti*za-Oa*Ua,ki=(L(eo)<.5?.5:1)/eo;if(Sr=(sn*Ua-en*Ti)*ki,dr=(en*Oa-sn*za)*ki,Ft+=Sr,Yt+=dr,L(Sr)<xt&&L(dr)<xt)break}return[Ft,Yt]}}function Pe(){var Xe=ee(1.68,2),nt=1.4,xt=12;function Tt(Bt,Ft){if(Bt+Ft<-nt){var Yt=(Bt-Ft+1.6)*(Bt+Ft+nt)/8;Bt+=Yt,Ft-=.8*Yt*n(Ft+f/2)}var xr=Xe(Bt,Ft),Sr=(1-A(Bt*Ft))/xt;return xr[1]<0&&(xr[0]*=1+Sr),xr[1]>0&&(xr[1]*=1+Sr/1.5*xr[0]*xr[0]),xr}return Tt.invert=xe(Tt),Tt}function Ie(){return(0,p.Z)(Pe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ae(Xe,nt){var xt=Xe*n(nt),Tt=30,Bt;do nt-=Bt=(nt+n(nt)-xt)/(1+A(nt));while(L(Bt)>h&&--Tt>0);return nt/2}function be(Xe,nt,xt){function Tt(Bt,Ft){return[Xe*Bt*A(Ft=Ae(xt,Ft)),nt*n(Ft)]}return Tt.invert=function(Bt,Ft){return Ft=E(Ft/nt),[Bt/(Xe*A(Ft)),E((2*Ft+n(2*Ft))/xt)]},Tt}var _e=be(M/s,M,f);function Ve(){return(0,p.Z)(_e).scale(169.529)}var We=2.00276,ze=1.11072;function Ze(Xe,nt){var xt=Ae(f,nt);return[We*Xe/(1/A(nt)+ze/A(xt)),(nt+M*n(xt))/We]}Ze.invert=function(Xe,nt){var xt=We*nt,Tt=nt<0?-d:d,Bt=25,Ft,Yt;do Yt=xt-M*n(Tt),Tt-=Ft=(n(2*Tt)+2*Tt-f*n(Yt))/(2*A(2*Tt)+2+f*A(Yt)*M*A(Tt));while(L(Ft)>h&&--Bt>0);return Yt=xt-M*n(Tt),[Xe*(1/A(Yt)+ze/A(Tt))/We,Yt]};function ct(){return(0,p.Z)(Ze).scale(160.857)}function lt(Xe){var nt=0,xt=(0,p.r)(Xe),Tt=xt(nt);return Tt.parallel=function(Bt){return arguments.length?xt(nt=Bt*b):nt*w},Tt}function at(Xe,nt){return[Xe*A(nt),nt]}at.invert=function(Xe,nt){return[Xe/A(nt),nt]};function tt(){return(0,p.Z)(at).scale(152.63)}function dt(Xe){if(!Xe)return at;var nt=1/x(Xe);function xt(Tt,Bt){var Ft=nt+Xe-Bt,Yt=Ft&&Tt*A(Bt)/Ft;return[Ft*n(Yt),nt-Ft*A(Yt)]}return xt.invert=function(Tt,Bt){var Ft=F(Tt*Tt+(Bt=nt-Bt)*Bt),Yt=nt+Xe-Ft;return[Ft/A(Yt)*P(Tt,Bt),Yt]},xt}function wt(){return lt(dt).scale(123.082).center([0,26.1441]).parallel(45)}function Mt(Xe){function nt(xt,Tt){var Bt=s-Tt,Ft=Bt&&xt*Xe*n(Bt)/Bt;return[Bt*n(Ft)/Xe,s-Bt*A(Ft)]}return nt.invert=function(xt,Tt){var Bt=xt*Xe,Ft=s-Tt,Yt=F(Bt*Bt+Ft*Ft),xr=P(Bt,Ft);return[(Yt?Yt/n(Yt):1)*xr/Xe,s-Yt]},nt}function It(){var Xe=.5,nt=(0,p.r)(Mt),xt=nt(Xe);return xt.fraction=function(Tt){return arguments.length?nt(Xe=+Tt):Xe},xt.scale(158.837)}var $e=be(1,4/f,f);function ke(){return(0,p.Z)($e).scale(152.63)}var Fe=e(66624),qe=e(49386);function it(Xe,nt,xt,Tt,Bt,Ft){var Yt=A(Ft),xr;if(L(Xe)>1||L(Ft)>1)xr=m(xt*Bt+nt*Tt*Yt);else{var Sr=n(Xe/2),dr=n(Ft/2);xr=2*E(F(Sr*Sr+nt*Tt*dr*dr))}return L(xr)>h?[xr,P(Tt*n(Ft),nt*Bt-xt*Tt*Yt)]:[0,0]}function Je(Xe,nt,xt){return m((Xe*Xe+nt*nt-xt*xt)/(2*Xe*nt))}function Re(Xe){return Xe-2*f*g((Xe+f)/(2*f))}function Me(Xe,nt,xt){for(var Tt=[[Xe[0],Xe[1],n(Xe[1]),A(Xe[1])],[nt[0],nt[1],n(nt[1]),A(nt[1])],[xt[0],xt[1],n(xt[1]),A(xt[1])]],Bt=Tt[2],Ft,Yt=0;Yt<3;++Yt,Bt=Ft)Ft=Tt[Yt],Bt.v=it(Ft[1]-Bt[1],Bt[3],Bt[2],Ft[3],Ft[2],Ft[0]-Bt[0]),Bt.point=[0,0];var xr=Je(Tt[0].v[0],Tt[2].v[0],Tt[1].v[0]),Sr=Je(Tt[0].v[0],Tt[1].v[0],Tt[2].v[0]),dr=f-xr;Tt[2].point[1]=0,Tt[0].point[0]=-(Tt[1].point[0]=Tt[0].v[0]/2);var Pr=[Tt[2].point[0]=Tt[0].point[0]+Tt[2].v[0]*A(xr),2*(Tt[0].point[1]=Tt[1].point[1]=Tt[2].v[0]*n(xr))];function zr(en,sn){var Mn=n(sn),En=A(sn),zn=new Array(3),wa;for(wa=0;wa<3;++wa){var _a=Tt[wa];if(zn[wa]=it(sn-_a[1],_a[3],_a[2],En,Mn,en-_a[0]),!zn[wa][0])return _a.point;zn[wa][1]=Re(zn[wa][1]-_a.v[1])}var za=Pr.slice();for(wa=0;wa<3;++wa){var Oa=wa==2?0:wa+1,Ua=Je(Tt[wa].v[0],zn[wa][0],zn[Oa][0]);zn[wa][1]<0&&(Ua=-Ua),wa?wa==1?(Ua=Sr-Ua,za[0]-=zn[wa][0]*A(Ua),za[1]-=zn[wa][0]*n(Ua)):(Ua=dr-Ua,za[0]+=zn[wa][0]*A(Ua),za[1]+=zn[wa][0]*n(Ua)):(za[0]+=zn[wa][0]*A(Ua),za[1]-=zn[wa][0]*n(Ua))}return za[0]/=3,za[1]/=3,za}return zr}function fe(Xe){return Xe[0]*=b,Xe[1]*=b,Xe}function ye(){return Le([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Le(Xe,nt,xt){var Tt=(0,Fe.Z)({type:"MultiPoint",coordinates:[Xe,nt,xt]}),Bt=[-Tt[0],-Tt[1]],Ft=(0,qe.Z)(Bt),Yt=Me(fe(Ft(Xe)),fe(Ft(nt)),fe(Ft(xt)));Yt.invert=xe(Yt);var xr=(0,p.Z)(Yt).rotate(Bt),Sr=xr.center;return delete xr.rotate,xr.center=function(dr){return arguments.length?Sr(Ft(dr)):Ft.invert(Sr())},xr.clipAngle(90)}function Oe(Xe,nt){var xt=F(1-n(nt));return[2/C*Xe*xt,C*(1-xt)]}Oe.invert=function(Xe,nt){var xt=(xt=nt/C-1)*xt;return[xt>0?Xe*F(f/xt)/2:0,E(1-xt)]};function ht(){return(0,p.Z)(Oe).scale(95.6464).center([0,30])}function vt(Xe){var nt=x(Xe);function xt(Tt,Bt){return[Tt,(Tt?Tt/n(Tt):1)*(n(Bt)*A(Tt)-nt*A(Bt))]}return xt.invert=nt?function(Tt,Bt){Tt&&(Bt*=n(Tt)/Tt);var Ft=A(Tt);return[Tt,2*P(F(Ft*Ft+nt*nt-Bt*Bt)-Ft,nt-Bt)]}:function(Tt,Bt){return[Tt,E(Tt?Bt*x(Tt)/Tt:Bt)]},xt}function Lt(){return lt(vt).scale(249.828).clipAngle(90)}var Ot=F(3);function Jt(Xe,nt){return[Ot*Xe*(2*A(2*nt/3)-1)/C,Ot*C*n(nt/3)]}Jt.invert=function(Xe,nt){var xt=3*E(nt/(Ot*C));return[C*Xe/(Ot*(2*A(2*xt/3)-1)),xt]};function qt(){return(0,p.Z)(Jt).scale(156.19)}function Vt(Xe){var nt=A(Xe);function xt(Tt,Bt){return[Tt*nt,n(Bt)/nt]}return xt.invert=function(Tt,Bt){return[Tt/nt,E(Bt*nt)]},xt}function vr(){return lt(Vt).parallel(38.58).scale(195.044)}function gr(Xe){var nt=A(Xe);function xt(Tt,Bt){return[Tt*nt,(1+nt)*x(Bt/2)]}return xt.invert=function(Tt,Bt){return[Tt/nt,a(Bt/(1+nt))*2]},xt}function Gr(){return lt(gr).scale(124.75)}function At(Xe,nt){var xt=F(8/(3*f));return[xt*Xe*(1-L(nt)/f),xt*nt]}At.invert=function(Xe,nt){var xt=F(8/(3*f)),Tt=nt/xt;return[Xe/(xt*(1-L(Tt)/f)),Tt]};function or(){return(0,p.Z)(At).scale(165.664)}function rr(Xe,nt){var xt=F(4-3*n(L(nt)));return[2/F(6*f)*Xe*xt,c(nt)*F(2*f/3)*(2-xt)]}rr.invert=function(Xe,nt){var xt=2-L(nt)/F(2*f/3);return[Xe*F(6*f)/(2*xt),c(nt)*E((4-xt*xt)/3)]};function Lr(){return(0,p.Z)(rr).scale(165.664)}function Tr(Xe,nt){var xt=F(f*(4+f));return[2/xt*Xe*(1+F(1-4*nt*nt/(f*f))),4/xt*nt]}Tr.invert=function(Xe,nt){var xt=F(f*(4+f))/2;return[Xe*xt/(1+F(1-nt*nt*(4+f)/(4*f))),nt*xt/2]};function pt(){return(0,p.Z)(Tr).scale(180.739)}function st(Xe,nt){var xt=(2+s)*n(nt);nt/=2;for(var Tt=0,Bt=1/0;Tt<10&&L(Bt)>h;Tt++){var Ft=A(nt);nt-=Bt=(nt+n(nt)*(Ft+2)-xt)/(2*Ft*(1+Ft))}return[2/F(f*(4+f))*Xe*(1+A(nt)),2*F(f/(4+f))*n(nt)]}st.invert=function(Xe,nt){var xt=nt*F((4+f)/f)/2,Tt=E(xt),Bt=A(Tt);return[Xe/(2/F(f*(4+f))*(1+Bt)),E((Tt+xt*(Bt+2))/(2+s))]};function yt(){return(0,p.Z)(st).scale(180.739)}function Pt(Xe,nt){return[Xe*(1+A(nt))/F(2+f),2*nt/F(2+f)]}Pt.invert=function(Xe,nt){var xt=F(2+f),Tt=nt*xt/2;return[xt*Xe/(1+A(Tt)),Tt]};function Dt(){return(0,p.Z)(Pt).scale(173.044)}function Nt(Xe,nt){for(var xt=(1+s)*n(nt),Tt=0,Bt=1/0;Tt<10&&L(Bt)>h;Tt++)nt-=Bt=(nt+n(nt)-xt)/(1+A(nt));return xt=F(2+f),[Xe*(1+A(nt))/xt,2*nt/xt]}Nt.invert=function(Xe,nt){var xt=1+s,Tt=F(xt/2);return[Xe*2*Tt/(1+A(nt*=Tt)),E((nt+n(nt))/xt)]};function Zt(){return(0,p.Z)(Nt).scale(173.044)}var $t=3+2*M;function lr(Xe,nt){var xt=n(Xe/=2),Tt=A(Xe),Bt=F(A(nt)),Ft=A(nt/=2),Yt=n(nt)/(Ft+M*Tt*Bt),xr=F(2/(1+Yt*Yt)),Sr=F((M*Ft+(Tt+xt)*Bt)/(M*Ft+(Tt-xt)*Bt));return[$t*(xr*(Sr-1/Sr)-2*t(Sr)),$t*(xr*Yt*(Sr+1/Sr)-2*a(Yt))]}lr.invert=function(Xe,nt){if(!(Ft=oe.invert(Xe/1.2,nt*1.065)))return null;var xt=Ft[0],Tt=Ft[1],Bt=20,Ft;Xe/=$t,nt/=$t;do{var Yt=xt/2,xr=Tt/2,Sr=n(Yt),dr=A(Yt),Pr=n(xr),zr=A(xr),en=A(Tt),sn=F(en),Mn=Pr/(zr+M*dr*sn),En=Mn*Mn,zn=F(2/(1+En)),wa=M*zr+(dr+Sr)*sn,_a=M*zr+(dr-Sr)*sn,za=wa/_a,Oa=F(za),Ua=Oa-1/Oa,Ti=Oa+1/Oa,eo=zn*Ua-2*t(Oa)-Xe,ki=zn*Mn*Ti-2*a(Mn)-nt,le=Pr&&S*sn*Sr*En/Pr,Se=(M*dr*zr+sn)/(2*(zr+M*dr*sn)*(zr+M*dr*sn)*sn),Ne=-.5*Mn*zn*zn*zn,Qe=Ne*le,rt=Ne*Se,ot=(ot=2*zr+M*sn*(dr-Sr))*ot*Oa,zt=(M*dr*zr*sn+en)/ot,mt=-(M*Sr*Pr)/(sn*ot),Qt=Ua*Qe-2*zt/Oa+zn*(zt+zt/za),cr=Ua*rt-2*mt/Oa+zn*(mt+mt/za),hr=Mn*Ti*Qe-2*le/(1+En)+zn*Ti*le+zn*Mn*(zt-zt/za),kr=Mn*Ti*rt-2*Se/(1+En)+zn*Ti*Se+zn*Mn*(mt-mt/za),Fr=cr*hr-kr*Qt;if(!Fr)break;var nn=(ki*cr-eo*kr)/Fr,hn=(eo*hr-ki*Qt)/Fr;xt-=nn,Tt=r(-s,u(s,Tt-hn))}while((L(nn)>h||L(hn)>h)&&--Bt>0);return L(L(Tt)-s)<h?[0,Tt]:Bt&&[xt,Tt]};function ir(){return(0,p.Z)(lr).scale(62.5271)}var He=A(35*b);function Ge(Xe,nt){var xt=x(nt/2);return[Xe*He*F(1-xt*xt),(1+He)*xt]}Ge.invert=function(Xe,nt){var xt=nt/(1+He);return[Xe&&Xe/(He*F(1-xt*xt)),2*a(xt)]};function Ct(){return(0,p.Z)(Ge).scale(137.152)}function Ut(Xe,nt){var xt=nt/2,Tt=A(xt);return[2*Xe/C*A(nt)*Tt*Tt,C*x(xt)]}Ut.invert=function(Xe,nt){var xt=a(nt/C),Tt=A(xt),Bt=2*xt;return[Xe*C/2/(A(Bt)*Tt*Tt),Bt]};function Kt(){return(0,p.Z)(Ut).scale(135.264)}function Xt(Xe){var nt=1-Xe,xt=Ft(f,0)[0]-Ft(-f,0)[0],Tt=Ft(0,s)[1]-Ft(0,-s)[1],Bt=F(2*Tt/xt);function Ft(Sr,dr){var Pr=A(dr),zr=n(dr);return[Pr/(nt+Xe*Pr)*Sr,nt*dr+Xe*zr]}function Yt(Sr,dr){var Pr=Ft(Sr,dr);return[Pr[0]*Bt,Pr[1]/Bt]}function xr(Sr){return Yt(0,Sr)[1]}return Yt.invert=function(Sr,dr){var Pr=Te(xr,dr),zr=Sr/Bt*(Xe+nt/A(Pr));return[zr,Pr]},Yt}function ur(){var Xe=.5,nt=(0,p.r)(Xt),xt=nt(Xe);return xt.alpha=function(Tt){return arguments.length?nt(Xe=+Tt):Xe},xt.scale(168.725)}var Ar=e(57962),Rr=e(97492);function wr(Xe){return[Xe[0]/2,E(x(Xe[1]/2*b))*w]}function er(Xe){return[Xe[0]*2,2*a(n(Xe[1]*b))*w]}function _r(Xe){Xe==null&&(Xe=Ar.Z);var nt=Xe(),xt=(0,Rr.Z)().scale(w).precision(0).clipAngle(null).translate([0,0]);function Tt(Ft){return nt(wr(Ft))}nt.invert&&(Tt.invert=function(Ft){return er(nt.invert(Ft))}),Tt.stream=function(Ft){var Yt=nt.stream(Ft),xr=xt.stream({point:function(Sr,dr){Yt.point(Sr/2,E(x(-dr/2*b))*w)},lineStart:function(){Yt.lineStart()},lineEnd:function(){Yt.lineEnd()},polygonStart:function(){Yt.polygonStart()},polygonEnd:function(){Yt.polygonEnd()}});return xr.sphere=Yt.sphere,xr};function Bt(Ft){Tt[Ft]=function(){return arguments.length?(nt[Ft].apply(nt,arguments),Tt):nt[Ft]()}}return Tt.rotate=function(Ft){return arguments.length?(xt.rotate(Ft),Tt):xt.rotate()},Tt.center=function(Ft){return arguments.length?(nt.center(wr(Ft)),Tt):er(nt.center())},Bt("angle"),Bt("clipAngle"),Bt("clipExtent"),Bt("fitExtent"),Bt("fitHeight"),Bt("fitSize"),Bt("fitWidth"),Bt("scale"),Bt("translate"),Bt("precision"),Tt.scale(249.5)}function Vr(Xe,nt){var xt=2*f/nt,Tt=Xe*Xe;function Bt(Ft,Yt){var xr=(0,ie.N)(Ft,Yt),Sr=xr[0],dr=xr[1],Pr=Sr*Sr+dr*dr;if(Pr>Tt){var zr=F(Pr),en=P(dr,Sr),sn=xt*l(en/xt),Mn=en-sn,En=Xe*A(Mn),zn=(Xe*n(Mn)-Mn*n(En))/(s-En),wa=Br(Mn,zn),_a=(f-Xe)/yr(wa,En,f);Sr=zr;var za=50,Oa;do Sr-=Oa=(Xe+yr(wa,En,Sr)*_a-zr)/(wa(Sr)*_a);while(L(Oa)>h&&--za>0);dr=Mn*n(Sr),Sr<s&&(dr-=zn*(Sr-s));var Ua=n(sn),Ti=A(sn);xr[0]=Sr*Ti-dr*Ua,xr[1]=Sr*Ua+dr*Ti}return xr}return Bt.invert=function(Ft,Yt){var xr=Ft*Ft+Yt*Yt;if(xr>Tt){var Sr=F(xr),dr=P(Yt,Ft),Pr=xt*l(dr/xt),zr=dr-Pr;Ft=Sr*A(zr),Yt=Sr*n(zr);for(var en=Ft-s,sn=n(Ft),Mn=Yt/sn,En=Ft<s?1/0:0,zn=10;;){var wa=Xe*n(Mn),_a=Xe*A(Mn),za=n(_a),Oa=s-_a,Ua=(wa-Mn*za)/Oa,Ti=Br(Mn,Ua);if(L(En)<T||!--zn)break;Mn-=En=(Mn*sn-Ua*en-Yt)/(sn-en*2*(Oa*(_a+Mn*wa*A(_a)-za)-wa*(wa-Mn*za))/(Oa*Oa))}Sr=Xe+yr(Ti,_a,Ft)*(f-Xe)/yr(Ti,_a,f),dr=Pr+Mn,Ft=Sr*A(dr),Yt=Sr*n(dr)}return ie.N.invert(Ft,Yt)},Bt}function Br(Xe,nt){return function(xt){var Tt=Xe*A(xt);return xt<s&&(Tt-=nt),F(1+Tt*Tt)}}function yr(Xe,nt,xt){for(var Tt=50,Bt=(xt-nt)/Tt,Ft=Xe(nt)+Xe(xt),Yt=1,xr=nt;Yt<Tt;++Yt)Ft+=2*Xe(xr+=Bt);return Ft*.5*Bt}function pn(){var Xe=6,nt=30*b,xt=A(nt),Tt=n(nt),Bt=(0,p.r)(Vr),Ft=Bt(nt,Xe),Yt=Ft.stream,xr=.01,Sr=-A(xr*b),dr=n(xr*b);return Ft.radius=function(Pr){return arguments.length?(xt=A(nt=Pr*b),Tt=n(nt),Bt(nt,Xe)):nt*w},Ft.lobes=function(Pr){return arguments.length?Bt(nt,Xe=+Pr):Xe},Ft.stream=function(Pr){var zr=Ft.rotate(),en=Yt(Pr),sn=(Ft.rotate([0,0]),Yt(Pr));return Ft.rotate(zr),en.sphere=function(){sn.polygonStart(),sn.lineStart();for(var Mn=0,En=2*f/Xe,zn=0;Mn<Xe;++Mn,zn-=En)sn.point(P(dr*A(zn),Sr)*w,E(dr*n(zn))*w),sn.point(P(Tt*A(zn-En/2),xt)*w,E(Tt*n(zn-En/2))*w);sn.lineEnd(),sn.polygonEnd()},en},Ft.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function an(Xe,nt,xt,Tt,Bt,Ft,Yt,xr){arguments.length<8&&(xr=0);function Sr(dr,Pr){if(!Pr)return[Xe*dr/f,0];var zr=Pr*Pr,en=Xe+zr*(nt+zr*(xt+zr*Tt)),sn=Pr*(Bt-1+zr*(Ft-xr+zr*Yt)),Mn=(en*en+sn*sn)/(2*sn),En=dr*E(en/Mn)/f;return[Mn*n(En),Pr*(1+zr*xr)+Mn*(1-A(En))]}return Sr.invert=function(dr,Pr){var zr=f*dr/Xe,en=Pr,sn,Mn,En=50;do{var zn=en*en,wa=Xe+zn*(nt+zn*(xt+zn*Tt)),_a=en*(Bt-1+zn*(Ft-xr+zn*Yt)),za=wa*wa+_a*_a,Oa=2*_a,Ua=za/Oa,Ti=Ua*Ua,eo=E(wa/Ua)/f,ki=zr*eo,le=wa*wa,Se=(2*nt+zn*(4*xt+zn*6*Tt))*en,Ne=Bt+zn*(3*Ft+zn*5*Yt),Qe=2*(wa*Se+_a*(Ne-1)),rt=2*(Ne-1),ot=(Qe*Oa-za*rt)/(Oa*Oa),zt=A(ki),mt=n(ki),Qt=Ua*zt,cr=Ua*mt,hr=zr/f*(1/F(1-le/Ti))*(Se*Ua-wa*ot)/Ti,kr=cr-dr,Fr=en*(1+zn*xr)+Ua-Qt-Pr,nn=ot*mt+Qt*hr,hn=Qt*eo,Nr=1+ot-(ot*zt-cr*hr),Kr=cr*eo,tn=nn*Kr-Nr*hn;if(!tn)break;zr-=sn=(Fr*nn-kr*Nr)/tn,en-=Mn=(kr*Kr-Fr*hn)/tn}while((L(sn)>h||L(Mn)>h)&&--En>0);return[zr,en]},Sr}var Zr=an(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Nn(){return(0,p.Z)(Zr).scale(149.995)}var fn=an(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function xn(){return(0,p.Z)(fn).scale(153.93)}var On=an(5/6*f,-.62636,-.0344,0,1.3493,-.05524,0,.045);function br(){return(0,p.Z)(On).scale(130.945)}function Ir(Xe,nt){var xt=Xe*Xe,Tt=nt*nt;return[Xe*(1-.162388*Tt)*(.87-952426e-9*xt*xt),nt*(1+Tt/12)]}Ir.invert=function(Xe,nt){var xt=Xe,Tt=nt,Bt=50,Ft;do{var Yt=Tt*Tt;Tt-=Ft=(Tt*(1+Yt/12)-nt)/(1+Yt/4)}while(L(Ft)>h&&--Bt>0);Bt=50,Xe/=1-.162388*Yt;do{var xr=(xr=xt*xt)*xr;xt-=Ft=(xt*(.87-952426e-9*xr)-Xe)/(.87-.00476213*xr)}while(L(Ft)>h&&--Bt>0);return[xt,Tt]};function jr(){return(0,p.Z)(Ir).scale(131.747)}var Wr=an(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function An(){return(0,p.Z)(Wr).scale(131.087)}function wn(Xe){var nt=Xe(s,0)[0]-Xe(-s,0)[0];function xt(Tt,Bt){var Ft=Tt>0?-.5:.5,Yt=Xe(Tt+Ft*f,Bt);return Yt[0]-=Ft*nt,Yt}return Xe.invert&&(xt.invert=function(Tt,Bt){var Ft=Tt>0?-.5:.5,Yt=Xe.invert(Tt+Ft*nt,Bt),xr=Yt[0]-Ft*f;return xr<-f?xr+=2*f:xr>f&&(xr-=2*f),Yt[0]=xr,Yt}),xt}function Tn(Xe,nt){var xt=c(Xe),Tt=c(nt),Bt=A(nt),Ft=A(Xe)*Bt,Yt=n(Xe)*Bt,xr=n(Tt*nt);Xe=L(P(Yt,xr)),nt=E(Ft),L(Xe-s)>h&&(Xe%=s);var Sr=Rn(Xe>f/4?s-Xe:Xe,nt);return Xe>f/4&&(xr=Sr[0],Sr[0]=-Sr[1],Sr[1]=-xr),Sr[0]*=xt,Sr[1]*=-Tt,Sr}Tn.invert=function(Xe,nt){L(Xe)>1&&(Xe=c(Xe)*2-Xe),L(nt)>1&&(nt=c(nt)*2-nt);var xt=c(Xe),Tt=c(nt),Bt=-xt*Xe,Ft=-Tt*nt,Yt=Ft/Bt<1,xr=Gn(Yt?Ft:Bt,Yt?Bt:Ft),Sr=xr[0],dr=xr[1],Pr=A(dr);return Yt&&(Sr=-s-Sr),[xt*(P(n(Sr)*Pr,-n(dr))+f),Tt*E(A(Sr)*Pr)]};function Rn(Xe,nt){if(nt===s)return[0,0];var xt=n(nt),Tt=xt*xt,Bt=Tt*Tt,Ft=1+Bt,Yt=1+3*Bt,xr=1-Bt,Sr=E(1/F(Ft)),dr=xr+Tt*Ft*Sr,Pr=(1-xt)/dr,zr=F(Pr),en=Pr*Ft,sn=F(en),Mn=zr*xr,En,zn;if(Xe===0)return[0,-(Mn+Tt*sn)];var wa=A(nt),_a=1/wa,za=2*xt*wa,Oa=(-3*Tt+Sr*Yt)*za,Ua=(-dr*wa-(1-xt)*Oa)/(dr*dr),Ti=.5*Ua/zr,eo=xr*Ti-2*Tt*zr*za,ki=Tt*Ft*Ua+Pr*Yt*za,le=-_a*za,Se=-_a*ki,Ne=-2*_a*eo,Qe=4*Xe/f,rt;if(Xe>.222*f||nt<f/4&&Xe>.175*f){if(En=(Mn+Tt*F(en*(1+Bt)-Mn*Mn))/(1+Bt),Xe>f/4)return[En,En];var ot=En,zt=.5*En;En=.5*(zt+ot),zn=50;do{var mt=F(en-En*En),Qt=En*(Ne+le*mt)+Se*E(En/sn)-Qe;if(!Qt)break;Qt<0?zt=En:ot=En,En=.5*(zt+ot)}while(L(ot-zt)>h&&--zn>0)}else{En=h,zn=25;do{var cr=En*En,hr=F(en-cr),kr=Ne+le*hr,Fr=En*kr+Se*E(En/sn)-Qe,nn=kr+(Se-le*cr)/hr;En-=rt=hr?Fr/nn:0}while(L(rt)>h&&--zn>0)}return[En,-Mn-Tt*F(en-En*En)]}function Gn(Xe,nt){for(var xt=0,Tt=1,Bt=.5,Ft=50;;){var Yt=Bt*Bt,xr=F(Bt),Sr=E(1/F(1+Yt)),dr=1-Yt+Bt*(1+Yt)*Sr,Pr=(1-xr)/dr,zr=F(Pr),en=Pr*(1+Yt),sn=zr*(1-Yt),Mn=en-Xe*Xe,En=F(Mn),zn=nt+sn+Bt*En;if(L(Tt-xt)<T||--Ft===0||zn===0)break;zn>0?xt=Bt:Tt=Bt,Bt=.5*(xt+Tt)}if(!Ft)return null;var wa=E(xr),_a=A(wa),za=1/_a,Oa=2*xr*_a,Ua=(-3*Bt+Sr*(1+3*Yt))*Oa,Ti=(-dr*_a-(1-xr)*Ua)/(dr*dr),eo=.5*Ti/zr,ki=(1-Yt)*eo-2*Bt*zr*Oa,le=-2*za*ki,Se=-za*Oa,Ne=-za*(Bt*(1+Yt)*Ti+Pr*(1+3*Yt)*Oa);return[f/4*(Xe*(le+Se*En)+Ne*E(Xe/F(en))),wa]}function ma(){return(0,p.Z)(wn(Tn)).scale(239.75)}function pa(Xe,nt,xt){var Tt,Bt,Ft;return Xe?(Tt=ua(Xe,xt),nt?(Bt=ua(nt,1-xt),Ft=Bt[1]*Bt[1]+xt*Tt[0]*Tt[0]*Bt[0]*Bt[0],[[Tt[0]*Bt[2]/Ft,Tt[1]*Tt[2]*Bt[0]*Bt[1]/Ft],[Tt[1]*Bt[1]/Ft,-Tt[0]*Tt[2]*Bt[0]*Bt[2]/Ft],[Tt[2]*Bt[1]*Bt[2]/Ft,-xt*Tt[0]*Tt[1]*Bt[0]/Ft]]):[[Tt[0],0],[Tt[1],0],[Tt[2],0]]):(Bt=ua(nt,1-xt),[[0,Bt[0]/Bt[1]],[1/Bt[1],0],[Bt[2]/Bt[1],0]])}function ua(Xe,nt){var xt,Tt,Bt,Ft,Yt;if(nt<h)return Ft=n(Xe),Tt=A(Xe),xt=nt*(Xe-Ft*Tt)/4,[Ft-xt*Tt,Tt+xt*Ft,1-nt*Ft*Ft/2,Xe-xt];if(nt>=1-h)return xt=(1-nt)/4,Tt=I(Xe),Ft=_(Xe),Bt=1/Tt,Yt=Tt*B(Xe),[Ft+xt*(Yt-Xe)/(Tt*Tt),Bt-xt*Ft*Bt*(Yt-Xe),Bt+xt*Ft*Bt*(Yt+Xe),2*a(v(Xe))-s+xt*(Yt-Xe)/Tt];var xr=[1,0,0,0,0,0,0,0,0],Sr=[F(nt),0,0,0,0,0,0,0,0],dr=0;for(Tt=F(1-nt),Yt=1;L(Sr[dr]/xr[dr])>h&&dr<8;)xt=xr[dr++],Sr[dr]=(xt-Tt)/2,xr[dr]=(xt+Tt)/2,Tt=F(xt*Tt),Yt*=2;Bt=Yt*xr[dr]*Xe;do Ft=Sr[dr]*n(Tt=Bt)/xr[dr],Bt=(E(Ft)+Bt)/2;while(--dr);return[n(Bt),Ft=A(Bt),Ft/A(Bt-Tt),Bt]}function xa(Xe,nt,xt){var Tt=L(Xe),Bt=L(nt),Ft=B(Bt);if(Tt){var Yt=1/n(Tt),xr=1/(x(Tt)*x(Tt)),Sr=-(xr+xt*(Ft*Ft*Yt*Yt)-1+xt),dr=(xt-1)*xr,Pr=(-Sr+F(Sr*Sr-4*dr))/2;return[ga(a(1/F(Pr)),xt)*c(Xe),ga(a(F((Pr/xr-1)/xt)),1-xt)*c(nt)]}return[0,ga(a(Ft),1-xt)*c(nt)]}function ga(Xe,nt){if(!nt)return Xe;if(nt===1)return t(x(Xe/2+d));for(var xt=1,Tt=F(1-nt),Bt=F(nt),Ft=0;L(Bt)>h;Ft++){if(Xe%f){var Yt=a(Tt*x(Xe)/xt);Yt<0&&(Yt+=f),Xe+=Yt+~~(Xe/f)*f}else Xe+=Xe;Bt=(xt+Tt)/2,Tt=F(xt*Tt),Bt=((xt=Bt)-Tt)/2}return Xe/(o(2,Ft)*xt)}function Or(Xe,nt){var xt=(M-1)/(M+1),Tt=F(1-xt*xt),Bt=ga(s,Tt*Tt),Ft=-1,Yt=t(x(f/4+L(nt)/2)),xr=v(Ft*Yt)/F(xt),Sr=cn(xr*A(Ft*Xe),xr*n(Ft*Xe)),dr=xa(Sr[0],Sr[1],Tt*Tt);return[-dr[1],(nt>=0?1:-1)*(.5*Bt-dr[0])]}function cn(Xe,nt){var xt=Xe*Xe,Tt=nt+1,Bt=1-xt-nt*nt;return[.5*((Xe>=0?s:-s)-P(Bt,2*Xe)),-.25*t(Bt*Bt+4*xt)+.5*t(Tt*Tt+xt)]}function vn(Xe,nt){var xt=nt[0]*nt[0]+nt[1]*nt[1];return[(Xe[0]*nt[0]+Xe[1]*nt[1])/xt,(Xe[1]*nt[0]-Xe[0]*nt[1])/xt]}Or.invert=function(Xe,nt){var xt=(M-1)/(M+1),Tt=F(1-xt*xt),Bt=ga(s,Tt*Tt),Ft=-1,Yt=pa(.5*Bt-nt,-Xe,Tt*Tt),xr=vn(Yt[0],Yt[1]),Sr=P(xr[1],xr[0])/Ft;return[Sr,2*a(v(.5/Ft*t(xt*xr[0]*xr[0]+xt*xr[1]*xr[1])))-s]};function Cn(){return(0,p.Z)(wn(Or)).scale(151.496)}var Wn=e(7613);function Fn(Xe){var nt=n(Xe),xt=A(Xe),Tt=Hn(Xe);Tt.invert=Hn(-Xe);function Bt(Ft,Yt){var xr=Tt(Ft,Yt);Ft=xr[0],Yt=xr[1];var Sr=n(Yt),dr=A(Yt),Pr=A(Ft),zr=m(nt*Sr+xt*dr*Pr),en=n(zr),sn=L(en)>h?zr/en:1;return[sn*xt*n(Ft),(L(Ft)>s?sn:-sn)*(nt*dr-xt*Sr*Pr)]}return Bt.invert=function(Ft,Yt){var xr=F(Ft*Ft+Yt*Yt),Sr=-n(xr),dr=A(xr),Pr=xr*dr,zr=-Yt*Sr,en=xr*nt,sn=F(Pr*Pr+zr*zr-en*en),Mn=P(Pr*en+zr*sn,zr*en-Pr*sn),En=(xr>s?-1:1)*P(Ft*Sr,xr*A(Mn)*dr+Yt*n(Mn)*Sr);return Tt.invert(En,Mn)},Bt}function Hn(Xe){var nt=n(Xe),xt=A(Xe);return function(Tt,Bt){var Ft=A(Bt),Yt=A(Tt)*Ft,xr=n(Tt)*Ft,Sr=n(Bt);return[P(xr,Yt*xt-Sr*nt),E(Sr*xt+Yt*nt)]}}function Xn(){var Xe=0,nt=(0,p.r)(Fn),xt=nt(Xe),Tt=xt.rotate,Bt=xt.stream,Ft=(0,Wn.Z)();return xt.parallel=function(Yt){if(!arguments.length)return Xe*w;var xr=xt.rotate();return nt(Xe=Yt*b).rotate(xr)},xt.rotate=function(Yt){return arguments.length?(Tt.call(xt,[Yt[0],Yt[1]-Xe*w]),Ft.center([-Yt[0],-Yt[1]]),xt):(Yt=Tt.call(xt),Yt[1]+=Xe*w,Yt)},xt.stream=function(Yt){return Yt=Bt(Yt),Yt.sphere=function(){Yt.polygonStart();var xr=.01,Sr=Ft.radius(90-xr)().coordinates[0],dr=Sr.length-1,Pr=-1,zr;for(Yt.lineStart();++Pr<dr;)Yt.point((zr=Sr[Pr])[0],zr[1]);for(Yt.lineEnd(),Sr=Ft.radius(90+xr)().coordinates[0],dr=Sr.length-1,Yt.lineStart();--Pr>=0;)Yt.point((zr=Sr[Pr])[0],zr[1]);Yt.lineEnd(),Yt.polygonEnd()},Yt},xt.scale(79.4187).parallel(45).clipAngle(179.999)}var sa=e(33064),ka=e(72736),oi=3,ar=E(1-1/oi)*w,me=Vt(0);function Ue(Xe){var nt=ar*b,xt=Oe(f,nt)[0]-Oe(-f,nt)[0],Tt=me(0,nt)[1],Bt=Oe(0,nt)[1],Ft=C-Bt,Yt=y/Xe,xr=4/y,Sr=Tt+Ft*Ft*4/y;function dr(Pr,zr){var en,sn=L(zr);if(sn>nt){var Mn=u(Xe-1,r(0,g((Pr+f)/Yt)));Pr+=f*(Xe-1)/Xe-Mn*Yt,en=Oe(Pr,sn),en[0]=en[0]*y/xt-y*(Xe-1)/(2*Xe)+Mn*y/Xe,en[1]=Tt+(en[1]-Bt)*4*Ft/y,zr<0&&(en[1]=-en[1])}else en=me(Pr,zr);return en[0]*=xr,en[1]/=Sr,en}return dr.invert=function(Pr,zr){Pr/=xr,zr*=Sr;var en=L(zr);if(en>Tt){var sn=u(Xe-1,r(0,g((Pr+f)/Yt)));Pr=(Pr+f*(Xe-1)/Xe-sn*Yt)*xt/y;var Mn=Oe.invert(Pr,.25*(en-Tt)*y/Ft+Bt);return Mn[0]-=f*(Xe-1)/Xe-sn*Yt,zr<0&&(Mn[1]=-Mn[1]),Mn}return me.invert(Pr,zr)},dr}function et(Xe,nt){return[Xe,nt&1?90-h:ar]}function ft(Xe,nt){return[Xe,nt&1?-90+h:-ar]}function kt(Xe){return[Xe[0]*(1-h),Xe[1]]}function _t(Xe){var nt=[].concat((0,sa.w6)(-180,180+Xe/2,Xe).map(et),(0,sa.w6)(180,-180-Xe/2,-Xe).map(ft));return{type:"Polygon",coordinates:[Xe===180?nt.map(kt):nt]}}function Wt(){var Xe=4,nt=(0,p.r)(Ue),xt=nt(Xe),Tt=xt.stream;return xt.lobes=function(Bt){return arguments.length?nt(Xe=+Bt):Xe},xt.stream=function(Bt){var Ft=xt.rotate(),Yt=Tt(Bt),xr=(xt.rotate([0,0]),Tt(Bt));return xt.rotate(Ft),Yt.sphere=function(){(0,ka.Z)(_t(180/Xe),xr)},Yt},xt.scale(239.75)}function Gt(Xe){var nt=1+Xe,xt=n(1/nt),Tt=E(xt),Bt=2*F(f/(Ft=f+4*Tt*nt)),Ft,Yt=.5*Bt*(nt+F(Xe*(2+Xe))),xr=Xe*Xe,Sr=nt*nt;function dr(Pr,zr){var en=1-n(zr),sn,Mn;if(en&&en<2){var En=s-zr,zn=25,wa;do{var _a=n(En),za=A(En),Oa=Tt+P(_a,nt-za),Ua=1+Sr-2*nt*za;En-=wa=(En-xr*Tt-nt*_a+Ua*Oa-.5*en*Ft)/(2*nt*_a*Oa)}while(L(wa)>T&&--zn>0);sn=Bt*F(Ua),Mn=Pr*Oa/f}else sn=Bt*(Xe+en),Mn=Pr*Tt/f;return[sn*n(Mn),Yt-sn*A(Mn)]}return dr.invert=function(Pr,zr){var en=Pr*Pr+(zr-=Yt)*zr,sn=(1+Sr-en/(Bt*Bt))/(2*nt),Mn=m(sn),En=n(Mn),zn=Tt+P(En,nt-sn);return[E(Pr/F(en))*f/zn,E(1-2*(Mn-xr*Tt-nt*En+(1+Sr-2*nt*sn)*zn)/Ft)]},dr}function Ht(){var Xe=1,nt=(0,p.r)(Gt),xt=nt(Xe);return xt.ratio=function(Tt){return arguments.length?nt(Xe=+Tt):Xe},xt.scale(167.774).center([0,18.67])}var nr=.7109889596207567,Dr=.0528035274542;function Qr(Xe,nt){return nt>-nr?(Xe=_e(Xe,nt),Xe[1]+=Dr,Xe):at(Xe,nt)}Qr.invert=function(Xe,nt){return nt>-nr?_e.invert(Xe,nt-Dr):at.invert(Xe,nt)};function Yr(){return(0,p.Z)(Qr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Ur(Xe,nt){return L(nt)>nr?(Xe=_e(Xe,nt),Xe[1]-=nt>0?Dr:-Dr,Xe):at(Xe,nt)}Ur.invert=function(Xe,nt){return L(nt)>nr?_e.invert(Xe,nt+(nt>0?Dr:-Dr)):at.invert(Xe,nt)};function Pn(){return(0,p.Z)(Ur).scale(152.63)}function Un(Xe,nt,xt,Tt){var Bt=F(4*f/(2*xt+(1+Xe-nt/2)*n(2*xt)+(Xe+nt)/2*n(4*xt)+nt/2*n(6*xt))),Ft=F(Tt*n(xt)*F((1+Xe*A(2*xt)+nt*A(4*xt))/(1+Xe+nt))),Yt=xt*Sr(1);function xr(zr){return F(1+Xe*A(2*zr)+nt*A(4*zr))}function Sr(zr){var en=zr*xt;return(2*en+(1+Xe-nt/2)*n(2*en)+(Xe+nt)/2*n(4*en)+nt/2*n(6*en))/xt}function dr(zr){return xr(zr)*n(zr)}var Pr=function(zr,en){var sn=xt*Te(Sr,Yt*n(en)/xt,en/f);isNaN(sn)&&(sn=xt*c(en));var Mn=Bt*xr(sn);return[Mn*Ft*zr/f*A(sn),Mn/Ft*n(sn)]};return Pr.invert=function(zr,en){var sn=Te(dr,en*Ft/Bt);return[zr*f/(A(sn)*Bt*Ft*xr(sn)),E(xt*Sr(sn/xt)/Yt)]},xt===0&&(Bt=F(Tt/f),Pr=function(zr,en){return[zr*Bt,n(en)/Bt]},Pr.invert=function(zr,en){return[zr/Bt,E(en*Bt)]}),Pr}function kn(){var Xe=1,nt=0,xt=45*b,Tt=2,Bt=(0,p.r)(Un),Ft=Bt(Xe,nt,xt,Tt);return Ft.a=function(Yt){return arguments.length?Bt(Xe=+Yt,nt,xt,Tt):Xe},Ft.b=function(Yt){return arguments.length?Bt(Xe,nt=+Yt,xt,Tt):nt},Ft.psiMax=function(Yt){return arguments.length?Bt(Xe,nt,xt=+Yt*b,Tt):xt*w},Ft.ratio=function(Yt){return arguments.length?Bt(Xe,nt,xt,Tt=+Yt):Tt},Ft.scale(180.739)}function Qn(Xe,nt,xt,Tt,Bt,Ft,Yt,xr,Sr,dr,Pr){if(Pr.nanEncountered)return NaN;var zr,en,sn,Mn,En,zn,wa,_a,za,Oa;if(zr=xt-nt,en=Xe(nt+zr*.25),sn=Xe(xt-zr*.25),isNaN(en)){Pr.nanEncountered=!0;return}if(isNaN(sn)){Pr.nanEncountered=!0;return}return Mn=zr*(Tt+4*en+Bt)/12,En=zr*(Bt+4*sn+Ft)/12,zn=Mn+En,Oa=(zn-Yt)/15,dr>Sr?(Pr.maxDepthCount++,zn+Oa):Math.abs(Oa)<xr?zn+Oa:(wa=nt+zr*.5,_a=Qn(Xe,nt,wa,Tt,en,Bt,Mn,xr*.5,Sr,dr+1,Pr),isNaN(_a)?(Pr.nanEncountered=!0,NaN):(za=Qn(Xe,wa,xt,Bt,sn,Ft,En,xr*.5,Sr,dr+1,Pr),isNaN(za)?(Pr.nanEncountered=!0,NaN):_a+za))}function qn(Xe,nt,xt,Tt,Bt){var Ft={maxDepthCount:0,nanEncountered:!1};Tt===void 0&&(Tt=1e-8),Bt===void 0&&(Bt=20);var Yt=Xe(nt),xr=Xe(.5*(nt+xt)),Sr=Xe(xt),dr=(Yt+4*xr+Sr)*(xt-nt)/6,Pr=Qn(Xe,nt,xt,Yt,xr,Sr,dr,Tt,Bt,1,Ft);return Pr}function ca(Xe,nt,xt){function Tt(sn){return Xe+(1-Xe)*o(1-o(sn,nt),1/nt)}function Bt(sn){return qn(Tt,0,sn,1e-4)}for(var Ft=1/Bt(1),Yt=1e3,xr=(1+1e-8)*Ft,Sr=[],dr=0;dr<=Yt;dr++)Sr.push(Bt(dr/Yt)*xr);function Pr(sn){var Mn=0,En=Yt,zn=Yt>>1;do Sr[zn]>sn?En=zn:Mn=zn,zn=Mn+En>>1;while(zn>Mn);var wa=Sr[zn+1]-Sr[zn];return wa&&(wa=(sn-Sr[zn+1])/wa),(zn+1+wa)/Yt}var zr=2*Pr(1)/f*Ft/xt,en=function(sn,Mn){var En=Pr(L(n(Mn))),zn=Tt(En)*sn;return En/=zr,[zn,Mn>=0?En:-En]};return en.invert=function(sn,Mn){var En;return Mn*=zr,L(Mn)<1&&(En=c(Mn)*E(Bt(L(Mn))*Ft)),[sn/Tt(L(Mn)),En]},en}function ei(){var Xe=0,nt=2.5,xt=1.183136,Tt=(0,p.r)(ca),Bt=Tt(Xe,nt,xt);return Bt.alpha=function(Ft){return arguments.length?Tt(Xe=+Ft,nt,xt):Xe},Bt.k=function(Ft){return arguments.length?Tt(Xe,nt=+Ft,xt):nt},Bt.gamma=function(Ft){return arguments.length?Tt(Xe,nt,xt=+Ft):xt},Bt.scale(152.63)}function Na(Xe,nt){return L(Xe[0]-nt[0])<h&&L(Xe[1]-nt[1])<h}function Di(Xe,nt){for(var xt=-1,Tt=Xe.length,Bt=Xe[0],Ft,Yt,xr,Sr=[];++xt<Tt;){Ft=Xe[xt],Yt=(Ft[0]-Bt[0])/nt,xr=(Ft[1]-Bt[1])/nt;for(var dr=0;dr<nt;++dr)Sr.push([Bt[0]+dr*Yt,Bt[1]+dr*xr]);Bt=Ft}return Sr.push(Ft),Sr}function ri(Xe){var nt=[],xt,Tt,Bt,Ft,Yt,xr,Sr,dr=Xe[0].length;for(Sr=0;Sr<dr;++Sr)xt=Xe[0][Sr],Tt=xt[0][0],Bt=xt[0][1],Ft=xt[1][1],Yt=xt[2][0],xr=xt[2][1],nt.push(Di([[Tt+h,Bt+h],[Tt+h,Ft-h],[Yt-h,Ft-h],[Yt-h,xr+h]],30));for(Sr=Xe[1].length-1;Sr>=0;--Sr)xt=Xe[1][Sr],Tt=xt[0][0],Bt=xt[0][1],Ft=xt[1][1],Yt=xt[2][0],xr=xt[2][1],nt.push(Di([[Yt-h,xr-h],[Yt-h,Ft+h],[Tt+h,Ft+h],[Tt+h,Bt-h]],30));return{type:"Polygon",coordinates:[(0,sa.TS)(nt)]}}function vi(Xe,nt,xt){var Tt,Bt;function Ft(Sr,dr){for(var Pr=dr<0?-1:1,zr=nt[+(dr<0)],en=0,sn=zr.length-1;en<sn&&Sr>zr[en][2][0];++en);var Mn=Xe(Sr-zr[en][1][0],dr);return Mn[0]+=Xe(zr[en][1][0],Pr*dr>Pr*zr[en][0][1]?zr[en][0][1]:dr)[0],Mn}xt?Ft.invert=xt(Ft):Xe.invert&&(Ft.invert=function(Sr,dr){for(var Pr=Bt[+(dr<0)],zr=nt[+(dr<0)],en=0,sn=Pr.length;en<sn;++en){var Mn=Pr[en];if(Mn[0][0]<=Sr&&Sr<Mn[1][0]&&Mn[0][1]<=dr&&dr<Mn[1][1]){var En=Xe.invert(Sr-Xe(zr[en][1][0],0)[0],dr);return En[0]+=zr[en][1][0],Na(Ft(En[0],En[1]),[Sr,dr])?En:null}}});var Yt=(0,p.Z)(Ft),xr=Yt.stream;return Yt.stream=function(Sr){var dr=Yt.rotate(),Pr=xr(Sr),zr=(Yt.rotate([0,0]),xr(Sr));return Yt.rotate(dr),Pr.sphere=function(){(0,ka.Z)(Tt,zr)},Pr},Yt.lobes=function(Sr){return arguments.length?(Tt=ri(Sr),nt=Sr.map(function(dr){return dr.map(function(Pr){return[[Pr[0][0]*b,Pr[0][1]*b],[Pr[1][0]*b,Pr[1][1]*b],[Pr[2][0]*b,Pr[2][1]*b]]})}),Bt=nt.map(function(dr){return dr.map(function(Pr){var zr=Xe(Pr[0][0],Pr[0][1])[0],en=Xe(Pr[2][0],Pr[2][1])[0],sn=Xe(Pr[1][0],Pr[0][1])[1],Mn=Xe(Pr[1][0],Pr[1][1])[1],En;return sn>Mn&&(En=sn,sn=Mn,Mn=En),[[zr,sn],[en,Mn]]})}),Yt):nt.map(function(dr){return dr.map(function(Pr){return[[Pr[0][0]*w,Pr[0][1]*w],[Pr[1][0]*w,Pr[1][1]*w],[Pr[2][0]*w,Pr[2][1]*w]]})})},nt!=null&&Yt.lobes(nt),Yt}var Ks=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function si(){return vi(Ze,Ks).scale(160.857)}var mo=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Zo(){return vi(Ur,mo).scale(152.63)}var Zi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function _i(){return vi(_e,Zi).scale(169.529)}var ps=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function So(){return vi(_e,ps).scale(169.529).rotate([20,0])}var Si=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function sl(){return vi(Qr,Si,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var so=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function to(){return vi(at,so).scale(152.63).rotate([-20,0])}function ni(Xe,nt){return[3/y*Xe*F(f*f/3-nt*nt),nt]}ni.invert=function(Xe,nt){return[y/3*Xe/F(f*f/3-nt*nt),nt]};function qi(){return(0,p.Z)(ni).scale(158.837)}function No(Xe){function nt(xt,Tt){if(L(L(Tt)-s)<h)return[0,Tt<0?-2:2];var Bt=n(Tt),Ft=o((1+Bt)/(1-Bt),Xe/2),Yt=.5*(Ft+1/Ft)+A(xt*=Xe);return[2*n(xt)/Yt,(Ft-1/Ft)/Yt]}return nt.invert=function(xt,Tt){var Bt=L(Tt);if(L(Bt-2)<h)return xt?null:[0,c(Tt)*s];if(Bt>2)return null;xt/=2,Tt/=2;var Ft=xt*xt,Yt=Tt*Tt,xr=2*Tt/(1+Ft+Yt);return xr=o((1+xr)/(1-xr),1/Xe),[P(2*xt,1-Ft-Yt)/Xe,E((xr-1)/(xr+1))]},nt}function Xo(){var Xe=.5,nt=(0,p.r)(No),xt=nt(Xe);return xt.spacing=function(Tt){return arguments.length?nt(Xe=+Tt):Xe},xt.scale(124.75)}var gs=f/M;function io(Xe,nt){return[Xe*(1+F(A(nt)))/2,nt/(A(nt/2)*A(Xe/6))]}io.invert=function(Xe,nt){var xt=L(Xe),Tt=L(nt),Bt=h,Ft=s;Tt<gs?Ft*=Tt/gs:Bt+=6*m(gs/Tt);for(var Yt=0;Yt<25;Yt++){var xr=n(Ft),Sr=F(A(Ft)),dr=n(Ft/2),Pr=A(Ft/2),zr=n(Bt/6),en=A(Bt/6),sn=.5*Bt*(1+Sr)-xt,Mn=Ft/(Pr*en)-Tt,En=Sr?-.25*Bt*xr/Sr:0,zn=.5*(1+Sr),wa=(1+.5*Ft*dr/Pr)/(Pr*en),_a=Ft/Pr*(zr/6)/(en*en),za=En*_a-wa*zn,Oa=(sn*_a-Mn*zn)/za,Ua=(Mn*En-sn*wa)/za;if(Ft-=Oa,Bt-=Ua,L(Oa)<h&&L(Ua)<h)break}return[Xe<0?-Bt:Bt,nt<0?-Ft:Ft]};function Ou(){return(0,p.Z)(io).scale(97.2672)}function es(Xe,nt){var xt=Xe*Xe,Tt=nt*nt;return[Xe*(.975534+Tt*(-.119161+xt*-.0143059+Tt*-.0547009)),nt*(1.00384+xt*(.0802894+Tt*-.02855+xt*199025e-9)+Tt*(.0998909+Tt*-.0491032))]}es.invert=function(Xe,nt){var xt=c(Xe)*f,Tt=nt/2,Bt=50;do{var Ft=xt*xt,Yt=Tt*Tt,xr=xt*Tt,Sr=xt*(.975534+Yt*(-.119161+Ft*-.0143059+Yt*-.0547009))-Xe,dr=Tt*(1.00384+Ft*(.0802894+Yt*-.02855+Ft*199025e-9)+Yt*(.0998909+Yt*-.0491032))-nt,Pr=.975534-Yt*(.119161+3*Ft*.0143059+Yt*.0547009),zr=-xr*(2*.119161+4*.0547009*Yt+2*.0143059*Ft),en=xr*(2*.0802894+4*199025e-9*Ft+2*-.02855*Yt),sn=1.00384+Ft*(.0802894+199025e-9*Ft)+Yt*(3*(.0998909-.02855*Ft)-5*.0491032*Yt),Mn=zr*en-sn*Pr,En=(dr*zr-Sr*sn)/Mn,zn=(Sr*en-dr*Pr)/Mn;xt-=En,Tt-=zn}while((L(En)>h||L(zn)>h)&&--Bt>0);return Bt&&[xt,Tt]};function xo(){return(0,p.Z)(es).scale(139.98)}function ou(Xe,nt){return[n(Xe)/A(nt),x(nt)*A(Xe)]}ou.invert=function(Xe,nt){var xt=Xe*Xe,Tt=nt*nt,Bt=Tt+1,Ft=xt+Bt,Yt=Xe?S*F((Ft-F(Ft*Ft-4*xt))/xt):1/F(Bt);return[E(Xe*Yt),c(nt)*m(Yt)]};function ys(){return(0,p.Z)(ou).scale(144.049).clipAngle(89.999)}function Uo(Xe){var nt=A(Xe),xt=x(d+Xe/2);function Tt(Bt,Ft){var Yt=Ft-Xe,xr=L(Yt)<h?Bt*nt:L(xr=d+Ft/2)<h||L(L(xr)-s)<h?0:Bt*Yt/t(x(xr)/xt);return[xr,Yt]}return Tt.invert=function(Bt,Ft){var Yt,xr=Ft+Xe;return[L(Ft)<h?Bt/nt:L(Yt=d+xr/2)<h||L(L(Yt)-s)<h?0:Bt*t(x(Yt)/xt)/Ft,xr]},Tt}function su(){return lt(Uo).parallel(40).scale(158.837)}function lu(Xe,nt){return[Xe,1.25*t(x(d+.4*nt))]}lu.invert=function(Xe,nt){return[Xe,2.5*a(v(.8*nt))-.625*f]};function pf(){return(0,p.Z)(lu).scale(108.318)}function ms(Xe){var nt=Xe.length-1;function xt(Tt,Bt){for(var Ft=A(Bt),Yt=2/(1+Ft*A(Tt)),xr=Yt*Ft*n(Tt),Sr=Yt*n(Bt),dr=nt,Pr=Xe[dr],zr=Pr[0],en=Pr[1],sn;--dr>=0;)Pr=Xe[dr],zr=Pr[0]+xr*(sn=zr)-Sr*en,en=Pr[1]+xr*en+Sr*sn;return zr=xr*(sn=zr)-Sr*en,en=xr*en+Sr*sn,[zr,en]}return xt.invert=function(Tt,Bt){var Ft=20,Yt=Tt,xr=Bt;do{for(var Sr=nt,dr=Xe[Sr],Pr=dr[0],zr=dr[1],en=0,sn=0,Mn;--Sr>=0;)dr=Xe[Sr],en=Pr+Yt*(Mn=en)-xr*sn,sn=zr+Yt*sn+xr*Mn,Pr=dr[0]+Yt*(Mn=Pr)-xr*zr,zr=dr[1]+Yt*zr+xr*Mn;en=Pr+Yt*(Mn=en)-xr*sn,sn=zr+Yt*sn+xr*Mn,Pr=Yt*(Mn=Pr)-xr*zr-Tt,zr=Yt*zr+xr*Mn-Bt;var En=en*en+sn*sn,zn,wa;Yt-=zn=(Pr*en+zr*sn)/En,xr-=wa=(zr*en-Pr*sn)/En}while(L(zn)+L(wa)>h*h&&--Ft>0);if(Ft){var _a=F(Yt*Yt+xr*xr),za=2*a(_a*.5),Oa=n(za);return[P(Yt*Oa,_a*A(za)),_a?E(xr*Oa/_a):0]}},xt}var gf=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],uu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],xs=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ts=[[.9245,0],[0,0],[.01943,0]],Bu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Nu(){return bo(gf,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function fu(){return bo(uu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function yf(){return bo(xs,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Fi(){return bo(ts,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ll(){return bo(Bu,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function bo(Xe,nt){var xt=(0,p.Z)(ms(Xe)).rotate(nt).clipAngle(90),Tt=(0,qe.Z)(nt),Bt=xt.center;return delete xt.rotate,xt.center=function(Ft){return arguments.length?Bt(Tt(Ft)):Tt.invert(Bt())},xt}var co=F(6),Ds=F(7);function El(Xe,nt){var xt=E(7*n(nt)/(3*co));return[co*Xe*(2*A(2*xt/3)-1)/Ds,9*n(xt/3)/Ds]}El.invert=function(Xe,nt){var xt=3*E(nt*Ds/9);return[Xe*Ds/(co*(2*A(2*xt/3)-1)),E(n(xt)*3*co/7)]};function mf(){return(0,p.Z)(El).scale(164.859)}function bs(Xe,nt){for(var xt=(1+S)*n(nt),Tt=nt,Bt=0,Ft;Bt<25&&(Tt-=Ft=(n(Tt/2)+n(Tt)-xt)/(.5*A(Tt/2)+A(Tt)),!(L(Ft)<h));Bt++);return[Xe*(1+2*A(Tt)/A(Tt/2))/(3*M),2*F(3)*n(Tt/2)/F(2+M)]}bs.invert=function(Xe,nt){var xt=nt*F(2+M)/(2*F(3)),Tt=2*E(xt);return[3*M*Xe/(1+2*A(Tt)/A(Tt/2)),E((xt+n(Tt))/(1+S))]};function cu(){return(0,p.Z)(bs).scale(188.209)}function ws(Xe,nt){for(var xt=F(6/(4+f)),Tt=(1+f/4)*n(nt),Bt=nt/2,Ft=0,Yt;Ft<25&&(Bt-=Yt=(Bt/2+n(Bt)-Tt)/(.5+A(Bt)),!(L(Yt)<h));Ft++);return[xt*(.5+A(Bt))*Xe/1.5,xt*Bt]}ws.invert=function(Xe,nt){var xt=F(6/(4+f)),Tt=nt/xt;return L(L(Tt)-s)<h&&(Tt=Tt<0?-s:s),[1.5*Xe/(xt*(.5+A(Tt))),E((Tt/2+n(Tt))/(1+f/4))]};function hu(){return(0,p.Z)(ws).scale(166.518)}var Ho=e(26867);function os(Xe,nt){var xt=nt*nt,Tt=xt*xt,Bt=xt*Tt;return[Xe*(.84719-.13063*xt+Bt*Bt*(-.04515+.05494*xt-.02326*Tt+.00331*Bt)),nt*(1.01183+Tt*Tt*(-.02625+.01926*xt-.00396*Tt))]}os.invert=function(Xe,nt){var xt=nt,Tt=25,Bt,Ft,Yt,xr;do Ft=xt*xt,Yt=Ft*Ft,xt-=Bt=(xt*(1.01183+Yt*Yt*(-.02625+.01926*Ft-.00396*Yt))-nt)/(1.01183+Yt*Yt*(-.23625+.21186*Ft+-.05148*Yt));while(L(Bt)>T&&--Tt>0);return Ft=xt*xt,Yt=Ft*Ft,xr=Ft*Yt,[Xe/(.84719-.13063*Ft+xr*xr*(-.04515+.05494*Ft-.02326*Yt+.00331*xr)),xt]};function Is(){return(0,p.Z)(os).scale(175.295)}function _s(Xe,nt){return[Xe*(1+A(nt))/2,2*(nt-x(nt/2))]}_s.invert=function(Xe,nt){for(var xt=nt/2,Tt=0,Bt=1/0;Tt<10&&L(Bt)>h;++Tt){var Ft=A(nt/2);nt-=Bt=(nt-x(nt/2)-xt)/(1-.5/(Ft*Ft))}return[2*Xe/(1+A(nt)),nt]};function ss(){return(0,p.Z)(_s).scale(152.63)}var jo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Cl(){return vi(ee(1/0),jo).rotate([20,0]).scale(152.63)}function Fs(Xe,nt){var xt=n(nt),Tt=A(nt),Bt=c(Xe);if(Xe===0||L(nt)===s)return[0,nt];if(nt===0)return[Xe,0];if(L(Xe)===s)return[Xe*Tt,s*xt];var Ft=f/(2*Xe)-2*Xe/f,Yt=2*nt/f,xr=(1-Yt*Yt)/(xt-Yt),Sr=Ft*Ft,dr=xr*xr,Pr=1+Sr/dr,zr=1+dr/Sr,en=(Ft*xt/xr-Ft/2)/Pr,sn=(dr*xt/Sr+xr/2)/zr,Mn=en*en+Tt*Tt/Pr,En=sn*sn-(dr*xt*xt/Sr+xr*xt-1)/zr;return[s*(en+F(Mn)*Bt),s*(sn+F(En<0?0:En)*c(-nt*Ft)*Bt)]}Fs.invert=function(Xe,nt){Xe/=s,nt/=s;var xt=Xe*Xe,Tt=nt*nt,Bt=xt+Tt,Ft=f*f;return[Xe?(Bt-1+F((1-Bt)*(1-Bt)+4*xt))/(2*Xe)*s:0,Te(function(Yt){return Bt*(f*n(Yt)-2*Yt)*f+4*Yt*Yt*(nt-n(Yt))+2*f*Yt-Ft*nt},0)]};function ks(){return(0,p.Z)(Fs).scale(127.267)}var Mr=1.0148,on=.23185,mn=-.14499,Zn=.02406,Ln=Mr,$n=5*on,na=7*mn,ba=9*Zn,ha=1.790857183;function Za(Xe,nt){var xt=nt*nt;return[Xe,nt*(Mr+xt*xt*(on+xt*(mn+Zn*xt)))]}Za.invert=function(Xe,nt){nt>ha?nt=ha:nt<-ha&&(nt=-ha);var xt=nt,Tt;do{var Bt=xt*xt;xt-=Tt=(xt*(Mr+Bt*Bt*(on+Bt*(mn+Zn*Bt)))-nt)/(Ln+Bt*Bt*($n+Bt*(na+ba*Bt)))}while(L(Tt)>h);return[Xe,xt]};function Xa(){return(0,p.Z)(Za).scale(139.319)}function Ka(Xe,nt){if(L(nt)<h)return[Xe,0];var xt=x(nt),Tt=Xe*n(nt);return[n(Tt)/xt,nt+(1-A(Tt))/xt]}Ka.invert=function(Xe,nt){if(L(nt)<h)return[Xe,0];var xt=Xe*Xe+nt*nt,Tt=nt*.5,Bt=10,Ft;do{var Yt=x(Tt),xr=1/A(Tt),Sr=xt-2*nt*Tt+Tt*Tt;Tt-=Ft=(Yt*Sr+2*(Tt-nt))/(2+Sr*xr*xr+2*(Tt-nt)*Yt)}while(L(Ft)>h&&--Bt>0);return Yt=x(Tt),[(L(nt)<L(Tt+1/Yt)?E(Xe*Yt):c(nt)*c(Xe)*(m(L(Xe*Yt))+s))/n(Tt),Tt]};function li(){return(0,p.Z)(Ka).scale(103.74)}var Ei=e(77338),Ga=e(83074);function ro(Xe,nt){var xt=Oi(Xe[1],Xe[0]),Tt=Oi(nt[1],nt[0]),Bt=Js(xt,Tt),Ft=zs(xt)/zs(Tt);return wo([1,0,Xe[0][0],0,1,Xe[0][1]],wo([Ft,0,0,0,Ft,0],wo([A(Bt),n(Bt),0,-n(Bt),A(Bt),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function ho(Xe){var nt=1/(Xe[0]*Xe[4]-Xe[1]*Xe[3]);return[nt*Xe[4],-nt*Xe[1],nt*(Xe[1]*Xe[5]-Xe[2]*Xe[4]),-nt*Xe[3],nt*Xe[0],nt*(Xe[2]*Xe[3]-Xe[0]*Xe[5])]}function wo(Xe,nt){return[Xe[0]*nt[0]+Xe[1]*nt[3],Xe[0]*nt[1]+Xe[1]*nt[4],Xe[0]*nt[2]+Xe[1]*nt[5]+Xe[2],Xe[3]*nt[0]+Xe[4]*nt[3],Xe[3]*nt[1]+Xe[4]*nt[4],Xe[3]*nt[2]+Xe[4]*nt[5]+Xe[5]]}function Oi(Xe,nt){return[Xe[0]-nt[0],Xe[1]-nt[1]]}function zs(Xe){return F(Xe[0]*Xe[0]+Xe[1]*Xe[1])}function Js(Xe,nt){return P(Xe[0]*nt[1]-Xe[1]*nt[0],Xe[0]*nt[0]+Xe[1]*nt[1])}function ai(Xe,nt,xt){Tt(Xe,{transform:null});function Tt(dr,Pr){if(dr.edges=Ll(dr.face),Pr.face){var zr=dr.shared=Gl(dr.face,Pr.face),en=ro(zr.map(Pr.project),zr.map(dr.project));dr.transform=Pr.transform?wo(Pr.transform,en):en;for(var sn=Pr.edges,Mn=0,En=sn.length;Mn<En;++Mn)Ts(zr[0],sn[Mn][1])&&Ts(zr[1],sn[Mn][0])&&(sn[Mn]=dr),Ts(zr[0],sn[Mn][0])&&Ts(zr[1],sn[Mn][1])&&(sn[Mn]=dr);for(sn=dr.edges,Mn=0,En=sn.length;Mn<En;++Mn)Ts(zr[0],sn[Mn][0])&&Ts(zr[1],sn[Mn][1])&&(sn[Mn]=Pr),Ts(zr[0],sn[Mn][1])&&Ts(zr[1],sn[Mn][0])&&(sn[Mn]=Pr)}else dr.transform=Pr.transform;return dr.children&&dr.children.forEach(function(zn){Tt(zn,dr)}),dr}function Bt(dr,Pr){var zr=nt(dr,Pr),en=zr.project([dr*w,Pr*w]),sn;return(sn=zr.transform)?[sn[0]*en[0]+sn[1]*en[1]+sn[2],-(sn[3]*en[0]+sn[4]*en[1]+sn[5])]:(en[1]=-en[1],en)}xf(Xe)&&(Bt.invert=function(dr,Pr){var zr=Ft(Xe,[dr,-Pr]);return zr&&(zr[0]*=b,zr[1]*=b,zr)});function Ft(dr,Pr){var zr=dr.project.invert,en=dr.transform,sn=Pr;if(en&&(en=ho(en),sn=[en[0]*sn[0]+en[1]*sn[1]+en[2],en[3]*sn[0]+en[4]*sn[1]+en[5]]),zr&&dr===Yt(Mn=zr(sn)))return Mn;for(var Mn,En=dr.children,zn=0,wa=En&&En.length;zn<wa;++zn)if(Mn=Ft(En[zn],Pr))return Mn}function Yt(dr){return nt(dr[0]*b,dr[1]*b)}var xr=(0,p.Z)(Bt),Sr=xr.stream;return xr.stream=function(dr){var Pr=xr.rotate(),zr=Sr(dr),en=(xr.rotate([0,0]),Sr(dr));return xr.rotate(Pr),zr.sphere=function(){en.polygonStart(),en.lineStart(),Gf(en,Xe),en.lineEnd(),en.polygonEnd()},zr},xr.angle(xt==null?-30:xt*w)}function Gf(Xe,nt,xt){var Tt,Bt=nt.edges,Ft=Bt.length,Yt,xr={type:"MultiPoint",coordinates:nt.face},Sr=nt.face.filter(function(En){return L(En[1])!==90}),dr=(0,Ei.Z)({type:"MultiPoint",coordinates:Sr}),Pr=!1,zr=-1,en=dr[1][0]-dr[0][0],sn=en===180||en===360?[(dr[0][0]+dr[1][0])/2,(dr[0][1]+dr[1][1])/2]:(0,Fe.Z)(xr);if(xt)for(;++zr<Ft&&Bt[zr]!==xt;);++zr;for(var Mn=0;Mn<Ft;++Mn)Yt=Bt[(Mn+zr)%Ft],Array.isArray(Yt)?(Pr||(Xe.point((Tt=(0,Ga.Z)(Yt[0],sn)(h))[0],Tt[1]),Pr=!0),Xe.point((Tt=(0,Ga.Z)(Yt[1],sn)(h))[0],Tt[1])):(Pr=!1,Yt!==xt&&Gf(Xe,Yt,nt))}function Ts(Xe,nt){return Xe&&nt&&Xe[0]===nt[0]&&Xe[1]===nt[1]}function Gl(Xe,nt){for(var xt,Tt,Bt=Xe.length,Ft=null,Yt=0;Yt<Bt;++Yt){xt=Xe[Yt];for(var xr=nt.length;--xr>=0;)if(Tt=nt[xr],xt[0]===Tt[0]&&xt[1]===Tt[1]){if(Ft)return[Ft,xt];Ft=xt}}}function Ll(Xe){for(var nt=Xe.length,xt=[],Tt=Xe[nt-1],Bt=0;Bt<nt;++Bt)xt.push([Tt,Tt=Xe[Bt]]);return xt}function xf(Xe){return Xe.project.invert||Xe.children&&Xe.children.some(xf)}var lo=e(98936),vu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ko=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xe){return Xe.map(function(nt){return vu[nt]})});function Qs(Xe){Xe=Xe||function(xt){var Tt=(0,Fe.Z)({type:"MultiPoint",coordinates:xt});return(0,lo.Z)().scale(1).translate([0,0]).rotate([-Tt[0],-Tt[1]])};var nt=Ko.map(function(xt){return{face:xt,project:Xe(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,Tt){var Bt=nt[xt];Bt&&(Bt.children||(Bt.children=[])).push(nt[Tt])}),ai(nt[0],function(xt,Tt){return nt[xt<-f/2?Tt<0?6:4:xt<0?Tt<0?2:0:xt<f/2?Tt<0?3:1:Tt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var $s=2/F(3);function ul(Xe,nt){var xt=Oe(Xe,nt);return[xt[0]*$s,xt[1]]}ul.invert=function(Xe,nt){return Oe.invert(Xe/$s,nt)};function fl(Xe){Xe=Xe||function(xt){var Tt=(0,Fe.Z)({type:"MultiPoint",coordinates:xt});return(0,p.Z)(ul).translate([0,0]).scale(1).rotate(Tt[1]>0?[-Tt[0],0]:[180-Tt[0],180])};var nt=Ko.map(function(xt){return{face:xt,project:Xe(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,Tt){var Bt=nt[xt];Bt&&(Bt.children||(Bt.children=[])).push(nt[Tt])}),ai(nt[0],function(xt,Tt){return nt[xt<-f/2?Tt<0?6:4:xt<0?Tt<0?2:0:xt<f/2?Tt<0?3:1:Tt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function cl(Xe){Xe=Xe||function(Yt){var xr=Yt.length===6?(0,Fe.Z)({type:"MultiPoint",coordinates:Yt}):Yt[0];return(0,lo.Z)().scale(1).translate([0,0]).rotate([-xr[0],-xr[1]])};var nt=Ko.map(function(Yt){for(var xr=Yt.map(pu),Sr=xr.length,dr=xr[Sr-1],Pr,zr=[],en=0;en<Sr;++en)Pr=xr[en],zr.push(du([dr[0]*.9486832980505138+Pr[0]*.31622776601683794,dr[1]*.9486832980505138+Pr[1]*.31622776601683794,dr[2]*.9486832980505138+Pr[2]*.31622776601683794]),du([Pr[0]*.9486832980505138+dr[0]*.31622776601683794,Pr[1]*.9486832980505138+dr[1]*.31622776601683794,Pr[2]*.9486832980505138+dr[2]*.31622776601683794])),dr=Pr;return zr}),xt=[],Tt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Yt,xr){for(var Sr=Ko[xr],dr=Sr.length,Pr=xt[xr]=[],zr=0;zr<dr;++zr)nt.push([Sr[zr],Yt[(zr*2+2)%(2*dr)],Yt[(zr*2+1)%(2*dr)]]),Tt.push(xr),Pr.push(Os(pu(Yt[(zr*2+2)%(2*dr)]),pu(Yt[(zr*2+1)%(2*dr)])))});var Bt=nt.map(function(Yt){return{project:Xe(Yt),face:Yt}});Tt.forEach(function(Yt,xr){var Sr=Bt[Yt];Sr&&(Sr.children||(Sr.children=[])).push(Bt[xr])});function Ft(Yt,xr){var Sr=A(xr),dr=[Sr*A(Yt),Sr*n(Yt),n(xr)],Pr=Yt<-f/2?xr<0?6:4:Yt<0?xr<0?2:0:Yt<f/2?xr<0?3:1:xr<0?7:5,zr=xt[Pr];return Bt[As(zr[0],dr)<0?8+3*Pr:As(zr[1],dr)<0?8+3*Pr+1:As(zr[2],dr)<0?8+3*Pr+2:Pr]}return ai(Bt[0],Ft).angle(-30).scale(110.625).center([0,45])}function As(Xe,nt){for(var xt=0,Tt=Xe.length,Bt=0;xt<Tt;++xt)Bt+=Xe[xt]*nt[xt];return Bt}function Os(Xe,nt){return[Xe[1]*nt[2]-Xe[2]*nt[1],Xe[2]*nt[0]-Xe[0]*nt[2],Xe[0]*nt[1]-Xe[1]*nt[0]]}function du(Xe){return[P(Xe[1],Xe[0])*w,E(r(-1,u(1,Xe[2])))*w]}function pu(Xe){var nt=Xe[0]*b,xt=Xe[1]*b,Tt=A(xt);return[Tt*A(nt),Tt*n(nt),n(xt)]}function Uu(){}function Sc(Xe){if((xt=Xe.length)<4)return!1;for(var nt=0,xt,Tt=Xe[xt-1][1]*Xe[0][0]-Xe[xt-1][0]*Xe[0][1];++nt<xt;)Tt+=Xe[nt-1][1]*Xe[nt][0]-Xe[nt-1][0]*Xe[nt][1];return Tt<=0}function Ec(Xe,nt){for(var xt=nt[0],Tt=nt[1],Bt=!1,Ft=0,Yt=Xe.length,xr=Yt-1;Ft<Yt;xr=Ft++){var Sr=Xe[Ft],dr=Sr[0],Pr=Sr[1],zr=Xe[xr],en=zr[0],sn=zr[1];Pr>Tt^sn>Tt&&xt<(en-dr)*(Tt-Pr)/(sn-Pr)+dr&&(Bt=!Bt)}return Bt}function Cc(Xe,nt){var xt=nt.stream,Tt;if(!xt)throw new Error("invalid projection");switch(Xe&&Xe.type){case"Feature":Tt=Hu;break;case"FeatureCollection":Tt=Lc;break;default:Tt=Wl;break}return Tt(Xe,xt)}function Lc(Xe,nt){return{type:"FeatureCollection",features:Xe.features.map(function(xt){return Hu(xt,nt)})}}function Hu(Xe,nt){return{type:"Feature",id:Xe.id,properties:Xe.properties,geometry:Wl(Xe.geometry,nt)}}function Wf(Xe,nt){return{type:"GeometryCollection",geometries:Xe.geometries.map(function(xt){return Wl(xt,nt)})}}function Wl(Xe,nt){if(!Xe)return null;if(Xe.type==="GeometryCollection")return Wf(Xe,nt);var xt;switch(Xe.type){case"Point":xt=gu;break;case"MultiPoint":xt=gu;break;case"LineString":xt=Pl;break;case"MultiLineString":xt=Pl;break;case"Polygon":xt=yu;break;case"MultiPolygon":xt=yu;break;case"Sphere":xt=yu;break;default:return null}return(0,ka.Z)(Xe,nt(xt)),xt.result()}var Po=[],Jo=[],gu={point:function(Xe,nt){Po.push([Xe,nt])},result:function(){var Xe=Po.length?Po.length<2?{type:"Point",coordinates:Po[0]}:{type:"MultiPoint",coordinates:Po}:null;return Po=[],Xe}},Pl={lineStart:Uu,point:function(Xe,nt){Po.push([Xe,nt])},lineEnd:function(){Po.length&&(Jo.push(Po),Po=[])},result:function(){var Xe=Jo.length?Jo.length<2?{type:"LineString",coordinates:Jo[0]}:{type:"MultiLineString",coordinates:Jo}:null;return Jo=[],Xe}},yu={polygonStart:Uu,lineStart:Uu,point:function(Xe,nt){Po.push([Xe,nt])},lineEnd:function(){var Xe=Po.length;if(Xe){do Po.push(Po[0].slice());while(++Xe<4);Jo.push(Po),Po=[]}},polygonEnd:Uu,result:function(){if(!Jo.length)return null;var Xe=[],nt=[];return Jo.forEach(function(xt){Sc(xt)?Xe.push([xt]):nt.push(xt)}),nt.forEach(function(xt){var Tt=xt[0];Xe.some(function(Bt){if(Ec(Bt[0],Tt))return Bt.push(xt),!0})||Xe.push([xt])}),Jo=[],Xe.length?Xe.length>1?{type:"MultiPolygon",coordinates:Xe}:{type:"Polygon",coordinates:Xe[0]}:null}};function Vu(Xe){var nt=Xe(s,0)[0]-Xe(-s,0)[0];function xt(Tt,Bt){var Ft=L(Tt)<s,Yt=Xe(Ft?Tt:Tt>0?Tt-f:Tt+f,Bt),xr=(Yt[0]-Yt[1])*S,Sr=(Yt[0]+Yt[1])*S;if(Ft)return[xr,Sr];var dr=nt*S,Pr=xr>0^Sr>0?-1:1;return[Pr*xr-c(Sr)*dr,Pr*Sr-c(xr)*dr]}return Xe.invert&&(xt.invert=function(Tt,Bt){var Ft=(Tt+Bt)*S,Yt=(Bt-Tt)*S,xr=L(Ft)<.5*nt&&L(Yt)<.5*nt;if(!xr){var Sr=nt*S,dr=Ft>0^Yt>0?-1:1,Pr=-dr*Tt+(Yt>0?1:-1)*Sr,zr=-dr*Bt+(Ft>0?1:-1)*Sr;Ft=(-Pr-zr)*S,Yt=(Pr-zr)*S}var en=Xe.invert(Ft,Yt);return xr||(en[0]+=Ft>0?f:-f),en}),(0,p.Z)(xt).rotate([-90,-90,45]).clipAngle(179.999)}function Pc(){return Vu(Tn).scale(176.423)}function Yf(){return Vu(Or).scale(111.48)}function Zf(Xe,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function xt(dr){var Pr=dr.length,zr=2,en=new Array(Pr);for(en[0]=+dr[0].toFixed(nt),en[1]=+dr[1].toFixed(nt);zr<Pr;)en[zr]=dr[zr],++zr;return en}function Tt(dr){return dr.map(xt)}function Bt(dr){for(var Pr=xt(dr[0]),zr=[Pr],en=1;en<dr.length;en++){var sn=xt(dr[en]);(sn.length>2||sn[0]!=Pr[0]||sn[1]!=Pr[1])&&(zr.push(sn),Pr=sn)}return zr.length===1&&dr.length>1&&zr.push(xt(dr[dr.length-1])),zr}function Ft(dr){return dr.map(Bt)}function Yt(dr){if(dr==null)return dr;var Pr;switch(dr.type){case"GeometryCollection":Pr={type:"GeometryCollection",geometries:dr.geometries.map(Yt)};break;case"Point":Pr={type:"Point",coordinates:xt(dr.coordinates)};break;case"MultiPoint":Pr={type:dr.type,coordinates:Tt(dr.coordinates)};break;case"LineString":Pr={type:dr.type,coordinates:Bt(dr.coordinates)};break;case"MultiLineString":case"Polygon":Pr={type:dr.type,coordinates:Ft(dr.coordinates)};break;case"MultiPolygon":Pr={type:"MultiPolygon",coordinates:dr.coordinates.map(Ft)};break;default:return dr}return dr.bbox!=null&&(Pr.bbox=dr.bbox),Pr}function xr(dr){var Pr={type:"Feature",properties:dr.properties,geometry:Yt(dr.geometry)};return dr.id!=null&&(Pr.id=dr.id),dr.bbox!=null&&(Pr.bbox=dr.bbox),Pr}if(Xe!=null)switch(Xe.type){case"Feature":return xr(Xe);case"FeatureCollection":{var Sr={type:"FeatureCollection",features:Xe.features.map(xr)};return Xe.bbox!=null&&(Sr.bbox=Xe.bbox),Sr}default:return Yt(Xe)}return Xe}function bf(Xe){var nt=n(Xe);function xt(Tt,Bt){var Ft=nt?x(Tt*nt/2)/nt:Tt/2;if(!Bt)return[2*Ft,-Xe];var Yt=2*a(Ft*n(Bt)),xr=1/x(Bt);return[n(Yt)*xr,Bt+(1-A(Yt))*xr-Xe]}return xt.invert=function(Tt,Bt){if(L(Bt+=Xe)<h)return[nt?2*a(nt*Tt/2)/nt:Tt,0];var Ft=Tt*Tt+Bt*Bt,Yt=0,xr=10,Sr;do{var dr=x(Yt),Pr=1/A(Yt),zr=Ft-2*Bt*Yt+Yt*Yt;Yt-=Sr=(dr*zr+2*(Yt-Bt))/(2+zr*Pr*Pr+2*(Yt-Bt)*dr)}while(L(Sr)>h&&--xr>0);var en=Tt*(dr=x(Yt)),sn=x(L(Bt)<L(Yt+1/dr)?E(en)*.5:m(en)*.5+f/4)/n(Yt);return[nt?2*a(nt*sn)/nt:2*sn,Yt]},xt}function hl(){return lt(bf).scale(131.215)}var uo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];uo.forEach(function(Xe){Xe[1]*=1.0144});function Bs(Xe,nt){var xt=u(18,L(nt)*36/f),Tt=g(xt),Bt=xt-Tt,Ft=(zr=uo[Tt])[0],Yt=zr[1],xr=(zr=uo[++Tt])[0],Sr=zr[1],dr=(zr=uo[u(19,++Tt)])[0],Pr=zr[1],zr;return[Xe*(xr+Bt*(dr-Ft)/2+Bt*Bt*(dr-2*xr+Ft)/2),(nt>0?s:-s)*(Sr+Bt*(Pr-Yt)/2+Bt*Bt*(Pr-2*Sr+Yt)/2)]}Bs.invert=function(Xe,nt){var xt=nt/s,Tt=xt*90,Bt=u(18,L(Tt/5)),Ft=r(0,g(Bt));do{var Yt=uo[Ft][1],xr=uo[Ft+1][1],Sr=uo[u(19,Ft+2)][1],dr=Sr-Yt,Pr=Sr-2*xr+Yt,zr=2*(L(xt)-xr)/dr,en=Pr/dr,sn=zr*(1-en*zr*(1-2*en*zr));if(sn>=0||Ft===1){Tt=(nt>=0?5:-5)*(sn+Bt);var Mn=50,En;do Bt=u(18,L(Tt)/5),Ft=g(Bt),sn=Bt-Ft,Yt=uo[Ft][1],xr=uo[Ft+1][1],Sr=uo[u(19,Ft+2)][1],Tt-=(En=(nt>=0?s:-s)*(xr+sn*(Sr-Yt)/2+sn*sn*(Sr-2*xr+Yt)/2)-nt)*w;while(L(En)>T&&--Mn>0);break}}while(--Ft>=0);var zn=uo[Ft][0],wa=uo[Ft+1][0],_a=uo[u(19,Ft+2)][0];return[Xe/(wa+sn*(_a-zn)/2+sn*sn*(_a-2*wa+zn)/2),Tt*b]};function wf(){return(0,p.Z)(Bs).scale(152.63)}function Xf(Xe){function nt(xt,Tt){var Bt=A(Tt),Ft=(Xe-1)/(Xe-Bt*A(xt));return[Ft*Bt*n(xt),Ft*n(Tt)]}return nt.invert=function(xt,Tt){var Bt=xt*xt+Tt*Tt,Ft=F(Bt),Yt=(Xe-F(1-Bt*(Xe+1)/(Xe-1)))/((Xe-1)/Ft+Ft/(Xe-1));return[P(xt*Yt,Ft*F(1-Yt*Yt)),Ft?E(Tt*Yt/Ft):0]},nt}function Rl(Xe,nt){var xt=Xf(Xe);if(!nt)return xt;var Tt=A(nt),Bt=n(nt);function Ft(Yt,xr){var Sr=xt(Yt,xr),dr=Sr[1],Pr=dr*Bt/(Xe-1)+Tt;return[Sr[0]*Tt/Pr,dr/Pr]}return Ft.invert=function(Yt,xr){var Sr=(Xe-1)/(Xe-1-xr*Bt);return xt.invert(Sr*Yt,Sr*xr*Tt)},Ft}function Gu(){var Xe=2,nt=0,xt=(0,p.r)(Rl),Tt=xt(Xe,nt);return Tt.distance=function(Bt){return arguments.length?xt(Xe=+Bt,nt):Xe},Tt.tilt=function(Bt){return arguments.length?xt(Xe,nt=Bt*b):nt*w},Tt.scale(432.147).clipAngle(m(1/Xe)*w-1e-6)}var Ms=1e-4,Wu=1e4,qs=-180,el=qs+Ms,Tf=180,Yl=Tf-Ms,Ci=-90,Dl=Ci+Ms,Yu=90,Zu=Yu-Ms;function vl(Xe){return Xe.length>0}function Rc(Xe){return Math.floor(Xe*Wu)/Wu}function Af(Xe){return Xe===Ci||Xe===Yu?[0,Xe]:[qs,Rc(Xe)]}function Zl(Xe){var nt=Xe[0],xt=Xe[1],Tt=!1;return nt<=el?(nt=qs,Tt=!0):nt>=Yl&&(nt=Tf,Tt=!0),xt<=Dl?(xt=Ci,Tt=!0):xt>=Zu&&(xt=Yu,Tt=!0),Tt?[nt,xt]:Xe}function Mf(Xe){return Xe.map(Zl)}function jf(Xe,nt,xt){for(var Tt=0,Bt=Xe.length;Tt<Bt;++Tt){var Ft=Xe[Tt].slice();xt.push({index:-1,polygon:nt,ring:Ft});for(var Yt=0,xr=Ft.length;Yt<xr;++Yt){var Sr=Ft[Yt],dr=Sr[0],Pr=Sr[1];if(dr<=el||dr>=Yl||Pr<=Dl||Pr>=Zu){Ft[Yt]=Zl(Sr);for(var zr=Yt+1;zr<xr;++zr){var en=Ft[zr],sn=en[0],Mn=en[1];if(sn>el&&sn<Yl&&Mn>Dl&&Mn<Zu)break}if(zr===Yt+1)continue;if(Yt){var En={index:-1,polygon:nt,ring:Ft.slice(0,Yt+1)};En.ring[En.ring.length-1]=Af(Pr),xt[xt.length-1]=En}else xt.pop();if(zr>=xr)break;xt.push({index:-1,polygon:nt,ring:Ft=Ft.slice(zr-1)}),Ft[0]=Af(Ft[0][1]),Yt=-1,xr=Ft.length}}}}function tl(Xe){var nt,xt=Xe.length,Tt={},Bt={},Ft,Yt,xr,Sr,dr;for(nt=0;nt<xt;++nt){if(Ft=Xe[nt],Yt=Ft.ring[0],Sr=Ft.ring[Ft.ring.length-1],Yt[0]===Sr[0]&&Yt[1]===Sr[1]){Ft.polygon.push(Ft.ring),Xe[nt]=null;continue}Ft.index=nt,Tt[Yt]=Bt[Sr]=Ft}for(nt=0;nt<xt;++nt)if(Ft=Xe[nt],Ft){if(Yt=Ft.ring[0],Sr=Ft.ring[Ft.ring.length-1],xr=Bt[Yt],dr=Tt[Sr],delete Tt[Yt],delete Bt[Sr],Yt[0]===Sr[0]&&Yt[1]===Sr[1]){Ft.polygon.push(Ft.ring);continue}xr?(delete Bt[Yt],delete Tt[xr.ring[0]],xr.ring.pop(),Xe[xr.index]=null,Ft={index:-1,polygon:xr.polygon,ring:xr.ring.concat(Ft.ring)},xr===dr?Ft.polygon.push(Ft.ring):(Ft.index=xt++,Xe.push(Tt[Ft.ring[0]]=Bt[Ft.ring[Ft.ring.length-1]]=Ft))):dr?(delete Tt[Sr],delete Bt[dr.ring[dr.ring.length-1]],Ft.ring.pop(),Ft={index:xt++,polygon:dr.polygon,ring:Ft.ring.concat(dr.ring)},Xe[dr.index]=null,Xe.push(Tt[Ft.ring[0]]=Bt[Ft.ring[Ft.ring.length-1]]=Ft)):(Ft.ring.push(Ft.ring[0]),Ft.polygon.push(Ft.ring))}}function dl(Xe){var nt={type:"Feature",geometry:Il(Xe.geometry)};return Xe.id!=null&&(nt.id=Xe.id),Xe.bbox!=null&&(nt.bbox=Xe.bbox),Xe.properties!=null&&(nt.properties=Xe.properties),nt}function Il(Xe){if(Xe==null)return Xe;var nt,xt,Tt,Bt;switch(Xe.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Xe.geometries.map(Il)};break;case"Point":nt={type:"Point",coordinates:Zl(Xe.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Xe.type,coordinates:Mf(Xe.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Xe.coordinates.map(Mf)};break;case"Polygon":{var Ft=[];jf(Xe.coordinates,Ft,xt=[]),tl(xt),nt={type:"Polygon",coordinates:Ft};break}case"MultiPolygon":{xt=[],Tt=-1,Bt=Xe.coordinates.length;for(var Yt=new Array(Bt);++Tt<Bt;)jf(Xe.coordinates[Tt],Yt[Tt]=[],xt);tl(xt),nt={type:"MultiPolygon",coordinates:Yt.filter(vl)};break}default:return Xe}return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}function _l(Xe){if(Xe==null)return Xe;switch(Xe.type){case"Feature":return dl(Xe);case"FeatureCollection":{var nt={type:"FeatureCollection",features:Xe.features.map(dl)};return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}default:return Il(Xe)}}function Qo(Xe,nt){var xt=x(nt/2),Tt=n(d*xt);return[Xe*(.74482-.34588*Tt*Tt),1.70711*xt]}Qo.invert=function(Xe,nt){var xt=nt/1.70711,Tt=n(d*xt);return[Xe/(.74482-.34588*Tt*Tt),2*a(xt)]};function rs(){return(0,p.Z)(Qo).scale(146.153)}function Fl(Xe,nt,xt){var Tt=(0,Ga.Z)(nt,xt),Bt=Tt(.5),Ft=(0,qe.Z)([-Bt[0],-Bt[1]])(nt),Yt=Tt.distance/2,xr=-E(n(Ft[1]*b)/n(Yt)),Sr=[-Bt[0],-Bt[1],-(Ft[0]>0?f-xr:xr)*w],dr=(0,p.Z)(Xe(Yt)).rotate(Sr),Pr=(0,qe.Z)(Sr),zr=dr.center;return delete dr.rotate,dr.center=function(en){return arguments.length?zr(Pr(en)):Pr.invert(zr())},dr.clipAngle(90)}function Kf(Xe){var nt=A(Xe);function xt(Tt,Bt){var Ft=(0,lo.M)(Tt,Bt);return Ft[0]*=nt,Ft}return xt.invert=function(Tt,Bt){return lo.M.invert(Tt/nt,Bt)},xt}function Xl(){return Xu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Xu(Xe,nt){return Fl(Kf,Xe,nt)}function Jf(Xe){if(!(Xe*=2))return ie.N;var nt=-Xe/2,xt=-nt,Tt=Xe*Xe,Bt=x(xt),Ft=.5/n(xt);function Yt(xr,Sr){var dr=m(A(Sr)*A(xr-nt)),Pr=m(A(Sr)*A(xr-xt)),zr=Sr<0?-1:1;return dr*=dr,Pr*=Pr,[(dr-Pr)/(2*Xe),zr*F(4*Tt*Pr-(Tt-dr+Pr)*(Tt-dr+Pr))/(2*Xe)]}return Yt.invert=function(xr,Sr){var dr=Sr*Sr,Pr=A(F(dr+(en=xr+nt)*en)),zr=A(F(dr+(en=xr+xt)*en)),en,sn;return[P(sn=Pr-zr,en=(Pr+zr)*Bt),(Sr<0?-1:1)*m(F(en*en+sn*sn)*Ft)]},Yt}function Ss(){return Sf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Sf(Xe,nt){return Fl(Jf,Xe,nt)}function pl(Xe,nt){if(L(nt)<h)return[Xe,0];var xt=L(nt/s),Tt=E(xt);if(L(Xe)<h||L(L(nt)-s)<h)return[0,c(nt)*f*x(Tt/2)];var Bt=A(Tt),Ft=L(f/Xe-Xe/f)/2,Yt=Ft*Ft,xr=Bt/(xt+Bt-1),Sr=xr*(2/xt-1),dr=Sr*Sr,Pr=dr+Yt,zr=xr-dr,en=Yt+xr;return[c(Xe)*f*(Ft*zr+F(Yt*zr*zr-Pr*(xr*xr-dr)))/Pr,c(nt)*f*(Sr*en-Ft*F((Yt+1)*Pr-en*en))/Pr]}pl.invert=function(Xe,nt){if(L(nt)<h)return[Xe,0];if(L(Xe)<h)return[0,s*n(2*a(nt/f))];var xt=(Xe/=f)*Xe,Tt=(nt/=f)*nt,Bt=xt+Tt,Ft=Bt*Bt,Yt=-L(nt)*(1+Bt),xr=Yt-2*Tt+xt,Sr=-2*Yt+1+2*Tt+Ft,dr=Tt/Sr+(2*xr*xr*xr/(Sr*Sr*Sr)-9*Yt*xr/(Sr*Sr))/27,Pr=(Yt-xr*xr/(3*Sr))/Sr,zr=2*F(-Pr/3),en=m(3*dr/(Pr*zr))/3;return[f*(Bt-1+F(1+2*(xt-Tt)+Ft))/(2*Xe),c(nt)*f*(-zr*A(en+f/3)-xr/(3*Sr))]};function mu(){return(0,p.Z)(pl).scale(79.4183)}function rl(Xe,nt){if(L(nt)<h)return[Xe,0];var xt=L(nt/s),Tt=E(xt);if(L(Xe)<h||L(L(nt)-s)<h)return[0,c(nt)*f*x(Tt/2)];var Bt=A(Tt),Ft=L(f/Xe-Xe/f)/2,Yt=Ft*Ft,xr=Bt*(F(1+Yt)-Ft*Bt)/(1+Yt*xt*xt);return[c(Xe)*f*xr,c(nt)*f*F(1-xr*(2*Ft+xr))]}rl.invert=function(Xe,nt){if(!Xe)return[0,s*n(2*a(nt/f))];var xt=L(Xe/f),Tt=(1-xt*xt-(nt/=f)*nt)/(2*xt),Bt=Tt*Tt,Ft=F(Bt+1);return[c(Xe)*f*(Ft-Tt),c(nt)*s*n(2*P(F((1-2*Tt*xt)*(Tt+Ft)-xt),F(Ft+Tt+xt)))]};function Dc(){return(0,p.Z)(rl).scale(79.4183)}function Ef(Xe,nt){if(L(nt)<h)return[Xe,0];var xt=nt/s,Tt=E(xt);if(L(Xe)<h||L(L(nt)-s)<h)return[0,f*x(Tt/2)];var Bt=(f/Xe-Xe/f)/2,Ft=xt/(1+A(Tt));return[f*(c(Xe)*F(Bt*Bt+1-Ft*Ft)-Bt),f*Ft]}Ef.invert=function(Xe,nt){if(!nt)return[Xe,0];var xt=nt/f,Tt=(f*f*(1-xt*xt)-Xe*Xe)/(2*f*Xe);return[Xe?f*(c(Xe)*F(Tt*Tt+1)-Tt):0,s*n(2*a(xt))]};function ju(){return(0,p.Z)(Ef).scale(79.4183)}function Oo(Xe,nt){if(!nt)return[Xe,0];var xt=L(nt);if(!Xe||xt===s)return[0,nt];var Tt=xt/s,Bt=Tt*Tt,Ft=(8*Tt-Bt*(Bt+2)-5)/(2*Bt*(Tt-1)),Yt=Ft*Ft,xr=Tt*Ft,Sr=Bt+Yt+2*xr,dr=Tt+3*Ft,Pr=Xe/s,zr=Pr+1/Pr,en=c(L(Xe)-s)*F(zr*zr-4),sn=en*en,Mn=Sr*(Bt+Yt*sn-1)+(1-Bt)*(Bt*(dr*dr+4*Yt)+12*xr*Yt+4*Yt*Yt),En=(en*(Sr+Yt-1)+2*F(Mn))/(4*Sr+sn);return[c(Xe)*s*En,c(nt)*s*F(1+en*L(En)-En*En)]}Oo.invert=function(Xe,nt){var xt;if(!Xe||!nt)return[Xe,nt];nt/=f;var Tt=c(Xe)*Xe/s,Bt=(Tt*Tt-1+4*nt*nt)/L(Tt),Ft=Bt*Bt,Yt=2*nt,xr=50;do{var Sr=Yt*Yt,dr=(8*Yt-Sr*(Sr+2)-5)/(2*Sr*(Yt-1)),Pr=(3*Yt-Sr*Yt-10)/(2*Sr*Yt),zr=dr*dr,en=Yt*dr,sn=Yt+dr,Mn=sn*sn,En=Yt+3*dr,zn=Mn*(Sr+zr*Ft-1)+(1-Sr)*(Sr*(En*En+4*zr)+zr*(12*en+4*zr)),wa=-2*sn*(4*en*zr+(1-4*Sr+3*Sr*Sr)*(1+Pr)+zr*(-6+14*Sr-Ft+(-8+8*Sr-2*Ft)*Pr)+en*(-8+12*Sr+(-10+10*Sr-Ft)*Pr)),_a=F(zn),za=Bt*(Mn+zr-1)+2*_a-Tt*(4*Mn+Ft),Oa=Bt*(2*dr*Pr+2*sn*(1+Pr))+wa/_a-8*sn*(Bt*(-1+zr+Mn)+2*_a)*(1+Pr)/(Ft+4*Mn);Yt-=xt=za/Oa}while(xt>h&&--xr>0);return[c(Xe)*(F(Bt*Bt+4)+Bt)*f/4,s*Yt]};function Qf(){return(0,p.Z)(Oo).scale(127.16)}function xu(Xe,nt,xt,Tt,Bt){function Ft(Yt,xr){var Sr=xt*n(Tt*xr),dr=F(1-Sr*Sr),Pr=F(2/(1+dr*A(Yt*=Bt)));return[Xe*dr*Pr*n(Yt),nt*Sr*Pr]}return Ft.invert=function(Yt,xr){var Sr=Yt/Xe,dr=xr/nt,Pr=F(Sr*Sr+dr*dr),zr=2*E(Pr/2);return[P(Yt*x(zr),Xe*Pr)/Bt,Pr&&E(xr*n(zr)/(nt*xt*Pr))/Tt]},Ft}function Ns(Xe,nt,xt,Tt){var Bt=f/3;Xe=r(Xe,h),nt=r(nt,h),Xe=u(Xe,s),nt=u(nt,f-h),xt=r(xt,0),xt=u(xt,100-h),Tt=r(Tt,h);var Ft=xt/100+1,Yt=Tt/100,xr=m(Ft*A(Bt))/Bt,Sr=n(Xe)/n(xr*s),dr=nt/f,Pr=F(Yt*n(Xe/2)/n(nt/2)),zr=Pr/F(dr*Sr*xr),en=1/(Pr*F(dr*Sr*xr));return xu(zr,en,Sr,xr,dr)}function bu(){var Xe=65*b,nt=60*b,xt=20,Tt=200,Bt=(0,p.r)(Ns),Ft=Bt(Xe,nt,xt,Tt);return Ft.poleline=function(Yt){return arguments.length?Bt(Xe=+Yt*b,nt,xt,Tt):Xe*w},Ft.parallels=function(Yt){return arguments.length?Bt(Xe,nt=+Yt*b,xt,Tt):nt*w},Ft.inflation=function(Yt){return arguments.length?Bt(Xe,nt,xt=+Yt,Tt):xt},Ft.ratio=function(Yt){return arguments.length?Bt(Xe,nt,xt,Tt=+Yt):Tt},Ft.scale(163.775)}function yl(){return bu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Ku=4*f+3*F(3),$f=2*F(2*f*F(3)/Ku),Cf=be($f*F(3)/f,$f,Ku/6);function Lf(){return(0,p.Z)(Cf).scale(176.84)}function kl(Xe,nt){return[Xe*F(1-3*nt*nt/(f*f)),nt]}kl.invert=function(Xe,nt){return[Xe/F(1-3*nt*nt/(f*f)),nt]};function Ju(){return(0,p.Z)(kl).scale(152.63)}function wu(Xe,nt){var xt=A(nt),Tt=A(Xe)*xt,Bt=1-Tt,Ft=A(Xe=P(n(Xe)*xt,-n(nt))),Yt=n(Xe);return xt=F(1-Tt*Tt),[Yt*xt-Ft*Bt,-Ft*xt-Yt*Bt]}wu.invert=function(Xe,nt){var xt=(Xe*Xe+nt*nt)/-2,Tt=F(-xt*(2+xt)),Bt=nt*xt+Xe*Tt,Ft=Xe*xt-nt*Tt,Yt=F(Ft*Ft+Bt*Bt);return[P(Tt*Bt,Yt*(1+xt)),Yt?-E(Tt*Ft/Yt):0]};function qf(){return(0,p.Z)(wu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Tu(Xe,nt){var xt=K(Xe,nt);return[(xt[0]+Xe/s)/2,(xt[1]+nt)/2]}Tu.invert=function(Xe,nt){var xt=Xe,Tt=nt,Bt=25;do{var Ft=A(Tt),Yt=n(Tt),xr=n(2*Tt),Sr=Yt*Yt,dr=Ft*Ft,Pr=n(xt),zr=A(xt/2),en=n(xt/2),sn=en*en,Mn=1-dr*zr*zr,En=Mn?m(Ft*zr)*F(zn=1/Mn):zn=0,zn,wa=.5*(2*En*Ft*en+xt/s)-Xe,_a=.5*(En*Yt+Tt)-nt,za=.5*zn*(dr*sn+En*Ft*zr*Sr)+.5/s,Oa=zn*(Pr*xr/4-En*Yt*en),Ua=.125*zn*(xr*en-En*Yt*dr*Pr),Ti=.5*zn*(Sr*zr+En*sn*Ft)+.5,eo=Oa*Ua-Ti*za,ki=(_a*Oa-wa*Ti)/eo,le=(wa*Ua-_a*za)/eo;xt-=ki,Tt-=le}while((L(ki)>h||L(le)>h)&&--Bt>0);return[xt,Tt]};function ec(){return(0,p.Z)(Tu).scale(158.837)}},33940:function(W,U,e){e.d(U,{Z:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(A){P(a,A,this.t),P(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new L;function P(A,v,g){var t=A.s=v+g,r=t-v,u=t-r;A.t=v-u+(g-r)}},97860:function(W,U,e){e.d(U,{L9:function(){return A},ZP:function(){return T},gL:function(){return l}});var p=e(33940),L=e(39695),a=e(73182),P=e(72736),A=(0,p.Z)(),v=(0,p.Z)(),g,t,r,u,o,l={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){A.reset(),l.lineStart=c,l.lineEnd=n},polygonEnd:function(){var f=+A;v.add(f<0?L.BZ+f:f),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){v.add(L.BZ)}};function c(){l.point=x}function n(){h(g,t)}function x(f,s){l.point=h,g=f,t=s,f*=L.uR,s*=L.uR,r=f,u=(0,L.mC)(s=s/2+L.pu),o=(0,L.O$)(s)}function h(f,s){f*=L.uR,s*=L.uR,s=s/2+L.pu;var d=f-r,S=d>=0?1:-1,M=S*d,C=(0,L.mC)(s),y=(0,L.O$)(s),w=o*y,b=u*C+w*(0,L.mC)(M),i=w*S*(0,L.O$)(M);A.add((0,L.fv)(i,b)),r=f,u=C,o=y}function T(f){return v.reset(),(0,P.Z)(f,l),v*2}},77338:function(W,U,e){e.d(U,{Z:function(){return E}});var p=e(33940),L=e(97860),a=e(7620),P=e(39695),A=e(72736),v,g,t,r,u,o,l,c,n=(0,p.Z)(),x,h,T={point:f,lineStart:d,lineEnd:S,polygonStart:function(){T.point=M,T.lineStart=C,T.lineEnd=y,n.reset(),L.gL.polygonStart()},polygonEnd:function(){L.gL.polygonEnd(),T.point=f,T.lineStart=d,T.lineEnd=S,L.L9<0?(v=-(t=180),g=-(r=90)):n>P.Ho?r=90:n<-P.Ho&&(g=-90),h[0]=v,h[1]=t},sphere:function(){v=-(t=180),g=-(r=90)}};function f(m,F){x.push(h=[v=m,t=m]),F<g&&(g=F),F>r&&(r=F)}function s(m,F){var _=(0,a.Og)([m*P.uR,F*P.uR]);if(c){var B=(0,a.T5)(c,_),I=[B[1],-B[0],0],O=(0,a.T5)(I,B);(0,a.iJ)(O),O=(0,a.Y1)(O);var z=m-u,k=z>0?1:-1,N=O[0]*P.RW*k,K,q=(0,P.Wn)(z)>180;q^(k*u<N&&N<k*m)?(K=O[1]*P.RW,K>r&&(r=K)):(N=(N+360)%360-180,q^(k*u<N&&N<k*m)?(K=-O[1]*P.RW,K<g&&(g=K)):(F<g&&(g=F),F>r&&(r=F))),q?m<u?w(v,m)>w(v,t)&&(t=m):w(m,t)>w(v,t)&&(v=m):t>=v?(m<v&&(v=m),m>t&&(t=m)):m>u?w(v,m)>w(v,t)&&(t=m):w(m,t)>w(v,t)&&(v=m)}else x.push(h=[v=m,t=m]);F<g&&(g=F),F>r&&(r=F),c=_,u=m}function d(){T.point=s}function S(){h[0]=v,h[1]=t,T.point=f,c=null}function M(m,F){if(c){var _=m-u;n.add((0,P.Wn)(_)>180?_+(_>0?360:-360):_)}else o=m,l=F;L.gL.point(m,F),s(m,F)}function C(){L.gL.lineStart()}function y(){M(o,l),L.gL.lineEnd(),(0,P.Wn)(n)>P.Ho&&(v=-(t=180)),h[0]=v,h[1]=t,c=null}function w(m,F){return(F-=m)<0?F+360:F}function b(m,F){return m[0]-F[0]}function i(m,F){return m[0]<=m[1]?m[0]<=F&&F<=m[1]:F<m[0]||m[1]<F}function E(m){var F,_,B,I,O,z,k;if(r=t=-(v=g=1/0),x=[],(0,A.Z)(m,T),_=x.length){for(x.sort(b),F=1,B=x[0],O=[B];F<_;++F)I=x[F],i(B,I[0])||i(B,I[1])?(w(B[0],I[1])>w(B[0],B[1])&&(B[1]=I[1]),w(I[0],B[1])>w(B[0],B[1])&&(B[0]=I[0])):O.push(B=I);for(z=-1/0,_=O.length-1,F=0,B=O[_];F<=_;B=I,++F)I=O[F],(k=w(B[1],I[0]))>z&&(z=k,v=I[0],t=B[1])}return x=h=null,v===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,g],[t,r]]}},7620:function(W,U,e){e.d(U,{Og:function(){return a},T:function(){return g},T5:function(){return A},Y1:function(){return L},iJ:function(){return t},j9:function(){return P},s0:function(){return v}});var p=e(39695);function L(r){return[(0,p.fv)(r[1],r[0]),(0,p.ZR)(r[2])]}function a(r){var u=r[0],o=r[1],l=(0,p.mC)(o);return[l*(0,p.mC)(u),l*(0,p.O$)(u),(0,p.O$)(o)]}function P(r,u){return r[0]*u[0]+r[1]*u[1]+r[2]*u[2]}function A(r,u){return[r[1]*u[2]-r[2]*u[1],r[2]*u[0]-r[0]*u[2],r[0]*u[1]-r[1]*u[0]]}function v(r,u){r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}function g(r,u){return[r[0]*u,r[1]*u,r[2]*u]}function t(r){var u=(0,p._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=u,r[1]/=u,r[2]/=u}},66624:function(W,U,e){e.d(U,{Z:function(){return _}});var p=e(39695),L=e(73182),a=e(72736),P,A,v,g,t,r,u,o,l,c,n,x,h,T,f,s,d={sphere:L.Z,point:S,lineStart:C,lineEnd:b,polygonStart:function(){d.lineStart=i,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=b}};function S(B,I){B*=p.uR,I*=p.uR;var O=(0,p.mC)(I);M(O*(0,p.mC)(B),O*(0,p.O$)(B),(0,p.O$)(I))}function M(B,I,O){++P,v+=(B-v)/P,g+=(I-g)/P,t+=(O-t)/P}function C(){d.point=y}function y(B,I){B*=p.uR,I*=p.uR;var O=(0,p.mC)(I);T=O*(0,p.mC)(B),f=O*(0,p.O$)(B),s=(0,p.O$)(I),d.point=w,M(T,f,s)}function w(B,I){B*=p.uR,I*=p.uR;var O=(0,p.mC)(I),z=O*(0,p.mC)(B),k=O*(0,p.O$)(B),N=(0,p.O$)(I),K=(0,p.fv)((0,p._b)((K=f*N-s*k)*K+(K=s*z-T*N)*K+(K=T*k-f*z)*K),T*z+f*k+s*N);A+=K,r+=K*(T+(T=z)),u+=K*(f+(f=k)),o+=K*(s+(s=N)),M(T,f,s)}function b(){d.point=S}function i(){d.point=m}function E(){F(x,h),d.point=S}function m(B,I){x=B,h=I,B*=p.uR,I*=p.uR,d.point=F;var O=(0,p.mC)(I);T=O*(0,p.mC)(B),f=O*(0,p.O$)(B),s=(0,p.O$)(I),M(T,f,s)}function F(B,I){B*=p.uR,I*=p.uR;var O=(0,p.mC)(I),z=O*(0,p.mC)(B),k=O*(0,p.O$)(B),N=(0,p.O$)(I),K=f*N-s*k,q=s*z-T*N,Q=T*k-f*z,re=(0,p._b)(K*K+q*q+Q*Q),oe=(0,p.ZR)(re),Y=re&&-oe/re;l+=Y*K,c+=Y*q,n+=Y*Q,A+=oe,r+=oe*(T+(T=z)),u+=oe*(f+(f=k)),o+=oe*(s+(s=N)),M(T,f,s)}function _(B){P=A=v=g=t=r=u=o=l=c=n=0,(0,a.Z)(B,d);var I=l,O=c,z=n,k=I*I+O*O+z*z;return k<p.aW&&(I=r,O=u,z=o,A<p.Ho&&(I=v,O=g,z=t),k=I*I+O*O+z*z,k<p.aW)?[NaN,NaN]:[(0,p.fv)(O,I)*p.RW,(0,p.ZR)(z/(0,p._b)(k))*p.RW]}},7613:function(W,U,e){e.d(U,{m:function(){return A},Z:function(){return g}});var p=e(7620);function L(t){return function(){return t}}var a=e(39695),P=e(49386);function A(t,r,u,o,l,c){if(u){var n=(0,a.mC)(r),x=(0,a.O$)(r),h=o*u;l==null?(l=r+o*a.BZ,c=r-h/2):(l=v(n,l),c=v(n,c),(o>0?l<c:l>c)&&(l+=o*a.BZ));for(var T,f=l;o>0?f>c:f<c;f-=h)T=(0,p.Y1)([n,-x*(0,a.mC)(f),-x*(0,a.O$)(f)]),t.point(T[0],T[1])}}function v(t,r){r=(0,p.Og)(r),r[0]-=t,(0,p.iJ)(r);var u=(0,a.Kh)(-r[1]);return((-r[2]<0?-u:u)+a.BZ-a.Ho)%a.BZ}function g(){var t=L([0,0]),r=L(90),u=L(6),o,l,c={point:n};function n(h,T){o.push(h=l(h,T)),h[0]*=a.RW,h[1]*=a.RW}function x(){var h=t.apply(this,arguments),T=r.apply(this,arguments)*a.uR,f=u.apply(this,arguments)*a.uR;return o=[],l=(0,P.I)(-h[0]*a.uR,-h[1]*a.uR,0).invert,A(c,T,f,1),h={type:"Polygon",coordinates:[o]},o=l=null,h}return x.center=function(h){return arguments.length?(t=typeof h=="function"?h:L([+h[0],+h[1]]),x):t},x.radius=function(h){return arguments.length?(r=typeof h=="function"?h:L(+h),x):r},x.precision=function(h){return arguments.length?(u=typeof h=="function"?h:L(+h),x):u},x}},87070:function(W,U,e){var p=e(97023),L=e(39695);U.Z=(0,p.Z)(function(){return!0},a,A,[-L.pi,-L.ou]);function a(v){var g=NaN,t=NaN,r=NaN,u;return{lineStart:function(){v.lineStart(),u=1},point:function(o,l){var c=o>0?L.pi:-L.pi,n=(0,L.Wn)(o-g);(0,L.Wn)(n-L.pi)<L.Ho?(v.point(g,t=(t+l)/2>0?L.ou:-L.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),v.point(o,t),u=0):r!==c&&n>=L.pi&&((0,L.Wn)(g-r)<L.Ho&&(g-=r*L.Ho),(0,L.Wn)(o-c)<L.Ho&&(o-=c*L.Ho),t=P(g,t,o,l),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),u=0),v.point(g=o,t=l),r=c},lineEnd:function(){v.lineEnd(),g=t=NaN},clean:function(){return 2-u}}}function P(v,g,t,r){var u,o,l=(0,L.O$)(v-t);return(0,L.Wn)(l)>L.Ho?(0,L.z4)(((0,L.O$)(g)*(o=(0,L.mC)(r))*(0,L.O$)(t)-(0,L.O$)(r)*(u=(0,L.mC)(g))*(0,L.O$)(v))/(u*o*l)):(g+r)/2}function A(v,g,t,r){var u;if(v==null)u=t*L.ou,r.point(-L.pi,u),r.point(0,u),r.point(L.pi,u),r.point(L.pi,0),r.point(L.pi,-u),r.point(0,-u),r.point(-L.pi,-u),r.point(-L.pi,0),r.point(-L.pi,u);else if((0,L.Wn)(v[0]-g[0])>L.Ho){var o=v[0]<g[0]?L.pi:-L.pi;u=t*o/2,r.point(-o,u),r.point(0,u),r.point(o,u)}else r.point(g[0],g[1])}},85272:function(W,U,e){e.d(U,{Z:function(){return L}});var p=e(73182);function L(){var a=[],P;return{point:function(A,v,g){P.push([A,v,g])},lineStart:function(){a.push(P=[])},lineEnd:p.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var A=a;return a=[],P=null,A}}}},1457:function(W,U,e){e.d(U,{Z:function(){return v}});var p=e(7620),L=e(7613),a=e(39695),P=e(67108),A=e(97023);function v(g){var t=(0,a.mC)(g),r=6*a.uR,u=t>0,o=(0,a.Wn)(t)>a.Ho;function l(T,f,s,d){(0,L.m)(d,g,r,s,T,f)}function c(T,f){return(0,a.mC)(T)*(0,a.mC)(f)>t}function n(T){var f,s,d,S,M;return{lineStart:function(){S=d=!1,M=1},point:function(C,y){var w=[C,y],b,i=c(C,y),E=u?i?0:h(C,y):i?h(C+(C<0?a.pi:-a.pi),y):0;if(!f&&(S=d=i)&&T.lineStart(),i!==d&&(b=x(f,w),(!b||(0,P.Z)(f,b)||(0,P.Z)(w,b))&&(w[2]=1)),i!==d)M=0,i?(T.lineStart(),b=x(w,f),T.point(b[0],b[1])):(b=x(f,w),T.point(b[0],b[1],2),T.lineEnd()),f=b;else if(o&&f&&u^i){var m;!(E&s)&&(m=x(w,f,!0))&&(M=0,u?(T.lineStart(),T.point(m[0][0],m[0][1]),T.point(m[1][0],m[1][1]),T.lineEnd()):(T.point(m[1][0],m[1][1]),T.lineEnd(),T.lineStart(),T.point(m[0][0],m[0][1],3)))}i&&(!f||!(0,P.Z)(f,w))&&T.point(w[0],w[1]),f=w,d=i,s=E},lineEnd:function(){d&&T.lineEnd(),f=null},clean:function(){return M|(S&&d)<<1}}}function x(T,f,s){var d=(0,p.Og)(T),S=(0,p.Og)(f),M=[1,0,0],C=(0,p.T5)(d,S),y=(0,p.j9)(C,C),w=C[0],b=y-w*w;if(!b)return!s&&T;var i=t*y/b,E=-t*w/b,m=(0,p.T5)(M,C),F=(0,p.T)(M,i),_=(0,p.T)(C,E);(0,p.s0)(F,_);var B=m,I=(0,p.j9)(F,B),O=(0,p.j9)(B,B),z=I*I-O*((0,p.j9)(F,F)-1);if(!(z<0)){var k=(0,a._b)(z),N=(0,p.T)(B,(-I-k)/O);if((0,p.s0)(N,F),N=(0,p.Y1)(N),!s)return N;var K=T[0],q=f[0],Q=T[1],re=f[1],oe;q<K&&(oe=K,K=q,q=oe);var Y=q-K,G=(0,a.Wn)(Y-a.pi)<a.Ho,V=G||Y<a.Ho;if(!G&&re<Q&&(oe=Q,Q=re,re=oe),V?G?Q+re>0^N[1]<((0,a.Wn)(N[0]-K)<a.Ho?Q:re):Q<=N[1]&&N[1]<=re:Y>a.pi^(K<=N[0]&&N[0]<=q)){var Z=(0,p.T)(B,(-I+k)/O);return(0,p.s0)(Z,F),[N,(0,p.Y1)(Z)]}}}function h(T,f){var s=u?g:a.pi-g,d=0;return T<-s?d|=1:T>s&&(d|=2),f<-s?d|=4:f>s&&(d|=8),d}return(0,A.Z)(c,n,l,u?[0,-g]:[-a.pi,g-a.pi])}},97023:function(W,U,e){e.d(U,{Z:function(){return v}});var p=e(85272),L=e(46225),a=e(39695),P=e(23071),A=e(33064);function v(r,u,o,l){return function(c){var n=u(c),x=(0,p.Z)(),h=u(x),T=!1,f,s,d,S={point:M,lineStart:y,lineEnd:w,polygonStart:function(){S.point=b,S.lineStart=i,S.lineEnd=E,s=[],f=[]},polygonEnd:function(){S.point=M,S.lineStart=y,S.lineEnd=w,s=(0,A.TS)(s);var m=(0,P.Z)(f,l);s.length?(T||(c.polygonStart(),T=!0),(0,L.Z)(s,t,m,o,c)):m&&(T||(c.polygonStart(),T=!0),c.lineStart(),o(null,null,1,c),c.lineEnd()),T&&(c.polygonEnd(),T=!1),s=f=null},sphere:function(){c.polygonStart(),c.lineStart(),o(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function M(m,F){r(m,F)&&c.point(m,F)}function C(m,F){n.point(m,F)}function y(){S.point=C,n.lineStart()}function w(){S.point=M,n.lineEnd()}function b(m,F){d.push([m,F]),h.point(m,F)}function i(){h.lineStart(),d=[]}function E(){b(d[0][0],d[0][1]),h.lineEnd();var m=h.clean(),F=x.result(),_,B=F.length,I,O,z;if(d.pop(),f.push(d),d=null,!!B){if(m&1){if(O=F[0],(I=O.length-1)>0){for(T||(c.polygonStart(),T=!0),c.lineStart(),_=0;_<I;++_)c.point((z=O[_])[0],z[1]);c.lineEnd()}return}B>1&&m&2&&F.push(F.pop().concat(F.shift())),s.push(F.filter(g))}}return S}}function g(r){return r.length>1}function t(r,u){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((u=u.x)[0]<0?u[1]-a.ou-a.Ho:a.ou-u[1])}},87605:function(W,U,e){e.d(U,{Z:function(){return t}});var p=e(39695),L=e(85272);function a(r,u,o,l,c,n){var x=r[0],h=r[1],T=u[0],f=u[1],s=0,d=1,S=T-x,M=f-h,C;if(C=o-x,!(!S&&C>0)){if(C/=S,S<0){if(C<s)return;C<d&&(d=C)}else if(S>0){if(C>d)return;C>s&&(s=C)}if(C=c-x,!(!S&&C<0)){if(C/=S,S<0){if(C>d)return;C>s&&(s=C)}else if(S>0){if(C<s)return;C<d&&(d=C)}if(C=l-h,!(!M&&C>0)){if(C/=M,M<0){if(C<s)return;C<d&&(d=C)}else if(M>0){if(C>d)return;C>s&&(s=C)}if(C=n-h,!(!M&&C<0)){if(C/=M,M<0){if(C>d)return;C>s&&(s=C)}else if(M>0){if(C<s)return;C<d&&(d=C)}return s>0&&(r[0]=x+s*S,r[1]=h+s*M),d<1&&(u[0]=x+d*S,u[1]=h+d*M),!0}}}}}var P=e(46225),A=e(33064),v=1e9,g=-v;function t(r,u,o,l){function c(f,s){return r<=f&&f<=o&&u<=s&&s<=l}function n(f,s,d,S){var M=0,C=0;if(f==null||(M=x(f,d))!==(C=x(s,d))||T(f,s)<0^d>0)do S.point(M===0||M===3?r:o,M>1?l:u);while((M=(M+d+4)%4)!==C);else S.point(s[0],s[1])}function x(f,s){return(0,p.Wn)(f[0]-r)<p.Ho?s>0?0:3:(0,p.Wn)(f[0]-o)<p.Ho?s>0?2:1:(0,p.Wn)(f[1]-u)<p.Ho?s>0?1:0:s>0?3:2}function h(f,s){return T(f.x,s.x)}function T(f,s){var d=x(f,1),S=x(s,1);return d!==S?d-S:d===0?s[1]-f[1]:d===1?f[0]-s[0]:d===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,d=(0,L.Z)(),S,M,C,y,w,b,i,E,m,F,_,B={point:I,lineStart:N,lineEnd:K,polygonStart:z,polygonEnd:k};function I(Q,re){c(Q,re)&&s.point(Q,re)}function O(){for(var Q=0,re=0,oe=M.length;re<oe;++re)for(var Y=M[re],G=1,V=Y.length,Z=Y[0],ae,ie,J=Z[0],$=Z[1];G<V;++G)ae=J,ie=$,Z=Y[G],J=Z[0],$=Z[1],ie<=l?$>l&&(J-ae)*(l-ie)>($-ie)*(r-ae)&&++Q:$<=l&&(J-ae)*(l-ie)<($-ie)*(r-ae)&&--Q;return Q}function z(){s=d,S=[],M=[],_=!0}function k(){var Q=O(),re=_&&Q,oe=(S=(0,A.TS)(S)).length;(re||oe)&&(f.polygonStart(),re&&(f.lineStart(),n(null,null,1,f),f.lineEnd()),oe&&(0,P.Z)(S,h,Q,n,f),f.polygonEnd()),s=f,S=M=C=null}function N(){B.point=q,M&&M.push(C=[]),F=!0,m=!1,i=E=NaN}function K(){S&&(q(y,w),b&&m&&d.rejoin(),S.push(d.result())),B.point=I,m&&s.lineEnd()}function q(Q,re){var oe=c(Q,re);if(M&&C.push([Q,re]),F)y=Q,w=re,b=oe,F=!1,oe&&(s.lineStart(),s.point(Q,re));else if(oe&&m)s.point(Q,re);else{var Y=[i=Math.max(g,Math.min(v,i)),E=Math.max(g,Math.min(v,E))],G=[Q=Math.max(g,Math.min(v,Q)),re=Math.max(g,Math.min(v,re))];a(Y,G,r,u,o,l)?(m||(s.lineStart(),s.point(Y[0],Y[1])),s.point(G[0],G[1]),oe||s.lineEnd(),_=!1):oe&&(s.lineStart(),s.point(Q,re),_=!1)}i=Q,E=re,m=oe}return B}}},46225:function(W,U,e){e.d(U,{Z:function(){return P}});var p=e(67108),L=e(39695);function a(v,g,t,r){this.x=v,this.z=g,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function P(v,g,t,r,u){var o=[],l=[],c,n;if(v.forEach(function(d){if(!((S=d.length-1)<=0)){var S,M=d[0],C=d[S],y;if((0,p.Z)(M,C)){if(!M[2]&&!C[2]){for(u.lineStart(),c=0;c<S;++c)u.point((M=d[c])[0],M[1]);u.lineEnd();return}C[0]+=2*L.Ho}o.push(y=new a(M,d,null,!0)),l.push(y.o=new a(M,null,y,!1)),o.push(y=new a(C,d,null,!1)),l.push(y.o=new a(C,null,y,!0))}}),!!o.length){for(l.sort(g),A(o),A(l),c=0,n=l.length;c<n;++c)l[c].e=t=!t;for(var x=o[0],h,T;;){for(var f=x,s=!0;f.v;)if((f=f.n)===x)return;h=f.z,u.lineStart();do{if(f.v=f.o.v=!0,f.e){if(s)for(c=0,n=h.length;c<n;++c)u.point((T=h[c])[0],T[1]);else r(f.x,f.n.x,1,u);f=f.n}else{if(s)for(h=f.p.z,c=h.length-1;c>=0;--c)u.point((T=h[c])[0],T[1]);else r(f.x,f.p.x,-1,u);f=f.p}f=f.o,h=f.z,s=!s}while(!f.v);u.lineEnd()}}}function A(v){if(g=v.length){for(var g,t=0,r=v[0],u;++t<g;)r.n=u=v[t],u.p=r,r=u;r.n=u=v[0],u.p=r}}},96059:function(W,U,e){e.d(U,{Z:function(){return p}});function p(L,a){function P(A,v){return A=L(A,v),a(A[0],A[1])}return L.invert&&a.invert&&(P.invert=function(A,v){return A=a.invert(A,v),A&&L.invert(A[0],A[1])}),P}},8593:function(W,U,e){e.d(U,{Z:function(){return p}});function p(L){return L}},27362:function(W,U,e){e.r(U),e.d(U,{geoAlbers:function(){return Lr},geoAlbersUsa:function(){return st},geoArea:function(){return p.ZP},geoAzimuthalEqualArea:function(){return yt.Z},geoAzimuthalEqualAreaRaw:function(){return yt.l},geoAzimuthalEquidistant:function(){return Pt.Z},geoAzimuthalEquidistantRaw:function(){return Pt.N},geoBounds:function(){return L.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return P.Z},geoClipAntimeridian:function(){return A.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return g.Z},geoConicConformal:function(){return He},geoConicConformalRaw:function(){return ir},geoConicEqualArea:function(){return rr},geoConicEqualAreaRaw:function(){return or},geoConicEquidistant:function(){return Ut},geoConicEquidistantRaw:function(){return Ct},geoContains:function(){return z},geoDistance:function(){return b},geoEqualEarth:function(){return _r},geoEqualEarthRaw:function(){return er},geoEquirectangular:function(){return Ge.Z},geoEquirectangularRaw:function(){return Ge.k},geoGnomonic:function(){return Vr.Z},geoGnomonicRaw:function(){return Vr.M},geoGraticule:function(){return q},geoGraticule10:function(){return Q},geoIdentity:function(){return yr},geoInterpolate:function(){return re.Z},geoLength:function(){return C},geoMercator:function(){return Zt},geoMercatorRaw:function(){return Nt},geoNaturalEarth1:function(){return pn.Z},geoNaturalEarth1Raw:function(){return pn.K},geoOrthographic:function(){return an.Z},geoOrthographicRaw:function(){return an.I},geoPath:function(){return vr},geoProjection:function(){return gr.Z},geoProjectionMutator:function(){return gr.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return fn},geoStereographicRaw:function(){return Nn},geoStream:function(){return c.Z},geoTransform:function(){return Br.Z},geoTransverseMercator:function(){return On},geoTransverseMercatorRaw:function(){return xn}});var p=e(97860),L=e(77338),a=e(66624),P=e(7613),A=e(87070),v=e(1457),g=e(87605);function t(){var br=0,Ir=0,jr=960,Wr=500,An,wn,Tn;return Tn={stream:function(Rn){return An&&wn===Rn?An:An=(0,g.Z)(br,Ir,jr,Wr)(wn=Rn)},extent:function(Rn){return arguments.length?(br=+Rn[0][0],Ir=+Rn[0][1],jr=+Rn[1][0],Wr=+Rn[1][1],An=wn=null,Tn):[[br,Ir],[jr,Wr]]}}}var r=e(23071),u=e(33940),o=e(39695),l=e(73182),c=e(72736),n=(0,u.Z)(),x,h,T,f={sphere:l.Z,point:l.Z,lineStart:s,lineEnd:l.Z,polygonStart:l.Z,polygonEnd:l.Z};function s(){f.point=S,f.lineEnd=d}function d(){f.point=f.lineEnd=l.Z}function S(br,Ir){br*=o.uR,Ir*=o.uR,x=br,h=(0,o.O$)(Ir),T=(0,o.mC)(Ir),f.point=M}function M(br,Ir){br*=o.uR,Ir*=o.uR;var jr=(0,o.O$)(Ir),Wr=(0,o.mC)(Ir),An=(0,o.Wn)(br-x),wn=(0,o.mC)(An),Tn=(0,o.O$)(An),Rn=Wr*Tn,Gn=T*jr-h*Wr*wn,ma=h*jr+T*Wr*wn;n.add((0,o.fv)((0,o._b)(Rn*Rn+Gn*Gn),ma)),x=br,h=jr,T=Wr}function C(br){return n.reset(),(0,c.Z)(br,f),+n}var y=[null,null],w={type:"LineString",coordinates:y};function b(br,Ir){return y[0]=br,y[1]=Ir,C(w)}var i={Feature:function(br,Ir){return m(br.geometry,Ir)},FeatureCollection:function(br,Ir){for(var jr=br.features,Wr=-1,An=jr.length;++Wr<An;)if(m(jr[Wr].geometry,Ir))return!0;return!1}},E={Sphere:function(){return!0},Point:function(br,Ir){return F(br.coordinates,Ir)},MultiPoint:function(br,Ir){for(var jr=br.coordinates,Wr=-1,An=jr.length;++Wr<An;)if(F(jr[Wr],Ir))return!0;return!1},LineString:function(br,Ir){return _(br.coordinates,Ir)},MultiLineString:function(br,Ir){for(var jr=br.coordinates,Wr=-1,An=jr.length;++Wr<An;)if(_(jr[Wr],Ir))return!0;return!1},Polygon:function(br,Ir){return B(br.coordinates,Ir)},MultiPolygon:function(br,Ir){for(var jr=br.coordinates,Wr=-1,An=jr.length;++Wr<An;)if(B(jr[Wr],Ir))return!0;return!1},GeometryCollection:function(br,Ir){for(var jr=br.geometries,Wr=-1,An=jr.length;++Wr<An;)if(m(jr[Wr],Ir))return!0;return!1}};function m(br,Ir){return br&&E.hasOwnProperty(br.type)?E[br.type](br,Ir):!1}function F(br,Ir){return b(br,Ir)===0}function _(br,Ir){for(var jr,Wr,An,wn=0,Tn=br.length;wn<Tn;wn++){if(Wr=b(br[wn],Ir),Wr===0||wn>0&&(An=b(br[wn],br[wn-1]),An>0&&jr<=An&&Wr<=An&&(jr+Wr-An)*(1-Math.pow((jr-Wr)/An,2))<o.aW*An))return!0;jr=Wr}return!1}function B(br,Ir){return!!(0,r.Z)(br.map(I),O(Ir))}function I(br){return br=br.map(O),br.pop(),br}function O(br){return[br[0]*o.uR,br[1]*o.uR]}function z(br,Ir){return(br&&i.hasOwnProperty(br.type)?i[br.type]:m)(br,Ir)}var k=e(33064);function N(br,Ir,jr){var Wr=(0,k.w6)(br,Ir-o.Ho,jr).concat(Ir);return function(An){return Wr.map(function(wn){return[An,wn]})}}function K(br,Ir,jr){var Wr=(0,k.w6)(br,Ir-o.Ho,jr).concat(Ir);return function(An){return Wr.map(function(wn){return[wn,An]})}}function q(){var br,Ir,jr,Wr,An,wn,Tn,Rn,Gn=10,ma=Gn,pa=90,ua=360,xa,ga,Or,cn,vn=2.5;function Cn(){return{type:"MultiLineString",coordinates:Wn()}}function Wn(){return(0,k.w6)((0,o.mD)(Wr/pa)*pa,jr,pa).map(Or).concat((0,k.w6)((0,o.mD)(Rn/ua)*ua,Tn,ua).map(cn)).concat((0,k.w6)((0,o.mD)(Ir/Gn)*Gn,br,Gn).filter(function(Fn){return(0,o.Wn)(Fn%pa)>o.Ho}).map(xa)).concat((0,k.w6)((0,o.mD)(wn/ma)*ma,An,ma).filter(function(Fn){return(0,o.Wn)(Fn%ua)>o.Ho}).map(ga))}return Cn.lines=function(){return Wn().map(function(Fn){return{type:"LineString",coordinates:Fn}})},Cn.outline=function(){return{type:"Polygon",coordinates:[Or(Wr).concat(cn(Tn).slice(1),Or(jr).reverse().slice(1),cn(Rn).reverse().slice(1))]}},Cn.extent=function(Fn){return arguments.length?Cn.extentMajor(Fn).extentMinor(Fn):Cn.extentMinor()},Cn.extentMajor=function(Fn){return arguments.length?(Wr=+Fn[0][0],jr=+Fn[1][0],Rn=+Fn[0][1],Tn=+Fn[1][1],Wr>jr&&(Fn=Wr,Wr=jr,jr=Fn),Rn>Tn&&(Fn=Rn,Rn=Tn,Tn=Fn),Cn.precision(vn)):[[Wr,Rn],[jr,Tn]]},Cn.extentMinor=function(Fn){return arguments.length?(Ir=+Fn[0][0],br=+Fn[1][0],wn=+Fn[0][1],An=+Fn[1][1],Ir>br&&(Fn=Ir,Ir=br,br=Fn),wn>An&&(Fn=wn,wn=An,An=Fn),Cn.precision(vn)):[[Ir,wn],[br,An]]},Cn.step=function(Fn){return arguments.length?Cn.stepMajor(Fn).stepMinor(Fn):Cn.stepMinor()},Cn.stepMajor=function(Fn){return arguments.length?(pa=+Fn[0],ua=+Fn[1],Cn):[pa,ua]},Cn.stepMinor=function(Fn){return arguments.length?(Gn=+Fn[0],ma=+Fn[1],Cn):[Gn,ma]},Cn.precision=function(Fn){return arguments.length?(vn=+Fn,xa=N(wn,An,90),ga=K(Ir,br,vn),Or=N(Rn,Tn,90),cn=K(Wr,jr,vn),Cn):vn},Cn.extentMajor([[-180,-90+o.Ho],[180,90-o.Ho]]).extentMinor([[-180,-80-o.Ho],[180,80+o.Ho]])}function Q(){return q()()}var re=e(83074),oe=e(8593),Y=(0,u.Z)(),G=(0,u.Z)(),V,Z,ae,ie,J={point:l.Z,lineStart:l.Z,lineEnd:l.Z,polygonStart:function(){J.lineStart=$,J.lineEnd=ue},polygonEnd:function(){J.lineStart=J.lineEnd=J.point=l.Z,Y.add((0,o.Wn)(G)),G.reset()},result:function(){var br=Y/2;return Y.reset(),br}};function $(){J.point=se}function se(br,Ir){J.point=ee,V=ae=br,Z=ie=Ir}function ee(br,Ir){G.add(ie*br-ae*Ir),ae=br,ie=Ir}function ue(){ee(V,Z)}var ge=J,Te=e(3559),xe=0,Pe=0,Ie=0,Ae=0,be=0,_e=0,Ve=0,We=0,ze=0,Ze,ct,lt,at,tt={point:dt,lineStart:wt,lineEnd:$e,polygonStart:function(){tt.lineStart=ke,tt.lineEnd=Fe},polygonEnd:function(){tt.point=dt,tt.lineStart=wt,tt.lineEnd=$e},result:function(){var br=ze?[Ve/ze,We/ze]:_e?[Ae/_e,be/_e]:Ie?[xe/Ie,Pe/Ie]:[NaN,NaN];return xe=Pe=Ie=Ae=be=_e=Ve=We=ze=0,br}};function dt(br,Ir){xe+=br,Pe+=Ir,++Ie}function wt(){tt.point=Mt}function Mt(br,Ir){tt.point=It,dt(lt=br,at=Ir)}function It(br,Ir){var jr=br-lt,Wr=Ir-at,An=(0,o._b)(jr*jr+Wr*Wr);Ae+=An*(lt+br)/2,be+=An*(at+Ir)/2,_e+=An,dt(lt=br,at=Ir)}function $e(){tt.point=dt}function ke(){tt.point=qe}function Fe(){it(Ze,ct)}function qe(br,Ir){tt.point=it,dt(Ze=lt=br,ct=at=Ir)}function it(br,Ir){var jr=br-lt,Wr=Ir-at,An=(0,o._b)(jr*jr+Wr*Wr);Ae+=An*(lt+br)/2,be+=An*(at+Ir)/2,_e+=An,An=at*br-lt*Ir,Ve+=An*(lt+br),We+=An*(at+Ir),ze+=An*3,dt(lt=br,at=Ir)}var Je=tt;function Re(br){this._context=br}Re.prototype={_radius:4.5,pointRadius:function(br){return this._radius=br,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(br,Ir){switch(this._point){case 0:{this._context.moveTo(br,Ir),this._point=1;break}case 1:{this._context.lineTo(br,Ir);break}default:{this._context.moveTo(br+this._radius,Ir),this._context.arc(br,Ir,this._radius,0,o.BZ);break}}},result:l.Z};var Me=(0,u.Z)(),fe,ye,Le,Oe,ht,vt={point:l.Z,lineStart:function(){vt.point=Lt},lineEnd:function(){fe&&Ot(ye,Le),vt.point=l.Z},polygonStart:function(){fe=!0},polygonEnd:function(){fe=null},result:function(){var br=+Me;return Me.reset(),br}};function Lt(br,Ir){vt.point=Ot,ye=Oe=br,Le=ht=Ir}function Ot(br,Ir){Oe-=br,ht-=Ir,Me.add((0,o._b)(Oe*Oe+ht*ht)),Oe=br,ht=Ir}var Jt=vt;function qt(){this._string=[]}qt.prototype={_radius:4.5,_circle:Vt(4.5),pointRadius:function(br){return(br=+br)!==this._radius&&(this._radius=br,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(br,Ir){switch(this._point){case 0:{this._string.push("M",br,",",Ir),this._point=1;break}case 1:{this._string.push("L",br,",",Ir);break}default:{this._circle==null&&(this._circle=Vt(this._radius)),this._string.push("M",br,",",Ir,this._circle);break}}},result:function(){if(this._string.length){var br=this._string.join("");return this._string=[],br}else return null}};function Vt(br){return"m0,"+br+"a"+br+","+br+" 0 1,1 0,"+-2*br+"a"+br+","+br+" 0 1,1 0,"+2*br+"z"}function vr(br,Ir){var jr=4.5,Wr,An;function wn(Tn){return Tn&&(typeof jr=="function"&&An.pointRadius(+jr.apply(this,arguments)),(0,c.Z)(Tn,Wr(An))),An.result()}return wn.area=function(Tn){return(0,c.Z)(Tn,Wr(ge)),ge.result()},wn.measure=function(Tn){return(0,c.Z)(Tn,Wr(Jt)),Jt.result()},wn.bounds=function(Tn){return(0,c.Z)(Tn,Wr(Te.Z)),Te.Z.result()},wn.centroid=function(Tn){return(0,c.Z)(Tn,Wr(Je)),Je.result()},wn.projection=function(Tn){return arguments.length?(Wr=Tn==null?(br=null,oe.Z):(br=Tn).stream,wn):br},wn.context=function(Tn){return arguments.length?(An=Tn==null?(Ir=null,new qt):new Re(Ir=Tn),typeof jr!="function"&&An.pointRadius(jr),wn):Ir},wn.pointRadius=function(Tn){return arguments.length?(jr=typeof Tn=="function"?Tn:(An.pointRadius(+Tn),+Tn),wn):jr},wn.projection(br).context(Ir)}var gr=e(15002);function Gr(br){var Ir=0,jr=o.pi/3,Wr=(0,gr.r)(br),An=Wr(Ir,jr);return An.parallels=function(wn){return arguments.length?Wr(Ir=wn[0]*o.uR,jr=wn[1]*o.uR):[Ir*o.RW,jr*o.RW]},An}function At(br){var Ir=(0,o.mC)(br);function jr(Wr,An){return[Wr*Ir,(0,o.O$)(An)/Ir]}return jr.invert=function(Wr,An){return[Wr/Ir,(0,o.ZR)(An*Ir)]},jr}function or(br,Ir){var jr=(0,o.O$)(br),Wr=(jr+(0,o.O$)(Ir))/2;if((0,o.Wn)(Wr)<o.Ho)return At(br);var An=1+jr*(2*Wr-jr),wn=(0,o._b)(An)/Wr;function Tn(Rn,Gn){var ma=(0,o._b)(An-2*Wr*(0,o.O$)(Gn))/Wr;return[ma*(0,o.O$)(Rn*=Wr),wn-ma*(0,o.mC)(Rn)]}return Tn.invert=function(Rn,Gn){var ma=wn-Gn,pa=(0,o.fv)(Rn,(0,o.Wn)(ma))*(0,o.Xx)(ma);return ma*Wr<0&&(pa-=o.pi*(0,o.Xx)(Rn)*(0,o.Xx)(ma)),[pa/Wr,(0,o.ZR)((An-(Rn*Rn+ma*ma)*Wr*Wr)/(2*Wr))]},Tn}function rr(){return Gr(or).scale(155.424).center([0,33.6442])}function Lr(){return rr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var Tr=e(47589);function pt(br){var Ir=br.length;return{point:function(jr,Wr){for(var An=-1;++An<Ir;)br[An].point(jr,Wr)},sphere:function(){for(var jr=-1;++jr<Ir;)br[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<Ir;)br[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<Ir;)br[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<Ir;)br[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<Ir;)br[jr].polygonEnd()}}}function st(){var br,Ir,jr=Lr(),Wr,An=rr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),wn,Tn=rr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,Gn,ma={point:function(xa,ga){Gn=[xa,ga]}};function pa(xa){var ga=xa[0],Or=xa[1];return Gn=null,Wr.point(ga,Or),Gn||(wn.point(ga,Or),Gn)||(Rn.point(ga,Or),Gn)}pa.invert=function(xa){var ga=jr.scale(),Or=jr.translate(),cn=(xa[0]-Or[0])/ga,vn=(xa[1]-Or[1])/ga;return(vn>=.12&&vn<.234&&cn>=-.425&&cn<-.214?An:vn>=.166&&vn<.234&&cn>=-.214&&cn<-.115?Tn:jr).invert(xa)},pa.stream=function(xa){return br&&Ir===xa?br:br=pt([jr.stream(Ir=xa),An.stream(xa),Tn.stream(xa)])},pa.precision=function(xa){return arguments.length?(jr.precision(xa),An.precision(xa),Tn.precision(xa),ua()):jr.precision()},pa.scale=function(xa){return arguments.length?(jr.scale(xa),An.scale(xa*.35),Tn.scale(xa),pa.translate(jr.translate())):jr.scale()},pa.translate=function(xa){if(!arguments.length)return jr.translate();var ga=jr.scale(),Or=+xa[0],cn=+xa[1];return Wr=jr.translate(xa).clipExtent([[Or-.455*ga,cn-.238*ga],[Or+.455*ga,cn+.238*ga]]).stream(ma),wn=An.translate([Or-.307*ga,cn+.201*ga]).clipExtent([[Or-.425*ga+o.Ho,cn+.12*ga+o.Ho],[Or-.214*ga-o.Ho,cn+.234*ga-o.Ho]]).stream(ma),Rn=Tn.translate([Or-.205*ga,cn+.212*ga]).clipExtent([[Or-.214*ga+o.Ho,cn+.166*ga+o.Ho],[Or-.115*ga-o.Ho,cn+.234*ga-o.Ho]]).stream(ma),ua()},pa.fitExtent=function(xa,ga){return(0,Tr.qg)(pa,xa,ga)},pa.fitSize=function(xa,ga){return(0,Tr.mF)(pa,xa,ga)},pa.fitWidth=function(xa,ga){return(0,Tr.V6)(pa,xa,ga)},pa.fitHeight=function(xa,ga){return(0,Tr.rf)(pa,xa,ga)};function ua(){return br=Ir=null,pa}return pa.scale(1070)}var yt=e(12956),Pt=e(17889),Dt=e(49386);function Nt(br,Ir){return[br,(0,o.cM)((0,o.OR)((o.ou+Ir)/2))]}Nt.invert=function(br,Ir){return[br,2*(0,o.z4)((0,o.Qq)(Ir))-o.ou]};function Zt(){return $t(Nt).scale(961/o.BZ)}function $t(br){var Ir=(0,gr.Z)(br),jr=Ir.center,Wr=Ir.scale,An=Ir.translate,wn=Ir.clipExtent,Tn=null,Rn,Gn,ma;Ir.scale=function(ua){return arguments.length?(Wr(ua),pa()):Wr()},Ir.translate=function(ua){return arguments.length?(An(ua),pa()):An()},Ir.center=function(ua){return arguments.length?(jr(ua),pa()):jr()},Ir.clipExtent=function(ua){return arguments.length?(ua==null?Tn=Rn=Gn=ma=null:(Tn=+ua[0][0],Rn=+ua[0][1],Gn=+ua[1][0],ma=+ua[1][1]),pa()):Tn==null?null:[[Tn,Rn],[Gn,ma]]};function pa(){var ua=o.pi*Wr(),xa=Ir((0,Dt.Z)(Ir.rotate()).invert([0,0]));return wn(Tn==null?[[xa[0]-ua,xa[1]-ua],[xa[0]+ua,xa[1]+ua]]:br===Nt?[[Math.max(xa[0]-ua,Tn),Rn],[Math.min(xa[0]+ua,Gn),ma]]:[[Tn,Math.max(xa[1]-ua,Rn)],[Gn,Math.min(xa[1]+ua,ma)]])}return pa()}function lr(br){return(0,o.OR)((o.ou+br)/2)}function ir(br,Ir){var jr=(0,o.mC)(br),Wr=br===Ir?(0,o.O$)(br):(0,o.cM)(jr/(0,o.mC)(Ir))/(0,o.cM)(lr(Ir)/lr(br)),An=jr*(0,o.sQ)(lr(br),Wr)/Wr;if(!Wr)return Nt;function wn(Tn,Rn){An>0?Rn<-o.ou+o.Ho&&(Rn=-o.ou+o.Ho):Rn>o.ou-o.Ho&&(Rn=o.ou-o.Ho);var Gn=An/(0,o.sQ)(lr(Rn),Wr);return[Gn*(0,o.O$)(Wr*Tn),An-Gn*(0,o.mC)(Wr*Tn)]}return wn.invert=function(Tn,Rn){var Gn=An-Rn,ma=(0,o.Xx)(Wr)*(0,o._b)(Tn*Tn+Gn*Gn),pa=(0,o.fv)(Tn,(0,o.Wn)(Gn))*(0,o.Xx)(Gn);return Gn*Wr<0&&(pa-=o.pi*(0,o.Xx)(Tn)*(0,o.Xx)(Gn)),[pa/Wr,2*(0,o.z4)((0,o.sQ)(An/ma,1/Wr))-o.ou]},wn}function He(){return Gr(ir).scale(109.5).parallels([30,30])}var Ge=e(97492);function Ct(br,Ir){var jr=(0,o.mC)(br),Wr=br===Ir?(0,o.O$)(br):(jr-(0,o.mC)(Ir))/(Ir-br),An=jr/Wr+br;if((0,o.Wn)(Wr)<o.Ho)return Ge.k;function wn(Tn,Rn){var Gn=An-Rn,ma=Wr*Tn;return[Gn*(0,o.O$)(ma),An-Gn*(0,o.mC)(ma)]}return wn.invert=function(Tn,Rn){var Gn=An-Rn,ma=(0,o.fv)(Tn,(0,o.Wn)(Gn))*(0,o.Xx)(Gn);return Gn*Wr<0&&(ma-=o.pi*(0,o.Xx)(Tn)*(0,o.Xx)(Gn)),[ma/Wr,An-(0,o.Xx)(Wr)*(0,o._b)(Tn*Tn+Gn*Gn)]},wn}function Ut(){return Gr(Ct).scale(131.154).center([0,13.9389])}var Kt=1.340264,Xt=-.081106,ur=893e-6,Ar=.003796,Rr=(0,o._b)(3)/2,wr=12;function er(br,Ir){var jr=(0,o.ZR)(Rr*(0,o.O$)(Ir)),Wr=jr*jr,An=Wr*Wr*Wr;return[br*(0,o.mC)(jr)/(Rr*(Kt+3*Xt*Wr+An*(7*ur+9*Ar*Wr))),jr*(Kt+Xt*Wr+An*(ur+Ar*Wr))]}er.invert=function(br,Ir){for(var jr=Ir,Wr=jr*jr,An=Wr*Wr*Wr,wn=0,Tn,Rn,Gn;wn<wr&&(Rn=jr*(Kt+Xt*Wr+An*(ur+Ar*Wr))-Ir,Gn=Kt+3*Xt*Wr+An*(7*ur+9*Ar*Wr),jr-=Tn=Rn/Gn,Wr=jr*jr,An=Wr*Wr*Wr,!((0,o.Wn)(Tn)<o.aW));++wn);return[Rr*br*(Kt+3*Xt*Wr+An*(7*ur+9*Ar*Wr))/(0,o.mC)(jr),(0,o.ZR)((0,o.O$)(jr)/Rr)]};function _r(){return(0,gr.Z)(er).scale(177.158)}var Vr=e(98936),Br=e(64684);function yr(){var br=1,Ir=0,jr=0,Wr=1,An=1,wn=0,Tn,Rn,Gn=null,ma,pa,ua,xa=1,ga=1,Or=(0,Br.l)({point:function(Hn,Xn){var sa=Fn([Hn,Xn]);this.stream.point(sa[0],sa[1])}}),cn=oe.Z,vn,Cn;function Wn(){return xa=br*Wr,ga=br*An,vn=Cn=null,Fn}function Fn(Hn){var Xn=Hn[0]*xa,sa=Hn[1]*ga;if(wn){var ka=sa*Tn-Xn*Rn;Xn=Xn*Tn+sa*Rn,sa=ka}return[Xn+Ir,sa+jr]}return Fn.invert=function(Hn){var Xn=Hn[0]-Ir,sa=Hn[1]-jr;if(wn){var ka=sa*Tn+Xn*Rn;Xn=Xn*Tn-sa*Rn,sa=ka}return[Xn/xa,sa/ga]},Fn.stream=function(Hn){return vn&&Cn===Hn?vn:vn=Or(cn(Cn=Hn))},Fn.postclip=function(Hn){return arguments.length?(cn=Hn,Gn=ma=pa=ua=null,Wn()):cn},Fn.clipExtent=function(Hn){return arguments.length?(cn=Hn==null?(Gn=ma=pa=ua=null,oe.Z):(0,g.Z)(Gn=+Hn[0][0],ma=+Hn[0][1],pa=+Hn[1][0],ua=+Hn[1][1]),Wn()):Gn==null?null:[[Gn,ma],[pa,ua]]},Fn.scale=function(Hn){return arguments.length?(br=+Hn,Wn()):br},Fn.translate=function(Hn){return arguments.length?(Ir=+Hn[0],jr=+Hn[1],Wn()):[Ir,jr]},Fn.angle=function(Hn){return arguments.length?(wn=Hn%360*o.uR,Rn=(0,o.O$)(wn),Tn=(0,o.mC)(wn),Wn()):wn*o.RW},Fn.reflectX=function(Hn){return arguments.length?(Wr=Hn?-1:1,Wn()):Wr<0},Fn.reflectY=function(Hn){return arguments.length?(An=Hn?-1:1,Wn()):An<0},Fn.fitExtent=function(Hn,Xn){return(0,Tr.qg)(Fn,Hn,Xn)},Fn.fitSize=function(Hn,Xn){return(0,Tr.mF)(Fn,Hn,Xn)},Fn.fitWidth=function(Hn,Xn){return(0,Tr.V6)(Fn,Hn,Xn)},Fn.fitHeight=function(Hn,Xn){return(0,Tr.rf)(Fn,Hn,Xn)},Fn}var pn=e(26867),an=e(57962),Zr=e(25382);function Nn(br,Ir){var jr=(0,o.mC)(Ir),Wr=1+(0,o.mC)(br)*jr;return[jr*(0,o.O$)(br)/Wr,(0,o.O$)(Ir)/Wr]}Nn.invert=(0,Zr.O)(function(br){return 2*(0,o.z4)(br)});function fn(){return(0,gr.Z)(Nn).scale(250).clipAngle(142)}function xn(br,Ir){return[(0,o.cM)((0,o.OR)((o.ou+Ir)/2)),-br]}xn.invert=function(br,Ir){return[-Ir,2*(0,o.z4)((0,o.Qq)(br))-o.ou]};function On(){var br=$t(xn),Ir=br.center,jr=br.rotate;return br.center=function(Wr){return arguments.length?Ir([-Wr[1],Wr[0]]):(Wr=Ir(),[Wr[1],-Wr[0]])},br.rotate=function(Wr){return arguments.length?jr([Wr[0],Wr[1],Wr.length>2?Wr[2]+90:90]):(Wr=jr(),[Wr[0],Wr[1],Wr[2]-90])},jr([0,0,90]).scale(159.155)}},83074:function(W,U,e){e.d(U,{Z:function(){return L}});var p=e(39695);function L(a,P){var A=a[0]*p.uR,v=a[1]*p.uR,g=P[0]*p.uR,t=P[1]*p.uR,r=(0,p.mC)(v),u=(0,p.O$)(v),o=(0,p.mC)(t),l=(0,p.O$)(t),c=r*(0,p.mC)(A),n=r*(0,p.O$)(A),x=o*(0,p.mC)(g),h=o*(0,p.O$)(g),T=2*(0,p.ZR)((0,p._b)((0,p.Jy)(t-v)+r*o*(0,p.Jy)(g-A))),f=(0,p.O$)(T),s=T?function(d){var S=(0,p.O$)(d*=T)/f,M=(0,p.O$)(T-d)/f,C=M*c+S*x,y=M*n+S*h,w=M*u+S*l;return[(0,p.fv)(y,C)*p.RW,(0,p.fv)(w,(0,p._b)(C*C+y*y))*p.RW]}:function(){return[A*p.RW,v*p.RW]};return s.distance=T,s}},39695:function(W,U,e){e.d(U,{BZ:function(){return v},Ho:function(){return p},Jy:function(){return C},Kh:function(){return S},O$:function(){return T},OR:function(){return d},Qq:function(){return n},RW:function(){return g},Wn:function(){return r},Xx:function(){return f},ZR:function(){return M},_b:function(){return s},aW:function(){return L},cM:function(){return x},fv:function(){return o},mC:function(){return l},mD:function(){return c},ou:function(){return P},pi:function(){return a},pu:function(){return A},sQ:function(){return h},uR:function(){return t},z4:function(){return u}});var p=1e-6,L=1e-12,a=Math.PI,P=a/2,A=a/4,v=a*2,g=180/a,t=a/180,r=Math.abs,u=Math.atan,o=Math.atan2,l=Math.cos,c=Math.ceil,n=Math.exp,x=Math.log,h=Math.pow,T=Math.sin,f=Math.sign||function(y){return y>0?1:y<0?-1:0},s=Math.sqrt,d=Math.tan;function S(y){return y>1?0:y<-1?a:Math.acos(y)}function M(y){return y>1?P:y<-1?-P:Math.asin(y)}function C(y){return(y=T(y/2))*y}},73182:function(W,U,e){e.d(U,{Z:function(){return p}});function p(){}},3559:function(W,U,e){var p=e(73182),L=1/0,a=L,P=-L,A=P,v={point:g,lineStart:p.Z,lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z,result:function(){var t=[[L,a],[P,A]];return P=A=-(a=L=1/0),t}};function g(t,r){t<L&&(L=t),t>P&&(P=t),r<a&&(a=r),r>A&&(A=r)}U.Z=v},67108:function(W,U,e){e.d(U,{Z:function(){return L}});var p=e(39695);function L(a,P){return(0,p.Wn)(a[0]-P[0])<p.Ho&&(0,p.Wn)(a[1]-P[1])<p.Ho}},23071:function(W,U,e){e.d(U,{Z:function(){return v}});var p=e(33940),L=e(7620),a=e(39695),P=(0,p.Z)();function A(g){return(0,a.Wn)(g[0])<=a.pi?g[0]:(0,a.Xx)(g[0])*(((0,a.Wn)(g[0])+a.pi)%a.BZ-a.pi)}function v(g,t){var r=A(t),u=t[1],o=(0,a.O$)(u),l=[(0,a.O$)(r),-(0,a.mC)(r),0],c=0,n=0;P.reset(),o===1?u=a.ou+a.Ho:o===-1&&(u=-a.ou-a.Ho);for(var x=0,h=g.length;x<h;++x)if(f=(T=g[x]).length)for(var T,f,s=T[f-1],d=A(s),S=s[1]/2+a.pu,M=(0,a.O$)(S),C=(0,a.mC)(S),y=0;y<f;++y,d=b,M=E,C=m,s=w){var w=T[y],b=A(w),i=w[1]/2+a.pu,E=(0,a.O$)(i),m=(0,a.mC)(i),F=b-d,_=F>=0?1:-1,B=_*F,I=B>a.pi,O=M*E;if(P.add((0,a.fv)(O*_*(0,a.O$)(B),C*m+O*(0,a.mC)(B))),c+=I?F+_*a.BZ:F,I^d>=r^b>=r){var z=(0,L.T5)((0,L.Og)(s),(0,L.Og)(w));(0,L.iJ)(z);var k=(0,L.T5)(l,z);(0,L.iJ)(k);var N=(I^F>=0?-1:1)*(0,a.ZR)(k[2]);(u>N||u===N&&(z[0]||z[1]))&&(n+=I^F>=0?1:-1)}}return(c<-a.Ho||c<a.Ho&&P<-a.Ho)^n&1}},25382:function(W,U,e){e.d(U,{O:function(){return a},W:function(){return L}});var p=e(39695);function L(P){return function(A,v){var g=(0,p.mC)(A),t=(0,p.mC)(v),r=P(g*t);return[r*t*(0,p.O$)(A),r*(0,p.O$)(v)]}}function a(P){return function(A,v){var g=(0,p._b)(A*A+v*v),t=P(g),r=(0,p.O$)(t),u=(0,p.mC)(t);return[(0,p.fv)(A*r,g*u),(0,p.ZR)(g&&v*r/g)]}}},12956:function(W,U,e){e.d(U,{Z:function(){return A},l:function(){return P}});var p=e(39695),L=e(25382),a=e(15002),P=(0,L.W)(function(v){return(0,p._b)(2/(1+v))});P.invert=(0,L.O)(function(v){return 2*(0,p.ZR)(v/2)});function A(){return(0,a.Z)(P).scale(124.75).clipAngle(179.999)}},17889:function(W,U,e){e.d(U,{N:function(){return P},Z:function(){return A}});var p=e(39695),L=e(25382),a=e(15002),P=(0,L.W)(function(v){return(v=(0,p.Kh)(v))&&v/(0,p.O$)(v)});P.invert=(0,L.O)(function(v){return v});function A(){return(0,a.Z)(P).scale(79.4188).clipAngle(179.999)}},97492:function(W,U,e){e.d(U,{Z:function(){return a},k:function(){return L}});var p=e(15002);function L(P,A){return[P,A]}L.invert=L;function a(){return(0,p.Z)(L).scale(152.63)}},47589:function(W,U,e){e.d(U,{V6:function(){return v},mF:function(){return A},qg:function(){return P},rf:function(){return g}});var p=e(72736),L=e(3559);function a(t,r,u){var o=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),o!=null&&t.clipExtent(null),(0,p.Z)(u,t.stream(L.Z)),r(L.Z.result()),o!=null&&t.clipExtent(o),t}function P(t,r,u){return a(t,function(o){var l=r[1][0]-r[0][0],c=r[1][1]-r[0][1],n=Math.min(l/(o[1][0]-o[0][0]),c/(o[1][1]-o[0][1])),x=+r[0][0]+(l-n*(o[1][0]+o[0][0]))/2,h=+r[0][1]+(c-n*(o[1][1]+o[0][1]))/2;t.scale(150*n).translate([x,h])},u)}function A(t,r,u){return P(t,[[0,0],r],u)}function v(t,r,u){return a(t,function(o){var l=+r,c=l/(o[1][0]-o[0][0]),n=(l-c*(o[1][0]+o[0][0]))/2,x=-c*o[0][1];t.scale(150*c).translate([n,x])},u)}function g(t,r,u){return a(t,function(o){var l=+r,c=l/(o[1][1]-o[0][1]),n=-c*o[0][0],x=(l-c*(o[1][1]+o[0][1]))/2;t.scale(150*c).translate([n,x])},u)}},98936:function(W,U,e){e.d(U,{M:function(){return P},Z:function(){return A}});var p=e(39695),L=e(25382),a=e(15002);function P(v,g){var t=(0,p.mC)(g),r=(0,p.mC)(v)*t;return[t*(0,p.O$)(v)/r,(0,p.O$)(g)/r]}P.invert=(0,L.O)(p.z4);function A(){return(0,a.Z)(P).scale(144.049).clipAngle(60)}},15002:function(W,U,e){e.d(U,{Z:function(){return d},r:function(){return S}});var p=e(87070),L=e(1457),a=e(87605),P=e(96059),A=e(8593),v=e(39695),g=e(49386),t=e(64684),r=e(47589),u=e(7620),o=16,l=(0,v.mC)(30*v.uR);function c(M,C){return+C?x(M,C):n(M)}function n(M){return(0,t.l)({point:function(C,y){C=M(C,y),this.stream.point(C[0],C[1])}})}function x(M,C){function y(w,b,i,E,m,F,_,B,I,O,z,k,N,K){var q=_-w,Q=B-b,re=q*q+Q*Q;if(re>4*C&&N--){var oe=E+O,Y=m+z,G=F+k,V=(0,v._b)(oe*oe+Y*Y+G*G),Z=(0,v.ZR)(G/=V),ae=(0,v.Wn)((0,v.Wn)(G)-1)<v.Ho||(0,v.Wn)(i-I)<v.Ho?(i+I)/2:(0,v.fv)(Y,oe),ie=M(ae,Z),J=ie[0],$=ie[1],se=J-w,ee=$-b,ue=Q*se-q*ee;(ue*ue/re>C||(0,v.Wn)((q*se+Q*ee)/re-.5)>.3||E*O+m*z+F*k<l)&&(y(w,b,i,E,m,F,J,$,ae,oe/=V,Y/=V,G,N,K),K.point(J,$),y(J,$,ae,oe,Y,G,_,B,I,O,z,k,N,K))}}return function(w){var b,i,E,m,F,_,B,I,O,z,k,N,K={point:q,lineStart:Q,lineEnd:oe,polygonStart:function(){w.polygonStart(),K.lineStart=Y},polygonEnd:function(){w.polygonEnd(),K.lineStart=Q}};function q(Z,ae){Z=M(Z,ae),w.point(Z[0],Z[1])}function Q(){I=NaN,K.point=re,w.lineStart()}function re(Z,ae){var ie=(0,u.Og)([Z,ae]),J=M(Z,ae);y(I,O,B,z,k,N,I=J[0],O=J[1],B=Z,z=ie[0],k=ie[1],N=ie[2],o,w),w.point(I,O)}function oe(){K.point=q,w.lineEnd()}function Y(){Q(),K.point=G,K.lineEnd=V}function G(Z,ae){re(b=Z,ae),i=I,E=O,m=z,F=k,_=N,K.point=re}function V(){y(I,O,B,z,k,N,i,E,b,m,F,_,o,w),K.lineEnd=oe,oe()}return K}}var h=(0,t.l)({point:function(M,C){this.stream.point(M*v.uR,C*v.uR)}});function T(M){return(0,t.l)({point:function(C,y){var w=M(C,y);return this.stream.point(w[0],w[1])}})}function f(M,C,y,w,b){function i(E,m){return E*=w,m*=b,[C+M*E,y-M*m]}return i.invert=function(E,m){return[(E-C)/M*w,(y-m)/M*b]},i}function s(M,C,y,w,b,i){var E=(0,v.mC)(i),m=(0,v.O$)(i),F=E*M,_=m*M,B=E/M,I=m/M,O=(m*y-E*C)/M,z=(m*C+E*y)/M;function k(N,K){return N*=w,K*=b,[F*N-_*K+C,y-_*N-F*K]}return k.invert=function(N,K){return[w*(B*N-I*K+O),b*(z-I*N-B*K)]},k}function d(M){return S(function(){return M})()}function S(M){var C,y=150,w=480,b=250,i=0,E=0,m=0,F=0,_=0,B,I=0,O=1,z=1,k=null,N=p.Z,K=null,q,Q,re,oe=A.Z,Y=.5,G,V,Z,ae,ie;function J(ue){return Z(ue[0]*v.uR,ue[1]*v.uR)}function $(ue){return ue=Z.invert(ue[0],ue[1]),ue&&[ue[0]*v.RW,ue[1]*v.RW]}J.stream=function(ue){return ae&&ie===ue?ae:ae=h(T(B)(N(G(oe(ie=ue)))))},J.preclip=function(ue){return arguments.length?(N=ue,k=void 0,ee()):N},J.postclip=function(ue){return arguments.length?(oe=ue,K=q=Q=re=null,ee()):oe},J.clipAngle=function(ue){return arguments.length?(N=+ue?(0,L.Z)(k=ue*v.uR):(k=null,p.Z),ee()):k*v.RW},J.clipExtent=function(ue){return arguments.length?(oe=ue==null?(K=q=Q=re=null,A.Z):(0,a.Z)(K=+ue[0][0],q=+ue[0][1],Q=+ue[1][0],re=+ue[1][1]),ee()):K==null?null:[[K,q],[Q,re]]},J.scale=function(ue){return arguments.length?(y=+ue,se()):y},J.translate=function(ue){return arguments.length?(w=+ue[0],b=+ue[1],se()):[w,b]},J.center=function(ue){return arguments.length?(i=ue[0]%360*v.uR,E=ue[1]%360*v.uR,se()):[i*v.RW,E*v.RW]},J.rotate=function(ue){return arguments.length?(m=ue[0]%360*v.uR,F=ue[1]%360*v.uR,_=ue.length>2?ue[2]%360*v.uR:0,se()):[m*v.RW,F*v.RW,_*v.RW]},J.angle=function(ue){return arguments.length?(I=ue%360*v.uR,se()):I*v.RW},J.reflectX=function(ue){return arguments.length?(O=ue?-1:1,se()):O<0},J.reflectY=function(ue){return arguments.length?(z=ue?-1:1,se()):z<0},J.precision=function(ue){return arguments.length?(G=c(V,Y=ue*ue),ee()):(0,v._b)(Y)},J.fitExtent=function(ue,ge){return(0,r.qg)(J,ue,ge)},J.fitSize=function(ue,ge){return(0,r.mF)(J,ue,ge)},J.fitWidth=function(ue,ge){return(0,r.V6)(J,ue,ge)},J.fitHeight=function(ue,ge){return(0,r.rf)(J,ue,ge)};function se(){var ue=s(y,0,0,O,z,I).apply(null,C(i,E)),ge=(I?s:f)(y,w-ue[0],b-ue[1],O,z,I);return B=(0,g.I)(m,F,_),V=(0,P.Z)(C,ge),Z=(0,P.Z)(B,V),G=c(V,Y),ee()}function ee(){return ae=ie=null,J}return function(){return C=M.apply(this,arguments),J.invert=C.invert&&$,se()}}},26867:function(W,U,e){e.d(U,{K:function(){return a},Z:function(){return P}});var p=e(15002),L=e(39695);function a(A,v){var g=v*v,t=g*g;return[A*(.8707-.131979*g+t*(-.013791+t*(.003971*g-.001529*t))),v*(1.007226+g*(.015085+t*(-.044475+.028874*g-.005916*t)))]}a.invert=function(A,v){var g=v,t=25,r;do{var u=g*g,o=u*u;g-=r=(g*(1.007226+u*(.015085+o*(-.044475+.028874*u-.005916*o)))-v)/(1.007226+u*(.045255+o*(-.311325+.259866*u-.06507600000000001*o)))}while((0,L.Wn)(r)>L.Ho&&--t>0);return[A/(.8707+(u=g*g)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),g]};function P(){return(0,p.Z)(a).scale(175.295)}},57962:function(W,U,e){e.d(U,{I:function(){return P},Z:function(){return A}});var p=e(39695),L=e(25382),a=e(15002);function P(v,g){return[(0,p.mC)(g)*(0,p.O$)(v),(0,p.O$)(g)]}P.invert=(0,L.O)(p.ZR);function A(){return(0,a.Z)(P).scale(249.5).clipAngle(90+p.Ho)}},49386:function(W,U,e){e.d(U,{I:function(){return P},Z:function(){return t}});var p=e(96059),L=e(39695);function a(r,u){return[(0,L.Wn)(r)>L.pi?r+Math.round(-r/L.BZ)*L.BZ:r,u]}a.invert=a;function P(r,u,o){return(r%=L.BZ)?u||o?(0,p.Z)(v(r),g(u,o)):v(r):u||o?g(u,o):a}function A(r){return function(u,o){return u+=r,[u>L.pi?u-L.BZ:u<-L.pi?u+L.BZ:u,o]}}function v(r){var u=A(r);return u.invert=A(-r),u}function g(r,u){var o=(0,L.mC)(r),l=(0,L.O$)(r),c=(0,L.mC)(u),n=(0,L.O$)(u);function x(h,T){var f=(0,L.mC)(T),s=(0,L.mC)(h)*f,d=(0,L.O$)(h)*f,S=(0,L.O$)(T),M=S*o+s*l;return[(0,L.fv)(d*c-M*n,s*o-S*l),(0,L.ZR)(M*c+d*n)]}return x.invert=function(h,T){var f=(0,L.mC)(T),s=(0,L.mC)(h)*f,d=(0,L.O$)(h)*f,S=(0,L.O$)(T),M=S*c-d*n;return[(0,L.fv)(d*c+S*n,s*o+M*l),(0,L.ZR)(M*o-s*l)]},x}function t(r){r=P(r[0]*L.uR,r[1]*L.uR,r.length>2?r[2]*L.uR:0);function u(o){return o=r(o[0]*L.uR,o[1]*L.uR),o[0]*=L.RW,o[1]*=L.RW,o}return u.invert=function(o){return o=r.invert(o[0]*L.uR,o[1]*L.uR),o[0]*=L.RW,o[1]*=L.RW,o},u}},72736:function(W,U,e){e.d(U,{Z:function(){return v}});function p(g,t){g&&a.hasOwnProperty(g.type)&&a[g.type](g,t)}var L={Feature:function(g,t){p(g.geometry,t)},FeatureCollection:function(g,t){for(var r=g.features,u=-1,o=r.length;++u<o;)p(r[u].geometry,t)}},a={Sphere:function(g,t){t.sphere()},Point:function(g,t){g=g.coordinates,t.point(g[0],g[1],g[2])},MultiPoint:function(g,t){for(var r=g.coordinates,u=-1,o=r.length;++u<o;)g=r[u],t.point(g[0],g[1],g[2])},LineString:function(g,t){P(g.coordinates,t,0)},MultiLineString:function(g,t){for(var r=g.coordinates,u=-1,o=r.length;++u<o;)P(r[u],t,0)},Polygon:function(g,t){A(g.coordinates,t)},MultiPolygon:function(g,t){for(var r=g.coordinates,u=-1,o=r.length;++u<o;)A(r[u],t)},GeometryCollection:function(g,t){for(var r=g.geometries,u=-1,o=r.length;++u<o;)p(r[u],t)}};function P(g,t,r){var u=-1,o=g.length-r,l;for(t.lineStart();++u<o;)l=g[u],t.point(l[0],l[1],l[2]);t.lineEnd()}function A(g,t){var r=-1,u=g.length;for(t.polygonStart();++r<u;)P(g[r],t,1);t.polygonEnd()}function v(g,t){g&&L.hasOwnProperty(g.type)?L[g.type](g,t):p(g,t)}},64684:function(W,U,e){e.d(U,{Z:function(){return p},l:function(){return L}});function p(P){return{stream:L(P)}}function L(P){return function(A){var v=new a;for(var g in P)v[g]=P[g];return v.stream=A,v}}function a(){}a.prototype={constructor:a,point:function(P,A){this.stream.point(P,A)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(W,U,e){e.r(U),e.d(U,{cluster:function(){return t},hierarchy:function(){return M},pack:function(){return $},packEnclose:function(){return F},packSiblings:function(){return G},partition:function(){return xe},stratify:function(){return Ve},tree:function(){return wt},treemap:function(){return Fe},treemapBinary:function(){return qe},treemapDice:function(){return Te},treemapResquarify:function(){return Je},treemapSlice:function(){return Mt},treemapSliceDice:function(){return it},treemapSquarify:function(){return ke}});function p(Re,Me){return Re.parent===Me.parent?1:2}function L(Re){return Re.reduce(a,0)/Re.length}function a(Re,Me){return Re+Me.x}function P(Re){return 1+Re.reduce(A,0)}function A(Re,Me){return Math.max(Re,Me.y)}function v(Re){for(var Me;Me=Re.children;)Re=Me[0];return Re}function g(Re){for(var Me;Me=Re.children;)Re=Me[Me.length-1];return Re}function t(){var Re=p,Me=1,fe=1,ye=!1;function Le(Oe){var ht,vt=0;Oe.eachAfter(function(Vt){var vr=Vt.children;vr?(Vt.x=L(vr),Vt.y=P(vr)):(Vt.x=ht?vt+=Re(Vt,ht):0,Vt.y=0,ht=Vt)});var Lt=v(Oe),Ot=g(Oe),Jt=Lt.x-Re(Lt,Ot)/2,qt=Ot.x+Re(Ot,Lt)/2;return Oe.eachAfter(ye?function(Vt){Vt.x=(Vt.x-Oe.x)*Me,Vt.y=(Oe.y-Vt.y)*fe}:function(Vt){Vt.x=(Vt.x-Jt)/(qt-Jt)*Me,Vt.y=(1-(Oe.y?Vt.y/Oe.y:1))*fe})}return Le.separation=function(Oe){return arguments.length?(Re=Oe,Le):Re},Le.size=function(Oe){return arguments.length?(ye=!1,Me=+Oe[0],fe=+Oe[1],Le):ye?null:[Me,fe]},Le.nodeSize=function(Oe){return arguments.length?(ye=!0,Me=+Oe[0],fe=+Oe[1],Le):ye?[Me,fe]:null},Le}function r(Re){var Me=0,fe=Re.children,ye=fe&&fe.length;if(!ye)Me=1;else for(;--ye>=0;)Me+=fe[ye].value;Re.value=Me}function u(){return this.eachAfter(r)}function o(Re){var Me=this,fe,ye=[Me],Le,Oe,ht;do for(fe=ye.reverse(),ye=[];Me=fe.pop();)if(Re(Me),Le=Me.children,Le)for(Oe=0,ht=Le.length;Oe<ht;++Oe)ye.push(Le[Oe]);while(ye.length);return this}function l(Re){for(var Me=this,fe=[Me],ye,Le;Me=fe.pop();)if(Re(Me),ye=Me.children,ye)for(Le=ye.length-1;Le>=0;--Le)fe.push(ye[Le]);return this}function c(Re){for(var Me=this,fe=[Me],ye=[],Le,Oe,ht;Me=fe.pop();)if(ye.push(Me),Le=Me.children,Le)for(Oe=0,ht=Le.length;Oe<ht;++Oe)fe.push(Le[Oe]);for(;Me=ye.pop();)Re(Me);return this}function n(Re){return this.eachAfter(function(Me){for(var fe=+Re(Me.data)||0,ye=Me.children,Le=ye&&ye.length;--Le>=0;)fe+=ye[Le].value;Me.value=fe})}function x(Re){return this.eachBefore(function(Me){Me.children&&Me.children.sort(Re)})}function h(Re){for(var Me=this,fe=T(Me,Re),ye=[Me];Me!==fe;)Me=Me.parent,ye.push(Me);for(var Le=ye.length;Re!==fe;)ye.splice(Le,0,Re),Re=Re.parent;return ye}function T(Re,Me){if(Re===Me)return Re;var fe=Re.ancestors(),ye=Me.ancestors(),Le=null;for(Re=fe.pop(),Me=ye.pop();Re===Me;)Le=Re,Re=fe.pop(),Me=ye.pop();return Le}function f(){for(var Re=this,Me=[Re];Re=Re.parent;)Me.push(Re);return Me}function s(){var Re=[];return this.each(function(Me){Re.push(Me)}),Re}function d(){var Re=[];return this.eachBefore(function(Me){Me.children||Re.push(Me)}),Re}function S(){var Re=this,Me=[];return Re.each(function(fe){fe!==Re&&Me.push({source:fe.parent,target:fe})}),Me}function M(Re,Me){var fe=new i(Re),ye=+Re.value&&(fe.value=Re.value),Le,Oe=[fe],ht,vt,Lt,Ot;for(Me==null&&(Me=y);Le=Oe.pop();)if(ye&&(Le.value=+Le.data.value),(vt=Me(Le.data))&&(Ot=vt.length))for(Le.children=new Array(Ot),Lt=Ot-1;Lt>=0;--Lt)Oe.push(ht=Le.children[Lt]=new i(vt[Lt])),ht.parent=Le,ht.depth=Le.depth+1;return fe.eachBefore(b)}function C(){return M(this).eachBefore(w)}function y(Re){return Re.children}function w(Re){Re.data=Re.data.data}function b(Re){var Me=0;do Re.height=Me;while((Re=Re.parent)&&Re.height<++Me)}function i(Re){this.data=Re,this.depth=this.height=0,this.parent=null}i.prototype=M.prototype={constructor:i,count:u,each:o,eachAfter:c,eachBefore:l,sum:n,sort:x,path:h,ancestors:f,descendants:s,leaves:d,links:S,copy:C};var E=Array.prototype.slice;function m(Re){for(var Me=Re.length,fe,ye;Me;)ye=Math.random()*Me--|0,fe=Re[Me],Re[Me]=Re[ye],Re[ye]=fe;return Re}function F(Re){for(var Me=0,fe=(Re=m(E.call(Re))).length,ye=[],Le,Oe;Me<fe;)Le=Re[Me],Oe&&I(Oe,Le)?++Me:(Oe=z(ye=_(ye,Le)),Me=0);return Oe}function _(Re,Me){var fe,ye;if(O(Me,Re))return[Me];for(fe=0;fe<Re.length;++fe)if(B(Me,Re[fe])&&O(N(Re[fe],Me),Re))return[Re[fe],Me];for(fe=0;fe<Re.length-1;++fe)for(ye=fe+1;ye<Re.length;++ye)if(B(N(Re[fe],Re[ye]),Me)&&B(N(Re[fe],Me),Re[ye])&&B(N(Re[ye],Me),Re[fe])&&O(K(Re[fe],Re[ye],Me),Re))return[Re[fe],Re[ye],Me];throw new Error}function B(Re,Me){var fe=Re.r-Me.r,ye=Me.x-Re.x,Le=Me.y-Re.y;return fe<0||fe*fe<ye*ye+Le*Le}function I(Re,Me){var fe=Re.r-Me.r+1e-6,ye=Me.x-Re.x,Le=Me.y-Re.y;return fe>0&&fe*fe>ye*ye+Le*Le}function O(Re,Me){for(var fe=0;fe<Me.length;++fe)if(!I(Re,Me[fe]))return!1;return!0}function z(Re){switch(Re.length){case 1:return k(Re[0]);case 2:return N(Re[0],Re[1]);case 3:return K(Re[0],Re[1],Re[2])}}function k(Re){return{x:Re.x,y:Re.y,r:Re.r}}function N(Re,Me){var fe=Re.x,ye=Re.y,Le=Re.r,Oe=Me.x,ht=Me.y,vt=Me.r,Lt=Oe-fe,Ot=ht-ye,Jt=vt-Le,qt=Math.sqrt(Lt*Lt+Ot*Ot);return{x:(fe+Oe+Lt/qt*Jt)/2,y:(ye+ht+Ot/qt*Jt)/2,r:(qt+Le+vt)/2}}function K(Re,Me,fe){var ye=Re.x,Le=Re.y,Oe=Re.r,ht=Me.x,vt=Me.y,Lt=Me.r,Ot=fe.x,Jt=fe.y,qt=fe.r,Vt=ye-ht,vr=ye-Ot,gr=Le-vt,Gr=Le-Jt,At=Lt-Oe,or=qt-Oe,rr=ye*ye+Le*Le-Oe*Oe,Lr=rr-ht*ht-vt*vt+Lt*Lt,Tr=rr-Ot*Ot-Jt*Jt+qt*qt,pt=vr*gr-Vt*Gr,st=(gr*Tr-Gr*Lr)/(pt*2)-ye,yt=(Gr*At-gr*or)/pt,Pt=(vr*Lr-Vt*Tr)/(pt*2)-Le,Dt=(Vt*or-vr*At)/pt,Nt=yt*yt+Dt*Dt-1,Zt=2*(Oe+st*yt+Pt*Dt),$t=st*st+Pt*Pt-Oe*Oe,lr=-(Nt?(Zt+Math.sqrt(Zt*Zt-4*Nt*$t))/(2*Nt):$t/Zt);return{x:ye+st+yt*lr,y:Le+Pt+Dt*lr,r:lr}}function q(Re,Me,fe){var ye=Re.x-Me.x,Le,Oe,ht=Re.y-Me.y,vt,Lt,Ot=ye*ye+ht*ht;Ot?(Oe=Me.r+fe.r,Oe*=Oe,Lt=Re.r+fe.r,Lt*=Lt,Oe>Lt?(Le=(Ot+Lt-Oe)/(2*Ot),vt=Math.sqrt(Math.max(0,Lt/Ot-Le*Le)),fe.x=Re.x-Le*ye-vt*ht,fe.y=Re.y-Le*ht+vt*ye):(Le=(Ot+Oe-Lt)/(2*Ot),vt=Math.sqrt(Math.max(0,Oe/Ot-Le*Le)),fe.x=Me.x+Le*ye-vt*ht,fe.y=Me.y+Le*ht+vt*ye)):(fe.x=Me.x+fe.r,fe.y=Me.y)}function Q(Re,Me){var fe=Re.r+Me.r-1e-6,ye=Me.x-Re.x,Le=Me.y-Re.y;return fe>0&&fe*fe>ye*ye+Le*Le}function re(Re){var Me=Re._,fe=Re.next._,ye=Me.r+fe.r,Le=(Me.x*fe.r+fe.x*Me.r)/ye,Oe=(Me.y*fe.r+fe.y*Me.r)/ye;return Le*Le+Oe*Oe}function oe(Re){this._=Re,this.next=null,this.previous=null}function Y(Re){if(!(Le=Re.length))return 0;var Me,fe,ye,Le,Oe,ht,vt,Lt,Ot,Jt,qt;if(Me=Re[0],Me.x=0,Me.y=0,!(Le>1))return Me.r;if(fe=Re[1],Me.x=-fe.r,fe.x=Me.r,fe.y=0,!(Le>2))return Me.r+fe.r;q(fe,Me,ye=Re[2]),Me=new oe(Me),fe=new oe(fe),ye=new oe(ye),Me.next=ye.previous=fe,fe.next=Me.previous=ye,ye.next=fe.previous=Me;e:for(vt=3;vt<Le;++vt){q(Me._,fe._,ye=Re[vt]),ye=new oe(ye),Lt=fe.next,Ot=Me.previous,Jt=fe._.r,qt=Me._.r;do if(Jt<=qt){if(Q(Lt._,ye._)){fe=Lt,Me.next=fe,fe.previous=Me,--vt;continue e}Jt+=Lt._.r,Lt=Lt.next}else{if(Q(Ot._,ye._)){Me=Ot,Me.next=fe,fe.previous=Me,--vt;continue e}qt+=Ot._.r,Ot=Ot.previous}while(Lt!==Ot.next);for(ye.previous=Me,ye.next=fe,Me.next=fe.previous=fe=ye,Oe=re(Me);(ye=ye.next)!==fe;)(ht=re(ye))<Oe&&(Me=ye,Oe=ht);fe=Me.next}for(Me=[fe._],ye=fe;(ye=ye.next)!==fe;)Me.push(ye._);for(ye=F(Me),vt=0;vt<Le;++vt)Me=Re[vt],Me.x-=ye.x,Me.y-=ye.y;return ye.r}function G(Re){return Y(Re),Re}function V(Re){return Re==null?null:Z(Re)}function Z(Re){if(typeof Re!="function")throw new Error;return Re}function ae(){return 0}function ie(Re){return function(){return Re}}function J(Re){return Math.sqrt(Re.value)}function $(){var Re=null,Me=1,fe=1,ye=ae;function Le(Oe){return Oe.x=Me/2,Oe.y=fe/2,Re?Oe.eachBefore(se(Re)).eachAfter(ee(ye,.5)).eachBefore(ue(1)):Oe.eachBefore(se(J)).eachAfter(ee(ae,1)).eachAfter(ee(ye,Oe.r/Math.min(Me,fe))).eachBefore(ue(Math.min(Me,fe)/(2*Oe.r))),Oe}return Le.radius=function(Oe){return arguments.length?(Re=V(Oe),Le):Re},Le.size=function(Oe){return arguments.length?(Me=+Oe[0],fe=+Oe[1],Le):[Me,fe]},Le.padding=function(Oe){return arguments.length?(ye=typeof Oe=="function"?Oe:ie(+Oe),Le):ye},Le}function se(Re){return function(Me){Me.children||(Me.r=Math.max(0,+Re(Me)||0))}}function ee(Re,Me){return function(fe){if(ye=fe.children){var ye,Le,Oe=ye.length,ht=Re(fe)*Me||0,vt;if(ht)for(Le=0;Le<Oe;++Le)ye[Le].r+=ht;if(vt=Y(ye),ht)for(Le=0;Le<Oe;++Le)ye[Le].r-=ht;fe.r=vt+ht}}}function ue(Re){return function(Me){var fe=Me.parent;Me.r*=Re,fe&&(Me.x=fe.x+Re*Me.x,Me.y=fe.y+Re*Me.y)}}function ge(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function Te(Re,Me,fe,ye,Le){for(var Oe=Re.children,ht,vt=-1,Lt=Oe.length,Ot=Re.value&&(ye-Me)/Re.value;++vt<Lt;)ht=Oe[vt],ht.y0=fe,ht.y1=Le,ht.x0=Me,ht.x1=Me+=ht.value*Ot}function xe(){var Re=1,Me=1,fe=0,ye=!1;function Le(ht){var vt=ht.height+1;return ht.x0=ht.y0=fe,ht.x1=Re,ht.y1=Me/vt,ht.eachBefore(Oe(Me,vt)),ye&&ht.eachBefore(ge),ht}function Oe(ht,vt){return function(Lt){Lt.children&&Te(Lt,Lt.x0,ht*(Lt.depth+1)/vt,Lt.x1,ht*(Lt.depth+2)/vt);var Ot=Lt.x0,Jt=Lt.y0,qt=Lt.x1-fe,Vt=Lt.y1-fe;qt<Ot&&(Ot=qt=(Ot+qt)/2),Vt<Jt&&(Jt=Vt=(Jt+Vt)/2),Lt.x0=Ot,Lt.y0=Jt,Lt.x1=qt,Lt.y1=Vt}}return Le.round=function(ht){return arguments.length?(ye=!!ht,Le):ye},Le.size=function(ht){return arguments.length?(Re=+ht[0],Me=+ht[1],Le):[Re,Me]},Le.padding=function(ht){return arguments.length?(fe=+ht,Le):fe},Le}var Pe="$",Ie={depth:-1},Ae={};function be(Re){return Re.id}function _e(Re){return Re.parentId}function Ve(){var Re=be,Me=_e;function fe(ye){var Le,Oe,ht=ye.length,vt,Lt,Ot,Jt=new Array(ht),qt,Vt,vr={};for(Oe=0;Oe<ht;++Oe)Le=ye[Oe],Ot=Jt[Oe]=new i(Le),(qt=Re(Le,Oe,ye))!=null&&(qt+="")&&(Vt=Pe+(Ot.id=qt),vr[Vt]=Vt in vr?Ae:Ot);for(Oe=0;Oe<ht;++Oe)if(Ot=Jt[Oe],qt=Me(ye[Oe],Oe,ye),qt==null||!(qt+="")){if(vt)throw new Error("multiple roots");vt=Ot}else{if(Lt=vr[Pe+qt],!Lt)throw new Error("missing: "+qt);if(Lt===Ae)throw new Error("ambiguous: "+qt);Lt.children?Lt.children.push(Ot):Lt.children=[Ot],Ot.parent=Lt}if(!vt)throw new Error("no root");if(vt.parent=Ie,vt.eachBefore(function(gr){gr.depth=gr.parent.depth+1,--ht}).eachBefore(b),vt.parent=null,ht>0)throw new Error("cycle");return vt}return fe.id=function(ye){return arguments.length?(Re=Z(ye),fe):Re},fe.parentId=function(ye){return arguments.length?(Me=Z(ye),fe):Me},fe}function We(Re,Me){return Re.parent===Me.parent?1:2}function ze(Re){var Me=Re.children;return Me?Me[0]:Re.t}function Ze(Re){var Me=Re.children;return Me?Me[Me.length-1]:Re.t}function ct(Re,Me,fe){var ye=fe/(Me.i-Re.i);Me.c-=ye,Me.s+=fe,Re.c+=ye,Me.z+=fe,Me.m+=fe}function lt(Re){for(var Me=0,fe=0,ye=Re.children,Le=ye.length,Oe;--Le>=0;)Oe=ye[Le],Oe.z+=Me,Oe.m+=Me,Me+=Oe.s+(fe+=Oe.c)}function at(Re,Me,fe){return Re.a.parent===Me.parent?Re.a:fe}function tt(Re,Me){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Me}tt.prototype=Object.create(i.prototype);function dt(Re){for(var Me=new tt(Re,0),fe,ye=[Me],Le,Oe,ht,vt;fe=ye.pop();)if(Oe=fe._.children)for(fe.children=new Array(vt=Oe.length),ht=vt-1;ht>=0;--ht)ye.push(Le=fe.children[ht]=new tt(Oe[ht],ht)),Le.parent=fe;return(Me.parent=new tt(null,0)).children=[Me],Me}function wt(){var Re=We,Me=1,fe=1,ye=null;function Le(Ot){var Jt=dt(Ot);if(Jt.eachAfter(Oe),Jt.parent.m=-Jt.z,Jt.eachBefore(ht),ye)Ot.eachBefore(Lt);else{var qt=Ot,Vt=Ot,vr=Ot;Ot.eachBefore(function(rr){rr.x<qt.x&&(qt=rr),rr.x>Vt.x&&(Vt=rr),rr.depth>vr.depth&&(vr=rr)});var gr=qt===Vt?1:Re(qt,Vt)/2,Gr=gr-qt.x,At=Me/(Vt.x+gr+Gr),or=fe/(vr.depth||1);Ot.eachBefore(function(rr){rr.x=(rr.x+Gr)*At,rr.y=rr.depth*or})}return Ot}function Oe(Ot){var Jt=Ot.children,qt=Ot.parent.children,Vt=Ot.i?qt[Ot.i-1]:null;if(Jt){lt(Ot);var vr=(Jt[0].z+Jt[Jt.length-1].z)/2;Vt?(Ot.z=Vt.z+Re(Ot._,Vt._),Ot.m=Ot.z-vr):Ot.z=vr}else Vt&&(Ot.z=Vt.z+Re(Ot._,Vt._));Ot.parent.A=vt(Ot,Vt,Ot.parent.A||qt[0])}function ht(Ot){Ot._.x=Ot.z+Ot.parent.m,Ot.m+=Ot.parent.m}function vt(Ot,Jt,qt){if(Jt){for(var Vt=Ot,vr=Ot,gr=Jt,Gr=Vt.parent.children[0],At=Vt.m,or=vr.m,rr=gr.m,Lr=Gr.m,Tr;gr=Ze(gr),Vt=ze(Vt),gr&&Vt;)Gr=ze(Gr),vr=Ze(vr),vr.a=Ot,Tr=gr.z+rr-Vt.z-At+Re(gr._,Vt._),Tr>0&&(ct(at(gr,Ot,qt),Ot,Tr),At+=Tr,or+=Tr),rr+=gr.m,At+=Vt.m,Lr+=Gr.m,or+=vr.m;gr&&!Ze(vr)&&(vr.t=gr,vr.m+=rr-or),Vt&&!ze(Gr)&&(Gr.t=Vt,Gr.m+=At-Lr,qt=Ot)}return qt}function Lt(Ot){Ot.x*=Me,Ot.y=Ot.depth*fe}return Le.separation=function(Ot){return arguments.length?(Re=Ot,Le):Re},Le.size=function(Ot){return arguments.length?(ye=!1,Me=+Ot[0],fe=+Ot[1],Le):ye?null:[Me,fe]},Le.nodeSize=function(Ot){return arguments.length?(ye=!0,Me=+Ot[0],fe=+Ot[1],Le):ye?[Me,fe]:null},Le}function Mt(Re,Me,fe,ye,Le){for(var Oe=Re.children,ht,vt=-1,Lt=Oe.length,Ot=Re.value&&(Le-fe)/Re.value;++vt<Lt;)ht=Oe[vt],ht.x0=Me,ht.x1=ye,ht.y0=fe,ht.y1=fe+=ht.value*Ot}var It=(1+Math.sqrt(5))/2;function $e(Re,Me,fe,ye,Le,Oe){for(var ht=[],vt=Me.children,Lt,Ot,Jt=0,qt=0,Vt=vt.length,vr,gr,Gr=Me.value,At,or,rr,Lr,Tr,pt,st;Jt<Vt;){vr=Le-fe,gr=Oe-ye;do At=vt[qt++].value;while(!At&&qt<Vt);for(or=rr=At,pt=Math.max(gr/vr,vr/gr)/(Gr*Re),st=At*At*pt,Tr=Math.max(rr/st,st/or);qt<Vt;++qt){if(At+=Ot=vt[qt].value,Ot<or&&(or=Ot),Ot>rr&&(rr=Ot),st=At*At*pt,Lr=Math.max(rr/st,st/or),Lr>Tr){At-=Ot;break}Tr=Lr}ht.push(Lt={value:At,dice:vr<gr,children:vt.slice(Jt,qt)}),Lt.dice?Te(Lt,fe,ye,Le,Gr?ye+=gr*At/Gr:Oe):Mt(Lt,fe,ye,Gr?fe+=vr*At/Gr:Le,Oe),Gr-=At,Jt=qt}return ht}var ke=function Re(Me){function fe(ye,Le,Oe,ht,vt){$e(Me,ye,Le,Oe,ht,vt)}return fe.ratio=function(ye){return Re((ye=+ye)>1?ye:1)},fe}(It);function Fe(){var Re=ke,Me=!1,fe=1,ye=1,Le=[0],Oe=ae,ht=ae,vt=ae,Lt=ae,Ot=ae;function Jt(Vt){return Vt.x0=Vt.y0=0,Vt.x1=fe,Vt.y1=ye,Vt.eachBefore(qt),Le=[0],Me&&Vt.eachBefore(ge),Vt}function qt(Vt){var vr=Le[Vt.depth],gr=Vt.x0+vr,Gr=Vt.y0+vr,At=Vt.x1-vr,or=Vt.y1-vr;At<gr&&(gr=At=(gr+At)/2),or<Gr&&(Gr=or=(Gr+or)/2),Vt.x0=gr,Vt.y0=Gr,Vt.x1=At,Vt.y1=or,Vt.children&&(vr=Le[Vt.depth+1]=Oe(Vt)/2,gr+=Ot(Vt)-vr,Gr+=ht(Vt)-vr,At-=vt(Vt)-vr,or-=Lt(Vt)-vr,At<gr&&(gr=At=(gr+At)/2),or<Gr&&(Gr=or=(Gr+or)/2),Re(Vt,gr,Gr,At,or))}return Jt.round=function(Vt){return arguments.length?(Me=!!Vt,Jt):Me},Jt.size=function(Vt){return arguments.length?(fe=+Vt[0],ye=+Vt[1],Jt):[fe,ye]},Jt.tile=function(Vt){return arguments.length?(Re=Z(Vt),Jt):Re},Jt.padding=function(Vt){return arguments.length?Jt.paddingInner(Vt).paddingOuter(Vt):Jt.paddingInner()},Jt.paddingInner=function(Vt){return arguments.length?(Oe=typeof Vt=="function"?Vt:ie(+Vt),Jt):Oe},Jt.paddingOuter=function(Vt){return arguments.length?Jt.paddingTop(Vt).paddingRight(Vt).paddingBottom(Vt).paddingLeft(Vt):Jt.paddingTop()},Jt.paddingTop=function(Vt){return arguments.length?(ht=typeof Vt=="function"?Vt:ie(+Vt),Jt):ht},Jt.paddingRight=function(Vt){return arguments.length?(vt=typeof Vt=="function"?Vt:ie(+Vt),Jt):vt},Jt.paddingBottom=function(Vt){return arguments.length?(Lt=typeof Vt=="function"?Vt:ie(+Vt),Jt):Lt},Jt.paddingLeft=function(Vt){return arguments.length?(Ot=typeof Vt=="function"?Vt:ie(+Vt),Jt):Ot},Jt}function qe(Re,Me,fe,ye,Le){var Oe=Re.children,ht,vt=Oe.length,Lt,Ot=new Array(vt+1);for(Ot[0]=Lt=ht=0;ht<vt;++ht)Ot[ht+1]=Lt+=Oe[ht].value;Jt(0,vt,Re.value,Me,fe,ye,Le);function Jt(qt,Vt,vr,gr,Gr,At,or){if(qt>=Vt-1){var rr=Oe[qt];rr.x0=gr,rr.y0=Gr,rr.x1=At,rr.y1=or;return}for(var Lr=Ot[qt],Tr=vr/2+Lr,pt=qt+1,st=Vt-1;pt<st;){var yt=pt+st>>>1;Ot[yt]<Tr?pt=yt+1:st=yt}Tr-Ot[pt-1]<Ot[pt]-Tr&&qt+1<pt&&--pt;var Pt=Ot[pt]-Lr,Dt=vr-Pt;if(At-gr>or-Gr){var Nt=(gr*Dt+At*Pt)/vr;Jt(qt,pt,Pt,gr,Gr,Nt,or),Jt(pt,Vt,Dt,Nt,Gr,At,or)}else{var Zt=(Gr*Dt+or*Pt)/vr;Jt(qt,pt,Pt,gr,Gr,At,Zt),Jt(pt,Vt,Dt,gr,Zt,At,or)}}}function it(Re,Me,fe,ye,Le){(Re.depth&1?Mt:Te)(Re,Me,fe,ye,Le)}var Je=function Re(Me){function fe(ye,Le,Oe,ht,vt){if((Lt=ye._squarify)&&Lt.ratio===Me)for(var Lt,Ot,Jt,qt,Vt=-1,vr,gr=Lt.length,Gr=ye.value;++Vt<gr;){for(Ot=Lt[Vt],Jt=Ot.children,qt=Ot.value=0,vr=Jt.length;qt<vr;++qt)Ot.value+=Jt[qt].value;Ot.dice?Te(Ot,Le,Oe,ht,Oe+=(vt-Oe)*Ot.value/Gr):Mt(Ot,Le,Oe,Le+=(ht-Le)*Ot.value/Gr,vt),Gr-=Ot.value}else ye._squarify=Lt=$e(Me,ye,Le,Oe,ht,vt),Lt.ratio=Me}return fe.ratio=function(ye){return Re((ye=+ye)>1?ye:1)},fe}(It)},29502:function(W,U,e){e.d(U,{sX:function(){return se},k4:function(){return oe}});function p(ee,ue,ge){ee.prototype=ue.prototype=ge,ge.constructor=ee}function L(ee,ue){var ge=Object.create(ee.prototype);for(var Te in ue)ge[Te]=ue[Te];return ge}function a(){}var P=.7,A=1/P,v="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),o=new RegExp("^rgb\\("+[t,t,t]+"\\)$"),l=new RegExp("^rgba\\("+[v,v,v,g]+"\\)$"),c=new RegExp("^rgba\\("+[t,t,t,g]+"\\)$"),n=new RegExp("^hsl\\("+[g,t,t]+"\\)$"),x=new RegExp("^hsla\\("+[g,t,t,g]+"\\)$"),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(a,d,{copy:function(ee){return Object.assign(new this.constructor,this,ee)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHsl:f,formatRgb:s,toString:s});function T(){return this.rgb().formatHex()}function f(){return F(this).formatHsl()}function s(){return this.rgb().formatRgb()}function d(ee){var ue,ge;return ee=(ee+"").trim().toLowerCase(),(ue=r.exec(ee))?(ge=ue[1].length,ue=parseInt(ue[1],16),ge===6?S(ue):ge===3?new w(ue>>8&15|ue>>4&240,ue>>4&15|ue&240,(ue&15)<<4|ue&15,1):ge===8?M(ue>>24&255,ue>>16&255,ue>>8&255,(ue&255)/255):ge===4?M(ue>>12&15|ue>>8&240,ue>>8&15|ue>>4&240,ue>>4&15|ue&240,((ue&15)<<4|ue&15)/255):null):(ue=u.exec(ee))?new w(ue[1],ue[2],ue[3],1):(ue=o.exec(ee))?new w(ue[1]*255/100,ue[2]*255/100,ue[3]*255/100,1):(ue=l.exec(ee))?M(ue[1],ue[2],ue[3],ue[4]):(ue=c.exec(ee))?M(ue[1]*255/100,ue[2]*255/100,ue[3]*255/100,ue[4]):(ue=n.exec(ee))?m(ue[1],ue[2]/100,ue[3]/100,1):(ue=x.exec(ee))?m(ue[1],ue[2]/100,ue[3]/100,ue[4]):h.hasOwnProperty(ee)?S(h[ee]):ee==="transparent"?new w(NaN,NaN,NaN,0):null}function S(ee){return new w(ee>>16&255,ee>>8&255,ee&255,1)}function M(ee,ue,ge,Te){return Te<=0&&(ee=ue=ge=NaN),new w(ee,ue,ge,Te)}function C(ee){return ee instanceof a||(ee=d(ee)),ee?(ee=ee.rgb(),new w(ee.r,ee.g,ee.b,ee.opacity)):new w}function y(ee,ue,ge,Te){return arguments.length===1?C(ee):new w(ee,ue,ge,Te??1)}function w(ee,ue,ge,Te){this.r=+ee,this.g=+ue,this.b=+ge,this.opacity=+Te}p(w,y,L(a,{brighter:function(ee){return ee=ee==null?A:Math.pow(A,ee),new w(this.r*ee,this.g*ee,this.b*ee,this.opacity)},darker:function(ee){return ee=ee==null?P:Math.pow(P,ee),new w(this.r*ee,this.g*ee,this.b*ee,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b,formatHex:b,formatRgb:i,toString:i}));function b(){return"#"+E(this.r)+E(this.g)+E(this.b)}function i(){var ee=this.opacity;return ee=isNaN(ee)?1:Math.max(0,Math.min(1,ee)),(ee===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ee===1?")":", "+ee+")")}function E(ee){return ee=Math.max(0,Math.min(255,Math.round(ee)||0)),(ee<16?"0":"")+ee.toString(16)}function m(ee,ue,ge,Te){return Te<=0?ee=ue=ge=NaN:ge<=0||ge>=1?ee=ue=NaN:ue<=0&&(ee=NaN),new B(ee,ue,ge,Te)}function F(ee){if(ee instanceof B)return new B(ee.h,ee.s,ee.l,ee.opacity);if(ee instanceof a||(ee=d(ee)),!ee)return new B;if(ee instanceof B)return ee;ee=ee.rgb();var ue=ee.r/255,ge=ee.g/255,Te=ee.b/255,xe=Math.min(ue,ge,Te),Pe=Math.max(ue,ge,Te),Ie=NaN,Ae=Pe-xe,be=(Pe+xe)/2;return Ae?(ue===Pe?Ie=(ge-Te)/Ae+(ge<Te)*6:ge===Pe?Ie=(Te-ue)/Ae+2:Ie=(ue-ge)/Ae+4,Ae/=be<.5?Pe+xe:2-Pe-xe,Ie*=60):Ae=be>0&&be<1?0:Ie,new B(Ie,Ae,be,ee.opacity)}function _(ee,ue,ge,Te){return arguments.length===1?F(ee):new B(ee,ue,ge,Te??1)}function B(ee,ue,ge,Te){this.h=+ee,this.s=+ue,this.l=+ge,this.opacity=+Te}p(B,_,L(a,{brighter:function(ee){return ee=ee==null?A:Math.pow(A,ee),new B(this.h,this.s,this.l*ee,this.opacity)},darker:function(ee){return ee=ee==null?P:Math.pow(P,ee),new B(this.h,this.s,this.l*ee,this.opacity)},rgb:function(){var ee=this.h%360+(this.h<0)*360,ue=isNaN(ee)||isNaN(this.s)?0:this.s,ge=this.l,Te=ge+(ge<.5?ge:1-ge)*ue,xe=2*ge-Te;return new w(I(ee>=240?ee-240:ee+120,xe,Te),I(ee,xe,Te),I(ee<120?ee+240:ee-120,xe,Te),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ee=this.opacity;return ee=isNaN(ee)?1:Math.max(0,Math.min(1,ee)),(ee===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ee===1?")":", "+ee+")")}}));function I(ee,ue,ge){return(ee<60?ue+(ge-ue)*ee/60:ee<180?ge:ee<240?ue+(ge-ue)*(240-ee)/60:ue)*255}function O(ee){return function(){return ee}}function z(ee,ue){return function(ge){return ee+ge*ue}}function k(ee,ue,ge){return ee=Math.pow(ee,ge),ue=Math.pow(ue,ge)-ee,ge=1/ge,function(Te){return Math.pow(ee+Te*ue,ge)}}function N(ee){return(ee=+ee)==1?K:function(ue,ge){return ge-ue?k(ue,ge,ee):O(isNaN(ue)?ge:ue)}}function K(ee,ue){var ge=ue-ee;return ge?z(ee,ge):O(isNaN(ee)?ue:ee)}var q=function ee(ue){var ge=N(ue);function Te(xe,Pe){var Ie=ge((xe=y(xe)).r,(Pe=y(Pe)).r),Ae=ge(xe.g,Pe.g),be=ge(xe.b,Pe.b),_e=K(xe.opacity,Pe.opacity);return function(Ve){return xe.r=Ie(Ve),xe.g=Ae(Ve),xe.b=be(Ve),xe.opacity=_e(Ve),xe+""}}return Te.gamma=ee,Te}(1);function Q(ee,ue){var ge=ue?ue.length:0,Te=ee?Math.min(ge,ee.length):0,xe=new Array(Te),Pe=new Array(ge),Ie;for(Ie=0;Ie<Te;++Ie)xe[Ie]=se(ee[Ie],ue[Ie]);for(;Ie<ge;++Ie)Pe[Ie]=ue[Ie];return function(Ae){for(Ie=0;Ie<Te;++Ie)Pe[Ie]=xe[Ie](Ae);return Pe}}function re(ee,ue){var ge=new Date;return ee=+ee,ue=+ue,function(Te){return ge.setTime(ee*(1-Te)+ue*Te),ge}}function oe(ee,ue){return ee=+ee,ue=+ue,function(ge){return ee*(1-ge)+ue*ge}}function Y(ee,ue){var ge={},Te={},xe;(ee===null||typeof ee!="object")&&(ee={}),(ue===null||typeof ue!="object")&&(ue={});for(xe in ue)xe in ee?ge[xe]=se(ee[xe],ue[xe]):Te[xe]=ue[xe];return function(Pe){for(xe in ge)Te[xe]=ge[xe](Pe);return Te}}var G=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V=new RegExp(G.source,"g");function Z(ee){return function(){return ee}}function ae(ee){return function(ue){return ee(ue)+""}}function ie(ee,ue){var ge=G.lastIndex=V.lastIndex=0,Te,xe,Pe,Ie=-1,Ae=[],be=[];for(ee=ee+"",ue=ue+"";(Te=G.exec(ee))&&(xe=V.exec(ue));)(Pe=xe.index)>ge&&(Pe=ue.slice(ge,Pe),Ae[Ie]?Ae[Ie]+=Pe:Ae[++Ie]=Pe),(Te=Te[0])===(xe=xe[0])?Ae[Ie]?Ae[Ie]+=xe:Ae[++Ie]=xe:(Ae[++Ie]=null,be.push({i:Ie,x:oe(Te,xe)})),ge=V.lastIndex;return ge<ue.length&&(Pe=ue.slice(ge),Ae[Ie]?Ae[Ie]+=Pe:Ae[++Ie]=Pe),Ae.length<2?be[0]?ae(be[0].x):Z(ue):(ue=be.length,function(_e){for(var Ve=0,We;Ve<ue;++Ve)Ae[(We=be[Ve]).i]=We.x(_e);return Ae.join("")})}function J(ee,ue){ue||(ue=[]);var ge=ee?Math.min(ue.length,ee.length):0,Te=ue.slice(),xe;return function(Pe){for(xe=0;xe<ge;++xe)Te[xe]=ee[xe]*(1-Pe)+ue[xe]*Pe;return Te}}function $(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)}function se(ee,ue){var ge=typeof ue,Te;return ue==null||ge==="boolean"?O(ue):(ge==="number"?oe:ge==="string"?(Te=d(ue))?(ue=Te,q):ie:ue instanceof d?q:ue instanceof Date?re:$(ue)?J:Array.isArray(ue)?Q:typeof ue.valueOf!="function"&&typeof ue.toString!="function"||isNaN(ue)?Y:oe)(ee,ue)}},45879:function(W,U,e){e.d(U,{h5:function(){return h}});var p=Math.PI,L=2*p,a=1e-6,P=L-a;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new A}A.prototype=v.prototype={constructor:A,moveTo:function(T,f){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+f)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,f){this._+="L"+(this._x1=+T)+","+(this._y1=+f)},quadraticCurveTo:function(T,f,s,d){this._+="Q"+ +T+","+ +f+","+(this._x1=+s)+","+(this._y1=+d)},bezierCurveTo:function(T,f,s,d,S,M){this._+="C"+ +T+","+ +f+","+ +s+","+ +d+","+(this._x1=+S)+","+(this._y1=+M)},arcTo:function(T,f,s,d,S){T=+T,f=+f,s=+s,d=+d,S=+S;var M=this._x1,C=this._y1,y=s-T,w=d-f,b=M-T,i=C-f,E=b*b+i*i;if(S<0)throw new Error("negative radius: "+S);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=f);else if(E>a)if(!(Math.abs(i*y-w*b)>a)||!S)this._+="L"+(this._x1=T)+","+(this._y1=f);else{var m=s-M,F=d-C,_=y*y+w*w,B=m*m+F*F,I=Math.sqrt(_),O=Math.sqrt(E),z=S*Math.tan((p-Math.acos((_+E-B)/(2*I*O)))/2),k=z/O,N=z/I;Math.abs(k-1)>a&&(this._+="L"+(T+k*b)+","+(f+k*i)),this._+="A"+S+","+S+",0,0,"+ +(i*m>b*F)+","+(this._x1=T+N*y)+","+(this._y1=f+N*w)}},arc:function(T,f,s,d,S,M){T=+T,f=+f,s=+s,M=!!M;var C=s*Math.cos(d),y=s*Math.sin(d),w=T+C,b=f+y,i=1^M,E=M?d-S:S-d;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+w+","+b:(Math.abs(this._x1-w)>a||Math.abs(this._y1-b)>a)&&(this._+="L"+w+","+b),s&&(E<0&&(E=E%L+L),E>P?this._+="A"+s+","+s+",0,1,"+i+","+(T-C)+","+(f-y)+"A"+s+","+s+",0,1,"+i+","+(this._x1=w)+","+(this._y1=b):E>a&&(this._+="A"+s+","+s+",0,"+ +(E>=p)+","+i+","+(this._x1=T+s*Math.cos(S))+","+(this._y1=f+s*Math.sin(S))))},rect:function(T,f,s,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+f)+"h"+ +s+"v"+ +d+"h"+-s+"Z"},toString:function(){return this._}};var g=v,t=Array.prototype.slice;function r(T){return function(){return T}}function u(T){return T[0]}function o(T){return T[1]}function l(T){return T.source}function c(T){return T.target}function n(T){var f=l,s=c,d=u,S=o,M=null;function C(){var y,w=t.call(arguments),b=f.apply(this,w),i=s.apply(this,w);if(M||(M=y=g()),T(M,+d.apply(this,(w[0]=b,w)),+S.apply(this,w),+d.apply(this,(w[0]=i,w)),+S.apply(this,w)),y)return M=null,y+""||null}return C.source=function(y){return arguments.length?(f=y,C):f},C.target=function(y){return arguments.length?(s=y,C):s},C.x=function(y){return arguments.length?(d=typeof y=="function"?y:r(+y),C):d},C.y=function(y){return arguments.length?(S=typeof y=="function"?y:r(+y),C):S},C.context=function(y){return arguments.length?(M=y??null,C):M},C}function x(T,f,s,d,S){T.moveTo(f,s),T.bezierCurveTo(f=(f+d)/2,s,f,S,d,S)}function h(){return n(x)}},84096:function(W,U,e){e.d(U,{i$:function(){return qe},Dq:function(){return u},g0:function(){return it}});var p=e(58176),L=e(48480),a=e(59879),P=e(82301),A=e(34823),v=e(79791);function g(Re){if(0<=Re.y&&Re.y<100){var Me=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return Me.setFullYear(Re.y),Me}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function t(Re){if(0<=Re.y&&Re.y<100){var Me=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return Me.setUTCFullYear(Re.y),Me}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function r(Re,Me,fe){return{y:Re,m:Me,d:fe,H:0,M:0,S:0,L:0}}function u(Re){var Me=Re.dateTime,fe=Re.date,ye=Re.time,Le=Re.periods,Oe=Re.days,ht=Re.shortDays,vt=Re.months,Lt=Re.shortMonths,Ot=T(Le),Jt=f(Le),qt=T(Oe),Vt=f(Oe),vr=T(ht),gr=f(ht),Gr=T(vt),At=f(vt),or=T(Lt),rr=f(Lt),Lr={a:Ct,A:Ut,b:Kt,B:Xt,c:null,d:q,e:q,f:G,H:Q,I:re,j:oe,L:Y,m:V,M:Z,p:ur,q:Ar,Q:$e,s:ke,S:ae,u:ie,U:J,V:$,w:se,W:ee,x:null,X:null,y:ue,Y:ge,Z:Te,"%":It},Tr={a:Rr,A:wr,b:er,B:_r,c:null,d:xe,e:xe,f:_e,H:Pe,I:Ie,j:Ae,L:be,m:Ve,M:We,p:Vr,q:Br,Q:$e,s:ke,S:ze,u:Ze,U:ct,V:lt,w:at,W:tt,x:null,X:null,y:dt,Y:wt,Z:Mt,"%":It},pt={a:Nt,A:Zt,b:$t,B:lr,c:ir,d:m,e:m,f:z,H:_,I:_,j:F,L:O,m:E,M:B,p:Dt,q:i,Q:N,s:K,S:I,u:d,U:S,V:M,w:s,W:C,x:He,X:Ge,y:w,Y:y,Z:b,"%":k};Lr.x=st(fe,Lr),Lr.X=st(ye,Lr),Lr.c=st(Me,Lr),Tr.x=st(fe,Tr),Tr.X=st(ye,Tr),Tr.c=st(Me,Tr);function st(yr,pn){return function(an){var Zr=[],Nn=-1,fn=0,xn=yr.length,On,br,Ir;for(an instanceof Date||(an=new Date(+an));++Nn<xn;)yr.charCodeAt(Nn)===37&&(Zr.push(yr.slice(fn,Nn)),(br=o[On=yr.charAt(++Nn)])!=null?On=yr.charAt(++Nn):br=On==="e"?" ":"0",(Ir=pn[On])&&(On=Ir(an,br)),Zr.push(On),fn=Nn+1);return Zr.push(yr.slice(fn,Nn)),Zr.join("")}}function yt(yr,pn){return function(an){var Zr=r(1900,void 0,1),Nn=Pt(Zr,yr,an+="",0),fn,xn;if(Nn!=an.length)return null;if("Q"in Zr)return new Date(Zr.Q);if("s"in Zr)return new Date(Zr.s*1e3+("L"in Zr?Zr.L:0));if(pn&&!("Z"in Zr)&&(Zr.Z=0),"p"in Zr&&(Zr.H=Zr.H%12+Zr.p*12),Zr.m===void 0&&(Zr.m="q"in Zr?Zr.q:0),"V"in Zr){if(Zr.V<1||Zr.V>53)return null;"w"in Zr||(Zr.w=1),"Z"in Zr?(fn=t(r(Zr.y,0,1)),xn=fn.getUTCDay(),fn=xn>4||xn===0?p.l6.ceil(fn):(0,p.l6)(fn),fn=L.Z.offset(fn,(Zr.V-1)*7),Zr.y=fn.getUTCFullYear(),Zr.m=fn.getUTCMonth(),Zr.d=fn.getUTCDate()+(Zr.w+6)%7):(fn=g(r(Zr.y,0,1)),xn=fn.getDay(),fn=xn>4||xn===0?a.wA.ceil(fn):(0,a.wA)(fn),fn=P.Z.offset(fn,(Zr.V-1)*7),Zr.y=fn.getFullYear(),Zr.m=fn.getMonth(),Zr.d=fn.getDate()+(Zr.w+6)%7)}else("W"in Zr||"U"in Zr)&&("w"in Zr||(Zr.w="u"in Zr?Zr.u%7:"W"in Zr?1:0),xn="Z"in Zr?t(r(Zr.y,0,1)).getUTCDay():g(r(Zr.y,0,1)).getDay(),Zr.m=0,Zr.d="W"in Zr?(Zr.w+6)%7+Zr.W*7-(xn+5)%7:Zr.w+Zr.U*7-(xn+6)%7);return"Z"in Zr?(Zr.H+=Zr.Z/100|0,Zr.M+=Zr.Z%100,t(Zr)):g(Zr)}}function Pt(yr,pn,an,Zr){for(var Nn=0,fn=pn.length,xn=an.length,On,br;Nn<fn;){if(Zr>=xn)return-1;if(On=pn.charCodeAt(Nn++),On===37){if(On=pn.charAt(Nn++),br=pt[On in o?pn.charAt(Nn++):On],!br||(Zr=br(yr,an,Zr))<0)return-1}else if(On!=an.charCodeAt(Zr++))return-1}return Zr}function Dt(yr,pn,an){var Zr=Ot.exec(pn.slice(an));return Zr?(yr.p=Jt[Zr[0].toLowerCase()],an+Zr[0].length):-1}function Nt(yr,pn,an){var Zr=vr.exec(pn.slice(an));return Zr?(yr.w=gr[Zr[0].toLowerCase()],an+Zr[0].length):-1}function Zt(yr,pn,an){var Zr=qt.exec(pn.slice(an));return Zr?(yr.w=Vt[Zr[0].toLowerCase()],an+Zr[0].length):-1}function $t(yr,pn,an){var Zr=or.exec(pn.slice(an));return Zr?(yr.m=rr[Zr[0].toLowerCase()],an+Zr[0].length):-1}function lr(yr,pn,an){var Zr=Gr.exec(pn.slice(an));return Zr?(yr.m=At[Zr[0].toLowerCase()],an+Zr[0].length):-1}function ir(yr,pn,an){return Pt(yr,Me,pn,an)}function He(yr,pn,an){return Pt(yr,fe,pn,an)}function Ge(yr,pn,an){return Pt(yr,ye,pn,an)}function Ct(yr){return ht[yr.getDay()]}function Ut(yr){return Oe[yr.getDay()]}function Kt(yr){return Lt[yr.getMonth()]}function Xt(yr){return vt[yr.getMonth()]}function ur(yr){return Le[+(yr.getHours()>=12)]}function Ar(yr){return 1+~~(yr.getMonth()/3)}function Rr(yr){return ht[yr.getUTCDay()]}function wr(yr){return Oe[yr.getUTCDay()]}function er(yr){return Lt[yr.getUTCMonth()]}function _r(yr){return vt[yr.getUTCMonth()]}function Vr(yr){return Le[+(yr.getUTCHours()>=12)]}function Br(yr){return 1+~~(yr.getUTCMonth()/3)}return{format:function(yr){var pn=st(yr+="",Lr);return pn.toString=function(){return yr},pn},parse:function(yr){var pn=yt(yr+="",!1);return pn.toString=function(){return yr},pn},utcFormat:function(yr){var pn=st(yr+="",Tr);return pn.toString=function(){return yr},pn},utcParse:function(yr){var pn=yt(yr+="",!0);return pn.toString=function(){return yr},pn}}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,n=/[\\^$*+?|[\]().{}]/g;function x(Re,Me,fe){var ye=Re<0?"-":"",Le=(ye?-Re:Re)+"",Oe=Le.length;return ye+(Oe<fe?new Array(fe-Oe+1).join(Me)+Le:Le)}function h(Re){return Re.replace(n,"\\$&")}function T(Re){return new RegExp("^(?:"+Re.map(h).join("|")+")","i")}function f(Re){for(var Me={},fe=-1,ye=Re.length;++fe<ye;)Me[Re[fe].toLowerCase()]=fe;return Me}function s(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+1));return ye?(Re.w=+ye[0],fe+ye[0].length):-1}function d(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+1));return ye?(Re.u=+ye[0],fe+ye[0].length):-1}function S(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.U=+ye[0],fe+ye[0].length):-1}function M(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.V=+ye[0],fe+ye[0].length):-1}function C(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.W=+ye[0],fe+ye[0].length):-1}function y(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+4));return ye?(Re.y=+ye[0],fe+ye[0].length):-1}function w(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.y=+ye[0]+(+ye[0]>68?1900:2e3),fe+ye[0].length):-1}function b(Re,Me,fe){var ye=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Me.slice(fe,fe+6));return ye?(Re.Z=ye[1]?0:-(ye[2]+(ye[3]||"00")),fe+ye[0].length):-1}function i(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+1));return ye?(Re.q=ye[0]*3-3,fe+ye[0].length):-1}function E(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.m=ye[0]-1,fe+ye[0].length):-1}function m(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.d=+ye[0],fe+ye[0].length):-1}function F(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+3));return ye?(Re.m=0,Re.d=+ye[0],fe+ye[0].length):-1}function _(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.H=+ye[0],fe+ye[0].length):-1}function B(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.M=+ye[0],fe+ye[0].length):-1}function I(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+2));return ye?(Re.S=+ye[0],fe+ye[0].length):-1}function O(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+3));return ye?(Re.L=+ye[0],fe+ye[0].length):-1}function z(Re,Me,fe){var ye=l.exec(Me.slice(fe,fe+6));return ye?(Re.L=Math.floor(ye[0]/1e3),fe+ye[0].length):-1}function k(Re,Me,fe){var ye=c.exec(Me.slice(fe,fe+1));return ye?fe+ye[0].length:-1}function N(Re,Me,fe){var ye=l.exec(Me.slice(fe));return ye?(Re.Q=+ye[0],fe+ye[0].length):-1}function K(Re,Me,fe){var ye=l.exec(Me.slice(fe));return ye?(Re.s=+ye[0],fe+ye[0].length):-1}function q(Re,Me){return x(Re.getDate(),Me,2)}function Q(Re,Me){return x(Re.getHours(),Me,2)}function re(Re,Me){return x(Re.getHours()%12||12,Me,2)}function oe(Re,Me){return x(1+P.Z.count((0,A.Z)(Re),Re),Me,3)}function Y(Re,Me){return x(Re.getMilliseconds(),Me,3)}function G(Re,Me){return Y(Re,Me)+"000"}function V(Re,Me){return x(Re.getMonth()+1,Me,2)}function Z(Re,Me){return x(Re.getMinutes(),Me,2)}function ae(Re,Me){return x(Re.getSeconds(),Me,2)}function ie(Re){var Me=Re.getDay();return Me===0?7:Me}function J(Re,Me){return x(a.OM.count((0,A.Z)(Re)-1,Re),Me,2)}function $(Re,Me){var fe=Re.getDay();return Re=fe>=4||fe===0?(0,a.bL)(Re):a.bL.ceil(Re),x(a.bL.count((0,A.Z)(Re),Re)+((0,A.Z)(Re).getDay()===4),Me,2)}function se(Re){return Re.getDay()}function ee(Re,Me){return x(a.wA.count((0,A.Z)(Re)-1,Re),Me,2)}function ue(Re,Me){return x(Re.getFullYear()%100,Me,2)}function ge(Re,Me){return x(Re.getFullYear()%1e4,Me,4)}function Te(Re){var Me=Re.getTimezoneOffset();return(Me>0?"-":(Me*=-1,"+"))+x(Me/60|0,"0",2)+x(Me%60,"0",2)}function xe(Re,Me){return x(Re.getUTCDate(),Me,2)}function Pe(Re,Me){return x(Re.getUTCHours(),Me,2)}function Ie(Re,Me){return x(Re.getUTCHours()%12||12,Me,2)}function Ae(Re,Me){return x(1+L.Z.count((0,v.Z)(Re),Re),Me,3)}function be(Re,Me){return x(Re.getUTCMilliseconds(),Me,3)}function _e(Re,Me){return be(Re,Me)+"000"}function Ve(Re,Me){return x(Re.getUTCMonth()+1,Me,2)}function We(Re,Me){return x(Re.getUTCMinutes(),Me,2)}function ze(Re,Me){return x(Re.getUTCSeconds(),Me,2)}function Ze(Re){var Me=Re.getUTCDay();return Me===0?7:Me}function ct(Re,Me){return x(p.Ox.count((0,v.Z)(Re)-1,Re),Me,2)}function lt(Re,Me){var fe=Re.getUTCDay();return Re=fe>=4||fe===0?(0,p.hB)(Re):p.hB.ceil(Re),x(p.hB.count((0,v.Z)(Re),Re)+((0,v.Z)(Re).getUTCDay()===4),Me,2)}function at(Re){return Re.getUTCDay()}function tt(Re,Me){return x(p.l6.count((0,v.Z)(Re)-1,Re),Me,2)}function dt(Re,Me){return x(Re.getUTCFullYear()%100,Me,2)}function wt(Re,Me){return x(Re.getUTCFullYear()%1e4,Me,4)}function Mt(){return"+0000"}function It(){return"%"}function $e(Re){return+Re}function ke(Re){return Math.floor(+Re/1e3)}var Fe,qe,it;Je({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Je(Re){return Fe=u(Re),qe=Fe.format,Fe.parse,it=Fe.utcFormat,Fe.utcParse,Fe}},82301:function(W,U,e){e.d(U,{a:function(){return P}});var p=e(30052),L=e(54263),a=(0,p.Z)(function(A){A.setHours(0,0,0,0)},function(A,v){A.setDate(A.getDate()+v)},function(A,v){return(v-A-(v.getTimezoneOffset()-A.getTimezoneOffset())*L.yB)/L.UD},function(A){return A.getDate()-1});U.Z=a;var P=a.range},54263:function(W,U,e){e.d(U,{UD:function(){return P},Y2:function(){return a},Ym:function(){return p},iM:function(){return A},yB:function(){return L}});var p=1e3,L=6e4,a=36e5,P=864e5,A=6048e5},81041:function(W,U,e){e.r(U),e.d(U,{timeDay:function(){return x.Z},timeDays:function(){return x.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return c},timeHours:function(){return n},timeInterval:function(){return p.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return P},timeMinute:function(){return u},timeMinutes:function(){return o},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return f},timeMonths:function(){return s},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return g},timeSeconds:function(){return t},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return E.QQ},utcFridays:function(){return E.fz},utcHour:function(){return w},utcHours:function(){return b},utcMillisecond:function(){return a},utcMilliseconds:function(){return P},utcMinute:function(){return M},utcMinutes:function(){return C},utcMonday:function(){return E.l6},utcMondays:function(){return E.$3},utcMonth:function(){return F},utcMonths:function(){return _},utcSaturday:function(){return E.g4},utcSaturdays:function(){return E.Q_},utcSecond:function(){return g},utcSeconds:function(){return t},utcSunday:function(){return E.Ox},utcSundays:function(){return E.SU},utcThursday:function(){return E.hB},utcThursdays:function(){return E.xj},utcTuesday:function(){return E.J1},utcTuesdays:function(){return E.DK},utcWednesday:function(){return E.b3},utcWednesdays:function(){return E.uy},utcWeek:function(){return E.Ox},utcWeeks:function(){return E.SU},utcYear:function(){return B.Z},utcYears:function(){return B.D}});var p=e(30052),L=(0,p.Z)(function(){},function(I,O){I.setTime(+I+O)},function(I,O){return O-I});L.every=function(I){return I=Math.floor(I),!isFinite(I)||!(I>0)?null:I>1?(0,p.Z)(function(O){O.setTime(Math.floor(O/I)*I)},function(O,z){O.setTime(+O+z*I)},function(O,z){return(z-O)/I}):L};var a=L,P=L.range,A=e(54263),v=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds())},function(I,O){I.setTime(+I+O*A.Ym)},function(I,O){return(O-I)/A.Ym},function(I){return I.getUTCSeconds()}),g=v,t=v.range,r=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*A.Ym)},function(I,O){I.setTime(+I+O*A.yB)},function(I,O){return(O-I)/A.yB},function(I){return I.getMinutes()}),u=r,o=r.range,l=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*A.Ym-I.getMinutes()*A.yB)},function(I,O){I.setTime(+I+O*A.Y2)},function(I,O){return(O-I)/A.Y2},function(I){return I.getHours()}),c=l,n=l.range,x=e(82301),h=e(59879),T=(0,p.Z)(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,O){I.setMonth(I.getMonth()+O)},function(I,O){return O.getMonth()-I.getMonth()+(O.getFullYear()-I.getFullYear())*12},function(I){return I.getMonth()}),f=T,s=T.range,d=e(34823),S=(0,p.Z)(function(I){I.setUTCSeconds(0,0)},function(I,O){I.setTime(+I+O*A.yB)},function(I,O){return(O-I)/A.yB},function(I){return I.getUTCMinutes()}),M=S,C=S.range,y=(0,p.Z)(function(I){I.setUTCMinutes(0,0,0)},function(I,O){I.setTime(+I+O*A.Y2)},function(I,O){return(O-I)/A.Y2},function(I){return I.getUTCHours()}),w=y,b=y.range,i=e(48480),E=e(58176),m=(0,p.Z)(function(I){I.setUTCDate(1),I.setUTCHours(0,0,0,0)},function(I,O){I.setUTCMonth(I.getUTCMonth()+O)},function(I,O){return O.getUTCMonth()-I.getUTCMonth()+(O.getUTCFullYear()-I.getUTCFullYear())*12},function(I){return I.getUTCMonth()}),F=m,_=m.range,B=e(79791)},30052:function(W,U,e){e.d(U,{Z:function(){return a}});var p=new Date,L=new Date;function a(P,A,v,g){function t(r){return P(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return P(r=new Date(+r)),r},t.ceil=function(r){return P(r=new Date(r-1)),A(r,1),P(r),r},t.round=function(r){var u=t(r),o=t.ceil(r);return r-u<o-r?u:o},t.offset=function(r,u){return A(r=new Date(+r),u==null?1:Math.floor(u)),r},t.range=function(r,u,o){var l=[],c;if(r=t.ceil(r),o=o==null?1:Math.floor(o),!(r<u)||!(o>0))return l;do l.push(c=new Date(+r)),A(r,o),P(r);while(c<r&&r<u);return l},t.filter=function(r){return a(function(u){if(u>=u)for(;P(u),!r(u);)u.setTime(u-1)},function(u,o){if(u>=u)if(o<0)for(;++o<=0;)for(;A(u,-1),!r(u););else for(;--o>=0;)for(;A(u,1),!r(u););})},v&&(t.count=function(r,u){return p.setTime(+r),L.setTime(+u),P(p),P(L),Math.floor(v(p,L))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(g?function(u){return g(u)%r===0}:function(u){return t.count(0,u)%r===0}):t}),t}},48480:function(W,U,e){e.d(U,{y:function(){return P}});var p=e(30052),L=e(54263),a=(0,p.Z)(function(A){A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCDate(A.getUTCDate()+v)},function(A,v){return(v-A)/L.UD},function(A){return A.getUTCDate()-1});U.Z=a;var P=a.range},58176:function(W,U,e){e.d(U,{$3:function(){return l},DK:function(){return c},J1:function(){return v},Ox:function(){return P},QQ:function(){return r},Q_:function(){return T},SU:function(){return o},b3:function(){return g},fz:function(){return h},g4:function(){return u},hB:function(){return t},l6:function(){return A},uy:function(){return n},xj:function(){return x}});var p=e(30052),L=e(54263);function a(f){return(0,p.Z)(function(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-f)%7),s.setUTCHours(0,0,0,0)},function(s,d){s.setUTCDate(s.getUTCDate()+d*7)},function(s,d){return(d-s)/L.iM})}var P=a(0),A=a(1),v=a(2),g=a(3),t=a(4),r=a(5),u=a(6),o=P.range,l=A.range,c=v.range,n=g.range,x=t.range,h=r.range,T=u.range},79791:function(W,U,e){e.d(U,{D:function(){return a}});var p=e(30052),L=(0,p.Z)(function(P){P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0)},function(P,A){P.setUTCFullYear(P.getUTCFullYear()+A)},function(P,A){return A.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});L.every=function(P){return!isFinite(P=Math.floor(P))||!(P>0)?null:(0,p.Z)(function(A){A.setUTCFullYear(Math.floor(A.getUTCFullYear()/P)*P),A.setUTCMonth(0,1),A.setUTCHours(0,0,0,0)},function(A,v){A.setUTCFullYear(A.getUTCFullYear()+v*P)})},U.Z=L;var a=L.range},59879:function(W,U,e){e.d(U,{$t:function(){return x},EY:function(){return u},Ff:function(){return T},Ld:function(){return n},OM:function(){return P},aU:function(){return c},b$:function(){return h},bJ:function(){return l},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return o},wA:function(){return A},zg:function(){return g}});var p=e(30052),L=e(54263);function a(f){return(0,p.Z)(function(s){s.setDate(s.getDate()-(s.getDay()+7-f)%7),s.setHours(0,0,0,0)},function(s,d){s.setDate(s.getDate()+d*7)},function(s,d){return(d-s-(d.getTimezoneOffset()-s.getTimezoneOffset())*L.yB)/L.iM})}var P=a(0),A=a(1),v=a(2),g=a(3),t=a(4),r=a(5),u=a(6),o=P.range,l=A.range,c=v.range,n=g.range,x=t.range,h=r.range,T=u.range},34823:function(W,U,e){e.d(U,{g:function(){return a}});var p=e(30052),L=(0,p.Z)(function(P){P.setMonth(0,1),P.setHours(0,0,0,0)},function(P,A){P.setFullYear(P.getFullYear()+A)},function(P,A){return A.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});L.every=function(P){return!isFinite(P=Math.floor(P))||!(P>0)?null:(0,p.Z)(function(A){A.setFullYear(Math.floor(A.getFullYear()/P)*P),A.setMonth(0,1),A.setHours(0,0,0,0)},function(A,v){A.setFullYear(A.getFullYear()+v*P)})},U.Z=L;var a=L.range},17045:function(W,U,e){var p=e(8709),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,P=Array.prototype.concat,A=Object.defineProperty,v=function(o){return typeof o=="function"&&a.call(o)==="[object Function]"},g=function(){var o={};try{A(o,"x",{enumerable:!1,value:o});for(var l in o)return!1;return o.x===o}catch{return!1}},t=A&&g(),r=function(o,l,c,n){l in o&&(!v(n)||!n())||(t?A(o,l,{configurable:!0,enumerable:!1,value:c,writable:!0}):o[l]=c)},u=function(o,l){var c=arguments.length>2?arguments[2]:{},n=p(l);L&&(n=P.call(n,Object.getOwnPropertySymbols(l)));for(var x=0;x<n.length;x+=1)r(o,n[x],l[n[x]],c[n[x]])};u.supportsDescriptors=!!t,W.exports=u},46775:function(W){W.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},53545:function(W){W.exports=L;var U=L.canvas=document.createElement("canvas"),e=U.getContext("2d"),p=a([32,126]);L.createPairs=a,L.ascii=p;function L(P,A){Array.isArray(P)&&(P=P.join(", "));var v={},g,t=16,r=.05;A&&(A.length===2&&typeof A[0]=="number"?g=a(A):Array.isArray(A)?g=A:(A.o?g=a(A.o):A.pairs&&(g=A.pairs),A.fontSize&&(t=A.fontSize),A.threshold!=null&&(r=A.threshold))),g||(g=p),e.font=t+"px "+P;for(var u=0;u<g.length;u++){var o=g[u],l=e.measureText(o[0]).width+e.measureText(o[1]).width,c=e.measureText(o).width;if(Math.abs(l-c)>t*r){var n=(c-l)/t;v[o]=n*1e3}}return v}function a(P){for(var A=[],v=P[0];v<=P[1];v++)for(var g=String.fromCharCode(v),t=P[0];t<P[1];t++){var r=String.fromCharCode(t),u=g+r;A.push(u)}return A}},31457:function(W,U,e){var p=e(65185),L=e(18625),a={M:"moveTo",C:"bezierCurveTo"};W.exports=function(P,A){P.beginPath(),L(p(A)).forEach(function(v){var g=v[0],t=v.slice(1);P[a[g]].apply(P,t)}),P.closePath()}},90660:function(W){W.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(W){function U(L,a,P){var A=L[P]|0;if(A<=0)return[];var v=new Array(A),g;if(P===L.length-1)for(g=0;g<A;++g)v[g]=a;else for(g=0;g<A;++g)v[g]=U(L,a,P+1);return v}function e(L,a){var P,A;for(P=new Array(L),A=0;A<L;++A)P[A]=a;return P}function p(L,a){switch(typeof a>"u"&&(a=0),typeof L){case"number":if(L>0)return e(L|0,a);break;case"object":if(typeof L.length=="number")return U(L,a,0);break}return[]}W.exports=p},11474:function(W){W.exports=U,W.exports.default=U;function U(_,B,I){I=I||2;var O=B&&B.length,z=O?B[0]*I:_.length,k=e(_,0,z,I,!0),N=[];if(!k||k.next===k.prev)return N;var K,q,Q,re,oe,Y,G;if(O&&(k=g(_,B,k,I)),_.length>80*I){K=Q=_[0],q=re=_[1];for(var V=I;V<z;V+=I)oe=_[V],Y=_[V+1],oe<K&&(K=oe),Y<q&&(q=Y),oe>Q&&(Q=oe),Y>re&&(re=Y);G=Math.max(Q-K,re-q),G=G!==0?1/G:0}return L(k,N,I,K,q,G),N}function e(_,B,I,O,z){var k,N;if(z===F(_,B,I,O)>0)for(k=B;k<I;k+=O)N=i(k,_[k],_[k+1],N);else for(k=I-O;k>=B;k-=O)N=i(k,_[k],_[k+1],N);return N&&s(N,N.next)&&(E(N),N=N.next),N}function p(_,B){if(!_)return _;B||(B=_);var I=_,O;do if(O=!1,!I.steiner&&(s(I,I.next)||f(I.prev,I,I.next)===0)){if(E(I),I=B=I.prev,I===I.next)break;O=!0}else I=I.next;while(O||I!==B);return B}function L(_,B,I,O,z,k,N){if(_){!N&&k&&l(_,O,z,k);for(var K=_,q,Q;_.prev!==_.next;){if(q=_.prev,Q=_.next,k?P(_,O,z,k):a(_)){B.push(q.i/I),B.push(_.i/I),B.push(Q.i/I),E(_),_=Q.next,K=Q.next;continue}if(_=Q,_===K){N?N===1?(_=A(p(_),B,I),L(_,B,I,O,z,k,2)):N===2&&v(_,B,I,O,z,k):L(p(_),B,I,O,z,k,1);break}}}}function a(_){var B=_.prev,I=_,O=_.next;if(f(B,I,O)>=0)return!1;for(var z=_.next.next;z!==_.prev;){if(h(B.x,B.y,I.x,I.y,O.x,O.y,z.x,z.y)&&f(z.prev,z,z.next)>=0)return!1;z=z.next}return!0}function P(_,B,I,O){var z=_.prev,k=_,N=_.next;if(f(z,k,N)>=0)return!1;for(var K=z.x<k.x?z.x<N.x?z.x:N.x:k.x<N.x?k.x:N.x,q=z.y<k.y?z.y<N.y?z.y:N.y:k.y<N.y?k.y:N.y,Q=z.x>k.x?z.x>N.x?z.x:N.x:k.x>N.x?k.x:N.x,re=z.y>k.y?z.y>N.y?z.y:N.y:k.y>N.y?k.y:N.y,oe=n(K,q,B,I,O),Y=n(Q,re,B,I,O),G=_.prevZ,V=_.nextZ;G&&G.z>=oe&&V&&V.z<=Y;){if(G!==_.prev&&G!==_.next&&h(z.x,z.y,k.x,k.y,N.x,N.y,G.x,G.y)&&f(G.prev,G,G.next)>=0||(G=G.prevZ,V!==_.prev&&V!==_.next&&h(z.x,z.y,k.x,k.y,N.x,N.y,V.x,V.y)&&f(V.prev,V,V.next)>=0))return!1;V=V.nextZ}for(;G&&G.z>=oe;){if(G!==_.prev&&G!==_.next&&h(z.x,z.y,k.x,k.y,N.x,N.y,G.x,G.y)&&f(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;V&&V.z<=Y;){if(V!==_.prev&&V!==_.next&&h(z.x,z.y,k.x,k.y,N.x,N.y,V.x,V.y)&&f(V.prev,V,V.next)>=0)return!1;V=V.nextZ}return!0}function A(_,B,I){var O=_;do{var z=O.prev,k=O.next.next;!s(z,k)&&d(z,O,O.next,k)&&y(z,k)&&y(k,z)&&(B.push(z.i/I),B.push(O.i/I),B.push(k.i/I),E(O),E(O.next),O=_=k),O=O.next}while(O!==_);return p(O)}function v(_,B,I,O,z,k){var N=_;do{for(var K=N.next.next;K!==N.prev;){if(N.i!==K.i&&T(N,K)){var q=b(N,K);N=p(N,N.next),q=p(q,q.next),L(N,B,I,O,z,k),L(q,B,I,O,z,k);return}K=K.next}N=N.next}while(N!==_)}function g(_,B,I,O){var z=[],k,N,K,q,Q;for(k=0,N=B.length;k<N;k++)K=B[k]*O,q=k<N-1?B[k+1]*O:_.length,Q=e(_,K,q,O,!1),Q===Q.next&&(Q.steiner=!0),z.push(x(Q));for(z.sort(t),k=0;k<z.length;k++)r(z[k],I),I=p(I,I.next);return I}function t(_,B){return _.x-B.x}function r(_,B){if(B=u(_,B),B){var I=b(B,_);p(B,B.next),p(I,I.next)}}function u(_,B){var I=B,O=_.x,z=_.y,k=-1/0,N;do{if(z<=I.y&&z>=I.next.y&&I.next.y!==I.y){var K=I.x+(z-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(K<=O&&K>k){if(k=K,K===O){if(z===I.y)return I;if(z===I.next.y)return I.next}N=I.x<I.next.x?I:I.next}}I=I.next}while(I!==B);if(!N)return null;if(O===k)return N;var q=N,Q=N.x,re=N.y,oe=1/0,Y;I=N;do O>=I.x&&I.x>=Q&&O!==I.x&&h(z<re?O:k,z,Q,re,z<re?k:O,z,I.x,I.y)&&(Y=Math.abs(z-I.y)/(O-I.x),y(I,_)&&(Y<oe||Y===oe&&(I.x>N.x||I.x===N.x&&o(N,I)))&&(N=I,oe=Y)),I=I.next;while(I!==q);return N}function o(_,B){return f(_.prev,_,B.prev)<0&&f(B.next,_,_.next)<0}function l(_,B,I,O){var z=_;do z.z===null&&(z.z=n(z.x,z.y,B,I,O)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==_);z.prevZ.nextZ=null,z.prevZ=null,c(z)}function c(_){var B,I,O,z,k,N,K,q,Q=1;do{for(I=_,_=null,k=null,N=0;I;){for(N++,O=I,K=0,B=0;B<Q&&(K++,O=O.nextZ,!!O);B++);for(q=Q;K>0||q>0&&O;)K!==0&&(q===0||!O||I.z<=O.z)?(z=I,I=I.nextZ,K--):(z=O,O=O.nextZ,q--),k?k.nextZ=z:_=z,z.prevZ=k,k=z;I=O}k.nextZ=null,Q*=2}while(N>1);return _}function n(_,B,I,O,z){return _=32767*(_-I)*z,B=32767*(B-O)*z,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,_|B<<1}function x(_){var B=_,I=_;do(B.x<I.x||B.x===I.x&&B.y<I.y)&&(I=B),B=B.next;while(B!==_);return I}function h(_,B,I,O,z,k,N,K){return(z-N)*(B-K)-(_-N)*(k-K)>=0&&(_-N)*(O-K)-(I-N)*(B-K)>=0&&(I-N)*(k-K)-(z-N)*(O-K)>=0}function T(_,B){return _.next.i!==B.i&&_.prev.i!==B.i&&!C(_,B)&&(y(_,B)&&y(B,_)&&w(_,B)&&(f(_.prev,_,B.prev)||f(_,B.prev,B))||s(_,B)&&f(_.prev,_,_.next)>0&&f(B.prev,B,B.next)>0)}function f(_,B,I){return(B.y-_.y)*(I.x-B.x)-(B.x-_.x)*(I.y-B.y)}function s(_,B){return _.x===B.x&&_.y===B.y}function d(_,B,I,O){var z=M(f(_,B,I)),k=M(f(_,B,O)),N=M(f(I,O,_)),K=M(f(I,O,B));return!!(z!==k&&N!==K||z===0&&S(_,I,B)||k===0&&S(_,O,B)||N===0&&S(I,_,O)||K===0&&S(I,B,O))}function S(_,B,I){return B.x<=Math.max(_.x,I.x)&&B.x>=Math.min(_.x,I.x)&&B.y<=Math.max(_.y,I.y)&&B.y>=Math.min(_.y,I.y)}function M(_){return _>0?1:_<0?-1:0}function C(_,B){var I=_;do{if(I.i!==_.i&&I.next.i!==_.i&&I.i!==B.i&&I.next.i!==B.i&&d(I,I.next,_,B))return!0;I=I.next}while(I!==_);return!1}function y(_,B){return f(_.prev,_,_.next)<0?f(_,B,_.next)>=0&&f(_,_.prev,B)>=0:f(_,B,_.prev)<0||f(_,_.next,B)<0}function w(_,B){var I=_,O=!1,z=(_.x+B.x)/2,k=(_.y+B.y)/2;do I.y>k!=I.next.y>k&&I.next.y!==I.y&&z<(I.next.x-I.x)*(k-I.y)/(I.next.y-I.y)+I.x&&(O=!O),I=I.next;while(I!==_);return O}function b(_,B){var I=new m(_.i,_.x,_.y),O=new m(B.i,B.x,B.y),z=_.next,k=B.prev;return _.next=B,B.prev=_,I.next=z,z.prev=I,O.next=I,I.prev=O,k.next=O,O.prev=k,O}function i(_,B,I,O){var z=new m(_,B,I);return O?(z.next=O.next,z.prev=O,O.next.prev=z,O.next=z):(z.prev=z,z.next=z),z}function E(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function m(_,B,I){this.i=_,this.x=B,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(_,B,I,O){var z=B&&B.length,k=z?B[0]*I:_.length,N=Math.abs(F(_,0,k,I));if(z)for(var K=0,q=B.length;K<q;K++){var Q=B[K]*I,re=K<q-1?B[K+1]*I:_.length;N-=Math.abs(F(_,Q,re,I))}var oe=0;for(K=0;K<O.length;K+=3){var Y=O[K]*I,G=O[K+1]*I,V=O[K+2]*I;oe+=Math.abs((_[Y]-_[V])*(_[G+1]-_[Y+1])-(_[Y]-_[G])*(_[V+1]-_[Y+1]))}return N===0&&oe===0?0:Math.abs((oe-N)/N)};function F(_,B,I,O){for(var z=0,k=B,N=I-O;k<I;k+=O)z+=(_[N]-_[k])*(_[k+1]+_[N+1]),N=k;return z}U.flatten=function(_){for(var B=_[0][0].length,I={vertices:[],holes:[],dimensions:B},O=0,z=0;z<_.length;z++){for(var k=0;k<_[z].length;k++)for(var N=0;N<B;N++)I.vertices.push(_[z][k][N]);z>0&&(O+=_[z-1].length,I.holes.push(O))}return I}},2502:function(W,U,e){var p=e(68664);W.exports=function(a,P){var A=[],v=[],g=[],t={},r=[],u;function o(S){g[S]=!1,t.hasOwnProperty(S)&&Object.keys(t[S]).forEach(function(M){delete t[S][M],g[M]&&o(M)})}function l(S){var M=!1;v.push(S),g[S]=!0;var C,y;for(C=0;C<r[S].length;C++)y=r[S][C],y===u?(c(u,v),M=!0):g[y]||(M=l(y));if(M)o(S);else for(C=0;C<r[S].length;C++){y=r[S][C];var w=t[y];w||(w={},t[y]=w),w[y]=!0}return v.pop(),M}function c(S,M){var C=[].concat(M).concat(S);P?P(l):A.push(C)}function n(S){for(var M=0;M<a.length;M++)M<S&&(a[M]=[]),a[M]=a[M].filter(function(C){return C>=S})}function x(S){n(S);for(var M=a,C=p(M),y=C.components.filter(function(_){return _.length>1}),w=1/0,b,i=0;i<y.length;i++)for(var E=0;E<y[i].length;E++)y[i][E]<w&&(w=y[i][E],b=i);var m=y[b];if(!m)return!1;var F=a.map(function(_,B){return m.indexOf(B)===-1?[]:_.filter(function(I){return m.indexOf(I)!==-1})});return{leastVertex:w,adjList:F}}u=0;for(var h=a.length;u<h;){var T=x(u);if(u=T.leastVertex,r=T.adjList,r){for(var f=0;f<r.length;f++)for(var s=0;s<r[f].length;s++){var d=r[f][s];g[+d]=!1,t[d]={}}l(u),u=u+1}else u=h}if(!P)return A}},72943:function(W,U,e){var p,L=TypeError,a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var P=function(){throw new L},A=a?function(){try{return arguments.callee,P}catch{try{return a(arguments,"callee").get}catch{return P}}}():P,v=e(57877)(),g=Object.getPrototypeOf||function(s){return s.__proto__},t=p,r=p,u=p,o=typeof Uint8Array>"u"?p:g(Uint8Array),l={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?p:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":v?g([][Symbol.iterator]()):p,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":r,"%AsyncFunctionPrototype%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":u,"%AsyncGeneratorPrototype%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?p:DataView,"%DataViewPrototype%":typeof DataView>"u"?p:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?p:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?p:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":p,"%GeneratorFunction%":t,"%GeneratorPrototype%":p,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?p:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?p:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?p:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v?g(g([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%JSONParse%":typeof JSON=="object"?JSON.parse:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!v?p:g(new Map()[Symbol.iterator]()),"%MapPrototype%":typeof Map>"u"?p:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%PromisePrototype%":typeof Promise>"u"?p:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?p:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?p:Promise.all,"%Promise_reject%":typeof Promise>"u"?p:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?p:Promise.resolve,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!v?p:g(new Set()[Symbol.iterator]()),"%SetPrototype%":typeof Set>"u"?p:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":v?g(""[Symbol.iterator]()):p,"%StringPrototype%":String.prototype,"%Symbol%":v?Symbol:p,"%SymbolPrototype%":v?Symbol.prototype:p,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":A,"%TypedArray%":o,"%TypedArrayPrototype%":o?o.prototype:p,"%TypeError%":L,"%TypeErrorPrototype%":L.prototype,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?p:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?p:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?p:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?p:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?p:WeakSet.prototype},c=e(77575),n=c.call(Function.call,String.prototype.replace),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,T=function(d){var S=[];return n(d,x,function(M,C,y,w){S[S.length]=y?n(w,h,"$1"):C||M}),S},f=function(d,S){if(!(d in l))throw new SyntaxError("intrinsic "+d+" does not exist!");if(typeof l[d]>"u"&&!S)throw new L("intrinsic "+d+" exists, but is not available. Please file an issue!");return l[d]};W.exports=function(d,S){if(typeof d!="string"||d.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof S!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var M=T(d),C=f("%"+(M.length>0?M[0]:"")+"%",S),y=1;y<M.length;y+=1)if(C!=null)if(a&&y+1>=M.length){var w=a(C,M[y]);if(!S&&!(M[y]in C))throw new L("base intrinsic for "+d+" exists, but the property is not available.");C=w?w.get||w.value:C[M[y]]}else C=C[M[y]];return C}},84671:function(W,U,e){var p=e(77575),L=e(72943),a=L("%Function%"),P=a.apply,A=a.call;W.exports=function(){return p.apply(A,arguments)},W.exports.apply=function(){return p.apply(P,arguments)}},92978:function(W,U,e){var p=e(72943),L=e(84671),a=L(p("String.prototype.indexOf"));W.exports=function(A,v){var g=p(A,!!v);return typeof g=="function"&&a(A,".prototype.")?L(g):g}},67295:function(W,U,e){var p=e(72943),L=p("%Object.getOwnPropertyDescriptor%");if(L)try{L([],"length")}catch{L=null}W.exports=L},16134:function(W,U,e){var p=e(36672);W.exports=function(){return p(this).length=0,this}},4892:function(W,U,e){W.exports=e(64404)()?Array.from:e(49441)},64404:function(W){W.exports=function(){var U=Array.from,e,p;return typeof U!="function"?!1:(e=["raz","dwa"],p=U(e),Boolean(p&&p!==e&&p[1]==="dwa"))}},49441:function(W,U,e){var p=e(8260).iterator,L=e(73051),a=e(33717),P=e(35976),A=e(78513),v=e(36672),g=e(95296),t=e(87963),r=Array.isArray,u=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;W.exports=function(c){var n=arguments[1],x=arguments[2],h,T,f,s,d,S,M,C,y,w;if(c=Object(v(c)),g(n)&&A(n),!this||this===Array||!a(this)){if(!n){if(L(c))return d=c.length,d!==1?Array.apply(null,c):(s=new Array(1),s[0]=c[0],s);if(r(c)){for(s=new Array(d=c.length),T=0;T<d;++T)s[T]=c[T];return s}}s=[]}else h=this;if(!r(c)){if((y=c[p])!==void 0){for(M=A(y).call(c),h&&(s=new h),C=M.next(),T=0;!C.done;)w=n?u.call(n,x,C.value,T):C.value,h?(o.value=w,l(s,T,o)):s[T]=w,C=M.next(),++T;d=T}else if(t(c)){for(d=c.length,h&&(s=new h),T=0,f=0;T<d;++T)w=c[T],T+1<d&&(S=w.charCodeAt(0),S>=55296&&S<=56319&&(w+=c[++T])),w=n?u.call(n,x,w,f):w,h?(o.value=w,l(s,f,o)):s[f]=w,++f;d=f}}if(d===void 0)for(d=P(c.length),h&&(s=new h(d)),T=0;T<d;++T)w=n?u.call(n,x,c[T],T):c[T],h?(o.value=w,l(s,T,o)):s[T]=w;return h&&(o.value=null,s.length=d),s}},73051:function(W){var U=Object.prototype.toString,e=U.call(function(){return arguments}());W.exports=function(p){return U.call(p)===e}},33717:function(W){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);W.exports=function(p){return typeof p=="function"&&e(U.call(p))}},52345:function(W){W.exports=function(){}},9953:function(W,U,e){W.exports=e(90436)()?Math.sign:e(6069)},90436:function(W){W.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},6069:function(W){W.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},56247:function(W,U,e){var p=e(9953),L=Math.abs,a=Math.floor;W.exports=function(P){return isNaN(P)?0:(P=Number(P),P===0||!isFinite(P)?P:p(P)*a(L(P)))}},35976:function(W,U,e){var p=e(56247),L=Math.max;W.exports=function(a){return L(0,p(a))}},67260:function(W,U,e){var p=e(78513),L=e(36672),a=Function.prototype.bind,P=Function.prototype.call,A=Object.keys,v=Object.prototype.propertyIsEnumerable;W.exports=function(g,t){return function(r,u){var o,l=arguments[2],c=arguments[3];return r=Object(L(r)),p(u),o=A(r),c&&o.sort(typeof c=="function"?a.call(c,r):void 0),typeof g!="function"&&(g=o[g]),P.call(g,o,function(n,x){return v.call(r,n)?P.call(u,l,r[n],n,r,x):t})}}},95879:function(W,U,e){W.exports=e(73583)()?Object.assign:e(34205)},73583:function(W){W.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(W,U,e){var p=e(68700),L=e(36672),a=Math.max;W.exports=function(P,A){var v,g,t=a(arguments.length,2),r;for(P=Object(L(P)),r=function(u){try{P[u]=A[u]}catch(o){v||(v=o)}},g=1;g<t;++g)A=arguments[g],p(A).forEach(r);if(v!==void 0)throw v;return P}},19012:function(W,U,e){var p=e(4892),L=e(95879),a=e(36672);W.exports=function(P){var A=Object(a(P)),v=arguments[1],g=Object(arguments[2]);if(A!==P&&!v)return A;var t={};return v?p(v,function(r){(g.ensure||r in P)&&(t[r]=P[r])}):L(t,P),t}},52818:function(W,U,e){var p=Object.create,L;e(33247)()||(L=e(51882)),W.exports=function(){var a,P,A;return!L||L.level!==1?p:(a={},P={},A={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){P[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}P[v]=A}),Object.defineProperties(a,P),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,g){return p(v===null?a:v,g)})}()},96437:function(W,U,e){W.exports=e(67260)("forEach")},99611:function(W,U,e){var p=e(95296),L={function:!0,object:!0};W.exports=function(a){return p(a)&&L[typeof a]||!1}},95296:function(W,U,e){var p=e(52345)();W.exports=function(L){return L!==p&&L!==null}},68700:function(W,U,e){W.exports=e(13895)()?Object.keys:e(25217)},13895:function(W){W.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(W,U,e){var p=e(95296),L=Object.keys;W.exports=function(a){return L(p(a)?Object(a):a)}},16906:function(W,U,e){var p=e(78513),L=e(96437),a=Function.prototype.call;W.exports=function(P,A){var v={},g=arguments[2];return p(A),L(P,function(t,r,u,o){v[r]=a.call(A,g,t,r,u,o)}),v}},21780:function(W,U,e){var p=e(95296),L=Array.prototype.forEach,a=Object.create,P=function(A,v){var g;for(g in A)v[g]=A[g]};W.exports=function(A){var v=a(null);return L.call(arguments,function(g){p(g)&&P(Object(g),v)}),v}},1496:function(W,U,e){W.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(W){var U=Object.create,e=Object.getPrototypeOf,p={};W.exports=function(){var L=Object.setPrototypeOf,a=arguments[0]||U;return typeof L!="function"?!1:e(L(a(null),p))===p}},51882:function(W,U,e){var p=e(99611),L=e(36672),a=Object.prototype.isPrototypeOf,P=Object.defineProperty,A={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(g,t){if(L(g),t===null||p(t))return g;throw new TypeError("Prototype must be null or an object")},W.exports=function(g){var t,r;return g?(g.level===2?g.set?(r=g.set,t=function(u,o){return r.call(v(u,o),o),u}):t=function(u,o){return v(u,o).__proto__=o,u}:t=function u(o,l){var c;return v(o,l),c=a.call(u.nullPolyfill,o),c&&delete u.nullPolyfill.__proto__,l===null&&(l=u.nullPolyfill),o.__proto__=l,c&&P(u.nullPolyfill,"__proto__",A),o},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),t={},r,u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{r=u.set,r.call(g,t)}catch{}if(Object.getPrototypeOf(g)===t)return{set:r,level:2}}return g.__proto__=t,Object.getPrototypeOf(g)===t?{level:2}:(g={},g.__proto__=t,Object.getPrototypeOf(g)===t?{level:1}:!1)}()),e(52818)},78513:function(W){W.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},98976:function(W,U,e){var p=e(99611);W.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},36672:function(W,U,e){var p=e(95296);W.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},66741:function(W,U,e){W.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(W){var U="razdwatrzy";W.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},60381:function(W){var U=String.prototype.indexOf;W.exports=function(e){return U.call(this,e,arguments[1])>-1}},87963:function(W){var U=Object.prototype.toString,e=U.call("");W.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||U.call(p)===e)||!1}},43043:function(W){var U=Object.create(null),e=Math.random;W.exports=function(){var p;do p=e().toString(36).slice(2);while(U[p]);return p}},32411:function(W,U,e){var p=e(1496),L=e(66741),a=e(62072),P=e(8260),A=e(95426),v=Object.defineProperty,g;g=W.exports=function(t,r){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");A.call(this,t),r?L.call(r,"key+value")?r="key+value":L.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",a("",r))},p&&p(g,A),delete g.prototype.constructor,g.prototype=Object.create(A.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(g.prototype,P.toStringTag,a("c","Array Iterator"))},27515:function(W,U,e){var p=e(73051),L=e(78513),a=e(87963),P=e(66661),A=Array.isArray,v=Function.prototype.call,g=Array.prototype.some;W.exports=function(t,r){var u,o=arguments[2],l,c,n,x,h,T,f;if(A(t)||p(t)?u="array":a(t)?u="string":t=P(t),L(r),c=function(){n=!0},u==="array"){g.call(t,function(s){return v.call(r,o,s,c),n});return}if(u==="string"){for(h=t.length,x=0;x<h&&(T=t[x],x+1<h&&(f=T.charCodeAt(0),f>=55296&&f<=56319&&(T+=t[++x])),v.call(r,o,T,c),!n);++x);return}for(l=t.next();!l.done;){if(v.call(r,o,l.value,c),n)return;l=t.next()}}},66661:function(W,U,e){var p=e(73051),L=e(87963),a=e(32411),P=e(259),A=e(58095),v=e(8260).iterator;W.exports=function(g){return typeof A(g)[v]=="function"?g[v]():p(g)?new a(g):L(g)?new P(g):new a(g)}},95426:function(W,U,e){var p=e(16134),L=e(95879),a=e(78513),P=e(36672),A=e(62072),v=e(55174),g=e(8260),t=Object.defineProperty,r=Object.defineProperties,u;W.exports=u=function(o,l){if(!(this instanceof u))throw new TypeError("Constructor requires 'new'");r(this,{__list__:A("w",P(o)),__context__:A("w",l),__nextIndex__:A("w",0)}),l&&(a(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete u.prototype.constructor,r(u.prototype,L({_next:A(function(){var o;if(this.__list__){if(this.__redo__&&(o=this.__redo__.shift(),o!==void 0))return o;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:A(function(){return this._createResult(this._next())}),_createResult:A(function(o){return o===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:A(function(o){return this.__list__[o]}),_unBind:A(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:A(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},v({_onAdd:A(function(o){if(!(o>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",A("c",[o]));return}this.__redo__.forEach(function(l,c){l>=o&&(this.__redo__[c]=++l)},this),this.__redo__.push(o)}}),_onDelete:A(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(o),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(c,n){c>o&&(this.__redo__[n]=--c)},this)))}),_onClear:A(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),t(u.prototype,g.iterator,A(function(){return this}))},35940:function(W,U,e){var p=e(73051),L=e(95296),a=e(87963),P=e(8260).iterator,A=Array.isArray;W.exports=function(v){return L(v)?A(v)||a(v)||p(v)?!0:typeof v[P]=="function":!1}},259:function(W,U,e){var p=e(1496),L=e(62072),a=e(8260),P=e(95426),A=Object.defineProperty,v;v=W.exports=function(g){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");g=String(g),P.call(this,g),A(this,"__length__",L("",g.length))},p&&p(v,P),delete v.prototype.constructor,v.prototype=Object.create(P.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(g){var t=this.__list__[g],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),A(v.prototype,a.toStringTag,L("c","String Iterator"))},58095:function(W,U,e){var p=e(35940);W.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},73523:function(W){function U(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(p),P=1;P<arguments.length;P++){var A=arguments[P];if(A!=null)for(var v=Object.keys(Object(A)),g=0,t=v.length;g<t;g++){var r=v[g],u=Object.getOwnPropertyDescriptor(A,r);u!==void 0&&u.enumerable&&(a[r]=A[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}W.exports={assign:U,polyfill:e}},8260:function(W,U,e){W.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(W,U,e){var p=e(94908),L={object:!0,symbol:!0};W.exports=function(){var a=p.Symbol,P;if(typeof a!="function")return!1;P=a("test symbol");try{String(P)}catch{return!1}return!(!L[typeof a.iterator]||!L[typeof a.toPrimitive]||!L[typeof a.toStringTag])}},82276:function(W){W.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},29366:function(W,U,e){var p=e(62072),L=Object.create,a=Object.defineProperty,P=Object.prototype,A=L(null);W.exports=function(v){for(var g=0,t,r;A[v+(g||"")];)++g;return v+=g||"",A[v]=!0,t="@@"+v,a(P,t,p.gs(null,function(u){r||(r=!0,a(this,t,p(u)),r=!1)})),t}},92842:function(W,U,e){var p=e(62072),L=e(94908).Symbol;W.exports=function(a){return Object.defineProperties(a,{hasInstance:p("",L&&L.hasInstance||a("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||a("isConcatSpreadable")),iterator:p("",L&&L.iterator||a("iterator")),match:p("",L&&L.match||a("match")),replace:p("",L&&L.replace||a("replace")),search:p("",L&&L.search||a("search")),species:p("",L&&L.species||a("species")),split:p("",L&&L.split||a("split")),toPrimitive:p("",L&&L.toPrimitive||a("toPrimitive")),toStringTag:p("",L&&L.toStringTag||a("toStringTag")),unscopables:p("",L&&L.unscopables||a("unscopables"))})}},13304:function(W,U,e){var p=e(62072),L=e(53308),a=Object.create(null);W.exports=function(P){return Object.defineProperties(P,{for:p(function(A){return a[A]?a[A]:a[A]=P(String(A))}),keyFor:p(function(A){var v;L(A);for(v in a)if(a[v]===A)return v})})}},18415:function(W,U,e){var p=e(62072),L=e(53308),a=e(94908).Symbol,P=e(29366),A=e(92842),v=e(13304),g=Object.create,t=Object.defineProperties,r=Object.defineProperty,u,o,l;if(typeof a=="function")try{String(a()),l=!0}catch{}else a=null;o=function(n){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return u(n)},W.exports=u=function c(n){var x;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return l?a(n):(x=g(o.prototype),n=n===void 0?"":String(n),t(x,{__description__:p("",n),__name__:p("",P(n))}))},A(u),v(u),t(o.prototype,{constructor:p(u),toString:p("",function(){return this.__name__})}),t(u.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),r(u.prototype,u.toPrimitive,p("",function(){var c=L(this);return typeof c=="symbol"?c:c.toString()})),r(u.prototype,u.toStringTag,p("c","Symbol")),r(o.prototype,u.toStringTag,p("c",u.prototype[u.toStringTag])),r(o.prototype,u.toPrimitive,p("c",u.prototype[u.toPrimitive]))},53308:function(W,U,e){var p=e(82276);W.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},83522:function(W,U,e){W.exports=e(96402)()?WeakMap:e(329)},96402:function(W){W.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},96416:function(W){W.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(W,U,e){var p=e(95296),L=e(1496),a=e(98976),P=e(36672),A=e(43043),v=e(62072),g=e(66661),t=e(27515),r=e(8260).toStringTag,u=e(96416),o=Array.isArray,l=Object.defineProperty,c=Object.prototype.hasOwnProperty,n=Object.getPrototypeOf,x;W.exports=x=function(){var h=arguments[0],T;if(!(this instanceof x))throw new TypeError("Constructor requires 'new'");return T=u&&L&&WeakMap!==x?L(new WeakMap,n(this)):this,p(h)&&(o(h)||(h=g(h))),l(T,"__weakMapData__",v("c","$weakMap$"+A())),h&&t(h,function(f){P(f),T.set(f[0],f[1])}),T},u&&(L&&L(x,WeakMap),x.prototype=Object.create(WeakMap.prototype,{constructor:v(x)})),Object.defineProperties(x.prototype,{delete:v(function(h){return c.call(a(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(c.call(a(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return c.call(a(h),this.__weakMapData__)}),set:v(function(h,T){return l(a(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),l(x.prototype,r,v("c","WeakMap"))},15398:function(W){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(d,S,M){return Function.prototype.apply.call(d,S,M)},p;U&&typeof U.ownKeys=="function"?p=U.ownKeys:Object.getOwnPropertySymbols?p=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:p=function(d){return Object.getOwnPropertyNames(d)};function L(s){console&&console.warn&&console.warn(s)}var a=Number.isNaN||function(d){return d!==d};function P(){P.init.call(this)}W.exports=P,W.exports.once=h,P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var A=10;function v(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(s){if(typeof s!="number"||s<0||a(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");A=s}}),P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function g(s){return s._maxListeners===void 0?P.defaultMaxListeners:s._maxListeners}P.prototype.getMaxListeners=function(){return g(this)},P.prototype.emit=function(d){for(var S=[],M=1;M<arguments.length;M++)S.push(arguments[M]);var C=d==="error",y=this._events;if(y!==void 0)C=C&&y.error===void 0;else if(!C)return!1;if(C){var w;if(S.length>0&&(w=S[0]),w instanceof Error)throw w;var b=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw b.context=w,b}var i=y[d];if(i===void 0)return!1;if(typeof i=="function")e(i,this,S);else for(var E=i.length,m=c(i,E),M=0;M<E;++M)e(m[M],this,S);return!0};function t(s,d,S,M){var C,y,w;if(v(S),y=s._events,y===void 0?(y=s._events=Object.create(null),s._eventsCount=0):(y.newListener!==void 0&&(s.emit("newListener",d,S.listener?S.listener:S),y=s._events),w=y[d]),w===void 0)w=y[d]=S,++s._eventsCount;else if(typeof w=="function"?w=y[d]=M?[S,w]:[w,S]:M?w.unshift(S):w.push(S),C=g(s),C>0&&w.length>C&&!w.warned){w.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=s,b.type=d,b.count=w.length,L(b)}return s}P.prototype.addListener=function(d,S){return t(this,d,S,!1)},P.prototype.on=P.prototype.addListener,P.prototype.prependListener=function(d,S){return t(this,d,S,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(s,d,S){var M={fired:!1,wrapFn:void 0,target:s,type:d,listener:S},C=r.bind(M);return C.listener=S,M.wrapFn=C,C}P.prototype.once=function(d,S){return v(S),this.on(d,u(this,d,S)),this},P.prototype.prependOnceListener=function(d,S){return v(S),this.prependListener(d,u(this,d,S)),this},P.prototype.removeListener=function(d,S){var M,C,y,w,b;if(v(S),C=this._events,C===void 0)return this;if(M=C[d],M===void 0)return this;if(M===S||M.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,M.listener||S));else if(typeof M!="function"){for(y=-1,w=M.length-1;w>=0;w--)if(M[w]===S||M[w].listener===S){b=M[w].listener,y=w;break}if(y<0)return this;y===0?M.shift():n(M,y),M.length===1&&(C[d]=M[0]),C.removeListener!==void 0&&this.emit("removeListener",d,b||S)}return this},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(d){var S,M,C;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[d]),this;if(arguments.length===0){var y=Object.keys(M),w;for(C=0;C<y.length;++C)w=y[C],w!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=M[d],typeof S=="function")this.removeListener(d,S);else if(S!==void 0)for(C=S.length-1;C>=0;C--)this.removeListener(d,S[C]);return this};function o(s,d,S){var M=s._events;if(M===void 0)return[];var C=M[d];return C===void 0?[]:typeof C=="function"?S?[C.listener||C]:[C]:S?x(C):c(C,C.length)}P.prototype.listeners=function(d){return o(this,d,!0)},P.prototype.rawListeners=function(d){return o(this,d,!1)},P.listenerCount=function(s,d){return typeof s.listenerCount=="function"?s.listenerCount(d):l.call(s,d)},P.prototype.listenerCount=l;function l(s){var d=this._events;if(d!==void 0){var S=d[s];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function c(s,d){for(var S=new Array(d),M=0;M<d;++M)S[M]=s[M];return S}function n(s,d){for(;d+1<s.length;d++)s[d]=s[d+1];s.pop()}function x(s){for(var d=new Array(s.length),S=0;S<d.length;++S)d[S]=s[S].listener||s[S];return d}function h(s,d){return new Promise(function(S,M){function C(w){s.removeListener(d,y),M(w)}function y(){typeof s.removeListener=="function"&&s.removeListener("error",C),S([].slice.call(arguments))}f(s,d,y,{once:!0}),d!=="error"&&T(s,C,{once:!0})})}function T(s,d,S){typeof s.on=="function"&&f(s,"error",d,S)}function f(s,d,S,M){if(typeof s.on=="function")M.once?s.once(d,S):s.on(d,S);else if(typeof s.addEventListener=="function")s.addEventListener(d,function C(y){M.once&&s.removeEventListener(d,C),S(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}},60774:function(W){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};W.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},94908:function(W,U,e){W.exports=e(51152)()?globalThis:e(60774)},51152:function(W){W.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(W,U,e){var p=e(18546);W.exports=function(L){var a=typeof L;if(a==="string"){var P=L;if(L=+L,L===0&&p(P))return!1}else if(a!=="number")return!1;return L-L<1}},30120:function(W,U,e){var p=e(90660);W.exports=L;function L(a,P,A){if(!a)throw new TypeError("must specify data as first parameter");if(A=+(A||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,g=a.length*v,t,r,u,o;(!P||typeof P=="string")&&(P=new(p(P||"float32"))(g+A));var l=P.length-A;if(g!==l)throw new Error("source length "+g+" ("+v+"x"+a.length+") does not match destination length "+l);for(t=0,u=A;t<a.length;t++)for(r=0;r<v;r++)P[u++]=a[t][r]===null?NaN:a[t][r]}else if(!P||typeof P=="string"){var c=p(P||"float32");if(Array.isArray(a)||P==="array")for(P=new c(a.length+A),t=0,u=A,o=P.length;u<o;u++,t++)P[u]=a[t]===null?NaN:a[t];else A===0?P=new c(a):(P=new c(a.length+A),P.set(a,A))}else P.set(a,A);return P}},68016:function(W,U,e){var p=e(53313),L=[32,126];W.exports=a;function a(P){P=P||{};var A=P.shape?P.shape:P.canvas?[P.canvas.width,P.canvas.height]:[512,512],v=P.canvas||document.createElement("canvas"),g=P.font,t=typeof P.step=="number"?[P.step,P.step]:P.step||[32,32],r=P.chars||L;if(g&&typeof g!="string"&&(g=p(g)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var u=[],o=r[0],l=0;o<=r[1];o++)u[l++]=String.fromCharCode(o);r=u}A=A.slice(),v.width=A[0],v.height=A[1];var c=v.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,v.width,v.height),c.font=g,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";for(var n=t[0]/2,x=t[1]/2,o=0;o<r.length;o++)c.fillText(r[o],n,x),(n+=t[0])>A[0]-t[0]/2&&(n=t[0]/2,x+=t[1]);return v}},32879:function(W){W.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(r,P){P||(P={}),(typeof r=="string"||Array.isArray(r))&&(P.family=r);var A=Array.isArray(P.family)?P.family.join(", "):P.family;if(!A)throw Error("`family` must be defined");var v=P.size||P.fontSize||P.em||48,g=P.weight||P.fontWeight||"",t=P.style||P.fontStyle||"",r=[t,g,v].join(" ")+"px "+A,u=P.origin||"top";if(U.cache[A]&&v<=U.cache[A].em)return e(U.cache[A],u);var o=P.canvas||U.canvas,l=o.getContext("2d"),c={upper:P.upper!==void 0?P.upper:"H",lower:P.lower!==void 0?P.lower:"x",descent:P.descent!==void 0?P.descent:"p",ascent:P.ascent!==void 0?P.ascent:"h",tittle:P.tittle!==void 0?P.tittle:"i",overshoot:P.overshoot!==void 0?P.overshoot:"O"},n=Math.ceil(v*1.5);o.height=n,o.width=n*.5,l.font=r;var x="H",h={top:0};l.clearRect(0,0,n,n),l.textBaseline="top",l.fillStyle="black",l.fillText(x,0,0);var T=p(l.getImageData(0,0,n,n));l.clearRect(0,0,n,n),l.textBaseline="bottom",l.fillText(x,0,n);var f=p(l.getImageData(0,0,n,n));h.lineHeight=h.bottom=n-f+T,l.clearRect(0,0,n,n),l.textBaseline="alphabetic",l.fillText(x,0,n);var s=p(l.getImageData(0,0,n,n)),d=n-s-1+T;h.baseline=h.alphabetic=d,l.clearRect(0,0,n,n),l.textBaseline="middle",l.fillText(x,0,n*.5);var S=p(l.getImageData(0,0,n,n));h.median=h.middle=n-S-1+T-n*.5,l.clearRect(0,0,n,n),l.textBaseline="hanging",l.fillText(x,0,n*.5);var M=p(l.getImageData(0,0,n,n));h.hanging=n-M-1+T-n*.5,l.clearRect(0,0,n,n),l.textBaseline="ideographic",l.fillText(x,0,n);var C=p(l.getImageData(0,0,n,n));if(h.ideographic=n-C-1+T,c.upper&&(l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.upper,0,0),h.upper=p(l.getImageData(0,0,n,n)),h.capHeight=h.baseline-h.upper),c.lower&&(l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.lower,0,0),h.lower=p(l.getImageData(0,0,n,n)),h.xHeight=h.baseline-h.lower),c.tittle&&(l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.tittle,0,0),h.tittle=p(l.getImageData(0,0,n,n))),c.ascent&&(l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.ascent,0,0),h.ascent=p(l.getImageData(0,0,n,n))),c.descent&&(l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.descent,0,0),h.descent=L(l.getImageData(0,0,n,n))),c.overshoot){l.clearRect(0,0,n,n),l.textBaseline="top",l.fillText(c.overshoot,0,0);var y=L(l.getImageData(0,0,n,n));h.overshoot=y-d}for(var w in h)h[w]/=v;return h.em=v,U.cache[A]=h,e(h,u)}function e(a,P){var A={};typeof P=="string"&&(P=a[P]);for(var v in a)v!=="em"&&(A[v]=a[v]-P);return A}function p(a){for(var P=a.height,A=a.data,v=3;v<A.length;v+=4)if(A[v]!==0)return Math.floor((v-3)*.25/P)}function L(a){for(var P=a.height,A=a.data,v=A.length-1;v>0;v-=4)if(A[v]!==0)return Math.floor((v-3)*.25/P)}},86165:function(W){var U=Object.prototype.hasOwnProperty,e=Object.prototype.toString;W.exports=function(L,a,P){if(e.call(a)!=="[object Function]")throw new TypeError("iterator must be a function");var A=L.length;if(A===+A)for(var v=0;v<A;v++)a.call(P,L[v],v,L);else for(var g in L)U.call(L,g)&&a.call(P,L[g],g,L)}},73047:function(W){var U="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,p=Object.prototype.toString,L="[object Function]";W.exports=function(P){var A=this;if(typeof A!="function"||p.call(A)!==L)throw new TypeError(U+A);for(var v=e.call(arguments,1),g,t=function(){if(this instanceof g){var c=A.apply(this,v.concat(e.call(arguments)));return Object(c)===c?c:this}else return A.apply(P,v.concat(e.call(arguments)))},r=Math.max(0,A.length-v.length),u=[],o=0;o<r;o++)u.push("$"+o);if(g=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(t),A.prototype){var l=function(){};l.prototype=A.prototype,g.prototype=new l,l.prototype=null}return g}},77575:function(W,U,e){var p=e(73047);W.exports=Function.prototype.bind||p},86249:function(W){W.exports=U;function U(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var a=p,P;try{var A=[e];e.indexOf("webgl")===0&&A.push("experimental-"+e);for(var v=0;v<A.length;v++)if(P=L.getContext(A[v],a),P)return P}catch{P=null}return P||null}},68318:function(W,U,e){var p,L=SyntaxError,a=Function,P=TypeError,A=function(i){try{return Function('"use strict"; return ('+i+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var g=function(){throw new P},t=v?function(){try{return arguments.callee,g}catch{try{return v(arguments,"callee").get}catch{return g}}}():g,r=e(57877)(),u=Object.getPrototypeOf||function(i){return i.__proto__},o=A("async function* () {}"),l=o?o.prototype:p,c=l?l.prototype:p,n=typeof Uint8Array>"u"?p:u(Uint8Array),x={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":r?u([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":A("async function () {}"),"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":c?u(c):p,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":A("function* () {}"),"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?u(u([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?p:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?p:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?u(""[Symbol.iterator]()):p,"%Symbol%":r?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":t,"%TypedArray%":n,"%TypeError%":P,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e(77575),f=e(35065),s=T.call(Function.call,Array.prototype.concat),d=T.call(Function.apply,Array.prototype.splice),S=T.call(Function.call,String.prototype.replace),M=T.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g,w=function(E){var m=M(E,0,1),F=M(E,-1);if(m==="%"&&F!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&m!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var _=[];return S(E,C,function(B,I,O,z){_[_.length]=O?S(z,y,"$1"):I||B}),_},b=function(E,m){var F=E,_;if(f(h,F)&&(_=h[F],F="%"+_[0]+"%"),f(x,F)){var B=x[F];if(typeof B>"u"&&!m)throw new P("intrinsic "+E+" exists, but is not available. Please file an issue!");return{alias:_,name:F,value:B}}throw new L("intrinsic "+E+" does not exist!")};W.exports=function(E,m){if(typeof E!="string"||E.length===0)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof m!="boolean")throw new P('"allowMissing" argument must be a boolean');var F=w(E),_=F.length>0?F[0]:"",B=b("%"+_+"%",m),I=B.name,O=B.value,z=!1,k=B.alias;k&&(_=k[0],d(F,s([0,1],k)));for(var N=1,K=!0;N<F.length;N+=1){var q=F[N],Q=M(q,0,1),re=M(q,-1);if((Q==='"'||Q==="'"||Q==="`"||re==='"'||re==="'"||re==="`")&&Q!==re)throw new L("property names with quotes must have matching quotes");if((q==="constructor"||!K)&&(z=!0),_+="."+q,I="%"+_+"%",f(x,I))O=x[I];else if(O!=null){if(!(q in O)){if(!m)throw new P("base intrinsic for "+E+" exists, but the property is not available.");return}if(v&&N+1>=F.length){var oe=v(O,q);K=!!oe,K&&"get"in oe&&!("originalValue"in oe.get)?O=oe.get:O=O[q]}else K=f(O,q),O=O[q];K&&!z&&(x[I]=O)}}return O}},85400:function(W){W.exports=U;function U(e,p){var L=p[0],a=p[1],P=p[2],A=p[3],v=p[4],g=p[5],t=p[6],r=p[7],u=p[8],o=p[9],l=p[10],c=p[11],n=p[12],x=p[13],h=p[14],T=p[15];return e[0]=g*(l*T-c*h)-o*(t*T-r*h)+x*(t*c-r*l),e[1]=-(a*(l*T-c*h)-o*(P*T-A*h)+x*(P*c-A*l)),e[2]=a*(t*T-r*h)-g*(P*T-A*h)+x*(P*r-A*t),e[3]=-(a*(t*c-r*l)-g*(P*c-A*l)+o*(P*r-A*t)),e[4]=-(v*(l*T-c*h)-u*(t*T-r*h)+n*(t*c-r*l)),e[5]=L*(l*T-c*h)-u*(P*T-A*h)+n*(P*c-A*l),e[6]=-(L*(t*T-r*h)-v*(P*T-A*h)+n*(P*r-A*t)),e[7]=L*(t*c-r*l)-v*(P*c-A*l)+u*(P*r-A*t),e[8]=v*(o*T-c*x)-u*(g*T-r*x)+n*(g*c-r*o),e[9]=-(L*(o*T-c*x)-u*(a*T-A*x)+n*(a*c-A*o)),e[10]=L*(g*T-r*x)-v*(a*T-A*x)+n*(a*r-A*g),e[11]=-(L*(g*c-r*o)-v*(a*c-A*o)+u*(a*r-A*g)),e[12]=-(v*(o*h-l*x)-u*(g*h-t*x)+n*(g*l-t*o)),e[13]=L*(o*h-l*x)-u*(a*h-P*x)+n*(a*l-P*o),e[14]=-(L*(g*h-t*x)-v*(a*h-P*x)+n*(a*t-P*g)),e[15]=L*(g*l-t*o)-v*(a*l-P*o)+u*(a*t-P*g),e}},42331:function(W){W.exports=U;function U(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},31042:function(W){W.exports=U;function U(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},11902:function(W){W.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(W){W.exports=U;function U(e){var p=e[0],L=e[1],a=e[2],P=e[3],A=e[4],v=e[5],g=e[6],t=e[7],r=e[8],u=e[9],o=e[10],l=e[11],c=e[12],n=e[13],x=e[14],h=e[15],T=p*v-L*A,f=p*g-a*A,s=p*t-P*A,d=L*g-a*v,S=L*t-P*v,M=a*t-P*g,C=r*n-u*c,y=r*x-o*c,w=r*h-l*c,b=u*x-o*n,i=u*h-l*n,E=o*h-l*x;return T*E-f*i+s*b+d*w-S*y+M*C}},27812:function(W){W.exports=U;function U(e,p){var L=p[0],a=p[1],P=p[2],A=p[3],v=L+L,g=a+a,t=P+P,r=L*v,u=a*v,o=a*g,l=P*v,c=P*g,n=P*t,x=A*v,h=A*g,T=A*t;return e[0]=1-o-n,e[1]=u+T,e[2]=l-h,e[3]=0,e[4]=u-T,e[5]=1-r-n,e[6]=c+x,e[7]=0,e[8]=l+h,e[9]=c-x,e[10]=1-r-o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(W){W.exports=U;function U(e,p,L){var a,P,A,v=L[0],g=L[1],t=L[2],r=Math.sqrt(v*v+g*g+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,g*=r,t*=r,a=Math.sin(p),P=Math.cos(p),A=1-P,e[0]=v*v*A+P,e[1]=g*v*A+t*a,e[2]=t*v*A-g*a,e[3]=0,e[4]=v*g*A-t*a,e[5]=g*g*A+P,e[6]=t*g*A+v*a,e[7]=0,e[8]=v*t*A+g*a,e[9]=g*t*A-v*a,e[10]=t*t*A+P,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(W){W.exports=U;function U(e,p,L){var a=p[0],P=p[1],A=p[2],v=p[3],g=a+a,t=P+P,r=A+A,u=a*g,o=a*t,l=a*r,c=P*t,n=P*r,x=A*r,h=v*g,T=v*t,f=v*r;return e[0]=1-(c+x),e[1]=o+f,e[2]=l-T,e[3]=0,e[4]=o-f,e[5]=1-(u+x),e[6]=n+h,e[7]=0,e[8]=l+T,e[9]=n-h,e[10]=1-(u+c),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},81472:function(W){W.exports=U;function U(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(W){W.exports=U;function U(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},75262:function(W){W.exports=U;function U(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(W){W.exports=U;function U(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=a,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(W){W.exports=U;function U(e,p){var L=Math.sin(p),a=Math.cos(p);return e[0]=a,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(W){W.exports=U;function U(e,p,L,a,P,A,v){var g=1/(L-p),t=1/(P-a),r=1/(A-v);return e[0]=A*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A*2*t,e[6]=0,e[7]=0,e[8]=(L+p)*g,e[9]=(P+a)*t,e[10]=(v+A)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*A*2*r,e[15]=0,e}},71551:function(W){W.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(W,U,e){W.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(W){W.exports=U;function U(e,p){var L=p[0],a=p[1],P=p[2],A=p[3],v=p[4],g=p[5],t=p[6],r=p[7],u=p[8],o=p[9],l=p[10],c=p[11],n=p[12],x=p[13],h=p[14],T=p[15],f=L*g-a*v,s=L*t-P*v,d=L*r-A*v,S=a*t-P*g,M=a*r-A*g,C=P*r-A*t,y=u*x-o*n,w=u*h-l*n,b=u*T-c*n,i=o*h-l*x,E=o*T-c*x,m=l*T-c*h,F=f*m-s*E+d*i+S*b-M*w+C*y;return F?(F=1/F,e[0]=(g*m-t*E+r*i)*F,e[1]=(P*E-a*m-A*i)*F,e[2]=(x*C-h*M+T*S)*F,e[3]=(l*M-o*C-c*S)*F,e[4]=(t*b-v*m-r*w)*F,e[5]=(L*m-P*b+A*w)*F,e[6]=(h*d-n*C-T*s)*F,e[7]=(u*C-l*d+c*s)*F,e[8]=(v*E-g*b+r*y)*F,e[9]=(a*b-L*E-A*y)*F,e[10]=(n*M-x*d+T*f)*F,e[11]=(o*d-u*M-c*f)*F,e[12]=(g*w-v*i-t*y)*F,e[13]=(L*i-a*w+P*y)*F,e[14]=(x*s-n*S-h*f)*F,e[15]=(u*S-o*s+l*f)*F,e):null}},65551:function(W,U,e){var p=e(71551);W.exports=L;function L(a,P,A,v){var g,t,r,u,o,l,c,n,x,h,T=P[0],f=P[1],s=P[2],d=v[0],S=v[1],M=v[2],C=A[0],y=A[1],w=A[2];return Math.abs(T-C)<1e-6&&Math.abs(f-y)<1e-6&&Math.abs(s-w)<1e-6?p(a):(c=T-C,n=f-y,x=s-w,h=1/Math.sqrt(c*c+n*n+x*x),c*=h,n*=h,x*=h,g=S*x-M*n,t=M*c-d*x,r=d*n-S*c,h=Math.sqrt(g*g+t*t+r*r),h?(h=1/h,g*=h,t*=h,r*=h):(g=0,t=0,r=0),u=n*r-x*t,o=x*g-c*r,l=c*t-n*g,h=Math.sqrt(u*u+o*o+l*l),h?(h=1/h,u*=h,o*=h,l*=h):(u=0,o=0,l=0),a[0]=g,a[1]=u,a[2]=c,a[3]=0,a[4]=t,a[5]=o,a[6]=n,a[7]=0,a[8]=r,a[9]=l,a[10]=x,a[11]=0,a[12]=-(g*T+t*f+r*s),a[13]=-(u*T+o*f+l*s),a[14]=-(c*T+n*f+x*s),a[15]=1,a)}},91362:function(W){W.exports=U;function U(e,p,L){var a=p[0],P=p[1],A=p[2],v=p[3],g=p[4],t=p[5],r=p[6],u=p[7],o=p[8],l=p[9],c=p[10],n=p[11],x=p[12],h=p[13],T=p[14],f=p[15],s=L[0],d=L[1],S=L[2],M=L[3];return e[0]=s*a+d*g+S*o+M*x,e[1]=s*P+d*t+S*l+M*h,e[2]=s*A+d*r+S*c+M*T,e[3]=s*v+d*u+S*n+M*f,s=L[4],d=L[5],S=L[6],M=L[7],e[4]=s*a+d*g+S*o+M*x,e[5]=s*P+d*t+S*l+M*h,e[6]=s*A+d*r+S*c+M*T,e[7]=s*v+d*u+S*n+M*f,s=L[8],d=L[9],S=L[10],M=L[11],e[8]=s*a+d*g+S*o+M*x,e[9]=s*P+d*t+S*l+M*h,e[10]=s*A+d*r+S*c+M*T,e[11]=s*v+d*u+S*n+M*f,s=L[12],d=L[13],S=L[14],M=L[15],e[12]=s*a+d*g+S*o+M*x,e[13]=s*P+d*t+S*l+M*h,e[14]=s*A+d*r+S*c+M*T,e[15]=s*v+d*u+S*n+M*f,e}},60378:function(W){W.exports=U;function U(e,p,L,a,P,A,v){var g=1/(p-L),t=1/(a-P),r=1/(A-v);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(p+L)*g,e[13]=(P+a)*t,e[14]=(v+A)*r,e[15]=1,e}},7864:function(W){W.exports=U;function U(e,p,L,a,P){var A=1/Math.tan(p/2),v=1/(a-P);return e[0]=A/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=A,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(P+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*P*a*v,e[15]=0,e}},35279:function(W){W.exports=U;function U(e,p,L,a){var P=Math.tan(p.upDegrees*Math.PI/180),A=Math.tan(p.downDegrees*Math.PI/180),v=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),t=2/(v+g),r=2/(P+A);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-g)*t*.5),e[9]=(P-A)*r*.5,e[10]=a/(L-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*L/(L-a),e[15]=0,e}},65074:function(W){W.exports=U;function U(e,p,L,a){var P=a[0],A=a[1],v=a[2],g=Math.sqrt(P*P+A*A+v*v),t,r,u,o,l,c,n,x,h,T,f,s,d,S,M,C,y,w,b,i,E,m,F,_;return Math.abs(g)<1e-6?null:(g=1/g,P*=g,A*=g,v*=g,t=Math.sin(L),r=Math.cos(L),u=1-r,o=p[0],l=p[1],c=p[2],n=p[3],x=p[4],h=p[5],T=p[6],f=p[7],s=p[8],d=p[9],S=p[10],M=p[11],C=P*P*u+r,y=A*P*u+v*t,w=v*P*u-A*t,b=P*A*u-v*t,i=A*A*u+r,E=v*A*u+P*t,m=P*v*u+A*t,F=A*v*u-P*t,_=v*v*u+r,e[0]=o*C+x*y+s*w,e[1]=l*C+h*y+d*w,e[2]=c*C+T*y+S*w,e[3]=n*C+f*y+M*w,e[4]=o*b+x*i+s*E,e[5]=l*b+h*i+d*E,e[6]=c*b+T*i+S*E,e[7]=n*b+f*i+M*E,e[8]=o*m+x*F+s*_,e[9]=l*m+h*F+d*_,e[10]=c*m+T*F+S*_,e[11]=n*m+f*F+M*_,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},35545:function(W){W.exports=U;function U(e,p,L){var a=Math.sin(L),P=Math.cos(L),A=p[4],v=p[5],g=p[6],t=p[7],r=p[8],u=p[9],o=p[10],l=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=A*P+r*a,e[5]=v*P+u*a,e[6]=g*P+o*a,e[7]=t*P+l*a,e[8]=r*P-A*a,e[9]=u*P-v*a,e[10]=o*P-g*a,e[11]=l*P-t*a,e}},94918:function(W){W.exports=U;function U(e,p,L){var a=Math.sin(L),P=Math.cos(L),A=p[0],v=p[1],g=p[2],t=p[3],r=p[8],u=p[9],o=p[10],l=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=A*P-r*a,e[1]=v*P-u*a,e[2]=g*P-o*a,e[3]=t*P-l*a,e[8]=A*a+r*P,e[9]=v*a+u*P,e[10]=g*a+o*P,e[11]=t*a+l*P,e}},15692:function(W){W.exports=U;function U(e,p,L){var a=Math.sin(L),P=Math.cos(L),A=p[0],v=p[1],g=p[2],t=p[3],r=p[4],u=p[5],o=p[6],l=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=A*P+r*a,e[1]=v*P+u*a,e[2]=g*P+o*a,e[3]=t*P+l*a,e[4]=r*P-A*a,e[5]=u*P-v*a,e[6]=o*P-g*a,e[7]=l*P-t*a,e}},10789:function(W){W.exports=U;function U(e,p,L){var a=L[0],P=L[1],A=L[2];return e[0]=p[0]*a,e[1]=p[1]*a,e[2]=p[2]*a,e[3]=p[3]*a,e[4]=p[4]*P,e[5]=p[5]*P,e[6]=p[6]*P,e[7]=p[7]*P,e[8]=p[8]*A,e[9]=p[9]*A,e[10]=p[10]*A,e[11]=p[11]*A,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},6726:function(W){W.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(W){W.exports=U;function U(e,p,L){var a=L[0],P=L[1],A=L[2],v,g,t,r,u,o,l,c,n,x,h,T;return p===e?(e[12]=p[0]*a+p[4]*P+p[8]*A+p[12],e[13]=p[1]*a+p[5]*P+p[9]*A+p[13],e[14]=p[2]*a+p[6]*P+p[10]*A+p[14],e[15]=p[3]*a+p[7]*P+p[11]*A+p[15]):(v=p[0],g=p[1],t=p[2],r=p[3],u=p[4],o=p[5],l=p[6],c=p[7],n=p[8],x=p[9],h=p[10],T=p[11],e[0]=v,e[1]=g,e[2]=t,e[3]=r,e[4]=u,e[5]=o,e[6]=l,e[7]=c,e[8]=n,e[9]=x,e[10]=h,e[11]=T,e[12]=v*a+u*P+n*A+p[12],e[13]=g*a+o*P+x*A+p[13],e[14]=t*a+l*P+h*A+p[14],e[15]=r*a+c*P+T*A+p[15]),e}},88654:function(W){W.exports=U;function U(e,p){if(e===p){var L=p[1],a=p[2],P=p[3],A=p[6],v=p[7],g=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=a,e[9]=A,e[11]=p[14],e[12]=P,e[13]=v,e[14]=g}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},42505:function(W,U,e){var p=e(72791),L=e(71299),a=e(98580),P=e(12018),A=e(83522),v=e(25075),g=e(68016),t=e(58404),r=e(18863),u=e(10973),o=e(25677),l=e(75686),c=e(53545),n=e(56131),x=e(32879),h=e(30120),T=e(13547),f=T.nextPow2,s=new A,d=!1;if(document.body){var S=document.body.appendChild(document.createElement("div"));S.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(S).fontStretch&&(d=!0),document.body.removeChild(S)}var M=function(w){C(w)?(w={regl:w},this.gl=w.regl._gl):this.gl=P(w),this.shader=s.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=w.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),s.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(u(w)?w:{})};M.prototype.createShader=function(){var w=this.regl,b=w({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:w.prop("count"),offset:w.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:w.this("sizeBuffer")},width:{offset:0,stride:8,buffer:w.this("sizeBuffer")},char:w.this("charBuffer"),position:w.this("position")},uniforms:{atlasSize:function(E,m){return[m.atlas.width,m.atlas.height]},atlasDim:function(E,m){return[m.atlas.cols,m.atlas.rows]},atlas:function(E,m){return m.atlas.texture},charStep:function(E,m){return m.atlas.step},em:function(E,m){return m.atlas.em},color:w.prop("color"),opacity:w.prop("opacity"),viewport:w.this("viewportArray"),scale:w.this("scale"),align:w.prop("align"),baseline:w.prop("baseline"),translate:w.this("translate"),positionOffset:w.prop("positionOffset")},primitive:"points",viewport:w.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:w,draw:b,atlas:i}},M.prototype.update=function(w){var b=this;if(typeof w=="string")w={text:w};else if(!w)return;w=L(w,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),w.opacity!=null&&(Array.isArray(w.opacity)?this.opacity=w.opacity.map(function(ze){return parseFloat(ze)}):this.opacity=parseFloat(w.opacity)),w.viewport!=null&&(this.viewport=r(w.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),w.kerning!=null&&(this.kerning=w.kerning),w.offset!=null&&(typeof w.offset=="number"&&(w.offset=[w.offset,0]),this.positionOffset=h(w.offset)),w.direction&&(this.direction=w.direction),w.range&&(this.range=w.range,this.scale=[1/(w.range[2]-w.range[0]),1/(w.range[3]-w.range[1])],this.translate=[-w.range[0],-w.range[1]]),w.scale&&(this.scale=w.scale),w.translate&&(this.translate=w.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!w.font&&(w.font=M.baseFontSize+"px sans-serif");var i=!1,E=!1;if(w.font&&(Array.isArray(w.font)?w.font:[w.font]).forEach(function(ze,Ze){if(typeof ze=="string")try{ze=p.parse(ze)}catch{ze=p.parse(M.baseFontSize+"px "+ze)}else ze=p.parse(p.stringify(ze));var ct=p.stringify({size:M.baseFontSize,family:ze.family,stretch:d?ze.stretch:void 0,variant:ze.variant,weight:ze.weight,style:ze.style}),lt=o(ze.size),at=Math.round(lt[0]*l(lt[1]));if(at!==b.fontSize[Ze]&&(E=!0,b.fontSize[Ze]=at),(!b.font[Ze]||ct!=b.font[Ze].baseString)&&(i=!0,b.font[Ze]=M.fonts[ct],!b.font[Ze])){var tt=ze.family.join(", "),dt=[ze.style];ze.style!=ze.variant&&dt.push(ze.variant),ze.variant!=ze.weight&&dt.push(ze.weight),d&&ze.weight!=ze.stretch&&dt.push(ze.stretch),b.font[Ze]={baseString:ct,family:tt,weight:ze.weight,stretch:ze.stretch,style:ze.style,variant:ze.variant,width:{},kerning:{},metrics:x(tt,{origin:"top",fontSize:M.baseFontSize,fontStyle:dt.join(" ")})},M.fonts[ct]=b.font[Ze]}}),(i||E)&&this.font.forEach(function(ze,Ze){var ct=p.stringify({size:b.fontSize[Ze],family:ze.family,stretch:d?ze.stretch:void 0,variant:ze.variant,weight:ze.weight,style:ze.style});if(b.fontAtlas[Ze]=b.shader.atlas[ct],!b.fontAtlas[Ze]){var lt=ze.metrics;b.shader.atlas[ct]=b.fontAtlas[Ze]={fontString:ct,step:Math.ceil(b.fontSize[Ze]*lt.bottom*.5)*2,em:b.fontSize[Ze],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}w.text==null&&(w.text=b.text)}),typeof w.text=="string"&&w.position&&w.position.length>2){for(var m=Array(w.position.length*.5),F=0;F<m.length;F++)m[F]=w.text;w.text=m}var _;if(w.text!=null||i){if(this.textOffsets=[0],Array.isArray(w.text)){this.count=w.text[0].length,this.counts=[this.count];for(var B=1;B<w.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+w.text[B-1].length,this.count+=w.text[B].length,this.counts.push(w.text[B].length);this.text=w.text.join("")}else this.text=w.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(ze,Ze){M.atlasContext.font=ze.baseString;for(var ct=b.fontAtlas[Ze],lt=0;lt<b.text.length;lt++){var at=b.text.charAt(lt);if(ct.ids[at]==null&&(ct.ids[at]=ct.chars.length,ct.chars.push(at),_.push(at)),ze.width[at]==null&&(ze.width[at]=M.atlasContext.measureText(at).width/M.baseFontSize,b.kerning)){var tt=[];for(var dt in ze.width)tt.push(dt+at,at+dt);n(ze.kerning,c(ze.family,{pairs:tt}))}}})}if(w.position)if(w.position.length>2){for(var I=!w.position[0].length,O=t.mallocFloat(this.count*2),z=0,k=0;z<this.counts.length;z++){var N=this.counts[z];if(I)for(var K=0;K<N;K++)O[k++]=w.position[z*2],O[k++]=w.position[z*2+1];else for(var q=0;q<N;q++)O[k++]=w.position[z][0],O[k++]=w.position[z][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),t.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:w.position};if(w.text||i){var Q=t.mallocUint8(this.count),re=t.mallocFloat(this.count*2);this.textWidth=[];for(var oe=0,Y=0;oe<this.counts.length;oe++){for(var G=this.counts[oe],V=this.font[oe]||this.font[0],Z=this.fontAtlas[oe]||this.fontAtlas[0],ae=0;ae<G;ae++){var ie=this.text.charAt(Y),J=this.text.charAt(Y-1);if(Q[Y]=Z.ids[ie],re[Y*2]=V.width[ie],ae){var $=re[Y*2-2],se=re[Y*2],ee=re[Y*2-1],ue=ee+$*.5+se*.5;if(this.kerning){var ge=V.kerning[J+ie];ge&&(ue+=ge*.001)}re[Y*2+1]=ue}else re[Y*2+1]=re[Y*2]*.5;Y++}this.textWidth.push(re.length?re[Y*2-2]*.5+re[Y*2-1]:0)}w.align||(w.align=this.align),this.charBuffer({data:Q,type:"uint8",usage:"stream"}),this.sizeBuffer({data:re,type:"float",usage:"stream"}),t.freeUint8(Q),t.freeFloat(re),_.length&&this.font.forEach(function(ze,Ze){var ct=b.fontAtlas[Ze],lt=ct.step,at=Math.floor(M.maxAtlasSize/lt),tt=Math.min(at,ct.chars.length),dt=Math.ceil(ct.chars.length/tt),wt=f(tt*lt),Mt=f(dt*lt);ct.width=wt,ct.height=Mt,ct.rows=dt,ct.cols=tt,ct.em&&ct.texture({data:g({canvas:M.atlasCanvas,font:ct.fontString,chars:ct.chars,shape:[wt,Mt],step:[lt,lt]})})})}if(w.align&&(this.align=w.align,this.alignOffset=this.textWidth.map(function(ze,Ze){var ct=Array.isArray(b.align)?b.align.length>1?b.align[Ze]:b.align[0]:b.align;if(typeof ct=="number")return ct;switch(ct){case"right":case"end":return-ze;case"center":case"centre":case"middle":return-ze*.5}return 0})),this.baseline==null&&w.baseline==null&&(w.baseline=0),w.baseline!=null&&(this.baseline=w.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ze,Ze){var ct=(b.font[Ze]||b.font[0]).metrics,lt=0;return lt+=ct.bottom*.5,typeof ze=="number"?lt+=ze-ct.baseline:lt+=-ct[ze],lt*=-1,lt})),w.color!=null)if(w.color||(w.color="transparent"),typeof w.color=="string"||!isNaN(w.color))this.color=v(w.color,"uint8");else{var Te;if(typeof w.color[0]=="number"&&w.color.length>this.counts.length){var xe=w.color.length;Te=t.mallocUint8(xe);for(var Pe=(w.color.subarray||w.color.slice).bind(w.color),Ie=0;Ie<xe;Ie+=4)Te.set(v(Pe(Ie,Ie+4),"uint8"),Ie)}else{var Ae=w.color.length;Te=t.mallocUint8(Ae*4);for(var be=0;be<Ae;be++)Te.set(v(w.color[be]||0,"uint8"),be*4)}this.color=Te}if(w.position||w.text||w.color||w.baseline||w.align||w.font||w.offset||w.opacity){var _e=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(_e){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var We=0;We<this.batch.length;We++)this.batch[We]={count:this.counts.length>1?this.counts[We]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[We]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(We*4,We*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[We]:this.opacity,baseline:this.baselineOffset[We]!=null?this.baselineOffset[We]:this.baselineOffset[0],align:this.align?this.alignOffset[We]!=null?this.alignOffset[We]:this.alignOffset[0]:0,atlas:this.fontAtlas[We]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(We*2,We*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},M.prototype.destroy=function(){},M.prototype.kerning=!0,M.prototype.position={constant:new Float32Array(2)},M.prototype.translate=null,M.prototype.scale=null,M.prototype.font=null,M.prototype.text="",M.prototype.positionOffset=[0,0],M.prototype.opacity=1,M.prototype.color=new Uint8Array([0,0,0,255]),M.prototype.alignOffset=[0,0],M.maxAtlasSize=1024,M.atlasCanvas=document.createElement("canvas"),M.atlasContext=M.atlasCanvas.getContext("2d",{alpha:!1}),M.baseFontSize=64,M.fonts={};function C(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}W.exports=M},12018:function(W,U,e){var p=e(71299);W.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:P(t)?t={container:t}:A(t)?t={gl:t}:t=p(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),L(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),L(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(u){try{t.gl=t.canvas.getContext(u,t.attrs)}catch{}return t.gl}),t.gl};function L(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var t=g.container.getBoundingClientRect();g.canvas.width=g.width||t.right-t.left,g.canvas.height=g.height||t.bottom-t.top}}function a(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function P(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function A(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function v(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},56068:function(W){W.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<U.length-1;L++)p.push(U[L],e[L]||"");return p.push(U[L]),p.join("")}},57035:function(W,U,e){var p=e(54404),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,W.exports=L},38520:function(W,U,e){var p=e(54404);function L(){var a=!1;try{var P=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch{a=!1}return a}W.exports=p&&L()},57877:function(W,U,e){var p=typeof Symbol<"u"&&Symbol,L=e(35638);W.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},35638:function(W){W.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var a=42;e[p]=a;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var P=Object.getOwnPropertySymbols(e);if(P.length!==1||P[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,p);if(A.value!==a||A.enumerable!==!0)return!1}return!0}},84543:function(W,U,e){var p=e(35638);W.exports=function(){return p()&&!!Symbol.toStringTag}},35065:function(W,U,e){var p=e(77575);W.exports=p.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(W,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,p,L,a,P){var A,v,g=P*8-a-1,t=(1<<g)-1,r=t>>1,u=-7,o=L?P-1:0,l=L?-1:1,c=e[p+o];for(o+=l,A=c&(1<<-u)-1,c>>=-u,u+=g;u>0;A=A*256+e[p+o],o+=l,u-=8);for(v=A&(1<<-u)-1,A>>=-u,u+=a;u>0;v=v*256+e[p+o],o+=l,u-=8);if(A===0)A=1-r;else{if(A===t)return v?NaN:(c?-1:1)*(1/0);v=v+Math.pow(2,a),A=A-r}return(c?-1:1)*v*Math.pow(2,A-a)},U.write=function(e,p,L,a,P,A){var v,g,t,r=A*8-P-1,u=(1<<r)-1,o=u>>1,l=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=a?0:A-1,n=a?1:-1,x=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(g=isNaN(p)?1:0,v=u):(v=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+o>=1?p+=l/t:p+=l*Math.pow(2,1-o),p*t>=2&&(v++,t/=2),v+o>=u?(g=0,v=u):v+o>=1?(g=(p*t-1)*Math.pow(2,P),v=v+o):(g=p*Math.pow(2,o-1)*Math.pow(2,P),v=0));P>=8;e[L+c]=g&255,c+=n,g/=256,P-=8);for(v=v<<P|g,r+=P;r>0;e[L+c]=v&255,c+=n,v/=256,r-=8);e[L+c-n]|=x*128}},42018:function(W){typeof Object.create=="function"?W.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},47216:function(W){var U=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",e=Object.prototype.toString,p=function(A){return U&&A&&typeof A=="object"&&Symbol.toStringTag in A?!1:e.call(A)==="[object Arguments]"},L=function(A){return p(A)?!0:A!==null&&typeof A=="object"&&typeof A.length=="number"&&A.length>=0&&e.call(A)!=="[object Array]"&&e.call(A.callee)==="[object Function]"},a=function(){return p(arguments)}();p.isLegacyArguments=L,W.exports=a?p:L},54404:function(W){W.exports=!0},65481:function(W,U,e){var p=Object.prototype.toString,L=Function.prototype.toString,a=/^\s*(?:function)?\*/,P=e(84543)(),A=Object.getPrototypeOf,v=function(){if(!P)return!1;try{return Function("return function*() {}")()}catch{}},g;W.exports=function(r){if(typeof r!="function")return!1;if(a.test(L.call(r)))return!0;if(!P){var u=p.call(r);return u==="[object GeneratorFunction]"}if(!A)return!1;if(typeof g>"u"){var o=v();g=o?A(o):!1}return A(r)===g}},62683:function(W){W.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},15539:function(W){W.exports=p,W.exports.isMobile=p,W.exports.default=p;var U=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(L){L||(L={});var a=L.ua;if(!a&&typeof navigator<"u"&&(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;var P=L.tablet?e.test(a):U.test(a);return!P&&L.tablet&&L.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(P=!0),P}},64274:function(W){W.exports=function(e){return e!==e}},15567:function(W,U,e){var p=e(68222),L=e(17045),a=e(64274),P=e(14922),A=e(22442),v=p(P(),Number);L(v,{getPolyfill:P,implementation:a,shim:A}),W.exports=v},14922:function(W,U,e){var p=e(64274);W.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},22442:function(W,U,e){var p=e(17045),L=e(14922);W.exports=function(){var P=L();return p(Number,{isNaN:P},{isNaN:function(){return Number.isNaN!==P}}),P}},64941:function(W){W.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},10973:function(W){var U=Object.prototype.toString;W.exports=function(e){var p;return U.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},18546:function(W){W.exports=function(U){for(var e=U.length,p,L=0;L<e;L++)if(p=U.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},89546:function(W){W.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(W,U,e){var p=e(86165),L=e(72077),a=e(92978),P=a("Object.prototype.toString"),A=e(57877)(),v=A&&typeof Symbol.toStringTag=="symbol",g=L(),t=a("Array.prototype.indexOf",!0)||function(x,h){for(var T=0;T<x.length;T+=1)if(x[T]===h)return T;return-1},r=a("String.prototype.slice"),u={},o=e(67295),l=Object.getPrototypeOf;v&&o&&l&&p(g,function(n){var x=new e.g[n];if(!(Symbol.toStringTag in x))throw new EvalError("this engine has support for Symbol.toStringTag, but "+n+" does not have the property! Please report this.");var h=l(x),T=o(h,Symbol.toStringTag);if(!T){var f=l(h);T=o(f,Symbol.toStringTag)}u[n]=T.get});var c=function(x){var h=!1;return p(u,function(T,f){if(!h)try{h=T.call(x)===f}catch{}}),h};W.exports=function(x){if(!x||typeof x!="object")return!1;if(!v){var h=r(P(x),8,-1);return t(g,h)>-1}return o?c(x):!1}},44517:function(W){(function(U,e){W.exports=e()})(this,function(){var U,e,p;function L(a,P){if(!U)U=P;else if(!e)e=P;else{var A="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),p=P(v),p.workerUrl=window.URL.createObjectURL(new Blob([A],{type:"text/javascript"}))}}return L(["exports"],function(a){function P(R,D){return D={exports:{}},R(D,D.exports),D.exports}var A="1.10.1",v=g;function g(R,D,H,ne){this.cx=3*R,this.bx=3*(H-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ne-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ne,this.p2x=H,this.p2y=ne}g.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},g.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},g.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},g.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var H,ne,ve,we,Ce;for(ve=R,Ce=0;Ce<8;Ce++){if(we=this.sampleCurveX(ve)-R,Math.abs(we)<D)return ve;var je=this.sampleCurveDerivativeX(ve);if(Math.abs(je)<1e-6)break;ve=ve-we/je}if(H=0,ne=1,ve=R,ve<H)return H;if(ve>ne)return ne;for(;H<ne;){if(we=this.sampleCurveX(ve),Math.abs(we-R)<D)return ve;R>we?H=ve:ne=ve,ve=(ne-H)*.5+H}return ve},g.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var t=r;function r(R,D){this.x=R,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,H=R.y-this.y;return D*D+H*H},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,H=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=H,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),H=Math.sin(R),ne=D*this.x-H*this.y,ve=H*this.x+D*this.y;return this.x=ne,this.y=ve,this},_rotateAround:function(R,D){var H=Math.cos(R),ne=Math.sin(R),ve=D.x+H*(this.x-D.x)-ne*(this.y-D.y),we=D.y+ne*(this.x-D.x)+H*(this.y-D.y);return this.x=ve,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};function u(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var H=0;H<R.length;H++)if(!u(R[H],D[H]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ne=Object.keys(R);if(ne.length!==Object.keys(D).length)return!1;for(var ve in R)if(!u(R[ve],D[ve]))return!1;return!0}return R===D}function o(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,H=D*R;return 4*(R<.5?H:3*(R-D)+H-.75)}function l(R,D,H,ne){var ve=new v(R,D,H,ne);return function(we){return ve.solve(we)}}var c=l(.25,.1,.25,1);function n(R,D,H){return Math.min(H,Math.max(D,R))}function x(R,D,H){var ne=H-D,ve=((R-D)%ne+ne)%ne+D;return ve===D?H:ve}function h(R,D,H){if(!R.length)return H(null,[]);var ne=R.length,ve=new Array(R.length),we=null;R.forEach(function(Ce,je){D(Ce,function(gt,Et){gt&&(we=gt),ve[je]=Et,--ne===0&&H(we,ve)})})}function T(R){var D=[];for(var H in R)D.push(R[H]);return D}function f(R,D){var H=[];for(var ne in R)ne in D||H.push(ne);return H}function s(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne];for(var Ce in we)R[Ce]=we[Ce]}return R}function d(R,D){for(var H={},ne=0;ne<D.length;ne++){var ve=D[ne];ve in R&&(H[ve]=R[ve])}return H}var S=1;function M(){return S++}function C(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function y(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function w(R,D){R.forEach(function(H){D[H]&&(D[H]=D[H].bind(D))})}function b(R,D){return R.indexOf(D,R.length-D.length)!==-1}function i(R,D,H){var ne={};for(var ve in R)ne[ve]=D.call(H||this,R[ve],ve,R);return ne}function E(R,D,H){var ne={};for(var ve in R)D.call(H||this,R[ve],ve,R)&&(ne[ve]=R[ve]);return ne}function m(R){return Array.isArray(R)?R.map(m):typeof R=="object"&&R?i(R,m):R}function F(R,D){for(var H=0;H<R.length;H++)if(D.indexOf(R[H])>=0)return!0;return!1}var _={};function B(R){_[R]||(typeof console<"u"&&console.warn(R),_[R]=!0)}function I(R,D,H){return(H.y-R.y)*(D.x-R.x)>(D.y-R.y)*(H.x-R.x)}function O(R){for(var D=0,H=0,ne=R.length,ve=ne-1,we=void 0,Ce=void 0;H<ne;ve=H++)we=R[H],Ce=R[ve],D+=(Ce.x-we.x)*(we.y+Ce.y);return D}function z(R){var D=R[0],H=R[1],ne=R[2];return H+=90,H*=Math.PI/180,ne*=Math.PI/180,{x:D*Math.cos(H)*Math.sin(ne),y:D*Math.sin(H)*Math.sin(ne),z:D*Math.cos(ne)}}function k(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function N(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,H={};if(R.replace(D,function(ve,we,Ce,je){var gt=Ce||je;return H[we]=gt?gt.toLowerCase():!0,""}),H["max-age"]){var ne=parseInt(H["max-age"],10);isNaN(ne)?delete H["max-age"]:H["max-age"]=ne}return H}var K=null;function q(R){if(K==null){var D=R.navigator?R.navigator.userAgent:null;K=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return K}function Q(R){try{var D=self[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function re(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,H){return String.fromCharCode(Number("0x"+H))}))}function oe(R){return decodeURIComponent(self.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),G=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,V=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,Z,ae,ie={now:Y,frame:function(D){var H=G(D);return{cancel:function(){return V(H)}}},getImageData:function(D,H){H===void 0&&(H=0);var ne=self.document.createElement("canvas"),ve=ne.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ne.width=D.width,ne.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-H,-H,D.width+2*H,D.height+2*H)},resolveURL:function(D){return Z||(Z=self.document.createElement("a")),Z.href=D,Z.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(ae==null&&(ae=self.matchMedia("(prefers-reduced-motion: reduce)")),ae.matches):!1}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},$={supported:!1,testSupport:Te},se,ee=!1,ue,ge=!1;self.document&&(ue=self.document.createElement("img"),ue.onload=function(){se&&xe(se),se=null,ge=!0},ue.onerror=function(){ee=!0,se=null},ue.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Te(R){ee||!ue||(ge?xe(R):se=R)}function xe(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,ue),R.isContextLost())return;$.supported=!0}catch{}R.deleteTexture(D),ee=!0}var Pe="01";function Ie(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="",ne=0;ne<10;ne++)H+=D[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,we=[R,Pe,H].join(""),Ce=Date.now()+ve;return{token:we,tokenExpiresAt:Ce}}var Ae=function(D,H){this._transformRequestFn=D,this._customAccessToken=H,this._createSkuToken()};Ae.prototype._createSkuToken=function(){var D=Ie();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ae.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ae.prototype.transformRequest=function(D,H){return this._transformRequestFn?this._transformRequestFn(D,H)||{url:D}:{url:D}},Ae.prototype.normalizeStyleURL=function(D,H){if(!be(D))return D;var ne=ct(D);return ne.path="/styles/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Ae.prototype.normalizeGlyphsURL=function(D,H){if(!be(D))return D;var ne=ct(D);return ne.path="/fonts/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Ae.prototype.normalizeSourceURL=function(D,H){if(!be(D))return D;var ne=ct(D);return ne.path="/v4/"+ne.authority+".json",ne.params.push("secure"),this._makeAPIURL(ne,this._customAccessToken||H)},Ae.prototype.normalizeSpriteURL=function(D,H,ne,ve){var we=ct(D);return be(D)?(we.path="/styles/v1"+we.path+"/sprite"+H+ne,this._makeAPIURL(we,this._customAccessToken||ve)):(we.path+=""+H+ne,lt(we))},Ae.prototype.normalizeTileURL=function(D,H){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!be(D))return D;var ne=ct(D),ve=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Ce=ie.devicePixelRatio>=2||H===512?"@2x":"",je=$.supported?".webp":"$1";ne.path=ne.path.replace(ve,""+Ce+je),ne.path=ne.path.replace(we,"/"),ne.path="/v4"+ne.path;var gt=this._customAccessToken||ze(ne.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&gt&&this._skuToken&&ne.params.push("sku="+this._skuToken),this._makeAPIURL(ne,gt)},Ae.prototype.canonicalizeTileURL=function(D,H){var ne="/v4/",ve=/\.[\w]+$/,we=ct(D);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(ve))return D;var Ce="mapbox://tiles/";Ce+=we.path.replace(ne,"");var je=we.params;return H&&(je=je.filter(function(gt){return!gt.match(/^access_token=/)})),je.length&&(Ce+="?"+je.join("&")),Ce},Ae.prototype.canonicalizeTileset=function(D,H){for(var ne=H?be(H):!1,ve=[],we=0,Ce=D.tiles||[];we<Ce.length;we+=1){var je=Ce[we];Ve(je)?ve.push(this.canonicalizeTileURL(je,ne)):ve.push(je)}return ve},Ae.prototype._makeAPIURL=function(D,H){var ne="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=ct(J.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,ve.path!=="/"&&(D.path=""+ve.path+D.path),!J.REQUIRE_ACCESS_TOKEN)return lt(D);if(H=H||J.ACCESS_TOKEN,!H)throw new Error("An API access token is required to use Mapbox GL. "+ne);if(H[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ne);return D.params=D.params.filter(function(we){return we.indexOf("access_token")===-1}),D.params.push("access_token="+H),lt(D)};function be(R){return R.indexOf("mapbox:")===0}var _e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(R){return _e.test(R)}function We(R){return R.indexOf("sku=")>0&&Ve(R)}function ze(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D],ve=ne.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var Ze=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ct(R){var D=R.match(Ze);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function lt(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var at="mapbox.eventData";function tt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var H=JSON.parse(oe(D[1]));return H}catch{return null}}var dt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};dt.prototype.getStorageKey=function(D){var H=tt(J.ACCESS_TOKEN),ne="";return H&&H.u?ne=re(H.u):ne=J.ACCESS_TOKEN||"",D?at+"."+D+":"+ne:at+":"+ne},dt.prototype.fetchEventData=function(){var D=Q("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{var ve=self.localStorage.getItem(H);ve&&(this.eventData=JSON.parse(ve));var we=self.localStorage.getItem(ne);we&&(this.anonId=we)}catch{B("Unable to read from LocalStorage")}},dt.prototype.saveEventData=function(){var D=Q("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ne,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(H,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},dt.prototype.processRequests=function(D){},dt.prototype.postEvent=function(D,H,ne,ve){var we=this;if(J.EVENTS_URL){var Ce=ct(J.EVENTS_URL);Ce.params.push("access_token="+(ve||J.ACCESS_TOKEN||""));var je={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:A,skuId:Pe,userId:this.anonId},gt=H?s(je,H):je,Et={url:lt(Ce),headers:{"Content-Type":"text/plain"},body:JSON.stringify([gt])};this.pendingRequest=Dt(Et,function(Rt){we.pendingRequest=null,ne(Rt),we.saveEventData(),we.processRequests(ve)})}},dt.prototype.queueRequest=function(D,H){this.queue.push(D),this.processRequests(H)};var wt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ne,ve,we,Ce){this.skuToken=we,(J.EVENTS_URL&&Ce||J.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(je){return be(je)||Ve(je)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Ce)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Ce=we.id,je=we.timestamp;Ce&&this.success[Ce]||(this.anonId||this.fetchEventData(),y(this.anonId)||(this.anonId=C()),this.postEvent(je,{skuToken:this.skuToken},function(gt){gt||Ce&&(ve.success[Ce]=!0)},ne))}},D}(dt),Mt=function(R){function D(H){R.call(this,"appUserTurnstile"),this._customAccessToken=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ne,ve){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(we){return be(we)||Ve(we)})&&this.queueRequest(Date.now(),ve)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=tt(J.ACCESS_TOKEN),Ce=we?we.u:J.ACCESS_TOKEN,je=Ce!==this.eventData.tokenU;y(this.anonId)||(this.anonId=C(),je=!0);var gt=this.queue.shift();if(this.eventData.lastSuccess){var Et=new Date(this.eventData.lastSuccess),Rt=new Date(gt),tr=(gt-this.eventData.lastSuccess)/(24*60*60*1e3);je=je||tr>=1||tr<-1||Et.getDate()!==Rt.getDate()}else je=!0;if(!je)return this.processRequests();this.postEvent(gt,{"enabled.telemetry":!1},function(pr){pr||(ve.eventData.lastSuccess=gt,ve.eventData.tokenU=Ce)},ne)}},D}(dt),It=new Mt,$e=It.postTurnstileEvent.bind(It),ke=new wt,Fe=ke.postMapLoadEvent.bind(ke),qe="mapbox-tiles",it=500,Je=50,Re=1e3*60*7,Me;function fe(){self.caches&&!Me&&(Me=self.caches.open(qe))}var ye;function Le(R,D){if(ye===void 0)try{new Response(new ReadableStream),ye=!0}catch{ye=!1}ye?D(R.body):R.blob().then(D)}function Oe(R,D,H){if(fe(),!!Me){var ne={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Ce,je){return ne.headers.set(je,Ce)});var ve=N(D.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ne.headers.set("Expires",new Date(H+ve["max-age"]*1e3).toUTCString());var we=new Date(ne.headers.get("Expires")).getTime()-H;we<Re||Le(D,function(Ce){var je=new self.Response(Ce,ne);fe(),Me&&Me.then(function(gt){return gt.put(ht(R.url),je)}).catch(function(gt){return B(gt.message)})})}}}function ht(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function vt(R,D){if(fe(),!Me)return D(null);var H=ht(R.url);Me.then(function(ne){ne.match(H).then(function(ve){var we=Lt(ve);ne.delete(H),we&&ne.put(H,ve.clone()),D(null,ve,we)}).catch(D)}).catch(D)}function Lt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),H=N(R.headers.get("Cache-Control")||"");return D>Date.now()&&!H["no-cache"]}var Ot=1/0;function Jt(R){Ot++,Ot>Je&&(R.getActor().send("enforceCacheSizeLimit",it),Ot=0)}function qt(R){fe(),Me&&Me.then(function(D){D.keys().then(function(H){for(var ne=0;ne<H.length-R;ne++)D.delete(H[ne])})})}function Vt(R){var D=self.caches.delete(qe);R&&D.catch(R).then(function(){return R()})}function vr(R,D){it=R,Je=D}var gr;function Gr(){return gr==null&&(gr=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),gr}var At={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(At);var or=function(R){function D(H,ne,ve){ne===401&&Ve(ve)&&(H+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,H),this.status=ne,this.url=ve,this.name=this.constructor.name,this.message=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),rr=k()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},Lr=function(R){return/^file:/.test(R)||/^file:/.test(rr())&&!/^\w+:/.test(R)};function Tr(R,D){var H=new self.AbortController,ne=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:rr(),signal:H.signal}),ve=!1,we=!1,Ce=We(ne.url);R.type==="json"&&ne.headers.set("Accept","application/json");var je=function(Et,Rt,tr){if(!we){if(Et&&Et.message!=="SecurityError"&&B(Et),Rt&&tr)return gt(Rt);var pr=Date.now();self.fetch(ne).then(function(fr){if(fr.ok){var Cr=Ce?fr.clone():null;return gt(fr,Cr,pr)}else return D(new or(fr.statusText,fr.status,R.url))}).catch(function(fr){fr.code!==20&&D(new Error(fr.message))})}},gt=function(Et,Rt,tr){(R.type==="arrayBuffer"?Et.arrayBuffer():R.type==="json"?Et.json():Et.text()).then(function(pr){we||(Rt&&tr&&Oe(ne,Rt,tr),ve=!0,D(null,pr,Et.headers.get("Cache-Control"),Et.headers.get("Expires")))}).catch(function(pr){we||D(new Error(pr.message))})};return Ce?vt(ne,je):je(null,null),{cancel:function(){we=!0,ve||H.abort()}}}function pt(R,D){var H=new self.XMLHttpRequest;H.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(H.responseType="arraybuffer");for(var ne in R.headers)H.setRequestHeader(ne,R.headers[ne]);return R.type==="json"&&(H.responseType="text",H.setRequestHeader("Accept","application/json")),H.withCredentials=R.credentials==="include",H.onerror=function(){D(new Error(H.statusText))},H.onload=function(){if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){var ve=H.response;if(R.type==="json")try{ve=JSON.parse(H.response)}catch(we){return D(we)}D(null,ve,H.getResponseHeader("Cache-Control"),H.getResponseHeader("Expires"))}else D(new or(H.statusText,H.status,R.url))},H.send(R.body),{cancel:function(){return H.abort()}}}var st=function(R,D){if(!Lr(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return Tr(R,D);if(k()&&self.worker&&self.worker.actor){var H=!0;return self.worker.actor.send("getResource",R,D,void 0,H)}}return pt(R,D)},yt=function(R,D){return st(s(R,{type:"json"}),D)},Pt=function(R,D){return st(s(R,{type:"arrayBuffer"}),D)},Dt=function(R,D){return st(s(R,{method:"POST"}),D)};function Nt(R){var D=self.document.createElement("a");return D.href=R,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function $t(R,D,H,ne){var ve=new self.Image,we=self.URL;ve.onload=function(){D(null,ve),we.revokeObjectURL(ve.src)},ve.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ce=new self.Blob([new Uint8Array(R)],{type:"image/png"});ve.cacheControl=H,ve.expires=ne,ve.src=R.byteLength?we.createObjectURL(Ce):Zt}function lr(R,D){var H=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(H).then(function(ne){D(null,ne)}).catch(function(ne){D(new Error("Could not load image because of "+ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var ir,He,Ge=function(){ir=[],He=0};Ge();var Ct=function(R,D){if($.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),He>=J.MAX_PARALLEL_IMAGE_REQUESTS){var H={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return ir.push(H),H}He++;var ne=!1,ve=function(){if(!ne)for(ne=!0,He--;ir.length&&He<J.MAX_PARALLEL_IMAGE_REQUESTS;){var Ce=ir.shift(),je=Ce.requestParameters,gt=Ce.callback,Et=Ce.cancelled;Et||(Ce.cancel=Ct(je,gt).cancel)}},we=Pt(R,function(Ce,je,gt,Et){ve(),Ce?D(Ce):je&&(Gr()?lr(je,D):$t(je,D,gt,Et))});return{cancel:function(){we.cancel(),ve()}}},Ut=function(R,D){var H=self.document.createElement("video");H.muted=!0,H.onloadstart=function(){D(null,H)};for(var ne=0;ne<R.length;ne++){var ve=self.document.createElement("source");Nt(R[ne])||(H.crossOrigin="Anonymous"),ve.src=R[ne],H.appendChild(ve)}return{cancel:function(){}}};function Kt(R,D,H){var ne=H[R]&&H[R].indexOf(D)!==-1;ne||(H[R]=H[R]||[],H[R].push(D))}function Xt(R,D,H){if(H&&H[R]){var ne=H[R].indexOf(D);ne!==-1&&H[R].splice(ne,1)}}var ur=function(D,H){H===void 0&&(H={}),s(this,H),this.type=D},Ar=function(R){function D(H,ne){ne===void 0&&(ne={}),R.call(this,"error",s({error:H},ne))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(ur),Rr=function(){};Rr.prototype.on=function(D,H){return this._listeners=this._listeners||{},Kt(D,H,this._listeners),this},Rr.prototype.off=function(D,H){return Xt(D,H,this._listeners),Xt(D,H,this._oneTimeListeners),this},Rr.prototype.once=function(D,H){return this._oneTimeListeners=this._oneTimeListeners||{},Kt(D,H,this._oneTimeListeners),this},Rr.prototype.fire=function(D,H){typeof D=="string"&&(D=new ur(D,H||{}));var ne=D.type;if(this.listens(ne)){D.target=this;for(var ve=this._listeners&&this._listeners[ne]?this._listeners[ne].slice():[],we=0,Ce=ve;we<Ce.length;we+=1){var je=Ce[we];je.call(this,D)}for(var gt=this._oneTimeListeners&&this._oneTimeListeners[ne]?this._oneTimeListeners[ne].slice():[],Et=0,Rt=gt;Et<Rt.length;Et+=1){var tr=Rt[Et];Xt(ne,tr,this._oneTimeListeners),tr.call(this,D)}var pr=this._eventedParent;pr&&(s(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),pr.fire(D))}else D instanceof Ar&&console.error(D.error);return this},Rr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},Rr.prototype.setEventedParent=function(D,H){return this._eventedParent=D,this._eventedParentData=H,this};var wr=8,er={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},_r={"*":{type:"source"}},Vr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Br={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},yr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},pn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},an={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Zr={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Nn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},fn={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},xn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],On={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},br={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ir={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},An={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},wn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={type:"array",value:"*"},Gn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ma={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},pa={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ua={type:"array",value:"*",minimum:1},xa={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},ga={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Or=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],cn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},vn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Cn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Wn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Fn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Hn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Xn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},sa={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ka={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},oi={"*":{type:"string"}},ar={$version:wr,$root:er,sources:_r,source:Vr,source_vector:Br,source_raster:yr,source_raster_dem:pn,source_geojson:an,source_video:Zr,source_image:Nn,layer:fn,layout:xn,layout_background:On,layout_fill:br,layout_circle:Ir,layout_heatmap:jr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Wr,layout_symbol:An,layout_raster:wn,layout_hillshade:Tn,filter:Rn,filter_operator:Gn,geometry_type:ma,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:pa,expression:ua,expression_name:xa,light:ga,paint:Or,paint_fill:cn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:vn,paint_circle:Cn,paint_heatmap:Wn,paint_symbol:Fn,paint_raster:Hn,paint_hillshade:Xn,paint_background:sa,transition:ka,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:oi},me=function(D,H,ne,ve){this.message=(D?D+": ":"")+ne,ve&&(this.identifier=ve),H!=null&&H.__line__&&(this.line=H.__line__)};function Ue(R){var D=R.key,H=R.value;return H?[new me(D,H,"constants have been deprecated as of v8")]:[]}function et(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne];for(var Ce in we)R[Ce]=we[Ce]}return R}function ft(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function kt(R){if(Array.isArray(R))return R.map(kt);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var H in R)D[H]=kt(R[H]);return D}return ft(R)}var _t=function(R){function D(H,ne){R.call(this,ne),this.message=ne,this.key=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),Wt=function(D,H){H===void 0&&(H=[]),this.parent=D,this.bindings={};for(var ne=0,ve=H;ne<ve.length;ne+=1){var we=ve[ne],Ce=we[0],je=we[1];this.bindings[Ce]=je}};Wt.prototype.concat=function(D){return new Wt(this,D)},Wt.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Wt.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Gt={kind:"null"},Ht={kind:"number"},nr={kind:"string"},Dr={kind:"boolean"},Qr={kind:"color"},Yr={kind:"object"},Ur={kind:"value"},Pn={kind:"error"},Un={kind:"collator"},kn={kind:"formatted"},Qn={kind:"resolvedImage"};function qn(R,D){return{kind:"array",itemType:R,N:D}}function ca(R){if(R.kind==="array"){var D=ca(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var ei=[Gt,Ht,nr,Dr,Qr,kn,Yr,qn(Ur),Qn];function Na(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Na(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var H=0,ne=ei;H<ne.length;H+=1){var ve=ne[H];if(!Na(ve,D))return null}}return"Expected "+ca(R)+" but found "+ca(D)+" instead."}function Di(R,D){return D.some(function(H){return H.kind===R.kind})}function ri(R,D){return D.some(function(H){return H==="null"?R===null:H==="array"?Array.isArray(R):H==="object"?R&&!Array.isArray(R)&&typeof R=="object":H===typeof R})}var vi=P(function(R,D){var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(Et){return Et=Math.round(Et),Et<0?0:Et>255?255:Et}function ve(Et){return Et<0?0:Et>1?1:Et}function we(Et){return Et[Et.length-1]==="%"?ne(parseFloat(Et)/100*255):ne(parseInt(Et))}function Ce(Et){return Et[Et.length-1]==="%"?ve(parseFloat(Et)/100):ve(parseFloat(Et))}function je(Et,Rt,tr){return tr<0?tr+=1:tr>1&&(tr-=1),tr*6<1?Et+(Rt-Et)*tr*6:tr*2<1?Rt:tr*3<2?Et+(Rt-Et)*(2/3-tr)*6:Et}function gt(Et){var Rt=Et.replace(/ /g,"").toLowerCase();if(Rt in H)return H[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var tr=parseInt(Rt.substr(1),16);return tr>=0&&tr<=4095?[(tr&3840)>>4|(tr&3840)>>8,tr&240|(tr&240)>>4,tr&15|(tr&15)<<4,1]:null}else if(Rt.length===7){var tr=parseInt(Rt.substr(1),16);return tr>=0&&tr<=16777215?[(tr&16711680)>>16,(tr&65280)>>8,tr&255,1]:null}return null}var pr=Rt.indexOf("("),fr=Rt.indexOf(")");if(pr!==-1&&fr+1===Rt.length){var Cr=Rt.substr(0,pr),Xr=Rt.substr(pr+1,fr-(pr+1)).split(","),gn=1;switch(Cr){case"rgba":if(Xr.length!==4)return null;gn=Ce(Xr.pop());case"rgb":return Xr.length!==3?null:[we(Xr[0]),we(Xr[1]),we(Xr[2]),gn];case"hsla":if(Xr.length!==4)return null;gn=Ce(Xr.pop());case"hsl":if(Xr.length!==3)return null;var un=(parseFloat(Xr[0])%360+360)%360/360,In=Ce(Xr[1]),Sn=Ce(Xr[2]),Dn=Sn<=.5?Sn*(In+1):Sn+In-Sn*In,Bn=Sn*2-Dn;return[ne(je(Bn,Dn,un+1/3)*255),ne(je(Bn,Dn,un)*255),ne(je(Bn,Dn,un-1/3)*255),gn];default:return null}}return null}try{D.parseCSSColor=gt}catch{}}),Ks=vi.parseCSSColor,si=function(D,H,ne,ve){ve===void 0&&(ve=1),this.r=D,this.g=H,this.b=ne,this.a=ve};si.parse=function(D){if(D){if(D instanceof si)return D;if(typeof D=="string"){var H=Ks(D);if(H)return new si(H[0]/255*H[3],H[1]/255*H[3],H[2]/255*H[3],H[3])}}},si.prototype.toString=function(){var D=this.toArray(),H=D[0],ne=D[1],ve=D[2],we=D[3];return"rgba("+Math.round(H)+","+Math.round(ne)+","+Math.round(ve)+","+we+")"},si.prototype.toArray=function(){var D=this,H=D.r,ne=D.g,ve=D.b,we=D.a;return we===0?[0,0,0,0]:[H*255/we,ne*255/we,ve*255/we,we]},si.black=new si(0,0,0,1),si.white=new si(1,1,1,1),si.transparent=new si(0,0,0,0),si.red=new si(1,0,0,1);var mo=function(D,H,ne){D?this.sensitivity=H?"variant":"case":this.sensitivity=H?"accent":"base",this.locale=ne,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};mo.prototype.compare=function(D,H){return this.collator.compare(D,H)},mo.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Zo=function(D,H,ne,ve,we){this.text=D,this.image=H,this.scale=ne,this.fontStack=ve,this.textColor=we},Zi=function(D){this.sections=D};Zi.fromString=function(D){return new Zi([new Zo(D,null,null,null,null)])},Zi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Zi.factory=function(D){return D instanceof Zi?D:Zi.fromString(D)},Zi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Zi.prototype.serialize=function(){for(var D=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];if(ve.image){D.push(["image",ve.image.name]);continue}D.push(ve.text);var we={};ve.fontStack&&(we["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(we["font-scale"]=ve.scale),ve.textColor&&(we["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(we)}return D};var _i=function(D){this.name=D.name,this.available=D.available};_i.prototype.toString=function(){return this.name},_i.fromString=function(D){return D?new _i({name:D,available:!1}):null},_i.prototype.serialize=function(){return["image",this.name]};function ps(R,D,H,ne){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof H=="number"&&H>=0&&H<=255)){var ve=typeof ne=="number"?[R,D,H,ne]:[R,D,H];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ne>"u"||typeof ne=="number"&&ne>=0&&ne<=1?null:"Invalid rgba value ["+[R,D,H,ne].join(", ")+"]: 'a' must be between 0 and 1."}function So(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof si)return!0;if(R instanceof mo)return!0;if(R instanceof Zi)return!0;if(R instanceof _i)return!0;if(Array.isArray(R)){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(!So(ne))return!1}return!0}else if(typeof R=="object"){for(var ve in R)if(!So(R[ve]))return!1;return!0}else return!1}function Si(R){if(R===null)return Gt;if(typeof R=="string")return nr;if(typeof R=="boolean")return Dr;if(typeof R=="number")return Ht;if(R instanceof si)return Qr;if(R instanceof mo)return Un;if(R instanceof Zi)return kn;if(R instanceof _i)return Qn;if(Array.isArray(R)){for(var D=R.length,H,ne=0,ve=R;ne<ve.length;ne+=1){var we=ve[ne],Ce=Si(we);if(!H)H=Ce;else{if(H===Ce)continue;H=Ur;break}}return qn(H||Ur,D)}else return Yr}function sl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof si||R instanceof Zi||R instanceof _i?R.toString():JSON.stringify(R)}var so=function(D,H){this.type=D,this.value=H};so.parse=function(D,H){if(D.length!==2)return H.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!So(D[1]))return H.error("invalid value");var ne=D[1],ve=Si(ne),we=H.expectedType;return ve.kind==="array"&&ve.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(ve=we),new so(ve,ne)},so.prototype.evaluate=function(){return this.value},so.prototype.eachChild=function(){},so.prototype.outputDefined=function(){return!0},so.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof si?["rgba"].concat(this.value.toArray()):this.value instanceof Zi?this.value.serialize():this.value};var to=function(D){this.name="ExpressionEvaluationError",this.message=D};to.prototype.toJSON=function(){return this.message};var ni={string:nr,number:Ht,boolean:Dr,object:Yr},qi=function(D,H){this.type=D,this.args=H};qi.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=1,ve,we=D[0];if(we==="array"){var Ce;if(D.length>2){var je=D[1];if(typeof je!="string"||!(je in ni)||je==="object")return H.error('The item type argument of "array" must be one of string, number, boolean',1);Ce=ni[je],ne++}else Ce=Ur;var gt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return H.error('The length argument to "array" must be a positive integer literal',2);gt=D[2],ne++}ve=qn(Ce,gt)}else ve=ni[we];for(var Et=[];ne<D.length;ne++){var Rt=H.parse(D[ne],ne,Ur);if(!Rt)return null;Et.push(Rt)}return new qi(ve,Et)},qi.prototype.evaluate=function(D){for(var H=0;H<this.args.length;H++){var ne=this.args[H].evaluate(D),ve=Na(this.type,Si(ne));if(ve){if(H===this.args.length-1)throw new to("Expected value to be of type "+ca(this.type)+", but found "+ca(Si(ne))+" instead.")}else return ne}return null},qi.prototype.eachChild=function(D){this.args.forEach(D)},qi.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},qi.prototype.serialize=function(){var D=this.type,H=[D.kind];if(D.kind==="array"){var ne=D.itemType;if(ne.kind==="string"||ne.kind==="number"||ne.kind==="boolean"){H.push(ne.kind);var ve=D.N;(typeof ve=="number"||this.args.length>1)&&H.push(ve)}}return H.concat(this.args.map(function(we){return we.serialize()}))};var No=function(D){this.type=kn,this.sections=D};No.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=D[1];if(!Array.isArray(ne)&&typeof ne=="object")return H.error("First argument must be an image or text section.");for(var ve=[],we=!1,Ce=1;Ce<=D.length-1;++Ce){var je=D[Ce];if(we&&typeof je=="object"&&!Array.isArray(je)){we=!1;var gt=null;if(je["font-scale"]&&(gt=H.parse(je["font-scale"],1,Ht),!gt))return null;var Et=null;if(je["text-font"]&&(Et=H.parse(je["text-font"],1,qn(nr)),!Et))return null;var Rt=null;if(je["text-color"]&&(Rt=H.parse(je["text-color"],1,Qr),!Rt))return null;var tr=ve[ve.length-1];tr.scale=gt,tr.font=Et,tr.textColor=Rt}else{var pr=H.parse(D[Ce],1,Ur);if(!pr)return null;var fr=pr.type.kind;if(fr!=="string"&&fr!=="value"&&fr!=="null"&&fr!=="resolvedImage")return H.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,ve.push({content:pr,scale:null,font:null,textColor:null})}}return new No(ve)},No.prototype.evaluate=function(D){var H=function(ne){var ve=ne.content.evaluate(D);return Si(ve)===Qn?new Zo("",ve,null,null,null):new Zo(sl(ve),null,ne.scale?ne.scale.evaluate(D):null,ne.font?ne.font.evaluate(D).join(","):null,ne.textColor?ne.textColor.evaluate(D):null)};return new Zi(this.sections.map(H))},No.prototype.eachChild=function(D){for(var H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){for(var D=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];D.push(ve.content.serialize());var we={};ve.scale&&(we["font-scale"]=ve.scale.serialize()),ve.font&&(we["text-font"]=ve.font.serialize()),ve.textColor&&(we["text-color"]=ve.textColor.serialize()),D.push(we)}return D};var Xo=function(D){this.type=Qn,this.input=D};Xo.parse=function(D,H){if(D.length!==2)return H.error("Expected two arguments.");var ne=H.parse(D[1],1,nr);return ne?new Xo(ne):H.error("No image name provided.")},Xo.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=_i.fromString(H);return ne&&D.availableImages&&(ne.available=D.availableImages.indexOf(H)>-1),ne},Xo.prototype.eachChild=function(D){D(this.input)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){return["image",this.input.serialize()]};var gs={"to-boolean":Dr,"to-color":Qr,"to-number":Ht,"to-string":nr},io=function(D,H){this.type=D,this.args=H};io.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=D[0];if((ne==="to-boolean"||ne==="to-string")&&D.length!==2)return H.error("Expected one argument.");for(var ve=gs[ne],we=[],Ce=1;Ce<D.length;Ce++){var je=H.parse(D[Ce],Ce,Ur);if(!je)return null;we.push(je)}return new io(ve,we)},io.prototype.evaluate=function(D){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(D));if(this.type.kind==="color"){for(var H,ne,ve=0,we=this.args;ve<we.length;ve+=1){var Ce=we[ve];if(H=Ce.evaluate(D),ne=null,H instanceof si)return H;if(typeof H=="string"){var je=D.parseColor(H);if(je)return je}else if(Array.isArray(H)&&(H.length<3||H.length>4?ne="Invalid rbga value "+JSON.stringify(H)+": expected an array containing either three or four numeric values.":ne=ps(H[0],H[1],H[2],H[3]),!ne))return new si(H[0]/255,H[1]/255,H[2]/255,H[3])}throw new to(ne||"Could not parse color from value '"+(typeof H=="string"?H:String(JSON.stringify(H)))+"'")}else if(this.type.kind==="number"){for(var gt=null,Et=0,Rt=this.args;Et<Rt.length;Et+=1){var tr=Rt[Et];if(gt=tr.evaluate(D),gt===null)return 0;var pr=Number(gt);if(!isNaN(pr))return pr}throw new to("Could not convert "+JSON.stringify(gt)+" to number.")}else return this.type.kind==="formatted"?Zi.fromString(sl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?_i.fromString(sl(this.args[0].evaluate(D))):sl(this.args[0].evaluate(D))},io.prototype.eachChild=function(D){this.args.forEach(D)},io.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},io.prototype.serialize=function(){if(this.type.kind==="formatted")return new No([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Xo(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(H){D.push(H.serialize())}),D};var Ou=["Unknown","Point","LineString","Polygon"],es=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};es.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},es.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ou[this.feature.type]:this.feature.type:null},es.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},es.prototype.canonicalID=function(){return this.canonical},es.prototype.properties=function(){return this.feature&&this.feature.properties||{}},es.prototype.parseColor=function(D){var H=this._parseColorCache[D];return H||(H=this._parseColorCache[D]=si.parse(D)),H};var xo=function(D,H,ne,ve){this.name=D,this.type=H,this._evaluate=ne,this.args=ve};xo.prototype.evaluate=function(D){return this._evaluate(D,this.args)},xo.prototype.eachChild=function(D){this.args.forEach(D)},xo.prototype.outputDefined=function(){return!1},xo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},xo.parse=function(D,H){var ne,ve=D[0],we=xo.definitions[ve];if(!we)return H.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ce=Array.isArray(we)?we[0]:we.type,je=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,gt=je.filter(function(La){var Pa=La[0];return!Array.isArray(Pa)||Pa.length===D.length-1}),Et=null,Rt=0,tr=gt;Rt<tr.length;Rt+=1){var pr=tr[Rt],fr=pr[0],Cr=pr[1];Et=new jo(H.registry,H.path,null,H.scope);for(var Xr=[],gn=!1,un=1;un<D.length;un++){var In=D[un],Sn=Array.isArray(fr)?fr[un-1]:fr.type,Dn=Et.parse(In,1+Xr.length,Sn);if(!Dn){gn=!0;break}Xr.push(Dn)}if(!gn){if(Array.isArray(fr)&&fr.length!==Xr.length){Et.error("Expected "+fr.length+" arguments, but found "+Xr.length+" instead.");continue}for(var Bn=0;Bn<Xr.length;Bn++){var Kn=Array.isArray(fr)?fr[Bn]:fr.type,oa=Xr[Bn];Et.concat(Bn+1).checkSubtype(Kn,oa.type)}if(Et.errors.length===0)return new xo(ve,Ce,Cr,Xr)}}if(gt.length===1)(ne=H.errors).push.apply(ne,Et.errors);else{for(var ia=gt.length?gt:je,Da=ia.map(function(La){var Pa=La[0];return ou(Pa)}).join(" | "),ya=[],Ma=1;Ma<D.length;Ma++){var ja=H.parse(D[Ma],1+ya.length);if(!ja)return null;ya.push(ca(ja.type))}H.error("Expected arguments of type "+Da+", but found ("+ya.join(", ")+") instead.")}return null},xo.register=function(D,H){xo.definitions=H;for(var ne in H)D[ne]=xo};function ou(R){return Array.isArray(R)?"("+R.map(ca).join(", ")+")":"("+ca(R.type)+"...)"}var ys=function(D,H,ne){this.type=Un,this.locale=ne,this.caseSensitive=D,this.diacriticSensitive=H};ys.parse=function(D,H){if(D.length!==2)return H.error("Expected one argument.");var ne=D[1];if(typeof ne!="object"||Array.isArray(ne))return H.error("Collator options argument must be an object.");var ve=H.parse(ne["case-sensitive"]===void 0?!1:ne["case-sensitive"],1,Dr);if(!ve)return null;var we=H.parse(ne["diacritic-sensitive"]===void 0?!1:ne["diacritic-sensitive"],1,Dr);if(!we)return null;var Ce=null;return ne.locale&&(Ce=H.parse(ne.locale,1,nr),!Ce)?null:new ys(ve,we,Ce)},ys.prototype.evaluate=function(D){return new mo(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},ys.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Uo=8192;function su(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function lu(R){return(180+R)/360}function pf(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function ms(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function gf(R,D){var H=lu(R[0]),ne=pf(R[1]),ve=Math.pow(2,D.z);return[Math.round(H*ve*Uo),Math.round(ne*ve*Uo)]}function uu(R,D,H){var ne=R[0]-D[0],ve=R[1]-D[1],we=R[0]-H[0],Ce=R[1]-H[1];return ne*Ce-we*ve===0&&ne*we<=0&&ve*Ce<=0}function xs(R,D,H){return D[1]>R[1]!=H[1]>R[1]&&R[0]<(H[0]-D[0])*(R[1]-D[1])/(H[1]-D[1])+D[0]}function ts(R,D){for(var H=!1,ne=0,ve=D.length;ne<ve;ne++)for(var we=D[ne],Ce=0,je=we.length;Ce<je-1;Ce++){if(uu(R,we[Ce],we[Ce+1]))return!1;xs(R,we[Ce],we[Ce+1])&&(H=!H)}return H}function Bu(R,D){for(var H=0;H<D.length;H++)if(ts(R,D[H]))return!0;return!1}function Nu(R,D){return R[0]*D[1]-R[1]*D[0]}function fu(R,D,H,ne){var ve=R[0]-H[0],we=R[1]-H[1],Ce=D[0]-H[0],je=D[1]-H[1],gt=ne[0]-H[0],Et=ne[1]-H[1],Rt=ve*Et-gt*we,tr=Ce*Et-gt*je;return Rt>0&&tr<0||Rt<0&&tr>0}function yf(R,D,H,ne){var ve=[D[0]-R[0],D[1]-R[1]],we=[ne[0]-H[0],ne[1]-H[1]];return Nu(we,ve)===0?!1:!!(fu(R,D,H,ne)&&fu(H,ne,R,D))}function Fi(R,D,H){for(var ne=0,ve=H;ne<ve.length;ne+=1)for(var we=ve[ne],Ce=0;Ce<we.length-1;++Ce)if(yf(R,D,we[Ce],we[Ce+1]))return!0;return!1}function ll(R,D){for(var H=0;H<R.length;++H)if(!ts(R[H],D))return!1;for(var ne=0;ne<R.length-1;++ne)if(Fi(R[ne],R[ne+1],D))return!1;return!0}function bo(R,D){for(var H=0;H<D.length;H++)if(ll(R,D[H]))return!0;return!1}function co(R,D,H){for(var ne=[],ve=0;ve<R.length;ve++){for(var we=[],Ce=0;Ce<R[ve].length;Ce++){var je=gf(R[ve][Ce],H);su(D,je),we.push(je)}ne.push(we)}return ne}function Ds(R,D,H){for(var ne=[],ve=0;ve<R.length;ve++){var we=co(R[ve],D,H);ne.push(we)}return ne}function El(R,D,H,ne){if(R[0]<H[0]||R[0]>H[2]){var ve=ne*.5,we=R[0]-H[0]>ve?-ne:H[0]-R[0]>ve?ne:0;we===0&&(we=R[0]-H[2]>ve?-ne:H[2]-R[0]>ve?ne:0),R[0]+=we}su(D,R)}function mf(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function bs(R,D,H,ne){for(var ve=Math.pow(2,ne.z)*Uo,we=[ne.x*Uo,ne.y*Uo],Ce=[],je=0,gt=R;je<gt.length;je+=1)for(var Et=gt[je],Rt=0,tr=Et;Rt<tr.length;Rt+=1){var pr=tr[Rt],fr=[pr.x+we[0],pr.y+we[1]];El(fr,D,H,ve),Ce.push(fr)}return Ce}function cu(R,D,H,ne){for(var ve=Math.pow(2,ne.z)*Uo,we=[ne.x*Uo,ne.y*Uo],Ce=[],je=0,gt=R;je<gt.length;je+=1){for(var Et=gt[je],Rt=[],tr=0,pr=Et;tr<pr.length;tr+=1){var fr=pr[tr],Cr=[fr.x+we[0],fr.y+we[1]];su(D,Cr),Rt.push(Cr)}Ce.push(Rt)}if(D[2]-D[0]<=ve/2){mf(D);for(var Xr=0,gn=Ce;Xr<gn.length;Xr+=1)for(var un=gn[Xr],In=0,Sn=un;In<Sn.length;In+=1){var Dn=Sn[In];El(Dn,D,H,ve)}}return Ce}function ws(R,D){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var we=co(D.coordinates,ne,ve),Ce=bs(R.geometry(),H,ne,ve);if(!ms(H,ne))return!1;for(var je=0,gt=Ce;je<gt.length;je+=1){var Et=gt[je];if(!ts(Et,we))return!1}}if(D.type==="MultiPolygon"){var Rt=Ds(D.coordinates,ne,ve),tr=bs(R.geometry(),H,ne,ve);if(!ms(H,ne))return!1;for(var pr=0,fr=tr;pr<fr.length;pr+=1){var Cr=fr[pr];if(!Bu(Cr,Rt))return!1}}return!0}function hu(R,D){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var we=co(D.coordinates,ne,ve),Ce=cu(R.geometry(),H,ne,ve);if(!ms(H,ne))return!1;for(var je=0,gt=Ce;je<gt.length;je+=1){var Et=gt[je];if(!ll(Et,we))return!1}}if(D.type==="MultiPolygon"){var Rt=Ds(D.coordinates,ne,ve),tr=cu(R.geometry(),H,ne,ve);if(!ms(H,ne))return!1;for(var pr=0,fr=tr;pr<fr.length;pr+=1){var Cr=fr[pr];if(!bo(Cr,Rt))return!1}}return!0}var Ho=function(D,H){this.type=Dr,this.geojson=D,this.geometries=H};Ho.parse=function(D,H){if(D.length!==2)return H.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(So(D[1])){var ne=D[1];if(ne.type==="FeatureCollection")for(var ve=0;ve<ne.features.length;++ve){var we=ne.features[ve].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Ho(ne,ne.features[ve].geometry)}else if(ne.type==="Feature"){var Ce=ne.geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new Ho(ne,ne.geometry)}else if(ne.type==="Polygon"||ne.type==="MultiPolygon")return new Ho(ne,ne)}return H.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ho.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return ws(D,this.geometries);if(D.geometryType()==="LineString")return hu(D,this.geometries)}return!1},Ho.prototype.eachChild=function(){},Ho.prototype.outputDefined=function(){return!0},Ho.prototype.serialize=function(){return["within",this.geojson]};function os(R){if(R instanceof xo){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Ho)return!1;var D=!0;return R.eachChild(function(H){D&&!os(H)&&(D=!1)}),D}function Is(R){if(R instanceof xo&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(H){D&&!Is(H)&&(D=!1)}),D}function _s(R,D){if(R instanceof xo&&D.indexOf(R.name)>=0)return!1;var H=!0;return R.eachChild(function(ne){H&&!_s(ne,D)&&(H=!1)}),H}var ss=function(D,H){this.type=H.type,this.name=D,this.boundExpression=H};ss.parse=function(D,H){if(D.length!==2||typeof D[1]!="string")return H.error("'var' expression requires exactly one string literal argument.");var ne=D[1];return H.scope.has(ne)?new ss(ne,H.scope.get(ne)):H.error('Unknown variable "'+ne+'". Make sure "'+ne+'" has been bound in an enclosing "let" expression before using it.',1)},ss.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},ss.prototype.eachChild=function(){},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){return["var",this.name]};var jo=function(D,H,ne,ve,we){H===void 0&&(H=[]),ve===void 0&&(ve=new Wt),we===void 0&&(we=[]),this.registry=D,this.path=H,this.key=H.map(function(Ce){return"["+Ce+"]"}).join(""),this.scope=ve,this.errors=we,this.expectedType=ne};jo.prototype.parse=function(D,H,ne,ve,we){return we===void 0&&(we={}),H?this.concat(H,ne,ve)._parse(D,we):this._parse(D,we)},jo.prototype._parse=function(D,H){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ne(Rt,tr,pr){return pr==="assert"?new qi(tr,[Rt]):pr==="coerce"?new io(tr,[Rt]):Rt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[ve];if(we){var Ce=we.parse(D,this);if(!Ce)return null;if(this.expectedType){var je=this.expectedType,gt=Ce.type;if((je.kind==="string"||je.kind==="number"||je.kind==="boolean"||je.kind==="object"||je.kind==="array")&&gt.kind==="value")Ce=ne(Ce,je,H.typeAnnotation||"assert");else if((je.kind==="color"||je.kind==="formatted"||je.kind==="resolvedImage")&&(gt.kind==="value"||gt.kind==="string"))Ce=ne(Ce,je,H.typeAnnotation||"coerce");else if(this.checkSubtype(je,gt))return null}if(!(Ce instanceof so)&&Ce.type.kind!=="resolvedImage"&&Cl(Ce)){var Et=new es;try{Ce=new so(Ce.type,Ce.evaluate(Et))}catch(Rt){return this.error(Rt.message),null}}return Ce}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},jo.prototype.concat=function(D,H,ne){var ve=typeof D=="number"?this.path.concat(D):this.path,we=ne?this.scope.concat(ne):this.scope;return new jo(this.registry,ve,H||null,we,this.errors)},jo.prototype.error=function(D){for(var H=[],ne=arguments.length-1;ne-- >0;)H[ne]=arguments[ne+1];var ve=""+this.key+H.map(function(we){return"["+we+"]"}).join("");this.errors.push(new _t(ve,D))},jo.prototype.checkSubtype=function(D,H){var ne=Na(D,H);return ne&&this.error(ne),ne};function Cl(R){if(R instanceof ss)return Cl(R.boundExpression);if(R instanceof xo&&R.name==="error")return!1;if(R instanceof ys)return!1;if(R instanceof Ho)return!1;var D=R instanceof io||R instanceof qi,H=!0;return R.eachChild(function(ne){D?H=H&&Cl(ne):H=H&&ne instanceof so}),H?os(R)&&_s(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Fs(R,D){for(var H=R.length-1,ne=0,ve=H,we=0,Ce,je;ne<=ve;)if(we=Math.floor((ne+ve)/2),Ce=R[we],je=R[we+1],Ce<=D){if(we===H||D<je)return we;ne=we+1}else if(Ce>D)ve=we-1;else throw new to("Input is not a number.");return 0}var ks=function(D,H,ne){this.type=D,this.input=H,this.labels=[],this.outputs=[];for(var ve=0,we=ne;ve<we.length;ve+=1){var Ce=we[ve],je=Ce[0],gt=Ce[1];this.labels.push(je),this.outputs.push(gt)}};ks.parse=function(D,H){if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");var ne=H.parse(D[1],1,Ht);if(!ne)return null;var ve=[],we=null;H.expectedType&&H.expectedType.kind!=="value"&&(we=H.expectedType);for(var Ce=1;Ce<D.length;Ce+=2){var je=Ce===1?-1/0:D[Ce],gt=D[Ce+1],Et=Ce,Rt=Ce+1;if(typeof je!="number")return H.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Et);if(ve.length&&ve[ve.length-1][0]>=je)return H.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Et);var tr=H.parse(gt,Rt,we);if(!tr)return null;we=we||tr.type,ve.push([je,tr])}return new ks(we,ne,ve)},ks.prototype.evaluate=function(D){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=H[0])return ne[0].evaluate(D);var we=H.length;if(ve>=H[we-1])return ne[we-1].evaluate(D);var Ce=Fs(H,ve);return ne[Ce].evaluate(D)},ks.prototype.eachChild=function(D){D(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var ve=ne[H];D(ve)}},ks.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ks.prototype.serialize=function(){for(var D=["step",this.input.serialize()],H=0;H<this.labels.length;H++)H>0&&D.push(this.labels[H]),D.push(this.outputs[H].serialize());return D};function Mr(R,D,H){return R*(1-H)+D*H}function on(R,D,H){return new si(Mr(R.r,D.r,H),Mr(R.g,D.g,H),Mr(R.b,D.b,H),Mr(R.a,D.a,H))}function mn(R,D,H){return R.map(function(ne,ve){return Mr(ne,D[ve],H)})}var Zn=Object.freeze({__proto__:null,number:Mr,color:on,array:mn}),Ln=.95047,$n=1,na=1.08883,ba=4/29,ha=6/29,Za=3*ha*ha,Xa=ha*ha*ha,Ka=Math.PI/180,li=180/Math.PI;function Ei(R){return R>Xa?Math.pow(R,.3333333333333333):R/Za+ba}function Ga(R){return R>ha?R*R*R:Za*(R-ba)}function ro(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function ho(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function wo(R){var D=ho(R.r),H=ho(R.g),ne=ho(R.b),ve=Ei((.4124564*D+.3575761*H+.1804375*ne)/Ln),we=Ei((.2126729*D+.7151522*H+.072175*ne)/$n),Ce=Ei((.0193339*D+.119192*H+.9503041*ne)/na);return{l:116*we-16,a:500*(ve-we),b:200*(we-Ce),alpha:R.a}}function Oi(R){var D=(R.l+16)/116,H=isNaN(R.a)?D:D+R.a/500,ne=isNaN(R.b)?D:D-R.b/200;return D=$n*Ga(D),H=Ln*Ga(H),ne=na*Ga(ne),new si(ro(3.2404542*H-1.5371385*D-.4985314*ne),ro(-.969266*H+1.8760108*D+.041556*ne),ro(.0556434*H-.2040259*D+1.0572252*ne),R.alpha)}function zs(R,D,H){return{l:Mr(R.l,D.l,H),a:Mr(R.a,D.a,H),b:Mr(R.b,D.b,H),alpha:Mr(R.alpha,D.alpha,H)}}function Js(R){var D=wo(R),H=D.l,ne=D.a,ve=D.b,we=Math.atan2(ve,ne)*li;return{h:we<0?we+360:we,c:Math.sqrt(ne*ne+ve*ve),l:H,alpha:R.a}}function ai(R){var D=R.h*Ka,H=R.c,ne=R.l;return Oi({l:ne,a:Math.cos(D)*H,b:Math.sin(D)*H,alpha:R.alpha})}function Gf(R,D,H){var ne=D-R;return R+H*(ne>180||ne<-180?ne-360*Math.round(ne/360):ne)}function Ts(R,D,H){return{h:Gf(R.h,D.h,H),c:Mr(R.c,D.c,H),l:Mr(R.l,D.l,H),alpha:Mr(R.alpha,D.alpha,H)}}var Gl={forward:wo,reverse:Oi,interpolate:zs},Ll={forward:Js,reverse:ai,interpolate:Ts},xf=Object.freeze({__proto__:null,lab:Gl,hcl:Ll}),lo=function(D,H,ne,ve,we){this.type=D,this.operator=H,this.interpolation=ne,this.input=ve,this.labels=[],this.outputs=[];for(var Ce=0,je=we;Ce<je.length;Ce+=1){var gt=je[Ce],Et=gt[0],Rt=gt[1];this.labels.push(Et),this.outputs.push(Rt)}};lo.interpolationFactor=function(D,H,ne,ve){var we=0;if(D.name==="exponential")we=vu(H,D.base,ne,ve);else if(D.name==="linear")we=vu(H,1,ne,ve);else if(D.name==="cubic-bezier"){var Ce=D.controlPoints,je=new v(Ce[0],Ce[1],Ce[2],Ce[3]);we=je.solve(vu(H,1,ne,ve))}return we},lo.parse=function(D,H){var ne=D[0],ve=D[1],we=D[2],Ce=D.slice(3);if(!Array.isArray(ve)||ve.length===0)return H.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var je=ve[1];if(typeof je!="number")return H.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:je}}else if(ve[0]==="cubic-bezier"){var gt=ve.slice(1);if(gt.length!==4||gt.some(function(un){return typeof un!="number"||un<0||un>1}))return H.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:gt}}else return H.error("Unknown interpolation type "+String(ve[0]),1,0);if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");if(we=H.parse(we,2,Ht),!we)return null;var Et=[],Rt=null;ne==="interpolate-hcl"||ne==="interpolate-lab"?Rt=Qr:H.expectedType&&H.expectedType.kind!=="value"&&(Rt=H.expectedType);for(var tr=0;tr<Ce.length;tr+=2){var pr=Ce[tr],fr=Ce[tr+1],Cr=tr+3,Xr=tr+4;if(typeof pr!="number")return H.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Cr);if(Et.length&&Et[Et.length-1][0]>=pr)return H.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Cr);var gn=H.parse(fr,Xr,Rt);if(!gn)return null;Rt=Rt||gn.type,Et.push([pr,gn])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?H.error("Type "+ca(Rt)+" is not interpolatable."):new lo(Rt,ne,ve,we,Et)},lo.prototype.evaluate=function(D){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=H[0])return ne[0].evaluate(D);var we=H.length;if(ve>=H[we-1])return ne[we-1].evaluate(D);var Ce=Fs(H,ve),je=H[Ce],gt=H[Ce+1],Et=lo.interpolationFactor(this.interpolation,ve,je,gt),Rt=ne[Ce].evaluate(D),tr=ne[Ce+1].evaluate(D);return this.operator==="interpolate"?Zn[this.type.kind.toLowerCase()](Rt,tr,Et):this.operator==="interpolate-hcl"?Ll.reverse(Ll.interpolate(Ll.forward(Rt),Ll.forward(tr),Et)):Gl.reverse(Gl.interpolate(Gl.forward(Rt),Gl.forward(tr),Et))},lo.prototype.eachChild=function(D){D(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var ve=ne[H];D(ve)}},lo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},lo.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var H=[this.operator,D,this.input.serialize()],ne=0;ne<this.labels.length;ne++)H.push(this.labels[ne],this.outputs[ne].serialize());return H};function vu(R,D,H,ne){var ve=ne-H,we=R-H;return ve===0?0:D===1?we/ve:(Math.pow(D,we)-1)/(Math.pow(D,ve)-1)}var Ko=function(D,H){this.type=D,this.args=H};Ko.parse=function(D,H){if(D.length<2)return H.error("Expectected at least one argument.");var ne=null,ve=H.expectedType;ve&&ve.kind!=="value"&&(ne=ve);for(var we=[],Ce=0,je=D.slice(1);Ce<je.length;Ce+=1){var gt=je[Ce],Et=H.parse(gt,1+we.length,ne,void 0,{typeAnnotation:"omit"});if(!Et)return null;ne=ne||Et.type,we.push(Et)}var Rt=ve&&we.some(function(tr){return Na(ve,tr.type)});return Rt?new Ko(Ur,we):new Ko(ne,we)},Ko.prototype.evaluate=function(D){for(var H=null,ne=0,ve,we=0,Ce=this.args;we<Ce.length;we+=1){var je=Ce[we];if(ne++,H=je.evaluate(D),H&&H instanceof _i&&!H.available&&(ve||(ve=H.name),H=null,ne===this.args.length&&(H=ve)),H!==null)break}return H},Ko.prototype.eachChild=function(D){this.args.forEach(D)},Ko.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Ko.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Qs=function(D,H){this.type=H.type,this.bindings=[].concat(D),this.result=H};Qs.prototype.evaluate=function(D){return this.result.evaluate(D)},Qs.prototype.eachChild=function(D){for(var H=0,ne=this.bindings;H<ne.length;H+=1){var ve=ne[H];D(ve[1])}D(this.result)},Qs.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ne=[],ve=1;ve<D.length-1;ve+=2){var we=D[ve];if(typeof we!="string")return H.error("Expected string, but found "+typeof we+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(we))return H.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Ce=H.parse(D[ve+1],ve+1);if(!Ce)return null;ne.push([we,Ce])}var je=H.parse(D[D.length-1],D.length-1,H.expectedType,ne);return je?new Qs(ne,je):null},Qs.prototype.outputDefined=function(){return this.result.outputDefined()},Qs.prototype.serialize=function(){for(var D=["let"],H=0,ne=this.bindings;H<ne.length;H+=1){var ve=ne[H],we=ve[0],Ce=ve[1];D.push(we,Ce.serialize())}return D.push(this.result.serialize()),D};var $s=function(D,H,ne){this.type=D,this.index=H,this.input=ne};$s.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,Ht),ve=H.parse(D[2],2,qn(H.expectedType||Ur));if(!ne||!ve)return null;var we=ve.type;return new $s(we.itemType,ne,ve)},$s.prototype.evaluate=function(D){var H=this.index.evaluate(D),ne=this.input.evaluate(D);if(H<0)throw new to("Array index out of bounds: "+H+" < 0.");if(H>=ne.length)throw new to("Array index out of bounds: "+H+" > "+(ne.length-1)+".");if(H!==Math.floor(H))throw new to("Array index must be an integer, but found "+H+" instead.");return ne[H]},$s.prototype.eachChild=function(D){D(this.index),D(this.input)},$s.prototype.outputDefined=function(){return!1},$s.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ul=function(D,H){this.type=Dr,this.needle=D,this.haystack=H};ul.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,Ur),ve=H.parse(D[2],2,Ur);return!ne||!ve?null:Di(ne.type,[Dr,nr,Ht,Gt,Ur])?new ul(ne,ve):H.error("Expected first argument to be of type boolean, string, number or null, but found "+ca(ne.type)+" instead")},ul.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!ne)return!1;if(!ri(H,["boolean","string","number","null"]))throw new to("Expected first argument to be of type boolean, string, number or null, but found "+ca(Si(H))+" instead.");if(!ri(ne,["string","array"]))throw new to("Expected second argument to be of type array or string, but found "+ca(Si(ne))+" instead.");return ne.indexOf(H)>=0},ul.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},ul.prototype.outputDefined=function(){return!0},ul.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fl=function(D,H,ne){this.type=Ht,this.needle=D,this.haystack=H,this.fromIndex=ne};fl.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,Ur),ve=H.parse(D[2],2,Ur);if(!ne||!ve)return null;if(!Di(ne.type,[Dr,nr,Ht,Gt,Ur]))return H.error("Expected first argument to be of type boolean, string, number or null, but found "+ca(ne.type)+" instead");if(D.length===4){var we=H.parse(D[3],3,Ht);return we?new fl(ne,ve,we):null}else return new fl(ne,ve)},fl.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!ri(H,["boolean","string","number","null"]))throw new to("Expected first argument to be of type boolean, string, number or null, but found "+ca(Si(H))+" instead.");if(!ri(ne,["string","array"]))throw new to("Expected second argument to be of type array or string, but found "+ca(Si(ne))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return ne.indexOf(H,ve)}return ne.indexOf(H)},fl.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},fl.prototype.outputDefined=function(){return!1},fl.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var cl=function(D,H,ne,ve,we,Ce){this.inputType=D,this.type=H,this.input=ne,this.cases=ve,this.outputs=we,this.otherwise=Ce};cl.parse=function(D,H){if(D.length<5)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return H.error("Expected an even number of arguments.");var ne,ve;H.expectedType&&H.expectedType.kind!=="value"&&(ve=H.expectedType);for(var we={},Ce=[],je=2;je<D.length-1;je+=2){var gt=D[je],Et=D[je+1];Array.isArray(gt)||(gt=[gt]);var Rt=H.concat(je);if(gt.length===0)return Rt.error("Expected at least one branch label.");for(var tr=0,pr=gt;tr<pr.length;tr+=1){var fr=pr[tr];if(typeof fr!="number"&&typeof fr!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof fr=="number"&&Math.abs(fr)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof fr=="number"&&Math.floor(fr)!==fr)return Rt.error("Numeric branch labels must be integer values.");if(!ne)ne=Si(fr);else if(Rt.checkSubtype(ne,Si(fr)))return null;if(typeof we[String(fr)]<"u")return Rt.error("Branch labels must be unique.");we[String(fr)]=Ce.length}var Cr=H.parse(Et,je,ve);if(!Cr)return null;ve=ve||Cr.type,Ce.push(Cr)}var Xr=H.parse(D[1],1,Ur);if(!Xr)return null;var gn=H.parse(D[D.length-1],D.length-1,ve);return!gn||Xr.type.kind!=="value"&&H.concat(1).checkSubtype(ne,Xr.type)?null:new cl(ne,ve,Xr,we,Ce,gn)},cl.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=Si(H)===this.inputType&&this.outputs[this.cases[H]]||this.otherwise;return ne.evaluate(D)},cl.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},cl.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},cl.prototype.serialize=function(){for(var D=this,H=["match",this.input.serialize()],ne=Object.keys(this.cases).sort(),ve=[],we={},Ce=0,je=ne;Ce<je.length;Ce+=1){var gt=je[Ce],Et=we[this.cases[gt]];Et===void 0?(we[this.cases[gt]]=ve.length,ve.push([this.cases[gt],[gt]])):ve[Et][1].push(gt)}for(var Rt=function(Xr){return D.inputType.kind==="number"?Number(Xr):Xr},tr=0,pr=ve;tr<pr.length;tr+=1){var fr=pr[tr],Et=fr[0],Cr=fr[1];Cr.length===1?H.push(Rt(Cr[0])):H.push(Cr.map(Rt)),H.push(this.outputs[outputIndex$1].serialize())}return H.push(this.otherwise.serialize()),H};var As=function(D,H,ne){this.type=D,this.branches=H,this.otherwise=ne};As.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return H.error("Expected an odd number of arguments.");var ne;H.expectedType&&H.expectedType.kind!=="value"&&(ne=H.expectedType);for(var ve=[],we=1;we<D.length-1;we+=2){var Ce=H.parse(D[we],we,Dr);if(!Ce)return null;var je=H.parse(D[we+1],we+1,ne);if(!je)return null;ve.push([Ce,je]),ne=ne||je.type}var gt=H.parse(D[D.length-1],D.length-1,ne);return gt?new As(ne,ve,gt):null},As.prototype.evaluate=function(D){for(var H=0,ne=this.branches;H<ne.length;H+=1){var ve=ne[H],we=ve[0],Ce=ve[1];if(we.evaluate(D))return Ce.evaluate(D)}return this.otherwise.evaluate(D)},As.prototype.eachChild=function(D){for(var H=0,ne=this.branches;H<ne.length;H+=1){var ve=ne[H],we=ve[0],Ce=ve[1];D(we),D(Ce)}D(this.otherwise)},As.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var H=D[1];return H.outputDefined()})&&this.otherwise.outputDefined()},As.prototype.serialize=function(){var D=["case"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Os=function(D,H,ne,ve){this.type=D,this.input=H,this.beginIndex=ne,this.endIndex=ve};Os.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,Ur),ve=H.parse(D[2],2,Ht);if(!ne||!ve)return null;if(!Di(ne.type,[qn(Ur),nr,Ur]))return H.error("Expected first argument to be of type array or string, but found "+ca(ne.type)+" instead");if(D.length===4){var we=H.parse(D[3],3,Ht);return we?new Os(ne.type,ne,ve,we):null}else return new Os(ne.type,ne,ve)},Os.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=this.beginIndex.evaluate(D);if(!ri(H,["string","array"]))throw new to("Expected first argument to be of type array or string, but found "+ca(Si(H))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return H.slice(ne,ve)}return H.slice(ne)},Os.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Os.prototype.outputDefined=function(){return!1},Os.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function du(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function pu(R,D,H){return D===H}function Uu(R,D,H){return D!==H}function Sc(R,D,H){return D<H}function Ec(R,D,H){return D>H}function Cc(R,D,H){return D<=H}function Lc(R,D,H){return D>=H}function Hu(R,D,H,ne){return ne.compare(D,H)===0}function Wf(R,D,H,ne){return!Hu(R,D,H,ne)}function Wl(R,D,H,ne){return ne.compare(D,H)<0}function Po(R,D,H,ne){return ne.compare(D,H)>0}function Jo(R,D,H,ne){return ne.compare(D,H)<=0}function gu(R,D,H,ne){return ne.compare(D,H)>=0}function Pl(R,D,H){var ne=R!=="=="&&R!=="!=";return function(){function ve(we,Ce,je){this.type=Dr,this.lhs=we,this.rhs=Ce,this.collator=je,this.hasUntypedArgument=we.type.kind==="value"||Ce.type.kind==="value"}return ve.parse=function(Ce,je){if(Ce.length!==3&&Ce.length!==4)return je.error("Expected two or three arguments.");var gt=Ce[0],Et=je.parse(Ce[1],1,Ur);if(!Et)return null;if(!du(gt,Et.type))return je.concat(1).error('"'+gt+`" comparisons are not supported for type '`+ca(Et.type)+"'.");var Rt=je.parse(Ce[2],2,Ur);if(!Rt)return null;if(!du(gt,Rt.type))return je.concat(2).error('"'+gt+`" comparisons are not supported for type '`+ca(Rt.type)+"'.");if(Et.type.kind!==Rt.type.kind&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return je.error("Cannot compare types '"+ca(Et.type)+"' and '"+ca(Rt.type)+"'.");ne&&(Et.type.kind==="value"&&Rt.type.kind!=="value"?Et=new qi(Rt.type,[Et]):Et.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new qi(Et.type,[Rt])));var tr=null;if(Ce.length===4){if(Et.type.kind!=="string"&&Rt.type.kind!=="string"&&Et.type.kind!=="value"&&Rt.type.kind!=="value")return je.error("Cannot use collator to compare non-string types.");if(tr=je.parse(Ce[3],3,Un),!tr)return null}return new ve(Et,Rt,tr)},ve.prototype.evaluate=function(Ce){var je=this.lhs.evaluate(Ce),gt=this.rhs.evaluate(Ce);if(ne&&this.hasUntypedArgument){var Et=Si(je),Rt=Si(gt);if(Et.kind!==Rt.kind||!(Et.kind==="string"||Et.kind==="number"))throw new to('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Et.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ne&&this.hasUntypedArgument){var tr=Si(je),pr=Si(gt);if(tr.kind!=="string"||pr.kind!=="string")return D(Ce,je,gt)}return this.collator?H(Ce,je,gt,this.collator.evaluate(Ce)):D(Ce,je,gt)},ve.prototype.eachChild=function(Ce){Ce(this.lhs),Ce(this.rhs),this.collator&&Ce(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Ce=[R];return this.eachChild(function(je){Ce.push(je.serialize())}),Ce},ve}()}var yu=Pl("==",pu,Hu),Vu=Pl("!=",Uu,Wf),Pc=Pl("<",Sc,Wl),Yf=Pl(">",Ec,Po),Zf=Pl("<=",Cc,Jo),bf=Pl(">=",Lc,gu),hl=function(D,H,ne,ve,we){this.type=nr,this.number=D,this.locale=H,this.currency=ne,this.minFractionDigits=ve,this.maxFractionDigits=we};hl.parse=function(D,H){if(D.length!==3)return H.error("Expected two arguments.");var ne=H.parse(D[1],1,Ht);if(!ne)return null;var ve=D[2];if(typeof ve!="object"||Array.isArray(ve))return H.error("NumberFormat options argument must be an object.");var we=null;if(ve.locale&&(we=H.parse(ve.locale,1,nr),!we))return null;var Ce=null;if(ve.currency&&(Ce=H.parse(ve.currency,1,nr),!Ce))return null;var je=null;if(ve["min-fraction-digits"]&&(je=H.parse(ve["min-fraction-digits"],1,Ht),!je))return null;var gt=null;return ve["max-fraction-digits"]&&(gt=H.parse(ve["max-fraction-digits"],1,Ht),!gt)?null:new hl(ne,we,Ce,je,gt)},hl.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},hl.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},hl.prototype.outputDefined=function(){return!1},hl.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var uo=function(D){this.type=Ht,this.input=D};uo.parse=function(D,H){if(D.length!==2)return H.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1);return ne?ne.type.kind!=="array"&&ne.type.kind!=="string"&&ne.type.kind!=="value"?H.error("Expected argument of type string or array, but found "+ca(ne.type)+" instead."):new uo(ne):null},uo.prototype.evaluate=function(D){var H=this.input.evaluate(D);if(typeof H=="string")return H.length;if(Array.isArray(H))return H.length;throw new to("Expected value to be of type string or array, but found "+ca(Si(H))+" instead.")},uo.prototype.eachChild=function(D){D(this.input)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){var D=["length"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Bs={"==":yu,"!=":Vu,">":Yf,"<":Pc,">=":bf,"<=":Zf,array:qi,at:$s,boolean:qi,case:As,coalesce:Ko,collator:ys,format:No,image:Xo,in:ul,"index-of":fl,interpolate:lo,"interpolate-hcl":lo,"interpolate-lab":lo,length:uo,let:Qs,literal:so,match:cl,number:qi,"number-format":hl,object:qi,slice:Os,step:ks,string:qi,"to-boolean":io,"to-color":io,"to-number":io,"to-string":io,var:ss,within:Ho};function wf(R,D){var H=D[0],ne=D[1],ve=D[2],we=D[3];H=H.evaluate(R),ne=ne.evaluate(R),ve=ve.evaluate(R);var Ce=we?we.evaluate(R):1,je=ps(H,ne,ve,Ce);if(je)throw new to(je);return new si(H/255*Ce,ne/255*Ce,ve/255*Ce,Ce)}function Xf(R,D){return R in D}function Rl(R,D){var H=D[R];return typeof H>"u"?null:H}function Gu(R,D,H,ne){for(;H<=ne;){var ve=H+ne>>1;if(D[ve]===R)return!0;D[ve]>R?ne=ve-1:H=ve+1}return!1}function Ms(R){return{type:R}}xo.register(Bs,{error:[Pn,[nr],function(R,D){var H=D[0];throw new to(H.evaluate(R))}],typeof:[nr,[Ur],function(R,D){var H=D[0];return ca(Si(H.evaluate(R)))}],"to-rgba":[qn(Ht,4),[Qr],function(R,D){var H=D[0];return H.evaluate(R).toArray()}],rgb:[Qr,[Ht,Ht,Ht],wf],rgba:[Qr,[Ht,Ht,Ht,Ht],wf],has:{type:Dr,overloads:[[[nr],function(R,D){var H=D[0];return Xf(H.evaluate(R),R.properties())}],[[nr,Yr],function(R,D){var H=D[0],ne=D[1];return Xf(H.evaluate(R),ne.evaluate(R))}]]},get:{type:Ur,overloads:[[[nr],function(R,D){var H=D[0];return Rl(H.evaluate(R),R.properties())}],[[nr,Yr],function(R,D){var H=D[0],ne=D[1];return Rl(H.evaluate(R),ne.evaluate(R))}]]},"feature-state":[Ur,[nr],function(R,D){var H=D[0];return Rl(H.evaluate(R),R.featureState||{})}],properties:[Yr,[],function(R){return R.properties()}],"geometry-type":[nr,[],function(R){return R.geometryType()}],id:[Ur,[],function(R){return R.id()}],zoom:[Ht,[],function(R){return R.globals.zoom}],"heatmap-density":[Ht,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Ht,[],function(R){return R.globals.lineProgress||0}],accumulated:[Ur,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Ht,Ms(Ht),function(R,D){for(var H=0,ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne];H+=we.evaluate(R)}return H}],"*":[Ht,Ms(Ht),function(R,D){for(var H=1,ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne];H*=we.evaluate(R)}return H}],"-":{type:Ht,overloads:[[[Ht,Ht],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)-ne.evaluate(R)}],[[Ht],function(R,D){var H=D[0];return-H.evaluate(R)}]]},"/":[Ht,[Ht,Ht],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)/ne.evaluate(R)}],"%":[Ht,[Ht,Ht],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)%ne.evaluate(R)}],ln2:[Ht,[],function(){return Math.LN2}],pi:[Ht,[],function(){return Math.PI}],e:[Ht,[],function(){return Math.E}],"^":[Ht,[Ht,Ht],function(R,D){var H=D[0],ne=D[1];return Math.pow(H.evaluate(R),ne.evaluate(R))}],sqrt:[Ht,[Ht],function(R,D){var H=D[0];return Math.sqrt(H.evaluate(R))}],log10:[Ht,[Ht],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN10}],ln:[Ht,[Ht],function(R,D){var H=D[0];return Math.log(H.evaluate(R))}],log2:[Ht,[Ht],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN2}],sin:[Ht,[Ht],function(R,D){var H=D[0];return Math.sin(H.evaluate(R))}],cos:[Ht,[Ht],function(R,D){var H=D[0];return Math.cos(H.evaluate(R))}],tan:[Ht,[Ht],function(R,D){var H=D[0];return Math.tan(H.evaluate(R))}],asin:[Ht,[Ht],function(R,D){var H=D[0];return Math.asin(H.evaluate(R))}],acos:[Ht,[Ht],function(R,D){var H=D[0];return Math.acos(H.evaluate(R))}],atan:[Ht,[Ht],function(R,D){var H=D[0];return Math.atan(H.evaluate(R))}],min:[Ht,Ms(Ht),function(R,D){return Math.min.apply(Math,D.map(function(H){return H.evaluate(R)}))}],max:[Ht,Ms(Ht),function(R,D){return Math.max.apply(Math,D.map(function(H){return H.evaluate(R)}))}],abs:[Ht,[Ht],function(R,D){var H=D[0];return Math.abs(H.evaluate(R))}],round:[Ht,[Ht],function(R,D){var H=D[0],ne=H.evaluate(R);return ne<0?-Math.round(-ne):Math.round(ne)}],floor:[Ht,[Ht],function(R,D){var H=D[0];return Math.floor(H.evaluate(R))}],ceil:[Ht,[Ht],function(R,D){var H=D[0];return Math.ceil(H.evaluate(R))}],"filter-==":[Dr,[nr,Ur],function(R,D){var H=D[0],ne=D[1];return R.properties()[H.value]===ne.value}],"filter-id-==":[Dr,[Ur],function(R,D){var H=D[0];return R.id()===H.value}],"filter-type-==":[Dr,[nr],function(R,D){var H=D[0];return R.geometryType()===H.value}],"filter-<":[Dr,[nr,Ur],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],we=ne.value;return typeof ve==typeof we&&ve<we}],"filter-id-<":[Dr,[Ur],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne<ve}],"filter->":[Dr,[nr,Ur],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],we=ne.value;return typeof ve==typeof we&&ve>we}],"filter-id->":[Dr,[Ur],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne>ve}],"filter-<=":[Dr,[nr,Ur],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],we=ne.value;return typeof ve==typeof we&&ve<=we}],"filter-id-<=":[Dr,[Ur],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne<=ve}],"filter->=":[Dr,[nr,Ur],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],we=ne.value;return typeof ve==typeof we&&ve>=we}],"filter-id->=":[Dr,[Ur],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne>=ve}],"filter-has":[Dr,[Ur],function(R,D){var H=D[0];return H.value in R.properties()}],"filter-has-id":[Dr,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[Dr,[qn(nr)],function(R,D){var H=D[0];return H.value.indexOf(R.geometryType())>=0}],"filter-id-in":[Dr,[qn(Ur)],function(R,D){var H=D[0];return H.value.indexOf(R.id())>=0}],"filter-in-small":[Dr,[nr,qn(Ur)],function(R,D){var H=D[0],ne=D[1];return ne.value.indexOf(R.properties()[H.value])>=0}],"filter-in-large":[Dr,[nr,qn(Ur)],function(R,D){var H=D[0],ne=D[1];return Gu(R.properties()[H.value],ne.value,0,ne.value.length-1)}],all:{type:Dr,overloads:[[[Dr,Dr],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)&&ne.evaluate(R)}],[Ms(Dr),function(R,D){for(var H=0,ne=D;H<ne.length;H+=1){var ve=ne[H];if(!ve.evaluate(R))return!1}return!0}]]},any:{type:Dr,overloads:[[[Dr,Dr],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)||ne.evaluate(R)}],[Ms(Dr),function(R,D){for(var H=0,ne=D;H<ne.length;H+=1){var ve=ne[H];if(ve.evaluate(R))return!0}return!1}]]},"!":[Dr,[Dr],function(R,D){var H=D[0];return!H.evaluate(R)}],"is-supported-script":[Dr,[nr],function(R,D){var H=D[0],ne=R.globals&&R.globals.isSupportedScript;return ne?ne(H.evaluate(R)):!0}],upcase:[nr,[nr],function(R,D){var H=D[0];return H.evaluate(R).toUpperCase()}],downcase:[nr,[nr],function(R,D){var H=D[0];return H.evaluate(R).toLowerCase()}],concat:[nr,Ms(Ur),function(R,D){return D.map(function(H){return sl(H.evaluate(R))}).join("")}],"resolved-locale":[nr,[Un],function(R,D){var H=D[0];return H.evaluate(R).resolvedLocale()}]});function Wu(R){return{result:"success",value:R}}function qs(R){return{result:"error",value:R}}function el(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function Tf(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Yl(R){return!!R.expression&&R.expression.interpolated}function Ci(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Dl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function Yu(R){return R}function Zu(R,D){var H=D.type==="color",ne=R.stops&&typeof R.stops[0][0]=="object",ve=ne||R.property!==void 0,we=ne||!ve,Ce=R.type||(Yl(D)?"exponential":"interval");if(H&&(R=et({},R),R.stops&&(R.stops=R.stops.map(function(ia){return[ia[0],si.parse(ia[1])]})),R.default?R.default=si.parse(R.default):R.default=si.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!xf[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var je,gt,Et;if(Ce==="exponential")je=Zl;else if(Ce==="interval")je=Af;else if(Ce==="categorical"){je=Rc,gt=Object.create(null);for(var Rt=0,tr=R.stops;Rt<tr.length;Rt+=1){var pr=tr[Rt];gt[pr[0]]=pr[1]}Et=typeof R.stops[0][0]}else if(Ce==="identity")je=Mf;else throw new Error('Unknown function type "'+Ce+'"');if(ne){for(var fr={},Cr=[],Xr=0;Xr<R.stops.length;Xr++){var gn=R.stops[Xr],un=gn[0].zoom;fr[un]===void 0&&(fr[un]={zoom:un,type:R.type,property:R.property,default:R.default,stops:[]},Cr.push(un)),fr[un].stops.push([gn[0].value,gn[1]])}for(var In=[],Sn=0,Dn=Cr;Sn<Dn.length;Sn+=1){var Bn=Dn[Sn];In.push([fr[Bn].zoom,Zu(fr[Bn],D)])}var Kn={name:"linear"};return{kind:"composite",interpolationType:Kn,interpolationFactor:lo.interpolationFactor.bind(void 0,Kn),zoomStops:In.map(function(ia){return ia[0]}),evaluate:function(Da,ya){var Ma=Da.zoom;return Zl({stops:In,base:R.base},D,Ma).evaluate(Ma,ya)}}}else if(we){var oa=Ce==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:oa,interpolationFactor:lo.interpolationFactor.bind(void 0,oa),zoomStops:R.stops.map(function(ia){return ia[0]}),evaluate:function(ia){var Da=ia.zoom;return je(R,D,Da,gt,Et)}}}else return{kind:"source",evaluate:function(Da,ya){var Ma=ya&&ya.properties?ya.properties[R.property]:void 0;return Ma===void 0?vl(R.default,D.default):je(R,D,Ma,gt,Et)}}}function vl(R,D,H){if(R!==void 0)return R;if(D!==void 0)return D;if(H!==void 0)return H}function Rc(R,D,H,ne,ve){var we=typeof H===ve?ne[H]:void 0;return vl(we,R.default,D.default)}function Af(R,D,H){if(Ci(H)!=="number")return vl(R.default,D.default);var ne=R.stops.length;if(ne===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[ne-1][0])return R.stops[ne-1][1];var ve=Fs(R.stops.map(function(we){return we[0]}),H);return R.stops[ve][1]}function Zl(R,D,H){var ne=R.base!==void 0?R.base:1;if(Ci(H)!=="number")return vl(R.default,D.default);var ve=R.stops.length;if(ve===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[ve-1][0])return R.stops[ve-1][1];var we=Fs(R.stops.map(function(tr){return tr[0]}),H),Ce=jf(H,ne,R.stops[we][0],R.stops[we+1][0]),je=R.stops[we][1],gt=R.stops[we+1][1],Et=Zn[D.type]||Yu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Rt=xf[R.colorSpace];Et=function(tr,pr){return Rt.reverse(Rt.interpolate(Rt.forward(tr),Rt.forward(pr),Ce))}}return typeof je.evaluate=="function"?{evaluate:function(){for(var pr=[],fr=arguments.length;fr--;)pr[fr]=arguments[fr];var Cr=je.evaluate.apply(void 0,pr),Xr=gt.evaluate.apply(void 0,pr);if(!(Cr===void 0||Xr===void 0))return Et(Cr,Xr,Ce)}}:Et(je,gt,Ce)}function Mf(R,D,H){return D.type==="color"?H=si.parse(H):D.type==="formatted"?H=Zi.fromString(H.toString()):D.type==="resolvedImage"?H=_i.fromString(H.toString()):Ci(H)!==D.type&&(D.type!=="enum"||!D.values[H])&&(H=void 0),vl(H,R.default,D.default)}function jf(R,D,H,ne){var ve=ne-H,we=R-H;return ve===0?0:D===1?we/ve:(Math.pow(D,we)-1)/(Math.pow(D,ve)-1)}var tl=function(D,H){this.expression=D,this._warningHistory={},this._evaluator=new es,this._defaultValue=H?Jf(H):null,this._enumValues=H&&H.type==="enum"?H.values:null};tl.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,we,Ce){return this._evaluator.globals=D,this._evaluator.feature=H,this._evaluator.featureState=ne,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ce,this.expression.evaluate(this._evaluator)},tl.prototype.evaluate=function(D,H,ne,ve,we,Ce){this._evaluator.globals=D,this._evaluator.feature=H||null,this._evaluator.featureState=ne||null,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ce||null;try{var je=this.expression.evaluate(this._evaluator);if(je==null||typeof je=="number"&&je!==je)return this._defaultValue;if(this._enumValues&&!(je in this._enumValues))throw new to("Expected value to be one of "+Object.keys(this._enumValues).map(function(gt){return JSON.stringify(gt)}).join(", ")+", but found "+JSON.stringify(je)+" instead.");return je}catch(gt){return this._warningHistory[gt.message]||(this._warningHistory[gt.message]=!0,typeof console<"u"&&console.warn(gt.message)),this._defaultValue}};function dl(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Bs}function Il(R,D){var H=new jo(Bs,[],D?Xu(D):void 0),ne=H.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ne?Wu(new tl(ne,D)):qs(H.errors)}var _l=function(D,H){this.kind=D,this._styleExpression=H,this.isStateDependent=D!=="constant"&&!Is(H.expression)};_l.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,we,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ne,ve,we,Ce)},_l.prototype.evaluate=function(D,H,ne,ve,we,Ce){return this._styleExpression.evaluate(D,H,ne,ve,we,Ce)};var Qo=function(D,H,ne,ve){this.kind=D,this.zoomStops=ne,this._styleExpression=H,this.isStateDependent=D!=="camera"&&!Is(H.expression),this.interpolationType=ve};Qo.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,we,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ne,ve,we,Ce)},Qo.prototype.evaluate=function(D,H,ne,ve,we,Ce){return this._styleExpression.evaluate(D,H,ne,ve,we,Ce)},Qo.prototype.interpolationFactor=function(D,H,ne){return this.interpolationType?lo.interpolationFactor(this.interpolationType,D,H,ne):0};function rs(R,D){if(R=Il(R,D),R.result==="error")return R;var H=R.value.expression,ne=os(H);if(!ne&&!el(D))return qs([new _t("","data expressions not supported")]);var ve=_s(H,["zoom"]);if(!ve&&!Tf(D))return qs([new _t("","zoom expressions not supported")]);var we=Xl(H);if(!we&&!ve)return qs([new _t("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof _t)return qs([we]);if(we instanceof lo&&!Yl(D))return qs([new _t("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Wu(ne?new _l("constant",R.value):new _l("source",R.value));var Ce=we instanceof lo?we.interpolation:void 0;return Wu(ne?new Qo("camera",R.value,we.labels,Ce):new Qo("composite",R.value,we.labels,Ce))}var Fl=function(D,H){this._parameters=D,this._specification=H,et(this,Zu(this._parameters,this._specification))};Fl.deserialize=function(D){return new Fl(D._parameters,D._specification)},Fl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Kf(R,D){if(Dl(R))return new Fl(R,D);if(dl(R)){var H=rs(R,D);if(H.result==="error")throw new Error(H.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return H.value}else{var ne=R;return typeof R=="string"&&D.type==="color"&&(ne=si.parse(R)),{kind:"constant",evaluate:function(){return ne}}}}function Xl(R){var D=null;if(R instanceof Qs)D=Xl(R.result);else if(R instanceof Ko)for(var H=0,ne=R.args;H<ne.length;H+=1){var ve=ne[H];if(D=Xl(ve),D)break}else(R instanceof ks||R instanceof lo)&&R.input instanceof xo&&R.input.name==="zoom"&&(D=R);return D instanceof _t||R.eachChild(function(we){var Ce=Xl(we);Ce instanceof _t?D=Ce:!D&&Ce?D=new _t("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ce&&D!==Ce&&(D=new _t("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Xu(R){var D={color:Qr,string:nr,number:Ht,enum:nr,boolean:Dr,formatted:kn,resolvedImage:Qn};return R.type==="array"?qn(D[R.value]||Ur,R.length):D[R.type]}function Jf(R){return R.type==="color"&&Dl(R.default)?new si(0,0,0,0):R.type==="color"?si.parse(R.default)||null:R.default===void 0?null:R.default}function Ss(R){var D=R.key,H=R.value,ne=R.valueSpec||{},ve=R.objectElementValidators||{},we=R.style,Ce=R.styleSpec,je=[],gt=Ci(H);if(gt!=="object")return[new me(D,H,"object expected, "+gt+" found")];for(var Et in H){var Rt=Et.split(".")[0],tr=ne[Rt]||ne["*"],pr=void 0;if(ve[Rt])pr=ve[Rt];else if(ne[Rt])pr=dr;else if(ve["*"])pr=ve["*"];else if(ne["*"])pr=dr;else{je.push(new me(D,H[Et],'unknown property "'+Et+'"'));continue}je=je.concat(pr({key:(D&&D+".")+Et,value:H[Et],valueSpec:tr,style:we,styleSpec:Ce,object:H,objectKey:Et},H))}for(var fr in ne)ve[fr]||ne[fr].required&&ne[fr].default===void 0&&H[fr]===void 0&&je.push(new me(D,H,'missing required property "'+fr+'"'));return je}function Sf(R){var D=R.value,H=R.valueSpec,ne=R.style,ve=R.styleSpec,we=R.key,Ce=R.arrayElementValidator||dr;if(Ci(D)!=="array")return[new me(we,D,"array expected, "+Ci(D)+" found")];if(H.length&&D.length!==H.length)return[new me(we,D,"array length "+H.length+" expected, length "+D.length+" found")];if(H["min-length"]&&D.length<H["min-length"])return[new me(we,D,"array length at least "+H["min-length"]+" expected, length "+D.length+" found")];var je={type:H.value,values:H.values};ve.$version<7&&(je.function=H.function),Ci(H.value)==="object"&&(je=H.value);for(var gt=[],Et=0;Et<D.length;Et++)gt=gt.concat(Ce({array:D,arrayIndex:Et,value:D[Et],valueSpec:je,style:ne,styleSpec:ve,key:we+"["+Et+"]"}));return gt}function pl(R){var D=R.key,H=R.value,ne=R.valueSpec,ve=Ci(H);return ve==="number"&&H!==H&&(ve="NaN"),ve!=="number"?[new me(D,H,"number expected, "+ve+" found")]:"minimum"in ne&&H<ne.minimum?[new me(D,H,H+" is less than the minimum value "+ne.minimum)]:"maximum"in ne&&H>ne.maximum?[new me(D,H,H+" is greater than the maximum value "+ne.maximum)]:[]}function mu(R){var D=R.valueSpec,H=ft(R.value.type),ne,ve={},we,Ce,je=H!=="categorical"&&R.value.property===void 0,gt=!je,Et=Ci(R.value.stops)==="array"&&Ci(R.value.stops[0])==="array"&&Ci(R.value.stops[0][0])==="object",Rt=Ss({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:tr,default:Cr}});return H==="identity"&&je&&Rt.push(new me(R.key,R.value,'missing required property "property"')),H!=="identity"&&!R.value.stops&&Rt.push(new me(R.key,R.value,'missing required property "stops"')),H==="exponential"&&R.valueSpec.expression&&!Yl(R.valueSpec)&&Rt.push(new me(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(gt&&!el(R.valueSpec)?Rt.push(new me(R.key,R.value,"property functions not supported")):je&&!Tf(R.valueSpec)&&Rt.push(new me(R.key,R.value,"zoom functions not supported"))),(H==="categorical"||Et)&&R.value.property===void 0&&Rt.push(new me(R.key,R.value,'"property" property is required')),Rt;function tr(Xr){if(H==="identity")return[new me(Xr.key,Xr.value,'identity function may not have a "stops" property')];var gn=[],un=Xr.value;return gn=gn.concat(Sf({key:Xr.key,value:un,valueSpec:Xr.valueSpec,style:Xr.style,styleSpec:Xr.styleSpec,arrayElementValidator:pr})),Ci(un)==="array"&&un.length===0&&gn.push(new me(Xr.key,un,"array must have at least one stop")),gn}function pr(Xr){var gn=[],un=Xr.value,In=Xr.key;if(Ci(un)!=="array")return[new me(In,un,"array expected, "+Ci(un)+" found")];if(un.length!==2)return[new me(In,un,"array length 2 expected, length "+un.length+" found")];if(Et){if(Ci(un[0])!=="object")return[new me(In,un,"object expected, "+Ci(un[0])+" found")];if(un[0].zoom===void 0)return[new me(In,un,"object stop key must have zoom")];if(un[0].value===void 0)return[new me(In,un,"object stop key must have value")];if(Ce&&Ce>ft(un[0].zoom))return[new me(In,un[0].zoom,"stop zoom values must appear in ascending order")];ft(un[0].zoom)!==Ce&&(Ce=ft(un[0].zoom),we=void 0,ve={}),gn=gn.concat(Ss({key:In+"[0]",value:un[0],valueSpec:{zoom:{}},style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{zoom:pl,value:fr}}))}else gn=gn.concat(fr({key:In+"[0]",value:un[0],valueSpec:{},style:Xr.style,styleSpec:Xr.styleSpec},un));return dl(kt(un[1]))?gn.concat([new me(In+"[1]",un[1],"expressions are not allowed in function stops.")]):gn.concat(dr({key:In+"[1]",value:un[1],valueSpec:D,style:Xr.style,styleSpec:Xr.styleSpec}))}function fr(Xr,gn){var un=Ci(Xr.value),In=ft(Xr.value),Sn=Xr.value!==null?Xr.value:gn;if(!ne)ne=un;else if(un!==ne)return[new me(Xr.key,Sn,un+" stop domain type must match previous stop domain type "+ne)];if(un!=="number"&&un!=="string"&&un!=="boolean")return[new me(Xr.key,Sn,"stop domain value must be a number, string, or boolean")];if(un!=="number"&&H!=="categorical"){var Dn="number expected, "+un+" found";return el(D)&&H===void 0&&(Dn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new me(Xr.key,Sn,Dn)]}return H==="categorical"&&un==="number"&&(!isFinite(In)||Math.floor(In)!==In)?[new me(Xr.key,Sn,"integer expected, found "+In)]:H!=="categorical"&&un==="number"&&we!==void 0&&In<we?[new me(Xr.key,Sn,"stop domain values must appear in ascending order")]:(we=In,H==="categorical"&&In in ve?[new me(Xr.key,Sn,"stop domain values must be unique")]:(ve[In]=!0,[]))}function Cr(Xr){return dr({key:Xr.key,value:Xr.value,valueSpec:D,style:Xr.style,styleSpec:Xr.styleSpec})}}function rl(R){var D=(R.expressionContext==="property"?rs:Il)(kt(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ne){return new me(""+R.key+ne.key,R.value,ne.message)});var H=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!H.outputDefined())return[new me(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!Is(H))return[new me(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!Is(H))return[new me(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!_s(H,["zoom","feature-state"]))return[new me(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!os(H))return[new me(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dc(R){var D=R.value,H=R.key,ne=Ci(D);return ne!=="boolean"?[new me(H,D,"boolean expected, "+ne+" found")]:[]}function Ef(R){var D=R.key,H=R.value,ne=Ci(H);return ne!=="string"?[new me(D,H,"color expected, "+ne+" found")]:Ks(H)===null?[new me(D,H,'color expected, "'+H+'" found')]:[]}function ju(R){var D=R.key,H=R.value,ne=R.valueSpec,ve=[];return Array.isArray(ne.values)?ne.values.indexOf(ft(H))===-1&&ve.push(new me(D,H,"expected one of ["+ne.values.join(", ")+"], "+JSON.stringify(H)+" found")):Object.keys(ne.values).indexOf(ft(H))===-1&&ve.push(new me(D,H,"expected one of ["+Object.keys(ne.values).join(", ")+"], "+JSON.stringify(H)+" found")),ve}function Oo(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,H=R.slice(1);D<H.length;D+=1){var ne=H[D];if(!Oo(ne)&&typeof ne!="boolean")return!1}return!0;default:return!0}}var Qf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xu(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Oo(R)||(R=yl(R));var D=Il(R,Qf);if(D.result==="error")throw new Error(D.value.map(function(ne){return ne.key+": "+ne.message}).join(", "));var H=bu(R);return{filter:function(ne,ve,we){return D.value.evaluate(ne,ve,{},we)},needGeometry:H}}function Ns(R,D){return R<D?-1:R>D?1:0}function bu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(bu(R[D]))return!0;return!1}function yl(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var H=D==="=="?Ku(R[1],R[2],"=="):D==="!="?kl(Ku(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Ku(R[1],R[2],D):D==="any"?$f(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(yl)):D==="none"?["all"].concat(R.slice(1).map(yl).map(kl)):D==="in"?Cf(R[1],R.slice(2)):D==="!in"?kl(Cf(R[1],R.slice(2))):D==="has"?Lf(R[1]):D==="!has"?kl(Lf(R[1])):D==="within"?R:!0;return H}function Ku(R,D,H){switch(R){case"$type":return["filter-type-"+H,D];case"$id":return["filter-id-"+H,D];default:return["filter-"+H,R,D]}}function $f(R){return["any"].concat(R.map(yl))}function Cf(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(H){return typeof H!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(Ns)]]:["filter-in-small",R,["literal",D]]}}function Lf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function kl(R){return["!",R]}function Ju(R){return Oo(kt(R.value))?rl(et({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):wu(R)}function wu(R){var D=R.value,H=R.key;if(Ci(D)!=="array")return[new me(H,D,"array expected, "+Ci(D)+" found")];var ne=R.styleSpec,ve,we=[];if(D.length<1)return[new me(H,D,"filter array must have at least 1 element")];switch(we=we.concat(ju({key:H+"[0]",value:D[0],valueSpec:ne.filter_operator,style:R.style,styleSpec:R.styleSpec})),ft(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&ft(D[1])==="$type"&&we.push(new me(H,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&we.push(new me(H,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ve=Ci(D[1]),ve!=="string"&&we.push(new me(H+"[1]",D[1],"string expected, "+ve+" found")));for(var Ce=2;Ce<D.length;Ce++)ve=Ci(D[Ce]),ft(D[1])==="$type"?we=we.concat(ju({key:H+"["+Ce+"]",value:D[Ce],valueSpec:ne.geometry_type,style:R.style,styleSpec:R.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&we.push(new me(H+"["+Ce+"]",D[Ce],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var je=1;je<D.length;je++)we=we.concat(wu({key:H+"["+je+"]",value:D[je],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ve=Ci(D[1]),D.length!==2?we.push(new me(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="string"&&we.push(new me(H+"[1]",D[1],"string expected, "+ve+" found"));break;case"within":ve=Ci(D[1]),D.length!==2?we.push(new me(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="object"&&we.push(new me(H+"[1]",D[1],"object expected, "+ve+" found"));break}return we}function qf(R,D){var H=R.key,ne=R.style,ve=R.styleSpec,we=R.value,Ce=R.objectKey,je=ve[D+"_"+R.layerType];if(!je)return[];var gt=Ce.match(/^(.*)-transition$/);if(D==="paint"&&gt&&je[gt[1]]&&je[gt[1]].transition)return dr({key:H,value:we,valueSpec:ve.transition,style:ne,styleSpec:ve});var Et=R.valueSpec||je[Ce];if(!Et)return[new me(H,we,'unknown property "'+Ce+'"')];var Rt;if(Ci(we)==="string"&&el(Et)&&!Et.tokens&&(Rt=/^{([^}]+)}$/.exec(we)))return[new me(H,we,'"'+Ce+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var tr=[];return R.layerType==="symbol"&&(Ce==="text-field"&&ne&&!ne.glyphs&&tr.push(new me(H,we,'use of "text-field" requires a style "glyphs" property')),Ce==="text-font"&&Dl(kt(we))&&ft(we.type)==="identity"&&tr.push(new me(H,we,'"text-font" does not support identity functions'))),tr.concat(dr({key:R.key,value:we,valueSpec:Et,style:ne,styleSpec:ve,expressionContext:"property",propertyType:D,propertyKey:Ce}))}function Tu(R){return qf(R,"paint")}function ec(R){return qf(R,"layout")}function Xe(R){var D=[],H=R.value,ne=R.key,ve=R.style,we=R.styleSpec;!H.type&&!H.ref&&D.push(new me(ne,H,'either "type" or "ref" is required'));var Ce=ft(H.type),je=ft(H.ref);if(H.id)for(var gt=ft(H.id),Et=0;Et<R.arrayIndex;Et++){var Rt=ve.layers[Et];ft(Rt.id)===gt&&D.push(new me(ne,H.id,'duplicate layer id "'+H.id+'", previously used at line '+Rt.id.__line__))}if("ref"in H){["type","source","source-layer","filter","layout"].forEach(function(Cr){Cr in H&&D.push(new me(ne,H[Cr],'"'+Cr+'" is prohibited for ref layers'))});var tr;ve.layers.forEach(function(Cr){ft(Cr.id)===je&&(tr=Cr)}),tr?tr.ref?D.push(new me(ne,H.ref,"ref cannot reference another ref layer")):Ce=ft(tr.type):D.push(new me(ne,H.ref,'ref layer "'+je+'" not found'))}else if(Ce!=="background")if(!H.source)D.push(new me(ne,H,'missing required property "source"'));else{var pr=ve.sources&&ve.sources[H.source],fr=pr&&ft(pr.type);pr?fr==="vector"&&Ce==="raster"?D.push(new me(ne,H.source,'layer "'+H.id+'" requires a raster source')):fr==="raster"&&Ce!=="raster"?D.push(new me(ne,H.source,'layer "'+H.id+'" requires a vector source')):fr==="vector"&&!H["source-layer"]?D.push(new me(ne,H,'layer "'+H.id+'" must specify a "source-layer"')):fr==="raster-dem"&&Ce!=="hillshade"?D.push(new me(ne,H.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ce==="line"&&H.paint&&H.paint["line-gradient"]&&(fr!=="geojson"||!pr.lineMetrics)&&D.push(new me(ne,H,'layer "'+H.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new me(ne,H.source,'source "'+H.source+'" not found'))}return D=D.concat(Ss({key:ne,value:H,valueSpec:we.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return dr({key:ne+".type",value:H.type,valueSpec:we.layer.type,style:R.style,styleSpec:R.styleSpec,object:H,objectKey:"type"})},filter:Ju,layout:function(Xr){return Ss({layer:H,key:Xr.key,value:Xr.value,style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{"*":function(un){return ec(et({layerType:Ce},un))}}})},paint:function(Xr){return Ss({layer:H,key:Xr.key,value:Xr.value,style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{"*":function(un){return Tu(et({layerType:Ce},un))}}})}}})),D}function nt(R){var D=R.value,H=R.key,ne=Ci(D);return ne!=="string"?[new me(H,D,"string expected, "+ne+" found")]:[]}var xt={promoteId:Bt};function Tt(R){var D=R.value,H=R.key,ne=R.styleSpec,ve=R.style;if(!D.type)return[new me(H,D,'"type" is required')];var we=ft(D.type),Ce;switch(we){case"vector":case"raster":case"raster-dem":return Ce=Ss({key:H,value:D,valueSpec:ne["source_"+we.replace("-","_")],style:R.style,styleSpec:ne,objectElementValidators:xt}),Ce;case"geojson":if(Ce=Ss({key:H,value:D,valueSpec:ne.source_geojson,style:ve,styleSpec:ne,objectElementValidators:xt}),D.cluster)for(var je in D.clusterProperties){var gt=D.clusterProperties[je],Et=gt[0],Rt=gt[1],tr=typeof Et=="string"?[Et,["accumulated"],["get",je]]:Et;Ce.push.apply(Ce,rl({key:H+"."+je+".map",value:Rt,expressionContext:"cluster-map"})),Ce.push.apply(Ce,rl({key:H+"."+je+".reduce",value:tr,expressionContext:"cluster-reduce"}))}return Ce;case"video":return Ss({key:H,value:D,valueSpec:ne.source_video,style:ve,styleSpec:ne});case"image":return Ss({key:H,value:D,valueSpec:ne.source_image,style:ve,styleSpec:ne});case"canvas":return[new me(H,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ju({key:H+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ne})}}function Bt(R){var D=R.key,H=R.value;if(Ci(H)==="string")return nt({key:D,value:H});var ne=[];for(var ve in H)ne.push.apply(ne,nt({key:D+"."+ve,value:H[ve]}));return ne}function Ft(R){var D=R.value,H=R.styleSpec,ne=H.light,ve=R.style,we=[],Ce=Ci(D);if(D===void 0)return we;if(Ce!=="object")return we=we.concat([new me("light",D,"object expected, "+Ce+" found")]),we;for(var je in D){var gt=je.match(/^(.*)-transition$/);gt&&ne[gt[1]]&&ne[gt[1]].transition?we=we.concat(dr({key:je,value:D[je],valueSpec:H.transition,style:ve,styleSpec:H})):ne[je]?we=we.concat(dr({key:je,value:D[je],valueSpec:ne[je],style:ve,styleSpec:H})):we=we.concat([new me(je,D[je],'unknown property "'+je+'"')])}return we}function Yt(R){return nt(R).length===0?[]:rl(R)}function xr(R){return nt(R).length===0?[]:rl(R)}var Sr={"*":function(){return[]},array:Sf,boolean:Dc,number:pl,color:Ef,constants:Ue,enum:ju,filter:Ju,function:mu,layer:Xe,object:Ss,source:Tt,light:Ft,string:nt,formatted:Yt,resolvedImage:xr};function dr(R){var D=R.value,H=R.valueSpec,ne=R.styleSpec;if(H.expression&&Dl(ft(D)))return mu(R);if(H.expression&&dl(kt(D)))return rl(R);if(H.type&&Sr[H.type])return Sr[H.type](R);var ve=Ss(et({},R,{valueSpec:H.type?ne[H.type]:H}));return ve}function Pr(R){var D=R.value,H=R.key,ne=nt(R);return ne.length||(D.indexOf("{fontstack}")===-1&&ne.push(new me(H,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ne.push(new me(H,D,'"glyphs" url must include a "{range}" token'))),ne}function zr(R,D){D===void 0&&(D=ar);var H=[];return H=H.concat(dr({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Pr,"*":function(){return[]}}})),R.constants&&(H=H.concat(Ue({key:"constants",value:R.constants,style:R,styleSpec:D}))),en(H)}zr.source=sn(Tt),zr.light=sn(Ft),zr.layer=sn(Xe),zr.filter=sn(Ju),zr.paintProperty=sn(Tu),zr.layoutProperty=sn(ec);function en(R){return[].concat(R).sort(function(D,H){return D.line-H.line})}function sn(R){return function(){for(var D=[],H=arguments.length;H--;)D[H]=arguments[H];return en(R.apply(this,D))}}var Mn=zr,En=Mn.light,zn=Mn.paintProperty,wa=Mn.layoutProperty;function _a(R,D){var H=!1;if(D&&D.length)for(var ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne];R.fire(new Ar(new Error(we.message))),H=!0}return H}var za=Ua,Oa=3;function Ua(R,D,H){var ne=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ve=new Int32Array(this.arrayBuffer);R=ve[0],D=ve[1],H=ve[2],this.d=D+2*H;for(var we=0;we<this.d*this.d;we++){var Ce=ve[Oa+we],je=ve[Oa+we+1];ne.push(Ce===je?null:ve.subarray(Ce,je))}var gt=ve[Oa+ne.length],Et=ve[Oa+ne.length+1];this.keys=ve.subarray(gt,Et),this.bboxes=ve.subarray(Et),this.insert=this._insertReadonly}else{this.d=D+2*H;for(var Rt=0;Rt<this.d*this.d;Rt++)ne.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=H,this.scale=D/R,this.uid=0;var tr=H/D*R;this.min=-tr,this.max=R+tr}Ua.prototype.insert=function(R,D,H,ne,ve){this._forEachCell(D,H,ne,ve,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(H),this.bboxes.push(ne),this.bboxes.push(ve)},Ua.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ua.prototype._insertCell=function(R,D,H,ne,ve,we){this.cells[ve].push(we)},Ua.prototype.query=function(R,D,H,ne,ve){var we=this.min,Ce=this.max;if(R<=we&&D<=we&&Ce<=H&&Ce<=ne&&!ve)return Array.prototype.slice.call(this.keys);var je=[],gt={};return this._forEachCell(R,D,H,ne,this._queryCell,je,gt,ve),je},Ua.prototype._queryCell=function(R,D,H,ne,ve,we,Ce,je){var gt=this.cells[ve];if(gt!==null)for(var Et=this.keys,Rt=this.bboxes,tr=0;tr<gt.length;tr++){var pr=gt[tr];if(Ce[pr]===void 0){var fr=pr*4;(je?je(Rt[fr+0],Rt[fr+1],Rt[fr+2],Rt[fr+3]):R<=Rt[fr+2]&&D<=Rt[fr+3]&&H>=Rt[fr+0]&&ne>=Rt[fr+1])?(Ce[pr]=!0,we.push(Et[pr])):Ce[pr]=!1}}},Ua.prototype._forEachCell=function(R,D,H,ne,ve,we,Ce,je){for(var gt=this._convertToCellCoord(R),Et=this._convertToCellCoord(D),Rt=this._convertToCellCoord(H),tr=this._convertToCellCoord(ne),pr=gt;pr<=Rt;pr++)for(var fr=Et;fr<=tr;fr++){var Cr=this.d*fr+pr;if(!(je&&!je(this._convertFromCellCoord(pr),this._convertFromCellCoord(fr),this._convertFromCellCoord(pr+1),this._convertFromCellCoord(fr+1)))&&ve.call(this,R,D,H,ne,Cr,we,Ce,je))return}},Ua.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Ua.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Ua.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Oa+this.cells.length+1+1,H=0,ne=0;ne<this.cells.length;ne++)H+=this.cells[ne].length;var ve=new Int32Array(D+H+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var we=D,Ce=0;Ce<R.length;Ce++){var je=R[Ce];ve[Oa+Ce]=we,ve.set(je,we),we+=je.length}return ve[Oa+R.length]=we,ve.set(this.keys,we),we+=this.keys.length,ve[Oa+R.length+1]=we,ve.set(this.bboxes,we),we+=this.bboxes.length,ve.buffer};var Ti=self.ImageData,eo=self.ImageBitmap,ki={};function le(R,D,H){H===void 0&&(H={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),ki[R]={klass:D,omit:H.omit||[],shallow:H.shallow||[]}}le("Object",Object),za.serialize=function(D,H){var ne=D.toArrayBuffer();return H&&H.push(ne),{buffer:ne}},za.deserialize=function(D){return new za(D.buffer)},le("Grid",za),le("Color",si),le("Error",Error),le("ResolvedImage",_i),le("StylePropertyFunction",Fl),le("StyleExpression",tl,{omit:["_evaluator"]}),le("ZoomDependentExpression",Qo),le("ZoomConstantExpression",_l),le("CompoundExpression",xo,{omit:["_evaluate"]});for(var Se in Bs)Bs[Se]._classRegistryKey||le("Expression_"+Se,Bs[Se]);function Ne(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function Qe(R){return eo&&R instanceof eo}function rt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(Ne(R)||Qe(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var H=R;return D&&D.push(H.buffer),H}if(R instanceof Ti)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ne=[],ve=0,we=R;ve<we.length;ve+=1){var Ce=we[ve];ne.push(rt(Ce,D))}return ne}if(typeof R=="object"){var je=R.constructor,gt=je._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Et=je.serialize?je.serialize(R,D):{};if(!je.serialize){for(var Rt in R)if(R.hasOwnProperty(Rt)&&!(ki[gt].omit.indexOf(Rt)>=0)){var tr=R[Rt];Et[Rt]=ki[gt].shallow.indexOf(Rt)>=0?tr:rt(tr,D)}R instanceof Error&&(Et.message=R.message)}if(Et.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Et.$name=gt),Et}throw new Error("can't serialize object of type "+typeof R)}function ot(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||Ne(R)||Qe(R)||ArrayBuffer.isView(R)||R instanceof Ti)return R;if(Array.isArray(R))return R.map(ot);if(typeof R=="object"){var D=R.$name||"Object",H=ki[D],ne=H.klass;if(!ne)throw new Error("can't deserialize unregistered class "+D);if(ne.deserialize)return ne.deserialize(R);for(var ve=Object.create(ne.prototype),we=0,Ce=Object.keys(R);we<Ce.length;we+=1){var je=Ce[we];if(je!=="$name"){var gt=R[je];ve[je]=ki[D].shallow.indexOf(je)>=0?gt:ot(gt)}}return ve}throw new Error("can't deserialize object of type "+typeof R)}var zt=function(){this.first=!0};zt.prototype.update=function(D,H){var ne=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ne,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ne,!0):(this.lastFloorZoom>ne?(this.lastIntegerZoom=ne+1,this.lastIntegerZoomTime=H):this.lastFloorZoom<ne&&(this.lastIntegerZoom=ne,this.lastIntegerZoomTime=H),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ne,!0):!1)};var mt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Qt(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(Fr(ne.charCodeAt(0)))return!0}return!1}function cr(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(!hr(ne.charCodeAt(0)))return!1}return!0}function hr(R){return!(mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R))}function kr(R){return R<11904?!1:!!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Halfwidth and Fullwidth Forms"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)||mt["Vertical Forms"](R)||mt["Yi Radicals"](R)||mt["Yi Syllables"](R))}function Fr(R){return R===746||R===747?!0:R<4352?!1:!!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Hangul Compatibility Jamo"](R)||mt["Hangul Jamo Extended-A"](R)||mt["Hangul Jamo Extended-B"](R)||mt["Hangul Jamo"](R)||mt["Hangul Syllables"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt.Kanbun(R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)&&R!==12540||mt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||mt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||mt["Unified Canadian Aboriginal Syllabics"](R)||mt["Unified Canadian Aboriginal Syllabics Extended"](R)||mt["Vertical Forms"](R)||mt["Yijing Hexagram Symbols"](R)||mt["Yi Syllables"](R)||mt["Yi Radicals"](R))}function nn(R){return!!(mt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||mt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||mt["Letterlike Symbols"](R)||mt["Number Forms"](R)||mt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||mt["Control Pictures"](R)&&R!==9251||mt["Optical Character Recognition"](R)||mt["Enclosed Alphanumerics"](R)||mt["Geometric Shapes"](R)||mt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||mt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||mt["CJK Symbols and Punctuation"](R)||mt.Katakana(R)||mt["Private Use Area"](R)||mt["CJK Compatibility Forms"](R)||mt["Small Form Variants"](R)||mt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function hn(R){return!(Fr(R)||nn(R))}function Nr(R){return mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function Kr(R){return R>=1424&&R<=2303||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function tn(R,D){return!(!D&&Kr(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||mt.Khmer(R))}function dn(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(Kr(ne.charCodeAt(0)))return!0}return!1}function bn(R,D){for(var H=0,ne=R;H<ne.length;H+=1){var ve=ne[H];if(!tn(ve.charCodeAt(0),D))return!1}return!0}var rn={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Yn=null,Jn=rn.unavailable,aa=null,fa=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(Jn=rn.error),Yn&&Yn(R)};function Ea(){Sa.fire(new ur("pluginStateChange",{pluginStatus:Jn,pluginURL:aa}))}var Sa=new Rr,Ja=function(){return Jn},Ia=function(R){return R({pluginStatus:Jn,pluginURL:aa}),Sa.on("pluginStateChange",R),R},Wa=function(R,D,H){if(H===void 0&&(H=!1),Jn===rn.deferred||Jn===rn.loading||Jn===rn.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");aa=ie.resolveURL(R),Jn=rn.deferred,Yn=D,Ea(),H||di()},di=function(){if(Jn!==rn.deferred||!aa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jn=rn.loading,Ea(),aa&&Pt({url:aa},function(R){R?fa(R):(Jn=rn.loaded,Ea())})},yi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jn===rn.loaded||yi.applyArabicShaping!=null},isLoading:function(){return Jn===rn.loading},setState:function(D){Jn=D.pluginStatus,aa=D.pluginURL},isParsed:function(){return yi.applyArabicShaping!=null&&yi.processBidirectionalText!=null&&yi.processStyledBidirectionalText!=null},getPluginURL:function(){return aa}},Li=function(){!yi.isLoading()&&!yi.isLoaded()&&Ja()==="deferred"&&di()},jn=function(D,H){this.zoom=D,H?(this.now=H.now,this.fadeDuration=H.fadeDuration,this.zoomHistory=H.zoomHistory,this.transition=H.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new zt,this.transition={})};jn.prototype.isSupportedScript=function(D){return bn(D,yi.isLoaded())},jn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},jn.prototype.getCrossfadeParameters=function(){var D=this.zoom,H=D-Math.floor(D),ne=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:H+(1-H)*ne}:{fromScale:.5,toScale:1,t:1-(1-ne)*H}};var Ya=function(D,H){this.property=D,this.value=H,this.expression=Kf(H===void 0?D.specification.default:H,D.specification)};Ya.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ya.prototype.possiblyEvaluate=function(D,H,ne){return this.property.possiblyEvaluate(this,D,H,ne)};var Ha=function(D){this.property=D,this.value=new Ya(D,void 0)};Ha.prototype.transitioned=function(D,H){return new Xi(this.property,this.value,H,s({},D.transition,this.transition),D.now)},Ha.prototype.untransitioned=function(){return new Xi(this.property,this.value,null,{},0)};var ii=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ii.prototype.getValue=function(D){return m(this._values[D].value.value)},ii.prototype.setValue=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Ha(this._values[D].property)),this._values[D].value=new Ya(this._values[D].property,H===null?void 0:m(H))},ii.prototype.getTransition=function(D){return m(this._values[D].transition)},ii.prototype.setTransition=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Ha(this._values[D].property)),this._values[D].transition=m(H)||void 0},ii.prototype.serialize=function(){for(var D={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H],we=this.getValue(ve);we!==void 0&&(D[ve]=we);var Ce=this.getTransition(ve);Ce!==void 0&&(D[ve+"-transition"]=Ce)}return D},ii.prototype.transitioned=function(D,H){for(var ne=new oo(this._properties),ve=0,we=Object.keys(this._values);ve<we.length;ve+=1){var Ce=we[ve];ne._values[Ce]=this._values[Ce].transitioned(D,H._values[Ce])}return ne},ii.prototype.untransitioned=function(){for(var D=new oo(this._properties),H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H];D._values[ve]=this._values[ve].untransitioned()}return D};var Xi=function(D,H,ne,ve,we){this.property=D,this.value=H,this.begin=we+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ne)};Xi.prototype.possiblyEvaluate=function(D,H,ne){var ve=D.now||0,we=this.value.possiblyEvaluate(D,H,ne),Ce=this.prior;if(Ce){if(ve>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(ve<this.begin)return Ce.possiblyEvaluate(D,H,ne);var je=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Ce.possiblyEvaluate(D,H,ne),we,o(je))}else return we};var oo=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};oo.prototype.possiblyEvaluate=function(D,H,ne){for(var ve=new Ri(this._properties),we=0,Ce=Object.keys(this._values);we<Ce.length;we+=1){var je=Ce[we];ve._values[je]=this._values[je].possiblyEvaluate(D,H,ne)}return ve},oo.prototype.hasTransition=function(){for(var D=0,H=Object.keys(this._values);D<H.length;D+=1){var ne=H[D];if(this._values[ne].prior)return!0}return!1};var vo=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};vo.prototype.getValue=function(D){return m(this._values[D].value)},vo.prototype.setValue=function(D,H){this._values[D]=new Ya(this._values[D].property,H===null?void 0:m(H))},vo.prototype.serialize=function(){for(var D={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H],we=this.getValue(ve);we!==void 0&&(D[ve]=we)}return D},vo.prototype.possiblyEvaluate=function(D,H,ne){for(var ve=new Ri(this._properties),we=0,Ce=Object.keys(this._values);we<Ce.length;we+=1){var je=Ce[we];ve._values[je]=this._values[je].possiblyEvaluate(D,H,ne)}return ve};var Ui=function(D,H,ne){this.property=D,this.value=H,this.parameters=ne};Ui.prototype.isConstant=function(){return this.value.kind==="constant"},Ui.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Ui.prototype.evaluate=function(D,H,ne,ve){return this.property.evaluate(this.value,this.parameters,D,H,ne,ve)};var Ri=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};Ri.prototype.get=function(D){return this._values[D]};var Aa=function(D){this.specification=D};Aa.prototype.possiblyEvaluate=function(D,H){return D.expression.evaluate(H)},Aa.prototype.interpolate=function(D,H,ne){var ve=Zn[this.specification.type];return ve?ve(D,H,ne):D};var Ra=function(D,H){this.specification=D,this.overrides=H};Ra.prototype.possiblyEvaluate=function(D,H,ne,ve){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Ui(this,{kind:"constant",value:D.expression.evaluate(H,null,{},ne,ve)},H):new Ui(this,D.expression,H)},Ra.prototype.interpolate=function(D,H,ne){if(D.value.kind!=="constant"||H.value.kind!=="constant")return D;if(D.value.value===void 0||H.value.value===void 0)return new Ui(this,{kind:"constant",value:void 0},D.parameters);var ve=Zn[this.specification.type];return ve?new Ui(this,{kind:"constant",value:ve(D.value.value,H.value.value,ne)},D.parameters):D},Ra.prototype.evaluate=function(D,H,ne,ve,we,Ce){return D.kind==="constant"?D.value:D.evaluate(H,ne,ve,we,Ce)};var Hi=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve,we,Ce){if(ne.value===void 0)return new Ui(this,{kind:"constant",value:void 0},ve);if(ne.expression.kind==="constant"){var je=ne.expression.evaluate(ve,null,{},we,Ce),gt=ne.property.specification.type==="resolvedImage",Et=gt&&typeof je!="string"?je.name:je,Rt=this._calculate(Et,Et,Et,ve);return new Ui(this,{kind:"constant",value:Rt},ve)}else if(ne.expression.kind==="camera"){var tr=this._calculate(ne.expression.evaluate({zoom:ve.zoom-1}),ne.expression.evaluate({zoom:ve.zoom}),ne.expression.evaluate({zoom:ve.zoom+1}),ve);return new Ui(this,{kind:"constant",value:tr},ve)}else return new Ui(this,ne.expression,ve)},D.prototype.evaluate=function(ne,ve,we,Ce,je,gt){if(ne.kind==="source"){var Et=ne.evaluate(ve,we,Ce,je,gt);return this._calculate(Et,Et,Et,ve)}else return ne.kind==="composite"?this._calculate(ne.evaluate({zoom:Math.floor(ve.zoom)-1},we,Ce),ne.evaluate({zoom:Math.floor(ve.zoom)},we,Ce),ne.evaluate({zoom:Math.floor(ve.zoom)+1},we,Ce),ve):ne.value},D.prototype._calculate=function(ne,ve,we,Ce){var je=Ce.zoom;return je>Ce.zoomHistory.lastIntegerZoom?{from:ne,to:ve}:{from:we,to:ve}},D.prototype.interpolate=function(ne){return ne},D}(Ra),fo=function(D){this.specification=D};fo.prototype.possiblyEvaluate=function(D,H,ne,ve){if(D.value!==void 0)if(D.expression.kind==="constant"){var we=D.expression.evaluate(H,null,{},ne,ve);return this._calculate(we,we,we,H)}else return this._calculate(D.expression.evaluate(new jn(Math.floor(H.zoom-1),H)),D.expression.evaluate(new jn(Math.floor(H.zoom),H)),D.expression.evaluate(new jn(Math.floor(H.zoom+1),H)),H)},fo.prototype._calculate=function(D,H,ne,ve){var we=ve.zoom;return we>ve.zoomHistory.lastIntegerZoom?{from:D,to:H}:{from:ne,to:H}},fo.prototype.interpolate=function(D){return D};var ns=function(D){this.specification=D};ns.prototype.possiblyEvaluate=function(D,H,ne,ve){return!!D.expression.evaluate(H,null,{},ne,ve)},ns.prototype.interpolate=function(){return!1};var Eo=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var H in D){var ne=D[H];ne.specification.overridable&&this.overridableProperties.push(H);var ve=this.defaultPropertyValues[H]=new Ya(ne,void 0),we=this.defaultTransitionablePropertyValues[H]=new Ha(ne);this.defaultTransitioningPropertyValues[H]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[H]=ve.possiblyEvaluate({})}};le("DataDrivenProperty",Ra),le("DataConstantProperty",Aa),le("CrossFadedDataDrivenProperty",Hi),le("CrossFadedProperty",fo),le("ColorRampProperty",ns);var Vo="-transition",Ki=function(R){function D(H,ne){if(R.call(this),this.id=H.id,this.type=H.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},H.type!=="custom"&&(H=H,this.metadata=H.metadata,this.minzoom=H.minzoom,this.maxzoom=H.maxzoom,H.type!=="background"&&(this.source=H.source,this.sourceLayer=H["source-layer"],this.filter=H.filter),ne.layout&&(this._unevaluatedLayout=new vo(ne.layout)),ne.paint)){this._transitionablePaint=new ii(ne.paint);for(var ve in H.paint)this.setPaintProperty(ve,H.paint[ve],{validate:!1});for(var we in H.layout)this.setLayoutProperty(we,H.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ri(ne.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ne){return ne==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ne)},D.prototype.setLayoutProperty=function(ne,ve,we){if(we===void 0&&(we={}),ve!=null){var Ce="layers."+this.id+".layout."+ne;if(this._validate(wa,Ce,ne,ve,we))return}if(ne==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ne,ve)},D.prototype.getPaintProperty=function(ne){return b(ne,Vo)?this._transitionablePaint.getTransition(ne.slice(0,-Vo.length)):this._transitionablePaint.getValue(ne)},D.prototype.setPaintProperty=function(ne,ve,we){if(we===void 0&&(we={}),ve!=null){var Ce="layers."+this.id+".paint."+ne;if(this._validate(zn,Ce,ne,ve,we))return!1}if(b(ne,Vo))return this._transitionablePaint.setTransition(ne.slice(0,-Vo.length),ve||void 0),!1;var je=this._transitionablePaint._values[ne],gt=je.property.specification["property-type"]==="cross-faded-data-driven",Et=je.value.isDataDriven(),Rt=je.value;this._transitionablePaint.setValue(ne,ve),this._handleSpecialPaintPropertyUpdate(ne);var tr=this._transitionablePaint._values[ne].value,pr=tr.isDataDriven();return pr||Et||gt||this._handleOverridablePaintPropertyUpdate(ne,Rt,tr)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,we){return!1},D.prototype.isHidden=function(ne){return this.minzoom&&ne<this.minzoom||this.maxzoom&&ne>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ne){this._transitioningPaint=this._transitionablePaint.transitioned(ne,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ne,ve){ne.getCrossfadeParameters&&(this._crossfadeParameters=ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ne,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ne,void 0,ve)},D.prototype.serialize=function(){var ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ne.layout=ne.layout||{},ne.layout.visibility=this.visibility),E(ne,function(ve,we){return ve!==void 0&&!(we==="layout"&&!Object.keys(ve).length)&&!(we==="paint"&&!Object.keys(ve).length)})},D.prototype._validate=function(ne,ve,we,Ce,je){return je===void 0&&(je={}),je&&je.validate===!1?!1:_a(this,ne.call(Mn,{key:ve,layerType:this.type,objectKey:we,value:Ce,styleSpec:ar,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ne in this.paint._values){var ve=this.paint.get(ne);if(!(!(ve instanceof Ui)||!el(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},D}(Rr),ls={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},zi=function(D,H){this._structArray=D,this._pos1=H*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Us=128,us=5,ui=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ui.serialize=function(D,H){return D._trim(),H&&(D.isTransferred=!0,H.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ui.deserialize=function(D){var H=Object.create(this.prototype);return H.arrayBuffer=D.arrayBuffer,H.length=D.length,H.capacity=D.arrayBuffer.byteLength/H.bytesPerElement,H._refreshViews(),H},ui.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ui.prototype.clear=function(){this.length=0},ui.prototype.resize=function(D){this.reserve(D),this.length=D},ui.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*us),Us),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var H=this.uint8;this._refreshViews(),H&&this.uint8.set(H)}},ui.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Vi(R,D){D===void 0&&(D=1);var H=0,ne=0,ve=R.map(function(Ce){var je=tc(Ce.type),gt=H=Pf(H,Math.max(D,je)),Et=Ce.components||1;return ne=Math.max(ne,je),H+=je*Et,{name:Ce.name,type:Ce.type,components:Et,offset:gt}}),we=Pf(H,Math.max(ne,D));return{members:ve,size:we,alignment:D}}function tc(R){return ls[R].BYTES_PER_ELEMENT}function Pf(R,D){return Math.ceil(R/D)*D}var Ic=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ne,ve)},D.prototype.emplace=function(ne,ve,we){var Ce=ne*2;return this.int16[Ce+0]=ve,this.int16[Ce+1]=we,ne},D}(ui);Ic.prototype.bytesPerElement=4,le("StructArrayLayout2i4",Ic);var Qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce){var je=this.length;return this.resize(je+1),this.emplace(je,ne,ve,we,Ce)},D.prototype.emplace=function(ne,ve,we,Ce,je){var gt=ne*4;return this.int16[gt+0]=ve,this.int16[gt+1]=we,this.int16[gt+2]=Ce,this.int16[gt+3]=je,ne},D}(ui);Qu.prototype.bytesPerElement=8,le("StructArrayLayout4i8",Qu);var rc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ne,ve,we,Ce,je,gt)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et){var Rt=ne*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.int16[Rt+2]=Ce,this.int16[Rt+3]=je,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ne},D}(ui);rc.prototype.bytesPerElement=12,le("StructArrayLayout2i4i12",rc);var ah=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ne,ve,we,Ce,je,gt)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et){var Rt=ne*4,tr=ne*8;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.uint8[tr+4]=Ce,this.uint8[tr+5]=je,this.uint8[tr+6]=gt,this.uint8[tr+7]=Et,ne},D}(ui);ah.prototype.bytesPerElement=8,le("StructArrayLayout2i4ub8",ah);var Es=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr){var fr=this.length;return this.resize(fr+1),this.emplace(fr,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr){var Cr=ne*9,Xr=ne*18;return this.uint16[Cr+0]=ve,this.uint16[Cr+1]=we,this.uint16[Cr+2]=Ce,this.uint16[Cr+3]=je,this.uint16[Cr+4]=gt,this.uint16[Cr+5]=Et,this.uint16[Cr+6]=Rt,this.uint16[Cr+7]=tr,this.uint8[Xr+16]=pr,this.uint8[Xr+17]=fr,ne},D}(ui);Es.prototype.bytesPerElement=18,le("StructArrayLayout8ui2ub18",Es);var $u=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr){var Xr=this.length;return this.resize(Xr+1),this.emplace(Xr,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr){var gn=ne*12;return this.int16[gn+0]=ve,this.int16[gn+1]=we,this.int16[gn+2]=Ce,this.int16[gn+3]=je,this.uint16[gn+4]=gt,this.uint16[gn+5]=Et,this.uint16[gn+6]=Rt,this.uint16[gn+7]=tr,this.int16[gn+8]=pr,this.int16[gn+9]=fr,this.int16[gn+10]=Cr,this.int16[gn+11]=Xr,ne},D}(ui);$u.prototype.bytesPerElement=24,le("StructArrayLayout4i4ui4i24",$u);var $h=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,we)},D.prototype.emplace=function(ne,ve,we,Ce){var je=ne*3;return this.float32[je+0]=ve,this.float32[je+1]=we,this.float32[je+2]=Ce,ne},D}(ui);$h.prototype.bytesPerElement=12,le("StructArrayLayout3f12",$h);var qh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var we=ne*1;return this.uint32[we+0]=ve,ne},D}(ui);qh.prototype.bytesPerElement=4,le("StructArrayLayout1ul4",qh);var _c=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt,Et,Rt,tr){var pr=this.length;return this.resize(pr+1),this.emplace(pr,ne,ve,we,Ce,je,gt,Et,Rt,tr)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr){var fr=ne*10,Cr=ne*5;return this.int16[fr+0]=ve,this.int16[fr+1]=we,this.int16[fr+2]=Ce,this.int16[fr+3]=je,this.int16[fr+4]=gt,this.int16[fr+5]=Et,this.uint32[Cr+3]=Rt,this.uint16[fr+8]=tr,this.uint16[fr+9]=pr,ne},D}(ui);_c.prototype.bytesPerElement=20,le("StructArrayLayout6i1ul2ui20",_c);var ih=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt){var Et=this.length;return this.resize(Et+1),this.emplace(Et,ne,ve,we,Ce,je,gt)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et){var Rt=ne*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.int16[Rt+2]=Ce,this.int16[Rt+3]=je,this.int16[Rt+4]=gt,this.int16[Rt+5]=Et,ne},D}(ui);ih.prototype.bytesPerElement=12,le("StructArrayLayout2i2i2i12",ih);var Au=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je){var gt=this.length;return this.resize(gt+1),this.emplace(gt,ne,ve,we,Ce,je)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt){var Et=ne*4,Rt=ne*8;return this.float32[Et+0]=ve,this.float32[Et+1]=we,this.float32[Et+2]=Ce,this.int16[Rt+6]=je,this.int16[Rt+7]=gt,ne},D}(ui);Au.prototype.bytesPerElement=16,le("StructArrayLayout2f1f2i16",Au);var Hs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce){var je=this.length;return this.resize(je+1),this.emplace(je,ne,ve,we,Ce)},D.prototype.emplace=function(ne,ve,we,Ce,je){var gt=ne*12,Et=ne*3;return this.uint8[gt+0]=ve,this.uint8[gt+1]=we,this.float32[Et+1]=Ce,this.float32[Et+2]=je,ne},D}(ui);Hs.prototype.bytesPerElement=12,le("StructArrayLayout2ub2f12",Hs);var Mu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,we)},D.prototype.emplace=function(ne,ve,we,Ce){var je=ne*3;return this.uint16[je+0]=ve,this.uint16[je+1]=we,this.uint16[je+2]=Ce,ne},D}(ui);Mu.prototype.bytesPerElement=6,le("StructArrayLayout3ui6",Mu);var Fc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn){var Dn=this.length;return this.resize(Dn+1),this.emplace(Dn,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn,Dn){var Bn=ne*24,Kn=ne*12,oa=ne*48;return this.int16[Bn+0]=ve,this.int16[Bn+1]=we,this.uint16[Bn+2]=Ce,this.uint16[Bn+3]=je,this.uint32[Kn+2]=gt,this.uint32[Kn+3]=Et,this.uint32[Kn+4]=Rt,this.uint16[Bn+10]=tr,this.uint16[Bn+11]=pr,this.uint16[Bn+12]=fr,this.float32[Kn+7]=Cr,this.float32[Kn+8]=Xr,this.uint8[oa+36]=gn,this.uint8[oa+37]=un,this.uint8[oa+38]=In,this.uint32[Kn+10]=Sn,this.int16[Bn+22]=Dn,ne},D}(ui);Fc.prototype.bytesPerElement=48,le("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Fc);var oh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn,Dn,Bn,Kn,oa,ia,Da,ya,Ma,ja,La,Pa){var ti=this.length;return this.resize(ti+1),this.emplace(ti,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn,Dn,Bn,Kn,oa,ia,Da,ya,Ma,ja,La,Pa)},D.prototype.emplace=function(ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn,Dn,Bn,Kn,oa,ia,Da,ya,Ma,ja,La,Pa,ti){var Va=ne*34,mi=ne*17;return this.int16[Va+0]=ve,this.int16[Va+1]=we,this.int16[Va+2]=Ce,this.int16[Va+3]=je,this.int16[Va+4]=gt,this.int16[Va+5]=Et,this.int16[Va+6]=Rt,this.int16[Va+7]=tr,this.uint16[Va+8]=pr,this.uint16[Va+9]=fr,this.uint16[Va+10]=Cr,this.uint16[Va+11]=Xr,this.uint16[Va+12]=gn,this.uint16[Va+13]=un,this.uint16[Va+14]=In,this.uint16[Va+15]=Sn,this.uint16[Va+16]=Dn,this.uint16[Va+17]=Bn,this.uint16[Va+18]=Kn,this.uint16[Va+19]=oa,this.uint16[Va+20]=ia,this.uint16[Va+21]=Da,this.uint16[Va+22]=ya,this.uint32[mi+12]=Ma,this.float32[mi+13]=ja,this.float32[mi+14]=La,this.float32[mi+15]=Pa,this.float32[mi+16]=ti,ne},D}(ui);oh.prototype.bytesPerElement=68,le("StructArrayLayout8i15ui1ul4f68",oh);var nc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var we=ne*1;return this.float32[we+0]=ve,ne},D}(ui);nc.prototype.bytesPerElement=4,le("StructArrayLayout1f4",nc);var ev=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,we)},D.prototype.emplace=function(ne,ve,we,Ce){var je=ne*3;return this.int16[je+0]=ve,this.int16[je+1]=we,this.int16[je+2]=Ce,ne},D}(ui);ev.prototype.bytesPerElement=6,le("StructArrayLayout3i6",ev);var qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,we)},D.prototype.emplace=function(ne,ve,we,Ce){var je=ne*2,gt=ne*4;return this.uint32[je+0]=ve,this.uint16[gt+2]=we,this.uint16[gt+3]=Ce,ne},D}(ui);qu.prototype.bytesPerElement=8,le("StructArrayLayout1ul2ui8",qu);var kc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ne,ve)},D.prototype.emplace=function(ne,ve,we){var Ce=ne*2;return this.uint16[Ce+0]=ve,this.uint16[Ce+1]=we,ne},D}(ui);kc.prototype.bytesPerElement=4,le("StructArrayLayout2ui4",kc);var ac=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var we=ne*1;return this.uint16[we+0]=ve,ne},D}(ui);ac.prototype.bytesPerElement=2,le("StructArrayLayout1ui2",ac);var ef=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ne,ve)},D.prototype.emplace=function(ne,ve,we){var Ce=ne*2;return this.float32[Ce+0]=ve,this.float32[Ce+1]=we,ne},D}(ui);ef.prototype.bytesPerElement=8,le("StructArrayLayout2f8",ef);var tv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,we,Ce){var je=this.length;return this.resize(je+1),this.emplace(je,ne,ve,we,Ce)},D.prototype.emplace=function(ne,ve,we,Ce,je){var gt=ne*4;return this.float32[gt+0]=ve,this.float32[gt+1]=we,this.float32[gt+2]=Ce,this.float32[gt+3]=je,ne},D}(ui);tv.prototype.bytesPerElement=16,le("StructArrayLayout4f16",tv);var rd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return H.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},H.x1.get=function(){return this._structArray.int16[this._pos2+2]},H.y1.get=function(){return this._structArray.int16[this._pos2+3]},H.x2.get=function(){return this._structArray.int16[this._pos2+4]},H.y2.get=function(){return this._structArray.int16[this._pos2+5]},H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,H),D}(zi);rd.prototype.size=20;var tf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new rd(this,ne)},D}(_c);le("CollisionBoxArray",tf);var rv=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},H.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},H.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},H.segment.get=function(){return this._structArray.uint16[this._pos2+10]},H.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},H.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},H.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},H.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},H.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},H.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},H.placedOrientation.set=function(ne){this._structArray.uint8[this._pos1+37]=ne},H.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},H.hidden.set=function(ne){this._structArray.uint8[this._pos1+38]=ne},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+10]=ne},H.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,H),D}(zi);rv.prototype.size=48;var ic=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new rv(this,ne)},D}(Fc);le("PlacedSymbolArray",ic);var nd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},H.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},H.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},H.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},H.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},H.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},H.key.get=function(){return this._structArray.uint16[this._pos2+8]},H.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},H.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},H.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},H.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},H.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},H.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},H.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},H.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},H.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},H.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},H.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},H.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},H.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+12]=ne},H.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},H.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},H.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},H.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,H),D}(zi);nd.prototype.size=68;var ad=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new nd(this,ne)},D}(oh);le("SymbolInstanceArray",ad);var zl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ne){return this.float32[ne*1+0]},D}(nc);le("GlyphOffsetArray",zl);var id=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ne){return this.int16[ne*3+0]},D.prototype.gety=function(ne){return this.int16[ne*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ne){return this.int16[ne*3+2]},D}(ev);le("SymbolLineVertexArray",id);var od=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,H),D}(zi);od.prototype.size=8;var nv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new od(this,ne)},D}(qu);le("FeatureIndexArray",nv);var sd=Vi([{name:"a_pos",components:2,type:"Int16"}],4),he=sd.members,X=function(D){D===void 0&&(D=[]),this.segments=D};X.prototype.prepareSegment=function(D,H,ne,ve){var we=this.segments[this.segments.length-1];return D>X.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+X.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!we||we.vertexLength+D>X.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==ve)&&(we={vertexOffset:H.length,primitiveOffset:ne.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(we.sortKey=ve),this.segments.push(we)),we},X.prototype.get=function(){return this.segments},X.prototype.destroy=function(){for(var D=0,H=this.segments;D<H.length;D+=1){var ne=H[D];for(var ve in ne.vaos)ne.vaos[ve].destroy()}},X.simpleSegment=function(D,H,ne,ve){return new X([{vertexOffset:D,primitiveOffset:H,vertexLength:ne,primitiveLength:ve,vaos:{},sortKey:0}])},X.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,le("SegmentVector",X);function de(R,D){return R=n(Math.floor(R),0,255),D=n(Math.floor(D),0,255),256*R+D}var te=Vi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),pe=P(function(R){function D(H,ne){var ve,we,Ce,je,gt,Et,Rt,tr;for(ve=H.length&3,we=H.length-ve,Ce=ne,gt=3432918353,Et=461845907,tr=0;tr<we;)Rt=H.charCodeAt(tr)&255|(H.charCodeAt(++tr)&255)<<8|(H.charCodeAt(++tr)&255)<<16|(H.charCodeAt(++tr)&255)<<24,++tr,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,Ce^=Rt,Ce=Ce<<13|Ce>>>19,je=(Ce&65535)*5+(((Ce>>>16)*5&65535)<<16)&4294967295,Ce=(je&65535)+27492+(((je>>>16)+58964&65535)<<16);switch(Rt=0,ve){case 3:Rt^=(H.charCodeAt(tr+2)&255)<<16;case 2:Rt^=(H.charCodeAt(tr+1)&255)<<8;case 1:Rt^=H.charCodeAt(tr)&255,Rt=(Rt&65535)*gt+(((Rt>>>16)*gt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*Et+(((Rt>>>16)*Et&65535)<<16)&4294967295,Ce^=Rt}return Ce^=H.length,Ce^=Ce>>>16,Ce=(Ce&65535)*2246822507+(((Ce>>>16)*2246822507&65535)<<16)&4294967295,Ce^=Ce>>>13,Ce=(Ce&65535)*3266489909+(((Ce>>>16)*3266489909&65535)<<16)&4294967295,Ce^=Ce>>>16,Ce>>>0}R.exports=D}),De=P(function(R){function D(H,ne){for(var ve=H.length,we=ne^ve,Ce=0,je;ve>=4;)je=H.charCodeAt(Ce)&255|(H.charCodeAt(++Ce)&255)<<8|(H.charCodeAt(++Ce)&255)<<16|(H.charCodeAt(++Ce)&255)<<24,je=(je&65535)*1540483477+(((je>>>16)*1540483477&65535)<<16),je^=je>>>24,je=(je&65535)*1540483477+(((je>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^je,ve-=4,++Ce;switch(ve){case 3:we^=(H.charCodeAt(Ce+2)&255)<<16;case 2:we^=(H.charCodeAt(Ce+1)&255)<<8;case 1:we^=H.charCodeAt(Ce)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}R.exports=D}),Ye=pe,ut=pe,St=De;Ye.murmur3=ut,Ye.murmur2=St;var jt=function(){this.ids=[],this.positions=[],this.indexed=!1};jt.prototype.add=function(D,H,ne,ve){this.ids.push(mr(D)),this.positions.push(H,ne,ve)},jt.prototype.getPositions=function(D){for(var H=mr(D),ne=0,ve=this.ids.length-1;ne<ve;){var we=ne+ve>>1;this.ids[we]>=H?ve=we:ne=we+1}for(var Ce=[];this.ids[ne]===H;){var je=this.positions[3*ne],gt=this.positions[3*ne+1],Et=this.positions[3*ne+2];Ce.push({index:je,start:gt,end:Et}),ne++}return Ce},jt.serialize=function(D,H){var ne=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return Er(ne,ve,0,ne.length-1),H&&H.push(ne.buffer,ve.buffer),{ids:ne,positions:ve}},jt.deserialize=function(D){var H=new jt;return H.ids=D.ids,H.positions=D.positions,H.indexed=!0,H};var sr=Math.pow(2,53)-1;function mr(R){var D=+R;return!isNaN(D)&&D<=sr?D:Ye(String(R))}function Er(R,D,H,ne){for(;H<ne;){for(var ve=R[H+ne>>1],we=H-1,Ce=ne+1;;){do we++;while(R[we]<ve);do Ce--;while(R[Ce]>ve);if(we>=Ce)break;Hr(R,we,Ce),Hr(D,3*we,3*Ce),Hr(D,3*we+1,3*Ce+1),Hr(D,3*we+2,3*Ce+2)}Ce-H<ne-Ce?(Er(R,D,H,Ce),H=Ce+1):(Er(R,D,Ce+1,ne),ne=Ce)}}function Hr(R,D,H){var ne=R[D];R[D]=R[H],R[H]=ne}le("FeaturePositionMap",jt);var $r=function(D,H){this.gl=D.gl,this.location=H},qr=function(R){function D(H,ne){R.call(this,H,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1i(this.location,ne))},D}($r),Jr=function(R){function D(H,ne){R.call(this,H,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1f(this.location,ne))},D}($r),ln=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1])&&(this.current=ne,this.gl.uniform2f(this.location,ne[0],ne[1]))},D}($r),yn=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2])&&(this.current=ne,this.gl.uniform3f(this.location,ne[0],ne[1],ne[2]))},D}($r),_n=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2]||ne[3]!==this.current[3])&&(this.current=ne,this.gl.uniform4f(this.location,ne[0],ne[1],ne[2],ne[3]))},D}($r),Vn=function(R){function D(H,ne){R.call(this,H,ne),this.current=si.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne.r!==this.current.r||ne.g!==this.current.g||ne.b!==this.current.b||ne.a!==this.current.a)&&(this.current=ne,this.gl.uniform4f(this.location,ne.r,ne.g,ne.b,ne.a))},D}($r),ea=new Float32Array(16),ra=function(R){function D(H,ne){R.call(this,H,ne),this.current=ea}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){if(ne[12]!==this.current[12]||ne[0]!==this.current[0]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);return}for(var ve=1;ve<16;ve++)if(ne[ve]!==this.current[ve]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);break}},D}($r);function ta(R){return[de(255*R.r,255*R.g),de(255*R.b,255*R.a)]}var la=function(D,H,ne){this.value=D,this.uniformNames=H.map(function(ve){return"u_"+ve}),this.type=ne};la.prototype.setUniform=function(D,H,ne){D.set(ne.constantOr(this.value))},la.prototype.getBinding=function(D,H,ne){return this.type==="color"?new Vn(D,H):new Jr(D,H)};var da=function(D,H){this.uniformNames=H.map(function(ne){return"u_"+ne}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};da.prototype.setConstantPatternPositions=function(D,H){this.pixelRatioFrom=H.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=H.tlbr,this.patternTo=D.tlbr},da.prototype.setUniform=function(D,H,ne,ve){var we=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&D.set(we)},da.prototype.getBinding=function(D,H,ne){return ne.substr(0,9)==="u_pattern"?new _n(D,H):new Jr(D,H)};var va=function(D,H,ne,ve){this.expression=D,this.type=ne,this.maxValue=0,this.paintVertexAttributes=H.map(function(we){return{name:"a_"+we,type:"Float32",components:ne==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};va.prototype.populatePaintArray=function(D,H,ne,ve,we){var Ce=this.paintVertexArray.length,je=this.expression.evaluate(new jn(0),H,{},ve,[],we);this.paintVertexArray.resize(D),this._setPaintValue(Ce,D,je)},va.prototype.updatePaintArray=function(D,H,ne,ve){var we=this.expression.evaluate({zoom:0},ne,ve);this._setPaintValue(D,H,we)},va.prototype._setPaintValue=function(D,H,ne){if(this.type==="color")for(var ve=ta(ne),we=D;we<H;we++)this.paintVertexArray.emplace(we,ve[0],ve[1]);else{for(var Ce=D;Ce<H;Ce++)this.paintVertexArray.emplace(Ce,ne);this.maxValue=Math.max(this.maxValue,Math.abs(ne))}},va.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ta=function(D,H,ne,ve,we,Ce){this.expression=D,this.uniformNames=H.map(function(je){return"u_"+je+"_t"}),this.type=ne,this.useIntegerZoom=ve,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=H.map(function(je){return{name:"a_"+je,type:"Float32",components:ne==="color"?4:2,offset:0}}),this.paintVertexArray=new Ce};Ta.prototype.populatePaintArray=function(D,H,ne,ve,we){var Ce=this.expression.evaluate(new jn(this.zoom),H,{},ve,[],we),je=this.expression.evaluate(new jn(this.zoom+1),H,{},ve,[],we),gt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(gt,D,Ce,je)},Ta.prototype.updatePaintArray=function(D,H,ne,ve){var we=this.expression.evaluate({zoom:this.zoom},ne,ve),Ce=this.expression.evaluate({zoom:this.zoom+1},ne,ve);this._setPaintValue(D,H,we,Ce)},Ta.prototype._setPaintValue=function(D,H,ne,ve){if(this.type==="color")for(var we=ta(ne),Ce=ta(ve),je=D;je<H;je++)this.paintVertexArray.emplace(je,we[0],we[1],Ce[0],Ce[1]);else{for(var gt=D;gt<H;gt++)this.paintVertexArray.emplace(gt,ne,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ne),Math.abs(ve))}},Ta.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ta.prototype.setUniform=function(D,H){var ne=this.useIntegerZoom?Math.floor(H.zoom):H.zoom,ve=n(this.expression.interpolationFactor(ne,this.zoom,this.zoom+1),0,1);D.set(ve)},Ta.prototype.getBinding=function(D,H,ne){return new Jr(D,H)};var Ca=function(D,H,ne,ve,we,Ce){this.expression=D,this.type=H,this.useIntegerZoom=ne,this.zoom=ve,this.layerId=Ce,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};Ca.prototype.populatePaintArray=function(D,H,ne){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,H.patterns&&H.patterns[this.layerId],ne)},Ca.prototype.updatePaintArray=function(D,H,ne,ve,we){this._setPaintValues(D,H,ne.patterns&&ne.patterns[this.layerId],we)},Ca.prototype._setPaintValues=function(D,H,ne,ve){if(!(!ve||!ne)){var we=ne.min,Ce=ne.mid,je=ne.max,gt=ve[we],Et=ve[Ce],Rt=ve[je];if(!(!gt||!Et||!Rt))for(var tr=D;tr<H;tr++)this.zoomInPaintVertexArray.emplace(tr,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Et.pixelRatio,gt.pixelRatio),this.zoomOutPaintVertexArray.emplace(tr,Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],Et.pixelRatio,Rt.pixelRatio)}},Ca.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,te.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,te.members,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ba=function(D,H,ne,ve){this.binders={},this.layoutAttributes=ve,this._buffers=[];var we=[];for(var Ce in D.paint._values)if(ne(Ce)){var je=D.paint.get(Ce);if(!(!(je instanceof Ui)||!el(je.property.specification))){var gt=Ai(Ce,D.type),Et=je.value,Rt=je.property.specification.type,tr=je.property.useIntegerZoom,pr=je.property.specification["property-type"],fr=pr==="cross-faded"||pr==="cross-faded-data-driven";if(Et.kind==="constant")this.binders[Ce]=fr?new da(Et.value,gt):new la(Et.value,gt,Rt),we.push("/u_"+Ce);else if(Et.kind==="source"||fr){var Cr=fi(Ce,Rt,"source");this.binders[Ce]=fr?new Ca(Et,Rt,tr,H,Cr,D.id):new va(Et,gt,Rt,Cr),we.push("/a_"+Ce)}else{var Xr=fi(Ce,Rt,"composite");this.binders[Ce]=new Ta(Et,gt,Rt,tr,H,Xr),we.push("/z_"+Ce)}}}this.cacheKey=we.sort().join("")};Ba.prototype.getMaxValue=function(D){var H=this.binders[D];return H instanceof va||H instanceof Ta?H.maxValue:0},Ba.prototype.populatePaintArrays=function(D,H,ne,ve,we){for(var Ce in this.binders){var je=this.binders[Ce];(je instanceof va||je instanceof Ta||je instanceof Ca)&&je.populatePaintArray(D,H,ne,ve,we)}},Ba.prototype.setConstantPatternPositions=function(D,H){for(var ne in this.binders){var ve=this.binders[ne];ve instanceof da&&ve.setConstantPatternPositions(D,H)}},Ba.prototype.updatePaintArrays=function(D,H,ne,ve,we){var Ce=!1;for(var je in D)for(var gt=H.getPositions(je),Et=0,Rt=gt;Et<Rt.length;Et+=1){var tr=Rt[Et],pr=ne.feature(tr.index);for(var fr in this.binders){var Cr=this.binders[fr];if((Cr instanceof va||Cr instanceof Ta||Cr instanceof Ca)&&Cr.expression.isStateDependent===!0){var Xr=ve.paint.get(fr);Cr.expression=Xr.value,Cr.updatePaintArray(tr.start,tr.end,pr,D[je],we),Ce=!0}}}return Ce},Ba.prototype.defines=function(){var D=[];for(var H in this.binders){var ne=this.binders[H];(ne instanceof la||ne instanceof da)&&D.push.apply(D,ne.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},Ba.prototype.getPaintVertexBuffers=function(){return this._buffers},Ba.prototype.getUniforms=function(D,H){var ne=[];for(var ve in this.binders){var we=this.binders[ve];if(we instanceof la||we instanceof da||we instanceof Ta)for(var Ce=0,je=we.uniformNames;Ce<je.length;Ce+=1){var gt=je[Ce];if(H[gt]){var Et=we.getBinding(D,H[gt],gt);ne.push({name:gt,property:ve,binding:Et})}}}return ne},Ba.prototype.setUniforms=function(D,H,ne,ve){for(var we=0,Ce=H;we<Ce.length;we+=1){var je=Ce[we],gt=je.name,Et=je.property,Rt=je.binding;this.binders[Et].setUniform(Rt,ve,ne.get(Et),gt)}},Ba.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var H in this.binders){var ne=this.binders[H];if(D&&ne instanceof Ca){var ve=D.fromScale===2?ne.zoomInPaintVertexBuffer:ne.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ne instanceof va||ne instanceof Ta)&&ne.paintVertexBuffer&&this._buffers.push(ne.paintVertexBuffer)}},Ba.prototype.upload=function(D){for(var H in this.binders){var ne=this.binders[H];(ne instanceof va||ne instanceof Ta||ne instanceof Ca)&&ne.upload(D)}this.updatePaintBuffers()},Ba.prototype.destroy=function(){for(var D in this.binders){var H=this.binders[D];(H instanceof va||H instanceof Ta||H instanceof Ca)&&H.destroy()}};var Qa=function(D,H,ne,ve){ve===void 0&&(ve=function(){return!0}),this.programConfigurations={};for(var we=0,Ce=H;we<Ce.length;we+=1){var je=Ce[we];this.programConfigurations[je.id]=new Ba(je,ne,ve,D)}this.needsUpload=!1,this._featureMap=new jt,this._bufferOffset=0};Qa.prototype.populatePaintArrays=function(D,H,ne,ve,we,Ce){for(var je in this.programConfigurations)this.programConfigurations[je].populatePaintArrays(D,H,ve,we,Ce);H.id!==void 0&&this._featureMap.add(H.id,ne,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Qa.prototype.updatePaintArrays=function(D,H,ne,ve){for(var we=0,Ce=ne;we<Ce.length;we+=1){var je=Ce[we];this.needsUpload=this.programConfigurations[je.id].updatePaintArrays(D,this._featureMap,H,je,ve)||this.needsUpload}},Qa.prototype.get=function(D){return this.programConfigurations[D]},Qa.prototype.upload=function(D){if(this.needsUpload){for(var H in this.programConfigurations)this.programConfigurations[H].upload(D);this.needsUpload=!1}},Qa.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function Ai(R,D){var H={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return H[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function qa(R){var D={"line-pattern":{source:Es,composite:Es},"fill-pattern":{source:Es,composite:Es},"fill-extrusion-pattern":{source:Es,composite:Es}};return D[R]}function fi(R,D,H){var ne={color:{source:ef,composite:tv},number:{source:nc,composite:ef}},ve=qa(R);return ve&&ve[H]||ne[D][H]}le("ConstantBinder",la),le("CrossFadedConstantBinder",da),le("SourceExpressionBinder",va),le("CrossFadedCompositeBinder",Ca),le("CompositeExpressionBinder",Ta),le("ProgramConfiguration",Ba,{omit:["_buffers"]}),le("ProgramConfigurationSet",Qa);var Fa=8192;function Mi(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}var Pi=Mi(15);function Ii(R){for(var D=Fa/R.extent,H=R.loadGeometry(),ne=0;ne<H.length;ne++)for(var ve=H[ne],we=0;we<ve.length;we++){var Ce=ve[we];Ce.x=Math.round(Ce.x*D),Ce.y=Math.round(Ce.y*D),(Ce.x<Pi.min||Ce.x>Pi.max||Ce.y<Pi.min||Ce.y>Pi.max)&&(B("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ce.x=n(Ce.x,Pi.min,Pi.max),Ce.y=n(Ce.y,Pi.min,Pi.max))}return H}function ci(R,D,H,ne,ve){R.emplaceBack(D*2+(ne+1)/2,H*2+(ve+1)/2)}var Gi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Ic,this.indexArray=new Mu,this.segments=new X,this.programConfigurations=new Qa(he,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Gi.prototype.populate=function(D,H,ne){var ve=this.layers[0],we=[],Ce=null;ve.type==="circle"&&(Ce=ve.layout.get("circle-sort-key"));for(var je=0,gt=D;je<gt.length;je+=1){var Et=gt[je],Rt=Et.feature,tr=Et.id,pr=Et.index,fr=Et.sourceLayerIndex,Cr=this.layers[0]._featureFilter.needGeometry,Xr={type:Rt.type,id:tr,properties:Rt.properties,geometry:Cr?Ii(Rt):[]};if(this.layers[0]._featureFilter.filter(new jn(this.zoom),Xr,ne)){Cr||(Xr.geometry=Ii(Rt));var gn=Ce?Ce.evaluate(Xr,{},ne):void 0,un={id:tr,properties:Rt.properties,type:Rt.type,sourceLayerIndex:fr,index:pr,geometry:Xr.geometry,patterns:{},sortKey:gn};we.push(un)}}Ce&&we.sort(function(ya,Ma){return ya.sortKey-Ma.sortKey});for(var In=0,Sn=we;In<Sn.length;In+=1){var Dn=Sn[In],Bn=Dn,Kn=Bn.geometry,oa=Bn.index,ia=Bn.sourceLayerIndex,Da=D[oa].feature;this.addFeature(Dn,Kn,oa,ne),H.featureIndex.insert(Da,Kn,oa,ia,this.index)}},Gi.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},Gi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Gi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Gi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,he),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Gi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Gi.prototype.addFeature=function(D,H,ne,ve){for(var we=0,Ce=H;we<Ce.length;we+=1)for(var je=Ce[we],gt=0,Et=je;gt<Et.length;gt+=1){var Rt=Et[gt],tr=Rt.x,pr=Rt.y;if(!(tr<0||tr>=Fa||pr<0||pr>=Fa)){var fr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),Cr=fr.vertexLength;ci(this.layoutVertexArray,tr,pr,-1,-1),ci(this.layoutVertexArray,tr,pr,1,-1),ci(this.layoutVertexArray,tr,pr,1,1),ci(this.layoutVertexArray,tr,pr,-1,1),this.indexArray.emplaceBack(Cr,Cr+1,Cr+2),this.indexArray.emplaceBack(Cr,Cr+3,Cr+2),fr.vertexLength+=4,fr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,{},ve)},le("CircleBucket",Gi,{omit:["layers"]});function $a(R,D){for(var H=0;H<R.length;H++)if(Cs(D,R[H]))return!0;for(var ne=0;ne<D.length;ne++)if(Cs(R,D[ne]))return!0;return!!xl(R,D)}function pi(R,D,H){return!!(Cs(R,D)||Kl(D,R,H))}function po(R,D){if(R.length===1)return Jl(D,R[0]);for(var H=0;H<D.length;H++)for(var ne=D[H],ve=0;ve<ne.length;ve++)if(Cs(R,ne[ve]))return!0;for(var we=0;we<R.length;we++)if(Jl(D,R[we]))return!0;for(var Ce=0;Ce<D.length;Ce++)if(xl(R,D[Ce]))return!0;return!1}function Ro(R,D,H){for(var ne=0;ne<D.length;ne++){var ve=D[ne];if(R.length>=3){for(var we=0;we<ve.length;we++)if(Cs(R,ve[we]))return!0}if(ml(R,ve,H))return!0}return!1}function ml(R,D,H){if(R.length>1){if(xl(R,D))return!0;for(var ne=0;ne<D.length;ne++)if(Kl(D[ne],R,H))return!0}for(var ve=0;ve<R.length;ve++)if(Kl(R[ve],D,H))return!0;return!1}function xl(R,D){if(R.length===0||D.length===0)return!1;for(var H=0;H<R.length-1;H++)for(var ne=R[H],ve=R[H+1],we=0;we<D.length-1;we++){var Ce=D[we],je=D[we+1];if(jl(ne,ve,Ce,je))return!0}return!1}function jl(R,D,H,ne){return I(R,H,ne)!==I(D,H,ne)&&I(R,D,H)!==I(R,D,ne)}function Kl(R,D,H){var ne=H*H;if(D.length===1)return R.distSqr(D[0])<ne;for(var ve=1;ve<D.length;ve++){var we=D[ve-1],Ce=D[ve];if(Su(R,we,Ce)<ne)return!0}return!1}function Su(R,D,H){var ne=D.distSqr(H);if(ne===0)return R.distSqr(D);var ve=((R.x-D.x)*(H.x-D.x)+(R.y-D.y)*(H.y-D.y))/ne;return ve<0?R.distSqr(D):ve>1?R.distSqr(H):R.distSqr(H.sub(D)._mult(ve)._add(D))}function Jl(R,D){for(var H=!1,ne,ve,we,Ce=0;Ce<R.length;Ce++){ne=R[Ce];for(var je=0,gt=ne.length-1;je<ne.length;gt=je++)ve=ne[je],we=ne[gt],ve.y>D.y!=we.y>D.y&&D.x<(we.x-ve.x)*(D.y-ve.y)/(we.y-ve.y)+ve.x&&(H=!H)}return H}function Cs(R,D){for(var H=!1,ne=0,ve=R.length-1;ne<R.length;ve=ne++){var we=R[ne],Ce=R[ve];we.y>D.y!=Ce.y>D.y&&D.x<(Ce.x-we.x)*(D.y-we.y)/(Ce.y-we.y)+we.x&&(H=!H)}return H}function rf(R,D,H,ne,ve){for(var we=0,Ce=R;we<Ce.length;we+=1){var je=Ce[we];if(D<=je.x&&H<=je.y&&ne>=je.x&&ve>=je.y)return!0}var gt=[new t(D,H),new t(D,ve),new t(ne,ve),new t(ne,H)];if(R.length>2)for(var Et=0,Rt=gt;Et<Rt.length;Et+=1){var tr=Rt[Et];if(Cs(R,tr))return!0}for(var pr=0;pr<R.length-1;pr++){var fr=R[pr],Cr=R[pr+1];if(as(fr,Cr,gt))return!0}return!1}function as(R,D,H){var ne=H[0],ve=H[2];if(R.x<ne.x&&D.x<ne.x||R.x>ve.x&&D.x>ve.x||R.y<ne.y&&D.y<ne.y||R.y>ve.y&&D.y>ve.y)return!1;var we=I(R,D,H[0]);return we!==I(R,D,H[1])||we!==I(R,D,H[2])||we!==I(R,D,H[3])}function nl(R,D,H){var ne=D.paint.get(R).value;return ne.kind==="constant"?ne.value:H.programConfigurations.get(D.id).getMaxValue(R)}function Ql(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Ol(R,D,H,ne,ve){if(!D[0]&&!D[1])return R;var we=t.convert(D)._mult(ve);H==="viewport"&&we._rotate(-ne);for(var Ce=[],je=0;je<R.length;je++){var gt=R[je];Ce.push(gt.sub(we))}return Ce}var $l=new Eo({"circle-sort-key":new Ra(ar.layout_circle["circle-sort-key"])}),sh=new Eo({"circle-radius":new Ra(ar.paint_circle["circle-radius"]),"circle-color":new Ra(ar.paint_circle["circle-color"]),"circle-blur":new Ra(ar.paint_circle["circle-blur"]),"circle-opacity":new Ra(ar.paint_circle["circle-opacity"]),"circle-translate":new Aa(ar.paint_circle["circle-translate"]),"circle-translate-anchor":new Aa(ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Aa(ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Aa(ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ra(ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ra(ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ra(ar.paint_circle["circle-stroke-opacity"])}),Rf={paint:sh,layout:$l},$o=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,H=arguments.length;H--;)D+=R[H]*R[H];return Math.sqrt(D)});function zc(){var R=new $o(4);return $o!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function fs(R,D,H){var ne=D[0],ve=D[1],we=D[2],Ce=D[3],je=Math.sin(H),gt=Math.cos(H);return R[0]=ne*gt+we*je,R[1]=ve*gt+Ce*je,R[2]=ne*-je+we*gt,R[3]=ve*-je+Ce*gt,R}function Oc(){var R=new $o(9);return $o!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function lh(R,D){var H=Math.sin(D),ne=Math.cos(D);return R[0]=ne,R[1]=H,R[2]=0,R[3]=-H,R[4]=ne,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function uh(){var R=new $o(16);return $o!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function ld(R){var D=new $o(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function fh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function oc(R,D){var H=D[0],ne=D[1],ve=D[2],we=D[3],Ce=D[4],je=D[5],gt=D[6],Et=D[7],Rt=D[8],tr=D[9],pr=D[10],fr=D[11],Cr=D[12],Xr=D[13],gn=D[14],un=D[15],In=H*je-ne*Ce,Sn=H*gt-ve*Ce,Dn=H*Et-we*Ce,Bn=ne*gt-ve*je,Kn=ne*Et-we*je,oa=ve*Et-we*gt,ia=Rt*Xr-tr*Cr,Da=Rt*gn-pr*Cr,ya=Rt*un-fr*Cr,Ma=tr*gn-pr*Xr,ja=tr*un-fr*Xr,La=pr*un-fr*gn,Pa=In*La-Sn*ja+Dn*Ma+Bn*ya-Kn*Da+oa*ia;return Pa?(Pa=1/Pa,R[0]=(je*La-gt*ja+Et*Ma)*Pa,R[1]=(ve*ja-ne*La-we*Ma)*Pa,R[2]=(Xr*oa-gn*Kn+un*Bn)*Pa,R[3]=(pr*Kn-tr*oa-fr*Bn)*Pa,R[4]=(gt*ya-Ce*La-Et*Da)*Pa,R[5]=(H*La-ve*ya+we*Da)*Pa,R[6]=(gn*Dn-Cr*oa-un*Sn)*Pa,R[7]=(Rt*oa-pr*Dn+fr*Sn)*Pa,R[8]=(Ce*ja-je*ya+Et*ia)*Pa,R[9]=(ne*ya-H*ja-we*ia)*Pa,R[10]=(Cr*Kn-Xr*Dn+un*In)*Pa,R[11]=(tr*Dn-Rt*Kn-fr*In)*Pa,R[12]=(je*Da-Ce*Ma-gt*ia)*Pa,R[13]=(H*Ma-ne*Da+ve*ia)*Pa,R[14]=(Xr*Sn-Cr*Bn-gn*In)*Pa,R[15]=(Rt*Bn-tr*Sn+pr*In)*Pa,R):null}function sc(R,D,H){var ne=D[0],ve=D[1],we=D[2],Ce=D[3],je=D[4],gt=D[5],Et=D[6],Rt=D[7],tr=D[8],pr=D[9],fr=D[10],Cr=D[11],Xr=D[12],gn=D[13],un=D[14],In=D[15],Sn=H[0],Dn=H[1],Bn=H[2],Kn=H[3];return R[0]=Sn*ne+Dn*je+Bn*tr+Kn*Xr,R[1]=Sn*ve+Dn*gt+Bn*pr+Kn*gn,R[2]=Sn*we+Dn*Et+Bn*fr+Kn*un,R[3]=Sn*Ce+Dn*Rt+Bn*Cr+Kn*In,Sn=H[4],Dn=H[5],Bn=H[6],Kn=H[7],R[4]=Sn*ne+Dn*je+Bn*tr+Kn*Xr,R[5]=Sn*ve+Dn*gt+Bn*pr+Kn*gn,R[6]=Sn*we+Dn*Et+Bn*fr+Kn*un,R[7]=Sn*Ce+Dn*Rt+Bn*Cr+Kn*In,Sn=H[8],Dn=H[9],Bn=H[10],Kn=H[11],R[8]=Sn*ne+Dn*je+Bn*tr+Kn*Xr,R[9]=Sn*ve+Dn*gt+Bn*pr+Kn*gn,R[10]=Sn*we+Dn*Et+Bn*fr+Kn*un,R[11]=Sn*Ce+Dn*Rt+Bn*Cr+Kn*In,Sn=H[12],Dn=H[13],Bn=H[14],Kn=H[15],R[12]=Sn*ne+Dn*je+Bn*tr+Kn*Xr,R[13]=Sn*ve+Dn*gt+Bn*pr+Kn*gn,R[14]=Sn*we+Dn*Et+Bn*fr+Kn*un,R[15]=Sn*Ce+Dn*Rt+Bn*Cr+Kn*In,R}function To(R,D,H){var ne=H[0],ve=H[1],we=H[2],Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un;return D===R?(R[12]=D[0]*ne+D[4]*ve+D[8]*we+D[12],R[13]=D[1]*ne+D[5]*ve+D[9]*we+D[13],R[14]=D[2]*ne+D[6]*ve+D[10]*we+D[14],R[15]=D[3]*ne+D[7]*ve+D[11]*we+D[15]):(Ce=D[0],je=D[1],gt=D[2],Et=D[3],Rt=D[4],tr=D[5],pr=D[6],fr=D[7],Cr=D[8],Xr=D[9],gn=D[10],un=D[11],R[0]=Ce,R[1]=je,R[2]=gt,R[3]=Et,R[4]=Rt,R[5]=tr,R[6]=pr,R[7]=fr,R[8]=Cr,R[9]=Xr,R[10]=gn,R[11]=un,R[12]=Ce*ne+Rt*ve+Cr*we+D[12],R[13]=je*ne+tr*ve+Xr*we+D[13],R[14]=gt*ne+pr*ve+gn*we+D[14],R[15]=Et*ne+fr*ve+un*we+D[15]),R}function Vs(R,D,H){var ne=H[0],ve=H[1],we=H[2];return R[0]=D[0]*ne,R[1]=D[1]*ne,R[2]=D[2]*ne,R[3]=D[3]*ne,R[4]=D[4]*ve,R[5]=D[5]*ve,R[6]=D[6]*ve,R[7]=D[7]*ve,R[8]=D[8]*we,R[9]=D[9]*we,R[10]=D[10]*we,R[11]=D[11]*we,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function Gs(R,D,H){var ne=Math.sin(H),ve=Math.cos(H),we=D[4],Ce=D[5],je=D[6],gt=D[7],Et=D[8],Rt=D[9],tr=D[10],pr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=we*ve+Et*ne,R[5]=Ce*ve+Rt*ne,R[6]=je*ve+tr*ne,R[7]=gt*ve+pr*ne,R[8]=Et*ve-we*ne,R[9]=Rt*ve-Ce*ne,R[10]=tr*ve-je*ne,R[11]=pr*ve-gt*ne,R}function ch(R,D,H){var ne=Math.sin(H),ve=Math.cos(H),we=D[0],Ce=D[1],je=D[2],gt=D[3],Et=D[4],Rt=D[5],tr=D[6],pr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=we*ve+Et*ne,R[1]=Ce*ve+Rt*ne,R[2]=je*ve+tr*ne,R[3]=gt*ve+pr*ne,R[4]=Et*ve-we*ne,R[5]=Rt*ve-Ce*ne,R[6]=tr*ve-je*ne,R[7]=pr*ve-gt*ne,R}function av(R,D,H,ne,ve){var we=1/Math.tan(D/2),Ce;return R[0]=we/H,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=we,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ve!=null&&ve!==1/0?(Ce=1/(ne-ve),R[10]=(ve+ne)*Ce,R[14]=2*ve*ne*Ce):(R[10]=-1,R[14]=-2*ne),R}function Op(R,D,H,ne,ve,we,Ce){var je=1/(D-H),gt=1/(ne-ve),Et=1/(we-Ce);return R[0]=-2*je,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*gt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Et,R[11]=0,R[12]=(D+H)*je,R[13]=(ve+ne)*gt,R[14]=(Ce+we)*Et,R[15]=1,R}var Bp=sc;function Bc(){var R=new $o(3);return $o!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function Np(R){var D=new $o(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function hh(R,D,H){return R[0]=D[0]+H[0],R[1]=D[1]+H[1],R[2]=D[2]+H[2],R}function Up(R,D,H){return R[0]=D[0]-H[0],R[1]=D[1]-H[1],R[2]=D[2]-H[2],R}function Hp(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R}function iv(R,D){var H=D[0],ne=D[1],ve=D[2],we=H*H+ne*ne+ve*ve;return we>0&&(we=1/Math.sqrt(we)),R[0]=D[0]*we,R[1]=D[1]*we,R[2]=D[2]*we,R}function B2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function N2(R,D,H){var ne=D[0],ve=D[1],we=D[2],Ce=H[0],je=H[1],gt=H[2];return R[0]=ve*gt-we*je,R[1]=we*Ce-ne*gt,R[2]=ne*je-ve*Ce,R}function U2(R,D,H){var ne=D[0],ve=D[1],we=D[2];return R[0]=ne*H[0]+ve*H[3]+we*H[6],R[1]=ne*H[1]+ve*H[4]+we*H[7],R[2]=ne*H[2]+ve*H[5]+we*H[8],R}var H2=Up;(function(){var R=Bc();return function(D,H,ne,ve,we,Ce){var je,gt;for(H||(H=3),ne||(ne=0),ve?gt=Math.min(ve*H+ne,D.length):gt=D.length,je=ne;je<gt;je+=H)R[0]=D[je],R[1]=D[je+1],R[2]=D[je+2],we(R,R,Ce),D[je]=R[0],D[je+1]=R[1],D[je+2]=R[2];return D}})();function V2(){var R=new $o(4);return $o!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function G2(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R[3]=D[3]*H,R}function W2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function ud(R,D,H){var ne=D[0],ve=D[1],we=D[2],Ce=D[3];return R[0]=H[0]*ne+H[4]*ve+H[8]*we+H[12]*Ce,R[1]=H[1]*ne+H[5]*ve+H[9]*we+H[13]*Ce,R[2]=H[2]*ne+H[6]*ve+H[10]*we+H[14]*Ce,R[3]=H[3]*ne+H[7]*ve+H[11]*we+H[15]*Ce,R}(function(){var R=V2();return function(D,H,ne,ve,we,Ce){var je,gt;for(H||(H=4),ne||(ne=0),ve?gt=Math.min(ve*H+ne,D.length):gt=D.length,je=ne;je<gt;je+=H)R[0]=D[je],R[1]=D[je+1],R[2]=D[je+2],R[3]=D[je+3],we(R,R,Ce),D[je]=R[0],D[je+1]=R[1],D[je+2]=R[2],D[je+3]=R[3];return D}})();function Y2(){var R=new $o(2);return $o!=Float32Array&&(R[0]=0,R[1]=0),R}function Z2(R){var D=R[0],H=R[1];return D*D+H*H}var X2=Z2;(function(){var R=Y2();return function(D,H,ne,ve,we,Ce){var je,gt;for(H||(H=2),ne||(ne=0),ve?gt=Math.min(ve*H+ne,D.length):gt=D.length,je=ne;je<gt;je+=H)R[0]=D[je],R[1]=D[je+1],we(R,R,Ce),D[je]=R[0],D[je+1]=R[1];return D}})();var j2=function(R){function D(H){R.call(this,H,Rf)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Gi(ne)},D.prototype.queryRadius=function(ne){var ve=ne;return nl("circle-radius",this,ve)+nl("circle-stroke-width",this,ve)+Ql(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,we,Ce,je,gt,Et,Rt){for(var tr=Ol(ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),gt.angle,Et),pr=this.paint.get("circle-radius").evaluate(ve,we),fr=this.paint.get("circle-stroke-width").evaluate(ve,we),Cr=pr+fr,Xr=this.paint.get("circle-pitch-alignment")==="map",gn=Xr?tr:K2(tr,Rt),un=Xr?Cr*Et:Cr,In=0,Sn=Ce;In<Sn.length;In+=1)for(var Dn=Sn[In],Bn=0,Kn=Dn;Bn<Kn.length;Bn+=1){var oa=Kn[Bn],ia=Xr?oa:jg(oa,Rt),Da=un,ya=ud([],[oa.x,oa.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Da*=ya[3]/gt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Da*=gt.cameraToCenterDistance/ya[3]),pi(gn,ia,Da))return!0}return!1},D}(Ki);function jg(R,D){var H=ud([],[R.x,R.y,0,1],D);return new t(H[0]/H[3],H[1]/H[3])}function K2(R,D){return R.map(function(H){return jg(H,D)})}var Kg=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Gi);le("HeatmapBucket",Kg,{omit:["layers"]});function Vp(R,D,H,ne){var ve=D.width,we=D.height;if(!ne)ne=new Uint8Array(ve*we*H);else if(ne instanceof Uint8ClampedArray)ne=new Uint8Array(ne.buffer);else if(ne.length!==ve*we*H)throw new RangeError("mismatched image size");return R.width=ve,R.height=we,R.data=ne,R}function Jg(R,D,H){var ne=D.width,ve=D.height;if(!(ne===R.width&&ve===R.height)){var we=Vp({},{width:ne,height:ve},H);Gp(R,we,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ne),height:Math.min(R.height,ve)},H),R.width=ne,R.height=ve,R.data=we.data}}function Gp(R,D,H,ne,ve,we){if(ve.width===0||ve.height===0)return D;if(ve.width>R.width||ve.height>R.height||H.x>R.width-ve.width||H.y>R.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>D.width||ve.height>D.height||ne.x>D.width-ve.width||ne.y>D.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ce=R.data,je=D.data,gt=0;gt<ve.height;gt++)for(var Et=((H.y+gt)*R.width+H.x)*we,Rt=((ne.y+gt)*D.width+ne.x)*we,tr=0;tr<ve.width*we;tr++)je[Rt+tr]=Ce[Et+tr];return D}var Nc=function(D,H){Vp(this,D,1,H)};Nc.prototype.resize=function(D){Jg(this,D,1)},Nc.prototype.clone=function(){return new Nc({width:this.width,height:this.height},new Uint8Array(this.data))},Nc.copy=function(D,H,ne,ve,we){Gp(D,H,ne,ve,we,1)};var Ws=function(D,H){Vp(this,D,4,H)};Ws.prototype.resize=function(D){Jg(this,D,4)},Ws.prototype.replace=function(D,H){H?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Ws.prototype.clone=function(){return new Ws({width:this.width,height:this.height},new Uint8Array(this.data))},Ws.copy=function(D,H,ne,ve,we){Gp(D,H,ne,ve,we,4)},le("AlphaImage",Nc),le("RGBAImage",Ws);var J2=new Eo({"heatmap-radius":new Ra(ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ra(ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Aa(ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ns(ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Aa(ar.paint_heatmap["heatmap-opacity"])}),Q2={paint:J2};function Qg(R,D){for(var H=new Uint8Array(1024),ne={},ve=0,we=0;ve<256;ve++,we+=4){ne[D]=ve/255;var Ce=R.evaluate(ne);H[we+0]=Math.floor(Ce.r*255/Ce.a),H[we+1]=Math.floor(Ce.g*255/Ce.a),H[we+2]=Math.floor(Ce.b*255/Ce.a),H[we+3]=Math.floor(Ce.a*255)}return new Ws({width:256,height:1},H)}var $2=function(R){function D(H){R.call(this,H,Q2),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Kg(ne)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ne=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Qg(ne,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Ki),q2=new Eo({"hillshade-illumination-direction":new Aa(ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Aa(ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Aa(ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Aa(ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Aa(ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Aa(ar.paint_hillshade["hillshade-accent-color"])}),eb={paint:q2},tb=function(R){function D(H){R.call(this,H,eb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Ki),rb=Vi([{name:"a_pos",components:2,type:"Int16"}],4),$g=rb.members,Wp=fd,nb=fd;function fd(R,D,H){H=H||2;var ne=D&&D.length,ve=ne?D[0]*H:R.length,we=qg(R,0,ve,H,!0),Ce=[];if(!we||we.next===we.prev)return Ce;var je,gt,Et,Rt,tr,pr,fr;if(ne&&(we=lb(R,D,we,H)),R.length>80*H){je=Et=R[0],gt=Rt=R[1];for(var Cr=H;Cr<ve;Cr+=H)tr=R[Cr],pr=R[Cr+1],tr<je&&(je=tr),pr<gt&&(gt=pr),tr>Et&&(Et=tr),pr>Rt&&(Rt=pr);fr=Math.max(Et-je,Rt-gt),fr=fr!==0?1/fr:0}return ov(we,Ce,H,je,gt,fr),Ce}function qg(R,D,H,ne,ve){var we,Ce;if(ve===Xp(R,D,H,ne)>0)for(we=D;we<H;we+=ne)Ce=ry(we,R[we],R[we+1],Ce);else for(we=H-ne;we>=D;we-=ne)Ce=ry(we,R[we],R[we+1],Ce);return Ce&&cd(Ce,Ce.next)&&(lv(Ce),Ce=Ce.next),Ce}function lc(R,D){if(!R)return R;D||(D=R);var H=R,ne;do if(ne=!1,!H.steiner&&(cd(H,H.next)||Do(H.prev,H,H.next)===0)){if(lv(H),H=D=H.prev,H===H.next)break;ne=!0}else H=H.next;while(ne||H!==D);return D}function ov(R,D,H,ne,ve,we,Ce){if(R){!Ce&&we&&vb(R,ne,ve,we);for(var je=R,gt,Et;R.prev!==R.next;){if(gt=R.prev,Et=R.next,we?ib(R,ne,ve,we):ab(R)){D.push(gt.i/H),D.push(R.i/H),D.push(Et.i/H),lv(R),R=Et.next,je=Et.next;continue}if(R=Et,R===je){Ce?Ce===1?(R=ob(lc(R),D,H),ov(R,D,H,ne,ve,we,2)):Ce===2&&sb(R,D,H,ne,ve,we):ov(lc(R),D,H,ne,ve,we,1);break}}}}function ab(R){var D=R.prev,H=R,ne=R.next;if(Do(D,H,ne)>=0)return!1;for(var ve=R.next.next;ve!==R.prev;){if(vh(D.x,D.y,H.x,H.y,ne.x,ne.y,ve.x,ve.y)&&Do(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function ib(R,D,H,ne){var ve=R.prev,we=R,Ce=R.next;if(Do(ve,we,Ce)>=0)return!1;for(var je=ve.x<we.x?ve.x<Ce.x?ve.x:Ce.x:we.x<Ce.x?we.x:Ce.x,gt=ve.y<we.y?ve.y<Ce.y?ve.y:Ce.y:we.y<Ce.y?we.y:Ce.y,Et=ve.x>we.x?ve.x>Ce.x?ve.x:Ce.x:we.x>Ce.x?we.x:Ce.x,Rt=ve.y>we.y?ve.y>Ce.y?ve.y:Ce.y:we.y>Ce.y?we.y:Ce.y,tr=Yp(je,gt,D,H,ne),pr=Yp(Et,Rt,D,H,ne),fr=R.prevZ,Cr=R.nextZ;fr&&fr.z>=tr&&Cr&&Cr.z<=pr;){if(fr!==R.prev&&fr!==R.next&&vh(ve.x,ve.y,we.x,we.y,Ce.x,Ce.y,fr.x,fr.y)&&Do(fr.prev,fr,fr.next)>=0||(fr=fr.prevZ,Cr!==R.prev&&Cr!==R.next&&vh(ve.x,ve.y,we.x,we.y,Ce.x,Ce.y,Cr.x,Cr.y)&&Do(Cr.prev,Cr,Cr.next)>=0))return!1;Cr=Cr.nextZ}for(;fr&&fr.z>=tr;){if(fr!==R.prev&&fr!==R.next&&vh(ve.x,ve.y,we.x,we.y,Ce.x,Ce.y,fr.x,fr.y)&&Do(fr.prev,fr,fr.next)>=0)return!1;fr=fr.prevZ}for(;Cr&&Cr.z<=pr;){if(Cr!==R.prev&&Cr!==R.next&&vh(ve.x,ve.y,we.x,we.y,Ce.x,Ce.y,Cr.x,Cr.y)&&Do(Cr.prev,Cr,Cr.next)>=0)return!1;Cr=Cr.nextZ}return!0}function ob(R,D,H){var ne=R;do{var ve=ne.prev,we=ne.next.next;!cd(ve,we)&&ey(ve,ne,ne.next,we)&&sv(ve,we)&&sv(we,ve)&&(D.push(ve.i/H),D.push(ne.i/H),D.push(we.i/H),lv(ne),lv(ne.next),ne=R=we),ne=ne.next}while(ne!==R);return lc(ne)}function sb(R,D,H,ne,ve,we){var Ce=R;do{for(var je=Ce.next.next;je!==Ce.prev;){if(Ce.i!==je.i&&gb(Ce,je)){var gt=ty(Ce,je);Ce=lc(Ce,Ce.next),gt=lc(gt,gt.next),ov(Ce,D,H,ne,ve,we),ov(gt,D,H,ne,ve,we);return}je=je.next}Ce=Ce.next}while(Ce!==R)}function lb(R,D,H,ne){var ve=[],we,Ce,je,gt,Et;for(we=0,Ce=D.length;we<Ce;we++)je=D[we]*ne,gt=we<Ce-1?D[we+1]*ne:R.length,Et=qg(R,je,gt,ne,!1),Et===Et.next&&(Et.steiner=!0),ve.push(pb(Et));for(ve.sort(ub),we=0;we<ve.length;we++)fb(ve[we],H),H=lc(H,H.next);return H}function ub(R,D){return R.x-D.x}function fb(R,D){if(D=cb(R,D),D){var H=ty(D,R);lc(D,D.next),lc(H,H.next)}}function cb(R,D){var H=D,ne=R.x,ve=R.y,we=-1/0,Ce;do{if(ve<=H.y&&ve>=H.next.y&&H.next.y!==H.y){var je=H.x+(ve-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(je<=ne&&je>we){if(we=je,je===ne){if(ve===H.y)return H;if(ve===H.next.y)return H.next}Ce=H.x<H.next.x?H:H.next}}H=H.next}while(H!==D);if(!Ce)return null;if(ne===we)return Ce;var gt=Ce,Et=Ce.x,Rt=Ce.y,tr=1/0,pr;H=Ce;do ne>=H.x&&H.x>=Et&&ne!==H.x&&vh(ve<Rt?ne:we,ve,Et,Rt,ve<Rt?we:ne,ve,H.x,H.y)&&(pr=Math.abs(ve-H.y)/(ne-H.x),sv(H,R)&&(pr<tr||pr===tr&&(H.x>Ce.x||H.x===Ce.x&&hb(Ce,H)))&&(Ce=H,tr=pr)),H=H.next;while(H!==gt);return Ce}function hb(R,D){return Do(R.prev,R,D.prev)<0&&Do(D.next,R,R.next)<0}function vb(R,D,H,ne){var ve=R;do ve.z===null&&(ve.z=Yp(ve.x,ve.y,D,H,ne)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==R);ve.prevZ.nextZ=null,ve.prevZ=null,db(ve)}function db(R){var D,H,ne,ve,we,Ce,je,gt,Et=1;do{for(H=R,R=null,we=null,Ce=0;H;){for(Ce++,ne=H,je=0,D=0;D<Et&&(je++,ne=ne.nextZ,!!ne);D++);for(gt=Et;je>0||gt>0&&ne;)je!==0&&(gt===0||!ne||H.z<=ne.z)?(ve=H,H=H.nextZ,je--):(ve=ne,ne=ne.nextZ,gt--),we?we.nextZ=ve:R=ve,ve.prevZ=we,we=ve;H=ne}we.nextZ=null,Et*=2}while(Ce>1);return R}function Yp(R,D,H,ne,ve){return R=32767*(R-H)*ve,D=32767*(D-ne)*ve,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function pb(R){var D=R,H=R;do(D.x<H.x||D.x===H.x&&D.y<H.y)&&(H=D),D=D.next;while(D!==R);return H}function vh(R,D,H,ne,ve,we,Ce,je){return(ve-Ce)*(D-je)-(R-Ce)*(we-je)>=0&&(R-Ce)*(ne-je)-(H-Ce)*(D-je)>=0&&(H-Ce)*(we-je)-(ve-Ce)*(ne-je)>=0}function gb(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!yb(R,D)&&(sv(R,D)&&sv(D,R)&&mb(R,D)&&(Do(R.prev,R,D.prev)||Do(R,D.prev,D))||cd(R,D)&&Do(R.prev,R,R.next)>0&&Do(D.prev,D,D.next)>0)}function Do(R,D,H){return(D.y-R.y)*(H.x-D.x)-(D.x-R.x)*(H.y-D.y)}function cd(R,D){return R.x===D.x&&R.y===D.y}function ey(R,D,H,ne){var ve=vd(Do(R,D,H)),we=vd(Do(R,D,ne)),Ce=vd(Do(H,ne,R)),je=vd(Do(H,ne,D));return!!(ve!==we&&Ce!==je||ve===0&&hd(R,H,D)||we===0&&hd(R,ne,D)||Ce===0&&hd(H,R,ne)||je===0&&hd(H,D,ne))}function hd(R,D,H){return D.x<=Math.max(R.x,H.x)&&D.x>=Math.min(R.x,H.x)&&D.y<=Math.max(R.y,H.y)&&D.y>=Math.min(R.y,H.y)}function vd(R){return R>0?1:R<0?-1:0}function yb(R,D){var H=R;do{if(H.i!==R.i&&H.next.i!==R.i&&H.i!==D.i&&H.next.i!==D.i&&ey(H,H.next,R,D))return!0;H=H.next}while(H!==R);return!1}function sv(R,D){return Do(R.prev,R,R.next)<0?Do(R,D,R.next)>=0&&Do(R,R.prev,D)>=0:Do(R,D,R.prev)<0||Do(R,R.next,D)<0}function mb(R,D){var H=R,ne=!1,ve=(R.x+D.x)/2,we=(R.y+D.y)/2;do H.y>we!=H.next.y>we&&H.next.y!==H.y&&ve<(H.next.x-H.x)*(we-H.y)/(H.next.y-H.y)+H.x&&(ne=!ne),H=H.next;while(H!==R);return ne}function ty(R,D){var H=new Zp(R.i,R.x,R.y),ne=new Zp(D.i,D.x,D.y),ve=R.next,we=D.prev;return R.next=D,D.prev=R,H.next=ve,ve.prev=H,ne.next=H,H.prev=ne,we.next=ne,ne.prev=we,ne}function ry(R,D,H,ne){var ve=new Zp(R,D,H);return ne?(ve.next=ne.next,ve.prev=ne,ne.next.prev=ve,ne.next=ve):(ve.prev=ve,ve.next=ve),ve}function lv(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Zp(R,D,H){this.i=R,this.x=D,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}fd.deviation=function(R,D,H,ne){var ve=D&&D.length,we=ve?D[0]*H:R.length,Ce=Math.abs(Xp(R,0,we,H));if(ve)for(var je=0,gt=D.length;je<gt;je++){var Et=D[je]*H,Rt=je<gt-1?D[je+1]*H:R.length;Ce-=Math.abs(Xp(R,Et,Rt,H))}var tr=0;for(je=0;je<ne.length;je+=3){var pr=ne[je]*H,fr=ne[je+1]*H,Cr=ne[je+2]*H;tr+=Math.abs((R[pr]-R[Cr])*(R[fr+1]-R[pr+1])-(R[pr]-R[fr])*(R[Cr+1]-R[pr+1]))}return Ce===0&&tr===0?0:Math.abs((tr-Ce)/Ce)};function Xp(R,D,H,ne){for(var ve=0,we=D,Ce=H-ne;we<H;we+=ne)ve+=(R[Ce]-R[we])*(R[we+1]+R[Ce+1]),Ce=we;return ve}fd.flatten=function(R){for(var D=R[0][0].length,H={vertices:[],holes:[],dimensions:D},ne=0,ve=0;ve<R.length;ve++){for(var we=0;we<R[ve].length;we++)for(var Ce=0;Ce<D;Ce++)H.vertices.push(R[ve][we][Ce]);ve>0&&(ne+=R[ve-1].length,H.holes.push(ne))}return H},Wp.default=nb;function xb(R,D,H,ne,ve){ny(R,D,H||0,ne||R.length-1,ve||bb)}function ny(R,D,H,ne,ve){for(;ne>H;){if(ne-H>600){var we=ne-H+1,Ce=D-H+1,je=Math.log(we),gt=.5*Math.exp(2*je/3),Et=.5*Math.sqrt(je*gt*(we-gt)/we)*(Ce-we/2<0?-1:1),Rt=Math.max(H,Math.floor(D-Ce*gt/we+Et)),tr=Math.min(ne,Math.floor(D+(we-Ce)*gt/we+Et));ny(R,D,Rt,tr,ve)}var pr=R[D],fr=H,Cr=ne;for(uv(R,H,D),ve(R[ne],pr)>0&&uv(R,H,ne);fr<Cr;){for(uv(R,fr,Cr),fr++,Cr--;ve(R[fr],pr)<0;)fr++;for(;ve(R[Cr],pr)>0;)Cr--}ve(R[H],pr)===0?uv(R,H,Cr):(Cr++,uv(R,Cr,ne)),Cr<=D&&(H=Cr+1),D<=Cr&&(ne=Cr-1)}}function uv(R,D,H){var ne=R[D];R[D]=R[H],R[H]=ne}function bb(R,D){return R<D?-1:R>D?1:0}function jp(R,D){var H=R.length;if(H<=1)return[R];for(var ne=[],ve,we,Ce=0;Ce<H;Ce++){var je=O(R[Ce]);je!==0&&(R[Ce].area=Math.abs(je),we===void 0&&(we=je<0),we===je<0?(ve&&ne.push(ve),ve=[R[Ce]]):ve.push(R[Ce]))}if(ve&&ne.push(ve),D>1)for(var gt=0;gt<ne.length;gt++)ne[gt].length<=D||(xb(ne[gt],D,1,ne[gt].length-1,wb),ne[gt]=ne[gt].slice(0,D));return ne}function wb(R,D){return D.area-R.area}function Kp(R,D,H){for(var ne=H.patternDependencies,ve=!1,we=0,Ce=D;we<Ce.length;we+=1){var je=Ce[we],gt=je.paint.get(R+"-pattern");gt.isConstant()||(ve=!0);var Et=gt.constantOr(null);Et&&(ve=!0,ne[Et.to]=!0,ne[Et.from]=!0)}return ve}function Jp(R,D,H,ne,ve){for(var we=ve.patternDependencies,Ce=0,je=D;Ce<je.length;Ce+=1){var gt=je[Ce],Et=gt.paint.get(R+"-pattern"),Rt=Et.value;if(Rt.kind!=="constant"){var tr=Rt.evaluate({zoom:ne-1},H,{},ve.availableImages),pr=Rt.evaluate({zoom:ne},H,{},ve.availableImages),fr=Rt.evaluate({zoom:ne+1},H,{},ve.availableImages);tr=tr&&tr.name?tr.name:tr,pr=pr&&pr.name?pr.name:pr,fr=fr&&fr.name?fr.name:fr,we[tr]=!0,we[pr]=!0,we[fr]=!0,H.patterns[gt.id]={min:tr,mid:pr,max:fr}}}return H}var Tb=500,Eu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ic,this.indexArray=new Mu,this.indexArray2=new kc,this.programConfigurations=new Qa($g,D.layers,D.zoom),this.segments=new X,this.segments2=new X,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Eu.prototype.populate=function(D,H,ne){this.hasPattern=Kp("fill",this.layers,H);for(var ve=this.layers[0].layout.get("fill-sort-key"),we=[],Ce=0,je=D;Ce<je.length;Ce+=1){var gt=je[Ce],Et=gt.feature,Rt=gt.id,tr=gt.index,pr=gt.sourceLayerIndex,fr=this.layers[0]._featureFilter.needGeometry,Cr={type:Et.type,id:Rt,properties:Et.properties,geometry:fr?Ii(Et):[]};if(this.layers[0]._featureFilter.filter(new jn(this.zoom),Cr,ne)){fr||(Cr.geometry=Ii(Et));var Xr=ve?ve.evaluate(Cr,{},ne,H.availableImages):void 0,gn={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:pr,index:tr,geometry:Cr.geometry,patterns:{},sortKey:Xr};we.push(gn)}}ve&&we.sort(function(ya,Ma){return ya.sortKey-Ma.sortKey});for(var un=0,In=we;un<In.length;un+=1){var Sn=In[un],Dn=Sn,Bn=Dn.geometry,Kn=Dn.index,oa=Dn.sourceLayerIndex;if(this.hasPattern){var ia=Jp("fill",this.layers,Sn,this.zoom,H);this.patternFeatures.push(ia)}else this.addFeature(Sn,Bn,Kn,ne,{});var Da=D[Kn].feature;H.featureIndex.insert(Da,Bn,Kn,oa,this.index)}},Eu.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},Eu.prototype.addFeatures=function(D,H,ne){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ce=we[ve];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},Eu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Eu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Eu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,$g),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Eu.prototype.addFeature=function(D,H,ne,ve,we){for(var Ce=0,je=jp(H,Tb);Ce<je.length;Ce+=1){for(var gt=je[Ce],Et=0,Rt=0,tr=gt;Rt<tr.length;Rt+=1){var pr=tr[Rt];Et+=pr.length}for(var fr=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray),Cr=fr.vertexLength,Xr=[],gn=[],un=0,In=gt;un<In.length;un+=1){var Sn=In[un];if(Sn.length!==0){Sn!==gt[0]&&gn.push(Xr.length/2);var Dn=this.segments2.prepareSegment(Sn.length,this.layoutVertexArray,this.indexArray2),Bn=Dn.vertexLength;this.layoutVertexArray.emplaceBack(Sn[0].x,Sn[0].y),this.indexArray2.emplaceBack(Bn+Sn.length-1,Bn),Xr.push(Sn[0].x),Xr.push(Sn[0].y);for(var Kn=1;Kn<Sn.length;Kn++)this.layoutVertexArray.emplaceBack(Sn[Kn].x,Sn[Kn].y),this.indexArray2.emplaceBack(Bn+Kn-1,Bn+Kn),Xr.push(Sn[Kn].x),Xr.push(Sn[Kn].y);Dn.vertexLength+=Sn.length,Dn.primitiveLength+=Sn.length}}for(var oa=Wp(Xr,gn),ia=0;ia<oa.length;ia+=3)this.indexArray.emplaceBack(Cr+oa[ia],Cr+oa[ia+1],Cr+oa[ia+2]);fr.vertexLength+=Et,fr.primitiveLength+=oa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,we,ve)},le("FillBucket",Eu,{omit:["layers","patternFeatures"]});var Ab=new Eo({"fill-sort-key":new Ra(ar.layout_fill["fill-sort-key"])}),Mb=new Eo({"fill-antialias":new Aa(ar.paint_fill["fill-antialias"]),"fill-opacity":new Ra(ar.paint_fill["fill-opacity"]),"fill-color":new Ra(ar.paint_fill["fill-color"]),"fill-outline-color":new Ra(ar.paint_fill["fill-outline-color"]),"fill-translate":new Aa(ar.paint_fill["fill-translate"]),"fill-translate-anchor":new Aa(ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hi(ar.paint_fill["fill-pattern"])}),Sb={paint:Mb,layout:Ab},Eb=function(R){function D(H){R.call(this,H,Sb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ne){return new Eu(ne)},D.prototype.queryRadius=function(){return Ql(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,we,Ce,je,gt,Et){var Rt=Ol(ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),gt.angle,Et);return po(Rt,Ce)},D.prototype.isTileClipped=function(){return!0},D}(Ki),Cb=Vi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ay=Cb.members,iy=dh;function dh(R,D,H,ne,ve){this.properties={},this.extent=H,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ne,this._values=ve,R.readFields(Lb,this,D)}function Lb(R,D,H){R==1?D.id=H.readVarint():R==2?Pb(H,D):R==3?D.type=H.readVarint():R==4&&(D._geometry=H.pos)}function Pb(R,D){for(var H=R.readVarint()+R.pos;R.pos<H;){var ne=D._keys[R.readVarint()],ve=D._values[R.readVarint()];D.properties[ne]=ve}}dh.types=["Unknown","Point","LineString","Polygon"],dh.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ne=0,ve=0,we=0,Ce=[],je;R.pos<D;){if(ne<=0){var gt=R.readVarint();H=gt&7,ne=gt>>3}if(ne--,H===1||H===2)ve+=R.readSVarint(),we+=R.readSVarint(),H===1&&(je&&Ce.push(je),je=[]),je.push(new t(ve,we));else if(H===7)je&&je.push(je[0].clone());else throw new Error("unknown command "+H)}return je&&Ce.push(je),Ce},dh.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ne=0,ve=0,we=0,Ce=1/0,je=-1/0,gt=1/0,Et=-1/0;R.pos<D;){if(ne<=0){var Rt=R.readVarint();H=Rt&7,ne=Rt>>3}if(ne--,H===1||H===2)ve+=R.readSVarint(),we+=R.readSVarint(),ve<Ce&&(Ce=ve),ve>je&&(je=ve),we<gt&&(gt=we),we>Et&&(Et=we);else if(H!==7)throw new Error("unknown command "+H)}return[Ce,gt,je,Et]},dh.prototype.toGeoJSON=function(R,D,H){var ne=this.extent*Math.pow(2,H),ve=this.extent*R,we=this.extent*D,Ce=this.loadGeometry(),je=dh.types[this.type],gt,Et;function Rt(fr){for(var Cr=0;Cr<fr.length;Cr++){var Xr=fr[Cr],gn=180-(Xr.y+we)*360/ne;fr[Cr]=[(Xr.x+ve)*360/ne-180,360/Math.PI*Math.atan(Math.exp(gn*Math.PI/180))-90]}}switch(this.type){case 1:var tr=[];for(gt=0;gt<Ce.length;gt++)tr[gt]=Ce[gt][0];Ce=tr,Rt(Ce);break;case 2:for(gt=0;gt<Ce.length;gt++)Rt(Ce[gt]);break;case 3:for(Ce=Rb(Ce),gt=0;gt<Ce.length;gt++)for(Et=0;Et<Ce[gt].length;Et++)Rt(Ce[gt][Et]);break}Ce.length===1?Ce=Ce[0]:je="Multi"+je;var pr={type:"Feature",geometry:{type:je,coordinates:Ce},properties:this.properties};return"id"in this&&(pr.id=this.id),pr};function Rb(R){var D=R.length;if(D<=1)return[R];for(var H=[],ne,ve,we=0;we<D;we++){var Ce=Db(R[we]);Ce!==0&&(ve===void 0&&(ve=Ce<0),ve===Ce<0?(ne&&H.push(ne),ne=[R[we]]):ne.push(R[we]))}return ne&&H.push(ne),H}function Db(R){for(var D=0,H=0,ne=R.length,ve=ne-1,we,Ce;H<ne;ve=H++)we=R[H],Ce=R[ve],D+=(Ce.x-we.x)*(we.y+Ce.y);return D}var oy=sy;function sy(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Ib,this,D),this.length=this._features.length}function Ib(R,D,H){R===15?D.version=H.readVarint():R===1?D.name=H.readString():R===5?D.extent=H.readVarint():R===2?D._features.push(H.pos):R===3?D._keys.push(H.readString()):R===4&&D._values.push(_b(H))}function _b(R){for(var D=null,H=R.readVarint()+R.pos;R.pos<H;){var ne=R.readVarint()>>3;D=ne===1?R.readString():ne===2?R.readFloat():ne===3?R.readDouble():ne===4?R.readVarint64():ne===5?R.readVarint():ne===6?R.readSVarint():ne===7?R.readBoolean():null}return D}sy.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new iy(this._pbf,D,this.extent,this._keys,this._values)};var Fb=kb;function kb(R,D){this.layers=R.readFields(zb,{},D)}function zb(R,D,H){if(R===3){var ne=new oy(H,H.readVarint()+H.pos);ne.length&&(D[ne.name]=ne)}}var Ob=Fb,Bb=iy,Nb=oy,ph={VectorTile:Ob,VectorTileFeature:Bb,VectorTileLayer:Nb},Ub=ph.VectorTileFeature.types,Hb=500,Qp=Math.pow(2,13);function fv(R,D,H,ne,ve,we,Ce,je){R.emplaceBack(D,H,Math.floor(ne*Qp)*2+Ce,ve*Qp*2,we*Qp*2,Math.round(je))}var Cu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new rc,this.indexArray=new Mu,this.programConfigurations=new Qa(ay,D.layers,D.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Cu.prototype.populate=function(D,H,ne){this.features=[],this.hasPattern=Kp("fill-extrusion",this.layers,H);for(var ve=0,we=D;ve<we.length;ve+=1){var Ce=we[ve],je=Ce.feature,gt=Ce.id,Et=Ce.index,Rt=Ce.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,pr={type:je.type,id:gt,properties:je.properties,geometry:tr?Ii(je):[]};if(this.layers[0]._featureFilter.filter(new jn(this.zoom),pr,ne)){var fr={id:gt,sourceLayerIndex:Rt,index:Et,geometry:tr?pr.geometry:Ii(je),properties:je.properties,type:je.type,patterns:{}};typeof je.id<"u"&&(fr.id=je.id),this.hasPattern?this.features.push(Jp("fill-extrusion",this.layers,fr,this.zoom,H)):this.addFeature(fr,fr.geometry,Et,ne,{}),H.featureIndex.insert(je,fr.geometry,Et,Rt,this.index,!0)}}},Cu.prototype.addFeatures=function(D,H,ne){for(var ve=0,we=this.features;ve<we.length;ve+=1){var Ce=we[ve],je=Ce.geometry;this.addFeature(Ce,je,Ce.index,H,ne)}},Cu.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},Cu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Cu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Cu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ay),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Cu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Cu.prototype.addFeature=function(D,H,ne,ve,we){for(var Ce=0,je=jp(H,Hb);Ce<je.length;Ce+=1){for(var gt=je[Ce],Et=0,Rt=0,tr=gt;Rt<tr.length;Rt+=1){var pr=tr[Rt];Et+=pr.length}for(var fr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Cr=0,Xr=gt;Cr<Xr.length;Cr+=1){var gn=Xr[Cr];if(gn.length!==0&&!Gb(gn))for(var un=0,In=0;In<gn.length;In++){var Sn=gn[In];if(In>=1){var Dn=gn[In-1];if(!Vb(Sn,Dn)){fr.vertexLength+4>X.MAX_VERTEX_ARRAY_LENGTH&&(fr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Bn=Sn.sub(Dn)._perp()._unit(),Kn=Dn.dist(Sn);un+Kn>32768&&(un=0),fv(this.layoutVertexArray,Sn.x,Sn.y,Bn.x,Bn.y,0,0,un),fv(this.layoutVertexArray,Sn.x,Sn.y,Bn.x,Bn.y,0,1,un),un+=Kn,fv(this.layoutVertexArray,Dn.x,Dn.y,Bn.x,Bn.y,0,0,un),fv(this.layoutVertexArray,Dn.x,Dn.y,Bn.x,Bn.y,0,1,un);var oa=fr.vertexLength;this.indexArray.emplaceBack(oa,oa+2,oa+1),this.indexArray.emplaceBack(oa+1,oa+2,oa+3),fr.vertexLength+=4,fr.primitiveLength+=2}}}}if(fr.vertexLength+Et>X.MAX_VERTEX_ARRAY_LENGTH&&(fr=this.segments.prepareSegment(Et,this.layoutVertexArray,this.indexArray)),Ub[D.type]==="Polygon"){for(var ia=[],Da=[],ya=fr.vertexLength,Ma=0,ja=gt;Ma<ja.length;Ma+=1){var La=ja[Ma];if(La.length!==0){La!==gt[0]&&Da.push(ia.length/2);for(var Pa=0;Pa<La.length;Pa++){var ti=La[Pa];fv(this.layoutVertexArray,ti.x,ti.y,0,0,1,1,0),ia.push(ti.x),ia.push(ti.y)}}}for(var Va=Wp(ia,Da),mi=0;mi<Va.length;mi+=3)this.indexArray.emplaceBack(ya+Va[mi],ya+Va[mi+2],ya+Va[mi+1]);fr.primitiveLength+=Va.length/3,fr.vertexLength+=Et}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,we,ve)},le("FillExtrusionBucket",Cu,{omit:["layers","features"]});function Vb(R,D){return R.x===D.x&&(R.x<0||R.x>Fa)||R.y===D.y&&(R.y<0||R.y>Fa)}function Gb(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Fa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Fa})}var Wb=new Eo({"fill-extrusion-opacity":new Aa(ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ra(ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Aa(ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Aa(ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hi(ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ra(ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ra(ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Aa(ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),Yb={paint:Wb},Zb=function(R){function D(H){R.call(this,H,Yb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Cu(ne)},D.prototype.queryRadius=function(){return Ql(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ne,ve,we,Ce,je,gt,Et,Rt){var tr=Ol(ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),gt.angle,Et),pr=this.paint.get("fill-extrusion-height").evaluate(ve,we),fr=this.paint.get("fill-extrusion-base").evaluate(ve,we),Cr=Kb(tr,Rt,gt,0),Xr=jb(Ce,fr,pr,Rt),gn=Xr[0],un=Xr[1];return Xb(gn,un,Cr)},D}(Ki);function cv(R,D){return R.x*D.x+R.y*D.y}function ly(R,D){if(R.length===1){for(var H=0,ne=D[H++],ve;!ve||ne.equals(ve);)if(ve=D[H++],!ve)return 1/0;for(;H<D.length;H++){var we=D[H],Ce=R[0],je=ve.sub(ne),gt=we.sub(ne),Et=Ce.sub(ne),Rt=cv(je,je),tr=cv(je,gt),pr=cv(gt,gt),fr=cv(Et,je),Cr=cv(Et,gt),Xr=Rt*pr-tr*tr,gn=(pr*fr-tr*Cr)/Xr,un=(Rt*Cr-tr*fr)/Xr,In=1-gn-un,Sn=ne.z*In+ve.z*gn+we.z*un;if(isFinite(Sn))return Sn}return 1/0}else{for(var Dn=1/0,Bn=0,Kn=D;Bn<Kn.length;Bn+=1){var oa=Kn[Bn];Dn=Math.min(Dn,oa.z)}return Dn}}function Xb(R,D,H){var ne=1/0;po(H,D)&&(ne=ly(H,D[0]));for(var ve=0;ve<D.length;ve++)for(var we=D[ve],Ce=R[ve],je=0;je<we.length-1;je++){var gt=we[je],Et=we[je+1],Rt=Ce[je],tr=Ce[je+1],pr=[gt,Et,tr,Rt,gt];$a(H,pr)&&(ne=Math.min(ne,ly(H,pr)))}return ne===1/0?!1:ne}function jb(R,D,H,ne){for(var ve=[],we=[],Ce=ne[8]*D,je=ne[9]*D,gt=ne[10]*D,Et=ne[11]*D,Rt=ne[8]*H,tr=ne[9]*H,pr=ne[10]*H,fr=ne[11]*H,Cr=0,Xr=R;Cr<Xr.length;Cr+=1){for(var gn=Xr[Cr],un=[],In=[],Sn=0,Dn=gn;Sn<Dn.length;Sn+=1){var Bn=Dn[Sn],Kn=Bn.x,oa=Bn.y,ia=ne[0]*Kn+ne[4]*oa+ne[12],Da=ne[1]*Kn+ne[5]*oa+ne[13],ya=ne[2]*Kn+ne[6]*oa+ne[14],Ma=ne[3]*Kn+ne[7]*oa+ne[15],ja=ia+Ce,La=Da+je,Pa=ya+gt,ti=Ma+Et,Va=ia+Rt,mi=Da+tr,Ni=ya+pr,xi=Ma+fr,bi=new t(ja/ti,La/ti);bi.z=Pa/ti,un.push(bi);var gi=new t(Va/xi,mi/xi);gi.z=Ni/xi,In.push(gi)}ve.push(un),we.push(In)}return[ve,we]}function Kb(R,D,H,ne){for(var ve=[],we=0,Ce=R;we<Ce.length;we+=1){var je=Ce[we],gt=[je.x,je.y,ne,1];ud(gt,gt,D),ve.push(new t(gt[0]/gt[3],gt[1]/gt[3]))}return ve}var Jb=Vi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),uy=Jb.members,Qb=ph.VectorTileFeature.types,fy=63,$b=Math.cos(75/2*(Math.PI/180)),qb=15,e3=20,t3=15,cy=1/2,hy=Math.pow(2,t3-1)/cy,Ys=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ah,this.indexArray=new Mu,this.programConfigurations=new Qa(uy,D.layers,D.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Ys.prototype.populate=function(D,H,ne){this.hasPattern=Kp("line",this.layers,H);for(var ve=this.layers[0].layout.get("line-sort-key"),we=[],Ce=0,je=D;Ce<je.length;Ce+=1){var gt=je[Ce],Et=gt.feature,Rt=gt.id,tr=gt.index,pr=gt.sourceLayerIndex,fr=this.layers[0]._featureFilter.needGeometry,Cr={type:Et.type,id:Rt,properties:Et.properties,geometry:fr?Ii(Et):[]};if(this.layers[0]._featureFilter.filter(new jn(this.zoom),Cr,ne)){fr||(Cr.geometry=Ii(Et));var Xr=ve?ve.evaluate(Cr,{},ne):void 0,gn={id:Rt,properties:Et.properties,type:Et.type,sourceLayerIndex:pr,index:tr,geometry:Cr.geometry,patterns:{},sortKey:Xr};we.push(gn)}}ve&&we.sort(function(ya,Ma){return ya.sortKey-Ma.sortKey});for(var un=0,In=we;un<In.length;un+=1){var Sn=In[un],Dn=Sn,Bn=Dn.geometry,Kn=Dn.index,oa=Dn.sourceLayerIndex;if(this.hasPattern){var ia=Jp("line",this.layers,Sn,this.zoom,H);this.patternFeatures.push(ia)}else this.addFeature(Sn,Bn,Kn,ne,{});var Da=D[Kn].feature;H.featureIndex.insert(Da,Bn,Kn,oa,this.index)}},Ys.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},Ys.prototype.addFeatures=function(D,H,ne){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ce=we[ve];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},Ys.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ys.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ys.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,uy),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ys.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ys.prototype.addFeature=function(D,H,ne,ve,we){for(var Ce=this.layers[0].layout,je=Ce.get("line-join").evaluate(D,{}),gt=Ce.get("line-cap"),Et=Ce.get("line-miter-limit"),Rt=Ce.get("line-round-limit"),tr=0,pr=H;tr<pr.length;tr+=1){var fr=pr[tr];this.addLine(fr,D,je,gt,Et,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,we,ve)},Ys.prototype.addLine=function(D,H,ne,ve,we,Ce){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,H.properties&&H.properties.hasOwnProperty("mapbox_clip_start")&&H.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+H.properties.mapbox_clip_start,this.clipEnd=+H.properties.mapbox_clip_end;for(var je=0;je<D.length-1;je++)this.totalDistance+=D[je].dist(D[je+1]);this.updateScaledDistance()}for(var gt=Qb[H.type]==="Polygon",Et=D.length;Et>=2&&D[Et-1].equals(D[Et-2]);)Et--;for(var Rt=0;Rt<Et-1&&D[Rt].equals(D[Rt+1]);)Rt++;if(!(Et<(gt?3:2))){ne==="bevel"&&(we=1.05);var tr=this.overscaling<=16?qb*Fa/(512*this.overscaling):0,pr=this.segments.prepareSegment(Et*10,this.layoutVertexArray,this.indexArray),fr,Cr=void 0,Xr=void 0,gn=void 0,un=void 0;this.e1=this.e2=-1,gt&&(fr=D[Et-2],un=D[Rt].sub(fr)._unit()._perp());for(var In=Rt;In<Et;In++)if(Xr=In===Et-1?gt?D[Rt+1]:void 0:D[In+1],!(Xr&&D[In].equals(Xr))){un&&(gn=un),fr&&(Cr=fr),fr=D[In],un=Xr?Xr.sub(fr)._unit()._perp():gn,gn=gn||un;var Sn=gn.add(un);(Sn.x!==0||Sn.y!==0)&&Sn._unit();var Dn=gn.x*un.x+gn.y*un.y,Bn=Sn.x*un.x+Sn.y*un.y,Kn=Bn!==0?1/Bn:1/0,oa=2*Math.sqrt(2-2*Bn),ia=Bn<$b&&Cr&&Xr,Da=gn.x*un.y-gn.y*un.x>0;if(ia&&In>Rt){var ya=fr.dist(Cr);if(ya>2*tr){var Ma=fr.sub(fr.sub(Cr)._mult(tr/ya)._round());this.updateDistance(Cr,Ma),this.addCurrentVertex(Ma,gn,0,0,pr),Cr=Ma}}var ja=Cr&&Xr,La=ja?ne:gt?"butt":ve;if(ja&&La==="round"&&(Kn<Ce?La="miter":Kn<=2&&(La="fakeround")),La==="miter"&&Kn>we&&(La="bevel"),La==="bevel"&&(Kn>2&&(La="flipbevel"),Kn<we&&(La="miter")),Cr&&this.updateDistance(Cr,fr),La==="miter")Sn._mult(Kn),this.addCurrentVertex(fr,Sn,0,0,pr);else if(La==="flipbevel"){if(Kn>100)Sn=un.mult(-1);else{var Pa=Kn*gn.add(un).mag()/gn.sub(un).mag();Sn._perp()._mult(Pa*(Da?-1:1))}this.addCurrentVertex(fr,Sn,0,0,pr),this.addCurrentVertex(fr,Sn.mult(-1),0,0,pr)}else if(La==="bevel"||La==="fakeround"){var ti=-Math.sqrt(Kn*Kn-1),Va=Da?ti:0,mi=Da?0:ti;if(Cr&&this.addCurrentVertex(fr,gn,Va,mi,pr),La==="fakeround")for(var Ni=Math.round(oa*180/Math.PI/e3),xi=1;xi<Ni;xi++){var bi=xi/Ni;if(bi!==.5){var gi=bi-.5,ji=1.0904+Dn*(-3.2452+Dn*(3.55645-Dn*1.43519)),Qi=.848013+Dn*(-1.06021+Dn*.215638);bi=bi+bi*gi*(bi-1)*(ji*gi*gi+Qi)}var go=un.sub(gn)._mult(bi)._add(gn)._unit()._mult(Da?-1:1);this.addHalfVertex(fr,go.x,go.y,!1,Da,0,pr)}Xr&&this.addCurrentVertex(fr,un,-Va,-mi,pr)}else if(La==="butt")this.addCurrentVertex(fr,Sn,0,0,pr);else if(La==="square"){var Ao=Cr?1:-1;this.addCurrentVertex(fr,Sn,Ao,Ao,pr)}else La==="round"&&(Cr&&(this.addCurrentVertex(fr,gn,0,0,pr),this.addCurrentVertex(fr,gn,1,1,pr,!0)),Xr&&(this.addCurrentVertex(fr,un,-1,-1,pr,!0),this.addCurrentVertex(fr,un,0,0,pr)));if(ia&&In<Et-1){var Wo=fr.dist(Xr);if(Wo>2*tr){var Fo=fr.add(Xr.sub(fr)._mult(tr/Wo)._round());this.updateDistance(fr,Fo),this.addCurrentVertex(Fo,un,0,0,pr),fr=Fo}}}}},Ys.prototype.addCurrentVertex=function(D,H,ne,ve,we,Ce){Ce===void 0&&(Ce=!1);var je=H.x+H.y*ne,gt=H.y-H.x*ne,Et=-H.x+H.y*ve,Rt=-H.y-H.x*ve;this.addHalfVertex(D,je,gt,Ce,!1,ne,we),this.addHalfVertex(D,Et,Rt,Ce,!0,-ve,we),this.distance>hy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,H,ne,ve,we,Ce))},Ys.prototype.addHalfVertex=function(D,H,ne,ve,we,Ce,je){var gt=D.x,Et=D.y,Rt=this.scaledDistance*cy;this.layoutVertexArray.emplaceBack((gt<<1)+(ve?1:0),(Et<<1)+(we?1:0),Math.round(fy*H)+128,Math.round(fy*ne)+128,(Ce===0?0:Ce<0?-1:1)+1|(Rt&63)<<2,Rt>>6);var tr=je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,tr),je.primitiveLength++),we?this.e2=tr:this.e1=tr},Ys.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(hy-1):this.distance},Ys.prototype.updateDistance=function(D,H){this.distance+=D.dist(H),this.updateScaledDistance()},le("LineBucket",Ys,{omit:["layers","patternFeatures"]});var r3=new Eo({"line-cap":new Aa(ar.layout_line["line-cap"]),"line-join":new Ra(ar.layout_line["line-join"]),"line-miter-limit":new Aa(ar.layout_line["line-miter-limit"]),"line-round-limit":new Aa(ar.layout_line["line-round-limit"]),"line-sort-key":new Ra(ar.layout_line["line-sort-key"])}),n3=new Eo({"line-opacity":new Ra(ar.paint_line["line-opacity"]),"line-color":new Ra(ar.paint_line["line-color"]),"line-translate":new Aa(ar.paint_line["line-translate"]),"line-translate-anchor":new Aa(ar.paint_line["line-translate-anchor"]),"line-width":new Ra(ar.paint_line["line-width"]),"line-gap-width":new Ra(ar.paint_line["line-gap-width"]),"line-offset":new Ra(ar.paint_line["line-offset"]),"line-blur":new Ra(ar.paint_line["line-blur"]),"line-dasharray":new fo(ar.paint_line["line-dasharray"]),"line-pattern":new Hi(ar.paint_line["line-pattern"]),"line-gradient":new ns(ar.paint_line["line-gradient"])}),vy={paint:n3,layout:r3},a3=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve){return ve=new jn(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),R.prototype.possiblyEvaluate.call(this,ne,ve)},D.prototype.evaluate=function(ne,ve,we,Ce){return ve=s({},ve,{zoom:Math.floor(ve.zoom)}),R.prototype.evaluate.call(this,ne,ve,we,Ce)},D}(Ra),dy=new a3(vy.paint.properties["line-width"].specification);dy.useIntegerZoom=!0;var i3=function(R){function D(H){R.call(this,H,vy)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ne=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Qg(ne,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve),this.paint._values["line-floorwidth"]=dy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ne)},D.prototype.createBucket=function(ne){return new Ys(ne)},D.prototype.queryRadius=function(ne){var ve=ne,we=py(nl("line-width",this,ve),nl("line-gap-width",this,ve)),Ce=nl("line-offset",this,ve);return we/2+Math.abs(Ce)+Ql(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,we,Ce,je,gt,Et){var Rt=Ol(ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),gt.angle,Et),tr=Et/2*py(this.paint.get("line-width").evaluate(ve,we),this.paint.get("line-gap-width").evaluate(ve,we)),pr=this.paint.get("line-offset").evaluate(ve,we);return pr&&(Ce=o3(Ce,pr*Et)),Ro(Rt,Ce,tr)},D.prototype.isTileClipped=function(){return!0},D}(Ki);function py(R,D){return D>0?D+2*R:R}function o3(R,D){for(var H=[],ne=new t(0,0),ve=0;ve<R.length;ve++){for(var we=R[ve],Ce=[],je=0;je<we.length;je++){var gt=we[je-1],Et=we[je],Rt=we[je+1],tr=je===0?ne:Et.sub(gt)._unit()._perp(),pr=je===we.length-1?ne:Rt.sub(Et)._unit()._perp(),fr=tr._add(pr)._unit(),Cr=fr.x*pr.x+fr.y*pr.y;fr._mult(1/Cr),Ce.push(fr._mult(D)._add(Et))}H.push(Ce)}return H}var $p=Vi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),s3=Vi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Vi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var l3=Vi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Vi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var gy=Vi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),u3=Vi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Vi([{name:"triangle",components:3,type:"Uint16"}]),Vi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Vi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Vi([{type:"Float32",name:"offsetX"}]),Vi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function f3(R,D,H){var ne=D.layout.get("text-transform").evaluate(H,{});return ne==="uppercase"?R=R.toLocaleUpperCase():ne==="lowercase"&&(R=R.toLocaleLowerCase()),yi.applyArabicShaping&&(R=yi.applyArabicShaping(R)),R}function c3(R,D,H){return R.sections.forEach(function(ne){ne.text=f3(ne.text,D,H)}),R}function h3(R){var D={},H={},ne=[],ve=0;function we(un){ne.push(R[un]),ve++}function Ce(un,In,Sn){var Dn=H[un];return delete H[un],H[In]=Dn,ne[Dn].geometry[0].pop(),ne[Dn].geometry[0]=ne[Dn].geometry[0].concat(Sn[0]),Dn}function je(un,In,Sn){var Dn=D[In];return delete D[In],D[un]=Dn,ne[Dn].geometry[0].shift(),ne[Dn].geometry[0]=Sn[0].concat(ne[Dn].geometry[0]),Dn}function gt(un,In,Sn){var Dn=Sn?In[0][In[0].length-1]:In[0][0];return un+":"+Dn.x+":"+Dn.y}for(var Et=0;Et<R.length;Et++){var Rt=R[Et],tr=Rt.geometry,pr=Rt.text?Rt.text.toString():null;if(!pr){we(Et);continue}var fr=gt(pr,tr),Cr=gt(pr,tr,!0);if(fr in H&&Cr in D&&H[fr]!==D[Cr]){var Xr=je(fr,Cr,tr),gn=Ce(fr,Cr,ne[Xr].geometry);delete D[fr],delete H[Cr],H[gt(pr,ne[gn].geometry,!0)]=gn,ne[Xr].geometry=null}else fr in H?Ce(fr,Cr,tr):Cr in D?je(fr,Cr,tr):(we(Et),D[fr]=ve-1,H[Cr]=ve-1)}return ne.filter(function(un){return un.geometry})}var hv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function v3(R){for(var D="",H=0;H<R.length;H++){var ne=R.charCodeAt(H+1)||null,ve=R.charCodeAt(H-1)||null,we=(!ne||!hn(ne)||hv[R[H+1]])&&(!ve||!hn(ve)||hv[R[H-1]]);we&&hv[R[H]]?D+=hv[R[H]]:D+=R[H]}return D}var qo=24,d3=function(R,D,H,ne,ve){var we,Ce,je=ve*8-ne-1,gt=(1<<je)-1,Et=gt>>1,Rt=-7,tr=H?ve-1:0,pr=H?-1:1,fr=R[D+tr];for(tr+=pr,we=fr&(1<<-Rt)-1,fr>>=-Rt,Rt+=je;Rt>0;we=we*256+R[D+tr],tr+=pr,Rt-=8);for(Ce=we&(1<<-Rt)-1,we>>=-Rt,Rt+=ne;Rt>0;Ce=Ce*256+R[D+tr],tr+=pr,Rt-=8);if(we===0)we=1-Et;else{if(we===gt)return Ce?NaN:(fr?-1:1)*(1/0);Ce=Ce+Math.pow(2,ne),we=we-Et}return(fr?-1:1)*Ce*Math.pow(2,we-ne)},p3=function(R,D,H,ne,ve,we){var Ce,je,gt,Et=we*8-ve-1,Rt=(1<<Et)-1,tr=Rt>>1,pr=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,fr=ne?0:we-1,Cr=ne?1:-1,Xr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(je=isNaN(D)?1:0,Ce=Rt):(Ce=Math.floor(Math.log(D)/Math.LN2),D*(gt=Math.pow(2,-Ce))<1&&(Ce--,gt*=2),Ce+tr>=1?D+=pr/gt:D+=pr*Math.pow(2,1-tr),D*gt>=2&&(Ce++,gt/=2),Ce+tr>=Rt?(je=0,Ce=Rt):Ce+tr>=1?(je=(D*gt-1)*Math.pow(2,ve),Ce=Ce+tr):(je=D*Math.pow(2,tr-1)*Math.pow(2,ve),Ce=0));ve>=8;R[H+fr]=je&255,fr+=Cr,je/=256,ve-=8);for(Ce=Ce<<ve|je,Et+=ve;Et>0;R[H+fr]=Ce&255,fr+=Cr,Ce/=256,Et-=8);R[H+fr-Cr]|=Xr*128},dd={read:d3,write:p3},pd=Ji;function Ji(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Ji.Varint=0,Ji.Fixed64=1,Ji.Bytes=2,Ji.Fixed32=5;var qp=(1<<16)*(1<<16),yy=1/qp,g3=12,my=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ji.prototype={destroy:function(){this.buf=null},readFields:function(R,D,H){for(H=H||this.length;this.pos<H;){var ne=this.readVarint(),ve=ne>>3,we=this.pos;this.type=ne&7,R(ve,D,this),this.pos===we&&this.skip(ne)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=gd(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=by(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=gd(this.buf,this.pos)+gd(this.buf,this.pos+4)*qp;return this.pos+=8,R},readSFixed64:function(){var R=gd(this.buf,this.pos)+by(this.buf,this.pos+4)*qp;return this.pos+=8,R},readFloat:function(){var R=dd.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=dd.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,H,ne;return ne=D[this.pos++],H=ne&127,ne<128||(ne=D[this.pos++],H|=(ne&127)<<7,ne<128)||(ne=D[this.pos++],H|=(ne&127)<<14,ne<128)||(ne=D[this.pos++],H|=(ne&127)<<21,ne<128)?H:(ne=D[this.pos],H|=(ne&15)<<28,y3(H,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=g3&&my?D3(this.buf,D,R):R3(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Ji.Bytes)return R.push(this.readVarint(D));var H=Df(this);for(R=R||[];this.pos<H;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Ji.Bytes)return R.push(this.readSVarint());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Ji.Bytes)return R.push(this.readBoolean());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Ji.Bytes)return R.push(this.readFloat());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Ji.Bytes)return R.push(this.readDouble());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Ji.Bytes)return R.push(this.readFixed32());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Ji.Bytes)return R.push(this.readSFixed32());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Ji.Bytes)return R.push(this.readFixed64());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Ji.Bytes)return R.push(this.readSFixed64());var D=Df(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Ji.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ji.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ji.Fixed32)this.pos+=4;else if(D===Ji.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var H=new Uint8Array(D);H.set(this.buf),this.buf=H,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),yh(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),yh(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),yh(this.buf,R&-1,this.pos),yh(this.buf,Math.floor(R*yy),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),yh(this.buf,R&-1,this.pos),yh(this.buf,Math.floor(R*yy),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){m3(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(Boolean(R))},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=I3(this.buf,R,this.pos);var H=this.pos-D;H>=128&&xy(D,H,this),this.pos=D-1,this.writeVarint(H),this.pos+=H},writeFloat:function(R){this.realloc(4),dd.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),dd.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var H=0;H<D;H++)this.buf[this.pos++]=R[H]},writeRawMessage:function(R,D){this.pos++;var H=this.pos;R(D,this);var ne=this.pos-H;ne>=128&&xy(H,ne,this),this.pos=H-1,this.writeVarint(ne),this.pos+=ne},writeMessage:function(R,D,H){this.writeTag(R,Ji.Bytes),this.writeRawMessage(D,H)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,w3,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,T3,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,S3,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,A3,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,M3,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,E3,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,C3,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,L3,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,P3,D)},writeBytesField:function(R,D){this.writeTag(R,Ji.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Ji.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Ji.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Ji.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Ji.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Ji.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Ji.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Ji.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Ji.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Ji.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,Boolean(D))}};function y3(R,D,H){var ne=H.buf,ve,we;if(we=ne[H.pos++],ve=(we&112)>>4,we<128||(we=ne[H.pos++],ve|=(we&127)<<3,we<128)||(we=ne[H.pos++],ve|=(we&127)<<10,we<128)||(we=ne[H.pos++],ve|=(we&127)<<17,we<128)||(we=ne[H.pos++],ve|=(we&127)<<24,we<128)||(we=ne[H.pos++],ve|=(we&1)<<31,we<128))return gh(R,ve,D);throw new Error("Expected varint not more than 10 bytes")}function Df(R){return R.type===Ji.Bytes?R.readVarint()+R.pos:R.pos+1}function gh(R,D,H){return H?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function m3(R,D){var H,ne;if(R>=0?(H=R%4294967296|0,ne=R/4294967296|0):(H=~(-R%4294967296),ne=~(-R/4294967296),H^4294967295?H=H+1|0:(H=0,ne=ne+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),x3(H,ne,D),b3(ne,D)}function x3(R,D,H){H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos]=R&127}function b3(R,D){var H=(R&7)<<4;D.buf[D.pos++]|=H|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function xy(R,D,H){var ne=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));H.realloc(ne);for(var ve=H.pos-1;ve>=R;ve--)H.buf[ve+ne]=H.buf[ve]}function w3(R,D){for(var H=0;H<R.length;H++)D.writeVarint(R[H])}function T3(R,D){for(var H=0;H<R.length;H++)D.writeSVarint(R[H])}function A3(R,D){for(var H=0;H<R.length;H++)D.writeFloat(R[H])}function M3(R,D){for(var H=0;H<R.length;H++)D.writeDouble(R[H])}function S3(R,D){for(var H=0;H<R.length;H++)D.writeBoolean(R[H])}function E3(R,D){for(var H=0;H<R.length;H++)D.writeFixed32(R[H])}function C3(R,D){for(var H=0;H<R.length;H++)D.writeSFixed32(R[H])}function L3(R,D){for(var H=0;H<R.length;H++)D.writeFixed64(R[H])}function P3(R,D){for(var H=0;H<R.length;H++)D.writeSFixed64(R[H])}function gd(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function yh(R,D,H){R[H]=D,R[H+1]=D>>>8,R[H+2]=D>>>16,R[H+3]=D>>>24}function by(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function R3(R,D,H){for(var ne="",ve=D;ve<H;){var we=R[ve],Ce=null,je=we>239?4:we>223?3:we>191?2:1;if(ve+je>H)break;var gt,Et,Rt;je===1?we<128&&(Ce=we):je===2?(gt=R[ve+1],(gt&192)===128&&(Ce=(we&31)<<6|gt&63,Ce<=127&&(Ce=null))):je===3?(gt=R[ve+1],Et=R[ve+2],(gt&192)===128&&(Et&192)===128&&(Ce=(we&15)<<12|(gt&63)<<6|Et&63,(Ce<=2047||Ce>=55296&&Ce<=57343)&&(Ce=null))):je===4&&(gt=R[ve+1],Et=R[ve+2],Rt=R[ve+3],(gt&192)===128&&(Et&192)===128&&(Rt&192)===128&&(Ce=(we&15)<<18|(gt&63)<<12|(Et&63)<<6|Rt&63,(Ce<=65535||Ce>=1114112)&&(Ce=null))),Ce===null?(Ce=65533,je=1):Ce>65535&&(Ce-=65536,ne+=String.fromCharCode(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne+=String.fromCharCode(Ce),ve+=je}return ne}function D3(R,D,H){return my.decode(R.subarray(D,H))}function I3(R,D,H){for(var ne=0,ve,we;ne<D.length;ne++){if(ve=D.charCodeAt(ne),ve>55295&&ve<57344)if(we)if(ve<56320){R[H++]=239,R[H++]=191,R[H++]=189,we=ve;continue}else ve=we-55296<<10|ve-56320|65536,we=null;else{ve>56319||ne+1===D.length?(R[H++]=239,R[H++]=191,R[H++]=189):we=ve;continue}else we&&(R[H++]=239,R[H++]=191,R[H++]=189,we=null);ve<128?R[H++]=ve:(ve<2048?R[H++]=ve>>6|192:(ve<65536?R[H++]=ve>>12|224:(R[H++]=ve>>18|240,R[H++]=ve>>12&63|128),R[H++]=ve>>6&63|128),R[H++]=ve&63|128)}return H}var e0=3;function _3(R,D,H){R===1&&H.readMessage(F3,D)}function F3(R,D,H){if(R===3){var ne=H.readMessage(k3,{}),ve=ne.id,we=ne.bitmap,Ce=ne.width,je=ne.height,gt=ne.left,Et=ne.top,Rt=ne.advance;D.push({id:ve,bitmap:new Nc({width:Ce+2*e0,height:je+2*e0},we),metrics:{width:Ce,height:je,left:gt,top:Et,advance:Rt}})}}function k3(R,D,H){R===1?D.id=H.readVarint():R===2?D.bitmap=H.readBytes():R===3?D.width=H.readVarint():R===4?D.height=H.readVarint():R===5?D.left=H.readSVarint():R===6?D.top=H.readSVarint():R===7&&(D.advance=H.readVarint())}function z3(R){return new pd(R).readFields(_3,[])}var wy=e0;function Ty(R){for(var D=0,H=0,ne=0,ve=R;ne<ve.length;ne+=1){var we=ve[ne];D+=we.w*we.h,H=Math.max(H,we.w)}R.sort(function(gn,un){return un.h-gn.h});for(var Ce=Math.max(Math.ceil(Math.sqrt(D/.95)),H),je=[{x:0,y:0,w:Ce,h:1/0}],gt=0,Et=0,Rt=0,tr=R;Rt<tr.length;Rt+=1)for(var pr=tr[Rt],fr=je.length-1;fr>=0;fr--){var Cr=je[fr];if(!(pr.w>Cr.w||pr.h>Cr.h)){if(pr.x=Cr.x,pr.y=Cr.y,Et=Math.max(Et,pr.y+pr.h),gt=Math.max(gt,pr.x+pr.w),pr.w===Cr.w&&pr.h===Cr.h){var Xr=je.pop();fr<je.length&&(je[fr]=Xr)}else pr.h===Cr.h?(Cr.x+=pr.w,Cr.w-=pr.w):pr.w===Cr.w?(Cr.y+=pr.h,Cr.h-=pr.h):(je.push({x:Cr.x+pr.w,y:Cr.y,w:Cr.w-pr.w,h:pr.h}),Cr.y+=pr.h,Cr.h-=pr.h);break}}return{w:gt,h:Et,fill:D/(gt*Et)||0}}var al=1,yd=function(D,H){var ne=H.pixelRatio,ve=H.version,we=H.stretchX,Ce=H.stretchY,je=H.content;this.paddedRect=D,this.pixelRatio=ne,this.stretchX=we,this.stretchY=Ce,this.content=je,this.version=ve},vv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vv.tl.get=function(){return[this.paddedRect.x+al,this.paddedRect.y+al]},vv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-al,this.paddedRect.y+this.paddedRect.h-al]},vv.tlbr.get=function(){return this.tl.concat(this.br)},vv.displaySize.get=function(){return[(this.paddedRect.w-al*2)/this.pixelRatio,(this.paddedRect.h-al*2)/this.pixelRatio]},Object.defineProperties(yd.prototype,vv);var dv=function(D,H){var ne={},ve={};this.haveRenderCallbacks=[];var we=[];this.addImages(D,ne,we),this.addImages(H,ve,we);var Ce=Ty(we),je=Ce.w,gt=Ce.h,Et=new Ws({width:je||1,height:gt||1});for(var Rt in D){var tr=D[Rt],pr=ne[Rt].paddedRect;Ws.copy(tr.data,Et,{x:0,y:0},{x:pr.x+al,y:pr.y+al},tr.data)}for(var fr in H){var Cr=H[fr],Xr=ve[fr].paddedRect,gn=Xr.x+al,un=Xr.y+al,In=Cr.data.width,Sn=Cr.data.height;Ws.copy(Cr.data,Et,{x:0,y:0},{x:gn,y:un},Cr.data),Ws.copy(Cr.data,Et,{x:0,y:Sn-1},{x:gn,y:un-1},{width:In,height:1}),Ws.copy(Cr.data,Et,{x:0,y:0},{x:gn,y:un+Sn},{width:In,height:1}),Ws.copy(Cr.data,Et,{x:In-1,y:0},{x:gn-1,y:un},{width:1,height:Sn}),Ws.copy(Cr.data,Et,{x:0,y:0},{x:gn+In,y:un},{width:1,height:Sn})}this.image=Et,this.iconPositions=ne,this.patternPositions=ve};dv.prototype.addImages=function(D,H,ne){for(var ve in D){var we=D[ve],Ce={x:0,y:0,w:we.data.width+2*al,h:we.data.height+2*al};ne.push(Ce),H[ve]=new yd(Ce,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},dv.prototype.patchUpdatedImages=function(D,H){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ne in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ne],D.getImage(ne),H),this.patchUpdatedImage(this.patternPositions[ne],D.getImage(ne),H)},dv.prototype.patchUpdatedImage=function(D,H,ne){if(!(!D||!H)&&D.version!==H.version){D.version=H.version;var ve=D.tl,we=ve[0],Ce=ve[1];ne.update(H.data,void 0,{x:we,y:Ce})}},le("ImagePosition",yd),le("ImageAtlas",dv);var bl={horizontal:1,vertical:2,horizontalOnly:3},pv=-17;function O3(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(ne.positionedGlyphs.length!==0)return!1}return!0}var Ay=57344,My=63743,mh=function(){this.scale=1,this.fontStack="",this.imageName=null};mh.forText=function(D,H){var ne=new mh;return ne.scale=D||1,ne.fontStack=H,ne},mh.forImage=function(D){var H=new mh;return H.imageName=D,H};var cs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};cs.fromFeature=function(D,H){for(var ne=new cs,ve=0;ve<D.sections.length;ve++){var we=D.sections[ve];we.image?ne.addImageSection(we):ne.addTextSection(we,H)}return ne},cs.prototype.length=function(){return this.text.length},cs.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},cs.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},cs.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},cs.prototype.verticalizePunctuation=function(){this.text=v3(this.text)},cs.prototype.trim=function(){for(var D=0,H=0;H<this.text.length&&nf[this.text.charCodeAt(H)];H++)D++;for(var ne=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&nf[this.text.charCodeAt(ve)];ve--)ne--;this.text=this.text.substring(D,ne),this.sectionIndex=this.sectionIndex.slice(D,ne)},cs.prototype.substring=function(D,H){var ne=new cs;return ne.text=this.text.substring(D,H),ne.sectionIndex=this.sectionIndex.slice(D,H),ne.sections=this.sections,ne},cs.prototype.toString=function(){return this.text},cs.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(H,ne){return Math.max(H,D.sections[ne].scale)},0)},cs.prototype.addTextSection=function(D,H){this.text+=D.text,this.sections.push(mh.forText(D.scale,D.fontStack||H));for(var ne=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(ne)},cs.prototype.addImageSection=function(D){var H=D.image?D.image.name:"";if(H.length===0){B("Can't add FormattedSection with an empty image.");return}var ne=this.getNextImageSectionCharCode();if(!ne){B("Reached maximum number of images "+(My-Ay+2));return}this.text+=String.fromCharCode(ne),this.sections.push(mh.forImage(H)),this.sectionIndex.push(this.sections.length-1)},cs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=My?null:++this.imageSectionID:(this.imageSectionID=Ay,this.imageSectionID)};function B3(R,D){for(var H=[],ne=R.text,ve=0,we=0,Ce=D;we<Ce.length;we+=1){var je=Ce[we];H.push(R.substring(ve,je)),ve=je}return ve<ne.length&&H.push(R.substring(ve,ne.length)),H}function md(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr){var gn=cs.fromFeature(R,ve);tr===bl.vertical&&gn.verticalizePunctuation();var un,In=yi.processBidirectionalText,Sn=yi.processStyledBidirectionalText;if(In&&gn.sections.length===1){un=[];for(var Dn=In(gn.toString(),t0(gn,Et,we,D,ne,fr,Cr)),Bn=0,Kn=Dn;Bn<Kn.length;Bn+=1){var oa=Kn[Bn],ia=new cs;ia.text=oa,ia.sections=gn.sections;for(var Da=0;Da<oa.length;Da++)ia.sectionIndex.push(0);un.push(ia)}}else if(Sn){un=[];for(var ya=Sn(gn.text,gn.sectionIndex,t0(gn,Et,we,D,ne,fr,Cr)),Ma=0,ja=ya;Ma<ja.length;Ma+=1){var La=ja[Ma],Pa=new cs;Pa.text=La[0],Pa.sectionIndex=La[1],Pa.sections=gn.sections,un.push(Pa)}}else un=B3(gn,t0(gn,Et,we,D,ne,fr,Cr));var ti=[],Va={positionedLines:ti,text:gn.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:tr,iconsInText:!1,verticalizable:!1};return H3(Va,D,H,ne,un,Ce,je,gt,tr,Et,pr,Xr),O3(ti)?!1:Va}var nf={};nf[9]=!0,nf[10]=!0,nf[11]=!0,nf[12]=!0,nf[13]=!0,nf[32]=!0;var il={};il[10]=!0,il[32]=!0,il[38]=!0,il[40]=!0,il[41]=!0,il[43]=!0,il[45]=!0,il[47]=!0,il[173]=!0,il[183]=!0,il[8203]=!0,il[8208]=!0,il[8211]=!0,il[8231]=!0;function Sy(R,D,H,ne,ve,we){if(D.imageName){var gt=ne[D.imageName];return gt?gt.displaySize[0]*D.scale*qo/we+ve:0}else{var Ce=H[D.fontStack],je=Ce&&Ce[R];return je?je.metrics.advance*D.scale+ve:0}}function N3(R,D,H,ne,ve,we){for(var Ce=0,je=0;je<R.length();je++){var gt=R.getSection(je);Ce+=Sy(R.getCharCode(je),gt,ne,ve,D,we)}var Et=Math.max(1,Math.ceil(Ce/H));return Ce/Et}function Ey(R,D,H,ne){var ve=Math.pow(R-D,2);return ne?R<D?ve/2:ve*2:ve+Math.abs(H)*H}function U3(R,D,H){var ne=0;return R===10&&(ne-=1e4),H&&(ne+=150),(R===40||R===65288)&&(ne+=50),(D===41||D===65289)&&(ne+=50),ne}function Cy(R,D,H,ne,ve,we){for(var Ce=null,je=Ey(D,H,ve,we),gt=0,Et=ne;gt<Et.length;gt+=1){var Rt=Et[gt],tr=D-Rt.x,pr=Ey(tr,H,ve,we)+Rt.badness;pr<=je&&(Ce=Rt,je=pr)}return{index:R,x:D,priorBreak:Ce,badness:je}}function Ly(R){return R?Ly(R.priorBreak).concat(R.index):[]}function t0(R,D,H,ne,ve,we,Ce){if(we!=="point")return[];if(!R)return[];for(var je=[],gt=N3(R,D,H,ne,ve,Ce),Et=R.text.indexOf("​")>=0,Rt=0,tr=0;tr<R.length();tr++){var pr=R.getSection(tr),fr=R.getCharCode(tr);if(nf[fr]||(Rt+=Sy(fr,pr,ne,ve,D,Ce)),tr<R.length()-1){var Cr=kr(fr);(il[fr]||Cr||pr.imageName)&&je.push(Cy(tr+1,Rt,gt,je,U3(fr,R.getCharCode(tr+1),Cr&&Et),!1))}}return Ly(Cy(R.length(),Rt,gt,je,0,!0))}function r0(R){var D=.5,H=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":H=1;break;case"top":case"top-right":case"top-left":H=0;break}return{horizontalAlign:D,verticalAlign:H}}function H3(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr){for(var pr=0,fr=pv,Cr=0,Xr=0,gn=je==="right"?1:je==="left"?0:.5,un=0,In=0,Sn=ve;In<Sn.length;In+=1){var Dn=Sn[In];Dn.trim();var Bn=Dn.getMaxScale(),Kn=(Bn-1)*qo,oa={positionedGlyphs:[],lineOffset:0};R.positionedLines[un]=oa;var ia=oa.positionedGlyphs,Da=0;if(!Dn.length()){fr+=we,++un;continue}for(var ya=0;ya<Dn.length();ya++){var Ma=Dn.getSection(ya),ja=Dn.getSectionIndex(ya),La=Dn.getCharCode(ya),Pa=0,ti=null,Va=null,mi=null,Ni=qo,xi=!(gt===bl.horizontal||!Rt&&!Fr(La)||Rt&&(nf[La]||Nr(La)));if(Ma.imageName){var go=ne[Ma.imageName];if(!go)continue;mi=Ma.imageName,R.iconsInText=R.iconsInText||!0,Va=go.paddedRect;var Ao=go.displaySize;Ma.scale=Ma.scale*qo/tr,ti={width:Ao[0],height:Ao[1],left:al,top:-wy,advance:xi?Ao[1]:Ao[0]};var Wo=qo-Ao[1]*Ma.scale;Pa=Kn+Wo,Ni=ti.advance;var Fo=xi?Ao[0]*Ma.scale-qo*Bn:Ao[1]*Ma.scale-qo*Bn;Fo>0&&Fo>Da&&(Da=Fo)}else{var bi=H[Ma.fontStack],gi=bi&&bi[La];if(gi&&gi.rect)Va=gi.rect,ti=gi.metrics;else{var ji=D[Ma.fontStack],Qi=ji&&ji[La];if(!Qi)continue;ti=Qi.metrics}Pa=(Bn-Ma.scale)*qo}xi?(R.verticalizable=!0,ia.push({glyph:La,imageName:mi,x:pr,y:fr+Pa,vertical:xi,scale:Ma.scale,fontStack:Ma.fontStack,sectionIndex:ja,metrics:ti,rect:Va}),pr+=Ni*Ma.scale+Et):(ia.push({glyph:La,imageName:mi,x:pr,y:fr+Pa,vertical:xi,scale:Ma.scale,fontStack:Ma.fontStack,sectionIndex:ja,metrics:ti,rect:Va}),pr+=ti.advance*Ma.scale+Et)}if(ia.length!==0){var hs=pr-Et;Cr=Math.max(hs,Cr),V3(ia,0,ia.length-1,gn,Da)}pr=0;var vs=we*Bn+Da;oa.lineOffset=Math.max(Da,Kn),fr+=vs,Xr=Math.max(vs,Xr),++un}var Yo=fr-pv,Ls=r0(Ce),Ps=Ls.horizontalAlign,Bo=Ls.verticalAlign;G3(R.positionedLines,gn,Ps,Bo,Cr,Xr,we,Yo,ve.length),R.top+=-Bo*Yo,R.bottom=R.top+Yo,R.left+=-Ps*Cr,R.right=R.left+Cr}function V3(R,D,H,ne,ve){if(!(!ne&&!ve))for(var we=R[H],Ce=we.metrics.advance*we.scale,je=(R[H].x+Ce)*ne,gt=D;gt<=H;gt++)R[gt].x-=je,R[gt].y+=ve}function G3(R,D,H,ne,ve,we,Ce,je,gt){var Et=(D-H)*ve,Rt=0;we!==Ce?Rt=-je*ne-pv:Rt=(-ne*gt+.5)*Ce;for(var tr=0,pr=R;tr<pr.length;tr+=1)for(var fr=pr[tr],Cr=0,Xr=fr.positionedGlyphs;Cr<Xr.length;Cr+=1){var gn=Xr[Cr];gn.x+=Et,gn.y+=Rt}}function W3(R,D,H){var ne=r0(H),ve=ne.horizontalAlign,we=ne.verticalAlign,Ce=D[0],je=D[1],gt=Ce-R.displaySize[0]*ve,Et=gt+R.displaySize[0],Rt=je-R.displaySize[1]*we,tr=Rt+R.displaySize[1];return{image:R,top:Rt,bottom:tr,left:gt,right:Et}}function Py(R,D,H,ne,ve,we){var Ce=R.image,je;if(Ce.content){var gt=Ce.content,Et=Ce.pixelRatio||1;je=[gt[0]/Et,gt[1]/Et,Ce.displaySize[0]-gt[2]/Et,Ce.displaySize[1]-gt[3]/Et]}var Rt=D.left*we,tr=D.right*we,pr,fr,Cr,Xr;H==="width"||H==="both"?(Xr=ve[0]+Rt-ne[3],fr=ve[0]+tr+ne[1]):(Xr=ve[0]+(Rt+tr-Ce.displaySize[0])/2,fr=Xr+Ce.displaySize[0]);var gn=D.top*we,un=D.bottom*we;return H==="height"||H==="both"?(pr=ve[1]+gn-ne[0],Cr=ve[1]+un+ne[2]):(pr=ve[1]+(gn+un-Ce.displaySize[1])/2,Cr=pr+Ce.displaySize[1]),{image:Ce,top:pr,right:fr,bottom:Cr,left:Xr,collisionPadding:je}}var xh=function(R){function D(H,ne,ve,we){R.call(this,H,ne),this.angle=ve,we!==void 0&&(this.segment=we)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);le("Anchor",xh);var Lu=128;function n0(R,D){var H=D.expression;if(H.kind==="constant"){var ne=H.evaluate(new jn(R+1));return{kind:"constant",layoutSize:ne}}else{if(H.kind==="source")return{kind:"source"};for(var ve=H.zoomStops,we=H.interpolationType,Ce=0;Ce<ve.length&&ve[Ce]<=R;)Ce++;Ce=Math.max(0,Ce-1);for(var je=Ce;je<ve.length&&ve[je]<R+1;)je++;je=Math.min(ve.length-1,je);var gt=ve[Ce],Et=ve[je];if(H.kind==="composite")return{kind:"composite",minZoom:gt,maxZoom:Et,interpolationType:we};var Rt=H.evaluate(new jn(gt)),tr=H.evaluate(new jn(Et));return{kind:"camera",minZoom:gt,maxZoom:Et,minSize:Rt,maxSize:tr,interpolationType:we}}}function Ry(R,D,H){var ne=D.uSize,ve=D.uSizeT,we=H.lowerSize,Ce=H.upperSize;return R.kind==="source"?we/Lu:R.kind==="composite"?Mr(we/Lu,Ce/Lu,ve):ne}function Dy(R,D){var H=0,ne=0;if(R.kind==="constant")ne=R.layoutSize;else if(R.kind!=="source"){var ve=R.interpolationType,we=R.minZoom,Ce=R.maxZoom,je=ve?n(lo.interpolationFactor(ve,D,we,Ce),0,1):0;R.kind==="camera"?ne=Mr(R.minSize,R.maxSize,je):H=je}return{uSizeT:H,uSize:ne}}var Y3=Object.freeze({__proto__:null,getSizeData:n0,evaluateSizeForFeature:Ry,evaluateSizeForZoom:Dy,SIZE_PACK_FACTOR:Lu});function Iy(R,D,H,ne,ve){if(D.segment===void 0)return!0;for(var we=D,Ce=D.segment+1,je=0;je>-H/2;){if(Ce--,Ce<0)return!1;je-=R[Ce].dist(we),we=R[Ce]}je+=R[Ce].dist(R[Ce+1]),Ce++;for(var gt=[],Et=0;je<H/2;){var Rt=R[Ce-1],tr=R[Ce],pr=R[Ce+1];if(!pr)return!1;var fr=Rt.angleTo(tr)-tr.angleTo(pr);for(fr=Math.abs((fr+3*Math.PI)%(Math.PI*2)-Math.PI),gt.push({distance:je,angleDelta:fr}),Et+=fr;je-gt[0].distance>ne;)Et-=gt.shift().angleDelta;if(Et>ve)return!1;Ce++,je+=tr.dist(pr)}return!0}function _y(R){for(var D=0,H=0;H<R.length-1;H++)D+=R[H].dist(R[H+1]);return D}function Fy(R,D,H){return R?.6*D*H:0}function ky(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function Z3(R,D,H,ne,ve,we){for(var Ce=Fy(H,ve,we),je=ky(H,ne)*we,gt=0,Et=_y(R)/2,Rt=0;Rt<R.length-1;Rt++){var tr=R[Rt],pr=R[Rt+1],fr=tr.dist(pr);if(gt+fr>Et){var Cr=(Et-gt)/fr,Xr=Mr(tr.x,pr.x,Cr),gn=Mr(tr.y,pr.y,Cr),un=new xh(Xr,gn,pr.angleTo(tr),Rt);return un._round(),!Ce||Iy(R,un,je,Ce,D)?un:void 0}gt+=fr}}function X3(R,D,H,ne,ve,we,Ce,je,gt){var Et=Fy(ne,we,Ce),Rt=ky(ne,ve),tr=Rt*Ce,pr=R[0].x===0||R[0].x===gt||R[0].y===0||R[0].y===gt;D-tr<D/4&&(D=tr+D/4);var fr=we*2,Cr=pr?D/2*je%D:(Rt/2+fr)*Ce*je%D;return zy(R,Cr,D,Et,H,tr,pr,!1,gt)}function zy(R,D,H,ne,ve,we,Ce,je,gt){for(var Et=we/2,Rt=_y(R),tr=0,pr=D-H,fr=[],Cr=0;Cr<R.length-1;Cr++){for(var Xr=R[Cr],gn=R[Cr+1],un=Xr.dist(gn),In=gn.angleTo(Xr);pr+H<tr+un;){pr+=H;var Sn=(pr-tr)/un,Dn=Mr(Xr.x,gn.x,Sn),Bn=Mr(Xr.y,gn.y,Sn);if(Dn>=0&&Dn<gt&&Bn>=0&&Bn<gt&&pr-Et>=0&&pr+Et<=Rt){var Kn=new xh(Dn,Bn,In,Cr);Kn._round(),(!ne||Iy(R,Kn,we,ne,ve))&&fr.push(Kn)}}tr+=un}return!je&&!fr.length&&!Ce&&(fr=zy(R,tr/2,H,ne,ve,we,Ce,!0,gt)),fr}function Oy(R,D,H,ne,ve){for(var we=[],Ce=0;Ce<R.length;Ce++)for(var je=R[Ce],gt=void 0,Et=0;Et<je.length-1;Et++){var Rt=je[Et],tr=je[Et+1];Rt.x<D&&tr.x<D||(Rt.x<D?Rt=new t(D,Rt.y+(tr.y-Rt.y)*((D-Rt.x)/(tr.x-Rt.x)))._round():tr.x<D&&(tr=new t(D,Rt.y+(tr.y-Rt.y)*((D-Rt.x)/(tr.x-Rt.x)))._round()),!(Rt.y<H&&tr.y<H)&&(Rt.y<H?Rt=new t(Rt.x+(tr.x-Rt.x)*((H-Rt.y)/(tr.y-Rt.y)),H)._round():tr.y<H&&(tr=new t(Rt.x+(tr.x-Rt.x)*((H-Rt.y)/(tr.y-Rt.y)),H)._round()),!(Rt.x>=ne&&tr.x>=ne)&&(Rt.x>=ne?Rt=new t(ne,Rt.y+(tr.y-Rt.y)*((ne-Rt.x)/(tr.x-Rt.x)))._round():tr.x>=ne&&(tr=new t(ne,Rt.y+(tr.y-Rt.y)*((ne-Rt.x)/(tr.x-Rt.x)))._round()),!(Rt.y>=ve&&tr.y>=ve)&&(Rt.y>=ve?Rt=new t(Rt.x+(tr.x-Rt.x)*((ve-Rt.y)/(tr.y-Rt.y)),ve)._round():tr.y>=ve&&(tr=new t(Rt.x+(tr.x-Rt.x)*((ve-Rt.y)/(tr.y-Rt.y)),ve)._round()),(!gt||!Rt.equals(gt[gt.length-1]))&&(gt=[Rt],we.push(gt)),gt.push(tr)))))}return we}var bh=al;function By(R,D,H,ne){var ve=[],we=R.image,Ce=we.pixelRatio,je=we.paddedRect.w-2*bh,gt=we.paddedRect.h-2*bh,Et=R.right-R.left,Rt=R.bottom-R.top,tr=we.stretchX||[[0,je]],pr=we.stretchY||[[0,gt]],fr=function(bi,gi){return bi+gi[1]-gi[0]},Cr=tr.reduce(fr,0),Xr=pr.reduce(fr,0),gn=je-Cr,un=gt-Xr,In=0,Sn=Cr,Dn=0,Bn=Xr,Kn=0,oa=gn,ia=0,Da=un;if(we.content&&ne){var ya=we.content;In=xd(tr,0,ya[0]),Dn=xd(pr,0,ya[1]),Sn=xd(tr,ya[0],ya[2]),Bn=xd(pr,ya[1],ya[3]),Kn=ya[0]-In,ia=ya[1]-Dn,oa=ya[2]-ya[0]-Sn,Da=ya[3]-ya[1]-Bn}var Ma=function(bi,gi,ji,Qi){var go=bd(bi.stretch-In,Sn,Et,R.left),Ao=wd(bi.fixed-Kn,oa,bi.stretch,Cr),Wo=bd(gi.stretch-Dn,Bn,Rt,R.top),Fo=wd(gi.fixed-ia,Da,gi.stretch,Xr),hs=bd(ji.stretch-In,Sn,Et,R.left),vs=wd(ji.fixed-Kn,oa,ji.stretch,Cr),Yo=bd(Qi.stretch-Dn,Bn,Rt,R.top),Ls=wd(Qi.fixed-ia,Da,Qi.stretch,Xr),Ps=new t(go,Wo),Bo=new t(hs,Wo),Rs=new t(hs,Yo),wl=new t(go,Yo),Ff=new t(Ao/Ce,Fo/Ce),cc=new t(vs/Ce,Ls/Ce),hc=D*Math.PI/180;if(hc){var vc=Math.sin(hc),Lh=Math.cos(hc),ql=[Lh,-vc,vc,Lh];Ps._matMult(ql),Bo._matMult(ql),wl._matMult(ql),Rs._matMult(ql)}var Cd=bi.stretch+bi.fixed,c0=ji.stretch+ji.fixed,Ld=gi.stretch+gi.fixed,h0=Qi.stretch+Qi.fixed,Bl={x:we.paddedRect.x+bh+Cd,y:we.paddedRect.y+bh+Ld,w:c0-Cd,h:h0-Ld},Ph=oa/Ce/Et,Pd=Da/Ce/Rt;return{tl:Ps,tr:Bo,bl:wl,br:Rs,tex:Bl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ff,pixelOffsetBR:cc,minFontScaleX:Ph,minFontScaleY:Pd,isSDF:H}};if(!ne||!we.stretchX&&!we.stretchY)ve.push(Ma({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:je+1},{fixed:0,stretch:gt+1}));else for(var ja=Ny(tr,gn,Cr),La=Ny(pr,un,Xr),Pa=0;Pa<ja.length-1;Pa++)for(var ti=ja[Pa],Va=ja[Pa+1],mi=0;mi<La.length-1;mi++){var Ni=La[mi],xi=La[mi+1];ve.push(Ma(ti,Ni,Va,xi))}return ve}function xd(R,D,H){for(var ne=0,ve=0,we=R;ve<we.length;ve+=1){var Ce=we[ve];ne+=Math.max(D,Math.min(H,Ce[1]))-Math.max(D,Math.min(H,Ce[0]))}return ne}function Ny(R,D,H){for(var ne=[{fixed:-bh,stretch:0}],ve=0,we=R;ve<we.length;ve+=1){var Ce=we[ve],je=Ce[0],gt=Ce[1],Et=ne[ne.length-1];ne.push({fixed:je-Et.stretch,stretch:Et.stretch}),ne.push({fixed:je-Et.stretch,stretch:Et.stretch+(gt-je)})}return ne.push({fixed:D+bh,stretch:H}),ne}function bd(R,D,H,ne){return R/D*H+ne}function wd(R,D,H,ne){return R-D*H/ne}function j3(R,D,H,ne,ve,we,Ce,je){for(var gt=ne.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,Et=[],Rt=0,tr=D.positionedLines;Rt<tr.length;Rt+=1)for(var pr=tr[Rt],fr=0,Cr=pr.positionedGlyphs;fr<Cr.length;fr+=1){var Xr=Cr[fr];if(Xr.rect){var gn=Xr.rect||{},un=1,In=wy+un,Sn=!0,Dn=1,Bn=0,Kn=(ve||je)&&Xr.vertical,oa=Xr.metrics.advance*Xr.scale/2;if(je&&D.verticalizable){var ia=(Xr.scale-1)*qo,Da=(qo-Xr.metrics.width*Xr.scale)/2;Bn=pr.lineOffset/2-(Xr.imageName?-Da:ia)}if(Xr.imageName){var ya=Ce[Xr.imageName];Sn=ya.sdf,Dn=ya.pixelRatio,In=al/Dn}var Ma=ve?[Xr.x+oa,Xr.y]:[0,0],ja=ve?[0,0]:[Xr.x+oa+H[0],Xr.y+H[1]-Bn],La=[0,0];Kn&&(La=ja,ja=[0,0]);var Pa=(Xr.metrics.left-In)*Xr.scale-oa+ja[0],ti=(-Xr.metrics.top-In)*Xr.scale+ja[1],Va=Pa+gn.w*Xr.scale/Dn,mi=ti+gn.h*Xr.scale/Dn,Ni=new t(Pa,ti),xi=new t(Va,ti),bi=new t(Pa,mi),gi=new t(Va,mi);if(Kn){var ji=new t(-oa,oa-pv),Qi=-Math.PI/2,go=qo/2-oa,Ao=Xr.imageName?go:0,Wo=new t(5-pv-go,-Ao),Fo=new(Function.prototype.bind.apply(t,[null].concat(La)));Ni._rotateAround(Qi,ji)._add(Wo)._add(Fo),xi._rotateAround(Qi,ji)._add(Wo)._add(Fo),bi._rotateAround(Qi,ji)._add(Wo)._add(Fo),gi._rotateAround(Qi,ji)._add(Wo)._add(Fo)}if(gt){var hs=Math.sin(gt),vs=Math.cos(gt),Yo=[vs,-hs,hs,vs];Ni._matMult(Yo),xi._matMult(Yo),bi._matMult(Yo),gi._matMult(Yo)}var Ls=new t(0,0),Ps=new t(0,0),Bo=0,Rs=0;Et.push({tl:Ni,tr:xi,bl:bi,br:gi,tex:gn,writingMode:D.writingMode,glyphOffset:Ma,sectionIndex:Xr.sectionIndex,isSDF:Sn,pixelOffsetTL:Ls,pixelOffsetBR:Ps,minFontScaleX:Bo,minFontScaleY:Rs})}}return Et}var Td=function(D,H,ne,ve,we,Ce,je,gt,Et,Rt){if(this.boxStartIndex=D.length,Et){var tr=Ce.top,pr=Ce.bottom,fr=Ce.collisionPadding;fr&&(tr-=fr[1],pr+=fr[3]);var Cr=pr-tr;Cr>0&&(Cr=Math.max(10,Cr),this.circleDiameter=Cr)}else{var Xr=Ce.top*je-gt,gn=Ce.bottom*je+gt,un=Ce.left*je-gt,In=Ce.right*je+gt,Sn=Ce.collisionPadding;if(Sn&&(un-=Sn[0]*je,Xr-=Sn[1]*je,In+=Sn[2]*je,gn+=Sn[3]*je),Rt){var Dn=new t(un,Xr),Bn=new t(In,Xr),Kn=new t(un,gn),oa=new t(In,gn),ia=Rt*Math.PI/180;Dn._rotate(ia),Bn._rotate(ia),Kn._rotate(ia),oa._rotate(ia),un=Math.min(Dn.x,Bn.x,Kn.x,oa.x),In=Math.max(Dn.x,Bn.x,Kn.x,oa.x),Xr=Math.min(Dn.y,Bn.y,Kn.y,oa.y),gn=Math.max(Dn.y,Bn.y,Kn.y,oa.y)}D.emplaceBack(H.x,H.y,un,Xr,In,gn,ne,ve,we)}this.boxEndIndex=D.length},wh=function(D,H){if(D===void 0&&(D=[]),H===void 0&&(H=K3),this.data=D,this.length=this.data.length,this.compare=H,this.length>0)for(var ne=(this.length>>1)-1;ne>=0;ne--)this._down(ne)};wh.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},wh.prototype.pop=function(){if(this.length!==0){var D=this.data[0],H=this.data.pop();return this.length--,this.length>0&&(this.data[0]=H,this._down(0)),D}},wh.prototype.peek=function(){return this.data[0]},wh.prototype._up=function(D){for(var H=this,ne=H.data,ve=H.compare,we=ne[D];D>0;){var Ce=D-1>>1,je=ne[Ce];if(ve(we,je)>=0)break;ne[D]=je,D=Ce}ne[D]=we},wh.prototype._down=function(D){for(var H=this,ne=H.data,ve=H.compare,we=this.length>>1,Ce=ne[D];D<we;){var je=(D<<1)+1,gt=ne[je],Et=je+1;if(Et<this.length&&ve(ne[Et],gt)<0&&(je=Et,gt=ne[Et]),ve(gt,Ce)>=0)break;ne[D]=gt,D=je}ne[D]=Ce};function K3(R,D){return R<D?-1:R>D?1:0}function J3(R,D,H){D===void 0&&(D=1),H===void 0&&(H=!1);for(var ne=1/0,ve=1/0,we=-1/0,Ce=-1/0,je=R[0],gt=0;gt<je.length;gt++){var Et=je[gt];(!gt||Et.x<ne)&&(ne=Et.x),(!gt||Et.y<ve)&&(ve=Et.y),(!gt||Et.x>we)&&(we=Et.x),(!gt||Et.y>Ce)&&(Ce=Et.y)}var Rt=we-ne,tr=Ce-ve,pr=Math.min(Rt,tr),fr=pr/2,Cr=new wh([],Q3);if(pr===0)return new t(ne,ve);for(var Xr=ne;Xr<we;Xr+=pr)for(var gn=ve;gn<Ce;gn+=pr)Cr.push(new Th(Xr+fr,gn+fr,fr,R));for(var un=q3(R),In=Cr.length;Cr.length;){var Sn=Cr.pop();(Sn.d>un.d||!un.d)&&(un=Sn,H&&console.log("found best %d after %d probes",Math.round(1e4*Sn.d)/1e4,In)),!(Sn.max-un.d<=D)&&(fr=Sn.h/2,Cr.push(new Th(Sn.p.x-fr,Sn.p.y-fr,fr,R)),Cr.push(new Th(Sn.p.x+fr,Sn.p.y-fr,fr,R)),Cr.push(new Th(Sn.p.x-fr,Sn.p.y+fr,fr,R)),Cr.push(new Th(Sn.p.x+fr,Sn.p.y+fr,fr,R)),In+=4)}return H&&(console.log("num probes: "+In),console.log("best distance: "+un.d)),un.p}function Q3(R,D){return D.max-R.max}function Th(R,D,H,ne){this.p=new t(R,D),this.h=H,this.d=$3(this.p,ne),this.max=this.d+this.h*Math.SQRT2}function $3(R,D){for(var H=!1,ne=1/0,ve=0;ve<D.length;ve++)for(var we=D[ve],Ce=0,je=we.length,gt=je-1;Ce<je;gt=Ce++){var Et=we[Ce],Rt=we[gt];Et.y>R.y!=Rt.y>R.y&&R.x<(Rt.x-Et.x)*(R.y-Et.y)/(Rt.y-Et.y)+Et.x&&(H=!H),ne=Math.min(ne,Su(R,Et,Rt))}return(H?1:-1)*Math.sqrt(ne)}function q3(R){for(var D=0,H=0,ne=0,ve=R[0],we=0,Ce=ve.length,je=Ce-1;we<Ce;je=we++){var gt=ve[we],Et=ve[je],Rt=gt.x*Et.y-Et.x*gt.y;H+=(gt.x+Et.x)*Rt,ne+=(gt.y+Et.y)*Rt,D+=Rt*3}return new Th(H/D,ne/D,0,R)}var Ah=7,a0=Number.POSITIVE_INFINITY;function Uy(R,D){function H(ve,we){var Ce=0,je=0;we<0&&(we=0);var gt=we/Math.sqrt(2);switch(ve){case"top-right":case"top-left":je=gt-Ah;break;case"bottom-right":case"bottom-left":je=-gt+Ah;break;case"bottom":je=-we+Ah;break;case"top":je=we-Ah;break}switch(ve){case"top-right":case"bottom-right":Ce=-gt;break;case"top-left":case"bottom-left":Ce=gt;break;case"left":Ce=we;break;case"right":Ce=-we;break}return[Ce,je]}function ne(ve,we,Ce){var je=0,gt=0;switch(we=Math.abs(we),Ce=Math.abs(Ce),ve){case"top-right":case"top-left":case"top":gt=Ce-Ah;break;case"bottom-right":case"bottom-left":case"bottom":gt=-Ce+Ah;break}switch(ve){case"top-right":case"bottom-right":case"right":je=-we;break;case"top-left":case"bottom-left":case"left":je=we;break}return[je,gt]}return D[1]!==a0?ne(R,D[0],D[1]):H(R,D[0])}function ew(R,D,H,ne,ve,we,Ce){R.createArrays();var je=512*R.overscaling;R.tilePixelRatio=Fa/je,R.compareText={},R.iconsNeedLinear=!1;var gt=R.layers[0].layout,Et=R.layers[0]._unevaluatedLayout._values,Rt={};if(R.textSizeData.kind==="composite"){var tr=R.textSizeData,pr=tr.minZoom,fr=tr.maxZoom;Rt.compositeTextSizes=[Et["text-size"].possiblyEvaluate(new jn(pr),Ce),Et["text-size"].possiblyEvaluate(new jn(fr),Ce)]}if(R.iconSizeData.kind==="composite"){var Cr=R.iconSizeData,Xr=Cr.minZoom,gn=Cr.maxZoom;Rt.compositeIconSizes=[Et["icon-size"].possiblyEvaluate(new jn(Xr),Ce),Et["icon-size"].possiblyEvaluate(new jn(gn),Ce)]}Rt.layoutTextSize=Et["text-size"].possiblyEvaluate(new jn(R.zoom+1),Ce),Rt.layoutIconSize=Et["icon-size"].possiblyEvaluate(new jn(R.zoom+1),Ce),Rt.textMaxSize=Et["text-size"].possiblyEvaluate(new jn(18));for(var un=gt.get("text-line-height")*qo,In=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",Sn=gt.get("text-keep-upright"),Dn=gt.get("text-size"),Bn=function(){var ia=oa[Kn],Da=gt.get("text-font").evaluate(ia,{},Ce).join(","),ya=Dn.evaluate(ia,{},Ce),Ma=Rt.layoutTextSize.evaluate(ia,{},Ce),ja=Rt.layoutIconSize.evaluate(ia,{},Ce),La={horizontal:{},vertical:void 0},Pa=ia.text,ti=[0,0];if(Pa){var Va=Pa.toString(),mi=gt.get("text-letter-spacing").evaluate(ia,{},Ce)*qo,Ni=cr(Va)?mi:0,xi=gt.get("text-anchor").evaluate(ia,{},Ce),bi=gt.get("text-variable-anchor");if(!bi){var gi=gt.get("text-radial-offset").evaluate(ia,{},Ce);gi?ti=Uy(xi,[gi*qo,a0]):ti=gt.get("text-offset").evaluate(ia,{},Ce).map(function(Ff){return Ff*qo})}var ji=In?"center":gt.get("text-justify").evaluate(ia,{},Ce),Qi=gt.get("symbol-placement"),go=Qi==="point"?gt.get("text-max-width").evaluate(ia,{},Ce)*qo:0,Ao=function(){R.allowVerticalPlacement&&Qt(Va)&&(La.vertical=md(Pa,D,H,ve,Da,go,un,xi,"left",Ni,ti,bl.vertical,!0,Qi,Ma,ya))};if(!In&&bi){for(var Wo=ji==="auto"?bi.map(function(Ff){return i0(Ff)}):[ji],Fo=!1,hs=0;hs<Wo.length;hs++){var vs=Wo[hs];if(!La.horizontal[vs])if(Fo)La.horizontal[vs]=La.horizontal[0];else{var Yo=md(Pa,D,H,ve,Da,go,un,"center",vs,Ni,ti,bl.horizontal,!1,Qi,Ma,ya);Yo&&(La.horizontal[vs]=Yo,Fo=Yo.positionedLines.length===1)}}Ao()}else{ji==="auto"&&(ji=i0(xi));var Ls=md(Pa,D,H,ve,Da,go,un,xi,ji,Ni,ti,bl.horizontal,!1,Qi,Ma,ya);Ls&&(La.horizontal[ji]=Ls),Ao(),Qt(Va)&&In&&Sn&&(La.vertical=md(Pa,D,H,ve,Da,go,un,xi,ji,Ni,ti,bl.vertical,!1,Qi,Ma,ya))}}var Ps=void 0,Bo=!1;if(ia.icon&&ia.icon.name){var Rs=ne[ia.icon.name];Rs&&(Ps=W3(ve[ia.icon.name],gt.get("icon-offset").evaluate(ia,{},Ce),gt.get("icon-anchor").evaluate(ia,{},Ce)),Bo=Rs.sdf,R.sdfIcons===void 0?R.sdfIcons=Rs.sdf:R.sdfIcons!==Rs.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Rs.pixelRatio!==R.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var wl=Vy(La.horizontal)||La.vertical;R.iconsInText=wl?wl.iconsInText:!1,(wl||Ps)&&tw(R,ia,La,Ps,ne,Rt,Ma,ja,ti,Bo,Ce)},Kn=0,oa=R.features;Kn<oa.length;Kn+=1)Bn();we&&R.generateCollisionDebugBuffers()}function i0(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function tw(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt){var tr=we.textMaxSize.evaluate(D,{});tr===void 0&&(tr=Ce);var pr=R.layers[0].layout,fr=pr.get("icon-offset").evaluate(D,{},Rt),Cr=Vy(H.horizontal),Xr=24,gn=Ce/Xr,un=R.tilePixelRatio*gn,In=R.tilePixelRatio*tr/Xr,Sn=R.tilePixelRatio*je,Dn=R.tilePixelRatio*pr.get("symbol-spacing"),Bn=pr.get("text-padding")*R.tilePixelRatio,Kn=pr.get("icon-padding")*R.tilePixelRatio,oa=pr.get("text-max-angle")/180*Math.PI,ia=pr.get("text-rotation-alignment")==="map"&&pr.get("symbol-placement")!=="point",Da=pr.get("icon-rotation-alignment")==="map"&&pr.get("symbol-placement")!=="point",ya=pr.get("symbol-placement"),Ma=Dn/2,ja=pr.get("icon-text-fit"),La;ne&&ja!=="none"&&(R.allowVerticalPlacement&&H.vertical&&(La=Py(ne,H.vertical,ja,pr.get("icon-text-fit-padding"),fr,gn)),Cr&&(ne=Py(ne,Cr,ja,pr.get("icon-text-fit-padding"),fr,gn)));var Pa=function(Lh,ql){ql.x<0||ql.x>=Fa||ql.y<0||ql.y>=Fa||rw(R,ql,Lh,H,ne,ve,La,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,un,Bn,ia,gt,Sn,Kn,Da,fr,D,we,Et,Rt,Ce)};if(ya==="line")for(var ti=0,Va=Oy(D.geometry,0,0,Fa,Fa);ti<Va.length;ti+=1)for(var mi=Va[ti],Ni=X3(mi,Dn,oa,H.vertical||Cr,ne,Xr,In,R.overscaling,Fa),xi=0,bi=Ni;xi<bi.length;xi+=1){var gi=bi[xi],ji=Cr;(!ji||!nw(R,ji.text,Ma,gi))&&Pa(mi,gi)}else if(ya==="line-center")for(var Qi=0,go=D.geometry;Qi<go.length;Qi+=1){var Ao=go[Qi];if(Ao.length>1){var Wo=Z3(Ao,oa,H.vertical||Cr,ne,Xr,In);Wo&&Pa(Ao,Wo)}}else if(D.type==="Polygon")for(var Fo=0,hs=jp(D.geometry,0);Fo<hs.length;Fo+=1){var vs=hs[Fo],Yo=J3(vs,16);Pa(vs[0],new xh(Yo.x,Yo.y,0))}else if(D.type==="LineString")for(var Ls=0,Ps=D.geometry;Ls<Ps.length;Ls+=1){var Bo=Ps[Ls];Pa(Bo,new xh(Bo[0].x,Bo[0].y,0))}else if(D.type==="Point")for(var Rs=0,wl=D.geometry;Rs<wl.length;Rs+=1)for(var Ff=wl[Rs],cc=0,hc=Ff;cc<hc.length;cc+=1){var vc=hc[cc];Pa([vc],new xh(vc.x,vc.y,0))}}var gv=255,uc=gv*Lu;function Hy(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr){var Xr=j3(D,H,je,ve,we,Ce,ne,R.allowVerticalPlacement),gn=R.textSizeData,un=null;gn.kind==="source"?(un=[Lu*ve.layout.get("text-size").evaluate(Ce,{})],un[0]>uc&&B(R.layerIds[0]+': Value for "text-size" is >= '+gv+'. Reduce your "text-size".')):gn.kind==="composite"&&(un=[Lu*fr.compositeTextSizes[0].evaluate(Ce,{},Cr),Lu*fr.compositeTextSizes[1].evaluate(Ce,{},Cr)],(un[0]>uc||un[1]>uc)&&B(R.layerIds[0]+': Value for "text-size" is >= '+gv+'. Reduce your "text-size".')),R.addSymbols(R.text,Xr,un,je,we,Ce,Et,D,gt.lineStartIndex,gt.lineLength,pr,Cr);for(var In=0,Sn=Rt;In<Sn.length;In+=1){var Dn=Sn[In];tr[Dn]=R.text.placedSymbolArray.length-1}return Xr.length*4}function Vy(R){for(var D in R)return R[D];return null}function rw(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr,fr,Cr,Xr,gn,un,In,Sn,Dn,Bn,Kn,oa,ia){var Da,ya=R.addToLineVertexArray(D,H),Ma,ja,La,Pa,ti=0,Va=0,mi=0,Ni=0,xi=-1,bi=-1,gi={},ji=Ye(""),Qi=0,go=0;if(je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Da=je.layout.get("text-offset").evaluate(Dn,{},oa).map(function(xv){return xv*qo}),Qi=Da[0],go=Da[1]):(Qi=je.layout.get("text-radial-offset").evaluate(Dn,{},oa)*qo,go=a0),R.allowVerticalPlacement&&ne.vertical){var Ao=je.layout.get("text-rotate").evaluate(Dn,{},oa),Wo=Ao+90,Fo=ne.vertical;La=new Td(gt,D,Et,Rt,tr,Fo,pr,fr,Cr,Wo),Ce&&(Pa=new Td(gt,D,Et,Rt,tr,Ce,gn,un,Cr,Wo))}if(ve){var hs=je.layout.get("icon-rotate").evaluate(Dn,{}),vs=je.layout.get("icon-text-fit")!=="none",Yo=By(ve,hs,Kn,vs),Ls=Ce?By(Ce,hs,Kn,vs):void 0;ja=new Td(gt,D,Et,Rt,tr,ve,gn,un,!1,hs),ti=Yo.length*4;var Ps=R.iconSizeData,Bo=null;Ps.kind==="source"?(Bo=[Lu*je.layout.get("icon-size").evaluate(Dn,{})],Bo[0]>uc&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gv+'. Reduce your "icon-size".')):Ps.kind==="composite"&&(Bo=[Lu*Bn.compositeIconSizes[0].evaluate(Dn,{},oa),Lu*Bn.compositeIconSizes[1].evaluate(Dn,{},oa)],(Bo[0]>uc||Bo[1]>uc)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gv+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Yo,Bo,Sn,In,Dn,!1,D,ya.lineStartIndex,ya.lineLength,-1,oa),xi=R.icon.placedSymbolArray.length-1,Ls&&(Va=Ls.length*4,R.addSymbols(R.icon,Ls,Bo,Sn,In,Dn,bl.vertical,D,ya.lineStartIndex,ya.lineLength,-1,oa),bi=R.icon.placedSymbolArray.length-1)}for(var Rs in ne.horizontal){var wl=ne.horizontal[Rs];if(!Ma){ji=Ye(wl.text);var Ff=je.layout.get("text-rotate").evaluate(Dn,{},oa);Ma=new Td(gt,D,Et,Rt,tr,wl,pr,fr,Cr,Ff)}var cc=wl.positionedLines.length===1;if(mi+=Hy(R,D,wl,we,je,Cr,Dn,Xr,ya,ne.vertical?bl.horizontal:bl.horizontalOnly,cc?Object.keys(ne.horizontal):[Rs],gi,xi,Bn,oa),cc)break}ne.vertical&&(Ni+=Hy(R,D,ne.vertical,we,je,Cr,Dn,Xr,ya,bl.vertical,["vertical"],gi,bi,Bn,oa));var hc=Ma?Ma.boxStartIndex:R.collisionBoxArray.length,vc=Ma?Ma.boxEndIndex:R.collisionBoxArray.length,Lh=La?La.boxStartIndex:R.collisionBoxArray.length,ql=La?La.boxEndIndex:R.collisionBoxArray.length,Cd=ja?ja.boxStartIndex:R.collisionBoxArray.length,c0=ja?ja.boxEndIndex:R.collisionBoxArray.length,Ld=Pa?Pa.boxStartIndex:R.collisionBoxArray.length,h0=Pa?Pa.boxEndIndex:R.collisionBoxArray.length,Bl=-1,Ph=function(xv,a1){return xv&&xv.circleDiameter?Math.max(xv.circleDiameter,a1):a1};Bl=Ph(Ma,Bl),Bl=Ph(La,Bl),Bl=Ph(ja,Bl),Bl=Ph(Pa,Bl);var Pd=Bl>-1?1:0;Pd&&(Bl*=ia/qo),R.glyphOffsetArray.length>=Bi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Dn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Dn.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,gi.right>=0?gi.right:-1,gi.center>=0?gi.center:-1,gi.left>=0?gi.left:-1,gi.vertical||-1,xi,bi,ji,hc,vc,Lh,ql,Cd,c0,Ld,h0,Et,mi,Ni,ti,Va,Pd,0,pr,Qi,go,Bl)}function nw(R,D,H,ne){var ve=R.compareText;if(!(D in ve))ve[D]=[];else for(var we=ve[D],Ce=we.length-1;Ce>=0;Ce--)if(ne.dist(we[Ce])<H)return!0;return ve[D].push(ne),!1}var aw=ph.VectorTileFeature.types,iw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ad(R,D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr){var fr=je?Math.min(uc,Math.round(je[0])):0,Cr=je?Math.min(uc,Math.round(je[1])):0;R.emplaceBack(D,H,Math.round(ne*32),Math.round(ve*32),we,Ce,(fr<<1)+(gt?1:0),Cr,Et*16,Rt*16,tr*256,pr*256)}function o0(R,D,H){R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H)}function ow(R){for(var D=0,H=R.sections;D<H.length;D+=1){var ne=H[D];if(dn(ne.text))return!0}return!1}var Mh=function(D){this.layoutVertexArray=new $u,this.indexArray=new Mu,this.programConfigurations=D,this.segments=new X,this.dynamicLayoutVertexArray=new $h,this.opacityVertexArray=new qh,this.placedSymbolArray=new ic};Mh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Mh.prototype.upload=function(D,H,ne,ve){this.isEmpty()||(ne&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,$p.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,H),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,s3.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,iw,!0),this.opacityVertexBuffer.itemSize=1),(ne||ve)&&this.programConfigurations.upload(D))},Mh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},le("SymbolBuffers",Mh);var yv=function(D,H,ne){this.layoutVertexArray=new D,this.layoutAttributes=H,this.indexArray=new ne,this.segments=new X,this.collisionVertexArray=new Hs};yv.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,l3.members,!0)},yv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},le("CollisionBuffers",yv);var Bi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(gt){return gt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=fh([]),this.placementViewportMatrix=fh([]);var H=this.layers[0],ne=H._unevaluatedLayout._values;this.textSizeData=n0(this.zoom,ne["text-size"]),this.iconSizeData=n0(this.zoom,ne["icon-size"]);var ve=this.layers[0].layout,we=ve.get("symbol-sort-key"),Ce=ve.get("symbol-z-order");this.sortFeaturesByKey=Ce!=="viewport-y"&&we.constantOr(1)!==void 0;var je=Ce==="viewport-y"||Ce==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=je&&(ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement")),ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(gt){return bl[gt]})),this.stateDependentLayerIds=this.layers.filter(function(gt){return gt.isStateDependent()}).map(function(gt){return gt.id}),this.sourceID=D.sourceID};Bi.prototype.createArrays=function(){this.text=new Mh(new Qa($p.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Mh(new Qa($p.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new zl,this.lineVertexArray=new id,this.symbolInstances=new ad},Bi.prototype.calculateGlyphDependencies=function(D,H,ne,ve,we){for(var Ce=0;Ce<D.length;Ce++)if(H[D.charCodeAt(Ce)]=!0,(ne||ve)&&we){var je=hv[D.charAt(Ce)];je&&(H[je.charCodeAt(0)]=!0)}},Bi.prototype.populate=function(D,H,ne){var ve=this.layers[0],we=ve.layout,Ce=we.get("text-font"),je=we.get("text-field"),gt=we.get("icon-image"),Et=(je.value.kind!=="constant"||je.value.value instanceof Zi&&!je.value.value.isEmpty()||je.value.value.toString().length>0)&&(Ce.value.kind!=="constant"||Ce.value.value.length>0),Rt=gt.value.kind!=="constant"||!!gt.value.value||Object.keys(gt.parameters).length>0,tr=we.get("symbol-sort-key");if(this.features=[],!(!Et&&!Rt)){for(var pr=H.iconDependencies,fr=H.glyphDependencies,Cr=H.availableImages,Xr=new jn(this.zoom),gn=0,un=D;gn<un.length;gn+=1){var In=un[gn],Sn=In.feature,Dn=In.id,Bn=In.index,Kn=In.sourceLayerIndex,oa=ve._featureFilter.needGeometry,ia={type:Sn.type,id:Dn,properties:Sn.properties,geometry:oa?Ii(Sn):[]};if(ve._featureFilter.filter(Xr,ia,ne)){oa||(ia.geometry=Ii(Sn));var Da=void 0;if(Et){var ya=ve.getValueAndResolveTokens("text-field",ia,ne,Cr),Ma=Zi.factory(ya);ow(Ma)&&(this.hasRTLText=!0),(!this.hasRTLText||Ja()==="unavailable"||this.hasRTLText&&yi.isParsed())&&(Da=c3(Ma,ve,ia))}var ja=void 0;if(Rt){var La=ve.getValueAndResolveTokens("icon-image",ia,ne,Cr);La instanceof _i?ja=La:ja=_i.fromString(La)}if(!(!Da&&!ja)){var Pa=this.sortFeaturesByKey?tr.evaluate(ia,{},ne):void 0,ti={id:Dn,text:Da,icon:ja,index:Bn,sourceLayerIndex:Kn,geometry:Ii(Sn),properties:Sn.properties,type:aw[Sn.type],sortKey:Pa};if(this.features.push(ti),ja&&(pr[ja.name]=!0),Da){var Va=Ce.evaluate(ia,{},ne).join(","),mi=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bl.vertical)>=0;for(var Ni=0,xi=Da.sections;Ni<xi.length;Ni+=1){var bi=xi[Ni];if(bi.image)pr[bi.image.name]=!0;else{var gi=Qt(Da.toString()),ji=bi.fontStack||Va,Qi=fr[ji]=fr[ji]||{};this.calculateGlyphDependencies(bi.text,Qi,mi,this.allowVerticalPlacement,gi)}}}}}}we.get("symbol-placement")==="line"&&(this.features=h3(this.features)),this.sortFeaturesByKey&&this.features.sort(function(go,Ao){return go.sortKey-Ao.sortKey})}},Bi.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,H,this.layers,ne),this.icon.programConfigurations.updatePaintArrays(D,H,this.layers,ne))},Bi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Bi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Bi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Bi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Bi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Bi.prototype.addToLineVertexArray=function(D,H){var ne=this.lineVertexArray.length;if(D.segment!==void 0){for(var ve=D.dist(H[D.segment+1]),we=D.dist(H[D.segment]),Ce={},je=D.segment+1;je<H.length;je++)Ce[je]={x:H[je].x,y:H[je].y,tileUnitDistanceFromAnchor:ve},je<H.length-1&&(ve+=H[je+1].dist(H[je]));for(var gt=D.segment||0;gt>=0;gt--)Ce[gt]={x:H[gt].x,y:H[gt].y,tileUnitDistanceFromAnchor:we},gt>0&&(we+=H[gt-1].dist(H[gt]));for(var Et=0;Et<H.length;Et++){var Rt=Ce[Et];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ne,lineLength:this.lineVertexArray.length-ne}},Bi.prototype.addSymbols=function(D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr,pr){for(var fr=D.indexArray,Cr=D.layoutVertexArray,Xr=D.segments.prepareSegment(4*H.length,Cr,fr,Ce.sortKey),gn=this.glyphOffsetArray.length,un=Xr.vertexLength,In=this.allowVerticalPlacement&&je===bl.vertical?Math.PI/2:0,Sn=Ce.text&&Ce.text.sections,Dn=0;Dn<H.length;Dn++){var Bn=H[Dn],Kn=Bn.tl,oa=Bn.tr,ia=Bn.bl,Da=Bn.br,ya=Bn.tex,Ma=Bn.pixelOffsetTL,ja=Bn.pixelOffsetBR,La=Bn.minFontScaleX,Pa=Bn.minFontScaleY,ti=Bn.glyphOffset,Va=Bn.isSDF,mi=Bn.sectionIndex,Ni=Xr.vertexLength,xi=ti[1];Ad(Cr,gt.x,gt.y,Kn.x,xi+Kn.y,ya.x,ya.y,ne,Va,Ma.x,Ma.y,La,Pa),Ad(Cr,gt.x,gt.y,oa.x,xi+oa.y,ya.x+ya.w,ya.y,ne,Va,ja.x,Ma.y,La,Pa),Ad(Cr,gt.x,gt.y,ia.x,xi+ia.y,ya.x,ya.y+ya.h,ne,Va,Ma.x,ja.y,La,Pa),Ad(Cr,gt.x,gt.y,Da.x,xi+Da.y,ya.x+ya.w,ya.y+ya.h,ne,Va,ja.x,ja.y,La,Pa),o0(D.dynamicLayoutVertexArray,gt,In),fr.emplaceBack(Ni,Ni+1,Ni+2),fr.emplaceBack(Ni+1,Ni+2,Ni+3),Xr.vertexLength+=4,Xr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ti[0]),(Dn===H.length-1||mi!==H[Dn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(Cr.length,Ce,Ce.index,{},pr,Sn&&Sn[mi])}D.placedSymbolArray.emplaceBack(gt.x,gt.y,gn,this.glyphOffsetArray.length-gn,un,Et,Rt,gt.segment,ne?ne[0]:0,ne?ne[1]:0,ve[0],ve[1],je,0,!1,0,tr)},Bi.prototype._addCollisionDebugVertex=function(D,H,ne,ve,we,Ce){return H.emplaceBack(0,0),D.emplaceBack(ne.x,ne.y,ve,we,Math.round(Ce.x),Math.round(Ce.y))},Bi.prototype.addCollisionDebugVertices=function(D,H,ne,ve,we,Ce,je){var gt=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),Et=gt.vertexLength,Rt=we.layoutVertexArray,tr=we.collisionVertexArray,pr=je.anchorX,fr=je.anchorY;this._addCollisionDebugVertex(Rt,tr,Ce,pr,fr,new t(D,H)),this._addCollisionDebugVertex(Rt,tr,Ce,pr,fr,new t(ne,H)),this._addCollisionDebugVertex(Rt,tr,Ce,pr,fr,new t(ne,ve)),this._addCollisionDebugVertex(Rt,tr,Ce,pr,fr,new t(D,ve)),gt.vertexLength+=4;var Cr=we.indexArray;Cr.emplaceBack(Et,Et+1),Cr.emplaceBack(Et+1,Et+2),Cr.emplaceBack(Et+2,Et+3),Cr.emplaceBack(Et+3,Et),gt.primitiveLength+=4},Bi.prototype.addDebugCollisionBoxes=function(D,H,ne,ve){for(var we=D;we<H;we++){var Ce=this.collisionBoxArray.get(we),je=Ce.x1,gt=Ce.y1,Et=Ce.x2,Rt=Ce.y2;this.addCollisionDebugVertices(je,gt,Et,Rt,ve?this.textCollisionBox:this.iconCollisionBox,Ce.anchorPoint,ne)}},Bi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yv(ih,gy.members,kc),this.iconCollisionBox=new yv(ih,gy.members,kc);for(var D=0;D<this.symbolInstances.length;D++){var H=this.symbolInstances.get(D);this.addDebugCollisionBoxes(H.textBoxStartIndex,H.textBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.verticalTextBoxStartIndex,H.verticalTextBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.iconBoxStartIndex,H.iconBoxEndIndex,H,!1),this.addDebugCollisionBoxes(H.verticalIconBoxStartIndex,H.verticalIconBoxEndIndex,H,!1)}},Bi.prototype._deserializeCollisionBoxesForSymbol=function(D,H,ne,ve,we,Ce,je,gt,Et){for(var Rt={},tr=H;tr<ne;tr++){var pr=D.get(tr);Rt.textBox={x1:pr.x1,y1:pr.y1,x2:pr.x2,y2:pr.y2,anchorPointX:pr.anchorPointX,anchorPointY:pr.anchorPointY},Rt.textFeatureIndex=pr.featureIndex;break}for(var fr=ve;fr<we;fr++){var Cr=D.get(fr);Rt.verticalTextBox={x1:Cr.x1,y1:Cr.y1,x2:Cr.x2,y2:Cr.y2,anchorPointX:Cr.anchorPointX,anchorPointY:Cr.anchorPointY},Rt.verticalTextFeatureIndex=Cr.featureIndex;break}for(var Xr=Ce;Xr<je;Xr++){var gn=D.get(Xr);Rt.iconBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,anchorPointX:gn.anchorPointX,anchorPointY:gn.anchorPointY},Rt.iconFeatureIndex=gn.featureIndex;break}for(var un=gt;un<Et;un++){var In=D.get(un);Rt.verticalIconBox={x1:In.x1,y1:In.y1,x2:In.x2,y2:In.y2,anchorPointX:In.anchorPointX,anchorPointY:In.anchorPointY},Rt.verticalIconFeatureIndex=In.featureIndex;break}return Rt},Bi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var H=0;H<this.symbolInstances.length;H++){var ne=this.symbolInstances.get(H);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ne.textBoxStartIndex,ne.textBoxEndIndex,ne.verticalTextBoxStartIndex,ne.verticalTextBoxEndIndex,ne.iconBoxStartIndex,ne.iconBoxEndIndex,ne.verticalIconBoxStartIndex,ne.verticalIconBoxEndIndex))}},Bi.prototype.hasTextData=function(){return this.text.segments.get().length>0},Bi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Bi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Bi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Bi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Bi.prototype.addIndicesForPlacedSymbol=function(D,H){for(var ne=D.placedSymbolArray.get(H),ve=ne.vertexStartIndex+ne.numGlyphs*4,we=ne.vertexStartIndex;we<ve;we+=4)D.indexArray.emplaceBack(we,we+1,we+2),D.indexArray.emplaceBack(we+1,we+2,we+3)},Bi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var H=Math.sin(D),ne=Math.cos(D),ve=[],we=[],Ce=[],je=0;je<this.symbolInstances.length;++je){Ce.push(je);var gt=this.symbolInstances.get(je);ve.push(Math.round(H*gt.anchorX+ne*gt.anchorY)|0),we.push(gt.featureIndex)}return Ce.sort(function(Et,Rt){return ve[Et]-ve[Rt]||we[Rt]-we[Et]}),Ce},Bi.prototype.addToSortKeyRanges=function(D,H){var ne=this.sortKeyRanges[this.sortKeyRanges.length-1];ne&&ne.sortKey===H?ne.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:H,symbolInstanceStart:D,symbolInstanceEnd:D+1})},Bi.prototype.sortFeatures=function(D){var H=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ne=0,ve=this.symbolInstanceIndexes;ne<ve.length;ne+=1){var we=ve[ne],Ce=this.symbolInstances.get(we);this.featureSortOrder.push(Ce.featureIndex),[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(function(je,gt,Et){je>=0&&Et.indexOf(je)===gt&&H.addIndicesForPlacedSymbol(H.text,je)}),Ce.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ce.verticalPlacedTextSymbolIndex),Ce.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.placedIconSymbolIndex),Ce.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},le("SymbolBucket",Bi,{omit:["layers","collisionBoxArray","features","compareText"]}),Bi.MAX_GLYPHS=65535,Bi.addDynamicAttributes=o0;function sw(R,D){return D.replace(/{([^{}]+)}/g,function(H,ne){return ne in R?String(R[ne]):""})}var lw=new Eo({"symbol-placement":new Aa(ar.layout_symbol["symbol-placement"]),"symbol-spacing":new Aa(ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Aa(ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ra(ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Aa(ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Aa(ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Aa(ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new Aa(ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Aa(ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ra(ar.layout_symbol["icon-size"]),"icon-text-fit":new Aa(ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Aa(ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ra(ar.layout_symbol["icon-image"]),"icon-rotate":new Ra(ar.layout_symbol["icon-rotate"]),"icon-padding":new Aa(ar.layout_symbol["icon-padding"]),"icon-keep-upright":new Aa(ar.layout_symbol["icon-keep-upright"]),"icon-offset":new Ra(ar.layout_symbol["icon-offset"]),"icon-anchor":new Ra(ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Aa(ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Aa(ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Aa(ar.layout_symbol["text-rotation-alignment"]),"text-field":new Ra(ar.layout_symbol["text-field"]),"text-font":new Ra(ar.layout_symbol["text-font"]),"text-size":new Ra(ar.layout_symbol["text-size"]),"text-max-width":new Ra(ar.layout_symbol["text-max-width"]),"text-line-height":new Aa(ar.layout_symbol["text-line-height"]),"text-letter-spacing":new Ra(ar.layout_symbol["text-letter-spacing"]),"text-justify":new Ra(ar.layout_symbol["text-justify"]),"text-radial-offset":new Ra(ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Aa(ar.layout_symbol["text-variable-anchor"]),"text-anchor":new Ra(ar.layout_symbol["text-anchor"]),"text-max-angle":new Aa(ar.layout_symbol["text-max-angle"]),"text-writing-mode":new Aa(ar.layout_symbol["text-writing-mode"]),"text-rotate":new Ra(ar.layout_symbol["text-rotate"]),"text-padding":new Aa(ar.layout_symbol["text-padding"]),"text-keep-upright":new Aa(ar.layout_symbol["text-keep-upright"]),"text-transform":new Ra(ar.layout_symbol["text-transform"]),"text-offset":new Ra(ar.layout_symbol["text-offset"]),"text-allow-overlap":new Aa(ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Aa(ar.layout_symbol["text-ignore-placement"]),"text-optional":new Aa(ar.layout_symbol["text-optional"])}),uw=new Eo({"icon-opacity":new Ra(ar.paint_symbol["icon-opacity"]),"icon-color":new Ra(ar.paint_symbol["icon-color"]),"icon-halo-color":new Ra(ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ra(ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ra(ar.paint_symbol["icon-halo-blur"]),"icon-translate":new Aa(ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new Aa(ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ra(ar.paint_symbol["text-opacity"]),"text-color":new Ra(ar.paint_symbol["text-color"],{runtimeType:Qr,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ra(ar.paint_symbol["text-halo-color"]),"text-halo-width":new Ra(ar.paint_symbol["text-halo-width"]),"text-halo-blur":new Ra(ar.paint_symbol["text-halo-blur"]),"text-translate":new Aa(ar.paint_symbol["text-translate"]),"text-translate-anchor":new Aa(ar.paint_symbol["text-translate-anchor"])}),s0={paint:uw,layout:lw},Sh=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Gt,this.defaultValue=D};Sh.prototype.evaluate=function(D){if(D.formattedSection){var H=this.defaultValue.property.overrides;if(H&&H.hasOverride(D.formattedSection))return H.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Sh.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var H=this.defaultValue.value;D(H._styleExpression.expression)}},Sh.prototype.outputDefined=function(){return!1},Sh.prototype.serialize=function(){return null},le("FormatSectionOverride",Sh,{omit:["defaultValue"]});var fw=function(R){function D(H){R.call(this,H,s0)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){if(R.prototype.recalculate.call(this,ne,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Ce=[],je=0,gt=we;je<gt.length;je+=1){var Et=gt[je];Ce.indexOf(Et)<0&&Ce.push(Et)}this.layout._values["text-writing-mode"]=Ce}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ne,ve,we,Ce){var je=this.layout.get(ne).evaluate(ve,{},we,Ce),gt=this._unevaluatedLayout._values[ne];return!gt.isDataDriven()&&!dl(gt.value)&&je?sw(ve.properties,je):je},D.prototype.createBucket=function(ne){return new Bi(ne)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ne=0,ve=s0.paint.overridableProperties;ne<ve.length;ne+=1){var we=ve[ne];if(D.hasPaintOverride(this.layout,we)){var Ce=this.paint.get(we),je=new Sh(Ce),gt=new tl(je,Ce.property.specification),Et=null;Ce.value.kind==="constant"||Ce.value.kind==="source"?Et=new _l("source",gt):Et=new Qo("composite",gt,Ce.value.zoomStops,Ce.value._interpolationType),this.paint._values[we]=new Ui(Ce.property,Et,Ce.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,we){return!this.layout||ve.isDataDriven()||we.isDataDriven()?!1:D.hasPaintOverride(this.layout,ne)},D.hasPaintOverride=function(ne,ve){var we=ne.get("text-field"),Ce=s0.paint.properties[ve],je=!1,gt=function(tr){for(var pr=0,fr=tr;pr<fr.length;pr+=1){var Cr=fr[pr];if(Ce.overrides&&Ce.overrides.hasOverride(Cr)){je=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof Zi)gt(we.value.value.sections);else if(we.value.kind==="source"){var Et=function(tr){if(!je)if(tr instanceof so&&Si(tr.value)===kn){var pr=tr.value;gt(pr.sections)}else tr instanceof No?gt(tr.sections):tr.eachChild(Et)},Rt=we.value;Rt._styleExpression&&Et(Rt._styleExpression.expression)}return je},D}(Ki),cw=new Eo({"background-color":new Aa(ar.paint_background["background-color"]),"background-pattern":new fo(ar.paint_background["background-pattern"]),"background-opacity":new Aa(ar.paint_background["background-opacity"])}),hw={paint:cw},vw=function(R){function D(H){R.call(this,H,hw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ki),dw=new Eo({"raster-opacity":new Aa(ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new Aa(ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Aa(ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Aa(ar.paint_raster["raster-brightness-max"]),"raster-saturation":new Aa(ar.paint_raster["raster-saturation"]),"raster-contrast":new Aa(ar.paint_raster["raster-contrast"]),"raster-resampling":new Aa(ar.paint_raster["raster-resampling"]),"raster-fade-duration":new Aa(ar.paint_raster["raster-fade-duration"])}),pw={paint:dw},gw=function(R){function D(H){R.call(this,H,pw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ki);function yw(R){var D=[],H=R.id;return H===void 0&&D.push({message:"layers."+H+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+H+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+H+': property "renderingMode" must be either "2d" or "3d"'}),D}var mw=function(R){function D(H){R.call(this,H,{}),this.implementation=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ne){this.implementation.onAdd&&this.implementation.onAdd(ne,ne.painter.context.gl)},D.prototype.onRemove=function(ne){this.implementation.onRemove&&this.implementation.onRemove(ne,ne.painter.context.gl)},D}(Ki),xw={circle:j2,heatmap:$2,hillshade:tb,fill:Eb,"fill-extrusion":Zb,line:i3,symbol:fw,background:vw,raster:gw};function bw(R){return R.type==="custom"?new mw(R):new xw[R.type](R)}var Gy=self.HTMLImageElement,Wy=self.HTMLCanvasElement,Yy=self.HTMLVideoElement,Zy=self.ImageData,Md=self.ImageBitmap,Uc=function(D,H,ne,ve){this.context=D,this.format=ne,this.texture=D.gl.createTexture(),this.update(H,ve)};Uc.prototype.update=function(D,H,ne){var ve=D.width,we=D.height,Ce=(!this.size||this.size[0]!==ve||this.size[1]!==we)&&!ne,je=this,gt=je.context,Et=gt.gl;if(this.useMipmap=Boolean(H&&H.useMipmap),Et.bindTexture(Et.TEXTURE_2D,this.texture),gt.pixelStoreUnpackFlipY.set(!1),gt.pixelStoreUnpack.set(1),gt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Et.RGBA&&(!H||H.premultiply!==!1)),Ce)this.size=[ve,we],D instanceof Gy||D instanceof Wy||D instanceof Yy||D instanceof Zy||Md&&D instanceof Md?Et.texImage2D(Et.TEXTURE_2D,0,this.format,this.format,Et.UNSIGNED_BYTE,D):Et.texImage2D(Et.TEXTURE_2D,0,this.format,ve,we,0,this.format,Et.UNSIGNED_BYTE,D.data);else{var Rt=ne||{x:0,y:0},tr=Rt.x,pr=Rt.y;D instanceof Gy||D instanceof Wy||D instanceof Yy||D instanceof Zy||Md&&D instanceof Md?Et.texSubImage2D(Et.TEXTURE_2D,0,tr,pr,Et.RGBA,Et.UNSIGNED_BYTE,D):Et.texSubImage2D(Et.TEXTURE_2D,0,tr,pr,ve,we,Et.RGBA,Et.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Et.generateMipmap(Et.TEXTURE_2D)},Uc.prototype.bind=function(D,H,ne){var ve=this,we=ve.context,Ce=we.gl;Ce.bindTexture(Ce.TEXTURE_2D,this.texture),ne===Ce.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ne=Ce.LINEAR),D!==this.filter&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,D),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,ne||D),this.filter=D),H!==this.wrap&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,H),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,H),this.wrap=H)},Uc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Uc.prototype.destroy=function(){var D=this.context,H=D.gl;H.deleteTexture(this.texture),this.texture=null};var l0=function(D){var H=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){H._triggered=!1,H._callback()})};l0.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},l0.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Eh=function(D,H,ne){this.target=D,this.parent=H,this.mapId=ne,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},w(["receive","process"],this),this.invoker=new l0(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?D:self};Eh.prototype.send=function(D,H,ne,ve,we){var Ce=this;we===void 0&&(we=!1);var je=Math.round(Math.random()*1e18).toString(36).substring(0,10);ne&&(this.callbacks[je]=ne);var gt=q(this.globalScope)?void 0:[];return this.target.postMessage({id:je,type:D,hasCallback:!!ne,targetMapId:ve,mustQueue:we,sourceMapId:this.mapId,data:rt(H,gt)},gt),{cancel:function(){ne&&delete Ce.callbacks[je],Ce.target.postMessage({id:je,type:"<cancel>",targetMapId:ve,sourceMapId:Ce.mapId})}}},Eh.prototype.receive=function(D){var H=D.data,ne=H.id;if(ne&&!(H.targetMapId&&this.mapId!==H.targetMapId))if(H.type==="<cancel>"){delete this.tasks[ne];var ve=this.cancelCallbacks[ne];delete this.cancelCallbacks[ne],ve&&ve()}else k()||H.mustQueue?(this.tasks[ne]=H,this.taskQueue.push(ne),this.invoker.trigger()):this.processTask(ne,H)},Eh.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),H=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),H&&this.processTask(D,H)}},Eh.prototype.processTask=function(D,H){var ne=this;if(H.type==="<response>"){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(H.error?ve(ot(H.error)):ve(null,ot(H.data)))}else{var we=!1,Ce=q(this.globalScope)?void 0:[],je=H.hasCallback?function(pr,fr){we=!0,delete ne.cancelCallbacks[D],ne.target.postMessage({id:D,type:"<response>",sourceMapId:ne.mapId,error:pr?rt(pr):null,data:rt(fr,Ce)},Ce)}:function(pr){we=!0},gt=null,Et=ot(H.data);if(this.parent[H.type])gt=this.parent[H.type](H.sourceMapId,Et,je);else if(this.parent.getWorkerSource){var Rt=H.type.split("."),tr=this.parent.getWorkerSource(H.sourceMapId,Rt[0],Et.source);gt=tr[Rt[1]](Et,je)}else je(new Error("Could not find function "+H.type));!we&&gt&&gt.cancel&&(this.cancelCallbacks[D]=gt.cancel)}},Eh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function ww(R,D,H){D=Math.pow(2,H)-D-1;var ne=Xy(R*256,D*256,H),ve=Xy((R+1)*256,(D+1)*256,H);return ne[0]+","+ne[1]+","+ve[0]+","+ve[1]}function Xy(R,D,H){var ne=2*Math.PI*6378137/256/Math.pow(2,H),ve=R*ne-2*Math.PI*6378137/2,we=D*ne-2*Math.PI*6378137/2;return[ve,we]}var Io=function(D,H){D&&(H?this.setSouthWest(D).setNorthEast(H):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};Io.prototype.setNorthEast=function(D){return this._ne=D instanceof no?new no(D.lng,D.lat):no.convert(D),this},Io.prototype.setSouthWest=function(D){return this._sw=D instanceof no?new no(D.lng,D.lat):no.convert(D),this},Io.prototype.extend=function(D){var H=this._sw,ne=this._ne,ve,we;if(D instanceof no)ve=D,we=D;else if(D instanceof Io){if(ve=D._sw,we=D._ne,!ve||!we)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ce=D;return this.extend(Io.convert(Ce))}else{var je=D;return this.extend(no.convert(je))}return this}return!H&&!ne?(this._sw=new no(ve.lng,ve.lat),this._ne=new no(we.lng,we.lat)):(H.lng=Math.min(ve.lng,H.lng),H.lat=Math.min(ve.lat,H.lat),ne.lng=Math.max(we.lng,ne.lng),ne.lat=Math.max(we.lat,ne.lat)),this},Io.prototype.getCenter=function(){return new no((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Io.prototype.getSouthWest=function(){return this._sw},Io.prototype.getNorthEast=function(){return this._ne},Io.prototype.getNorthWest=function(){return new no(this.getWest(),this.getNorth())},Io.prototype.getSouthEast=function(){return new no(this.getEast(),this.getSouth())},Io.prototype.getWest=function(){return this._sw.lng},Io.prototype.getSouth=function(){return this._sw.lat},Io.prototype.getEast=function(){return this._ne.lng},Io.prototype.getNorth=function(){return this._ne.lat},Io.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Io.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Io.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Io.prototype.contains=function(D){var H=no.convert(D),ne=H.lng,ve=H.lat,we=this._sw.lat<=ve&&ve<=this._ne.lat,Ce=this._sw.lng<=ne&&ne<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ce=this._sw.lng>=ne&&ne>=this._ne.lng),we&&Ce},Io.convert=function(D){return!D||D instanceof Io?D:new Io(D)};var jy=63710088e-1,no=function(D,H){if(isNaN(D)||isNaN(H))throw new Error("Invalid LngLat object: ("+D+", "+H+")");if(this.lng=+D,this.lat=+H,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};no.prototype.wrap=function(){return new no(x(this.lng,-180,180),this.lat)},no.prototype.toArray=function(){return[this.lng,this.lat]},no.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},no.prototype.distanceTo=function(D){var H=Math.PI/180,ne=this.lat*H,ve=D.lat*H,we=Math.sin(ne)*Math.sin(ve)+Math.cos(ne)*Math.cos(ve)*Math.cos((D.lng-this.lng)*H),Ce=jy*Math.acos(Math.min(we,1));return Ce},no.prototype.toBounds=function(D){D===void 0&&(D=0);var H=40075017,ne=360*D/H,ve=ne/Math.cos(Math.PI/180*this.lat);return new Io(new no(this.lng-ve,this.lat-ne),new no(this.lng+ve,this.lat+ne))},no.convert=function(D){if(D instanceof no)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new no(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new no(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ky=2*Math.PI*jy;function Jy(R){return Ky*Math.cos(R*Math.PI/180)}function Qy(R){return(180+R)/360}function $y(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function qy(R,D){return R/Jy(D)}function Tw(R){return R*360-180}function u0(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function Aw(R,D){return R*Jy(u0(D))}function Mw(R){return 1/Math.cos(R*Math.PI/180)}var Hc=function(D,H,ne){ne===void 0&&(ne=0),this.x=+D,this.y=+H,this.z=+ne};Hc.fromLngLat=function(D,H){H===void 0&&(H=0);var ne=no.convert(D);return new Hc(Qy(ne.lng),$y(ne.lat),qy(H,ne.lat))},Hc.prototype.toLngLat=function(){return new no(Tw(this.x),u0(this.y))},Hc.prototype.toAltitude=function(){return Aw(this.z,this.y)},Hc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ky*Mw(u0(this.y))};var Vc=function(D,H,ne){this.z=D,this.x=H,this.y=ne,this.key=mv(0,D,D,H,ne)};Vc.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Vc.prototype.url=function(D,H){var ne=ww(this.x,this.y,this.z),ve=Sw(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(H==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ne)},Vc.prototype.getTilePoint=function(D){var H=Math.pow(2,this.z);return new t((D.x*H-this.x)*Fa,(D.y*H-this.y)*Fa)},Vc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var e1=function(D,H){this.wrap=D,this.canonical=H,this.key=mv(D,H.z,H.z,H.x,H.y)},_o=function(D,H,ne,ve,we){this.overscaledZ=D,this.wrap=H,this.canonical=new Vc(ne,+ve,+we),this.key=mv(H,D,ne,ve,we)};_o.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},_o.prototype.scaledTo=function(D){var H=this.canonical.z-D;return D>this.canonical.z?new _o(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _o(D,this.wrap,D,this.canonical.x>>H,this.canonical.y>>H)},_o.prototype.calculateScaledKey=function(D,H){var ne=this.canonical.z-D;return D>this.canonical.z?mv(this.wrap*+H,D,this.canonical.z,this.canonical.x,this.canonical.y):mv(this.wrap*+H,D,D,this.canonical.x>>ne,this.canonical.y>>ne)},_o.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var H=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>H&&D.canonical.y===this.canonical.y>>H},_o.prototype.children=function(D){if(this.overscaledZ>=D)return[new _o(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var H=this.canonical.z+1,ne=this.canonical.x*2,ve=this.canonical.y*2;return[new _o(H,this.wrap,H,ne,ve),new _o(H,this.wrap,H,ne+1,ve),new _o(H,this.wrap,H,ne,ve+1),new _o(H,this.wrap,H,ne+1,ve+1)]},_o.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},_o.prototype.wrapped=function(){return new _o(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.unwrapTo=function(D){return new _o(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},_o.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},_o.prototype.toUnwrapped=function(){return new e1(this.wrap,this.canonical)},_o.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},_o.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Hc(D.x-this.wrap,D.y))};function mv(R,D,H,ne,ve){R*=2,R<0&&(R=R*-1-1);var we=1<<H;return(we*we*R+we*ve+ne).toString(36)+H.toString(36)+D.toString(36)}function Sw(R,D,H){for(var ne="",ve,we=R;we>0;we--)ve=1<<we-1,ne+=(D&ve?1:0)+(H&ve?2:0);return ne}le("CanonicalTileID",Vc),le("OverscaledTileID",_o,{omit:["posMatrix"]});var If=function(D,H,ne){if(this.uid=D,H.height!==H.width)throw new RangeError("DEM tiles must be square");if(ne&&ne!=="mapbox"&&ne!=="terrarium")return B('"'+ne+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=H.height;var ve=this.dim=H.height-2;this.data=new Uint32Array(H.data.buffer),this.encoding=ne||"mapbox";for(var we=0;we<ve;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(ve,we)]=this.data[this._idx(ve-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,ve)]=this.data[this._idx(we,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};If.prototype.get=function(D,H){var ne=new Uint8Array(this.data.buffer),ve=this._idx(D,H)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(ne[ve],ne[ve+1],ne[ve+2])},If.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},If.prototype._idx=function(D,H){if(D<-1||D>=this.dim+1||H<-1||H>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(H+1)*this.stride+(D+1)},If.prototype._unpackMapbox=function(D,H,ne){return(D*256*256+H*256+ne)/10-1e4},If.prototype._unpackTerrarium=function(D,H,ne){return D*256+H+ne/256-32768},If.prototype.getPixels=function(){return new Ws({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},If.prototype.backfillBorder=function(D,H,ne){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=H*this.dim,we=H*this.dim+this.dim,Ce=ne*this.dim,je=ne*this.dim+this.dim;switch(H){case-1:ve=we-1;break;case 1:we=ve+1;break}switch(ne){case-1:Ce=je-1;break;case 1:je=Ce+1;break}for(var gt=-H*this.dim,Et=-ne*this.dim,Rt=Ce;Rt<je;Rt++)for(var tr=ve;tr<we;tr++)this.data[this._idx(tr,Rt)]=D.data[this._idx(tr+gt,Rt+Et)]},le("DEMData",If);function Ew(R,D){var H={};if(!D)return H;for(var ne=function(){var Ce=we[ve],je=Ce.layerIds.map(function(tr){return D.getLayer(tr)}).filter(Boolean);if(je.length!==0){Ce.layers=je,Ce.stateDependentLayerIds&&(Ce.stateDependentLayers=Ce.stateDependentLayerIds.map(function(tr){return je.filter(function(pr){return pr.id===tr})[0]}));for(var gt=0,Et=je;gt<Et.length;gt+=1){var Rt=Et[gt];H[Rt.id]=Ce}}},ve=0,we=R;ve<we.length;ve+=1)ne();return H}var Sd=function(D){this._stringToNumber={},this._numberToString=[];for(var H=0;H<D.length;H++){var ne=D[H];this._stringToNumber[ne]=H,this._numberToString[H]=ne}};Sd.prototype.encode=function(D){return this._stringToNumber[D]},Sd.prototype.decode=function(D){return this._numberToString[D]};var Ed=function(D,H,ne,ve,we){this.type="Feature",this._vectorTileFeature=D,D._z=H,D._x=ne,D._y=ve,this.properties=D.properties,this.id=we},f0={geometry:{configurable:!0}};f0.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},f0.geometry.set=function(R){this._geometry=R},Ed.prototype.toJSON=function(){var D={geometry:this.geometry};for(var H in this)H==="_geometry"||H==="_vectorTileFeature"||(D[H]=this[H]);return D},Object.defineProperties(Ed.prototype,f0);var Ch=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ch.prototype.updateState=function(D,H,ne){var ve=String(H);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},s(this.stateChanges[D][ve],ne),this.deletedStates[D]===null){this.deletedStates[D]={};for(var we in this.state[D])we!==ve&&(this.deletedStates[D][we]=null)}else{var Ce=this.deletedStates[D]&&this.deletedStates[D][ve]===null;if(Ce){this.deletedStates[D][ve]={};for(var je in this.state[D][ve])ne[je]||(this.deletedStates[D][ve][je]=null)}else for(var gt in ne){var Et=this.deletedStates[D]&&this.deletedStates[D][ve]&&this.deletedStates[D][ve][gt]===null;Et&&delete this.deletedStates[D][ve][gt]}}},Ch.prototype.removeFeatureState=function(D,H,ne){var ve=this.deletedStates[D]===null;if(!ve){var we=String(H);if(this.deletedStates[D]=this.deletedStates[D]||{},ne&&H!==void 0)this.deletedStates[D][we]!==null&&(this.deletedStates[D][we]=this.deletedStates[D][we]||{},this.deletedStates[D][we][ne]=null);else if(H!==void 0){var Ce=this.stateChanges[D]&&this.stateChanges[D][we];if(Ce){this.deletedStates[D][we]={};for(ne in this.stateChanges[D][we])this.deletedStates[D][we][ne]=null}else this.deletedStates[D][we]=null}else this.deletedStates[D]=null}},Ch.prototype.getState=function(D,H){var ne=String(H),ve=this.state[D]||{},we=this.stateChanges[D]||{},Ce=s({},ve[ne],we[ne]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var je=this.deletedStates[D][H];if(je===null)return{};for(var gt in je)delete Ce[gt]}return Ce},Ch.prototype.initializeTileState=function(D,H){D.setFeatureState(this.state,H)},Ch.prototype.coalesceChanges=function(D,H){var ne={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var we={};for(var Ce in this.stateChanges[ve])this.state[ve][Ce]||(this.state[ve][Ce]={}),s(this.state[ve][Ce],this.stateChanges[ve][Ce]),we[Ce]=this.state[ve][Ce];ne[ve]=we}for(var je in this.deletedStates){this.state[je]=this.state[je]||{};var gt={};if(this.deletedStates[je]===null)for(var Et in this.state[je])gt[Et]={},this.state[je][Et]={};else for(var Rt in this.deletedStates[je]){var tr=this.deletedStates[je][Rt]===null;if(tr)this.state[je][Rt]={};else for(var pr=0,fr=Object.keys(this.deletedStates[je][Rt]);pr<fr.length;pr+=1){var Cr=fr[pr];delete this.state[je][Rt][Cr]}gt[Rt]=this.state[je][Rt]}ne[je]=ne[je]||{},s(ne[je],gt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ne).length!==0)for(var Xr in D){var gn=D[Xr];gn.setFeatureState(ne,H)}};var _f=function(D,H){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new za(Fa,16,0),this.grid3D=new za(Fa,16,0),this.featureIndexArray=new nv,this.promoteId=H};_f.prototype.insert=function(D,H,ne,ve,we,Ce){var je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ne,ve,we);for(var gt=Ce?this.grid3D:this.grid,Et=0;Et<H.length;Et++){for(var Rt=H[Et],tr=[1/0,1/0,-1/0,-1/0],pr=0;pr<Rt.length;pr++){var fr=Rt[pr];tr[0]=Math.min(tr[0],fr.x),tr[1]=Math.min(tr[1],fr.y),tr[2]=Math.max(tr[2],fr.x),tr[3]=Math.max(tr[3],fr.y)}tr[0]<Fa&&tr[1]<Fa&&tr[2]>=0&&tr[3]>=0&&gt.insert(je,tr[0],tr[1],tr[2],tr[3])}},_f.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ph.VectorTile(new pd(this.rawTileData)).layers,this.sourceLayerCoder=new Sd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},_f.prototype.query=function(D,H,ne,ve){var we=this;this.loadVTLayers();for(var Ce=D.params||{},je=Fa/D.tileSize/D.scale,gt=xu(Ce.filter),Et=D.queryGeometry,Rt=D.queryPadding*je,tr=r1(Et),pr=this.grid.query(tr.minX-Rt,tr.minY-Rt,tr.maxX+Rt,tr.maxY+Rt),fr=r1(D.cameraQueryGeometry),Cr=this.grid3D.query(fr.minX-Rt,fr.minY-Rt,fr.maxX+Rt,fr.maxY+Rt,function(Kn,oa,ia,Da){return rf(D.cameraQueryGeometry,Kn-Rt,oa-Rt,ia+Rt,Da+Rt)}),Xr=0,gn=Cr;Xr<gn.length;Xr+=1){var un=gn[Xr];pr.push(un)}pr.sort(Cw);for(var In={},Sn,Dn=function(Kn){var oa=pr[Kn];if(oa!==Sn){Sn=oa;var ia=we.featureIndexArray.get(oa),Da=null;we.loadMatchingFeature(In,ia.bucketIndex,ia.sourceLayerIndex,ia.featureIndex,gt,Ce.layers,Ce.availableImages,H,ne,ve,function(ya,Ma,ja){return Da||(Da=Ii(ya)),Ma.queryIntersectsFeature(Et,ya,ja,Da,we.z,D.transform,je,D.pixelPosMatrix)})}},Bn=0;Bn<pr.length;Bn++)Dn(Bn);return In},_f.prototype.loadMatchingFeature=function(D,H,ne,ve,we,Ce,je,gt,Et,Rt,tr){var pr=this.bucketLayerIDs[H];if(!(Ce&&!F(Ce,pr))){var fr=this.sourceLayerCoder.decode(ne),Cr=this.vtLayers[fr],Xr=Cr.feature(ve);if(we.filter(new jn(this.tileID.overscaledZ),Xr))for(var gn=this.getId(Xr,fr),un=0;un<pr.length;un++){var In=pr[un];if(!(Ce&&Ce.indexOf(In)<0)){var Sn=gt[In];if(Sn){var Dn={};gn!==void 0&&Rt&&(Dn=Rt.getState(Sn.sourceLayer||"_geojsonTileLayer",gn));var Bn=Et[In];Bn.paint=t1(Bn.paint,Sn.paint,Xr,Dn,je),Bn.layout=t1(Bn.layout,Sn.layout,Xr,Dn,je);var Kn=!tr||tr(Xr,Sn,Dn);if(Kn){var oa=new Ed(Xr,this.z,this.x,this.y,gn);oa.layer=Bn;var ia=D[In];ia===void 0&&(ia=D[In]=[]),ia.push({featureIndex:ve,feature:oa,intersectionZ:Kn})}}}}}},_f.prototype.lookupSymbolFeatures=function(D,H,ne,ve,we,Ce,je,gt){var Et={};this.loadVTLayers();for(var Rt=xu(we),tr=0,pr=D;tr<pr.length;tr+=1){var fr=pr[tr];this.loadMatchingFeature(Et,ne,ve,fr,Rt,Ce,je,gt,H)}return Et},_f.prototype.hasLayer=function(D){for(var H=0,ne=this.bucketLayerIDs;H<ne.length;H+=1)for(var ve=ne[H],we=0,Ce=ve;we<Ce.length;we+=1){var je=Ce[we];if(D===je)return!0}return!1},_f.prototype.getId=function(D,H){var ne=D.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[H];ne=D.properties[ve],typeof ne=="boolean"&&(ne=Number(ne))}return ne},le("FeatureIndex",_f,{omit:["rawTileData","sourceLayerCoder"]});function t1(R,D,H,ne,ve){return i(R,function(we,Ce){var je=D instanceof Ri?D.get(Ce):null;return je&&je.evaluate?je.evaluate(H,ne,ve):je})}function r1(R){for(var D=1/0,H=1/0,ne=-1/0,ve=-1/0,we=0,Ce=R;we<Ce.length;we+=1){var je=Ce[we];D=Math.min(D,je.x),H=Math.min(H,je.y),ne=Math.max(ne,je.x),ve=Math.max(ve,je.y)}return{minX:D,minY:H,maxX:ne,maxY:ve}}function Cw(R,D){return D-R}var Lw=3e4,Go=function(D,H){this.tileID=D,this.uid=M(),this.uses=0,this.tileSize=H,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Go.prototype.registerFadeDuration=function(D){var H=D+this.timeAdded;H<ie.now()||this.fadeEndTime&&H<this.fadeEndTime||(this.fadeEndTime=H)},Go.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Go.prototype.loadVectorData=function(D,H,ne){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new tf;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=Ew(D.buckets,H.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var we=this.buckets[ve];if(we instanceof Bi)if(this.hasSymbolBuckets=!0,ne)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ce in this.buckets){var je=this.buckets[Ce];if(je instanceof Bi&&je.hasRTLText){this.hasRTLText=!0,Li();break}}this.queryPadding=0;for(var gt in this.buckets){var Et=this.buckets[gt];this.queryPadding=Math.max(this.queryPadding,H.style.getLayer(gt).queryRadius(Et))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Go.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Go.prototype.getBucket=function(D){return this.buckets[D.id]},Go.prototype.upload=function(D){for(var H in this.buckets){var ne=this.buckets[H];ne.uploadPending()&&ne.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Uc(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Uc(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},Go.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Go.prototype.queryRenderedFeatures=function(D,H,ne,ve,we,Ce,je,gt,Et,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:we,scale:Ce,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:gt,params:je,queryPadding:this.queryPadding*Et},D,H,ne)},Go.prototype.querySourceFeatures=function(D,H){var ne=this.latestFeatureIndex;if(!(!ne||!ne.rawTileData)){var ve=ne.loadVTLayers(),we=H?H.sourceLayer:"",Ce=ve._geojsonTileLayer||ve[we];if(Ce)for(var je=xu(H&&H.filter),gt=this.tileID.canonical,Et=gt.z,Rt=gt.x,tr=gt.y,pr={z:Et,x:Rt,y:tr},fr=0;fr<Ce.length;fr++){var Cr=Ce.feature(fr);if(je.filter(new jn(this.tileID.overscaledZ),Cr)){var Xr=ne.getId(Cr,we),gn=new Ed(Cr,Et,Rt,tr,Xr);gn.tile=pr,D.push(gn)}}}},Go.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Go.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Go.prototype.setExpiryData=function(D){var H=this.expirationTime;if(D.cacheControl){var ne=N(D.cacheControl);ne["max-age"]&&(this.expirationTime=Date.now()+ne["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),we=!1;if(this.expirationTime>ve)we=!1;else if(!H)we=!0;else if(this.expirationTime<H)we=!0;else{var Ce=this.expirationTime-H;Ce?this.expirationTime=ve+Math.max(Ce,Lw):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Go.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Go.prototype.setFeatureState=function(D,H){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ne=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(H.style.hasLayer(ve)){var we=this.buckets[ve],Ce=we.layers[0].sourceLayer||"_geojsonTileLayer",je=ne[Ce],gt=D[Ce];if(!(!je||!gt||Object.keys(gt).length===0)){we.update(gt,je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Et=H&&H.style&&H.style.getLayer(ve);Et&&(this.queryPadding=Math.max(this.queryPadding,Et.queryRadius(we)))}}}},Go.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Go.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ie.now()},Go.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Go.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=ie.now()+D},Go.prototype.setDependencies=function(D,H){for(var ne={},ve=0,we=H;ve<we.length;ve+=1){var Ce=we[ve];ne[Ce]=!0}this.dependencies[D]=ne},Go.prototype.hasDependency=function(D,H){for(var ne=0,ve=D;ne<ve.length;ne+=1){var we=ve[ne],Ce=this.dependencies[we];if(Ce)for(var je=0,gt=H;je<gt.length;je+=1){var Et=gt[je];if(Ce[Et])return!0}}return!1};var Pw=["type","source","source-layer","minzoom","maxzoom","filter","layout"],fc=self.performance,n1=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},fc.mark(this._marks.start)};n1.prototype.finish=function(){fc.mark(this._marks.end);var D=fc.getEntriesByName(this._marks.measure);return D.length===0&&(fc.measure(this._marks.measure,this._marks.start,this._marks.end),D=fc.getEntriesByName(this._marks.measure),fc.clearMarks(this._marks.start),fc.clearMarks(this._marks.end),fc.clearMeasures(this._marks.measure)),D},a.Actor=Eh,a.AlphaImage=Nc,a.CanonicalTileID=Vc,a.CollisionBoxArray=tf,a.Color=si,a.DEMData=If,a.DataConstantProperty=Aa,a.DictionaryCoder=Sd,a.EXTENT=Fa,a.ErrorEvent=Ar,a.EvaluationParameters=jn,a.Event=ur,a.Evented=Rr,a.FeatureIndex=_f,a.FillBucket=Eu,a.FillExtrusionBucket=Cu,a.ImageAtlas=dv,a.ImagePosition=yd,a.LineBucket=Ys,a.LngLat=no,a.LngLatBounds=Io,a.MercatorCoordinate=Hc,a.ONE_EM=qo,a.OverscaledTileID=_o,a.Point=t,a.Point$1=t,a.Properties=Eo,a.Protobuf=pd,a.RGBAImage=Ws,a.RequestManager=Ae,a.RequestPerformance=n1,a.ResourceType=At,a.SegmentVector=X,a.SourceFeatureState=Ch,a.StructArrayLayout1ui2=ac,a.StructArrayLayout2f1f2i16=Au,a.StructArrayLayout2i4=Ic,a.StructArrayLayout3ui6=Mu,a.StructArrayLayout4i8=Qu,a.SymbolBucket=Bi,a.Texture=Uc,a.Tile=Go,a.Transitionable=ii,a.Uniform1f=Jr,a.Uniform1i=qr,a.Uniform2f=ln,a.Uniform3f=yn,a.Uniform4f=_n,a.UniformColor=Vn,a.UniformMatrix4f=ra,a.UnwrappedTileID=e1,a.ValidationError=me,a.WritingMode=bl,a.ZoomHistory=zt,a.add=hh,a.addDynamicAttributes=o0,a.asyncAll=h,a.bezier=l,a.bindAll=w,a.browser=ie,a.cacheEntryPossiblyAdded=Jt,a.clamp=n,a.clearTileCache=Vt,a.clipLine=Oy,a.clone=ld,a.clone$1=m,a.clone$2=Np,a.collisionCircleLayout=u3,a.config=J,a.create=uh,a.create$1=Oc,a.create$2=zc,a.createCommonjsModule=P,a.createExpression=Il,a.createLayout=Vi,a.createStyleLayer=bw,a.cross=N2,a.deepEqual=u,a.dot=B2,a.dot$1=W2,a.ease=c,a.emitValidationErrors=_a,a.endsWith=b,a.enforceCacheSizeLimit=qt,a.evaluateSizeForFeature=Ry,a.evaluateSizeForZoom=Dy,a.evaluateVariableOffset=Uy,a.evented=Sa,a.extend=s,a.featureFilter=xu,a.filterObject=E,a.fromRotation=lh,a.getAnchorAlignment=r0,a.getAnchorJustification=i0,a.getArrayBuffer=Pt,a.getImage=Ct,a.getJSON=yt,a.getRTLTextPluginStatus=Ja,a.getReferrer=rr,a.getVideo=Ut,a.identity=fh,a.invert=oc,a.isChar=mt,a.isMapboxURL=be,a.keysDifference=f,a.makeRequest=st,a.mapObject=i,a.mercatorXfromLng=Qy,a.mercatorYfromLat=$y,a.mercatorZfromAltitude=qy,a.mul=Bp,a.multiply=sc,a.mvt=ph,a.normalize=iv,a.number=Mr,a.offscreenCanvasSupported=Gr,a.ortho=Op,a.parseGlyphPBF=z3,a.pbf=pd,a.performSymbolLayout=ew,a.perspective=av,a.pick=d,a.plugin=yi,a.polygonIntersectsPolygon=$a,a.postMapLoadEvent=Fe,a.postTurnstileEvent=$e,a.potpack=Ty,a.refProperties=Pw,a.register=le,a.registerForPluginStateChange=Ia,a.rotate=fs,a.rotateX=Gs,a.rotateZ=ch,a.scale=Vs,a.scale$1=G2,a.scale$2=Hp,a.setCacheLimits=vr,a.setRTLTextPlugin=Wa,a.sphericalToCartesian=z,a.sqrLen=X2,a.styleSpec=ar,a.sub=H2,a.symbolSize=Y3,a.transformMat3=U2,a.transformMat4=ud,a.translate=To,a.triggerPluginCompletionEvent=fa,a.uniqueId=M,a.validateCustomStyleLayer=yw,a.validateLight=En,a.validateStyle=Mn,a.values=T,a.vectorTile=ph,a.version=A,a.warnOnce=B,a.webpSupported=$,a.window=self,a.wrap=x}),L(["./shared"],function(a){function P(pt){var st=typeof pt;if(st==="number"||st==="boolean"||st==="string"||pt===void 0||pt===null)return JSON.stringify(pt);if(Array.isArray(pt)){for(var yt="[",Pt=0,Dt=pt;Pt<Dt.length;Pt+=1){var Nt=Dt[Pt];yt+=P(Nt)+","}return yt+"]"}for(var Zt=Object.keys(pt).sort(),$t="{",lr=0;lr<Zt.length;lr++)$t+=JSON.stringify(Zt[lr])+":"+P(pt[Zt[lr]])+",";return $t+"}"}function A(pt){for(var st="",yt=0,Pt=a.refProperties;yt<Pt.length;yt+=1){var Dt=Pt[yt];st+="/"+P(pt[Dt])}return st}function v(pt,st){for(var yt={},Pt=0;Pt<pt.length;Pt++){var Dt=st&&st[pt[Pt].id]||A(pt[Pt]);st&&(st[pt[Pt].id]=Dt);var Nt=yt[Dt];Nt||(Nt=yt[Dt]=[]),Nt.push(pt[Pt])}var Zt=[];for(var $t in yt)Zt.push(yt[$t]);return Zt}var g=function(st){this.keyCache={},st&&this.replace(st)};g.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},g.prototype.update=function(st,yt){for(var Pt=this,Dt=0,Nt=st;Dt<Nt.length;Dt+=1){var Zt=Nt[Dt];this._layerConfigs[Zt.id]=Zt;var $t=this._layers[Zt.id]=a.createStyleLayer(Zt);$t._featureFilter=a.featureFilter($t.filter),this.keyCache[Zt.id]&&delete this.keyCache[Zt.id]}for(var lr=0,ir=yt;lr<ir.length;lr+=1){var He=ir[lr];delete this.keyCache[He],delete this._layerConfigs[He],delete this._layers[He]}this.familiesBySource={};for(var Ge=v(a.values(this._layerConfigs),this.keyCache),Ct=0,Ut=Ge;Ct<Ut.length;Ct+=1){var Kt=Ut[Ct],Xt=Kt.map(function(_r){return Pt._layers[_r.id]}),ur=Xt[0];if(ur.visibility!=="none"){var Ar=ur.source||"",Rr=this.familiesBySource[Ar];Rr||(Rr=this.familiesBySource[Ar]={});var wr=ur.sourceLayer||"_geojsonTileLayer",er=Rr[wr];er||(er=Rr[wr]=[]),er.push(Xt)}}};var t=1,r=function(st){var yt={},Pt=[];for(var Dt in st){var Nt=st[Dt],Zt=yt[Dt]={};for(var $t in Nt){var lr=Nt[+$t];if(!(!lr||lr.bitmap.width===0||lr.bitmap.height===0)){var ir={x:0,y:0,w:lr.bitmap.width+2*t,h:lr.bitmap.height+2*t};Pt.push(ir),Zt[$t]={rect:ir,metrics:lr.metrics}}}}var He=a.potpack(Pt),Ge=He.w,Ct=He.h,Ut=new a.AlphaImage({width:Ge||1,height:Ct||1});for(var Kt in st){var Xt=st[Kt];for(var ur in Xt){var Ar=Xt[+ur];if(!(!Ar||Ar.bitmap.width===0||Ar.bitmap.height===0)){var Rr=yt[Kt][ur].rect;a.AlphaImage.copy(Ar.bitmap,Ut,{x:0,y:0},{x:Rr.x+t,y:Rr.y+t},Ar.bitmap)}}}this.image=Ut,this.positions=yt};a.register("GlyphAtlas",r);var u=function(st){this.tileID=new a.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};u.prototype.parse=function(st,yt,Pt,Dt,Nt){var Zt=this;this.status="parsing",this.data=st,this.collisionBoxArray=new a.CollisionBoxArray;var $t=new a.DictionaryCoder(Object.keys(st.layers).sort()),lr=new a.FeatureIndex(this.tileID,this.promoteId);lr.bucketLayerIDs=[];var ir={},He={featureIndex:lr,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Pt},Ge=yt.familiesBySource[this.source];for(var Ct in Ge){var Ut=st.layers[Ct];if(Ut){Ut.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ct+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Kt=$t.encode(Ct),Xt=[],ur=0;ur<Ut.length;ur++){var Ar=Ut.feature(ur),Rr=lr.getId(Ar,Ct);Xt.push({feature:Ar,id:Rr,index:ur,sourceLayerIndex:Kt})}for(var wr=0,er=Ge[Ct];wr<er.length;wr+=1){var _r=er[wr],Vr=_r[0];if(!(Vr.minzoom&&this.zoom<Math.floor(Vr.minzoom))&&!(Vr.maxzoom&&this.zoom>=Vr.maxzoom)&&Vr.visibility!=="none"){o(_r,this.zoom,Pt);var Br=ir[Vr.id]=Vr.createBucket({index:lr.bucketLayerIDs.length,layers:_r,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Kt,sourceID:this.source});Br.populate(Xt,He,this.tileID.canonical),lr.bucketLayerIDs.push(_r.map(function(br){return br.id}))}}}}var yr,pn,an,Zr,Nn=a.mapObject(He.glyphDependencies,function(br){return Object.keys(br).map(Number)});Object.keys(Nn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:Nn},function(br,Ir){yr||(yr=br,pn=Ir,On.call(Zt))}):pn={};var fn=Object.keys(He.iconDependencies);fn.length?Dt.send("getImages",{icons:fn,source:this.source,tileID:this.tileID,type:"icons"},function(br,Ir){yr||(yr=br,an=Ir,On.call(Zt))}):an={};var xn=Object.keys(He.patternDependencies);xn.length?Dt.send("getImages",{icons:xn,source:this.source,tileID:this.tileID,type:"patterns"},function(br,Ir){yr||(yr=br,Zr=Ir,On.call(Zt))}):Zr={},On.call(this);function On(){if(yr)return Nt(yr);if(pn&&an&&Zr){var br=new r(pn),Ir=new a.ImageAtlas(an,Zr);for(var jr in ir){var Wr=ir[jr];Wr instanceof a.SymbolBucket?(o(Wr.layers,this.zoom,Pt),a.performSymbolLayout(Wr,pn,br.positions,an,Ir.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Wr.hasPattern&&(Wr instanceof a.LineBucket||Wr instanceof a.FillBucket||Wr instanceof a.FillExtrusionBucket)&&(o(Wr.layers,this.zoom,Pt),Wr.addFeatures(He,this.tileID.canonical,Ir.patternPositions))}this.status="done",Nt(null,{buckets:a.values(ir).filter(function(An){return!An.isEmpty()}),featureIndex:lr,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:Ir,glyphMap:this.returnDependencies?pn:null,iconMap:this.returnDependencies?an:null,glyphPositions:this.returnDependencies?br.positions:null})}}};function o(pt,st,yt){for(var Pt=new a.EvaluationParameters(st),Dt=0,Nt=pt;Dt<Nt.length;Dt+=1){var Zt=Nt[Dt];Zt.recalculate(Pt,yt)}}function l(pt,st){var yt=a.getArrayBuffer(pt.request,function(Pt,Dt,Nt,Zt){Pt?st(Pt):Dt&&st(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:Nt,expires:Zt})});return function(){yt.cancel(),st()}}var c=function(st,yt,Pt,Dt){this.actor=st,this.layerIndex=yt,this.availableImages=Pt,this.loadVectorData=Dt||l,this.loading={},this.loaded={}};c.prototype.loadTile=function(st,yt){var Pt=this,Dt=st.uid;this.loading||(this.loading={});var Nt=st&&st.request&&st.request.collectResourceTiming?new a.RequestPerformance(st.request):!1,Zt=this.loading[Dt]=new u(st);Zt.abort=this.loadVectorData(st,function($t,lr){if(delete Pt.loading[Dt],$t||!lr)return Zt.status="done",Pt.loaded[Dt]=Zt,yt($t);var ir=lr.rawData,He={};lr.expires&&(He.expires=lr.expires),lr.cacheControl&&(He.cacheControl=lr.cacheControl);var Ge={};if(Nt){var Ct=Nt.finish();Ct&&(Ge.resourceTiming=JSON.parse(JSON.stringify(Ct)))}Zt.vectorTile=lr.vectorTile,Zt.parse(lr.vectorTile,Pt.layerIndex,Pt.availableImages,Pt.actor,function(Ut,Kt){if(Ut||!Kt)return yt(Ut);yt(null,a.extend({rawTileData:ir.slice(0)},Kt,He,Ge))}),Pt.loaded=Pt.loaded||{},Pt.loaded[Dt]=Zt})},c.prototype.reloadTile=function(st,yt){var Pt=this,Dt=this.loaded,Nt=st.uid,Zt=this;if(Dt&&Dt[Nt]){var $t=Dt[Nt];$t.showCollisionBoxes=st.showCollisionBoxes;var lr=function(ir,He){var Ge=$t.reloadCallback;Ge&&(delete $t.reloadCallback,$t.parse($t.vectorTile,Zt.layerIndex,Pt.availableImages,Zt.actor,Ge)),yt(ir,He)};$t.status==="parsing"?$t.reloadCallback=lr:$t.status==="done"&&($t.vectorTile?$t.parse($t.vectorTile,this.layerIndex,this.availableImages,this.actor,lr):lr())}},c.prototype.abortTile=function(st,yt){var Pt=this.loading,Dt=st.uid;Pt&&Pt[Dt]&&Pt[Dt].abort&&(Pt[Dt].abort(),delete Pt[Dt]),yt()},c.prototype.removeTile=function(st,yt){var Pt=this.loaded,Dt=st.uid;Pt&&Pt[Dt]&&delete Pt[Dt],yt()};var n=a.window.ImageBitmap,x=function(){this.loaded={}};x.prototype.loadTile=function(st,yt){var Pt=st.uid,Dt=st.encoding,Nt=st.rawImageData,Zt=n&&Nt instanceof n?this.getImageData(Nt):Nt,$t=new a.DEMData(Pt,Zt,Dt);this.loaded=this.loaded||{},this.loaded[Pt]=$t,yt(null,$t)},x.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var yt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:yt.width,height:yt.height},yt.data)},x.prototype.removeTile=function(st){var yt=this.loaded,Pt=st.uid;yt&&yt[Pt]&&delete yt[Pt]};var h=T;function T(pt,st){var yt=pt&&pt.type,Pt;if(yt==="FeatureCollection")for(Pt=0;Pt<pt.features.length;Pt++)T(pt.features[Pt],st);else if(yt==="GeometryCollection")for(Pt=0;Pt<pt.geometries.length;Pt++)T(pt.geometries[Pt],st);else if(yt==="Feature")T(pt.geometry,st);else if(yt==="Polygon")f(pt.coordinates,st);else if(yt==="MultiPolygon")for(Pt=0;Pt<pt.coordinates.length;Pt++)f(pt.coordinates[Pt],st);return pt}function f(pt,st){if(pt.length!==0){s(pt[0],st);for(var yt=1;yt<pt.length;yt++)s(pt[yt],!st)}}function s(pt,st){for(var yt=0,Pt=0,Dt=pt.length,Nt=Dt-1;Pt<Dt;Nt=Pt++)yt+=(pt[Pt][0]-pt[Nt][0])*(pt[Nt][1]+pt[Pt][1]);yt>=0!=!!st&&pt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,S=function(st){this._feature=st,this.extent=a.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};S.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],yt=0,Pt=this._feature.geometry;yt<Pt.length;yt+=1){var Dt=Pt[yt];st.push([new a.Point$1(Dt[0],Dt[1])])}return st}else{for(var Nt=[],Zt=0,$t=this._feature.geometry;Zt<$t.length;Zt+=1){for(var lr=$t[Zt],ir=[],He=0,Ge=lr;He<Ge.length;He+=1){var Ct=Ge[He];ir.push(new a.Point$1(Ct[0],Ct[1]))}Nt.push(ir)}return Nt}},S.prototype.toGeoJSON=function(st,yt,Pt){return d.call(this,st,yt,Pt)};var M=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=st.length,this._features=st};M.prototype.feature=function(st){return new S(this._features[st])};var C=a.vectorTile.VectorTileFeature,y=w;function w(pt,st){this.options=st||{},this.features=pt,this.length=pt.length}w.prototype.feature=function(pt){return new b(this.features[pt],this.options.extent)};function b(pt,st){this.id=typeof pt.id=="number"?pt.id:void 0,this.type=pt.type,this.rawGeometry=pt.type===1?[pt.geometry]:pt.geometry,this.properties=pt.tags,this.extent=st||4096}b.prototype.loadGeometry=function(){var pt=this.rawGeometry;this.geometry=[];for(var st=0;st<pt.length;st++){for(var yt=pt[st],Pt=[],Dt=0;Dt<yt.length;Dt++)Pt.push(new a.Point$1(yt[Dt][0],yt[Dt][1]));this.geometry.push(Pt)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pt=this.geometry,st=1/0,yt=-1/0,Pt=1/0,Dt=-1/0,Nt=0;Nt<pt.length;Nt++)for(var Zt=pt[Nt],$t=0;$t<Zt.length;$t++){var lr=Zt[$t];st=Math.min(st,lr.x),yt=Math.max(yt,lr.x),Pt=Math.min(Pt,lr.y),Dt=Math.max(Dt,lr.y)}return[st,Pt,yt,Dt]},b.prototype.toGeoJSON=C.prototype.toGeoJSON;var i=_,E=_,m=B,F=y;function _(pt){var st=new a.pbf;return I(pt,st),st.finish()}function B(pt,st){st=st||{};var yt={};for(var Pt in pt)yt[Pt]=new y(pt[Pt].features,st),yt[Pt].name=Pt,yt[Pt].version=st.version,yt[Pt].extent=st.extent;return _({layers:yt})}function I(pt,st){for(var yt in pt.layers)st.writeMessage(3,O,pt.layers[yt])}function O(pt,st){st.writeVarintField(15,pt.version||1),st.writeStringField(1,pt.name||""),st.writeVarintField(5,pt.extent||4096);var yt,Pt={keys:[],values:[],keycache:{},valuecache:{}};for(yt=0;yt<pt.length;yt++)Pt.feature=pt.feature(yt),st.writeMessage(2,z,Pt);var Dt=Pt.keys;for(yt=0;yt<Dt.length;yt++)st.writeStringField(3,Dt[yt]);var Nt=Pt.values;for(yt=0;yt<Nt.length;yt++)st.writeMessage(4,Q,Nt[yt])}function z(pt,st){var yt=pt.feature;yt.id!==void 0&&st.writeVarintField(1,yt.id),st.writeMessage(2,k,pt),st.writeVarintField(3,yt.type),st.writeMessage(4,q,yt)}function k(pt,st){var yt=pt.feature,Pt=pt.keys,Dt=pt.values,Nt=pt.keycache,Zt=pt.valuecache;for(var $t in yt.properties){var lr=Nt[$t];typeof lr>"u"&&(Pt.push($t),lr=Pt.length-1,Nt[$t]=lr),st.writeVarint(lr);var ir=yt.properties[$t],He=typeof ir;He!=="string"&&He!=="boolean"&&He!=="number"&&(ir=JSON.stringify(ir));var Ge=He+":"+ir,Ct=Zt[Ge];typeof Ct>"u"&&(Dt.push(ir),Ct=Dt.length-1,Zt[Ge]=Ct),st.writeVarint(Ct)}}function N(pt,st){return(st<<3)+(pt&7)}function K(pt){return pt<<1^pt>>31}function q(pt,st){for(var yt=pt.loadGeometry(),Pt=pt.type,Dt=0,Nt=0,Zt=yt.length,$t=0;$t<Zt;$t++){var lr=yt[$t],ir=1;Pt===1&&(ir=lr.length),st.writeVarint(N(1,ir));for(var He=Pt===3?lr.length-1:lr.length,Ge=0;Ge<He;Ge++){Ge===1&&Pt!==1&&st.writeVarint(N(2,He-1));var Ct=lr[Ge].x-Dt,Ut=lr[Ge].y-Nt;st.writeVarint(K(Ct)),st.writeVarint(K(Ut)),Dt+=Ct,Nt+=Ut}Pt===3&&st.writeVarint(N(7,1))}}function Q(pt,st){var yt=typeof pt;yt==="string"?st.writeStringField(1,pt):yt==="boolean"?st.writeBooleanField(7,pt):yt==="number"&&(pt%1!==0?st.writeDoubleField(3,pt):pt<0?st.writeSVarintField(6,pt):st.writeVarintField(5,pt))}i.fromVectorTileJs=E,i.fromGeojsonVt=m,i.GeoJSONWrapper=F;function re(pt,st,yt,Pt,Dt,Nt){if(!(Dt-Pt<=yt)){var Zt=Pt+Dt>>1;oe(pt,st,Zt,Pt,Dt,Nt%2),re(pt,st,yt,Pt,Zt-1,Nt+1),re(pt,st,yt,Zt+1,Dt,Nt+1)}}function oe(pt,st,yt,Pt,Dt,Nt){for(;Dt>Pt;){if(Dt-Pt>600){var Zt=Dt-Pt+1,$t=yt-Pt+1,lr=Math.log(Zt),ir=.5*Math.exp(2*lr/3),He=.5*Math.sqrt(lr*ir*(Zt-ir)/Zt)*($t-Zt/2<0?-1:1),Ge=Math.max(Pt,Math.floor(yt-$t*ir/Zt+He)),Ct=Math.min(Dt,Math.floor(yt+(Zt-$t)*ir/Zt+He));oe(pt,st,yt,Ge,Ct,Nt)}var Ut=st[2*yt+Nt],Kt=Pt,Xt=Dt;for(Y(pt,st,Pt,yt),st[2*Dt+Nt]>Ut&&Y(pt,st,Pt,Dt);Kt<Xt;){for(Y(pt,st,Kt,Xt),Kt++,Xt--;st[2*Kt+Nt]<Ut;)Kt++;for(;st[2*Xt+Nt]>Ut;)Xt--}st[2*Pt+Nt]===Ut?Y(pt,st,Pt,Xt):(Xt++,Y(pt,st,Xt,Dt)),Xt<=yt&&(Pt=Xt+1),yt<=Xt&&(Dt=Xt-1)}}function Y(pt,st,yt,Pt){G(pt,yt,Pt),G(st,2*yt,2*Pt),G(st,2*yt+1,2*Pt+1)}function G(pt,st,yt){var Pt=pt[st];pt[st]=pt[yt],pt[yt]=Pt}function V(pt,st,yt,Pt,Dt,Nt,Zt){for(var $t=[0,pt.length-1,0],lr=[],ir,He;$t.length;){var Ge=$t.pop(),Ct=$t.pop(),Ut=$t.pop();if(Ct-Ut<=Zt){for(var Kt=Ut;Kt<=Ct;Kt++)ir=st[2*Kt],He=st[2*Kt+1],ir>=yt&&ir<=Dt&&He>=Pt&&He<=Nt&&lr.push(pt[Kt]);continue}var Xt=Math.floor((Ut+Ct)/2);ir=st[2*Xt],He=st[2*Xt+1],ir>=yt&&ir<=Dt&&He>=Pt&&He<=Nt&&lr.push(pt[Xt]);var ur=(Ge+1)%2;(Ge===0?yt<=ir:Pt<=He)&&($t.push(Ut),$t.push(Xt-1),$t.push(ur)),(Ge===0?Dt>=ir:Nt>=He)&&($t.push(Xt+1),$t.push(Ct),$t.push(ur))}return lr}function Z(pt,st,yt,Pt,Dt,Nt){for(var Zt=[0,pt.length-1,0],$t=[],lr=Dt*Dt;Zt.length;){var ir=Zt.pop(),He=Zt.pop(),Ge=Zt.pop();if(He-Ge<=Nt){for(var Ct=Ge;Ct<=He;Ct++)ae(st[2*Ct],st[2*Ct+1],yt,Pt)<=lr&&$t.push(pt[Ct]);continue}var Ut=Math.floor((Ge+He)/2),Kt=st[2*Ut],Xt=st[2*Ut+1];ae(Kt,Xt,yt,Pt)<=lr&&$t.push(pt[Ut]);var ur=(ir+1)%2;(ir===0?yt-Dt<=Kt:Pt-Dt<=Xt)&&(Zt.push(Ge),Zt.push(Ut-1),Zt.push(ur)),(ir===0?yt+Dt>=Kt:Pt+Dt>=Xt)&&(Zt.push(Ut+1),Zt.push(He),Zt.push(ur))}return $t}function ae(pt,st,yt,Pt){var Dt=pt-yt,Nt=st-Pt;return Dt*Dt+Nt*Nt}var ie=function(pt){return pt[0]},J=function(pt){return pt[1]},$=function(st,yt,Pt,Dt,Nt){yt===void 0&&(yt=ie),Pt===void 0&&(Pt=J),Dt===void 0&&(Dt=64),Nt===void 0&&(Nt=Float64Array),this.nodeSize=Dt,this.points=st;for(var Zt=st.length<65536?Uint16Array:Uint32Array,$t=this.ids=new Zt(st.length),lr=this.coords=new Nt(st.length*2),ir=0;ir<st.length;ir++)$t[ir]=ir,lr[2*ir]=yt(st[ir]),lr[2*ir+1]=Pt(st[ir]);re($t,lr,Dt,0,$t.length-1,0)};$.prototype.range=function(st,yt,Pt,Dt){return V(this.ids,this.coords,st,yt,Pt,Dt,this.nodeSize)},$.prototype.within=function(st,yt,Pt){return Z(this.ids,this.coords,st,yt,Pt,this.nodeSize)};var se={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(pt){return pt}},ee=function(st){this.options=_e(Object.create(se),st),this.trees=new Array(this.options.maxZoom+1)};ee.prototype.load=function(st){var yt=this.options,Pt=yt.log,Dt=yt.minZoom,Nt=yt.maxZoom,Zt=yt.nodeSize;Pt&&console.time("total time");var $t="prepare "+st.length+" points";Pt&&console.time($t),this.points=st;for(var lr=[],ir=0;ir<st.length;ir++)st[ir].geometry&&lr.push(ge(st[ir],ir));this.trees[Nt+1]=new $(lr,Ve,We,Zt,Float32Array),Pt&&console.timeEnd($t);for(var He=Nt;He>=Dt;He--){var Ge=+Date.now();lr=this._cluster(lr,He),this.trees[He]=new $(lr,Ve,We,Zt,Float32Array),Pt&&console.log("z%d: %d clusters in %dms",He,lr.length,+Date.now()-Ge)}return Pt&&console.timeEnd("total time"),this},ee.prototype.getClusters=function(st,yt){var Pt=((st[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,st[1])),Nt=st[2]===180?180:((st[2]+180)%360+360)%360-180,Zt=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)Pt=-180,Nt=180;else if(Pt>Nt){var $t=this.getClusters([Pt,Dt,180,Zt],yt),lr=this.getClusters([-180,Dt,Nt,Zt],yt);return $t.concat(lr)}for(var ir=this.trees[this._limitZoom(yt)],He=ir.range(Pe(Pt),Ie(Zt),Pe(Nt),Ie(Dt)),Ge=[],Ct=0,Ut=He;Ct<Ut.length;Ct+=1){var Kt=Ut[Ct],Xt=ir.points[Kt];Ge.push(Xt.numPoints?Te(Xt):this.points[Xt.index])}return Ge},ee.prototype.getChildren=function(st){var yt=this._getOriginId(st),Pt=this._getOriginZoom(st),Dt="No cluster with the specified id.",Nt=this.trees[Pt];if(!Nt)throw new Error(Dt);var Zt=Nt.points[yt];if(!Zt)throw new Error(Dt);for(var $t=this.options.radius/(this.options.extent*Math.pow(2,Pt-1)),lr=Nt.within(Zt.x,Zt.y,$t),ir=[],He=0,Ge=lr;He<Ge.length;He+=1){var Ct=Ge[He],Ut=Nt.points[Ct];Ut.parentId===st&&ir.push(Ut.numPoints?Te(Ut):this.points[Ut.index])}if(ir.length===0)throw new Error(Dt);return ir},ee.prototype.getLeaves=function(st,yt,Pt){yt=yt||10,Pt=Pt||0;var Dt=[];return this._appendLeaves(Dt,st,yt,Pt,0),Dt},ee.prototype.getTile=function(st,yt,Pt){var Dt=this.trees[this._limitZoom(st)],Nt=Math.pow(2,st),Zt=this.options,$t=Zt.extent,lr=Zt.radius,ir=lr/$t,He=(Pt-ir)/Nt,Ge=(Pt+1+ir)/Nt,Ct={features:[]};return this._addTileFeatures(Dt.range((yt-ir)/Nt,He,(yt+1+ir)/Nt,Ge),Dt.points,yt,Pt,Nt,Ct),yt===0&&this._addTileFeatures(Dt.range(1-ir/Nt,He,1,Ge),Dt.points,Nt,Pt,Nt,Ct),yt===Nt-1&&this._addTileFeatures(Dt.range(0,He,ir/Nt,Ge),Dt.points,-1,Pt,Nt,Ct),Ct.features.length?Ct:null},ee.prototype.getClusterExpansionZoom=function(st){for(var yt=this._getOriginZoom(st)-1;yt<=this.options.maxZoom;){var Pt=this.getChildren(st);if(yt++,Pt.length!==1)break;st=Pt[0].properties.cluster_id}return yt},ee.prototype._appendLeaves=function(st,yt,Pt,Dt,Nt){for(var Zt=this.getChildren(yt),$t=0,lr=Zt;$t<lr.length;$t+=1){var ir=lr[$t],He=ir.properties;if(He&&He.cluster?Nt+He.point_count<=Dt?Nt+=He.point_count:Nt=this._appendLeaves(st,He.cluster_id,Pt,Dt,Nt):Nt<Dt?Nt++:st.push(ir),st.length===Pt)break}return Nt},ee.prototype._addTileFeatures=function(st,yt,Pt,Dt,Nt,Zt){for(var $t=0,lr=st;$t<lr.length;$t+=1){var ir=lr[$t],He=yt[ir],Ge=He.numPoints,Ct={type:1,geometry:[[Math.round(this.options.extent*(He.x*Nt-Pt)),Math.round(this.options.extent*(He.y*Nt-Dt))]],tags:Ge?xe(He):this.points[He.index].properties},Ut=void 0;Ge?Ut=He.id:this.options.generateId?Ut=He.index:this.points[He.index].id&&(Ut=this.points[He.index].id),Ut!==void 0&&(Ct.id=Ut),Zt.features.push(Ct)}},ee.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(st,this.options.maxZoom+1))},ee.prototype._cluster=function(st,yt){for(var Pt=[],Dt=this.options,Nt=Dt.radius,Zt=Dt.extent,$t=Dt.reduce,lr=Nt/(Zt*Math.pow(2,yt)),ir=0;ir<st.length;ir++){var He=st[ir];if(!(He.zoom<=yt)){He.zoom=yt;for(var Ge=this.trees[yt+1],Ct=Ge.within(He.x,He.y,lr),Ut=He.numPoints||1,Kt=He.x*Ut,Xt=He.y*Ut,ur=$t&&Ut>1?this._map(He,!0):null,Ar=(ir<<5)+(yt+1)+this.points.length,Rr=0,wr=Ct;Rr<wr.length;Rr+=1){var er=wr[Rr],_r=Ge.points[er];if(!(_r.zoom<=yt)){_r.zoom=yt;var Vr=_r.numPoints||1;Kt+=_r.x*Vr,Xt+=_r.y*Vr,Ut+=Vr,_r.parentId=Ar,$t&&(ur||(ur=this._map(He,!0)),$t(ur,this._map(_r)))}}Ut===1?Pt.push(He):(He.parentId=Ar,Pt.push(ue(Kt/Ut,Xt/Ut,Ar,Ut,ur)))}}return Pt},ee.prototype._getOriginId=function(st){return st-this.points.length>>5},ee.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},ee.prototype._map=function(st,yt){if(st.numPoints)return yt?_e({},st.properties):st.properties;var Pt=this.points[st.index].properties,Dt=this.options.map(Pt);return yt&&Dt===Pt?_e({},Dt):Dt};function ue(pt,st,yt,Pt,Dt){return{x:pt,y:st,zoom:1/0,id:yt,parentId:-1,numPoints:Pt,properties:Dt}}function ge(pt,st){var yt=pt.geometry.coordinates,Pt=yt[0],Dt=yt[1];return{x:Pe(Pt),y:Ie(Dt),zoom:1/0,index:st,parentId:-1}}function Te(pt){return{type:"Feature",id:pt.id,properties:xe(pt),geometry:{type:"Point",coordinates:[Ae(pt.x),be(pt.y)]}}}function xe(pt){var st=pt.numPoints,yt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return _e(_e({},pt.properties),{cluster:!0,cluster_id:pt.id,point_count:st,point_count_abbreviated:yt})}function Pe(pt){return pt/360+.5}function Ie(pt){var st=Math.sin(pt*Math.PI/180),yt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return yt<0?0:yt>1?1:yt}function Ae(pt){return(pt-.5)*360}function be(pt){var st=(180-pt*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function _e(pt,st){for(var yt in st)pt[yt]=st[yt];return pt}function Ve(pt){return pt.x}function We(pt){return pt.y}function ze(pt,st,yt,Pt){for(var Dt=Pt,Nt=yt-st>>1,Zt=yt-st,$t,lr=pt[st],ir=pt[st+1],He=pt[yt],Ge=pt[yt+1],Ct=st+3;Ct<yt;Ct+=3){var Ut=Ze(pt[Ct],pt[Ct+1],lr,ir,He,Ge);if(Ut>Dt)$t=Ct,Dt=Ut;else if(Ut===Dt){var Kt=Math.abs(Ct-Nt);Kt<Zt&&($t=Ct,Zt=Kt)}}Dt>Pt&&($t-st>3&&ze(pt,st,$t,Pt),pt[$t+2]=Dt,yt-$t>3&&ze(pt,$t,yt,Pt))}function Ze(pt,st,yt,Pt,Dt,Nt){var Zt=Dt-yt,$t=Nt-Pt;if(Zt!==0||$t!==0){var lr=((pt-yt)*Zt+(st-Pt)*$t)/(Zt*Zt+$t*$t);lr>1?(yt=Dt,Pt=Nt):lr>0&&(yt+=Zt*lr,Pt+=$t*lr)}return Zt=pt-yt,$t=st-Pt,Zt*Zt+$t*$t}function ct(pt,st,yt,Pt){var Dt={id:typeof pt>"u"?null:pt,type:st,geometry:yt,tags:Pt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return lt(Dt),Dt}function lt(pt){var st=pt.geometry,yt=pt.type;if(yt==="Point"||yt==="MultiPoint"||yt==="LineString")at(pt,st);else if(yt==="Polygon"||yt==="MultiLineString")for(var Pt=0;Pt<st.length;Pt++)at(pt,st[Pt]);else if(yt==="MultiPolygon")for(Pt=0;Pt<st.length;Pt++)for(var Dt=0;Dt<st[Pt].length;Dt++)at(pt,st[Pt][Dt])}function at(pt,st){for(var yt=0;yt<st.length;yt+=3)pt.minX=Math.min(pt.minX,st[yt]),pt.minY=Math.min(pt.minY,st[yt+1]),pt.maxX=Math.max(pt.maxX,st[yt]),pt.maxY=Math.max(pt.maxY,st[yt+1])}function tt(pt,st){var yt=[];if(pt.type==="FeatureCollection")for(var Pt=0;Pt<pt.features.length;Pt++)dt(yt,pt.features[Pt],st,Pt);else pt.type==="Feature"?dt(yt,pt,st):dt(yt,{geometry:pt},st);return yt}function dt(pt,st,yt,Pt){if(st.geometry){var Dt=st.geometry.coordinates,Nt=st.geometry.type,Zt=Math.pow(yt.tolerance/((1<<yt.maxZoom)*yt.extent),2),$t=[],lr=st.id;if(yt.promoteId?lr=st.properties[yt.promoteId]:yt.generateId&&(lr=Pt||0),Nt==="Point")wt(Dt,$t);else if(Nt==="MultiPoint")for(var ir=0;ir<Dt.length;ir++)wt(Dt[ir],$t);else if(Nt==="LineString")Mt(Dt,$t,Zt,!1);else if(Nt==="MultiLineString")if(yt.lineMetrics){for(ir=0;ir<Dt.length;ir++)$t=[],Mt(Dt[ir],$t,Zt,!1),pt.push(ct(lr,"LineString",$t,st.properties));return}else It(Dt,$t,Zt,!1);else if(Nt==="Polygon")It(Dt,$t,Zt,!0);else if(Nt==="MultiPolygon")for(ir=0;ir<Dt.length;ir++){var He=[];It(Dt[ir],He,Zt,!0),$t.push(He)}else if(Nt==="GeometryCollection"){for(ir=0;ir<st.geometry.geometries.length;ir++)dt(pt,{id:lr,geometry:st.geometry.geometries[ir],properties:st.properties},yt,Pt);return}else throw new Error("Input data is not a valid GeoJSON object.");pt.push(ct(lr,Nt,$t,st.properties))}}function wt(pt,st){st.push($e(pt[0])),st.push(ke(pt[1])),st.push(0)}function Mt(pt,st,yt,Pt){for(var Dt,Nt,Zt=0,$t=0;$t<pt.length;$t++){var lr=$e(pt[$t][0]),ir=ke(pt[$t][1]);st.push(lr),st.push(ir),st.push(0),$t>0&&(Pt?Zt+=(Dt*ir-lr*Nt)/2:Zt+=Math.sqrt(Math.pow(lr-Dt,2)+Math.pow(ir-Nt,2))),Dt=lr,Nt=ir}var He=st.length-3;st[2]=1,ze(st,0,He,yt),st[He+2]=1,st.size=Math.abs(Zt),st.start=0,st.end=st.size}function It(pt,st,yt,Pt){for(var Dt=0;Dt<pt.length;Dt++){var Nt=[];Mt(pt[Dt],Nt,yt,Pt),st.push(Nt)}}function $e(pt){return pt/360+.5}function ke(pt){var st=Math.sin(pt*Math.PI/180),yt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return yt<0?0:yt>1?1:yt}function Fe(pt,st,yt,Pt,Dt,Nt,Zt,$t){if(yt/=st,Pt/=st,Nt>=yt&&Zt<Pt)return pt;if(Zt<yt||Nt>=Pt)return null;for(var lr=[],ir=0;ir<pt.length;ir++){var He=pt[ir],Ge=He.geometry,Ct=He.type,Ut=Dt===0?He.minX:He.minY,Kt=Dt===0?He.maxX:He.maxY;if(Ut>=yt&&Kt<Pt){lr.push(He);continue}else if(Kt<yt||Ut>=Pt)continue;var Xt=[];if(Ct==="Point"||Ct==="MultiPoint")qe(Ge,Xt,yt,Pt,Dt);else if(Ct==="LineString")it(Ge,Xt,yt,Pt,Dt,!1,$t.lineMetrics);else if(Ct==="MultiLineString")Re(Ge,Xt,yt,Pt,Dt,!1);else if(Ct==="Polygon")Re(Ge,Xt,yt,Pt,Dt,!0);else if(Ct==="MultiPolygon")for(var ur=0;ur<Ge.length;ur++){var Ar=[];Re(Ge[ur],Ar,yt,Pt,Dt,!0),Ar.length&&Xt.push(Ar)}if(Xt.length){if($t.lineMetrics&&Ct==="LineString"){for(ur=0;ur<Xt.length;ur++)lr.push(ct(He.id,Ct,Xt[ur],He.tags));continue}(Ct==="LineString"||Ct==="MultiLineString")&&(Xt.length===1?(Ct="LineString",Xt=Xt[0]):Ct="MultiLineString"),(Ct==="Point"||Ct==="MultiPoint")&&(Ct=Xt.length===3?"Point":"MultiPoint"),lr.push(ct(He.id,Ct,Xt,He.tags))}}return lr.length?lr:null}function qe(pt,st,yt,Pt,Dt){for(var Nt=0;Nt<pt.length;Nt+=3){var Zt=pt[Nt+Dt];Zt>=yt&&Zt<=Pt&&(st.push(pt[Nt]),st.push(pt[Nt+1]),st.push(pt[Nt+2]))}}function it(pt,st,yt,Pt,Dt,Nt,Zt){for(var $t=Je(pt),lr=Dt===0?fe:ye,ir=pt.start,He,Ge,Ct=0;Ct<pt.length-3;Ct+=3){var Ut=pt[Ct],Kt=pt[Ct+1],Xt=pt[Ct+2],ur=pt[Ct+3],Ar=pt[Ct+4],Rr=Dt===0?Ut:Kt,wr=Dt===0?ur:Ar,er=!1;Zt&&(He=Math.sqrt(Math.pow(Ut-ur,2)+Math.pow(Kt-Ar,2))),Rr<yt?wr>yt&&(Ge=lr($t,Ut,Kt,ur,Ar,yt),Zt&&($t.start=ir+He*Ge)):Rr>Pt?wr<Pt&&(Ge=lr($t,Ut,Kt,ur,Ar,Pt),Zt&&($t.start=ir+He*Ge)):Me($t,Ut,Kt,Xt),wr<yt&&Rr>=yt&&(Ge=lr($t,Ut,Kt,ur,Ar,yt),er=!0),wr>Pt&&Rr<=Pt&&(Ge=lr($t,Ut,Kt,ur,Ar,Pt),er=!0),!Nt&&er&&(Zt&&($t.end=ir+He*Ge),st.push($t),$t=Je(pt)),Zt&&(ir+=He)}var _r=pt.length-3;Ut=pt[_r],Kt=pt[_r+1],Xt=pt[_r+2],Rr=Dt===0?Ut:Kt,Rr>=yt&&Rr<=Pt&&Me($t,Ut,Kt,Xt),_r=$t.length-3,Nt&&_r>=3&&($t[_r]!==$t[0]||$t[_r+1]!==$t[1])&&Me($t,$t[0],$t[1],$t[2]),$t.length&&st.push($t)}function Je(pt){var st=[];return st.size=pt.size,st.start=pt.start,st.end=pt.end,st}function Re(pt,st,yt,Pt,Dt,Nt){for(var Zt=0;Zt<pt.length;Zt++)it(pt[Zt],st,yt,Pt,Dt,Nt,!1)}function Me(pt,st,yt,Pt){pt.push(st),pt.push(yt),pt.push(Pt)}function fe(pt,st,yt,Pt,Dt,Nt){var Zt=(Nt-st)/(Pt-st);return pt.push(Nt),pt.push(yt+(Dt-yt)*Zt),pt.push(1),Zt}function ye(pt,st,yt,Pt,Dt,Nt){var Zt=(Nt-yt)/(Dt-yt);return pt.push(st+(Pt-st)*Zt),pt.push(Nt),pt.push(1),Zt}function Le(pt,st){var yt=st.buffer/st.extent,Pt=pt,Dt=Fe(pt,1,-1-yt,yt,0,-1,2,st),Nt=Fe(pt,1,1-yt,2+yt,0,-1,2,st);return(Dt||Nt)&&(Pt=Fe(pt,1,-yt,1+yt,0,-1,2,st)||[],Dt&&(Pt=Oe(Dt,1).concat(Pt)),Nt&&(Pt=Pt.concat(Oe(Nt,-1)))),Pt}function Oe(pt,st){for(var yt=[],Pt=0;Pt<pt.length;Pt++){var Dt=pt[Pt],Nt=Dt.type,Zt;if(Nt==="Point"||Nt==="MultiPoint"||Nt==="LineString")Zt=ht(Dt.geometry,st);else if(Nt==="MultiLineString"||Nt==="Polygon"){Zt=[];for(var $t=0;$t<Dt.geometry.length;$t++)Zt.push(ht(Dt.geometry[$t],st))}else if(Nt==="MultiPolygon")for(Zt=[],$t=0;$t<Dt.geometry.length;$t++){for(var lr=[],ir=0;ir<Dt.geometry[$t].length;ir++)lr.push(ht(Dt.geometry[$t][ir],st));Zt.push(lr)}yt.push(ct(Dt.id,Nt,Zt,Dt.tags))}return yt}function ht(pt,st){var yt=[];yt.size=pt.size,pt.start!==void 0&&(yt.start=pt.start,yt.end=pt.end);for(var Pt=0;Pt<pt.length;Pt+=3)yt.push(pt[Pt]+st,pt[Pt+1],pt[Pt+2]);return yt}function vt(pt,st){if(pt.transformed)return pt;var yt=1<<pt.z,Pt=pt.x,Dt=pt.y,Nt,Zt,$t;for(Nt=0;Nt<pt.features.length;Nt++){var lr=pt.features[Nt],ir=lr.geometry,He=lr.type;if(lr.geometry=[],He===1)for(Zt=0;Zt<ir.length;Zt+=2)lr.geometry.push(Lt(ir[Zt],ir[Zt+1],st,yt,Pt,Dt));else for(Zt=0;Zt<ir.length;Zt++){var Ge=[];for($t=0;$t<ir[Zt].length;$t+=2)Ge.push(Lt(ir[Zt][$t],ir[Zt][$t+1],st,yt,Pt,Dt));lr.geometry.push(Ge)}}return pt.transformed=!0,pt}function Lt(pt,st,yt,Pt,Dt,Nt){return[Math.round(yt*(pt*Pt-Dt)),Math.round(yt*(st*Pt-Nt))]}function Ot(pt,st,yt,Pt,Dt){for(var Nt=st===Dt.maxZoom?0:Dt.tolerance/((1<<st)*Dt.extent),Zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:yt,y:Pt,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},$t=0;$t<pt.length;$t++){Zt.numFeatures++,Jt(Zt,pt[$t],Nt,Dt);var lr=pt[$t].minX,ir=pt[$t].minY,He=pt[$t].maxX,Ge=pt[$t].maxY;lr<Zt.minX&&(Zt.minX=lr),ir<Zt.minY&&(Zt.minY=ir),He>Zt.maxX&&(Zt.maxX=He),Ge>Zt.maxY&&(Zt.maxY=Ge)}return Zt}function Jt(pt,st,yt,Pt){var Dt=st.geometry,Nt=st.type,Zt=[];if(Nt==="Point"||Nt==="MultiPoint")for(var $t=0;$t<Dt.length;$t+=3)Zt.push(Dt[$t]),Zt.push(Dt[$t+1]),pt.numPoints++,pt.numSimplified++;else if(Nt==="LineString")qt(Zt,Dt,pt,yt,!1,!1);else if(Nt==="MultiLineString"||Nt==="Polygon")for($t=0;$t<Dt.length;$t++)qt(Zt,Dt[$t],pt,yt,Nt==="Polygon",$t===0);else if(Nt==="MultiPolygon")for(var lr=0;lr<Dt.length;lr++){var ir=Dt[lr];for($t=0;$t<ir.length;$t++)qt(Zt,ir[$t],pt,yt,!0,$t===0)}if(Zt.length){var He=st.tags||null;if(Nt==="LineString"&&Pt.lineMetrics){He={};for(var Ge in st.tags)He[Ge]=st.tags[Ge];He.mapbox_clip_start=Dt.start/Dt.size,He.mapbox_clip_end=Dt.end/Dt.size}var Ct={geometry:Zt,type:Nt==="Polygon"||Nt==="MultiPolygon"?3:Nt==="LineString"||Nt==="MultiLineString"?2:1,tags:He};st.id!==null&&(Ct.id=st.id),pt.features.push(Ct)}}function qt(pt,st,yt,Pt,Dt,Nt){var Zt=Pt*Pt;if(Pt>0&&st.size<(Dt?Zt:Pt)){yt.numPoints+=st.length/3;return}for(var $t=[],lr=0;lr<st.length;lr+=3)(Pt===0||st[lr+2]>Zt)&&(yt.numSimplified++,$t.push(st[lr]),$t.push(st[lr+1])),yt.numPoints++;Dt&&Vt($t,Nt),pt.push($t)}function Vt(pt,st){for(var yt=0,Pt=0,Dt=pt.length,Nt=Dt-2;Pt<Dt;Nt=Pt,Pt+=2)yt+=(pt[Pt]-pt[Nt])*(pt[Pt+1]+pt[Nt+1]);if(yt>0===st)for(Pt=0,Dt=pt.length;Pt<Dt/2;Pt+=2){var Zt=pt[Pt],$t=pt[Pt+1];pt[Pt]=pt[Dt-2-Pt],pt[Pt+1]=pt[Dt-1-Pt],pt[Dt-2-Pt]=Zt,pt[Dt-1-Pt]=$t}}function vr(pt,st){return new gr(pt,st)}function gr(pt,st){st=this.options=At(Object.create(this.options),st);var yt=st.debug;if(yt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var Pt=tt(pt,st);this.tiles={},this.tileCoords=[],yt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Pt=Le(Pt,st),Pt.length&&this.splitTile(Pt,0,0,0),yt&&(Pt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}gr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gr.prototype.splitTile=function(pt,st,yt,Pt,Dt,Nt,Zt){for(var $t=[pt,st,yt,Pt],lr=this.options,ir=lr.debug;$t.length;){Pt=$t.pop(),yt=$t.pop(),st=$t.pop(),pt=$t.pop();var He=1<<st,Ge=Gr(st,yt,Pt),Ct=this.tiles[Ge];if(!Ct&&(ir>1&&console.time("creation"),Ct=this.tiles[Ge]=Ot(pt,st,yt,Pt,lr),this.tileCoords.push({z:st,x:yt,y:Pt}),ir)){ir>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,yt,Pt,Ct.numFeatures,Ct.numPoints,Ct.numSimplified),console.timeEnd("creation"));var Ut="z"+st;this.stats[Ut]=(this.stats[Ut]||0)+1,this.total++}if(Ct.source=pt,Dt){if(st===lr.maxZoom||st===Dt)continue;var Kt=1<<Dt-st;if(yt!==Math.floor(Nt/Kt)||Pt!==Math.floor(Zt/Kt))continue}else if(st===lr.indexMaxZoom||Ct.numPoints<=lr.indexMaxPoints)continue;if(Ct.source=null,pt.length!==0){ir>1&&console.time("clipping");var Xt=.5*lr.buffer/lr.extent,ur=.5-Xt,Ar=.5+Xt,Rr=1+Xt,wr,er,_r,Vr,Br,yr;wr=er=_r=Vr=null,Br=Fe(pt,He,yt-Xt,yt+Ar,0,Ct.minX,Ct.maxX,lr),yr=Fe(pt,He,yt+ur,yt+Rr,0,Ct.minX,Ct.maxX,lr),pt=null,Br&&(wr=Fe(Br,He,Pt-Xt,Pt+Ar,1,Ct.minY,Ct.maxY,lr),er=Fe(Br,He,Pt+ur,Pt+Rr,1,Ct.minY,Ct.maxY,lr),Br=null),yr&&(_r=Fe(yr,He,Pt-Xt,Pt+Ar,1,Ct.minY,Ct.maxY,lr),Vr=Fe(yr,He,Pt+ur,Pt+Rr,1,Ct.minY,Ct.maxY,lr),yr=null),ir>1&&console.timeEnd("clipping"),$t.push(wr||[],st+1,yt*2,Pt*2),$t.push(er||[],st+1,yt*2,Pt*2+1),$t.push(_r||[],st+1,yt*2+1,Pt*2),$t.push(Vr||[],st+1,yt*2+1,Pt*2+1)}}},gr.prototype.getTile=function(pt,st,yt){var Pt=this.options,Dt=Pt.extent,Nt=Pt.debug;if(pt<0||pt>24)return null;var Zt=1<<pt;st=(st%Zt+Zt)%Zt;var $t=Gr(pt,st,yt);if(this.tiles[$t])return vt(this.tiles[$t],Dt);Nt>1&&console.log("drilling down to z%d-%d-%d",pt,st,yt);for(var lr=pt,ir=st,He=yt,Ge;!Ge&&lr>0;)lr--,ir=Math.floor(ir/2),He=Math.floor(He/2),Ge=this.tiles[Gr(lr,ir,He)];return!Ge||!Ge.source?null:(Nt>1&&console.log("found parent tile z%d-%d-%d",lr,ir,He),Nt>1&&console.time("drilling down"),this.splitTile(Ge.source,lr,ir,He,pt,st,yt),Nt>1&&console.timeEnd("drilling down"),this.tiles[$t]?vt(this.tiles[$t],Dt):null)};function Gr(pt,st,yt){return((1<<pt)*yt+st)*32+pt}function At(pt,st){for(var yt in st)pt[yt]=st[yt];return pt}function or(pt,st){var yt=pt.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var Pt=this._geoJSONIndex.getTile(yt.z,yt.x,yt.y);if(!Pt)return st(null,null);var Dt=new M(Pt.features),Nt=i(Dt);(Nt.byteOffset!==0||Nt.byteLength!==Nt.buffer.byteLength)&&(Nt=new Uint8Array(Nt)),st(null,{vectorTile:Dt,rawData:Nt.buffer})}var rr=function(pt){function st(yt,Pt,Dt,Nt){pt.call(this,yt,Pt,Dt,or),Nt&&(this.loadGeoJSON=Nt)}return pt&&(st.__proto__=pt),st.prototype=Object.create(pt&&pt.prototype),st.prototype.constructor=st,st.prototype.loadData=function(Pt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Pt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var Pt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Nt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Zt=Nt&&Nt.request&&Nt.request.collectResourceTiming?new a.RequestPerformance(Nt.request):!1;this.loadGeoJSON(Nt,function($t,lr){if($t||!lr)return Dt($t);if(typeof lr!="object")return Dt(new Error("Input data given to '"+Nt.source+"' is not a valid GeoJSON object."));h(lr,!0);try{Pt._geoJSONIndex=Nt.cluster?new ee(Lr(Nt)).load(lr.features):vr(lr,Nt.geojsonVtOptions)}catch(Ge){return Dt(Ge)}Pt.loaded={};var ir={};if(Zt){var He=Zt.finish();He&&(ir.resourceTiming={},ir.resourceTiming[Nt.source]=JSON.parse(JSON.stringify(He)))}Dt(null,ir)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(Pt,Dt){var Nt=this.loaded,Zt=Pt.uid;return Nt&&Nt[Zt]?pt.prototype.reloadTile.call(this,Pt,Dt):this.loadTile(Pt,Dt)},st.prototype.loadGeoJSON=function(Pt,Dt){if(Pt.request)a.getJSON(Pt.request,Dt);else if(typeof Pt.data=="string")try{return Dt(null,JSON.parse(Pt.data))}catch{return Dt(new Error("Input data given to '"+Pt.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Pt.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(Pt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},st.prototype.getClusterExpansionZoom=function(Pt,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Pt.clusterId))}catch(Nt){Dt(Nt)}},st.prototype.getClusterChildren=function(Pt,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Pt.clusterId))}catch(Nt){Dt(Nt)}},st.prototype.getClusterLeaves=function(Pt,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Pt.clusterId,Pt.limit,Pt.offset))}catch(Nt){Dt(Nt)}},st}(c);function Lr(pt){var st=pt.superclusterOptions,yt=pt.clusterProperties;if(!yt||!st)return st;for(var Pt={},Dt={},Nt={accumulated:null,zoom:0},Zt={properties:null},$t=Object.keys(yt),lr=0,ir=$t;lr<ir.length;lr+=1){var He=ir[lr],Ge=yt[He],Ct=Ge[0],Ut=Ge[1],Kt=a.createExpression(Ut),Xt=a.createExpression(typeof Ct=="string"?[Ct,["accumulated"],["get",He]]:Ct);Pt[He]=Kt.value,Dt[He]=Xt.value}return st.map=function(ur){Zt.properties=ur;for(var Ar={},Rr=0,wr=$t;Rr<wr.length;Rr+=1){var er=wr[Rr];Ar[er]=Pt[er].evaluate(Nt,Zt)}return Ar},st.reduce=function(ur,Ar){Zt.properties=Ar;for(var Rr=0,wr=$t;Rr<wr.length;Rr+=1){var er=wr[Rr];Nt.accumulated=ur[er],ur[er]=Dt[er].evaluate(Nt,Zt)}},st}var Tr=function(st){var yt=this;this.self=st,this.actor=new a.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:rr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Pt,Dt){if(yt.workerSourceTypes[Pt])throw new Error('Worker source with name "'+Pt+'" already registered.');yt.workerSourceTypes[Pt]=Dt},this.self.registerRTLTextPlugin=function(Pt){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Pt.applyArabicShaping,a.plugin.processBidirectionalText=Pt.processBidirectionalText,a.plugin.processStyledBidirectionalText=Pt.processStyledBidirectionalText}};return Tr.prototype.setReferrer=function(st,yt){this.referrer=yt},Tr.prototype.setImages=function(st,yt,Pt){this.availableImages[st]=yt;for(var Dt in this.workerSources[st]){var Nt=this.workerSources[st][Dt];for(var Zt in Nt)Nt[Zt].availableImages=yt}Pt()},Tr.prototype.setLayers=function(st,yt,Pt){this.getLayerIndex(st).replace(yt),Pt()},Tr.prototype.updateLayers=function(st,yt,Pt){this.getLayerIndex(st).update(yt.layers,yt.removedIds),Pt()},Tr.prototype.loadTile=function(st,yt,Pt){this.getWorkerSource(st,yt.type,yt.source).loadTile(yt,Pt)},Tr.prototype.loadDEMTile=function(st,yt,Pt){this.getDEMWorkerSource(st,yt.source).loadTile(yt,Pt)},Tr.prototype.reloadTile=function(st,yt,Pt){this.getWorkerSource(st,yt.type,yt.source).reloadTile(yt,Pt)},Tr.prototype.abortTile=function(st,yt,Pt){this.getWorkerSource(st,yt.type,yt.source).abortTile(yt,Pt)},Tr.prototype.removeTile=function(st,yt,Pt){this.getWorkerSource(st,yt.type,yt.source).removeTile(yt,Pt)},Tr.prototype.removeDEMTile=function(st,yt){this.getDEMWorkerSource(st,yt.source).removeTile(yt)},Tr.prototype.removeSource=function(st,yt,Pt){if(!(!this.workerSources[st]||!this.workerSources[st][yt.type]||!this.workerSources[st][yt.type][yt.source])){var Dt=this.workerSources[st][yt.type][yt.source];delete this.workerSources[st][yt.type][yt.source],Dt.removeSource!==void 0?Dt.removeSource(yt,Pt):Pt()}},Tr.prototype.loadWorkerSource=function(st,yt,Pt){try{this.self.importScripts(yt.url),Pt()}catch(Dt){Pt(Dt.toString())}},Tr.prototype.syncRTLPluginState=function(st,yt,Pt){try{a.plugin.setState(yt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Nt=a.plugin.isParsed(),Zt=Nt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Pt(Zt,Nt)}}catch($t){Pt($t.toString())}},Tr.prototype.getAvailableImages=function(st){var yt=this.availableImages[st];return yt||(yt=[]),yt},Tr.prototype.getLayerIndex=function(st){var yt=this.layerIndexes[st];return yt||(yt=this.layerIndexes[st]=new g),yt},Tr.prototype.getWorkerSource=function(st,yt,Pt){var Dt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][yt]||(this.workerSources[st][yt]={}),!this.workerSources[st][yt][Pt]){var Nt={send:function(Zt,$t,lr){Dt.actor.send(Zt,$t,lr,st)}};this.workerSources[st][yt][Pt]=new this.workerSourceTypes[yt](Nt,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][yt][Pt]},Tr.prototype.getDEMWorkerSource=function(st,yt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][yt]||(this.demWorkerSources[st][yt]=new x),this.demWorkerSources[st][yt]},Tr.prototype.enforceCacheSizeLimit=function(st,yt){a.enforceCacheSizeLimit(yt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new Tr(a.window)),Tr}),L(["./shared"],function(a){var P=a.createCommonjsModule(function(he){he.exports?he.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=de);function X(Jr){return!de(Jr)}function de(Jr){if(!te())return"not a browser";if(!pe())return"insufficent Array support";if(!De())return"insufficient Function support";if(!Ye())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!St())return"insufficient worker support";if(!jt())return"insufficient Uint8ClampedArray support";if(!sr())return"insufficient ArrayBuffer support";if(!mr())return"insufficient Canvas/getImageData support";if(!Hr(Jr&&Jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function De(){return Function.prototype&&Function.prototype.bind}function Ye(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function St(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Jr=new Blob([""],{type:"text/javascript"}),ln=URL.createObjectURL(Jr),yn,_n;try{_n=new Worker(ln),yn=!0}catch{yn=!1}return _n&&_n.terminate(),URL.revokeObjectURL(ln),yn}function jt(){return"Uint8ClampedArray"in window}function sr(){return ArrayBuffer.isView}function mr(){var Jr=document.createElement("canvas");Jr.width=Jr.height=1;var ln=Jr.getContext("2d");if(!ln)return!1;var yn=ln.getImageData(0,0,1,1);return yn&&yn.width===Jr.width}var Er={};function Hr(Jr){return Er[Jr]===void 0&&(Er[Jr]=qr(Jr)),Er[Jr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function $r(Jr){var ln=document.createElement("canvas"),yn=Object.create(X.webGLContextAttributes);return yn.failIfMajorPerformanceCaveat=Jr,ln.probablySupportsContext?ln.probablySupportsContext("webgl",yn)||ln.probablySupportsContext("experimental-webgl",yn):ln.supportsContext?ln.supportsContext("webgl",yn)||ln.supportsContext("experimental-webgl",yn):ln.getContext("webgl",yn)||ln.getContext("experimental-webgl",yn)}function qr(Jr){var ln=$r(Jr);if(!ln)return!1;var yn=ln.createShader(ln.VERTEX_SHADER);return!yn||ln.isContextLost()?!1:(ln.shaderSource(yn,"void main() {}"),ln.compileShader(yn),ln.getShaderParameter(yn,ln.COMPILE_STATUS)===!0)}}),A={};A.create=function(he,X,de){var te=a.window.document.createElement(he);return X!==void 0&&(te.className=X),de&&de.appendChild(te),te},A.createNS=function(he,X){var de=a.window.document.createElementNS(he,X);return de};var v=a.window.document.documentElement.style;function g(he){if(!v)return he[0];for(var X=0;X<he.length;X++)if(he[X]in v)return he[X];return he[0]}var t=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;A.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},A.enableDrag=function(){v&&t&&(v[t]=r)};var u=g(["transform","WebkitTransform"]);A.setTransform=function(he,X){he.style[u]=X};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});a.window.addEventListener("test",l,l),a.window.removeEventListener("test",l,l)}catch{o=!1}A.addEventListener=function(he,X,de,te){te===void 0&&(te={}),"passive"in te&&o?he.addEventListener(X,de,te):he.addEventListener(X,de,te.capture)},A.removeEventListener=function(he,X,de,te){te===void 0&&(te={}),"passive"in te&&o?he.removeEventListener(X,de,te):he.removeEventListener(X,de,te.capture)};var c=function(he){he.preventDefault(),he.stopPropagation(),a.window.removeEventListener("click",c,!0)};A.suppressClick=function(){a.window.addEventListener("click",c,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",c,!0)},0)},A.mousePos=function(he,X){var de=he.getBoundingClientRect();return new a.Point(X.clientX-de.left-he.clientLeft,X.clientY-de.top-he.clientTop)},A.touchPos=function(he,X){for(var de=he.getBoundingClientRect(),te=[],pe=0;pe<X.length;pe++)te.push(new a.Point(X[pe].clientX-de.left-he.clientLeft,X[pe].clientY-de.top-he.clientTop));return te},A.mouseButton=function(he){return typeof a.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},A.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function n(he,X,de){var te,pe,De,Ye=a.browser.devicePixelRatio>1?"@2x":"",ut=a.getJSON(X.transformRequest(X.normalizeSpriteURL(he,Ye,".json"),a.ResourceType.SpriteJSON),function(sr,mr){ut=null,De||(De=sr,te=mr,jt())}),St=a.getImage(X.transformRequest(X.normalizeSpriteURL(he,Ye,".png"),a.ResourceType.SpriteImage),function(sr,mr){St=null,De||(De=sr,pe=mr,jt())});function jt(){if(De)de(De);else if(te&&pe){var sr=a.browser.getImageData(pe),mr={};for(var Er in te){var Hr=te[Er],$r=Hr.width,qr=Hr.height,Jr=Hr.x,ln=Hr.y,yn=Hr.sdf,_n=Hr.pixelRatio,Vn=Hr.stretchX,ea=Hr.stretchY,ra=Hr.content,ta=new a.RGBAImage({width:$r,height:qr});a.RGBAImage.copy(sr,ta,{x:Jr,y:ln},{x:0,y:0},{width:$r,height:qr}),mr[Er]={data:ta,pixelRatio:_n,sdf:yn,stretchX:Vn,stretchY:ea,content:ra}}de(null,mr)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),St&&(St.cancel(),St=null)}}}function x(he){var X=he.userImage;if(X&&X.render){var de=X.render();if(de)return he.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var h=1,T=function(he){function X(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var pe=0,De=this.requestors;pe<De.length;pe+=1){var Ye=De[pe],ut=Ye.ids,St=Ye.callback;this._notify(ut,St)}this.requestors=[]}},X.prototype.getImage=function(te){return this.images[te]},X.prototype.addImage=function(te,pe){this._validate(te,pe)&&(this.images[te]=pe)},X.prototype._validate=function(te,pe){var De=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),De=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),De=!1),this._validateContent(pe.content,pe)||(this.fire(new a.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),De=!1),De},X.prototype._validateStretch=function(te,pe){if(!te)return!0;for(var De=0,Ye=0,ut=te;Ye<ut.length;Ye+=1){var St=ut[Ye];if(St[0]<De||St[1]<St[0]||pe<St[1])return!1;De=St[1]}return!0},X.prototype._validateContent=function(te,pe){return te?!(te.length!==4||te[0]<0||pe.data.width<te[0]||te[1]<0||pe.data.height<te[1]||te[2]<0||pe.data.width<te[2]||te[3]<0||pe.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},X.prototype.updateImage=function(te,pe){var De=this.images[te];pe.version=De.version+1,this.images[te]=pe,this.updatedImages[te]=!0},X.prototype.removeImage=function(te){var pe=this.images[te];delete this.images[te],delete this.patterns[te],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(te,pe){var De=!0;if(!this.isLoaded())for(var Ye=0,ut=te;Ye<ut.length;Ye+=1){var St=ut[Ye];this.images[St]||(De=!1)}this.isLoaded()||De?this._notify(te,pe):this.requestors.push({ids:te,callback:pe})},X.prototype._notify=function(te,pe){for(var De={},Ye=0,ut=te;Ye<ut.length;Ye+=1){var St=ut[Ye];this.images[St]||this.fire(new a.Event("styleimagemissing",{id:St}));var jt=this.images[St];jt?De[St]={data:jt.data.clone(),pixelRatio:jt.pixelRatio,sdf:jt.sdf,version:jt.version,stretchX:jt.stretchX,stretchY:jt.stretchY,content:jt.content,hasRenderCallback:Boolean(jt.userImage&&jt.userImage.render)}:a.warnOnce('Image "'+St+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,De)},X.prototype.getPixelSize=function(){var te=this.atlasImage,pe=te.width,De=te.height;return{width:pe,height:De}},X.prototype.getPattern=function(te){var pe=this.patterns[te],De=this.getImage(te);if(!De)return null;if(pe&&pe.position.version===De.version)return pe.position;if(pe)pe.position.version=De.version;else{var Ye=De.data.width+h*2,ut=De.data.height+h*2,St={w:Ye,h:ut,x:0,y:0},jt=new a.ImagePosition(St,De);this.patterns[te]={bin:St,position:jt}}return this._updatePatternAtlas(),this.patterns[te].position},X.prototype.bind=function(te){var pe=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(te,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var te=[];for(var pe in this.patterns)te.push(this.patterns[pe].bin);var De=a.potpack(te),Ye=De.w,ut=De.h,St=this.atlasImage;St.resize({width:Ye||1,height:ut||1});for(var jt in this.patterns){var sr=this.patterns[jt],mr=sr.bin,Er=mr.x+h,Hr=mr.y+h,$r=this.images[jt].data,qr=$r.width,Jr=$r.height;a.RGBAImage.copy($r,St,{x:0,y:0},{x:Er,y:Hr},{width:qr,height:Jr}),a.RGBAImage.copy($r,St,{x:0,y:Jr-1},{x:Er,y:Hr-1},{width:qr,height:1}),a.RGBAImage.copy($r,St,{x:0,y:0},{x:Er,y:Hr+Jr},{width:qr,height:1}),a.RGBAImage.copy($r,St,{x:qr-1,y:0},{x:Er-1,y:Hr},{width:1,height:Jr}),a.RGBAImage.copy($r,St,{x:0,y:0},{x:Er+qr,y:Hr},{width:1,height:Jr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(te){for(var pe=0,De=te;pe<De.length;pe+=1){var Ye=De[pe];if(!this.callbackDispatchedThisFrame[Ye]){this.callbackDispatchedThisFrame[Ye]=!0;var ut=this.images[Ye],St=x(ut);St&&this.updateImage(Ye,ut)}}},X}(a.Evented);function f(he,X,de,te,pe){var De=X*256,Ye=De+255,ut=te.transformRequest(te.normalizeGlyphsURL(de).replace("{fontstack}",he).replace("{range}",De+"-"+Ye),a.ResourceType.Glyphs);a.getArrayBuffer(ut,function(St,jt){if(St)pe(St);else if(jt){for(var sr={},mr=0,Er=a.parseGlyphPBF(jt);mr<Er.length;mr+=1){var Hr=Er[mr];sr[Hr.id]=Hr}pe(null,sr)}})}var s=M,d=M,S=1e20;function M(he,X,de,te,pe,De){this.fontSize=he||24,this.buffer=X===void 0?3:X,this.cutoff=te||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=De||"normal",this.radius=de||8;var Ye=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ye,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ye*Ye),this.gridInner=new Float64Array(Ye*Ye),this.f=new Float64Array(Ye),this.d=new Float64Array(Ye),this.z=new Float64Array(Ye+1),this.v=new Int16Array(Ye),this.middle=Math.round(Ye/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}M.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var pe=X.data[te*4+3]/255;this.gridOuter[te]=pe===1?0:pe===0?S:Math.pow(Math.max(0,.5-pe),2),this.gridInner[te]=pe===1?S:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var De=this.gridOuter[te]-this.gridInner[te];de[te]=Math.max(0,Math.min(255,Math.round(255-255*(De/this.radius+this.cutoff))))}return de};function C(he,X,de,te,pe,De,Ye){for(var ut=0;ut<X;ut++){for(var St=0;St<de;St++)te[St]=he[St*X+ut];for(y(te,pe,De,Ye,de),St=0;St<de;St++)he[St*X+ut]=pe[St]}for(St=0;St<de;St++){for(ut=0;ut<X;ut++)te[ut]=he[St*X+ut];for(y(te,pe,De,Ye,X),ut=0;ut<X;ut++)he[St*X+ut]=Math.sqrt(pe[ut])}}function y(he,X,de,te,pe){de[0]=0,te[0]=-S,te[1]=+S;for(var De=1,Ye=0;De<pe;De++){for(var ut=(he[De]+De*De-(he[de[Ye]]+de[Ye]*de[Ye]))/(2*De-2*de[Ye]);ut<=te[Ye];)Ye--,ut=(he[De]+De*De-(he[de[Ye]]+de[Ye]*de[Ye]))/(2*De-2*de[Ye]);Ye++,de[Ye]=De,te[Ye]=ut,te[Ye+1]=+S}for(De=0,Ye=0;De<pe;De++){for(;te[Ye+1]<De;)Ye++;X[De]=(De-de[Ye])*(De-de[Ye])+he[de[Ye]]}}s.default=d;var w=function(X,de){this.requestManager=X,this.localIdeographFontFamily=de,this.entries={}};w.prototype.setURL=function(X){this.url=X},w.prototype.getGlyphs=function(X,de){var te=this,pe=[];for(var De in X)for(var Ye=0,ut=X[De];Ye<ut.length;Ye+=1){var St=ut[Ye];pe.push({stack:De,id:St})}a.asyncAll(pe,function(jt,sr){var mr=jt.stack,Er=jt.id,Hr=te.entries[mr];Hr||(Hr=te.entries[mr]={glyphs:{},requests:{},ranges:{}});var $r=Hr.glyphs[Er];if($r!==void 0){sr(null,{stack:mr,id:Er,glyph:$r});return}if($r=te._tinySDF(Hr,mr,Er),$r){Hr.glyphs[Er]=$r,sr(null,{stack:mr,id:Er,glyph:$r});return}var qr=Math.floor(Er/256);if(qr*256>65535){sr(new Error("glyphs > 65535 not supported"));return}if(Hr.ranges[qr]){sr(null,{stack:mr,id:Er,glyph:$r});return}var Jr=Hr.requests[qr];Jr||(Jr=Hr.requests[qr]=[],w.loadGlyphRange(mr,qr,te.url,te.requestManager,function(ln,yn){if(yn){for(var _n in yn)te._doesCharSupportLocalGlyph(+_n)||(Hr.glyphs[+_n]=yn[+_n]);Hr.ranges[qr]=!0}for(var Vn=0,ea=Jr;Vn<ea.length;Vn+=1){var ra=ea[Vn];ra(ln,yn)}delete Hr.requests[qr]})),Jr.push(function(ln,yn){ln?sr(ln):yn&&sr(null,{stack:mr,id:Er,glyph:yn[Er]||null})})},function(jt,sr){if(jt)de(jt);else if(sr){for(var mr={},Er=0,Hr=sr;Er<Hr.length;Er+=1){var $r=Hr[Er],qr=$r.stack,Jr=$r.id,ln=$r.glyph;(mr[qr]||(mr[qr]={}))[Jr]=ln&&{id:ln.id,bitmap:ln.bitmap.clone(),metrics:ln.metrics}}de(null,mr)}})},w.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](X)||a.isChar["Hangul Syllables"](X)||a.isChar.Hiragana(X)||a.isChar.Katakana(X))},w.prototype._tinySDF=function(X,de,te){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(te)){var De=X.tinySDF;if(!De){var Ye="400";/bold/i.test(de)?Ye="900":/medium/i.test(de)?Ye="500":/light/i.test(de)&&(Ye="200"),De=X.tinySDF=new w.TinySDF(24,3,8,.25,pe,Ye)}return{id:te,bitmap:new a.AlphaImage({width:30,height:30},De.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},w.loadGlyphRange=f,w.TinySDF=s;var b=function(){this.specification=a.styleSpec.light.position};b.prototype.possiblyEvaluate=function(X,de){return a.sphericalToCartesian(X.expression.evaluate(de))},b.prototype.interpolate=function(X,de,te){return{x:a.number(X.x,de.x,te),y:a.number(X.y,de.y,te),z:a.number(X.z,de.z,te)}};var i=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new b,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),E="-transition",m=function(he){function X(de){he.call(this),this._transitionable=new a.Transitionable(i),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(te,pe){if(pe===void 0&&(pe={}),!this._validate(a.validateLight,te,pe))for(var De in te){var Ye=te[De];a.endsWith(De,E)?this._transitionable.setTransition(De.slice(0,-E.length),Ye):this._transitionable.setValue(De,Ye)}},X.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},X.prototype._validate=function(te,pe,De){return De&&De.validate===!1?!1:a.emitValidationErrors(this,te.call(a.validateStyle,a.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),F=function(X,de){this.width=X,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(X,de){var te=X.join(",")+String(de);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(X,de)),this.dashEntry[te]},F.prototype.getDashRanges=function(X,de,te){var pe=X.length%2===1,De=[],Ye=pe?-X[X.length-1]*te:0,ut=X[0]*te,St=!0;De.push({left:Ye,right:ut,isDash:St,zeroLength:X[0]===0});for(var jt=X[0],sr=1;sr<X.length;sr++){St=!St;var mr=X[sr];Ye=jt*te,jt+=mr,ut=jt*te,De.push({left:Ye,right:ut,isDash:St,zeroLength:mr===0})}return De},F.prototype.addRoundDash=function(X,de,te){for(var pe=de/2,De=-te;De<=te;De++)for(var Ye=this.nextRow+te+De,ut=this.width*Ye,St=0,jt=X[St],sr=0;sr<this.width;sr++){sr/jt.right>1&&(jt=X[++St]);var mr=Math.abs(sr-jt.left),Er=Math.abs(sr-jt.right),Hr=Math.min(mr,Er),$r=void 0,qr=De/te*(pe+1);if(jt.isDash){var Jr=pe-Math.abs(qr);$r=Math.sqrt(Hr*Hr+Jr*Jr)}else $r=pe-Math.sqrt(Hr*Hr+qr*qr);this.data[ut+sr]=Math.max(0,Math.min(255,$r+128))}},F.prototype.addRegularDash=function(X){for(var de=X.length-1;de>=0;--de){var te=X[de],pe=X[de+1];te.zeroLength?X.splice(de,1):pe&&pe.isDash===te.isDash&&(pe.left=te.left,X.splice(de,1))}var De=X[0],Ye=X[X.length-1];De.isDash===Ye.isDash&&(De.left=Ye.left-this.width,Ye.right=De.right+this.width);for(var ut=this.width*this.nextRow,St=0,jt=X[St],sr=0;sr<this.width;sr++){sr/jt.right>1&&(jt=X[++St]);var mr=Math.abs(sr-jt.left),Er=Math.abs(sr-jt.right),Hr=Math.min(mr,Er),$r=jt.isDash?Hr:-Hr;this.data[ut+sr]=Math.max(0,Math.min(255,$r+128))}},F.prototype.addDash=function(X,de){var te=de?7:0,pe=2*te+1;if(this.nextRow+pe>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var De=0,Ye=0;Ye<X.length;Ye++)De+=X[Ye];if(De!==0){var ut=this.width/De,St=this.getDashRanges(X,this.width,ut);de?this.addRoundDash(St,ut,te):this.addRegularDash(St)}var jt={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:De};return this.nextRow+=pe,this.dirty=!0,jt},F.prototype.bind=function(X){var de=X.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var _=function he(X,de){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var te=this.workerPool.acquire(this.id),pe=0;pe<te.length;pe++){var De=te[pe],Ye=new he.Actor(De,de,this.id);Ye.name="Worker "+pe,this.actors.push(Ye)}};_.prototype.broadcast=function(X,de,te){te=te||function(){},a.asyncAll(this.actors,function(pe,De){pe.send(X,de,De)},te)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=a.Actor;function B(he,X,de){var te=function(pe,De){if(pe)return de(pe);if(De){var Ye=a.pick(a.extend(De,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);De.vector_layers&&(Ye.vectorLayers=De.vector_layers,Ye.vectorLayerIds=Ye.vectorLayers.map(function(ut){return ut.id})),Ye.tiles=X.canonicalizeTileset(Ye,he.url),de(null,Ye)}};return he.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(he.url),a.ResourceType.Source),te):a.browser.frame(function(){return te(null,he)})}var I=function(X,de,te){this.bounds=a.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=de||0,this.maxzoom=te||24};I.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},I.prototype.contains=function(X){var de=Math.pow(2,X.z),te={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*de)},pe=X.x>=te.minX&&X.x<te.maxX&&X.y>=te.minY&&X.y<te.maxY;return pe};var O=function(he){function X(de,te,pe,De){if(he.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(te,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(De)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,De){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new a.ErrorEvent(pe)):De&&(a.extend(te,De),De.bounds&&(te.tileBounds=new I(De.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(De.tiles,te.map._requestManager._customAccessToken),a.postMapLoadEvent(De.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(te,pe){var De=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Ye={request:this.map._requestManager.transformRequest(De,a.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ye.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Ye,ut.bind(this))):te.state==="loading"?te.reloadCallback=pe:te.request=te.actor.send("reloadTile",Ye,ut.bind(this));function ut(St,jt){if(delete te.request,te.aborted)return pe(null);if(St&&St.status!==404)return pe(St);jt&&jt.resourceTiming&&(te.resourceTiming=jt.resourceTiming),this.map._refreshExpiredTiles&&jt&&te.setExpiryData(jt),te.loadVectorData(jt,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),pe(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},X.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),z=function(he){function X(de,te,pe,De){he.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(De),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},te),a.extend(this,a.pick(te,["url","scheme","tileSize"]))}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,De){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new a.ErrorEvent(pe)):De&&(a.extend(te,De),De.bounds&&(te.tileBounds=new I(De.bounds,te.minzoom,te.maxzoom)),a.postTurnstileEvent(De.tiles),a.postMapLoadEvent(De.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},X.prototype.loadTile=function(te,pe){var De=this,Ye=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest(Ye,a.ResourceType.Tile),function(ut,St){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(ut)te.state="errored",pe(ut);else if(St){De.map._refreshExpiredTiles&&te.setExpiryData(St),delete St.cacheControl,delete St.expires;var jt=De.map.painter.context,sr=jt.gl;te.texture=De.map.painter.getTileTexture(St.width),te.texture?te.texture.update(St,{useMipmap:!0}):(te.texture=new a.Texture(jt,St,sr.RGBA,{useMipmap:!0}),te.texture.bind(sr.LINEAR,sr.CLAMP_TO_EDGE,sr.LINEAR_MIPMAP_NEAREST),jt.extTextureFilterAnisotropic&&sr.texParameterf(sr.TEXTURE_2D,jt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,jt.extTextureFilterAnisotropicMax)),te.state="loaded",a.cacheEntryPossiblyAdded(De.dispatcher),pe(null)}})},X.prototype.abortTile=function(te,pe){te.request&&(te.request.cancel(),delete te.request),pe()},X.prototype.unloadTile=function(te,pe){te.texture&&this.map.painter.saveTileTexture(te.texture),pe()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),k=function(he){function X(de,te,pe,De){he.call(this,de,te,pe,De),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(te,pe){var De=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=a.getImage(this.map._requestManager.transformRequest(De,a.ResourceType.Tile),Ye.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Ye(St,jt){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(St)te.state="errored",pe(St);else if(jt){this.map._refreshExpiredTiles&&te.setExpiryData(jt),delete jt.cacheControl,delete jt.expires;var sr=a.window.ImageBitmap&&jt instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),mr=sr?jt:a.browser.getImageData(jt,1),Er={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:mr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",Er,ut.bind(this)))}}function ut(St,jt){St&&(te.state="errored",pe(St)),jt&&(te.dem=jt,te.needsHillshadePrepare=!0,te.state="loaded",pe(null))}},X.prototype._getNeighboringTiles=function(te){var pe=te.canonical,De=Math.pow(2,pe.z),Ye=(pe.x-1+De)%De,ut=pe.x===0?te.wrap-1:te.wrap,St=(pe.x+1+De)%De,jt=pe.x+1===De?te.wrap+1:te.wrap,sr={};return sr[new a.OverscaledTileID(te.overscaledZ,ut,pe.z,Ye,pe.y).key]={backfilled:!1},sr[new a.OverscaledTileID(te.overscaledZ,jt,pe.z,St,pe.y).key]={backfilled:!1},pe.y>0&&(sr[new a.OverscaledTileID(te.overscaledZ,ut,pe.z,Ye,pe.y-1).key]={backfilled:!1},sr[new a.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},sr[new a.OverscaledTileID(te.overscaledZ,jt,pe.z,St,pe.y-1).key]={backfilled:!1}),pe.y+1<De&&(sr[new a.OverscaledTileID(te.overscaledZ,ut,pe.z,Ye,pe.y+1).key]={backfilled:!1},sr[new a.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},sr[new a.OverscaledTileID(te.overscaledZ,jt,pe.z,St,pe.y+1).key]={backfilled:!1}),sr},X.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},X}(z),N=function(he){function X(de,te,pe,De){he.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(De),this._data=te.data,this._options=a.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Ye=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Ye,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Ye,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(te.clusterRadius||50)*Ye,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){te.fire(new a.ErrorEvent(pe));return}var De={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(De.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new a.Event("data",De))})},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.setData=function(te){var pe=this;return this._data=te,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(De){if(De){pe.fire(new a.ErrorEvent(De));return}var Ye={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Ye.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new a.Event("data",Ye))}),this},X.prototype.getClusterExpansionZoom=function(te,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},pe),this},X.prototype.getClusterChildren=function(te,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},pe),this},X.prototype.getClusterLeaves=function(te,pe,De,Ye){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:pe,offset:De},Ye),this},X.prototype._updateWorkerData=function(te){var pe=this;this._loaded=!1;var De=a.extend({},this.workerOptions),Ye=this._data;typeof Ye=="string"?(De.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ye),a.ResourceType.Source),De.request.collectResourceTiming=this._collectResourceTiming):De.data=JSON.stringify(Ye),this.actor.send(this.type+".loadData",De,function(ut,St){pe._removed||St&&St.abandoned||(pe._loaded=!0,St&&St.resourceTiming&&St.resourceTiming[pe.id]&&(pe._resourceTiming=St.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:De.source},null),te(ut))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(te,pe){var De=this,Ye=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ut={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Ye,ut,function(St,jt){return delete te.request,te.unloadVectorData(),te.aborted?pe(null):St?pe(St):(te.loadVectorData(jt,De.map.painter,Ye==="reloadTile"),pe(null))})},X.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},X.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),K=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(he){function X(de,te,pe,De){he.call(this),this.id=de,this.dispatcher=pe,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(De),this.options=te}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(te,pe){var De=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ye,ut){De._loaded=!0,Ye?De.fire(new a.ErrorEvent(Ye)):ut&&(De.image=ut,te&&(De.coordinates=te),pe&&pe(),De._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(te){var pe=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){pe.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.setCoordinates=function(te){var pe=this;this.coordinates=te;var De=te.map(a.MercatorCoordinate.fromLngLat);this.tileID=Q(De),this.minzoom=this.maxzoom=this.tileID.z;var Ye=De.map(function(ut){return pe.tileID.getTilePoint(ut)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ye[0].x,Ye[0].y,0,0),this._boundsArray.emplaceBack(Ye[1].x,Ye[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ye[3].x,Ye[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ye[2].x,Ye[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(te,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var De in this.tiles){var Ye=this.tiles[De];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},X.prototype.loadTile=function(te,pe){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},pe(null)):(te.state="errored",pe(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented);function Q(he){for(var X=1/0,de=1/0,te=-1/0,pe=-1/0,De=0,Ye=he;De<Ye.length;De+=1){var ut=Ye[De];X=Math.min(X,ut.x),de=Math.min(de,ut.y),te=Math.max(te,ut.x),pe=Math.max(pe,ut.y)}var St=te-X,jt=pe-de,sr=Math.max(St,jt),mr=Math.max(0,Math.floor(-Math.log(sr)/Math.LN2)),Er=Math.pow(2,mr);return new a.CanonicalTileID(mr,Math.floor((X+te)/2*Er),Math.floor((de+pe)/2*Er))}var re=function(he){function X(de,te,pe,De){he.call(this,de,te,pe,De),this.roundZoom=!0,this.type="video",this.options=te}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var De=0,Ye=pe.urls;De<Ye.length;De+=1){var ut=Ye[De];this.urls.push(this.map._requestManager.transformRequest(ut,a.ResourceType.Source).url)}a.getVideo(this.urls,function(St,jt){te._loaded=!0,St?te.fire(new a.ErrorEvent(St)):jt&&(te.video=jt,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(te){if(this.video){var pe=this.video.seekable;te<pe.start(0)||te>pe.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=te}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(te,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var De in this.tiles){var Ye=this.tiles[De];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(q),oe=function(he){function X(de,te,pe,De){he.call(this,de,te,pe,De),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Ye){return!Array.isArray(Ye)||Ye.length!==2||Ye.some(function(ut){return typeof ut!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,De=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(pe,this.canvas,De.RGBA,{premultiply:!0});for(var Ye in this.tiles){var ut=this.tiles[Ye];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var te=0,pe=[this.canvas.width,this.canvas.height];te<pe.length;te+=1){var De=pe[te];if(isNaN(De)||De<=0)return!0}return!1},X}(q),Y={vector:O,raster:z,"raster-dem":k,geojson:N,video:re,image:q,canvas:oe},G=function(he,X,de,te){var pe=new Y[X.type](he,X,de,te);if(pe.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+pe.id);return a.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},V=function(he){return Y[he]},Z=function(he,X){Y[he]=X};function ae(he,X){var de=a.identity([]);return a.translate(de,de,[1,1,0]),a.scale(de,de,[he.width*.5,he.height*.5,1]),a.multiply(de,de,he.calculatePosMatrix(X.toUnwrapped()))}function ie(he,X,de){if(he)for(var te=0,pe=he;te<pe.length;te+=1){var De=pe[te],Ye=X[De];if(Ye&&Ye.source===de&&Ye.type==="fill-extrusion")return!0}else for(var ut in X){var St=X[ut];if(St.source===de&&St.type==="fill-extrusion")return!0}return!1}function J(he,X,de,te,pe,De){var Ye=ie(pe&&pe.layers,X,he.id),ut=De.maxPitchScaleFactor(),St=he.tilesIn(te,ut,Ye);St.sort(ee);for(var jt=[],sr=0,mr=St;sr<mr.length;sr+=1){var Er=mr[sr];jt.push({wrappedTileID:Er.tileID.wrapped().key,queryResults:Er.tile.queryRenderedFeatures(X,de,he._state,Er.queryGeometry,Er.cameraQueryGeometry,Er.scale,pe,De,ut,ae(he.transform,Er.tileID))})}var Hr=ue(jt);for(var $r in Hr)Hr[$r].forEach(function(qr){var Jr=qr.feature,ln=he.getFeatureState(Jr.layer["source-layer"],Jr.id);Jr.source=Jr.layer.source,Jr.layer["source-layer"]&&(Jr.sourceLayer=Jr.layer["source-layer"]),Jr.state=ln});return Hr}function $(he,X,de,te,pe,De,Ye){for(var ut={},St=De.queryRenderedSymbols(te),jt=[],sr=0,mr=Object.keys(St).map(Number);sr<mr.length;sr+=1){var Er=mr[sr];jt.push(Ye[Er])}jt.sort(ee);for(var Hr=function(){var yn=qr[$r],_n=yn.featureIndex.lookupSymbolFeatures(St[yn.bucketInstanceId],X,yn.bucketIndex,yn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,he);for(var Vn in _n){var ea=ut[Vn]=ut[Vn]||[],ra=_n[Vn];ra.sort(function(va,Ta){var Ca=yn.featureSortOrder;if(Ca){var Ba=Ca.indexOf(va.featureIndex),Qa=Ca.indexOf(Ta.featureIndex);return Qa-Ba}else return Ta.featureIndex-va.featureIndex});for(var ta=0,la=ra;ta<la.length;ta+=1){var da=la[ta];ea.push(da)}}},$r=0,qr=jt;$r<qr.length;$r+=1)Hr();var Jr=function(yn){ut[yn].forEach(function(_n){var Vn=_n.feature,ea=he[yn],ra=de[ea.source],ta=ra.getFeatureState(Vn.layer["source-layer"],Vn.id);Vn.source=Vn.layer.source,Vn.layer["source-layer"]&&(Vn.sourceLayer=Vn.layer["source-layer"]),Vn.state=ta})};for(var ln in ut)Jr(ln);return ut}function se(he,X){for(var de=he.getRenderableIds().map(function(St){return he.getTileByID(St)}),te=[],pe={},De=0;De<de.length;De++){var Ye=de[De],ut=Ye.tileID.canonical.key;pe[ut]||(pe[ut]=!0,Ye.querySourceFeatures(te,X))}return te}function ee(he,X){var de=he.tileID,te=X.tileID;return de.overscaledZ-te.overscaledZ||de.canonical.y-te.canonical.y||de.wrap-te.wrap||de.canonical.x-te.canonical.x}function ue(he){for(var X={},de={},te=0,pe=he;te<pe.length;te+=1){var De=pe[te],Ye=De.queryResults,ut=De.wrappedTileID,St=de[ut]=de[ut]||{};for(var jt in Ye)for(var sr=Ye[jt],mr=St[jt]=St[jt]||{},Er=X[jt]=X[jt]||[],Hr=0,$r=sr;Hr<$r.length;Hr+=1){var qr=$r[Hr];mr[qr.featureIndex]||(mr[qr.featureIndex]=!0,Er.push(qr))}}return X}var ge=function(X,de){this.max=X,this.onRemove=de,this.reset()};ge.prototype.reset=function(){for(var X in this.data)for(var de=0,te=this.data[X];de<te.length;de+=1){var pe=te[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ge.prototype.add=function(X,de,te){var pe=this,De=X.wrapped().key;this.data[De]===void 0&&(this.data[De]=[]);var Ye={value:de,timeout:void 0};if(te!==void 0&&(Ye.timeout=setTimeout(function(){pe.remove(X,Ye)},te)),this.data[De].push(Ye),this.order.push(De),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},ge.prototype.has=function(X){return X.wrapped().key in this.data},ge.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},ge.prototype._getAndRemoveByKey=function(X){var de=this.data[X].shift();return de.timeout&&clearTimeout(de.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),de.value},ge.prototype.getByKey=function(X){var de=this.data[X];return de?de[0].value:null},ge.prototype.get=function(X){if(!this.has(X))return null;var de=this.data[X.wrapped().key][0];return de.value},ge.prototype.remove=function(X,de){if(!this.has(X))return this;var te=X.wrapped().key,pe=de===void 0?0:this.data[te].indexOf(de),De=this.data[te][pe];return this.data[te].splice(pe,1),De.timeout&&clearTimeout(De.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(De.value),this.order.splice(this.order.indexOf(te),1),this},ge.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ge.prototype.filter=function(X){var de=[];for(var te in this.data)for(var pe=0,De=this.data[te];pe<De.length;pe+=1){var Ye=De[pe];X(Ye.value)||de.push(Ye)}for(var ut=0,St=de;ut<St.length;ut+=1){var jt=St[ut];this.remove(jt.value.tileID,jt)}};var Te=function(X,de,te){this.context=X;var pe=X.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=Boolean(te),this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Te.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Te.prototype.updateData=function(X){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Te.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pe=function(X,de,te,pe){this.length=de.length,this.attributes=te,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=X;var De=X.gl;this.buffer=De.createBuffer(),X.bindVertexBuffer.set(this.buffer),De.bufferData(De.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?De.DYNAMIC_DRAW:De.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Pe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pe.prototype.updateData=function(X){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,X.arrayBuffer)},Pe.prototype.enableAttributes=function(X,de){for(var te=0;te<this.attributes.length;te++){var pe=this.attributes[te],De=de.attributes[pe.name];De!==void 0&&X.enableVertexAttribArray(De)}},Pe.prototype.setVertexAttribPointers=function(X,de,te){for(var pe=0;pe<this.attributes.length;pe++){var De=this.attributes[pe],Ye=de.attributes[De.name];Ye!==void 0&&X.vertexAttribPointer(Ye,De.components,X[xe[De.type]],!1,this.itemSize,De.offset+this.itemSize*(te||0))}},Pe.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ie=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ie.prototype.get=function(){return this.current},Ie.prototype.set=function(X){},Ie.prototype.getDefault=function(){return this.default},Ie.prototype.setDefault=function(){this.set(this.default)};var Ae=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},X}(Ie),be=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},X}(Ie),_e=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},X}(Ie),Ve=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},X}(Ie),We=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},X}(Ie),ze=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},X}(Ie),Ze=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(te){var pe=this.current;te.func===pe.func&&te.ref===pe.ref&&te.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},X}(Ie),ct=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},X.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},X}(Ie),lt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=te,this.dirty=!1}},X}(Ie),at=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},X}(Ie),tt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=te,this.dirty=!1}},X}(Ie),dt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},X}(Ie),wt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=te,this.dirty=!1}},X}(Ie),Mt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},X.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},X}(Ie),It=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},X}(Ie),$e=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},X}(Ie),ke=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=te,this.dirty=!1}},X}(Ie),Fe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},X}(Ie),qe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},X}(Ie),it=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},X}(Ie),Je=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},X}(Ie),Re=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},X.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},X}(Ie),Me=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},X}(Ie),fe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},X}(Ie),ye=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,te),this.current=te,this.dirty=!1}},X}(Ie),Le=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},X}(Ie),Oe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},X}(Ie),ht=function(he){function X(de){he.call(this,de),this.vao=de.extVertexArrayObject}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},X}(Ie),vt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},X}(Ie),Lt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},X}(Ie),Ot=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},X}(Ie),Jt=function(he){function X(de,te){he.call(this,de),this.context=de,this.parent=te}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(Ie),qt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},X}(Jt),Vt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},X}(Jt),vr=function(X,de,te,pe){this.context=X,this.width=de,this.height=te;var De=X.gl,Ye=this.framebuffer=De.createFramebuffer();this.colorAttachment=new qt(X,Ye),pe&&(this.depthAttachment=new Vt(X,Ye))};vr.prototype.destroy=function(){var X=this.context.gl,de=this.colorAttachment.get();if(de&&X.deleteTexture(de),this.depthAttachment){var te=this.depthAttachment.get();te&&X.deleteRenderbuffer(te)}X.deleteFramebuffer(this.framebuffer)};var gr=519,Gr=function(X,de,te){this.func=X,this.mask=de,this.range=te};Gr.ReadOnly=!1,Gr.ReadWrite=!0,Gr.disabled=new Gr(gr,Gr.ReadOnly,[0,1]);var At=519,or=7680,rr=function(X,de,te,pe,De,Ye){this.test=X,this.ref=de,this.mask=te,this.fail=pe,this.depthFail=De,this.pass=Ye};rr.disabled=new rr({func:At,mask:0},0,0,or,or,or);var Lr=0,Tr=1,pt=771,st=function(X,de,te){this.blendFunction=X,this.blendColor=de,this.mask=te};st.Replace=[Tr,Lr],st.disabled=new st(st.Replace,a.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,a.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([Tr,pt],a.Color.transparent,[!0,!0,!0,!0]);var yt=1029,Pt=2305,Dt=function(X,de,te){this.enable=X,this.mode=de,this.frontFace=te};Dt.disabled=new Dt(!1,yt,Pt),Dt.backCCW=new Dt(!0,yt,Pt);var Nt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ae(this),this.clearDepth=new be(this),this.clearStencil=new _e(this),this.colorMask=new Ve(this),this.depthMask=new We(this),this.stencilMask=new ze(this),this.stencilFunc=new Ze(this),this.stencilOp=new ct(this),this.stencilTest=new lt(this),this.depthRange=new at(this),this.depthTest=new tt(this),this.depthFunc=new dt(this),this.blend=new wt(this),this.blendFunc=new Mt(this),this.blendColor=new It(this),this.blendEquation=new $e(this),this.cullFace=new ke(this),this.cullFaceSide=new Fe(this),this.frontFace=new qe(this),this.program=new it(this),this.activeTexture=new Je(this),this.viewport=new Re(this),this.bindFramebuffer=new Me(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new ye(this),this.bindVertexBuffer=new Le(this),this.bindElementBuffer=new Oe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ht(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new Lt(this),this.pixelStoreUnpackFlipY=new Ot(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query")};Nt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Nt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Nt.prototype.createIndexBuffer=function(X,de){return new Te(this,X,de)},Nt.prototype.createVertexBuffer=function(X,de,te){return new Pe(this,X,de,te)},Nt.prototype.createRenderbuffer=function(X,de,te){var pe=this.gl,De=pe.createRenderbuffer();return this.bindRenderbuffer.set(De),pe.renderbufferStorage(pe.RENDERBUFFER,X,de,te),this.bindRenderbuffer.set(null),De},Nt.prototype.createFramebuffer=function(X,de,te){return new vr(this,X,de,te)},Nt.prototype.clear=function(X){var de=X.color,te=X.depth,pe=this.gl,De=0;de&&(De|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(De|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),pe.clear(De)},Nt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Nt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Nt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Nt.prototype.setColorMode=function(X){a.deepEqual(X.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Nt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Zt=function(he){function X(de,te,pe){var De=this;he.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Ye){Ye.dataType==="source"&&Ye.sourceDataType==="metadata"&&(De._sourceLoaded=!0),De._sourceLoaded&&!De._paused&&Ye.dataType==="source"&&Ye.sourceDataType==="content"&&(De.reload(),De.transform&&De.update(De.transform))}),this.on("error",function(){De._sourceErrored=!0}),this._source=G(de,te,pe,this),this._tiles={},this._cache=new ge(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},X.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var pe=this._tiles[te];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(te,pe){return this._source.loadTile(te,pe)},X.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},X.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var De=this._tiles[pe];De.upload(te),De.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(te){return te.tileID}).sort($t).map(function(te){return te.key})},X.prototype.getRenderableIds=function(te){var pe=this,De=[];for(var Ye in this._tiles)this._isIdRenderable(Ye,te)&&De.push(this._tiles[Ye]);return te?De.sort(function(ut,St){var jt=ut.tileID,sr=St.tileID,mr=new a.Point(jt.canonical.x,jt.canonical.y)._rotate(pe.transform.angle),Er=new a.Point(sr.canonical.x,sr.canonical.y)._rotate(pe.transform.angle);return jt.overscaledZ-sr.overscaledZ||Er.y-mr.y||Er.x-mr.x}).map(function(ut){return ut.tileID.key}):De.map(function(ut){return ut.tileID}).sort($t).map(function(ut){return ut.key})},X.prototype.hasRenderableParent=function(te){var pe=this.findLoadedParent(te,0);return pe?this._isIdRenderable(pe.tileID.key):!1},X.prototype._isIdRenderable=function(te,pe){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(pe||!this._tiles[te].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},X.prototype._reloadTile=function(te,pe){var De=this._tiles[te];De&&(De.state!=="loading"&&(De.state=pe),this._loadTile(De,this._tileLoaded.bind(this,De,te,pe)))},X.prototype._tileLoaded=function(te,pe,De,Ye){if(Ye){te.state="errored",Ye.status!==404?this._source.fire(new a.ErrorEvent(Ye,{tile:te})):this.update(this.transform);return}te.timeAdded=a.browser.now(),De==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},X.prototype._backfillDEM=function(te){for(var pe=this.getRenderableIds(),De=0;De<pe.length;De++){var Ye=pe[De];if(te.neighboringTiles&&te.neighboringTiles[Ye]){var ut=this.getTileByID(Ye);St(te,ut),St(ut,te)}}function St(jt,sr){jt.needsHillshadePrepare=!0;var mr=sr.tileID.canonical.x-jt.tileID.canonical.x,Er=sr.tileID.canonical.y-jt.tileID.canonical.y,Hr=Math.pow(2,jt.tileID.canonical.z),$r=sr.tileID.key;mr===0&&Er===0||Math.abs(Er)>1||(Math.abs(mr)>1&&(Math.abs(mr+Hr)===1?mr+=Hr:Math.abs(mr-Hr)===1&&(mr-=Hr)),!(!sr.dem||!jt.dem)&&(jt.dem.backfillBorder(sr.dem,mr,Er),jt.neighboringTiles&&jt.neighboringTiles[$r]&&(jt.neighboringTiles[$r].backfilled=!0)))}},X.prototype.getTile=function(te){return this.getTileByID(te.key)},X.prototype.getTileByID=function(te){return this._tiles[te]},X.prototype._retainLoadedChildren=function(te,pe,De,Ye){for(var ut in this._tiles){var St=this._tiles[ut];if(!(Ye[ut]||!St.hasData()||St.tileID.overscaledZ<=pe||St.tileID.overscaledZ>De)){for(var jt=St.tileID;St&&St.tileID.overscaledZ>pe+1;){var sr=St.tileID.scaledTo(St.tileID.overscaledZ-1);St=this._tiles[sr.key],St&&St.hasData()&&(jt=sr)}for(var mr=jt;mr.overscaledZ>pe;)if(mr=mr.scaledTo(mr.overscaledZ-1),te[mr.key]){Ye[jt.key]=jt;break}}}},X.prototype.findLoadedParent=function(te,pe){if(te.key in this._loadedParentTiles){var De=this._loadedParentTiles[te.key];return De&&De.tileID.overscaledZ>=pe?De:null}for(var Ye=te.overscaledZ-1;Ye>=pe;Ye--){var ut=te.scaledTo(Ye),St=this._getLoadedTile(ut);if(St)return St}},X.prototype._getLoadedTile=function(te){var pe=this._tiles[te.key];if(pe&&pe.hasData())return pe;var De=this._cache.getByKey(te.wrapped().key);return De},X.prototype.updateCacheSize=function(te){var pe=Math.ceil(te.width/this._source.tileSize)+1,De=Math.ceil(te.height/this._source.tileSize)+1,Ye=pe*De,ut=5,St=Math.floor(Ye*ut),jt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,St):St;this._cache.setMaxSize(jt)},X.prototype.handleWrapJump=function(te){var pe=this._prevLng===void 0?te:this._prevLng,De=te-pe,Ye=De/360,ut=Math.round(Ye);if(this._prevLng=te,ut){var St={};for(var jt in this._tiles){var sr=this._tiles[jt];sr.tileID=sr.tileID.unwrapTo(sr.tileID.wrap+ut),St[sr.tileID.key]=sr}this._tiles=St;for(var mr in this._timers)clearTimeout(this._timers[mr]),delete this._timers[mr];for(var Er in this._tiles){var Hr=this._tiles[Er];this._setTileReloadTimer(Er,Hr)}}},X.prototype.update=function(te){var pe=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var De;this.used?this._source.tileID?De=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(va){return new a.OverscaledTileID(va.canonical.z,va.wrap,va.canonical.z,va.canonical.x,va.canonical.y)}):(De=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(De=De.filter(function(va){return pe._source.hasTile(va)}))):De=[];var Ye=te.coveringZoomLevel(this._source),ut=Math.max(Ye-X.maxOverzooming,this._source.minzoom),St=Math.max(Ye+X.maxUnderzooming,this._source.minzoom),jt=this._updateRetainedTiles(De,Ye);if(lr(this._source.type)){for(var sr={},mr={},Er=Object.keys(jt),Hr=0,$r=Er;Hr<$r.length;Hr+=1){var qr=$r[Hr],Jr=jt[qr],ln=this._tiles[qr];if(!(!ln||ln.fadeEndTime&&ln.fadeEndTime<=a.browser.now())){var yn=this.findLoadedParent(Jr,ut);yn&&(this._addTile(yn.tileID),sr[yn.tileID.key]=yn.tileID),mr[qr]=Jr}}this._retainLoadedChildren(mr,Ye,St,jt);for(var _n in sr)jt[_n]||(this._coveredTiles[_n]=!0,jt[_n]=sr[_n])}for(var Vn in jt)this._tiles[Vn].clearFadeHold();for(var ea=a.keysDifference(this._tiles,jt),ra=0,ta=ea;ra<ta.length;ra+=1){var la=ta[ra],da=this._tiles[la];da.hasSymbolBuckets&&!da.holdingForFade()?da.setHoldDuration(this.map._fadeDuration):(!da.hasSymbolBuckets||da.symbolFadeFinished())&&this._removeTile(la)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},X.prototype._updateRetainedTiles=function(te,pe){for(var De={},Ye={},ut=Math.max(pe-X.maxOverzooming,this._source.minzoom),St=Math.max(pe+X.maxUnderzooming,this._source.minzoom),jt={},sr=0,mr=te;sr<mr.length;sr+=1){var Er=mr[sr],Hr=this._addTile(Er);De[Er.key]=Er,!Hr.hasData()&&pe<this._source.maxzoom&&(jt[Er.key]=Er)}this._retainLoadedChildren(jt,pe,St,De);for(var $r=0,qr=te;$r<qr.length;$r+=1){var Jr=qr[$r],ln=this._tiles[Jr.key];if(!ln.hasData()){if(pe+1>this._source.maxzoom){var yn=Jr.children(this._source.maxzoom)[0],_n=this.getTile(yn);if(_n&&_n.hasData()){De[yn.key]=yn;continue}}else{var Vn=Jr.children(this._source.maxzoom);if(De[Vn[0].key]&&De[Vn[1].key]&&De[Vn[2].key]&&De[Vn[3].key])continue}for(var ea=ln.wasRequested(),ra=Jr.overscaledZ-1;ra>=ut;--ra){var ta=Jr.scaledTo(ra);if(Ye[ta.key]||(Ye[ta.key]=!0,ln=this.getTile(ta),!ln&&ea&&(ln=this._addTile(ta)),ln&&(De[ta.key]=ta,ea=ln.wasRequested(),ln.hasData())))break}}}return De},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var pe=[],De=void 0,Ye=this._tiles[te].tileID;Ye.overscaledZ>0;){if(Ye.key in this._loadedParentTiles){De=this._loadedParentTiles[Ye.key];break}pe.push(Ye.key);var ut=Ye.scaledTo(Ye.overscaledZ-1);if(De=this._getLoadedTile(ut),De)break;Ye=ut}for(var St=0,jt=pe;St<jt.length;St+=1){var sr=jt[St];this._loadedParentTiles[sr]=De}}},X.prototype._addTile=function(te){var pe=this._tiles[te.key];if(pe)return pe;pe=this._cache.getAndRemove(te),pe&&(this._setTileReloadTimer(te.key,pe),pe.tileID=te,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,pe)));var De=Boolean(pe);return De||(pe=new a.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,te.key,pe.state))),pe?(pe.uses++,this._tiles[te.key]=pe,De||this._source.fire(new a.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},X.prototype._setTileReloadTimer=function(te,pe){var De=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Ye=pe.getExpiryTimeout();Ye&&(this._timers[te]=setTimeout(function(){De._reloadTile(te,"expired"),delete De._timers[te]},Ye))},X.prototype._removeTile=function(te){var pe=this._tiles[te];pe&&(pe.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},X.prototype.tilesIn=function(te,pe,De){var Ye=this,ut=[],St=this.transform;if(!St)return ut;for(var jt=De?St.getCameraQueryGeometry(te):te,sr=te.map(function(ra){return St.pointCoordinate(ra)}),mr=jt.map(function(ra){return St.pointCoordinate(ra)}),Er=this.getIds(),Hr=1/0,$r=1/0,qr=-1/0,Jr=-1/0,ln=0,yn=mr;ln<yn.length;ln+=1){var _n=yn[ln];Hr=Math.min(Hr,_n.x),$r=Math.min($r,_n.y),qr=Math.max(qr,_n.x),Jr=Math.max(Jr,_n.y)}for(var Vn=function(ra){var ta=Ye._tiles[Er[ra]];if(!ta.holdingForFade()){var la=ta.tileID,da=Math.pow(2,St.zoom-ta.tileID.overscaledZ),va=pe*ta.queryPadding*a.EXTENT/ta.tileSize/da,Ta=[la.getTilePoint(new a.MercatorCoordinate(Hr,$r)),la.getTilePoint(new a.MercatorCoordinate(qr,Jr))];if(Ta[0].x-va<a.EXTENT&&Ta[0].y-va<a.EXTENT&&Ta[1].x+va>=0&&Ta[1].y+va>=0){var Ca=sr.map(function(Qa){return la.getTilePoint(Qa)}),Ba=mr.map(function(Qa){return la.getTilePoint(Qa)});ut.push({tile:ta,tileID:la,queryGeometry:Ca,cameraQueryGeometry:Ba,scale:da})}}},ea=0;ea<Er.length;ea++)Vn(ea);return ut},X.prototype.getVisibleCoordinates=function(te){for(var pe=this,De=this.getRenderableIds(te).map(function(jt){return pe._tiles[jt].tileID}),Ye=0,ut=De;Ye<ut.length;Ye+=1){var St=ut[Ye];St.posMatrix=this.transform.calculatePosMatrix(St.toUnwrapped())}return De},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(lr(this._source.type))for(var te in this._tiles){var pe=this._tiles[te];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(te,pe,De){te=te||"_geojsonTileLayer",this._state.updateState(te,pe,De)},X.prototype.removeFeatureState=function(te,pe,De){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,pe,De)},X.prototype.getFeatureState=function(te,pe){return te=te||"_geojsonTileLayer",this._state.getState(te,pe)},X.prototype.setDependencies=function(te,pe,De){var Ye=this._tiles[te];Ye&&Ye.setDependencies(pe,De)},X.prototype.reloadTilesForDependencies=function(te,pe){for(var De in this._tiles){var Ye=this._tiles[De];Ye.hasDependency(te,pe)&&this._reloadTile(De,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(te,pe)})},X}(a.Evented);Zt.maxOverzooming=10,Zt.maxUnderzooming=3;function $t(he,X){var de=Math.abs(he.wrap*2)-+(he.wrap<0),te=Math.abs(X.wrap*2)-+(X.wrap<0);return he.overscaledZ-X.overscaledZ||te-de||X.canonical.y-he.canonical.y||X.canonical.x-he.canonical.x}function lr(he){return he==="raster"||he==="image"||he==="video"}function ir(){return new a.window.Worker(sd.workerUrl)}var He="mapboxgl_preloaded_worker_pool",Ge=function(){this.active={}};Ge.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<Ge.workerCount;)this.workers.push(new ir);return this.active[X]=!0,this.workers.slice()},Ge.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},Ge.prototype.isPreloaded=function(){return!!this.active[He]},Ge.prototype.numActive=function(){return Object.keys(this.active).length};var Ct=Math.floor(a.browser.hardwareConcurrency/2);Ge.workerCount=Math.max(Math.min(Ct,6),1);var Ut;function Kt(){return Ut||(Ut=new Ge),Ut}function Xt(){var he=Kt();he.acquire(He)}function ur(){var he=Ut;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(He),Ut=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function Ar(he,X){var de={};for(var te in he)te!=="ref"&&(de[te]=he[te]);return a.refProperties.forEach(function(pe){pe in X&&(de[pe]=X[pe])}),de}function Rr(he){he=he.slice();for(var X=Object.create(null),de=0;de<he.length;de++)X[he[de].id]=he[de];for(var te=0;te<he.length;te++)"ref"in he[te]&&(he[te]=Ar(he[te],X[he[te].ref]));return he}function wr(){var he={},X=a.styleSpec.$version;for(var de in a.styleSpec.$root){var te=a.styleSpec.$root[de];if(te.required){var pe=null;de==="version"?pe=X:te.type==="array"?pe=[]:pe={},pe!=null&&(he[de]=pe)}}return he}var er={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function _r(he,X,de){de.push({command:er.addSource,args:[he,X[he]]})}function Vr(he,X,de){X.push({command:er.removeSource,args:[he]}),de[he]=!0}function Br(he,X,de,te){Vr(he,de,te),_r(he,X,de)}function yr(he,X,de){var te;for(te in he[de])if(he[de].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(he[de][te],X[de][te]))return!1;for(te in X[de])if(X[de].hasOwnProperty(te)&&te!=="data"&&!a.deepEqual(he[de][te],X[de][te]))return!1;return!0}function pn(he,X,de,te){he=he||{},X=X||{};var pe;for(pe in he)he.hasOwnProperty(pe)&&(X.hasOwnProperty(pe)||Vr(pe,de,te));for(pe in X)X.hasOwnProperty(pe)&&(he.hasOwnProperty(pe)?a.deepEqual(he[pe],X[pe])||(he[pe].type==="geojson"&&X[pe].type==="geojson"&&yr(he,X,pe)?de.push({command:er.setGeoJSONSourceData,args:[pe,X[pe].data]}):Br(pe,X,de,te)):_r(pe,X,de))}function an(he,X,de,te,pe,De){he=he||{},X=X||{};var Ye;for(Ye in he)he.hasOwnProperty(Ye)&&(a.deepEqual(he[Ye],X[Ye])||de.push({command:De,args:[te,Ye,X[Ye],pe]}));for(Ye in X)!X.hasOwnProperty(Ye)||he.hasOwnProperty(Ye)||a.deepEqual(he[Ye],X[Ye])||de.push({command:De,args:[te,Ye,X[Ye],pe]})}function Zr(he){return he.id}function Nn(he,X){return he[X.id]=X,he}function fn(he,X,de){he=he||[],X=X||[];var te=he.map(Zr),pe=X.map(Zr),De=he.reduce(Nn,{}),Ye=X.reduce(Nn,{}),ut=te.slice(),St=Object.create(null),jt,sr,mr,Er,Hr,$r,qr;for(jt=0,sr=0;jt<te.length;jt++)mr=te[jt],Ye.hasOwnProperty(mr)?sr++:(de.push({command:er.removeLayer,args:[mr]}),ut.splice(ut.indexOf(mr,sr),1));for(jt=0,sr=0;jt<pe.length;jt++)mr=pe[pe.length-1-jt],ut[ut.length-1-jt]!==mr&&(De.hasOwnProperty(mr)?(de.push({command:er.removeLayer,args:[mr]}),ut.splice(ut.lastIndexOf(mr,ut.length-sr),1)):sr++,$r=ut[ut.length-jt],de.push({command:er.addLayer,args:[Ye[mr],$r]}),ut.splice(ut.length-jt,0,mr),St[mr]=!0);for(jt=0;jt<pe.length;jt++)if(mr=pe[jt],Er=De[mr],Hr=Ye[mr],!(St[mr]||a.deepEqual(Er,Hr))){if(!a.deepEqual(Er.source,Hr.source)||!a.deepEqual(Er["source-layer"],Hr["source-layer"])||!a.deepEqual(Er.type,Hr.type)){de.push({command:er.removeLayer,args:[mr]}),$r=ut[ut.lastIndexOf(mr)+1],de.push({command:er.addLayer,args:[Hr,$r]});continue}an(Er.layout,Hr.layout,de,mr,null,er.setLayoutProperty),an(Er.paint,Hr.paint,de,mr,null,er.setPaintProperty),a.deepEqual(Er.filter,Hr.filter)||de.push({command:er.setFilter,args:[mr,Hr.filter]}),(!a.deepEqual(Er.minzoom,Hr.minzoom)||!a.deepEqual(Er.maxzoom,Hr.maxzoom))&&de.push({command:er.setLayerZoomRange,args:[mr,Hr.minzoom,Hr.maxzoom]});for(qr in Er)Er.hasOwnProperty(qr)&&(qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?an(Er[qr],Hr[qr],de,mr,qr.slice(6),er.setPaintProperty):a.deepEqual(Er[qr],Hr[qr])||de.push({command:er.setLayerProperty,args:[mr,qr,Hr[qr]]})));for(qr in Hr)!Hr.hasOwnProperty(qr)||Er.hasOwnProperty(qr)||qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?an(Er[qr],Hr[qr],de,mr,qr.slice(6),er.setPaintProperty):a.deepEqual(Er[qr],Hr[qr])||de.push({command:er.setLayerProperty,args:[mr,qr,Hr[qr]]}))}}function xn(he,X){if(!he)return[{command:er.setStyle,args:[X]}];var de=[];try{if(!a.deepEqual(he.version,X.version))return[{command:er.setStyle,args:[X]}];a.deepEqual(he.center,X.center)||de.push({command:er.setCenter,args:[X.center]}),a.deepEqual(he.zoom,X.zoom)||de.push({command:er.setZoom,args:[X.zoom]}),a.deepEqual(he.bearing,X.bearing)||de.push({command:er.setBearing,args:[X.bearing]}),a.deepEqual(he.pitch,X.pitch)||de.push({command:er.setPitch,args:[X.pitch]}),a.deepEqual(he.sprite,X.sprite)||de.push({command:er.setSprite,args:[X.sprite]}),a.deepEqual(he.glyphs,X.glyphs)||de.push({command:er.setGlyphs,args:[X.glyphs]}),a.deepEqual(he.transition,X.transition)||de.push({command:er.setTransition,args:[X.transition]}),a.deepEqual(he.light,X.light)||de.push({command:er.setLight,args:[X.light]});var te={},pe=[];pn(he.sources,X.sources,pe,te);var De=[];he.layers&&he.layers.forEach(function(Ye){te[Ye.source]?de.push({command:er.removeLayer,args:[Ye.id]}):De.push(Ye)}),de=de.concat(pe),fn(De,X.layers,de)}catch(Ye){console.warn("Unable to compute style diff:",Ye),de=[{command:er.setStyle,args:[X]}]}return de}var On=function(X,de){this.reset(X,de)};On.prototype.reset=function(X,de){this.points=X||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},On.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=a.clamp(X,0,1);for(var de=1,te=this._distances[de],pe=X*this.paddedLength+this.padding;te<pe&&de<this._distances.length;)te=this._distances[++de];var De=de-1,Ye=this._distances[De],ut=te-Ye,St=ut>0?(pe-Ye)/ut:0;return this.points[De].mult(1-St).add(this.points[de].mult(St))};var br=function(X,de,te){var pe=this.boxCells=[],De=this.circleCells=[];this.xCellCount=Math.ceil(X/te),this.yCellCount=Math.ceil(de/te);for(var Ye=0;Ye<this.xCellCount*this.yCellCount;Ye++)pe.push([]),De.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=de,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};br.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},br.prototype.insert=function(X,de,te,pe,De){this._forEachCell(de,te,pe,De,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(de),this.bboxes.push(te),this.bboxes.push(pe),this.bboxes.push(De)},br.prototype.insertCircle=function(X,de,te,pe){this._forEachCell(de-pe,te-pe,de+pe,te+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(de),this.circles.push(te),this.circles.push(pe)},br.prototype._insertBoxCell=function(X,de,te,pe,De,Ye){this.boxCells[De].push(Ye)},br.prototype._insertCircleCell=function(X,de,te,pe,De,Ye){this.circleCells[De].push(Ye)},br.prototype._query=function(X,de,te,pe,De,Ye){if(te<0||X>this.width||pe<0||de>this.height)return De?!1:[];var ut=[];if(X<=0&&de<=0&&this.width<=te&&this.height<=pe){if(De)return!0;for(var St=0;St<this.boxKeys.length;St++)ut.push({key:this.boxKeys[St],x1:this.bboxes[St*4],y1:this.bboxes[St*4+1],x2:this.bboxes[St*4+2],y2:this.bboxes[St*4+3]});for(var jt=0;jt<this.circleKeys.length;jt++){var sr=this.circles[jt*3],mr=this.circles[jt*3+1],Er=this.circles[jt*3+2];ut.push({key:this.circleKeys[jt],x1:sr-Er,y1:mr-Er,x2:sr+Er,y2:mr+Er})}return Ye?ut.filter(Ye):ut}else{var Hr={hitTest:De,seenUids:{box:{},circle:{}}};return this._forEachCell(X,de,te,pe,this._queryCell,ut,Hr,Ye),De?ut.length>0:ut}},br.prototype._queryCircle=function(X,de,te,pe,De){var Ye=X-te,ut=X+te,St=de-te,jt=de+te;if(ut<0||Ye>this.width||jt<0||St>this.height)return pe?!1:[];var sr=[],mr={hitTest:pe,circle:{x:X,y:de,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Ye,St,ut,jt,this._queryCellCircle,sr,mr,De),pe?sr.length>0:sr},br.prototype.query=function(X,de,te,pe,De){return this._query(X,de,te,pe,!1,De)},br.prototype.hitTest=function(X,de,te,pe,De){return this._query(X,de,te,pe,!0,De)},br.prototype.hitTestCircle=function(X,de,te,pe){return this._queryCircle(X,de,te,!0,pe)},br.prototype._queryCell=function(X,de,te,pe,De,Ye,ut,St){var jt=ut.seenUids,sr=this.boxCells[De];if(sr!==null)for(var mr=this.bboxes,Er=0,Hr=sr;Er<Hr.length;Er+=1){var $r=Hr[Er];if(!jt.box[$r]){jt.box[$r]=!0;var qr=$r*4;if(X<=mr[qr+2]&&de<=mr[qr+3]&&te>=mr[qr+0]&&pe>=mr[qr+1]&&(!St||St(this.boxKeys[$r]))){if(ut.hitTest)return Ye.push(!0),!0;Ye.push({key:this.boxKeys[$r],x1:mr[qr],y1:mr[qr+1],x2:mr[qr+2],y2:mr[qr+3]})}}}var Jr=this.circleCells[De];if(Jr!==null)for(var ln=this.circles,yn=0,_n=Jr;yn<_n.length;yn+=1){var Vn=_n[yn];if(!jt.circle[Vn]){jt.circle[Vn]=!0;var ea=Vn*3;if(this._circleAndRectCollide(ln[ea],ln[ea+1],ln[ea+2],X,de,te,pe)&&(!St||St(this.circleKeys[Vn]))){if(ut.hitTest)return Ye.push(!0),!0;var ra=ln[ea],ta=ln[ea+1],la=ln[ea+2];Ye.push({key:this.circleKeys[Vn],x1:ra-la,y1:ta-la,x2:ra+la,y2:ta+la})}}}},br.prototype._queryCellCircle=function(X,de,te,pe,De,Ye,ut,St){var jt=ut.circle,sr=ut.seenUids,mr=this.boxCells[De];if(mr!==null)for(var Er=this.bboxes,Hr=0,$r=mr;Hr<$r.length;Hr+=1){var qr=$r[Hr];if(!sr.box[qr]){sr.box[qr]=!0;var Jr=qr*4;if(this._circleAndRectCollide(jt.x,jt.y,jt.radius,Er[Jr+0],Er[Jr+1],Er[Jr+2],Er[Jr+3])&&(!St||St(this.boxKeys[qr])))return Ye.push(!0),!0}}var ln=this.circleCells[De];if(ln!==null)for(var yn=this.circles,_n=0,Vn=ln;_n<Vn.length;_n+=1){var ea=Vn[_n];if(!sr.circle[ea]){sr.circle[ea]=!0;var ra=ea*3;if(this._circlesCollide(yn[ra],yn[ra+1],yn[ra+2],jt.x,jt.y,jt.radius)&&(!St||St(this.circleKeys[ea])))return Ye.push(!0),!0}}},br.prototype._forEachCell=function(X,de,te,pe,De,Ye,ut,St){for(var jt=this._convertToXCellCoord(X),sr=this._convertToYCellCoord(de),mr=this._convertToXCellCoord(te),Er=this._convertToYCellCoord(pe),Hr=jt;Hr<=mr;Hr++)for(var $r=sr;$r<=Er;$r++){var qr=this.xCellCount*$r+Hr;if(De.call(this,X,de,te,pe,qr,Ye,ut,St))return}},br.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},br.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},br.prototype._circlesCollide=function(X,de,te,pe,De,Ye){var ut=pe-X,St=De-de,jt=te+Ye;return jt*jt>ut*ut+St*St},br.prototype._circleAndRectCollide=function(X,de,te,pe,De,Ye,ut){var St=(Ye-pe)/2,jt=Math.abs(X-(pe+St));if(jt>St+te)return!1;var sr=(ut-De)/2,mr=Math.abs(de-(De+sr));if(mr>sr+te)return!1;if(jt<=St||mr<=sr)return!0;var Er=jt-St,Hr=mr-sr;return Er*Er+Hr*Hr<=te*te};function Ir(he,X,de,te,pe){var De=a.create();return X?(a.scale(De,De,[1/pe,1/pe,1]),de||a.rotateZ(De,De,te.angle)):a.multiply(De,te.labelPlaneMatrix,he),De}function jr(he,X,de,te,pe){if(X){var De=a.clone(he);return a.scale(De,De,[pe,pe,1]),de||a.rotateZ(De,De,-te.angle),De}else return te.glCoordMatrix}function Wr(he,X){var de=[he.x,he.y,0,1];Or(de,de,X);var te=de[3];return{point:new a.Point(de[0]/te,de[1]/te),signedDistanceFromCamera:te}}function An(he,X){return .5+.5*(he/X)}function wn(he,X){var de=he[0]/he[3],te=he[1]/he[3],pe=de>=-X[0]&&de<=X[0]&&te>=-X[1]&&te<=X[1];return pe}function Tn(he,X,de,te,pe,De,Ye,ut){var St=te?he.textSizeData:he.iconSizeData,jt=a.evaluateSizeForZoom(St,de.transform.zoom),sr=[256/de.width*2+1,256/de.height*2+1],mr=te?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;mr.clear();for(var Er=he.lineVertexArray,Hr=te?he.text.placedSymbolArray:he.icon.placedSymbolArray,$r=de.transform.width/de.transform.height,qr=!1,Jr=0;Jr<Hr.length;Jr++){var ln=Hr.get(Jr);if(ln.hidden||ln.writingMode===a.WritingMode.vertical&&!qr){ga(ln.numGlyphs,mr);continue}qr=!1;var yn=[ln.anchorX,ln.anchorY,0,1];if(a.transformMat4(yn,yn,X),!wn(yn,sr)){ga(ln.numGlyphs,mr);continue}var _n=yn[3],Vn=An(de.transform.cameraToCenterDistance,_n),ea=a.evaluateSizeForFeature(St,jt,ln),ra=Ye?ea/Vn:ea*Vn,ta=new a.Point(ln.anchorX,ln.anchorY),la=Wr(ta,pe).point,da={},va=ma(ln,ra,!1,ut,X,pe,De,he.glyphOffsetArray,Er,mr,la,ta,da,$r);qr=va.useVertical,(va.notEnoughRoom||qr||va.needsFlipping&&ma(ln,ra,!0,ut,X,pe,De,he.glyphOffsetArray,Er,mr,la,ta,da,$r).notEnoughRoom)&&ga(ln.numGlyphs,mr)}te?he.text.dynamicLayoutVertexBuffer.updateData(mr):he.icon.dynamicLayoutVertexBuffer.updateData(mr)}function Rn(he,X,de,te,pe,De,Ye,ut,St,jt,sr){var mr=ut.glyphStartIndex+ut.numGlyphs,Er=ut.lineStartIndex,Hr=ut.lineStartIndex+ut.lineLength,$r=X.getoffsetX(ut.glyphStartIndex),qr=X.getoffsetX(mr-1),Jr=ua(he*$r,de,te,pe,De,Ye,ut.segment,Er,Hr,St,jt,sr);if(!Jr)return null;var ln=ua(he*qr,de,te,pe,De,Ye,ut.segment,Er,Hr,St,jt,sr);return ln?{first:Jr,last:ln}:null}function Gn(he,X,de,te){if(he===a.WritingMode.horizontal){var pe=Math.abs(de.y-X.y),De=Math.abs(de.x-X.x)*te;if(pe>De)return{useVertical:!0}}return(he===a.WritingMode.vertical?X.y<de.y:X.x>de.x)?{needsFlipping:!0}:null}function ma(he,X,de,te,pe,De,Ye,ut,St,jt,sr,mr,Er,Hr){var $r=X/24,qr=he.lineOffsetX*$r,Jr=he.lineOffsetY*$r,ln;if(he.numGlyphs>1){var yn=he.glyphStartIndex+he.numGlyphs,_n=he.lineStartIndex,Vn=he.lineStartIndex+he.lineLength,ea=Rn($r,ut,qr,Jr,de,sr,mr,he,St,De,Er);if(!ea)return{notEnoughRoom:!0};var ra=Wr(ea.first.point,Ye).point,ta=Wr(ea.last.point,Ye).point;if(te&&!de){var la=Gn(he.writingMode,ra,ta,Hr);if(la)return la}ln=[ea.first];for(var da=he.glyphStartIndex+1;da<yn-1;da++)ln.push(ua($r*ut.getoffsetX(da),qr,Jr,de,sr,mr,he.segment,_n,Vn,St,De,Er));ln.push(ea.last)}else{if(te&&!de){var va=Wr(mr,pe).point,Ta=he.lineStartIndex+he.segment+1,Ca=new a.Point(St.getx(Ta),St.gety(Ta)),Ba=Wr(Ca,pe),Qa=Ba.signedDistanceFromCamera>0?Ba.point:pa(mr,Ca,va,1,pe),Ai=Gn(he.writingMode,va,Qa,Hr);if(Ai)return Ai}var qa=ua($r*ut.getoffsetX(he.glyphStartIndex),qr,Jr,de,sr,mr,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,St,De,Er);if(!qa)return{notEnoughRoom:!0};ln=[qa]}for(var fi=0,Fa=ln;fi<Fa.length;fi+=1){var Mi=Fa[fi];a.addDynamicAttributes(jt,Mi.point,Mi.angle)}return{}}function pa(he,X,de,te,pe){var De=Wr(he.add(he.sub(X)._unit()),pe).point,Ye=de.sub(De);return de.add(Ye._mult(te/Ye.mag()))}function ua(he,X,de,te,pe,De,Ye,ut,St,jt,sr,mr){var Er=te?he-X:he+X,Hr=Er>0?1:-1,$r=0;te&&(Hr*=-1,$r=Math.PI),Hr<0&&($r+=Math.PI);for(var qr=Hr>0?ut+Ye:ut+Ye+1,Jr=pe,ln=pe,yn=0,_n=0,Vn=Math.abs(Er),ea=[];yn+_n<=Vn;){if(qr+=Hr,qr<ut||qr>=St)return null;if(ln=Jr,ea.push(Jr),Jr=mr[qr],Jr===void 0){var ra=new a.Point(jt.getx(qr),jt.gety(qr)),ta=Wr(ra,sr);if(ta.signedDistanceFromCamera>0)Jr=mr[qr]=ta.point;else{var la=qr-Hr,da=yn===0?De:new a.Point(jt.getx(la),jt.gety(la));Jr=pa(da,ra,ln,Vn-yn+1,sr)}}yn+=_n,_n=ln.dist(Jr)}var va=(Vn-yn)/_n,Ta=Jr.sub(ln),Ca=Ta.mult(va)._add(ln);Ca._add(Ta._unit()._perp()._mult(de*Hr));var Ba=$r+Math.atan2(Jr.y-ln.y,Jr.x-ln.x);return ea.push(Ca),{point:Ca,angle:Ba,path:ea}}var xa=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ga(he,X){for(var de=0;de<he;de++){var te=X.length;X.resize(te+4),X.float32.set(xa,te*3)}}function Or(he,X,de){var te=X[0],pe=X[1];return he[0]=de[0]*te+de[4]*pe+de[12],he[1]=de[1]*te+de[5]*pe+de[13],he[3]=de[3]*te+de[7]*pe+de[15],he}var cn=100,vn=function(X,de,te){de===void 0&&(de=new br(X.width+2*cn,X.height+2*cn,25)),te===void 0&&(te=new br(X.width+2*cn,X.height+2*cn,25)),this.transform=X,this.grid=de,this.ignoredGrid=te,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+cn,this.screenBottomBoundary=X.height+cn,this.gridRightBoundary=X.width+2*cn,this.gridBottomBoundary=X.height+2*cn};vn.prototype.placeCollisionBox=function(X,de,te,pe,De){var Ye=this.projectAndGetPerspectiveRatio(pe,X.anchorPointX,X.anchorPointY),ut=te*Ye.perspectiveRatio,St=X.x1*ut+Ye.point.x,jt=X.y1*ut+Ye.point.y,sr=X.x2*ut+Ye.point.x,mr=X.y2*ut+Ye.point.y;return!this.isInsideGrid(St,jt,sr,mr)||!de&&this.grid.hitTest(St,jt,sr,mr,De)?{box:[],offscreen:!1}:{box:[St,jt,sr,mr],offscreen:this.isOffscreen(St,jt,sr,mr)}},vn.prototype.placeCollisionCircles=function(X,de,te,pe,De,Ye,ut,St,jt,sr,mr,Er,Hr){var $r=[],qr=new a.Point(de.anchorX,de.anchorY),Jr=Wr(qr,Ye),ln=An(this.transform.cameraToCenterDistance,Jr.signedDistanceFromCamera),yn=sr?De/ln:De*ln,_n=yn/a.ONE_EM,Vn=Wr(qr,ut).point,ea={},ra=de.lineOffsetX*_n,ta=de.lineOffsetY*_n,la=Rn(_n,pe,ra,ta,!1,Vn,qr,de,te,ut,ea),da=!1,va=!1,Ta=!0;if(la){for(var Ca=Er*.5*ln+Hr,Ba=new a.Point(-cn,-cn),Qa=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Ai=new On,qa=la.first,fi=la.last,Fa=[],Mi=qa.path.length-1;Mi>=1;Mi--)Fa.push(qa.path[Mi]);for(var Pi=1;Pi<fi.path.length;Pi++)Fa.push(fi.path[Pi]);var Ii=Ca*2.5;if(St){var ci=Fa.map(function($l){return Wr($l,St)});ci.some(function($l){return $l.signedDistanceFromCamera<=0})?Fa=[]:Fa=ci.map(function($l){return $l.point})}var Gi=[];if(Fa.length>0){for(var $a=Fa[0].clone(),pi=Fa[0].clone(),po=1;po<Fa.length;po++)$a.x=Math.min($a.x,Fa[po].x),$a.y=Math.min($a.y,Fa[po].y),pi.x=Math.max(pi.x,Fa[po].x),pi.y=Math.max(pi.y,Fa[po].y);$a.x>=Ba.x&&pi.x<=Qa.x&&$a.y>=Ba.y&&pi.y<=Qa.y?Gi=[Fa]:pi.x<Ba.x||$a.x>Qa.x||pi.y<Ba.y||$a.y>Qa.y?Gi=[]:Gi=a.clipLine([Fa],Ba.x,Ba.y,Qa.x,Qa.y)}for(var Ro=0,ml=Gi;Ro<ml.length;Ro+=1){var xl=ml[Ro];Ai.reset(xl,Ca*.25);var jl=0;Ai.length<=.5*Ca?jl=1:jl=Math.ceil(Ai.paddedLength/Ii)+1;for(var Kl=0;Kl<jl;Kl++){var Su=Kl/Math.max(jl-1,1),Jl=Ai.lerp(Su),Cs=Jl.x+cn,rf=Jl.y+cn;$r.push(Cs,rf,Ca,0);var as=Cs-Ca,nl=rf-Ca,Ql=Cs+Ca,Ol=rf+Ca;if(Ta=Ta&&this.isOffscreen(as,nl,Ql,Ol),va=va||this.isInsideGrid(as,nl,Ql,Ol),!X&&this.grid.hitTestCircle(Cs,rf,Ca,mr)&&(da=!0,!jt))return{circles:[],offscreen:!1,collisionDetected:da}}}}return{circles:!jt&&da||!va?[]:$r,offscreen:Ta,collisionDetected:da}},vn.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],te=1/0,pe=1/0,De=-1/0,Ye=-1/0,ut=0,St=X;ut<St.length;ut+=1){var jt=St[ut],sr=new a.Point(jt.x+cn,jt.y+cn);te=Math.min(te,sr.x),pe=Math.min(pe,sr.y),De=Math.max(De,sr.x),Ye=Math.max(Ye,sr.y),de.push(sr)}for(var mr=this.grid.query(te,pe,De,Ye).concat(this.ignoredGrid.query(te,pe,De,Ye)),Er={},Hr={},$r=0,qr=mr;$r<qr.length;$r+=1){var Jr=qr[$r],ln=Jr.key;if(Er[ln.bucketInstanceId]===void 0&&(Er[ln.bucketInstanceId]={}),!Er[ln.bucketInstanceId][ln.featureIndex]){var yn=[new a.Point(Jr.x1,Jr.y1),new a.Point(Jr.x2,Jr.y1),new a.Point(Jr.x2,Jr.y2),new a.Point(Jr.x1,Jr.y2)];a.polygonIntersectsPolygon(de,yn)&&(Er[ln.bucketInstanceId][ln.featureIndex]=!0,Hr[ln.bucketInstanceId]===void 0&&(Hr[ln.bucketInstanceId]=[]),Hr[ln.bucketInstanceId].push(ln.featureIndex))}}return Hr},vn.prototype.insertCollisionBox=function(X,de,te,pe,De){var Ye=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:te,featureIndex:pe,collisionGroupID:De};Ye.insert(ut,X[0],X[1],X[2],X[3])},vn.prototype.insertCollisionCircles=function(X,de,te,pe,De){for(var Ye=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:te,featureIndex:pe,collisionGroupID:De},St=0;St<X.length;St+=4)Ye.insertCircle(ut,X[St],X[St+1],X[St+2])},vn.prototype.projectAndGetPerspectiveRatio=function(X,de,te){var pe=[de,te,0,1];Or(pe,pe,X);var De=new a.Point((pe[0]/pe[3]+1)/2*this.transform.width+cn,(-pe[1]/pe[3]+1)/2*this.transform.height+cn);return{point:De,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},vn.prototype.isOffscreen=function(X,de,te,pe){return te<cn||X>=this.screenRightBoundary||pe<cn||de>this.screenBottomBoundary},vn.prototype.isInsideGrid=function(X,de,te,pe){return te>=0&&X<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},vn.prototype.getViewportMatrix=function(){var X=a.identity([]);return a.translate(X,X,[-cn,-cn,0]),X};function Cn(he,X,de){return X*(a.EXTENT/(he.tileSize*Math.pow(2,de-he.tileID.overscaledZ)))}var Wn=function(X,de,te,pe){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?de:-de))):this.opacity=pe&&te?1:0,this.placed=te};Wn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Fn=function(X,de,te,pe,De){this.text=new Wn(X?X.text:null,de,te,De),this.icon=new Wn(X?X.icon:null,de,pe,De)};Fn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Hn=function(X,de,te){this.text=X,this.icon=de,this.skipFade=te},Xn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},sa=function(X,de,te,pe,De){this.bucketInstanceId=X,this.featureIndex=de,this.sourceLayerIndex=te,this.bucketIndex=pe,this.tileID=De},ka=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};ka.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var de=++this.maxGroupID;this.collisionGroups[X]={ID:de,predicate:function(te){return te.collisionGroupID===de}}}return this.collisionGroups[X]};function oi(he,X,de,te,pe){var De=a.getAnchorAlignment(he),Ye=De.horizontalAlign,ut=De.verticalAlign,St=-(Ye-.5)*X,jt=-(ut-.5)*de,sr=a.evaluateVariableOffset(he,te);return new a.Point(St+sr[0]*pe,jt+sr[1]*pe)}function ar(he,X,de,te,pe,De){var Ye=he.x1,ut=he.x2,St=he.y1,jt=he.y2,sr=he.anchorPointX,mr=he.anchorPointY,Er=new a.Point(X,de);return te&&Er._rotate(pe?De:-De),{x1:Ye+Er.x,y1:St+Er.y,x2:ut+Er.x,y2:jt+Er.y,anchorPointX:sr,anchorPointY:mr}}var me=function(X,de,te,pe){this.transform=X.clone(),this.collisionIndex=new vn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ka(te),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};me.prototype.getBucketParts=function(X,de,te,pe){var De=te.getBucket(de),Ye=te.latestFeatureIndex;if(!(!De||!Ye||de.id!==De.layerIds[0])){var ut=te.collisionBoxArray,St=De.layers[0].layout,jt=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),sr=te.tileSize/a.EXTENT,mr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),Er=St.get("text-pitch-alignment")==="map",Hr=St.get("text-rotation-alignment")==="map",$r=Cn(te,1,this.transform.zoom),qr=Ir(mr,Er,Hr,this.transform,$r),Jr=null;if(Er){var ln=jr(mr,Er,Hr,this.transform,$r);Jr=a.multiply([],this.transform.labelPlaneMatrix,ln)}this.retainedQueryData[De.bucketInstanceId]=new sa(De.bucketInstanceId,Ye,De.sourceLayerIndex,De.index,te.tileID);var yn={bucket:De,layout:St,posMatrix:mr,textLabelPlaneMatrix:qr,labelToScreenMatrix:Jr,scale:jt,textPixelRatio:sr,holdingForFade:te.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(De.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(De.sourceID)};if(pe)for(var _n=0,Vn=De.sortKeyRanges;_n<Vn.length;_n+=1){var ea=Vn[_n],ra=ea.sortKey,ta=ea.symbolInstanceStart,la=ea.symbolInstanceEnd;X.push({sortKey:ra,symbolInstanceStart:ta,symbolInstanceEnd:la,parameters:yn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:De.symbolInstances.length,parameters:yn})}},me.prototype.attemptAnchorPlacement=function(X,de,te,pe,De,Ye,ut,St,jt,sr,mr,Er,Hr,$r,qr){var Jr=[Er.textOffset0,Er.textOffset1],ln=oi(X,te,pe,Jr,De),yn=this.collisionIndex.placeCollisionBox(ar(de,ln.x,ln.y,Ye,ut,this.transform.angle),mr,St,jt,sr.predicate);if(qr){var _n=this.collisionIndex.placeCollisionBox(ar(qr,ln.x,ln.y,Ye,ut,this.transform.angle),mr,St,jt,sr.predicate);if(_n.box.length===0)return}if(yn.box.length>0){var Vn;return this.prevPlacement&&this.prevPlacement.variableOffsets[Er.crossTileID]&&this.prevPlacement.placements[Er.crossTileID]&&this.prevPlacement.placements[Er.crossTileID].text&&(Vn=this.prevPlacement.variableOffsets[Er.crossTileID].anchor),this.variableOffsets[Er.crossTileID]={textOffset:Jr,width:te,height:pe,anchor:X,textBoxScale:De,prevAnchor:Vn},this.markUsedJustification(Hr,X,Er,$r),Hr.allowVerticalPlacement&&(this.markUsedOrientation(Hr,$r,Er),this.placedOrientations[Er.crossTileID]=$r),{shift:ln,placedGlyphBoxes:yn}}},me.prototype.placeLayerBucketPart=function(X,de,te){var pe=this,De=X.parameters,Ye=De.bucket,ut=De.layout,St=De.posMatrix,jt=De.textLabelPlaneMatrix,sr=De.labelToScreenMatrix,mr=De.textPixelRatio,Er=De.holdingForFade,Hr=De.collisionBoxArray,$r=De.partiallyEvaluatedTextSize,qr=De.collisionGroup,Jr=ut.get("text-optional"),ln=ut.get("icon-optional"),yn=ut.get("text-allow-overlap"),_n=ut.get("icon-allow-overlap"),Vn=ut.get("text-rotation-alignment")==="map",ea=ut.get("text-pitch-alignment")==="map",ra=ut.get("icon-text-fit")!=="none",ta=ut.get("symbol-z-order")==="viewport-y",la=yn&&(_n||!Ye.hasIconData()||ln),da=_n&&(yn||!Ye.hasTextData()||Jr);!Ye.collisionArrays&&Hr&&Ye.deserializeCollisionBoxes(Hr);var va=function(qa,fi){if(!de[qa.crossTileID]){if(Er){pe.placements[qa.crossTileID]=new Hn(!1,!1,!1);return}var Fa=!1,Mi=!1,Pi=!0,Ii=null,ci={box:null,offscreen:null},Gi={box:null,offscreen:null},$a=null,pi=null,po=null,Ro=0,ml=0,xl=0;fi.textFeatureIndex?Ro=fi.textFeatureIndex:qa.useRuntimeCollisionCircles&&(Ro=qa.featureIndex),fi.verticalTextFeatureIndex&&(ml=fi.verticalTextFeatureIndex);var jl=fi.textBox;if(jl){var Kl=function(To){var Vs=a.WritingMode.horizontal;if(Ye.allowVerticalPlacement&&!To&&pe.prevPlacement){var Gs=pe.prevPlacement.placedOrientations[qa.crossTileID];Gs&&(pe.placedOrientations[qa.crossTileID]=Gs,Vs=Gs,pe.markUsedOrientation(Ye,Vs,qa))}return Vs},Su=function(To,Vs){if(Ye.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&fi.verticalTextBox)for(var Gs=0,ch=Ye.writingModes;Gs<ch.length;Gs+=1){var av=ch[Gs];if(av===a.WritingMode.vertical?(ci=Vs(),Gi=ci):ci=To(),ci&&ci.box&&ci.box.length)break}else ci=To()};if(ut.get("text-variable-anchor")){var as=ut.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[qa.crossTileID]){var nl=pe.prevPlacement.variableOffsets[qa.crossTileID];as.indexOf(nl.anchor)>0&&(as=as.filter(function(To){return To!==nl.anchor}),as.unshift(nl.anchor))}var Ql=function(To,Vs,Gs){for(var ch=To.x2-To.x1,av=To.y2-To.y1,Op=qa.textBoxScale,Bp=ra&&!_n?Vs:null,Bc={box:[],offscreen:!1},Np=yn?as.length*2:as.length,hh=0;hh<Np;++hh){var Up=as[hh%as.length],Hp=hh>=as.length,iv=pe.attemptAnchorPlacement(Up,To,ch,av,Op,Vn,ea,mr,St,qr,Hp,qa,Ye,Gs,Bp);if(iv&&(Bc=iv.placedGlyphBoxes,Bc&&Bc.box&&Bc.box.length)){Fa=!0,Ii=iv.shift;break}}return Bc},Ol=function(){return Ql(jl,fi.iconBox,a.WritingMode.horizontal)},$l=function(){var To=fi.verticalTextBox,Vs=ci&&ci.box&&ci.box.length;return Ye.allowVerticalPlacement&&!Vs&&qa.numVerticalGlyphVertices>0&&To?Ql(To,fi.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};Su(Ol,$l),ci&&(Fa=ci.box,Pi=ci.offscreen);var sh=Kl(ci&&ci.box);if(!Fa&&pe.prevPlacement){var Rf=pe.prevPlacement.variableOffsets[qa.crossTileID];Rf&&(pe.variableOffsets[qa.crossTileID]=Rf,pe.markUsedJustification(Ye,Rf.anchor,qa,sh))}}else{var Jl=function(To,Vs){var Gs=pe.collisionIndex.placeCollisionBox(To,yn,mr,St,qr.predicate);return Gs&&Gs.box&&Gs.box.length&&(pe.markUsedOrientation(Ye,Vs,qa),pe.placedOrientations[qa.crossTileID]=Vs),Gs},Cs=function(){return Jl(jl,a.WritingMode.horizontal)},rf=function(){var To=fi.verticalTextBox;return Ye.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&To?Jl(To,a.WritingMode.vertical):{box:null,offscreen:null}};Su(Cs,rf),Kl(ci&&ci.box&&ci.box.length)}}if($a=ci,Fa=$a&&$a.box&&$a.box.length>0,Pi=$a&&$a.offscreen,qa.useRuntimeCollisionCircles){var $o=Ye.text.placedSymbolArray.get(qa.centerJustifiedTextSymbolIndex),zc=a.evaluateSizeForFeature(Ye.textSizeData,$r,$o),fs=ut.get("text-padding"),Oc=qa.collisionCircleDiameter;pi=pe.collisionIndex.placeCollisionCircles(yn,$o,Ye.lineVertexArray,Ye.glyphOffsetArray,zc,St,jt,sr,te,ea,qr.predicate,Oc,fs),Fa=yn||pi.circles.length>0&&!pi.collisionDetected,Pi=Pi&&pi.offscreen}if(fi.iconFeatureIndex&&(xl=fi.iconFeatureIndex),fi.iconBox){var lh=function(To){var Vs=ra&&Ii?ar(To,Ii.x,Ii.y,Vn,ea,pe.transform.angle):To;return pe.collisionIndex.placeCollisionBox(Vs,_n,mr,St,qr.predicate)};Gi&&Gi.box&&Gi.box.length&&fi.verticalIconBox?(po=lh(fi.verticalIconBox),Mi=po.box.length>0):(po=lh(fi.iconBox),Mi=po.box.length>0),Pi=Pi&&po.offscreen}var uh=Jr||qa.numHorizontalGlyphVertices===0&&qa.numVerticalGlyphVertices===0,ld=ln||qa.numIconVertices===0;if(!uh&&!ld?Mi=Fa=Mi&&Fa:ld?uh||(Mi=Mi&&Fa):Fa=Mi&&Fa,Fa&&$a&&$a.box&&(Gi&&Gi.box&&ml?pe.collisionIndex.insertCollisionBox($a.box,ut.get("text-ignore-placement"),Ye.bucketInstanceId,ml,qr.ID):pe.collisionIndex.insertCollisionBox($a.box,ut.get("text-ignore-placement"),Ye.bucketInstanceId,Ro,qr.ID)),Mi&&po&&pe.collisionIndex.insertCollisionBox(po.box,ut.get("icon-ignore-placement"),Ye.bucketInstanceId,xl,qr.ID),pi&&(Fa&&pe.collisionIndex.insertCollisionCircles(pi.circles,ut.get("text-ignore-placement"),Ye.bucketInstanceId,Ro,qr.ID),te)){var fh=Ye.bucketInstanceId,oc=pe.collisionCircleArrays[fh];oc===void 0&&(oc=pe.collisionCircleArrays[fh]=new Xn);for(var sc=0;sc<pi.circles.length;sc+=4)oc.circles.push(pi.circles[sc+0]),oc.circles.push(pi.circles[sc+1]),oc.circles.push(pi.circles[sc+2]),oc.circles.push(pi.collisionDetected?1:0)}pe.placements[qa.crossTileID]=new Hn(Fa||la,Mi||da,Pi||Ye.justReloaded),de[qa.crossTileID]=!0}};if(ta)for(var Ta=Ye.getSortedSymbolIndexes(this.transform.angle),Ca=Ta.length-1;Ca>=0;--Ca){var Ba=Ta[Ca];va(Ye.symbolInstances.get(Ba),Ye.collisionArrays[Ba])}else for(var Qa=X.symbolInstanceStart;Qa<X.symbolInstanceEnd;Qa++)va(Ye.symbolInstances.get(Qa),Ye.collisionArrays[Qa]);if(te&&Ye.bucketInstanceId in this.collisionCircleArrays){var Ai=this.collisionCircleArrays[Ye.bucketInstanceId];a.invert(Ai.invProjMatrix,St),Ai.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ye.justReloaded=!1},me.prototype.markUsedJustification=function(X,de,te,pe){var De={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Ye;pe===a.WritingMode.vertical?Ye=te.verticalPlacedTextSymbolIndex:Ye=De[a.getAnchorJustification(de)];for(var ut=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],St=0,jt=ut;St<jt.length;St+=1){var sr=jt[St];sr>=0&&(Ye>=0&&sr!==Ye?X.text.placedSymbolArray.get(sr).crossTileID=0:X.text.placedSymbolArray.get(sr).crossTileID=te.crossTileID)}},me.prototype.markUsedOrientation=function(X,de,te){for(var pe=de===a.WritingMode.horizontal||de===a.WritingMode.horizontalOnly?de:0,De=de===a.WritingMode.vertical?de:0,Ye=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ut=0,St=Ye;ut<St.length;ut+=1){var jt=St[ut];X.text.placedSymbolArray.get(jt).placedOrientation=pe}te.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=De)},me.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,te=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(X):1,De=de?de.opacities:{},Ye=de?de.variableOffsets:{},ut=de?de.placedOrientations:{};for(var St in this.placements){var jt=this.placements[St],sr=De[St];sr?(this.opacities[St]=new Fn(sr,pe,jt.text,jt.icon),te=te||jt.text!==sr.text.placed||jt.icon!==sr.icon.placed):(this.opacities[St]=new Fn(null,pe,jt.text,jt.icon,jt.skipFade),te=te||jt.text||jt.icon)}for(var mr in De){var Er=De[mr];if(!this.opacities[mr]){var Hr=new Fn(Er,pe,!1,!1);Hr.isHidden()||(this.opacities[mr]=Hr,te=te||Er.text.placed||Er.icon.placed)}}for(var $r in Ye)!this.variableOffsets[$r]&&this.opacities[$r]&&!this.opacities[$r].isHidden()&&(this.variableOffsets[$r]=Ye[$r]);for(var qr in ut)!this.placedOrientations[qr]&&this.opacities[qr]&&!this.opacities[qr].isHidden()&&(this.placedOrientations[qr]=ut[qr]);te?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:X)},me.prototype.updateLayerOpacities=function(X,de){for(var te={},pe=0,De=de;pe<De.length;pe+=1){var Ye=De[pe],ut=Ye.getBucket(X);ut&&Ye.latestFeatureIndex&&X.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,te,Ye.collisionBoxArray)}},me.prototype.updateBucketOpacities=function(X,de,te){var pe=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var De=X.layers[0].layout,Ye=new Fn(null,0,!1,!1,!0),ut=De.get("text-allow-overlap"),St=De.get("icon-allow-overlap"),jt=De.get("text-variable-anchor"),sr=De.get("text-rotation-alignment")==="map",mr=De.get("text-pitch-alignment")==="map",Er=De.get("icon-text-fit")!=="none",Hr=new Fn(null,0,ut&&(St||!X.hasIconData()||De.get("icon-optional")),St&&(ut||!X.hasTextData()||De.get("text-optional")),!0);!X.collisionArrays&&te&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(te);for(var $r=function(yn,_n,Vn){for(var ea=0;ea<_n/4;ea++)yn.opacityVertexArray.emplaceBack(Vn)},qr=function(yn){var _n=X.symbolInstances.get(yn),Vn=_n.numHorizontalGlyphVertices,ea=_n.numVerticalGlyphVertices,ra=_n.crossTileID,ta=de[ra],la=pe.opacities[ra];ta?la=Ye:la||(la=Hr,pe.opacities[ra]=la),de[ra]=!0;var da=Vn>0||ea>0,va=_n.numIconVertices>0,Ta=pe.placedOrientations[_n.crossTileID],Ca=Ta===a.WritingMode.vertical,Ba=Ta===a.WritingMode.horizontal||Ta===a.WritingMode.horizontalOnly;if(da){var Qa=nr(la.text),Ai=Ca?Dr:Qa;$r(X.text,Vn,Ai);var qa=Ba?Dr:Qa;$r(X.text,ea,qa);var fi=la.text.isHidden();[_n.rightJustifiedTextSymbolIndex,_n.centerJustifiedTextSymbolIndex,_n.leftJustifiedTextSymbolIndex].forEach(function(xl){xl>=0&&(X.text.placedSymbolArray.get(xl).hidden=fi||Ca?1:0)}),_n.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(_n.verticalPlacedTextSymbolIndex).hidden=fi||Ba?1:0);var Fa=pe.variableOffsets[_n.crossTileID];Fa&&pe.markUsedJustification(X,Fa.anchor,_n,Ta);var Mi=pe.placedOrientations[_n.crossTileID];Mi&&(pe.markUsedJustification(X,"left",_n,Mi),pe.markUsedOrientation(X,Mi,_n))}if(va){var Pi=nr(la.icon),Ii=!(Er&&_n.verticalPlacedIconSymbolIndex&&Ca);if(_n.placedIconSymbolIndex>=0){var ci=Ii?Pi:Dr;$r(X.icon,_n.numIconVertices,ci),X.icon.placedSymbolArray.get(_n.placedIconSymbolIndex).hidden=la.icon.isHidden()}if(_n.verticalPlacedIconSymbolIndex>=0){var Gi=Ii?Dr:Pi;$r(X.icon,_n.numVerticalIconVertices,Gi),X.icon.placedSymbolArray.get(_n.verticalPlacedIconSymbolIndex).hidden=la.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var $a=X.collisionArrays[yn];if($a){var pi=new a.Point(0,0);if($a.textBox||$a.verticalTextBox){var po=!0;if(jt){var Ro=pe.variableOffsets[ra];Ro?(pi=oi(Ro.anchor,Ro.width,Ro.height,Ro.textOffset,Ro.textBoxScale),sr&&pi._rotate(mr?pe.transform.angle:-pe.transform.angle)):po=!1}$a.textBox&&Ue(X.textCollisionBox.collisionVertexArray,la.text.placed,!po||Ca,pi.x,pi.y),$a.verticalTextBox&&Ue(X.textCollisionBox.collisionVertexArray,la.text.placed,!po||Ba,pi.x,pi.y)}var ml=Boolean(!Ba&&$a.verticalIconBox);$a.iconBox&&Ue(X.iconCollisionBox.collisionVertexArray,la.icon.placed,ml,Er?pi.x:0,Er?pi.y:0),$a.verticalIconBox&&Ue(X.iconCollisionBox.collisionVertexArray,la.icon.placed,!ml,Er?pi.x:0,Er?pi.y:0)}}},Jr=0;Jr<X.symbolInstances.length;Jr++)qr(Jr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var ln=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=ln.invProjMatrix,X.placementViewportMatrix=ln.viewportMatrix,X.collisionCircleArray=ln.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},me.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},me.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},me.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},me.prototype.stillRecent=function(X,de){var te=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*te>X},me.prototype.setStale=function(){this.stale=!0};function Ue(he,X,de,te,pe){he.emplaceBack(X?1:0,de?1:0,te||0,pe||0),he.emplaceBack(X?1:0,de?1:0,te||0,pe||0),he.emplaceBack(X?1:0,de?1:0,te||0,pe||0),he.emplaceBack(X?1:0,de?1:0,te||0,pe||0)}var et=Math.pow(2,25),ft=Math.pow(2,24),kt=Math.pow(2,17),_t=Math.pow(2,16),Wt=Math.pow(2,9),Gt=Math.pow(2,8),Ht=Math.pow(2,1);function nr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var X=he.placed?1:0,de=Math.floor(he.opacity*127);return de*et+X*ft+de*kt+X*_t+de*Wt+X*Gt+de*Ht+X}var Dr=0,Qr=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Qr.prototype.continuePlacement=function(X,de,te,pe,De){for(var Ye=this._bucketParts;this._currentTileIndex<X.length;){var ut=X[this._currentTileIndex];if(de.getBucketParts(Ye,pe,ut,this._sortAcrossTiles),this._currentTileIndex++,De())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ye.sort(function(jt,sr){return jt.sortKey-sr.sortKey}));this._currentPartIndex<Ye.length;){var St=Ye[this._currentPartIndex];if(de.placeLayerBucketPart(St,this._seenCrossTileIDs,te),this._currentPartIndex++,De())return!0}return!1};var Yr=function(X,de,te,pe,De,Ye,ut){this.placement=new me(X,De,Ye,ut),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=pe,this._done=!1};Yr.prototype.isDone=function(){return this._done},Yr.prototype.continuePlacement=function(X,de,te){for(var pe=this,De=a.browser.now(),Ye=function(){var mr=a.browser.now()-De;return pe._forceFullPlacement?!1:mr>2};this._currentPlacementIndex>=0;){var ut=X[this._currentPlacementIndex],St=de[ut],jt=this.placement.collisionIndex.transform.zoom;if(St.type==="symbol"&&(!St.minzoom||St.minzoom<=jt)&&(!St.maxzoom||St.maxzoom>jt)){this._inProgressLayer||(this._inProgressLayer=new Qr(St));var sr=this._inProgressLayer.continuePlacement(te[St.source],this.placement,this._showCollisionBoxes,St,Ye);if(sr)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Yr.prototype.commit=function(X){return this.placement.commit(X),this.placement};var Ur=512/a.EXTENT/2,Pn=function(X,de,te){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var pe=0;pe<de.length;pe++){var De=de.get(pe),Ye=De.key;this.indexedSymbolInstances[Ye]||(this.indexedSymbolInstances[Ye]=[]),this.indexedSymbolInstances[Ye].push({crossTileID:De.crossTileID,coord:this.getScaledCoordinates(De,X)})}};Pn.prototype.getScaledCoordinates=function(X,de){var te=de.canonical.z-this.tileID.canonical.z,pe=Ur/Math.pow(2,te);return{x:Math.floor((de.canonical.x*a.EXTENT+X.anchorX)*pe),y:Math.floor((de.canonical.y*a.EXTENT+X.anchorY)*pe)}},Pn.prototype.findMatches=function(X,de,te){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),De=0;De<X.length;De++){var Ye=X.get(De);if(!Ye.crossTileID){var ut=this.indexedSymbolInstances[Ye.key];if(ut)for(var St=this.getScaledCoordinates(Ye,de),jt=0,sr=ut;jt<sr.length;jt+=1){var mr=sr[jt];if(Math.abs(mr.coord.x-St.x)<=pe&&Math.abs(mr.coord.y-St.y)<=pe&&!te[mr.crossTileID]){te[mr.crossTileID]=!0,Ye.crossTileID=mr.crossTileID;break}}}}};var Un=function(){this.maxCrossTileID=0};Un.prototype.generate=function(){return++this.maxCrossTileID};var kn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};kn.prototype.handleWrapJump=function(X){var de=Math.round((X-this.lng)/360);if(de!==0)for(var te in this.indexes){var pe=this.indexes[te],De={};for(var Ye in pe){var ut=pe[Ye];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+de),De[ut.tileID.key]=ut}this.indexes[te]=De}this.lng=X},kn.prototype.addBucket=function(X,de,te){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var De=de.symbolInstances.get(pe);De.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Ye=this.usedCrossTileIDs[X.overscaledZ];for(var ut in this.indexes){var St=this.indexes[ut];if(Number(ut)>X.overscaledZ)for(var jt in St){var sr=St[jt];sr.tileID.isChildOf(X)&&sr.findMatches(de.symbolInstances,X,Ye)}else{var mr=X.scaledTo(Number(ut)),Er=St[mr.key];Er&&Er.findMatches(de.symbolInstances,X,Ye)}}for(var Hr=0;Hr<de.symbolInstances.length;Hr++){var $r=de.symbolInstances.get(Hr);$r.crossTileID||($r.crossTileID=te.generate(),Ye[$r.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Pn(X,de.symbolInstances,de.bucketInstanceId),!0},kn.prototype.removeBucketCrossTileIDs=function(X,de){for(var te in de.indexedSymbolInstances)for(var pe=0,De=de.indexedSymbolInstances[te];pe<De.length;pe+=1){var Ye=De[pe];delete this.usedCrossTileIDs[X][Ye.crossTileID]}},kn.prototype.removeStaleBuckets=function(X){var de=!1;for(var te in this.indexes){var pe=this.indexes[te];for(var De in pe)X[pe[De].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,pe[De]),delete pe[De],de=!0)}return de};var Qn=function(){this.layerIndexes={},this.crossTileIDs=new Un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Qn.prototype.addLayer=function(X,de,te){var pe=this.layerIndexes[X.id];pe===void 0&&(pe=this.layerIndexes[X.id]=new kn);var De=!1,Ye={};pe.handleWrapJump(te);for(var ut=0,St=de;ut<St.length;ut+=1){var jt=St[ut],sr=jt.getBucket(X);!sr||X.id!==sr.layerIds[0]||(sr.bucketInstanceId||(sr.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(jt.tileID,sr,this.crossTileIDs)&&(De=!0),Ye[sr.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Ye)&&(De=!0),De},Qn.prototype.pruneUnusedLayers=function(X){var de={};X.forEach(function(pe){de[pe]=!0});for(var te in this.layerIndexes)de[te]||delete this.layerIndexes[te]};var qn=function(he,X){return a.emitValidationErrors(he,X&&X.filter(function(de){return de.identifier!=="source.canvas"}))},ca=a.pick(er,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ei=a.pick(er,["setCenter","setZoom","setBearing","setPitch"]),Na=wr(),Di=function(he){function X(de,te){var pe=this;te===void 0&&(te={}),he.call(this),this.map=de,this.dispatcher=new _(Kt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new w(de._requestManager,te.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new Qn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var De=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Ye){var ut={pluginStatus:Ye.pluginStatus,pluginURL:Ye.pluginURL};De.dispatcher.broadcast("syncRTLPluginState",ut,function(St,jt){if(a.triggerPluginCompletionEvent(St),jt){var sr=jt.every(function(Er){return Er});if(sr)for(var mr in De.sourceCaches)De.sourceCaches[mr].reload()}})}),this.on("data",function(Ye){if(!(Ye.dataType!=="source"||Ye.sourceDataType!=="metadata")){var ut=pe.sourceCaches[Ye.sourceId];if(ut){var St=ut.getSource();if(!(!St||!St.vectorLayerIds))for(var jt in pe._layers){var sr=pe._layers[jt];sr.source===St.id&&pe._validateLayer(sr)}}}})}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(te,pe){var De=this;pe===void 0&&(pe={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ye=typeof pe.validate=="boolean"?pe.validate:!a.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,pe.accessToken);var ut=this.map._requestManager.transformRequest(te,a.ResourceType.Style);this._request=a.getJSON(ut,function(St,jt){De._request=null,St?De.fire(new a.ErrorEvent(St)):jt&&De._load(jt,Ye)})},X.prototype.loadJSON=function(te,pe){var De=this;pe===void 0&&(pe={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){De._request=null,De._load(te,pe.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Na,!1)},X.prototype._load=function(te,pe){if(!(pe&&qn(this,a.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var De in te.sources)this.addSource(De,te.sources[De],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Ye=Rr(this.stylesheet.layers);this._order=Ye.map(function(sr){return sr.id}),this._layers={},this._serializedLayers={};for(var ut=0,St=Ye;ut<St.length;ut+=1){var jt=St[ut];jt=a.createStyleLayer(jt),jt.setEventedParent(this,{layer:{id:jt.id}}),this._layers[jt.id]=jt,this._serializedLayers[jt.id]=jt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(te){var pe=this;this._spriteRequest=n(te,this.map._requestManager,function(De,Ye){if(pe._spriteRequest=null,De)pe.fire(new a.ErrorEvent(De));else if(Ye)for(var ut in Ye)pe.imageManager.addImage(ut,Ye[ut]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(te){var pe=this.sourceCaches[te.source];if(pe){var De=te.sourceLayer;if(De){var Ye=pe.getSource();(Ye.type==="geojson"||Ye.vectorLayerIds&&Ye.vectorLayerIds.indexOf(De)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+De+'" does not exist on source "'+Ye.id+'" as specified by style layer "'+te.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(te){for(var pe=[],De=0,Ye=te;De<Ye.length;De+=1){var ut=Ye[De],St=this._layers[ut];St.type!=="custom"&&pe.push(St.serialize())}return pe},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(te){if(this._loaded){var pe=this._changed;if(this._changed){var De=Object.keys(this._updatedLayers),Ye=Object.keys(this._removedLayers);(De.length||Ye.length)&&this._updateWorkerLayers(De,Ye);for(var ut in this._updatedSources){var St=this._updatedSources[ut];St==="reload"?this._reloadSource(ut):St==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var jt in this._updatedPaintProps)this._layers[jt].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}for(var sr in this.sourceCaches)this.sourceCaches[sr].used=!1;for(var mr=0,Er=this._order;mr<Er.length;mr+=1){var Hr=Er[mr],$r=this._layers[Hr];$r.recalculate(te,this._availableImages),!$r.isHidden(te.zoom)&&$r.source&&(this.sourceCaches[$r.source].used=!0)}this.light.recalculate(te),this.z=te.zoom,pe&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},X.prototype._updateWorkerLayers=function(te,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:pe})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(te){var pe=this;if(this._checkLoaded(),qn(this,a.validateStyle(te)))return!1;te=a.clone$1(te),te.layers=Rr(te.layers);var De=xn(this.serialize(),te).filter(function(ut){return!(ut.command in ei)});if(De.length===0)return!1;var Ye=De.filter(function(ut){return!(ut.command in ca)});if(Ye.length>0)throw new Error("Unimplemented: "+Ye.map(function(ut){return ut.command}).join(", ")+".");return De.forEach(function(ut){ut.command!=="setTransition"&&pe[ut.command].apply(pe,ut.args)}),this.stylesheet=te,!0},X.prototype.addImage=function(te,pe){if(this.getImage(te))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,pe),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(te,pe){this.imageManager.updateImage(te,pe)},X.prototype.getImage=function(te){return this.imageManager.getImage(te)},X.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(te,pe,De){var Ye=this;if(De===void 0&&(De={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(pe).join(", ")+".");var ut=["vector","raster","geojson","video","image"],St=ut.indexOf(pe.type)>=0;if(!(St&&this._validate(a.validateStyle.source,"sources."+te,pe,null,De))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var jt=this.sourceCaches[te]=new Zt(te,pe,this.dispatcher);jt.style=this,jt.setEventedParent(this,function(){return{isSourceLoaded:Ye.loaded(),source:jt.serialize(),sourceId:te}}),jt.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===te)return this.fire(new a.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+pe+'" is using it.')));var De=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],De.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),De.setEventedParent(null),De.clearTiles(),De.onRemove&&De.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(te,pe){this._checkLoaded();var De=this.sourceCaches[te].getSource();De.setData(pe),this._changed=!0},X.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},X.prototype.addLayer=function(te,pe,De){De===void 0&&(De={}),this._checkLoaded();var Ye=te.id;if(this.getLayer(Ye)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ye+'" already exists on this map')));return}var ut;if(te.type==="custom"){if(qn(this,a.validateCustomStyleLayer(te)))return;ut=a.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Ye,te.source),te=a.clone$1(te),te=a.extend(te,{source:Ye})),this._validate(a.validateStyle.layer,"layers."+Ye,te,{arrayIndex:-1},De))return;ut=a.createStyleLayer(te),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Ye}}),this._serializedLayers[ut.id]=ut.serialize()}var St=pe?this._order.indexOf(pe):this._order.length;if(pe&&St===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(St,0,Ye),this._layerOrderChanged=!0,this._layers[Ye]=ut,this._removedLayers[Ye]&&ut.source&&ut.type!=="custom"){var jt=this._removedLayers[Ye];delete this._removedLayers[Ye],jt.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},X.prototype.moveLayer=function(te,pe){this._checkLoaded(),this._changed=!0;var De=this._layers[te];if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==pe){var Ye=this._order.indexOf(te);this._order.splice(Ye,1);var ut=pe?this._order.indexOf(pe):this._order.length;if(pe&&ut===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(ut,0,te),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(te){this._checkLoaded();var pe=this._layers[te];if(!pe){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var De=this._order.indexOf(te);this._order.splice(De,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=pe,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],pe.onRemove&&pe.onRemove(this.map)},X.prototype.getLayer=function(te){return this._layers[te]},X.prototype.hasLayer=function(te){return te in this._layers},X.prototype.setLayerZoomRange=function(te,pe,De){this._checkLoaded();var Ye=this.getLayer(te);if(!Ye){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Ye.minzoom===pe&&Ye.maxzoom===De||(pe!=null&&(Ye.minzoom=pe),De!=null&&(Ye.maxzoom=De),this._updateLayer(Ye))},X.prototype.setFilter=function(te,pe,De){De===void 0&&(De={}),this._checkLoaded();var Ye=this.getLayer(te);if(!Ye){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Ye.filter,pe)){if(pe==null){Ye.filter=void 0,this._updateLayer(Ye);return}this._validate(a.validateStyle.filter,"layers."+Ye.id+".filter",pe,null,De)||(Ye.filter=a.clone$1(pe),this._updateLayer(Ye))}},X.prototype.getFilter=function(te){return a.clone$1(this.getLayer(te).filter)},X.prototype.setLayoutProperty=function(te,pe,De,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ut=this.getLayer(te);if(!ut){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ut.getLayoutProperty(pe),De)||(ut.setLayoutProperty(pe,De,Ye),this._updateLayer(ut))},X.prototype.getLayoutProperty=function(te,pe){var De=this.getLayer(te);if(!De){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return De.getLayoutProperty(pe)},X.prototype.setPaintProperty=function(te,pe,De,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ut=this.getLayer(te);if(!ut){this.fire(new a.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ut.getPaintProperty(pe),De)){var St=ut.setPaintProperty(pe,De,Ye);St&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[te]=!0}},X.prototype.getPaintProperty=function(te,pe){return this.getLayer(te).getPaintProperty(pe)},X.prototype.setFeatureState=function(te,pe){this._checkLoaded();var De=te.source,Ye=te.sourceLayer,ut=this.sourceCaches[De];if(ut===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+De+"' does not exist in the map's style.")));return}var St=ut.getSource().type;if(St==="geojson"&&Ye){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(St==="vector"&&!Ye){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Ye,te.id,pe)},X.prototype.removeFeatureState=function(te,pe){this._checkLoaded();var De=te.source,Ye=this.sourceCaches[De];if(Ye===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+De+"' does not exist in the map's style.")));return}var ut=Ye.getSource().type,St=ut==="vector"?te.sourceLayer:void 0;if(ut==="vector"&&!St){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ye.removeFeatureState(St,te.id,pe)},X.prototype.getFeatureState=function(te){this._checkLoaded();var pe=te.source,De=te.sourceLayer,Ye=this.sourceCaches[pe];if(Ye===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var ut=Ye.getSource().type;if(ut==="vector"&&!De){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ye.getFeatureState(De,te.id)},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},X.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(te){for(var pe=this,De=function(Ba){return pe._layers[Ba].type==="fill-extrusion"},Ye={},ut=[],St=this._order.length-1;St>=0;St--){var jt=this._order[St];if(De(jt)){Ye[jt]=St;for(var sr=0,mr=te;sr<mr.length;sr+=1){var Er=mr[sr],Hr=Er[jt];if(Hr)for(var $r=0,qr=Hr;$r<qr.length;$r+=1){var Jr=qr[$r];ut.push(Jr)}}}}ut.sort(function(Ba,Qa){return Qa.intersectionZ-Ba.intersectionZ});for(var ln=[],yn=this._order.length-1;yn>=0;yn--){var _n=this._order[yn];if(De(_n))for(var Vn=ut.length-1;Vn>=0;Vn--){var ea=ut[Vn].feature;if(Ye[ea.layer.id]<yn)break;ln.push(ea),ut.pop()}else for(var ra=0,ta=te;ra<ta.length;ra+=1){var la=ta[ra],da=la[_n];if(da)for(var va=0,Ta=da;va<Ta.length;va+=1){var Ca=Ta[va];ln.push(Ca.feature)}}}return ln},X.prototype.queryRenderedFeatures=function(te,pe,De){pe&&pe.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Ye={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,St=pe.layers;ut<St.length;ut+=1){var jt=St[ut],sr=this._layers[jt];if(!sr)return this.fire(new a.ErrorEvent(new Error("The layer '"+jt+"' does not exist in the map's style and cannot be queried for features."))),[];Ye[sr.source]=!0}}var mr=[];pe.availableImages=this._availableImages;for(var Er in this.sourceCaches)pe.layers&&!Ye[Er]||mr.push(J(this.sourceCaches[Er],this._layers,this._serializedLayers,te,pe,De));return this.placement&&mr.push($(this._layers,this._serializedLayers,this.sourceCaches,te,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(mr)},X.prototype.querySourceFeatures=function(te,pe){pe&&pe.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var De=this.sourceCaches[te];return De?se(De,pe):[]},X.prototype.addSourceType=function(te,pe,De){if(X.getSourceType(te))return De(new Error('A source type called "'+te+'" already exists.'));if(X.setSourceType(te,pe),!pe.workerSourceURL)return De(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:pe.workerSourceURL},De)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(te,pe){pe===void 0&&(pe={}),this._checkLoaded();var De=this.light.getLight(),Ye=!1;for(var ut in te)if(!a.deepEqual(te[ut],De[ut])){Ye=!0;break}if(Ye){var St={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,pe),this.light.updateTransitions(St)}},X.prototype._validate=function(te,pe,De,Ye,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:qn(this,te.call(a.validateStyle,a.extend({key:pe,style:this.serialize(),value:De,styleSpec:a.styleSpec},Ye)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var pe=this._layers[te];pe.setEventedParent(null)}for(var De in this.sourceCaches)this.sourceCaches[De].clearTiles(),this.sourceCaches[De].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},X.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},X.prototype._updateSources=function(te){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(te)},X.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},X.prototype._updatePlacement=function(te,pe,De,Ye,ut){ut===void 0&&(ut=!1);for(var St=!1,jt=!1,sr={},mr=0,Er=this._order;mr<Er.length;mr+=1){var Hr=Er[mr],$r=this._layers[Hr];if($r.type==="symbol"){if(!sr[$r.source]){var qr=this.sourceCaches[$r.source];sr[$r.source]=qr.getRenderableIds(!0).map(function(ra){return qr.getTileByID(ra)}).sort(function(ra,ta){return ta.tileID.overscaledZ-ra.tileID.overscaledZ||(ra.tileID.isLessThan(ta.tileID)?-1:1)})}var Jr=this.crossTileSymbolIndex.addLayer($r,sr[$r.source],te.center.lng);St=St||Jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||De===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),te.zoom))&&(this.pauseablePlacement=new Yr(te,this._order,ut,pe,De,Ye,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,sr),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),jt=!0),St&&this.pauseablePlacement.placement.setStale()),jt||St)for(var ln=0,yn=this._order;ln<yn.length;ln+=1){var _n=yn[ln],Vn=this._layers[_n];Vn.type==="symbol"&&this.placement.updateLayerOpacities(Vn,sr[Vn.source])}var ea=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return ea},X.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},X.prototype.getImages=function(te,pe,De){this.imageManager.getImages(pe.icons,De),this._updateTilesForChangedImages();var Ye=this.sourceCaches[pe.source];Ye&&Ye.setDependencies(pe.tileID.key,pe.type,pe.icons)},X.prototype.getGlyphs=function(te,pe,De){this.glyphManager.getGlyphs(pe.stacks,De)},X.prototype.getResource=function(te,pe,De){return a.makeRequest(pe,De)},X}(a.Evented);Di.getSourceType=V,Di.setSourceType=Z,Di.registerForPluginStateChange=a.registerForPluginStateChange;var ri=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),vi=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Ks=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,si=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mo="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Zo=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zi="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",_i=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ps=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,So="void main() {gl_FragColor=vec4(1.0);}",Si="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",sl=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,so=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,to=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ni="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",qi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",No="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Xo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",gs="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",io="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Ou="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",es=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xo=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ou=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ys=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Uo=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,su=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,lu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ms=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gf=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,uu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xs=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,ts=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bu="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Nu=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fu="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",yf=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fi=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ll=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bo=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,co=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ds=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,El=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,bs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",ws=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Ho=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,os=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Is=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_s=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ss=ai(vi,Ks),jo=ai(si,mo),Cl=ai(Zo,Zi),Fs=ai(_i,ps),ks=ai(So,Si),Mr=ai(sl,so),on=ai(to,ni),mn=ai(qi,No),Zn=ai(Xo,gs),Ln=ai(io,Ou),$n=ai(es,xo),na=ai(ou,ys),ba=ai(Uo,su),ha=ai(lu,pf),Za=ai(ms,gf),Xa=ai(uu,xs),Ka=ai(ts,Bu),li=ai(Nu,fu),Ei=ai(yf,Fi),Ga=ai(ll,bo),ro=ai(co,Ds),ho=ai(El,mf),wo=ai(bs,cu),Oi=ai(ws,hu),zs=ai(Ho,os),Js=ai(Is,_s);function ai(he,X){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return he=he.replace(de,function(pe,De,Ye,ut,St){return te[St]=!0,De==="define"?`
#ifndef HAS_UNIFORM_u_`+St+`
varying `+Ye+" "+ut+" "+St+`;
#else
uniform `+Ye+" "+ut+" u_"+St+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+St+`
    `+Ye+" "+ut+" "+St+" = u_"+St+`;
#endif
`}),X=X.replace(de,function(pe,De,Ye,ut,St){var jt=ut==="float"?"vec2":"vec4",sr=St.match(/color/)?"color":jt;return te[St]?De==="define"?`
#ifndef HAS_UNIFORM_u_`+St+`
uniform lowp float u_`+St+`_t;
attribute `+Ye+" "+jt+" a_"+St+`;
varying `+Ye+" "+ut+" "+St+`;
#else
uniform `+Ye+" "+ut+" u_"+St+`;
#endif
`:sr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+St+`
    `+St+" = a_"+St+`;
#else
    `+Ye+" "+ut+" "+St+" = u_"+St+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+St+`
    `+St+" = unpack_mix_"+sr+"(a_"+St+", u_"+St+`_t);
#else
    `+Ye+" "+ut+" "+St+" = u_"+St+`;
#endif
`:De==="define"?`
#ifndef HAS_UNIFORM_u_`+St+`
uniform lowp float u_`+St+`_t;
attribute `+Ye+" "+jt+" a_"+St+`;
#else
uniform `+Ye+" "+ut+" u_"+St+`;
#endif
`:sr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+St+`
    `+Ye+" "+ut+" "+St+" = a_"+St+`;
#else
    `+Ye+" "+ut+" "+St+" = u_"+St+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+St+`
    `+Ye+" "+ut+" "+St+" = unpack_mix_"+sr+"(a_"+St+", u_"+St+`_t);
#else
    `+Ye+" "+ut+" "+St+" = u_"+St+`;
#endif
`}),{fragmentSource:he,vertexSource:X}}var Gf=Object.freeze({__proto__:null,prelude:ss,background:jo,backgroundPattern:Cl,circle:Fs,clippingMask:ks,heatmap:Mr,heatmapTexture:on,collisionBox:mn,collisionCircle:Zn,debug:Ln,fill:$n,fillOutline:na,fillOutlinePattern:ba,fillPattern:ha,fillExtrusion:Za,fillExtrusionPattern:Xa,hillshadePrepare:Ka,hillshade:li,line:Ei,lineGradient:Ga,linePattern:ro,lineSDF:ho,raster:wo,symbolIcon:Oi,symbolSDF:zs,symbolTextAndIcon:Js}),Ts=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ts.prototype.bind=function(X,de,te,pe,De,Ye,ut,St){this.context=X;for(var jt=this.boundPaintVertexBuffers.length!==pe.length,sr=0;!jt&&sr<pe.length;sr++)this.boundPaintVertexBuffers[sr]!==pe[sr]&&(jt=!0);var mr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==te||jt||this.boundIndexBuffer!==De||this.boundVertexOffset!==Ye||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==St;!X.extVertexArrayObject||mr?this.freshBind(de,te,pe,De,Ye,ut,St):(X.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),De&&De.dynamicDraw&&De.bind(),St&&St.bind())},Ts.prototype.freshBind=function(X,de,te,pe,De,Ye,ut){var St,jt=X.numAttributes,sr=this.context,mr=sr.gl;if(sr.extVertexArrayObject)this.vao&&this.destroy(),this.vao=sr.extVertexArrayObject.createVertexArrayOES(),sr.bindVertexArrayOES.set(this.vao),St=0,this.boundProgram=X,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=pe,this.boundVertexOffset=De,this.boundDynamicVertexBuffer=Ye,this.boundDynamicVertexBuffer2=ut;else{St=sr.currentNumAttributes||0;for(var Er=jt;Er<St;Er++)mr.disableVertexAttribArray(Er)}de.enableAttributes(mr,X);for(var Hr=0,$r=te;Hr<$r.length;Hr+=1){var qr=$r[Hr];qr.enableAttributes(mr,X)}Ye&&Ye.enableAttributes(mr,X),ut&&ut.enableAttributes(mr,X),de.bind(),de.setVertexAttribPointers(mr,X,De);for(var Jr=0,ln=te;Jr<ln.length;Jr+=1){var yn=ln[Jr];yn.bind(),yn.setVertexAttribPointers(mr,X,De)}Ye&&(Ye.bind(),Ye.setVertexAttribPointers(mr,X,De)),pe&&pe.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(mr,X,De)),sr.currentNumAttributes=jt},Ts.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Gl=function(X,de,te,pe,De){var Ye=X.gl;this.program=Ye.createProgram();var ut=te?te.defines():[];De&&ut.push("#define OVERDRAW_INSPECTOR;");var St=ut.concat(ss.fragmentSource,de.fragmentSource).join(`
`),jt=ut.concat(ss.vertexSource,de.vertexSource).join(`
`),sr=Ye.createShader(Ye.FRAGMENT_SHADER);if(Ye.isContextLost()){this.failedToCreate=!0;return}Ye.shaderSource(sr,St),Ye.compileShader(sr),Ye.attachShader(this.program,sr);var mr=Ye.createShader(Ye.VERTEX_SHADER);if(Ye.isContextLost()){this.failedToCreate=!0;return}Ye.shaderSource(mr,jt),Ye.compileShader(mr),Ye.attachShader(this.program,mr);for(var Er=te?te.layoutAttributes:[],Hr=0;Hr<Er.length;Hr++)Ye.bindAttribLocation(this.program,Hr,Er[Hr].name);Ye.linkProgram(this.program),Ye.deleteShader(mr),Ye.deleteShader(sr),this.numAttributes=Ye.getProgramParameter(this.program,Ye.ACTIVE_ATTRIBUTES),this.attributes={};for(var $r={},qr=0;qr<this.numAttributes;qr++){var Jr=Ye.getActiveAttrib(this.program,qr);Jr&&(this.attributes[Jr.name]=Ye.getAttribLocation(this.program,Jr.name))}for(var ln=Ye.getProgramParameter(this.program,Ye.ACTIVE_UNIFORMS),yn=0;yn<ln;yn++){var _n=Ye.getActiveUniform(this.program,yn);_n&&($r[_n.name]=Ye.getUniformLocation(this.program,_n.name))}this.fixedUniforms=pe(X,$r),this.binderUniforms=te?te.getUniforms(X,$r):[]};Gl.prototype.draw=function(X,de,te,pe,De,Ye,ut,St,jt,sr,mr,Er,Hr,$r,qr,Jr){var ln,yn=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(te),X.setStencilMode(pe),X.setColorMode(De),X.setCullFace(Ye);for(var _n in this.fixedUniforms)this.fixedUniforms[_n].set(ut[_n]);$r&&$r.setUniforms(X,this.binderUniforms,Er,{zoom:Hr});for(var Vn=(ln={},ln[yn.LINES]=2,ln[yn.TRIANGLES]=3,ln[yn.LINE_STRIP]=1,ln)[de],ea=0,ra=mr.get();ea<ra.length;ea+=1){var ta=ra[ea],la=ta.vaos||(ta.vaos={}),da=la[St]||(la[St]=new Ts);da.bind(X,this,jt,$r?$r.getPaintVertexBuffers():[],sr,ta.vertexOffset,qr,Jr),yn.drawElements(de,ta.primitiveLength*Vn,yn.UNSIGNED_SHORT,ta.primitiveOffset*Vn*2)}}};function Ll(he,X,de){var te=1/Cn(de,1,X.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),De=de.tileSize*Math.pow(2,X.transform.tileZoom)/pe,Ye=De*(de.tileID.canonical.x+de.tileID.wrap*pe),ut=De*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[te,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Ye>>16,ut>>16],u_pixel_coord_lower:[Ye&65535,ut&65535]}}function xf(he,X,de,te){var pe=de.imageManager.getPattern(he.from.toString()),De=de.imageManager.getPattern(he.to.toString()),Ye=de.imageManager.getPixelSize(),ut=Ye.width,St=Ye.height,jt=Math.pow(2,te.tileID.overscaledZ),sr=te.tileSize*Math.pow(2,de.transform.tileZoom)/jt,mr=sr*(te.tileID.canonical.x+te.tileID.wrap*jt),Er=sr*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:De.tl,u_pattern_br_b:De.br,u_texsize:[ut,St],u_mix:X.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:De.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/Cn(te,1,de.transform.tileZoom),u_pixel_coord_upper:[mr>>16,Er>>16],u_pixel_coord_lower:[mr&65535,Er&65535]}}var lo=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_lightpos:new a.Uniform3f(he,X.u_lightpos),u_lightintensity:new a.Uniform1f(he,X.u_lightintensity),u_lightcolor:new a.Uniform3f(he,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,X.u_vertical_gradient),u_opacity:new a.Uniform1f(he,X.u_opacity)}},vu=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_lightpos:new a.Uniform3f(he,X.u_lightpos),u_lightintensity:new a.Uniform1f(he,X.u_lightintensity),u_lightcolor:new a.Uniform3f(he,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(he,X.u_height_factor),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade),u_opacity:new a.Uniform1f(he,X.u_opacity)}},Ko=function(he,X,de,te){var pe=X.style.light,De=pe.properties.get("position"),Ye=[De.x,De.y,De.z],ut=a.create$1();pe.properties.get("anchor")==="viewport"&&a.fromRotation(ut,-X.transform.angle),a.transformMat3(Ye,Ye,ut);var St=pe.properties.get("color");return{u_matrix:he,u_lightpos:Ye,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[St.r,St.g,St.b],u_vertical_gradient:+de,u_opacity:te}},Qs=function(he,X,de,te,pe,De,Ye){return a.extend(Ko(he,X,de,te),Ll(De,X,Ye),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Ye.tileSize/8})},$s=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},ul=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},fl=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world)}},cl=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},As=function(he){return{u_matrix:he}},Os=function(he,X,de,te){return a.extend(As(he),Ll(de,X,te))},du=function(he,X){return{u_matrix:he,u_world:X}},pu=function(he,X,de,te,pe){return a.extend(Os(he,X,de,te),{u_world:pe})},Uu=function(he,X){return{u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(he,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(he,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},Sc=function(he,X,de,te){var pe=he.transform,De,Ye;if(te.paint.get("circle-pitch-alignment")==="map"){var ut=Cn(de,1,pe.zoom);De=!0,Ye=[ut,ut]}else De=!1,Ye=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(X.posMatrix,de,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+De,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ye}},Ec=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(he,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(he,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(he,X.u_overscale_factor)}},Cc=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(he,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(he,X.u_viewport_size)}},Lc=function(he,X,de){var te=Cn(de,1,X.zoom),pe=Math.pow(2,X.zoom-de.tileID.overscaledZ),De=de.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[X.pixelsToGLUnits[0]/(te*pe),X.pixelsToGLUnits[1]/(te*pe)],u_overscale_factor:De}},Hu=function(he,X,de){return{u_matrix:he,u_inv_matrix:X,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Wf=function(he,X){return{u_color:new a.UniformColor(he,X.u_color),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_overlay:new a.Uniform1i(he,X.u_overlay),u_overlay_scale:new a.Uniform1f(he,X.u_overlay_scale)}},Wl=function(he,X,de){return de===void 0&&(de=1),{u_matrix:he,u_color:X,u_overlay:0,u_overlay_scale:de}},Po=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},Jo=function(he){return{u_matrix:he}},gu=function(he,X){return{u_extrude_scale:new a.Uniform1f(he,X.u_extrude_scale),u_intensity:new a.Uniform1f(he,X.u_intensity),u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},Pl=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world),u_image:new a.Uniform1i(he,X.u_image),u_color_ramp:new a.Uniform1i(he,X.u_color_ramp),u_opacity:new a.Uniform1f(he,X.u_opacity)}},yu=function(he,X,de,te){return{u_matrix:he,u_extrude_scale:Cn(X,1,de),u_intensity:te}},Vu=function(he,X,de,te){var pe=a.create();a.ortho(pe,0,he.width,he.height,0,0,1);var De=he.context.gl;return{u_matrix:pe,u_world:[De.drawingBufferWidth,De.drawingBufferHeight],u_image:de,u_color_ramp:te,u_opacity:X.paint.get("heatmap-opacity")}},Pc=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_latrange:new a.Uniform2f(he,X.u_latrange),u_light:new a.Uniform2f(he,X.u_light),u_shadow:new a.UniformColor(he,X.u_shadow),u_highlight:new a.UniformColor(he,X.u_highlight),u_accent:new a.UniformColor(he,X.u_accent)}},Yf=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_dimension:new a.Uniform2f(he,X.u_dimension),u_zoom:new a.Uniform1f(he,X.u_zoom),u_maxzoom:new a.Uniform1f(he,X.u_maxzoom),u_unpack:new a.Uniform4f(he,X.u_unpack)}},Zf=function(he,X,de){var te=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),De=de.paint.get("hillshade-accent-color"),Ye=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=he.transform.angle);var ut=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(X.tileID.toUnwrapped(),ut),u_image:0,u_latrange:hl(he,X.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Ye],u_shadow:te,u_highlight:pe,u_accent:De}},bf=function(he,X,de){var te=X.stride,pe=a.create();return a.ortho(pe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(pe,pe,[0,-a.EXTENT,0]),{u_matrix:pe,u_image:1,u_dimension:[te,te],u_zoom:he.overscaledZ,u_maxzoom:de,u_unpack:X.getUnpackVector()}};function hl(he,X){var de=Math.pow(2,X.canonical.z),te=X.canonical.y;return[new a.MercatorCoordinate(0,te/de).toLngLat().lat,new a.MercatorCoordinate(0,(te+1)/de).toLngLat().lat]}var uo=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels)}},Bs=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_image:new a.Uniform1i(he,X.u_image)}},wf=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_texsize:new a.Uniform2f(he,X.u_texsize),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_image:new a.Uniform1i(he,X.u_image),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},Xf=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(he,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(he,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(he,X.u_sdfgamma),u_image:new a.Uniform1i(he,X.u_image),u_tex_y_a:new a.Uniform1f(he,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(he,X.u_tex_y_b),u_mix:new a.Uniform1f(he,X.u_mix)}},Rl=function(he,X,de){var te=he.transform;return{u_matrix:el(he,X,de),u_ratio:1/Cn(X,1,te.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Gu=function(he,X,de){return a.extend(Rl(he,X,de),{u_image:0})},Ms=function(he,X,de,te){var pe=he.transform,De=qs(X,pe);return{u_matrix:el(he,X,de),u_texsize:X.imageAtlasTexture.size,u_ratio:1/Cn(X,1,pe.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[De,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Wu=function(he,X,de,te,pe){var De=he.transform,Ye=he.lineAtlas,ut=qs(X,De),St=de.layout.get("line-cap")==="round",jt=Ye.getDash(te.from,St),sr=Ye.getDash(te.to,St),mr=jt.width*pe.fromScale,Er=sr.width*pe.toScale;return a.extend(Rl(he,X,de),{u_patternscale_a:[ut/mr,-jt.height/2],u_patternscale_b:[ut/Er,-sr.height/2],u_sdfgamma:Ye.width/(Math.min(mr,Er)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:jt.y,u_tex_y_b:sr.y,u_mix:pe.t})};function qs(he,X){return 1/Cn(he,1,X.tileZoom)}function el(he,X,de){return he.translatePosMatrix(X.tileID.posMatrix,X,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Tf=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_tl_parent:new a.Uniform2f(he,X.u_tl_parent),u_scale_parent:new a.Uniform1f(he,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(he,X.u_buffer_scale),u_fade_t:new a.Uniform1f(he,X.u_fade_t),u_opacity:new a.Uniform1f(he,X.u_opacity),u_image0:new a.Uniform1i(he,X.u_image0),u_image1:new a.Uniform1i(he,X.u_image1),u_brightness_low:new a.Uniform1f(he,X.u_brightness_low),u_brightness_high:new a.Uniform1f(he,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(he,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(he,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(he,X.u_spin_weights)}},Yl=function(he,X,de,te,pe){return{u_matrix:he,u_tl_parent:X,u_scale_parent:de,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Yu(pe.paint.get("raster-saturation")),u_contrast_factor:Dl(pe.paint.get("raster-contrast")),u_spin_weights:Ci(pe.paint.get("raster-hue-rotate"))}};function Ci(he){he*=Math.PI/180;var X=Math.sin(he),de=Math.cos(he);return[(2*de+1)/3,(-Math.sqrt(3)*X-de+1)/3,(Math.sqrt(3)*X-de+1)/3]}function Dl(he){return he>0?1/(1-he):1+he}function Yu(he){return he>0?1-1/(1.001-he):-he}var Zu=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texture:new a.Uniform1i(he,X.u_texture)}},vl=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texture:new a.Uniform1i(he,X.u_texture),u_gamma_scale:new a.Uniform1f(he,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,X.u_is_halo)}},Rc=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texsize_icon:new a.Uniform2f(he,X.u_texsize_icon),u_texture:new a.Uniform1i(he,X.u_texture),u_texture_icon:new a.Uniform1i(he,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(he,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,X.u_is_halo)}},Af=function(he,X,de,te,pe,De,Ye,ut,St,jt){var sr=pe.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:sr.cameraToCenterDistance,u_pitch:sr.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:sr.width/sr.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:De,u_label_plane_matrix:Ye,u_coord_matrix:ut,u_is_text:+St,u_pitch_with_map:+te,u_texsize:jt,u_texture:0}},Zl=function(he,X,de,te,pe,De,Ye,ut,St,jt,sr){var mr=pe.transform;return a.extend(Af(he,X,de,te,pe,De,Ye,ut,St,jt),{u_gamma_scale:te?Math.cos(mr._pitch)*mr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+sr})},Mf=function(he,X,de,te,pe,De,Ye,ut,St,jt){return a.extend(Zl(he,X,de,te,pe,De,Ye,ut,!0,St,!0),{u_texsize_icon:jt,u_texture_icon:1})},jf=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_opacity:new a.Uniform1f(he,X.u_opacity),u_color:new a.UniformColor(he,X.u_color)}},tl=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_opacity:new a.Uniform1f(he,X.u_opacity),u_image:new a.Uniform1i(he,X.u_image),u_pattern_tl_a:new a.Uniform2f(he,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(he,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(he,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(he,X.u_pattern_br_b),u_texsize:new a.Uniform2f(he,X.u_texsize),u_mix:new a.Uniform1f(he,X.u_mix),u_pattern_size_a:new a.Uniform2f(he,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(he,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(he,X.u_scale_a),u_scale_b:new a.Uniform1f(he,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(he,X.u_tile_units_to_pixels)}},dl=function(he,X,de){return{u_matrix:he,u_opacity:X,u_color:de}},Il=function(he,X,de,te,pe,De){return a.extend(xf(te,De,de,pe),{u_matrix:he,u_opacity:X})},_l={fillExtrusion:lo,fillExtrusionPattern:vu,fill:$s,fillPattern:ul,fillOutline:fl,fillOutlinePattern:cl,circle:Uu,collisionBox:Ec,collisionCircle:Cc,debug:Wf,clippingMask:Po,heatmap:gu,heatmapTexture:Pl,hillshade:Pc,hillshadePrepare:Yf,line:uo,lineGradient:Bs,linePattern:wf,lineSDF:Xf,raster:Tf,symbolIcon:Zu,symbolSDF:vl,symbolTextAndIcon:Rc,background:jf,backgroundPattern:tl},Qo;function rs(he,X,de,te,pe,De,Ye){for(var ut=he.context,St=ut.gl,jt=he.useProgram("collisionBox"),sr=[],mr=0,Er=0,Hr=0;Hr<te.length;Hr++){var $r=te[Hr],qr=X.getTile($r),Jr=qr.getBucket(de);if(Jr){var ln=$r.posMatrix;(pe[0]!==0||pe[1]!==0)&&(ln=he.translatePosMatrix($r.posMatrix,qr,pe,De));var yn=Ye?Jr.textCollisionBox:Jr.iconCollisionBox,_n=Jr.collisionCircleArray;if(_n.length>0){var Vn=a.create(),ea=ln;a.mul(Vn,Jr.placementInvProjMatrix,he.transform.glCoordMatrix),a.mul(Vn,Vn,Jr.placementViewportMatrix),sr.push({circleArray:_n,circleOffset:Er,transform:ea,invTransform:Vn}),mr+=_n.length/4,Er=mr}yn&&jt.draw(ut,St.LINES,Gr.disabled,rr.disabled,he.colorModeForRenderPass(),Dt.disabled,Lc(ln,he.transform,qr),de.id,yn.layoutVertexBuffer,yn.indexBuffer,yn.segments,null,he.transform.zoom,null,null,yn.collisionVertexBuffer)}}if(!(!Ye||!sr.length)){var ra=he.useProgram("collisionCircle"),ta=new a.StructArrayLayout2f1f2i16;ta.resize(mr*4),ta._trim();for(var la=0,da=0,va=sr;da<va.length;da+=1)for(var Ta=va[da],Ca=0;Ca<Ta.circleArray.length/4;Ca++){var Ba=Ca*4,Qa=Ta.circleArray[Ba+0],Ai=Ta.circleArray[Ba+1],qa=Ta.circleArray[Ba+2],fi=Ta.circleArray[Ba+3];ta.emplace(la++,Qa,Ai,qa,fi,0),ta.emplace(la++,Qa,Ai,qa,fi,1),ta.emplace(la++,Qa,Ai,qa,fi,2),ta.emplace(la++,Qa,Ai,qa,fi,3)}(!Qo||Qo.length<mr*2)&&(Qo=Fl(mr));for(var Fa=ut.createIndexBuffer(Qo,!0),Mi=ut.createVertexBuffer(ta,a.collisionCircleLayout.members,!0),Pi=0,Ii=sr;Pi<Ii.length;Pi+=1){var ci=Ii[Pi],Gi=Hu(ci.transform,ci.invTransform,he.transform);ra.draw(ut,St.TRIANGLES,Gr.disabled,rr.disabled,he.colorModeForRenderPass(),Dt.disabled,Gi,de.id,Mi,Fa,a.SegmentVector.simpleSegment(0,ci.circleOffset*2,ci.circleArray.length,ci.circleArray.length/2),null,he.transform.zoom,null,null,null)}Mi.destroy(),Fa.destroy()}}function Fl(he){var X=he*2,de=new a.StructArrayLayout3ui6;de.resize(X),de._trim();for(var te=0;te<X;te++){var pe=te*6;de.uint16[pe+0]=te*4+0,de.uint16[pe+1]=te*4+1,de.uint16[pe+2]=te*4+2,de.uint16[pe+3]=te*4+2,de.uint16[pe+4]=te*4+3,de.uint16[pe+5]=te*4+0}return de}var Kf=a.identity(new Float32Array(16));function Xl(he,X,de,te,pe){if(he.renderPass==="translucent"){var De=rr.disabled,Ye=he.colorModeForRenderPass(),ut=de.layout.get("text-variable-anchor");ut&&Jf(te,he,de,X,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&pl(he,X,de,te,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),De,Ye),de.paint.get("text-opacity").constantOr(1)!==0&&pl(he,X,de,te,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),De,Ye),X.map.showCollisionBoxes&&(rs(he,X,de,te,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),rs(he,X,de,te,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function Xu(he,X,de,te,pe,De){var Ye=a.getAnchorAlignment(he),ut=Ye.horizontalAlign,St=Ye.verticalAlign,jt=-(ut-.5)*X,sr=-(St-.5)*de,mr=a.evaluateVariableOffset(he,te);return new a.Point((jt/pe+mr[0])*De,(sr/pe+mr[1])*De)}function Jf(he,X,de,te,pe,De,Ye){for(var ut=X.transform,St=pe==="map",jt=De==="map",sr=0,mr=he;sr<mr.length;sr+=1){var Er=mr[sr],Hr=te.getTile(Er),$r=Hr.getBucket(de);if(!(!$r||!$r.text||!$r.text.segments.get().length)){var qr=$r.textSizeData,Jr=a.evaluateSizeForZoom(qr,ut.zoom),ln=Cn(Hr,1,X.transform.zoom),yn=Ir(Er.posMatrix,jt,St,X.transform,ln),_n=de.layout.get("icon-text-fit")!=="none"&&$r.hasIconData();if(Jr){var Vn=Math.pow(2,ut.zoom-Hr.tileID.overscaledZ);Ss($r,St,jt,Ye,a.symbolSize,ut,yn,Er.posMatrix,Vn,Jr,_n)}}}}function Ss(he,X,de,te,pe,De,Ye,ut,St,jt,sr){var mr=he.text.placedSymbolArray,Er=he.text.dynamicLayoutVertexArray,Hr=he.icon.dynamicLayoutVertexArray,$r={};Er.clear();for(var qr=0;qr<mr.length;qr++){var Jr=mr.get(qr),ln=he.allowVerticalPlacement&&!Jr.placedOrientation,yn=!Jr.hidden&&Jr.crossTileID&&!ln?te[Jr.crossTileID]:null;if(!yn)ga(Jr.numGlyphs,Er);else{var _n=new a.Point(Jr.anchorX,Jr.anchorY),Vn=Wr(_n,de?ut:Ye),ea=An(De.cameraToCenterDistance,Vn.signedDistanceFromCamera),ra=pe.evaluateSizeForFeature(he.textSizeData,jt,Jr)*ea/a.ONE_EM;de&&(ra*=he.tilePixelRatio/St);for(var ta=yn.width,la=yn.height,da=yn.anchor,va=yn.textOffset,Ta=yn.textBoxScale,Ca=Xu(da,ta,la,va,Ta,ra),Ba=de?Wr(_n.add(Ca),Ye).point:Vn.point.add(X?Ca.rotate(-De.angle):Ca),Qa=he.allowVerticalPlacement&&Jr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Ai=0;Ai<Jr.numGlyphs;Ai++)a.addDynamicAttributes(Er,Ba,Qa);sr&&Jr.associatedIconIndex>=0&&($r[Jr.associatedIconIndex]={shiftedAnchor:Ba,angle:Qa})}}if(sr){Hr.clear();for(var qa=he.icon.placedSymbolArray,fi=0;fi<qa.length;fi++){var Fa=qa.get(fi);if(Fa.hidden)ga(Fa.numGlyphs,Hr);else{var Mi=$r[fi];if(!Mi)ga(Fa.numGlyphs,Hr);else for(var Pi=0;Pi<Fa.numGlyphs;Pi++)a.addDynamicAttributes(Hr,Mi.shiftedAnchor,Mi.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(Hr)}he.text.dynamicLayoutVertexBuffer.updateData(Er)}function Sf(he,X,de){return de.iconsInText&&X?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function pl(he,X,de,te,pe,De,Ye,ut,St,jt,sr,mr){for(var Er=he.context,Hr=Er.gl,$r=he.transform,qr=ut==="map",Jr=St==="map",ln=qr&&de.layout.get("symbol-placement")!=="point",yn=qr&&!Jr&&!ln,_n=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Vn=he.depthModeForSublayer(0,Gr.ReadOnly),ea=de.layout.get("text-variable-anchor"),ra=[],ta=0,la=te;ta<la.length;ta+=1){var da=la[ta],va=X.getTile(da),Ta=va.getBucket(de);if(Ta){var Ca=pe?Ta.text:Ta.icon;if(!(!Ca||!Ca.segments.get().length)){var Ba=Ca.programConfigurations.get(de.id),Qa=pe||Ta.sdfIcons,Ai=pe?Ta.textSizeData:Ta.iconSizeData,qa=Jr||$r.pitch!==0,fi=he.useProgram(Sf(Qa,pe,Ta),Ba),Fa=a.evaluateSizeForZoom(Ai,$r.zoom),Mi=void 0,Pi=[0,0],Ii=void 0,ci=void 0,Gi=null,$a=void 0;if(pe){if(Ii=va.glyphAtlasTexture,ci=Hr.LINEAR,Mi=va.glyphAtlasTexture.size,Ta.iconsInText){Pi=va.imageAtlasTexture.size,Gi=va.imageAtlasTexture;var pi=Ai.kind==="composite"||Ai.kind==="camera";$a=qa||he.options.rotating||he.options.zooming||pi?Hr.LINEAR:Hr.NEAREST}}else{var po=de.layout.get("icon-size").constantOr(0)!==1||Ta.iconsNeedLinear;Ii=va.imageAtlasTexture,ci=Qa||he.options.rotating||he.options.zooming||po||qa?Hr.LINEAR:Hr.NEAREST,Mi=va.imageAtlasTexture.size}var Ro=Cn(va,1,he.transform.zoom),ml=Ir(da.posMatrix,Jr,qr,he.transform,Ro),xl=jr(da.posMatrix,Jr,qr,he.transform,Ro),jl=ea&&Ta.hasTextData(),Kl=de.layout.get("icon-text-fit")!=="none"&&jl&&Ta.hasIconData();ln&&Tn(Ta,da.posMatrix,he,pe,ml,xl,Jr,jt);var Su=he.translatePosMatrix(da.posMatrix,va,De,Ye),Jl=ln||pe&&ea||Kl?Kf:ml,Cs=he.translatePosMatrix(xl,va,De,Ye,!0),rf=Qa&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,as=void 0;Qa?Ta.iconsInText?as=Mf(Ai.kind,Fa,yn,Jr,he,Su,Jl,Cs,Mi,Pi):as=Zl(Ai.kind,Fa,yn,Jr,he,Su,Jl,Cs,pe,Mi,!0):as=Af(Ai.kind,Fa,yn,Jr,he,Su,Jl,Cs,pe,Mi);var nl={program:fi,buffers:Ca,uniformValues:as,atlasTexture:Ii,atlasTextureIcon:Gi,atlasInterpolation:ci,atlasInterpolationIcon:$a,isSDF:Qa,hasHalo:rf};if(_n)for(var Ql=Ca.segments.get(),Ol=0,$l=Ql;Ol<$l.length;Ol+=1){var sh=$l[Ol];ra.push({segments:new a.SegmentVector([sh]),sortKey:sh.sortKey,state:nl})}else ra.push({segments:Ca.segments,sortKey:0,state:nl})}}}_n&&ra.sort(function(lh,uh){return lh.sortKey-uh.sortKey});for(var Rf=0,$o=ra;Rf<$o.length;Rf+=1){var zc=$o[Rf],fs=zc.state;if(Er.activeTexture.set(Hr.TEXTURE0),fs.atlasTexture.bind(fs.atlasInterpolation,Hr.CLAMP_TO_EDGE),fs.atlasTextureIcon&&(Er.activeTexture.set(Hr.TEXTURE1),fs.atlasTextureIcon&&fs.atlasTextureIcon.bind(fs.atlasInterpolationIcon,Hr.CLAMP_TO_EDGE)),fs.isSDF){var Oc=fs.uniformValues;fs.hasHalo&&(Oc.u_is_halo=1,mu(fs.buffers,zc.segments,de,he,fs.program,Vn,sr,mr,Oc)),Oc.u_is_halo=0}mu(fs.buffers,zc.segments,de,he,fs.program,Vn,sr,mr,fs.uniformValues)}}function mu(he,X,de,te,pe,De,Ye,ut,St){var jt=te.context,sr=jt.gl;pe.draw(jt,sr.TRIANGLES,De,Ye,ut,Dt.disabled,St,de.id,he.layoutVertexBuffer,he.indexBuffer,X,de.paint,te.transform.zoom,he.programConfigurations.get(de.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function rl(he,X,de,te){if(he.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),De=de.paint.get("circle-stroke-width"),Ye=de.paint.get("circle-stroke-opacity"),ut=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(De.constantOr(1)===0||Ye.constantOr(1)===0))){for(var St=he.context,jt=St.gl,sr=he.depthModeForSublayer(0,Gr.ReadOnly),mr=rr.disabled,Er=he.colorModeForRenderPass(),Hr=[],$r=0;$r<te.length;$r++){var qr=te[$r],Jr=X.getTile(qr),ln=Jr.getBucket(de);if(ln){var yn=ln.programConfigurations.get(de.id),_n=he.useProgram("circle",yn),Vn=ln.layoutVertexBuffer,ea=ln.indexBuffer,ra=Sc(he,qr,Jr,de),ta={programConfiguration:yn,program:_n,layoutVertexBuffer:Vn,indexBuffer:ea,uniformValues:ra};if(ut)for(var la=ln.segments.get(),da=0,va=la;da<va.length;da+=1){var Ta=va[da];Hr.push({segments:new a.SegmentVector([Ta]),sortKey:Ta.sortKey,state:ta})}else Hr.push({segments:ln.segments,sortKey:0,state:ta})}}ut&&Hr.sort(function(ci,Gi){return ci.sortKey-Gi.sortKey});for(var Ca=0,Ba=Hr;Ca<Ba.length;Ca+=1){var Qa=Ba[Ca],Ai=Qa.state,qa=Ai.programConfiguration,fi=Ai.program,Fa=Ai.layoutVertexBuffer,Mi=Ai.indexBuffer,Pi=Ai.uniformValues,Ii=Qa.segments;fi.draw(St,jt.TRIANGLES,sr,mr,Er,Dt.disabled,Pi,de.id,Fa,Mi,Ii,de.paint,he.transform.zoom,qa)}}}}function Dc(he,X,de,te){if(de.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var pe=he.context,De=pe.gl,Ye=rr.disabled,ut=new st([De.ONE,De.ONE],a.Color.transparent,[!0,!0,!0,!0]);Ef(pe,he,de),pe.clear({color:a.Color.transparent});for(var St=0;St<te.length;St++){var jt=te[St];if(!X.hasRenderableParent(jt)){var sr=X.getTile(jt),mr=sr.getBucket(de);if(mr){var Er=mr.programConfigurations.get(de.id),Hr=he.useProgram("heatmap",Er),$r=he.transform,qr=$r.zoom;Hr.draw(pe,De.TRIANGLES,Gr.disabled,Ye,ut,Dt.disabled,yu(jt.posMatrix,sr,qr,de.paint.get("heatmap-intensity")),de.id,mr.layoutVertexBuffer,mr.indexBuffer,mr.segments,de.paint,he.transform.zoom,Er)}}}pe.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),Oo(he,de))}function Ef(he,X,de){var te=he.gl;he.activeTexture.set(te.TEXTURE1),he.viewport.set([0,0,X.width/4,X.height/4]);var pe=de.heatmapFbo;if(pe)te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),he.bindFramebuffer.set(pe.framebuffer);else{var De=te.createTexture();te.bindTexture(te.TEXTURE_2D,De),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),pe=de.heatmapFbo=he.createFramebuffer(X.width/4,X.height/4,!1),ju(he,X,De,pe)}}function ju(he,X,de,te){var pe=he.gl,De=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,X.width/4,X.height/4,0,pe.RGBA,De,null),te.colorAttachment.set(de)}function Oo(he,X){var de=he.context,te=de.gl,pe=X.heatmapFbo;if(pe){de.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(te.TEXTURE1);var De=X.colorRampTexture;De||(De=X.colorRampTexture=new a.Texture(de,X.colorRamp,te.RGBA)),De.bind(te.LINEAR,te.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(de,te.TRIANGLES,Gr.disabled,rr.disabled,he.colorModeForRenderPass(),Dt.disabled,Vu(he,X,0,1),X.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,X.paint,he.transform.zoom)}}function Qf(he,X,de,te){if(he.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),De=de.paint.get("line-width");if(!(pe.constantOr(1)===0||De.constantOr(1)===0)){var Ye=he.depthModeForSublayer(0,Gr.ReadOnly),ut=he.colorModeForRenderPass(),St=de.paint.get("line-dasharray"),jt=de.paint.get("line-pattern"),sr=jt.constantOr(1),mr=de.paint.get("line-gradient"),Er=de.getCrossfadeParameters(),Hr=sr?"linePattern":St?"lineSDF":mr?"lineGradient":"line",$r=he.context,qr=$r.gl,Jr=!0;if(mr){$r.activeTexture.set(qr.TEXTURE0);var ln=de.gradientTexture;if(!de.gradient)return;ln||(ln=de.gradientTexture=new a.Texture($r,de.gradient,qr.RGBA)),ln.bind(qr.LINEAR,qr.CLAMP_TO_EDGE)}for(var yn=0,_n=te;yn<_n.length;yn+=1){var Vn=_n[yn],ea=X.getTile(Vn);if(!(sr&&!ea.patternsLoaded())){var ra=ea.getBucket(de);if(ra){var ta=ra.programConfigurations.get(de.id),la=he.context.program.get(),da=he.useProgram(Hr,ta),va=Jr||da.program!==la,Ta=jt.constantOr(null);if(Ta&&ea.imageAtlas){var Ca=ea.imageAtlas,Ba=Ca.patternPositions[Ta.to.toString()],Qa=Ca.patternPositions[Ta.from.toString()];Ba&&Qa&&ta.setConstantPatternPositions(Ba,Qa)}var Ai=sr?Ms(he,ea,de,Er):St?Wu(he,ea,de,St,Er):mr?Gu(he,ea,de):Rl(he,ea,de);sr?($r.activeTexture.set(qr.TEXTURE0),ea.imageAtlasTexture.bind(qr.LINEAR,qr.CLAMP_TO_EDGE),ta.updatePaintBuffers(Er)):St&&(va||he.lineAtlas.dirty)&&($r.activeTexture.set(qr.TEXTURE0),he.lineAtlas.bind($r)),da.draw($r,qr.TRIANGLES,Ye,he.stencilModeForClipping(Vn),ut,Dt.disabled,Ai,de.id,ra.layoutVertexBuffer,ra.indexBuffer,ra.segments,de.paint,he.transform.zoom,ta),Jr=!1}}}}}}function xu(he,X,de,te){var pe=de.paint.get("fill-color"),De=de.paint.get("fill-opacity");if(De.constantOr(1)!==0){var Ye=he.colorModeForRenderPass(),ut=de.paint.get("fill-pattern"),St=he.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&pe.constantOr(a.Color.transparent).a===1&&De.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===St){var jt=he.depthModeForSublayer(1,he.renderPass==="opaque"?Gr.ReadWrite:Gr.ReadOnly);Ns(he,X,de,te,jt,Ye,!1)}if(he.renderPass==="translucent"&&de.paint.get("fill-antialias")){var sr=he.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,Gr.ReadOnly);Ns(he,X,de,te,sr,Ye,!0)}}}function Ns(he,X,de,te,pe,De,Ye){var ut=he.context.gl,St=de.paint.get("fill-pattern"),jt=St&&St.constantOr(1),sr=de.getCrossfadeParameters(),mr,Er,Hr,$r,qr;Ye?(Er=jt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",mr=ut.LINES):(Er=jt?"fillPattern":"fill",mr=ut.TRIANGLES);for(var Jr=0,ln=te;Jr<ln.length;Jr+=1){var yn=ln[Jr],_n=X.getTile(yn);if(!(jt&&!_n.patternsLoaded())){var Vn=_n.getBucket(de);if(Vn){var ea=Vn.programConfigurations.get(de.id),ra=he.useProgram(Er,ea);jt&&(he.context.activeTexture.set(ut.TEXTURE0),_n.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),ea.updatePaintBuffers(sr));var ta=St.constantOr(null);if(ta&&_n.imageAtlas){var la=_n.imageAtlas,da=la.patternPositions[ta.to.toString()],va=la.patternPositions[ta.from.toString()];da&&va&&ea.setConstantPatternPositions(da,va)}var Ta=he.translatePosMatrix(yn.posMatrix,_n,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Ye)$r=Vn.indexBuffer,qr=Vn.segments,Hr=jt?Os(Ta,he,sr,_n):As(Ta);else{$r=Vn.indexBuffer2,qr=Vn.segments2;var Ca=[ut.drawingBufferWidth,ut.drawingBufferHeight];Hr=Er==="fillOutlinePattern"&&jt?pu(Ta,he,sr,_n,Ca):du(Ta,Ca)}ra.draw(he.context,mr,pe,he.stencilModeForClipping(yn),De,Dt.disabled,Hr,de.id,Vn.layoutVertexBuffer,$r,qr,de.paint,he.transform.zoom,ea)}}}}function bu(he,X,de,te){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&he.renderPass==="translucent"){var De=new Gr(he.context.gl.LEQUAL,Gr.ReadWrite,he.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Ye=he.colorModeForRenderPass();yl(he,X,de,te,De,rr.disabled,Ye)}else yl(he,X,de,te,De,rr.disabled,st.disabled),yl(he,X,de,te,De,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function yl(he,X,de,te,pe,De,Ye){for(var ut=he.context,St=ut.gl,jt=de.paint.get("fill-extrusion-pattern"),sr=jt.constantOr(1),mr=de.getCrossfadeParameters(),Er=de.paint.get("fill-extrusion-opacity"),Hr=0,$r=te;Hr<$r.length;Hr+=1){var qr=$r[Hr],Jr=X.getTile(qr),ln=Jr.getBucket(de);if(ln){var yn=ln.programConfigurations.get(de.id),_n=he.useProgram(sr?"fillExtrusionPattern":"fillExtrusion",yn);sr&&(he.context.activeTexture.set(St.TEXTURE0),Jr.imageAtlasTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE),yn.updatePaintBuffers(mr));var Vn=jt.constantOr(null);if(Vn&&Jr.imageAtlas){var ea=Jr.imageAtlas,ra=ea.patternPositions[Vn.to.toString()],ta=ea.patternPositions[Vn.from.toString()];ra&&ta&&yn.setConstantPatternPositions(ra,ta)}var la=he.translatePosMatrix(qr.posMatrix,Jr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),da=de.paint.get("fill-extrusion-vertical-gradient"),va=sr?Qs(la,he,da,Er,qr,mr,Jr):Ko(la,he,da,Er);_n.draw(ut,ut.gl.TRIANGLES,pe,De,Ye,Dt.backCCW,va,de.id,ln.layoutVertexBuffer,ln.indexBuffer,ln.segments,de.paint,he.transform.zoom,yn)}}}function Ku(he,X,de,te){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var pe=he.context,De=X.getSource().maxzoom,Ye=he.depthModeForSublayer(0,Gr.ReadOnly),ut=he.colorModeForRenderPass(),St=he.renderPass==="translucent"?he.stencilConfigForOverlap(te):[{},te],jt=St[0],sr=St[1],mr=0,Er=sr;mr<Er.length;mr+=1){var Hr=Er[mr],$r=X.getTile(Hr);$r.needsHillshadePrepare&&he.renderPass==="offscreen"?Cf(he,$r,de,De,Ye,rr.disabled,ut):he.renderPass==="translucent"&&$f(he,$r,de,Ye,jt[Hr.overscaledZ],ut)}pe.viewport.set([0,0,he.width,he.height])}}function $f(he,X,de,te,pe,De){var Ye=he.context,ut=Ye.gl,St=X.fbo;if(St){var jt=he.useProgram("hillshade");Ye.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,St.colorAttachment.get());var sr=Zf(he,X,de);jt.draw(Ye,ut.TRIANGLES,te,pe,De,Dt.disabled,sr,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Cf(he,X,de,te,pe,De,Ye){var ut=he.context,St=ut.gl,jt=X.dem;if(jt&&jt.data){var sr=jt.dim,mr=jt.stride,Er=jt.getPixels();if(ut.activeTexture.set(St.TEXTURE1),ut.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||he.getTileTexture(mr),X.demTexture){var Hr=X.demTexture;Hr.update(Er,{premultiply:!1}),Hr.bind(St.NEAREST,St.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(ut,Er,St.RGBA,{premultiply:!1}),X.demTexture.bind(St.NEAREST,St.CLAMP_TO_EDGE);ut.activeTexture.set(St.TEXTURE0);var $r=X.fbo;if(!$r){var qr=new a.Texture(ut,{width:sr,height:sr,data:null},St.RGBA);qr.bind(St.LINEAR,St.CLAMP_TO_EDGE),$r=X.fbo=ut.createFramebuffer(sr,sr,!0),$r.colorAttachment.set(qr.texture)}ut.bindFramebuffer.set($r.framebuffer),ut.viewport.set([0,0,sr,sr]),he.useProgram("hillshadePrepare").draw(ut,St.TRIANGLES,pe,De,Ye,Dt.disabled,bf(X.tileID,jt,te),de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function Lf(he,X,de,te){if(he.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&te.length)for(var pe=he.context,De=pe.gl,Ye=X.getSource(),ut=he.useProgram("raster"),St=he.colorModeForRenderPass(),jt=Ye instanceof q?[{},te]:he.stencilConfigForOverlap(te),sr=jt[0],mr=jt[1],Er=mr[mr.length-1].overscaledZ,Hr=!he.options.moving,$r=0,qr=mr;$r<qr.length;$r+=1){var Jr=qr[$r],ln=he.depthModeForSublayer(Jr.overscaledZ-Er,de.paint.get("raster-opacity")===1?Gr.ReadWrite:Gr.ReadOnly,De.LESS),yn=X.getTile(Jr),_n=he.transform.calculatePosMatrix(Jr.toUnwrapped(),Hr);yn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Vn=X.findLoadedParent(Jr,0),ea=kl(yn,Vn,X,de,he.transform),ra=void 0,ta=void 0,la=de.paint.get("raster-resampling")==="nearest"?De.NEAREST:De.LINEAR;pe.activeTexture.set(De.TEXTURE0),yn.texture.bind(la,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(De.TEXTURE1),Vn?(Vn.texture.bind(la,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),ra=Math.pow(2,Vn.tileID.overscaledZ-yn.tileID.overscaledZ),ta=[yn.tileID.canonical.x*ra%1,yn.tileID.canonical.y*ra%1]):yn.texture.bind(la,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST);var da=Yl(_n,ta||[0,0],ra||1,ea,de);Ye instanceof q?ut.draw(pe,De.TRIANGLES,ln,rr.disabled,St,Dt.disabled,da,de.id,Ye.boundsBuffer,he.quadTriangleIndexBuffer,Ye.boundsSegments):ut.draw(pe,De.TRIANGLES,ln,sr[Jr.overscaledZ],St,Dt.disabled,da,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function kl(he,X,de,te,pe){var De=te.paint.get("raster-fade-duration");if(De>0){var Ye=a.browser.now(),ut=(Ye-he.timeAdded)/De,St=X?(Ye-X.timeAdded)/De:-1,jt=de.getSource(),sr=pe.coveringZoomLevel({tileSize:jt.tileSize,roundZoom:jt.roundZoom}),mr=!X||Math.abs(X.tileID.overscaledZ-sr)>Math.abs(he.tileID.overscaledZ-sr),Er=mr&&he.refreshedUponExpiration?1:a.clamp(mr?ut:1-St,0,1);return he.refreshedUponExpiration&&ut>=1&&(he.refreshedUponExpiration=!1),X?{opacity:1,mix:1-Er}:{opacity:Er,mix:0}}else return{opacity:1,mix:0}}function Ju(he,X,de){var te=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var De=he.context,Ye=De.gl,ut=he.transform,St=ut.tileSize,jt=de.paint.get("background-pattern");if(!he.isPatternMissing(jt)){var sr=!jt&&te.a===1&&pe===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===sr){var mr=rr.disabled,Er=he.depthModeForSublayer(0,sr==="opaque"?Gr.ReadWrite:Gr.ReadOnly),Hr=he.colorModeForRenderPass(),$r=he.useProgram(jt?"backgroundPattern":"background"),qr=ut.coveringTiles({tileSize:St});jt&&(De.activeTexture.set(Ye.TEXTURE0),he.imageManager.bind(he.context));for(var Jr=de.getCrossfadeParameters(),ln=0,yn=qr;ln<yn.length;ln+=1){var _n=yn[ln],Vn=he.transform.calculatePosMatrix(_n.toUnwrapped()),ea=jt?Il(Vn,pe,he,jt,{tileID:_n,tileSize:St},Jr):dl(Vn,pe,te);$r.draw(De,Ye.TRIANGLES,Er,mr,Hr,Dt.disabled,ea,de.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var wu=new a.Color(1,0,0,1),qf=new a.Color(0,1,0,1),Tu=new a.Color(0,0,1,1),ec=new a.Color(1,0,1,1),Xe=new a.Color(0,1,1,1);function nt(he){var X=he.transform.padding,de=3;Tt(he,he.transform.height-(X.top||0),de,wu),Tt(he,X.bottom||0,de,qf),Bt(he,X.left||0,de,Tu),Bt(he,he.transform.width-(X.right||0),de,ec);var te=he.transform.centerPoint;xt(he,te.x,he.transform.height-te.y,Xe)}function xt(he,X,de,te){var pe=20,De=2;Ft(he,X-De/2,de-pe/2,De,pe,te),Ft(he,X-pe/2,de-De/2,pe,De,te)}function Tt(he,X,de,te){Ft(he,0,X+de/2,he.transform.width,de,te)}function Bt(he,X,de,te){Ft(he,X-de/2,0,de,he.transform.height,te)}function Ft(he,X,de,te,pe,De){var Ye=he.context,ut=Ye.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(X*a.browser.devicePixelRatio,de*a.browser.devicePixelRatio,te*a.browser.devicePixelRatio,pe*a.browser.devicePixelRatio),Ye.clear({color:De}),ut.disable(ut.SCISSOR_TEST)}function Yt(he,X,de){for(var te=0;te<de.length;te++)xr(he,X,de[te])}function xr(he,X,de){var te=he.context,pe=te.gl,De=de.posMatrix,Ye=he.useProgram("debug"),ut=Gr.disabled,St=rr.disabled,jt=he.colorModeForRenderPass(),sr="$debug";te.activeTexture.set(pe.TEXTURE0),he.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ye.draw(te,pe.LINE_STRIP,ut,St,jt,Dt.disabled,Wl(De,a.Color.red),sr,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var mr=X.getTileByID(de.key).latestRawTileData,Er=mr&&mr.byteLength||0,Hr=Math.floor(Er/1024),$r=X.getTile(de).tileSize,qr=512/Math.min($r,512)*(de.overscaledZ/he.transform.zoom)*.5,Jr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Jr+=" => "+de.overscaledZ);var ln=Jr+" "+Hr+"kb";Sr(he,ln),Ye.draw(te,pe.TRIANGLES,ut,St,st.alphaBlended,Dt.disabled,Wl(De,a.Color.transparent,qr),sr,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function Sr(he,X){he.initDebugOverlayCanvas();var de=he.debugOverlayCanvas,te=he.context.gl,pe=he.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold "+36+"px Open Sans, sans-serif",pe.fillText(X,5,5),pe.strokeText(X,5,5),he.debugOverlayTexture.update(de),he.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function dr(he,X,de){var te=he.context,pe=de.implementation;if(he.renderPass==="offscreen"){var De=pe.prerender;De&&(he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),De.call(pe,te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),te.setColorMode(he.colorModeForRenderPass()),te.setStencilMode(rr.disabled);var Ye=pe.renderingMode==="3d"?new Gr(he.context.gl.LEQUAL,Gr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,Gr.ReadOnly);te.setDepthMode(Ye),pe.render(te.gl,he.transform.customLayerMatrix()),te.setDirty(),he.setBaseState(),te.bindFramebuffer.set(null)}}var Pr={symbol:Xl,circle:rl,heatmap:Dc,line:Qf,fill:xu,"fill-extrusion":bu,hillshade:Ku,raster:Lf,background:Ju,debug:Yt,custom:dr},zr=function(X,de){this.context=new Nt(X),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Zt.maxUnderzooming+Zt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Qn,this.gpuTimers={}};zr.prototype.resize=function(X,de){if(this.width=X*a.browser.devicePixelRatio,this.height=de*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,pe=this.style._order;te<pe.length;te+=1){var De=pe[te];this.style._layers[De].resize()}},zr.prototype.setup=function(){var X=this.context,de=new a.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(a.EXTENT,0),de.emplaceBack(0,a.EXTENT),de.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(de,ri.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var te=new a.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(a.EXTENT,0),te.emplaceBack(0,a.EXTENT),te.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=X.createVertexBuffer(te,ri.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var pe=new a.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(a.EXTENT,0,a.EXTENT,0),pe.emplaceBack(0,a.EXTENT,0,a.EXTENT),pe.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(pe,K.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var De=new a.StructArrayLayout2i4;De.emplaceBack(0,0),De.emplaceBack(1,0),De.emplaceBack(0,1),De.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(De,ri.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ye=new a.StructArrayLayout1ui2;Ye.emplaceBack(0),Ye.emplaceBack(1),Ye.emplaceBack(3),Ye.emplaceBack(2),Ye.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Ye);var ut=new a.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(ut),this.emptyTexture=new a.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var St=this.context.gl;this.stencilClearMode=new rr({func:St.ALWAYS,mask:0},0,255,St.ZERO,St.ZERO,St.ZERO)},zr.prototype.clearStencil=function(){var X=this.context,de=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=a.create();a.ortho(te,0,this.width,this.height,0,0,1),a.scale(te,te,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,de.TRIANGLES,Gr.disabled,this.stencilClearMode,st.disabled,Dt.disabled,Jo(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},zr.prototype._renderTileClippingMasks=function(X,de){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!de||!de.length)){this.currentStencilSource=X.source;var te=this.context,pe=te.gl;this.nextStencilID+de.length>256&&this.clearStencil(),te.setColorMode(st.disabled),te.setDepthMode(Gr.disabled);var De=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ye=0,ut=de;Ye<ut.length;Ye+=1){var St=ut[Ye],jt=this._tileClippingMaskIDs[St.key]=this.nextStencilID++;De.draw(te,pe.TRIANGLES,Gr.disabled,new rr({func:pe.ALWAYS,mask:0},jt,255,pe.KEEP,pe.KEEP,pe.REPLACE),st.disabled,Dt.disabled,Jo(St.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},zr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,de=this.context.gl;return new rr({func:de.NOTEQUAL,mask:255},X,255,de.KEEP,de.KEEP,de.REPLACE)},zr.prototype.stencilModeForClipping=function(X){var de=this.context.gl;return new rr({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,de.KEEP,de.KEEP,de.REPLACE)},zr.prototype.stencilConfigForOverlap=function(X){var de,te=this.context.gl,pe=X.sort(function(jt,sr){return sr.overscaledZ-jt.overscaledZ}),De=pe[pe.length-1].overscaledZ,Ye=pe[0].overscaledZ-De+1;if(Ye>1){this.currentStencilSource=void 0,this.nextStencilID+Ye>256&&this.clearStencil();for(var ut={},St=0;St<Ye;St++)ut[St+De]=new rr({func:te.GEQUAL,mask:255},St+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Ye,[ut,pe]}return[(de={},de[De]=rr.disabled,de),pe]},zr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var de=8,te=1/de;return new st([X.CONSTANT_COLOR,X.ONE],new a.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},zr.prototype.depthModeForSublayer=function(X,de,te){if(!this.opaquePassEnabledForLayer())return Gr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new Gr(te||this.context.gl.LEQUAL,de,[pe,pe])},zr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},zr.prototype.render=function(X,de){var te=this;this.style=X,this.options=de,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,De=this.style.sourceCaches;for(var Ye in De){var ut=De[Ye];ut.used&&ut.prepare(this.context)}var St={},jt={},sr={};for(var mr in De){var Er=De[mr];St[mr]=Er.getVisibleCoordinates(),jt[mr]=St[mr].slice().reverse(),sr[mr]=Er.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Hr=0;Hr<pe.length;Hr++){var $r=pe[Hr];if(this.style._layers[$r].is3D()){this.opaquePassCutoff=Hr;break}}this.renderPass="offscreen";for(var qr=0,Jr=pe;qr<Jr.length;qr+=1){var ln=Jr[qr],yn=this.style._layers[ln];if(!(!yn.hasOffscreenPass()||yn.isHidden(this.transform.zoom))){var _n=jt[yn.source];yn.type!=="custom"&&!_n.length||this.renderLayer(this,De[yn.source],yn,_n)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var Vn=this.style._layers[pe[this.currentLayer]],ea=De[Vn.source],ra=St[Vn.source];this._renderTileClippingMasks(Vn,ra),this.renderLayer(this,ea,Vn,ra)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var ta=this.style._layers[pe[this.currentLayer]],la=De[ta.source],da=(ta.type==="symbol"?sr:jt)[ta.source];this._renderTileClippingMasks(ta,St[ta.source]),this.renderLayer(this,la,ta,da)}if(this.options.showTileBoundaries){var va,Ta,Ca=a.values(this.style._layers);Ca.forEach(function(Ba){Ba.source&&!Ba.isHidden(te.transform.zoom)&&(Ba.source!==(Ta&&Ta.id)&&(Ta=te.style.sourceCaches[Ba.source]),(!va||va.getSource().maxzoom<Ta.getSource().maxzoom)&&(va=Ta))}),va&&Pr.debug(this,va,va.getVisibleCoordinates())}this.options.showPadding&&nt(this),this.context.setDefault()},zr.prototype.renderLayer=function(X,de,te,pe){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!pe.length||(this.id=te.id,this.gpuTimingStart(te),Pr[te.type](X,de,te,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},zr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var de=this.context.extTimerQuery,te=this.gpuTimers[X.id];te||(te=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),te.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,te.query)}},zr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},zr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},zr.prototype.queryGpuTimers=function(X){var de={};for(var te in X){var pe=X[te],De=this.context.extTimerQuery,Ye=De.getQueryObjectEXT(pe.query,De.QUERY_RESULT_EXT)/(1e3*1e3);De.deleteQueryEXT(pe.query),de[te]=Ye}return de},zr.prototype.translatePosMatrix=function(X,de,te,pe,De){if(!te[0]&&!te[1])return X;var Ye=De?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Ye){var ut=Math.sin(Ye),St=Math.cos(Ye);te=[te[0]*St-te[1]*ut,te[0]*ut+te[1]*St]}var jt=[De?te[0]:Cn(de,te[0],this.transform.zoom),De?te[1]:Cn(de,te[1],this.transform.zoom),0],sr=new Float32Array(16);return a.translate(sr,X,jt),sr},zr.prototype.saveTileTexture=function(X){var de=this._tileTextures[X.size[0]];de?de.push(X):this._tileTextures[X.size[0]]=[X]},zr.prototype.getTileTexture=function(X){var de=this._tileTextures[X];return de&&de.length>0?de.pop():null},zr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var de=this.imageManager.getPattern(X.from.toString()),te=this.imageManager.getPattern(X.to.toString());return!de||!te},zr.prototype.useProgram=function(X,de){this.cache=this.cache||{};var te=""+X+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new Gl(this.context,Gf[X],de,_l[X],this._showOverdrawInspector)),this.cache[te]},zr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},zr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},zr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},zr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var en=function(X,de){this.points=X,this.planes=de};en.fromInvProjectionMatrix=function(X,de,te){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],De=Math.pow(2,te),Ye=pe.map(function(jt){return a.transformMat4([],jt,X)}).map(function(jt){return a.scale$1([],jt,1/jt[3]/de*De)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],St=ut.map(function(jt){var sr=a.sub([],Ye[jt[0]],Ye[jt[1]]),mr=a.sub([],Ye[jt[2]],Ye[jt[1]]),Er=a.normalize([],a.cross([],sr,mr)),Hr=-a.dot(Er,Ye[jt[1]]);return Er.concat(Hr)});return new en(Ye,St)};var sn=function(X,de){this.min=X,this.max=de,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};sn.prototype.quadrant=function(X){for(var de=[X%2===0,X<2],te=a.clone$2(this.min),pe=a.clone$2(this.max),De=0;De<de.length;De++)te[De]=de[De]?this.min[De]:this.center[De],pe[De]=de[De]?this.center[De]:this.max[De];return pe[2]=this.max[2],new sn(te,pe)},sn.prototype.distanceX=function(X){var de=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return de-X[0]},sn.prototype.distanceY=function(X){var de=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return de-X[1]},sn.prototype.intersects=function(X){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,pe=0;pe<X.planes.length;pe++){for(var De=X.planes[pe],Ye=0,ut=0;ut<de.length;ut++)Ye+=a.dot$1(De,de[ut])>=0;if(Ye===0)return 0;Ye!==de.length&&(te=!1)}if(te)return 2;for(var St=0;St<3;St++){for(var jt=Number.MAX_VALUE,sr=-Number.MAX_VALUE,mr=0;mr<X.points.length;mr++){var Er=X.points[mr][St]-this.min[St];jt=Math.min(jt,Er),sr=Math.max(sr,Er)}if(sr<0||jt>this.max[St]-this.min[St])return 0}return 1};var Mn=function(X,de,te,pe){if(X===void 0&&(X=0),de===void 0&&(de=0),te===void 0&&(te=0),pe===void 0&&(pe=0),isNaN(X)||X<0||isNaN(de)||de<0||isNaN(te)||te<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=de,this.left=te,this.right=pe};Mn.prototype.interpolate=function(X,de,te){return de.top!=null&&X.top!=null&&(this.top=a.number(X.top,de.top,te)),de.bottom!=null&&X.bottom!=null&&(this.bottom=a.number(X.bottom,de.bottom,te)),de.left!=null&&X.left!=null&&(this.left=a.number(X.left,de.left,te)),de.right!=null&&X.right!=null&&(this.right=a.number(X.right,de.right,te)),this},Mn.prototype.getCenter=function(X,de){var te=a.clamp((this.left+X-this.right)/2,0,X),pe=a.clamp((this.top+de-this.bottom)/2,0,de);return new a.Point(te,pe)},Mn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},Mn.prototype.clone=function(){return new Mn(this.top,this.bottom,this.left,this.right)},Mn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var En=function(X,de,te,pe,De){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=De===void 0?!0:De,this._minZoom=X||0,this._maxZoom=de||22,this._minPitch=te??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Mn,this._posMatrixCache={},this._alignedPosMatrixCache={}},zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};En.prototype.clone=function(){var X=new En(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},zn.minZoom.get=function(){return this._minZoom},zn.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},zn.maxZoom.get=function(){return this._maxZoom},zn.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},zn.minPitch.get=function(){return this._minPitch},zn.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},zn.maxPitch.get=function(){return this._maxPitch},zn.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},zn.renderWorldCopies.get=function(){return this._renderWorldCopies},zn.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},zn.worldSize.get=function(){return this.tileSize*this.scale},zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},zn.size.get=function(){return new a.Point(this.width,this.height)},zn.bearing.get=function(){return-this.angle/Math.PI*180},zn.bearing.set=function(he){var X=-a.wrap(he,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},zn.pitch.get=function(){return this._pitch/Math.PI*180},zn.pitch.set=function(he){var X=a.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},zn.fov.get=function(){return this._fov/Math.PI*180},zn.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},zn.zoom.get=function(){return this._zoom},zn.zoom.set=function(he){var X=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},zn.center.get=function(){return this._center},zn.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},zn.padding.get=function(){return this._edgeInsets.toJSON()},zn.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},En.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},En.prototype.interpolatePadding=function(X,de,te){this._unmodified=!1,this._edgeInsets.interpolate(X,de,te),this._constrain(),this._calcMatrices()},En.prototype.coveringZoomLevel=function(X){var de=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,de)},En.prototype.getVisibleUnwrappedCoordinates=function(X){var de=[new a.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new a.Point(0,0)),pe=this.pointCoordinate(new a.Point(this.width,0)),De=this.pointCoordinate(new a.Point(this.width,this.height)),Ye=this.pointCoordinate(new a.Point(0,this.height)),ut=Math.floor(Math.min(te.x,pe.x,De.x,Ye.x)),St=Math.floor(Math.max(te.x,pe.x,De.x,Ye.x)),jt=1,sr=ut-jt;sr<=St+jt;sr++)sr!==0&&de.push(new a.UnwrappedTileID(sr,X));return de},En.prototype.coveringTiles=function(X){var de=this.coveringZoomLevel(X),te=de;if(X.minzoom!==void 0&&de<X.minzoom)return[];X.maxzoom!==void 0&&de>X.maxzoom&&(de=X.maxzoom);var pe=a.MercatorCoordinate.fromLngLat(this.center),De=Math.pow(2,de),Ye=[De*pe.x,De*pe.y,0],ut=en.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),St=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(St=de);var jt=3,sr=function(Ca){return{aabb:new sn([Ca*De,0,0],[(Ca+1)*De,De,0]),zoom:0,x:0,y:0,wrap:Ca,fullyVisible:!1}},mr=[],Er=[],Hr=de,$r=X.reparseOverscaled?te:de;if(this._renderWorldCopies)for(var qr=1;qr<=3;qr++)mr.push(sr(-qr)),mr.push(sr(qr));for(mr.push(sr(0));mr.length>0;){var Jr=mr.pop(),ln=Jr.x,yn=Jr.y,_n=Jr.fullyVisible;if(!_n){var Vn=Jr.aabb.intersects(ut);if(Vn===0)continue;_n=Vn===2}var ea=Jr.aabb.distanceX(Ye),ra=Jr.aabb.distanceY(Ye),ta=Math.max(Math.abs(ea),Math.abs(ra)),la=jt+(1<<Hr-Jr.zoom)-2;if(Jr.zoom===Hr||ta>la&&Jr.zoom>=St){Er.push({tileID:new a.OverscaledTileID(Jr.zoom===Hr?$r:Jr.zoom,Jr.wrap,Jr.zoom,ln,yn),distanceSq:a.sqrLen([Ye[0]-.5-ln,Ye[1]-.5-yn])});continue}for(var da=0;da<4;da++){var va=(ln<<1)+da%2,Ta=(yn<<1)+(da>>1);mr.push({aabb:Jr.aabb.quadrant(da),zoom:Jr.zoom+1,x:va,y:Ta,wrap:Jr.wrap,fullyVisible:_n})}}return Er.sort(function(Ca,Ba){return Ca.distanceSq-Ba.distanceSq}).map(function(Ca){return Ca.tileID})},En.prototype.resize=function(X,de){this.width=X,this.height=de,this.pixelsToGLUnits=[2/X,-2/de],this._constrain(),this._calcMatrices()},zn.unmodified.get=function(){return this._unmodified},En.prototype.zoomScale=function(X){return Math.pow(2,X)},En.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},En.prototype.project=function(X){var de=a.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(X.lng)*this.worldSize,a.mercatorYfromLat(de)*this.worldSize)},En.prototype.unproject=function(X){return new a.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},zn.point.get=function(){return this.project(this.center)},En.prototype.setLocationAtPoint=function(X,de){var te=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),De=this.locationCoordinate(X),Ye=new a.MercatorCoordinate(De.x-(te.x-pe.x),De.y-(te.y-pe.y));this.center=this.coordinateLocation(Ye),this._renderWorldCopies&&(this.center=this.center.wrap())},En.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},En.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},En.prototype.locationCoordinate=function(X){return a.MercatorCoordinate.fromLngLat(X)},En.prototype.coordinateLocation=function(X){return X.toLngLat()},En.prototype.pointCoordinate=function(X){var de=0,te=[X.x,X.y,0,1],pe=[X.x,X.y,1,1];a.transformMat4(te,te,this.pixelMatrixInverse),a.transformMat4(pe,pe,this.pixelMatrixInverse);var De=te[3],Ye=pe[3],ut=te[0]/De,St=pe[0]/Ye,jt=te[1]/De,sr=pe[1]/Ye,mr=te[2]/De,Er=pe[2]/Ye,Hr=mr===Er?0:(de-mr)/(Er-mr);return new a.MercatorCoordinate(a.number(ut,St,Hr)/this.worldSize,a.number(jt,sr,Hr)/this.worldSize)},En.prototype.coordinatePoint=function(X){var de=[X.x*this.worldSize,X.y*this.worldSize,0,1];return a.transformMat4(de,de,this.pixelMatrix),new a.Point(de[0]/de[3],de[1]/de[3])},En.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},En.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},En.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},En.prototype.calculatePosMatrix=function(X,de){de===void 0&&(de=!1);var te=X.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[te])return pe[te];var De=X.canonical,Ye=this.worldSize/this.zoomScale(De.z),ut=De.x+Math.pow(2,De.z)*X.wrap,St=a.identity(new Float64Array(16));return a.translate(St,St,[ut*Ye,De.y*Ye,0]),a.scale(St,St,[Ye/a.EXTENT,Ye/a.EXTENT,1]),a.multiply(St,de?this.alignedProjMatrix:this.projMatrix,St),pe[te]=new Float32Array(St),pe[te]},En.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},En.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,de=90,te=-180,pe=180,De,Ye,ut,St,jt=this.size,sr=this._unmodified;if(this.latRange){var mr=this.latRange;X=a.mercatorYfromLat(mr[1])*this.worldSize,de=a.mercatorYfromLat(mr[0])*this.worldSize,De=de-X<jt.y?jt.y/(de-X):0}if(this.lngRange){var Er=this.lngRange;te=a.mercatorXfromLng(Er[0])*this.worldSize,pe=a.mercatorXfromLng(Er[1])*this.worldSize,Ye=pe-te<jt.x?jt.x/(pe-te):0}var Hr=this.point,$r=Math.max(Ye||0,De||0);if($r){this.center=this.unproject(new a.Point(Ye?(pe+te)/2:Hr.x,De?(de+X)/2:Hr.y)),this.zoom+=this.scaleZoom($r),this._unmodified=sr,this._constraining=!1;return}if(this.latRange){var qr=Hr.y,Jr=jt.y/2;qr-Jr<X&&(St=X+Jr),qr+Jr>de&&(St=de-Jr)}if(this.lngRange){var ln=Hr.x,yn=jt.x/2;ln-yn<te&&(ut=te+yn),ln+yn>pe&&(ut=pe-yn)}(ut!==void 0||St!==void 0)&&(this.center=this.unproject(new a.Point(ut!==void 0?ut:Hr.x,St!==void 0?St:Hr.y))),this._unmodified=sr,this._constraining=!1}},En.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var te=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),De=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-te-pe,.01,Math.PI-.01)),Ye=this.point,ut=Ye.x,St=Ye.y,jt=Math.cos(Math.PI/2-this._pitch)*De+this.cameraToCenterDistance,sr=jt*1.01,mr=this.height/50,Er=new Float64Array(16);a.perspective(Er,this._fov,this.width/this.height,mr,sr),Er[8]=-de.x*2/this.width,Er[9]=de.y*2/this.height,a.scale(Er,Er,[1,-1,1]),a.translate(Er,Er,[0,0,-this.cameraToCenterDistance]),a.rotateX(Er,Er,this._pitch),a.rotateZ(Er,Er,this.angle),a.translate(Er,Er,[-ut,-St,0]),this.mercatorMatrix=a.scale([],Er,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Er,Er,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Er,this.invProjMatrix=a.invert([],this.projMatrix);var Hr=this.width%2/2,$r=this.height%2/2,qr=Math.cos(this.angle),Jr=Math.sin(this.angle),ln=ut-Math.round(ut)+qr*Hr+Jr*$r,yn=St-Math.round(St)+qr*$r+Jr*Hr,_n=new Float64Array(Er);if(a.translate(_n,_n,[ln>.5?ln-1:ln,yn>.5?yn-1:yn,0]),this.alignedProjMatrix=_n,Er=a.create(),a.scale(Er,Er,[this.width/2,-this.height/2,1]),a.translate(Er,Er,[1,-1,0]),this.labelPlaneMatrix=Er,Er=a.create(),a.scale(Er,Er,[1,-1,1]),a.translate(Er,Er,[-1,-1,0]),a.scale(Er,Er,[2/this.width,2/this.height,1]),this.glCoordMatrix=Er,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),Er=a.invert(new Float64Array(16),this.pixelMatrix),!Er)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Er,this._posMatrixCache={},this._alignedPosMatrixCache={}}},En.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new a.Point(0,0)),de=[X.x*this.worldSize,X.y*this.worldSize,0,1],te=a.transformMat4(de,de,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},En.prototype.getCameraPoint=function(){var X=this._pitch,de=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,de))},En.prototype.getCameraQueryGeometry=function(X){var de=this.getCameraPoint();if(X.length===1)return[X[0],de];for(var te=de.x,pe=de.y,De=de.x,Ye=de.y,ut=0,St=X;ut<St.length;ut+=1){var jt=St[ut];te=Math.min(te,jt.x),pe=Math.min(pe,jt.y),De=Math.max(De,jt.x),Ye=Math.max(Ye,jt.y)}return[new a.Point(te,pe),new a.Point(De,pe),new a.Point(De,Ye),new a.Point(te,Ye),new a.Point(te,pe)]},Object.defineProperties(En.prototype,zn);function wa(he,X){var de=!1,te=null,pe=function(){te=null,de&&(he(),te=setTimeout(pe,X),de=!1)};return function(){return de=!0,te||pe(),te}}var _a=function(X){this._hashName=X&&encodeURIComponent(X),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=wa(this._updateHashUnthrottled.bind(this),30*1e3/100)};_a.prototype.addTo=function(X){return this._map=X,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},_a.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},_a.prototype.getHashString=function(X){var de=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),De=Math.pow(10,pe),Ye=Math.round(de.lng*De)/De,ut=Math.round(de.lat*De)/De,St=this._map.getBearing(),jt=this._map.getPitch(),sr="";if(X?sr+="/"+Ye+"/"+ut+"/"+te:sr+=te+"/"+ut+"/"+Ye,(St||jt)&&(sr+="/"+Math.round(St*10)/10),jt&&(sr+="/"+Math.round(jt)),this._hashName){var mr=this._hashName,Er=!1,Hr=a.window.location.hash.slice(1).split("&").map(function($r){var qr=$r.split("=")[0];return qr===mr?(Er=!0,qr+"="+sr):$r}).filter(function($r){return $r});return Er||Hr.push(mr+"="+sr),"#"+Hr.join("&")}return"#"+sr},_a.prototype._getCurrentHash=function(){var X=this,de=a.window.location.hash.replace("#","");if(this._hashName){var te;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===X._hashName&&(te=pe)}),(te&&te[1]||"").split("/")}return de.split("/")},_a.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(te){return isNaN(te)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:de,pitch:+(X[4]||0)}),!0}return!1},_a.prototype._updateHashUnthrottled=function(){var X=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",X)}catch{}};var za={linearity:.3,easing:a.bezier(0,0,.3,1)},Oa=a.extend({deceleration:2500,maxSpeed:1400},za),Ua=a.extend({deceleration:20,maxSpeed:1400},za),Ti=a.extend({deceleration:1e3,maxSpeed:360},za),eo=a.extend({deceleration:1e3,maxSpeed:90},za),ki=function(X){this._map=X,this.clear()};ki.prototype.clear=function(){this._inertiaBuffer=[]},ki.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:X})},ki.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,de=a.browser.now(),te=160;X.length>0&&de-X[0].time>te;)X.shift()},ki.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},te=0,pe=this._inertiaBuffer;te<pe.length;te+=1){var De=pe[te],Ye=De.settings;de.zoom+=Ye.zoomDelta||0,de.bearing+=Ye.bearingDelta||0,de.pitch+=Ye.pitchDelta||0,Ye.panDelta&&de.pan._add(Ye.panDelta),Ye.around&&(de.around=Ye.around),Ye.pinchAround&&(de.pinchAround=Ye.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],St=ut.time-this._inertiaBuffer[0].time,jt={};if(de.pan.mag()){var sr=Se(de.pan.mag(),St,a.extend({},Oa,X||{}));jt.offset=de.pan.mult(sr.amount/de.pan.mag()),jt.center=this._map.transform.center,le(jt,sr)}if(de.zoom){var mr=Se(de.zoom,St,Ua);jt.zoom=this._map.transform.zoom+mr.amount,le(jt,mr)}if(de.bearing){var Er=Se(de.bearing,St,Ti);jt.bearing=this._map.transform.bearing+a.clamp(Er.amount,-179,179),le(jt,Er)}if(de.pitch){var Hr=Se(de.pitch,St,eo);jt.pitch=this._map.transform.pitch+Hr.amount,le(jt,Hr)}if(jt.zoom||jt.bearing){var $r=de.pinchAround===void 0?de.around:de.pinchAround;jt.around=$r?this._map.unproject($r):this._map.getCenter()}return this.clear(),a.extend(jt,{noMoveStart:!0})}};function le(he,X){(!he.duration||he.duration<X.duration)&&(he.duration=X.duration,he.easing=X.easing)}function Se(he,X,de){var te=de.maxSpeed,pe=de.linearity,De=de.deceleration,Ye=a.clamp(he*pe/(X/1e3),-te,te),ut=Math.abs(Ye)/(De*pe);return{easing:de.easing,duration:ut*1e3,amount:Ye*(ut/2)}}var Ne=function(he){function X(te,pe,De,Ye){Ye===void 0&&(Ye={});var ut=A.mousePos(pe.getCanvasContainer(),De),St=pe.unproject(ut);he.call(this,te,a.extend({point:ut,lngLat:St,originalEvent:De},Ye)),this._defaultPrevented=!1,this.target=pe}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),Qe=function(he){function X(te,pe,De){var Ye=te==="touchend"?De.changedTouches:De.touches,ut=A.touchPos(pe.getCanvasContainer(),Ye),St=ut.map(function(mr){return pe.unproject(mr)}),jt=ut.reduce(function(mr,Er,Hr,$r){return mr.add(Er.div($r.length))},new a.Point(0,0)),sr=pe.unproject(jt);he.call(this,te,{points:ut,point:jt,lngLats:St,lngLat:sr,originalEvent:De}),this._defaultPrevented=!1}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),rt=function(he){function X(te,pe,De){he.call(this,te,{originalEvent:De}),this._defaultPrevented=!1}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),ot=function(X,de){this._map=X,this._clickTolerance=de.clickTolerance};ot.prototype.reset=function(){delete this._mousedownPos},ot.prototype.wheel=function(X){return this._firePreventable(new rt(X.type,this._map,X))},ot.prototype.mousedown=function(X,de){return this._mousedownPos=de,this._firePreventable(new Ne(X.type,this._map,X))},ot.prototype.mouseup=function(X){this._map.fire(new Ne(X.type,this._map,X))},ot.prototype.click=function(X,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new Ne(X.type,this._map,X))},ot.prototype.dblclick=function(X){return this._firePreventable(new Ne(X.type,this._map,X))},ot.prototype.mouseover=function(X){this._map.fire(new Ne(X.type,this._map,X))},ot.prototype.mouseout=function(X){this._map.fire(new Ne(X.type,this._map,X))},ot.prototype.touchstart=function(X){return this._firePreventable(new Qe(X.type,this._map,X))},ot.prototype.touchmove=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchend=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchcancel=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var zt=function(X){this._map=X};zt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},zt.prototype.mousemove=function(X){this._map.fire(new Ne(X.type,this._map,X))},zt.prototype.mousedown=function(){this._delayContextMenu=!0},zt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ne("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},zt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Ne(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},zt.prototype.isEnabled=function(){return!0},zt.prototype.isActive=function(){return!1},zt.prototype.enable=function(){},zt.prototype.disable=function(){};var mt=function(X,de){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=de.clickTolerance||1};mt.prototype.isEnabled=function(){return!!this._enabled},mt.prototype.isActive=function(){return!!this._active},mt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},mt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},mt.prototype.mousedown=function(X,de){this.isEnabled()&&X.shiftKey&&X.button===0&&(A.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},mt.prototype.mousemoveWindow=function(X,de){if(this._active){var te=de;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=te,this._box||(this._box=A.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var De=Math.min(pe.x,te.x),Ye=Math.max(pe.x,te.x),ut=Math.min(pe.y,te.y),St=Math.max(pe.y,te.y);A.setTransform(this._box,"translate("+De+"px,"+ut+"px)"),this._box.style.width=Ye-De+"px",this._box.style.height=St-ut+"px"}}},mt.prototype.mouseupWindow=function(X,de){var te=this;if(this._active&&X.button===0){var pe=this._startPos,De=de;if(this.reset(),A.suppressClick(),pe.x===De.x&&pe.y===De.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Ye){return Ye.fitScreenCoordinates(pe,De,te._map.getBearing(),{linear:!0})}}}},mt.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},mt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos},mt.prototype._fireEvent=function(X,de){return this._map.fire(new a.Event(X,{originalEvent:de}))};function Qt(he,X){for(var de={},te=0;te<he.length;te++)de[he[te].identifier]=X[te];return de}function cr(he){for(var X=new a.Point(0,0),de=0,te=he;de<te.length;de+=1){var pe=te[de];X._add(pe)}return X.div(he.length)}var hr=500,kr=500,Fr=30,nn=function(X){this.reset(),this.numTouches=X.numTouches};nn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},nn.prototype.touchstart=function(X,de,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),te.length===this.numTouches&&(this.centroid=cr(de),this.touches=Qt(te,de)))},nn.prototype.touchmove=function(X,de,te){if(!(this.aborted||!this.centroid)){var pe=Qt(te,de);for(var De in this.touches){var Ye=this.touches[De],ut=pe[De];(!ut||ut.dist(Ye)>Fr)&&(this.aborted=!0)}}},nn.prototype.touchend=function(X,de,te){if((!this.centroid||X.timeStamp-this.startTime>kr)&&(this.aborted=!0),te.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var hn=function(X){this.singleTap=new nn(X),this.numTaps=X.numTaps,this.reset()};hn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},hn.prototype.touchstart=function(X,de,te){this.singleTap.touchstart(X,de,te)},hn.prototype.touchmove=function(X,de,te){this.singleTap.touchmove(X,de,te)},hn.prototype.touchend=function(X,de,te){var pe=this.singleTap.touchend(X,de,te);if(pe){var De=X.timeStamp-this.lastTime<hr,Ye=!this.lastTap||this.lastTap.dist(pe)<Fr;if((!De||!Ye)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Nr=function(){this._zoomIn=new hn({numTouches:1,numTaps:2}),this._zoomOut=new hn({numTouches:2,numTaps:1}),this.reset()};Nr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Nr.prototype.touchstart=function(X,de,te){this._zoomIn.touchstart(X,de,te),this._zoomOut.touchstart(X,de,te)},Nr.prototype.touchmove=function(X,de,te){this._zoomIn.touchmove(X,de,te),this._zoomOut.touchmove(X,de,te)},Nr.prototype.touchend=function(X,de,te){var pe=this,De=this._zoomIn.touchend(X,de,te),Ye=this._zoomOut.touchend(X,de,te);if(De)return this._active=!0,X.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(De)},{originalEvent:X})}};if(Ye)return this._active=!0,X.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Ye)},{originalEvent:X})}}},Nr.prototype.touchcancel=function(){this.reset()},Nr.prototype.enable=function(){this._enabled=!0},Nr.prototype.disable=function(){this._enabled=!1,this.reset()},Nr.prototype.isEnabled=function(){return this._enabled},Nr.prototype.isActive=function(){return this._active};var Kr=0,tn=2,dn=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};dn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},dn.prototype._correctButton=function(X,de){return!1},dn.prototype._move=function(X,de){return{}},dn.prototype.mousedown=function(X,de){if(!this._lastPoint){var te=A.mouseButton(X);this._correctButton(X,te)&&(this._lastPoint=de,this._eventButton=te)}},dn.prototype.mousemoveWindow=function(X,de){var te=this._lastPoint;if(te&&(X.preventDefault(),!(!this._moved&&de.dist(te)<this._clickTolerance)))return this._moved=!0,this._lastPoint=de,this._move(te,de)},dn.prototype.mouseupWindow=function(X){var de=A.mouseButton(X);de===this._eventButton&&(this._moved&&A.suppressClick(),this.reset())},dn.prototype.enable=function(){this._enabled=!0},dn.prototype.disable=function(){this._enabled=!1,this.reset()},dn.prototype.isEnabled=function(){return this._enabled},dn.prototype.isActive=function(){return this._active};var bn=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(te,pe){he.prototype.mousedown.call(this,te,pe),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(te,pe){return pe===Kr&&!te.ctrlKey},X.prototype._move=function(te,pe){return{around:pe,panDelta:pe.sub(te)}},X}(dn),rn=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(te,pe){return pe===Kr&&te.ctrlKey||pe===tn},X.prototype._move=function(te,pe){var De=.8,Ye=(pe.x-te.x)*De;if(Ye)return this._active=!0,{bearingDelta:Ye}},X.prototype.contextmenu=function(te){te.preventDefault()},X}(dn),Yn=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(te,pe){return pe===Kr&&te.ctrlKey||pe===tn},X.prototype._move=function(te,pe){var De=-.5,Ye=(pe.y-te.y)*De;if(Ye)return this._active=!0,{pitchDelta:Ye}},X.prototype.contextmenu=function(te){te.preventDefault()},X}(dn),Jn=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};Jn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Jn.prototype.touchstart=function(X,de,te){return this._calculateTransform(X,de,te)},Jn.prototype.touchmove=function(X,de,te){if(this._active)return X.preventDefault(),this._calculateTransform(X,de,te)},Jn.prototype.touchend=function(X,de,te){this._calculateTransform(X,de,te),this._active&&te.length<this._minTouches&&this.reset()},Jn.prototype.touchcancel=function(){this.reset()},Jn.prototype._calculateTransform=function(X,de,te){te.length>0&&(this._active=!0);var pe=Qt(te,de),De=new a.Point(0,0),Ye=new a.Point(0,0),ut=0;for(var St in pe){var jt=pe[St],sr=this._touches[St];sr&&(De._add(jt),Ye._add(jt.sub(sr)),ut++,pe[St]=jt)}if(this._touches=pe,!(ut<this._minTouches||!Ye.mag())){var mr=Ye.div(ut);if(this._sum._add(mr),!(this._sum.mag()<this._clickTolerance)){var Er=De.div(ut);return{around:Er,panDelta:mr}}}},Jn.prototype.enable=function(){this._enabled=!0},Jn.prototype.disable=function(){this._enabled=!1,this.reset()},Jn.prototype.isEnabled=function(){return this._enabled},Jn.prototype.isActive=function(){return this._active};var aa=function(){this.reset()};aa.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},aa.prototype._start=function(X){},aa.prototype._move=function(X,de,te){return{}},aa.prototype.touchstart=function(X,de,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([de[0],de[1]]))},aa.prototype.touchmove=function(X,de,te){if(this._firstTwoTouches){X.preventDefault();var pe=this._firstTwoTouches,De=pe[0],Ye=pe[1],ut=fa(te,de,De),St=fa(te,de,Ye);if(!(!ut||!St)){var jt=this._aroundCenter?null:ut.add(St).div(2);return this._move([ut,St],jt,X)}}},aa.prototype.touchend=function(X,de,te){if(this._firstTwoTouches){var pe=this._firstTwoTouches,De=pe[0],Ye=pe[1],ut=fa(te,de,De),St=fa(te,de,Ye);ut&&St||(this._active&&A.suppressClick(),this.reset())}},aa.prototype.touchcancel=function(){this.reset()},aa.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},aa.prototype.disable=function(){this._enabled=!1,this.reset()},aa.prototype.isEnabled=function(){return this._enabled},aa.prototype.isActive=function(){return this._active};function fa(he,X,de){for(var te=0;te<he.length;te++)if(he[te].identifier===de)return X[te]}var Ea=.1;function Sa(he,X){return Math.log(he/X)/Math.LN2}var Ja=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},X.prototype._move=function(te,pe){var De=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(Sa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Sa(this._distance,De),pinchAround:pe}},X}(aa),Ia=25;function Wa(he,X){return he.angleWith(X)*180/Math.PI}var di=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},X.prototype._move=function(te,pe){var De=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Wa(this._vector,De),pinchAround:pe}},X.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var pe=Math.PI*this._minDiameter,De=Ia/pe*360,Ye=Wa(te,this._startVector);return Math.abs(Ye)<De},X}(aa);function yi(he){return Math.abs(he.y)>Math.abs(he.x)}var Li=100,jn=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(te){this._lastPoints=te,yi(te[0].sub(te[1]))&&(this._valid=!1)},X.prototype._move=function(te,pe,De){var Ye=te[0].sub(this._lastPoints[0]),ut=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ye,ut,De.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var St=(Ye.y+ut.y)/2,jt=-.5;return{pitchDelta:St*jt}}},X.prototype.gestureBeginsVertically=function(te,pe,De){if(this._valid!==void 0)return this._valid;var Ye=2,ut=te.mag()>=Ye,St=pe.mag()>=Ye;if(!(!ut&&!St)){if(!ut||!St)return this._firstMove===void 0&&(this._firstMove=De),De-this._firstMove<Li?void 0:!1;var jt=te.y>0==pe.y>0;return yi(te)&&yi(pe)&&jt}},X}(aa),Ya={panStep:100,bearingStep:15,pitchStep:10},Ha=function(){var X=Ya;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep};Ha.prototype.reset=function(){this._active=!1},Ha.prototype.keydown=function(X){var de=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var te=0,pe=0,De=0,Ye=0,ut=0;switch(X.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:X.shiftKey?pe=-1:(X.preventDefault(),Ye=-1);break;case 39:X.shiftKey?pe=1:(X.preventDefault(),Ye=1);break;case 38:X.shiftKey?De=1:(X.preventDefault(),ut=-1);break;case 40:X.shiftKey?De=-1:(X.preventDefault(),ut=1);break;default:return}return{cameraAnimation:function(St){var jt=St.getZoom();St.easeTo({duration:300,easeId:"keyboardHandler",easing:ii,zoom:te?Math.round(jt)+te*(X.shiftKey?2:1):jt,bearing:St.getBearing()+pe*de._bearingStep,pitch:St.getPitch()+De*de._pitchStep,offset:[-Ye*de._panStep,-ut*de._panStep],center:St.getCenter()},{originalEvent:X})}}}},Ha.prototype.enable=function(){this._enabled=!0},Ha.prototype.disable=function(){this._enabled=!1,this.reset()},Ha.prototype.isEnabled=function(){return this._enabled},Ha.prototype.isActive=function(){return this._active};function ii(he){return he*(2-he)}var Xi=4.000244140625,oo=1/100,vo=1/450,Ui=2,Ri=function(X,de){this._map=X,this._el=X.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=oo,this._wheelZoomRate=vo,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ri.prototype.setZoomRate=function(X){this._defaultZoomRate=X},Ri.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},Ri.prototype.isEnabled=function(){return!!this._enabled},Ri.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Ri.prototype.isZooming=function(){return!!this._zooming},Ri.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},Ri.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ri.prototype.wheel=function(X){if(this.isEnabled()){var de=X.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,te=a.browser.now(),pe=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,de!==0&&de%Xi===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),X.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=X,this._delta-=de,this._active||this._start(X)),X.preventDefault()}},Ri.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},Ri.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=A.mousePos(this._el,X);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ri.prototype.renderFrame=function(){return this._onScrollFrame()},Ri.prototype._onScrollFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>Xi?this._wheelZoomRate:this._defaultZoomRate,pe=Ui/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&pe!==0&&(pe=1/pe);var De=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(De*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ye=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ut=this._startZoom,St=this._easing,jt=!1,sr;if(this._type==="wheel"&&ut&&St){var mr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),Er=St(mr);sr=a.number(ut,Ye,Er),mr<1?this._frameId||(this._frameId=!0):jt=!0}else sr=Ye,jt=!0;return this._active=!0,jt&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!jt,zoomDelta:sr-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ri.prototype._smoothOutEasing=function(X){var de=a.ease;if(this._prevEase){var te=this._prevEase,pe=(a.browser.now()-te.start)/te.duration,De=te.easing(pe+.01)-te.easing(pe),Ye=.27/Math.sqrt(De*De+1e-4)*.01,ut=Math.sqrt(.27*.27-Ye*Ye);de=a.bezier(Ye,ut,.25,1)}return this._prevEase={start:a.browser.now(),duration:X,easing:de},de},Ri.prototype.reset=function(){this._active=!1};var Aa=function(X,de){this._clickZoom=X,this._tapZoom=de};Aa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Aa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Aa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Aa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ra=function(){this.reset()};Ra.prototype.reset=function(){this._active=!1},Ra.prototype.dblclick=function(X,de){return X.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(X.shiftKey?-1:1),around:te.unproject(de)},{originalEvent:X})}}},Ra.prototype.enable=function(){this._enabled=!0},Ra.prototype.disable=function(){this._enabled=!1,this.reset()},Ra.prototype.isEnabled=function(){return this._enabled},Ra.prototype.isActive=function(){return this._active};var Hi=function(){this._tap=new hn({numTouches:1,numTaps:1}),this.reset()};Hi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Hi.prototype.touchstart=function(X,de,te){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>hr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=de[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(X,de,te))},Hi.prototype.touchmove=function(X,de,te){if(!this._tapTime)this._tap.touchmove(X,de,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var pe=de[0],De=pe.y-this._swipePoint.y;return this._swipePoint=pe,X.preventDefault(),this._active=!0,{zoomDelta:De/128}}},Hi.prototype.touchend=function(X,de,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var pe=this._tap.touchend(X,de,te);pe&&(this._tapTime=X.timeStamp)}},Hi.prototype.touchcancel=function(){this.reset()},Hi.prototype.enable=function(){this._enabled=!0},Hi.prototype.disable=function(){this._enabled=!1,this.reset()},Hi.prototype.isEnabled=function(){return this._enabled},Hi.prototype.isActive=function(){return this._active};var fo=function(X,de,te){this._el=X,this._mousePan=de,this._touchPan=te};fo.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ns=function(X,de,te){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=de,this._mousePitch=te};ns.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ns.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ns.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ns.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Eo=function(X,de,te,pe){this._el=X,this._touchZoom=de,this._touchRotate=te,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Eo.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Eo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Eo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Eo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Eo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Eo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Vo=function(he){return he.zoom||he.drag||he.pitch||he.rotate},Ki=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X}(a.Event);function ls(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var zi=function(X,de){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ki(X),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),a.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!1}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[a.window,"blur",void 0]];for(var pe=0,De=this._listeners;pe<De.length;pe+=1){var Ye=De[pe],ut=Ye[0],St=Ye[1],jt=Ye[2];A.addEventListener(ut,St,ut===a.window.document?this.handleWindowEvent:this.handleEvent,jt)}};zi.prototype.destroy=function(){for(var X=0,de=this._listeners;X<de.length;X+=1){var te=de[X],pe=te[0],De=te[1],Ye=te[2];A.removeEventListener(pe,De,pe===a.window.document?this.handleWindowEvent:this.handleEvent,Ye)}},zi.prototype._addDefaultHandlers=function(X){var de=this._map,te=de.getCanvasContainer();this._add("mapEvent",new ot(de,X));var pe=de.boxZoom=new mt(de,X);this._add("boxZoom",pe);var De=new Nr,Ye=new Ra;de.doubleClickZoom=new Aa(Ye,De),this._add("tapZoom",De),this._add("clickZoom",Ye);var ut=new Hi;this._add("tapDragZoom",ut);var St=de.touchPitch=new jn;this._add("touchPitch",St);var jt=new rn(X),sr=new Yn(X);de.dragRotate=new ns(X,jt,sr),this._add("mouseRotate",jt,["mousePitch"]),this._add("mousePitch",sr,["mouseRotate"]);var mr=new bn(X),Er=new Jn(X);de.dragPan=new fo(te,mr,Er),this._add("mousePan",mr),this._add("touchPan",Er,["touchZoom","touchRotate"]);var Hr=new di,$r=new Ja;de.touchZoomRotate=new Eo(te,$r,Hr,ut),this._add("touchRotate",Hr,["touchPan","touchZoom"]),this._add("touchZoom",$r,["touchPan","touchRotate"]);var qr=de.scrollZoom=new Ri(de,this);this._add("scrollZoom",qr,["mousePan"]);var Jr=de.keyboard=new Ha;this._add("keyboard",Jr),this._add("blockableMapEvent",new zt(de));for(var ln=0,yn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ln<yn.length;ln+=1){var _n=yn[ln];X.interactive&&X[_n]&&de[_n].enable(X[_n])}},zi.prototype._add=function(X,de,te){this._handlers.push({handlerName:X,handler:de,allowed:te}),this._handlersById[X]=de},zi.prototype.stop=function(){if(!this._updatingCamera){for(var X=0,de=this._handlers;X<de.length;X+=1){var te=de[X],pe=te.handler;pe.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},zi.prototype.isActive=function(){for(var X=0,de=this._handlers;X<de.length;X+=1){var te=de[X],pe=te.handler;if(pe.isActive())return!0}return!1},zi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},zi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},zi.prototype.isMoving=function(){return Boolean(Vo(this._eventsInProgress))||this.isZooming()},zi.prototype._blockedByActive=function(X,de,te){for(var pe in X)if(pe!==te&&(!de||de.indexOf(pe)<0))return!0;return!1},zi.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},zi.prototype._getMapTouches=function(X){for(var de=[],te=0,pe=X;te<pe.length;te+=1){var De=pe[te],Ye=De.target;this._el.contains(Ye)&&de.push(De)}return de},zi.prototype.handleEvent=function(X,de){if(X.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var te=X.type==="renderFrame"?void 0:X,pe={needsRenderFrame:!1},De={},Ye={},ut=X.touches?this._getMapTouches(X.touches):void 0,St=ut?A.touchPos(this._el,ut):A.mousePos(this._el,X),jt=0,sr=this._handlers;jt<sr.length;jt+=1){var mr=sr[jt],Er=mr.handlerName,Hr=mr.handler,$r=mr.allowed;if(Hr.isEnabled()){var qr=void 0;this._blockedByActive(Ye,$r,Er)?Hr.reset():Hr[de||X.type]&&(qr=Hr[de||X.type](X,St,ut),this.mergeHandlerResult(pe,De,qr,Er,te),qr&&qr.needsRenderFrame&&this._triggerRenderFrame()),(qr||Hr.isActive())&&(Ye[Er]=Hr)}}var Jr={};for(var ln in this._previousActiveHandlers)Ye[ln]||(Jr[ln]=te);this._previousActiveHandlers=Ye,(Object.keys(Jr).length||ls(pe))&&(this._changes.push([pe,De,Jr]),this._triggerRenderFrame()),(Object.keys(Ye).length||ls(pe))&&this._map._stop(!0),this._updatingCamera=!1;var yn=pe.cameraAnimation;yn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],yn(this._map))},zi.prototype.mergeHandlerResult=function(X,de,te,pe,De){if(te){a.extend(X,te);var Ye={handlerName:pe,originalEvent:te.originalEvent||De};te.zoomDelta!==void 0&&(de.zoom=Ye),te.panDelta!==void 0&&(de.drag=Ye),te.pitchDelta!==void 0&&(de.pitch=Ye),te.bearingDelta!==void 0&&(de.rotate=Ye)}},zi.prototype._applyChanges=function(){for(var X={},de={},te={},pe=0,De=this._changes;pe<De.length;pe+=1){var Ye=De[pe],ut=Ye[0],St=Ye[1],jt=Ye[2];ut.panDelta&&(X.panDelta=(X.panDelta||new a.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(X.around=ut.around),ut.pinchAround!==void 0&&(X.pinchAround=ut.pinchAround),ut.noInertia&&(X.noInertia=ut.noInertia),a.extend(de,St),a.extend(te,jt)}this._updateMapTransform(X,de,te),this._changes=[]},zi.prototype._updateMapTransform=function(X,de,te){var pe=this._map,De=pe.transform;if(!ls(X))return this._fireEvents(de,te);var Ye=X.panDelta,ut=X.zoomDelta,St=X.bearingDelta,jt=X.pitchDelta,sr=X.around,mr=X.pinchAround;mr!==void 0&&(sr=mr),pe._stop(!0),sr=sr||pe.transform.centerPoint;var Er=De.pointLocation(Ye?sr.sub(Ye):sr);St&&(De.bearing+=St),jt&&(De.pitch+=jt),ut&&(De.zoom+=ut),De.setLocationAtPoint(Er,sr),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(de,te)},zi.prototype._fireEvents=function(X,de){var te=this,pe=Vo(this._eventsInProgress),De=Vo(X),Ye={};for(var ut in X){var St=X[ut],jt=St.originalEvent;this._eventsInProgress[ut]||(Ye[ut+"start"]=jt),this._eventsInProgress[ut]=X[ut]}!pe&&De&&this._fireEvent("movestart",De.originalEvent);for(var sr in Ye)this._fireEvent(sr,Ye[sr]);X.rotate&&(this._bearingChanged=!0),De&&this._fireEvent("move",De.originalEvent);for(var mr in X){var Er=X[mr],Hr=Er.originalEvent;this._fireEvent(mr,Hr)}var $r={},qr;for(var Jr in this._eventsInProgress){var ln=this._eventsInProgress[Jr],yn=ln.handlerName,_n=ln.originalEvent;this._handlersById[yn].isActive()||(delete this._eventsInProgress[Jr],qr=de[yn]||_n,$r[Jr+"end"]=qr)}for(var Vn in $r)this._fireEvent(Vn,$r[Vn]);var ea=Vo(this._eventsInProgress);if((pe||De)&&!ea){this._updatingCamera=!0;var ra=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ta=function(la){return la!==0&&-te._bearingSnap<la&&la<te._bearingSnap};ra?(ta(ra.bearing||this._map.getBearing())&&(ra.bearing=0),this._map.easeTo(ra,{originalEvent:qr})):(this._map.fire(new a.Event("moveend",{originalEvent:qr})),ta(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},zi.prototype._fireEvent=function(X,de){this._map.fire(new a.Event(X,de?{originalEvent:de}:{}))},zi.prototype._triggerRenderFrame=function(){var X=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(de){delete X._frameId,X.handleEvent(new Ki("renderFrame",{timeStamp:de})),X._applyChanges()}))};var Us=function(he){function X(de,te){he.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=te.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(te,pe){return this.jumpTo({center:te},pe)},X.prototype.panBy=function(te,pe,De){return te=a.Point.convert(te).mult(-1),this.panTo(this.transform.center,a.extend({offset:te},pe),De)},X.prototype.panTo=function(te,pe,De){return this.easeTo(a.extend({center:te},pe),De)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(te,pe){return this.jumpTo({zoom:te},pe),this},X.prototype.zoomTo=function(te,pe,De){return this.easeTo(a.extend({zoom:te},pe),De)},X.prototype.zoomIn=function(te,pe){return this.zoomTo(this.getZoom()+1,te,pe),this},X.prototype.zoomOut=function(te,pe){return this.zoomTo(this.getZoom()-1,te,pe),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(te,pe){return this.jumpTo({bearing:te},pe),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(te,pe){return this.jumpTo({padding:te},pe),this},X.prototype.rotateTo=function(te,pe,De){return this.easeTo(a.extend({bearing:te},pe),De)},X.prototype.resetNorth=function(te,pe){return this.rotateTo(0,a.extend({duration:1e3},te),pe),this},X.prototype.resetNorthPitch=function(te,pe){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},te),pe),this},X.prototype.snapToNorth=function(te,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,pe):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(te,pe){return this.jumpTo({pitch:te},pe),this},X.prototype.cameraForBounds=function(te,pe){return te=a.LngLatBounds.convert(te),this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),0,pe)},X.prototype._cameraForBoxAndBearing=function(te,pe,De,Ye){var ut={top:0,bottom:0,right:0,left:0};if(Ye=a.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Ye),typeof Ye.padding=="number"){var St=Ye.padding;Ye.padding={top:St,bottom:St,right:St,left:St}}Ye.padding=a.extend(ut,Ye.padding);var jt=this.transform,sr=jt.padding,mr=jt.project(a.LngLat.convert(te)),Er=jt.project(a.LngLat.convert(pe)),Hr=mr.rotate(-De*Math.PI/180),$r=Er.rotate(-De*Math.PI/180),qr=new a.Point(Math.max(Hr.x,$r.x),Math.max(Hr.y,$r.y)),Jr=new a.Point(Math.min(Hr.x,$r.x),Math.min(Hr.y,$r.y)),ln=qr.sub(Jr),yn=(jt.width-(sr.left+sr.right+Ye.padding.left+Ye.padding.right))/ln.x,_n=(jt.height-(sr.top+sr.bottom+Ye.padding.top+Ye.padding.bottom))/ln.y;if(_n<0||yn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Vn=Math.min(jt.scaleZoom(jt.scale*Math.min(yn,_n)),Ye.maxZoom),ea=a.Point.convert(Ye.offset),ra=(Ye.padding.left-Ye.padding.right)/2,ta=(Ye.padding.top-Ye.padding.bottom)/2,la=new a.Point(ea.x+ra,ea.y+ta),da=la.mult(jt.scale/jt.zoomScale(Vn)),va=jt.unproject(mr.add(Er).div(2).sub(da));return{center:va,zoom:Vn,bearing:De}},X.prototype.fitBounds=function(te,pe,De){return this._fitInternal(this.cameraForBounds(te,pe),pe,De)},X.prototype.fitScreenCoordinates=function(te,pe,De,Ye,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(te)),this.transform.pointLocation(a.Point.convert(pe)),De,Ye),Ye,ut)},X.prototype._fitInternal=function(te,pe,De){return te?(pe=a.extend(te,pe),delete pe.padding,pe.linear?this.easeTo(pe,De):this.flyTo(pe,De)):this},X.prototype.jumpTo=function(te,pe){this.stop();var De=this.transform,Ye=!1,ut=!1,St=!1;return"zoom"in te&&De.zoom!==+te.zoom&&(Ye=!0,De.zoom=+te.zoom),te.center!==void 0&&(De.center=a.LngLat.convert(te.center)),"bearing"in te&&De.bearing!==+te.bearing&&(ut=!0,De.bearing=+te.bearing),"pitch"in te&&De.pitch!==+te.pitch&&(St=!0,De.pitch=+te.pitch),te.padding!=null&&!De.isPaddingEqual(te.padding)&&(De.padding=te.padding),this.fire(new a.Event("movestart",pe)).fire(new a.Event("move",pe)),Ye&&this.fire(new a.Event("zoomstart",pe)).fire(new a.Event("zoom",pe)).fire(new a.Event("zoomend",pe)),ut&&this.fire(new a.Event("rotatestart",pe)).fire(new a.Event("rotate",pe)).fire(new a.Event("rotateend",pe)),St&&this.fire(new a.Event("pitchstart",pe)).fire(new a.Event("pitch",pe)).fire(new a.Event("pitchend",pe)),this.fire(new a.Event("moveend",pe))},X.prototype.easeTo=function(te,pe){var De=this;this._stop(!1,te.easeId),te=a.extend({offset:[0,0],duration:500,easing:a.ease},te),(te.animate===!1||!te.essential&&a.browser.prefersReducedMotion)&&(te.duration=0);var Ye=this.transform,ut=this.getZoom(),St=this.getBearing(),jt=this.getPitch(),sr=this.getPadding(),mr="zoom"in te?+te.zoom:ut,Er="bearing"in te?this._normalizeBearing(te.bearing,St):St,Hr="pitch"in te?+te.pitch:jt,$r="padding"in te?te.padding:Ye.padding,qr=a.Point.convert(te.offset),Jr=Ye.centerPoint.add(qr),ln=Ye.pointLocation(Jr),yn=a.LngLat.convert(te.center||ln);this._normalizeCenter(yn);var _n=Ye.project(ln),Vn=Ye.project(yn).sub(_n),ea=Ye.zoomScale(mr-ut),ra,ta;te.around&&(ra=a.LngLat.convert(te.around),ta=Ye.locationPoint(ra));var la={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||mr!==ut,this._rotating=this._rotating||St!==Er,this._pitching=this._pitching||Hr!==jt,this._padding=!Ye.isPaddingEqual($r),this._easeId=te.easeId,this._prepareEase(pe,te.noMoveStart,la),clearTimeout(this._easeEndTimeoutID),this._ease(function(da){if(De._zooming&&(Ye.zoom=a.number(ut,mr,da)),De._rotating&&(Ye.bearing=a.number(St,Er,da)),De._pitching&&(Ye.pitch=a.number(jt,Hr,da)),De._padding&&(Ye.interpolatePadding(sr,$r,da),Jr=Ye.centerPoint.add(qr)),ra)Ye.setLocationAtPoint(ra,ta);else{var va=Ye.zoomScale(Ye.zoom-ut),Ta=mr>ut?Math.min(2,ea):Math.max(.5,ea),Ca=Math.pow(Ta,1-da),Ba=Ye.unproject(_n.add(Vn.mult(da*Ca)).mult(va));Ye.setLocationAtPoint(Ye.renderWorldCopies?Ba.wrap():Ba,Jr)}De._fireMoveEvents(pe)},function(da){De._afterEase(pe,da)},te),this},X.prototype._prepareEase=function(te,pe,De){De===void 0&&(De={}),this._moving=!0,!pe&&!De.moving&&this.fire(new a.Event("movestart",te)),this._zooming&&!De.zooming&&this.fire(new a.Event("zoomstart",te)),this._rotating&&!De.rotating&&this.fire(new a.Event("rotatestart",te)),this._pitching&&!De.pitching&&this.fire(new a.Event("pitchstart",te))},X.prototype._fireMoveEvents=function(te){this.fire(new a.Event("move",te)),this._zooming&&this.fire(new a.Event("zoom",te)),this._rotating&&this.fire(new a.Event("rotate",te)),this._pitching&&this.fire(new a.Event("pitch",te))},X.prototype._afterEase=function(te,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var De=this._zooming,Ye=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,De&&this.fire(new a.Event("zoomend",te)),Ye&&this.fire(new a.Event("rotateend",te)),ut&&this.fire(new a.Event("pitchend",te)),this.fire(new a.Event("moveend",te))}},X.prototype.flyTo=function(te,pe){var De=this;if(!te.essential&&a.browser.prefersReducedMotion){var Ye=a.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ye,pe)}this.stop(),te=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},te);var ut=this.transform,St=this.getZoom(),jt=this.getBearing(),sr=this.getPitch(),mr=this.getPadding(),Er="zoom"in te?a.clamp(+te.zoom,ut.minZoom,ut.maxZoom):St,Hr="bearing"in te?this._normalizeBearing(te.bearing,jt):jt,$r="pitch"in te?+te.pitch:sr,qr="padding"in te?te.padding:ut.padding,Jr=ut.zoomScale(Er-St),ln=a.Point.convert(te.offset),yn=ut.centerPoint.add(ln),_n=ut.pointLocation(yn),Vn=a.LngLat.convert(te.center||_n);this._normalizeCenter(Vn);var ea=ut.project(_n),ra=ut.project(Vn).sub(ea),ta=te.curve,la=Math.max(ut.width,ut.height),da=la/Jr,va=ra.mag();if("minZoom"in te){var Ta=a.clamp(Math.min(te.minZoom,St,Er),ut.minZoom,ut.maxZoom),Ca=la/ut.zoomScale(Ta-St);ta=Math.sqrt(Ca/va*2)}var Ba=ta*ta;function Qa($a){var pi=(da*da-la*la+($a?-1:1)*Ba*Ba*va*va)/(2*($a?da:la)*Ba*va);return Math.log(Math.sqrt(pi*pi+1)-pi)}function Ai($a){return(Math.exp($a)-Math.exp(-$a))/2}function qa($a){return(Math.exp($a)+Math.exp(-$a))/2}function fi($a){return Ai($a)/qa($a)}var Fa=Qa(0),Mi=function($a){return qa(Fa)/qa(Fa+ta*$a)},Pi=function($a){return la*((qa(Fa)*fi(Fa+ta*$a)-Ai(Fa))/Ba)/va},Ii=(Qa(1)-Fa)/ta;if(Math.abs(va)<1e-6||!isFinite(Ii)){if(Math.abs(la-da)<1e-6)return this.easeTo(te,pe);var ci=da<la?-1:1;Ii=Math.abs(Math.log(da/la))/ta,Pi=function(){return 0},Mi=function($a){return Math.exp(ci*ta*$a)}}if("duration"in te)te.duration=+te.duration;else{var Gi="screenSpeed"in te?+te.screenSpeed/ta:+te.speed;te.duration=1e3*Ii/Gi}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=jt!==Hr,this._pitching=$r!==sr,this._padding=!ut.isPaddingEqual(qr),this._prepareEase(pe,!1),this._ease(function($a){var pi=$a*Ii,po=1/Mi(pi);ut.zoom=$a===1?Er:St+ut.scaleZoom(po),De._rotating&&(ut.bearing=a.number(jt,Hr,$a)),De._pitching&&(ut.pitch=a.number(sr,$r,$a)),De._padding&&(ut.interpolatePadding(mr,qr,$a),yn=ut.centerPoint.add(ln));var Ro=$a===1?Vn:ut.unproject(ea.add(ra.mult(Pi(pi))).mult(po));ut.setLocationAtPoint(ut.renderWorldCopies?Ro.wrap():Ro,yn),De._fireMoveEvents(pe)},function(){return De._afterEase(pe)},te),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(te,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var De=this._onEaseEnd;delete this._onEaseEnd,De.call(this,pe)}if(!te){var Ye=this.handlers;Ye&&Ye.stop()}return this},X.prototype._ease=function(te,pe,De){De.animate===!1||De.duration===0?(te(1),pe()):(this._easeStart=a.browser.now(),this._easeOptions=De,this._onEaseFrame=te,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var te=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(te,pe){te=a.wrap(te,-180,180);var De=Math.abs(te-pe);return Math.abs(te-360-pe)<De&&(te-=360),Math.abs(te+360-pe)<De&&(te+=360),te},X.prototype._normalizeCenter=function(te){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var De=te.lng-pe.center.lng;te.lng+=De>180?-360:De<-180?360:0}},X}(a.Evented),us=function(X){X===void 0&&(X={}),this.options=X,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};us.prototype.getDefaultPosition=function(){return"bottom-right"},us.prototype.onAdd=function(X){var de=this.options&&this.options.compact;return this._map=X,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=A.create("div","mapboxgl-ctrl-attrib-inner",this._container),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},us.prototype.onRemove=function(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},us.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(X){var te=de.reduce(function(pe,De,Ye){return De.value&&(pe+=De.key+"="+De.value+(Ye<de.length-1?"&":"")),pe},"?");X.href=a.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow"}},us.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},us.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(St){return typeof St!="string"?"":St})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var te=this._map.style.sourceCaches;for(var pe in te){var De=te[pe];if(De.used){var Ye=De.getSource();Ye.attribution&&X.indexOf(Ye.attribution)<0&&X.push(Ye.attribution)}}X.sort(function(St,jt){return St.length-jt.length}),X=X.filter(function(St,jt){for(var sr=jt+1;sr<X.length;sr++)if(X[sr].indexOf(St)>=0)return!1;return!0});var ut=X.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,X.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},us.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ui=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};ui.prototype.onAdd=function(X){this._map=X,this._container=A.create("div","mapboxgl-ctrl");var de=A.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ui.prototype.onRemove=function(){A.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ui.prototype.getDefaultPosition=function(){return"bottom-left"},ui.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},ui.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var de in X){var te=X[de].getSource();if(te.mapbox_logo)return!0}return!1}},ui.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var de=X[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var Vi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Vi.prototype.add=function(X){var de=++this._id,te=this._queue;return te.push({callback:X,id:de,cancelled:!1}),de},Vi.prototype.remove=function(X){for(var de=this._currentlyRunning,te=de?this._queue.concat(de):this._queue,pe=0,De=te;pe<De.length;pe+=1){var Ye=De[pe];if(Ye.id===X){Ye.cancelled=!0;return}}},Vi.prototype.run=function(X){X===void 0&&(X=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,pe=de;te<pe.length;te+=1){var De=pe[te];if(!De.cancelled&&(De.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Vi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var tc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Pf=a.window.HTMLImageElement,Ic=a.window.HTMLElement,Qu=a.window.ImageBitmap,rc=-2,ah=22,Es=0,$u=60,$h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:rc,maxZoom:ah,minPitch:Es,maxPitch:$u,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qh=function(he){function X(te){var pe=this;if(te=a.extend({},$h,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<Es)throw new Error("minPitch must be greater than or equal to "+Es);if(te.maxPitch!=null&&te.maxPitch>$u)throw new Error("maxPitch must be less than or equal to "+$u);var De=new En(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(he.call(this,De,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new Vi,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},tc,te.locale),this._requestManager=new a.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=a.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof Ic)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new zi(this,te);var Ye=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new _a(Ye).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,a.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new us({customAttribution:te.customAttribution})),this.addControl(new ui,te.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(ut){pe._update(ut.dataType==="style"),pe.fire(new a.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){pe.fire(new a.Event(ut.dataType+"dataloading",ut))})}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(pe,De){if(De===void 0&&pe.getDefaultPosition&&(De=pe.getDefaultPosition()),De===void 0&&(De="top-right"),!pe||!pe.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ye=pe.onAdd(this);this._controls.push(pe);var ut=this._controlPositions[De];return De.indexOf("bottom")!==-1?ut.insertBefore(Ye,ut.firstChild):ut.appendChild(Ye),this},X.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var De=this._controls.indexOf(pe);return De>-1&&this._controls.splice(De,1),pe.onRemove(this),this},X.prototype.resize=function(pe){var De=this._containerDimensions(),Ye=De[0],ut=De[1];this._resizeCanvas(Ye,ut),this.transform.resize(Ye,ut),this.painter.resize(Ye,ut);var St=!this._moving;return St&&(this.stop(),this.fire(new a.Event("movestart",pe)).fire(new a.Event("move",pe))),this.fire(new a.Event("resize",pe)),St&&this.fire(new a.Event("moveend",pe)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(a.LngLatBounds.convert(pe)),this._update()},X.prototype.setMinZoom=function(pe){if(pe=pe??rc,pe>=rc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+rc+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(pe){if(pe=pe??ah,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(pe){if(pe=pe??Es,pe<Es)throw new Error("minPitch must be greater than or equal to "+Es);if(pe>=Es&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+Es+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(pe){if(pe=pe??$u,pe>$u)throw new Error("maxPitch must be less than or equal to "+$u);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},X.prototype.project=function(pe){return this.transform.locationPoint(a.LngLat.convert(pe))},X.prototype.unproject=function(pe){return this.transform.pointLocation(a.Point.convert(pe))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(pe,De,Ye){var ut=this,St;if(pe==="mouseenter"||pe==="mouseover"){var jt=!1,sr=function(Jr){var ln=ut.getLayer(De)?ut.queryRenderedFeatures(Jr.point,{layers:[De]}):[];ln.length?jt||(jt=!0,Ye.call(ut,new Ne(pe,ut,Jr.originalEvent,{features:ln}))):jt=!1},mr=function(){jt=!1};return{layer:De,listener:Ye,delegates:{mousemove:sr,mouseout:mr}}}else if(pe==="mouseleave"||pe==="mouseout"){var Er=!1,Hr=function(Jr){var ln=ut.getLayer(De)?ut.queryRenderedFeatures(Jr.point,{layers:[De]}):[];ln.length?Er=!0:Er&&(Er=!1,Ye.call(ut,new Ne(pe,ut,Jr.originalEvent)))},$r=function(Jr){Er&&(Er=!1,Ye.call(ut,new Ne(pe,ut,Jr.originalEvent)))};return{layer:De,listener:Ye,delegates:{mousemove:Hr,mouseout:$r}}}else{var qr=function(Jr){var ln=ut.getLayer(De)?ut.queryRenderedFeatures(Jr.point,{layers:[De]}):[];ln.length&&(Jr.features=ln,Ye.call(ut,Jr),delete Jr.features)};return{layer:De,listener:Ye,delegates:(St={},St[pe]=qr,St)}}},X.prototype.on=function(pe,De,Ye){if(Ye===void 0)return he.prototype.on.call(this,pe,De);var ut=this._createDelegatedListener(pe,De,Ye);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(ut);for(var St in ut.delegates)this.on(St,ut.delegates[St]);return this},X.prototype.once=function(pe,De,Ye){if(Ye===void 0)return he.prototype.once.call(this,pe,De);var ut=this._createDelegatedListener(pe,De,Ye);for(var St in ut.delegates)this.once(St,ut.delegates[St]);return this},X.prototype.off=function(pe,De,Ye){var ut=this;if(Ye===void 0)return he.prototype.off.call(this,pe,De);var St=function(jt){for(var sr=jt[pe],mr=0;mr<sr.length;mr++){var Er=sr[mr];if(Er.layer===De&&Er.listener===Ye){for(var Hr in Er.delegates)ut.off(Hr,Er.delegates[Hr]);return sr.splice(mr,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&St(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(pe,De){if(!this.style)return[];De===void 0&&pe!==void 0&&!(pe instanceof a.Point)&&!Array.isArray(pe)&&(De=pe,pe=void 0),De=De||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Ye;if(pe instanceof a.Point||typeof pe[0]=="number")Ye=[a.Point.convert(pe)];else{var ut=a.Point.convert(pe[0]),St=a.Point.convert(pe[1]);Ye=[ut,new a.Point(St.x,ut.y),St,new a.Point(ut.x,St.y),ut]}return this.style.queryRenderedFeatures(Ye,De,this.transform)},X.prototype.querySourceFeatures=function(pe,De){return this.style.querySourceFeatures(pe,De)},X.prototype.setStyle=function(pe,De){return De=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},De),De.diff!==!1&&De.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,De),this):(this._localIdeographFontFamily=De.localIdeographFontFamily,this._updateStyle(pe,De))},X.prototype._getUIString=function(pe){var De=this._locale[pe];if(De==null)throw new Error("Missing UI string '"+pe+"'");return De},X.prototype._updateStyle=function(pe,De){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new Di(this,De||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Di(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(pe,De){var Ye=this;if(typeof pe=="string"){var ut=this._requestManager.normalizeStyleURL(pe),St=this._requestManager.transformRequest(ut,a.ResourceType.Style);a.getJSON(St,function(jt,sr){jt?Ye.fire(new a.ErrorEvent(jt)):sr&&Ye._updateDiff(sr,De)})}else typeof pe=="object"&&this._updateDiff(pe,De)},X.prototype._updateDiff=function(pe,De){try{this.style.setState(pe)&&this._update(!0)}catch(Ye){a.warnOnce("Unable to perform style diff: "+(Ye.message||Ye.error||Ye)+".  Rebuilding the style from scratch."),this._updateStyle(pe,De)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(pe,De){return this._lazyInitEmptyStyle(),this.style.addSource(pe,De),this._update(!0)},X.prototype.isSourceLoaded=function(pe){var De=this.style&&this.style.sourceCaches[pe];if(De===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return De.loaded()},X.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var De in pe){var Ye=pe[De],ut=Ye._tiles;for(var St in ut){var jt=ut[St];if(!(jt.state==="loaded"||jt.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(pe,De,Ye){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,De,Ye)},X.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},X.prototype.getSource=function(pe){return this.style.getSource(pe)},X.prototype.addImage=function(pe,De,Ye){Ye===void 0&&(Ye={});var ut=Ye.pixelRatio;ut===void 0&&(ut=1);var St=Ye.sdf;St===void 0&&(St=!1);var jt=Ye.stretchX,sr=Ye.stretchY,mr=Ye.content;this._lazyInitEmptyStyle();var Er=0;if(De instanceof Pf||Qu&&De instanceof Qu){var Hr=a.browser.getImageData(De),$r=Hr.width,qr=Hr.height,Jr=Hr.data;this.style.addImage(pe,{data:new a.RGBAImage({width:$r,height:qr},Jr),pixelRatio:ut,stretchX:jt,stretchY:sr,content:mr,sdf:St,version:Er})}else{if(De.width===void 0||De.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ln=De.width,yn=De.height,_n=De.data,Vn=De;this.style.addImage(pe,{data:new a.RGBAImage({width:ln,height:yn},new Uint8Array(_n)),pixelRatio:ut,stretchX:jt,stretchY:sr,content:mr,sdf:St,version:Er,userImage:Vn}),Vn.onAdd&&Vn.onAdd(this,pe)}},X.prototype.updateImage=function(pe,De){var Ye=this.style.getImage(pe);if(!Ye)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=De instanceof Pf||Qu&&De instanceof Qu?a.browser.getImageData(De):De,St=ut.width,jt=ut.height,sr=ut.data;if(St===void 0||jt===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(St!==Ye.data.width||jt!==Ye.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var mr=!(De instanceof Pf||Qu&&De instanceof Qu);Ye.data.replace(sr,mr),this.style.updateImage(pe,Ye)},X.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(pe){this.style.removeImage(pe)},X.prototype.loadImage=function(pe,De){a.getImage(this._requestManager.transformRequest(pe,a.ResourceType.Image),De)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(pe,De){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,De),this._update(!0)},X.prototype.moveLayer=function(pe,De){return this.style.moveLayer(pe,De),this._update(!0)},X.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},X.prototype.getLayer=function(pe){return this.style.getLayer(pe)},X.prototype.setLayerZoomRange=function(pe,De,Ye){return this.style.setLayerZoomRange(pe,De,Ye),this._update(!0)},X.prototype.setFilter=function(pe,De,Ye){return Ye===void 0&&(Ye={}),this.style.setFilter(pe,De,Ye),this._update(!0)},X.prototype.getFilter=function(pe){return this.style.getFilter(pe)},X.prototype.setPaintProperty=function(pe,De,Ye,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(pe,De,Ye,ut),this._update(!0)},X.prototype.getPaintProperty=function(pe,De){return this.style.getPaintProperty(pe,De)},X.prototype.setLayoutProperty=function(pe,De,Ye,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(pe,De,Ye,ut),this._update(!0)},X.prototype.getLayoutProperty=function(pe,De){return this.style.getLayoutProperty(pe,De)},X.prototype.setLight=function(pe,De){return De===void 0&&(De={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,De),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(pe,De){return this.style.setFeatureState(pe,De),this._update()},X.prototype.removeFeatureState=function(pe,De){return this.style.removeFeatureState(pe,De),this._update()},X.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var pe=0,De=0;return this._container&&(pe=this._container.clientWidth||400,De=this._container.clientHeight||300),[pe,De]},X.prototype._detectMissingCSS=function(){var pe=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var De=this._missingCSSCanary=A.create("div","mapboxgl-canary",pe);De.style.visibility="hidden",this._detectMissingCSS();var Ye=this._canvasContainer=A.create("div","mapboxgl-canvas-container",pe);this._interactive&&Ye.classList.add("mapboxgl-interactive"),this._canvas=A.create("canvas","mapboxgl-canvas",Ye),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var St=this._controlContainer=A.create("div","mapboxgl-control-container",pe),jt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(sr){jt[sr]=A.create("div","mapboxgl-ctrl-"+sr,St)})},X.prototype._resizeCanvas=function(pe,De){var Ye=a.browser.devicePixelRatio||1;this._canvas.width=Ye*pe,this._canvas.height=Ye*De,this._canvas.style.width=pe+"px",this._canvas.style.height=De+"px"},X.prototype._setupPainter=function(){var pe=a.extend({},P.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),De=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!De){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new zr(De,this.transform),a.webpSupported.testSupport(De)},X.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:pe}))},X.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:pe}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},X.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},X.prototype._render=function(pe){var De=this,Ye,ut=0,St=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ye=St.createQueryEXT(),St.beginQueryEXT(St.TIME_ELAPSED_EXT,Ye),ut=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var jt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var sr=this.transform.zoom,mr=a.browser.now();this.style.zoomHistory.update(sr,mr);var Er=new a.EvaluationParameters(sr,{now:mr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Hr=Er.crossFadingFactor();(Hr!==1||Hr!==this._crossFadingFactor)&&(jt=!0,this._crossFadingFactor=Hr),this.style.update(Er)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||jt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $r=a.browser.now()-ut;St.endQueryEXT(St.TIME_ELAPSED_EXT,Ye),setTimeout(function(){var ln=St.getQueryObjectEXT(Ye,St.QUERY_RESULT_EXT)/1e6;St.deleteQueryEXT(Ye),De.fire(new a.Event("gpu-timing-frame",{cpuTime:$r,gpuTime:ln}))},50)}if(this.listens("gpu-timing-layer")){var qr=this.painter.collectGpuTimers();setTimeout(function(){var ln=De.painter.queryGpuTimers(qr);De.fire(new a.Event("gpu-timing-layer",{layerTimes:ln}))},50)}var Jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,De=this._controls;pe<De.length;pe+=1){var Ye=De[pe];Ye.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext(),_c(this._canvasContainer),_c(this._controlContainer),_c(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(De){pe._frame=null,pe._render(De)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(te){this._vertices=te,this._update()},X.prototype._setCacheLimits=function(pe,De){a.setCacheLimits(pe,De)},de.version.get=function(){return a.version},Object.defineProperties(X.prototype,de),X}(Us);function _c(he){he.parentNode&&he.parentNode.removeChild(he)}var ih={showCompass:!0,showZoom:!0,visualizePitch:!1},Au=function(X){var de=this;this.options=a.extend({},ih,X),this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return de._map.zoomIn({},{originalEvent:te})}),A.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return de._map.zoomOut({},{originalEvent:te})}),A.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:te}):de._map.resetNorth({},{originalEvent:te})}),this._compassIcon=A.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Au.prototype._updateZoomButtons=function(){var X=this._map.getZoom();this._zoomInButton.disabled=X===this._map.getMaxZoom(),this._zoomOutButton.disabled=X===this._map.getMinZoom()},Au.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},Au.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Hs(this._map,this._compass,this.options.visualizePitch)),this._container},Au.prototype.onRemove=function(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Au.prototype._createButton=function(X,de){var te=A.create("button",X,this._container);return te.type="button",te.addEventListener("click",de),te},Au.prototype._setButtonTitle=function(X,de){var te=this._map._getUIString("NavigationControl."+de);X.title=te,X.setAttribute("aria-label",te)};var Hs=function(X,de,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new rn({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,te&&(this.mousePitch=new Yn({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),A.addEventListener(de,"mousedown",this.mousedown),A.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(de,"touchmove",this.touchmove),A.addEventListener(de,"touchend",this.touchend),A.addEventListener(de,"touchcancel",this.reset)};Hs.prototype.down=function(X,de){this.mouseRotate.mousedown(X,de),this.mousePitch&&this.mousePitch.mousedown(X,de),A.disableDrag()},Hs.prototype.move=function(X,de){var te=this.map,pe=this.mouseRotate.mousemoveWindow(X,de);if(pe&&pe.bearingDelta&&te.setBearing(te.getBearing()+pe.bearingDelta),this.mousePitch){var De=this.mousePitch.mousemoveWindow(X,de);De&&De.pitchDelta&&te.setPitch(te.getPitch()+De.pitchDelta)}},Hs.prototype.off=function(){var X=this.element;A.removeEventListener(X,"mousedown",this.mousedown),A.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(X,"touchmove",this.touchmove),A.removeEventListener(X,"touchend",this.touchend),A.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Hs.prototype.offTemp=function(){A.enableDrag(),A.removeEventListener(a.window,"mousemove",this.mousemove),A.removeEventListener(a.window,"mouseup",this.mouseup)},Hs.prototype.mousedown=function(X){this.down(a.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),A.mousePos(this.element,X)),A.addEventListener(a.window,"mousemove",this.mousemove),A.addEventListener(a.window,"mouseup",this.mouseup)},Hs.prototype.mousemove=function(X){this.move(X,A.mousePos(this.element,X))},Hs.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Hs.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Hs.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Hs.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Hs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Mu(he,X,de){if(he=new a.LngLat(he.lng,he.lat),X){var te=new a.LngLat(he.lng-360,he.lat),pe=new a.LngLat(he.lng+360,he.lat),De=de.locationPoint(he).distSqr(X);de.locationPoint(te).distSqr(X)<De?he=te:de.locationPoint(pe).distSqr(X)<De&&(he=pe)}for(;Math.abs(he.lng-de.center.lng)>180;){var Ye=de.locationPoint(he);if(Ye.x>=0&&Ye.y>=0&&Ye.x<=de.width&&Ye.y<=de.height)break;he.lng>de.center.lng?he.lng-=360:he.lng+=360}return he}var Fc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function oh(he,X,de){var te=he.classList;for(var pe in Fc)te.remove("mapboxgl-"+de+"-anchor-"+pe);te.add("mapboxgl-"+de+"-anchor-"+X)}var nc=function(he){function X(de,te){var pe=this;if(he.call(this),(de instanceof a.window.HTMLElement||te)&&(de=a.extend({element:de},te)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._draggable=de&&de.draggable||!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=A.create("div"),this._element.setAttribute("aria-label","Map marker");var De=A.createNS("http://www.w3.org/2000/svg","svg");De.setAttributeNS(null,"display","block"),De.setAttributeNS(null,"height","41px"),De.setAttributeNS(null,"width","27px"),De.setAttributeNS(null,"viewBox","0 0 27 41");var Ye=A.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"stroke","none"),Ye.setAttributeNS(null,"stroke-width","1"),Ye.setAttributeNS(null,"fill","none"),Ye.setAttributeNS(null,"fill-rule","evenodd");var ut=A.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"fill-rule","nonzero");var St=A.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"transform","translate(3.0, 29.0)"),St.setAttributeNS(null,"fill","#000000");for(var jt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],sr=0,mr=jt;sr<mr.length;sr+=1){var Er=mr[sr],Hr=A.createNS("http://www.w3.org/2000/svg","ellipse");Hr.setAttributeNS(null,"opacity","0.04"),Hr.setAttributeNS(null,"cx","10.5"),Hr.setAttributeNS(null,"cy","5.80029008"),Hr.setAttributeNS(null,"rx",Er.rx),Hr.setAttributeNS(null,"ry",Er.ry),St.appendChild(Hr)}var $r=A.createNS("http://www.w3.org/2000/svg","g");$r.setAttributeNS(null,"fill",this._color);var qr=A.createNS("http://www.w3.org/2000/svg","path");qr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$r.appendChild(qr);var Jr=A.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var ln=A.createNS("http://www.w3.org/2000/svg","path");ln.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(ln);var yn=A.createNS("http://www.w3.org/2000/svg","g");yn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),yn.setAttributeNS(null,"fill","#FFFFFF");var _n=A.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Vn=A.createNS("http://www.w3.org/2000/svg","circle");Vn.setAttributeNS(null,"fill","#000000"),Vn.setAttributeNS(null,"opacity","0.25"),Vn.setAttributeNS(null,"cx","5.5"),Vn.setAttributeNS(null,"cy","5.5"),Vn.setAttributeNS(null,"r","5.4999962");var ea=A.createNS("http://www.w3.org/2000/svg","circle");ea.setAttributeNS(null,"fill","#FFFFFF"),ea.setAttributeNS(null,"cx","5.5"),ea.setAttributeNS(null,"cy","5.5"),ea.setAttributeNS(null,"r","5.4999962"),_n.appendChild(Vn),_n.appendChild(ea),ut.appendChild(St),ut.appendChild($r),ut.appendChild(Jr),ut.appendChild(yn),ut.appendChild(_n),De.appendChild(ut),this._element.appendChild(De),this._offset=a.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=a.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ra){ra.preventDefault()}),this._element.addEventListener("mousedown",function(ra){ra.preventDefault()}),this._element.addEventListener("focus",function(){var ra=pe._map.getContainer();ra.scrollTop=0,ra.scrollLeft=0}),oh(this._element,this._anchor,"marker"),this._popup=null}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var pe=38.1,De=13.5,Ye=Math.sqrt(Math.pow(De,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Ye,(pe-De+Ye)*-1],"bottom-right":[-Ye,(pe-De+Ye)*-1],left:[De,(pe-De)*-1],right:[-De,(pe-De)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(te){var pe=te.code,De=te.charCode||te.keyCode;(pe==="Space"||pe==="Enter"||De===32||De===13)&&this.togglePopup()},X.prototype._onMapClick=function(te){var pe=te.originalEvent.target,De=this._element;this._popup&&(pe===De||De.contains(pe))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},X.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var De="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?De="rotateX(0deg)":this._pitchAlignment==="map"&&(De="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),A.setTransform(this._element,Fc[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+De+" "+pe)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(te){return this._offset=a.Point.convert(te),this._update(),this},X.prototype._onMove=function(te){this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),ev={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},qu;function kc(he){qu!==void 0?he(qu):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(X){qu=X.state!=="denied",he(qu)}):(qu=!!a.window.navigator.geolocation,he(qu))}var ac=0,ef=!1,tv=function(he){function X(de){he.call(this),this.options=a.extend({},ev,de),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(te){return this._map=te,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),kc(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ac=0,ef=!1},X.prototype._isOutOfMapMaxBounds=function(te){var pe=this._map.getMaxBounds(),De=te.coords;return pe&&(De.longitude<pe.getWest()||De.longitude>pe.getEast()||De.latitude<pe.getSouth()||De.latitude>pe.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",te)),this._finish()}},X.prototype._updateCamera=function(te){var pe=new a.LngLat(te.coords.longitude,te.coords.latitude),De=te.coords.accuracy,Ye=this._map.getBearing(),ut=a.extend({bearing:Ye},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(De),ut,{geolocateSource:!0})},X.prototype._updateMarker=function(te){if(te){var pe=new a.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,pe=this._map.unproject([0,te]),De=this._map.unproject([1,te]),Ye=pe.distanceTo(De),ut=Math.ceil(2*this._accuracy/Ye);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&ef)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",te)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(te){var pe=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=A.create("button","mapboxgl-ctrl-geolocate",this._container),A.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var De=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=De,this._geolocateButton.setAttribute("aria-label",De)}else{var Ye=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ye,this._geolocateButton.setAttribute("aria-label",Ye)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new nc(this._dotElement),this._circleElement=A.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new nc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var St=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!St&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ac--,ef=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ac++;var te;ac>1?(te={maximumAge:6e5,timeout:0},ef=!0):(te=this.options.positionOptions,ef=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),rd={maxWidth:100,unit:"metric"},tf=function(X){this.options=a.extend({},rd,X),a.bindAll(["_onMove","setUnit"],this)};tf.prototype.getDefaultPosition=function(){return"bottom-left"},tf.prototype._onMove=function(){rv(this._map,this._container,this.options)},tf.prototype.onAdd=function(X){return this._map=X,this._container=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},tf.prototype.onRemove=function(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},tf.prototype.setUnit=function(X){this.options.unit=X,rv(this._map,this._container,this.options)};function rv(he,X,de){var te=de&&de.maxWidth||100,pe=he._container.clientHeight/2,De=he.unproject([0,pe]),Ye=he.unproject([te,pe]),ut=De.distanceTo(Ye);if(de&&de.unit==="imperial"){var St=3.2808*ut;if(St>5280){var jt=St/5280;ic(X,te,jt,he._getUIString("ScaleControl.Miles"))}else ic(X,te,St,he._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var sr=ut/1852;ic(X,te,sr,he._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?ic(X,te,ut/1e3,he._getUIString("ScaleControl.Kilometers")):ic(X,te,ut,he._getUIString("ScaleControl.Meters"))}function ic(he,X,de,te){var pe=ad(de),De=pe/de;he.style.width=X*De+"px",he.innerHTML=pe+"&nbsp;"+te}function nd(he){var X=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*X)/X}function ad(he){var X=Math.pow(10,(""+Math.floor(he)).length-1),de=he/X;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:nd(de),X*de}var zl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof a.window.HTMLElement?this._container=X.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};zl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},zl.prototype.onRemove=function(){A.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},zl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},zl.prototype._setupUI=function(){var X=this._fullscreenButton=A.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);A.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},zl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},zl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},zl.prototype._isFullscreen=function(){return this._fullscreen},zl.prototype._changeIcon=function(){var X=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},zl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var id={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},od=function(he){function X(de){he.call(this),this.options=a.extend(Object.create(id),de),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(te){return this._lngLat=a.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(te){return this.setDOMContent(a.window.document.createTextNode(te))},X.prototype.setHTML=function(te){var pe=a.window.document.createDocumentFragment(),De=a.window.document.createElement("body"),Ye;for(De.innerHTML=te;Ye=De.firstChild,!!Ye;)pe.appendChild(Ye);return this.setDOMContent(pe)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},X.prototype.setDOMContent=function(te){return this._createContent(),this._content.appendChild(te),this._update(),this},X.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},X.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},X.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},X.prototype._createContent=function(){this._content&&A.remove(this._content),this._content=A.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=A.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(te){this._update(te.point)},X.prototype._onMouseMove=function(te){this._update(te.point)},X.prototype._onDrag=function(te){this._update(te.point)},X.prototype._update=function(te){var pe=this,De=this._lngLat||this._trackPointer;if(!(!this._map||!De||!this._content)&&(this._container||(this._container=A.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=A.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Hr){return pe._container.classList.add(Hr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Ye=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ut=this.options.anchor,St=nv(this.options.offset);if(!ut){var jt=this._container.offsetWidth,sr=this._container.offsetHeight,mr;Ye.y+St.bottom.y<sr?mr=["top"]:Ye.y>this._map.transform.height-sr?mr=["bottom"]:mr=[],Ye.x<jt/2?mr.push("left"):Ye.x>this._map.transform.width-jt/2&&mr.push("right"),mr.length===0?ut="bottom":ut=mr.join("-")}var Er=Ye.add(St[ut]).round();A.setTransform(this._container,Fc[ut]+" translate("+Er.x+"px,"+Er.y+"px)"),oh(this._container,ut,"popup")}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function nv(he){if(he)if(typeof he=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new a.Point(0,0),top:new a.Point(0,he),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-he),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(he,0),right:new a.Point(-he,0)}}else if(he instanceof a.Point||Array.isArray(he)){var de=a.Point.convert(he);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:a.Point.convert(he.center||[0,0]),top:a.Point.convert(he.top||[0,0]),"top-left":a.Point.convert(he["top-left"]||[0,0]),"top-right":a.Point.convert(he["top-right"]||[0,0]),bottom:a.Point.convert(he.bottom||[0,0]),"bottom-left":a.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(he["bottom-right"]||[0,0]),left:a.Point.convert(he.left||[0,0]),right:a.Point.convert(he.right||[0,0])};else return nv(new a.Point(0,0))}var sd={version:a.version,supported:P,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:qh,NavigationControl:Au,GeolocateControl:tv,AttributionControl:us,ScaleControl:tf,FullscreenControl:zl,Popup:od,Marker:nc,Style:Di,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:Xt,clearPrewarmedResources:ur,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(he){a.config.ACCESS_TOKEN=he},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(he){a.config.API_URL=he},get workerCount(){return Ge.workerCount},set workerCount(he){Ge.workerCount=he},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){a.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(X){a.clearTileCache(X)},workerUrl:""};return sd}),p})},27084:function(W){W.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},16825:function(W,U,e){W.exports=L;var p=e(74311);function L(a,P){P||(P=a,a=window);var A=0,v=0,g=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function u(S){var M=!1;return"altKey"in S&&(M=M||S.altKey!==t.alt,t.alt=!!S.altKey),"shiftKey"in S&&(M=M||S.shiftKey!==t.shift,t.shift=!!S.shiftKey),"ctrlKey"in S&&(M=M||S.ctrlKey!==t.control,t.control=!!S.ctrlKey),"metaKey"in S&&(M=M||S.metaKey!==t.meta,t.meta=!!S.metaKey),M}function o(S,M){var C=p.x(M),y=p.y(M);"buttons"in M&&(S=M.buttons|0),(S!==A||C!==v||y!==g||u(M))&&(A=S|0,v=C||0,g=y||0,P&&P(A,v,g,t))}function l(S){o(0,S)}function c(){(A||v||g||t.shift||t.alt||t.meta||t.control)&&(v=g=0,A=0,t.shift=t.alt=t.control=t.meta=!1,P&&P(0,0,0,t))}function n(S){u(S)&&P&&P(A,v,g,t)}function x(S){p.buttons(S)===0?o(0,S):o(A,S)}function h(S){o(A|p.buttons(S),S)}function T(S){o(A&~p.buttons(S),S)}function f(){r||(r=!0,a.addEventListener("mousemove",x),a.addEventListener("mousedown",h),a.addEventListener("mouseup",T),a.addEventListener("mouseleave",l),a.addEventListener("mouseenter",l),a.addEventListener("mouseout",l),a.addEventListener("mouseover",l),a.addEventListener("blur",c),a.addEventListener("keyup",n),a.addEventListener("keydown",n),a.addEventListener("keypress",n),a!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",n),window.addEventListener("keydown",n),window.addEventListener("keypress",n)))}function s(){r&&(r=!1,a.removeEventListener("mousemove",x),a.removeEventListener("mousedown",h),a.removeEventListener("mouseup",T),a.removeEventListener("mouseleave",l),a.removeEventListener("mouseenter",l),a.removeEventListener("mouseout",l),a.removeEventListener("mouseover",l),a.removeEventListener("blur",c),a.removeEventListener("keyup",n),a.removeEventListener("keydown",n),a.removeEventListener("keypress",n),a!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",n),window.removeEventListener("keydown",n),window.removeEventListener("keypress",n)))}f();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(S){S?f():s()},enumerable:!0},buttons:{get:function(){return A},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(W){var U={left:0,top:0};W.exports=e;function e(L,a,P){a=a||L.currentTarget||L.srcElement,Array.isArray(P)||(P=[0,0]);var A=L.clientX||0,v=L.clientY||0,g=p(a);return P[0]=A-g.left,P[1]=v-g.top,P}function p(L){return L===window||L===document||L===document.body?U:L.getBoundingClientRect()}},74311:function(W,U){function e(P){if(typeof P=="object"){if("buttons"in P)return P.buttons;if("which"in P){var A=P.which;if(A===2)return 4;if(A===3)return 2;if(A>0)return 1<<A-1}else if("button"in P){var A=P.button;if(A===1)return 4;if(A===2)return 2;if(A>=0)return 1<<A}}return 0}U.buttons=e;function p(P){return P.target||P.srcElement||window}U.element=p;function L(P){if(typeof P=="object"){if("offsetX"in P)return P.offsetX;var A=p(P),v=A.getBoundingClientRect();return P.clientX-v.left}return 0}U.x=L;function a(P){if(typeof P=="object"){if("offsetY"in P)return P.offsetY;var A=p(P),v=A.getBoundingClientRect();return P.clientY-v.top}return 0}U.y=a},1195:function(W,U,e){var p=e(75686);W.exports=L;function L(a,P,A){typeof a=="function"&&(A=!!P,P=a,a=window);var v=p("ex",a),g=function(t){A&&t.preventDefault();var r=t.deltaX||0,u=t.deltaY||0,o=t.deltaZ||0,l=t.deltaMode,c=1;switch(l){case 1:c=v;break;case 2:c=window.innerHeight;break}if(r*=c,u*=c,o*=c,r||u||o)return P(r,u,o,t)};return a.addEventListener("wheel",g),g}},7417:function(W,U,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,P,A){P[a]=P[a]||A(),W.exports?W.exports=P[a]:(p=function(){return P[a]}.call(U,e,U,W),p!==void 0&&(W.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,P,A,v=Object.prototype.toString,g=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,S,M,C){return Object.defineProperty(d,S,{value:M,writable:!0,configurable:C!==!1})}}catch{a=function(S,M,C){return S[M]=C,S}}A=function(){var d,S,M;function C(y,w){this.fn=y,this.self=w,this.next=void 0}return{add:function(w,b){M=new C(w,b),S?S.next=M:d=M,S=M,M=void 0},drain:function(){var w=d;for(d=S=P=void 0;w;)w.fn.call(w.self),w=w.next}}}();function t(s,d){A.add(s,d),P||(P=g(A.drain))}function r(s){var d,S=typeof s;return s!=null&&(S=="object"||S=="function")&&(d=s.then),typeof d=="function"?d:!1}function u(){for(var s=0;s<this.chain.length;s++)o(this,this.state===1?this.chain[s].success:this.chain[s].failure,this.chain[s]);this.chain.length=0}function o(s,d,S){var M,C;try{d===!1?S.reject(s.msg):(d===!0?M=s.msg:M=d.call(void 0,s.msg),M===S.promise?S.reject(TypeError("Promise-chain cycle")):(C=r(M))?C.call(M,S.resolve,S.reject):S.resolve(M))}catch(y){S.reject(y)}}function l(s){var d,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(d=r(s))?t(function(){var M=new x(S);try{d.call(s,function(){l.apply(M,arguments)},function(){c.apply(M,arguments)})}catch(C){c.call(M,C)}}):(S.msg=s,S.state=1,S.chain.length>0&&t(u,S))}catch(M){c.call(new x(S),M)}}}function c(s){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=s,d.state=2,d.chain.length>0&&t(u,d))}function n(s,d,S,M){for(var C=0;C<d.length;C++)(function(w){s.resolve(d[w]).then(function(i){S(w,i)},M)})(C)}function x(s){this.def=s,this.triggered=!1}function h(s){this.promise=s,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(s){if(typeof s!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(M,C){var y={success:typeof M=="function"?M:!0,failure:typeof C=="function"?C:!1};return y.promise=new this.constructor(function(b,i){if(typeof b!="function"||typeof i!="function")throw TypeError("Not a function");y.resolve=b,y.reject=i}),d.chain.push(y),d.state!==0&&t(u,d),y.promise},this.catch=function(M){return this.then(void 0,M)};try{s.call(void 0,function(M){l.call(d,M)},function(M){c.call(d,M)})}catch(S){c.call(d,S)}}var f=a({},"constructor",T,!1);return T.prototype=f,a(f,"__NPO__",0,!1),a(T,"resolve",function(d){var S=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new S(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");C(d)})}),a(T,"reject",function(d){return new this(function(M,C){if(typeof M!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),a(T,"all",function(d){var S=this;return v.call(d)!="[object Array]"?S.reject(TypeError("Not an array")):d.length===0?S.resolve([]):new S(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");var w=d.length,b=Array(w),i=0;n(S,d,function(m,F){b[m]=F,++i===w&&C(b)},y)})}),a(T,"race",function(d){var S=this;return v.call(d)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");n(S,d,function(b,i){C(i)},y)})}),T})},18625:function(W){var U=Math.PI,e=v(120);W.exports=p;function p(g){for(var t,r=[],u=0,o=0,l=0,c=0,n=null,x=null,h=0,T=0,f=0,s=g.length;f<s;f++){var d=g[f],S=d[0];switch(S){case"M":l=d[1],c=d[2];break;case"A":d=P(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var M=h,C=T;(t=="C"||t=="S")&&(M+=M-u,C+=C-o),d=["C",M,C,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(n=h*2-n,x=T*2-x):(n=h,x=T),d=a(h,T,n,x,d[1],d[2]);break;case"Q":n=d[1],x=d[2],d=a(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,T,d[1],d[2]);break;case"H":d=L(h,T,d[1],T);break;case"V":d=L(h,T,h,d[1]);break;case"Z":d=L(h,T,l,c);break}t=S,h=d[d.length-2],T=d[d.length-1],d.length>4?(u=d[d.length-4],o=d[d.length-3]):(u=h,o=T),r.push(d)}return r}function L(g,t,r,u){return["C",g,t,r,u,r,u]}function a(g,t,r,u,o,l){return["C",g/3+.6666666666666666*r,t/3+.6666666666666666*u,o/3+.6666666666666666*r,l/3+.6666666666666666*u,o,l]}function P(g,t,r,u,o,l,c,n,x,h){if(h)b=h[0],i=h[1],y=h[2],w=h[3];else{var T=A(g,t,-o);g=T.x,t=T.y,T=A(n,x,-o),n=T.x,x=T.y;var f=(g-n)/2,s=(t-x)/2,d=f*f/(r*r)+s*s/(u*u);d>1&&(d=Math.sqrt(d),r=d*r,u=d*u);var S=r*r,M=u*u,C=(l==c?-1:1)*Math.sqrt(Math.abs((S*M-S*s*s-M*f*f)/(S*s*s+M*f*f)));C==1/0&&(C=1);var y=C*r*s/u+(g+n)/2,w=C*-u*f/r+(t+x)/2,b=Math.asin(((t-w)/u).toFixed(9)),i=Math.asin(((x-w)/u).toFixed(9));b=g<y?U-b:b,i=n<y?U-i:i,b<0&&(b=U*2+b),i<0&&(i=U*2+i),c&&b>i&&(b=b-U*2),!c&&i>b&&(i=i-U*2)}if(Math.abs(i-b)>e){var E=i,m=n,F=x;i=b+e*(c&&i>b?1:-1),n=y+r*Math.cos(i),x=w+u*Math.sin(i);var _=P(n,x,r,u,o,0,c,m,F,[i,E,y,w])}var B=Math.tan((i-b)/4),I=4/3*r*B,O=4/3*u*B,z=[2*g-(g+I*Math.sin(b)),2*t-(t-O*Math.cos(b)),n+I*Math.sin(i),x-O*Math.cos(i),n,x];if(h)return z;_&&(z=z.concat(_));for(var k=0;k<z.length;){var N=A(z[k],z[k+1],o);z[k++]=N.x,z[k++]=N.y}return z}function A(g,t,r){return{x:g*Math.cos(r)-t*Math.sin(r),y:g*Math.sin(r)+t*Math.cos(r)}}function v(g){return g*(U/180)}},56131:function(W){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(P){if(P==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}function a(){try{if(!Object.assign)return!1;var P=new String("abc");if(P[5]="de",Object.getOwnPropertyNames(P)[0]==="5")return!1;for(var A={},v=0;v<10;v++)A["_"+String.fromCharCode(v)]=v;var g=Object.getOwnPropertyNames(A).map(function(r){return A[r]});if(g.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=a()?Object.assign:function(P,A){for(var v,g=L(P),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var u in v)e.call(v,u)&&(g[u]=v[u]);if(U){t=U(v);for(var o=0;o<t.length;o++)p.call(v,t[o])&&(g[t[o]]=v[t[o]])}}return g}},65848:function(W){var U=function(e){return e!==e};W.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||U(p)&&U(L))}},64003:function(W,U,e){var p=e(17045),L=e(68222),a=e(65848),P=e(27015),A=e(55572),v=L(P(),Object);p(v,{getPolyfill:P,implementation:a,shim:A}),W.exports=v},27015:function(W,U,e){var p=e(65848);W.exports=function(){return typeof Object.is=="function"?Object.is:p}},55572:function(W,U,e){var p=e(27015),L=e(17045);W.exports=function(){var P=p();return L(Object,{is:P},{is:function(){return Object.is!==P}}),P}},99019:function(W,U,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,a=Object.prototype.toString,P=e(64178),A=Object.prototype.propertyIsEnumerable,v=!A.call({toString:null},"toString"),g=A.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var n=c.constructor;return n&&n.prototype===c},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!u["$"+c]&&L.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{r(window[c])}catch{return!0}}catch{return!0}return!1}(),l=function(c){if(typeof window>"u"||!o)return r(c);try{return r(c)}catch{return!1}};p=function(n){var x=n!==null&&typeof n=="object",h=a.call(n)==="[object Function]",T=P(n),f=x&&a.call(n)==="[object String]",s=[];if(!x&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=g&&h;if(f&&n.length>0&&!L.call(n,0))for(var S=0;S<n.length;++S)s.push(String(S));if(T&&n.length>0)for(var M=0;M<n.length;++M)s.push(String(M));else for(var C in n)!(d&&C==="prototype")&&L.call(n,C)&&s.push(String(C));if(v)for(var y=l(n),w=0;w<t.length;++w)!(y&&t[w]==="constructor")&&L.call(n,t[w])&&s.push(t[w]);return s}}W.exports=p},8709:function(W,U,e){var p=Array.prototype.slice,L=e(64178),a=Object.keys,P=a?function(g){return a(g)}:e(99019),A=Object.keys;P.shim=function(){if(Object.keys){var g=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);g||(Object.keys=function(r){return L(r)?A(p.call(r)):A(r)})}else Object.keys=P;return Object.keys||P},W.exports=P},64178:function(W){var U=Object.prototype.toString;W.exports=function(p){var L=U.call(p),a=L==="[object Arguments]";return a||(a=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&U.call(p.callee)==="[object Function]"),a}},88641:function(W){function U(L,a){if(typeof L!="string")return[L];var P=[L];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var A=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",g=!!a.flat;A.forEach(function(u){var o=new RegExp(["\\",u[0],"[^\\",u[0],"\\",u[1],"]*\\",u[1]].join("")),l=[];function c(n,x,h){var T=P.push(n.slice(u[0].length,-u[1].length))-1;return l.push(T),v+T+v}P.forEach(function(n,x){for(var h,T=0;n!=h;)if(h=n,n=n.replace(o,c),T++>1e4)throw Error("References have circular dependency. Please, check them.");P[x]=n}),l=l.reverse(),P=P.map(function(n){return l.forEach(function(x){n=n.replace(new RegExp("(\\"+v+x+"\\"+v+")","g"),u[0]+"$1"+u[1])}),n})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(u,o,l){for(var c=[],n,x=0;n=t.exec(u);){if(x++>1e4)throw Error("Circular references in parenthesis");c.push(u.slice(0,n.index)),c.push(r(o[n[1]],o)),u=u.slice(n.index+n[0].length)}return c.push(u),c}return g?P:r(P[0],P)}function e(L,a){if(a&&a.flat){var P=a&&a.escape||"___",A=L[0],v;if(!A)return"";for(var g=new RegExp("\\"+P+"([0-9]+)\\"+P),t=0;A!=v;){if(t++>1e4)throw Error("Circular references in "+L);v=A,A=A.replace(g,r)}return A}return L.reduce(function u(o,l){return Array.isArray(l)&&(l=l.reduce(u,"")),o+l},"");function r(u,o){if(L[o]==null)throw Error("Reference "+o+"is undefined");return L[o]}}function p(L,a){return Array.isArray(L)?e(L,a):U(L,a)}p.parse=U,p.stringify=e,W.exports=p},18863:function(W,U,e){var p=e(71299);W.exports=L;function L(a){var P;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?P={width:a[0],height:a[0],x:0,y:0}:a.length===2?P={width:a[0],height:a[1],x:0,y:0}:P={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=p(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),P={x:a.left||0,y:a.top||0},a.width==null?a.right?P.width=a.right-P.x:P.width=0:P.width=a.width,a.height==null?a.bottom?P.height=a.bottom-P.y:P.height=0:P.height=a.height),P}},95616:function(W){W.exports=p;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(P){var A=[];return P.replace(e,function(v,g,t){var r=g.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(A.push([g].concat(t.splice(0,2))),r="l",g=g=="m"?"l":"L");;){if(t.length==U[r])return t.unshift(g),A.push(t);if(t.length<U[r])throw new Error("malformed path data");A.push([g].concat(t.splice(0,U[r])))}}),A}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(P){var A=P.match(L);return A?A.map(Number):[]}},25677:function(W){W.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},9748:function(W,U,e){var p=e(90386);(function(){var L,a,P,A,v,g;typeof performance<"u"&&performance!==null&&performance.now?W.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(W.exports=function(){return(L()-v)/1e6},a=p.hrtime,L=function(){var t;return t=a(),t[0]*1e9+t[1]},A=L(),g=p.uptime()*1e9,v=A-g):Date.now?(W.exports=function(){return Date.now()-P},P=Date.now()):(W.exports=function(){return new Date().getTime()-P},P=new Date().getTime())}).call(this)},71299:function(W){W.exports=function(L,a,P){var A={},v,g;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(g=0;g<a.length;g++)t[a[g]]=!0;a=t}for(v in a)a[v]=e(a[v]);var r={};for(v in a){var u=a[v];if(Array.isArray(u))for(g=0;g<u.length;g++){var o=u[g];if(P&&(r[o]=!0),o in L){if(A[v]=L[o],P)for(var l=g;l<u.length;l++)r[u[l]]=!0;break}}else v in L&&(a[v]&&(A[v]=L[v]),P&&(r[v]=!0))}if(P)for(v in L)r[v]||(A[v]=L[v]);return A};var U={};function e(p){return U[p]?U[p]:(typeof p=="string"&&(p=U[p]=p.split(/\s*,\s*|\s+/)),p)}},38258:function(W){W.exports=function(e,p,L,a){var P=e[0],A=e[1],v=!1;L===void 0&&(L=0),a===void 0&&(a=p.length);for(var g=a-L,t=0,r=g-1;t<g;r=t++){var u=p[t+L][0],o=p[t+L][1],l=p[r+L][0],c=p[r+L][1],n=o>A!=c>A&&P<(l-u)*(A-o)/(c-o)+u;n&&(v=!v)}return v}},52142:function(W,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(69444),L=e(29023),a=e(87263),P=e(11328),A=e(55968),v=e(10670),g=!1,t=L(),r;r={buildLog:function(o){return o===!0?g=p():o===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(o){return t.epsilon(o)},segments:function(o){var l=a(!0,t,g);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){var c=a(!1,t,g);return{combined:c.calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:A.union(o.combined,g),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:A.intersect(o.combined,g),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:A.difference(o.combined,g),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:A.differenceRev(o.combined,g),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:A.xor(o.combined,g),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:P(o.segments,t,g),inverted:o.inverted}},polygonFromGeoJSON:function(o){return v.toPolygon(r,o)},polygonToGeoJSON:function(o){return v.fromPolygon(r,t,o)},union:function(o,l){return u(o,l,r.selectUnion)},intersect:function(o,l){return u(o,l,r.selectIntersect)},difference:function(o,l){return u(o,l,r.selectDifference)},differenceRev:function(o,l){return u(o,l,r.selectDifferenceRev)},xor:function(o,l){return u(o,l,r.selectXor)}};function u(o,l,c){var n=r.segments(o),x=r.segments(l),h=r.combine(n,x),T=c(h);return r.polygon(T)}typeof window=="object"&&(window.PolyBool=r),W.exports=r},69444:function(W){function U(){var e,p=0,L=!1;function a(P,A){return e.list.push({type:P,data:A?JSON.parse(JSON.stringify(A)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(P,A){return a("check",{seg1:P,seg2:A})},segmentChop:function(P,A){return a("div_seg",{seg:P,pt:A}),a("chop",{seg:P,pt:A})},statusRemove:function(P){return a("pop_seg",{seg:P})},segmentUpdate:function(P){return a("seg_update",{seg:P})},segmentNew:function(P,A){return a("new_seg",{seg:P,primary:A})},segmentRemove:function(P){return a("rem_seg",{seg:P})},tempStatus:function(P,A,v){return a("temp_status",{seg:P,above:A,below:v})},rewind:function(P){return a("rewind",{seg:P})},status:function(P,A,v){return a("status",{seg:P,above:A,below:v})},vert:function(P){return P===L?e:(L=P,a("vert",{x:P}))},log:function(P){return typeof P!="string"&&(P=JSON.stringify(P,!1,"  ")),a("log",{txt:P})},reset:function(){return a("reset")},selected:function(P){return a("selected",{segs:P})},chainStart:function(P){return a("chain_start",{seg:P})},chainRemoveHead:function(P,A){return a("chain_rem_head",{index:P,pt:A})},chainRemoveTail:function(P,A){return a("chain_rem_tail",{index:P,pt:A})},chainNew:function(P,A){return a("chain_new",{pt1:P,pt2:A})},chainMatch:function(P){return a("chain_match",{index:P})},chainClose:function(P){return a("chain_close",{index:P})},chainAddHead:function(P,A){return a("chain_add_head",{index:P,pt:A})},chainAddTail:function(P,A){return a("chain_add_tail",{index:P,pt:A})},chainConnect:function(P,A){return a("chain_con",{index1:P,index2:A})},chainReverse:function(P){return a("chain_rev",{index:P})},chainJoin:function(P,A){return a("chain_join",{index1:P,index2:A})},done:function(){return a("done")}},e}W.exports=U},29023:function(W){function U(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,a,P){var A=a[0],v=a[1],g=P[0],t=P[1],r=L[0],u=L[1];return(g-A)*(u-v)-(t-v)*(r-A)>=-e},pointBetween:function(L,a,P){var A=L[1]-a[1],v=P[0]-a[0],g=L[0]-a[0],t=P[1]-a[1],r=g*v+A*t;if(r<e)return!1;var u=v*v+t*t;return!(r-u>-e)},pointsSameX:function(L,a){return Math.abs(L[0]-a[0])<e},pointsSameY:function(L,a){return Math.abs(L[1]-a[1])<e},pointsSame:function(L,a){return p.pointsSameX(L,a)&&p.pointsSameY(L,a)},pointsCompare:function(L,a){return p.pointsSameX(L,a)?p.pointsSameY(L,a)?0:L[1]<a[1]?-1:1:L[0]<a[0]?-1:1},pointsCollinear:function(L,a,P){var A=L[0]-a[0],v=L[1]-a[1],g=a[0]-P[0],t=a[1]-P[1];return Math.abs(A*t-g*v)<e},linesIntersect:function(L,a,P,A){var v=a[0]-L[0],g=a[1]-L[1],t=A[0]-P[0],r=A[1]-P[1],u=v*r-g*t;if(Math.abs(u)<e)return!1;var o=L[0]-P[0],l=L[1]-P[1],c=(t*l-r*o)/u,n=(v*l-g*o)/u,x={alongA:0,alongB:0,pt:[L[0]+c*v,L[1]+c*g]};return c<=-e?x.alongA=-2:c<e?x.alongA=-1:c-1<=-e?x.alongA=0:c-1<e?x.alongA=1:x.alongA=2,n<=-e?x.alongB=-2:n<e?x.alongB=-1:n-1<=-e?x.alongB=0:n-1<e?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(L,a){for(var P=L[0],A=L[1],v=a[a.length-1][0],g=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var u=a[r][0],o=a[r][1];o-A>e!=g-A>e&&(v-u)*(A-o)/(g-o)+u-P>e&&(t=!t),v=u,g=o}return t}};return p}W.exports=U},10670:function(W){var U={toPolygon:function(e,p){function L(A){if(A.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var u=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[u]})}for(var g=v(A[0]),t=1;t<A.length;t++)g=e.selectDifference(e.combine(g,v(A[t])));return g}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),P=0;P<p.coordinates.length;P++)a=e.selectUnion(e.combine(a,L(p.coordinates[P])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function a(c,n){return p.pointInsideRegion([(c[0][0]+c[1][0])*.5,(c[0][1]+c[1][1])*.5],n)}function P(c){return{region:c,children:[]}}var A=P(null);function v(c,n){for(var x=0;x<c.children.length;x++){var h=c.children[x];if(a(n,h.region)){v(h,n);return}}for(var T=P(n),x=0;x<c.children.length;x++){var h=c.children[x];a(h.region,n)&&(T.children.push(h),c.children.splice(x,1),x--)}c.children.push(T)}for(var g=0;g<L.regions.length;g++){var t=L.regions[g];t.length<3||v(A,t)}function r(c,n){for(var x=0,h=c[c.length-1][0],T=c[c.length-1][1],f=[],s=0;s<c.length;s++){var d=c[s][0],S=c[s][1];f.push([d,S]),x+=S*h-d*T,h=d,T=S}var M=x<0;return M!==n&&f.reverse(),f.push([f[0][0],f[0][1]]),f}var u=[];function o(c){var n=[r(c.region,!1)];u.push(n);for(var x=0;x<c.children.length;x++)n.push(l(c.children[x]))}function l(c){for(var n=0;n<c.children.length;n++)o(c.children[n]);return r(c.region,!0)}for(var g=0;g<A.children.length;g++)o(A.children[g]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};W.exports=U},87263:function(W,U,e){var p=e(26859);function L(a,P,A){function v(T,f){return{id:A?A.segmentId():-1,start:T,end:f,myFill:{above:null,below:null},otherFill:null}}function g(T,f,s){return{id:A?A.segmentId():-1,start:T,end:f,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var t=p.create();function r(T,f,s,d,S,M){var C=P.pointsCompare(f,S);return C!==0?C:P.pointsSame(s,M)?0:T!==d?T?1:-1:P.pointAboveOrOnLine(s,d?S:M,d?M:S)?1:-1}function u(T,f){t.insertBefore(T,function(s){var d=r(T.isStart,T.pt,f,s.isStart,s.pt,s.other.pt);return d<0})}function o(T,f){var s=p.node({isStart:!0,pt:T.start,seg:T,primary:f,other:null,status:null});return u(s,T.end),s}function l(T,f,s){var d=p.node({isStart:!1,pt:f.end,seg:f,primary:s,other:T,status:null});T.other=d,u(d,T.pt)}function c(T,f){var s=o(T,f);return l(s,T,f),s}function n(T,f){A&&A.segmentChop(T.seg,f),T.other.remove(),T.seg.end=f,T.other.pt=f,u(T.other,T.pt)}function x(T,f){var s=g(f,T.seg.end,T.seg);return n(T,f),c(s,T.primary)}function h(T,f){var s=p.create();function d(I,O){var z=I.seg.start,k=I.seg.end,N=O.seg.start,K=O.seg.end;return P.pointsCollinear(z,N,K)?P.pointsCollinear(k,N,K)||P.pointAboveOrOnLine(k,N,K)?1:-1:P.pointAboveOrOnLine(z,N,K)?1:-1}function S(I){return s.findTransition(function(O){var z=d(I,O.ev);return z>0})}function M(I,O){var z=I.seg,k=O.seg,N=z.start,K=z.end,q=k.start,Q=k.end;A&&A.checkIntersection(z,k);var re=P.linesIntersect(N,K,q,Q);if(re===!1){if(!P.pointsCollinear(N,K,q)||P.pointsSame(N,Q)||P.pointsSame(K,q))return!1;var oe=P.pointsSame(N,q),Y=P.pointsSame(K,Q);if(oe&&Y)return O;var G=!oe&&P.pointBetween(N,q,Q),V=!Y&&P.pointBetween(K,q,Q);if(oe)return V?x(O,K):x(I,Q),O;G&&(Y||(V?x(O,K):x(I,Q)),x(O,N))}else re.alongA===0&&(re.alongB===-1?x(I,q):re.alongB===0?x(I,re.pt):re.alongB===1&&x(I,Q)),re.alongB===0&&(re.alongA===-1?x(O,N):re.alongA===0?x(O,re.pt):re.alongA===1&&x(O,K));return!1}for(var C=[];!t.isEmpty();){var y=t.getHead();if(A&&A.vert(y.pt[0]),y.isStart){let I=function(){if(b){var O=M(y,b);if(O)return O}return i?M(y,i):!1};A&&A.segmentNew(y.seg,y.primary);var w=S(y),b=w.before?w.before.ev:null,i=w.after?w.after.ev:null;A&&A.tempStatus(y.seg,b?b.seg:!1,i?i.seg:!1);var E=I();if(E){if(a){var m;y.seg.myFill.below===null?m=!0:m=y.seg.myFill.above!==y.seg.myFill.below,m&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=y.seg.myFill;A&&A.segmentUpdate(E.seg),y.other.remove(),y.remove()}if(t.getHead()!==y){A&&A.rewind(y.seg);continue}if(a){var m;y.seg.myFill.below===null?m=!0:m=y.seg.myFill.above!==y.seg.myFill.below,i?y.seg.myFill.below=i.seg.myFill.above:y.seg.myFill.below=T,m?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var F;i?y.primary===i.primary?F=i.seg.otherFill.above:F=i.seg.myFill.above:F=y.primary?f:T,y.seg.otherFill={above:F,below:F}}A&&A.status(y.seg,b?b.seg:!1,i?i.seg:!1),y.other.status=w.insert(p.node({ev:y}))}else{var _=y.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(_.prev)&&s.exists(_.next)&&M(_.prev.ev,_.next.ev),A&&A.statusRemove(_.ev.seg),_.remove(),!y.primary){var B=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=B}C.push(y.seg)}t.getHead().remove()}return A&&A.done(),C}return a?{addRegion:function(T){for(var f,s=T[T.length-1],d=0;d<T.length;d++){f=s,s=T[d];var S=P.pointsCompare(f,s);S!==0&&c(v(S<0?f:s,S<0?s:f),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,f,s,d){return T.forEach(function(S){c(g(S.start,S.end,S),!0)}),s.forEach(function(S){c(g(S.start,S.end,S),!1)}),h(f,d)}}}W.exports=L},26859:function(W){var U={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var a=e.root,P=e.root.next;P!==null;){if(L(P)){p.prev=P.prev,p.next=P,P.prev.next=p,P.prev=p;return}a=P,P=P.next}a.next=p,p.prev=a,p.next=null},findTransition:function(p){for(var L=e.root,a=e.root.next;a!==null&&!p(a);)L=a,a=a.next;return{before:L===e.root?null:L,after:a,insert:function(P){return P.prev=L,P.next=a,L.next=P,a!==null&&(a.prev=P),P}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};W.exports=U},11328:function(W){function U(e,p,L){var a=[],P=[];return e.forEach(function(A){var v=A.start,g=A.end;if(p.pointsSame(v,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(A);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},u=t;function o(E,m,F){return u.index=E,u.matches_head=m,u.matches_pt1=F,u===t?(u=r,!1):(u=null,!0)}for(var l=0;l<a.length;l++){var c=a[l],n=c[0];c[1];var x=c[c.length-1];if(c[c.length-2],p.pointsSame(n,v)){if(o(l,!0,!0))break}else if(p.pointsSame(n,g)){if(o(l,!0,!1))break}else if(p.pointsSame(x,v)){if(o(l,!1,!0))break}else if(p.pointsSame(x,g)&&o(l,!1,!1))break}if(u===t){a.push([v,g]),L&&L.chainNew(v,g);return}if(u===r){L&&L.chainMatch(t.index);var h=t.index,T=t.matches_pt1?g:v,f=t.matches_head,c=a[h],s=f?c[0]:c[c.length-1],d=f?c[1]:c[c.length-2],S=f?c[c.length-1]:c[0],M=f?c[c.length-2]:c[1];if(p.pointsCollinear(d,s,T)&&(f?(L&&L.chainRemoveHead(t.index,T),c.shift()):(L&&L.chainRemoveTail(t.index,T),c.pop()),s=d),p.pointsSame(S,T)){a.splice(h,1),p.pointsCollinear(M,S,s)&&(f?(L&&L.chainRemoveTail(t.index,s),c.pop()):(L&&L.chainRemoveHead(t.index,s),c.shift())),L&&L.chainClose(t.index),P.push(c);return}f?(L&&L.chainAddHead(t.index,T),c.unshift(T)):(L&&L.chainAddTail(t.index,T),c.push(T));return}function C(E){L&&L.chainReverse(E),a[E].reverse()}function y(E,m){var F=a[E],_=a[m],B=F[F.length-1],I=F[F.length-2],O=_[0],z=_[1];p.pointsCollinear(I,B,O)&&(L&&L.chainRemoveTail(E,B),F.pop(),B=I),p.pointsCollinear(B,O,z)&&(L&&L.chainRemoveHead(m,O),_.shift()),L&&L.chainJoin(E,m),a[E]=F.concat(_),a.splice(m,1)}var w=t.index,b=r.index;L&&L.chainConnect(w,b);var i=a[w].length<a[b].length;t.matches_head?r.matches_head?i?(C(w),y(w,b)):(C(b),y(b,w)):y(b,w):r.matches_head?y(w,b):i?(C(w),y(b,w)):(C(b),y(w,b))}),P}W.exports=U},55968:function(W){function U(p,L,a){var P=[];return p.forEach(function(A){var v=(A.myFill.above?8:0)+(A.myFill.below?4:0)+(A.otherFill&&A.otherFill.above?2:0)+(A.otherFill&&A.otherFill.below?1:0);L[v]!==0&&P.push({id:a?a.segmentId():-1,start:A.start,end:A.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),a&&a.selected(P),P}var e={union:function(p,L){return U(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return U(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return U(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return U(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return U(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};W.exports=e},14847:function(W,U,e){var p=e(21630).Transform,L=e(90715);function a(){p.call(this,{readableObjectMode:!0})}a.prototype=Object.create(p.prototype),a.prototype.constructor=a,L(a.prototype),U.OF=function(A,v,g){for(var t=v,r=0;r<g.length;)if(A[t++]!==g[r++])return!1;return!0},U.eG=function(A,v){var g=[],t=0;if(v&&v==="hex")for(;t<A.length;)g.push(parseInt(A.slice(t,t+2),16)),t+=2;else for(;t<A.length;t++)g.push(A.charCodeAt(t)&255);return g},U.mP=function(A,v){return A[v]|A[v+1]<<8},U.n8=function(A,v){return A[v+1]|A[v]<<8},U.nm=function(A,v){return A[v]|A[v+1]<<8|A[v+2]<<16|A[v+3]*16777216},U.Ag=function(A,v){return A[v+3]|A[v+2]<<8|A[v+1]<<16|A[v]*16777216};function P(A,v,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=A,v&&(this.code=v),g&&(this.statusCode=g)}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P},71371:function(W){function U(L,a){var P=new Error(L);return P.code=a,P}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,a,P){this.input=L.subarray(a,P),this.start=a;var A=String.fromCharCode.apply(null,this.input.subarray(0,4));if(A!=="II*\0"&&A!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=A[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var P=this.ifds_to_read.shift();P.offset&&this.scan_ifd(P.id,P.offset,L)}},p.prototype.read_uint16=function(L){var a=this.input;if(L+2>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[L]*256+a[L+1]:a[L]+a[L+1]*256},p.prototype.read_uint32=function(L){var a=this.input;if(L+4>a.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?a[L]*16777216+a[L+1]*65536+a[L+2]*256+a[L+3]:a[L]+a[L+1]*256+a[L+2]*65536+a[L+3]*16777216},p.prototype.is_subifd_link=function(L,a){return L===0&&a===34665||L===0&&a===34853||L===34665&&a===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,a){var P;switch(L){case 1:case 2:return P=this.input[a],P;case 6:return P=this.input[a],P|(P&128)*33554430;case 3:return P=this.read_uint16(a),P;case 8:return P=this.read_uint16(a),P|(P&32768)*131070;case 4:return P=this.read_uint32(a),P;case 9:return P=this.read_uint32(a),P|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,a,P){var A=this.read_uint16(a);a+=2;for(var v=0;v<A;v++){var g=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),u=this.exif_format_length(t),o=r*u,l=o<=4?a+8:this.read_uint32(a+8),c=!1;if(l+o>this.input.length)throw U("unexpected EOF","EBADDATA");for(var n=[],x=l,h=0;h<r;h++,x+=u){var T=this.exif_format_read(t,x);if(T===null){n=null;break}n.push(T)}Array.isArray(n)&&t===2&&(n=e(String.fromCharCode.apply(null,n)),n&&n[n.length-1]==="\0"&&(n=n.slice(0,-1))),this.is_subifd_link(L,g)&&Array.isArray(n)&&Number.isInteger(n[0])&&n[0]>0&&(this.ifds_to_read.push({id:g,offset:n[0]}),c=!0);var f={is_big_endian:this.big_endian,ifd:L,tag:g,format:t,count:r,entry_offset:a+this.start,data_length:o,data_offset:l+this.start,value:n,is_subifd_link:c};if(P(f)===!1){this.aborted=!0;return}a+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},W.exports.ExifParser=p,W.exports.get_orientation=function(L){var a=0;try{return new p(L,0,L.length).each(function(P){if(P.ifd===0&&P.tag===274&&Array.isArray(P.value))return a=P.value[0],!1}),a}catch{return-1}}},76767:function(W,U,e){var p=e(14847).n8,L=e(14847).Ag;function a(o,l){if(o.length<4+l)return null;var c=L(o,l);return o.length<c+l||c<8?null:{boxtype:String.fromCharCode.apply(null,o.slice(l+4,l+8)),data:o.slice(l+8,l+c),end:l+c}}W.exports.unbox=a;function P(o,l){for(var c=0;;){var n=a(o,c);if(!n)break;switch(n.boxtype){case"ispe":l.sizes.push({width:L(n.data,4),height:L(n.data,8)});break;case"irot":l.transforms.push({type:"irot",value:n.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:n.data[0]&1});break}c=n.end}}function A(o,l,c){for(var n=0,x=0;x<c;x++)n=n*256+(o[l+x]||0);return n}function v(o,l){for(var c=o[4]>>4&15,n=o[4]&15,x=o[5]>>4&15,h=p(o,6),T=8,f=0;f<h;f++){var s=p(o,T);T+=2;var d=p(o,T);T+=2;var S=A(o,T,x);T+=x;var M=p(o,T);if(T+=2,d===0&&M===1){var C=A(o,T,c),y=A(o,T+c,n);l.item_loc[s]={length:y,offset:C+S}}T+=M*(c+n)}}function g(o,l){for(var c=p(o,4),n=6,x=0;x<c;x++){var h=a(o,n);if(!h)break;if(h.boxtype==="infe"){for(var T=p(h.data,4),f="",s=8;s<h.data.length&&h.data[s];s++)f+=String.fromCharCode(h.data[s]);l.item_inf[f]=T}n=h.end}}function t(o,l){for(var c=0;;){var n=a(o,c);if(!n)break;n.boxtype==="ipco"&&P(n.data,l),c=n.end}}function r(o,l){for(var c=4;;){var n=a(o,c);if(!n)break;n.boxtype==="iprp"&&t(n.data,l),n.boxtype==="iloc"&&v(n.data,l),n.boxtype==="iinf"&&g(n.data,l),c=n.end}}function u(o){var l=o.reduce(function(x,h){return x.width>h.width||x.width===h.width&&x.height>h.height?x:h}),c=o.reduce(function(x,h){return x.height>h.height||x.height===h.height&&x.width>h.width?x:h}),n;return l.width>c.height||l.width===c.height&&l.height>c.width?n=l:n=c,n}W.exports.readSizeFromMeta=function(o){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(o,l),!!l.sizes.length){var c=u(l.sizes),n=1;l.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},f={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?n=f[n]:(n=f[n],n=T[n],n=T[n])),h.type==="irot")for(var s=0;s<h.value;s++)n=T[n]});var x=null;return l.item_inf.Exif&&(x=l.item_loc[l.item_inf.Exif]),{width:c.width,height:c.height,orientation:l.transforms.length?n:null,variants:l.sizes,exif_location:x}}},W.exports.getMimeType=function(o){var l=String.fromCharCode.apply(null,o.slice(0,4)),c={};c[l]=!0;for(var n=8;n<o.length;n+=4)c[String.fromCharCode.apply(null,o.slice(n,n+4))]=!0;if(!(!c.mif1&&!c.msf1&&!c.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,P=e(76767),A=e(71371),v=p("ftyp");W.exports=function(g){if(L(g,4,v)){var t=P.unbox(g,0);if(t){var r=P.getMimeType(t.data);if(r){for(var u,o=t.end;;){var l=P.unbox(g,o);if(!l)break;if(o=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){u=l.data;break}}if(u){var c=P.readSizeFromMeta(u);if(c){var n={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(n.variants=c.variants),c.orientation&&(n.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=g.length){var x=a(g,c.exif_location.offset),h=g.slice(c.exif_location.offset+x+4,c.exif_location.offset+c.exif_location.length),T=A.get_orientation(h);T>0&&(n.orientation=T)}return n}}}}}}},2504:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,P=p("BM");W.exports=function(A){if(!(A.length<26)&&L(A,0,P))return{width:a(A,18),height:a(A,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,P=p("GIF87a"),A=p("GIF89a");W.exports=function(v){if(!(v.length<10)&&!(!L(v,0,P)&&!L(v,0,A)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(W,U,e){var p=e(14847).mP,L=0,a=1,P=16;W.exports=function(A){var v=p(A,0),g=p(A,2),t=p(A,4);if(!(v!==L||g!==a||!t)){for(var r=[],u={width:0,height:0},o=0;o<t;o++){var l=A[6+P*o]||256,c=A[6+P*o+1]||256,n={width:l,height:c};r.push(n),(l>u.width||c>u.height)&&(u=n)}return{width:u.width,height:u.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(W,U,e){var p=e(14847).n8,L=e(14847).eG,a=e(14847).OF,P=e(71371),A=L("Exif\0\0");W.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var g=2;;){for(;;){if(v.length-g<2)return;if(v[g++]===255)break}for(var t=v[g++],r;t===255;)t=v[g++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-g<2)return;r=p(v,g)-2,g+=2}else return;if(t===217||t===218)return;var u;if(t===225&&r>=10&&a(v,g,A)&&(u=P.get_orientation(v.slice(g+6,g+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-g<r)return;var o={width:p(v,g+3),height:p(v,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return u>0&&(o.orientation=u),o}g+=r}}},6303:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,P=p(`PNG\r

`),A=p("IHDR");W.exports=function(v){if(!(v.length<24)&&L(v,0,P)&&L(v,12,A))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).Ag,P=p("8BPS\0");W.exports=function(A){if(!(A.length<22)&&L(A,0,P))return{width:a(A,18),height:a(A,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(W){function U(u){return u===32||u===9||u===13||u===10}function e(u){return typeof u=="number"&&isFinite(u)&&u>0}function p(u){var o=0,l=u.length;for(u[0]===239&&u[1]===187&&u[2]===191&&(o=3);o<l&&U(u[o]);)o++;return o===l?!1:u[o]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,P=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,A=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(u){var o=u.match(P),l=u.match(A),c=u.match(v);return{width:o&&(o[1]||o[2]),height:l&&(l[1]||l[2]),viewbox:c&&(c[1]||c[2])}}function r(u){return g.test(u)?u.match(g)[0]:"px"}W.exports=function(u){if(p(u)){for(var o="",l=0;l<u.length;l++)o+=String.fromCharCode(u[l]);var c=(o.match(L)||[""])[0];if(a.test(c)){var n=t(c),x=parseFloat(n.width),h=parseFloat(n.height);if(n.width&&n.height)return!e(x)||!e(h)?void 0:{width:x,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(n.width),hUnits:r(n.height)};var T=(n.viewbox||"").split(" "),f={width:T[2],height:T[3]},s=parseFloat(f.width),d=parseFloat(f.height);if(!(!e(s)||!e(d))&&r(f.width)===r(f.height)){var S=s/d;return n.width?e(x)?{width:x,height:x/S,type:"svg",mime:"image/svg+xml",wUnits:r(n.width),hUnits:r(n.width)}:void 0:n.height?e(h)?{width:h*S,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(n.height),hUnits:r(n.height)}:void 0:{width:s,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(f.width),hUnits:r(f.height)}}}}}},66278:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,P=e(14847).n8,A=e(14847).nm,v=e(14847).Ag,g=p("II*\0"),t=p("MM\0*");function r(l,c,n){return n?P(l,c):a(l,c)}function u(l,c,n){return n?v(l,c):A(l,c)}function o(l,c,n){var x=r(l,c+2,n),h=u(l,c+4,n);return h!==1||x!==3&&x!==4?null:x===3?r(l,c+8,n):u(l,c+8,n)}W.exports=function(l){if(!(l.length<8)&&!(!L(l,0,g)&&!L(l,0,t))){var c=l[0]===77,n=u(l,4,c)-8;if(!(n<0)){var x=n+8;if(!(l.length-x<2)){var h=r(l,x+0,c)*12;if(!(h<=0)&&(x+=2,!(l.length-x<h))){var T,f,s,d;for(T=0;T<h;T+=12)d=r(l,x+T,c),d===256?f=o(l,x+T,c):d===257&&(s=o(l,x+T,c));if(f&&s)return{width:f,height:s,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(W,U,e){var p=e(14847).eG,L=e(14847).OF,a=e(14847).mP,P=e(14847).nm,A=e(71371),v=p("RIFF"),g=p("WEBP");function t(o,l){if(!(o[l+3]!==157||o[l+4]!==1||o[l+5]!==42))return{width:a(o,l+6)&16383,height:a(o,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(o,l){if(o[l]===47){var c=P(o,l+1);return{width:(c&16383)+1,height:(c>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function u(o,l){return{width:(o[l+6]<<16|o[l+5]<<8|o[l+4])+1,height:(o[l+9]<<l|o[l+8]<<8|o[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}W.exports=function(o){if(!(o.length<16)&&!(!L(o,0,v)&&!L(o,8,g))){var l=12,c=null,n=0,x=P(o,4)+8;if(!(x>o.length)){for(;l+8<x;){if(o[l]===0){l++;continue}var h=String.fromCharCode.apply(null,o.slice(l,l+4)),T=P(o,l+4);h==="VP8 "&&T>=10?c=c||t(o,l+8):h==="VP8L"&&T>=9?c=c||r(o,l+8):h==="VP8X"&&T>=10?c=c||u(o,l+8):h==="EXIF"&&(n=A.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}if(c)return n>0&&(c.orientation=n),c}}}},91497:function(W,U,e){W.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(W,U,e){var p=e(91497);function L(a){for(var P=Object.keys(p),A=0;A<P.length;A++){var v=p[P[A]](a);if(v)return v}return null}W.exports=function(P){return L(P)},W.exports.parsers=p},90386:function(W){var U=W.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=a}catch{p=a}})();function P(n){if(e===setTimeout)return setTimeout(n,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch{try{return e.call(null,n,0)}catch{return e.call(this,n,0)}}}function A(n){if(p===clearTimeout)return clearTimeout(n);if((p===a||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(n);try{return p(n)}catch{try{return p.call(null,n)}catch{return p.call(this,n)}}}var v=[],g=!1,t,r=-1;function u(){!g||!t||(g=!1,t.length?v=t.concat(v):r=-1,v.length&&o())}function o(){if(!g){var n=P(u);g=!0;for(var x=v.length;x;){for(t=v,v=[];++r<x;)t&&t[r].run();r=-1,x=v.length}t=null,g=!1,A(n)}}U.nextTick=function(n){var x=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)x[h-1]=arguments[h];v.push(new l(n,x)),v.length===1&&!g&&P(o)};function l(n,x){this.fun=n,this.array=x}l.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function c(){}U.on=c,U.addListener=c,U.once=c,U.off=c,U.removeListener=c,U.removeAllListeners=c,U.emit=c,U.prependListener=c,U.prependOnceListener=c,U.listeners=function(n){return[]},U.binding=function(n){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(n){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},5877:function(W,U,e){for(var p=e(9748),L=typeof window>"u"?e.g:window,a=["moz","webkit"],P="AnimationFrame",A=L["request"+P],v=L["cancel"+P]||L["cancelRequest"+P],g=0;!A&&g<a.length;g++)A=L[a[g]+"Request"+P],v=L[a[g]+"Cancel"+P]||L[a[g]+"CancelRequest"+P];if(!A||!v){var t=0,r=0,u=[],o=1e3/60;A=function(l){if(u.length===0){var c=p(),n=Math.max(0,o-(c-t));t=n+c,setTimeout(function(){var x=u.slice(0);u.length=0;for(var h=0;h<x.length;h++)if(!x[h].cancelled)try{x[h].callback(t)}catch(T){setTimeout(function(){throw T},0)}},Math.round(n))}return u.push({handle:++r,callback:l,cancelled:!1}),r},v=function(l){for(var c=0;c<u.length;c++)u[c].handle===l&&(u[c].cancelled=!0)}}W.exports=function(l){return A.call(L,l)},W.exports.cancel=function(){v.apply(L,arguments)},W.exports.polyfill=function(l){l||(l=L),l.requestAnimationFrame=A,l.cancelAnimationFrame=v}},3593:function(W,U,e){var p=e(21527),L=e(25075),a=e(93447),P=e(71299),A=e(56131),v=e(30120),g=e(57060),t=g.float32,r=g.fract32;W.exports=o;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function o(l,c){if(typeof l=="function"?(c||(c={}),c.regl=l):c=l,c.length&&(c.positions=c),l=c.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var n=l._gl,x,h,T,f,s,d,S={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},M=[];return f=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=l.buffer({usage:"static",type:"float",data:u}),b(c),x=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(E,m){return[m.viewport.x,m.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:f,offset:function(E,m){return m.offset*4},divisor:1},position:{buffer:h,offset:function(E,m){return m.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,m){return m.offset*8},divisor:1},error:{buffer:s,offset:function(E,m){return m.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:u.length}),A(C,{update:b,draw:y,destroy:i,regl:l,gl:n,canvas:n.canvas,groups:M}),C;function C(E){E?b(E):E===null&&i(),y()}function y(E){if(typeof E=="number")return w(E);E&&!Array.isArray(E)&&(E=[E]),l._refresh(),M.forEach(function(m,F){if(m){if(E&&(E[F]?m.draw=!0:m.draw=!1),!m.draw){m.draw=!0;return}w(F)}})}function w(E){typeof E=="number"&&(E=M[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],x(E),E.after&&E.after(E))}function b(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var m=0,F=0;if(C.groups=M=E.map(function(N,K){var q=M[K];if(N)typeof N=="function"?N={after:N}:typeof N[0]=="number"&&(N={positions:N});else return q;return N=P(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(M[K]=q={id:K,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=A({},S,N)),a(q,N,[{lineWidth:function(Q){return+Q*.5},capSize:function(Q){return+Q*.5},opacity:parseFloat,errors:function(Q){return Q=v(Q),F+=Q.length,Q},positions:function(Q,re){return Q=v(Q,"float64"),re.count=Math.floor(Q.length/2),re.bounds=p(Q,2),re.offset=m,m+=re.count,Q}},{color:function(Q,re){var oe=re.count;if(Q||(Q="transparent"),!Array.isArray(Q)||typeof Q[0]=="number"){var Y=Q;Q=Array(oe);for(var G=0;G<oe;G++)Q[G]=Y}if(Q.length<oe)throw Error("Not enough colors");for(var V=new Uint8Array(oe*4),Z=0;Z<oe;Z++){var ae=L(Q[Z],"uint8");V.set(ae,Z*4)}return V},range:function(Q,re,oe){var Y=re.bounds;return Q||(Q=Y),re.scale=[1/(Q[2]-Q[0]),1/(Q[3]-Q[1])],re.translate=[-Q[0],-Q[1]],re.scaleFract=r(re.scale),re.translateFract=r(re.translate),Q},viewport:function(Q){var re;return Array.isArray(Q)?re={x:Q[0],y:Q[1],width:Q[2]-Q[0],height:Q[3]-Q[1]}:Q?(re={x:Q.x||Q.left||0,y:Q.y||Q.top||0},Q.right?re.width=Q.right-re.x:re.width=Q.w||Q.width||0,Q.bottom?re.height=Q.bottom-re.y:re.height=Q.h||Q.height||0):re={x:0,y:0,width:n.drawingBufferWidth,height:n.drawingBufferHeight},re}}]),q}),m||F){var _=M.reduce(function(N,K,q){return N+(K?K.count:0)},0),B=new Float64Array(_*2),I=new Uint8Array(_*4),O=new Float32Array(_*4);M.forEach(function(N,K){if(N){var q=N.positions,Q=N.count,re=N.offset,oe=N.color,Y=N.errors;Q&&(I.set(oe,re*4),O.set(Y,re*4),B.set(q,re*2))}});var z=t(B);h(z);var k=r(B,z);T(k),f(I),s(O)}}}function i(){h.destroy(),T.destroy(),f.destroy(),s.destroy(),d.destroy()}}},46075:function(W,U,e){var p=e(25075),L=e(21527),a=e(56131),P=e(56068),A=e(71299),v=e(30120),g=e(11474),t=e(54),r=e(57060),u=r.float32,o=r.fract32,l=e(83522),c=e(18863),n=e(6851);W.exports=x;function x(h,T){if(!(this instanceof x))return new x(h,T);if(typeof h=="function"?(T||(T={}),T.regl=h):T=h,T.length&&(T.positions=T),h=T.regl,!h.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=x.shaders.has(h)?x.shaders.get(h):x.shaders.set(h,x.createShaders(h)).get(h),this.update(T)}x.dashMult=2,x.maxPatternLength=256,x.precisionThreshold=3e6,x.maxPoints=1e4,x.maxLines=2048,x.shaders=new l,x.createShaders=function(h){var T=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),f={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(M,C){return C.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(M,C){return[C.viewport.x,C.viewport.y,M.viewportWidth,M.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(M,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},s=h(a({vert:P([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:P([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},f)),d;try{d=h(a({cull:{enable:!0,face:"back"},vert:P([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:P([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},f))}catch{d=s}var S=h({primitive:"triangle",elements:function(M,C){return C.triangles},offset:0,vert:P([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:P([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(M,C){return[C.viewport.x,C.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:f.blend,depth:{enable:!1},scissor:f.scissor,stencil:f.stencil,viewport:f.viewport});return{fill:S,rect:s,miter:d}},x.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},x.prototype.render=function(){for(var h,T=[],f=arguments.length;f--;)T[f]=arguments[f];T.length&&(h=this).update.apply(h,T),this.draw()},x.prototype.draw=function(){for(var h=this,T=[],f=arguments.length;f--;)T[f]=arguments[f];return(T.length?T:this.passes).forEach(function(s,d){var S;if(s&&Array.isArray(s))return(S=h).draw.apply(S,s);typeof s=="number"&&(s=h.passes[s]),s&&s.count>1&&s.opacity&&(h.regl._refresh(),s.fill&&s.triangles&&s.triangles.length>2&&h.shaders.fill(s),s.thickness&&(s.scale[0]*s.viewport.width>x.precisionThreshold||s.scale[1]*s.viewport.height>x.precisionThreshold||s.join==="rect"||!s.join&&(s.thickness<=2||s.count>=x.maxPoints)?h.shaders.rect(s):h.shaders.miter(s)))}),this},x.prototype.update=function(h){var T=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var f=this,s=f.regl,d=f.gl;if(h.forEach(function(w,b){var i=T.passes[b];if(w!==void 0){if(w===null){T.passes[b]=null;return}if(typeof w[0]=="number"&&(w={positions:w}),w=A(w,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(T.passes[b]=i={id:b,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:s.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},w=a({},x.defaults,w)),w.thickness!=null&&(i.thickness=parseFloat(w.thickness)),w.opacity!=null&&(i.opacity=parseFloat(w.opacity)),w.miterLimit!=null&&(i.miterLimit=parseFloat(w.miterLimit)),w.overlay!=null&&(i.overlay=!!w.overlay,b<x.maxLines&&(i.depth=2*(x.maxLines-1-b%x.maxLines)/x.maxLines-1)),w.join!=null&&(i.join=w.join),w.hole!=null&&(i.hole=w.hole),w.fill!=null&&(i.fill=w.fill?p(w.fill,"uint8"):null),w.viewport!=null&&(i.viewport=c(w.viewport)),i.viewport||(i.viewport=c([d.drawingBufferWidth,d.drawingBufferHeight])),w.close!=null&&(i.close=w.close),w.positions===null&&(w.positions=[]),w.positions){var E,m;if(w.positions.x&&w.positions.y){var F=w.positions.x,_=w.positions.y;m=i.count=Math.max(F.length,_.length),E=new Float64Array(m*2);for(var B=0;B<m;B++)E[B*2]=F[B],E[B*2+1]=_[B]}else E=v(w.positions,"float64"),m=i.count=Math.floor(E.length/2);var I=i.bounds=L(E,2);if(i.fill){for(var O=[],z={},k=0,N=0,K=0,q=i.count;N<q;N++){var Q=E[N*2],re=E[N*2+1];isNaN(Q)||isNaN(re)||Q==null||re==null?(Q=E[k*2],re=E[k*2+1],z[N]=k):k=N,O[K++]=Q,O[K++]=re}if(w.splitNull){i.count-1 in z||(z[i.count]=i.count-1);var oe=Object.keys(z).map(Number).sort(function(Je,Re){return Je-Re}),Y=[],G=0,V=i.hole!=null?i.hole[0]:null;if(V!=null){var Z=n(oe,function(Je){return Je>=V});oe=oe.slice(0,Z),oe.push(V)}for(var ae=function(Je){var Re=O.slice(G*2,oe[Je]*2).concat(V?O.slice(V*2):[]),Me=(i.hole||[]).map(function(ye){return ye-V+(oe[Je]-G)}),fe=g(Re,Me);fe=fe.map(function(ye){return ye+G+(ye+G<oe[Je]?0:V-oe[Je])}),Y.push.apply(Y,fe),G=oe[Je]+1},ie=0;ie<oe.length;ie++)ae(ie);for(var J=0,$=Y.length;J<$;J++)z[Y[J]]!=null&&(Y[J]=z[Y[J]]);i.triangles=Y}else{for(var se=g(O,i.hole||[]),ee=0,ue=se.length;ee<ue;ee++)z[se[ee]]!=null&&(se[ee]=z[se[ee]]);i.triangles=se}}var ge=new Float64Array(E);t(ge,2,I);var Te=new Float64Array(m*2+6);i.close?E[0]===E[m*2-2]&&E[1]===E[m*2-1]?(Te[0]=ge[m*2-4],Te[1]=ge[m*2-3]):(Te[0]=ge[m*2-2],Te[1]=ge[m*2-1]):(Te[0]=ge[0],Te[1]=ge[1]),Te.set(ge,2),i.close?E[0]===E[m*2-2]&&E[1]===E[m*2-1]?(Te[m*2+2]=ge[2],Te[m*2+3]=ge[3],i.count-=1):(Te[m*2+2]=ge[0],Te[m*2+3]=ge[1],Te[m*2+4]=ge[2],Te[m*2+5]=ge[3]):(Te[m*2+2]=ge[m*2-2],Te[m*2+3]=ge[m*2-1],Te[m*2+4]=ge[m*2-2],Te[m*2+5]=ge[m*2-1]);var xe=u(Te);i.positionBuffer(xe);var Pe=o(Te,xe);i.positionFractBuffer(Pe)}if(w.range?i.range=w.range:i.range||(i.range=i.bounds),(w.range||w.positions)&&i.count){var Ie=i.bounds,Ae=Ie[2]-Ie[0],be=Ie[3]-Ie[1],_e=i.range[2]-i.range[0],Ve=i.range[3]-i.range[1];i.scale=[Ae/_e,be/Ve],i.translate=[-i.range[0]/_e+Ie[0]/_e||0,-i.range[1]/Ve+Ie[1]/Ve||0],i.scaleFract=o(i.scale),i.translateFract=o(i.translate)}if(w.dashes){var We=0,ze;if(!w.dashes||w.dashes.length<2)We=1,ze=new Uint8Array([255,255,255,255,255,255,255,255]);else{We=0;for(var Ze=0;Ze<w.dashes.length;++Ze)We+=w.dashes[Ze];ze=new Uint8Array(We*x.dashMult);for(var ct=0,lt=255,at=0;at<2;at++)for(var tt=0;tt<w.dashes.length;++tt){for(var dt=0,wt=w.dashes[tt]*x.dashMult*.5;dt<wt;++dt)ze[ct++]=lt;lt^=255}}i.dashLength=We,i.dashTexture({channels:1,data:ze,width:ze.length,height:1,mag:"linear",min:"linear"},0,0)}if(w.color){var Mt=i.count,It=w.color;It||(It="transparent");var $e=new Uint8Array(Mt*4+4);if(!Array.isArray(It)||typeof It[0]=="number")for(var ke=p(It,"uint8"),Fe=0;Fe<Mt+1;Fe++)$e.set(ke,Fe*4);else{for(var qe=0;qe<Mt;qe++){var it=p(It[qe],"uint8");$e.set(it,qe*4)}$e.set(p(It[0],"uint8"),Mt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:$e})}}}),h.length<this.passes.length){for(var S=h.length;S<this.passes.length;S++){var M=this.passes[S];M&&(M.colorBuffer.destroy(),M.positionBuffer.destroy(),M.dashTexture.destroy())}this.passes.length=h.length}for(var C=[],y=0;y<this.passes.length;y++)this.passes[y]!==null&&C.push(this.passes[y]);return this.passes=C,this}},x.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(W,U,e){function p(i,E){return P(i)||v(i,E)||g(i,E)||u()}function L(i){return a(i)||A(i)||g(i)||r()}function a(i){if(Array.isArray(i))return t(i)}function P(i){if(Array.isArray(i))return i}function A(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function v(i,E){var m=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(m!=null){var F=[],_=!0,B=!1,I,O;try{for(m=m.call(i);!(_=(I=m.next()).done)&&(F.push(I.value),!(E&&F.length===E));_=!0);}catch(z){B=!0,O=z}finally{try{!_&&m.return!=null&&m.return()}finally{if(B)throw O}}return F}}function g(i,E){if(i){if(typeof i=="string")return t(i,E);var m=Object.prototype.toString.call(i).slice(8,-1);if(m==="Object"&&i.constructor&&(m=i.constructor.name),m==="Map"||m==="Set")return Array.from(i);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return t(i,E)}}function t(i,E){(E==null||E>i.length)&&(E=i.length);for(var m=0,F=new Array(E);m<E;m++)F[m]=i[m];return F}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=e(25075),l=e(21527),c=e(6475),n=e(88294),x=e(56131),h=e(56068),T=e(71299),f=e(93447),s=e(30120),d=e(62683),S=e(57060),M=e(18863),C=y;function y(i,E){var m=this;if(!(this instanceof y))return new y(i,E);typeof i=="function"?(E||(E={}),E.regl=i):(E=i,i=null),E&&E.length&&(E.positions=E),i=E.regl;var F=i._gl,_,B=[],I={},O=[],z=[null],k=[null],N=255,K=100;this.tooManyColors=d,_=i.texture({data:new Uint8Array(N*4),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),x(this,{regl:i,gl:F,groups:O,markerCache:k,markerTextures:z,palette:B,paletteIds:I,paletteTexture:_,maxColors:N,maxSize:K,canvas:F.canvas}),this.update(E);var q={uniforms:{constPointSize:!!E.constPointSize,opacity:i.prop("opacity"),paletteSize:function(Y,G){return[m.tooManyColors?0:N,_.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:_},attributes:{x:function(Y,G){return G.xAttr||{buffer:G.positionBuffer,stride:8,offset:0}},y:function(Y,G){return G.yAttr||{buffer:G.positionBuffer,stride:8,offset:4}},xFract:function(Y,G){return G.xAttr?{constant:[0,0]}:{buffer:G.positionFractBuffer,stride:8,offset:0}},yFract:function(Y,G){return G.yAttr?{constant:[0,0]}:{buffer:G.positionFractBuffer,stride:8,offset:4}},size:function(Y,G){return G.size.length?{buffer:G.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(G.size*255/m.maxSize)]}},borderSize:function(Y,G){return G.borderSize.length?{buffer:G.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(G.borderSize*255/m.maxSize)]}},colorId:function(Y,G){return G.color.length?{buffer:G.colorBuffer,stride:m.tooManyColors?8:4,offset:0}:{constant:m.tooManyColors?B.slice(G.color*4,G.color*4+4):[G.color]}},borderColorId:function(Y,G){return G.borderColor.length?{buffer:G.colorBuffer,stride:m.tooManyColors?8:4,offset:m.tooManyColors?4:2}:{constant:m.tooManyColors?B.slice(G.borderColor*4,G.borderColor*4+4):[G.borderColor]}},isActive:function(Y,G){return G.activation===!0?{constant:[1]}:G.activation?G.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},Q=x({},q);Q.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),Q.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(Q);var re=x({},q);re.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(re.frag=re.frag.replace("smoothstep","smoothStep"),Q.frag=Q.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(re)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var i=this,E=arguments.length,m=new Array(E),F=0;F<E;F++)m[F]=arguments[F];var _=this.groups;if(m.length===1&&Array.isArray(m[0])&&(m[0][0]===null||Array.isArray(m[0][0]))&&(m=m[0]),this.regl._refresh(),m.length)for(var B=0;B<m.length;B++)this.drawItem(B,m[B]);else _.forEach(function(I,O){i.drawItem(O)});return this},y.prototype.drawItem=function(i,E){var m=this.groups,F=m[i];if(typeof E=="number"&&(i=E,F=m[E],E=null),!!(F&&F.count&&F.opacity)){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,E));for(var _=[],B=1;B<F.activation.length;B++)!F.activation[B]||F.activation[B]!==!0&&!F.activation[B].data.length||_.push.apply(_,L(this.getMarkerDrawOptions(B,F,E)));_.length&&this.drawMarker(_)}},y.prototype.getMarkerDrawOptions=function(i,E,m){var F=E.range,_=E.tree,B=E.viewport,I=E.activation,O=E.selectionBuffer,z=E.count;if(this.regl,!_)return m?[x({},E,{markerTexture:this.markerTextures[i],activation:I[i],count:m.length,elements:m,offset:0})]:[x({},E,{markerTexture:this.markerTextures[i],activation:I[i],offset:0})];var k=[],N=_.range(F,{lod:!0,px:[(F[2]-F[0])/B.width,(F[3]-F[1])/B.height]});if(m){for(var K=I[i],q=K.data,Q=new Uint8Array(z),re=0;re<m.length;re++){var oe=m[re];Q[oe]=q?q[oe]:1}O.subdata(Q)}for(var Y=N.length;Y--;){var G=p(N[Y],2),V=G[0],Z=G[1];k.push(x({},E,{markerTexture:this.markerTextures[i],activation:m?O:I[i],offset:V,count:Z-V}))}return k},y.prototype.update=function(){for(var i=this,E=arguments.length,m=new Array(E),F=0;F<E;F++)m[F]=arguments[F];if(m.length){m.length===1&&Array.isArray(m[0])&&(m=m[0]);var _=this.groups,B=this.gl,I=this.regl,O=this.maxSize,z=this.maxColors,k=this.palette;this.groups=_=m.map(function(N,K){var q=_[K];if(N===void 0)return q;N===null?N={positions:null}:typeof N=="function"?N={ondraw:N}:typeof N[0]=="number"&&(N={positions:N}),N=T(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),N.positions===null&&(N.positions=[]),N.tooManyColors!=null&&(i.tooManyColors=N.tooManyColors),q||(_[K]=q={id:K,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:I.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=x({},y.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=q.marker,delete q.marker),N.marker&&!("positions"in N)&&(N.positions=q.positions,delete q.positions);var Q=0,re=0;if(f(q,N,[{snap:!0,size:function(be,_e){return be==null&&(be=y.defaults.size),Q+=be&&be.length?1:0,be},borderSize:function(be,_e){return be==null&&(be=y.defaults.borderSize),Q+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,_e){return be==null&&(be=y.defaults.color),be=i.updateColor(be),re++,be},borderColor:function(be,_e){return be==null&&(be=y.defaults.borderColor),be=i.updateColor(be),re++,be},bounds:function(be,_e,Ve){return"range"in Ve||(Ve.range=null),be},positions:function(be,_e,Ve){var We=_e.snap,ze=_e.positionBuffer,Ze=_e.positionFractBuffer,ct=_e.selectionBuffer;if(be.x||be.y)return be.x.length?_e.xAttr={buffer:I.buffer(be.x),offset:0,stride:4,count:be.x.length}:_e.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?_e.yAttr={buffer:I.buffer(be.y),offset:0,stride:4,count:be.y.length}:_e.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},_e.count=Math.max(_e.xAttr.count,_e.yAttr.count),be;be=s(be,"float64");var lt=_e.count=Math.floor(be.length/2),at=_e.bounds=lt?l(be,2):null;if(!Ve.range&&!_e.range&&(delete _e.range,Ve.range=at),!Ve.marker&&!_e.marker&&(delete _e.marker,Ve.marker=null),We&&(We===!0||lt>We)?_e.tree=n(be,{bounds:at}):We&&We.length&&(_e.tree=We),_e.tree){var tt={primitive:"points",usage:"static",data:_e.tree,type:"uint32"};_e.elements?_e.elements(tt):_e.elements=I.elements(tt)}var dt=S.float32(be);ze({data:dt,usage:"dynamic"});var wt=S.fract32(be,dt);return Ze({data:wt,usage:"dynamic"}),ct({data:new Uint8Array(lt),type:"uint8",usage:"stream"}),be}},{marker:function(be,_e,Ve){var We=_e.activation;if(We.forEach(function(wt){return wt&&wt.destroy&&wt.destroy()}),We.length=0,!be||typeof be[0]=="number"){var ze=i.addMarker(be);We[ze]=!0}else{for(var Ze=[],ct=0,lt=Math.min(be.length,_e.count);ct<lt;ct++){var at=i.addMarker(be[ct]);Ze[at]||(Ze[at]=new Uint8Array(_e.count)),Ze[at][ct]=1}for(var tt=0;tt<Ze.length;tt++)if(Ze[tt]){var dt={data:Ze[tt],type:"uint8",usage:"static"};We[tt]?We[tt](dt):We[tt]=I.buffer(dt),We[tt].data=Ze[tt]}}return be},range:function(be,_e,Ve){var We=_e.bounds;if(We)return be||(be=We),_e.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],_e.translate=[-be[0],-be[1]],_e.scaleFract=S.fract(_e.scale),_e.translateFract=S.fract(_e.translate),be},viewport:function(be){var _e=M(be||[B.drawingBufferWidth,B.drawingBufferHeight]);return _e}}]),Q){var oe=q,Y=oe.count,G=oe.size,V=oe.borderSize,Z=oe.sizeBuffer,ae=new Uint8Array(Y*2);if(G.length||V.length)for(var ie=0;ie<Y;ie++)ae[ie*2]=Math.round((G[ie]==null?G:G[ie])*255/O),ae[ie*2+1]=Math.round((V[ie]==null?V:V[ie])*255/O);Z({data:ae,usage:"dynamic"})}if(re){var J=q,$=J.count,se=J.color,ee=J.borderColor,ue=J.colorBuffer,ge;if(i.tooManyColors){if(se.length||ee.length){ge=new Uint8Array($*8);for(var Te=0;Te<$;Te++){var xe=se[Te];ge[Te*8]=k[xe*4],ge[Te*8+1]=k[xe*4+1],ge[Te*8+2]=k[xe*4+2],ge[Te*8+3]=k[xe*4+3];var Pe=ee[Te];ge[Te*8+4]=k[Pe*4],ge[Te*8+5]=k[Pe*4+1],ge[Te*8+6]=k[Pe*4+2],ge[Te*8+7]=k[Pe*4+3]}}}else if(se.length||ee.length){ge=new Uint8Array($*4+2);for(var Ie=0;Ie<$;Ie++)se[Ie]!=null&&(ge[Ie*4]=se[Ie]%z,ge[Ie*4+1]=Math.floor(se[Ie]/z)),ee[Ie]!=null&&(ge[Ie*4+2]=ee[Ie]%z,ge[Ie*4+3]=Math.floor(ee[Ie]/z))}ue({data:ge||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},y.prototype.addMarker=function(i){var E=this.markerTextures,m=this.regl,F=this.markerCache,_=i==null?0:F.indexOf(i);if(_>=0)return _;var B;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)B=i;else{B=new Uint8Array(i.length);for(var I=0,O=i.length;I<O;I++)B[I]=i[I]*255}var z=Math.floor(Math.sqrt(B.length));return _=E.length,F.push(i),E.push(m.texture({channels:1,data:B,radius:z,mag:"linear",min:"linear"})),_},y.prototype.updateColor=function(i){var E=this.paletteIds,m=this.palette,F=this.maxColors;Array.isArray(i)||(i=[i]);var _=[];if(typeof i[0]=="number"){var B=[];if(Array.isArray(i))for(var I=0;I<i.length;I+=4)B.push(i.slice(I,I+4));else for(var O=0;O<i.length;O+=4)B.push(i.subarray(O,O+4));i=B}for(var z=0;z<i.length;z++){var k=i[z];k=o(k,"uint8");var N=c(k,!1);if(E[N]==null){var K=m.length;E[N]=Math.floor(K/4),m[K]=k[0],m[K+1]=k[1],m[K+2]=k[2],m[K+3]=k[3]}_[z]=E[N]}return!this.tooManyColors&&m.length>F*4&&(this.tooManyColors=!0),this.updatePalette(m),_.length===1?_[0]:_},y.prototype.updatePalette=function(i){if(!this.tooManyColors){var E=this.maxColors,m=this.paletteTexture,F=Math.ceil(i.length*.25/E);if(F>1){i=i.slice();for(var _=i.length*.25%E;_<F*E;_++)i.push(0,0,0,0)}m.height<F&&m.resize(E,F),m.subimage({width:Math.min(i.length*.25,E),height:F,data:i},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var w=e(56131),b=function(E,m){var F=new C(E,m),_=F.render.bind(F);return w(_,{render:_,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),_};W.exports=b},60487:function(W,U,e){var p=e(11870),L=e(71299),a=e(21527),P=e(5877),A=e(57471),v=e(18863),g=e(30120);W.exports=t;function t(l,c){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=p(l),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var l=this,c,n=[],x=arguments.length;x--;)n[x]=arguments[x];return n.length&&(c=this).update.apply(c,n),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=P(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,P(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var l,c=[],n=arguments.length;n--;)c[n]=arguments[n];if(c.length){for(var x=0;x<c.length;x++)this.updateItem(x,c[x]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,f=0;f<this.traces.length;f++){for(var s=this.traces[f],d=this.traces[f].passes,S=0;S<d.length;S++)h.push(this.passes[d[S]]);s.passOffset=T,T+=s.passes.length}return(l=this.scatter).update.apply(l,h),this}},t.prototype.updateItem=function(l,c){var n=this,x=n.regl;if(c===null)return this.traces[l]=null,this;if(!c)return this;var h=L(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([x._gl.drawingBufferWidth,x._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(g(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var f=0;f<T.columns;f++)T.bounds[f]=a(h.data[f],1)}var s;h.range&&(T.range=h.range,s=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(o),d=!0):T.padding=o(h.padding));var S=T.columns,M=T.count,C=T.viewport.width,y=T.viewport.height,w=T.viewport.x,b=T.viewport.y,i=C/S,E=y/S;T.passes=[];for(var m=0;m<S;m++)for(var F=0;F<S;F++)if(!(!T.diagonal&&F===m)&&!(!T.upper&&m>F)&&!(!T.lower&&m<F)){var _=r(T.id,m,F),B=this.passes[_]||(this.passes[_]={});if(h.data&&(h.transpose?B.positions={x:{buffer:T.buffer,offset:F,count:M,stride:S},y:{buffer:T.buffer,offset:m,count:M,stride:S}}:B.positions={x:{buffer:T.buffer,offset:F*M,count:M},y:{buffer:T.buffer,offset:m*M,count:M}},B.bounds=u(T.bounds,m,F)),h.domain||h.viewport||h.data){var I=d?u(T.padding,m,F):T.padding;if(T.domain){var O=u(T.domain,m,F),z=O[0],k=O[1],N=O[2],K=O[3];B.viewport=[w+z*C+I[0],b+k*y+I[1],w+N*C-I[2],b+K*y-I[3]]}else B.viewport=[w+F*i+i*I[0],b+m*E+E*I[1],w+(F+1)*i-i*I[2],b+(m+1)*E-E*I[3]]}h.color&&(B.color=T.color),h.size&&(B.size=T.size),h.marker&&(B.marker=T.marker),h.borderSize&&(B.borderSize=T.borderSize),h.borderColor&&(B.borderColor=T.borderColor),h.opacity&&(B.opacity=T.opacity),h.range&&(B.range=s?u(T.range,m,F):T.range||B.bounds),T.passes.push(_)}return this},t.prototype.draw=function(){for(var l,c=[],n=arguments.length;n--;)c[n]=arguments[n];if(!c.length)this.scatter.draw();else{for(var x=[],h=0;h<c.length;h++)if(typeof c[h]=="number"){var T=this.traces[c[h]],f=T.passes,s=T.passOffset;x.push.apply(x,A(s,s+f.length))}else if(c[h].length){var d=c[h],S=this.traces[h],M=S.passes,C=S.passOffset;M=M.map(function(y,w){x[C+w]=d})}(l=this.scatter).draw.apply(l,x)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(l,c,n){var x=l.id!=null?l.id:l,h=c,T=n,f=x<<16|(h&255)<<8|T&255;return f}function u(l,c,n){var x,h,T,f,s=l[c],d=l[n];return s.length>2?(s[0],s[2],x=s[1],h=s[3]):s.length?(x=s[0],h=s[1]):(s.x,x=s.y,s.x+s.width,h=s.y+s.height),d.length>2?(T=d[0],f=d[2],d[1],d[3]):d.length?(T=d[0],f=d[1]):(T=d.x,d.y,f=d.x+d.width,d.y+d.height),[T,x,f,h]}function o(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var c=v(l);return[c.x,c.y,c.x+c.width,c.y+c.height]}},98580:function(W){(function(U,e){W.exports=e()})(this,function(){function U(At,or){this.id=ue++,this.type=At,this.data=or}function e(At){if(At.length===0)return[];var or=At.charAt(0),rr=At.charAt(At.length-1);if(1<At.length&&or===rr&&(or==='"'||or==="'"))return['"'+At.substr(1,At.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(or=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(At))return e(At.substr(0,or.index)).concat(e(or[1])).concat(e(At.substr(or.index+or[0].length)));if(or=At.split("."),or.length===1)return['"'+At.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(At=[],rr=0;rr<or.length;++rr)At=At.concat(e(or[rr]));return At}function p(At){return"["+e(At).join("][")+"]"}function L(At,or){if(typeof At=="function")return new U(0,At);if(typeof At=="number"||typeof At=="boolean")return new U(5,At);if(Array.isArray(At))return new U(6,At.map(function(rr,Lr){return L(rr)}));if(At instanceof U)return At}function a(){var At={"":0},or=[""];return{id:function(rr){var Lr=At[rr];return Lr||(Lr=At[rr]=or.length,or.push(rr),Lr)},str:function(rr){return or[rr]}}}function P(At,or,rr){function Lr(){var st=window.innerWidth,yt=window.innerHeight;At!==document.body&&(yt=Tr.getBoundingClientRect(),st=yt.right-yt.left,yt=yt.bottom-yt.top),Tr.width=rr*st,Tr.height=rr*yt}var Tr=document.createElement("canvas");ee(Tr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),At.appendChild(Tr),At===document.body&&(Tr.style.position="absolute",ee(At.style,{margin:0,padding:0}));var pt;return At!==document.body&&typeof ResizeObserver=="function"?(pt=new ResizeObserver(function(){setTimeout(Lr)}),pt.observe(At)):window.addEventListener("resize",Lr,!1),Lr(),{canvas:Tr,onDestroy:function(){pt?pt.disconnect():window.removeEventListener("resize",Lr),At.removeChild(Tr)}}}function A(At,or){function rr(Lr){try{return At.getContext(Lr,or)}catch{return null}}return rr("webgl")||rr("experimental-webgl")||rr("webgl-experimental")}function v(At){return typeof At=="string"?At.split():At}function g(At){return typeof At=="string"?document.querySelector(At):At}function t(At){var or=At||{},rr,Lr,Tr,pt;At={};var st=[],yt=[],Pt=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Nt={},Zt=function(lr){},$t=function(){};if(typeof or=="string"?rr=document.querySelector(or):typeof or=="object"&&(typeof or.nodeName=="string"&&typeof or.appendChild=="function"&&typeof or.getBoundingClientRect=="function"?rr=or:typeof or.drawArrays=="function"||typeof or.drawElements=="function"?(pt=or,Tr=pt.canvas):("gl"in or?pt=or.gl:"canvas"in or?Tr=g(or.canvas):"container"in or&&(Lr=g(or.container)),"attributes"in or&&(At=or.attributes),"extensions"in or&&(st=v(or.extensions)),"optionalExtensions"in or&&(yt=v(or.optionalExtensions)),"onDone"in or&&(Zt=or.onDone),"profile"in or&&(Dt=!!or.profile),"pixelRatio"in or&&(Pt=+or.pixelRatio),"cachedCode"in or&&(Nt=or.cachedCode))),rr&&(rr.nodeName.toLowerCase()==="canvas"?Tr=rr:Lr=rr),!pt){if(!Tr){if(rr=P(Lr||document.body,Zt,Pt),!rr)return null;Tr=rr.canvas,$t=rr.onDestroy}At.premultipliedAlpha===void 0&&(At.premultipliedAlpha=!0),pt=A(Tr,At)}return pt?{gl:pt,canvas:Tr,container:Lr,extensions:st,optionalExtensions:yt,pixelRatio:Pt,profile:Dt,cachedCode:Nt,onDone:Zt,onDestroy:$t}:($t(),Zt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(At,or){function rr(st){st=st.toLowerCase();var yt;try{yt=Lr[st]=At.getExtension(st)}catch{}return!!yt}for(var Lr={},Tr=0;Tr<or.extensions.length;++Tr){var pt=or.extensions[Tr];if(!rr(pt))return or.onDestroy(),or.onDone('"'+pt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return or.optionalExtensions.forEach(rr),{extensions:Lr,restore:function(){Object.keys(Lr).forEach(function(st){if(Lr[st]&&!rr(st))throw Error("(regl): error restoring extension "+st)})}}}function u(At,or){for(var rr=Array(At),Lr=0;Lr<At;++Lr)rr[Lr]=or(Lr);return rr}function o(At){var or,rr;return or=(65535<At)<<4,At>>>=or,rr=(255<At)<<3,At>>>=rr,or|=rr,rr=(15<At)<<2,At>>>=rr,or|=rr,rr=(3<At)<<1,or|rr|At>>>rr>>1}function l(){function At(Lr){e:{for(var Tr=16;268435456>=Tr;Tr*=16)if(Lr<=Tr){Lr=Tr;break e}Lr=0}return Tr=rr[o(Lr)>>2],0<Tr.length?Tr.pop():new ArrayBuffer(Lr)}function or(Lr){rr[o(Lr.byteLength)>>2].push(Lr)}var rr=u(8,function(){return[]});return{alloc:At,free:or,allocType:function(Lr,Tr){var pt=null;switch(Lr){case 5120:pt=new Int8Array(At(Tr),0,Tr);break;case 5121:pt=new Uint8Array(At(Tr),0,Tr);break;case 5122:pt=new Int16Array(At(2*Tr),0,Tr);break;case 5123:pt=new Uint16Array(At(2*Tr),0,Tr);break;case 5124:pt=new Int32Array(At(4*Tr),0,Tr);break;case 5125:pt=new Uint32Array(At(4*Tr),0,Tr);break;case 5126:pt=new Float32Array(At(4*Tr),0,Tr);break;default:return null}return pt.length!==Tr?pt.subarray(0,Tr):pt},freeType:function(Lr){or(Lr.buffer)}}}function c(At){return!!At&&typeof At=="object"&&Array.isArray(At.shape)&&Array.isArray(At.stride)&&typeof At.offset=="number"&&At.shape.length===At.stride.length&&(Array.isArray(At.data)||Ae(At.data))}function n(At,or,rr,Lr,Tr,pt){for(var st=0;st<or;++st)for(var yt=At[st],Pt=0;Pt<rr;++Pt)for(var Dt=yt[Pt],Nt=0;Nt<Lr;++Nt)Tr[pt++]=Dt[Nt]}function x(At,or,rr,Lr,Tr){for(var pt=1,st=rr+1;st<or.length;++st)pt*=or[st];var yt=or[rr];if(or.length-rr===4){var Pt=or[rr+1],Dt=or[rr+2];for(or=or[rr+3],st=0;st<yt;++st)n(At[st],Pt,Dt,or,Lr,Tr),Tr+=pt}else for(st=0;st<yt;++st)x(At[st],or,rr+1,Lr,Tr),Tr+=pt}function h(At){return Ve[Object.prototype.toString.call(At)]|0}function T(At,or){for(var rr=0;rr<or.length;++rr)At[rr]=or[rr]}function f(At,or,rr,Lr,Tr,pt,st){for(var yt=0,Pt=0;Pt<rr;++Pt)for(var Dt=0;Dt<Lr;++Dt)At[yt++]=or[Tr*Pt+pt*Dt+st]}function s(At,or,rr,Lr){function Tr(Zt){this.id=Pt++,this.buffer=At.createBuffer(),this.type=Zt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,rr.profile&&(this.stats={size:0})}function pt(Zt,$t,lr){Zt.byteLength=$t.byteLength,At.bufferData(Zt.type,$t,lr)}function st(Zt,$t,lr,ir,He,Ge){if(Zt.usage=lr,Array.isArray($t)){if(Zt.dtype=ir||5126,0<$t.length)if(Array.isArray($t[0])){He=ct($t);for(var Ct=ir=1;Ct<He.length;++Ct)ir*=He[Ct];Zt.dimension=ir,$t=Ze($t,He,Zt.dtype),pt(Zt,$t,lr),Ge?Zt.persistentData=$t:Pe.freeType($t)}else typeof $t[0]=="number"?(Zt.dimension=He,He=Pe.allocType(Zt.dtype,$t.length),T(He,$t),pt(Zt,He,lr),Ge?Zt.persistentData=He:Pe.freeType(He)):Ae($t[0])&&(Zt.dimension=$t[0].length,Zt.dtype=ir||h($t[0])||5126,$t=Ze($t,[$t.length,$t[0].length],Zt.dtype),pt(Zt,$t,lr),Ge?Zt.persistentData=$t:Pe.freeType($t))}else if(Ae($t))Zt.dtype=ir||h($t),Zt.dimension=He,pt(Zt,$t,lr),Ge&&(Zt.persistentData=new Uint8Array(new Uint8Array($t.buffer)));else if(c($t)){He=$t.shape;var Ut=$t.stride,Ct=$t.offset,Kt=0,Xt=0,ur=0,Ar=0;He.length===1?(Kt=He[0],Xt=1,ur=Ut[0],Ar=0):He.length===2&&(Kt=He[0],Xt=He[1],ur=Ut[0],Ar=Ut[1]),Zt.dtype=ir||h($t.data)||5126,Zt.dimension=Xt,He=Pe.allocType(Zt.dtype,Kt*Xt),f(He,$t.data,Kt,Xt,ur,Ar,Ct),pt(Zt,He,lr),Ge?Zt.persistentData=He:Pe.freeType(He)}else $t instanceof ArrayBuffer&&(Zt.dtype=5121,Zt.dimension=He,pt(Zt,$t,lr),Ge&&(Zt.persistentData=new Uint8Array(new Uint8Array($t))))}function yt(Zt){or.bufferCount--,Lr(Zt),At.deleteBuffer(Zt.buffer),Zt.buffer=null,delete Dt[Zt.id]}var Pt=0,Dt={};Tr.prototype.bind=function(){At.bindBuffer(this.type,this.buffer)},Tr.prototype.destroy=function(){yt(this)};var Nt=[];return rr.profile&&(or.getTotalBufferSize=function(){var Zt=0;return Object.keys(Dt).forEach(function($t){Zt+=Dt[$t].stats.size}),Zt}),{create:function(Zt,$t,lr,ir){function He(Ct){var Ut=35044,Kt=null,Xt=0,ur=0,Ar=1;return Array.isArray(Ct)||Ae(Ct)||c(Ct)||Ct instanceof ArrayBuffer?Kt=Ct:typeof Ct=="number"?Xt=Ct|0:Ct&&("data"in Ct&&(Kt=Ct.data),"usage"in Ct&&(Ut=ze[Ct.usage]),"type"in Ct&&(ur=We[Ct.type]),"dimension"in Ct&&(Ar=Ct.dimension|0),"length"in Ct&&(Xt=Ct.length|0)),Ge.bind(),Kt?st(Ge,Kt,Ut,ur,Ar,ir):(Xt&&At.bufferData(Ge.type,Xt,Ut),Ge.dtype=ur||5121,Ge.usage=Ut,Ge.dimension=Ar,Ge.byteLength=Xt),rr.profile&&(Ge.stats.size=Ge.byteLength*lt[Ge.dtype]),He}or.bufferCount++;var Ge=new Tr($t);return Dt[Ge.id]=Ge,lr||He(Zt),He._reglType="buffer",He._buffer=Ge,He.subdata=function(Ct,Ut){var Kt=(Ut||0)|0,Xt;if(Ge.bind(),Ae(Ct)||Ct instanceof ArrayBuffer)At.bufferSubData(Ge.type,Kt,Ct);else if(Array.isArray(Ct)){if(0<Ct.length)if(typeof Ct[0]=="number"){var ur=Pe.allocType(Ge.dtype,Ct.length);T(ur,Ct),At.bufferSubData(Ge.type,Kt,ur),Pe.freeType(ur)}else(Array.isArray(Ct[0])||Ae(Ct[0]))&&(Xt=ct(Ct),ur=Ze(Ct,Xt,Ge.dtype),At.bufferSubData(Ge.type,Kt,ur),Pe.freeType(ur))}else if(c(Ct)){Xt=Ct.shape;var Ar=Ct.stride,Rr=ur=0,wr=0,er=0;Xt.length===1?(ur=Xt[0],Rr=1,wr=Ar[0],er=0):Xt.length===2&&(ur=Xt[0],Rr=Xt[1],wr=Ar[0],er=Ar[1]),Xt=Array.isArray(Ct.data)?Ge.dtype:h(Ct.data),Xt=Pe.allocType(Xt,ur*Rr),f(Xt,Ct.data,ur,Rr,wr,er,Ct.offset),At.bufferSubData(Ge.type,Kt,Xt),Pe.freeType(Xt)}return He},rr.profile&&(He.stats=Ge.stats),He.destroy=function(){yt(Ge)},He},createStream:function(Zt,$t){var lr=Nt.pop();return lr||(lr=new Tr(Zt)),lr.bind(),st(lr,$t,35040,0,1,!1),lr},destroyStream:function(Zt){Nt.push(Zt)},clear:function(){be(Dt).forEach(yt),Nt.forEach(yt)},getBuffer:function(Zt){return Zt&&Zt._buffer instanceof Tr?Zt._buffer:null},restore:function(){be(Dt).forEach(function(Zt){Zt.buffer=At.createBuffer(),At.bindBuffer(Zt.type,Zt.buffer),At.bufferData(Zt.type,Zt.persistentData||Zt.byteLength,Zt.usage)})},_initBuffer:st}}function d(At,or,rr,Lr){function Tr(Zt){this.id=Pt++,yt[this.id]=this,this.buffer=Zt,this.primType=4,this.type=this.vertCount=0}function pt(Zt,$t,lr,ir,He,Ge,Ct){Zt.buffer.bind();var Ut;if($t?((Ut=Ct)||Ae($t)&&(!c($t)||Ae($t.data))||(Ut=or.oes_element_index_uint?5125:5123),rr._initBuffer(Zt.buffer,$t,lr,Ut,3)):(At.bufferData(34963,Ge,lr),Zt.buffer.dtype=Ut||5121,Zt.buffer.usage=lr,Zt.buffer.dimension=3,Zt.buffer.byteLength=Ge),Ut=Ct,!Ct){switch(Zt.buffer.dtype){case 5121:case 5120:Ut=5121;break;case 5123:case 5122:Ut=5123;break;case 5125:case 5124:Ut=5125}Zt.buffer.dtype=Ut}Zt.type=Ut,$t=He,0>$t&&($t=Zt.buffer.byteLength,Ut===5123?$t>>=1:Ut===5125&&($t>>=2)),Zt.vertCount=$t,$t=ir,0>ir&&($t=4,ir=Zt.buffer.dimension,ir===1&&($t=0),ir===2&&($t=1),ir===3&&($t=4)),Zt.primType=$t}function st(Zt){Lr.elementsCount--,delete yt[Zt.id],Zt.buffer.destroy(),Zt.buffer=null}var yt={},Pt=0,Dt={uint8:5121,uint16:5123};or.oes_element_index_uint&&(Dt.uint32=5125),Tr.prototype.bind=function(){this.buffer.bind()};var Nt=[];return{create:function(Zt,$t){function lr(Ge){if(Ge)if(typeof Ge=="number")ir(Ge),He.primType=4,He.vertCount=Ge|0,He.type=5121;else{var Ct=null,Ut=35044,Kt=-1,Xt=-1,ur=0,Ar=0;Array.isArray(Ge)||Ae(Ge)||c(Ge)?Ct=Ge:("data"in Ge&&(Ct=Ge.data),"usage"in Ge&&(Ut=ze[Ge.usage]),"primitive"in Ge&&(Kt=at[Ge.primitive]),"count"in Ge&&(Xt=Ge.count|0),"type"in Ge&&(Ar=Dt[Ge.type]),"length"in Ge?ur=Ge.length|0:(ur=Xt,Ar===5123||Ar===5122?ur*=2:(Ar===5125||Ar===5124)&&(ur*=4))),pt(He,Ct,Ut,Kt,Xt,ur,Ar)}else ir(),He.primType=4,He.vertCount=0,He.type=5121;return lr}var ir=rr.create(null,34963,!0),He=new Tr(ir._buffer);return Lr.elementsCount++,lr(Zt),lr._reglType="elements",lr._elements=He,lr.subdata=function(Ge,Ct){return ir.subdata(Ge,Ct),lr},lr.destroy=function(){st(He)},lr},createStream:function(Zt){var $t=Nt.pop();return $t||($t=new Tr(rr.create(null,34963,!0,!1)._buffer)),pt($t,Zt,35040,-1,-1,0,0),$t},destroyStream:function(Zt){Nt.push(Zt)},getElements:function(Zt){return typeof Zt=="function"&&Zt._elements instanceof Tr?Zt._elements:null},clear:function(){be(yt).forEach(st)}}}function S(At){for(var or=Pe.allocType(5123,At.length),rr=0;rr<At.length;++rr)if(isNaN(At[rr]))or[rr]=65535;else if(At[rr]===1/0)or[rr]=31744;else if(At[rr]===-1/0)or[rr]=64512;else{tt[0]=At[rr];var pt=dt[0],Lr=pt>>>31<<15,Tr=(pt<<1>>>24)-127,pt=pt>>13&1023;or[rr]=-24>Tr?Lr:-14>Tr?Lr+(pt+1024>>-14-Tr):15<Tr?Lr+31744:Lr+(Tr+15<<10)+pt}return or}function M(At){return Array.isArray(At)||Ae(At)}function C(At){return"[object "+At+"]"}function y(At){return Array.isArray(At)&&(At.length===0||typeof At[0]=="number")}function w(At){return!!(Array.isArray(At)&&At.length!==0&&M(At[0]))}function b(At){return Object.prototype.toString.call(At)}function i(At){if(!At)return!1;var or=b(At);return 0<=Re.indexOf(or)?!0:y(At)||w(At)||c(At)}function E(At,or){At.type===36193?(At.data=S(or),Pe.freeType(or)):At.data=or}function m(At,or,rr,Lr,Tr,pt){if(At=typeof fe[At]<"u"?fe[At]:It[At]*Me[or],pt&&(At*=6),Tr){for(Lr=0;1<=rr;)Lr+=At*rr*rr,rr/=2;return Lr}return At*rr*Lr}function F(At,or,rr,Lr,Tr,pt,st){function yt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Pt(Or,cn){Or.internalformat=cn.internalformat,Or.format=cn.format,Or.type=cn.type,Or.compressed=cn.compressed,Or.premultiplyAlpha=cn.premultiplyAlpha,Or.flipY=cn.flipY,Or.unpackAlignment=cn.unpackAlignment,Or.colorSpace=cn.colorSpace,Or.width=cn.width,Or.height=cn.height,Or.channels=cn.channels}function Dt(Or,cn){if(typeof cn=="object"&&cn){"premultiplyAlpha"in cn&&(Or.premultiplyAlpha=cn.premultiplyAlpha),"flipY"in cn&&(Or.flipY=cn.flipY),"alignment"in cn&&(Or.unpackAlignment=cn.alignment),"colorSpace"in cn&&(Or.colorSpace=Nn[cn.colorSpace]),"type"in cn&&(Or.type=fn[cn.type]);var vn=Or.width,Cn=Or.height,Wn=Or.channels,Fn=!1;"shape"in cn?(vn=cn.shape[0],Cn=cn.shape[1],cn.shape.length===3&&(Wn=cn.shape[2],Fn=!0)):("radius"in cn&&(vn=Cn=cn.radius),"width"in cn&&(vn=cn.width),"height"in cn&&(Cn=cn.height),"channels"in cn&&(Wn=cn.channels,Fn=!0)),Or.width=vn|0,Or.height=Cn|0,Or.channels=Wn|0,vn=!1,"format"in cn&&(vn=cn.format,Cn=Or.internalformat=xn[vn],Or.format=Rn[Cn],vn in fn&&!("type"in cn)&&(Or.type=fn[vn]),vn in On&&(Or.compressed=!0),vn=!0),!Fn&&vn?Or.channels=It[Or.format]:Fn&&!vn&&Or.channels!==Mt[Or.format]&&(Or.format=Or.internalformat=Mt[Or.channels])}}function Nt(Or){At.pixelStorei(37440,Or.flipY),At.pixelStorei(37441,Or.premultiplyAlpha),At.pixelStorei(37443,Or.colorSpace),At.pixelStorei(3317,Or.unpackAlignment)}function Zt(){yt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function $t(Or,cn){var vn=null;if(i(cn)?vn=cn:cn&&(Dt(Or,cn),"x"in cn&&(Or.xOffset=cn.x|0),"y"in cn&&(Or.yOffset=cn.y|0),i(cn.data)&&(vn=cn.data)),cn.copy){var Cn=Tr.viewportWidth,Wn=Tr.viewportHeight;Or.width=Or.width||Cn-Or.xOffset,Or.height=Or.height||Wn-Or.yOffset,Or.needsCopy=!0}else if(!vn)Or.width=Or.width||1,Or.height=Or.height||1,Or.channels=Or.channels||4;else if(Ae(vn))Or.channels=Or.channels||4,Or.data=vn,"type"in cn||Or.type!==5121||(Or.type=Ve[Object.prototype.toString.call(vn)]|0);else if(y(vn)){switch(Or.channels=Or.channels||4,Cn=vn,Wn=Cn.length,Or.type){case 5121:case 5123:case 5125:case 5126:Wn=Pe.allocType(Or.type,Wn),Wn.set(Cn),Or.data=Wn;break;case 36193:Or.data=S(Cn)}Or.alignment=1,Or.needsFree=!0}else if(c(vn)){Cn=vn.data,Array.isArray(Cn)||Or.type!==5121||(Or.type=Ve[Object.prototype.toString.call(Cn)]|0);var Wn=vn.shape,Fn=vn.stride,Hn,Xn,sa,ka;Wn.length===3?(sa=Wn[2],ka=Fn[2]):ka=sa=1,Hn=Wn[0],Xn=Wn[1],Wn=Fn[0],Fn=Fn[1],Or.alignment=1,Or.width=Hn,Or.height=Xn,Or.channels=sa,Or.format=Or.internalformat=Mt[sa],Or.needsFree=!0,Hn=ka,vn=vn.offset,sa=Or.width,ka=Or.height,Xn=Or.channels;for(var oi=Pe.allocType(Or.type===36193?5126:Or.type,sa*ka*Xn),ar=0,me=0;me<ka;++me)for(var Ue=0;Ue<sa;++Ue)for(var et=0;et<Xn;++et)oi[ar++]=Cn[Wn*Ue+Fn*me+Hn*et+vn];E(Or,oi)}else if(b(vn)===$e||b(vn)===ke||b(vn)===Fe)b(vn)===$e||b(vn)===ke?Or.element=vn:Or.element=vn.canvas,Or.width=Or.element.width,Or.height=Or.element.height,Or.channels=4;else if(b(vn)===qe)Or.element=vn,Or.width=vn.width,Or.height=vn.height,Or.channels=4;else if(b(vn)===it)Or.element=vn,Or.width=vn.naturalWidth,Or.height=vn.naturalHeight,Or.channels=4;else if(b(vn)===Je)Or.element=vn,Or.width=vn.videoWidth,Or.height=vn.videoHeight,Or.channels=4;else if(w(vn)){for(Cn=Or.width||vn[0].length,Wn=Or.height||vn.length,Fn=Or.channels,Fn=M(vn[0][0])?Fn||vn[0][0].length:Fn||1,Hn=_e.shape(vn),sa=1,ka=0;ka<Hn.length;++ka)sa*=Hn[ka];sa=Pe.allocType(Or.type===36193?5126:Or.type,sa),_e.flatten(vn,Hn,"",sa),E(Or,sa),Or.alignment=1,Or.width=Cn,Or.height=Wn,Or.channels=Fn,Or.format=Or.internalformat=Mt[Fn],Or.needsFree=!0}}function lr(Or,cn,vn,Cn,Wn){var Fn=Or.element,Hn=Or.data,Xn=Or.internalformat,sa=Or.format,ka=Or.type,oi=Or.width,ar=Or.height;Nt(Or),Fn?At.texSubImage2D(cn,Wn,vn,Cn,sa,ka,Fn):Or.compressed?At.compressedTexSubImage2D(cn,Wn,vn,Cn,Xn,oi,ar,Hn):Or.needsCopy?(Lr(),At.copyTexSubImage2D(cn,Wn,vn,Cn,Or.xOffset,Or.yOffset,oi,ar)):At.texSubImage2D(cn,Wn,vn,Cn,oi,ar,sa,ka,Hn)}function ir(){return Gn.pop()||new Zt}function He(Or){Or.needsFree&&Pe.freeType(Or.data),Zt.call(Or),Gn.push(Or)}function Ge(){yt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ct(Or,cn,vn){var Cn=Or.images[0]=ir();Or.mipmask=1,Cn.width=Or.width=cn,Cn.height=Or.height=vn,Cn.channels=Or.channels=4}function Ut(Or,cn){var vn=null;if(i(cn))vn=Or.images[0]=ir(),Pt(vn,Or),$t(vn,cn),Or.mipmask=1;else if(Dt(Or,cn),Array.isArray(cn.mipmap))for(var Cn=cn.mipmap,Wn=0;Wn<Cn.length;++Wn)vn=Or.images[Wn]=ir(),Pt(vn,Or),vn.width>>=Wn,vn.height>>=Wn,$t(vn,Cn[Wn]),Or.mipmask|=1<<Wn;else vn=Or.images[0]=ir(),Pt(vn,Or),$t(vn,cn),Or.mipmask=1;Pt(Or,Or.images[0])}function Kt(Or,cn){for(var vn=Or.images,Cn=0;Cn<vn.length&&vn[Cn];++Cn){var Wn=vn[Cn],Fn=cn,Hn=Cn,Xn=Wn.element,sa=Wn.data,ka=Wn.internalformat,oi=Wn.format,ar=Wn.type,me=Wn.width,Ue=Wn.height;Nt(Wn),Xn?At.texImage2D(Fn,Hn,oi,oi,ar,Xn):Wn.compressed?At.compressedTexImage2D(Fn,Hn,ka,me,Ue,0,sa):Wn.needsCopy?(Lr(),At.copyTexImage2D(Fn,Hn,oi,Wn.xOffset,Wn.yOffset,me,Ue,0)):At.texImage2D(Fn,Hn,oi,me,Ue,0,oi,ar,sa||null)}}function Xt(){var Or=ma.pop()||new Ge;yt.call(Or);for(var cn=Or.mipmask=0;16>cn;++cn)Or.images[cn]=null;return Or}function ur(Or){for(var cn=Or.images,vn=0;vn<cn.length;++vn)cn[vn]&&He(cn[vn]),cn[vn]=null;ma.push(Or)}function Ar(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Rr(Or,cn){"min"in cn&&(Or.minFilter=Zr[cn.min],0<=wt.indexOf(Or.minFilter)&&!("faces"in cn)&&(Or.genMipmaps=!0)),"mag"in cn&&(Or.magFilter=an[cn.mag]);var vn=Or.wrapS,Cn=Or.wrapT;if("wrap"in cn){var Wn=cn.wrap;typeof Wn=="string"?vn=Cn=pn[Wn]:Array.isArray(Wn)&&(vn=pn[Wn[0]],Cn=pn[Wn[1]])}else"wrapS"in cn&&(vn=pn[cn.wrapS]),"wrapT"in cn&&(Cn=pn[cn.wrapT]);if(Or.wrapS=vn,Or.wrapT=Cn,"anisotropic"in cn&&(Or.anisotropic=cn.anisotropic),"mipmap"in cn){switch(vn=!1,typeof cn.mipmap){case"string":Or.mipmapHint=yr[cn.mipmap],vn=Or.genMipmaps=!0;break;case"boolean":vn=Or.genMipmaps=cn.mipmap;break;case"object":Or.genMipmaps=!1,vn=!0}!vn||"min"in cn||(Or.minFilter=9984)}}function wr(Or,cn){At.texParameteri(cn,10241,Or.minFilter),At.texParameteri(cn,10240,Or.magFilter),At.texParameteri(cn,10242,Or.wrapS),At.texParameteri(cn,10243,Or.wrapT),or.ext_texture_filter_anisotropic&&At.texParameteri(cn,34046,Or.anisotropic),Or.genMipmaps&&(At.hint(33170,Or.mipmapHint),At.generateMipmap(cn))}function er(Or){yt.call(this),this.mipmask=0,this.internalformat=6408,this.id=pa++,this.refCount=1,this.target=Or,this.texture=At.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ar,st.profile&&(this.stats={size:0})}function _r(Or){At.activeTexture(33984),At.bindTexture(Or.target,Or.texture)}function Vr(){var Or=ga[0];Or?At.bindTexture(Or.target,Or.texture):At.bindTexture(3553,null)}function Br(Or){var cn=Or.texture,vn=Or.unit,Cn=Or.target;0<=vn&&(At.activeTexture(33984+vn),At.bindTexture(Cn,null),ga[vn]=null),At.deleteTexture(cn),Or.texture=null,Or.params=null,Or.pixels=null,Or.refCount=0,delete ua[Or.id],pt.textureCount--}var yr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},pn={repeat:10497,clamp:33071,mirror:33648},an={nearest:9728,linear:9729},Zr=ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},an),Nn={none:0,browser:37444},fn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},xn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},On={};or.ext_srgb&&(xn.srgb=35904,xn.srgba=35906),or.oes_texture_float&&(fn.float32=fn.float=5126),or.oes_texture_half_float&&(fn.float16=fn["half float"]=36193),or.webgl_depth_texture&&(ee(xn,{depth:6402,"depth stencil":34041}),ee(fn,{uint16:5123,uint32:5125,"depth stencil":34042})),or.webgl_compressed_texture_s3tc&&ee(On,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),or.webgl_compressed_texture_atc&&ee(On,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),or.webgl_compressed_texture_pvrtc&&ee(On,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),or.webgl_compressed_texture_etc1&&(On["rgb etc1"]=36196);var br=Array.prototype.slice.call(At.getParameter(34467));Object.keys(On).forEach(function(Or){var cn=On[Or];0<=br.indexOf(cn)&&(xn[Or]=cn)});var Ir=Object.keys(xn);rr.textureFormats=Ir;var jr=[];Object.keys(xn).forEach(function(Or){jr[xn[Or]]=Or});var Wr=[];Object.keys(fn).forEach(function(Or){Wr[fn[Or]]=Or});var An=[];Object.keys(an).forEach(function(Or){An[an[Or]]=Or});var wn=[];Object.keys(Zr).forEach(function(Or){wn[Zr[Or]]=Or});var Tn=[];Object.keys(pn).forEach(function(Or){Tn[pn[Or]]=Or});var Rn=Ir.reduce(function(Or,cn){var vn=xn[cn];return vn===6409||vn===6406||vn===6409||vn===6410||vn===6402||vn===34041||or.ext_srgb&&(vn===35904||vn===35906)?Or[vn]=vn:vn===32855||0<=cn.indexOf("rgba")?Or[vn]=6408:Or[vn]=6407,Or},{}),Gn=[],ma=[],pa=0,ua={},xa=rr.maxTextureUnits,ga=Array(xa).map(function(){return null});return ee(er.prototype,{bind:function(){this.bindCount+=1;var Or=this.unit;if(0>Or){for(var cn=0;cn<xa;++cn){var vn=ga[cn];if(vn){if(0<vn.bindCount)continue;vn.unit=-1}ga[cn]=this,Or=cn;break}st.profile&&pt.maxTextureUnits<Or+1&&(pt.maxTextureUnits=Or+1),this.unit=Or,At.activeTexture(33984+Or),At.bindTexture(this.target,this.texture)}return Or},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Br(this)}}),st.profile&&(pt.getTotalTextureSize=function(){var Or=0;return Object.keys(ua).forEach(function(cn){Or+=ua[cn].stats.size}),Or}),{create2D:function(Or,cn){function vn(Wn,Fn){var Hn=Cn.texInfo;Ar.call(Hn);var Xn=Xt();return typeof Wn=="number"?typeof Fn=="number"?Ct(Xn,Wn|0,Fn|0):Ct(Xn,Wn|0,Wn|0):Wn?(Rr(Hn,Wn),Ut(Xn,Wn)):Ct(Xn,1,1),Hn.genMipmaps&&(Xn.mipmask=(Xn.width<<1)-1),Cn.mipmask=Xn.mipmask,Pt(Cn,Xn),Cn.internalformat=Xn.internalformat,vn.width=Xn.width,vn.height=Xn.height,_r(Cn),Kt(Xn,3553),wr(Hn,3553),Vr(),ur(Xn),st.profile&&(Cn.stats.size=m(Cn.internalformat,Cn.type,Xn.width,Xn.height,Hn.genMipmaps,!1)),vn.format=jr[Cn.internalformat],vn.type=Wr[Cn.type],vn.mag=An[Hn.magFilter],vn.min=wn[Hn.minFilter],vn.wrapS=Tn[Hn.wrapS],vn.wrapT=Tn[Hn.wrapT],vn}var Cn=new er(3553);return ua[Cn.id]=Cn,pt.textureCount++,vn(Or,cn),vn.subimage=function(Wn,Fn,Hn,Xn){Fn|=0,Hn|=0,Xn|=0;var sa=ir();return Pt(sa,Cn),sa.width=0,sa.height=0,$t(sa,Wn),sa.width=sa.width||(Cn.width>>Xn)-Fn,sa.height=sa.height||(Cn.height>>Xn)-Hn,_r(Cn),lr(sa,3553,Fn,Hn,Xn),Vr(),He(sa),vn},vn.resize=function(Wn,Fn){var Hn=Wn|0,Xn=Fn|0||Hn;if(Hn===Cn.width&&Xn===Cn.height)return vn;vn.width=Cn.width=Hn,vn.height=Cn.height=Xn,_r(Cn);for(var sa=0;Cn.mipmask>>sa;++sa){var ka=Hn>>sa,oi=Xn>>sa;if(!ka||!oi)break;At.texImage2D(3553,sa,Cn.format,ka,oi,0,Cn.format,Cn.type,null)}return Vr(),st.profile&&(Cn.stats.size=m(Cn.internalformat,Cn.type,Hn,Xn,!1,!1)),vn},vn._reglType="texture2d",vn._texture=Cn,st.profile&&(vn.stats=Cn.stats),vn.destroy=function(){Cn.decRef()},vn},createCube:function(Or,cn,vn,Cn,Wn,Fn){function Hn(ka,oi,ar,me,Ue,et){var ft,kt=Xn.texInfo;for(Ar.call(kt),ft=0;6>ft;++ft)sa[ft]=Xt();if(typeof ka=="number"||!ka)for(ka=ka|0||1,ft=0;6>ft;++ft)Ct(sa[ft],ka,ka);else if(typeof ka=="object")if(oi)Ut(sa[0],ka),Ut(sa[1],oi),Ut(sa[2],ar),Ut(sa[3],me),Ut(sa[4],Ue),Ut(sa[5],et);else if(Rr(kt,ka),Dt(Xn,ka),"faces"in ka)for(ka=ka.faces,ft=0;6>ft;++ft)Pt(sa[ft],Xn),Ut(sa[ft],ka[ft]);else for(ft=0;6>ft;++ft)Ut(sa[ft],ka);for(Pt(Xn,sa[0]),Xn.mipmask=kt.genMipmaps?(sa[0].width<<1)-1:sa[0].mipmask,Xn.internalformat=sa[0].internalformat,Hn.width=sa[0].width,Hn.height=sa[0].height,_r(Xn),ft=0;6>ft;++ft)Kt(sa[ft],34069+ft);for(wr(kt,34067),Vr(),st.profile&&(Xn.stats.size=m(Xn.internalformat,Xn.type,Hn.width,Hn.height,kt.genMipmaps,!0)),Hn.format=jr[Xn.internalformat],Hn.type=Wr[Xn.type],Hn.mag=An[kt.magFilter],Hn.min=wn[kt.minFilter],Hn.wrapS=Tn[kt.wrapS],Hn.wrapT=Tn[kt.wrapT],ft=0;6>ft;++ft)ur(sa[ft]);return Hn}var Xn=new er(34067);ua[Xn.id]=Xn,pt.cubeCount++;var sa=Array(6);return Hn(Or,cn,vn,Cn,Wn,Fn),Hn.subimage=function(ka,oi,ar,me,Ue){ar|=0,me|=0,Ue|=0;var et=ir();return Pt(et,Xn),et.width=0,et.height=0,$t(et,oi),et.width=et.width||(Xn.width>>Ue)-ar,et.height=et.height||(Xn.height>>Ue)-me,_r(Xn),lr(et,34069+ka,ar,me,Ue),Vr(),He(et),Hn},Hn.resize=function(ka){if(ka|=0,ka!==Xn.width){Hn.width=Xn.width=ka,Hn.height=Xn.height=ka,_r(Xn);for(var oi=0;6>oi;++oi)for(var ar=0;Xn.mipmask>>ar;++ar)At.texImage2D(34069+oi,ar,Xn.format,ka>>ar,ka>>ar,0,Xn.format,Xn.type,null);return Vr(),st.profile&&(Xn.stats.size=m(Xn.internalformat,Xn.type,Hn.width,Hn.height,!1,!0)),Hn}},Hn._reglType="textureCube",Hn._texture=Xn,st.profile&&(Hn.stats=Xn.stats),Hn.destroy=function(){Xn.decRef()},Hn},clear:function(){for(var Or=0;Or<xa;++Or)At.activeTexture(33984+Or),At.bindTexture(3553,null),ga[Or]=null;be(ua).forEach(Br),pt.cubeCount=0,pt.textureCount=0},getTexture:function(Or){return null},restore:function(){for(var Or=0;Or<xa;++Or){var cn=ga[Or];cn&&(cn.bindCount=0,cn.unit=-1,ga[Or]=null)}be(ua).forEach(function(vn){vn.texture=At.createTexture(),At.bindTexture(vn.target,vn.texture);for(var Cn=0;32>Cn;++Cn)if(vn.mipmask&1<<Cn)if(vn.target===3553)At.texImage2D(3553,Cn,vn.internalformat,vn.width>>Cn,vn.height>>Cn,0,vn.internalformat,vn.type,null);else for(var Wn=0;6>Wn;++Wn)At.texImage2D(34069+Wn,Cn,vn.internalformat,vn.width>>Cn,vn.height>>Cn,0,vn.internalformat,vn.type,null);wr(vn.texInfo,vn.target)})},refresh:function(){for(var Or=0;Or<xa;++Or){var cn=ga[Or];cn&&(cn.bindCount=0,cn.unit=-1,ga[Or]=null),At.activeTexture(33984+Or),At.bindTexture(3553,null),At.bindTexture(34067,null)}}}}function _(At,or,rr,Lr,Tr,pt){function st(er,_r,Vr){this.target=er,this.texture=_r,this.renderbuffer=Vr;var Br=er=0;_r?(er=_r.width,Br=_r.height):Vr&&(er=Vr.width,Br=Vr.height),this.width=er,this.height=Br}function yt(er){er&&(er.texture&&er.texture._texture.decRef(),er.renderbuffer&&er.renderbuffer._renderbuffer.decRef())}function Pt(er,_r,Vr){er&&(er.texture?er.texture._texture.refCount+=1:er.renderbuffer._renderbuffer.refCount+=1)}function Dt(er,_r){_r&&(_r.texture?At.framebufferTexture2D(36160,er,_r.target,_r.texture._texture.texture,0):At.framebufferRenderbuffer(36160,er,36161,_r.renderbuffer._renderbuffer.renderbuffer))}function Nt(er){var _r=3553,Vr=null,Br=null,yr=er;return typeof er=="object"&&(yr=er.data,"target"in er&&(_r=er.target|0)),er=yr._reglType,er==="texture2d"||er==="textureCube"?Vr=yr:er==="renderbuffer"&&(Br=yr,_r=36161),new st(_r,Vr,Br)}function Zt(er,_r,Vr,Br,yr){return Vr?(er=Lr.create2D({width:er,height:_r,format:Br,type:yr}),er._texture.refCount=0,new st(3553,er,null)):(er=Tr.create({width:er,height:_r,format:Br}),er._renderbuffer.refCount=0,new st(36161,null,er))}function $t(er){return er&&(er.texture||er.renderbuffer)}function lr(er,_r,Vr){er&&(er.texture?er.texture.resize(_r,Vr):er.renderbuffer&&er.renderbuffer.resize(_r,Vr),er.width=_r,er.height=Vr)}function ir(){this.id=Rr++,wr[this.id]=this,this.framebuffer=At.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function He(er){er.colorAttachments.forEach(yt),yt(er.depthAttachment),yt(er.stencilAttachment),yt(er.depthStencilAttachment)}function Ge(er){At.deleteFramebuffer(er.framebuffer),er.framebuffer=null,pt.framebufferCount--,delete wr[er.id]}function Ct(er){var _r;At.bindFramebuffer(36160,er.framebuffer);var Vr=er.colorAttachments;for(_r=0;_r<Vr.length;++_r)Dt(36064+_r,Vr[_r]);for(_r=Vr.length;_r<rr.maxColorAttachments;++_r)At.framebufferTexture2D(36160,36064+_r,3553,null,0);At.framebufferTexture2D(36160,33306,3553,null,0),At.framebufferTexture2D(36160,36096,3553,null,0),At.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,er.depthAttachment),Dt(36128,er.stencilAttachment),Dt(33306,er.depthStencilAttachment),At.checkFramebufferStatus(36160),At.isContextLost(),At.bindFramebuffer(36160,Kt.next?Kt.next.framebuffer:null),Kt.cur=Kt.next,At.getError()}function Ut(er,_r){function Vr(yr,pn){var an,Zr=0,Nn=0,fn=!0,xn=!0;an=null;var On=!0,br="rgba",Ir="uint8",jr=1,Wr=null,An=null,wn=null,Tn=!1;typeof yr=="number"?(Zr=yr|0,Nn=pn|0||Zr):yr?("shape"in yr?(Nn=yr.shape,Zr=Nn[0],Nn=Nn[1]):("radius"in yr&&(Zr=Nn=yr.radius),"width"in yr&&(Zr=yr.width),"height"in yr&&(Nn=yr.height)),("color"in yr||"colors"in yr)&&(an=yr.color||yr.colors),an||("colorCount"in yr&&(jr=yr.colorCount|0),"colorTexture"in yr&&(On=!!yr.colorTexture,br="rgba4"),"colorType"in yr&&(Ir=yr.colorType,!On)&&(Ir==="half float"||Ir==="float16"?br="rgba16f":(Ir==="float"||Ir==="float32")&&(br="rgba32f")),"colorFormat"in yr&&(br=yr.colorFormat,0<=Xt.indexOf(br)?On=!0:0<=ur.indexOf(br)&&(On=!1))),("depthTexture"in yr||"depthStencilTexture"in yr)&&(Tn=!(!yr.depthTexture&&!yr.depthStencilTexture)),"depth"in yr&&(typeof yr.depth=="boolean"?fn=yr.depth:(Wr=yr.depth,xn=!1)),"stencil"in yr&&(typeof yr.stencil=="boolean"?xn=yr.stencil:(An=yr.stencil,fn=!1)),"depthStencil"in yr&&(typeof yr.depthStencil=="boolean"?fn=xn=yr.depthStencil:(wn=yr.depthStencil,xn=fn=!1))):Zr=Nn=1;var Rn=null,Gn=null,ma=null,pa=null;if(Array.isArray(an))Rn=an.map(Nt);else if(an)Rn=[Nt(an)];else for(Rn=Array(jr),an=0;an<jr;++an)Rn[an]=Zt(Zr,Nn,On,br,Ir);for(Zr=Zr||Rn[0].width,Nn=Nn||Rn[0].height,Wr?Gn=Nt(Wr):fn&&!xn&&(Gn=Zt(Zr,Nn,Tn,"depth","uint32")),An?ma=Nt(An):xn&&!fn&&(ma=Zt(Zr,Nn,!1,"stencil","uint8")),wn?pa=Nt(wn):!Wr&&!An&&xn&&fn&&(pa=Zt(Zr,Nn,Tn,"depth stencil","depth stencil")),fn=null,an=0;an<Rn.length;++an)Pt(Rn[an]),Rn[an]&&Rn[an].texture&&(xn=Oe[Rn[an].texture._texture.format]*ht[Rn[an].texture._texture.type],fn===null&&(fn=xn));return Pt(Gn),Pt(ma),Pt(pa),He(Br),Br.width=Zr,Br.height=Nn,Br.colorAttachments=Rn,Br.depthAttachment=Gn,Br.stencilAttachment=ma,Br.depthStencilAttachment=pa,Vr.color=Rn.map($t),Vr.depth=$t(Gn),Vr.stencil=$t(ma),Vr.depthStencil=$t(pa),Vr.width=Br.width,Vr.height=Br.height,Ct(Br),Vr}var Br=new ir;return pt.framebufferCount++,Vr(er,_r),ee(Vr,{resize:function(yr,pn){var an=Math.max(yr|0,1),Zr=Math.max(pn|0||an,1);if(an===Br.width&&Zr===Br.height)return Vr;for(var Nn=Br.colorAttachments,fn=0;fn<Nn.length;++fn)lr(Nn[fn],an,Zr);return lr(Br.depthAttachment,an,Zr),lr(Br.stencilAttachment,an,Zr),lr(Br.depthStencilAttachment,an,Zr),Br.width=Vr.width=an,Br.height=Vr.height=Zr,Ct(Br),Vr},_reglType:"framebuffer",_framebuffer:Br,destroy:function(){Ge(Br),He(Br)},use:function(yr){Kt.setFBO({framebuffer:Vr},yr)}})}var Kt={cur:null,next:null,dirty:!1,setFBO:null},Xt=["rgba"],ur=["rgba4","rgb565","rgb5 a1"];or.ext_srgb&&ur.push("srgba"),or.ext_color_buffer_half_float&&ur.push("rgba16f","rgb16f"),or.webgl_color_buffer_float&&ur.push("rgba32f");var Ar=["uint8"];or.oes_texture_half_float&&Ar.push("half float","float16"),or.oes_texture_float&&Ar.push("float","float32");var Rr=0,wr={};return ee(Kt,{getFramebuffer:function(er){return typeof er=="function"&&er._reglType==="framebuffer"&&(er=er._framebuffer,er instanceof ir)?er:null},create:Ut,createCube:function(er){function _r(Br){var yr,pn={color:null},an=0,Zr=null;yr="rgba";var Nn="uint8",fn=1;if(typeof Br=="number"?an=Br|0:Br?("shape"in Br?an=Br.shape[0]:("radius"in Br&&(an=Br.radius|0),"width"in Br?an=Br.width|0:"height"in Br&&(an=Br.height|0)),("color"in Br||"colors"in Br)&&(Zr=Br.color||Br.colors),Zr||("colorCount"in Br&&(fn=Br.colorCount|0),"colorType"in Br&&(Nn=Br.colorType),"colorFormat"in Br&&(yr=Br.colorFormat)),"depth"in Br&&(pn.depth=Br.depth),"stencil"in Br&&(pn.stencil=Br.stencil),"depthStencil"in Br&&(pn.depthStencil=Br.depthStencil)):an=1,Zr)if(Array.isArray(Zr))for(Br=[],yr=0;yr<Zr.length;++yr)Br[yr]=Zr[yr];else Br=[Zr];else for(Br=Array(fn),Zr={radius:an,format:yr,type:Nn},yr=0;yr<fn;++yr)Br[yr]=Lr.createCube(Zr);for(pn.color=Array(Br.length),yr=0;yr<Br.length;++yr)fn=Br[yr],an=an||fn.width,pn.color[yr]={target:34069,data:Br[yr]};for(yr=0;6>yr;++yr){for(fn=0;fn<Br.length;++fn)pn.color[fn].target=34069+yr;0<yr&&(pn.depth=Vr[0].depth,pn.stencil=Vr[0].stencil,pn.depthStencil=Vr[0].depthStencil),Vr[yr]?Vr[yr](pn):Vr[yr]=Ut(pn)}return ee(_r,{width:an,height:an,color:Br})}var Vr=Array(6);return _r(er),ee(_r,{faces:Vr,resize:function(Br){var yr=Br|0;if(yr===_r.width)return _r;var pn=_r.color;for(Br=0;Br<pn.length;++Br)pn[Br].resize(yr);for(Br=0;6>Br;++Br)Vr[Br].resize(yr);return _r.width=_r.height=yr,_r},_reglType:"framebufferCube",destroy:function(){Vr.forEach(function(Br){Br.destroy()})}})},clear:function(){be(wr).forEach(Ge)},restore:function(){Kt.cur=null,Kt.next=null,Kt.dirty=!0,be(wr).forEach(function(er){er.framebuffer=At.createFramebuffer(),Ct(er)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function I(At,or,rr,Lr,Tr,pt,st){function yt(Ct){if(Ct!==Ge.currentVAO){var Ut=or.oes_vertex_array_object;Ct?Ut.bindVertexArrayOES(Ct.vao):Ut.bindVertexArrayOES(null),Ge.currentVAO=Ct}}function Pt(Ct){if(Ct!==Ge.currentVAO){if(Ct)Ct.bindAttrs();else{for(var Ut=or.angle_instanced_arrays,Kt=0;Kt<lr.length;++Kt){var Xt=lr[Kt];Xt.buffer?(At.enableVertexAttribArray(Kt),Xt.buffer.bind(),At.vertexAttribPointer(Kt,Xt.size,Xt.type,Xt.normalized,Xt.stride,Xt.offfset),Ut&&Xt.divisor&&Ut.vertexAttribDivisorANGLE(Kt,Xt.divisor)):(At.disableVertexAttribArray(Kt),At.vertexAttrib4f(Kt,Xt.x,Xt.y,Xt.z,Xt.w))}st.elements?At.bindBuffer(34963,st.elements.buffer.buffer):At.bindBuffer(34963,null)}Ge.currentVAO=Ct}}function Dt(){be(He).forEach(function(Ct){Ct.destroy()})}function Nt(){this.id=++ir,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ct=or.oes_vertex_array_object;this.vao=Ct?Ct.createVertexArrayOES():null,He[this.id]=this,this.buffers=[]}function Zt(){or.oes_vertex_array_object&&be(He).forEach(function(Ct){Ct.refresh()})}var $t=rr.maxAttributes,lr=Array($t);for(rr=0;rr<$t;++rr)lr[rr]=new B;var ir=0,He={},Ge={Record:B,scope:{},state:lr,currentVAO:null,targetVAO:null,restore:or.oes_vertex_array_object?Zt:function(){},createVAO:function(Ct){function Ut(Xt){var ur;Array.isArray(Xt)?(ur=Xt,Kt.elements&&Kt.ownsElements&&Kt.elements.destroy(),Kt.elements=null,Kt.ownsElements=!1,Kt.offset=0,Kt.count=0,Kt.instances=-1,Kt.primitive=4):(Xt.elements?(ur=Xt.elements,Kt.ownsElements?(typeof ur=="function"&&ur._reglType==="elements"?Kt.elements.destroy():Kt.elements(ur),Kt.ownsElements=!1):pt.getElements(Xt.elements)?(Kt.elements=Xt.elements,Kt.ownsElements=!1):(Kt.elements=pt.create(Xt.elements),Kt.ownsElements=!0)):(Kt.elements=null,Kt.ownsElements=!1),ur=Xt.attributes,Kt.offset=0,Kt.count=-1,Kt.instances=-1,Kt.primitive=4,Kt.elements&&(Kt.count=Kt.elements._elements.vertCount,Kt.primitive=Kt.elements._elements.primType),"offset"in Xt&&(Kt.offset=Xt.offset|0),"count"in Xt&&(Kt.count=Xt.count|0),"instances"in Xt&&(Kt.instances=Xt.instances|0),"primitive"in Xt&&(Kt.primitive=at[Xt.primitive])),Xt={};var Ar=Kt.attributes;Ar.length=ur.length;for(var Rr=0;Rr<ur.length;++Rr){var wr=ur[Rr],er=Ar[Rr]=new B,_r=wr.data||wr;if(Array.isArray(_r)||Ae(_r)||c(_r)){var Vr;Kt.buffers[Rr]&&(Vr=Kt.buffers[Rr],Ae(_r)&&Vr._buffer.byteLength>=_r.byteLength?Vr.subdata(_r):(Vr.destroy(),Kt.buffers[Rr]=null)),Kt.buffers[Rr]||(Vr=Kt.buffers[Rr]=Tr.create(wr,34962,!1,!0)),er.buffer=Tr.getBuffer(Vr),er.size=er.buffer.dimension|0,er.normalized=!1,er.type=er.buffer.dtype,er.offset=0,er.stride=0,er.divisor=0,er.state=1,Xt[Rr]=1}else Tr.getBuffer(wr)?(er.buffer=Tr.getBuffer(wr),er.size=er.buffer.dimension|0,er.normalized=!1,er.type=er.buffer.dtype,er.offset=0,er.stride=0,er.divisor=0,er.state=1):Tr.getBuffer(wr.buffer)?(er.buffer=Tr.getBuffer(wr.buffer),er.size=(+wr.size||er.buffer.dimension)|0,er.normalized=!!wr.normalized||!1,er.type="type"in wr?We[wr.type]:er.buffer.dtype,er.offset=(wr.offset||0)|0,er.stride=(wr.stride||0)|0,er.divisor=(wr.divisor||0)|0,er.state=1):"x"in wr&&(er.x=+wr.x||0,er.y=+wr.y||0,er.z=+wr.z||0,er.w=+wr.w||0,er.state=2)}for(Vr=0;Vr<Kt.buffers.length;++Vr)!Xt[Vr]&&Kt.buffers[Vr]&&(Kt.buffers[Vr].destroy(),Kt.buffers[Vr]=null);return Kt.refresh(),Ut}var Kt=new Nt;return Lr.vaoCount+=1,Ut.destroy=function(){for(var Xt=0;Xt<Kt.buffers.length;++Xt)Kt.buffers[Xt]&&Kt.buffers[Xt].destroy();Kt.buffers.length=0,Kt.ownsElements&&(Kt.elements.destroy(),Kt.elements=null,Kt.ownsElements=!1),Kt.destroy()},Ut._vao=Kt,Ut._reglType="vao",Ut(Ct)},getVAO:function(Ct){return typeof Ct=="function"&&Ct._vao?Ct._vao:null},destroyBuffer:function(Ct){for(var Ut=0;Ut<lr.length;++Ut){var Kt=lr[Ut];Kt.buffer===Ct&&(At.disableVertexAttribArray(Ut),Kt.buffer=null)}},setVAO:or.oes_vertex_array_object?yt:Pt,clear:or.oes_vertex_array_object?Dt:function(){}};return Nt.prototype.bindAttrs=function(){for(var Ct=or.angle_instanced_arrays,Ut=this.attributes,Kt=0;Kt<Ut.length;++Kt){var Xt=Ut[Kt];Xt.buffer?(At.enableVertexAttribArray(Kt),At.bindBuffer(34962,Xt.buffer.buffer),At.vertexAttribPointer(Kt,Xt.size,Xt.type,Xt.normalized,Xt.stride,Xt.offset),Ct&&Xt.divisor&&Ct.vertexAttribDivisorANGLE(Kt,Xt.divisor)):(At.disableVertexAttribArray(Kt),At.vertexAttrib4f(Kt,Xt.x,Xt.y,Xt.z,Xt.w))}for(Ct=Ut.length;Ct<$t;++Ct)At.disableVertexAttribArray(Ct);(Ct=pt.getElements(this.elements))?At.bindBuffer(34963,Ct.buffer.buffer):At.bindBuffer(34963,null)},Nt.prototype.refresh=function(){var Ct=or.oes_vertex_array_object;Ct&&(Ct.bindVertexArrayOES(this.vao),this.bindAttrs(),Ge.currentVAO=null,Ct.bindVertexArrayOES(null))},Nt.prototype.destroy=function(){if(this.vao){var Ct=or.oes_vertex_array_object;this===Ge.currentVAO&&(Ge.currentVAO=null,Ct.bindVertexArrayOES(null)),Ct.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),He[this.id]&&(delete He[this.id],--Lr.vaoCount)},Ge}function O(At,or,rr,Lr){function Tr(ir,He,Ge,Ct){this.name=ir,this.id=He,this.location=Ge,this.info=Ct}function pt(ir,He){for(var Ge=0;Ge<ir.length;++Ge)if(ir[Ge].id===He.id){ir[Ge].location=He.location;return}ir.push(He)}function st(ir,He,Ge){Ge=ir===35632?Dt:Nt;var Ct=Ge[He];if(!Ct){var Ut=or.str(He),Ct=At.createShader(ir);At.shaderSource(Ct,Ut),At.compileShader(Ct),Ge[He]=Ct}return Ct}function yt(ir,He){this.id=lr++,this.fragId=ir,this.vertId=He,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Lr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Pt(ir,He,Ge){var Ct;Ct=st(35632,ir.fragId);var Ut=st(35633,ir.vertId);if(He=ir.program=At.createProgram(),At.attachShader(He,Ct),At.attachShader(He,Ut),Ge)for(Ct=0;Ct<Ge.length;++Ct)Ut=Ge[Ct],At.bindAttribLocation(He,Ut[0],Ut[1]);At.linkProgram(He),Ut=At.getProgramParameter(He,35718),Lr.profile&&(ir.stats.uniformsCount=Ut);var Kt=ir.uniforms;for(Ct=0;Ct<Ut;++Ct)if(Ge=At.getActiveUniform(He,Ct))if(1<Ge.size)for(var Xt=0;Xt<Ge.size;++Xt){var ur=Ge.name.replace("[0]","["+Xt+"]");pt(Kt,new Tr(ur,or.id(ur),At.getUniformLocation(He,ur),Ge))}else pt(Kt,new Tr(Ge.name,or.id(Ge.name),At.getUniformLocation(He,Ge.name),Ge));for(Ut=At.getProgramParameter(He,35721),Lr.profile&&(ir.stats.attributesCount=Ut),ir=ir.attributes,Ct=0;Ct<Ut;++Ct)(Ge=At.getActiveAttrib(He,Ct))&&pt(ir,new Tr(Ge.name,or.id(Ge.name),At.getAttribLocation(He,Ge.name),Ge))}var Dt={},Nt={},Zt={},$t=[],lr=0;return Lr.profile&&(rr.getMaxUniformsCount=function(){var ir=0;return $t.forEach(function(He){He.stats.uniformsCount>ir&&(ir=He.stats.uniformsCount)}),ir},rr.getMaxAttributesCount=function(){var ir=0;return $t.forEach(function(He){He.stats.attributesCount>ir&&(ir=He.stats.attributesCount)}),ir}),{clear:function(){var ir=At.deleteShader.bind(At);be(Dt).forEach(ir),Dt={},be(Nt).forEach(ir),Nt={},$t.forEach(function(He){At.deleteProgram(He.program)}),$t.length=0,Zt={},rr.shaderCount=0},program:function(ir,He,Ge,Ct){var Ut=Zt[He];Ut||(Ut=Zt[He]={});var Kt=Ut[ir];if(Kt&&(Kt.refCount++,!Ct))return Kt;var Xt=new yt(He,ir);return rr.shaderCount++,Pt(Xt,Ge,Ct),Kt||(Ut[ir]=Xt),$t.push(Xt),ee(Xt,{destroy:function(){if(Xt.refCount--,0>=Xt.refCount){At.deleteProgram(Xt.program);var ur=$t.indexOf(Xt);$t.splice(ur,1),rr.shaderCount--}0>=Ut[Xt.vertId].refCount&&(At.deleteShader(Nt[Xt.vertId]),delete Nt[Xt.vertId],delete Zt[Xt.fragId][Xt.vertId]),Object.keys(Zt[Xt.fragId]).length||(At.deleteShader(Dt[Xt.fragId]),delete Dt[Xt.fragId],delete Zt[Xt.fragId])}})},restore:function(){Dt={},Nt={};for(var ir=0;ir<$t.length;++ir)Pt($t[ir],null,$t[ir].attributes.map(function(He){return[He.location,He.name]}))},shader:st,frag:-1,vert:-1}}function z(At,or,rr,Lr,Tr,pt,st){function yt(Dt){var Nt;Nt=or.next===null?5121:or.next.colorAttachments[0].texture._texture.type;var Zt=0,$t=0,lr=Lr.framebufferWidth,ir=Lr.framebufferHeight,He=null;return Ae(Dt)?He=Dt:Dt&&(Zt=Dt.x|0,$t=Dt.y|0,lr=(Dt.width||Lr.framebufferWidth-Zt)|0,ir=(Dt.height||Lr.framebufferHeight-$t)|0,He=Dt.data||null),rr(),Dt=lr*ir*4,He||(Nt===5121?He=new Uint8Array(Dt):Nt===5126&&(He=He||new Float32Array(Dt))),At.pixelStorei(3333,4),At.readPixels(Zt,$t,lr,ir,6408,Nt,He),He}function Pt(Dt){var Nt;return or.setFBO({framebuffer:Dt.framebuffer},function(){Nt=yt(Dt)}),Nt}return function(Dt){return Dt&&"framebuffer"in Dt?Pt(Dt):yt(Dt)}}function k(At){for(var or=Array(At.length>>2),Lr=0;Lr<or.length;Lr++)or[Lr]=0;for(Lr=0;Lr<8*At.length;Lr+=8)or[Lr>>5]|=(At.charCodeAt(Lr/8)&255)<<24-Lr%32;var rr=8*At.length;At=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var Lr=Array(64),Tr,pt,st,yt,Pt,Dt,Nt,Zt,$t,lr,ir;for(or[rr>>5]|=128<<24-rr%32,or[(rr+64>>9<<4)+15]=rr,Zt=0;Zt<or.length;Zt+=16){for(rr=At[0],Tr=At[1],pt=At[2],st=At[3],yt=At[4],Pt=At[5],Dt=At[6],Nt=At[7],$t=0;64>$t;$t++){if(16>$t)Lr[$t]=or[$t+Zt];else{lr=$t,ir=Lr[$t-2],ir=q(ir,17)^q(ir,19)^ir>>>10,ir=Q(ir,Lr[$t-7]);var He;He=Lr[$t-15],He=q(He,7)^q(He,18)^He>>>3,Lr[lr]=Q(Q(ir,He),Lr[$t-16])}lr=yt,lr=q(lr,6)^q(lr,11)^q(lr,25),lr=Q(Q(Q(Q(Nt,lr),yt&Pt^~yt&Dt),vt[$t]),Lr[$t]),Nt=rr,Nt=q(Nt,2)^q(Nt,13)^q(Nt,22),ir=Q(Nt,rr&Tr^rr&pt^Tr&pt),Nt=Dt,Dt=Pt,Pt=yt,yt=Q(st,lr),st=pt,pt=Tr,Tr=rr,rr=Q(lr,ir)}At[0]=Q(rr,At[0]),At[1]=Q(Tr,At[1]),At[2]=Q(pt,At[2]),At[3]=Q(st,At[3]),At[4]=Q(yt,At[4]),At[5]=Q(Pt,At[5]),At[6]=Q(Dt,At[6]),At[7]=Q(Nt,At[7])}for(or="",Lr=0;Lr<32*At.length;Lr+=8)or+=String.fromCharCode(At[Lr>>5]>>>24-Lr%32&255);return or}function N(At){for(var or="",rr,Lr=0;Lr<At.length;Lr++)rr=At.charCodeAt(Lr),or+="0123456789abcdef".charAt(rr>>>4&15)+"0123456789abcdef".charAt(rr&15);return or}function K(At){for(var or="",rr=-1,Lr,Tr;++rr<At.length;)Lr=At.charCodeAt(rr),Tr=rr+1<At.length?At.charCodeAt(rr+1):0,55296<=Lr&&56319>=Lr&&56320<=Tr&&57343>=Tr&&(Lr=65536+((Lr&1023)<<10)+(Tr&1023),rr++),127>=Lr?or+=String.fromCharCode(Lr):2047>=Lr?or+=String.fromCharCode(192|Lr>>>6&31,128|Lr&63):65535>=Lr?or+=String.fromCharCode(224|Lr>>>12&15,128|Lr>>>6&63,128|Lr&63):2097151>=Lr&&(or+=String.fromCharCode(240|Lr>>>18&7,128|Lr>>>12&63,128|Lr>>>6&63,128|Lr&63));return or}function q(At,or){return At>>>or|At<<32-or}function Q(At,or){var rr=(At&65535)+(or&65535);return(At>>16)+(or>>16)+(rr>>16)<<16|rr&65535}function re(At){return Array.prototype.slice.call(At)}function oe(At){return re(At).join("")}function Y(At){function or(){var Nt=[],Zt=[];return ee(function(){Nt.push.apply(Nt,re(arguments))},{def:function(){var $t="v"+Tr++;return Zt.push($t),0<arguments.length&&(Nt.push($t,"="),Nt.push.apply(Nt,re(arguments)),Nt.push(";")),$t},toString:function(){return oe([0<Zt.length?"var "+Zt.join(",")+";":"",oe(Nt)])}})}function rr(){function Nt(He,Ge){$t(He,Ge,"=",Zt.def(He,Ge),";")}var Zt=or(),$t=or(),lr=Zt.toString,ir=$t.toString;return ee(function(){Zt.apply(Zt,re(arguments))},{def:Zt.def,entry:Zt,exit:$t,save:Nt,set:function(He,Ge,Ct){Nt(He,Ge),Zt(He,Ge,"=",Ct,";")},toString:function(){return lr()+ir()}})}var Lr=At&&At.cache,Tr=0,pt=[],st=[],yt=[],Pt=or(),Dt={};return{global:Pt,link:function(Nt,Zt){var $t=Zt&&Zt.stable;if(!$t){for(var lr=0;lr<st.length;++lr)if(st[lr]===Nt&&!yt[lr])return pt[lr]}return lr="g"+Tr++,pt.push(lr),st.push(Nt),yt.push($t),lr},block:or,proc:function(Nt,Zt){function $t(){var Ge="a"+lr.length;return lr.push(Ge),Ge}var lr=[];Zt=Zt||0;for(var ir=0;ir<Zt;++ir)$t();var ir=rr(),He=ir.toString;return Dt[Nt]=ee(ir,{arg:$t,toString:function(){return oe(["function(",lr.join(),"){",He(),"}"])}})},scope:rr,cond:function(){var Nt=oe(arguments),Zt=rr(),$t=rr(),lr=Zt.toString,ir=$t.toString;return ee(Zt,{then:function(){return Zt.apply(Zt,re(arguments)),this},else:function(){return $t.apply($t,re(arguments)),this},toString:function(){var He=ir();return He&&(He="else{"+He+"}"),oe(["if(",Nt,"){",lr(),"}",He])}})},compile:function(){var Nt=['"use strict";',Pt,"return {"];Object.keys(Dt).forEach(function(lr){Nt.push('"',lr,'":',Dt[lr].toString(),",")}),Nt.push("}");var Zt=oe(Nt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),$t;return Lr&&($t=N(k(K(Zt))),Lr[$t])?Lr[$t].apply(null,st):(Zt=Function.apply(null,pt.concat(Zt)),Lr&&(Lr[$t]=Zt),Zt.apply(null,st))}}}function G(At){return Array.isArray(At)||Ae(At)||c(At)}function V(At){return At.sort(function(or,rr){return or==="viewport"?-1:rr==="viewport"?1:or<rr?-1:1})}function Z(At,or,rr,Lr){this.thisDep=At,this.contextDep=or,this.propDep=rr,this.append=Lr}function ae(At){return At&&!(At.thisDep||At.contextDep||At.propDep)}function ie(At){return new Z(!1,!1,!1,At)}function J(At,or){var rr=At.type;if(rr===0)return rr=At.data.length,new Z(!0,1<=rr,2<=rr,or);if(rr===4)return rr=At.data,new Z(rr.thisDep,rr.contextDep,rr.propDep,or);if(rr===5)return new Z(!1,!1,!1,or);if(rr===6){for(var Lr=rr=!1,Tr=!1,pt=0;pt<At.data.length;++pt){var st=At.data[pt];st.type===1?Tr=!0:st.type===2?Lr=!0:st.type===3?rr=!0:st.type===0?(rr=!0,st=st.data,1<=st&&(Lr=!0),2<=st&&(Tr=!0)):st.type===4&&(rr=rr||st.data.thisDep,Lr=Lr||st.data.contextDep,Tr=Tr||st.data.propDep)}return new Z(rr,Lr,Tr,or)}return new Z(rr===3,rr===2,rr===1,or)}function $(At,or,rr,Lr,Tr,pt,st,yt,Pt,Dt,Nt,Zt,$t,lr,ir,He){function Ge(ar){return ar.replace(".","_")}function Ct(ar,me,Ue){var et=Ge(ar);Fn.push(ar),Wn[et]=Cn[et]=!!Ue,Hn[et]=me}function Ut(ar,me,Ue){var et=Ge(ar);Fn.push(ar),Array.isArray(Ue)?(Cn[et]=Ue.slice(),Wn[et]=Ue.slice()):Cn[et]=Wn[et]=Ue,Xn[et]=me}function Kt(){var ar=Y({cache:ir}),me=ar.link,Ue=ar.global;ar.id=oi++,ar.batchId="0";var et=me(sa),ft=ar.shared={props:"a0"};Object.keys(sa).forEach(function(Ht){ft[Ht]=Ue.def(et,".",Ht)});var kt=ar.next={},_t=ar.current={};Object.keys(Xn).forEach(function(Ht){Array.isArray(Cn[Ht])&&(kt[Ht]=Ue.def(ft.next,".",Ht),_t[Ht]=Ue.def(ft.current,".",Ht))});var Wt=ar.constants={};Object.keys(ka).forEach(function(Ht){Wt[Ht]=Ue.def(JSON.stringify(ka[Ht]))}),ar.invoke=function(Ht,nr){switch(nr.type){case 0:var Dr=["this",ft.context,ft.props,ar.batchId];return Ht.def(me(nr.data),".call(",Dr.slice(0,Math.max(nr.data.length+1,4)),")");case 1:return Ht.def(ft.props,nr.data);case 2:return Ht.def(ft.context,nr.data);case 3:return Ht.def("this",nr.data);case 4:return nr.data.append(ar,Ht),nr.data.ref;case 5:return nr.data.toString();case 6:return nr.data.map(function(Qr){return ar.invoke(Ht,Qr)})}},ar.attribCache={};var Gt={};return ar.scopeAttrib=function(Ht){if(Ht=or.id(Ht),Ht in Gt)return Gt[Ht];var nr=Dt.scope[Ht];return nr||(nr=Dt.scope[Ht]=new xa),Gt[Ht]=me(nr)},ar}function Xt(ar){var me=ar.static;ar=ar.dynamic;var Ue;if("profile"in me){var et=!!me.profile;Ue=ie(function(kt,_t){return et}),Ue.enable=et}else if("profile"in ar){var ft=ar.profile;Ue=J(ft,function(kt,_t){return kt.invoke(_t,ft)})}return Ue}function ur(ar,me){var Ue=ar.static,et=ar.dynamic;if("framebuffer"in Ue){var ft=Ue.framebuffer;return ft?(ft=yt.getFramebuffer(ft),ie(function(_t,Wt){var Gt=_t.link(ft),Ht=_t.shared;return Wt.set(Ht.framebuffer,".next",Gt),Ht=Ht.context,Wt.set(Ht,".framebufferWidth",Gt+".width"),Wt.set(Ht,".framebufferHeight",Gt+".height"),Gt})):ie(function(_t,Wt){var Gt=_t.shared;return Wt.set(Gt.framebuffer,".next","null"),Gt=Gt.context,Wt.set(Gt,".framebufferWidth",Gt+".drawingBufferWidth"),Wt.set(Gt,".framebufferHeight",Gt+".drawingBufferHeight"),"null"})}if("framebuffer"in et){var kt=et.framebuffer;return J(kt,function(_t,Wt){var nr=_t.invoke(Wt,kt),Gt=_t.shared,Ht=Gt.framebuffer,nr=Wt.def(Ht,".getFramebuffer(",nr,")");return Wt.set(Ht,".next",nr),Gt=Gt.context,Wt.set(Gt,".framebufferWidth",nr+"?"+nr+".width:"+Gt+".drawingBufferWidth"),Wt.set(Gt,".framebufferHeight",nr+"?"+nr+".height:"+Gt+".drawingBufferHeight"),nr})}return null}function Ar(ar,me,Ue){function et(Wt){if(Wt in ft){var Gt=ft[Wt];Wt=!0;var Ht=Gt.x|0,nr=Gt.y|0,Dr,Qr;return"width"in Gt?Dr=Gt.width|0:Wt=!1,"height"in Gt?Qr=Gt.height|0:Wt=!1,new Z(!Wt&&me&&me.thisDep,!Wt&&me&&me.contextDep,!Wt&&me&&me.propDep,function(Ur,Pn){var Un=Ur.shared.context,kn=Dr;"width"in Gt||(kn=Pn.def(Un,".","framebufferWidth","-",Ht));var Qn=Qr;return"height"in Gt||(Qn=Pn.def(Un,".","framebufferHeight","-",nr)),[Ht,nr,kn,Qn]})}if(Wt in kt){var Yr=kt[Wt];return Wt=J(Yr,function(Ur,Pn){var ca=Ur.invoke(Pn,Yr),Un=Ur.shared.context,kn=Pn.def(ca,".x|0"),Qn=Pn.def(ca,".y|0"),qn=Pn.def('"width" in ',ca,"?",ca,".width|0:","(",Un,".","framebufferWidth","-",kn,")"),ca=Pn.def('"height" in ',ca,"?",ca,".height|0:","(",Un,".","framebufferHeight","-",Qn,")");return[kn,Qn,qn,ca]}),me&&(Wt.thisDep=Wt.thisDep||me.thisDep,Wt.contextDep=Wt.contextDep||me.contextDep,Wt.propDep=Wt.propDep||me.propDep),Wt}return me?new Z(me.thisDep,me.contextDep,me.propDep,function(Ur,Pn){var Un=Ur.shared.context;return[0,0,Pn.def(Un,".","framebufferWidth"),Pn.def(Un,".","framebufferHeight")]}):null}var ft=ar.static,kt=ar.dynamic;if(ar=et("viewport")){var _t=ar;ar=new Z(ar.thisDep,ar.contextDep,ar.propDep,function(Wt,Gt){var Ht=_t.append(Wt,Gt),nr=Wt.shared.context;return Gt.set(nr,".viewportWidth",Ht[2]),Gt.set(nr,".viewportHeight",Ht[3]),Ht})}return{viewport:ar,scissor_box:et("scissor.box")}}function Rr(ar,me){var Ue=ar.static;if(typeof Ue.frag=="string"&&typeof Ue.vert=="string"){if(0<Object.keys(me.dynamic).length)return null;var Ue=me.static,et=Object.keys(Ue);if(0<et.length&&typeof Ue[et[0]]=="number"){for(var ft=[],kt=0;kt<et.length;++kt)ft.push([Ue[et[kt]]|0,et[kt]]);return ft}}return null}function wr(ar,me,Ue){function et(Ht){if(Ht in ft){var nr=or.id(ft[Ht]);return Ht=ie(function(){return nr}),Ht.id=nr,Ht}if(Ht in kt){var Dr=kt[Ht];return J(Dr,function(Qr,Yr){var Ur=Qr.invoke(Yr,Dr);return Yr.def(Qr.shared.strings,".id(",Ur,")")})}return null}var ft=ar.static,kt=ar.dynamic,_t=et("frag"),Wt=et("vert"),Gt=null;return ae(_t)&&ae(Wt)?(Gt=Nt.program(Wt.id,_t.id,null,Ue),ar=ie(function(Ht,nr){return Ht.link(Gt)})):ar=new Z(_t&&_t.thisDep||Wt&&Wt.thisDep,_t&&_t.contextDep||Wt&&Wt.contextDep,_t&&_t.propDep||Wt&&Wt.propDep,function(Ht,nr){var Dr=Ht.shared.shader,Qr;Qr=_t?_t.append(Ht,nr):nr.def(Dr,".","frag");var Yr;return Yr=Wt?Wt.append(Ht,nr):nr.def(Dr,".","vert"),nr.def(Dr+".program("+Yr+","+Qr+")")}),{frag:_t,vert:Wt,progVar:ar,program:Gt}}function er(ar,me){function Ue(Ur,Pn){if(Ur in et){var Un=et[Ur]|0;return Pn?kt.offset=Un:kt.instances=Un,ie(function(Qn,qn){return Pn&&(Qn.OFFSET=Un),Un})}if(Ur in ft){var kn=ft[Ur];return J(kn,function(Qn,qn){var ca=Qn.invoke(qn,kn);return Pn&&(Qn.OFFSET=ca),ca})}if(Pn){if(Gt)return ie(function(Qn,qn){return Qn.OFFSET=0});if(_t)return new Z(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Qn,qn){return qn.def(Qn.shared.vao+".currentVAO?"+Qn.shared.vao+".currentVAO.offset:0")})}else if(_t)return new Z(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Qn,qn){return qn.def(Qn.shared.vao+".currentVAO?"+Qn.shared.vao+".currentVAO.instances:-1")});return null}var et=ar.static,ft=ar.dynamic,kt={},_t=!1,Wt=function(){if("vao"in et){var Ur=et.vao;return Ur!==null&&Dt.getVAO(Ur)===null&&(Ur=Dt.createVAO(Ur)),_t=!0,kt.vao=Ur,ie(function(Un){var kn=Dt.getVAO(Ur);return kn?Un.link(kn):"null"})}if("vao"in ft){_t=!0;var Pn=ft.vao;return J(Pn,function(Un,kn){var Qn=Un.invoke(kn,Pn);return kn.def(Un.shared.vao+".getVAO("+Qn+")")})}return null}(),Gt=!1,Ht=function(){if("elements"in et){var Ur=et.elements;if(kt.elements=Ur,G(Ur)){var Pn=kt.elements=pt.create(Ur,!0),Ur=pt.getElements(Pn);Gt=!0}else Ur&&(Ur=pt.getElements(Ur),Gt=!0);return Pn=ie(function(kn,Qn){if(Ur){var qn=kn.link(Ur);return kn.ELEMENTS=qn}return kn.ELEMENTS=null}),Pn.value=Ur,Pn}if("elements"in ft){Gt=!0;var Un=ft.elements;return J(Un,function(kn,Qn){var qn=kn.shared,ei=qn.isBufferArgs,qn=qn.elements,Na=kn.invoke(Qn,Un),ca=Qn.def("null"),ei=Qn.def(ei,"(",Na,")"),Na=kn.cond(ei).then(ca,"=",qn,".createStream(",Na,");").else(ca,"=",qn,".getElements(",Na,");");return Qn.entry(Na),Qn.exit(kn.cond(ei).then(qn,".destroyStream(",ca,");")),kn.ELEMENTS=ca})}return _t?new Z(Wt.thisDep,Wt.contextDep,Wt.propDep,function(kn,Qn){return Qn.def(kn.shared.vao+".currentVAO?"+kn.shared.elements+".getElements("+kn.shared.vao+".currentVAO.elements):null")}):null}(),nr=Ue("offset",!0),Dr=function(){if("primitive"in et){var Ur=et.primitive;return kt.primitive=Ur,ie(function(Un,kn){return at[Ur]})}if("primitive"in ft){var Pn=ft.primitive;return J(Pn,function(Un,kn){var Qn=Un.constants.primTypes,qn=Un.invoke(kn,Pn);return kn.def(Qn,"[",qn,"]")})}return Gt?ae(Ht)?Ht.value?ie(function(Un,kn){return kn.def(Un.ELEMENTS,".primType")}):ie(function(){return 4}):new Z(Ht.thisDep,Ht.contextDep,Ht.propDep,function(Un,kn){var Qn=Un.ELEMENTS;return kn.def(Qn,"?",Qn,".primType:",4)}):_t?new Z(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Un,kn){return kn.def(Un.shared.vao+".currentVAO?"+Un.shared.vao+".currentVAO.primitive:4")}):null}(),Qr=function(){if("count"in et){var Ur=et.count|0;return kt.count=Ur,ie(function(){return Ur})}if("count"in ft){var Pn=ft.count;return J(Pn,function(Un,kn){return Un.invoke(kn,Pn)})}return Gt?ae(Ht)?Ht?nr?new Z(nr.thisDep,nr.contextDep,nr.propDep,function(Un,kn){return kn.def(Un.ELEMENTS,".vertCount-",Un.OFFSET)}):ie(function(Un,kn){return kn.def(Un.ELEMENTS,".vertCount")}):ie(function(){return-1}):new Z(Ht.thisDep||nr.thisDep,Ht.contextDep||nr.contextDep,Ht.propDep||nr.propDep,function(Un,kn){var Qn=Un.ELEMENTS;return Un.OFFSET?kn.def(Qn,"?",Qn,".vertCount-",Un.OFFSET,":-1"):kn.def(Qn,"?",Qn,".vertCount:-1")}):_t?new Z(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Un,kn){return kn.def(Un.shared.vao,".currentVAO?",Un.shared.vao,".currentVAO.count:-1")}):null}(),Yr=Ue("instances",!1);return{elements:Ht,primitive:Dr,count:Qr,instances:Yr,offset:nr,vao:Wt,vaoActive:_t,elementsActive:Gt,static:kt}}function _r(ar,me){var Ue=ar.static,et=ar.dynamic,ft={};return Fn.forEach(function(kt){function _t(Gt,Ht){if(kt in Ue){var nr=Gt(Ue[kt]);ft[Wt]=ie(function(){return nr})}else if(kt in et){var Dr=et[kt];ft[Wt]=J(Dr,function(Qr,Yr){return Ht(Qr,Yr,Qr.invoke(Yr,Dr))})}}var Wt=Ge(kt);switch(kt){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return _t(function(Gt){return Gt},function(Gt,Ht,nr){return nr});case"depth.func":return _t(function(Gt){return qt[Gt]},function(Gt,Ht,nr){return Ht.def(Gt.constants.compareFuncs,"[",nr,"]")});case"depth.range":return _t(function(Gt){return Gt},function(Gt,Ht,nr){return Gt=Ht.def("+",nr,"[0]"),Ht=Ht.def("+",nr,"[1]"),[Gt,Ht]});case"blend.func":return _t(function(Gt){return[Jt["srcRGB"in Gt?Gt.srcRGB:Gt.src],Jt["dstRGB"in Gt?Gt.dstRGB:Gt.dst],Jt["srcAlpha"in Gt?Gt.srcAlpha:Gt.src],Jt["dstAlpha"in Gt?Gt.dstAlpha:Gt.dst]]},function(Gt,Ht,nr){function Dr(Pn,Un){return Ht.def('"',Pn,Un,'" in ',nr,"?",nr,".",Pn,Un,":",nr,".",Pn)}Gt=Gt.constants.blendFuncs;var Qr=Dr("src","RGB"),Ur=Dr("dst","RGB"),Qr=Ht.def(Gt,"[",Qr,"]"),Yr=Ht.def(Gt,"[",Dr("src","Alpha"),"]"),Ur=Ht.def(Gt,"[",Ur,"]");return Gt=Ht.def(Gt,"[",Dr("dst","Alpha"),"]"),[Qr,Ur,Yr,Gt]});case"blend.equation":return _t(function(Gt){if(typeof Gt=="string")return[ga[Gt],ga[Gt]];if(typeof Gt=="object")return[ga[Gt.rgb],ga[Gt.alpha]]},function(Gt,Ht,nr){var Dr=Gt.constants.blendEquations,Qr=Ht.def(),Yr=Ht.def();return Gt=Gt.cond("typeof ",nr,'==="string"'),Gt.then(Qr,"=",Yr,"=",Dr,"[",nr,"];"),Gt.else(Qr,"=",Dr,"[",nr,".rgb];",Yr,"=",Dr,"[",nr,".alpha];"),Ht(Gt),[Qr,Yr]});case"blend.color":return _t(function(Gt){return u(4,function(Ht){return+Gt[Ht]})},function(Gt,Ht,nr){return u(4,function(Dr){return Ht.def("+",nr,"[",Dr,"]")})});case"stencil.mask":return _t(function(Gt){return Gt|0},function(Gt,Ht,nr){return Ht.def(nr,"|0")});case"stencil.func":return _t(function(Gt){return[qt[Gt.cmp||"keep"],Gt.ref||0,"mask"in Gt?Gt.mask:-1]},function(Gt,Ht,nr){Gt=Ht.def('"cmp" in ',nr,"?",Gt.constants.compareFuncs,"[",nr,".cmp]",":",7680);var Dr=Ht.def(nr,".ref|0");return Ht=Ht.def('"mask" in ',nr,"?",nr,".mask|0:-1"),[Gt,Dr,Ht]});case"stencil.opFront":case"stencil.opBack":return _t(function(Gt){return[kt==="stencil.opBack"?1029:1028,Vt[Gt.fail||"keep"],Vt[Gt.zfail||"keep"],Vt[Gt.zpass||"keep"]]},function(Gt,Ht,nr){function Dr(Yr){return Ht.def('"',Yr,'" in ',nr,"?",Qr,"[",nr,".",Yr,"]:",7680)}var Qr=Gt.constants.stencilOps;return[kt==="stencil.opBack"?1029:1028,Dr("fail"),Dr("zfail"),Dr("zpass")]});case"polygonOffset.offset":return _t(function(Gt){return[Gt.factor|0,Gt.units|0]},function(Gt,Ht,nr){return Gt=Ht.def(nr,".factor|0"),Ht=Ht.def(nr,".units|0"),[Gt,Ht]});case"cull.face":return _t(function(Gt){var Ht=0;return Gt==="front"?Ht=1028:Gt==="back"&&(Ht=1029),Ht},function(Gt,Ht,nr){return Ht.def(nr,'==="front"?',1028,":",1029)});case"lineWidth":return _t(function(Gt){return Gt},function(Gt,Ht,nr){return nr});case"frontFace":return _t(function(Gt){return vr[Gt]},function(Gt,Ht,nr){return Ht.def(nr+'==="cw"?2304:2305')});case"colorMask":return _t(function(Gt){return Gt.map(function(Ht){return!!Ht})},function(Gt,Ht,nr){return u(4,function(Dr){return"!!"+nr+"["+Dr+"]"})});case"sample.coverage":return _t(function(Gt){return["value"in Gt?Gt.value:1,!!Gt.invert]},function(Gt,Ht,nr){return Gt=Ht.def('"value" in ',nr,"?+",nr,".value:1"),Ht=Ht.def("!!",nr,".invert"),[Gt,Ht]})}}),ft}function Vr(ar,me){var Ue=ar.static,et=ar.dynamic,ft={};return Object.keys(Ue).forEach(function(kt){var _t=Ue[kt],Wt;if(typeof _t=="number"||typeof _t=="boolean")Wt=ie(function(){return _t});else if(typeof _t=="function"){var Gt=_t._reglType;Gt==="texture2d"||Gt==="textureCube"?Wt=ie(function(Ht){return Ht.link(_t)}):(Gt==="framebuffer"||Gt==="framebufferCube")&&(Wt=ie(function(Ht){return Ht.link(_t.color[0])}))}else M(_t)&&(Wt=ie(function(Ht){return Ht.global.def("[",u(_t.length,function(nr){return _t[nr]}),"]")}));Wt.value=_t,ft[kt]=Wt}),Object.keys(et).forEach(function(kt){var _t=et[kt];ft[kt]=J(_t,function(Wt,Gt){return Wt.invoke(Gt,_t)})}),ft}function Br(ar,me){var Ue=ar.static,et=ar.dynamic,ft={};return Object.keys(Ue).forEach(function(kt){var _t=Ue[kt],Wt=or.id(kt),Gt=new xa;if(G(_t))Gt.state=1,Gt.buffer=Tr.getBuffer(Tr.create(_t,34962,!1,!0)),Gt.type=0;else{var Ht=Tr.getBuffer(_t);if(Ht)Gt.state=1,Gt.buffer=Ht,Gt.type=0;else if("constant"in _t){var nr=_t.constant;Gt.buffer="null",Gt.state=2,typeof nr=="number"?Gt.x=nr:Lt.forEach(function(Un,kn){kn<nr.length&&(Gt[Un]=nr[kn])})}else{var Ht=G(_t.buffer)?Tr.getBuffer(Tr.create(_t.buffer,34962,!1,!0)):Tr.getBuffer(_t.buffer),Dr=_t.offset|0,Qr=_t.stride|0,Yr=_t.size|0,Ur=!!_t.normalized,Pn=0;"type"in _t&&(Pn=We[_t.type]),_t=_t.divisor|0,Gt.buffer=Ht,Gt.state=1,Gt.size=Yr,Gt.normalized=Ur,Gt.type=Pn||Ht.dtype,Gt.offset=Dr,Gt.stride=Qr,Gt.divisor=_t}}ft[kt]=ie(function(Un,kn){var Qn=Un.attribCache;if(Wt in Qn)return Qn[Wt];var qn={isStream:!1};return Object.keys(Gt).forEach(function(ca){qn[ca]=Gt[ca]}),Gt.buffer&&(qn.buffer=Un.link(Gt.buffer),qn.type=qn.type||qn.buffer+".dtype"),Qn[Wt]=qn})}),Object.keys(et).forEach(function(kt){var _t=et[kt];ft[kt]=J(_t,function(Wt,Gt){function Ht(Qn){Gt(Ur[Qn],"=",nr,".",Qn,"|0;")}var nr=Wt.invoke(Gt,_t),Yr=Wt.shared,Dr=Wt.constants,Qr=Yr.isBufferArgs,Yr=Yr.buffer,Ur={isStream:Gt.def(!1)},Pn=new xa;Pn.state=1,Object.keys(Pn).forEach(function(Qn){Ur[Qn]=Gt.def(""+Pn[Qn])});var Un=Ur.buffer,kn=Ur.type;return Gt("if(",Qr,"(",nr,")){",Ur.isStream,"=true;",Un,"=",Yr,".createStream(",34962,",",nr,");",kn,"=",Un,".dtype;","}else{",Un,"=",Yr,".getBuffer(",nr,");","if(",Un,"){",kn,"=",Un,".dtype;",'}else if("constant" in ',nr,"){",Ur.state,"=",2,";","if(typeof "+nr+'.constant === "number"){',Ur[Lt[0]],"=",nr,".constant;",Lt.slice(1).map(function(Qn){return Ur[Qn]}).join("="),"=0;","}else{",Lt.map(function(Qn,qn){return Ur[Qn]+"="+nr+".constant.length>"+qn+"?"+nr+".constant["+qn+"]:0;"}).join(""),"}}else{","if(",Qr,"(",nr,".buffer)){",Un,"=",Yr,".createStream(",34962,",",nr,".buffer);","}else{",Un,"=",Yr,".getBuffer(",nr,".buffer);","}",kn,'="type" in ',nr,"?",Dr.glTypes,"[",nr,".type]:",Un,".dtype;",Ur.normalized,"=!!",nr,".normalized;"),Ht("size"),Ht("offset"),Ht("stride"),Ht("divisor"),Gt("}}"),Gt.exit("if(",Ur.isStream,"){",Yr,".destroyStream(",Un,");","}"),Ur})}),ft}function yr(ar){var me=ar.static,Ue=ar.dynamic,et={};return Object.keys(me).forEach(function(ft){var kt=me[ft];et[ft]=ie(function(_t,Wt){return typeof kt=="number"||typeof kt=="boolean"?""+kt:_t.link(kt)})}),Object.keys(Ue).forEach(function(ft){var kt=Ue[ft];et[ft]=J(kt,function(_t,Wt){return _t.invoke(Wt,kt)})}),et}function pn(ar,me,Ue,et,ft){function kt(Pn){var Un=Wt[Pn];Un&&(Ht[Pn]=Un)}var _t=Rr(ar,me),Qr=ur(ar),Wt=Ar(ar,Qr),Gt=er(ar),Ht=_r(ar),nr=wr(ar,ft,_t);kt("viewport"),kt(Ge("scissor.box"));var Dr=0<Object.keys(Ht).length,Qr={framebuffer:Qr,draw:Gt,shader:nr,state:Ht,dirty:Dr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Qr.profile=Xt(ar),Qr.uniforms=Vr(Ue),Qr.drawVAO=Qr.scopeVAO=Gt.vao,!Qr.drawVAO&&nr.program&&!_t&&rr.angle_instanced_arrays&&Gt.static.elements){var Yr=!0;if(ar=nr.program.attributes.map(function(Pn){return Pn=me.static[Pn],Yr=Yr&&!!Pn,Pn}),Yr&&0<ar.length){var Ur=Dt.getVAO(Dt.createVAO({attributes:ar,elements:Gt.static.elements}));Qr.drawVAO=new Z(null,null,null,function(Pn,Un){return Pn.link(Ur)}),Qr.useVAO=!0}}return _t?Qr.useVAO=!0:Qr.attributes=Br(me),Qr.context=yr(et),Qr}function an(ar,me,Ue){var et=ar.shared.context,ft=ar.scope();Object.keys(Ue).forEach(function(kt){me.save(et,"."+kt);var _t=Ue[kt].append(ar,me);Array.isArray(_t)?ft(et,".",kt,"=[",_t.join(),"];"):ft(et,".",kt,"=",_t,";")}),me(ft)}function Zr(ar,me,Ue,et){var Wt=ar.shared,ft=Wt.gl,kt=Wt.framebuffer,_t;cn&&(_t=me.def(Wt.extensions,".webgl_draw_buffers"));var Gt=ar.constants,Wt=Gt.drawBuffer,Gt=Gt.backBuffer;ar=Ue?Ue.append(ar,me):me.def(kt,".next"),et||me("if(",ar,"!==",kt,".cur){"),me("if(",ar,"){",ft,".bindFramebuffer(",36160,",",ar,".framebuffer);"),cn&&me(_t,".drawBuffersWEBGL(",Wt,"[",ar,".colorAttachments.length]);"),me("}else{",ft,".bindFramebuffer(",36160,",null);"),cn&&me(_t,".drawBuffersWEBGL(",Gt,");"),me("}",kt,".cur=",ar,";"),et||me("}")}function Nn(ar,me,Ue){var et=ar.shared,ft=et.gl,kt=ar.current,_t=ar.next,Wt=et.current,Gt=et.next,Ht=ar.cond(Wt,".dirty");Fn.forEach(function(nr){if(nr=Ge(nr),!(nr in Ue.state)){var Dr,Qr;if(nr in _t){Dr=_t[nr],Qr=kt[nr];var Yr=u(Cn[nr].length,function(Ur){return Ht.def(Dr,"[",Ur,"]")});Ht(ar.cond(Yr.map(function(Ur,Pn){return Ur+"!=="+Qr+"["+Pn+"]"}).join("||")).then(ft,".",Xn[nr],"(",Yr,");",Yr.map(function(Ur,Pn){return Qr+"["+Pn+"]="+Ur}).join(";"),";"))}else Dr=Ht.def(Gt,".",nr),Yr=ar.cond(Dr,"!==",Wt,".",nr),Ht(Yr),nr in Hn?Yr(ar.cond(Dr).then(ft,".enable(",Hn[nr],");").else(ft,".disable(",Hn[nr],");"),Wt,".",nr,"=",Dr,";"):Yr(ft,".",Xn[nr],"(",Dr,");",Wt,".",nr,"=",Dr,";")}}),Object.keys(Ue.state).length===0&&Ht(Wt,".dirty=false;"),me(Ht)}function fn(ar,me,Ue,et){var ft=ar.shared,kt=ar.current,_t=ft.current,Wt=ft.gl,Gt;V(Object.keys(Ue)).forEach(function(Ht){var nr=Ue[Ht];if(!et||et(nr)){var Dr=nr.append(ar,me);if(Hn[Ht]){var Qr=Hn[Ht];ae(nr)?(Gt=ar.link(Dr,{stable:!0}),me(ar.cond(Gt).then(Wt,".enable(",Qr,");").else(Wt,".disable(",Qr,");")),me(_t,".",Ht,"=",Gt,";")):(me(ar.cond(Dr).then(Wt,".enable(",Qr,");").else(Wt,".disable(",Qr,");")),me(_t,".",Ht,"=",Dr,";"))}else if(M(Dr)){var Yr=kt[Ht];me(Wt,".",Xn[Ht],"(",Dr,");",Dr.map(function(Ur,Pn){return Yr+"["+Pn+"]="+Ur}).join(";"),";")}else ae(nr)?(Gt=ar.link(Dr,{stable:!0}),me(Wt,".",Xn[Ht],"(",Gt,");",_t,".",Ht,"=",Gt,";")):me(Wt,".",Xn[Ht],"(",Dr,");",_t,".",Ht,"=",Dr,";")}})}function xn(ar,me){Or&&(ar.instancing=me.def(ar.shared.extensions,".angle_instanced_arrays"))}function On(ar,me,Ue,et,ft){function kt(){return typeof performance>"u"?"Date.now()":"performance.now()"}function _t(Pn){Yr=me.def(),Pn(Yr,"=",kt(),";"),typeof ft=="string"?Pn(nr,".count+=",ft,";"):Pn(nr,".count++;"),lr&&(et?(Ur=me.def(),Pn(Ur,"=",Qr,".getNumPendingQueries();")):Pn(Qr,".beginQuery(",nr,");"))}function Wt(Pn){Pn(nr,".cpuTime+=",kt(),"-",Yr,";"),lr&&(et?Pn(Qr,".pushScopeStats(",Ur,",",Qr,".getNumPendingQueries(),",nr,");"):Pn(Qr,".endQuery();"))}function Gt(Pn){var Un=me.def(Dr,".profile");me(Dr,".profile=",Pn,";"),me.exit(Dr,".profile=",Un,";")}var Ht=ar.shared,nr=ar.stats,Dr=Ht.current,Qr=Ht.timer;Ue=Ue.profile;var Yr,Ur;if(Ue){if(ae(Ue)){Ue.enable?(_t(me),Wt(me.exit),Gt("true")):Gt("false");return}Ue=Ue.append(ar,me),Gt(Ue)}else Ue=me.def(Dr,".profile");Ht=ar.block(),_t(Ht),me("if(",Ue,"){",Ht,"}"),ar=ar.block(),Wt(ar),me.exit("if(",Ue,"){",ar,"}")}function br(ar,me,Ue,et,ft){function kt(Gt){switch(Gt){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function _t(Gt,Ht,nr){function Dr(){me("if(!",Pn,".buffer){",Yr,".enableVertexAttribArray(",Ur,");}");var qn=nr.type,ca;ca=nr.size?me.def(nr.size,"||",Ht):Ht,me("if(",Pn,".type!==",qn,"||",Pn,".size!==",ca,"||",Qn.map(function(ei){return Pn+"."+ei+"!=="+nr[ei]}).join("||"),"){",Yr,".bindBuffer(",34962,",",Un,".buffer);",Yr,".vertexAttribPointer(",[Ur,ca,qn,nr.normalized,nr.stride,nr.offset],");",Pn,".type=",qn,";",Pn,".size=",ca,";",Qn.map(function(ei){return Pn+"."+ei+"="+nr[ei]+";"}).join(""),"}"),Or&&(qn=nr.divisor,me("if(",Pn,".divisor!==",qn,"){",ar.instancing,".vertexAttribDivisorANGLE(",[Ur,qn],");",Pn,".divisor=",qn,";}"))}function Qr(){me("if(",Pn,".buffer){",Yr,".disableVertexAttribArray(",Ur,");",Pn,".buffer=null;","}if(",Lt.map(function(qn,ca){return Pn+"."+qn+"!=="+kn[ca]}).join("||"),"){",Yr,".vertexAttrib4f(",Ur,",",kn,");",Lt.map(function(qn,ca){return Pn+"."+qn+"="+kn[ca]+";"}).join(""),"}")}var Yr=Wt.gl,Ur=me.def(Gt,".location"),Pn=me.def(Wt.attributes,"[",Ur,"]");Gt=nr.state;var Un=nr.buffer,kn=[nr.x,nr.y,nr.z,nr.w],Qn=["buffer","normalized","offset","stride"];Gt===1?Dr():Gt===2?Qr():(me("if(",Gt,"===",1,"){"),Dr(),me("}else{"),Qr(),me("}"))}var Wt=ar.shared;et.forEach(function(Gt){var Ht=Gt.name,nr=Ue.attributes[Ht],Dr;if(nr){if(!ft(nr))return;Dr=nr.append(ar,me)}else{if(!ft(gr))return;var Qr=ar.scopeAttrib(Ht);Dr={},Object.keys(new xa).forEach(function(Yr){Dr[Yr]=me.def(Qr,".",Yr)})}_t(ar.link(Gt),kt(Gt.info.type),Dr)})}function Ir(ar,me,Ue,et,ft,kt){for(var _t=ar.shared,Wt=_t.gl,Gt,Ht=0;Ht<et.length;++Ht){var Yr=et[Ht],nr=Yr.name,Dr=Yr.info.type,Qr=Ue.uniforms[nr],Yr=ar.link(Yr)+".location",Ur;if(Qr){if(!ft(Qr))continue;if(ae(Qr)){if(nr=Qr.value,Dr===35678||Dr===35680)Dr=ar.link(nr._texture||nr.color[0]._texture),me(Wt,".uniform1i(",Yr,",",Dr+".bind());"),me.exit(Dr,".unbind();");else if(Dr===35674||Dr===35675||Dr===35676)nr=ar.global.def("new Float32Array(["+Array.prototype.slice.call(nr)+"])"),Qr=2,Dr===35675?Qr=3:Dr===35676&&(Qr=4),me(Wt,".uniformMatrix",Qr,"fv(",Yr,",false,",nr,");");else{switch(Dr){case 5126:Gt="1f";break;case 35664:Gt="2f";break;case 35665:Gt="3f";break;case 35666:Gt="4f";break;case 35670:Gt="1i";break;case 5124:Gt="1i";break;case 35671:Gt="2i";break;case 35667:Gt="2i";break;case 35672:Gt="3i";break;case 35668:Gt="3i";break;case 35673:Gt="4i";break;case 35669:Gt="4i"}me(Wt,".uniform",Gt,"(",Yr,",",M(nr)?Array.prototype.slice.call(nr):nr,");")}continue}else Ur=Qr.append(ar,me)}else{if(!ft(gr))continue;Ur=me.def(_t.uniforms,"[",or.id(nr),"]")}switch(Dr===35678?me("if(",Ur,"&&",Ur,'._reglType==="framebuffer"){',Ur,"=",Ur,".color[0];","}"):Dr===35680&&me("if(",Ur,"&&",Ur,'._reglType==="framebufferCube"){',Ur,"=",Ur,".color[0];","}"),nr=1,Dr){case 35678:case 35680:Dr=me.def(Ur,"._texture"),me(Wt,".uniform1i(",Yr,",",Dr,".bind());"),me.exit(Dr,".unbind();");continue;case 5124:case 35670:Gt="1i";break;case 35667:case 35671:Gt="2i",nr=2;break;case 35668:case 35672:Gt="3i",nr=3;break;case 35669:case 35673:Gt="4i",nr=4;break;case 5126:Gt="1f";break;case 35664:Gt="2f",nr=2;break;case 35665:Gt="3f",nr=3;break;case 35666:Gt="4f",nr=4;break;case 35674:Gt="Matrix2fv";break;case 35675:Gt="Matrix3fv";break;case 35676:Gt="Matrix4fv"}if(Gt.charAt(0)==="M"){me(Wt,".uniform",Gt,"(",Yr,",");var Yr=Math.pow(Dr-35674+2,2),Pn=ar.global.def("new Float32Array(",Yr,")");Array.isArray(Ur)?me("false,(",u(Yr,function(Qn){return Pn+"["+Qn+"]="+Ur[Qn]}),",",Pn,")"):me("false,(Array.isArray(",Ur,")||",Ur," instanceof Float32Array)?",Ur,":(",u(Yr,function(Qn){return Pn+"["+Qn+"]="+Ur+"["+Qn+"]"}),",",Pn,")"),me(");")}else{if(1<nr){for(var Dr=[],Un=[],Qr=0;Qr<nr;++Qr)Array.isArray(Ur)?Un.push(Ur[Qr]):Un.push(me.def(Ur+"["+Qr+"]")),kt&&Dr.push(me.def());kt&&me("if(!",ar.batchId,"||",Dr.map(function(kn,Qn){return kn+"!=="+Un[Qn]}).join("||"),"){",Dr.map(function(kn,Qn){return kn+"="+Un[Qn]+";"}).join("")),me(Wt,".uniform",Gt,"(",Yr,",",Un.join(","),");")}else kt&&(Dr=me.def(),me("if(!",ar.batchId,"||",Dr,"!==",Ur,"){",Dr,"=",Ur,";")),me(Wt,".uniform",Gt,"(",Yr,",",Ur,");");kt&&me("}")}}}function jr(ar,me,Ue,et){function ft(qn){var ca=nr[qn];return ca?ca.contextDep&&et.contextDynamic||ca.propDep?ca.append(ar,Ue):ca.append(ar,me):me.def(Ht,".",qn)}function kt(){function qn(){Ue(Un,".drawElementsInstancedANGLE(",[Qr,Ur,kn,Yr+"<<(("+kn+"-5121)>>1)",Pn],");")}function ca(){Ue(Un,".drawArraysInstancedANGLE(",[Qr,Yr,Ur,Pn],");")}Dr&&Dr!=="null"?Qn?qn():(Ue("if(",Dr,"){"),qn(),Ue("}else{"),ca(),Ue("}")):ca()}function _t(){function qn(){Ue(Gt+".drawElements("+[Qr,Ur,kn,Yr+"<<(("+kn+"-5121)>>1)"]+");")}function ca(){Ue(Gt+".drawArrays("+[Qr,Yr,Ur]+");")}Dr&&Dr!=="null"?Qn?qn():(Ue("if(",Dr,"){"),qn(),Ue("}else{"),ca(),Ue("}")):ca()}var Wt=ar.shared,Gt=Wt.gl,Ht=Wt.draw,nr=et.draw,Dr=function(){var qn=nr.elements,ca=me;return qn?((qn.contextDep&&et.contextDynamic||qn.propDep)&&(ca=Ue),qn=qn.append(ar,ca),nr.elementsActive&&ca("if("+qn+")"+Gt+".bindBuffer(34963,"+qn+".buffer.buffer);")):(qn=ca.def(),ca(qn,"=",Ht,".","elements",";","if(",qn,"){",Gt,".bindBuffer(",34963,",",qn,".buffer.buffer);}","else if(",Wt.vao,".currentVAO){",qn,"=",ar.shared.elements+".getElements("+Wt.vao,".currentVAO.elements);",vn?"":"if("+qn+")"+Gt+".bindBuffer(34963,"+qn+".buffer.buffer);","}")),qn}(),Qr=ft("primitive"),Yr=ft("offset"),Ur=function(){var qn=nr.count,ca=me;return qn?((qn.contextDep&&et.contextDynamic||qn.propDep)&&(ca=Ue),qn=qn.append(ar,ca)):qn=ca.def(Ht,".","count"),qn}();if(typeof Ur=="number"){if(Ur===0)return}else Ue("if(",Ur,"){"),Ue.exit("}");var Pn,Un;Or&&(Pn=ft("instances"),Un=ar.instancing);var kn=Dr+".type",Qn=nr.elements&&ae(nr.elements)&&!nr.vaoActive;Or&&(typeof Pn!="number"||0<=Pn)?typeof Pn=="string"?(Ue("if(",Pn,">0){"),kt(),Ue("}else if(",Pn,"<0){"),_t(),Ue("}")):kt():_t()}function Wr(ar,me,Ue,et,ft){return me=Kt(),ft=me.proc("body",ft),Or&&(me.instancing=ft.def(me.shared.extensions,".angle_instanced_arrays")),ar(me,ft,Ue,et),me.compile().body}function An(ar,me,Ue,et){xn(ar,me),Ue.useVAO?Ue.drawVAO?me(ar.shared.vao,".setVAO(",Ue.drawVAO.append(ar,me),");"):me(ar.shared.vao,".setVAO(",ar.shared.vao,".targetVAO);"):(me(ar.shared.vao,".setVAO(null);"),br(ar,me,Ue,et.attributes,function(){return!0})),Ir(ar,me,Ue,et.uniforms,function(){return!0},!1),jr(ar,me,me,Ue)}function wn(ar,me){var Ue=ar.proc("draw",1);xn(ar,Ue),an(ar,Ue,me.context),Zr(ar,Ue,me.framebuffer),Nn(ar,Ue,me),fn(ar,Ue,me.state),On(ar,Ue,me,!1,!0);var et=me.shader.progVar.append(ar,Ue);if(Ue(ar.shared.gl,".useProgram(",et,".program);"),me.shader.program)An(ar,Ue,me,me.shader.program);else{Ue(ar.shared.vao,".setVAO(null);");var ft=ar.global.def("{}"),kt=Ue.def(et,".id"),_t=Ue.def(ft,"[",kt,"]");Ue(ar.cond(_t).then(_t,".call(this,a0);").else(_t,"=",ft,"[",kt,"]=",ar.link(function(Wt){return Wr(An,ar,me,Wt,1)}),"(",et,");",_t,".call(this,a0);"))}0<Object.keys(me.state).length&&Ue(ar.shared.current,".dirty=true;"),ar.shared.vao&&Ue(ar.shared.vao,".setVAO(null);")}function Tn(ar,me,Ue,et){function ft(){return!0}ar.batchId="a1",xn(ar,me),br(ar,me,Ue,et.attributes,ft),Ir(ar,me,Ue,et.uniforms,ft,!1),jr(ar,me,me,Ue)}function Rn(ar,me,Ue,et){function ft(Dr){return Dr.contextDep&&_t||Dr.propDep}function kt(Dr){return!ft(Dr)}xn(ar,me);var _t=Ue.contextDep,Wt=me.def(),Gt=me.def();ar.shared.props=Gt,ar.batchId=Wt;var Ht=ar.scope(),nr=ar.scope();me(Ht.entry,"for(",Wt,"=0;",Wt,"<","a1",";++",Wt,"){",Gt,"=","a0","[",Wt,"];",nr,"}",Ht.exit),Ue.needsContext&&an(ar,nr,Ue.context),Ue.needsFramebuffer&&Zr(ar,nr,Ue.framebuffer),fn(ar,nr,Ue.state,ft),Ue.profile&&ft(Ue.profile)&&On(ar,nr,Ue,!1,!0),et?(Ue.useVAO?Ue.drawVAO?ft(Ue.drawVAO)?nr(ar.shared.vao,".setVAO(",Ue.drawVAO.append(ar,nr),");"):Ht(ar.shared.vao,".setVAO(",Ue.drawVAO.append(ar,Ht),");"):Ht(ar.shared.vao,".setVAO(",ar.shared.vao,".targetVAO);"):(Ht(ar.shared.vao,".setVAO(null);"),br(ar,Ht,Ue,et.attributes,kt),br(ar,nr,Ue,et.attributes,ft)),Ir(ar,Ht,Ue,et.uniforms,kt,!1),Ir(ar,nr,Ue,et.uniforms,ft,!0),jr(ar,Ht,nr,Ue)):(me=ar.global.def("{}"),et=Ue.shader.progVar.append(ar,nr),Gt=nr.def(et,".id"),Ht=nr.def(me,"[",Gt,"]"),nr(ar.shared.gl,".useProgram(",et,".program);","if(!",Ht,"){",Ht,"=",me,"[",Gt,"]=",ar.link(function(Dr){return Wr(Tn,ar,Ue,Dr,2)}),"(",et,");}",Ht,".call(this,a0[",Wt,"],",Wt,");"))}function Gn(ar,me){function Ue(Ht){return Ht.contextDep&&ft||Ht.propDep}var et=ar.proc("batch",2);ar.batchId="0",xn(ar,et);var ft=!1,kt=!0;Object.keys(me.context).forEach(function(Ht){ft=ft||me.context[Ht].propDep}),ft||(an(ar,et,me.context),kt=!1);var _t=me.framebuffer,Wt=!1;if(_t?(_t.propDep?ft=Wt=!0:_t.contextDep&&ft&&(Wt=!0),Wt||Zr(ar,et,_t)):Zr(ar,et,null),me.state.viewport&&me.state.viewport.propDep&&(ft=!0),Nn(ar,et,me),fn(ar,et,me.state,function(Ht){return!Ue(Ht)}),me.profile&&Ue(me.profile)||On(ar,et,me,!1,"a1"),me.contextDep=ft,me.needsContext=kt,me.needsFramebuffer=Wt,kt=me.shader.progVar,kt.contextDep&&ft||kt.propDep)Rn(ar,et,me,null);else if(kt=kt.append(ar,et),et(ar.shared.gl,".useProgram(",kt,".program);"),me.shader.program)Rn(ar,et,me,me.shader.program);else{et(ar.shared.vao,".setVAO(null);");var _t=ar.global.def("{}"),Wt=et.def(kt,".id"),Gt=et.def(_t,"[",Wt,"]");et(ar.cond(Gt).then(Gt,".call(this,a0,a1);").else(Gt,"=",_t,"[",Wt,"]=",ar.link(function(Dr){return Wr(Rn,ar,me,Dr,2)}),"(",kt,");",Gt,".call(this,a0,a1);"))}0<Object.keys(me.state).length&&et(ar.shared.current,".dirty=true;"),ar.shared.vao&&et(ar.shared.vao,".setVAO(null);")}function ma(ar,me){function Ue(Wt){var Gt=me.shader[Wt];Gt&&(Gt=Gt.append(ar,et),isNaN(Gt)?et.set(ft.shader,"."+Wt,Gt):et.set(ft.shader,"."+Wt,ar.link(Gt,{stable:!0})))}var et=ar.proc("scope",3);ar.batchId="a2";var ft=ar.shared,kt=ft.current;if(an(ar,et,me.context),me.framebuffer&&me.framebuffer.append(ar,et),V(Object.keys(me.state)).forEach(function(Wt){var Gt=me.state[Wt],Ht=Gt.append(ar,et);M(Ht)?Ht.forEach(function(nr,Dr){isNaN(nr)?et.set(ar.next[Wt],"["+Dr+"]",nr):et.set(ar.next[Wt],"["+Dr+"]",ar.link(nr,{stable:!0}))}):ae(Gt)?et.set(ft.next,"."+Wt,ar.link(Ht,{stable:!0})):et.set(ft.next,"."+Wt,Ht)}),On(ar,et,me,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Wt){var Gt=me.draw[Wt];Gt&&(Gt=Gt.append(ar,et),isNaN(Gt)?et.set(ft.draw,"."+Wt,Gt):et.set(ft.draw,"."+Wt,ar.link(Gt),{stable:!0}))}),Object.keys(me.uniforms).forEach(function(Wt){var Gt=me.uniforms[Wt].append(ar,et);Array.isArray(Gt)&&(Gt="["+Gt.map(function(Ht){return isNaN(Ht)?Ht:ar.link(Ht,{stable:!0})})+"]"),et.set(ft.uniforms,"["+ar.link(or.id(Wt),{stable:!0})+"]",Gt)}),Object.keys(me.attributes).forEach(function(Wt){var Gt=me.attributes[Wt].append(ar,et),Ht=ar.scopeAttrib(Wt);Object.keys(new xa).forEach(function(nr){et.set(Ht,"."+nr,Gt[nr])})}),me.scopeVAO){var _t=me.scopeVAO.append(ar,et);isNaN(_t)?et.set(ft.vao,".targetVAO",_t):et.set(ft.vao,".targetVAO",ar.link(_t,{stable:!0}))}Ue("vert"),Ue("frag"),0<Object.keys(me.state).length&&(et(kt,".dirty=true;"),et.exit(kt,".dirty=true;")),et("a1(",ar.shared.context,",a0,",ar.batchId,");")}function pa(ar){if(typeof ar=="object"&&!M(ar)){for(var me=Object.keys(ar),Ue=0;Ue<me.length;++Ue)if(ge.isDynamic(ar[me[Ue]]))return!0;return!1}}function ua(ar,me,Ue){function et(Dr,Qr){_t.forEach(function(Yr){var Ur=ft[Yr];ge.isDynamic(Ur)&&(Ur=Dr.invoke(Qr,Ur),Qr(nr,".",Yr,"=",Ur,";"))})}var ft=me.static[Ue];if(ft&&pa(ft)){var kt=ar.global,_t=Object.keys(ft),Wt=!1,Gt=!1,Ht=!1,nr=ar.global.def("{}");_t.forEach(function(Dr){var Qr=ft[Dr];if(ge.isDynamic(Qr))typeof Qr=="function"&&(Qr=ft[Dr]=ge.unbox(Qr)),Dr=J(Qr,null),Wt=Wt||Dr.thisDep,Ht=Ht||Dr.propDep,Gt=Gt||Dr.contextDep;else{switch(kt(nr,".",Dr,"="),typeof Qr){case"number":kt(Qr);break;case"string":kt('"',Qr,'"');break;case"object":Array.isArray(Qr)&&kt("[",Qr.join(),"]");break;default:kt(ar.link(Qr))}kt(";")}}),me.dynamic[Ue]=new ge.DynamicVariable(4,{thisDep:Wt,contextDep:Gt,propDep:Ht,ref:nr,append:et}),delete me.static[Ue]}}var xa=Dt.Record,ga={add:32774,subtract:32778,"reverse subtract":32779};rr.ext_blend_minmax&&(ga.min=32775,ga.max=32776);var Or=rr.angle_instanced_arrays,cn=rr.webgl_draw_buffers,vn=rr.oes_vertex_array_object,Cn={dirty:!0,profile:He.profile},Wn={},Fn=[],Hn={},Xn={};Ct("dither",3024),Ct("blend.enable",3042),Ut("blend.color","blendColor",[0,0,0,0]),Ut("blend.equation","blendEquationSeparate",[32774,32774]),Ut("blend.func","blendFuncSeparate",[1,0,1,0]),Ct("depth.enable",2929,!0),Ut("depth.func","depthFunc",513),Ut("depth.range","depthRange",[0,1]),Ut("depth.mask","depthMask",!0),Ut("colorMask","colorMask",[!0,!0,!0,!0]),Ct("cull.enable",2884),Ut("cull.face","cullFace",1029),Ut("frontFace","frontFace",2305),Ut("lineWidth","lineWidth",1),Ct("polygonOffset.enable",32823),Ut("polygonOffset.offset","polygonOffset",[0,0]),Ct("sample.alpha",32926),Ct("sample.enable",32928),Ut("sample.coverage","sampleCoverage",[1,!1]),Ct("stencil.enable",2960),Ut("stencil.mask","stencilMask",-1),Ut("stencil.func","stencilFunc",[519,0,-1]),Ut("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ut("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ct("scissor.enable",3089),Ut("scissor.box","scissor",[0,0,At.drawingBufferWidth,At.drawingBufferHeight]),Ut("viewport","viewport",[0,0,At.drawingBufferWidth,At.drawingBufferHeight]);var sa={gl:At,context:$t,strings:or,next:Wn,current:Cn,draw:Zt,elements:pt,buffer:Tr,shader:Nt,attributes:Dt.state,vao:Dt,uniforms:Pt,framebuffer:yt,extensions:rr,timer:lr,isBufferArgs:G},ka={primTypes:at,compareFuncs:qt,blendFuncs:Jt,blendEquations:ga,stencilOps:Vt,glTypes:We,orientationType:vr};cn&&(ka.backBuffer=[1029],ka.drawBuffer=u(Lr.maxDrawbuffers,function(ar){return ar===0?[0]:u(ar,function(me){return 36064+me})}));var oi=0;return{next:Wn,current:Cn,procs:function(){var ar=Kt(),me=ar.proc("poll"),Ue=ar.proc("refresh"),et=ar.block();me(et),Ue(et);var Gt=ar.shared,ft=Gt.gl,kt=Gt.next,_t=Gt.current;et(_t,".dirty=false;"),Zr(ar,me),Zr(ar,Ue,null,!0);var Wt;Or&&(Wt=ar.link(Or)),rr.oes_vertex_array_object&&Ue(ar.link(rr.oes_vertex_array_object),".bindVertexArrayOES(null);");var Gt=Ue.def(Gt.attributes),Ht=Ue.def(0),nr=ar.cond(Ht,".buffer");nr.then(ft,".enableVertexAttribArray(i);",ft,".bindBuffer(",34962,",",Ht,".buffer.buffer);",ft,".vertexAttribPointer(i,",Ht,".size,",Ht,".type,",Ht,".normalized,",Ht,".stride,",Ht,".offset);").else(ft,".disableVertexAttribArray(i);",ft,".vertexAttrib4f(i,",Ht,".x,",Ht,".y,",Ht,".z,",Ht,".w);",Ht,".buffer=null;");var Dr=ar.link(Lr.maxAttributes,{stable:!0});return Ue("for(var i=0;i<",Dr,";++i){",Ht,"=",Gt,"[i];",nr,"}"),Or&&Ue("for(var i=0;i<",Dr,";++i){",Wt,".vertexAttribDivisorANGLE(i,",Gt,"[i].divisor);","}"),Ue(ar.shared.vao,".currentVAO=null;",ar.shared.vao,".setVAO(",ar.shared.vao,".targetVAO);"),Object.keys(Hn).forEach(function(Qr){var Yr=Hn[Qr],Ur=et.def(kt,".",Qr),Pn=ar.block();Pn("if(",Ur,"){",ft,".enable(",Yr,")}else{",ft,".disable(",Yr,")}",_t,".",Qr,"=",Ur,";"),Ue(Pn),me("if(",Ur,"!==",_t,".",Qr,"){",Pn,"}")}),Object.keys(Xn).forEach(function(Qr){var Yr=Xn[Qr],Ur=Cn[Qr],Pn,Un,kn=ar.block();kn(ft,".",Yr,"("),M(Ur)?(Yr=Ur.length,Pn=ar.global.def(kt,".",Qr),Un=ar.global.def(_t,".",Qr),kn(u(Yr,function(Qn){return Pn+"["+Qn+"]"}),");",u(Yr,function(Qn){return Un+"["+Qn+"]="+Pn+"["+Qn+"];"}).join("")),me("if(",u(Yr,function(Qn){return Pn+"["+Qn+"]!=="+Un+"["+Qn+"]"}).join("||"),"){",kn,"}")):(Pn=et.def(kt,".",Qr),Un=et.def(_t,".",Qr),kn(Pn,");",_t,".",Qr,"=",Pn,";"),me("if(",Pn,"!==",Un,"){",kn,"}")),Ue(kn)}),ar.compile()}(),compile:function(ar,me,Ue,et,ft){var kt=Kt();kt.stats=kt.link(ft),Object.keys(me.static).forEach(function(Wt){ua(kt,me,Wt)}),Ot.forEach(function(Wt){ua(kt,ar,Wt)});var _t=pn(ar,me,Ue,et,kt);return _t.shader.program&&(_t.shader.program.attributes.sort(function(Wt,Gt){return Wt.name<Gt.name?-1:1}),_t.shader.program.uniforms.sort(function(Wt,Gt){return Wt.name<Gt.name?-1:1})),wn(kt,_t),ma(kt,_t),Gn(kt,_t),ee(kt.compile(),{destroy:function(){_t.shader.program.destroy()}})}}}function se(At,or){for(var rr=0;rr<At.length;++rr)if(At[rr]===or)return rr;return-1}var ee=function(At,or){for(var rr=Object.keys(or),Lr=0;Lr<rr.length;++Lr)At[rr[Lr]]=or[rr[Lr]];return At},ue=0,ge={DynamicVariable:U,define:function(At,or){return new U(At,p(or+""))},isDynamic:function(At){return typeof At=="function"&&!At._reglType||At instanceof U},unbox:L,accessor:p},Te={next:typeof requestAnimationFrame=="function"?function(At){return requestAnimationFrame(At)}:function(At){return setTimeout(At,16)},cancel:typeof cancelAnimationFrame=="function"?function(At){return cancelAnimationFrame(At)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pe=l();Pe.zero=l();var Ie=function(At,or){var rr=1;or.ext_texture_filter_anisotropic&&(rr=At.getParameter(34047));var Lr=1,Tr=1;or.webgl_draw_buffers&&(Lr=At.getParameter(34852),Tr=At.getParameter(36063));var pt=!!or.oes_texture_float;if(pt){pt=At.createTexture(),At.bindTexture(3553,pt),At.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=At.createFramebuffer();if(At.bindFramebuffer(36160,st),At.framebufferTexture2D(36160,36064,3553,pt,0),At.bindTexture(3553,null),At.checkFramebufferStatus(36160)!==36053)pt=!1;else{At.viewport(0,0,1,1),At.clearColor(1,0,0,1),At.clear(16384);var yt=Pe.allocType(5126,4);At.readPixels(0,0,1,1,6408,5126,yt),At.getError()?pt=!1:(At.deleteFramebuffer(st),At.deleteTexture(pt),pt=yt[0]===1),Pe.freeType(yt)}}return yt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(yt=At.createTexture(),st=Pe.allocType(5121,36),At.activeTexture(33984),At.bindTexture(34067,yt),At.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Pe.freeType(st),At.bindTexture(34067,null),At.deleteTexture(yt),yt=!At.getError()),{colorBits:[At.getParameter(3410),At.getParameter(3411),At.getParameter(3412),At.getParameter(3413)],depthBits:At.getParameter(3414),stencilBits:At.getParameter(3415),subpixelBits:At.getParameter(3408),extensions:Object.keys(or).filter(function(Pt){return!!or[Pt]}),maxAnisotropic:rr,maxDrawbuffers:Lr,maxColorAttachments:Tr,pointSizeDims:At.getParameter(33901),lineWidthDims:At.getParameter(33902),maxViewportDims:At.getParameter(3386),maxCombinedTextureUnits:At.getParameter(35661),maxCubeMapSize:At.getParameter(34076),maxRenderbufferSize:At.getParameter(34024),maxTextureUnits:At.getParameter(34930),maxTextureSize:At.getParameter(3379),maxAttributes:At.getParameter(34921),maxVertexUniforms:At.getParameter(36347),maxVertexTextureUnits:At.getParameter(35660),maxVaryingVectors:At.getParameter(36348),maxFragmentUniforms:At.getParameter(36349),glsl:At.getParameter(35724),renderer:At.getParameter(7937),vendor:At.getParameter(7936),version:At.getParameter(7938),readFloat:pt,npotTextureCube:yt}},Ae=function(At){return At instanceof Uint8Array||At instanceof Uint16Array||At instanceof Uint32Array||At instanceof Int8Array||At instanceof Int16Array||At instanceof Int32Array||At instanceof Float32Array||At instanceof Float64Array||At instanceof Uint8ClampedArray},be=function(At){return Object.keys(At).map(function(or){return At[or]})},_e={shape:function(At){for(var or=[];At.length;At=At[0])or.push(At.length);return or},flatten:function(At,or,rr,Lr){var Tr=1;if(or.length)for(var pt=0;pt<or.length;++pt)Tr*=or[pt];else Tr=0;switch(rr=Lr||Pe.allocType(rr,Tr),or.length){case 0:break;case 1:for(Lr=or[0],or=0;or<Lr;++or)rr[or]=At[or];break;case 2:for(Lr=or[0],or=or[1],pt=Tr=0;pt<Lr;++pt)for(var st=At[pt],yt=0;yt<or;++yt)rr[Tr++]=st[yt];break;case 3:n(At,or[0],or[1],or[2],rr,0);break;default:x(At,or,0,rr,0)}return rr}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},We={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ze={dynamic:35048,stream:35040,static:35044},Ze=_e.flatten,ct=_e.shape,lt=[];lt[5120]=1,lt[5122]=2,lt[5124]=4,lt[5121]=1,lt[5123]=2,lt[5125]=4,lt[5126]=4;var at={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},tt=new Float32Array(1),dt=new Uint32Array(tt.buffer),wt=[9984,9986,9985,9987],Mt=[0,6409,6410,6407,6408],It={};It[6409]=It[6406]=It[6402]=1,It[34041]=It[6410]=2,It[6407]=It[35904]=3,It[6408]=It[35906]=4;var $e=C("HTMLCanvasElement"),ke=C("OffscreenCanvas"),Fe=C("CanvasRenderingContext2D"),qe=C("ImageBitmap"),it=C("HTMLImageElement"),Je=C("HTMLVideoElement"),Re=Object.keys(Ve).concat([$e,ke,Fe,qe,it,Je]),Me=[];Me[5121]=1,Me[5126]=4,Me[36193]=2,Me[5123]=2,Me[5125]=4;var fe=[];fe[32854]=2,fe[32855]=2,fe[36194]=2,fe[34041]=4,fe[33776]=.5,fe[33777]=.5,fe[33778]=1,fe[33779]=1,fe[35986]=.5,fe[35987]=1,fe[34798]=1,fe[35840]=.5,fe[35841]=.25,fe[35842]=.5,fe[35843]=.25,fe[36196]=.5;var ye=[];ye[32854]=2,ye[32855]=2,ye[36194]=2,ye[33189]=2,ye[36168]=1,ye[34041]=4,ye[35907]=4,ye[34836]=16,ye[34842]=8,ye[34843]=6;var Le=function(At,or,rr,Lr,Tr){function pt(Zt){this.id=Dt++,this.refCount=1,this.renderbuffer=Zt,this.format=32854,this.height=this.width=0,Tr.profile&&(this.stats={size:0})}function st(Zt){var $t=Zt.renderbuffer;At.bindRenderbuffer(36161,null),At.deleteRenderbuffer($t),Zt.renderbuffer=null,Zt.refCount=0,delete Nt[Zt.id],Lr.renderbufferCount--}var yt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};or.ext_srgb&&(yt.srgba=35907),or.ext_color_buffer_half_float&&(yt.rgba16f=34842,yt.rgb16f=34843),or.webgl_color_buffer_float&&(yt.rgba32f=34836);var Pt=[];Object.keys(yt).forEach(function(Zt){Pt[yt[Zt]]=Zt});var Dt=0,Nt={};return pt.prototype.decRef=function(){0>=--this.refCount&&st(this)},Tr.profile&&(Lr.getTotalRenderbufferSize=function(){var Zt=0;return Object.keys(Nt).forEach(function($t){Zt+=Nt[$t].stats.size}),Zt}),{create:function(Zt,$t){function lr(He,Ge){var Ct=0,Ut=0,Kt=32854;if(typeof He=="object"&&He?("shape"in He?(Ut=He.shape,Ct=Ut[0]|0,Ut=Ut[1]|0):("radius"in He&&(Ct=Ut=He.radius|0),"width"in He&&(Ct=He.width|0),"height"in He&&(Ut=He.height|0)),"format"in He&&(Kt=yt[He.format])):typeof He=="number"?(Ct=He|0,Ut=typeof Ge=="number"?Ge|0:Ct):He||(Ct=Ut=1),Ct!==ir.width||Ut!==ir.height||Kt!==ir.format)return lr.width=ir.width=Ct,lr.height=ir.height=Ut,ir.format=Kt,At.bindRenderbuffer(36161,ir.renderbuffer),At.renderbufferStorage(36161,Kt,Ct,Ut),Tr.profile&&(ir.stats.size=ye[ir.format]*ir.width*ir.height),lr.format=Pt[ir.format],lr}var ir=new pt(At.createRenderbuffer());return Nt[ir.id]=ir,Lr.renderbufferCount++,lr(Zt,$t),lr.resize=function(He,Ge){var Ct=He|0,Ut=Ge|0||Ct;return Ct===ir.width&&Ut===ir.height||(lr.width=ir.width=Ct,lr.height=ir.height=Ut,At.bindRenderbuffer(36161,ir.renderbuffer),At.renderbufferStorage(36161,ir.format,Ct,Ut),Tr.profile&&(ir.stats.size=ye[ir.format]*ir.width*ir.height)),lr},lr._reglType="renderbuffer",lr._renderbuffer=ir,Tr.profile&&(lr.stats=ir.stats),lr.destroy=function(){ir.decRef()},lr},clear:function(){be(Nt).forEach(st)},restore:function(){be(Nt).forEach(function(Zt){Zt.renderbuffer=At.createRenderbuffer(),At.bindRenderbuffer(36161,Zt.renderbuffer),At.renderbufferStorage(36161,Zt.format,Zt.width,Zt.height)}),At.bindRenderbuffer(36161,null)}}},Oe=[];Oe[6408]=4,Oe[6407]=3;var ht=[];ht[5121]=1,ht[5126]=4,ht[36193]=2;var vt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Lt=["x","y","z","w"],Ot="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Jt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},qt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Vt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},vr={cw:2304,ccw:2305},gr=new Z(!1,!1,!1,function(){}),Gr=function(At,or){function rr(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Lr(Nt,Zt,$t){var lr=st.pop()||new rr;lr.startQueryIndex=Nt,lr.endQueryIndex=Zt,lr.sum=0,lr.stats=$t,yt.push(lr)}if(!or.ext_disjoint_timer_query)return null;var Tr=[],pt=[],st=[],yt=[],Pt=[],Dt=[];return{beginQuery:function(Nt){var Zt=Tr.pop()||or.ext_disjoint_timer_query.createQueryEXT();or.ext_disjoint_timer_query.beginQueryEXT(35007,Zt),pt.push(Zt),Lr(pt.length-1,pt.length,Nt)},endQuery:function(){or.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Lr,update:function(){var Nt,Zt;if(Nt=pt.length,Nt!==0){Dt.length=Math.max(Dt.length,Nt+1),Pt.length=Math.max(Pt.length,Nt+1),Pt[0]=0;var $t=Dt[0]=0;for(Zt=Nt=0;Zt<pt.length;++Zt){var lr=pt[Zt];or.ext_disjoint_timer_query.getQueryObjectEXT(lr,34919)?($t+=or.ext_disjoint_timer_query.getQueryObjectEXT(lr,34918),Tr.push(lr)):pt[Nt++]=lr,Pt[Zt+1]=$t,Dt[Zt+1]=Nt}for(pt.length=Nt,Zt=Nt=0;Zt<yt.length;++Zt){var $t=yt[Zt],ir=$t.startQueryIndex,lr=$t.endQueryIndex;$t.sum+=Pt[lr]-Pt[ir],ir=Dt[ir],lr=Dt[lr],lr===ir?($t.stats.gpuTime+=$t.sum/1e6,st.push($t)):($t.startQueryIndex=ir,$t.endQueryIndex=lr,yt[Nt++]=$t)}yt.length=Nt}},getNumPendingQueries:function(){return pt.length},clear:function(){Tr.push.apply(Tr,pt);for(var Nt=0;Nt<Tr.length;Nt++)or.ext_disjoint_timer_query.deleteQueryEXT(Tr[Nt]);pt.length=0,Tr.length=0},restore:function(){pt.length=0,Tr.length=0}}};return function(At){function or(){if(On.length===0)Kt&&Kt.update(),Wr=null;else{Wr=Te.next(or),Nt();for(var wn=On.length-1;0<=wn;--wn){var Tn=On[wn];Tn&&Tn(Ar,null,0)}lr.flush(),Kt&&Kt.update()}}function rr(){!Wr&&0<On.length&&(Wr=Te.next(or))}function Lr(){Wr&&(Te.cancel(or),Wr=null)}function Tr(wn){wn.preventDefault(),Lr(),br.forEach(function(Tn){Tn()})}function pt(wn){lr.getError(),He.restore(),Br.restore(),er.restore(),yr.restore(),pn.restore(),an.restore(),Vr.restore(),Kt&&Kt.restore(),Zr.procs.refresh(),rr(),Ir.forEach(function(Tn){Tn()})}function st(wn){function Tn(Cn,Wn){var Fn={},Hn={};return Object.keys(Cn).forEach(function(Xn){var sa=Cn[Xn];if(ge.isDynamic(sa))Hn[Xn]=ge.unbox(sa,Xn);else{if(Wn&&Array.isArray(sa)){for(var ka=0;ka<sa.length;++ka)if(ge.isDynamic(sa[ka])){Hn[Xn]=ge.unbox(sa,Xn);return}}Fn[Xn]=sa}}),{dynamic:Hn,static:Fn}}function Rn(Cn){for(;vn.length<Cn;)vn.push(null);return vn}var Gn=Tn(wn.context||{},!0),ma=Tn(wn.uniforms||{},!0),pa=Tn(wn.attributes||{},!1);wn=Tn(function(Cn){function Wn(Hn){if(Hn in Fn){var Xn=Fn[Hn];delete Fn[Hn],Object.keys(Xn).forEach(function(sa){Fn[Hn+"."+sa]=Xn[sa]})}}var Fn=ee({},Cn);return delete Fn.uniforms,delete Fn.attributes,delete Fn.context,delete Fn.vao,"stencil"in Fn&&Fn.stencil.op&&(Fn.stencil.opBack=Fn.stencil.opFront=Fn.stencil.op,delete Fn.stencil.op),Wn("blend"),Wn("depth"),Wn("cull"),Wn("stencil"),Wn("polygonOffset"),Wn("scissor"),Wn("sample"),"vao"in Cn&&(Fn.vao=Cn.vao),Fn}(wn),!1);var ua={gpuTime:0,cpuTime:0,count:0},xa=Zr.compile(wn,pa,ma,Gn,ua),ga=xa.draw,Or=xa.batch,cn=xa.scope,vn=[];return ee(function(Cn,Wn){var Fn;if(typeof Cn=="function")return cn.call(this,null,Cn,0);if(typeof Wn=="function")if(typeof Cn=="number")for(Fn=0;Fn<Cn;++Fn)cn.call(this,null,Wn,Fn);else if(Array.isArray(Cn))for(Fn=0;Fn<Cn.length;++Fn)cn.call(this,Cn[Fn],Wn,Fn);else return cn.call(this,Cn,Wn,0);else if(typeof Cn=="number"){if(0<Cn)return Or.call(this,Rn(Cn|0),Cn|0)}else if(Array.isArray(Cn)){if(Cn.length)return Or.call(this,Cn,Cn.length)}else return ga.call(this,Cn)},{stats:ua,destroy:function(){xa.destroy()}})}function yt(wn,Tn){var Rn=0;Zr.procs.poll();var Gn=Tn.color;Gn&&(lr.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Rn|=16384),"depth"in Tn&&(lr.clearDepth(+Tn.depth),Rn|=256),"stencil"in Tn&&(lr.clearStencil(Tn.stencil|0),Rn|=1024),lr.clear(Rn)}function Pt(wn){return On.push(wn),rr(),{cancel:function(){function Tn(){var Gn=se(On,Tn);On[Gn]=On[On.length-1],--On.length,0>=On.length&&Lr()}var Rn=se(On,wn);On[Rn]=Tn}}}function Dt(){var wn=fn.viewport,Tn=fn.scissor_box;wn[0]=wn[1]=Tn[0]=Tn[1]=0,Ar.viewportWidth=Ar.framebufferWidth=Ar.drawingBufferWidth=wn[2]=Tn[2]=lr.drawingBufferWidth,Ar.viewportHeight=Ar.framebufferHeight=Ar.drawingBufferHeight=wn[3]=Tn[3]=lr.drawingBufferHeight}function Nt(){Ar.tick+=1,Ar.time=$t(),Dt(),Zr.procs.poll()}function Zt(){yr.refresh(),Dt(),Zr.procs.refresh(),Kt&&Kt.update()}function $t(){return(xe()-Xt)/1e3}if(At=t(At),!At)return null;var lr=At.gl,ir=lr.getContextAttributes();lr.isContextLost();var He=r(lr,At);if(!He)return null;var Nn=a(),Ge={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ct=At.cachedCode||{},Ut=He.extensions,Kt=Gr(lr,Ut),Xt=xe(),Rr=lr.drawingBufferWidth,ur=lr.drawingBufferHeight,Ar={tick:0,time:0,viewportWidth:Rr,viewportHeight:ur,framebufferWidth:Rr,framebufferHeight:ur,drawingBufferWidth:Rr,drawingBufferHeight:ur,pixelRatio:At.pixelRatio},Rr={elements:null,primitive:4,count:-1,offset:0,instances:-1},wr=Ie(lr,Ut),er=s(lr,Ge,At,function(wn){return Vr.destroyBuffer(wn)}),_r=d(lr,Ut,er,Ge),Vr=I(lr,Ut,wr,Ge,er,_r,Rr),Br=O(lr,Nn,Ge,At),yr=F(lr,Ut,wr,function(){Zr.procs.poll()},Ar,Ge,At),pn=Le(lr,Ut,wr,Ge,At),an=_(lr,Ut,wr,yr,pn,Ge),Zr=$(lr,Nn,Ut,wr,er,_r,yr,an,{},Vr,Br,Rr,Ar,Kt,Ct,At),Nn=z(lr,an,Zr.procs.poll,Ar),fn=Zr.next,xn=lr.canvas,On=[],br=[],Ir=[],jr=[At.onDestroy],Wr=null;xn&&(xn.addEventListener("webglcontextlost",Tr,!1),xn.addEventListener("webglcontextrestored",pt,!1));var An=an.setFBO=st({framebuffer:ge.define.call(null,1,"framebuffer")});return Zt(),ir=ee(st,{clear:function(wn){if("framebuffer"in wn)if(wn.framebuffer&&wn.framebuffer_reglType==="framebufferCube")for(var Tn=0;6>Tn;++Tn)An(ee({framebuffer:wn.framebuffer.faces[Tn]},wn),yt);else An(wn,yt);else yt(null,wn)},prop:ge.define.bind(null,1),context:ge.define.bind(null,2),this:ge.define.bind(null,3),draw:st({}),buffer:function(wn){return er.create(wn,34962,!1,!1)},elements:function(wn){return _r.create(wn,!1)},texture:yr.create2D,cube:yr.createCube,renderbuffer:pn.create,framebuffer:an.create,framebufferCube:an.createCube,vao:Vr.createVAO,attributes:ir,frame:Pt,on:function(wn,Tn){var Rn;switch(wn){case"frame":return Pt(Tn);case"lost":Rn=br;break;case"restore":Rn=Ir;break;case"destroy":Rn=jr}return Rn.push(Tn),{cancel:function(){for(var Gn=0;Gn<Rn.length;++Gn)if(Rn[Gn]===Tn){Rn[Gn]=Rn[Rn.length-1],Rn.pop();break}}}},limits:wr,hasExtension:function(wn){return 0<=wr.extensions.indexOf(wn.toLowerCase())},read:Nn,destroy:function(){On.length=0,Lr(),xn&&(xn.removeEventListener("webglcontextlost",Tr),xn.removeEventListener("webglcontextrestored",pt)),Br.clear(),an.clear(),pn.clear(),Vr.clear(),yr.clear(),_r.clear(),er.clear(),Kt&&Kt.clear(),jr.forEach(function(wn){wn()})},_gl:lr,_refresh:Zt,poll:function(){Nt(),Kt&&Kt.update()},now:$t,stats:Ge,getCachedCode:function(){return Ct},preloadCachedCode:function(wn){Object.entries(wn).forEach(function(Tn){Ct[Tn[0]]=Tn[1]})}}),At.onDone(null,ir),ir}})},71665:function(W,U,e){var p=e(12856),L=p.Buffer;function a(A,v){for(var g in A)v[g]=A[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?W.exports=p:(a(p,U),U.Buffer=P);function P(A,v,g){return L(A,v,g)}P.prototype=Object.create(L.prototype),a(L,P),P.from=function(A,v,g){if(typeof A=="number")throw new TypeError("Argument must not be a number");return L(A,v,g)},P.alloc=function(A,v,g){if(typeof A!="number")throw new TypeError("Argument must be a number");var t=L(A);return v!==void 0?typeof g=="string"?t.fill(v,g):t.fill(v):t.fill(0),t},P.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return L(A)},P.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(A)}},21630:function(W,U,e){W.exports=a;var p=e(15398).EventEmitter,L=e(42018);L(a,p),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){p.call(this)}a.prototype.pipe=function(P,A){var v=this;function g(n){P.writable&&P.write(n)===!1&&v.pause&&v.pause()}v.on("data",g);function t(){v.readable&&v.resume&&v.resume()}P.on("drain",t),!P._isStdio&&(!A||A.end!==!1)&&(v.on("end",u),v.on("close",o));var r=!1;function u(){r||(r=!0,P.end())}function o(){r||(r=!0,typeof P.destroy=="function"&&P.destroy())}function l(n){if(c(),p.listenerCount(this,"error")===0)throw n}v.on("error",l),P.on("error",l);function c(){v.removeListener("data",g),P.removeListener("drain",t),v.removeListener("end",u),v.removeListener("close",o),v.removeListener("error",l),P.removeListener("error",l),v.removeListener("end",c),v.removeListener("close",c),P.removeListener("close",c)}return v.on("end",c),v.on("close",c),P.on("close",c),P.emit("pipe",v),P}},74322:function(W){function U(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var e={};function p(v,g,t){t||(t=Error);function r(o,l,c){return typeof g=="string"?g:g(o,l,c)}var u=function(o){U(l,o);function l(c,n,x){return o.call(this,r(c,n,x))||this}return l}(t);u.prototype.name=t.name,u.prototype.code=v,e[v]=u}function L(v,g){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(g," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(g," ").concat(v[0]," or ").concat(v[1]):"of ".concat(g," ").concat(v[0])}else return"of ".concat(g," ").concat(String(v))}function a(v,g,t){return v.substr(!t||t<0?0:+t,g.length)===g}function P(v,g,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-g.length,t)===g}function A(v,g,t){return typeof t!="number"&&(t=0),t+g.length>v.length?!1:v.indexOf(g,t)!==-1}p("ERR_INVALID_OPT_VALUE",function(v,g){return'The value "'+g+'" is invalid for option "'+v+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(v,g,t){var r;typeof g=="string"&&a(g,"not ")?(r="must not be",g=g.replace(/^not /,"")):r="must be";var u;if(P(v," argument"))u="The ".concat(v," ").concat(r," ").concat(L(g,"type"));else{var o=A(v,".")?"property":"argument";u='The "'.concat(v,'" ').concat(o," ").concat(r," ").concat(L(g,"type"))}return u+=". Received type ".concat(typeof t),u},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.q=e},37865:function(W,U,e){var p=e(90386),L=Object.keys||function(o){var l=[];for(var c in o)l.push(c);return l};W.exports=t;var a=e(40410),P=e(37493);e(42018)(t,a);for(var A=L(P.prototype),v=0;v<A.length;v++){var g=A[v];t.prototype[g]||(t.prototype[g]=P.prototype[g])}function t(o){if(!(this instanceof t))return new t(o);a.call(this,o),P.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||p.nextTick(u,this)}function u(o){o.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},66897:function(W,U,e){W.exports=L;var p=e(74308);e(42018)(L,p);function L(a){if(!(this instanceof L))return new L(a);p.call(this,a)}L.prototype._transform=function(a,P,A){A(null,a)}},40410:function(W,U,e){var p=e(90386);W.exports=i;var L;i.ReadableState=b,e(15398).EventEmitter;var a=function($,se){return $.listeners(se).length},P=e(71405),A=e(12856).Buffer,v=e.g.Uint8Array||function(){};function g(J){return A.from(J)}function t(J){return A.isBuffer(J)||J instanceof v}var r=e(40964),u;r&&r.debuglog?u=r.debuglog("stream"):u=function(){};var o=e(31125),l=e(65756),c=e(56306),n=c.getHighWaterMark,x=e(74322).q,h=x.ERR_INVALID_ARG_TYPE,T=x.ERR_STREAM_PUSH_AFTER_EOF,f=x.ERR_METHOD_NOT_IMPLEMENTED,s=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,S,M;e(42018)(i,P);var C=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function w(J,$,se){if(typeof J.prependListener=="function")return J.prependListener($,se);!J._events||!J._events[$]?J.on($,se):Array.isArray(J._events[$])?J._events[$].unshift(se):J._events[$]=[se,J._events[$]]}function b(J,$,se){L=L||e(37865),J=J||{},typeof se!="boolean"&&(se=$ instanceof L),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=n(this,J,"readableHighWaterMark",se),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(d||(d=e(68019).s),this.decoder=new d(J.encoding),this.encoding=J.encoding)}function i(J){if(L=L||e(37865),!(this instanceof i))return new i(J);var $=this instanceof L;this._readableState=new b(J,this,$),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),P.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),i.prototype.destroy=l.destroy,i.prototype._undestroy=l.undestroy,i.prototype._destroy=function(J,$){$(J)},i.prototype.push=function(J,$){var se=this._readableState,ee;return se.objectMode?ee=!0:typeof J=="string"&&($=$||se.defaultEncoding,$!==se.encoding&&(J=A.from(J,$),$=""),ee=!0),E(this,J,$,!1,ee)},i.prototype.unshift=function(J){return E(this,J,null,!0,!1)};function E(J,$,se,ee,ue){u("readableAddChunk",$);var ge=J._readableState;if($===null)ge.reading=!1,O(J,ge);else{var Te;if(ue||(Te=F(ge,$)),Te)C(J,Te);else if(ge.objectMode||$&&$.length>0)if(typeof $!="string"&&!ge.objectMode&&Object.getPrototypeOf($)!==A.prototype&&($=g($)),ee)ge.endEmitted?C(J,new s):m(J,ge,$,!0);else if(ge.ended)C(J,new T);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?($=ge.decoder.write($),ge.objectMode||$.length!==0?m(J,ge,$,!1):N(J,ge)):m(J,ge,$,!1)}else ee||(ge.reading=!1,N(J,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function m(J,$,se,ee){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,J.emit("data",se)):($.length+=$.objectMode?1:se.length,ee?$.buffer.unshift(se):$.buffer.push(se),$.needReadable&&z(J)),N(J,$)}function F(J,$){var se;return!t($)&&typeof $!="string"&&$!==void 0&&!J.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],$)),se}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(J){d||(d=e(68019).s);var $=new d(J);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ee="";se!==null;)ee+=$.write(se.data),se=se.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var _=1073741824;function B(J){return J>=_?J=_:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function I(J,$){return J<=0||$.length===0&&$.ended?0:$.objectMode?1:J!==J?$.flowing&&$.length?$.buffer.head.data.length:$.length:(J>$.highWaterMark&&($.highWaterMark=B(J)),J<=$.length?J:$.ended?$.length:($.needReadable=!0,0))}i.prototype.read=function(J){u("read",J),J=parseInt(J,10);var $=this._readableState,se=J;if(J!==0&&($.emittedReadable=!1),J===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return u("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?Z(this):z(this),null;if(J=I(J,$),J===0&&$.ended)return $.length===0&&Z(this),null;var ee=$.needReadable;u("need readable",ee),($.length===0||$.length-J<$.highWaterMark)&&(ee=!0,u("length less than watermark",ee)),$.ended||$.reading?(ee=!1,u("reading or ended",ee)):ee&&(u("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(J=I(se,$)));var ue;return J>0?ue=V(J,$):ue=null,ue===null?($.needReadable=$.length<=$.highWaterMark,J=0):($.length-=J,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),se!==J&&$.ended&&Z(this)),ue!==null&&this.emit("data",ue),ue};function O(J,$){if(u("onEofChunk"),!$.ended){if($.decoder){var se=$.decoder.end();se&&se.length&&($.buffer.push(se),$.length+=$.objectMode?1:se.length)}$.ended=!0,$.sync?z(J):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,k(J)))}}function z(J){var $=J._readableState;u("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(u("emitReadable",$.flowing),$.emittedReadable=!0,p.nextTick(k,J))}function k(J){var $=J._readableState;u("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(J.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,G(J)}function N(J,$){$.readingMore||($.readingMore=!0,p.nextTick(K,J,$))}function K(J,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var se=$.length;if(u("maybeReadMore read 0"),J.read(0),se===$.length)break}$.readingMore=!1}i.prototype._read=function(J){C(this,new f("_read()"))},i.prototype.pipe=function(J,$){var se=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=J;break;case 1:ee.pipes=[ee.pipes,J];break;default:ee.pipes.push(J);break}ee.pipesCount+=1,u("pipe count=%d opts=%j",ee.pipesCount,$);var ue=(!$||$.end!==!1)&&J!==p.stdout&&J!==p.stderr,ge=ue?xe:ze;ee.endEmitted?p.nextTick(ge):se.once("end",ge),J.on("unpipe",Te);function Te(Ze,ct){u("onunpipe"),Ze===se&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,Ae())}function xe(){u("onend"),J.end()}var Pe=q(se);J.on("drain",Pe);var Ie=!1;function Ae(){u("cleanup"),J.removeListener("close",Ve),J.removeListener("finish",We),J.removeListener("drain",Pe),J.removeListener("error",_e),J.removeListener("unpipe",Te),se.removeListener("end",xe),se.removeListener("end",ze),se.removeListener("data",be),Ie=!0,ee.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Pe()}se.on("data",be);function be(Ze){u("ondata");var ct=J.write(Ze);u("dest.write",ct),ct===!1&&((ee.pipesCount===1&&ee.pipes===J||ee.pipesCount>1&&ie(ee.pipes,J)!==-1)&&!Ie&&(u("false write response, pause",ee.awaitDrain),ee.awaitDrain++),se.pause())}function _e(Ze){u("onerror",Ze),ze(),J.removeListener("error",_e),a(J,"error")===0&&C(J,Ze)}w(J,"error",_e);function Ve(){J.removeListener("finish",We),ze()}J.once("close",Ve);function We(){u("onfinish"),J.removeListener("close",Ve),ze()}J.once("finish",We);function ze(){u("unpipe"),se.unpipe(J)}return J.emit("pipe",se),ee.flowing||(u("pipe resume"),se.resume()),J};function q(J){return function(){var se=J._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&a(J,"data")&&(se.flowing=!0,G(J))}}i.prototype.unpipe=function(J){var $=this._readableState,se={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return J&&J!==$.pipes?this:(J||(J=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,J&&J.emit("unpipe",this,se),this);if(!J){var ee=$.pipes,ue=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var ge=0;ge<ue;ge++)ee[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var Te=ie($.pipes,J);return Te===-1?this:($.pipes.splice(Te,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),J.emit("unpipe",this,se),this)},i.prototype.on=function(J,$){var se=P.prototype.on.call(this,J,$),ee=this._readableState;return J==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):J==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,u("on readable",ee.length,ee.reading),ee.length?z(this):ee.reading||p.nextTick(re,this)),se},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(J,$){var se=P.prototype.removeListener.call(this,J,$);return J==="readable"&&p.nextTick(Q,this),se},i.prototype.removeAllListeners=function(J){var $=P.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&p.nextTick(Q,this),$};function Q(J){var $=J._readableState;$.readableListening=J.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:J.listenerCount("data")>0&&J.resume()}function re(J){u("readable nexttick read 0"),J.read(0)}i.prototype.resume=function(){var J=this._readableState;return J.flowing||(u("resume"),J.flowing=!J.readableListening,oe(this,J)),J.paused=!1,this};function oe(J,$){$.resumeScheduled||($.resumeScheduled=!0,p.nextTick(Y,J,$))}function Y(J,$){u("resume",$.reading),$.reading||J.read(0),$.resumeScheduled=!1,J.emit("resume"),G(J),$.flowing&&!$.reading&&J.read(0)}i.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function G(J){var $=J._readableState;for(u("flow",$.flowing);$.flowing&&J.read()!==null;);}i.prototype.wrap=function(J){var $=this,se=this._readableState,ee=!1;J.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var Te=se.decoder.end();Te&&Te.length&&$.push(Te)}$.push(null)}),J.on("data",function(Te){if(u("wrapped data"),se.decoder&&(Te=se.decoder.write(Te)),!(se.objectMode&&Te==null)&&!(!se.objectMode&&(!Te||!Te.length))){var xe=$.push(Te);xe||(ee=!0,J.pause())}});for(var ue in J)this[ue]===void 0&&typeof J[ue]=="function"&&(this[ue]=function(xe){return function(){return J[xe].apply(J,arguments)}}(ue));for(var ge=0;ge<y.length;ge++)J.on(y[ge],this.emit.bind(this,y[ge]));return this._read=function(Te){u("wrapped _read",Te),ee&&(ee=!1,J.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=e(68221)),S(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),i._fromList=V,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(J,$){if($.length===0)return null;var se;return $.objectMode?se=$.buffer.shift():!J||J>=$.length?($.decoder?se=$.buffer.join(""):$.buffer.length===1?se=$.buffer.first():se=$.buffer.concat($.length),$.buffer.clear()):se=$.buffer.consume(J,$.decoder),se}function Z(J){var $=J._readableState;u("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,p.nextTick(ae,$,J))}function ae(J,$){if(u("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,$.readable=!1,$.emit("end"),J.autoDestroy)){var se=$._writableState;(!se||se.autoDestroy&&se.finished)&&$.destroy()}}typeof Symbol=="function"&&(i.from=function(J,$){return M===void 0&&(M=e(31748)),M(i,J,$)});function ie(J,$){for(var se=0,ee=J.length;se<ee;se++)if(J[se]===$)return se;return-1}},74308:function(W,U,e){W.exports=t;var p=e(74322).q,L=p.ERR_METHOD_NOT_IMPLEMENTED,a=p.ERR_MULTIPLE_CALLBACK,P=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=p.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function g(o,l){var c=this._transformState;c.transforming=!1;var n=c.writecb;if(n===null)return this.emit("error",new a);c.writechunk=null,c.writecb=null,l!=null&&this.push(l),n(o);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function t(o){if(!(this instanceof t))return new t(o);v.call(this,o),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",r)}function r(){var o=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,c){u(o,l,c)}):u(this,null,null)}t.prototype.push=function(o,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,o,l)},t.prototype._transform=function(o,l,c){c(new L("_transform()"))},t.prototype._write=function(o,l,c){var n=this._transformState;if(n.writecb=c,n.writechunk=o,n.writeencoding=l,!n.transforming){var x=this._readableState;(n.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},t.prototype._read=function(o){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},t.prototype._destroy=function(o,l){v.prototype._destroy.call(this,o,function(c){l(c)})};function u(o,l,c){if(l)return o.emit("error",l);if(c!=null&&o.push(c),o._writableState.length)throw new A;if(o._transformState.transforming)throw new P;return o.push(null)}},37493:function(W,U,e){var p=e(90386);W.exports=b;function L(G){var V=this;this.next=null,this.entry=null,this.finish=function(){Y(V,G)}}var a;b.WritableState=y;var P={deprecate:e(20588)},A=e(71405),v=e(12856).Buffer,g=e.g.Uint8Array||function(){};function t(G){return v.from(G)}function r(G){return v.isBuffer(G)||G instanceof g}var u=e(65756),o=e(56306),l=o.getHighWaterMark,c=e(74322).q,n=c.ERR_INVALID_ARG_TYPE,x=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,T=c.ERR_STREAM_CANNOT_PIPE,f=c.ERR_STREAM_DESTROYED,s=c.ERR_STREAM_NULL_VALUES,d=c.ERR_STREAM_WRITE_AFTER_END,S=c.ERR_UNKNOWN_ENCODING,M=u.errorOrDestroy;e(42018)(b,A);function C(){}function y(G,V,Z){a=a||e(37865),G=G||{},typeof Z!="boolean"&&(Z=V instanceof a),this.objectMode=!!G.objectMode,Z&&(this.objectMode=this.objectMode||!!G.writableObjectMode),this.highWaterMark=l(this,G,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ae=G.decodeStrings===!1;this.decodeStrings=!ae,this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){O(V,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}y.prototype.getBuffer=function(){for(var V=this.bufferedRequest,Z=[];V;)Z.push(V),V=V.next;return Z},function(){try{Object.defineProperty(y.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var w;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(V){return w.call(this,V)?!0:this!==b?!1:V&&V._writableState instanceof y}})):w=function(V){return V instanceof this};function b(G){a=a||e(37865);var V=this instanceof a;if(!V&&!w.call(b,this))return new b(G);this._writableState=new y(G,this,V),this.writable=!0,G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final)),A.call(this)}b.prototype.pipe=function(){M(this,new T)};function i(G,V){var Z=new d;M(G,Z),p.nextTick(V,Z)}function E(G,V,Z,ae){var ie;return Z===null?ie=new s:typeof Z!="string"&&!V.objectMode&&(ie=new n("chunk",["string","Buffer"],Z)),ie?(M(G,ie),p.nextTick(ae,ie),!1):!0}b.prototype.write=function(G,V,Z){var ae=this._writableState,ie=!1,J=!ae.objectMode&&r(G);return J&&!v.isBuffer(G)&&(G=t(G)),typeof V=="function"&&(Z=V,V=null),J?V="buffer":V||(V=ae.defaultEncoding),typeof Z!="function"&&(Z=C),ae.ending?i(this,Z):(J||E(this,ae,G,Z))&&(ae.pendingcb++,ie=F(this,ae,J,G,V,Z)),ie},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,!G.writing&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&N(this,G))},b.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new S(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(G,V,Z){return!G.objectMode&&G.decodeStrings!==!1&&typeof V=="string"&&(V=v.from(V,Z)),V}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(G,V,Z,ae,ie,J){if(!Z){var $=m(V,ae,ie);ae!==$&&(Z=!0,ie="buffer",ae=$)}var se=V.objectMode?1:ae.length;V.length+=se;var ee=V.length<V.highWaterMark;if(ee||(V.needDrain=!0),V.writing||V.corked){var ue=V.lastBufferedRequest;V.lastBufferedRequest={chunk:ae,encoding:ie,isBuf:Z,callback:J,next:null},ue?ue.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else _(G,V,!1,se,ae,ie,J);return ee}function _(G,V,Z,ae,ie,J,$){V.writelen=ae,V.writecb=$,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new f("write")):Z?G._writev(ie,V.onwrite):G._write(ie,J,V.onwrite),V.sync=!1}function B(G,V,Z,ae,ie){--V.pendingcb,Z?(p.nextTick(ie,ae),p.nextTick(re,G,V),G._writableState.errorEmitted=!0,M(G,ae)):(ie(ae),G._writableState.errorEmitted=!0,M(G,ae),re(G,V))}function I(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}function O(G,V){var Z=G._writableState,ae=Z.sync,ie=Z.writecb;if(typeof ie!="function")throw new h;if(I(Z),V)B(G,Z,ae,V,ie);else{var J=K(Z)||G.destroyed;!J&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&N(G,Z),ae?p.nextTick(z,G,Z,J,ie):z(G,Z,J,ie)}}function z(G,V,Z,ae){Z||k(G,V),V.pendingcb--,ae(),re(G,V)}function k(G,V){V.length===0&&V.needDrain&&(V.needDrain=!1,G.emit("drain"))}function N(G,V){V.bufferProcessing=!0;var Z=V.bufferedRequest;if(G._writev&&Z&&Z.next){var ae=V.bufferedRequestCount,ie=new Array(ae),J=V.corkedRequestsFree;J.entry=Z;for(var $=0,se=!0;Z;)ie[$]=Z,Z.isBuf||(se=!1),Z=Z.next,$+=1;ie.allBuffers=se,_(G,V,!0,V.length,ie,"",J.finish),V.pendingcb++,V.lastBufferedRequest=null,J.next?(V.corkedRequestsFree=J.next,J.next=null):V.corkedRequestsFree=new L(V),V.bufferedRequestCount=0}else{for(;Z;){var ee=Z.chunk,ue=Z.encoding,ge=Z.callback,Te=V.objectMode?1:ee.length;if(_(G,V,!1,Te,ee,ue,ge),Z=Z.next,V.bufferedRequestCount--,V.writing)break}Z===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=Z,V.bufferProcessing=!1}b.prototype._write=function(G,V,Z){Z(new x("_write()"))},b.prototype._writev=null,b.prototype.end=function(G,V,Z){var ae=this._writableState;return typeof G=="function"?(Z=G,G=null,V=null):typeof V=="function"&&(Z=V,V=null),G!=null&&this.write(G,V),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||oe(this,ae,Z),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K(G){return G.ending&&G.length===0&&G.bufferedRequest===null&&!G.finished&&!G.writing}function q(G,V){G._final(function(Z){V.pendingcb--,Z&&M(G,Z),V.prefinished=!0,G.emit("prefinish"),re(G,V)})}function Q(G,V){!V.prefinished&&!V.finalCalled&&(typeof G._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,p.nextTick(q,G,V)):(V.prefinished=!0,G.emit("prefinish")))}function re(G,V){var Z=K(V);if(Z&&(Q(G,V),V.pendingcb===0&&(V.finished=!0,G.emit("finish"),V.autoDestroy))){var ae=G._readableState;(!ae||ae.autoDestroy&&ae.endEmitted)&&G.destroy()}return Z}function oe(G,V,Z){V.ending=!0,re(G,V),Z&&(V.finished?p.nextTick(Z):G.once("finish",Z)),V.ended=!0,G.writable=!1}function Y(G,V,Z){var ae=G.entry;for(G.entry=null;ae;){var ie=ae.callback;V.pendingcb--,ie(Z),ae=ae.next}V.corkedRequestsFree.next=G}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),b.prototype.destroy=u.destroy,b.prototype._undestroy=u.undestroy,b.prototype._destroy=function(G,V){V(G)}},68221:function(W,U,e){var p=e(90386),L;function a(s,d,S){return d in s?Object.defineProperty(s,d,{value:S,enumerable:!0,configurable:!0,writable:!0}):s[d]=S,s}var P=e(12726),A=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),u=Symbol("handlePromise"),o=Symbol("stream");function l(s,d){return{value:s,done:d}}function c(s){var d=s[A];if(d!==null){var S=s[o].read();S!==null&&(s[r]=null,s[A]=null,s[v]=null,d(l(S,!1)))}}function n(s){p.nextTick(c,s)}function x(s,d){return function(S,M){s.then(function(){if(d[t]){S(l(void 0,!0));return}d[u](S,M)},M)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((L={get stream(){return this[o]},next:function(){var d=this,S=this[g];if(S!==null)return Promise.reject(S);if(this[t])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(w,b){p.nextTick(function(){d[g]?b(d[g]):w(l(void 0,!0))})});var M=this[r],C;if(M)C=new Promise(x(M,this));else{var y=this[o].read();if(y!==null)return Promise.resolve(l(y,!1));C=new Promise(this[u])}return this[r]=C,C}},a(L,Symbol.asyncIterator,function(){return this}),a(L,"return",function(){var d=this;return new Promise(function(S,M){d[o].destroy(null,function(C){if(C){M(C);return}S(l(void 0,!0))})})}),L),h),f=function(d){var S,M=Object.create(T,(S={},a(S,o,{value:d,writable:!0}),a(S,A,{value:null,writable:!0}),a(S,v,{value:null,writable:!0}),a(S,g,{value:null,writable:!0}),a(S,t,{value:d._readableState.endEmitted,writable:!0}),a(S,u,{value:function(y,w){var b=M[o].read();b?(M[r]=null,M[A]=null,M[v]=null,y(l(b,!1))):(M[A]=y,M[v]=w)},writable:!0}),S));return M[r]=null,P(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=M[v];y!==null&&(M[r]=null,M[A]=null,M[v]=null,y(C)),M[g]=C;return}var w=M[A];w!==null&&(M[r]=null,M[A]=null,M[v]=null,w(l(void 0,!0))),M[t]=!0}),d.on("readable",n.bind(null,M)),M};W.exports=f},31125:function(W,U,e){function p(c,n){var x=Object.keys(c);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(c);n&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(c,T).enumerable})),x.push.apply(x,h)}return x}function L(c){for(var n=1;n<arguments.length;n++){var x=arguments[n]!=null?arguments[n]:{};n%2?p(Object(x),!0).forEach(function(h){a(c,h,x[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(x)):p(Object(x)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(x,h))})}return c}function a(c,n,x){return n in c?Object.defineProperty(c,n,{value:x,enumerable:!0,configurable:!0,writable:!0}):c[n]=x,c}function P(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function A(c,n){for(var x=0;x<n.length;x++){var h=n[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function v(c,n,x){return n&&A(c.prototype,n),x&&A(c,x),c}var g=e(12856),t=g.Buffer,r=e(69862),u=r.inspect,o=u&&u.custom||"inspect";function l(c,n,x){t.prototype.copy.call(c,n,x)}W.exports=function(){function c(){P(this,c),this.head=null,this.tail=null,this.length=0}return v(c,[{key:"push",value:function(x){var h={data:x,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(x){var h={data:x,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=x+h.data;return T}},{key:"concat",value:function(x){if(this.length===0)return t.alloc(0);for(var h=t.allocUnsafe(x>>>0),T=this.head,f=0;T;)l(T.data,h,f),f+=T.data.length,T=T.next;return h}},{key:"consume",value:function(x,h){var T;return x<this.head.data.length?(T=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?T=this.shift():T=h?this._getString(x):this._getBuffer(x),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var h=this.head,T=1,f=h.data;for(x-=f.length;h=h.next;){var s=h.data,d=x>s.length?s.length:x;if(d===s.length?f+=s:f+=s.slice(0,x),x-=d,x===0){d===s.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=s.slice(d));break}++T}return this.length-=T,f}},{key:"_getBuffer",value:function(x){var h=t.allocUnsafe(x),T=this.head,f=1;for(T.data.copy(h),x-=T.data.length;T=T.next;){var s=T.data,d=x>s.length?s.length:x;if(s.copy(h,h.length-x,0,d),x-=d,x===0){d===s.length?(++f,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=s.slice(d));break}++f}return this.length-=f,h}},{key:o,value:function(x,h){return u(this,L({},h,{depth:0,customInspect:!1}))}}]),c}()},65756:function(W,U,e){var p=e(90386);function L(t,r){var u=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(v,this,t)):p.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(c){!r&&c?u._writableState?u._writableState.errorEmitted?p.nextTick(P,u):(u._writableState.errorEmitted=!0,p.nextTick(a,u,c)):p.nextTick(a,u,c):r?(p.nextTick(P,u),r(c)):p.nextTick(P,u)}),this)}function a(t,r){v(t,r),P(t)}function P(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function g(t,r){var u=t._readableState,o=t._writableState;u&&u.autoDestroy||o&&o.autoDestroy?t.destroy(r):t.emit("error",r)}W.exports={destroy:L,undestroy:A,errorOrDestroy:g}},12726:function(W,U,e){var p=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function L(v){var g=!1;return function(){if(!g){g=!0;for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];v.apply(this,r)}}}function a(){}function P(v){return v.setHeader&&typeof v.abort=="function"}function A(v,g,t){if(typeof g=="function")return A(v,null,g);g||(g={}),t=L(t||a);var r=g.readable||g.readable!==!1&&v.readable,u=g.writable||g.writable!==!1&&v.writable,o=function(){v.writable||c()},l=v._writableState&&v._writableState.finished,c=function(){u=!1,l=!0,r||t.call(v)},n=v._readableState&&v._readableState.endEmitted,x=function(){r=!1,n=!0,u||t.call(v)},h=function(d){t.call(v,d)},T=function(){var d;if(r&&!n)return(!v._readableState||!v._readableState.ended)&&(d=new p),t.call(v,d);if(u&&!l)return(!v._writableState||!v._writableState.ended)&&(d=new p),t.call(v,d)},f=function(){v.req.on("finish",c)};return P(v)?(v.on("complete",c),v.on("abort",T),v.req?f():v.on("request",f)):u&&!v._writableState&&(v.on("end",o),v.on("close",o)),v.on("end",x),v.on("finish",c),g.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",c),v.removeListener("abort",T),v.removeListener("request",f),v.req&&v.req.removeListener("finish",c),v.removeListener("end",o),v.removeListener("close",o),v.removeListener("finish",c),v.removeListener("end",x),v.removeListener("error",h),v.removeListener("close",T)}}W.exports=A},31748:function(W){W.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(W,U,e){var p;function L(c){var n=!1;return function(){n||(n=!0,c.apply(void 0,arguments))}}var a=e(74322).q,P=a.ERR_MISSING_ARGS,A=a.ERR_STREAM_DESTROYED;function v(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function t(c,n,x,h){h=L(h);var T=!1;c.on("close",function(){T=!0}),p===void 0&&(p=e(12726)),p(c,{readable:n,writable:x},function(s){if(s)return h(s);T=!0,h()});var f=!1;return function(s){if(!T&&!f){if(f=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();h(s||new A("pipe"))}}}function r(c){c()}function u(c,n){return c.pipe(n)}function o(c){return!c.length||typeof c[c.length-1]!="function"?v:c.pop()}function l(){for(var c=arguments.length,n=new Array(c),x=0;x<c;x++)n[x]=arguments[x];var h=o(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new P("streams");var T,f=n.map(function(s,d){var S=d<n.length-1,M=d>0;return t(s,S,M,function(C){T||(T=C),C&&f.forEach(r),!S&&(f.forEach(r),h(T))})});return n.reduce(u)}W.exports=l},56306:function(W,U,e){var p=e(74322).q.ERR_INVALID_OPT_VALUE;function L(P,A,v){return P.highWaterMark!=null?P.highWaterMark:A?P[v]:null}function a(P,A,v,g){var t=L(A,g,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=g?v:"highWaterMark";throw new p(r,t)}return Math.floor(t)}return P.objectMode?16:16384}W.exports={getHighWaterMark:a}},71405:function(W,U,e){W.exports=e(15398).EventEmitter},68019:function(W,U,e){var p=e(71665).Buffer,L=p.isEncoding||function(f){switch(f=""+f,f&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(f){if(!f)return"utf8";for(var s;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(s)return;f=(""+f).toLowerCase(),s=!0}}function P(f){var s=a(f);if(typeof s!="string"&&(p.isEncoding===L||!L(f)))throw new Error("Unknown encoding: "+f);return s||f}U.s=A;function A(f){this.encoding=P(f);var s;switch(this.encoding){case"utf16le":this.text=l,this.end=c,s=4;break;case"utf8":this.fillLast=r,s=4;break;case"base64":this.text=n,this.end=x,s=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(s)}A.prototype.write=function(f){if(f.length===0)return"";var s,d;if(this.lastNeed){if(s=this.fillLast(f),s===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<f.length?s?s+this.text(f,d):this.text(f,d):s||""},A.prototype.end=o,A.prototype.text=u,A.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length};function v(f){return f<=127?0:f>>5===6?2:f>>4===14?3:f>>3===30?4:f>>6===2?-1:-2}function g(f,s,d){var S=s.length-1;if(S<d)return 0;var M=v(s[S]);return M>=0?(M>0&&(f.lastNeed=M-1),M):--S<d||M===-2?0:(M=v(s[S]),M>=0?(M>0&&(f.lastNeed=M-2),M):--S<d||M===-2?0:(M=v(s[S]),M>=0?(M>0&&(M===2?M=0:f.lastNeed=M-3),M):0))}function t(f,s,d){if((s[0]&192)!==128)return f.lastNeed=0,"�";if(f.lastNeed>1&&s.length>1){if((s[1]&192)!==128)return f.lastNeed=1,"�";if(f.lastNeed>2&&s.length>2&&(s[2]&192)!==128)return f.lastNeed=2,"�"}}function r(f){var s=this.lastTotal-this.lastNeed,d=t(this,f);if(d!==void 0)return d;if(this.lastNeed<=f.length)return f.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,s,0,f.length),this.lastNeed-=f.length}function u(f,s){var d=g(this,f,s);if(!this.lastNeed)return f.toString("utf8",s);this.lastTotal=d;var S=f.length-(d-this.lastNeed);return f.copy(this.lastChar,0,S),f.toString("utf8",s,S)}function o(f){var s=f&&f.length?this.write(f):"";return this.lastNeed?s+"�":s}function l(f,s){if((f.length-s)%2===0){var d=f.toString("utf16le",s);if(d){var S=d.charCodeAt(d.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",s,f.length-1)}function c(f){var s=f&&f.length?this.write(f):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return s+this.lastChar.toString("utf16le",0,d)}return s}function n(f,s){var d=(f.length-s)%3;return d===0?f.toString("base64",s):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",s,f.length-d))}function x(f){var s=f&&f.length?this.write(f):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function h(f){return f.toString(this.encoding)}function T(f){return f&&f.length?this.write(f):""}},90715:function(W,U,e){var p=e(32791),L=e(41633)("stream-parser");W.exports=g;var a=-1,P=0,A=1,v=2;function g(f){var s=f&&typeof f._transform=="function",d=f&&typeof f._write=="function";if(!s&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),f._bytes=r,f._skipBytes=u,s&&(f._passthrough=o),s?f._transform=c:f._write=l}function t(f){L("initializing parser stream"),f._parserBytesLeft=0,f._parserBuffers=[],f._parserBuffered=0,f._parserState=a,f._parserCallback=null,typeof f.push=="function"&&(f._parserOutput=f.push.bind(f)),f._parserInit=!0}function r(f,s){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(f)&&f>0,'can only buffer a finite number of bytes > 0, got "'+f+'"'),this._parserInit||t(this),L("buffering %o bytes",f),this._parserBytesLeft=f,this._parserCallback=s,this._parserState=P}function u(f,s){p(!this._parserCallback,'there is already a "callback" set!'),p(f>0,'can only skip > 0 bytes, got "'+f+'"'),this._parserInit||t(this),L("skipping %o bytes",f),this._parserBytesLeft=f,this._parserCallback=s,this._parserState=A}function o(f,s){p(!this._parserCallback,'There is already a "callback" set!'),p(f>0,'can only pass through > 0 bytes, got "'+f+'"'),this._parserInit||t(this),L("passing through %o bytes",f),this._parserBytesLeft=f,this._parserCallback=s,this._parserState=v}function l(f,s,d){this._parserInit||t(this),L("write(%o bytes)",f.length),typeof s=="function"&&(d=s),h(this,f,null,d)}function c(f,s,d){this._parserInit||t(this),L("transform(%o bytes)",f.length),typeof s!="function"&&(s=this._parserOutput),h(this,f,s,d)}function n(f,s,d,S){return f._parserBytesLeft<=0?S(new Error("got data but not currently parsing anything")):s.length<=f._parserBytesLeft?function(){return x(f,s,d,S)}:function(){var M=s.slice(0,f._parserBytesLeft);return x(f,M,d,function(C){if(C)return S(C);if(s.length>M.length)return function(){return n(f,s.slice(M.length),d,S)}})}}function x(f,s,d,S){if(f._parserBytesLeft-=s.length,L("%o bytes left for stream piece",f._parserBytesLeft),f._parserState===P?(f._parserBuffers.push(s),f._parserBuffered+=s.length):f._parserState===v&&d(s),f._parserBytesLeft===0){var M=f._parserCallback;if(M&&f._parserState===P&&f._parserBuffers.length>1&&(s=Buffer.concat(f._parserBuffers,f._parserBuffered)),f._parserState!==P&&(s=null),f._parserCallback=null,f._parserBuffered=0,f._parserState=a,f._parserBuffers.splice(0),M){var C=[];s&&C.push(s),d&&C.push(d);var y=M.length>C.length;y&&C.push(T(S));var w=M.apply(f,C);if(!y||S===w)return S}}else return S}var h=T(n);function T(f){return function(){for(var s=f.apply(this,arguments);typeof s=="function";)s=s();return s}}},41633:function(W,U,e){var p=e(90386);U=W.exports=e(74469),U.log=P,U.formatArgs=a,U.save=A,U.load=v,U.useColors=L,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+U.humanize(this.diff),!!r){var u="color: "+this.color;t.splice(1,0,u,"color: inherit");var o=0,l=0;t[0].replace(/%[a-zA-Z%]/g,function(c){c!=="%%"&&(o++,c==="%c"&&(l=o))}),t.splice(l,0,u)}}function P(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function A(t){try{t==null?U.storage.removeItem("debug"):U.storage.debug=t}catch{}}function v(){var t;try{t=U.storage.debug}catch{}return!t&&typeof p<"u"&&"env"in p&&(t={}.DEBUG),t}U.enable(v());function g(){try{return window.localStorage}catch{}}},74469:function(W,U,e){U=W.exports=a.debug=a.default=a,U.coerce=g,U.disable=A,U.enable=P,U.enabled=v,U.humanize=e(11375),U.names=[],U.skips=[],U.formatters={};var p;function L(t){var r=0,u;for(u in t)r=(r<<5)-r+t.charCodeAt(u),r|=0;return U.colors[Math.abs(r)%U.colors.length]}function a(t){function r(){if(r.enabled){var u=r,o=+new Date,l=o-(p||o);u.diff=l,u.prev=p,u.curr=o,p=o;for(var c=new Array(arguments.length),n=0;n<c.length;n++)c[n]=arguments[n];c[0]=U.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var x=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(T,f){if(T==="%%")return T;x++;var s=U.formatters[f];if(typeof s=="function"){var d=c[x];T=s.call(u,d),c.splice(x,1),x--}return T}),U.formatArgs.call(u,c);var h=r.log||U.log||console.log.bind(console);h.apply(u,c)}}return r.namespace=t,r.enabled=U.enabled(t),r.useColors=U.useColors(),r.color=L(t),typeof U.init=="function"&&U.init(r),r}function P(t){U.save(t),U.names=[],U.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),u=r.length,o=0;o<u;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),t[0]==="-"?U.skips.push(new RegExp("^"+t.substr(1)+"$")):U.names.push(new RegExp("^"+t+"$")))}function A(){U.enable("")}function v(t){var r,u;for(r=0,u=U.skips.length;r<u;r++)if(U.skips[r].test(t))return!1;for(r=0,u=U.names.length;r<u;r++)if(U.names[r].test(t))return!0;return!1}function g(t){return t instanceof Error?t.stack||t.message:t}},11375:function(W){var U=1e3,e=U*60,p=e*60,L=p*24,a=L*365.25;W.exports=function(t,r){r=r||{};var u=typeof t;if(u==="string"&&t.length>0)return P(t);if(u==="number"&&isNaN(t)===!1)return r.long?v(t):A(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function P(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var u=parseFloat(r[1]),o=(r[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*L;case"hours":case"hour":case"hrs":case"hr":case"h":return u*p;case"minutes":case"minute":case"mins":case"min":case"m":return u*e;case"seconds":case"second":case"secs":case"sec":case"s":return u*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function A(t){return t>=L?Math.round(t/L)+"d":t>=p?Math.round(t/p)+"h":t>=e?Math.round(t/e)+"m":t>=U?Math.round(t/U)+"s":t+"ms"}function v(t){return g(t,L,"day")||g(t,p,"hour")||g(t,e,"minute")||g(t,U,"second")||t+" ms"}function g(t,r,u){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+u:Math.ceil(t/r)+" "+u+"s"}},99011:function(W,U,e){var p=e(88641);W.exports=function(a,P,A){if(a==null)throw Error("First argument should be a string");if(P==null)throw Error("Separator should be a string or a RegExp");A?(typeof A=="string"||Array.isArray(A))&&(A={ignore:A}):A={},A.escape==null&&(A.escape=!0),A.ignore==null?A.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof A.ignore=="string"&&(A.ignore=[A.ignore]),A.ignore=A.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var v=p.parse(a,{flat:!0,brackets:A.ignore}),g=v[0],t=g.split(P);if(A.escape){for(var r=[],u=0;u<t.length;u++){var o=t[u],l=t[u+1];o[o.length-1]==="\\"&&o[o.length-2]!=="\\"?(r.push(o+P+l),u++):r.push(o)}t=r}for(var u=0;u<t.length;u++)v[0]=t[u],t[u]=p.stringify(v,{flat:!0});return t}},68664:function(W){W.exports=U;function U(e){for(var p=e.length,L=new Array(p),a=new Array(p),P=new Array(p),A=new Array(p),v=new Array(p),g=new Array(p),t=0;t<p;++t)L[t]=-1,a[t]=0,P[t]=!1,A[t]=0,v[t]=-1,g[t]=[];var r=0,u=[],o=[];function l(h){var T=[h],f=[h];for(L[h]=a[h]=r,P[h]=!0,r+=1;f.length>0;){h=f[f.length-1];var s=e[h];if(A[h]<s.length){for(var d=A[h];d<s.length;++d){var S=s[d];if(L[S]<0){L[S]=a[S]=r,P[S]=!0,r+=1,T.push(S),f.push(S);break}else P[S]&&(a[h]=Math.min(a[h],a[S])|0);v[S]>=0&&g[h].push(v[S])}A[h]=d}else{if(a[h]===L[h]){for(var M=[],C=[],y=0,d=T.length-1;d>=0;--d){var w=T[d];if(P[w]=!1,M.push(w),C.push(g[w]),y+=g[w].length,v[w]=u.length,w===h){T.length=d;break}}u.push(M);for(var b=new Array(y),d=0;d<C.length;d++)for(var i=0;i<C[d].length;i++)b[--y]=C[d][i];o.push(b)}f.pop()}}}for(var t=0;t<p;++t)L[t]<0&&l(t);for(var c,t=0;t<o.length;t++){var n=o[t];if(n.length!==0){n.sort(function(T,f){return T-f}),c=[n[0]];for(var x=1;x<n.length;x++)n[x]!==n[x-1]&&c.push(n[x]);o[t]=c}}return{components:u,adjacencyList:o}}},7095:function(W,U,e){e.r(U);var p=function(){function t(r,u){var o=[],l=!0,c=!1,n=void 0;try{for(var x=r[Symbol.iterator](),h;!(l=(h=x.next()).done)&&(o.push(h.value),!(u&&o.length===u));l=!0);}catch(T){c=!0,n=T}finally{try{!l&&x.return&&x.return()}finally{if(c)throw n}}return o}return function(r,u){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,a=function(r,u,o,l,c,n,x){var h=r.x,T=r.y;h*=u,T*=o;var f=l*h-c*T,s=c*h+l*T;return{x:f+n,y:s+x}},P=function(r,u){var o=u===1.5707963267948966?.551915024494:u===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(u/4),l=Math.cos(r),c=Math.sin(r),n=Math.cos(r+u),x=Math.sin(r+u);return[{x:l-c*o,y:c+l*o},{x:n+x*o,y:x-n*o},{x:n,y:x}]},A=function(r,u,o,l){var c=r*l-u*o<0?-1:1,n=r*o+u*l;return n>1&&(n=1),n<-1&&(n=-1),c*Math.acos(n)},v=function(r,u,o,l,c,n,x,h,T,f,s,d){var S=Math.pow(c,2),M=Math.pow(n,2),C=Math.pow(s,2),y=Math.pow(d,2),w=S*M-S*y-M*C;w<0&&(w=0),w/=S*y+M*C,w=Math.sqrt(w)*(x===h?-1:1);var b=w*c/n*d,i=w*-n/c*s,E=f*b-T*i+(r+o)/2,m=T*b+f*i+(u+l)/2,F=(s-b)/c,_=(d-i)/n,B=(-s-b)/c,I=(-d-i)/n,O=A(1,0,F,_),z=A(F,_,B,I);return h===0&&z>0&&(z-=L),h===1&&z<0&&(z+=L),[E,m,O,z]},g=function(r){var u=r.px,o=r.py,l=r.cx,c=r.cy,n=r.rx,x=r.ry,h=r.xAxisRotation,T=h===void 0?0:h,f=r.largeArcFlag,s=f===void 0?0:f,d=r.sweepFlag,S=d===void 0?0:d,M=[];if(n===0||x===0)return[];var C=Math.sin(T*L/360),y=Math.cos(T*L/360),w=y*(u-l)/2+C*(o-c)/2,b=-C*(u-l)/2+y*(o-c)/2;if(w===0&&b===0)return[];n=Math.abs(n),x=Math.abs(x);var i=Math.pow(w,2)/Math.pow(n,2)+Math.pow(b,2)/Math.pow(x,2);i>1&&(n*=Math.sqrt(i),x*=Math.sqrt(i));var E=v(u,o,l,c,n,x,s,S,C,y,w,b),m=p(E,4),F=m[0],_=m[1],B=m[2],I=m[3],O=Math.abs(I)/(L/4);Math.abs(1-O)<1e-7&&(O=1);var z=Math.max(Math.ceil(O),1);I/=z;for(var k=0;k<z;k++)M.push(P(B,I)),B+=I;return M.map(function(N){var K=a(N[0],n,x,y,C,F,_),q=K.x,Q=K.y,re=a(N[1],n,x,y,C,F,_),oe=re.x,Y=re.y,G=a(N[2],n,x,y,C,F,_),V=G.x,Z=G.y;return{x1:q,y1:Q,x2:oe,y2:Y,x:V,y:Z}})};U.default=g},1750:function(W,U,e){var p=e(95616),L=e(65185),a=e(29988),P=e(89546),A=e(32791);W.exports=v;function v(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(A(P(g),"String is not an SVG path."),g=p(g)),A(Array.isArray(g),"Argument should be a string or an array of path segments."),g=L(g),g=a(g),!g.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,u=g.length;r<u;r++)for(var o=g[r].slice(1),l=0;l<o.length;l+=2)o[l+0]<t[0]&&(t[0]=o[l+0]),o[l+1]<t[1]&&(t[1]=o[l+1]),o[l+0]>t[2]&&(t[2]=o[l+0]),o[l+1]>t[3]&&(t[3]=o[l+1]);return t}},29988:function(W,U,e){W.exports=L;var p=e(7095);function L(A){for(var v,g=[],t=0,r=0,u=0,o=0,l=null,c=null,n=0,x=0,h=0,T=A.length;h<T;h++){var f=A[h],s=f[0];switch(s){case"M":u=f[1],o=f[2];break;case"A":var d=p({px:n,py:x,cx:f[6],cy:f[7],rx:f[1],ry:f[2],xAxisRotation:f[3],largeArcFlag:f[4],sweepFlag:f[5]});if(!d.length)continue;for(var S=0,M;S<d.length;S++)M=d[S],f=["C",M.x1,M.y1,M.x2,M.y2,M.x,M.y],S<d.length-1&&g.push(f);break;case"S":var C=n,y=x;(v=="C"||v=="S")&&(C+=C-t,y+=y-r),f=["C",C,y,f[1],f[2],f[3],f[4]];break;case"T":v=="Q"||v=="T"?(l=n*2-l,c=x*2-c):(l=n,c=x),f=P(n,x,l,c,f[1],f[2]);break;case"Q":l=f[1],c=f[2],f=P(n,x,f[1],f[2],f[3],f[4]);break;case"L":f=a(n,x,f[1],f[2]);break;case"H":f=a(n,x,f[1],x);break;case"V":f=a(n,x,n,f[1]);break;case"Z":f=a(n,x,u,o);break}v=s,n=f[f.length-2],x=f[f.length-1],f.length>4?(t=f[f.length-4],r=f[f.length-3]):(t=n,r=x),g.push(f)}return g}function a(A,v,g,t){return["C",A,v,g,t,g,t]}function P(A,v,g,t,r,u){return["C",A/3+.6666666666666666*g,v/3+.6666666666666666*t,r/3+.6666666666666666*g,u/3+.6666666666666666*t,r,u]}},82019:function(W,U,e){var p=e(1750),L=e(95616),a=e(31457),P=e(89546),A=e(44781),v=document.createElement("canvas"),g=v.getContext("2d");W.exports=t;function t(o,l){if(!P(o))throw Error("Argument should be valid svg path string");l||(l={});var c,n;l.shape?(c=l.shape[0],n=l.shape[1]):(c=v.width=l.w||l.width||200,n=v.height=l.h||l.height||200);var x=Math.min(c,n),h=l.stroke||0,T=l.viewbox||l.viewBox||p(o),f=[c/(T[2]-T[0]),n/(T[3]-T[1])],s=Math.min(f[0]||0,f[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,c,n),g.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(h)),g.translate(c*.5,n*.5),g.scale(s,s),u()){var d=new Path2D(o);g.fill(d),h&&g.stroke(d)}else{var S=L(o);a(g,S),g.fill(),h&&g.stroke()}g.setTransform(1,0,0,1,0,0);var M=A(g,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:x*.5});return M}var r;function u(){if(r!=null)return r;var o=document.createElement("canvas").getContext("2d");if(o.canvas.width=o.canvas.height=1,!window.Path2D)return r=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");o.fillStyle="black",o.fill(l);var c=o.getImageData(0,0,1,1);return r=c&&c.data&&c.data[3]===255}},84267:function(W,U,e){var p;(function(L){var a=/^\s+/,P=/\s+$/,A=0,v=L.round,g=L.min,t=L.max,r=L.random;function u($,se){if($=$||"",se=se||{},$ instanceof u)return $;if(!(this instanceof u))return new u($,se);var ee=o($);this._originalInput=$,this._r=ee.r,this._g=ee.g,this._b=ee.b,this._a=ee.a,this._roundA=v(100*this._a)/100,this._format=se.format||ee.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ee.ok,this._tc_id=A++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return($.r*299+$.g*587+$.b*114)/1e3},getLuminance:function(){var $=this.toRgb(),se,ee,ue,ge,Te,xe;return se=$.r/255,ee=$.g/255,ue=$.b/255,se<=.03928?ge=se/12.92:ge=L.pow((se+.055)/1.055,2.4),ee<=.03928?Te=ee/12.92:Te=L.pow((ee+.055)/1.055,2.4),ue<=.03928?xe=ue/12.92:xe=L.pow((ue+.055)/1.055,2.4),.2126*ge+.7152*Te+.0722*xe},setAlpha:function($){return this._a=k($),this._roundA=v(100*this._a)/100,this},toHsv:function(){var $=x(this._r,this._g,this._b);return{h:$.h*360,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=x(this._r,this._g,this._b),se=v($.h*360),ee=v($.s*100),ue=v($.v*100);return this._a==1?"hsv("+se+", "+ee+"%, "+ue+"%)":"hsva("+se+", "+ee+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var $=c(this._r,this._g,this._b);return{h:$.h*360,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=c(this._r,this._g,this._b),se=v($.h*360),ee=v($.s*100),ue=v($.l*100);return this._a==1?"hsl("+se+", "+ee+"%, "+ue+"%)":"hsla("+se+", "+ee+"%, "+ue+"%, "+this._roundA+")"},toHex:function($){return T(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return f(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(N(this._r,255)*100)+"%",g:v(N(this._g,255)*100)+"%",b:v(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%)":"rgba("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[T(this._r,this._g,this._b,!0)]||!1},toFilter:function($){var se="#"+s(this._r,this._g,this._b,this._a),ee=se,ue=this._gradientType?"GradientType = 1, ":"";if($){var ge=u($);ee="#"+s(ge._r,ge._g,ge._b,ge._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+se+",endColorstr="+ee+")"},toString:function($){var se=!!$;$=$||this._format;var ee=!1,ue=this._a<1&&this._a>=0,ge=!se&&ue&&($==="hex"||$==="hex6"||$==="hex3"||$==="hex4"||$==="hex8"||$==="name");return ge?$==="name"&&this._a===0?this.toName():this.toRgbString():($==="rgb"&&(ee=this.toRgbString()),$==="prgb"&&(ee=this.toPercentageRgbString()),($==="hex"||$==="hex6")&&(ee=this.toHexString()),$==="hex3"&&(ee=this.toHexString(!0)),$==="hex4"&&(ee=this.toHex8String(!0)),$==="hex8"&&(ee=this.toHex8String()),$==="name"&&(ee=this.toName()),$==="hsl"&&(ee=this.toHslString()),$==="hsv"&&(ee=this.toHsvString()),ee||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function($,se){var ee=$.apply(null,[this].concat([].slice.call(se)));return this._r=ee._r,this._g=ee._g,this._b=ee._b,this.setAlpha(ee._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function($,se){return $.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},u.fromRatio=function($,se){if(typeof $=="object"){var ee={};for(var ue in $)$.hasOwnProperty(ue)&&(ue==="a"?ee[ue]=$[ue]:ee[ue]=Y($[ue]));$=ee}return u($,se)};function o($){var se={r:0,g:0,b:0},ee=1,ue=null,ge=null,Te=null,xe=!1,Pe=!1;return typeof $=="string"&&($=ie($)),typeof $=="object"&&(ae($.r)&&ae($.g)&&ae($.b)?(se=l($.r,$.g,$.b),xe=!0,Pe=String($.r).substr(-1)==="%"?"prgb":"rgb"):ae($.h)&&ae($.s)&&ae($.v)?(ue=Y($.s),ge=Y($.v),se=h($.h,ue,ge),xe=!0,Pe="hsv"):ae($.h)&&ae($.s)&&ae($.l)&&(ue=Y($.s),Te=Y($.l),se=n($.h,ue,Te),xe=!0,Pe="hsl"),$.hasOwnProperty("a")&&(ee=$.a)),ee=k(ee),{ok:xe,format:$.format||Pe,r:g(255,t(se.r,0)),g:g(255,t(se.g,0)),b:g(255,t(se.b,0)),a:ee}}function l($,se,ee){return{r:N($,255)*255,g:N(se,255)*255,b:N(ee,255)*255}}function c($,se,ee){$=N($,255),se=N(se,255),ee=N(ee,255);var ue=t($,se,ee),ge=g($,se,ee),Te,xe,Pe=(ue+ge)/2;if(ue==ge)Te=xe=0;else{var Ie=ue-ge;switch(xe=Pe>.5?Ie/(2-ue-ge):Ie/(ue+ge),ue){case $:Te=(se-ee)/Ie+(se<ee?6:0);break;case se:Te=(ee-$)/Ie+2;break;case ee:Te=($-se)/Ie+4;break}Te/=6}return{h:Te,s:xe,l:Pe}}function n($,se,ee){var ue,ge,Te;$=N($,360),se=N(se,100),ee=N(ee,100);function xe(Ae,be,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<.16666666666666666?Ae+(be-Ae)*6*_e:_e<.5?be:_e<.6666666666666666?Ae+(be-Ae)*(.6666666666666666-_e)*6:Ae}if(se===0)ue=ge=Te=ee;else{var Pe=ee<.5?ee*(1+se):ee+se-ee*se,Ie=2*ee-Pe;ue=xe(Ie,Pe,$+.3333333333333333),ge=xe(Ie,Pe,$),Te=xe(Ie,Pe,$-.3333333333333333)}return{r:ue*255,g:ge*255,b:Te*255}}function x($,se,ee){$=N($,255),se=N(se,255),ee=N(ee,255);var ue=t($,se,ee),ge=g($,se,ee),Te,xe,Pe=ue,Ie=ue-ge;if(xe=ue===0?0:Ie/ue,ue==ge)Te=0;else{switch(ue){case $:Te=(se-ee)/Ie+(se<ee?6:0);break;case se:Te=(ee-$)/Ie+2;break;case ee:Te=($-se)/Ie+4;break}Te/=6}return{h:Te,s:xe,v:Pe}}function h($,se,ee){$=N($,360)*6,se=N(se,100),ee=N(ee,100);var ue=L.floor($),ge=$-ue,Te=ee*(1-se),xe=ee*(1-ge*se),Pe=ee*(1-(1-ge)*se),Ie=ue%6,Ae=[ee,xe,Te,Te,Pe,ee][Ie],be=[Pe,ee,ee,xe,Te,Te][Ie],_e=[Te,Te,Pe,ee,ee,xe][Ie];return{r:Ae*255,g:be*255,b:_e*255}}function T($,se,ee,ue){var ge=[oe(v($).toString(16)),oe(v(se).toString(16)),oe(v(ee).toString(16))];return ue&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function f($,se,ee,ue,ge){var Te=[oe(v($).toString(16)),oe(v(se).toString(16)),oe(v(ee).toString(16)),oe(G(ue))];return ge&&Te[0].charAt(0)==Te[0].charAt(1)&&Te[1].charAt(0)==Te[1].charAt(1)&&Te[2].charAt(0)==Te[2].charAt(1)&&Te[3].charAt(0)==Te[3].charAt(1)?Te[0].charAt(0)+Te[1].charAt(0)+Te[2].charAt(0)+Te[3].charAt(0):Te.join("")}function s($,se,ee,ue){var ge=[oe(G(ue)),oe(v($).toString(16)),oe(v(se).toString(16)),oe(v(ee).toString(16))];return ge.join("")}u.equals=function($,se){return!$||!se?!1:u($).toRgbString()==u(se).toRgbString()},u.random=function(){return u.fromRatio({r:r(),g:r(),b:r()})};function d($,se){se=se===0?0:se||10;var ee=u($).toHsl();return ee.s-=se/100,ee.s=K(ee.s),u(ee)}function S($,se){se=se===0?0:se||10;var ee=u($).toHsl();return ee.s+=se/100,ee.s=K(ee.s),u(ee)}function M($){return u($).desaturate(100)}function C($,se){se=se===0?0:se||10;var ee=u($).toHsl();return ee.l+=se/100,ee.l=K(ee.l),u(ee)}function y($,se){se=se===0?0:se||10;var ee=u($).toRgb();return ee.r=t(0,g(255,ee.r-v(255*-(se/100)))),ee.g=t(0,g(255,ee.g-v(255*-(se/100)))),ee.b=t(0,g(255,ee.b-v(255*-(se/100)))),u(ee)}function w($,se){se=se===0?0:se||10;var ee=u($).toHsl();return ee.l-=se/100,ee.l=K(ee.l),u(ee)}function b($,se){var ee=u($).toHsl(),ue=(ee.h+se)%360;return ee.h=ue<0?360+ue:ue,u(ee)}function i($){var se=u($).toHsl();return se.h=(se.h+180)%360,u(se)}function E($){var se=u($).toHsl(),ee=se.h;return[u($),u({h:(ee+120)%360,s:se.s,l:se.l}),u({h:(ee+240)%360,s:se.s,l:se.l})]}function m($){var se=u($).toHsl(),ee=se.h;return[u($),u({h:(ee+90)%360,s:se.s,l:se.l}),u({h:(ee+180)%360,s:se.s,l:se.l}),u({h:(ee+270)%360,s:se.s,l:se.l})]}function F($){var se=u($).toHsl(),ee=se.h;return[u($),u({h:(ee+72)%360,s:se.s,l:se.l}),u({h:(ee+216)%360,s:se.s,l:se.l})]}function _($,se,ee){se=se||6,ee=ee||30;var ue=u($).toHsl(),ge=360/ee,Te=[u($)];for(ue.h=(ue.h-(ge*se>>1)+720)%360;--se;)ue.h=(ue.h+ge)%360,Te.push(u(ue));return Te}function B($,se){se=se||6;for(var ee=u($).toHsv(),ue=ee.h,ge=ee.s,Te=ee.v,xe=[],Pe=1/se;se--;)xe.push(u({h:ue,s:ge,v:Te})),Te=(Te+Pe)%1;return xe}u.mix=function($,se,ee){ee=ee===0?0:ee||50;var ue=u($).toRgb(),ge=u(se).toRgb(),Te=ee/100,xe={r:(ge.r-ue.r)*Te+ue.r,g:(ge.g-ue.g)*Te+ue.g,b:(ge.b-ue.b)*Te+ue.b,a:(ge.a-ue.a)*Te+ue.a};return u(xe)},u.readability=function($,se){var ee=u($),ue=u(se);return(L.max(ee.getLuminance(),ue.getLuminance())+.05)/(L.min(ee.getLuminance(),ue.getLuminance())+.05)},u.isReadable=function($,se,ee){var ue=u.readability($,se),ge,Te;switch(Te=!1,ge=J(ee),ge.level+ge.size){case"AAsmall":case"AAAlarge":Te=ue>=4.5;break;case"AAlarge":Te=ue>=3;break;case"AAAsmall":Te=ue>=7;break}return Te},u.mostReadable=function($,se,ee){var ue=null,ge=0,Te,xe,Pe,Ie;ee=ee||{},xe=ee.includeFallbackColors,Pe=ee.level,Ie=ee.size;for(var Ae=0;Ae<se.length;Ae++)Te=u.readability($,se[Ae]),Te>ge&&(ge=Te,ue=u(se[Ae]));return u.isReadable($,ue,{level:Pe,size:Ie})||!xe?ue:(ee.includeFallbackColors=!1,u.mostReadable($,["#fff","#000"],ee))};var I=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=u.hexNames=z(I);function z($){var se={};for(var ee in $)$.hasOwnProperty(ee)&&(se[$[ee]]=ee);return se}function k($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function N($,se){Q($)&&($="100%");var ee=re($);return $=g(se,t(0,parseFloat($))),ee&&($=parseInt($*se,10)/100),L.abs($-se)<1e-6?1:$%se/parseFloat(se)}function K($){return g(1,t(0,$))}function q($){return parseInt($,16)}function Q($){return typeof $=="string"&&$.indexOf(".")!=-1&&parseFloat($)===1}function re($){return typeof $=="string"&&$.indexOf("%")!=-1}function oe($){return $.length==1?"0"+$:""+$}function Y($){return $<=1&&($=$*100+"%"),$}function G($){return L.round(parseFloat($)*255).toString(16)}function V($){return q($)/255}var Z=function(){var $="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ee="(?:"+se+")|(?:"+$+")",ue="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?",ge="[\\s|\\(]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")[,|\\s]+("+ee+")\\s*\\)?";return{CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+ue),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+ue),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+ue),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ae($){return!!Z.CSS_UNIT.exec($)}function ie($){$=$.replace(a,"").replace(P,"").toLowerCase();var se=!1;if(I[$])$=I[$],se=!0;else if($=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ee;return(ee=Z.rgb.exec($))?{r:ee[1],g:ee[2],b:ee[3]}:(ee=Z.rgba.exec($))?{r:ee[1],g:ee[2],b:ee[3],a:ee[4]}:(ee=Z.hsl.exec($))?{h:ee[1],s:ee[2],l:ee[3]}:(ee=Z.hsla.exec($))?{h:ee[1],s:ee[2],l:ee[3],a:ee[4]}:(ee=Z.hsv.exec($))?{h:ee[1],s:ee[2],v:ee[3]}:(ee=Z.hsva.exec($))?{h:ee[1],s:ee[2],v:ee[3],a:ee[4]}:(ee=Z.hex8.exec($))?{r:q(ee[1]),g:q(ee[2]),b:q(ee[3]),a:V(ee[4]),format:se?"name":"hex8"}:(ee=Z.hex6.exec($))?{r:q(ee[1]),g:q(ee[2]),b:q(ee[3]),format:se?"name":"hex"}:(ee=Z.hex4.exec($))?{r:q(ee[1]+""+ee[1]),g:q(ee[2]+""+ee[2]),b:q(ee[3]+""+ee[3]),a:V(ee[4]+""+ee[4]),format:se?"name":"hex8"}:(ee=Z.hex3.exec($))?{r:q(ee[1]+""+ee[1]),g:q(ee[2]+""+ee[2]),b:q(ee[3]+""+ee[3]),format:se?"name":"hex"}:!1}function J($){var se,ee;return $=$||{level:"AA",size:"small"},se=($.level||"AA").toUpperCase(),ee=($.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ee!=="small"&&ee!=="large"&&(ee="small"),{level:se,size:ee}}W.exports?W.exports=u:(p=function(){return u}.call(U,e,U,W),p!==void 0&&(W.exports=p))})(Math)},57060:function(W){W.exports=p,W.exports.float32=W.exports.float=p,W.exports.fract32=W.exports.fract=e;var U=new Float32Array(1);function e(L,a){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);a instanceof Float32Array||(a=p(L));for(var P=0,A=a.length;P<A;P++)a[P]=L[P]-a[P];return a}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(U[0]=L,U[0])}},75686:function(W,U,e){var p=e(25677);W.exports=A;var L=96;function a(v,g){var t=p(getComputedStyle(v).getPropertyValue(g));return t[0]*A(t[1],v)}function P(v,g){var t=document.createElement("div");t.style["font-size"]="128"+v,g.appendChild(t);var r=a(t,"font-size")/128;return g.removeChild(t),r}function A(v,g){switch(g=g||document.body,v=(v||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),v){case"%":return g.clientHeight/100;case"ch":case"ex":return P(v,g);case"em":return a(g,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},96892:function(W,U,e){e.d(U,{zL:function(){return P}});function p(g,t){for(var r,u=g.length,o=u-t;o<--u;)r=g[o],g[o++]=g[u],g[u]=r}function L(g){return g}function a(g){if(g==null)return L;var t,r,u=g.scale[0],o=g.scale[1],l=g.translate[0],c=g.translate[1];return function(n,x){x||(t=r=0);var h=2,T=n.length,f=new Array(T);for(f[0]=(t+=n[0])*u+l,f[1]=(r+=n[1])*o+c;h<T;)f[h]=n[h],++h;return f}}function P(g,t){return typeof t=="string"&&(t=g.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return A(g,r)})}:A(g,t)}function A(g,t){var r=t.id,u=t.bbox,o=t.properties==null?{}:t.properties,l=v(g,t);return r==null&&u==null?{type:"Feature",properties:o,geometry:l}:u==null?{type:"Feature",id:r,properties:o,geometry:l}:{type:"Feature",id:r,bbox:u,properties:o,geometry:l}}function v(g,t){var r=a(g.transform),u=g.arcs;function o(T,f){f.length&&f.pop();for(var s=u[T<0?~T:T],d=0,S=s.length;d<S;++d)f.push(r(s[d],d));T<0&&p(f,S)}function l(T){return r(T)}function c(T){for(var f=[],s=0,d=T.length;s<d;++s)o(T[s],f);return f.length<2&&f.push(f[0]),f}function n(T){for(var f=c(T);f.length<4;)f.push(f[0]);return f}function x(T){return T.map(n)}function h(T){var f=T.type,s;switch(f){case"GeometryCollection":return{type:f,geometries:T.geometries.map(h)};case"Point":s=l(T.coordinates);break;case"MultiPoint":s=T.coordinates.map(l);break;case"LineString":s=c(T.arcs);break;case"MultiLineString":s=T.arcs.map(c);break;case"Polygon":s=x(T.arcs);break;case"MultiPolygon":s=T.arcs.map(x);break;default:return null}return{type:f,coordinates:s}}return h(t)}},73116:function(W,U,e){var p=e(24511);W.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},69190:function(W,U,e){var p=e(24582),L=e(47403),a=e(9234),P=e(6048),A=function(v,g){return v.replace("%v",P(g))};W.exports=function(v,g,t){if(!L(t))throw new TypeError(A(g,v));if(!p(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw p(r)||(r=g),new TypeError(A(r,v))}},18497:function(W){W.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},6048:function(W,U,e){var p=e(18497),L=/[\n\r\u2028\u2029]/g;W.exports=function(a){var P=p(a);return P===null?"<Non-coercible to string value>":(P.length>100&&(P=P.slice(0,99)+"…"),P=P.replace(L,function(A){switch(A){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),P)}},47403:function(W,U,e){var p=e(24582),L={object:!0,function:!0,undefined:!0};W.exports=function(a){return p(a)?hasOwnProperty.call(L,typeof a):!1}},82527:function(W,U,e){var p=e(69190),L=e(84985);W.exports=function(a){return L(a)?a:p(a,"%v is not a plain function",arguments[1])}},84985:function(W,U,e){var p=e(73116),L=/^\s*class[\s{/}]/,a=Function.prototype.toString;W.exports=function(P){return!(!p(P)||L.test(a.call(P)))}},24511:function(W,U,e){var p=e(47403);W.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},9234:function(W,U,e){var p=e(24582),L=e(47403),a=Object.prototype.toString;W.exports=function(P){if(!p(P))return null;if(L(P)){var A=P.toString;if(typeof A!="function"||A===a)return null}try{return""+P}catch{return null}}},10424:function(W,U,e){var p=e(69190),L=e(24582);W.exports=function(a){return L(a)?a:p(a,"Cannot use %v",arguments[1])}},24582:function(W){var U=void 0;W.exports=function(e){return e!==U&&e!==null}},58404:function(W,U,e){var p=e(13547),L=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var P=typeof Uint8ClampedArray<"u",A=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=L([32,0])),g.BIGUINT64||(g.BIGUINT64=L([32,0])),g.BIGINT64||(g.BIGINT64=L([32,0])),g.BUFFER||(g.BUFFER=L([32,0]));var t=g.DATA,r=g.BUFFER;U.free=function(i){if(a.isBuffer(i))r[p.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var E=i.length||i.byteLength,m=p.log2(E)|0;t[m].push(i)}};function u(b){if(b){var i=b.length||b.byteLength,E=p.log2(i);t[E].push(b)}}function o(b){u(b.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=o,U.freeArrayBuffer=u,U.freeBuffer=function(i){r[p.log2(i.length)].push(i)},U.malloc=function(i,E){if(E===void 0||E==="arraybuffer")return l(i);switch(E){case"uint8":return c(i);case"uint16":return n(i);case"uint32":return x(i);case"int8":return h(i);case"int16":return T(i);case"int32":return f(i);case"float":case"float32":return s(i);case"double":case"float64":return d(i);case"uint8_clamped":return S(i);case"bigint64":return C(i);case"biguint64":return M(i);case"buffer":return w(i);case"data":case"dataview":return y(i);default:return null}return null};function l(i){var i=p.nextPow2(i),E=p.log2(i),m=t[E];return m.length>0?m.pop():new ArrayBuffer(i)}U.mallocArrayBuffer=l;function c(b){return new Uint8Array(l(b),0,b)}U.mallocUint8=c;function n(b){return new Uint16Array(l(2*b),0,b)}U.mallocUint16=n;function x(b){return new Uint32Array(l(4*b),0,b)}U.mallocUint32=x;function h(b){return new Int8Array(l(b),0,b)}U.mallocInt8=h;function T(b){return new Int16Array(l(2*b),0,b)}U.mallocInt16=T;function f(b){return new Int32Array(l(4*b),0,b)}U.mallocInt32=f;function s(b){return new Float32Array(l(4*b),0,b)}U.mallocFloat32=U.mallocFloat=s;function d(b){return new Float64Array(l(8*b),0,b)}U.mallocFloat64=U.mallocDouble=d;function S(b){return P?new Uint8ClampedArray(l(b),0,b):c(b)}U.mallocUint8Clamped=S;function M(b){return A?new BigUint64Array(l(8*b),0,b):null}U.mallocBigUint64=M;function C(b){return v?new BigInt64Array(l(8*b),0,b):null}U.mallocBigInt64=C;function y(b){return new DataView(l(b),0,b)}U.mallocDataView=y;function w(b){b=p.nextPow2(b);var i=p.log2(b),E=r[i];return E.length>0?E.pop():new a(b)}U.mallocBuffer=w,U.clearCache=function(){for(var i=0;i<32;++i)g.UINT8[i].length=0,g.UINT16[i].length=0,g.UINT32[i].length=0,g.INT8[i].length=0,g.INT16[i].length=0,g.INT32[i].length=0,g.FLOAT[i].length=0,g.DOUBLE[i].length=0,g.BIGUINT64[i].length=0,g.BIGINT64[i].length=0,g.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(W){var U=/[\'\"]/;W.exports=function(p){return p?(U.test(p.charAt(0))&&(p=p.substr(1)),U.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},93447:function(W){W.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var a=0,P=L.length;a<P;a++){var A=L[a];for(var v in A)if(!(p[v]!==void 0&&!Array.isArray(p[v])&&e[v]===p[v])&&v in p){var g;if(A[v]===!0)g=p[v];else{if(A[v]===!1)continue;if(typeof A[v]=="function"&&(g=A[v](p[v],e,p),g===void 0))continue}e[v]=g}}return e}},20588:function(W,U,e){W.exports=p;function p(a,P){if(L("noDeprecation"))return a;var A=!1;function v(){if(!A){if(L("throwDeprecation"))throw new Error(P);L("traceDeprecation")?console.trace(P):console.warn(P),A=!0}return a.apply(this,arguments)}return v}function L(a){try{if(!e.g.localStorage)return!1}catch{return!1}var P=e.g.localStorage[a];return P==null?!1:String(P).toLowerCase()==="true"}},45920:function(W){W.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(W,U,e){var p=e(47216),L=e(65481),a=e(21099),P=e(9187);function A(Te){return Te.call.bind(Te)}var v=typeof BigInt<"u",g=typeof Symbol<"u",t=A(Object.prototype.toString),r=A(Number.prototype.valueOf),u=A(String.prototype.valueOf),o=A(Boolean.prototype.valueOf);if(v)var l=A(BigInt.prototype.valueOf);if(g)var c=A(Symbol.prototype.valueOf);function n(Te,xe){if(typeof Te!="object")return!1;try{return xe(Te),!0}catch{return!1}}U.isArgumentsObject=p,U.isGeneratorFunction=L,U.isTypedArray=P;function x(Te){return typeof Promise<"u"&&Te instanceof Promise||Te!==null&&typeof Te=="object"&&typeof Te.then=="function"&&typeof Te.catch=="function"}U.isPromise=x;function h(Te){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Te):P(Te)||q(Te)}U.isArrayBufferView=h;function T(Te){return a(Te)==="Uint8Array"}U.isUint8Array=T;function f(Te){return a(Te)==="Uint8ClampedArray"}U.isUint8ClampedArray=f;function s(Te){return a(Te)==="Uint16Array"}U.isUint16Array=s;function d(Te){return a(Te)==="Uint32Array"}U.isUint32Array=d;function S(Te){return a(Te)==="Int8Array"}U.isInt8Array=S;function M(Te){return a(Te)==="Int16Array"}U.isInt16Array=M;function C(Te){return a(Te)==="Int32Array"}U.isInt32Array=C;function y(Te){return a(Te)==="Float32Array"}U.isFloat32Array=y;function w(Te){return a(Te)==="Float64Array"}U.isFloat64Array=w;function b(Te){return a(Te)==="BigInt64Array"}U.isBigInt64Array=b;function i(Te){return a(Te)==="BigUint64Array"}U.isBigUint64Array=i;function E(Te){return t(Te)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function m(Te){return typeof Map>"u"?!1:E.working?E(Te):Te instanceof Map}U.isMap=m;function F(Te){return t(Te)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function _(Te){return typeof Set>"u"?!1:F.working?F(Te):Te instanceof Set}U.isSet=_;function B(Te){return t(Te)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function I(Te){return typeof WeakMap>"u"?!1:B.working?B(Te):Te instanceof WeakMap}U.isWeakMap=I;function O(Te){return t(Te)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function z(Te){return O(Te)}U.isWeakSet=z;function k(Te){return t(Te)==="[object ArrayBuffer]"}k.working=typeof ArrayBuffer<"u"&&k(new ArrayBuffer);function N(Te){return typeof ArrayBuffer>"u"?!1:k.working?k(Te):Te instanceof ArrayBuffer}U.isArrayBuffer=N;function K(Te){return t(Te)==="[object DataView]"}K.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&K(new DataView(new ArrayBuffer(1),0,1));function q(Te){return typeof DataView>"u"?!1:K.working?K(Te):Te instanceof DataView}U.isDataView=q;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(Te){return t(Te)==="[object SharedArrayBuffer]"}function oe(Te){return typeof Q>"u"?!1:(typeof re.working>"u"&&(re.working=re(new Q)),re.working?re(Te):Te instanceof Q)}U.isSharedArrayBuffer=oe;function Y(Te){return t(Te)==="[object AsyncFunction]"}U.isAsyncFunction=Y;function G(Te){return t(Te)==="[object Map Iterator]"}U.isMapIterator=G;function V(Te){return t(Te)==="[object Set Iterator]"}U.isSetIterator=V;function Z(Te){return t(Te)==="[object Generator]"}U.isGeneratorObject=Z;function ae(Te){return t(Te)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=ae;function ie(Te){return n(Te,r)}U.isNumberObject=ie;function J(Te){return n(Te,u)}U.isStringObject=J;function $(Te){return n(Te,o)}U.isBooleanObject=$;function se(Te){return v&&n(Te,l)}U.isBigIntObject=se;function ee(Te){return g&&n(Te,c)}U.isSymbolObject=ee;function ue(Te){return ie(Te)||J(Te)||$(Te)||se(Te)||ee(Te)}U.isBoxedPrimitive=ue;function ge(Te){return typeof Uint8Array<"u"&&(N(Te)||oe(Te))}U.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Te){Object.defineProperty(U,Te,{enumerable:!1,value:function(){throw new Error(Te+" is not supported in userland")}})})},43827:function(W,U,e){var p=e(90386),L=Object.getOwnPropertyDescriptors||function(Q){for(var re=Object.keys(Q),oe={},Y=0;Y<re.length;Y++)oe[re[Y]]=Object.getOwnPropertyDescriptor(Q,re[Y]);return oe},a=/%[sdj%]/g;U.format=function(q){if(!M(q)){for(var Q=[],re=0;re<arguments.length;re++)Q.push(g(arguments[re]));return Q.join(" ")}for(var re=1,oe=arguments,Y=oe.length,G=String(q).replace(a,function(Z){if(Z==="%%")return"%";if(re>=Y)return Z;switch(Z){case"%s":return String(oe[re++]);case"%d":return Number(oe[re++]);case"%j":try{return JSON.stringify(oe[re++])}catch{return"[Circular]"}default:return Z}}),V=oe[re];re<Y;V=oe[++re])s(V)||!b(V)?G+=" "+V:G+=" "+g(V);return G},U.deprecate=function(q,Q){if(typeof p<"u"&&p.noDeprecation===!0)return q;if(typeof p>"u")return function(){return U.deprecate(q,Q).apply(this,arguments)};var re=!1;function oe(){if(!re){if(p.throwDeprecation)throw new Error(Q);p.traceDeprecation?console.trace(Q):console.error(Q),re=!0}return q.apply(this,arguments)}return oe};var P={},A=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),A=new RegExp("^"+v+"$","i")}U.debuglog=function(q){if(q=q.toUpperCase(),!P[q])if(A.test(q)){var Q=p.pid;P[q]=function(){var re=U.format.apply(U,arguments);console.error("%s %d: %s",q,Q,re)}}else P[q]=function(){};return P[q]};function g(q,Q){var re={seen:[],stylize:r};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),f(Q)?re.showHidden=Q:Q&&U._extend(re,Q),y(re.showHidden)&&(re.showHidden=!1),y(re.depth)&&(re.depth=2),y(re.colors)&&(re.colors=!1),y(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=t),o(re,q,re.depth)}U.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(q,Q){var re=g.styles[Q];return re?"\x1B["+g.colors[re][0]+"m"+q+"\x1B["+g.colors[re][1]+"m":q}function r(q,Q){return q}function u(q){var Q={};return q.forEach(function(re,oe){Q[re]=!0}),Q}function o(q,Q,re){if(q.customInspect&&Q&&m(Q.inspect)&&Q.inspect!==U.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var oe=Q.inspect(re,q);return M(oe)||(oe=o(q,oe,re)),oe}var Y=l(q,Q);if(Y)return Y;var G=Object.keys(Q),V=u(G);if(q.showHidden&&(G=Object.getOwnPropertyNames(Q)),E(Q)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return c(Q);if(G.length===0){if(m(Q)){var Z=Q.name?": "+Q.name:"";return q.stylize("[Function"+Z+"]","special")}if(w(Q))return q.stylize(RegExp.prototype.toString.call(Q),"regexp");if(i(Q))return q.stylize(Date.prototype.toString.call(Q),"date");if(E(Q))return c(Q)}var ae="",ie=!1,J=["{","}"];if(T(Q)&&(ie=!0,J=["[","]"]),m(Q)){var $=Q.name?": "+Q.name:"";ae=" [Function"+$+"]"}if(w(Q)&&(ae=" "+RegExp.prototype.toString.call(Q)),i(Q)&&(ae=" "+Date.prototype.toUTCString.call(Q)),E(Q)&&(ae=" "+c(Q)),G.length===0&&(!ie||Q.length==0))return J[0]+ae+J[1];if(re<0)return w(Q)?q.stylize(RegExp.prototype.toString.call(Q),"regexp"):q.stylize("[Object]","special");q.seen.push(Q);var se;return ie?se=n(q,Q,re,V,G):se=G.map(function(ee){return x(q,Q,re,V,ee,ie)}),q.seen.pop(),h(se,ae,J)}function l(q,Q){if(y(Q))return q.stylize("undefined","undefined");if(M(Q)){var re="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(re,"string")}if(S(Q))return q.stylize(""+Q,"number");if(f(Q))return q.stylize(""+Q,"boolean");if(s(Q))return q.stylize("null","null")}function c(q){return"["+Error.prototype.toString.call(q)+"]"}function n(q,Q,re,oe,Y){for(var G=[],V=0,Z=Q.length;V<Z;++V)z(Q,String(V))?G.push(x(q,Q,re,oe,String(V),!0)):G.push("");return Y.forEach(function(ae){ae.match(/^\d+$/)||G.push(x(q,Q,re,oe,ae,!0))}),G}function x(q,Q,re,oe,Y,G){var V,Z,ae;if(ae=Object.getOwnPropertyDescriptor(Q,Y)||{value:Q[Y]},ae.get?ae.set?Z=q.stylize("[Getter/Setter]","special"):Z=q.stylize("[Getter]","special"):ae.set&&(Z=q.stylize("[Setter]","special")),z(oe,Y)||(V="["+Y+"]"),Z||(q.seen.indexOf(ae.value)<0?(s(re)?Z=o(q,ae.value,null):Z=o(q,ae.value,re-1),Z.indexOf(`
`)>-1&&(G?Z=Z.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):Z=`
`+Z.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):Z=q.stylize("[Circular]","special")),y(V)){if(G&&Y.match(/^\d+$/))return Z;V=JSON.stringify(""+Y),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=q.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=q.stylize(V,"string"))}return V+": "+Z}function h(q,Q,re){var oe=q.reduce(function(Y,G){return G.indexOf(`
`)>=0,Y+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?re[0]+(Q===""?"":Q+`
 `)+" "+q.join(`,
  `)+" "+re[1]:re[0]+Q+" "+q.join(", ")+" "+re[1]}U.types=e(4936);function T(q){return Array.isArray(q)}U.isArray=T;function f(q){return typeof q=="boolean"}U.isBoolean=f;function s(q){return q===null}U.isNull=s;function d(q){return q==null}U.isNullOrUndefined=d;function S(q){return typeof q=="number"}U.isNumber=S;function M(q){return typeof q=="string"}U.isString=M;function C(q){return typeof q=="symbol"}U.isSymbol=C;function y(q){return q===void 0}U.isUndefined=y;function w(q){return b(q)&&_(q)==="[object RegExp]"}U.isRegExp=w,U.types.isRegExp=w;function b(q){return typeof q=="object"&&q!==null}U.isObject=b;function i(q){return b(q)&&_(q)==="[object Date]"}U.isDate=i,U.types.isDate=i;function E(q){return b(q)&&(_(q)==="[object Error]"||q instanceof Error)}U.isError=E,U.types.isNativeError=E;function m(q){return typeof q=="function"}U.isFunction=m;function F(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}U.isPrimitive=F,U.isBuffer=e(45920);function _(q){return Object.prototype.toString.call(q)}function B(q){return q<10?"0"+q.toString(10):q.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var q=new Date,Q=[B(q.getHours()),B(q.getMinutes()),B(q.getSeconds())].join(":");return[q.getDate(),I[q.getMonth()],Q].join(" ")}U.log=function(){console.log("%s - %s",O(),U.format.apply(U,arguments))},U.inherits=e(42018),U._extend=function(q,Q){if(!Q||!b(Q))return q;for(var re=Object.keys(Q),oe=re.length;oe--;)q[re[oe]]=Q[re[oe]];return q};function z(q,Q){return Object.prototype.hasOwnProperty.call(q,Q)}var k=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(Q){if(typeof Q!="function")throw new TypeError('The "original" argument must be of type Function');if(k&&Q[k]){var re=Q[k];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,k,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var oe,Y,G=new Promise(function(ae,ie){oe=ae,Y=ie}),V=[],Z=0;Z<arguments.length;Z++)V.push(arguments[Z]);V.push(function(ae,ie){ae?Y(ae):oe(ie)});try{Q.apply(this,V)}catch(ae){Y(ae)}return G}return Object.setPrototypeOf(re,Object.getPrototypeOf(Q)),k&&Object.defineProperty(re,k,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,L(Q))},U.promisify.custom=k;function N(q,Q){if(!q){var re=new Error("Promise was rejected with a falsy value");re.reason=q,q=re}return Q(q)}function K(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var re=[],oe=0;oe<arguments.length;oe++)re.push(arguments[oe]);var Y=re.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var G=this,V=function(){return Y.apply(G,arguments)};q.apply(this,re).then(function(Z){p.nextTick(V.bind(null,null,Z))},function(Z){p.nextTick(N.bind(null,Z,V))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(q)),Object.defineProperties(Q,L(q)),Q}U.callbackify=K},40372:function(W,U,e){var p=e(86249);W.exports=function(a){return p("webgl",a)}},21099:function(W,U,e){var p=e(86165),L=e(72077),a=e(92978),P=a("Object.prototype.toString"),A=e(57877)(),v=A&&typeof Symbol.toStringTag=="symbol",g=L(),t=a("String.prototype.slice"),r={},u=e(67295),o=Object.getPrototypeOf;v&&u&&o&&p(g,function(n){if(typeof e.g[n]=="function"){var x=new e.g[n];if(!(Symbol.toStringTag in x))throw new EvalError("this engine has support for Symbol.toStringTag, but "+n+" does not have the property! Please report this.");var h=o(x),T=u(h,Symbol.toStringTag);if(!T){var f=o(h);T=u(f,Symbol.toStringTag)}r[n]=T.get}});var l=function(x){var h=!1;return p(r,function(T,f){if(!h)try{var s=T.call(x);s===f&&(h=s)}catch{}}),h},c=e(9187);W.exports=function(x){return c(x)?v?l(x):t(P(x),8,-1):!1}},3961:function(W,U,e){var p=e(63489),L=e(56131),a=p.instance();function P(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}P.prototype=new p.baseCalendar,L(P.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,n){if(typeof c=="string"){var x=c.match(v);return x?x[0]:""}var h=this._validateYear(c),T=c.month(),f=""+this.toChineseMonth(h,T);return n&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(h,T)&&(f+="i"),f},monthNames:function(c){if(typeof c=="string"){var n=c.match(g);return n?n[0]:""}var x=this._validateYear(c),h=c.month(),T=this.toChineseMonth(x,h),f=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(x,h)&&(f="闰"+f),f},monthNamesShort:function(c){if(typeof c=="string"){var n=c.match(t);return n?n[0]:""}var x=this._validateYear(c),h=c.month(),T=this.toChineseMonth(x,h),f=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(x,h)&&(f="闰"+f),f},parseMonth:function(c,n){c=this._validateYear(c);var x=parseInt(n),h;if(isNaN(x))n[0]==="闰"&&(h=!0,n=n.substring(1)),n[n.length-1]==="月"&&(n=n.substring(0,n.length-1)),x=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(n);else{var T=n[n.length-1];h=T==="i"||T==="I"}var f=this.toMonthIndex(c,x,h);return f},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,n){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw n.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,n,x){var h=this.intercalaryMonth(c),T=x&&n!==h;if(T||n<1||n>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var f;return h?!x&&n<=h?f=n-1:f=n:f=n-1,f},toChineseMonth:function(c,n){c.year&&(c=c.year(),n=c.month());var x=this.intercalaryMonth(c),h=x?12:11;if(n<0||n>h)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return x?n<x?T=n+1:T=n:T=n+1,T},intercalaryMonth:function(c){c=this._validateYear(c);var n=r[c-r[0]],x=n>>13;return x},isIntercalaryMonth:function(c,n){c.year&&(c=c.year(),n=c.month());var x=this.intercalaryMonth(c);return!!x&&x===n},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,n,x){var h=this._validateYear(c,p.local.invalidyear),T=u[h-u[0]],f=T>>9&4095,s=T>>5&15,d=T&31,S;S=a.newDate(f,s,d),S.add(4-(S.dayOfWeek()||7),"d");var M=this.toJD(c,n,x)-S.toJD();return 1+Math.floor(M/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,n){c.year&&(n=c.month(),c=c.year()),c=this._validateYear(c);var x=r[c-r[0]],h=x>>13,T=h?12:11;if(n>T)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var f=x&1<<12-n?30:29;return f},weekDay:function(c,n,x){return(this.dayOfWeek(c,n,x)||7)<6},toJD:function(c,n,x){var h=this._validate(c,f,x,p.local.invalidDate);c=this._validateYear(h.year()),n=h.month(),x=h.day();var T=this.isIntercalaryMonth(c,n),f=this.toChineseMonth(c,n),s=l(c,f,x,T);return a.toJD(s.year,s.month,s.day)},fromJD:function(c){var n=a.fromJD(c),x=o(n.year(),n.month(),n.day()),h=this.toMonthIndex(x.year,x.month,x.isIntercalary);return this.newDate(x.year,h,x.day)},fromString:function(c){var n=c.match(A),x=this._validateYear(+n[1]),h=+n[2],T=!!n[3],f=this.toMonthIndex(x,h,T),s=+n[4];return this.newDate(x,f,s)},add:function(c,n,x){var h=c.year(),T=c.month(),f=this.isIntercalaryMonth(h,T),s=this.toChineseMonth(h,T),d=Object.getPrototypeOf(P.prototype).add.call(this,c,n,x);if(x==="y"){var S=d.year(),M=d.month(),C=this.isIntercalaryMonth(S,s),y=f&&C?this.toMonthIndex(S,s,!0):this.toMonthIndex(S,s,!1);y!==M&&d.month(y)}return d}});var A=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,g=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=P;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function o(c,n,x,h){var T,f;if(typeof c=="object")T=c,f=n||{};else{var s=typeof c=="number"&&c>=1888&&c<=2111;if(!s)throw new Error("Solar year outside range 1888-2111");var d=typeof n=="number"&&n>=1&&n<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var S=typeof x=="number"&&x>=1&&x<=31;if(!S)throw new Error("Solar day outside range 1 - 31");T={year:c,month:n,day:x},f=h||{}}var M=u[T.year-u[0]],C=T.year<<9|T.month<<5|T.day;f.year=C>=M?T.year:T.year-1,M=u[f.year-u[0]];var y=M>>9&4095,w=M>>5&15,b=M&31,i,E=new Date(y,w-1,b),m=new Date(T.year,T.month-1,T.day);i=Math.round((m-E)/864e5);var F=r[f.year-r[0]],_;for(_=0;_<13;_++){var B=F&1<<12-_?30:29;if(i<B)break;i-=B}var I=F>>13;return!I||_<I?(f.isIntercalary=!1,f.month=1+_):_===I?(f.isIntercalary=!0,f.month=_):(f.isIntercalary=!1,f.month=_),f.day=1+i,f}function l(c,n,x,h,T){var f,s;if(typeof c=="object")s=c,f=n||{};else{var d=typeof c=="number"&&c>=1888&&c<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var S=typeof n=="number"&&n>=1&&n<=12;if(!S)throw new Error("Lunar month outside range 1 - 12");var M=typeof x=="number"&&x>=1&&x<=30;if(!M)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,f=h):(C=!!h,f=T||{}),s={year:c,month:n,day:x,isIntercalary:C}}var y;y=s.day-1;var w=r[s.year-r[0]],b=w>>13,i;b&&(s.month>b||s.isIntercalary)?i=s.month:i=s.month-1;for(var E=0;E<i;E++){var m=w&1<<12-E?30:29;y+=m}var F=u[s.year-u[0]],_=F>>9&4095,B=F>>5&15,I=F&31,O=new Date(_,B-1,I+y);return f.year=O.getFullYear(),f.month=1+O.getMonth(),f.day=O.getDate(),f}},38751:function(W,U,e){var p=e(63489),L=e(56131);function a(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(P,A,v){var g=this.newDate(P,A,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,A){var v=this._validate(P,A,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(P,A,v){return(this.dayOfWeek(P,A,v)||7)<6},toJD:function(P,A,v){var g=this._validate(P,A,v,p.local.invalidDate);return P=g.year(),P<0&&P++,g.day()+(g.month()-1)*30+(P-1)*365+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var A=Math.floor(P)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(P)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(A/30)+1,t=A-(g-1)*30+1;return this.newDate(v,g,t)}}),p.calendars.coptic=a},86825:function(W,U,e){var p=e(63489),L=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(A){return this._validate(A,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(A){return this._validate(A,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(A,v,g){var t=this.newDate(A,v,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(A,v){var g=this._validate(A,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);return(t.day()+1)%8},weekDay:function(A,v,g){var t=this.dayOfWeek(A,v,g);return t>=2&&t<=6},extraInfo:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);return{century:P[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);return A=t.year()+(t.year()<0?1:0),v=t.month(),g=t.day(),g+(v>1?16:0)+(v>2?(v-2)*32:0)+(A-1)*400+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(A/400)+1;A-=(v-1)*400,A+=A>15?16:0;var g=Math.floor(A/32)+1,t=A-(g-1)*32+1;return this.newDate(v<=0?v-1:v,g,t)}});var P={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=a},37715:function(W,U,e){var p=e(63489),L=e(56131);function a(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=A.year()+(A.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(P,A,v){var g=this.newDate(P,A,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,A){var v=this._validate(P,A,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(P,A,v){return(this.dayOfWeek(P,A,v)||7)<6},toJD:function(P,A,v){var g=this._validate(P,A,v,p.local.invalidDate);return P=g.year(),P<0&&P++,g.day()+(g.month()-1)*30+(P-1)*365+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var A=Math.floor(P)+.5-this.jdEpoch,v=Math.floor((A-Math.floor((A+366)/1461))/365)+1;v<=0&&v--,A=Math.floor(P)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(A/30)+1,t=A-(g-1)*30+1;return this.newDate(v,g,t)}}),p.calendars.ethiopian=a},99384:function(W,U,e){var p=e(63489),L=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(A){return A=A<0?A+1:A,P(A*7+1,19)<7},monthsInYear:function(A){return this._validate(A,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(A.year?A.year():A)?13:12},weekOfYear:function(A,v,g){var t=this.newDate(A,v,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,p.local.invalidYear);return A=v.year(),this.toJD(A===-1?1:A+1,7,1)-this.toJD(A,7,1)},daysInMonth:function(A,v){return A.year&&(v=A.month(),A=A.year()),this._validate(A,v,this.minDay,p.local.invalidMonth),v===12&&this.leapYear(A)||v===8&&P(this.daysInYear(A),10)===5?30:v===9&&P(this.daysInYear(A),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(A,v,g){return this.dayOfWeek(A,v,g)!==6},extraInfo:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);A=t.year(),v=t.month(),g=t.day();var r=A<=0?A+1:A,u=this.jdEpoch+this._delay1(r)+this._delay2(r)+g+1;if(v<7){for(var o=7;o<=this.monthsInYear(A);o++)u+=this.daysInMonth(A,o);for(var o=1;o<v;o++)u+=this.daysInMonth(A,o)}else for(var o=7;o<v;o++)u+=this.daysInMonth(A,o);return u},_delay1:function(A){var v=Math.floor((235*A-234)/19),g=12084+13753*v,t=v*29+Math.floor(g/25920);return P(3*(t+1),7)<3&&t++,t},_delay2:function(A){var v=this._delay1(A-1),g=this._delay1(A),t=this._delay1(A+1);return t-g===356?2:g-v===382?1:0},fromJD:function(A){A=Math.floor(A)+.5;for(var v=Math.floor((A-this.jdEpoch)*98496/35975351)-1;A>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var g=A<this.toJD(v,1,1)?7:1;A>this.toJD(v,g,this.daysInMonth(v,g));)g++;var t=A-this.toJD(v,g,1)+1;return this.newDate(v,g,t)}});function P(A,v){return A-v*Math.floor(A/v)}p.calendars.hebrew=a},43805:function(W,U,e){var p=e(63489),L=e(56131);function a(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(P){var A=this._validate(P,this.minMonth,this.minDay,p.local.invalidYear);return(A.year()*11+14)%30<11},weekOfYear:function(P,A,v){var g=this.newDate(P,A,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(P){return this.leapYear(P)?355:354},daysInMonth:function(P,A){var v=this._validate(P,A,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(P,A,v){return this.dayOfWeek(P,A,v)!==5},toJD:function(P,A,v){var g=this._validate(P,A,v,p.local.invalidDate);return P=g.year(),A=g.month(),v=g.day(),P=P<=0?P+1:P,v+Math.ceil(29.5*(A-1))+(P-1)*354+Math.floor((3+11*P)/30)+this.jdEpoch-1},fromJD:function(P){P=Math.floor(P)+.5;var A=Math.floor((30*(P-this.jdEpoch)+10646)/10631);A=A<=0?A-1:A;var v=Math.min(12,Math.ceil((P-29-this.toJD(A,1,1))/29.5)+1),g=P-this.toJD(A,v,1)+1;return this.newDate(A,v,g)}}),p.calendars.islamic=a},88874:function(W,U,e){var p=e(63489),L=e(56131);function a(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var A=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=A.year()<0?A.year()+1:A.year();return v%4===0},weekOfYear:function(P,A,v){var g=this.newDate(P,A,v);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,A){var v=this._validate(P,A,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(P,A,v){return(this.dayOfWeek(P,A,v)||7)<6},toJD:function(P,A,v){var g=this._validate(P,A,v,p.local.invalidDate);return P=g.year(),A=g.month(),v=g.day(),P<0&&P++,A<=2&&(P--,A+=12),Math.floor(365.25*(P+4716))+Math.floor(30.6001*(A+1))+v-1524.5},fromJD:function(P){var A=Math.floor(P+.5),v=A+1524,g=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*g),r=Math.floor((v-t)/30.6001),u=r-Math.floor(r<14?1:13),o=g-Math.floor(u>2?4716:4715),l=v-t-Math.floor(30.6001*r);return o<=0&&o--,this.newDate(o,u,l)}}),p.calendars.julian=a},83290:function(W,U,e){var p=e(63489),L=e(56131);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(v){var g=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear);v=g.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var g=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";g=g*20+r}return g},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(v,g,t){return this._validate(v,g,t,p.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(v,g){return this._validate(v,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,g,t){var r=this._validate(v,g,t,p.local.invalidDate);return r.day()},weekDay:function(v,g,t){return this._validate(v,g,t,p.local.invalidDate),!0},extraInfo:function(v,g,t){var r=this._validate(v,g,t,p.local.invalidDate),u=r.toJD(),o=this._toHaab(u),l=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(v){v-=this.jdEpoch;var g=P(v+8+(18-1)*20,365);return[Math.floor(g/20)+1,P(g,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[A(v+20,20),A(v+4,13)]},toJD:function(v,g,t){var r=this._validate(v,g,t,p.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var g=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(g,t,r)}});function P(v,g){return v-g*Math.floor(v/g)}function A(v,g){return P(v-1,g)+1}p.calendars.mayan=a},29108:function(W,U,e){var p=e(63489),L=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar;var P=p.instance("gregorian");L(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return P.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(A,v,g){var t=this.newDate(A,v,g);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var g=this._validate(A,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(A,v,g){return(this.dayOfWeek(A,v,g)||7)<6},toJD:function(r,v,g){var t=this._validate(r,v,g,p.local.invalidMonth),r=t.year();r<0&&r++;for(var u=t.day(),o=1;o<t.month();o++)u+=this.daysPerMonth[o-1];return u+P.toJD(r+1468,3,13)},fromJD:function(A){A=Math.floor(A+.5);for(var v=Math.floor((A-(this.jdEpoch-1))/366);A>=this.toJD(v+1,1,1);)v++;for(var g=A-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;g>this.daysInMonth(v,t);)g-=this.daysInMonth(v,t),t++;return this.newDate(v,t,g)}}),p.calendars.nanakshahi=a},55422:function(W,U,e){var p=e(63489),L=e(56131);function a(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(P){return this.daysInYear(P)!==this.daysPerYear},weekOfYear:function(P,A,v){var g=this.newDate(P,A,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(P){var A=this._validate(P,this.minMonth,this.minDay,p.local.invalidYear);if(P=A.year(),typeof this.NEPALI_CALENDAR_DATA[P]>"u")return this.daysPerYear;for(var v=0,g=this.minMonth;g<=12;g++)v+=this.NEPALI_CALENDAR_DATA[P][g];return v},daysInMonth:function(P,A){return P.year&&(A=P.month(),P=P.year()),this._validate(P,A,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[P]>"u"?this.daysPerMonth[A-1]:this.NEPALI_CALENDAR_DATA[P][A]},weekDay:function(P,A,v){return this.dayOfWeek(P,A,v)!==6},toJD:function(P,A,v){var g=this._validate(P,A,v,p.local.invalidDate);P=g.year(),A=g.month(),v=g.day();var t=p.instance(),r=0,u=A,o=P;this._createMissingCalendarData(P);var l=P-(u>9||u===9&&v>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(A!==9&&(r=v,u--);u!==9;)u<=0&&(u=12,o--),r+=this.NEPALI_CALENDAR_DATA[o][u],u--;return A===9?(r+=v-this.NEPALI_CALENDAR_DATA[o][0],r<0&&(r+=t.daysInYear(l))):r+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],t.newDate(l,1,1).add(r,"d").toJD()},fromJD:function(P){var A=p.instance(),v=A.fromJD(P),g=v.year(),t=v.dayOfYear(),r=g+56;this._createMissingCalendarData(r);for(var u=9,o=this.NEPALI_CALENDAR_DATA[r][0],l=this.NEPALI_CALENDAR_DATA[r][u]-o+1;t>l;)u++,u>12&&(u=1,r++),l+=this.NEPALI_CALENDAR_DATA[r][u];var c=this.NEPALI_CALENDAR_DATA[r][u]-(l-t);return this.newDate(r,u,c)},_createMissingCalendarData:function(P){var A=this.daysPerMonth.slice(0);A.unshift(17);for(var v=P-1;v<P+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=A)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=a},94320:function(W,U,e){var p=e(63489),L=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,p.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(A,v,g){var t=this.newDate(A,v,g);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(A,v){var g=this._validate(A,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(A,v,g){return this.dayOfWeek(A,v,g)!==5},toJD:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate);A=t.year(),v=t.month(),g=t.day();var r=A-(A>=0?474:473),u=474+P(r,2820);return g+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((u*682-110)/2816)+(u-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(A){A=Math.floor(A)+.5;var v=A-this.toJD(475,1,1),g=Math.floor(v/1029983),t=P(v,1029983),r=2820;if(t!==1029982){var u=Math.floor(t/366),o=P(t,366);r=Math.floor((2134*u+2816*o+2815)/1028522)+u+1}var l=r+2820*g+474;l=l<=0?l-1:l;var c=A-this.toJD(l,1,1)+1,n=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),x=A-this.toJD(l,n,1)+1;return this.newDate(l,n,x)}});function P(A,v){return A-v*Math.floor(A/v)}p.calendars.persian=a,p.calendars.jalali=a},31320:function(W,U,e){var p=e(63489),L=e(56131),a=p.instance();function P(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}P.prototype=new p.baseCalendar,L(P.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return a.leapYear(g)},weekOfYear:function(r,v,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var g=this._validate(A,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(A,v,g){return(this.dayOfWeek(A,v,g)||7)<6},toJD:function(r,v,g){var t=this._validate(r,v,g,p.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(A){var v=a.fromJD(A),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)},_g2tYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)}}),p.calendars.taiwan=P},51367:function(W,U,e){var p=e(63489),L=e(56131),a=p.instance();function P(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}P.prototype=new p.baseCalendar,L(P.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return a.leapYear(g)},weekOfYear:function(r,v,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(A,v){var g=this._validate(A,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(A,v,g){return(this.dayOfWeek(A,v,g)||7)<6},toJD:function(r,v,g){var t=this._validate(r,v,g,p.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(A){var v=a.fromJD(A),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(A){return A-this.yearsOffset-(A>=1&&A<=this.yearsOffset?1:0)},_g2tYear:function(A){return A+this.yearsOffset+(A>=-this.yearsOffset&&A<=-1?1:0)}}),p.calendars.thai=P},21457:function(W,U,e){var p=e(63489),L=e(56131);function a(A){this.local=this.regionalOptions[A||""]||this.regionalOptions[""]}a.prototype=new p.baseCalendar,L(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(A){var v=this._validate(A,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(A,v,g){var t=this.newDate(A,v,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(A){for(var v=0,g=1;g<=12;g++)v+=this.daysInMonth(A,g);return v},daysInMonth:function(A,v){for(var g=this._validate(A,v,this.minDay,p.local.invalidMonth),t=g.toJD()-24e5+.5,r=0,u=0;u<P.length;u++){if(P[u]>t)return P[r]-P[r-1];r++}return 30},weekDay:function(A,v,g){return this.dayOfWeek(A,v,g)!==5},toJD:function(A,v,g){var t=this._validate(A,v,g,p.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,u=t.day()+P[r-1]-1;return u+24e5-.5},fromJD:function(A){for(var v=A-24e5+.5,g=0,t=0;t<P.length&&!(P[t]>v);t++)g++;var r=g+15292,u=Math.floor((r-1)/12),o=u+1,l=r-12*u,c=v-P[g-1]+1;return this.newDate(o,l,c)},isValid:function(A,v,g){var t=p.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(A=A.year!=null?A.year:A,t=A>=1276&&A<=1500),t},_validate:function(A,v,g,t){var r=p.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),p.calendars.ummalqura=a;var P=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(W,U,e){var p=e(56131);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var u=this._localCals[t+"-"+r];if(!u&&this.calendars[t]&&(u=new this.calendars[t](r),this._localCals[t+"-"+r]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return u},newDate:function(t,r,u,o,l){return o=(t!=null&&t.year?t.calendar():typeof o=="string"?this.instance(o,l):o)||this.instance(),o.newDate(t,r,u)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(u){return t[u]})}},substituteChineseDigits:function(t,r){return function(u){for(var o="",l=0;u>0;){var c=u%10;o=(c===0?"":t[c]+r[l])+o,l++,u=Math.floor(u/10)}return o.indexOf(t[1]+r[1])===0&&(o=o.substr(1)),o||t[0]}}});function a(t,r,u,o){if(this._calendar=t,this._year=r,this._month=u,this._day=o,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}p(a.prototype,{newDate:function(t,r,u){return this._calendar.newDate(t??this,r,u)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,u){if(!this._calendar.isValid(t,r,u))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}});function A(){this.shortYearCutoff="+10"}p(A.prototype,{_validateLevel:0,newDate:function(t,r,u){return t==null?this.today():(t.year&&(this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate),u=t.day(),r=t.month(),t=t.year()),new a(this,t,r,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+P(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var u=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(t,r){var u=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,u,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),u},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,u){var o=this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,u){var o=this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(t,r,u){return this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(t,r,u){return this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,u),r,u)},_add:function(t,r,u){if(this._validateLevel++,u==="d"||u==="w"){var o=t.toJD()+r*(u==="w"?this.daysInWeek():1),l=t.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var c=t.year()+(u==="y"?r:0),n=t.monthOfYear()+(u==="m"?r:0),l=t.day(),x=function(f){for(;n<f.minMonth;)c--,n+=f.monthsInYear(c);for(var s=f.monthsInYear(c);n>s-1+f.minMonth;)c++,n-=s,s=f.monthsInYear(c)};u==="y"?(t.month()!==this.fromMonthOfYear(c,n)&&(n=this.newDate(c,t.month(),this.minDay).monthOfYear()),n=Math.min(n,this.monthsInYear(c)),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,n)))):u==="m"&&(x(this),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,n))));var h=[c,this.fromMonthOfYear(c,n),l];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(t,r,u,o){if(!this.hasYearZero&&(o==="y"||o==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o],c=u<0?-1:1;r=this._add(t,u*l[0]+c*l[1],l[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,u){this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var o=u==="y"?r:t.year(),l=u==="m"?r:t.month(),c=u==="d"?r:t.day();return(u==="y"||u==="m")&&(c=Math.min(c,this.daysInMonth(o,l))),t.date(o,l,c)},isValid:function(t,r,u){this._validateLevel++;var o=this.hasYearZero||t!==0;if(o){var l=this.newDate(t,r,this.minDay);o=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(l)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(t,r,u){var o=this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(t){return this.fromJD(g.instance().fromJSDate(t).toJD())},_validate:function(t,r,u,o){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,u))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(t,r,u);return this._validateLevel--,l}catch(c){throw this._validateLevel--,c}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new A,p(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var r=this._validate(u,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),u=r.year()+(r.year()<0?1:0);return u%4===0&&(u%100!==0||u%400===0)},weekOfYear:function(t,r,u){var o=this.newDate(t,r,u);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var u=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(t,r,u){return(this.dayOfWeek(t,r,u)||7)<6},toJD:function(t,r,u){var o=this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate);t=o.year(),r=o.month(),u=o.day(),t<0&&t++,r<3&&(r+=12,t--);var l=Math.floor(t/100),c=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+u+c-1524.5},fromJD:function(t){var r=Math.floor(t+.5),u=Math.floor((r-186721625e-2)/36524.25);u=r+1+u-Math.floor(u/4);var o=u+1524,l=Math.floor((o-122.1)/365.25),c=Math.floor(365.25*l),n=Math.floor((o-c)/30.6001),x=o-c-Math.floor(n*30.6001),h=n-(n>13.5?13:1),T=l-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,x)},toJSDate:function(t,r,u){var o=this._validate(t,r,u,g.local.invalidDate||g.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var g=W.exports=new L;g.cdate=a,g.baseCalendar=A,g.calendars.gregorian=v},94338:function(W,U,e){var p=e(56131),L=e(63489);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(a,P){return typeof a!="string"&&(P=a,a=""),this._calendar.formatDate(a||"",this,P)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,P,A){if(typeof a!="string"&&(A=P,P=a,a=""),!P)return"";if(P.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,A=A||{};var v=A.dayNamesShort||this.local.dayNamesShort,g=A.dayNames||this.local.dayNames,t=A.monthNumbers||this.local.monthNumbers,r=A.monthNamesShort||this.local.monthNamesShort,u=A.monthNames||this.local.monthNames;A.calculateWeek||this.local.calculateWeek;for(var o=function(M,C){for(var y=1;S+y<a.length&&a.charAt(S+y)===M;)y++;return S+=y-1,Math.floor(y/(C||1))>1},l=function(M,C,y,w){var b=""+C;if(o(M,w))for(;b.length<y;)b="0"+b;return b},c=function(M,C,y,w){return o(M)?w[C]:y[C]},n=this,x=function(M){return typeof t=="function"?t.call(n,M,o("m")):f(l("m",M.month(),2))},h=function(M,C){return C?typeof u=="function"?u.call(n,M):u[M.month()-n.minMonth]:typeof r=="function"?r.call(n,M):r[M.month()-n.minMonth]},T=this.local.digits,f=function(M){return A.localNumbers&&T?T(M):M},s="",d=!1,S=0;S<a.length;S++)if(d)a.charAt(S)==="'"&&!o("'")?d=!1:s+=a.charAt(S);else switch(a.charAt(S)){case"d":s+=f(l("d",P.day(),2));break;case"D":s+=c("D",P.dayOfWeek(),v,g);break;case"o":s+=l("o",P.dayOfYear(),3);break;case"w":s+=l("w",P.weekOfYear(),2);break;case"m":s+=x(P);break;case"M":s+=h(P,o("M"));break;case"y":s+=o("y",2)?P.year():(P.year()%100<10?"0":"")+P.year()%100;break;case"Y":o("Y",2),s+=P.formatYear();break;case"J":s+=P.toJD();break;case"@":s+=(P.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":s+=(P.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":o("'")?s+="'":d=!0;break;default:s+=a.charAt(S)}return s},parseDate:function(a,P,A){if(P==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(P=typeof P=="object"?P.toString():P+"",P==="")return null;a=a||this.local.dateFormat,A=A||{};var v=A.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var g=A.dayNamesShort||this.local.dayNamesShort,t=A.dayNames||this.local.dayNames,r=A.parseMonth||this.local.parseMonth,u=A.monthNumbers||this.local.monthNumbers,o=A.monthNamesShort||this.local.monthNamesShort,l=A.monthNames||this.local.monthNames,c=-1,n=-1,x=-1,h=-1,T=-1,f=!1,s=!1,d=function(_,B){for(var I=1;E+I<a.length&&a.charAt(E+I)===_;)I++;return E+=I-1,Math.floor(I/(B||1))>1},S=function(_,B){var I=d(_,B),O=[2,3,I?4:2,I?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],z=new RegExp("^-?\\d{1,"+O+"}"),k=P.substring(i).match(z);if(!k)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=k[0].length,parseInt(k[0],10)},M=this,C=function(){if(typeof u=="function"){d("m");var _=u.call(M,P.substring(i));return i+=_.length,_}return S("m")},y=function(_,B,I,O){for(var z=d(_,O)?I:B,k=0;k<z.length;k++)if(P.substr(i,z[k].length).toLowerCase()===z[k].toLowerCase())return i+=z[k].length,k+M.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},w=function(){if(typeof l=="function"){var _=d("M")?l.call(M,P.substring(i)):o.call(M,P.substring(i));return i+=_.length,_}return y("M",o,l)},b=function(){if(P.charAt(i)!==a.charAt(E))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,E=0;E<a.length;E++)if(s)a.charAt(E)==="'"&&!d("'")?s=!1:b();else switch(a.charAt(E)){case"d":h=S("d");break;case"D":y("D",g,t);break;case"o":T=S("o");break;case"w":S("w");break;case"m":x=C();break;case"M":x=w();break;case"y":var m=E;f=!d("y",2),E=m,n=S("y",2);break;case"Y":n=S("Y",2);break;case"J":c=S("J")+.5,P.charAt(i)==="."&&(i++,S("J"));break;case"@":c=S("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=S("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=P.length;break;case"'":d("'")?b():s=!0;break;default:b()}if(i<P.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(n===-1?n=this.today().year():n<100&&f&&(n+=v===-1?1900:this.today().year()-this.today().year()%100-(n<=v?0:100)),typeof x=="string"&&(x=r.call(this,n,x)),T>-1){x=1,h=T;for(var F=this.daysInMonth(n,x);h>F;F=this.daysInMonth(n,x))x++,h-=F}return c>-1?this.fromJD(c):this.newDate(n,x,h)},determineDate:function(a,P,A,v,g){A&&typeof A!="object"&&(g=v,v=A,A=null),typeof v!="string"&&(g=v,v="");var t=this,r=function(u){try{return t.parseDate(v,u,g)}catch{}u=u.toLowerCase();for(var o=(u.match(/^c/)&&A?A.newDate():null)||t.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=l.exec(u);c;)o.add(parseInt(c[1],10),c[2]||"d"),c=l.exec(u);return o};return P=P?P.newDate():null,a=a==null?P:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?P:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(W,U,e){var p=e(24696);W.exports=function(){return p(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(a){return typeof e.g[a]=="function"})}},40402:function(W){W.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(W){W.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(W){W.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(W){W.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(W){W.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(W){W.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Be={};function Ke(W){var U=Be[W];if(U!==void 0)return U.exports;var e=Be[W]={exports:{}};return Ee[W].call(e.exports,e,e.exports,Ke),e.exports}(function(){Ke.n=function(W){var U=W&&W.__esModule?function(){return W.default}:function(){return W};return Ke.d(U,{a:U}),U}})(),function(){Ke.d=function(W,U){for(var e in U)Ke.o(U,e)&&!Ke.o(W,e)&&Object.defineProperty(W,e,{enumerable:!0,get:U[e]})}}(),function(){Ke.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ke.o=function(W,U){return Object.prototype.hasOwnProperty.call(W,U)}}(),function(){Ke.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})}}();var bt=Ke(27909);return bt}()})})(u4);const R8=i5(J0);var K1={},A0={},M0=34,Tv=10,S0=13;function Xx(j){return new Function("d","return {"+j.map(function(ce,Ee){return JSON.stringify(ce)+": d["+Ee+'] || ""'}).join(",")+"}")}function f4(j,ce){var Ee=Xx(j);return function(Be,Ke){return ce(Ee(Be),Ke,j)}}function J1(j){var ce=Object.create(null),Ee=[];return j.forEach(function(Be){for(var Ke in Be)Ke in ce||Ee.push(ce[Ke]=Ke)}),Ee}function Al(j,ce){var Ee=j+"",Be=Ee.length;return Be<ce?new Array(ce-Be+1).join(0)+Ee:Ee}function c4(j){return j<0?"-"+Al(-j,6):j>9999?"+"+Al(j,6):Al(j,4)}function h4(j){var ce=j.getUTCHours(),Ee=j.getUTCMinutes(),Be=j.getUTCSeconds(),Ke=j.getUTCMilliseconds();return isNaN(j)?"Invalid Date":c4(j.getUTCFullYear())+"-"+Al(j.getUTCMonth()+1,2)+"-"+Al(j.getUTCDate(),2)+(Ke?"T"+Al(ce,2)+":"+Al(Ee,2)+":"+Al(Be,2)+"."+Al(Ke,3)+"Z":Be?"T"+Al(ce,2)+":"+Al(Ee,2)+":"+Al(Be,2)+"Z":Ee||ce?"T"+Al(ce,2)+":"+Al(Ee,2)+"Z":"")}function v4(j){var ce=new RegExp('["'+j+`
\r]`),Ee=j.charCodeAt(0);function Be(a,P){var A,v,g=Ke(a,function(t,r){if(A)return A(t,r-1);v=t,A=P?f4(t,P):Xx(t)});return g.columns=v||[],g}function Ke(a,P){var A=[],v=a.length,g=0,t=0,r,u=v<=0,o=!1;a.charCodeAt(v-1)===Tv&&--v,a.charCodeAt(v-1)===S0&&--v;function l(){if(u)return A0;if(o)return o=!1,K1;var n,x=g,h;if(a.charCodeAt(x)===M0){for(;g++<v&&a.charCodeAt(g)!==M0||a.charCodeAt(++g)===M0;);return(n=g)>=v?u=!0:(h=a.charCodeAt(g++))===Tv?o=!0:h===S0&&(o=!0,a.charCodeAt(g)===Tv&&++g),a.slice(x+1,n-1).replace(/""/g,'"')}for(;g<v;){if((h=a.charCodeAt(n=g++))===Tv)o=!0;else if(h===S0)o=!0,a.charCodeAt(g)===Tv&&++g;else if(h!==Ee)continue;return a.slice(x,n)}return u=!0,a.slice(x,v)}for(;(r=l())!==A0;){for(var c=[];r!==K1&&r!==A0;)c.push(r),r=l();P&&(c=P(c,t++))==null||A.push(c)}return A}function bt(a,P){return a.map(function(A){return P.map(function(v){return L(A[v])}).join(j)})}function W(a,P){return P==null&&(P=J1(a)),[P.map(L).join(j)].concat(bt(a,P)).join(`
`)}function U(a,P){return P==null&&(P=J1(a)),bt(a,P).join(`
`)}function e(a){return a.map(p).join(`
`)}function p(a){return a.map(L).join(j)}function L(a){return a==null?"":a instanceof Date?h4(a):ce.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}return{parse:Be,parseRows:Ke,format:W,formatBody:U,formatRows:e,formatRow:p,formatValue:L}}var d4=v4(","),D8=d4.parse;class eh{constructor(){this._partials=new Float64Array(32),this._n=0}add(ce){const Ee=this._partials;let Be=0;for(let Ke=0;Ke<this._n&&Ke<32;Ke++){const bt=Ee[Ke],W=ce+bt,U=Math.abs(ce)<Math.abs(bt)?ce-(W-bt):bt-(W-ce);U&&(Ee[Be++]=U),ce=W}return Ee[Be]=ce,this._n=Be+1,this}valueOf(){const ce=this._partials;let Ee=this._n,Be,Ke,bt,W=0;if(Ee>0){for(W=ce[--Ee];Ee>0&&(Be=W,Ke=ce[--Ee],W=Be+Ke,bt=Ke-(W-Be),!bt););Ee>0&&(bt<0&&ce[Ee-1]<0||bt>0&&ce[Ee-1]>0)&&(Ke=bt*2,Be=W+Ke,Ke==Be-W&&(W=Be))}return W}}function*p4(j){for(const ce of j)yield*ce}function jx(j){return Array.from(p4(j))}var g4={value:()=>{}};function Kx(){for(var j=0,ce=arguments.length,Ee={},Be;j<ce;++j){if(!(Be=arguments[j]+"")||Be in Ee||/[\s.]/.test(Be))throw new Error("illegal type: "+Be);Ee[Be]=[]}return new Kd(Ee)}function Kd(j){this._=j}function y4(j,ce){return j.trim().split(/^|\s+/).map(function(Ee){var Be="",Ke=Ee.indexOf(".");if(Ke>=0&&(Be=Ee.slice(Ke+1),Ee=Ee.slice(0,Ke)),Ee&&!ce.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:Be}})}Kd.prototype=Kx.prototype={constructor:Kd,on:function(j,ce){var Ee=this._,Be=y4(j+"",Ee),Ke,bt=-1,W=Be.length;if(arguments.length<2){for(;++bt<W;)if((Ke=(j=Be[bt]).type)&&(Ke=m4(Ee[Ke],j.name)))return Ke;return}if(ce!=null&&typeof ce!="function")throw new Error("invalid callback: "+ce);for(;++bt<W;)if(Ke=(j=Be[bt]).type)Ee[Ke]=Q1(Ee[Ke],j.name,ce);else if(ce==null)for(Ke in Ee)Ee[Ke]=Q1(Ee[Ke],j.name,null);return this},copy:function(){var j={},ce=this._;for(var Ee in ce)j[Ee]=ce[Ee].slice();return new Kd(j)},call:function(j,ce){if((Ke=arguments.length-2)>0)for(var Ee=new Array(Ke),Be=0,Ke,bt;Be<Ke;++Be)Ee[Be]=arguments[Be+2];if(!this._.hasOwnProperty(j))throw new Error("unknown type: "+j);for(bt=this._[j],Be=0,Ke=bt.length;Be<Ke;++Be)bt[Be].value.apply(ce,Ee)},apply:function(j,ce,Ee){if(!this._.hasOwnProperty(j))throw new Error("unknown type: "+j);for(var Be=this._[j],Ke=0,bt=Be.length;Ke<bt;++Ke)Be[Ke].value.apply(ce,Ee)}};function m4(j,ce){for(var Ee=0,Be=j.length,Ke;Ee<Be;++Ee)if((Ke=j[Ee]).name===ce)return Ke.value}function Q1(j,ce,Ee){for(var Be=0,Ke=j.length;Be<Ke;++Be)if(j[Be].name===ce){j[Be]=g4,j=j.slice(0,Be).concat(j.slice(Be+1));break}return Ee!=null&&j.push({name:ce,value:Ee}),j}var Q0="http://www.w3.org/1999/xhtml";const $1={svg:"http://www.w3.org/2000/svg",xhtml:Q0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fp(j){var ce=j+="",Ee=ce.indexOf(":");return Ee>=0&&(ce=j.slice(0,Ee))!=="xmlns"&&(j=j.slice(Ee+1)),$1.hasOwnProperty(ce)?{space:$1[ce],local:j}:j}function x4(j){return function(){var ce=this.ownerDocument,Ee=this.namespaceURI;return Ee===Q0&&ce.documentElement.namespaceURI===Q0?ce.createElement(j):ce.createElementNS(Ee,j)}}function b4(j){return function(){return this.ownerDocument.createElementNS(j.space,j.local)}}function Jx(j){var ce=Fp(j);return(ce.local?b4:x4)(ce)}function w4(){}function Ug(j){return j==null?w4:function(){return this.querySelector(j)}}function T4(j){typeof j!="function"&&(j=Ug(j));for(var ce=this._groups,Ee=ce.length,Be=new Array(Ee),Ke=0;Ke<Ee;++Ke)for(var bt=ce[Ke],W=bt.length,U=Be[Ke]=new Array(W),e,p,L=0;L<W;++L)(e=bt[L])&&(p=j.call(e,e.__data__,L,bt))&&("__data__"in e&&(p.__data__=e.__data__),U[L]=p);return new Vl(Be,this._parents)}function A4(j){return j==null?[]:Array.isArray(j)?j:Array.from(j)}function M4(){return[]}function Qx(j){return j==null?M4:function(){return this.querySelectorAll(j)}}function S4(j){return function(){return A4(j.apply(this,arguments))}}function E4(j){typeof j=="function"?j=S4(j):j=Qx(j);for(var ce=this._groups,Ee=ce.length,Be=[],Ke=[],bt=0;bt<Ee;++bt)for(var W=ce[bt],U=W.length,e,p=0;p<U;++p)(e=W[p])&&(Be.push(j.call(e,e.__data__,p,W)),Ke.push(e));return new Vl(Be,Ke)}function $x(j){return function(){return this.matches(j)}}function qx(j){return function(ce){return ce.matches(j)}}var C4=Array.prototype.find;function L4(j){return function(){return C4.call(this.children,j)}}function P4(){return this.firstElementChild}function R4(j){return this.select(j==null?P4:L4(typeof j=="function"?j:qx(j)))}var D4=Array.prototype.filter;function I4(){return Array.from(this.children)}function _4(j){return function(){return D4.call(this.children,j)}}function F4(j){return this.selectAll(j==null?I4:_4(typeof j=="function"?j:qx(j)))}function k4(j){typeof j!="function"&&(j=$x(j));for(var ce=this._groups,Ee=ce.length,Be=new Array(Ee),Ke=0;Ke<Ee;++Ke)for(var bt=ce[Ke],W=bt.length,U=Be[Ke]=[],e,p=0;p<W;++p)(e=bt[p])&&j.call(e,e.__data__,p,bt)&&U.push(e);return new Vl(Be,this._parents)}function e2(j){return new Array(j.length)}function z4(){return new Vl(this._enter||this._groups.map(e2),this._parents)}function ap(j,ce){this.ownerDocument=j.ownerDocument,this.namespaceURI=j.namespaceURI,this._next=null,this._parent=j,this.__data__=ce}ap.prototype={constructor:ap,appendChild:function(j){return this._parent.insertBefore(j,this._next)},insertBefore:function(j,ce){return this._parent.insertBefore(j,ce)},querySelector:function(j){return this._parent.querySelector(j)},querySelectorAll:function(j){return this._parent.querySelectorAll(j)}};function O4(j){return function(){return j}}function B4(j,ce,Ee,Be,Ke,bt){for(var W=0,U,e=ce.length,p=bt.length;W<p;++W)(U=ce[W])?(U.__data__=bt[W],Be[W]=U):Ee[W]=new ap(j,bt[W]);for(;W<e;++W)(U=ce[W])&&(Ke[W]=U)}function N4(j,ce,Ee,Be,Ke,bt,W){var U,e,p=new Map,L=ce.length,a=bt.length,P=new Array(L),A;for(U=0;U<L;++U)(e=ce[U])&&(P[U]=A=W.call(e,e.__data__,U,ce)+"",p.has(A)?Ke[U]=e:p.set(A,e));for(U=0;U<a;++U)A=W.call(j,bt[U],U,bt)+"",(e=p.get(A))?(Be[U]=e,e.__data__=bt[U],p.delete(A)):Ee[U]=new ap(j,bt[U]);for(U=0;U<L;++U)(e=ce[U])&&p.get(P[U])===e&&(Ke[U]=e)}function U4(j){return j.__data__}function H4(j,ce){if(!arguments.length)return Array.from(this,U4);var Ee=ce?N4:B4,Be=this._parents,Ke=this._groups;typeof j!="function"&&(j=O4(j));for(var bt=Ke.length,W=new Array(bt),U=new Array(bt),e=new Array(bt),p=0;p<bt;++p){var L=Be[p],a=Ke[p],P=a.length,A=V4(j.call(L,L&&L.__data__,p,Be)),v=A.length,g=U[p]=new Array(v),t=W[p]=new Array(v),r=e[p]=new Array(P);Ee(L,a,g,t,r,A,ce);for(var u=0,o=0,l,c;u<v;++u)if(l=g[u]){for(u>=o&&(o=u+1);!(c=t[o])&&++o<v;);l._next=c||null}}return W=new Vl(W,Be),W._enter=U,W._exit=e,W}function V4(j){return typeof j=="object"&&"length"in j?j:Array.from(j)}function G4(){return new Vl(this._exit||this._groups.map(e2),this._parents)}function W4(j,ce,Ee){var Be=this.enter(),Ke=this,bt=this.exit();return typeof j=="function"?(Be=j(Be),Be&&(Be=Be.selection())):Be=Be.append(j+""),ce!=null&&(Ke=ce(Ke),Ke&&(Ke=Ke.selection())),Ee==null?bt.remove():Ee(bt),Be&&Ke?Be.merge(Ke).order():Ke}function Y4(j){for(var ce=j.selection?j.selection():j,Ee=this._groups,Be=ce._groups,Ke=Ee.length,bt=Be.length,W=Math.min(Ke,bt),U=new Array(Ke),e=0;e<W;++e)for(var p=Ee[e],L=Be[e],a=p.length,P=U[e]=new Array(a),A,v=0;v<a;++v)(A=p[v]||L[v])&&(P[v]=A);for(;e<Ke;++e)U[e]=Ee[e];return new Vl(U,this._parents)}function Z4(){for(var j=this._groups,ce=-1,Ee=j.length;++ce<Ee;)for(var Be=j[ce],Ke=Be.length-1,bt=Be[Ke],W;--Ke>=0;)(W=Be[Ke])&&(bt&&W.compareDocumentPosition(bt)^4&&bt.parentNode.insertBefore(W,bt),bt=W);return this}function X4(j){j||(j=j4);function ce(a,P){return a&&P?j(a.__data__,P.__data__):!a-!P}for(var Ee=this._groups,Be=Ee.length,Ke=new Array(Be),bt=0;bt<Be;++bt){for(var W=Ee[bt],U=W.length,e=Ke[bt]=new Array(U),p,L=0;L<U;++L)(p=W[L])&&(e[L]=p);e.sort(ce)}return new Vl(Ke,this._parents).order()}function j4(j,ce){return j<ce?-1:j>ce?1:j>=ce?0:NaN}function K4(){var j=arguments[0];return arguments[0]=this,j.apply(null,arguments),this}function J4(){return Array.from(this)}function Q4(){for(var j=this._groups,ce=0,Ee=j.length;ce<Ee;++ce)for(var Be=j[ce],Ke=0,bt=Be.length;Ke<bt;++Ke){var W=Be[Ke];if(W)return W}return null}function $4(){let j=0;for(const ce of this)++j;return j}function q4(){return!this.node()}function eM(j){for(var ce=this._groups,Ee=0,Be=ce.length;Ee<Be;++Ee)for(var Ke=ce[Ee],bt=0,W=Ke.length,U;bt<W;++bt)(U=Ke[bt])&&j.call(U,U.__data__,bt,Ke);return this}function tM(j){return function(){this.removeAttribute(j)}}function rM(j){return function(){this.removeAttributeNS(j.space,j.local)}}function nM(j,ce){return function(){this.setAttribute(j,ce)}}function aM(j,ce){return function(){this.setAttributeNS(j.space,j.local,ce)}}function iM(j,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?this.removeAttribute(j):this.setAttribute(j,Ee)}}function oM(j,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?this.removeAttributeNS(j.space,j.local):this.setAttributeNS(j.space,j.local,Ee)}}function sM(j,ce){var Ee=Fp(j);if(arguments.length<2){var Be=this.node();return Ee.local?Be.getAttributeNS(Ee.space,Ee.local):Be.getAttribute(Ee)}return this.each((ce==null?Ee.local?rM:tM:typeof ce=="function"?Ee.local?oM:iM:Ee.local?aM:nM)(Ee,ce))}function t2(j){return j.ownerDocument&&j.ownerDocument.defaultView||j.document&&j||j.defaultView}function lM(j){return function(){this.style.removeProperty(j)}}function uM(j,ce,Ee){return function(){this.style.setProperty(j,ce,Ee)}}function fM(j,ce,Ee){return function(){var Be=ce.apply(this,arguments);Be==null?this.style.removeProperty(j):this.style.setProperty(j,Be,Ee)}}function cM(j,ce,Ee){return arguments.length>1?this.each((ce==null?lM:typeof ce=="function"?fM:uM)(j,ce,Ee??"")):Yh(this.node(),j)}function Yh(j,ce){return j.style.getPropertyValue(ce)||t2(j).getComputedStyle(j,null).getPropertyValue(ce)}function hM(j){return function(){delete this[j]}}function vM(j,ce){return function(){this[j]=ce}}function dM(j,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?delete this[j]:this[j]=Ee}}function pM(j,ce){return arguments.length>1?this.each((ce==null?hM:typeof ce=="function"?dM:vM)(j,ce)):this.node()[j]}function r2(j){return j.trim().split(/^|\s+/)}function Hg(j){return j.classList||new n2(j)}function n2(j){this._node=j,this._names=r2(j.getAttribute("class")||"")}n2.prototype={add:function(j){var ce=this._names.indexOf(j);ce<0&&(this._names.push(j),this._node.setAttribute("class",this._names.join(" ")))},remove:function(j){var ce=this._names.indexOf(j);ce>=0&&(this._names.splice(ce,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(j){return this._names.indexOf(j)>=0}};function a2(j,ce){for(var Ee=Hg(j),Be=-1,Ke=ce.length;++Be<Ke;)Ee.add(ce[Be])}function i2(j,ce){for(var Ee=Hg(j),Be=-1,Ke=ce.length;++Be<Ke;)Ee.remove(ce[Be])}function gM(j){return function(){a2(this,j)}}function yM(j){return function(){i2(this,j)}}function mM(j,ce){return function(){(ce.apply(this,arguments)?a2:i2)(this,j)}}function xM(j,ce){var Ee=r2(j+"");if(arguments.length<2){for(var Be=Hg(this.node()),Ke=-1,bt=Ee.length;++Ke<bt;)if(!Be.contains(Ee[Ke]))return!1;return!0}return this.each((typeof ce=="function"?mM:ce?gM:yM)(Ee,ce))}function bM(){this.textContent=""}function wM(j){return function(){this.textContent=j}}function TM(j){return function(){var ce=j.apply(this,arguments);this.textContent=ce??""}}function AM(j){return arguments.length?this.each(j==null?bM:(typeof j=="function"?TM:wM)(j)):this.node().textContent}function MM(){this.innerHTML=""}function SM(j){return function(){this.innerHTML=j}}function EM(j){return function(){var ce=j.apply(this,arguments);this.innerHTML=ce??""}}function CM(j){return arguments.length?this.each(j==null?MM:(typeof j=="function"?EM:SM)(j)):this.node().innerHTML}function LM(){this.nextSibling&&this.parentNode.appendChild(this)}function PM(){return this.each(LM)}function RM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function DM(){return this.each(RM)}function IM(j){var ce=typeof j=="function"?j:Jx(j);return this.select(function(){return this.appendChild(ce.apply(this,arguments))})}function _M(){return null}function FM(j,ce){var Ee=typeof j=="function"?j:Jx(j),Be=ce==null?_M:typeof ce=="function"?ce:Ug(ce);return this.select(function(){return this.insertBefore(Ee.apply(this,arguments),Be.apply(this,arguments)||null)})}function kM(){var j=this.parentNode;j&&j.removeChild(this)}function zM(){return this.each(kM)}function OM(){var j=this.cloneNode(!1),ce=this.parentNode;return ce?ce.insertBefore(j,this.nextSibling):j}function BM(){var j=this.cloneNode(!0),ce=this.parentNode;return ce?ce.insertBefore(j,this.nextSibling):j}function NM(j){return this.select(j?BM:OM)}function UM(j){return arguments.length?this.property("__data__",j):this.node().__data__}function HM(j){return function(ce){j.call(this,ce,this.__data__)}}function VM(j){return j.trim().split(/^|\s+/).map(function(ce){var Ee="",Be=ce.indexOf(".");return Be>=0&&(Ee=ce.slice(Be+1),ce=ce.slice(0,Be)),{type:ce,name:Ee}})}function GM(j){return function(){var ce=this.__on;if(ce){for(var Ee=0,Be=-1,Ke=ce.length,bt;Ee<Ke;++Ee)bt=ce[Ee],(!j.type||bt.type===j.type)&&bt.name===j.name?this.removeEventListener(bt.type,bt.listener,bt.options):ce[++Be]=bt;++Be?ce.length=Be:delete this.__on}}}function WM(j,ce,Ee){return function(){var Be=this.__on,Ke,bt=HM(ce);if(Be){for(var W=0,U=Be.length;W<U;++W)if((Ke=Be[W]).type===j.type&&Ke.name===j.name){this.removeEventListener(Ke.type,Ke.listener,Ke.options),this.addEventListener(Ke.type,Ke.listener=bt,Ke.options=Ee),Ke.value=ce;return}}this.addEventListener(j.type,bt,Ee),Ke={type:j.type,name:j.name,value:ce,listener:bt,options:Ee},Be?Be.push(Ke):this.__on=[Ke]}}function YM(j,ce,Ee){var Be=VM(j+""),Ke,bt=Be.length,W;if(arguments.length<2){var U=this.node().__on;if(U){for(var e=0,p=U.length,L;e<p;++e)for(Ke=0,L=U[e];Ke<bt;++Ke)if((W=Be[Ke]).type===L.type&&W.name===L.name)return L.value}return}for(U=ce?WM:GM,Ke=0;Ke<bt;++Ke)this.each(U(Be[Ke],ce,Ee));return this}function o2(j,ce,Ee){var Be=t2(j),Ke=Be.CustomEvent;typeof Ke=="function"?Ke=new Ke(ce,Ee):(Ke=Be.document.createEvent("Event"),Ee?(Ke.initEvent(ce,Ee.bubbles,Ee.cancelable),Ke.detail=Ee.detail):Ke.initEvent(ce,!1,!1)),j.dispatchEvent(Ke)}function ZM(j,ce){return function(){return o2(this,j,ce)}}function XM(j,ce){return function(){return o2(this,j,ce.apply(this,arguments))}}function jM(j,ce){return this.each((typeof ce=="function"?XM:ZM)(j,ce))}function*KM(){for(var j=this._groups,ce=0,Ee=j.length;ce<Ee;++ce)for(var Be=j[ce],Ke=0,bt=Be.length,W;Ke<bt;++Ke)(W=Be[Ke])&&(yield W)}var s2=[null];function Vl(j,ce){this._groups=j,this._parents=ce}function ed(){return new Vl([[document.documentElement]],s2)}function JM(){return this}Vl.prototype=ed.prototype={constructor:Vl,select:T4,selectAll:E4,selectChild:R4,selectChildren:F4,filter:k4,data:H4,enter:z4,exit:G4,join:W4,merge:Y4,selection:JM,order:Z4,sort:X4,call:K4,nodes:J4,node:Q4,size:$4,empty:q4,each:eM,attr:sM,style:cM,property:pM,classed:xM,text:AM,html:CM,raise:PM,lower:DM,append:IM,insert:FM,remove:zM,clone:NM,datum:UM,on:YM,dispatch:jM,[Symbol.iterator]:KM};function I8(j){return typeof j=="string"?new Vl([[document.querySelector(j)]],[document.documentElement]):new Vl([[j]],s2)}function Vg(j,ce,Ee){j.prototype=ce.prototype=Ee,Ee.constructor=j}function l2(j,ce){var Ee=Object.create(j.prototype);for(var Be in ce)Ee[Be]=ce[Be];return Ee}function td(){}var Xv=.7,ip=1/Xv,Uh="\\s*([+-]?\\d+)\\s*",jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QM=/^#([0-9a-f]{3,8})$/,$M=new RegExp(`^rgb\\(${Uh},${Uh},${Uh}\\)$`),qM=new RegExp(`^rgb\\(${hf},${hf},${hf}\\)$`),eS=new RegExp(`^rgba\\(${Uh},${Uh},${Uh},${jv}\\)$`),tS=new RegExp(`^rgba\\(${hf},${hf},${hf},${jv}\\)$`),rS=new RegExp(`^hsl\\(${jv},${hf},${hf}\\)$`),nS=new RegExp(`^hsla\\(${jv},${hf},${hf},${jv}\\)$`),q1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vg(td,Kv,{copy(j){return Object.assign(new this.constructor,this,j)},displayable(){return this.rgb().displayable()},hex:em,formatHex:em,formatHex8:aS,formatHsl:iS,formatRgb:tm,toString:tm});function em(){return this.rgb().formatHex()}function aS(){return this.rgb().formatHex8()}function iS(){return u2(this).formatHsl()}function tm(){return this.rgb().formatRgb()}function Kv(j){var ce,Ee;return j=(j+"").trim().toLowerCase(),(ce=QM.exec(j))?(Ee=ce[1].length,ce=parseInt(ce[1],16),Ee===6?rm(ce):Ee===3?new Sl(ce>>8&15|ce>>4&240,ce>>4&15|ce&240,(ce&15)<<4|ce&15,1):Ee===8?zd(ce>>24&255,ce>>16&255,ce>>8&255,(ce&255)/255):Ee===4?zd(ce>>12&15|ce>>8&240,ce>>8&15|ce>>4&240,ce>>4&15|ce&240,((ce&15)<<4|ce&15)/255):null):(ce=$M.exec(j))?new Sl(ce[1],ce[2],ce[3],1):(ce=qM.exec(j))?new Sl(ce[1]*255/100,ce[2]*255/100,ce[3]*255/100,1):(ce=eS.exec(j))?zd(ce[1],ce[2],ce[3],ce[4]):(ce=tS.exec(j))?zd(ce[1]*255/100,ce[2]*255/100,ce[3]*255/100,ce[4]):(ce=rS.exec(j))?im(ce[1],ce[2]/100,ce[3]/100,1):(ce=nS.exec(j))?im(ce[1],ce[2]/100,ce[3]/100,ce[4]):q1.hasOwnProperty(j)?rm(q1[j]):j==="transparent"?new Sl(NaN,NaN,NaN,0):null}function rm(j){return new Sl(j>>16&255,j>>8&255,j&255,1)}function zd(j,ce,Ee,Be){return Be<=0&&(j=ce=Ee=NaN),new Sl(j,ce,Ee,Be)}function oS(j){return j instanceof td||(j=Kv(j)),j?(j=j.rgb(),new Sl(j.r,j.g,j.b,j.opacity)):new Sl}function $0(j,ce,Ee,Be){return arguments.length===1?oS(j):new Sl(j,ce,Ee,Be??1)}function Sl(j,ce,Ee,Be){this.r=+j,this.g=+ce,this.b=+Ee,this.opacity=+Be}Vg(Sl,$0,l2(td,{brighter(j){return j=j==null?ip:Math.pow(ip,j),new Sl(this.r*j,this.g*j,this.b*j,this.opacity)},darker(j){return j=j==null?Xv:Math.pow(Xv,j),new Sl(this.r*j,this.g*j,this.b*j,this.opacity)},rgb(){return this},clamp(){return new Sl(qc(this.r),qc(this.g),qc(this.b),op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nm,formatHex:nm,formatHex8:sS,formatRgb:am,toString:am}));function nm(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function sS(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function am(){const j=op(this.opacity);return`${j===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${j===1?")":`, ${j})`}`}function op(j){return isNaN(j)?1:Math.max(0,Math.min(1,j))}function qc(j){return Math.max(0,Math.min(255,Math.round(j)||0))}function Jc(j){return j=qc(j),(j<16?"0":"")+j.toString(16)}function im(j,ce,Ee,Be){return Be<=0?j=ce=Ee=NaN:Ee<=0||Ee>=1?j=ce=NaN:ce<=0&&(j=NaN),new Ru(j,ce,Ee,Be)}function u2(j){if(j instanceof Ru)return new Ru(j.h,j.s,j.l,j.opacity);if(j instanceof td||(j=Kv(j)),!j)return new Ru;if(j instanceof Ru)return j;j=j.rgb();var ce=j.r/255,Ee=j.g/255,Be=j.b/255,Ke=Math.min(ce,Ee,Be),bt=Math.max(ce,Ee,Be),W=NaN,U=bt-Ke,e=(bt+Ke)/2;return U?(ce===bt?W=(Ee-Be)/U+(Ee<Be)*6:Ee===bt?W=(Be-ce)/U+2:W=(ce-Ee)/U+4,U/=e<.5?bt+Ke:2-bt-Ke,W*=60):U=e>0&&e<1?0:W,new Ru(W,U,e,j.opacity)}function lS(j,ce,Ee,Be){return arguments.length===1?u2(j):new Ru(j,ce,Ee,Be??1)}function Ru(j,ce,Ee,Be){this.h=+j,this.s=+ce,this.l=+Ee,this.opacity=+Be}Vg(Ru,lS,l2(td,{brighter(j){return j=j==null?ip:Math.pow(ip,j),new Ru(this.h,this.s,this.l*j,this.opacity)},darker(j){return j=j==null?Xv:Math.pow(Xv,j),new Ru(this.h,this.s,this.l*j,this.opacity)},rgb(){var j=this.h%360+(this.h<0)*360,ce=isNaN(j)||isNaN(this.s)?0:this.s,Ee=this.l,Be=Ee+(Ee<.5?Ee:1-Ee)*ce,Ke=2*Ee-Be;return new Sl(E0(j>=240?j-240:j+120,Ke,Be),E0(j,Ke,Be),E0(j<120?j+240:j-120,Ke,Be),this.opacity)},clamp(){return new Ru(om(this.h),Od(this.s),Od(this.l),op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const j=op(this.opacity);return`${j===1?"hsl(":"hsla("}${om(this.h)}, ${Od(this.s)*100}%, ${Od(this.l)*100}%${j===1?")":`, ${j})`}`}}));function om(j){return j=(j||0)%360,j<0?j+360:j}function Od(j){return Math.max(0,Math.min(1,j||0))}function E0(j,ce,Ee){return(j<60?ce+(Ee-ce)*j/60:j<180?Ee:j<240?ce+(Ee-ce)*(240-j)/60:ce)*255}const f2=j=>()=>j;function uS(j,ce){return function(Ee){return j+Ee*ce}}function fS(j,ce,Ee){return j=Math.pow(j,Ee),ce=Math.pow(ce,Ee)-j,Ee=1/Ee,function(Be){return Math.pow(j+Be*ce,Ee)}}function cS(j){return(j=+j)==1?c2:function(ce,Ee){return Ee-ce?fS(ce,Ee,j):f2(isNaN(ce)?Ee:ce)}}function c2(j,ce){var Ee=ce-j;return Ee?uS(j,Ee):f2(isNaN(j)?ce:j)}const sm=function j(ce){var Ee=cS(ce);function Be(Ke,bt){var W=Ee((Ke=$0(Ke)).r,(bt=$0(bt)).r),U=Ee(Ke.g,bt.g),e=Ee(Ke.b,bt.b),p=c2(Ke.opacity,bt.opacity);return function(L){return Ke.r=W(L),Ke.g=U(L),Ke.b=e(L),Ke.opacity=p(L),Ke+""}}return Be.gamma=j,Be}(1);function mc(j,ce){return j=+j,ce=+ce,function(Ee){return j*(1-Ee)+ce*Ee}}var q0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C0=new RegExp(q0.source,"g");function hS(j){return function(){return j}}function vS(j){return function(ce){return j(ce)+""}}function dS(j,ce){var Ee=q0.lastIndex=C0.lastIndex=0,Be,Ke,bt,W=-1,U=[],e=[];for(j=j+"",ce=ce+"";(Be=q0.exec(j))&&(Ke=C0.exec(ce));)(bt=Ke.index)>Ee&&(bt=ce.slice(Ee,bt),U[W]?U[W]+=bt:U[++W]=bt),(Be=Be[0])===(Ke=Ke[0])?U[W]?U[W]+=Ke:U[++W]=Ke:(U[++W]=null,e.push({i:W,x:mc(Be,Ke)})),Ee=C0.lastIndex;return Ee<ce.length&&(bt=ce.slice(Ee),U[W]?U[W]+=bt:U[++W]=bt),U.length<2?e[0]?vS(e[0].x):hS(ce):(ce=e.length,function(p){for(var L=0,a;L<ce;++L)U[(a=e[L]).i]=a.x(p);return U.join("")})}var lm=180/Math.PI,eg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function h2(j,ce,Ee,Be,Ke,bt){var W,U,e;return(W=Math.sqrt(j*j+ce*ce))&&(j/=W,ce/=W),(e=j*Ee+ce*Be)&&(Ee-=j*e,Be-=ce*e),(U=Math.sqrt(Ee*Ee+Be*Be))&&(Ee/=U,Be/=U,e/=U),j*Be<ce*Ee&&(j=-j,ce=-ce,e=-e,W=-W),{translateX:Ke,translateY:bt,rotate:Math.atan2(ce,j)*lm,skewX:Math.atan(e)*lm,scaleX:W,scaleY:U}}var Bd;function pS(j){const ce=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(j+"");return ce.isIdentity?eg:h2(ce.a,ce.b,ce.c,ce.d,ce.e,ce.f)}function gS(j){return j==null||(Bd||(Bd=document.createElementNS("http://www.w3.org/2000/svg","g")),Bd.setAttribute("transform",j),!(j=Bd.transform.baseVal.consolidate()))?eg:(j=j.matrix,h2(j.a,j.b,j.c,j.d,j.e,j.f))}function v2(j,ce,Ee,Be){function Ke(p){return p.length?p.pop()+" ":""}function bt(p,L,a,P,A,v){if(p!==a||L!==P){var g=A.push("translate(",null,ce,null,Ee);v.push({i:g-4,x:mc(p,a)},{i:g-2,x:mc(L,P)})}else(a||P)&&A.push("translate("+a+ce+P+Ee)}function W(p,L,a,P){p!==L?(p-L>180?L+=360:L-p>180&&(p+=360),P.push({i:a.push(Ke(a)+"rotate(",null,Be)-2,x:mc(p,L)})):L&&a.push(Ke(a)+"rotate("+L+Be)}function U(p,L,a,P){p!==L?P.push({i:a.push(Ke(a)+"skewX(",null,Be)-2,x:mc(p,L)}):L&&a.push(Ke(a)+"skewX("+L+Be)}function e(p,L,a,P,A,v){if(p!==a||L!==P){var g=A.push(Ke(A)+"scale(",null,",",null,")");v.push({i:g-4,x:mc(p,a)},{i:g-2,x:mc(L,P)})}else(a!==1||P!==1)&&A.push(Ke(A)+"scale("+a+","+P+")")}return function(p,L){var a=[],P=[];return p=j(p),L=j(L),bt(p.translateX,p.translateY,L.translateX,L.translateY,a,P),W(p.rotate,L.rotate,a,P),U(p.skewX,L.skewX,a,P),e(p.scaleX,p.scaleY,L.scaleX,L.scaleY,a,P),p=L=null,function(A){for(var v=-1,g=P.length,t;++v<g;)a[(t=P[v]).i]=t.x(A);return a.join("")}}}var yS=v2(pS,"px, ","px)","deg)"),mS=v2(gS,", ",")",")"),Zh=0,Sv=0,Av=0,d2=1e3,sp,Ev,lp=0,th=0,kp=0,Jv=typeof performance=="object"&&performance.now?performance:Date,p2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(j){setTimeout(j,17)};function Gg(){return th||(p2(xS),th=Jv.now()+kp)}function xS(){th=0}function up(){this._call=this._time=this._next=null}up.prototype=g2.prototype={constructor:up,restart:function(j,ce,Ee){if(typeof j!="function")throw new TypeError("callback is not a function");Ee=(Ee==null?Gg():+Ee)+(ce==null?0:+ce),!this._next&&Ev!==this&&(Ev?Ev._next=this:sp=this,Ev=this),this._call=j,this._time=Ee,tg()},stop:function(){this._call&&(this._call=null,this._time=1/0,tg())}};function g2(j,ce,Ee){var Be=new up;return Be.restart(j,ce,Ee),Be}function bS(){Gg(),++Zh;for(var j=sp,ce;j;)(ce=th-j._time)>=0&&j._call.call(void 0,ce),j=j._next;--Zh}function um(){th=(lp=Jv.now())+kp,Zh=Sv=0;try{bS()}finally{Zh=0,TS(),th=0}}function wS(){var j=Jv.now(),ce=j-lp;ce>d2&&(kp-=ce,lp=j)}function TS(){for(var j,ce=sp,Ee,Be=1/0;ce;)ce._call?(Be>ce._time&&(Be=ce._time),j=ce,ce=ce._next):(Ee=ce._next,ce._next=null,ce=j?j._next=Ee:sp=Ee);Ev=j,tg(Be)}function tg(j){if(!Zh){Sv&&(Sv=clearTimeout(Sv));var ce=j-th;ce>24?(j<1/0&&(Sv=setTimeout(um,j-Jv.now()-kp)),Av&&(Av=clearInterval(Av))):(Av||(lp=Jv.now(),Av=setInterval(wS,d2)),Zh=1,p2(um))}}function fm(j,ce,Ee){var Be=new up;return ce=ce==null?0:+ce,Be.restart(Ke=>{Be.stop(),j(Ke+ce)},ce,Ee),Be}var AS=Kx("start","end","cancel","interrupt"),MS=[],y2=0,cm=1,rg=2,Jd=3,hm=4,ng=5,Qd=6;function zp(j,ce,Ee,Be,Ke,bt){var W=j.__transition;if(!W)j.__transition={};else if(Ee in W)return;SS(j,Ee,{name:ce,index:Be,group:Ke,on:AS,tween:MS,time:bt.time,delay:bt.delay,duration:bt.duration,ease:bt.ease,timer:null,state:y2})}function Wg(j,ce){var Ee=zu(j,ce);if(Ee.state>y2)throw new Error("too late; already scheduled");return Ee}function df(j,ce){var Ee=zu(j,ce);if(Ee.state>Jd)throw new Error("too late; already running");return Ee}function zu(j,ce){var Ee=j.__transition;if(!Ee||!(Ee=Ee[ce]))throw new Error("transition not found");return Ee}function SS(j,ce,Ee){var Be=j.__transition,Ke;Be[ce]=Ee,Ee.timer=g2(bt,0,Ee.time);function bt(p){Ee.state=cm,Ee.timer.restart(W,Ee.delay,Ee.time),Ee.delay<=p&&W(p-Ee.delay)}function W(p){var L,a,P,A;if(Ee.state!==cm)return e();for(L in Be)if(A=Be[L],A.name===Ee.name){if(A.state===Jd)return fm(W);A.state===hm?(A.state=Qd,A.timer.stop(),A.on.call("interrupt",j,j.__data__,A.index,A.group),delete Be[L]):+L<ce&&(A.state=Qd,A.timer.stop(),A.on.call("cancel",j,j.__data__,A.index,A.group),delete Be[L])}if(fm(function(){Ee.state===Jd&&(Ee.state=hm,Ee.timer.restart(U,Ee.delay,Ee.time),U(p))}),Ee.state=rg,Ee.on.call("start",j,j.__data__,Ee.index,Ee.group),Ee.state===rg){for(Ee.state=Jd,Ke=new Array(P=Ee.tween.length),L=0,a=-1;L<P;++L)(A=Ee.tween[L].value.call(j,j.__data__,Ee.index,Ee.group))&&(Ke[++a]=A);Ke.length=a+1}}function U(p){for(var L=p<Ee.duration?Ee.ease.call(null,p/Ee.duration):(Ee.timer.restart(e),Ee.state=ng,1),a=-1,P=Ke.length;++a<P;)Ke[a].call(j,L);Ee.state===ng&&(Ee.on.call("end",j,j.__data__,Ee.index,Ee.group),e())}function e(){Ee.state=Qd,Ee.timer.stop(),delete Be[ce];for(var p in Be)return;delete j.__transition}}function ES(j,ce){var Ee=j.__transition,Be,Ke,bt=!0,W;if(Ee){ce=ce==null?null:ce+"";for(W in Ee){if((Be=Ee[W]).name!==ce){bt=!1;continue}Ke=Be.state>rg&&Be.state<ng,Be.state=Qd,Be.timer.stop(),Be.on.call(Ke?"interrupt":"cancel",j,j.__data__,Be.index,Be.group),delete Ee[W]}bt&&delete j.__transition}}function CS(j){return this.each(function(){ES(this,j)})}function LS(j,ce){var Ee,Be;return function(){var Ke=df(this,j),bt=Ke.tween;if(bt!==Ee){Be=Ee=bt;for(var W=0,U=Be.length;W<U;++W)if(Be[W].name===ce){Be=Be.slice(),Be.splice(W,1);break}}Ke.tween=Be}}function PS(j,ce,Ee){var Be,Ke;if(typeof Ee!="function")throw new Error;return function(){var bt=df(this,j),W=bt.tween;if(W!==Be){Ke=(Be=W).slice();for(var U={name:ce,value:Ee},e=0,p=Ke.length;e<p;++e)if(Ke[e].name===ce){Ke[e]=U;break}e===p&&Ke.push(U)}bt.tween=Ke}}function RS(j,ce){var Ee=this._id;if(j+="",arguments.length<2){for(var Be=zu(this.node(),Ee).tween,Ke=0,bt=Be.length,W;Ke<bt;++Ke)if((W=Be[Ke]).name===j)return W.value;return null}return this.each((ce==null?LS:PS)(Ee,j,ce))}function Yg(j,ce,Ee){var Be=j._id;return j.each(function(){var Ke=df(this,Be);(Ke.value||(Ke.value={}))[ce]=Ee.apply(this,arguments)}),function(Ke){return zu(Ke,Be).value[ce]}}function m2(j,ce){var Ee;return(typeof ce=="number"?mc:ce instanceof Kv?sm:(Ee=Kv(ce))?(ce=Ee,sm):dS)(j,ce)}function DS(j){return function(){this.removeAttribute(j)}}function IS(j){return function(){this.removeAttributeNS(j.space,j.local)}}function _S(j,ce,Ee){var Be,Ke=Ee+"",bt;return function(){var W=this.getAttribute(j);return W===Ke?null:W===Be?bt:bt=ce(Be=W,Ee)}}function FS(j,ce,Ee){var Be,Ke=Ee+"",bt;return function(){var W=this.getAttributeNS(j.space,j.local);return W===Ke?null:W===Be?bt:bt=ce(Be=W,Ee)}}function kS(j,ce,Ee){var Be,Ke,bt;return function(){var W,U=Ee(this),e;return U==null?void this.removeAttribute(j):(W=this.getAttribute(j),e=U+"",W===e?null:W===Be&&e===Ke?bt:(Ke=e,bt=ce(Be=W,U)))}}function zS(j,ce,Ee){var Be,Ke,bt;return function(){var W,U=Ee(this),e;return U==null?void this.removeAttributeNS(j.space,j.local):(W=this.getAttributeNS(j.space,j.local),e=U+"",W===e?null:W===Be&&e===Ke?bt:(Ke=e,bt=ce(Be=W,U)))}}function OS(j,ce){var Ee=Fp(j),Be=Ee==="transform"?mS:m2;return this.attrTween(j,typeof ce=="function"?(Ee.local?zS:kS)(Ee,Be,Yg(this,"attr."+j,ce)):ce==null?(Ee.local?IS:DS)(Ee):(Ee.local?FS:_S)(Ee,Be,ce))}function BS(j,ce){return function(Ee){this.setAttribute(j,ce.call(this,Ee))}}function NS(j,ce){return function(Ee){this.setAttributeNS(j.space,j.local,ce.call(this,Ee))}}function US(j,ce){var Ee,Be;function Ke(){var bt=ce.apply(this,arguments);return bt!==Be&&(Ee=(Be=bt)&&NS(j,bt)),Ee}return Ke._value=ce,Ke}function HS(j,ce){var Ee,Be;function Ke(){var bt=ce.apply(this,arguments);return bt!==Be&&(Ee=(Be=bt)&&BS(j,bt)),Ee}return Ke._value=ce,Ke}function VS(j,ce){var Ee="attr."+j;if(arguments.length<2)return(Ee=this.tween(Ee))&&Ee._value;if(ce==null)return this.tween(Ee,null);if(typeof ce!="function")throw new Error;var Be=Fp(j);return this.tween(Ee,(Be.local?US:HS)(Be,ce))}function GS(j,ce){return function(){Wg(this,j).delay=+ce.apply(this,arguments)}}function WS(j,ce){return ce=+ce,function(){Wg(this,j).delay=ce}}function YS(j){var ce=this._id;return arguments.length?this.each((typeof j=="function"?GS:WS)(ce,j)):zu(this.node(),ce).delay}function ZS(j,ce){return function(){df(this,j).duration=+ce.apply(this,arguments)}}function XS(j,ce){return ce=+ce,function(){df(this,j).duration=ce}}function jS(j){var ce=this._id;return arguments.length?this.each((typeof j=="function"?ZS:XS)(ce,j)):zu(this.node(),ce).duration}function KS(j,ce){if(typeof ce!="function")throw new Error;return function(){df(this,j).ease=ce}}function JS(j){var ce=this._id;return arguments.length?this.each(KS(ce,j)):zu(this.node(),ce).ease}function QS(j,ce){return function(){var Ee=ce.apply(this,arguments);if(typeof Ee!="function")throw new Error;df(this,j).ease=Ee}}function $S(j){if(typeof j!="function")throw new Error;return this.each(QS(this._id,j))}function qS(j){typeof j!="function"&&(j=$x(j));for(var ce=this._groups,Ee=ce.length,Be=new Array(Ee),Ke=0;Ke<Ee;++Ke)for(var bt=ce[Ke],W=bt.length,U=Be[Ke]=[],e,p=0;p<W;++p)(e=bt[p])&&j.call(e,e.__data__,p,bt)&&U.push(e);return new Hf(Be,this._parents,this._name,this._id)}function e6(j){if(j._id!==this._id)throw new Error;for(var ce=this._groups,Ee=j._groups,Be=ce.length,Ke=Ee.length,bt=Math.min(Be,Ke),W=new Array(Be),U=0;U<bt;++U)for(var e=ce[U],p=Ee[U],L=e.length,a=W[U]=new Array(L),P,A=0;A<L;++A)(P=e[A]||p[A])&&(a[A]=P);for(;U<Be;++U)W[U]=ce[U];return new Hf(W,this._parents,this._name,this._id)}function t6(j){return(j+"").trim().split(/^|\s+/).every(function(ce){var Ee=ce.indexOf(".");return Ee>=0&&(ce=ce.slice(0,Ee)),!ce||ce==="start"})}function r6(j,ce,Ee){var Be,Ke,bt=t6(ce)?Wg:df;return function(){var W=bt(this,j),U=W.on;U!==Be&&(Ke=(Be=U).copy()).on(ce,Ee),W.on=Ke}}function n6(j,ce){var Ee=this._id;return arguments.length<2?zu(this.node(),Ee).on.on(j):this.each(r6(Ee,j,ce))}function a6(j){return function(){var ce=this.parentNode;for(var Ee in this.__transition)if(+Ee!==j)return;ce&&ce.removeChild(this)}}function i6(){return this.on("end.remove",a6(this._id))}function o6(j){var ce=this._name,Ee=this._id;typeof j!="function"&&(j=Ug(j));for(var Be=this._groups,Ke=Be.length,bt=new Array(Ke),W=0;W<Ke;++W)for(var U=Be[W],e=U.length,p=bt[W]=new Array(e),L,a,P=0;P<e;++P)(L=U[P])&&(a=j.call(L,L.__data__,P,U))&&("__data__"in L&&(a.__data__=L.__data__),p[P]=a,zp(p[P],ce,Ee,P,p,zu(L,Ee)));return new Hf(bt,this._parents,ce,Ee)}function s6(j){var ce=this._name,Ee=this._id;typeof j!="function"&&(j=Qx(j));for(var Be=this._groups,Ke=Be.length,bt=[],W=[],U=0;U<Ke;++U)for(var e=Be[U],p=e.length,L,a=0;a<p;++a)if(L=e[a]){for(var P=j.call(L,L.__data__,a,e),A,v=zu(L,Ee),g=0,t=P.length;g<t;++g)(A=P[g])&&zp(A,ce,Ee,g,P,v);bt.push(P),W.push(L)}return new Hf(bt,W,ce,Ee)}var l6=ed.prototype.constructor;function u6(){return new l6(this._groups,this._parents)}function f6(j,ce){var Ee,Be,Ke;return function(){var bt=Yh(this,j),W=(this.style.removeProperty(j),Yh(this,j));return bt===W?null:bt===Ee&&W===Be?Ke:Ke=ce(Ee=bt,Be=W)}}function x2(j){return function(){this.style.removeProperty(j)}}function c6(j,ce,Ee){var Be,Ke=Ee+"",bt;return function(){var W=Yh(this,j);return W===Ke?null:W===Be?bt:bt=ce(Be=W,Ee)}}function h6(j,ce,Ee){var Be,Ke,bt;return function(){var W=Yh(this,j),U=Ee(this),e=U+"";return U==null&&(e=U=(this.style.removeProperty(j),Yh(this,j))),W===e?null:W===Be&&e===Ke?bt:(Ke=e,bt=ce(Be=W,U))}}function v6(j,ce){var Ee,Be,Ke,bt="style."+ce,W="end."+bt,U;return function(){var e=df(this,j),p=e.on,L=e.value[bt]==null?U||(U=x2(ce)):void 0;(p!==Ee||Ke!==L)&&(Be=(Ee=p).copy()).on(W,Ke=L),e.on=Be}}function d6(j,ce,Ee){var Be=(j+="")=="transform"?yS:m2;return ce==null?this.styleTween(j,f6(j,Be)).on("end.style."+j,x2(j)):typeof ce=="function"?this.styleTween(j,h6(j,Be,Yg(this,"style."+j,ce))).each(v6(this._id,j)):this.styleTween(j,c6(j,Be,ce),Ee).on("end.style."+j,null)}function p6(j,ce,Ee){return function(Be){this.style.setProperty(j,ce.call(this,Be),Ee)}}function g6(j,ce,Ee){var Be,Ke;function bt(){var W=ce.apply(this,arguments);return W!==Ke&&(Be=(Ke=W)&&p6(j,W,Ee)),Be}return bt._value=ce,bt}function y6(j,ce,Ee){var Be="style."+(j+="");if(arguments.length<2)return(Be=this.tween(Be))&&Be._value;if(ce==null)return this.tween(Be,null);if(typeof ce!="function")throw new Error;return this.tween(Be,g6(j,ce,Ee??""))}function m6(j){return function(){this.textContent=j}}function x6(j){return function(){var ce=j(this);this.textContent=ce??""}}function b6(j){return this.tween("text",typeof j=="function"?x6(Yg(this,"text",j)):m6(j==null?"":j+""))}function w6(j){return function(ce){this.textContent=j.call(this,ce)}}function T6(j){var ce,Ee;function Be(){var Ke=j.apply(this,arguments);return Ke!==Ee&&(ce=(Ee=Ke)&&w6(Ke)),ce}return Be._value=j,Be}function A6(j){var ce="text";if(arguments.length<1)return(ce=this.tween(ce))&&ce._value;if(j==null)return this.tween(ce,null);if(typeof j!="function")throw new Error;return this.tween(ce,T6(j))}function M6(){for(var j=this._name,ce=this._id,Ee=b2(),Be=this._groups,Ke=Be.length,bt=0;bt<Ke;++bt)for(var W=Be[bt],U=W.length,e,p=0;p<U;++p)if(e=W[p]){var L=zu(e,ce);zp(e,j,Ee,p,W,{time:L.time+L.delay+L.duration,delay:0,duration:L.duration,ease:L.ease})}return new Hf(Be,this._parents,j,Ee)}function S6(){var j,ce,Ee=this,Be=Ee._id,Ke=Ee.size();return new Promise(function(bt,W){var U={value:W},e={value:function(){--Ke===0&&bt()}};Ee.each(function(){var p=df(this,Be),L=p.on;L!==j&&(ce=(j=L).copy(),ce._.cancel.push(U),ce._.interrupt.push(U),ce._.end.push(e)),p.on=ce}),Ke===0&&bt()})}var E6=0;function Hf(j,ce,Ee,Be){this._groups=j,this._parents=ce,this._name=Ee,this._id=Be}function b2(){return++E6}var zf=ed.prototype;Hf.prototype={constructor:Hf,select:o6,selectAll:s6,selectChild:zf.selectChild,selectChildren:zf.selectChildren,filter:qS,merge:e6,selection:u6,transition:M6,call:zf.call,nodes:zf.nodes,node:zf.node,size:zf.size,empty:zf.empty,each:zf.each,on:n6,attr:OS,attrTween:VS,style:d6,styleTween:y6,text:b6,textTween:A6,remove:i6,tween:RS,delay:YS,duration:jS,ease:JS,easeVarying:$S,end:S6,[Symbol.iterator]:zf[Symbol.iterator]};function C6(j){return((j*=2)<=1?j*j*j:(j-=2)*j*j+2)/2}var L6={time:null,delay:0,duration:250,ease:C6};function P6(j,ce){for(var Ee;!(Ee=j.__transition)||!(Ee=Ee[ce]);)if(!(j=j.parentNode))throw new Error(`transition ${ce} not found`);return Ee}function R6(j){var ce,Ee;j instanceof Hf?(ce=j._id,j=j._name):(ce=b2(),(Ee=L6).time=Gg(),j=j==null?null:j+"");for(var Be=this._groups,Ke=Be.length,bt=0;bt<Ke;++bt)for(var W=Be[bt],U=W.length,e,p=0;p<U;++p)(e=W[p])&&zp(e,j,ce,p,W,Ee||P6(e,ce));return new Hf(Be,this._parents,j,ce)}ed.prototype.interrupt=CS;ed.prototype.transition=R6;var yo=1e-6,w2=1e-12,Yi=Math.PI,ru=Yi/2,vm=Yi/4,iu=Yi*2,Of=180/Yi,Nl=Yi/180,Co=Math.abs,D6=Math.atan,Qv=Math.atan2,ko=Math.cos,zo=Math.sin,I6=Math.sign||function(j){return j>0?1:j<0?-1:0},Mc=Math.sqrt;function _6(j){return j>1?0:j<-1?Yi:Math.acos(j)}function rh(j){return j>1?ru:j<-1?-ru:Math.asin(j)}function nu(){}function fp(j,ce){j&&pm.hasOwnProperty(j.type)&&pm[j.type](j,ce)}var dm={Feature:function(j,ce){fp(j.geometry,ce)},FeatureCollection:function(j,ce){for(var Ee=j.features,Be=-1,Ke=Ee.length;++Be<Ke;)fp(Ee[Be].geometry,ce)}},pm={Sphere:function(j,ce){ce.sphere()},Point:function(j,ce){j=j.coordinates,ce.point(j[0],j[1],j[2])},MultiPoint:function(j,ce){for(var Ee=j.coordinates,Be=-1,Ke=Ee.length;++Be<Ke;)j=Ee[Be],ce.point(j[0],j[1],j[2])},LineString:function(j,ce){ag(j.coordinates,ce,0)},MultiLineString:function(j,ce){for(var Ee=j.coordinates,Be=-1,Ke=Ee.length;++Be<Ke;)ag(Ee[Be],ce,0)},Polygon:function(j,ce){gm(j.coordinates,ce)},MultiPolygon:function(j,ce){for(var Ee=j.coordinates,Be=-1,Ke=Ee.length;++Be<Ke;)gm(Ee[Be],ce)},GeometryCollection:function(j,ce){for(var Ee=j.geometries,Be=-1,Ke=Ee.length;++Be<Ke;)fp(Ee[Be],ce)}};function ag(j,ce,Ee){var Be=-1,Ke=j.length-Ee,bt;for(ce.lineStart();++Be<Ke;)bt=j[Be],ce.point(bt[0],bt[1],bt[2]);ce.lineEnd()}function gm(j,ce){var Ee=-1,Be=j.length;for(ce.polygonStart();++Ee<Be;)ag(j[Ee],ce,1);ce.polygonEnd()}function Ih(j,ce){j&&dm.hasOwnProperty(j.type)?dm[j.type](j,ce):fp(j,ce)}function ig(j){return[Qv(j[1],j[0]),rh(j[2])]}function Xh(j){var ce=j[0],Ee=j[1],Be=ko(Ee);return[Be*ko(ce),Be*zo(ce),zo(Ee)]}function Nd(j,ce){return j[0]*ce[0]+j[1]*ce[1]+j[2]*ce[2]}function cp(j,ce){return[j[1]*ce[2]-j[2]*ce[1],j[2]*ce[0]-j[0]*ce[2],j[0]*ce[1]-j[1]*ce[0]]}function L0(j,ce){j[0]+=ce[0],j[1]+=ce[1],j[2]+=ce[2]}function Ud(j,ce){return[j[0]*ce,j[1]*ce,j[2]*ce]}function og(j){var ce=Mc(j[0]*j[0]+j[1]*j[1]+j[2]*j[2]);j[0]/=ce,j[1]/=ce,j[2]/=ce}function sg(j,ce){function Ee(Be,Ke){return Be=j(Be,Ke),ce(Be[0],Be[1])}return j.invert&&ce.invert&&(Ee.invert=function(Be,Ke){return Be=ce.invert(Be,Ke),Be&&j.invert(Be[0],Be[1])}),Ee}function lg(j,ce){return Co(j)>Yi&&(j-=Math.round(j/iu)*iu),[j,ce]}lg.invert=lg;function F6(j,ce,Ee){return(j%=iu)?ce||Ee?sg(mm(j),xm(ce,Ee)):mm(j):ce||Ee?xm(ce,Ee):lg}function ym(j){return function(ce,Ee){return ce+=j,Co(ce)>Yi&&(ce-=Math.round(ce/iu)*iu),[ce,Ee]}}function mm(j){var ce=ym(j);return ce.invert=ym(-j),ce}function xm(j,ce){var Ee=ko(j),Be=zo(j),Ke=ko(ce),bt=zo(ce);function W(U,e){var p=ko(e),L=ko(U)*p,a=zo(U)*p,P=zo(e),A=P*Ee+L*Be;return[Qv(a*Ke-A*bt,L*Ee-P*Be),rh(A*Ke+a*bt)]}return W.invert=function(U,e){var p=ko(e),L=ko(U)*p,a=zo(U)*p,P=zo(e),A=P*Ke-a*bt;return[Qv(a*Ke+P*bt,L*Ee+A*Be),rh(A*Ee-L*Be)]},W}function k6(j,ce,Ee,Be,Ke,bt){if(Ee){var W=ko(ce),U=zo(ce),e=Be*Ee;Ke==null?(Ke=ce+Be*iu,bt=ce-e/2):(Ke=bm(W,Ke),bt=bm(W,bt),(Be>0?Ke<bt:Ke>bt)&&(Ke+=Be*iu));for(var p,L=Ke;Be>0?L>bt:L<bt;L-=e)p=ig([W,-U*ko(L),-U*zo(L)]),j.point(p[0],p[1])}}function bm(j,ce){ce=Xh(ce),ce[0]-=j,og(ce);var Ee=_6(-ce[1]);return((-ce[2]<0?-Ee:Ee)+iu-yo)%iu}function T2(){var j=[],ce;return{point:function(Ee,Be,Ke){ce.push([Ee,Be,Ke])},lineStart:function(){j.push(ce=[])},lineEnd:nu,rejoin:function(){j.length>1&&j.push(j.pop().concat(j.shift()))},result:function(){var Ee=j;return j=[],ce=null,Ee}}}function $d(j,ce){return Co(j[0]-ce[0])<yo&&Co(j[1]-ce[1])<yo}function Hd(j,ce,Ee,Be){this.x=j,this.z=ce,this.o=Ee,this.e=Be,this.v=!1,this.n=this.p=null}function A2(j,ce,Ee,Be,Ke){var bt=[],W=[],U,e;if(j.forEach(function(v){if(!((g=v.length-1)<=0)){var g,t=v[0],r=v[g],u;if($d(t,r)){if(!t[2]&&!r[2]){for(Ke.lineStart(),U=0;U<g;++U)Ke.point((t=v[U])[0],t[1]);Ke.lineEnd();return}r[0]+=2*yo}bt.push(u=new Hd(t,v,null,!0)),W.push(u.o=new Hd(t,null,u,!1)),bt.push(u=new Hd(r,v,null,!1)),W.push(u.o=new Hd(r,null,u,!0))}}),!!bt.length){for(W.sort(ce),wm(bt),wm(W),U=0,e=W.length;U<e;++U)W[U].e=Ee=!Ee;for(var p=bt[0],L,a;;){for(var P=p,A=!0;P.v;)if((P=P.n)===p)return;L=P.z,Ke.lineStart();do{if(P.v=P.o.v=!0,P.e){if(A)for(U=0,e=L.length;U<e;++U)Ke.point((a=L[U])[0],a[1]);else Be(P.x,P.n.x,1,Ke);P=P.n}else{if(A)for(L=P.p.z,U=L.length-1;U>=0;--U)Ke.point((a=L[U])[0],a[1]);else Be(P.x,P.p.x,-1,Ke);P=P.p}P=P.o,L=P.z,A=!A}while(!P.v);Ke.lineEnd()}}}function wm(j){if(ce=j.length){for(var ce,Ee=0,Be=j[0],Ke;++Ee<ce;)Be.n=Ke=j[Ee],Ke.p=Be,Be=Ke;Be.n=Ke=j[0],Ke.p=Be}}function P0(j){return Co(j[0])<=Yi?j[0]:I6(j[0])*((Co(j[0])+Yi)%iu-Yi)}function z6(j,ce){var Ee=P0(ce),Be=ce[1],Ke=zo(Be),bt=[zo(Ee),-ko(Ee),0],W=0,U=0,e=new eh;Ke===1?Be=ru+yo:Ke===-1&&(Be=-ru-yo);for(var p=0,L=j.length;p<L;++p)if(P=(a=j[p]).length)for(var a,P,A=a[P-1],v=P0(A),g=A[1]/2+vm,t=zo(g),r=ko(g),u=0;u<P;++u,v=l,t=n,r=x,A=o){var o=a[u],l=P0(o),c=o[1]/2+vm,n=zo(c),x=ko(c),h=l-v,T=h>=0?1:-1,f=T*h,s=f>Yi,d=t*n;if(e.add(Qv(d*T*zo(f),r*x+d*ko(f))),W+=s?h+T*iu:h,s^v>=Ee^l>=Ee){var S=cp(Xh(A),Xh(o));og(S);var M=cp(bt,S);og(M);var C=(s^h>=0?-1:1)*rh(M[2]);(Be>C||Be===C&&(S[0]||S[1]))&&(U+=s^h>=0?1:-1)}}return(W<-yo||W<yo&&e<-w2)^U&1}function M2(j,ce,Ee,Be){return function(Ke){var bt=ce(Ke),W=T2(),U=ce(W),e=!1,p,L,a,P={point:A,lineStart:g,lineEnd:t,polygonStart:function(){P.point=r,P.lineStart=u,P.lineEnd=o,L=[],p=[]},polygonEnd:function(){P.point=A,P.lineStart=g,P.lineEnd=t,L=jx(L);var l=z6(p,Be);L.length?(e||(Ke.polygonStart(),e=!0),A2(L,B6,l,Ee,Ke)):l&&(e||(Ke.polygonStart(),e=!0),Ke.lineStart(),Ee(null,null,1,Ke),Ke.lineEnd()),e&&(Ke.polygonEnd(),e=!1),L=p=null},sphere:function(){Ke.polygonStart(),Ke.lineStart(),Ee(null,null,1,Ke),Ke.lineEnd(),Ke.polygonEnd()}};function A(l,c){j(l,c)&&Ke.point(l,c)}function v(l,c){bt.point(l,c)}function g(){P.point=v,bt.lineStart()}function t(){P.point=A,bt.lineEnd()}function r(l,c){a.push([l,c]),U.point(l,c)}function u(){U.lineStart(),a=[]}function o(){r(a[0][0],a[0][1]),U.lineEnd();var l=U.clean(),c=W.result(),n,x=c.length,h,T,f;if(a.pop(),p.push(a),a=null,!!x){if(l&1){if(T=c[0],(h=T.length-1)>0){for(e||(Ke.polygonStart(),e=!0),Ke.lineStart(),n=0;n<h;++n)Ke.point((f=T[n])[0],f[1]);Ke.lineEnd()}return}x>1&&l&2&&c.push(c.pop().concat(c.shift())),L.push(c.filter(O6))}}return P}}function O6(j){return j.length>1}function B6(j,ce){return((j=j.x)[0]<0?j[1]-ru-yo:ru-j[1])-((ce=ce.x)[0]<0?ce[1]-ru-yo:ru-ce[1])}const Tm=M2(function(){return!0},N6,H6,[-Yi,-ru]);function N6(j){var ce=NaN,Ee=NaN,Be=NaN,Ke;return{lineStart:function(){j.lineStart(),Ke=1},point:function(bt,W){var U=bt>0?Yi:-Yi,e=Co(bt-ce);Co(e-Yi)<yo?(j.point(ce,Ee=(Ee+W)/2>0?ru:-ru),j.point(Be,Ee),j.lineEnd(),j.lineStart(),j.point(U,Ee),j.point(bt,Ee),Ke=0):Be!==U&&e>=Yi&&(Co(ce-Be)<yo&&(ce-=Be*yo),Co(bt-U)<yo&&(bt-=U*yo),Ee=U6(ce,Ee,bt,W),j.point(Be,Ee),j.lineEnd(),j.lineStart(),j.point(U,Ee),Ke=0),j.point(ce=bt,Ee=W),Be=U},lineEnd:function(){j.lineEnd(),ce=Ee=NaN},clean:function(){return 2-Ke}}}function U6(j,ce,Ee,Be){var Ke,bt,W=zo(j-Ee);return Co(W)>yo?D6((zo(ce)*(bt=ko(Be))*zo(Ee)-zo(Be)*(Ke=ko(ce))*zo(j))/(Ke*bt*W)):(ce+Be)/2}function H6(j,ce,Ee,Be){var Ke;if(j==null)Ke=Ee*ru,Be.point(-Yi,Ke),Be.point(0,Ke),Be.point(Yi,Ke),Be.point(Yi,0),Be.point(Yi,-Ke),Be.point(0,-Ke),Be.point(-Yi,-Ke),Be.point(-Yi,0),Be.point(-Yi,Ke);else if(Co(j[0]-ce[0])>yo){var bt=j[0]<ce[0]?Yi:-Yi;Ke=Ee*bt/2,Be.point(-bt,Ke),Be.point(0,Ke),Be.point(bt,Ke)}else Be.point(ce[0],ce[1])}function V6(j){var ce=ko(j),Ee=6*Nl,Be=ce>0,Ke=Co(ce)>yo;function bt(L,a,P,A){k6(A,j,Ee,P,L,a)}function W(L,a){return ko(L)*ko(a)>ce}function U(L){var a,P,A,v,g;return{lineStart:function(){v=A=!1,g=1},point:function(t,r){var u=[t,r],o,l=W(t,r),c=Be?l?0:p(t,r):l?p(t+(t<0?Yi:-Yi),r):0;if(!a&&(v=A=l)&&L.lineStart(),l!==A&&(o=e(a,u),(!o||$d(a,o)||$d(u,o))&&(u[2]=1)),l!==A)g=0,l?(L.lineStart(),o=e(u,a),L.point(o[0],o[1])):(o=e(a,u),L.point(o[0],o[1],2),L.lineEnd()),a=o;else if(Ke&&a&&Be^l){var n;!(c&P)&&(n=e(u,a,!0))&&(g=0,Be?(L.lineStart(),L.point(n[0][0],n[0][1]),L.point(n[1][0],n[1][1]),L.lineEnd()):(L.point(n[1][0],n[1][1]),L.lineEnd(),L.lineStart(),L.point(n[0][0],n[0][1],3)))}l&&(!a||!$d(a,u))&&L.point(u[0],u[1]),a=u,A=l,P=c},lineEnd:function(){A&&L.lineEnd(),a=null},clean:function(){return g|(v&&A)<<1}}}function e(L,a,P){var A=Xh(L),v=Xh(a),g=[1,0,0],t=cp(A,v),r=Nd(t,t),u=t[0],o=r-u*u;if(!o)return!P&&L;var l=ce*r/o,c=-ce*u/o,n=cp(g,t),x=Ud(g,l),h=Ud(t,c);L0(x,h);var T=n,f=Nd(x,T),s=Nd(T,T),d=f*f-s*(Nd(x,x)-1);if(!(d<0)){var S=Mc(d),M=Ud(T,(-f-S)/s);if(L0(M,x),M=ig(M),!P)return M;var C=L[0],y=a[0],w=L[1],b=a[1],i;y<C&&(i=C,C=y,y=i);var E=y-C,m=Co(E-Yi)<yo,F=m||E<yo;if(!m&&b<w&&(i=w,w=b,b=i),F?m?w+b>0^M[1]<(Co(M[0]-C)<yo?w:b):w<=M[1]&&M[1]<=b:E>Yi^(C<=M[0]&&M[0]<=y)){var _=Ud(T,(-f+S)/s);return L0(_,x),[M,ig(_)]}}}function p(L,a){var P=Be?j:Yi-j,A=0;return L<-P?A|=1:L>P&&(A|=2),a<-P?A|=4:a>P&&(A|=8),A}return M2(W,U,bt,Be?[0,-j]:[-Yi,j-Yi])}function G6(j,ce,Ee,Be,Ke,bt){var W=j[0],U=j[1],e=ce[0],p=ce[1],L=0,a=1,P=e-W,A=p-U,v;if(v=Ee-W,!(!P&&v>0)){if(v/=P,P<0){if(v<L)return;v<a&&(a=v)}else if(P>0){if(v>a)return;v>L&&(L=v)}if(v=Ke-W,!(!P&&v<0)){if(v/=P,P<0){if(v>a)return;v>L&&(L=v)}else if(P>0){if(v<L)return;v<a&&(a=v)}if(v=Be-U,!(!A&&v>0)){if(v/=A,A<0){if(v<L)return;v<a&&(a=v)}else if(A>0){if(v>a)return;v>L&&(L=v)}if(v=bt-U,!(!A&&v<0)){if(v/=A,A<0){if(v>a)return;v>L&&(L=v)}else if(A>0){if(v<L)return;v<a&&(a=v)}return L>0&&(j[0]=W+L*P,j[1]=U+L*A),a<1&&(ce[0]=W+a*P,ce[1]=U+a*A),!0}}}}}var Cv=1e9,Vd=-Cv;function W6(j,ce,Ee,Be){function Ke(p,L){return j<=p&&p<=Ee&&ce<=L&&L<=Be}function bt(p,L,a,P){var A=0,v=0;if(p==null||(A=W(p,a))!==(v=W(L,a))||e(p,L)<0^a>0)do P.point(A===0||A===3?j:Ee,A>1?Be:ce);while((A=(A+a+4)%4)!==v);else P.point(L[0],L[1])}function W(p,L){return Co(p[0]-j)<yo?L>0?0:3:Co(p[0]-Ee)<yo?L>0?2:1:Co(p[1]-ce)<yo?L>0?1:0:L>0?3:2}function U(p,L){return e(p.x,L.x)}function e(p,L){var a=W(p,1),P=W(L,1);return a!==P?a-P:a===0?L[1]-p[1]:a===1?p[0]-L[0]:a===2?p[1]-L[1]:L[0]-p[0]}return function(p){var L=p,a=T2(),P,A,v,g,t,r,u,o,l,c,n,x={point:h,lineStart:d,lineEnd:S,polygonStart:f,polygonEnd:s};function h(C,y){Ke(C,y)&&L.point(C,y)}function T(){for(var C=0,y=0,w=A.length;y<w;++y)for(var b=A[y],i=1,E=b.length,m=b[0],F,_,B=m[0],I=m[1];i<E;++i)F=B,_=I,m=b[i],B=m[0],I=m[1],_<=Be?I>Be&&(B-F)*(Be-_)>(I-_)*(j-F)&&++C:I<=Be&&(B-F)*(Be-_)<(I-_)*(j-F)&&--C;return C}function f(){L=a,P=[],A=[],n=!0}function s(){var C=T(),y=n&&C,w=(P=jx(P)).length;(y||w)&&(p.polygonStart(),y&&(p.lineStart(),bt(null,null,1,p),p.lineEnd()),w&&A2(P,U,C,bt,p),p.polygonEnd()),L=p,P=A=v=null}function d(){x.point=M,A&&A.push(v=[]),c=!0,l=!1,u=o=NaN}function S(){P&&(M(g,t),r&&l&&a.rejoin(),P.push(a.result())),x.point=h,l&&L.lineEnd()}function M(C,y){var w=Ke(C,y);if(A&&v.push([C,y]),c)g=C,t=y,r=w,c=!1,w&&(L.lineStart(),L.point(C,y));else if(w&&l)L.point(C,y);else{var b=[u=Math.max(Vd,Math.min(Cv,u)),o=Math.max(Vd,Math.min(Cv,o))],i=[C=Math.max(Vd,Math.min(Cv,C)),y=Math.max(Vd,Math.min(Cv,y))];G6(b,i,j,ce,Ee,Be)?(l||(L.lineStart(),L.point(b[0],b[1])),L.point(i[0],i[1]),w||L.lineEnd(),n=!1):w&&(L.lineStart(),L.point(C,y),n=!1)}u=C,o=y,l=w}return x}}const ug=j=>j;var R0=new eh,fg=new eh,S2,E2,cg,hg,xc={point:nu,lineStart:nu,lineEnd:nu,polygonStart:function(){xc.lineStart=Y6,xc.lineEnd=X6},polygonEnd:function(){xc.lineStart=xc.lineEnd=xc.point=nu,R0.add(Co(fg)),fg=new eh},result:function(){var j=R0/2;return R0=new eh,j}};function Y6(){xc.point=Z6}function Z6(j,ce){xc.point=C2,S2=cg=j,E2=hg=ce}function C2(j,ce){fg.add(hg*j-cg*ce),cg=j,hg=ce}function X6(){C2(S2,E2)}const Am=xc;var jh=1/0,hp=jh,$v=-jh,vp=$v,j6={point:K6,lineStart:nu,lineEnd:nu,polygonStart:nu,polygonEnd:nu,result:function(){var j=[[jh,hp],[$v,vp]];return $v=vp=-(hp=jh=1/0),j}};function K6(j,ce){j<jh&&(jh=j),j>$v&&($v=j),ce<hp&&(hp=ce),ce>vp&&(vp=ce)}const dp=j6;var vg=0,dg=0,Lv=0,pp=0,gp=0,_h=0,pg=0,gg=0,Pv=0,L2,P2,ff,cf,Du={point:nh,lineStart:Mm,lineEnd:Sm,polygonStart:function(){Du.lineStart=$6,Du.lineEnd=q6},polygonEnd:function(){Du.point=nh,Du.lineStart=Mm,Du.lineEnd=Sm},result:function(){var j=Pv?[pg/Pv,gg/Pv]:_h?[pp/_h,gp/_h]:Lv?[vg/Lv,dg/Lv]:[NaN,NaN];return vg=dg=Lv=pp=gp=_h=pg=gg=Pv=0,j}};function nh(j,ce){vg+=j,dg+=ce,++Lv}function Mm(){Du.point=J6}function J6(j,ce){Du.point=Q6,nh(ff=j,cf=ce)}function Q6(j,ce){var Ee=j-ff,Be=ce-cf,Ke=Mc(Ee*Ee+Be*Be);pp+=Ke*(ff+j)/2,gp+=Ke*(cf+ce)/2,_h+=Ke,nh(ff=j,cf=ce)}function Sm(){Du.point=nh}function $6(){Du.point=e8}function q6(){R2(L2,P2)}function e8(j,ce){Du.point=R2,nh(L2=ff=j,P2=cf=ce)}function R2(j,ce){var Ee=j-ff,Be=ce-cf,Ke=Mc(Ee*Ee+Be*Be);pp+=Ke*(ff+j)/2,gp+=Ke*(cf+ce)/2,_h+=Ke,Ke=cf*j-ff*ce,pg+=Ke*(ff+j),gg+=Ke*(cf+ce),Pv+=Ke*3,nh(ff=j,cf=ce)}const Em=Du;function D2(j){this._context=j}D2.prototype={_radius:4.5,pointRadius:function(j){return this._radius=j,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(j,ce){switch(this._point){case 0:{this._context.moveTo(j,ce),this._point=1;break}case 1:{this._context.lineTo(j,ce);break}default:{this._context.moveTo(j+this._radius,ce),this._context.arc(j,ce,this._radius,0,iu);break}}},result:nu};var yg=new eh,D0,I2,_2,Rv,Dv,yp={point:nu,lineStart:function(){yp.point=t8},lineEnd:function(){D0&&F2(I2,_2),yp.point=nu},polygonStart:function(){D0=!0},polygonEnd:function(){D0=null},result:function(){var j=+yg;return yg=new eh,j}};function t8(j,ce){yp.point=F2,I2=Rv=j,_2=Dv=ce}function F2(j,ce){Rv-=j,Dv-=ce,yg.add(Mc(Rv*Rv+Dv*Dv)),Rv=j,Dv=ce}const Cm=yp;let Lm,mp,Pm,Rm;class Dm{constructor(ce){this._append=ce==null?k2:r8(ce),this._radius=4.5,this._=""}pointRadius(ce){return this._radius=+ce,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(ce,Ee){switch(this._point){case 0:{this._append`M${ce},${Ee}`,this._point=1;break}case 1:{this._append`L${ce},${Ee}`;break}default:{if(this._append`M${ce},${Ee}`,this._radius!==Pm||this._append!==mp){const Be=this._radius,Ke=this._;this._="",this._append`m0,${Be}a${Be},${Be} 0 1,1 0,${-2*Be}a${Be},${Be} 0 1,1 0,${2*Be}z`,Pm=Be,mp=this._append,Rm=this._,this._=Ke}this._+=Rm;break}}}result(){const ce=this._;return this._="",ce.length?ce:null}}function k2(j){let ce=1;this._+=j[0];for(const Ee=j.length;ce<Ee;++ce)this._+=arguments[ce]+j[ce]}function r8(j){const ce=Math.floor(j);if(!(ce>=0))throw new RangeError(`invalid digits: ${j}`);if(ce>15)return k2;if(ce!==Lm){const Ee=10**ce;Lm=ce,mp=function(Ke){let bt=1;this._+=Ke[0];for(const W=Ke.length;bt<W;++bt)this._+=Math.round(arguments[bt]*Ee)/Ee+Ke[bt]}}return mp}function _8(j,ce){let Ee=3,Be=4.5,Ke,bt;function W(U){return U&&(typeof Be=="function"&&bt.pointRadius(+Be.apply(this,arguments)),Ih(U,Ke(bt))),bt.result()}return W.area=function(U){return Ih(U,Ke(Am)),Am.result()},W.measure=function(U){return Ih(U,Ke(Cm)),Cm.result()},W.bounds=function(U){return Ih(U,Ke(dp)),dp.result()},W.centroid=function(U){return Ih(U,Ke(Em)),Em.result()},W.projection=function(U){return arguments.length?(Ke=U==null?(j=null,ug):(j=U).stream,W):j},W.context=function(U){return arguments.length?(bt=U==null?(ce=null,new Dm(Ee)):new D2(ce=U),typeof Be!="function"&&bt.pointRadius(Be),W):ce},W.pointRadius=function(U){return arguments.length?(Be=typeof U=="function"?U:(bt.pointRadius(+U),+U),W):Be},W.digits=function(U){if(!arguments.length)return Ee;if(U==null)Ee=null;else{const e=Math.floor(U);if(!(e>=0))throw new RangeError(`invalid digits: ${U}`);Ee=e}return ce===null&&(bt=new Dm(Ee)),W},W.projection(j).digits(Ee).context(ce)}function Zg(j){return function(ce){var Ee=new mg;for(var Be in j)Ee[Be]=j[Be];return Ee.stream=ce,Ee}}function mg(){}mg.prototype={constructor:mg,point:function(j,ce){this.stream.point(j,ce)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Xg(j,ce,Ee){var Be=j.clipExtent&&j.clipExtent();return j.scale(150).translate([0,0]),Be!=null&&j.clipExtent(null),Ih(Ee,j.stream(dp)),ce(dp.result()),Be!=null&&j.clipExtent(Be),j}function z2(j,ce,Ee){return Xg(j,function(Be){var Ke=ce[1][0]-ce[0][0],bt=ce[1][1]-ce[0][1],W=Math.min(Ke/(Be[1][0]-Be[0][0]),bt/(Be[1][1]-Be[0][1])),U=+ce[0][0]+(Ke-W*(Be[1][0]+Be[0][0]))/2,e=+ce[0][1]+(bt-W*(Be[1][1]+Be[0][1]))/2;j.scale(150*W).translate([U,e])},Ee)}function n8(j,ce,Ee){return z2(j,[[0,0],ce],Ee)}function a8(j,ce,Ee){return Xg(j,function(Be){var Ke=+ce,bt=Ke/(Be[1][0]-Be[0][0]),W=(Ke-bt*(Be[1][0]+Be[0][0]))/2,U=-bt*Be[0][1];j.scale(150*bt).translate([W,U])},Ee)}function i8(j,ce,Ee){return Xg(j,function(Be){var Ke=+ce,bt=Ke/(Be[1][1]-Be[0][1]),W=-bt*Be[0][0],U=(Ke-bt*(Be[1][1]+Be[0][1]))/2;j.scale(150*bt).translate([W,U])},Ee)}var Im=16,o8=ko(30*Nl);function _m(j,ce){return+ce?l8(j,ce):s8(j)}function s8(j){return Zg({point:function(ce,Ee){ce=j(ce,Ee),this.stream.point(ce[0],ce[1])}})}function l8(j,ce){function Ee(Be,Ke,bt,W,U,e,p,L,a,P,A,v,g,t){var r=p-Be,u=L-Ke,o=r*r+u*u;if(o>4*ce&&g--){var l=W+P,c=U+A,n=e+v,x=Mc(l*l+c*c+n*n),h=rh(n/=x),T=Co(Co(n)-1)<yo||Co(bt-a)<yo?(bt+a)/2:Qv(c,l),f=j(T,h),s=f[0],d=f[1],S=s-Be,M=d-Ke,C=u*S-r*M;(C*C/o>ce||Co((r*S+u*M)/o-.5)>.3||W*P+U*A+e*v<o8)&&(Ee(Be,Ke,bt,W,U,e,s,d,T,l/=x,c/=x,n,g,t),t.point(s,d),Ee(s,d,T,l,c,n,p,L,a,P,A,v,g,t))}}return function(Be){var Ke,bt,W,U,e,p,L,a,P,A,v,g,t={point:r,lineStart:u,lineEnd:l,polygonStart:function(){Be.polygonStart(),t.lineStart=c},polygonEnd:function(){Be.polygonEnd(),t.lineStart=u}};function r(h,T){h=j(h,T),Be.point(h[0],h[1])}function u(){a=NaN,t.point=o,Be.lineStart()}function o(h,T){var f=Xh([h,T]),s=j(h,T);Ee(a,P,L,A,v,g,a=s[0],P=s[1],L=h,A=f[0],v=f[1],g=f[2],Im,Be),Be.point(a,P)}function l(){t.point=r,Be.lineEnd()}function c(){u(),t.point=n,t.lineEnd=x}function n(h,T){o(Ke=h,T),bt=a,W=P,U=A,e=v,p=g,t.point=o}function x(){Ee(a,P,L,A,v,g,bt,W,Ke,U,e,p,Im,Be),t.lineEnd=l,l()}return t}}var u8=Zg({point:function(j,ce){this.stream.point(j*Nl,ce*Nl)}});function f8(j){return Zg({point:function(ce,Ee){var Be=j(ce,Ee);return this.stream.point(Be[0],Be[1])}})}function c8(j,ce,Ee,Be,Ke){function bt(W,U){return W*=Be,U*=Ke,[ce+j*W,Ee-j*U]}return bt.invert=function(W,U){return[(W-ce)/j*Be,(Ee-U)/j*Ke]},bt}function Fm(j,ce,Ee,Be,Ke,bt){if(!bt)return c8(j,ce,Ee,Be,Ke);var W=ko(bt),U=zo(bt),e=W*j,p=U*j,L=W/j,a=U/j,P=(U*Ee-W*ce)/j,A=(U*ce+W*Ee)/j;function v(g,t){return g*=Be,t*=Ke,[e*g-p*t+ce,Ee-p*g-e*t]}return v.invert=function(g,t){return[Be*(L*g-a*t+P),Ke*(A-a*g-L*t)]},v}function h8(j){return v8(function(){return j})()}function v8(j){var ce,Ee=150,Be=480,Ke=250,bt=0,W=0,U=0,e=0,p=0,L,a=0,P=1,A=1,v=null,g=Tm,t=null,r,u,o,l=ug,c=.5,n,x,h,T,f;function s(C){return h(C[0]*Nl,C[1]*Nl)}function d(C){return C=h.invert(C[0],C[1]),C&&[C[0]*Of,C[1]*Of]}s.stream=function(C){return T&&f===C?T:T=u8(f8(L)(g(n(l(f=C)))))},s.preclip=function(C){return arguments.length?(g=C,v=void 0,M()):g},s.postclip=function(C){return arguments.length?(l=C,t=r=u=o=null,M()):l},s.clipAngle=function(C){return arguments.length?(g=+C?V6(v=C*Nl):(v=null,Tm),M()):v*Of},s.clipExtent=function(C){return arguments.length?(l=C==null?(t=r=u=o=null,ug):W6(t=+C[0][0],r=+C[0][1],u=+C[1][0],o=+C[1][1]),M()):t==null?null:[[t,r],[u,o]]},s.scale=function(C){return arguments.length?(Ee=+C,S()):Ee},s.translate=function(C){return arguments.length?(Be=+C[0],Ke=+C[1],S()):[Be,Ke]},s.center=function(C){return arguments.length?(bt=C[0]%360*Nl,W=C[1]%360*Nl,S()):[bt*Of,W*Of]},s.rotate=function(C){return arguments.length?(U=C[0]%360*Nl,e=C[1]%360*Nl,p=C.length>2?C[2]%360*Nl:0,S()):[U*Of,e*Of,p*Of]},s.angle=function(C){return arguments.length?(a=C%360*Nl,S()):a*Of},s.reflectX=function(C){return arguments.length?(P=C?-1:1,S()):P<0},s.reflectY=function(C){return arguments.length?(A=C?-1:1,S()):A<0},s.precision=function(C){return arguments.length?(n=_m(x,c=C*C),M()):Mc(c)},s.fitExtent=function(C,y){return z2(s,C,y)},s.fitSize=function(C,y){return n8(s,C,y)},s.fitWidth=function(C,y){return a8(s,C,y)},s.fitHeight=function(C,y){return i8(s,C,y)};function S(){var C=Fm(Ee,0,0,P,A,a).apply(null,ce(bt,W)),y=Fm(Ee,Be-C[0],Ke-C[1],P,A,a);return L=F6(U,e,p),x=sg(ce,y),h=sg(L,x),n=_m(x,c),M()}function M(){return T=f=null,s}return function(){return ce=j.apply(this,arguments),s.invert=ce.invert&&d,S()}}var zv=1.340264,Ov=-.081106,Bv=893e-6,Nv=.003796,xp=Mc(3)/2,d8=12;function O2(j,ce){var Ee=rh(xp*zo(ce)),Be=Ee*Ee,Ke=Be*Be*Be;return[j*ko(Ee)/(xp*(zv+3*Ov*Be+Ke*(7*Bv+9*Nv*Be))),Ee*(zv+Ov*Be+Ke*(Bv+Nv*Be))]}O2.invert=function(j,ce){for(var Ee=ce,Be=Ee*Ee,Ke=Be*Be*Be,bt=0,W,U,e;bt<d8&&(U=Ee*(zv+Ov*Be+Ke*(Bv+Nv*Be))-ce,e=zv+3*Ov*Be+Ke*(7*Bv+9*Nv*Be),Ee-=W=U/e,Be=Ee*Ee,Ke=Be*Be*Be,!(Co(W)<w2));++bt);return[xp*j*(zv+3*Ov*Be+Ke*(7*Bv+9*Nv*Be))/ko(Ee),rh(zo(Ee)/xp)]};function F8(){return h8(O2).scale(177.158)}function Fh(j,ce,Ee){this.k=j,this.x=ce,this.y=Ee}Fh.prototype={constructor:Fh,scale:function(j){return j===1?this:new Fh(this.k*j,this.x,this.y)},translate:function(j,ce){return j===0&ce===0?this:new Fh(this.k,this.x+this.k*j,this.y+this.k*ce)},apply:function(j){return[j[0]*this.k+this.x,j[1]*this.k+this.y]},applyX:function(j){return j*this.k+this.x},applyY:function(j){return j*this.k+this.y},invert:function(j){return[(j[0]-this.x)/this.k,(j[1]-this.y)/this.k]},invertX:function(j){return(j-this.x)/this.k},invertY:function(j){return(j-this.y)/this.k},rescaleX:function(j){return j.copy().domain(j.range().map(this.invertX,this).map(j.invert,j))},rescaleY:function(j){return j.copy().domain(j.range().map(this.invertY,this).map(j.invert,j))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Fh(1,0,0);Fh.prototype;export{C8 as $,Nf as A,m8 as B,S8 as C,P8 as D,L8 as E,sf as F,E8 as G,R8 as P,Ix as a,y8 as b,w8 as c,bA as d,Ml as e,x8 as f,yT as g,yA as h,A8 as i,Wd as j,b8 as k,mx as l,T8 as m,bg as n,pA as o,g8 as p,D8 as q,qv as r,J0 as s,p8 as t,I8 as u,F8 as v,M8 as w,_8 as x,wg as y,Bh as z};
