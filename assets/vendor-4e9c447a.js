function xg(J,ce){const Ee=Object.create(null),Ne=J.split(",");for(let je=0;je<Ne.length;je++)Ee[Ne[je]]=!0;return ce?je=>!!Ee[je.toLowerCase()]:je=>!!Ee[je]}function bg(J){if(Ya(J)){const ce={};for(let Ee=0;Ee<J.length;Ee++){const Ne=J[Ee],je=So(Ne)?zw(Ne):bg(Ne);if(je)for(const pt in je)ce[pt]=je[pt]}return ce}else{if(So(J))return J;if(ji(J))return J}}const _w=/;(?![^(]*\))/g,Fw=/:([^]+)/,kw=/\/\*.*?\*\//gs;function zw(J){const ce={};return J.replace(kw,"").split(_w).forEach(Ee=>{if(Ee){const Ne=Ee.split(Fw);Ne.length>1&&(ce[Ne[0].trim()]=Ne[1].trim())}}),ce}function wg(J){let ce="";if(So(J))ce=J;else if(Ya(J))for(let Ee=0;Ee<J.length;Ee++){const Ne=wg(J[Ee]);Ne&&(ce+=Ne+" ")}else if(ji(J))for(const Ee in J)J[Ee]&&(ce+=Ee+" ");return ce.trim()}const Ow="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bw=xg(Ow);function Nm(J){return!!J||J===""}const f8=J=>So(J)?J:J==null?"":Ya(J)||ji(J)&&(J.toString===Gm||!Ja(J.toString))?JSON.stringify(J,Um,2):String(J),Um=(J,ce)=>ce&&ce.__v_isRef?Um(J,ce.value):kh(ce)?{[`Map(${ce.size})`]:[...ce.entries()].reduce((Ee,[Ne,je])=>(Ee[`${Ne} =>`]=je,Ee),{})}:Hm(ce)?{[`Set(${ce.size})`]:[...ce.values()]}:ji(ce)&&!Ya(ce)&&!Wm(ce)?String(ce):ce,Gi={},Fh=[],ou=()=>{},Nw=()=>!1,Uw=/^on[^a-z]/,w0=J=>Uw.test(J),Tg=J=>J.startsWith("onUpdate:"),cs=Object.assign,Ag=(J,ce)=>{const Ee=J.indexOf(ce);Ee>-1&&J.splice(Ee,1)},Hw=Object.prototype.hasOwnProperty,xi=(J,ce)=>Hw.call(J,ce),Ya=Array.isArray,kh=J=>T0(J)==="[object Map]",Hm=J=>T0(J)==="[object Set]",Ja=J=>typeof J=="function",So=J=>typeof J=="string",Mg=J=>typeof J=="symbol",ji=J=>J!==null&&typeof J=="object",Vm=J=>ji(J)&&Ja(J.then)&&Ja(J.catch),Gm=Object.prototype.toString,T0=J=>Gm.call(J),Vw=J=>T0(J).slice(8,-1),Wm=J=>T0(J)==="[object Object]",Sg=J=>So(J)&&J!=="NaN"&&J[0]!=="-"&&""+parseInt(J,10)===J,Gd=xg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A0=J=>{const ce=Object.create(null);return Ee=>ce[Ee]||(ce[Ee]=J(Ee))},Gw=/-(\w)/g,Nu=A0(J=>J.replace(Gw,(ce,Ee)=>Ee?Ee.toUpperCase():"")),Ww=/\B([A-Z])/g,Kh=A0(J=>J.replace(Ww,"-$1").toLowerCase()),M0=A0(J=>J.charAt(0).toUpperCase()+J.slice(1)),dp=A0(J=>J?`on${M0(J)}`:""),Bv=(J,ce)=>!Object.is(J,ce),Wd=(J,ce)=>{for(let Ee=0;Ee<J.length;Ee++)J[Ee](ce)},e0=(J,ce,Ee)=>{Object.defineProperty(J,ce,{configurable:!0,enumerable:!1,value:Ee})},_p=J=>{const ce=parseFloat(J);return isNaN(ce)?J:ce};let o1;const Yw=()=>o1||(o1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let tu;class Zw{constructor(ce=!1){this.detached=ce,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tu,!ce&&tu&&(this.index=(tu.scopes||(tu.scopes=[])).push(this)-1)}get active(){return this._active}run(ce){if(this._active){const Ee=tu;try{return tu=this,ce()}finally{tu=Ee}}}on(){tu=this}off(){tu=this.parent}stop(ce){if(this._active){let Ee,Ne;for(Ee=0,Ne=this.effects.length;Ee<Ne;Ee++)this.effects[Ee].stop();for(Ee=0,Ne=this.cleanups.length;Ee<Ne;Ee++)this.cleanups[Ee]();if(this.scopes)for(Ee=0,Ne=this.scopes.length;Ee<Ne;Ee++)this.scopes[Ee].stop(!0);if(!this.detached&&this.parent&&!ce){const je=this.parent.scopes.pop();je&&je!==this&&(this.parent.scopes[this.index]=je,je.index=this.index)}this.parent=void 0,this._active=!1}}}function Xw(J,ce=tu){ce&&ce.active&&ce.effects.push(J)}function jw(){return tu}const Eg=J=>{const ce=new Set(J);return ce.w=0,ce.n=0,ce},Ym=J=>(J.w&fc)>0,Zm=J=>(J.n&fc)>0,Kw=({deps:J})=>{if(J.length)for(let ce=0;ce<J.length;ce++)J[ce].w|=fc},Jw=J=>{const{deps:ce}=J;if(ce.length){let Ee=0;for(let Ne=0;Ne<ce.length;Ne++){const je=ce[Ne];Ym(je)&&!Zm(je)?je.delete(J):ce[Ee++]=je,je.w&=~fc,je.n&=~fc}ce.length=Ee}},Fp=new WeakMap;let Mv=0,fc=1;const kp=30;let ru;const Jc=Symbol(""),zp=Symbol("");class Cg{constructor(ce,Ee=null,Ne){this.fn=ce,this.scheduler=Ee,this.active=!0,this.deps=[],this.parent=void 0,Xw(this,Ne)}run(){if(!this.active)return this.fn();let ce=ru,Ee=lc;for(;ce;){if(ce===this)return;ce=ce.parent}try{return this.parent=ru,ru=this,lc=!0,fc=1<<++Mv,Mv<=kp?Kw(this):s1(this),this.fn()}finally{Mv<=kp&&Jw(this),fc=1<<--Mv,ru=this.parent,lc=Ee,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ru===this?this.deferStop=!0:this.active&&(s1(this),this.onStop&&this.onStop(),this.active=!1)}}function s1(J){const{deps:ce}=J;if(ce.length){for(let Ee=0;Ee<ce.length;Ee++)ce[Ee].delete(J);ce.length=0}}let lc=!0;const Xm=[];function Jh(){Xm.push(lc),lc=!1}function Qh(){const J=Xm.pop();lc=J===void 0?!0:J}function Vs(J,ce,Ee){if(lc&&ru){let Ne=Fp.get(J);Ne||Fp.set(J,Ne=new Map);let je=Ne.get(Ee);je||Ne.set(Ee,je=Eg()),jm(je)}}function jm(J,ce){let Ee=!1;Mv<=kp?Zm(J)||(J.n|=fc,Ee=!Ym(J)):Ee=!J.has(ru),Ee&&(J.add(ru),ru.deps.push(J))}function Tf(J,ce,Ee,Ne,je,pt){const G=Fp.get(J);if(!G)return;let U=[];if(ce==="clear")U=[...G.values()];else if(Ee==="length"&&Ya(J)){const e=Number(Ne);G.forEach((p,L)=>{(L==="length"||L>=e)&&U.push(p)})}else switch(Ee!==void 0&&U.push(G.get(Ee)),ce){case"add":Ya(J)?Sg(Ee)&&U.push(G.get("length")):(U.push(G.get(Jc)),kh(J)&&U.push(G.get(zp)));break;case"delete":Ya(J)||(U.push(G.get(Jc)),kh(J)&&U.push(G.get(zp)));break;case"set":kh(J)&&U.push(G.get(Jc));break}if(U.length===1)U[0]&&Op(U[0]);else{const e=[];for(const p of U)p&&e.push(...p);Op(Eg(e))}}function Op(J,ce){const Ee=Ya(J)?J:[...J];for(const Ne of Ee)Ne.computed&&l1(Ne);for(const Ne of Ee)Ne.computed||l1(Ne)}function l1(J,ce){(J!==ru||J.allowRecurse)&&(J.scheduler?J.scheduler():J.run())}const Qw=xg("__proto__,__v_isRef,__isVue"),Km=new Set(Object.getOwnPropertyNames(Symbol).filter(J=>J!=="arguments"&&J!=="caller").map(J=>Symbol[J]).filter(Mg)),$w=Lg(),qw=Lg(!1,!0),eT=Lg(!0),u1=tT();function tT(){const J={};return["includes","indexOf","lastIndexOf"].forEach(ce=>{J[ce]=function(...Ee){const Ne=Ai(this);for(let pt=0,G=this.length;pt<G;pt++)Vs(Ne,"get",pt+"");const je=Ne[ce](...Ee);return je===-1||je===!1?Ne[ce](...Ee.map(Ai)):je}}),["push","pop","shift","unshift","splice"].forEach(ce=>{J[ce]=function(...Ee){Jh();const Ne=Ai(this)[ce].apply(this,Ee);return Qh(),Ne}}),J}function rT(J){const ce=Ai(this);return Vs(ce,"has",J),ce.hasOwnProperty(J)}function Lg(J=!1,ce=!1){return function(Ne,je,pt){if(je==="__v_isReactive")return!J;if(je==="__v_isReadonly")return J;if(je==="__v_isShallow")return ce;if(je==="__v_raw"&&pt===(J?ce?mT:ex:ce?qm:$m).get(Ne))return Ne;const G=Ya(Ne);if(!J){if(G&&xi(u1,je))return Reflect.get(u1,je,pt);if(je==="hasOwnProperty")return rT}const U=Reflect.get(Ne,je,pt);return(Mg(je)?Km.has(je):Qw(je))||(J||Vs(Ne,"get",je),ce)?U:fs(U)?G&&Sg(je)?U:U.value:ji(U)?J?tx(U):Qv(U):U}}const nT=Jm(),aT=Jm(!0);function Jm(J=!1){return function(Ee,Ne,je,pt){let G=Ee[Ne];if(Uh(G)&&fs(G)&&!fs(je))return!1;if(!J&&(!t0(je)&&!Uh(je)&&(G=Ai(G),je=Ai(je)),!Ya(Ee)&&fs(G)&&!fs(je)))return G.value=je,!0;const U=Ya(Ee)&&Sg(Ne)?Number(Ne)<Ee.length:xi(Ee,Ne),e=Reflect.set(Ee,Ne,je,pt);return Ee===Ai(pt)&&(U?Bv(je,G)&&Tf(Ee,"set",Ne,je):Tf(Ee,"add",Ne,je)),e}}function iT(J,ce){const Ee=xi(J,ce);J[ce];const Ne=Reflect.deleteProperty(J,ce);return Ne&&Ee&&Tf(J,"delete",ce,void 0),Ne}function oT(J,ce){const Ee=Reflect.has(J,ce);return(!Mg(ce)||!Km.has(ce))&&Vs(J,"has",ce),Ee}function sT(J){return Vs(J,"iterate",Ya(J)?"length":Jc),Reflect.ownKeys(J)}const Qm={get:$w,set:nT,deleteProperty:iT,has:oT,ownKeys:sT},lT={get:eT,set(J,ce){return!0},deleteProperty(J,ce){return!0}},uT=cs({},Qm,{get:qw,set:aT}),Pg=J=>J,S0=J=>Reflect.getPrototypeOf(J);function Rd(J,ce,Ee=!1,Ne=!1){J=J.__v_raw;const je=Ai(J),pt=Ai(ce);Ee||(ce!==pt&&Vs(je,"get",ce),Vs(je,"get",pt));const{has:G}=S0(je),U=Ne?Pg:Ee?Ig:Nv;if(G.call(je,ce))return U(J.get(ce));if(G.call(je,pt))return U(J.get(pt));J!==je&&J.get(ce)}function Dd(J,ce=!1){const Ee=this.__v_raw,Ne=Ai(Ee),je=Ai(J);return ce||(J!==je&&Vs(Ne,"has",J),Vs(Ne,"has",je)),J===je?Ee.has(J):Ee.has(J)||Ee.has(je)}function Id(J,ce=!1){return J=J.__v_raw,!ce&&Vs(Ai(J),"iterate",Jc),Reflect.get(J,"size",J)}function f1(J){J=Ai(J);const ce=Ai(this);return S0(ce).has.call(ce,J)||(ce.add(J),Tf(ce,"add",J,J)),this}function c1(J,ce){ce=Ai(ce);const Ee=Ai(this),{has:Ne,get:je}=S0(Ee);let pt=Ne.call(Ee,J);pt||(J=Ai(J),pt=Ne.call(Ee,J));const G=je.call(Ee,J);return Ee.set(J,ce),pt?Bv(ce,G)&&Tf(Ee,"set",J,ce):Tf(Ee,"add",J,ce),this}function h1(J){const ce=Ai(this),{has:Ee,get:Ne}=S0(ce);let je=Ee.call(ce,J);je||(J=Ai(J),je=Ee.call(ce,J)),Ne&&Ne.call(ce,J);const pt=ce.delete(J);return je&&Tf(ce,"delete",J,void 0),pt}function v1(){const J=Ai(this),ce=J.size!==0,Ee=J.clear();return ce&&Tf(J,"clear",void 0,void 0),Ee}function _d(J,ce){return function(Ne,je){const pt=this,G=pt.__v_raw,U=Ai(G),e=ce?Pg:J?Ig:Nv;return!J&&Vs(U,"iterate",Jc),G.forEach((p,L)=>Ne.call(je,e(p),e(L),pt))}}function Fd(J,ce,Ee){return function(...Ne){const je=this.__v_raw,pt=Ai(je),G=kh(pt),U=J==="entries"||J===Symbol.iterator&&G,e=J==="keys"&&G,p=je[J](...Ne),L=Ee?Pg:ce?Ig:Nv;return!ce&&Vs(pt,"iterate",e?zp:Jc),{next(){const{value:n,done:C}=p.next();return C?{value:n,done:C}:{value:U?[L(n[0]),L(n[1])]:L(n),done:C}},[Symbol.iterator](){return this}}}}function rc(J){return function(...ce){return J==="delete"?!1:this}}function fT(){const J={get(pt){return Rd(this,pt)},get size(){return Id(this)},has:Dd,add:f1,set:c1,delete:h1,clear:v1,forEach:_d(!1,!1)},ce={get(pt){return Rd(this,pt,!1,!0)},get size(){return Id(this)},has:Dd,add:f1,set:c1,delete:h1,clear:v1,forEach:_d(!1,!0)},Ee={get(pt){return Rd(this,pt,!0)},get size(){return Id(this,!0)},has(pt){return Dd.call(this,pt,!0)},add:rc("add"),set:rc("set"),delete:rc("delete"),clear:rc("clear"),forEach:_d(!0,!1)},Ne={get(pt){return Rd(this,pt,!0,!0)},get size(){return Id(this,!0)},has(pt){return Dd.call(this,pt,!0)},add:rc("add"),set:rc("set"),delete:rc("delete"),clear:rc("clear"),forEach:_d(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(pt=>{J[pt]=Fd(pt,!1,!1),Ee[pt]=Fd(pt,!0,!1),ce[pt]=Fd(pt,!1,!0),Ne[pt]=Fd(pt,!0,!0)}),[J,Ee,ce,Ne]}const[cT,hT,vT,dT]=fT();function Rg(J,ce){const Ee=ce?J?dT:vT:J?hT:cT;return(Ne,je,pt)=>je==="__v_isReactive"?!J:je==="__v_isReadonly"?J:je==="__v_raw"?Ne:Reflect.get(xi(Ee,je)&&je in Ne?Ee:Ne,je,pt)}const pT={get:Rg(!1,!1)},gT={get:Rg(!1,!0)},yT={get:Rg(!0,!1)},$m=new WeakMap,qm=new WeakMap,ex=new WeakMap,mT=new WeakMap;function xT(J){switch(J){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bT(J){return J.__v_skip||!Object.isExtensible(J)?0:xT(Vw(J))}function Qv(J){return Uh(J)?J:Dg(J,!1,Qm,pT,$m)}function wT(J){return Dg(J,!1,uT,gT,qm)}function tx(J){return Dg(J,!0,lT,yT,ex)}function Dg(J,ce,Ee,Ne,je){if(!ji(J)||J.__v_raw&&!(ce&&J.__v_isReactive))return J;const pt=je.get(J);if(pt)return pt;const G=bT(J);if(G===0)return J;const U=new Proxy(J,G===2?Ne:Ee);return je.set(J,U),U}function zh(J){return Uh(J)?zh(J.__v_raw):!!(J&&J.__v_isReactive)}function Uh(J){return!!(J&&J.__v_isReadonly)}function t0(J){return!!(J&&J.__v_isShallow)}function rx(J){return zh(J)||Uh(J)}function Ai(J){const ce=J&&J.__v_raw;return ce?Ai(ce):J}function nx(J){return e0(J,"__v_skip",!0),J}const Nv=J=>ji(J)?Qv(J):J,Ig=J=>ji(J)?tx(J):J;function ax(J){lc&&ru&&(J=Ai(J),jm(J.dep||(J.dep=Eg())))}function ix(J,ce){J=Ai(J);const Ee=J.dep;Ee&&Op(Ee)}function fs(J){return!!(J&&J.__v_isRef===!0)}function Yd(J){return ox(J,!1)}function TT(J){return ox(J,!0)}function ox(J,ce){return fs(J)?J:new AT(J,ce)}class AT{constructor(ce,Ee){this.__v_isShallow=Ee,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Ee?ce:Ai(ce),this._value=Ee?ce:Nv(ce)}get value(){return ax(this),this._value}set value(ce){const Ee=this.__v_isShallow||t0(ce)||Uh(ce);ce=Ee?ce:Ai(ce),Bv(ce,this._rawValue)&&(this._rawValue=ce,this._value=Ee?ce:Nv(ce),ix(this))}}function Oh(J){return fs(J)?J.value:J}const MT={get:(J,ce,Ee)=>Oh(Reflect.get(J,ce,Ee)),set:(J,ce,Ee,Ne)=>{const je=J[ce];return fs(je)&&!fs(Ee)?(je.value=Ee,!0):Reflect.set(J,ce,Ee,Ne)}};function sx(J){return zh(J)?J:new Proxy(J,MT)}var lx;class ST{constructor(ce,Ee,Ne,je){this._setter=Ee,this.dep=void 0,this.__v_isRef=!0,this[lx]=!1,this._dirty=!0,this.effect=new Cg(ce,()=>{this._dirty||(this._dirty=!0,ix(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!je,this.__v_isReadonly=Ne}get value(){const ce=Ai(this);return ax(ce),(ce._dirty||!ce._cacheable)&&(ce._dirty=!1,ce._value=ce.effect.run()),ce._value}set value(ce){this._setter(ce)}}lx="__v_isReadonly";function ET(J,ce,Ee=!1){let Ne,je;const pt=Ja(J);return pt?(Ne=J,je=ou):(Ne=J.get,je=J.set),new ST(Ne,je,pt||!je,Ee)}function uc(J,ce,Ee,Ne){let je;try{je=Ne?J(...Ne):J()}catch(pt){$v(pt,ce,Ee)}return je}function Pl(J,ce,Ee,Ne){if(Ja(J)){const pt=uc(J,ce,Ee,Ne);return pt&&Vm(pt)&&pt.catch(G=>{$v(G,ce,Ee)}),pt}const je=[];for(let pt=0;pt<J.length;pt++)je.push(Pl(J[pt],ce,Ee,Ne));return je}function $v(J,ce,Ee,Ne=!0){const je=ce?ce.vnode:null;if(ce){let pt=ce.parent;const G=ce.proxy,U=Ee;for(;pt;){const p=pt.ec;if(p){for(let L=0;L<p.length;L++)if(p[L](J,G,U)===!1)return}pt=pt.parent}const e=ce.appContext.config.errorHandler;if(e){uc(e,null,10,[J,G,U]);return}}CT(J,Ee,je,Ne)}function CT(J,ce,Ee,Ne=!0){console.error(J)}let Uv=!1,Bp=!1;const us=[];let ku=0;const Bh=[];let wf=null,Yc=0;const ux=Promise.resolve();let _g=null;function fx(J){const ce=_g||ux;return J?ce.then(this?J.bind(this):J):ce}function LT(J){let ce=ku+1,Ee=us.length;for(;ce<Ee;){const Ne=ce+Ee>>>1;Hv(us[Ne])<J?ce=Ne+1:Ee=Ne}return ce}function E0(J){(!us.length||!us.includes(J,Uv&&J.allowRecurse?ku+1:ku))&&(J.id==null?us.push(J):us.splice(LT(J.id),0,J),cx())}function cx(){!Uv&&!Bp&&(Bp=!0,_g=ux.then(vx))}function PT(J){const ce=us.indexOf(J);ce>ku&&us.splice(ce,1)}function RT(J){Ya(J)?Bh.push(...J):(!wf||!wf.includes(J,J.allowRecurse?Yc+1:Yc))&&Bh.push(J),cx()}function d1(J,ce=Uv?ku+1:0){for(;ce<us.length;ce++){const Ee=us[ce];Ee&&Ee.pre&&(us.splice(ce,1),ce--,Ee())}}function hx(J){if(Bh.length){const ce=[...new Set(Bh)];if(Bh.length=0,wf){wf.push(...ce);return}for(wf=ce,wf.sort((Ee,Ne)=>Hv(Ee)-Hv(Ne)),Yc=0;Yc<wf.length;Yc++)wf[Yc]();wf=null,Yc=0}}const Hv=J=>J.id==null?1/0:J.id,DT=(J,ce)=>{const Ee=Hv(J)-Hv(ce);if(Ee===0){if(J.pre&&!ce.pre)return-1;if(ce.pre&&!J.pre)return 1}return Ee};function vx(J){Bp=!1,Uv=!0,us.sort(DT);const ce=ou;try{for(ku=0;ku<us.length;ku++){const Ee=us[ku];Ee&&Ee.active!==!1&&uc(Ee,null,14)}}finally{ku=0,us.length=0,hx(),Uv=!1,_g=null,(us.length||Bh.length)&&vx()}}function IT(J,ce,...Ee){if(J.isUnmounted)return;const Ne=J.vnode.props||Gi;let je=Ee;const pt=ce.startsWith("update:"),G=pt&&ce.slice(7);if(G&&G in Ne){const L=`${G==="modelValue"?"model":G}Modifiers`,{number:n,trim:C}=Ne[L]||Gi;C&&(je=Ee.map(w=>So(w)?w.trim():w)),n&&(je=Ee.map(_p))}let U,e=Ne[U=dp(ce)]||Ne[U=dp(Nu(ce))];!e&&pt&&(e=Ne[U=dp(Kh(ce))]),e&&Pl(e,J,6,je);const p=Ne[U+"Once"];if(p){if(!J.emitted)J.emitted={};else if(J.emitted[U])return;J.emitted[U]=!0,Pl(p,J,6,je)}}function dx(J,ce,Ee=!1){const Ne=ce.emitsCache,je=Ne.get(J);if(je!==void 0)return je;const pt=J.emits;let G={},U=!1;if(!Ja(J)){const e=p=>{const L=dx(p,ce,!0);L&&(U=!0,cs(G,L))};!Ee&&ce.mixins.length&&ce.mixins.forEach(e),J.extends&&e(J.extends),J.mixins&&J.mixins.forEach(e)}return!pt&&!U?(ji(J)&&Ne.set(J,null),null):(Ya(pt)?pt.forEach(e=>G[e]=null):cs(G,pt),ji(J)&&Ne.set(J,G),G)}function C0(J,ce){return!J||!w0(ce)?!1:(ce=ce.slice(2).replace(/Once$/,""),xi(J,ce[0].toLowerCase()+ce.slice(1))||xi(J,Kh(ce))||xi(J,ce))}let Ko=null,L0=null;function r0(J){const ce=Ko;return Ko=J,L0=J&&J.type.__scopeId||null,ce}function c8(J){L0=J}function h8(){L0=null}function _T(J,ce=Ko,Ee){if(!ce||J._n)return J;const Ne=(...je)=>{Ne._d&&M1(-1);const pt=r0(ce);let G;try{G=J(...je)}finally{r0(pt),Ne._d&&M1(1)}return G};return Ne._n=!0,Ne._c=!0,Ne._d=!0,Ne}function pp(J){const{type:ce,vnode:Ee,proxy:Ne,withProxy:je,props:pt,propsOptions:[G],slots:U,attrs:e,emit:p,render:L,renderCache:n,data:C,setupState:w,ctx:v,inheritAttrs:y}=J;let t,r;const l=r0(J);try{if(Ee.shapeFlag&4){const s=je||Ne;t=Fu(L.call(s,s,n,pt,w,C,v)),r=e}else{const s=ce;t=Fu(s.length>1?s(pt,{attrs:e,slots:U,emit:p}):s(pt,null)),r=ce.props?e:FT(e)}}catch(s){kv.length=0,$v(s,J,1),t=Do(Rl)}let a=t;if(r&&y!==!1){const s=Object.keys(r),{shapeFlag:c}=a;s.length&&c&7&&(G&&s.some(Tg)&&(r=kT(r,G)),a=cc(a,r))}return Ee.dirs&&(a=cc(a),a.dirs=a.dirs?a.dirs.concat(Ee.dirs):Ee.dirs),Ee.transition&&(a.transition=Ee.transition),t=a,r0(l),t}const FT=J=>{let ce;for(const Ee in J)(Ee==="class"||Ee==="style"||w0(Ee))&&((ce||(ce={}))[Ee]=J[Ee]);return ce},kT=(J,ce)=>{const Ee={};for(const Ne in J)(!Tg(Ne)||!(Ne.slice(9)in ce))&&(Ee[Ne]=J[Ne]);return Ee};function zT(J,ce,Ee){const{props:Ne,children:je,component:pt}=J,{props:G,children:U,patchFlag:e}=ce,p=pt.emitsOptions;if(ce.dirs||ce.transition)return!0;if(Ee&&e>=0){if(e&1024)return!0;if(e&16)return Ne?p1(Ne,G,p):!!G;if(e&8){const L=ce.dynamicProps;for(let n=0;n<L.length;n++){const C=L[n];if(G[C]!==Ne[C]&&!C0(p,C))return!0}}}else return(je||U)&&(!U||!U.$stable)?!0:Ne===G?!1:Ne?G?p1(Ne,G,p):!0:!!G;return!1}function p1(J,ce,Ee){const Ne=Object.keys(ce);if(Ne.length!==Object.keys(J).length)return!0;for(let je=0;je<Ne.length;je++){const pt=Ne[je];if(ce[pt]!==J[pt]&&!C0(Ee,pt))return!0}return!1}function OT({vnode:J,parent:ce},Ee){for(;ce&&ce.subTree===J;)(J=ce.vnode).el=Ee,ce=ce.parent}const BT=J=>J.__isSuspense;function NT(J,ce){ce&&ce.pendingBranch?Ya(J)?ce.effects.push(...J):ce.effects.push(J):RT(J)}function Zd(J,ce){if(lo){let Ee=lo.provides;const Ne=lo.parent&&lo.parent.provides;Ne===Ee&&(Ee=lo.provides=Object.create(Ne)),Ee[J]=ce}}function su(J,ce,Ee=!1){const Ne=lo||Ko;if(Ne){const je=Ne.parent==null?Ne.vnode.appContext&&Ne.vnode.appContext.provides:Ne.parent.provides;if(je&&J in je)return je[J];if(arguments.length>1)return Ee&&Ja(ce)?ce.call(Ne.proxy):ce}}const kd={};function Xd(J,ce,Ee){return px(J,ce,Ee)}function px(J,ce,{immediate:Ee,deep:Ne,flush:je,onTrack:pt,onTrigger:G}=Gi){const U=jw()===(lo==null?void 0:lo.scope)?lo:null;let e,p=!1,L=!1;if(fs(J)?(e=()=>J.value,p=t0(J)):zh(J)?(e=()=>J,Ne=!0):Ya(J)?(L=!0,p=J.some(a=>zh(a)||t0(a)),e=()=>J.map(a=>{if(fs(a))return a.value;if(zh(a))return jc(a);if(Ja(a))return uc(a,U,2)})):Ja(J)?ce?e=()=>uc(J,U,2):e=()=>{if(!(U&&U.isUnmounted))return n&&n(),Pl(J,U,3,[C])}:e=ou,ce&&Ne){const a=e;e=()=>jc(a())}let n,C=a=>{n=r.onStop=()=>{uc(a,U,4)}},w;if(Vh)if(C=ou,ce?Ee&&Pl(ce,U,3,[e(),L?[]:void 0,C]):e(),je==="sync"){const a=_5();w=a.__watcherHandles||(a.__watcherHandles=[])}else return ou;let v=L?new Array(J.length).fill(kd):kd;const y=()=>{if(r.active)if(ce){const a=r.run();(Ne||p||(L?a.some((s,c)=>Bv(s,v[c])):Bv(a,v)))&&(n&&n(),Pl(ce,U,3,[a,v===kd?void 0:L&&v[0]===kd?[]:v,C]),v=a)}else r.run()};y.allowRecurse=!!ce;let t;je==="sync"?t=y:je==="post"?t=()=>Ns(y,U&&U.suspense):(y.pre=!0,U&&(y.id=U.uid),t=()=>E0(y));const r=new Cg(e,t);ce?Ee?y():v=r.run():je==="post"?Ns(r.run.bind(r),U&&U.suspense):r.run();const l=()=>{r.stop(),U&&U.scope&&Ag(U.scope.effects,r)};return w&&w.push(l),l}function UT(J,ce,Ee){const Ne=this.proxy,je=So(J)?J.includes(".")?gx(Ne,J):()=>Ne[J]:J.bind(Ne,Ne);let pt;Ja(ce)?pt=ce:(pt=ce.handler,Ee=ce);const G=lo;Hh(this);const U=px(je,pt.bind(Ne),Ee);return G?Hh(G):Qc(),U}function gx(J,ce){const Ee=ce.split(".");return()=>{let Ne=J;for(let je=0;je<Ee.length&&Ne;je++)Ne=Ne[Ee[je]];return Ne}}function jc(J,ce){if(!ji(J)||J.__v_skip||(ce=ce||new Set,ce.has(J)))return J;if(ce.add(J),fs(J))jc(J.value,ce);else if(Ya(J))for(let Ee=0;Ee<J.length;Ee++)jc(J[Ee],ce);else if(Hm(J)||kh(J))J.forEach(Ee=>{jc(Ee,ce)});else if(Wm(J))for(const Ee in J)jc(J[Ee],ce);return J}function HT(){const J={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bx(()=>{J.isMounted=!0}),wx(()=>{J.isUnmounting=!0}),J}const Ml=[Function,Array],VT={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ml,onEnter:Ml,onAfterEnter:Ml,onEnterCancelled:Ml,onBeforeLeave:Ml,onLeave:Ml,onAfterLeave:Ml,onLeaveCancelled:Ml,onBeforeAppear:Ml,onAppear:Ml,onAfterAppear:Ml,onAppearCancelled:Ml},setup(J,{slots:ce}){const Ee=S5(),Ne=HT();let je;return()=>{const pt=ce.default&&mx(ce.default(),!0);if(!pt||!pt.length)return;let G=pt[0];if(pt.length>1){for(const y of pt)if(y.type!==Rl){G=y;break}}const U=Ai(J),{mode:e}=U;if(Ne.isLeaving)return gp(G);const p=g1(G);if(!p)return gp(G);const L=Np(p,U,Ne,Ee);Up(p,L);const n=Ee.subTree,C=n&&g1(n);let w=!1;const{getTransitionKey:v}=p.type;if(v){const y=v();je===void 0?je=y:y!==je&&(je=y,w=!0)}if(C&&C.type!==Rl&&(!Zc(p,C)||w)){const y=Np(C,U,Ne,Ee);if(Up(C,y),e==="out-in")return Ne.isLeaving=!0,y.afterLeave=()=>{Ne.isLeaving=!1,Ee.update.active!==!1&&Ee.update()},gp(G);e==="in-out"&&p.type!==Rl&&(y.delayLeave=(t,r,l)=>{const a=yx(Ne,C);a[String(C.key)]=C,t._leaveCb=()=>{r(),t._leaveCb=void 0,delete L.delayedLeave},L.delayedLeave=l})}return G}}},GT=VT;function yx(J,ce){const{leavingVNodes:Ee}=J;let Ne=Ee.get(ce.type);return Ne||(Ne=Object.create(null),Ee.set(ce.type,Ne)),Ne}function Np(J,ce,Ee,Ne){const{appear:je,mode:pt,persisted:G=!1,onBeforeEnter:U,onEnter:e,onAfterEnter:p,onEnterCancelled:L,onBeforeLeave:n,onLeave:C,onAfterLeave:w,onLeaveCancelled:v,onBeforeAppear:y,onAppear:t,onAfterAppear:r,onAppearCancelled:l}=ce,a=String(J.key),s=yx(Ee,J),c=(h,T)=>{h&&Pl(h,Ne,9,T)},u=(h,T)=>{const f=T[1];c(h,T),Ya(h)?h.every(o=>o.length<=1)&&f():h.length<=1&&f()},m={mode:pt,persisted:G,beforeEnter(h){let T=U;if(!Ee.isMounted)if(je)T=y||U;else return;h._leaveCb&&h._leaveCb(!0);const f=s[a];f&&Zc(J,f)&&f.el._leaveCb&&f.el._leaveCb(),c(T,[h])},enter(h){let T=e,f=p,o=L;if(!Ee.isMounted)if(je)T=t||e,f=r||p,o=l||L;else return;let d=!1;const M=h._enterCb=A=>{d||(d=!0,A?c(o,[h]):c(f,[h]),m.delayedLeave&&m.delayedLeave(),h._enterCb=void 0)};T?u(T,[h,M]):M()},leave(h,T){const f=String(J.key);if(h._enterCb&&h._enterCb(!0),Ee.isUnmounting)return T();c(n,[h]);let o=!1;const d=h._leaveCb=M=>{o||(o=!0,T(),M?c(v,[h]):c(w,[h]),h._leaveCb=void 0,s[f]===J&&delete s[f])};s[f]=J,C?u(C,[h,d]):d()},clone(h){return Np(h,ce,Ee,Ne)}};return m}function gp(J){if(qv(J))return J=cc(J),J.children=null,J}function g1(J){return qv(J)?J.children?J.children[0]:void 0:J}function Up(J,ce){J.shapeFlag&6&&J.component?Up(J.component.subTree,ce):J.shapeFlag&128?(J.ssContent.transition=ce.clone(J.ssContent),J.ssFallback.transition=ce.clone(J.ssFallback)):J.transition=ce}function mx(J,ce=!1,Ee){let Ne=[],je=0;for(let pt=0;pt<J.length;pt++){let G=J[pt];const U=Ee==null?G.key:String(Ee)+String(G.key!=null?G.key:pt);G.type===Sl?(G.patchFlag&128&&je++,Ne=Ne.concat(mx(G.children,ce,U))):(ce||G.type!==Rl)&&Ne.push(U!=null?cc(G,{key:U}):G)}if(je>1)for(let pt=0;pt<Ne.length;pt++)Ne[pt].patchFlag=-2;return Ne}function Fg(J){return Ja(J)?{setup:J,name:J.name}:J}const _v=J=>!!J.type.__asyncLoader;function v8(J){Ja(J)&&(J={loader:J});const{loader:ce,loadingComponent:Ee,errorComponent:Ne,delay:je=200,timeout:pt,suspensible:G=!0,onError:U}=J;let e=null,p,L=0;const n=()=>(L++,e=null,C()),C=()=>{let w;return e||(w=e=ce().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),U)return new Promise((y,t)=>{U(v,()=>y(n()),()=>t(v),L+1)});throw v}).then(v=>w!==e&&e?e:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),p=v,v)))};return Fg({name:"AsyncComponentWrapper",__asyncLoader:C,get __asyncResolved(){return p},setup(){const w=lo;if(p)return()=>yp(p,w);const v=l=>{e=null,$v(l,w,13,!Ne)};if(G&&w.suspense||Vh)return C().then(l=>()=>yp(l,w)).catch(l=>(v(l),()=>Ne?Do(Ne,{error:l}):null));const y=Yd(!1),t=Yd(),r=Yd(!!je);return je&&setTimeout(()=>{r.value=!1},je),pt!=null&&setTimeout(()=>{if(!y.value&&!t.value){const l=new Error(`Async component timed out after ${pt}ms.`);v(l),t.value=l}},pt),C().then(()=>{y.value=!0,w.parent&&qv(w.parent.vnode)&&E0(w.parent.update)}).catch(l=>{v(l),t.value=l}),()=>{if(y.value&&p)return yp(p,w);if(t.value&&Ne)return Do(Ne,{error:t.value});if(Ee&&!r.value)return Do(Ee)}}})}function yp(J,ce){const{ref:Ee,props:Ne,children:je,ce:pt}=ce.vnode,G=Do(J,Ne,je);return G.ref=Ee,G.ce=pt,delete ce.vnode.ce,G}const qv=J=>J.type.__isKeepAlive;function WT(J,ce){xx(J,"a",ce)}function YT(J,ce){xx(J,"da",ce)}function xx(J,ce,Ee=lo){const Ne=J.__wdc||(J.__wdc=()=>{let je=Ee;for(;je;){if(je.isDeactivated)return;je=je.parent}return J()});if(P0(ce,Ne,Ee),Ee){let je=Ee.parent;for(;je&&je.parent;)qv(je.parent.vnode)&&ZT(Ne,ce,Ee,je),je=je.parent}}function ZT(J,ce,Ee,Ne){const je=P0(ce,J,Ne,!0);Tx(()=>{Ag(Ne[ce],je)},Ee)}function P0(J,ce,Ee=lo,Ne=!1){if(Ee){const je=Ee[J]||(Ee[J]=[]),pt=ce.__weh||(ce.__weh=(...G)=>{if(Ee.isUnmounted)return;Jh(),Hh(Ee);const U=Pl(ce,Ee,J,G);return Qc(),Qh(),U});return Ne?je.unshift(pt):je.push(pt),pt}}const Mf=J=>(ce,Ee=lo)=>(!Vh||J==="sp")&&P0(J,(...Ne)=>ce(...Ne),Ee),XT=Mf("bm"),bx=Mf("m"),jT=Mf("bu"),KT=Mf("u"),wx=Mf("bum"),Tx=Mf("um"),JT=Mf("sp"),QT=Mf("rtg"),$T=Mf("rtc");function qT(J,ce=lo){P0("ec",J,ce)}function d8(J,ce){const Ee=Ko;if(Ee===null)return J;const Ne=I0(Ee)||Ee.proxy,je=J.dirs||(J.dirs=[]);for(let pt=0;pt<ce.length;pt++){let[G,U,e,p=Gi]=ce[pt];G&&(Ja(G)&&(G={mounted:G,updated:G}),G.deep&&jc(U),je.push({dir:G,instance:Ne,value:U,oldValue:void 0,arg:e,modifiers:p}))}return J}function Vc(J,ce,Ee,Ne){const je=J.dirs,pt=ce&&ce.dirs;for(let G=0;G<je.length;G++){const U=je[G];pt&&(U.oldValue=pt[G].value);let e=U.dir[Ne];e&&(Jh(),Pl(e,Ee,8,[J.el,U,J,ce]),Qh())}}const kg="components";function p8(J,ce){return Mx(kg,J,!0,ce)||J}const Ax=Symbol();function g8(J){return So(J)?Mx(kg,J,!1)||J:J||Ax}function Mx(J,ce,Ee=!0,Ne=!1){const je=Ko||lo;if(je){const pt=je.type;if(J===kg){const U=R5(pt,!1);if(U&&(U===ce||U===Nu(ce)||U===M0(Nu(ce))))return pt}const G=y1(je[J]||pt[J],ce)||y1(je.appContext[J],ce);return!G&&Ne?pt:G}}function y1(J,ce){return J&&(J[ce]||J[Nu(ce)]||J[M0(Nu(ce))])}function y8(J,ce,Ee,Ne){let je;const pt=Ee&&Ee[Ne];if(Ya(J)||So(J)){je=new Array(J.length);for(let G=0,U=J.length;G<U;G++)je[G]=ce(J[G],G,void 0,pt&&pt[G])}else if(typeof J=="number"){je=new Array(J);for(let G=0;G<J;G++)je[G]=ce(G+1,G,void 0,pt&&pt[G])}else if(ji(J))if(J[Symbol.iterator])je=Array.from(J,(G,U)=>ce(G,U,void 0,pt&&pt[U]));else{const G=Object.keys(J);je=new Array(G.length);for(let U=0,e=G.length;U<e;U++){const p=G[U];je[U]=ce(J[p],p,U,pt&&pt[U])}}else je=[];return Ee&&(Ee[Ne]=je),je}function m8(J,ce,Ee={},Ne,je){if(Ko.isCE||Ko.parent&&_v(Ko.parent)&&Ko.parent.isCE)return ce!=="default"&&(Ee.name=ce),Do("slot",Ee,Ne&&Ne());let pt=J[ce];pt&&pt._c&&(pt._d=!1),Fx();const G=pt&&Sx(pt(Ee)),U=zx(Sl,{key:Ee.key||G&&G.key||`_${ce}`},G||(Ne?Ne():[]),G&&J._===1?64:-2);return!je&&U.scopeId&&(U.slotScopeIds=[U.scopeId+"-s"]),pt&&pt._c&&(pt._d=!0),U}function Sx(J){return J.some(ce=>a0(ce)?!(ce.type===Rl||ce.type===Sl&&!Sx(ce.children)):!0)?J:null}const Hp=J=>J?Nx(J)?I0(J)||J.proxy:Hp(J.parent):null,Fv=cs(Object.create(null),{$:J=>J,$el:J=>J.vnode.el,$data:J=>J.data,$props:J=>J.props,$attrs:J=>J.attrs,$slots:J=>J.slots,$refs:J=>J.refs,$parent:J=>Hp(J.parent),$root:J=>Hp(J.root),$emit:J=>J.emit,$options:J=>zg(J),$forceUpdate:J=>J.f||(J.f=()=>E0(J.update)),$nextTick:J=>J.n||(J.n=fx.bind(J.proxy)),$watch:J=>UT.bind(J)}),mp=(J,ce)=>J!==Gi&&!J.__isScriptSetup&&xi(J,ce),e5={get({_:J},ce){const{ctx:Ee,setupState:Ne,data:je,props:pt,accessCache:G,type:U,appContext:e}=J;let p;if(ce[0]!=="$"){const w=G[ce];if(w!==void 0)switch(w){case 1:return Ne[ce];case 2:return je[ce];case 4:return Ee[ce];case 3:return pt[ce]}else{if(mp(Ne,ce))return G[ce]=1,Ne[ce];if(je!==Gi&&xi(je,ce))return G[ce]=2,je[ce];if((p=J.propsOptions[0])&&xi(p,ce))return G[ce]=3,pt[ce];if(Ee!==Gi&&xi(Ee,ce))return G[ce]=4,Ee[ce];Vp&&(G[ce]=0)}}const L=Fv[ce];let n,C;if(L)return ce==="$attrs"&&Vs(J,"get",ce),L(J);if((n=U.__cssModules)&&(n=n[ce]))return n;if(Ee!==Gi&&xi(Ee,ce))return G[ce]=4,Ee[ce];if(C=e.config.globalProperties,xi(C,ce))return C[ce]},set({_:J},ce,Ee){const{data:Ne,setupState:je,ctx:pt}=J;return mp(je,ce)?(je[ce]=Ee,!0):Ne!==Gi&&xi(Ne,ce)?(Ne[ce]=Ee,!0):xi(J.props,ce)||ce[0]==="$"&&ce.slice(1)in J?!1:(pt[ce]=Ee,!0)},has({_:{data:J,setupState:ce,accessCache:Ee,ctx:Ne,appContext:je,propsOptions:pt}},G){let U;return!!Ee[G]||J!==Gi&&xi(J,G)||mp(ce,G)||(U=pt[0])&&xi(U,G)||xi(Ne,G)||xi(Fv,G)||xi(je.config.globalProperties,G)},defineProperty(J,ce,Ee){return Ee.get!=null?J._.accessCache[ce]=0:xi(Ee,"value")&&this.set(J,ce,Ee.value,null),Reflect.defineProperty(J,ce,Ee)}};let Vp=!0;function t5(J){const ce=zg(J),Ee=J.proxy,Ne=J.ctx;Vp=!1,ce.beforeCreate&&m1(ce.beforeCreate,J,"bc");const{data:je,computed:pt,methods:G,watch:U,provide:e,inject:p,created:L,beforeMount:n,mounted:C,beforeUpdate:w,updated:v,activated:y,deactivated:t,beforeDestroy:r,beforeUnmount:l,destroyed:a,unmounted:s,render:c,renderTracked:u,renderTriggered:m,errorCaptured:h,serverPrefetch:T,expose:f,inheritAttrs:o,components:d,directives:M,filters:A}=ce;if(p&&r5(p,Ne,null,J.appContext.config.unwrapInjectedRef),G)for(const S in G){const b=G[S];Ja(b)&&(Ne[S]=b.bind(Ee))}if(je){const S=je.call(Ee,Ee);ji(S)&&(J.data=Qv(S))}if(Vp=!0,pt)for(const S in pt){const b=pt[S],i=Ja(b)?b.bind(Ee,Ee):Ja(b.get)?b.get.bind(Ee,Ee):ou,P=!Ja(b)&&Ja(b.set)?b.set.bind(Ee):ou,x=El({get:i,set:P});Object.defineProperty(Ne,S,{enumerable:!0,configurable:!0,get:()=>x.value,set:k=>x.value=k})}if(U)for(const S in U)Ex(U[S],Ne,Ee,S);if(e){const S=Ja(e)?e.call(Ee):e;Reflect.ownKeys(S).forEach(b=>{Zd(b,S[b])})}L&&m1(L,J,"c");function g(S,b){Ya(b)?b.forEach(i=>S(i.bind(Ee))):b&&S(b.bind(Ee))}if(g(XT,n),g(bx,C),g(jT,w),g(KT,v),g(WT,y),g(YT,t),g(qT,h),g($T,u),g(QT,m),g(wx,l),g(Tx,s),g(JT,T),Ya(f))if(f.length){const S=J.exposed||(J.exposed={});f.forEach(b=>{Object.defineProperty(S,b,{get:()=>Ee[b],set:i=>Ee[b]=i})})}else J.exposed||(J.exposed={});c&&J.render===ou&&(J.render=c),o!=null&&(J.inheritAttrs=o),d&&(J.components=d),M&&(J.directives=M)}function r5(J,ce,Ee=ou,Ne=!1){Ya(J)&&(J=Gp(J));for(const je in J){const pt=J[je];let G;ji(pt)?"default"in pt?G=su(pt.from||je,pt.default,!0):G=su(pt.from||je):G=su(pt),fs(G)&&Ne?Object.defineProperty(ce,je,{enumerable:!0,configurable:!0,get:()=>G.value,set:U=>G.value=U}):ce[je]=G}}function m1(J,ce,Ee){Pl(Ya(J)?J.map(Ne=>Ne.bind(ce.proxy)):J.bind(ce.proxy),ce,Ee)}function Ex(J,ce,Ee,Ne){const je=Ne.includes(".")?gx(Ee,Ne):()=>Ee[Ne];if(So(J)){const pt=ce[J];Ja(pt)&&Xd(je,pt)}else if(Ja(J))Xd(je,J.bind(Ee));else if(ji(J))if(Ya(J))J.forEach(pt=>Ex(pt,ce,Ee,Ne));else{const pt=Ja(J.handler)?J.handler.bind(Ee):ce[J.handler];Ja(pt)&&Xd(je,pt,J)}}function zg(J){const ce=J.type,{mixins:Ee,extends:Ne}=ce,{mixins:je,optionsCache:pt,config:{optionMergeStrategies:G}}=J.appContext,U=pt.get(ce);let e;return U?e=U:!je.length&&!Ee&&!Ne?e=ce:(e={},je.length&&je.forEach(p=>n0(e,p,G,!0)),n0(e,ce,G)),ji(ce)&&pt.set(ce,e),e}function n0(J,ce,Ee,Ne=!1){const{mixins:je,extends:pt}=ce;pt&&n0(J,pt,Ee,!0),je&&je.forEach(G=>n0(J,G,Ee,!0));for(const G in ce)if(!(Ne&&G==="expose")){const U=n5[G]||Ee&&Ee[G];J[G]=U?U(J[G],ce[G]):ce[G]}return J}const n5={data:x1,props:Wc,emits:Wc,methods:Wc,computed:Wc,beforeCreate:Ss,created:Ss,beforeMount:Ss,mounted:Ss,beforeUpdate:Ss,updated:Ss,beforeDestroy:Ss,beforeUnmount:Ss,destroyed:Ss,unmounted:Ss,activated:Ss,deactivated:Ss,errorCaptured:Ss,serverPrefetch:Ss,components:Wc,directives:Wc,watch:i5,provide:x1,inject:a5};function x1(J,ce){return ce?J?function(){return cs(Ja(J)?J.call(this,this):J,Ja(ce)?ce.call(this,this):ce)}:ce:J}function a5(J,ce){return Wc(Gp(J),Gp(ce))}function Gp(J){if(Ya(J)){const ce={};for(let Ee=0;Ee<J.length;Ee++)ce[J[Ee]]=J[Ee];return ce}return J}function Ss(J,ce){return J?[...new Set([].concat(J,ce))]:ce}function Wc(J,ce){return J?cs(cs(Object.create(null),J),ce):ce}function i5(J,ce){if(!J)return ce;if(!ce)return J;const Ee=cs(Object.create(null),J);for(const Ne in ce)Ee[Ne]=Ss(J[Ne],ce[Ne]);return Ee}function o5(J,ce,Ee,Ne=!1){const je={},pt={};e0(pt,D0,1),J.propsDefaults=Object.create(null),Cx(J,ce,je,pt);for(const G in J.propsOptions[0])G in je||(je[G]=void 0);Ee?J.props=Ne?je:wT(je):J.type.props?J.props=je:J.props=pt,J.attrs=pt}function s5(J,ce,Ee,Ne){const{props:je,attrs:pt,vnode:{patchFlag:G}}=J,U=Ai(je),[e]=J.propsOptions;let p=!1;if((Ne||G>0)&&!(G&16)){if(G&8){const L=J.vnode.dynamicProps;for(let n=0;n<L.length;n++){let C=L[n];if(C0(J.emitsOptions,C))continue;const w=ce[C];if(e)if(xi(pt,C))w!==pt[C]&&(pt[C]=w,p=!0);else{const v=Nu(C);je[v]=Wp(e,U,v,w,J,!1)}else w!==pt[C]&&(pt[C]=w,p=!0)}}}else{Cx(J,ce,je,pt)&&(p=!0);let L;for(const n in U)(!ce||!xi(ce,n)&&((L=Kh(n))===n||!xi(ce,L)))&&(e?Ee&&(Ee[n]!==void 0||Ee[L]!==void 0)&&(je[n]=Wp(e,U,n,void 0,J,!0)):delete je[n]);if(pt!==U)for(const n in pt)(!ce||!xi(ce,n))&&(delete pt[n],p=!0)}p&&Tf(J,"set","$attrs")}function Cx(J,ce,Ee,Ne){const[je,pt]=J.propsOptions;let G=!1,U;if(ce)for(let e in ce){if(Gd(e))continue;const p=ce[e];let L;je&&xi(je,L=Nu(e))?!pt||!pt.includes(L)?Ee[L]=p:(U||(U={}))[L]=p:C0(J.emitsOptions,e)||(!(e in Ne)||p!==Ne[e])&&(Ne[e]=p,G=!0)}if(pt){const e=Ai(Ee),p=U||Gi;for(let L=0;L<pt.length;L++){const n=pt[L];Ee[n]=Wp(je,e,n,p[n],J,!xi(p,n))}}return G}function Wp(J,ce,Ee,Ne,je,pt){const G=J[Ee];if(G!=null){const U=xi(G,"default");if(U&&Ne===void 0){const e=G.default;if(G.type!==Function&&Ja(e)){const{propsDefaults:p}=je;Ee in p?Ne=p[Ee]:(Hh(je),Ne=p[Ee]=e.call(null,ce),Qc())}else Ne=e}G[0]&&(pt&&!U?Ne=!1:G[1]&&(Ne===""||Ne===Kh(Ee))&&(Ne=!0))}return Ne}function Lx(J,ce,Ee=!1){const Ne=ce.propsCache,je=Ne.get(J);if(je)return je;const pt=J.props,G={},U=[];let e=!1;if(!Ja(J)){const L=n=>{e=!0;const[C,w]=Lx(n,ce,!0);cs(G,C),w&&U.push(...w)};!Ee&&ce.mixins.length&&ce.mixins.forEach(L),J.extends&&L(J.extends),J.mixins&&J.mixins.forEach(L)}if(!pt&&!e)return ji(J)&&Ne.set(J,Fh),Fh;if(Ya(pt))for(let L=0;L<pt.length;L++){const n=Nu(pt[L]);b1(n)&&(G[n]=Gi)}else if(pt)for(const L in pt){const n=Nu(L);if(b1(n)){const C=pt[L],w=G[n]=Ya(C)||Ja(C)?{type:C}:Object.assign({},C);if(w){const v=A1(Boolean,w.type),y=A1(String,w.type);w[0]=v>-1,w[1]=y<0||v<y,(v>-1||xi(w,"default"))&&U.push(n)}}}const p=[G,U];return ji(J)&&Ne.set(J,p),p}function b1(J){return J[0]!=="$"}function w1(J){const ce=J&&J.toString().match(/^\s*(function|class) (\w+)/);return ce?ce[2]:J===null?"null":""}function T1(J,ce){return w1(J)===w1(ce)}function A1(J,ce){return Ya(ce)?ce.findIndex(Ee=>T1(Ee,J)):Ja(ce)&&T1(ce,J)?0:-1}const Px=J=>J[0]==="_"||J==="$stable",Og=J=>Ya(J)?J.map(Fu):[Fu(J)],l5=(J,ce,Ee)=>{if(ce._n)return ce;const Ne=_T((...je)=>Og(ce(...je)),Ee);return Ne._c=!1,Ne},Rx=(J,ce,Ee)=>{const Ne=J._ctx;for(const je in J){if(Px(je))continue;const pt=J[je];if(Ja(pt))ce[je]=l5(je,pt,Ne);else if(pt!=null){const G=Og(pt);ce[je]=()=>G}}},Dx=(J,ce)=>{const Ee=Og(ce);J.slots.default=()=>Ee},u5=(J,ce)=>{if(J.vnode.shapeFlag&32){const Ee=ce._;Ee?(J.slots=Ai(ce),e0(ce,"_",Ee)):Rx(ce,J.slots={})}else J.slots={},ce&&Dx(J,ce);e0(J.slots,D0,1)},f5=(J,ce,Ee)=>{const{vnode:Ne,slots:je}=J;let pt=!0,G=Gi;if(Ne.shapeFlag&32){const U=ce._;U?Ee&&U===1?pt=!1:(cs(je,ce),!Ee&&U===1&&delete je._):(pt=!ce.$stable,Rx(ce,je)),G=ce}else ce&&(Dx(J,ce),G={default:1});if(pt)for(const U in je)!Px(U)&&!(U in G)&&delete je[U]};function Ix(){return{app:null,config:{isNativeTag:Nw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let c5=0;function h5(J,ce){return function(Ne,je=null){Ja(Ne)||(Ne=Object.assign({},Ne)),je!=null&&!ji(je)&&(je=null);const pt=Ix(),G=new Set;let U=!1;const e=pt.app={_uid:c5++,_component:Ne,_props:je,_container:null,_context:pt,_instance:null,version:F5,get config(){return pt.config},set config(p){},use(p,...L){return G.has(p)||(p&&Ja(p.install)?(G.add(p),p.install(e,...L)):Ja(p)&&(G.add(p),p(e,...L))),e},mixin(p){return pt.mixins.includes(p)||pt.mixins.push(p),e},component(p,L){return L?(pt.components[p]=L,e):pt.components[p]},directive(p,L){return L?(pt.directives[p]=L,e):pt.directives[p]},mount(p,L,n){if(!U){const C=Do(Ne,je);return C.appContext=pt,L&&ce?ce(C,p):J(C,p,n),U=!0,e._container=p,p.__vue_app__=e,I0(C.component)||C.component.proxy}},unmount(){U&&(J(null,e._container),delete e._container.__vue_app__)},provide(p,L){return pt.provides[p]=L,e}};return e}}function Yp(J,ce,Ee,Ne,je=!1){if(Ya(J)){J.forEach((C,w)=>Yp(C,ce&&(Ya(ce)?ce[w]:ce),Ee,Ne,je));return}if(_v(Ne)&&!je)return;const pt=Ne.shapeFlag&4?I0(Ne.component)||Ne.component.proxy:Ne.el,G=je?null:pt,{i:U,r:e}=J,p=ce&&ce.r,L=U.refs===Gi?U.refs={}:U.refs,n=U.setupState;if(p!=null&&p!==e&&(So(p)?(L[p]=null,xi(n,p)&&(n[p]=null)):fs(p)&&(p.value=null)),Ja(e))uc(e,U,12,[G,L]);else{const C=So(e),w=fs(e);if(C||w){const v=()=>{if(J.f){const y=C?xi(n,e)?n[e]:L[e]:e.value;je?Ya(y)&&Ag(y,pt):Ya(y)?y.includes(pt)||y.push(pt):C?(L[e]=[pt],xi(n,e)&&(n[e]=L[e])):(e.value=[pt],J.k&&(L[J.k]=e.value))}else C?(L[e]=G,xi(n,e)&&(n[e]=G)):w&&(e.value=G,J.k&&(L[J.k]=G))};G?(v.id=-1,Ns(v,Ee)):v()}}}const Ns=NT;function v5(J){return d5(J)}function d5(J,ce){const Ee=Yw();Ee.__VUE__=!0;const{insert:Ne,remove:je,patchProp:pt,createElement:G,createText:U,createComment:e,setText:p,setElementText:L,parentNode:n,nextSibling:C,setScopeId:w=ou,insertStaticContent:v}=J,y=(j,ee,oe,Y=null,V=null,W=null,X=!1,re=null,ie=!!ee.dynamicChildren)=>{if(j===ee)return;j&&!Zc(j,ee)&&(Y=O(j),k(j,V,W,!0),j=null),ee.patchFlag===-2&&(ie=!1,ee.dynamicChildren=null);const{type:K,ref:q,shapeFlag:le}=ee;switch(K){case R0:t(j,ee,oe,Y);break;case Rl:r(j,ee,oe,Y);break;case jd:j==null&&l(ee,oe,Y,X);break;case Sl:d(j,ee,oe,Y,V,W,X,re,ie);break;default:le&1?c(j,ee,oe,Y,V,W,X,re,ie):le&6?M(j,ee,oe,Y,V,W,X,re,ie):(le&64||le&128)&&K.process(j,ee,oe,Y,V,W,X,re,ie,N)}q!=null&&V&&Yp(q,j&&j.ref,W,ee||j,!ee)},t=(j,ee,oe,Y)=>{if(j==null)Ne(ee.el=U(ee.children),oe,Y);else{const V=ee.el=j.el;ee.children!==j.children&&p(V,ee.children)}},r=(j,ee,oe,Y)=>{j==null?Ne(ee.el=e(ee.children||""),oe,Y):ee.el=j.el},l=(j,ee,oe,Y)=>{[j.el,j.anchor]=v(j.children,ee,oe,Y,j.el,j.anchor)},a=({el:j,anchor:ee},oe,Y)=>{let V;for(;j&&j!==ee;)V=C(j),Ne(j,oe,Y),j=V;Ne(ee,oe,Y)},s=({el:j,anchor:ee})=>{let oe;for(;j&&j!==ee;)oe=C(j),je(j),j=oe;je(ee)},c=(j,ee,oe,Y,V,W,X,re,ie)=>{X=X||ee.type==="svg",j==null?u(ee,oe,Y,V,W,X,re,ie):T(j,ee,V,W,X,re,ie)},u=(j,ee,oe,Y,V,W,X,re)=>{let ie,K;const{type:q,props:le,shapeFlag:ae,transition:he,dirs:me}=j;if(ie=j.el=G(j.type,W,le&&le.is,le),ae&8?L(ie,j.children):ae&16&&h(j.children,ie,null,Y,V,W&&q!=="foreignObject",X,re),me&&Vc(j,null,Y,"created"),m(ie,j,j.scopeId,X,Y),le){for(const xe in le)xe!=="value"&&!Gd(xe)&&pt(ie,xe,null,le[xe],W,j.children,Y,V,z);"value"in le&&pt(ie,"value",null,le.value),(K=le.onVnodeBeforeMount)&&_u(K,Y,j)}me&&Vc(j,null,Y,"beforeMount");const Me=(!V||V&&!V.pendingBranch)&&he&&!he.persisted;Me&&he.beforeEnter(ie),Ne(ie,ee,oe),((K=le&&le.onVnodeMounted)||Me||me)&&Ns(()=>{K&&_u(K,Y,j),Me&&he.enter(ie),me&&Vc(j,null,Y,"mounted")},V)},m=(j,ee,oe,Y,V)=>{if(oe&&w(j,oe),Y)for(let W=0;W<Y.length;W++)w(j,Y[W]);if(V){let W=V.subTree;if(ee===W){const X=V.vnode;m(j,X,X.scopeId,X.slotScopeIds,V.parent)}}},h=(j,ee,oe,Y,V,W,X,re,ie=0)=>{for(let K=ie;K<j.length;K++){const q=j[K]=re?ac(j[K]):Fu(j[K]);y(null,q,ee,oe,Y,V,W,X,re)}},T=(j,ee,oe,Y,V,W,X)=>{const re=ee.el=j.el;let{patchFlag:ie,dynamicChildren:K,dirs:q}=ee;ie|=j.patchFlag&16;const le=j.props||Gi,ae=ee.props||Gi;let he;oe&&Gc(oe,!1),(he=ae.onVnodeBeforeUpdate)&&_u(he,oe,ee,j),q&&Vc(ee,j,oe,"beforeUpdate"),oe&&Gc(oe,!0);const me=V&&ee.type!=="foreignObject";if(K?f(j.dynamicChildren,K,re,oe,Y,me,W):X||b(j,ee,re,null,oe,Y,me,W,!1),ie>0){if(ie&16)o(re,ee,le,ae,oe,Y,V);else if(ie&2&&le.class!==ae.class&&pt(re,"class",null,ae.class,V),ie&4&&pt(re,"style",le.style,ae.style,V),ie&8){const Me=ee.dynamicProps;for(let xe=0;xe<Me.length;xe++){const Ie=Me[xe],_e=le[Ie],Te=ae[Ie];(Te!==_e||Ie==="value")&&pt(re,Ie,_e,Te,V,j.children,oe,Y,z)}}ie&1&&j.children!==ee.children&&L(re,ee.children)}else!X&&K==null&&o(re,ee,le,ae,oe,Y,V);((he=ae.onVnodeUpdated)||q)&&Ns(()=>{he&&_u(he,oe,ee,j),q&&Vc(ee,j,oe,"updated")},Y)},f=(j,ee,oe,Y,V,W,X)=>{for(let re=0;re<ee.length;re++){const ie=j[re],K=ee[re],q=ie.el&&(ie.type===Sl||!Zc(ie,K)||ie.shapeFlag&70)?n(ie.el):oe;y(ie,K,q,null,Y,V,W,X,!0)}},o=(j,ee,oe,Y,V,W,X)=>{if(oe!==Y){if(oe!==Gi)for(const re in oe)!Gd(re)&&!(re in Y)&&pt(j,re,oe[re],null,X,ee.children,V,W,z);for(const re in Y){if(Gd(re))continue;const ie=Y[re],K=oe[re];ie!==K&&re!=="value"&&pt(j,re,K,ie,X,ee.children,V,W,z)}"value"in Y&&pt(j,"value",oe.value,Y.value)}},d=(j,ee,oe,Y,V,W,X,re,ie)=>{const K=ee.el=j?j.el:U(""),q=ee.anchor=j?j.anchor:U("");let{patchFlag:le,dynamicChildren:ae,slotScopeIds:he}=ee;he&&(re=re?re.concat(he):he),j==null?(Ne(K,oe,Y),Ne(q,oe,Y),h(ee.children,oe,q,V,W,X,re,ie)):le>0&&le&64&&ae&&j.dynamicChildren?(f(j.dynamicChildren,ae,oe,V,W,X,re),(ee.key!=null||V&&ee===V.subTree)&&_x(j,ee,!0)):b(j,ee,oe,q,V,W,X,re,ie)},M=(j,ee,oe,Y,V,W,X,re,ie)=>{ee.slotScopeIds=re,j==null?ee.shapeFlag&512?V.ctx.activate(ee,oe,Y,X,ie):A(ee,oe,Y,V,W,X,ie):E(j,ee,ie)},A=(j,ee,oe,Y,V,W,X)=>{const re=j.component=M5(j,Y,V);if(qv(j)&&(re.ctx.renderer=N),E5(re),re.asyncDep){if(V&&V.registerDep(re,g),!j.el){const ie=re.subTree=Do(Rl);r(null,ie,ee,oe)}return}g(re,j,ee,oe,V,W,X)},E=(j,ee,oe)=>{const Y=ee.component=j.component;if(zT(j,ee,oe))if(Y.asyncDep&&!Y.asyncResolved){S(Y,ee,oe);return}else Y.next=ee,PT(Y.update),Y.update();else ee.el=j.el,Y.vnode=ee},g=(j,ee,oe,Y,V,W,X)=>{const re=()=>{if(j.isMounted){let{next:q,bu:le,u:ae,parent:he,vnode:me}=j,Me=q,xe;Gc(j,!1),q?(q.el=me.el,S(j,q,X)):q=me,le&&Wd(le),(xe=q.props&&q.props.onVnodeBeforeUpdate)&&_u(xe,he,q,me),Gc(j,!0);const Ie=pp(j),_e=j.subTree;j.subTree=Ie,y(_e,Ie,n(_e.el),O(_e),j,V,W),q.el=Ie.el,Me===null&&OT(j,Ie.el),ae&&Ns(ae,V),(xe=q.props&&q.props.onVnodeUpdated)&&Ns(()=>_u(xe,he,q,me),V)}else{let q;const{el:le,props:ae}=ee,{bm:he,m:me,parent:Me}=j,xe=_v(ee);if(Gc(j,!1),he&&Wd(he),!xe&&(q=ae&&ae.onVnodeBeforeMount)&&_u(q,Me,ee),Gc(j,!0),le&&$){const Ie=()=>{j.subTree=pp(j),$(le,j.subTree,j,V,null)};xe?ee.type.__asyncLoader().then(()=>!j.isUnmounted&&Ie()):Ie()}else{const Ie=j.subTree=pp(j);y(null,Ie,oe,Y,j,V,W),ee.el=Ie.el}if(me&&Ns(me,V),!xe&&(q=ae&&ae.onVnodeMounted)){const Ie=ee;Ns(()=>_u(q,Me,Ie),V)}(ee.shapeFlag&256||Me&&_v(Me.vnode)&&Me.vnode.shapeFlag&256)&&j.a&&Ns(j.a,V),j.isMounted=!0,ee=oe=Y=null}},ie=j.effect=new Cg(re,()=>E0(K),j.scope),K=j.update=()=>ie.run();K.id=j.uid,Gc(j,!0),K()},S=(j,ee,oe)=>{ee.component=j;const Y=j.vnode.props;j.vnode=ee,j.next=null,s5(j,ee.props,Y,oe),f5(j,ee.children,oe),Jh(),d1(),Qh()},b=(j,ee,oe,Y,V,W,X,re,ie=!1)=>{const K=j&&j.children,q=j?j.shapeFlag:0,le=ee.children,{patchFlag:ae,shapeFlag:he}=ee;if(ae>0){if(ae&128){P(K,le,oe,Y,V,W,X,re,ie);return}else if(ae&256){i(K,le,oe,Y,V,W,X,re,ie);return}}he&8?(q&16&&z(K,V,W),le!==K&&L(oe,le)):q&16?he&16?P(K,le,oe,Y,V,W,X,re,ie):z(K,V,W,!0):(q&8&&L(oe,""),he&16&&h(le,oe,Y,V,W,X,re,ie))},i=(j,ee,oe,Y,V,W,X,re,ie)=>{j=j||Fh,ee=ee||Fh;const K=j.length,q=ee.length,le=Math.min(K,q);let ae;for(ae=0;ae<le;ae++){const he=ee[ae]=ie?ac(ee[ae]):Fu(ee[ae]);y(j[ae],he,oe,null,V,W,X,re,ie)}K>q?z(j,V,W,!0,!1,le):h(ee,oe,Y,V,W,X,re,ie,le)},P=(j,ee,oe,Y,V,W,X,re,ie)=>{let K=0;const q=ee.length;let le=j.length-1,ae=q-1;for(;K<=le&&K<=ae;){const he=j[K],me=ee[K]=ie?ac(ee[K]):Fu(ee[K]);if(Zc(he,me))y(he,me,oe,null,V,W,X,re,ie);else break;K++}for(;K<=le&&K<=ae;){const he=j[le],me=ee[ae]=ie?ac(ee[ae]):Fu(ee[ae]);if(Zc(he,me))y(he,me,oe,null,V,W,X,re,ie);else break;le--,ae--}if(K>le){if(K<=ae){const he=ae+1,me=he<q?ee[he].el:Y;for(;K<=ae;)y(null,ee[K]=ie?ac(ee[K]):Fu(ee[K]),oe,me,V,W,X,re,ie),K++}}else if(K>ae)for(;K<=le;)k(j[K],V,W,!0),K++;else{const he=K,me=K,Me=new Map;for(K=me;K<=ae;K++){const Ue=ee[K]=ie?ac(ee[K]):Fu(ee[K]);Ue.key!=null&&Me.set(Ue.key,K)}let xe,Ie=0;const _e=ae-me+1;let Te=!1,ye=0;const Ae=new Array(_e);for(K=0;K<_e;K++)Ae[K]=0;for(K=he;K<=le;K++){const Ue=j[K];if(Ie>=_e){k(Ue,V,W,!0);continue}let De;if(Ue.key!=null)De=Me.get(Ue.key);else for(xe=me;xe<=ae;xe++)if(Ae[xe-me]===0&&Zc(Ue,ee[xe])){De=xe;break}De===void 0?k(Ue,V,W,!0):(Ae[De-me]=K+1,De>=ye?ye=De:Te=!0,y(Ue,ee[De],oe,null,V,W,X,re,ie),Ie++)}const Be=Te?p5(Ae):Fh;for(xe=Be.length-1,K=_e-1;K>=0;K--){const Ue=me+K,De=ee[Ue],He=Ue+1<q?ee[Ue+1].el:Y;Ae[K]===0?y(null,De,oe,He,V,W,X,re,ie):Te&&(xe<0||K!==Be[xe]?x(De,oe,He,2):xe--)}}},x=(j,ee,oe,Y,V=null)=>{const{el:W,type:X,transition:re,children:ie,shapeFlag:K}=j;if(K&6){x(j.component.subTree,ee,oe,Y);return}if(K&128){j.suspense.move(ee,oe,Y);return}if(K&64){X.move(j,ee,oe,N);return}if(X===Sl){Ne(W,ee,oe);for(let le=0;le<ie.length;le++)x(ie[le],ee,oe,Y);Ne(j.anchor,ee,oe);return}if(X===jd){a(j,ee,oe);return}if(Y!==2&&K&1&&re)if(Y===0)re.beforeEnter(W),Ne(W,ee,oe),Ns(()=>re.enter(W),V);else{const{leave:le,delayLeave:ae,afterLeave:he}=re,me=()=>Ne(W,ee,oe),Me=()=>{le(W,()=>{me(),he&&he()})};ae?ae(W,me,Me):Me()}else Ne(W,ee,oe)},k=(j,ee,oe,Y=!1,V=!1)=>{const{type:W,props:X,ref:re,children:ie,dynamicChildren:K,shapeFlag:q,patchFlag:le,dirs:ae}=j;if(re!=null&&Yp(re,null,oe,j,!0),q&256){ee.ctx.deactivate(j);return}const he=q&1&&ae,me=!_v(j);let Me;if(me&&(Me=X&&X.onVnodeBeforeUnmount)&&_u(Me,ee,j),q&6)I(j.component,oe,Y);else{if(q&128){j.suspense.unmount(oe,Y);return}he&&Vc(j,null,ee,"beforeUnmount"),q&64?j.type.remove(j,ee,oe,V,N,Y):K&&(W!==Sl||le>0&&le&64)?z(K,ee,oe,!1,!0):(W===Sl&&le&384||!V&&q&16)&&z(ie,ee,oe),Y&&_(j)}(me&&(Me=X&&X.onVnodeUnmounted)||he)&&Ns(()=>{Me&&_u(Me,ee,j),he&&Vc(j,null,ee,"unmounted")},oe)},_=j=>{const{type:ee,el:oe,anchor:Y,transition:V}=j;if(ee===Sl){B(oe,Y);return}if(ee===jd){s(j);return}const W=()=>{je(oe),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(j.shapeFlag&1&&V&&!V.persisted){const{leave:X,delayLeave:re}=V,ie=()=>X(oe,W);re?re(j.el,W,ie):ie()}else W()},B=(j,ee)=>{let oe;for(;j!==ee;)oe=C(j),je(j),j=oe;je(ee)},I=(j,ee,oe)=>{const{bum:Y,scope:V,update:W,subTree:X,um:re}=j;Y&&Wd(Y),V.stop(),W&&(W.active=!1,k(X,j,ee,oe)),re&&Ns(re,ee),Ns(()=>{j.isUnmounted=!0},ee),ee&&ee.pendingBranch&&!ee.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===ee.pendingId&&(ee.deps--,ee.deps===0&&ee.resolve())},z=(j,ee,oe,Y=!1,V=!1,W=0)=>{for(let X=W;X<j.length;X++)k(j[X],ee,oe,Y,V)},O=j=>j.shapeFlag&6?O(j.component.subTree):j.shapeFlag&128?j.suspense.next():C(j.anchor||j.el),F=(j,ee,oe)=>{j==null?ee._vnode&&k(ee._vnode,null,null,!0):y(ee._vnode||null,j,ee,null,null,null,oe),d1(),hx(),ee._vnode=j},N={p:y,um:k,m:x,r:_,mt:A,mc:h,pc:b,pbc:f,n:O,o:J};let Q,$;return ce&&([Q,$]=ce(N)),{render:F,hydrate:Q,createApp:h5(F,Q)}}function Gc({effect:J,update:ce},Ee){J.allowRecurse=ce.allowRecurse=Ee}function _x(J,ce,Ee=!1){const Ne=J.children,je=ce.children;if(Ya(Ne)&&Ya(je))for(let pt=0;pt<Ne.length;pt++){const G=Ne[pt];let U=je[pt];U.shapeFlag&1&&!U.dynamicChildren&&((U.patchFlag<=0||U.patchFlag===32)&&(U=je[pt]=ac(je[pt]),U.el=G.el),Ee||_x(G,U)),U.type===R0&&(U.el=G.el)}}function p5(J){const ce=J.slice(),Ee=[0];let Ne,je,pt,G,U;const e=J.length;for(Ne=0;Ne<e;Ne++){const p=J[Ne];if(p!==0){if(je=Ee[Ee.length-1],J[je]<p){ce[Ne]=je,Ee.push(Ne);continue}for(pt=0,G=Ee.length-1;pt<G;)U=pt+G>>1,J[Ee[U]]<p?pt=U+1:G=U;p<J[Ee[pt]]&&(pt>0&&(ce[Ne]=Ee[pt-1]),Ee[pt]=Ne)}}for(pt=Ee.length,G=Ee[pt-1];pt-- >0;)Ee[pt]=G,G=ce[G];return Ee}const g5=J=>J.__isTeleport,Sl=Symbol(void 0),R0=Symbol(void 0),Rl=Symbol(void 0),jd=Symbol(void 0),kv=[];let iu=null;function Fx(J=!1){kv.push(iu=J?null:[])}function y5(){kv.pop(),iu=kv[kv.length-1]||null}let Vv=1;function M1(J){Vv+=J}function kx(J){return J.dynamicChildren=Vv>0?iu||Fh:null,y5(),Vv>0&&iu&&iu.push(J),J}function x8(J,ce,Ee,Ne,je,pt){return kx(Bx(J,ce,Ee,Ne,je,pt,!0))}function zx(J,ce,Ee,Ne,je){return kx(Do(J,ce,Ee,Ne,je,!0))}function a0(J){return J?J.__v_isVNode===!0:!1}function Zc(J,ce){return J.type===ce.type&&J.key===ce.key}const D0="__vInternal",Ox=({key:J})=>J??null,Kd=({ref:J,ref_key:ce,ref_for:Ee})=>J!=null?So(J)||fs(J)||Ja(J)?{i:Ko,r:J,k:ce,f:!!Ee}:J:null;function Bx(J,ce=null,Ee=null,Ne=0,je=null,pt=J===Sl?0:1,G=!1,U=!1){const e={__v_isVNode:!0,__v_skip:!0,type:J,props:ce,key:ce&&Ox(ce),ref:ce&&Kd(ce),scopeId:L0,slotScopeIds:null,children:Ee,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:pt,patchFlag:Ne,dynamicProps:je,dynamicChildren:null,appContext:null,ctx:Ko};return U?(Bg(e,Ee),pt&128&&J.normalize(e)):Ee&&(e.shapeFlag|=So(Ee)?8:16),Vv>0&&!G&&iu&&(e.patchFlag>0||pt&6)&&e.patchFlag!==32&&iu.push(e),e}const Do=m5;function m5(J,ce=null,Ee=null,Ne=0,je=null,pt=!1){if((!J||J===Ax)&&(J=Rl),a0(J)){const U=cc(J,ce,!0);return Ee&&Bg(U,Ee),Vv>0&&!pt&&iu&&(U.shapeFlag&6?iu[iu.indexOf(J)]=U:iu.push(U)),U.patchFlag|=-2,U}if(D5(J)&&(J=J.__vccOpts),ce){ce=x5(ce);let{class:U,style:e}=ce;U&&!So(U)&&(ce.class=wg(U)),ji(e)&&(rx(e)&&!Ya(e)&&(e=cs({},e)),ce.style=bg(e))}const G=So(J)?1:BT(J)?128:g5(J)?64:ji(J)?4:Ja(J)?2:0;return Bx(J,ce,Ee,Ne,je,G,pt,!0)}function x5(J){return J?rx(J)||D0 in J?cs({},J):J:null}function cc(J,ce,Ee=!1){const{props:Ne,ref:je,patchFlag:pt,children:G}=J,U=ce?w5(Ne||{},ce):Ne;return{__v_isVNode:!0,__v_skip:!0,type:J.type,props:U,key:U&&Ox(U),ref:ce&&ce.ref?Ee&&je?Ya(je)?je.concat(Kd(ce)):[je,Kd(ce)]:Kd(ce):je,scopeId:J.scopeId,slotScopeIds:J.slotScopeIds,children:G,target:J.target,targetAnchor:J.targetAnchor,staticCount:J.staticCount,shapeFlag:J.shapeFlag,patchFlag:ce&&J.type!==Sl?pt===-1?16:pt|16:pt,dynamicProps:J.dynamicProps,dynamicChildren:J.dynamicChildren,appContext:J.appContext,dirs:J.dirs,transition:J.transition,component:J.component,suspense:J.suspense,ssContent:J.ssContent&&cc(J.ssContent),ssFallback:J.ssFallback&&cc(J.ssFallback),el:J.el,anchor:J.anchor,ctx:J.ctx,ce:J.ce}}function b5(J=" ",ce=0){return Do(R0,null,J,ce)}function b8(J,ce){const Ee=Do(jd,null,J);return Ee.staticCount=ce,Ee}function w8(J="",ce=!1){return ce?(Fx(),zx(Rl,null,J)):Do(Rl,null,J)}function Fu(J){return J==null||typeof J=="boolean"?Do(Rl):Ya(J)?Do(Sl,null,J.slice()):typeof J=="object"?ac(J):Do(R0,null,String(J))}function ac(J){return J.el===null&&J.patchFlag!==-1||J.memo?J:cc(J)}function Bg(J,ce){let Ee=0;const{shapeFlag:Ne}=J;if(ce==null)ce=null;else if(Ya(ce))Ee=16;else if(typeof ce=="object")if(Ne&65){const je=ce.default;je&&(je._c&&(je._d=!1),Bg(J,je()),je._c&&(je._d=!0));return}else{Ee=32;const je=ce._;!je&&!(D0 in ce)?ce._ctx=Ko:je===3&&Ko&&(Ko.slots._===1?ce._=1:(ce._=2,J.patchFlag|=1024))}else Ja(ce)?(ce={default:ce,_ctx:Ko},Ee=32):(ce=String(ce),Ne&64?(Ee=16,ce=[b5(ce)]):Ee=8);J.children=ce,J.shapeFlag|=Ee}function w5(...J){const ce={};for(let Ee=0;Ee<J.length;Ee++){const Ne=J[Ee];for(const je in Ne)if(je==="class")ce.class!==Ne.class&&(ce.class=wg([ce.class,Ne.class]));else if(je==="style")ce.style=bg([ce.style,Ne.style]);else if(w0(je)){const pt=ce[je],G=Ne[je];G&&pt!==G&&!(Ya(pt)&&pt.includes(G))&&(ce[je]=pt?[].concat(pt,G):G)}else je!==""&&(ce[je]=Ne[je])}return ce}function _u(J,ce,Ee,Ne=null){Pl(J,ce,7,[Ee,Ne])}const T5=Ix();let A5=0;function M5(J,ce,Ee){const Ne=J.type,je=(ce?ce.appContext:J.appContext)||T5,pt={uid:A5++,vnode:J,type:Ne,parent:ce,appContext:je,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ce?ce.provides:Object.create(je.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lx(Ne,je),emitsOptions:dx(Ne,je),emit:null,emitted:null,propsDefaults:Gi,inheritAttrs:Ne.inheritAttrs,ctx:Gi,data:Gi,props:Gi,attrs:Gi,slots:Gi,refs:Gi,setupState:Gi,setupContext:null,suspense:Ee,suspenseId:Ee?Ee.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return pt.ctx={_:pt},pt.root=ce?ce.root:pt,pt.emit=IT.bind(null,pt),J.ce&&J.ce(pt),pt}let lo=null;const S5=()=>lo||Ko,Hh=J=>{lo=J,J.scope.on()},Qc=()=>{lo&&lo.scope.off(),lo=null};function Nx(J){return J.vnode.shapeFlag&4}let Vh=!1;function E5(J,ce=!1){Vh=ce;const{props:Ee,children:Ne}=J.vnode,je=Nx(J);o5(J,Ee,je,ce),u5(J,Ne);const pt=je?C5(J,ce):void 0;return Vh=!1,pt}function C5(J,ce){const Ee=J.type;J.accessCache=Object.create(null),J.proxy=nx(new Proxy(J.ctx,e5));const{setup:Ne}=Ee;if(Ne){const je=J.setupContext=Ne.length>1?P5(J):null;Hh(J),Jh();const pt=uc(Ne,J,0,[J.props,je]);if(Qh(),Qc(),Vm(pt)){if(pt.then(Qc,Qc),ce)return pt.then(G=>{S1(J,G,ce)}).catch(G=>{$v(G,J,0)});J.asyncDep=pt}else S1(J,pt,ce)}else Ux(J,ce)}function S1(J,ce,Ee){Ja(ce)?J.type.__ssrInlineRender?J.ssrRender=ce:J.render=ce:ji(ce)&&(J.setupState=sx(ce)),Ux(J,Ee)}let E1;function Ux(J,ce,Ee){const Ne=J.type;if(!J.render){if(!ce&&E1&&!Ne.render){const je=Ne.template||zg(J).template;if(je){const{isCustomElement:pt,compilerOptions:G}=J.appContext.config,{delimiters:U,compilerOptions:e}=Ne,p=cs(cs({isCustomElement:pt,delimiters:U},G),e);Ne.render=E1(je,p)}}J.render=Ne.render||ou}Hh(J),Jh(),t5(J),Qh(),Qc()}function L5(J){return new Proxy(J.attrs,{get(ce,Ee){return Vs(J,"get","$attrs"),ce[Ee]}})}function P5(J){const ce=Ne=>{J.exposed=Ne||{}};let Ee;return{get attrs(){return Ee||(Ee=L5(J))},slots:J.slots,emit:J.emit,expose:ce}}function I0(J){if(J.exposed)return J.exposeProxy||(J.exposeProxy=new Proxy(sx(nx(J.exposed)),{get(ce,Ee){if(Ee in ce)return ce[Ee];if(Ee in Fv)return Fv[Ee](J)},has(ce,Ee){return Ee in ce||Ee in Fv}}))}function R5(J,ce=!0){return Ja(J)?J.displayName||J.name:J.name||ce&&J.__name}function D5(J){return Ja(J)&&"__vccOpts"in J}const El=(J,ce)=>ET(J,ce,Vh);function Hx(J,ce,Ee){const Ne=arguments.length;return Ne===2?ji(ce)&&!Ya(ce)?a0(ce)?Do(J,null,[ce]):Do(J,ce):Do(J,null,ce):(Ne>3?Ee=Array.prototype.slice.call(arguments,2):Ne===3&&a0(Ee)&&(Ee=[Ee]),Do(J,ce,Ee))}const I5=Symbol(""),_5=()=>su(I5),F5="3.2.47",k5="http://www.w3.org/2000/svg",Xc=typeof document<"u"?document:null,C1=Xc&&Xc.createElement("template"),z5={insert:(J,ce,Ee)=>{ce.insertBefore(J,Ee||null)},remove:J=>{const ce=J.parentNode;ce&&ce.removeChild(J)},createElement:(J,ce,Ee,Ne)=>{const je=ce?Xc.createElementNS(k5,J):Xc.createElement(J,Ee?{is:Ee}:void 0);return J==="select"&&Ne&&Ne.multiple!=null&&je.setAttribute("multiple",Ne.multiple),je},createText:J=>Xc.createTextNode(J),createComment:J=>Xc.createComment(J),setText:(J,ce)=>{J.nodeValue=ce},setElementText:(J,ce)=>{J.textContent=ce},parentNode:J=>J.parentNode,nextSibling:J=>J.nextSibling,querySelector:J=>Xc.querySelector(J),setScopeId(J,ce){J.setAttribute(ce,"")},insertStaticContent(J,ce,Ee,Ne,je,pt){const G=Ee?Ee.previousSibling:ce.lastChild;if(je&&(je===pt||je.nextSibling))for(;ce.insertBefore(je.cloneNode(!0),Ee),!(je===pt||!(je=je.nextSibling)););else{C1.innerHTML=Ne?`<svg>${J}</svg>`:J;const U=C1.content;if(Ne){const e=U.firstChild;for(;e.firstChild;)U.appendChild(e.firstChild);U.removeChild(e)}ce.insertBefore(U,Ee)}return[G?G.nextSibling:ce.firstChild,Ee?Ee.previousSibling:ce.lastChild]}};function O5(J,ce,Ee){const Ne=J._vtc;Ne&&(ce=(ce?[ce,...Ne]:[...Ne]).join(" ")),ce==null?J.removeAttribute("class"):Ee?J.setAttribute("class",ce):J.className=ce}function B5(J,ce,Ee){const Ne=J.style,je=So(Ee);if(Ee&&!je){if(ce&&!So(ce))for(const pt in ce)Ee[pt]==null&&Zp(Ne,pt,"");for(const pt in Ee)Zp(Ne,pt,Ee[pt])}else{const pt=Ne.display;je?ce!==Ee&&(Ne.cssText=Ee):ce&&J.removeAttribute("style"),"_vod"in J&&(Ne.display=pt)}}const L1=/\s*!important$/;function Zp(J,ce,Ee){if(Ya(Ee))Ee.forEach(Ne=>Zp(J,ce,Ne));else if(Ee==null&&(Ee=""),ce.startsWith("--"))J.setProperty(ce,Ee);else{const Ne=N5(J,ce);L1.test(Ee)?J.setProperty(Kh(Ne),Ee.replace(L1,""),"important"):J[Ne]=Ee}}const P1=["Webkit","Moz","ms"],xp={};function N5(J,ce){const Ee=xp[ce];if(Ee)return Ee;let Ne=Nu(ce);if(Ne!=="filter"&&Ne in J)return xp[ce]=Ne;Ne=M0(Ne);for(let je=0;je<P1.length;je++){const pt=P1[je]+Ne;if(pt in J)return xp[ce]=pt}return ce}const R1="http://www.w3.org/1999/xlink";function U5(J,ce,Ee,Ne,je){if(Ne&&ce.startsWith("xlink:"))Ee==null?J.removeAttributeNS(R1,ce.slice(6,ce.length)):J.setAttributeNS(R1,ce,Ee);else{const pt=Bw(ce);Ee==null||pt&&!Nm(Ee)?J.removeAttribute(ce):J.setAttribute(ce,pt?"":Ee)}}function H5(J,ce,Ee,Ne,je,pt,G){if(ce==="innerHTML"||ce==="textContent"){Ne&&G(Ne,je,pt),J[ce]=Ee??"";return}if(ce==="value"&&J.tagName!=="PROGRESS"&&!J.tagName.includes("-")){J._value=Ee;const e=Ee??"";(J.value!==e||J.tagName==="OPTION")&&(J.value=e),Ee==null&&J.removeAttribute(ce);return}let U=!1;if(Ee===""||Ee==null){const e=typeof J[ce];e==="boolean"?Ee=Nm(Ee):Ee==null&&e==="string"?(Ee="",U=!0):e==="number"&&(Ee=0,U=!0)}try{J[ce]=Ee}catch{}U&&J.removeAttribute(ce)}function Rh(J,ce,Ee,Ne){J.addEventListener(ce,Ee,Ne)}function V5(J,ce,Ee,Ne){J.removeEventListener(ce,Ee,Ne)}function G5(J,ce,Ee,Ne,je=null){const pt=J._vei||(J._vei={}),G=pt[ce];if(Ne&&G)G.value=Ne;else{const[U,e]=W5(ce);if(Ne){const p=pt[ce]=X5(Ne,je);Rh(J,U,p,e)}else G&&(V5(J,U,G,e),pt[ce]=void 0)}}const D1=/(?:Once|Passive|Capture)$/;function W5(J){let ce;if(D1.test(J)){ce={};let Ne;for(;Ne=J.match(D1);)J=J.slice(0,J.length-Ne[0].length),ce[Ne[0].toLowerCase()]=!0}return[J[2]===":"?J.slice(3):Kh(J.slice(2)),ce]}let bp=0;const Y5=Promise.resolve(),Z5=()=>bp||(Y5.then(()=>bp=0),bp=Date.now());function X5(J,ce){const Ee=Ne=>{if(!Ne._vts)Ne._vts=Date.now();else if(Ne._vts<=Ee.attached)return;Pl(j5(Ne,Ee.value),ce,5,[Ne])};return Ee.value=J,Ee.attached=Z5(),Ee}function j5(J,ce){if(Ya(ce)){const Ee=J.stopImmediatePropagation;return J.stopImmediatePropagation=()=>{Ee.call(J),J._stopped=!0},ce.map(Ne=>je=>!je._stopped&&Ne&&Ne(je))}else return ce}const I1=/^on[a-z]/,K5=(J,ce,Ee,Ne,je=!1,pt,G,U,e)=>{ce==="class"?O5(J,Ne,je):ce==="style"?B5(J,Ee,Ne):w0(ce)?Tg(ce)||G5(J,ce,Ee,Ne,G):(ce[0]==="."?(ce=ce.slice(1),!0):ce[0]==="^"?(ce=ce.slice(1),!1):J5(J,ce,Ne,je))?H5(J,ce,Ne,pt,G,U,e):(ce==="true-value"?J._trueValue=Ne:ce==="false-value"&&(J._falseValue=Ne),U5(J,ce,Ne,je))};function J5(J,ce,Ee,Ne){return Ne?!!(ce==="innerHTML"||ce==="textContent"||ce in J&&I1.test(ce)&&Ja(Ee)):ce==="spellcheck"||ce==="draggable"||ce==="translate"||ce==="form"||ce==="list"&&J.tagName==="INPUT"||ce==="type"&&J.tagName==="TEXTAREA"||I1.test(ce)&&So(Ee)?!1:ce in J}const Q5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};GT.props;const _1=J=>{const ce=J.props["onUpdate:modelValue"]||!1;return Ya(ce)?Ee=>Wd(ce,Ee):ce};function $5(J){J.target.composing=!0}function F1(J){const ce=J.target;ce.composing&&(ce.composing=!1,ce.dispatchEvent(new Event("input")))}const T8={created(J,{modifiers:{lazy:ce,trim:Ee,number:Ne}},je){J._assign=_1(je);const pt=Ne||je.props&&je.props.type==="number";Rh(J,ce?"change":"input",G=>{if(G.target.composing)return;let U=J.value;Ee&&(U=U.trim()),pt&&(U=_p(U)),J._assign(U)}),Ee&&Rh(J,"change",()=>{J.value=J.value.trim()}),ce||(Rh(J,"compositionstart",$5),Rh(J,"compositionend",F1),Rh(J,"change",F1))},mounted(J,{value:ce}){J.value=ce??""},beforeUpdate(J,{value:ce,modifiers:{lazy:Ee,trim:Ne,number:je}},pt){if(J._assign=_1(pt),J.composing||document.activeElement===J&&J.type!=="range"&&(Ee||Ne&&J.value.trim()===ce||(je||J.type==="number")&&_p(J.value)===ce))return;const G=ce??"";J.value!==G&&(J.value=G)}},A8={beforeMount(J,{value:ce},{transition:Ee}){J._vod=J.style.display==="none"?"":J.style.display,Ee&&ce?Ee.beforeEnter(J):bv(J,ce)},mounted(J,{value:ce},{transition:Ee}){Ee&&ce&&Ee.enter(J)},updated(J,{value:ce,oldValue:Ee},{transition:Ne}){!ce!=!Ee&&(Ne?ce?(Ne.beforeEnter(J),bv(J,!0),Ne.enter(J)):Ne.leave(J,()=>{bv(J,!1)}):bv(J,ce))},beforeUnmount(J,{value:ce}){bv(J,ce)}};function bv(J,ce){J.style.display=ce?J._vod:"none"}const q5=cs({patchProp:K5},z5);let k1;function eA(){return k1||(k1=v5(q5))}const M8=(...J)=>{const ce=eA().createApp(...J),{mount:Ee}=ce;return ce.mount=Ne=>{const je=tA(Ne);if(!je)return;const pt=ce._component;!Ja(pt)&&!pt.render&&!pt.template&&(pt.template=je.innerHTML),je.innerHTML="";const G=Ee(je,!1,je instanceof SVGElement);return je instanceof Element&&(je.removeAttribute("v-cloak"),je.setAttribute("data-v-app","")),G},ce};function tA(J){return So(J)?document.querySelector(J):J}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Dh=typeof window<"u";function rA(J){return J.__esModule||J[Symbol.toStringTag]==="Module"}const Ri=Object.assign;function wp(J,ce){const Ee={};for(const Ne in ce){const je=ce[Ne];Ee[Ne]=lu(je)?je.map(J):J(je)}return Ee}const zv=()=>{},lu=Array.isArray,nA=/\/$/,aA=J=>J.replace(nA,"");function Tp(J,ce,Ee="/"){let Ne,je={},pt="",G="";const U=ce.indexOf("#");let e=ce.indexOf("?");return U<e&&U>=0&&(e=-1),e>-1&&(Ne=ce.slice(0,e),pt=ce.slice(e+1,U>-1?U:ce.length),je=J(pt)),U>-1&&(Ne=Ne||ce.slice(0,U),G=ce.slice(U,ce.length)),Ne=lA(Ne??ce,Ee),{fullPath:Ne+(pt&&"?")+pt+G,path:Ne,query:je,hash:G}}function iA(J,ce){const Ee=ce.query?J(ce.query):"";return ce.path+(Ee&&"?")+Ee+(ce.hash||"")}function z1(J,ce){return!ce||!J.toLowerCase().startsWith(ce.toLowerCase())?J:J.slice(ce.length)||"/"}function oA(J,ce,Ee){const Ne=ce.matched.length-1,je=Ee.matched.length-1;return Ne>-1&&Ne===je&&Gh(ce.matched[Ne],Ee.matched[je])&&Vx(ce.params,Ee.params)&&J(ce.query)===J(Ee.query)&&ce.hash===Ee.hash}function Gh(J,ce){return(J.aliasOf||J)===(ce.aliasOf||ce)}function Vx(J,ce){if(Object.keys(J).length!==Object.keys(ce).length)return!1;for(const Ee in J)if(!sA(J[Ee],ce[Ee]))return!1;return!0}function sA(J,ce){return lu(J)?O1(J,ce):lu(ce)?O1(ce,J):J===ce}function O1(J,ce){return lu(ce)?J.length===ce.length&&J.every((Ee,Ne)=>Ee===ce[Ne]):J.length===1&&J[0]===ce}function lA(J,ce){if(J.startsWith("/"))return J;if(!J)return ce;const Ee=ce.split("/"),Ne=J.split("/");let je=Ee.length-1,pt,G;for(pt=0;pt<Ne.length;pt++)if(G=Ne[pt],G!==".")if(G==="..")je>1&&je--;else break;return Ee.slice(0,je).join("/")+"/"+Ne.slice(pt-(pt===Ne.length?1:0)).join("/")}var Gv;(function(J){J.pop="pop",J.push="push"})(Gv||(Gv={}));var Ov;(function(J){J.back="back",J.forward="forward",J.unknown=""})(Ov||(Ov={}));function uA(J){if(!J)if(Dh){const ce=document.querySelector("base");J=ce&&ce.getAttribute("href")||"/",J=J.replace(/^\w+:\/\/[^\/]+/,"")}else J="/";return J[0]!=="/"&&J[0]!=="#"&&(J="/"+J),aA(J)}const fA=/^[^#]+#/;function cA(J,ce){return J.replace(fA,"#")+ce}function hA(J,ce){const Ee=document.documentElement.getBoundingClientRect(),Ne=J.getBoundingClientRect();return{behavior:ce.behavior,left:Ne.left-Ee.left-(ce.left||0),top:Ne.top-Ee.top-(ce.top||0)}}const _0=()=>({left:window.pageXOffset,top:window.pageYOffset});function vA(J){let ce;if("el"in J){const Ee=J.el,Ne=typeof Ee=="string"&&Ee.startsWith("#"),je=typeof Ee=="string"?Ne?document.getElementById(Ee.slice(1)):document.querySelector(Ee):Ee;if(!je)return;ce=hA(je,J)}else ce=J;"scrollBehavior"in document.documentElement.style?window.scrollTo(ce):window.scrollTo(ce.left!=null?ce.left:window.pageXOffset,ce.top!=null?ce.top:window.pageYOffset)}function B1(J,ce){return(history.state?history.state.position-ce:-1)+J}const Xp=new Map;function dA(J,ce){Xp.set(J,ce)}function pA(J){const ce=Xp.get(J);return Xp.delete(J),ce}let gA=()=>location.protocol+"//"+location.host;function Gx(J,ce){const{pathname:Ee,search:Ne,hash:je}=ce,pt=J.indexOf("#");if(pt>-1){let U=je.includes(J.slice(pt))?J.slice(pt).length:1,e=je.slice(U);return e[0]!=="/"&&(e="/"+e),z1(e,"")}return z1(Ee,J)+Ne+je}function yA(J,ce,Ee,Ne){let je=[],pt=[],G=null;const U=({state:C})=>{const w=Gx(J,location),v=Ee.value,y=ce.value;let t=0;if(C){if(Ee.value=w,ce.value=C,G&&G===v){G=null;return}t=y?C.position-y.position:0}else Ne(w);je.forEach(r=>{r(Ee.value,v,{delta:t,type:Gv.pop,direction:t?t>0?Ov.forward:Ov.back:Ov.unknown})})};function e(){G=Ee.value}function p(C){je.push(C);const w=()=>{const v=je.indexOf(C);v>-1&&je.splice(v,1)};return pt.push(w),w}function L(){const{history:C}=window;C.state&&C.replaceState(Ri({},C.state,{scroll:_0()}),"")}function n(){for(const C of pt)C();pt=[],window.removeEventListener("popstate",U),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",U),window.addEventListener("beforeunload",L),{pauseListeners:e,listen:p,destroy:n}}function N1(J,ce,Ee,Ne=!1,je=!1){return{back:J,current:ce,forward:Ee,replaced:Ne,position:window.history.length,scroll:je?_0():null}}function mA(J){const{history:ce,location:Ee}=window,Ne={value:Gx(J,Ee)},je={value:ce.state};je.value||pt(Ne.value,{back:null,current:Ne.value,forward:null,position:ce.length-1,replaced:!0,scroll:null},!0);function pt(e,p,L){const n=J.indexOf("#"),C=n>-1?(Ee.host&&document.querySelector("base")?J:J.slice(n))+e:gA()+J+e;try{ce[L?"replaceState":"pushState"](p,"",C),je.value=p}catch(w){console.error(w),Ee[L?"replace":"assign"](C)}}function G(e,p){const L=Ri({},ce.state,N1(je.value.back,e,je.value.forward,!0),p,{position:je.value.position});pt(e,L,!0),Ne.value=e}function U(e,p){const L=Ri({},je.value,ce.state,{forward:e,scroll:_0()});pt(L.current,L,!0);const n=Ri({},N1(Ne.value,e,null),{position:L.position+1},p);pt(e,n,!1),Ne.value=e}return{location:Ne,state:je,push:U,replace:G}}function xA(J){J=uA(J);const ce=mA(J),Ee=yA(J,ce.state,ce.location,ce.replace);function Ne(pt,G=!0){G||Ee.pauseListeners(),history.go(pt)}const je=Ri({location:"",base:J,go:Ne,createHref:cA.bind(null,J)},ce,Ee);return Object.defineProperty(je,"location",{enumerable:!0,get:()=>ce.location.value}),Object.defineProperty(je,"state",{enumerable:!0,get:()=>ce.state.value}),je}function S8(J){return J=location.host?J||location.pathname+location.search:"",J.includes("#")||(J+="#"),xA(J)}function bA(J){return typeof J=="string"||J&&typeof J=="object"}function Wx(J){return typeof J=="string"||typeof J=="symbol"}const nc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yx=Symbol("");var U1;(function(J){J[J.aborted=4]="aborted",J[J.cancelled=8]="cancelled",J[J.duplicated=16]="duplicated"})(U1||(U1={}));function Wh(J,ce){return Ri(new Error,{type:J,[Yx]:!0},ce)}function mf(J,ce){return J instanceof Error&&Yx in J&&(ce==null||!!(J.type&ce))}const H1="[^/]+?",wA={sensitive:!1,strict:!1,start:!0,end:!0},TA=/[.+*?^${}()[\]/\\]/g;function AA(J,ce){const Ee=Ri({},wA,ce),Ne=[];let je=Ee.start?"^":"";const pt=[];for(const p of J){const L=p.length?[]:[90];Ee.strict&&!p.length&&(je+="/");for(let n=0;n<p.length;n++){const C=p[n];let w=40+(Ee.sensitive?.25:0);if(C.type===0)n||(je+="/"),je+=C.value.replace(TA,"\\$&"),w+=40;else if(C.type===1){const{value:v,repeatable:y,optional:t,regexp:r}=C;pt.push({name:v,repeatable:y,optional:t});const l=r||H1;if(l!==H1){w+=10;try{new RegExp(`(${l})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${v}" (${l}): `+s.message)}}let a=y?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;n||(a=t&&p.length<2?`(?:/${a})`:"/"+a),t&&(a+="?"),je+=a,w+=20,t&&(w+=-8),y&&(w+=-20),l===".*"&&(w+=-50)}L.push(w)}Ne.push(L)}if(Ee.strict&&Ee.end){const p=Ne.length-1;Ne[p][Ne[p].length-1]+=.7000000000000001}Ee.strict||(je+="/?"),Ee.end?je+="$":Ee.strict&&(je+="(?:/|$)");const G=new RegExp(je,Ee.sensitive?"":"i");function U(p){const L=p.match(G),n={};if(!L)return null;for(let C=1;C<L.length;C++){const w=L[C]||"",v=pt[C-1];n[v.name]=w&&v.repeatable?w.split("/"):w}return n}function e(p){let L="",n=!1;for(const C of J){(!n||!L.endsWith("/"))&&(L+="/"),n=!1;for(const w of C)if(w.type===0)L+=w.value;else if(w.type===1){const{value:v,repeatable:y,optional:t}=w,r=v in p?p[v]:"";if(lu(r)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const l=lu(r)?r.join("/"):r;if(!l)if(t)C.length<2&&(L.endsWith("/")?L=L.slice(0,-1):n=!0);else throw new Error(`Missing required param "${v}"`);L+=l}}return L||"/"}return{re:G,score:Ne,keys:pt,parse:U,stringify:e}}function MA(J,ce){let Ee=0;for(;Ee<J.length&&Ee<ce.length;){const Ne=ce[Ee]-J[Ee];if(Ne)return Ne;Ee++}return J.length<ce.length?J.length===1&&J[0]===40+40?-1:1:J.length>ce.length?ce.length===1&&ce[0]===40+40?1:-1:0}function SA(J,ce){let Ee=0;const Ne=J.score,je=ce.score;for(;Ee<Ne.length&&Ee<je.length;){const pt=MA(Ne[Ee],je[Ee]);if(pt)return pt;Ee++}if(Math.abs(je.length-Ne.length)===1){if(V1(Ne))return 1;if(V1(je))return-1}return je.length-Ne.length}function V1(J){const ce=J[J.length-1];return J.length>0&&ce[ce.length-1]<0}const EA={type:0,value:""},CA=/[a-zA-Z0-9_]/;function LA(J){if(!J)return[[]];if(J==="/")return[[EA]];if(!J.startsWith("/"))throw new Error(`Invalid path "${J}"`);function ce(w){throw new Error(`ERR (${Ee})/"${p}": ${w}`)}let Ee=0,Ne=Ee;const je=[];let pt;function G(){pt&&je.push(pt),pt=[]}let U=0,e,p="",L="";function n(){p&&(Ee===0?pt.push({type:0,value:p}):Ee===1||Ee===2||Ee===3?(pt.length>1&&(e==="*"||e==="+")&&ce(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),pt.push({type:1,value:p,regexp:L,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):ce("Invalid state to consume buffer"),p="")}function C(){p+=e}for(;U<J.length;){if(e=J[U++],e==="\\"&&Ee!==2){Ne=Ee,Ee=4;continue}switch(Ee){case 0:e==="/"?(p&&n(),G()):e===":"?(n(),Ee=1):C();break;case 4:C(),Ee=Ne;break;case 1:e==="("?Ee=2:CA.test(e)?C():(n(),Ee=0,e!=="*"&&e!=="?"&&e!=="+"&&U--);break;case 2:e===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+e:Ee=3:L+=e;break;case 3:n(),Ee=0,e!=="*"&&e!=="?"&&e!=="+"&&U--,L="";break;default:ce("Unknown state");break}}return Ee===2&&ce(`Unfinished custom RegExp for param "${p}"`),n(),G(),je}function PA(J,ce,Ee){const Ne=AA(LA(J.path),Ee),je=Ri(Ne,{record:J,parent:ce,children:[],alias:[]});return ce&&!je.record.aliasOf==!ce.record.aliasOf&&ce.children.push(je),je}function RA(J,ce){const Ee=[],Ne=new Map;ce=Y1({strict:!1,end:!0,sensitive:!1},ce);function je(L){return Ne.get(L)}function pt(L,n,C){const w=!C,v=DA(L);v.aliasOf=C&&C.record;const y=Y1(ce,L),t=[v];if("alias"in L){const a=typeof L.alias=="string"?[L.alias]:L.alias;for(const s of a)t.push(Ri({},v,{components:C?C.record.components:v.components,path:s,aliasOf:C?C.record:v}))}let r,l;for(const a of t){const{path:s}=a;if(n&&s[0]!=="/"){const c=n.record.path,u=c[c.length-1]==="/"?"":"/";a.path=n.record.path+(s&&u+s)}if(r=PA(a,n,y),C?C.alias.push(r):(l=l||r,l!==r&&l.alias.push(r),w&&L.name&&!W1(r)&&G(L.name)),v.children){const c=v.children;for(let u=0;u<c.length;u++)pt(c[u],r,C&&C.children[u])}C=C||r,(r.record.components&&Object.keys(r.record.components).length||r.record.name||r.record.redirect)&&e(r)}return l?()=>{G(l)}:zv}function G(L){if(Wx(L)){const n=Ne.get(L);n&&(Ne.delete(L),Ee.splice(Ee.indexOf(n),1),n.children.forEach(G),n.alias.forEach(G))}else{const n=Ee.indexOf(L);n>-1&&(Ee.splice(n,1),L.record.name&&Ne.delete(L.record.name),L.children.forEach(G),L.alias.forEach(G))}}function U(){return Ee}function e(L){let n=0;for(;n<Ee.length&&SA(L,Ee[n])>=0&&(L.record.path!==Ee[n].record.path||!Zx(L,Ee[n]));)n++;Ee.splice(n,0,L),L.record.name&&!W1(L)&&Ne.set(L.record.name,L)}function p(L,n){let C,w={},v,y;if("name"in L&&L.name){if(C=Ne.get(L.name),!C)throw Wh(1,{location:L});y=C.record.name,w=Ri(G1(n.params,C.keys.filter(l=>!l.optional).map(l=>l.name)),L.params&&G1(L.params,C.keys.map(l=>l.name))),v=C.stringify(w)}else if("path"in L)v=L.path,C=Ee.find(l=>l.re.test(v)),C&&(w=C.parse(v),y=C.record.name);else{if(C=n.name?Ne.get(n.name):Ee.find(l=>l.re.test(n.path)),!C)throw Wh(1,{location:L,currentLocation:n});y=C.record.name,w=Ri({},n.params,L.params),v=C.stringify(w)}const t=[];let r=C;for(;r;)t.unshift(r.record),r=r.parent;return{name:y,path:v,params:w,matched:t,meta:_A(t)}}return J.forEach(L=>pt(L)),{addRoute:pt,resolve:p,removeRoute:G,getRoutes:U,getRecordMatcher:je}}function G1(J,ce){const Ee={};for(const Ne of ce)Ne in J&&(Ee[Ne]=J[Ne]);return Ee}function DA(J){return{path:J.path,redirect:J.redirect,name:J.name,meta:J.meta||{},aliasOf:void 0,beforeEnter:J.beforeEnter,props:IA(J),children:J.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in J?J.components||null:J.component&&{default:J.component}}}function IA(J){const ce={},Ee=J.props||!1;if("component"in J)ce.default=Ee;else for(const Ne in J.components)ce[Ne]=typeof Ee=="boolean"?Ee:Ee[Ne];return ce}function W1(J){for(;J;){if(J.record.aliasOf)return!0;J=J.parent}return!1}function _A(J){return J.reduce((ce,Ee)=>Ri(ce,Ee.meta),{})}function Y1(J,ce){const Ee={};for(const Ne in J)Ee[Ne]=Ne in ce?ce[Ne]:J[Ne];return Ee}function Zx(J,ce){return ce.children.some(Ee=>Ee===J||Zx(J,Ee))}const Xx=/#/g,FA=/&/g,kA=/\//g,zA=/=/g,OA=/\?/g,jx=/\+/g,BA=/%5B/g,NA=/%5D/g,Kx=/%5E/g,UA=/%60/g,Jx=/%7B/g,HA=/%7C/g,Qx=/%7D/g,VA=/%20/g;function Ng(J){return encodeURI(""+J).replace(HA,"|").replace(BA,"[").replace(NA,"]")}function GA(J){return Ng(J).replace(Jx,"{").replace(Qx,"}").replace(Kx,"^")}function jp(J){return Ng(J).replace(jx,"%2B").replace(VA,"+").replace(Xx,"%23").replace(FA,"%26").replace(UA,"`").replace(Jx,"{").replace(Qx,"}").replace(Kx,"^")}function WA(J){return jp(J).replace(zA,"%3D")}function YA(J){return Ng(J).replace(Xx,"%23").replace(OA,"%3F")}function ZA(J){return J==null?"":YA(J).replace(kA,"%2F")}function i0(J){try{return decodeURIComponent(""+J)}catch{}return""+J}function XA(J){const ce={};if(J===""||J==="?")return ce;const Ne=(J[0]==="?"?J.slice(1):J).split("&");for(let je=0;je<Ne.length;++je){const pt=Ne[je].replace(jx," "),G=pt.indexOf("="),U=i0(G<0?pt:pt.slice(0,G)),e=G<0?null:i0(pt.slice(G+1));if(U in ce){let p=ce[U];lu(p)||(p=ce[U]=[p]),p.push(e)}else ce[U]=e}return ce}function Z1(J){let ce="";for(let Ee in J){const Ne=J[Ee];if(Ee=WA(Ee),Ne==null){Ne!==void 0&&(ce+=(ce.length?"&":"")+Ee);continue}(lu(Ne)?Ne.map(pt=>pt&&jp(pt)):[Ne&&jp(Ne)]).forEach(pt=>{pt!==void 0&&(ce+=(ce.length?"&":"")+Ee,pt!=null&&(ce+="="+pt))})}return ce}function jA(J){const ce={};for(const Ee in J){const Ne=J[Ee];Ne!==void 0&&(ce[Ee]=lu(Ne)?Ne.map(je=>je==null?null:""+je):Ne==null?Ne:""+Ne)}return ce}const KA=Symbol(""),X1=Symbol(""),F0=Symbol(""),Ug=Symbol(""),Kp=Symbol("");function wv(){let J=[];function ce(Ne){return J.push(Ne),()=>{const je=J.indexOf(Ne);je>-1&&J.splice(je,1)}}function Ee(){J=[]}return{add:ce,list:()=>J,reset:Ee}}function ic(J,ce,Ee,Ne,je){const pt=Ne&&(Ne.enterCallbacks[je]=Ne.enterCallbacks[je]||[]);return()=>new Promise((G,U)=>{const e=n=>{n===!1?U(Wh(4,{from:Ee,to:ce})):n instanceof Error?U(n):bA(n)?U(Wh(2,{from:ce,to:n})):(pt&&Ne.enterCallbacks[je]===pt&&typeof n=="function"&&pt.push(n),G())},p=J.call(Ne&&Ne.instances[je],ce,Ee,e);let L=Promise.resolve(p);J.length<3&&(L=L.then(e)),L.catch(n=>U(n))})}function Ap(J,ce,Ee,Ne){const je=[];for(const pt of J)for(const G in pt.components){let U=pt.components[G];if(!(ce!=="beforeRouteEnter"&&!pt.instances[G]))if(JA(U)){const p=(U.__vccOpts||U)[ce];p&&je.push(ic(p,Ee,Ne,pt,G))}else{let e=U();je.push(()=>e.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${G}" at "${pt.path}"`));const L=rA(p)?p.default:p;pt.components[G]=L;const C=(L.__vccOpts||L)[ce];return C&&ic(C,Ee,Ne,pt,G)()}))}}return je}function JA(J){return typeof J=="object"||"displayName"in J||"props"in J||"__vccOpts"in J}function j1(J){const ce=su(F0),Ee=su(Ug),Ne=El(()=>ce.resolve(Oh(J.to))),je=El(()=>{const{matched:e}=Ne.value,{length:p}=e,L=e[p-1],n=Ee.matched;if(!L||!n.length)return-1;const C=n.findIndex(Gh.bind(null,L));if(C>-1)return C;const w=K1(e[p-2]);return p>1&&K1(L)===w&&n[n.length-1].path!==w?n.findIndex(Gh.bind(null,e[p-2])):C}),pt=El(()=>je.value>-1&&e4(Ee.params,Ne.value.params)),G=El(()=>je.value>-1&&je.value===Ee.matched.length-1&&Vx(Ee.params,Ne.value.params));function U(e={}){return qA(e)?ce[Oh(J.replace)?"replace":"push"](Oh(J.to)).catch(zv):Promise.resolve()}return{route:Ne,href:El(()=>Ne.value.href),isActive:pt,isExactActive:G,navigate:U}}const QA=Fg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:j1,setup(J,{slots:ce}){const Ee=Qv(j1(J)),{options:Ne}=su(F0),je=El(()=>({[J1(J.activeClass,Ne.linkActiveClass,"router-link-active")]:Ee.isActive,[J1(J.exactActiveClass,Ne.linkExactActiveClass,"router-link-exact-active")]:Ee.isExactActive}));return()=>{const pt=ce.default&&ce.default(Ee);return J.custom?pt:Hx("a",{"aria-current":Ee.isExactActive?J.ariaCurrentValue:null,href:Ee.href,onClick:Ee.navigate,class:je.value},pt)}}}),$A=QA;function qA(J){if(!(J.metaKey||J.altKey||J.ctrlKey||J.shiftKey)&&!J.defaultPrevented&&!(J.button!==void 0&&J.button!==0)){if(J.currentTarget&&J.currentTarget.getAttribute){const ce=J.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(ce))return}return J.preventDefault&&J.preventDefault(),!0}}function e4(J,ce){for(const Ee in ce){const Ne=ce[Ee],je=J[Ee];if(typeof Ne=="string"){if(Ne!==je)return!1}else if(!lu(je)||je.length!==Ne.length||Ne.some((pt,G)=>pt!==je[G]))return!1}return!0}function K1(J){return J?J.aliasOf?J.aliasOf.path:J.path:""}const J1=(J,ce,Ee)=>J??ce??Ee,t4=Fg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(J,{attrs:ce,slots:Ee}){const Ne=su(Kp),je=El(()=>J.route||Ne.value),pt=su(X1,0),G=El(()=>{let p=Oh(pt);const{matched:L}=je.value;let n;for(;(n=L[p])&&!n.components;)p++;return p}),U=El(()=>je.value.matched[G.value]);Zd(X1,El(()=>G.value+1)),Zd(KA,U),Zd(Kp,je);const e=Yd();return Xd(()=>[e.value,U.value,J.name],([p,L,n],[C,w,v])=>{L&&(L.instances[n]=p,w&&w!==L&&p&&p===C&&(L.leaveGuards.size||(L.leaveGuards=w.leaveGuards),L.updateGuards.size||(L.updateGuards=w.updateGuards))),p&&L&&(!w||!Gh(L,w)||!C)&&(L.enterCallbacks[n]||[]).forEach(y=>y(p))},{flush:"post"}),()=>{const p=je.value,L=J.name,n=U.value,C=n&&n.components[L];if(!C)return Q1(Ee.default,{Component:C,route:p});const w=n.props[L],v=w?w===!0?p.params:typeof w=="function"?w(p):w:null,t=Hx(C,Ri({},v,ce,{onVnodeUnmounted:r=>{r.component.isUnmounted&&(n.instances[L]=null)},ref:e}));return Q1(Ee.default,{Component:t,route:p})||t}}});function Q1(J,ce){if(!J)return null;const Ee=J(ce);return Ee.length===1?Ee[0]:Ee}const r4=t4;function E8(J){const ce=RA(J.routes,J),Ee=J.parseQuery||XA,Ne=J.stringifyQuery||Z1,je=J.history,pt=wv(),G=wv(),U=wv(),e=TT(nc);let p=nc;Dh&&J.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=wp.bind(null,I=>""+I),n=wp.bind(null,ZA),C=wp.bind(null,i0);function w(I,z){let O,F;return Wx(I)?(O=ce.getRecordMatcher(I),F=z):F=I,ce.addRoute(F,O)}function v(I){const z=ce.getRecordMatcher(I);z&&ce.removeRoute(z)}function y(){return ce.getRoutes().map(I=>I.record)}function t(I){return!!ce.getRecordMatcher(I)}function r(I,z){if(z=Ri({},z||e.value),typeof I=="string"){const j=Tp(Ee,I,z.path),ee=ce.resolve({path:j.path},z),oe=je.createHref(j.fullPath);return Ri(j,ee,{params:C(ee.params),hash:i0(j.hash),redirectedFrom:void 0,href:oe})}let O;if("path"in I)O=Ri({},I,{path:Tp(Ee,I.path,z.path).path});else{const j=Ri({},I.params);for(const ee in j)j[ee]==null&&delete j[ee];O=Ri({},I,{params:n(I.params)}),z.params=n(z.params)}const F=ce.resolve(O,z),N=I.hash||"";F.params=L(C(F.params));const Q=iA(Ne,Ri({},I,{hash:GA(N),path:F.path})),$=je.createHref(Q);return Ri({fullPath:Q,hash:N,query:Ne===Z1?jA(I.query):I.query||{}},F,{redirectedFrom:void 0,href:$})}function l(I){return typeof I=="string"?Tp(Ee,I,e.value.path):Ri({},I)}function a(I,z){if(p!==I)return Wh(8,{from:z,to:I})}function s(I){return m(I)}function c(I){return s(Ri(l(I),{replace:!0}))}function u(I){const z=I.matched[I.matched.length-1];if(z&&z.redirect){const{redirect:O}=z;let F=typeof O=="function"?O(I):O;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=l(F):{path:F},F.params={}),Ri({query:I.query,hash:I.hash,params:"path"in F?{}:I.params},F)}}function m(I,z){const O=p=r(I),F=e.value,N=I.state,Q=I.force,$=I.replace===!0,j=u(O);if(j)return m(Ri(l(j),{state:typeof j=="object"?Ri({},N,j.state):N,force:Q,replace:$}),z||O);const ee=O;ee.redirectedFrom=z;let oe;return!Q&&oA(Ne,F,O)&&(oe=Wh(16,{to:ee,from:F}),P(F,F,!0,!1)),(oe?Promise.resolve(oe):T(ee,F)).catch(Y=>mf(Y)?mf(Y,2)?Y:i(Y):S(Y,ee,F)).then(Y=>{if(Y){if(mf(Y,2))return m(Ri({replace:$},l(Y.to),{state:typeof Y.to=="object"?Ri({},N,Y.to.state):N,force:Q}),z||ee)}else Y=o(ee,F,!0,$,N);return f(ee,F,Y),Y})}function h(I,z){const O=a(I,z);return O?Promise.reject(O):Promise.resolve()}function T(I,z){let O;const[F,N,Q]=n4(I,z);O=Ap(F.reverse(),"beforeRouteLeave",I,z);for(const j of F)j.leaveGuards.forEach(ee=>{O.push(ic(ee,I,z))});const $=h.bind(null,I,z);return O.push($),Ph(O).then(()=>{O=[];for(const j of pt.list())O.push(ic(j,I,z));return O.push($),Ph(O)}).then(()=>{O=Ap(N,"beforeRouteUpdate",I,z);for(const j of N)j.updateGuards.forEach(ee=>{O.push(ic(ee,I,z))});return O.push($),Ph(O)}).then(()=>{O=[];for(const j of I.matched)if(j.beforeEnter&&!z.matched.includes(j))if(lu(j.beforeEnter))for(const ee of j.beforeEnter)O.push(ic(ee,I,z));else O.push(ic(j.beforeEnter,I,z));return O.push($),Ph(O)}).then(()=>(I.matched.forEach(j=>j.enterCallbacks={}),O=Ap(Q,"beforeRouteEnter",I,z),O.push($),Ph(O))).then(()=>{O=[];for(const j of G.list())O.push(ic(j,I,z));return O.push($),Ph(O)}).catch(j=>mf(j,8)?j:Promise.reject(j))}function f(I,z,O){for(const F of U.list())F(I,z,O)}function o(I,z,O,F,N){const Q=a(I,z);if(Q)return Q;const $=z===nc,j=Dh?history.state:{};O&&(F||$?je.replace(I.fullPath,Ri({scroll:$&&j&&j.scroll},N)):je.push(I.fullPath,N)),e.value=I,P(I,z,O,$),i()}let d;function M(){d||(d=je.listen((I,z,O)=>{if(!B.listening)return;const F=r(I),N=u(F);if(N){m(Ri(N,{replace:!0}),F).catch(zv);return}p=F;const Q=e.value;Dh&&dA(B1(Q.fullPath,O.delta),_0()),T(F,Q).catch($=>mf($,12)?$:mf($,2)?(m($.to,F).then(j=>{mf(j,20)&&!O.delta&&O.type===Gv.pop&&je.go(-1,!1)}).catch(zv),Promise.reject()):(O.delta&&je.go(-O.delta,!1),S($,F,Q))).then($=>{$=$||o(F,Q,!1),$&&(O.delta&&!mf($,8)?je.go(-O.delta,!1):O.type===Gv.pop&&mf($,20)&&je.go(-1,!1)),f(F,Q,$)}).catch(zv)}))}let A=wv(),E=wv(),g;function S(I,z,O){i(I);const F=E.list();return F.length?F.forEach(N=>N(I,z,O)):console.error(I),Promise.reject(I)}function b(){return g&&e.value!==nc?Promise.resolve():new Promise((I,z)=>{A.add([I,z])})}function i(I){return g||(g=!I,M(),A.list().forEach(([z,O])=>I?O(I):z()),A.reset()),I}function P(I,z,O,F){const{scrollBehavior:N}=J;if(!Dh||!N)return Promise.resolve();const Q=!O&&pA(B1(I.fullPath,0))||(F||!O)&&history.state&&history.state.scroll||null;return fx().then(()=>N(I,z,Q)).then($=>$&&vA($)).catch($=>S($,I,z))}const x=I=>je.go(I);let k;const _=new Set,B={currentRoute:e,listening:!0,addRoute:w,removeRoute:v,hasRoute:t,getRoutes:y,resolve:r,options:J,push:s,replace:c,go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:pt.add,beforeResolve:G.add,afterEach:U.add,onError:E.add,isReady:b,install(I){const z=this;I.component("RouterLink",$A),I.component("RouterView",r4),I.config.globalProperties.$router=z,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Oh(e)}),Dh&&!k&&e.value===nc&&(k=!0,s(je.location).catch(N=>{}));const O={};for(const N in nc)O[N]=El(()=>e.value[N]);I.provide(F0,z),I.provide(Ug,Qv(O)),I.provide(Kp,e);const F=I.unmount;_.add(I),I.unmount=function(){_.delete(I),_.size<1&&(p=nc,d&&d(),d=null,e.value=nc,k=!1,g=!1),F()}}};return B}function Ph(J){return J.reduce((ce,Ee)=>ce.then(()=>Ee()),Promise.resolve())}function n4(J,ce){const Ee=[],Ne=[],je=[],pt=Math.max(ce.matched.length,J.matched.length);for(let G=0;G<pt;G++){const U=ce.matched[G];U&&(J.matched.find(p=>Gh(p,U))?Ne.push(U):Ee.push(U));const e=J.matched[G];e&&(ce.matched.find(p=>Gh(p,e))||je.push(e))}return[Ee,Ne,je]}function C8(){return su(F0)}function L8(){return su(Ug)}var $1={},a4={get exports(){return $1},set exports(J){$1=J}};(function(J,ce){(function(Ne,je){J.exports=je()})(self,function(){return function(){var Ee={98847:function(G,U,e){var p=e(71828),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in L){var C=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[n])}},98222:function(G,U,e){G.exports=e(82887)},27206:function(G,U,e){G.exports=e(60822)},59893:function(G,U,e){G.exports=e(23381)},5224:function(G,U,e){G.exports=e(83832)},59509:function(G,U,e){G.exports=e(72201)},75557:function(G,U,e){G.exports=e(91815)},40338:function(G,U,e){G.exports=e(21462)},35080:function(G,U,e){G.exports=e(51319)},61396:function(G,U,e){G.exports=e(57516)},40549:function(G,U,e){G.exports=e(98128)},49866:function(G,U,e){G.exports=e(99442)},36089:function(G,U,e){G.exports=e(93740)},19548:function(G,U,e){G.exports=e(8729)},35831:function(G,U,e){G.exports=e(93814)},61039:function(G,U,e){G.exports=e(14382)},97040:function(G,U,e){G.exports=e(51759)},77986:function(G,U,e){G.exports=e(10421)},24296:function(G,U,e){G.exports=e(43102)},58872:function(G,U,e){G.exports=e(92165)},29626:function(G,U,e){G.exports=e(3325)},65591:function(G,U,e){G.exports=e(36071)},69738:function(G,U,e){G.exports=e(43905)},92650:function(G,U,e){G.exports=e(35902)},35630:function(G,U,e){G.exports=e(69816)},73434:function(G,U,e){G.exports=e(94507)},27909:function(G,U,e){var p=e(19548);p.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),G.exports=p},46163:function(G,U,e){G.exports=e(15154)},96881:function(G,U,e){G.exports=e(64943)},50581:function(G,U,e){G.exports=e(21164)},55334:function(G,U,e){G.exports=e(54186)},65317:function(G,U,e){G.exports=e(94873)},10021:function(G,U,e){G.exports=e(67618)},54201:function(G,U,e){G.exports=e(58810)},5861:function(G,U,e){G.exports=e(20593)},16122:function(G,U,e){G.exports=e(29396)},83043:function(G,U,e){G.exports=e(13551)},48131:function(G,U,e){G.exports=e(46858)},47582:function(G,U,e){G.exports=e(17988)},21641:function(G,U,e){G.exports=e(68868)},96268:function(G,U,e){G.exports=e(20467)},19440:function(G,U,e){G.exports=e(91271)},99488:function(G,U,e){G.exports=e(21461)},97393:function(G,U,e){G.exports=e(85956)},25743:function(G,U,e){G.exports=e(52979)},66398:function(G,U,e){G.exports=e(32275)},17280:function(G,U,e){G.exports=e(6419)},77900:function(G,U,e){G.exports=e(61510)},81299:function(G,U,e){G.exports=e(87619)},93005:function(G,U,e){G.exports=e(93601)},40344:function(G,U,e){G.exports=e(96595)},47645:function(G,U,e){G.exports=e(70954)},6197:function(G,U,e){G.exports=e(47462)},4534:function(G,U,e){G.exports=e(17659)},85461:function(G,U,e){G.exports=e(19990)},82884:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(G,U,e){var p=e(82884),L=e(41940),n=e(85555),C=e(44467).templatedArray;e(24695),G.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(G,U,e){var p=e(71828),L=e(89298),n=e(92605).draw;G.exports=function(y){var t=y._fullLayout,r=p.filterVisible(t.annotations);if(r.length&&y._fullData.length)return p.syncOrAsync([n,C],y)};function C(v){var y=v._fullLayout;p.filterVisible(y.annotations).forEach(function(t){var r=L.getFromId(v,t.xref),l=L.getFromId(v,t.yref),a=L.getRefType(t.xref),s=L.getRefType(t.yref);t._extremes={},a==="range"&&w(t,r),s==="range"&&w(t,l)})}function w(v,y){var t=y._id,r=t.charAt(0),l=v[r],a=v["a"+r],s=v[r+"ref"],c=v["a"+r+"ref"],u=v["_"+r+"padplus"],m=v["_"+r+"padminus"],h={x:1,y:-1}[r]*v[r+"shift"],T=3*v.arrowsize*v.arrowwidth||0,f=T+h,o=T-h,d=3*v.startarrowsize*v.arrowwidth||0,M=d+h,A=d-h,E;if(c===s){var g=L.findExtremes(y,[y.r2c(l)],{ppadplus:f,ppadminus:o}),S=L.findExtremes(y,[y.r2c(a)],{ppadplus:Math.max(u,M),ppadminus:Math.max(m,A)});E={min:[g.min[0],S.min[0]],max:[g.max[0],S.max[0]]}}else M=a?M+a:M,A=a?A-a:A,E=L.findExtremes(y,[y.r2c(l)],{ppadplus:Math.max(u,f,M),ppadminus:Math.max(m,o,A)});v._extremes[t]=E}},44317:function(G,U,e){var p=e(71828),L=e(73972),n=e(44467).arrayEditor;G.exports={hasClickToShow:C,onClick:w};function C(t,r){var l=v(t,r);return l.on.length>0||l.explicitOff.length>0}function w(t,r){var l=v(t,r),a=l.on,s=l.off.concat(l.explicitOff),c={},u=t._fullLayout.annotations,m,h;if(a.length||s.length){for(m=0;m<a.length;m++)h=n(t.layout,"annotations",u[a[m]]),h.modifyItem("visible",!0),p.extendFlat(c,h.getUpdateObj());for(m=0;m<s.length;m++)h=n(t.layout,"annotations",u[s[m]]),h.modifyItem("visible",!1),p.extendFlat(c,h.getUpdateObj());return L.call("update",t,{},c)}}function v(t,r){var l=t._fullLayout.annotations,a=[],s=[],c=[],u=(r||[]).length,m,h,T,f,o,d,M,A;for(m=0;m<l.length;m++)if(T=l[m],f=T.clicktoshow,f){for(h=0;h<u;h++)if(o=r[h],d=o.xaxis,M=o.yaxis,d._id===T.xref&&M._id===T.yref&&d.d2r(o.x)===y(T._xclick,d)&&M.d2r(o.y)===y(T._yclick,M)){T.visible?f==="onout"?A=s:A=c:A=a,A.push(m);break}h===u&&T.visible&&f==="onout"&&s.push(m)}return{on:a,off:s,explicitOff:c}}function y(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(G,U,e){var p=e(71828),L=e(7901);G.exports=function(C,w,v,y){y("opacity");var t=y("bgcolor"),r=y("bordercolor"),l=L.opacity(r);y("borderpad");var a=y("borderwidth"),s=y("showarrow");y("text",s?" ":v._dfltTitle.annotation),y("textangle"),p.coerceFont(y,"font",v.font),y("width"),y("align");var c=y("height");if(c&&y("valign"),s){var u=y("arrowside"),m,h;u.indexOf("end")!==-1&&(m=y("arrowhead"),h=y("arrowsize")),u.indexOf("start")!==-1&&(y("startarrowhead",m),y("startarrowsize",h)),y("arrowcolor",l?w.bordercolor:L.defaultLine),y("arrowwidth",(l&&a||1)*2),y("standoff"),y("startstandoff")}var T=y("hovertext"),f=v.hoverlabel||{};if(T){var o=y("hoverlabel.bgcolor",f.bgcolor||(L.opacity(t)?L.rgb(t):L.defaultLine)),d=y("hoverlabel.bordercolor",f.bordercolor||L.contrast(o));p.coerceFont(y,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||d})}y("captureevents",!!T)}},94128:function(G,U,e){var p=e(92770),L=e(58163);G.exports=function(C,w,v,y){w=w||{};var t=v==="log"&&w.type==="linear",r=v==="linear"&&w.type==="log";if(!(t||r))return;var l=C._fullLayout.annotations,a=w._id.charAt(0),s,c;function u(h){var T=s[h],f=null;t?f=L(T,w.range):f=Math.pow(10,T),p(f)||(f=null),y(c+h,f)}for(var m=0;m<l.length;m++)s=l[m],c="annotations["+m+"].",s[a+"ref"]===w._id&&u(a),s["a"+a+"ref"]===w._id&&u("a"+a)}},84046:function(G,U,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),w=e(50215);G.exports=function(t,r){n(t,r,{name:"annotations",handleItemDefaults:v})};function v(y,t,r){function l(b,i){return p.coerce(y,t,w,b,i)}var a=l("visible"),s=l("clicktoshow");if(a||s){C(y,t,r,l);for(var c=t.showarrow,u=["x","y"],m=[-10,-30],h={_fullLayout:r},T=0;T<2;T++){var f=u[T],o=L.coerceRef(y,t,h,f,"","paper");if(o!=="paper"){var d=L.getFromId(h,o);d._annIndices.push(t._index)}if(L.coercePosition(t,h,l,o,f,.5),c){var M="a"+f,A=L.coerceRef(y,t,h,M,"pixel",["pixel","paper"]);A!=="pixel"&&A!==o&&(A=t[M]="pixel");var E=A==="pixel"?m[T]:.4;L.coercePosition(t,h,l,A,M,E)}l(f+"anchor"),l(f+"shift")}if(p.noneOrAll(y,t,["x","y"]),c&&p.noneOrAll(y,t,["ax","ay"]),s){var g=l("xclick"),S=l("yclick");t._xclick=g===void 0?t.x:L.cleanPosition(g,h,t.xref),t._yclick=S===void 0?t.y:L.cleanPosition(S,h,t.yref)}}}},92605:function(G,U,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),w=C.strTranslate,v=e(89298),y=e(7901),t=e(91424),r=e(30211),l=e(63893),a=e(6964),s=e(28569),c=e(44467).arrayEditor,u=e(13011);G.exports={draw:m,drawOne:h,drawRaw:f};function m(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var M=0;M<d.annotations.length;M++)d.annotations[M].visible&&h(o,M);return n.previousPromises(o)}function h(o,d){var M=o._fullLayout,A=M.annotations[d]||{},E=v.getFromId(o,A.xref),g=v.getFromId(o,A.yref);E&&E.setScale(),g&&g.setScale(),f(o,A,d,!1,E,g)}function T(o,d,M,A,E){var g=E[M],S=E[M+"ref"],b=M.indexOf("y")!==-1,i=v.getRefType(S)==="domain",P=b?A.h:A.w;return o?i?g+(b?-d:d)/o._length:o.p2r(o.r2p(g)+d):g+(b?-d:d)/P}function f(o,d,M,A,E,g){var S=o._fullLayout,b=o._fullLayout._size,i=o._context.edits,P,x;A?(P="annotation-"+A,x=A+".annotations"):(P="annotation",x="annotations");var k=c(o.layout,x,d),_=k.modifyBase,B=k.modifyItem,I=k.getUpdateObj;S._infolayer.selectAll("."+P+'[data-index="'+M+'"]').remove();var z="clip"+S._uid+"_ann"+M;if(!d._input||d.visible===!1){p.selectAll("#"+z).remove();return}var O={x:{},y:{}},F=+d.textangle||0,N=S._infolayer.append("g").classed(P,!0).attr("data-index",String(M)).style("opacity",d.opacity),Q=N.append("g").classed("annotation-text-g",!0),$=i[d.showarrow?"annotationTail":"annotationPosition"],j=d.captureevents||i.annotationText||$;function ee(me){var Me={index:M,annotation:d._input,fullAnnotation:d,event:me};return A&&(Me.subplotId=A),Me}var oe=Q.append("g").style("pointer-events",j?"all":null).call(a,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ee(p.event))});d.hovertext&&oe.on("mouseover",function(){var me=d.hoverlabel,Me=me.font,xe=this.getBoundingClientRect(),Ie=o.getBoundingClientRect();r.loneHover({x0:xe.left-Ie.left,x1:xe.right-Ie.left,y:(xe.top+xe.bottom)/2-Ie.top,text:d.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Me.family,fontSize:Me.size,fontColor:Me.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(S._hoverlayer.node())});var Y=d.borderwidth,V=d.borderpad,W=Y+V,X=oe.append("rect").attr("class","bg").style("stroke-width",Y+"px").call(y.stroke,d.bordercolor).call(y.fill,d.bgcolor),re=d.width||d.height,ie=S._topclips.selectAll("#"+z).data(re?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ie.exit().remove();var K=d.font,q=S._meta?C.templateString(d.text,S._meta):d.text,le=oe.append("text").classed("annotation-text",!0).text(q);function ae(me){return me.call(t.font,K).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),l.convertToTspans(me,o,he),me}function he(){var me=le.selectAll("a");if(me.size()===1&&me.text()===le.text()){var Me=oe.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});Me.node().appendChild(X.node())}var xe=oe.select(".annotation-text-math-group"),Ie=!xe.empty(),_e=t.bBox((Ie?xe:le).node()),Te=_e.width,ye=_e.height,Ae=d.width||Te,Be=d.height||ye,Ue=Math.round(Ae+2*W),De=Math.round(Be+2*W);function He(wr,dr){return dr==="auto"&&(wr<.3333333333333333?dr="left":wr>.6666666666666666?dr="right":dr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dr]}for(var ut=!1,et=["x","y"],Qe=0;Qe<et.length;Qe++){var qe=et[Qe],ft=d[qe+"ref"]||qe,gt=d["a"+qe+"ref"],xt={x:E,y:g}[qe],Ct=(F+(qe==="x"?0:-90))*Math.PI/180,Je=Ue*Math.cos(Ct),ze=De*Math.sin(Ct),Fe=Math.abs(Je)+Math.abs(ze),$e=d[qe+"anchor"],at=d[qe+"shift"]*(qe==="x"?1:-1),Xe=O[qe],Pe,we,ue,ge,Le,ke=v.getRefType(ft);if(xt&&ke!=="domain"){var it=xt.r2fraction(d[qe]);(it<0||it>1)&&(gt===ft?(it=xt.r2fraction(d["a"+qe]),(it<0||it>1)&&(ut=!0)):ut=!0),Pe=xt._offset+xt.r2p(d[qe]),ge=.5}else{var lt=ke==="domain";qe==="x"?(ue=d[qe],Pe=lt?xt._offset+xt._length*ue:Pe=b.l+b.w*ue):(ue=1-d[qe],Pe=lt?xt._offset+xt._length*ue:Pe=b.t+b.h*ue),ge=d.showarrow?.5:ue}if(d.showarrow){Xe.head=Pe;var bt=d["a"+qe];if(Le=Je*He(.5,d.xanchor)-ze*He(.5,d.yanchor),gt===ft){var Rt=v.getRefType(gt);Rt==="domain"?(qe==="y"&&(bt=1-bt),Xe.tail=xt._offset+xt._length*bt):Rt==="paper"?qe==="y"?(bt=1-bt,Xe.tail=b.t+b.h*bt):Xe.tail=b.l+b.w*bt:Xe.tail=xt._offset+xt.r2p(bt),we=Le}else Xe.tail=Pe+bt,we=Le+bt;Xe.text=Xe.tail+Le;var Ut=S[qe==="x"?"width":"height"];if(ft==="paper"&&(Xe.head=C.constrain(Xe.head,1,Ut-1)),gt==="pixel"){var Gt=-Math.max(Xe.tail-3,Xe.text),_t=Math.min(Xe.tail+3,Xe.text)-Ut;Gt>0?(Xe.tail+=Gt,Xe.text+=Gt):_t>0&&(Xe.tail-=_t,Xe.text-=_t)}Xe.tail+=at,Xe.head+=at}else Le=Fe*He(ge,$e),we=Le,Xe.text=Pe+Le;Xe.text+=at,Le+=at,we+=at,d["_"+qe+"padplus"]=Fe/2+we,d["_"+qe+"padminus"]=Fe/2-we,d["_"+qe+"size"]=Fe,d["_"+qe+"shift"]=Le}if(ut){oe.remove();return}var nr=0,lr=0;if(d.align!=="left"&&(nr=(Ae-Te)*(d.align==="center"?.5:1)),d.valign!=="top"&&(lr=(Be-ye)*(d.valign==="middle"?.5:1)),Ie)xe.select("svg").attr({x:W+nr-1,y:W+lr}).call(t.setClipUrl,re?z:null,o);else{var zr=W+lr-_e.top,mt=W+nr-_e.left;le.call(l.positionText,mt,zr).call(t.setClipUrl,re?z:null,o)}ie.select("rect").call(t.setRect,W,W,Ae,Be),X.call(t.setRect,Y/2,Y/2,Ue-Y,De-Y),oe.call(t.setTranslate,Math.round(O.x.text-Ue/2),Math.round(O.y.text-De/2)),Q.attr({transform:"rotate("+F+","+O.x.text+","+O.y.text+")"});var jt=function(wr,dr){N.selectAll(".annotation-arrow-g").remove();var ct=O.x.head,ot=O.y.head,wt=O.x.tail+wr,Mt=O.y.tail+dr,Dt=O.x.text+wr,St=O.y.text+dr,Ot=C.rotationXYMatrix(F,Dt,St),Vt=C.apply2DTransform(Ot),Qt=C.apply2DTransform2(Ot),Kt=+X.attr("width"),or=+X.attr("height"),Mr=Dt-.5*Kt,Ve=Mr+Kt,Ge=St-.5*or,Ft=Ge+or,kt=[[Mr,Ge,Mr,Ft],[Mr,Ft,Ve,Ft],[Ve,Ft,Ve,Ge],[Ve,Ge,Mr,Ge]].map(Qt);if(!kt.reduce(function(Br,xn){return Br^!!C.segmentsIntersect(ct,ot,ct+1e6,ot+1e6,xn[0],xn[1],xn[2],xn[3])},!1)){kt.forEach(function(Br){var xn=C.segmentsIntersect(wt,Mt,ct,ot,Br[0],Br[1],Br[2],Br[3]);xn&&(wt=xn.x,Mt=xn.y)});var Zt=d.arrowwidth,tr=d.arrowcolor,sr=d.arrowside,rr=N.append("g").style({opacity:y.opacity(tr)}).classed("annotation-arrow-g",!0),Nt=rr.append("path").attr("d","M"+wt+","+Mt+"L"+ct+","+ot).style("stroke-width",Zt+"px").call(y.stroke,y.rgb(tr));if(u(Nt,sr,d),i.annotationPosition&&Nt.node().parentNode&&!A){var hr=ct,pr=ot;if(d.standoff){var br=Math.sqrt(Math.pow(ct-wt,2)+Math.pow(ot-Mt,2));hr+=d.standoff*(wt-ct)/br,pr+=d.standoff*(Mt-ot)/br}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(wt-hr)+","+(Mt-pr),transform:w(hr,pr)}).style("stroke-width",Zt+6+"px").call(y.stroke,"rgba(0,0,0,0)").call(y.fill,"rgba(0,0,0,0)"),Kr,Fr;s.init({element:vr.node(),gd:o,prepFn:function(){var Br=t.getTranslate(oe);Kr=Br.x,Fr=Br.y,E&&E.autorange&&_(E._name+".autorange",!0),g&&g.autorange&&_(g._name+".autorange",!0)},moveFn:function(Br,xn){var jr=Vt(Kr,Fr),Dn=jr[0]+Br,In=jr[1]+xn;oe.call(t.setTranslate,Dn,In),B("x",T(E,Br,"x",b,d)),B("y",T(g,xn,"y",b,d)),d.axref===d.xref&&B("ax",T(E,Br,"ax",b,d)),d.ayref===d.yref&&B("ay",T(g,xn,"ay",b,d)),rr.attr("transform",w(Br,xn)),Q.attr({transform:"rotate("+F+","+Dn+","+In+")"})},doneFn:function(){L.call("_guiRelayout",o,I());var Br=document.querySelector(".js-notes-box-panel");Br&&Br.redraw(Br.selectedObj)}})}}};if(d.showarrow&&jt(0,0),$){var Yt;s.init({element:oe.node(),gd:o,prepFn:function(){Yt=Q.attr("transform")},moveFn:function(wr,dr){var ct="pointer";if(d.showarrow)d.axref===d.xref?B("ax",T(E,wr,"ax",b,d)):B("ax",d.ax+wr),d.ayref===d.yref?B("ay",T(g,dr,"ay",b.w,d)):B("ay",d.ay+dr),jt(wr,dr);else{if(A)return;var ot,wt;if(E)ot=T(E,wr,"x",b,d);else{var Mt=d._xsize/b.w,Dt=d.x+(d._xshift-d.xshift)/b.w-Mt/2;ot=s.align(Dt+wr/b.w,Mt,0,1,d.xanchor)}if(g)wt=T(g,dr,"y",b,d);else{var St=d._ysize/b.h,Ot=d.y-(d._yshift+d.yshift)/b.h-St/2;wt=s.align(Ot-dr/b.h,St,0,1,d.yanchor)}B("x",ot),B("y",wt),(!E||!g)&&(ct=s.getCursor(E?.5:ot,g?.5:wt,d.xanchor,d.yanchor))}Q.attr({transform:w(wr,dr)+Yt}),a(oe,ct)},clickFn:function(wr,dr){d.captureevents&&o.emit("plotly_clickannotation",ee(dr))},doneFn:function(){a(oe),L.call("_guiRelayout",o,I());var wr=document.querySelector(".js-notes-box-panel");wr&&wr.redraw(wr.selectedObj)}})}}i.annotationText?le.call(l.makeEditable,{delegate:oe,gd:o}).call(ae).on("edit",function(me){d.text=me,this.call(ae),B("text",me),E&&E.autorange&&_(E._name+".autorange",!0),g&&g.autorange&&_(g._name+".autorange",!0),L.call("_guiRelayout",o,I())}):le.call(ae)}},13011:function(G,U,e){var p=e(39898),L=e(7901),n=e(82884),C=e(71828),w=C.strScale,v=C.strRotate,y=C.strTranslate;G.exports=function(r,l,a){var s=r.node(),c=n[a.arrowhead||0],u=n[a.startarrowhead||0],m=(a.arrowwidth||1)*(a.arrowsize||1),h=(a.arrowwidth||1)*(a.startarrowsize||1),T=l.indexOf("start")>=0,f=l.indexOf("end")>=0,o=c.backoff*m+a.standoff,d=u.backoff*h+a.startstandoff,M,A,E,g;if(s.nodeName==="line"){M={x:+r.attr("x1"),y:+r.attr("y1")},A={x:+r.attr("x2"),y:+r.attr("y2")};var S=M.x-A.x,b=M.y-A.y;if(E=Math.atan2(b,S),g=E+Math.PI,o&&d&&o+d>Math.sqrt(S*S+b*b)){Q();return}if(o){if(o*o>S*S+b*b){Q();return}var i=o*Math.cos(E),P=o*Math.sin(E);A.x+=i,A.y+=P,r.attr({x2:A.x,y2:A.y})}if(d){if(d*d>S*S+b*b){Q();return}var x=d*Math.cos(E),k=d*Math.sin(E);M.x-=x,M.y-=k,r.attr({x1:M.x,y1:M.y})}}else if(s.nodeName==="path"){var _=s.getTotalLength(),B="";if(_<o+d){Q();return}var I=s.getPointAtLength(0),z=s.getPointAtLength(.1);E=Math.atan2(I.y-z.y,I.x-z.x),M=s.getPointAtLength(Math.min(d,_)),B="0px,"+d+"px,";var O=s.getPointAtLength(_),F=s.getPointAtLength(_-.1);g=Math.atan2(O.y-F.y,O.x-F.x),A=s.getPointAtLength(Math.max(0,_-o));var N=B?d+o:o;B+=_-N+"px,"+_+"px",r.style("stroke-dasharray",B)}function Q(){r.style("stroke-dasharray","0px,100px")}function $(j,ee,oe,Y){j.path&&(j.noRotate&&(oe=0),p.select(s.parentNode).append("path").attr({class:r.attr("class"),d:j.path,transform:y(ee.x,ee.y)+v(oe*180/Math.PI)+w(Y)}).style({fill:L.rgb(a.arrowcolor),"stroke-width":0}))}T&&$(u,M,E,h),f&&$(c,A,g,m)}},32745:function(G,U,e){var p=e(92605),L=e(44317);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(94128)}},26997:function(G,U,e){var p=e(50215),L=e(30962).overrideAll,n=e(44467).templatedArray;G.exports=L(n("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(G,U,e){var p=e(71828),L=e(89298);G.exports=function(w){for(var v=w.fullSceneLayout,y=v.annotations,t=0;t<y.length;t++)n(y[t],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()};function n(C,w){var v=w.fullSceneLayout,y=v.domain,t=w.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,r),L.setConvert(C._xa),C._xa._offset=t.l+y.x[0]*t.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*t.w*(y.x[1]-y.x[0])},C._ya={},p.extendFlat(C._ya,r),L.setConvert(C._ya),C._ya._offset=t.t+(1-y.y[1])*t.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*t.h*(y.y[1]-y.y[0])}}},20226:function(G,U,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),w=e(26997);G.exports=function(t,r,l){n(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:l.fullLayout})};function v(y,t,r,l){function a(u,m){return p.coerce(y,t,w,u,m)}function s(u){var m=u+"axis",h={_fullLayout:{}};return h._fullLayout[m]=r[m],L.coercePosition(t,h,a,u,u,.5)}var c=a("visible");c&&(C(y,t,l.fullLayout,a),s("x"),s("y"),s("z"),p.noneOrAll(y,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",a("ax",-10),a("ay",-30),p.noneOrAll(y,t,["ax","ay"])))}},82188:function(G,U,e){var p=e(92605).drawRaw,L=e(63538),n=["x","y","z"];G.exports=function(w){for(var v=w.fullSceneLayout,y=w.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var l=t[r],a=!1,s=0;s<3;s++){var c=n[s],u=l[c],m=v[c+"axis"],h=m.r2fraction(u);if(h<0||h>1){a=!0;break}}a?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+r+'"]').remove():(l._pdata=L(w.glplot.cameraParams,[v.xaxis.r2l(l.x)*y[0],v.yaxis.r2l(l.y)*y[1],v.zaxis.r2l(l.z)*y[2]]),p(w.graphDiv,l,r,w.id,l._xa,l._ya))}}},2468:function(G,U,e){var p=e(73972),L=e(71828);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:n,convert:e(5485),draw:e(82188)};function n(C,w){var v=p.subplotsRegistry.gl3d;if(v)for(var y=v.attrRegex,t=Object.keys(C),r=0;r<t.length;r++){var l=t[r];y.test(l)&&(C[l].annotations||[]).length&&(L.pushUnique(w._basePlotModules,v),L.pushUnique(w._subplots.gl3d,l))}}},7561:function(G,U,e){G.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(G,U,e){var p=e(7561),L=e(71828),n=e(50606),C=n.EPOCHJD,w=n.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},y=function(E,g,S,b){var i={};return i[S]=v,L.coerce(E,g,i,S,b)},t=function(E,g,S,b){for(var i=0;i<S.length;i++)y(E,g,S[i]+"calendar",b.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},s="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(E,g,S){for(var b=Math.floor((g+.05)/w)+C,i=h(S).fromJD(b),P=0,x,k,_,B,I;(P=E.indexOf("%",P))!==-1;)x=E.charAt(P+1),x==="0"||x==="-"||x==="_"?(_=3,k=E.charAt(P+2),x==="_"&&(x="-")):(k=x,x="0",_=2),B=c[k],B?(B===s?I=s:I=i.formatDate(B[x]),E=E.substr(0,P)+I+E.substr(P+_),P+=I.length):P+=_;return E}var m={};function h(E){var g=m[E];return g||(g=m[E]=p.instance(E),g)}function T(E){return L.extendFlat({},v,{description:E})}function f(E){return"Sets the calendar system to use with `"+E+"` date data."}var o={xcalendar:T(f("x"))},d=L.extendFlat({},o,{ycalendar:T(f("y"))}),M=L.extendFlat({},d,{zcalendar:T(f("z"))}),A=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:M,surface:M,mesh3d:M,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:y,handleTraceDefaults:t,CANONICAL_SUNDAY:l,CANONICAL_TICK:r,DFLTRANGE:a,getCal:h,worldCalFmt:u}},22399:function(G,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},7901:function(G,U,e){var p=e(84267),L=e(92770),n=e(73627).isTypedArray,C=G.exports={},w=e(22399);C.defaults=w.defaults;var v=C.defaultLine=w.defaultLine;C.lightLine=w.lightLine;var y=C.background=w.background;C.tinyRGB=function(r){var l=r.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},C.rgb=function(r){return C.tinyRGB(p(r))},C.opacity=function(r){return r?p(r).getAlpha():0},C.addOpacity=function(r,l){var a=p(r).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+l+")"},C.combine=function(r,l){var a=p(r).toRgb();if(a.a===1)return p(r).toRgbString();var s=p(l||y).toRgb(),c=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},u={r:c.r*(1-a.a)+a.r*a.a,g:c.g*(1-a.a)+a.g*a.a,b:c.b*(1-a.a)+a.b*a.a};return p(u).toRgbString()},C.contrast=function(r,l,a){var s=p(r);s.getAlpha()!==1&&(s=p(C.combine(r,y)));var c=s.isDark()?l?s.lighten(l):y:a?s.darken(a):v;return c.toString()},C.stroke=function(r,l){var a=p(l);r.style({stroke:C.tinyRGB(a),"stroke-opacity":a.getAlpha()})},C.fill=function(r,l){var a=p(l);r.style({fill:C.tinyRGB(a),"fill-opacity":a.getAlpha()})},C.clean=function(r){if(!(!r||typeof r!="object")){var l=Object.keys(r),a,s,c,u;for(a=0;a<l.length;a++)if(c=l[a],u=r[c],c.substr(c.length-5)==="color")if(Array.isArray(u))for(s=0;s<u.length;s++)u[s]=t(u[s]);else r[c]=t(u);else if(c.substr(c.length-10)==="colorscale"&&Array.isArray(u))for(s=0;s<u.length;s++)Array.isArray(u[s])&&(u[s][1]=t(u[s][1]));else if(Array.isArray(u)){var m=u[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(s=0;s<u.length;s++)C.clean(u[s])}else u&&typeof u=="object"&&!n(u)&&C.clean(u)}};function t(r){if(L(r)||typeof r!="string")return r;var l=r.trim();if(l.substr(0,3)!=="rgb")return r;var a=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return r;var s=a[1].trim().split(/\s*[\s,]\s*/),c=l.charAt(3)==="a"&&s.length===4;if(!c&&s.length!==3)return r;for(var u=0;u<s.length;u++){if(!s[u].length||(s[u]=Number(s[u]),!(s[u]>=0)))return r;if(u===3)s[u]>1&&(s[u]=1);else if(s[u]>=1)return r}var m=Math.round(s[0]*255)+", "+Math.round(s[1]*255)+", "+Math.round(s[2]*255);return c?"rgba("+m+", "+s[3]+")":"rgb("+m+")"}},63583:function(G,U,e){var p=e(13838),L=e(41940),n=e(1426).extendFlat,C=e(30962).overrideAll;G.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:n({},p.ticks,{dflt:""}),ticklabeloverflow:n({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(G,U,e){var p=e(71828),L=e(44467),n=e(26218),C=e(38701),w=e(96115),v=e(89426),y=e(63583);G.exports=function(r,l,a){var s=L.newContainer(l,"colorbar"),c=r.colorbar||{};function u(i,P){return p.coerce(c,s,y,i,P)}var m=a.margin||{t:0,b:0,l:0,r:0},h=a.width-m.l-m.r,T=a.height-m.t-m.b,f=u("orientation"),o=f==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(o?h:T):30);var M=u("lenmode");u("len",M==="fraction"?1:o?T:h),u("x",o?1.02:.5),u("xanchor",o?"left":"center"),u("xpad"),u("y",o?.5:1.02),u("yanchor",o?"middle":"bottom"),u("ypad"),p.noneOrAll(c,s,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var A=p.coerce(c,s,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",A.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(c,s,u,"linear");var E=a.font,g={outerTicks:!1,font:E};A.indexOf("inside")!==-1&&(g.bgColor="black"),v(c,s,u,"linear",g),w(c,s,u,"linear",g),C(c,s,u,"linear",g),u("title.text",a._dfltTitle.colorbar);var S=s.tickfont,b=p.extendFlat({},S,{color:E.color,size:p.bigFont(S.size)});p.coerceFont(u,"title.font",b),u("title.side",o?"top":"right")}},98981:function(G,U,e){var p=e(39898),L=e(84267),n=e(74875),C=e(73972),w=e(89298),v=e(28569),y=e(71828),t=y.strTranslate,r=e(1426).extendFlat,l=e(6964),a=e(91424),s=e(7901),c=e(92998),u=e(63893),m=e(52075).flipScale,h=e(71453),T=e(52830),f=e(13838),o=e(18783),d=o.LINE_SPACING,M=o.FROM_TL,A=o.FROM_BR,E=e(30939).cn;function g(k){var _=k._fullLayout,B=_._infolayer.selectAll("g."+E.colorbar).data(S(k),function(I){return I._id});B.enter().append("g").attr("class",function(I){return I._id}).classed(E.colorbar,!0),B.each(function(I){var z=p.select(this);y.ensureSingle(z,"rect",E.cbbg),y.ensureSingle(z,"g",E.cbfills),y.ensureSingle(z,"g",E.cblines),y.ensureSingle(z,"g",E.cbaxis,function(F){F.classed(E.crisp,!0)}),y.ensureSingle(z,"g",E.cbtitleunshift,function(F){F.append("g").classed(E.cbtitle,!0)}),y.ensureSingle(z,"rect",E.cboutline);var O=b(z,I,k);O&&O.then&&(k._promises||[]).push(O),k._context.edits.colorbarPosition&&i(z,I,k)}),B.exit().each(function(I){n.autoMargin(k,I._id)}).remove(),B.order()}function S(k){var _=k._fullLayout,B=k.calcdata,I=[],z,O,F,N;function Q(K){return r(K,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){typeof N.calc=="function"?N.calc(k,F,z):(z._fillgradient=O.reversescale?m(O.colorscale):O.colorscale,z._zrange=[O[N.min],O[N.max]])}for(var j=0;j<B.length;j++){var ee=B[j];F=ee[0].trace;var oe=F._module.colorbar;if(F.visible===!0&&oe)for(var Y=Array.isArray(oe),V=Y?oe:[oe],W=0;W<V.length;W++){N=V[W];var X=N.container;O=X?F[X]:F,O&&O.showscale&&(z=Q(O.colorbar),z._id="cb"+F.uid+(Y&&X?"-"+X:""),z._traceIndex=F.index,z._propPrefix=(X?X+".":"")+"colorbar.",z._meta=F._meta,$(),I.push(z))}}for(var re in _._colorAxes)if(O=_[re],O.showscale){var ie=_._colorAxes[re];z=Q(O.colorbar),z._id="cb"+re,z._propPrefix=re+".colorbar.",z._meta=_._meta,N={min:"cmin",max:"cmax"},ie[0]!=="heatmap"&&(F=ie[1],N.calc=F._module.colorbar.calc),$(),I.push(z)}return I}function b(k,_,B){var I=_.orientation==="v",z=_.len,O=_.lenmode,F=_.thickness,N=_.thicknessmode,Q=_.outlinewidth,$=_.borderwidth,j=_.bgcolor,ee=_.xanchor,oe=_.yanchor,Y=_.xpad,V=_.ypad,W=_.x,X=I?_.y:1-_.y,re=B._fullLayout,ie=re._size,K=_._fillcolor,q=_._line,le=_.title,ae=le.side,he=_._zrange||p.extent((typeof K=="function"?K:q.color).domain()),me=typeof q.color=="function"?q.color:function(){return q.color},Me=typeof K=="function"?K:function(){return K},xe=_._levels,Ie=P(B,_,he),_e=Ie.fill,Te=Ie.line,ye=Math.round(F*(N==="fraction"?I?ie.w:ie.h:1)),Ae=ye/(I?ie.w:ie.h),Be=Math.round(z*(O==="fraction"?I?ie.h:ie.w:1)),Ue=Be/(I?ie.h:ie.w),De=Math.round(I?W*ie.w+Y:X*ie.h+V),He={center:.5,right:1}[ee]||0,ut={top:1,middle:.5}[oe]||0,et=I?W-He*Ae:X-ut*Ae,Qe=I?X-ut*Ue:W-He*Ue,qe=Math.round(I?ie.h*(1-Qe):ie.w*Qe);_._lenFrac=Ue,_._thickFrac=Ae,_._uFrac=et,_._vFrac=Qe;var ft=_._axis=x(B,_,he);ft.position=Ae+(I?W+Y/ie.w:X+V/ie.h);var gt=["top","bottom"].indexOf(ae)!==-1;if(I&&gt&&(ft.title.side=ae,ft.titlex=W+Y/ie.w,ft.titley=Qe+(le.side==="top"?Ue-V/ie.h:V/ie.h)),!I&&!gt&&(ft.title.side=ae,ft.titley=X+V/ie.h,ft.titlex=Qe+Y/ie.w),q.color&&_.tickmode==="auto"){ft.tickmode="linear",ft.tick0=xe.start;var xt=xe.size,Ct=y.constrain(Be/50,4,15)+1,Je=(he[1]-he[0])/((_.nticks||Ct)*xt);if(Je>1){var ze=Math.pow(10,Math.floor(Math.log(Je)/Math.LN10));xt*=ze*y.roundUp(Je/ze,[2,5,10]),(Math.abs(xe.start)/xe.size+1e-6)%1<2e-6&&(ft.tick0=0)}ft.dtick=xt}ft.domain=I?[Qe+V/ie.h,Qe+Ue-V/ie.h]:[Qe+Y/ie.w,Qe+Ue-Y/ie.w],ft.setScale(),k.attr("transform",t(Math.round(ie.l),Math.round(ie.t)));var Fe=k.select("."+E.cbtitleunshift).attr("transform",t(-Math.round(ie.l),-Math.round(ie.t))),$e=ft.ticklabelposition,at=ft.title.font.size,Xe=k.select("."+E.cbaxis),Pe,we=0,ue=0;function ge(bt,Rt){var Ut={propContainer:ft,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:re._dfltTitle.colorbar,containerGroup:k.select("."+E.cbtitle)},Gt=bt.charAt(0)==="h"?bt.substr(1):"h"+bt;k.selectAll("."+Gt+",."+Gt+"-math-group").remove(),c.draw(B,bt,r(Ut,Rt||{}))}function Le(){if(I&&gt||!I&&!gt){var bt,Rt;ae==="top"&&(bt=Y+ie.l+ie.w*W,Rt=V+ie.t+ie.h*(1-Qe-Ue)+3+at*.75),ae==="bottom"&&(bt=Y+ie.l+ie.w*W,Rt=V+ie.t+ie.h*(1-Qe)-3-at*.25),ae==="right"&&(Rt=V+ie.t+ie.h*X+3+at*.75,bt=Y+ie.l+ie.w*Qe),ge(ft._id+"title",{attributes:{x:bt,y:Rt,"text-anchor":I?"start":"middle"}})}}function ke(){if(I&&!gt||!I&&gt){var bt=ft.position||0,Rt=ft._offset+ft._length/2,Ut,Gt;if(ae==="right")Gt=Rt,Ut=ie.l+ie.w*bt+10+at*(ft.showticklabels?1:.5);else if(Ut=Rt,ae==="bottom"&&(Gt=ie.t+ie.h*bt+10+($e.indexOf("inside")===-1?ft.tickfont.size:0)+(ft.ticks!=="intside"&&_.ticklen||0)),ae==="top"){var _t=le.text.split("<br>").length;Gt=ie.t+ie.h*bt+10-ye-d*at*_t}ge((I?"h":"v")+ft._id+"title",{avoid:{selection:p.select(B).selectAll("g."+ft._id+"tick"),side:ae,offsetTop:I?0:ie.t,offsetLeft:I?ie.l:0,maxShift:I?re.width:re.height},attributes:{x:Ut,y:Gt,"text-anchor":"middle"},transform:{rotate:I?-90:0,offset:0}})}}function it(){if(!I&&!gt||I&&gt){var bt=k.select("."+E.cbtitle),Rt=bt.select("text"),Ut=[-Q/2,Q/2],Gt=bt.select(".h"+ft._id+"title-math-group").node(),_t=15.6;Rt.node()&&(_t=parseInt(Rt.node().style.fontSize,10)*d);var nr;if(Gt?(nr=a.bBox(Gt),ue=nr.width,we=nr.height,we>_t&&(Ut[1]-=(we-_t)/2)):Rt.node()&&!Rt.classed(E.jsPlaceholder)&&(nr=a.bBox(Rt.node()),ue=nr.width,we=nr.height),I){if(we){if(we+=5,ae==="top")ft.domain[1]-=we/ie.h,Ut[1]*=-1;else{ft.domain[0]+=we/ie.h;var lr=u.lineCount(Rt);Ut[1]+=(1-lr)*_t}bt.attr("transform",t(Ut[0],Ut[1])),ft.setScale()}}else ue&&(ae==="right"&&(ft.domain[0]+=(ue+at/2)/ie.w),bt.attr("transform",t(Ut[0],Ut[1])),ft.setScale())}k.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",I?t(0,Math.round(ie.h*(1-ft.domain[1]))):t(Math.round(ie.w*ft.domain[0]),0)),Xe.attr("transform",I?t(0,Math.round(-ie.t)):t(Math.round(-ie.l),0));var zr=k.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(_e);zr.enter().append("rect").classed(E.cbfill,!0).style("stroke","none"),zr.exit().remove();var mt=he.map(ft.c2p).map(Math.round).sort(function(ct,ot){return ct-ot});zr.each(function(ct,ot){var wt=[ot===0?he[0]:(_e[ot]+_e[ot-1])/2,ot===_e.length-1?he[1]:(_e[ot]+_e[ot+1])/2].map(ft.c2p).map(Math.round);I&&(wt[1]=y.constrain(wt[1]+(wt[1]>wt[0])?1:-1,mt[0],mt[1]));var Mt=p.select(this).attr(I?"x":"y",De).attr(I?"y":"x",p.min(wt)).attr(I?"width":"height",Math.max(ye,2)).attr(I?"height":"width",Math.max(p.max(wt)-p.min(wt),2));if(_._fillgradient)a.gradient(Mt,B,_._id,I?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Dt=Me(ct).replace("e-","");Mt.attr("fill",L(Dt).toHexString())}});var jt=k.select("."+E.cblines).selectAll("path."+E.cbline).data(q.color&&q.width?Te:[]);jt.enter().append("path").classed(E.cbline,!0),jt.exit().remove(),jt.each(function(ct){var ot=De,wt=Math.round(ft.c2p(ct))+q.width/2%1;p.select(this).attr("d","M"+(I?ot+","+wt:wt+","+ot)+(I?"h":"v")+ye).call(a.lineGroupStyle,q.width,me(ct),q.dash)}),Xe.selectAll("g."+ft._id+"tick,path").remove();var Yt=De+ye+(Q||0)/2-(_.ticks==="outside"?1:0),wr=w.calcTicks(ft),dr=w.getTickSigns(ft)[2];return w.drawTicks(B,ft,{vals:ft.ticks==="inside"?w.clipEnds(ft,wr):wr,layer:Xe,path:w.makeTickPath(ft,Yt,dr),transFn:w.makeTransTickFn(ft)}),w.drawLabels(B,ft,{vals:wr,layer:Xe,transFn:w.makeTransTickLabelFn(ft),labelFns:w.makeLabelFns(ft,Yt)})}function lt(){var bt,Rt=ye+Q/2;$e.indexOf("inside")===-1&&(bt=a.bBox(Xe.node()),Rt+=I?bt.width:bt.height),Pe=Fe.select("text");var Ut=0,Gt=I&&ae==="top",_t=!I&&ae==="right",nr=0;if(Pe.node()&&!Pe.classed(E.jsPlaceholder)){var lr,zr=Fe.select(".h"+ft._id+"title-math-group").node();zr&&(I&&gt||!I&&!gt)?(bt=a.bBox(zr),Ut=bt.width,lr=bt.height):(bt=a.bBox(Fe.node()),Ut=bt.right-ie.l-(I?De:qe),lr=bt.bottom-ie.t-(I?qe:De),!I&&ae==="top"&&(Rt+=bt.height,nr=bt.height)),_t&&(Pe.attr("transform",t(Ut/2+at/2,0)),Ut*=2),Rt=Math.max(Rt,I?Ut:lr)}var mt=(I?Y:V)*2+Rt+$+Q/2,jt=0;!I&&le.text&&oe==="bottom"&&X<=0&&(jt=mt/2,mt+=jt,nr+=jt),re._hColorbarMoveTitle=jt,re._hColorbarMoveCBTitle=nr;var Yt=$+Q;k.select("."+E.cbbg).attr("x",(I?De:qe)-Yt/2-(I?Y:0)).attr("y",(I?qe:De)-(I?Be:V+nr-jt)).attr(I?"width":"height",Math.max(mt-jt,2)).attr(I?"height":"width",Math.max(Be+Yt,2)).call(s.fill,j).call(s.stroke,_.bordercolor).style("stroke-width",$);var wr=_t?Math.max(Ut-10,0):0;if(k.selectAll("."+E.cboutline).attr("x",(I?De:qe+Y)+wr).attr("y",(I?qe+V-Be:De)+(Gt?we:0)).attr(I?"width":"height",Math.max(ye,2)).attr(I?"height":"width",Math.max(Be-(I?2*V+we:2*Y+wr),2)).call(s.stroke,_.outlinecolor).style({fill:"none","stroke-width":Q}),k.attr("transform",t(ie.l-(I?He*mt:0),ie.t-(I?0:(1-ut)*mt-nr))),!I&&($||L(j).getAlpha()&&!L.equals(re.paper_bgcolor,j))){var dr=Xe.selectAll("text"),ct=dr[0].length,ot=k.select("."+E.cbbg).node(),wt=a.bBox(ot),Mt=a.getTranslate(k),Dt=2;dr.each(function(Mr,Ve){var Ge=0,Ft=ct-1;if(Ve===Ge||Ve===Ft){var kt=a.bBox(this),Zt=a.getTranslate(this),tr;if(Ve===Ft){var sr=kt.right+Zt.x,rr=wt.right+Mt.x+qe-$-Dt+W;tr=rr-sr,tr>0&&(tr=0)}else if(Ve===Ge){var Nt=kt.left+Zt.x,hr=wt.left+Mt.x+qe+$+Dt;tr=hr-Nt,tr<0&&(tr=0)}tr&&(ct<3?this.setAttribute("transform","translate("+tr+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var St={},Ot=M[ee],Vt=A[ee],Qt=M[oe],Kt=A[oe],or=mt-ye;I?(O==="pixels"?(St.y=X,St.t=Be*Qt,St.b=Be*Kt):(St.t=St.b=0,St.yt=X+z*Qt,St.yb=X-z*Kt),N==="pixels"?(St.x=W,St.l=mt*Ot,St.r=mt*Vt):(St.l=or*Ot,St.r=or*Vt,St.xl=W-F*Ot,St.xr=W+F*Vt)):(O==="pixels"?(St.x=W,St.l=Be*Ot,St.r=Be*Vt):(St.l=St.r=0,St.xl=W+z*Ot,St.xr=W-z*Vt),N==="pixels"?(St.y=1-X,St.t=mt*Qt,St.b=mt*Kt):(St.t=or*Qt,St.b=or*Kt,St.yt=X-F*Qt,St.yb=X+F*Kt)),n.autoMargin(B,_._id,St)}return y.syncOrAsync([n.previousPromises,Le,it,ke,n.previousPromises,lt],B)}function i(k,_,B){var I=_.orientation==="v",z=B._fullLayout,O=z._size,F,N,Q;v.init({element:k.node(),gd:B,prepFn:function(){F=k.attr("transform"),l(k)},moveFn:function($,j){k.attr("transform",F+t($,j)),N=v.align((I?_._uFrac:_._vFrac)+$/O.w,I?_._thickFrac:_._lenFrac,0,1,_.xanchor),Q=v.align((I?_._vFrac:1-_._uFrac)-j/O.h,I?_._lenFrac:_._thickFrac,0,1,_.yanchor);var ee=v.getCursor(N,Q,_.xanchor,_.yanchor);l(k,ee)},doneFn:function(){if(l(k),N!==void 0&&Q!==void 0){var $={};$[_._propPrefix+"x"]=N,$[_._propPrefix+"y"]=Q,_._traceIndex!==void 0?C.call("_guiRestyle",B,$,_._traceIndex):C.call("_guiRelayout",B,$)}}})}function P(k,_,B){var I=_._levels,z=[],O=[],F,N,Q=I.end+I.size/100,$=I.size,j=1.001*B[0]-.001*B[1],ee=1.001*B[1]-.001*B[0];for(N=0;N<1e5&&(F=I.start+N*$,!($>0?F>=Q:F<=Q));N++)F>j&&F<ee&&z.push(F);if(_._fillgradient)O=[0];else if(typeof _._fillcolor=="function"){var oe=_._filllevels;if(oe)for(Q=oe.end+oe.size/100,$=oe.size,N=0;N<1e5&&(F=oe.start+N*$,!($>0?F>=Q:F<=Q));N++)F>B[0]&&F<B[1]&&O.push(F);else O=z.map(function(Y){return Y-I.size/2}),O.push(O[O.length-1]+I.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(O=[0]);return I.size<0&&(z.reverse(),O.reverse()),{line:z,fill:O}}function x(k,_,B){var I=k._fullLayout,z=_.orientation==="v",O={type:"linear",range:B,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},F=z?"y":"x",N={type:"linear",_id:F+_._id},Q={letter:F,font:I.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:I.calendar};function $(j,ee){return y.coerce(O,N,f,j,ee)}return h(O,N,$,Q,I),T(O,N,$,Q),N}G.exports={draw:g}},76228:function(G,U,e){var p=e(71828);G.exports=function(n){return p.isPlainObject(n.colorbar)}},12311:function(G,U,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(G,U,e){var p=e(63583),L=e(30587).counter,n=e(78607),C=e(63282).scales;n(C),G.exports=function(v,y){v=v||"",y=y||{};var t=y.cLetter||"c";"onlyIfNumerical"in y&&y.onlyIfNumerical;var r="noScale"in y?y.noScale:v==="marker.line",l="showScaleDflt"in y?y.showScaleDflt:t==="z",a=typeof y.colorscaleDflt=="string"?C[y.colorscaleDflt]:null,s=y.editTypeOverride||"",c;"colorAttr"in y?(c=y.colorAttr,y.colorAttr):c={z:"z",c:"color"}[t];var u=t+"auto",m=t+"min",h=t+"max",T=t+"mid",f={};f[m]=f[h]=void 0;var o={};o[u]=!1;var d={};return c==="color"&&(d.color={valType:"color",arrayOk:!0,editType:s||"style"},y.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},d[m]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},d.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:y.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:l,editType:"calc"},d.colorbar=p),y.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(G,U,e){var p=e(92770),L=e(71828),n=e(52075).extractOpts;G.exports=function(w,v,y){var t=w._fullLayout,r=y.vals,l=y.containerStr,a=l?L.nestedProperty(v,l).get():v,s=n(a),c=s.auto!==!1,u=s.min,m=s.max,h=s.mid,T=function(){return L.aggNums(Math.min,null,r)},f=function(){return L.aggNums(Math.max,null,r)};if(u===void 0?u=T():c&&(a._colorAx&&p(u)?u=Math.min(u,T()):u=T()),m===void 0?m=f():c&&(a._colorAx&&p(m)?m=Math.max(m,f()):m=f()),c&&h!==void 0&&(m-h>h-u?u=h-(m-h):m-h<h-u&&(m=h+(h-u))),u===m&&(u-=.5,m+=.5),s._sync("min",u),s._sync("max",m),s.autocolorscale){var o;u*m<0?o=t.colorscale.diverging:u>=0?o=t.colorscale.sequential:o=t.colorscale.sequentialminus,s._sync("colorscale",o)}}},33046:function(G,U,e){var p=e(71828),L=e(52075).hasColorscale,n=e(52075).extractOpts;G.exports=function(w,v){function y(u,m){var h=u["_"+m];h!==void 0&&(u[m]=h)}function t(u,m){var h=m.container?p.nestedProperty(u,m.container).get():u;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=n(h),f=T.auto;(f||T.min===void 0)&&y(h,m.min),(f||T.max===void 0)&&y(h,m.max),T.autocolorscale&&y(h,"colorscale")}}for(var r=0;r<w.length;r++){var l=w[r],a=l._module.colorbar;if(a)if(Array.isArray(a))for(var s=0;s<a.length;s++)t(l,a[s]);else t(l,a);L(l,"marker.line")&&t(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in v._colorAxes)t(v[c],{min:"cmin",max:"cmax"})}},1586:function(G,U,e){var p=e(92770),L=e(71828),n=e(76228),C=e(62499),w=e(63282).isValid,v=e(73972).traceIs;function y(t,r){var l=r.slice(0,r.length-1);return r?L.nestedProperty(t,l).get()||{}:t}G.exports=function t(r,l,a,s,c){var u=c.prefix,m=c.cLetter,h="_module"in l,T=y(r,u),f=y(l,u),o=y(l._template||{},u)||{},d=function(){return delete r.coloraxis,delete l.coloraxis,t(r,l,a,s,c)};if(h){var M=a._colorAxes||{},A=s(u+"coloraxis");if(A){var E=v(l,"contour")&&L.nestedProperty(l,"contours.coloring").get()||"heatmap",g=M[A];g?(g[2].push(d),g[0]!==E&&(g[0]=!1,L.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[A]=[E,l,[d]];return}}var S=T[m+"min"],b=T[m+"max"],i=p(S)&&p(b)&&S<b,P=s(u+m+"auto",!i);P?s(u+m+"mid"):(s(u+m+"min"),s(u+m+"max"));var x=T.colorscale,k=o.colorscale,_;if(x!==void 0&&(_=!w(x)),k!==void 0&&(_=!w(k)),s(u+"autocolorscale",_),s(u+"colorscale"),s(u+"reversescale"),u!=="marker.line."){var B;u&&h&&(B=n(T));var I=s(u+"showscale",B);I&&(u&&o&&(f._template=o),C(T,f,a))}}},52075:function(G,U,e){var p=e(39898),L=e(84267),n=e(92770),C=e(71828),w=e(7901),v=e(63282).isValid;function y(h,T,f){var o=T?C.nestedProperty(h,T).get()||{}:h,d=o[f||"color"],M=!1;if(C.isArrayOrTypedArray(d)){for(var A=0;A<d.length;A++)if(n(d[A])){M=!0;break}}return C.isPlainObject(o)&&(M||o.showscale===!0||n(o.cmin)&&n(o.cmax)||v(o.colorscale)||C.isPlainObject(o.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function l(h){var T=h._colorAx,f=T||h,o={},d,M,A;for(M=0;M<t.length;M++)A=t[M],o[A]=f[A];if(T)for(d="c",M=0;M<r.length;M++)A=r[M],o[A]=f["c"+A];else{var E;for(M=0;M<r.length;M++){if(A=r[M],E="c"+A,E in f){o[A]=f[E];continue}E="z"+A,E in f&&(o[A]=f[E])}d=E.charAt(0)}return o._sync=function(g,S){var b=r.indexOf(g)!==-1?d+g:g;f[b]=f["_"+b]=S},o}function a(h){for(var T=l(h),f=T.min,o=T.max,d=T.reversescale?s(T.colorscale):T.colorscale,M=d.length,A=new Array(M),E=new Array(M),g=0;g<M;g++){var S=d[g];A[g]=f+S[0]*(o-f),E[g]=S[1]}return{domain:A,range:E}}function s(h){for(var T=h.length,f=new Array(T),o=T-1,d=0;o>=0;o--,d++){var M=h[o];f[d]=[1-M[0],M[1]]}return f}function c(h,T){T=T||{};for(var f=h.domain,o=h.range,d=o.length,M=new Array(d),A=0;A<d;A++){var E=L(o[A]).toRgb();M[A]=[E.r,E.g,E.b,E.a]}var g=p.scale.linear().domain(f).range(M).clamp(!0),S=T.noNumericCheck,b=T.returnArray,i;return S&&b?i=g:S?i=function(P){return m(g(P))}:b?i=function(P){return n(P)?g(P):L(P).isValid()?P:w.defaultLine}:i=function(P){return n(P)?m(g(P)):L(P).isValid()?P:w.defaultLine},i.domain=g.domain,i.range=function(){return o},i}function u(h,T){return c(a(h),T)}function m(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return L(T).toRgbString()}G.exports={hasColorscale:y,extractOpts:l,extractScale:a,flipScale:s,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:u}},21081:function(G,U,e){var p=e(63282),L=e(52075);G.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},72673:function(G,U,e){var p=e(1426).extendFlat,L=e(50693),n=e(63282).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(G,U,e){var p=e(71828),L=e(44467),n=e(72673),C=e(1586);G.exports=function(v,y){function t(h,T){return p.coerce(v,y,n,h,T)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=y._colorAxes,l,a;function s(h,T){return p.coerce(l,a,n.coloraxis,h,T)}for(var c in r){var u=r[c];if(u[0])l=v[c]||{},a=L.newContainer(y,c,"coloraxis"),a._name=c,C(l,a,y,s,{prefix:"",cLetter:"c"});else{for(var m=0;m<u[2].length;m++)u[2][m]();delete y._colorAxes[c]}}}},63282:function(G,U,e){var p=e(84267),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=L.RdBu;function C(y,t){if(t||(t=n),!y)return t;function r(){try{y=L[y]||JSON.parse(y)}catch{y=t}}return typeof y=="string"&&(r(),typeof y=="string"&&r()),w(y)?y:t}function w(y){var t=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var r=0;r<y.length;r++){var l=y[r];if(l.length!==2||+l[0]<t||!p(l[1]).isValid())return!1;t=+l[0]}return!0}function v(y){return L[y]!==void 0?!0:w(y)}G.exports={scales:L,defaultScale:n,get:C,isValid:v}},92807:function(G){G.exports=function(e,p,L,n,C){var w=(e-L)/(n-L),v=w+p/(n-L),y=(w+v)/2;return C==="left"||C==="bottom"?w:C==="center"||C==="middle"?y:C==="right"||C==="top"?v:w<.6666666666666666-y?w:v>1.3333333333333333-y?v:y}},70461:function(G,U,e){var p=e(71828),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(C,w,v,y){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),y==="bottom"?w=0:y==="middle"?w=1:y==="top"?w=2:w=p.constrain(Math.floor(w*3),0,2),L[w][C]}},64505:function(G,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},28569:function(G,U,e){var p=e(48956),L=e(57035),n=e(38520),C=e(71828).removeElement,w=e(85555),v=G.exports={};v.align=e(92807),v.getCursor=e(70461);var y=e(26041);v.unhover=y.wrapped,v.unhoverRaw=y.raw,v.init=function(a){var s=a.gd,c=1,u=s._context.doubleClickDelay,m=a.element,h,T,f,o,d,M,A,E;s._mouseDownTime||(s._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=b,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=b,m.addEventListener("touchstart",b,{passive:!1})):m.ontouchstart=b;function g(x,k,_){return Math.abs(x)<_&&(x=0),Math.abs(k)<_&&(k=0),[x,k]}var S=a.clampFn||g;function b(x){s._dragged=!1,s._dragging=!0;var k=r(x);h=k[0],T=k[1],A=x.target,M=x,E=x.buttons===2||x.ctrlKey,typeof x.clientX>"u"&&typeof x.clientY>"u"&&(x.clientX=h,x.clientY=T),f=new Date().getTime(),f-s._mouseDownTime<u?c+=1:(c=1,s._mouseDownTime=f),a.prepFn&&a.prepFn(x,h,T),L&&!E?(d=t(),d.style.cursor=window.getComputedStyle(m).cursor):L||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",P),document.addEventListener("touchend",P),a.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(x){x.preventDefault();var k=r(x),_=a.minDrag||w.MINDRAG,B=S(k[0]-h,k[1]-T,_),I=B[0],z=B[1];(I||z)&&(s._dragged=!0,v.unhover(s,x)),s._dragged&&a.moveFn&&!E&&(s._dragdata={element:m,dx:I,dy:z},a.moveFn(I,z))}function P(x){if(delete s._dragdata,a.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",P),document.removeEventListener("touchend",P),L?C(d):o&&(d.documentElement.style.cursor=o,o=null),!s._dragging){s._dragged=!1;return}if(s._dragging=!1,new Date().getTime()-s._mouseDownTime>u&&(c=Math.max(c-1,1)),s._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(c,M),!E){var k;try{k=new MouseEvent("click",x)}catch{var _=r(x);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",x.bubbles,x.cancelable,x.view,x.detail,x.screenX,x.screenY,_[0],_[1],x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,x.relatedTarget)}A.dispatchEvent(k)}s._dragging=!1,s._dragged=!1}};function t(){var l=document.createElement("div");l.className="dragcover";var a=l.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(l),l}v.coverSlip=t;function r(l){return p(l.changedTouches?l.changedTouches[0]:l,document.body)}},26041:function(G,U,e){var p=e(11086),L=e(79990),n=e(24401).getGraphDiv,C=e(26675),w=G.exports={};w.wrapped=function(v,y,t){v=n(v),v._fullLayout&&L.clear(v._fullLayout._uid+C.HOVERID),w.raw(v,y,t)},w.raw=function(y,t){var r=y._fullLayout,l=y._hoverdata;t||(t={}),!(t.target&&!y._dragged&&p.triggerHandler(y,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,t.target&&l&&y.emit("plotly_unhover",{event:t,points:l}))}},79952:function(G,U){U.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(G,U,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(92770),w=e(84267),v=e(73972),y=e(7901),t=e(21081),r=L.strTranslate,l=e(63893),a=e(77922),s=e(18783),c=s.LINE_SPACING,u=e(37822).DESELECTDIM,m=e(34098),h=e(39984),T=e(23469).appendArrayPointValue,f=G.exports={};f.font=function(Te,ye,Ae,Be){L.isPlainObject(ye)&&(Be=ye.color,Ae=ye.size,ye=ye.family),ye&&Te.style("font-family",ye),Ae+1&&Te.style("font-size",Ae+"px"),Be&&Te.call(y.fill,Be)},f.setPosition=function(Te,ye,Ae){Te.attr("x",ye).attr("y",Ae)},f.setSize=function(Te,ye,Ae){Te.attr("width",ye).attr("height",Ae)},f.setRect=function(Te,ye,Ae,Be,Ue){Te.call(f.setPosition,ye,Ae).call(f.setSize,Be,Ue)},f.translatePoint=function(Te,ye,Ae,Be){var Ue=Ae.c2p(Te.x),De=Be.c2p(Te.y);if(C(Ue)&&C(De)&&ye.node())ye.node().nodeName==="text"?ye.attr("x",Ue).attr("y",De):ye.attr("transform",r(Ue,De));else return!1;return!0},f.translatePoints=function(Te,ye,Ae){Te.each(function(Be){var Ue=p.select(this);f.translatePoint(Be,Ue,ye,Ae)})},f.hideOutsideRangePoint=function(Te,ye,Ae,Be,Ue,De){ye.attr("display",Ae.isPtWithinRange(Te,Ue)&&Be.isPtWithinRange(Te,De)?null:"none")},f.hideOutsideRangePoints=function(Te,ye){if(ye._hasClipOnAxisFalse){var Ae=ye.xaxis,Be=ye.yaxis;Te.each(function(Ue){var De=Ue[0].trace,He=De.xcalendar,ut=De.ycalendar,et=v.traceIs(De,"bar-like")?".bartext":".point,.textpoint";Te.selectAll(et).each(function(Qe){f.hideOutsideRangePoint(Qe,p.select(this),Ae,Be,He,ut)})})}},f.crispRound=function(Te,ye,Ae){return!ye||!C(ye)?Ae||0:Te._context.staticPlot?ye:ye<1?1:Math.round(ye)},f.singleLineStyle=function(Te,ye,Ae,Be,Ue){ye.style("fill","none");var De=(((Te||[])[0]||{}).trace||{}).line||{},He=Ae||De.width||0,ut=Ue||De.dash||"";y.stroke(ye,Be||De.color),f.dashLine(ye,ut,He)},f.lineGroupStyle=function(Te,ye,Ae,Be){Te.style("fill","none").each(function(Ue){var De=(((Ue||[])[0]||{}).trace||{}).line||{},He=ye||De.width||0,ut=Be||De.dash||"";p.select(this).call(y.stroke,Ae||De.color).call(f.dashLine,ut,He)})},f.dashLine=function(Te,ye,Ae){Ae=+Ae||0,ye=f.dashStyle(ye,Ae),Te.style({"stroke-dasharray":ye,"stroke-width":Ae+"px"})},f.dashStyle=function(Te,ye){ye=+ye||1;var Ae=Math.max(ye,3);return Te==="solid"?Te="":Te==="dot"?Te=Ae+"px,"+Ae+"px":Te==="dash"?Te=3*Ae+"px,"+3*Ae+"px":Te==="longdash"?Te=5*Ae+"px,"+5*Ae+"px":Te==="dashdot"?Te=3*Ae+"px,"+Ae+"px,"+Ae+"px,"+Ae+"px":Te==="longdashdot"&&(Te=5*Ae+"px,"+2*Ae+"px,"+Ae+"px,"+2*Ae+"px"),Te};function o(Te,ye,Ae){var Be=ye.fillpattern,Ue=Be&&f.getPatternAttr(Be.shape,0,"");if(Ue){var De=f.getPatternAttr(Be.bgcolor,0,null),He=f.getPatternAttr(Be.fgcolor,0,null),ut=Be.fgopacity,et=f.getPatternAttr(Be.size,0,8),Qe=f.getPatternAttr(Be.solidity,0,.3),qe=ye.uid;f.pattern(Te,"point",Ae,qe,Ue,et,Qe,void 0,Be.fillmode,De,He,ut)}else ye.fillcolor&&Te.call(y.fill,ye.fillcolor)}f.singleFillStyle=function(Te,ye){var Ae=p.select(Te.node()),Be=Ae.data(),Ue=((Be[0]||[])[0]||{}).trace||{};o(Te,Ue,ye)},f.fillGroupStyle=function(Te,ye){Te.style("stroke-width",0).each(function(Ae){var Be=p.select(this);Ae[0].trace&&o(Be,Ae[0].trace,ye)})};var d=e(90998);f.symbolNames=[],f.symbolFuncs=[],f.symbolBackOffs=[],f.symbolNeedLines={},f.symbolNoDot={},f.symbolNoFill={},f.symbolList=[],Object.keys(d).forEach(function(Te){var ye=d[Te],Ae=ye.n;f.symbolList.push(Ae,String(Ae),Te,Ae+100,String(Ae+100),Te+"-open"),f.symbolNames[Ae]=Te,f.symbolFuncs[Ae]=ye.f,f.symbolBackOffs[Ae]=ye.backoff||0,ye.needLine&&(f.symbolNeedLines[Ae]=!0),ye.noDot?f.symbolNoDot[Ae]=!0:f.symbolList.push(Ae+200,String(Ae+200),Te+"-dot",Ae+300,String(Ae+300),Te+"-open-dot"),ye.noFill&&(f.symbolNoFill[Ae]=!0)});var M=f.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";f.symbolNumber=function(Te){if(C(Te))Te=+Te;else if(typeof Te=="string"){var ye=0;Te.indexOf("-open")>0&&(ye=100,Te=Te.replace("-open","")),Te.indexOf("-dot")>0&&(ye+=200,Te=Te.replace("-dot","")),Te=f.symbolNames.indexOf(Te),Te>=0&&(Te+=ye)}return Te%100>=M||Te>=400?0:Math.floor(Math.max(Te,0))};function E(Te,ye,Ae,Be){var Ue=Te%100;return f.symbolFuncs[Ue](ye,Ae,Be)+(Te>=200?A:"")}var g={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},b=n("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:g},horizontalreversed:{node:"linearGradient",attrs:g,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};f.gradient=function(Te,ye,Ae,Be,Ue,De){for(var He=Ue.length,ut=i[Be],et=new Array(He),Qe=0;Qe<He;Qe++)ut.reversed?et[He-1-Qe]=[b((1-Ue[Qe][0])*100),Ue[Qe][1]]:et[Qe]=[b(Ue[Qe][0]*100),Ue[Qe][1]];var qe=ye._fullLayout,ft="g"+qe._uid+"-"+Ae,gt=qe._defs.select(".gradients").selectAll("#"+ft).data([Be+et.join(";")],L.identity);gt.exit().remove(),gt.enter().append(ut.node).each(function(){var xt=p.select(this);ut.attrs&&xt.attr(ut.attrs),xt.attr("id",ft);var Ct=xt.selectAll("stop").data(et);Ct.exit().remove(),Ct.enter().append("stop"),Ct.each(function(Je){var ze=w(Je[1]);p.select(this).attr({offset:Je[0]+"%","stop-color":y.tinyRGB(ze),"stop-opacity":ze.getAlpha()})})}),Te.style(De,V(ft,ye)).style(De+"-opacity",null),Te.classed("gradient_filled",!0)},f.pattern=function(Te,ye,Ae,Be,Ue,De,He,ut,et,Qe,qe,ft){var gt=ye==="legend";ut&&(et==="overlay"?(Qe=ut,qe=y.contrast(Qe)):(Qe=void 0,qe=ut));var xt=Ae._fullLayout,Ct="p"+xt._uid+"-"+Be,Je,ze,Fe=function(bt,Rt,Ut,Gt,_t){return Gt+(_t-Gt)*(bt-Rt)/(Ut-Rt)},$e,at,Xe,Pe,we={},ue=w(qe),ge=y.tinyRGB(ue),Le=ue.getAlpha(),ke=ft*Le;switch(Ue){case"/":Je=De*Math.sqrt(2),ze=De*Math.sqrt(2),$e="M-"+Je/4+","+ze/4+"l"+Je/2+",-"+ze/2+"M0,"+ze+"L"+Je+",0M"+Je/4*3+","+ze/4*5+"l"+Je/2+",-"+ze/2,at=He*De,Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case"\\":Je=De*Math.sqrt(2),ze=De*Math.sqrt(2),$e="M"+Je/4*3+",-"+ze/4+"l"+Je/2+","+ze/2+"M0,0L"+Je+","+ze+"M-"+Je/4+","+ze/4*3+"l"+Je/2+","+ze/2,at=He*De,Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case"x":Je=De*Math.sqrt(2),ze=De*Math.sqrt(2),$e="M-"+Je/4+","+ze/4+"l"+Je/2+",-"+ze/2+"M0,"+ze+"L"+Je+",0M"+Je/4*3+","+ze/4*5+"l"+Je/2+",-"+ze/2+"M"+Je/4*3+",-"+ze/4+"l"+Je/2+","+ze/2+"M0,0L"+Je+","+ze+"M-"+Je/4+","+ze/4*3+"l"+Je/2+","+ze/2,at=De-De*Math.sqrt(1-He),Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case"|":Je=De,ze=De,Pe="path",$e="M"+Je/2+",0L"+Je/2+","+ze,at=He*De,Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case"-":Je=De,ze=De,Pe="path",$e="M0,"+ze/2+"L"+Je+","+ze/2,at=He*De,Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case"+":Je=De,ze=De,Pe="path",$e="M"+Je/2+",0L"+Je/2+","+ze+"M0,"+ze/2+"L"+Je+","+ze/2,at=De-De*Math.sqrt(1-He),Pe="path",we={d:$e,opacity:ke,stroke:ge,"stroke-width":at+"px"};break;case".":Je=De,ze=De,He<Math.PI/4?Xe=Math.sqrt(He*De*De/Math.PI):Xe=Fe(He,Math.PI/4,1,De/2,De/Math.sqrt(2)),Pe="circle",we={cx:Je/2,cy:ze/2,r:Xe,opacity:ke,fill:ge};break}var it=[Ue||"noSh",Qe||"noBg",qe||"noFg",De,He].join(";"),lt=xt._defs.select(".patterns").selectAll("#"+Ct).data([it],L.identity);lt.exit().remove(),lt.enter().append("pattern").each(function(){var bt=p.select(this);if(bt.attr({id:Ct,width:Je+"px",height:ze+"px",patternUnits:"userSpaceOnUse",patternTransform:gt?"scale(0.8)":""}),Qe){var Rt=w(Qe),Ut=y.tinyRGB(Rt),Gt=Rt.getAlpha(),_t=bt.selectAll("rect").data([0]);_t.exit().remove(),_t.enter().append("rect").attr({width:Je+"px",height:ze+"px",fill:Ut,"fill-opacity":Gt})}var nr=bt.selectAll(Pe).data([0]);nr.exit().remove(),nr.enter().append(Pe).attr(we)}),Te.style("fill",V(Ct,Ae)).style("fill-opacity",null),Te.classed("pattern_filled",!0)},f.initGradients=function(Te){var ye=Te._fullLayout,Ae=L.ensureSingle(ye._defs,"g","gradients");Ae.selectAll("linearGradient,radialGradient").remove(),p.select(Te).selectAll(".gradient_filled").classed("gradient_filled",!1)},f.initPatterns=function(Te){var ye=Te._fullLayout,Ae=L.ensureSingle(ye._defs,"g","patterns");Ae.selectAll("pattern").remove(),p.select(Te).selectAll(".pattern_filled").classed("pattern_filled",!1)},f.getPatternAttr=function(Te,ye,Ae){return Te&&L.isArrayOrTypedArray(Te)?ye<Te.length?Te[ye]:Ae:Te},f.pointStyle=function(Te,ye,Ae){if(Te.size()){var Be=f.makePointStyleFns(ye);Te.each(function(Ue){f.singlePointStyle(Ue,p.select(this),ye,Be,Ae)})}},f.singlePointStyle=function(Te,ye,Ae,Be,Ue){var De=Ae.marker,He=De.line;if(ye.style("opacity",Be.selectedOpacityFn?Be.selectedOpacityFn(Te):Te.mo===void 0?De.opacity:Te.mo),Be.ms2mrc){var ut;Te.ms==="various"||De.size==="various"?ut=3:ut=Be.ms2mrc(Te.ms),Te.mrc=ut,Be.selectedSizeFn&&(ut=Te.mrc=Be.selectedSizeFn(Te));var et=f.symbolNumber(Te.mx||De.symbol)||0;Te.om=et%200>=100;var Qe=_e(Te,Ae),qe=re(Te,Ae);ye.attr("d",E(et,ut,Qe,qe))}var ft=!1,gt,xt,Ct;if(Te.so)Ct=He.outlierwidth,xt=He.outliercolor,gt=De.outliercolor;else{var Je=(He||{}).width;Ct=(Te.mlw+1||Je+1||(Te.trace?(Te.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Te?xt=Te.mlcc=Be.lineScale(Te.mlc):L.isArrayOrTypedArray(He.color)?xt=y.defaultLine:xt=He.color,L.isArrayOrTypedArray(De.color)&&(gt=y.defaultLine,ft=!0),"mc"in Te?gt=Te.mcc=Be.markerScale(Te.mc):gt=De.color||"rgba(0,0,0,0)",Be.selectedColorFn&&(gt=Be.selectedColorFn(Te))}if(Te.om)ye.call(y.stroke,gt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{ye.style("stroke-width",(Te.isBlank?0:Ct)+"px");var ze=De.gradient,Fe=Te.mgt;Fe?ft=!0:Fe=ze&&ze.type,L.isArrayOrTypedArray(Fe)&&(Fe=Fe[0],i[Fe]||(Fe=0));var $e=De.pattern,at=$e&&f.getPatternAttr($e.shape,Te.i,"");if(Fe&&Fe!=="none"){var Xe=Te.mgc;Xe?ft=!0:Xe=ze.color;var Pe=Ae.uid;ft&&(Pe+="-"+Te.i),f.gradient(ye,Ue,Pe,Fe,[[0,Xe],[1,gt]],"fill")}else if(at){var we=f.getPatternAttr($e.bgcolor,Te.i,null),ue=f.getPatternAttr($e.fgcolor,Te.i,null),ge=$e.fgopacity,Le=f.getPatternAttr($e.size,Te.i,8),ke=f.getPatternAttr($e.solidity,Te.i,.3),it=Te.mcc||L.isArrayOrTypedArray($e.shape)||L.isArrayOrTypedArray($e.bgcolor)||L.isArrayOrTypedArray($e.size)||L.isArrayOrTypedArray($e.solidity),lt=Ae.uid;it&&(lt+="-"+Te.i),f.pattern(ye,"point",Ue,lt,at,Le,ke,Te.mcc,$e.fillmode,we,ue,ge)}else y.fill(ye,gt);Ct&&y.stroke(ye,xt)}},f.makePointStyleFns=function(Te){var ye={},Ae=Te.marker;return ye.markerScale=f.tryColorscale(Ae,""),ye.lineScale=f.tryColorscale(Ae,"line"),v.traceIs(Te,"symbols")&&(ye.ms2mrc=m.isBubble(Te)?h(Te):function(){return(Ae.size||6)/2}),Te.selectedpoints&&L.extendFlat(ye,f.makeSelectedPointStyleFns(Te)),ye},f.makeSelectedPointStyleFns=function(Te){var ye={},Ae=Te.selected||{},Be=Te.unselected||{},Ue=Te.marker||{},De=Ae.marker||{},He=Be.marker||{},ut=Ue.opacity,et=De.opacity,Qe=He.opacity,qe=et!==void 0,ft=Qe!==void 0;(L.isArrayOrTypedArray(ut)||qe||ft)&&(ye.selectedOpacityFn=function(Xe){var Pe=Xe.mo===void 0?Ue.opacity:Xe.mo;return Xe.selected?qe?et:Pe:ft?Qe:u*Pe});var gt=Ue.color,xt=De.color,Ct=He.color;(xt||Ct)&&(ye.selectedColorFn=function(Xe){var Pe=Xe.mcc||gt;return Xe.selected?xt||Pe:Ct||Pe});var Je=Ue.size,ze=De.size,Fe=He.size,$e=ze!==void 0,at=Fe!==void 0;return v.traceIs(Te,"symbols")&&($e||at)&&(ye.selectedSizeFn=function(Xe){var Pe=Xe.mrc||Je/2;return Xe.selected?$e?ze/2:Pe:at?Fe/2:Pe}),ye},f.makeSelectedTextStyleFns=function(Te){var ye={},Ae=Te.selected||{},Be=Te.unselected||{},Ue=Te.textfont||{},De=Ae.textfont||{},He=Be.textfont||{},ut=Ue.color,et=De.color,Qe=He.color;return ye.selectedTextColorFn=function(qe){var ft=qe.tc||ut;return qe.selected?et||ft:Qe||(et?ft:y.addOpacity(ft,u))},ye},f.selectedPointStyle=function(Te,ye){if(!(!Te.size()||!ye.selectedpoints)){var Ae=f.makeSelectedPointStyleFns(ye),Be=ye.marker||{},Ue=[];Ae.selectedOpacityFn&&Ue.push(function(De,He){De.style("opacity",Ae.selectedOpacityFn(He))}),Ae.selectedColorFn&&Ue.push(function(De,He){y.fill(De,Ae.selectedColorFn(He))}),Ae.selectedSizeFn&&Ue.push(function(De,He){var ut=He.mx||Be.symbol||0,et=Ae.selectedSizeFn(He);De.attr("d",E(f.symbolNumber(ut),et,_e(He,ye),re(He,ye))),He.mrc2=et}),Ue.length&&Te.each(function(De){for(var He=p.select(this),ut=0;ut<Ue.length;ut++)Ue[ut](He,De)})}},f.tryColorscale=function(Te,ye){var Ae=ye?L.nestedProperty(Te,ye).get():Te;if(Ae){var Be=Ae.color;if((Ae.colorscale||Ae._colorAx)&&L.isArrayOrTypedArray(Be))return t.makeColorScaleFuncFromTrace(Ae)}return L.identity};var P={start:1,end:-1,middle:0,bottom:1,top:-1};function x(Te,ye,Ae,Be,Ue){var De=p.select(Te.node().parentNode),He=ye.indexOf("top")!==-1?"top":ye.indexOf("bottom")!==-1?"bottom":"middle",ut=ye.indexOf("left")!==-1?"end":ye.indexOf("right")!==-1?"start":"middle",et=Be?Be/.8+1:0,Qe=(l.lineCount(Te)-1)*c+1,qe=P[ut]*et,ft=Ae*.75+P[He]*et+(P[He]-1)*Qe*Ae/2;Te.attr("text-anchor",ut),Ue||De.attr("transform",r(qe,ft))}function k(Te,ye){var Ae=Te.ts||ye.textfont.size;return C(Ae)&&Ae>0?Ae:0}f.textPointStyle=function(Te,ye,Ae){if(Te.size()){var Be;if(ye.selectedpoints){var Ue=f.makeSelectedTextStyleFns(ye);Be=Ue.selectedTextColorFn}var De=ye.texttemplate,He=Ae._fullLayout;Te.each(function(ut){var et=p.select(this),Qe=De?L.extractOption(ut,ye,"txt","texttemplate"):L.extractOption(ut,ye,"tx","text");if(!Qe&&Qe!==0){et.remove();return}if(De){var qe=ye._module.formatLabels,ft=qe?qe(ut,ye,He):{},gt={};T(gt,ye,ut.i);var xt=ye._meta||{};Qe=L.texttemplateString(Qe,ft,He._d3locale,gt,ut,xt)}var Ct=ut.tp||ye.textposition,Je=k(ut,ye),ze=Be?Be(ut):ut.tc||ye.textfont.color;et.call(f.font,ut.tf||ye.textfont.family,Je,ze).text(Qe).call(l.convertToTspans,Ae).call(x,Ct,Je,ut.mrc)})}},f.selectedTextStyle=function(Te,ye){if(!(!Te.size()||!ye.selectedpoints)){var Ae=f.makeSelectedTextStyleFns(ye);Te.each(function(Be){var Ue=p.select(this),De=Ae.selectedTextColorFn(Be),He=Be.tp||ye.textposition,ut=k(Be,ye);y.fill(Ue,De);var et=v.traceIs(ye,"bar-like");x(Ue,He,ut,Be.mrc2||Be.mrc,et)})}};var _=.5;f.smoothopen=function(Te,ye){if(Te.length<3)return"M"+Te.join("L");var Ae="M"+Te[0],Be=[],Ue;for(Ue=1;Ue<Te.length-1;Ue++)Be.push(N(Te[Ue-1],Te[Ue],Te[Ue+1],ye));for(Ae+="Q"+Be[0][0]+" "+Te[1],Ue=2;Ue<Te.length-1;Ue++)Ae+="C"+Be[Ue-2][1]+" "+Be[Ue-1][0]+" "+Te[Ue];return Ae+="Q"+Be[Te.length-3][1]+" "+Te[Te.length-1],Ae},f.smoothclosed=function(Te,ye){if(Te.length<3)return"M"+Te.join("L")+"Z";var Ae="M"+Te[0],Be=Te.length-1,Ue=[N(Te[Be],Te[0],Te[1],ye)],De;for(De=1;De<Be;De++)Ue.push(N(Te[De-1],Te[De],Te[De+1],ye));for(Ue.push(N(Te[Be-1],Te[Be],Te[0],ye)),De=1;De<=Be;De++)Ae+="C"+Ue[De-1][1]+" "+Ue[De][0]+" "+Te[De];return Ae+="C"+Ue[Be][1]+" "+Ue[0][0]+" "+Te[0]+"Z",Ae};var B,I;function z(Te,ye,Ae){return Ae&&(Te=j(Te)),ye?F(Te[1]):O(Te[0])}function O(Te){var ye=p.round(Te,2);return B=ye,ye}function F(Te){var ye=p.round(Te,2);return I=ye,ye}function N(Te,ye,Ae,Be){var Ue=Te[0]-ye[0],De=Te[1]-ye[1],He=Ae[0]-ye[0],ut=Ae[1]-ye[1],et=Math.pow(Ue*Ue+De*De,_/2),Qe=Math.pow(He*He+ut*ut,_/2),qe=(Qe*Qe*Ue-et*et*He)*Be,ft=(Qe*Qe*De-et*et*ut)*Be,gt=3*Qe*(et+Qe),xt=3*et*(et+Qe);return[[O(ye[0]+(gt&&qe/gt)),F(ye[1]+(gt&&ft/gt))],[O(ye[0]-(xt&&qe/xt)),F(ye[1]-(xt&&ft/xt))]]}var Q={hv:function(Te,ye,Ae){return"H"+O(ye[0])+"V"+z(ye,1,Ae)},vh:function(Te,ye,Ae){return"V"+F(ye[1])+"H"+z(ye,0,Ae)},hvh:function(Te,ye,Ae){return"H"+O((Te[0]+ye[0])/2)+"V"+F(ye[1])+"H"+z(ye,0,Ae)},vhv:function(Te,ye,Ae){return"V"+F((Te[1]+ye[1])/2)+"H"+O(ye[0])+"V"+z(ye,1,Ae)}},$=function(Te,ye,Ae){return"L"+z(ye,0,Ae)+","+z(ye,1,Ae)};f.steps=function(Te){var ye=Q[Te]||$;return function(Ae){for(var Be="M"+O(Ae[0][0])+","+F(Ae[0][1]),Ue=Ae.length,De=1;De<Ue;De++)Be+=ye(Ae[De-1],Ae[De],De===Ue-1);return Be}};function j(Te,ye){var Ae=Te.backoff,Be=Te.trace,Ue=Te.d,De=Te.i;if(Ae&&Be&&Be.marker&&Be.marker.angle%360===0&&Be.line&&Be.line.shape!=="spline"){var He=L.isArrayOrTypedArray(Ae),ut=Te,et=ye?ye[0]:B||0,Qe=ye?ye[1]:I||0,qe=ut[0],ft=ut[1],gt=qe-et,xt=ft-Qe,Ct=Math.atan2(xt,gt),Je=He?Ae[De]:Ae;if(Je==="auto"){var ze=ut.i;Be.type==="scatter"&&ze--;var Fe=ut.marker,$e=Fe.symbol;L.isArrayOrTypedArray($e)&&($e=$e[ze]);var at=Fe.size;L.isArrayOrTypedArray(at)&&(at=at[ze]),Je=Fe?f.symbolBackOffs[f.symbolNumber($e)]*at:0,Je+=f.getMarkerStandoff(Ue[ze],Be)||0}var Xe=qe-Je*Math.cos(Ct),Pe=ft-Je*Math.sin(Ct);(Xe<=qe&&Xe>=et||Xe>=qe&&Xe<=et)&&(Pe<=ft&&Pe>=Qe||Pe>=ft&&Pe<=Qe)&&(Te=[Xe,Pe])}return Te}f.applyBackoff=j,f.makeTester=function(){var Te=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Ae){Ae.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ye=L.ensureSingle(Te,"path","js-reference-point",function(Ae){Ae.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});f.tester=Te,f.testref=ye},f.savedBBoxes={};var ee=0,oe=1e4;f.bBox=function(Te,ye,Ae){Ae||(Ae=Y(Te));var Be;if(Ae){if(Be=f.savedBBoxes[Ae],Be)return L.extendFlat({},Be)}else if(Te.childNodes.length===1){var Ue=Te.childNodes[0];if(Ae=Y(Ue),Ae){var De=+Ue.getAttribute("x")||0,He=+Ue.getAttribute("y")||0,ut=Ue.getAttribute("transform");if(!ut){var et=f.bBox(Ue,!1,Ae);return De&&(et.left+=De,et.right+=De),He&&(et.top+=He,et.bottom+=He),et}if(Ae+="~"+De+"~"+He+"~"+ut,Be=f.savedBBoxes[Ae],Be)return L.extendFlat({},Be)}}var Qe,qe;ye?Qe=Te:(qe=f.tester.node(),Qe=Te.cloneNode(!0),qe.appendChild(Qe)),p.select(Qe).attr("transform",null).call(l.positionText,0,0);var ft=Qe.getBoundingClientRect(),gt=f.testref.node().getBoundingClientRect();ye||qe.removeChild(Qe);var xt={height:ft.height,width:ft.width,left:ft.left-gt.left,top:ft.top-gt.top,right:ft.right-gt.left,bottom:ft.bottom-gt.top};return ee>=oe&&(f.savedBBoxes={},ee=0),Ae&&(f.savedBBoxes[Ae]=xt),ee++,L.extendFlat({},xt)};function Y(Te){var ye=Te.getAttribute("data-unformatted");if(ye!==null)return ye+Te.getAttribute("data-math")+Te.getAttribute("text-anchor")+Te.getAttribute("style")}f.setClipUrl=function(Te,ye,Ae){Te.attr("clip-path",V(ye,Ae))};function V(Te,ye){if(!Te)return null;var Ae=ye._context,Be=Ae._exportedPlot?"":Ae._baseUrl||"";return Be?"url('"+Be+"#"+Te+"')":"url(#"+Te+")"}f.getTranslate=function(Te){var ye=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ae=Te.attr?"attr":"getAttribute",Be=Te[Ae]("transform")||"",Ue=Be.replace(ye,function(De,He,ut){return[He,ut].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},f.setTranslate=function(Te,ye,Ae){var Be=/(\btranslate\(.*?\);?)/,Ue=Te.attr?"attr":"getAttribute",De=Te.attr?"attr":"setAttribute",He=Te[Ue]("transform")||"";return ye=ye||0,Ae=Ae||0,He=He.replace(Be,"").trim(),He+=r(ye,Ae),He=He.trim(),Te[De]("transform",He),He},f.getScale=function(Te){var ye=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ae=Te.attr?"attr":"getAttribute",Be=Te[Ae]("transform")||"",Ue=Be.replace(ye,function(De,He,ut){return[He,ut].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},f.setScale=function(Te,ye,Ae){var Be=/(\bscale\(.*?\);?)/,Ue=Te.attr?"attr":"getAttribute",De=Te.attr?"attr":"setAttribute",He=Te[Ue]("transform")||"";return ye=ye||1,Ae=Ae||1,He=He.replace(Be,"").trim(),He+="scale("+ye+","+Ae+")",He=He.trim(),Te[De]("transform",He),He};var W=/\s*sc.*/;f.setPointGroupScale=function(Te,ye,Ae){if(ye=ye||1,Ae=Ae||1,!!Te){var Be=ye===1&&Ae===1?"":"scale("+ye+","+Ae+")";Te.each(function(){var Ue=(this.getAttribute("transform")||"").replace(W,"");Ue+=Be,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var X=/translate\([^)]*\)\s*$/;f.setTextPointsScale=function(Te,ye,Ae){Te&&Te.each(function(){var Be,Ue=p.select(this),De=Ue.select("text");if(De.node()){var He=parseFloat(De.attr("x")||0),ut=parseFloat(De.attr("y")||0),et=(Ue.attr("transform")||"").match(X);ye===1&&Ae===1?Be=[]:Be=[r(He,ut),"scale("+ye+","+Ae+")",r(-He,-ut)],et&&Be.push(et),Ue.attr("transform",Be.join(""))}})};function re(Te,ye){var Ae;return Te&&(Ae=Te.mf),Ae===void 0&&(Ae=ye.marker&&ye.marker.standoff||0),!ye._geo&&!ye._xA?-Ae:Ae}f.getMarkerStandoff=re;var ie=Math.atan2,K=Math.cos,q=Math.sin;function le(Te,ye){var Ae=ye[0],Be=ye[1];return[Ae*K(Te)-Be*q(Te),Ae*q(Te)+Be*K(Te)]}var ae,he,me,Me,xe,Ie;function _e(Te,ye){var Ae=Te.ma;Ae===void 0&&(Ae=ye.marker.angle||0);var Be,Ue,De=ye.marker.angleref;if(De==="previous"||De==="north"){if(ye._geo){var He=ye._geo.project(Te.lonlat);Be=He[0],Ue=He[1]}else{var ut=ye._xA,et=ye._yA;if(ut&&et)Be=ut.c2p(Te.x),Ue=et.c2p(Te.y);else return 90}if(ye._geo){var Qe=Te.lonlat[0],qe=Te.lonlat[1],ft=ye._geo.project([Qe,qe+1e-5]),gt=ye._geo.project([Qe+1e-5,qe]),xt=ie(gt[1]-Ue,gt[0]-Be),Ct=ie(ft[1]-Ue,ft[0]-Be),Je;if(De==="north")Je=Ae/180*Math.PI;else if(De==="previous"){var ze=Qe/180*Math.PI,Fe=qe/180*Math.PI,$e=ae/180*Math.PI,at=he/180*Math.PI,Xe=$e-ze,Pe=K(at)*q(Xe),we=q(at)*K(Fe)-K(at)*q(Fe)*K(Xe);Je=-ie(Pe,we)-Math.PI,ae=Qe,he=qe}var ue=le(xt,[K(Je),0]),ge=le(Ct,[q(Je),0]);Ae=ie(ue[1]+ge[1],ue[0]+ge[0])/Math.PI*180,De==="previous"&&!(Ie===ye.uid&&Te.i===xe+1)&&(Ae=null)}if(De==="previous"&&!ye._geo)if(Ie===ye.uid&&Te.i===xe+1&&C(Be)&&C(Ue)){var Le=Be-me,ke=Ue-Me,it=ye.line&&ye.line.shape||"",lt=it.slice(it.length-1);lt==="h"&&(ke=0),lt==="v"&&(Le=0),Ae+=ie(ke,Le)/Math.PI*180+90}else Ae=null}return me=Be,Me=Ue,xe=Te.i,Ie=ye.uid,Ae}f.getMarkerAngle=_e},90998:function(G,U,e){var p=e(95616),L=e(39898).round,n="M0,0Z",C=Math.sqrt(2),w=Math.sqrt(3),v=Math.PI,y=Math.cos,t=Math.sin;G.exports={circle:{n:0,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o="M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z";return T?u(h,T,o):o}},square:{n:1,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")}},diamond:{n:2,f:function(m,h,T){if(r(h))return n;var f=L(m*1.3,2);return u(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"Z")}},cross:{n:3,f:function(m,h,T){if(r(h))return n;var f=L(m*.4,2),o=L(m*1.2,2);return u(h,T,"M"+o+","+f+"H"+f+"V"+o+"H-"+f+"V"+f+"H-"+o+"V-"+f+"H-"+f+"V-"+o+"H"+f+"V-"+f+"H"+o+"Z")}},x:{n:4,f:function(m,h,T){if(r(h))return n;var f=L(m*.8/C,2),o="l"+f+","+f,d="l"+f+",-"+f,M="l-"+f+",-"+f,A="l-"+f+","+f;return u(h,T,"M0,"+f+o+d+M+d+M+A+M+A+o+A+o+"Z")}},"triangle-up":{n:5,f:function(m,h,T){if(r(h))return n;var f=L(m*2/w,2),o=L(m/2,2),d=L(m,2);return u(h,T,"M-"+f+","+o+"H"+f+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(m,h,T){if(r(h))return n;var f=L(m*2/w,2),o=L(m/2,2),d=L(m,2);return u(h,T,"M-"+f+",-"+o+"H"+f+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(m,h,T){if(r(h))return n;var f=L(m*2/w,2),o=L(m/2,2),d=L(m,2);return u(h,T,"M"+o+",-"+f+"V"+f+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(m,h,T){if(r(h))return n;var f=L(m*2/w,2),o=L(m/2,2),d=L(m,2);return u(h,T,"M-"+o+",-"+f+"V"+f+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(m,h,T){if(r(h))return n;var f=L(m*.6,2),o=L(m*1.2,2);return u(h,T,"M-"+o+",-"+f+"H"+f+"V"+o+"Z")}},"triangle-se":{n:10,f:function(m,h,T){if(r(h))return n;var f=L(m*.6,2),o=L(m*1.2,2);return u(h,T,"M"+f+",-"+o+"V"+f+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(m,h,T){if(r(h))return n;var f=L(m*.6,2),o=L(m*1.2,2);return u(h,T,"M"+o+","+f+"H-"+f+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(m,h,T){if(r(h))return n;var f=L(m*.6,2),o=L(m*1.2,2);return u(h,T,"M-"+f+","+o+"V-"+f+"H"+o+"Z")}},pentagon:{n:13,f:function(m,h,T){if(r(h))return n;var f=L(m*.951,2),o=L(m*.588,2),d=L(-m,2),M=L(m*-.309,2),A=L(m*.809,2);return u(h,T,"M"+f+","+M+"L"+o+","+A+"H-"+o+"L-"+f+","+M+"L0,"+d+"Z")}},hexagon:{n:14,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m/2,2),d=L(m*w/2,2);return u(h,T,"M"+d+",-"+o+"V"+o+"L0,"+f+"L-"+d+","+o+"V-"+o+"L0,-"+f+"Z")}},hexagon2:{n:15,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m/2,2),d=L(m*w/2,2);return u(h,T,"M-"+o+","+d+"H"+o+"L"+f+",0L"+o+",-"+d+"H-"+o+"L-"+f+",0Z")}},octagon:{n:16,f:function(m,h,T){if(r(h))return n;var f=L(m*.924,2),o=L(m*.383,2);return u(h,T,"M-"+o+",-"+f+"H"+o+"L"+f+",-"+o+"V"+o+"L"+o+","+f+"H-"+o+"L-"+f+","+o+"V-"+o+"Z")}},star:{n:17,f:function(m,h,T){if(r(h))return n;var f=m*1.4,o=L(f*.225,2),d=L(f*.951,2),M=L(f*.363,2),A=L(f*.588,2),E=L(-f,2),g=L(f*-.309,2),S=L(f*.118,2),b=L(f*.809,2),i=L(f*.382,2);return u(h,T,"M"+o+","+g+"H"+d+"L"+M+","+S+"L"+A+","+b+"L0,"+i+"L-"+A+","+b+"L-"+M+","+S+"L-"+d+","+g+"H-"+o+"L0,"+E+"Z")}},hexagram:{n:18,f:function(m,h,T){if(r(h))return n;var f=L(m*.66,2),o=L(m*.38,2),d=L(m*.76,2);return u(h,T,"M-"+d+",0l-"+o+",-"+f+"h"+d+"l"+o+",-"+f+"l"+o+","+f+"h"+d+"l-"+o+","+f+"l"+o+","+f+"h-"+d+"l-"+o+","+f+"l-"+o+",-"+f+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(m,h,T){if(r(h))return n;var f=L(m*w*.8,2),o=L(m*.8,2),d=L(m*1.6,2),M=L(m*4,2),A="A "+M+","+M+" 0 0 1 ";return u(h,T,"M-"+f+","+o+A+f+","+o+A+"0,-"+d+A+"-"+f+","+o+"Z")}},"star-triangle-down":{n:20,f:function(m,h,T){if(r(h))return n;var f=L(m*w*.8,2),o=L(m*.8,2),d=L(m*1.6,2),M=L(m*4,2),A="A "+M+","+M+" 0 0 1 ";return u(h,T,"M"+f+",-"+o+A+"-"+f+",-"+o+A+"0,"+d+A+f+",-"+o+"Z")}},"star-square":{n:21,f:function(m,h,T){if(r(h))return n;var f=L(m*1.1,2),o=L(m*2,2),d="A "+o+","+o+" 0 0 1 ";return u(h,T,"M-"+f+",-"+f+d+"-"+f+","+f+d+f+","+f+d+f+",-"+f+d+"-"+f+",-"+f+"Z")}},"star-diamond":{n:22,f:function(m,h,T){if(r(h))return n;var f=L(m*1.4,2),o=L(m*1.9,2),d="A "+o+","+o+" 0 0 1 ";return u(h,T,"M-"+f+",0"+d+"0,"+f+d+f+",0"+d+"0,-"+f+d+"-"+f+",0Z")}},"diamond-tall":{n:23,f:function(m,h,T){if(r(h))return n;var f=L(m*.7,2),o=L(m*1.4,2);return u(h,T,"M0,"+o+"L"+f+",0L0,-"+o+"L-"+f+",0Z")}},"diamond-wide":{n:24,f:function(m,h,T){if(r(h))return n;var f=L(m*1.4,2),o=L(m*.7,2);return u(h,T,"M0,"+o+"L"+f+",0L0,-"+o+"L-"+f+",0Z")}},hourglass:{n:25,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"H-"+f+"L"+f+",-"+f+"H-"+f+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"V-"+f+"L-"+f+","+f+"V-"+f+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m/C,2);return u(h,T,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,T){if(r(h))return n;var f=L(m*1.3,2);return u(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM0,-"+f+"V"+f+"M-"+f+",0H"+f)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,T){if(r(h))return n;var f=L(m*1.3,2),o=L(m*.65,2);return u(h,T,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,T){if(r(h))return n;var f=L(m*1.4,2);return u(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,T){if(r(h))return n;var f=L(m*1.2,2),o=L(m*.85,2);return u(h,T,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,T){if(r(h))return n;var f=L(m/2,2),o=L(m,2);return u(h,T,"M"+f+","+o+"V-"+o+"M"+(f-o)+",-"+o+"V"+o+"M"+o+","+f+"H-"+o+"M-"+o+","+(f-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,T){if(r(h))return n;var f=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return u(h,T,"M-"+f+","+d+"L0,0M"+f+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,T){if(r(h))return n;var f=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return u(h,T,"M-"+f+",-"+d+"L0,0M"+f+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,T){if(r(h))return n;var f=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return u(h,T,"M"+d+","+f+"L0,0M"+d+",-"+f+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,T){if(r(h))return n;var f=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return u(h,T,"M-"+d+","+f+"L0,0M-"+d+",-"+f+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,T){if(r(h))return n;var f=L(m*1.4,2);return u(h,T,"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,T){if(r(h))return n;var f=L(m*1.4,2);return u(h,T,"M0,"+f+"V-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,T){if(r(h))return n;var f=L(m,2);return u(h,T,"M"+f+","+f+"L-"+f+",-"+f)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m*2,2);return u(h,T,"M0,0L-"+f+","+o+"H"+f+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m*2,2);return u(h,T,"M0,0L-"+f+",-"+o+"H"+f+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,T){if(r(h))return n;var f=L(m*2,2),o=L(m,2);return u(h,T,"M0,0L"+f+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,T){if(r(h))return n;var f=L(m*2,2),o=L(m,2);return u(h,T,"M0,0L-"+f+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m*2,2);return u(h,T,"M-"+f+",0H"+f+"M0,0L-"+f+","+o+"H"+f+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,T){if(r(h))return n;var f=L(m,2),o=L(m*2,2);return u(h,T,"M-"+f+",0H"+f+"M0,0L-"+f+",-"+o+"H"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,T){if(r(h))return n;var f=L(m*2,2),o=L(m,2);return u(h,T,"M0,-"+o+"V"+o+"M0,0L"+f+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,T){if(r(h))return n;var f=L(m*2,2),o=L(m,2);return u(h,T,"M0,-"+o+"V"+o+"M0,0L-"+f+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,T){if(r(h))return n;var f=v/2.5,o=2*m*y(f),d=2*m*t(f);return u(h,T,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,T){if(r(h))return n;var f=v/4,o=2*m*y(f),d=2*m*t(f);return u(h,T,"M0,0L"+-o+","+d+"A "+2*m+","+2*m+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function r(m){return m===null}var l,a,s,c;function u(m,h,T){if((!m||m%360===0)&&!h)return T;if(s===m&&c===h&&l===T)return a;s=m,c=h,l=T;function f(_,B){var I=y(_),z=t(_),O=B[0],F=B[1]+(h||0);return[O*I-F*z,O*z+F*I]}for(var o=m/180*v,d=0,M=0,A=p(T),E="",g=0;g<A.length;g++){var S=A[g],b=S[0],i=d,P=M;if(b==="M"||b==="L")d=+S[1],M=+S[2];else if(b==="m"||b==="l")d+=+S[1],M+=+S[2];else if(b==="H")d=+S[1];else if(b==="h")d+=+S[1];else if(b==="V")M=+S[1];else if(b==="v")M+=+S[1];else if(b==="A"){d=+S[1],M=+S[2];var x=f(o,[+S[6],+S[7]]);S[6]=x[0],S[7]=x[1],S[3]=+S[3]+m}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(d-=i,M-=P);var k=f(o,[d,M]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=b,E+=S[0]+S.slice(1).join(",")}return a=E,E}},25673:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(G,U,e){var p=e(92770),L=e(73972),n=e(89298),C=e(71828),w=e(45827);G.exports=function(t){for(var r=t.calcdata,l=0;l<r.length;l++){var a=r[l],s=a[0].trace;if(s.visible===!0&&L.traceIs(s,"errorBarsOK")){var c=n.getFromId(t,s.xaxis),u=n.getFromId(t,s.yaxis);v(a,s,c,"x"),v(a,s,u,"y")}}};function v(y,t,r,l){var a=t["error_"+l]||{},s=a.visible&&["linear","log"].indexOf(r.type)!==-1,c=[];if(s){for(var u=w(a),m=0;m<y.length;m++){var h=y[m],T=h.i;if(T===void 0)T=m;else if(T===null)continue;var f=h[l];if(p(r.c2l(f))){var o=u(f,T);if(p(o[0])&&p(o[1])){var d=h[l+"s"]=f-o[0],M=h[l+"h"]=f+o[1];c.push(d,M)}}}var A=r._id,E=t._extremes[A],g=n.findExtremes(r,c,C.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(g.min),E.max=E.max.concat(g.max)}}},45827:function(G){G.exports=function(p){var L=p.type,n=p.symmetric;if(L==="data"){var C=p.array||[];if(n)return function(r,l){var a=+C[l];return[a,a]};var w=p.arrayminus||[];return function(r,l){var a=+C[l],s=+w[l];return!isNaN(a)||!isNaN(s)?[s||0,a||0]:[NaN,NaN]}}else{var v=U(L,p.value),y=U(L,p.valueminus);return n||p.valueminus===void 0?function(r){var l=v(r);return[l,l]}:function(r){return[y(r),v(r)]}}};function U(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},97587:function(G,U,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),w=e(25673);G.exports=function(v,y,t,r){var l="error_"+r.axis,a=C.newContainer(y,l),s=v[l]||{};function c(d,M){return n.coerce(s,a,w,d,M)}var u=s.array!==void 0||s.value!==void 0||s.type==="sqrt",m=c("visible",u);if(m!==!1){var h=c("type","array"in s?"data":"percent"),T=!0;h!=="sqrt"&&(T=c("symmetric",!((h==="data"?"arrayminus":"valueminus")in s))),h==="data"?(c("array"),c("traceref"),T||(c("arrayminus"),c("tracerefminus"))):(h==="percent"||h==="constant")&&(c("value"),T||c("valueminus"));var f="copy_"+r.inherit+"style";if(r.inherit){var o=y["error_"+r.inherit];(o||{}).visible&&c(f,!(s.color||p(s.thickness)||p(s.width)))}(!r.inherit||!a[f])&&(c("color",t),c("thickness"),c("width",L.traceIs(y,"gl3d")?0:4))}}},37369:function(G,U,e){var p=e(71828),L=e(30962).overrideAll,n=e(25673),C={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var w={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n),error_z:p.extendFlat({},n)};delete w.error_x.copy_ystyle,delete w.error_y.copy_ystyle,delete w.error_z.copy_ystyle,delete w.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(w,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(y,t,r){(t.error_y||{}).visible&&(r.yerr=y.yh-y.y,t.error_y.symmetric||(r.yerrneg=y.y-y.ys)),(t.error_x||{}).visible&&(r.xerr=y.xh-y.x,t.error_x.symmetric||(r.xerrneg=y.x-y.xs))}},19398:function(G,U,e){var p=e(39898),L=e(92770),n=e(91424),C=e(34098);G.exports=function(y,t,r,l){var a,s=r.xaxis,c=r.yaxis,u=l&&l.duration>0,m=y._context.staticPlot;t.each(function(h){var T=h[0].trace,f=T.error_x||{},o=T.error_y||{},d;T.ids&&(d=function(g){return g.id});var M=C.hasMarkers(T)&&T.marker.maxdisplayed>0;!o.visible&&!f.visible&&(h=[]);var A=p.select(this).selectAll("g.errorbar").data(h,d);if(A.exit().remove(),!!h.length){f.visible||A.selectAll("path.xerror").remove(),o.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var E=A.enter().append("g").classed("errorbar",!0);u&&E.style("opacity",0).transition().duration(l.duration).style("opacity",1),n.setClipUrl(A,r.layerClipId,y),A.each(function(g){var S=p.select(this),b=w(g,s,c);if(!(M&&!g.vis)){var i,P=S.select("path.yerror");if(o.visible&&L(b.x)&&L(b.yh)&&L(b.ys)){var x=o.width;i="M"+(b.x-x)+","+b.yh+"h"+2*x+"m-"+x+",0V"+b.ys,b.noYS||(i+="m-"+x+",0h"+2*x),a=!P.size(),a?P=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):u&&(P=P.transition().duration(l.duration).ease(l.easing)),P.attr("d",i)}else P.remove();var k=S.select("path.xerror");if(f.visible&&L(b.y)&&L(b.xh)&&L(b.xs)){var _=(f.copy_ystyle?o:f).width;i="M"+b.xh+","+(b.y-_)+"v"+2*_+"m0,-"+_+"H"+b.xs,b.noXS||(i+="m0,-"+_+"v"+2*_),a=!k.size(),a?k=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):u&&(k=k.transition().duration(l.duration).ease(l.easing)),k.attr("d",i)}else k.remove()}})}})};function w(v,y,t){var r={x:y.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),L(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=y.c2p(v.xh),r.xs=y.c2p(v.xs),L(r.xs)||(r.noXS=!0,r.xs=y.c2p(v.xs,!0))),r}},62662:function(G,U,e){var p=e(39898),L=e(7901);G.exports=function(C){C.each(function(w){var v=w[0].trace,y=v.error_y||{},t=v.error_x||{},r=p.select(this);r.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(L.stroke,y.color),t.copy_ystyle&&(t=y),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(L.stroke,t.color)})}},77914:function(G,U,e){var p=e(41940),L=e(528).hoverlabel,n=e(1426).extendFlat;G.exports={hoverlabel:{bgcolor:n({},L.bgcolor,{arrayOk:!0}),bordercolor:n({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:n({},L.align,{arrayOk:!0}),namelength:n({},L.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(G,U,e){var p=e(71828),L=e(73972);G.exports=function(w){var v=w.calcdata,y=w._fullLayout;function t(c){return function(u){return p.coerceHoverinfo({hoverinfo:u},{_module:c._module},y)}}for(var r=0;r<v.length;r++){var l=v[r],a=l[0].trace;if(!L.traceIs(a,"pie-like")){var s=L.traceIs(a,"2dMap")?n:p.fillArray;s(a.hoverinfo,l,"hi",t(a)),a.hovertemplate&&s(a.hovertemplate,l,"ht"),a.hoverlabel&&(s(a.hoverlabel.bgcolor,l,"hbg"),s(a.hoverlabel.bordercolor,l,"hbc"),s(a.hoverlabel.font.size,l,"hts"),s(a.hoverlabel.font.color,l,"htc"),s(a.hoverlabel.font.family,l,"htf"),s(a.hoverlabel.namelength,l,"hnl"),s(a.hoverlabel.align,l,"hta"))}}};function n(C,w,v,y){y=y||p.identity,Array.isArray(C)&&(w[0][v]=y(C))}},75914:function(G,U,e){var p=e(73972),L=e(88335).hover;G.exports=function(C,w,v){var y=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&L(C,w,v,!0);function t(){C.emit("plotly_click",{points:C._hoverdata,event:w})}C._hoverdata&&w&&w.target&&(y&&y.then?y.then(t):t(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},26675:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(G,U,e){var p=e(71828),L=e(77914),n=e(38048);G.exports=function(w,v,y,t){function r(a,s){return p.coerce(w,v,L,a,s)}var l=p.extendFlat({},t.hoverlabel);v.hovertemplate&&(l.namelength=-1),n(w,v,r,l)}},23469:function(G,U,e){var p=e(71828);U.getSubplot=function(y){return y.subplot||y.xaxis+y.yaxis||y.geo},U.isTraceInSubplots=function(y,t){if(y.type==="splom"){for(var r=y.xaxes||[],l=y.yaxes||[],a=0;a<r.length;a++)for(var s=0;s<l.length;s++)if(t.indexOf(r[a]+l[s])!==-1)return!0;return!1}return t.indexOf(U.getSubplot(y))!==-1},U.flat=function(y,t){for(var r=new Array(y.length),l=0;l<y.length;l++)r[l]=t;return r},U.p2c=function(y,t){for(var r=new Array(y.length),l=0;l<y.length;l++)r[l]=y[l].p2c(t);return r},U.getDistanceFunction=function(y,t,r,l){return y==="closest"?l||U.quadrature(t,r):y.charAt(0)==="x"?t:r},U.getClosest=function(y,t,r){if(r.index!==!1)r.index>=0&&r.index<y.length?r.distance=0:r.index=!1;else for(var l=0;l<y.length;l++){var a=t(y[l]);a<=r.distance&&(r.index=l,r.distance=a)}return r},U.inbox=function(y,t,r){return y*t<0||y===0?r:1/0},U.quadrature=function(y,t){return function(r){var l=y(r),a=t(r);return Math.sqrt(l*l+a*a)}},U.makeEventData=function(y,t,r){var l="index"in y?y.index:y.pointNumber,a={data:t._input,fullData:t,curveNumber:t.index,pointNumber:l};if(t._indexToPoints){var s=t._indexToPoints[l];s.length===1?a.pointIndex=s[0]:a.pointIndices=s}else a.pointIndex=l;return t._module.eventData?a=t._module.eventData(a,y,t,r,l):("xVal"in y?a.x=y.xVal:"x"in y&&(a.x=y.x),"yVal"in y?a.y=y.yVal:"y"in y&&(a.y=y.y),y.xa&&(a.xaxis=y.xa),y.ya&&(a.yaxis=y.ya),y.zLabelVal!==void 0&&(a.z=y.zLabelVal)),U.appendArrayPointValue(a,t,l),a},U.appendArrayPointValue=function(y,t,r){var l=t._arrayAttrs;if(l)for(var a=0;a<l.length;a++){var s=l[a],c=n(s);if(y[c]===void 0){var u=p.nestedProperty(t,s).get(),m=C(u,r);m!==void 0&&(y[c]=m)}}},U.appendArrayMultiPointValues=function(y,t,r){var l=t._arrayAttrs;if(l)for(var a=0;a<l.length;a++){var s=l[a],c=n(s);if(y[c]===void 0){for(var u=p.nestedProperty(t,s).get(),m=new Array(r.length),h=0;h<r.length;h++)m[h]=C(u,r[h]);y[c]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(y){return L[y]||y}function C(y,t){if(Array.isArray(t)){if(Array.isArray(y)&&Array.isArray(y[t[0]]))return y[t[0]][t[1]]}else return y[t]}var w={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(y){return typeof y!="string"?!1:!!v[y]},U.isXYhover=function(y){return typeof y!="string"?!1:!!w[y]}},88335:function(G,U,e){var p=e(39898),L=e(92770),n=e(84267),C=e(71828),w=C.strTranslate,v=C.strRotate,y=e(11086),t=e(63893),r=e(39918),l=e(91424),a=e(7901),s=e(28569),c=e(89298),u=e(73972),m=e(23469),h=e(26675),T=e(99017),f=e(43969),o=h.YANGLE,d=Math.PI*o/180,M=1/Math.sin(d),A=Math.cos(d),E=Math.sin(d),g=h.HOVERARROWSIZE,S=h.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};U.hover=function(ie,K,q,le){ie=C.getGraphDiv(ie);var ae=K.target;C.throttle(ie._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){P(ie,K,q,le,ae)})},U.loneHover=function(ie,K){var q=!0;Array.isArray(ie)||(q=!1,ie=[ie]);var le=K.gd,ae=V(le),he=W(le),me=ie.map(function(Ue){var De=Ue._x0||Ue.x0||Ue.x||0,He=Ue._x1||Ue.x1||Ue.x||0,ut=Ue._y0||Ue.y0||Ue.y||0,et=Ue._y1||Ue.y1||Ue.y||0,Qe=Ue.eventData;if(Qe){var qe=Math.min(De,He),ft=Math.max(De,He),gt=Math.min(ut,et),xt=Math.max(ut,et),Ct=Ue.trace;if(u.traceIs(Ct,"gl3d")){var Je=le._fullLayout[Ct.scene]._scene.container,ze=Je.offsetLeft,Fe=Je.offsetTop;qe+=ze,ft+=ze,gt+=Fe,xt+=Fe}Qe.bbox={x0:qe+he,x1:ft+he,y0:gt+ae,y1:xt+ae},K.inOut_bbox&&K.inOut_bbox.push(Qe.bbox)}else Qe=!1;return{color:Ue.color||a.defaultLine,x0:Ue.x0||Ue.x||0,x1:Ue.x1||Ue.x||0,y0:Ue.y0||Ue.y||0,y1:Ue.y1||Ue.y||0,xLabel:Ue.xLabel,yLabel:Ue.yLabel,zLabel:Ue.zLabel,text:Ue.text,name:Ue.name,idealAlign:Ue.idealAlign,borderColor:Ue.borderColor,fontFamily:Ue.fontFamily,fontSize:Ue.fontSize,fontColor:Ue.fontColor,nameLength:Ue.nameLength,textAlign:Ue.textAlign,trace:Ue.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ue.hovertemplate||!1,hovertemplateLabels:Ue.hovertemplateLabels||!1,eventData:Qe}}),Me=!1,xe=_(me,{gd:le,hovermode:"closest",rotateLabels:Me,bgColor:K.bgColor||a.background,container:p.select(K.container),outerContainer:K.outerContainer||K.container}),Ie=xe.hoverLabels,_e=5,Te=0,ye=0;Ie.sort(function(Ue,De){return Ue.y0-De.y0}).each(function(Ue,De){var He=Ue.y0-Ue.by/2;He-_e<Te?Ue.offset=Te-He+_e:Ue.offset=0,Te=He+Ue.by+Ue.offset,De===K.anchorIndex&&(ye=Ue.offset)}).each(function(Ue){Ue.offset-=ye});var Ae=le._fullLayout._invScaleX,Be=le._fullLayout._invScaleY;return F(Ie,Me,Ae,Be),q?Ie:Ie.node()};function P(re,ie,K,q,le){K||(K="xy");var ae=Array.isArray(K)?K:[K],he=re._fullLayout,me=he._plots||[],Me=me[K],xe=he._has("cartesian");if(Me){var Ie=Me.overlays.map(function(cr){return cr.id});ae=ae.concat(Ie)}for(var _e=ae.length,Te=new Array(_e),ye=new Array(_e),Ae=!1,Be=0;Be<_e;Be++){var Ue=ae[Be];if(me[Ue])Ae=!0,Te[Be]=me[Ue].xaxis,ye[Be]=me[Ue].yaxis;else if(he[Ue]&&he[Ue]._subplot){var De=he[Ue]._subplot;Te[Be]=De.xaxis,ye[Be]=De.yaxis}else{C.warn("Unrecognized subplot: "+Ue);return}}var He=ie.hovermode||he.hovermode;if(He&&!Ae&&(He="closest"),["x","y","closest","x unified","y unified"].indexOf(He)===-1||!re.calcdata||re.querySelector(".zoombox")||re._dragging)return s.unhoverRaw(re,ie);var ut=he.hoverdistance;ut===-1&&(ut=1/0);var et=he.spikedistance;et===-1&&(et=1/0);var Qe=[],qe=[],ft,gt,xt,Ct,Je,ze,Fe,$e,at,Xe,Pe,we,ue,ge={hLinePoint:null,vLinePoint:null},Le=!1;if(Array.isArray(ie))for(He="array",xt=0;xt<ie.length;xt++)Je=re.calcdata[ie[xt].curveNumber||0],Je&&(ze=Je[0].trace,Je[0].trace.hoverinfo!=="skip"&&(qe.push(Je),ze.orientation==="h"&&(Le=!0)));else{for(Ct=0;Ct<re.calcdata.length;Ct++)Je=re.calcdata[Ct],ze=Je[0].trace,ze.hoverinfo!=="skip"&&m.isTraceInSubplots(ze,ae)&&(qe.push(Je),ze.orientation==="h"&&(Le=!0));var ke=!le,it,lt;if(ke)"xpx"in ie?it=ie.xpx:it=Te[0]._length/2,"ypx"in ie?lt=ie.ypx:lt=ye[0]._length/2;else{if(y.triggerHandler(re,"plotly_beforehover",ie)===!1)return;var bt=le.getBoundingClientRect();it=ie.clientX-bt.left,lt=ie.clientY-bt.top,he._calcInverseTransform(re);var Rt=C.apply3DTransform(he._invTransform)(it,lt);if(it=Rt[0],lt=Rt[1],it<0||it>Te[0]._length||lt<0||lt>ye[0]._length)return s.unhoverRaw(re,ie)}if(ie.pointerX=it+Te[0]._offset,ie.pointerY=lt+ye[0]._offset,"xval"in ie?ft=m.flat(ae,ie.xval):ft=m.p2c(Te,it),"yval"in ie?gt=m.flat(ae,ie.yval):gt=m.p2c(ye,lt),!L(ft[0])||!L(gt[0]))return C.warn("Fx.hover failed",ie,re),s.unhoverRaw(re,ie)}var Ut=1/0;function Gt(cr,kr){for(Ct=0;Ct<qe.length;Ct++)if(Je=qe[Ct],!(!Je||!Je[0]||!Je[0].trace)&&(ze=Je[0].trace,!(ze.visible!==!0||ze._length===0)&&["carpet","contourcarpet"].indexOf(ze._module.name)===-1)){if(ze.type==="splom"?($e=0,Fe=ae[$e]):(Fe=m.getSubplot(ze),$e=ae.indexOf(Fe)),at=He,m.isUnifiedHover(at)&&(at=at.charAt(0)),we={cd:Je,trace:ze,xa:Te[$e],ya:ye[$e],maxHoverDistance:ut,maxSpikeDistance:et,index:!1,distance:Math.min(Ut,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:ze.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[Fe]&&(we.subplot=he[Fe]._subplot),he._splomScenes&&he._splomScenes[ze.uid]&&(we.scene=he._splomScenes[ze.uid]),ue=Qe.length,at==="array"){var Or=ie[Ct];"pointNumber"in Or?(we.index=Or.pointNumber,at="closest"):(at="","xval"in Or&&(Xe=Or.xval,at="x"),"yval"in Or&&(Pe=Or.yval,at=at?"closest":"y"))}else cr!==void 0&&kr!==void 0?(Xe=cr,Pe=kr):(Xe=ft[$e],Pe=gt[$e]);if(ut!==0)if(ze._module&&ze._module.hoverPoints){var sn=ze._module.hoverPoints(we,Xe,Pe,at,{finiteRange:!0,hoverLayer:he._hoverlayer});if(sn)for(var yn,bn=0;bn<sn.length;bn++)yn=sn[bn],L(yn.x0)&&L(yn.y0)&&Qe.push(N(yn,He))}else C.log("Unrecognized trace type in hover:",ze);if(He==="closest"&&Qe.length>ue&&(Qe.splice(0,ue),Ut=Qe[0].distance),xe&&et!==0&&Qe.length===0){we.distance=et,we.index=!1;var mn=ze._module.hoverPoints(we,Xe,Pe,"closest",{hoverLayer:he._hoverlayer});if(mn&&(mn=mn.filter(function($n){return $n.spikeDistance<=et})),mn&&mn.length){var _n,Kn=mn.filter(function($n){return $n.xa.showspikes&&$n.xa.spikesnap!=="hovered data"});if(Kn.length){var na=Kn[0];L(na.x0)&&L(na.y0)&&(_n=nr(na),(!ge.vLinePoint||ge.vLinePoint.spikeDistance>_n.spikeDistance)&&(ge.vLinePoint=_n))}var ea=mn.filter(function($n){return $n.ya.showspikes&&$n.ya.spikesnap!=="hovered data"});if(ea.length){var oa=ea[0];L(oa.x0)&&L(oa.y0)&&(_n=nr(oa),(!ge.hLinePoint||ge.hLinePoint.spikeDistance>_n.spikeDistance)&&(ge.hLinePoint=_n))}}}}}Gt();function _t(cr,kr,Or){for(var sn=null,yn=1/0,bn,mn=0;mn<cr.length;mn++)bn=cr[mn].spikeDistance,Or&&mn===0&&(bn=-1/0),bn<=yn&&bn<=kr&&(sn=cr[mn],yn=bn);return sn}function nr(cr){return cr?{xa:cr.xa,ya:cr.ya,x:cr.xSpike!==void 0?cr.xSpike:(cr.x0+cr.x1)/2,y:cr.ySpike!==void 0?cr.ySpike:(cr.y0+cr.y1)/2,distance:cr.distance,spikeDistance:cr.spikeDistance,curveNumber:cr.trace.index,color:cr.color,pointNumber:cr.index}:null}var lr={fullLayout:he,container:he._hoverlayer,event:ie},zr=re._spikepoints,mt={vLinePoint:ge.vLinePoint,hLinePoint:ge.hLinePoint};re._spikepoints=mt;var jt=function(){Qe.sort(function(cr,kr){return cr.distance-kr.distance}),Qe=oe(Qe,He)};jt();var Yt=He.charAt(0),wr=(Yt==="x"||Yt==="y")&&Qe[0]&&i[Qe[0].trace.type];if(xe&&et!==0&&Qe.length!==0){var dr=Qe.filter(function(cr){return cr.ya.showspikes}),ct=_t(dr,et,wr);ge.hLinePoint=nr(ct);var ot=Qe.filter(function(cr){return cr.xa.showspikes}),wt=_t(ot,et,wr);ge.vLinePoint=nr(wt)}if(Qe.length===0){var Mt=s.unhoverRaw(re,ie);return xe&&(ge.hLinePoint!==null||ge.vLinePoint!==null)&&j(zr)&&Q(re,ge,lr),Mt}if(xe&&j(zr)&&Q(re,ge,lr),m.isXYhover(at)&&Qe[0].length!==0&&Qe[0].trace.type!=="splom"){var Dt=Qe[0];b[Dt.trace.type]?Qe=Qe.filter(function(cr){return cr.trace.index===Dt.trace.index}):Qe=[Dt];var St=Qe.length,Ot=Y("x",Dt,he),Vt=Y("y",Dt,he);Gt(Ot,Vt);var Qt=[],Kt={},or=0,Mr=function(cr){var kr=b[cr.trace.type]?x(cr):cr.trace.index;if(!Kt[kr])or++,Kt[kr]=or,Qt.push(cr);else{var Or=Kt[kr]-1,sn=Qt[Or];Or>0&&Math.abs(cr.distance)<Math.abs(sn.distance)&&(Qt[Or]=cr)}},Ve;for(Ve=0;Ve<St;Ve++)Mr(Qe[Ve]);for(Ve=Qe.length-1;Ve>St-1;Ve--)Mr(Qe[Ve]);Qe=Qt,jt()}var Ge=re._hoverdata,Ft=[],kt=V(re),Zt=W(re);for(xt=0;xt<Qe.length;xt++){var tr=Qe[xt],sr=m.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var rr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(rr=tr.cd[tr.index].ht),tr.hovertemplate=rr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var Nt=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,pr=tr.y0+tr.ya._offset,br=tr.y1+tr.ya._offset,vr=Math.min(Nt,hr),Kr=Math.max(Nt,hr),Fr=Math.min(pr,br),Br=Math.max(pr,br);sr.bbox={x0:vr+Zt,x1:Kr+Zt,y0:Fr+kt,y1:Br+kt}}tr.eventData=[sr],Ft.push(sr)}re._hoverdata=Ft;var xn=He==="y"&&(qe.length>1||Qe.length>1)||He==="closest"&&Le&&Qe.length>1,jr=a.combine(he.plot_bgcolor||a.background,he.paper_bgcolor),Dn=_(Qe,{gd:re,hovermode:He,rotateLabels:xn,bgColor:jr,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),In=Dn.hoverLabels;if(m.isUnifiedHover(He)||(I(In,xn,he,Dn.commonLabelBoundingBox),F(In,xn,he._invScaleX,he._invScaleY)),le&&le.tagName){var yr=u.getComponentMethod("annotations","hasClickToShow")(re,Ft);r(p.select(le),yr?"pointer":"")}!le||q||!$(re,ie,Ge)||(Ge&&re.emit("plotly_unhover",{event:ie,points:Ge}),re.emit("plotly_hover",{event:ie,points:re._hoverdata,xaxes:Te,yaxes:ye,xvals:ft,yvals:gt}))}function x(re){return[re.trace.index,re.index,re.x0,re.y0,re.name,re.attr,re.xa?re.xa._id:"",re.ya?re.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function _(re,ie){var K=ie.gd,q=K._fullLayout,le=ie.hovermode,ae=ie.rotateLabels,he=ie.bgColor,me=ie.container,Me=ie.outerContainer,xe=ie.commonLabelOpts||{};if(re.length===0)return[[]];var Ie=ie.fontFamily||h.HOVERFONT,_e=ie.fontSize||h.HOVERFONTSIZE,Te=re[0],ye=Te.xa,Ae=Te.ya,Be=le.charAt(0),Ue=Be+"Label",De=Te[Ue];if(De===void 0&&ye.type==="multicategory")for(var He=0;He<re.length&&(De=re[He][Ue],De===void 0);He++);var ut=X(K,Me),et=ut.top,Qe=ut.width,qe=ut.height,ft=De!==void 0&&Te.distance<=ie.hoverdistance&&(le==="x"||le==="y");if(ft){var gt=!0,xt,Ct;for(xt=0;xt<re.length;xt++)if(gt&&re[xt].zLabel===void 0&&(gt=!1),Ct=re[xt].hoverinfo||re[xt].trace.hoverinfo,Ct){var Je=Array.isArray(Ct)?Ct:Ct.split("+");if(Je.indexOf("all")===-1&&Je.indexOf(le)===-1){ft=!1;break}}gt&&(ft=!1)}var ze=me.selectAll("g.axistext").data(ft?[0]:[]);ze.enter().append("g").classed("axistext",!0),ze.exit().remove();var Fe={minX:0,maxX:0,minY:0,maxY:0};if(ze.each(function(){var St=p.select(this),Ot=C.ensureSingle(St,"path","",function(Fr){Fr.style({"stroke-width":"1px"})}),Vt=C.ensureSingle(St,"text","",function(Fr){Fr.attr("data-notex",1)}),Qt=xe.bgcolor||a.defaultLine,Kt=xe.bordercolor||a.contrast(Qt),or=a.contrast(Qt),Mr={family:xe.font.family||Ie,size:xe.font.size||_e,color:xe.font.color||or};Ot.style({fill:Qt,stroke:Kt}),Vt.text(De).call(l.font,Mr).call(t.positionText,0,0).call(t.convertToTspans,K),St.attr("transform","");var Ve=X(K,Vt.node()),Ge,Ft;if(le==="x"){var kt=ye.side==="top"?"-":"";Vt.attr("text-anchor","middle").call(t.positionText,0,ye.side==="top"?et-Ve.bottom-g-S:et-Ve.top+g+S),Ge=ye._offset+(Te.x0+Te.x1)/2,Ft=Ae._offset+(ye.side==="top"?0:Ae._length);var Zt=Ve.width/2+S;Ge<Zt?(Ge=Zt,Ot.attr("d","M-"+(Zt-g)+",0L-"+(Zt-g*2)+","+kt+g+"H"+Zt+"v"+kt+(S*2+Ve.height)+"H-"+Zt+"V"+kt+g+"Z")):Ge>q.width-Zt?(Ge=q.width-Zt,Ot.attr("d","M"+(Zt-g)+",0L"+Zt+","+kt+g+"v"+kt+(S*2+Ve.height)+"H-"+Zt+"V"+kt+g+"H"+(Zt-g*2)+"Z")):Ot.attr("d","M0,0L"+g+","+kt+g+"H"+Zt+"v"+kt+(S*2+Ve.height)+"H-"+Zt+"V"+kt+g+"H-"+g+"Z"),Fe.minX=Ge-Zt,Fe.maxX=Ge+Zt,ye.side==="top"?(Fe.minY=Ft-(S*2+Ve.height),Fe.maxY=Ft-S):(Fe.minY=Ft+S,Fe.maxY=Ft+(S*2+Ve.height))}else{var tr,sr,rr;Ae.side==="right"?(tr="start",sr=1,rr="",Ge=ye._offset+ye._length):(tr="end",sr=-1,rr="-",Ge=ye._offset),Ft=Ae._offset+(Te.y0+Te.y1)/2,Vt.attr("text-anchor",tr),Ot.attr("d","M0,0L"+rr+g+","+g+"V"+(S+Ve.height/2)+"h"+rr+(S*2+Ve.width)+"V-"+(S+Ve.height/2)+"H"+rr+g+"V-"+g+"Z"),Fe.minY=Ft-(S+Ve.height/2),Fe.maxY=Ft+(S+Ve.height/2),Ae.side==="right"?(Fe.minX=Ge+g,Fe.maxX=Ge+g+(S*2+Ve.width)):(Fe.minX=Ge-g-(S*2+Ve.width),Fe.maxX=Ge-g);var Nt=Ve.height/2,hr=et-Ve.top-Nt,pr="clip"+q._uid+"commonlabel"+Ae._id,br;if(Ge<Ve.width+2*S+g){br="M-"+(g+S)+"-"+Nt+"h-"+(Ve.width-S)+"V"+Nt+"h"+(Ve.width-S)+"Z";var vr=Ve.width-Ge+S;t.positionText(Vt,vr,hr),tr==="end"&&Vt.selectAll("tspan").each(function(){var Fr=p.select(this),Br=l.tester.append("text").text(Fr.text()).call(l.font,Mr),xn=X(K,Br.node());Math.round(xn.width)<Math.round(Ve.width)&&Fr.attr("x",vr-xn.width),Br.remove()})}else t.positionText(Vt,sr*(S+g),hr),br=null;var Kr=q._topclips.selectAll("#"+pr).data(br?[0]:[]);Kr.enter().append("clipPath").attr("id",pr).append("path"),Kr.exit().remove(),Kr.select("path").attr("d",br),l.setClipUrl(Vt,br?pr:null,K)}St.attr("transform",w(Ge,Ft))}),m.isUnifiedHover(le)){me.selectAll("g.hovertext").remove();var $e=re.filter(function(St){return St.hoverinfo!=="none"});if($e.length===0)return;var at=q.hoverlabel,Xe=at.font,Pe={showlegend:!0,legend:{title:{text:De,font:Xe},font:Xe,bgcolor:at.bgcolor,bordercolor:at.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:q.legend?q.legend.traceorder:void 0,orientation:"v"}},we={font:Xe};T(Pe,we,K._fullData);var ue=we.legend;ue.entries=[];for(var ge=0;ge<$e.length;ge++){var Le=$e[ge];if(Le.hoverinfo!=="none"){var ke=B(Le,!0,le,q,De),it=ke[0],lt=ke[1];Le.name=lt,lt!==""?Le.text=lt+" : "+it:Le.text=it;var bt=Le.cd[Le.index];bt&&(bt.mc&&(Le.mc=bt.mc),bt.mcc&&(Le.mc=bt.mcc),bt.mlc&&(Le.mlc=bt.mlc),bt.mlcc&&(Le.mlc=bt.mlcc),bt.mlw&&(Le.mlw=bt.mlw),bt.mrc&&(Le.mrc=bt.mrc),bt.dir&&(Le.dir=bt.dir)),Le._distinct=!0,ue.entries.push([Le])}}ue.entries.sort(function(St,Ot){return St[0].trace.index-Ot[0].trace.index}),ue.layer=me,ue._inHover=!0,ue._groupTitleFont=at.grouptitlefont,f(K,ue);var Rt=me.select("g.legend"),Ut=X(K,Rt.node()),Gt=Ut.width+2*S,_t=Ut.height+2*S,nr=$e[0],lr=(nr.x0+nr.x1)/2,zr=(nr.y0+nr.y1)/2,mt=!(u.traceIs(nr.trace,"bar-like")||u.traceIs(nr.trace,"box-violin")),jt,Yt;Be==="y"?mt?(Yt=zr-S,jt=zr+S):(Yt=Math.min.apply(null,$e.map(function(St){return Math.min(St.y0,St.y1)})),jt=Math.max.apply(null,$e.map(function(St){return Math.max(St.y0,St.y1)}))):Yt=jt=C.mean($e.map(function(St){return(St.y0+St.y1)/2}))-_t/2;var wr,dr;Be==="x"?mt?(wr=lr+S,dr=lr-S):(wr=Math.max.apply(null,$e.map(function(St){return Math.max(St.x0,St.x1)})),dr=Math.min.apply(null,$e.map(function(St){return Math.min(St.x0,St.x1)}))):wr=dr=C.mean($e.map(function(St){return(St.x0+St.x1)/2}))-Gt/2;var ct=ye._offset,ot=Ae._offset;jt+=ot,wr+=ct,dr+=ct-Gt,Yt+=ot-_t;var wt,Mt;return wr+Gt<Qe&&wr>=0?wt=wr:dr+Gt<Qe&&dr>=0?wt=dr:ct+Gt<Qe?wt=ct:wr-lr<lr-dr+Gt?wt=Qe-Gt:wt=0,wt+=S,jt+_t<qe&&jt>=0?Mt=jt:Yt+_t<qe&&Yt>=0?Mt=Yt:ot+_t<qe?Mt=ot:jt-zr<zr-Yt+_t?Mt=qe-_t:Mt=0,Mt+=S,Rt.attr("transform",w(wt-1,Mt-1)),Rt}var Dt=me.selectAll("g.hovertext").data(re,function(St){return x(St)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var St=p.select(this);St.append("rect").call(a.fill,a.addOpacity(he,.8)),St.append("text").classed("name",!0),St.append("path").style("stroke-width","1px"),St.append("text").classed("nums",!0).call(l.font,Ie,_e)}),Dt.exit().remove(),Dt.each(function(St){var Ot=p.select(this).attr("transform",""),Vt=St.color;Array.isArray(Vt)&&(Vt=Vt[St.eventData[0].pointNumber]);var Qt=St.bgcolor||Vt,Kt=a.combine(a.opacity(Qt)?Qt:a.defaultLine,he),or=a.combine(a.opacity(Vt)?Vt:a.defaultLine,he),Mr=St.borderColor||a.contrast(Kt),Ve=B(St,ft,le,q,De,Ot),Ge=Ve[0],Ft=Ve[1],kt=Ot.select("text.nums").call(l.font,St.fontFamily||Ie,St.fontSize||_e,St.fontColor||Mr).text(Ge).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,K),Zt=Ot.select("text.name"),tr=0,sr=0;if(Ft&&Ft!==Ge){Zt.call(l.font,St.fontFamily||Ie,St.fontSize||_e,or).text(Ft).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,K);var rr=X(K,Zt.node());tr=rr.width+2*S,sr=rr.height+2*S}else Zt.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:Kt,stroke:Mr});var Nt=St.xa._offset+(St.x0+St.x1)/2,hr=St.ya._offset+(St.y0+St.y1)/2,pr=Math.abs(St.x1-St.x0),br=Math.abs(St.y1-St.y0),vr=X(K,kt.node()),Kr=vr.width/q._invScaleX,Fr=vr.height/q._invScaleY;St.ty0=(et-vr.top)/q._invScaleY,St.bx=Kr+2*S,St.by=Math.max(Fr+2*S,sr),St.anchor="start",St.txwidth=Kr,St.tx2width=tr,St.offset=0;var Br=(Kr+g+S+tr)*q._invScaleX,xn,jr;if(ae)St.pos=Nt,xn=hr+br/2+Br<=qe,jr=hr-br/2-Br>=0,(St.idealAlign==="top"||!xn)&&jr?(hr-=br/2,St.anchor="end"):xn?(hr+=br/2,St.anchor="start"):St.anchor="middle",St.crossPos=hr;else{if(St.pos=hr,xn=Nt+pr/2+Br<=Qe,jr=Nt-pr/2-Br>=0,(St.idealAlign==="left"||!xn)&&jr)Nt-=pr/2,St.anchor="end";else if(xn)Nt+=pr/2,St.anchor="start";else{St.anchor="middle";var Dn=Br/2,In=Nt+Dn-Qe,yr=Nt-Dn;In>0&&(Nt-=In),yr<0&&(Nt+=-yr)}St.crossPos=Nt}kt.attr("text-anchor",St.anchor),tr&&Zt.attr("text-anchor",St.anchor),Ot.attr("transform",w(Nt,hr)+(ae?v(o):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Fe}}function B(re,ie,K,q,le,ae){var he="",me="";re.nameOverride!==void 0&&(re.name=re.nameOverride),re.name&&(re.trace._meta&&(re.name=C.templateString(re.name,re.trace._meta)),he=ee(re.name,re.nameLength));var Me=K.charAt(0),xe=Me==="x"?"y":"x";re.zLabel!==void 0?(re.xLabel!==void 0&&(me+="x: "+re.xLabel+"<br>"),re.yLabel!==void 0&&(me+="y: "+re.yLabel+"<br>"),re.trace.type!=="choropleth"&&re.trace.type!=="choroplethmapbox"&&(me+=(me?"z: ":"")+re.zLabel)):ie&&re[Me+"Label"]===le?me=re[xe+"Label"]||"":re.xLabel===void 0?re.yLabel!==void 0&&re.trace.type!=="scattercarpet"&&(me=re.yLabel):re.yLabel===void 0?me=re.xLabel:me="("+re.xLabel+", "+re.yLabel+")",(re.text||re.text===0)&&!Array.isArray(re.text)&&(me+=(me?"<br>":"")+re.text),re.extraText!==void 0&&(me+=(me?"<br>":"")+re.extraText),ae&&me===""&&!re.hovertemplate&&(he===""&&ae.remove(),me=he);var Ie=re.hovertemplate||!1;if(Ie){var _e=re.hovertemplateLabels||re;re[Me+"Label"]!==le&&(_e[Me+"other"]=_e[Me+"Val"],_e[Me+"otherLabel"]=_e[Me+"Label"]),me=C.hovertemplateString(Ie,_e,q._d3locale,re.eventData[0]||{},re.trace._meta),me=me.replace(k,function(Te,ye){return he=ee(ye,re.nameLength),""})}return[me,he]}function I(re,ie,K,q){var le=ie?"xa":"ya",ae=ie?"ya":"xa",he=0,me=1,Me=re.size(),xe=new Array(Me),Ie=0,_e=q.minX,Te=q.maxX,ye=q.minY,Ae=q.maxY,Be=function(Xe){return Xe*K._invScaleX},Ue=function(Xe){return Xe*K._invScaleY};re.each(function(Xe){var Pe=Xe[le],we=Xe[ae],ue=Pe._id.charAt(0)==="x",ge=Pe.range;Ie===0&&ge&&ge[0]>ge[1]!==ue&&(me=-1);var Le=0,ke=ue?K.width:K.height;if(K.hovermode==="x"||K.hovermode==="y"){var it=z(Xe,ie),lt=Xe.anchor,bt=lt==="end"?-1:1,Rt,Ut;if(lt==="middle")Rt=Xe.crossPos+(ue?Ue(it.y-Xe.by/2):Be(Xe.bx/2+Xe.tx2width/2)),Ut=Rt+(ue?Ue(Xe.by):Be(Xe.bx));else if(ue)Rt=Xe.crossPos+Ue(g+it.y)-Ue(Xe.by/2-g),Ut=Rt+Ue(Xe.by);else{var Gt=Be(bt*g+it.x),_t=Gt+Be(bt*Xe.bx);Rt=Xe.crossPos+Math.min(Gt,_t),Ut=Xe.crossPos+Math.max(Gt,_t)}ue?ye!==void 0&&Ae!==void 0&&Math.min(Ut,Ae)-Math.max(Rt,ye)>1&&(we.side==="left"?(Le=we._mainLinePosition,ke=K.width):ke=we._mainLinePosition):_e!==void 0&&Te!==void 0&&Math.min(Ut,Te)-Math.max(Rt,_e)>1&&(we.side==="top"?(Le=we._mainLinePosition,ke=K.height):ke=we._mainLinePosition)}xe[Ie++]=[{datum:Xe,traceIndex:Xe.trace.index,dp:0,pos:Xe.pos,posref:Xe.posref,size:Xe.by*(ue?M:1)/2,pmin:Le,pmax:ke}]}),xe.sort(function(Xe,Pe){return Xe[0].posref-Pe[0].posref||me*(Pe[0].traceIndex-Xe[0].traceIndex)});var De,He,ut,et,Qe,qe,ft;function gt(Xe){var Pe=Xe[0],we=Xe[Xe.length-1];if(He=Pe.pmin-Pe.pos-Pe.dp+Pe.size,ut=we.pos+we.dp+we.size-Pe.pmax,He>.01){for(Qe=Xe.length-1;Qe>=0;Qe--)Xe[Qe].dp+=He;De=!1}if(!(ut<.01)){if(He<-.01){for(Qe=Xe.length-1;Qe>=0;Qe--)Xe[Qe].dp-=ut;De=!1}if(De){var ue=0;for(et=0;et<Xe.length;et++)qe=Xe[et],qe.pos+qe.dp+qe.size>Pe.pmax&&ue++;for(et=Xe.length-1;et>=0&&!(ue<=0);et--)qe=Xe[et],qe.pos>Pe.pmax-1&&(qe.del=!0,ue--);for(et=0;et<Xe.length&&!(ue<=0);et++)if(qe=Xe[et],qe.pos<Pe.pmin+1)for(qe.del=!0,ue--,ut=qe.size*2,Qe=Xe.length-1;Qe>=0;Qe--)Xe[Qe].dp-=ut;for(et=Xe.length-1;et>=0&&!(ue<=0);et--)qe=Xe[et],qe.pos+qe.dp+qe.size>Pe.pmax&&(qe.del=!0,ue--)}}}for(;!De&&he<=Me;){for(he++,De=!0,et=0;et<xe.length-1;){var xt=xe[et],Ct=xe[et+1],Je=xt[xt.length-1],ze=Ct[0];if(He=Je.pos+Je.dp+Je.size-ze.pos-ze.dp+ze.size,He>.01&&Je.pmin===ze.pmin&&Je.pmax===ze.pmax){for(Qe=Ct.length-1;Qe>=0;Qe--)Ct[Qe].dp+=He;for(xt.push.apply(xt,Ct),xe.splice(et+1,1),ft=0,Qe=xt.length-1;Qe>=0;Qe--)ft+=xt[Qe].dp;for(ut=ft/xt.length,Qe=xt.length-1;Qe>=0;Qe--)xt[Qe].dp-=ut;De=!1}else et++}xe.forEach(gt)}for(et=xe.length-1;et>=0;et--){var Fe=xe[et];for(Qe=Fe.length-1;Qe>=0;Qe--){var $e=Fe[Qe],at=$e.datum;at.offset=$e.dp,at.del=$e.del}}}function z(re,ie){var K=0,q=re.offset;return ie&&(q*=-E,K=re.offset*A),{x:K,y:q}}function O(re){var ie={start:1,end:-1,middle:0}[re.anchor],K=ie*(g+S),q=K+ie*(re.txwidth+S),le=re.anchor==="middle";return le&&(K-=re.tx2width/2,q+=re.txwidth/2+S),{alignShift:ie,textShiftX:K,text2ShiftX:q}}function F(re,ie,K,q){var le=function(he){return he*K},ae=function(he){return he*q};re.each(function(he){var me=p.select(this);if(he.del)return me.remove();var Me=me.select("text.nums"),xe=he.anchor,Ie=xe==="end"?-1:1,_e=O(he),Te=z(he,ie),ye=Te.x,Ae=Te.y,Be=xe==="middle";me.select("path").attr("d",Be?"M-"+le(he.bx/2+he.tx2width/2)+","+ae(Ae-he.by/2)+"h"+le(he.bx)+"v"+ae(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(Ie*g+ye)+","+ae(g+Ae)+"v"+ae(he.by/2-g)+"h"+le(Ie*he.bx)+"v-"+ae(he.by)+"H"+le(Ie*g+ye)+"V"+ae(Ae-g)+"Z");var Ue=ye+_e.textShiftX,De=Ae+he.ty0-he.by/2+S,He=he.textAlign||"auto";He!=="auto"&&(He==="left"&&xe!=="start"?(Me.attr("text-anchor","start"),Ue=Be?-he.bx/2-he.tx2width/2+S:-he.bx-S):He==="right"&&xe!=="end"&&(Me.attr("text-anchor","end"),Ue=Be?he.bx/2-he.tx2width/2-S:he.bx+S)),Me.call(t.positionText,le(Ue),ae(De)),he.tx2width&&(me.select("text.name").call(t.positionText,le(_e.text2ShiftX+_e.alignShift*S+ye),ae(Ae+he.ty0-he.by/2+S)),me.select("rect").call(l.setRect,le(_e.text2ShiftX+(_e.alignShift-1)*he.tx2width/2+ye),ae(Ae-he.by/2-1),le(he.tx2width),ae(he.by+2)))})}function N(re,ie){var K=re.index,q=re.trace||{},le=re.cd[0],ae=re.cd[K]||{};function he(Te){return Te||L(Te)&&Te===0}var me=Array.isArray(K)?function(Te,ye){var Ae=C.castOption(le,K,Te);return he(Ae)?Ae:C.extractOption({},q,"",ye)}:function(Te,ye){return C.extractOption(ae,q,Te,ye)};function Me(Te,ye,Ae){var Be=me(ye,Ae);he(Be)&&(re[Te]=Be)}if(Me("hoverinfo","hi","hoverinfo"),Me("bgcolor","hbg","hoverlabel.bgcolor"),Me("borderColor","hbc","hoverlabel.bordercolor"),Me("fontFamily","htf","hoverlabel.font.family"),Me("fontSize","hts","hoverlabel.font.size"),Me("fontColor","htc","hoverlabel.font.color"),Me("nameLength","hnl","hoverlabel.namelength"),Me("textAlign","hta","hoverlabel.align"),re.posref=ie==="y"||ie==="closest"&&q.orientation==="h"?re.xa._offset+(re.x0+re.x1)/2:re.ya._offset+(re.y0+re.y1)/2,re.x0=C.constrain(re.x0,0,re.xa._length),re.x1=C.constrain(re.x1,0,re.xa._length),re.y0=C.constrain(re.y0,0,re.ya._length),re.y1=C.constrain(re.y1,0,re.ya._length),re.xLabelVal!==void 0&&(re.xLabel="xLabel"in re?re.xLabel:c.hoverLabelText(re.xa,re.xLabelVal,q.xhoverformat),re.xVal=re.xa.c2d(re.xLabelVal)),re.yLabelVal!==void 0&&(re.yLabel="yLabel"in re?re.yLabel:c.hoverLabelText(re.ya,re.yLabelVal,q.yhoverformat),re.yVal=re.ya.c2d(re.yLabelVal)),re.zLabelVal!==void 0&&re.zLabel===void 0&&(re.zLabel=String(re.zLabelVal)),!isNaN(re.xerr)&&!(re.xa.type==="log"&&re.xerr<=0)){var xe=c.tickText(re.xa,re.xa.c2l(re.xerr),"hover").text;re.xerrneg!==void 0?re.xLabel+=" +"+xe+" / -"+c.tickText(re.xa,re.xa.c2l(re.xerrneg),"hover").text:re.xLabel+=" ± "+xe,ie==="x"&&(re.distance+=1)}if(!isNaN(re.yerr)&&!(re.ya.type==="log"&&re.yerr<=0)){var Ie=c.tickText(re.ya,re.ya.c2l(re.yerr),"hover").text;re.yerrneg!==void 0?re.yLabel+=" +"+Ie+" / -"+c.tickText(re.ya,re.ya.c2l(re.yerrneg),"hover").text:re.yLabel+=" ± "+Ie,ie==="y"&&(re.distance+=1)}var _e=re.hoverinfo||re.trace.hoverinfo;return _e&&_e!=="all"&&(_e=Array.isArray(_e)?_e:_e.split("+"),_e.indexOf("x")===-1&&(re.xLabel=void 0),_e.indexOf("y")===-1&&(re.yLabel=void 0),_e.indexOf("z")===-1&&(re.zLabel=void 0),_e.indexOf("text")===-1&&(re.text=void 0),_e.indexOf("name")===-1&&(re.name=void 0)),re}function Q(re,ie,K){var q=K.container,le=K.fullLayout,ae=le._size,he=K.event,me=!!ie.hLinePoint,Me=!!ie.vLinePoint,xe,Ie;if(q.selectAll(".spikeline").remove(),!!(Me||me)){var _e=a.combine(le.plot_bgcolor,le.paper_bgcolor);if(me){var Te=ie.hLinePoint,ye,Ae;xe=Te&&Te.xa,Ie=Te&&Te.ya;var Be=Ie.spikesnap;Be==="cursor"?(ye=he.pointerX,Ae=he.pointerY):(ye=xe._offset+Te.x,Ae=Ie._offset+Te.y);var Ue=n.readability(Te.color,_e)<1.5?a.contrast(_e):Te.color,De=Ie.spikemode,He=Ie.spikethickness,ut=Ie.spikecolor||Ue,et=c.getPxPosition(re,Ie),Qe,qe;if(De.indexOf("toaxis")!==-1||De.indexOf("across")!==-1){if(De.indexOf("toaxis")!==-1&&(Qe=et,qe=ye),De.indexOf("across")!==-1){var ft=Ie._counterDomainMin,gt=Ie._counterDomainMax;Ie.anchor==="free"&&(ft=Math.min(ft,Ie.position),gt=Math.max(gt,Ie.position)),Qe=ae.l+ft*ae.w,qe=ae.l+gt*ae.w}q.insert("line",":first-child").attr({x1:Qe,x2:qe,y1:Ae,y2:Ae,"stroke-width":He,stroke:ut,"stroke-dasharray":l.dashStyle(Ie.spikedash,He)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:Qe,x2:qe,y1:Ae,y2:Ae,"stroke-width":He+2,stroke:_e}).classed("spikeline",!0).classed("crisp",!0)}De.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:et+(Ie.side!=="right"?He:-He),cy:Ae,r:He,fill:ut}).classed("spikeline",!0)}if(Me){var xt=ie.vLinePoint,Ct,Je;xe=xt&&xt.xa,Ie=xt&&xt.ya;var ze=xe.spikesnap;ze==="cursor"?(Ct=he.pointerX,Je=he.pointerY):(Ct=xe._offset+xt.x,Je=Ie._offset+xt.y);var Fe=n.readability(xt.color,_e)<1.5?a.contrast(_e):xt.color,$e=xe.spikemode,at=xe.spikethickness,Xe=xe.spikecolor||Fe,Pe=c.getPxPosition(re,xe),we,ue;if($e.indexOf("toaxis")!==-1||$e.indexOf("across")!==-1){if($e.indexOf("toaxis")!==-1&&(we=Pe,ue=Je),$e.indexOf("across")!==-1){var ge=xe._counterDomainMin,Le=xe._counterDomainMax;xe.anchor==="free"&&(ge=Math.min(ge,xe.position),Le=Math.max(Le,xe.position)),we=ae.t+(1-Le)*ae.h,ue=ae.t+(1-ge)*ae.h}q.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:we,y2:ue,"stroke-width":at,stroke:Xe,"stroke-dasharray":l.dashStyle(xe.spikedash,at)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:Ct,x2:Ct,y1:we,y2:ue,"stroke-width":at+2,stroke:_e}).classed("spikeline",!0).classed("crisp",!0)}$e.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:Ct,cy:Pe-(xe.side!=="top"?at:-at),r:at,fill:Xe}).classed("spikeline",!0)}}}function $(re,ie,K){if(!K||K.length!==re._hoverdata.length)return!0;for(var q=K.length-1;q>=0;q--){var le=K[q],ae=re._hoverdata[q];if(le.curveNumber!==ae.curveNumber||String(le.pointNumber)!==String(ae.pointNumber)||String(le.pointNumbers)!==String(ae.pointNumbers))return!0}return!1}function j(re,ie){return!ie||ie.vLinePoint!==re._spikepoints.vLinePoint||ie.hLinePoint!==re._spikepoints.hLinePoint}function ee(re,ie){return t.plainText(re||"",{len:ie,allowedTags:["br","sub","sup","b","i","em"]})}function oe(re,ie){for(var K=ie.charAt(0),q=[],le=[],ae=[],he=0;he<re.length;he++){var me=re[he];u.traceIs(me.trace,"bar-like")||u.traceIs(me.trace,"box-violin")?ae.push(me):me.trace[K+"period"]?le.push(me):q.push(me)}return q.concat(le).concat(ae)}function Y(re,ie,K){var q=ie[re+"a"],le=ie[re+"Val"],ae=ie.cd[0];if(q.type==="category"||q.type==="multicategory")le=q._categoriesMap[le];else if(q.type==="date"){var he=ie.trace[re+"periodalignment"];if(he){var me=ie.cd[ie.index],Me=me[re+"Start"];Me===void 0&&(Me=me[re]);var xe=me[re+"End"];xe===void 0&&(xe=me[re]);var Ie=xe-Me;he==="end"?le+=Ie:he==="middle"&&(le+=Ie/2)}le=q.d2c(le)}return ae&&ae.t&&ae.t.posLetter===q._id&&(K.boxmode==="group"||K.violinmode==="group")&&(le+=ae.t.dPos),le}function V(re){return re.offsetTop+re.clientTop}function W(re){return re.offsetLeft+re.clientLeft}function X(re,ie){var K=re._fullLayout,q=ie.getBoundingClientRect(),le=q.left,ae=q.top,he=le+q.width,me=ae+q.height,Me=C.apply3DTransform(K._invTransform)(le,ae),xe=C.apply3DTransform(K._invTransform)(he,me),Ie=Me[0],_e=Me[1],Te=xe[0],ye=xe[1];return{x:Ie,y:_e,width:Te-Ie,height:ye-_e,top:Math.min(_e,ye),left:Math.min(Ie,Te),right:Math.max(Ie,Te),bottom:Math.max(_e,ye)}}},38048:function(G,U,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover;G.exports=function(w,v,y,t){t=t||{};var r=v.legend;function l(a){t.font[a]||(t.font[a]=r?v.legend.font[a]:v.font[a])}v&&n(v.hovermode)&&(t.font||(t.font={}),l("size"),l("family"),l("color"),r?(t.bgcolor||(t.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),y("hoverlabel.bgcolor",t.bgcolor),y("hoverlabel.bordercolor",t.bordercolor),y("hoverlabel.namelength",t.namelength),p.coerceFont(y,"hoverlabel.font",t.font),y("hoverlabel.align",t.align)}},98212:function(G,U,e){var p=e(71828),L=e(528);G.exports=function(C,w){function v(y,t){return w[y]!==void 0?w[y]:p.coerce(C,w,L,y,t)}return v("clickmode"),v("hovermode")}},30211:function(G,U,e){var p=e(39898),L=e(71828),n=e(28569),C=e(23469),w=e(528),v=e(88335);G.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:w},attributes:e(77914),layoutAttributes:w,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:n.unhover,loneHover:v.loneHover,loneUnhover:y,click:e(75914)};function y(l){var a=L.isD3Selection(l)?l:p.select(l);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function t(l,a,s){return L.castOption(l,a,"hoverlabel."+s)}function r(l,a,s){function c(u){return L.coerceHoverinfo({hoverinfo:u},{_module:l._module},a)}return L.castOption(l,s,"hoverinfo",c)}},528:function(G,U,e){var p=e(26675),L=e(41940),n=L({editType:"none"});n.family.dflt=p.HOVERFONT,n.size.dflt=p.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(G,U,e){var p=e(71828),L=e(528),n=e(98212),C=e(38048);G.exports=function(v,y){function t(u,m){return p.coerce(v,y,L,u,m)}var r=n(v,y);r&&(t("hoverdistance"),t("spikedistance"));var l=t("dragmode");l==="select"&&t("selectdirection");var a=y._has("mapbox"),s=y._has("geo"),c=y._basePlotModules.length;y.dragmode==="zoom"&&((a||s)&&c===1||a&&s&&c===2)&&(y.dragmode="pan"),C(v,y,t),p.coerceFont(t,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(G,U,e){var p=e(71828),L=e(38048),n=e(528);G.exports=function(w,v){function y(t,r){return p.coerce(w,v,n,t,r)}L(w,v,y)}},83312:function(G,U,e){var p=e(71828),L=e(30587).counter,n=e(27670).Y,C=e(85555).idRegex,w=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function y(s,c,u){var m=c[u+"axes"],h=Object.keys((s._splomAxes||{})[u]||{});if(Array.isArray(m))return m;if(h.length)return h}function t(s,c){var u=s.grid||{},m=y(c,u,"x"),h=y(c,u,"y");if(!s.grid&&!m&&!h)return;var T=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),f=Array.isArray(m),o=Array.isArray(h),d=f&&m!==u.xaxes&&o&&h!==u.yaxes,M,A;T?(M=u.subplots.length,A=u.subplots[0].length):(o&&(M=h.length),f&&(A=m.length));var E=w.newContainer(c,"grid");function g(z,O){return p.coerce(u,E,v,z,O)}var S=g("rows",M),b=g("columns",A);if(!(S*b>1)){delete c.grid;return}if(!T&&!f&&!o){var i=g("pattern")==="independent";i&&(T=!0)}E._hasSubplotGrid=T;var P=g("roworder"),x=P==="top to bottom",k=T?.2:.1,_=T?.3:.1,B,I;d&&c._splomGridDflt&&(B=c._splomGridDflt.xside,I=c._splomGridDflt.yside),E._domains={x:r("x",g,k,B,b),y:r("y",g,_,I,S,x)}}function r(s,c,u,m,h,T){var f=c(s+"gap",u),o=c("domain."+s);c(s+"side",m);for(var d=new Array(h),M=o[0],A=(o[1]-M)/(h-f),E=A*(1-f),g=0;g<h;g++){var S=M+A*g;d[T?h-1-g:g]=[S,S+E]}return d}function l(s,c){var u=c.grid;if(!(!u||!u._domains)){var m=s.grid||{},h=c._subplots,T=u._hasSubplotGrid,f=u.rows,o=u.columns,d=u.pattern==="independent",M,A,E,g,S,b,i,P=u._axisMap={};if(T){var x=m.subplots||[];b=u.subplots=new Array(f);var k=1;for(M=0;M<f;M++){var _=b[M]=new Array(o),B=x[M]||[];for(A=0;A<o;A++)if(d?(S=k===1?"xy":"x"+k+"y"+k,k++):S=B[A],_[A]="",h.cartesian.indexOf(S)!==-1){if(i=S.indexOf("y"),E=S.slice(0,i),g=S.slice(i),P[E]!==void 0&&P[E]!==A||P[g]!==void 0&&P[g]!==M)continue;_[A]=S,P[E]=A,P[g]=M}}}else{var I=y(c,m,"x"),z=y(c,m,"y");u.xaxes=a(I,h.xaxis,o,P,"x"),u.yaxes=a(z,h.yaxis,f,P,"y")}var O=u._anchors={},F=u.roworder==="top to bottom";for(var N in P){var Q=N.charAt(0),$=u[Q+"side"],j,ee,oe;if($.length<8)O[N]="free";else if(Q==="x"){if($.charAt(0)==="t"===F?(j=0,ee=1,oe=f):(j=f-1,ee=-1,oe=-1),T){var Y=P[N];for(M=j;M!==oe;M+=ee)if(S=b[M][Y],!!S&&(i=S.indexOf("y"),S.slice(0,i)===N)){O[N]=S.slice(i);break}}else for(M=j;M!==oe;M+=ee)if(g=u.yaxes[M],h.cartesian.indexOf(N+g)!==-1){O[N]=g;break}}else if($.charAt(0)==="l"?(j=0,ee=1,oe=o):(j=o-1,ee=-1,oe=-1),T){var V=P[N];for(M=j;M!==oe;M+=ee)if(S=b[V][M],!!S&&(i=S.indexOf("y"),S.slice(i)===N)){O[N]=S.slice(0,i);break}}else for(M=j;M!==oe;M+=ee)if(E=u.xaxes[M],h.cartesian.indexOf(E+N)!==-1){O[N]=E;break}}}}function a(s,c,u,m,h){var T=new Array(u),f;function o(d,M){c.indexOf(M)!==-1&&m[M]===void 0?(T[d]=M,m[M]=d):T[d]=""}if(Array.isArray(s))for(f=0;f<u;f++)o(f,s[f]);else for(o(0,h),f=1;f<u;f++)o(f,h+(f+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:l}},69819:function(G,U,e){var p=e(85555),L=e(44467).templatedArray;e(24695),G.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(G,U,e){var p=e(92770),L=e(58163);G.exports=function(C,w,v,y){w=w||{};var t=v==="log"&&w.type==="linear",r=v==="linear"&&w.type==="log";if(t||r){for(var l=C._fullLayout.images,a=w._id.charAt(0),s,c,u=0;u<l.length;u++)if(s=l[u],c="images["+u+"].",s[a+"ref"]===w._id){var m=s[a],h=s["size"+a],T=null,f=null;if(t){T=L(m,w.range);var o=h/Math.pow(10,T)/2;f=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else T=Math.pow(10,m),f=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));p(T)?p(f)||(f=null):(T=null,f=null),y(c+a,T),y(c+"size"+a,f)}}}},81603:function(G,U,e){var p=e(71828),L=e(89298),n=e(85501),C=e(69819),w="images";G.exports=function(t,r){var l={name:w,handleItemDefaults:v};n(t,r,l)};function v(y,t,r){function l(o,d){return p.coerce(y,t,C,o,d)}var a=l("source"),s=l("visible",!!a);if(!s)return t;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var c={_fullLayout:r},u=["x","y"],m=0;m<2;m++){var h=u[m],T=L.coerceRef(y,t,c,h,"paper",void 0);if(T!=="paper"){var f=L.getFromId(c,T);f._imgIndices.push(t._index)}L.coercePosition(t,c,l,T,h,0)}return t}},80750:function(G,U,e){var p=e(39898),L=e(91424),n=e(89298),C=e(41675),w=e(77922);G.exports=function(y){var t=y._fullLayout,r=[],l={},a=[],s,c;for(c=0;c<t.images.length;c++){var u=t.images[c];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){s=C.ref2id(u.xref)+C.ref2id(u.yref);var m=t._plots[s];if(!m){a.push(u);continue}m.mainplot&&(s=m.mainplot.id),l[s]||(l[s]=[]),l[s].push(u)}else u.layer==="above"?r.push(u):a.push(u)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(g){var S=p.select(this);if(this._imgSrc!==g.source)if(S.attr("xmlns",w.svg),g.source&&g.source.slice(0,5)==="data:")S.attr("xlink:href",g.source),this._imgSrc=g.source;else{var b=new Promise(function(i){var P=new Image;this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=x,P.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var _=k.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var B=k.toDataURL("image/png");S.attr("xlink:href",B),i()},S.on("error",x),P.src=g.source,this._imgSrc=g.source;function x(){S.remove(),i()}}.bind(this));y._promises.push(b)}}function f(g){var S=p.select(this),b=n.getFromId(y,g.xref),i=n.getFromId(y,g.yref),P=n.getRefType(g.xref)==="domain",x=n.getRefType(g.yref)==="domain",k=t._size,_,B;b!==void 0?_=typeof g.xref=="string"&&P?b._length*g.sizex:Math.abs(b.l2p(g.sizex)-b.l2p(0)):_=g.sizex*k.w,i!==void 0?B=typeof g.yref=="string"&&x?i._length*g.sizey:Math.abs(i.l2p(g.sizey)-i.l2p(0)):B=g.sizey*k.h;var I=_*h.x[g.xanchor].offset,z=B*h.y[g.yanchor].offset,O=h.x[g.xanchor].sizing+h.y[g.yanchor].sizing,F,N;switch(b!==void 0?F=typeof g.xref=="string"&&P?b._length*g.x+b._offset:b.r2p(g.x)+b._offset:F=g.x*k.w+k.l,F+=I,i!==void 0?N=typeof g.yref=="string"&&x?i._length*(1-g.y)+i._offset:i.r2p(g.y)+i._offset:N=k.h-g.y*k.h+k.t,N+=z,g.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}S.attr({x:F,y:N,width:_,height:B,preserveAspectRatio:O,opacity:g.opacity});var Q=b&&n.getRefType(g.xref)!=="domain"?b._id:"",$=i&&n.getRefType(g.yref)!=="domain"?i._id:"",j=Q+$;L.setClipUrl(S,j?"clip"+t._uid+j:null,y)}var o=t._imageLowerLayer.selectAll("image").data(a),d=t._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(g){T.bind(this)(g),f.bind(this)(g)}),d.each(function(g){T.bind(this)(g),f.bind(this)(g)});var M=Object.keys(t._plots);for(c=0;c<M.length;c++){s=M[c];var A=t._plots[s];if(A.imagelayer){var E=A.imagelayer.selectAll("image").data(l[s]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(g){T.bind(this)(g),f.bind(this)(g)})}}}},68804:function(G,U,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(G,U,e){var p=e(41940),L=e(22399);G.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(G,U,e){var p=e(73972),L=e(71828),n=e(44467),C=e(9012),w=e(33030),v=e(10820),y=e(10130);G.exports=function(r,l,a){var s=r.legend||{},c=n.newContainer(l,"legend");function u(B,I){return L.coerce(s,c,w,B,I)}for(var m,h=function(B,I){var z=m._input,O=m;return L.coerce(z,O,C,B,I)},T=l.font||{},f=L.coerceFont(u,"grouptitlefont",L.extendFlat({},T,{size:Math.round(T.size*1.1)})),o=0,d=!1,M="normal",A=0;A<a.length;A++)m=a[A],m.visible&&((m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&m._module.attributes.showlegend.dflt===!1))&&(o++,m.showlegend&&(d=!0,(p.traceIs(m,"pie-like")||m._input.showlegend===!0)&&o++),L.coerceFont(h,"legendgrouptitle.font",f)),(p.traceIs(m,"bar")&&l.barmode==="stack"||["tonextx","tonexty"].indexOf(m.fill)!==-1)&&(M=y.isGrouped({traceorder:M})?"grouped+reversed":"reversed"),m.legendgroup!==void 0&&m.legendgroup!==""&&(M=y.isReversed({traceorder:M})?"reversed+grouped":"grouped"));var E=L.coerce(r,l,v,"showlegend",d&&o>1);if(E===!1&&(l.legend=void 0),!(E===!1&&!s.uirevision)&&(u("uirevision",l.uirevision),E!==!1)){u("bgcolor",l.paper_bgcolor),u("bordercolor"),u("borderwidth");var g=L.coerceFont(u,"font",l.font),S=u("orientation"),b=S==="h",i,P,x;b?(i=0,p.getComponentMethod("rangeslider","isVisible")(r.xaxis)?(P=1.1,x="bottom"):(P=-.1,x="top")):(i=1.02,P=1,x="auto"),u("traceorder",M),y.isGrouped(l.legend)&&u("tracegroupgap"),u("entrywidth"),u("entrywidthmode"),u("itemsizing"),u("itemwidth"),u("itemclick"),u("itemdoubleclick"),u("groupclick"),u("x",i),u("xanchor"),u("y",P),u("yanchor",x),u("valign"),L.noneOrAll(s,c,["x","y"]);var k=u("title.text");if(k){u("title.side",b?"left":"top");var _=L.extendFlat({},g,{size:L.bigFont(g.size)});L.coerceFont(u,"title.font",_)}}}},43969:function(G,U,e){var p=e(39898),L=e(71828),n=e(74875),C=e(73972),w=e(11086),v=e(28569),y=e(91424),t=e(7901),r=e(63893),l=e(85167),a=e(14928),s=e(18783),c=s.LINE_SPACING,u=s.FROM_TL,m=s.FROM_BR,h=e(82424),T=e(53630),f=e(10130),o=1;G.exports=function(z,O){return O||(O=z._fullLayout.legend||{}),d(z,O)};function d(I,z){var O=I._fullLayout,F="legend"+O._uid,N,Q=z._inHover;if(Q?(N=z.layer,F+="-hover"):N=O._infolayer,!!N){I._legendMouseDownTime||(I._legendMouseDownTime=0);var $;if(Q){if(!z.entries)return;$=h(z.entries,z)}else{if(!I.calcdata)return;$=O.showlegend&&h(I.calcdata,z)}var j=O.hiddenlabels||[];if(!Q&&(!O.showlegend||!$.length))return N.selectAll(".legend").remove(),O._topdefs.select("#"+F).remove(),n.autoMargin(I,"legend");var ee=L.ensureSingle(N,"g","legend",function(q){Q||q.attr("pointer-events","all")}),oe=L.ensureSingleById(O._topdefs,"clipPath",F,function(q){q.append("rect")}),Y=L.ensureSingle(ee,"rect","bg",function(q){q.attr("shape-rendering","crispEdges")});Y.call(t.stroke,z.bordercolor).call(t.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var V=L.ensureSingle(ee,"g","scrollbox"),W=z.title;if(z._titleWidth=0,z._titleHeight=0,W.text){var X=L.ensureSingle(V,"text","legendtitletext");X.attr("text-anchor","start").call(y.font,W.font).text(W.text),b(X,V,I,z,o)}else V.selectAll(".legendtitletext").remove();var re=L.ensureSingle(ee,"rect","scrollbar",function(q){q.attr(a.scrollBarEnterAttrs).call(t.fill,a.scrollBarColor)}),ie=V.selectAll("g.groups").data($);ie.enter().append("g").attr("class","groups"),ie.exit().remove();var K=ie.selectAll("g.traces").data(L.identity);K.enter().append("g").attr("class","traces"),K.exit().remove(),K.style("opacity",function(q){var le=q[0].trace;return C.traceIs(le,"pie-like")?j.indexOf(q[0].label)!==-1?.5:1:le.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(E,I,z)}).call(T,I,z).each(function(){Q||p.select(this).call(S,I)}),L.syncOrAsync([n.previousPromises,function(){return x(I,ie,K,z)},function(){var q=O._size,le=z.borderwidth;if(!Q){var ae=k(I);if(ae)return;var he=q.l+q.w*z.x-u[_(z)]*z._width,me=q.t+q.h*(1-z.y)-u[B(z)]*z._effHeight;if(O.margin.autoexpand){var Me=he,xe=me;he=L.constrain(he,0,O.width-z._width),me=L.constrain(me,0,O.height-z._effHeight),he!==Me&&L.log("Constrain legend.x to make legend fit inside graph"),me!==xe&&L.log("Constrain legend.y to make legend fit inside graph")}y.setTranslate(ee,he,me)}if(re.on(".drag",null),ee.on("wheel",null),Q||z._height<=z._maxHeight||I._context.staticPlot){var Ie=z._effHeight;Q&&(Ie=z._height),Y.attr({width:z._width-le,height:Ie-le,x:le/2,y:le/2}),y.setTranslate(V,0,0),oe.select("rect").attr({width:z._width-2*le,height:Ie-2*le,x:le,y:le}),y.setClipUrl(V,F,I),y.setRect(re,0,0,0,0),delete z._scrollY}else{var _e=Math.max(a.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),Te=z._effHeight-_e-2*a.scrollBarMargin,ye=z._height-z._effHeight,Ae=Te/ye,Be=Math.min(z._scrollY||0,ye);Y.attr({width:z._width-2*le+a.scrollBarWidth+a.scrollBarMargin,height:z._effHeight-le,x:le/2,y:le/2}),oe.select("rect").attr({width:z._width-2*le+a.scrollBarWidth+a.scrollBarMargin,height:z._effHeight-2*le,x:le,y:le+Be}),y.setClipUrl(V,F,I),ft(Be,_e,Ae),ee.on("wheel",function(){Be=L.constrain(z._scrollY+p.event.deltaY/Te*ye,0,ye),ft(Be,_e,Ae),Be!==0&&Be!==ye&&p.event.preventDefault()});var Ue,De,He,ut=function(ze,Fe,$e){var at=($e-Fe)/Ae+ze;return L.constrain(at,0,ye)},et=function(ze,Fe,$e){var at=(Fe-$e)/Ae+ze;return L.constrain(at,0,ye)},Qe=p.behavior.drag().on("dragstart",function(){var ze=p.event.sourceEvent;ze.type==="touchstart"?Ue=ze.changedTouches[0].clientY:Ue=ze.clientY,He=Be}).on("drag",function(){var ze=p.event.sourceEvent;ze.buttons===2||ze.ctrlKey||(ze.type==="touchmove"?De=ze.changedTouches[0].clientY:De=ze.clientY,Be=ut(He,Ue,De),ft(Be,_e,Ae))});re.call(Qe);var qe=p.behavior.drag().on("dragstart",function(){var ze=p.event.sourceEvent;ze.type==="touchstart"&&(Ue=ze.changedTouches[0].clientY,He=Be)}).on("drag",function(){var ze=p.event.sourceEvent;ze.type==="touchmove"&&(De=ze.changedTouches[0].clientY,Be=et(He,Ue,De),ft(Be,_e,Ae))});V.call(qe)}function ft(ze,Fe,$e){z._scrollY=I._fullLayout.legend._scrollY=ze,y.setTranslate(V,0,-ze),y.setRect(re,z._width,a.scrollBarMargin+ze*$e,a.scrollBarWidth,Fe),oe.select("rect").attr("y",le+ze)}if(I._context.edits.legendPosition){var gt,xt,Ct,Je;ee.classed("cursor-move",!0),v.init({element:ee.node(),gd:I,prepFn:function(){var ze=y.getTranslate(ee);Ct=ze.x,Je=ze.y},moveFn:function(ze,Fe){var $e=Ct+ze,at=Je+Fe;y.setTranslate(ee,$e,at),gt=v.align($e,0,q.l,q.l+q.w,z.xanchor),xt=v.align(at,0,q.t+q.h,q.t,z.yanchor)},doneFn:function(){gt!==void 0&&xt!==void 0&&C.call("_guiRelayout",I,{"legend.x":gt,"legend.y":xt})},clickFn:function(ze,Fe){var $e=N.selectAll("g.traces").filter(function(){var at=this.getBoundingClientRect();return Fe.clientX>=at.left&&Fe.clientX<=at.right&&Fe.clientY>=at.top&&Fe.clientY<=at.bottom});$e.size()>0&&A(I,ee,$e,ze,Fe)}})}}],I)}}function M(I,z,O){var F=I[0],N=F.width,Q=z.entrywidthmode,$=F.trace.legendwidth||z.entrywidth;return Q==="fraction"?z._maxWidth*$:O+($||N)}function A(I,z,O,F,N){var Q=O.data()[0][0].trace,$={event:N,node:O.node(),curveNumber:Q.index,expandedIndex:Q._expandedIndex,data:I.data,layout:I.layout,frames:I._transitionData._frames,config:I._context,fullData:I._fullData,fullLayout:I._fullLayout};Q._group&&($.group=Q._group),C.traceIs(Q,"pie-like")&&($.label=O.datum()[0].label);var j=w.triggerHandler(I,"plotly_legendclick",$);if(j!==!1){if(F===1)z._clickTimeout=setTimeout(function(){I._fullLayout&&l(O,I,F)},I._context.doubleClickDelay);else if(F===2){z._clickTimeout&&clearTimeout(z._clickTimeout),I._legendMouseDownTime=0;var ee=w.triggerHandler(I,"plotly_legenddoubleclick",$);ee!==!1&&l(O,I,F)}}}function E(I,z,O){var F=I.data()[0][0],N=F.trace,Q=C.traceIs(N,"pie-like"),$=!O._inHover&&z._context.edits.legendText&&!Q,j=O._maxNameLength,ee,oe;F.groupTitle?(ee=F.groupTitle.text,oe=F.groupTitle.font):(oe=O.font,O.entries?ee=F.text:(ee=Q?F.label:N.name,N._meta&&(ee=L.templateString(ee,N._meta))));var Y=L.ensureSingle(I,"text","legendtext");Y.attr("text-anchor","start").call(y.font,oe).text($?g(ee,j):ee);var V=O.itemwidth+a.itemGap*2;r.positionText(Y,V,0),$?Y.call(r.makeEditable,{gd:z,text:ee}).call(b,I,z,O).on("edit",function(W){this.text(g(W,j)).call(b,I,z,O);var X=F.trace._fullInput||{},re={};if(C.hasTransform(X,"groupby")){var ie=C.getTransformIndices(X,"groupby"),K=ie[ie.length-1],q=L.keyedContainer(X,"transforms["+K+"].styles","target","value.name");q.set(F.trace._group,W),re=q.constructUpdate()}else re.name=W;return C.call("_guiRestyle",z,re,N.index)}):b(Y,I,z,O)}function g(I,z){var O=Math.max(4,z);if(I&&I.trim().length>=O/2)return I;I=I||"";for(var F=O-I.length;F>0;F--)I+=" ";return I}function S(I,z){var O=z._context.doubleClickDelay,F,N=1,Q=L.ensureSingle(I,"rect","legendtoggle",function($){z._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(t.fill,"rgba(0,0,0,0)")});z._context.staticPlot||(Q.on("mousedown",function(){F=new Date().getTime(),F-z._legendMouseDownTime<O?N+=1:(N=1,z._legendMouseDownTime=F)}),Q.on("mouseup",function(){if(!(z._dragged||z._editing)){var $=z._fullLayout.legend;new Date().getTime()-z._legendMouseDownTime>O&&(N=Math.max(N-1,1)),A(z,$,I,N,p.event)}}))}function b(I,z,O,F,N){F._inHover&&I.attr("data-notex",!0),r.convertToTspans(I,O,function(){i(z,O,F,N)})}function i(I,z,O,F){var N=I.data()[0][0];if(!O._inHover&&N&&!N.trace.showlegend){I.remove();return}var Q=I.select("g[class*=math-group]"),$=Q.node();O||(O=z._fullLayout.legend);var j=O.borderwidth,ee;F===o?ee=O.title.font:N.groupTitle?ee=N.groupTitle.font:ee=O.font;var oe=ee.size*c,Y,V;if($){var W=y.bBox($);Y=W.height,V=W.width,F===o?y.setTranslate(Q,j,j+Y*.75):y.setTranslate(Q,0,Y*.25)}else{var X=I.select(F===o?".legendtitletext":".legendtext"),re=r.lineCount(X),ie=X.node();if(Y=oe*re,V=ie?y.bBox(ie).width:0,F===o)O.title.side==="left"&&(V+=a.itemGap*2),r.positionText(X,j+a.titlePad,j+oe);else{var K=a.itemGap*2+O.itemwidth;N.groupTitle&&(K=a.itemGap,V-=O.itemwidth),r.positionText(X,K,-oe*((re-1)/2-.3))}}F===o?(O._titleWidth=V,O._titleHeight=Y):(N.lineHeight=oe,N.height=Math.max(Y,16)+3,N.width=V)}function P(I){var z=0,O=0,F=I.title.side;return F&&(F.indexOf("left")!==-1&&(z=I._titleWidth),F.indexOf("top")!==-1&&(O=I._titleHeight)),[z,O]}function x(I,z,O,F){var N=I._fullLayout;F||(F=N.legend);var Q=N._size,$=f.isVertical(F),j=f.isGrouped(F),ee=F.entrywidthmode==="fraction",oe=F.borderwidth,Y=2*oe,V=a.itemGap,W=F.itemwidth+V*2,X=2*(oe+V),re=B(F),ie=F.y<0||F.y===0&&re==="top",K=F.y>1||F.y===1&&re==="bottom",q=F.tracegroupgap,le={};F._maxHeight=Math.max(ie||K?N.height/2:Q.h,30);var ae=0;F._width=0,F._height=0;var he=P(F);if($)O.each(function(Ct){var Je=Ct[0].height;y.setTranslate(this,oe+he[0],oe+he[1]+F._height+Je/2+V),F._height+=Je,F._width=Math.max(F._width,Ct[0].width)}),ae=W+F._width,F._width+=V+W+Y,F._height+=X,j&&(z.each(function(Ct,Je){y.setTranslate(this,0,Je*F.tracegroupgap)}),F._height+=(F._lgroupsLength-1)*F.tracegroupgap);else{var me=_(F),Me=F.x<0||F.x===0&&me==="right",xe=F.x>1||F.x===1&&me==="left",Ie=K||ie,_e=N.width/2;F._maxWidth=Math.max(Me?Ie&&me==="left"?Q.l+Q.w:_e:xe?Ie&&me==="right"?Q.r+Q.w:_e:Q.w,2*W);var Te=0,ye=0;O.each(function(Ct){var Je=M(Ct,F,W);Te=Math.max(Te,Je),ye+=Je}),ae=null;var Ae=0;if(j){var Be=0,Ue=0,De=0;z.each(function(){var Ct=0,Je=0;p.select(this).selectAll("g.traces").each(function(Fe){var $e=M(Fe,F,W),at=Fe[0].height;y.setTranslate(this,he[0],he[1]+oe+V+at/2+Je),Je+=at,Ct=Math.max(Ct,$e),le[Fe[0].trace.legendgroup]=Ct});var ze=Ct+V;Ue>0&&ze+oe+Ue>F._maxWidth?(Ae=Math.max(Ae,Ue),Ue=0,De+=Be+q,Be=Je):Be=Math.max(Be,Je),y.setTranslate(this,Ue,De),Ue+=ze}),F._width=Math.max(Ae,Ue)+oe,F._height=De+Be+X}else{var He=O.size(),ut=ye+Y+(He-1)*V<F._maxWidth,et=0,Qe=0,qe=0,ft=0;O.each(function(Ct){var Je=Ct[0].height,ze=M(Ct,F,W),Fe=ut?ze:Te;ee||(Fe+=V),Fe+oe+Qe-V>=F._maxWidth&&(Ae=Math.max(Ae,ft),Qe=0,qe+=et,F._height+=et,et=0),y.setTranslate(this,he[0]+oe+Qe,he[1]+oe+qe+Je/2+V),ft=Qe+ze+V,Qe+=Fe,et=Math.max(et,Je)}),ut?(F._width=Qe+Y,F._height=et+X):(F._width=Math.max(Ae,ft)+Y,F._height+=et+X)}}F._width=Math.ceil(Math.max(F._width+he[0],F._titleWidth+2*(oe+a.titlePad))),F._height=Math.ceil(Math.max(F._height+he[1],F._titleHeight+2*(oe+a.itemGap))),F._effHeight=Math.min(F._height,F._maxHeight);var gt=I._context.edits,xt=gt.legendText||gt.legendPosition;O.each(function(Ct){var Je=p.select(this).select(".legendtoggle"),ze=Ct[0].height,Fe=Ct[0].trace.legendgroup,$e=M(Ct,F,W);j&&Fe!==""&&($e=le[Fe]);var at=xt?W:ae||$e;!$&&!ee&&(at+=V/2),y.setRect(Je,0,-ze/2,at,ze)})}function k(I){var z=I._fullLayout,O=z.legend,F=_(O),N=B(O);return n.autoMargin(I,"legend",{x:O.x,y:O.y,l:O._width*u[F],r:O._width*m[F],b:O._effHeight*m[N],t:O._effHeight*u[N]})}function _(I){return L.isRightAnchor(I)?"right":L.isCenterAnchor(I)?"center":"left"}function B(I){return L.isBottomAnchor(I)?"bottom":L.isMiddleAnchor(I)?"middle":"top"}},82424:function(G,U,e){var p=e(73972),L=e(10130);G.exports=function(C,w){var v=w._inHover,y=L.isGrouped(w),t=L.isReversed(w),r={},l=[],a=!1,s={},c=0,u=0,m,h;function T(z,O){if(z===""||!L.isGrouped(w)){var F="~~i"+c;l.push(F),r[F]=[O],c++}else l.indexOf(z)===-1?(l.push(z),a=!0,r[z]=[O]):r[z].push(O)}for(m=0;m<C.length;m++){var f=C[m],o=f[0],d=o.trace,M=d.legendgroup;if(!(!v&&(!d.visible||!d.showlegend)))if(p.traceIs(d,"pie-like"))for(s[M]||(s[M]={}),h=0;h<f.length;h++){var A=f[h].label;s[M][A]||(T(M,{label:A,color:f[h].color,i:f[h].i,trace:d,pts:f[h].pts}),s[M][A]=!0,u=Math.max(u,(A||"").length))}else T(M,o),u=Math.max(u,(d.name||"").length)}if(!l.length)return[];var E=!a||!y,g=[];for(m=0;m<l.length;m++){var S=r[l[m]];E?g.push(S[0]):g.push(S)}for(E&&(g=[g]),m=0;m<g.length;m++){var b=1/0;for(h=0;h<g[m].length;h++){var i=g[m][h].trace.legendrank;b>i&&(b=i)}g[m][0]._groupMinRank=b,g[m][0]._preGroupSort=m}var P=function(z,O){return z[0]._groupMinRank-O[0]._groupMinRank||z[0]._preGroupSort-O[0]._preGroupSort},x=function(z,O){return z.trace.legendrank-O.trace.legendrank||z._preSort-O._preSort};for(g.forEach(function(z,O){z[0]._preGroupSort=O}),g.sort(P),m=0;m<g.length;m++){g[m].forEach(function(z,O){z._preSort=O}),g[m].sort(x);var k=g[m][0].trace,_=null;for(h=0;h<g[m].length;h++){var B=g[m][h].trace.legendgrouptitle;if(B&&B.text){_=B,v&&(B.font=w._groupTitleFont);break}}if(t&&g[m].reverse(),_){var I=!1;for(h=0;h<g[m].length;h++)if(p.traceIs(g[m][h].trace,"pie-like")){I=!0;break}g[m].unshift({i:-1,groupTitle:_,noClick:I,trace:{showlegend:k.showlegend,legendgroup:k.legendgroup,visible:w.groupclick==="toggleitem"?!0:k.visible}})}for(h=0;h<g[m].length;h++)g[m][h]=[g[m][h]]}return w._lgroupsLength=g.length,w._maxNameLength=u,g}},85167:function(G,U,e){var p=e(71828),L=e(73972),n=!0;G.exports=function(w,v,y){var t=v._fullLayout;if(v._dragged||v._editing)return;var r=t.legend.itemclick,l=t.legend.itemdoubleclick,a=t.legend.groupclick;y===1&&r==="toggle"&&l==="toggleothers"&&n&&v.data&&v._context.showTips&&p.notifier(p._(v,"Double-click on legend to isolate one trace"),"long"),n=!1;var s;if(y===1?s=r:y===2&&(s=l),!s)return;var c=a==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],m=w.data()[0][0];if(m.groupTitle&&m.noClick)return;var h=v._fullData,T=m.trace,f=T.legendgroup,o,d,M,A,E,g,S={},b=[],i=[],P=[];function x(V,W,X){var re=b.indexOf(V),ie=S[W];return ie||(ie=S[W]=[]),b.indexOf(V)===-1&&(b.push(V),re=b.length-1),ie[re]=X,re}function k(V,W){if(!(m.groupTitle&&!c)){var X=V._fullInput;if(L.hasTransform(X,"groupby")){var re=i[X.index];if(!re){var ie=L.getTransformIndices(X,"groupby"),K=ie[ie.length-1];re=p.keyedContainer(X,"transforms["+K+"].styles","target","value.visible"),i[X.index]=re}var q=re.get(V._group);q===void 0&&(q=!0),q!==!1&&re.set(V._group,W),P[X.index]=x(X.index,"visible",X.visible!==!1)}else{var le=X.visible===!1?!1:W;x(X.index,"visible",le)}}}if(L.traceIs(T,"pie-like")){var _=m.label,B=u.indexOf(_);s==="toggle"?B===-1?u.push(_):u.splice(B,1):s==="toggleothers"&&(u=[],v.calcdata[0].forEach(function(V){_!==V.label&&u.push(V.label)}),v._fullLayout.hiddenlabels&&v._fullLayout.hiddenlabels.length===u.length&&B===-1&&(u=[])),L.call("_guiRelayout",v,"hiddenlabels",u)}else{var I=f&&f.length,z=[],O;if(I)for(o=0;o<h.length;o++)O=h[o],O.visible&&O.legendgroup===f&&z.push(o);if(s==="toggle"){var F;switch(T.visible){case!0:F="legendonly";break;case!1:F=!1;break;case"legendonly":F=!0;break}if(I)if(c)for(o=0;o<h.length;o++)h[o].visible!==!1&&h[o].legendgroup===f&&k(h[o],F);else k(T,F);else k(T,F)}else if(s==="toggleothers"){var N,Q,$,j,ee=!0;for(o=0;o<h.length;o++)if(N=h[o]===T,$=h[o].showlegend!==!0,!(N||$)&&(Q=I&&h[o].legendgroup===f,!Q&&h[o].visible===!0&&!L.traceIs(h[o],"notLegendIsolatable"))){ee=!1;break}for(o=0;o<h.length;o++)if(h[o].visible!==!1&&!L.traceIs(h[o],"notLegendIsolatable"))switch(T.visible){case"legendonly":k(h[o],!0);break;case!0:j=ee?!0:"legendonly",N=h[o]===T,$=h[o].showlegend!==!0&&!h[o].legendgroup,Q=N||I&&h[o].legendgroup===f,k(h[o],Q||$?!0:j);break}}for(o=0;o<i.length;o++)if(M=i[o],!!M){var oe=M.constructUpdate(),Y=Object.keys(oe);for(d=0;d<Y.length;d++)A=Y[d],g=S[A]=S[A]||[],g[P[o]]=oe[A]}for(E=Object.keys(S),o=0;o<E.length;o++)for(A=E[o],d=0;d<b.length;d++)S[A].hasOwnProperty(d)||(S[A][d]=void 0);L.call("_guiRestyle",v,S,b)}}},10130:function(G,U){U.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(p){return p.orientation!=="h"},U.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(G,U,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(G,U,e){var p=e(39898),L=e(73972),n=e(71828),C=n.strTranslate,w=e(91424),v=e(7901),y=e(52075).extractOpts,t=e(34098),r=e(63463),l=e(53581).castOption,a=e(14928),s=12,c=5,u=2,m=10,h=5;G.exports=function(M,A,E){var g=A._fullLayout;E||(E=g.legend);var S=E.itemsizing==="constant",b=E.itemwidth,i=(b+a.itemGap*2)/2,P=C(i,0),x=function(Y,V,W,X){var re;if(Y+1)re=Y;else if(V&&V.width>0)re=V.width;else return 0;return S?X:Math.min(re,W)};M.each(function(Y){var V=p.select(this),W=n.ensureSingle(V,"g","layers");W.style("opacity",Y[0].trace.opacity);var X=E.valign,re=Y[0].lineHeight,ie=Y[0].height;if(X==="middle"||!re||!ie)W.attr("transform",null);else{var K={top:1,bottom:-1}[X],q=K*(.5*(re-ie+3));W.attr("transform",C(0,q))}var le=W.selectAll("g.legendfill").data([Y]);le.enter().append("g").classed("legendfill",!0);var ae=W.selectAll("g.legendlines").data([Y]);ae.enter().append("g").classed("legendlines",!0);var he=W.selectAll("g.legendsymbols").data([Y]);he.enter().append("g").classed("legendsymbols",!0),he.selectAll("g.legendpoints").data([Y]).enter().append("g").classed("legendpoints",!0)}).each(oe).each(B).each(z).each(I).each(F).each(j).each($).each(k).each(_).each(N).each(Q);function k(Y){var V=f(Y),W=V.showFill,X=V.showLine,re=V.showGradientLine,ie=V.showGradientFill,K=V.anyFill,q=V.anyLine,le=Y[0],ae=le.trace,he,me,Me=y(ae),xe=Me.colorscale,Ie=Me.reversescale,_e=function(He){if(He.size())if(W)w.fillGroupStyle(He,A);else{var ut="legendfill-"+ae.uid;w.gradient(He,A,ut,T(Ie),xe,"fill")}},Te=function(He){if(He.size()){var ut="legendline-"+ae.uid;w.lineGroupStyle(He),w.gradient(He,A,ut,T(Ie),xe,"stroke")}},ye=t.hasMarkers(ae)||!K?"M5,0":q?"M5,-2":"M5,-3",Ae=p.select(this),Be=Ae.select(".legendfill").selectAll("path").data(W||ie?[Y]:[]);if(Be.enter().append("path").classed("js-fill",!0),Be.exit().remove(),Be.attr("d",ye+"h"+b+"v6h-"+b+"z").call(_e),X||re){var Ue=x(void 0,ae.line,m,c);me=n.minExtend(ae,{line:{width:Ue}}),he=[n.minExtend(le,{trace:me})]}var De=Ae.select(".legendlines").selectAll("path").data(X||re?[he]:[]);De.enter().append("path").classed("js-line",!0),De.exit().remove(),De.attr("d",ye+(re?"l"+b+",0.0001":"h"+b)).call(X?w.lineGroupStyle:Te)}function _(Y){var V=f(Y),W=V.anyFill,X=V.anyLine,re=V.showLine,ie=V.showMarker,K=Y[0],q=K.trace,le=!ie&&!X&&!W&&t.hasText(q),ae,he;function me(Be,Ue,De,He){var ut=n.nestedProperty(q,Be).get(),et=n.isArrayOrTypedArray(ut)&&Ue?Ue(ut):ut;if(S&&et&&He!==void 0&&(et=He),De){if(et<De[0])return De[0];if(et>De[1])return De[1]}return et}function Me(Be){return K._distinct&&K.index&&Be[K.index]?Be[K.index]:Be[0]}if(ie||le||re){var xe={},Ie={};if(ie){xe.mc=me("marker.color",Me),xe.mx=me("marker.symbol",Me),xe.mo=me("marker.opacity",n.mean,[.2,1]),xe.mlc=me("marker.line.color",Me),xe.mlw=me("marker.line.width",n.mean,[0,5],u),Ie.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _e=me("marker.size",n.mean,[2,16],s);xe.ms=_e,Ie.marker.size=_e}re&&(Ie.line={width:me("line.width",Me,[0,10],c)}),le&&(xe.tx="Aa",xe.tp=me("textposition",Me),xe.ts=10,xe.tc=me("textfont.color",Me),xe.tf=me("textfont.family",Me)),ae=[n.minExtend(K,xe)],he=n.minExtend(q,Ie),he.selectedpoints=null,he.texttemplate=null}var Te=p.select(this).select("g.legendpoints"),ye=Te.selectAll("path.scatterpts").data(ie?ae:[]);ye.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),ye.exit().remove(),ye.call(w.pointStyle,he,A),ie&&(ae[0].mrc=3);var Ae=Te.selectAll("g.pointtext").data(le?ae:[]);Ae.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),Ae.exit().remove(),Ae.selectAll("text").call(w.textPointStyle,he,A)}function B(Y){var V=Y[0].trace,W=V.type==="waterfall";if(Y[0]._distinct&&W){var X=Y[0].trace[Y[0].dir].marker;return Y[0].mc=X.color,Y[0].mlw=X.line.width,Y[0].mlc=X.line.color,O(Y,this,"waterfall")}var re=[];V.visible&&W&&(re=Y[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ie=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(re);ie.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(K){var q=p.select(this),le=V[K[0]].marker,ae=x(void 0,le.line,h,u);q.attr("d",K[1]).style("stroke-width",ae+"px").call(v.fill,le.color),ae&&q.call(v.stroke,le.line.color)})}function I(Y){O(Y,this)}function z(Y){O(Y,this,"funnel")}function O(Y,V,W){var X=Y[0].trace,re=X.marker||{},ie=re.line||{},K=W?X.visible&&X.type===W:L.traceIs(X,"bar"),q=p.select(V).select("g.legendpoints").selectAll("path.legend"+W).data(K?[Y]:[]);q.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),q.exit().remove(),q.each(function(le){var ae=p.select(this),he=le[0],me=x(he.mlw,re.line,h,u);ae.style("stroke-width",me+"px");var Me=he.mcc;if(!E._inHover&&"mc"in he){var xe=y(re),Ie=xe.mid;Ie===void 0&&(Ie=(xe.max+xe.min)/2),Me=w.tryColorscale(re,"")(Ie)}var _e=Me||he.mc||re.color,Te=re.pattern,ye=Te&&w.getPatternAttr(Te.shape,0,"");if(ye){var Ae=w.getPatternAttr(Te.bgcolor,0,null),Be=w.getPatternAttr(Te.fgcolor,0,null),Ue=Te.fgopacity,De=o(Te.size,8,10),He=o(Te.solidity,.5,1),ut="legend-"+X.uid;ae.call(w.pattern,"legend",A,ut,ye,De,He,Me,Te.fillmode,Ae,Be,Ue)}else ae.call(v.fill,_e);me&&v.stroke(ae,he.mlc||ie.color)})}function F(Y){var V=Y[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(V.visible&&L.traceIs(V,"box-violin")?[Y]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),W.exit().remove(),W.each(function(){var X=p.select(this);if((V.boxpoints==="all"||V.points==="all")&&v.opacity(V.fillcolor)===0&&v.opacity((V.line||{}).color)===0){var re=n.minExtend(V,{marker:{size:S?s:n.constrain(V.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(w.pointStyle,re,A)}else{var ie=x(void 0,V.line,h,u);X.style("stroke-width",ie+"px").call(v.fill,V.fillcolor),ie&&v.stroke(X,V.line.color)}})}function N(Y){var V=Y[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(V.visible&&V.type==="candlestick"?[Y,Y]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(X,re){return re?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(X,re){var ie=p.select(this),K=V[re?"increasing":"decreasing"],q=x(void 0,K.line,h,u);ie.style("stroke-width",q+"px").call(v.fill,K.fillcolor),q&&v.stroke(ie,K.line.color)})}function Q(Y){var V=Y[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(V.visible&&V.type==="ohlc"?[Y,Y]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(X,re){return re?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(X,re){var ie=p.select(this),K=V[re?"increasing":"decreasing"],q=x(void 0,K.line,h,u);ie.style("fill","none").call(w.dashLine,K.line.dash,q),q&&v.stroke(ie,K.line.color)})}function $(Y){ee(Y,this,"pie")}function j(Y){ee(Y,this,"funnelarea")}function ee(Y,V,W){var X=Y[0],re=X.trace,ie=W?re.visible&&re.type===W:L.traceIs(re,W),K=p.select(V).select("g.legendpoints").selectAll("path.legend"+W).data(ie?[Y]:[]);if(K.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),K.exit().remove(),K.size()){var q=(re.marker||{}).line,le=x(l(q.width,X.pts),q,h,u),ae=n.minExtend(re,{marker:{line:{width:le}}});ae.marker.line.color=q.color;var he=n.minExtend(X,{trace:ae});r(K,he,ae)}}function oe(Y){var V=Y[0].trace,W,X=[];if(V.visible)switch(V.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],W=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],W=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],W="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],W=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],W=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],W=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],W=!1;break}var re=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);re.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(ie,K){var q=p.select(this),le=y(V),ae=le.colorscale,he=le.reversescale,me=function(_e){if(_e.size()){var Te="legendfill-"+V.uid;w.gradient(_e,A,Te,T(he,W==="radial"),ae,"fill")}},Me;if(ae){if(!W){var Ie=ae.length;Me=K===0?ae[he?Ie-1:0][1]:K===1?ae[he?0:Ie-1][1]:ae[Math.floor((Ie-1)/2)][1]}}else{var xe=V.vertexcolor||V.facecolor||V.color;Me=n.isArrayOrTypedArray(xe)?xe[K]||xe[0]:xe}q.attr("d",ie[0]),Me?q.call(v.fill,Me):q.call(me)})}};function T(d,M){var A=M?"radial":"horizontal";return A+(d?"":"reversed")}function f(d){var M=d[0].trace,A=M.contours,E=t.hasLines(M),g=t.hasMarkers(M),S=M.visible&&M.fill&&M.fill!=="none",b=!1,i=!1;if(A){var P=A.coloring;P==="lines"?b=!0:E=P==="none"||P==="heatmap"||A.showlines,A.type==="constraint"?S=A._operation!=="=":(P==="fill"||P==="heatmap")&&(i=!0)}return{showMarker:g,showLine:E,showFill:S,showGradientLine:b,showGradientFill:i,anyLine:E||b,anyFill:S||i}}function o(d,M,A){return d&&n.isArrayOrTypedArray(d)?M:d>A?A:d}},42068:function(G,U,e){e(93348),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(G,U,e){var p=e(73972),L=e(74875),n=e(41675),C=e(24255),w=e(34031).eraseActiveShape,v=e(71828),y=v._,t=G.exports={};t.toImage={name:"toImage",title:function(d){var M=d._context.toImageButtonOptions||{},A=M.format||"png";return A==="png"?y(d,"Download plot as a png"):y(d,"Download plot")},icon:C.camera,click:function(d){var M=d._context.toImageButtonOptions,A={format:M.format||"png"};v.notifier(y(d,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(y(d,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(E){E in M&&(A[E]=M[E])}),p.call("downloadImage",d,A).then(function(E){v.notifier(y(d,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){v.notifier(y(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return y(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){L.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return y(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){L.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return y(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return y(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return y(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return y(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return y(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return y(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return y(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return y(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return y(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return y(d,"Erase active shape")},icon:C.eraseshape,click:w},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return y(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return y(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return y(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return y(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return y(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return y(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:r};function r(d,M){var A=M.currentTarget,E=A.getAttribute("data-attr"),g=A.getAttribute("data-val")||!0,S=d._fullLayout,b={},i=n.list(d,null,!0),P=S._cartesianSpikesEnabled,x,k;if(E==="zoom"){var _=g==="in"?.5:2,B=(1+_)/2,I=(1-_)/2,z;for(k=0;k<i.length;k++)if(x=i[k],!x.fixedrange)if(z=x._name,g==="auto")b[z+".autorange"]=!0;else if(g==="reset"){if(x._rangeInitial===void 0)b[z+".autorange"]=!0;else{var O=x._rangeInitial.slice();b[z+".range[0]"]=O[0],b[z+".range[1]"]=O[1]}x._showSpikeInitial!==void 0&&(b[z+".showspikes"]=x._showSpikeInitial,P==="on"&&!x._showSpikeInitial&&(P="off"))}else{var F=[x.r2l(x.range[0]),x.r2l(x.range[1])],N=[B*F[0]+I*F[1],B*F[1]+I*F[0]];b[z+".range[0]"]=x.l2r(N[0]),b[z+".range[1]"]=x.l2r(N[1])}}else E==="hovermode"&&(g==="x"||g==="y")&&(g=S._isHoriz?"y":"x",A.setAttribute("data-val",g)),b[E]=g;S._cartesianSpikesEnabled=P,p.call("_guiRelayout",d,b)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return y(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:l},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return y(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:l},t.orbitRotation={name:"orbitRotation",title:function(d){return y(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:l},t.tableRotation={name:"tableRotation",title:function(d){return y(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:l};function l(d,M){for(var A=M.currentTarget,E=A.getAttribute("data-attr"),g=A.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],b={},i=E.split("."),P=0;P<S.length;P++)b[S[P]+"."+i[1]]=g;var x=g==="pan"?g:"zoom";b.dragmode=x,p.call("_guiRelayout",d,b)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return y(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:a},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return y(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:a};function a(d,M){for(var A=M.currentTarget,E=A.getAttribute("data-attr"),g=E==="resetLastSave",S=E==="resetDefault",b=d._fullLayout,i=b._subplots.gl3d||[],P={},x=0;x<i.length;x++){var k=i[x],_=k+".camera",B=k+".aspectratio",I=k+".aspectmode",z=b[k]._scene,O;g?(P[_+".up"]=z.viewInitial.up,P[_+".eye"]=z.viewInitial.eye,P[_+".center"]=z.viewInitial.center,O=!0):S&&(P[_+".up"]=null,P[_+".eye"]=null,P[_+".center"]=null,O=!0),O&&(P[B+".x"]=z.viewInitial.aspectratio.x,P[B+".y"]=z.viewInitial.aspectratio.y,P[B+".z"]=z.viewInitial.aspectratio.z,P[I]=z.viewInitial.aspectmode)}p.call("_guiRelayout",d,P)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return y(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function s(d,M){var A=M.currentTarget,E=A._previousVal,g=d._fullLayout,S=g._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],i={},P={};if(E)P=E,A._previousVal=null;else{for(var x=0;x<S.length;x++){var k=S[x],_=g[k],B=k+".hovermode";i[B]=_.hovermode,P[B]=!1;for(var I=0;I<3;I++){var z=b[I],O=k+"."+z+".showspikes";P[O]=!1,i[O]=_[z].showspikes}}A._previousVal=i}return P}function c(d,M){var A=s(d,M);p.call("_guiRelayout",d,A)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return y(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return y(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return y(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return y(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h};function u(d,M){for(var A=M.currentTarget,E=A.getAttribute("data-attr"),g=A.getAttribute("data-val")||!0,S=d._fullLayout,b=S._subplots.geo||[],i=0;i<b.length;i++){var P=b[i],x=S[P];if(E==="zoom"){var k=x.projection.scale,_=g==="in"?2*k:.5*k;p.call("_guiRelayout",d,P+".projection.scale",_)}}E==="reset"&&o(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return y(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return y(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:h};function m(d){var M=d._fullLayout;return M.hovermode?!1:M._has("cartesian")?M._isHoriz?"y":"x":"closest"}function h(d){var M=m(d);p.call("_guiRelayout",d,"hovermode",M)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return y(d,"Reset view")},icon:C.home,click:function(d){for(var M={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<d._fullData.length;A++){var E=d._fullData[A]._viewInitial;M["node.groups"].push(E.node.groups.slice()),M["node.x"].push(E.node.x.slice()),M["node.y"].push(E.node.y.slice())}p.call("restyle",d,M)}},t.toggleHover={name:"toggleHover",title:function(d){return y(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,M){var A=s(d,M);A.hovermode=m(d),p.call("_guiRelayout",d,A)}},t.resetViews={name:"resetViews",title:function(d){return y(d,"Reset views")},icon:C.home,click:function(d,M){var A=M.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),r(d,M),A.setAttribute("data-attr","resetLastSave"),a(d,M),o(d,"geo"),o(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return y(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var M=d._fullLayout,A=M._cartesianSpikesEnabled;M._cartesianSpikesEnabled=A==="on"?"off":"on",p.call("_guiRelayout",d,T(d))}};function T(d){for(var M=d._fullLayout,A=M._cartesianSpikesEnabled==="on",E=n.list(d,null,!0),g={},S=0;S<E.length;S++){var b=E[S];g[b._name+".showspikes"]=A?!0:b._showSpikeInitial}return g}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return y(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){o(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return y(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:f},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return y(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:f};function f(d,M){for(var A=M.currentTarget,E=A.getAttribute("data-val"),g=d._fullLayout,S=g._subplots.mapbox||[],b=1.05,i={},P=0;P<S.length;P++){var x=S[P],k=g[x].zoom,_=E==="in"?b*k:k/b;i[x+".zoom"]=_}p.call("_guiRelayout",d,i)}function o(d,M){for(var A=d._fullLayout,E=A._subplots[M]||[],g={},S=0;S<E.length;S++)for(var b=E[S],i=A[b]._subplot,P=i.viewInitial,x=Object.keys(P),k=0;k<x.length;k++){var _=x[k];g[b+"."+_]=P[_]}p.call("_guiRelayout",d,g)}},93348:function(G,U,e){var p=e(26023),L=Object.keys(p),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),w=[],v=function(y){if(C.indexOf(y._cat||y.name)===-1){var t=y.name,r=(y._cat||y.name).toLowerCase();w.indexOf(t)===-1&&w.push(t),w.indexOf(r)===-1&&w.push(r)}};L.forEach(function(y){v(p[y])}),w.sort(),G.exports={DRAW_MODES:n,backButtons:C,foreButtons:w}},35750:function(G,U,e){var p=e(71828),L=e(7901),n=e(44467),C=e(42068);G.exports=function(v,y){var t=v.modebar||{},r=n.newContainer(y,"modebar");function l(s,c){return p.coerce(t,r,C,s,c)}l("orientation"),l("bgcolor",L.addOpacity(y.paper_bgcolor,.5));var a=L.contrast(L.rgb(y.modebar.bgcolor));l("color",L.addOpacity(a,.3)),l("activecolor",L.addOpacity(a,.7)),l("uirevision",y.uirevision),l("add"),l("remove")}},64168:function(G,U,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(G,U,e){var p=e(41675),L=e(34098),n=e(73972),C=e(23469).isUnifiedHover,w=e(37676),v=e(26023),y=e(93348).DRAW_MODES,t=e(71828).extendDeep;G.exports=function(h){var T=h._fullLayout,f=h._context,o=T._modeBar;if(!f.displayModeBar&&!f.watermark){o&&(o.destroy(),delete T._modeBar);return}if(!Array.isArray(f.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(f.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=f.modeBarButtons,M;Array.isArray(d)&&d.length?M=u(d):!f.displayModeBar&&f.watermark?M=[]:M=r(h),o?o.update(h,M):T._modeBar=w(h,M)};function r(m){var h=m._fullLayout,T=m._fullData,f=m._context;function o(K,q){if(typeof q=="string"){if(q.toLowerCase()===K.toLowerCase())return!0}else{var le=q.name,ae=q._cat||q.name;if(le===K||ae===K.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var M=h.modebar.remove;typeof M=="string"&&(M=[M]);var A=f.modeBarButtonsToAdd.concat(d.filter(function(K){for(var q=0;q<f.modeBarButtonsToRemove.length;q++)if(o(K,f.modeBarButtonsToRemove[q]))return!1;return!0})),E=f.modeBarButtonsToRemove.concat(M.filter(function(K){for(var q=0;q<f.modeBarButtonsToAdd.length;q++)if(o(K,f.modeBarButtonsToAdd[q]))return!1;return!0})),g=h._has("cartesian"),S=h._has("gl3d"),b=h._has("geo"),i=h._has("pie"),P=h._has("funnelarea"),x=h._has("gl2d"),k=h._has("ternary"),_=h._has("mapbox"),B=h._has("polar"),I=h._has("smith"),z=h._has("sankey"),O=l(h),F=C(h.hovermode),N=[];function Q(K){if(K.length){for(var q=[],le=0;le<K.length;le++){for(var ae=K[le],he=v[ae],me=he.name.toLowerCase(),Me=(he._cat||he.name).toLowerCase(),xe=!1,Ie=0;Ie<E.length;Ie++){var _e=E[Ie].toLowerCase();if(_e===me||_e===Me){xe=!0;break}}xe||q.push(v[ae])}N.push(q)}}var $=["toImage"];f.showEditInChartStudio?$.push("editInChartStudio"):f.showSendToCloud&&$.push("sendDataToCloud"),Q($);var j=[],ee=[],oe=[],Y=[];(g||x||i||P||k)+b+S+_+B+I>1?(ee=["toggleHover"],oe=["resetViews"]):b?(j=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],oe=["resetGeo"]):S?(ee=["hoverClosest3d"],oe=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(j=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],oe=["resetViewMapbox"]):x?ee=["hoverClosestGl2d"]:i?ee=["hoverClosestPie"]:z?(ee=["hoverClosestCartesian","hoverCompareCartesian"],oe=["resetViewSankey"]):ee=["toggleHover"],g&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(s(T)||F)&&(ee=[]),(g||x)&&!O&&(j=["zoomIn2d","zoomOut2d","autoScale2d"],oe[0]!=="resetViews"&&(oe=["resetScale2d"])),S?Y=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||x)&&!O||k?Y=["zoom2d","pan2d"]:_||b?Y=["pan2d"]:B&&(Y=["zoom2d"]),a(T)&&Y.push("select2d","lasso2d");var V=[],W=function(K){V.indexOf(K)===-1&&ee.indexOf(K)!==-1&&V.push(K)};if(Array.isArray(A)){for(var X=[],re=0;re<A.length;re++){var ie=A[re];typeof ie=="string"?(ie=ie.toLowerCase(),y.indexOf(ie)!==-1?(h._has("mapbox")||h._has("cartesian"))&&Y.push(ie):ie==="togglespikelines"?W("toggleSpikelines"):ie==="togglehover"?W("toggleHover"):ie==="hovercompare"?W("hoverCompareCartesian"):ie==="hoverclosest"?(W("hoverClosestCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie")):ie==="v1hovermode"&&(W("toggleHover"),W("hoverClosestCartesian"),W("hoverCompareCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie"))):X.push(ie)}A=X}return Q(Y),Q(j.concat(oe)),Q(V),c(N,A)}function l(m){for(var h=p.list({_fullLayout:m},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function a(m){for(var h=!1,T=0;T<m.length&&!h;T++){var f=m[T];!f._module||!f._module.selectPoints||(n.traceIs(f,"scatter-like")?(L.hasMarkers(f)||L.hasText(f))&&(h=!0):n.traceIs(f,"box-violin")?(f.boxpoints==="all"||f.points==="all")&&(h=!0):h=!0)}return h}function s(m){for(var h=0;h<m.length;h++)if(!n.traceIs(m[h],"noHover"))return!1;return!0}function c(m,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)m.push(h[T]);else m.push(h);return m}function u(m){for(var h=t([],m),T=0;T<h.length;T++)for(var f=h[T],o=0;o<f.length;o++){var d=f[o];if(typeof d=="string")if(v[d]!==void 0)h[T][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},37676:function(G,U,e){var p=e(39898),L=e(92770),n=e(71828),C=e(24255),w=e(11506).version,v=new DOMParser;function y(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var t=y.prototype;t.update=function(a,s){this.graphInfo=a;var c=this.graphInfo._context,u=this.graphInfo._fullLayout,m="modebar-"+u._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var h=u.modebar,T=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(m),n.addRelatedStyleRule(m,T+"#"+m+" .modebar-group","background-color: "+h.bgcolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+h.color),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+h.activecolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+h.activecolor);var f=!this.hasButtons(s),o=this.hasLogo!==c.displaylogo,d=this.locale!==c.locale;if(this.locale=c.locale,(f||o||d)&&(this.removeAllButtons(),this.updateButtons(s),c.watermark||c.displaylogo)){var M=this.getLogo();c.watermark&&(M.className=M.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(a){var s=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var u=s.createGroup();c.forEach(function(m){var h=m.name;if(!h)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");s.buttonsNames.push(h);var T=s.createButton(m);s.buttonElements.push(T),u.appendChild(T)}),s.element.appendChild(u)})},t.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},t.createButton=function(a){var s=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var u=a.title;u===void 0?u=a.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&c.setAttribute("data-title",u),a.attr!==void 0&&c.setAttribute("data-attr",a.attr);var m=a.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),c.setAttribute("data-val",m));var h=a.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(f){a.click(s.graphInfo,f),s.updateActiveButton(f.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&p.select(c).classed("active",!0);var T=a.icon;return typeof T=="function"?c.appendChild(T()):c.appendChild(this.createIcon(T||C.question)),c.setAttribute("data-gravity",a.gravity||"n"),c},t.createIcon=function(a){var s=L(a.height)?Number(a.height):a.ascent-a.descent,c="http://www.w3.org/2000/svg",u;if(a.path){u=document.createElementNS(c,"svg"),u.setAttribute("viewBox",[0,0,a.width,s].join(" ")),u.setAttribute("class","icon");var m=document.createElementNS(c,"path");m.setAttribute("d",a.path),a.transform?m.setAttribute("transform",a.transform):a.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),u.appendChild(m)}if(a.svg){var h=v.parseFromString(a.svg,"application/xml");u=h.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(a){var s=this.graphInfo._fullLayout,c=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var m=u.getAttribute("data-val")||!0,h=u.getAttribute("data-attr"),T=u.getAttribute("data-toggle")==="true",f=p.select(u);if(T)h===c&&f.classed("active",!f.classed("active"));else{var o=h===null?h:n.nestedProperty(s,h).get();f.classed("active",o===m)}})},t.hasButtons=function(a){var s=this.buttons;if(!s||a.length!==s.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;u++)if(a[c][u].name!==s[c][u].name)return!1}return!0};function r(a){return a+" (v"+w+")"}t.getLogo=function(){var a=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",r(n._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(C.newplotlylogo)),a.appendChild(s),a},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function l(a,s){var c=a._fullLayout,u=new y({graphInfo:a,container:c._modebardiv.node(),buttons:s});return c._privateplot&&p.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}G.exports=l},37113:function(G,U,e){var p=e(41940),L=e(22399),n=e(44467).templatedArray,C=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(G,U,e){var p=e(71828),L=e(7901),n=e(44467),C=e(85501),w=e(37113),v=e(89573);G.exports=function(l,a,s,c,u){var m=l.rangeselector||{},h=n.newContainer(a,"rangeselector");function T(A,E){return p.coerce(m,h,w,A,E)}var f=C(m,h,{name:"buttons",handleItemDefaults:y,calendar:u}),o=T("visible",f.length>0);if(o){var d=t(a,s,c);T("x",d[0]),T("y",d[1]),p.noneOrAll(l,a,["x","y"]),T("xanchor"),T("yanchor"),p.coerceFont(T,"font",s.font);var M=T("bgcolor");T("activecolor",L.contrast(M,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function y(r,l,a,s){var c=s.calendar;function u(T,f){return p.coerce(r,l,w.buttons,T,f)}var m=u("visible");if(m){var h=u("step");h!=="all"&&(c&&c!=="gregorian"&&(h==="month"||h==="year")?l.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,l,a){for(var s=a.filter(function(h){return l[h].anchor===r._id}),c=0,u=0;u<s.length;u++){var m=l[s[u]].domain;m&&(c=Math.max(m[1],c))}return[r.domain[0],c+v.yPad]}},21598:function(G,U,e){var p=e(39898),L=e(73972),n=e(74875),C=e(7901),w=e(91424),v=e(71828),y=v.strTranslate,t=e(63893),r=e(41675),l=e(18783),a=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR,u=e(89573),m=e(70565);G.exports=function(S){var b=S._fullLayout,i=b._infolayer.selectAll(".rangeselector").data(h(S),T);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(P){var x=p.select(this),k=P,_=k.rangeselector,B=x.selectAll("g.button").data(v.filterVisible(_.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(I){var z=p.select(this),O=m(k,I);I._isActive=f(k,I,O),z.call(o,_,I),z.call(M,_,I,S),z.on("click",function(){S._dragged||L.call("_guiRelayout",S,O)}),z.on("mouseover",function(){I._isHovered=!0,z.call(o,_,I)}),z.on("mouseout",function(){I._isHovered=!1,z.call(o,_,I)})}),E(S,B,_,k._name,x)})};function h(g){for(var S=r.list(g,"x",!0),b=[],i=0;i<S.length;i++){var P=S[i];P.rangeselector&&P.rangeselector.visible&&b.push(P)}return b}function T(g){return g._id}function f(g,S,b){if(S.step==="all")return g.autorange===!0;var i=Object.keys(b);return g.range[0]===b[i[0]]&&g.range[1]===b[i[1]]}function o(g,S,b){var i=v.ensureSingle(g,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});i.attr({rx:u.rx,ry:u.ry}),i.call(C.stroke,S.bordercolor).call(C.fill,d(S,b)).style("stroke-width",S.borderwidth+"px")}function d(g,S){return S._isActive||S._isHovered?g.activecolor:g.bgcolor}function M(g,S,b,i){function P(k){t.convertToTspans(k,i)}var x=v.ensureSingle(g,"text","selector-text",function(k){k.attr("text-anchor","middle")});x.call(w.font,S.font).text(A(b,i._fullLayout._meta)).call(P)}function A(g,S){return g.label?S?v.templateString(g.label,S):g.label:g.step==="all"?"all":g.count+g.step.charAt(0)}function E(g,S,b,i,P){var x=0,k=0,_=b.borderwidth;S.each(function(){var N=p.select(this),Q=N.select(".selector-text"),$=b.font.size*a,j=Math.max($*t.lineCount(Q),16)+3;k=Math.max(k,j)}),S.each(function(){var N=p.select(this),Q=N.select(".selector-rect"),$=N.select(".selector-text"),j=$.node()&&w.bBox($.node()).width,ee=b.font.size*a,oe=t.lineCount($),Y=Math.max(j+10,u.minButtonWidth);N.attr("transform",y(_+x,_)),Q.attr({x:0,y:0,width:Y,height:k}),t.positionText($,Y/2,k/2-(oe-1)*ee/2+3),x+=Y+5});var B=g._fullLayout._size,I=B.l+B.w*b.x,z=B.t+B.h*(1-b.y),O="left";v.isRightAnchor(b)&&(I-=x,O="right"),v.isCenterAnchor(b)&&(I-=x/2,O="center");var F="top";v.isBottomAnchor(b)&&(z-=k,F="bottom"),v.isMiddleAnchor(b)&&(z-=k/2,F="middle"),x=Math.ceil(x),k=Math.ceil(k),I=Math.round(I),z=Math.round(z),n.autoMargin(g,i+"-range-selector",{x:b.x,y:b.y,l:x*s[O],r:x*c[O],b:k*c[F],t:k*s[F]}),P.attr("transform",y(I,z))}},70565:function(G,U,e){var p=e(81041),L=e(71828).titleCase;G.exports=function(w,v){var y=w._name,t={};if(v.step==="all")t[y+".autorange"]=!0;else{var r=n(w,v);t[y+".range[0]"]=r[0],t[y+".range[1]"]=r[1]}return t};function n(C,w){var v=C.range,y=new Date(C.r2l(v[1])),t=w.step,r=p["utc"+L(t)],l=w.count,a;switch(w.stepmode){case"backward":a=C.l2r(+r.offset(y,-l));break;case"todate":var s=r.offset(y,-l);a=C.l2r(+r.ceil(s));break}var c=v[1];return[a,c]}},97218:function(G,U,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(G,U,e){var p=e(22399);G.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(G,U,e){var p=e(41675).list,L=e(71739).getAutoRange,n=e(73251);G.exports=function(w){for(var v=p(w,"x",!0),y=0;y<v.length;y++){var t=v[y],r=t[n.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=L(w,t))}}},73251:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(G,U,e){var p=e(71828),L=e(44467),n=e(41675),C=e(75148),w=e(47850);G.exports=function(y,t,r){var l=y[r],a=t[r];if(!(l.rangeslider||t._requestRangeslider[a._id]))return;p.isPlainObject(l.rangeslider)||(l.rangeslider={});var s=l.rangeslider,c=L.newContainer(a,"rangeslider");function u(i,P){return p.coerce(s,c,C,i,P)}var m,h;function T(i,P){return p.coerce(m,h,w,i,P)}var f=u("visible");if(f){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!a.isValidRange(s.range)),u("range");var o=t._subplots;if(o)for(var d=o.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===n.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),M=p.simpleMap(d,n.id2name),A=0;A<M.length;A++){var E=M[A];m=s[E]||{},h=L.newContainer(c,E,"yaxis");var g=t[E],S;m.range&&g.isValidRange(m.range)&&(S="fixed");var b=T("rangemode",S);b!=="match"&&T("range",g.range.slice())}c._input=s}}},72413:function(G,U,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),w=C.strTranslate,v=e(91424),y=e(7901),t=e(92998),r=e(93612),l=e(41675),a=e(28569),s=e(6964),c=e(73251);G.exports=function(g){for(var S=g._fullLayout,b=S._rangeSliderData,i=0;i<b.length;i++){var P=b[i][c.name];P._clipId=P._id+"-"+S._uid}function x(_){return _._name}var k=S._infolayer.selectAll("g."+c.containerClassName).data(b,x);k.exit().each(function(_){var B=_[c.name];S._topdefs.select("#"+B._clipId).remove()}).remove(),b.length!==0&&(k.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),k.each(function(_){var B=p.select(this),I=_[c.name],z=S[l.id2name(_.anchor)],O=I[l.id2name(_.anchor)];if(I.range){var F=C.simpleMap(I.range,_.r2l),N=C.simpleMap(_.range,_.r2l),Q;N[0]<N[1]?Q=[Math.min(F[0],N[0]),Math.max(F[1],N[1])]:Q=[Math.max(F[0],N[0]),Math.min(F[1],N[1])],I.range=I._input.range=C.simpleMap(Q,_.l2r)}_.cleanRange("rangeslider.range");var $=S._size,j=_.domain;I._width=$.w*(j[1]-j[0]);var ee=Math.round($.l+$.w*j[0]),oe=Math.round($.t+$.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+I._offsetShift+c.extraPad);B.attr("transform",w(ee,oe)),I._rl=C.simpleMap(I.range,_.r2l);var Y=I._rl[0],V=I._rl[1],W=V-Y;if(I.p2d=function(Me){return Me/I._width*W+Y},I.d2p=function(Me){return(Me-Y)/W*I._width},_.rangebreaks){var X=_.locateBreaks(Y,V);if(X.length){var re,ie,K=0;for(re=0;re<X.length;re++)ie=X[re],K+=ie.max-ie.min;var q=I._width/(V-Y-K),le=[-q*Y];for(re=0;re<X.length;re++)ie=X[re],le.push(le[le.length-1]-q*(ie.max-ie.min));for(I.d2p=function(Me){for(var xe=le[0],Ie=0;Ie<X.length;Ie++){var _e=X[Ie];if(Me>=_e.max)xe=le[Ie+1];else if(Me<_e.min)break}return xe+q*Me},re=0;re<X.length;re++)ie=X[re],ie.pmin=I.d2p(ie.min),ie.pmax=I.d2p(ie.max);I.p2d=function(Me){for(var xe=le[0],Ie=0;Ie<X.length;Ie++){var _e=X[Ie];if(Me>=_e.pmax)xe=le[Ie+1];else if(Me<_e.pmin)break}return(Me-xe)/q}}}if(O.rangemode!=="match"){var ae=z.r2l(O.range[0]),he=z.r2l(O.range[1]),me=he-ae;I.d2pOppAxis=function(Me){return(Me-ae)/me*I._height}}B.call(T,g,_,I).call(f,g,_,I).call(o,g,_,I).call(M,g,_,I,O).call(A,g,_,I).call(E,g,_,I),u(B,g,_,I),h(B,g,_,I,z,O),_.side==="bottom"&&t.draw(g,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:S._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:oe+I._height+I._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))};function u(g,S,b,i){if(S._context.staticPlot)return;var P=g.select("rect."+c.slideBoxClassName).node(),x=g.select("rect."+c.grabAreaMinClassName).node(),k=g.select("rect."+c.grabAreaMaxClassName).node();function _(){var B=p.event,I=B.target,z=B.clientX||B.touches[0].clientX,O=z-g.node().getBoundingClientRect().left,F=i.d2p(b._rl[0]),N=i.d2p(b._rl[1]),Q=a.coverSlip();this.addEventListener("touchmove",$),this.addEventListener("touchend",j),Q.addEventListener("mousemove",$),Q.addEventListener("mouseup",j);function $(ee){var oe=ee.clientX||ee.touches[0].clientX,Y=+oe-z,V,W,X;switch(I){case P:if(X="ew-resize",F+Y>b._length||N+Y<0)return;V=F+Y,W=N+Y;break;case x:if(X="col-resize",F+Y>b._length)return;V=F+Y,W=N;break;case k:if(X="col-resize",N+Y<0)return;V=F,W=N+Y;break;default:X="ew-resize",V=O,W=O+Y;break}if(W<V){var re=W;W=V,V=re}i._pixelMin=V,i._pixelMax=W,s(p.select(Q),X),m(g,S,b,i)}function j(){Q.removeEventListener("mousemove",$),Q.removeEventListener("mouseup",j),this.removeEventListener("touchmove",$),this.removeEventListener("touchend",j),C.removeElement(Q)}}g.on("mousedown",_),g.on("touchstart",_)}function m(g,S,b,i){function P(_){return b.l2r(C.constrain(_,i._rl[0],i._rl[1]))}var x=P(i.p2d(i._pixelMin)),k=P(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",S,b._name+".range",[x,k])})}function h(g,S,b,i,P,x){var k=c.handleWidth/2;function _(ee){return C.constrain(ee,0,i._width)}function B(ee){return C.constrain(ee,0,i._height)}function I(ee){return C.constrain(ee,-k,i._width+k)}var z=_(i.d2p(b._rl[0])),O=_(i.d2p(b._rl[1]));if(g.select("rect."+c.slideBoxClassName).attr("x",z).attr("width",O-z),g.select("rect."+c.maskMinClassName).attr("width",z),g.select("rect."+c.maskMaxClassName).attr("x",O).attr("width",i._width-O),x.rangemode!=="match"){var F=i._height-B(i.d2pOppAxis(P._rl[1])),N=i._height-B(i.d2pOppAxis(P._rl[0]));g.select("rect."+c.maskMinOppAxisClassName).attr("x",z).attr("height",F).attr("width",O-z),g.select("rect."+c.maskMaxOppAxisClassName).attr("x",z).attr("y",N).attr("height",i._height-N).attr("width",O-z),g.select("rect."+c.slideBoxClassName).attr("y",F).attr("height",N-F)}var Q=.5,$=Math.round(I(z-k))-Q,j=Math.round(I(O-k))+Q;g.select("g."+c.grabberMinClassName).attr("transform",w($,Q)),g.select("g."+c.grabberMaxClassName).attr("transform",w(j,Q))}function T(g,S,b,i){var P=C.ensureSingle(g,"rect",c.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),x=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,k=-i._offsetShift,_=v.crispRound(S,i.borderwidth);P.attr({width:i._width+x,height:i._height+x,transform:w(k,k),"stroke-width":_}).call(y.stroke,i.bordercolor).call(y.fill,i.bgcolor)}function f(g,S,b,i){var P=S._fullLayout,x=C.ensureSingleById(P._topdefs,"clipPath",i._clipId,function(k){k.append("rect").attr({x:0,y:0})});x.select("rect").attr({width:i._width,height:i._height})}function o(g,S,b,i){var P=S.calcdata,x=g.selectAll("g."+c.rangePlotClassName).data(b._subplotsWith,C.identity);x.enter().append("g").attr("class",function(_){return c.rangePlotClassName+" "+_}).call(v.setClipUrl,i._clipId,S),x.order(),x.exit().remove();var k;x.each(function(_,B){var I=p.select(this),z=B===0,O=l.getFromId(S,_,"y"),F=O._name,N=i[F],Q={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:i.range.slice(),calendar:b.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};b.rangebreaks&&(Q.layout.xaxis.rangebreaks=b.rangebreaks),Q.layout[F]={type:O.type,domain:[0,1],range:N.rangemode!=="match"?N.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(Q.layout[F].rangebreaks=O.rangebreaks),n.supplyDefaults(Q);var $=Q._fullLayout.xaxis,j=Q._fullLayout[F];$.clearCalc(),$.setScale(),j.clearCalc(),j.setScale();var ee={id:_,plotgroup:I,xaxis:$,yaxis:j,isRangePlot:!0};z?k=ee:(ee.mainplot="xy",ee.mainplotinfo=k),r.rangePlot(S,ee,d(P,_))})}function d(g,S){for(var b=[],i=0;i<g.length;i++){var P=g[i],x=P[0].trace;x.xaxis+x.yaxis===S&&b.push(P)}return b}function M(g,S,b,i,P){var x=C.ensureSingle(g,"rect",c.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})});x.attr("height",i._height).call(y.fill,c.maskColor);var k=C.ensureSingle(g,"rect",c.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",i._height).call(y.fill,c.maskColor),P.rangemode!=="match"){var _=C.ensureSingle(g,"rect",c.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",i._width).call(y.fill,c.maskOppAxisColor);var B=C.ensureSingle(g,"rect",c.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",i._width).style("border-top",c.maskOppBorder).call(y.fill,c.maskOppAxisColor)}}function A(g,S,b,i){if(!S._context.staticPlot){var P=C.ensureSingle(g,"rect",c.slideBoxClassName,function(x){x.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})});P.attr({height:i._height,fill:c.slideBoxFill})}}function E(g,S,b,i){var P=C.ensureSingle(g,"g",c.grabberMinClassName),x=C.ensureSingle(g,"g",c.grabberMaxClassName),k={x:0,width:c.handleWidth,rx:c.handleRadius,fill:y.background,stroke:y.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},_={y:Math.round(i._height/4),height:Math.round(i._height/2)},B=C.ensureSingle(P,"rect",c.handleMinClassName,function(N){N.attr(k)});B.attr(_);var I=C.ensureSingle(x,"rect",c.handleMaxClassName,function(N){N.attr(k)});I.attr(_);var z={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:S._context.staticPlot?void 0:c.grabAreaCursor},O=C.ensureSingle(P,"rect",c.grabAreaMinClassName,function(N){N.attr(z)});O.attr("height",i._height);var F=C.ensureSingle(x,"rect",c.grabAreaMaxClassName,function(N){N.attr(z)});F.attr("height",i._height)}},549:function(G,U,e){var p=e(41675),L=e(63893),n=e(73251),C=e(18783).LINE_SPACING,w=n.name;function v(y){var t=y&&y[w];return t&&t.visible}U.isVisible=v,U.makeData=function(y){var t=p.list({_fullLayout:y},"x",!0),r=y.margin,l=[];if(!y._has("gl2d"))for(var a=0;a<t.length;a++){var s=t[a];if(v(s)){l.push(s);var c=s[w];c._id=w+s._id,c._height=(y.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}y._rangeSliderData=l},U.autoMarginOpts=function(y,t){var r=y._fullLayout,l=t[w],a=t._id.charAt(0),s=0,c=0;if(t.side==="bottom"&&(s=t._depth,t.title.text!==r._dfltTitle[a])){c=1.5*t.title.font.size+10+l._offsetShift;var u=(t.title.text.match(L.BR_TAG_ALL)||[]).length;c+=u*t.title.font.size*C}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:l._height+s+Math.max(r.margin.b,c),pad:n.extraPad+l._offsetShift*2}}},13137:function(G,U,e){var p=e(71828),L=e(75148),n=e(47850),C=e(549);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:n})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(G,U,e){var p=e(50215),L=e(82196).line,n=e(79952).P,C=e(1426).extendFlat,w=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),G.exports=w(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},n,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(G,U,e){var p=e(71828),L=e(89298),n=e(85501),C=e(8389),w=e(30477);G.exports=function(t,r){n(t,r,{name:"selections",handleItemDefaults:v});for(var l=r.selections,a=0;a<l.length;a++){var s=l[a];s&&s.path===void 0&&(s.x0===void 0||s.x1===void 0||s.y0===void 0||s.y1===void 0)&&(r.selections[a]=null)}};function v(y,t,r){function l(x,k){return p.coerce(y,t,C,x,k)}var a=l("path"),s=a?"path":"rect",c=l("type",s),u=c!=="path";u&&delete t.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var m=["x","y"],h=0;h<2;h++){var T=m[h],f={_fullLayout:r},o,d,M,A=L.coerceRef(y,t,f,T);if(o=L.getFromId(f,A),o._selectionIndices.push(t._index),M=w.rangeToShapePosition(o),d=w.shapePositionToRange(o),u){var E=T+"0",g=T+"1",S=y[E],b=y[g];y[E]=d(y[E],!0),y[g]=d(y[g],!0),L.coercePosition(t,f,l,A,E),L.coercePosition(t,f,l,A,g);var i=t[E],P=t[g];i!==void 0&&P!==void 0&&(t[E]=M(i),t[g]=M(P),y[E]=S,y[g]=b)}}u&&p.noneOrAll(y,t,["x0","x1","y0","y1"])}},32485:function(G,U,e){var p=e(60165).readPaths,L=e(42359),n=e(51873).clearOutlineControllers,C=e(7901),w=e(91424),v=e(44467).arrayEditor,y=e(30477),t=y.getPathString;G.exports={draw:r,drawOne:a,activateLastSelection:u};function r(h){var T=h._fullLayout;n(h),T._selectionLayer.selectAll("path").remove();for(var f in T._plots){var o=T._plots[f].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)a(h,d)}function l(h){return h._context.editSelection}function a(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var f=y.makeSelectionsOptionsAndPlotinfo(h,T),o=f.options,d=f.plotinfo;if(!o._input)return;M(h._fullLayout._selectionLayer);function M(A){var E=t(h,o),g={"data-index":T,"fill-rule":"evenodd",d:E},S=o.opacity,b="rgba(0,0,0,0)",i=o.line.color||C.contrast(h._fullLayout.plot_bgcolor),P=o.line.width,x=o.line.dash;P||(P=5,x="solid");var k=l(h)&&h._fullLayout._activeSelectionIndex===T;k&&(b=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var _=[],B=1;B>=0;B--){var I=A.append("path").attr(g).style("opacity",B?.1:S).call(C.stroke,i).call(C.fill,b).call(w.dashLine,B?"solid":x,B?4+P:P);if(s(I,h,o),k){var z=v(h.layout,"selections",o);I.style({cursor:"move"});var O={element:I.node(),plotinfo:d,gd:h,editHelpers:z,isActiveSelection:!0},F=p(E,h);L(F,I,O)}else I.style("pointer-events",B?"all":"none");_[B]=I}var N=_[0],Q=_[1];Q.node().addEventListener("click",function(){return c(h,N)})}}function s(h,T,f){var o=f.xref+f.yref;w.setClipUrl(h,"clip"+T._fullLayout._uid+o,T)}function c(h,T){if(l(h)){var f=T.node(),o=+f.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){m(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=m,r(h)}}}function u(h){if(l(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=m,r(h)}}function m(h){if(l(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(n(h),delete h._fullLayout._activeSelectionIndex,r(h))}}},53777:function(G,U,e){var p=e(79952).P,L=e(1426).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(G){G.exports=function(e,p,L){L("newselection.mode");var n=L("newselection.line.width");n&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},35855:function(G,U,e){var p=e(64505),L=p.selectMode,n=e(51873),C=n.clearOutline,w=e(60165),v=w.readPaths,y=w.writePaths,t=w.fixDatesForPaths;G.exports=function(l,a){if(l.length){var s=l[0][0];if(s){var c=s.getAttribute("d"),u=a.gd,m=u._fullLayout.newselection,h=a.plotinfo,T=h.xaxis,f=h.yaxis,o=a.isActiveSelection,d=a.dragmode,M=(u.layout||{}).selections||[];if(!L(d)&&o!==void 0){var A=u._fullLayout._activeSelectionIndex;if(A<M.length)switch(u._fullLayout.selections[A].type){case"rect":d="select";break;case"path":d="lasso";break}}var E=v(c,u,h,o),g={xref:T._id,yref:f._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},S;E.length===1&&(S=E[0]),S&&S.length===5&&d==="select"?(g.type="rect",g.x0=S[0][1],g.y0=S[0][2],g.x1=S[2][1],g.y1=S[2][2]):(g.type="path",T&&f&&t(E,T,f),g.path=y(E),S=null),C(u);for(var b=a.editHelpers,i=(b||{}).modifyItem,P=[],x=0;x<M.length;x++){var k=u._fullLayout.selections[x];if(!k){P[x]=k;continue}if(P[x]=k._input,o!==void 0&&x===u._fullLayout._activeSelectionIndex){var _=g;switch(k.type){case"rect":i("x0",_.x0),i("x1",_.x1),i("y0",_.y0),i("y1",_.y1);break;case"path":i("path",_.path);break}}}return o===void 0?(P.push(g),P):b?b.getUpdateObj():{}}}}},75549:function(G,U,e){var p=e(71828).strTranslate;function L(v,y){switch(v.type){case"log":return v.p2d(y);case"date":return v.p2r(y,0,v.calendar);default:return v.p2r(y)}}function n(v,y){switch(v.type){case"log":return v.d2p(y);case"date":return v.r2p(y,0,v.calendar);default:return v.r2p(y)}}function C(v){var y=v._id.charAt(0)==="y"?1:0;return function(t){return L(v,t[y])}}function w(v){return p(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:L,r2p:n,axValue:C,getTransform:w}},47322:function(G,U,e){var p=e(32485),L=e(3937);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},3937:function(G,U,e){var p=e(52142),L=e(38258),n=e(73972),C=e(91424).dashStyle,w=e(7901),v=e(30211),y=e(23469).makeEventData,t=e(64505),r=t.freeMode,l=t.rectMode,a=t.drawMode,s=t.openMode,c=t.selectMode,u=e(30477),m=e(21459),h=e(42359),T=e(51873).clearOutline,f=e(60165),o=f.handleEllipse,d=f.readPaths,M=e(90551),A=e(35855),E=e(32485).activateLastSelection,g=e(71828),S=g.sorterAsc,b=e(61082),i=e(79990),P=e(41675).getFromId,x=e(33306),k=e(61549).redrawReglTraces,_=e(34122),B=_.MINSELECT,I=b.filter,z=b.tester,O=e(75549),F=O.p2r,N=O.axValue,Q=O.getTransform;function $(Xe){return Xe.subplot!==void 0}function j(Xe,Pe,we,ue,ge){var Le=!$(ue),ke=r(ge),it=l(ge),lt=s(ge),bt=a(ge),Rt=c(ge),Ut=ge==="drawline",Gt=ge==="drawcircle",_t=Ut||Gt,nr=ue.gd,lr=nr._fullLayout,zr=Rt&&lr.newselection.mode==="immediate"&&Le,mt=lr._zoomlayer,jt=ue.element.getBoundingClientRect(),Yt=ue.plotinfo,wr=Q(Yt),dr=Pe-jt.left,ct=we-jt.top;lr._calcInverseTransform(nr);var ot=g.apply3DTransform(lr._invTransform)(dr,ct);dr=ot[0],ct=ot[1];var wt=lr._invScaleX,Mt=lr._invScaleY,Dt=dr,St=ct,Ot="M"+dr+","+ct,Vt=ue.xaxes[0],Qt=ue.yaxes[0],Kt=Vt._length,or=Qt._length,Mr=Xe.altKey&&!(a(ge)&&lt),Ve,Ge,Ft,kt,Zt,tr,sr;X(Xe,nr,ue),ke&&(Ve=I([[dr,ct]],_.BENDPX));var rr=mt.selectAll("path.select-outline-"+Yt.id).data([1]),Nt=bt?lr.newshape:lr.newselection,hr=bt&&!lt?Nt.fillcolor:"rgba(0,0,0,0)",pr=Nt.line.color||(Le?w.contrast(nr._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Yt.id).style({opacity:bt?Nt.opacity/2:1,"stroke-dasharray":C(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(w.stroke,pr).call(w.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!bt).attr("transform",wr).attr("d",Ot+"Z");var br=mt.append("path").attr("class","zoombox-corners").style({fill:w.background,stroke:w.defaultLine,"stroke-width":1}).attr("transform",wr).attr("d","M0,0Z"),vr=lr._uid+_.SELECTID,Kr=[],Fr=le(nr,ue.xaxes,ue.yaxes,ue.subplot);zr&&!Xe.shiftKey&&(ue._clearSubplotSelections=function(){if(Le){var xn=Vt._id,jr=Qt._id;et(nr,xn,jr,Fr);for(var Dn=(nr.layout||{}).selections||[],In=[],yr=!1,cr=0;cr<Dn.length;cr++){var kr=lr.selections[cr];kr.xref!==xn||kr.yref!==jr?In.push(Dn[cr]):yr=!0}yr&&(nr._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",nr,{selections:In}))}});var Br=ze(ue);ue.moveFn=function(xn,jr){ue._clearSubplotSelections&&(ue._clearSubplotSelections(),ue._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(Kt,wt*xn+dr)),St=Math.max(0,Math.min(or,Mt*jr+ct));var Dn=Math.abs(Dt-dr),In=Math.abs(St-ct);if(it){var yr,cr,kr;if(Rt){var Or=lr.selectdirection;switch(Or==="any"?In<Math.min(Dn*.6,B)?yr="h":Dn<Math.min(In*.6,B)?yr="v":yr="d":yr=Or,yr){case"h":cr=Gt?or/2:0,kr=or;break;case"v":cr=Gt?Kt/2:0,kr=Kt;break}}if(bt)switch(lr.newshape.drawdirection){case"vertical":yr="h",cr=Gt?or/2:0,kr=or;break;case"horizontal":yr="v",cr=Gt?Kt/2:0,kr=Kt;break;case"ortho":Dn<In?(yr="h",cr=ct,kr=St):(yr="v",cr=dr,kr=Dt);break;default:yr="d"}yr==="h"?(kt=_t?o(Gt,[Dt,cr],[Dt,kr]):[[dr,cr],[dr,kr],[Dt,kr],[Dt,cr]],kt.xmin=_t?Dt:Math.min(dr,Dt),kt.xmax=_t?Dt:Math.max(dr,Dt),kt.ymin=Math.min(cr,kr),kt.ymax=Math.max(cr,kr),br.attr("d","M"+kt.xmin+","+(ct-B)+"h-4v"+2*B+"h4ZM"+(kt.xmax-1)+","+(ct-B)+"h4v"+2*B+"h-4Z")):yr==="v"?(kt=_t?o(Gt,[cr,St],[kr,St]):[[cr,ct],[cr,St],[kr,St],[kr,ct]],kt.xmin=Math.min(cr,kr),kt.xmax=Math.max(cr,kr),kt.ymin=_t?St:Math.min(ct,St),kt.ymax=_t?St:Math.max(ct,St),br.attr("d","M"+(dr-B)+","+kt.ymin+"v-4h"+2*B+"v4ZM"+(dr-B)+","+(kt.ymax-1)+"v4h"+2*B+"v-4Z")):yr==="d"&&(kt=_t?o(Gt,[dr,ct],[Dt,St]):[[dr,ct],[dr,St],[Dt,St],[Dt,ct]],kt.xmin=Math.min(dr,Dt),kt.xmax=Math.max(dr,Dt),kt.ymin=Math.min(ct,St),kt.ymax=Math.max(ct,St),br.attr("d","M0,0Z"))}else ke&&(Ve.addPt([Dt,St]),kt=Ve.filtered);if(ue.selectionDefs&&ue.selectionDefs.length?(Ft=ye(ue.mergedPolygons,kt,Mr),kt.subtract=Mr,Ge=W(ue.selectionDefs.concat([kt]))):(Ft=[kt],Ge=z(kt)),h(Be(Ft,lt),rr,ue),Rt){var sn=De(nr,!1),yn=sn.eventData?sn.eventData.points.slice():[];sn=De(nr,!1,Ge,Fr,ue),Ge=sn.selectionTesters,sr=sn.eventData;var bn;Ve?bn=Ve.filtered:bn=xt(Ft),i.throttle(vr,_.SELECTDELAY,function(){Kr=Ue(Ge,Fr);for(var mn=Kr.slice(),_n=0;_n<yn.length;_n++){for(var Kn=yn[_n],na=!1,ea=0;ea<mn.length;ea++)if(mn[ea].curveNumber===Kn.curveNumber&&mn[ea].pointNumber===Kn.pointNumber){na=!0;break}na||mn.push(Kn)}mn.length&&(sr||(sr={}),sr.points=mn),Br(sr,bn),Fe(nr,sr)})}},ue.clickFn=function(xn,jr){if(br.remove(),nr._fullLayout._activeShapeIndex>=0){nr._fullLayout._deactivateShape(nr);return}if(!bt){var Dn=lr.clickmode;i.done(vr).then(function(){if(i.clear(vr),xn===2){for(rr.remove(),Zt=0;Zt<Fr.length;Zt++)tr=Fr[Zt],tr._module.selectPoints(tr,!1);if(_e(nr,Fr),K(ue),at(nr),Fr.length){var In=Fr[0].xaxis,yr=Fr[0].yaxis;if(In&&yr){for(var cr=[],kr=nr._fullLayout.selections,Or=0;Or<kr.length;Or++){var sn=kr[Or];sn&&(sn.xref!==In._id||sn.yref!==yr._id)&&cr.push(sn)}cr.length<kr.length&&(nr._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",nr,{selections:cr}))}}}else Dn.indexOf("select")>-1&&ee(jr,nr,ue.xaxes,ue.yaxes,ue.subplot,ue,rr),Dn==="event"&&$e(nr,void 0);v.click(nr,jr)}).catch(g.error)}},ue.doneFn=function(){br.remove(),i.done(vr).then(function(){i.clear(vr),!zr&&kt&&ue.selectionDefs&&(kt.subtract=Mr,ue.selectionDefs.push(kt),ue.mergedPolygons.length=0,[].push.apply(ue.mergedPolygons,Ft)),(zr||bt)&&K(ue,zr),ue.doneFnCompleted&&ue.doneFnCompleted(Kr),Rt&&$e(nr,sr)}).catch(g.error)}}function ee(Xe,Pe,we,ue,ge,Le,ke){var it=Pe._hoverdata,lt=Pe._fullLayout,bt=lt.clickmode,Rt=bt.indexOf("event")>-1,Ut=[],Gt,_t,nr,lr,zr,mt,jt,Yt,wr,dr;if(he(it)){X(Xe,Pe,Le),Gt=le(Pe,we,ue,ge);var ct=me(it,Gt),ot=ct.pointNumbers.length>0;if(ot?xe(Gt,ct):Ie(Gt)&&(jt=Me(ct))){for(ke&&ke.remove(),dr=0;dr<Gt.length;dr++)_t=Gt[dr],_t._module.selectPoints(_t,!1);_e(Pe,Gt),K(Le),Rt&&at(Pe)}else{Yt=Xe.shiftKey&&(jt!==void 0?jt:Me(ct)),nr=oe(ct.pointNumber,ct.searchInfo,Yt);var wt=Le.selectionDefs.concat([nr]);for(lr=W(wt),dr=0;dr<Gt.length;dr++)if(zr=Gt[dr]._module.selectPoints(Gt[dr],lr),mt=Ae(zr,Gt[dr]),Ut.length)for(var Mt=0;Mt<mt.length;Mt++)Ut.push(mt[Mt]);else Ut=mt;if(wr={points:Ut},_e(Pe,Gt,wr),nr&&Le&&Le.selectionDefs.push(nr),ke){var Dt=Le.mergedPolygons,St=s(Le.dragmode);h(Be(Dt,St),ke,Le)}Rt&&$e(Pe,wr)}}}function oe(Xe,Pe,we){return{pointNumber:Xe,searchInfo:Pe,subtract:!!we}}function Y(Xe){return"pointNumber"in Xe&&"searchInfo"in Xe}function V(Xe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Pe,we,ue,ge){var Le=Xe.searchInfo.cd[0].trace._expandedIndex,ke=ge.cd[0].trace._expandedIndex;return ke===Le&&ue===Xe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Xe.subtract}}function W(Xe){if(!Xe.length)return;for(var Pe=[],we=Y(Xe[0])?0:Xe[0][0][0],ue=we,ge=Y(Xe[0])?0:Xe[0][0][1],Le=ge,ke=0;ke<Xe.length;ke++)if(Y(Xe[ke]))Pe.push(V(Xe[ke]));else{var it=z(Xe[ke]);it.subtract=!!Xe[ke].subtract,Pe.push(it),we=Math.min(we,it.xmin),ue=Math.max(ue,it.xmax),ge=Math.min(ge,it.ymin),Le=Math.max(Le,it.ymax)}function lt(bt,Rt,Ut,Gt){for(var _t=!1,nr=0;nr<Pe.length;nr++)Pe[nr].contains(bt,Rt,Ut,Gt)&&(_t=!Pe[nr].subtract);return _t}return{xmin:we,xmax:ue,ymin:ge,ymax:Le,pts:[],contains:lt,isRect:!1,degenerate:!1}}function X(Xe,Pe,we){var ue=Pe._fullLayout,ge=we.plotinfo,Le=we.dragmode,ke=ue._lastSelectedSubplot&&ue._lastSelectedSubplot===ge.id,it=(Xe.shiftKey||Xe.altKey)&&!(a(Le)&&s(Le));ke&&it&&ge.selection&&ge.selection.selectionDefs&&!we.selectionDefs?(we.selectionDefs=ge.selection.selectionDefs,we.mergedPolygons=ge.selection.mergedPolygons):(!it||!ge.selection)&&K(we),ke||(T(Pe),ue._lastSelectedSubplot=ge.id)}function re(Xe){return Xe._fullLayout._activeShapeIndex>=0}function ie(Xe){return Xe._fullLayout._activeSelectionIndex>=0}function K(Xe,Pe){var we=Xe.dragmode,ue=Xe.plotinfo,ge=Xe.gd;re(ge)&&ge._fullLayout._deactivateShape(ge),ie(ge)&&ge._fullLayout._deactivateSelection(ge);var Le=ge._fullLayout,ke=Le._zoomlayer,it=a(we),lt=c(we);if(it||lt){var bt=ke.selectAll(".select-outline-"+ue.id);if(bt&&ge._fullLayout._outlining){var Rt;it&&(Rt=M(bt,Xe)),Rt&&n.call("_guiRelayout",ge,{shapes:Rt});var Ut;lt&&!$(Xe)&&(Ut=A(bt,Xe)),Ut&&(ge._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",ge,{selections:Ut}).then(function(){Pe&&E(ge)})),ge._fullLayout._outlining=!1}}ue.selection={},ue.selection.selectionDefs=Xe.selectionDefs=[],ue.selection.mergedPolygons=Xe.mergedPolygons=[]}function q(Xe){return Xe._id}function le(Xe,Pe,we,ue){if(!Xe.calcdata)return[];var ge=[],Le=Pe.map(q),ke=we.map(q),it,lt,bt;for(bt=0;bt<Xe.calcdata.length;bt++)if(it=Xe.calcdata[bt],lt=it[0].trace,!(lt.visible!==!0||!lt._module||!lt._module.selectPoints))if($({subplot:ue})&&(lt.subplot===ue||lt.geo===ue))ge.push(ae(lt._module,it,Pe[0],we[0]));else if(lt.type==="splom"){if(lt._xaxes[Le[0]]&&lt._yaxes[ke[0]]){var Rt=ae(lt._module,it,Pe[0],we[0]);Rt.scene=Xe._fullLayout._splomScenes[lt.uid],ge.push(Rt)}}else if(lt.type==="sankey"){var Ut=ae(lt._module,it,Pe[0],we[0]);ge.push(Ut)}else{if(Le.indexOf(lt.xaxis)===-1||ke.indexOf(lt.yaxis)===-1)continue;ge.push(ae(lt._module,it,P(Xe,lt.xaxis),P(Xe,lt.yaxis)))}return ge}function ae(Xe,Pe,we,ue){return{_module:Xe,cd:Pe,xaxis:we,yaxis:ue}}function he(Xe){return Xe&&Array.isArray(Xe)&&Xe[0].hoverOnBox!==!0}function me(Xe,Pe){var we=Xe[0],ue=-1,ge=[],Le,ke;for(ke=0;ke<Pe.length;ke++)if(Le=Pe[ke],we.fullData._expandedIndex===Le.cd[0].trace._expandedIndex){if(we.hoverOnBox===!0)break;we.pointNumber!==void 0?ue=we.pointNumber:we.binNumber!==void 0&&(ue=we.binNumber,ge=we.pointNumbers);break}return{pointNumber:ue,pointNumbers:ge,searchInfo:Le}}function Me(Xe){var Pe=Xe.searchInfo.cd[0].trace,we=Xe.pointNumber,ue=Xe.pointNumbers,ge=ue.length>0,Le=ge?ue[0]:we;return Pe.selectedpoints?Pe.selectedpoints.indexOf(Le)>-1:!1}function xe(Xe,Pe){var we=[],ue,ge,Le,ke;for(ke=0;ke<Xe.length;ke++)ue=Xe[ke],ue.cd[0].trace.selectedpoints&&ue.cd[0].trace.selectedpoints.length>0&&we.push(ue);if(we.length===1&&(Le=we[0]===Pe.searchInfo,Le&&(ge=Pe.searchInfo.cd[0].trace,ge.selectedpoints.length===Pe.pointNumbers.length))){for(ke=0;ke<Pe.pointNumbers.length;ke++)if(ge.selectedpoints.indexOf(Pe.pointNumbers[ke])<0)return!1;return!0}return!1}function Ie(Xe){var Pe=0,we,ue,ge;for(ge=0;ge<Xe.length;ge++)if(we=Xe[ge],ue=we.cd[0].trace,ue.selectedpoints&&(ue.selectedpoints.length>1||(Pe+=ue.selectedpoints.length,Pe>1)))return!1;return Pe===1}function _e(Xe,Pe,we){var ue;for(ue=0;ue<Pe.length;ue++){var ge=Pe[ue].cd[0].trace._fullInput,Le=Xe._fullLayout._tracePreGUI[ge.uid]||{};Le.selectedpoints===void 0&&(Le.selectedpoints=ge._input.selectedpoints||null)}var ke;if(we){var it=we.points||[];for(ue=0;ue<Pe.length;ue++)ke=Pe[ue].cd[0].trace,ke._input.selectedpoints=ke._fullInput.selectedpoints=[],ke._fullInput!==ke&&(ke.selectedpoints=[]);for(var lt=0;lt<it.length;lt++){var bt=it[lt],Rt=bt.data,Ut=bt.fullData,Gt=bt.pointIndex,_t=bt.pointIndices;_t?([].push.apply(Rt.selectedpoints,_t),ke._fullInput!==ke&&[].push.apply(Ut.selectedpoints,_t)):(Rt.selectedpoints.push(Gt),ke._fullInput!==ke&&Ut.selectedpoints.push(Gt))}}else for(ue=0;ue<Pe.length;ue++)ke=Pe[ue].cd[0].trace,delete ke.selectedpoints,delete ke._input.selectedpoints,ke._fullInput!==ke&&delete ke._fullInput.selectedpoints;Te(Xe,Pe)}function Te(Xe,Pe){for(var we=!1,ue=0;ue<Pe.length;ue++){var ge=Pe[ue],Le=ge.cd;n.traceIs(Le[0].trace,"regl")&&(we=!0);var ke=ge._module,it=ke.styleOnSelect||ke.style;it&&(it(Xe,Le,Le[0].node3),Le[0].nodeRangePlot3&&it(Xe,Le,Le[0].nodeRangePlot3))}we&&(x(Xe),k(Xe))}function ye(Xe,Pe,we){for(var ue=we?p.difference:p.union,ge=ue({regions:Xe},{regions:[Pe]}),Le=ge.regions.reverse(),ke=0;ke<Le.length;ke++){var it=Le[ke];it.subtract=ft(it,Le.slice(0,ke))}return Le}function Ae(Xe,Pe){if(Array.isArray(Xe))for(var we=Pe.cd,ue=Pe.cd[0].trace,ge=0;ge<Xe.length;ge++)Xe[ge]=y(Xe[ge],ue,we);return Xe}function Be(Xe,Pe){for(var we=[],ue=0;ue<Xe.length;ue++){we[ue]=[];for(var ge=0;ge<Xe[ue].length;ge++){we[ue][ge]=[],we[ue][ge][0]=ge?"L":"M";for(var Le=0;Le<Xe[ue][ge].length;Le++)we[ue][ge].push(Xe[ue][ge][Le])}Pe||we[ue].push(["Z",we[ue][0][1],we[ue][0][2]])}return we}function Ue(Xe,Pe){for(var we=[],ue,ge,Le=0;Le<Pe.length;Le++){var ke=Pe[Le];ge=ke._module.selectPoints(ke,Xe),ue=Ae(ge,ke),we=we.concat(ue)}return we}function De(Xe,Pe,we,ue,ge){var Le=!!ue,ke,it,lt;ge&&(ke=ge.plotinfo,it=ge.xaxes[0]._id,lt=ge.yaxes[0]._id);var bt=[],Rt=[],Ut=qe(Xe),Gt=Xe._fullLayout;if(ke){var _t=Gt._zoomlayer,nr=Gt.dragmode,lr=a(nr),zr=c(nr);if(lr||zr){var mt=P(Xe,it,"x"),jt=P(Xe,lt,"y");if(mt&&jt){var Yt=_t.selectAll(".select-outline-"+ke.id);if(Yt&&Xe._fullLayout._outlining&&Yt.length){for(var wr=Yt[0][0],dr=wr.getAttribute("d"),ct=d(dr,Xe,ke),ot=[],wt=0;wt<ct.length;wt++){for(var Mt=ct[wt],Dt=[],St=0;St<Mt.length;St++)Dt.push([gt(mt,Mt[St][1]),gt(jt,Mt[St][2])]);Dt.xref=it,Dt.yref=lt,Dt.subtract=ft(Dt,ot),ot.push(Dt)}Ut=Ut.concat(ot)}}}}var Ot=it&&lt?[it+lt]:Gt._subplots.cartesian;He(Xe);for(var Vt={},Qt=0;Qt<Ot.length;Qt++){var Kt=Ot[Qt],or=Kt.indexOf("y"),Mr=Kt.slice(0,or),Ve=Kt.slice(or),Ge=it&&lt?we:void 0;if(Ge=Qe(Ut,Mr,Ve,Ge),Ge){var Ft=ue;if(!Le){var kt=P(Xe,Mr,"x"),Zt=P(Xe,Ve,"y");Ft=le(Xe,[kt],[Zt],Kt);for(var tr=0;tr<Ft.length;tr++){var sr=Ft[tr],rr=sr.cd[0],Nt=rr.trace;if(sr._module.name==="scattergl"&&!rr.t.xpx){var hr=Nt.x,pr=Nt.y,br=Nt._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<br;vr++)rr.t.xpx[vr]=kt.c2p(hr[vr]),rr.t.ypx[vr]=Zt.c2p(pr[vr])}sr._module.name==="splom"&&(Vt[Nt.uid]||(Vt[Nt.uid]=!0))}}var Kr=Ue(Ge,Ft);bt=bt.concat(Kr),Rt=Rt.concat(Ft)}}var Fr={points:bt};_e(Xe,Rt,Fr);var Br=Gt.clickmode,xn=Br.indexOf("event")>-1&&Pe;if(!ke&&Pe){var jr=qe(Xe,!0);if(jr.length){var Dn=jr[0].xref,In=jr[0].yref;if(Dn&&In){var yr=xt(jr),cr=Je([P(Xe,Dn,"x"),P(Xe,In,"y")]);cr(Fr,yr)}}Xe._fullLayout._noEmitSelectedAtStart?Xe._fullLayout._noEmitSelectedAtStart=!1:xn&&$e(Xe,Fr),Gt._reselect=!1}if(!ke&&Gt._deselect){var kr=Gt._deselect;it=kr.xref,lt=kr.yref,ut(it,lt,Rt)||et(Xe,it,lt,ue),xn&&(Fr.points.length?$e(Xe,Fr):at(Xe)),Gt._deselect=!1}return{eventData:Fr,selectionTesters:we}}function He(Xe){var Pe=Xe.calcdata;if(Pe)for(var we=0;we<Pe.length;we++){var ue=Pe[we][0],ge=ue.trace,Le=Xe._fullLayout._splomScenes;if(Le){var ke=Le[ge.uid];ke&&(ke.selectBatch=[])}}}function ut(Xe,Pe,we){for(var ue=0;ue<we.length;ue++){var ge=we[ue];if(ge.xaxis&&ge.xaxis._id===Xe&&ge.yaxis&&ge.yaxis._id===Pe)return!0}return!1}function et(Xe,Pe,we,ue){ue=le(Xe,[P(Xe,Pe,"x")],[P(Xe,we,"y")],Pe+we);for(var ge=0;ge<ue.length;ge++){var Le=ue[ge];Le._module.selectPoints(Le,!1)}_e(Xe,ue)}function Qe(Xe,Pe,we,ue){for(var ge,Le=0;Le<Xe.length;Le++){var ke=Xe[Le];if(!(Pe!==ke.xref||we!==ke.yref))if(ge){var it=!!ke.subtract;ge=ye(ge,ke,it),ue=W(ge)}else ge=[ke],ue=z(ke)}return ue}function qe(Xe,Pe){for(var we=[],ue=Xe._fullLayout,ge=ue.selections,Le=ge.length,ke=0;ke<Le;ke++)if(!(Pe&&ke!==ue._activeSelectionIndex)){var it=ge[ke];if(it){var lt=it.xref,bt=it.yref,Rt=P(Xe,lt,"x"),Ut=P(Xe,bt,"y"),Gt,_t,nr,lr,zr;if(it.type==="rect"){zr=[];var mt=gt(Rt,it.x0),jt=gt(Rt,it.x1),Yt=gt(Ut,it.y0),wr=gt(Ut,it.y1);zr=[[mt,Yt],[mt,wr],[jt,wr],[jt,Yt]],Gt=Math.min(mt,jt),_t=Math.max(mt,jt),nr=Math.min(Yt,wr),lr=Math.max(Yt,wr),zr.xmin=Gt,zr.xmax=_t,zr.ymin=nr,zr.ymax=lr,zr.xref=lt,zr.yref=bt,zr.subtract=!1,zr.isRect=!0,we.push(zr)}else if(it.type==="path")for(var dr=it.path.split("Z"),ct=[],ot=0;ot<dr.length;ot++){var wt=dr[ot];if(wt){wt+="Z";var Mt=u.extractPathCoords(wt,m.paramIsX,"raw"),Dt=u.extractPathCoords(wt,m.paramIsY,"raw");Gt=1/0,_t=-1/0,nr=1/0,lr=-1/0,zr=[];for(var St=0;St<Mt.length;St++){var Ot=gt(Rt,Mt[St]),Vt=gt(Ut,Dt[St]);zr.push([Ot,Vt]),Gt=Math.min(Ot,Gt),_t=Math.max(Ot,_t),nr=Math.min(Vt,nr),lr=Math.max(Vt,lr)}zr.xmin=Gt,zr.xmax=_t,zr.ymin=nr,zr.ymax=lr,zr.xref=lt,zr.yref=bt,zr.subtract=ft(zr,ct),ct.push(zr),we.push(zr)}}}}return we}function ft(Xe,Pe){for(var we=!1,ue=0;ue<Pe.length;ue++)for(var ge=Pe[ue],Le=0;Le<Xe.length;Le++)if(L(Xe[Le],ge)){we=!we;break}return we}function gt(Xe,Pe){return Xe.type==="date"&&(Pe=Pe.replace("_"," ")),Xe.type==="log"?Xe.c2p(Pe):Xe.r2p(Pe,null,Xe.calendar)}function xt(Xe){for(var Pe=Xe.length,we=[],ue=0;ue<Pe;ue++){var ge=Xe[ue];we=we.concat(ge),we=we.concat([ge[0]])}return Ct(we)}function Ct(Xe){return Xe.isRect=Xe.length===5&&Xe[0][0]===Xe[4][0]&&Xe[0][1]===Xe[4][1]&&Xe[0][0]===Xe[1][0]&&Xe[2][0]===Xe[3][0]&&Xe[0][1]===Xe[3][1]&&Xe[1][1]===Xe[2][1]||Xe[0][1]===Xe[1][1]&&Xe[2][1]===Xe[3][1]&&Xe[0][0]===Xe[3][0]&&Xe[1][0]===Xe[2][0],Xe.isRect&&(Xe.xmin=Math.min(Xe[0][0],Xe[2][0]),Xe.xmax=Math.max(Xe[0][0],Xe[2][0]),Xe.ymin=Math.min(Xe[0][1],Xe[2][1]),Xe.ymax=Math.max(Xe[0][1],Xe[2][1])),Xe}function Je(Xe){return function(Pe,we){for(var ue,ge,Le=0;Le<Xe.length;Le++){var ke=Xe[Le],it=ke._id,lt=it.charAt(0);if(we.isRect){ue||(ue={});var bt=we[lt+"min"],Rt=we[lt+"max"];bt!==void 0&&Rt!==void 0&&(ue[it]=[F(ke,bt),F(ke,Rt)].sort(S))}else ge||(ge={}),ge[it]=we.map(N(ke))}ue&&(Pe.range=ue),ge&&(Pe.lassoPoints=ge)}}function ze(Xe){var Pe=Xe.plotinfo;return Pe.fillRangeItems||Je(Xe.xaxes.concat(Xe.yaxes))}function Fe(Xe,Pe){Xe.emit("plotly_selecting",Pe)}function $e(Xe,Pe){Pe&&(Pe.selections=(Xe.layout||{}).selections||[]),Xe.emit("plotly_selected",Pe)}function at(Xe){Xe.emit("plotly_deselect",null)}G.exports={reselect:De,prepSelect:j,clearOutline:T,clearSelectionsCache:K,selectOnClick:ee}},89827:function(G,U,e){var p=e(50215),L=e(41940),n=e(82196).line,C=e(79952).P,w=e(1426).extendFlat,v=e(44467).templatedArray;e(24695),G.exports=v("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:w({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:w({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:w({},n.color,{editType:"arraydraw"}),width:w({},n.width,{editType:"calc+arraydraw"}),dash:w({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(G,U,e){var p=e(71828),L=e(89298),n=e(21459),C=e(30477);G.exports=function(l){var a=l._fullLayout,s=p.filterVisible(a.shapes);if(!(!s.length||!l._fullData.length))for(var c=0;c<s.length;c++){var u=s[c];u._extremes={};var m,h,T=L.getRefType(u.xref),f=L.getRefType(u.yref);if(u.xref!=="paper"&&T!=="domain"){var o=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;m=L.getFromId(l,u.xref),h=t(m,o,d,u.path,n.paramIsX),h&&(u._extremes[m._id]=L.findExtremes(m,h,w(u)))}if(u.yref!=="paper"&&f!=="domain"){var M=u.ysizemode==="pixel"?u.yanchor:u.y0,A=u.ysizemode==="pixel"?u.yanchor:u.y1;m=L.getFromId(l,u.yref),h=t(m,M,A,u.path,n.paramIsY),h&&(u._extremes[m._id]=L.findExtremes(m,h,v(u)))}}};function w(r){return y(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return y(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function y(r,l,a,s,c,u){var m=r/2,h=u;if(l==="pixel"){var T=c?C.extractPathCoords(c,u?n.paramIsY:n.paramIsX):[a,s],f=p.aggNums(Math.max,null,T),o=p.aggNums(Math.min,null,T),d=o<0?Math.abs(o)+m:m,M=f>0?f+m:m;return{ppad:m,ppadplus:h?d:M,ppadminus:h?M:d}}else return{ppad:m}}function t(r,l,a,s,c){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(l!==void 0)return[u(l),u(a)];if(s){var m=1/0,h=-1/0,T=s.match(n.segmentRE),f,o,d,M,A;for(r.type==="date"&&(u=C.decodeDate(u)),f=0;f<T.length;f++)o=T[f],d=c[o.charAt(0)].drawn,d!==void 0&&(M=T[f].substr(1).match(n.paramRE),!(!M||M.length<d)&&(A=u(M[d]),A<m&&(m=A),A>h&&(h=A)));if(h>=m)return[m,h]}}},21459:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(G,U,e){var p=e(71828),L=e(89298),n=e(85501),C=e(89827),w=e(30477);G.exports=function(r,l){n(r,l,{name:"shapes",handleItemDefaults:y})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function y(t,r,l){function a(ee,oe){return p.coerce(t,r,C,ee,oe)}var s=a("visible");if(s){var c=a("path"),u=c?"path":"rect",m=a("type",u),h=m!=="path";h&&delete r.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var T=a("line.width");T&&(a("line.color"),a("line.dash"));for(var f=a("xsizemode"),o=a("ysizemode"),d=["x","y"],M=0;M<2;M++){var A=d[M],E=A+"anchor",g=A==="x"?f:o,S={_fullLayout:l},b,i,P,x=L.coerceRef(t,r,S,A,void 0,"paper"),k=L.getRefType(x);if(k==="range"?(b=L.getFromId(S,x),b._shapeIndices.push(r._index),P=w.rangeToShapePosition(b),i=w.shapePositionToRange(b)):i=P=p.identity,h){var _=.25,B=.75,I=A+"0",z=A+"1",O=t[I],F=t[z];t[I]=i(t[I],!0),t[z]=i(t[z],!0),g==="pixel"?(a(I,0),a(z,10)):(L.coercePosition(r,S,a,x,I,_),L.coercePosition(r,S,a,x,z,B)),r[I]=P(r[I]),r[z]=P(r[z]),t[I]=O,t[z]=F}if(g==="pixel"){var N=t[E];t[E]=i(t[E],!0),L.coercePosition(r,S,a,x,E,.25),r[E]=P(r[E]),t[E]=N}}h&&p.noneOrAll(t,r,["x0","x1","y0","y1"]);var Q=m==="line",$=a("label.text");if($){a("label.textangle");var j=a("label.textposition",Q?"middle":"middle center");a("label.xanchor"),a("label.yanchor",v(Q,j)),a("label.padding"),p.coerceFont(a,"label.font",l.font)}}}},42359:function(G,U,e){var p=e(71828),L=p.strTranslate,n=e(28569),C=e(64505),w=C.drawMode,v=C.selectMode,y=e(73972),t=e(7901),r=e(89995),l=r.i000,a=r.i090,s=r.i180,c=r.i270,u=e(51873),m=u.clearOutlineControllers,h=e(60165),T=h.pointsOnRectangle,f=h.pointsOnEllipse,o=h.writePaths,d=e(90551),M=e(35855);G.exports=function S(b,i,P,x){x||(x=0);var k=P.gd;function _(){S(b,i,P,x++),(f(b[0])||P.hasText)&&B({redrawing:!0})}function B(xe){var Ie={};P.isActiveShape!==void 0&&(P.isActiveShape=!1,Ie=d(i,P)),P.isActiveSelection!==void 0&&(P.isActiveSelection=!1,Ie=M(i,P),k._fullLayout._reselect=!0),Object.keys(Ie).length&&y.call((xe||{}).redrawing?"relayout":"_guiRelayout",k,Ie)}var I=k._fullLayout,z=I._zoomlayer,O=P.dragmode,F=w(O),N=v(O);(F||N)&&(k._fullLayout._outlining=!0),m(k),i.attr("d",o(b));var Q,$,j,ee,oe;if(!x&&(P.isActiveShape||P.isActiveSelection)){oe=A([],b);var Y=z.append("g").attr("class","outline-controllers");K(Y),Me()}function V(xe){j=+xe.srcElement.getAttribute("data-i"),ee=+xe.srcElement.getAttribute("data-j"),Q[j][ee].moveFn=W}function W(xe,Ie){if(b.length){var _e=oe[j][ee][1],Te=oe[j][ee][2],ye=b[j],Ae=ye.length;if(T(ye)){var Be=xe,Ue=Ie;if(P.isActiveSelection){var De=E(ye,ee);De[1]===ye[ee][1]?Ue=0:Be=0}for(var He=0;He<Ae;He++)if(He!==ee){var ut=ye[He];ut[1]===ye[ee][1]&&(ut[1]=_e+Be),ut[2]===ye[ee][2]&&(ut[2]=Te+Ue)}if(ye[ee][1]=_e+Be,ye[ee][2]=Te+Ue,!T(ye))for(var et=0;et<Ae;et++)for(var Qe=0;Qe<ye[et].length;Qe++)ye[et][Qe]=oe[j][et][Qe]}else ye[ee][1]=_e+xe,ye[ee][2]=Te+Ie;_()}}function X(){B()}function re(){if(b.length&&b[j]&&b[j].length){for(var xe=[],Ie=0;Ie<b[j].length;Ie++)Ie!==ee&&xe.push(b[j][Ie]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(ee===0&&(xe[0][0]="M"),b[j]=xe,_(),B())}}function ie(xe,Ie){if(xe===2){j=+Ie.srcElement.getAttribute("data-i"),ee=+Ie.srcElement.getAttribute("data-j");var _e=b[j];!T(_e)&&!f(_e)&&re()}}function K(xe){Q=[];for(var Ie=0;Ie<b.length;Ie++){var _e=b[Ie],Te=T(_e),ye=!Te&&f(_e);Q[Ie]=[];for(var Ae=_e.length,Be=0;Be<Ae;Be++)if(_e[Be][0]!=="Z"&&!(ye&&Be!==l&&Be!==a&&Be!==s&&Be!==c)){var Ue=Te&&P.isActiveSelection,De;Ue&&(De=E(_e,Be));var He=_e[Be][1],ut=_e[Be][2],et=xe.append(Ue?"rect":"circle").attr("data-i",Ie).attr("data-j",Be).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Ue){var Qe=De[1]-He,qe=De[2]-ut,ft=qe?5:Math.max(Math.min(25,Math.abs(Qe)-5),5),gt=Qe?5:Math.max(Math.min(25,Math.abs(qe)-5),5);et.classed(qe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ft).attr("height",gt).attr("x",He-ft/2).attr("y",ut-gt/2).attr("transform",L(Qe/2,qe/2))}else et.classed("cursor-grab",!0).attr("r",5).attr("cx",He).attr("cy",ut);Q[Ie][Be]={element:et.node(),gd:k,prepFn:V,doneFn:X,clickFn:ie},n.init(Q[Ie][Be])}}}function q(xe,Ie){if(b.length)for(var _e=0;_e<b.length;_e++)for(var Te=0;Te<b[_e].length;Te++)for(var ye=0;ye+2<b[_e][Te].length;ye+=2)b[_e][Te][ye+1]=oe[_e][Te][ye+1]+xe,b[_e][Te][ye+2]=oe[_e][Te][ye+2]+Ie}function le(xe,Ie){q(xe,Ie),_()}function ae(xe){j=+xe.srcElement.getAttribute("data-i"),j||(j=0),$[j].moveFn=le}function he(){B()}function me(xe){xe===2&&g(k)}function Me(){if($=[],!!b.length){var xe=0;$[xe]={element:i[0][0],gd:k,prepFn:ae,doneFn:he,clickFn:me},n.init($[xe])}}};function A(S,b){for(var i=0;i<b.length;i++){var P=b[i];S[i]=[];for(var x=0;x<P.length;x++){S[i][x]=[];for(var k=0;k<P[x].length;k++)S[i][x][k]=P[x][k]}}return S}function E(S,b){var i=S[b][1],P=S[b][2],x=S.length,k,_,B;return k=(b+1)%x,_=S[k][1],B=S[k][2],_===i&&B===P&&(k=(b+2)%x,_=S[k][1],B=S[k][2]),[k,_,B]}function g(S){if(v(S._fullLayout.dragmode)){m(S);var b=S._fullLayout._activeSelectionIndex,i=(S.layout||{}).selections||[];if(b<i.length){for(var P=[],x=0;x<i.length;x++)x!==b&&P.push(i[x]);delete S._fullLayout._activeSelectionIndex;var k=S._fullLayout.selections[b];S._fullLayout._deselect={xref:k.xref,yref:k.yref},y.call("_guiRelayout",S,{selections:P})}}}},34031:function(G,U,e){var p=e(39898),L=e(73972),n=e(71828),C=e(89298),w=e(60165).readPaths,v=e(42359),y=e(51873).clearOutlineControllers,t=e(7901),r=e(91424),l=e(44467).arrayEditor,a=e(28569),s=e(6964),c=e(63893),u=e(21459),m=e(30477),h=m.getPathString,T=e(18783).FROM_TL;G.exports={draw:f,drawOne:M,eraseActiveShape:k};function f(_){var B=_._fullLayout;B._shapeUpperLayer.selectAll("path").remove(),B._shapeLowerLayer.selectAll("path").remove(),B._shapeUpperLayer.selectAll("text").remove(),B._shapeLowerLayer.selectAll("text").remove();for(var I in B._plots){var z=B._plots[I].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var O=0;O<B.shapes.length;O++)B.shapes[O].visible&&M(_,O)}function o(_){return!!_._fullLayout._outlining}function d(_){return!_._context.edits.shapePosition}function M(_,B){_._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+B+'"]').remove();var I=m.makeShapesOptionsAndPlotinfo(_,B),z=I.options,O=I.plotinfo;if(!z._input||z.visible===!1)return;if(z.layer!=="below")N(_._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")N(_._fullLayout._shapeLowerLayer);else if(O._hadPlotinfo){var F=O.mainplotinfo||O;N(F.shapelayer)}else N(_._fullLayout._shapeLowerLayer);function N(Q){var $=h(_,z),j={"data-index":B,"fill-rule":z.fillrule,d:$},ee=z.opacity,oe=z.fillcolor,Y=z.line.width?z.line.color:"rgba(0,0,0,0)",V=z.line.width,W=z.line.dash;!V&&z.editable===!0&&(V=5,W="solid");var X=$[$.length-1]!=="Z",re=d(_)&&z.editable&&_._fullLayout._activeShapeIndex===B;re&&(oe=X?"rgba(0,0,0,0)":_._fullLayout.activeshape.fillcolor,ee=_._fullLayout.activeshape.opacity);var ie=Q.append("g").classed("shape-group",!0).attr({"data-index":B}),K=ie.append("path").attr(j).style("opacity",ee).call(t.stroke,Y).call(t.fill,oe).call(r.dashLine,W,V);A(ie,_,z),g(_,B,z,ie);var q;if((re||_._context.edits.shapePosition)&&(q=l(_.layout,"shapes",z)),re){K.style({cursor:"move"});var le={element:K.node(),plotinfo:O,gd:_,editHelpers:q,hasText:z.label.text,isActiveShape:!0},ae=w($,_);v(ae,K,le)}else _._context.edits.shapePosition?E(_,K,z,B,Q,q):z.editable===!0&&K.style("pointer-events",X||t.opacity(oe)*ee<=.5?"stroke":"all");K.node().addEventListener("click",function(){return P(_,K)})}}function A(_,B,I){var z=(I.xref+I.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(_,z?"clip"+B._fullLayout._uid+z:null,B)}function E(_,B,I,z,O,F){var N=10,Q=10,$=I.xsizemode==="pixel",j=I.ysizemode==="pixel",ee=I.type==="line",oe=I.type==="path",Y=F.modifyItem,V,W,X,re,ie,K,q,le,ae,he,me,Me,xe,Ie,_e,Te=p.select(B.node().parentNode),ye=C.getFromId(_,I.xref),Ae=C.getRefType(I.xref),Be=C.getFromId(_,I.yref),Ue=C.getRefType(I.yref),De=m.getDataToPixel(_,ye,!1,Ae),He=m.getDataToPixel(_,Be,!0,Ue),ut=m.getPixelToData(_,ye,!1,Ae),et=m.getPixelToData(_,Be,!0,Ue),Qe=gt(),qe={element:Qe.node(),gd:_,prepFn:Je,doneFn:ze,clickFn:Fe},ft;a.init(qe),Qe.node().onmousemove=Ct;function gt(){return ee?xt():B}function xt(){var ue=10,ge=Math.max(I.line.width,ue),Le=O.append("g").attr("data-index",z).attr("drag-helper",!0);Le.append("path").attr("d",B.attr("d")).style({cursor:"move","stroke-width":ge,"stroke-opacity":"0"});var ke={"fill-opacity":"0"},it=Math.max(ge/2,ue);return Le.append("circle").attr({"data-line-point":"start-point",cx:$?De(I.xanchor)+I.x0:De(I.x0),cy:j?He(I.yanchor)-I.y0:He(I.y0),r:it}).style(ke).classed("cursor-grab",!0),Le.append("circle").attr({"data-line-point":"end-point",cx:$?De(I.xanchor)+I.x1:De(I.x1),cy:j?He(I.yanchor)-I.y1:He(I.y1),r:it}).style(ke).classed("cursor-grab",!0),Le}function Ct(ue){if(o(_)){ft=null;return}if(ee)ue.target.tagName==="path"?ft="move":ft=ue.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ge=qe.element.getBoundingClientRect(),Le=ge.right-ge.left,ke=ge.bottom-ge.top,it=ue.clientX-ge.left,lt=ue.clientY-ge.top,bt=!oe&&Le>N&&ke>Q&&!ue.shiftKey?a.getCursor(it/Le,1-lt/ke):"move";s(B,bt),ft=bt.split("-")[0]}}function Je(ue){o(_)||($&&(ie=De(I.xanchor)),j&&(K=He(I.yanchor)),I.type==="path"?_e=I.path:(V=$?I.x0:De(I.x0),W=j?I.y0:He(I.y0),X=$?I.x1:De(I.x1),re=j?I.y1:He(I.y1)),V<X?(ae=V,xe="x0",he=X,Ie="x1"):(ae=X,xe="x1",he=V,Ie="x0"),!j&&W<re||j&&W>re?(q=W,me="y0",le=re,Me="y1"):(q=re,me="y1",le=W,Me="y0"),Ct(ue),Xe(O,I),we(B,I,_),qe.moveFn=ft==="move"?$e:at,qe.altKey=ue.altKey)}function ze(){o(_)||(s(B),Pe(O),A(B,_,I),L.call("_guiRelayout",_,F.getUpdateObj()))}function Fe(){o(_)||Pe(O)}function $e(ue,ge){if(I.type==="path"){var Le=function(lt){return lt},ke=Le,it=Le;$?Y("xanchor",I.xanchor=ut(ie+ue)):(ke=function(bt){return ut(De(bt)+ue)},ye&&ye.type==="date"&&(ke=m.encodeDate(ke))),j?Y("yanchor",I.yanchor=et(K+ge)):(it=function(bt){return et(He(bt)+ge)},Be&&Be.type==="date"&&(it=m.encodeDate(it))),Y("path",I.path=i(_e,ke,it))}else $?Y("xanchor",I.xanchor=ut(ie+ue)):(Y("x0",I.x0=ut(V+ue)),Y("x1",I.x1=ut(X+ue))),j?Y("yanchor",I.yanchor=et(K+ge)):(Y("y0",I.y0=et(W+ge)),Y("y1",I.y1=et(re+ge)));B.attr("d",h(_,I)),Xe(O,I),g(_,z,I,Te)}function at(ue,ge){if(oe){var Le=function(dr){return dr},ke=Le,it=Le;$?Y("xanchor",I.xanchor=ut(ie+ue)):(ke=function(ct){return ut(De(ct)+ue)},ye&&ye.type==="date"&&(ke=m.encodeDate(ke))),j?Y("yanchor",I.yanchor=et(K+ge)):(it=function(ct){return et(He(ct)+ge)},Be&&Be.type==="date"&&(it=m.encodeDate(it))),Y("path",I.path=i(_e,ke,it))}else if(ee){if(ft==="resize-over-start-point"){var lt=V+ue,bt=j?W-ge:W+ge;Y("x0",I.x0=$?lt:ut(lt)),Y("y0",I.y0=j?bt:et(bt))}else if(ft==="resize-over-end-point"){var Rt=X+ue,Ut=j?re-ge:re+ge;Y("x1",I.x1=$?Rt:ut(Rt)),Y("y1",I.y1=j?Ut:et(Ut))}}else{var Gt=function(dr){return ft.indexOf(dr)!==-1},_t=Gt("n"),nr=Gt("s"),lr=Gt("w"),zr=Gt("e"),mt=_t?q+ge:q,jt=nr?le+ge:le,Yt=lr?ae+ue:ae,wr=zr?he+ue:he;j&&(_t&&(mt=q-ge),nr&&(jt=le-ge)),(!j&&jt-mt>Q||j&&mt-jt>Q)&&(Y(me,I[me]=j?mt:et(mt)),Y(Me,I[Me]=j?jt:et(jt))),wr-Yt>N&&(Y(xe,I[xe]=$?Yt:ut(Yt)),Y(Ie,I[Ie]=$?wr:ut(wr)))}B.attr("d",h(_,I)),Xe(O,I),g(_,z,I,Te)}function Xe(ue,ge){($||j)&&Le();function Le(){var ke=ge.type!=="path",it=ue.selectAll(".visual-cue").data([0]),lt=1;it.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":lt}).classed("visual-cue",!0);var bt=De($?ge.xanchor:n.midRange(ke?[ge.x0,ge.x1]:m.extractPathCoords(ge.path,u.paramIsX))),Rt=He(j?ge.yanchor:n.midRange(ke?[ge.y0,ge.y1]:m.extractPathCoords(ge.path,u.paramIsY)));if(bt=m.roundPositionForSharpStrokeRendering(bt,lt),Rt=m.roundPositionForSharpStrokeRendering(Rt,lt),$&&j){var Ut="M"+(bt-1-lt)+","+(Rt-1-lt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";it.attr("d",Ut)}else if($){var Gt="M"+(bt-1-lt)+","+(Rt-9-lt)+"v18 h2 v-18 Z";it.attr("d",Gt)}else{var _t="M"+(bt-9-lt)+","+(Rt-1-lt)+"h18 v2 h-18 Z";it.attr("d",_t)}}}function Pe(ue){ue.selectAll(".visual-cue").remove()}function we(ue,ge,Le){var ke=ge.xref,it=ge.yref,lt=C.getFromId(Le,ke),bt=C.getFromId(Le,it),Rt="";ke!=="paper"&&!lt.autorange&&(Rt+=ke),it!=="paper"&&!bt.autorange&&(Rt+=it),r.setClipUrl(ue,Rt?"clip"+Le._fullLayout._uid+Rt:null,Le)}}function g(_,B,I,z){if(z.selectAll(".shape-label").remove(),!!I.label.text){var O={"data-index":B},F=I.label.text,N=I.label.font,Q={"data-notex":1},$=z.append("g").attr(O).classed("shape-label",!0),j=$.append("text").attr(Q).classed("shape-label-text",!0).text(F),ee,oe,Y,V;if(I.path){var W=h(_,I),X=w(W,_);ee=1/0,Y=1/0,oe=-1/0,V=-1/0;for(var re=0;re<X.length;re++)for(var ie=0;ie<X[re].length;ie++)for(var K=X[re][ie],q=1;q<K.length;q+=2){var le=K[q],ae=K[q+1];ee=Math.min(ee,le),oe=Math.max(oe,le),Y=Math.min(Y,ae),V=Math.max(V,ae)}}else{var he=C.getFromId(_,I.xref),me=C.getRefType(I.xref),Me=C.getFromId(_,I.yref),xe=C.getRefType(I.yref),Ie=m.getDataToPixel(_,he,!1,me),_e=m.getDataToPixel(_,Me,!0,xe);ee=Ie(I.x0),oe=Ie(I.x1),Y=_e(I.y0),V=_e(I.y1)}var Te=I.label.textangle;Te==="auto"&&(I.type==="line"?Te=S(ee,Y,oe,V):Te=0),j.call(function(He){return He.call(r.font,N).attr({}),c.convertToTspans(He,_),He});var ye=r.bBox(j.node()),Ae=b(ee,Y,oe,V,I,Te,ye),Be=Ae.textx,Ue=Ae.texty,De=Ae.xanchor;j.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[De],y:Ue,x:Be,transform:"rotate("+Te+","+Be+","+Ue+")"}).call(c.positionText,Be,Ue)}}function S(_,B,I,z){var O,F;return F=Math.abs(I-_),I>=_?O=B-z:O=z-B,-180/Math.PI*Math.atan2(O,F)}function b(_,B,I,z,O,F,N){var Q=O.label.textposition,$=O.label.textangle,j=O.label.padding,ee=O.type,oe=Math.PI/180*F,Y=Math.sin(oe),V=Math.cos(oe),W=O.label.xanchor,X=O.label.yanchor,re,ie,K,q;if(ee==="line"){Q==="start"?(re=_,ie=B):Q==="end"?(re=I,ie=z):(re=(_+I)/2,ie=(B+z)/2),W==="auto"&&(Q==="start"?$==="auto"?I>_?W="left":I<_?W="right":W="center":I>_?W="right":I<_?W="left":W="center":Q==="end"?$==="auto"?I>_?W="right":I<_?W="left":W="center":I>_?W="left":I<_?W="right":W="center":W="center");var le={left:1,center:0,right:-1},ae={bottom:-1,middle:0,top:1};if($==="auto"){var he=ae[X];K=-j*Y*he,q=j*V*he}else{var me=le[W],Me=ae[X];K=j*me,q=j*Me}re=re+K,ie=ie+q}else K=j+3,Q.indexOf("right")!==-1?(re=Math.max(_,I)-K,W==="auto"&&(W="right")):Q.indexOf("left")!==-1?(re=Math.min(_,I)+K,W==="auto"&&(W="left")):(re=(_+I)/2,W==="auto"&&(W="center")),Q.indexOf("top")!==-1?ie=Math.min(B,z):Q.indexOf("bottom")!==-1?ie=Math.max(B,z):ie=(B+z)/2,q=j,X==="bottom"?ie=ie-q:X==="top"&&(ie=ie+q);var xe=T[X],Ie=O.label.font.size,_e=N.height,Te=(_e*xe-Ie)*Y,ye=-(_e*xe-Ie)*V;return{textx:re+Te,texty:ie+ye,xanchor:W}}function i(_,B,I){return _.replace(u.segmentRE,function(z){var O=0,F=z.charAt(0),N=u.paramIsX[F],Q=u.paramIsY[F],$=u.numParams[F],j=z.substr(1).replace(u.paramRE,function(ee){return O>=$||(N[O]?ee=B(ee):Q[O]&&(ee=I(ee)),O++),ee});return F+j})}function P(_,B){if(d(_)){var I=B.node(),z=+I.getAttribute("data-index");if(z>=0){if(z===_._fullLayout._activeShapeIndex){x(_);return}_._fullLayout._activeShapeIndex=z,_._fullLayout._deactivateShape=x,f(_)}}}function x(_){if(d(_)){var B=_._fullLayout._activeShapeIndex;B>=0&&(y(_),delete _._fullLayout._activeShapeIndex,f(_))}}function k(_){if(d(_)){y(_);var B=_._fullLayout._activeShapeIndex,I=(_.layout||{}).shapes||[];if(B<I.length){for(var z=[],O=0;O<I.length;O++)O!==B&&z.push(I[O]);delete _._fullLayout._activeShapeIndex,L.call("_guiRelayout",_,{shapes:z})}}}},29241:function(G,U,e){var p=e(41940),L=e(79952).P,n=e(1426).extendFlat;G.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:n({},L,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},font:p({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(G){var U=32;G.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(G,U,e){var p=e(7901),L=e(71828);function n(C,w){return C?"bottom":w.indexOf("top")!==-1?"top":w.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(w,v,y){y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity");var t=y("newshape.line.width");if(t){var r=(w||{}).plot_bgcolor||"#FFF";y("newshape.line.color",p.contrast(r)),y("newshape.line.dash")}var l=w.dragmode==="drawline",a=y("newshape.label.text");if(a){y("newshape.label.textangle");var s=y("newshape.label.textposition",l?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",n(l,s)),y("newshape.label.padding"),L.coerceFont(y,"newshape.label.font",v.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(G,U,e){var p=e(95616),L=e(89995),n=L.CIRCLE_SIDES,C=L.SQRT2,w=e(75549),v=w.p2r,y=w.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];U.writePaths=function(s){var c=s.length;if(!c)return"M0,0Z";for(var u="",m=0;m<c;m++)for(var h=s[m].length,T=0;T<h;T++){var f=s[m][T][0];if(f==="Z")u+="Z";else for(var o=s[m][T].length,d=0;d<o;d++){var M=d;f==="Q"||f==="S"?M=r[d]:f==="C"&&(M=t[d]),u+=s[m][T][M],d>0&&d<o-1&&(u+=",")}}return u},U.readPaths=function(s,c,u,m){var h=p(s),T=[],f=-1,o=function(){f++,T[f]=[]},d,M=0,A=0,E,g,S=function(){E=M,g=A};S();for(var b=0;b<h.length;b++){var i=[],P,x,k,_,B=h[b][0],I=B;switch(B){case"M":o(),M=+h[b][1],A=+h[b][2],i.push([I,M,A]),S();break;case"Q":case"S":P=+h[b][1],k=+h[b][2],M=+h[b][3],A=+h[b][4],i.push([I,M,A,P,k]);break;case"C":P=+h[b][1],k=+h[b][2],x=+h[b][3],_=+h[b][4],M=+h[b][5],A=+h[b][6],i.push([I,M,A,P,k,x,_]);break;case"T":case"L":M=+h[b][1],A=+h[b][2],i.push([I,M,A]);break;case"H":I="L",M=+h[b][1],i.push([I,M,A]);break;case"V":I="L",A=+h[b][1],i.push([I,M,A]);break;case"A":I="L";var z=+h[b][1],O=+h[b][2];+h[b][4]||(z=-z,O=-O);var F=M-z,N=A;for(d=1;d<=n/2;d++){var Q=2*Math.PI*d/n;i.push([I,F+z*Math.cos(Q),N+O*Math.sin(Q)])}break;case"Z":(M!==E||A!==g)&&(M=E,A=g,i.push([I,M,A]));break}for(var $=(u||{}).domain,j=c._fullLayout._size,ee=u&&u.xsizemode==="pixel",oe=u&&u.ysizemode==="pixel",Y=m===!1,V=0;V<i.length;V++){for(d=0;d+2<7;d+=2){var W=i[V][d+1],X=i[V][d+2];W===void 0||X===void 0||(M=W,A=X,u&&(u.xaxis&&u.xaxis.p2r?(Y&&(W-=u.xaxis._offset),ee?W=y(u.xaxis,u.xanchor)+W:W=v(u.xaxis,W)):(Y&&(W-=j.l),$?W=$.x[0]+W/j.w:W=W/j.w),u.yaxis&&u.yaxis.p2r?(Y&&(X-=u.yaxis._offset),oe?X=y(u.yaxis,u.yanchor)-X:X=v(u.yaxis,X)):(Y&&(X-=j.t),$?X=$.y[1]-X/j.h:X=1-X/j.h)),i[V][d+1]=W,i[V][d+2]=X)}T[f].push(i[V].slice())}}return T};function l(s,c){return Math.abs(s-c)<=1e-6}function a(s,c){var u=c[1]-s[1],m=c[2]-s[2];return Math.sqrt(u*u+m*m)}U.pointsOnRectangle=function(s){var c=s.length;if(c!==5)return!1;for(var u=1;u<3;u++){var m=s[0][u]-s[1][u],h=s[3][u]-s[2][u];if(!l(m,h))return!1;var T=s[0][u]-s[3][u],f=s[1][u]-s[2][u];if(!l(T,f))return!1}return!l(s[0][1],s[1][1])&&!l(s[0][1],s[3][1])?!1:!!(a(s[0],s[1])*a(s[0],s[3]))},U.pointsOnEllipse=function(s){var c=s.length;if(c!==n+1)return!1;c=n;for(var u=0;u<c;u++){var m=(c*2-u)%c,h=(c/2+m)%c,T=(c/2+u)%c;if(!l(a(s[u],s[T]),a(s[m],s[h])))return!1}return!0},U.handleEllipse=function(s,c,u){if(!s)return[c,u];var m=U.ellipseOver({x0:c[0],y0:c[1],x1:u[0],y1:u[1]}),h=(m.x1+m.x0)/2,T=(m.y1+m.y0)/2,f=(m.x1-m.x0)/2,o=(m.y1-m.y0)/2;f||(f=o=o/C),o||(o=f=f/C);for(var d=[],M=0;M<n;M++){var A=M*2*Math.PI/n;d.push([h+f*Math.cos(A),T+o*Math.sin(A)])}return d},U.ellipseOver=function(s){var c=s.x0,u=s.y0,m=s.x1,h=s.y1,T=m-c,f=h-u;c-=T,u-=f;var o=(c+m)/2,d=(u+h)/2,M=C;return T*=M,f*=M,{x0:o-T,y0:d-f,x1:o+T,y1:d+f}},U.fixDatesForPaths=function(s,c,u){var m=c.type==="date",h=u.type==="date";if(!m&&!h)return s;for(var T=0;T<s.length;T++)for(var f=0;f<s[T].length;f++)for(var o=0;o+2<s[T][f].length;o+=2)m&&(s[T][f][o+1]=s[T][f][o+1].replace(" ","_")),h&&(s[T][f][o+2]=s[T][f][o+2].replace(" ","_"));return s}},90551:function(G,U,e){var p=e(64505),L=p.drawMode,n=p.openMode,C=e(89995),w=C.i000,v=C.i090,y=C.i180,t=C.i270,r=C.cos45,l=C.sin45,a=e(75549),s=a.p2r,c=a.r2p,u=e(51873),m=u.clearOutline,h=e(60165),T=h.readPaths,f=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;G.exports=function(A,E){if(A.length){var g=A[0][0];if(g){var S=g.getAttribute("d"),b=E.gd,i=b._fullLayout.newshape,P=E.plotinfo,x=P.xaxis,k=P.yaxis,_=!!P.domain||!P.xaxis,B=!!P.domain||!P.yaxis,I=E.isActiveShape,z=E.dragmode,O=(b.layout||{}).shapes||[];if(!L(z)&&I!==void 0){var F=b._fullLayout._activeShapeIndex;if(F<O.length)switch(b._fullLayout.shapes[F].type){case"rect":z="drawrect";break;case"circle":z="drawcircle";break;case"line":z="drawline";break;case"path":var N=O[F].path||"";N[N.length-1]==="Z"?z="drawclosedpath":z="drawopenpath";break}}var Q=n(z),$=T(S,b,P,I),j={editable:!0,label:i.label,xref:_?"paper":x._id,yref:B?"paper":k._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};Q||(j.fillcolor=i.fillcolor,j.fillrule=i.fillrule);var ee;if($.length===1&&(ee=$[0]),ee&&ee.length===5&&z==="drawrect")j.type="rect",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[2][1],j.y1=ee[2][2];else if(ee&&z==="drawline")j.type="line",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[1][1],j.y1=ee[1][2];else if(ee&&z==="drawcircle"){j.type="circle";var oe=ee[w][1],Y=ee[v][1],V=ee[y][1],W=ee[t][1],X=ee[w][2],re=ee[v][2],ie=ee[y][2],K=ee[t][2],q=P.xaxis&&(P.xaxis.type==="date"||P.xaxis.type==="log"),le=P.yaxis&&(P.yaxis.type==="date"||P.yaxis.type==="log");q&&(oe=c(P.xaxis,oe),Y=c(P.xaxis,Y),V=c(P.xaxis,V),W=c(P.xaxis,W)),le&&(X=c(P.yaxis,X),re=c(P.yaxis,re),ie=c(P.yaxis,ie),K=c(P.yaxis,K));var ae=(Y+W)/2,he=(X+ie)/2,me=(W-Y+V-oe)/2,Me=(K-re+ie-X)/2,xe=o({x0:ae,y0:he,x1:ae+me*r,y1:he+Me*l});q&&(xe.x0=s(P.xaxis,xe.x0),xe.x1=s(P.xaxis,xe.x1)),le&&(xe.y0=s(P.yaxis,xe.y0),xe.y1=s(P.yaxis,xe.y1)),j.x0=xe.x0,j.y0=xe.y0,j.x1=xe.x1,j.y1=xe.y1}else j.type="path",x&&k&&d($,x,k),j.path=f($),ee=null;m(b);for(var Ie=E.editHelpers,_e=(Ie||{}).modifyItem,Te=[],ye=0;ye<O.length;ye++){var Ae=b._fullLayout.shapes[ye];if(Te[ye]=Ae._input,I!==void 0&&ye===b._fullLayout._activeShapeIndex){var Be=j;switch(Ae.type){case"line":case"rect":case"circle":_e("x0",Be.x0),_e("x1",Be.x1),_e("y0",Be.y0),_e("y1",Be.y1);break;case"path":_e("path",Be.path);break}}}return I===void 0?(Te.push(j),Te):Ie?Ie.getUpdateObj():{}}}}},51873:function(G){function U(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}G.exports={clearOutlineControllers:U,clearOutline:e}},30477:function(G,U,e){var p=e(21459),L=e(71828),n=e(89298);U.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(v){return v}},U.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(v){return v}},U.decodeDate=function(w){return function(v){return v.replace&&(v=v.replace("_"," ")),w(v)}},U.encodeDate=function(w){return function(v){return w(v).replace(" ","_")}},U.extractPathCoords=function(w,v,y){var t=[],r=w.match(p.segmentRE);return r.forEach(function(l){var a=v[l.charAt(0)].drawn;if(a!==void 0){var s=l.substr(1).match(p.paramRE);if(!(!s||s.length<a)){var c=s[a],u=y?c:L.cleanNumber(c);t.push(u)}}}),t},U.getDataToPixel=function(w,v,y,t){var r=w._fullLayout._size,l;if(v)if(t==="domain")l=function(s){return v._length*(y?1-s:s)+v._offset};else{var a=U.shapePositionToRange(v);l=function(s){return v._offset+v.r2p(a(s,!0))},v.type==="date"&&(l=U.decodeDate(l))}else y?l=function(s){return r.t+r.h*(1-s)}:l=function(s){return r.l+r.w*s};return l},U.getPixelToData=function(w,v,y,t){var r=w._fullLayout._size,l;if(v)if(t==="domain")l=function(s){var c=(s-v._offset)/v._length;return y?1-c:c};else{var a=U.rangeToShapePosition(v);l=function(s){return a(v.p2r(s-v._offset))}}else y?l=function(s){return 1-(s-r.t)/r.h}:l=function(s){return(s-r.l)/r.w};return l},U.roundPositionForSharpStrokeRendering=function(w,v){var y=Math.round(v%2)===1,t=Math.round(w);return y?t+.5:t},U.makeShapesOptionsAndPlotinfo=function(w,v){var y=w._fullLayout.shapes[v]||{},t=w._fullLayout._plots[y.xref+y.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},y.xref&&y.xref!=="paper"&&(t.xaxis=w._fullLayout[y.xref+"axis"]),y.yref&&y.yref!=="paper"&&(t.yaxis=w._fullLayout[y.yref+"axis"])),t.xsizemode=y.xsizemode,t.ysizemode=y.ysizemode,t.xanchor=y.xanchor,t.yanchor=y.yanchor,{options:y,plotinfo:t}},U.makeSelectionsOptionsAndPlotinfo=function(w,v){var y=w._fullLayout.selections[v]||{},t=w._fullLayout._plots[y.xref+y.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},y.xref&&(t.xaxis=w._fullLayout[y.xref+"axis"]),y.yref&&(t.yaxis=w._fullLayout[y.yref+"axis"])),{options:y,plotinfo:t}},U.getPathString=function(w,v){var y=v.type,t=n.getRefType(v.xref),r=n.getRefType(v.yref),l=n.getFromId(w,v.xref),a=n.getFromId(w,v.yref),s=w._fullLayout._size,c,u,m,h,T,f,o,d;if(l?t==="domain"?u=function(k){return l._offset+l._length*k}:(c=U.shapePositionToRange(l),u=function(k){return l._offset+l.r2p(c(k,!0))}):u=function(k){return s.l+s.w*k},a?r==="domain"?h=function(k){return a._offset+a._length*(1-k)}:(m=U.shapePositionToRange(a),h=function(k){return a._offset+a.r2p(m(k,!0))}):h=function(k){return s.t+s.h*(1-k)},y==="path")return l&&l.type==="date"&&(u=U.decodeDate(u)),a&&a.type==="date"&&(h=U.decodeDate(h)),C(v,u,h);if(v.xsizemode==="pixel"){var M=u(v.xanchor);T=M+v.x0,f=M+v.x1}else T=u(v.x0),f=u(v.x1);if(v.ysizemode==="pixel"){var A=h(v.yanchor);o=A-v.y0,d=A-v.y1}else o=h(v.y0),d=h(v.y1);if(y==="line")return"M"+T+","+o+"L"+f+","+d;if(y==="rect")return"M"+T+","+o+"H"+f+"V"+d+"H"+T+"Z";var E=(T+f)/2,g=(o+d)/2,S=Math.abs(E-T),b=Math.abs(g-o),i="A"+S+","+b,P=E+S+","+g,x=E+","+(g-b);return"M"+P+i+" 0 1,1 "+x+i+" 0 0,1 "+P+"Z"};function C(w,v,y){var t=w.path,r=w.xsizemode,l=w.ysizemode,a=w.xanchor,s=w.yanchor;return t.replace(p.segmentRE,function(c){var u=0,m=c.charAt(0),h=p.paramIsX[m],T=p.paramIsY[m],f=p.numParams[m],o=c.substr(1).replace(p.paramRE,function(d){return h[u]?r==="pixel"?d=v(a)+Number(d):d=v(d):T[u]&&(l==="pixel"?d=y(s)-Number(d):d=y(d)),u++,u>f&&(d="X"),d});return u>f&&(o=o.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+c)),m+o})}},89853:function(G,U,e){var p=e(34031);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:p.draw,drawOne:p.drawOne}},75067:function(G,U,e){var p=e(41940),L=e(35025),n=e(1426).extendDeepAll,C=e(30962).overrideAll,w=e(85594),v=e(44467).templatedArray,y=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:w.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:y.gripBgActiveColor},bgcolor:{valType:"color",dflt:y.railBgColor},bordercolor:{valType:"color",dflt:y.railBorderColor},borderwidth:{valType:"number",min:0,dflt:y.railBorderWidth},ticklen:{valType:"number",min:0,dflt:y.tickLength},tickcolor:{valType:"color",dflt:y.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:y.minorTickLength}}),"arraydraw","from-root")},98292:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(G,U,e){var p=e(71828),L=e(85501),n=e(75067),C=e(98292),w=C.name,v=n.steps;G.exports=function(l,a){L(l,a,{name:w,handleItemDefaults:y})};function y(r,l,a){function s(d,M){return p.coerce(r,l,n,d,M)}for(var c=L(r,l,{name:"steps",handleItemDefaults:t}),u=0,m=0;m<c.length;m++)c[m].visible&&u++;var h;if(u<2?h=l.visible=!1:h=s("visible"),!!h){l._stepCount=u;var T=l._visibleSteps=p.filterVisible(c),f=s("active");(c[f]||{}).visible||(l.active=T[0]._index),s("x"),s("y"),p.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),p.coerceFont(s,"font",a.font);var o=s("currentvalue.visible");o&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),p.coerceFont(s,"currentvalue.font",l.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function t(r,l){function a(u,m){return p.coerce(r,l,v,u,m)}var s;if(r.method!=="skip"&&!Array.isArray(r.args)?s=l.visible=!1:s=a("visible"),s){a("method"),a("args");var c=a("label","step-"+l._index);a("value",c),a("execute")}}},44504:function(G,U,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),w=e(71828),v=w.strTranslate,y=e(63893),t=e(44467).arrayEditor,r=e(98292),l=e(18783),a=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR;G.exports=function(z){var O=z._context.staticPlot,F=z._fullLayout,N=m(F,z),Q=F._infolayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);Q.enter().append("g").classed(r.containerClassName,!0).style("cursor",O?null:"ew-resize");function $(Y){Y._commandObserver&&(Y._commandObserver.remove(),delete Y._commandObserver),L.autoMargin(z,u(Y))}if(Q.exit().each(function(){p.select(this).selectAll("g."+r.groupClassName).each($)}).remove(),N.length!==0){var j=Q.selectAll("g."+r.groupClassName).data(N,h);j.enter().append("g").classed(r.groupClassName,!0),j.exit().each($).remove();for(var ee=0;ee<N.length;ee++){var oe=N[ee];T(z,oe)}j.each(function(Y){var V=p.select(this);i(Y),L.manageCommandObserver(z,Y,Y._visibleSteps,function(W){var X=V.data()[0];X.active!==W.index&&(X._dragging||g(z,V,X,W.index,!1,!0))}),f(z,p.select(this),Y)})}};function u(I){return r.autoMarginIdRoot+I._index}function m(I,z){for(var O=I[r.name],F=[],N=0;N<O.length;N++){var Q=O[N];Q.visible&&(Q._gd=z,F.push(Q))}return F}function h(I){return I._index}function T(I,z){var O=C.tester.selectAll("g."+r.labelGroupClass).data(z._visibleSteps);O.enter().append("g").classed(r.labelGroupClass,!0);var F=0,N=0;O.each(function(re){var ie=p.select(this),K=M(ie,{step:re},z),q=K.node();if(q){var le=C.bBox(q);N=Math.max(N,le.height),F=Math.max(F,le.width)}}),O.remove();var Q=z._dims={};Q.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var $=I._fullLayout._size;Q.lx=$.l+$.w*z.x,Q.ly=$.t+$.h*(1-z.y),z.lenmode==="fraction"?Q.outerLength=Math.round($.w*z.len):Q.outerLength=z.len,Q.inputAreaStart=0,Q.inputAreaLength=Math.round(Q.outerLength-z.pad.l-z.pad.r);var j=Q.inputAreaLength-2*r.stepInset,ee=j/(z._stepCount-1),oe=F+r.labelPadding;if(Q.labelStride=Math.max(1,Math.ceil(oe/ee)),Q.labelHeight=N,Q.currentValueMaxWidth=0,Q.currentValueHeight=0,Q.currentValueTotalHeight=0,Q.currentValueMaxLines=1,z.currentvalue.visible){var Y=C.tester.append("g");O.each(function(re){var ie=o(Y,z,re.label),K=ie.node()&&C.bBox(ie.node())||{width:0,height:0},q=y.lineCount(ie);Q.currentValueMaxWidth=Math.max(Q.currentValueMaxWidth,Math.ceil(K.width)),Q.currentValueHeight=Math.max(Q.currentValueHeight,Math.ceil(K.height)),Q.currentValueMaxLines=Math.max(Q.currentValueMaxLines,q)}),Q.currentValueTotalHeight=Q.currentValueHeight+z.currentvalue.offset,Y.remove()}Q.height=Q.currentValueTotalHeight+r.tickOffset+z.ticklen+r.labelOffset+Q.labelHeight+z.pad.t+z.pad.b;var V="left";w.isRightAnchor(z)&&(Q.lx-=Q.outerLength,V="right"),w.isCenterAnchor(z)&&(Q.lx-=Q.outerLength/2,V="center");var W="top";w.isBottomAnchor(z)&&(Q.ly-=Q.height,W="bottom"),w.isMiddleAnchor(z)&&(Q.ly-=Q.height/2,W="middle"),Q.outerLength=Math.ceil(Q.outerLength),Q.height=Math.ceil(Q.height),Q.lx=Math.round(Q.lx),Q.ly=Math.round(Q.ly);var X={y:z.y,b:Q.height*c[W],t:Q.height*s[W]};z.lenmode==="fraction"?(X.l=0,X.xl=z.x-z.len*s[V],X.r=0,X.xr=z.x+z.len*c[V]):(X.x=z.x,X.l=Q.outerLength*s[V],X.r=Q.outerLength*c[V]),L.autoMargin(I,u(z),X)}function f(I,z,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),z.call(o,O).call(B,O).call(A,O).call(b,O).call(_,I,O).call(d,I,O);var F=O._dims;C.setTranslate(z,F.lx+O.pad.l,F.ly+O.pad.t),z.call(P,O,!1),z.call(o,O)}function o(I,z,O){if(z.currentvalue.visible){var F=z._dims,N,Q;switch(z.currentvalue.xanchor){case"right":N=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,Q="left";break;case"center":N=F.inputAreaLength*.5,Q="middle";break;default:N=r.currentValueInset,Q="left"}var $=w.ensureSingle(I,"text",r.labelClass,function(W){W.attr({"text-anchor":Q,"data-notex":1})}),j=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof O=="string")j+=O;else{var ee=z.steps[z.active].label,oe=z._gd._fullLayout._meta;oe&&(ee=w.templateString(ee,oe)),j+=ee}z.currentvalue.suffix&&(j+=z.currentvalue.suffix),$.call(C.font,z.currentvalue.font).text(j).call(y.convertToTspans,z._gd);var Y=y.lineCount($),V=(F.currentValueMaxLines+1-Y)*z.currentvalue.font.size*a;return y.positionText($,N,V),$}}function d(I,z,O){var F=w.ensureSingle(I,"rect",r.gripRectClass,function(N){N.call(S,z,I,O).style("pointer-events","all")});F.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(n.stroke,O.bordercolor).call(n.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function M(I,z,O){var F=w.ensureSingle(I,"text",r.labelClass,function($){$.attr({"text-anchor":"middle","data-notex":1})}),N=z.step.label,Q=O._gd._fullLayout._meta;return Q&&(N=w.templateString(N,Q)),F.call(C.font,O.font).text(N).call(y.convertToTspans,O._gd),F}function A(I,z){var O=w.ensureSingle(I,"g",r.labelsClass),F=z._dims,N=O.selectAll("g."+r.labelGroupClass).data(F.labelSteps);N.enter().append("g").classed(r.labelGroupClass,!0),N.exit().remove(),N.each(function(Q){var $=p.select(this);$.call(M,Q,z),C.setTranslate($,x(z,Q.fraction),r.tickOffset+z.ticklen+z.font.size*a+r.labelOffset+F.currentValueTotalHeight)})}function E(I,z,O,F,N){var Q=Math.round(F*(O._stepCount-1)),$=O._visibleSteps[Q]._index;$!==O.active&&g(I,z,O,$,!0,N)}function g(I,z,O,F,N,Q){var $=O.active;O.active=F,t(I.layout,r.name,O).applyUpdate("active",F);var j=O.steps[O.active];z.call(P,O,Q),z.call(o,O),I.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:N,previousActive:$}),j&&j.method&&N&&(z._nextMethod?(z._nextMethod.step=j,z._nextMethod.doCallback=N,z._nextMethod.doTransition=Q):(z._nextMethod={step:j,doCallback:N,doTransition:Q},z._nextMethodRaf=window.requestAnimationFrame(function(){var ee=z._nextMethod.step;ee.method&&(ee.execute&&L.executeAPICommand(I,ee.method,ee.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function S(I,z,O){if(z._context.staticPlot)return;var F=O.node(),N=p.select(z);function Q(){return O.data()[0]}function $(){var j=Q();z.emit("plotly_sliderstart",{slider:j});var ee=O.select("."+r.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),ee.call(n.fill,j.activebgcolor);var oe=k(j,p.mouse(F)[0]);E(z,O,j,oe,!0),j._dragging=!0;function Y(){var W=Q(),X=k(W,p.mouse(F)[0]);E(z,O,W,X,!1)}N.on("mousemove",Y),N.on("touchmove",Y);function V(){var W=Q();W._dragging=!1,ee.call(n.fill,W.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),z.emit("plotly_sliderend",{slider:W,step:W.steps[W.active]})}N.on("mouseup",V),N.on("touchend",V)}I.on("mousedown",$),I.on("touchstart",$)}function b(I,z){var O=I.selectAll("rect."+r.tickRectClass).data(z._visibleSteps),F=z._dims;O.enter().append("rect").classed(r.tickRectClass,!0),O.exit().remove(),O.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(N,Q){var $=Q%F.labelStride===0,j=p.select(this);j.attr({height:$?z.ticklen:z.minorticklen}).call(n.fill,z.tickcolor),C.setTranslate(j,x(z,Q/(z._stepCount-1))-.5*z.tickwidth,($?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function i(I){var z=I._dims;z.labelSteps=[];for(var O=I._stepCount,F=0;F<O;F+=z.labelStride)z.labelSteps.push({fraction:F/(O-1),step:I._visibleSteps[F]})}function P(I,z,O){for(var F=I.select("rect."+r.gripRectClass),N=0,Q=0;Q<z._stepCount;Q++)if(z._visibleSteps[Q]._index===z.active){N=Q;break}var $=x(z,N/(z._stepCount-1));if(!z._invokingCommand){var j=F;O&&z.transition.duration>0&&(j=j.transition().duration(z.transition.duration).ease(z.transition.easing)),j.attr("transform",v($-r.gripWidth*.5,z._dims.currentValueTotalHeight))}}function x(I,z){var O=I._dims;return O.inputAreaStart+r.stepInset+(O.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,z))}function k(I,z){var O=I._dims;return Math.min(1,Math.max(0,(z-r.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*r.stepInset-2*O.inputAreaStart)))}function _(I,z,O){var F=O._dims,N=w.ensureSingle(I,"rect",r.railTouchRectClass,function(Q){Q.call(S,z,I,O).style("pointer-events","all")});N.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+O.ticklen+F.labelHeight)}).call(n.fill,O.bgcolor).attr("opacity",0),C.setTranslate(N,0,F.currentValueTotalHeight)}function B(I,z){var O=z._dims,F=O.inputAreaLength-r.railInset*2,N=w.ensureSingle(I,"rect",r.railRectClass);N.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,z.bordercolor).call(n.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),C.setTranslate(N,r.railInset,(O.inputAreaWidth-r.railWidth)*.5+O.currentValueTotalHeight)}},23243:function(G,U,e){var p=e(98292);G.exports={moduleType:"component",name:p.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(G,U,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),w=e(71828),v=w.strTranslate,y=e(91424),t=e(7901),r=e(63893),l=e(37822),a=e(18783).OPPOSITE_SIDE,s=/ [XY][0-9]* /;function c(u,m,h){var T=h.propContainer,f=h.propName,o=h.placeholder,d=h.traceIndex,M=h.avoid||{},A=h.attributes,E=h.transform,g=h.containerGroup,S=u._fullLayout,b=1,i=!1,P=T.title,x=(P&&P.text?P.text:"").trim(),k=P&&P.font?P.font:{},_=k.family,B=k.size,I=k.color,z;f==="title.text"?z="titleText":f.indexOf("axis")!==-1?z="axisTitleText":f.indexOf("colorbar"!==-1)&&(z="colorbarTitleText");var O=u._context.edits[z];x===""?b=0:x.replace(s," % ")===o.replace(s," % ")&&(b=.2,i=!0,O||(x="")),h._meta?x=w.templateString(x,h._meta):S._meta&&(x=w.templateString(x,S._meta));var F=x||O,N;g||(g=w.ensureSingle(S._infolayer,"g","g-"+m),N=S._hColorbarMoveTitle);var Q=g.selectAll("text").data(F?[0]:[]);if(Q.enter().append("text"),Q.text(x).attr("class",m),Q.exit().remove(),!F)return g;function $(Y){w.syncOrAsync([j,ee],Y)}function j(Y){var V;return!E&&N&&(E={}),E?(V="",E.rotate&&(V+="rotate("+[E.rotate,A.x,A.y]+")"),(E.offset||N)&&(V+=v(0,(E.offset||0)-(N||0)))):V=null,Y.attr("transform",V),Y.style({"font-family":_,"font-size":p.round(B,2)+"px",fill:t.rgb(I),opacity:b*t.opacity(I),"font-weight":n.fontWeight}).attr(A).call(r.convertToTspans,u),n.previousPromises(u)}function ee(Y){var V=p.select(Y.node().parentNode);if(M&&M.selection&&M.side&&x){V.attr("transform",null);var W=a[M.side],X=M.side==="left"||M.side==="top"?-1:1,re=L(M.pad)?M.pad:2,ie=y.bBox(V.node()),K={t:0,b:0,l:0,r:0},q=u._fullLayout._reservedMargin;for(var le in q)for(var ae in q[le]){var he=q[le][ae];K[ae]=Math.max(K[ae],he)}var me={left:K.l,top:K.t,right:S.width-K.r,bottom:S.height-K.b},Me=M.maxShift||X*(me[M.side]-ie[M.side]),xe=0;if(Me<0)xe=Me;else{var Ie=M.offsetLeft||0,_e=M.offsetTop||0;ie.left-=Ie,ie.right-=Ie,ie.top-=_e,ie.bottom-=_e,M.selection.each(function(){var ye=y.bBox(this);w.bBoxIntersect(ie,ye,re)&&(xe=Math.max(xe,X*(ye[M.side]-ie[W])+re))}),xe=Math.min(Me,xe),T._titleScoot=Math.abs(xe)}if(xe>0||Me<0){var Te={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[M.side];V.attr("transform",v(Te[0],Te[1]))}}}Q.call($);function oe(){b=0,i=!0,Q.text(o).on("mouseover.opacity",function(){p.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}return O&&(x?Q.on(".opacity",null):oe(),Q.call(r.makeEditable,{gd:u}).on("edit",function(Y){d!==void 0?C.call("_guiRestyle",u,f,Y,d):C.call("_guiRelayout",u,f,Y)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(Y){this.text(Y||" ").call(r.positionText,A.x,A.y)})),Q.classed("js-placeholder",i),g}G.exports={draw:c}},7163:function(G,U,e){var p=e(41940),L=e(22399),n=e(1426).extendFlat,C=e(30962).overrideAll,w=e(35025),v=e(44467).templatedArray,y=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:y,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(w({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(G,U,e){var p=e(71828),L=e(85501),n=e(7163),C=e(75909),w=C.name,v=n.buttons;G.exports=function(l,a){var s={name:w,handleItemDefaults:y};L(l,a,s)};function y(r,l,a){function s(m,h){return p.coerce(r,l,n,m,h)}var c=L(r,l,{name:"buttons",handleItemDefaults:t}),u=s("visible",c.length>0);u&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),p.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),p.coerceFont(s,"font",a.font),s("bgcolor",a.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function t(r,l){function a(c,u){return p.coerce(r,l,v,c,u)}var s=a("visible",r.method==="skip"||Array.isArray(r.args));s&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},13689:function(G,U,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),w=e(71828),v=e(63893),y=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),l=e(25849);G.exports=function(k){var _=k._fullLayout,B=w.filterVisible(_[r.name]);function I(ee){L.autoMargin(k,b(ee))}var z=_._menulayer.selectAll("g."+r.containerClassName).data(B.length>0?[0]:[]);if(z.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){p.select(this).selectAll("g."+r.headerGroupClassName).each(I)}).remove(),B.length!==0){var O=z.selectAll("g."+r.headerGroupClassName).data(B,a);O.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=w.ensureSingle(z,"g",r.dropdownButtonGroupClassName,function(ee){ee.style("pointer-events","all")}),N=0;N<B.length;N++){var Q=B[N];S(k,Q)}var $="updatemenus"+_._uid,j=new l(k,F,$);O.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(P)),O.exit().each(function(ee){F.call(P),I(ee)}).remove(),O.each(function(ee){var oe=p.select(this),Y=ee.type==="dropdown"?F:null;L.manageCommandObserver(k,ee,ee.buttons,function(V){u(k,ee,ee.buttons[V.index],oe,Y,j,V.index,!0)}),ee.type==="dropdown"?(m(k,oe,F,j,ee),c(F,ee)&&h(k,oe,F,j,ee)):h(k,oe,null,null,ee)})}};function a(x){return x._index}function s(x){return+x.attr(r.menuIndexAttrName)==-1}function c(x,k){return+x.attr(r.menuIndexAttrName)===k._index}function u(x,k,_,B,I,z,O,F){k.active=O,y(x.layout,r.name,k).applyUpdate("active",O),k.type==="buttons"?h(x,B,null,null,k):k.type==="dropdown"&&(I.attr(r.menuIndexAttrName,"-1"),m(x,B,I,z,k),F||h(x,B,I,z,k))}function m(x,k,_,B,I){var z=w.ensureSingle(k,"g",r.headerClassName,function(ee){ee.style("pointer-events","all")}),O=I._dims,F=I.active,N=I.buttons[F]||r.blankHeaderOpts,Q={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},$={width:O.headerWidth,height:O.headerHeight};z.call(o,I,N,x).call(i,I,Q,$);var j=w.ensureSingle(k,"text",r.headerArrowClassName,function(ee){ee.attr("text-anchor","end").call(C.font,I.font).text(r.arrowSymbol[I.direction])});j.attr({x:O.headerWidth-r.arrowOffsetX+I.pad.l,y:O.headerHeight/2+r.textOffsetY+I.pad.t}),z.on("click",function(){_.call(P,String(c(_,I)?-1:I._index)),h(x,k,_,B,I)}),z.on("mouseover",function(){z.call(E)}),z.on("mouseout",function(){z.call(g,I)}),C.setTranslate(k,O.lx,O.ly)}function h(x,k,_,B,I){_||(_=k,_.attr("pointer-events","all"));var z=!s(_)||I.type==="buttons"?I.buttons:[],O=I.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,F=_.selectAll("g."+O).data(w.filterVisible(z)),N=F.enter().append("g").classed(O,!0),Q=F.exit();I.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),Q.transition().attr("opacity","0").remove()):Q.remove();var $=0,j=0,ee=I._dims,oe=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(oe?j=ee.headerHeight+r.gapButtonHeader:$=ee.headerWidth+r.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(j=-r.gapButtonHeader+r.gapButton-ee.openHeight),I.type==="dropdown"&&I.direction==="left"&&($=-r.gapButtonHeader+r.gapButton-ee.openWidth);var Y={x:ee.lx+$+I.pad.l,y:ee.ly+j+I.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},V={l:Y.x+I.borderwidth,t:Y.y+I.borderwidth};F.each(function(W,X){var re=p.select(this);re.call(o,I,W,x).call(i,I,Y),re.on("click",function(){p.event.defaultPrevented||(W.execute&&(W.args2&&I.active===X?(u(x,I,W,k,_,B,-1),L.executeAPICommand(x,W.method,W.args2)):(u(x,I,W,k,_,B,X),L.executeAPICommand(x,W.method,W.args))),x.emit("plotly_buttonclicked",{menu:I,button:W,active:I.active}))}),re.on("mouseover",function(){re.call(E)}),re.on("mouseout",function(){re.call(g,I),F.call(A,I)})}),F.call(A,I),oe?(V.w=Math.max(ee.openWidth,ee.headerWidth),V.h=Y.y-V.t):(V.w=Y.x-V.l,V.h=Math.max(ee.openHeight,ee.headerHeight)),V.direction=I.direction,B&&(F.size()?T(x,k,_,B,I,V):f(B))}function T(x,k,_,B,I,z){var O=I.direction,F=O==="up"||O==="down",N=I._dims,Q=I.active,$,j,ee;if(F)for(j=0,ee=0;ee<Q;ee++)j+=N.heights[ee]+r.gapButton;else for($=0,ee=0;ee<Q;ee++)$+=N.widths[ee]+r.gapButton;B.enable(z,$,j),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(x){var k=!!x.hbar,_=!!x.vbar;k&&x.hbar.transition().attr("opacity","0").each("end",function(){k=!1,_||x.disable()}),_&&x.vbar.transition().attr("opacity","0").each("end",function(){_=!1,k||x.disable()})}function o(x,k,_,B){x.call(d,k).call(M,k,_,B)}function d(x,k){var _=w.ensureSingle(x,"rect",r.itemRectClassName,function(B){B.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});_.call(n.stroke,k.bordercolor).call(n.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function M(x,k,_,B){var I=w.ensureSingle(x,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),z=_.label,O=B._fullLayout._meta;O&&(z=w.templateString(z,O)),I.call(C.font,k.font).text(z).call(v.convertToTspans,B)}function A(x,k){var _=k.active;x.each(function(B,I){var z=p.select(this);I===_&&k.showactive&&z.select("rect."+r.itemRectClassName).call(n.fill,r.activeColor)})}function E(x){x.select("rect."+r.itemRectClassName).call(n.fill,r.hoverColor)}function g(x,k){x.select("rect."+r.itemRectClassName).call(n.fill,k.bgcolor)}function S(x,k){var _=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=C.tester.selectAll("g."+r.dropdownButtonClassName).data(w.filterVisible(k.buttons));B.enter().append("g").classed(r.dropdownButtonClassName,!0);var I=["up","down"].indexOf(k.direction)!==-1;B.each(function($,j){var ee=p.select(this);ee.call(o,k,$,x);var oe=ee.select("."+r.itemTextClassName),Y=oe.node()&&C.bBox(oe.node()).width,V=Math.max(Y+r.textPadX,r.minWidth),W=k.font.size*t,X=v.lineCount(oe),re=Math.max(W*X,r.minHeight)+r.textOffsetY;re=Math.ceil(re),V=Math.ceil(V),_.widths[j]=V,_.heights[j]=re,_.height1=Math.max(_.height1,re),_.width1=Math.max(_.width1,V),I?(_.totalWidth=Math.max(_.totalWidth,V),_.openWidth=_.totalWidth,_.totalHeight+=re+r.gapButton,_.openHeight+=re+r.gapButton):(_.totalWidth+=V+r.gapButton,_.openWidth+=V+r.gapButton,_.totalHeight=Math.max(_.totalHeight,re),_.openHeight=_.totalHeight)}),I?_.totalHeight-=r.gapButton:_.totalWidth-=r.gapButton,_.headerWidth=_.width1+r.arrowPadX,_.headerHeight=_.height1,k.type==="dropdown"&&(I?(_.width1+=r.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=r.arrowPadX),B.remove();var z=_.totalWidth+k.pad.l+k.pad.r,O=_.totalHeight+k.pad.t+k.pad.b,F=x._fullLayout._size;_.lx=F.l+F.w*k.x,_.ly=F.t+F.h*(1-k.y);var N="left";w.isRightAnchor(k)&&(_.lx-=z,N="right"),w.isCenterAnchor(k)&&(_.lx-=z/2,N="center");var Q="top";w.isBottomAnchor(k)&&(_.ly-=O,Q="bottom"),w.isMiddleAnchor(k)&&(_.ly-=O/2,Q="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),L.autoMargin(x,b(k),{x:k.x,y:k.y,l:z*({right:1,center:.5}[N]||0),r:z*({left:1,center:.5}[N]||0),b:O*({top:1,middle:.5}[Q]||0),t:O*({bottom:1,middle:.5}[Q]||0)})}function b(x){return r.autoMarginIdRoot+x._index}function i(x,k,_,B){B=B||{};var I=x.select("."+r.itemRectClassName),z=x.select("."+r.itemTextClassName),O=k.borderwidth,F=_.index,N=k._dims;C.setTranslate(x,O+_.x,O+_.y);var Q=["up","down"].indexOf(k.direction)!==-1,$=B.height||(Q?N.heights[F]:N.height1);I.attr({x:0,y:0,width:B.width||(Q?N.width1:N.widths[F]),height:$});var j=k.font.size*t,ee=v.lineCount(z),oe=(ee-1)*j/2;v.positionText(z,r.textOffsetX,$/2-oe+r.textOffsetY),Q?_.y+=N.heights[F]+_.yPad:_.x+=N.widths[F]+_.xPad,_.index++}function P(x,k){x.attr(r.menuIndexAttrName,k||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(G,U,e){var p=e(75909);G.exports={moduleType:"component",name:p.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(G,U,e){G.exports=w;var p=e(39898),L=e(7901),n=e(91424),C=e(71828);function w(v,y,t){this.gd=v,this.container=y,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}w.barWidth=2,w.barLength=20,w.barRadius=2,w.barPad=1,w.barColor="#808BA4",w.prototype.enable=function(y,t,r){var l=this.gd._fullLayout,a=l.width,s=l.height;this.position=y;var c=this.position.l,u=this.position.w,m=this.position.t,h=this.position.h,T=this.position.direction,f=T==="down",o=T==="left",d=T==="right",M=T==="up",A=u,E=h,g,S,b,i;!f&&!o&&!d&&!M&&(this.position.direction="down",f=!0);var P=f||M;P?(g=c,S=g+A,f?(b=m,i=Math.min(b+E,s),E=i-b):(i=m+E,b=Math.max(i-E,0),E=i-b)):(b=m,i=b+E,o?(S=c+A,g=Math.max(S-A,0),A=S-g):(g=c,S=Math.min(g+A,a),A=S-g)),this._box={l:g,t:b,w:A,h:E};var x=u>A,k=w.barLength+2*w.barPad,_=w.barWidth+2*w.barPad,B=c,I=m+h;I+_>s&&(I=s-_);var z=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,w.barColor),x?(this.hbar=z.attr({rx:w.barRadius,ry:w.barRadius,x:B,y:I,width:k,height:_}),this._hbarXMin=B+k/2,this._hbarTranslateMax=A-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=h>E,F=w.barWidth+2*w.barPad,N=w.barLength+2*w.barPad,Q=c+u,$=m;Q+F>a&&(Q=a-F);var j=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,w.barColor),O?(this.vbar=j.attr({rx:w.barRadius,ry:w.barRadius,x:Q,y:$,width:F,height:N}),this._vbarYMin=$+N/2,this._vbarTranslateMax=E-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ee=this.id,oe=g-.5,Y=O?S+F+.5:S+.5,V=b-.5,W=x?i+_+.5:i+.5,X=l._topdefs.selectAll("#"+ee).data(x||O?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ee).append("rect"),x||O?(this._clipRect=X.select("rect").attr({x:Math.floor(oe),y:Math.floor(V),width:Math.ceil(Y)-Math.floor(oe),height:Math.ceil(W)-Math.floor(V)}),this.container.call(n.setClipUrl,ee,this.gd),this.bg.attr({x:c,y:m,width:u,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),x||O){var re=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var ie=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(ie),O&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(t,r)},w.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},w.prototype._onBoxDrag=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y-=p.event.dx),this.vbar&&(t-=p.event.dy),this.setTranslate(y,t)},w.prototype._onBoxWheel=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y+=p.event.deltaY),this.vbar&&(t+=p.event.deltaY),this.setTranslate(y,t)},w.prototype._onBarDrag=function(){var y=this.translateX,t=this.translateY;if(this.hbar){var r=y+this._hbarXMin,l=r+this._hbarTranslateMax,a=C.constrain(p.event.x,r,l),s=(a-r)/(l-r),c=this.position.w-this._box.w;y=s*c}if(this.vbar){var u=t+this._vbarYMin,m=u+this._vbarTranslateMax,h=C.constrain(p.event.y,u,m),T=(h-u)/(m-u),f=this.position.h-this._box.h;t=T*f}this.setTranslate(y,t)},w.prototype.setTranslate=function(y,t){var r=this.position.w-this._box.w,l=this.position.h-this._box.h;if(y=C.constrain(y||0,0,r),t=C.constrain(t||0,0,l),this.translateX=y,this.translateY=t,this.container.call(n.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=y/r;this.hbar.call(n.setTranslate,y+a*this._hbarTranslateMax,t)}if(this.vbar){var s=t/l;this.vbar.call(n.setTranslate,y,t+s*this._vbarTranslateMax)}}},18783:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(G){G.exports={axisRefDescription:function(U,e,p){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",U,"axis."].join(" ")}}},22372:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(G){G.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},77922:function(G,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},8729:function(G,U,e){U.version=e(11506).version,e(7417),e(98847);for(var p=e(73972),L=U.register=p.register,n=e(10641),C=Object.keys(n),w=0;w<C.length;w++){var v=C[w];v.charAt(0)!=="_"&&(U[v]=n[v]),L({moduleType:"apiMethod",name:v,fn:n[v]})}L(e(67368)),L([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),L([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(24255);var y=e(30211),t=e(74875);U.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},U.Fx={hover:y.hover,unhover:y.unhover,loneHover:y.loneHover,loneUnhover:y.loneUnhover},U.Snapshot=e(44511),U.PlotSchema=e(86281)},24255:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(G,U){U.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},U.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},U.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},U.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},U.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},U.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},26348:function(G,U,e){var p=e(64872),L=p.mod,n=p.modHalf,C=Math.PI,w=2*C;function v(T){return T/180*C}function y(T){return T/C*180}function t(T){return Math.abs(T[1]-T[0])>w-1e-14}function r(T,f){return n(f-T,w)}function l(T,f){return Math.abs(r(T,f))}function a(T,f){if(t(f))return!0;var o,d;f[0]<f[1]?(o=f[0],d=f[1]):(o=f[1],d=f[0]),o=L(o,w),d=L(d,w),o>d&&(d+=w);var M=L(T,w),A=M+w;return M>=o&&M<=d||A>=o&&A<=d}function s(T,f,o,d){if(!a(f,d))return!1;var M,A;return o[0]<o[1]?(M=o[0],A=o[1]):(M=o[1],A=o[0]),T>=M&&T<=A}function c(T,f,o,d,M,A,E){M=M||0,A=A||0;var g=t([o,d]),S,b,i,P,x;g?(S=0,b=C,i=w):o<d?(S=o,i=d):(S=d,i=o),T<f?(P=T,x=f):(P=f,x=T);function k(z,O){return[z*Math.cos(O)+M,A-z*Math.sin(O)]}var _=Math.abs(i-S)<=C?0:1;function B(z,O,F){return"A"+[z,z]+" "+[0,_,F]+" "+k(z,O)}var I;return g?P===null?I="M"+k(x,S)+B(x,b,0)+B(x,i,0)+"Z":I="M"+k(P,S)+B(P,b,0)+B(P,i,0)+"ZM"+k(x,S)+B(x,b,1)+B(x,i,1)+"Z":P===null?(I="M"+k(x,S)+B(x,i,0),E&&(I+="L0,0Z")):I="M"+k(P,S)+"L"+k(x,S)+B(x,i,0)+"L"+k(P,i)+B(P,S,1)+"Z",I}function u(T,f,o,d,M){return c(null,T,f,o,d,M,0)}function m(T,f,o,d,M){return c(null,T,f,o,d,M,1)}function h(T,f,o,d,M,A){return c(T,f,o,d,M,A,1)}G.exports={deg2rad:v,rad2deg:y,angleDelta:r,angleDist:l,isFullCircle:t,isAngleInsideSector:a,isPtInsideSector:s,pathArc:u,pathSector:m,pathAnnulus:h}},73627:function(G,U){var e=Array.isArray,p=ArrayBuffer,L=DataView;function n(y){return p.isView(y)&&!(y instanceof L)}U.isTypedArray=n;function C(y){return e(y)||n(y)}U.isArrayOrTypedArray=C;function w(y){return!C(y[0])}U.isArray1D=w,U.ensureArray=function(y,t){return e(y)||(y=[]),y.length=t,y},U.concat=function(){var y=[],t=!0,r=0,l,a,s,c,u,m,h,T;for(s=0;s<arguments.length;s++)c=arguments[s],m=c.length,m&&(a?y.push(c):(a=c,u=m),e(c)?l=!1:(t=!1,r?l!==c.constructor&&(l=!1):l=c.constructor),r+=m);if(!r)return[];if(!y.length)return a;if(t)return a.concat.apply(a,y);if(l){for(h=new l(r),h.set(a),s=0;s<y.length;s++)c=y[s],h.set(c,u),u+=c.length;return h}for(h=new Array(r),T=0;T<a.length;T++)h[T]=a[T];for(s=0;s<y.length;s++){for(c=y[s],T=0;T<c.length;T++)h[u+T]=c[T];u+=T}return h},U.maxRowLength=function(y){return v(y,Math.max,0)},U.minRowLength=function(y){return v(y,Math.min,1/0)};function v(y,t,r){if(C(y))if(C(y[0])){for(var l=r,a=0;a<y.length;a++)l=t(l,y[a].length);return l}else return y.length;return 0}},95218:function(G,U,e){var p=e(92770),L=e(50606).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(w){return typeof w=="string"&&(w=w.replace(n,"")),p(w)?Number(w):L}},33306:function(G){G.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},86367:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(G,U,e){var p=e(92770),L=e(84267),n=e(9012),C=e(63282),w=e(7901),v=e(37822).DESELECTDIM,y=e(65487),t=e(30587).counter,r=e(64872).modHalf,l=e(73627).isArrayOrTypedArray;U.valObjectMeta={data_array:{coerceFunction:function(s,c,u){l(s)?c.set(s):u!==void 0&&c.set(u)}},enumerated:{coerceFunction:function(s,c,u,m){m.coerceNumber&&(s=+s),m.values.indexOf(s)===-1?c.set(u):c.set(s)},validateFunction:function(s,c){c.coerceNumber&&(s=+s);for(var u=c.values,m=0;m<u.length;m++){var h=String(u[m]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var T=new RegExp(h.substr(1,h.length-2));if(T.test(s))return!0}else if(s===u[m])return!0}return!1}},boolean:{coerceFunction:function(s,c,u){s===!0||s===!1?c.set(s):c.set(u)}},number:{coerceFunction:function(s,c,u,m){!p(s)||m.min!==void 0&&s<m.min||m.max!==void 0&&s>m.max?c.set(u):c.set(+s)}},integer:{coerceFunction:function(s,c,u,m){s%1||!p(s)||m.min!==void 0&&s<m.min||m.max!==void 0&&s>m.max?c.set(u):c.set(+s)}},string:{coerceFunction:function(s,c,u,m){if(typeof s!="string"){var h=typeof s=="number";m.strict===!0||!h?c.set(u):c.set(String(s))}else m.noBlank&&!s?c.set(u):c.set(s)}},color:{coerceFunction:function(s,c,u){L(s).isValid()?c.set(s):c.set(u)}},colorlist:{coerceFunction:function(s,c,u){function m(h){return L(h).isValid()}!Array.isArray(s)||!s.length?c.set(u):s.every(m)?c.set(s):c.set(u)}},colorscale:{coerceFunction:function(s,c,u){c.set(C.get(s,u))}},angle:{coerceFunction:function(s,c,u){s==="auto"?c.set("auto"):p(s)?c.set(r(+s,360)):c.set(u)}},subplotid:{coerceFunction:function(s,c,u,m){var h=m.regex||t(u);if(typeof s=="string"&&h.test(s)){c.set(s);return}c.set(u)},validateFunction:function(s,c){var u=c.dflt;return s===u?!0:typeof s!="string"?!1:!!t(u).test(s)}},flaglist:{coerceFunction:function(s,c,u,m){if((m.extras||[]).indexOf(s)!==-1){c.set(s);return}if(typeof s!="string"){c.set(u);return}for(var h=s.split("+"),T=0;T<h.length;){var f=h[T];m.flags.indexOf(f)===-1||h.indexOf(f)<T?h.splice(T,1):T++}h.length?c.set(h.join("+")):c.set(u)}},any:{coerceFunction:function(s,c,u){s===void 0?c.set(u):c.set(s)}},info_array:{coerceFunction:function(s,c,u,m){function h(k,_,B){var I,z={set:function(O){I=O}};return B===void 0&&(B=_.dflt),U.valObjectMeta[_.valType].coerceFunction(k,z,B,_),I}var T=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(s)&&Array.isArray(s[0]);if(!Array.isArray(s)){c.set(u);return}var f=m.items,o=[],d=Array.isArray(f),M=d&&T&&Array.isArray(f[0]),A=T&&d&&!M,E=d&&!A?f.length:s.length,g,S,b,i,P,x;if(u=Array.isArray(u)?u:[],T)for(g=0;g<E;g++)for(o[g]=[],b=Array.isArray(s[g])?s[g]:[],A?P=f.length:d?P=f[g].length:P=b.length,S=0;S<P;S++)A?i=f[S]:d?i=f[g][S]:i=f,x=h(b[S],i,(u[g]||[])[S]),x!==void 0&&(o[g][S]=x);else for(g=0;g<E;g++)x=h(s[g],d?f[g]:f,u[g]),x!==void 0&&(o[g]=x);c.set(o)},validateFunction:function(s,c){if(!Array.isArray(s))return!1;var u=c.items,m=Array.isArray(u),h=c.dimensions===2;if(!c.freeLength&&s.length!==u.length)return!1;for(var T=0;T<s.length;T++)if(h){if(!Array.isArray(s[T])||!c.freeLength&&s[T].length!==u[T].length)return!1;for(var f=0;f<s[T].length;f++)if(!a(s[T][f],m?u[T][f]:u))return!1}else if(!a(s[T],m?u[T]:u))return!1;return!0}}},U.coerce=function(s,c,u,m,h){var T=y(u,m).get(),f=y(s,m),o=y(c,m),d=f.get(),M=c._template;if(d===void 0&&M&&(d=y(M,m).get(),M=0),h===void 0&&(h=T.dflt),T.arrayOk&&l(d))return o.set(d),d;var A=U.valObjectMeta[T.valType].coerceFunction;A(d,o,h,T);var E=o.get();return M&&E===h&&!a(d,T)&&(d=y(M,m).get(),A(d,o,h,T),E=o.get()),E},U.coerce2=function(s,c,u,m,h){var T=y(s,m),f=U.coerce(s,c,u,m,h),o=T.get();return o!=null?f:!1},U.coerceFont=function(s,c,u){var m={};return u=u||{},m.family=s(c+".family",u.family),m.size=s(c+".size",u.size),m.color=s(c+".color",u.color),m},U.coercePattern=function(s,c,u,m){var h=s(c+".shape");if(h){s(c+".solidity"),s(c+".size");var T=s(c+".fillmode"),f=T==="overlay";if(!m){var o=s(c+".bgcolor",f?u:void 0);s(c+".fgcolor",f?w.contrast(o):u)}s(c+".fgopacity",f?.5:1)}},U.coerceHoverinfo=function(s,c,u){var m=c._module.attributes,h=m.hoverinfo?m:n,T=h.hoverinfo,f;if(u._dataLength===1){var o=T.dflt==="all"?T.flags.slice():T.dflt.split("+");o.splice(o.indexOf("name"),1),f=o.join("+")}return U.coerce(s,c,h,"hoverinfo",f)},U.coerceSelectionMarkerOpacity=function(s,c){if(s.marker){var u=s.marker.opacity;if(u!==void 0){var m,h;!l(u)&&!s.selected&&!s.unselected&&(m=u,h=v*u),c("selected.marker.opacity",m),c("unselected.marker.opacity",h)}}};function a(s,c){var u=U.valObjectMeta[c.valType];if(c.arrayOk&&l(s))return!0;if(u.validateFunction)return u.validateFunction(s,c);var m={},h=m,T={set:function(f){h=f}};return u.coerceFunction(s,T,m,c),h!==m}U.validate=a},41631:function(G,U,e){var p=e(84096).i$,L=e(92770),n=e(47769),C=e(64872).mod,w=e(50606),v=w.BADNUM,y=w.ONEDAY,t=w.ONEHOUR,r=w.ONEMIN,l=w.ONESEC,a=w.EPOCHJD,s=e(73972),c=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(I){return I&&s.componentsRegistry.calendars&&typeof I=="string"&&I!=="gregorian"}U.dateTick0=function(I,z){var O=f(I,!!z);if(z<2)return O;var F=U.dateTime2ms(O,I);return F+=y*(z-1),U.ms2DateTime(F,0,I)};function f(I,z){return T(I)?z?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[I]:s.getComponentMethod("calendars","CANONICAL_TICK")[I]:z?"2000-01-02":"2000-01-01"}U.dfltRange=function(I){return T(I)?s.getComponentMethod("calendars","DFLTRANGE")[I]:["2000-01-01","2001-01-01"]},U.isJSDate=function(I){return typeof I=="object"&&I!==null&&typeof I.getTime=="function"};var o,d;U.dateTime2ms=function(I,z){if(U.isJSDate(I)){var O=I.getTimezoneOffset()*r,F=(I.getUTCMinutes()-I.getMinutes())*r+(I.getUTCSeconds()-I.getSeconds())*l+(I.getUTCMilliseconds()-I.getMilliseconds());if(F){var N=3*r;O=O-N/2+C(F-O+N/2,N)}return I=Number(I)-O,I>=o&&I<=d?I:v}if(typeof I!="string"&&typeof I!="number")return v;I=String(I);var Q=T(z),$=I.charAt(0);Q&&($==="G"||$==="g")&&(I=I.substr(1),z="");var j=Q&&z.substr(0,7)==="chinese",ee=I.match(j?m:u);if(!ee)return v;var oe=ee[1],Y=ee[3]||"1",V=Number(ee[5]||1),W=Number(ee[7]||0),X=Number(ee[9]||0),re=Number(ee[11]||0);if(Q){if(oe.length===2)return v;oe=Number(oe);var ie;try{var K=s.getComponentMethod("calendars","getCal")(z);if(j){var q=Y.charAt(Y.length-1)==="i";Y=parseInt(Y,10),ie=K.newDate(oe,K.toMonthIndex(oe,Y,q),V)}else ie=K.newDate(oe,Number(Y),V)}catch{return v}return ie?(ie.toJD()-a)*y+W*t+X*r+re*l:v}oe.length===2?oe=(Number(oe)+2e3-h)%100+h:oe=Number(oe),Y-=1;var le=new Date(Date.UTC(2e3,Y,V,W,X));return le.setUTCFullYear(oe),le.getUTCMonth()!==Y||le.getUTCDate()!==V?v:le.getTime()+re*l},o=U.MIN_MS=U.dateTime2ms("-9999"),d=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(I,z){return U.dateTime2ms(I,z)!==v};function M(I,z){return String(I+Math.pow(10,z)).substr(1)}var A=90*y,E=3*t,g=5*r;U.ms2DateTime=function(I,z,O){if(typeof I!="number"||!(I>=o&&I<=d))return v;z||(z=0);var F=Math.floor(C(I+.05,1)*10),N=Math.round(I-F/10),Q,$,j,ee,oe,Y;if(T(O)){var V=Math.floor(N/y)+a,W=Math.floor(C(I,y));try{Q=s.getComponentMethod("calendars","getCal")(O).fromJD(V).formatDate("yyyy-mm-dd")}catch{Q=c("G%Y-%m-%d")(new Date(N))}if(Q.charAt(0)==="-")for(;Q.length<11;)Q="-0"+Q.substr(1);else for(;Q.length<10;)Q="0"+Q;$=z<A?Math.floor(W/t):0,j=z<A?Math.floor(W%t/r):0,ee=z<E?Math.floor(W%r/l):0,oe=z<g?W%l*10+F:0}else Y=new Date(N),Q=c("%Y-%m-%d")(Y),$=z<A?Y.getUTCHours():0,j=z<A?Y.getUTCMinutes():0,ee=z<E?Y.getUTCSeconds():0,oe=z<g?Y.getUTCMilliseconds()*10+F:0;return S(Q,$,j,ee,oe)},U.ms2DateTimeLocal=function(I){if(!(I>=o+y&&I<=d-y))return v;var z=Math.floor(C(I+.05,1)*10),O=new Date(Math.round(I-z/10)),F=p("%Y-%m-%d")(O),N=O.getHours(),Q=O.getMinutes(),$=O.getSeconds(),j=O.getUTCMilliseconds()*10+z;return S(F,N,Q,$,j)};function S(I,z,O,F,N){if((z||O||F||N)&&(I+=" "+M(z,2)+":"+M(O,2),(F||N)&&(I+=":"+M(F,2),N))){for(var Q=4;N%10===0;)Q-=1,N/=10;I+="."+M(N,Q)}return I}U.cleanDate=function(I,z,O){if(I===v)return z;if(U.isJSDate(I)||typeof I=="number"&&isFinite(I)){if(T(O))return n.error("JS Dates and milliseconds are incompatible with world calendars",I),z;if(I=U.ms2DateTimeLocal(+I),!I&&z!==void 0)return z}else if(!U.isDateTime(I,O))return n.error("unrecognized date",I),z;return I};var b=/%\d?f/g,i=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function x(I,z,O,F){I=I.replace(b,function(Q){var $=Math.min(+Q.charAt(1)||6,6),j=(z/1e3%1+2).toFixed($).substr(2).replace(/0+$/,"")||"0";return j});var N=new Date(Math.floor(z+.05));if(I=I.replace(i,function(){return P[O("%q")(N)]}),T(F))try{I=s.getComponentMethod("calendars","worldCalFmt")(I,z,F)}catch{return"Invalid"}return O(I)(N)}var k=[59,59.9,59.99,59.999,59.9999];function _(I,z){var O=C(I+.05,y),F=M(Math.floor(O/t),2)+":"+M(C(Math.floor(O/r),60),2);if(z!=="M"){L(z)||(z=0);var N=Math.min(C(I/l,60),k[z]),Q=(100+N).toFixed(z).substr(1);z>0&&(Q=Q.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+Q}return F}U.formatDate=function(I,z,O,F,N,Q){if(N=T(N)&&N,!z)if(O==="y")z=Q.year;else if(O==="m")z=Q.month;else if(O==="d")z=Q.dayMonth+`
`+Q.year;else return _(I,O)+`
`+x(Q.dayMonthYear,I,F,N);return x(z,I,F,N)};var B=3*y;U.incrementMonth=function(I,z,O){O=T(O)&&O;var F=C(I,y);if(I=Math.round(I-F),O)try{var N=Math.round(I/y)+a,Q=s.getComponentMethod("calendars","getCal")(O),$=Q.fromJD(N);return z%12?Q.add($,z,"m"):Q.add($,z/12,"y"),($.toJD()-a)*y+F}catch{n.error("invalid ms "+I+" in calendar "+O)}var j=new Date(I+B);return j.setUTCMonth(j.getUTCMonth()+z)+F-B},U.findExactDates=function(I,z){for(var O=0,F=0,N=0,Q=0,$,j,ee=T(z)&&s.getComponentMethod("calendars","getCal")(z),oe=0;oe<I.length;oe++){if(j=I[oe],!L(j)){Q++;continue}if(!(j%y))if(ee)try{$=ee.fromJD(j/y+a),$.day()===1?$.month()===1?O++:F++:N++}catch{}else $=new Date(j),$.getUTCDate()===1?$.getUTCMonth()===0?O++:F++:N++}F+=O,N+=F;var Y=I.length-Q;return{exactYears:O/Y,exactMonths:F/Y,exactDays:N/Y}}},24401:function(G,U,e){var p=e(39898),L=e(47769),n=e(35657),C=e(79576);function w(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=p.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function y(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function t(h,T){r("global",h,T)}function r(h,T,f){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var M=d.sheet;M.insertRule?M.insertRule(T+"{"+f+"}",0):M.addRule?M.addRule(T,f,0):L.warn("addStyleRule failed")}function l(h){var T="plotly.js-style-"+h,f=document.getElementById(T);f&&y(f)}function a(h){var T=c(h),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(o){var d=s(o);if(d){var M=n.convertCssMatrix(d);f=C.multiply(f,f,M)}}),f}function s(h){var T=window.getComputedStyle(h,null),f=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return f==="none"?null:f.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function c(h){for(var T=[];u(h);)T.push(h),h=h.parentNode;return T}function u(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function m(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}G.exports={getGraphDiv:w,isPlotDiv:v,removeElement:y,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:l,getFullTransformMatrix:a,getElementTransformMatrix:s,getElementAndAncestors:c,equalDomRects:m}},11086:function(G,U,e){var p=e(15398).EventEmitter,L={init:function(n){if(n._ev instanceof p)return n;var C=new p,w=new p;return n._ev=C,n._internalEv=w,n.on=C.on.bind(C),n.once=C.once.bind(C),n.removeListener=C.removeListener.bind(C),n.removeAllListeners=C.removeAllListeners.bind(C),n._internalOn=w.on.bind(w),n._internalOnce=w.once.bind(w),n._removeInternalListener=w.removeListener.bind(w),n._removeAllInternalListeners=w.removeAllListeners.bind(w),n.emit=function(v,y){typeof jQuery<"u"&&jQuery(n).trigger(v,y),C.emit(v,y),w.emit(v,y)},n},triggerHandler:function(n,C,w){var v,y;typeof jQuery<"u"&&(v=jQuery(n).triggerHandler(C,w));var t=n._ev;if(!t)return v;var r=t._events[C];if(!r)return v;function l(s){if(s.listener){if(t.removeListener(C,s.listener),!s.fired)return s.fired=!0,s.listener.apply(t,[w])}else return s.apply(t,[w])}r=Array.isArray(r)?r:[r];var a;for(a=0;a<r.length-1;a++)l(r[a]);return y=l(r[a]),v!==void 0?v:y},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};G.exports=L},1426:function(G,U,e){var p=e(41965),L=Array.isArray;function n(w,v){var y,t;for(y=0;y<w.length;y++){if(t=w[y],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[y]=t)}return!0}U.extendFlat=function(){return C(arguments,!1,!1,!1)},U.extendDeep=function(){return C(arguments,!0,!1,!1)},U.extendDeepAll=function(){return C(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(w,v,y,t){var r=w[0],l=w.length,a,s,c,u,m,h,T;if(l===2&&L(r)&&L(w[1])&&r.length===0){if(T=n(w[1],r),T)return r;r.splice(0,r.length)}for(var f=1;f<l;f++){a=w[f];for(s in a)c=r[s],u=a[s],t&&L(u)?r[s]=u:v&&u&&(p(u)||(m=L(u)))?(m?(m=!1,h=c&&L(c)?c:[]):h=c&&p(c)?c:{},r[s]=C([h,u],v,y,t)):(typeof u<"u"||y)&&(r[s]=u)}return r}},75744:function(G){G.exports=function(e){for(var p={},L=[],n=0,C=0;C<e.length;C++){var w=e[C];p[w]!==1&&(p[w]=1,L[n++]=w)}return L}},76756:function(G){G.exports=function(n){for(var C=p(n)?e:U,w=[],v=0;v<n.length;v++){var y=n[v];C(y)&&w.push(y)}return w};function U(L){return L.visible===!0}function e(L){var n=L[0].trace;return n.visible===!0&&n._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},41327:function(G,U,e){var p=e(39898),L=e(24138),n=e(30774),C=e(29261),w=e(85268),v=e(23389),y=e(47769),t=e(41965),r=e(65487),l=e(61082),a=Object.keys(L),s={"ISO-3":v,"USA-states":v,"country names":c};function c(M){for(var A=0;A<a.length;A++){var E=a[A],g=new RegExp(L[E]);if(g.test(M.trim().toLowerCase()))return E}return y.log("Unrecognized country name: "+M+"."),!1}function u(M,A,E){if(!A||typeof A!="string")return!1;var g=s[M](A),S,b,i;if(g){if(M==="USA-states")for(S=[],i=0;i<E.length;i++)b=E[i],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&S.push(b);else S=E;for(i=0;i<S.length;i++)if(b=S[i],b.id===g)return b;y.log(["Location with id",g,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(M){var A=M.geometry,E=A.coordinates,g=M.id,S=[],b,i,P,x;function k(_){for(var B=0;B<_.length-1;B++)if(_[B][0]>0&&_[B+1][0]<0)return B;return null}switch(g==="RUS"||g==="FJI"?b=function(_){var B;if(k(_)===null)B=_;else for(B=new Array(_.length),x=0;x<_.length;x++)B[x]=[_[x][0]<0?_[x][0]+360:_[x][0],_[x][1]];S.push(l.tester(B))}:g==="ATA"?b=function(_){var B=k(_);if(B===null)return S.push(l.tester(_));var I=new Array(_.length+1),z=0;for(x=0;x<_.length;x++)x>B?I[z++]=[_[x][0]+360,_[x][1]]:x===B?(I[z++]=_[x],I[z++]=[_[x][0],-90]):I[z++]=_[x];var O=l.tester(I);O.pts.pop(),S.push(O)}:b=function(_){S.push(l.tester(_))},A.type){case"MultiPolygon":for(i=0;i<E.length;i++)for(P=0;P<E[i].length;P++)b(E[i][P]);break;case"Polygon":for(i=0;i<E.length;i++)b(E[i]);break}return S}function h(M){var A=M.geojson,E=window.PlotlyGeoAssets||{},g=typeof A=="string"?E[A]:A;return t(g)?g:(y.error("Oops ... something went wrong when fetching "+A),!1)}function T(M){var A=M[0].trace,E=h(A);if(!E)return!1;var g={},S=[],b;for(b=0;b<A._length;b++){var i=M[b];(i.loc||i.loc===0)&&(g[i.loc]=i)}function P(_){var B=r(_,A.featureidkey||"id").get(),I=g[B];if(I){var z=_.geometry;if(z.type==="Polygon"||z.type==="MultiPolygon"){var O={type:"Feature",id:B,geometry:z,properties:{}};O.properties.ct=f(O),I.fIn=_,I.fOut=O,S.push(O)}else y.log(["Location",I.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[B]}switch(E.type){case"FeatureCollection":var x=E.features;for(b=0;b<x.length;b++)P(x[b]);break;case"Feature":P(E);break;default:return y.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in g)y.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return S}function f(M){var A=M.geometry,E;if(A.type==="MultiPolygon")for(var g=A.coordinates,S=0,b=0;b<g.length;b++){var i={type:"Polygon",coordinates:g[b]},P=n.default(i);P>S&&(S=P,E=i)}else E=A;return C.default(E).geometry.coordinates}function o(M){var A=window.PlotlyGeoAssets||{},E=[];function g(x){return new Promise(function(k,_){p.json(x,function(B,I){if(B){delete A[x];var z=B.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return _(new Error(z))}return A[x]=I,k(I)})})}function S(x){return new Promise(function(k,_){var B=0,I=setInterval(function(){if(A[x]&&A[x]!=="pending")return clearInterval(I),k(A[x]);if(B>100)return clearInterval(I),_("Unexpected error while fetching from "+x);B++},50)})}for(var b=0;b<M.length;b++){var i=M[b][0].trace,P=i.geojson;typeof P=="string"&&(A[P]?A[P]==="pending"&&E.push(S(P)):(A[P]="pending",E.push(g(P))))}return E}function d(M){return w.default(M)}G.exports={locationToFeature:u,feature2polygons:m,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:o,computeBbox:d}},18214:function(G,U,e){var p=e(50606).BADNUM;U.calcTraceToLineCoords=function(L){for(var n=L[0].trace,C=n.connectgaps,w=[],v=[],y=0;y<L.length;y++){var t=L[y],r=t.lonlat;r[0]!==p?v.push(r):!C&&v.length>0&&(w.push(v),v=[])}return v.length>0&&w.push(v),w},U.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},U.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var n=new Array(L.length),C=0;C<L.length;C++)n[C]=[L[C]];return{type:"MultiPolygon",coordinates:n}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(G,U,e){var p=e(64872).mod;U.segmentsIntersect=L;function L(y,t,r,l,a,s,c,u){var m=r-y,h=a-y,T=c-a,f=l-t,o=s-t,d=u-s,M=m*d-T*f;if(M===0)return null;var A=(h*d-T*o)/M,E=(h*f-m*o)/M;return E<0||E>1||A<0||A>1?null:{x:y+m*A,y:t+f*A}}U.segmentDistance=function(t,r,l,a,s,c,u,m){if(L(t,r,l,a,s,c,u,m))return 0;var h=l-t,T=a-r,f=u-s,o=m-c,d=h*h+T*T,M=f*f+o*o,A=Math.min(n(h,T,d,s-t,c-r),n(h,T,d,u-t,m-r),n(f,o,M,t-s,r-c),n(f,o,M,l-s,a-c));return Math.sqrt(A)};function n(y,t,r,l,a){var s=l*y+a*t;if(s<0)return l*l+a*a;if(s>r){var c=l-y,u=a-t;return c*c+u*u}else{var m=l*t-a*y;return m*m/r}}var C,w,v;U.getTextLocation=function(t,r,l,a){if((t!==w||a!==v)&&(C={},w=t,v=a),C[l])return C[l];var s=t.getPointAtLength(p(l-a/2,r)),c=t.getPointAtLength(p(l+a/2,r)),u=Math.atan((c.y-s.y)/(c.x-s.x)),m=t.getPointAtLength(p(l,r)),h=(m.x*4+s.x+c.x)/6,T=(m.y*4+s.y+c.y)/6,f={x:h,y:T,theta:u};return C[l]=f,f},U.clearLocationCache=function(){w=null},U.getVisibleSegment=function(t,r,l){var a=r.left,s=r.right,c=r.top,u=r.bottom,m=0,h=t.getTotalLength(),T=h,f,o;function d(A){var E=t.getPointAtLength(A);A===0?f=E:A===h&&(o=E);var g=E.x<a?a-E.x:E.x>s?E.x-s:0,S=E.y<c?c-E.y:E.y>u?E.y-u:0;return Math.sqrt(g*g+S*S)}for(var M=d(m);M;){if(m+=M+l,m>T)return;M=d(m)}for(M=d(T);M;){if(T-=M+l,m>T)return;M=d(T)}return{min:m,max:T,len:T-m,total:h,isClosed:m===0&&T===h&&Math.abs(f.x-o.x)<.1&&Math.abs(f.y-o.y)<.1}},U.findPointOnPath=function(t,r,l,a){a=a||{};for(var s=a.pathLength||t.getTotalLength(),c=a.tolerance||.001,u=a.iterationLimit||30,m=t.getPointAtLength(0)[l]>t.getPointAtLength(s)[l]?-1:1,h=0,T=0,f=s,o,d,M;h<u;){if(o=(T+f)/2,d=t.getPointAtLength(o),M=d[l]-r,Math.abs(M)<c)return d;m*M>0?f=o:T=o,h++}return d}},81697:function(G,U,e){var p=e(92770),L=e(84267),n=e(25075),C=e(21081),w=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,y=n(w),t=1;function r(u,m){var h=u;return h[3]*=m,h}function l(u){if(p(u))return y;var m=n(u);return m.length?m:y}function a(u){return p(u)?u:t}function s(u,m,h){var T=u.color,f=v(T),o=v(m),d=C.extractOpts(u),M=[],A,E,g,S,b;if(d.colorscale!==void 0?A=C.makeColorScaleFuncFromTrace(u):A=l,f?E=function(P,x){return P[x]===void 0?y:n(A(P[x]))}:E=l,o?g=function(P,x){return P[x]===void 0?t:a(P[x])}:g=a,f||o)for(var i=0;i<h;i++)S=E(T,i),b=g(m,i),M[i]=r(S,b);else M=r(n(T),m);return M}function c(u){var m=C.extractOpts(u),h=m.colorscale;return m.reversescale&&(h=C.flipScale(m.colorscale)),h.map(function(T){var f=T[0],o=L(T[1]),d=o.toRgb();return{index:f,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:s,parseColorScale:c}},28984:function(G,U,e){var p=e(23389);function L(n){return[n]}G.exports={keyFun:function(n){return n.key},repeat:L,descend:p,wrap:L,unwrap:function(n){return n[0]}}},23389:function(G){G.exports=function(e){return e}},39240:function(G){G.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),n=L>1?(L*e+L*p)/L:e+p,C=String(n).length;if(C>16){var w=String(p).length,v=String(e).length;if(C>=v+w){var y=parseFloat(n).toPrecision(12);y.indexOf("e+")===-1&&(n=+y)}}return n}},71828:function(G,U,e){var p=e(39898),L=e(84096).g0,n=e(60721).WU,C=e(92770),w=e(50606),v=w.FP_SAFE,y=-v,t=w.BADNUM,r=G.exports={};r.adjustFormat=function(Y){return!Y||/^\d[.]\df/.test(Y)||/[.]\d%/.test(Y)?Y:Y==="0.f"?"~f":/^\d%/.test(Y)?"~%":/^\ds/.test(Y)?"~s":!/^[~,.0$]/.test(Y)&&/[&fps]/.test(Y)?"~"+Y:Y};var l={};r.warnBadFormat=function(oe){var Y=String(oe);l[Y]||(l[Y]=1,r.warn('encountered bad format: "'+Y+'"'))},r.noFormat=function(oe){return String(oe)},r.numberFormat=function(oe){var Y;try{Y=n(r.adjustFormat(oe))}catch{return r.warnBadFormat(oe),r.noFormat}return Y},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var a=e(73627);r.isTypedArray=a.isTypedArray,r.isArrayOrTypedArray=a.isArrayOrTypedArray,r.isArray1D=a.isArray1D,r.ensureArray=a.ensureArray,r.concat=a.concat,r.maxRowLength=a.maxRowLength,r.minRowLength=a.minRowLength;var s=e(64872);r.mod=s.mod,r.modHalf=s.modHalf;var c=e(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var h=e(80038);r.aggNums=h.aggNums,r.len=h.len,r.mean=h.mean,r.median=h.median,r.midRange=h.midRange,r.variance=h.variance,r.stdev=h.stdev,r.interp=h.interp;var T=e(35657);r.init2dArray=T.init2dArray,r.transposeRagged=T.transposeRagged,r.dot=T.dot,r.translationMatrix=T.translationMatrix,r.rotationMatrix=T.rotationMatrix,r.rotationXYMatrix=T.rotationXYMatrix,r.apply3DTransform=T.apply3DTransform,r.apply2DTransform=T.apply2DTransform,r.apply2DTransform2=T.apply2DTransform2,r.convertCssMatrix=T.convertCssMatrix,r.inverseTransformMatrix=T.inverseTransformMatrix;var f=e(26348);r.deg2rad=f.deg2rad,r.rad2deg=f.rad2deg,r.angleDelta=f.angleDelta,r.angleDist=f.angleDist,r.isFullCircle=f.isFullCircle,r.isAngleInsideSector=f.isAngleInsideSector,r.isPtInsideSector=f.isPtInsideSector,r.pathArc=f.pathArc,r.pathSector=f.pathSector,r.pathAnnulus=f.pathAnnulus;var o=e(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var M=e(1426);r.extendFlat=M.extendFlat,r.extendDeep=M.extendDeep,r.extendDeepAll=M.extendDeepAll,r.extendDeepNoArrays=M.extendDeepNoArrays;var A=e(47769);r.log=A.log,r.warn=A.warn,r.error=A.error;var E=e(30587);r.counterRegex=E.counter;var g=e(79990);r.throttle=g.throttle,r.throttleDone=g.done,r.clearThrottle=g.clear;var S=e(24401);r.getGraphDiv=S.getGraphDiv,r.isPlotDiv=S.isPlotDiv,r.removeElement=S.removeElement,r.addStyleRule=S.addStyleRule,r.addRelatedStyleRule=S.addRelatedStyleRule,r.deleteRelatedStyleRule=S.deleteRelatedStyleRule,r.getFullTransformMatrix=S.getFullTransformMatrix,r.getElementTransformMatrix=S.getElementTransformMatrix,r.getElementAndAncestors=S.getElementAndAncestors,r.equalDomRects=S.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(Y){return C(Y)?(Y=Number(Y),Y>v||Y<y?t:Y):t},r.isIndex=function(oe,Y){return Y!==void 0&&oe>=Y?!1:C(oe)&&oe>=0&&oe%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(oe,Y){for(var V=new Array(Y),W=0;W<Y;W++)V[W]=oe;return V},r.swapAttrs=function(oe,Y,V,W){V||(V="x"),W||(W="y");for(var X=0;X<Y.length;X++){var re=Y[X],ie=r.nestedProperty(oe,re.replace("?",V)),K=r.nestedProperty(oe,re.replace("?",W)),q=ie.get();ie.set(K.get()),K.set(q)}},r.raiseToTop=function(Y){Y.parentNode.appendChild(Y)},r.cancelTransition=function(oe){return oe.transition().duration(0)},r.constrain=function(oe,Y,V){return Y>V?Math.max(V,Math.min(Y,oe)):Math.max(Y,Math.min(V,oe))},r.bBoxIntersect=function(oe,Y,V){return V=V||0,oe.left<=Y.right+V&&Y.left<=oe.right+V&&oe.top<=Y.bottom+V&&Y.top<=oe.bottom+V},r.simpleMap=function(oe,Y,V,W,X){for(var re=oe.length,ie=new Array(re),K=0;K<re;K++)ie[K]=Y(oe[K],V,W,X);return ie},r.randstr=function oe(Y,V,W,X){if(W||(W=16),V===void 0&&(V=24),V<=0)return"0";var re=Math.log(Math.pow(2,V))/Math.log(W),ie="",K,q,le;for(K=2;re===1/0;K*=2)re=Math.log(Math.pow(2,V/K))/Math.log(W)*K;var ae=re-Math.floor(re);for(K=0;K<Math.floor(re);K++)le=Math.floor(Math.random()*W).toString(W),ie=le+ie;ae&&(q=Math.pow(W,ae),le=Math.floor(Math.random()*q).toString(W),ie=le+ie);var he=parseInt(ie,W);return Y&&Y[ie]||he!==1/0&&he>=Math.pow(2,V)?X>10?(r.warn("randstr failed uniqueness"),ie):oe(Y,V,W,(X||0)+1):ie},r.OptionControl=function(oe,Y){oe||(oe={}),Y||(Y="opt");var V={};return V.optionList=[],V._newoption=function(W){W[Y]=oe,V[W.name]=W,V.optionList.push(W)},V["_"+Y]=oe,V},r.smooth=function(oe,Y){if(Y=Math.round(Y)||0,Y<2)return oe;var V=oe.length,W=2*V,X=2*Y-1,re=new Array(X),ie=new Array(V),K,q,le,ae;for(K=0;K<X;K++)re[K]=(1-Math.cos(Math.PI*(K+1)/Y))/(2*Y);for(K=0;K<V;K++){for(ae=0,q=0;q<X;q++)le=K+q+1-Y,le<-V?le-=W*Math.round(le/W):le>=W&&(le-=W*Math.floor(le/W)),le<0?le=-1-le:le>=V&&(le=W-1-le),ae+=oe[le]*re[q];ie[K]=ae}return ie},r.syncOrAsync=function(oe,Y,V){var W,X;function re(){return r.syncOrAsync(oe,Y,V)}for(;oe.length;)if(X=oe.splice(0,1)[0],W=X(Y),W&&W.then)return W.then(re);return V&&V(Y)},r.stripTrailingSlash=function(oe){return oe.substr(-1)==="/"?oe.substr(0,oe.length-1):oe},r.noneOrAll=function(oe,Y,V){if(oe){var W=!1,X=!0,re,ie;for(re=0;re<V.length;re++)ie=oe[V[re]],ie!=null?W=!0:X=!1;if(W&&!X)for(re=0;re<V.length;re++)oe[V[re]]=Y[V[re]]}},r.mergeArray=function(oe,Y,V,W){var X=typeof W=="function";if(r.isArrayOrTypedArray(oe))for(var re=Math.min(oe.length,Y.length),ie=0;ie<re;ie++){var K=oe[ie];Y[ie][V]=X?W(K):K}},r.mergeArrayCastPositive=function(oe,Y,V){return r.mergeArray(oe,Y,V,function(W){var X=+W;return isFinite(X)&&X>0?X:0})},r.fillArray=function(oe,Y,V,W){if(W=W||r.identity,r.isArrayOrTypedArray(oe))for(var X=0;X<Y.length;X++)Y[X][V]=W(oe[X])},r.castOption=function(oe,Y,V,W){W=W||r.identity;var X=r.nestedProperty(oe,V).get();return r.isArrayOrTypedArray(X)?Array.isArray(Y)&&r.isArrayOrTypedArray(X[Y[0]])?W(X[Y[0]][Y[1]]):W(X[Y]):X},r.extractOption=function(oe,Y,V,W){if(V in oe)return oe[V];var X=r.nestedProperty(Y,W).get();if(!Array.isArray(X))return X};function b(oe){var Y={};for(var V in oe)for(var W=oe[V],X=0;X<W.length;X++)Y[W[X]]=+V;return Y}r.tagSelected=function(oe,Y,V){var W=Y.selectedpoints,X=Y._indexToPoints,re;X&&(re=b(X));function ie(he){return he!==void 0&&he<oe.length}for(var K=0;K<W.length;K++){var q=W[K];if(r.isIndex(q)||r.isArrayOrTypedArray(q)&&r.isIndex(q[0])&&r.isIndex(q[1])){var le=re?re[q]:q,ae=V?V[le]:le;ie(ae)&&(oe[ae].selected=1)}}},r.selIndices2selPoints=function(oe){var Y=oe.selectedpoints,V=oe._indexToPoints;if(V){for(var W=b(V),X=[],re=0;re<Y.length;re++){var ie=Y[re];if(r.isIndex(ie)){var K=W[ie];r.isIndex(K)&&X.push(K)}}return X}else return Y},r.getTargetArray=function(oe,Y){var V=Y.target;if(typeof V=="string"&&V){var W=r.nestedProperty(oe,V).get();return Array.isArray(W)?W:!1}else if(Array.isArray(V))return V;return!1},r.minExtend=function(oe,Y){var V={};typeof Y!="object"&&(Y={});var W=3,X=Object.keys(oe),re,ie,K;for(re=0;re<X.length;re++)ie=X[re],K=oe[ie],!(ie.charAt(0)==="_"||typeof K=="function")&&(ie==="module"?V[ie]=K:Array.isArray(K)?ie==="colorscale"?V[ie]=K.slice():V[ie]=K.slice(0,W):r.isTypedArray(K)?V[ie]=K.subarray(0,W):K&&typeof K=="object"?V[ie]=r.minExtend(oe[ie],Y[ie]):V[ie]=K);for(X=Object.keys(Y),re=0;re<X.length;re++)ie=X[re],K=Y[ie],(typeof K!="object"||!(ie in V)||typeof V[ie]!="object")&&(V[ie]=K);return V},r.titleCase=function(oe){return oe.charAt(0).toUpperCase()+oe.substr(1)},r.containsAny=function(oe,Y){for(var V=0;V<Y.length;V++)if(oe.indexOf(Y[V])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var i=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return i.test(window.navigator.userAgent)};var P=/iPad|iPhone|iPod/;r.isIOS=function(){return P.test(window.navigator.userAgent)};var x=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var oe=x.exec(window.navigator.userAgent);if(oe&&oe.length===2){var Y=parseInt(oe[1]);if(!isNaN(Y))return Y}return null},r.isD3Selection=function(oe){return oe instanceof p.selection},r.ensureSingle=function(oe,Y,V,W){var X=oe.select(Y+(V?"."+V:""));if(X.size())return X;var re=oe.append(Y);return V&&re.classed(V,!0),W&&re.call(W),re},r.ensureSingleById=function(oe,Y,V,W){var X=oe.select(Y+"#"+V);if(X.size())return X;var re=oe.append(Y).attr("id",V);return W&&re.call(W),re},r.objectFromPath=function(oe,Y){for(var V=oe.split("."),W,X=W={},re=0;re<V.length;re++){var ie=V[re],K=null,q=V[re].match(/(.*)\[([0-9]+)\]/);q?(ie=q[1],K=q[2],W=W[ie]=[],re===V.length-1?W[K]=Y:W[K]={},W=W[K]):(re===V.length-1?W[ie]=Y:W[ie]={},W=W[ie])}return X};var k=/^([^\[\.]+)\.(.+)?/,_=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(oe){var Y,V,W,X,re,ie,K;if(typeof oe=="object"&&!Array.isArray(oe))for(V in oe)oe.hasOwnProperty(V)&&((Y=V.match(k))?(X=oe[V],W=Y[1],delete oe[V],oe[W]=r.extendDeepNoArrays(oe[W]||{},r.objectFromPath(V,r.expandObjectPaths(X))[W])):(Y=V.match(_))?(X=oe[V],W=Y[1],re=parseInt(Y[2]),delete oe[V],oe[W]=oe[W]||[],Y[3]==="."?(K=Y[4],ie=oe[W][re]=oe[W][re]||{},r.extendDeepNoArrays(ie,r.objectFromPath(K,r.expandObjectPaths(X)))):oe[W][re]=r.expandObjectPaths(X)):oe[V]=r.expandObjectPaths(oe[V]));return oe},r.numSeparate=function(oe,Y,V){if(V||(V=!1),typeof Y!="string"||Y.length===0)throw new Error("Separator string required for formatting!");typeof oe=="number"&&(oe=String(oe));var W=/(\d+)(\d{3})/,X=Y.charAt(0),re=Y.charAt(1),ie=oe.split("."),K=ie[0],q=ie.length>1?X+ie[1]:"";if(re&&(ie.length>1||K.length>4||V))for(;W.test(K);)K=K.replace(W,"$1"+re+"$2");return K+q},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;r.templateString=function(oe,Y){var V={};return oe.replace(r.TEMPLATE_STRING_REGEX,function(W,X){var re;return B.test(X)?re=Y[X]:(V[X]=V[X]||r.nestedProperty(Y,X).get,re=V[X]()),r.isValidTextValue(re)?re:""})};var I={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return F.apply(I,arguments)};var z={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return F.apply(z,arguments)};var O=/^[:|\|]/;function F(oe,Y,V){var W=this,X=arguments;Y||(Y={});var re={};return oe.replace(r.TEMPLATE_STRING_REGEX,function(ie,K,q){var le=K==="xother"||K==="yother",ae=K==="_xother"||K==="_yother",he=K==="_xother_"||K==="_yother_",me=K==="xother_"||K==="yother_",Me=le||ae||me||he,xe=K;(ae||he)&&(xe=xe.substring(1)),(me||he)&&(xe=xe.substring(0,xe.length-1));var Ie;if(Me){if(Ie=Y[xe],Ie===void 0)return""}else{var _e,Te;for(Te=3;Te<X.length;Te++)if(_e=X[Te],!!_e){if(_e.hasOwnProperty(xe)){Ie=_e[xe];break}if(B.test(xe)||(Ie=r.nestedProperty(_e,xe).get(),Ie=re[xe]||r.nestedProperty(_e,xe).get(),Ie&&(re[xe]=Ie)),Ie!==void 0)break}}if(Ie===void 0&&W)return W.count<W.max&&(r.warn("Variable '"+xe+"' in "+W.name+" could not be found!"),Ie=ie),W.count===W.max&&r.warn("Too many "+W.name+" warnings - additional warnings will be suppressed"),W.count++,ie;if(q){var ye;if(q[0]===":"&&(ye=V?V.numberFormat:r.numberFormat,Ie=ye(q.replace(O,""))(Ie)),q[0]==="|"){ye=V?V.timeFormat:L;var Ae=r.dateTime2ms(Ie);Ie=r.formatDate(Ae,q.replace(O,""),!1,ye)}}else{var Be=xe+"Label";Y.hasOwnProperty(Be)&&(Ie=Y[Be])}return Me&&(Ie="("+Ie+")",(ae||he)&&(Ie=" "+Ie),(me||he)&&(Ie=Ie+" ")),Ie})}var N=48,Q=57;r.subplotSort=function(oe,Y){for(var V=Math.min(oe.length,Y.length)+1,W=0,X=0,re=0;re<V;re++){var ie=oe.charCodeAt(re)||0,K=Y.charCodeAt(re)||0,q=ie>=N&&ie<=Q,le=K>=N&&K<=Q;if(q&&(W=10*W+ie-N),le&&(X=10*X+K-N),!q||!le){if(W!==X)return W-X;if(ie!==K)return ie-K}}return X-W};var $=2e9;r.seedPseudoRandom=function(){$=2e9},r.pseudoRandom=function(){var oe=$;return $=(69069*$+1)%4294967296,Math.abs($-oe)<429496729?r.pseudoRandom():$/4294967296},r.fillText=function(oe,Y,V){var W=Array.isArray(V)?function(ie){V.push(ie)}:function(ie){V.text=ie},X=r.extractOption(oe,Y,"htx","hovertext");if(r.isValidTextValue(X))return W(X);var re=r.extractOption(oe,Y,"tx","text");if(r.isValidTextValue(re))return W(re)},r.isValidTextValue=function(oe){return oe||oe===0},r.formatPercent=function(oe,Y){Y=Y||0;for(var V=(Math.round(100*oe*Math.pow(10,Y))*Math.pow(.1,Y)).toFixed(Y)+"%",W=0;W<Y;W++)V.indexOf(".")!==-1&&(V=V.replace("0%","%"),V=V.replace(".%","%"));return V},r.isHidden=function(oe){var Y=window.getComputedStyle(oe).display;return!Y||Y==="none"},r.strTranslate=function(oe,Y){return oe||Y?"translate("+oe+","+Y+")":""},r.strRotate=function(oe){return oe?"rotate("+oe+")":""},r.strScale=function(oe){return oe!==1?"scale("+oe+")":""},r.getTextTransform=function(oe){var Y=oe.noCenter,V=oe.textX,W=oe.textY,X=oe.targetX,re=oe.targetY,ie=oe.anchorX||0,K=oe.anchorY||0,q=oe.rotate,le=oe.scale;return le?le>1&&(le=1):le=0,r.strTranslate(X-le*(V+ie),re-le*(W+K))+r.strScale(le)+(q?"rotate("+q+(Y?"":" "+V+" "+W)+")":"")},r.setTransormAndDisplay=function(oe,Y){oe.attr("transform",r.getTextTransform(Y)),oe.style("display",Y.scale?null:"none")},r.ensureUniformFontSize=function(oe,Y){var V=r.extendFlat({},Y);return V.size=Math.max(Y.size,oe._fullLayout.uniformtext.minsize||0),V},r.join2=function(oe,Y,V){var W=oe.length;return W>1?oe.slice(0,-1).join(Y)+V+oe[W-1]:oe.join(Y)},r.bigFont=function(oe){return Math.round(1.2*oe)};var j=r.getFirefoxVersion(),ee=j!==null&&j<86;r.getPositionFromD3Event=function(){return ee?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},41965:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(G,U,e){var p=e(65487),L=/^\w*$/,n=0,C=1,w=2,v=3,y=4;G.exports=function(r,l,a,s){a=a||"name",s=s||"value";var c,u,m,h={};l&&l.length?(m=p(r,l),u=m.get()):u=r,l=l||"";var T={};if(u)for(c=0;c<u.length;c++)T[u[c][a]]=c;var f=L.test(s),o={set:function(d,M){var A=M===null?y:n;if(!u){if(!m||A===y)return;u=[],m.set(u)}var E=T[d];if(E===void 0){if(A===y)return;A=A|v,E=u.length,T[d]=E}else M!==(f?u[E][s]:p(u[E],s).get())&&(A=A|w);var g=u[E]=u[E]||{};return g[a]=d,f?g[s]=M:p(g,s).set(M),M!==null&&(A=A&~y),h[E]=h[E]|A,o},get:function(d){if(u){var M=T[d];if(M!==void 0)return f?u[M][s]:p(u[M],s).get()}},rename:function(d,M){var A=T[d];return A===void 0||(h[A]=h[A]|C,T[M]=A,delete T[d],u[A][a]=M),o},remove:function(d){var M=T[d];if(M===void 0)return o;var A=u[M];if(Object.keys(A).length>2)return h[M]=h[M]|w,o.set(d,null);if(f){for(c=M;c<u.length;c++)h[c]=h[c]|v;for(c=M;c<u.length;c++)T[u[c][a]]--;u.splice(M,1),delete T[d]}else p(A,s).set(null),h[M]=h[M]|w|y;return o},constructUpdate:function(){for(var d,M,A={},E=Object.keys(h),g=0;g<E.length;g++)M=E[g],d=l+"["+M+"]",u[M]?(h[M]&C&&(A[d+"."+a]=u[M][a]),h[M]&w&&(f?A[d+"."+s]=h[M]&y?null:u[M][s]:A[d+"."+s]=h[M]&y?null:p(u[M],s).get())):A[d]=null;return A}};return o}},15867:function(G,U,e){var p=e(73972);G.exports=function(n,C){for(var w=n._context.locale,v=0;v<2;v++){for(var y=n._context.locales,t=0;t<2;t++){var r=(y[w]||{}).dictionary;if(r){var l=r[C];if(l)return l}y=p.localeRegistry}var a=w.split("-")[0];if(a===w)break;w=a}return C}},47769:function(G,U,e){var p=e(72075).dfltConfig,L=e(75046),n=G.exports={};n.log=function(){var C;if(p.logging>1){var w=["LOG:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.trace.apply(console,w)}if(p.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"long")}},n.warn=function(){var C;if(p.logging>0){var w=["WARN:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.trace.apply(console,w)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}},n.error=function(){var C;if(p.logging>0){var w=["ERROR:"];for(C=0;C<arguments.length;C++)w.push(arguments[C]);console.error.apply(console,w)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}}},77310:function(G,U,e){var p=e(39898);G.exports=function(n,C,w){var v=n.selectAll("g."+w.replace(/\s/g,".")).data(C,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",w),v.order();var y=n.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][y]=p.select(this)}),v}},35657:function(G,U,e){var p=e(79576);U.init2dArray=function(L,n){for(var C=new Array(L),w=0;w<L;w++)C[w]=new Array(n);return C},U.transposeRagged=function(L){var n=0,C=L.length,w,v;for(w=0;w<C;w++)n=Math.max(n,L[w].length);var y=new Array(n);for(w=0;w<n;w++)for(y[w]=new Array(C),v=0;v<C;v++)y[w][v]=L[v][w];return y},U.dot=function(L,n){if(!(L.length&&n.length)||L.length!==n.length)return null;var C=L.length,w,v;if(L[0].length)for(w=new Array(C),v=0;v<C;v++)w[v]=U.dot(L[v],n);else if(n[0].length){var y=U.transposeRagged(n);for(w=new Array(y.length),v=0;v<y.length;v++)w[v]=U.dot(L,y[v])}else for(w=0,v=0;v<C;v++)w+=L[v]*n[v];return w},U.translationMatrix=function(L,n){return[[1,0,L],[0,1,n],[0,0,1]]},U.rotationMatrix=function(L){var n=L*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},U.rotationXYMatrix=function(L,n,C){return U.dot(U.dot(U.translationMatrix(n,C),U.rotationMatrix(L)),U.translationMatrix(-n,-C))},U.apply3DTransform=function(L){return function(){var n=arguments,C=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return U.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},U.apply2DTransform=function(L){return function(){var n=arguments;n.length===3&&(n=n[0]);var C=arguments.length===1?n[0]:[n[0],n[1]];return U.dot(L,[C[0],C[1],1]).slice(0,2)}},U.apply2DTransform2=function(L){var n=U.apply2DTransform(L);return function(C){return n(C.slice(0,2)).concat(n(C.slice(2,4)))}},U.convertCssMatrix=function(L){if(L){var n=L.length;if(n===16)return L;if(n===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(L){var n=[];return p.invert(n,L),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},64872:function(G){function U(p,L){var n=p%L;return n<0?n+L:n}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}G.exports={mod:U,modHalf:e}},65487:function(G,U,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;G.exports=function(s,c){if(p(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";for(var u=0,m=c.split("."),h,T,f;u<m.length;){if(h=String(m[u]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),h){if(h[1])m[u]=h[1];else if(u===0)m.splice(0,1);else throw"bad property string";for(T=h[2].substr(1,h[2].length-2).split("]["),f=0;f<T.length;f++)u++,m.splice(u,0,Number(T[f]))}u++}return typeof s!="object"?l(s,c,m):{set:v(s,m,c),get:n(s,m),astr:c,parts:m,obj:s}};function n(a,s){return function(){var c=a,u,m,h,T,f;for(T=0;T<s.length-1;T++){if(u=s[T],u===-1){for(m=!0,h=[],f=0;f<c.length;f++)h[f]=n(c[f],s.slice(T+1))(),h[f]!==h[0]&&(m=!1);return m?h[0]:h}if(typeof u=="number"&&!L(c)||(c=c[u],typeof c!="object"||c===null))return}if(!(typeof c!="object"||c===null)&&(h=c[s[T]],h!==null))return h}}var C=/(^|\.)args\[/;function w(a,s){return a===void 0||a===null&&!s.match(C)}function v(a,s,c){return function(u){var m=a,h="",T=w(u,c),f,o;for(o=0;o<s.length-1;o++){if(f=s[o],typeof f=="number"&&!L(m))throw"array index but container is not an array";if(f===-1){if(T=!t(m,s.slice(o+1),u,c),T)break;return}if(!r(m,f,s[o+1],T))break;if(m=m[f],typeof m!="object"||m===null)throw"container is not an object";h=y(h,f)}if(T){if(o===s.length-1&&(delete m[s[o]],Array.isArray(m)&&+s[o]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[s[o]]=u}}function y(a,s){var c=s;return p(s)?c="["+s+"]":a&&(c="."+s),a+c}function t(a,s,c,u){var m=L(c),h=!0,T=c,f=u.replace("-1",0),o=m?!1:w(c,f),d=s[0],M;for(M=0;M<a.length;M++)f=u.replace("-1",M),m&&(T=c[M%c.length],o=w(T,f)),o&&(h=!1),r(a,M,d,o)&&v(a[M],s,u.replace("-1",M))(T);return h}function r(a,s,c,u){if(a[s]===void 0){if(u)return!1;typeof c=="number"?a[s]=[]:a[s]={}}return!0}function l(a,s,c){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:c,obj:a}}},64213:function(G){G.exports=function(){}},75046:function(G,U,e){var p=e(39898),L=e(92770),n=[];G.exports=function(C,w){if(n.indexOf(C)!==-1)return;n.push(C);var v=1e3;L(w)?v=w:w==="long"&&(v=3e3);var y=p.select("body").selectAll(".plotly-notifier").data([0]);y.enter().append("div").classed("plotly-notifier",!0);var t=y.selectAll(".notifier-note").data(n);function r(l){l.duration(700).style("opacity",0).each("end",function(a){var s=n.indexOf(a);s!==-1&&n.splice(s,1),p.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var a=p.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(r)});for(var s=a.append("p"),c=l.split(/<br\s*\/?>/g),u=0;u<c.length;u++)u&&s.append("br"),s.append("span").text(c[u]);w==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(G,U,e){var p=e(6964),L="data-savedcursor",n="!!";G.exports=function(w,v){var y=w.attr(L);if(v){if(!y){for(var t=(w.attr("class")||"").split(" "),r=0;r<t.length;r++){var l=t[r];l.indexOf("cursor-")===0&&w.attr(L,l.substr(7)).classed(l,!1)}w.attr(L)||w.attr(L,n)}p(w,v)}else y&&(w.attr(L,null),y===n?p(w):p(w,y))}},61082:function(G,U,e){var p=e(35657).dot,L=e(50606).BADNUM,n=G.exports={};n.tester=function(w){var v=w.slice(),y=v[0][0],t=y,r=v[0][1],l=r,a;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),a=1;a<v.length;a++)y=Math.min(y,v[a][0]),t=Math.max(t,v[a][0]),r=Math.min(r,v[a][1]),l=Math.max(l,v[a][1]);var s=!1,c;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(s=!0,c=function(f){return f[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(s=!0,c=function(f){return f[1]===v[0][1]}));function u(f,o){var d=f[0],M=f[1];return!(d===L||d<y||d>t||M===L||M<r||M>l||o&&c(f))}function m(f,o){var d=f[0],M=f[1];if(d===L||d<y||d>t||M===L||M<r||M>l)return!1;var A=v.length,E=v[0][0],g=v[0][1],S=0,b,i,P,x,k;for(b=1;b<A;b++)if(i=E,P=g,E=v[b][0],g=v[b][1],x=Math.min(i,E),!(d<x||d>Math.max(i,E)||M>Math.max(P,g)))if(M<Math.min(P,g))d!==x&&S++;else{if(E===i?k=M:k=P+(d-i)*(g-P)/(E-i),M===k)return!(b===1&&o);M<=k&&d!==x&&S++}return S%2===1}var h=!0,T=v[0];for(a=1;a<v.length;a++)if(T[0]!==v[a][0]||T[1]!==v[a][1]){h=!1;break}return{xmin:y,xmax:t,ymin:r,ymax:l,pts:v,contains:s?u:m,isRect:s,degenerate:h}},n.isSegmentBent=function(w,v,y,t){var r=w[v],l=[w[y][0]-r[0],w[y][1]-r[1]],a=p(l,l),s=Math.sqrt(a),c=[-l[1]/s,l[0]/s],u,m,h;for(u=v+1;u<y;u++)if(m=[w[u][0]-r[0],w[u][1]-r[1]],h=p(m,l),h<0||h>a||Math.abs(p(m,c))>t)return!0;return!1},n.filter=function(w,v){var y=[w[0]],t=0,r=0;function l(s){w.push(s);var c=y.length,u=t;y.splice(r+1);for(var m=u+1;m<w.length;m++)(m===w.length-1||n.isSegmentBent(w,u,m+1,v))&&(y.push(w[m]),y.length<c-2&&(t=m,r=y.length-1),u=m)}if(w.length>1){var a=w.pop();l(a)}return{addPt:l,raw:w,filtered:y}}},79749:function(G,U,e){var p=e(58617),L=e(98580);G.exports=function(C,w,v){var y=C._fullLayout,t=!0;return y._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!y._has("parcoords"))){try{r.regl=L({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(l){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:l,layer:r.key})},!1)}}),t||p({container:y._glcontainer.node()}),t}},45142:function(G,U,e){var p=e(92770),L=e(35791);G.exports=function(w){var v;if(w&&w.hasOwnProperty("userAgent")?v=w.userAgent:v=n(),typeof v!="string")return!0;var y=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!y)for(var t=v.split(" "),r=1;r<t.length;r++){var l=t[r];if(l.indexOf("Safari")!==-1)for(var a=r-1;a>-1;a--){var s=t[a];if(s.substr(0,8)==="Version/"){var c=s.substr(8).split(".")[0];if(p(c)&&(c=+c),c>=13)return!0}}}return y};function n(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(G){G.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},10847:function(G,U,e){var p=e(71828),L=e(72075).dfltConfig;function n(w,v){for(var y=[],t,r=0;r<v.length;r++)t=v[r],t===w?y[r]=t:typeof t=="object"?y[r]=Array.isArray(t)?p.extendDeep([],t):p.extendDeepAll({},t):y[r]=t;return y}var C={};C.add=function(w,v,y,t,r){var l,a;if(w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},a=w.undoQueue.index,w.autoplay){w.undoQueue.inSequence||(w.autoplay=!1);return}!w.undoQueue.sequence||w.undoQueue.beginSequence?(l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(a,w.undoQueue.queue.length-a,l),w.undoQueue.index+=1):l=w.undoQueue.queue[a-1],w.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(v),l.undo.args.unshift(y),l.redo.calls.push(t),l.redo.args.push(r)),w.undoQueue.queue.length>L.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--)},C.startSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},C.stopSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},C.undo=function(v){var y,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,y=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<y.undo.calls.length;t++)C.plotDo(v,y.undo.calls[t],y.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var y,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(y=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<y.redo.calls.length;t++)C.plotDo(v,y.redo.calls[t],y.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(w,v,y){w.autoplay=!0,y=n(w,y),v.apply(null,y)},G.exports=C},30587:function(G,U){U.counter=function(e,p,L,n){var C=(p||"")+(L?"":"$"),w=n===!1?"":"^";return e==="xy"?new RegExp(w+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(w+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(G){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(p,L){for(;L;){var n=p.match(U);if(n)p=n[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51332:function(G,U,e){var p=e(73627).isArrayOrTypedArray,L=e(41965);G.exports=function n(C,w){for(var v in w){var y=w[v],t=C[v];if(t!==y)if(v.charAt(0)==="_"||typeof y=="function"){if(v in C)continue;C[v]=y}else if(p(y)&&p(t)&&L(y[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(y.length,t.length),l=0;l<r;l++)t[l]!==y[l]&&L(y[l])&&L(t[l])&&n(t[l],y[l])}else L(y)&&L(t)&&(n(t,y),Object.keys(t).length||delete C[v])}}},65888:function(G,U,e){var p=e(92770),L=e(47769),n=e(23389),C=e(50606).BADNUM,w=1e-9;U.findBin=function(l,a,s){if(p(a.start))return s?Math.ceil((l-a.start)/a.size-w)-1:Math.floor((l-a.start)/a.size+w);var c=0,u=a.length,m=0,h=u>1?(a[u-1]-a[0])/(u-1):1,T,f;for(h>=0?f=s?v:y:f=s?r:t,l+=h*w*(s?-1:1)*(h>=0?1:-1);c<u&&m++<100;)T=Math.floor((c+u)/2),f(a[T],l)?c=T+1:u=T;return m>90&&L.log("Long binary search..."),c-1};function v(l,a){return l<a}function y(l,a){return l<=a}function t(l,a){return l>a}function r(l,a){return l>=a}U.sorterAsc=function(l,a){return l-a},U.sorterDes=function(l,a){return a-l},U.distinctVals=function(l){var a=l.slice();a.sort(U.sorterAsc);var s;for(s=a.length-1;s>-1&&a[s]===C;s--);for(var c=a[s]-a[0]||1,u=c/(s||1)/1e4,m=[],h,T=0;T<=s;T++){var f=a[T],o=f-h;h===void 0?(m.push(f),h=f):o>u&&(c=Math.min(c,o),m.push(f),h=f)}return{vals:m,minDiff:c}},U.roundUp=function(l,a,s){for(var c=0,u=a.length-1,m,h=0,T=s?0:1,f=s?1:0,o=s?Math.ceil:Math.floor;c<u&&h++<100;)m=o((c+u)/2),a[m]<=l?c=m+T:u=m-f;return a[c]},U.sort=function(l,a){for(var s=0,c=0,u=1;u<l.length;u++){var m=a(l[u],l[u-1]);if(m<0?s=1:m>0&&(c=1),s&&c)return l.sort(a)}return c?l:l.reverse()},U.findIndexOfMin=function(l,a){a=a||n;for(var s=1/0,c,u=0;u<l.length;u++){var m=a(l[u]);m<s&&(s=m,c=u)}return c}},6964:function(G){G.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},58617:function(G,U,e){var p=e(7901),L=function(){};G.exports=function(C){for(var w in C)typeof C[w]=="function"&&(C[w]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=p.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=p.lightLine,v.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",v.appendChild(y),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(G){G.exports=function(e){return Object.keys(e).sort()}},80038:function(G,U,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;U.aggNums=function(n,C,w,v){var y,t;if((!v||v>w.length)&&(v=w.length),p(C)||(C=!1),L(w[0])){for(t=new Array(v),y=0;y<v;y++)t[y]=U.aggNums(n,C,w[y]);w=t}for(y=0;y<v;y++)p(C)?p(w[y])&&(C=n(+C,+w[y])):C=w[y];return C},U.len=function(n){return U.aggNums(function(C){return C+1},0,n)},U.mean=function(n,C){return C||(C=U.len(n)),U.aggNums(function(w,v){return w+v},0,n)/C},U.midRange=function(n){if(!(n===void 0||n.length===0))return(U.aggNums(Math.max,null,n)+U.aggNums(Math.min,null,n))/2},U.variance=function(n,C,w){return C||(C=U.len(n)),p(w)||(w=U.mean(n,C)),U.aggNums(function(v,y){return v+Math.pow(y-w,2)},0,n)/C},U.stdev=function(n,C,w){return Math.sqrt(U.variance(n,C,w))},U.median=function(n){var C=n.slice().sort();return U.interp(C,.5)},U.interp=function(n,C){if(!p(C))throw"n should be a finite number";if(C=C*n.length-.5,C<0)return n[0];if(C>n.length-1)return n[n.length-1];var w=C%1;return w*n[Math.ceil(C)]+(1-w)*n[Math.floor(C)]}},78614:function(G,U,e){var p=e(25075);function L(n){return n?p(n):[0,0,0,1]}G.exports=L},63893:function(G,U,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),w=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(O,F,N){var Q=O.text(),$=!O.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&Q.match(v),j=p.select(O.node().parentNode);if(j.empty())return;var ee=O.attr("class")?O.attr("class").split(" ")[0]:"text";ee+="-math",j.selectAll("svg."+ee).remove(),j.selectAll("g."+ee+"-group").remove(),O.style("display",null).attr({"data-unformatted":Q,"data-math":"N"});function oe(){j.empty()||(ee=O.attr("class")+"-math",j.select("svg."+ee).remove()),O.text("").style("white-space","pre");var Y=_(O.node(),Q);Y&&O.style("pointer-events","all"),U.positionText(O),N&&N.call(O)}return $?(F&&F._promises||[]).push(new Promise(function(Y){O.style("display","none");var V=parseInt(O.node().style.fontSize,10),W={fontSize:V};a($[2],W,function(X,re,ie){j.selectAll("svg."+ee).remove(),j.selectAll("g."+ee+"-group").remove();var K=X&&X.select("svg");if(!K||!K.node()){oe(),Y();return}var q=j.append("g").classed(ee+"-group",!0).attr({"pointer-events":"none","data-unformatted":Q,"data-math":"Y"});q.node().appendChild(K.node()),re&&re.node()&&K.node().insertBefore(re.node().cloneNode(!0),K.node().firstChild);var le=ie.width,ae=ie.height;K.attr({class:ee,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=O.node().style.fill||"black",me=K.select("g");me.attr({fill:he,stroke:he});var Me=me.node().getBoundingClientRect(),xe=Me.width,Ie=Me.height;(xe>le||Ie>ae)&&(K.style("overflow","hidden"),Me=K.node().getBoundingClientRect(),xe=Me.width,Ie=Me.height);var _e=+O.attr("x"),Te=+O.attr("y"),ye=V||O.node().getBoundingClientRect().height,Ae=-ye/4;if(ee[0]==="y")q.attr({transform:"rotate("+[-90,_e,Te]+")"+n(-xe/2,Ae-Ie/2)});else if(ee[0]==="l")Te=Ae-Ie/2;else if(ee[0]==="a"&&ee.indexOf("atitle")!==0)_e=0,Te=Ae;else{var Be=O.attr("text-anchor");_e=_e-xe*(Be==="middle"?.5:Be==="end"?1:0),Te=Te+Ae-Ie/2}K.attr({x:_e,y:Te}),N&&N.call(O,q),Y(q)})})):oe(),O};var y=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(O){return O.replace(y,"\\lt ").replace(t,"\\gt ")}var l=[["$","$"],["\\(","\\)"]];function a(O,F,N){var Q=parseInt((MathJax.version||"").split(".")[0]);if(Q!==2&&Q!==3){L.warn("No MathJax version:",MathJax.version);return}var $,j,ee,oe,Y=function(){return j=L.extendDeepAll({},MathJax.Hub.config),ee=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},V=function(){j=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l},W=function(){if($=MathJax.Hub.config.menuSettings.renderer,$!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){$=MathJax.config.startup.output,$!=="svg"&&(MathJax.config.startup.output="svg")},re=function(){var he="math-output-"+L.randstr({},64);oe=p.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(r(O));var me=oe.node();return Q===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},ie=function(){var he=oe.select(Q===2?".MathJax_SVG":".MathJax"),me=!he.empty()&&oe.select("svg").node();if(!me)L.log("There was an error in the tex syntax.",O),N();else{var Me=me.getBoundingClientRect(),xe;Q===2?xe=p.select("body").select("#MathJax_SVG_glyphs"):xe=he.select("defs"),N(he,xe,Me)}oe.remove()},K=function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},q=function(){$!=="svg"&&(MathJax.config.startup.output=$)},le=function(){return ee!==void 0&&(MathJax.Hub.processSectionDelay=ee),MathJax.Hub.Config(j)},ae=function(){MathJax.config=j};Q===2?MathJax.Hub.Queue(Y,W,re,ie,K,le):Q===3&&(V(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){re(),ie(),q(),ae()}))}var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},m="​",h=["http:","https:","mailto:","",void 0,":"],T=U.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,g=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(O,F){if(!O)return null;var N=O.match(F),Q=N&&(N[3]||N[4]);return Q&&x(Q)}var b=/(^|;)\s*color:/;U.plainText=function(O,F){F=F||{};for(var N=F.len!==void 0&&F.len!==-1?F.len:1/0,Q=F.allowedTags!==void 0?F.allowedTags:["br"],$="...",j=$.length,ee=O.split(f),oe=[],Y="",V=0,W=0;W<ee.length;W++){var X=ee[W],re=X.match(o),ie=re&&re[2].toLowerCase();if(ie)Q.indexOf(ie)!==-1&&(oe.push(X),Y=ie);else{var K=X.length;if(V+K<N)oe.push(X),V+=K;else if(V<N){var q=N-V;Y&&(Y!=="br"||q<=j||K<=j)&&oe.pop(),N>j?oe.push(X.substr(0,q-j)+$):oe.push(X.substr(0,q));break}Y=""}}return oe.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function x(O){return O.replace(P,function(F,N){var Q;return N.charAt(0)==="#"?Q=k(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):Q=i[N],Q||F})}U.convertEntities=x;function k(O){if(!(O>1114111)){var F=String.fromCodePoint;if(F)return F(O);var N=String.fromCharCode;return O<=65535?N(O):N((O>>10)+55232,O%1024+56320)}}function _(O,F){F=F.replace(T," ");var N=!1,Q=[],$,j=-1;function ee(){j++;var Ie=document.createElementNS(C.svg,"tspan");p.select(Ie).attr({class:"line",dy:j*w+"em"}),O.appendChild(Ie),$=Ie;var _e=Q;if(Q=[{node:Ie}],_e.length>1)for(var Te=1;Te<_e.length;Te++)oe(_e[Te])}function oe(Ie){var _e=Ie.type,Te={},ye;if(_e==="a"){ye="a";var Ae=Ie.target,Be=Ie.href,Ue=Ie.popup;Be&&(Te={"xlink:xlink:show":Ae==="_blank"||Ae.charAt(0)!=="_"?"new":"replace",target:Ae,"xlink:xlink:href":Be},Ue&&(Te.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else ye="tspan";Ie.style&&(Te.style=Ie.style);var De=document.createElementNS(C.svg,ye);if(_e==="sup"||_e==="sub"){Y($,m),$.appendChild(De);var He=document.createElementNS(C.svg,"tspan");Y(He,m),p.select(He).attr("dy",u[_e]),Te.dy=c[_e],$.appendChild(De),$.appendChild(He)}else $.appendChild(De);p.select(De).attr(Te),$=Ie.node=De,Q.push(Ie)}function Y(Ie,_e){Ie.appendChild(document.createTextNode(_e))}function V(Ie){if(Q.length===1){L.log("Ignoring unexpected end tag </"+Ie+">.",F);return}var _e=Q.pop();Ie!==_e.type&&L.log("Start tag <"+_e.type+"> doesnt match end tag <"+Ie+">. Pretending it did match.",F),$=Q[Q.length-1].node}var W=d.test(F);W?ee():($=O,Q=[{node:O}]);for(var X=F.split(f),re=0;re<X.length;re++){var ie=X[re],K=ie.match(o),q=K&&K[2].toLowerCase(),le=s[q];if(q==="br")ee();else if(le===void 0)Y($,x(ie));else if(K[1])V(q);else{var ae=K[4],he={type:q},me=S(ae,M);if(me?(me=me.replace(b,"$1 fill:"),le&&(me+=";"+le)):le&&(me=le),me&&(he.style=me),q==="a"){N=!0;var Me=S(ae,A);if(Me){var xe=B(Me);xe&&(he.href=xe,he.target=S(ae,E)||"_blank",he.popup=S(ae,g))}}oe(he)}}return N}function B(O){var F=encodeURI(decodeURI(O)),N=document.createElement("a"),Q=document.createElement("a");N.href=O,Q.href=F;var $=N.protocol,j=Q.protocol;return h.indexOf($)!==-1&&h.indexOf(j)!==-1?F:""}U.sanitizeHTML=function(F){F=F.replace(T," ");for(var N=document.createElement("p"),Q=N,$=[],j=F.split(f),ee=0;ee<j.length;ee++){var oe=j[ee],Y=oe.match(o),V=Y&&Y[2].toLowerCase();if(V in s)if(Y[1])$.length&&(Q=$.pop());else{var W=Y[4],X=S(W,M),re=X?{style:X}:{};if(V==="a"){var ie=S(W,A);if(ie){var K=B(ie);if(K){re.href=K;var q=S(W,E);q&&(re.target=q)}}}var le=document.createElement(V);Q.appendChild(le),p.select(le).attr(re),Q=le,$.push(le)}else Q.appendChild(document.createTextNode(x(oe)))}var ae="innerHTML";return N[ae]},U.lineCount=function(F){return F.selectAll("tspan.line").size()||1},U.positionText=function(F,N,Q){return F.each(function(){var $=p.select(this);function j(Y,V){return V===void 0?(V=$.attr(Y),V===null&&($.attr(Y,0),V=0)):$.attr(Y,V),V}var ee=j("x",N),oe=j("y",Q);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:ee,y:oe})})};function I(O,F,N){var Q=N.horizontalAlign,$=N.verticalAlign||"top",j=O.node().getBoundingClientRect(),ee=F.node().getBoundingClientRect(),oe,Y,V;return $==="bottom"?Y=function(){return j.bottom-oe.height}:$==="middle"?Y=function(){return j.top+(j.height-oe.height)/2}:Y=function(){return j.top},Q==="right"?V=function(){return j.right-oe.width}:Q==="center"?V=function(){return j.left+(j.width-oe.width)/2}:V=function(){return j.left},function(){oe=this.node().getBoundingClientRect();var W=V()-ee.left,X=Y()-ee.top,re=N.gd||{};if(N.gd){re._fullLayout._calcInverseTransform(re);var ie=L.apply3DTransform(re._fullLayout._invTransform)(W,X);W=ie[0],X=ie[1]}return this.style({top:X+"px",left:W+"px","z-index":1e3}),this}}var z="1px ";U.makeTextShadow=function(O){var F=z,N=z,Q=z;return F+N+Q+O+", -"+F+"-"+N+Q+O+", "+F+"-"+N+Q+O+", -"+F+N+Q+O},U.makeEditable=function(O,F){var N=F.gd,Q=F.delegate,$=p.dispatch("edit","input","cancel"),j=Q||O;if(O.style({"pointer-events":Q?"none":"all"}),O.size()!==1)throw new Error("boo");function ee(){Y(),O.style({opacity:0});var V=j.attr("class"),W;V?W="."+V.split(" ")[0]+"-math-group":W="[class*=-math-group]",W&&p.select(O.node().parentNode).select(W).style({opacity:0})}function oe(V){var W=V.node(),X=document.createRange();X.selectNodeContents(W);var re=window.getSelection();re.removeAllRanges(),re.addRange(X),W.focus()}function Y(){var V=p.select(N),W=V.select(".svg-container"),X=W.append("div"),re=O.node().style,ie=parseFloat(re.fontSize||12),K=F.text;K===void 0&&(K=O.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":ie,color:F.fill||re.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ie/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(K).call(I(O,W,F)).on("blur",function(){N._editing=!1,O.text(this.textContent).style({opacity:1});var q=p.select(this).attr("class"),le;q?le="."+q.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&p.select(O.node().parentNode).select(le).style({opacity:0});var ae=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),$.edit.call(O,ae)}).on("focus",function(){var q=this;N._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===q)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){p.event.which===27?(N._editing=!1,O.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(O,this.textContent)):($.input.call(O,this.textContent),p.select(this).call(I(O,W,F)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(oe)}return F.immediate?ee():j.on("click",ee),p.rebind(O,$,"on")}},79990:function(G,U){var e={};U.throttle=function(n,C,w){var v=e[n],y=Date.now();if(!v){for(var t in e)e[t].ts<y-6e4&&delete e[t];v=e[n]={ts:0,timer:null}}p(v);function r(){w(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(y>v.ts+C){r();return}v.timer=setTimeout(function(){r(),v.timer=null},C)},U.done=function(L){var n=e[L];return!n||!n.timer?Promise.resolve():new Promise(function(C){var w=n.onDone;n.onDone=function(){w&&w(),C(),n.onDone=null}})},U.clear=function(L){if(L)p(e[L]),delete e[L];else for(var n in e)U.clear(n)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},58163:function(G,U,e){var p=e(92770);G.exports=function(n,C){if(n>0)return Math.log(n)/Math.LN10;var w=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(w)||(w=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),w}},90973:function(G,U,e){var p=G.exports={},L=e(78776).locationmodeToLayer,n=e(96892).zL;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,w){return C+w+".json"},p.getTopojsonFeatures=function(C,w){var v=L[C.locationmode],y=w.objects[v];return n(w,y).features}},37815:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(G,U,e){var p=e(73972);G.exports=function(n){for(var C=p.layoutArrayContainers,w=p.layoutArrayRegexes,v=n.split("[")[0],y,t,r=0;r<w.length;r++)if(t=n.match(w[r]),t&&t.index===0){y=t[0];break}if(y||(y=C[C.indexOf(v)]),!y)return!1;var l=n.substr(y.length);return l?(t=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:y,index:Number(t[1]),property:t[3]||""}:!1):{array:y,index:"",property:""}}},30962:function(G,U,e){var p=e(71828),L=p.extendFlat,n=p.isPlainObject,C={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},w={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},v=C.flags.slice().concat(["fullReplot"]),y=w.flags.slice().concat("layoutReplot");G.exports={traces:C,layout:w,traceFlags:function(){return t(v)},layoutFlags:function(){return t(y)},update:function(a,s){var c=s.editType;if(c&&c!=="none")for(var u=c.split("+"),m=0;m<u.length;m++)a[u[m]]=!0},overrideAll:r};function t(a){for(var s={},c=0;c<a.length;c++)s[a[c]]=!1;return s}function r(a,s,c){var u=L({},a);for(var m in u){var h=u[m];n(h)&&(u[m]=l(h,s,c,m))}return c==="from-root"&&(u.editType=s),u}function l(a,s,c,u){if(a.valType){var m=L({},a);if(m.editType=s,Array.isArray(a.items)){m.items=new Array(a.items.length);for(var h=0;h<a.items.length;h++)m.items[h]=l(a.items[h],s)}return m}else return r(a,s,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(G,U,e){var p=e(92770),L=e(27812),n=e(73972),C=e(71828),w=e(74875),v=e(41675),y=e(7901),t=v.cleanId,r=v.getFromTrace,l=n.traceIs;U.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},U.cleanLayout=function(d){var M,A;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var E=(w.subplotsRegistry.cartesian||{}).attrRegex,g=(w.subplotsRegistry.polar||{}).attrRegex,S=(w.subplotsRegistry.ternary||{}).attrRegex,b=(w.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(d);for(M=0;M<i.length;M++){var P=i[M];if(E&&E.test(P)){var x=d[P];x.anchor&&x.anchor!=="free"&&(x.anchor=t(x.anchor)),x.overlaying&&(x.overlaying=t(x.overlaying)),x.type||(x.isdate?x.type="date":x.islog?x.type="log":x.isdate===!1&&x.islog===!1&&(x.type="linear")),(x.autorange==="withzero"||x.autorange==="tozero")&&(x.autorange=!0,x.rangemode="tozero"),delete x.islog,delete x.isdate,delete x.categories,h(x,"domain")&&delete x.domain,x.autotick!==void 0&&(x.tickmode===void 0&&(x.tickmode=x.autotick?"auto":"linear"),delete x.autotick),s(x)}else if(g&&g.test(P)){var k=d[P];s(k.radialaxis)}else if(S&&S.test(P)){var _=d[P];s(_.aaxis),s(_.baxis),s(_.caxis)}else if(b&&b.test(P)){var B=d[P],I=B.cameraposition;if(Array.isArray(I)&&I[0].length===4){var z=I[0],O=I[1],F=I[2],N=L([],z),Q=[];for(A=0;A<3;++A)Q[A]=O[A]+F*N[2+4*A];B.camera={eye:{x:Q[0],y:Q[1],z:Q[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}s(B.xaxis),s(B.yaxis),s(B.zaxis)}}var $=Array.isArray(d.annotations)?d.annotations.length:0;for(M=0;M<$;M++){var j=d.annotations[M];C.isPlainObject(j)&&(j.ref&&(j.ref==="paper"?(j.xref="paper",j.yref="paper"):j.ref==="data"&&(j.xref="x",j.yref="y"),delete j.ref),a(j,"xref"),a(j,"yref"))}var ee=Array.isArray(d.shapes)?d.shapes.length:0;for(M=0;M<ee;M++){var oe=d.shapes[M];C.isPlainObject(oe)&&(a(oe,"xref"),a(oe,"yref"))}var Y=Array.isArray(d.images)?d.images.length:0;for(M=0;M<Y;M++){var V=d.images[M];C.isPlainObject(V)&&(a(V,"xref"),a(V,"yref"))}var W=d.legend;return W&&(W.x>3?(W.x=1.02,W.xanchor="left"):W.x<-2&&(W.x=-.02,W.xanchor="right"),W.y>3?(W.y=1.02,W.yanchor="bottom"):W.y<-2&&(W.y=-.02,W.yanchor="top")),s(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),y.clean(d),d.template&&d.template.layout&&U.cleanLayout(d.template.layout),d};function a(d,M){var A=d[M],E=M.charAt(0);A&&A!=="paper"&&(d[M]=t(A,E,!0))}function s(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"));function M(A,E){var g=d[A],S=d.title&&d.title[E];g&&!S&&(d.title||(d.title={}),d.title[E]=d[A],delete d[A])}}U.cleanData=function(d){for(var M=0;M<d.length;M++){var A=d[M],E;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var g=y.defaults,S=A.error_y.color||(l(A,"bar")?y.defaultLine:g[M%g.length]);A.error_y.color=y.addOpacity(y.rgb(S),y.opacity(S)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(l(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",U.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&U.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=t(A.xaxis,"x")),A.yaxis&&(A.yaxis=t(A.yaxis,"y")),l(A,"gl3d")&&A.scene&&(A.scene=w.subplotsRegistry.gl3d.cleanId(A.scene)),!l(A,"pie-like")&&!l(A,"bar-like"))if(Array.isArray(A.textposition))for(E=0;E<A.textposition.length;E++)A.textposition[E]=m(A.textposition[E]);else A.textposition&&(A.textposition=m(A.textposition));var b=n.getModule(A);if(b&&b.colorbar){var i=b.colorbar.container,P=i?A[i]:A;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(A.type==="surface"&&C.isPlainObject(A.contours)){var x=["x","y","z"];for(E=0;E<x.length;E++){var k=A.contours[x[E]];C.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var _=(A.increasing||{}).showlegend!==!1,B=(A.decreasing||{}).showlegend!==!1,I=c(A.increasing),z=c(A.decreasing);if(I!==!1&&z!==!1){var O=u(I,z,_,B);O&&(A.name=O)}else(I||z)&&!A.name&&(A.name=I||z)}if(Array.isArray(A.transforms)){var F=A.transforms;for(E=0;E<F.length;E++){var N=F[E];if(C.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var Q=N.styles,$=Object.keys(Q);N.styles=[];for(var j=0;j<$.length;j++)N.styles.push({target:$[j],value:Q[$[j]]})}break}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),y.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),s(A),A.colorbar&&s(A.colorbar),A.marker&&A.marker.colorbar&&s(A.marker.colorbar),A.line&&A.line.colorbar&&s(A.line.colorbar),A.aaxis&&s(A.aaxis),A.baxis&&s(A.baxis)}};function c(d){if(!C.isPlainObject(d))return!1;var M=d.name;return delete d.name,delete d.showlegend,(typeof M=="string"||typeof M=="number")&&String(M)}function u(d,M,A,E){if(A&&!E)return d;if(E&&!A||!d.trim())return M;if(!M.trim())return d;var g=Math.min(d.length,M.length),S;for(S=0;S<g&&d.charAt(S)===M.charAt(S);S++);var b=d.substr(0,S);return b.trim()}function m(d){var M="middle",A="center";return typeof d=="string"&&(d.indexOf("top")!==-1?M="top":d.indexOf("bottom")!==-1&&(M="bottom"),d.indexOf("left")!==-1?A="left":d.indexOf("right")!==-1&&(A="right")),M+" "+A}function h(d,M){return M in d&&typeof d[M]=="object"&&Object.keys(d[M]).length===0}U.swapXYData=function(d){var M;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var A=d.error_y,E="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);C.swapAttrs(d,["error_?.copy_ystyle"]),E&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var g=d.hoverinfo.split("+");for(M=0;M<g.length;M++)g[M]==="x"?g[M]="y":g[M]==="y"&&(g[M]="x");d.hoverinfo=g.join("+")}},U.coerceTraceIndices=function(d,M){if(p(M))return[M];if(!Array.isArray(M)||!M.length)return d.data.map(function(g,S){return S});if(Array.isArray(M)){for(var A=[],E=0;E<M.length;E++)C.isIndex(M[E],d.data.length)?A.push(M[E]):C.warn("trace index (",M[E],") is not a number or is out of bounds");return A}return M},U.manageArrayContainers=function(d,M,A){var E=d.obj,g=d.parts,S=g.length,b=g[S-1],i=p(b);if(i&&M===null){var P=g.slice(0,S-1).join("."),x=C.nestedProperty(E,P).get();x.splice(b,1)}else i&&d.get()===void 0&&d.get()===void 0&&(A[d.astr]=null),d.set(M)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function f(d){var M=d.search(T);if(M>0)return d.substr(0,M)}U.hasParent=function(d,M){for(var A=f(M);A;){if(A in d)return!0;A=f(A)}return!1};var o=["x","y","z"];U.clearAxisTypes=function(d,M,A){for(var E=0;E<M.length;E++)for(var g=d._fullData[E],S=0;S<3;S++){var b=r(d,g,o[S]);if(b&&b.type!=="log"){var i=b._name,P=b._id.substr(1);if(P.substr(0,5)==="scene"){if(A[P]!==void 0)continue;i=P+"."+i}var x=i+".type";A[i]===void 0&&A[x]===void 0&&C.nestedProperty(d.layout,x).set(null)}}}},10641:function(G,U,e){var p=e(72391);U._doPlot=p._doPlot,U.newPlot=p.newPlot,U.restyle=p.restyle,U.relayout=p.relayout,U.redraw=p.redraw,U.update=p.update,U._guiRestyle=p._guiRestyle,U._guiRelayout=p._guiRelayout,U._guiUpdate=p._guiUpdate,U._storeDirectGUIEdit=p._storeDirectGUIEdit,U.react=p.react,U.extendTraces=p.extendTraces,U.prependTraces=p.prependTraces,U.addTraces=p.addTraces,U.deleteTraces=p.deleteTraces,U.moveTraces=p.moveTraces,U.purge=p.purge,U.addFrames=p.addFrames,U.deleteFrames=p.deleteFrames,U.animate=p.animate,U.setPlotConfig=p.setPlotConfig,U.toImage=e(403),U.validate=e(84936),U.downloadImage=e(7239);var L=e(96318);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},6611:function(G,U,e){var p=e(41965),L=e(64213),n=e(47769),C=e(65888).sorterAsc,w=e(73972);U.containerArrayMatch=e(14458);var v=U.isAddVal=function(r){return r==="add"||p(r)},y=U.isRemoveVal=function(r){return r===null||r==="remove"};U.applyContainerArrayChanges=function(r,l,a,s,c){var u=l.astr,m=w.getComponentMethod(u,"supplyLayoutDefaults"),h=w.getComponentMethod(u,"draw"),T=w.getComponentMethod(u,"drawOne"),f=s.replot||s.recalc||m===L||h===L,o=r.layout,d=r._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",u);var M=a[""][""];if(y(M))l.set(null);else if(Array.isArray(M))l.set(M);else return n.warn("Unrecognized full array edit value",u,M),!0;return f?!1:(m(o,d),h(r),!0)}var A=Object.keys(a).map(Number).sort(C),E=l.get(),g=E||[],S=c(d,u).get(),b=[],i=-1,P=g.length,x,k,_,B,I,z,O,F;for(x=0;x<A.length;x++){if(_=A[x],B=a[_],I=Object.keys(B),z=B[""],O=v(z),_<0||_>g.length-(O?0:1)){n.warn("index out of range",u,_);continue}if(z!==void 0)I.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",u,_),y(z)?b.push(_):O?(z==="add"&&(z={}),g.splice(_,0,z),S&&S.splice(_,0,{})):n.warn("Unrecognized full object edit value",u,_,z),i===-1&&(i=_);else for(k=0;k<I.length;k++)F=u+"["+_+"].",c(g[_],I[k],F).set(B[I[k]])}for(x=b.length-1;x>=0;x--)g.splice(b[x],1),S&&S.splice(b[x],1);if(g.length?E||l.set(g):l.set(null),f)return!1;if(m(o,d),T!==L){var N;if(i===-1)N=A;else{for(P=Math.max(g.length,P),N=[],x=0;x<A.length&&(_=A[x],!(_>=i));x++)N.push(_);for(x=i;x<P;x++)N.push(x)}for(x=0;x<N.length;x++)T(r,N[x])}else h(r);return!0}},72391:function(G,U,e){var p=e(39898),L=e(92770),n=e(57035),C=e(71828),w=C.nestedProperty,v=e(11086),y=e(10847),t=e(73972),r=e(86281),l=e(74875),a=e(89298),s=e(91424),c=e(7901),u=e(4305).initInteractions,m=e(77922),h=e(47322).clearOutline,T=e(72075).dfltConfig,f=e(6611),o=e(58377),d=e(61549),M=e(30962),A=e(85555).AX_NAME_PATTERN,E=0,g=5;function S(ue,ge,Le,ke){var it;if(ue=C.getGraphDiv(ue),v.init(ue),C.isPlainObject(ge)){var lt=ge;ge=lt.data,Le=lt.layout,ke=lt.config,it=lt.frames}var bt=v.triggerHandler(ue,"plotly_beforeplot",[ge,Le,ke]);if(bt===!1)return Promise.reject();!ge&&!Le&&!C.isPlotDiv(ue)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ue);function Rt(){if(it)return U.addFrames(ue,it)}k(ue,ke),Le||(Le={}),p.select(ue).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(ue._promises)||(ue._promises=[]);var Ut=(ue.data||[]).length===0&&Array.isArray(ge);Array.isArray(ge)&&(o.cleanData(ge),Ut?ue.data=ge:ue.data.push.apply(ue.data,ge),ue.empty=!1),(!ue.layout||Ut)&&(ue.layout=o.cleanLayout(Le)),l.supplyDefaults(ue);var Gt=ue._fullLayout,_t=Gt._has("cartesian");Gt._replotting=!0,(Ut||Gt._shouldCreateBgLayer)&&(we(ue),Gt._shouldCreateBgLayer&&delete Gt._shouldCreateBgLayer),s.initGradients(ue),s.initPatterns(ue),Ut&&a.saveShowSpikeInitial(ue);var nr=!ue.calcdata||ue.calcdata.length!==(ue._fullData||[]).length;nr&&l.doCalcdata(ue);for(var lr=0;lr<ue.calcdata.length;lr++)ue.calcdata[lr][0].trace=ue._fullData[lr];ue._context.responsive?ue._responsiveChartHandler||(ue._responsiveChartHandler=function(){C.isHidden(ue)||l.resize(ue)},window.addEventListener("resize",ue._responsiveChartHandler)):C.clearResponsive(ue);var zr=C.extendFlat({},Gt._size),mt=0;function jt(){for(var St=Gt._basePlotModules,Ot=0;Ot<St.length;Ot++)St[Ot].drawFramework&&St[Ot].drawFramework(ue);!Gt._glcanvas&&Gt._has("gl")&&(Gt._glcanvas=Gt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(or){return or.key}),Gt._glcanvas.enter().append("canvas").attr("class",function(or){return"gl-canvas gl-canvas-"+or.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Vt=ue._context.plotGlPixelRatio;if(Gt._glcanvas){Gt._glcanvas.attr("width",Gt.width*Vt).attr("height",Gt.height*Vt).style("width",Gt.width+"px").style("height",Gt.height+"px");var Qt=Gt._glcanvas.data()[0].regl;if(Qt&&(Math.floor(Gt.width*Vt)!==Qt._gl.drawingBufferWidth||Math.floor(Gt.height*Vt)!==Qt._gl.drawingBufferHeight)){var Kt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(mt)C.error(Kt);else return C.log(Kt+" Clearing graph and plotting again."),l.cleanPlot([],{},ue._fullData,Gt),l.supplyDefaults(ue),Gt=ue._fullLayout,l.doCalcdata(ue),mt++,jt()}}return Gt.modebar.orientation==="h"?Gt._modebardiv.style("height",null).style("width","100%"):Gt._modebardiv.style("width",null).style("height",Gt.height+"px"),l.previousPromises(ue)}function Yt(){if(l.clearAutoMarginIds(ue),d.drawMarginPushers(ue),a.allowAutoMargin(ue),ue._fullLayout.title.text&&ue._fullLayout.title.automargin&&l.allowAutoMargin(ue,"title.automargin"),Gt._has("pie"))for(var St=ue._fullData,Ot=0;Ot<St.length;Ot++){var Vt=St[Ot];Vt.type==="pie"&&Vt.automargin&&l.allowAutoMargin(ue,"pie."+Vt.uid+".automargin")}return l.doAutoMargin(ue),l.previousPromises(ue)}function wr(){if(l.didMarginChange(zr,Gt._size))return C.syncOrAsync([Yt,d.layoutStyles],ue)}function dr(){if(!nr){ct();return}return C.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ct],ue)}function ct(){ue._transitioning||(d.doAutoRangeAndConstraints(ue),Ut&&a.saveRangeInitial(ue),t.getComponentMethod("rangeslider","calcAutorange")(ue))}function ot(){return a.draw(ue,Ut?"":"redraw")}var wt=[l.previousPromises,Rt,jt,Yt,wr];_t&&wt.push(dr),wt.push(d.layoutStyles),_t&&wt.push(ot,function(Ot){Ot._fullLayout._insideTickLabelsAutorange&&he(Ot,Ot._fullLayout._insideTickLabelsAutorange).then(function(){Ot._fullLayout._insideTickLabelsAutorange=void 0})}),wt.push(d.drawData,d.finalDraw,u,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,Mt,l.previousPromises);function Mt(St){St._fullLayout._insideTickLabelsAutorange&&Ut&&a.saveRangeInitial(St,!0)}var Dt=C.syncOrAsync(wt,ue);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return b(ue),ue})}function b(ue){var ge=ue._fullLayout;ge._redrawFromAutoMarginCount?ge._redrawFromAutoMarginCount--:ue.emit("plotly_afterplot")}function i(ue){return C.extendFlat(T,ue)}function P(ue,ge){try{ue._fullLayout._paper.style("background",ge)}catch(Le){C.error(Le)}}function x(ue,ge){var Le=c.combine(ge,"white");P(ue,Le)}function k(ue,ge){if(!ue._context){ue._context=C.extendDeep({},T);var Le=p.select("base");ue._context._baseUrl=Le.size()&&Le.attr("href")?window.location.href.split("#")[0]:""}var ke=ue._context,it,lt,bt;if(ge){for(lt=Object.keys(ge),it=0;it<lt.length;it++)bt=lt[it],!(bt==="editable"||bt==="edits")&&bt in ke&&(bt==="setBackground"&&ge[bt]==="opaque"?ke[bt]=x:ke[bt]=ge[bt]);ge.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var Rt=ge.editable;if(Rt!==void 0)for(ke.editable=Rt,lt=Object.keys(ke.edits),it=0;it<lt.length;it++)ke.edits[lt[it]]=Rt;if(ge.edits)for(lt=Object.keys(ge.edits),it=0;it<lt.length;it++)bt=lt[it],bt in ke.edits&&(ke.edits[bt]=ge.edits[bt]);ke._exportedPlot=ge._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),ke.displayModeBar==="hover"&&!n&&(ke.displayModeBar=!0),(ke.setBackground==="transparent"||typeof ke.setBackground!="function")&&(ke.setBackground=P),ke._hasZeroHeight=ke._hasZeroHeight||ue.clientHeight===0,ke._hasZeroWidth=ke._hasZeroWidth||ue.clientWidth===0;var Ut=ke.scrollZoom,Gt=ke._scrollZoom={};if(Ut===!0)Gt.cartesian=1,Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1;else if(typeof Ut=="string"){var _t=Ut.split("+");for(it=0;it<_t.length;it++)Gt[_t[it]]=1}else Ut!==!1&&(Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1)}function _(ue){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue);return o.cleanData(ue.data),o.cleanLayout(ue.layout),ue.calcdata=void 0,U._doPlot(ue).then(function(){return ue.emit("plotly_redraw"),ue})}function B(ue,ge,Le,ke){return ue=C.getGraphDiv(ue),l.cleanPlot([],{},ue._fullData||[],ue._fullLayout||{}),l.purge(ue),U._doPlot(ue,ge,Le,ke)}function I(ue,ge){var Le=ge+1,ke=[],it,lt;for(it=0;it<ue.length;it++)lt=ue[it],lt<0?ke.push(Le+lt):ke.push(lt);return ke}function z(ue,ge,Le){var ke,it;for(ke=0;ke<ge.length;ke++){if(it=ge[ke],it!==parseInt(it,10))throw new Error("all values in "+Le+" must be integers");if(it>=ue.data.length||it<-ue.data.length)throw new Error(Le+" must be valid indices for gd.data.");if(ge.indexOf(it,ke+1)>-1||it>=0&&ge.indexOf(-ue.data.length+it)>-1||it<0&&ge.indexOf(ue.data.length+it)>-1)throw new Error("each index in "+Le+" must be unique.")}}function O(ue,ge,Le){if(!Array.isArray(ue.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ge)||(ge=[ge]),z(ue,ge,"currentIndices"),typeof Le<"u"&&!Array.isArray(Le)&&(Le=[Le]),typeof Le<"u"&&z(ue,Le,"newIndices"),typeof Le<"u"&&ge.length!==Le.length)throw new Error("current and new indices must be of equal length.")}function F(ue,ge,Le){var ke,it;if(!Array.isArray(ue.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("traces must be defined.");for(Array.isArray(ge)||(ge=[ge]),ke=0;ke<ge.length;ke++)if(it=ge[ke],typeof it!="object"||Array.isArray(it)||it===null)throw new Error("all values in traces array must be non-array objects");if(typeof Le<"u"&&!Array.isArray(Le)&&(Le=[Le]),typeof Le<"u"&&Le.length!==ge.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function N(ue,ge,Le,ke){var it=C.isPlainObject(ke);if(!Array.isArray(ue.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(ge))throw new Error("update must be a key:value object");if(typeof Le>"u")throw new Error("indices must be an integer or array of integers");z(ue,Le,"indices");for(var lt in ge){if(!Array.isArray(ge[lt])||ge[lt].length!==Le.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(it&&(!(lt in ke)||!Array.isArray(ke[lt])||ke[lt].length!==ge[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Q(ue,ge,Le,ke){var it=C.isPlainObject(ke),lt=[],bt,Rt,Ut,Gt,_t;Array.isArray(Le)||(Le=[Le]),Le=I(Le,ue.data.length-1);for(var nr in ge)for(var lr=0;lr<Le.length;lr++){if(bt=ue.data[Le[lr]],Ut=w(bt,nr),Rt=Ut.get(),Gt=ge[nr][lr],!C.isArrayOrTypedArray(Gt))throw new Error("attribute: "+nr+" index: "+lr+" must be an array");if(!C.isArrayOrTypedArray(Rt))throw new Error("cannot extend missing or non-array attribute: "+nr);if(Rt.constructor!==Gt.constructor)throw new Error("cannot extend array with an array of a different type: "+nr);_t=it?ke[nr][lr]:ke,L(_t)||(_t=-1),lt.push({prop:Ut,target:Rt,insert:Gt,maxp:Math.floor(_t)})}return lt}function $(ue,ge,Le,ke,it){N(ue,ge,Le,ke);for(var lt=Q(ue,ge,Le,ke),bt={},Rt={},Ut=0;Ut<lt.length;Ut++){var Gt=lt[Ut].prop,_t=lt[Ut].maxp,nr=it(lt[Ut].target,lt[Ut].insert,_t);Gt.set(nr[0]),Array.isArray(bt[Gt.astr])||(bt[Gt.astr]=[]),bt[Gt.astr].push(nr[1]),Array.isArray(Rt[Gt.astr])||(Rt[Gt.astr]=[]),Rt[Gt.astr].push(lt[Ut].target.length)}return{update:bt,maxPoints:Rt}}function j(ue,ge){var Le=new ue.constructor(ue.length+ge.length);return Le.set(ue),Le.set(ge,ue.length),Le}function ee(ue,ge,Le,ke){ue=C.getGraphDiv(ue);function it(Ut,Gt,_t){var nr,lr;if(C.isTypedArray(Ut))if(_t<0){var zr=new Ut.constructor(0),mt=j(Ut,Gt);_t<0?(nr=mt,lr=zr):(nr=zr,lr=mt)}else if(nr=new Ut.constructor(_t),lr=new Ut.constructor(Ut.length+Gt.length-_t),_t===Gt.length)nr.set(Gt),lr.set(Ut);else if(_t<Gt.length){var jt=Gt.length-_t;nr.set(Gt.subarray(jt)),lr.set(Ut),lr.set(Gt.subarray(0,jt),Ut.length)}else{var Yt=_t-Gt.length,wr=Ut.length-Yt;nr.set(Ut.subarray(wr)),nr.set(Gt,Yt),lr.set(Ut.subarray(0,wr))}else nr=Ut.concat(Gt),lr=_t>=0&&_t<nr.length?nr.splice(0,nr.length-_t):[];return[nr,lr]}var lt=$(ue,ge,Le,ke,it),bt=U.redraw(ue),Rt=[ue,lt.update,Le,lt.maxPoints];return y.add(ue,U.prependTraces,Rt,ee,arguments),bt}function oe(ue,ge,Le,ke){ue=C.getGraphDiv(ue);function it(Ut,Gt,_t){var nr,lr;if(C.isTypedArray(Ut))if(_t<=0){var zr=new Ut.constructor(0),mt=j(Gt,Ut);_t<0?(nr=mt,lr=zr):(nr=zr,lr=mt)}else if(nr=new Ut.constructor(_t),lr=new Ut.constructor(Ut.length+Gt.length-_t),_t===Gt.length)nr.set(Gt),lr.set(Ut);else if(_t<Gt.length){var jt=Gt.length-_t;nr.set(Gt.subarray(0,jt)),lr.set(Gt.subarray(jt)),lr.set(Ut,jt)}else{var Yt=_t-Gt.length;nr.set(Gt),nr.set(Ut.subarray(0,Yt),Gt.length),lr.set(Ut.subarray(Yt))}else nr=Gt.concat(Ut),lr=_t>=0&&_t<nr.length?nr.splice(_t,nr.length):[];return[nr,lr]}var lt=$(ue,ge,Le,ke,it),bt=U.redraw(ue),Rt=[ue,lt.update,Le,lt.maxPoints];return y.add(ue,U.extendTraces,Rt,oe,arguments),bt}function Y(ue,ge,Le){ue=C.getGraphDiv(ue);var ke=[],it=U.deleteTraces,lt=Y,bt=[ue,ke],Rt=[ue,ge],Ut,Gt;for(F(ue,ge,Le),Array.isArray(ge)||(ge=[ge]),ge=ge.map(function(_t){return C.extendFlat({},_t)}),o.cleanData(ge),Ut=0;Ut<ge.length;Ut++)ue.data.push(ge[Ut]);for(Ut=0;Ut<ge.length;Ut++)ke.push(-ge.length+Ut);if(typeof Le>"u")return Gt=U.redraw(ue),y.add(ue,it,bt,lt,Rt),Gt;Array.isArray(Le)||(Le=[Le]);try{O(ue,ke,Le)}catch(_t){throw ue.data.splice(ue.data.length-ge.length,ge.length),_t}return y.startSequence(ue),y.add(ue,it,bt,lt,Rt),Gt=U.moveTraces(ue,ke,Le),y.stopSequence(ue),Gt}function V(ue,ge){ue=C.getGraphDiv(ue);var Le=[],ke=U.addTraces,it=V,lt=[ue,Le,ge],bt=[ue,ge],Rt,Ut;if(typeof ge>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ge)||(ge=[ge]),z(ue,ge,"indices"),ge=I(ge,ue.data.length-1),ge.sort(C.sorterDes),Rt=0;Rt<ge.length;Rt+=1)Ut=ue.data.splice(ge[Rt],1)[0],Le.push(Ut);var Gt=U.redraw(ue);return y.add(ue,ke,lt,it,bt),Gt}function W(ue,ge,Le){ue=C.getGraphDiv(ue);var ke=[],it=[],lt=W,bt=W,Rt=[ue,Le,ge],Ut=[ue,ge,Le],Gt;if(O(ue,ge,Le),ge=Array.isArray(ge)?ge:[ge],typeof Le>"u")for(Le=[],Gt=0;Gt<ge.length;Gt++)Le.push(-ge.length+Gt);for(Le=Array.isArray(Le)?Le:[Le],ge=I(ge,ue.data.length-1),Le=I(Le,ue.data.length-1),Gt=0;Gt<ue.data.length;Gt++)ge.indexOf(Gt)===-1&&ke.push(ue.data[Gt]);for(Gt=0;Gt<ge.length;Gt++)it.push({newIndex:Le[Gt],trace:ue.data[ge[Gt]]});for(it.sort(function(nr,lr){return nr.newIndex-lr.newIndex}),Gt=0;Gt<it.length;Gt+=1)ke.splice(it[Gt].newIndex,0,it[Gt].trace);ue.data=ke;var _t=U.redraw(ue);return y.add(ue,lt,Rt,bt,Ut),_t}function X(ue,ge,Le,ke){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var it={};if(typeof ge=="string")it[ge]=Le;else if(C.isPlainObject(ge))it=C.extendFlat({},ge),ke===void 0&&(ke=Le);else return C.warn("Restyle fail.",ge,Le,ke),Promise.reject();Object.keys(it).length&&(ue.changed=!0);var lt=o.coerceTraceIndices(ue,ke),bt=le(ue,it,lt),Rt=bt.flags;Rt.calc&&(ue.calcdata=void 0),Rt.clearAxisTypes&&o.clearAxisTypes(ue,lt,{});var Ut=[];Rt.fullReplot?Ut.push(U._doPlot):(Ut.push(l.previousPromises),l.supplyDefaults(ue),Rt.markerSize&&(l.doCalcdata(ue),Me(Ut)),Rt.style&&Ut.push(d.doTraceStyle),Rt.colorbars&&Ut.push(d.doColorBars),Ut.push(b)),Ut.push(l.rehover,l.redrag,l.reselect),y.add(ue,X,[ue,bt.undoit,bt.traces],X,[ue,bt.redoit,bt.traces]);var Gt=C.syncOrAsync(Ut,ue);return(!Gt||!Gt.then)&&(Gt=Promise.resolve()),Gt.then(function(){return ue.emit("plotly_restyle",bt.eventData),ue})}function re(ue){return ue===void 0?null:ue}function ie(ue,ge){return ge?function(Le,ke,it){var lt=w(Le,ke),bt=lt.set;return lt.set=function(Rt){var Ut=(it||"")+ke;K(Ut,lt.get(),Rt,ue),bt(Rt)},lt}:w}function K(ue,ge,Le,ke){if(Array.isArray(ge)||Array.isArray(Le))for(var it=Array.isArray(ge)?ge:[],lt=Array.isArray(Le)?Le:[],bt=Math.max(it.length,lt.length),Rt=0;Rt<bt;Rt++)K(ue+"["+Rt+"]",it[Rt],lt[Rt],ke);else if(C.isPlainObject(ge)||C.isPlainObject(Le)){var Ut=C.isPlainObject(ge)?ge:{},Gt=C.isPlainObject(Le)?Le:{},_t=C.extendFlat({},Ut,Gt);for(var nr in _t)K(ue+"."+nr,Ut[nr],Gt[nr],ke)}else ke[ue]===void 0&&(ke[ue]=re(ge))}function q(ue,ge,Le){for(var ke in Le){var it=w(ue,ke);K(ke,it.get(),Le[ke],ge)}}function le(ue,ge,Le){var ke=ue._fullLayout,it=ue._fullData,lt=ue.data,bt=ke._guiEditing,Rt=ie(ke._preGUI,bt),Ut=C.extendDeepAll({},ge),Gt;ae(ge);var _t=M.traceFlags(),nr={},lr={},zr;function mt(){return Le.map(function(){})}function jt(jr){var Dn=a.id2name(jr);zr.indexOf(Dn)===-1&&zr.push(Dn)}function Yt(jr){return"LAYOUT"+jr+".autorange"}function wr(jr){return"LAYOUT"+jr+".range"}function dr(jr){for(var Dn=jr;Dn<it.length;Dn++)if(it[Dn]._input===lt[jr])return it[Dn]}function ct(jr,Dn,In){if(Array.isArray(jr)){jr.forEach(function(Or){ct(Or,Dn,In)});return}if(!(jr in ge||o.hasParent(ge,jr))){var yr;if(jr.substr(0,6)==="LAYOUT")yr=Rt(ue.layout,jr.replace("LAYOUT",""));else{var cr=Le[In],kr=ke._tracePreGUI[dr(cr)._fullInput.uid];yr=ie(kr,bt)(lt[cr],jr)}jr in lr||(lr[jr]=mt()),lr[jr][In]===void 0&&(lr[jr][In]=re(yr.get())),Dn!==void 0&&yr.set(Dn)}}function ot(jr){return function(Dn){return it[Dn][jr]}}function wt(jr){return function(Dn,In){return Dn===!1?it[Le[In]][jr]:null}}for(var Mt in ge){if(o.hasParent(ge,Mt))throw new Error("cannot set "+Mt+" and a parent attribute simultaneously");var Dt=ge[Mt],St,Ot,Vt,Qt,Kt,or;if((Mt==="autobinx"||Mt==="autobiny")&&(Mt=Mt.charAt(Mt.length-1)+"bins",Array.isArray(Dt)?Dt=Dt.map(wt(Mt)):Dt===!1?Dt=Le.map(ot(Mt)):Dt=null),nr[Mt]=Dt,Mt.substr(0,6)==="LAYOUT"){Vt=Rt(ue.layout,Mt.replace("LAYOUT","")),lr[Mt]=[re(Vt.get())],Vt.set(Array.isArray(Dt)?Dt[0]:Dt),_t.calc=!0;continue}for(lr[Mt]=mt(),Gt=0;Gt<Le.length;Gt++){St=lt[Le[Gt]],Ot=dr(Le[Gt]);var Mr=ke._tracePreGUI[Ot._fullInput.uid];if(Vt=ie(Mr,bt)(St,Mt),Qt=Vt.get(),Kt=Array.isArray(Dt)?Dt[Gt%Dt.length]:Dt,Kt!==void 0){var Ve=Vt.parts[Vt.parts.length-1],Ge=Mt.substr(0,Mt.length-Ve.length-1),Ft=Ge?Ge+".":"",kt=Ge?w(Ot,Ge).get():Ot;if(or=r.getTraceValObject(Ot,Vt.parts),or&&or.impliedEdits&&Kt!==null)for(var Zt in or.impliedEdits)ct(C.relativeAttr(Mt,Zt),or.impliedEdits[Zt],Gt);else if((Ve==="thicknessmode"||Ve==="lenmode")&&Qt!==Kt&&(Kt==="fraction"||Kt==="pixels")&&kt){var tr=ke._size,sr=kt.orient,rr=sr==="top"||sr==="bottom";if(Ve==="thicknessmode"){var Nt=rr?tr.h:tr.w;ct(Ft+"thickness",kt.thickness*(Kt==="fraction"?1/Nt:Nt),Gt)}else{var hr=rr?tr.w:tr.h;ct(Ft+"len",kt.len*(Kt==="fraction"?1/hr:hr),Gt)}}else if(Mt==="type"&&(Kt==="pie"!=(Qt==="pie")||Kt==="funnelarea"!=(Qt==="funnelarea"))){var pr="x",br="y";(Kt==="bar"||Qt==="bar")&&St.orientation==="h"&&(pr="y",br="x"),C.swapAttrs(St,["?","?src"],"labels",pr),C.swapAttrs(St,["d?","?0"],"label",pr),C.swapAttrs(St,["?","?src"],"values",br),Qt==="pie"||Qt==="funnelarea"?(w(St,"marker.color").set(w(St,"marker.colors").get()),ke._pielayer.selectAll("g.trace").remove()):t.traceIs(St,"cartesian")&&w(St,"marker.colors").set(w(St,"marker.color").get())}lr[Mt][Gt]=re(Qt);var vr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(vr.indexOf(Mt)!==-1){if(Mt==="orientation"){Vt.set(Kt);var Kr=St.x&&!St.y?"h":"v";if((Vt.get()||Kr)===Ot.orientation)continue}else Mt==="orientationaxes"&&(St.orientation={v:"h",h:"v"}[Ot.orientation]);o.swapXYData(St),_t.calc=_t.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(Vt.parts[0])!==-1?(o.manageArrayContainers(Vt,Kt,lr),_t.calc=!0):(or?or.arrayOk&&!t.traceIs(Ot,"regl")&&(C.isArrayOrTypedArray(Kt)||C.isArrayOrTypedArray(Qt))?_t.calc=!0:M.update(_t,or):_t.calc=!0,Vt.set(Kt))}}if(["swapxyaxes","orientationaxes"].indexOf(Mt)!==-1&&a.swap(ue,Le),Mt==="orientationaxes"){var Fr=w(ue.layout,"hovermode"),Br=Fr.get();Br==="x"?Fr.set("y"):Br==="y"?Fr.set("x"):Br==="x unified"?Fr.set("y unified"):Br==="y unified"&&Fr.set("x unified")}if(["orientation","type"].indexOf(Mt)!==-1){for(zr=[],Gt=0;Gt<Le.length;Gt++){var xn=lt[Le[Gt]];t.traceIs(xn,"cartesian")&&(jt(xn.xaxis||"x"),jt(xn.yaxis||"y"))}ct(zr.map(Yt),!0,0),ct(zr.map(wr),[0,1],0)}}return(_t.calc||_t.plot)&&(_t.fullReplot=!0),{flags:_t,undoit:lr,redoit:nr,traces:Le,eventData:C.extendDeepNoArrays([],[Ut,Le])}}function ae(ue){var ge=C.counterRegex("axis",".title",!1,!1),Le=/colorbar\.title$/,ke=Object.keys(ue),it,lt,bt;for(it=0;it<ke.length;it++)lt=ke[it],bt=ue[lt],(lt==="title"||ge.test(lt)||Le.test(lt))&&(typeof bt=="string"||typeof bt=="number")?Rt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?Rt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?Rt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?Rt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&Rt(lt,lt.replace("titleoffset","title.offset"));function Rt(Ut,Gt){ue[Gt]=ue[Ut],delete ue[Ut]}}function he(ue,ge,Le){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var ke={};if(typeof ge=="string")ke[ge]=Le;else if(C.isPlainObject(ge))ke=C.extendFlat({},ge);else return C.warn("Relayout fail.",ge,Le),Promise.reject();Object.keys(ke).length&&(ue.changed=!0);var it=Te(ue,ke),lt=it.flags;lt.calc&&(ue.calcdata=void 0);var bt=[l.previousPromises];lt.layoutReplot?bt.push(d.layoutReplot):Object.keys(ke).length&&(me(ue,lt,it)||l.supplyDefaults(ue),lt.legend&&bt.push(d.doLegend),lt.layoutstyle&&bt.push(d.layoutStyles),lt.axrange&&Me(bt,it.rangesAltered),lt.ticks&&bt.push(d.doTicksRelayout),lt.modebar&&bt.push(d.doModeBar),lt.camera&&bt.push(d.doCamera),lt.colorbars&&bt.push(d.doColorBars),bt.push(b)),bt.push(l.rehover,l.redrag,l.reselect),y.add(ue,he,[ue,it.undoit],he,[ue,it.redoit]);var Rt=C.syncOrAsync(bt,ue);return(!Rt||!Rt.then)&&(Rt=Promise.resolve(ue)),Rt.then(function(){return ue.emit("plotly_relayout",it.eventData),ue})}function me(ue,ge,Le){var ke=ue._fullLayout;if(!ge.axrange)return!1;for(var it in ge)if(it!=="axrange"&&ge[it])return!1;for(var lt in Le.rangesAltered){var bt=a.id2name(lt),Rt=ue.layout[bt],Ut=ke[bt];if(Ut.autorange=Rt.autorange,Rt.range&&(Ut.range=Rt.range.slice()),Ut.cleanRange(),Ut._matchGroup){for(var Gt in Ut._matchGroup)if(Gt!==lt){var _t=ke[a.id2name(Gt)];_t.autorange=Ut.autorange,_t.range=Ut.range.slice(),_t._input.range=Ut.range.slice()}}}return!0}function Me(ue,ge){var Le=ge?function(ke){var it=[],lt=!0;for(var bt in ge){var Rt=a.getFromId(ke,bt);if(it.push(bt),(Rt.ticklabelposition||"").indexOf("inside")!==-1&&Rt._anchorAxis&&it.push(Rt._anchorAxis._id),Rt._matchGroup)for(var Ut in Rt._matchGroup)ge[Ut]||it.push(Ut)}return a.draw(ke,it,{skipTitle:lt})}:function(ke){return a.draw(ke,"redraw")};ue.push(h,d.doAutoRangeAndConstraints,Le,d.drawData,d.finalDraw)}var xe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ie=/^[xyz]axis[0-9]*\.autorange$/,_e=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Te(ue,ge){var Le=ue.layout,ke=ue._fullLayout,it=ke._guiEditing,lt=ie(ke._preGUI,it),bt=Object.keys(ge),Rt=a.list(ue),Ut=C.extendDeepAll({},ge),Gt={},_t,nr,lr;for(ae(ge),bt=Object.keys(ge),nr=0;nr<bt.length;nr++)if(bt[nr].indexOf("allaxes")===0){for(lr=0;lr<Rt.length;lr++){var zr=Rt[lr]._id.substr(1),mt=zr.indexOf("scene")!==-1?zr+".":"",jt=bt[nr].replace("allaxes",mt+Rt[lr]._name);ge[jt]||(ge[jt]=ge[bt[nr]])}delete ge[bt[nr]]}var Yt=M.layoutFlags(),wr={},dr={};function ct(cr,kr){if(Array.isArray(cr)){cr.forEach(function(sn){ct(sn,kr)});return}if(!(cr in ge||o.hasParent(ge,cr))){var Or=lt(Le,cr);cr in dr||(dr[cr]=re(Or.get())),kr!==void 0&&Or.set(kr)}}var ot={},wt;function Mt(cr){var kr=a.name2id(cr.split(".")[0]);return ot[kr]=1,kr}for(var Dt in ge){if(o.hasParent(ge,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");for(var St=lt(Le,Dt),Ot=ge[Dt],Vt=St.parts.length,Qt=Vt-1;Qt>0&&typeof St.parts[Qt]!="string";)Qt--;var Kt=St.parts[Qt],or=St.parts[Qt-1]+"."+Kt,Mr=St.parts.slice(0,Qt).join("."),Ve=w(ue.layout,Mr).get(),Ge=w(ke,Mr).get(),Ft=St.get();if(Ot!==void 0){wr[Dt]=Ot,dr[Dt]=Kt==="reverse"?Ot:re(Ft);var kt=r.getLayoutValObject(ke,St.parts);if(kt&&kt.impliedEdits&&Ot!==null)for(var Zt in kt.impliedEdits)ct(C.relativeAttr(Dt,Zt),kt.impliedEdits[Zt]);if(["width","height"].indexOf(Dt)!==-1)if(Ot){ct("autosize",null);var tr=Dt==="height"?"width":"height";ct(tr,ke[tr])}else ke[Dt]=ue._initialAutoSize[Dt];else if(Dt==="autosize")ct("width",Ot?null:ke.width),ct("height",Ot?null:ke.height);else if(or.match(xe))Mt(or),w(ke,Mr+"._inputRange").set(null);else if(or.match(Ie)){Mt(or),w(ke,Mr+"._inputRange").set(null);var sr=w(ke,Mr).get();sr._inputDomain&&(sr._input.domain=sr._inputDomain.slice())}else or.match(_e)&&w(ke,Mr+"._inputDomain").set(null);if(Kt==="type"){wt=Ve;var rr=Ge.type==="linear"&&Ot==="log",Nt=Ge.type==="log"&&Ot==="linear";if(rr||Nt){if(!wt||!wt.range)ct(Mr+".autorange",!0);else if(Ge.autorange)rr&&(wt.range=wt.range[1]>wt.range[0]?[1,2]:[2,1]);else{var hr=wt.range[0],pr=wt.range[1];rr?(hr<=0&&pr<=0&&ct(Mr+".autorange",!0),hr<=0?hr=pr/1e6:pr<=0&&(pr=hr/1e6),ct(Mr+".range[0]",Math.log(hr)/Math.LN10),ct(Mr+".range[1]",Math.log(pr)/Math.LN10)):(ct(Mr+".range[0]",Math.pow(10,hr)),ct(Mr+".range[1]",Math.pow(10,pr)))}Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[St.parts[0]]&&St.parts[1]==="radialaxis"&&delete ke[St.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(ue,Ge,Ot,ct),t.getComponentMethod("images","convertCoords")(ue,Ge,Ot,ct)}else ct(Mr+".autorange",!0),ct(Mr+".range",null);w(ke,Mr+"._inputRange").set(null)}else if(Kt.match(A)){var br=w(ke,Dt).get(),vr=(Ot||{}).type;(!vr||vr==="-")&&(vr="linear"),t.getComponentMethod("annotations","convertCoords")(ue,br,vr,ct),t.getComponentMethod("images","convertCoords")(ue,br,vr,ct)}var Kr=f.containerArrayMatch(Dt);if(Kr){_t=Kr.array,nr=Kr.index;var Fr=Kr.property,Br=kt||{editType:"calc"};nr!==""&&Fr===""&&(f.isAddVal(Ot)?dr[Dt]=null:f.isRemoveVal(Ot)?dr[Dt]=(w(Le,_t).get()||[])[nr]:C.warn("unrecognized full object value",ge)),M.update(Yt,Br),Gt[_t]||(Gt[_t]={});var xn=Gt[_t][nr];xn||(xn=Gt[_t][nr]={}),xn[Fr]=Ot,delete ge[Dt]}else Kt==="reverse"?(Ve.range?Ve.range.reverse():(ct(Mr+".autorange",!0),Ve.range=[1,0]),Ge.autorange?Yt.calc=!0:Yt.plot=!0):(Dt==="dragmode"&&(Ot===!1&&Ft!==!1||Ot!==!1&&Ft===!1)||ke._has("scatter-like")&&ke._has("regl")&&Dt==="dragmode"&&(Ot==="lasso"||Ot==="select")&&!(Ft==="lasso"||Ft==="select")||ke._has("gl2d")?Yt.plot=!0:kt?M.update(Yt,kt):Yt.calc=!0,St.set(Ot))}}for(_t in Gt){var jr=f.applyContainerArrayChanges(ue,lt(Le,_t),Gt[_t],Yt,lt);jr||(Yt.plot=!0)}for(var Dn in ot){wt=a.getFromId(ue,Dn);var In=wt&&wt._constraintGroup;if(In){Yt.calc=!0;for(var yr in In)ot[yr]||(a.getFromId(ue,yr)._constraintShrinkable=!0)}}return(ye(ue)||ge.height||ge.width)&&(Yt.plot=!0),(Yt.plot||Yt.calc)&&(Yt.layoutReplot=!0),{flags:Yt,rangesAltered:ot,undoit:dr,redoit:wr,eventData:Ut}}function ye(ue){var ge=ue._fullLayout,Le=ge.width,ke=ge.height;return ue.layout.autosize&&l.plotAutoSize(ue,ue.layout,ge),ge.width!==Le||ge.height!==ke}function Ae(ue,ge,Le,ke){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue),C.isPlainObject(ge)||(ge={}),C.isPlainObject(Le)||(Le={}),Object.keys(ge).length&&(ue.changed=!0),Object.keys(Le).length&&(ue.changed=!0);var it=o.coerceTraceIndices(ue,ke),lt=le(ue,C.extendFlat({},ge),it),bt=lt.flags,Rt=Te(ue,C.extendFlat({},Le)),Ut=Rt.flags;(bt.calc||Ut.calc)&&(ue.calcdata=void 0),bt.clearAxisTypes&&o.clearAxisTypes(ue,it,Le);var Gt=[];Ut.layoutReplot?Gt.push(d.layoutReplot):bt.fullReplot?Gt.push(U._doPlot):(Gt.push(l.previousPromises),me(ue,Ut,Rt)||l.supplyDefaults(ue),bt.style&&Gt.push(d.doTraceStyle),(bt.colorbars||Ut.colorbars)&&Gt.push(d.doColorBars),Ut.legend&&Gt.push(d.doLegend),Ut.layoutstyle&&Gt.push(d.layoutStyles),Ut.axrange&&Me(Gt,Rt.rangesAltered),Ut.ticks&&Gt.push(d.doTicksRelayout),Ut.modebar&&Gt.push(d.doModeBar),Ut.camera&&Gt.push(d.doCamera),Gt.push(b)),Gt.push(l.rehover,l.redrag,l.reselect),y.add(ue,Ae,[ue,lt.undoit,Rt.undoit,lt.traces],Ae,[ue,lt.redoit,Rt.redoit,lt.traces]);var _t=C.syncOrAsync(Gt,ue);return(!_t||!_t.then)&&(_t=Promise.resolve(ue)),_t.then(function(){return ue.emit("plotly_update",{data:lt.eventData,layout:Rt.eventData}),ue})}function Be(ue){return function(Le){Le._fullLayout._guiEditing=!0;var ke=ue.apply(null,arguments);return Le._fullLayout._guiEditing=!1,ke}}var Ue=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],De=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function He(ue,ge){for(var Le=0;Le<ge.length;Le++){var ke=ge[Le],it=ue.match(ke.pattern);if(it){var lt=it[1]||"";return{head:lt,tail:ue.substr(lt.length+1),attr:ke.attr}}}}function ut(ue,ge){var Le=w(ge,ue).get();if(Le!==void 0)return Le;var ke=ue.split(".");for(ke.pop();ke.length>1;)if(ke.pop(),Le=w(ge,ke.join(".")+".uirevision").get(),Le!==void 0)return Le;return ge.uirevision}function et(ue,ge){for(var Le=0;Le<ge.length;Le++)if(ge[Le]._fullInput.uid===ue)return Le;return-1}function Qe(ue,ge,Le){for(var ke=0;ke<ge.length;ke++)if(ge[ke].uid===ue)return ke;return!ge[Le]||ge[Le].uid?-1:Le}function qe(ue,ge){var Le=C.isPlainObject(ue),ke=Array.isArray(ue);return Le||ke?(Le&&C.isPlainObject(ge)||ke&&Array.isArray(ge))&&JSON.stringify(ue)===JSON.stringify(ge):ue===ge}function ft(ue,ge,Le,ke){var it=ke._preGUI,lt,bt,Rt,Ut,Gt,_t,nr,lr,zr,mt,jt=[],Yt={},wr={};for(lt in it){if(Gt=He(lt,Ue),Gt){if(zr=Gt.head,mt=Gt.tail,bt=Gt.attr||zr+".uirevision",Rt=w(ke,bt).get(),Ut=Rt&&ut(bt,ge),Ut&&Ut===Rt){if(_t=it[lt],_t===null&&(_t=void 0),nr=w(ge,lt),lr=nr.get(),qe(lr,_t)){lr===void 0&&mt==="autorange"&&jt.push(zr),nr.set(re(w(ke,lt).get()));continue}else if(mt==="autorange"||mt.substr(0,6)==="range["){var dr=it[zr+".range[0]"],ct=it[zr+".range[1]"],ot=it[zr+".autorange"];if(ot||ot===null&&dr===null&&ct===null){if(!(zr in Yt)){var wt=w(ge,zr).get();Yt[zr]=wt&&(wt.autorange||wt.autorange!==!1&&(!wt.range||wt.range.length!==2))}if(Yt[zr]){nr.set(re(w(ke,lt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+lt);delete it[lt],Gt&&Gt.tail.substr(0,6)==="range["&&(wr[Gt.head]=1)}for(var Mt=0;Mt<jt.length;Mt++){var Dt=jt[Mt];if(wr[Dt]){var St=w(ge,Dt).get();St&&delete St.autorange}}var Ot=ke._tracePreGUI;for(var Vt in Ot){var Qt=Ot[Vt],Kt=null,or;for(lt in Qt){if(!Kt){var Mr=et(Vt,Le);if(Mr<0){delete Ot[Vt];break}var Ve=Le[Mr];or=Ve._fullInput;var Ge=Qe(Vt,ue,or.index);if(Ge<0){delete Ot[Vt];break}Kt=ue[Ge]}if(Gt=He(lt,De),Gt){if(Gt.attr?(Rt=w(ke,Gt.attr).get(),Ut=Rt&&ut(Gt.attr,ge)):(Rt=or.uirevision,Ut=Kt.uirevision,Ut===void 0&&(Ut=ge.uirevision)),Ut&&Ut===Rt&&(_t=Qt[lt],_t===null&&(_t=void 0),nr=w(Kt,lt),lr=nr.get(),qe(lr,_t))){nr.set(re(w(or,lt).get()));continue}}else C.warn("unrecognized GUI edit: "+lt+" in trace uid "+Vt);delete Qt[lt]}}}function gt(ue,ge,Le,ke){var it,lt;function bt(){return U.addFrames(ue,it)}ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var Rt=ue._fullData,Ut=ue._fullLayout;if(!C.isPlotDiv(ue)||!Rt||!Ut)lt=U.newPlot(ue,ge,Le,ke);else{if(C.isPlainObject(ge)){var Gt=ge;ge=Gt.data,Le=Gt.layout,ke=Gt.config,it=Gt.frames}var _t=!1;if(ke){var nr=C.extendDeep({},ue._context);ue._context=void 0,k(ue,ke),_t=ze(nr,ue._context)}ue.data=ge||[],o.cleanData(ue.data),ue.layout=Le||{},o.cleanLayout(ue.layout),ft(ue.data,ue.layout,Rt,Ut),l.supplyDefaults(ue,{skipUpdateCalc:!0});var lr=ue._fullData,zr=ue._fullLayout,mt=zr.datarevision===void 0,jt=zr.transition,Yt=Ct(ue,Ut,zr,mt,jt),wr=Yt.newDataRevision,dr=xt(ue,Rt,lr,mt,jt,wr);if(ye(ue)&&(Yt.layoutReplot=!0),dr.calc||Yt.calc){ue.calcdata=void 0;for(var ct=Object.getOwnPropertyNames(zr),ot=0;ot<ct.length;ot++){var wt=ct[ot],Mt=wt.substring(0,5);if(Mt==="xaxis"||Mt==="yaxis"){var Dt=zr[wt]._emptyCategories;Dt&&Dt()}}}else l.supplyDefaultsUpdateCalc(ue.calcdata,lr);var St=[];if(it&&(ue._transitionData={},l.createTransitionData(ue),St.push(bt)),zr.transition&&!_t&&(dr.anim||Yt.anim))Yt.ticks&&St.push(d.doTicksRelayout),l.doCalcdata(ue),d.doAutoRangeAndConstraints(ue),St.push(function(){return l.transitionFromReact(ue,dr,Yt,Ut)});else if(dr.fullReplot||Yt.layoutReplot||_t)ue._fullLayout._skipDefaults=!0,St.push(U._doPlot);else{for(var Ot in Yt.arrays){var Vt=Yt.arrays[Ot];if(Vt.length){var Qt=t.getComponentMethod(Ot,"drawOne");if(Qt!==C.noop)for(var Kt=0;Kt<Vt.length;Kt++)Qt(ue,Vt[Kt]);else{var or=t.getComponentMethod(Ot,"draw");if(or===C.noop)throw new Error("cannot draw components: "+Ot);or(ue)}}}St.push(l.previousPromises),dr.style&&St.push(d.doTraceStyle),(dr.colorbars||Yt.colorbars)&&St.push(d.doColorBars),Yt.legend&&St.push(d.doLegend),Yt.layoutstyle&&St.push(d.layoutStyles),Yt.axrange&&Me(St),Yt.ticks&&St.push(d.doTicksRelayout),Yt.modebar&&St.push(d.doModeBar),Yt.camera&&St.push(d.doCamera),St.push(b)}St.push(l.rehover,l.redrag,l.reselect),lt=C.syncOrAsync(St,ue),(!lt||!lt.then)&&(lt=Promise.resolve(ue))}return lt.then(function(){return ue.emit("plotly_react",{data:ge,layout:Le}),ue})}function xt(ue,ge,Le,ke,it,lt){var bt=ge.length===Le.length;if(!it&&!bt)return{fullReplot:!0,calc:!0};var Rt=M.traceFlags();Rt.arrays={},Rt.nChanges=0,Rt.nChangesAnim=0;var Ut,Gt;function _t(zr){var mt=r.getTraceValObject(Gt,zr);return!Gt._module.animatable&&mt.anim&&(mt.anim=!1),mt}var nr={getValObject:_t,flags:Rt,immutable:ke,transition:it,newDataRevision:lt,gd:ue},lr={};for(Ut=0;Ut<ge.length;Ut++)if(Le[Ut]){if(Gt=Le[Ut]._fullInput,l.hasMakesDataTransform(Gt)&&(Gt=Le[Ut]),lr[Gt.uid])continue;lr[Gt.uid]=1,Je(ge[Ut]._fullInput,Gt,[],nr)}return(Rt.calc||Rt.plot)&&(Rt.fullReplot=!0),it&&Rt.nChanges&&Rt.nChangesAnim&&(Rt.anim=Rt.nChanges===Rt.nChangesAnim&&bt?"all":"some"),Rt}function Ct(ue,ge,Le,ke,it){var lt=M.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function bt(Ut){return r.getLayoutValObject(Le,Ut)}var Rt={getValObject:bt,flags:lt,immutable:ke,transition:it,gd:ue};return Je(ge,Le,[],Rt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),it&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function Je(ue,ge,Le,ke){var it,lt,bt,Rt=ke.getValObject,Ut=ke.flags,Gt=ke.immutable,_t=ke.inArray,nr=ke.arrayIndex;function lr(){var Mr=it.editType;if(_t&&Mr.indexOf("arraydraw")!==-1){C.pushUnique(Ut.arrays[_t],nr);return}M.update(Ut,it),Mr!=="none"&&Ut.nChanges++,ke.transition&&it.anim&&Ut.nChangesAnim++,(xe.test(bt)||Ie.test(bt))&&(Ut.rangesAltered[Le[0]]=1),_e.test(bt)&&w(ge,"_inputDomain").set(null),lt==="datarevision"&&(Ut.newDataRevision=1)}function zr(Mr){return Mr.valType==="data_array"||Mr.arrayOk}for(lt in ue){if(Ut.calc&&!ke.transition)return;var mt=ue[lt],jt=ge[lt],Yt=Le.concat(lt);if(bt=Yt.join("."),!(lt.charAt(0)==="_"||typeof mt=="function"||mt===jt)){if((lt==="tick0"||lt==="dtick")&&Le[0]!=="geo"){var wr=ge.tickmode;if(wr==="auto"||wr==="array"||!wr)continue}if(!(lt==="range"&&ge.autorange)&&!((lt==="zmin"||lt==="zmax")&&ge.type==="contourcarpet")&&(it=Rt(Yt),!!it&&!(it._compareAsJSON&&JSON.stringify(mt)===JSON.stringify(jt)))){var dr=it.valType,ct,ot=zr(it),wt=Array.isArray(mt),Mt=Array.isArray(jt);if(wt&&Mt){var Dt="_input_"+lt,St=ue[Dt],Ot=ge[Dt];if(Array.isArray(St)&&St===Ot)continue}if(jt===void 0)ot&&wt?Ut.calc=!0:lr();else if(it._isLinkedToArray){var Vt=[],Qt=!1;_t||(Ut.arrays[lt]=Vt);var Kt=Math.min(mt.length,jt.length),or=Math.max(mt.length,jt.length);if(Kt!==or)if(it.editType==="arraydraw")Qt=!0;else{lr();continue}for(ct=0;ct<Kt;ct++)Je(mt[ct],jt[ct],Yt.concat(ct),C.extendFlat({inArray:lt,arrayIndex:ct},ke));if(Qt)for(ct=Kt;ct<or;ct++)Vt.push(ct)}else!dr&&C.isPlainObject(mt)?Je(mt,jt,Yt,ke):ot?wt&&Mt?(Gt&&(Ut.calc=!0),(Gt||ke.newDataRevision)&&lr()):wt!==Mt?Ut.calc=!0:lr():wt&&Mt?(mt.length!==jt.length||String(mt)!==String(jt))&&lr():lr()}}}for(lt in ge)if(!(lt in ue||lt.charAt(0)==="_"||typeof ge[lt]=="function"))if(it=Rt(Le.concat(lt)),zr(it)&&Array.isArray(ge[lt])){Ut.calc=!0;return}else lr()}function ze(ue,ge){var Le;for(Le in ue)if(Le.charAt(0)!=="_"){var ke=ue[Le],it=ge[Le];if(ke!==it)if(C.isPlainObject(ke)&&C.isPlainObject(it)){if(ze(ke,it))return!0}else if(Array.isArray(ke)&&Array.isArray(it)){if(ke.length!==it.length)return!0;for(var lt=0;lt<ke.length;lt++)if(ke[lt]!==it[lt])if(C.isPlainObject(ke[lt])&&C.isPlainObject(it[lt])){if(ze(ke[lt],it[lt]))return!0}else return!0}else return!0}}function Fe(ue,ge,Le){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ke=ue._transitionData;ke._frameQueue||(ke._frameQueue=[]),Le=l.supplyAnimationDefaults(Le);var it=Le.transition,lt=Le.frame;ke._frameWaitingCnt===void 0&&(ke._frameWaitingCnt=0);function bt(Gt){return Array.isArray(it)?Gt>=it.length?it[0]:it[Gt]:it}function Rt(Gt){return Array.isArray(lt)?Gt>=lt.length?lt[0]:lt[Gt]:lt}function Ut(Gt,_t){var nr=0;return function(){if(Gt&&++nr===_t)return Gt()}}return new Promise(function(Gt,_t){function nr(){if(ke._frameQueue.length!==0){for(;ke._frameQueue.length;){var Kt=ke._frameQueue.pop();Kt.onInterrupt&&Kt.onInterrupt()}ue.emit("plotly_animationinterrupted",[])}}function lr(Kt){if(Kt.length!==0){for(var or=0;or<Kt.length;or++){var Mr;Kt[or].type==="byname"?Mr=l.computeFrame(ue,Kt[or].name):Mr=Kt[or].data;var Ve=Rt(or),Ge=bt(or);Ge.duration=Math.min(Ge.duration,Ve.duration);var Ft={frame:Mr,name:Kt[or].name,frameOpts:Ve,transitionOpts:Ge};or===Kt.length-1&&(Ft.onComplete=Ut(Gt,2),Ft.onInterrupt=_t),ke._frameQueue.push(Ft)}Le.mode==="immediate"&&(ke._lastFrameAt=-1/0),ke._animationRaf||jt()}}function zr(){ue.emit("plotly_animated"),window.cancelAnimationFrame(ke._animationRaf),ke._animationRaf=null}function mt(){ke._currentFrame&&ke._currentFrame.onComplete&&ke._currentFrame.onComplete();var Kt=ke._currentFrame=ke._frameQueue.shift();if(Kt){var or=Kt.name?Kt.name.toString():null;ue._fullLayout._currentFrame=or,ke._lastFrameAt=Date.now(),ke._timeToNext=Kt.frameOpts.duration,l.transition(ue,Kt.frame.data,Kt.frame.layout,o.coerceTraceIndices(ue,Kt.frame.traces),Kt.frameOpts,Kt.transitionOpts).then(function(){Kt.onComplete&&Kt.onComplete()}),ue.emit("plotly_animatingframe",{name:or,frame:Kt.frame,animation:{frame:Kt.frameOpts,transition:Kt.transitionOpts}})}else zr()}function jt(){ue.emit("plotly_animating"),ke._lastFrameAt=-1/0,ke._timeToNext=0,ke._runningTransitions=0,ke._currentFrame=null;var Kt=function(){ke._animationRaf=window.requestAnimationFrame(Kt),Date.now()-ke._lastFrameAt>ke._timeToNext&&mt()};Kt()}var Yt=0;function wr(Kt){return Array.isArray(it)?Yt>=it.length?Kt.transitionOpts=it[Yt]:Kt.transitionOpts=it[0]:Kt.transitionOpts=it,Yt++,Kt}var dr,ct,ot=[],wt=ge==null,Mt=Array.isArray(ge),Dt=!wt&&!Mt&&C.isPlainObject(ge);if(Dt)ot.push({type:"object",data:wr(C.extendFlat({},ge))});else if(wt||["string","number"].indexOf(typeof ge)!==-1)for(dr=0;dr<ke._frames.length;dr++)ct=ke._frames[dr],ct&&(wt||String(ct.group)===String(ge))&&ot.push({type:"byname",name:String(ct.name),data:wr({name:ct.name})});else if(Mt)for(dr=0;dr<ge.length;dr++){var St=ge[dr];["number","string"].indexOf(typeof St)!==-1?(St=String(St),ot.push({type:"byname",name:St,data:wr({name:St})})):C.isPlainObject(St)&&ot.push({type:"object",data:wr(C.extendFlat({},St))})}for(dr=0;dr<ot.length;dr++)if(ct=ot[dr],ct.type==="byname"&&!ke._frameHash[ct.data.name]){C.warn('animate failure: frame not found: "'+ct.data.name+'"'),_t();return}["next","immediate"].indexOf(Le.mode)!==-1&&nr(),Le.direction==="reverse"&&ot.reverse();var Ot=ue._fullLayout._currentFrame;if(Ot&&Le.fromcurrent){var Vt=-1;for(dr=0;dr<ot.length;dr++)if(ct=ot[dr],ct.type==="byname"&&ct.name===Ot){Vt=dr;break}if(Vt>0&&Vt<ot.length-1){var Qt=[];for(dr=0;dr<ot.length;dr++)ct=ot[dr],(ot[dr].type!=="byname"||dr>Vt)&&Qt.push(ct);ot=Qt}}ot.length>0?lr(ot):(ue.emit("plotly_animated"),Gt())})}function $e(ue,ge,Le){if(ue=C.getGraphDiv(ue),ge==null)return Promise.resolve();if(!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ke,it,lt,bt,Rt=ue._transitionData._frames,Ut=ue._transitionData._frameHash;if(!Array.isArray(ge))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ge);var Gt=Rt.length+ge.length*2,_t=[],nr={};for(ke=ge.length-1;ke>=0;ke--)if(C.isPlainObject(ge[ke])){var lr=ge[ke].name,zr=(Ut[lr]||nr[lr]||{}).name,mt=ge[ke].name,jt=Ut[zr]||nr[zr];zr&&mt&&typeof mt=="number"&&jt&&E<g&&(E++,C.warn('addFrames: overwriting frame "'+(Ut[zr]||nr[zr]).name+'" with a frame whose name of type "number" also equates to "'+zr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===g&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),nr[lr]={name:lr},_t.push({frame:l.supplyFrameDefaults(ge[ke]),index:Le&&Le[ke]!==void 0&&Le[ke]!==null?Le[ke]:Gt+ke})}_t.sort(function(Dt,St){return Dt.index>St.index?-1:Dt.index<St.index?1:0});var Yt=[],wr=[],dr=Rt.length;for(ke=_t.length-1;ke>=0;ke--){if(it=_t[ke].frame,typeof it.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!it.name)for(;Ut[it.name="frame "+ue._transitionData._counter++];);if(Ut[it.name]){for(lt=0;lt<Rt.length&&(Rt[lt]||{}).name!==it.name;lt++);Yt.push({type:"replace",index:lt,value:it}),wr.unshift({type:"replace",index:lt,value:Rt[lt]})}else bt=Math.max(0,Math.min(_t[ke].index,dr)),Yt.push({type:"insert",index:bt,value:it}),wr.unshift({type:"delete",index:bt}),dr++}var ct=l.modifyFrames,ot=l.modifyFrames,wt=[ue,wr],Mt=[ue,Yt];return y&&y.add(ue,ct,wt,ot,Mt),l.modifyFrames(ue,Yt)}function at(ue,ge){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue);var Le,ke,it=ue._transitionData._frames,lt=[],bt=[];if(!ge)for(ge=[],Le=0;Le<it.length;Le++)ge.push(Le);for(ge=ge.slice(),ge.sort(),Le=ge.length-1;Le>=0;Le--)ke=ge[Le],lt.push({type:"delete",index:ke}),bt.unshift({type:"insert",index:ke,value:it[ke]});var Rt=l.modifyFrames,Ut=l.modifyFrames,Gt=[ue,bt],_t=[ue,lt];return y&&y.add(ue,Rt,Gt,Ut,_t),l.modifyFrames(ue,lt)}function Xe(ue){ue=C.getGraphDiv(ue);var ge=ue._fullLayout||{},Le=ue._fullData||[];return l.cleanPlot([],{},Le,ge),l.purge(ue),v.purge(ue),ge._container&&ge._container.remove(),delete ue._context,ue}function Pe(ue){var ge=ue._fullLayout,Le=ue.getBoundingClientRect();if(!C.equalDomRects(Le,ge._lastBBox)){var ke=ge._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(ue));ge._invScaleX=Math.sqrt(ke[0][0]*ke[0][0]+ke[0][1]*ke[0][1]+ke[0][2]*ke[0][2]),ge._invScaleY=Math.sqrt(ke[1][0]*ke[1][0]+ke[1][1]*ke[1][1]+ke[1][2]*ke[1][2]),ge._lastBBox=Le}}function we(ue){var ge=p.select(ue),Le=ue._fullLayout;if(Le._calcInverseTransform=Pe,Le._calcInverseTransform(ue),Le._container=ge.selectAll(".plot-container").data([0]),Le._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Le._paperdiv=Le._container.selectAll(".svg-container").data([0]),Le._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Le._glcontainer=Le._paperdiv.selectAll(".gl-container").data([{}]),Le._glcontainer.enter().append("div").classed("gl-container",!0),Le._paperdiv.selectAll(".main-svg").remove(),Le._paperdiv.select(".modebar-container").remove(),Le._paper=Le._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Le._toppaper=Le._paperdiv.append("svg").classed("main-svg",!0),Le._modebardiv=Le._paperdiv.append("div"),delete Le._modeBar,Le._hoverpaper=Le._paperdiv.append("svg").classed("main-svg",!0),!Le._uid){var ke={};p.selectAll("defs").each(function(){this.id&&(ke[this.id.split("-")[1]]=1)}),Le._uid=C.randstr(ke)}Le._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),Le._defs=Le._paper.append("defs").attr("id","defs-"+Le._uid),Le._clips=Le._defs.append("g").classed("clips",!0),Le._topdefs=Le._toppaper.append("defs").attr("id","topdefs-"+Le._uid),Le._topclips=Le._topdefs.append("g").classed("clips",!0),Le._bgLayer=Le._paper.append("g").classed("bglayer",!0),Le._draggers=Le._paper.append("g").classed("draglayer",!0);var it=Le._paper.append("g").classed("layer-below",!0);Le._imageLowerLayer=it.append("g").classed("imagelayer",!0),Le._shapeLowerLayer=it.append("g").classed("shapelayer",!0),Le._cartesianlayer=Le._paper.append("g").classed("cartesianlayer",!0),Le._polarlayer=Le._paper.append("g").classed("polarlayer",!0),Le._smithlayer=Le._paper.append("g").classed("smithlayer",!0),Le._ternarylayer=Le._paper.append("g").classed("ternarylayer",!0),Le._geolayer=Le._paper.append("g").classed("geolayer",!0),Le._funnelarealayer=Le._paper.append("g").classed("funnelarealayer",!0),Le._pielayer=Le._paper.append("g").classed("pielayer",!0),Le._iciclelayer=Le._paper.append("g").classed("iciclelayer",!0),Le._treemaplayer=Le._paper.append("g").classed("treemaplayer",!0),Le._sunburstlayer=Le._paper.append("g").classed("sunburstlayer",!0),Le._indicatorlayer=Le._toppaper.append("g").classed("indicatorlayer",!0),Le._glimages=Le._paper.append("g").classed("glimages",!0);var lt=Le._toppaper.append("g").classed("layer-above",!0);Le._imageUpperLayer=lt.append("g").classed("imagelayer",!0),Le._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),Le._selectionLayer=Le._toppaper.append("g").classed("selectionlayer",!0),Le._infolayer=Le._toppaper.append("g").classed("infolayer",!0),Le._menulayer=Le._toppaper.append("g").classed("menulayer",!0),Le._zoomlayer=Le._toppaper.append("g").classed("zoomlayer",!0),Le._hoverlayer=Le._hoverpaper.append("g").classed("hoverlayer",!0),Le._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ue.emit("plotly_framework")}U.animate=Fe,U.addFrames=$e,U.deleteFrames=at,U.addTraces=Y,U.deleteTraces=V,U.extendTraces=ee,U.moveTraces=W,U.prependTraces=oe,U.newPlot=B,U._doPlot=S,U.purge=Xe,U.react=gt,U.redraw=_,U.relayout=he,U.restyle=X,U.setPlotConfig=i,U.update=Ae,U._guiRelayout=Be(he),U._guiRestyle=Be(X),U._guiUpdate=Be(Ae),U._storeDirectGUIEdit=q},72075:function(G){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,n){for(var C in L){var w=L[C];w.valType?n[C]=w.dflt:(n[C]||(n[C]={}),p(w,n[C]))}}p(U,e),G.exports={configAttributes:U,dfltConfig:e}},86281:function(G,U,e){var p=e(73972),L=e(71828),n=e(9012),C=e(10820),w=e(31391),v=e(85594),y=e(72075).configAttributes,t=e(30962),r=L.extendDeepAll,l=L.isPlainObject,a=L.isArrayOrTypedArray,s=L.nestedProperty,c=L.valObjectMeta,u="_isSubplotObj",m="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",f=[u,m,h,T];U.IS_SUBPLOT_OBJ=u,U.IS_LINKED_TO_ARRAY=m,U.DEPRECATED=T,U.UNDERSCORE_ATTRS=f,U.get=function(){var B={};p.allTypes.forEach(function(z){B[z]=A(z)});var I={};return Object.keys(p.transformsRegistry).forEach(function(z){I[z]=g(z)}),{defs:{valObjects:c,metaKeys:f.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:B,layout:E(),transforms:I,frames:S(),animation:b(v),config:b(y)}},U.crawl=function(B,I,z,O){var F=z||0;O=O||"",Object.keys(B).forEach(function(N){var Q=B[N];if(f.indexOf(N)===-1){var $=(O?O+".":"")+N;I(Q,N,B,F,$),!U.isValObject(Q)&&l(Q)&&N!=="impliedEdits"&&U.crawl(Q,I,F+1,$)}})},U.isValObject=function(B){return B&&B.valType!==void 0},U.findArrayAttributes=function(B){var I=[],z=[],O=[],F,N;function Q(V,W,X,re){z=z.slice(0,re).concat([W]),O=O.slice(0,re).concat([V&&V._isLinkedToArray]);var ie=V&&(V.valType==="data_array"||V.arrayOk===!0)&&!(z[re-1]==="colorbar"&&(W==="ticktext"||W==="tickvals"));ie&&$(F,0,"")}function $(V,W,X){var re=V[z[W]],ie=X+z[W];if(W===z.length-1)a(re)&&I.push(N+ie);else if(O[W]){if(Array.isArray(re))for(var K=0;K<re.length;K++)l(re[K])&&$(re[K],W+1,ie+"["+K+"].")}else l(re)&&$(re,W+1,ie+".")}F=B,N="",U.crawl(n,Q),B._module&&B._module.attributes&&U.crawl(B._module.attributes,Q);var j=B.transforms;if(j)for(var ee=0;ee<j.length;ee++){var oe=j[ee],Y=oe._module;Y&&(N="transforms["+ee+"].",F=oe,U.crawl(Y.attributes,Q))}return I},U.getTraceValObject=function(B,I){var z=I[0],O=1,F,N;if(z==="transforms"){if(I.length===1)return n.transforms;var Q=B.transforms;if(!Array.isArray(Q)||!Q.length)return!1;var $=I[1];if(!M($)||$>=Q.length)return!1;F=(p.transformsRegistry[Q[$].type]||{}).attributes,N=F&&F[I[2]],O=3}else{var j=B._module;if(j||(j=(p.modules[B.type||n.type.dflt]||{})._module),!j)return!1;if(F=j.attributes,N=F&&F[z],!N){var ee=j.basePlotModule;ee&&ee.attributes&&(N=ee.attributes[z])}N||(N=n[z])}return d(N,I,O)},U.getLayoutValObject=function(B,I){var z=o(B,I[0]);return d(z,I,1)};function o(B,I){var z,O,F,N,Q=B._basePlotModules;if(Q){var $;for(z=0;z<Q.length;z++){if(F=Q[z],F.attrRegex&&F.attrRegex.test(I)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!$&&F.layoutAttributes&&($=F.layoutAttributes)}var j=F.baseLayoutAttrOverrides;if(j&&I in j)return j[I]}if($)return $}var ee=B._modules;if(ee){for(z=0;z<ee.length;z++)if(N=ee[z].layoutAttributes,N&&I in N)return N[I]}for(O in p.componentsRegistry){if(F=p.componentsRegistry[O],F.name==="colorscale"&&I.indexOf("coloraxis")===0)return F.layoutAttributes[I];if(!F.schema&&I===F.name)return F.layoutAttributes}return I in C?C[I]:!1}function d(B,I,z){if(!B)return!1;if(B._isLinkedToArray){if(M(I[z]))z++;else if(z<I.length)return!1}for(;z<I.length;z++){var O=B[I[z]];if(l(O))B=O;else break;if(z===I.length-1)break;if(B._isLinkedToArray){if(z++,!M(I[z]))return!1}else if(B.valType==="info_array"){z++;var F=I[z];if(!M(F))return!1;var N=B.items;if(Array.isArray(N)){if(F>=N.length)return!1;if(B.dimensions===2){if(z++,I.length===z)return B;var Q=I[z];if(!M(Q))return!1;B=N[F][Q]}else B=N[F]}else B=N}}return B}function M(B){return B===Math.round(B)&&B>=0}function A(B){var I,z;I=p.modules[B]._module,z=I.basePlotModule;var O={};O.type=null;var F=r({},n),N=r({},I.attributes);U.crawl(N,function(j,ee,oe,Y,V){s(F,V).set(void 0),j===void 0&&s(N,V).set(void 0)}),r(O,F),p.traceIs(B,"noOpacity")&&delete O.opacity,p.traceIs(B,"showLegend")||(delete O.showlegend,delete O.legendgroup),p.traceIs(B,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),I.selectPoints||delete O.selectedpoints,r(O,N),z.attributes&&r(O,z.attributes),O.type=B;var Q={meta:I.meta||{},categories:I.categories||{},animatable:!!I.animatable,type:B,attributes:b(O)};if(I.layoutAttributes){var $={};r($,I.layoutAttributes),Q.layoutAttributes=b($)}return I.animatable||U.crawl(Q,function(j){U.isValObject(j)&&"anim"in j&&delete j.anim}),Q}function E(){var B={},I,z;r(B,C);for(I in p.subplotsRegistry)if(z=p.subplotsRegistry[I],!!z.layoutAttributes)if(Array.isArray(z.attr))for(var O=0;O<z.attr.length;O++)k(B,z,z.attr[O]);else{var F=z.attr==="subplot"?z.name:z.attr;k(B,z,F)}for(I in p.componentsRegistry){z=p.componentsRegistry[I];var N=z.schema;if(N&&(N.subplots||N.layout)){var Q=N.subplots;if(Q&&Q.xaxis&&!Q.yaxis)for(var $ in Q.xaxis)delete B.yaxis[$];delete B.xaxis.shift,delete B.xaxis.autoshift}else z.name==="colorscale"?r(B,z.layoutAttributes):z.layoutAttributes&&_(B,z.layoutAttributes,z.name)}return{layoutAttributes:b(B)}}function g(B){var I=p.transformsRegistry[B],z=r({},I.attributes);return Object.keys(p.componentsRegistry).forEach(function(O){var F=p.componentsRegistry[O];F.schema&&F.schema.transforms&&F.schema.transforms[B]&&Object.keys(F.schema.transforms[B]).forEach(function(N){_(z,F.schema.transforms[B][N],N)})}),{attributes:b(z)}}function S(){var B={frames:r({},w)};return b(B),B.frames}function b(B){return i(B),P(B),x(B),B}function i(B){function I(O){return{valType:"string",editType:"none"}}function z(O,F,N){U.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(N[F+"src"]=I()):l(O)&&(O.role="object")}U.crawl(B,z)}function P(B){function I(z,O,F){if(z){var N=z[m];N&&(delete z[m],F[O]={items:{}},F[O].items[N]=z,F[O].role="object")}}U.crawl(B,I)}function x(B){function I(z){for(var O in z)if(l(z[O]))I(z[O]);else if(Array.isArray(z[O]))for(var F=0;F<z[O].length;F++)I(z[O][F]);else z[O]instanceof RegExp&&(z[O]=z[O].toString())}I(B)}function k(B,I,z){var O=s(B,z),F=r({},I.layoutAttributes);F[u]=!0,O.set(F)}function _(B,I,z){var O=s(B,z);O.set(r(O.get()||{},I))}},44467:function(G,U,e){var p=e(71828),L=e(9012),n="templateitemname",C={name:{valType:"string",editType:"none"}};C[n]={valType:"string",editType:"calc"},U.templatedArray=function(y,t){return t._isLinkedToArray=y,t.name=C.name,t[n]=C[n],t},U.traceTemplater=function(y){var t={},r,l;for(r in y)l=y[r],Array.isArray(l)&&l.length&&(t[r]=0);function a(s){r=p.coerce(s,{},L,"type");var c={type:r,_template:null};if(r in t){l=y[r];var u=t[r]%l.length;t[r]++,c._template=l[u]}return c}return{newTrace:a}},U.newContainer=function(y,t,r){var l=y._template,a=l&&(l[t]||r&&l[r]);p.isPlainObject(a)||(a=null);var s=y[t]={_template:a};return s},U.arrayTemplater=function(y,t,r){var l=y._template,a=l&&l[v(t)],s=l&&l[t];(!Array.isArray(s)||!s.length)&&(s=[]);var c={};function u(h){var T={name:h.name,_input:h},f=T[n]=h[n];if(!w(f))return T._template=a,T;for(var o=0;o<s.length;o++){var d=s[o];if(d.name===f)return c[f]=1,T._template=d,T}return T[r]=h[r]||!1,T._template=!1,T}function m(){for(var h=[],T=0;T<s.length;T++){var f=s[T],o=f.name;if(w(o)&&!c[o]){var d={_template:f,name:o,_input:{_templateitemname:o}};d[n]=f[n],h.push(d),c[o]=1}}return h}return{newItem:u,defaultItems:m}};function w(y){return y&&typeof y=="string"}function v(y){var t=y.length-1;return y.charAt(t)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+y),y.substr(0,y.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(y,t,r){var l=(p.nestedProperty(y,t).get()||[]).length,a=r._index,s=a>=l&&(r._input||{})._templateitemname;s&&(a=l);var c=t+"["+a+"]",u;function m(){u={},s&&(u[c]={},u[c][n]=s)}m();function h(d,M){u[d]=M}function T(d,M){s?p.nestedProperty(u[c],d).set(M):u[c+"."+d]=M}function f(){var d=u;return m(),d}function o(d,M){d&&T(d,M);var A=f();for(var E in A)p.nestedProperty(y,E).set(A[E])}return{modifyBase:h,modifyItem:T,getUpdateObj:f,applyUpdate:o}}},61549:function(G,U,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),w=e(63893),v=e(33306),y=e(7901),t=e(91424),r=e(92998),l=e(64168),a=e(89298),s=e(18783),c=e(99082),u=c.enforce,m=c.clean,h=e(71739).doAutoRange,T="start",f="middle",o="end";U.layoutStyles=function(z){return C.syncOrAsync([n.doAutoMargin,M],z)};function d(z,O,F){for(var N=0;N<F.length;N++){var Q=F[N][0],$=F[N][1];if(!(Q[0]>=z[1]||Q[1]<=z[0])&&$[0]<O[1]&&$[1]>O[0])return!0}return!1}function M(z){var O=z._fullLayout,F=O._size,N=F.p,Q=a.list(z,"",!0),$,j,ee,oe,Y,V;if(O._paperdiv.style({width:z._context.responsive&&O.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":O.width+"px",height:z._context.responsive&&O.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),z._context.setBackground(z,O.paper_bgcolor),U.drawMainTitle(z),l.manage(z),!O._has("cartesian"))return n.previousPromises(z);function W(we,ue,ge){var Le=we._lw/2;if(we._id.charAt(0)==="x"){if(ue){if(ge==="top")return ue._offset-N-Le}else return F.t+F.h*(1-(we.position||0))+Le%1;return ue._offset+ue._length+N+Le}if(ue){if(ge==="right")return ue._offset+ue._length+N+Le}else return F.l+F.w*(we.position||0)+Le%1;return ue._offset-N-Le}for($=0;$<Q.length;$++){oe=Q[$];var X=oe._anchorAxis;oe._linepositions={},oe._lw=t.crispRound(z,oe.linewidth,1),oe._mainLinePosition=W(oe,X,oe.side),oe._mainMirrorPosition=oe.mirror&&X?W(oe,X,s.OPPOSITE_SIDE[oe.side]):null}var re=[],ie=[],K=[],q=y.opacity(O.paper_bgcolor)===1&&y.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(j in O._plots)if(ee=O._plots[j],ee.mainplot)ee.bg&&ee.bg.remove(),ee.bg=void 0;else{var le=ee.xaxis.domain,ae=ee.yaxis.domain,he=ee.plotgroup;if(d(le,ae,K)){var me=he.node(),Me=ee.bg=C.ensureSingle(he,"rect","bg");me.insertBefore(Me.node(),me.childNodes[0]),ie.push(j)}else he.select("rect.bg").remove(),K.push([le,ae]),q||(re.push(j),ie.push(j))}var xe=O._bgLayer.selectAll(".bg").data(re);for(xe.enter().append("rect").classed("bg",!0),xe.exit().remove(),xe.each(function(we){O._plots[we].bg=p.select(this)}),$=0;$<ie.length;$++)ee=O._plots[ie[$]],Y=ee.xaxis,V=ee.yaxis,ee.bg&&Y._offset!==void 0&&V._offset!==void 0&&ee.bg.call(t.setRect,Y._offset-N,V._offset-N,Y._length+2*N,V._length+2*N).call(y.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(j in O._plots){ee=O._plots[j],Y=ee.xaxis,V=ee.yaxis;var Ie=ee.clipId="clip"+O._uid+j+"plot",_e=C.ensureSingleById(O._clips,"clipPath",Ie,function(we){we.classed("plotclip",!0).append("rect")});ee.clipRect=_e.select("rect").attr({width:Y._length,height:V._length}),t.setTranslate(ee.plot,Y._offset,V._offset);var Te,ye;ee._hasClipOnAxisFalse?(Te=null,ye=Ie):(Te=Ie,ye=null),t.setClipUrl(ee.plot,Te,z),ee.layerClipId=ye}var Ae,Be,Ue,De,He,ut,et,Qe,qe,ft,gt,xt,Ct;function Je(we){return"M"+Ae+","+we+"H"+Be}function ze(we){return"M"+Y._offset+","+we+"h"+Y._length}function Fe(we){return"M"+we+","+Qe+"V"+et}function $e(we){return V._shift!==void 0&&(we+=V._shift),"M"+we+","+V._offset+"v"+V._length}function at(we,ue,ge){if(!we.showline||j!==we._mainSubplot)return"";if(!we._anchorAxis)return ge(we._mainLinePosition);var Le=ue(we._mainLinePosition);return we.mirror&&(Le+=ue(we._mainMirrorPosition)),Le}for(j in O._plots){ee=O._plots[j],Y=ee.xaxis,V=ee.yaxis;var Xe="M0,0";A(Y,j)&&(He=g(Y,"left",V,Q),Ae=Y._offset-(He?N+He:0),ut=g(Y,"right",V,Q),Be=Y._offset+Y._length+(ut?N+ut:0),Ue=W(Y,V,"bottom"),De=W(Y,V,"top"),Ct=!Y._anchorAxis||j!==Y._mainSubplot,Ct&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[j]=[Ue,De]),Xe=at(Y,Je,ze),Ct&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(Xe+=Je(Ue)+Je(De)),ee.xlines.style("stroke-width",Y._lw+"px").call(y.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),ee.xlines.attr("d",Xe);var Pe="M0,0";A(V,j)&&(gt=g(V,"bottom",Y,Q),et=V._offset+V._length+(gt?N:0),xt=g(V,"top",Y,Q),Qe=V._offset-(xt?N:0),qe=W(V,Y,"left"),ft=W(V,Y,"right"),Ct=!V._anchorAxis||j!==V._mainSubplot,Ct&&(V.mirror==="allticks"||V.mirror==="all")&&(V._linepositions[j]=[qe,ft]),Pe=at(V,Fe,$e),Ct&&V.showline&&(V.mirror==="all"||V.mirror==="allticks")&&(Pe+=Fe(qe)+Fe(ft)),ee.ylines.style("stroke-width",V._lw+"px").call(y.stroke,V.showline?V.linecolor:"rgba(0,0,0,0)")),ee.ylines.attr("d",Pe)}return a.makeClipPaths(z),n.previousPromises(z)}function A(z,O){return(z.ticks||z.showline)&&(O===z._mainSubplot||z.mirror==="all"||z.mirror==="allticks")}function E(z,O,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var N=F._anchorAxis;if(!N)return!1;var Q=s.FROM_BL[O];return F.side===O?N.domain[Q]===z.domain[Q]:F.mirror&&N.domain[1-Q]===z.domain[1-Q]}function g(z,O,F,N){if(E(z,O,F))return F._lw;for(var Q=0;Q<N.length;Q++){var $=N[Q];if($._mainAxis===F._mainAxis&&E(z,O,$))return $._lw}return 0}U.drawMainTitle=function(z){var O=z._fullLayout.title,F=z._fullLayout,N=B(F),Q=I(F),$=k(F,Q),j=x(F,N);if(r.draw(z,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:j,y:$,"text-anchor":N,dy:Q}}),O.text&&O.automargin){var ee=p.selectAll(".gtitle"),oe=t.bBox(ee.node()).height,Y=i(z,O,oe);Y>0&&(P(z,$,Y,oe),ee.attr({x:j,y:$,"text-anchor":N,dy:_(O.yanchor)}).call(w.positionText,j,$))}};function S(z,O,F,N,Q){var $=O.yref==="paper"?z._fullLayout._size.h:z._fullLayout.height,j=C.isTopAnchor(O)?N:N-Q,ee=F==="b"?$-j:j;return C.isTopAnchor(O)&&F==="t"||C.isBottomAnchor(O)&&F==="b"?!1:ee<Q}function b(z,O,F,N,Q){var $=0;return F==="middle"&&($+=Q/2),z==="t"?(F==="top"&&($+=Q),$+=N-O*N):(F==="bottom"&&($+=Q),$+=O*N),$}function i(z,O,F){var N=O.y,Q=O.yanchor,$=N>.5?"t":"b",j=z._fullLayout.margin[$],ee=0;return O.yref==="paper"?ee=F+O.pad.t+O.pad.b:O.yref==="container"&&(ee=b($,N,Q,z._fullLayout.height,F)+O.pad.t+O.pad.b),ee>j?ee:0}function P(z,O,F,N){var Q="title.automargin",$=z._fullLayout.title,j=$.y>.5?"t":"b",ee={x:$.x,y:$.y,t:0,b:0},oe={};$.yref==="paper"&&S(z,$,j,O,N)?ee[j]=F:$.yref==="container"&&(oe[j]=F,z._fullLayout._reservedMargin[Q]=oe),n.allowAutoMargin(z,Q),n.autoMargin(z,Q,ee)}function x(z,O){var F=z.title,N=z._size,Q=0;switch(O===T?Q=F.pad.l:O===o&&(Q=-F.pad.r),F.xref){case"paper":return N.l+N.w*F.x+Q;case"container":default:return z.width*F.x+Q}}function k(z,O){var F=z.title,N=z._size,Q=0;if(O==="0em"||!O?Q=-F.pad.b:O===s.CAP_SHIFT+"em"&&(Q=F.pad.t),F.y==="auto")return N.t/2;switch(F.yref){case"paper":return N.t+N.h-N.h*F.y+Q;case"container":default:return z.height-z.height*F.y+Q}}function _(z){return z==="top"?s.CAP_SHIFT+.3+"em":z==="bottom"?"-0.3em":s.MID_SHIFT+"em"}function B(z){var O=z.title,F=f;return C.isRightAnchor(O)?F=o:C.isLeftAnchor(O)&&(F=T),F}function I(z){var O=z.title,F="0em";return C.isTopAnchor(O)?F=s.CAP_SHIFT+"em":C.isMiddleAnchor(O)&&(F=s.MID_SHIFT+"em"),F}U.doTraceStyle=function(z){var O=z.calcdata,F=[],N;for(N=0;N<O.length;N++){var Q=O[N],$=Q[0]||{},j=$.trace||{},ee=j._module||{},oe=ee.arraysToCalcdata;oe&&oe(Q,j);var Y=ee.editStyle;Y&&F.push({fn:Y,cd0:$})}if(F.length){for(N=0;N<F.length;N++){var V=F[N];V.fn(z,V.cd0)}v(z),U.redrawReglTraces(z)}return n.style(z),L.getComponentMethod("legend","draw")(z),n.previousPromises(z)},U.doColorBars=function(z){return L.getComponentMethod("colorbar","draw")(z),n.previousPromises(z)},U.layoutReplot=function(z){var O=z.layout;return z.layout=void 0,L.call("_doPlot",z,"",O)},U.doLegend=function(z){return L.getComponentMethod("legend","draw")(z),n.previousPromises(z)},U.doTicksRelayout=function(z){return a.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(z),v(z),U.redrawReglTraces(z)),U.drawMainTitle(z),n.previousPromises(z)},U.doModeBar=function(z){var O=z._fullLayout;l.manage(z);for(var F=0;F<O._basePlotModules.length;F++){var N=O._basePlotModules[F].updateFx;N&&N(z)}return n.previousPromises(z)},U.doCamera=function(z){for(var O=z._fullLayout,F=O._subplots.gl3d,N=0;N<F.length;N++){var Q=O[F[N]],$=Q._scene;$.setViewport(Q)}},U.drawData=function(z){var O=z._fullLayout;v(z);for(var F=O._basePlotModules,N=0;N<F.length;N++)F[N].plot(z);return U.redrawReglTraces(z),n.style(z),L.getComponentMethod("selections","draw")(z),L.getComponentMethod("shapes","draw")(z),L.getComponentMethod("annotations","draw")(z),L.getComponentMethod("images","draw")(z),O._replotting=!1,n.previousPromises(z)},U.redrawReglTraces=function(z){var O=z._fullLayout;if(O._has("regl")){var F=z._fullData,N=[],Q=[],$,j;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),$=0;$<F.length;$++){var ee=F[$];ee.visible===!0&&ee._length!==0&&(ee.type==="splom"?O._splomScenes[ee.uid].draw():ee.type==="scattergl"?C.pushUnique(N,ee.xaxis+ee.yaxis):ee.type==="scatterpolargl"&&C.pushUnique(Q,ee.subplot))}for($=0;$<N.length;$++)j=O._plots[N[$]],j._scene&&j._scene.draw();for($=0;$<Q.length;$++)j=O[Q[$]]._subplot,j._scene&&j._scene.draw()}},U.doAutoRangeAndConstraints=function(z){for(var O=a.list(z,"",!0),F,N={},Q=0;Q<O.length;Q++)if(F=O[Q],!N[F._id]){N[F._id]=1,m(z,F),h(z,F);var $=F._matchGroup;if($)for(var j in $){var ee=a.getFromId(z,j);h(z,ee,F.range),N[j]=1}}u(z)},U.finalDraw=function(z){L.getComponentMethod("rangeslider","draw")(z),L.getComponentMethod("rangeselector","draw")(z)},U.drawMarginPushers=function(z){L.getComponentMethod("legend","draw")(z),L.getComponentMethod("rangeselector","draw")(z),L.getComponentMethod("sliders","draw")(z),L.getComponentMethod("updatemenus","draw")(z),L.getComponentMethod("colorbar","draw")(z)}},96318:function(G,U,e){var p=e(71828),L=p.isPlainObject,n=e(86281),C=e(74875),w=e(9012),v=e(44467),y=e(72075).dfltConfig;U.makeTemplate=function(h){h=p.isPlainObject(h)?h:p.getGraphDiv(h),h=p.extendDeep({_context:y},{data:h.data,layout:h.layout}),C.supplyDefaults(h);var T=h.data||[],f=h.layout||{};f._basePlotModules=h._fullLayout._basePlotModules,f._modules=h._fullLayout._modules;var o={data:{},layout:{}};T.forEach(function(x){var k={};l(x,k,s.bind(null,x));var _=p.coerce(x,{},w,"type"),B=o.data[_];B||(B=o.data[_]=[]),B.push(k)}),l(f,o.layout,a.bind(null,f)),delete o.layout.template;var d=f.template;if(L(d)){var M=d.layout,A,E,g,S,b,i;L(M)&&t(M,o.layout);var P=d.data;if(L(P)){for(E in o.data)if(g=P[E],Array.isArray(g)){for(b=o.data[E],i=b.length,S=g.length,A=0;A<i;A++)t(g[A%S],b[A]);for(A=i;A<S;A++)b.push(p.extendDeep({},g[A]))}for(E in P)E in o.data||(o.data[E]=p.extendDeep([],P[E]))}}return o};function t(h,T){h=p.extendDeep({},h);var f=Object.keys(h).sort(),o,d;function M(b,i,P){if(L(i)&&L(b))t(b,i);else if(Array.isArray(i)&&Array.isArray(b)){var x=v.arrayTemplater({_template:h},P);for(d=0;d<i.length;d++){var k=i[d],_=x.newItem(k)._template;_&&t(_,k)}var B=x.defaultItems();for(d=0;d<B.length;d++)i.push(B[d]._template);for(d=0;d<i.length;d++)delete i[d].templateitemname}}for(o=0;o<f.length;o++){var A=f[o],E=h[A];if(A in T?M(E,T[A],A):T[A]=E,r(A)===A)for(var g in T){var S=r(g);g!==S&&S===A&&!(g in h)&&M(E,T[g],A)}}}function r(h){return h.replace(/[0-9]+$/,"")}function l(h,T,f,o,d){var M=d&&f(d);for(var A in h){var E=h[A],g=c(h,A,o),S=c(h,A,d),b=f(S);if(!b){var i=r(A);i!==A&&(S=c(h,i,d),b=f(S))}if(!(M&&M===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(E)))if(!b.valType&&L(E))l(E,T,f,g,S);else if(b._isLinkedToArray&&Array.isArray(E))for(var P=!1,x=0,k={},_=0;_<E.length;_++){var B=E[_];if(L(B)){var I=B.name;if(I)k[I]||(l(B,T,f,c(E,x,g),c(E,x,S)),x++,k[I]=1);else if(!P){var z=v.arrayDefaultKey(A),O=c(h,z,o),F=c(E,x,g);l(B,T,f,F,c(E,x,S));var N=p.nestedProperty(T,F),Q=p.nestedProperty(T,O);Q.set(N.get()),N.set(null),P=!0}}}else{var $=p.nestedProperty(T,g);$.set(E)}}}function a(h,T){return n.getLayoutValObject(h,p.nestedProperty({},T).parts)}function s(h,T){return n.getTraceValObject(h,p.nestedProperty({},T).parts)}function c(h,T,f){var o;return f?Array.isArray(h)?o=f+"["+T+"]":o=f+"."+T:o=T,o}U.validateTemplate=function(h,T){var f=p.extendDeep({},{_context:y,data:h.data,layout:h.layout}),o=f.layout||{};L(T)||(T=o.template||{});var d=T.layout,M=T.data,A=[];f.layout=o,f.layout.template=T,C.supplyDefaults(f);var E=f._fullLayout,g=f._fullData,S={};function b(O,F){for(var N in O)if(N.charAt(0)!=="_"&&L(O[N])){var Q=r(N),$=[],j;for(j=0;j<F.length;j++)$.push(c(O,N,F[j])),Q!==N&&$.push(c(O,Q,F[j]));for(j=0;j<$.length;j++)S[$[j]]=1;b(O[N],$)}}function i(O,F){for(var N in O)if(N.indexOf("defaults")===-1&&L(O[N])){var Q=c(O,N,F);S[Q]?i(O[N],Q):A.push({code:"unused",path:Q})}}if(L(d)?(b(E,["layout"]),i(d,"layout")):A.push({code:"layout"}),!L(M))A.push({code:"data"});else{for(var P={},x,k=0;k<g.length;k++){var _=g[k];x=_.type,P[x]=(P[x]||0)+1,_._fullInput._template||A.push({code:"missing",index:_._fullInput.index,traceType:x})}for(x in M){var B=M[x].length,I=P[x]||0;B>I?A.push({code:"unused",traceType:x,templateCount:B,dataCount:I}):I>B&&A.push({code:"reused",traceType:x,templateCount:B,dataCount:I})}}function z(O,F){for(var N in O)if(N.charAt(0)!=="_"){var Q=O[N],$=c(O,N,F);L(Q)?(Array.isArray(O)&&Q._template===!1&&Q.templateitemname&&A.push({code:"missing",path:$,templateitemname:Q.templateitemname}),z(Q,$)):Array.isArray(Q)&&u(Q)&&z(Q,$)}}if(z({data:g,layout:E},""),A.length)return A.map(m)};function u(h){for(var T=0;T<h.length;T++)if(L(h[T]))return!0}function m(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},403:function(G,U,e){var p=e(92770),L=e(72391),n=e(74875),C=e(71828),w=e(25095),v=e(5900),y=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function l(a,s){s=s||{};var c,u,m,h;C.isPlainObject(a)?(c=a.data||[],u=a.layout||{},m=a.config||{},h={}):(a=C.getGraphDiv(a),c=C.extendDeep([],a.data),u=C.extendDeep({},a.layout),m=a._context,h=a._fullLayout||{});function T(I){return!(I in s)||C.validate(s[I],r[I])}if(!T("width")&&s.width!==null||!T("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+C.join2(r.format.values,", "," or ")+".");var f={};function o(I,z){return C.coerce(s,f,r,I,z)}var d=o("format"),M=o("width"),A=o("height"),E=o("scale"),g=o("setBackground"),S=o("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var i=C.extendFlat({},u);M?i.width=M:s.width===null&&p(h.width)&&(i.width=h.width),A?i.height=A:s.height===null&&p(h.height)&&(i.height=h.height);var P=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:g}),x=w.getRedrawFunc(b);function k(){return new Promise(function(I){setTimeout(I,w.getDelay(b._fullLayout))})}function _(){return new Promise(function(I,z){var O=v(b,d,E),F=b._fullLayout.width,N=b._fullLayout.height;function Q(){L.purge(b),document.body.removeChild(b)}if(d==="full-json"){var $=n.graphJson(b,!1,"keepdata","object",!0,!0);return $.version=t,$=JSON.stringify($),Q(),I(S?$:w.encodeJSON($))}if(Q(),d==="svg")return I(S?O:w.encodeSVG(O));var j=document.createElement("canvas");j.id=C.randstr(),y({format:d,width:F,height:N,scale:E,canvas:j,svg:O,promise:!0}).then(I).catch(z)})}function B(I){return S?I.replace(w.IMAGE_URL_PREFIX,""):I}return new Promise(function(I,z){L.newPlot(b,c,i,P).then(x).then(k).then(_).then(function(O){I(B(O))}).catch(function(O){z(O)})})}G.exports=l},84936:function(G,U,e){var p=e(71828),L=e(74875),n=e(86281),C=e(72075).dfltConfig,w=p.isPlainObject,v=Array.isArray,y=p.isArrayOrTypedArray;G.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var M=n.get(),A=[],E={_context:p.extendFlat({},C)},g,S;v(o)?(E.data=p.extendDeep([],o),g=o):(E.data=[],g=[],A.push(s("array","data"))),w(d)?(E.layout=p.extendDeep({},d),S=d):(E.layout={},S={},arguments.length>1&&A.push(s("object","layout"))),L.supplyDefaults(E);for(var b=E._fullData,i=g.length,P=0;P<i;P++){var x=g[P],k=["data",P];if(!w(x)){A.push(s("object",k));continue}var _=b[P],B=_.type,I=M.traces[B].attributes;I.type={valType:"enumerated",values:[B]},_.visible===!1&&x.visible!==!1&&A.push(s("invisible",k)),t(x,_,I,A,k);var z=x.transforms,O=_.transforms;if(z){v(z)||A.push(s("array",k,["transforms"])),k.push("transforms");for(var F=0;F<z.length;F++){var N=["transforms",F],Q=z[F].type;if(!w(z[F])){A.push(s("object",k,N));continue}var $=M.transforms[Q]?M.transforms[Q].attributes:{};$.type={valType:"enumerated",values:Object.keys(M.transforms)},t(z[F],O[F],$,A,k,N)}}}var j=E._fullLayout,ee=r(M,b);return t(S,j,ee,A,"layout"),A.length===0?void 0:A};function t(f,o,d,M,A,E){E=E||[];for(var g=Object.keys(f),S=0;S<g.length;S++){var b=g[S];if(b!=="transforms"){var i=E.slice();i.push(b);var P=f[b],x=o[b],k=u(d,b),_=(k||{}).valType,B=_==="info_array",I=_==="colorscale",z=(k||{}).items;if(!c(d,b))M.push(s("schema",A,i));else if(w(P)&&w(x)&&_!=="any")t(P,x,k,M,A,i);else if(B&&v(P)){P.length>x.length&&M.push(s("unused",A,i.concat(x.length)));var O=x.length,F=Array.isArray(z);F&&(O=Math.min(O,z.length));var N,Q,$,j,ee;if(k.dimensions===2)for(Q=0;Q<O;Q++)if(v(P[Q])){P[Q].length>x[Q].length&&M.push(s("unused",A,i.concat(Q,x[Q].length)));var oe=x[Q].length;for(N=0;N<(F?Math.min(oe,z[Q].length):oe);N++)$=F?z[Q][N]:z,j=P[Q][N],ee=x[Q][N],p.validate(j,$)?ee!==j&&ee!==+j&&M.push(s("dynamic",A,i.concat(Q,N),j,ee)):M.push(s("value",A,i.concat(Q,N),j))}else M.push(s("array",A,i.concat(Q),P[Q]));else for(Q=0;Q<O;Q++)$=F?z[Q]:z,j=P[Q],ee=x[Q],p.validate(j,$)?ee!==j&&ee!==+j&&M.push(s("dynamic",A,i.concat(Q),j,ee)):M.push(s("value",A,i.concat(Q),j))}else if(k.items&&!B&&v(P)){var Y=z[Object.keys(z)[0]],V=[],W,X;for(W=0;W<x.length;W++){var re=x[W]._index||W;if(X=i.slice(),X.push(re),w(P[re])&&w(x[W])){V.push(re);var ie=P[re],K=x[W];w(ie)&&ie.visible!==!1&&K.visible===!1?M.push(s("invisible",A,X)):t(ie,K,Y,M,A,X)}}for(W=0;W<P.length;W++)X=i.slice(),X.push(W),w(P[W])?V.indexOf(W)===-1&&M.push(s("unused",A,X)):M.push(s("object",A,X,P[W]))}else!w(P)&&w(x)?M.push(s("object",A,i,P)):!y(P)&&y(x)&&!B&&!I?M.push(s("array",A,i,P)):b in o?p.validate(P,k)?k.valType==="enumerated"&&(k.coerceNumber&&P!==+x||P!==x)&&M.push(s("dynamic",A,i,P,x)):M.push(s("value",A,i,P)):M.push(s("unused",A,i,P))}}return M}function r(f,o){for(var d=f.layout.layoutAttributes,M=0;M<o.length;M++){var A=o[M],E=f.traces[A.type],g=E.layoutAttributes;g&&(A.subplot?p.extendFlat(d[E.attributes.subplot.dflt],g):p.extendFlat(d,g))}return d}var l={object:function(f,o){var d;return f==="layout"&&o===""?d="The layout argument":f[0]==="data"&&o===""?d="Trace "+f[1]+" in the data argument":d=a(f)+"key "+o,d+" must be linked to an object container"},array:function(f,o){var d;return f==="data"?d="The data argument":d=a(f)+"key "+o,d+" must be linked to an array container"},schema:function(f,o){return a(f)+"key "+o+" is not part of the schema"},unused:function(f,o,d){var M=w(d)?"container":"key";return a(f)+M+" "+o+" did not get coerced"},dynamic:function(f,o,d,M){return[a(f)+"key",o,"(set to '"+d+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(f,o){return(o?a(f)+"item "+o:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,o,d){return[a(f)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function a(f){return v(f)?"In data trace "+f[1]+", ":"In "+f+", "}function s(f,o,d,M,A){d=d||"";var E,g;v(o)?(E=o[0],g=o[1]):(E=o,g=null);var S=T(d),b=l[f](o,S,M,A);return p.log(b),{code:f,container:E,trace:g,path:d,astr:S,msg:b}}function c(f,o){var d=h(o),M=d.keyMinusId,A=d.id;return M in f&&f[M]._isSubplotObj&&A?!0:o in f}function u(f,o){if(o in f)return f[o];var d=h(o);return f[d.keyMinusId]}var m=p.counterRegex("([a-z]+)");function h(f){var o=f.match(m);return{keyMinusId:o&&o[1],id:o&&o[2]}}function T(f){if(!v(f))return String(f);for(var o="",d=0;d<f.length;d++){var M=f[d];typeof M=="number"?o=o.substr(0,o.length-1)+"["+M+"]":o+=M,d<f.length-1&&(o+=".")}return o}},85594:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(G,U,e){var p=e(71828),L=e(44467);G.exports=function(C,w,v){var y=v.name,t=v.inclusionAttr||"visible",r=w[y],l=p.isArrayOrTypedArray(C[y])?C[y]:[],a=w[y]=[],s=L.arrayTemplater(w,y,t),c,u;for(c=0;c<l.length;c++){var m=l[c];p.isPlainObject(m)?u=s.newItem(m):(u=s.newItem({}),u[t]=!1),u._index=c,u[t]!==!1&&v.handleItemDefaults(m,u,w,v),a.push(u)}var h=s.defaultItems();for(c=0;c<h.length;c++)u=h[c],u._index=a.length,v.handleItemDefaults({},u,w,v,{}),a.push(u);if(p.isArrayOrTypedArray(r)){var T=Math.min(r.length,a.length);for(c=0;c<T;c++)p.relinkPrivateKeys(a[c],r[c])}return a}},9012:function(G,U,e){var p=e(41940),L=e(77914);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(G,U,e){var p=e(92770),L=e(71828),n=L.dateTime2ms,C=L.incrementMonth,w=e(50606),v=w.ONEAVGMONTH;G.exports=function(t,r,l,a){if(r.type!=="date")return{vals:a};var s=t[l+"periodalignment"];if(!s)return{vals:a};var c=t[l+"period"],u;if(p(c)){if(c=+c,c<=0)return{vals:a}}else if(typeof c=="string"&&c.charAt(0)==="M"){var m=+c.substring(1);if(m>0&&Math.round(m)===m)u=m;else return{vals:a}}for(var h=r.calendar,T=s==="start",f=s==="end",o=t[l+"period0"],d=n(o,h)||0,M=[],A=[],E=[],g=a.length,S=0;S<g;S++){var b=a[S],i,P,x;if(u){for(i=Math.round((b-d)/(u*v)),x=C(d,u*i,h);x>b;)x=C(x,-u,h);for(;x<=b;)x=C(x,u,h);P=C(x,-u,h)}else{for(i=Math.round((b-d)/c),x=d+i*c;x>b;)x-=c;for(;x<=b;)x+=c;P=x-c}M[S]=T?P:f?x:(P+x)/2,A[S]=P,E[S]=x}return{vals:M,starts:A,ends:E}}},89502:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(G,U,e){var p=e(39898),L=e(92770),n=e(71828),C=e(50606).FP_SAFE,w=e(73972),v=e(91424),y=e(41675),t=y.getFromId,r=y.isLinked;G.exports={getAutoRange:l,makePadFn:s,doAutoRange:h,findExtremes:T,concatExtremes:m};function l(g,S){var b,i,P=[],x=g._fullLayout,k=s(x,S,0),_=s(x,S,1),B=m(g,S),I=B.min,z=B.max;if(I.length===0||z.length===0)return n.simpleMap(S.range,S.r2l);var O=I[0].val,F=z[0].val;for(b=1;b<I.length&&O===F;b++)O=Math.min(O,I[b].val);for(b=1;b<z.length&&O===F;b++)F=Math.max(F,z[b].val);var N=!1;if(S.range){var Q=n.simpleMap(S.range,S.r2l);N=Q[1]<Q[0]}S.autorange==="reversed"&&(N=!0,S.autorange=!0);var $=S.rangemode,j=$==="tozero",ee=$==="nonnegative",oe=S._length,Y=oe/10,V=0,W,X,re,ie,K,q;for(b=0;b<I.length;b++)for(W=I[b],i=0;i<z.length;i++)X=z[i],q=X.val-W.val-a(S,W.val,X.val),q>0&&(K=oe-k(W)-_(X),K>Y?q/K>V&&(re=W,ie=X,V=q/K):q/oe>V&&(re={val:W.val,nopad:1},ie={val:X.val,nopad:1},V=q/oe));function le(xe,Ie){return Math.max(xe,_(Ie))}if(O===F){var ae=O-1,he=O+1;if(j)if(O===0)P=[0,1];else{var me=(O>0?z:I).reduce(le,0),Me=O/(1-Math.min(.5,me/oe));P=O>0?[0,Me]:[Me,0]}else ee?P=[Math.max(0,ae),Math.max(1,he)]:P=[ae,he]}else j?(re.val>=0&&(re={val:0,nopad:1}),ie.val<=0&&(ie={val:0,nopad:1})):ee&&(re.val-V*k(re)<0&&(re={val:0,nopad:1}),ie.val<=0&&(ie={val:1,nopad:1})),V=(ie.val-re.val-a(S,W.val,X.val))/(oe-k(re)-_(ie)),P=[re.val-V*k(re),ie.val+V*_(ie)];return N&&P.reverse(),n.simpleMap(P,S.l2r||Number)}function a(g,S,b){var i=0;if(g.rangebreaks)for(var P=g.locateBreaks(S,b),x=0;x<P.length;x++){var k=P[x];i+=k.max-k.min}return i}function s(g,S,b){var i=.05*S._length,P=S._anchorAxis||{};if((S.ticklabelposition||"").indexOf("inside")!==-1||(P.ticklabelposition||"").indexOf("inside")!==-1){var x=S.autorange==="reversed";if(!x){var k=n.simpleMap(S.range,S.r2l);x=k[1]<k[0]}x&&(b=!b)}var _=0;return r(g,S._id)||(_=u(g,S,b)),i=Math.max(_,i),S.constrain==="domain"&&S._inputDomain&&(i*=(S._inputDomain[1]-S._inputDomain[0])/(S.domain[1]-S.domain[0])),function(I){return I.nopad?0:I.pad+(I.extrapad?i:_)}}var c=3;function u(g,S,b){var i=0,P=S._id.charAt(0)==="x";for(var x in g._plots){var k=g._plots[x];if(!(S._id!==k.xaxis._id&&S._id!==k.yaxis._id)){var _=(P?k.yaxis:k.xaxis)||{};if((_.ticklabelposition||"").indexOf("inside")!==-1&&(!b&&(_.side==="left"||_.side==="bottom")||b&&(_.side==="top"||_.side==="right"))){if(_._vals){var B=n.deg2rad(_._tickAngles[_._id+"tick"]||0),I=Math.abs(Math.cos(B)),z=Math.abs(Math.sin(B));if(!_._vals[0].bb){var O=_._id+"tick",F=_._selections[O];F.each(function(oe){var Y=p.select(this),V=Y.select(".text-math-group");V.empty()&&(oe.bb=v.bBox(Y.node()))})}for(var N=0;N<_._vals.length;N++){var Q=_._vals[N],$=Q.bb;if($){var j=2*c+$.width,ee=2*c+$.height;i=Math.max(i,P?Math.max(j*I,ee*z):Math.max(ee*I,j*z))}}}_.ticks==="inside"&&_.ticklabelposition==="inside"&&(i+=_.ticklen||0)}}}return i}function m(g,S,b){var i=S._id,P=g._fullData,x=g._fullLayout,k=[],_=[],B,I,z;function O(j,ee){for(B=0;B<ee.length;B++){var oe=j[ee[B]],Y=(oe._extremes||{})[i];if(oe.visible===!0&&Y){for(I=0;I<Y.min.length;I++)z=Y.min[I],f(k,z.val,z.pad,{extrapad:z.extrapad});for(I=0;I<Y.max.length;I++)z=Y.max[I],o(_,z.val,z.pad,{extrapad:z.extrapad})}}}if(O(P,S._traceIndices),O(x.annotations||[],S._annIndices||[]),O(x.shapes||[],S._shapeIndices||[]),S._matchGroup&&!b){for(var F in S._matchGroup)if(F!==S._id){var N=t(g,F),Q=m(g,N,!0),$=S._length/N._length;for(I=0;I<Q.min.length;I++)z=Q.min[I],f(k,z.val,z.pad*$,{extrapad:z.extrapad});for(I=0;I<Q.max.length;I++)z=Q.max[I],o(_,z.val,z.pad*$,{extrapad:z.extrapad})}}return{min:k,max:_}}function h(g,S,b){if(S.setScale(),S.autorange){S.range=b?b.slice():l(g,S),S._r=S.range.slice(),S._rl=n.simpleMap(S._r,S.r2l);var i=S._input,P={};P[S._attr+".range"]=S.range,P[S._attr+".autorange"]=S.autorange,w.call("_storeDirectGUIEdit",g.layout,g._fullLayout._preGUI,P),i.range=S.range.slice(),i.autorange=S.autorange}var x=S._anchorAxis;if(x&&x.rangeslider){var k=x.rangeslider[S._name];k&&k.rangemode==="auto"&&(k.range=l(g,S)),x._input.rangeslider[S._name]=n.extendFlat({},k)}}function T(g,S,b){b||(b={}),g._m||g.setScale();var i=[],P=[],x=S.length,k=b.padded||!1,_=b.tozero&&(g.type==="linear"||g.type==="-"),B=g.type==="log",I=!1,z=b.vpadLinearized||!1,O,F,N,Q,$,j,ee,oe,Y;function V(ae){if(Array.isArray(ae))return I=!0,function(me){return Math.max(Number(ae[me]||0),0)};var he=Math.max(Number(ae||0),0);return function(){return he}}var W=V((g._m>0?b.ppadplus:b.ppadminus)||b.ppad||0),X=V((g._m>0?b.ppadminus:b.ppadplus)||b.ppad||0),re=V(b.vpadplus||b.vpad),ie=V(b.vpadminus||b.vpad);if(!I){if(oe=1/0,Y=-1/0,B)for(O=0;O<x;O++)F=S[O],F<oe&&F>0&&(oe=F),F>Y&&F<C&&(Y=F);else for(O=0;O<x;O++)F=S[O],F<oe&&F>-C&&(oe=F),F>Y&&F<C&&(Y=F);S=[oe,Y],x=2}var K={tozero:_,extrapad:k};function q(ae){N=S[ae],L(N)&&(j=W(ae),ee=X(ae),z?(Q=g.c2l(N)-ie(ae),$=g.c2l(N)+re(ae)):(oe=N-ie(ae),Y=N+re(ae),B&&oe<Y/10&&(oe=Y/10),Q=g.c2l(oe),$=g.c2l(Y)),_&&(Q=Math.min(0,Q),$=Math.max(0,$)),M(Q)&&f(i,Q,ee,K),M($)&&o(P,$,j,K))}var le=Math.min(6,x);for(O=0;O<le;O++)q(O);for(O=x-1;O>=le;O--)q(O);return{min:i,max:P,opts:b}}function f(g,S,b,i){d(g,S,b,i,A)}function o(g,S,b,i){d(g,S,b,i,E)}function d(g,S,b,i,P){for(var x=i.tozero,k=i.extrapad,_=!0,B=0;B<g.length&&_;B++){var I=g[B];if(P(I.val,S)&&I.pad>=b&&(I.extrapad||!k)){_=!1;break}else P(S,I.val)&&I.pad<=b&&(k||!I.extrapad)&&(g.splice(B,1),B--)}if(_){var z=x&&S===0;g.push({val:S,pad:z?0:b,extrapad:z?!1:k})}}function M(g){return L(g)&&Math.abs(g)<C}function A(g,S){return g<=S}function E(g,S){return g>=S}},89298:function(G,U,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),w=e(71828),v=w.strTranslate,y=e(63893),t=e(92998),r=e(7901),l=e(91424),a=e(13838),s=e(66287),c=e(50606),u=c.ONEMAXYEAR,m=c.ONEAVGYEAR,h=c.ONEMINYEAR,T=c.ONEMAXQUARTER,f=c.ONEAVGQUARTER,o=c.ONEMINQUARTER,d=c.ONEMAXMONTH,M=c.ONEAVGMONTH,A=c.ONEMINMONTH,E=c.ONEWEEK,g=c.ONEDAY,S=g/2,b=c.ONEHOUR,i=c.ONEMIN,P=c.ONESEC,x=c.MINUS_SIGN,k=c.BADNUM,_={K:"zeroline"},B={K:"gridline",L:"path"},I={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},O={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},N=e(18783),Q=N.MID_SHIFT,$=N.CAP_SHIFT,j=N.LINE_SPACING,ee=N.OPPOSITE_SIDE,oe=3,Y=G.exports={};Y.setConvert=e(21994);var V=e(4322),W=e(41675),X=W.idSort,re=W.isLinked;Y.id2name=W.id2name,Y.name2id=W.name2id,Y.cleanId=W.cleanId,Y.list=W.list,Y.listIds=W.listIds,Y.getFromId=W.getFromId,Y.getFromTrace=W.getFromTrace;var ie=e(71739);Y.getAutoRange=ie.getAutoRange,Y.findExtremes=ie.findExtremes;var K=1e-4;function q(Ve){var Ge=(Ve[1]-Ve[0])*K;return[Ve[0]-Ge,Ve[1]+Ge]}Y.coerceRef=function(Ve,Ge,Ft,kt,Zt,tr){var sr=kt.charAt(kt.length-1),rr=Ft._fullLayout._subplots[sr+"axis"],Nt=kt+"ref",hr={};return Zt||(Zt=rr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=Zt),rr=rr.concat(rr.map(function(pr){return pr+" domain"})),hr[Nt]={valType:"enumerated",values:rr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:Zt},w.coerce(Ve,Ge,hr,Nt)},Y.getRefType=function(Ve){return Ve===void 0?Ve:Ve==="paper"?"paper":Ve==="pixel"?"pixel":/( domain)$/.test(Ve)?"domain":"range"},Y.coercePosition=function(Ve,Ge,Ft,kt,Zt,tr){var sr,rr,Nt=Y.getRefType(kt);if(Nt!=="range")sr=w.ensureNumber,rr=Ft(Zt,tr);else{var hr=Y.getFromId(Ge,kt);tr=hr.fraction2r(tr),rr=Ft(Zt,tr),sr=hr.cleanPos}Ve[Zt]=sr(rr)},Y.cleanPosition=function(Ve,Ge,Ft){var kt=Ft==="paper"||Ft==="pixel"?w.ensureNumber:Y.getFromId(Ge,Ft).cleanPos;return kt(Ve)},Y.redrawComponents=function(Ve,Ge){Ge=Ge||Y.listIds(Ve);var Ft=Ve._fullLayout;function kt(Zt,tr,sr,rr){for(var Nt=C.getComponentMethod(Zt,tr),hr={},pr=0;pr<Ge.length;pr++)for(var br=Ft[Y.id2name(Ge[pr])],vr=br[sr],Kr=0;Kr<vr.length;Kr++){var Fr=vr[Kr];if(!hr[Fr]&&(Nt(Ve,Fr),hr[Fr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var le=Y.getDataConversions=function(Ve,Ge,Ft,kt){var Zt,tr=Ft==="x"||Ft==="y"||Ft==="z"?Ft:kt;if(Array.isArray(tr)){if(Zt={type:V(kt,void 0,{autotypenumbers:Ve._fullLayout.autotypenumbers}),_categories:[]},Y.setConvert(Zt),Zt.type==="category")for(var sr=0;sr<kt.length;sr++)Zt.d2c(kt[sr])}else Zt=Y.getFromTrace(Ve,Ge,tr);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:tr==="ids"?{d2c:he,c2d:he}:{d2c:ae,c2d:ae}};function ae(Ve){return+Ve}function he(Ve){return String(Ve)}Y.getDataToCoordFunc=function(Ve,Ge,Ft,kt){return le(Ve,Ge,Ft,kt).d2c},Y.counterLetter=function(Ve){var Ge=Ve.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},Y.minDtick=function(Ve,Ge,Ft,kt){["log","category","multicategory"].indexOf(Ve.type)!==-1||!kt?Ve._minDtick=0:Ve._minDtick===void 0?(Ve._minDtick=Ge,Ve._forceTick0=Ft):Ve._minDtick&&((Ve._minDtick/Ge+1e-6)%1<2e-6&&((Ft-Ve._forceTick0)/Ge%1+1.000001)%1<2e-6?(Ve._minDtick=Ge,Ve._forceTick0=Ft):((Ge/Ve._minDtick+1e-6)%1>2e-6||((Ft-Ve._forceTick0)/Ve._minDtick%1+1.000001)%1>2e-6)&&(Ve._minDtick=0))},Y.saveRangeInitial=function(Ve,Ge){for(var Ft=Y.list(Ve,"",!0),kt=!1,Zt=0;Zt<Ft.length;Zt++){var tr=Ft[Zt],sr=tr._rangeInitial===void 0,rr=sr||!(tr.range[0]===tr._rangeInitial[0]&&tr.range[1]===tr._rangeInitial[1]);(sr&&tr.autorange===!1||Ge&&rr)&&(tr._rangeInitial=tr.range.slice(),kt=!0)}return kt},Y.saveShowSpikeInitial=function(Ve,Ge){for(var Ft=Y.list(Ve,"",!0),kt=!1,Zt="on",tr=0;tr<Ft.length;tr++){var sr=Ft[tr],rr=sr._showSpikeInitial===void 0,Nt=rr||sr.showspikes!==sr._showspikes;(rr||Ge&&Nt)&&(sr._showSpikeInitial=sr.showspikes,kt=!0),Zt==="on"&&!sr.showspikes&&(Zt="off")}return Ve._fullLayout._cartesianSpikesEnabled=Zt,kt},Y.autoBin=function(Ve,Ge,Ft,kt,Zt,tr){var sr=w.aggNums(Math.min,null,Ve),rr=w.aggNums(Math.max,null,Ve);if(Ge.type==="category"||Ge.type==="multicategory")return{start:sr-.5,end:rr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:rr-sr};Zt||(Zt=Ge.calendar);var Nt;if(Ge.type==="log"?Nt={type:"linear",range:[sr,rr]}:Nt={type:Ge.type,range:w.simpleMap([sr,rr],Ge.c2r,0,Zt),calendar:Zt},Y.setConvert(Nt),tr=tr&&s.dtick(tr,Nt.type),tr)Nt.dtick=tr,Nt.tick0=s.tick0(void 0,Nt.type,Zt);else{var hr;if(Ft)hr=(rr-sr)/Ft;else{var pr=w.distinctVals(Ve),br=Math.pow(10,Math.floor(Math.log(pr.minDiff)/Math.LN10)),vr=br*w.roundUp(pr.minDiff/br,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*w.stdev(Ve)/Math.pow(Ve.length,kt?.25:.4)),L(hr)||(hr=1)}Y.autoTicks(Nt,hr)}var Kr=Nt.dtick,Fr=Y.tickIncrement(Y.tickFirst(Nt),Kr,"reverse",Zt),Br,xn;if(typeof Kr=="number")Fr=me(Fr,Ve,Nt,sr,rr),xn=1+Math.floor((rr-Fr)/Kr),Br=Fr+xn*Kr;else for(Nt.dtick.charAt(0)==="M"&&(Fr=Me(Fr,Ve,Kr,sr,Zt)),Br=Fr,xn=0;Br<=rr;)Br=Y.tickIncrement(Br,Kr,!1,Zt),xn++;return{start:Ge.c2r(Fr,0,Zt),end:Ge.c2r(Br,0,Zt),size:Kr,_dataSpan:rr-sr}};function me(Ve,Ge,Ft,kt,Zt){var tr=0,sr=0,rr=0,Nt=0;function hr(Kr){return(1+(Kr-Ve)*100/Ft.dtick)%100<2}for(var pr=0;pr<Ge.length;pr++)Ge[pr]%1===0?rr++:L(Ge[pr])||Nt++,hr(Ge[pr])&&tr++,hr(Ge[pr]+Ft.dtick/2)&&sr++;var br=Ge.length-Nt;if(rr===br&&Ft.type!=="date")Ft.dtick<1?Ve=kt-.5*Ft.dtick:(Ve-=.5,Ve+Ft.dtick<kt&&(Ve+=Ft.dtick));else if(sr<br*.1&&(tr>br*.3||hr(kt)||hr(Zt))){var vr=Ft.dtick/2;Ve+=Ve+vr<kt?vr:-vr}return Ve}function Me(Ve,Ge,Ft,kt,Zt){var tr=w.findExactDates(Ge,Zt),sr=.8;if(tr.exactDays>sr){var rr=Number(Ft.substr(1));tr.exactYears>sr&&rr%12===0?Ve=Y.tickIncrement(Ve,"M6","reverse")+g*1.5:tr.exactMonths>sr?Ve=Y.tickIncrement(Ve,"M1","reverse")+g*15.5:Ve-=S;var Nt=Y.tickIncrement(Ve,Ft);if(Nt<=kt)return Nt}return Ve}Y.prepMinorTicks=function(Ve,Ge,Ft){if(!Ge.minor.dtick){delete Ve.dtick;var kt=Ge.dtick&&L(Ge._tmin),Zt;if(kt){var tr=Y.tickIncrement(Ge._tmin,Ge.dtick,!0);Zt=[Ge._tmin,tr*.99+Ge._tmin*.01]}else{var sr=w.simpleMap(Ge.range,Ge.r2l);Zt=[sr[0],.8*sr[0]+.2*sr[1]]}if(Ve.range=w.simpleMap(Zt,Ge.l2r),Ve._isMinor=!0,Y.prepTicks(Ve,Ft),kt){var rr=L(Ge.dtick),Nt=L(Ve.dtick),hr=rr?Ge.dtick:+Ge.dtick.substring(1),pr=Nt?Ve.dtick:+Ve.dtick.substring(1);rr&&Nt?xe(hr,pr)?hr===2*E&&pr===2*g&&(Ve.dtick=E):hr===2*E&&pr===3*g?Ve.dtick=E:hr===E&&!(Ge._input.minor||{}).nticks?Ve.dtick=g:Ie(hr/pr,2.5)?Ve.dtick=hr/2:Ve.dtick=hr:String(Ge.dtick).charAt(0)==="M"?Nt?Ve.dtick="M1":xe(hr,pr)?hr>=12&&pr===2&&(Ve.dtick="M3"):Ve.dtick=Ge.dtick:String(Ve.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?xe(hr,pr)||(Ve.dtick=Ie(hr/pr,2.5)?Ge.dtick/2:Ge.dtick):Ve.dtick="D1":Ve.dtick==="D2"&&+Ge.dtick>1&&(Ve.dtick=1)}Ve.range=Ge.range}Ge.minor._tick0Init===void 0&&(Ve.tick0=Ge.tick0)};function xe(Ve,Ge){return Math.abs((Ve/Ge+.5)%1-.5)<.001}function Ie(Ve,Ge){return Math.abs(Ve/Ge-1)<.001}Y.prepTicks=function(Ve,Ge){var Ft=w.simpleMap(Ve.range,Ve.r2l,void 0,void 0,Ge);if(Ve.tickmode==="auto"||!Ve.dtick){var kt=Ve.nticks,Zt;kt||(Ve.type==="category"||Ve.type==="multicategory"?(Zt=Ve.tickfont?w.bigFont(Ve.tickfont.size||12):15,kt=Ve._length/Zt):(Zt=Ve._id.charAt(0)==="y"?40:80,kt=w.constrain(Ve._length/Zt,4,9)+1),Ve._name==="radialaxis"&&(kt*=2)),Ve.minor&&Ve.minor.tickmode!=="array"||Ve.tickmode==="array"&&(kt*=100),Ve._roughDTick=Math.abs(Ft[1]-Ft[0])/kt,Y.autoTicks(Ve,Ve._roughDTick),Ve._minDtick>0&&Ve.dtick<Ve._minDtick*2&&(Ve.dtick=Ve._minDtick,Ve.tick0=Ve.l2r(Ve._forceTick0))}Ve.ticklabelmode==="period"&&Te(Ve),Ve.tick0||(Ve.tick0=Ve.type==="date"?"2000-01-01":0),Ve.type==="date"&&Ve.dtick<.1&&(Ve.dtick=.1),xt(Ve)};function _e(Ve){return+Ve.substring(1)}function Te(Ve){var Ge;function Ft(){return!(L(Ve.dtick)||Ve.dtick.charAt(0)!=="M")}var kt=Ft(),Zt=Y.getTickFormat(Ve);if(Zt){var tr=Ve._dtickInit!==Ve.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(Ge=b,tr&&!kt&&Ve.dtick<b&&(Ve.dtick=b)):/%p/.test(Zt)?(Ge=S,tr&&!kt&&Ve.dtick<S&&(Ve.dtick=S)):/%[Aadejuwx]/.test(Zt)?(Ge=g,tr&&!kt&&Ve.dtick<g&&(Ve.dtick=g)):/%[UVW]/.test(Zt)?(Ge=E,tr&&!kt&&Ve.dtick<E&&(Ve.dtick=E)):/%[Bbm]/.test(Zt)?(Ge=M,tr&&(kt?_e(Ve.dtick)<1:Ve.dtick<A)&&(Ve.dtick="M1")):/%[q]/.test(Zt)?(Ge=f,tr&&(kt?_e(Ve.dtick)<3:Ve.dtick<o)&&(Ve.dtick="M3")):/%[Yy]/.test(Zt)&&(Ge=m,tr&&(kt?_e(Ve.dtick)<12:Ve.dtick<h)&&(Ve.dtick="M12")))}kt=Ft(),kt&&Ve.tick0===Ve._dowTick0&&(Ve.tick0=Ve._rawTick0),Ve._definedDelta=Ge}function ye(Ve,Ge,Ft){for(var kt=0;kt<Ve.length;kt++){var Zt=Ve[kt].value,tr=kt,sr=kt+1;kt<Ve.length-1?(tr=kt,sr=kt+1):kt>0?(tr=kt-1,sr=kt):(tr=kt,sr=kt);var rr=Ve[tr].value,Nt=Ve[sr].value,hr=Math.abs(Nt-rr),pr=Ft||hr,br=0;pr>=h?hr>=h&&hr<=u?br=hr:br=m:Ft===f&&pr>=o?hr>=o&&hr<=T?br=hr:br=f:pr>=A?hr>=A&&hr<=d?br=hr:br=M:Ft===E&&pr>=E?br=E:pr>=g?br=g:Ft===S&&pr>=S?br=S:Ft===b&&pr>=b&&(br=b);var vr;br>=hr&&(br=hr,vr=!0);var Kr=Zt+br;if(Ge.rangebreaks&&br>0){for(var Fr=84,Br=0,xn=0;xn<Fr;xn++){var jr=(xn+.5)/Fr;Ge.maskBreaks(Zt*(1-jr)+jr*Kr)!==k&&Br++}br*=Br/Fr,br||(Ve[kt].drop=!0),vr&&hr>E&&(br=hr)}(br>0||kt===0)&&(Ve[kt].periodX=Zt+br/2)}}Y.calcTicks=function(Ge,Ft){for(var kt=Ge.type,Zt=Ge.calendar,tr=Ge.ticklabelstep,sr=Ge.ticklabelmode==="period",rr=w.simpleMap(Ge.range,Ge.r2l,void 0,void 0,Ft),Nt=rr[1]<rr[0],hr=Math.min(rr[0],rr[1]),pr=Math.max(rr[0],rr[1]),br=Math.max(1e3,Ge._length||0),vr=[],Kr=[],Fr=[],Br=[],xn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),jr=1;jr>=(xn?0:1);jr--){var Dn=!jr;jr?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var In=jr?Ge:w.extendFlat({},Ge,Ge.minor);if(Dn?Y.prepMinorTicks(In,Ge,Ft):Y.prepTicks(In,Ft),In.tickmode==="array"){jr?(Fr=[],vr=Ue(Ge)):(Br=[],Kr=Ue(Ge));continue}if(In.tickmode==="sync"){Fr=[],vr=Be(Ge);continue}var yr=q(rr),cr=yr[0],kr=yr[1],Or=L(In.dtick),sn=kt==="log"&&!(Or||In.dtick.charAt(0)==="L"),yn=Y.tickFirst(In,Ft);if(jr){if(Ge._tmin=yn,yn<cr!==Nt)break;(kt==="category"||kt==="multicategory")&&(kr=Nt?Math.max(-.5,kr):Math.min(Ge._categories.length-.5,kr))}var bn=null,mn=yn,_n;if(jr){var Kn;Or?Kn=Ge.dtick:kt==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(Kn=M*Ge.dtick.substring(1)):Kn=Ge._roughDTick,_n=Math.round((Ge.r2l(mn)-Ge.r2l(Ge.tick0))/Kn)-1}var na=In.dtick;for(In.rangebreaks&&In._tick0Init!==In.tick0&&(mn=Vt(mn,Ge),Nt||(mn=Y.tickIncrement(mn,na,!Nt,Zt))),jr&&sr&&(mn=Y.tickIncrement(mn,na,!Nt,Zt),_n--);Nt?mn>=kr:mn<=kr;mn=Y.tickIncrement(mn,na,Nt,Zt)){if(jr&&_n++,In.rangebreaks&&!Nt){if(mn<cr)continue;if(In.maskBreaks(mn)===k&&Vt(mn,In)>=pr)break}if(Fr.length>br||mn===bn)break;bn=mn;var ea={value:mn};jr?(sn&&mn!==(mn|0)&&(ea.simpleLabel=!0),tr>1&&_n%tr&&(ea.skipLabel=!0),Fr.push(ea)):(ea.minor=!0,Br.push(ea))}}if(xn){var oa=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!oa){for(var $n=Fr.map(function(Tn){return Tn.value}),Rr=[],an=0;an<Br.length;an++){var rn=Br[an],vn=rn.value;if($n.indexOf(vn)===-1){for(var Nn=!1,En=0;!Nn&&En<Fr.length;En++)1e7+Fr[En].value===1e7+vn&&(Nn=!0);Nn||Rr.push(rn)}}Br=Rr}}sr&&ye(Fr,Ge,Ge._definedDelta);var Cn;if(Ge.rangebreaks){var Hn=Ge._id.charAt(0)==="y",ra=1;Ge.tickmode==="auto"&&(ra=Ge.tickfont?Ge.tickfont.size:12);var Ea=NaN;for(Cn=Fr.length-1;Cn>-1;Cn--){if(Fr[Cn].drop){Fr.splice(Cn,1);continue}Fr[Cn].value=Vt(Fr[Cn].value,Ge);var Va=Ge.c2p(Fr[Cn].value);(Hn?Ea>Va-ra:Ea<Va+ra)?Fr.splice(Nt?Cn+1:Cn,1):Ea=Va}}Ot(Ge)&&Math.abs(rr[1]-rr[0])===360&&Fr.pop(),Ge._tmax=(Fr[Fr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Xt,Tr=function(Tn){Tn.text="",Ge._prevDateHead=Xt};Fr=Fr.concat(Br);var nn,fn;for(Cn=0;Cn<Fr.length;Cn++){var cn=Fr[Cn].minor,Ln=Fr[Cn].value;cn?Kr.push({x:Ln,minor:!0}):(Xt=Ge._prevDateHead,nn=Y.tickText(Ge,Ln,!1,Fr[Cn].simpleLabel),fn=Fr[Cn].periodX,fn!==void 0&&(nn.periodX=fn,(fn>pr||fn<hr)&&(fn>pr&&(nn.periodX=pr),fn<hr&&(nn.periodX=hr),Tr(nn))),Fr[Cn].skipLabel&&Tr(nn),vr.push(nn))}return vr=vr.concat(Kr),Ge._inCalcTicks=!1,sr&&vr.length&&(vr[0].noTick=!0),vr};function Ae(Ve,Ge){return Ve.rangebreaks&&(Ge=Ge.filter(function(Ft){return Ve.maskBreaks(Ft.x)!==k})),Ge}function Be(Ve){var Ge=Ve._mainAxis,Ft=[];if(Ge._vals){for(var kt=0;kt<Ge._vals.length;kt++)if(!Ge._vals[kt].noTick){var Zt=Ge.l2p(Ge._vals[kt].x),tr=Ve.p2l(Zt),sr=Y.tickText(Ve,tr);Ge._vals[kt].minor&&(sr.minor=!0,sr.text=""),Ft.push(sr)}}return Ft=Ae(Ve,Ft),Ft}function Ue(Ve){var Ge=w.simpleMap(Ve.range,Ve.r2l),Ft=q(Ge),kt=Math.min(Ft[0],Ft[1]),Zt=Math.max(Ft[0],Ft[1]),tr=Ve.type==="category"?Ve.d2l_noadd:Ve.d2l;Ve.type==="log"&&String(Ve.dtick).charAt(0)!=="L"&&(Ve.dtick="L"+Math.pow(10,Math.floor(Math.min(Ve.range[0],Ve.range[1]))-1));for(var sr=[],rr=0;rr<=1;rr++)if(!(rr&&!Ve.minor)){var Nt=rr?Ve.minor.tickvals:Ve.tickvals,hr=rr?[]:Ve.ticktext;if(Nt){Array.isArray(hr)||(hr=[]);for(var pr=0;pr<Nt.length;pr++){var br=tr(Nt[pr]);if(br>kt&&br<Zt){var vr=hr[pr]===void 0?Y.tickText(Ve,br):Ct(Ve,br,String(hr[pr]));rr&&(vr.minor=!0,vr.text=""),sr.push(vr)}}}}return sr=Ae(Ve,sr),sr}var De=[2,5,10],He=[1,2,3,6,12],ut=[1,2,5,10,15,30],et=[1,2,3,7,14],Qe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ft=[15,30,45,90,180];function gt(Ve,Ge,Ft){return Ge*w.roundUp(Ve/Ge,Ft)}Y.autoTicks=function(Ve,Ge,Ft){var kt;function Zt(br){return Math.pow(br,Math.floor(Math.log(Ge)/Math.LN10))}if(Ve.type==="date"){Ve.tick0=w.dateTick0(Ve.calendar,0);var tr=2*Ge;if(tr>m)Ge/=m,kt=Zt(10),Ve.dtick="M"+12*gt(Ge,kt,De);else if(tr>M)Ge/=M,Ve.dtick="M"+gt(Ge,1,He);else if(tr>g){if(Ve.dtick=gt(Ge,g,Ve._hasDayOfWeekBreaks?[1,2,7,14]:et),!Ft){var sr=Y.getTickFormat(Ve),rr=Ve.ticklabelmode==="period";rr&&(Ve._rawTick0=Ve.tick0),/%[uVW]/.test(sr)?Ve.tick0=w.dateTick0(Ve.calendar,2):Ve.tick0=w.dateTick0(Ve.calendar,1),rr&&(Ve._dowTick0=Ve.tick0)}}else tr>b?Ve.dtick=gt(Ge,b,He):tr>i?Ve.dtick=gt(Ge,i,ut):tr>P?Ve.dtick=gt(Ge,P,ut):(kt=Zt(10),Ve.dtick=gt(Ge,kt,De))}else if(Ve.type==="log"){Ve.tick0=0;var Nt=w.simpleMap(Ve.range,Ve.r2l);if(Ve._isMinor&&(Ge*=1.5),Ge>.7)Ve.dtick=Math.ceil(Ge);else if(Math.abs(Nt[1]-Nt[0])<1){var hr=1.5*Math.abs((Nt[1]-Nt[0])/Ge);Ge=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/hr,kt=Zt(10),Ve.dtick="L"+gt(Ge,kt,De)}else Ve.dtick=Ge>.3?"D2":"D1"}else Ve.type==="category"||Ve.type==="multicategory"?(Ve.tick0=0,Ve.dtick=Math.ceil(Math.max(Ge,1))):Ot(Ve)?(Ve.tick0=0,kt=1,Ve.dtick=gt(Ge,kt,ft)):(Ve.tick0=0,kt=Zt(10),Ve.dtick=gt(Ge,kt,De));if(Ve.dtick===0&&(Ve.dtick=1),!L(Ve.dtick)&&typeof Ve.dtick!="string"){var pr=Ve.dtick;throw Ve.dtick=1,"ax.dtick error: "+String(pr)}};function xt(Ve){var Ge=Ve.dtick;if(Ve._tickexponent=0,!L(Ge)&&typeof Ge!="string"&&(Ge=1),(Ve.type==="category"||Ve.type==="multicategory")&&(Ve._tickround=null),Ve.type==="date"){var Ft=Ve.r2l(Ve.tick0),kt=Ve.l2r(Ft).replace(/(^-|i)/g,""),Zt=kt.length;if(String(Ge).charAt(0)==="M")Zt>10||kt.substr(5)!=="01-01"?Ve._tickround="d":Ve._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=g&&Zt<=10||Ge>=g*15)Ve._tickround="d";else if(Ge>=i&&Zt<=16||Ge>=b)Ve._tickround="M";else if(Ge>=P&&Zt<=19||Ge>=i)Ve._tickround="S";else{var tr=Ve.l2r(Ft+Ge).replace(/^-/,"").length;Ve._tickround=Math.max(Zt,tr)-20,Ve._tickround<0&&(Ve._tickround=4)}}else if(L(Ge)||Ge.charAt(0)==="L"){var sr=Ve.range.map(Ve.r2d||Number);L(Ge)||(Ge=Number(Ge.substr(1))),Ve._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var rr=Math.max(Math.abs(sr[0]),Math.abs(sr[1])),Nt=Math.floor(Math.log(rr)/Math.LN10+.01),hr=Ve.minexponent===void 0?3:Ve.minexponent;Math.abs(Nt)>hr&&(ue(Ve.exponentformat)&&!ge(Nt)?Ve._tickexponent=3*Math.round((Nt-1)/3):Ve._tickexponent=Nt)}else Ve._tickround=null}Y.tickIncrement=function(Ve,Ge,Ft,kt){var Zt=Ft?-1:1;if(L(Ge))return w.increment(Ve,Zt*Ge);var tr=Ge.charAt(0),sr=Zt*Number(Ge.substr(1));if(tr==="M")return w.incrementMonth(Ve,sr,kt);if(tr==="L")return Math.log(Math.pow(10,Ve)+sr)/Math.LN10;if(tr==="D"){var rr=Ge==="D2"?qe:Qe,Nt=Ve+Zt*.01,hr=w.roundUp(w.mod(Nt,1),rr,Ft);return Math.floor(Nt)+Math.log(p.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Y.tickFirst=function(Ve,Ge){var Ft=Ve.r2l||Number,kt=w.simpleMap(Ve.range,Ft,void 0,void 0,Ge),Zt=kt[1]<kt[0],tr=Zt?Math.floor:Math.ceil,sr=q(kt)[0],rr=Ve.dtick,Nt=Ft(Ve.tick0);if(L(rr)){var hr=tr((sr-Nt)/rr)*rr+Nt;return(Ve.type==="category"||Ve.type==="multicategory")&&(hr=w.constrain(hr,0,Ve._categories.length-1)),hr}var pr=rr.charAt(0),br=Number(rr.substr(1));if(pr==="M"){for(var vr=0,Kr=Nt,Fr,Br,xn;vr<10;){if(Fr=Y.tickIncrement(Kr,rr,Zt,Ve.calendar),(Fr-sr)*(Kr-sr)<=0)return Zt?Math.min(Kr,Fr):Math.max(Kr,Fr);Br=(sr-(Kr+Fr)/2)/(Fr-Kr),xn=pr+(Math.abs(Math.round(Br))||1)*br,Kr=Y.tickIncrement(Kr,xn,Br<0?!Zt:Zt,Ve.calendar),vr++}return w.error("tickFirst did not converge",Ve),Kr}else{if(pr==="L")return Math.log(tr((Math.pow(10,sr)-Nt)/br)*br+Nt)/Math.LN10;if(pr==="D"){var jr=rr==="D2"?qe:Qe,Dn=w.roundUp(w.mod(sr,1),jr,Zt);return Math.floor(sr)+Math.log(p.round(Math.pow(10,Dn),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},Y.tickText=function(Ve,Ge,Ft,kt){var Zt=Ct(Ve,Ge),tr=Ve.tickmode==="array",sr=Ft||tr,rr=Ve.type,Nt=rr==="category"?Ve.d2l_noadd:Ve.d2l,hr;if(tr&&Array.isArray(Ve.ticktext)){var pr=w.simpleMap(Ve.range,Ve.r2l),br=(Math.abs(pr[1]-pr[0])-(Ve._lBreaks||0))/1e4;for(hr=0;hr<Ve.ticktext.length&&!(Math.abs(Ge-Nt(Ve.tickvals[hr]))<br);hr++);if(hr<Ve.ticktext.length)return Zt.text=String(Ve.ticktext[hr]),Zt}function vr(xn){if(xn===void 0)return!0;if(Ft)return xn==="none";var jr={first:Ve._tmin,last:Ve._tmax}[xn];return xn!=="all"&&Ge!==jr}var Kr=Ft?"never":Ve.exponentformat!=="none"&&vr(Ve.showexponent)?"hide":"";if(rr==="date"?Je(Ve,Zt,Ft,sr):rr==="log"?ze(Ve,Zt,Ft,sr,Kr):rr==="category"?Fe(Ve,Zt):rr==="multicategory"?$e(Ve,Zt,Ft):Ot(Ve)?Xe(Ve,Zt,Ft,sr,Kr):at(Ve,Zt,Ft,sr,Kr),kt||(Ve.tickprefix&&!vr(Ve.showtickprefix)&&(Zt.text=Ve.tickprefix+Zt.text),Ve.ticksuffix&&!vr(Ve.showticksuffix)&&(Zt.text+=Ve.ticksuffix)),Ve.labelalias&&Ve.labelalias.hasOwnProperty(Zt.text)){var Fr=Ve.labelalias[Zt.text];typeof Fr=="string"&&(Zt.text=Fr)}if(Ve.tickson==="boundaries"||Ve.showdividers){var Br=function(xn){var jr=Ve.l2p(xn);return jr>=0&&jr<=Ve._length?xn:null};Zt.xbnd=[Br(Zt.x-.5),Br(Zt.x+Ve.dtick-.5)]}return Zt},Y.hoverLabelText=function(Ve,Ge,Ft){Ft&&(Ve=w.extendFlat({},Ve,{hoverformat:Ft}));var kt=Array.isArray(Ge)?Ge[0]:Ge,Zt=Array.isArray(Ge)?Ge[1]:void 0;if(Zt!==void 0&&Zt!==kt)return Y.hoverLabelText(Ve,kt,Ft)+" - "+Y.hoverLabelText(Ve,Zt,Ft);var tr=Ve.type==="log"&&kt<=0,sr=Y.tickText(Ve,Ve.c2l(tr?-kt:kt),"hover").text;return tr?kt===0?"0":x+sr:sr};function Ct(Ve,Ge,Ft){var kt=Ve.tickfont||{};return{x:Ge,dx:0,dy:0,text:Ft||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Je(Ve,Ge,Ft,kt){var Zt=Ve._tickround,tr=Ft&&Ve.hoverformat||Y.getTickFormat(Ve);kt&&(L(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var sr=w.formatDate(Ge.x,tr,Zt,Ve._dateFormat,Ve.calendar,Ve._extraFormat),rr,Nt=sr.indexOf(`
`);if(Nt!==-1&&(rr=sr.substr(Nt+1),sr=sr.substr(0,Nt)),kt&&(sr==="00:00:00"||sr==="00:00"?(sr=rr,rr=""):sr.length===8&&(sr=sr.replace(/:00$/,""))),rr)if(Ft)Zt==="d"?sr+=", "+rr:sr=rr+(sr?", "+sr:"");else if(!Ve._inCalcTicks||Ve._prevDateHead!==rr)Ve._prevDateHead=rr,sr+="<br>"+rr;else{var hr=Qt(Ve),pr=Ve._trueSide||Ve.side;(!hr&&pr==="top"||hr&&pr==="bottom")&&(sr+="<br> ")}Ge.text=sr}function ze(Ve,Ge,Ft,kt,Zt){var tr=Ve.dtick,sr=Ge.x,rr=Ve.tickformat,Nt=typeof tr=="string"&&tr.charAt(0);if(Zt==="never"&&(Zt=""),kt&&Nt!=="L"&&(tr="L3",Nt="L"),rr||Nt==="L")Ge.text=Le(Math.pow(10,sr),Ve,Zt,kt);else if(L(tr)||Nt==="D"&&w.mod(sr+.01,1)<.1){var hr=Math.round(sr),pr=Math.abs(hr),br=Ve.exponentformat;br==="power"||ue(br)&&ge(hr)?(hr===0?Ge.text=1:hr===1?Ge.text="10":Ge.text="10<sup>"+(hr>1?"":x)+pr+"</sup>",Ge.fontSize*=1.25):(br==="e"||br==="E")&&pr>2?Ge.text="1"+br+(hr>0?"+":x)+pr:(Ge.text=Le(Math.pow(10,sr),Ve,"","fakehover"),tr==="D1"&&Ve._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Nt==="D")Ge.text=String(Math.round(Math.pow(10,w.mod(sr,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(Ve.dtick==="D1"){var vr=String(Ge.text).charAt(0);(vr==="0"||vr==="1")&&(Ve._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(Ve.range[1]>Ve.range[0]?1:-1)*Ge.fontSize*(sr<0?.5:.25)))}}function Fe(Ve,Ge){var Ft=Ve._categories[Math.round(Ge.x)];Ft===void 0&&(Ft=""),Ge.text=String(Ft)}function $e(Ve,Ge,Ft){var kt=Math.round(Ge.x),Zt=Ve._categories[kt]||[],tr=Zt[1]===void 0?"":String(Zt[1]),sr=Zt[0]===void 0?"":String(Zt[0]);Ft?Ge.text=sr+" - "+tr:(Ge.text=tr,Ge.text2=sr)}function at(Ve,Ge,Ft,kt,Zt){Zt==="never"?Zt="":Ve.showexponent==="all"&&Math.abs(Ge.x/Ve.dtick)<1e-6&&(Zt="hide"),Ge.text=Le(Ge.x,Ve,Zt,kt)}function Xe(Ve,Ge,Ft,kt,Zt){if(Ve.thetaunit==="radians"&&!Ft){var tr=Ge.x/180;if(tr===0)Ge.text="0";else{var sr=Pe(tr);if(sr[1]>=100)Ge.text=Le(w.deg2rad(Ge.x),Ve,Zt,kt);else{var rr=Ge.x<0;sr[1]===1?sr[0]===1?Ge.text="π":Ge.text=sr[0]+"π":Ge.text=["<sup>",sr[0],"</sup>","⁄","<sub>",sr[1],"</sub>","π"].join(""),rr&&(Ge.text=x+Ge.text)}}}else Ge.text=Le(Ge.x,Ve,Zt,kt)}function Pe(Ve){function Ge(rr,Nt){return Math.abs(rr-Nt)<=1e-6}function Ft(rr,Nt){return Ge(Nt,0)?rr:Ft(Nt,rr%Nt)}function kt(rr){for(var Nt=1;!Ge(Math.round(rr*Nt)/Nt,rr);)Nt*=10;return Nt}var Zt=kt(Ve),tr=Ve*Zt,sr=Math.abs(Ft(tr,Zt));return[Math.round(tr/sr),Math.round(Zt/sr)]}var we=["f","p","n","μ","m","","k","M","G","T"];function ue(Ve){return Ve==="SI"||Ve==="B"}function ge(Ve){return Ve>14||Ve<-15}function Le(Ve,Ge,Ft,kt){var Zt=Ve<0,tr=Ge._tickround,sr=Ft||Ge.exponentformat||"B",rr=Ge._tickexponent,Nt=Y.getTickFormat(Ge),hr=Ge.separatethousands;if(kt){var pr={exponentformat:sr,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:L(Ve)&&Math.abs(Ve)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,Ve||1]};xt(pr),tr=(Number(pr._tickround)||0)+4,rr=pr._tickexponent,Ge.hoverformat&&(Nt=Ge.hoverformat)}if(Nt)return Ge._numFormat(Nt)(Ve).replace(/-/g,x);var br=Math.pow(10,-tr)/2;if(sr==="none"&&(rr=0),Ve=Math.abs(Ve),Ve<br)Ve="0",Zt=!1;else{if(Ve+=br,rr&&(Ve*=Math.pow(10,-rr),tr+=rr),tr===0)Ve=String(Math.floor(Ve));else if(tr<0){Ve=String(Math.round(Ve)),Ve=Ve.substr(0,Ve.length+tr);for(var vr=tr;vr<0;vr++)Ve+="0"}else{Ve=String(Ve);var Kr=Ve.indexOf(".")+1;Kr&&(Ve=Ve.substr(0,Kr+tr).replace(/\.?0+$/,""))}Ve=w.numSeparate(Ve,Ge._separators,hr)}if(rr&&sr!=="hide"){ue(sr)&&ge(rr)&&(sr="power");var Fr;rr<0?Fr=x+-rr:sr!=="power"?Fr="+"+rr:Fr=String(rr),sr==="e"||sr==="E"?Ve+=sr+Fr:sr==="power"?Ve+="×10<sup>"+Fr+"</sup>":sr==="B"&&rr===9?Ve+="B":ue(sr)&&(Ve+=we[rr/3+5])}return Zt?x+Ve:Ve}Y.getTickFormat=function(Ve){var Ge;function Ft(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*M}function kt(Nt,hr){var pr=["L","D"];if(typeof Nt==typeof hr){if(typeof Nt=="number")return Nt-hr;var br=pr.indexOf(Nt.charAt(0)),vr=pr.indexOf(hr.charAt(0));return br===vr?Number(Nt.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):br-vr}else return typeof Nt=="number"?1:-1}function Zt(Nt,hr,pr){var br=pr||function(Fr){return Fr},vr=hr[0],Kr=hr[1];return(!vr&&typeof vr!="number"||br(vr)<=br(Nt))&&(!Kr&&typeof Kr!="number"||br(Kr)>=br(Nt))}function tr(Nt,hr){var pr=hr[0]===null,br=hr[1]===null,vr=kt(Nt,hr[0])>=0,Kr=kt(Nt,hr[1])<=0;return(pr||vr)&&(br||Kr)}var sr,rr;if(Ve.tickformatstops&&Ve.tickformatstops.length>0)switch(Ve.type){case"date":case"linear":{for(Ge=0;Ge<Ve.tickformatstops.length;Ge++)if(rr=Ve.tickformatstops[Ge],rr.enabled&&Zt(Ve.dtick,rr.dtickrange,Ft)){sr=rr;break}break}case"log":{for(Ge=0;Ge<Ve.tickformatstops.length;Ge++)if(rr=Ve.tickformatstops[Ge],rr.enabled&&tr(Ve.dtick,rr.dtickrange)){sr=rr;break}break}}return sr?sr.value:Ve.tickformat},Y.getSubplots=function(Ve,Ge){var Ft=Ve._fullLayout._subplots,kt=Ft.cartesian.concat(Ft.gl2d||[]),Zt=Ge?Y.findSubplotsWithAxis(kt,Ge):kt;return Zt.sort(function(tr,sr){var rr=tr.substr(1).split("y"),Nt=sr.substr(1).split("y");return rr[0]===Nt[0]?+rr[1]-+Nt[1]:+rr[0]-+Nt[0]}),Zt},Y.findSubplotsWithAxis=function(Ve,Ge){for(var Ft=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),kt=[],Zt=0;Zt<Ve.length;Zt++){var tr=Ve[Zt];Ft.test(tr)&&kt.push(tr)}return kt},Y.makeClipPaths=function(Ve){var Ge=Ve._fullLayout;if(!Ge._hasOnlyLargeSploms){var Ft={_offset:0,_length:Ge.width,_id:""},kt={_offset:0,_length:Ge.height,_id:""},Zt=Y.list(Ve,"x",!0),tr=Y.list(Ve,"y",!0),sr=[],rr,Nt;for(rr=0;rr<Zt.length;rr++)for(sr.push({x:Zt[rr],y:kt}),Nt=0;Nt<tr.length;Nt++)rr===0&&sr.push({x:Ft,y:tr[Nt]}),sr.push({x:Zt[rr],y:tr[Nt]});var hr=Ge._clips.selectAll(".axesclip").data(sr,function(pr){return pr.x._id+pr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(pr){return"clip"+Ge._uid+pr.x._id+pr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(pr){p.select(this).select("rect").attr({x:pr.x._offset||0,y:pr.y._offset||0,width:pr.x._length||1,height:pr.y._length||1})})}},Y.draw=function(Ve,Ge,Ft){var kt=Ve._fullLayout;Ge==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Nt){var hr=Nt[0],pr=kt._plots[hr];if(pr){var br=pr.xaxis,vr=pr.yaxis;pr.xaxislayer.selectAll("."+br._id+"tick").remove(),pr.yaxislayer.selectAll("."+vr._id+"tick").remove(),pr.xaxislayer.selectAll("."+br._id+"tick2").remove(),pr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),pr.xaxislayer.selectAll("."+br._id+"divider").remove(),pr.yaxislayer.selectAll("."+vr._id+"divider").remove(),pr.minorGridlayer&&pr.minorGridlayer.selectAll("path").remove(),pr.gridlayer&&pr.gridlayer.selectAll("path").remove(),pr.zerolinelayer&&pr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+br._id+"title").remove(),kt._infolayer.select(".g-"+vr._id+"title").remove()}});var Zt=!Ge||Ge==="redraw"?Y.listIds(Ve):Ge,tr=Y.list(Ve),sr=tr.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Zt.map(function(Nt){var hr=Y.getFromId(Ve,Nt);if(hr.tickmode==="sync"&&hr.overlaying){var pr=Zt.findIndex(function(br){return br===hr.overlaying});pr>=0&&Zt.unshift(Zt.splice(pr,1).shift())}});var rr={false:{left:0,right:0}};return w.syncOrAsync(Zt.map(function(Nt){return function(){if(Nt){var hr=Y.getFromId(Ve,Nt);Ft||(Ft={}),Ft.axShifts=rr,Ft.overlayingShiftedAx=sr;var pr=Y.drawOne(Ve,hr,Ft);return hr._shiftPusher&&or(hr,hr._fullDepth||0,rr,!0),hr._r=hr.range.slice(),hr._rl=w.simpleMap(hr._r,hr.r2l),pr}}}))},Y.drawOne=function(Ve,Ge,Ft){Ft=Ft||{};var kt=Ft.axShifts||{},Zt=Ft.overlayingShiftedAx||[],tr,sr,rr;Ge.setScale();var Nt=Ve._fullLayout,hr=Ge._id,pr=hr.charAt(0),br=Y.counterLetter(hr),vr=Nt._plots[Ge._mainSubplot];if(!vr)return;if(Ge._shiftPusher=Ge.autoshift||Zt.indexOf(Ge._id)!==-1||Zt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Kr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Kr+=Ge.ticklen),or(Ge,Kr,kt,!0),or(Ge,Ge.shift||0,kt,!1)}(Ft.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=Mr(Ge,kt));var Fr=vr[pr+"axislayer"],Br=Ge._mainLinePosition,xn=Br+=Ge._shift,jr=Ge._mainMirrorPosition,Dn=Ge._vals=Y.calcTicks(Ge),In=[Ge.mirror,xn,jr].join("_");for(tr=0;tr<Dn.length;tr++)Dn[tr].axInfo=In;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var yr={};function cr(_r){var hn=hr+(_r||"tick");return yr[hn]||(yr[hn]=Rt(Ge,hn)),yr[hn]}if(Ge.visible){var kr=Y.makeTransTickFn(Ge),Or=Y.makeTransTickLabelFn(Ge),sn,yn,bn=Ge.ticks==="inside",mn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var _n=it(Ge,Dn);yn=Y.clipEnds(Ge,_n),sn=bn?yn:_n}else yn=Y.clipEnds(Ge,Dn),sn=bn&&Ge.ticklabelmode!=="period"?yn:Dn;var Kn=Ge._gridVals=yn,na=bt(Ge,Dn);if(!Nt._hasOnlyLargeSploms){var ea=Ge._subplotsWith,oa={};for(tr=0;tr<ea.length;tr++){sr=ea[tr],rr=Nt._plots[sr];var $n=rr[br+"axis"],Rr=$n._mainAxis._id;if(!oa[Rr]){oa[Rr]=1;var an=pr==="x"?"M0,"+$n._offset+"v"+$n._length:"M"+$n._offset+",0h"+$n._length;Y.drawGrid(Ve,Ge,{vals:Kn,counterAxis:$n,layer:rr.gridlayer.select("."+hr),minorLayer:rr.minorGridlayer.select("."+hr),path:an,transFn:kr}),Y.drawZeroLine(Ve,Ge,{counterAxis:$n,layer:rr.zerolinelayer,path:an,transFn:kr})}}}var rn,vn=Y.getTickSigns(Ge),Nn=Y.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var En=Y.makeTickPath(Ge,xn,vn[2]),Cn=Y.makeTickPath(Ge,xn,Nn[2],{minor:!0}),Hn,ra,Ea,Va;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Hn=Y.makeTickPath(Ge,jr,vn[3]),ra=Y.makeTickPath(Ge,jr,Nn[3],{minor:!0}),Ea=En+Hn,Va=Cn+ra):(Hn="",ra="",Ea=En,Va=Cn),Ge.showdividers&&mn&&Ge.tickson==="boundaries"){var Xt={};for(tr=0;tr<na.length;tr++)Xt[na[tr].x]=1;rn=function(_r){return Xt[_r.x]?Hn:Ea}}else rn=function(_r){return _r.minor?Va:Ea}}if(Y.drawTicks(Ve,Ge,{vals:sn,layer:Fr,path:rn,transFn:kr}),Ge.mirror==="allticks"){var Tr=Object.keys(Ge._linepositions||{});for(tr=0;tr<Tr.length;tr++){sr=Tr[tr],rr=Nt._plots[sr];var nn=Ge._linepositions[sr]||[],fn=nn[0],cn=nn[1],Ln=nn[2],Tn=Y.makeTickPath(Ge,fn,Ln?vn[0]:Nn[0],{minor:Ln})+Y.makeTickPath(Ge,cn,Ln?vn[1]:Nn[1],{minor:Ln});Y.drawTicks(Ve,Ge,{vals:sn,layer:rr[pr+"axislayer"],path:Tn,transFn:kr})}}var un=[];if(un.push(function(){return Y.drawLabels(Ve,Ge,{vals:Dn,layer:Fr,plotinfo:rr,transFn:Or,labelFns:Y.makeLabelFns(Ge,xn)})}),Ge.type==="multicategory"){var Pr={x:2,y:10}[pr];un.push(function(){var _r={x:"height",y:"width"}[pr],hn=cr()[_r]+Pr+(Ge._tickAngles[hr+"tick"]?Ge.tickfont.size*j:0);return Y.drawLabels(Ve,Ge,{vals:lt(Ge,Dn),layer:Fr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:kr,labelFns:Y.makeLabelFns(Ge,xn+hn*vn[4])})}),un.push(function(){return Ge._depth=vn[4]*(cr("tick2")[Ge.side]-xn),nr(Ve,Ge,{vals:na,layer:Fr,path:Y.makeTickPath(Ge,xn,vn[4],{len:Ge._depth}),transFn:kr})})}else Ge.title.hasOwnProperty("standoff")&&un.push(function(){Ge._depth=vn[4]*(cr()[Ge.side]-xn)});var Er=C.getComponentMethod("rangeslider","isVisible")(Ge);return!Ft.skipTitle&&!(Er&&Ge.side==="bottom")&&un.push(function(){return zr(Ve,Ge)}),un.push(function(){var _r=Ge.side.charAt(0),hn=ee[Ge.side].charAt(0),Fn=Y.getPxPosition(Ve,Ge),Gn=mn?Ge.ticklen:0,dn,zn,Qn,sa;(Ge.automargin||Er||Ge._shiftPusher)&&(Ge.type==="multicategory"?dn=cr("tick2"):(dn=cr(),pr==="x"&&_r==="b"&&(Ge._depth=Math.max(dn.width>0?dn.bottom-Fn:0,Gn))));var aa=0,ia=0;if(Ge._shiftPusher&&(aa=Math.max(Gn,dn.height>0?_r==="l"?Fn-dn.left:dn.right-Fn:0),Ge.title.text!==Nt._dfltTitle[pr]&&(ia=(Ge._titleStandoff||0)+(Ge._titleScoot||0),_r==="l"&&(ia+=lr(Ge))),Ge._fullDepth=Math.max(aa,ia)),Ge.automargin){zn={x:0,y:0,r:0,l:0,t:0,b:0};var ha=[0,1],Wi=typeof Ge._shift=="number"?Ge._shift:0;if(pr==="x"){if(_r==="b"?zn[_r]=Ge._depth:(zn[_r]=Ge._depth=Math.max(dn.width>0?Fn-dn.top:0,Gn),ha.reverse()),dn.width>0){var ao=dn.right-(Ge._offset+Ge._length);ao>0&&(zn.xr=1,zn.r=ao);var uo=Ge._offset-dn.left;uo>0&&(zn.xl=0,zn.l=uo)}}else if(_r==="l"?(Ge._depth=Math.max(dn.height>0?Fn-dn.left:0,Gn),zn[_r]=Ge._depth-Wi):(Ge._depth=Math.max(dn.height>0?dn.right-Fn:0,Gn),zn[_r]=Ge._depth+Wi,ha.reverse()),dn.height>0){var mo=dn.bottom-(Ge._offset+Ge._length);mo>0&&(zn.yb=0,zn.b=mo);var fo=Ge._offset-dn.top;fo>0&&(zn.yt=1,zn.t=fo)}zn[br]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[ha[0]],Ge.title.text!==Nt._dfltTitle[pr]&&(zn[_r]+=lr(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Qn={x:0,y:0,r:0,l:0,t:0,b:0},Qn[hn]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Qn[hn]+=Gn),Ge.mirror===!0||Ge.mirror==="ticks"?Qn[br]=Ge._anchorAxis.domain[ha[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Qn[br]=[Ge._counterDomainMin,Ge._counterDomainMax][ha[1]]))}Er&&(sa=C.getComponentMethod("rangeslider","autoMarginOpts")(Ve,Ge)),typeof Ge.automargin=="string"&&(ke(zn,Ge.automargin),ke(Qn,Ge.automargin)),n.autoMargin(Ve,dr(Ge),zn),n.autoMargin(Ve,ct(Ge),Qn),n.autoMargin(Ve,ot(Ge),sa)}),w.syncOrAsync(un)}};function ke(Ve,Ge){if(Ve){var Ft=Object.keys(F).reduce(function(kt,Zt){return Ge.indexOf(Zt)!==-1&&F[Zt].forEach(function(tr){kt[tr]=1}),kt},{});Object.keys(Ve).forEach(function(kt){Ft[kt]||(kt.length===1?Ve[kt]=0:delete Ve[kt])})}}function it(Ve,Ge){var Ft=[],kt,Zt=function(tr,sr){var rr=tr.xbnd[sr];rr!==null&&Ft.push(w.extendFlat({},tr,{x:rr}))};if(Ge.length){for(kt=0;kt<Ge.length;kt++)Zt(Ge[kt],0);Zt(Ge[kt-1],1)}return Ft}function lt(Ve,Ge){for(var Ft=[],kt={},Zt=0;Zt<Ge.length;Zt++){var tr=Ge[Zt];kt[tr.text2]?kt[tr.text2].push(tr.x):kt[tr.text2]=[tr.x]}for(var sr in kt)Ft.push(Ct(Ve,w.interp(kt[sr],.5),sr));return Ft}function bt(Ve,Ge){var Ft=[],kt,Zt,tr=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,sr=function(Nt,hr){var pr=Nt.xbnd[hr];pr!==null&&Ft.push(w.extendFlat({},Nt,{x:pr}))};if(Ve.showdividers&&Ge.length){for(kt=0;kt<Ge.length;kt++){var rr=Ge[kt];rr.text2!==Zt&&sr(rr,tr?1:0),Zt=rr.text2}sr(Ge[kt-1],tr?0:1)}return Ft}function Rt(Ve,Ge){var Ft,kt,Zt,tr;return Ve._selections[Ge].size()?(Ft=1/0,kt=-1/0,Zt=1/0,tr=-1/0,Ve._selections[Ge].each(function(){var sr=wr(this),rr=l.bBox(sr.node().parentNode);Ft=Math.min(Ft,rr.top),kt=Math.max(kt,rr.bottom),Zt=Math.min(Zt,rr.left),tr=Math.max(tr,rr.right)})):(Ft=0,kt=0,Zt=0,tr=0),{top:Ft,bottom:kt,left:Zt,right:tr,height:kt-Ft,width:tr-Zt}}Y.getTickSigns=function(Ve,Ge){var Ft=Ve._id.charAt(0),kt={x:"top",y:"right"}[Ft],Zt=Ve.side===kt?1:-1,tr=[-1,1,Zt,-Zt],sr=Ge?(Ve.minor||{}).ticks:Ve.ticks;return sr!=="inside"==(Ft==="x")&&(tr=tr.map(function(rr){return-rr})),Ve.side&&tr.push({l:-1,t:-1,r:1,b:1}[Ve.side.charAt(0)]),tr},Y.makeTransTickFn=function(Ve){return Ve._id.charAt(0)==="x"?function(Ge){return v(Ve._offset+Ve.l2p(Ge.x),0)}:function(Ge){return v(0,Ve._offset+Ve.l2p(Ge.x))}},Y.makeTransTickLabelFn=function(Ve){var Ge=Gt(Ve),Ft=Ge[0],kt=Ge[1];return Ve._id.charAt(0)==="x"?function(Zt){return v(Ft+Ve._offset+Ve.l2p(Ut(Zt)),kt)}:function(Zt){return v(kt,Ft+Ve._offset+Ve.l2p(Ut(Zt)))}};function Ut(Ve){return Ve.periodX!==void 0?Ve.periodX:Ve.x}function Gt(Ve){var Ge=Ve.ticklabelposition||"",Ft=function(Kr){return Ge.indexOf(Kr)!==-1},kt=Ft("top"),Zt=Ft("left"),tr=Ft("right"),sr=Ft("bottom"),rr=Ft("inside"),Nt=sr||Zt||kt||tr;if(!Nt&&!rr)return[0,0];var hr=Ve.side,pr=Nt?(Ve.tickwidth||0)/2:0,br=oe,vr=Ve.tickfont?Ve.tickfont.size:12;return(sr||kt)&&(pr+=vr*$,br+=(Ve.linewidth||0)/2),(Zt||tr)&&(pr+=(Ve.linewidth||0)/2,br+=oe),rr&&hr==="top"&&(br-=vr*(1-$)),(Zt||kt)&&(pr=-pr),(hr==="bottom"||hr==="right")&&(br=-br),[Nt?pr:0,rr?br:0]}Y.makeTickPath=function(Ve,Ge,Ft,kt){kt||(kt={});var Zt=kt.minor;if(Zt&&!Ve.minor)return"";var tr=kt.len!==void 0?kt.len:Zt?Ve.minor.ticklen:Ve.ticklen,sr=Ve._id.charAt(0),rr=(Ve.linewidth||1)/2;return sr==="x"?"M0,"+(Ge+rr*Ft)+"v"+tr*Ft:"M"+(Ge+rr*Ft)+",0h"+tr*Ft},Y.makeLabelFns=function(Ve,Ge,Ft){var kt=Ve.ticklabelposition||"",Zt=function(_n){return kt.indexOf(_n)!==-1},tr=Zt("top"),sr=Zt("left"),rr=Zt("right"),Nt=Zt("bottom"),hr=Nt||sr||tr||rr,pr=Zt("inside"),br=kt==="inside"&&Ve.ticks==="inside"||!pr&&Ve.ticks==="outside"&&Ve.tickson!=="boundaries",vr=0,Kr=0,Fr=br?Ve.ticklen:0;if(pr?Fr*=-1:hr&&(Fr=0),br&&(vr+=Fr,Ft)){var Br=w.deg2rad(Ft);vr=Fr*Math.cos(Br)+1,Kr=Fr*Math.sin(Br)}Ve.showticklabels&&(br||Ve.showline)&&(vr+=.2*Ve.tickfont.size),vr+=(Ve.linewidth||1)/2*(pr?-1:1);var xn={labelStandoff:vr,labelShift:Kr},jr,Dn,In,yr,cr=0,kr=Ve.side,Or=Ve._id.charAt(0),sn=Ve.tickangle,yn;if(Or==="x")yn=!pr&&kr==="bottom"||pr&&kr==="top",yr=yn?1:-1,pr&&(yr*=-1),jr=Kr*yr,Dn=Ge+vr*yr,In=yn?1:-.2,Math.abs(sn)===90&&(pr?In+=Q:sn===-90&&kr==="bottom"?In=$:sn===90&&kr==="top"?In=Q:In=.5,cr=Q/2*(sn/90)),xn.xFn=function(_n){return _n.dx+jr+cr*_n.fontSize},xn.yFn=function(_n){return _n.dy+Dn+_n.fontSize*In},xn.anchorFn=function(_n,Kn){if(hr){if(sr)return"end";if(rr)return"start"}return!L(Kn)||Kn===0||Kn===180?"middle":Kn*yr<0!==pr?"end":"start"},xn.heightFn=function(_n,Kn,na){return Kn<-60||Kn>60?-.5*na:Ve.side==="top"!==pr?-na:0};else if(Or==="y"){if(yn=!pr&&kr==="left"||pr&&kr==="right",yr=yn?1:-1,pr&&(yr*=-1),jr=vr,Dn=Kr*yr,In=0,!pr&&Math.abs(sn)===90&&(sn===-90&&kr==="left"||sn===90&&kr==="right"?In=$:In=.5),pr){var bn=L(sn)?+sn:0;if(bn!==0){var mn=w.deg2rad(bn);cr=Math.abs(Math.sin(mn))*$*yr,In=0}}xn.xFn=function(_n){return _n.dx+Ge-(jr+_n.fontSize*In)*yr+cr*_n.fontSize},xn.yFn=function(_n){return _n.dy+Dn+_n.fontSize*Q},xn.anchorFn=function(_n,Kn){return L(Kn)&&Math.abs(Kn)===90?"middle":yn?"end":"start"},xn.heightFn=function(_n,Kn,na){return Ve.side==="right"&&(Kn*=-1),Kn<-30?-na:Kn<30?-.5*na:0}}return xn};function _t(Ve){return[Ve.text,Ve.x,Ve.axInfo,Ve.font,Ve.fontSize,Ve.fontColor].join("_")}Y.drawTicks=function(Ve,Ge,Ft){Ft=Ft||{};var kt=Ge._id+"tick",Zt=[].concat(Ge.minor&&Ge.minor.ticks?Ft.vals.filter(function(sr){return sr.minor&&!sr.noTick}):[]).concat(Ge.ticks?Ft.vals.filter(function(sr){return!sr.minor&&!sr.noTick}):[]),tr=Ft.layer.selectAll("path."+kt).data(Zt,_t);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",Ft.crisp!==!1).each(function(sr){return r.stroke(p.select(this),sr.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(sr){return l.crispRound(Ve,sr.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",Ft.path).style("display",null),Kt(Ge,[z]),tr.attr("transform",Ft.transFn)},Y.drawGrid=function(Ve,Ge,Ft){if(Ft=Ft||{},Ge.tickmode!=="sync"){var kt=Ge._id+"grid",Zt=Ge.minor&&Ge.minor.showgrid,tr=Zt?Ft.vals.filter(function(jr){return jr.minor}):[],sr=Ge.showgrid?Ft.vals.filter(function(jr){return!jr.minor}):[],rr=Ft.counterAxis;if(rr&&Y.shouldShowZeroLine(Ve,Ge,rr))for(var Nt=Ge.tickmode==="array",hr=0;hr<sr.length;hr++){var pr=sr[hr].x;if(Nt?!pr:Math.abs(pr)<Ge.dtick/100)if(sr=sr.slice(0,hr).concat(sr.slice(hr+1)),Nt)hr--;else break}Ge._gw=l.crispRound(Ve,Ge.gridwidth,1);for(var br=Zt?l.crispRound(Ve,Ge.minor.gridwidth,1):0,vr=Ft.layer,Kr=Ft.minorLayer,Fr=1;Fr>=0;Fr--){var Br=Fr?vr:Kr;if(Br){var xn=Br.selectAll("path."+kt).data(Fr?sr:tr,_t);xn.exit().remove(),xn.enter().append("path").classed(kt,1).classed("crisp",Ft.crisp!==!1),xn.attr("transform",Ft.transFn).attr("d",Ft.path).each(function(jr){return r.stroke(p.select(this),jr.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(jr){return l.dashStyle(jr.minor?Ge.minor.griddash:Ge.griddash,jr.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(jr){return(jr.minor?br:Ge._gw)+"px"}).style("display",null),typeof Ft.path=="function"&&xn.attr("d",Ft.path)}}Kt(Ge,[B,I])}},Y.drawZeroLine=function(Ve,Ge,Ft){Ft=Ft||Ft;var kt=Ge._id+"zl",Zt=Y.shouldShowZeroLine(Ve,Ge,Ft.counterAxis),tr=Ft.layer.selectAll("path."+kt).data(Zt?[{x:0,id:Ge._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",Ft.crisp!==!1).each(function(){Ft.layer.selectAll("path").sort(function(sr,rr){return X(sr.id,rr.id)})}),tr.attr("transform",Ft.transFn).attr("d",Ft.path).call(r.stroke,Ge.zerolinecolor||r.defaultLine).style("stroke-width",l.crispRound(Ve,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),Kt(Ge,[_])},Y.drawLabels=function(Ve,Ge,Ft){Ft=Ft||{};var kt=Ve._fullLayout,Zt=Ge._id,tr=Zt.charAt(0),sr=Ft.cls||Zt+"tick",rr=Ft.vals.filter(function(yr){return yr.text}),Nt=Ft.labelFns,hr=Ft.secondary?0:Ge.tickangle,pr=(Ge._prevTickAngles||{})[sr],br=Ft.layer.selectAll("g."+sr).data(Ge.showticklabels?rr:[],_t),vr=[];br.enter().append("g").classed(sr,1).append("text").attr("text-anchor","middle").each(function(yr){var cr=p.select(this),kr=Ve._promises.length;cr.call(y.positionText,Nt.xFn(yr),Nt.yFn(yr)).call(l.font,yr.font,yr.fontSize,yr.fontColor).text(yr.text).call(y.convertToTspans,Ve),Ve._promises[kr]?vr.push(Ve._promises.pop().then(function(){Kr(cr,hr)})):Kr(cr,hr)}),Kt(Ge,[O]),br.exit().remove(),Ft.repositionOnUpdate&&br.each(function(yr){p.select(this).select("text").call(y.positionText,Nt.xFn(yr),Nt.yFn(yr))});function Kr(yr,cr){yr.each(function(kr){var Or=p.select(this),sn=Or.select(".text-math-group"),yn=Nt.anchorFn(kr,cr),bn=Ft.transFn.call(Or.node(),kr)+(L(cr)&&+cr!=0?" rotate("+cr+","+Nt.xFn(kr)+","+(Nt.yFn(kr)-kr.fontSize/2)+")":""),mn=y.lineCount(Or),_n=j*kr.fontSize,Kn=Nt.heightFn(kr,L(cr)?+cr:0,(mn-1)*_n);if(Kn&&(bn+=v(0,Kn)),sn.empty()){var na=Or.select("text");na.attr({transform:bn,"text-anchor":yn}),na.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var ea=l.bBox(sn.node()).width,oa=ea*{end:-.5,start:.5}[yn];sn.attr("transform",bn+v(oa,0))}})}Ge._adjustTickLabelsOverflow=function(){var yr=Ge.ticklabeloverflow;if(!(!yr||yr==="allow")){var cr=yr.indexOf("hide")!==-1,kr=Ge._id.charAt(0)==="x",Or=0,sn=kr?Ve._fullLayout.width:Ve._fullLayout.height;if(yr.indexOf("domain")!==-1){var yn=w.simpleMap(Ge.range,Ge.r2l);Or=Ge.l2p(yn[0])+Ge._offset,sn=Ge.l2p(yn[1])+Ge._offset}var bn=Math.min(Or,sn),mn=Math.max(Or,sn),_n=Ge.side,Kn=1/0,na=-1/0;br.each(function(Rr){var an=p.select(this),rn=an.select(".text-math-group");if(rn.empty()){var vn=l.bBox(an.node()),Nn=0;kr?(vn.right>mn||vn.left<bn)&&(Nn=1):(vn.bottom>mn||vn.top+(Ge.tickangle?0:Rr.fontSize/4)<bn)&&(Nn=1);var En=an.select("text");Nn?cr&&En.style("opacity",0):(En.style("opacity",1),_n==="bottom"||_n==="right"?Kn=Math.min(Kn,kr?vn.top:vn.left):Kn=-1/0,_n==="top"||_n==="left"?na=Math.max(na,kr?vn.bottom:vn.right):na=1/0)}});for(var ea in kt._plots){var oa=kt._plots[ea];if(!(Ge._id!==oa.xaxis._id&&Ge._id!==oa.yaxis._id)){var $n=kr?oa.yaxis:oa.xaxis;$n&&($n["_visibleLabelMin_"+Ge._id]=Kn,$n["_visibleLabelMax_"+Ge._id]=na)}}}},Ge._hideCounterAxisInsideTickLabels=function(yr){var cr=Ge._id.charAt(0)==="x",kr=[];for(var Or in kt._plots){var sn=kt._plots[Or];Ge._id!==sn.xaxis._id&&Ge._id!==sn.yaxis._id||kr.push(cr?sn.yaxis:sn.xaxis)}kr.forEach(function(yn,bn){yn&&Qt(yn)&&(yr||[_,I,B,z,O]).forEach(function(mn){var _n=mn.K==="tick"&&mn.L==="text"&&Ge.ticklabelmode==="period",Kn=kt._plots[Ge._mainSubplot],na;mn.K===_.K?na=Kn.zerolinelayer.selectAll("."+Ge._id+"zl"):mn.K===I.K?na=Kn.minorGridlayer.selectAll("."+Ge._id):mn.K===B.K?na=Kn.gridlayer.selectAll("."+Ge._id):na=Kn[Ge._id.charAt(0)+"axislayer"],na.each(function(){var ea=p.select(this);mn.L&&(ea=ea.selectAll(mn.L)),ea.each(function(oa){var $n=Ge.l2p(_n?Ut(oa):oa.x)+Ge._offset,Rr=p.select(this);$n<Ge["_visibleLabelMax_"+yn._id]&&$n>Ge["_visibleLabelMin_"+yn._id]?Rr.style("display","none"):mn.K==="tick"&&!bn&&Rr.style("display",null)})})})})},Kr(br,pr+1?pr:hr);function Fr(){return vr.length&&Promise.all(vr)}var Br=null;function xn(){if(Kr(br,hr),rr.length&&tr==="x"&&!L(hr)&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Br=0;var yr=0,cr=[],kr;if(br.each(function(vn){yr=Math.max(yr,vn.fontSize);var Nn=Ge.l2p(vn.x),En=wr(this),Cn=l.bBox(En.node());cr.push({top:0,bottom:10,height:10,left:Nn-Cn.width/2,right:Nn+Cn.width/2+2,width:Cn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!Ft.secondary){var Or=2;for(Ge.ticks&&(Or+=Ge.tickwidth/2),kr=0;kr<cr.length;kr++){var sn=rr[kr].xbnd,yn=cr[kr];if(sn[0]!==null&&yn.left-Ge.l2p(sn[0])<Or||sn[1]!==null&&Ge.l2p(sn[1])-yn.right<Or){Br=90;break}}}else{var bn=rr.length,mn=Math.abs((rr[bn-1].x-rr[0].x)*Ge._m)/(bn-1),_n=Ge.ticklabelposition||"",Kn=function(vn){return _n.indexOf(vn)!==-1},na=Kn("top"),ea=Kn("left"),oa=Kn("right"),$n=Kn("bottom"),Rr=$n||ea||na||oa,an=Rr?(Ge.tickwidth||0)+2*oe:0,rn=mn<yr*2.5||Ge.type==="multicategory"||Ge._name==="realaxis";for(kr=0;kr<cr.length-1;kr++)if(w.bBoxIntersect(cr[kr],cr[kr+1],an)){Br=rn?90:30;break}}Br&&Kr(br,Br)}}Ge._selections&&(Ge._selections[sr]=br);var jr=[Fr];Ge.automargin&&kt._redrawFromAutoMarginCount&&pr===90?(Br=90,jr.push(function(){Kr(br,pr)})):jr.push(xn),Ge._tickAngles&&jr.push(function(){Ge._tickAngles[sr]=Br===null?L(hr)?hr:0:Br});var Dn=Ge._anchorAxis;Dn&&Dn.autorange&&Qt(Ge)&&!re(kt,Ge._id)&&(kt._insideTickLabelsAutorange||(kt._insideTickLabelsAutorange={}),kt._insideTickLabelsAutorange[Dn._name+".autorange"]=Dn.autorange,jr.push(function(){br.each(function(cr,kr){var Or=wr(this),sn=Or.select(".text-math-group");sn.empty()&&(Ge._vals[kr].bb=l.bBox(Or.node()))})}));var In=w.syncOrAsync(jr);return In&&In.then&&Ve._promises.push(In),In};function nr(Ve,Ge,Ft){var kt=Ge._id+"divider",Zt=Ft.vals,tr=Ft.layer.selectAll("path."+kt).data(Zt,_t);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(r.stroke,Ge.dividercolor).style("stroke-width",l.crispRound(Ve,Ge.dividerwidth,1)+"px"),tr.attr("transform",Ft.transFn).attr("d",Ft.path)}Y.getPxPosition=function(Ve,Ge){var Ft=Ve._fullLayout._size,kt=Ge._id.charAt(0),Zt=Ge.side,tr;if(Ge.anchor!=="free"?tr=Ge._anchorAxis:kt==="x"?tr={_offset:Ft.t+(1-(Ge.position||0))*Ft.h,_length:0}:kt==="y"&&(tr={_offset:Ft.l+(Ge.position||0)*Ft.w+Ge._shift,_length:0}),Zt==="top"||Zt==="left")return tr._offset;if(Zt==="bottom"||Zt==="right")return tr._offset+tr._length};function lr(Ve){var Ge=Ve.title.font.size,Ft=(Ve.title.text.match(y.BR_TAG_ALL)||[]).length;return Ve.title.hasOwnProperty("standoff")?Ft?Ge*($+Ft*j):Ge*$:Ft?Ge*(Ft+1)*j:Ge}function zr(Ve,Ge){var Ft=Ve._fullLayout,kt=Ge._id,Zt=kt.charAt(0),tr=Ge.title.font.size,sr;if(Ge.title.hasOwnProperty("standoff"))sr=Ge._depth+Ge.title.standoff+lr(Ge);else{var rr=Qt(Ge);if(Ge.type==="multicategory")sr=Ge._depth;else{var Nt=1.5*tr;rr&&(Nt=.5*tr,Ge.ticks==="outside"&&(Nt+=Ge.ticklen)),sr=10+Nt+(Ge.linewidth?Ge.linewidth-1:0)}rr||(Zt==="x"?sr+=Ge.side==="top"?tr*(Ge.showticklabels?1:0):tr*(Ge.showticklabels?1.5:.5):sr+=Ge.side==="right"?tr*(Ge.showticklabels?1:.5):tr*(Ge.showticklabels?.5:0))}var hr=Y.getPxPosition(Ve,Ge),pr,br,vr;Zt==="x"?(br=Ge._offset+Ge._length/2,vr=Ge.side==="top"?hr-sr:hr+sr):(vr=Ge._offset+Ge._length/2,br=Ge.side==="right"?hr+sr:hr-sr,pr={rotate:"-90",offset:0});var Kr;if(Ge.type!=="multicategory"){var Fr=Ge._selections[Ge._id+"tick"];if(Kr={selection:Fr,side:Ge.side},Fr&&Fr.node()&&Fr.node().parentNode){var Br=l.getTranslate(Fr.node().parentNode);Kr.offsetLeft=Br.x,Kr.offsetTop=Br.y}Ge.title.hasOwnProperty("standoff")&&(Kr.pad=0)}return Ge._titleStandoff=sr,t.draw(Ve,kt+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:Ft._dfltTitle[Zt],avoid:Kr,transform:pr,attributes:{x:br,y:vr,"text-anchor":"middle"}})}Y.shouldShowZeroLine=function(Ve,Ge,Ft){var kt=w.simpleMap(Ge.range,Ge.r2l);return kt[0]*kt[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===k)&&(mt(Ge,0)||!jt(Ve,Ge,Ft,kt)||Yt(Ve,Ge))},Y.clipEnds=function(Ve,Ge){return Ge.filter(function(Ft){return mt(Ve,Ft.x)})};function mt(Ve,Ge){var Ft=Ve.l2p(Ge);return Ft>1&&Ft<Ve._length-1}function jt(Ve,Ge,Ft,kt){var Zt=Ft._mainAxis;if(!Zt)return;var tr=Ve._fullLayout,sr=Ge._id.charAt(0),rr=Y.counterLetter(Ge._id),Nt=Ge._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(sr==="x")?0:Ge._length);function hr(Fr){if(!Fr.showline||!Fr.linewidth)return!1;var Br=Math.max((Fr.linewidth+Ge.zerolinewidth)/2,1);function xn(In){return typeof In=="number"&&Math.abs(In-Nt)<Br}if(xn(Fr._mainLinePosition)||xn(Fr._mainMirrorPosition))return!0;var jr=Fr._linepositions||{};for(var Dn in jr)if(xn(jr[Dn][0])||xn(jr[Dn][1]))return!0}var pr=tr._plots[Ft._mainSubplot];if(!(pr.mainplotinfo||pr).overlays.length)return hr(Ft);for(var br=Y.list(Ve,rr),vr=0;vr<br.length;vr++){var Kr=br[vr];if(Kr._mainAxis===Zt&&hr(Kr))return!0}}function Yt(Ve,Ge){for(var Ft=Ve._fullData,kt=Ge._mainSubplot,Zt=Ge._id.charAt(0),tr=0;tr<Ft.length;tr++){var sr=Ft[tr];if(sr.visible===!0&&sr.xaxis+sr.yaxis===kt&&(C.traceIs(sr,"bar-like")&&sr.orientation==={x:"h",y:"v"}[Zt]||sr.fill&&sr.fill.charAt(sr.fill.length-1)===Zt))return!0}return!1}function wr(Ve){var Ge=p.select(Ve),Ft=Ge.select(".text-math-group");return Ft.empty()?Ge.select("text"):Ft}Y.allowAutoMargin=function(Ve){for(var Ge=Y.list(Ve,"",!0),Ft=0;Ft<Ge.length;Ft++){var kt=Ge[Ft];kt.automargin&&(n.allowAutoMargin(Ve,dr(kt)),kt.mirror&&n.allowAutoMargin(Ve,ct(kt))),C.getComponentMethod("rangeslider","isVisible")(kt)&&n.allowAutoMargin(Ve,ot(kt))}};function dr(Ve){return Ve._id+".automargin"}function ct(Ve){return dr(Ve)+".mirror"}function ot(Ve){return Ve._id+".rangeslider"}Y.swap=function(Ve,Ge){for(var Ft=wt(Ve,Ge),kt=0;kt<Ft.length;kt++)Dt(Ve,Ft[kt].x,Ft[kt].y)};function wt(Ve,Ge){var Ft=[],kt,Zt;for(kt=0;kt<Ge.length;kt++){var tr=[],sr=Ve._fullData[Ge[kt]].xaxis,rr=Ve._fullData[Ge[kt]].yaxis;if(!(!sr||!rr)){for(Zt=0;Zt<Ft.length;Zt++)(Ft[Zt].x.indexOf(sr)!==-1||Ft[Zt].y.indexOf(rr)!==-1)&&tr.push(Zt);if(!tr.length){Ft.push({x:[sr],y:[rr]});continue}var Nt=Ft[tr[0]],hr;if(tr.length>1)for(Zt=1;Zt<tr.length;Zt++)hr=Ft[tr[Zt]],Mt(Nt.x,hr.x),Mt(Nt.y,hr.y);Mt(Nt.x,[sr]),Mt(Nt.y,[rr])}}return Ft}function Mt(Ve,Ge){for(var Ft=0;Ft<Ge.length;Ft++)Ve.indexOf(Ge[Ft])===-1&&Ve.push(Ge[Ft])}function Dt(Ve,Ge,Ft){var kt=[],Zt=[],tr=Ve.layout,sr,rr;for(sr=0;sr<Ge.length;sr++)kt.push(Y.getFromId(Ve,Ge[sr]));for(sr=0;sr<Ft.length;sr++)Zt.push(Y.getFromId(Ve,Ft[sr]));var Nt=Object.keys(a),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],pr=["linear","log"];for(sr=0;sr<Nt.length;sr++){var br=Nt[sr],vr=kt[0][br],Kr=Zt[0][br],Fr=!0,Br=!1,xn=!1;if(!(br.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(br)!==-1)){for(rr=1;rr<kt.length&&Fr;rr++){var jr=kt[rr][br];br==="type"&&pr.indexOf(vr)!==-1&&pr.indexOf(jr)!==-1&&vr!==jr?Br=!0:jr!==vr&&(Fr=!1)}for(rr=1;rr<Zt.length&&Fr;rr++){var Dn=Zt[rr][br];br==="type"&&pr.indexOf(Kr)!==-1&&pr.indexOf(Dn)!==-1&&Kr!==Dn?xn=!0:Zt[rr][br]!==Kr&&(Fr=!1)}Fr&&(Br&&(tr[kt[0]._name].type="linear"),xn&&(tr[Zt[0]._name].type="linear"),St(tr,br,kt,Zt,Ve._fullLayout._dfltTitle))}}for(sr=0;sr<Ve._fullLayout.annotations.length;sr++){var In=Ve._fullLayout.annotations[sr];Ge.indexOf(In.xref)!==-1&&Ft.indexOf(In.yref)!==-1&&w.swapAttrs(tr.annotations[sr],["?"])}}function St(Ve,Ge,Ft,kt,Zt){var tr=w.nestedProperty,sr=tr(Ve[Ft[0]._name],Ge).get(),rr=tr(Ve[kt[0]._name],Ge).get(),Nt;for(Ge==="title"&&(sr&&sr.text===Zt.x&&(sr.text=Zt.y),rr&&rr.text===Zt.y&&(rr.text=Zt.x)),Nt=0;Nt<Ft.length;Nt++)tr(Ve,Ft[Nt]._name+"."+Ge).set(rr);for(Nt=0;Nt<kt.length;Nt++)tr(Ve,kt[Nt]._name+"."+Ge).set(sr)}function Ot(Ve){return Ve._id==="angularaxis"}function Vt(Ve,Ge){for(var Ft=Ge._rangebreaks.length,kt=0;kt<Ft;kt++){var Zt=Ge._rangebreaks[kt];if(Ve>=Zt.min&&Ve<Zt.max)return Zt.max}return Ve}function Qt(Ve){return(Ve.ticklabelposition||"").indexOf("inside")!==-1}function Kt(Ve,Ge){Qt(Ve._anchorAxis||{})&&Ve._hideCounterAxisInsideTickLabels&&Ve._hideCounterAxisInsideTickLabels(Ge)}function or(Ve,Ge,Ft,kt){var Zt=Ve.anchor!=="free"&&(Ve.overlaying===void 0||Ve.overlaying===!1)?Ve._id:Ve.overlaying,tr;kt?tr=Ve.side==="right"?Ge:-Ge:tr=Ge,Zt in Ft||(Ft[Zt]={}),Ve.side in Ft[Zt]||(Ft[Zt][Ve.side]=0),Ft[Zt][Ve.side]+=tr}function Mr(Ve,Ge){return Ve.autoshift?Ge[Ve.overlaying][Ve.side]:Ve.shift||0}},4322:function(G,U,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=L.isArrayOrTypedArray,w=L.isDateTime,v=L.cleanNumber,y=Math.round;G.exports=function(m,h,T){var f=m,o=T.noMultiCategory;if(C(f)&&!f.length)return"-";if(!o&&c(f))return"multicategory";if(o&&Array.isArray(f[0])){for(var d=[],M=0;M<f.length;M++)if(C(f[M]))for(var A=0;A<f[M].length;A++)d.push(f[M][A]);f=d}if(l(f,h))return"date";var E=T.autotypenumbers!=="strict";return s(f,E)?"category":r(f,E)?"linear":"-"};function t(u,m){return m?p(u):typeof u=="number"}function r(u,m){for(var h=u.length,T=0;T<h;T++)if(t(u[T],m))return!0;return!1}function l(u,m){for(var h=u.length,T=a(h),f=0,o=0,d={},M=0;M<h;M+=T){var A=y(M),E=u[A],g=String(E);d[g]||(d[g]=1,w(E,m)&&f++,p(E)&&o++)}return f>o*2}function a(u){return Math.max(1,(u-1)/1e3)}function s(u,m){for(var h=u.length,T=a(h),f=0,o=0,d={},M=0;M<h;M+=T){var A=y(M),E=u[A],g=String(E);if(!d[g]){d[g]=1;var S=typeof E;S==="boolean"?o++:(m?v(E)!==n:S==="number")?f++:S==="string"&&o++}}return o>f*2}function c(u){return C(u[0])&&C(u[1])}},71453:function(G,U,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),w=e(85501),v=e(13838),y=e(26218),t=e(38701),r=e(96115),l=e(89426),a=e(15258),s=e(92128),c=e(21994),u=e(85555).WEEKDAY_PATTERN,m=e(85555).HOUR_PATTERN;G.exports=function(d,M,A,E,g){var S=E.letter,b=E.font||{},i=E.splomStash||{},P=A("visible",!E.visibleDflt),x=M._template||{},k=M.type||x.type||"-",_;if(k==="date"){var B=L.getComponentMethod("calendars","handleDefaults");B(d,M,"calendar",E.calendar),E.noTicklabelmode||(_=A("ticklabelmode"))}var I="";(!E.noTicklabelposition||k==="multicategory")&&(I=n.coerce(d,M,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:_==="period"?["outside","inside"]:S==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),E.noTicklabeloverflow||A("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),c(M,g);var z=!M.isValidRange(d.range);z&&E.reverseDflt&&(z="reversed");var O=A("autorange",z);O&&(k==="linear"||k==="-")&&A("rangemode"),A("range"),M.cleanRange(),a(d,M,A,E),k!=="category"&&!E.noHover&&A("hoverformat");var F=A("color"),N=F!==v.color.dflt?F:b.color,Q=i.label||g._dfltTitle[S];if(l(d,M,A,k,E),!P)return M;A("title.text",Q),n.coerceFont(A,"title.font",{family:b.family,size:n.bigFont(b.size),color:N}),y(d,M,A,k);var $=E.hasMinor;if($&&(C.newContainer(M,"minor"),y(d,M,A,k,{isMinor:!0})),r(d,M,A,k,E),t(d,M,A,E),$){var j=E.isMinor;E.isMinor=!0,t(d,M,A,E),E.isMinor=j}s(d,M,A,{dfltColor:F,bgColor:E.bgColor,showGrid:E.showGrid,hasMinor:$,attributes:v}),$&&!M.minor.ticks&&!M.minor.showgrid&&delete M.minor,(M.showline||M.ticks)&&A("mirror");var ee=k==="multicategory";if(!E.noTickson&&(k==="category"||ee)&&(M.ticks||M.showgrid)){var oe;ee&&(oe="boundaries");var Y=A("tickson",oe);Y==="boundaries"&&delete M.ticklabelposition}if(ee){var V=A("showdividers");V&&(A("dividercolor"),A("dividerwidth"))}if(k==="date")if(w(d,M,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:h}),!M.rangebreaks.length)delete M.rangebreaks;else{for(var W=0;W<M.rangebreaks.length;W++)if(M.rangebreaks[W].pattern===u){M._hasDayOfWeekBreaks=!0;break}if(c(M,g),g._has("scattergl")||g._has("splom"))for(var X=0;X<E.data.length;X++){var re=E.data[X];(re.type==="scattergl"||re.type==="splom")&&(re.visible=!1,n.warn(re.type+" traces do not work on axes with rangebreaks. Setting trace "+re.index+" to `visible: false`."))}}return M};function h(o,d,M){function A(_,B){return n.coerce(o,d,v.rangebreaks,_,B)}var E=A("enabled");if(E){var g=A("bounds");if(g&&g.length>=2){var S="",b,i;if(g.length===2){for(b=0;b<2;b++)if(i=f(g[b]),i){S=u;break}}var P=A("pattern",S);if(P===u)for(b=0;b<2;b++)i=f(g[b]),i&&(d.bounds[b]=g[b]=i-1);if(P)for(b=0;b<2;b++)switch(i=g[b],P){case u:if(!p(i)){d.enabled=!1;return}if(i=+i,i!==Math.floor(i)||i<0||i>=7){d.enabled=!1;return}d.bounds[b]=g[b]=i;break;case m:if(!p(i)){d.enabled=!1;return}if(i=+i,i<0||i>24){d.enabled=!1;return}d.bounds[b]=g[b]=i;break}if(M.autorange===!1){var x=M.range;if(x[0]<x[1]){if(g[0]<x[0]&&g[1]>x[1]){d.enabled=!1;return}}else if(g[0]>x[0]&&g[1]<x[1]){d.enabled=!1;return}}}else{var k=A("values");if(k&&k.length)A("dvalue");else{d.enabled=!1;return}}}}var T={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(o){if(typeof o=="string")return T[o.substr(0,3).toLowerCase()]}},12663:function(G,U,e){var p=e(31562),L=p.FORMAT_LINK,n=p.DATE_FORMAT_LINK;function C(y,t){return{valType:"string",dflt:"",editType:"none",description:(t?w:v)("hover text",y)+["By default the values are formatted using "+(t?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}}function w(y,t){return["Sets the "+y+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(y,t){return w(y,t)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:C,descriptionOnlyNumbers:w,descriptionWithDates:v}},41675:function(G,U,e){var p=e(73972),L=e(85555);U.id2name=function(w){if(!(typeof w!="string"||!w.match(L.AX_ID_PATTERN))){var v=w.split(" ")[0].substr(1);return v==="1"&&(v=""),w.charAt(0)+"axis"+v}},U.name2id=function(w){if(w.match(L.AX_NAME_PATTERN)){var v=w.substr(5);return v==="1"&&(v=""),w.charAt(0)+v}},U.cleanId=function(w,v,y){var t=/( domain)$/.test(w);if(!(typeof w!="string"||!w.match(L.AX_ID_PATTERN))&&!(v&&w.charAt(0)!==v)&&!(t&&!y)){var r=w.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),w.charAt(0)+r+(t&&y?" domain":"")}},U.list=function(C,w,v){var y=C._fullLayout;if(!y)return[];var t=U.listIds(C,w),r=new Array(t.length),l;for(l=0;l<t.length;l++){var a=t[l];r[l]=y[a.charAt(0)+"axis"+a.substr(1)]}if(!v){var s=y._subplots.gl3d||[];for(l=0;l<s.length;l++){var c=y[s[l]];w?r.push(c[w+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},U.listIds=function(C,w){var v=C._fullLayout;if(!v)return[];var y=v._subplots;return w?y[w+"axis"]:y.xaxis.concat(y.yaxis)},U.getFromId=function(C,w,v){var y=C._fullLayout;return w=w===void 0||typeof w!="string"?w:w.replace(" domain",""),v==="x"?w=w.replace(/y[0-9]*/,""):v==="y"&&(w=w.replace(/x[0-9]*/,"")),y[U.id2name(w)]},U.getFromTrace=function(C,w,v){var y=C._fullLayout,t=null;if(p.traceIs(w,"gl3d")){var r=w.scene;r.substr(0,5)==="scene"&&(t=y[r][v+"axis"])}else t=U.getFromId(C,w[v+"axis"]||v);return t},U.idSort=function(C,w){var v=C.charAt(0),y=w.charAt(0);return v!==y?v>y?1:-1:+(C.substr(1)||1)-+(w.substr(1)||1)},U.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function n(C,w){if(w&&w.length){for(var v=0;v<w.length;v++)if(w[v][C])return!0}return!1}U.isLinked=function(C,w){return n(w,C._axisMatchGroups)||n(w,C._axisConstraintGroups)}},15258:function(G){function U(e,p){var L=p.dataAttr||e._id.charAt(0),n={},C,w,v;if(p.axData)C=p.axData;else for(C=[],w=0;w<p.data.length;w++){var y=p.data[w];y[L+"axis"]===e._id&&C.push(y)}for(w=0;w<C.length;w++){var t=C[w][L];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(n[r]=1)}}return Object.keys(n)}G.exports=function(p,L,n,C){if(L.type==="category"){var w=p.categoryarray,v=Array.isArray(w)&&w.length>0,y;v&&(y="array");var t=n("categoryorder",y),r;t==="array"&&(r=n("categoryarray")),!v&&t==="array"&&(t=L.categoryorder="trace"),t==="trace"?L._initialCategories=[]:t==="array"?L._initialCategories=r.slice():(r=U(L,C).sort(),t==="category ascending"?L._initialCategories=r:t==="category descending"&&(L._initialCategories=r.reverse()))}}},66287:function(G,U,e){var p=e(92770),L=e(71828),n=e(50606),C=n.ONEDAY,w=n.ONEWEEK;U.dtick=function(v,y){var t=y==="log",r=y==="date",l=y==="category",a=r?C:1;if(!v)return a;if(p(v))return v=Number(v),v<=0?a:l?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return a;var s=v.charAt(0),c=v.substr(1);return c=p(c)?Number(c):0,c<=0||!(r&&s==="M"&&c===Math.round(c)||t&&s==="L"||t&&s==="D"&&(c===1||c===2))?a:v},U.tick0=function(v,y,t,r){if(y==="date")return L.cleanDate(v,L.dateTick0(t,r%w===0?1:0));if(!(r==="D1"||r==="D2"))return p(v)?Number(v):0}},85555:function(G,U,e){var p=e(30587).counter;G.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(G,U,e){var p=e(71828),L=e(71739),n=e(41675).id2name,C=e(13838),w=e(42449),v=e(21994),y=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;U.handleDefaults=function(h,T,f){var o=f.axIds,d=f.axHasImage,M=T._axisConstraintGroups=[],A=T._axisMatchGroups=[],E,g,S,b,i,P,x,k;for(E=0;E<o.length;E++)b=n(o[E]),i=h[b],P=T[b],r(i,P,{axIds:o,layoutOut:T,hasImage:d[b]});function _(j,ee){for(E=0;E<j.length;E++){g=j[E];for(S in g)T[n(S)][ee]=g}}for(_(A,"_matchGroup"),E=0;E<M.length;E++){g=M[E];for(S in g)if(P=T[n(S)],P.fixedrange){for(var B in g){var I=n(B);(h[I]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+I+" but was overridden because another axis in its constraint group has fixedrange true"),T[I].fixedrange=!0}break}}for(E=0;E<M.length;){g=M[E];for(S in g){P=T[n(S)],P._matchGroup&&Object.keys(P._matchGroup).length===Object.keys(g).length&&(M.splice(E,1),E--);break}E++}_(M,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,F=!1;function N(){k=P[x],x==="rangebreaks"&&(F=P._hasDayOfWeekBreaks)}for(E=0;E<A.length;E++){g=A[E];for(var Q=0;Q<z.length;Q++){x=z[Q],k=null;var $;for(S in g)if(b=n(S),i=h[b],P=T[b],x in P){if(!P.matches&&($=P,x in i)){N();break}k===null&&x in i&&N()}if(x==="range"&&k&&(O=!0),x==="autorange"&&k===null&&O&&(k=!1),k===null&&x in $&&(k=$[x]),k!==null)for(S in g)P=T[n(S)],P[x]=x==="range"?k.slice():k,x==="rangebreaks"&&(P._hasDayOfWeekBreaks=F,v(P,T))}}};function r(h,T,f){var o=f.axIds,d=f.layoutOut,M=f.hasImage,A=d._axisConstraintGroups,E=d._axisMatchGroups,g=T._id,S=g.charAt(0),b=((d._splomAxes||{})[S]||{})[g]||{},i=T._id,P=i.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function x(V,W){return p.coerce(h,T,C,V,W)}x("constrain",M?"domain":"range"),p.coerce(h,T,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var k=T.type,_,B,I=[];for(_=0;_<o.length;_++)if(B=o[_],B!==i){var z=d[n(B)];z.type===k&&I.push(B)}var O=a(A,i);if(O){var F=[];for(_=0;_<I.length;_++)B=I[_],O[B]||F.push(B);I=F}var N=I.length,Q,$;N&&(h.matches||b.matches)&&(Q=p.coerce(h,T,{matches:{valType:"enumerated",values:I,dflt:I.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var j=M&&!P?T.anchor:void 0;if(N&&!Q&&(h.scaleanchor||j)&&($=p.coerce(h,T,{scaleanchor:{valType:"enumerated",values:I}},"scaleanchor",j)),Q){T._matchGroup=s(E,i,Q,1);var ee=d[n(Q)],oe=l(d,T)/l(d,ee);P!==(Q.charAt(0)==="x")&&(oe=(P?"x":"y")+oe),s(A,i,Q,oe)}else h.matches&&o.indexOf(h.matches)!==-1&&p.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if($){var Y=x("scaleratio");Y||(Y=T.scaleratio=1),s(A,i,$,Y)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&p.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(h,T){var f=T.domain;return f||(f=h[n(T.overlaying)].domain),f[1]-f[0]}function a(h,T){for(var f=0;f<h.length;f++)if(h[f][T])return h[f];return null}function s(h,T,f,o){var d,M,A,E,g,S=a(h,T);S===null?(S={},S[T]=1,g=h.length,h.push(S)):g=h.indexOf(S);var b=Object.keys(S);for(d=0;d<h.length;d++)if(A=h[d],d!==g&&A[f]){var i=A[f];for(M=0;M<b.length;M++)E=b[M],A[E]=c(i,c(o,S[E]));h.splice(g,1);return}if(o!==1)for(M=0;M<b.length;M++){var P=b[M];S[P]=c(o,S[P])}S[f]=1}function c(h,T){var f="",o="",d,M;typeof h=="string"&&(f=h.match(/^[xy]*/)[0],d=f.length,h=+h.substr(d)),typeof T=="string"&&(o=T.match(/^[xy]*/)[0],M=o.length,T=+T.substr(M));var A=h*T;return!d&&!M?A:!d||!M||f.charAt(0)===o.charAt(0)?f+o+h*T:d===M?A:(d>M?f.substr(M):o.substr(d))+A}function u(h,T){for(var f=T._size,o=f.h/f.w,d={},M=Object.keys(h),A=0;A<M.length;A++){var E=M[A],g=h[E];if(typeof g=="string"){var S=g.match(/^[xy]*/)[0],b=S.length;g=+g.substr(b);for(var i=S.charAt(0)==="y"?o:1/o,P=0;P<b;P++)g*=i}d[E]=g}return d}U.enforce=function(T){var f=T._fullLayout,o=f._axisConstraintGroups||[],d,M,A,E,g,S,b,i;for(d=0;d<o.length;d++){A=u(o[d],f);var P=Object.keys(A),x=1/0,k=0,_=1/0,B={},I={},z=!1;for(M=0;M<P.length;M++)E=P[M],I[E]=g=f[n(E)],g._inputDomain?g.domain=g._inputDomain.slice():g._inputDomain=g.domain.slice(),g._inputRange||(g._inputRange=g.range.slice()),g.setScale(),B[E]=S=Math.abs(g._m)/A[E],x=Math.min(x,S),(g.constrain==="domain"||!g._constraintShrinkable)&&(_=Math.min(_,S)),delete g._constraintShrinkable,k=Math.max(k,S),g.constrain==="domain"&&(z=!0);if(!(x>y*k&&!z)){for(M=0;M<P.length;M++)if(E=P[M],S=B[E],g=I[E],b=g.constrain,S!==_||b==="domain")if(i=S/_,b==="range")w(g,i);else{var O=g._inputDomain,F=(g.domain[1]-g.domain[0])/(O[1]-O[0]),N=(g.r2l(g.range[1])-g.r2l(g.range[0]))/(g.r2l(g._inputRange[1])-g.r2l(g._inputRange[0]));if(i/=F,i*N<1){g.domain=g._input.domain=O.slice(),w(g,i);continue}if(N<1&&(g.range=g._input.range=g._inputRange.slice(),i*=N),g.autorange){var Q=g.r2l(g.range[0]),$=g.r2l(g.range[1]),j=(Q+$)/2,ee=j,oe=j,Y=Math.abs($-j),V=j-Y*i*1.0001,W=j+Y*i*1.0001,X=L.makePadFn(f,g,0),re=L.makePadFn(f,g,1);m(g,i);var ie=Math.abs(g._m),K=L.concatExtremes(T,g),q=K.min,le=K.max,ae,he;for(he=0;he<q.length;he++)ae=q[he].val-X(q[he])/ie,ae>V&&ae<ee&&(ee=ae);for(he=0;he<le.length;he++)ae=le[he].val+re(le[he])/ie,ae<W&&ae>oe&&(oe=ae);var me=(oe-ee)/(2*Y);i/=me,ee=g.l2r(ee),oe=g.l2r(oe),g.range=g._input.range=Q<$?[ee,oe]:[oe,ee]}m(g,i)}}}},U.getAxisGroup=function(T,f){for(var o=T._axisMatchGroups,d=0;d<o.length;d++){var M=o[d];if(M[f])return"g"+d}return f},U.clean=function(T,f){if(f._inputDomain){for(var o=!1,d=f._id,M=T._fullLayout._axisConstraintGroups,A=0;A<M.length;A++)if(M[A][d]){o=!0;break}(!o||f.constrain!=="domain")&&(f._input.domain=f.domain=f._inputDomain,delete f._inputDomain)}};function m(h,T){var f=h._inputDomain,o=t[h.constraintoward],d=f[0]+(f[1]-f[0])*o;h.domain=h._input.domain=[d+(f[0]-d)/T,d+(f[1]-d)/T],h.setScale()}},29323:function(G,U,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(84267),w=e(38520),v=e(73972),y=L.strTranslate,t=e(63893),r=e(7901),l=e(91424),a=e(30211),s=e(89298),c=e(6964),u=e(28569),m=e(64505),h=m.selectingOrDrawing,T=m.freeMode,f=e(18783).FROM_TL,o=e(33306),d=e(61549).redrawReglTraces,M=e(74875),A=e(41675).getFromId,E=e(47322).prepSelect,g=e(47322).clearOutline,S=e(47322).selectOnClick,b=e(42449),i=e(85555),P=i.MINDRAG,x=i.MINZOOM,k=!0;function _(ae,he,me,Me,xe,Ie,_e,Te){var ye=ae._fullLayout._zoomlayer,Ae=_e+Te==="nsew",Be=(_e+Te).length===1,Ue,De,He,ut,et,Qe,qe,ft,gt,xt,Ct,Je,ze,Fe,$e,at,Xe,Pe,we,ue,ge,Le,ke;me+=he.yaxis._shift;function it(){if(Ue=he.xaxis,De=he.yaxis,gt=Ue._length,xt=De._length,qe=Ue._offset,ft=De._offset,He={},He[Ue._id]=Ue,ut={},ut[De._id]=De,_e&&Te)for(var rr=he.overlays,Nt=0;Nt<rr.length;Nt++){var hr=rr[Nt].xaxis;He[hr._id]=hr;var pr=rr[Nt].yaxis;ut[pr._id]=pr}et=le(He),Qe=le(ut),ze=z(et,Te),Fe=z(Qe,_e),$e=!Fe&&!ze,Je=K(ae,ae._fullLayout._axisMatchGroups,He,ut),Ct=K(ae,ae._fullLayout._axisConstraintGroups,He,ut,Je);var br=Ct.isSubplotConstrained||Je.isSubplotConstrained;at=Te||br,Xe=_e||br;var vr=ae._fullLayout;Pe=vr._has("scattergl"),we=vr._has("splom"),ue=vr._has("svg")}it();var lt=$(Fe+ze,ae._fullLayout.dragmode,Ae),bt=I(he,_e+Te+"drag",lt,me,Me,xe,Ie);if($e&&!Ae)return bt.onmousedown=null,bt.style.pointerEvents="none",bt;var Rt={element:bt,gd:ae,plotinfo:he};Rt.prepFn=function(rr,Nt,hr){var pr=Rt.dragmode,br=ae._fullLayout.dragmode;br!==pr&&(Rt.dragmode=br),it(),Le=ae._fullLayout._invScaleX,ke=ae._fullLayout._invScaleY,$e||(Ae?rr.shiftKey?br==="pan"?br="zoom":h(br)||(br="pan"):rr.ctrlKey&&(br="pan"):br="pan"),T(br)?Rt.minDrag=1:Rt.minDrag=void 0,h(br)?(Rt.xaxes=et,Rt.yaxes=Qe,E(rr,Nt,hr,Rt,br)):(Rt.clickFn=Gt,h(pr)&&Ut(),$e||(br==="zoom"?(Rt.moveFn=wt,Rt.doneFn=Dt,Rt.minDrag=1,ot(rr,Nt,hr)):br==="pan"&&(Rt.moveFn=or,Rt.doneFn=Ft))),ae._fullLayout._redrag=function(){var vr=ae._dragdata;if(vr&&vr.element===bt){var Kr=ae._fullLayout.dragmode;h(Kr)||(it(),kt([0,0,gt,xt]),Rt.moveFn(vr.dx,vr.dy))}}};function Ut(){Rt.plotinfo.selection=!1,g(ae)}function Gt(rr,Nt){var hr=Rt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var pr=hr._fullLayout.clickmode;if(V(hr),rr===2&&!Be&&Ge(),Ae)pr.indexOf("select")>-1&&S(Nt,hr,et,Qe,he.id,Rt),pr.indexOf("event")>-1&&a.click(hr,Nt,he.id);else if(rr===1&&Be){var br=_e?De:Ue,vr=_e==="s"||Te==="w"?0:1,Kr=br._name+".range["+vr+"]",Fr=O(br,vr),Br="left",xn="middle";if(br.fixedrange)return;_e?(xn=_e==="n"?"top":"bottom",br.side==="right"&&(Br="right")):Te==="e"&&(Br="right"),hr._context.showAxisRangeEntryBoxes&&p.select(bt).call(t.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Fr),fill:br.tickfont?br.tickfont.color:"#444",horizontalAlign:Br,verticalAlign:xn}).on("edit",function(jr){var Dn=br.d2r(jr);Dn!==void 0&&v.call("_guiRelayout",hr,Kr,Dn)})}}u.init(Rt);var _t,nr,lr,zr,mt,jt,Yt,wr,dr,ct;function ot(rr,Nt,hr){var pr=bt.getBoundingClientRect();_t=Nt-pr.left,nr=hr-pr.top,ae._fullLayout._calcInverseTransform(ae);var br=L.apply3DTransform(ae._fullLayout._invTransform)(_t,nr);_t=br[0],nr=br[1],lr={l:_t,r:_t,w:0,t:nr,b:nr,h:0},zr=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:C(ae._fullLayout.plot_bgcolor).getLuminance(),mt="M0,0H"+gt+"V"+xt+"H0V0",jt=!1,Yt="xy",ct=!1,wr=j(ye,zr,qe,ft,mt),dr=ee(ye,qe,ft)}function wt(rr,Nt){if(ae._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(gt,Le*rr+_t)),pr=Math.max(0,Math.min(xt,ke*Nt+nr)),br=Math.abs(hr-_t),vr=Math.abs(pr-nr);lr.l=Math.min(_t,hr),lr.r=Math.max(_t,hr),lr.t=Math.min(nr,pr),lr.b=Math.max(nr,pr);function Kr(){Yt="",lr.r=lr.l,lr.t=lr.b,dr.attr("d","M0,0Z")}if(Ct.isSubplotConstrained)br>x||vr>x?(Yt="xy",br/gt>vr/xt?(vr=br*xt/gt,nr>pr?lr.t=nr-vr:lr.b=nr+vr):(br=vr*gt/xt,_t>hr?lr.l=_t-br:lr.r=_t+br),dr.attr("d",ie(lr))):Kr();else if(Je.isSubplotConstrained)if(br>x||vr>x){Yt="xy";var Fr=Math.min(lr.l/gt,(xt-lr.b)/xt),Br=Math.max(lr.r/gt,(xt-lr.t)/xt);lr.l=Fr*gt,lr.r=Br*gt,lr.b=(1-Fr)*xt,lr.t=(1-Br)*xt,dr.attr("d",ie(lr))}else Kr();else!Fe||vr<Math.min(Math.max(br*.6,P),x)?br<P||!ze?Kr():(lr.t=0,lr.b=xt,Yt="x",dr.attr("d",X(lr,nr))):!ze||br<Math.min(vr*.6,x)?(lr.l=0,lr.r=gt,Yt="y",dr.attr("d",re(lr,_t))):(Yt="xy",dr.attr("d",ie(lr)));lr.w=lr.r-lr.l,lr.h=lr.b-lr.t,Yt&&(ct=!0),ae._dragged=ct,oe(wr,dr,lr,mt,jt,zr),Mt(),ae.emit("plotly_relayouting",ge),jt=!0}function Mt(){ge={},(Yt==="xy"||Yt==="x")&&(F(et,lr.l/gt,lr.r/gt,ge,Ct.xaxes),Mr("x",ge)),(Yt==="xy"||Yt==="y")&&(F(Qe,(xt-lr.b)/xt,(xt-lr.t)/xt,ge,Ct.yaxes),Mr("y",ge))}function Dt(){Mt(),V(ae),Ft(),W(ae)}var St=[0,0,gt,xt],Ot=null,Vt=i.REDRAWDELAY,Qt=he.mainplot?ae._fullLayout._plots[he.mainplot]:he;function Kt(rr){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(Ut(),ae._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}it(),clearTimeout(Ot);var Nt=-rr.deltaY;if(isFinite(Nt)||(Nt=rr.wheelDelta/10),!isFinite(Nt)){L.log("Did not find wheel motion attributes: ",rr);return}var hr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),pr=Qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),br=(rr.clientX-pr.left)/pr.width,vr=(pr.bottom-rr.clientY)/pr.height,Kr;function Fr(Br,xn,jr){if(Br.fixedrange)return;var Dn=L.simpleMap(Br.range,Br.r2l),In=Dn[0]+(Dn[1]-Dn[0])*xn;function yr(cr){return Br.l2r(In+(cr-In)*jr)}Br.range=Dn.map(yr)}if(at){for(Te||(br=.5),Kr=0;Kr<et.length;Kr++)Fr(et[Kr],br,hr);Mr("x"),St[2]*=hr,St[0]+=St[2]*br*(1/hr-1)}if(Xe){for(_e||(vr=.5),Kr=0;Kr<Qe.length;Kr++)Fr(Qe[Kr],vr,hr);Mr("y"),St[3]*=hr,St[1]+=St[3]*(1-vr)*(1/hr-1)}kt(St),Ve(),ae.emit("plotly_relayouting",ge),Ot=setTimeout(function(){ae._fullLayout&&(St=[0,0,gt,xt],Ft())},Vt),rr.preventDefault()}_e.length*Te.length!==1&&q(bt,Kt);function or(rr,Nt){if(rr=rr*Le,Nt=Nt*ke,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,ze==="ew"||Fe==="ns"){var hr=ze?-rr:0,pr=Fe?-Nt:0;if(Je.isSubplotConstrained){if(ze&&Fe){var br=(rr/gt-Nt/xt)/2;rr=br*gt,Nt=-br*xt,hr=-rr,pr=-Nt}Fe?hr=-pr*gt/xt:pr=-hr*xt/gt}ze&&(N(et,rr),Mr("x")),Fe&&(N(Qe,Nt),Mr("y")),kt([hr,pr,gt,xt]),Ve(),ae.emit("plotly_relayouting",ge);return}function vr(yr,cr,kr){for(var Or=1-cr,sn,yn,bn=0;bn<yr.length;bn++){var mn=yr[bn];if(!mn.fixedrange){sn=mn,yn=mn._rl[Or]+(mn._rl[cr]-mn._rl[Or])/Q(kr/mn._length);var _n=mn.l2r(yn);_n!==!1&&_n!==void 0&&(mn.range[cr]=_n)}}return sn._length*(sn._rl[cr]-yn)/(sn._rl[cr]-sn._rl[Or])}var Kr=ze==="w"==(Fe==="n")?1:-1;if(ze&&Fe&&(Ct.isSubplotConstrained||Je.isSubplotConstrained)){var Fr=(rr/gt+Kr*Nt/xt)/2;rr=Fr*gt,Nt=Kr*Fr*xt}var Br,xn;if(ze==="w"?rr=vr(et,0,rr):ze==="e"?rr=vr(et,1,-rr):ze||(rr=0),Fe==="n"?Nt=vr(Qe,1,Nt):Fe==="s"?Nt=vr(Qe,0,-Nt):Fe||(Nt=0),Br=ze==="w"?rr:0,xn=Fe==="n"?Nt:0,Ct.isSubplotConstrained&&!Je.isSubplotConstrained||Je.isSubplotConstrained&&ze&&Fe&&Kr>0){var jr;if(Je.isSubplotConstrained||!ze&&Fe.length===1){for(jr=0;jr<et.length;jr++)et[jr].range=et[jr]._r.slice(),b(et[jr],1-Nt/xt);rr=Nt*gt/xt,Br=rr/2}if(Je.isSubplotConstrained||!Fe&&ze.length===1){for(jr=0;jr<Qe.length;jr++)Qe[jr].range=Qe[jr]._r.slice(),b(Qe[jr],1-rr/gt);Nt=rr*xt/gt,xn=Nt/2}}(!Je.isSubplotConstrained||!Fe)&&Mr("x"),(!Je.isSubplotConstrained||!ze)&&Mr("y");var Dn=gt-rr,In=xt-Nt;Je.isSubplotConstrained&&!(ze&&Fe)&&(ze?(xn=Br?0:rr*xt/gt,In=Dn*xt/gt):(Br=xn?0:Nt*gt/xt,Dn=In*gt/xt)),kt([Br,xn,Dn,In]),Ve(),ae.emit("plotly_relayouting",ge)}function Mr(rr,Nt){for(var hr=Je.isSubplotConstrained?{x:Qe,y:et}[rr]:Je[rr+"axes"],pr=Je.isSubplotConstrained?{x:et,y:Qe}[rr]:[],br=0;br<hr.length;br++){var vr=hr[br],Kr=vr._id,Fr=Je.xLinks[Kr]||Je.yLinks[Kr],Br=pr[0]||He[Fr]||ut[Fr];Br&&(Nt?(Nt[vr._name+".range[0]"]=Nt[Br._name+".range[0]"],Nt[vr._name+".range[1]"]=Nt[Br._name+".range[1]"]):vr.range=Br.range.slice())}}function Ve(){var rr=[],Nt;function hr(Kr){for(Nt=0;Nt<Kr.length;Nt++)Kr[Nt].fixedrange||rr.push(Kr[Nt]._id)}function pr(Kr,Fr){for(Nt=0;Nt<Kr.length;Nt++){var Br=Kr[Nt],xn=Br[Fr];!Br.fixedrange&&xn.tickmode==="sync"&&rr.push(xn._id)}}for(at&&(hr(et),hr(Ct.xaxes),hr(Je.xaxes),pr(he.overlays,"xaxis")),Xe&&(hr(Qe),hr(Ct.yaxes),hr(Je.yaxes),pr(he.overlays,"yaxis")),ge={},Nt=0;Nt<rr.length;Nt++){var br=rr[Nt],vr=A(ae,br);s.drawOne(ae,vr,{skipTitle:!0}),ge[vr._name+".range[0]"]=vr.range[0],ge[vr._name+".range[1]"]=vr.range[1]}s.redrawComponents(ae,rr)}function Ge(){if(!ae._transitioningWithDuration){var rr=ae._context.doubleClick,Nt=[];ze&&(Nt=Nt.concat(et)),Fe&&(Nt=Nt.concat(Qe)),Je.xaxes&&(Nt=Nt.concat(Je.xaxes)),Je.yaxes&&(Nt=Nt.concat(Je.yaxes));var hr={},pr,br,vr;if(rr==="reset+autosize"){for(rr="autosize",br=0;br<Nt.length;br++)if(pr=Nt[br],pr._rangeInitial&&(pr.range[0]!==pr._rangeInitial[0]||pr.range[1]!==pr._rangeInitial[1])||!pr._rangeInitial&&!pr.autorange){rr="reset";break}}if(rr==="autosize")for(br=0;br<Nt.length;br++)pr=Nt[br],pr.fixedrange||(hr[pr._name+".autorange"]=!0);else if(rr==="reset")for((ze||Ct.isSubplotConstrained)&&(Nt=Nt.concat(Ct.xaxes)),Fe&&!Ct.isSubplotConstrained&&(Nt=Nt.concat(Ct.yaxes)),Ct.isSubplotConstrained&&(ze?Fe||(Nt=Nt.concat(Qe)):Nt=Nt.concat(et)),br=0;br<Nt.length;br++)pr=Nt[br],pr.fixedrange||(pr._rangeInitial?(vr=pr._rangeInitial,hr[pr._name+".range[0]"]=vr[0],hr[pr._name+".range[1]"]=vr[1]):hr[pr._name+".autorange"]=!0);ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,hr)}}function Ft(){kt([0,0,gt,xt]),L.syncOrAsync([M.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,ge)}],ae)}function kt(rr){var Nt=ae._fullLayout,hr=Nt._plots,pr=Nt._subplots.cartesian,br,vr,Kr,Fr;if(we&&v.subplotsRegistry.splom.drag(ae),Pe){for(br=0;br<pr.length;br++)if(vr=hr[pr[br]],Kr=vr.xaxis,Fr=vr.yaxis,vr._scene){var Br=L.simpleMap(Kr.range,Kr.r2l),xn=L.simpleMap(Fr.range,Fr.r2l);vr._scene.update({range:[Br[0],xn[0],Br[1],xn[1]]})}}if((we||Pe)&&(o(ae),d(ae)),ue){var jr=rr[2]/Ue._length,Dn=rr[3]/De._length;for(br=0;br<pr.length;br++){vr=hr[pr[br]],Kr=vr.xaxis,Fr=vr.yaxis;var In=(at||Je.isSubplotConstrained)&&!Kr.fixedrange&&He[Kr._id],yr=(Xe||Je.isSubplotConstrained)&&!Fr.fixedrange&&ut[Fr._id],cr,kr,Or,sn;if(In?(cr=jr,Or=Te||Je.isSubplotConstrained?rr[0]:sr(Kr,cr)):Je.xaHash[Kr._id]?(cr=jr,Or=rr[0]*Kr._length/Ue._length):Je.yaHash[Kr._id]?(cr=Dn,Or=Fe==="ns"?-rr[1]*Kr._length/De._length:sr(Kr,cr,{n:"top",s:"bottom"}[Fe])):(cr=Zt(Kr,jr,Dn),Or=tr(Kr,cr)),yr?(kr=Dn,sn=_e||Je.isSubplotConstrained?rr[1]:sr(Fr,kr)):Je.yaHash[Fr._id]?(kr=Dn,sn=rr[1]*Fr._length/De._length):Je.xaHash[Fr._id]?(kr=jr,sn=ze==="ew"?-rr[0]*Fr._length/Ue._length:sr(Fr,kr,{e:"right",w:"left"}[ze])):(kr=Zt(Fr,jr,Dn),sn=tr(Fr,kr)),!(!cr&&!kr)){cr||(cr=1),kr||(kr=1);var yn=Kr._offset-Or/cr,bn=Fr._offset-sn/kr;vr.clipRect.call(l.setTranslate,Or,sn).call(l.setScale,cr,kr),vr.plot.call(l.setTranslate,yn,bn).call(l.setScale,1/cr,1/kr),(cr!==vr.xScaleFactor||kr!==vr.yScaleFactor)&&(l.setPointGroupScale(vr.zoomScalePts,cr,kr),l.setTextPointsScale(vr.zoomScaleTxt,cr,kr)),l.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=cr,vr.yScaleFactor=kr}}}}function Zt(rr,Nt,hr){return rr.fixedrange?0:at&&Ct.xaHash[rr._id]?Nt:Xe&&(Ct.isSubplotConstrained?Ct.xaHash:Ct.yaHash)[rr._id]?hr:0}function tr(rr,Nt){return Nt?(rr.range=rr._r.slice(),b(rr,Nt),sr(rr,Nt)):0}function sr(rr,Nt,hr){return rr._length*(1-Nt)*f[hr||rr.constraintoward||"middle"]}return bt}function B(ae,he,me,Me){var xe=L.ensureSingle(ae.draglayer,he,me,function(Ie){Ie.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return xe.call(c,Me),xe.node()}function I(ae,he,me,Me,xe,Ie,_e){var Te=B(ae,"rect",he,me);return p.select(Te).call(l.setRect,Me,xe,Ie,_e),Te}function z(ae,he){for(var me=0;me<ae.length;me++)if(!ae[me].fixedrange)return he;return""}function O(ae,he){var me=ae.range[he],Me=Math.abs(me-ae.range[1-he]),xe;return ae.type==="date"?me:ae.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(Me)/Math.LN10))+3,n("."+xe+"g")(Math.pow(10,me))):(xe=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(Me)/Math.LN10)+4,n("."+String(xe)+"g")(me))}function F(ae,he,me,Me,xe){for(var Ie=0;Ie<ae.length;Ie++){var _e=ae[Ie];if(!_e.fixedrange)if(_e.rangebreaks){var Te=_e._id.charAt(0)==="y",ye=Te?1-he:he,Ae=Te?1-me:me;Me[_e._name+".range[0]"]=_e.l2r(_e.p2l(ye*_e._length)),Me[_e._name+".range[1]"]=_e.l2r(_e.p2l(Ae*_e._length))}else{var Be=_e._rl[0],Ue=_e._rl[1]-Be;Me[_e._name+".range[0]"]=_e.l2r(Be+Ue*he),Me[_e._name+".range[1]"]=_e.l2r(Be+Ue*me)}}if(xe&&xe.length){var De=(he+(1-me))/2;F(xe,De,1-De,Me,[])}}function N(ae,he){for(var me=0;me<ae.length;me++){var Me=ae[me];if(!Me.fixedrange)if(Me.rangebreaks){var xe=0,Ie=Me._length,_e=Me.p2l(xe+he)-Me.p2l(xe),Te=Me.p2l(Ie+he)-Me.p2l(Ie),ye=(_e+Te)/2;Me.range=[Me.l2r(Me._rl[0]-ye),Me.l2r(Me._rl[1]-ye)]}else Me.range=[Me.l2r(Me._rl[0]-he/Me._m),Me.l2r(Me._rl[1]-he/Me._m)]}}function Q(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function $(ae,he,me){return ae?ae==="nsew"?me?"":he==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function j(ae,he,me,Me,xe){return ae.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",y(me,Me)).attr("d",xe+"Z")}function ee(ae,he,me){return ae.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",y(he,me)).attr("d","M0,0Z")}function oe(ae,he,me,Me,xe,Ie){ae.attr("d",Me+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),Y(ae,he,xe,Ie)}function Y(ae,he,me,Me){me||(ae.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function V(ae){p.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function W(ae){k&&ae.data&&ae._context.showTips&&(L.notifier(L._(ae,"Double-click to zoom back out"),"long"),k=!1)}function X(ae,he){return"M"+(ae.l-.5)+","+(he-x-.5)+"h-3v"+(2*x+1)+"h3ZM"+(ae.r+.5)+","+(he-x-.5)+"h3v"+(2*x+1)+"h-3Z"}function re(ae,he){return"M"+(he-x-.5)+","+(ae.t-.5)+"v-3h"+(2*x+1)+"v3ZM"+(he-x-.5)+","+(ae.b+.5)+"v3h"+(2*x+1)+"v-3Z"}function ie(ae){var he=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,x)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function K(ae,he,me,Me,xe){for(var Ie=!1,_e={},Te={},ye,Ae,Be,Ue,De=(xe||{}).xaHash,He=(xe||{}).yaHash,ut=0;ut<he.length;ut++){var et=he[ut];for(ye in me)if(et[ye]){for(Be in et)!(xe&&(De[Be]||He[Be]))&&!(Be.charAt(0)==="x"?me:Me)[Be]&&(_e[Be]=ye);for(Ae in Me)!(xe&&(De[Ae]||He[Ae]))&&et[Ae]&&(Ie=!0)}for(Ae in Me)if(et[Ae])for(Ue in et)!(xe&&(De[Ue]||He[Ue]))&&!(Ue.charAt(0)==="x"?me:Me)[Ue]&&(Te[Ue]=Ae)}Ie&&(L.extendFlat(_e,Te),Te={});var Qe={},qe=[];for(Be in _e){var ft=A(ae,Be);qe.push(ft),Qe[ft._id]=ft}var gt={},xt=[];for(Ue in Te){var Ct=A(ae,Ue);xt.push(Ct),gt[Ct._id]=Ct}return{xaHash:Qe,yaHash:gt,xaxes:qe,yaxes:xt,xLinks:_e,yLinks:Te,isSubplotConstrained:Ie}}function q(ae,he){if(!w)ae.onwheel!==void 0?ae.onwheel=he:ae.onmousewheel!==void 0?ae.onmousewheel=he:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",he,{passive:!1}));else{var me=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(me,ae._onwheel),ae._onwheel=he,ae.addEventListener(me,he,{passive:!1})}}function le(ae){var he=[];for(var me in ae)he.push(ae[me]);return he}G.exports={makeDragBox:_,makeDragger:B,makeRectDragger:I,makeZoombox:j,makeCorners:ee,updateZoombox:oe,xyCorners:ie,transitionZoombox:Y,removeZoombox:V,showDoubleClickNotifier:W,attachWheelEventHandler:q}},4305:function(G,U,e){var p=e(39898),L=e(30211),n=e(28569),C=e(6964),w=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;U.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){p.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var l=Object.keys(r._plots||{}).sort(function(s,c){if((r._plots[s].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var u=s.split("y"),m=c.split("y");return u[0]===m[0]?Number(u[1]||1)-Number(m[1]||1):Number(u[0]||1)-Number(m[0]||1)}return r._plots[s].mainplot?1:-1});l.forEach(function(s){var c=r._plots[s],u=c.xaxis,m=c.yaxis;if(!c.mainplot){var h=w(t,c,u._offset,m._offset,u._length,m._length,"ns","ew");h.onmousemove=function(o){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===s&&t._fullLayout._plots[s]&&L.hover(t,o,s)},L.hover(t,o,s),t._fullLayout._lasthover=h,t._fullLayout._hoversubplot=s},h.onmouseout=function(o){t._dragging||(t._fullLayout._hoversubplot=null,n.unhover(t,o))},t._context.showAxisDragHandles&&(w(t,c,u._offset-v,m._offset-v,v,v,"n","w"),w(t,c,u._offset+u._length,m._offset-v,v,v,"n","e"),w(t,c,u._offset-v,m._offset+m._length,v,v,"s","w"),w(t,c,u._offset+u._length,m._offset+m._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(s===u._mainSubplot){var T=u._mainLinePosition;u.side==="top"&&(T-=v),w(t,c,u._offset+u._length*.1,T,u._length*.8,v,"","ew"),w(t,c,u._offset,T,u._length*.1,v,"","w"),w(t,c,u._offset+u._length*.9,T,u._length*.1,v,"","e")}if(s===m._mainSubplot){var f=m._mainLinePosition;m.side!=="right"&&(f-=v),w(t,c,f,m._offset+m._length*.1,v,m._length*.8,"ns",""),w(t,c,f,m._offset+m._length*.9,v,m._length*.1,"s",""),w(t,c,f,m._offset,v,m._length*.1,"n","")}}});var a=r._hoverlayer.node();a.onmousemove=function(s){s.target=t._fullLayout._lasthover,L.hover(t,s,r._hoversubplot)},a.onclick=function(s){s.target=t._fullLayout._lasthover,L.click(t,s)},a.onmousedown=function(s){t._fullLayout._lasthover.onmousedown(s)},U.updateFx(t)}},U.updateFx=function(y){var t=y._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";C(t._draggers,r)}},76325:function(G,U,e){var p=e(73972),L=e(71828),n=e(41675);G.exports=function(w){return function(y,t){var r=y[w];if(Array.isArray(r))for(var l=p.subplotsRegistry.cartesian,a=l.idRegex,s=t._subplots,c=s.xaxis,u=s.yaxis,m=s.cartesian,h=t._has("cartesian")||t._has("gl2d"),T=0;T<r.length;T++){var f=r[T];if(L.isPlainObject(f)){var o=n.cleanId(f.xref,"x",!1),d=n.cleanId(f.yref,"y",!1),M=a.x.test(o),A=a.y.test(d);if(M||A){h||L.pushUnique(t._basePlotModules,l);var E=!1;M&&c.indexOf(o)===-1&&(c.push(o),E=!0),A&&u.indexOf(d)===-1&&(u.push(d),E=!0),E&&M&&A&&m.push(o+d)}}}}}},93612:function(G,U,e){var p=e(39898),L=e(73972),n=e(71828),C=e(74875),w=e(91424),v=e(27659).a0,y=e(41675),t=e(85555),r=e(77922),l=n.ensureSingle;function a(T,f,o){return n.ensureSingle(T,f,o,function(d){d.datum(o)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=t.idRegex,U.attrRegex=t.attrRegex,U.attributes=e(89502),U.layoutAttributes=e(13838),U.supplyLayoutDefaults=e(86763),U.transitionAxes=e(66847),U.finalizeSubplots=function(T,f){var o=f._subplots,d=o.xaxis,M=o.yaxis,A=o.cartesian,E=A.concat(o.gl2d||[]),g={},S={},b,i,P;for(b=0;b<E.length;b++){var x=E[b].split("y");g[x[0]]=1,S["y"+x[1]]=1}for(b=0;b<d.length;b++)i=d[b],g[i]||(P=(T[y.id2name(i)]||{}).anchor,t.idRegex.y.test(P)||(P="y"),A.push(i+P),E.push(i+P),S[P]||(S[P]=1,n.pushUnique(M,P)));for(b=0;b<M.length;b++)P=M[b],S[P]||(i=(T[y.id2name(P)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),A.push(i+P),E.push(i+P),g[i]||(g[i]=1,n.pushUnique(d,i)));if(!E.length){i="",P="";for(var k in T)if(t.attrRegex.test(k)){var _=k.charAt(0);_==="x"?(!i||+k.substr(5)<+i.substr(5))&&(i=k):(!P||+k.substr(5)<+P.substr(5))&&(P=k)}i=i?y.name2id(i):"x",P=P?y.name2id(P):"y",d.push(i),M.push(P),A.push(i+P)}},U.plot=function(T,f,o,d){var M=T._fullLayout,A=M._subplots.cartesian,E=T.calcdata,g;if(!Array.isArray(f))for(f=[],g=0;g<E.length;g++)f.push(g);for(g=0;g<A.length;g++){for(var S=A[g],b=M._plots[S],i=[],P,x=0;x<E.length;x++){var k=E[x],_=k[0].trace;_.xaxis+_.yaxis===S&&((f.indexOf(_.index)!==-1||_.carpet)&&(P&&P[0].trace.xaxis+P[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&i.indexOf(P)===-1&&i.push(P),i.push(k)),P=k)}s(T,b,i,o,d)}};function s(T,f,o,d,M){for(var A=t.traceLayerClasses,E=T._fullLayout,g=E._modules,S,b,i,P=[],x=[],k=0;k<g.length;k++){S=g[k];var _=S.name,B=L.modules[_].categories;if(B.svg){var I=S.layerName||_+"layer",z=S.plot;b=v(o,z),i=b[0],o=b[1],i.length&&P.push({i:A.indexOf(I),className:I,plotMethod:z,cdModule:i}),B.zoomScale&&x.push("."+I)}}P.sort(function(N,Q){return N.i-Q.i});var O=f.plot.selectAll("g.mlayer").data(P,function(N){return N.className});if(O.enter().append("g").attr("class",function(N){return N.className}).classed("mlayer",!0).classed("rangeplot",f.isRangePlot),O.exit().remove(),O.order(),O.each(function(N){var Q=p.select(this),$=N.className;N.plotMethod(T,f,N.cdModule,Q,d,M),t.clipOnAxisFalseQuery.indexOf("."+$)===-1&&w.setClipUrl(Q,f.layerClipId,T)}),E._has("scattergl")&&(S=L.getModule("scattergl"),i=v(o,S)[0],S.plot(T,f,i)),!T._context.staticPlot&&(f._hasClipOnAxisFalse&&(f.clipOnAxisFalseTraces=f.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),x.length)){var F=f.plot.selectAll(x.join(",")).selectAll(".trace");f.zoomScalePts=F.selectAll("path.point"),f.zoomScaleTxt=F.selectAll(".textpoint")}}U.clean=function(T,f,o,d){var M=d._plots||{},A=f._plots||{},E=d._subplots||{},g,S,b;if(d._hasOnlyLargeSploms&&!f._hasOnlyLargeSploms)for(b in M)g=M[b],g.plotgroup&&g.plotgroup.remove();var i=d._has&&d._has("gl"),P=f._has&&f._has("gl");if(i&&!P)for(b in M)g=M[b],g._scene&&g._scene.destroy();if(E.xaxis&&E.yaxis){var x=y.listIds({_fullLayout:d});for(S=0;S<x.length;S++){var k=x[S];f[y.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var _=d._has&&d._has("cartesian"),B=f._has&&f._has("cartesian");if(_&&!B)m(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(S=0;S<E.cartesian.length;S++){var I=E.cartesian[S];if(!A[I]){var z="."+I+",."+I+"-x,."+I+"-y";d._cartesianlayer.selectAll(z).remove(),h(I,d)}}},U.drawFramework=function(T){var f=T._fullLayout,o=c(T),d=f._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),d.order(),d.exit().call(m,f),d.each(function(M){var A=M[0],E=f._plots[A];E.plotgroup=p.select(this),u(T,E),E.draglayer=l(f._draggers,"g",A)})},U.rangePlot=function(T,f,o){u(T,f),s(T,f,o),C.style(T)};function c(T){var f=T._fullLayout,o=f._subplots.cartesian,d=o.length,M,A,E,g,S,b,i=[],P=[];for(M=0;M<d;M++){E=o[M],g=f._plots[E],S=g.xaxis,b=g.yaxis;var x=S._mainAxis,k=b._mainAxis,_=x._id+k._id,B=f._plots[_];g.overlays=[],_!==E&&B?(g.mainplot=_,g.mainplotinfo=B,P.push(E)):(g.mainplot=void 0,g.mainplotinfo=void 0,i.push(E))}for(M=0;M<P.length;M++)E=P[M],g=f._plots[E],g.mainplotinfo.overlays.push(g);var I=i.concat(P),z=new Array(d);for(M=0;M<d;M++){E=I[M],g=f._plots[E],S=g.xaxis,b=g.yaxis;var O=[E,S.layer,b.layer,S.overlaying||"",b.overlaying||""];for(A=0;A<g.overlays.length;A++)O.push(g.overlays[A].id);z[M]=O}return z}function u(T,f){var o=f.plotgroup,d=f.id,M=t.layerValue2layerClass[f.xaxis.layer],A=t.layerValue2layerClass[f.yaxis.layer],E=T._fullLayout._hasOnlyLargeSploms;if(f.mainplot){var S=f.mainplotinfo,b=S.plotgroup,i=d+"-x",P=d+"-y";f.minorGridlayer=S.minorGridlayer,f.gridlayer=S.gridlayer,f.zerolinelayer=S.zerolinelayer,l(S.overlinesBelow,"path",i),l(S.overlinesBelow,"path",P),l(S.overaxesBelow,"g",i),l(S.overaxesBelow,"g",P),f.plot=l(S.overplot,"g",d),l(S.overlinesAbove,"path",i),l(S.overlinesAbove,"path",P),l(S.overaxesAbove,"g",i),l(S.overaxesAbove,"g",P),f.xlines=b.select(".overlines-"+M).select("."+i),f.ylines=b.select(".overlines-"+A).select("."+P),f.xaxislayer=b.select(".overaxes-"+M).select("."+i),f.yaxislayer=b.select(".overaxes-"+A).select("."+P)}else if(E)f.xlines=l(o,"path","xlines-above"),f.ylines=l(o,"path","ylines-above"),f.xaxislayer=l(o,"g","xaxislayer-above"),f.yaxislayer=l(o,"g","yaxislayer-above");else{var g=l(o,"g","layer-subplot");f.shapelayer=l(g,"g","shapelayer"),f.imagelayer=l(g,"g","imagelayer"),f.minorGridlayer=l(o,"g","minor-gridlayer"),f.gridlayer=l(o,"g","gridlayer"),f.zerolinelayer=l(o,"g","zerolinelayer"),l(o,"path","xlines-below"),l(o,"path","ylines-below"),f.overlinesBelow=l(o,"g","overlines-below"),l(o,"g","xaxislayer-below"),l(o,"g","yaxislayer-below"),f.overaxesBelow=l(o,"g","overaxes-below"),f.plot=l(o,"g","plot"),f.overplot=l(o,"g","overplot"),f.xlines=l(o,"path","xlines-above"),f.ylines=l(o,"path","ylines-above"),f.overlinesAbove=l(o,"g","overlines-above"),l(o,"g","xaxislayer-above"),l(o,"g","yaxislayer-above"),f.overaxesAbove=l(o,"g","overaxes-above"),f.xlines=o.select(".xlines-"+M),f.ylines=o.select(".ylines-"+A),f.xaxislayer=o.select(".xaxislayer-"+M),f.yaxislayer=o.select(".yaxislayer-"+A)}E||(a(f.minorGridlayer,"g",f.xaxis._id),a(f.minorGridlayer,"g",f.yaxis._id),f.minorGridlayer.selectAll("g").map(function(x){return x[0]}).sort(y.idSort),a(f.gridlayer,"g",f.xaxis._id),a(f.gridlayer,"g",f.yaxis._id),f.gridlayer.selectAll("g").map(function(x){return x[0]}).sort(y.idSort)),f.xlines.style("fill","none").classed("crisp",!0),f.ylines.style("fill","none").classed("crisp",!0)}function m(T,f){if(T){var o={};T.each(function(S){var b=S[0],i=p.select(this);i.remove(),h(b,f),o[b]=!0});for(var d in f._plots)for(var M=f._plots[d],A=M.overlays||[],E=0;E<A.length;E++){var g=A[E];o[g.id]&&g.plot.selectAll(".trace").remove()}}}function h(T,f){f._draggers.selectAll("g."+T).remove(),f._defs.select("#clip"+f._uid+T+"plot").remove()}U.toSVG=function(T){var f=T._fullLayout._glimages,o=p.select(T).selectAll(".svg-container"),d=o.filter(function(A,E){return E===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function M(){var A=this,E=A.toDataURL("image/png"),g=f.append("svg:image");g.attr({xmlns:r.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}d.each(M)},U.updateFx=e(4305).updateFx},13838:function(G,U,e){var p=e(41940),L=e(22399),n=e(79952).P,C=e(1426).extendFlat,w=e(44467).templatedArray,v=e(12663).descriptionWithDates,y=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,l=t.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=C({},a,{values:a.values.slice().concat(["sync"])});function c(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function f(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=5),b}function o(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},M={valType:"color",dflt:L.lightLine,editType:"ticks"};function A(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var E=C({},n,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:w("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:y},editType:"calc"}),tickmode:s,nticks:c(),tick0:u,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:f(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:w("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:M,gridwidth:A(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:c("minor"),tick0:u,dtick:m,tickvals:h,ticks:T,ticklen:f("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:M,gridwidth:A("minor"),griddash:E,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},86763:function(G,U,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover,C=e(98212),w=e(44467),v=e(10820),y=e(13838),t=e(951),r=e(71453),l=e(99082),a=e(52830),s=e(41675),c=s.id2name,u=s.name2id,m=e(85555).AX_ID_PATTERN,h=e(73972),T=h.traceIs,f=h.getComponentMethod;function o(d,M,A){Array.isArray(d[M])?d[M].push(A):d[M]=[A]}G.exports=function(M,A,E){var g=A.autotypenumbers,S={},b={},i={},P={},x={},k={},_={},B={},I={},z={},O,F;for(O=0;O<E.length;O++){var N=E[O];if(!(!T(N,"cartesian")&&!T(N,"gl2d"))){var Q;if(N.xaxis)Q=c(N.xaxis),o(S,Q,N);else if(N.xaxes)for(F=0;F<N.xaxes.length;F++)o(S,c(N.xaxes[F]),N);var $;if(N.yaxis)$=c(N.yaxis),o(S,$,N);else if(N.yaxes)for(F=0;F<N.yaxes.length;F++)o(S,c(N.yaxes[F]),N);if(N.type==="funnel"?N.orientation==="h"?(Q&&(b[Q]=!0),$&&(_[$]=!0)):$&&(i[$]=!0):N.type==="image"?($&&(B[$]=!0),Q&&(B[Q]=!0)):($&&(x[$]=!0,k[$]=!0),(!T(N,"carpet")||N.type==="carpet"&&!N._cheater)&&Q&&(P[Q]=!0)),N.type==="carpet"&&N._cheater&&Q&&(b[Q]=!0),T(N,"2dMap")&&(I[Q]=!0,I[$]=!0),T(N,"oriented")){var j=N.orientation==="h"?$:Q;z[j]=!0}}}var ee=A._subplots,oe=ee.xaxis,Y=ee.yaxis,V=p.simpleMap(oe,c),W=p.simpleMap(Y,c),X=V.concat(W),re=L.background;oe.length&&Y.length&&(re=p.coerce(M,A,v,"plot_bgcolor"));var ie=L.combine(re,A.paper_bgcolor),K,q,le,ae,he;function me(){var Le=S[K]||[];he._traceIndices=Le.map(function(ke){return ke._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=K,he._id=q}function Me(Le,ke){return p.coerce(ae,he,y,Le,ke)}function xe(Le,ke){return p.coerce2(ae,he,y,Le,ke)}function Ie(Le){return Le==="x"?Y:oe}function _e(Le,ke){for(var it=Le==="x"?V:W,lt=[],bt=0;bt<it.length;bt++){var Rt=it[bt];Rt!==ke&&!(M[Rt]||{}).overlaying&&lt.push(u(Rt))}return lt}var Te={x:Ie("x"),y:Ie("y")},ye=Te.x.concat(Te.y),Ae={},Be=[];function Ue(){var Le=ae.matches;m.test(Le)&&ye.indexOf(Le)===-1&&(Ae[Le]=ae.type,Be=Object.keys(Ae))}var De=C(M,A),He=n(De);for(O=0;O<X.length;O++){K=X[O],q=u(K),le=K.charAt(0),p.isPlainObject(M[K])||(M[K]={}),ae=M[K],he=w.newContainer(A,K,le+"axis"),me();var ut=le==="x"&&!P[K]&&b[K]||le==="y"&&!x[K]&&i[K],et=le==="y"&&(!k[K]&&_[K]||B[K]),Qe={hasMinor:!0,letter:le,font:A.font,outerTicks:I[K],showGrid:!z[K],data:S[K]||[],bgColor:ie,calendar:A.calendar,automargin:!0,visibleDflt:ut,reverseDflt:et,autotypenumbersDflt:g,splomStash:((A._splomAxes||{})[le]||{})[q]};Me("uirevision",A.uirevision),t(ae,he,Me,Qe),r(ae,he,Me,Qe,A);var qe=He&&le===De.charAt(0),ft=xe("spikecolor",He?he.color:void 0),gt=xe("spikethickness",He?1.5:void 0),xt=xe("spikedash",He?"dot":void 0),Ct=xe("spikemode",He?"across":void 0),Je=xe("spikesnap"),ze=Me("showspikes",!!qe||!!ft||!!gt||!!xt||!!Ct||!!Je);ze||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Fe=c(ae.overlaying),$e=[0,1];if(A[Fe]!==void 0){var at=c(A[Fe].anchor);A[at]!==void 0&&($e=A[at].domain)}a(ae,he,Me,{letter:le,counterAxes:Te[le],overlayableAxes:_e(le,K),grid:A.grid,overlayingDomain:$e}),Me("title.standoff"),Ue(),he._input=ae}for(O=0;O<Be.length;){q=Be[O++],K=c(q),le=K.charAt(0),p.isPlainObject(M[K])||(M[K]={}),ae=M[K],he=w.newContainer(A,K,le+"axis"),me();var Xe={letter:le,font:A.font,outerTicks:I[K],showGrid:!z[K],data:[],bgColor:ie,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:g,splomStash:((A._splomAxes||{})[le]||{})[q]};Me("uirevision",A.uirevision),he.type=Ae[q]||"linear",r(ae,he,Me,Xe,A),a(ae,he,Me,{letter:le,counterAxes:Te[le],overlayableAxes:_e(le,K),grid:A.grid}),Me("fixedrange"),Ue(),he._input=ae}var Pe=f("rangeslider","handleDefaults"),we=f("rangeselector","handleDefaults");for(O=0;O<V.length;O++)K=V[O],ae=M[K],he=A[K],Pe(M,A,K),he.type==="date"&&we(ae,he,A,W,he.calendar),Me("fixedrange");for(O=0;O<W.length;O++){K=W[O],ae=M[K],he=A[K];var ue=A[c(he.anchor)],ge=f("rangeslider","isVisible")(ue);Me("fixedrange",ge)}l.handleDefaults(M,A,{axIds:ye.concat(Be).sort(s.idSort),axHasImage:B})}},92128:function(G,U,e){var p=e(84267).mix,L=e(22399),n=e(71828);G.exports=function(w,v,y,t){t=t||{};var r=t.dfltColor;function l(i,P){return n.coerce2(w,v,t.attributes,i,P)}var a=l("linecolor",r),s=l("linewidth"),c=y("showline",t.showLine||!!a||!!s);c||(delete v.linecolor,delete v.linewidth);var u=p(r,t.bgColor,t.blend||L.lightFraction).toRgbString(),m=l("gridcolor",u),h=l("gridwidth"),T=l("griddash"),f=y("showgrid",t.showGrid||!!m||!!h||!!T);if(f||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var o=p(v.gridcolor,t.bgColor,67).toRgbString(),d=l("minor.gridcolor",o),M=l("minor.gridwidth",v.gridwidth||1),A=l("minor.griddash",v.griddash||"solid"),E=y("minor.showgrid",!!d||!!M||!!A);E||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var g=l("zerolinecolor",r),S=l("zerolinewidth"),b=y("zeroline",t.showGrid||!!g||!!S);b||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(G,U,e){var p=e(92770),L=e(71828);G.exports=function(C,w,v,y){var t=y.counterAxes||[],r=y.overlayableAxes||[],l=y.letter,a=y.grid,s=y.overlayingDomain,c,u,m,h,T,f;a&&(u=a._domains[l][a._axisMap[w._id]],c=a._anchors[w._id],u&&(m=a[l+"side"].split(" ")[0],h=a.domain[l][m==="right"||m==="top"?1:0])),u=u||[0,1],c=c||(p(C.position)?"free":t[0]||"free"),m=m||(l==="x"?"bottom":"left"),h=h||0,T=0,f=!1;var o=L.coerce(C,w,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:c}},"anchor"),d=L.coerce(C,w,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(o==="free"){if(l==="y"){var M=v("autoshift");M&&(h=d==="left"?s[0]:s[1],f=w.automargin?w.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",f);var A=!1;if(r.length&&(A=L.coerce(C,w,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!A){var E=v("domain",u);E[0]>E[1]-.000244140625&&(w.domain=u),L.noneOrAll(C.domain,w.domain,u),w.tickmode==="sync"&&(w.tickmode="auto")}return v("layer"),w}},89426:function(G,U,e){var p=e(59652);G.exports=function(n,C,w,v,y){y||(y={});var t=y.tickSuffixDflt,r=p(n),l=w("tickprefix");l&&w("showtickprefix",r);var a=w("ticksuffix",t);a&&w("showticksuffix",r)}},42449:function(G,U,e){var p=e(18783).FROM_BL;G.exports=function(n,C,w){w===void 0&&(w=p[n.constraintoward||"center"]);var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],y=v[0]+(v[1]-v[0])*w;n.range=n._input.range=[n.l2r(y+(v[0]-y)*C),n.l2r(y+(v[1]-y)*C)],n.setScale()}},21994:function(G,U,e){var p=e(39898),L=e(84096).g0,n=e(71828),C=n.numberFormat,w=e(92770),v=n.cleanNumber,y=n.ms2DateTime,t=n.dateTime2ms,r=n.ensureNumber,l=n.isArrayOrTypedArray,a=e(50606),s=a.FP_SAFE,c=a.BADNUM,u=a.LOG_CLIP,m=a.ONEWEEK,h=a.ONEDAY,T=a.ONEHOUR,f=a.ONEMIN,o=a.ONESEC,d=e(41675),M=e(85555),A=M.HOUR_PATTERN,E=M.WEEKDAY_PATTERN;function g(b){return Math.pow(10,b)}function S(b){return b!=null}G.exports=function(i,P){P=P||{};var x=i._id||"x",k=x.charAt(0);function _(X,re){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&re&&i.range&&i.range.length===2){var ie=i.range[0],K=i.range[1];return .5*(ie+K-2*u*Math.abs(ie-K))}else return c}function B(X,re,ie,K){if((K||{}).msUTC&&w(X))return+X;var q=t(X,ie||i.calendar);if(q===c)if(w(X)){X=+X;var le=Math.floor(n.mod(X+.05,1)*10),ae=Math.round(X-le/10);q=t(new Date(ae))+le/10}else return c;return q}function I(X,re,ie){return y(X,re,ie||i.calendar)}function z(X){return i._categories[Math.round(X)]}function O(X){if(S(X)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[X]!==void 0)return i._categoriesMap[X];i._categories.push(typeof X=="number"?String(X):X);var re=i._categories.length-1;return i._categoriesMap[X]=re,re}return c}function F(X,re){for(var ie=new Array(re),K=0;K<re;K++){var q=(X[0]||[])[K],le=(X[1]||[])[K];ie[K]=N([q,le])}return ie}function N(X){if(i._categoriesMap)return i._categoriesMap[X]}function Q(X){var re=N(X);if(re!==void 0)return re;if(w(X))return+X}function $(X){return w(X)?+X:N(X)}function j(X,re,ie){return p.round(ie+re*X,2)}function ee(X,re,ie){return(X-ie)/re}var oe=function(re){return w(re)?j(re,i._m,i._b):c},Y=function(X){return ee(X,i._m,i._b)};if(i.rangebreaks){var V=k==="y";oe=function(X){if(!w(X))return c;var re=i._rangebreaks.length;if(!re)return j(X,i._m,i._b);var ie=V;i.range[0]>i.range[1]&&(ie=!ie);for(var K=ie?-1:1,q=K*X,le=0,ae=0;ae<re;ae++){var he=K*i._rangebreaks[ae].min,me=K*i._rangebreaks[ae].max;if(q<he)break;if(q>me)le=ae+1;else{le=q<(he+me)/2?ae:ae+1;break}}var Me=i._B[le]||0;return isFinite(Me)?j(X,i._m2,Me):0},Y=function(X){var re=i._rangebreaks.length;if(!re)return ee(X,i._m,i._b);for(var ie=0,K=0;K<re&&!(X<i._rangebreaks[K].pmin);K++)X>i._rangebreaks[K].pmax&&(ie=K+1);return ee(X,i._m2,i._B[ie])}}i.c2l=i.type==="log"?_:r,i.l2c=i.type==="log"?g:r,i.l2p=oe,i.p2l=Y,i.c2p=i.type==="log"?function(X,re){return oe(_(X,re))}:oe,i.p2c=i.type==="log"?function(X){return g(Y(X))}:Y,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(X){return i.l2p(v(X))},i.p2d=i.p2r=Y,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(X,re){return _(v(X),re)},i.r2d=i.r2c=function(X){return g(v(X))},i.d2c=i.r2l=v,i.c2d=i.l2r=r,i.c2r=_,i.l2d=g,i.d2p=function(X,re){return i.l2p(i.d2r(X,re))},i.p2d=function(X){return g(Y(X))},i.r2p=function(X){return i.l2p(v(X))},i.p2r=Y,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=n.identity,i.d2c=i.r2c=i.d2l=i.r2l=B,i.c2d=i.c2r=i.l2d=i.l2r=I,i.d2p=i.r2p=function(X,re,ie){return i.l2p(B(X,0,ie))},i.p2d=i.p2r=function(X,re,ie){return I(Y(X),re,ie)},i.cleanPos=function(X){return n.cleanDate(X,c,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=O,i.r2d=i.c2d=i.l2d=z,i.d2r=i.d2l_noadd=Q,i.r2c=function(X){var re=$(X);return re!==void 0?re:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=$,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return z(Y(X))},i.r2p=i.d2p,i.p2r=Y,i.cleanPos=function(X){return typeof X=="string"&&X!==""?X:r(X)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=z,i.d2r=i.d2l_noadd=Q,i.r2c=function(X){var re=Q(X);return re!==void 0?re:i.fraction2r(.5)},i.r2c_just_indices=N,i.l2r=i.c2r=r,i.r2l=Q,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return z(Y(X))},i.r2p=i.d2p,i.p2r=Y,i.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:r(X)},i.setupMultiCategory=function(X){var re=i._traceIndices,ie,K,q=i._matchGroup;if(q&&i._categories.length===0){for(var le in q)if(le!==x){var ae=P[d.id2name(le)];re=re.concat(ae._traceIndices)}}var he=[[0,{}],[0,{}]],me=[];for(ie=0;ie<re.length;ie++){var Me=X[re[ie]];if(k in Me){var xe=Me[k],Ie=Me._length||n.minRowLength(xe);if(l(xe[0])&&l(xe[1]))for(K=0;K<Ie;K++){var _e=xe[0][K],Te=xe[1][K];S(_e)&&S(Te)&&(me.push([_e,Te]),_e in he[0][1]||(he[0][1][_e]=he[0][0]++),Te in he[1][1]||(he[1][1][Te]=he[1][0]++))}}}for(me.sort(function(ye,Ae){var Be=he[0][1],Ue=Be[ye[0]]-Be[Ae[0]];if(Ue)return Ue;var De=he[1][1];return De[ye[1]]-De[Ae[1]]}),ie=0;ie<me.length;ie++)O(me[ie])}),i.fraction2r=function(X){var re=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return i.l2r(re+X*(ie-re))},i.r2fraction=function(X){var re=i.r2l(i.range[0]),ie=i.r2l(i.range[1]);return(i.r2l(X)-re)/(ie-re)},i.cleanRange=function(X,re){re||(re={}),X||(X="range");var ie=n.nestedProperty(i,X).get(),K,q;if(i.type==="date"?q=n.dfltRange(i.calendar):k==="y"?q=M.DFLTRANGEY:i._name==="realaxis"?q=[0,1]:q=re.dfltRange||M.DFLTRANGEX,q=q.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(q[0]=0),!ie||ie.length!==2){n.nestedProperty(i,X).set(q);return}for(i.type==="date"&&!i.autorange&&(ie[0]=n.cleanDate(ie[0],c,i.calendar),ie[1]=n.cleanDate(ie[1],c,i.calendar)),K=0;K<2;K++)if(i.type==="date"){if(!n.isDateTime(ie[K],i.calendar)){i[X]=q;break}if(i.r2l(ie[0])===i.r2l(ie[1])){var le=n.constrain(i.r2l(ie[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);ie[0]=i.l2r(le-1e3),ie[1]=i.l2r(le+1e3);break}}else{if(!w(ie[K]))if(w(ie[1-K]))ie[K]=ie[1-K]*(K?10:.1);else{i[X]=q;break}if(ie[K]<-s?ie[K]=-s:ie[K]>s&&(ie[K]=s),ie[0]===ie[1]){var ae=Math.max(1,Math.abs(ie[0]*1e-6));ie[0]-=ae,ie[1]+=ae}}},i.setScale=function(X){var re=P._size;if(i.overlaying){var ie=d.getFromId({_fullLayout:P},i.overlaying);i.domain=ie.domain}var K=X&&i._r?"_r":"range",q=i.calendar;i.cleanRange(K);var le=i.r2l(i[K][0],q),ae=i.r2l(i[K][1],q),he=k==="y";if(he?(i._offset=re.t+(1-i.domain[1])*re.h,i._length=re.h*(i.domain[1]-i.domain[0]),i._m=i._length/(le-ae),i._b=-i._m*ae):(i._offset=re.l+i.domain[0]*re.w,i._length=re.w*(i.domain[1]-i.domain[0]),i._m=i._length/(ae-le),i._b=-i._m*le),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var me,Me;if(i._rangebreaks=i.locateBreaks(Math.min(le,ae),Math.max(le,ae)),i._rangebreaks.length){for(me=0;me<i._rangebreaks.length;me++)Me=i._rangebreaks[me],i._lBreaks+=Math.abs(Me.max-Me.min);var xe=he;le>ae&&(xe=!xe),xe&&i._rangebreaks.reverse();var Ie=xe?-1:1;for(i._m2=Ie*i._length/(Math.abs(ae-le)-i._lBreaks),i._B.push(-i._m2*(he?ae:le)),me=0;me<i._rangebreaks.length;me++)Me=i._rangebreaks[me],i._B.push(i._B[i._B.length-1]-Ie*i._m2*(Me.max-Me.min));for(me=0;me<i._rangebreaks.length;me++)Me=i._rangebreaks[me],Me.pmin=oe(Me.min),Me.pmax=oe(Me.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(X){var re=i.rangebreaks||[],ie,K,q,le,ae;re._cachedPatterns||(re._cachedPatterns=re.map(function(Be){return Be.enabled&&Be.bounds?n.simpleMap(Be.bounds,Be.pattern?v:i.d2c):null})),re._cachedValues||(re._cachedValues=re.map(function(Be){return Be.enabled&&Be.values?n.simpleMap(Be.values,i.d2c).sort(n.sorterAsc):null}));for(var he=0;he<re.length;he++){var me=re[he];if(me.enabled){if(me.bounds){var Me=me.pattern;switch(ie=re._cachedPatterns[he],K=ie[0],q=ie[1],Me){case E:ae=new Date(X),le=ae.getUTCDay(),K>q&&(q+=7,le<K&&(le+=7));break;case A:ae=new Date(X);var xe=ae.getUTCHours(),Ie=ae.getUTCMinutes(),_e=ae.getUTCSeconds(),Te=ae.getUTCMilliseconds();le=xe+(Ie/60+_e/3600+Te/36e5),K>q&&(q+=24,le<K&&(le+=24));break;case"":le=X;break}if(le>=K&&le<q)return c}else for(var ye=re._cachedValues[he],Ae=0;Ae<ye.length;Ae++)if(K=ye[Ae],q=K+me.dvalue,X>=K&&X<q)return c}}return X},i.locateBreaks=function(X,re){var ie,K,q,le,ae=[];if(!i.rangebreaks)return ae;var he=i.rangebreaks.slice().sort(function(De,He){return De.pattern===E&&He.pattern===A?-1:He.pattern===E&&De.pattern===A?1:0}),me=function(De,He){if(De=n.constrain(De,X,re),He=n.constrain(He,X,re),De!==He){for(var ut=!0,et=0;et<ae.length;et++){var Qe=ae[et];De<Qe.max&&He>=Qe.min&&(De<Qe.min&&(Qe.min=De),He>Qe.max&&(Qe.max=He),ut=!1)}ut&&ae.push({min:De,max:He})}};for(ie=0;ie<he.length;ie++){var Me=he[ie];if(Me.enabled)if(Me.bounds){var xe=X,Ie=re;Me.pattern&&(xe=Math.floor(xe)),K=n.simpleMap(Me.bounds,Me.pattern?v:i.r2l),q=K[0],le=K[1];var _e=new Date(xe),Te,ye;switch(Me.pattern){case E:ye=m,Te=((le<q?7:0)+(le-q))*h,xe+=q*h-(_e.getUTCDay()*h+_e.getUTCHours()*T+_e.getUTCMinutes()*f+_e.getUTCSeconds()*o+_e.getUTCMilliseconds());break;case A:ye=h,Te=((le<q?24:0)+(le-q))*T,xe+=q*T-(_e.getUTCHours()*T+_e.getUTCMinutes()*f+_e.getUTCSeconds()*o+_e.getUTCMilliseconds());break;default:xe=Math.min(K[0],K[1]),Ie=Math.max(K[0],K[1]),ye=Ie-xe,Te=ye}for(var Ae=xe;Ae<Ie;Ae+=ye)me(Ae,Ae+Te)}else for(var Be=n.simpleMap(Me.values,i.d2c),Ue=0;Ue<Be.length;Ue++)q=Be[Ue],le=q+Me.dvalue,me(q,le)}return ae.sort(function(De,He){return De.min-He.min}),ae},i.makeCalcdata=function(X,re,ie){var K,q,le,ae,he=i.type,me=he==="date"&&X[re+"calendar"];if(re in X){if(K=X[re],ae=X._length||n.minRowLength(K),n.isTypedArray(K)&&(he==="linear"||he==="log")){if(ae===K.length)return K;if(K.subarray)return K.subarray(0,ae)}if(he==="multicategory")return F(K,ae);for(q=new Array(ae),le=0;le<ae;le++)q[le]=i.d2c(K[le],0,me,ie)}else{var Me=re+"0"in X?i.d2c(X[re+"0"],0,me):0,xe=X["d"+re]?Number(X["d"+re]):1;for(K=X[{x:"y",y:"x"}[re]],ae=X._length||K.length,q=new Array(ae),le=0;le<ae;le++)q[le]=Me+le*xe}if(i.rangebreaks)for(le=0;le<ae;le++)q[le]=i.maskBreaks(q[le]);return q},i.isValidRange=function(X){return Array.isArray(X)&&X.length===2&&w(i.r2l(X[0]))&&w(i.r2l(X[1]))},i.isPtWithinRange=function(X,re){var ie=i.c2l(X[k],null,re),K=i.r2l(i.range[0]),q=i.r2l(i.range[1]);return K<q?K<=ie&&ie<=q:q<=ie&&ie<=K},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var X=i._matchGroup;if(X){var re=null,ie=null;for(var K in X){var q=P[d.id2name(K)];if(q._categories){re=q._categories,ie=q._categoriesMap;break}}re&&ie?(i._categories=re,i._categoriesMap=ie):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var le=0;le<i._initialCategories.length;le++)O(i._initialCategories[le])},i.sortByInitialCategories=function(){var X=[];if(i._emptyCategories(),i._initialCategories)for(var re=0;re<i._initialCategories.length;re++)O(i._initialCategories[re]);X=X.concat(i._traceIndices);var ie=i._matchGroup;for(var K in ie)if(x!==K){var q=P[d.id2name(K)];q._categories=i._categories,q._categoriesMap=i._categoriesMap,X=X.concat(q._traceIndices)}return X};var W=P._d3locale;i.type==="date"&&(i._dateFormat=W?W.timeFormat:L,i._extraFormat=P._extraFormat),i._separators=P.separators,i._numFormat=W?W.numberFormat:C,delete i._minDtick,delete i._forceTick0}},59652:function(G){G.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),n=function(C){return e[C]===e[L[0]]};if(L.every(n)||L.length===1)return e[L[0]]}},96115:function(G,U,e){var p=e(71828),L=e(7901).contrast,n=e(13838),C=e(59652),w=e(85501);G.exports=function(t,r,l,a,s){s||(s={});var c=l("labelalias");p.isPlainObject(c)||delete r.labelalias;var u=C(t),m=l("showticklabels");if(m){var h=s.font||{},T=r.color,f=r.ticklabelposition||"",o=f.indexOf("inside")!==-1?L(s.bgColor):T&&T!==n.color.dflt?T:h.color;if(p.coerceFont(l,"tickfont",{family:h.family,size:h.size,color:o}),!s.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&l("ticklabelstep"),s.noAng||l("tickangle"),a!=="category"){var d=l("tickformat");w(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!s.noExp&&!d&&a!=="date"&&(l("showexponent",u),l("exponentformat"),l("minexponent"),l("separatethousands"))}}};function v(y,t){function r(a,s){return p.coerce(y,t,n.tickformatstops,a,s)}var l=r("enabled");l&&(r("dtickrange"),r("value"))}},38701:function(G,U,e){var p=e(71828),L=e(13838);G.exports=function(C,w,v,y){var t=y.isMinor,r=t?C.minor||{}:C,l=t?w.minor:w,a=t?L.minor:L,s=t?"minor.":"",c=p.coerce2(r,l,a,"ticklen",t?(w.ticklen||5)*.6:void 0),u=p.coerce2(r,l,a,"tickwidth",t?w.tickwidth||1:void 0),m=p.coerce2(r,l,a,"tickcolor",(t?w.tickcolor:void 0)||l.color),h=v(s+"ticks",!t&&y.outerTicks||c||u||m?"outside":"");h||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},26218:function(G,U,e){var p=e(66287),L=e(71828).isArrayOrTypedArray;G.exports=function(C,w,v,y,t){t||(t={});var r=t.isMinor,l=r?C.minor||{}:C,a=r?w.minor:w,s=r?"minor.":"";function c(M){var A=l[M];return A!==void 0?A:(a._template||{})[M]}var u=c("tick0"),m=c("dtick"),h=c("tickvals"),T=L(h)?"array":m?"linear":"auto",f=v(s+"tickmode",T);if(f==="auto"||f==="sync")v(s+"nticks");else if(f==="linear"){var o=a.dtick=p.dtick(m,y);a.tick0=p.tick0(u,y,w.calendar,o)}else if(y!=="multicategory"){var d=v(s+"tickvals");d===void 0?a.tickmode="auto":r||v("ticktext")}}},66847:function(G,U,e){var p=e(39898),L=e(73972),n=e(71828),C=e(91424),w=e(89298);G.exports=function(y,t,r,l){var a=y._fullLayout;if(t.length===0){w.redrawComponents(y);return}function s(A){var E=A.xaxis,g=A.yaxis;a._defs.select("#"+A.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),A.plot.call(C.setTranslate,E._offset,g._offset).call(C.setScale,1,1);var S=A.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(C.setPointGroupScale,1,1),S.selectAll(".textpoint").call(C.setTextPointsScale,1,1),S.call(C.hideOutsideRangePoints,A)}function c(A,E){var g=A.plotinfo,S=g.xaxis,b=g.yaxis,i=S._length,P=b._length,x=!!A.xr1,k=!!A.yr1,_=[];if(x){var B=n.simpleMap(A.xr0,S.r2l),I=n.simpleMap(A.xr1,S.r2l),z=B[1]-B[0],O=I[1]-I[0];_[0]=(B[0]*(1-E)+E*I[0]-B[0])/(B[1]-B[0])*i,_[2]=i*(1-E+E*O/z),S.range[0]=S.l2r(B[0]*(1-E)+E*I[0]),S.range[1]=S.l2r(B[1]*(1-E)+E*I[1])}else _[0]=0,_[2]=i;if(k){var F=n.simpleMap(A.yr0,b.r2l),N=n.simpleMap(A.yr1,b.r2l),Q=F[1]-F[0],$=N[1]-N[0];_[1]=(F[1]*(1-E)+E*N[1]-F[1])/(F[0]-F[1])*P,_[3]=P*(1-E+E*$/Q),b.range[0]=S.l2r(F[0]*(1-E)+E*N[0]),b.range[1]=b.l2r(F[1]*(1-E)+E*N[1])}else _[1]=0,_[3]=P;w.drawOne(y,S,{skipTitle:!0}),w.drawOne(y,b,{skipTitle:!0}),w.redrawComponents(y,[S._id,b._id]);var j=x?i/_[2]:1,ee=k?P/_[3]:1,oe=x?_[0]:0,Y=k?_[1]:0,V=x?_[0]/_[2]*i:0,W=k?_[1]/_[3]*P:0,X=S._offset-V,re=b._offset-W;g.clipRect.call(C.setTranslate,oe,Y).call(C.setScale,1/j,1/ee),g.plot.call(C.setTranslate,X,re).call(C.setScale,j,ee),C.setPointGroupScale(g.zoomScalePts,1/j,1/ee),C.setTextPointsScale(g.zoomScaleTxt,1/j,1/ee)}var u;l&&(u=l());function m(){for(var A={},E=0;E<t.length;E++){var g=t[E],S=g.plotinfo.xaxis,b=g.plotinfo.yaxis;g.xr1&&(A[S._name+".range"]=g.xr1.slice()),g.yr1&&(A[b._name+".range"]=g.yr1.slice())}return u&&u(),L.call("relayout",y,A).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}function h(){for(var A={},E=0;E<t.length;E++){var g=t[E],S=g.plotinfo.xaxis,b=g.plotinfo.yaxis;g.xr0&&(A[S._name+".range"]=g.xr0.slice()),g.yr0&&(A[b._name+".range"]=g.yr0.slice())}return L.call("relayout",y,A).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}var T,f,o,d=p.ease(r.easing);y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function M(){f=Date.now();for(var A=Math.min(1,(f-T)/r.duration),E=d(A),g=0;g<t.length;g++)c(t[g],E);f-T>r.duration?(m(),o=window.cancelAnimationFrame(M)):o=window.requestAnimationFrame(M)}return T=Date.now(),o=window.requestAnimationFrame(M),Promise.resolve()}},951:function(G,U,e){var p=e(73972).traceIs,L=e(4322);G.exports=function(t,r,l,a){l("autotypenumbers",a.autotypenumbersDflt);var s=l("type",(a.splomStash||{}).type);s==="-"&&(n(r,a.data),r.type==="-"?r.type="linear":t.type=r.type)};function n(y,t){if(y.type==="-"){var r=y._id,l=r.charAt(0),a;r.indexOf("scene")!==-1&&(r=l);var s=C(t,r,l);if(s){if(s.type==="histogram"&&l==={v:"y",h:"x"}[s.orientation||"v"]){y.type="linear";return}var c=l+"calendar",u=s[c],m={noMultiCategory:!p(s,"cartesian")||p(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&l==={h:"x",v:"y"}[s.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=y.autotypenumbers,v(s,l)){var h=w(s),T=[];for(a=0;a<t.length;a++){var f=t[a];!p(f,"box-violin")||(f[l+"axis"]||l)!==r||(f[h]!==void 0?T.push(f[h][0]):f.name!==void 0?T.push(f.name):T.push("text"),f[c]!==u&&(u=void 0))}y.type=L(T,u,m)}else if(s.type==="splom"){var o=s.dimensions,d=o[s._axesDim[r]];d.visible&&(y.type=L(d.values,u,m))}else y.type=L(s[l]||[s[l+"0"]],u,m)}}}function C(y,t,r){for(var l=0;l<y.length;l++){var a=y[l];if(a.type==="splom"&&a._length>0&&(a["_"+r+"axes"]||{})[t])return a;if((a[r+"axis"]||r)===t){if(v(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}function w(y){return{v:"x",h:"y"}[y.orientation||"v"]}function v(y,t){var r=w(y),l=p(y,"box-violin"),a=p(y._fullInput||{},"candlestick");return l&&!a&&t===r&&y[r]===void 0&&y[r+"0"]===void 0}},31137:function(G,U,e){var p=e(73972),L=e(71828);U.manageCommandObserver=function(t,r,l,a){var s={},c=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=U.hasSimpleAPICommandBindings(t,l,s.lookupTable);if(r&&r._commandObserver){if(u)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(u){n(t,u,s.cache),s.check=function(){if(c){var f=n(t,u,s.cache);return f.changed&&a&&s.lookupTable[f.value]!==void 0&&(s.disable(),Promise.resolve(a({value:f.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[f.value]})).then(s.enable,s.enable)),f.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<m.length;h++)t._internalOn(m[h],s.check);s.remove=function(){for(var T=0;T<m.length;T++)t._removeInternalListener(m[T],s.check)}}else L.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){c=!1},s.enable=function(){c=!0},r&&(r._commandObserver=s),s},U.hasSimpleAPICommandBindings=function(t,r,l){var a,s=r.length,c;for(a=0;a<s;a++){var u,m=r[a],h=m.method,T=m.args;if(Array.isArray(T)||(T=[]),!h)return!1;var f=U.computeAPICommandBindings(t,h,T);if(f.length!==1)return!1;if(!c)c=f[0],Array.isArray(c.traces)&&c.traces.sort();else{if(u=f[0],u.type!==c.type||u.prop!==c.prop)return!1;if(Array.isArray(c.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var o=0;o<c.traces.length;o++)if(c.traces[o]!==u.traces[o])return!1}else return!1;else if(u.prop!==c.prop)return!1}u=f[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;l&&(l[d]=a)}return c};function n(t,r,l){var a,s,c,u=!1;if(r.type==="data")a=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")a=t._fullLayout;else return!1;return s=L.nestedProperty(a,r.prop).get(),c=l[r.type]=l[r.type]||{},c.hasOwnProperty(r.prop)&&c[r.prop]!==s&&(u=!0),c[r.prop]=s,{changed:u,value:s}}U.executeAPICommand=function(t,r,l){if(r==="skip")return Promise.resolve();var a=p.apiMethodRegistry[r],s=[t];Array.isArray(l)||(l=[]);for(var c=0;c<l.length;c++)s.push(l[c]);return a.apply(null,s).catch(function(u){return L.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},U.computeAPICommandBindings=function(t,r,l){var a;switch(Array.isArray(l)||(l=[]),r){case"restyle":a=v(t,l);break;case"relayout":a=w(t,l);break;case"update":a=v(t,[l[0],l[2]]).concat(w(t,[l[1]]));break;case"animate":a=C(t,l);break;default:a=[]}return a};function C(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function w(t,r){var l=[],a=r[0],s={};if(typeof a=="string")s[a]=r[1];else if(L.isPlainObject(a))s=a;else return l;return y(s,function(c,u,m){l.push({type:"layout",prop:c,value:m})},"",0),l}function v(t,r){var l,a,s,c,u=[];if(a=r[0],s=r[1],l=r[2],c={},typeof a=="string")c[a]=s;else if(L.isPlainObject(a))c=a,l===void 0&&(l=s);else return u;return l===void 0&&(l=null),y(c,function(m,h,T){var f,o;if(Array.isArray(T)){o=T.slice();var d=Math.min(o.length,t.data.length);l&&(d=Math.min(d,l.length)),f=[];for(var M=0;M<d;M++)f[M]=l?l[M]:M}else o=T,f=l?l.slice():null;if(f===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(f)){if(!Array.isArray(o)){var A=o;o=[];for(var E=0;E<f.length;E++)o[E]=A}o.length=Math.min(f.length,o.length)}u.push({type:"data",prop:m,traces:f,value:o})},"",0),u}function y(t,r,l,a){Object.keys(t).forEach(function(s){var c=t[s];if(s[0]!=="_"){var u=l+(a>0?".":"")+s;L.isPlainObject(c)?y(c,r,u,a+1):r(u,s,c)}})}},27670:function(G,U,e){var p=e(1426).extendFlat;U.Y=function(L,n){L=L||{},n=n||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,n.description&&""+n.description;var w={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:L.editType},w.column={valType:"integer",min:0,dflt:0,editType:L.editType}),w},U.c=function(L,n,C,w){var v=w&&w.x||[0,1],y=w&&w.y||[0,1],t=n.grid;if(t){var r=C("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete L.domain.column);var l=C("domain.row");l!==void 0&&(l<t.rows?y=t._domains.y[l]:delete L.domain.row)}var a=C("domain.x",v),s=C("domain.y",y);a[0]<a[1]||(L.domain.x=v.slice()),s[0]<s[1]||(L.domain.y=y.slice())}},41940:function(G){G.exports=function(U){var e=U.editType,p=U.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return U.autoSize&&(L.size.dflt="auto"),U.autoColor&&(L.color.dflt="auto"),U.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},31391:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(G,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(G,U,e){var p=e(39898),L=e(27362),n=L.geoPath,C=L.geoDistance,w=e(65704),v=e(73972),y=e(71828),t=y.strTranslate,r=e(7901),l=e(91424),a=e(30211),s=e(74875),c=e(89298),u=e(71739).getAutoRange,m=e(28569),h=e(47322).prepSelect,T=e(47322).clearOutline,f=e(47322).selectOnClick,o=e(74455),d=e(78776),M=e(41327),A=e(90973),E=e(96892).zL;function g(x){this.id=x.id,this.graphDiv=x.graphDiv,this.container=x.container,this.topojsonURL=x.topojsonURL,this.isStatic=x.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=g.prototype;G.exports=function(k){return new g(k)},S.plot=function(x,k,_,B){var I=this;if(B)return I.update(x,k,!0);I._geoCalcData=x,I._fullLayout=k;var z=k[this.id],O=[],F=!1;for(var N in d.layerNameToAdjective)if(N!=="frame"&&z["show"+N]){F=!0;break}for(var Q=!1,$=0;$<x.length;$++){var j=x[0][0].trace;j._geo=I,j.locationmode&&(F=!0);var ee=j.marker;if(ee){var oe=ee.angle,Y=ee.angleref;(oe||Y==="north"||Y==="previous")&&(Q=!0)}}if(this._hasMarkerAngles=Q,F){var V=A.getTopojsonName(z);(I.topojson===null||V!==I.topojsonName)&&(I.topojsonName=V,PlotlyGeoAssets.topojson[I.topojsonName]===void 0&&O.push(I.fetchTopojson()))}O=O.concat(M.fetchTraceGeoData(x)),_.push(new Promise(function(W,X){Promise.all(O).then(function(){I.topojson=PlotlyGeoAssets.topojson[I.topojsonName],I.update(x,k),W()}).catch(X)}))},S.fetchTopojson=function(){var x=this,k=A.getTopojsonPath(x.topojsonURL,x.topojsonName);return new Promise(function(_,B){p.json(k,function(I,z){if(I)return I.status===404?B(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[x.topojsonName]=z,_()})})},S.update=function(x,k,_){var B=k[this.id];this.hasChoropleth=!1;for(var I=0;I<x.length;I++){var z=x[I],O=z[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(z,k)}if(!_){var F=this.updateProjection(x,k);if(F)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(k,B),this.updateDims(k,B),this.updateFx(k,B),s.generalUpdatePerTraceModule(this.graphDiv,this,x,B);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var Q=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Q.selectAll("path"),this._render()},S.updateProjection=function(x,k){var _=this.graphDiv,B=k[this.id],I=k._size,z=B.domain,O=B.projection,F=B.lonaxis,N=B.lataxis,Q=F._ax,$=N._ax,j=this.projection=b(B),ee=[[I.l+I.w*z.x[0],I.t+I.h*(1-z.y[1])],[I.l+I.w*z.x[1],I.t+I.h*(1-z.y[0])]],oe=B.center||{},Y=O.rotation||{},V=F.range||[],W=N.range||[];if(B.fitbounds){Q._length=ee[1][0]-ee[0][0],$._length=ee[1][1]-ee[0][1],Q.range=u(_,Q),$.range=u(_,$);var X=(Q.range[0]+Q.range[1])/2,re=($.range[0]+$.range[1])/2;if(B._isScoped)oe={lon:X,lat:re};else if(B._isClipped){oe={lon:X,lat:re},Y={lon:X,lat:re,roll:Y.roll};var ie=O.type,K=d.lonaxisSpan[ie]/2||180,q=d.lataxisSpan[ie]/2||90;V=[X-K,X+K],W=[re-q,re+q]}else oe={lon:X,lat:re},Y={lon:X,lat:Y.lat,roll:Y.roll}}j.center([oe.lon-Y.lon,oe.lat-Y.lat]).rotate([-Y.lon,-Y.lat,Y.roll]).parallels(O.parallels);var le=P(V,W);j.fitExtent(ee,le);var ae=this.bounds=j.getBounds(le),he=this.fitScale=j.scale(),me=j.translate();if(B.fitbounds){var Me=j.getBounds(P(Q.range,$.range)),xe=Math.min((ae[1][0]-ae[0][0])/(Me[1][0]-Me[0][0]),(ae[1][1]-ae[0][1])/(Me[1][1]-Me[0][1]));isFinite(xe)?j.scale(xe*he):y.warn("Something went wrong during"+this.id+"fitbounds computations.")}else j.scale(O.scale*he);var Ie=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(j.translate([me[0]+(Ie[0]-me[0]),me[1]+(Ie[1]-me[1])]).clipExtent(ae),B._isAlbersUsa){var _e=j([oe.lon,oe.lat]),Te=j.translate();j.translate([Te[0]-(_e[0]-Te[0]),Te[1]-(_e[1]-Te[1])])}},S.updateBaseLayers=function(x,k){var _=this,B=_.topojson,I=_.layers,z=_.basePaths;function O(ee){return ee==="lonaxis"||ee==="lataxis"}function F(ee){return!!d.lineLayers[ee]}function N(ee){return!!d.fillLayers[ee]}var Q=this.hasChoropleth?d.layersForChoropleth:d.layers,$=Q.filter(function(ee){return F(ee)||N(ee)?k["show"+ee]:O(ee)?k[ee].showgrid:!0}),j=_.framework.selectAll(".layer").data($,String);j.exit().each(function(ee){delete I[ee],delete z[ee],p.select(this).remove()}),j.enter().append("g").attr("class",function(ee){return"layer "+ee}).each(function(ee){var oe=I[ee]=p.select(this);ee==="bg"?_.bgRect=oe.append("rect").style("pointer-events","all"):O(ee)?z[ee]=oe.append("path").style("fill","none"):ee==="backplot"?oe.append("g").classed("choroplethlayer",!0):ee==="frontplot"?oe.append("g").classed("scatterlayer",!0):F(ee)?z[ee]=oe.append("path").style("fill","none").style("stroke-miterlimit",2):N(ee)&&(z[ee]=oe.append("path").style("stroke","none"))}),j.order(),j.each(function(ee){var oe=z[ee],Y=d.layerNameToAdjective[ee];ee==="frame"?oe.datum(d.sphereSVG):F(ee)||N(ee)?oe.datum(E(B,B.objects[ee])):O(ee)&&oe.datum(i(ee,k,x)).call(r.stroke,k[ee].gridcolor).call(l.dashLine,k[ee].griddash,k[ee].gridwidth),F(ee)?oe.call(r.stroke,k[Y+"color"]).call(l.dashLine,"",k[Y+"width"]):N(ee)&&oe.call(r.fill,k[Y+"color"])})},S.updateDims=function(x,k){var _=this.bounds,B=(k.framewidth||0)/2,I=_[0][0]-B,z=_[0][1]-B,O=_[1][0]-I+B,F=_[1][1]-z+B;l.setRect(this.clipRect,I,z,O,F),this.bgRect.call(l.setRect,I,z,O,F).call(r.fill,k.bgcolor),this.xaxis._offset=I,this.xaxis._length=O,this.yaxis._offset=z,this.yaxis._length=F},S.updateFx=function(x,k){var _=this,B=_.graphDiv,I=_.bgRect,z=x.dragmode,O=x.clickmode;if(_.isStatic)return;function F(){var j=_.viewInitial,ee={};for(var oe in j)ee[_.id+"."+oe]=j[oe];v.call("_guiRelayout",B,ee),B.emit("plotly_doubleclick",null)}function N(j){return _.projection.invert([j[0]+_.xaxis._offset,j[1]+_.yaxis._offset])}var Q=function(j,ee){if(ee.isRect){var oe=j.range={};oe[_.id]=[N([ee.xmin,ee.ymin]),N([ee.xmax,ee.ymax])]}else{var Y=j.lassoPoints={};Y[_.id]=ee.map(N)}},$={element:_.bgRect.node(),gd:B,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:Q},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(j){j===2&&T(B)}};z==="pan"?(I.node().onmousedown=null,I.call(o(_,k)),I.on("dblclick.zoom",F),B._context._scrollZoom.geo||I.on("wheel.zoom",null)):(z==="select"||z==="lasso")&&(I.on(".zoom",null),$.prepFn=function(j,ee,oe){h(j,ee,oe,$,z)},m.init($)),I.on("mousemove",function(){var j=_.projection.invert(y.getPositionFromD3Event());if(!j)return m.unhover(B,p.event);_.xaxis.p2c=function(){return j[0]},_.yaxis.p2c=function(){return j[1]},a.hover(B,p.event,_.id)}),I.on("mouseout",function(){B._dragging||m.unhover(B,p.event)}),I.on("click",function(){z!=="select"&&z!=="lasso"&&(O.indexOf("select")>-1&&f(p.event,B,[_.xaxis],[_.yaxis],_.id,$),O.indexOf("event")>-1&&a.click(B,p.event))})},S.makeFramework=function(){var x=this,k=x.graphDiv,_=k._fullLayout,B="clip"+_._uid+x.id;x.clipDef=_._clips.append("clipPath").attr("id",B),x.clipRect=x.clipDef.append("rect"),x.framework=p.select(x.container).append("g").attr("class","geo "+x.id).call(l.setClipUrl,B,k),x.project=function(I){var z=x.projection(I);return z?[z[0]-x.xaxis._offset,z[1]-x.yaxis._offset]:[null,null]},x.xaxis={_id:"x",c2p:function(I){return x.project(I)[0]}},x.yaxis={_id:"y",c2p:function(I){return x.project(I)[1]}},x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(x.mockAxis,_)},S.saveViewInitial=function(x){var k=x.center||{},_=x.projection,B=_.rotation||{};this.viewInitial={fitbounds:x.fitbounds,"projection.scale":_.scale};var I;x._isScoped?I={"center.lon":k.lon,"center.lat":k.lat}:x._isClipped?I={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:I={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":B.lon},y.extendFlat(this.viewInitial,I)},S.render=function(x){this._hasMarkerAngles&&x?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var x=this.projection,k=x.getPath(),_;function B(z){var O=x(z.lonlat);return O?t(O[0],O[1]):null}function I(z){return x.isLonLatOverEdges(z.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",k);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(z){return k(z.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",I).attr("transform",B)};function b(x){var k=x.projection,_=k.type,B=d.projNames[_];B="geo"+y.titleCase(B);for(var I=L[B]||w[B],z=I(),O=x._isSatellite?Math.acos(1/k.distance)*180/Math.PI:x._isClipped?d.lonaxisSpan[_]/2:null,F=["center","rotate","parallels","clipExtent"],N=function(j){return j?z:[]},Q=0;Q<F.length;Q++){var $=F[Q];typeof z[$]!="function"&&(z[$]=N)}return z.isLonLatOverEdges=function(j){if(z(j)===null)return!0;if(O){var ee=z.rotate(),oe=C(j,[-ee[0],-ee[1]]),Y=O*Math.PI/180;return oe>Y}else return!1},z.getPath=function(){return n().projection(z)},z.getBounds=function(j){return z.getPath().bounds(j)},z.precision(d.precision),x._isSatellite&&z.tilt(k.tilt).distance(k.distance),O&&z.clipAngle(O-d.clipPad),z}function i(x,k,_){var B=1e-6,I=2.5,z=k[x],O=d.scopeDefaults[k.scope],F,N,Q;x==="lonaxis"?(F=O.lonaxisRange,N=O.lataxisRange,Q=function(re,ie){return[re,ie]}):x==="lataxis"&&(F=O.lataxisRange,N=O.lonaxisRange,Q=function(re,ie){return[ie,re]});var $={type:"linear",range:[F[0],F[1]-B],tick0:z.tick0,dtick:z.dtick};c.setConvert($,_);var j=c.calcTicks($);!k.isScoped&&x==="lonaxis"&&j.pop();for(var ee=j.length,oe=new Array(ee),Y=0;Y<ee;Y++)for(var V=j[Y].x,W=oe[Y]=[],X=N[0];X<N[1]+I;X+=I)W.push(Q(V,X));return{type:"MultiLineString",coordinates:oe}}function P(x,k){var _=d.clipPad,B=x[0]+_,I=x[1]-_,z=k[0]+_,O=k[1]-_;B>0&&I<0&&(I+=360);var F=(I-B)/4;return{type:"Polygon",coordinates:[[[B,z],[B,O],[B+F,O],[B+2*F,O],[B+3*F,O],[I,O],[I,z],[I-F,z],[I-2*F,z],[I-3*F,z],[B,z]]]}}},44622:function(G,U,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(69082),C="geo",w=L(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function y(l){for(var a=l._fullLayout,s=l.calcdata,c=a._subplots[C],u=0;u<c.length;u++){var m=c[u],h=p(s,C,m),T=a[m],f=T._subplot;f||(f=n({id:m,graphDiv:l,container:a._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),a[m]._subplot=f),f.plot(h,a,l._promises)}}function t(l,a,s,c){for(var u=c._subplots[C]||[],m=0;m<u.length;m++){var h=u[m],T=c[h]._subplot;!a[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function r(l){for(var a=l._fullLayout,s=a._subplots[C],c=0;c<s.length;c++){var u=a[s[c]],m=u._subplot;m.updateFx(a,u)}}G.exports={attr:C,name:C,idRoot:C,idRegex:w,attrRegex:w,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:y,updateFx:r,clean:t}},77519:function(G,U,e){var p=e(22399),L=e(27670).Y,n=e(79952).P,C=e(78776),w=e(30962).overrideAll,v=e(78607),y={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},t=G.exports=w({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:y,lataxis:y},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(G,U,e){var p=e(71828),L=e(49119),n=e(27659).NG,C=e(78776),w=e(77519),v=C.axesNames;G.exports=function(r,l,a){L(r,l,a,{type:"geo",attributes:w,handleDefaults:y,fullData:a,partition:"y"})};function y(t,r,l,a){var s=n(a.fullData,"geo",a.id),c=s.map(function(W){return W._expandedIndex}),u=l("resolution"),m=l("scope"),h=C.scopeDefaults[m],T=l("projection.type",h.projType),f=r._isAlbersUsa=T==="albers usa";f&&(m=r.scope="usa");var o=r._isScoped=m!=="world",d=r._isSatellite=T==="satellite",M=r._isConic=T.indexOf("conic")!==-1||T==="albers",A=r._isClipped=!!C.lonaxisSpan[T];if(t.visible===!1){var E=p.extendDeep({},r._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),r._template=E}for(var g=l("visible"),S,b=0;b<v.length;b++){var i=v[b],P=[30,10][b],x;if(o)x=h[i+"Range"];else{var k=C[i+"Span"],_=(k[T]||k["*"])/2,B=l("projection.rotation."+i.substr(0,3),h.projRotate[b]);x=[B-_,B+_]}var I=l(i+".range",x);l(i+".tick0"),l(i+".dtick",P),S=l(i+".showgrid",g?void 0:!1),S&&(l(i+".gridcolor"),l(i+".gridwidth"),l(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:c,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:I.slice(),_m:1,_input:{}}}var z=r.lonaxis.range,O=r.lataxis.range,F=z[0],N=z[1];F>0&&N<0&&(N+=360);var Q=(F+N)/2,$;if(!f){var j=o?h.projRotate:[Q,0,0];$=l("projection.rotation.lon",j[0]),l("projection.rotation.lat",j[1]),l("projection.rotation.roll",j[2]),S=l("showcoastlines",!o&&g),S&&(l("coastlinecolor"),l("coastlinewidth")),S=l("showocean",g?void 0:!1),S&&l("oceancolor")}var ee,oe;if(f?(ee=-96.6,oe=38.7):(ee=o?Q:$,oe=(O[0]+O[1])/2),l("center.lon",ee),l("center.lat",oe),d&&(l("projection.tilt"),l("projection.distance")),M){var Y=h.projParallels||[0,60];l("projection.parallels",Y)}l("projection.scale"),S=l("showland",g?void 0:!1),S&&l("landcolor"),S=l("showlakes",g?void 0:!1),S&&l("lakecolor"),S=l("showrivers",g?void 0:!1),S&&(l("rivercolor"),l("riverwidth")),S=l("showcountries",o&&m!=="usa"&&g),S&&(l("countrycolor"),l("countrywidth")),(m==="usa"||m==="north america"&&u===50)&&(l("showsubunits",g),l("subunitcolor"),l("subunitwidth")),o||(S=l("showframe",g),S&&(l("framecolor"),l("framewidth"))),l("bgcolor");var V=l("fitbounds");V&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):A?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(G,U,e){var p=e(39898),L=e(71828),n=e(73972),C=Math.PI/180,w=180/Math.PI,v={cursor:"pointer"},y={cursor:"auto"};function t(i,P){var x=i.projection,k;return P._isScoped?k=a:P._isClipped?k=c:k=s,k(i,x)}G.exports=t;function r(i,P){return p.behavior.zoom().translate(P.translate()).scale(P.scale())}function l(i,P,x){var k=i.id,_=i.graphDiv,B=_.layout,I=B[k],z=_._fullLayout,O=z[k],F={},N={};function Q($,j){F[k+"."+$]=L.nestedProperty(I,$).get(),n.call("_storeDirectGUIEdit",B,z._preGUI,F);var ee=L.nestedProperty(O,$);ee.get()!==j&&(ee.set(j),L.nestedProperty(I,$).set(j),N[k+"."+$]=j)}x(Q),Q("projection.scale",P.scale()/i.fitScale),Q("fitbounds",!1),_.emit("plotly_relayout",N)}function a(i,P){var x=r(i,P);function k(){p.select(this).style(v)}function _(){P.scale(p.event.scale).translate(p.event.translate),i.render(!0);var z=P.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/i.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}function B(z){var O=P.invert(i.midPt);z("center.lon",O[0]),z("center.lat",O[1])}function I(){p.select(this).style(y),l(i,P,B)}return x.on("zoomstart",k).on("zoom",_).on("zoomend",I),x}function s(i,P){var x=r(i,P),k=2,_,B,I,z,O,F,N,Q,$;function j(X){return P.invert(X)}function ee(X){var re=j(X);if(!re)return!0;var ie=P(re);return Math.abs(ie[0]-X[0])>k||Math.abs(ie[1]-X[1])>k}function oe(){p.select(this).style(v),_=p.mouse(this),B=P.rotate(),I=P.translate(),z=B,O=j(_)}function Y(){if(F=p.mouse(this),ee(_)){x.scale(P.scale()),x.translate(P.translate());return}P.scale(p.event.scale),P.translate([I[0],p.event.translate[1]]),O?j(F)&&(Q=j(F),N=[z[0]+(Q[0]-O[0]),B[1],B[2]],P.rotate(N),z=N):(_=F,O=j(_)),$=!0,i.render(!0);var X=P.rotate(),re=P.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/i.fitScale,"geo.center.lon":re[0],"geo.center.lat":re[1],"geo.projection.rotation.lon":-X[0]})}function V(){p.select(this).style(y),$&&l(i,P,W)}function W(X){var re=P.rotate(),ie=P.invert(i.midPt);X("projection.rotation.lon",-re[0]),X("center.lon",ie[0]),X("center.lat",ie[1])}return x.on("zoomstart",oe).on("zoom",Y).on("zoomend",V),x}function c(i,P){P.rotate(),P.scale();var x=r(i,P),k=b(x,"zoomstart","zoom","zoomend"),_=0,B=x.on,I;x.on("zoomstart",function(){p.select(this).style(v);var Q=p.mouse(this),$=P.rotate(),j=$,ee=P.translate(),oe=m($);I=u(P,Q),B.call(x,"zoom",function(){var Y=p.mouse(this);if(P.scale(p.event.scale),!I)Q=Y,I=u(P,Q);else if(u(P,Y)){P.rotate($).translate(ee);var V=u(P,Y),W=T(I,V),X=A(h(oe,W)),re=f(X,I,j);(!isFinite(re[0])||!isFinite(re[1])||!isFinite(re[2]))&&(re=j),P.rotate(re),j=re}O(k.of(this,arguments))}),z(k.of(this,arguments))}).on("zoomend",function(){p.select(this).style(y),B.call(x,"zoom",null),F(k.of(this,arguments)),l(i,P,N)}).on("zoom.redraw",function(){i.render(!0);var Q=P.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/i.fitScale,"geo.projection.rotation.lon":-Q[0],"geo.projection.rotation.lat":-Q[1]})});function z(Q){_++||Q({type:"zoomstart"})}function O(Q){Q({type:"zoom"})}function F(Q){--_||Q({type:"zoomend"})}function N(Q){var $=P.rotate();Q("projection.rotation.lon",-$[0]),Q("projection.rotation.lat",-$[1])}return p.rebind(x,k,"on")}function u(i,P){var x=i.invert(P);return x&&isFinite(x[0])&&isFinite(x[1])&&E(x)}function m(i){var P=.5*i[0]*C,x=.5*i[1]*C,k=.5*i[2]*C,_=Math.sin(P),B=Math.cos(P),I=Math.sin(x),z=Math.cos(x),O=Math.sin(k),F=Math.cos(k);return[B*z*F+_*I*O,_*z*F-B*I*O,B*I*F+_*z*O,B*z*O-_*I*F]}function h(i,P){var x=i[0],k=i[1],_=i[2],B=i[3],I=P[0],z=P[1],O=P[2],F=P[3];return[x*I-k*z-_*O-B*F,x*z+k*I+_*F-B*O,x*O-k*F+_*I+B*z,x*F+k*O-_*z+B*I]}function T(i,P){if(!(!i||!P)){var x=S(i,P),k=Math.sqrt(g(x,x)),_=.5*Math.acos(Math.max(-1,Math.min(1,g(i,P)))),B=Math.sin(_)/k;return k&&[Math.cos(_),x[2]*B,-x[1]*B,x[0]*B]}}function f(i,P,x){var k=M(P,2,i[0]);k=M(k,1,i[1]),k=M(k,0,i[2]-x[2]);var _=P[0],B=P[1],I=P[2],z=k[0],O=k[1],F=k[2],N=Math.atan2(B,_)*w,Q=Math.sqrt(_*_+B*B),$,j;Math.abs(O)>Q?(j=(O>0?90:-90)-N,$=0):(j=Math.asin(O/Q)*w-N,$=Math.sqrt(Q*Q-O*O));var ee=180-j-2*N,oe=(Math.atan2(F,z)-Math.atan2(I,$))*w,Y=(Math.atan2(F,z)-Math.atan2(I,-$))*w,V=o(x[0],x[1],j,oe),W=o(x[0],x[1],ee,Y);return V<=W?[j,oe,x[2]]:[ee,Y,x[2]]}function o(i,P,x,k){var _=d(x-i),B=d(k-P);return Math.sqrt(_*_+B*B)}function d(i){return(i%360+540)%360-180}function M(i,P,x){var k=x*C,_=i.slice(),B=P===0?1:0,I=P===2?1:2,z=Math.cos(k),O=Math.sin(k);return _[B]=i[B]*z-i[I]*O,_[I]=i[I]*z+i[B]*O,_}function A(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*w,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*w]}function E(i){var P=i[0]*C,x=i[1]*C,k=Math.cos(x);return[k*Math.cos(P),k*Math.sin(P),Math.sin(x)]}function g(i,P){for(var x=0,k=0,_=i.length;k<_;++k)x+=i[k]*P[k];return x}function S(i,P){return[i[1]*P[2]-i[2]*P[1],i[2]*P[0]-i[0]*P[2],i[0]*P[1]-i[1]*P[0]]}function b(i){for(var P=0,x=arguments.length,k=[];++P<x;)k.push(arguments[P]);var _=p.dispatch.apply(null,k);return _.of=function(B,I){return function(z){var O;try{O=z.sourceEvent=p.event,z.target=i,p.event=z,_[z.type].apply(B,I)}finally{p.event=O}}},_}},27659:function(G,U,e){var p=e(73972),L=e(85555).SUBPLOT_PATTERN;U.AU=function(n,C,w){var v=p.subplotsRegistry[C];if(!v)return[];for(var y=v.attr,t=[],r=0;r<n.length;r++){var l=n[r],a=l[0].trace;a[y]===w&&t.push(l)}return t},U.a0=function(n,C){var w=[],v=[],y;if(typeof C=="string"?y=p.getModule(C).plot:typeof C=="function"?y=C:y=C.plot,!y)return[w,n];for(var t=0;t<n.length;t++){var r=n[t],l=r[0].trace;l.visible!==!0||l._length===0||(l._module.plot===y?w.push(r):v.push(r))}return[w,v]},U.NG=function(C,w,v){if(!p.subplotsRegistry[w])return[];var y=p.subplotsRegistry[w].attr,t=[],r,l,a;if(w==="gl2d"){var s=v.match(L);l="x"+s[1],a="y"+s[2]}for(var c=0;c<C.length;c++)r=C[c],w==="gl2d"&&p.traceIs(r,"gl2d")?r[y[0]]===l&&r[y[1]]===a&&t.push(r):r[y]===v&&t.push(r);return t}},75071:function(G,U,e){var p=e(16825),L=e(1195),n=e(48956),C=e(85555),w=e(38520);G.exports=y;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function y(t){var r=t.mouseContainer,l=t.glplot,a=new v(r,l);function s(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,h=t.xaxis._id,T=t.yaxis._id,f=0;f<m.length;f++)if(m[f][h]!==-1){if(m[f][T]!==-1)return!0;break}return!1}a.mouseListener=p(r,u),r.addEventListener("touchstart",function(m){var h=n(m.changedTouches[0],r);u(0,h[0],h[1]),u(1,h[0],h[1]),m.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchmove",function(m){m.preventDefault();var h=n(m.changedTouches[0],r);u(1,h[0],h[1]),m.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchend",function(m){u(0,a.lastPos[0],a.lastPos[1]),m.preventDefault()},w?{passive:!1}:!1);function u(m,h,T){var f=t.calcDataBox(),o=l.viewBox,d=a.lastPos[0],M=a.lastPos[1],A=C.MINDRAG*l.pixelRatio,E=C.MINZOOM*l.pixelRatio,g,S;h*=l.pixelRatio,T*=l.pixelRatio,T=o[3]-o[1]-T;function b(B,I,z){var O=Math.min(I,z),F=Math.max(I,z);O!==F?(f[B]=O,f[B+2]=F,a.dataBox=f,t.setRanges(f)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(m){var i=h/(o[2]-o[0])*(f[2]-f[0])+f[0],P=T/(o[3]-o[1])*(f[3]-f[1])+f[1];a.boxInited||(a.boxStart[0]=i,a.boxStart[1]=P,a.dragStart[0]=h,a.dragStart[1]=T),a.boxEnd[0]=i,a.boxEnd[1]=P,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var x=Math.abs(a.dragStart[0]-h)<E,k=Math.abs(a.dragStart[1]-T)<E;if(c()&&!(x&&k)){g=a.boxEnd[0]-a.boxStart[0],S=a.boxEnd[1]-a.boxStart[1];var _=(f[3]-f[1])/(f[2]-f[0]);Math.abs(g*_)>Math.abs(S)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(g)*_*(S>=0?1:-1),a.boxEnd[1]<f[1]?(a.boxEnd[1]=f[1],a.boxEnd[0]=a.boxStart[0]+(f[1]-a.boxStart[1])/Math.abs(_)):a.boxEnd[1]>f[3]&&(a.boxEnd[1]=f[3],a.boxEnd[0]=a.boxStart[0]+(f[3]-a.boxStart[1])/Math.abs(_))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(S)/_*(g>=0?1:-1),a.boxEnd[0]<f[0]?(a.boxEnd[0]=f[0],a.boxEnd[1]=a.boxStart[1]+(f[0]-a.boxStart[0])*Math.abs(_)):a.boxEnd[0]>f[2]&&(a.boxEnd[0]=f[2],a.boxEnd[1]=a.boxStart[1]+(f[2]-a.boxStart[0])*Math.abs(_)))}else x&&(a.boxEnd[0]=a.boxStart[0]),k&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(g=a.boxStart[0]!==a.boxEnd[0],S=a.boxStart[1]!==a.boxEnd[1],g||S?(g&&(b(0,a.boxStart[0],a.boxEnd[0]),t.xaxis.autorange=!1),S&&(b(1,a.boxStart[1],a.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,m?(a.panning||(a.dragStart[0]=h,a.dragStart[1]=T),Math.abs(a.dragStart[0]-h)<A&&(h=a.dragStart[0]),Math.abs(a.dragStart[1]-T)<A&&(T=a.dragStart[1]),g=(d-h)*(f[2]-f[0])/(l.viewBox[2]-l.viewBox[0]),S=(M-T)*(f[3]-f[1])/(l.viewBox[3]-l.viewBox[1]),f[0]+=g,f[2]+=g,f[1]+=S,f[3]+=S,t.setRanges(f),a.panning=!0,a.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations()):a.panning&&(a.panning=!1,t.relayoutCallback());break}a.lastPos[0]=h,a.lastPos[1]=T}return a.wheelListener=L(r,function(m,h){if(!t.scrollZoom)return!1;var T=t.calcDataBox(),f=l.viewBox,o=a.lastPos[0],d=a.lastPos[1],M=Math.exp(5*h/(f[3]-f[1])),A=o/(f[2]-f[0])*(T[2]-T[0])+T[0],E=d/(f[3]-f[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-A)*M+A,T[2]=(T[2]-A)*M+A,T[1]=(T[1]-E)*M+E,T[3]=(T[3]-E)*M+E,t.setRanges(T),a.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),a}},82961:function(G,U,e){var p=e(89298),L=e(78614);function n(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=n.prototype,w=["xaxis","yaxis"];C.merge=function(y){this.titleEnable=!1,this.backgroundColor=L(y.plot_bgcolor);var t,r,l,a,s,c,u,m,h,T,f;for(T=0;T<2;++T){t=w[T];var o=t.charAt(0);for(r=y[this.scene[t]._name],l=r.title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,f=0;f<=2;f+=2)this.labelEnable[T+f]=!1,this.labels[T+f]=l,this.labelColor[T+f]=L(r.title.font.color),this.labelFont[T+f]=r.title.font.family,this.labelSize[T+f]=r.title.font.size,this.labelPad[T+f]=this.getLabelPad(t,r),this.tickEnable[T+f]=!1,this.tickColor[T+f]=L((r.tickfont||{}).color),this.tickAngle[T+f]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[T+f]=this.getTickPad(r),this.tickMarkLength[T+f]=0,this.tickMarkWidth[T+f]=r.tickwidth||0,this.tickMarkColor[T+f]=L(r.tickcolor),this.borderLineEnable[T+f]=!1,this.borderLineColor[T+f]=L(r.linecolor),this.borderLineWidth[T+f]=r.linewidth||0;u=this.hasSharedAxis(r),s=this.hasAxisInDfltPos(t,r)&&!u,c=this.hasAxisInAltrPos(t,r)&&!u,a=r.mirror||!1,m=u?String(a).indexOf("all")!==-1:!!a,h=u?a==="allticks":String(a).indexOf("ticks")!==-1,s?this.labelEnable[T]=!0:c&&(this.labelEnable[T+2]=!0),s?this.tickEnable[T]=r.showticklabels:c&&(this.tickEnable[T+2]=r.showticklabels),(s||m)&&(this.borderLineEnable[T]=r.showline),(c||m)&&(this.borderLineEnable[T+2]=r.showline),(s||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(r)),(c||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(r)),this.gridLineEnable[T]=r.showgrid,this.gridLineColor[T]=L(r.gridcolor),this.gridLineWidth[T]=r.gridwidth,this.zeroLineEnable[T]=r.zeroline,this.zeroLineColor[T]=L(r.zerolinecolor),this.zeroLineWidth[T]=r.zerolinewidth}},C.hasSharedAxis=function(y){var t=this.scene,r=t.fullLayout._subplots.gl2d,l=p.findSubplotsWithAxis(r,y);return l.indexOf(t.id)!==0},C.hasAxisInDfltPos=function(y,t){var r=t.side;if(y==="xaxis")return r==="bottom";if(y==="yaxis")return r==="left"},C.hasAxisInAltrPos=function(y,t){var r=t.side;if(y==="xaxis")return r==="top";if(y==="yaxis")return r==="right"},C.getLabelPad=function(y,t){var r=1.5,l=t.title.font.size,a=t.showticklabels;if(y==="xaxis")return t.side==="top"?-10+l*(r+(a?1:0)):-10+l*(r+(a?.5:0));if(y==="yaxis")return t.side==="right"?10+l*(r+(a?1:.5)):10+l*(r+(a?.5:0))},C.getTickPad=function(y){return y.ticks==="outside"?10+y.ticklen:15},C.getTickMarkLength=function(y){if(!y.ticks)return 0;var t=y.ticklen;return y.ticks==="inside"?-t:t};function v(y){return new n(y)}G.exports=v},4796:function(G,U,e){var p=e(30962).overrideAll,L=e(92918),n=e(10820),C=e(77922),w=e(85555),v=e(93612),y=e(528),t=e(27659).NG;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=w.idRegex,U.attrRegex=w.attrRegex,U.attributes=e(89502),U.supplyLayoutDefaults=function(r,l,a){l._has("cartesian")||v.supplyLayoutDefaults(r,l,a)},U.layoutAttrOverrides=p(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=p({plot_bgcolor:n.plot_bgcolor,hoverlabel:y.hoverlabel},"plot","nested"),U.plot=function(l){for(var a=l._fullLayout,s=l._fullData,c=a._subplots.gl2d,u=0;u<c.length;u++){var m=c[u],h=a._plots[m],T=t(s,"gl2d",m),f=h._scene2d;f===void 0&&(f=new L({id:m,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio},a),h._scene2d=f),f.plot(T,l.calcdata,a,l.layout)}},U.clean=function(r,l,a,s){for(var c=s._subplots.gl2d||[],u=0;u<c.length;u++){var m=c[u],h=s._plots[m];if(h._scene2d){var T=t(r,"gl2d",m);T.length===0&&(h._scene2d.destroy(),delete s._plots[m])}}v.clean.apply(this,arguments)},U.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},U.toSVG=function(r){for(var l=r._fullLayout,a=l._subplots.gl2d,s=0;s<a.length;s++){var c=l._plots[a[s]],u=c._scene2d,m=u.toImage("png"),h=l._glimages.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},U.updateFx=function(r){for(var l=r._fullLayout,a=l._subplots.gl2d,s=0;s<a.length;s++){var c=l._plots[a[s]]._scene2d;c.updateFx(l.dragmode)}}},92918:function(G,U,e){var p=e(73972),L=e(89298),n=e(30211),C=e(9330).gl_plot2d,w=e(9330).gl_spikes2d,v=e(9330).gl_select_box,y=e(40372),t=e(82961),r=e(75071),l=e(58617),a=e(99082),s=a.enforce,c=a.clean,u=e(71739).doAutoRange,m=e(64505),h=m.drawMode,T=m.selectMode,f=["xaxis","yaxis"],o,d,M=e(85555).SUBPLOT_PATTERN;function A(S,b){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(b),this.glplot=C(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=w(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=A;var E=A.prototype;E.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=y({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),b=y({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){l(this),this.stopped=!0;return}this.canvas=S,this.gl=b}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var x=this.mouseContainer=document.createElement("div");x.style.position="absolute",x.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(P),k.appendChild(x);var _=this;x.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),x.addEventListener("mouseover",function(){_.isMouseOver=!0})},E.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var b=this.glplot.gl,i=b.drawingBufferWidth,P=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var x=new Uint8Array(i*P*4);b.readPixels(0,0,i,P,b.RGBA,b.UNSIGNED_BYTE,x);for(var k=0,_=P-1;k<_;++k,--_)for(var B=0;B<i;++B)for(var I=0;I<4;++I){var z=x[4*(i*k+B)+I];x[4*(i*k+B)+I]=x[4*(i*_+B)+I],x[4*(i*_+B)+I]=z}var O=document.createElement("canvas");O.width=i,O.height=P;var F=O.getContext("2d",{willReadFrequently:!0}),N=F.createImageData(i,P);N.data.set(x),F.putImageData(N,0,0);var Q;switch(S){case"jpeg":Q=O.toDataURL("image/jpeg");break;case"webp":Q=O.toDataURL("image/webp");break;default:Q=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),Q},E.updateSize=function(S){S||(S=this.canvas);var b=this.pixelRatio,i=this.fullLayout,P=i.width,x=i.height,k=Math.ceil(b*P)|0,_=Math.ceil(b*x)|0;return(S.width!==k||S.height!==_)&&(S.width=k,S.height=_),S},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],b=0;b<2;++b)for(var i=0;i<S[b].length;++i)S[b][i].text=S[b][i].text+"";return S};function g(S,b){for(var i=0;i<2;++i){var P=S[i],x=b[i];if(P.length!==x.length)return!0;for(var k=0;k<P.length;++k)if(P[k].x!==x[k].x)return!0}return!1}E.updateRefs=function(S){this.fullLayout=S;var b=this.id.match(M),i="xaxis"+b[1],P="yaxis"+b[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[P]},E.relayoutCallback=function(){var S=this.graphDiv,b=this.xaxis,i=this.yaxis,P=S.layout,x={},k=x[b._name+".range"]=b.range.slice(),_=x[i._name+".range"]=i.range.slice();x[b._name+".autorange"]=b.autorange,x[i._name+".autorange"]=i.autorange,p.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,x);var B=P[b._name];B.range=k,B.autorange=b.autorange;var I=P[i._name];I.range=_,I.autorange=i.autorange,x.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",x)},E.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),i=this.glplotOptions.ticks;g(b,i)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var S=this.graphDiv,b=this.fullLayout.annotations,i=0;i<b.length;i++){var P=b[i];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(S,i)}},E.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(b){S[b].dispose(),delete S[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(S,b,i){var P=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,b),this.updateFx(i.dragmode);var x=i.width,k=i.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(i),_.screenBox=[0,0,x,k];var B={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};c(B,this.xaxis),c(B,this.yaxis);var I=i._size,z=this.xaxis.domain,O=this.yaxis.domain;_.viewBox=[I.l+z[0]*I.w,I.b+O[0]*I.h,x-I.r-(1-z[1])*I.w,k-I.t-(1-O[1])*I.h],this.mouseContainer.style.width=I.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=I.h*(O[1]-O[0])+"px",this.mouseContainer.height=I.h*(O[1]-O[0]),this.mouseContainer.style.left=I.l+z[0]*I.w+"px",this.mouseContainer.style.top=I.t+(1-O[1])*I.h+"px";var F,N;for(N=0;N<2;++N)F=this[f[N]],F._length=_.viewBox[N+2]-_.viewBox[N],u(this.graphDiv,F),F.setScale();s(B),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(i),P.update(_),this.glplot.draw()},E.calcDataBox=function(){var S=this.xaxis,b=this.yaxis,i=S.range,P=b.range,x=S.r2l,k=b.r2l;return[x(i[0]),k(P[0]),x(i[1]),k(P[1])]},E.setRanges=function(S){var b=this.xaxis,i=this.yaxis,P=b.l2r,x=i.l2r;b.range=[P(S[0]),P(S[2])],i.range=[x(S[1]),x(S[3])]},E.updateTraces=function(S,b){var i=Object.keys(this.traces),P,x,k;this.fullData=S;e:for(P=0;P<i.length;P++){var _=i[P],B=this.traces[_];for(x=0;x<S.length;x++)if(k=S[x],k.uid===_&&k.type===B.type)continue e;B.dispose(),delete this.traces[_]}for(P=0;P<S.length;P++){k=S[P];var I=b[P],z=this.traces[k.uid];z?z.update(k,I):(z=k._module.plot(this,k,I),this.traces[k.uid]=z)}this.glplot.objects.sort(function(O,F){return O._trace.index-F._trace.index})},E.updateFx=function(S){T(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},E.emitPointAction=function(S,b){for(var i=S.trace.uid,P=S.pointIndex,x,k=0;k<this.fullData.length;k++)this.fullData[k].uid===i&&(x=this.fullData[k]);var _={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:x.index,pointNumber:P,data:x._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(_,x,P),this.graphDiv.emit(b,{points:[_]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,b=this.camera,i=b.mouseListener,P=this.lastButtonState===1&&i.buttons===0,x=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var k=i.x*S.pixelRatio,_=this.canvas.height-S.pixelRatio*i.y,B;if(b.boxEnabled&&x.dragmode==="zoom"){this.selectBox.enabled=!0;for(var I=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],z=0;z<2;z++)b.boxStart[z]===b.boxEnd[z]&&(I[z]=S.dataBox[z],I[z+2]=S.dataBox[z+2]);S.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=x._size,F=this.xaxis.domain,N=this.yaxis.domain;B=S.pick(k/S.pixelRatio+O.l+F[0]*O.w,_/S.pixelRatio-(O.t+(1-N[1])*O.h));var Q=B&&B.object._trace.handlePick(B);if(Q&&P&&this.emitPointAction(Q,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&x.hovermode&&Q&&(!this.lastPickResult||this.lastPickResult.traceUid!==Q.trace.uid||this.lastPickResult.dataCoord[0]!==Q.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Q.dataCoord[1])){var $=Q;this.lastPickResult={traceUid:Q.trace?Q.trace.uid:null,dataCoord:Q.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),$.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(B.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(B.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(Q,"plotly_hover");var j=this.fullData[$.trace.index]||{},ee=$.pointIndex,oe=n.castHoverinfo(j,x,ee);if(oe&&oe!=="all"){var Y=oe.split("+");Y.indexOf("x")===-1&&($.traceCoord[0]=void 0),Y.indexOf("y")===-1&&($.traceCoord[1]=void 0),Y.indexOf("z")===-1&&($.traceCoord[2]=void 0),Y.indexOf("text")===-1&&($.textLabel=void 0),Y.indexOf("name")===-1&&($.name=void 0)}n.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:n.castHoverOption(j,ee,"bgcolor")||$.color,borderColor:n.castHoverOption(j,ee,"bordercolor"),fontFamily:n.castHoverOption(j,ee,"font.family"),fontSize:n.castHoverOption(j,ee,"font.size"),fontColor:n.castHoverOption(j,ee,"font.color"),nameLength:n.castHoverOption(j,ee,"namelength"),textAlign:n.castHoverOption(j,ee,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),S.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},E.hoverFormatter=function(S,b){if(b!==void 0){var i=this[S];return L.tickText(i,i.c2l(b),"hover").text}}},58547:function(G,U,e){var p=e(30962).overrideAll,L=e(528),n=e(33539),C=e(27659).NG,w=e(71828),v=e(77922),y="gl3d",t="scene";U.name=y,U.attr=t,U.idRoot=t,U.idRegex=U.attrRegex=w.counterRegex("scene"),U.attributes=e(59084),U.layoutAttributes=e(65500),U.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(24682),U.plot=function(l){for(var a=l._fullLayout,s=l._fullData,c=a._subplots[y],u=0;u<c.length;u++){var m=c[u],h=C(s,y,m),T=a[m],f=T.camera,o=T._scene;o||(o=new n({id:m,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:f},a),T._scene=o),o.viewInitial||(o.viewInitial={up:{x:f.up.x,y:f.up.y,z:f.up.z},eye:{x:f.eye.x,y:f.eye.y,z:f.eye.z},center:{x:f.center.x,y:f.center.y,z:f.center.z}}),o.plot(h,a,l.layout)}},U.clean=function(r,l,a,s){for(var c=s._subplots[y]||[],u=0;u<c.length;u++){var m=c[u];!l[m]&&s[m]._scene&&(s[m]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+m).remove())}},U.toSVG=function(r){for(var l=r._fullLayout,a=l._subplots[y],s=l._size,c=0;c<a.length;c++){var u=l[a[c]],m=u.domain,h=u._scene,T=h.toImage("png"),f=l._glimages.append("svg:image");f.attr({xmlns:v.svg,"xlink:href":T,x:s.l+s.w*m.x[0],y:s.t+s.h*(1-m.y[1]),width:s.w*(m.x[1]-m.x[0]),height:s.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var a=l.substr(5);return a==="1"&&(a=""),t+a}},U.updateFx=function(r){for(var l=r._fullLayout,a=l._subplots[y],s=0;s<a.length;s++){var c=l[a[s]]._scene;c.updateFx(l.dragmode,l.hovermode)}}},59084:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(G,U,e){var p=e(7901),L=e(13838),n=e(1426).extendFlat,C=e(30962).overrideAll;G.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:n({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,rangemode:L.rangemode,range:n({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:n({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},3277:function(G,U,e){var p=e(84267).mix,L=e(71828),n=e(44467),C=e(77894),w=e(951),v=e(71453),y=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);G.exports=function(l,a,s){var c,u;function m(f,o){return L.coerce(c,u,C,f,o)}for(var h=0;h<y.length;h++){var T=y[h];c=l[T]||{},u=n.newContainer(a,T),u._id=T[0]+s.scene,u._name=T,w(c,u,m,s),v(c,u,m,{font:s.font,letter:T[0],data:s.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:s.bgColor,calendar:s.calendar},s.fullLayout),m("gridcolor",p(u.color,s.bgColor,t).toRgbString()),m("title.text",T[0]),u.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",u.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(G,U,e){var p=e(78614),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var w=C.prototype;w.merge=function(y,t){for(var r=this,l=0;l<3;++l){var a=t[n[l]];if(!a.visible){r.tickEnable[l]=!1,r.labelEnable[l]=!1,r.lineEnable[l]=!1,r.lineTickEnable[l]=!1,r.gridEnable[l]=!1,r.zeroEnable[l]=!1,r.backgroundEnable[l]=!1;continue}r.labels[l]=y._meta?L.templateString(a.title.text,y._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(r.labelColor[l]=p(a.title.font.color)),a.title.font.family&&(r.labelFont[l]=a.title.font.family),a.title.font.size&&(r.labelSize[l]=a.title.font.size)),"showline"in a&&(r.lineEnable[l]=a.showline),"linecolor"in a&&(r.lineColor[l]=p(a.linecolor)),"linewidth"in a&&(r.lineWidth[l]=a.linewidth),"showgrid"in a&&(r.gridEnable[l]=a.showgrid),"gridcolor"in a&&(r.gridColor[l]=p(a.gridcolor)),"gridwidth"in a&&(r.gridWidth[l]=a.gridwidth),a.type==="log"?r.zeroEnable[l]=!1:"zeroline"in a&&(r.zeroEnable[l]=a.zeroline),"zerolinecolor"in a&&(r.zeroLineColor[l]=p(a.zerolinecolor)),"zerolinewidth"in a&&(r.zeroLineWidth[l]=a.zerolinewidth),"ticks"in a&&a.ticks?r.lineTickEnable[l]=!0:r.lineTickEnable[l]=!1,"ticklen"in a&&(r.lineTickLength[l]=r._defaultLineTickLength[l]=a.ticklen),"tickcolor"in a&&(r.lineTickColor[l]=p(a.tickcolor)),"tickwidth"in a&&(r.lineTickWidth[l]=a.tickwidth),"tickangle"in a&&(r.tickAngle[l]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(r.tickEnable[l]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(r.tickColor[l]=p(a.tickfont.color)),a.tickfont.family&&(r.tickFont[l]=a.tickfont.family),a.tickfont.size&&(r.tickSize[l]=a.tickfont.size)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(r.lineTickMirror[l]=!0,r.lineMirror[l]=!0):a.mirror===!0?(r.lineTickMirror[l]=!1,r.lineMirror[l]=!0):(r.lineTickMirror[l]=!1,r.lineMirror[l]=!1):r.lineMirror[l]=!1,"showbackground"in a&&a.showbackground!==!1?(r.backgroundEnable[l]=!0,r.backgroundColor[l]=p(a.backgroundcolor)):r.backgroundEnable[l]=!1}};function v(y,t){var r=new C;return r.merge(y,t),r}G.exports=v},24682:function(G,U,e){var p=e(71828),L=e(7901),n=e(73972),C=e(49119),w=e(3277),v=e(65500),y=e(27659).NG,t="gl3d";G.exports=function(a,s,c){var u=s._basePlotModules.length>1;function m(h){if(!u){var T=p.validate(a[h],v[h]);if(T)return a[h]}}C(a,s,c,{type:t,attributes:v,handleDefaults:r,fullLayout:s,font:s.font,fullData:c,getDfltFromLayout:m,autotypenumbersDflt:s.autotypenumbers,paper_bgcolor:s.paper_bgcolor,calendar:s.calendar})};function r(l,a,s,c){for(var u=s("bgcolor"),m=L.combine(u,c.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)s("camera."+h[T]+".x"),s("camera."+h[T]+".y"),s("camera."+h[T]+".z");s("camera.projection.type");var f=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),o=f?"manual":"auto",d=s("aspectmode",o);f||(l.aspectratio=a.aspectratio={x:1,y:1,z:1},d==="manual"&&(a.aspectmode="auto"),l.aspectmode=a.aspectmode);var M=y(c.fullData,t,c.id);w(l,a,{font:c.font,scene:c.id,data:M,bgColor:m,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(l,a,c);var A=c.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",l.camera&&l.camera.up){var E=l.camera.up.x,g=l.camera.up.y,S=l.camera.up.z;S!==0&&(!E||!g||!S||S/Math.sqrt(E*E+g*g+S*S)>.999)&&(A="turntable")}else A="turntable";s("dragmode",A),s("hovermode",c.getDfltFromLayout("hovermode"))}},65500:function(G,U,e){var p=e(77894),L=e(27670).Y,n=e(1426).extendFlat,C=e(71828).counterRegex;function w(v,y,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:y,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(w(0,0,1),{}),center:n(w(0,0,0),{}),eye:n(w(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(G,U,e){var p=e(78614),L=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=n.prototype;C.merge=function(v){for(var y=0;y<3;++y){var t=v[L[y]];if(!t.visible){this.enabled[y]=!1,this.drawSides[y]=!1;continue}this.enabled[y]=t.showspikes,this.colors[y]=p(t.spikecolor),this.drawSides[y]=t.spikesides,this.lineWidth[y]=t.spikethickness}};function w(v){var y=new n;return y.merge(v),y}G.exports=w},96085:function(G,U,e){G.exports=w;var p=e(89298),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(v){for(var y=new Array(3),t=0;t<3;++t){for(var r=v[t],l=new Array(r.length),a=0;a<r.length;++a)l[a]=r[a].x;y[t]=l}return y}function w(v){for(var y=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,l=[[],[],[]],a=0;a<3;++a){var s=r[n[a]];if(s._length=(t[a].hi-t[a].lo)*t[a].pixelsPerDataUnit/v.dataScale[a],Math.abs(s._length)===1/0||isNaN(s._length))l[a]=[];else{s._input_range=s.range.slice(),s.range[0]=t[a].lo/v.dataScale[a],s.range[1]=t[a].hi/v.dataScale[a],s._m=1/(v.dataScale[a]*t[a].pixelsPerDataUnit),s.range[0]===s.range[1]&&(s.range[0]-=1,s.range[1]+=1);var c=s.tickmode;if(s.tickmode==="auto"){s.tickmode="linear";var u=s.nticks||L.constrain(s._length/40,4,9);p.autoTicks(s,Math.abs(s.range[1]-s.range[0])/u)}for(var m=p.calcTicks(s,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*v.dataScale[a],s.type==="date"&&(m[h].text=m[h].text.replace(/\<br\>/g," "));l[a]=m,s.tickmode=c}}y.ticks=l;for(var a=0;a<3;++a){.5*(v.glplot.bounds[0][a]+v.glplot.bounds[1][a]);for(var h=0;h<2;++h)y.bounds[h][a]=v.glplot.bounds[h][a]}v.contourLevels=C(l)}},63538:function(G){function U(p,L){var n=[0,0,0,0],C,w;for(C=0;C<4;++C)for(w=0;w<4;++w)n[w]+=p[4*C+w]*L[C];return n}function e(p,L){var n=U(p.projection,U(p.view,U(p.model,[L[0],L[1],L[2],1])));return n}G.exports=e},33539:function(G,U,e){var p=e(9330).gl_plot3d,L=p.createCamera,n=p.createScene,C=e(40372),w=e(38520),v=e(73972),y=e(71828),t=y.preserveDrawingBuffer(),r=e(89298),l=e(30211),a=e(78614),s=e(58617),c=e(63538),u=e(30422),m=e(13133),h=e(96085),T,f;function o(x,k){var _=document.createElement("div"),B=x.container;this.graphDiv=x.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",_.appendChild(I),this.svgContainer=I,_.id=x.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",B.appendChild(_),this.fullLayout=k,this.id=x.id||"scene",this.fullSceneLayout=k[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(k,k[this.id]),this.spikeOptions=m(k[this.id]),this.container=_,this.staticMode=!!x.staticPlot,this.pixelRatio=this.pixelRatio||x.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var d=o.prototype;d.prepareOptions=function(){var x=this,k={canvas:x.canvas,gl:x.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:x.container,axes:x.axesOptions,spikes:x.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:x.camera,pixelRatio:x.pixelRatio};if(x.staticMode){if(!f&&(T=document.createElement("canvas"),f=C({canvas:T,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!f))throw new Error("error creating static canvas/context for image server");k.gl=f,k.canvas=T}return k};var M=!0;d.tryCreatePlot=function(){var x=this,k=x.prepareOptions(),_=!0;try{x.glplot=n(k)}catch{if(x.staticMode||!M||t)_=!1;else{y.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=k.glOptions.preserveDrawingBuffer=!0,x.glplot=n(k)}catch{t=k.glOptions.preserveDrawingBuffer=!1,_=!1}}}return M=!1,_},d.initializeGLCamera=function(){var x=this,k=x.fullSceneLayout.camera,_=k.projection.type==="orthographic";x.camera=L(x.container,{center:[k.center.x,k.center.y,k.center.z],eye:[k.eye.x,k.eye.y,k.eye.z],up:[k.up.x,k.up.y,k.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},d.initializeGLPlot=function(){var x=this;x.initializeGLCamera();var k=x.tryCreatePlot();if(!k)return s(x);x.traces={},x.make4thDimension();var _=x.graphDiv,B=_.layout,I=function(){var O={};return x.isCameraChanged(B)&&(O[x.id+".camera"]=x.getCamera()),x.isAspectChanged(B)&&(O[x.id+".aspectratio"]=x.glplot.getAspectratio(),B[x.id].aspectmode!=="manual"&&(x.fullSceneLayout.aspectmode=B[x.id].aspectmode=O[x.id+".aspectmode"]="manual")),O},z=function(O){if(O.fullSceneLayout.dragmode!==!1){var F=I();O.saveLayout(B),O.graphDiv.emit("plotly_relayout",F)}};return x.glplot.canvas&&(x.glplot.canvas.addEventListener("mouseup",function(){z(x)}),x.glplot.canvas.addEventListener("wheel",function(O){if(_._context._scrollZoom.gl3d){if(x.camera._ortho){var F=O.deltaX>O.deltaY?1.1:.9090909090909091,N=x.glplot.getAspectratio();x.glplot.setAspectratio({x:F*N.x,y:F*N.y,z:F*N.z})}z(x)}},w?{passive:!1}:!1),x.glplot.canvas.addEventListener("mousemove",function(){if(x.fullSceneLayout.dragmode!==!1&&x.camera.mouseListener.buttons!==0){var O=I();x.graphDiv.emit("plotly_relayouting",O)}}),x.staticMode||x.glplot.canvas.addEventListener("webglcontextlost",function(O){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:O,layer:x.id})},!1)),x.glplot.oncontextloss=function(){x.recoverContext()},x.glplot.onrender=function(){x.render()},!0},d.render=function(){var x=this,k=x.graphDiv,_,B=x.svgContainer,I=x.container.getBoundingClientRect();k._fullLayout._calcInverseTransform(k);var z=k._fullLayout._invScaleX,O=k._fullLayout._invScaleY,F=I.width*z,N=I.height*O;B.setAttributeNS(null,"viewBox","0 0 "+F+" "+N),B.setAttributeNS(null,"width",F),B.setAttributeNS(null,"height",N),h(x),x.glplot.axes.update(x.axesOptions);for(var Q=Object.keys(x.traces),$=null,j=x.glplot.selection,ee=0;ee<Q.length;++ee)_=x.traces[Q[ee]],_.data.hoverinfo!=="skip"&&_.handlePick(j)&&($=_),_.setContourLevels&&_.setContourLevels();function oe(Me,xe,Ie){var _e=x.fullSceneLayout[Me+"axis"];return _e.type!=="log"&&(xe=_e.d2l(xe)),r.hoverLabelText(_e,xe,Ie)}if($!==null){var Y=c(x.glplot.cameraParams,j.dataCoordinate);_=$.data;var V=k._fullData[_.index],W=j.index,X={xLabel:oe("x",j.traceCoordinate[0],_.xhoverformat),yLabel:oe("y",j.traceCoordinate[1],_.yhoverformat),zLabel:oe("z",j.traceCoordinate[2],_.zhoverformat)},re=l.castHoverinfo(V,x.fullLayout,W),ie=(re||"").split("+"),K=re&&re==="all";!V.hovertemplate&&!K&&(ie.indexOf("x")===-1&&(X.xLabel=void 0),ie.indexOf("y")===-1&&(X.yLabel=void 0),ie.indexOf("z")===-1&&(X.zLabel=void 0),ie.indexOf("text")===-1&&(j.textLabel=void 0),ie.indexOf("name")===-1&&($.name=void 0));var q,le=[];_.type==="cone"||_.type==="streamtube"?(X.uLabel=oe("x",j.traceCoordinate[3],_.uhoverformat),(K||ie.indexOf("u")!==-1)&&le.push("u: "+X.uLabel),X.vLabel=oe("y",j.traceCoordinate[4],_.vhoverformat),(K||ie.indexOf("v")!==-1)&&le.push("v: "+X.vLabel),X.wLabel=oe("z",j.traceCoordinate[5],_.whoverformat),(K||ie.indexOf("w")!==-1)&&le.push("w: "+X.wLabel),X.normLabel=j.traceCoordinate[6].toPrecision(3),(K||ie.indexOf("norm")!==-1)&&le.push("norm: "+X.normLabel),_.type==="streamtube"&&(X.divergenceLabel=j.traceCoordinate[7].toPrecision(3),(K||ie.indexOf("divergence")!==-1)&&le.push("divergence: "+X.divergenceLabel)),j.textLabel&&le.push(j.textLabel),q=le.join("<br>")):_.type==="isosurface"||_.type==="volume"?(X.valueLabel=r.hoverLabelText(x._mockAxis,x._mockAxis.d2l(j.traceCoordinate[3]),_.valuehoverformat),le.push("value: "+X.valueLabel),j.textLabel&&le.push(j.textLabel),q=le.join("<br>")):q=j.textLabel;var ae={x:j.traceCoordinate[0],y:j.traceCoordinate[1],z:j.traceCoordinate[2],data:V._input,fullData:V,curveNumber:V.index,pointNumber:W};l.appendArrayPointValue(ae,V,W),_._module.eventData&&(ae=V._module.eventData(ae,j,V,{},W));var he={points:[ae]};if(x.fullSceneLayout.hovermode){var me=[];l.loneHover({trace:V,x:(.5+.5*Y[0]/Y[3])*F,y:(.5-.5*Y[1]/Y[3])*N,xLabel:X.xLabel,yLabel:X.yLabel,zLabel:X.zLabel,text:q,name:$.name,color:l.castHoverOption(V,W,"bgcolor")||$.color,borderColor:l.castHoverOption(V,W,"bordercolor"),fontFamily:l.castHoverOption(V,W,"font.family"),fontSize:l.castHoverOption(V,W,"font.size"),fontColor:l.castHoverOption(V,W,"font.color"),nameLength:l.castHoverOption(V,W,"namelength"),textAlign:l.castHoverOption(V,W,"align"),hovertemplate:y.castOption(V,W,"hovertemplate"),hovertemplateLabels:y.extendFlat({},ae,X),eventData:[ae]},{container:B,gd:k,inOut_bbox:me}),ae.bbox=me[0]}j.buttons&&j.distance<5?k.emit("plotly_click",he):k.emit("plotly_hover",he),this.oldEventData=he}else l.loneUnhover(B),this.oldEventData&&k.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;x.drawAnnotations(x)},d.recoverContext=function(){var x=this;x.glplot.dispose();var k=function(){if(x.glplot.gl.isContextLost()){requestAnimationFrame(k);return}if(!x.initializeGLPlot()){y.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}x.plot.apply(x,x.plotArgs)};requestAnimationFrame(k)};var A=["xaxis","yaxis","zaxis"];function E(x,k,_){for(var B=x.fullSceneLayout,I=0;I<3;I++){var z=A[I],O=z.charAt(0),F=B[z],N=k[O],Q=k[O+"calendar"],$=k["_"+O+"length"];if(!y.isArrayOrTypedArray(N))_[0][I]=Math.min(_[0][I],0),_[1][I]=Math.max(_[1][I],$-1);else for(var j,ee=0;ee<($||N.length);ee++)if(y.isArrayOrTypedArray(N[ee]))for(var oe=0;oe<N[ee].length;++oe)j=F.d2l(N[ee][oe],0,Q),!isNaN(j)&&isFinite(j)&&(_[0][I]=Math.min(_[0][I],j),_[1][I]=Math.max(_[1][I],j));else j=F.d2l(N[ee],0,Q),!isNaN(j)&&isFinite(j)&&(_[0][I]=Math.min(_[0][I],j),_[1][I]=Math.max(_[1][I],j))}}function g(x,k){for(var _=x.fullSceneLayout,B=_.annotations||[],I=0;I<3;I++)for(var z=A[I],O=z.charAt(0),F=_[z],N=0;N<B.length;N++){var Q=B[N];if(Q.visible){var $=F.r2l(Q[O]);!isNaN($)&&isFinite($)&&(k[0][I]=Math.min(k[0][I],$),k[1][I]=Math.max(k[1][I],$))}}}d.plot=function(x,k,_){var B=this;if(B.plotArgs=[x,k,_],!B.glplot.contextLost){var I,z,O,F,N,Q,$=k[B.id],j=_[B.id];B.fullLayout=k,B.fullSceneLayout=$,B.axesOptions.merge(k,$),B.spikeOptions.merge($),B.setViewport($),B.updateFx($.dragmode,$.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(a($.bgcolor)),B.setConvert(N),x?Array.isArray(x)||(x=[x]):x=[];var ee=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(O=0;O<x.length;++O)I=x[O],!(I.visible!==!0||I._length===0)&&E(this,I,ee);g(this,ee);var oe=[1,1,1];for(F=0;F<3;++F)ee[1][F]===ee[0][F]?oe[F]=1:oe[F]=1/(ee[1][F]-ee[0][F]);for(B.dataScale=oe,B.convertAnnotations(this),O=0;O<x.length;++O)I=x[O],!(I.visible!==!0||I._length===0)&&(z=B.traces[I.uid],z?z.data.type===I.type?z.update(I):(z.dispose(),z=I._module.plot(this,I),B.traces[I.uid]=z):(z=I._module.plot(this,I),B.traces[I.uid]=z),z.name=I.name);var Y=Object.keys(B.traces);e:for(O=0;O<Y.length;++O){for(F=0;F<x.length;++F)if(x[F].uid===Y[O]&&x[F].visible===!0&&x[F]._length!==0)continue e;z=B.traces[Y[O]],z.dispose(),delete B.traces[Y[O]]}B.glplot.objects.sort(function(He,ut){return He._trace.data.index-ut._trace.data.index});var V=[[0,0,0],[0,0,0]],W={};for(O=0;O<3;++O){if(N=$[A[O]],Q=N.type,Q in W?(W[Q].acc*=oe[O],W[Q].count+=1):W[Q]={acc:oe[O],count:1},N.autorange){V[0][O]=1/0,V[1][O]=-1/0;var X=B.glplot.objects,re=B.fullSceneLayout.annotations||[],ie=N._name.charAt(0);for(F=0;F<X.length;F++){var K=X[F],q=K.bounds,le=K._trace.data._pad||0;K.constructor.name==="ErrorBars"&&N._lowerLogErrorBound?V[0][O]=Math.min(V[0][O],N._lowerLogErrorBound):V[0][O]=Math.min(V[0][O],q[0][O]/oe[O]-le),V[1][O]=Math.max(V[1][O],q[1][O]/oe[O]+le)}for(F=0;F<re.length;F++){var ae=re[F];if(ae.visible){var he=N.r2l(ae[ie]);V[0][O]=Math.min(V[0][O],he),V[1][O]=Math.max(V[1][O],he)}}if("rangemode"in N&&N.rangemode==="tozero"&&(V[0][O]=Math.min(V[0][O],0),V[1][O]=Math.max(V[1][O],0)),V[0][O]>V[1][O])V[0][O]=-1,V[1][O]=1;else{var me=V[1][O]-V[0][O];V[0][O]-=me/32,V[1][O]+=me/32}if(N.autorange==="reversed"){var Me=V[0][O];V[0][O]=V[1][O],V[1][O]=Me}}else{var xe=N.range;V[0][O]=N.r2l(xe[0]),V[1][O]=N.r2l(xe[1])}V[0][O]===V[1][O]&&(V[0][O]-=1,V[1][O]+=1),B.glplot.setBounds(O,{min:V[0][O]*oe[O],max:V[1][O]*oe[O]})}var Ie,_e=$.aspectmode;if(_e==="cube")Ie=[1,1,1];else if(_e==="manual"){var Te=$.aspectratio;Ie=[Te.x,Te.y,Te.z]}else if(_e==="auto"||_e==="data"){var ye=[1,1,1];for(O=0;O<3;++O){N=$[A[O]],Q=N.type;var Ae=W[Q];ye[O]=Math.pow(Ae.acc,1/Ae.count)/oe[O]}_e==="data"||Math.max.apply(null,ye)/Math.min.apply(null,ye)<=4?Ie=ye:Ie=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");$.aspectratio.x=j.aspectratio.x=Ie[0],$.aspectratio.y=j.aspectratio.y=Ie[1],$.aspectratio.z=j.aspectratio.z=Ie[2],B.glplot.setAspectratio($.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:$.aspectratio.x,y:$.aspectratio.y,z:$.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=$.aspectmode);var Be=$.domain||null,Ue=k._size||null;if(Be&&Ue){var De=B.container.style;De.position="absolute",De.left=Ue.l+Be.x[0]*Ue.w+"px",De.top=Ue.t+(1-Be.y[1])*Ue.h+"px",De.width=Ue.w*(Be.x[1]-Be.x[0])+"px",De.height=Ue.h*(Be.y[1]-Be.y[0])+"px"}B.glplot.redraw()}},d.destroy=function(){var x=this;x.glplot&&(x.camera.mouseListener.enabled=!1,x.container.removeEventListener("wheel",x.camera.wheelListener),x.camera=null,x.glplot.dispose(),x.container.parentNode.removeChild(x.container),x.glplot=null)};function S(x){return[[x.eye.x,x.eye.y,x.eye.z],[x.center.x,x.center.y,x.center.z],[x.up.x,x.up.y,x.up.z]]}function b(x){return{up:{x:x.up[0],y:x.up[1],z:x.up[2]},center:{x:x.center[0],y:x.center[1],z:x.center[2]},eye:{x:x.eye[0],y:x.eye[1],z:x.eye[2]},projection:{type:x._ortho===!0?"orthographic":"perspective"}}}d.getCamera=function(){var x=this;return x.camera.view.recalcMatrix(x.camera.view.lastT()),b(x.camera)},d.setViewport=function(x){var k=this,_=x.camera;k.camera.lookAt.apply(this,S(_)),k.glplot.setAspectratio(x.aspectratio);var B=_.projection.type==="orthographic",I=k.camera._ortho;B!==I&&(k.glplot.redraw(),k.glplot.clearRGBA(),k.glplot.dispose(),k.initializeGLPlot())},d.isCameraChanged=function(x){var k=this,_=k.getCamera(),B=y.nestedProperty(x,k.id+".camera"),I=B.get();function z(Q,$,j,ee){var oe=["up","center","eye"],Y=["x","y","z"];return $[oe[j]]&&Q[oe[j]][Y[ee]]===$[oe[j]][Y[ee]]}var O=!1;if(I===void 0)O=!0;else{for(var F=0;F<3;F++)for(var N=0;N<3;N++)if(!z(_,I,F,N)){O=!0;break}(!I.projection||_.projection&&_.projection.type!==I.projection.type)&&(O=!0)}return O},d.isAspectChanged=function(x){var k=this,_=k.glplot.getAspectratio(),B=y.nestedProperty(x,k.id+".aspectratio"),I=B.get();return I===void 0||I.x!==_.x||I.y!==_.y||I.z!==_.z},d.saveLayout=function(x){var k=this,_=k.fullLayout,B,I,z,O,F,N,Q=k.isCameraChanged(x),$=k.isAspectChanged(x),j=Q||$;if(j){var ee={};if(Q&&(B=k.getCamera(),I=y.nestedProperty(x,k.id+".camera"),z=I.get(),ee[k.id+".camera"]=z),$&&(O=k.glplot.getAspectratio(),F=y.nestedProperty(x,k.id+".aspectratio"),N=F.get(),ee[k.id+".aspectratio"]=N),v.call("_storeDirectGUIEdit",x,_._preGUI,ee),Q){I.set(B);var oe=y.nestedProperty(_,k.id+".camera");oe.set(B)}if($){F.set(O);var Y=y.nestedProperty(_,k.id+".aspectratio");Y.set(O),k.glplot.redraw()}}return j},d.updateFx=function(x,k){var _=this,B=_.camera;if(B)if(x==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(x==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var I=_.graphDiv,z=I._fullLayout,O=_.fullSceneLayout.camera,F=O.up.x,N=O.up.y,Q=O.up.z;if(Q/Math.sqrt(F*F+N*N+Q*Q)<.999){var $=_.id+".camera.up",j={x:0,y:0,z:1},ee={};ee[$]=j;var oe=I.layout;v.call("_storeDirectGUIEdit",oe,z._preGUI,ee),O.up=j,y.nestedProperty(oe,$).set(j)}}else B.keyBindingMode=x;_.fullSceneLayout.hovermode=k};function i(x,k,_){for(var B=0,I=_-1;B<I;++B,--I)for(var z=0;z<k;++z)for(var O=0;O<4;++O){var F=4*(k*B+z)+O,N=4*(k*I+z)+O,Q=x[F];x[F]=x[N],x[N]=Q}}function P(x,k,_){for(var B=0;B<_;++B)for(var I=0;I<k;++I){var z=4*(k*B+I),O=x[z+3];if(O>0)for(var F=255/O,N=0;N<3;++N)x[z+N]=Math.min(F*x[z+N],255)}}d.toImage=function(x){var k=this;x||(x="png"),k.staticMode&&k.container.appendChild(T),k.glplot.redraw();var _=k.glplot.gl,B=_.drawingBufferWidth,I=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var z=new Uint8Array(B*I*4);_.readPixels(0,0,B,I,_.RGBA,_.UNSIGNED_BYTE,z),i(z,B,I),P(z,B,I);var O=document.createElement("canvas");O.width=B,O.height=I;var F=O.getContext("2d",{willReadFrequently:!0}),N=F.createImageData(B,I);N.data.set(z),F.putImageData(N,0,0);var Q;switch(x){case"jpeg":Q=O.toDataURL("image/jpeg");break;case"webp":Q=O.toDataURL("image/webp");break;default:Q=O.toDataURL("image/png")}return k.staticMode&&k.container.removeChild(T),Q},d.setConvert=function(){for(var x=this,k=0;k<3;k++){var _=x.fullSceneLayout[A[k]];r.setConvert(_,x.fullLayout),_.setScale=y.noop}},d.make4thDimension=function(){var x=this,k=x.graphDiv,_=k._fullLayout;x._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(x._mockAxis,_)},G.exports=o},90060:function(G){G.exports=function(e,p,L,n){n=n||e.length;for(var C=new Array(n),w=0;w<n;w++)C[w]=[e[w],p[w],L[w]];return C}},10820:function(G,U,e){var p=e(41940),L=e(85594),n=e(22399),C=e(29241),w=e(53777),v=e(35025),y=e(1426).extendFlat,t=p({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=n.defaultLine,G.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:y(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:w.newselection,activeselection:w.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:y({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},77734:function(G,U,e){var p=e(78607),L="1.10.1",n='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=['© <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),w=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:w,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:w,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},t=p(y);G.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(G,U,e){var p=e(71828);G.exports=function(n,C){var w=n.split(" "),v=w[0],y=w[1],t=p.isArrayOrTypedArray(C)?p.mean(C):C,r=.5+t/100,l=1.5+t/100,a=["",""],s=[0,0];switch(v){case"top":a[0]="top",s[1]=-l;break;case"bottom":a[0]="bottom",s[1]=l;break}switch(y){case"left":a[1]="right",s[0]=-r;break;case"right":a[1]="left",s[0]=r;break}var c;return a[0]&&a[1]?c=a.join("-"):a[0]?c=a[0]:a[1]?c=a[1]:c="center",{anchor:c,offset:s}}},50101:function(G,U,e){var p=e(44517),L=e(71828),n=L.strTranslate,C=L.strScale,w=e(27659).AU,v=e(77922),y=e(39898),t=e(91424),r=e(63893),l=e(10481),a="mapbox",s=U.constants=e(77734);U.name=a,U.attr="subplot",U.idRoot=a,U.idRegex=U.attrRegex=L.counterRegex(a),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(23585),U.supplyLayoutDefaults=e(77882),U.plot=function(h){var T=h._fullLayout,f=h.calcdata,o=T._subplots[a];if(p.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var d=c(h,o);p.accessToken=d;for(var M=0;M<o.length;M++){var A=o[M],E=w(f,a,A),g=T[A],S=g._subplot;S||(S=new l(h,A),T[A]._subplot=S),S.viewInitial||(S.viewInitial={center:L.extendFlat({},g.center),zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),S.plot(E,T,h._promises)}},U.clean=function(m,h,T,f){for(var o=f._subplots[a]||[],d=0;d<o.length;d++){var M=o[d];!h[M]&&f[M]._subplot&&f[M]._subplot.destroy()}},U.toSVG=function(m){for(var h=m._fullLayout,T=h._subplots[a],f=h._size,o=0;o<T.length;o++){var d=h[T[o]],M=d.domain,A=d._subplot,E=A.toImage("png"),g=h._glimages.append("svg:image");g.attr({xmlns:v.svg,"xlink:href":E,x:f.l+f.w*M.x[0],y:f.t+f.h*(1-M.y[1]),width:f.w*(M.x[1]-M.x[0]),height:f.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var S=y.select(d._subplot.div),b=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var i=h._glimages.append("g");i.attr("transform",n(f.l+f.w*M.x[0]+10,f.t+f.h*(1-M.y[0])-31)),i.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var P=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=h._glimages.append("g"),k=x.append("text");k.text(P).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":P});var _=t.bBox(k.node()),B=f.w*(M.x[1]-M.x[0]);if(_.width>B/2){var I=P.split("|").join("<br>");k.text(I).attr("data-unformatted",I).call(r.convertToTspans,m),_=t.bBox(k.node())}k.attr("transform",n(-3,-_.height+8)),x.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;_.width+6>B&&(z=B/(_.width+6));var O=[f.l+f.w*M.x[1],f.t+f.h*(1-M.y[0])];x.attr("transform",n(O[0],O[1])+C(z))}};function c(m,h){var T=m._fullLayout,f=m._context;if(f.mapboxAccessToken==="")return"";for(var o=[],d=[],M=!1,A=!1,E=0;E<h.length;E++){var g=T[h[E]],S=g.accesstoken;u(g.style)&&(S?L.pushUnique(o,S):(u(g._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),M=!0),A=!0)),S&&L.pushUnique(d,S)}if(A){var b=M?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw L.error(b),new Error(b)}return o.length?(o.length>1&&L.warn(s.multipleTokensErrorMsg),o[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(m){return typeof m=="string"&&(s.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0)}U.updateFx=function(m){for(var h=m._fullLayout,T=h._subplots[a],f=0;f<T.length;f++){var o=h[T[f]]._subplot;o.updateFx(h)}}},67911:function(G,U,e){var p=e(71828),L=e(63893).sanitizeHTML,n=e(13056),C=e(77734);function w(l,a){this.subplot=l,this.uid=l.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=w.prototype;v.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=y(a)},v.needsNewImage=function(l){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&l.sourcetype==="image"&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},v.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},v.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(l){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());s!==null&&this.subplot.map.moveLayer(this.idLayer,s)},v.updateSource=function(l){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,!!y(l)){var s=r(l);a.addSource(this.idSource,s)}},v.findFollowingMapboxLayerId=function(l){if(l==="traces")for(var a=this.subplot.getMapLayers(),s=0;s<a.length;s++){var c=a[s].id;if(typeof c=="string"&&c.indexOf(C.traceLayerPrefix)===0){l=c;break}}return l},v.updateLayer=function(l){var a=this.subplot,s=t(l),c=this.lookupBelow(),u=this.findFollowingMapboxLayerId(c);this.removeLayer(),y(l)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:s.layout,paint:s.paint},u),this.layerType=l.type,this.below=c},v.updateStyle=function(l){if(y(l)){var a=t(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},v.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)};function y(l){if(!l.visible)return!1;var a=l.source;if(Array.isArray(a)&&a.length>0){for(var s=0;s<a.length;s++)if(typeof a[s]!="string"||a[s].length===0)return!1;return!0}return p.isPlainObject(a)||typeof a=="string"&&a.length>0}function t(l){var a={},s={};switch(l.type){case"circle":p.extendFlat(s,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":p.extendFlat(s,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":p.extendFlat(s,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var c=l.symbol,u=n(c.textposition,c.iconsize);p.extendFlat(a,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":c.placement}),p.extendFlat(s,{"icon-color":l.color,"text-color":c.textfont.color,"text-opacity":l.opacity});break;case"raster":p.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":l.opacity});break}return{layout:a,paint:s}}function r(l){var a=l.sourcetype,s=l.source,c={type:a},u;return a==="geojson"?u="data":a==="vector"?u=typeof s=="string"?"url":"tiles":a==="raster"?(u="tiles",c.tileSize=256):a==="image"&&(u="url",c.coordinates=l.coordinates),c[u]=s,l.sourceattribution&&(c.attribution=L(l.sourceattribution)),c}G.exports=function(a,s,c){var u=new w(a,s);return u.update(c),u}},23585:function(G,U,e){var p=e(71828),L=e(7901).defaultLine,n=e(27670).Y,C=e(41940),w=e(82196).textposition,v=e(30962).overrideAll,y=e(44467).templatedArray,t=e(77734),r=C({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var l=G.exports=v({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:y("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:p.extendFlat({},w,{arrayOk:!1})}})},"plot","from-root");l.uirevision={valType:"any",editType:"none"}},77882:function(G,U,e){var p=e(71828),L=e(49119),n=e(85501),C=e(23585);G.exports=function(t,r,l){L(t,r,l,{type:"mapbox",attributes:C,handleDefaults:w,partition:"y",accessToken:r._mapboxAccessToken})};function w(y,t,r,l){r("accesstoken",l.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var a=r("bounds.west"),s=r("bounds.east"),c=r("bounds.south"),u=r("bounds.north");(a===void 0||s===void 0||c===void 0||u===void 0)&&delete t.bounds,n(y,t,{name:"layers",handleItemDefaults:v}),t._input=y}function v(y,t){function r(m,h){return p.coerce(y,t,C.layers,m,h)}var l=r("visible");if(l){var a=r("sourcetype"),s=a==="raster"||a==="image";r("source"),r("sourceattribution"),a==="vector"&&r("sourcelayer"),a==="image"&&r("coordinates");var c;s&&(c="raster");var u=r("type",c);s&&u!=="raster"&&(u=t.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),p.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(G,U,e){var p=e(44517),L=e(71828),n=e(41327),C=e(73972),w=e(89298),v=e(28569),y=e(30211),t=e(64505),r=t.drawMode,l=t.selectMode,a=e(47322).prepSelect,s=e(47322).clearOutline,c=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,m=e(77734),h=e(67911);function T(E,g){this.id=g,this.gd=E;var S=E._fullLayout,b=E._context;this.container=S._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var f=T.prototype;f.plot=function(E,g,S){var b=this,i=g[b.id];b.map&&i.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var P;b.map?P=new Promise(function(x,k){b.updateMap(E,g,x,k)}):P=new Promise(function(x,k){b.createMap(E,g,x,k)}),S.push(P)},f.createMap=function(E,g,S,b){var i=this,P=g[i.id],x=i.styleObj=d(P.style);i.accessToken=P.accesstoken;var k=P.bounds,_=k?[[k.west,k.south],[k.east,k.north]]:null,B=i.map=new p.Map({container:i.div,style:x.style,center:A(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:_,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",i.rejectOnError(b),i.isStatic||i.initFx(E,g);var I=[];I.push(new Promise(function(z){B.once("load",z)})),I=I.concat(n.fetchTraceGeoData(E)),Promise.all(I).then(function(){i.fillBelowLookup(E,g),i.updateData(E),i.updateLayout(g),i.resolveOnRender(S)}).catch(b)},f.updateMap=function(E,g,S,b){var i=this,P=i.map,x=g[this.id];i.rejectOnError(b);var k=[],_=d(x.style);JSON.stringify(i.styleObj)!==JSON.stringify(_)&&(i.styleObj=_,P.setStyle(_.style),i.traceHash={},k.push(new Promise(function(B){P.once("styledata",B)}))),k=k.concat(n.fetchTraceGeoData(E)),Promise.all(k).then(function(){i.fillBelowLookup(E,g),i.updateData(E),i.updateLayout(g),i.resolveOnRender(S)}).catch(b)},f.fillBelowLookup=function(E,g){var S=g[this.id],b=S.layers,i,P,x=this.belowLookup={},k=!1;for(i=0;i<E.length;i++){var _=E[i][0].trace,B=_._module;typeof _.below=="string"?P=_.below:B.getBelow&&(P=B.getBelow(_,this)),P===""&&(k=!0),x["trace-"+_.uid]=P||""}for(i=0;i<b.length;i++){var I=b[i];typeof I.below=="string"?P=I.below:k?P="traces":P="",x["layout-"+i]=P}var z={},O,F;for(O in x)P=x[O],z[P]?z[P].push(O):z[P]=[O];for(P in z){var N=z[P];if(N.length>1)for(i=0;i<N.length;i++)O=N[i],O.indexOf("trace-")===0?(F=O.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):O.indexOf("layout-")===0&&(F=O.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};f.updateData=function(E){var g=this.traceHash,S,b,i,P,x=E.slice().sort(function(z,O){return o[z[0].trace.type]-o[O[0].trace.type]});for(i=0;i<x.length;i++){var k=x[i];b=k[0].trace,S=g[b.uid];var _=!1;S&&(S.type===b.type?(S.update(k),_=!0):S.dispose()),!_&&b._module&&(g[b.uid]=b._module.plot(this,k))}var B=Object.keys(g);e:for(i=0;i<B.length;i++){var I=B[i];for(P=0;P<E.length;P++)if(b=E[P][0].trace,I===b.uid)continue e;S=g[I],S.dispose(),delete g[I]}},f.updateLayout=function(E){var g=this.map,S=E[this.id];!this.dragging&&!this.wheeling&&(g.setCenter(A(S.center)),g.setZoom(S.zoom),g.setBearing(S.bearing),g.setPitch(S.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?g.scrollZoom.enable():g.scrollZoom.disable()},f.resolveOnRender=function(E){var g=this.map;g.on("render",function S(){g.loaded()&&(g.off("render",S),setTimeout(E,10))})},f.rejectOnError=function(E){var g=this.map;function S(){E(new Error(m.mapOnErrorMsg))}g.once("error",S),g.once("style.error",S),g.once("source.error",S),g.once("tile.error",S),g.once("layer.error",S)},f.createFramework=function(E){var g=this,S=g.div=document.createElement("div");S.id=g.uid,S.style.position="absolute",g.container.appendChild(S),g.xaxis={_id:"x",c2p:function(b){return g.project(b).x}},g.yaxis={_id:"y",c2p:function(b){return g.project(b).y}},g.updateFramework(E),g.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},w.setConvert(g.mockAxis,E)},f.initFx=function(E,g){var S=this,b=S.gd,i=S.map;i.on("moveend",function(k){if(S.map){var _=b._fullLayout;if(k.originalEvent||S.wheeling){var B=_[S.id];C.call("_storeDirectGUIEdit",b.layout,_._preGUI,S.getViewEdits(B));var I=S.getView();B._input.center=B.center=I.center,B._input.zoom=B.zoom=I.zoom,B._input.bearing=B.bearing=I.bearing,B._input.pitch=B.pitch=I.pitch,b.emit("plotly_relayout",S.getViewEditsWithDerived(I))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),_._rehover&&_._rehover()}}),i.on("wheel",function(){S.wheeling=!0}),i.on("mousemove",function(k){var _=S.div.getBoundingClientRect(),B=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return _},S.xaxis.p2c=function(){return i.unproject(B).lng},S.yaxis.p2c=function(){return i.unproject(B).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===S.id&&b._fullLayout[S.id]&&y.hover(b,k,S.id)},y.hover(b,k,S.id),b._fullLayout._hoversubplot=S.id});function P(){y.loneUnhover(g._hoverlayer)}i.on("dragstart",function(){S.dragging=!0,P()}),i.on("zoomstart",P),i.on("mouseout",function(){b._fullLayout._hoversubplot=null});function x(){var k=S.getView();b.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}i.on("drag",x),i.on("zoom",x),i.on("dblclick",function(){var k=b._fullLayout[S.id];C.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,S.getViewEdits(k));var _=S.viewInitial;i.setCenter(A(_.center)),i.setZoom(_.zoom),i.setBearing(_.bearing),i.setPitch(_.pitch);var B=S.getView();k._input.center=k.center=B.center,k._input.zoom=k.zoom=B.zoom,k._input.bearing=k.bearing=B.bearing,k._input.pitch=k.pitch=B.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",S.getViewEditsWithDerived(B))}),S.clearOutline=function(){c(S.dragOptions),s(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(_){var B=b._fullLayout.clickmode;B.indexOf("select")>-1&&u(_.originalEvent,b,[S.xaxis],[S.yaxis],S.id,k),B.indexOf("event")>-1&&y.click(b,_.originalEvent)}}},f.updateFx=function(E){var g=this,S=g.map,b=g.gd;if(g.isStatic)return;function i(_){var B=g.map.unproject(_);return[B.lng,B.lat]}var P=E.dragmode,x;x=function(_,B){if(B.isRect){var I=_.range={};I[g.id]=[i([B.xmin,B.ymin]),i([B.xmax,B.ymax])]}else{var z=_.lassoPoints={};z[g.id]=B.map(i)}};var k=g.dragOptions;g.dragOptions=L.extendDeep(k||{},{dragmode:E.dragmode,element:g.div,gd:b,plotinfo:{id:g.id,domain:E[g.id].domain,xaxis:g.xaxis,yaxis:g.yaxis,fillRangeItems:x},xaxes:[g.xaxis],yaxes:[g.yaxis],subplot:g.id}),S.off("click",g.onClickInPanHandler),l(P)||r(P)?(S.dragPan.disable(),S.on("zoomstart",g.clearOutline),g.dragOptions.prepFn=function(_,B,I){a(_,B,I,g.dragOptions,P)},v.init(g.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",g.clearOutline),g.div.onmousedown=null,g.div.ontouchstart=null,g.div.removeEventListener("touchstart",g.div._ontouchstart),g.onClickInPanHandler=g.onClickInPanFn(g.dragOptions),S.on("click",g.onClickInPanHandler))},f.updateFramework=function(E){var g=E[this.id].domain,S=E._size,b=this.div.style;b.width=S.w*(g.x[1]-g.x[0])+"px",b.height=S.h*(g.y[1]-g.y[0])+"px",b.left=S.l+g.x[0]*S.w+"px",b.top=S.t+(1-g.y[1])*S.h+"px",this.xaxis._offset=S.l+g.x[0]*S.w,this.xaxis._length=S.w*(g.x[1]-g.x[0]),this.yaxis._offset=S.t+(1-g.y[1])*S.h,this.yaxis._length=S.h*(g.y[1]-g.y[0])},f.updateLayers=function(E){var g=E[this.id],S=g.layers,b=this.layerList,i;if(S.length!==b.length){for(i=0;i<b.length;i++)b[i].dispose();for(b=this.layerList=[],i=0;i<S.length;i++)b.push(h(this,i,S[i]))}else for(i=0;i<S.length;i++)b[i].update(S[i])},f.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},f.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},f.setOptions=function(E,g,S){for(var b in S)this.map[g](E,b,S[b])},f.getMapLayers=function(){return this.map.getStyle().layers},f.addLayer=function(E,g){var S=this.map;if(typeof g=="string"){if(g===""){S.addLayer(E,g);return}for(var b=this.getMapLayers(),i=0;i<b.length;i++)if(g===b[i].id){S.addLayer(E,g);return}L.warn(["Trying to add layer with *below* value",g,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(E)},f.project=function(E){return this.map.project(new p.LngLat(E[0],E[1]))},f.getView=function(){var E=this.map,g=E.getCenter(),S=g.lng,b=g.lat,i={lon:S,lat:b},P=E.getCanvas(),x=parseInt(P.style.width),k=parseInt(P.style.height);return{center:i,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([x,0]).toArray(),E.unproject([x,k]).toArray(),E.unproject([0,k]).toArray()]}}},f.getViewEdits=function(E){for(var g=this.id,S=["center","zoom","bearing","pitch"],b={},i=0;i<S.length;i++){var P=S[i];b[g+"."+P]=E[P]}return b},f.getViewEditsWithDerived=function(E){var g=this.id,S=this.getViewEdits(E);return S[g+"._derived"]=E._derived,S};function d(E){var g={};return L.isPlainObject(E)?(g.id=E.id,g.style=E):typeof E=="string"?(g.id=E,m.styleValuesMapbox.indexOf(E)!==-1?g.style=M(E):m.stylesNonMapbox[E]?g.style=m.stylesNonMapbox[E]:g.style=E):(g.id=m.styleValueDflt,g.style=M(m.styleValueDflt)),g.transition={duration:0,delay:0},g}function M(E){return m.styleUrlPrefix+E+"-"+m.styleUrlSuffix}function A(E){return[E.lon,E.lat]}G.exports=T},35025:function(G){G.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(G,U,e){var p=e(39898),L=e(84096).Dq,n=e(60721).FF,C=e(92770),w=e(73972),v=e(86281),y=e(44467),t=e(71828),r=e(7901),l=e(50606).BADNUM,a=e(41675),s=e(51873).clearOutline,c=e(21479),u=e(85594),m=e(31391),h=e(27659).a0,T=t.relinkPrivateKeys,f=t._,o=G.exports={};t.extendFlat(o,w),o.attributes=e(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=e(41940),o.layoutAttributes=e(10820),o.fontWeight="normal";var d=o.transformsRegistry,M=e(31137);o.executeAPICommand=M.executeAPICommand,o.computeAPICommandBindings=M.computeAPICommandBindings,o.manageCommandObserver=M.manageCommandObserver,o.hasSimpleAPICommandBindings=M.hasSimpleAPICommandBindings,o.redrawText=function(W){return W=t.getGraphDiv(W),new Promise(function(X){setTimeout(function(){W._fullLayout&&(w.getComponentMethod("annotations","draw")(W),w.getComponentMethod("legend","draw")(W),w.getComponentMethod("colorbar","draw")(W),X(o.previousPromises(W)))},300)})},o.resize=function(W){W=t.getGraphDiv(W);var X,re=new Promise(function(ie,K){(!W||t.isHidden(W))&&K(new Error("Resize must be passed a displayed plot div element.")),W._redrawTimer&&clearTimeout(W._redrawTimer),W._resolveResize&&(X=W._resolveResize),W._resolveResize=ie,W._redrawTimer=setTimeout(function(){if(!W.layout||W.layout.width&&W.layout.height||t.isHidden(W)){ie(W);return}delete W.layout.width,delete W.layout.height;var q=W.changed;W.autoplay=!0,w.call("relayout",W,{autosize:!0}).then(function(){W.changed=q,W._resolveResize===ie&&(delete W._resolveResize,ie(W))})},100)});return X&&X(re),re},o.previousPromises=function(W){if((W._promises||[]).length)return Promise.all(W._promises).then(function(){W._promises=[]})},o.addLinks=function(W){if(!(!W._context.showLink&&!W._context.showSources)){var X=W._fullLayout,re=t.ensureSingle(X._paper,"text","js-plot-link-container",function(he){he.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var me=p.select(this);me.append("tspan").classed("js-link-to-tool",!0),me.append("tspan").classed("js-link-spacer",!0),me.append("tspan").classed("js-sourcelinks",!0)})}),ie=re.node(),K={y:X._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=X.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=X._paper.attr("width")-7),re.attr(K);var q=re.select(".js-link-to-tool"),le=re.select(".js-link-spacer"),ae=re.select(".js-sourcelinks");W._context.showSources&&W._context.showSources(W),W._context.showLink&&A(W,q),le.text(q.text()&&ae.text()?" - ":"")}};function A(W,X){X.text("");var re=X.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(W._context.linkText+" "+String.fromCharCode(187));if(W._context.sendData)re.on("click",function(){o.sendDataToCloud(W)});else{var ie=window.location.pathname.split("/"),K=window.location.search;re.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ie[2].split(".")[0]+"/"+ie[1]+K})}}o.sendDataToCloud=function(W){var X=(window.PLOTLYENV||{}).BASE_URL||W._context.plotlyServerURL;if(X){W.emit("plotly_beforeexport");var re=p.select(W).append("div").attr("id","hiddenform").style("display","none"),ie=re.append("form").attr({action:X+"/external",method:"post",target:"_blank"}),K=ie.append("input").attr({type:"text",name:"data"});return K.node().value=o.graphJson(W,!1,"keepdata"),ie.node().submit(),re.remove(),W.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],g=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(W,X){var re=X&&X.skipUpdateCalc,ie=W._fullLayout||{};if(ie._skipDefaults){delete ie._skipDefaults;return}var K=W._fullLayout={},q=W.layout||{},le=W._fullData||[],ae=W._fullData=[],he=W.data||[],me=W.calcdata||[],Me=W._context||{},xe;W._transitionData||o.createTransitionData(W),K._dfltTitle={plot:f(W,"Click to enter Plot title"),x:f(W,"Click to enter X axis title"),y:f(W,"Click to enter Y axis title"),colorbar:f(W,"Click to enter Colorscale title"),annotation:f(W,"new text")},K._traceWord=f(W,"trace");var Ie=i(W,E);if(K._mapboxAccessToken=Me.mapboxAccessToken,ie._initialAutoSizeIsDone){var _e=ie.width,Te=ie.height;o.supplyLayoutGlobalDefaults(q,K,Ie),q.width||(K.width=_e),q.height||(K.height=Te),o.sanitizeMargins(K)}else{o.supplyLayoutGlobalDefaults(q,K,Ie);var ye=!q.width||!q.height,Ae=K.autosize,Be=Me.autosizable,Ue=ye&&(Ae||Be);Ue?o.plotAutoSize(W,q,K):ye&&o.sanitizeMargins(K),!Ae&&ye&&(q.width=K.width,q.height=K.height)}K._d3locale=P(Ie,K.separators),K._extraFormat=i(W,g),K._initialAutoSizeIsDone=!0,K._dataLength=he.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var De=K._subplots=b(),He=K._splomAxes={x:{},y:{}},ut=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=S(le,he),K._globalTransforms=(W._context||{}).globalTransforms,o.supplyDataDefaults(he,ae,q,K);var et=Object.keys(He.x),Qe=Object.keys(He.y);if(et.length>1&&Qe.length>1){for(w.getComponentMethod("grid","sizeDefaults")(q,K),xe=0;xe<et.length;xe++)t.pushUnique(De.xaxis,et[xe]);for(xe=0;xe<Qe.length;xe++)t.pushUnique(De.yaxis,Qe[xe]);for(var qe in ut)t.pushUnique(De.cartesian,qe)}if(K._has=o._hasPlotType.bind(K),le.length===ae.length)for(xe=0;xe<ae.length;xe++)T(ae[xe],le[xe]);o.supplyLayoutModuleDefaults(q,K,ae,W._transitionData);var ft=K._visibleModules,gt=[];for(xe=0;xe<ft.length;xe++){var xt=ft[xe].crossTraceDefaults;xt&&t.pushUnique(gt,xt)}for(xe=0;xe<gt.length;xe++)gt[xe](ae,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&et.length>15&&Qe.length>15&&K.shapes.length===0&&K.images.length===0,o.linkSubplots(ae,K,le,ie),o.cleanPlot(ae,K,le,ie);var Ct=!!(ie._has&&ie._has("gl2d")),Je=!!(K._has&&K._has("gl2d")),ze=!!(ie._has&&ie._has("cartesian")),Fe=!!(K._has&&K._has("cartesian")),$e=ze||Ct,at=Fe||Je;$e&&!at?ie._bgLayer.remove():at&&!$e&&(K._shouldCreateBgLayer=!0),ie._zoomlayer&&!W._dragging&&s({_fullLayout:ie}),x(ae,K),T(K,ie),w.getComponentMethod("colorscale","crossTraceDefaults")(ae,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Xe=K._tracePreGUI,Pe={},we;for(we in Xe)Pe[we]="old";for(xe=0;xe<ae.length;xe++)we=ae[xe]._fullInput.uid,Pe[we]||(Xe[we]={}),Pe[we]="new";for(we in Pe)Pe[we]==="old"&&delete Xe[we];z(K),w.getComponentMethod("rangeslider","makeData")(K),!re&&me.length===ae.length&&o.supplyDefaultsUpdateCalc(me,ae)},o.supplyDefaultsUpdateCalc=function(W,X){for(var re=0;re<X.length;re++){var ie=X[re],K=(W[re]||[])[0];if(K&&K.trace){var q=K.trace;if(q._hasCalcTransform){var le=q._arrayAttrs,ae,he,me;for(ae=0;ae<le.length;ae++)he=le[ae],me=t.nestedProperty(q,he).get().slice(),t.nestedProperty(ie,he).set(me)}K.trace=ie}}};function S(W,X){var re=X.length,ie=[],K,q;for(K=0;K<W.length;K++){var le=W[K]._fullInput;le!==q&&ie.push(le),q=le}var ae=ie.length,he=new Array(re),me={};function Me(_e,Te){he[Te]=_e,me[_e]=1}function xe(_e,Te){if(_e&&typeof _e=="string"&&!me[_e])return Me(_e,Te),!0}for(K=0;K<re;K++){var Ie=X[K].uid;typeof Ie=="number"&&(Ie=String(Ie)),!xe(Ie,K)&&(K<ae&&xe(ie[K].uid,K)||Me(t.randstr(me),K))}return he}function b(){var W=w.collectableSubplotTypes,X={},re,ie;if(!W){W=[];var K=w.subplotsRegistry;for(var q in K){var le=K[q],ae=le.attr;if(ae&&(W.push(q),Array.isArray(ae)))for(ie=0;ie<ae.length;ie++)t.pushUnique(W,ae[ie])}}for(re=0;re<W.length;re++)X[W[re]]=[];return X}function i(W,X){var re=W._context.locale;re||(re="en-US");var ie=!1,K={};function q(xe){for(var Ie=!0,_e=0;_e<X.length;_e++){var Te=X[_e];K[Te]||(xe[Te]?K[Te]=xe[Te]:Ie=!1)}Ie&&(ie=!0)}for(var le=0;le<2;le++){for(var ae=W._context.locales,he=0;he<2;he++){var me=(ae[re]||{}).format;if(me&&(q(me),ie))break;ae=w.localeRegistry}var Me=re.split("-")[0];if(ie||Me===re)break;re=Me}return ie||q(w.localeRegistry.en.format),K}function P(W,X){return W.decimal=X.charAt(0),W.thousands=X.charAt(1),{numberFormat:function(re){try{re=n(W).format(t.adjustFormat(re))}catch{return t.warnBadFormat(re),t.noFormat}return re},timeFormat:L(W).utcFormat}}function x(W,X){var re,ie=[];X.meta&&(re=X._meta={meta:X.meta,layout:{meta:X.meta}});for(var K=0;K<W.length;K++){var q=W[K];q.meta?ie[q.index]=q._meta={meta:q.meta}:X.meta&&(q._meta={meta:X.meta}),X.meta&&(q._meta.layout={meta:X.meta})}ie.length&&(re||(re=X._meta={}),re.data=ie)}o.createTransitionData=function(W){W._transitionData||(W._transitionData={}),W._transitionData._frames||(W._transitionData._frames=[]),W._transitionData._frameHash||(W._transitionData._frameHash={}),W._transitionData._counter||(W._transitionData._counter=0),W._transitionData._interruptCallbacks||(W._transitionData._interruptCallbacks=[])},o._hasPlotType=function(W){var X,re=this._basePlotModules||[];for(X=0;X<re.length;X++)if(re[X].name===W)return!0;var ie=this._modules||[];for(X=0;X<ie.length;X++){var K=ie[X].name;if(K===W)return!0;var q=w.modules[K];if(q&&q.categories[W])return!0}return!1},o.cleanPlot=function(W,X,re,ie){var K,q,le=ie._basePlotModules||[];for(K=0;K<le.length;K++){var ae=le[K];ae.clean&&ae.clean(W,X,re,ie)}var he=ie._has&&ie._has("gl"),me=X._has&&X._has("gl");he&&!me&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var Me=!!ie._infolayer;e:for(K=0;K<re.length;K++){var xe=re[K],Ie=xe.uid;for(q=0;q<W.length;q++){var _e=W[q];if(Ie===_e.uid)continue e}Me&&ie._infolayer.select(".cb"+Ie).remove()}},o.linkSubplots=function(W,X,re,ie){var K,q,le=ie._plots||{},ae=X._plots={},he=X._subplots,me={_fullData:W,_fullLayout:X},Me=he.cartesian.concat(he.gl2d||[]);for(K=0;K<Me.length;K++){var xe=Me[K],Ie=le[xe],_e=a.getFromId(me,xe,"x"),Te=a.getFromId(me,xe,"y"),ye;for(Ie?ye=ae[xe]=Ie:(ye=ae[xe]={},ye.id=xe),_e._counterAxes.push(Te._id),Te._counterAxes.push(_e._id),_e._subplotsWith.push(xe),Te._subplotsWith.push(xe),ye.xaxis=_e,ye.yaxis=Te,ye._hasClipOnAxisFalse=!1,q=0;q<W.length;q++){var Ae=W[q];if(Ae.xaxis===ye.xaxis._id&&Ae.yaxis===ye.yaxis._id&&Ae.cliponaxis===!1){ye._hasClipOnAxisFalse=!0;break}}}var Be=a.list(me,null,!0),Ue;for(K=0;K<Be.length;K++){Ue=Be[K];var De=null;Ue.overlaying&&(De=a.getFromId(me,Ue.overlaying),De&&De.overlaying&&(Ue.overlaying=!1,De=null)),Ue._mainAxis=De||Ue,De&&(Ue.domain=De.domain.slice()),Ue._anchorAxis=Ue.anchor==="free"?null:a.getFromId(me,Ue.anchor)}for(K=0;K<Be.length;K++)if(Ue=Be[K],Ue._counterAxes.sort(a.idSort),Ue._subplotsWith.sort(t.subplotSort),Ue._mainSubplot=k(Ue,X),Ue._counterAxes.length&&(Ue.spikemode&&Ue.spikemode.indexOf("across")!==-1||Ue.automargin&&Ue.mirror&&Ue.anchor!=="free"||w.getComponentMethod("rangeslider","isVisible")(Ue))){var He=1,ut=0;for(q=0;q<Ue._counterAxes.length;q++){var et=a.getFromId(me,Ue._counterAxes[q]);He=Math.min(He,et.domain[0]),ut=Math.max(ut,et.domain[1])}He<ut&&(Ue._counterDomainMin=He,Ue._counterDomainMax=ut)}};function k(W,X){var re={_fullLayout:X},ie=W._id.charAt(0)==="x",K=W._mainAxis._anchorAxis,q="",le="",ae="";if(K&&(ae=K._mainAxis._id,q=ie?W._id+ae:ae+W._id),!q||!X._plots[q]){q="";for(var he=W._counterAxes,me=0;me<he.length;me++){var Me=he[me],xe=ie?W._id+Me:Me+W._id;le||(le=xe);var Ie=a.getFromId(re,Me);if(ae&&Ie.overlaying===ae){q=xe;break}}}return q||le}o.clearExpandedTraceDefaultColors=function(W){var X,re,ie;function K(le,ae,he,me){re[me]=ae,re.length=me+1,le.valType==="color"&&le.dflt===void 0&&X.push(re.join("."))}for(re=[],X=W._module._colorAttrs,X||(W._module._colorAttrs=X=[],v.crawl(W._module.attributes,K)),ie=0;ie<X.length;ie++){var q=t.nestedProperty(W,"_input."+X[ie]);q.get()||t.nestedProperty(W,X[ie]).set(null)}},o.supplyDataDefaults=function(W,X,re,ie){var K=ie._modules,q=ie._visibleModules,le=ie._basePlotModules,ae=0,he=0,me,Me,xe;ie._transformModules=[];function Ie(Qe){X.push(Qe);var qe=Qe._module;qe&&(t.pushUnique(K,qe),Qe.visible===!0&&t.pushUnique(q,qe),t.pushUnique(le,Qe._module.basePlotModule),ae++,Qe._input.visible!==!1&&he++)}var _e={},Te=[],ye=(re.template||{}).data||{},Ae=y.traceTemplater(ye);for(me=0;me<W.length;me++){if(xe=W[me],Me=Ae.newTrace(xe),Me.uid=ie._traceUids[me],o.supplyTraceDefaults(xe,Me,he,ie,me),Me.index=me,Me._input=xe,Me._expandedIndex=ae,Me.transforms&&Me.transforms.length)for(var Be=xe.visible!==!1&&Me.visible===!1,Ue=B(Me,X,re,ie),De=0;De<Ue.length;De++){var He=Ue[De],ut={_template:Me._template,type:Me.type,uid:Me.uid+De};Be&&He.visible===!1&&delete He.visible,o.supplyTraceDefaults(He,ut,ae,ie,me),T(ut,He),ut.index=me,ut._input=xe,ut._fullInput=Me,ut._expandedIndex=ae,ut._expandedInput=He,Ie(ut)}else Me._fullInput=Me,Me._expandedInput=Me,Ie(Me);w.traceIs(Me,"carpetAxis")&&(_e[Me.carpet]=Me),w.traceIs(Me,"carpetDependent")&&Te.push(me)}for(me=0;me<Te.length;me++)if(Me=X[Te[me]],!!Me.visible){var et=_e[Me.carpet];if(Me._carpet=et,!et||!et.visible){Me.visible=!1;continue}Me.xaxis=et.xaxis,Me.yaxis=et.yaxis}},o.supplyAnimationDefaults=function(W){W=W||{};var X,re={};function ie(K,q){return t.coerce(W||{},re,u,K,q)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(W.frame))for(re.frame=[],X=0;X<W.frame.length;X++)re.frame[X]=o.supplyAnimationFrameDefaults(W.frame[X]||{});else re.frame=o.supplyAnimationFrameDefaults(W.frame||{});if(Array.isArray(W.transition))for(re.transition=[],X=0;X<W.transition.length;X++)re.transition[X]=o.supplyAnimationTransitionDefaults(W.transition[X]||{});else re.transition=o.supplyAnimationTransitionDefaults(W.transition||{});return re},o.supplyAnimationFrameDefaults=function(W){var X={};function re(ie,K){return t.coerce(W||{},X,u.frame,ie,K)}return re("duration"),re("redraw"),X},o.supplyAnimationTransitionDefaults=function(W){var X={};function re(ie,K){return t.coerce(W||{},X,u.transition,ie,K)}return re("duration"),re("easing"),X},o.supplyFrameDefaults=function(W){var X={};function re(ie,K){return t.coerce(W,X,m,ie,K)}return re("group"),re("name"),re("traces"),re("baseframe"),re("data"),re("layout"),X},o.supplyTraceDefaults=function(W,X,re,ie,K){var q=ie.colorway||r.defaults,le=q[re%q.length],ae;function he(Ue,De){return t.coerce(W,X,o.attributes,Ue,De)}var me=he("visible");he("type"),he("name",ie._traceWord+" "+K),he("uirevision",ie.uirevision);var Me=o.getModule(X);if(X._module=Me,Me){var xe=Me.basePlotModule,Ie=xe.attr,_e=xe.attributes;if(Ie&&_e){var Te=ie._subplots,ye="";if(me||xe.name!=="gl2d"){if(Array.isArray(Ie))for(ae=0;ae<Ie.length;ae++){var Ae=Ie[ae],Be=t.coerce(W,X,_e,Ae);Te[Ae]&&t.pushUnique(Te[Ae],Be),ye+=Be}else ye=t.coerce(W,X,_e,Ie);Te[xe.name]&&t.pushUnique(Te[xe.name],ye)}}}return me&&(he("customdata"),he("ids"),he("meta"),w.traceIs(X,"showLegend")?(t.coerce(W,X,Me.attributes.showlegend?Me.attributes:o.attributes,"showlegend"),he("legendwidth"),he("legendgroup"),he("legendgrouptitle.text"),he("legendrank"),X._dfltShowLegend=!0):X._dfltShowLegend=!1,Me&&Me.supplyDefaults(W,X,le,ie),w.traceIs(X,"noOpacity")||he("opacity"),w.traceIs(X,"notLegendIsolatable")&&(X.visible=!!X.visible),w.traceIs(X,"noHover")||(X.hovertemplate||t.coerceHoverinfo(W,X,ie),X.type!=="parcats"&&w.getComponentMethod("fx","supplyDefaults")(W,X,le,ie)),Me&&Me.selectPoints&&he("selectedpoints"),o.supplyTransformDefaults(W,X,ie)),X};function _(W){var X=W.transforms;if(Array.isArray(X)&&X.length)for(var re=0;re<X.length;re++){var ie=X[re],K=ie._module||d[ie.type];if(K&&K.makesData)return!0}return!1}o.hasMakesDataTransform=_,o.supplyTransformDefaults=function(W,X,re){if(X._length||_(W)){var ie=re._globalTransforms||[],K=re._transformModules||[];if(!(!Array.isArray(W.transforms)&&ie.length===0))for(var q=W.transforms||[],le=ie.concat(q),ae=X.transforms=[],he=0;he<le.length;he++){var me=le[he],Me=me.type,xe=d[Me],Ie,_e=!(me._module&&me._module===xe),Te=xe&&typeof xe.transform=="function";xe||t.warn("Unrecognized transform type "+Me+"."),xe&&xe.supplyDefaults&&(_e||Te)?(Ie=xe.supplyDefaults(me,X,re,W),Ie.type=Me,Ie._module=xe,t.pushUnique(K,xe)):Ie=t.extendFlat({},me),ae.push(Ie)}}};function B(W,X,re,ie){for(var K=W.transforms,q=[W],le=0;le<K.length;le++){var ae=K[le],he=d[ae.type];he&&he.transform&&(q=he.transform(q,{transform:ae,fullTrace:W,fullData:X,layout:re,fullLayout:ie,transformIndex:le}))}return q}o.supplyLayoutGlobalDefaults=function(W,X,re){function ie(xe,Ie){return t.coerce(W,X,o.layoutAttributes,xe,Ie)}var K=W.template;t.isPlainObject(K)&&(X.template=K,X._template=K.layout,X._dataTemplate=K.data),ie("autotypenumbers");var q=t.coerceFont(ie,"font"),le=q.size;t.coerceFont(ie,"title.font",t.extendFlat({},q,{size:Math.round(le*1.4)})),ie("title.text",X._dfltTitle.plot),ie("title.xref");var ae=ie("title.yref");ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var he=ie("title.automargin");ie("title.x"),ie("title.xanchor"),ie("title.y"),ie("title.yanchor"),he&&(ae==="paper"&&(X.title.y!==0&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y===0?"top":"bottom")),ae==="container"&&(X.title.y==="auto"&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y<.5?"bottom":"top")));var me=ie("uniformtext.mode");me&&ie("uniformtext.minsize"),ie("autosize",!(W.width&&W.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),W.width&&W.height&&o.sanitizeMargins(X),w.getComponentMethod("grid","sizeDefaults")(W,X),ie("paper_bgcolor"),ie("separators",re.decimal+re.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var Me=ie("uirevision");ie("editrevision",Me),ie("selectionrevision",Me),w.getComponentMethod("modebar","supplyLayoutDefaults")(W,X),w.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(W,X,ie),w.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(W,X,ie),ie("meta"),t.isPlainObject(W.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),w.getComponentMethod("calendars","handleDefaults")(W,X,"calendar"),w.getComponentMethod("fx","supplyLayoutGlobalDefaults")(W,X,ie),t.coerce(W,X,c,"scattermode")};function I(W){return typeof W=="string"&&W.substr(W.length-2)==="px"&&parseFloat(W)}o.plotAutoSize=function(X,re,ie){var K=X._context||{},q=K.frameMargins,le,ae,he=t.isPlotDiv(X);if(he&&X.emit("plotly_autosize"),K.fillFrame)le=window.innerWidth,ae=window.innerHeight,document.body.style.overflow="hidden";else{var me=he?window.getComputedStyle(X):{};if(le=I(me.width)||I(me.maxWidth)||ie.width,ae=I(me.height)||I(me.maxHeight)||ie.height,C(q)&&q>0){var Me=1-2*q;le=Math.round(Me*le),ae=Math.round(Me*ae)}}var xe=o.layoutAttributes.width.min,Ie=o.layoutAttributes.height.min;le<xe&&(le=xe),ae<Ie&&(ae=Ie);var _e=!re.width&&Math.abs(ie.width-le)>1,Te=!re.height&&Math.abs(ie.height-ae)>1;(Te||_e)&&(_e&&(ie.width=le),Te&&(ie.height=ae)),X._initialAutoSize||(X._initialAutoSize={width:le,height:ae}),o.sanitizeMargins(ie)},o.supplyLayoutModuleDefaults=function(W,X,re,ie){var K=w.componentsRegistry,q=X._basePlotModules,le,ae,he,me=w.subplotsRegistry.cartesian;for(le in K)he=K[le],he.includeBasePlot&&he.includeBasePlot(W,X);q.length||q.push(me),X._has("cartesian")&&(w.getComponentMethod("grid","contentDefaults")(W,X),me.finalizeSubplots(W,X));for(var Me in X._subplots)X._subplots[Me].sort(t.subplotSort);for(ae=0;ae<q.length;ae++)he=q[ae],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re);var xe=X._modules;for(ae=0;ae<xe.length;ae++)he=xe[ae],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re);var Ie=X._transformModules;for(ae=0;ae<Ie.length;ae++)he=Ie[ae],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re,ie);for(le in K)he=K[le],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re)},o.purge=function(W){var X=W._fullLayout||{};X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.remove(),X._glcanvas=null),X._modeBar&&X._modeBar.destroy(),W._transitionData&&(W._transitionData._interruptCallbacks&&(W._transitionData._interruptCallbacks.length=0),W._transitionData._animationRaf&&window.cancelAnimationFrame(W._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(W),delete W.data,delete W.layout,delete W._fullData,delete W._fullLayout,delete W.calcdata,delete W.empty,delete W.fid,delete W.undoqueue,delete W.undonum,delete W.autoplay,delete W.changed,delete W._promises,delete W._redrawTimer,delete W._hmlumcount,delete W._hmpixcount,delete W._transitionData,delete W._transitioning,delete W._initialAutoSize,delete W._transitioningWithDuration,delete W._dragging,delete W._dragged,delete W._dragdata,delete W._hoverdata,delete W._snapshotInProgress,delete W._editing,delete W._mouseDownTime,delete W._legendMouseDownTime,W.removeAllListeners&&W.removeAllListeners()},o.style=function(W){var X=W._fullLayout._visibleModules,re=[],ie;for(ie=0;ie<X.length;ie++){var K=X[ie];K.style&&t.pushUnique(re,K.style)}for(ie=0;ie<re.length;ie++)re[ie](W)},o.sanitizeMargins=function(W){if(!(!W||!W.margin)){var X=W.width,re=W.height,ie=W.margin,K=X-(ie.l+ie.r),q=re-(ie.t+ie.b),le;K<0&&(le=(X-1)/(ie.l+ie.r),ie.l=Math.floor(le*ie.l),ie.r=Math.floor(le*ie.r)),q<0&&(le=(re-1)/(ie.t+ie.b),ie.t=Math.floor(le*ie.t),ie.b=Math.floor(le*ie.b))}},o.clearAutoMarginIds=function(W){W._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(W,X){W._fullLayout._pushmarginIds[X]=1};function z(W){var X=W.margin;if(!W._size){var re=W._size={l:Math.round(X.l),r:Math.round(X.r),t:Math.round(X.t),b:Math.round(X.b),p:Math.round(X.pad)};re.w=Math.round(W.width)-re.l-re.r,re.h=Math.round(W.height)-re.t-re.b}W._pushmargin||(W._pushmargin={}),W._pushmarginIds||(W._pushmarginIds={}),W._reservedMargin||(W._reservedMargin={})}var O=2,F=2;o.autoMargin=function(W,X,re){var ie=W._fullLayout,K=ie.width,q=ie.height,le=ie.margin,ae=ie.minreducedwidth,he=ie.minreducedheight,me=t.constrain(K-le.l-le.r,O,ae),Me=t.constrain(q-le.t-le.b,F,he),xe=Math.max(0,K-me),Ie=Math.max(0,q-Me),_e=ie._pushmargin,Te=ie._pushmarginIds;if(le.autoexpand!==!1){if(!re)delete _e[X],delete Te[X];else{var ye=re.pad;if(ye===void 0&&(ye=Math.min(12,le.l,le.r,le.t,le.b)),xe){var Ae=(re.l+re.r)/xe;Ae>1&&(re.l/=Ae,re.r/=Ae)}if(Ie){var Be=(re.t+re.b)/Ie;Be>1&&(re.t/=Be,re.b/=Be)}var Ue=re.xl!==void 0?re.xl:re.x,De=re.xr!==void 0?re.xr:re.x,He=re.yt!==void 0?re.yt:re.y,ut=re.yb!==void 0?re.yb:re.y;_e[X]={l:{val:Ue,size:re.l+ye},r:{val:De,size:re.r+ye},b:{val:ut,size:re.b+ye},t:{val:He,size:re.t+ye}},Te[X]=1}if(!ie._replotting)return o.doAutoMargin(W)}};function N(W){if("_redrawFromAutoMarginCount"in W._fullLayout)return!1;var X=a.list(W,"",!0);for(var re in X)if(X[re].autoshift||X[re].shift)return!0;return!1}o.doAutoMargin=function(W){var X=W._fullLayout,re=X.width,ie=X.height;X._size||(X._size={}),z(X);var K=X._size,q=X.margin,le={t:0,b:0,l:0,r:0},ae=t.extendFlat({},K),he=W._fullLayout._reservedMargin;for(var me in he)for(var Me in he[me]){var xe=he[me][Me];le[Me]=Math.max(le[Me],xe)}var Ie=q.l,_e=q.r,Te=q.t,ye=q.b,Ae=X._pushmargin,Be=X._pushmarginIds,Ue=X.minreducedwidth,De=X.minreducedheight;if(X.margin.autoexpand!==!1){for(var He in Ae)Be[He]||delete Ae[He];Ae.base={l:{val:0,size:Ie},r:{val:1,size:_e},t:{val:1,size:Te},b:{val:0,size:ye}};for(var ut in Ae){var et=Ae[ut].l||{},Qe=Ae[ut].b||{},qe=et.val,ft=et.size,gt=Qe.val,xt=Qe.size,Ct=re-le.r-le.l,Je=ie-le.t-le.b;for(var ze in Ae){if(C(ft)&&Ae[ze].r){var Fe=Ae[ze].r.val,$e=Ae[ze].r.size;if(Fe>qe){var at=(ft*Fe+($e-Ct)*qe)/(Fe-qe),Xe=($e*(1-qe)+(ft-Ct)*(1-Fe))/(Fe-qe);at+Xe>Ie+_e&&(Ie=at,_e=Xe)}}if(C(xt)&&Ae[ze].t){var Pe=Ae[ze].t.val,we=Ae[ze].t.size;if(Pe>gt){var ue=(xt*Pe+(we-Je)*gt)/(Pe-gt),ge=(we*(1-gt)+(xt-Je)*(1-Pe))/(Pe-gt);ue+ge>ye+Te&&(ye=ue,Te=ge)}}}}}var Le=t.constrain(re-q.l-q.r,O,Ue),ke=t.constrain(ie-q.t-q.b,F,De),it=Math.max(0,re-Le),lt=Math.max(0,ie-ke);if(it){var bt=(Ie+_e)/it;bt>1&&(Ie/=bt,_e/=bt)}if(lt){var Rt=(ye+Te)/lt;Rt>1&&(ye/=Rt,Te/=Rt)}if(K.l=Math.round(Ie)+le.l,K.r=Math.round(_e)+le.r,K.t=Math.round(Te)+le.t,K.b=Math.round(ye)+le.b,K.p=Math.round(q.pad),K.w=Math.round(re)-K.l-K.r,K.h=Math.round(ie)-K.t-K.b,!X._replotting&&(o.didMarginChange(ae,K)||N(W))){"_redrawFromAutoMarginCount"in X?X._redrawFromAutoMarginCount++:X._redrawFromAutoMarginCount=1;var Ut=3*(1+Object.keys(Be).length);if(X._redrawFromAutoMarginCount<Ut)return w.call("_doPlot",W);X._size=ae,t.warn("Too many auto-margin redraws.")}Q(W)};function Q(W){var X=a.list(W,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(re){for(var ie=0;ie<X.length;ie++){var K=X[ie][re];K&&K()}})}var $=["l","r","t","b","p","w","h"];o.didMarginChange=function(W,X){for(var re=0;re<$.length;re++){var ie=$[re],K=W[ie],q=X[ie];if(!C(K)||Math.abs(q-K)>1)return!0}return!1},o.graphJson=function(W,X,re,ie,K,q){(K&&X&&!W._fullData||K&&!X&&!W._fullLayout)&&o.supplyDefaults(W);var le=K?W._fullData:W.data,ae=K?W._fullLayout:W.layout,he=(W._transitionData||{})._frames;function me(Ie,_e){if(typeof Ie=="function")return _e?"_function_":null;if(t.isPlainObject(Ie)){var Te={},ye;return Object.keys(Ie).sort().forEach(function(Ae){if(["_","["].indexOf(Ae.charAt(0))===-1){if(typeof Ie[Ae]=="function"){_e&&(Te[Ae]="_function");return}if(re==="keepdata"){if(Ae.substr(Ae.length-3)==="src")return}else if(re==="keepstream"){if(ye=Ie[Ae+"src"],typeof ye=="string"&&ye.indexOf(":")>0&&!t.isPlainObject(Ie.stream))return}else if(re!=="keepall"&&(ye=Ie[Ae+"src"],typeof ye=="string"&&ye.indexOf(":")>0))return;Te[Ae]=me(Ie[Ae],_e)}}),Te}return Array.isArray(Ie)?Ie.map(function(Ae){return me(Ae,_e)}):t.isTypedArray(Ie)?t.simpleMap(Ie,t.identity):t.isJSDate(Ie)?t.ms2DateTimeLocal(+Ie):Ie}var Me={data:(le||[]).map(function(Ie){var _e=me(Ie);return X&&delete _e.fit,_e})};if(!X&&(Me.layout=me(ae),K)){var xe=ae._size;Me.layout.computed={margin:{b:xe.b,l:xe.l,r:xe.r,t:xe.t}}}return he&&(Me.frames=me(he)),q&&(Me.config=me(W._context,!0)),ie==="object"?Me:JSON.stringify(Me)},o.modifyFrames=function(W,X){var re,ie,K,q=W._transitionData._frames,le=W._transitionData._frameHash;for(re=0;re<X.length;re++)switch(ie=X[re],ie.type){case"replace":K=ie.value;var ae=(q[ie.index]||{}).name,he=K.name;q[ie.index]=le[he]=K,he!==ae&&(delete le[ae],le[he]=K);break;case"insert":K=ie.value,le[K.name]=K,q.splice(ie.index,0,K);break;case"delete":K=q[ie.index],delete le[K.name],q.splice(ie.index,1);break}return Promise.resolve()},o.computeFrame=function(W,X){var re=W._transitionData._frameHash,ie,K,q,le;if(!X)throw new Error("computeFrame must be given a string frame name");var ae=re[X.toString()];if(!ae)return!1;for(var he=[ae],me=[ae.name];ae.baseframe&&(ae=re[ae.baseframe.toString()])&&me.indexOf(ae.name)===-1;)he.push(ae),me.push(ae.name);for(var Me={};ae=he.pop();)if(ae.layout&&(Me.layout=o.extendLayout(Me.layout,ae.layout)),ae.data){if(Me.data||(Me.data=[]),K=ae.traces,!K)for(K=[],ie=0;ie<ae.data.length;ie++)K[ie]=ie;for(Me.traces||(Me.traces=[]),ie=0;ie<ae.data.length;ie++)q=K[ie],q!=null&&(le=Me.traces.indexOf(q),le===-1&&(le=Me.data.length,Me.traces[le]=q),Me.data[le]=o.extendTrace(Me.data[le],ae.data[ie]))}return Me},o.recomputeFrameHash=function(W){for(var X=W._transitionData._frameHash={},re=W._transitionData._frames,ie=0;ie<re.length;ie++){var K=re[ie];K&&K.name&&(X[K.name]=K)}},o.extendObjectWithContainers=function(W,X,re){var ie,K,q,le,ae,he,me,Me,xe=t.extendDeepNoArrays({},X||{}),Ie=t.expandObjectPaths(xe),_e={};if(re&&re.length)for(q=0;q<re.length;q++)ie=t.nestedProperty(Ie,re[q]),K=ie.get(),K===void 0?t.nestedProperty(_e,re[q]).set(null):(ie.set(null),t.nestedProperty(_e,re[q]).set(K));if(W=t.extendDeepNoArrays(W||{},Ie),re&&re.length){for(q=0;q<re.length;q++)if(ae=t.nestedProperty(_e,re[q]),me=ae.get(),!!me){for(he=t.nestedProperty(W,re[q]),Me=he.get(),Array.isArray(Me)||(Me=[],he.set(Me)),le=0;le<me.length;le++){var Te=me[le];Te===null?Me[le]=null:Me[le]=o.extendObjectWithContainers(Me[le],Te)}he.set(Me)}}return W},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=w.layoutArrayContainers,o.extendTrace=function(W,X){return o.extendObjectWithContainers(W,X,o.dataArrayContainers)},o.extendLayout=function(W,X){return o.extendObjectWithContainers(W,X,o.layoutArrayContainers)},o.transition=function(W,X,re,ie,K,q){var le={redraw:K.redraw},ae={},he=[];return le.prepareFn=function(){for(var me=Array.isArray(X)?X.length:0,Me=ie.slice(0,me),xe=0;xe<Me.length;xe++){var Ie=Me[xe],_e=W._fullData[Ie],Te=_e._module;if(Te){if(Te.animatable){var ye=Te.basePlotModule.name;ae[ye]||(ae[ye]=[]),ae[ye].push(Ie)}W.data[Me[xe]]=o.extendTrace(W.data[Me[xe]],X[xe])}}var Ae=t.expandObjectPaths(t.extendDeepNoArrays({},re)),Be=/^[xy]axis[0-9]*$/;for(var Ue in Ae)Be.test(Ue)&&delete Ae[Ue].range;o.extendLayout(W.layout,Ae),delete W.calcdata,o.supplyDefaults(W),o.doCalcdata(W);var De=t.expandObjectPaths(re);if(De){var He=W._fullLayout._plots;for(var ut in He){var et=He[ut],Qe=et.xaxis,qe=et.yaxis,ft=Qe.range.slice(),gt=qe.range.slice(),xt=null,Ct=null,Je=null,ze=null;Array.isArray(De[Qe._name+".range"])?xt=De[Qe._name+".range"].slice():Array.isArray((De[Qe._name]||{}).range)&&(xt=De[Qe._name].range.slice()),Array.isArray(De[qe._name+".range"])?Ct=De[qe._name+".range"].slice():Array.isArray((De[qe._name]||{}).range)&&(Ct=De[qe._name].range.slice()),ft&&xt&&(Qe.r2l(ft[0])!==Qe.r2l(xt[0])||Qe.r2l(ft[1])!==Qe.r2l(xt[1]))&&(Je={xr0:ft,xr1:xt}),gt&&Ct&&(qe.r2l(gt[0])!==qe.r2l(Ct[0])||qe.r2l(gt[1])!==qe.r2l(Ct[1]))&&(ze={yr0:gt,yr1:Ct}),(Je||ze)&&he.push(t.extendFlat({plotinfo:et},Je,ze))}}return Promise.resolve()},le.runFn=function(me){var Me,xe=W._fullLayout._basePlotModules,Ie=he.length,_e;if(re)for(_e=0;_e<xe.length;_e++)xe[_e].transitionAxes&&xe[_e].transitionAxes(W,he,q,me);Ie?(Me=t.extendFlat({},q),Me.duration=0,delete ae.cartesian):Me=q;for(var Te in ae){var ye=ae[Te],Ae=W._fullData[ye[0]]._module;Ae.basePlotModule.plot(W,ye,Me,me)}},j(W,q,le)},o.transitionFromReact=function(W,X,re,ie){var K=W._fullLayout,q=K.transition,le={},ae=[];return le.prepareFn=function(){var he=K._plots;le.redraw=!1,X.anim==="some"&&(le.redraw=!0),re.anim==="some"&&(le.redraw=!0);for(var me in he){var Me=he[me],xe=Me.xaxis,Ie=Me.yaxis,_e=ie[xe._name].range.slice(),Te=ie[Ie._name].range.slice(),ye=xe.range.slice(),Ae=Ie.range.slice();xe.setScale(),Ie.setScale();var Be=null,Ue=null;(xe.r2l(_e[0])!==xe.r2l(ye[0])||xe.r2l(_e[1])!==xe.r2l(ye[1]))&&(Be={xr0:_e,xr1:ye}),(Ie.r2l(Te[0])!==Ie.r2l(Ae[0])||Ie.r2l(Te[1])!==Ie.r2l(Ae[1]))&&(Ue={yr0:Te,yr1:Ae}),(Be||Ue)&&ae.push(t.extendFlat({plotinfo:Me},Be,Ue))}return Promise.resolve()},le.runFn=function(he){for(var me=W._fullData,Me=W._fullLayout,xe=Me._basePlotModules,Ie,_e,Te,ye=[],Ae=0;Ae<me.length;Ae++)ye.push(Ae);function Be(){if(W._fullLayout)for(var De=0;De<xe.length;De++)xe[De].transitionAxes&&xe[De].transitionAxes(W,ae,Ie,he)}function Ue(){if(W._fullLayout)for(var De=0;De<xe.length;De++)xe[De].plot(W,Te,_e,he)}ae.length&&X.anim?q.ordering==="traces first"?(Ie=t.extendFlat({},q,{duration:0}),Te=ye,_e=q,setTimeout(Be,q.duration),Ue()):(Ie=q,Te=null,_e=t.extendFlat({},q,{duration:0}),setTimeout(Ue,Ie.duration),Be()):ae.length?(Ie=q,Be()):X.anim&&(Te=ye,_e=q,Ue())},j(W,q,le)};function j(W,X,re){var ie=!1;function K(xe){var Ie=Promise.resolve();if(!xe)return Ie;for(;xe.length;)Ie=Ie.then(xe.shift());return Ie}function q(xe){if(xe)for(;xe.length;)xe.shift()}function le(){return W.emit("plotly_transitioning",[]),new Promise(function(xe){W._transitioning=!0,X.duration>0&&(W._transitioningWithDuration=!0),W._transitionData._interruptCallbacks.push(function(){ie=!0}),re.redraw&&W._transitionData._interruptCallbacks.push(function(){return w.call("redraw",W)}),W._transitionData._interruptCallbacks.push(function(){W.emit("plotly_transitioninterrupted",[])});var Ie=0,_e=0;function Te(){return Ie++,function(){_e++,!ie&&_e===Ie&&ae(xe)}}re.runFn(Te),setTimeout(Te())})}function ae(xe){if(W._transitionData)return q(W._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(re.redraw)return w.call("redraw",W)}).then(function(){W._transitioning=!1,W._transitioningWithDuration=!1,W.emit("plotly_transitioned",[])}).then(xe)}function he(){if(W._transitionData)return W._transitioning=!1,K(W._transitionData._interruptCallbacks)}var me=[o.previousPromises,he,re.prepareFn,o.rehover,o.reselect,le],Me=t.syncOrAsync(me,W);return(!Me||!Me.then)&&(Me=Promise.resolve()),Me.then(function(){return W})}o.doCalcdata=function(W,X){var re=a.list(W),ie=W._fullData,K=W._fullLayout,q,le,ae,he,me=new Array(ie.length),Me=(W.calcdata||[]).slice();for(W.calcdata=me,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},W._hmpixcount=0,W._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},ae=0;ae<ie.length;ae++)if(Array.isArray(X)&&X.indexOf(ae)===-1){me[ae]=Me[ae];continue}for(ae=0;ae<ie.length;ae++)q=ie[ae],q._arrayAttrs=v.findArrayAttributes(q),q._extremes={};var xe=K._subplots.polar||[];for(ae=0;ae<xe.length;ae++)re.push(K[xe[ae]].radialaxis,K[xe[ae]].angularaxis);for(var Ie in K._colorAxes){var _e=K[Ie];_e.cauto!==!1&&(delete _e.cmin,delete _e.cmax)}var Te=!1;function ye(Ue){if(q=ie[Ue],le=q._module,q.visible===!0&&q.transforms){if(le&&le.calc){var De=le.calc(W,q);De[0]&&De[0].t&&De[0].t._scene&&delete De[0].t._scene.dirty}for(he=0;he<q.transforms.length;he++){var He=q.transforms[he];le=d[He.type],le&&le.calcTransform&&(q._hasCalcTransform=!0,Te=!0,le.calcTransform(W,q,He))}}}function Ae(Ue,De){if(q=ie[Ue],le=q._module,!!le.isContainer===De){var He=[];if(q.visible===!0&&q._length!==0){delete q._indexToPoints;var ut=q.transforms||[];for(he=ut.length-1;he>=0;he--)if(ut[he].enabled){q._indexToPoints=ut[he]._indexToPoints;break}le&&le.calc&&(He=le.calc(W,q))}(!Array.isArray(He)||!He[0])&&(He=[{x:l,y:l}]),He[0].t||(He[0].t={}),He[0].trace=q,me[Ue]=He}}for(Y(re,ie,K),ae=0;ae<ie.length;ae++)Ae(ae,!0);for(ae=0;ae<ie.length;ae++)ye(ae);for(Te&&Y(re,ie,K),ae=0;ae<ie.length;ae++)Ae(ae,!0);for(ae=0;ae<ie.length;ae++)Ae(ae,!1);V(W);var Be=oe(re,W);if(Be.length){for(K._numBoxes=0,K._numViolins=0,ae=0;ae<Be.length;ae++)Ae(Be[ae],!0);for(ae=0;ae<Be.length;ae++)Ae(Be[ae],!1);V(W)}w.getComponentMethod("fx","calc")(W),w.getComponentMethod("errorbars","calc")(W)};var ee=/(total|sum|min|max|mean|median) (ascending|descending)/;function oe(W,X){var re=[],ie,K,q,le,ae;function he($e,at,Xe){var Pe=at._id.charAt(0);if($e==="histogram2dcontour"){var we=at._counterAxes[0],ue=a.getFromId(X,we),ge=Pe==="x"||we==="x"&&ue.type==="category",Le=Pe==="y"||we==="y"&&ue.type==="category";return function(ke,it){return ke===0||it===0||ge&&ke===Xe[it].length-1||Le&&it===Xe.length-1?-1:(Pe==="y"?it:ke)-1}}else return function(ke,it){return Pe==="y"?it:ke}}var me={min:function($e){return t.aggNums(Math.min,null,$e)},max:function($e){return t.aggNums(Math.max,null,$e)},sum:function($e){return t.aggNums(function(at,Xe){return at+Xe},null,$e)},total:function($e){return t.aggNums(function(at,Xe){return at+Xe},null,$e)},mean:function($e){return t.mean($e)},median:function($e){return t.median($e)}};for(ie=0;ie<W.length;ie++){var Me=W[ie];if(Me.type==="category"){var xe=Me.categoryorder.match(ee);if(xe){var Ie=xe[1],_e=xe[2],Te=Me._id.charAt(0),ye=Te==="x",Ae=[];for(K=0;K<Me._categories.length;K++)Ae.push([Me._categories[K],[]]);for(K=0;K<Me._traceIndices.length;K++){var Be=Me._traceIndices[K],Ue=X._fullData[Be];if(Ue.visible===!0){var De=Ue.type;w.traceIs(Ue,"histogram")&&(delete Ue._xautoBinFinished,delete Ue._yautoBinFinished);var He=De==="splom",ut=De==="scattergl",et=X.calcdata[Be];for(q=0;q<et.length;q++){var Qe=et[q],qe,ft;if(He){var gt=Ue._axesDim[Me._id];if(!ye){var xt=Ue._diag[gt][0];xt&&(Me=X._fullLayout[a.id2name(xt)])}var Ct=Qe.trace.dimensions[gt].values;for(le=0;le<Ct.length;le++)for(qe=Me._categoriesMap[Ct[le]],ae=0;ae<Qe.trace.dimensions.length;ae++)if(ae!==gt){var Je=Qe.trace.dimensions[ae];Ae[qe][1].push(Je.values[le])}}else if(ut){for(le=0;le<Qe.t.x.length;le++)ye?(qe=Qe.t.x[le],ft=Qe.t.y[le]):(qe=Qe.t.y[le],ft=Qe.t.x[le]),Ae[qe][1].push(ft);Qe.t&&Qe.t._scene&&delete Qe.t._scene.dirty}else if(Qe.hasOwnProperty("z")){ft=Qe.z;var ze=he(Ue.type,Me,ft);for(le=0;le<ft.length;le++)for(ae=0;ae<ft[le].length;ae++)qe=ze(ae,le),qe+1&&Ae[qe][1].push(ft[le][ae])}else for(qe=Qe.p,qe===void 0&&(qe=Qe[Te]),ft=Qe.s,ft===void 0&&(ft=Qe.v),ft===void 0&&(ft=ye?Qe.y:Qe.x),Array.isArray(ft)||(ft===void 0?ft=[]:ft=[ft]),le=0;le<ft.length;le++)Ae[qe][1].push(ft[le])}}}Me._categoriesValue=Ae;var Fe=[];for(K=0;K<Ae.length;K++)Fe.push([Ae[K][0],me[Ie](Ae[K][1])]);Fe.sort(function($e,at){return $e[1]-at[1]}),Me._categoriesAggregatedValue=Fe,Me._initialCategories=Fe.map(function($e){return $e[0]}),_e==="descending"&&Me._initialCategories.reverse(),re=re.concat(Me.sortByInitialCategories())}}}return re}function Y(W,X,re){var ie={};function K(he){he.clearCalc(),he.type==="multicategory"&&he.setupMultiCategory(X),ie[he._id]=1}t.simpleMap(W,K);for(var q=re._axisMatchGroups||[],le=0;le<q.length;le++)for(var ae in q[le])ie[ae]||K(re[a.id2name(ae)])}function V(W){var X=W._fullLayout,re=X._visibleModules,ie={},K,q,le;for(q=0;q<re.length;q++){var ae=re[q],he=ae.crossTraceCalc;if(he){var me=ae.basePlotModule.name;ie[me]?t.pushUnique(ie[me],he):ie[me]=[he]}}for(le in ie){var Me=ie[le],xe=X._subplots[le];if(Array.isArray(xe))for(K=0;K<xe.length;K++){var Ie=xe[K],_e=le==="cartesian"?X._plots[Ie]:X[Ie];for(q=0;q<Me.length;q++)Me[q](W,_e,Ie)}else for(q=0;q<Me.length;q++)Me[q](W)}}o.rehover=function(W){W._fullLayout._rehover&&W._fullLayout._rehover()},o.redrag=function(W){W._fullLayout._redrag&&W._fullLayout._redrag()},o.reselect=function(W){var X=W._fullLayout,re=(W.layout||{}).selections,ie=X._previousSelections;X._previousSelections=re;var K=X._reselect||JSON.stringify(re)!==JSON.stringify(ie);w.getComponentMethod("selections","reselect")(W,K)},o.generalUpdatePerTraceModule=function(W,X,re,ie){var K=X.traceHash,q={},le;for(le=0;le<re.length;le++){var ae=re[le],he=ae[0].trace;he.visible&&(q[he.type]=q[he.type]||[],q[he.type].push(ae))}for(var me in K)if(!q[me]){var Me=K[me][0],xe=Me[0].trace;xe.visible=!1,q[me]=[Me]}for(var Ie in q){var _e=q[Ie],Te=_e[0][0].trace._module;Te.plot(W,X,t.filterVisible(_e),ie)}X.traceHash=q},o.plotBasePlot=function(W,X,re,ie,K){var q=w.getModule(W),le=h(X.calcdata,q)[0];q.plot(X,le,ie,K)},o.cleanBasePlot=function(W,X,re,ie,K){var q=K._has&&K._has(W),le=re._has&&re._has(W);q&&!le&&K["_"+W+"layer"].selectAll("g.trace").remove()}},9813:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(G,U,e){var p=e(71828),L=e(61082).tester,n=p.findIndexOfMin,C=p.isAngleInsideSector,w=p.angleDelta,v=p.angleDist;function y(o,d,M,A,E){if(!C(d,A))return!1;var g,S;M[0]<M[1]?(g=M[0],S=M[1]):(g=M[1],S=M[0]);var b=L(s(g,A[0],A[1],E)),i=L(s(S,A[0],A[1],E)),P=[o*Math.cos(d),o*Math.sin(d)];return i.contains(P)&&!b.contains(P)}function t(o,d,M,A){var E,g,S=A[0],b=A[1],i=m(Math.sin(d)-Math.sin(o)),P=m(Math.cos(d)-Math.cos(o)),x=Math.tan(M),k=m(1/x),_=i/P,B=b-_*S;return k?i&&P?(E=B/(x-_),g=x*E):P?(E=b*k,g=b):(E=S,g=S*x):i&&P?(E=0,g=B):P?(E=0,g=b):E=g=NaN,[E,g]}function r(o,d,M,A){var E=-d*M,g=d*d+1,S=2*(d*E-M),b=E*E+M*M-o*o,i=Math.sqrt(S*S-4*g*b),P=(-S+i)/(2*g),x=(-S-i)/(2*g);return[[P,d*P+E+A],[x,d*x+E+A]]}function l(o,d){var M=d.length,A=new Array(M+1),E;for(E=0;E<M;E++){var g=d[E];A[E]=[o*Math.cos(g),o*Math.sin(g)]}return A[E]=A[0].slice(),A}function a(o,d,M,A){var E=A.length,g=[],S,b;function i(F){return[o*Math.cos(F),o*Math.sin(F)]}function P(F,N,Q){return t(F,N,Q,i(F))}function x(F){return p.mod(F,E)}function k(F){return C(F,[d,M])}var _=n(A,function(F){return k(F)?v(F,d):1/0}),B=P(A[_],A[x(_-1)],d);for(g.push(B),S=_,b=0;b<E;S++,b++){var I=A[x(S)];if(!k(I))break;g.push(i(I))}var z=n(A,function(F){return k(F)?v(F,M):1/0}),O=P(A[z],A[x(z+1)],M);return g.push(O),g.push([0,0]),g.push(g[0].slice()),g}function s(o,d,M,A){return p.isFullCircle([d,M])?l(o,A):a(o,d,M,A)}function c(o,d,M,A){for(var E=1/0,g=1/0,S=s(o,d,M,A),b=0;b<S.length;b++){var i=S[b];E=Math.min(E,i[0]),g=Math.min(g,-i[1])}return[E,g]}function u(o,d){var M=function(g){var S=w(g,o);return S>0?S:1/0},A=n(d,M),E=p.mod(A+1,d.length);return[d[A],d[E]]}function m(o){return Math.abs(o)>1e-10?o:0}function h(o,d,M){d=d||0,M=M||0;for(var A=o.length,E=new Array(A),g=0;g<A;g++){var S=o[g];E[g]=[d+S[0],M-S[1]]}return E}function T(o,d,M,A,E,g){var S=s(o,d,M,A);return"M"+h(S,E,g).join("L")}function f(o,d,M,A,E,g,S){var b,i;o<d?(b=o,i=d):(b=d,i=o);var P=h(s(b,M,A,E),g,S),x=h(s(i,M,A,E),g,S);return"M"+x.reverse().join("L")+"M"+P.join("L")}G.exports={isPtInsidePolygon:y,findPolygonOffset:c,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:m,pathPolygon:T,pathPolygonAnnulus:f}},23580:function(G,U,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(9813),w=C.attr,v=C.name,y=L(v),t={};t[w]={valType:"subplotid",dflt:v,editType:"calc"};function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[v],m=0;m<u.length;m++){var h=u[m],T=p(c,v,h),f=s[h]._subplot;f||(f=n(a,h),s[h]._subplot=f),f.plot(T,s,a._promises)}}function l(a,s,c,u){for(var m=u._subplots[v]||[],h=u._has&&u._has("gl"),T=s._has&&s._has("gl"),f=h&&!T,o=0;o<m.length;o++){var d=m[o],M=u[d]._subplot;if(!s[d]&&M){M.framework.remove(),M.layers["radial-axis-title"].remove();for(var A in M.clipPaths)M.clipPaths[A].remove()}f&&M._scene&&(M._scene.destroy(),M._scene=null)}}G.exports={attr:w,name:v,idRoot:v,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:l,toSVG:e(93612).toSVG}},73812:function(G,U,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,w=e(30962).overrideAll,v=w({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),y=w({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),t={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(t,v,y);var r={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(r,v,y),G.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(G,U,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),w=e(27659).NG,v=e(26218),y=e(38701),t=e(96115),r=e(89426),l=e(15258),a=e(92128),s=e(4322),c=e(73812),u=e(12101),m=e(9813),h=m.axisNames;function T(o,d,M,A){var E=M("bgcolor");A.bgColor=L.combine(E,A.paper_bgcolor);var g=M("sector");M("hole");var S=w(A.fullData,m.name,A.id),b=A.layoutOut,i;function P(Y,V){return M(i+"."+Y,V)}for(var x=0;x<h.length;x++){i=h[x],p.isPlainObject(o[i])||(o[i]={});var k=o[i],_=n.newContainer(d,i);_._id=_._name=i,_._attr=A.id+"."+i,_._traceIndices=S.map(function(Y){return Y._expandedIndex});var B=m.axisName2dataArray[i],I=f(k,_,P,S,B,A);l(k,_,P,{axData:S,dataAttr:B});var z=P("visible");switch(u(_,d,b),P("uirevision",d.uirevision),_._m=1,i){case"radialaxis":var O=P("autorange",!_.isValidRange(k.range));k.autorange=O,O&&(I==="linear"||I==="-")&&P("rangemode"),O==="reversed"&&(_._m=-1),P("range"),_.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(I==="date"){p.log("Polar plots do not support date angular axes yet.");for(var F=0;F<S.length;F++)S[F].visible=!1;I=k.type=_.type="linear"}P(I==="linear"?"thetaunit":"period");var N=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[N]);break}if(r(k,_,P,_.type,{tickSuffixDflt:_.thetaunit==="degrees"?"°":void 0}),z){var Q,$,j,ee,oe=A.font||{};Q=P("color"),$=Q===k.color?Q:oe.color,j=oe.size,ee=oe.family,v(k,_,P,_.type),t(k,_,P,_.type,{font:{color:$,size:j,family:ee}}),y(k,_,P,{outerTicks:!0}),a(k,_,P,{dfltColor:Q,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[i]}),P("layer"),i==="radialaxis"&&(P("side"),P("angle",g[0]),P("title.text"),p.coerceFont(P,"title.font",{color:$,size:p.bigFont(j),family:ee}))}I!=="category"&&P("hoverformat"),_._input=k}d.angularaxis.type==="category"&&M("gridshape")}function f(o,d,M,A,E,g){var S=M("autotypenumbers",g.autotypenumbersDflt),b=M("type");if(b==="-"){for(var i,P=0;P<A.length;P++)if(A[P].visible){i=A[P];break}i&&i[E]&&(d.type=s(i[E],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),d.type==="-"?d.type="linear":o.type=d.type}return d.type}G.exports=function(d,M,A){C(d,M,A,{type:m.name,attributes:c,handleDefaults:T,font:M.font,autotypenumbersDflt:M.autotypenumbers,paper_bgcolor:M.paper_bgcolor,fullData:A,layoutOut:M})}},77997:function(G,U,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),w=C.strRotate,v=C.strTranslate,y=e(7901),t=e(91424),r=e(74875),l=e(89298),a=e(21994),s=e(12101),c=e(71739).doAutoRange,u=e(29323),m=e(28569),h=e(30211),T=e(92998),f=e(47322).prepSelect,o=e(47322).selectOnClick,d=e(47322).clearOutline,M=e(6964),A=e(33306),E=e(61549).redrawReglTraces,g=e(18783).MID_SHIFT,S=e(9813),b=e(10869),i=e(23893),P=i.smith,x=i.reactanceArc,k=i.resistanceArc,_=i.smithTransform,B=C._,I=C.mod,z=C.deg2rad,O=C.rad2deg;function F(oe,Y,V){this.isSmith=V||!1,this.id=Y,this.gd=oe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var W=oe._fullLayout,X="clip"+W._uid+Y;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=W._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=W["_"+(V?"smith":"polar")+"layer"].append("g").attr("class",Y),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},V||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=F.prototype;G.exports=function(Y,V,W){return new F(Y,V,W)},N.plot=function(oe,Y){for(var V=this,W=Y[V.id],X=!1,re=0;re<oe.length;re++){var ie=oe[re][0].trace;if(ie.cliponaxis===!1){X=!0;break}}V._hasClipOnAxisFalse=X,V.updateLayers(Y,W),V.updateLayout(Y,W),r.generalUpdatePerTraceModule(V.gd,V,oe,W),V.updateFx(Y,W),V.isSmith&&(delete W.realaxis.range,delete W.imaginaryaxis.range)},N.updateLayers=function(oe,Y){var V=this,W=V.isSmith,X=V.layers,re=V.getRadial(Y),ie=V.getAngular(Y),K=S.layerNames,q=K.indexOf("frontplot"),le=K.slice(0,q),ae=ie.layer==="below traces",he=re.layer==="below traces";ae&&le.push("angular-line"),he&&le.push("radial-line"),ae&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),ae||le.push("angular-line"),he||le.push("radial-line"),ae||le.push("angular-axis"),he||le.push("radial-axis");var me=(W?"smith":"polar")+"sublayer",Me=V.framework.selectAll("."+me).data(le,String);Me.enter().append("g").attr("class",function(xe){return me+" "+xe}).each(function(xe){var Ie=X[xe]=p.select(this);switch(xe){case"frontplot":W||Ie.append("g").classed("barlayer",!0),Ie.append("g").classed("scatterlayer",!0);break;case"backplot":Ie.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Ie.append("path");break;case"radial-grid":Ie.style("fill","none");break;case"angular-grid":Ie.style("fill","none");break;case"radial-line":Ie.append("line").style("fill","none");break;case"angular-line":Ie.append("path").style("fill","none");break}}),Me.order()},N.updateLayout=function(oe,Y){var V=this,W=V.layers,X=oe._size,re=V.getRadial(Y),ie=V.getAngular(Y),K=Y.domain.x,q=Y.domain.y;V.xOffset=X.l+X.w*K[0],V.yOffset=X.t+X.h*(1-q[1]);var le=V.xLength=X.w*(K[1]-K[0]),ae=V.yLength=X.h*(q[1]-q[0]),he=V.getSector(Y);V.sectorInRad=he.map(z);var me=V.sectorBBox=$(he),Me=me[2]-me[0],xe=me[3]-me[1],Ie=ae/le,_e=Math.abs(xe/Me),Te,ye,Ae,Be,Ue;Ie>_e?(Te=le,ye=le*_e,Ue=(ae-ye)/X.h/2,Ae=[K[0],K[1]],Be=[q[0]+Ue,q[1]-Ue]):(Te=ae/_e,ye=ae,Ue=(le-Te)/X.w/2,Ae=[K[0]+Ue,K[1]-Ue],Be=[q[0],q[1]]),V.xLength2=Te,V.yLength2=ye,V.xDomain2=Ae,V.yDomain2=Be;var De=V.xOffset2=X.l+X.w*Ae[0],He=V.yOffset2=X.t+X.h*(1-Be[1]),ut=V.radius=Te/Me,et=V.innerRadius=V.getHole(Y)*ut,Qe=V.cx=De-ut*me[0],qe=V.cy=He+ut*me[3],ft=V.cxx=Qe-De,gt=V.cyy=qe-He,xt=re.side,Ct;xt==="counterclockwise"?(Ct=xt,xt="top"):xt==="clockwise"&&(Ct=xt,xt="bottom"),V.radialAxis=V.mockAxis(oe,Y,re,{_id:"x",side:xt,_trueSide:Ct,domain:[et/X.w,ut/X.w]}),V.angularAxis=V.mockAxis(oe,Y,ie,{side:"right",domain:[0,Math.PI],autorange:!1}),V.doAutoRange(oe,Y),V.updateAngularAxis(oe,Y),V.updateRadialAxis(oe,Y),V.updateRadialAxisTitle(oe,Y),V.xaxis=V.mockCartesianAxis(oe,Y,{_id:"x",domain:Ae}),V.yaxis=V.mockCartesianAxis(oe,Y,{_id:"y",domain:Be});var Je=V.pathSubplot();V.clipPaths.forTraces.select("path").attr("d",Je).attr("transform",v(ft,gt)),W.frontplot.attr("transform",v(De,He)).call(t.setClipUrl,V._hasClipOnAxisFalse?null:V.clipIds.forTraces,V.gd),W.bg.attr("d",Je).attr("transform",v(Qe,qe)).call(y.fill,Y.bgcolor)},N.mockAxis=function(oe,Y,V,W){var X=C.extendFlat({},V,W);return s(X,Y,oe),X},N.mockCartesianAxis=function(oe,Y,V){var W=this,X=W.isSmith,re=V._id,ie=C.extendFlat({type:"linear"},V);a(ie,oe);var K={x:[0,2],y:[1,3]};return ie.setRange=function(){var q=W.sectorBBox,le=K[re],ae=W.radialAxis._rl,he=(ae[1]-ae[0])/(1-W.getHole(Y));ie.range=[q[le[0]]*he,q[le[1]]*he]},ie.isPtWithinRange=re==="x"&&!X?function(q){return W.isPtInside(q)}:function(){return!0},ie.setRange(),ie.setScale(),ie},N.doAutoRange=function(oe,Y){var V=this,W=V.gd,X=V.radialAxis,re=V.getRadial(Y);c(W,X);var ie=X.range;re.range=ie.slice(),re._input.range=ie.slice(),X._rl=[X.r2l(ie[0],null,"gregorian"),X.r2l(ie[1],null,"gregorian")]},N.updateRadialAxis=function(oe,Y){var V=this,W=V.gd,X=V.layers,re=V.radius,ie=V.innerRadius,K=V.cx,q=V.cy,le=V.getRadial(Y),ae=I(V.getSector(Y)[0],360),he=V.radialAxis,me=ie<re,Me=V.isSmith;Me||(V.fillViewInitialKey("radialaxis.angle",le.angle),V.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ae>90&&ae<=270&&(he.tickangle=180);var xe=Me?function(ut){var et=_(V,P([ut.x,0]));return v(et[0]-K,et[1]-q)}:function(ut){return v(he.l2p(ut.x)+ie,0)},Ie=Me?function(ut){return k(V,ut.x,-1/0,1/0)}:function(ut){return V.pathArc(he.r2p(ut.x)+ie)},_e=Q(le);if(V.radialTickLayout!==_e&&(X["radial-axis"].selectAll(".xtick").remove(),V.radialTickLayout=_e),me){he.setScale();var Te=0,ye=Me?(he.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return l.tickText(he,ut,!0,!1)}):l.calcTicks(he),Ae=Me?ye:l.clipEnds(he,ye),Be=l.getTickSigns(he)[2];Me&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Be=-Be),he.ticks==="top"&&he.side==="top"&&(Te=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Te=he.ticklen)),l.drawTicks(W,he,{vals:ye,layer:X["radial-axis"],path:l.makeTickPath(he,0,Be),transFn:xe,crisp:!1}),l.drawGrid(W,he,{vals:Ae,layer:X["radial-grid"],path:Ie,transFn:C.noop,crisp:!1}),l.drawLabels(W,he,{vals:ye,layer:X["radial-axis"],transFn:xe,labelFns:l.makeLabelFns(he,Te)})}var Ue=V.radialAxisAngle=V.vangles?O(j(z(le.angle),V.vangles)):le.angle,De=v(K,q),He=De+w(-Ue);ee(X["radial-axis"],me&&(le.showticklabels||le.ticks),{transform:He}),ee(X["radial-grid"],me&&le.showgrid,{transform:Me?"":De}),ee(X["radial-line"].select("line"),me&&le.showline,{x1:Me?-re:ie,y1:0,x2:re,y2:0,transform:He}).attr("stroke-width",le.linewidth).call(y.stroke,le.linecolor)},N.updateRadialAxisTitle=function(oe,Y,V){if(!this.isSmith){var W=this,X=W.gd,re=W.radius,ie=W.cx,K=W.cy,q=W.getRadial(Y),le=W.id+"title",ae=0;if(q.title){var he=t.bBox(W.layers["radial-axis"].node()).height,me=q.title.font.size,Me=q.side;ae=Me==="top"?me:Me==="counterclockwise"?-(he+me*.4):he+me*.8}var xe=V!==void 0?V:W.radialAxisAngle,Ie=z(xe),_e=Math.cos(Ie),Te=Math.sin(Ie),ye=ie+re/2*_e+ae*Te,Ae=K-re/2*Te+ae*_e;W.layers["radial-axis-title"]=T.draw(X,le,{propContainer:q,propName:W.id+".radialaxis.title",placeholder:B(X,"Click to enter radial axis title"),attributes:{x:ye,y:Ae,"text-anchor":"middle"},transform:{rotate:-xe}})}},N.updateAngularAxis=function(oe,Y){var V=this,W=V.gd,X=V.layers,re=V.radius,ie=V.innerRadius,K=V.cx,q=V.cy,le=V.getAngular(Y),ae=V.angularAxis,he=V.isSmith;he||(V.fillViewInitialKey("angularaxis.rotation",le.rotation),ae.setGeometry(),ae.setScale());var me=he?function(et){var Qe=_(V,P([0,et.x]));return Math.atan2(Qe[0]-K,Qe[1]-q)-Math.PI/2}:function(et){return ae.t2g(et.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=O(ae.tick0),ae.dtick=O(ae.dtick));var Me=function(et){return v(K+re*Math.cos(et),q-re*Math.sin(et))},xe=he?function(et){var Qe=_(V,P([0,et.x]));return v(Qe[0],Qe[1])}:function(et){return Me(me(et))},Ie=he?function(et){var Qe=_(V,P([0,et.x])),qe=Math.atan2(Qe[0]-K,Qe[1]-q)-Math.PI/2;return v(Qe[0],Qe[1])+w(-O(qe))}:function(et){var Qe=me(et);return Me(Qe)+w(-O(Qe))},_e=he?function(et){return x(V,et.x,0,1/0)}:function(et){var Qe=me(et),qe=Math.cos(Qe),ft=Math.sin(Qe);return"M"+[K+ie*qe,q-ie*ft]+"L"+[K+re*qe,q-re*ft]},Te=l.makeLabelFns(ae,0),ye=Te.labelStandoff,Ae={};Ae.xFn=function(et){var Qe=me(et);return Math.cos(Qe)*ye},Ae.yFn=function(et){var Qe=me(et),qe=Math.sin(Qe)>0?.2:1;return-Math.sin(Qe)*(ye+et.fontSize*qe)+Math.abs(Math.cos(Qe))*(et.fontSize*g)},Ae.anchorFn=function(et){var Qe=me(et),qe=Math.cos(Qe);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Ae.heightFn=function(et,Qe,qe){var ft=me(et);return-.5*(1+Math.sin(ft))*qe};var Be=Q(le);V.angularTickLayout!==Be&&(X["angular-axis"].selectAll("."+ae._id+"tick").remove(),V.angularTickLayout=Be);var Ue=he?[1/0].concat(ae.tickvals||[]).map(function(et){return l.tickText(ae,et,!0,!1)}):l.calcTicks(ae);he&&(Ue[0].text="∞",Ue[0].fontSize*=1.75);var De;if(Y.gridshape==="linear"?(De=Ue.map(me),C.angleDelta(De[0],De[1])<0&&(De=De.slice().reverse())):De=null,V.vangles=De,ae.type==="category"&&(Ue=Ue.filter(function(et){return C.isAngleInsideSector(me(et),V.sectorInRad)})),ae.visible){var He=ae.ticks==="inside"?-1:1,ut=(ae.linewidth||1)/2;l.drawTicks(W,ae,{vals:Ue,layer:X["angular-axis"],path:"M"+He*ut+",0h"+He*ae.ticklen,transFn:Ie,crisp:!1}),l.drawGrid(W,ae,{vals:Ue,layer:X["angular-grid"],path:_e,transFn:C.noop,crisp:!1}),l.drawLabels(W,ae,{vals:Ue,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:Ae})}ee(X["angular-line"].select("path"),le.showline,{d:V.pathSubplot(),transform:v(K,q)}).attr("stroke-width",le.linewidth).call(y.stroke,le.linecolor)},N.updateFx=function(oe,Y){if(!this.gd._context.staticPlot){var V=!this.isSmith;V&&(this.updateAngularDrag(oe),this.updateRadialDrag(oe,Y,0),this.updateRadialDrag(oe,Y,1)),this.updateHoverAndMainDrag(oe)}},N.updateHoverAndMainDrag=function(oe){var Y=this,V=Y.isSmith,W=Y.gd,X=Y.layers,re=oe._zoomlayer,ie=S.MINZOOM,K=S.OFFEDGE,q=Y.radius,le=Y.innerRadius,ae=Y.cx,he=Y.cy,me=Y.cxx,Me=Y.cyy,xe=Y.sectorInRad,Ie=Y.vangles,_e=Y.radialAxis,Te=b.clampTiny,ye=b.findXYatLength,Ae=b.findEnclosingVertexAngles,Be=S.cornerHalfWidth,Ue=S.cornerLen/2,De,He,ut=u.makeDragger(X,"path","maindrag",oe.dragmode===!1?"none":"crosshair");p.select(ut).attr("d",Y.pathSubplot()).attr("transform",v(ae,he)),ut.onmousemove=function(_t){h.hover(W,_t,Y.id),W._fullLayout._lasthover=ut,W._fullLayout._hoversubplot=Y.id},ut.onmouseout=function(_t){W._dragging||m.unhover(W,_t)};var et={element:ut,gd:W,subplot:Y.id,plotinfo:{id:Y.id,xaxis:Y.xaxis,yaxis:Y.yaxis},xaxes:[Y.xaxis],yaxes:[Y.yaxis]},Qe,qe,ft,gt,xt,Ct,Je,ze,Fe;function $e(_t,nr){return Math.sqrt(_t*_t+nr*nr)}function at(_t,nr){return $e(_t-me,nr-Me)}function Xe(_t,nr){return Math.atan2(Me-nr,_t-me)}function Pe(_t,nr){return[_t*Math.cos(nr),_t*Math.sin(-nr)]}function we(_t,nr){if(_t===0)return Y.pathSector(2*Be);var lr=Ue/_t,zr=nr-lr,mt=nr+lr,jt=Math.max(0,Math.min(_t,q)),Yt=jt-Be,wr=jt+Be;return"M"+Pe(Yt,zr)+"A"+[Yt,Yt]+" 0,0,0 "+Pe(Yt,mt)+"L"+Pe(wr,mt)+"A"+[wr,wr]+" 0,0,1 "+Pe(wr,zr)+"Z"}function ue(_t,nr,lr){if(_t===0)return Y.pathSector(2*Be);var zr=Pe(_t,nr),mt=Pe(_t,lr),jt=Te((zr[0]+mt[0])/2),Yt=Te((zr[1]+mt[1])/2),wr,dr;if(jt&&Yt){var ct=Yt/jt,ot=-1/ct,wt=ye(Be,ct,jt,Yt);wr=ye(Ue,ot,wt[0][0],wt[0][1]),dr=ye(Ue,ot,wt[1][0],wt[1][1])}else{var Mt,Dt;Yt?(Mt=Ue,Dt=Be):(Mt=Be,Dt=Ue),wr=[[jt-Mt,Yt-Dt],[jt+Mt,Yt-Dt]],dr=[[jt-Mt,Yt+Dt],[jt+Mt,Yt+Dt]]}return"M"+wr.join("L")+"L"+dr.reverse().join("L")+"Z"}function ge(){ft=null,gt=null,xt=Y.pathSubplot(),Ct=!1;var _t=W._fullLayout[Y.id];Je=L(_t.bgcolor).getLuminance(),ze=u.makeZoombox(re,Je,ae,he,xt),ze.attr("fill-rule","evenodd"),Fe=u.makeCorners(re,ae,he),d(W)}function Le(_t,nr){return nr=Math.max(Math.min(nr,q),le),_t<K?_t=0:q-_t<K?_t=q:nr<K?nr=0:q-nr<K&&(nr=q),Math.abs(nr-_t)>ie?(_t<nr?(ft=_t,gt=nr):(ft=nr,gt=_t),!0):(ft=null,gt=null,!1)}function ke(_t,nr){_t=_t||xt,nr=nr||"M0,0Z",ze.attr("d",_t),Fe.attr("d",nr),u.transitionZoombox(ze,Fe,Ct,Je),Ct=!0;var lr={};Ut(lr),W.emit("plotly_relayouting",lr)}function it(_t,nr){_t=_t*De,nr=nr*He;var lr=Qe+_t,zr=qe+nr,mt=at(Qe,qe),jt=Math.min(at(lr,zr),q),Yt=Xe(Qe,qe),wr,dr;Le(mt,jt)&&(wr=xt+Y.pathSector(gt),ft&&(wr+=Y.pathSector(ft)),dr=we(ft,Yt)+we(gt,Yt)),ke(wr,dr)}function lt(_t,nr,lr,zr){var mt=b.findIntersectionXY(lr,zr,lr,[_t-me,Me-nr]);return $e(mt[0],mt[1])}function bt(_t,nr){var lr=Qe+_t,zr=qe+nr,mt=Xe(Qe,qe),jt=Xe(lr,zr),Yt=Ae(mt,Ie),wr=Ae(jt,Ie),dr=lt(Qe,qe,Yt[0],Yt[1]),ct=Math.min(lt(lr,zr,wr[0],wr[1]),q),ot,wt;Le(dr,ct)&&(ot=xt+Y.pathSector(gt),ft&&(ot+=Y.pathSector(ft)),wt=[ue(ft,Yt[0],Yt[1]),ue(gt,Yt[0],Yt[1])].join(" ")),ke(ot,wt)}function Rt(){if(u.removeZoombox(W),!(ft===null||gt===null)){var _t={};Ut(_t),u.showDoubleClickNotifier(W),n.call("_guiRelayout",W,_t)}}function Ut(_t){var nr=_e._rl,lr=(nr[1]-nr[0])/(1-le/q)/q,zr=[nr[0]+(ft-le)*lr,nr[0]+(gt-le)*lr];_t[Y.id+".radialaxis.range"]=zr}function Gt(_t,nr){var lr=W._fullLayout.clickmode;if(u.removeZoombox(W),_t===2){var zr={};for(var mt in Y.viewInitial)zr[Y.id+"."+mt]=Y.viewInitial[mt];W.emit("plotly_doubleclick",null),n.call("_guiRelayout",W,zr)}lr.indexOf("select")>-1&&_t===1&&o(nr,W,[Y.xaxis],[Y.yaxis],Y.id,et),lr.indexOf("event")>-1&&h.click(W,nr,Y.id)}et.prepFn=function(_t,nr,lr){var zr=W._fullLayout.dragmode,mt=ut.getBoundingClientRect();W._fullLayout._calcInverseTransform(W);var jt=W._fullLayout._invTransform;De=W._fullLayout._invScaleX,He=W._fullLayout._invScaleY;var Yt=C.apply3DTransform(jt)(nr-mt.left,lr-mt.top);if(Qe=Yt[0],qe=Yt[1],Ie){var wr=b.findPolygonOffset(q,xe[0],xe[1],Ie);Qe+=me+wr[0],qe+=Me+wr[1]}switch(zr){case"zoom":et.clickFn=Gt,V||(Ie?et.moveFn=bt:et.moveFn=it,et.doneFn=Rt,ge());break;case"select":case"lasso":f(_t,nr,lr,et,zr);break}},m.init(et)},N.updateRadialDrag=function(oe,Y,V){var W=this,X=W.gd,re=W.layers,ie=W.radius,K=W.innerRadius,q=W.cx,le=W.cy,ae=W.radialAxis,he=S.radialDragBoxSize,me=he/2;if(!ae.visible)return;var Me=z(W.radialAxisAngle),xe=ae._rl,Ie=xe[0],_e=xe[1],Te=xe[V],ye=.75*(xe[1]-xe[0])/(1-W.getHole(Y))/ie,Ae,Be,Ue;V?(Ae=q+(ie+me)*Math.cos(Me),Be=le-(ie+me)*Math.sin(Me),Ue="radialdrag"):(Ae=q+(K-me)*Math.cos(Me),Be=le-(K-me)*Math.sin(Me),Ue="radialdrag-inner");var De=u.makeRectDragger(re,Ue,"crosshair",-me,-me,he,he),He={element:De,gd:X};oe.dragmode===!1&&(He.dragmode=!1),ee(p.select(De),ae.visible&&K<ie,{transform:v(Ae,Be)});var ut,et,Qe;function qe(Je,ze){if(ut)ut(Je,ze);else{var Fe=[Je,-ze],$e=[Math.cos(Me),Math.sin(Me)],at=Math.abs(C.dot(Fe,$e)/Math.sqrt(C.dot(Fe,Fe)));isNaN(at)||(ut=at<.5?xt:Ct)}var Xe={};ft(Xe),X.emit("plotly_relayouting",Xe)}function ft(Je){et!==null?Je[W.id+".radialaxis.angle"]=et:Qe!==null&&(Je[W.id+".radialaxis.range["+V+"]"]=Qe)}function gt(){et!==null?n.call("_guiRelayout",X,W.id+".radialaxis.angle",et):Qe!==null&&n.call("_guiRelayout",X,W.id+".radialaxis.range["+V+"]",Qe)}function xt(Je,ze){if(V!==0){var Fe=Ae+Je,$e=Be+ze;et=Math.atan2(le-$e,Fe-q),W.vangles&&(et=j(et,W.vangles)),et=O(et);var at=v(q,le)+w(-et);re["radial-axis"].attr("transform",at),re["radial-line"].select("line").attr("transform",at);var Xe=W.gd._fullLayout,Pe=Xe[W.id];W.updateRadialAxisTitle(Xe,Pe,et)}}function Ct(Je,ze){var Fe=C.dot([Je,-ze],[Math.cos(Me),Math.sin(Me)]);if(Qe=Te-ye*Fe,ye>0!=(V?Qe>Ie:Qe<_e)){Qe=null;return}var $e=X._fullLayout,at=$e[W.id];ae.range[V]=Qe,ae._rl[V]=Qe,W.updateRadialAxis($e,at),W.xaxis.setRange(),W.xaxis.setScale(),W.yaxis.setRange(),W.yaxis.setScale();var Xe=!1;for(var Pe in W.traceHash){var we=W.traceHash[Pe],ue=C.filterVisible(we),ge=we[0][0].trace._module;ge.plot(X,W,ue,at),n.traceIs(Pe,"gl")&&ue.length&&(Xe=!0)}Xe&&(A(X),E(X))}He.prepFn=function(){ut=null,et=null,Qe=null,He.moveFn=qe,He.doneFn=gt,d(X)},He.clampFn=function(Je,ze){return Math.sqrt(Je*Je+ze*ze)<S.MINDRAG&&(Je=0,ze=0),[Je,ze]},m.init(He)},N.updateAngularDrag=function(oe){var Y=this,V=Y.gd,W=Y.layers,X=Y.radius,re=Y.angularAxis,ie=Y.cx,K=Y.cy,q=Y.cxx,le=Y.cyy,ae=S.angularDragBoxSize,he=u.makeDragger(W,"path","angulardrag",oe.dragmode===!1?"none":"move"),me={element:he,gd:V};oe.dragmode===!1?me.dragmode=!1:p.select(he).attr("d",Y.pathAnnulus(X,X+ae)).attr("transform",v(ie,K)).call(M,"move");function Me(Qe,qe){return Math.atan2(le+ae-qe,Qe-q-ae)}var xe=W.frontplot.select(".scatterlayer").selectAll(".trace"),Ie=xe.selectAll(".point"),_e=xe.selectAll(".textpoint"),Te,ye,Ae,Be,Ue,De;function He(Qe,qe){var ft=Y.gd._fullLayout,gt=ft[Y.id],xt=Te+Qe*oe._invScaleX,Ct=ye+qe*oe._invScaleY,Je=Me(xt,Ct),ze=O(Je-De);if(Be=Ae+ze,W.frontplot.attr("transform",v(Y.xOffset2,Y.yOffset2)+w([-ze,q,le])),Y.vangles){Ue=Y.radialAxisAngle+ze;var Fe=v(ie,K)+w(-ze),$e=v(ie,K)+w(-Ue);W.bg.attr("transform",Fe),W["radial-grid"].attr("transform",Fe),W["radial-axis"].attr("transform",$e),W["radial-line"].select("line").attr("transform",$e),Y.updateRadialAxisTitle(ft,gt,Ue)}else Y.clipPaths.forTraces.select("path").attr("transform",v(q,le)+w(ze));Ie.each(function(){var Le=p.select(this),ke=t.getTranslate(Le);Le.attr("transform",v(ke.x,ke.y)+w([ze]))}),_e.each(function(){var Le=p.select(this),ke=Le.select("text"),it=t.getTranslate(Le);Le.attr("transform",w([ze,ke.attr("x"),ke.attr("y")])+v(it.x,it.y))}),re.rotation=C.modHalf(Be,360),Y.updateAngularAxis(ft,gt),Y._hasClipOnAxisFalse&&!C.isFullCircle(Y.sectorInRad)&&xe.call(t.hideOutsideRangePoints,Y);var at=!1;for(var Xe in Y.traceHash)if(n.traceIs(Xe,"gl")){var Pe=Y.traceHash[Xe],we=C.filterVisible(Pe),ue=Pe[0][0].trace._module;ue.plot(V,Y,we,gt),we.length&&(at=!0)}at&&(A(V),E(V));var ge={};ut(ge),V.emit("plotly_relayouting",ge)}function ut(Qe){Qe[Y.id+".angularaxis.rotation"]=Be,Y.vangles&&(Qe[Y.id+".radialaxis.angle"]=Ue)}function et(){_e.select("text").attr("transform",null);var Qe={};ut(Qe),n.call("_guiRelayout",V,Qe)}me.prepFn=function(Qe,qe,ft){var gt=oe[Y.id];Ae=gt.angularaxis.rotation;var xt=he.getBoundingClientRect();Te=qe-xt.left,ye=ft-xt.top,V._fullLayout._calcInverseTransform(V);var Ct=C.apply3DTransform(oe._invTransform)(Te,ye);Te=Ct[0],ye=Ct[1],De=Me(Te,ye),me.moveFn=He,me.doneFn=et,d(V)},Y.vangles&&!C.isFullCircle(Y.sectorInRad)&&(me.prepFn=C.noop,M(p.select(he),null)),m.init(me)},N.isPtInside=function(oe){if(this.isSmith)return!0;var Y=this.sectorInRad,V=this.vangles,W=this.angularAxis.c2g(oe.theta),X=this.radialAxis,re=X.c2l(oe.r),ie=X._rl,K=V?b.isPtInsidePolygon:C.isPtInsideSector;return K(re,W,ie,Y,V)},N.pathArc=function(oe){var Y=this.sectorInRad,V=this.vangles,W=V?b.pathPolygon:C.pathArc;return W(oe,Y[0],Y[1],V)},N.pathSector=function(oe){var Y=this.sectorInRad,V=this.vangles,W=V?b.pathPolygon:C.pathSector;return W(oe,Y[0],Y[1],V)},N.pathAnnulus=function(oe,Y){var V=this.sectorInRad,W=this.vangles,X=W?b.pathPolygonAnnulus:C.pathAnnulus;return X(oe,Y,V[0],V[1],W)},N.pathSubplot=function(){var oe=this.innerRadius,Y=this.radius;return oe?this.pathAnnulus(oe,Y):this.pathSector(Y)},N.fillViewInitialKey=function(oe,Y){oe in this.viewInitial||(this.viewInitial[oe]=Y)};function Q(oe){var Y=oe.ticks+String(oe.ticklen)+String(oe.showticklabels);return"side"in oe&&(Y+=oe.side),Y}function $(oe){var Y=oe[0],V=oe[1],W=V-Y,X=I(Y,360),re=X+W,ie=Math.cos(z(X)),K=Math.sin(z(X)),q=Math.cos(z(re)),le=Math.sin(z(re)),ae,he,me,Me;return X<=90&&re>=90||X>90&&re>=450?Me=1:K<=0&&le<=0?Me=0:Me=Math.max(K,le),X<=180&&re>=180||X>180&&re>=540?ae=-1:ie>=0&&q>=0?ae=0:ae=Math.min(ie,q),X<=270&&re>=270||X>270&&re>=630?he=-1:K>=0&&le>=0?he=0:he=Math.min(K,le),re>=360?me=1:ie<=0&&q<=0?me=0:me=Math.max(ie,q),[ae,he,me,Me]}function j(oe,Y){var V=function(X){return C.angleDist(oe,X)},W=C.findIndexOfMin(Y,V);return Y[W]}function ee(oe,Y,V){return Y?(oe.attr("display",null),oe.attr(V)):oe&&oe.attr("display","none"),oe}},12101:function(G,U,e){var p=e(71828),L=e(21994),n=p.deg2rad,C=p.rad2deg;G.exports=function(l,a,s){switch(L(l,s),l._id){case"x":case"radialaxis":w(l,a);break;case"angularaxis":t(l,a);break}};function w(r,l){var a=l._subplot;r.setGeometry=function(){var s=r._rl[0],c=r._rl[1],u=a.innerRadius,m=(a.radius-u)/(c-s),h=u/m,T=s>c?function(f){return f<=0}:function(f){return f>=0};r.c2g=function(f){var o=r.c2l(f)-s;return(T(o)?o:0)+h},r.g2c=function(f){return r.l2c(f+s-h)},r.g2p=function(f){return f*m},r.c2p=function(f){return r.g2p(r.c2g(f))}}}function v(r,l){return l==="degrees"?n(r):r}function y(r,l){return l==="degrees"?C(r):r}function t(r,l){var a=r.type;if(a==="linear"){var s=r.d2c,c=r.c2d;r.d2c=function(u,m){return v(s(u),m)},r.c2d=function(u,m){return c(y(u,m))}}r.makeCalcdata=function(u,m){var h=u[m],T=u._length,f,o,d=function(S){return r.d2c(S,u.thetaunit)};if(h){if(p.isTypedArray(h)&&a==="linear"){if(T===h.length)return h;if(h.subarray)return h.subarray(0,T)}for(f=new Array(T),o=0;o<T;o++)f[o]=d(h[o])}else{var M=m+"0",A="d"+m,E=M in u?d(u[M]):0,g=u[A]?d(u[A]):(r.period||2*Math.PI)/T;for(f=new Array(T),o=0;o<T;o++)f[o]=E+o*g}return f},r.setGeometry=function(){var u=l.sector,m=u.map(n),h={clockwise:-1,counterclockwise:1}[r.direction],T=n(r.rotation),f=function(b){return h*b+T},o=function(b){return(b-T)/h},d,M,A,E;switch(a){case"linear":M=d=p.identity,E=n,A=C,r.range=p.isFullCircle(m)?[u[0],u[0]+360]:m.map(o).map(C);break;case"category":var g=r._categories.length,S=r.period?Math.max(r.period,g):g;S===0&&(S=1),M=E=function(b){return b*2*Math.PI/S},d=A=function(b){return b*S/Math.PI/2},r.range=[0,S];break}r.c2g=function(b){return f(M(b))},r.g2c=function(b){return d(o(b))},r.t2g=function(b){return f(E(b))},r.g2t=function(b){return A(o(b))}}}},39779:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(G){function U(w){return w<0?-1:w>0?1:0}function e(w){var v=w[0],y=w[1];if(!isFinite(v)||!isFinite(y))return[1,0];var t=(v+1)*(v+1)+y*y;return[(v*v+y*y-1)/t,2*y/t]}function p(w,v){var y=v[0],t=v[1];return[y*w.radius+w.cx,-t*w.radius+w.cy]}function L(w,v){return v*w.radius}function n(w,v,y,t){var r=p(w,e([y,v])),l=r[0],a=r[1],s=p(w,e([t,v])),c=s[0],u=s[1];if(v===0)return["M"+l+","+a,"L"+c+","+u].join(" ");var m=L(w,1/Math.abs(v));return["M"+l+","+a,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+c+","+u].join(" ")}function C(w,v,y,t){var r=L(w,1/(v+1)),l=p(w,e([v,y])),a=l[0],s=l[1],c=p(w,e([v,t])),u=c[0],m=c[1];if(U(y)!==U(t)){var h=p(w,e([v,0])),T=h[0],f=h[1];return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(0<y?0:1)+" "+T+","+f,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+m].join(" ")}return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(t<y?0:1)+" "+u+","+m].join(" ")}G.exports={smith:e,reactanceArc:n,resistanceArc:C,smithTransform:p}},7504:function(G,U,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(39779),w=C.attr,v=C.name,y=L(v),t={};t[w]={valType:"subplotid",dflt:v,editType:"calc"};function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[v],m=0;m<u.length;m++){var h=u[m],T=p(c,v,h),f=s[h]._subplot;f||(f=n(a,h,!0),s[h]._subplot=f),f.plot(T,s,a._promises)}}function l(a,s,c,u){for(var m=u._subplots[v]||[],h=0;h<m.length;h++){var T=m[h],f=u[T]._subplot;if(!s[T]&&f){f.framework.remove();for(var o in f.clipPaths)f.clipPaths[o].remove()}}}G.exports={attr:w,name:v,idRoot:v,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:l,toSVG:e(93612).toSVG}},33419:function(G,U,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,w=e(30962).overrideAll,v=w({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),y=w({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,y),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,y);G.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(G,U,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),w=e(27659).NG,v=e(89426),y=e(96115),t=e(92128),r=e(21994),l=e(33419),a=e(39779),s=a.axisNames,c=m(function(h){return h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function u(h,T,f,o){var d=f("bgcolor");o.bgColor=L.combine(d,o.paper_bgcolor);var M=w(o.fullData,a.name,o.id),A=o.layoutOut,E;function g(N,Q){return f(E+"."+N,Q)}for(var S=0;S<s.length;S++){E=s[S],p.isPlainObject(h[E])||(h[E]={});var b=h[E],i=n.newContainer(T,E);i._id=i._name=E,i._attr=o.id+"."+E,i._traceIndices=M.map(function(N){return N._expandedIndex});var P=g("visible");if(i.type="linear",r(i,A),v(b,i,g,i.type),P){var x=E==="realaxis";if(x&&g("side"),x)g("tickvals");else{var k=c(T.realaxis.tickvals||l.realaxis.tickvals.dflt);g("tickvals",k)}var _,B,I,z,O=o.font||{};P&&(_=g("color"),B=_===b.color?_:O.color,I=O.size,z=O.family),y(b,i,g,i.type,{noTicklabelstep:!0,noAng:!x,noExp:!0,font:{color:B,size:I,family:z}}),p.coerce2(h,T,l,E+".ticklen"),p.coerce2(h,T,l,E+".tickwidth"),p.coerce2(h,T,l,E+".tickcolor",T.color);var F=g("ticks");F||(delete T[E].ticklen,delete T[E].tickwidth,delete T[E].tickcolor),t(b,i,g,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),g("layer")}g("hoverformat"),delete i.type,i._input=b}}G.exports=function(T,f,o){C(T,f,o,{noUirevision:!0,type:a.name,attributes:l,handleDefaults:u,font:f.font,paper_bgcolor:f.paper_bgcolor,fullData:o,layoutOut:f})};function m(h,T){var f={};return function(o){var d=T?T(o):o;if(d in f)return f[d];var M=h(o);return f[d]=M,M}}},49119:function(G,U,e){var p=e(71828),L=e(44467),n=e(27670).c;G.exports=function(w,v,y,t){var r=t.type,l=t.attributes,a=t.handleDefaults,s=t.partition||"x",c=v._subplots[r],u=c.length,m=u&&c[0].replace(/\d+$/,""),h,T;function f(A,E){return p.coerce(h,T,l,A,E)}for(var o=0;o<u;o++){var d=c[o];w[d]?h=w[d]:h=w[d]={},T=L.newContainer(v,d,m),t.noUirevision||f("uirevision",v.uirevision);var M={};M[s]=[o/u,(o+1)/u],n(T,v,f,M),t.id=d,a(h,T,f,t)}}},5386:function(G,U,e){var p=e(31562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(n){var C=n.description?" "+n.description:"",w=n.keys||[];if(w.length>0){for(var v=[],y=0;y<w.length;y++)v[y]="`"+w[y]+"`";C=C+"Finally, the template string has access to ",w.length===1?C="variable "+v[0]:C="variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}U.f=function(n,C){n=n||{},C=C||{},L(C);var w={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(w.arrayOk=!0),w},U.s=function(n,C){n=n||{},C=C||{},L(C);var w={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(w.arrayOk=!0),w}},61639:function(G,U,e){var p=e(64380),L=e(27659).AU,n=e(71828).counterRegex,C="ternary";U.name=C;var w=U.attr="subplot";U.idRoot=C,U.idRegex=U.attrRegex=n(C);var v=U.attributes={};v[w]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(81367),U.supplyLayoutDefaults=e(25369),U.plot=function(t){for(var r=t._fullLayout,l=t.calcdata,a=r._subplots[C],s=0;s<a.length;s++){var c=a[s],u=L(l,C,c),m=r[c]._subplot;m||(m=new p({id:c,graphDiv:t,container:r._ternarylayer.node()},r),r[c]._subplot=m),m.plot(u,r,t._promises)}},U.clean=function(y,t,r,l){for(var a=l._subplots[C]||[],s=0;s<a.length;s++){var c=a[s],u=l[c]._subplot;!t[c]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(G,U,e){var p=e(22399),L=e(27670).Y,n=e(13838),C=e(30962).overrideAll,w=e(1426).extendFlat,v={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:w({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:w({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:w({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},y=G.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");y.uirevision={valType:"any",editType:"none"},y.aaxis.uirevision=y.baxis.uirevision=y.caxis.uirevision={valType:"any",editType:"none"}},25369:function(G,U,e){var p=e(7901),L=e(44467),n=e(71828),C=e(49119),w=e(96115),v=e(89426),y=e(38701),t=e(26218),r=e(92128),l=e(81367),a=["aaxis","baxis","caxis"];G.exports=function(m,h,T){C(m,h,T,{type:"ternary",attributes:l,handleDefaults:s,font:h.font,paper_bgcolor:h.paper_bgcolor})};function s(u,m,h,T){var f=h("bgcolor"),o=h("sum");T.bgColor=p.combine(f,T.paper_bgcolor);for(var d,M,A,E=0;E<a.length;E++)d=a[E],M=u[d]||{},A=L.newContainer(m,d),A._name=d,c(M,A,T,m);var g=m.aaxis,S=m.baxis,b=m.caxis;g.min+S.min+b.min>=o&&(g.min=0,S.min=0,b.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function c(u,m,h,T){var f=l[m._name];function o(i,P){return n.coerce(u,m,f,i,P)}o("uirevision",T.uirevision),m.type="linear";var d=o("color"),M=d!==f.color.dflt?d:h.font.color,A=m._name,E=A.charAt(0).toUpperCase(),g="Component "+E,S=o("title.text",g);m._hovertitle=S===g?S:E,n.coerceFont(o,"title.font",{family:h.font.family,size:n.bigFont(h.font.size),color:M}),o("min"),t(u,m,o,"linear"),v(u,m,o,"linear"),w(u,m,o,"linear"),y(u,m,o,{outerTicks:!0});var b=o("showticklabels");b&&(n.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:M}),o("tickangle"),o("tickformat")),r(u,m,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f}),o("hoverformat"),o("layer")}},64380:function(G,U,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),w=C.strTranslate,v=C._,y=e(7901),t=e(91424),r=e(21994),l=e(1426).extendFlat,a=e(74875),s=e(89298),c=e(28569),u=e(30211),m=e(64505),h=m.freeMode,T=m.rectMode,f=e(92998),o=e(47322).prepSelect,d=e(47322).selectOnClick,M=e(47322).clearOutline,A=e(47322).clearSelectionsCache,E=e(85555);function g(O,F){this.id=O.id,this.graphDiv=O.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=g;var S=g.prototype;S.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},S.plot=function(O,F){var N=this,Q=F[N.id],$=F._size;N._hasClipOnAxisFalse=!1;for(var j=0;j<O.length;j++){var ee=O[j][0].trace;if(ee.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}}N.updateLayers(Q),N.adjustLayout(Q,$),a.generalUpdatePerTraceModule(N.graphDiv,N,O,Q),N.layers.plotbg.select("path").call(y.fill,Q.bgcolor)},S.makeFramework=function(O){var F=this,N=F.graphDiv,Q=O[F.id],$=F.clipId="clip"+F.layoutId+F.id,j=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=C.ensureSingleById(O._clips,"clipPath",$,function(ee){ee.append("path").attr("d","M0,0Z")}),F.clipDefRelative=C.ensureSingleById(O._clips,"clipPath",j,function(ee){ee.append("path").attr("d","M0,0Z")}),F.plotContainer=C.ensureSingle(F.container,"g",F.id),F.updateLayers(Q),t.setClipUrl(F.layers.backplot,$,N),t.setClipUrl(F.layers.grids,$,N)},S.updateLayers=function(O){var F=this,N=F.layers,Q=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&Q.push("aaxis","aline"),O.baxis.layer==="below traces"&&Q.push("baxis","bline"),O.caxis.layer==="below traces"&&Q.push("caxis","cline"),Q.push("frontplot"),O.aaxis.layer==="above traces"&&Q.push("aaxis","aline"),O.baxis.layer==="above traces"&&Q.push("baxis","bline"),O.caxis.layer==="above traces"&&Q.push("caxis","cline");var $=F.plotContainer.selectAll("g.toplevel").data(Q,String),j=["agrid","bgrid","cgrid"];$.enter().append("g").attr("class",function(ee){return"toplevel "+ee}).each(function(ee){var oe=p.select(this);N[ee]=oe,ee==="frontplot"?oe.append("g").classed("scatterlayer",!0):ee==="backplot"?oe.append("g").classed("maplayer",!0):ee==="plotbg"?oe.append("path").attr("d","M0,0Z"):ee==="aline"||ee==="bline"||ee==="cline"?oe.append("path"):ee==="grids"&&j.forEach(function(Y){N[Y]=oe.append("g").classed("grid "+Y,!0)})}),$.order()};var b=Math.sqrt(4/3);S.adjustLayout=function(O,F){var N=this,Q=O.domain,$=(Q.x[0]+Q.x[1])/2,j=(Q.y[0]+Q.y[1])/2,ee=Q.x[1]-Q.x[0],oe=Q.y[1]-Q.y[0],Y=ee*F.w,V=oe*F.h,W=O.sum,X=O.aaxis.min,re=O.baxis.min,ie=O.caxis.min,K,q,le,ae,he,me;Y>b*V?(ae=V,le=ae*b):(le=Y,ae=le/b),he=ee*le/Y,me=oe*ae/V,K=F.l+F.w*$-le/2,q=F.t+F.h*(1-j)-ae/2,N.x0=K,N.y0=q,N.w=le,N.h=ae,N.sum=W,N.xaxis={type:"linear",range:[X+2*ie-W,W-X-2*re],domain:[$-he/2,$+he/2],_id:"x"},r(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(He){return He.a>=N.aaxis.range[0]&&He.a<=N.aaxis.range[1]&&He.b>=N.baxis.range[1]&&He.b<=N.baxis.range[0]&&He.c>=N.caxis.range[1]&&He.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[X,W-re-ie],domain:[j-me/2,j+me/2],_id:"y"},r(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var Me=N.yaxis.domain[0],xe=N.aaxis=l({},O.aaxis,{range:[X,W-re-ie],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[Me,Me+me*b],anchor:"free",position:0,_id:"y",_length:le});r(xe,N.graphDiv._fullLayout),xe.setScale();var Ie=N.baxis=l({},O.baxis,{range:[W-X-ie,re],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});r(Ie,N.graphDiv._fullLayout),Ie.setScale();var _e=N.caxis=l({},O.caxis,{range:[W-X-re,ie],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[Me,Me+me*b],anchor:"free",position:0,_id:"y",_length:le});r(_e,N.graphDiv._fullLayout),_e.setScale();var Te="M"+K+","+(q+ae)+"h"+le+"l-"+le/2+",-"+ae+"Z";N.clipDef.select("path").attr("d",Te),N.layers.plotbg.select("path").attr("d",Te);var ye="M0,"+ae+"h"+le+"l-"+le/2+",-"+ae+"Z";N.clipDefRelative.select("path").attr("d",ye);var Ae=w(K,q);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ae),N.clipDefRelative.select("path").attr("transform",null);var Be=w(K-Ie._offset,q+ae);N.layers.baxis.attr("transform",Be),N.layers.bgrid.attr("transform",Be);var Ue=w(K+le/2,q)+"rotate(30)"+w(0,-xe._offset);N.layers.aaxis.attr("transform",Ue),N.layers.agrid.attr("transform",Ue);var De=w(K+le/2,q)+"rotate(-30)"+w(0,-_e._offset);N.layers.caxis.attr("transform",De),N.layers.cgrid.attr("transform",De),N.drawAxes(!0),N.layers.aline.select("path").attr("d",xe.showline?"M"+K+","+(q+ae)+"l"+le/2+",-"+ae:"M0,0").call(y.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",Ie.showline?"M"+K+","+(q+ae)+"h"+le:"M0,0").call(y.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",_e.showline?"M"+(K+le/2)+","+q+"l"+le/2+","+ae:"M0,0").call(y.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),t.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},S.drawAxes=function(O){var F=this,N=F.graphDiv,Q=F.id.substr(7)+"title",$=F.layers,j=F.aaxis,ee=F.baxis,oe=F.caxis;if(F.drawAx(j),F.drawAx(ee),F.drawAx(oe),O){var Y=Math.max(j.showticklabels?j.tickfont.size/2:0,(oe.showticklabels?oe.tickfont.size*.75:0)+(oe.ticks==="outside"?oe.ticklen*.87:0)),V=(ee.showticklabels?ee.tickfont.size:0)+(ee.ticks==="outside"?ee.ticklen:0)+3;$["a-title"]=f.draw(N,"a"+Q,{propContainer:j,propName:F.id+".aaxis.title",placeholder:v(N,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-j.title.font.size/3-Y,"text-anchor":"middle"}}),$["b-title"]=f.draw(N,"b"+Q,{propContainer:ee,propName:F.id+".baxis.title",placeholder:v(N,"Click to enter Component B title"),attributes:{x:F.x0-V,y:F.y0+F.h+ee.title.font.size*.83+V,"text-anchor":"middle"}}),$["c-title"]=f.draw(N,"c"+Q,{propContainer:oe,propName:F.id+".caxis.title",placeholder:v(N,"Click to enter Component C title"),attributes:{x:F.x0+F.w+V,y:F.y0+F.h+oe.title.font.size*.83+V,"text-anchor":"middle"}})}},S.drawAx=function(O){var F=this,N=F.graphDiv,Q=O._name,$=Q.charAt(0),j=O._id,ee=F.layers[Q],oe=30,Y=$+"tickLayout",V=i(O);F[Y]!==V&&(ee.selectAll("."+j+"tick").remove(),F[Y]=V),O.setScale();var W=s.calcTicks(O),X=s.clipEnds(O,W),re=s.makeTransTickFn(O),ie=s.getTickSigns(O)[2],K=C.deg2rad(oe),q=ie*(O.linewidth||1)/2,le=ie*O.ticklen,ae=F.w,he=F.h,me=$==="b"?"M0,"+q+"l"+Math.sin(K)*le+","+Math.cos(K)*le:"M"+q+",0l"+Math.cos(K)*le+","+-Math.sin(K)*le,Me={a:"M0,0l"+he+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+he,c:"M0,0l-"+he+","+ae/2}[$];s.drawTicks(N,O,{vals:O.ticks==="inside"?X:W,layer:ee,path:me,transFn:re,crisp:!1}),s.drawGrid(N,O,{vals:X,layer:F.layers[$+"grid"],path:Me,transFn:re,crisp:!1}),s.drawLabels(N,O,{vals:W,layer:ee,transFn:re,labelFns:s.makeLabelFns(O,0,oe)})};function i(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var P=E.MINZOOM/2+.87,x="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(P*.87+4.5)+"l2.6,1.5l-"+P/2+","+P*.87+"Z",k="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-2.6,1.5l"+P/2+","+P*.87+"Z",_="m0,1l"+P/2+","+P*.87+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-"+(P/2+2.6)+","+(P*.87+4.5)+"l2.6,1.5l"+P/2+",-"+P*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",I=!0;S.clearOutline=function(){A(this.dragOptions),M(this.dragOptions.gd)},S.initInteractions=function(){var O=this,F=O.layers.plotbg.select("path").node(),N=O.graphDiv,Q=N._fullLayout._zoomlayer,$,j;this.dragOptions={element:F,gd:N,plotinfo:{id:O.id,domain:N._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Be,Ue,De){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],$=N._fullLayout._invScaleX,j=N._fullLayout._invScaleY;var He=O.dragOptions.dragmode=N._fullLayout.dragmode;h(He)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,He==="zoom"?(O.dragOptions.moveFn=Ie,O.dragOptions.clickFn=ae,O.dragOptions.doneFn=_e,he(Be,Ue,De)):He==="pan"?(O.dragOptions.moveFn=ye,O.dragOptions.clickFn=ae,O.dragOptions.doneFn=Ae,Te(),O.clearOutline(N)):(T(He)||h(He))&&o(Be,Ue,De,O.dragOptions,He)}};var ee,oe,Y,V,W,X,re,ie,K,q;function le(Be){var Ue={};return Ue[O.id+".aaxis.min"]=Be.a,Ue[O.id+".baxis.min"]=Be.b,Ue[O.id+".caxis.min"]=Be.c,Ue}function ae(Be,Ue){var De=N._fullLayout.clickmode;z(N),Be===2&&(N.emit("plotly_doubleclick",null),n.call("_guiRelayout",N,le({a:0,b:0,c:0}))),De.indexOf("select")>-1&&Be===1&&d(Ue,N,[O.xaxis],[O.yaxis],O.id,O.dragOptions),De.indexOf("event")>-1&&u.click(N,Ue,O.id)}function he(Be,Ue,De){var He=F.getBoundingClientRect();ee=Ue-He.left,oe=De-He.top,N._fullLayout._calcInverseTransform(N);var ut=N._fullLayout._invTransform,et=C.apply3DTransform(ut)(ee,oe);ee=et[0],oe=et[1],Y={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},W=Y,V=O.aaxis.range[1]-Y.a,X=L(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),re="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",ie=!1,K=Q.append("path").attr("class","zoombox").attr("transform",w(O.x0,O.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),q=Q.append("path").attr("class","zoombox-corners").attr("transform",w(O.x0,O.y0)).style({fill:y.background,stroke:y.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(N)}function me(Be,Ue){return 1-Ue/O.h}function Me(Be,Ue){return 1-(Be+(O.h-Ue)/Math.sqrt(3))/O.w}function xe(Be,Ue){return(Be-(O.h-Ue)/Math.sqrt(3))/O.w}function Ie(Be,Ue){var De=ee+Be*$,He=oe+Ue*j,ut=Math.max(0,Math.min(1,me(ee,oe),me(De,He))),et=Math.max(0,Math.min(1,Me(ee,oe),Me(De,He))),Qe=Math.max(0,Math.min(1,xe(ee,oe),xe(De,He))),qe=(ut/2+Qe)*O.w,ft=(1-ut/2-et)*O.w,gt=(qe+ft)/2,xt=ft-qe,Ct=(1-ut)*O.h,Je=Ct-xt/b;xt<E.MINZOOM?(W=Y,K.attr("d",re),q.attr("d","M0,0Z")):(W={a:Y.a+ut*V,b:Y.b+et*V,c:Y.c+Qe*V},K.attr("d",re+"M"+qe+","+Ct+"H"+ft+"L"+gt+","+Je+"L"+qe+","+Ct+"Z"),q.attr("d","M"+ee+","+oe+B+"M"+qe+","+Ct+x+"M"+ft+","+Ct+k+"M"+gt+","+Je+_)),ie||(K.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),q.transition().style("opacity",1).duration(200),ie=!0),N.emit("plotly_relayouting",le(W))}function _e(){z(N),W!==Y&&(n.call("_guiRelayout",N,le(W)),I&&N.data&&N._context.showTips&&(C.notifier(v(N,"Double-click to zoom back out"),"long"),I=!1))}function Te(){Y={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},W=Y}function ye(Be,Ue){var De=Be/O.xaxis._m,He=Ue/O.yaxis._m;W={a:Y.a-He,b:Y.b+(De+He)/2,c:Y.c-(De-He)/2};var ut=[W.a,W.b,W.c].sort(C.sorterAsc),et={a:ut.indexOf(W.a),b:ut.indexOf(W.b),c:ut.indexOf(W.c)};ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),W={a:ut[et.a],b:ut[et.b],c:ut[et.c]},Ue=(Y.a-W.a)*O.yaxis._m,Be=(Y.c-W.c-Y.b+W.b)*O.xaxis._m);var Qe=w(O.x0+Be,O.y0+Ue);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Qe);var qe=w(-Be,-Ue);O.clipDefRelative.select("path").attr("transform",qe),O.aaxis.range=[W.a,O.sum-W.b-W.c],O.baxis.range=[O.sum-W.a-W.c,W.b],O.caxis.range=[O.sum-W.a-W.b,W.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,O),N.emit("plotly_relayouting",le(W))}function Ae(){n.call("_guiRelayout",N,le(W))}F.onmousemove=function(Be){u.hover(N,Be,O.id),N._fullLayout._lasthover=F,N._fullLayout._hoversubplot=O.id},F.onmouseout=function(Be){N._dragging||c.unhover(N,Be)},c.init(this.dragOptions)};function z(O){p.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(G,U,e){var p=e(47769),L=e(64213),n=e(75138),C=e(41965),w=e(24401).addStyleRule,v=e(1426),y=e(9012),t=e(10820),r=v.extendFlat,l=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(A){if(U.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<A.length;E++){var g=A[E];if(!g)throw new Error("Invalid module was attempted to be registered!");switch(g.moduleType){case"trace":a(g);break;case"transform":u(g);break;case"component":c(g);break;case"locale":m(g);break;case"apiMethod":var S=g.name;U.apiMethodRegistry[S]=g.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(M){var A=U.modules[d(M)];return A?A._module:!1},U.traceIs=function(M,A){if(M=d(M),M==="various")return!1;var E=U.modules[M];return E||(M&&p.log("Unrecognized trace type "+M+"."),E=U.modules[y.type.dflt]),!!E.categories[A]},U.getTransformIndices=function(M,A){for(var E=[],g=M.transforms||[],S=0;S<g.length;S++)g[S].type===A&&E.push(S);return E},U.hasTransform=function(M,A){for(var E=M.transforms||[],g=0;g<E.length;g++)if(E[g].type===A)return!0;return!1},U.getComponentMethod=function(M,A){var E=U.componentsRegistry[M];return E&&E[A]||L},U.call=function(){var M=arguments[0],A=[].slice.call(arguments,1);return U.apiMethodRegistry[M].apply(null,A)};function a(M){var A=M.name,E=M.categories,g=M.meta;if(U.modules[A]){p.log("Type "+A+" already registered");return}U.subplotsRegistry[M.basePlotModule.name]||s(M.basePlotModule);for(var S={},b=0;b<E.length;b++)S[E[b]]=!0,U.allCategories[E[b]]=!0;U.modules[A]={_module:M,categories:S},g&&Object.keys(g).length&&(U.modules[A].meta=g),U.allTypes.push(A);for(var i in U.componentsRegistry)T(i,A);M.layoutAttributes&&r(U.traceLayoutAttributes,M.layoutAttributes);var P=M.basePlotModule,x=P.name;if(x==="mapbox"){var k=P.constants.styleRules;for(var _ in k)w(".js-plotly-plot .plotly .mapboxgl-"+_,k[_])}(x==="geo"||x==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function s(M){var A=M.name;if(U.subplotsRegistry[A]){p.log("Plot type "+A+" already registered.");return}h(M),U.subplotsRegistry[A]=M;for(var E in U.componentsRegistry)o(E,M.name)}function c(M){if(typeof M.name!="string")throw new Error("Component module *name* must be a string.");var A=M.name;U.componentsRegistry[A]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&n(U.layoutArrayContainers,A),h(M));for(var E in U.modules)T(A,E);for(var g in U.subplotsRegistry)o(A,g);for(var S in U.transformsRegistry)f(A,S);M.schema&&M.schema.layout&&l(t,M.schema.layout)}function u(M){if(typeof M.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+M.name,E=typeof M.transform=="function",g=typeof M.calcTransform=="function";if(!E&&!g)throw new Error(A+" is missing a *transform* or *calcTransform* method.");E&&g&&p.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(M.attributes)||p.log(A+" registered without an *attributes* object."),typeof M.supplyDefaults!="function"&&p.log(A+" registered without a *supplyDefaults* method."),U.transformsRegistry[M.name]=M;for(var S in U.componentsRegistry)f(S,M.name)}function m(M){var A=M.name,E=A.split("-")[0],g=M.dictionary,S=M.format,b=g&&Object.keys(g).length,i=S&&Object.keys(S).length,P=U.localeRegistry,x=P[A];if(x||(P[A]=x={}),E!==A){var k=P[E];k||(P[E]=k={}),b&&k.dictionary===x.dictionary&&(k.dictionary=g),i&&k.format===x.format&&(k.format=S)}b&&(x.dictionary=g),i&&(x.format=S)}function h(M){if(M.layoutAttributes){var A=M.layoutAttributes._arrayAttrRegexps;if(A)for(var E=0;E<A.length;E++)n(U.layoutArrayRegexes,A[E])}}function T(M,A){var E=U.componentsRegistry[M].schema;if(!(!E||!E.traces)){var g=E.traces[A];g&&l(U.modules[A]._module.attributes,g)}}function f(M,A){var E=U.componentsRegistry[M].schema;if(!(!E||!E.transforms)){var g=E.transforms[A];g&&l(U.transformsRegistry[A].attributes,g)}}function o(M,A){var E=U.componentsRegistry[M].schema;if(!(!E||!E.subplots)){var g=U.subplotsRegistry[A],S=g.layoutAttributes,b=g.attr==="subplot"?g.name:g.attr;Array.isArray(b)&&(b=b[0]);var i=E.subplots[b];S&&i&&l(S,i)}}function d(M){return typeof M=="object"&&(M=M.type),M}},61914:function(G,U,e){var p=e(73972),L=e(71828),n=L.extendFlat,C=L.extendDeep;function w(y){var t;switch(y){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(y){var t=["xaxis","yaxis","zaxis"];return t.indexOf(y.slice(0,5))>-1}G.exports=function(t,r){var l,a=t.data,s=t.layout,c=C([],a),u=C({},s,w(r.tileClass)),m=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var h=Object.keys(u);for(l=0;l<h.length;l++)v(h[l])&&(u[h[l]].title={text:""});for(l=0;l<c.length;l++){var T=c[l];T.showscale=!1,T.marker&&(T.marker.showscale=!1),p.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(r.annotations))for(l=0;l<r.annotations.length;l++)u.annotations.push(r.annotations[l]);var f=Object.keys(u).filter(function(E){return E.match(/^scene\d*$/)});if(f.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<f.length;l++){var d=u[f[l]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),n(d.xaxis,o),n(d.yaxis,o),n(d.zaxis,o),d._scene=null}}var M=document.createElement("div");r.tileClass&&(M.className=r.tileClass);var A={gd:M,td:M,layout:u,data:c,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return r.setBackground!=="transparent"&&(A.config.setBackground=r.setBackground||"opaque"),A.gd.defaultLayout=w(r.tileClass),A}},7239:function(G,U,e){var p=e(71828),L=e(403),n=e(22435),C=e(25095);function w(v,y){var t;return p.isPlainObject(v)||(t=p.getGraphDiv(v)),y=y||{},y.format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(r,l){t&&t._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),p.isIE()&&y.format!=="svg"&&l(new Error(C.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var a=L(v,y),s=y.filename||v.fn||"newplot";s+="."+y.format.replace("-","."),a.then(function(c){return t&&(t._snapshotInProgress=!1),n(c,s,y.format)}).then(function(c){r(c)}).catch(function(c){t&&(t._snapshotInProgress=!1),l(c)})})}G.exports=w},22435:function(G,U,e){var p=e(71828),L=e(25095);function n(C,w,v){var y=document.createElement("a"),t="download"in y,r=new Promise(function(l,a){var s,c;if(p.isIE())return s=L.createBlob(C,"svg"),window.navigator.msSaveBlob(s,w),s=null,l(w);if(t)return s=L.createBlob(C,v),c=L.createObjectURL(s),y.href=c,y.download=w,document.body.appendChild(y),y.click(),document.body.removeChild(y),L.revokeObjectURL(c),s=null,l(w);if(p.isSafari()){var u=v==="svg"?",":";base64,";return L.octetStream(u+encodeURIComponent(C)),l(w)}a(new Error("download error"))});return r}G.exports=n},25095:function(G,U,e){var p=e(73972);U.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},U.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},U.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},U.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;U.createObjectURL=function(C){return L.createObjectURL(C)},U.revokeObjectURL=function(C){return L.revokeObjectURL(C)},U.createBlob=function(C,w){if(w==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=n(window.atob(C));return new window.Blob([v],{type:"image/"+w})},U.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function n(C){for(var w=C.length,v=new ArrayBuffer(w),y=new Uint8Array(v),t=0;t<w;t++)y[t]=C.charCodeAt(t);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(G,U,e){var p=e(25095),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};G.exports=L},70942:function(G,U,e){var p=e(71828),L=e(15398).EventEmitter,n=e(25095);function C(w){var v=w.emitter||new L,y=new Promise(function(t,r){var l=window.Image,a=w.svg,s=w.format||"png";if(p.isIE()&&s!=="svg"){var c=new Error(n.MSG_IE_BAD_FORMAT);return r(c),w.promise?y:v.emit("error",c)}var u=w.canvas,m=w.scale||1,h=w.width||300,T=w.height||150,f=m*h,o=m*T,d=u.getContext("2d",{willReadFrequently:!0}),M=new l,A,E;s==="svg"||p.isSafari()?E=n.encodeSVG(a):(A=n.createBlob(a,"svg"),E=n.createObjectURL(A)),u.width=f,u.height=o,M.onload=function(){var g;switch(A=null,n.revokeObjectURL(E),s!=="svg"&&d.drawImage(M,0,0,f,o),s){case"jpeg":g=u.toDataURL("image/jpeg");break;case"png":g=u.toDataURL("image/png");break;case"webp":g=u.toDataURL("image/webp");break;case"svg":g=E;break;default:var S="Image format is not jpeg, png, svg or webp.";if(r(new Error(S)),!w.promise)return v.emit("error",S)}t(g),w.promise||v.emit("success",g)},M.onerror=function(g){if(A=null,n.revokeObjectURL(E),r(g),!w.promise)return v.emit("error",g)},M.src=E});return w.promise?y:v}G.exports=C},56395:function(G,U,e){var p=e(15398).EventEmitter,L=e(73972),n=e(71828),C=e(25095),w=e(61914),v=e(5900),y=e(70942);function t(r,l){var a=new p,s=w(r,{format:"png"}),c=s.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);function u(){var h=C.getDelay(c._fullLayout);setTimeout(function(){var T=v(c),f=document.createElement("canvas");f.id=n.randstr(),a=y({format:l.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:f,emitter:a,svg:T}),a.clean=function(){c&&document.body.removeChild(c)}},h)}var m=C.getRedrawFunc(c);return L.call("_doPlot",c,s.data,s.layout,s.config).then(m).then(u).catch(function(h){a.emit("error",h)}),a}G.exports=t},5900:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(7901),w=e(77922),v=/"/g,y="TOBESTRIPPED",t=new RegExp('("'+y+")|("+y+'")',"g");function r(a){var s=p.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":s.html(u).text()});return s.remove(),c}function l(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(s,c,u){var m=s._fullLayout,h=m._paper,T=m._toppaper,f=m.width,o=m.height,d;h.insert("rect",":first-child").call(n.setRect,0,0,f,o).call(C.fill,m.paper_bgcolor);var M=m._basePlotModules||[];for(d=0;d<M.length;d++){var A=M[d];A.toSVG&&A.toSVG(s)}if(T){var E=T.node().childNodes,g=Array.prototype.slice.call(E);for(d=0;d<g.length;d++){var S=g[d];S.childNodes.length&&h.node().appendChild(S)}}m._draggers&&m._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var P=this.style.fontFamily;P&&P.indexOf('"')!==-1&&i.style("font-family",P.replace(v,y))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=p.select(this),P=this.style.fill;P&&P.indexOf("url(")!==-1&&i.style("fill",P.replace(v,y));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&i.style("stroke",x.replace(v,y))}),(c==="pdf"||c==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(w.xmlns,"xmlns",w.svg),h.node().setAttributeNS(w.xmlns,"xmlns:xlink",w.xlink),c==="svg"&&u&&(h.attr("width",u*f),h.attr("height",u*o),h.attr("viewBox","0 0 "+f+" "+o));var b=new window.XMLSerializer().serializeToString(h.node());return b=r(b),b=l(b),b=b.replace(t,"'"),L.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},75341:function(G,U,e){var p=e(71828);G.exports=function(n,C){for(var w=0;w<n.length;w++)n[w].i=w;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,n,"mo",!0),p.mergeArray(v.color,n,"mc");var y=v.line;y&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"))}}},1486:function(G,U,e){var p=e(82196),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(5386).s,w=e(50693),v=e(41940),y=e(97313),t=e(79952).u,r=e(1426).extendFlat,l=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=p.marker,s=a.line,c=r({},s.width,{dflt:0}),u=r({width:c,editType:"calc"},w("marker.line")),m=r({line:u,editType:"calc"},w("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});G.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:y.eventDataKeys}),hovertext:p.hovertext,hovertemplate:n({},{keys:y.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},l,{}),insidetextfont:r({},l,{}),outsidetextfont:r({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(G,U,e){var p=e(89298),L=e(42973),n=e(52075).hasColorscale,C=e(78803),w=e(75341),v=e(66279);G.exports=function(t,r){var l=p.getFromId(t,r.xaxis||"x"),a=p.getFromId(t,r.yaxis||"y"),s,c,u,m,h,T,f={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(s=l.makeCalcdata(r,"x",f),u=a.makeCalcdata(r,"y"),m=L(r,a,"y",u),h=!!r.yperiodalignment,T="y"):(s=a.makeCalcdata(r,"y",f),u=l.makeCalcdata(r,"x"),m=L(r,l,"x",u),h=!!r.xperiodalignment,T="x"),c=m.vals;for(var o=Math.min(c.length,s.length),d=new Array(o),M=0;M<o;M++)d[M]={p:c[M],s:s[M]},h&&(d[M].orig_p=u[M],d[M][T+"End"]=m.ends[M],d[M][T+"Start"]=m.starts[M]),r.ids&&(d[M].id=String(r.ids[M]));return n(r,"marker")&&C(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),n(r,"marker.line")&&C(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(d,r),v(d,r),d}},97313:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(G,U,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(73972),w=e(89298),v=e(99082).getAxisGroup,y=e(61546);function t(b,i){for(var P=i.xaxis,x=i.yaxis,k=b._fullLayout,_=b._fullData,B=b.calcdata,I=[],z=[],O=0;O<_.length;O++){var F=_[O];if(F.visible===!0&&C.traceIs(F,"bar")&&F.xaxis===P._id&&F.yaxis===x._id&&(F.orientation==="h"?I.push(B[O]):z.push(B[O]),F._computePh))for(var N=b.calcdata[O],Q=0;Q<N.length;Q++)typeof N[Q].ph0=="function"&&(N[Q].ph0=N[Q].ph0()),typeof N[Q].ph1=="function"&&(N[Q].ph1=N[Q].ph1())}var $={xCat:P.type==="category"||P.type==="multicategory",yCat:x.type==="category"||x.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};r(b,P,x,z,$),r(b,x,P,I,$)}function r(b,i,P,x,k){if(x.length){var _,B,I,z,O;switch(l(P,x),k.mode){case"overlay":a(i,P,x,k);break;case"group":for(_=[],B=[],I=0;I<x.length;I++)z=x[I],O=z[0].trace,O.offset===void 0?B.push(z):_.push(z);B.length&&s(b,i,P,B,k),_.length&&a(i,P,_,k);break;case"stack":case"relative":for(_=[],B=[],I=0;I<x.length;I++)z=x[I],O=z[0].trace,O.base===void 0?B.push(z):_.push(z);B.length&&c(b,i,P,B,k),_.length&&a(i,P,_,k);break}g(x,i)}}function l(b,i){var P,x;for(P=0;P<i.length;P++){var k=i[P],_=k[0].trace,B=_.type==="funnel"?_._base:_.base,I,z=_.orientation==="h"?_.xcalendar:_.ycalendar,O=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(L(B)){for(x=0;x<Math.min(B.length,k.length);x++)I=O(B[x],0,z),p(I)?(k[x].b=+I,k[x].hasB=1):k[x].b=0;for(;x<k.length;x++)k[x].b=0}else{I=O(B,0,z);var F=p(I);for(I=F?I:0,x=0;x<k.length;x++)k[x].b=I,F&&(k[x].hasB=1)}}}function a(b,i,P,x){for(var k=0;k<P.length;k++){var _=P[k],B=new y([_],{posAxis:b,sepNegVal:!1,overlapNoMerge:!x.norm});u(b,B,x),x.norm?(M(B),E(i,B,x)):o(i,B)}}function s(b,i,P,x,k){var _=new y(x,{posAxis:i,sepNegVal:!1,overlapNoMerge:!k.norm});m(b,i,_,k),A(_,i),k.norm?(M(_),E(P,_,k)):o(P,_)}function c(b,i,P,x,k){var _=new y(x,{posAxis:i,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});u(i,_,k),d(P,_,k);for(var B=0;B<x.length;B++)for(var I=x[B],z=0;z<I.length;z++){var O=I[z];if(O.s!==n){var F=O.b+O.s===_.get(O.p,O.s);F&&(O._outmost=!0)}}k.norm&&E(P,_,k)}function u(b,i,P){for(var x=i.minDiff,k=i.traces,_=x*(1-P.gap),B=_,I=B*(1-(P.groupgap||0)),z=-I/2,O=0;O<k.length;O++){var F=k[O],N=F[0].t;N.barwidth=I,N.poffset=z,N.bargroupwidth=_,N.bardelta=x}i.binWidth=k[0][0].t.barwidth/100,h(i),T(b,i),f(b,i)}function m(b,i,P,x){for(var k=b._fullLayout,_=P.positions,B=P.distinctPositions,I=P.minDiff,z=P.traces,O=z.length,F=_.length!==B.length,N=I*(1-x.gap),Q=v(k,i._id)+z[0][0].trace.orientation,$=k._alignmentOpts[Q]||{},j=0;j<O;j++){var ee=z[j],oe=ee[0].trace,Y=$[oe.alignmentgroup]||{},V=Object.keys(Y.offsetGroups||{}).length,W;V?W=N/V:W=F?N/O:N;var X=W*(1-(x.groupgap||0)),re;V?re=((2*oe._offsetIndex+1-V)*W-X)/2:re=F?((2*j+1-O)*W-X)/2:-X/2;var ie=ee[0].t;ie.barwidth=X,ie.poffset=re,ie.bargroupwidth=N,ie.bardelta=I}P.binWidth=z[0][0].t.barwidth/100,h(P),T(i,P),f(i,P,F)}function h(b){var i=b.traces,P,x;for(P=0;P<i.length;P++){var k=i[P],_=k[0],B=_.trace,I=_.t,z=B._offset||B.offset,O=I.poffset,F;if(L(z)){for(F=Array.prototype.slice.call(z,0,k.length),x=0;x<F.length;x++)p(F[x])||(F[x]=O);for(x=F.length;x<k.length;x++)F.push(O);I.poffset=F}else z!==void 0&&(I.poffset=z);var N=B._width||B.width,Q=I.barwidth;if(L(N)){var $=Array.prototype.slice.call(N,0,k.length);for(x=0;x<$.length;x++)p($[x])||($[x]=Q);for(x=$.length;x<k.length;x++)$.push(Q);if(I.barwidth=$,z===void 0){for(F=[],x=0;x<k.length;x++)F.push(O+(Q-$[x])/2);I.poffset=F}}else N!==void 0&&(I.barwidth=N,z===void 0&&(I.poffset=O+(Q-N)/2))}}function T(b,i){for(var P=i.traces,x=S(b),k=0;k<P.length;k++)for(var _=P[k],B=_[0].t,I=B.poffset,z=Array.isArray(I),O=B.barwidth,F=Array.isArray(O),N=0;N<_.length;N++){var Q=_[N],$=Q.w=F?O[N]:O;Q.p===void 0&&(Q.p=Q[x],Q["orig_"+x]=Q[x]);var j=(z?I[N]:I)+$/2;Q[x]=Q.p+j}}function f(b,i,P){var x=i.traces,k=i.minDiff,_=k/2;w.minDtick(b,i.minDiff,i.distinctPositions[0],P);for(var B=0;B<x.length;B++){var I=x[B],z=I[0],O=z.trace,F=[],N,Q,$,j;for(j=0;j<I.length;j++)N=I[j],Q=N.p-_,$=N.p+_,F.push(Q,$);if(O.width||O.offset){var ee=z.t,oe=ee.poffset,Y=ee.barwidth,V=Array.isArray(oe),W=Array.isArray(Y);for(j=0;j<I.length;j++){N=I[j];var X=V?oe[j]:oe,re=W?Y[j]:Y;Q=N.p+X,$=Q+re,F.push(Q,$)}}O._extremes[b._id]=w.findExtremes(b,F,{padded:!1})}}function o(b,i){for(var P=i.traces,x=S(b),k=0;k<P.length;k++){for(var _=P[k],B=_[0].trace,I=B.type==="scatter",z=B.orientation==="v",O=[],F=!1,N=0;N<_.length;N++){var Q=_[N],$=I?0:Q.b,j=I?z?Q.y:Q.x:$+Q.s;Q[x]=j,O.push(j),Q.hasB&&O.push($),(!Q.hasB||!Q.b)&&(F=!0)}B._extremes[b._id]=w.findExtremes(b,O,{tozero:F,padded:!0})}}function d(b,i,P){var x=S(b),k=i.traces,_,B,I,z,O,F;for(z=0;z<k.length;z++)if(_=k[z],B=_[0].trace,B.type==="funnel")for(O=0;O<_.length;O++)F=_[O],F.s!==n&&i.put(F.p,-.5*F.s);for(z=0;z<k.length;z++){_=k[z],B=_[0].trace,I=B.type==="funnel";var N=[];for(O=0;O<_.length;O++)if(F=_[O],F.s!==n){var Q;I?Q=F.s:Q=F.s+F.b;var $=i.put(F.p,Q),j=$+Q;F.b=$,F[x]=j,P.norm||(N.push(j),F.hasB&&N.push($))}P.norm||(B._extremes[b._id]=w.findExtremes(b,N,{tozero:!0,padded:!0}))}}function M(b){for(var i=b.traces,P=0;P<i.length;P++)for(var x=i[P],k=0;k<x.length;k++){var _=x[k];_.s!==n&&b.put(_.p,_.b+_.s)}}function A(b,i){for(var P=b.traces,x=0;x<P.length;x++){var k=P[x],_=k[0].trace;if(_.base===void 0)for(var B=new y([k],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),I=0;I<k.length;I++){var z=k[I];if(z.p!==n){var O=B.put(z.p,z.b+z.s);O&&(z.b=O)}}}}function E(b,i,P){var x=i.traces,k=S(b),_=P.norm==="fraction"?1:100,B=_/1e9,I=b.l2c(b.c2l(0)),z=P.mode==="stack"?_:I;function O(re){return p(b.c2l(re))&&(re<I-B||re>z+B||!p(I))}for(var F=0;F<x.length;F++){for(var N=x[F],Q=N[0].trace,$=[],j=!1,ee=!1,oe=0;oe<N.length;oe++){var Y=N[oe];if(Y.s!==n){var V=Math.abs(_/i.get(Y.p,Y.s));Y.b*=V,Y.s*=V;var W=Y.b,X=W+Y.s;Y[k]=X,$.push(X),ee=ee||O(X),Y.hasB&&($.push(W),ee=ee||O(W)),(!Y.hasB||!Y.b)&&(j=!0)}}Q._extremes[b._id]=w.findExtremes(b,$,{tozero:j,padded:ee})}}function g(b,i){var P=S(i),x={},k,_,B,I=1/0,z=-1/0;for(k=0;k<b.length;k++)for(B=b[k],_=0;_<B.length;_++){var O=B[_].p;p(O)&&(I=Math.min(I,O),z=Math.max(z,O))}var F=1e4/(z-I),N=x.round=function(V){return String(Math.round(F*(V-I)))};for(k=0;k<b.length;k++){B=b[k],B[0].t.extents=x;var Q=B[0].t.poffset,$=Array.isArray(Q);for(_=0;_<B.length;_++){var j=B[_],ee=j[P]-j.w/2;if(p(ee)){var oe=j[P]+j.w/2,Y=N(j.p);x[Y]?x[Y]=[Math.min(ee,x[Y][0]),Math.max(oe,x[Y][1])]:x[Y]=[ee,oe]}j.p0=j.p+($?Q[_]:Q),j.p1=j.p0+j.w,j.s0=j.b,j.s1=j.s0+j.s}}}function S(b){return b._id.charAt(0)}G.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(G,U,e){var p=e(71828),L=e(7901),n=e(73972),C=e(67513),w=e(73927),v=e(98340),y=e(26125),t=e(1486),r=p.coerceFont;function l(c,u,m,h){function T(A,E){return p.coerce(c,u,t,A,E)}var f=C(c,u,h,T);if(!f){u.visible=!1;return}w(c,u,h,T),T("xhoverformat"),T("yhoverformat"),T("orientation",u.x&&!u.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var o=T("textposition");s(c,u,h,T,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(c,u,T,m,h);var d=(u.marker.line||{}).color,M=n.getComponentMethod("errorbars","supplyDefaults");M(c,u,d||L.defaultLine,{axis:"y"}),M(c,u,d||L.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(u,T)}function a(c,u){var m,h;function T(o){return p.coerce(h._input,h,t,o)}if(u.barmode==="group")for(var f=0;f<c.length;f++)h=c[f],h.type==="bar"&&(m=h._input,y(m,h,u,T))}function s(c,u,m,h,T,f){f=f||{};var o=f.moduleHasSelected!==!1,d=f.moduleHasUnselected!==!1,M=f.moduleHasConstrain!==!1,A=f.moduleHasCliponaxis!==!1,E=f.moduleHasTextangle!==!1,g=f.moduleHasInsideanchor!==!1,S=!!f.hasPathbar,b=Array.isArray(T)||T==="auto",i=b||T==="inside",P=b||T==="outside";if(i||P){var x=r(h,"textfont",m.font),k=p.extendFlat({},x),_=c.textfont&&c.textfont.color,B=!_;if(B&&delete k.color,r(h,"insidetextfont",k),S){var I=p.extendFlat({},x);B&&delete I.color,r(h,"pathbar.textfont",I)}P&&r(h,"outsidetextfont",x),o&&h("selected.textfont.color"),d&&h("unselected.textfont.color"),M&&h("constraintext"),A&&h("cliponaxis"),E&&h("textangle"),h("texttemplate")}i&&g&&h("insidetextanchor")}G.exports={supplyDefaults:l,crossTraceDefaults:a,handleText:s}},58065:function(G){G.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(G,U,e){var p=e(92770),L=e(84267),n=e(71828).isArrayOrTypedArray;U.coerceString=function(C,w,v){if(typeof w=="string"){if(w||!C.noBlank)return w}else if((typeof w=="number"||w===!0)&&!C.strict)return String(w);return v!==void 0?v:C.dflt},U.coerceNumber=function(C,w,v){if(p(w)){w=+w;var y=C.min,t=C.max,r=y!==void 0&&w<y||t!==void 0&&w>t;if(!r)return w}return v!==void 0?v:C.dflt},U.coerceColor=function(C,w,v){return L(w).isValid()?w:v!==void 0?v:C.dflt},U.coerceEnumerated=function(C,w,v){return C.coerceNumber&&(w=+w),C.values.indexOf(w)!==-1?w:v!==void 0?v:C.dflt},U.getValue=function(C,w){var v;return Array.isArray(C)?w<C.length&&(v=C[w]):v=C,v},U.getLineWidth=function(C,w){var v=0<w.mlw?w.mlw:n(C.marker.line.width)?0:C.marker.line.width;return v}},95423:function(G,U,e){var p=e(30211),L=e(73972),n=e(7901),C=e(71828).fillText,w=e(69383).getLineWidth,v=e(89298).hoverLabelText,y=e(50606).BADNUM;function t(a,s,c,u,m){var h=r(a,s,c,u,m);if(h){var T=h.cd,f=T[0].trace,o=T[h.index];return h.color=l(f,o),L.getComponentMethod("errorbars","hoverInfo")(o,f,h),[h]}}function r(a,s,c,u,m){var h=a.cd,T=h[0].trace,f=h[0].t,o=u==="closest",d=T.type==="waterfall",M=a.maxHoverDistance,A=a.maxSpikeDistance,E,g,S,b,i,P,x;T.orientation==="h"?(E=c,g=s,S="y",b="x",i=oe,P=$):(E=s,g=c,S="x",b="y",P=oe,i=$);var k=T[S+"period"],_=o||k;function B(he){return z(he,-1)}function I(he){return z(he,1)}function z(he,me){var Me=he.w;return he[S]+me*Me/2}function O(he){return he[S+"End"]-he[S+"Start"]}var F=o?B:k?function(he){return he.p-O(he)/2}:function(he){return Math.min(B(he),he.p-f.bardelta/2)},N=o?I:k?function(he){return he.p+O(he)/2}:function(he){return Math.max(I(he),he.p+f.bardelta/2)};function Q(he,me,Me){return m.finiteRange&&(Me=0),p.inbox(he-E,me-E,Me+Math.min(1,Math.abs(me-he)/x)-1)}function $(he){return Q(F(he),N(he),M)}function j(he){return Q(B(he),I(he),A)}function ee(he){var me=he[b];if(d){var Me=Math.abs(he.rawS)||0;g>0?me+=Me:g<0&&(me-=Me)}return me}function oe(he){var me=g,Me=he.b,xe=ee(he);return p.inbox(Me-me,xe-me,M+(xe-me)/(xe-Me)-1)}function Y(he){var me=g,Me=he.b,xe=ee(he);return p.inbox(Me-me,xe-me,A+(xe-me)/(xe-Me)-1)}var V=a[S+"a"],W=a[b+"a"];x=Math.abs(V.r2c(V.range[1])-V.r2c(V.range[0]));function X(he){return(i(he)+P(he))/2}var re=p.getDistanceFunction(u,i,P,X);if(p.getClosest(h,re,a),a.index!==!1&&h[a.index].p!==y){_||(F=function(he){return Math.min(B(he),he.p-f.bargroupwidth/2)},N=function(he){return Math.max(I(he),he.p+f.bargroupwidth/2)});var ie=a.index,K=h[ie],q=T.base?K.b+K.s:K.s;a[b+"0"]=a[b+"1"]=W.c2p(K[b],!0),a[b+"LabelVal"]=q;var le=f.extents[f.extents.round(K.p)];a[S+"0"]=V.c2p(o?F(K):le[0],!0),a[S+"1"]=V.c2p(o?N(K):le[1],!0);var ae=K.orig_p!==void 0;return a[S+"LabelVal"]=ae?K.orig_p:K.p,a.labelLabel=v(V,a[S+"LabelVal"],T[S+"hoverformat"]),a.valueLabel=v(W,a[b+"LabelVal"],T[b+"hoverformat"]),a.baseLabel=v(W,K.b,T[b+"hoverformat"]),a.spikeDistance=(Y(K)+j(K))/2,a[S+"Spike"]=V.c2p(K.p,!0),C(K,T,a),a.hovertemplate=T.hovertemplate,a}}function l(a,s){var c=s.mcc||a.marker.color,u=s.mlcc||a.marker.line.color,m=w(a,s);if(n.opacity(c))return c;if(n.opacity(u)&&m)return u}G.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:l}},60822:function(G,U,e){G.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(G,U,e){var p=e(73972),L=e(89298),n=e(71828),C=e(43641);G.exports=function(w,v,y){function t(f,o){return n.coerce(w,v,C,f,o)}for(var r=!1,l=!1,a=!1,s={},c=t("barmode"),u=0;u<y.length;u++){var m=y[u];if(p.traceIs(m,"bar")&&m.visible)r=!0;else continue;if(c==="group"){var h=m.xaxis+m.yaxis;s[h]&&(a=!0),s[h]=!0}if(m.visible&&m.type==="histogram"){var T=L.getFromId({_fullLayout:v},m[m.orientation==="v"?"xaxis":"yaxis"]);T.type!=="category"&&(l=!0)}}if(!r){delete v.barmode;return}c!=="overlay"&&t("barnorm"),t("bargap",l&&!a?0:.2),t("bargroupgap")}},17295:function(G,U,e){var p=e(39898),L=e(92770),n=e(71828),C=e(63893),w=e(7901),v=e(91424),y=e(73972),t=e(89298).tickText,r=e(72597),l=r.recordMinTextSize,a=r.clearMinTextSize,s=e(16688),c=e(69383),u=e(97313),m=e(1486),h=m.text,T=m.textposition,f=e(23469).appendArrayPointValue,o=u.TEXTPAD;function d(F){return F.id}function M(F){if(F.ids)return d}function A(F,N){return F<N?1:-1}function E(F,N,Q,$){var j=[],ee=[],oe=$?N:Q,Y=$?Q:N;return j[0]=oe.c2p(F.s0,!0),ee[0]=Y.c2p(F.p0,!0),j[1]=oe.c2p(F.s1,!0),ee[1]=Y.c2p(F.p1,!0),$?[j,ee]:[ee,j]}function g(F,N,Q,$){if(!N.uniformtext.mode&&S(Q)){var j;return $&&(j=$()),F.transition().duration(Q.duration).ease(Q.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})}else return F}function S(F){return F&&F.duration>0}function b(F,N,Q,$,j,ee){var oe=N.xaxis,Y=N.yaxis,V=F._fullLayout,W=F._context.staticPlot;j||(j={mode:V.barmode,norm:V.barmode,gap:V.bargap,groupgap:V.bargroupgap},a("bar",V));var X=n.makeTraceGroups($,Q,"trace bars").each(function(re){var ie=p.select(this),K=re[0].trace,q=K.type==="waterfall",le=K.type==="funnel",ae=K.type==="bar",he=ae||le,me=0;q&&K.connector.visible&&K.connector.mode==="between"&&(me=K.connector.line.width/2);var Me=K.orientation==="h",xe=S(j),Ie=n.ensureSingle(ie,"g","points"),_e=M(K),Te=Ie.selectAll("g.point").data(n.identity,_e);Te.enter().append("g").classed("point",!0),Te.exit().remove(),Te.each(function(Ae,Be){var Ue=p.select(this),De=E(Ae,oe,Y,Me),He=De[0][0],ut=De[0][1],et=De[1][0],Qe=De[1][1],qe=(Me?ut-He:Qe-et)===0;qe&&he&&c.getLineWidth(K,Ae)&&(qe=!1),qe||(qe=!L(He)||!L(ut)||!L(et)||!L(Qe)),Ae.isBlank=qe,qe&&(Me?ut=He:Qe=et),me&&!qe&&(Me?(He-=A(He,ut)*me,ut+=A(He,ut)*me):(et-=A(et,Qe)*me,Qe+=A(et,Qe)*me));var ft,gt;if(K.type==="waterfall"){if(!qe){var xt=K[Ae.dir].marker;ft=xt.line.width,gt=xt.color}}else ft=c.getLineWidth(K,Ae),gt=Ae.mc||K.marker.color;function Ct(Xe){var Pe=p.round(ft/2%1,2);return j.gap===0&&j.groupgap===0?p.round(Math.round(Xe)-Pe,2):Xe}function Je(Xe,Pe,we){return we&&Xe===Pe?Xe:Math.abs(Xe-Pe)>=2?Ct(Xe):Xe>Pe?Math.ceil(Xe):Math.floor(Xe)}if(!F._context.staticPlot){var ze=w.opacity(gt),Fe=ze<1||ft>.01?Ct:Je;He=Fe(He,ut,Me),ut=Fe(ut,He,Me),et=Fe(et,Qe,!Me),Qe=Fe(Qe,et,!Me)}var $e=g(n.ensureSingle(Ue,"path"),V,j,ee);if($e.style("vector-effect",W?"none":"non-scaling-stroke").attr("d",isNaN((ut-He)*(Qe-et))||qe&&F._context.staticPlot?"M0,0Z":"M"+He+","+et+"V"+Qe+"H"+ut+"V"+et+"Z").call(v.setClipUrl,N.layerClipId,F),!V.uniformtext.mode&&xe){var at=v.makePointStyleFns(K);v.singlePointStyle(Ae,$e,K,at,F)}i(F,N,Ue,re,Be,He,ut,et,Qe,j,ee),N.layerClipId&&v.hideOutsideRangePoint(Ae,Ue.select("text"),oe,Y,K.xcalendar,K.ycalendar)});var ye=K.cliponaxis===!1;v.setClipUrl(ie,ye?null:N.layerClipId,F)});y.getComponentMethod("errorbars","plot")(F,X,N,j)}function i(F,N,Q,$,j,ee,oe,Y,V,W,X){var re=N.xaxis,ie=N.yaxis,K=F._fullLayout,q;function le(Xe,Pe,we){var ue=n.ensureSingle(Xe,"text").text(Pe).attr({class:"bartext bartext-"+q,"text-anchor":"middle","data-notex":1}).call(v.font,we).call(C.convertToTspans,F);return ue}var ae=$[0].trace,he=ae.orientation==="h",me=B(K,$,j,re,ie);q=I(ae,j);var Me=W.mode==="stack"||W.mode==="relative",xe=$[j],Ie=!Me||xe._outmost;if(!me||q==="none"||(xe.isBlank||ee===oe||Y===V)&&(q==="auto"||q==="inside")){Q.select("text").remove();return}var _e=K.font,Te=s.getBarColor($[j],ae),ye=s.getInsideTextFont(ae,j,_e,Te),Ae=s.getOutsideTextFont(ae,j,_e),Be=Q.datum();he?re.type==="log"&&Be.s0<=0&&(re.range[0]<re.range[1]?ee=0:ee=re._length):ie.type==="log"&&Be.s0<=0&&(ie.range[0]<ie.range[1]?Y=ie._length:Y=0);var Ue=Math.abs(oe-ee)-2*o,De=Math.abs(V-Y)-2*o,He,ut,et,Qe,qe;if(q==="outside"&&!Ie&&!xe.hasB&&(q="inside"),q==="auto")if(Ie){q="inside",qe=n.ensureUniformFontSize(F,ye),He=le(Q,me,qe),ut=v.bBox(He.node()),et=ut.width,Qe=ut.height;var ft=et>0&&Qe>0,gt=et<=Ue&&Qe<=De,xt=et<=De&&Qe<=Ue,Ct=he?Ue>=et*(De/Qe):De>=Qe*(Ue/et);ft&&(gt||xt||Ct)?q="inside":(q="outside",He.remove(),He=null)}else q="inside";if(!He){qe=n.ensureUniformFontSize(F,q==="outside"?Ae:ye),He=le(Q,me,qe);var Je=He.attr("transform");if(He.attr("transform",""),ut=v.bBox(He.node()),et=ut.width,Qe=ut.height,He.attr("transform",Je),et<=0||Qe<=0){He.remove();return}}var ze=ae.textangle,Fe,$e;q==="outside"?($e=ae.constraintext==="both"||ae.constraintext==="outside",Fe=_(ee,oe,Y,V,ut,{isHorizontal:he,constrained:$e,angle:ze})):($e=ae.constraintext==="both"||ae.constraintext==="inside",Fe=k(ee,oe,Y,V,ut,{isHorizontal:he,constrained:$e,angle:ze,anchor:ae.insidetextanchor})),Fe.fontSize=qe.size,l(ae.type==="histogram"?"bar":ae.type,Fe,K),xe.transform=Fe;var at=g(He,K,W,X);n.setTransormAndDisplay(at,Fe)}function P(F){return F==="auto"?0:F}function x(F,N){var Q=Math.PI/180*N,$=Math.abs(Math.sin(Q)),j=Math.abs(Math.cos(Q));return{x:F.width*j+F.height*$,y:F.width*$+F.height*j}}function k(F,N,Q,$,j,ee){var oe=!!ee.isHorizontal,Y=!!ee.constrained,V=ee.angle||0,W=ee.anchor||"end",X=W==="end",re=W==="start",ie=ee.leftToRight||0,K=(ie+1)/2,q=1-K,le=j.width,ae=j.height,he=Math.abs(N-F),me=Math.abs($-Q),Me=he>2*o&&me>2*o?o:0;he-=2*Me,me-=2*Me;var xe=P(V);V==="auto"&&!(le<=he&&ae<=me)&&(le>he||ae>me)&&(!(le>me||ae>he)||le<ae!=he<me)&&(xe+=90);var Ie=x(j,xe),_e=1;Y&&(_e=Math.min(1,he/Ie.x,me/Ie.y));var Te=j.left*q+j.right*K,ye=(j.top+j.bottom)/2,Ae=(F+o)*q+(N-o)*K,Be=(Q+$)/2,Ue=0,De=0;if(re||X){var He=(oe?Ie.x:Ie.y)/2,ut=oe?A(F,N):A(Q,$);oe?re?(Ae=F+ut*Me,Ue=-ut*He):(Ae=N-ut*Me,Ue=ut*He):re?(Be=Q+ut*Me,De=-ut*He):(Be=$-ut*Me,De=ut*He)}return{textX:Te,textY:ye,targetX:Ae,targetY:Be,anchorX:Ue,anchorY:De,scale:_e,rotate:xe}}function _(F,N,Q,$,j,ee){var oe=!!ee.isHorizontal,Y=!!ee.constrained,V=ee.angle||0,W=j.width,X=j.height,re=Math.abs(N-F),ie=Math.abs($-Q),K;oe?K=ie>2*o?o:0:K=re>2*o?o:0;var q=1;Y&&(q=oe?Math.min(1,ie/X):Math.min(1,re/W));var le=P(V),ae=x(j,le),he=(oe?ae.x:ae.y)/2,me=(j.left+j.right)/2,Me=(j.top+j.bottom)/2,xe=(F+N)/2,Ie=(Q+$)/2,_e=0,Te=0,ye=oe?A(N,F):A(Q,$);return oe?(xe=N-ye*K,_e=ye*he):(Ie=$+ye*K,Te=-ye*he),{textX:me,textY:Me,targetX:xe,targetY:Ie,anchorX:_e,anchorY:Te,scale:q,rotate:le}}function B(F,N,Q,$,j){var ee=N[0].trace,oe=ee.texttemplate,Y;return oe?Y=z(F,N,Q,$,j):ee.textinfo?Y=O(N,Q,$,j):Y=c.getValue(ee.text,Q),c.coerceString(h,Y)}function I(F,N){var Q=c.getValue(F.textposition,N);return c.coerceEnumerated(T,Q)}function z(F,N,Q,$,j){var ee=N[0].trace,oe=n.castOption(ee,Q,"texttemplate");if(!oe)return"";var Y=ee.type==="histogram",V=ee.type==="waterfall",W=ee.type==="funnel",X=ee.orientation==="h",re,ie,K,q;X?(re="y",ie=j,K="x",q=$):(re="x",ie=$,K="y",q=j);function le(_e){return t(ie,ie.c2l(_e),!0).text}function ae(_e){return t(q,q.c2l(_e),!0).text}var he=N[Q],me={};me.label=he.p,me.labelLabel=me[re+"Label"]=le(he.p);var Me=n.castOption(ee,he.i,"text");(Me===0||Me)&&(me.text=Me),me.value=he.s,me.valueLabel=me[K+"Label"]=ae(he.s);var xe={};f(xe,ee,he.i),(Y||xe.x===void 0)&&(xe.x=X?me.value:me.label),(Y||xe.y===void 0)&&(xe.y=X?me.label:me.value),(Y||xe.xLabel===void 0)&&(xe.xLabel=X?me.valueLabel:me.labelLabel),(Y||xe.yLabel===void 0)&&(xe.yLabel=X?me.labelLabel:me.valueLabel),V&&(me.delta=+he.rawS||he.s,me.deltaLabel=ae(me.delta),me.final=he.v,me.finalLabel=ae(me.final),me.initial=me.final-me.delta,me.initialLabel=ae(me.initial)),W&&(me.value=he.s,me.valueLabel=ae(me.value),me.percentInitial=he.begR,me.percentInitialLabel=n.formatPercent(he.begR),me.percentPrevious=he.difR,me.percentPreviousLabel=n.formatPercent(he.difR),me.percentTotal=he.sumR,me.percenTotalLabel=n.formatPercent(he.sumR));var Ie=n.castOption(ee,he.i,"customdata");return Ie&&(me.customdata=Ie),n.texttemplateString(oe,me,F._d3locale,xe,me,ee._meta||{})}function O(F,N,Q,$){var j=F[0].trace,ee=j.orientation==="h",oe=j.type==="waterfall",Y=j.type==="funnel";function V(Ie){var _e=ee?$:Q;return t(_e,Ie,!0).text}function W(Ie){var _e=ee?Q:$;return t(_e,+Ie,!0).text}var X=j.textinfo,re=F[N],ie=X.split("+"),K=[],q,le=function(Ie){return ie.indexOf(Ie)!==-1};if(le("label")&&K.push(V(F[N].p)),le("text")&&(q=n.castOption(j,re.i,"text"),(q===0||q)&&K.push(q)),oe){var ae=+re.rawS||re.s,he=re.v,me=he-ae;le("initial")&&K.push(W(me)),le("delta")&&K.push(W(ae)),le("final")&&K.push(W(he))}if(Y){le("value")&&K.push(W(re.s));var Me=0;le("percent initial")&&Me++,le("percent previous")&&Me++,le("percent total")&&Me++;var xe=Me>1;le("percent initial")&&(q=n.formatPercent(re.begR),xe&&(q+=" of initial"),K.push(q)),le("percent previous")&&(q=n.formatPercent(re.difR),xe&&(q+=" of previous"),K.push(q)),le("percent total")&&(q=n.formatPercent(re.sumR),xe&&(q+=" of total"),K.push(q))}return K.join("<br>")}G.exports={plot:b,toMoveInsideBar:k}},81974:function(G){G.exports=function(p,L){var n=p.cd,C=p.xaxis,w=p.yaxis,v=n[0].trace,y=v.type==="funnel",t=v.orientation==="h",r=[],l;if(L===!1)for(l=0;l<n.length;l++)n[l].selected=0;else for(l=0;l<n.length;l++){var a=n[l],s="ct"in a?a.ct:U(a,C,w,t,y);L.contains(s,!1,l,p)?(r.push({pointNumber:l,x:C.c2d(a.x),y:w.c2d(a.y)}),a.selected=1):a.selected=0}return r};function U(e,p,L,n,C){var w=p.c2p(n?e.s0:e.p0,!0),v=p.c2p(n?e.s1:e.p1,!0),y=L.c2p(n?e.p0:e.s0,!0),t=L.c2p(n?e.p1:e.s1,!0);return C?[(w+v)/2,(y+t)/2]:n?[v,(y+t)/2]:[(w+v)/2,t]}},61546:function(G,U,e){G.exports=L;var p=e(71828).distinctVals;function L(n,C){this.traces=n,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var w=1/0,v=C.posAxis._id.charAt(0),y=[],t=0;t<n.length;t++){for(var r=n[t],l=0;l<r.length;l++){var a=r[l],s=a.p;s===void 0&&(s=a[v]),s!==void 0&&y.push(s)}r[0]&&r[0].width1&&(w=Math.min(r[0].width1,w))}this.positions=y;var c=p(y);this.distinctPositions=c.vals,c.vals.length===1&&w!==1/0?this.minDiff=w:this.minDiff=Math.min(c.minDiff,w);var u=(C.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,w){var v=this.getLabel(C,w),y=this.bins[v]||0;return this.bins[v]=y+w,y},L.prototype.get=function(C,w){var v=this.getLabel(C,w);return this.bins[v]||0},L.prototype.getLabel=function(C,w){var v=w<0&&this.sepNegVal?"v":"^",y=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+y}},16688:function(G,U,e){var p=e(39898),L=e(7901),n=e(91424),C=e(71828),w=e(73972),v=e(72597).resizeText,y=e(1486),t=y.textfont,r=y.insidetextfont,l=y.outsidetextfont,a=e(69383);function s(g){var S=p.select(g).selectAll("g.barlayer").selectAll("g.trace");v(g,S,"bar");var b=S.size(),i=g._fullLayout;S.style("opacity",function(P){return P[0].trace.opacity}).each(function(P){(i.barmode==="stack"&&b>1||i.bargap===0&&i.bargroupgap===0&&!P[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(P){var x=p.select(this),k=P[0].trace;c(x,k,g)}),w.getComponentMethod("errorbars","style")(S)}function c(g,S,b){n.pointStyle(g.selectAll("path"),S,b),u(g,S,b)}function u(g,S,b){g.selectAll("text").each(function(i){var P=p.select(this),x=C.ensureUniformFontSize(b,f(P,i,S,b));n.font(P,x)})}function m(g,S,b){var i=S[0].trace;i.selectedpoints?h(b,i,g):(c(b,i,g),w.getComponentMethod("errorbars","style")(b))}function h(g,S,b){n.selectedPointStyle(g.selectAll("path"),S),T(g.selectAll("text"),S,b)}function T(g,S,b){g.each(function(i){var P=p.select(this),x;if(i.selected){x=C.ensureUniformFontSize(b,f(P,i,S,b));var k=S.selected.textfont&&S.selected.textfont.color;k&&(x.color=k),n.font(P,x)}else n.selectedTextStyle(P,S)})}function f(g,S,b,i){var P=i._fullLayout.font,x=b.textfont;if(g.classed("bartext-inside")){var k=E(S,b);x=d(b,S.i,P,k)}else g.classed("bartext-outside")&&(x=M(b,S.i,P));return x}function o(g,S,b){return A(t,g.textfont,S,b)}function d(g,S,b,i){var P=o(g,S,b),x=g._input.textfont===void 0||g._input.textfont.color===void 0||Array.isArray(g.textfont.color)&&g.textfont.color[S]===void 0;return x&&(P={color:L.contrast(i),family:P.family,size:P.size}),A(r,g.insidetextfont,S,P)}function M(g,S,b){var i=o(g,S,b);return A(l,g.outsidetextfont,S,i)}function A(g,S,b,i){S=S||{};var P=a.getValue(S.family,b),x=a.getValue(S.size,b),k=a.getValue(S.color,b);return{family:a.coerceString(g.family,P,i.family),size:a.coerceNumber(g.size,x,i.size),color:a.coerceColor(g.color,k,i.color)}}function E(g,S){return S.type==="waterfall"?S[g.dir].marker.color:g.mcc||g.mc||S.marker.color}G.exports={style:s,styleTextPoints:u,styleOnSelect:m,getInsideTextFont:d,getOutsideTextFont:M,getBarColor:E,resizeText:v}},98340:function(G,U,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(71828).coercePattern;G.exports=function(v,y,t,r,l){var a=t("marker.color",r),s=L(v,"marker");s&&n(v,y,l,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",p.defaultLine),L(v,"marker.line")&&n(v,y,l,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),C(t,"marker.pattern",a,s),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(G,U,e){var p=e(39898),L=e(71828);function n(y,t,r){var l=y._fullLayout,a=l["_"+r+"Text_minsize"];if(a){var s=l.uniformtext.mode==="hide",c;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}t.selectAll(c).each(function(u){var m=u.transform;if(m){m.scale=s&&m.hide?0:a/m.fontSize;var h=p.select(this).select("text");L.setTransormAndDisplay(h,m)}})}}function C(y,t,r){if(r.uniformtext.mode){var l=v(y),a=r.uniformtext.minsize,s=t.scale*t.fontSize;t.hide=s<a,r[l]=r[l]||1/0,t.hide||(r[l]=Math.min(r[l],Math.max(s,a)))}}function w(y,t){var r=v(y);t[r]=void 0}function v(y){return"_"+y+"Text_minsize"}G.exports={recordMinTextSize:C,clearMinTextSize:w,resizeText:n}},55023:function(G,U,e){var p=e(5386).f,L=e(1426).extendFlat,n=e(81245),C=e(1486);G.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:C.marker,hoverinfo:n.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},74692:function(G,U,e){var p=e(52075).hasColorscale,L=e(78803),n=e(75341),C=e(11661).setGroupPositions,w=e(66279),v=e(73972).traceIs,y=e(71828).extendFlat;function t(l,a){for(var s=l._fullLayout,c=a.subplot,u=s[c].radialaxis,m=s[c].angularaxis,h=u.makeCalcdata(a,"r"),T=m.makeCalcdata(a,"theta"),f=a._length,o=new Array(f),d=h,M=T,A=0;A<f;A++)o[A]={p:M[A],s:d[A]};function E(g){var S=a[g];S!==void 0&&(a["_"+g]=Array.isArray(S)?m.makeCalcdata(a,g):m.d2c(S,a.thetaunit))}return m.type==="linear"&&(E("width"),E("offset")),p(a,"marker")&&L(l,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),p(a,"marker.line")&&L(l,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(o,a),w(o,a),o}function r(l,a,s){for(var c=l.calcdata,u=[],m=0;m<c.length;m++){var h=c[m],T=h[0].trace;T.visible===!0&&v(T,"bar")&&T.subplot===s&&u.push(h)}var f=y({},a.radialaxis,{_id:"x"}),o=a.angularaxis;C(l,o,f,u,{mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap})}G.exports={calc:t,crossTraceCalc:r}},6135:function(G,U,e){var p=e(71828),L=e(22184).handleRThetaDefaults,n=e(98340),C=e(55023);G.exports=function(v,y,t,r){function l(s,c){return p.coerce(v,y,C,s,c)}var a=L(v,y,r,l);if(!a){y.visible=!1;return}l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),n(v,y,l,t,r),p.coerceSelectionMarkerOpacity(y,l)}},27379:function(G,U,e){var p=e(30211),L=e(71828),n=e(95423).getTraceColor,C=L.fillText,w=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;G.exports=function(t,r,l){var a=t.cd,s=a[0].trace,c=t.subplot,u=c.radialAxis,m=c.angularAxis,h=c.vangles,T=h?v:L.isPtInsideSector,f=t.maxHoverDistance,o=m._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(r*r+l*l))),M=Math.atan2(l,r);u.range[0]>u.range[1]&&(M+=Math.PI);var A=function(b){return T(d,M,[b.rp0,b.rp1],[b.thetag0,b.thetag1],h)?f+Math.min(1,Math.abs(b.thetag1-b.thetag0)/o)-1+(b.rp1-d)/(b.rp1-b.rp0)-1:1/0};if(p.getClosest(a,A,t),t.index!==!1){var E=t.index,g=a[E];t.x0=t.x1=g.ct[0],t.y0=t.y1=g.ct[1];var S=L.extendFlat({},g,{r:g.s,theta:g.p});return C(g,s,t),w(S,s,c,t),t.hovertemplate=s.hovertemplate,t.color=n(s,g),t.xLabelVal=t.yLabelVal=void 0,g.s<0&&(t.idealAlign="left"),[t]}}},23381:function(G,U,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(G,U,e){var p=e(71828),L=e(40151);G.exports=function(n,C,w){var v={},y;function t(a,s){return p.coerce(n[y]||{},C[y],L,a,s)}for(var r=0;r<w.length;r++){var l=w[r];l.type==="barpolar"&&l.visible===!0&&(y=l.subplot,v[y]||(t("barmode"),t("bargap"),v[y]=1))}}},60173:function(G,U,e){var p=e(39898),L=e(92770),n=e(71828),C=e(91424),w=e(10869);G.exports=function(t,r,l){var a=t._context.staticPlot,s=r.xaxis,c=r.yaxis,u=r.radialAxis,m=r.angularAxis,h=v(r),T=r.layers.frontplot.select("g.barlayer");n.makeTraceGroups(T,l,"trace bars").each(function(){var f=p.select(this),o=n.ensureSingle(f,"g","points"),d=o.selectAll("g.point").data(n.identity);d.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(M){var A=p.select(this),E=M.rp0=u.c2p(M.s0),g=M.rp1=u.c2p(M.s1),S=M.thetag0=m.c2g(M.p0),b=M.thetag1=m.c2g(M.p1),i;if(!L(E)||!L(g)||!L(S)||!L(b)||E===g||S===b)i="M0,0Z";else{var P=u.c2g(M.s1),x=(S+b)/2;M.ct=[s.c2p(P*Math.cos(x)),c.c2p(P*Math.sin(x))],i=h(E,g,S,b)}n.ensureSingle(A,"path").attr("d",i)}),C.setClipUrl(f,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(y){var t=y.cxx,r=y.cyy;return y.vangles?function(l,a,s,c){var u,m;n.angleDelta(s,c)>0?(u=s,m=c):(u=c,m=s);var h=w.findEnclosingVertexAngles(u,y.vangles)[0],T=w.findEnclosingVertexAngles(m,y.vangles)[1],f=[h,(u+m)/2,T];return w.pathPolygonAnnulus(l,a,u,m,f,t,r)}:function(l,a,s,c){return n.pathAnnulus(l,a,s,c,t,r)}}},53522:function(G,U,e){var p=e(82196),L=e(1486),n=e(22399),C=e(12663).axisHoverFormat,w=e(5386).f,v=e(1426).extendFlat,y=p.marker,t=y.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},y.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},y.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},y.angle,{arrayOk:!1,editType:"calc"}),size:v({},y.size,{arrayOk:!1,editType:"calc"}),color:v({},y.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:n.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:L.offsetgroup,alignmentgroup:L.alignmentgroup,selected:{marker:p.selected.marker,editType:"style"},unselected:{marker:p.unselected.marker,editType:"style"},text:v({},p.text,{}),hovertext:v({},p.hovertext,{}),hovertemplate:w({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(G,U,e){var p=e(92770),L=e(89298),n=e(42973),C=e(71828),w=e(50606).BADNUM,v=C._;G.exports=function(M,A){var E=M._fullLayout,g=L.getFromId(M,A.xaxis||"x"),S=L.getFromId(M,A.yaxis||"y"),b=[],i=A.type==="violin"?"_numViolins":"_numBoxes",P,x,k,_,B,I,z;A.orientation==="h"?(k=g,_="x",B=S,I="y",z=!!A.yperiodalignment):(k=S,_="y",B=g,I="x",z=!!A.xperiodalignment);var O=y(A,I,B,E[i]),F=O[0],N=O[1],Q=C.distinctVals(F,B),$=Q.vals,j=Q.minDiff/2,ee,oe,Y,V,W,X,re=(A.boxpoints||A.points)==="all"?C.identity:function(Je){return Je.v<ee.lf||Je.v>ee.uf};if(A._hasPreCompStats){var ie=A[_],K=function(Je){return k.d2c((A[Je]||[])[P])},q=1/0,le=-1/0;for(P=0;P<A._length;P++){var ae=F[P];if(p(ae)){if(ee={},ee.pos=ee[I]=ae,z&&N&&(ee.orig_p=N[P]),ee.q1=K("q1"),ee.med=K("median"),ee.q3=K("q3"),oe=[],ie&&C.isArrayOrTypedArray(ie[P]))for(x=0;x<ie[P].length;x++)X=k.d2c(ie[P][x]),X!==w&&(W={v:X,i:[P,x]},a(W,A,[P,x]),oe.push(W));if(ee.pts=oe.sort(c),Y=ee[_]=oe.map(u),V=Y.length,ee.med!==w&&ee.q1!==w&&ee.q3!==w&&ee.med>=ee.q1&&ee.q3>=ee.med){var he=K("lowerfence");ee.lf=he!==w&&he<=ee.q1?he:m(ee,Y,V);var me=K("upperfence");ee.uf=me!==w&&me>=ee.q3?me:h(ee,Y,V);var Me=K("mean");ee.mean=Me!==w?Me:V?C.mean(Y,V):(ee.q1+ee.q3)/2;var xe=K("sd");ee.sd=Me!==w&&xe>=0?xe:V?C.stdev(Y,V,ee.mean):ee.q3-ee.q1,ee.lo=T(ee),ee.uo=f(ee);var Ie=K("notchspan");Ie=Ie!==w&&Ie>0?Ie:o(ee,V),ee.ln=ee.med-Ie,ee.un=ee.med+Ie;var _e=ee.lf,Te=ee.uf;A.boxpoints&&Y.length&&(_e=Math.min(_e,Y[0]),Te=Math.max(Te,Y[V-1])),A.notched&&(_e=Math.min(_e,ee.ln),Te=Math.max(Te,ee.un)),ee.min=_e,ee.max=Te}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ee.q1,"median = "+ee.med,"q3 = "+ee.q3].join(`
`));var ye;ee.med!==w?ye=ee.med:ee.q1!==w?ee.q3!==w?ye=(ee.q1+ee.q3)/2:ye=ee.q1:ee.q3!==w?ye=ee.q3:ye=0,ee.med=ye,ee.q1=ee.q3=ye,ee.lf=ee.uf=ye,ee.mean=ee.sd=ye,ee.ln=ee.un=ye,ee.min=ee.max=ye}q=Math.min(q,ee.min),le=Math.max(le,ee.max),ee.pts2=oe.filter(re),b.push(ee)}}A._extremes[k._id]=L.findExtremes(k,[q,le],{padded:!0})}else{var Ae=k.makeCalcdata(A,_),Be=t($,j),Ue=$.length,De=r(Ue);for(P=0;P<A._length;P++)if(X=Ae[P],!!p(X)){var He=C.findBin(F[P],Be);He>=0&&He<Ue&&(W={v:X,i:P},a(W,A,P),De[He].push(W))}var ut=1/0,et=-1/0,Qe=A.quartilemethod,qe=Qe==="exclusive",ft=Qe==="inclusive";for(P=0;P<Ue;P++)if(De[P].length>0){if(ee={},ee.pos=ee[I]=$[P],oe=ee.pts=De[P].sort(c),Y=ee[_]=oe.map(u),V=Y.length,ee.min=Y[0],ee.max=Y[V-1],ee.mean=C.mean(Y,V),ee.sd=C.stdev(Y,V,ee.mean),ee.med=C.interp(Y,.5),V%2&&(qe||ft)){var gt,xt;qe?(gt=Y.slice(0,V/2),xt=Y.slice(V/2+1)):ft&&(gt=Y.slice(0,V/2+1),xt=Y.slice(V/2)),ee.q1=C.interp(gt,.5),ee.q3=C.interp(xt,.5)}else ee.q1=C.interp(Y,.25),ee.q3=C.interp(Y,.75);ee.lf=m(ee,Y,V),ee.uf=h(ee,Y,V),ee.lo=T(ee),ee.uo=f(ee);var Ct=o(ee,V);ee.ln=ee.med-Ct,ee.un=ee.med+Ct,ut=Math.min(ut,ee.ln),et=Math.max(et,ee.un),ee.pts2=oe.filter(re),b.push(ee)}A._extremes[k._id]=L.findExtremes(k,A.notched?Ae.concat([ut,et]):Ae,{padded:!0})}return s(b,A),b.length>0?(b[0].t={num:E[i],dPos:j,posLetter:I,valLetter:_,labels:{med:v(M,"median:"),min:v(M,"min:"),q1:v(M,"q1:"),q3:v(M,"q3:"),max:v(M,"max:"),mean:A.boxmean==="sd"?v(M,"mean ± σ:"):v(M,"mean:"),lf:v(M,"lower fence:"),uf:v(M,"upper fence:")}},E[i]++,b):[{t:{empty:!0}}]};function y(d,M,A,E){var g=M in d,S=M+"0"in d,b="d"+M in d;if(g||S&&b){var i=A.makeCalcdata(d,M),P=n(d,A,M,i).vals;return[P,i]}var x;S?x=d[M+"0"]:"name"in d&&(A.type==="category"||p(d.name)&&["linear","log"].indexOf(A.type)!==-1||C.isDateTime(d.name)&&A.type==="date")?x=d.name:x=E;for(var k=A.type==="multicategory"?A.r2c_just_indices(x):A.d2c(x,0,d[M+"calendar"]),_=d._length,B=new Array(_),I=0;I<_;I++)B[I]=k;return[B]}function t(d,M){for(var A=d.length,E=new Array(A+1),g=0;g<A;g++)E[g]=d[g]-M;return E[A]=d[A-1]+M,E}function r(d){for(var M=new Array(d),A=0;A<d;A++)M[A]=[];return M}var l={text:"tx",hovertext:"htx"};function a(d,M,A){for(var E in l)C.isArrayOrTypedArray(M[E])&&(Array.isArray(A)?C.isArrayOrTypedArray(M[E][A[0]])&&(d[l[E]]=M[E][A[0]][A[1]]):d[l[E]]=M[E][A])}function s(d,M){if(C.isArrayOrTypedArray(M.selectedpoints))for(var A=0;A<d.length;A++){for(var E=d[A].pts||[],g={},S=0;S<E.length;S++)g[E[S].i]=S;C.tagSelected(E,M,g)}}function c(d,M){return d.v-M.v}function u(d){return d.v}function m(d,M,A){return A===0?d.q1:Math.min(d.q1,M[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,M,!0)+1,A-1)])}function h(d,M,A){return A===0?d.q3:Math.max(d.q3,M[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,M),0)])}function T(d){return 4*d.q1-3*d.q3}function f(d){return 4*d.q3-3*d.q1}function o(d,M){return M===0?0:1.57*(d.q3-d.q1)/Math.sqrt(M)}},37188:function(G,U,e){var p=e(89298),L=e(71828),n=e(99082).getAxisGroup,C=["v","h"];function w(y,t){for(var r=y.calcdata,l=t.xaxis,a=t.yaxis,s=0;s<C.length;s++){for(var c=C[s],u=c==="h"?a:l,m=[],h=0;h<r.length;h++){var T=r[h],f=T[0].t,o=T[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!f.empty&&(o.orientation||"v")===c&&o.xaxis===l._id&&o.yaxis===a._id&&m.push(h)}v("box",y,m,u)}}function v(y,t,r,l){var a=t.calcdata,s=t._fullLayout,c=l._id,u=c.charAt(0),m,h,T,f=[],o=0;for(m=0;m<r.length;m++)for(T=a[r[m]],h=0;h<T.length;h++)f.push(l.c2l(T[h].pos,!0)),o+=(T[h].pts2||[]).length;if(f.length){var d=L.distinctVals(f);(l.type==="category"||l.type==="multicategory")&&(d.minDiff=1);var M=d.minDiff/2;p.minDtick(l,d.minDiff,d.vals[0],!0);var A=y==="violin"?"_numViolins":"_numBoxes",E=s[A],g=s[y+"mode"]==="group"&&E>1,S=1-s[y+"gap"],b=1-s[y+"groupgap"];for(m=0;m<r.length;m++){T=a[r[m]];var i=T[0].trace,P=T[0].t,x=i.width,k=i.side,_,B,I,z;if(x)_=B=z=x/2,I=0;else if(_=M,g){var O=n(s,l._id)+i.orientation,F=s._alignmentOpts[O]||{},N=F[i.alignmentgroup]||{},Q=Object.keys(N.offsetGroups||{}).length,$=Q||E,j=Q?i._offsetIndex:P.num;B=_*S*b/$,I=2*_*(-.5+(j+.5)/$)*S,z=_*S/$}else B=_*S*b,I=0,z=_;P.dPos=_,P.bPos=I,P.bdPos=B,P.wHover=z;var ee,oe,Y=I+B,V,W,X,re,ie,K,q=!!x,le=(i.boxpoints||i.points)&&o>0;if(k==="positive"?(ee=_*(x?1:.5),V=Y,oe=V=I):k==="negative"?(ee=V=I,oe=_*(x?1:.5),W=Y):(ee=oe=_,V=W=Y),le){var ae=i.pointpos,he=i.jitter,me=i.marker.size/2,Me=0;ae+he>=0&&(Me=Y*(ae+he),Me>ee?(q=!0,ie=me,X=Me):Me>V&&(ie=me,X=ee)),Me<=ee&&(X=ee);var xe=0;ae-he<=0&&(xe=-Y*(ae-he),xe>oe?(q=!0,K=me,re=xe):xe>W&&(K=me,re=oe)),xe<=oe&&(re=oe)}else X=ee,re=oe;var Ie=new Array(T.length);for(h=0;h<T.length;h++)Ie[h]=T[h].pos;i._extremes[c]=p.findExtremes(l,Ie,{padded:q,vpadminus:re,vpadplus:X,vpadLinearized:!0,ppadminus:{x:K,y:ie}[u],ppadplus:{x:ie,y:K}[u]})}}}G.exports={crossTraceCalc:w,setPositionOffset:v}},36411:function(G,U,e){var p=e(71828),L=e(73972),n=e(7901),C=e(73927),w=e(26125),v=e(4322),y=e(53522);function t(s,c,u,m){function h(g,S){return p.coerce(s,c,y,g,S)}if(r(s,c,h,m),c.visible!==!1){C(s,c,m,h),h("xhoverformat"),h("yhoverformat");var T=c._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(s.marker||{}).color||u),h("line.width"),h("fillcolor",n.addOpacity(c.line.color,.5));var f=!1;if(T){var o=h("mean"),d=h("sd");o&&o.length&&(f=!0,d&&d.length&&(f="sd"))}h("boxmean",f),h("whiskerwidth"),h("width"),h("quartilemethod");var M=!1;if(T){var A=h("notchspan");A&&A.length&&(M=!0)}else p.validate(s.notchwidth,y.notchwidth)&&(M=!0);var E=h("notched",M);E&&h("notchwidth"),l(s,c,h,{prefix:"box"})}}function r(s,c,u,m){function h(Q){var $=0;return Q&&Q.length&&($+=1,p.isArrayOrTypedArray(Q[0])&&Q[0].length&&($+=1)),$}function T(Q){return p.validate(s[Q],y[Q])}var f=u("y"),o=u("x"),d;if(c.type==="box"){var M=u("q1"),A=u("median"),E=u("q3");c._hasPreCompStats=M&&M.length&&A&&A.length&&E&&E.length,d=Math.min(p.minRowLength(M),p.minRowLength(A),p.minRowLength(E))}var g=h(f),S=h(o),b=g&&p.minRowLength(f),i=S&&p.minRowLength(o),P=m.calendar,x={autotypenumbers:m.autotypenumbers},k,_;if(c._hasPreCompStats)switch(String(S)+String(g)){case"00":var B=T("x0")||T("dx"),I=T("y0")||T("dy");I&&!B?k="h":k="v",_=d;break;case"10":k="v",_=Math.min(d,i);break;case"20":k="h",_=Math.min(d,o.length);break;case"01":k="h",_=Math.min(d,b);break;case"02":k="v",_=Math.min(d,f.length);break;case"12":k="v",_=Math.min(d,i,f.length);break;case"21":k="h",_=Math.min(d,o.length,b);break;case"11":_=0;break;case"22":var z=!1,O;for(O=0;O<o.length;O++)if(v(o[O],P,x)==="category"){z=!0;break}if(z)k="v",_=Math.min(d,i,f.length);else{for(O=0;O<f.length;O++)if(v(f[O],P,x)==="category"){z=!0;break}z?(k="h",_=Math.min(d,o.length,b)):(k="v",_=Math.min(d,i,f.length))}break}else g>0?(k="v",S>0?_=Math.min(i,b):_=Math.min(b)):S>0?(k="h",_=Math.min(i)):_=0;if(!_){c.visible=!1;return}c._length=_;var F=u("orientation",k);c._hasPreCompStats?F==="v"&&S===0?(u("x0",0),u("dx",1)):F==="h"&&g===0&&(u("y0",0),u("dy",1)):F==="v"&&S===0?u("x0"):F==="h"&&g===0&&u("y0");var N=L.getComponentMethod("calendars","handleTraceDefaults");N(s,c,["x","y"],m)}function l(s,c,u,m){var h=m.prefix,T=p.coerce2(s,c,y,"marker.outliercolor"),f=u("marker.line.outliercolor"),o="outliers";c._hasPreCompStats?o="all":(T||f)&&(o="suspectedoutliers");var d=u(h+"points",o);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",c.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",c.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete c.marker;var M=u("hoveron");(M==="all"||M.indexOf("points")!==-1)&&u("hovertemplate"),p.coerceSelectionMarkerOpacity(c,u)}function a(s,c){var u,m;function h(o){return p.coerce(m._input,m,y,o)}for(var T=0;T<s.length;T++){m=s[T];var f=m.type;(f==="box"||f==="violin")&&(u=m._input,c[f+"mode"]==="group"&&w(u,m,c,h))}}G.exports={supplyDefaults:t,crossTraceDefaults:a,handleSampleDefaults:r,handlePointsDefaults:l}},74907:function(G){G.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},41868:function(G,U,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),w=L.fillText;function v(r,l,a,s){var c=r.cd,u=c[0].trace,m=u.hoveron,h=[],T;return m.indexOf("boxes")!==-1&&(h=h.concat(y(r,l,a,s))),m.indexOf("points")!==-1&&(T=t(r,l,a)),s==="closest"?T?[T]:h:(T&&h.push(T),h)}function y(r,l,a,s){var c=r.cd,u=r.xa,m=r.ya,h=c[0].trace,T=c[0].t,f=h.type==="violin",o,d,M,A,E,g,S,b,i,P,x,k=T.bdPos,_,B,I=T.wHover,z=function(xe){return M.c2l(xe.pos)+T.bPos-M.c2l(g)};f&&h.side!=="both"?(h.side==="positive"&&(i=function(xe){var Ie=z(xe);return n.inbox(Ie,Ie+I,P)},_=k,B=0),h.side==="negative"&&(i=function(xe){var Ie=z(xe);return n.inbox(Ie-I,Ie,P)},_=0,B=k)):(i=function(xe){var Ie=z(xe);return n.inbox(Ie-I,Ie+I,P)},_=B=k);var O;f?O=function(xe){return n.inbox(xe.span[0]-E,xe.span[1]-E,P)}:O=function(xe){return n.inbox(xe.min-E,xe.max-E,P)},h.orientation==="h"?(E=l,g=a,S=O,b=i,o="y",M=m,d="x",A=u):(E=a,g=l,S=i,b=O,o="x",M=u,d="y",A=m);var F=Math.min(1,k/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));P=r.maxHoverDistance-F,x=r.maxSpikeDistance-F;function N(xe){return(S(xe)+b(xe))/2}var Q=n.getDistanceFunction(s,S,b,N);if(n.getClosest(c,Q,r),r.index===!1)return[];var $=c[r.index],j=h.line.color,ee=(h.marker||{}).color;C.opacity(j)&&h.line.width?r.color=j:C.opacity(ee)&&h.boxpoints?r.color=ee:r.color=h.fillcolor,r[o+"0"]=M.c2p($.pos+T.bPos-B,!0),r[o+"1"]=M.c2p($.pos+T.bPos+_,!0),r[o+"LabelVal"]=$.orig_p!==void 0?$.orig_p:$.pos;var oe=o+"Spike";r.spikeDistance=N($)*x/P,r[oe]=M.c2p($.pos,!0);var Y=h.boxmean||(h.meanline||{}).visible,V=h.boxpoints||h.points,W=V&&Y?["max","uf","q3","med","mean","q1","lf","min"]:V&&!Y?["max","uf","q3","med","q1","lf","min"]:!V&&Y?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=A.range[1]<A.range[0];h.orientation===(X?"v":"h")&&W.reverse();for(var re=r.spikeDistance,ie=r[oe],K=[],q=0;q<W.length;q++){var le=W[q];if(le in $){var ae=$[le],he=A.c2p(ae,!0),me=L.extendFlat({},r);me.attr=le,me[d+"0"]=me[d+"1"]=he,me[d+"LabelVal"]=ae,me[d+"Label"]=(T.labels?T.labels[le]+" ":"")+p.hoverLabelText(A,ae,h[d+"hoverformat"]),me.hoverOnBox=!0,le==="mean"&&"sd"in $&&h.boxmean==="sd"&&(me[d+"err"]=$.sd),me.hovertemplate=!1,K.push(me)}}r.name="",r.spikeDistance=void 0,r[oe]=void 0;for(var Me=0;Me<K.length;Me++)K[Me].attr!=="med"?(K[Me].name="",K[Me].spikeDistance=void 0,K[Me][oe]=void 0):(K[Me].spikeDistance=re,K[Me][oe]=ie);return K}function t(r,l,a){for(var s=r.cd,c=r.xa,u=r.ya,m=s[0].trace,h=c.c2p(l),T=u.c2p(a),f,o=function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(c.c2p(O.x)-h)-F,1-3/F)},d=function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(u.c2p(O.y)-T)-F,1-3/F)},M=n.quadrature(o,d),A=!1,E,g,S=0;S<s.length;S++){E=s[S];for(var b=0;b<(E.pts||[]).length;b++){g=E.pts[b];var i=M(g);i<=r.distance&&(r.distance=i,A=[S,b])}}if(!A)return!1;E=s[A[0]],g=E.pts[A[1]];var P=c.c2p(g.x,!0),x=u.c2p(g.y,!0),k=g.mrc||1;f=L.extendFlat({},r,{index:g.i,color:(m.marker||{}).color,name:m.name,x0:P-k,x1:P+k,y0:x-k,y1:x+k,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var _=E.orig_p,B=_!==void 0?_:E.pos,I;m.orientation==="h"?(I=u,f.xLabelVal=g.x,f.yLabelVal=B):(I=c,f.xLabelVal=B,f.yLabelVal=g.y);var z=I._id.charAt(0);return f[z+"Spike"]=I.c2p(E.pos,!0),w(g,m,f),f}G.exports={hoverPoints:v,hoverOnBoxes:y,hoverOnPoints:t}},83832:function(G,U,e){G.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(G,U,e){var p=e(73972),L=e(71828),n=e(40094);function C(v,y,t,r,l){for(var a=l+"Layout",s=!1,c=0;c<t.length;c++){var u=t[c];if(p.traceIs(u,a)){s=!0;break}}s&&(r(l+"mode"),r(l+"gap"),r(l+"groupgap"))}function w(v,y,t){function r(l,a){return L.coerce(v,y,n,l,a)}C(v,y,t,r,"box")}G.exports={supplyLayoutDefaults:w,_supply:C}},86047:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=5,w=.01;function v(l,a,s,c){var u=l._context.staticPlot,m=a.xaxis,h=a.yaxis;L.makeTraceGroups(c,s,"trace boxes").each(function(T){var f=p.select(this),o=T[0],d=o.t,M=o.trace;if(d.wdPos=d.bdPos*M.whiskerwidth,M.visible!==!0||d.empty){f.remove();return}var A,E;M.orientation==="h"?(A=h,E=m):(A=m,E=h),y(f,{pos:A,val:E},M,d,u),t(f,{x:m,y:h},M,d),r(f,{pos:A,val:E},M,d)})}function y(l,a,s,c,u){var m=s.orientation==="h",h=a.val,T=a.pos,f=!!T.rangebreaks,o=c.bPos,d=c.wdPos||0,M=c.bPosPxOffset||0,A=s.whiskerwidth||0,E=s.notched||!1,g=E?1-2*s.notchwidth:1,S,b;Array.isArray(c.bdPos)?(S=c.bdPos[0],b=c.bdPos[1]):(S=c.bdPos,b=c.bdPos);var i=l.selectAll("path.box").data(s.type!=="violin"||s.box.visible?L.identity:[]);i.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),i.exit().remove(),i.each(function(P){if(P.empty)return"M0,0Z";var x=T.c2l(P.pos+o,!0),k=T.l2p(x-S)+M,_=T.l2p(x+b)+M,B=f?(k+_)/2:T.l2p(x)+M,I=s.whiskerwidth,z=f?k*I+(1-I)*B:T.l2p(x-d)+M,O=f?_*I+(1-I)*B:T.l2p(x+d)+M,F=T.l2p(x-S*g)+M,N=T.l2p(x+b*g)+M,Q=h.c2p(P.q1,!0),$=h.c2p(P.q3,!0),j=L.constrain(h.c2p(P.med,!0),Math.min(Q,$)+1,Math.max(Q,$)-1),ee=P.lf===void 0||s.boxpoints===!1,oe=h.c2p(ee?P.min:P.lf,!0),Y=h.c2p(ee?P.max:P.uf,!0),V=h.c2p(P.ln,!0),W=h.c2p(P.un,!0);m?p.select(this).attr("d","M"+j+","+F+"V"+N+"M"+Q+","+k+"V"+_+(E?"H"+V+"L"+j+","+N+"L"+W+","+_:"")+"H"+$+"V"+k+(E?"H"+W+"L"+j+","+F+"L"+V+","+k:"")+"ZM"+Q+","+B+"H"+oe+"M"+$+","+B+"H"+Y+(A===0?"":"M"+oe+","+z+"V"+O+"M"+Y+","+z+"V"+O)):p.select(this).attr("d","M"+F+","+j+"H"+N+"M"+k+","+Q+"H"+_+(E?"V"+V+"L"+N+","+j+"L"+_+","+W:"")+"V"+$+"H"+k+(E?"V"+W+"L"+F+","+j+"L"+k+","+V:"")+"ZM"+B+","+Q+"V"+oe+"M"+B+","+$+"V"+Y+(A===0?"":"M"+z+","+oe+"H"+O+"M"+z+","+Y+"H"+O))})}function t(l,a,s,c){var u=a.x,m=a.y,h=c.bdPos,T=c.bPos,f=s.boxpoints||s.points;L.seedPseudoRandom();var o=function(A){return A.forEach(function(E){E.t=c,E.trace=s}),A},d=l.selectAll("g.points").data(f?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var M=d.selectAll("path").data(function(A){var E,g=A.pts2,S=Math.max((A.max-A.min)/10,A.q3-A.q1),b=S*1e-9,i=S*w,P=[],x=0,k;if(s.jitter){if(S===0)for(x=1,P=new Array(g.length),E=0;E<g.length;E++)P[E]=1;else for(E=0;E<g.length;E++){var _=Math.max(0,E-C),B=g[_].v,I=Math.min(g.length-1,E+C),z=g[I].v;f!=="all"&&(g[E].v<A.lf?z=Math.min(z,A.lf):B=Math.max(B,A.uf));var O=Math.sqrt(i*(I-_)/(z-B+b))||0;O=L.constrain(Math.abs(O),0,1),P.push(O),x=Math.max(O,x)}k=s.jitter*2/(x||1)}for(E=0;E<g.length;E++){var F=g[E],N=F.v,Q=s.jitter?k*P[E]*(L.pseudoRandom()-.5):0,$=A.pos+T+h*(s.pointpos+Q);s.orientation==="h"?(F.y=$,F.x=N):(F.x=$,F.y=N),f==="suspectedoutliers"&&N<A.uo&&N>A.lo&&(F.so=!0)}return g});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(n.translatePoints,u,m)}function r(l,a,s,c){var u=a.val,m=a.pos,h=!!m.rangebreaks,T=c.bPos,f=c.bPosPxOffset||0,o=s.boxmean||(s.meanline||{}).visible,d,M;Array.isArray(c.bdPos)?(d=c.bdPos[0],M=c.bdPos[1]):(d=c.bdPos,M=c.bdPos);var A=l.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?L.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(E){var g=m.c2l(E.pos+T,!0),S=m.l2p(g-d)+f,b=m.l2p(g+M)+f,i=h?(S+b)/2:m.l2p(g)+f,P=u.c2p(E.mean,!0),x=u.c2p(E.mean-E.sd,!0),k=u.c2p(E.mean+E.sd,!0);s.orientation==="h"?p.select(this).attr("d","M"+P+","+S+"V"+b+(o==="sd"?"m0,0L"+x+","+i+"L"+P+","+S+"L"+k+","+i+"Z":"")):p.select(this).attr("d","M"+S+","+P+"H"+b+(o==="sd"?"m0,0L"+i+","+x+"L"+S+","+P+"L"+i+","+k+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:y,plotPoints:t,plotBoxMean:r}},24626:function(G){G.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,w=[],v,y;if(p===!1)for(v=0;v<L.length;v++)for(y=0;y<(L[v].pts||[]).length;y++)L[v].pts[y].selected=0;else for(v=0;v<L.length;v++)for(y=0;y<(L[v].pts||[]).length;y++){var t=L[v].pts[y],r=n.c2p(t.x),l=C.c2p(t.y);p.contains([r,l],null,t.i,e)?(w.push({pointNumber:t.i,x:n.c2d(t.x),y:C.c2d(t.y)}),t.selected=1):t.selected=0}return w}},58063:function(G,U,e){var p=e(39898),L=e(7901),n=e(91424);function C(v,y,t){var r=t||p.select(v).selectAll("g.trace.boxes");r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var a=p.select(this),s=l[0].trace,c=s.line.width;function u(T,f,o,d){T.style("stroke-width",f+"px").call(L.stroke,o).call(L.fill,d)}var m=a.selectAll("path.box");if(s.type==="candlestick")m.each(function(T){if(!T.empty){var f=p.select(this),o=s[T.dir];u(f,o.line.width,o.line.color,o.fillcolor),f.style("opacity",s.selectedpoints&&!T.selected?.3:1)}});else{u(m,c,s.line.color,s.fillcolor),a.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(L.stroke,s.line.color);var h=a.selectAll("path.point");n.pointStyle(h,s,v)}})}function w(v,y,t){var r=y[0].trace,l=t.selectAll("path.point");r.selectedpoints?n.selectedPointStyle(l,r):n.pointStyle(l,r,v)}G.exports={style:C,styleOnSelect:w}},75343:function(G,U,e){var p=e(71828).extendFlat,L=e(12663).axisHoverFormat,n=e(2522),C=e(53522);function w(v){return{line:{color:p({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}G.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:w(n.increasing.line.color.dflt),decreasing:w(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel}},41197:function(G,U,e){var p=e(71828),L=e(89298),n=e(42973),C=e(3485).calcCommon;G.exports=function(v,y){var t=v._fullLayout,r=L.getFromId(v,y.xaxis),l=L.getFromId(v,y.yaxis),a=r.makeCalcdata(y,"x"),s=n(y,r,"x",a).vals,c=C(v,y,a,s,l,w);return c.length?(p.extendFlat(c[0].t,{num:t._numBoxes,dPos:p.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,c):[{t:{empty:!0}}]};function w(v,y,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:y}}},1026:function(G,U,e){var p=e(71828),L=e(7901),n=e(14555),C=e(73927),w=e(75343);G.exports=function(t,r,l,a){function s(u,m){return p.coerce(t,r,w,u,m)}var c=n(t,r,s,a);if(!c){r.visible=!1;return}C(t,r,a,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),v(t,r,s,"increasing"),v(t,r,s,"decreasing"),s("text"),s("hovertext"),s("whiskerwidth"),a._requestRangeslider[r.xaxis]=!0};function v(y,t,r,l){var a=r(l+".line.color");r(l+".line.width",t.line.width),r(l+".fillcolor",L.addOpacity(a,.5))}},91815:function(G,U,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(G,U,e){var p=e(11500),L=e(44467);G.exports=function(w,v,y,t,r){var l=t("a");l||(t("da"),t("a0"));var a=t("b");a||(t("db"),t("b0")),n(w,v,y,r)};function n(C,w,v,y){var t=["aaxis","baxis"];t.forEach(function(r){var l=r.charAt(0),a=C[r]||{},s=L.newContainer(w,r),c={noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:w.font,name:r,data:C[l],calendar:w.calendar,dfltColor:y,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};p(a,s,c),s._categories=s._categories||[],!C[r]&&a.type!=="-"&&(C[r]={type:a.type})})}},402:function(G,U,e){var p=e(71828).isArrayOrTypedArray;G.exports=function(n){return L(n,0)};function L(n,C){if(!p(n)||C>=10)return null;for(var w=1/0,v=-1/0,y=n.length,t=0;t<y;t++){var r=n[t];if(p(r)){var l=L(r,C+1);l&&(w=Math.min(l[0],w),v=Math.max(l[1],v))}else w=Math.min(r,w),v=Math.max(r,v)}return[w,v]}},99798:function(G,U,e){var p=e(41940),L=e(1928),n=e(22399),C=p({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=n.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0}},4536:function(G,U,e){var p=e(71828).isArrayOrTypedArray;G.exports=function(L,n,C,w){var v,y,t,r,l,a,s,c,u,m,h,T,f,o=p(C)?"a":"b",d=o==="a"?L.aaxis:L.baxis,M=d.smoothing,A=o==="a"?L.a2i:L.b2j,E=o==="a"?C:w,g=o==="a"?w:C,S=o==="a"?n.a.length:n.b.length,b=o==="a"?n.b.length:n.a.length,i=Math.floor(o==="a"?L.b2j(g):L.a2i(g)),P=o==="a"?function(j){return L.evalxy([],j,i)}:function(j){return L.evalxy([],i,j)};M&&(t=Math.max(0,Math.min(b-2,i)),r=i-t,y=o==="a"?function(j,ee){return L.dxydi([],j,t,ee,r)}:function(j,ee){return L.dxydj([],t,j,r,ee)});var x=A(E[0]),k=A(E[1]),_=x<k?1:-1,B=(k-x)*1e-8,I=_>0?Math.floor:Math.ceil,z=_>0?Math.ceil:Math.floor,O=_>0?Math.min:Math.max,F=_>0?Math.max:Math.min,N=I(x+B),Q=z(k-B);s=P(x);var $=[[s]];for(v=N;v*_<Q*_;v+=_)l=[],h=F(x,v),T=O(k,v+_),f=T-h,a=Math.max(0,Math.min(S-2,Math.floor(.5*(h+T)))),c=P(T),M&&(u=y(a,h-a),m=y(a,T-a),l.push([s[0]+u[0]/3*f,s[1]+u[1]/3*f]),l.push([c[0]-m[0]/3*f,c[1]-m[1]/3*f])),l.push(c),$.push(l),s=c;return $}},1928:function(G,U,e){var p=e(41940),L=e(22399),n=e(13838),C=e(12663).descriptionWithDates,w=e(30962).overrideAll,v=e(79952).P,y=e(1426).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:y({},n.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:w(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:y({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:y({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(G,U,e){var p=e(99798),L=e(7901).addOpacity,n=e(73972),C=e(71828),w=e(26218),v=e(96115),y=e(89426),t=e(15258),r=e(21994),l=e(4322);G.exports=function(c,u,m){var h=m.letter,T=m.font||{},f=p[h+"axis"];function o(N,Q){return C.coerce(c,u,f,N,Q)}function d(N,Q){return C.coerce2(c,u,f,N,Q)}m.name&&(u._name=m.name,u._id=m.name),o("autotypenumbers",m.autotypenumbersDflt);var M=o("type");if(M==="-"&&(m.data&&a(u,m.data),u.type==="-"?u.type="linear":M=c.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),u.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=h,M==="date"){var A=n.getComponentMethod("calendars","handleDefaults");A(c,u,"calendar",m.calendar)}r(u,m.fullLayout),u.c2p=C.identity;var E=o("color",m.dfltColor),g=E===c.color?E:T.color,S=o("title.text");S&&(C.coerceFont(o,"title.font",{family:T.family,size:C.bigFont(T.size),color:g}),o("title.offset")),o("tickangle");var b=o("autorange",!u.isValidRange(c.range));b&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),w(c,u,o,M),y(c,u,o,M,m),v(c,u,o,M,m),t(c,u,o,{data:m.data,dataAttr:h});var i=d("gridcolor",L(E,.3)),P=d("gridwidth"),x=d("griddash"),k=o("showgrid");k||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var _=d("startlinecolor",E),B=d("startlinewidth",P),I=o("startline",u.showgrid||!!_||!!B);I||(delete u.startlinecolor,delete u.startlinewidth);var z=d("endlinecolor",E),O=d("endlinewidth",P),F=o("endline",u.showgrid||!!z||!!O);return F||(delete u.endlinecolor,delete u.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",P),o("minorgriddash",x),o("minorgridcolor",L(i,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u};function a(s,c){if(s.type==="-"){var u=s._id,m=u.charAt(0),h=m+"calendar",T=s[h];s.type=l(c,T,{autotypenumbers:s.autotypenumbers})}}},25281:function(G,U,e){var p=e(89298),L=e(71828).isArray1D,n=e(53824),C=e(402),w=e(20347),v=e(83311),y=e(44807),t=e(4742),r=e(72505),l=e(68296),a=e(11435);G.exports=function(c,u){var m=p.getFromId(c,u.xaxis),h=p.getFromId(c,u.yaxis),T=u.aaxis,f=u.baxis,o=u.x,d=u.y,M=[];o&&L(o)&&M.push("x"),d&&L(d)&&M.push("y"),M.length&&l(u,T,f,"a","b",M);var A=u._a=u._a||u.a,E=u._b=u._b||u.b;o=u._x||u.x,d=u._y||u.y;var g={};if(u._cheater){var S=T.cheatertype==="index"?A.length:A,b=f.cheatertype==="index"?E.length:E;o=n(S,b,u.cheaterslope)}u._x=o=t(o),u._y=d=t(d),r(o,A,E),r(d,A,E),a(u),u.setScale();var i=C(o),P=C(d),x=.5*(i[1]-i[0]),k=.5*(i[1]+i[0]),_=.5*(P[1]-P[0]),B=.5*(P[1]+P[0]),I=1.3;return i=[k-x*I,k+x*I],P=[B-_*I,B+_*I],u._extremes[m._id]=p.findExtremes(m,i,{padded:!0}),u._extremes[h._id]=p.findExtremes(h,P,{padded:!0}),w(u,"a","b"),w(u,"b","a"),v(u,T),v(u,f),g.clipsegments=y(u._xctrl,u._yctrl,T,f),g.x=o,g.y=d,g.a=A,g.b=E,[g]}},44807:function(G){G.exports=function(e,p,L,n){var C,w,v,y=[],t=!!L.smoothing,r=!!n.smoothing,l=e[0].length-1,a=e.length-1;for(C=0,w=[],v=[];C<=l;C++)w[C]=e[0][C],v[C]=p[0][C];for(y.push({x:w,y:v,bicubic:t}),C=0,w=[],v=[];C<=a;C++)w[C]=e[C][l],v[C]=p[C][l];for(y.push({x:w,y:v,bicubic:r}),C=l,w=[],v=[];C>=0;C--)w[l-C]=e[a][C],v[l-C]=p[a][C];for(y.push({x:w,y:v,bicubic:t}),C=a,w=[],v=[];C>=0;C--)w[a-C]=e[C][0],v[a-C]=p[C][0];return y.push({x:w,y:v,bicubic:r}),y}},20347:function(G,U,e){var p=e(89298),L=e(1426).extendFlat;G.exports=function(C,w,v){var y,t,r,l,a,s,c,u,m,h,T,f,o,d,M=C["_"+w],A=C[w+"axis"],E=A._gridlines=[],g=A._minorgridlines=[],S=A._boundarylines=[],b=C["_"+v],i=C[v+"axis"];A.tickmode==="array"&&(A.tickvals=M.slice());var P=C._xctrl,x=C._yctrl,k=P[0].length,_=P.length,B=C._a.length,I=C._b.length;p.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var z=A.smoothing?3:1;function O(N){var Q,$,j,ee,oe,Y,V,W,X,re,ie,K,q=[],le=[],ae={};if(w==="b")for($=C.b2j(N),j=Math.floor(Math.max(0,Math.min(I-2,$))),ee=$-j,ae.length=I,ae.crossLength=B,ae.xy=function(he){return C.evalxy([],he,$)},ae.dxy=function(he,me){return C.dxydi([],he,j,me,ee)},Q=0;Q<B;Q++)Y=Math.min(B-2,Q),V=Q-Y,W=C.evalxy([],Q,$),i.smoothing&&Q>0&&(X=C.dxydi([],Q-1,j,0,ee),q.push(oe[0]+X[0]/3),le.push(oe[1]+X[1]/3),re=C.dxydi([],Q-1,j,1,ee),q.push(W[0]-re[0]/3),le.push(W[1]-re[1]/3)),q.push(W[0]),le.push(W[1]),oe=W;else for(Q=C.a2i(N),Y=Math.floor(Math.max(0,Math.min(B-2,Q))),V=Q-Y,ae.length=B,ae.crossLength=I,ae.xy=function(he){return C.evalxy([],Q,he)},ae.dxy=function(he,me){return C.dxydj([],Y,he,V,me)},$=0;$<I;$++)j=Math.min(I-2,$),ee=$-j,W=C.evalxy([],Q,$),i.smoothing&&$>0&&(ie=C.dxydj([],Y,$-1,V,0),q.push(oe[0]+ie[0]/3),le.push(oe[1]+ie[1]/3),K=C.dxydj([],Y,$-1,V,1),q.push(W[0]-K[0]/3),le.push(W[1]-K[1]/3)),q.push(W[0]),le.push(W[1]),oe=W;return ae.axisLetter=w,ae.axis=A,ae.crossAxis=i,ae.value=N,ae.constvar=v,ae.index=u,ae.x=q,ae.y=le,ae.smoothing=i.smoothing,ae}function F(N){var Q,$,j,ee,oe,Y=[],V=[],W={};if(W.length=M.length,W.crossLength=b.length,w==="b")for(j=Math.max(0,Math.min(I-2,N)),oe=Math.min(1,Math.max(0,N-j)),W.xy=function(X){return C.evalxy([],X,N)},W.dxy=function(X,re){return C.dxydi([],X,j,re,oe)},Q=0;Q<k;Q++)Y[Q]=P[N*z][Q],V[Q]=x[N*z][Q];else for($=Math.max(0,Math.min(B-2,N)),ee=Math.min(1,Math.max(0,N-$)),W.xy=function(X){return C.evalxy([],N,X)},W.dxy=function(X,re){return C.dxydj([],$,X,ee,re)},Q=0;Q<_;Q++)Y[Q]=P[Q][N*z],V[Q]=x[Q][N*z];return W.axisLetter=w,W.axis=A,W.crossAxis=i,W.value=M[N],W.constvar=v,W.index=N,W.x=Y,W.y=V,W.smoothing=i.smoothing,W}if(A.tickmode==="array"){for(l=5e-15,a=[Math.floor((M.length-1-A.arraytick0)/A.arraydtick*(1+l)),Math.ceil(-A.arraytick0/A.arraydtick/(1+l))].sort(function(N,Q){return N-Q}),s=a[0]-1,c=a[1]+1,u=s;u<c;u++)t=A.arraytick0+A.arraydtick*u,!(t<0||t>M.length-1)&&E.push(L(F(t),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(u=s;u<c;u++)if(r=A.arraytick0+A.arraydtick*u,T=Math.min(r+A.arraydtick,M.length-1),!(r<0||r>M.length-1)&&!(T<0||T>M.length-1))for(f=M[r],o=M[T],y=0;y<A.minorgridcount;y++)d=T-r,!(d<=0)&&(h=f+(o-f)*(y+1)/(A.minorgridcount+1)*(A.arraydtick/d),!(h<M[0]||h>M[M.length-1])&&g.push(L(O(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&S.push(L(F(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&S.push(L(F(M.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(l=5e-15,a=[Math.floor((M[M.length-1]-A.tick0)/A.dtick*(1+l)),Math.ceil((M[0]-A.tick0)/A.dtick/(1+l))].sort(function(N,Q){return N-Q}),s=a[0],c=a[1],u=s;u<=c;u++)m=A.tick0+A.dtick*u,E.push(L(O(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(u=s-1;u<c+1;u++)for(m=A.tick0+A.dtick*u,y=0;y<A.minorgridcount;y++)h=m+A.dtick*(y+1)/(A.minorgridcount+1),!(h<M[0]||h>M[M.length-1])&&g.push(L(O(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&S.push(L(O(M[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&S.push(L(O(M[M.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},83311:function(G,U,e){var p=e(89298),L=e(1426).extendFlat;G.exports=function(C,w){var v,y,t,r,l,a=w._labels=[],s=w._gridlines;for(v=0;v<s.length;v++)l=s[v],["start","both"].indexOf(w.showticklabels)!==-1&&(y=p.tickText(w,l.value),L(y,{prefix:t,suffix:r,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),a.push(y)),["end","both"].indexOf(w.showticklabels)!==-1&&(y=p.tickText(w,l.value),L(y,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),a.push(y))}},42048:function(G){var U=.5;G.exports=function(p,L,n,C){var w=p[0]-L[0],v=p[1]-L[1],y=n[0]-L[0],t=n[1]-L[1],r=Math.pow(w*w+v*v,U/2),l=Math.pow(y*y+t*t,U/2),a=(l*l*w-r*r*y)*C,s=(l*l*v-r*r*t)*C,c=l*(r+l)*3,u=r*(r+l)*3;return[[L[0]+(c&&a/c),L[1]+(c&&s/c)],[L[0]-(u&&a/u),L[1]-(u&&s/u)]]}},53824:function(G,U,e){var p=e(71828).isArrayOrTypedArray;G.exports=function(L,n,C){var w,v,y,t,r,l,a=[],s=p(L)?L.length:L,c=p(n)?n.length:n,u=p(L)?L:null,m=p(n)?n:null;u&&(y=(u.length-1)/(u[u.length-1]-u[0])/(s-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(c-1));var h,T=1/0,f=-1/0;for(v=0;v<c;v++)for(a[v]=[],l=m?(m[v]-m[0])*t:v/(c-1),w=0;w<s;w++)r=u?(u[w]-u[0])*y:w/(s-1),h=r-l*C,T=Math.min(h,T),f=Math.max(h,f),a[v][w]=h;var o=1/(f-T),d=-T*o;for(v=0;v<c;v++)for(w=0;w<s;w++)a[v][w]=o*a[v][w]+d;return a}},45664:function(G,U,e){var p=e(42048),L=e(71828).ensureArray;function n(C,w,v){var y=-.5*v[0]+1.5*w[0],t=-.5*v[1]+1.5*w[1];return[(2*y+C[0])/3,(2*t+C[1])/3]}G.exports=function(w,v,y,t,r,l){var a,s,c,u,m,h,T,f,o,d,M=y[0].length,A=y.length,E=r?3*M-2:M,g=l?3*A-2:A;for(w=L(w,g),v=L(v,g),c=0;c<g;c++)w[c]=L(w[c],E),v[c]=L(v[c],E);for(s=0,u=0;s<A;s++,u+=l?3:1)for(m=w[u],h=v[u],T=y[s],f=t[s],a=0,c=0;a<M;a++,c+=r?3:1)m[c]=T[a],h[c]=f[a];if(r)for(s=0,u=0;s<A;s++,u+=l?3:1){for(a=1,c=3;a<M-1;a++,c+=3)o=p([y[s][a-1],t[s][a-1]],[y[s][a],t[s][a]],[y[s][a+1],t[s][a+1]],r),w[u][c-1]=o[0][0],v[u][c-1]=o[0][1],w[u][c+1]=o[1][0],v[u][c+1]=o[1][1];d=n([w[u][0],v[u][0]],[w[u][2],v[u][2]],[w[u][3],v[u][3]]),w[u][1]=d[0],v[u][1]=d[1],d=n([w[u][E-1],v[u][E-1]],[w[u][E-3],v[u][E-3]],[w[u][E-4],v[u][E-4]]),w[u][E-2]=d[0],v[u][E-2]=d[1]}if(l)for(c=0;c<E;c++){for(u=3;u<g-3;u+=3)o=p([w[u-3][c],v[u-3][c]],[w[u][c],v[u][c]],[w[u+3][c],v[u+3][c]],l),w[u-1][c]=o[0][0],v[u-1][c]=o[0][1],w[u+1][c]=o[1][0],v[u+1][c]=o[1][1];d=n([w[0][c],v[0][c]],[w[2][c],v[2][c]],[w[3][c],v[3][c]]),w[1][c]=d[0],v[1][c]=d[1],d=n([w[g-1][c],v[g-1][c]],[w[g-3][c],v[g-3][c]],[w[g-4][c],v[g-4][c]]),w[g-2][c]=d[0],v[g-2][c]=d[1]}if(r&&l)for(u=1;u<g;u+=(u+1)%3===0?2:1){for(c=3;c<E-3;c+=3)o=p([w[u][c-3],v[u][c-3]],[w[u][c],v[u][c]],[w[u][c+3],v[u][c+3]],r),w[u][c-1]=.5*(w[u][c-1]+o[0][0]),v[u][c-1]=.5*(v[u][c-1]+o[0][1]),w[u][c+1]=.5*(w[u][c+1]+o[1][0]),v[u][c+1]=.5*(v[u][c+1]+o[1][1]);d=n([w[u][0],v[u][0]],[w[u][2],v[u][2]],[w[u][3],v[u][3]]),w[u][1]=.5*(w[u][1]+d[0]),v[u][1]=.5*(v[u][1]+d[1]),d=n([w[u][E-1],v[u][E-1]],[w[u][E-3],v[u][E-3]],[w[u][E-4],v[u][E-4]]),w[u][E-2]=.5*(w[u][E-2]+d[0]),v[u][E-2]=.5*(v[u][E-2]+d[1])}return[w,v]}},35509:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(G){G.exports=function(U,e,p){return e&&p?function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a,s;n*=3,C*=3;var c=w*w,u=1-w,m=u*u,h=u*w*2,T=-3*m,f=3*(m-h),o=3*(h-c),d=3*c,M=v*v,A=M*v,E=1-v,g=E*E,S=g*E;for(s=0;s<U.length;s++)a=U[s],y=T*a[C][n]+f*a[C][n+1]+o*a[C][n+2]+d*a[C][n+3],t=T*a[C+1][n]+f*a[C+1][n+1]+o*a[C+1][n+2]+d*a[C+1][n+3],r=T*a[C+2][n]+f*a[C+2][n+1]+o*a[C+2][n+2]+d*a[C+2][n+3],l=T*a[C+3][n]+f*a[C+3][n+1]+o*a[C+3][n+2]+d*a[C+3][n+3],L[s]=S*y+3*(g*v*t+E*M*r)+A*l;return L}:e?function(L,n,C,w,v){L||(L=[]);var y,t,r,l;n*=3;var a=w*w,s=1-w,c=s*s,u=s*w*2,m=-3*c,h=3*(c-u),T=3*(u-a),f=3*a,o=1-v;for(r=0;r<U.length;r++)l=U[r],y=m*l[C][n]+h*l[C][n+1]+T*l[C][n+2]+f*l[C][n+3],t=m*l[C+1][n]+h*l[C+1][n+1]+T*l[C+1][n+2]+f*l[C+1][n+3],L[r]=o*y+v*t;return L}:p?function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a,s;C*=3;var c=v*v,u=c*v,m=1-v,h=m*m,T=h*m;for(a=0;a<U.length;a++)s=U[a],y=s[C][n+1]-s[C][n],t=s[C+1][n+1]-s[C+1][n],r=s[C+2][n+1]-s[C+2][n],l=s[C+3][n+1]-s[C+3][n],L[a]=T*y+3*(h*v*t+m*c*r)+u*l;return L}:function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a=1-v;for(r=0;r<U.length;r++)l=U[r],y=l[C][n+1]-l[C][n],t=l[C+1][n+1]-l[C+1][n],L[r]=a*y+v*t;return L}}},73057:function(G){G.exports=function(U,e,p){return e&&p?function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a,s;n*=3,C*=3;var c=w*w,u=c*w,m=1-w,h=m*m,T=h*m,f=v*v,o=1-v,d=o*o,M=o*v*2,A=-3*d,E=3*(d-M),g=3*(M-f),S=3*f;for(s=0;s<U.length;s++)a=U[s],y=A*a[C][n]+E*a[C+1][n]+g*a[C+2][n]+S*a[C+3][n],t=A*a[C][n+1]+E*a[C+1][n+1]+g*a[C+2][n+1]+S*a[C+3][n+1],r=A*a[C][n+2]+E*a[C+1][n+2]+g*a[C+2][n+2]+S*a[C+3][n+2],l=A*a[C][n+3]+E*a[C+1][n+3]+g*a[C+2][n+3]+S*a[C+3][n+3],L[s]=T*y+3*(h*w*t+m*c*r)+u*l;return L}:e?function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a,s;n*=3;var c=v*v,u=c*v,m=1-v,h=m*m,T=h*m;for(a=0;a<U.length;a++)s=U[a],y=s[C+1][n]-s[C][n],t=s[C+1][n+1]-s[C][n+1],r=s[C+1][n+2]-s[C][n+2],l=s[C+1][n+3]-s[C][n+3],L[a]=T*y+3*(h*v*t+m*c*r)+u*l;return L}:p?function(L,n,C,w,v){L||(L=[]);var y,t,r,l;C*=3;var a=1-w,s=v*v,c=1-v,u=c*c,m=c*v*2,h=-3*u,T=3*(u-m),f=3*(m-s),o=3*s;for(r=0;r<U.length;r++)l=U[r],y=h*l[C][n]+T*l[C+1][n]+f*l[C+2][n]+o*l[C+3][n],t=h*l[C][n+1]+T*l[C+1][n+1]+f*l[C+2][n+1]+o*l[C+3][n+1],L[r]=a*y+w*t;return L}:function(L,n,C,w,v){L||(L=[]);var y,t,r,l,a=1-w;for(r=0;r<U.length;r++)l=U[r],y=l[C+1][n]-l[C][n],t=l[C+1][n+1]-l[C][n+1],L[r]=a*y+w*t;return L}}},20349:function(G){G.exports=function(U,e,p,L,n){var C=e-2,w=p-2;return L&&n?function(v,y,t){v||(v=[]);var r,l,a,s,c,u,m=Math.max(0,Math.min(Math.floor(y),C)),h=Math.max(0,Math.min(Math.floor(t),w)),T=Math.max(0,Math.min(1,y-m)),f=Math.max(0,Math.min(1,t-h));m*=3,h*=3;var o=T*T,d=o*T,M=1-T,A=M*M,E=A*M,g=f*f,S=g*f,b=1-f,i=b*b,P=i*b;for(u=0;u<U.length;u++)c=U[u],r=E*c[h][m]+3*(A*T*c[h][m+1]+M*o*c[h][m+2])+d*c[h][m+3],l=E*c[h+1][m]+3*(A*T*c[h+1][m+1]+M*o*c[h+1][m+2])+d*c[h+1][m+3],a=E*c[h+2][m]+3*(A*T*c[h+2][m+1]+M*o*c[h+2][m+2])+d*c[h+2][m+3],s=E*c[h+3][m]+3*(A*T*c[h+3][m+1]+M*o*c[h+3][m+2])+d*c[h+3][m+3],v[u]=P*r+3*(i*f*l+b*g*a)+S*s;return v}:L?function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),l=Math.max(0,Math.min(Math.floor(t),w)),a=Math.max(0,Math.min(1,y-r)),s=Math.max(0,Math.min(1,t-l)),c,u,m,h,T,f;r*=3;var o=a*a,d=o*a,M=1-a,A=M*M,E=A*M,g=1-s;for(T=0;T<U.length;T++)f=U[T],c=g*f[l][r]+s*f[l+1][r],u=g*f[l][r+1]+s*f[l+1][r+1],m=g*f[l][r+2]+s*f[l+1][r+1],h=g*f[l][r+3]+s*f[l+1][r+1],v[T]=E*c+3*(A*a*u+M*o*m)+d*h;return v}:n?function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),l=Math.max(0,Math.min(Math.floor(t),w)),a=Math.max(0,Math.min(1,y-r)),s=Math.max(0,Math.min(1,t-l)),c,u,m,h,T,f;l*=3;var o=s*s,d=o*s,M=1-s,A=M*M,E=A*M,g=1-a;for(T=0;T<U.length;T++)f=U[T],c=g*f[l][r]+a*f[l][r+1],u=g*f[l+1][r]+a*f[l+1][r+1],m=g*f[l+2][r]+a*f[l+2][r+1],h=g*f[l+3][r]+a*f[l+3][r+1],v[T]=E*c+3*(A*s*u+M*o*m)+d*h;return v}:function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),l=Math.max(0,Math.min(Math.floor(t),w)),a=Math.max(0,Math.min(1,y-r)),s=Math.max(0,Math.min(1,t-l)),c,u,m,h,T=1-s,f=1-a;for(m=0;m<U.length;m++)h=U[m],c=f*h[l][r]+a*h[l][r+1],u=f*h[l+1][r]+a*h[l+1][r+1],v[m]=T*c+s*u;return v}}},92087:function(G,U,e){var p=e(71828),L=e(19237),n=e(13145),C=e(99798),w=e(22399);G.exports=function(y,t,r,l){function a(u,m){return p.coerce(y,t,C,u,m)}t._clipPathId="clip"+t.uid+"carpet";var s=a("color",w.defaultLine);if(p.coerceFont(a,"font"),a("carpet"),n(y,t,l,a,s),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var c=L(y,t,a);c||(t.visible=!1),t._cheater&&a("cheaterslope")}},21462:function(G,U,e){G.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(G){G.exports=function(U,e){for(var p=U._fullData.length,L,n=0;n<p;n++){var C=U._fullData[n];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},67961:function(G){G.exports=function(e,p,L){if(e.length===0)return"";var n,C=[],w=L?3:1;for(n=0;n<e.length;n+=w)C.push(e[n]+","+p[n]),L&&n<e.length-w&&(C.push("C"),C.push([e[n+1]+","+p[n+1],e[n+2]+","+p[n+2]+" "].join(" ")));return C.join(L?"":"L")}},27669:function(G,U,e){var p=e(71828).isArrayOrTypedArray;G.exports=function(n,C,w){var v;for(p(n)?n.length>C.length&&(n=n.slice(0,C.length)):n=[],v=0;v<C.length;v++)n[v]=w(C[v]);return n}},11651:function(G){G.exports=function(e,p,L,n,C,w){var v=C[0]*e.dpdx(p),y=C[1]*e.dpdy(L),t=1,r=1;if(w){var l=Math.sqrt(C[0]*C[0]+C[1]*C[1]),a=Math.sqrt(w[0]*w[0]+w[1]*w[1]),s=(C[0]*w[0]+C[1]*w[1])/l/a;r=Math.max(0,s)}var c=Math.atan2(y,v)*180/Math.PI;return c<-90?(c+=180,t=-t):c>90&&(c-=180,t=-t),{angle:c,flip:t,p:e.c2p(n,p,L),offsetMultplier:r}}},89740:function(G,U,e){var p=e(39898),L=e(91424),n=e(27669),C=e(67961),w=e(11651),v=e(63893),y=e(71828),t=y.strRotate,r=y.strTranslate,l=e(18783);G.exports=function(o,d,M,A){var E=o._context.staticPlot,g=d.xaxis,S=d.yaxis,b=o._fullLayout,i=b._clips;y.makeTraceGroups(A,M,"trace").each(function(P){var x=p.select(this),k=P[0],_=k.trace,B=_.aaxis,I=_.baxis,z=y.ensureSingle(x,"g","minorlayer"),O=y.ensureSingle(x,"g","majorlayer"),F=y.ensureSingle(x,"g","boundarylayer"),N=y.ensureSingle(x,"g","labellayer");x.style("opacity",_.opacity),s(g,S,O,B,"a",B._gridlines,!0),s(g,S,O,I,"b",I._gridlines,!0),s(g,S,z,B,"a",B._minorgridlines,!0),s(g,S,z,I,"b",I._minorgridlines,!0),s(g,S,F,B,"a-boundary",B._boundarylines,E),s(g,S,F,I,"b-boundary",I._boundarylines,E);var Q=c(o,g,S,_,k,N,B._labels,"a-label"),$=c(o,g,S,_,k,N,I._labels,"b-label");u(o,N,_,k,g,S,Q,$),a(_,k,i,g,S)})};function a(f,o,d,M,A){var E,g,S,b,i=d.select("#"+f._clipPathId);i.size()||(i=d.append("clipPath").classed("carpetclip",!0));var P=y.ensureSingle(i,"path","carpetboundary"),x=o.clipsegments,k=[];for(b=0;b<x.length;b++)E=x[b],g=n([],E.x,M.c2p),S=n([],E.y,A.c2p),k.push(C(g,S,E.bicubic));var _="M"+k.join("L")+"Z";i.attr("id",f._clipPathId),P.attr("d",_)}function s(f,o,d,M,A,E,g){var S="const-"+A+"-lines",b=d.selectAll("."+S).data(E);b.enter().append("path").classed(S,!0).style("vector-effect",g?"none":"non-scaling-stroke"),b.each(function(i){var P=i,x=P.x,k=P.y,_=n([],x,f.c2p),B=n([],k,o.c2p),I="M"+C(_,B,P.smoothing),z=p.select(this);z.attr("d",I).style("stroke-width",P.width).style("stroke",P.color).style("stroke-dasharray",L.dashStyle(P.dash,P.width)).style("fill","none")}),b.exit().remove()}function c(f,o,d,M,A,E,g,S){var b=E.selectAll("text."+S).data(g);b.enter().append("text").classed(S,!0);var i=0,P={};return b.each(function(x,k){var _;if(x.axis.tickangle==="auto")_=w(M,o,d,x.xy,x.dxy);else{var B=(x.axis.tickangle+180)*Math.PI/180;_=w(M,o,d,x.xy,[Math.cos(B),Math.sin(B)])}k||(P={angle:_.angle,flip:_.flip});var I=(x.endAnchor?-1:1)*_.flip,z=p.select(this).attr({"text-anchor":I>0?"start":"end","data-notex":1}).call(L.font,x.font).text(x.text).call(v.convertToTspans,f),O=L.bBox(this);z.attr("transform",r(_.p[0],_.p[1])+t(_.angle)+r(x.axis.labelpadding*I,O.height*.3)),i=Math.max(i,O.width+x.axis.labelpadding)}),b.exit().remove(),P.maxExtent=i,P}function u(f,o,d,M,A,E,g,S){var b,i,P,x,k=y.aggNums(Math.min,null,d.a),_=y.aggNums(Math.max,null,d.a),B=y.aggNums(Math.min,null,d.b),I=y.aggNums(Math.max,null,d.b);b=.5*(k+_),i=B,P=d.ab2xy(b,i,!0),x=d.dxyda_rough(b,i),g.angle===void 0&&y.extendFlat(g,w(d,A,E,P,d.dxydb_rough(b,i))),T(f,o,d,M,P,x,d.aaxis,A,E,g,"a-title"),b=k,i=.5*(B+I),P=d.ab2xy(b,i,!0),x=d.dxydb_rough(b,i),S.angle===void 0&&y.extendFlat(S,w(d,A,E,P,d.dxyda_rough(b,i))),T(f,o,d,M,P,x,d.baxis,A,E,S,"b-title")}var m=l.LINE_SPACING,h=(1-l.MID_SHIFT)/m+1;function T(f,o,d,M,A,E,g,S,b,i,P){var x=[];g.title.text&&x.push(g.title.text);var k=o.selectAll("text."+P).data(x),_=i.maxExtent;k.enter().append("text").classed(P,!0),k.each(function(){var B=w(d,S,b,A,E);["start","both"].indexOf(g.showticklabels)===-1&&(_=0);var I=g.title.font.size;_+=I+g.title.offset;var z=i.angle+(i.flip<0?180:0),O=(z-B.angle+450)%360,F=O>90&&O<270,N=p.select(this);N.text(g.title.text).call(v.convertToTspans,f),F&&(_=(-v.lineCount(N)+h)*m*I-_),N.attr("transform",r(B.p[0],B.p[1])+t(B.angle)+r(0,_)).attr("text-anchor","middle").call(L.font,g.title.font)}),k.exit().remove()}},11435:function(G,U,e){var p=e(35509),L=e(65888).findBin,n=e(45664),C=e(20349),w=e(54495),v=e(73057);G.exports=function(t){var r=t._a,l=t._b,a=r.length,s=l.length,c=t.aaxis,u=t.baxis,m=r[0],h=r[a-1],T=l[0],f=l[s-1],o=r[r.length-1]-r[0],d=l[l.length-1]-l[0],M=o*p.RELATIVE_CULL_TOLERANCE,A=d*p.RELATIVE_CULL_TOLERANCE;m-=M,h+=M,T-=A,f+=A,t.isVisible=function(E,g){return E>m&&E<h&&g>T&&g<f},t.isOccluded=function(E,g){return E<m||E>h||g<T||g>f},t.setScale=function(){var E=t._x,g=t._y,S=n(t._xctrl,t._yctrl,E,g,c.smoothing,u.smoothing);t._xctrl=S[0],t._yctrl=S[1],t.evalxy=C([t._xctrl,t._yctrl],a,s,c.smoothing,u.smoothing),t.dxydi=w([t._xctrl,t._yctrl],c.smoothing,u.smoothing),t.dxydj=v([t._xctrl,t._yctrl],c.smoothing,u.smoothing)},t.i2a=function(E){var g=Math.max(0,Math.floor(E[0]),a-2),S=E[0]-g;return(1-S)*r[g]+S*r[g+1]},t.j2b=function(E){var g=Math.max(0,Math.floor(E[1]),a-2),S=E[1]-g;return(1-S)*l[g]+S*l[g+1]},t.ij2ab=function(E){return[t.i2a(E[0]),t.j2b(E[1])]},t.a2i=function(E){var g=Math.max(0,Math.min(L(E,r),a-2)),S=r[g],b=r[g+1];return Math.max(0,Math.min(a-1,g+(E-S)/(b-S)))},t.b2j=function(E){var g=Math.max(0,Math.min(L(E,l),s-2)),S=l[g],b=l[g+1];return Math.max(0,Math.min(s-1,g+(E-S)/(b-S)))},t.ab2ij=function(E){return[t.a2i(E[0]),t.b2j(E[1])]},t.i2c=function(E,g){return t.evalxy([],E,g)},t.ab2xy=function(E,g,S){if(!S&&(E<r[0]||E>r[a-1]|g<l[0]||g>l[s-1]))return[!1,!1];var b=t.a2i(E),i=t.b2j(g),P=t.evalxy([],b,i);if(S){var x=0,k=0,_=[],B,I,z,O;E<r[0]?(B=0,I=0,x=(E-r[0])/(r[1]-r[0])):E>r[a-1]?(B=a-2,I=1,x=(E-r[a-1])/(r[a-1]-r[a-2])):(B=Math.max(0,Math.min(a-2,Math.floor(b))),I=b-B),g<l[0]?(z=0,O=0,k=(g-l[0])/(l[1]-l[0])):g>l[s-1]?(z=s-2,O=1,k=(g-l[s-1])/(l[s-1]-l[s-2])):(z=Math.max(0,Math.min(s-2,Math.floor(i))),O=i-z),x&&(t.dxydi(_,B,z,I,O),P[0]+=_[0]*x,P[1]+=_[1]*x),k&&(t.dxydj(_,B,z,I,O),P[0]+=_[0]*k,P[1]+=_[1]*k)}return P},t.c2p=function(E,g,S){return[g.c2p(E[0]),S.c2p(E[1])]},t.p2x=function(E,g,S){return[g.p2c(E[0]),S.p2c(E[1])]},t.dadi=function(E){var g=Math.max(0,Math.min(r.length-2,E));return r[g+1]-r[g]},t.dbdj=function(E){var g=Math.max(0,Math.min(l.length-2,E));return l[g+1]-l[g]},t.dxyda=function(E,g,S,b){var i=t.dxydi(null,E,g,S,b),P=t.dadi(E,S);return[i[0]/P,i[1]/P]},t.dxydb=function(E,g,S,b){var i=t.dxydj(null,E,g,S,b),P=t.dbdj(g,b);return[i[0]/P,i[1]/P]},t.dxyda_rough=function(E,g,S){var b=o*(S||.1),i=t.ab2xy(E+b,g,!0),P=t.ab2xy(E-b,g,!0);return[(i[0]-P[0])*.5/b,(i[1]-P[1])*.5/b]},t.dxydb_rough=function(E,g,S){var b=d*(S||.1),i=t.ab2xy(E,g+b,!0),P=t.ab2xy(E,g-b,!0);return[(i[0]-P[0])*.5/b,(i[1]-P[1])*.5/b]},t.dpdx=function(E){return E._m},t.dpdy=function(E){return E._m}}},72505:function(G,U,e){var p=e(71828);G.exports=function(n,C,w){var v,y,t,r=[],l=[],a=n[0].length,s=n.length;function c($,j){var ee=0,oe,Y=0;return $>0&&(oe=n[j][$-1])!==void 0&&(Y++,ee+=oe),$<a-1&&(oe=n[j][$+1])!==void 0&&(Y++,ee+=oe),j>0&&(oe=n[j-1][$])!==void 0&&(Y++,ee+=oe),j<s-1&&(oe=n[j+1][$])!==void 0&&(Y++,ee+=oe),ee/Math.max(1,Y)}var u=0;for(v=0;v<a;v++)for(y=0;y<s;y++)n[y][v]===void 0&&(r.push(v),l.push(y),n[y][v]=c(v,y)),u=Math.max(u,Math.abs(n[y][v]));if(!r.length)return n;var m,h,T,f,o,d,M,A,E,g,S,b=1e-5,i=0,P=100,x=0,k=r.length;do{for(i=0,t=0;t<k;t++){v=r[t],y=l[t];var _=0,B=0,I,z,O,F,N,Q;v===0?(N=Math.min(a-1,2),O=C[N],F=C[1],I=n[y][N],z=n[y][1],B+=z+(z-I)*(C[0]-F)/(F-O),_++):v===a-1&&(N=Math.max(0,a-3),O=C[N],F=C[a-2],I=n[y][N],z=n[y][a-2],B+=z+(z-I)*(C[a-1]-F)/(F-O),_++),(v===0||v===a-1)&&y>0&&y<s-1&&(m=w[y+1]-w[y],h=w[y]-w[y-1],B+=(h*n[y+1][v]+m*n[y-1][v])/(h+m),_++),y===0?(Q=Math.min(s-1,2),O=w[Q],F=w[1],I=n[Q][v],z=n[1][v],B+=z+(z-I)*(w[0]-F)/(F-O),_++):y===s-1&&(Q=Math.max(0,s-3),O=w[Q],F=w[s-2],I=n[Q][v],z=n[s-2][v],B+=z+(z-I)*(w[s-1]-F)/(F-O),_++),(y===0||y===s-1)&&v>0&&v<a-1&&(m=C[v+1]-C[v],h=C[v]-C[v-1],B+=(h*n[y][v+1]+m*n[y][v-1])/(h+m),_++),_?B/=_:(T=C[v+1]-C[v],f=C[v]-C[v-1],o=w[y+1]-w[y],d=w[y]-w[y-1],M=T*f*(T+f),A=o*d*(o+d),B=(M*(d*n[y+1][v]+o*n[y-1][v])+A*(f*n[y][v+1]+T*n[y][v-1]))/(A*(f+T)+M*(d+o))),E=B-n[y][v],g=E/u,i+=g*g,S=_?0:.85,n[y][v]+=E*(1+S)}i=Math.sqrt(i)}while(x++<P&&i>b);return p.log("Smoother converged to",i,"after",x,"iterations"),n}},19237:function(G,U,e){var p=e(71828).isArray1D;G.exports=function(n,C,w){var v=w("x"),y=v&&v.length,t=w("y"),r=t&&t.length;if(!y&&!r)return!1;if(C._cheater=!v,(!y||p(v))&&(!r||p(t))){var l=y?v.length:1/0;r&&(l=Math.min(l,t.length)),C.a&&C.a.length&&(l=Math.min(l,C.a.length)),C.b&&C.b.length&&(l=Math.min(l,C.b.length)),C._length=l}else C._length=null;return!0}},69568:function(G,U,e){var p=e(5386).f,L=e(19316),n=e(50693),C=e(9012),w=e(22399).defaultLine,v=e(1426).extendFlat,y=L.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},y.color,{dflt:w}),width:v({},y.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:v({},C.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(G,U,e){var p=e(92770),L=e(50606).BADNUM,n=e(78803),C=e(75225),w=e(66279);function v(y){return y&&typeof y=="string"}G.exports=function(t,r){var l=r._length,a=new Array(l),s;r.geojson?s=function(T){return v(T)||p(T)}:s=v;for(var c=0;c<l;c++){var u=a[c]={},m=r.locations[c],h=r.z[c];s(m)&&p(h)?(u.loc=m,u.z=h):(u.loc=null,u.z=L),u.index=c}return C(a,r),n(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),w(a,r),a}},61869:function(G,U,e){var p=e(71828),L=e(1586),n=e(69568);G.exports=function(w,v,y,t){function r(h,T){return p.coerce(w,v,n,h,T)}var l=r("locations"),a=r("z");if(!(l&&l.length&&p.isArrayOrTypedArray(a)&&a.length)){v.visible=!1;return}v._length=Math.min(l.length,a.length);var s=r("geojson"),c;(typeof s=="string"&&s!==""||p.isPlainObject(s))&&(c="geojson-id");var u=r("locationmode",c);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var m=r("marker.line.width");m&&r("marker.line.color"),r("marker.opacity"),L(w,v,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,r)}},92069:function(G){G.exports=function(e,p,L,n,C){e.location=p.location,e.z=p.z;var w=n[C];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e.ct=w.ct,e}},42300:function(G,U,e){var p=e(89298),L=e(69568),n=e(71828).fillText;G.exports=function(v,y,t){var r=v.cd,l=r[0].trace,a=v.subplot,s,c,u,m,h=[y,t],T=[y+360,t];for(c=0;c<r.length;c++)if(s=r[c],m=!1,s._polygons){for(u=0;u<s._polygons.length;u++)s._polygons[u].contains(h)&&(m=!m),s._polygons[u].contains(T)&&(m=!m);if(m)break}if(!(!m||!s))return v.x0=v.x1=v.xa.c2p(s.ct),v.y0=v.y1=v.ya.c2p(s.ct),v.index=s.index,v.location=s.loc,v.z=s.z,v.zLabel=p.tickText(a.mockAxis,a.mockAxis.c2l(s.z),"hover").text,v.hovertemplate=s.hovertemplate,C(v,l,s),[v]};function C(w,v,y){if(!v.hovertemplate){var t=y.hi||v.hoverinfo,r=String(y.loc),l=t==="all"?L.hoverinfo.flags:t.split("+"),a=l.indexOf("name")!==-1,s=l.indexOf("location")!==-1,c=l.indexOf("z")!==-1,u=l.indexOf("text")!==-1,m=!a&&s,h=[];m?w.nameOverride=r:(a&&(w.nameOverride=v.name),s&&h.push(r)),c&&h.push(w.zLabel),u&&n(y,v,h),w.extraText=h.join("<br>")}}},51319:function(G,U,e){G.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(G,U,e){var p=e(39898),L=e(71828),n=e(41327),C=e(90973).getTopojsonFeatures,w=e(71739).findExtremes,v=e(99636).style;function y(r,l,a){var s=l.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(s,a,"trace choropleth").each(function(c){var u=p.select(this),m=u.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(r,c)})}function t(r,l){for(var a=r[0].trace,s=l[a.geo],c=s._subplot,u=a.locationmode,m=a._length,h=u==="geojson-id"?n.extractTraceFeature(r):C(a,c.topojson),T=[],f=[],o=0;o<m;o++){var d=r[o],M=u==="geojson-id"?d.fOut:n.locationToFeature(u,d.loc,h);if(M){d.geojson=M,d.ct=M.properties.ct,d._polygons=n.feature2polygons(M);var A=n.computeBbox(M);T.push(A[0],A[2]),f.push(A[1],A[3])}else d.geojson=null}if(s.fitbounds==="geojson"&&u==="geojson-id"){var E=n.computeBbox(n.getTraceGeojson(a));T=[E[0],E[2]],f=[E[1],E[3]]}var g={padded:!0};a._extremes.lon=w(s.lonaxis._ax,T,g),a._extremes.lat=w(s.lataxis._ax,f,g)}G.exports={calcGeoJSON:t,plot:y}},81253:function(G){G.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,w=[],v,y,t,r,l;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)y=L[v],t=y.ct,t&&(r=n.c2p(t),l=C.c2p(t),p.contains([r,l],null,v,e)?(w.push({pointNumber:v,lon:t[0],lat:t[1]}),y.selected=1):y.selected=0);return w}},99636:function(G,U,e){var p=e(39898),L=e(7901),n=e(91424),C=e(21081);function w(t,r){r&&v(t,r)}function v(t,r){var l=r[0].trace,a=r[0].node3,s=a.selectAll(".choroplethlocation"),c=l.marker||{},u=c.line||{},m=C.makeColorScaleFuncFromTrace(l);s.each(function(h){p.select(this).attr("fill",m(h.z)).call(L.stroke,h.mlc||u.color).call(n.dashLine,"",h.mlw||u.width||0).style("opacity",c.opacity)}),n.selectedPointStyle(s,l)}function y(t,r){var l=r[0].node3,a=r[0].trace;a.selectedpoints?n.selectedPointStyle(l.selectAll(".choroplethlocation"),a):v(t,r)}G.exports={style:w,styleOnSelect:y}},64496:function(G,U,e){var p=e(69568),L=e(50693),n=e(5386).f,C=e(9012),w=e(1426).extendFlat;G.exports=w({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:w({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:w({},p.marker.line.color,{editType:"plot"}),width:w({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:w({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:w({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:w({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(G,U,e){var p=e(92770),L=e(71828),n=e(21081),C=e(91424),w=e(18214).makeBlank,v=e(41327);function y(r){var l=r[0].trace,a=l.visible===!0&&l._length!==0,s={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},u=l._opts={fill:s,line:c,geojson:w()};if(!a)return u;var m=v.extractTraceFeature(r);if(!m)return u;var h=n.makeColorScaleFuncFromTrace(l),T=l.marker,f=T.line||{},o;L.isArrayOrTypedArray(T.opacity)&&(o=function(i){var P=i.mo;return p(P)?+L.constrain(P,0,1):0});var d;L.isArrayOrTypedArray(f.color)&&(d=function(i){return i.mlc});var M;L.isArrayOrTypedArray(f.width)&&(M=function(i){return i.mlw});for(var A=0;A<r.length;A++){var E=r[A],g=E.fOut;if(g){var S=g.properties;S.fc=h(E.z),o&&(S.mo=o(E)),d&&(S.mlc=d(E)),M&&(S.mlw=M(E)),E.ct=S.ct,E._polygons=v.feature2polygons(g)}}var b=o?{type:"identity",property:"mo"}:T.opacity;return L.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),L.extendFlat(c.paint,{"line-color":d?{type:"identity",property:"mlc"}:f.color,"line-width":M?{type:"identity",property:"mlw"}:f.width,"line-opacity":b}),s.layout.visibility="visible",c.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:m},t(r),u}function t(r){var l=r[0].trace,a=l._opts,s;if(l.selectedpoints){for(var c=C.makeSelectedPointStyleFns(l),u=0;u<r.length;u++){var m=r[u];m.fOut&&(m.fOut.properties.mo2=c.selectedOpacityFn(m))}s={type:"identity",property:"mo2"}}else s=L.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return L.extendFlat(a.fill.paint,{"fill-opacity":s}),L.extendFlat(a.line.paint,{"line-opacity":s}),a}G.exports={convert:y,convertOnSelect:t}},22654:function(G,U,e){var p=e(71828),L=e(1586),n=e(64496);G.exports=function(w,v,y,t){function r(u,m){return p.coerce(w,v,n,u,m)}var l=r("locations"),a=r("z"),s=r("geojson");if(!p.isArrayOrTypedArray(l)||!l.length||!p.isArrayOrTypedArray(a)||!a.length||!(typeof s=="string"&&s!==""||p.isPlainObject(s))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(l.length,a.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var c=r("marker.line.width");c&&r("marker.line.color"),r("marker.opacity"),L(w,v,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,r)}},57516:function(G,U,e){G.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var n=L.getMapLayers(),C=n.length-2;C>=0;C--){var w=n[C].id;if(typeof w=="string"&&w.indexOf("water")===0){for(var v=C+1;v<n.length;v++)if(w=n[v].id,typeof w=="string"&&w.indexOf("plotly-")===-1)return w}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(G,U,e){var p=e(82004).convert,L=e(82004).convertOnSelect,n=e(77734).traceLayerPrefix;function C(v,y){this.type="choroplethmapbox",this.subplot=v,this.uid=y,this.sourceId="source-"+y,this.layerList=[["fill",n+y+"-fill"],["line",n+y+"-line"]],this.below=null}var w=C.prototype;w.update=function(v){this._update(p(v)),v[0].trace._glTrace=this},w.updateOnSelect=function(v){this._update(L(v))},w._update=function(v){var y=this.subplot,t=this.layerList,r=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var l=0;l<t.length;l++){var a=t[l],s=a[0],c=a[1],u=v[s];y.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&y.setOptions(c,"setPaintProperty",u.paint)}},w._addLayers=function(v,y){for(var t=this.subplot,r=this.layerList,l=this.sourceId,a=0;a<r.length;a++){var s=r[a],c=s[0],u=v[c];t.addLayer({type:c,id:s[1],source:l,layout:u.layout,paint:u.paint},y)}},w._removeLayers=function(){for(var v=this.subplot.map,y=this.layerList,t=y.length-1;t>=0;t--)v.removeLayer(y[t][1])},w.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(y,t){var r=t[0].trace,l=new C(y,r.uid),a=l.sourceId,s=p(t),c=l.below=y.belowLookup["trace-"+r.uid];return y.map.addSource(a,{type:"geojson",data:s.geojson}),l._addLayers(s,c),t[0].trace._glTrace=l,l}},12674:function(G,U,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(2418),w=e(9012),v=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(y,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){y[r]=C[r]}),y.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,G.exports=y},31371:function(G,U,e){var p=e(78803);G.exports=function(n,C){for(var w=C.u,v=C.v,y=C.w,t=Math.min(C.x.length,C.y.length,C.z.length,w.length,v.length,y.length),r=-1/0,l=1/0,a=0;a<t;a++){var s=w[a],c=v[a],u=y[a],m=Math.sqrt(s*s+c*c+u*u);r=Math.max(r,m),l=Math.min(l,m)}C._len=t,C._normMax=r,p(n,C,{vals:[l,r],containerStr:"",cLetter:"c"})}},5453:function(G,U,e){var p=e(9330).gl_cone3d,L=e(9330).gl_cone3d.createConeMesh,n=e(71828).simpleMap,C=e(81697).parseColorScale,w=e(21081).extractOpts,v=e(90060);function y(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var t=y.prototype;t.handlePick=function(u){if(u.object===this.mesh){var m=u.index=u.data.index,h=this.data.x[m],T=this.data.y[m],f=this.data.z[m],o=this.data.u[m],d=this.data.v[m],M=this.data.w[m];u.traceCoordinate=[h,T,f,o,d,M,Math.sqrt(o*o+d*d+M*M)];var A=this.data.hovertext||this.data.text;return Array.isArray(A)&&A[m]!==void 0?u.textLabel=A[m]:A&&(u.textLabel=A),!0}};var r={xaxis:0,yaxis:1,zaxis:2},l={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function s(u,m){var h=u.fullSceneLayout,T=u.dataScale,f={};function o(E,g){var S=h[g],b=T[r[g]];return n(E,function(i){return S.d2l(i)*b})}f.vectors=v(o(m.u,"xaxis"),o(m.v,"yaxis"),o(m.w,"zaxis"),m._len),f.positions=v(o(m.x,"xaxis"),o(m.y,"yaxis"),o(m.z,"zaxis"),m._len);var d=w(m);f.colormap=C(m),f.vertexIntensityBounds=[d.min/m._normMax,d.max/m._normMax],f.coneOffset=l[m.anchor],m.sizemode==="scaled"?f.coneSize=m.sizeref||.5:f.coneSize=m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var M=p(f),A=m.lightposition;return M.lightPosition=[A.x,A.y,A.z],M.ambient=m.lighting.ambient,M.diffuse=m.lighting.diffuse,M.specular=m.lighting.specular,M.roughness=m.lighting.roughness,M.fresnel=m.lighting.fresnel,M.opacity=m.opacity,m._pad=a[m.anchor]*M.vectorScale*M.coneScale*m._normMax,M}t.update=function(u){this.data=u;var m=s(this.scene,u);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,m){var h=u.glplot.gl,T=s(u,m),f=L(h,T),o=new y(u,m.uid);return o.mesh=f,o.data=m,f._trace=o,u.glplot.add(f),o}G.exports=c},91750:function(G,U,e){var p=e(71828),L=e(1586),n=e(12674);G.exports=function(w,v,y,t){function r(h,T){return p.coerce(w,v,n,h,T)}var l=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),m=r("z");if(!l||!l.length||!a||!a.length||!s||!s.length||!c||!c.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(w,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(G,U,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},70600:function(G,U,e){var p=e(21606),L=e(82196),n=e(12663),C=n.axisHoverFormat,w=n.descriptionOnlyNumbers,v=e(50693),y=e(79952).P,t=e(41940),r=e(1426).extendFlat,l=e(74808),a=l.COMPARISON_OPS2,s=l.INTERVAL_OPS,c=L.line;G.exports=r({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:r({},p.texttemplate,{}),textfont:r({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:r({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:w("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:y,smoothing:r({},c.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(G,U,e){var p=e(21081),L=e(90757),n=e(18670),C=e(53572);G.exports=function(v,y){var t=L(v,y),r=t[0].z;n(y,r);var l=y.contours,a=p.extractOpts(y),s;if(l.coloring==="heatmap"&&a.auto&&y.autocontour===!1){var c=l.start,u=C(l),m=l.size||1,h=Math.floor((u-c)/m)+1;isFinite(m)||(m=1,h=1);var T=c-m/2,f=T+h*m;s=[T,f]}else s=r;return p.calc(v,y,{vals:s,cLetter:"z"}),t}},20083:function(G){G.exports=function(U,e){var p=U[0],L=p.z,n;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(n=0;n<U.length;n++){var w=U[n];w.prefixBoundary=!w.edgepaths.length&&(C>w.level||w.starts.length&&C===w.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var v=p.x.length,y=p.y.length,t=-1/0,r=1/0;for(n=0;n<y;n++)r=Math.min(r,L[n][0]),r=Math.min(r,L[n][v-1]),t=Math.max(t,L[n][0]),t=Math.max(t,L[n][v-1]);for(n=1;n<v-1;n++)r=Math.min(r,L[0][n]),r=Math.min(r,L[y-1][n]),t=Math.max(t,L[0][n]),t=Math.max(t,L[y-1][n]);var l=e.value,a,s;switch(e._operation){case">":l>t&&(p.prefixBoundary=!0);break;case"<":(l<r||p.starts.length&&l===r)&&(p.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),(s<r||a>t||p.starts.length&&s===r)&&(p.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),a<r&&s>t&&(p.prefixBoundary=!0);break}break}}},90654:function(G,U,e){var p=e(21081),L=e(86068),n=e(53572);function C(w,v,y){var t=v.contours,r=v.line,l=t.size||1,a=t.coloring,s=L(v,{isColorbar:!0});if(a==="heatmap"){var c=p.extractOpts(v);y._fillgradient=c.reversescale?p.flipScale(c.colorscale):c.colorscale,y._zrange=[c.min,c.max]}else a==="fill"&&(y._fillcolor=s);y._line={color:a==="lines"?s:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},y._levels={start:t.start,end:n(t),size:l}}G.exports={min:"zmin",max:"zmax",calc:C}},36914:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(G,U,e){var p=e(92770),L=e(14523),n=e(7901),C=n.addOpacity,w=n.opacity,v=e(74808),y=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(a,s,c,u,m,h){var T=s.contours,f,o,d,M=c("contours.operation");if(T._operation=y[M],r(c,T),M==="="?f=T.showlines=!0:(f=c("contours.showlines"),d=c("fillcolor",C((a.line||{}).color||m,.5))),f){var A=d&&w(d)?C(s.fillcolor,1):m;o=c("line.color",A),c("line.width",2),c("line.dash")}c("line.smoothing"),L(c,u,o,h)};function r(l,a){var s;t.indexOf(a.operation)===-1?(l("contours.value",[0,1]),Array.isArray(a.value)?a.value.length>2?a.value=a.value.slice(2):a.length===0?a.value=[0,1]:a.length<2?(s=parseFloat(a.value[0]),a.value=[s,s+1]):a.value=[parseFloat(a.value[0]),parseFloat(a.value[1])]:p(a.value)&&(s=parseFloat(a.value),a.value=[s,s+1])):(l("contours.value",0),p(a.value)||(Array.isArray(a.value)?a.value=parseFloat(a.value[0]):a.value=0))}},64237:function(G,U,e){var p=e(74808),L=e(92770);G.exports={"[]":C("[]"),"][":C("]["),">":w(">"),"<":w("<"),"=":w("=")};function n(v,y){var t=Array.isArray(y),r;function l(a){return L(a)?+a:null}return p.COMPARISON_OPS2.indexOf(v)!==-1?r=l(t?y[0]:y):p.INTERVAL_OPS.indexOf(v)!==-1?r=t?[l(y[0]),l(y[1])]:[l(y),l(y)]:p.SET_OPS.indexOf(v)!==-1&&(r=t?y.map(l):[l(y)]),r}function C(v){return function(y){y=n(v,y);var t=Math.min(y[0],y[1]),r=Math.max(y[0],y[1]);return{start:t,end:r,size:r-t}}}function w(v){return function(y){return y=n(v,y),{start:y,end:1/0,size:1/0}}}},67217:function(G){G.exports=function(e,p,L,n){var C=n("contours.start"),w=n("contours.end"),v=C===!1||w===!1,y=L("contours.size"),t;v?t=p.autocontour=!0:t=L("autocontour",!1),(t||!y)&&L("ncontours")}},84857:function(G,U,e){var p=e(71828);G.exports=function(n,C){var w,v,y,t=function(a){return a.reverse()},r=function(a){return a};switch(C){case"=":case"<":return n;case">":for(n.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),v=n[0],w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=t(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=t(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=t(v.starts[w]);return n;case"][":var l=t;t=r,r=l;case"[]":for(n.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),v=L(n[0]),y=L(n[1]),w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=t(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=t(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=t(v.starts[w]);for(;y.edgepaths.length;)v.edgepaths.push(r(y.edgepaths.shift()));for(;y.paths.length;)v.paths.push(r(y.paths.shift()));for(;y.starts.length;)v.starts.push(r(y.starts.shift()));return[v]}};function L(n){return p.extendFlat({},n,{edgepaths:p.extendDeep([],n.edgepaths),paths:p.extendDeep([],n.paths),starts:p.extendDeep([],n.starts)})}},13031:function(G,U,e){var p=e(71828),L=e(67684),n=e(73927),C=e(83179),w=e(67217),v=e(8724),y=e(58623),t=e(70600);G.exports=function(l,a,s,c){function u(f,o){return p.coerce(l,a,t,f,o)}function m(f){return p.coerce2(l,a,t,f)}var h=L(l,a,u,c);if(!h){a.visible=!1;return}n(l,a,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var T=u("contours.type")==="constraint";u("connectgaps",p.isArray1D(a.z)),T?C(l,a,u,c,s):(w(l,a,u,m),v(l,a,u,c)),a.contours&&a.contours.coloring==="heatmap"&&y(u,c)}},87558:function(G,U,e){var p=e(71828),L=e(64237),n=e(53572);G.exports=function(w,v,y){for(var t=w.type==="constraint"?L[w._operation](w.value):w,r=t.size,l=[],a=n(t),s=y.trace._carpetTrace,c=s?{xaxis:s.aaxis,yaxis:s.baxis,x:y.a,y:y.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:y.x,y:y.y},u=t.start;u<a;u+=r)if(l.push(p.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},c)),l.length>1e3){p.warn("Too many contours, clipping at 1000",w);break}return l}},53572:function(G){G.exports=function(e){return e.end+e.size/1e6}},81696:function(G,U,e){var p=e(71828),L=e(36914);G.exports=function(r,l,a){var s,c,u,m,h;for(l=l||.01,a=a||.01,u=0;u<r.length;u++){for(m=r[u],h=0;h<m.starts.length;h++)c=m.starts[h],w(m,c,"edge",l,a);for(s=0;Object.keys(m.crossings).length&&s<1e4;)s++,c=Object.keys(m.crossings)[0].split(",").map(Number),w(m,c,void 0,l,a);s===1e4&&p.log("Infinite loop in contour?")}};function n(t,r,l,a){return Math.abs(t[0]-r[0])<l&&Math.abs(t[1]-r[1])<a}function C(t,r){var l=t[2]-r[2],a=t[3]-r[3];return Math.sqrt(l*l+a*a)}function w(t,r,l,a,s){var c=r.join(","),u=t.crossings[c],m=v(u,l,r),h=[y(t,r,[-m[0],-m[1]])],T=t.z.length,f=t.z[0].length,o=r.slice(),d=m.slice(),M;for(M=0;M<1e4;M++){if(u>20?(u=L.CHOOSESADDLE[u][(m[0]||m[1])<0?0:1],t.crossings[c]=L.SADDLEREMAINDER[u]):delete t.crossings[c],m=L.NEWDELTA[u],!m){p.log("Found bad marching index:",u,r,t.level);break}h.push(y(t,r,m)),r[0]+=m[0],r[1]+=m[1],c=r.join(","),n(h[h.length-1],h[h.length-2],a,s)&&h.pop();var A=m[0]&&(r[0]<0||r[0]>f-2)||m[1]&&(r[1]<0||r[1]>T-2),E=r[0]===o[0]&&r[1]===o[1]&&m[0]===d[0]&&m[1]===d[1];if(E||l&&A)break;u=t.crossings[c]}M===1e4&&p.log("Infinite loop in contour?");var g=n(h[0],h[h.length-1],a,s),S=0,b=.2*t.smoothing,i=[],P=0,x,k,_,B,I,z,O,F,N,Q,$;for(M=1;M<h.length;M++)O=C(h[M],h[M-1]),S+=O,i.push(O);var j=S/i.length*b;function ee(V){return h[V%h.length]}for(M=h.length-2;M>=P;M--)if(x=i[M],x<j){for(_=0,k=M-1;k>=P&&x+i[k]<j;k--)x+=i[k];if(g&&M===h.length-2)for(_=0;_<k&&x+i[_]<j;_++)x+=i[_];I=M-k+_+1,z=Math.floor((M+k+_+2)/2),!g&&M===h.length-2?B=h[h.length-1]:!g&&k===-1?B=h[0]:I%2?B=ee(z):B=[(ee(z)[0]+ee(z+1)[0])/2,(ee(z)[1]+ee(z+1)[1])/2],h.splice(k+1,M-k+1,B),M=k+1,_&&(P=_),g&&(M===h.length-2?h[_]=h[h.length-1]:M===0&&(h[h.length-1]=h[0]))}for(h.splice(0,P),M=0;M<h.length;M++)h[M].length=2;if(!(h.length<2))if(g)h.pop(),t.paths.push(h);else{l||p.log("Unclosed interior contour?",t.level,o.join(","),h.join("L"));var oe=!1;for(F=0;F<t.edgepaths.length;F++)if(Q=t.edgepaths[F],!oe&&n(Q[0],h[h.length-1],a,s)){h.pop(),oe=!0;var Y=!1;for(N=0;N<t.edgepaths.length;N++)if($=t.edgepaths[N],n($[$.length-1],h[0],a,s)){Y=!0,h.shift(),t.edgepaths.splice(F,1),N===F?t.paths.push(h.concat($)):(N>F&&N--,t.edgepaths[N]=$.concat(h,Q));break}Y||(t.edgepaths[F]=h.concat(Q))}for(F=0;F<t.edgepaths.length&&!oe;F++)Q=t.edgepaths[F],n(Q[Q.length-1],h[0],a,s)&&(h.shift(),t.edgepaths[F]=Q.concat(h),oe=!0);oe||t.edgepaths.push(h)}}function v(t,r,l){var a=0,s=0;return t>20&&r?t===208||t===1114?a=l[0]===0?1:-1:s=l[1]===0?1:-1:L.BOTTOMSTART.indexOf(t)!==-1?s=1:L.LEFTSTART.indexOf(t)!==-1?a=1:L.TOPSTART.indexOf(t)!==-1?s=-1:a=-1,[a,s]}function y(t,r,l){var a=r[0]+Math.max(l[0],0),s=r[1]+Math.max(l[1],0),c=t.z[s][a],u=t.xaxis,m=t.yaxis;if(l[1]){var h=(t.level-c)/(t.z[s][a+1]-c),T=(h!==1?(1-h)*u.c2l(t.x[a]):0)+(h!==0?h*u.c2l(t.x[a+1]):0);return[u.c2p(u.l2c(T),!0),m.c2p(t.y[s],!0),a+h,s]}else{var f=(t.level-c)/(t.z[s+1][a]-c),o=(f!==1?(1-f)*m.c2l(t.y[s]):0)+(f!==0?f*m.c2l(t.y[s+1]):0);return[u.c2p(t.x[a],!0),m.c2p(m.l2c(o),!0),a,s+f]}}},52421:function(G,U,e){var p=e(7901),L=e(46248);G.exports=function(C,w,v,y,t){t||(t={}),t.isContour=!0;var r=L(C,w,v,y,t);return r&&r.forEach(function(l){var a=l.trace;a.contours.type==="constraint"&&(a.fillcolor&&p.opacity(a.fillcolor)?l.color=p.addOpacity(a.fillcolor,1):a.contours.showlines&&p.opacity(a.line.color)&&(l.color=p.addOpacity(a.line.color,1)))}),r}},99442:function(G,U,e){G.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(G,U,e){var p=e(71828);G.exports=function(n,C,w,v){v||(v={});var y=n("contours.showlabels");if(y){var t=C.font;p.coerceFont(n,"contours.labelfont",{family:t.family,size:t.size,color:w}),n("contours.labelformat")}v.hasHover!==!1&&n("zhoverformat")}},86068:function(G,U,e){var p=e(39898),L=e(21081),n=e(53572);G.exports=function(w){var v=w.contours,y=v.start,t=n(v),r=v.size||1,l=Math.floor((t-y)/r)+1,a=v.coloring==="lines"?0:1,s=L.extractOpts(w);isFinite(r)||(r=1,l=1);var c=s.reversescale?L.flipScale(s.colorscale):s.colorscale,u=c.length,m=new Array(u),h=new Array(u),T,f;if(v.coloring==="heatmap"){var o=s.min,d=s.max;for(f=0;f<u;f++)T=c[f],m[f]=T[0]*(d-o)+o,h[f]=T[1];var M=p.extent([o,d,v.start,v.start+r*(l-1)]),A=M[o<d?0:1],E=M[o<d?1:0];A!==o&&(m.splice(0,0,A),h.splice(0,0,h[0])),E!==d&&(m.push(E),h.push(h[h.length-1]))}else for(f=0;f<u;f++)T=c[f],m[f]=(T[0]*(l+a-1)-a/2)*r+y,h[f]=T[1];return L.makeColorScaleFunc({domain:m,range:h},{noNumericCheck:!0})}},87678:function(G,U,e){var p=e(36914);G.exports=function(C){var w=C[0].z,v=w.length,y=w[0].length,t=v===2||y===2,r,l,a,s,c,u,m,h,T;for(l=0;l<v-1;l++)for(s=[],l===0&&(s=s.concat(p.BOTTOMSTART)),l===v-2&&(s=s.concat(p.TOPSTART)),r=0;r<y-1;r++)for(a=s.slice(),r===0&&(a=a.concat(p.LEFTSTART)),r===y-2&&(a=a.concat(p.RIGHTSTART)),c=r+","+l,u=[[w[l][r],w[l][r+1]],[w[l+1][r],w[l+1][r+1]]],T=0;T<C.length;T++)h=C[T],m=L(h.level,u),m&&(h.crossings[c]=m,a.indexOf(m)!==-1&&(h.starts.push([r,l]),t&&a.indexOf(m,a.indexOf(m)+1)!==-1&&h.starts.push([r,l])))};function L(n,C){var w=(C[0][0]>n?0:1)+(C[0][1]>n?0:2)+(C[1][1]>n?0:4)+(C[1][0]>n?0:8);if(w===5||w===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return n>v?w===5?713:1114:w===5?104:208}return w===15?0:w}},29854:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(21081),w=e(63893),v=e(89298),y=e(21994),t=e(50347),r=e(87678),l=e(81696),a=e(87558),s=e(84857),c=e(20083),u=e(36914),m=u.LABELOPTIMIZER;U.plot=function(g,S,b,i){var P=S.xaxis,x=S.yaxis;L.makeTraceGroups(i,b,"contour").each(function(k){var _=p.select(this),B=k[0],I=B.trace,z=B.x,O=B.y,F=I.contours,N=a(F,S,B),Q=L.ensureSingle(_,"g","heatmapcoloring"),$=[];F.coloring==="heatmap"&&($=[k]),t(g,S,$,Q),r(N),l(N);var j=P.c2p(z[0],!0),ee=P.c2p(z[z.length-1],!0),oe=x.c2p(O[0],!0),Y=x.c2p(O[O.length-1],!0),V=[[j,Y],[ee,Y],[ee,oe],[j,oe]],W=N;F.type==="constraint"&&(W=s(N,F._operation)),h(_,V,F),T(_,W,V,F),o(_,N,g,B,F),M(_,S,g,B,V)})};function h(E,g,S){var b=L.ensureSingle(E,"g","contourbg"),i=b.selectAll("path").data(S.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+g.join("L")+"Z").style("stroke","none")}function T(E,g,S,b){var i=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",P="M"+S.join("L")+"Z";i&&c(g,b);var x=L.ensureSingle(E,"g","contourfill"),k=x.selectAll("path").data(i?g:[]);k.enter().append("path"),k.exit().remove(),k.each(function(_){var B=(_.prefixBoundary?P:"")+f(_,S);B?p.select(this).attr("d",B).style("stroke","none"):p.select(this).remove()})}function f(E,g){var S="",b=0,i=E.edgepaths.map(function(j,ee){return ee}),P=!0,x,k,_,B,I,z;function O(j){return Math.abs(j[1]-g[0][1])<.01}function F(j){return Math.abs(j[1]-g[2][1])<.01}function N(j){return Math.abs(j[0]-g[0][0])<.01}function Q(j){return Math.abs(j[0]-g[2][0])<.01}for(;i.length;){for(z=n.smoothopen(E.edgepaths[b],E.smoothing),S+=P?z:z.replace(/^M/,"L"),i.splice(i.indexOf(b),1),x=E.edgepaths[b][E.edgepaths[b].length-1],B=-1,_=0;_<4;_++){if(!x){L.log("Missing end?",b,E);break}for(O(x)&&!Q(x)?k=g[1]:N(x)?k=g[0]:F(x)?k=g[3]:Q(x)&&(k=g[2]),I=0;I<E.edgepaths.length;I++){var $=E.edgepaths[I][0];Math.abs(x[0]-k[0])<.01?Math.abs(x[0]-$[0])<.01&&($[1]-x[1])*(k[1]-$[1])>=0&&(k=$,B=I):Math.abs(x[1]-k[1])<.01?Math.abs(x[1]-$[1])<.01&&($[0]-x[0])*(k[0]-$[0])>=0&&(k=$,B=I):L.log("endpt to newendpt is not vert. or horz.",x,k,$)}if(x=k,B>=0)break;S+="L"+k}if(B===E.edgepaths.length){L.log("unclosed perimeter path");break}b=B,P=i.indexOf(b)===-1,P&&(b=i[0],S+="Z")}for(b=0;b<E.paths.length;b++)S+=n.smoothclosed(E.paths[b],E.smoothing);return S}function o(E,g,S,b,i){var P=S._context.staticPlot,x=L.ensureSingle(E,"g","contourlines"),k=i.showlines!==!1,_=i.showlabels,B=k&&_,I=U.createLines(x,k||_,g,P),z=U.createLineClip(x,B,S,b.trace.uid),O=E.selectAll("g.contourlabels").data(_?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),_){var F=[],N=[];L.clearLocationCache();var Q=U.labelFormatter(S,b),$=n.tester.append("text").attr("data-notex",1).call(n.font,i.labelfont),j=g[0].xaxis,ee=g[0].yaxis,oe=j._length,Y=ee._length,V=j.range,W=ee.range,X=L.aggNums(Math.min,null,b.x),re=L.aggNums(Math.max,null,b.x),ie=L.aggNums(Math.min,null,b.y),K=L.aggNums(Math.max,null,b.y),q=Math.max(j.c2p(X,!0),0),le=Math.min(j.c2p(re,!0),oe),ae=Math.max(ee.c2p(K,!0),0),he=Math.min(ee.c2p(ie,!0),Y),me={};V[0]<V[1]?(me.left=q,me.right=le):(me.left=le,me.right=q),W[0]<W[1]?(me.top=ae,me.bottom=he):(me.top=he,me.bottom=ae),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,F.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var Me=Math.sqrt(oe*oe+Y*Y),xe=u.LABELDISTANCE*Me/Math.max(1,g.length/u.LABELINCREASE);I.each(function(Ie){var _e=U.calcTextOpts(Ie.level,Q,$,S);p.select(this).selectAll("path").each(function(){var Te=this,ye=L.getVisibleSegment(Te,me,_e.height/2);if(ye&&!(ye.len<(_e.width+_e.height)*u.LABELMIN))for(var Ae=Math.min(Math.ceil(ye.len/xe),u.LABELMAX),Be=0;Be<Ae;Be++){var Ue=U.findBestTextLocation(Te,ye,_e,N,me);if(!Ue)break;U.addLabelData(Ue,_e,N,F)}})}),$.remove(),U.drawLabels(O,N,S,z,B?F:null)}_&&!k&&I.remove()}U.createLines=function(E,g,S,b){var i=S[0].smoothing,P=E.selectAll("g.contourlevel").data(g?S:[]);if(P.exit().remove(),P.enter().append("g").classed("contourlevel",!0),g){var x=P.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});x.exit().remove(),x.enter().append("path").classed("openline",!0),x.attr("d",function(_){return n.smoothopen(_,i)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=P.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(_){return n.smoothclosed(_,i)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return P},U.createLineClip=function(E,g,S,b){var i=S._fullLayout._clips,P=g?"clipline"+b:null,x=i.selectAll("#"+P).data(g?[0]:[]);return x.exit().remove(),x.enter().append("clipPath").classed("contourlineclip",!0).attr("id",P),n.setClipUrl(E,P,S),x},U.labelFormatter=function(E,g){var S=E._fullLayout,b=g.trace,i=b.contours,P={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)P.tickformat=i.labelformat,y(P,S);else{var x=C.extractOpts(b);if(x&&x.colorbar&&x.colorbar._axis)P=x.colorbar._axis;else{if(i.type==="constraint"){var k=i.value;Array.isArray(k)?P.range=[k[0],k[k.length-1]]:P.range=[k,k]}else P.range=[i.start,i.end],P.nticks=(i.end-i.start)/i.size;P.range[0]===P.range[1]&&(P.range[1]+=P.range[0]||1),P.nticks||(P.nticks=1e3),y(P,S),v.prepTicks(P),P._tmin=null,P._tmax=null}}return function(_){return v.tickText(P,_).text}},U.calcTextOpts=function(E,g,S,b){var i=g(E);S.text(i).call(w.convertToTspans,b);var P=S.node(),x=n.bBox(P,!0);return{text:i,width:x.width,height:x.height,fontSize:+P.style["font-size"].replace("px",""),level:E,dy:(x.top+x.bottom)/2}},U.findBestTextLocation=function(E,g,S,b,i){var P=S.width,x,k,_,B,I;g.isClosed?(k=g.len/m.INITIALSEARCHPOINTS,x=g.min+k/2,_=g.max):(k=(g.len-P)/(m.INITIALSEARCHPOINTS+1),x=g.min+k+P/2,_=g.max-(k+P)/2);for(var z=1/0,O=0;O<m.ITERATIONS;O++){for(var F=x;F<_;F+=k){var N=L.getTextLocation(E,g.total,F,P),Q=d(N,S,b,i);Q<z&&(z=Q,I=N,B=F)}if(z>m.MAXCOST*2)break;O&&(k/=2),x=B-k/2,_=x+k*1.5}if(z<=m.MAXCOST)return I};function d(E,g,S,b){var i=g.width/2,P=g.height/2,x=E.x,k=E.y,_=E.theta,B=Math.cos(_)*i,I=Math.sin(_)*i,z=(x>b.center?b.right-x:x-b.left)/(B+Math.abs(Math.sin(_)*P)),O=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(I)+Math.cos(_)*P);if(z<1||O<1)return 1/0;var F=m.EDGECOST*(1/(z-1)+1/(O-1));F+=m.ANGLECOST*_*_;for(var N=x-B,Q=k-I,$=x+B,j=k+I,ee=0;ee<S.length;ee++){var oe=S[ee],Y=Math.cos(oe.theta)*oe.width/2,V=Math.sin(oe.theta)*oe.width/2,W=L.segmentDistance(N,Q,$,j,oe.x-Y,oe.y-V,oe.x+Y,oe.y+V)*2/(g.height+oe.height),X=oe.level===g.level,re=X?m.SAMELEVELDISTANCE:1;if(W<=re)return 1/0;var ie=m.NEIGHBORCOST*(X?m.SAMELEVELFACTOR:1);F+=ie/(W-re)}return F}U.addLabelData=function(E,g,S,b){var i=g.fontSize,P=g.width+i/3,x=Math.max(0,g.height-i/3),k=E.x,_=E.y,B=E.theta,I=Math.sin(B),z=Math.cos(B),O=function(N,Q){return[k+N*z-Q*I,_+N*I+Q*z]},F=[O(-P/2,-x/2),O(-P/2,x/2),O(P/2,x/2),O(P/2,-x/2)];S.push({text:g.text,x:k,y:_,dy:g.dy,theta:B,level:g.level,width:P,height:x}),b.push(F)},U.drawLabels=function(E,g,S,b,i){var P=E.selectAll("text").data(g,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(P.exit().remove(),P.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var I=B.x+Math.sin(B.theta)*B.dy,z=B.y-Math.cos(B.theta)*B.dy;p.select(this).text(B.text).attr({x:I,y:z,transform:"rotate("+180*B.theta/Math.PI+" "+I+" "+z+")"}).call(w.convertToTspans,S)}),i){for(var x="",k=0;k<i.length;k++)x+="M"+i[k].join("L")+"Z";var _=L.ensureSingle(b,"path","");_.attr("d",x)}};function M(E,g,S,b,i){var P=b.trace,x=S._fullLayout._clips,k="clip"+P.uid,_=x.selectAll("#"+k).data(P.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",k),_.exit().remove(),P.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:g.xaxis,yaxis:g.yaxis,x:b.x,y:b.y,z:A(b),smoothing:0};r([B]),l([B]),c([B],{type:"levels"});var I=L.ensureSingle(_,"path","");I.attr("d",(B.prefixBoundary?"M"+i.join("L")+"Z":"")+f(B,i))}else k=null;n.setClipUrl(E,k,S)}function A(E){var g=E.trace._emptypoints,S=[],b=E.z.length,i=E.z[0].length,P,x=[],k;for(P=0;P<i;P++)x.push(1);for(P=0;P<b;P++)S.push(x.slice());for(P=0;P<g.length;P++)k=g[P],S[k[0]][k[1]]=0;return E.zmask=S,S}},18670:function(G,U,e){var p=e(89298),L=e(71828);G.exports=function(w,v){var y=w.contours;if(w.autocontour){var t=w.zmin,r=w.zmax;(w.zauto||t===void 0)&&(t=L.aggNums(Math.min,null,v)),(w.zauto||r===void 0)&&(r=L.aggNums(Math.max,null,v));var l=n(t,r,w.ncontours);y.size=l.dtick,y.start=p.tickFirst(l),l.range.reverse(),y.end=p.tickFirst(l),y.start===t&&(y.start+=y.size),y.end===r&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),w._input.contours||(w._input.contours={}),L.extendFlat(w._input.contours,{start:y.start,end:y.end,size:y.size}),w._input.autocontour=!0}else if(y.type!=="constraint"){var a=y.start,s=y.end,c=w._input.contours;if(a>s&&(y.start=c.start=s,s=y.end=c.end=a,a=y.start),!(y.size>0)){var u;a===s?u=1:u=n(a,s,w.ncontours).dtick,c.size=y.size=u}}};function n(C,w,v){var y={type:"linear",range:[C,w]};return p.autoTicks(y,(w-C)/(v||15)),y}},84426:function(G,U,e){var p=e(39898),L=e(91424),n=e(70035),C=e(86068);G.exports=function(v){var y=p.select(v).selectAll("g.contour");y.style("opacity",function(t){return t[0].trace.opacity}),y.each(function(t){var r=p.select(this),l=t[0].trace,a=l.contours,s=l.line,c=a.size||1,u=a.start,m=a.type==="constraint",h=!m&&a.coloring==="lines",T=!m&&a.coloring==="fill",f=h||T?C(l):null;r.selectAll("g.contourlevel").each(function(M){p.select(this).selectAll("path").call(L.lineGroupStyle,s.width,h?f(M.level):s.color,s.dash)});var o=a.labelfont;if(r.selectAll("g.contourlabels text").each(function(M){L.font(p.select(this),{family:o.family,size:o.size,color:o.color||(h?f(M.level):s.color)})}),m)r.selectAll("g.contourfill path").style("fill",l.fillcolor);else if(T){var d;r.selectAll("g.contourfill path").style("fill",function(M){return d===void 0&&(d=M.level),f(M.level+.5*c)}),d===void 0&&(d=u),r.selectAll("g.contourbg path").style("fill",f(d-.5*c))}}),n(v)}},8724:function(G,U,e){var p=e(1586),L=e(14523);G.exports=function(C,w,v,y,t){var r=v("contours.coloring"),l,a="";r==="fill"&&(l=v("contours.showlines")),l!==!1&&(r!=="lines"&&(a=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(C.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,p(C,w,y,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,y,a,t)}},88085:function(G,U,e){var p=e(21606),L=e(70600),n=e(50693),C=e(1426).extendFlat,w=L.contours;G.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:w.type,start:w.start,end:w.end,size:w.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:w.showlines,showlabels:w.showlabels,labelfont:w.labelfont,labelformat:w.labelformat,operation:w.operation,value:w.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},59885:function(G,U,e){var p=e(78803),L=e(71828),n=e(68296),C=e(4742),w=e(824),v=e(43907),y=e(70769),t=e(75005),r=e(22882),l=e(18670);G.exports=function(c,u){var m=u._carpetTrace=r(c,u);if(!(!m||!m.visible||m.visible==="legendonly")){if(!u.a||!u.b){var h=c.data[m.index],T=c.data[u.index];T.a||(T.a=h.a),T.b||(T.b=h.b),t(T,u,u._defaultColor,c._fullLayout)}var f=a(c,u);return l(u,u._z),f}};function a(s,c){var u=c._carpetTrace,m=u.aaxis,h=u.baxis,T,f,o,d,M,A,E;m._minDtick=0,h._minDtick=0,L.isArray1D(c.z)&&n(c,m,h,"a","b",["z"]),T=c._a=c._a||c.a,d=c._b=c._b||c.b,T=T?m.makeCalcdata(c,"_a"):[],d=d?h.makeCalcdata(c,"_b"):[],f=c.a0||0,o=c.da||1,M=c.b0||0,A=c.db||1,E=c._z=C(c._z||c.z,c.transpose),c._emptypoints=v(E),w(E,c._emptypoints);var g=L.maxRowLength(E),S=c.xtype==="scaled"?"":T,b=y(c,S,f,o,g,m),i=c.ytype==="scaled"?"":d,P=y(c,i,M,A,E.length,h),x={a:b,b:P,z:E};return c.contours.type==="levels"&&c.contours.coloring!=="none"&&p(s,c,{vals:E,containerStr:"",cLetter:"z"}),[x]}},75005:function(G,U,e){var p=e(71828),L=e(67684),n=e(88085),C=e(83179),w=e(67217),v=e(8724);G.exports=function(t,r,l,a){function s(h,T){return p.coerce(t,r,n,h,T)}function c(h){return p.coerce2(t,r,n,h)}if(s("carpet"),t.a&&t.b){var u=L(t,r,s,a,"a","b");if(!u){r.visible=!1;return}s("text");var m=s("contours.type")==="constraint";m?C(t,r,s,a,l,{hasHover:!1}):(w(t,r,s,c),v(t,r,s,a,{hasHover:!1}))}else r._defaultColor=l,r._length=null}},93740:function(G,U,e){G.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(G,U,e){var p=e(39898),L=e(27669),n=e(67961),C=e(91424),w=e(71828),v=e(87678),y=e(81696),t=e(29854),r=e(36914),l=e(84857),a=e(87558),s=e(20083),c=e(22882),u=e(4536);G.exports=function(S,b,i,P){var x=b.xaxis,k=b.yaxis;w.makeTraceGroups(P,i,"contour").each(function(_){var B=p.select(this),I=_[0],z=I.trace,O=z._carpetTrace=c(S,z),F=S.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var N=I.a,Q=I.b,$=z.contours,j=a($,b,I),ee=$.type==="constraint",oe=$._operation,Y=ee?oe==="="?"lines":"fill":$.coloring;function V(Me){var xe=O.ab2xy(Me[0],Me[1],!0);return[x.c2p(xe[0]),k.c2p(xe[1])]}var W=[[N[0],Q[Q.length-1]],[N[N.length-1],Q[Q.length-1]],[N[N.length-1],Q[0]],[N[0],Q[0]]];v(j);var X=(N[N.length-1]-N[0])*1e-8,re=(Q[Q.length-1]-Q[0])*1e-8;y(j,X,re);var ie=j;$.type==="constraint"&&(ie=l(j,oe)),m(j,V);var K,q,le,ae,he=[];for(ae=F.clipsegments.length-1;ae>=0;ae--)K=F.clipsegments[ae],q=L([],K.x,x.c2p),le=L([],K.y,k.c2p),q.reverse(),le.reverse(),he.push(n(q,le,K.bicubic));var me="M"+he.join("L")+"Z";M(B,F.clipsegments,x,k,ee,Y),A(z,B,x,k,ie,W,V,O,F,Y,me),h(B,j,S,I,$,b,O),C.setClipUrl(B,O._clipPathId,S)})};function m(g,S){var b,i,P,x,k,_,B,I,z;for(b=0;b<g.length;b++){for(x=g[b],k=x.pedgepaths=[],_=x.ppaths=[],i=0;i<x.edgepaths.length;i++){for(z=x.edgepaths[i],B=[],P=0;P<z.length;P++)B[P]=S(z[P]);k.push(B)}for(i=0;i<x.paths.length;i++){for(z=x.paths[i],I=[],P=0;P<z.length;P++)I[P]=S(z[P]);_.push(I)}}}function h(g,S,b,i,P,x,k){var _=b._context.staticPlot,B=w.ensureSingle(g,"g","contourlines"),I=P.showlines!==!1,z=P.showlabels,O=I&&z,F=t.createLines(B,I||z,S,_),N=t.createLineClip(B,O,b,i.trace.uid),Q=g.selectAll("g.contourlabels").data(z?[0]:[]);if(Q.exit().remove(),Q.enter().append("g").classed("contourlabels",!0),z){var $=x.xaxis,j=x.yaxis,ee=$._length,oe=j._length,Y=[[[0,0],[ee,0],[ee,oe],[0,oe]]],V=[];w.clearLocationCache();var W=t.labelFormatter(b,i),X=C.tester.append("text").attr("data-notex",1).call(C.font,P.labelfont),re={left:0,right:ee,center:ee/2,top:0,bottom:oe,middle:oe/2},ie=Math.sqrt(ee*ee+oe*oe),K=r.LABELDISTANCE*ie/Math.max(1,S.length/r.LABELINCREASE);F.each(function(q){var le=t.calcTextOpts(q.level,W,X,b);p.select(this).selectAll("path").each(function(ae){var he=this,me=w.getVisibleSegment(he,re,le.height/2);if(me&&(T(he,ae,q,me,k,le.height),!(me.len<(le.width+le.height)*r.LABELMIN)))for(var Me=Math.min(Math.ceil(me.len/K),r.LABELMAX),xe=0;xe<Me;xe++){var Ie=t.findBestTextLocation(he,me,le,V,re);if(!Ie)break;t.addLabelData(Ie,le,V,Y)}})}),X.remove(),t.drawLabels(Q,V,b,N,O?Y:null)}z&&!I&&F.remove()}function T(g,S,b,i,P,x){for(var k,_=0;_<b.pedgepaths.length;_++)S===b.pedgepaths[_]&&(k=b.edgepaths[_]);if(!k)return;var B=P.a[0],I=P.a[P.a.length-1],z=P.b[0],O=P.b[P.b.length-1];function F(ee,oe){var Y=0,V,W=.1;return(Math.abs(ee[0]-B)<W||Math.abs(ee[0]-I)<W)&&(V=o(P.dxydb_rough(ee[0],ee[1],W)),Y=Math.max(Y,x*d(oe,V)/2)),(Math.abs(ee[1]-z)<W||Math.abs(ee[1]-O)<W)&&(V=o(P.dxyda_rough(ee[0],ee[1],W)),Y=Math.max(Y,x*d(oe,V)/2)),Y}var N=f(g,0,1),Q=f(g,i.total,i.total-1),$=F(k[0],N),j=i.total-F(k[k.length-1],Q);i.min<$&&(i.min=$),i.max>j&&(i.max=j),i.len=i.max-i.min}function f(g,S,b){var i=g.getPointAtLength(S),P=g.getPointAtLength(b),x=P.x-i.x,k=P.y-i.y,_=Math.sqrt(x*x+k*k);return[x/_,k/_]}function o(g){var S=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/S,g[1]/S]}function d(g,S){var b=Math.abs(g[0]*S[0]+g[1]*S[1]),i=Math.sqrt(1-b*b);return i/b}function M(g,S,b,i,P,x){var k,_,B,I,z=w.ensureSingle(g,"g","contourbg"),O=z.selectAll("path").data(x==="fill"&&!P?[0]:[]);O.enter().append("path"),O.exit().remove();var F=[];for(I=0;I<S.length;I++)k=S[I],_=L([],k.x,b.c2p),B=L([],k.y,i.c2p),F.push(n(_,B,k.bicubic));O.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function A(g,S,b,i,P,x,k,_,B,I,z){var O=I==="fill";O&&s(P,g.contours);var F=w.ensureSingle(S,"g","contourfill"),N=F.selectAll("path").data(O?P:[]);N.enter().append("path"),N.exit().remove(),N.each(function(Q){var $=(Q.prefixBoundary?z:"")+E(g,Q,x,k,_,B,b,i);$?p.select(this).attr("d",$).style("stroke","none"):p.select(this).remove()})}function E(g,S,b,i,P,x,k,_){var B,I="",z=S.edgepaths.map(function(le,ae){return ae}),O=!0,F,N,Q,$,j,ee,oe=Math.abs(b[0][0]-b[2][0])*1e-4,Y=Math.abs(b[0][1]-b[2][1])*1e-4;function V(le){return Math.abs(le[1]-b[0][1])<Y}function W(le){return Math.abs(le[1]-b[2][1])<Y}function X(le){return Math.abs(le[0]-b[0][0])<oe}function re(le){return Math.abs(le[0]-b[2][0])<oe}function ie(le,ae){var he,me,Me,xe,Ie="";for(V(le)&&!re(le)||W(le)&&!X(le)?(xe=P.aaxis,Me=u(P,x,[le[0],ae[0]],.5*(le[1]+ae[1]))):(xe=P.baxis,Me=u(P,x,.5*(le[0]+ae[0]),[le[1],ae[1]])),he=1;he<Me.length;he++)for(Ie+=xe.smoothing?"C":"L",me=0;me<Me[he].length;me++){var _e=Me[he][me];Ie+=[k.c2p(_e[0]),_.c2p(_e[1])]+" "}return Ie}for(B=0,F=null;z.length;){var K=S.edgepaths[B][0];for(F&&(I+=ie(F,K)),ee=C.smoothopen(S.edgepaths[B].map(i),S.smoothing),I+=O?ee:ee.replace(/^M/,"L"),z.splice(z.indexOf(B),1),F=S.edgepaths[B][S.edgepaths[B].length-1],$=-1,Q=0;Q<4;Q++){if(!F){w.log("Missing end?",B,S);break}for(V(F)&&!re(F)?N=b[1]:X(F)?N=b[0]:W(F)?N=b[3]:re(F)&&(N=b[2]),j=0;j<S.edgepaths.length;j++){var q=S.edgepaths[j][0];Math.abs(F[0]-N[0])<oe?Math.abs(F[0]-q[0])<oe&&(q[1]-F[1])*(N[1]-q[1])>=0&&(N=q,$=j):Math.abs(F[1]-N[1])<Y?Math.abs(F[1]-q[1])<Y&&(q[0]-F[0])*(N[0]-q[0])>=0&&(N=q,$=j):w.log("endpt to newendpt is not vert. or horz.",F,N,q)}if($>=0)break;I+=ie(F,N),F=N}if($===S.edgepaths.length){w.log("unclosed perimeter path");break}B=$,O=z.indexOf(B)===-1,O&&(B=z[0],I+=ie(F,N)+"Z",F=null)}for(B=0;B<S.paths.length;B++)I+=C.smoothclosed(S.paths[B].map(i),S.smoothing);return I}},64096:function(G,U,e){var p=e(50693),L=e(5386).f,n=e(9012),C=e(99181),w=e(1426).extendFlat;G.exports=w({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:w({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:w({},n.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(G,U,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(78803),w=e(71828)._;G.exports=function(y,t){for(var r=t._length,l=new Array(r),a=t.z,s=L(a)&&a.length,c=0;c<r;c++){var u=l[c]={},m=t.lon[c],h=t.lat[c];if(u.lonlat=p(m)&&p(h)?[+m,+h]:[n,n],s){var T=a[c];u.z=p(T)?T:n}}return C(y,t,{vals:s?a:[0,1],containerStr:"",cLetter:"z"}),r&&(l[0].t={labels:{lat:w(y,"lat:")+" ",lon:w(y,"lon:")+" "}}),l}},52414:function(G,U,e){var p=e(92770),L=e(71828),n=e(7901),C=e(21081),w=e(50606).BADNUM,v=e(18214).makeBlank;G.exports=function(t){var r=t[0].trace,l=r.visible===!0&&r._length!==0,a={layout:{visibility:"none"},paint:{}},s=r._opts={heatmap:a,geojson:v()};if(!l)return s;var c=[],u,m=r.z,h=r.radius,T=L.isArrayOrTypedArray(m)&&m.length,f=L.isArrayOrTypedArray(h);for(u=0;u<t.length;u++){var o=t[u],d=o.lonlat;if(d[0]!==w){var M={};if(T){var A=o.z;M.z=A!==w?A:0}f&&(M.r=p(h[u])&&h[u]>0?+h[u]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:M})}}var E=C.extractOpts(r),g=E.reversescale?C.flipScale(E.colorscale):E.colorscale,S=g[0][1],b=n.opacity(S)<1?S:n.addOpacity(S,0),i=["interpolate",["linear"],["heatmap-density"],0,b];for(u=1;u<g.length;u++)i.push(g[u][0],g[u][1]);var P=["interpolate",["linear"],["get","z"],E.min,0,E.max,1];return L.extendFlat(s.heatmap.paint,{"heatmap-weight":T?P:1/(E.max-E.min),"heatmap-color":i,"heatmap-radius":f?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),s.geojson={type:"FeatureCollection",features:c},s.heatmap.layout.visibility="visible",s}},79429:function(G,U,e){var p=e(71828),L=e(1586),n=e(64096);G.exports=function(w,v,y,t){function r(c,u){return p.coerce(w,v,n,c,u)}var l=r("lon")||[],a=r("lat")||[],s=Math.min(l.length,a.length);if(!s){v.visible=!1;return}v._length=s,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),L(w,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(G){G.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},84684:function(G,U,e){var p=e(89298),L=e(28178).hoverPoints,n=e(28178).getExtraText;G.exports=function(w,v,y){var t=L(w,v,y);if(t){var r=t[0],l=r.cd,a=l[0].trace,s=l[r.index];if(delete r.color,"z"in s){var c=r.subplot.mockAxis;r.z=s.z,r.zLabel=p.tickText(c,c.c2l(s.z),"hover").text}return r.extraText=n(a,s,l[0].t.labels),[r]}}},93814:function(G,U,e){G.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(p,L){for(var n=L.getMapLayers(),C=0;C<n.length;C++){var w=n[C],v=w.id;if(w.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(G,U,e){var p=e(52414),L=e(77734).traceLayerPrefix;function n(w,v){this.type="densitymapbox",this.subplot=w,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var C=n.prototype;C.update=function(w){var v=this.subplot,y=this.layerList,t=p(w),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var l=0;l<y.length;l++){var a=y[l],s=a[0],c=a[1],u=t[s];v.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(c,"setPaintProperty",u.paint)}},C._addLayers=function(w,v){for(var y=this.subplot,t=this.layerList,r=this.sourceId,l=0;l<t.length;l++){var a=t[l],s=a[0],c=w[s];y.addLayer({type:s,id:a[1],source:r,layout:c.layout,paint:c.paint},v)}},C._removeLayers=function(){for(var w=this.subplot.map,v=this.layerList,y=v.length-1;y>=0;y--)w.removeLayer(v[y][1])},C.dispose=function(){var w=this.subplot.map;this._removeLayers(),w.removeSource(this.sourceId)},G.exports=function(v,y){var t=y[0].trace,r=new n(v,t.uid),l=r.sourceId,a=p(y),s=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(l,{type:"geojson",data:a.geojson}),r._addLayers(a,s),r}},49789:function(G,U,e){var p=e(71828);G.exports=function(n,C){for(var w=0;w<n.length;w++)n[w].i=w;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,n,"mo"),p.mergeArray(v.color,n,"mc");var y=v.line;y&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"))}}},1285:function(G,U,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,w=e(5386).f,v=e(5386).s,y=e(18517),t=e(1426).extendFlat,r=e(7901);G.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:w({},{keys:y.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:t({},p.insidetextanchor,{dflt:"middle"}),textangle:t({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:t({},p.orientation,{}),offset:t({},p.offset,{arrayOk:!1}),width:t({},p.width,{arrayOk:!1}),marker:l(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function l(){var a=t({},p.marker);return delete a.pattern,a}},9532:function(G,U,e){var p=e(89298),L=e(42973),n=e(49789),C=e(66279),w=e(50606).BADNUM;G.exports=function(t,r){var l=p.getFromId(t,r.xaxis||"x"),a=p.getFromId(t,r.yaxis||"y"),s,c,u,m,h,T,f,o;r.orientation==="h"?(s=l.makeCalcdata(r,"x"),u=a.makeCalcdata(r,"y"),m=L(r,a,"y",u),h=!!r.yperiodalignment,T="y"):(s=a.makeCalcdata(r,"y"),u=l.makeCalcdata(r,"x"),m=L(r,l,"x",u),h=!!r.xperiodalignment,T="x"),c=m.vals;var d=Math.min(c.length,s.length),M=new Array(d);for(r._base=[],f=0;f<d;f++){s[f]<0&&(s[f]=w);var A=!1;s[f]!==w&&f+1<d&&s[f+1]!==w&&(A=!0),o=M[f]={p:c[f],s:s[f],cNext:A},r._base[f]=-.5*o.s,h&&(M[f].orig_p=u[f],M[f][T+"End"]=m.ends[f],M[f][T+"Start"]=m.starts[f]),r.ids&&(o.id=String(r.ids[f])),f===0&&(M[0].vTotal=0),M[0].vTotal+=v(o.s),o.begR=v(o.s)/v(M[0].s)}var E;for(f=0;f<d;f++)o=M[f],o.s!==w&&(o.sumR=o.s/M[0].vTotal,o.difR=E!==void 0?o.s/E:1,E=o.s);return n(M,r),C(M,r),M};function v(y){return y===w?0:y}},18517:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(G,U,e){var p=e(11661).setGroupPositions;G.exports=function(n,C){var w=n._fullLayout,v=n._fullData,y=n.calcdata,t=C.xaxis,r=C.yaxis,l=[],a=[],s=[],c,u;for(u=0;u<v.length;u++){var m=v[u],h=m.orientation==="h";m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="funnel"&&(c=y[u],h?s.push(c):a.push(c),l.push(c))}var T={mode:w.funnelmode,norm:w.funnelnorm,gap:w.funnelgap,groupgap:w.funnelgroupgap};for(p(n,t,r,a,T),p(n,r,t,s,T),u=0;u<l.length;u++){c=l[u];for(var f=0;f<c.length;f++)f+1<c.length&&(c[f].nextP0=c[f+1].p0,c[f].nextS0=c[f+1].s0,c[f].nextP1=c[f+1].p1,c[f].nextS1=c[f+1].s1)}}},26199:function(G,U,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),w=e(73927),v=e(1285),y=e(7901);function t(a,s,c,u){function m(A,E){return p.coerce(a,s,v,A,E)}var h=C(a,s,u,m);if(!h){s.visible=!1;return}w(a,s,u,m),m("xhoverformat"),m("yhoverformat"),m("orientation",s.y&&!s.x?"v":"h"),m("offset"),m("width");var T=m("text");m("hovertext"),m("hovertemplate");var f=m("textposition");n(a,s,u,m,f,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&!s.texttemplate&&m("textinfo",Array.isArray(T)?"text+value":"value");var o=m("marker.color",c);m("marker.line.color",y.defaultLine),m("marker.line.width");var d=m("connector.visible");if(d){m("connector.fillcolor",r(o));var M=m("connector.line.width");M&&(m("connector.line.color"),m("connector.line.dash"))}}function r(a){var s=p.isArrayOrTypedArray(a)?"#000":a;return y.addOpacity(s,.5*y.opacity(s))}function l(a,s){var c,u;function m(T){return p.coerce(u._input,u,v,T)}if(s.funnelmode==="group")for(var h=0;h<a.length;h++)u=a[h],c=u._input,L(c,u,s,m)}G.exports={supplyDefaults:t,crossTraceDefaults:l}},34598:function(G){G.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},63341:function(G,U,e){var p=e(7901).opacity,L=e(95423).hoverOnBars,n=e(71828).formatPercent;G.exports=function(v,y,t,r,l){var a=L(v,y,t,r,l);if(a){var s=a.cd,c=s[0].trace,u=c.orientation==="h",m=a.index,h=s[m],T=u?"x":"y";a[T+"LabelVal"]=h.s,a.percentInitial=h.begR,a.percentInitialLabel=n(h.begR,1),a.percentPrevious=h.difR,a.percentPreviousLabel=n(h.difR,1),a.percentTotal=h.sumR,a.percentTotalLabel=n(h.sumR,1);var f=h.hi||c.hoverinfo,o=[];if(f&&f!=="none"&&f!=="skip"){var d=f==="all",M=f.split("+"),A=function(E){return d||M.indexOf(E)!==-1};A("percent initial")&&o.push(a.percentInitialLabel+" of initial"),A("percent previous")&&o.push(a.percentPreviousLabel+" of previous"),A("percent total")&&o.push(a.percentTotalLabel+" of total")}return a.extraText=o.join("<br>"),a.color=C(c,h),[a]}};function C(w,v){var y=w.marker,t=v.mc||y.color,r=v.mlc||y.line.color,l=v.mlw||y.line.width;if(p(t))return t;if(p(r)&&l)return r}},51759:function(G,U,e){G.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(G,U,e){var p=e(71828),L=e(10440);G.exports=function(n,C,w){var v=!1;function y(l,a){return p.coerce(n,C,L,l,a)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(y("funnelmode"),y("funnelgap",.2),y("funnelgroupgap"))}},80461:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,w=e(17295),v=e(72597).clearMinTextSize;G.exports=function(a,s,c,u){var m=a._fullLayout;v("funnel",m),y(a,s,c,u),t(a,s,c,u),w.plot(a,s,c,u,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function y(l,a,s,c){var u=a.xaxis,m=a.yaxis;L.makeTraceGroups(c,s,"trace bars").each(function(h){var T=p.select(this),f=h[0].trace,o=L.ensureSingle(T,"g","regions");if(!f.connector||!f.connector.visible){o.remove();return}var d=f.orientation==="h",M=o.selectAll("g.region").data(L.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var A=M.size();M.each(function(E,g){if(!(g!==A-1&&!E.cNext)){var S=r(E,u,m,d),b=S[0],i=S[1],P="";b[0]!==C&&i[0]!==C&&b[1]!==C&&i[1]!==C&&b[2]!==C&&i[2]!==C&&b[3]!==C&&i[3]!==C&&(d?P+="M"+b[0]+","+i[1]+"L"+b[2]+","+i[2]+"H"+b[3]+"L"+b[1]+","+i[1]+"Z":P+="M"+b[1]+","+i[1]+"L"+b[2]+","+i[3]+"V"+i[2]+"L"+b[1]+","+i[0]+"Z"),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,a.layerClipId,l)}})})}function t(l,a,s,c){var u=a.xaxis,m=a.yaxis;L.makeTraceGroups(c,s,"trace bars").each(function(h){var T=p.select(this),f=h[0].trace,o=L.ensureSingle(T,"g","lines");if(!f.connector||!f.connector.visible||!f.connector.line.width){o.remove();return}var d=f.orientation==="h",M=o.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var A=M.size();M.each(function(E,g){if(!(g!==A-1&&!E.cNext)){var S=r(E,u,m,d),b=S[0],i=S[1],P="";b[3]!==void 0&&i[3]!==void 0&&(d?(P+="M"+b[0]+","+i[1]+"L"+b[2]+","+i[2],P+="M"+b[1]+","+i[1]+"L"+b[3]+","+i[2]):(P+="M"+b[1]+","+i[1]+"L"+b[2]+","+i[3],P+="M"+b[1]+","+i[0]+"L"+b[2]+","+i[2])),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,a.layerClipId,l)}})})}function r(l,a,s,c){var u=[],m=[],h=c?a:s,T=c?s:a;return u[0]=h.c2p(l.s0,!0),m[0]=T.c2p(l.p0,!0),u[1]=h.c2p(l.s1,!0),m[1]=T.c2p(l.p1,!0),u[2]=h.c2p(l.nextS0,!0),m[2]=T.c2p(l.nextP0,!0),u[3]=h.c2p(l.nextS1,!0),m[3]=T.c2p(l.nextP1,!0),c?[u,m]:[m,u]}},68266:function(G,U,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,w=e(16688),v=e(72597).resizeText,y=w.styleTextPoints;function t(r,l,a){var s=a||p.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,s,"funnel"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=p.select(this),m=c[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=m.marker;p.select(this).call(n.fill,h.mc||T.color).call(n.stroke,h.mlc||T.line.color).call(L.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),y(u,m,r),u.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(n.fill,m.connector.fillcolor)}),u.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:t}},86807:function(G,U,e){var p=e(34e3),L=e(9012),n=e(27670).Y,C=e(5386).f,w=e(5386).s,v=e(1426).extendFlat;G.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:v({},p.marker.line.color,{dflt:null}),width:v({},p.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:v({},p.scalegroup,{}),textinfo:v({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:w({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:v({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(G,U,e){var p=e(74875);U.name="funnelarea",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},89574:function(G,U,e){var p=e(32354);function L(C,w){return p.calc(C,w)}function n(C){p.crossTraceCalc(C,{type:"funnelarea"})}G.exports={calc:L,crossTraceCalc:n}},86282:function(G,U,e){var p=e(71828),L=e(86807),n=e(27670).c,C=e(90769).handleText,w=e(37434).handleLabelsAndValues;G.exports=function(y,t,r,l){function a(A,E){return p.coerce(y,t,L,A,E)}var s=a("labels"),c=a("values"),u=w(s,c),m=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(a("label0"),a("dlabel")),!m){t.visible=!1;return}t._length=m;var h=a("marker.line.width");h&&a("marker.line.color",l.paper_bgcolor),a("marker.colors"),a("scalegroup");var T=a("text"),f=a("texttemplate"),o;if(f||(o=a("textinfo",Array.isArray(T)?"text+percent":"percent")),a("hovertext"),a("hovertemplate"),f||o&&o!=="none"){var d=a("textposition");C(y,t,l,a,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}n(t,l,a);var M=a("title.text");M&&(a("title.position"),p.coerceFont(a,"title.font",l.font)),a("aspectratio"),a("baseratio")}},10421:function(G,U,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(G,U,e){var p=e(92774).hiddenlabels;G.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(G,U,e){var p=e(71828),L=e(80097);G.exports=function(C,w){function v(y,t){return p.coerce(C,w,L,y,t)}v("hiddenlabels"),v("funnelareacolorway",w.colorway),v("extendfunnelareacolors")}},79187:function(G,U,e){var p=e(39898),L=e(91424),n=e(71828),C=n.strScale,w=n.strTranslate,v=e(63893),y=e(17295),t=y.toMoveInsideBar,r=e(72597),l=r.recordMinTextSize,a=r.clearMinTextSize,s=e(53581),c=e(14575),u=c.attachFxHandlers,m=c.determineInsideTextFont,h=c.layoutAreas,T=c.prerenderTitles,f=c.positionTitleOutside,o=c.formatSliceLabel;G.exports=function(g,S){var b=g._context.staticPlot,i=g._fullLayout;a("funnelarea",i),T(S,g),h(S,i._size),n.makeTraceGroups(i._funnelarealayer,S,"trace").each(function(P){var x=p.select(this),k=P[0],_=k.trace;A(P),x.each(function(){var B=p.select(this).selectAll("g.slice").data(P);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(z,O){if(z.hidden){p.select(this).selectAll("path,g").remove();return}z.pointNumber=z.i,z.curveNumber=_.index;var F=k.cx,N=k.cy,Q=p.select(this),$=Q.selectAll("path.surface").data([z]);$.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Q.call(u,g,P);var j="M"+(F+z.TR[0])+","+(N+z.TR[1])+d(z.TR,z.BR)+d(z.BR,z.BL)+d(z.BL,z.TL)+"Z";$.attr("d",j),o(g,z,k);var ee=s.castOption(_.textposition,z.pts),oe=Q.selectAll("g.slicetext").data(z.text&&ee!=="none"?[0]:[]);oe.enter().append("g").classed("slicetext",!0),oe.exit().remove(),oe.each(function(){var Y=n.ensureSingle(p.select(this),"text","",function(le){le.attr("data-notex",1)}),V=n.ensureUniformFontSize(g,m(_,z,i.font));Y.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,V).call(v.convertToTspans,g);var W=L.bBox(Y.node()),X,re,ie,K=Math.min(z.BL[1],z.BR[1])+N,q=Math.max(z.TL[1],z.TR[1])+N;re=Math.max(z.TL[0],z.BL[0])+F,ie=Math.min(z.TR[0],z.BR[0])+F,X=t(re,ie,K,q,W,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=V.size,l(_.type,X,i),P[O].transform=X,n.setTransormAndDisplay(Y,X)})});var I=p.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);I.enter().append("g").classed("titletext",!0),I.exit().remove(),I.each(function(){var z=n.ensureSingle(p.select(this),"text","",function(N){N.attr("data-notex",1)}),O=_.title.text;_._meta&&(O=n.templateString(O,_._meta)),z.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,_.title.font).call(v.convertToTspans,g);var F=f(k,i._size);z.attr("transform",w(F.x,F.y)+C(Math.min(1,F.scale))+w(F.tx,F.ty))})})})};function d(E,g){var S=g[0]-E[0],b=g[1]-E[1];return"l"+S+","+b}function M(E,g){return[.5*(E[0]+g[0]),.5*(E[1]+g[1])]}function A(E){if(!E.length)return;var g=E[0],S=g.trace,b=S.aspectratio,i=S.baseratio;i>.999&&(i=.999);var P=Math.pow(i,2),x=g.vTotal,k=x*P/(1-P),_=x,B=k/x;function I(){var ae=Math.sqrt(B);return{x:ae,y:-ae}}function z(){var ae=I();return[ae.x,ae.y]}var O,F=[];F.push(z());var N,Q;for(N=E.length-1;N>-1;N--)if(Q=E[N],!Q.hidden){var $=Q.v/_;B+=$,F.push(z())}var j=1/0,ee=-1/0;for(N=0;N<F.length;N++)O=F[N],j=Math.min(j,O[1]),ee=Math.max(ee,O[1]);for(N=0;N<F.length;N++)F[N][1]-=(ee+j)/2;var oe=F[F.length-1][0],Y=g.r,V=(ee-j)/2,W=Y/oe,X=Y/V*b;for(g.r=X*V,N=0;N<F.length;N++)F[N][0]*=W,F[N][1]*=X;O=F[0];var re=[-O[0],O[1]],ie=[O[0],O[1]],K=0;for(N=E.length-1;N>-1;N--)if(Q=E[N],!Q.hidden){K+=1;var q=F[K][0],le=F[K][1];Q.TL=[-q,le],Q.TR=[q,le],Q.BL=re,Q.BR=ie,Q.pxmid=M(Q.TR,Q.BR),re=Q.TL,ie=Q.TR}}},71858:function(G,U,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;G.exports=function(w){var v=w._fullLayout._funnelarealayer.selectAll(".trace");n(w,v,"funnelarea"),v.each(function(y){var t=y[0],r=t.trace,l=p.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(a){p.select(this).call(L,a,r)})})}},21606:function(G,U,e){var p=e(82196),L=e(9012),n=e(41940),C=e(12663).axisHoverFormat,w=e(5386).f,v=e(5386).s,y=e(50693),t=e(1426).extendFlat;G.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},p.x,{impliedEdits:{xtype:"array"}}),x0:t({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},p.y,{impliedEdits:{ytype:"array"}}),y0:t({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:w(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},L.showlegend,{dflt:!1})},{transforms:void 0},y("",{cLetter:"z",autoColorDflt:!1}))},90757:function(G,U,e){var p=e(73972),L=e(71828),n=e(89298),C=e(42973),w=e(17562),v=e(78803),y=e(68296),t=e(4742),r=e(824),l=e(43907),a=e(70769),s=e(50606).BADNUM;G.exports=function(h,T){var f=n.getFromId(h,T.xaxis||"x"),o=n.getFromId(h,T.yaxis||"y"),d=p.traceIs(T,"contour"),M=p.traceIs(T,"histogram"),A=p.traceIs(T,"gl2d"),E=d?"best":T.zsmooth,g,S,b,i,P,x,k,_,B,I,z;if(f._minDtick=0,o._minDtick=0,M)z=w(h,T),i=z.orig_x,g=z.x,S=z.x0,b=z.dx,_=z.orig_y,P=z.y,x=z.y0,k=z.dy,B=z.z;else{var O=T.z;L.isArray1D(O)?(y(T,f,o,"x","y",["z"]),g=T._x,P=T._y,O=T._z):(i=T.x?f.makeCalcdata(T,"x"):[],_=T.y?o.makeCalcdata(T,"y"):[],g=C(T,f,"x",i).vals,P=C(T,o,"y",_).vals,T._x=g,T._y=P),S=T.x0,b=T.dx,x=T.y0,k=T.dy,B=t(O,T,f,o)}(f.rangebreaks||o.rangebreaks)&&(B=u(g,P,B),M||(g=c(g),P=c(P),T._x=g,T._y=P)),!M&&(d||T.connectgaps)&&(T._emptypoints=l(B),r(B,T._emptypoints));function F(ie){E=T._input.zsmooth=T.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+ie)}if(E==="fast"){if(f.type==="log"||o.type==="log")F("log axis found");else if(!M){if(g.length){var N=(g[g.length-1]-g[0])/(g.length-1),Q=Math.abs(N/100);for(I=0;I<g.length-1;I++)if(Math.abs(g[I+1]-g[I]-N)>Q){F("x scale is not linear");break}}if(P.length&&E==="fast"){var $=(P[P.length-1]-P[0])/(P.length-1),j=Math.abs($/100);for(I=0;I<P.length-1;I++)if(Math.abs(P[I+1]-P[I]-$)>j){F("y scale is not linear");break}}}}var ee=L.maxRowLength(B),oe=T.xtype==="scaled"?"":g,Y=a(T,oe,S,b,ee,f),V=T.ytype==="scaled"?"":P,W=a(T,V,x,k,B.length,o);A||(T._extremes[f._id]=n.findExtremes(f,Y),T._extremes[o._id]=n.findExtremes(o,W));var X={x:Y,y:W,z:B,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&i&&(X.orig_x=i),T.yperiodalignment&&_&&(X.orig_y=_),oe&&oe.length===Y.length-1&&(X.xCenter=oe),V&&V.length===W.length-1&&(X.yCenter=V),M&&(X.xRanges=z.xRanges,X.yRanges=z.yRanges,X.pts=z.pts),d||v(h,T,{vals:B,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var re={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};X.xfill=a(re,oe,S,b,ee,f),X.yfill=a(re,V,x,k,B.length,o)}return[X]};function c(m){for(var h=[],T=m.length,f=0;f<T;f++){var o=m[f];o!==s&&h.push(o)}return h}function u(m,h,T){for(var f=[],o=-1,d=0;d<T.length;d++)if(h[d]!==s){o++,f[o]=[];for(var M=0;M<T[d].length;M++)m[M]!==s&&f[o].push(T[d][M])}return f}},4742:function(G,U,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM;G.exports=function(w,v,y,t){var r,l,a,s,c,u;function m(M){if(p(M))return+M}if(v&&v.transpose){for(r=0,c=0;c<w.length;c++)r=Math.max(r,w[c].length);if(r===0)return!1;a=function(M){return M.length},s=function(M,A,E){return(M[E]||[])[A]}}else r=w.length,a=function(M,A){return M[A].length},s=function(M,A,E){return(M[A]||[])[E]};var h=function(M,A,E){return A===n||E===n?n:s(M,A,E)};function T(M){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&M&&M.type==="category"&&v["_"+M._id.charAt(0)].length){var A=M._id.charAt(0),E={},g=v["_"+A+"CategoryMap"]||v[A];for(c=0;c<g.length;c++)E[g[c]]=c;return function(S){var b=E[M._categories[S]];return b+1?b:n}}else return L.identity}var f=T(y),o=T(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(c=0;c<r;c++)for(y&&y.type==="category"?l=y._categories.length:l=a(w,c),d[c]=new Array(l),u=0;u<l;u++)d[c][u]=m(h(w,o(c),f(u)));return d}},61243:function(G){G.exports={min:"zmin",max:"zmax"}},68296:function(G,U,e){var p=e(71828),L=e(50606).BADNUM,n=e(42973);G.exports=function(w,v,y,t,r,l){var a=w._length,s=v.makeCalcdata(w,t),c=y.makeCalcdata(w,r);s=n(w,v,t,s).vals,c=n(w,y,r,c).vals;var u=w.text,m=u!==void 0&&p.isArray1D(u),h=w.hovertext,T=h!==void 0&&p.isArray1D(h),f,o,d=p.distinctVals(s),M=d.vals,A=p.distinctVals(c),E=A.vals,g=[],S,b,i=E.length,P=M.length;for(f=0;f<l.length;f++)g[f]=p.init2dArray(i,P);m&&(S=p.init2dArray(i,P)),T&&(b=p.init2dArray(i,P));var x=p.init2dArray(i,P);for(f=0;f<a;f++)if(s[f]!==L&&c[f]!==L){var k=p.findBin(s[f]+d.minDiff/2,M),_=p.findBin(c[f]+A.minDiff/2,E);for(o=0;o<l.length;o++){var B=l[o],I=w[B],z=g[o];z[_][k]=I[f],x[_][k]=f}m&&(S[_][k]=u[f]),T&&(b[_][k]=h[f])}for(w["_"+t]=M,w["_"+r]=E,o=0;o<l.length;o++)w["_"+l[o]]=g[o];m&&(w._text=S),T&&(w._hovertext=b),v&&v.type==="category"&&(w["_"+t+"CategoryMap"]=M.map(function(O){return v._categories[O]})),y&&y.type==="category"&&(w["_"+r+"CategoryMap"]=E.map(function(O){return y._categories[O]})),w._after2before=x}},76382:function(G,U,e){var p=e(71828),L=e(67684),n=e(58623),C=e(73927),w=e(49901),v=e(1586),y=e(21606);G.exports=function(r,l,a,s){function c(m,h){return p.coerce(r,l,y,m,h)}var u=L(r,l,c,s);if(!u){l.visible=!1;return}C(r,l,s,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),n(c,s),w(r,l,c,s),c("hoverongaps"),c("connectgaps",p.isArray1D(l.z)&&l.zsmooth!==!1),v(r,l,s,c,{prefix:"",cLetter:"z"})}},43907:function(G,U,e){var p=e(71828).maxRowLength;G.exports=function(n){var C=[],w={},v=[],y=n[0],t=[],r=[0,0,0],l=p(n),a,s,c,u,m,h,T,f;for(s=0;s<n.length;s++)for(a=t,t=y,y=n[s+1]||[],c=0;c<l;c++)t[c]===void 0&&(h=(t[c-1]!==void 0?1:0)+(t[c+1]!==void 0?1:0)+(a[c]!==void 0?1:0)+(y[c]!==void 0?1:0),h?(s===0&&h++,c===0&&h++,s===n.length-1&&h++,c===t.length-1&&h++,h<4&&(w[[s,c]]=[s,c,h]),C.push([s,c,h])):v.push([s,c]));for(;v.length;){for(T={},f=!1,m=v.length-1;m>=0;m--)u=v[m],s=u[0],c=u[1],h=((w[[s-1,c]]||r)[2]+(w[[s+1,c]]||r)[2]+(w[[s,c-1]]||r)[2]+(w[[s,c+1]]||r)[2])/20,h&&(T[u]=[s,c,h],v.splice(m,1),f=!0);if(!f)throw"findEmpties iterated with no new neighbors";for(u in T)w[u]=T[u],C.push(T[u])}return C.sort(function(o,d){return d[2]-o[2]})}},46248:function(G,U,e){var p=e(30211),L=e(71828),n=e(89298),C=e(21081).extractOpts;G.exports=function(v,y,t,r,l){l||(l={});var a=l.isContour,s=v.cd[0],c=s.trace,u=v.xa,m=v.ya,h=s.x,T=s.y,f=s.z,o=s.xCenter,d=s.yCenter,M=s.zmask,A=c.zhoverformat,E=h,g=T,S,b,i,P;if(v.index!==!1){try{i=Math.round(v.index[1]),P=Math.round(v.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(i<0||i>=f[0].length||P<0||P>f.length)return}else{if(p.inbox(y-h[0],y-h[h.length-1],0)>0||p.inbox(t-T[0],t-T[T.length-1],0)>0)return;if(a){var x;for(E=[2*h[0]-h[1]],x=1;x<h.length;x++)E.push((h[x]+h[x-1])/2);for(E.push([2*h[h.length-1]-h[h.length-2]]),g=[2*T[0]-T[1]],x=1;x<T.length;x++)g.push((T[x]+T[x-1])/2);g.push([2*T[T.length-1]-T[T.length-2]])}i=Math.max(0,Math.min(E.length-2,L.findBin(y,E))),P=Math.max(0,Math.min(g.length-2,L.findBin(t,g)))}var k=u.c2p(h[i]),_=u.c2p(h[i+1]),B=m.c2p(T[P]),I=m.c2p(T[P+1]),z,O;a?(z=s.orig_x||h,O=s.orig_y||T,_=k,S=z[i],I=B,b=O[P]):(z=s.orig_x||o||h,O=s.orig_y||d||T,S=o?z[i]:(z[i]+z[i+1])/2,b=d?O[P]:(O[P]+O[P+1])/2,u&&u.type==="category"&&(S=h[i]),m&&m.type==="category"&&(b=T[P]),c.zsmooth&&(k=_=u.c2p(S),B=I=m.c2p(b)));var F=f[P][i];if(M&&!M[P][i]&&(F=void 0),!(F===void 0&&!c.hoverongaps)){var N;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[P])?N=s.hovertext[P][i]:Array.isArray(s.text)&&Array.isArray(s.text[P])&&(N=s.text[P][i]);var Q=C(c),$={type:"linear",range:[Q.min,Q.max],hoverformat:A,_separators:u._separators,_numFormat:u._numFormat},j=n.tickText($,F,"hover").text;return[L.extendFlat(v,{index:c._after2before?c._after2before[P][i]:[P,i],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:k,x1:_,y0:B,y1:I,xLabelVal:S,yLabelVal:b,zLabelVal:F,zLabel:j,text:N})]}}},92165:function(G,U,e){G.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(G,U,e){var p=e(71828),L=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(y,t){var r=1,l;for(w(y,t),l=0;l<t.length&&!(t[l][2]<4);l++);for(t=t.slice(l),l=0;l<100&&r>L;l++)r=w(y,t,C(r));return r>L&&p.log("interp2d didn't converge quickly",r),y};function w(v,y,t){var r=0,l,a,s,c,u,m,h,T,f,o,d,M,A;for(c=0;c<y.length;c++){for(l=y[c],a=l[0],s=l[1],d=v[a][s],o=0,f=0,u=0;u<4;u++)m=n[u],h=v[a+m[0]],h&&(T=h[s+m[1]],T!==void 0&&(o===0?M=A=T:(M=Math.min(M,T),A=Math.max(A,T)),f++,o+=T));if(f===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[a][s]=o/f,d===void 0?f<4&&(r=1):(v[a][s]=(1+t)*v[a][s]-t*d,A>M&&(r=Math.max(r,Math.abs(v[a][s]-d)/(A-M))))}return r}},58623:function(G,U,e){var p=e(71828);G.exports=function(n,C){n("texttemplate");var w=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(n,"textfont",w)}},70769:function(G,U,e){var p=e(73972),L=e(71828).isArrayOrTypedArray;G.exports=function(C,w,v,y,t,r){var l=[],a=p.traceIs(C,"contour"),s=p.traceIs(C,"histogram"),c=p.traceIs(C,"gl2d"),u,m,h,T=L(w)&&w.length>1;if(T&&!s&&r.type!=="category"){var f=w.length;if(f<=t){if(a||c)l=w.slice(0,t);else if(t===1)l=[w[0]-.5,w[0]+.5];else{for(l=[1.5*w[0]-.5*w[1]],h=1;h<f;h++)l.push((w[h-1]+w[h])*.5);l.push(1.5*w[f-1]-.5*w[f-2])}if(f<t){var o=l[l.length-1],d=o-l[l.length-2];for(h=f;h<t;h++)o+=d,l.push(o)}}else return a?w.slice(0,t):w.slice(0,t+1)}else{var M=C[r._id.charAt(0)+"calendar"];if(s)u=r.r2c(v,0,M);else if(L(w)&&w.length===1)u=w[0];else if(v===void 0)u=0;else{var A=r.type==="log"?r.d2c:r.r2c;u=A(v,0,M)}for(m=y||1,h=a||c?0:-.5;h<t;h++)l.push(u+m*h)}return l}},50347:function(G,U,e){var p=e(39898),L=e(84267),n=e(73972),C=e(91424),w=e(89298),v=e(71828),y=e(63893),t=e(8225),r=e(7901),l=e(21081).extractOpts,a=e(21081).makeColorScaleFuncFromTrace,s=e(77922),c=e(18783),u=c.LINE_SPACING,m="heatmap-label";function h(M){return M.selectAll("g."+m)}function T(M){h(M).remove()}G.exports=function(M,A,E,g){var S=A.xaxis,b=A.yaxis;v.makeTraceGroups(g,E,"hm").each(function(i){var P=p.select(this),x=i[0],k=x.trace,_=k.xgap||0,B=k.ygap||0,I=x.z,z=x.x,O=x.y,F=x.xCenter,N=x.yCenter,Q=n.traceIs(k,"contour"),$=Q?"best":k.zsmooth,j=I.length,ee=v.maxRowLength(I),oe=!1,Y=!1,V,W,X,re,ie,K,q,le;for(K=0;V===void 0&&K<z.length-1;)V=S.c2p(z[K]),K++;for(K=z.length-1;W===void 0&&K>0;)W=S.c2p(z[K]),K--;for(W<V&&(X=W,W=V,V=X,oe=!0),K=0;re===void 0&&K<O.length-1;)re=b.c2p(O[K]),K++;for(K=O.length-1;ie===void 0&&K>0;)ie=b.c2p(O[K]),K--;if(ie<re&&(X=re,re=ie,ie=X,Y=!0),Q&&(F=z,N=O,z=x.xfill,O=x.yfill),$!=="fast"){var ae=$==="best"?0:.5;V=Math.max(-ae*S._length,V),W=Math.min((1+ae)*S._length,W),re=Math.max(-ae*b._length,re),ie=Math.min((1+ae)*b._length,ie)}var he=Math.round(W-V),me=Math.round(ie-re),Me=he<=0||me<=0;if(Me){var xe=P.selectAll("image").data([]);xe.exit().remove(),T(P);return}var Ie,_e;$==="fast"?(Ie=ee,_e=j):(Ie=he,_e=me);var Te=document.createElement("canvas");Te.width=Ie,Te.height=_e;var ye=Te.getContext("2d"),Ae=a(k,{noNumericCheck:!0,returnArray:!0}),Be,Ue;$==="fast"?(Be=oe?function(cr){return ee-1-cr}:v.identity,Ue=Y?function(cr){return j-1-cr}:v.identity):(Be=function(cr){return v.constrain(Math.round(S.c2p(z[cr])-V),0,he)},Ue=function(cr){return v.constrain(Math.round(b.c2p(O[cr])-re),0,me)});var De=Ue(0),He=[De,De],ut=oe?0:1,et=Y?0:1,Qe=0,qe=0,ft=0,gt=0,xt,Ct,Je,ze,Fe;function $e(cr,kr){if(cr!==void 0){var Or=Ae(cr);return Or[0]=Math.round(Or[0]),Or[1]=Math.round(Or[1]),Or[2]=Math.round(Or[2]),Qe+=kr,qe+=Or[0]*kr,ft+=Or[1]*kr,gt+=Or[2]*kr,Or}return[0,0,0,0]}function at(cr,kr,Or,sn){var yn=cr[Or.bin0];if(yn===void 0)return $e(void 0,1);var bn=cr[Or.bin1],mn=kr[Or.bin0],_n=kr[Or.bin1],Kn=bn-yn||0,na=mn-yn||0,ea;return bn===void 0?_n===void 0?ea=0:mn===void 0?ea=2*(_n-yn):ea=(2*_n-mn-yn)*2/3:_n===void 0?mn===void 0?ea=0:ea=(2*yn-bn-mn)*2/3:mn===void 0?ea=(2*_n-bn-yn)*2/3:ea=_n+yn-bn-mn,$e(yn+Or.frac*Kn+sn.frac*(na+Or.frac*ea))}if($){var Xe=0,Pe;try{Pe=new Uint8Array(he*me*4)}catch{Pe=new Array(he*me*4)}if($==="best"){var we=F||z,ue=N||O,ge=new Array(we.length),Le=new Array(ue.length),ke=new Array(he),it=F?o:f,lt=N?o:f,bt,Rt,Ut;for(K=0;K<we.length;K++)ge[K]=Math.round(S.c2p(we[K])-V);for(K=0;K<ue.length;K++)Le[K]=Math.round(b.c2p(ue[K])-re);for(K=0;K<he;K++)ke[K]=it(K,ge);for(q=0;q<me;q++)for(bt=lt(q,Le),Rt=I[bt.bin0],Ut=I[bt.bin1],K=0;K<he;K++,Xe+=4)Fe=at(Rt,Ut,ke[K],bt),d(Pe,Xe,Fe)}else for(q=0;q<j;q++)for(ze=I[q],He=Ue(q),K=0;K<he;K++)Fe=$e(ze[K],1),Xe=(He*he+Be(K))*4,d(Pe,Xe,Fe);var Gt=ye.createImageData(he,me);try{Gt.data.set(Pe)}catch{var _t=Gt.data,nr=_t.length;for(q=0;q<nr;q++)_t[q]=Pe[q]}ye.putImageData(Gt,0,0)}else{var lr=Math.floor(_/2),zr=Math.floor(B/2);for(q=0;q<j;q++)if(ze=I[q],He.reverse(),He[et]=Ue(q+1),!(He[0]===He[1]||He[0]===void 0||He[1]===void 0))for(Ct=Be(0),xt=[Ct,Ct],K=0;K<ee;K++)xt.reverse(),xt[ut]=Be(K+1),!(xt[0]===xt[1]||xt[0]===void 0||xt[1]===void 0)&&(Je=ze[K],Fe=$e(Je,(xt[1]-xt[0])*(He[1]-He[0])),ye.fillStyle="rgba("+Fe.join(",")+")",ye.fillRect(xt[0]+lr,He[0]+zr,xt[1]-xt[0]-_,He[1]-He[0]-B))}qe=Math.round(qe/Qe),ft=Math.round(ft/Qe),gt=Math.round(gt/Qe);var mt=L("rgb("+qe+","+ft+","+gt+")");M._hmpixcount=(M._hmpixcount||0)+Qe,M._hmlumcount=(M._hmlumcount||0)+Qe*mt.getLuminance();var jt=P.selectAll("image").data(i);jt.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),jt.attr({height:me,width:he,x:V,y:re,"xlink:href":Te.toDataURL("image/png")}),T(P);var Yt=k.texttemplate;if(Yt){var wr=l(k),dr={type:"linear",range:[wr.min,wr.max],_separators:S._separators,_numFormat:S._numFormat},ct=k.type==="histogram2dcontour",ot=k.type==="contour",wt=ot?1:0,Mt=ot?j-1:j,Dt=ot?1:0,St=ot?ee-1:ee,Ot=[];for(K=wt;K<Mt;K++){var Vt;if(ot)Vt=x.y[K];else if(ct){if(K===0||K===j-1)continue;Vt=x.y[K]}else if(x.yCenter)Vt=x.yCenter[K];else{if(K+1===j&&x.y[K+1]===void 0)continue;Vt=(x.y[K]+x.y[K+1])/2}var Qt=Math.round(b.c2p(Vt));if(!(0>Qt||Qt>b._length))for(q=Dt;q<St;q++){var Kt;if(ot)Kt=x.x[q];else if(ct){if(q===0||q===ee-1)continue;Kt=x.x[q]}else if(x.xCenter)Kt=x.xCenter[q];else{if(q+1===ee&&x.x[q+1]===void 0)continue;Kt=(x.x[q]+x.x[q+1])/2}var or=Math.round(S.c2p(Kt));if(!(0>or||or>S._length)){var Mr=t({x:Kt,y:Vt},k,M._fullLayout);Mr.x=Kt,Mr.y=Vt;var Ve=x.z[K][q];Ve===void 0?(Mr.z="",Mr.zLabel=""):(Mr.z=Ve,Mr.zLabel=w.tickText(dr,Ve,"hover").text);var Ge=x.text&&x.text[K]&&x.text[K][q];(Ge===void 0||Ge===!1)&&(Ge=""),Mr.text=Ge;var Ft=v.texttemplateString(Yt,Mr,M._fullLayout._d3locale,Mr,k._meta||{});if(Ft){var kt=Ft.split("<br>"),Zt=kt.length,tr=0;for(le=0;le<Zt;le++)tr=Math.max(tr,kt[le].length);Ot.push({l:Zt,c:tr,t:Ft,x:or,y:Qt,z:Ve})}}}}var sr=k.textfont,rr=sr.family,Nt=sr.size,hr=M._fullLayout.font.size;if(!Nt||Nt==="auto"){var pr=1/0,br=1/0,vr=0,Kr=0;for(le=0;le<Ot.length;le++){var Fr=Ot[le];if(vr=Math.max(vr,Fr.l),Kr=Math.max(Kr,Fr.c),le<Ot.length-1){var Br=Ot[le+1],xn=Math.abs(Br.x-Fr.x),jr=Math.abs(Br.y-Fr.y);xn&&(pr=Math.min(pr,xn)),jr&&(br=Math.min(br,jr))}}!isFinite(pr)||!isFinite(br)?Nt=hr:(pr-=_,br-=B,pr/=Kr,br/=vr,pr/=u/2,br/=u,Nt=Math.min(Math.floor(pr),Math.floor(br),hr))}if(Nt<=0||!isFinite(Nt))return;var Dn=function(cr){return cr.x},In=function(cr){return cr.y-Nt*(cr.l*u/2-1)},yr=h(P).data(Ot);yr.enter().append("g").classed(m,1).append("text").attr("text-anchor","middle").each(function(cr){var kr=p.select(this),Or=sr.color;(!Or||Or==="auto")&&(Or=r.contrast("rgba("+Ae(cr.z).join()+")")),kr.attr("data-notex",1).call(y.positionText,Dn(cr),In(cr)).call(C.font,rr,Nt,Or).text(cr.t).call(y.convertToTspans,M)})}})};function f(M,A){var E=A.length-2,g=v.constrain(v.findBin(M,A),0,E),S=A[g],b=A[g+1],i=v.constrain(g+(M-S)/(b-S)-.5,0,E),P=Math.round(i),x=Math.abs(i-P);return!i||i===E||!x?{bin0:P,bin1:P,frac:0}:{bin0:P,frac:x,bin1:Math.round(P+x/(i-P))}}function o(M,A){var E=A.length-1,g=v.constrain(v.findBin(M,A),0,E),S=A[g],b=A[g+1],i=(M-S)/(b-S)||0;return i<=0?{bin0:g,bin1:g,frac:0}:i<.5?{bin0:g,bin1:g+1,frac:i}:{bin0:g+1,bin1:g,frac:1-i}}function d(M,A,E){M[A]=E[0],M[A+1]=E[1],M[A+2]=E[2],M[A+3]=Math.round(E[3]*255)}},70035:function(G,U,e){var p=e(39898);G.exports=function(n){p.select(n).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(G){G.exports=function(e,p,L){var n=L("zsmooth");n===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},67684:function(G,U,e){var p=e(92770),L=e(71828),n=e(73972);G.exports=function(y,t,r,l,a,s){var c=r("z");a=a||"x",s=s||"y";var u,m;if(c===void 0||!c.length)return 0;if(L.isArray1D(y.z)){u=r(a),m=r(s);var h=L.minRowLength(u),T=L.minRowLength(m);if(h===0||T===0)return 0;t._length=Math.min(h,T,c.length)}else{if(u=C(a,r),m=C(s,r),!w(c))return 0;r("transpose"),t._length=null}if(y.type==="heatmapgl")return!0;var f=n.getComponentMethod("calendars","handleTraceDefaults");return f(y,t,[a,s],l),!0};function C(v,y){var t=y(v),r=t?y(v+"type","array"):"scaled";return r==="scaled"&&(y(v+"0"),y("d"+v)),t}function w(v){for(var y=!0,t=!1,r=!1,l,a=0;a<v.length;a++){if(l=v[a],!L.isArrayOrTypedArray(l)){y=!1;break}l.length>0&&(t=!0);for(var s=0;s<l.length;s++)if(p(l[s])){r=!0;break}}return y&&t&&r}},16063:function(G,U,e){for(var p=e(21606),L=e(50693),n=e(1426).extendFlat,C=e(30962).overrideAll,w=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},y=0;y<w.length;y++){var t=w[y];v[t]=p[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(v,L("",{cLetter:"z",autoColorDflt:!1})),G.exports=C(v,"calc","nested")},59560:function(G,U,e){var p=e(9330).gl_heatmap2d,L=e(89298),n=e(78614);function C(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(t.glplot,this.options),this.heatmap._trace=this}var w=C.prototype;w.handlePick=function(t){var r=this.options,l=r.shape,a=t.pointId,s=a%l[0],c=Math.floor(a/l[0]),u=a;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[s],r.y[c],r.z[u]],textLabel:this.textLabels[a],name:this.name,pointIndex:[c,s],hoverinfo:this.hoverinfo}},w.update=function(t,r){var l=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var a=l.z;this.options.z=[].concat.apply([],a);var s=a[0].length,c=a.length;this.options.shape=[s,c],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=t.zsmooth;var u=v(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var m=this.scene.xaxis,h=this.scene.yaxis,T,f;t.zsmooth===!1&&(T={ppad:l.x[1]-l.x[0]},f={ppad:l.y[1]-l.y[0]}),t._extremes[m._id]=L.findExtremes(m,l.x,T),t._extremes[h._id]=L.findExtremes(h,l.y,f)},w.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,l=t.zmin,a=t.zmax,s=r.length,c=new Array(s),u=new Array(4*s),m=0;m<s;m++){var h=r[m],T=n(h[1]);c[m]=l+h[0]*(a-l);for(var f=0;f<4;f++)u[4*m+f]=T[f]}return{colorLevels:c,colorValues:u}}function y(t,r,l){var a=new C(t,r.uid);return a.update(r,l),a}G.exports=y},19600:function(G,U,e){var p=e(71828),L=e(67684),n=e(1586),C=e(16063);G.exports=function(v,y,t,r){function l(s,c){return p.coerce(v,y,C,s,c)}var a=L(v,y,l,r);if(!a){y.visible=!1;return}l("text"),l("zsmooth"),n(v,y,r,l,{prefix:"",cLetter:"z"})}},3325:function(G,U,e){G.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(G,U,e){var p=e(1486),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(5386).s,w=e(41940),v=e(17656),y=e(72406),t=e(1426).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:t({},p.text,{}),hovertext:t({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:y.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},p.textposition,{arrayOk:!1}),textfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},42174:function(G){G.exports=function(e,p){for(var L=e.length,n=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],n+=e[C]):e[C]=null;return n}},17656:function(G){G.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(G,U,e){var p=e(92770);G.exports={count:function(L,n,C){return C[L]++,1},sum:function(L,n,C,w){var v=w[n];return p(v)?(v=Number(v),C[L]+=v,v):0},avg:function(L,n,C,w,v){var y=w[n];return p(y)&&(y=Number(y),C[L]+=y,v[L]++),0},min:function(L,n,C,w){var v=w[n];if(p(v))if(v=Number(v),p(C[L])){if(C[L]>v){var y=v-C[L];return C[L]=v,y}}else return C[L]=v,v;return 0},max:function(L,n,C,w){var v=w[n];if(p(v))if(v=Number(v),p(C[L])){if(C[L]<v){var y=v-C[L];return C[L]=v,y}}else return C[L]=v,v;return 0}}},40965:function(G,U,e){var p=e(50606),L=p.ONEAVGYEAR,n=p.ONEAVGMONTH,C=p.ONEDAY,w=p.ONEHOUR,v=p.ONEMIN,y=p.ONESEC,t=e(89298).tickIncrement;G.exports=function(u,m,h,T,f){var o=-1.1*m,d=-.1*m,M=u-d,A=h[0],E=h[1],g=Math.min(r(A+d,A+M,T,f),r(E+d,E+M,T,f)),S=Math.min(r(A+o,A+d,T,f),r(E+o,E+d,T,f)),b,i;if(g>S&&S<Math.abs(E-A)/4e3?(b=g,i=!1):(b=Math.min(g,S),i=!0),T.type==="date"&&b>C){var P=b===L?1:6,x=b===L?"M12":"M1";return function(k,_){var B=T.c2d(k,L,f),I=B.indexOf("-",P);I>0&&(B=B.substr(0,I));var z=T.d2c(B,0,f);if(z<k){var O=t(z,x,!1,f);(z+O)/2<k+u&&(z=O)}return _&&i?t(z,x,!0,f):z}}return function(k,_){var B=b*Math.round(k/b);return B+b/10<k&&B+b*.9<k+u&&(B+=b),_&&i&&(B-=b),B}};function r(c,u,m,h){if(c*u<=0)return 1/0;for(var T=Math.abs(u-c),f=m.type==="date",o=l(T,f),d=0;d<10;d++){var M=l(o*80,f);if(o===M)break;if(a(M,c,u,f,m,h))o=M;else break}return o}function l(c,u){return u&&c>y?c>C?c>L*1.1?L:c>n*1.1?n:C:c>w?w:c>v?v:y:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function a(c,u,m,h,T,f){if(h&&c>C){var o=s(u,T,f),d=s(m,T,f),M=c===L?0:1;return o[M]!==d[M]}return Math.floor(m/c)-Math.floor(u/c)>.1}function s(c,u,m){var h=u.c2d(c,L,m).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},72138:function(G,U,e){var p=e(92770),L=e(71828),n=e(73972),C=e(89298),w=e(75341),v=e(59575),y=e(36362),t=e(42174),r=e(40965);function l(m,h){var T=[],f=[],o=h.orientation==="h",d=C.getFromId(m,o?h.yaxis:h.xaxis),M=o?"y":"x",A={x:"y",y:"x"}[M],E=h[M+"calendar"],g=h.cumulative,S,b=a(m,h,d,M),i=b[0],P=b[1],x=typeof i.size=="string",k=[],_=x?k:i,B=[],I=[],z=[],O=0,F=h.histnorm,N=h.histfunc,Q=F.indexOf("density")!==-1,$,j,ee;g.enabled&&Q&&(F=F.replace(/ ?density$/,""),Q=!1);var oe=N==="max"||N==="min",Y=oe?null:0,V=v.count,W=y[F],X=!1,re=function(Ue){return d.r2c(Ue,0,E)},ie;for(L.isArrayOrTypedArray(h[A])&&N!=="count"&&(ie=h[A],X=N==="avg",V=v[N]),S=re(i.start),j=re(i.end)+(S-C.tickIncrement(S,i.size,!1,E))/1e6;S<j&&T.length<1e6&&($=C.tickIncrement(S,i.size,!1,E),T.push((S+$)/2),f.push(Y),z.push([]),k.push(S),Q&&B.push(1/($-S)),X&&I.push(0),!($<=S));)S=$;k.push(S),!x&&d.type==="date"&&(_={start:re(_.start),end:re(_.end),size:_.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var K=h["_"+M+"bingroup"],q={leftGap:1/0,rightGap:1/0};K&&(m._fullLayout._roundFnOpts[K]||(m._fullLayout._roundFnOpts[K]=q),q=m._fullLayout._roundFnOpts[K]);var le=f.length,ae=!0,he=q.leftGap,me=q.rightGap,Me={};for(S=0;S<P.length;S++){var xe=P[S];ee=L.findBin(xe,_),ee>=0&&ee<le&&(O+=V(ee,S,f,ie,I),ae&&z[ee].length&&xe!==P[z[ee][0]]&&(ae=!1),z[ee].push(S),Me[S]=ee,he=Math.min(he,xe-k[ee]),me=Math.min(me,k[ee+1]-xe))}q.leftGap=he,q.rightGap=me;var Ie;ae||(Ie=function(Ue,De){return function(){var He=m._fullLayout._roundFnOpts[K];return r(He.leftGap,He.rightGap,k,d,E)(Ue,De)}}),X&&(O=t(f,I)),W&&W(f,O,B),g.enabled&&u(f,g.direction,g.currentbin);var _e=Math.min(T.length,f.length),Te=[],ye=0,Ae=_e-1;for(S=0;S<_e;S++)if(f[S]){ye=S;break}for(S=_e-1;S>=ye;S--)if(f[S]){Ae=S;break}for(S=ye;S<=Ae;S++)if(p(T[S])&&p(f[S])){var Be={p:T[S],s:f[S],b:0};g.enabled||(Be.pts=z[S],ae?Be.ph0=Be.ph1=z[S].length?P[z[S][0]]:T[S]:(h._computePh=!0,Be.ph0=Ie(k[S]),Be.ph1=Ie(k[S+1],!0))),Te.push(Be)}return Te.length===1&&(Te[0].width1=C.tickIncrement(Te[0].p,i.size,!1,E)-Te[0].p),w(Te,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Te,h,Me),Te}function a(m,h,T,f,o){var d=f+"bins",M=m._fullLayout,A=h["_"+f+"bingroup"],E=M._histogramBinOpts[A],g=M.barmode==="overlay",S,b,i,P,x,k,_,B=function(xe){return T.r2c(xe,0,P)},I=function(xe){return T.c2r(xe,0,P)},z=T.type==="date"?function(xe){return xe||xe===0?L.cleanDate(xe,null,P):null}:function(xe){return p(xe)?Number(xe):null};function O(xe,Ie,_e){Ie[xe+"Found"]?(Ie[xe]=z(Ie[xe]),Ie[xe]===null&&(Ie[xe]=_e[xe])):(k[xe]=Ie[xe]=_e[xe],L.nestedProperty(b[0],d+"."+xe).set(_e[xe]))}if(h["_"+f+"autoBinFinished"])delete h["_"+f+"autoBinFinished"];else{b=E.traces;var F=[],N=!0,Q=!1,$=!1;for(S=0;S<b.length;S++)if(i=b[S],i.visible){var j=E.dirs[S];x=i["_"+j+"pos0"]=T.makeCalcdata(i,j),F=L.concat(F,x),delete i["_"+f+"autoBinFinished"],h.visible===!0&&(N?N=!1:(delete i._autoBin,i["_"+f+"autoBinFinished"]=1),n.traceIs(i,"2dMap")&&(Q=!0),i.type==="histogram2dcontour"&&($=!0))}P=b[0][f+"calendar"];var ee=C.autoBin(F,T,E.nbins,Q,P,E.sizeFound&&E.size),oe=b[0]._autoBin={};if(k=oe[E.dirs[0]]={},$&&(E.size||(ee.start=I(C.tickIncrement(B(ee.start),ee.size,!0,P))),E.end===void 0&&(ee.end=I(C.tickIncrement(B(ee.end),ee.size,!1,P)))),g&&!n.traceIs(h,"2dMap")&&ee._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"){if(o)return[ee,x,!0];ee=s(m,h,T,f,d)}_=i.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?ee.start=I(C.tickIncrement(B(ee.start),ee.size,!0,P)):ee.end=I(C.tickIncrement(B(ee.end),ee.size,!1,P))),E.size=ee.size,E.sizeFound||(k.size=ee.size,L.nestedProperty(b[0],d+".size").set(ee.size)),O("start",E,ee),O("end",E,ee)}x=h["_"+f+"pos0"],delete h["_"+f+"pos0"];var Y=h._input[d]||{},V=L.extendFlat({},E),W=E.start,X=T.r2l(Y.start),re=X!==void 0;if((E.startFound||re)&&X!==T.r2l(W)){var ie=re?X:L.aggNums(Math.min,null,x),K={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:E.size,tick0:W,calendar:P,range:[ie,C.tickIncrement(ie,E.size,!1,P)].map(T.l2r)},q=C.tickFirst(K);q>T.r2l(ie)&&(q=C.tickIncrement(q,E.size,!0,P)),V.start=T.l2r(q),re||L.nestedProperty(h,d+".start").set(V.start)}var le=E.end,ae=T.r2l(Y.end),he=ae!==void 0;if((E.endFound||he)&&ae!==T.r2l(le)){var me=he?ae:L.aggNums(Math.max,null,x);V.end=T.l2r(me),he||L.nestedProperty(h,d+".start").set(V.end)}var Me="autobin"+f;return h._input[Me]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Me],delete h[Me]),[V,x]}function s(m,h,T,f,o){var d=m._fullLayout,M=c(m,h),A=!1,E=1/0,g=[h],S,b,i;for(S=0;S<M.length;S++)if(b=M[S],b===h)A=!0;else if(!A)i=d._histogramBinOpts[b["_"+f+"bingroup"]],E=Math.min(E,i.size||b[o].size);else{var P=a(m,b,T,f,!0),x=P[0],k=P[2];b["_"+f+"autoBinFinished"]=1,b["_"+f+"pos0"]=P[1],k?g.push(b):E=Math.min(E,x.size)}var _=new Array(g.length);for(S=0;S<g.length;S++)for(var B=g[S]["_"+f+"pos0"],I=0;I<B.length;I++)if(B[I]!==void 0){_[S]=B[I];break}for(isFinite(E)||(E=L.distinctVals(_).minDiff),S=0;S<g.length;S++){b=g[S];var z=b[f+"calendar"],O={start:T.c2r(_[S]-E/2,0,z),end:T.c2r(_[S]+E/2,0,z),size:E};b._input[o]=b[o]=O,i=d._histogramBinOpts[b["_"+f+"bingroup"]],i&&L.extendFlat(i,O)}return h[o]}function c(m,h){for(var T=h.xaxis,f=h.yaxis,o=h.orientation,d=[],M=m._fullData,A=0;A<M.length;A++){var E=M[A];E.type==="histogram"&&E.visible===!0&&E.orientation===o&&E.xaxis===T&&E.yaxis===f&&d.push(E)}return d}function u(m,h,T){var f,o,d;function M(E){d=m[E],m[E]/=2}function A(E){o=m[E],m[E]=d+o/2,d+=o}if(T==="half")if(h==="increasing")for(M(0),f=1;f<m.length;f++)A(f);else for(M(m.length-1),f=m.length-2;f>=0;f--)A(f);else if(h==="increasing"){for(f=1;f<m.length;f++)m[f]+=m[f-1];T==="exclude"&&(m.unshift(0),m.pop())}else{for(f=m.length-2;f>=0;f--)m[f]+=m[f+1];T==="exclude"&&(m.push(0),m.shift())}}G.exports={calc:l,calcAllAutoBins:a}},72406:function(G){G.exports={eventDataKeys:["binNumber"]}},82222:function(G,U,e){var p=e(71828),L=e(41675),n=e(73972).traceIs,C=e(26125),w=p.nestedProperty,v=e(99082).getAxisGroup,y=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(l,a){var s=a._histogramBinOpts={},c=[],u={},m=[],h,T,f,o,d,M,A;function E($,j){return p.coerce(h._input,h,h._module.attributes,$,j)}function g($){return $.orientation==="v"?"x":"y"}function S($,j){var ee=L.getFromTrace({_fullLayout:a},$,j);return ee.type}function b($,j,ee){var oe=$.uid+"__"+ee;j||(j=oe);var Y=S($,ee),V=$[ee+"calendar"]||"",W=s[j],X=!0;W&&(Y===W.axType&&V===W.calendar?(X=!1,W.traces.push($),W.dirs.push(ee)):(j=oe,Y!==W.axType&&p.warn(["Attempted to group the bins of trace",$.index,"set on a","type:"+Y,"axis","with bins on","type:"+W.axType,"axis."].join(" ")),V!==W.calendar&&p.warn(["Attempted to group the bins of trace",$.index,"set with a",V,"calendar","with bins",W.calendar?"on a "+W.calendar+" calendar":"w/o a set calendar"].join(" ")))),X&&(s[j]={traces:[$],dirs:[ee],axType:Y,calendar:$[ee+"calendar"]||""}),$["_"+ee+"bingroup"]=j}for(d=0;d<l.length;d++)h=l[d],n(h,"histogram")&&(c.push(h),delete h._xautoBinFinished,delete h._yautoBinFinished,n(h,"2dMap")||C(h._input,h,a,E));var i=a._alignmentOpts||{};for(d=0;d<c.length;d++){if(h=c[d],f="",!n(h,"2dMap")){if(o=g(h),a.barmode==="group"&&h.alignmentgroup){var P=h[o+"axis"],x=v(a,P)+h.orientation;(i[x]||{})[h.alignmentgroup]&&(f=x)}!f&&a.barmode!=="overlay"&&(f=v(a,h.xaxis)+v(a,h.yaxis)+g(h))}f?(u[f]||(u[f]=[]),u[f].push(h)):m.push(h)}for(f in u){if(T=u[f],T.length===1){m.push(T[0]);continue}var k=!1;for(T.length&&(h=T[0],k=E("bingroup")),f=k||f,d=0;d<T.length;d++){h=T[d];var _=h._input.bingroup;_&&_!==f&&p.warn(["Trace",h.index,"must match","within bingroup",f+".","Ignoring its bingroup:",_,"setting."].join(" ")),h.bingroup=f,b(h,f,g(h))}}for(d=0;d<m.length;d++){h=m[d];var B=E("bingroup");if(n(h,"2dMap"))for(A=0;A<2;A++){o=t[A];var I=E(o+"bingroup",B?B+"__"+o:null);b(h,I,o)}else b(h,B,g(h))}for(f in s){var z=s[f];for(T=z.traces,M=0;M<y.length;M++){var O=y[M],F=O.name,N,Q;if(!(F==="nbins"&&z.sizeFound)){for(d=0;d<T.length;d++){if(h=T[d],o=z.dirs[d],N=O.aStr[o],w(h._input,N).get()!==void 0){z[F]=E(N),z[F+"Found"]=!0;break}Q=(h._autoBin||{})[o]||{},Q[F]&&w(h,N).set(Q[F])}if(F==="start"||F==="end")for(;d<T.length;d++)h=T[d],h["_"+o+"bingroup"]&&(Q=(h._autoBin||{})[o]||{},E(N,Q[F]));F==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(h=T[0],z[F]=E(N))}}}}},11385:function(G,U,e){var p=e(73972),L=e(71828),n=e(7901),C=e(90769).handleText,w=e(98340),v=e(7745);G.exports=function(t,r,l,a){function s(S,b){return L.coerce(t,r,v,S,b)}var c=s("x"),u=s("y"),m=s("cumulative.enabled");m&&(s("cumulative.direction"),s("cumulative.currentbin")),s("text");var h=s("textposition");C(t,r,a,s,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat");var T=s("orientation",u&&!c?"h":"v"),f=T==="v"?"x":"y",o=T==="v"?"y":"x",d=c&&u?Math.min(L.minRowLength(c)&&L.minRowLength(u)):L.minRowLength(r[f]||[]);if(!d){r.visible=!1;return}r._length=d;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(t,r,["x","y"],a);var A=r[o];A&&s("histfunc"),s("histnorm"),s("autobin"+f),w(t,r,s,l,a),L.coerceSelectionMarkerOpacity(r,s);var E=(r.marker.line||{}).color,g=p.getComponentMethod("errorbars","supplyDefaults");g(t,r,E||n.defaultLine,{axis:"y"}),g(t,r,E||n.defaultLine,{axis:"x",inherit:"y"})}},84402:function(G){G.exports=function(e,p,L,n,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var w=Array.isArray(C)?n[0].pts[C[0]][C[1]]:n[C].pts;e.pointNumbers=w,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var y=0;y<w.length;y++)v=v.concat(L._indexToPoints[w[y]])}else v=w;e.pointIndices=v}return e}},76440:function(G,U,e){var p=e(95423).hoverPoints,L=e(89298).hoverLabelText;G.exports=function(C,w,v,y,t){var r=p(C,w,v,y,t);if(r){C=r[0];var l=C.cd[C.index],a=C.cd[0].trace;if(!a.cumulative.enabled){var s=a.orientation==="h"?"y":"x";C[s+"Label"]=L(C[s+"a"],[l.ph0,l.ph1],a[s+"hoverformat"])}return r}}},36071:function(G,U,e){G.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(G){G.exports={percent:function(U,e){for(var p=U.length,L=100/e,n=0;n<p;n++)U[n]*=L},probability:function(U,e){for(var p=U.length,L=0;L<p;L++)U[L]/=e},density:function(U,e,p,L){var n=U.length;L=L||1;for(var C=0;C<n;C++)U[C]*=p[C]*L},"probability density":function(U,e,p,L){var n=U.length;L&&(e/=L);for(var C=0;C<n;C++)U[C]*=p[C]/e}}},35361:function(G,U,e){var p=e(7745),L=e(17656),n=e(21606),C=e(9012),w=e(12663).axisHoverFormat,v=e(5386).f,y=e(5386).s,t=e(50693),r=e(1426).extendFlat;G.exports=r({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:r({},p.bingroup,{}),xbingroup:r({},p.bingroup,{}),ybingroup:r({},p.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:r({},C.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(G,U,e){var p=e(71828),L=e(89298),n=e(59575),C=e(36362),w=e(42174),v=e(40965),y=e(72138).calcAllAutoBins;G.exports=function(s,c){var u=L.getFromId(s,c.xaxis),m=L.getFromId(s,c.yaxis),h=c.xcalendar,T=c.ycalendar,f=function(Xe){return u.r2c(Xe,0,h)},o=function(Xe){return m.r2c(Xe,0,T)},d=function(Xe){return u.c2r(Xe,0,h)},M=function(Xe){return m.c2r(Xe,0,T)},A,E,g,S,b=y(s,c,u,"x"),i=b[0],P=b[1],x=y(s,c,m,"y"),k=x[0],_=x[1],B=c._length;P.length>B&&P.splice(B,P.length-B),_.length>B&&_.splice(B,_.length-B);var I=[],z=[],O=[],F=typeof i.size=="string",N=typeof k.size=="string",Q=[],$=[],j=F?Q:i,ee=N?$:k,oe=0,Y=[],V=[],W=c.histnorm,X=c.histfunc,re=W.indexOf("density")!==-1,ie=X==="max"||X==="min",K=ie?null:0,q=n.count,le=C[W],ae=!1,he=[],me=[],Me="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Me&&X!=="count"&&(ae=X==="avg",q=n[X]);var xe=i.size,Ie=f(i.start),_e=f(i.end)+(Ie-L.tickIncrement(Ie,xe,!1,h))/1e6;for(A=Ie;A<_e;A=L.tickIncrement(A,xe,!1,h))z.push(K),Q.push(A),ae&&O.push(0);Q.push(A);var Te=z.length,ye=(A-Ie)/Te,Ae=d(Ie+ye/2),Be=k.size,Ue=o(k.start),De=o(k.end)+(Ue-L.tickIncrement(Ue,Be,!1,T))/1e6;for(A=Ue;A<De;A=L.tickIncrement(A,Be,!1,T)){I.push(z.slice()),$.push(A);var He=new Array(Te);for(E=0;E<Te;E++)He[E]=[];V.push(He),ae&&Y.push(O.slice())}$.push(A);var ut=I.length,et=(A-Ue)/ut,Qe=M(Ue+et/2);re&&(he=t(z.length,j,ye,F),me=t(I.length,ee,et,N)),!F&&u.type==="date"&&(j=r(f,j)),!N&&m.type==="date"&&(ee=r(o,ee));var qe=!0,ft=!0,gt=new Array(Te),xt=new Array(ut),Ct=1/0,Je=1/0,ze=1/0,Fe=1/0;for(A=0;A<B;A++){var $e=P[A],at=_[A];g=p.findBin($e,j),S=p.findBin(at,ee),g>=0&&g<Te&&S>=0&&S<ut&&(oe+=q(g,A,I[S],Me,Y[S]),V[S][g].push(A),qe&&(gt[g]===void 0?gt[g]=$e:gt[g]!==$e&&(qe=!1)),ft&&(xt[S]===void 0?xt[S]=at:xt[S]!==at&&(ft=!1)),Ct=Math.min(Ct,$e-Q[g]),Je=Math.min(Je,Q[g+1]-$e),ze=Math.min(ze,at-$[S]),Fe=Math.min(Fe,$[S+1]-at))}if(ae)for(S=0;S<ut;S++)oe+=w(I[S],Y[S]);if(le)for(S=0;S<ut;S++)le(I[S],oe,he,me[S]);return{x:P,xRanges:l(Q,qe&&gt,Ct,Je,u,h),x0:Ae,dx:ye,y:_,yRanges:l($,ft&&xt,ze,Fe,m,T),y0:Qe,dy:et,z:I,pts:V}};function t(a,s,c,u){var m=new Array(a),h;if(u)for(h=0;h<a;h++)m[h]=1/(s[h+1]-s[h]);else{var T=1/c;for(h=0;h<a;h++)m[h]=T}return m}function r(a,s){return{start:a(s.start),end:a(s.end),size:s.size}}function l(a,s,c,u,m,h){var T,f=a.length-1,o=new Array(f),d=v(c,u,a,m,h);for(T=0;T<f;T++){var M=(s||[])[T];o[T]=M===void 0?[d(a[T]),d(a[T+1],!0)]:[M,M]}return o}},93888:function(G,U,e){var p=e(71828),L=e(75238),n=e(49901),C=e(1586),w=e(58623),v=e(35361);G.exports=function(t,r,l,a){function s(c,u){return p.coerce(t,r,v,c,u)}L(t,r,s,a),r.visible!==!1&&(n(t,r,s,a),C(t,r,a,s,{prefix:"",cLetter:"z"}),s("hovertemplate"),w(s,a),s("xhoverformat"),s("yhoverformat"))}},76128:function(G,U,e){var p=e(46248),L=e(89298).hoverLabelText;G.exports=function(C,w,v,y,t){var r=p(C,w,v,y,t);if(r){C=r[0];var l=C.index,a=l[0],s=l[1],c=C.cd[0],u=c.trace,m=c.xRanges[s],h=c.yRanges[a];return C.xLabel=L(C.xa,[m[0],m[1]],u.xhoverformat),C.yLabel=L(C.ya,[h[0],h[1]],u.yhoverformat),r}}},43905:function(G,U,e){G.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(G,U,e){var p=e(73972),L=e(71828);G.exports=function(C,w,v,y){var t=v("x"),r=v("y"),l=L.minRowLength(t),a=L.minRowLength(r);if(!l||!a){w.visible=!1;return}w._length=Math.min(l,a);var s=p.getComponentMethod("calendars","handleTraceDefaults");s(C,w,["x","y"],y);var c=v("z")||v("marker.color");c&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(G,U,e){var p=e(35361),L=e(70600),n=e(50693),C=e(12663).axisHoverFormat,w=e(1426).extendFlat;G.exports=w({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:w({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(G,U,e){var p=e(71828),L=e(75238),n=e(67217),C=e(8724),w=e(58623),v=e(99066);G.exports=function(t,r,l,a){function s(u,m){return p.coerce(t,r,v,u,m)}function c(u){return p.coerce2(t,r,v,u)}L(t,r,s,a),r.visible!==!1&&(n(t,r,s,c),C(t,r,s,a),s("xhoverformat"),s("yhoverformat"),s("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&w(s,a))}},35902:function(G,U,e){G.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(50693),C=e(27670).Y,w=e(34e3),v=e(57564),y=e(45802),t=e(43473),r=e(1426).extendFlat;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:y.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:y.pathbar,text:w.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:t.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:y.outsidetextfont,textposition:y.textposition,sort:w.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(G,U,e){var p=e(74875);U.name="icicle",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},46584:function(G,U,e){var p=e(52147);U.y=function(L,n){return p.calc(L,n)},U.T=function(L){return p._runCrossTraceCalc("icicle",L)}},56524:function(G,U,e){var p=e(71828),L=e(46291),n=e(7901),C=e(27670).c,w=e(90769).handleText,v=e(97313).TEXTPAD,y=e(21081),t=y.hasColorscale,r=y.handleDefaults;G.exports=function(a,s,c,u){function m(g,S){return p.coerce(a,s,L,g,S)}var h=m("labels"),T=m("parents");if(!h||!h.length||!T||!T.length){s.visible=!1;return}var f=m("values");f&&f.length?m("branchvalues"):m("count"),m("level"),m("maxdepth"),m("tiling.orientation"),m("tiling.flip"),m("tiling.pad");var o=m("text");m("texttemplate"),s.texttemplate||m("textinfo",Array.isArray(o)?"text+label":"label"),m("hovertext"),m("hovertemplate");var d=m("pathbar.visible"),M="auto";w(a,s,u,m,M,{hasPathbar:d,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),m("textposition");var A=m("marker.line.width");A&&m("marker.line.color",u.paper_bgcolor),m("marker.colors");var E=s._hasColorscale=t(a,"marker","colors")||(a.marker||{}).coloraxis;E&&r(a,s,u,m,{prefix:"marker.",cLetter:"c"}),m("leaf.opacity",E?1:.7),s._hovered={marker:{line:{width:2,color:n.contrast(u.paper_bgcolor)}}},d&&(m("pathbar.thickness",s.pathbar.textfont.size+2*v),m("pathbar.side"),m("pathbar.edgeshape")),m("sort"),m("root.color"),C(s,u,m),s._length=null}},90666:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),w=e(21538),v=e(82454).styleOne,y=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,a=!1;G.exports=function(c,u,m,h,T){var f=T.width,o=T.height,d=T.viewX,M=T.viewY,A=T.pathSlice,E=T.toMoveInsideSlice,g=T.strTransform,S=T.hasTransition,b=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,P=T.makeUpdateTextInterpolator,x=T.prevEntry,k={},_=c._context.staticPlot,B=c._fullLayout,I=u[0],z=I.trace,O=z.textposition.indexOf("left")!==-1,F=z.textposition.indexOf("right")!==-1,N=z.textposition.indexOf("bottom")!==-1,Q=w(m,[f,o],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}),$=Q.descendants(),j=1/0,ee=-1/0;$.forEach(function(X){var re=X.depth;re>=z._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(j=Math.min(j,re),ee=Math.max(ee,re))}),h=h.data($,t.getPtId),z._maxVisibleLayers=isFinite(ee)?ee-j+1:0,h.enter().append("g").classed("slice",!0),b(h,a,k,[f,o],A),h.order();var oe=null;if(S&&x){var Y=t.getPtId(x);h.each(function(X){oe===null&&t.getPtId(X)===Y&&(oe={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var V=function(){return oe||{x0:0,x1:f,y0:0,y1:o}},W=h;return S&&(W=W.transition().each("end",function(){var X=p.select(this);t.setSliceCursor(X,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=M(X.y0),X._y1=M(X.y1),X._hoverX=d(X.x1-z.tiling.pad),X._hoverY=M(N?X.y1-z.tiling.pad/2:X.y0+z.tiling.pad/2);var re=p.select(this),ie=L.ensureSingle(re,"path","surface",function(ae){ae.style("pointer-events",_?"none":"all")});S?ie.transition().attrTween("d",function(ae){var he=i(ae,a,V(),[f,o],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(me){return A(he(me))}}):ie.attr("d",A),re.call(r,m,c,u,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),ie.call(v,X,z,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=l(X,m,z,u,B)||"";var K=L.ensureSingle(re,"g","slicetext"),q=L.ensureSingle(K,"text","",function(ae){ae.attr("data-notex",1)}),le=L.ensureUniformFontSize(c,t.determineTextFont(z,X,B.font));q.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O?"start":"middle").call(n.font,le).call(C.convertToTspans,c),X.textBB=n.bBox(q.node()),X.transform=E(X,{fontSize:le.size}),X.transform.fontSize=le.size,S?q.transition().attrTween("transform",function(ae){var he=P(ae,a,V(),[f,o]);return function(me){return g(he(me))}}):q.attr("transform",g(X))}),oe}},69816:function(G,U,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(G,U,e){var p=e(71828),L=e(92894);G.exports=function(C,w){function v(y,t){return p.coerce(C,w,L,y,t)}v("iciclecolorway",w.colorway),v("extendiciclecolors")}},21538:function(G,U,e){var p=e(674),L=e(14102);G.exports=function(C,w,v){var y=v.flipX,t=v.flipY,r=v.orientation==="h",l=v.maxDepth,a=w[0],s=w[1];l&&(a=(C.height+1)*w[0]/Math.min(C.height+1,l),s=(C.height+1)*w[1]/Math.min(C.height+1,l));var c=p.partition().padding(v.pad.inner).size(r?[w[1],a]:[w[0],s])(C);return(r||y||t)&&L(c,w,{swapXY:r,flipX:y,flipY:t}),c}},85596:function(G,U,e){var p=e(80694),L=e(90666);G.exports=function(C,w,v,y){return p(C,w,v,y,{type:"icicle",drawDescendants:L})}},82454:function(G,U,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText;function w(y){var t=y._fullLayout._iciclelayer.selectAll(".trace");C(y,t,"icicle"),t.each(function(r){var l=p.select(this),a=r[0],s=a.trace;l.style("opacity",s.opacity),l.selectAll("path.surface").each(function(c){p.select(this).call(v,c,s)})})}function v(y,t,r){var l=t.data.data,a=!t.children,s=l.i,c=n.castOption(r,s,"marker.line.color")||L.defaultLine,u=n.castOption(r,s,"marker.line.width")||0;y.style("stroke-width",u).call(L.fill,l.color).call(L.stroke,c).style("opacity",a?r.leaf.opacity:null)}G.exports={style:w,styleOne:v}},17230:function(G,U,e){for(var p=e(9012),L=e(5386).f,n=e(1426).extendFlat,C=e(51877).colormodel,w=["rgb","rgba","rgba256","hsl","hsla"],v=[],y=[],t=0;t<w.length;t++){var r=C[w[t]];v.push("For the `"+w[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),y.push("For the `"+w[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}G.exports=n({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:w,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:n({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(G,U,e){var p=e(71828),L=e(51877),n=e(92770),C=e(89298),w=e(71828).maxRowLength,v=e(67395).A;G.exports=function(a,s){var c,u;if(s._hasZ)c=s.z.length,u=w(s.z);else if(s._hasSource){var m=v(s.source);c=m.height,u=m.width}var h=C.getFromId(a,s.xaxis||"x"),T=C.getFromId(a,s.yaxis||"y"),f=h.d2c(s.x0)-s.dx/2,o=T.d2c(s.y0)-s.dy/2,d,M=[f,f+u*s.dx],A=[o,o+c*s.dy];if(h&&h.type==="log")for(d=0;d<u;d++)M.push(f+d*s.dx);if(T&&T.type==="log")for(d=0;d<c;d++)A.push(o+d*s.dy);s._extremes[h._id]=C.findExtremes(h,M),s._extremes[T._id]=C.findExtremes(T,A),s._scaler=r(s);var E={x0:f,y0:o,z:s.z,w:u,h:c};return[E]};function y(l,a,s,c){return function(u){return p.constrain((u-l)*a,s,c)}}function t(l,a){return function(s){return p.constrain(s,l,a)}}function r(l){var a=L.colormodel[l.colormodel],s=a.colormodel||l.colormodel,c=s.length;l._sArray=[];for(var u=0;u<c;u++)a.min[u]!==l.zmin[u]||a.max[u]!==l.zmax[u]?l._sArray.push(y(l.zmin[u],(a.max[u]-a.min[u])/(l.zmax[u]-l.zmin[u]),a.min[u],a.max[u])):l._sArray.push(t(a.min[u],a.max[u]));return function(m){for(var h=m.slice(0,c),T=0;T<c;T++){var f=h[T];if(!n(f))return!1;h[T]=l._sArray[T](f)}return h}}},51877:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}},pixelatedStyle:["image-rendering: optimizeSpeed","image-rendering: -moz-crisp-edges","image-rendering: -o-crisp-edges","image-rendering: -webkit-optimize-contrast","image-rendering: optimize-contrast","image-rendering: crisp-edges","image-rendering: pixelated",""].join("; ")}},13245:function(G,U,e){var p=e(71828),L=e(17230),n=e(51877),C=e(25095).IMAGE_URL_PREFIX;G.exports=function(v,y){function t(a,s){return p.coerce(v,y,L,a,s)}t("source"),y.source&&!y.source.match(C)&&delete y.source,y._hasSource=!!y.source;var r=t("z");if(y._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!y._hasZ&&!y._hasSource){y.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var l;y._hasZ?(t("colormodel","rgb"),l=n.colormodel[y.colormodel],t("zmin",l.zminDflt||l.min),t("zmax",l.zmaxDflt||l.max)):y._hasSource&&(y.colormodel="rgba256",l=n.colormodel[y.colormodel],y.zmin=l.zminDflt,y.zmax=l.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),y._length=null}},30835:function(G){G.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},67395:function(G,U,e){var p=e(33575),L=e(25095).IMAGE_URL_PREFIX,n=e(12856).Buffer;U.A=function(C){var w=C.replace(L,""),v=new n(w,"base64");return p(v)}},28749:function(G,U,e){var p=e(30211),L=e(71828),n=e(51877);G.exports=function(w,v,y){var t=w.cd[0],r=t.trace,l=w.xa,a=w.ya;if(!(p.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||p.inbox(y-t.y0,y-(t.y0+t.h*r.dy),0)>0)){var s=Math.floor((v-t.x0)/r.dx),c=Math.floor(Math.abs(y-t.y0)/r.dy),u;if(r._hasZ?u=t.z[c][s]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,c,1,1).data),!!u){var m=t.hi||r.hoverinfo,h;if(m){var T=m.split("+");T.indexOf("all")!==-1&&(T=["color"]),T.indexOf("color")!==-1&&(h=!0)}var f=n.colormodel[r.colormodel],o=f.colormodel||r.colormodel,d=o.length,M=r._scaler(u),A=f.suffix,E=[];(r.hovertemplate||h)&&(E.push("["+[M[0]+A[0],M[1]+A[1],M[2]+A[2]].join(", ")),d===4&&E.push(", "+M[3]+A[3]),E.push("]"),E=E.join(""),w.extraText=o.toUpperCase()+": "+E);var g;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?g=r.hovertext[c][s]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(g=r.text[c][s]);var S=a.c2p(t.y0+(c+.5)*r.dy),b=t.x0+(s+.5)*r.dx,i=t.y0+(c+.5)*r.dy,P="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[L.extendFlat(w,{index:[c,s],x0:l.c2p(t.x0+s*r.dx),x1:l.c2p(t.x0+(s+1)*r.dx),y0:S,y1:S,color:M,xVal:b,xLabelVal:b,yVal:i,yLabelVal:i,zLabelVal:P,text:g,hovertemplateLabels:{zLabel:P,colorLabel:E,"color[0]Label":M[0]+A[0],"color[1]Label":M[1]+A[1],"color[2]Label":M[2]+A[2],"color[3]Label":M[3]+A[3]}})]}}}},94507:function(G,U,e){G.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(G,U,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),w=e(51877),v=L.isIOS()||L.isSafari()||L.isIE();G.exports=function(t,r,l,a){var s=r.xaxis,c=r.yaxis,u=!(v||t._context._exportedPlot);L.makeTraceGroups(a,l,"im").each(function(m){var h=p.select(this),T=m[0],f=T.trace,o=(f.zsmooth==="fast"||f.zsmooth===!1&&u)&&!f._hasZ&&f._hasSource&&s.type==="linear"&&c.type==="linear";f._realImage=o;var d=T.z,M=T.x0,A=T.y0,E=T.w,g=T.h,S=f.dx,b=f.dy,i,P,x,k,_,B;for(B=0;i===void 0&&B<E;)i=s.c2p(M+B*S),B++;for(B=E;P===void 0&&B>0;)P=s.c2p(M+B*S),B--;for(B=0;k===void 0&&B<g;)k=c.c2p(A+B*b),B++;for(B=g;_===void 0&&B>0;)_=c.c2p(A+B*b),B--;if(P<i&&(x=P,P=i,i=x),_<k&&(x=k,k=_,_=x),!o){var I=.5;i=Math.max(-I*s._length,i),P=Math.min((1+I)*s._length,P),k=Math.max(-I*c._length,k),_=Math.min((1+I)*c._length,_)}var z=Math.round(P-i),O=Math.round(_-k),F=z<=0||O<=0;if(F){var N=h.selectAll("image").data([]);N.exit().remove();return}function Q(ie){var K=document.createElement("canvas");K.width=z,K.height=O;var q=K.getContext("2d",{willReadFrequently:!0}),le=function(Be){return L.constrain(Math.round(s.c2p(M+Be*S)-i),0,z)},ae=function(Be){return L.constrain(Math.round(c.c2p(A+Be*b)-k),0,O)},he=w.colormodel[f.colormodel],me=he.colormodel||f.colormodel,Me=he.fmt,xe;for(B=0;B<T.w;B++){var Ie=le(B),_e=le(B+1);if(!(_e===Ie||isNaN(_e)||isNaN(Ie)))for(var Te=0;Te<T.h;Te++){var ye=ae(Te),Ae=ae(Te+1);Ae===ye||isNaN(Ae)||isNaN(ye)||!ie(B,Te)||(xe=f._scaler(ie(B,Te)),xe?q.fillStyle=me+"("+Me(xe).join(",")+")":q.fillStyle="rgba(0,0,0,0)",q.fillRect(Ie,ye,_e-Ie,Ae-ye))}}return K}var $=h.selectAll("image").data([m]);$.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),$.exit().remove();var j=f.zsmooth===!1?w.pixelatedStyle:"";if(o){var ee=L.simpleMap(s.range,s.r2l),oe=L.simpleMap(c.range,c.r2l),Y=ee[1]<ee[0],V=oe[1]>oe[0];if(Y||V){var W=i+z/2,X=k+O/2;j+="transform:"+n(W+"px",X+"px")+"scale("+(Y?-1:1)+","+(V?-1:1)+")"+n(-W+"px",-X+"px")+";"}}$.attr("style",j);var re=new Promise(function(ie){if(f._hasZ)ie();else if(f._hasSource)if(f._canvas&&f._canvas.el.width===E&&f._canvas.el.height===g&&f._canvas.source===f.source)ie();else{var K=document.createElement("canvas");K.width=E,K.height=g;var q=K.getContext("2d",{willReadFrequently:!0});f._image=f._image||new Image;var le=f._image;le.onload=function(){q.drawImage(le,0,0),f._canvas={el:K,source:f.source},ie()},le.setAttribute("src",f.source)}}).then(function(){var ie,K;if(f._hasZ)K=Q(function(ae,he){return d[he][ae]}),ie=K.toDataURL("image/png");else if(f._hasSource)if(o)ie=f.source;else{var q=f._canvas.el.getContext("2d",{willReadFrequently:!0}),le=q.getImageData(0,0,E,g).data;K=Q(function(ae,he){var me=4*(he*E+ae);return[le[me],le[me+1],le[me+2],le[me+3]]}),ie=K.toDataURL("image/png")}$.attr({"xlink:href":ie,height:O,width:z,x:i,y:k})});t._promises.push(re)})}},12826:function(G,U,e){var p=e(39898);G.exports=function(n){p.select(n).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(G,U,e){var p=e(1426).extendFlat,L=e(1426).extendDeep,n=e(30962).overrideAll,C=e(41940),w=e(22399),v=e(27670).Y,y=e(13838),t=e(44467).templatedArray,r=e(22372),l=e(12663).descriptionOnlyNumbers,a=C({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:w.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",L({},s,{range:c}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:c,visible:p({},y.visible,{dflt:!0}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:p({},y.ticks,{dflt:"outside"}),ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:C({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:p({},s.line.color,{}),width:p({},s.line.width,{dflt:1}),editType:"plot"},thickness:p({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(G,U,e){var p=e(74875);U.name="indicator",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},24667:function(G){function U(e,p){var L=[],n=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,w=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(w=p.delta.reference),L[0]={y:n,lastY:C,delta:n-w,relativeDelta:(n-w)/w},L}G.exports={calc:U}},84577:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(G,U,e){var p=e(71828),L=e(54846),n=e(27670).c,C=e(44467),w=e(85501),v=e(84577),y=e(26218),t=e(38701),r=e(96115),l=e(89426);function a(c,u,m,h){function T(B,I){return p.coerce(c,u,L,B,I)}n(u,h,T),T("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var f=T("value");u._range=[0,typeof f=="number"?1.5*f:1];var o=new Array(2),d;u._hasNumber&&(T("number.valueformat"),T("number.font.color",h.font.color),T("number.font.family",h.font.family),T("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,o[0]=!0),T("number.prefix"),T("number.suffix"),d=u.number.font.size);var M;u._hasDelta&&(T("delta.font.color",h.font.color),T("delta.font.family",h.font.family),T("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),T("delta.reference",u.value),T("delta.relative"),T("delta.valueformat",u.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),M=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,T("title.font.color",h.font.color),T("title.font.family",h.font.family),T("title.font.size",.25*(d||M||v.defaultNumberFontSize)),T("title.text");var A,E,g,S;function b(B,I){return p.coerce(A,E,L.gauge,B,I)}function i(B,I){return p.coerce(g,S,L.gauge.axis,B,I)}if(u._hasGauge){A=c.gauge,A||(A={}),E=C.newContainer(u,"gauge"),b("shape");var P=u._isBullet=u.gauge.shape==="bullet";P||T("title.align","center");var x=u._isAngular=u.gauge.shape==="angular";x||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var k=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);b("bar.thickness",k),w(A,E,{name:"steps",handleItemDefaults:s}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),g={},A&&(g=A.axis||{}),S=C.newContainer(E,"axis"),i("visible"),u._range=i("range",u._range);var _={outerTicks:!0};y(g,S,i,"linear"),l(g,S,i,"linear",_),r(g,S,i,"linear",_),t(g,S,i,_)}else T("title.align","center"),T("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function s(c,u){function m(h,T){return p.coerce(c,u,L.gauge.steps,h,T)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}G.exports={supplyDefaults:a}},15154:function(G,U,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(G,U,e){var p=e(39898),L=e(81684).sX,n=e(81684).k4,C=e(71828),w=C.strScale,v=C.strTranslate,y=C.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),l=e(84577),a=e(63893),s=e(89298),c=e(71453),u=e(52830),m=e(13838),h=e(7901),T={left:"start",center:"middle",right:"end"},f={left:0,center:.5,right:1},o=/[yzafpnµmkMGTPEZY]/;function d(_){return _&&_.duration>0}G.exports=function(B,I,z,O){var F=B._fullLayout,N;d(z)&&O&&(N=O()),C.makeTraceGroups(F._indicatorlayer,I,"trace").each(function(Q){var $=Q[0],j=$.trace,ee=p.select(this),oe=j._hasGauge,Y=j._isAngular,V=j._isBullet,W=j.domain,X={w:F._size.w*(W.x[1]-W.x[0]),h:F._size.h*(W.y[1]-W.y[0]),l:F._size.l+F._size.w*W.x[0],r:F._size.r+F._size.w*(1-W.x[1]),t:F._size.t+F._size.h*(1-W.y[1]),b:F._size.b+F._size.h*W.y[0]},re=X.l+X.w/2,ie=X.t+X.h/2,K=Math.min(X.w/2,X.h),q=l.innerRadius*K,le,ae,he,me=j.align||"center";if(ae=ie,!oe)le=X.l+f[me]*X.w,he=function(De){return i(De,X.w,X.h)};else if(Y&&(le=re,ae=ie+K/2,he=function(De){return P(De,.9*q)}),V){var Me=l.bulletPadding,xe=1-l.bulletNumberDomainSize+Me;le=X.l+(xe+(1-xe)*f[me])*X.w,he=function(De){return i(De,(l.bulletNumberDomainSize-Me)*X.w,X.h)}}E(B,ee,Q,{numbersX:le,numbersY:ae,numbersScaler:he,transitionOpts:z,onComplete:N});var Ie,_e;oe&&(Ie={range:j.gauge.axis.range,color:j.gauge.bgcolor,line:{color:j.gauge.bordercolor,width:0},thickness:1},_e={range:j.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:j.gauge.bordercolor,width:j.gauge.borderwidth},thickness:1});var Te=ee.selectAll("g.angular").data(Y?Q:[]);Te.exit().remove();var ye=ee.selectAll("g.angularaxis").data(Y?Q:[]);ye.exit().remove(),Y&&A(B,ee,Q,{radius:K,innerRadius:q,gauge:Te,layer:ye,size:X,gaugeBg:Ie,gaugeOutline:_e,transitionOpts:z,onComplete:N});var Ae=ee.selectAll("g.bullet").data(V?Q:[]);Ae.exit().remove();var Be=ee.selectAll("g.bulletaxis").data(V?Q:[]);Be.exit().remove(),V&&M(B,ee,Q,{gauge:Ae,layer:Be,size:X,gaugeBg:Ie,gaugeOutline:_e,transitionOpts:z,onComplete:N});var Ue=ee.selectAll("text.title").data(Q);Ue.exit().remove(),Ue.enter().append("text").classed("title",!0),Ue.attr("text-anchor",function(){return V?T.right:T[j.title.align]}).text(j.title.text).call(r.font,j.title.font).call(a.convertToTspans,B),Ue.attr("transform",function(){var De=X.l+X.w*f[j.title.align],He,ut=l.titlePadding,et=r.bBox(Ue.node());if(oe){if(Y)if(j.gauge.axis.visible){var Qe=r.bBox(ye.node());He=Qe.top-ut-et.bottom}else He=X.t+X.h/2-K/2-et.bottom-ut;V&&(He=ae-(et.top+et.bottom)/2,De=X.l-l.bulletPadding*X.w)}else He=j._numbersTop-ut-et.bottom;return v(De,He)})})};function M(_,B,I,z){var O=I[0].trace,F=z.gauge,N=z.layer,Q=z.gaugeBg,$=z.gaugeOutline,j=z.size,ee=O.domain,oe=z.transitionOpts,Y=z.onComplete,V,W,X,re,ie;F.enter().append("g").classed("bullet",!0),F.attr("transform",v(j.l,j.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var K=j.h,q=O.gauge.bar.thickness*K,le=ee.x[0],ae=ee.x[0]+(ee.x[1]-ee.x[0])*(O._hasNumber||O._hasDelta?1-l.bulletNumberDomainSize:1);V=b(_,O.gauge.axis),V._id="xbulletaxis",V.domain=[le,ae],V.setScale(),W=s.calcTicks(V),X=s.makeTransTickFn(V),re=s.getTickSigns(V)[2],ie=j.t+j.h,V.visible&&(s.drawTicks(_,V,{vals:V.ticks==="inside"?s.clipEnds(V,W):W,layer:N,path:s.makeTickPath(V,ie,re),transFn:X}),s.drawLabels(_,V,{vals:W,layer:N,transFn:X,labelFns:s.makeLabelFns(V,ie)}));function he(ye){ye.attr("width",function(Ae){return Math.max(0,V.c2p(Ae.range[1])-V.c2p(Ae.range[0]))}).attr("x",function(Ae){return V.c2p(Ae.range[0])}).attr("y",function(Ae){return .5*(1-Ae.thickness)*K}).attr("height",function(Ae){return Ae.thickness*K})}var me=[Q].concat(O.gauge.steps),Me=F.selectAll("g.bg-bullet").data(me);Me.enter().append("g").classed("bg-bullet",!0).append("rect"),Me.select("rect").call(he).call(g),Me.exit().remove();var xe=F.selectAll("g.value-bullet").data([O.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",q).attr("y",(K-q)/2).call(g),d(oe)?xe.select("rect").transition().duration(oe.duration).ease(oe.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()}).attr("width",Math.max(0,V.c2p(Math.min(O.gauge.axis.range[1],I[0].y)))):xe.select("rect").attr("width",typeof I[0].y=="number"?Math.max(0,V.c2p(Math.min(O.gauge.axis.range[1],I[0].y))):0),xe.exit().remove();var Ie=I.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),_e=F.selectAll("g.threshold-bullet").data(Ie);_e.enter().append("g").classed("threshold-bullet",!0).append("line"),_e.select("line").attr("x1",V.c2p(O.gauge.threshold.value)).attr("x2",V.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*K).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*K).call(h.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),_e.exit().remove();var Te=F.selectAll("g.gauge-outline").data([$]);Te.enter().append("g").classed("gauge-outline",!0).append("rect"),Te.select("rect").call(he).call(g),Te.exit().remove()}function A(_,B,I,z){var O=I[0].trace,F=z.size,N=z.radius,Q=z.innerRadius,$=z.gaugeBg,j=z.gaugeOutline,ee=[F.l+F.w/2,F.t+F.h/2+N/2],oe=z.gauge,Y=z.layer,V=z.transitionOpts,W=z.onComplete,X=Math.PI/2;function re(qe){var ft=O.gauge.axis.range[0],gt=O.gauge.axis.range[1],xt=(qe-ft)/(gt-ft)*Math.PI-X;return xt<-X?-X:xt>X?X:xt}function ie(qe){return p.svg.arc().innerRadius((Q+N)/2-qe/2*(N-Q)).outerRadius((Q+N)/2+qe/2*(N-Q)).startAngle(-X)}function K(qe){qe.attr("d",function(ft){return ie(ft.thickness).startAngle(re(ft.range[0])).endAngle(re(ft.range[1]))()})}var q,le,ae,he;oe.enter().append("g").classed("angular",!0),oe.attr("transform",v(ee[0],ee[1])),Y.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Y.selectAll("g.xangularaxistick,path,text").remove(),q=b(_,O.gauge.axis),q.type="linear",q.range=O.gauge.axis.range,q._id="xangularaxis",q.ticklabeloverflow="allow",q.setScale();var me=function(qe){return(q.range[0]-qe.x)/(q.range[1]-q.range[0])*Math.PI+Math.PI},Me={},xe=s.makeLabelFns(q,0),Ie=xe.labelStandoff;Me.xFn=function(qe){var ft=me(qe);return Math.cos(ft)*Ie},Me.yFn=function(qe){var ft=me(qe),gt=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Ie+qe.fontSize*gt)+Math.abs(Math.cos(ft))*(qe.fontSize*t)},Me.anchorFn=function(qe){var ft=me(qe),gt=Math.cos(ft);return Math.abs(gt)<.1?"middle":gt>0?"start":"end"},Me.heightFn=function(qe,ft,gt){var xt=me(qe);return-.5*(1+Math.sin(xt))*gt};var _e=function(qe){return v(ee[0]+N*Math.cos(qe),ee[1]-N*Math.sin(qe))};ae=function(qe){return _e(me(qe))};var Te=function(qe){var ft=me(qe);return _e(ft)+"rotate("+-y(ft)+")"};if(le=s.calcTicks(q),he=s.getTickSigns(q)[2],q.visible){he=q.ticks==="inside"?-1:1;var ye=(q.linewidth||1)/2;s.drawTicks(_,q,{vals:le,layer:Y,path:"M"+he*ye+",0h"+he*q.ticklen,transFn:Te}),s.drawLabels(_,q,{vals:le,layer:Y,transFn:ae,labelFns:Me})}var Ae=[$].concat(O.gauge.steps),Be=oe.selectAll("g.bg-arc").data(Ae);Be.enter().append("g").classed("bg-arc",!0).append("path"),Be.select("path").call(K).call(g),Be.exit().remove();var Ue=ie(O.gauge.bar.thickness),De=oe.selectAll("g.value-arc").data([O.gauge.bar]);De.enter().append("g").classed("value-arc",!0).append("path");var He=De.select("path");d(V)?(He.transition().duration(V.duration).ease(V.easing).each("end",function(){W&&W()}).each("interrupt",function(){W&&W()}).attrTween("d",S(Ue,re(I[0].lastY),re(I[0].y))),O._lastValue=I[0].y):He.attr("d",typeof I[0].y=="number"?Ue.endAngle(re(I[0].y)):"M0,0Z"),He.call(g),De.exit().remove(),Ae=[];var ut=O.gauge.threshold.value;(ut||ut===0)&&Ae.push({range:[ut,ut],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var et=oe.selectAll("g.threshold-arc").data(Ae);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(K).call(g),et.exit().remove();var Qe=oe.selectAll("g.gauge-outline").data([j]);Qe.enter().append("g").classed("gauge-outline",!0).append("path"),Qe.select("path").call(K).call(g),Qe.exit().remove()}function E(_,B,I,z){var O=I[0].trace,F=z.numbersX,N=z.numbersY,Q=O.align||"center",$=T[Q],j=z.transitionOpts,ee=z.onComplete,oe=C.ensureSingle(B,"g","numbers"),Y,V,W,X=[];O._hasNumber&&X.push("number"),O._hasDelta&&(X.push("delta"),O.delta.position==="left"&&X.reverse());var re=oe.selectAll("text").data(X);re.enter().append("text"),re.attr("text-anchor",function(){return $}).attr("class",function(_e){return _e}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),re.exit().remove();function ie(_e,Te,ye,Ae){if(_e.match("s")&&ye>=0!=Ae>=0&&!Te(ye).slice(-1).match(o)&&!Te(Ae).slice(-1).match(o)){var Be=_e.slice().replace("s","f").replace(/\d+/,function(De){return parseInt(De)-1}),Ue=b(_,{tickformat:Be});return function(De){return Math.abs(De)<1?s.tickText(Ue,De).text:Te(De)}}else return Te}function K(){var _e=b(_,{tickformat:O.number.valueformat},O._range);_e.setScale(),s.prepTicks(_e);var Te=function(De){return s.tickText(_e,De).text},ye=O.number.suffix,Ae=O.number.prefix,Be=oe.select("text.number");function Ue(){var De=typeof I[0].y=="number"?Ae+Te(I[0].y)+ye:"-";Be.text(De).call(r.font,O.number.font).call(a.convertToTspans,_)}return d(j)?Be.transition().duration(j.duration).ease(j.easing).each("end",function(){Ue(),ee&&ee()}).each("interrupt",function(){Ue(),ee&&ee()}).attrTween("text",function(){var De=p.select(this),He=n(I[0].lastY,I[0].y);O._lastValue=I[0].y;var ut=ie(O.number.valueformat,Te,I[0].lastY,I[0].y);return function(et){De.text(Ae+ut(He(et))+ye)}}):Ue(),Y=x(Ae+Te(I[0].y)+ye,O.number.font,$,_),Be}function q(){var _e=b(_,{tickformat:O.delta.valueformat},O._range);_e.setScale(),s.prepTicks(_e);var Te=function(et){return s.tickText(_e,et).text},ye=O.delta.suffix,Ae=O.delta.prefix,Be=function(et){var Qe=O.delta.relative?et.relativeDelta:et.delta;return Qe},Ue=function(et,Qe){return et===0||typeof et!="number"||isNaN(et)?"-":(et>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+Ae+Qe(et)+ye},De=function(et){return et.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Be(I[0]));var He=oe.select("text.delta");He.call(r.font,O.delta.font).call(h.fill,De({delta:O._deltaLastValue}));function ut(){He.text(Ue(Be(I[0]),Te)).call(h.fill,De(I[0])).call(a.convertToTspans,_)}return d(j)?He.transition().duration(j.duration).ease(j.easing).tween("text",function(){var et=p.select(this),Qe=Be(I[0]),qe=O._deltaLastValue,ft=ie(O.delta.valueformat,Te,qe,Qe),gt=n(qe,Qe);return O._deltaLastValue=Qe,function(xt){et.text(Ue(gt(xt),ft)),et.call(h.fill,De({delta:gt(xt)}))}}).each("end",function(){ut(),ee&&ee()}).each("interrupt",function(){ut(),ee&&ee()}):ut(),V=x(Ue(Be(I[0]),Te),O.delta.font,$,_),He}var le=O.mode+O.align,ae;if(O._hasDelta&&(ae=q(),le+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,le+=O.delta.increasing.symbol+O.delta.decreasing.symbol,W=V),O._hasNumber&&(K(),le+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,W=Y),O._hasDelta&&O._hasNumber){var he=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],me=[(V.left+V.right)/2,(V.top+V.bottom)/2],Me,xe,Ie=.75*O.delta.font.size;O.delta.position==="left"&&(Me=k(O,"deltaPos",0,-1*(Y.width*f[O.align]+V.width*(1-f[O.align])+Ie),le,Math.min),xe=he[1]-me[1],W={width:Y.width+V.width+Ie,height:Math.max(Y.height,V.height),left:V.left+Me,right:Y.right,top:Math.min(Y.top,V.top+xe),bottom:Math.max(Y.bottom,V.bottom+xe)}),O.delta.position==="right"&&(Me=k(O,"deltaPos",0,Y.width*(1-f[O.align])+V.width*f[O.align]+Ie,le,Math.max),xe=he[1]-me[1],W={width:Y.width+V.width+Ie,height:Math.max(Y.height,V.height),left:Y.left,right:V.right+Me,top:Math.min(Y.top,V.top+xe),bottom:Math.max(Y.bottom,V.bottom+xe)}),O.delta.position==="bottom"&&(Me=null,xe=V.height,W={width:Math.max(Y.width,V.width),height:Y.height+V.height,left:Math.min(Y.left,V.left),right:Math.max(Y.right,V.right),top:Y.bottom-Y.height,bottom:Y.bottom+V.height}),O.delta.position==="top"&&(Me=null,xe=Y.top,W={width:Math.max(Y.width,V.width),height:Y.height+V.height,left:Math.min(Y.left,V.left),right:Math.max(Y.right,V.right),top:Y.bottom-Y.height-V.height,bottom:Y.bottom}),ae.attr({dx:Me,dy:xe})}(O._hasNumber||O._hasDelta)&&oe.attr("transform",function(){var _e=z.numbersScaler(W);le+=_e[2];var Te=k(O,"numbersScale",1,_e[0],le,Math.min),ye;O._scaleNumbers||(Te=1),O._isAngular?ye=N-Te*W.bottom:ye=N-Te*(W.top+W.bottom)/2,O._numbersTop=Te*W.top+ye;var Ae=W[Q];Q==="center"&&(Ae=(W.left+W.right)/2);var Be=F-Te*Ae;return Be=k(O,"numbersTranslate",0,Be,le,Math.max),v(Be,ye)+w(Te)})}function g(_){_.each(function(B){h.stroke(p.select(this),B.line.color)}).each(function(B){h.fill(p.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function S(_,B,I){return function(){var z=L(B,I);return function(O){return _.endAngle(z(O))()}}}function b(_,B,I){var z=_._fullLayout,O=C.extendFlat({type:"linear",ticks:"outside",range:I,showline:!0},B),F={type:"linear",_id:"x"+B._id},N={letter:"x",font:z.font,noHover:!0,noTickson:!0};function Q($,j){return C.coerce(O,F,m,$,j)}return c(O,F,Q,N,z),u(O,F,Q,N),F}function i(_,B,I){var z=Math.min(B/_.width,I/_.height);return[z,_,B+"x"+I]}function P(_,B){var I=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),z=B/I;return[z,_,B]}function x(_,B,I,z){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),F=p.select(O);return F.text(_).attr("x",0).attr("y",0).attr("text-anchor",I).attr("data-unformatted",_).call(a.convertToTspans,z).call(r.font,B),r.bBox(F.node())}function k(_,B,I,z,O,F){var N="_cache"+B;_[N]&&_[N].key===O||(_[N]={key:O,value:I});var Q=C.aggNums(F,null,[_[N].value,z],2);return _[N].value=Q,Q}},16249:function(G,U,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(2418),w=e(9012),v=e(1426).extendFlat,y=e(30962).overrideAll;function t(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var l=G.exports=y(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},w.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},w.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},56959:function(G,U,e){var p=e(78803),L=e(88489).processGrid,n=e(88489).filter;G.exports=function(w,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=n(v.x,v._len),v._y=n(v.y,v._len),v._z=n(v.z,v._len),v._value=n(v.value,v._len);var y=L(v);v._gridFill=y.fill,v._Xs=y.Xs,v._Ys=y.Ys,v._Zs=y.Zs,v._len=y.len;for(var t=1/0,r=-1/0,l=0;l<v._len;l++){var a=v._value[l];t=Math.min(t,a),r=Math.max(r,a)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,p(w,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(G,U,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(78614),C=e(21081).extractOpts,w=e(90060),v=function(s,c){for(var u=c.length-1;u>0;u--){var m=Math.min(c[u],c[u-1]),h=Math.max(c[u],c[u-1]);if(h>m&&m<s&&s<=h)return{id:u,distRatio:(h-s)/(h-m)}}return{id:0,distRatio:0}};function y(s,c,u){this.scene=s,this.uid=u,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var t=y.prototype;t.handlePick=function(s){if(s.object===this.mesh){var c=s.data.index,u=this.data._meshX[c],m=this.data._meshY[c],h=this.data._meshZ[c],T=this.data._Ys.length,f=this.data._Zs.length,o=v(u,this.data._Xs).id,d=v(m,this.data._Ys).id,M=v(h,this.data._Zs).id,A=s.index=M+f*d+f*T*o;s.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var E=this.data.hovertext||this.data.text;return Array.isArray(E)&&E[A]!==void 0?s.textLabel=E[A]:E&&(s.textLabel=E),!0}},t.update=function(s){var c=this.scene,u=c.fullSceneLayout;this.data=l(s);function m(d,M,A,E){return M.map(function(g){return d.d2l(g,0,E)*A})}var h=w(m(u.xaxis,s._meshX,c.dataScale[0],s.xcalendar),m(u.yaxis,s._meshY,c.dataScale[1],s.ycalendar),m(u.zaxis,s._meshZ,c.dataScale[2],s.zcalendar)),T=w(s._meshI,s._meshJ,s._meshK),f={positions:h,cells:T,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:n(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},o=C(s);f.vertexIntensity=s._meshIntensity,f.vertexIntensityBounds=[o.min,o.max],f.colormap=L(s),this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function l(s){s._meshI=[],s._meshJ=[],s._meshK=[];var c=s.surface.show,u=s.spaceframe.show,m=s.surface.fill,h=s.spaceframe.fill,T=!1,f=!1,o=0,d,M,A=s._Xs,E=s._Ys,g=s._Zs,S=A.length,b=E.length,i=g.length,P=r.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),x=function($e,at,Xe){switch(P){case 5:return Xe+i*at+i*b*$e;case 4:return Xe+i*$e+i*S*at;case 3:return at+b*Xe+b*i*$e;case 2:return at+b*$e+b*S*Xe;case 1:return $e+S*Xe+S*i*at;default:return $e+S*at+S*b*Xe}},k=s._minValues,_=s._maxValues,B=s._vMin,I=s._vMax,z,O,F,N;function Q($e,at,Xe){for(var Pe=N.length,we=M;we<Pe;we++)if($e===z[we]&&at===O[we]&&Xe===F[we])return we;return-1}function $(){M=d}function j(){z=[],O=[],F=[],N=[],d=0,$()}function ee($e,at,Xe,Pe){return z.push($e),O.push(at),F.push(Xe),N.push(Pe),d++,d-1}function oe($e,at,Xe){return s._meshI.push($e),s._meshJ.push(at),s._meshK.push(Xe),o++,o-1}function Y($e,at,Xe){for(var Pe=[],we=0;we<$e.length;we++)Pe[we]=($e[we]+at[we]+Xe[we])/3;return Pe}function V($e,at,Xe){for(var Pe=[],we=0;we<$e.length;we++)Pe[we]=$e[we]*(1-Xe)+Xe*at[we];return Pe}var W;function X($e){W=$e}function re($e,at){var Xe=$e[0],Pe=$e[1],we=$e[2],ue=Y(Xe,Pe,we),ge=Math.sqrt(1-W),Le=V(ue,Xe,ge),ke=V(ue,Pe,ge),it=V(ue,we,ge),lt=at[0],bt=at[1],Rt=at[2];return{xyzv:[[Xe,Pe,ke],[ke,Le,Xe],[Pe,we,it],[it,ke,Pe],[we,Xe,Le],[Le,it,we]],abc:[[lt,bt,-1],[-1,-1,lt],[bt,Rt,-1],[-1,-1,bt],[Rt,lt,-1],[-1,-1,Rt]]}}function ie($e,at){return $e==="all"||$e===null?!0:$e.indexOf(at)>-1}function K($e,at){return $e===null?at:$e}function q($e,at,Xe){$();var Pe=[at],we=[Xe];if(W>=1)Pe=[at],we=[Xe];else if(W>0){var ue=re(at,Xe);Pe=ue.xyzv,we=ue.abc}for(var ge=0;ge<Pe.length;ge++){at=Pe[ge],Xe=we[ge];for(var Le=[],ke=0;ke<3;ke++){var it=at[ke][0],lt=at[ke][1],bt=at[ke][2],Rt=at[ke][3],Ut=Xe[ke]>-1?Xe[ke]:Q(it,lt,bt);Ut>-1?Le[ke]=Ut:Le[ke]=ee(it,lt,bt,K($e,Rt))}oe(Le[0],Le[1],Le[2])}}function le($e,at,Xe){var Pe=function(we,ue,ge){q($e,[at[we],at[ue],at[ge]],[Xe[we],Xe[ue],Xe[ge]])};Pe(0,1,2),Pe(2,3,0)}function ae($e,at,Xe){var Pe=function(we,ue,ge){q($e,[at[we],at[ue],at[ge]],[Xe[we],Xe[ue],Xe[ge]])};Pe(0,1,2),Pe(3,0,1),Pe(2,3,0),Pe(1,2,3)}function he($e,at,Xe,Pe){var we=$e[3];we<Xe&&(we=Xe),we>Pe&&(we=Pe);for(var ue=($e[3]-we)/($e[3]-at[3]+1e-9),ge=[],Le=0;Le<4;Le++)ge[Le]=(1-ue)*$e[Le]+ue*at[Le];return ge}function me($e,at,Xe){return $e>=at&&$e<=Xe}function Me($e){var at=.001*(I-B);return $e>=B-at&&$e<=I+at}function xe($e){for(var at=[],Xe=0;Xe<4;Xe++){var Pe=$e[Xe];at.push([s._x[Pe],s._y[Pe],s._z[Pe],s._value[Pe]])}return at}var Ie=3;function _e($e,at,Xe,Pe,we,ue){ue||(ue=1),Xe=[-1,-1,-1];var ge=!1,Le=[me(at[0][3],Pe,we),me(at[1][3],Pe,we),me(at[2][3],Pe,we)];if(!Le[0]&&!Le[1]&&!Le[2])return!1;var ke=function(lt,bt,Rt){return Me(bt[0][3])&&Me(bt[1][3])&&Me(bt[2][3])?(q(lt,bt,Rt),!0):ue<Ie?_e(lt,bt,Rt,B,I,++ue):!1};if(Le[0]&&Le[1]&&Le[2])return ke($e,at,Xe)||ge;var it=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(lt){if(Le[lt[0]]&&Le[lt[1]]&&!Le[lt[2]]){var bt=at[lt[0]],Rt=at[lt[1]],Ut=at[lt[2]],Gt=he(Ut,bt,Pe,we),_t=he(Ut,Rt,Pe,we);ge=ke($e,[_t,Gt,bt],[-1,-1,Xe[lt[0]]])||ge,ge=ke($e,[bt,Rt,_t],[Xe[lt[0]],Xe[lt[1]],-1])||ge,it=!0}}),it||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(lt){if(Le[lt[0]]&&!Le[lt[1]]&&!Le[lt[2]]){var bt=at[lt[0]],Rt=at[lt[1]],Ut=at[lt[2]],Gt=he(Rt,bt,Pe,we),_t=he(Ut,bt,Pe,we);ge=ke($e,[_t,Gt,bt],[-1,-1,Xe[lt[0]]])||ge,it=!0}}),ge}function Te($e,at,Xe,Pe){var we=!1,ue=xe(at),ge=[me(ue[0][3],Xe,Pe),me(ue[1][3],Xe,Pe),me(ue[2][3],Xe,Pe),me(ue[3][3],Xe,Pe)];if(!ge[0]&&!ge[1]&&!ge[2]&&!ge[3])return we;if(ge[0]&&ge[1]&&ge[2]&&ge[3])return f&&(we=ae($e,ue,at)||we),we;var Le=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ke){if(ge[ke[0]]&&ge[ke[1]]&&ge[ke[2]]&&!ge[ke[3]]){var it=ue[ke[0]],lt=ue[ke[1]],bt=ue[ke[2]],Rt=ue[ke[3]];if(f)we=q($e,[it,lt,bt],[at[ke[0]],at[ke[1]],at[ke[2]]])||we;else{var Ut=he(Rt,it,Xe,Pe),Gt=he(Rt,lt,Xe,Pe),_t=he(Rt,bt,Xe,Pe);we=q(null,[Ut,Gt,_t],[-1,-1,-1])||we}Le=!0}}),Le||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ke){if(ge[ke[0]]&&ge[ke[1]]&&!ge[ke[2]]&&!ge[ke[3]]){var it=ue[ke[0]],lt=ue[ke[1]],bt=ue[ke[2]],Rt=ue[ke[3]],Ut=he(bt,it,Xe,Pe),Gt=he(bt,lt,Xe,Pe),_t=he(Rt,lt,Xe,Pe),nr=he(Rt,it,Xe,Pe);f?(we=q($e,[it,nr,Ut],[at[ke[0]],-1,-1])||we,we=q($e,[lt,Gt,_t],[at[ke[1]],-1,-1])||we):we=le(null,[Ut,Gt,_t,nr],[-1,-1,-1,-1])||we,Le=!0}}),Le)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ke){if(ge[ke[0]]&&!ge[ke[1]]&&!ge[ke[2]]&&!ge[ke[3]]){var it=ue[ke[0]],lt=ue[ke[1]],bt=ue[ke[2]],Rt=ue[ke[3]],Ut=he(lt,it,Xe,Pe),Gt=he(bt,it,Xe,Pe),_t=he(Rt,it,Xe,Pe);f?(we=q($e,[it,Ut,Gt],[at[ke[0]],-1,-1])||we,we=q($e,[it,Gt,_t],[at[ke[0]],-1,-1])||we,we=q($e,[it,_t,Ut],[at[ke[0]],-1,-1])||we):we=q(null,[Ut,Gt,_t],[-1,-1,-1])||we,Le=!0}}),we}function ye($e,at,Xe,Pe,we,ue,ge,Le,ke,it,lt){var bt=!1;return T&&(ie($e,"A")&&(bt=Te(null,[at,Xe,Pe,ue],it,lt)||bt),ie($e,"B")&&(bt=Te(null,[Xe,Pe,we,ke],it,lt)||bt),ie($e,"C")&&(bt=Te(null,[Xe,ue,ge,ke],it,lt)||bt),ie($e,"D")&&(bt=Te(null,[Pe,ue,Le,ke],it,lt)||bt),ie($e,"E")&&(bt=Te(null,[Xe,Pe,ue,ke],it,lt)||bt)),f&&(bt=Te($e,[Xe,Pe,ue,ke],it,lt)||bt),bt}function Ae($e,at,Xe,Pe,we,ue,ge,Le){return[Le[0]===!0?!0:_e($e,xe([at,Xe,Pe]),[at,Xe,Pe],ue,ge),Le[1]===!0?!0:_e($e,xe([Pe,we,at]),[Pe,we,at],ue,ge)]}function Be($e,at,Xe,Pe,we,ue,ge,Le,ke){return Le?Ae($e,at,Xe,we,Pe,ue,ge,ke):Ae($e,Xe,we,Pe,at,ue,ge,ke)}function Ue($e,at,Xe,Pe,we,ue,ge){var Le=!1,ke,it,lt,bt,Rt=function(){Le=_e($e,[ke,it,lt],[-1,-1,-1],we,ue)||Le,Le=_e($e,[lt,bt,ke],[-1,-1,-1],we,ue)||Le},Ut=ge[0],Gt=ge[1],_t=ge[2];return Ut&&(ke=V(xe([x(at,Xe-0,Pe-0)])[0],xe([x(at-1,Xe-0,Pe-0)])[0],Ut),it=V(xe([x(at,Xe-0,Pe-1)])[0],xe([x(at-1,Xe-0,Pe-1)])[0],Ut),lt=V(xe([x(at,Xe-1,Pe-1)])[0],xe([x(at-1,Xe-1,Pe-1)])[0],Ut),bt=V(xe([x(at,Xe-1,Pe-0)])[0],xe([x(at-1,Xe-1,Pe-0)])[0],Ut),Rt()),Gt&&(ke=V(xe([x(at-0,Xe,Pe-0)])[0],xe([x(at-0,Xe-1,Pe-0)])[0],Gt),it=V(xe([x(at-0,Xe,Pe-1)])[0],xe([x(at-0,Xe-1,Pe-1)])[0],Gt),lt=V(xe([x(at-1,Xe,Pe-1)])[0],xe([x(at-1,Xe-1,Pe-1)])[0],Gt),bt=V(xe([x(at-1,Xe,Pe-0)])[0],xe([x(at-1,Xe-1,Pe-0)])[0],Gt),Rt()),_t&&(ke=V(xe([x(at-0,Xe-0,Pe)])[0],xe([x(at-0,Xe-0,Pe-1)])[0],_t),it=V(xe([x(at-0,Xe-1,Pe)])[0],xe([x(at-0,Xe-1,Pe-1)])[0],_t),lt=V(xe([x(at-1,Xe-1,Pe)])[0],xe([x(at-1,Xe-1,Pe-1)])[0],_t),bt=V(xe([x(at-1,Xe-0,Pe)])[0],xe([x(at-1,Xe-0,Pe-1)])[0],_t),Rt()),Le}function De($e,at,Xe,Pe,we,ue,ge,Le,ke,it,lt,bt){var Rt=$e;return bt?(T&&$e==="even"&&(Rt=null),ye(Rt,at,Xe,Pe,we,ue,ge,Le,ke,it,lt)):(T&&$e==="odd"&&(Rt=null),ye(Rt,ke,Le,ge,ue,we,Pe,Xe,at,it,lt))}function He($e,at,Xe,Pe,we){for(var ue=[],ge=0,Le=0;Le<at.length;Le++)for(var ke=at[Le],it=1;it<i;it++)for(var lt=1;lt<b;lt++)ue.push(Be($e,x(ke,lt-1,it-1),x(ke,lt-1,it),x(ke,lt,it-1),x(ke,lt,it),Xe,Pe,(ke+lt+it)%2,we&&we[ge]?we[ge]:[])),ge++;return ue}function ut($e,at,Xe,Pe,we){for(var ue=[],ge=0,Le=0;Le<at.length;Le++)for(var ke=at[Le],it=1;it<S;it++)for(var lt=1;lt<i;lt++)ue.push(Be($e,x(it-1,ke,lt-1),x(it,ke,lt-1),x(it-1,ke,lt),x(it,ke,lt),Xe,Pe,(it+ke+lt)%2,we&&we[ge]?we[ge]:[])),ge++;return ue}function et($e,at,Xe,Pe,we){for(var ue=[],ge=0,Le=0;Le<at.length;Le++)for(var ke=at[Le],it=1;it<b;it++)for(var lt=1;lt<S;lt++)ue.push(Be($e,x(lt-1,it-1,ke),x(lt-1,it,ke),x(lt,it-1,ke),x(lt,it,ke),Xe,Pe,(lt+it+ke)%2,we&&we[ge]?we[ge]:[])),ge++;return ue}function Qe($e,at,Xe){for(var Pe=1;Pe<i;Pe++)for(var we=1;we<b;we++)for(var ue=1;ue<S;ue++)De($e,x(ue-1,we-1,Pe-1),x(ue-1,we-1,Pe),x(ue-1,we,Pe-1),x(ue-1,we,Pe),x(ue,we-1,Pe-1),x(ue,we-1,Pe),x(ue,we,Pe-1),x(ue,we,Pe),at,Xe,(ue+we+Pe)%2)}function qe($e,at,Xe){f=!0,Qe($e,at,Xe),f=!1}function ft($e,at,Xe){T=!0,Qe($e,at,Xe),T=!1}function gt($e,at,Xe,Pe,we,ue){for(var ge=[],Le=0,ke=0;ke<at.length;ke++)for(var it=at[ke],lt=1;lt<i;lt++)for(var bt=1;bt<b;bt++)ge.push(Ue($e,it,bt,lt,Xe,Pe,we[ke],ue&&ue[Le]?ue[Le]:[])),Le++;return ge}function xt($e,at,Xe,Pe,we,ue){for(var ge=[],Le=0,ke=0;ke<at.length;ke++)for(var it=at[ke],lt=1;lt<S;lt++)for(var bt=1;bt<i;bt++)ge.push(Ue($e,lt,it,bt,Xe,Pe,we[ke],ue&&ue[Le]?ue[Le]:[])),Le++;return ge}function Ct($e,at,Xe,Pe,we,ue){for(var ge=[],Le=0,ke=0;ke<at.length;ke++)for(var it=at[ke],lt=1;lt<b;lt++)for(var bt=1;bt<S;bt++)ge.push(Ue($e,bt,lt,it,Xe,Pe,we[ke],ue&&ue[Le]?ue[Le]:[])),Le++;return ge}function Je($e,at){for(var Xe=[],Pe=$e;Pe<at;Pe++)Xe.push(Pe);return Xe}function ze(){for(var $e=0;$e<S;$e++)for(var at=0;at<b;at++)for(var Xe=0;Xe<i;Xe++){var Pe=x($e,at,Xe);ee(s._x[Pe],s._y[Pe],s._z[Pe],s._value[Pe])}}function Fe(){j(),ze();var $e=null;if(u&&h&&(X(h),qe($e,B,I)),c&&m){X(m);for(var at=s.surface.pattern,Xe=s.surface.count,Pe=0;Pe<Xe;Pe++){var we=Xe===1?.5:Pe/(Xe-1),ue=(1-we)*B+we*I,ge=Math.abs(ue-k),Le=Math.abs(ue-_),ke=ge>Le?[k,ue]:[ue,_];ft(at,ke[0],ke[1])}}var it=[[Math.min(B,_),Math.max(B,_)],[Math.min(k,I),Math.max(k,I)]];["x","y","z"].forEach(function(lt){for(var bt=[],Rt=0;Rt<it.length;Rt++){var Ut=0,Gt=it[Rt][0],_t=it[Rt][1],nr=s.slices[lt];if(nr.show&&nr.fill){X(nr.fill);var lr=[],zr=[],mt=[];if(nr.locations.length)for(var jt=0;jt<nr.locations.length;jt++){var Yt=v(nr.locations[jt],lt==="x"?A:lt==="y"?E:g);Yt.distRatio===0?lr.push(Yt.id):Yt.id>0&&(zr.push(Yt.id),lt==="x"?mt.push([Yt.distRatio,0,0]):lt==="y"?mt.push([0,Yt.distRatio,0]):mt.push([0,0,Yt.distRatio]))}else lt==="x"?lr=Je(1,S-1):lt==="y"?lr=Je(1,b-1):lr=Je(1,i-1);zr.length>0&&(lt==="x"?bt[Ut]=gt($e,zr,Gt,_t,mt,bt[Ut]):lt==="y"?bt[Ut]=xt($e,zr,Gt,_t,mt,bt[Ut]):bt[Ut]=Ct($e,zr,Gt,_t,mt,bt[Ut]),Ut++),lr.length>0&&(lt==="x"?bt[Ut]=He($e,lr,Gt,_t,bt[Ut]):lt==="y"?bt[Ut]=ut($e,lr,Gt,_t,bt[Ut]):bt[Ut]=et($e,lr,Gt,_t,bt[Ut]),Ut++)}var wr=s.caps[lt];wr.show&&wr.fill&&(X(wr.fill),lt==="x"?bt[Ut]=He($e,[0,S-1],Gt,_t,bt[Ut]):lt==="y"?bt[Ut]=ut($e,[0,b-1],Gt,_t,bt[Ut]):bt[Ut]=et($e,[0,i-1],Gt,_t,bt[Ut]),Ut++)}}),o===0&&j(),s._meshX=z,s._meshY=O,s._meshZ=F,s._meshIntensity=N,s._Xs=A,s._Ys=E,s._Zs=g}return Fe(),s}function a(s,c){var u=s.glplot.gl,m=p({gl:u}),h=new y(s,m,c.uid);return m._trace=h,h.update(c),s.glplot.add(m),h}G.exports={findNearestOnAxis:v,generateIsoMeshes:l,createIsosurfaceTrace:a}},82738:function(G,U,e){var p=e(71828),L=e(73972),n=e(16249),C=e(1586);function w(y,t,r,l){function a(s,c){return p.coerce(y,t,n,s,c)}v(y,t,r,l,a)}function v(y,t,r,l,a){var s=a("isomin"),c=a("isomax");c!=null&&s!==void 0&&s!==null&&s>c&&(t.isomin=null,t.isomax=null);var u=a("x"),m=a("y"),h=a("z"),T=a("value");if(!u||!u.length||!m||!m.length||!h||!h.length||!T||!T.length){t.visible=!1;return}var f=L.getComponentMethod("calendars","handleTraceDefaults");f(y,t,["x","y","z"],l),a("valuehoverformat"),["x","y","z"].forEach(function(A){a(A+"hoverformat");var E="caps."+A,g=a(E+".show");g&&a(E+".fill");var S="slices."+A,b=a(S+".show");b&&(a(S+".fill"),a(S+".locations"))});var o=a("spaceframe.show");o&&a("spaceframe.fill");var d=a("surface.show");d&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var M=a("contour.show");M&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){a(A)}),C(y,t,l,a,{prefix:"",cLetter:"c"}),t._length=null}G.exports={supplyDefaults:w,supplyIsoDefaults:v}},64943:function(G,U,e){G.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(G,U,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(54532),w=e(9012),v=e(1426).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},w.hoverinfo,{editType:"calc"}),showlegend:v({},w.showlegend,{dflt:!1})})},82932:function(G,U,e){var p=e(78803);G.exports=function(n,C){C.intensity&&p(n,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(G,U,e){var p=e(9330).gl_mesh3d,L=e(9330).delaunay_triangulate,n=e(9330).alpha_shape,C=e(9330).convex_hull,w=e(81697).parseColorScale,v=e(78614),y=e(21081).extractOpts,t=e(90060);function r(T,f,o){this.scene=T,this.uid=o,this.mesh=f,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var l=r.prototype;l.handlePick=function(T){if(T.object===this.mesh){var f=T.index=T.data.index;T.data._cellCenter?T.traceCoordinate=T.data.dataCoordinate:T.traceCoordinate=[this.data.x[f],this.data.y[f],this.data.z[f]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[f]!==void 0?T.textLabel=o[f]:o&&(T.textLabel=o),!0}};function a(T){for(var f=[],o=T.length,d=0;d<o;d++)f[d]=v(T[d]);return f}function s(T,f,o,d){for(var M=[],A=f.length,E=0;E<A;E++)M[E]=T.d2l(f[E],0,d)*o;return M}function c(T){for(var f=[],o=T.length,d=0;d<o;d++)f[d]=Math.round(T[d]);return f}function u(T,f){for(var o=["x","y","z"].indexOf(T),d=[],M=f.length,A=0;A<M;A++)d[A]=[f[A][(o+1)%3],f[A][(o+2)%3]];return L(d)}function m(T,f){for(var o=T.length,d=0;d<o;d++)if(T[d]<=-.5||T[d]>=f-.5)return!1;return!0}l.update=function(T){var f=this.scene,o=f.fullSceneLayout;this.data=T;var d=T.x.length,M=t(s(o.xaxis,T.x,f.dataScale[0],T.xcalendar),s(o.yaxis,T.y,f.dataScale[1],T.ycalendar),s(o.zaxis,T.z,f.dataScale[2],T.zcalendar)),A;if(T.i&&T.j&&T.k){if(T.i.length!==T.j.length||T.j.length!==T.k.length||!m(T.i,d)||!m(T.j,d)||!m(T.k,d))return;A=t(c(T.i),c(T.j),c(T.k))}else T.alphahull===0?A=C(M):T.alphahull>0?A=n(T.alphahull,M):A=u(T.delaunayaxis,M);var E={positions:M,cells:A,lightPosition:[T.lightposition.x,T.lightposition.y,T.lightposition.z],ambient:T.lighting.ambient,diffuse:T.lighting.diffuse,specular:T.lighting.specular,roughness:T.lighting.roughness,fresnel:T.lighting.fresnel,vertexNormalsEpsilon:T.lighting.vertexnormalsepsilon,faceNormalsEpsilon:T.lighting.facenormalsepsilon,opacity:T.opacity,contourEnable:T.contour.show,contourColor:v(T.contour.color).slice(0,3),contourWidth:T.contour.width,useFacetNormals:T.flatshading};if(T.intensity){var g=y(T);this.color="#fff";var S=T.intensitymode;E[S+"Intensity"]=T.intensity,E[S+"IntensityBounds"]=[g.min,g.max],E.colormap=w(T)}else T.vertexcolor?(this.color=T.vertexcolor[0],E.vertexColors=a(T.vertexcolor)):T.facecolor?(this.color=T.facecolor[0],E.cellColors=a(T.facecolor)):(this.color=T.color,E.meshColor=v(T.color));this.mesh.update(E)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(T,f){var o=T.glplot.gl,d=p({gl:o}),M=new r(T,d,f.uid);return d._trace=M,M.update(f),T.glplot.add(d),M}G.exports=h},58669:function(G,U,e){var p=e(73972),L=e(71828),n=e(1586),C=e(2418);G.exports=function(v,y,t,r){function l(m,h){return L.coerce(v,y,C,m,h)}function a(m){var h=m.map(function(T){var f=l(T);return f&&L.isArrayOrTypedArray(f)?f:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var s=a(["x","y","z"]);if(!s){y.visible=!1;return}if(a(["i","j","k"]),y.i&&(!y.j||!y.k)||y.j&&(!y.k||!y.i)||y.k&&(!y.i||!y.j)){y.visible=!1;return}var c=p.getComponentMethod("calendars","handleTraceDefaults");c(v,y,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){l(m)});var u=l("contour.show");u&&(l("contour.color"),l("contour.width")),"intensity"in v?(l("intensity"),l("intensitymode"),n(v,y,r,l,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in v?l("facecolor"):"vertexcolor"in v?l("vertexcolor"):l("color",t)),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),y._length=null}},21164:function(G,U,e){G.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(G,U,e){var p=e(71828).extendFlat,L=e(82196),n=e(12663).axisHoverFormat,C=e(79952).P,w=e(77914),v=e(22372),y=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=L.line;function l(a){return{line:{color:p({},r.color,{dflt:a}),width:r.width,dash:C,editType:"style"},editType:"style"}}G.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},r.width,{}),dash:p({},C,{}),editType:"style"},increasing:l(y),decreasing:l(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},w.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(G,U,e){var p=e(71828),L=p._,n=e(89298),C=e(42973),w=e(50606).BADNUM;function v(l,a){var s=n.getFromId(l,a.xaxis),c=n.getFromId(l,a.yaxis),u=r(l,s,a),m=a._minDiff;a._minDiff=null;var h=a._origX;a._origX=null;var T=a._xcalc;a._xcalc=null;var f=t(l,a,h,T,c,y);return a._extremes[s._id]=n.findExtremes(s,T,{vpad:m/2}),f.length?(p.extendFlat(f[0].t,{wHover:m/2,tickLen:u}),f):[{t:{empty:!0}}]}function y(l,a,s,c){return{o:l,h:a,l:s,c}}function t(l,a,s,c,u,m){for(var h=u.makeCalcdata(a,"open"),T=u.makeCalcdata(a,"high"),f=u.makeCalcdata(a,"low"),o=u.makeCalcdata(a,"close"),d=Array.isArray(a.text),M=Array.isArray(a.hovertext),A=!0,E=null,g=!!a.xperiodalignment,S=[],b=0;b<c.length;b++){var i=c[b],P=h[b],x=T[b],k=f[b],_=o[b];if(i!==w&&P!==w&&x!==w&&k!==w&&_!==w){_===P?E!==null&&_!==E&&(A=_>E):A=_>P,E=_;var B=m(P,x,k,_);B.pos=i,B.yc=(P+_)/2,B.i=b,B.dir=A?"increasing":"decreasing",B.x=B.pos,B.y=[k,x],g&&(B.orig_p=s[b]),d&&(B.tx=a.text[b]),M&&(B.htx=a.hovertext[b]),S.push(B)}else S.push({pos:i,empty:!0})}return a._extremes[u._id]=n.findExtremes(u,p.concat(f,T),{padded:!0}),S.length&&(S[0].t={labels:{open:L(l,"open:")+" ",high:L(l,"high:")+" ",low:L(l,"low:")+" ",close:L(l,"close:")+" "}}),S}function r(l,a,s){var c=s._minDiff;if(!c){var u=l._fullData,m=[];c=1/0;var h;for(h=0;h<u.length;h++){var T=u[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===a._id){m.push(T);var f=a.makeCalcdata(T,"x");T._origX=f;var o=C(s,a,"x",f).vals;T._xcalc=o;var d=p.distinctVals(o).minDiff;d&&isFinite(d)&&(c=Math.min(c,d))}}for(c===1/0&&(c=1),h=0;h<m.length;h++)m[h]._minDiff=c}return c*s.tickwidth}G.exports={calc:v,calcCommon:t}},16169:function(G,U,e){var p=e(71828),L=e(14555),n=e(73927),C=e(2522);G.exports=function(y,t,r,l){function a(c,u){return p.coerce(y,t,C,c,u)}var s=L(y,t,a,l);if(!s){t.visible=!1;return}n(y,t,l,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),w(y,t,a,"increasing"),w(y,t,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),l._requestRangeslider[t.xaxis]=!0};function w(v,y,t,r){t(r+".line.color"),t(r+".line.width",y.line.width),t(r+".line.dash",y.line.dash)}},66449:function(G,U,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),w=e(71828).fillText,v=e(22372),y={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(s,c,u,m){var h=s.cd,T=h[0].trace;return T.hoverlabel.split?l(s,c,u,m):a(s,c,u,m)}function r(s,c,u,m){var h=s.cd,T=s.xa,f=h[0].trace,o=h[0].t,d=f.type,M=d==="ohlc"?"l":"min",A=d==="ohlc"?"h":"max",E,g,S=o.bPos||0,b=function(Q){return Q.pos+S-c},i=o.bdPos||o.tickLen,P=o.wHover,x=Math.min(1,i/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));E=s.maxHoverDistance-x,g=s.maxSpikeDistance-x;function k(Q){var $=b(Q);return n.inbox($-P,$+P,E)}function _(Q){var $=Q[M],j=Q[A];return $===j||n.inbox($-u,j-u,E)}function B(Q){return(k(Q)+_(Q))/2}var I=n.getDistanceFunction(m,k,_,B);if(n.getClosest(h,I,s),s.index===!1)return null;var z=h[s.index];if(z.empty)return null;var O=z.dir,F=f[O],N=F.line.color;return C.opacity(N)&&F.line.width?s.color=N:s.color=F.fillcolor,s.x0=T.c2p(z.pos+S-i,!0),s.x1=T.c2p(z.pos+S+i,!0),s.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,s.spikeDistance=B(z)*g/E,s.xSpike=T.c2p(z.pos,!0),s}function l(s,c,u,m){var h=s.cd,T=s.ya,f=h[0].trace,o=h[0].t,d=[],M=r(s,c,u,m);if(!M)return[];var A=M.index,E=h[A],g=E.hi||f.hoverinfo,S=g.split("+"),b=g==="all",i=b||S.indexOf("y")!==-1;if(!i)return[];for(var P=["high","open","close","low"],x={},k=0;k<P.length;k++){var _=P[k],B=f[_][M.index],I=T.c2p(B,!0),z;B in x?(z=x[B],z.yLabel+="<br>"+o.labels[_]+p.hoverLabelText(T,B,f.yhoverformat)):(z=L.extendFlat({},M),z.y0=z.y1=I,z.yLabelVal=B,z.yLabel=o.labels[_]+p.hoverLabelText(T,B,f.yhoverformat),z.name="",d.push(z),x[B]=z)}return d}function a(s,c,u,m){var h=s.cd,T=s.ya,f=h[0].trace,o=h[0].t,d=r(s,c,u,m);if(!d)return[];var M=d.index,A=h[M],E=d.index=A.i,g=A.dir;function S(B){return o.labels[B]+p.hoverLabelText(T,f[B][E],f.yhoverformat)}var b=A.hi||f.hoverinfo,i=b.split("+"),P=b==="all",x=P||i.indexOf("y")!==-1,k=P||i.indexOf("text")!==-1,_=x?[S("open"),S("high"),S("low"),S("close")+"  "+y[g]]:[];return k&&w(A,f,_),d.extraText=_.join("<br>"),d.y0=d.y1=T.c2p(A.yc,!0),[d]}G.exports={hoverPoints:t,hoverSplit:l,hoverOnPoints:a}},54186:function(G,U,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(G,U,e){var p=e(73972),L=e(71828);G.exports=function(C,w,v,y){var t=v("x"),r=v("open"),l=v("high"),a=v("low"),s=v("close");v("hoverlabel.split");var c=p.getComponentMethod("calendars","handleTraceDefaults");if(c(C,w,["x"],y),!!(r&&l&&a&&s)){var u=Math.min(r.length,l.length,a.length,s.length);return t&&(u=Math.min(u,L.minRowLength(t))),w._length=u,u}}},72314:function(G,U,e){var p=e(39898),L=e(71828);G.exports=function(C,w,v,y){var t=w.yaxis,r=w.xaxis,l=!!r.rangebreaks;L.makeTraceGroups(y,v,"trace ohlc").each(function(a){var s=p.select(this),c=a[0],u=c.t,m=c.trace;if(m.visible!==!0||u.empty){s.remove();return}var h=u.tickLen,T=s.selectAll("path").data(L.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(f){if(f.empty)return"M0,0Z";var o=r.c2p(f.pos-h,!0),d=r.c2p(f.pos+h,!0),M=l?(o+d)/2:r.c2p(f.pos,!0),A=t.c2p(f.o,!0),E=t.c2p(f.h,!0),g=t.c2p(f.l,!0),S=t.c2p(f.c,!0);return"M"+o+","+A+"H"+M+"M"+M+","+E+"V"+g+"M"+d+","+S+"H"+M})})}},67324:function(G){G.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,w=[],v,y=L[0].t.bPos||0;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var t=L[v];p.contains([n.c2p(t.pos+y),C.c2p(t.yc)],null,t.i,e)?(w.push({pointNumber:t.i,x:n.c2d(t.pos),y:C.c2d(t.yc)}),t.selected=1):t.selected=0}return w}},53101:function(G,U,e){var p=e(39898),L=e(91424),n=e(7901);G.exports=function(w,v,y){var t=y||p.select(w).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var l=r[0].trace;p.select(this).selectAll("path").each(function(a){if(!a.empty){var s=l[a.dir].line;p.select(this).style("fill","none").call(n.stroke,s.color).call(L.dashLine,s.dash,s.width).style("opacity",l.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(G,U,e){var p=e(1426).extendFlat,L=e(9012),n=e(41940),C=e(50693),w=e(5386).f,v=e(27670).Y,y=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:y,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(G,U,e){var p=e(27659).a0,L=e(45784),n="parcats";U.name=n,U.plot=function(C,w,v,y){var t=p(C.calcdata,n);if(t.length){var r=t[0];L(C,r,v,y)}},U.clean=function(C,w,v,y){var t=y._has&&y._has("parcats"),r=w._has&&w._has("parcats");t&&!r&&y._paperdiv.selectAll(".parcats").remove()}},28699:function(G,U,e){var p=e(28984).wrap,L=e(52075).hasColorscale,n=e(78803),C=e(75744),w=e(91424),v=e(71828),y=e(92770);G.exports=function(o,d){var M=v.filterVisible(d.dimensions);if(M.length===0)return[];var A=M.map(function(Y){var V;if(Y.categoryorder==="trace")V=null;else if(Y.categoryorder==="array")V=Y.categoryarray;else{V=C(Y.values);for(var W=!0,X=0;X<V.length;X++)if(!y(V[X])){W=!1;break}V.sort(W?v.sorterAsc:void 0),Y.categoryorder==="category descending"&&(V=V.reverse())}return u(Y.values,V)}),E,g,S;v.isArrayOrTypedArray(d.counts)?E=d.counts:E=[d.counts],m(M),M.forEach(function(Y,V){h(Y,A[V])});var b=d.line,i;b?(L(d,"line")&&n(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),i=w.tryColorscale(b)):i=v.identity;function P(Y){var V,W;return v.isArrayOrTypedArray(b.color)?(V=b.color[Y%b.color.length],W=V):V=b.color,{color:i(V),rawColor:W}}var x=M[0].values.length,k={},_=A.map(function(Y){return Y.inds});S=0;var B,I;for(B=0;B<x;B++){var z=[];for(I=0;I<_.length;I++)z.push(_[I][B]);g=E[B%E.length],S+=g;var O=P(B),F=z+"-"+O.rawColor;k[F]===void 0&&(k[F]=s(z,O.color,O.rawColor)),c(k[F],B,g)}var N=M.map(function(Y,V){return r(V,Y._index,Y._displayindex,Y.label,S)});for(B=0;B<x;B++)for(g=E[B%E.length],I=0;I<N.length;I++){var Q=N[I].containerInd,$=A[I].inds[B],j=N[I].categories;if(j[$]===void 0){var ee=d.dimensions[Q]._categoryarray[$],oe=d.dimensions[Q]._ticktext[$];j[$]=l(I,$,ee,oe)}a(j[$],B,g)}return p(t(N,k,S))};function t(f,o,d){var M=f.map(function(A){return A.categories.length}).reduce(function(A,E){return Math.max(A,E)});return{dimensions:f,paths:o,trace:void 0,maxCats:M,count:d}}function r(f,o,d,M,A){return{dimensionInd:f,containerInd:o,displayInd:d,dimensionLabel:M,count:A,categories:[],dragX:null}}function l(f,o,d,M){return{dimensionInd:f,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:M,valueInds:[],count:0,dragY:null}}function a(f,o,d){f.valueInds.push(o),f.count+=d}function s(f,o,d){return{categoryInds:f,color:o,rawColor:d,valueInds:[],count:0}}function c(f,o,d){f.valueInds.push(o),f.count+=d}function u(f,o){o==null?o=[]:o=o.map(function(i){return i});var d={},M={},A=[];o.forEach(function(i,P){d[i]=0,M[i]=P});for(var E=0;E<f.length;E++){var g=f[E],S;d[g]===void 0?(d[g]=1,S=o.push(g)-1,M[g]=S):(d[g]++,S=M[g]),A.push(S)}var b=o.map(function(i){return d[i]});return{uniqueValues:o,uniqueCounts:b,inds:A}}function m(f){var o=f.map(function(M){return M.displayindex}),d;if(T(o))for(d=0;d<f.length;d++)f[d]._displayindex=f[d].displayindex;else for(d=0;d<f.length;d++)f[d]._displayindex=d}function h(f,o){f._categoryarray=o.uniqueValues,f.ticktext===null||f.ticktext===void 0?f._ticktext=[]:f._ticktext=f.ticktext.slice();for(var d=f._ticktext.length;d<o.uniqueValues.length;d++)f._ticktext.push(o.uniqueValues[d])}function T(f){for(var o=new Array(f.length),d=0;d<f.length;d++){if(f[d]<0||f[d]>=f.length||o[f[d]]!==void 0)return!1;o[f[d]]=!0}return!0}},14647:function(G,U,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,w=e(85501),v=e(99506),y=e(94397);function t(l,a,s,c,u){u("line.shape"),u("line.hovertemplate");var m=u("line.color",c.colorway[0]);if(L(l,"line")&&p.isArrayOrTypedArray(m)){if(m.length)return u("line.colorscale"),n(l,a,c,u,{prefix:"line.",cLetter:"c"}),m.length;a.line.color=s}return 1/0}function r(l,a){function s(o,d){return p.coerce(l,a,v.dimensions,o,d)}var c=s("values"),u=s("visible");if(c&&c.length||(u=a.visible=!1),u){s("label"),s("displayindex",a._index);var m=l.categoryarray,h=Array.isArray(m)&&m.length>0,T;h&&(T="array");var f=s("categoryorder",T);f==="array"?(s("categoryarray"),s("ticktext")):(delete l.categoryarray,delete l.ticktext),!h&&f==="array"&&(a.categoryorder="trace")}}G.exports=function(a,s,c,u){function m(d,M){return p.coerce(a,s,v,d,M)}var h=w(a,s,{name:"dimensions",handleItemDefaults:r}),T=t(a,s,c,u,m);C(s,u,m),(!Array.isArray(h)||!h.length)&&(s.visible=!1),y(s,h,"values",T),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var f={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};p.coerceFont(m,"labelfont",f);var o={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};p.coerceFont(m,"tickfont",o)}},94873:function(G,U,e){G.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(G,U,e){var p=e(39898),L=e(81684).k4,n=e(72391),C=e(30211),w=e(71828),v=w.strTranslate,y=e(91424),t=e(84267),r=e(63893);function l(X,re,ie,K){var q=re._context.staticPlot,le=X.map(ee.bind(0,re,ie)),ae=K.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",q?"none":"all");var he=ae.selectAll("g.trace.parcats").data(le,a),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(He){return v(He.x,He.y)}),me.append("g").attr("class","paths");var Me=he.select("g.paths"),xe=Me.selectAll("path.path").data(function(He){return He.paths},a);xe.attr("fill",function(He){return He.model.color});var Ie=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);o(Ie),xe.attr("d",function(He){return He.svgD}),Ie.empty()||xe.sort(c),xe.exit().remove(),xe.on("mouseover",u).on("mouseout",m).on("click",f),me.append("g").attr("class","dimensions");var _e=he.select("g.dimensions"),Te=_e.selectAll("g.dimension").data(function(He){return He.dimensions},a);Te.enter().append("g").attr("class","dimension"),Te.attr("transform",function(He){return v(He.x,0)}),Te.exit().remove();var ye=Te.selectAll("g.category").data(function(He){return He.categories},a),Ae=ye.enter().append("g").attr("class","category");ye.attr("transform",function(He){return v(0,He.y)}),Ae.append("rect").attr("class","catrect").attr("pointer-events","none"),ye.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),A(Ae);var Be=ye.selectAll("rect.bandrect").data(function(He){return He.bands},a);Be.each(function(){w.raiseToTop(this)}),Be.attr("fill",function(He){return He.color});var Ue=Be.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Be.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":He.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),g(Ue),Be.exit().remove(),Ae.append("text").attr("class","catlabel").attr("pointer-events","none");var De=re._fullLayout.paper_bgcolor;ye.select("text.catlabel").attr("text-anchor",function(He){return s(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(De)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return s(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){y.font(p.select(this),He.parcatsViewModel.categorylabelfont),r.convertToTspans(p.select(this),re)}),Ae.append("text").attr("class","dimlabel"),ye.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,ut){return ut===0?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){y.font(p.select(this),He.parcatsViewModel.labelfont)}),ye.selectAll("rect.bandrect").on("mouseover",I).on("mouseout",z),ye.exit().remove(),Te.call(p.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",O).on("drag",F).on("dragend",N)),he.each(function(He){He.traceSelection=p.select(this),He.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}G.exports=function(X,re,ie,K){l(ie,X,K,re)};function a(X){return X.key}function s(X){var re=X.parcatsViewModel.dimensions.length,ie=X.parcatsViewModel.dimensions[re-1].model.dimensionInd;return X.model.dimensionInd===ie}function c(X,re){return X.model.rawColor>re.model.rawColor?1:X.model.rawColor<re.model.rawColor?-1:0}function u(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){w.raiseToTop(this),d(p.select(this));var re=h(X),ie=T(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:p.event,constraints:ie}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var K=p.mouse(this)[0],q=X.parcatsViewModel.graphDiv,le=X.parcatsViewModel.trace,ae=q._fullLayout,he=ae._paperdiv.node().getBoundingClientRect(),me=X.parcatsViewModel.graphDiv.getBoundingClientRect(),Me,xe,Ie;for(Ie=0;Ie<X.leftXs.length-1;Ie++)if(X.leftXs[Ie]+X.dimWidths[Ie]-2<=K&&K<=X.leftXs[Ie+1]+2){var _e=X.parcatsViewModel.dimensions[Ie],Te=X.parcatsViewModel.dimensions[Ie+1];Me=(_e.x+_e.width+Te.x)/2,xe=(X.topYs[Ie]+X.topYs[Ie+1]+X.height)/2;break}var ye=X.parcatsViewModel.x+Me,Ae=X.parcatsViewModel.y+xe,Be=t.mostReadable(X.model.color,["black","white"]),Ue=X.model.count,De=Ue/X.parcatsViewModel.model.count,He={countLabel:Ue,probabilityLabel:De.toFixed(3)},ut=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ut.push(["Count:",He.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ut.push(["P:",He.probabilityLabel].join(" "));var et=ut.join("<br>"),Qe=p.mouse(q)[0];C.loneHover({trace:le,x:ye-he.left+me.left,y:Ae-he.top+me.top,text:et,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Be,idealAlign:Qe<ye?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:le._input,fullData:le,count:Ue,probability:De}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:q})}}}function m(X){if(!X.parcatsViewModel.dragDimension&&(o(p.select(this)),C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(c),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var re=h(X),ie=T(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:p.event,constraints:ie})}}function h(X){for(var re=[],ie=Q(X.parcatsViewModel),K=0;K<X.model.valueInds.length;K++){var q=X.model.valueInds[K];re.push({curveNumber:ie,pointNumber:q})}return re}function T(X){for(var re={},ie=X.parcatsViewModel.model.dimensions,K=0;K<ie.length;K++){var q=ie[K],le=q.categories[X.model.categoryInds[K]];re[q.containerInd]=le.categoryValue}return X.model.rawColor!==void 0&&(re.color=X.model.rawColor),re}function f(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=h(X),ie=T(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:p.event,constraints:ie})}}function o(X){X.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(re){return t.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function M(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function E(X){X.attr("stroke","black").attr("stroke-width",1.5)}function g(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(X){var re=X.parcatsViewModel.pathSelection,ie=X.categoryViewModel.model.dimensionInd,K=X.categoryViewModel.model.categoryInd;return re.filter(function(q){return q.model.categoryInds[ie]===K&&q.model.color===X.color})}function b(X){var re=p.select(X.parentNode).selectAll("rect.bandrect");re.each(function(ie){var K=S(ie);d(K),K.each(function(){w.raiseToTop(this)})}),M(p.select(X.parentNode))}function i(X){var re=p.select(X).datum(),ie=S(re);d(ie),ie.each(function(){w.raiseToTop(this)}),p.select(X.parentNode).selectAll("rect.bandrect").filter(function(K){return K.color===re.color}).each(function(){w.raiseToTop(this),E(p.select(this))})}function P(X,re,ie){var K=p.select(X).datum(),q=K.categoryViewModel.model,le=K.parcatsViewModel.graphDiv,ae=p.select(X.parentNode).selectAll("rect.bandrect"),he=[];ae.each(function(Me){var xe=S(Me);xe.each(function(Ie){Array.prototype.push.apply(he,h(Ie))})});var me={};me[q.dimensionInd]=q.categoryValue,le.emit(re,{points:he,event:ie,constraints:me})}function x(X,re,ie){var K=p.select(X).datum(),q=K.categoryViewModel.model,le=K.parcatsViewModel.graphDiv,ae=S(K),he=[];ae.each(function(Me){Array.prototype.push.apply(he,h(Me))});var me={};me[q.dimensionInd]=q.categoryValue,K.rawColor!==void 0&&(me.color=K.rawColor),le.emit(re,{points:he,event:ie,constraints:me})}function k(X,re,ie){X._fullLayout._calcInverseTransform(X);var K=X._fullLayout._invScaleX,q=X._fullLayout._invScaleY,le=p.select(ie.parentNode).select("rect.catrect"),ae=le.node().getBoundingClientRect(),he=le.datum(),me=he.parcatsViewModel,Me=me.model.dimensions[he.model.dimensionInd],xe=me.trace,Ie=ae.top+ae.height/2,_e,Te;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(_e=ae.left,Te="left"):(_e=ae.left+ae.width,Te="right");var ye=he.model.count,Ae=he.model.categoryLabel,Be=ye/he.parcatsViewModel.model.count,Ue={countLabel:ye,categoryLabel:Ae,probabilityLabel:Be.toFixed(3)},De=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&De.push(["Count:",Ue.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&De.push(["P("+Ue.categoryLabel+"):",Ue.probabilityLabel].join(" "));var He=De.join("<br>");return{trace:xe,x:K*(_e-re.left),y:q*(Ie-re.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Te,hovertemplate:xe.hovertemplate,hovertemplateLabels:Ue,eventData:[{data:xe._input,fullData:xe,count:ye,category:Ae,probability:Be}]}}function _(X,re,ie){var K=[];return p.select(ie.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var q=this;K.push(k(X,re,q))}),K}function B(X,re,ie){X._fullLayout._calcInverseTransform(X);var K=X._fullLayout._invScaleX,q=X._fullLayout._invScaleY,le=ie.getBoundingClientRect(),ae=p.select(ie).datum(),he=ae.categoryViewModel,me=he.parcatsViewModel,Me=me.model.dimensions[he.model.dimensionInd],xe=me.trace,Ie=le.y+le.height/2,_e,Te;me.dimensions.length>1&&Me.displayInd===me.dimensions.length-1?(_e=le.left,Te="left"):(_e=le.left+le.width,Te="right");var ye=he.model.categoryLabel,Ae=ae.parcatsViewModel.model.count,Be=0;ae.categoryViewModel.bands.forEach(function(xt){xt.color===ae.color&&(Be+=xt.count)});var Ue=he.model.count,De=0;me.pathSelection.each(function(xt){xt.model.color===ae.color&&(De+=xt.model.count)});var He=Be/Ae,ut=Be/De,et=Be/Ue,Qe={countLabel:Ae,categoryLabel:ye,probabilityLabel:He.toFixed(3)},qe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",Qe.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color ∩ "+ye+"): "+Qe.probabilityLabel),qe.push("P("+ye+" | color): "+ut.toFixed(3)),qe.push("P(color | "+ye+"): "+et.toFixed(3)));var ft=qe.join("<br>"),gt=t.mostReadable(ae.color,["black","white"]);return{trace:xe,x:K*(_e-re.left),y:q*(Ie-re.top),text:ft,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:gt,fontSize:10,idealAlign:Te,hovertemplate:xe.hovertemplate,hovertemplateLabels:Qe,eventData:[{data:xe._input,fullData:xe,category:ye,count:Ae,probability:He,categorycount:Ue,colorcount:De,bandcolorcount:Be}]}}function I(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=p.mouse(this)[1];if(re<-1)return;var ie=X.parcatsViewModel.graphDiv,K=ie._fullLayout,q=K._paperdiv.node().getBoundingClientRect(),le=X.parcatsViewModel.hoveron,ae=this;if(le==="color"?(i(ae),x(ae,"plotly_hover",p.event)):(b(ae),P(ae,"plotly_hover",p.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=k(ie,q,ae):le==="color"?he=B(ie,q,ae):le==="dimension"&&(he=_(ie,q,ae)),he&&C.loneHover(he,{container:K._hoverlayer.node(),outerContainer:K._paper.node(),gd:ie})}}}function z(X){var re=X.parcatsViewModel;if(!re.dragDimension&&(o(re.pathSelection),A(re.dimensionSelection.selectAll("g.category")),g(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(c),re.hoverinfoItems.indexOf("skip")===-1)){var ie=X.parcatsViewModel.hoveron,K=this;ie==="color"?x(K,"plotly_unhover",p.event):P(K,"plotly_unhover",p.event)}}function O(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var ie=p.mouse(this)[0],K=p.mouse(this)[1];-2<=ie&&ie<=re.width+2&&-2<=K&&K<=re.height+2&&(X.dragCategoryDisplayInd=re.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(q){return q.displayInd}),re.model.dragY=re.y,w.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(q){q.y<K&&K<=q.y+q.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var re=X.dragDimensionDisplayInd,ie=re-1,K=re+1,q=X.parcatsViewModel.dimensions[re];if(X.dragCategoryDisplayInd!==null){var le=q.categories[X.dragCategoryDisplayInd];le.model.dragY+=p.event.dy;var ae=le.model.dragY,he=le.model.displayInd,me=q.categories,Me=me[he-1],xe=me[he+1];Me!==void 0&&ae<Me.y+Me.height/2&&(le.model.displayInd=Me.model.displayInd,Me.model.displayInd=he),xe!==void 0&&ae+le.height>xe.y+xe.height/2&&(le.model.displayInd=xe.model.displayInd,xe.model.displayInd=he),X.dragCategoryDisplayInd=le.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){q.model.dragX=p.event.x;var Ie=X.parcatsViewModel.dimensions[ie],_e=X.parcatsViewModel.dimensions[K];Ie!==void 0&&q.model.dragX<Ie.x+Ie.width&&(q.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=re),_e!==void 0&&q.model.dragX+q.width>_e.x&&(q.model.displayInd=_e.model.displayInd,_e.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=q.model.displayInd}V(X.parcatsViewModel),Y(X.parcatsViewModel),j(X.parcatsViewModel),$(X.parcatsViewModel)}}function N(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var re={},ie=Q(X.parcatsViewModel),K=X.parcatsViewModel.model.dimensions.map(function(_e){return _e.displayInd}),q=X.initialDragDimensionDisplayInds.some(function(_e,Te){return _e!==K[Te]});q&&K.forEach(function(_e,Te){var ye=X.parcatsViewModel.model.dimensions[Te].containerInd;re["dimensions["+ye+"].displayindex"]=_e});var le=!1;if(X.dragCategoryDisplayInd!==null){var ae=X.model.categories.map(function(_e){return _e.displayInd});if(le=X.initialDragCategoryDisplayInds.some(function(_e,Te){return _e!==ae[Te]}),le){var he=X.model.categories.slice().sort(function(_e,Te){return _e.displayInd-Te.displayInd}),me=he.map(function(_e){return _e.categoryValue}),Me=he.map(function(_e){return _e.categoryLabel});re["dimensions["+X.model.containerInd+"].categoryarray"]=[me],re["dimensions["+X.model.containerInd+"].ticktext"]=[Me],re["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?x(X.potentialClickBand,"plotly_click",p.event.sourceEvent):P(X.potentialClickBand,"plotly_click",p.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var xe=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];xe.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,V(X.parcatsViewModel),Y(X.parcatsViewModel);var Ie=p.transition().duration(300).ease("cubic-in-out");Ie.each(function(){j(X.parcatsViewModel,!0),$(X.parcatsViewModel,!0)}).each("end",function(){(q||le)&&n.restyle(X.parcatsViewModel.graphDiv,re,[ie])})}}function Q(X){for(var re,ie=X.graphDiv._fullData,K=0;K<ie.length;K++)if(X.key===ie[K].uid){re=K;break}return re}function $(X,re){re===void 0&&(re=!1);function ie(K){return re?K.transition():K}X.pathSelection.data(function(K){return K.paths},a),ie(X.pathSelection).attr("d",function(K){return K.svgD})}function j(X,re){re===void 0&&(re=!1);function ie(me){return re?me.transition():me}X.dimensionSelection.data(function(me){return me.dimensions},a);var K=X.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},a);ie(X.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),ie(K).attr("transform",function(me){return v(0,me.y)});var q=K.select(".dimlabel");q.text(function(me,Me){return Me===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var le=K.select(".catlabel");le.attr("text-anchor",function(me){return s(me)?"start":"end"}).attr("x",function(me){return s(me)?me.width+5:-5}).each(function(me){var Me,xe;s(me)?(Me=me.width+5,xe="start"):(Me=-5,xe="end"),p.select(this).selectAll("tspan").attr("x",Me).attr("text-anchor",xe)});var ae=K.selectAll("rect.bandrect").data(function(me){return me.bands},a),he=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ae.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),g(he),ae.each(function(){w.raiseToTop(this)}),ae.exit().remove()}function ee(X,re,ie){var K=ie[0],q=re.margin||{l:80,r:80,t:100,b:80},le=K.trace,ae=le.domain,he=re.width,me=re.height,Me=Math.floor(he*(ae.x[1]-ae.x[0])),xe=Math.floor(me*(ae.y[1]-ae.y[0])),Ie=ae.x[0]*he+q.l,_e=re.height-ae.y[1]*re.height+q.t,Te=le.line.shape,ye;le.hoverinfo==="all"?ye=["count","probability"]:ye=(le.hoverinfo||"").split("+");var Ae={trace:le,key:le.uid,model:K,x:Ie,y:_e,width:Me,height:xe,hoveron:le.hoveron,hoverinfoItems:ye,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Te,dragDimension:null,margin:q,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return K.dimensions&&(V(Ae),Y(Ae)),Ae}function oe(X,re,ie,K,q){var le=[],ae=[],he,me;for(me=0;me<ie.length-1;me++)he=L(ie[me]+X[me],X[me+1]),le.push(he(q)),ae.push(he(1-q));var Me="M "+X[0]+","+re[0];for(Me+="l"+ie[0]+",0 ",me=1;me<ie.length;me++)Me+="C"+le[me-1]+","+re[me-1]+" "+ae[me-1]+","+re[me]+" "+X[me]+","+re[me],Me+="l"+ie[me]+",0 ";for(Me+="l0,"+K+" ",Me+="l -"+ie[ie.length-1]+",0 ",me=ie.length-2;me>=0;me--)Me+="C"+ae[me]+","+(re[me+1]+K)+" "+le[me]+","+(re[me]+K)+" "+(X[me]+ie[me])+","+(re[me]+K),Me+="l-"+ie[me]+",0 ";return Me+="Z",Me}function Y(X){var re=X.dimensions,ie=X.model,K=re.map(function(ze){return ze.categories.map(function(Fe){return Fe.y})}),q=X.model.dimensions.map(function(ze){return ze.categories.map(function(Fe){return Fe.displayInd})}),le=X.model.dimensions.map(function(ze){return ze.displayInd}),ae=X.dimensions.map(function(ze){return ze.model.dimensionInd}),he=re.map(function(ze){return ze.x}),me=re.map(function(ze){return ze.width}),Me=[];for(var xe in ie.paths)ie.paths.hasOwnProperty(xe)&&Me.push(ie.paths[xe]);function Ie(ze){var Fe=ze.categoryInds.map(function(at,Xe){return q[Xe][at]}),$e=ae.map(function(at){return Fe[at]});return $e}Me.sort(function(ze,Fe){var $e=Ie(ze),at=Ie(Fe);return X.sortpaths==="backward"&&($e.reverse(),at.reverse()),$e.push(ze.valueInds[0]),at.push(Fe.valueInds[0]),X.bundlecolors&&($e.unshift(ze.rawColor),at.unshift(Fe.rawColor)),$e<at?-1:$e>at?1:0});for(var _e=new Array(Me.length),Te=re[0].model.count,ye=re[0].categories.map(function(ze){return ze.height}).reduce(function(ze,Fe){return ze+Fe}),Ae=0;Ae<Me.length;Ae++){var Be=Me[Ae],Ue;Te>0?Ue=ye*(Be.count/Te):Ue=0;for(var De=new Array(K.length),He=0;He<Be.categoryInds.length;He++){var ut=Be.categoryInds[He],et=q[He][ut],Qe=le[He];De[Qe]=K[Qe][et],K[Qe][et]+=Ue;var qe=X.dimensions[Qe].categories[et],ft=qe.bands.length,gt=qe.bands[ft-1];if(gt===void 0||Be.rawColor!==gt.rawColor){var xt=gt===void 0?0:gt.y+gt.height;qe.bands.push({key:xt,color:Be.color,rawColor:Be.rawColor,height:Ue,width:qe.width,count:Be.count,y:xt,categoryViewModel:qe,parcatsViewModel:X})}else{var Ct=qe.bands[ft-1];Ct.height+=Ue,Ct.count+=Be.count}}var Je;X.pathShape==="hspline"?Je=oe(he,De,me,Ue,.5):Je=oe(he,De,me,Ue,0),_e[Ae]={key:Be.valueInds[0],model:Be,height:Ue,leftXs:he,topYs:De,dimWidths:me,svgD:Je,parcatsViewModel:X}}X.paths=_e}function V(X){var re=X.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});re.sort(function(ae,he){return ae.displayInd-he.displayInd});var ie=[];for(var K in re){var q=re[K].dimensionInd,le=X.model.dimensions[q];ie.push(W(X,le))}X.dimensions=ie}function W(X,re){var ie=40,K=16,q=X.model.dimensions.length,le=re.displayInd,ae,he,me;q>1?ae=(X.width-2*ie-K)/(q-1):ae=0,he=ie,me=he+ae*le;var Me=[],xe=X.model.maxCats,Ie=re.categories.length,_e=8,Te=re.count,ye=X.height-_e*(xe-1),Ae,Be,Ue,De,He,ut=(xe-Ie)*_e/2,et=re.categories.map(function(Qe){return{displayInd:Qe.displayInd,categoryInd:Qe.categoryInd}});for(et.sort(function(Qe,qe){return Qe.displayInd-qe.displayInd}),He=0;He<Ie;He++)De=et[He].categoryInd,Be=re.categories[De],Te>0?Ae=Be.count/Te*ye:Ae=0,Ue={key:Be.valueInds[0],model:Be,width:K,height:Ae,y:Be.dragY!==null?Be.dragY:ut,bands:[],parcatsViewModel:X},ut=ut+Ae+_e,Me.push(Ue);return{key:re.dimensionInd,x:re.dragX!==null?re.dragX:me,y:0,width:K,model:re,categories:Me,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(G,U,e){var p=e(45460);G.exports=function(n,C,w,v){var y=n._fullLayout,t=y._paper,r=y._size;p(n,t,C,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},w,v)}},73362:function(G,U,e){var p=e(50693),L=e(13838),n=e(41940),C=e(27670).Y,w=e(1426).extendFlat,v=e(44467).templatedArray;G.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:w({},L.tickvals,{editType:"plot"}),ticktext:w({},L.ticktext,{editType:"plot"}),tickformat:w({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:w({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(G,U,e){var p=e(25706),L=e(39898),n=e(28984).keyFun,C=e(28984).repeat,w=e(71828).sorterAsc,v=e(71828).strTranslate,y=p.bar.snapRatio;function t(N,Q){return N*(1-y)+Q*y}var r=p.bar.snapClose;function l(N,Q){return N*(1-r)+Q*r}function a(N,Q,$,j){if(s($,j))return $;var ee=N?-1:1,oe=0,Y=Q.length-1;if(ee<0){var V=oe;oe=Y,Y=V}for(var W=Q[oe],X=W,re=oe;ee*re<ee*Y;re+=ee){var ie=re+ee,K=Q[ie];if(ee*$<ee*l(W,K))return t(W,X);if(ee*$<ee*K||ie===Y)return t(K,W);X=W,W=K}}function s(N,Q){for(var $=0;$<Q.length;$++)if(N>=Q[$][0]&&N<=Q[$][1])return!0;return!1}function c(N){N.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function u(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var Q=h(N.brush.filter.getConsolidated(),N.height),$=[0],j,ee,oe,Y=Q.length?Q[0][0]:null,V=0;V<Q.length;V++)j=Q[V],ee=j[1]-j[0],$.push(Y),$.push(ee),oe=V+1,oe<Q.length&&(Y=Q[oe][0]-j[1]);return $.push(N.height),$}function h(N,Q){return N.map(function($){return $.map(function(j){return Math.max(0,j*Q)}).sort(w)})}function T(N,Q){var $=p.bar.handleHeight;if(!(Q>N[1]+$||Q<N[0]-$))return Q>=.9*N[1]+.1*N[0]?"n":Q<=.9*N[0]+.1*N[1]?"s":"ns"}function f(){L.select(document.body).style("cursor",null)}function o(N){N.attr("stroke-dasharray",m)}function d(N,Q){var $=L.select(N).selectAll(".highlight, .highlight-shadow"),j=Q?$.transition().duration(p.bar.snapDuration).each("end",Q):$;o(j)}function M(N,Q){var $=N.brush,j=$.filterSpecified,ee=NaN,oe={},Y;if(j){var V=N.height,W=$.filter.getConsolidated(),X=h(W,V),re=NaN,ie=NaN,K=NaN;for(Y=0;Y<=X.length;Y++){var q=X[Y];if(q&&q[0]<=Q&&Q<=q[1]){re=Y;break}else if(ie=Y?Y-1:NaN,q&&q[0]>Q){K=Y;break}}if(ee=re,isNaN(ee)&&(isNaN(ie)||isNaN(K)?ee=isNaN(ie)?K:ie:ee=Q-X[ie][1]<X[K][0]-Q?ie:K),!isNaN(ee)){var le=X[ee],ae=T(le,Q);ae&&(oe.interval=W[ee],oe.intervalPix=le,oe.region=ae)}}if(N.ordinal&&!oe.region){var he=N.unitTickvals,me=N.unitToPaddedPx.invert(Q);for(Y=0;Y<he.length;Y++){var Me=[he[Math.max(Y-1,0)]*.25+he[Y]*.75,he[Math.min(Y+1,he.length-1)]*.25+he[Y]*.75];if(me>=Me[0]&&me<=Me[1]){oe.clickableOrdinalRange=Me;break}}}return oe}function A(N,Q){L.event.sourceEvent.stopPropagation();var $=Q.height-L.mouse(N)[1]-2*p.verticalPadding,j=Q.unitToPaddedPx.invert($),ee=Q.brush,oe=M(Q,$),Y=oe.interval,V=ee.svgBrush;if(V.wasDragged=!1,V.grabbingBar=oe.region==="ns",V.grabbingBar){var W=Y.map(Q.unitToPaddedPx);V.grabPoint=$-W[0]-p.verticalPadding,V.barLength=W[1]-W[0]}V.clickableOrdinalRange=oe.clickableOrdinalRange,V.stayingIntervals=Q.multiselect&&ee.filterSpecified?ee.filter.getConsolidated():[],Y&&(V.stayingIntervals=V.stayingIntervals.filter(function(X){return X[0]!==Y[0]&&X[1]!==Y[1]})),V.startExtent=oe.region?Y[oe.region==="s"?1:0]:j,Q.parent.inBrushDrag=!0,V.brushStartCallback()}function E(N,Q){L.event.sourceEvent.stopPropagation();var $=Q.height-L.mouse(N)[1]-2*p.verticalPadding,j=Q.brush.svgBrush;j.wasDragged=!0,j._dragging=!0,j.grabbingBar?j.newExtent=[$-j.grabPoint,$+j.barLength-j.grabPoint].map(Q.unitToPaddedPx.invert):j.newExtent=[j.startExtent,Q.unitToPaddedPx.invert($)].sort(w),Q.brush.filterSpecified=!0,j.extent=j.stayingIntervals.concat([j.newExtent]),j.brushCallback(Q),d(N.parentNode)}function g(N,Q){var $=Q.brush,j=$.filter,ee=$.svgBrush;ee._dragging||(S(N,Q),E(N,Q),Q.brush.svgBrush.wasDragged=!1),ee._dragging=!1;var oe=L.event;oe.sourceEvent.stopPropagation();var Y=ee.grabbingBar;if(ee.grabbingBar=!1,ee.grabLocation=void 0,Q.parent.inBrushDrag=!1,f(),!ee.wasDragged){ee.wasDragged=void 0,ee.clickableOrdinalRange?$.filterSpecified&&Q.multiselect?ee.extent.push(ee.clickableOrdinalRange):(ee.extent=[ee.clickableOrdinalRange],$.filterSpecified=!0):Y?(ee.extent=ee.stayingIntervals,ee.extent.length===0&&_($)):_($),ee.brushCallback(Q),d(N.parentNode),ee.brushEndCallback($.filterSpecified?j.getConsolidated():[]);return}var V=function(){j.set(j.getConsolidated())};if(Q.ordinal){var W=Q.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),ee.newExtent=[a(0,W,ee.newExtent[0],ee.stayingIntervals),a(1,W,ee.newExtent[1],ee.stayingIntervals)];var X=ee.newExtent[1]>ee.newExtent[0];ee.extent=ee.stayingIntervals.concat(X?[ee.newExtent]:[]),ee.extent.length||_($),ee.brushCallback(Q),X?d(N.parentNode,V):(V(),d(N.parentNode))}else V();ee.brushEndCallback($.filterSpecified?j.getConsolidated():[])}function S(N,Q){var $=Q.height-L.mouse(N)[1]-2*p.verticalPadding,j=M(Q,$),ee="crosshair";j.clickableOrdinalRange?ee="pointer":j.region&&(ee=j.region+"-resize"),L.select(document.body).style("cursor",ee)}function b(N){N.on("mousemove",function(Q){L.event.preventDefault(),Q.parent.inBrushDrag||S(this,Q)}).on("mouseleave",function(Q){Q.parent.inBrushDrag||f()}).call(L.behavior.drag().on("dragstart",function(Q){A(this,Q)}).on("drag",function(Q){E(this,Q)}).on("dragend",function(Q){g(this,Q)}))}function i(N,Q){return N[0]-Q[0]}function P(N,Q,$){var j=$._context.staticPlot,ee=N.selectAll(".background").data(C);ee.enter().append("rect").classed("background",!0).call(c).call(u).style("pointer-events",j?"none":"auto").attr("transform",v(0,p.verticalPadding)),ee.call(b).attr("height",function(V){return V.height-p.verticalPadding});var oe=N.selectAll(".highlight-shadow").data(C);oe.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",Q).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),oe.attr("y1",function(V){return V.height}).call(o);var Y=N.selectAll(".highlight").data(C);Y.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),Y.attr("y1",function(V){return V.height}).call(o)}function x(N,Q,$){var j=N.selectAll("."+p.cn.axisBrush).data(C,n);j.enter().append("g").classed(p.cn.axisBrush,!0),P(j,Q,$)}function k(N){return N.svgBrush.extent.map(function(Q){return Q.slice()})}function _(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function B(N){return function($){var j=$.brush,ee=k(j),oe=ee.slice();j.filter.set(oe),N()}}function I(N){for(var Q=N.slice(),$=[],j,ee=Q.shift();ee;){for(j=ee.slice();(ee=Q.shift())&&ee[0]<=j[1];)j[1]=Math.max(j[1],ee[1]);$.push(j)}return $.length===1&&$[0][0]>$[0][1]&&($=[]),$}function z(){var N=[],Q,$;return{set:function(j){N=j.map(function(ee){return ee.slice().sort(w)}).sort(i),N.length===1&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),Q=I(N),$=N.reduce(function(ee,oe){return[Math.min(ee[0],oe[0]),Math.max(ee[1],oe[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return Q},getBounds:function(){return $}}}function O(N,Q,$,j,ee,oe){var Y=z();return Y.set($),{filter:Y,filterSpecified:Q,svgBrush:{extent:[],brushStartCallback:j,brushCallback:B(ee),brushEndCallback:oe}}}function F(N,Q){if(Array.isArray(N[0])?(N=N.map(function(j){return j.sort(w)}),Q.multiselect?N=I(N.sort(i)):N=[N[0]]):N=[N.sort(w)],Q.tickvals){var $=Q.tickvals.slice().sort(w);if(N=N.map(function(j){var ee=[a(0,$,j[0],[]),a(1,$,j[1],[])];if(ee[1]>ee[0])return ee}).filter(function(j){return j}),!N.length)return}return N.length>1?N:N[0]}G.exports={makeBrush:O,ensureAxisBrush:x,cleanRanges:F}},71791:function(G,U,e){G.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(G,U,e){var p=e(39898),L=e(27659).a0,n=e(21341),C=e(77922);U.name="parcoords",U.plot=function(w){var v=L(w.calcdata,"parcoords")[0];v.length&&n(w,v)},U.clean=function(w,v,y,t){var r=t._has&&t._has("parcoords"),l=v._has&&v._has("parcoords");r&&!l&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},U.toSVG=function(w){var v=w._fullLayout._glimages,y=p.select(w).selectAll(".svg-container"),t=y.filter(function(l,a){return a===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var l=this,a=l.toDataURL("image/png"),s=v.append("svg:image");s.attr({xmlns:C.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}t.each(r),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(G,U,e){var p=e(71828).isArrayOrTypedArray,L=e(21081),n=e(28984).wrap;G.exports=function(v,y){var t,r;return L.hasColorscale(y,"line")&&p(y.line.color)?(t=y.line.color,r=L.extractOpts(y.line).colorscale,L.calc(v,y,{vals:t,containerStr:"line",cLetter:"c"})):(t=C(y._length),r=[[0,y.line.color],[1,y.line.color]]),n({lineColor:t,cscale:r})};function C(w){for(var v=new Array(w),y=0;y<w;y++)v[y]=.5;return v}},25706:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(G,U,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,w=e(85501),v=e(89298),y=e(73362),t=e(57920),r=e(25706).maxDimensionCount,l=e(94397);function a(c,u,m,h,T){var f=T("line.color",m);if(L(c,"line")&&p.isArrayOrTypedArray(f)){if(f.length)return T("line.colorscale"),n(c,u,h,T,{prefix:"line.",cLetter:"c"}),f.length;u.line.color=m}return 1/0}function s(c,u,m,h){function T(A,E){return p.coerce(c,u,y.dimensions,A,E)}var f=T("values"),o=T("visible");if(f&&f.length||(o=u.visible=!1),o){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(u._ax,h.layout),T("multiselect");var M=T("constraintrange");M&&(u.constraintrange=t.cleanRanges(M,u))}}G.exports=function(u,m,h,T){function f(E,g){return p.coerce(u,m,y,E,g)}var o=u.dimensions;Array.isArray(o)&&o.length>r&&(p.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var d=w(u,m,{name:"dimensions",layout:T,handleItemDefaults:s}),M=a(u,m,h,T,f);C(m,T,f),(!Array.isArray(d)||!d.length)&&(m.visible=!1),l(m,d,"values",M);var A={family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};p.coerceFont(f,"labelfont",A),p.coerceFont(f,"tickfont",A),p.coerceFont(f,"rangefont",A),f("labelangle"),f("labelside"),f("unselected.line.color"),f("unselected.line.opacity")}},1602:function(G,U,e){var p=e(71828).isTypedArray;U.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},U.isOrdinal=function(L){return!!L.tickvals},U.isVisible=function(L){return L.visible||!("visible"in L)}},67618:function(G,U,e){var p=e(71791);p.plot=e(21341),G.exports=p},83398:function(G,U,e){var p=e(56068),L=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),n=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,w=e(71828),v=1e-6,y=2048,t=new Uint8Array(4),r=new Uint8Array(4),l={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(S){S.read({x:0,y:0,width:1,height:1,data:t})}function s(S,b,i,P,x){var k=S._gl;k.enable(k.SCISSOR_TEST),k.scissor(b,i,P,x),S.clear({color:[0,0,0,0],depth:1})}function c(S,b,i,P,x,k){var _=k.key;function B(I){var z=Math.min(P,x-I*P);I===0&&(window.cancelAnimationFrame(i.currentRafs[_]),delete i.currentRafs[_],s(S,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),!i.clearOnly&&(k.count=2*z,k.offset=2*I*P,b(k),I*P+z<x&&(i.currentRafs[_]=window.requestAnimationFrame(function(){B(I+1)})),i.drawCompleted=!1)}i.drawCompleted||(a(S),i.drawCompleted=!0),B(0)}function u(S){return Math.max(v,Math.min(1-v,S))}function m(S,b){for(var i=new Array(256),P=0;P<256;P++)i[P]=S(P/255).concat(b);return i}function h(S,b){return(S>>>8*b)%256/255}function T(S,b,i){for(var P=new Array(S*(C+4)),x=0,k=0;k<S;k++){for(var _=0;_<C;_++)P[x++]=_<b.length?b[_].paddedUnitValues[k]:.5;P[x++]=h(k,2),P[x++]=h(k,1),P[x++]=h(k,0),P[x++]=u(i[k])}return P}function f(S,b,i){for(var P=new Array(b*8),x=0,k=0;k<b;k++)for(var _=0;_<2;_++)for(var B=0;B<4;B++){var I=S*4+B,z=i[k*64+I];I===63&&_===0&&(z*=-1),P[x++]=z}return P}function o(S){var b="0"+S;return b.substr(b.length-2)}function d(S){return S<C?"p"+o(S+1)+"_"+o(S+4):"colors"}function M(S,b,i){for(var P=0;P<=C;P+=4)S[d(P)](f(P/4,b,i))}function A(S){for(var b={},i=0;i<=C;i+=4)b[d(i)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return b}function E(S,b,i,P,x,k,_,B,I,z,O,F,N,Q){for(var $=[[],[]],j=0;j<64;j++)$[0][j]=j===x?1:0,$[1][j]=j===k?1:0;_*=Q,B*=Q,I*=Q,z*=Q;var ee=S.lines.canvasOverdrag*Q,oe=S.domain,Y=S.canvasWidth*Q,V=S.canvasHeight*Q,W=S.pad.l*Q,X=S.pad.b*Q,re=S.layoutHeight*Q,ie=S.layoutWidth*Q,K=S.deselectedLines.color,q=S.deselectedLines.opacity,le=w.extendFlat({key:O,resolution:[Y,V],viewBoxPos:[_+ee,B],viewBoxSize:[I,z],i0:x,i1:k,dim0A:$[0].slice(0,16),dim0B:$[0].slice(16,32),dim0C:$[0].slice(32,48),dim0D:$[0].slice(48,64),dim1A:$[1].slice(0,16),dim1B:$[1].slice(16,32),dim1C:$[1].slice(32,48),dim1D:$[1].slice(48,64),drwLayer:F,contextColor:[K[0]/255,K[1]/255,K[2]/255,q!=="auto"?K[3]*q:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(P===b?0:_+ee)+(W-ee)+ie*oe.x[0],scissorWidth:(P===i?Y-_+ee:I+.5)+(P===b?_+ee:0),scissorY:B+X+re*oe.y[0],scissorHeight:z,viewportX:W-ee+ie*oe.x[0],viewportY:X+re*oe.y[0],viewportWidth:Y,viewportHeight:V},N);return le}function g(S){var b=y-1,i=Math.max(0,Math.floor(S[0]*b),0),P=Math.min(b,Math.ceil(S[1]*b),b);return[Math.min(i,P),Math.max(i,P)]}G.exports=function(S,b){var i=b.context,P=b.pick,x=b.regl,k=x._gl,_=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE),B=Math.max(_[0],Math.min(_[1],b.viewModel.plotGlPixelRatio)),I={currentRafs:{},drawCompleted:!0,clearOnly:!1},z,O,F,N,Q=A(x),$,j=x.texture(l),ee=[];Y(b);var oe=x({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:x.prop("scissorX"),y:x.prop("scissorY"),width:x.prop("scissorWidth"),height:x.prop("scissorHeight")}},viewport:{x:x.prop("viewportX"),y:x.prop("viewportY"),width:x.prop("viewportWidth"),height:x.prop("viewportHeight")},dither:!1,vert:L,frag:n,primitive:"lines",lineWidth:B,attributes:Q,uniforms:{resolution:x.prop("resolution"),viewBoxPos:x.prop("viewBoxPos"),viewBoxSize:x.prop("viewBoxSize"),dim0A:x.prop("dim0A"),dim1A:x.prop("dim1A"),dim0B:x.prop("dim0B"),dim1B:x.prop("dim1B"),dim0C:x.prop("dim0C"),dim1C:x.prop("dim1C"),dim0D:x.prop("dim0D"),dim1D:x.prop("dim1D"),loA:x.prop("loA"),hiA:x.prop("hiA"),loB:x.prop("loB"),hiB:x.prop("hiB"),loC:x.prop("loC"),hiC:x.prop("hiC"),loD:x.prop("loD"),hiD:x.prop("hiD"),palette:j,contextColor:x.prop("contextColor"),maskTexture:x.prop("maskTexture"),drwLayer:x.prop("drwLayer"),maskHeight:x.prop("maskHeight")},offset:x.prop("offset"),count:x.prop("count")});function Y(K){z=K.model,O=K.viewModel,F=O.dimensions.slice(),N=F[0]?F[0].values.length:0;var q=z.lines,le=P?q.color.map(function(he,me){return me/q.color.length}):q.color,ae=T(N,F,le);M(Q,N,ae),!i&&!P&&(j=x.texture(w.extendFlat({data:m(z.unitToColor,255)},l)))}function V(K){var q,le,ae,he=[[],[]];for(ae=0;ae<64;ae++){var me=!K&&ae<F.length?F[ae].brush.filter.getBounds():[-1/0,1/0];he[0][ae]=me[0],he[1][ae]=me[1]}var Me=y*8,xe=new Array(Me);for(q=0;q<Me;q++)xe[q]=255;if(!K)for(q=0;q<F.length;q++){var Ie=q%8,_e=(q-Ie)/8,Te=Math.pow(2,Ie),ye=F[q],Ae=ye.brush.filter.get();if(!(Ae.length<2)){var Be=g(Ae[0])[1];for(le=1;le<Ae.length;le++){var Ue=g(Ae[le]);for(ae=Be+1;ae<Ue[0];ae++)xe[ae*8+_e]&=~Te;Be=Math.max(Be,Ue[1])}}}var De={shape:[8,y],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:xe};return $?$(De):$=x.texture(De),{maskTexture:$,maskHeight:y,loA:he[0].slice(0,16),loB:he[0].slice(16,32),loC:he[0].slice(32,48),loD:he[0].slice(48,64),hiA:he[1].slice(0,16),hiB:he[1].slice(16,32),hiC:he[1].slice(32,48),hiD:he[1].slice(48,64)}}function W(K,q,le){var ae=K.length,he,me,Me,xe=1/0,Ie=-1/0;for(he=0;he<ae;he++)K[he].dim0.canvasX<xe&&(xe=K[he].dim0.canvasX,me=he),K[he].dim1.canvasX>Ie&&(Ie=K[he].dim1.canvasX,Me=he);ae===0&&s(x,0,0,z.canvasWidth,z.canvasHeight);var _e=V(i);for(he=0;he<ae;he++){var Te=K[he],ye=Te.dim0.crossfilterDimensionIndex,Ae=Te.dim1.crossfilterDimensionIndex,Be=Te.canvasX,Ue=Te.canvasY,De=Be+Te.panelSizeX,He=Te.plotGlPixelRatio;if(q||!ee[ye]||ee[ye][0]!==Be||ee[ye][1]!==De){ee[ye]=[Be,De];var ut=E(z,me,Me,he,ye,Ae,Be,Ue,Te.panelSizeX,Te.panelSizeY,Te.dim0.crossfilterDimensionIndex,i?0:P?2:1,_e,He);I.clearOnly=le;var et=q?z.lines.blockLineCount:N;c(x,oe,I,et,N,ut)}}}function X(K,q){return x.read({x:K,y:q,width:1,height:1,data:r}),r}function re(K,q,le,ae){var he=new Uint8Array(4*le*ae);return x.read({x:K,y:q,width:le,height:ae,data:he}),he}function ie(){S.style["pointer-events"]="none",j.destroy(),$&&$.destroy();for(var K in Q)Q[K].destroy()}return{render:W,readPixel:X,readPixels:re,destroy:ie,update:Y}}},94397:function(G){G.exports=function(U,e,p,L){L||(L=1/0);var n,C;for(n=0;n<e.length;n++)C=e[n],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),U._length=L,n=0;n<e.length;n++)C=e[n],C.visible&&(C._length=L);return L}},17171:function(G,U,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(36652),w=e(89298),v=L.strRotate,y=L.strTranslate,t=e(63893),r=e(91424),l=e(21081),a=e(28984),s=a.keyFun,c=a.repeat,u=a.unwrap,m=e(1602),h=e(25706),T=e(57920),f=e(83398);function o($,j,ee){return L.aggNums($,null,j,ee)}function d($,j){return A(o(Math.min,$,j),o(Math.max,$,j))}function M($){var j=$.range;return j?A(j[0],j[1]):d($.values,$._length)}function A($,j){return(isNaN($)||!isFinite($))&&($=0),(isNaN(j)||!isFinite(j))&&(j=0),$===j&&($===0?($-=1,j+=1):($*=.9,j*=1.1)),[$,j]}function E($,j){return j?function(ee,oe){var Y=j[oe];return Y??$(ee)}:$}function g($,j,ee,oe,Y){var V=M(ee);return oe?p.scale.ordinal().domain(oe.map(E(n(ee.tickformat),Y))).range(oe.map(function(W){var X=(W-V[0])/(V[1]-V[0]);return $-j+X*(2*j-$)})):p.scale.linear().domain(V).range([$-j,j])}function S($,j){return p.scale.linear().range([j,$-j])}function b($,j){return p.scale.linear().domain(M($)).range([j,1-j])}function i($){if($.tickvals){var j=M($);return p.scale.ordinal().domain($.tickvals).range($.tickvals.map(function(ee){return(ee-j[0])/(j[1]-j[0])}))}}function P($){var j=$.map(function(V){return V[0]}),ee=$.map(function(V){var W=C(V[1]);return p.rgb("rgb("+W[0]+","+W[1]+","+W[2]+")")}),oe=function(V){return function(W){return W[V]}},Y="rgb".split("").map(function(V){return p.scale.linear().clamp(!0).domain(j).range(ee.map(oe(V)))});return function(V){return Y.map(function(W){return W(V)})}}function x($){return $.dimensions.some(function(j){return j.brush.filterSpecified})}function k($,j,ee){var oe=u(j),Y=oe.trace,V=m.convertTypedArray(oe.lineColor),W=Y.line,X={color:C(Y.unselected.line.color),opacity:Y.unselected.line.opacity},re=l.extractOpts(W),ie=re.reversescale?l.flipScale(oe.cscale):oe.cscale,K=Y.domain,q=Y.dimensions,le=$.width,ae=Y.labelangle,he=Y.labelside,me=Y.labelfont,Me=Y.tickfont,xe=Y.rangefont,Ie=L.extendDeepNoArrays({},W,{color:V.map(p.scale.linear().domain(M({values:V,range:[re.min,re.max],_length:Y._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),_e=Math.floor(le*(K.x[1]-K.x[0])),Te=Math.floor($.height*(K.y[1]-K.y[0])),ye=$.margin||{l:80,r:80,t:100,b:80},Ae=_e,Be=Te;return{key:ee,colCount:q.filter(m.isVisible).length,dimensions:q,tickDistance:h.tickDistance,unitToColor:P(ie),lines:Ie,deselectedLines:X,labelAngle:ae,labelSide:he,labelFont:me,tickFont:Me,rangeFont:xe,layoutWidth:le,layoutHeight:$.height,domain:K,translateX:K.x[0]*le,translateY:$.height-K.y[1]*$.height,pad:ye,canvasWidth:Ae*h.canvasPixelRatio+2*Ie.canvasOverdrag,canvasHeight:Be*h.canvasPixelRatio,width:Ae,height:Be,canvasPixelRatio:h.canvasPixelRatio}}function _($,j,ee){var oe=ee.width,Y=ee.height,V=ee.dimensions,W=ee.canvasPixelRatio,X=function(le){return oe*le/Math.max(1,ee.colCount-1)},re=h.verticalPadding/Y,ie=S(Y,h.verticalPadding),K={key:ee.key,xScale:X,model:ee,inBrushDrag:!1},q={};return K.dimensions=V.filter(m.isVisible).map(function(le,ae){var he=b(le,re),me=q[le.label];q[le.label]=(me||0)+1;var Me=le.label+(me?"__"+me:""),xe=le.constraintrange,Ie=xe&&xe.length;Ie&&!Array.isArray(xe[0])&&(xe=[xe]);var _e=Ie?xe.map(function(Qe){return Qe.map(he)}):[[-1/0,1/0]],Te=function(){var Qe=K;Qe.focusLayer&&Qe.focusLayer.render(Qe.panels,!0);var qe=x(Qe);!$.contextShown()&&qe?(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0),$.contextShown(!0)):$.contextShown()&&!qe&&(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0,!0),$.contextShown(!1))},ye=le.values;ye.length>le._length&&(ye=ye.slice(0,le._length));var Ae=le.tickvals,Be;function Ue(Qe,qe){return{val:Qe,text:Be[qe]}}function De(Qe,qe){return Qe.val-qe.val}if(Array.isArray(Ae)&&Ae.length){Be=le.ticktext,!Array.isArray(Be)||!Be.length?Be=Ae.map(n(le.tickformat)):Be.length>Ae.length?Be=Be.slice(0,Ae.length):Ae.length>Be.length&&(Ae=Ae.slice(0,Be.length));for(var He=1;He<Ae.length;He++)if(Ae[He]<Ae[He-1]){for(var ut=Ae.map(Ue).sort(De),et=0;et<Ae.length;et++)Ae[et]=ut[et].val,Be[et]=ut[et].text;break}}else Ae=void 0;return ye=m.convertTypedArray(ye),{key:Me,label:le.label,tickFormat:le.tickformat,tickvals:Ae,ticktext:Be,ordinal:m.isOrdinal(le),multiselect:le.multiselect,xIndex:ae,crossfilterDimensionIndex:ae,visibleIndex:le._index,height:Y,values:ye,paddedUnitValues:ye.map(he),unitTickvals:Ae&&Ae.map(he),xScale:X,x:X(ae),canvasX:X(ae)*W,unitToPaddedPx:ie,domainScale:g(Y,h.verticalPadding,le,Ae,Be),ordinalScale:i(le),parent:K,model:ee,brush:T.makeBrush($,Ie,_e,function(){$.linePickActive(!1)},Te,function(Qe){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),$.linePickActive(!0),j&&j.filterChanged){var qe=he.invert,ft=Qe.map(function(gt){return gt.map(qe).sort(L.sorterAsc)}).sort(function(gt,xt){return gt[0]-xt[0]});j.filterChanged(K.key,le._index,ft)}})}}),K}function B($){$.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function I(){var $=!0,j=!1;return{linePickActive:function(ee){return arguments.length?$=!!ee:$},contextShown:function(ee){return arguments.length?j=!!ee:j}}}function z($,j){var ee=j==="top"?1:-1,oe=$*Math.PI/180,Y=Math.sin(oe),V=Math.cos(oe);return{dir:ee,dx:Y,dy:V,degrees:$}}function O($,j,ee){for(var oe=j.panels||(j.panels=[]),Y=$.data(),V=0;V<Y.length-1;V++){var W=oe[V]||(oe[V]={}),X=Y[V],re=Y[V+1];W.dim0=X,W.dim1=re,W.canvasX=X.canvasX,W.panelSizeX=re.canvasX-X.canvasX,W.panelSizeY=j.model.canvasHeight,W.y=0,W.canvasY=0,W.plotGlPixelRatio=ee}}function F($){for(var j=0;j<$.length;j++)for(var ee=0;ee<$[j].length;ee++)for(var oe=$[j][ee].trace,Y=oe.dimensions,V=0;V<Y.length;V++){var W=Y[V].values,X=Y[V]._ax;X&&(X.range?X.range=A(X.range[0],X.range[1]):X.range=d(W,oe._length),X.dtick||(X.dtick=.01*(Math.abs(X.range[1]-X.range[0])||1)),X.tickformat=Y[V].tickformat,w.calcTicks(X),X.cleanRange())}}function N($,j){return w.tickText($._ax,j,!1).text}function Q($,j){if($.ordinal)return"";var ee=$.domainScale.domain(),oe=ee[j?ee.length-1:0];return N($.model.dimensions[$.visibleIndex],oe)}G.exports=function(j,ee,oe,Y){var V=j._context.staticPlot,W=j._fullLayout,X=W._toppaper,re=W._glcontainer,ie=j._context.plotGlPixelRatio,K=j._fullLayout.paper_bgcolor;F(ee);var q=I(),le=ee.filter(function(et){return u(et).trace.visible}).map(k.bind(0,oe)).map(_.bind(0,q,Y));re.each(function(et,Qe){return L.extendFlat(et,le[Qe])});var ae=re.selectAll(".gl-canvas").each(function(et){et.viewModel=le[0],et.viewModel.plotGlPixelRatio=ie,et.viewModel.paperColor=K,et.model=et.viewModel?et.viewModel.model:null}),he=null,me=ae.filter(function(et){return et.pick});me.style("pointer-events",V?"none":"auto").on("mousemove",function(et){if(q.linePickActive()&&et.lineLayer&&Y&&Y.hover){var Qe=p.event,qe=this.width,ft=this.height,gt=p.mouse(this),xt=gt[0],Ct=gt[1];if(xt<0||Ct<0||xt>=qe||Ct>=ft)return;var Je=et.lineLayer.readPixel(xt,ft-1-Ct),ze=Je[3]!==0,Fe=ze?Je[2]+256*(Je[1]+256*Je[0]):null,$e={x:xt,y:Ct,clientX:Qe.clientX,clientY:Qe.clientY,dataIndex:et.model.key,curveNumber:Fe};Fe!==he&&(ze?Y.hover($e):Y.unhover&&Y.unhover($e),he=Fe)}}),ae.style("opacity",function(et){return et.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var Me=X.selectAll("."+h.cn.parcoords).data(le,s);Me.exit().remove(),Me.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Me.attr("transform",function(et){return y(et.model.translateX,et.model.translateY)});var xe=Me.selectAll("."+h.cn.parcoordsControlView).data(c,s);xe.enter().append("g").classed(h.cn.parcoordsControlView,!0),xe.attr("transform",function(et){return y(et.model.pad.l,et.model.pad.t)});var Ie=xe.selectAll("."+h.cn.yAxis).data(function(et){return et.dimensions},s);Ie.enter().append("g").classed(h.cn.yAxis,!0),xe.each(function(et){O(Ie,et,ie)}),ae.each(function(et){if(et.viewModel){!et.lineLayer||Y?et.lineLayer=f(this,et):et.lineLayer.update(et),(et.key||et.key===0)&&(et.viewModel[et.key]=et.lineLayer);var Qe=!et.context||Y;et.lineLayer.render(et.viewModel.panels,Qe)}}),Ie.attr("transform",function(et){return y(et.xScale(et.xIndex),0)}),Ie.call(p.behavior.drag().origin(function(et){return et}).on("drag",function(et){var Qe=et.parent;q.linePickActive(!1),et.x=Math.max(-h.overdrag,Math.min(et.model.width+h.overdrag,p.event.x)),et.canvasX=et.x*et.model.canvasPixelRatio,Ie.sort(function(qe,ft){return qe.x-ft.x}).each(function(qe,ft){qe.xIndex=ft,qe.x=et===qe?qe.x:qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio}),O(Ie,Qe,ie),Ie.filter(function(qe){return Math.abs(et.xIndex-qe.xIndex)!==0}).attr("transform",function(qe){return y(qe.xScale(qe.xIndex),0)}),p.select(this).attr("transform",y(et.x,0)),Ie.each(function(qe,ft,gt){gt===et.parent.key&&(Qe.dimensions[ft]=qe)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!x(Qe)),Qe.focusLayer.render&&Qe.focusLayer.render(Qe.panels)}).on("dragend",function(et){var Qe=et.parent;et.x=et.xScale(et.xIndex),et.canvasX=et.x*et.model.canvasPixelRatio,O(Ie,Qe,ie),p.select(this).attr("transform",function(qe){return y(qe.x,0)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!x(Qe)),Qe.focusLayer&&Qe.focusLayer.render(Qe.panels),Qe.pickLayer&&Qe.pickLayer.render(Qe.panels,!0),q.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(Qe.key,Qe.dimensions.map(function(qe){return qe.crossfilterDimensionIndex}))})),Ie.exit().remove();var _e=Ie.selectAll("."+h.cn.axisOverlays).data(c,s);_e.enter().append("g").classed(h.cn.axisOverlays,!0),_e.selectAll("."+h.cn.axis).remove();var Te=_e.selectAll("."+h.cn.axis).data(c,s);Te.enter().append("g").classed(h.cn.axis,!0),Te.each(function(et){var Qe=et.model.height/et.model.tickDistance,qe=et.domainScale,ft=qe.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Qe,et.tickFormat).tickValues(et.ordinal?ft:null).tickFormat(function(gt){return m.isOrdinal(et)?gt:N(et.model.dimensions[et.visibleIndex],gt)}).scale(qe)),r.font(Te.selectAll("text"),et.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var ye=_e.selectAll("."+h.cn.axisHeading).data(c,s);ye.enter().append("g").classed(h.cn.axisHeading,!0);var Ae=ye.selectAll("."+h.cn.axisTitle).data(c,s);Ae.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",V?"none":"auto"),Ae.text(function(et){return et.label}).each(function(et){var Qe=p.select(this);r.font(Qe,et.model.labelFont),t.convertToTspans(Qe,j)}).attr("transform",function(et){var Qe=z(et.model.labelAngle,et.model.labelSide),qe=h.axisTitleOffset;return(Qe.dir>0?"":y(0,2*qe+et.model.height))+v(Qe.degrees)+y(-qe*Qe.dx,-qe*Qe.dy)}).attr("text-anchor",function(et){var Qe=z(et.model.labelAngle,et.model.labelSide),qe=Math.abs(Qe.dx),ft=Math.abs(Qe.dy);return 2*qe>ft?Qe.dir*Qe.dx<0?"start":"end":"middle"});var Be=_e.selectAll("."+h.cn.axisExtent).data(c,s);Be.enter().append("g").classed(h.cn.axisExtent,!0);var Ue=Be.selectAll("."+h.cn.axisExtentTop).data(c,s);Ue.enter().append("g").classed(h.cn.axisExtentTop,!0),Ue.attr("transform",y(0,-h.axisExtentOffset));var De=Ue.selectAll("."+h.cn.axisExtentTopText).data(c,s);De.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(B),De.text(function(et){return Q(et,!0)}).each(function(et){r.font(p.select(this),et.model.rangeFont)});var He=Be.selectAll("."+h.cn.axisExtentBottom).data(c,s);He.enter().append("g").classed(h.cn.axisExtentBottom,!0),He.attr("transform",function(et){return y(0,et.model.height+h.axisExtentOffset)});var ut=He.selectAll("."+h.cn.axisExtentBottomText).data(c,s);ut.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(B),ut.text(function(et){return Q(et,!1)}).each(function(et){r.font(p.select(this),et.model.rangeFont)}),T.ensureAxisBrush(_e,K,j)}},21341:function(G,U,e){var p=e(17171),L=e(79749),n=e(1602).isVisible,C={};function w(t,r,l){var a=r.indexOf(l),s=t.indexOf(a);return s===-1&&(s+=r.length),s}function v(t,r){return function(a,s){return w(t,r,a)-w(t,r,s)}}var y=G.exports=function(r,l){var a=r._fullLayout,s=L(r,[],C);if(s){var c={},u={},m={},h={},T=a._size;l.forEach(function(A,E){var g=A[0].trace;m[E]=g.index;var S=h[E]=g._fullInput.index;c[E]=r.data[S].dimensions,u[E]=r.data[S].dimensions.slice()});var f=function(A,E,g){var S=u[A][E],b=g.map(function(B){return B.slice()}),i="dimensions["+E+"].constraintrange",P=a._tracePreGUI[r._fullData[m[A]]._fullInput.uid];if(P[i]===void 0){var x=S.constraintrange;P[i]=x||null}var k=r._fullData[m[A]].dimensions[E];b.length?(b.length===1&&(b=b[0]),S.constraintrange=b,k.constraintrange=b.slice(),b=[b]):(delete S.constraintrange,delete k.constraintrange,b=null);var _={};_[i]=b,r.emit("plotly_restyle",[_,[h[A]]])},o=function(A){r.emit("plotly_hover",A)},d=function(A){r.emit("plotly_unhover",A)},M=function(A,E){var g=v(E,u[A].filter(n));c[A].sort(g),u[A].filter(function(S){return!n(S)}).sort(function(S){return u[A].indexOf(S)}).forEach(function(S){c[A].splice(c[A].indexOf(S),1),c[A].splice(u[A].indexOf(S),0,S)}),r.emit("plotly_restyle",[{dimensions:[c[A]]},[h[A]]])};p(r,l,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:f,hover:o,unhover:d,axesMoved:M})}};y.reglPrecompiled=C},34e3:function(G,U,e){var p=e(9012),L=e(27670).Y,n=e(41940),C=e(22399),w=e(5386).f,v=e(5386).s,y=e(1426).extendFlat,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:y({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:y({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:y({},t,{}),outsidetextfont:y({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:y({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:y({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(G,U,e){var p=e(74875);U.name="pie",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},32354:function(G,U,e){var p=e(92770),L=e(84267),n=e(7901),C={};function w(r,l){var a=[],s=r._fullLayout,c=s.hiddenlabels||[],u=l.labels,m=l.marker.colors||[],h=l.values,T=l._length,f=l._hasValues&&T,o,d;if(l.dlabel)for(u=new Array(T),o=0;o<T;o++)u[o]=String(l.label0+o*l.dlabel);var M={},A=v(s["_"+l.type+"colormap"]),E=0,g=!1;for(o=0;o<T;o++){var S,b,i;if(f){if(S=h[o],!p(S))continue;S=+S}else S=1;b=u[o],(b===void 0||b==="")&&(b=o),b=String(b);var P=M[b];P===void 0?(M[b]=a.length,i=c.indexOf(b)!==-1,i||(E+=S),a.push({v:S,label:b,color:A(m[o],b),i:o,pts:[o],hidden:i})):(g=!0,d=a[P],d.v+=S,d.pts.push(o),d.hidden||(E+=S),d.color===!1&&m[o]&&(d.color=A(m[o],b)))}a=a.filter(function(k){return k.v>=0});var x=l.type==="funnelarea"?g:l.sort;return x&&a.sort(function(k,_){return _.v-k.v}),a[0]&&(a[0].vTotal=E),a}function v(r){return function(a,s){return!a||(a=L(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),r[s]||(r[s]=a),a)}}function y(r,l){var a=(l||{}).type;a||(a="pie");var s=r._fullLayout,c=r.calcdata,u=s[a+"colorway"],m=s["_"+a+"colormap"];s["extend"+a+"colors"]&&(u=t(u,C));for(var h=0,T=0;T<c.length;T++){var f=c[T],o=f[0].trace.type;if(o===a)for(var d=0;d<f.length;d++){var M=f[d];M.color===!1&&(m[M.label]?M.color=m[M.label]:(m[M.label]=M.color=u[h%u.length],h++))}}}function t(r,l){var a,s=JSON.stringify(r),c=l[s];if(!c){for(c=r.slice(),a=0;a<r.length;a++)c.push(L(r[a]).lighten(20).toHexString());for(a=0;a<r.length;a++)c.push(L(r[a]).darken(20).toHexString());l[s]=c}return c}G.exports={calc:w,crossTraceCalc:y,makePullColorFn:v,generateExtendedColors:t}},37434:function(G,U,e){var p=e(92770),L=e(71828),n=e(34e3),C=e(27670).c,w=e(90769).handleText;function v(t,r){var l=Array.isArray(t),a=L.isArrayOrTypedArray(r),s=Math.min(l?t.length:1/0,a?r.length:1/0);if(isFinite(s)||(s=0),s&&a){for(var c,u=0;u<s;u++){var m=r[u];if(p(m)&&m>0){c=!0;break}}c||(s=0)}return{hasLabels:l,hasValues:a,len:s}}function y(t,r,l,a){function s(i,P){return L.coerce(t,r,n,i,P)}var c=s("labels"),u=s("values"),m=v(c,u),h=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),!h){r.visible=!1;return}r._length=h;var T=s("marker.line.width");T&&s("marker.line.color"),s("marker.colors"),s("scalegroup");var f=s("text"),o=s("texttemplate"),d;if(o||(d=s("textinfo",Array.isArray(f)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),o||d&&d!=="none"){var M=s("textposition");w(t,r,a,s,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var A=Array.isArray(M)||M==="auto",E=A||M==="outside";E&&s("automargin"),(M==="inside"||M==="auto"||Array.isArray(M))&&s("insidetextorientation")}C(r,a,s);var g=s("hole"),S=s("title.text");if(S){var b=s("title.position",g?"middle center":"top center");!g&&b==="middle center"&&(r.title.position="top center"),L.coerceFont(s,"title.font",a.font)}s("sort"),s("direction"),s("rotation"),s("pull")}G.exports={handleLabelsAndValues:v,supplyDefaults:y}},20007:function(G,U,e){var p=e(23469).appendArrayMultiPointValues;G.exports=function(n,C){var w={curveNumber:C.index,pointNumbers:n.pts,data:C._input,fullData:C,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(w.pointNumber=w.i=n.pts[0]),p(w,C,n.pts),C.type==="funnelarea"&&(delete w.v,delete w.i),w}},53581:function(G,U,e){var p=e(71828);function L(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}U.formatPiePercent=function(C,w){var v=L((C*100).toPrecision(3));return p.numSeparate(v,w)+"%"},U.formatPieValue=function(C,w){var v=L(C.toPrecision(10));return p.numSeparate(v,w)},U.getFirstFilled=function(C,w){if(Array.isArray(C))for(var v=0;v<w.length;v++){var y=C[w[v]];if(y||y===0||y==="")return y}},U.castOption=function(C,w){if(Array.isArray(C))return U.getFirstFilled(C,w);if(C)return C},U.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},58810:function(G,U,e){G.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(G,U,e){var p=e(71828),L=e(92774);G.exports=function(C,w){function v(y,t){return p.coerce(C,w,L,y,t)}v("hiddenlabels"),v("piecolorway",w.colorway),v("extendpiecolors")}},14575:function(G,U,e){var p=e(39898),L=e(74875),n=e(30211),C=e(7901),w=e(91424),v=e(71828),y=v.strScale,t=v.strTranslate,r=e(63893),l=e(72597),a=l.recordMinTextSize,s=l.clearMinTextSize,c=e(97313).TEXTPAD,u=e(53581),m=e(20007),h=e(71828).isValidTextValue;function T(V,W){var X=V._context.staticPlot,re=V._fullLayout,ie=re._size;s("pie",re),A(W,V),Q(W,ie);var K=v.makeTraceGroups(re._pielayer,W,"trace").each(function(q){var le=p.select(this),ae=q[0],he=ae.trace;j(q),le.attr("stroke-linejoin","round"),le.each(function(){var me=p.select(this).selectAll("g.slice").data(q);me.enter().append("g").classed("slice",!0),me.exit().remove();var Me=[[[],[]],[[],[]]],xe=!1;me.each(function(De,He){if(De.hidden){p.select(this).selectAll("path,g").remove();return}De.pointNumber=De.i,De.curveNumber=he.index,Me[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var ut=ae.cx,et=ae.cy,Qe=p.select(this),qe=Qe.selectAll("path.surface").data([De]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Qe.call(o,V,q),he.pull){var ft=+u.castOption(he.pull,De.pts)||0;ft>0&&(ut+=ft*De.pxmid[0],et+=ft*De.pxmid[1])}De.cxFinal=ut,De.cyFinal=et;function gt(at,Xe,Pe,we){var ue=we*(Xe[0]-at[0]),ge=we*(Xe[1]-at[1]);return"a"+we*ae.r+","+we*ae.r+" 0 "+De.largeArc+(Pe?" 1 ":" 0 ")+ue+","+ge}var xt=he.hole;if(De.v===ae.vTotal){var Ct="M"+(ut+De.px0[0])+","+(et+De.px0[1])+gt(De.px0,De.pxmid,!0,1)+gt(De.pxmid,De.px0,!0,1)+"Z";xt?qe.attr("d","M"+(ut+xt*De.px0[0])+","+(et+xt*De.px0[1])+gt(De.px0,De.pxmid,!1,xt)+gt(De.pxmid,De.px0,!1,xt)+"Z"+Ct):qe.attr("d",Ct)}else{var Je=gt(De.px0,De.px1,!0,1);if(xt){var ze=1-xt;qe.attr("d","M"+(ut+xt*De.px1[0])+","+(et+xt*De.px1[1])+gt(De.px1,De.px0,!1,xt)+"l"+ze*De.px0[0]+","+ze*De.px0[1]+Je+"Z")}else qe.attr("d","M"+ut+","+et+"l"+De.px0[0]+","+De.px0[1]+Je+"Z")}oe(V,De,ae);var Fe=u.castOption(he.textposition,De.pts),$e=Qe.selectAll("g.slicetext").data(De.text&&Fe!=="none"?[0]:[]);$e.enter().append("g").classed("slicetext",!0),$e.exit().remove(),$e.each(function(){var at=v.ensureSingle(p.select(this),"text","",function(it){it.attr("data-notex",1)}),Xe=v.ensureUniformFontSize(V,Fe==="outside"?d(he,De,re.font):M(he,De,re.font));at.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,Xe).call(r.convertToTspans,V);var Pe=w.bBox(at.node()),we;if(Fe==="outside")we=_(Pe,De);else if(we=E(Pe,De,ae),Fe==="auto"&&we.scale<1){var ue=v.ensureUniformFontSize(V,he.outsidetextfont);at.call(w.font,ue),Pe=w.bBox(at.node()),we=_(Pe,De)}var ge=we.textPosAngle,Le=ge===void 0?De.pxmid:ee(ae.r,ge);if(we.targetX=ut+Le[0]*we.rCenter+(we.x||0),we.targetY=et+Le[1]*we.rCenter+(we.y||0),Y(we,Pe),we.outside){var ke=we.targetY;De.yLabelMin=ke-Pe.height/2,De.yLabelMid=ke,De.yLabelMax=ke+Pe.height/2,De.labelExtraX=0,De.labelExtraY=0,xe=!0}we.fontSize=Xe.size,a(he.type,we,re),q[He].transform=we,v.setTransormAndDisplay(at,we)})});var Ie=p.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Ie.enter().append("g").classed("titletext",!0),Ie.exit().remove(),Ie.each(function(){var De=v.ensureSingle(p.select(this),"text","",function(et){et.attr("data-notex",1)}),He=he.title.text;he._meta&&(He=v.templateString(He,he._meta)),De.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,he.title.font).call(r.convertToTspans,V);var ut;he.title.position==="middle center"?ut=B(ae):ut=I(ae,ie),De.attr("transform",t(ut.x,ut.y)+y(Math.min(1,ut.scale))+t(ut.tx,ut.ty))}),xe&&N(Me,he),f(me,he),xe&&he.automargin){var _e=w.bBox(le.node()),Te=he.domain,ye=ie.w*(Te.x[1]-Te.x[0]),Ae=ie.h*(Te.y[1]-Te.y[0]),Be=(.5*ye-ae.r)/ie.w,Ue=(.5*Ae-ae.r)/ie.h;L.autoMargin(V,"pie."+he.uid+".automargin",{xl:Te.x[0]-Be,xr:Te.x[1]+Be,yb:Te.y[0]-Ue,yt:Te.y[1]+Ue,l:Math.max(ae.cx-ae.r-_e.left,0),r:Math.max(_e.right-(ae.cx+ae.r),0),b:Math.max(_e.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-_e.top,0),pad:5})}})});setTimeout(function(){K.selectAll("tspan").each(function(){var q=p.select(this);q.attr("dy")&&q.attr("dy",q.attr("dy"))})},0)}function f(V,W){V.each(function(X){var re=p.select(this);if(!X.labelExtraX&&!X.labelExtraY){re.select("path.textline").remove();return}var ie=re.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(ie,X.transform);var K=X.cxFinal+X.pxmid[0],q=X.cyFinal+X.pxmid[1],le="M"+K+","+q,ae=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var he=X.labelExtraX*X.pxmid[1]/X.pxmid[0],me=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(he)>Math.abs(me)?le+="l"+me*X.pxmid[0]/X.pxmid[1]+","+me+"H"+(K+X.labelExtraX+ae):le+="l"+X.labelExtraX+","+he+"v"+(me-he)+"h"+ae}else le+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ae;v.ensureSingle(re,"path","textline").call(C.stroke,W.outsidetextfont.color).attr({"stroke-width":Math.min(2,W.outsidetextfont.size/8),d:le,fill:"none"})})}function o(V,W,X){var re=X[0],ie=re.cx,K=re.cy,q=re.trace,le=q.type==="funnelarea";"_hasHoverLabel"in q||(q._hasHoverLabel=!1),"_hasHoverEvent"in q||(q._hasHoverEvent=!1),V.on("mouseover",function(ae){var he=W._fullLayout,me=W._fullData[q.index];if(!(W._dragging||he.hovermode===!1)){var Me=me.hoverinfo;if(Array.isArray(Me)&&(Me=n.castHoverinfo({hoverinfo:[u.castOption(Me,ae.pts)],_module:q._module},he,0)),Me==="all"&&(Me="label+text+value+percent+name"),me.hovertemplate||Me!=="none"&&Me!=="skip"&&Me){var xe=ae.rInscribed||0,Ie=ie+ae.pxmid[0]*(1-xe),_e=K+ae.pxmid[1]*(1-xe),Te=he.separators,ye=[];if(Me&&Me.indexOf("label")!==-1&&ye.push(ae.label),ae.text=u.castOption(me.hovertext||me.text,ae.pts),Me&&Me.indexOf("text")!==-1){var Ae=ae.text;v.isValidTextValue(Ae)&&ye.push(Ae)}ae.value=ae.v,ae.valueLabel=u.formatPieValue(ae.v,Te),Me&&Me.indexOf("value")!==-1&&ye.push(ae.valueLabel),ae.percent=ae.v/re.vTotal,ae.percentLabel=u.formatPiePercent(ae.percent,Te),Me&&Me.indexOf("percent")!==-1&&ye.push(ae.percentLabel);var Be=me.hoverlabel,Ue=Be.font,De=[];n.loneHover({trace:q,x0:Ie-xe*re.r,x1:Ie+xe*re.r,y:_e,_x0:le?ie+ae.TL[0]:Ie-xe*re.r,_x1:le?ie+ae.TR[0]:Ie+xe*re.r,_y0:le?K+ae.TL[1]:_e-xe*re.r,_y1:le?K+ae.BL[1]:_e+xe*re.r,text:ye.join("<br>"),name:me.hovertemplate||Me.indexOf("name")!==-1?me.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:u.castOption(Be.bgcolor,ae.pts)||ae.color,borderColor:u.castOption(Be.bordercolor,ae.pts),fontFamily:u.castOption(Ue.family,ae.pts),fontSize:u.castOption(Ue.size,ae.pts),fontColor:u.castOption(Ue.color,ae.pts),nameLength:u.castOption(Be.namelength,ae.pts),textAlign:u.castOption(Be.align,ae.pts),hovertemplate:u.castOption(me.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[m(ae,me)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:W,inOut_bbox:De}),ae.bbox=De[0],q._hasHoverLabel=!0}q._hasHoverEvent=!0,W.emit("plotly_hover",{points:[m(ae,me)],event:p.event})}}),V.on("mouseout",function(ae){var he=W._fullLayout,me=W._fullData[q.index],Me=p.select(this).datum();q._hasHoverEvent&&(ae.originalEvent=p.event,W.emit("plotly_unhover",{points:[m(Me,me)],event:p.event}),q._hasHoverEvent=!1),q._hasHoverLabel&&(n.loneUnhover(he._hoverlayer.node()),q._hasHoverLabel=!1)}),V.on("click",function(ae){var he=W._fullLayout,me=W._fullData[q.index];W._dragging||he.hovermode===!1||(W._hoverdata=[m(ae,me)],n.click(W,p.event))})}function d(V,W,X){var re=u.castOption(V.outsidetextfont.color,W.pts)||u.castOption(V.textfont.color,W.pts)||X.color,ie=u.castOption(V.outsidetextfont.family,W.pts)||u.castOption(V.textfont.family,W.pts)||X.family,K=u.castOption(V.outsidetextfont.size,W.pts)||u.castOption(V.textfont.size,W.pts)||X.size;return{color:re,family:ie,size:K}}function M(V,W,X){var re=u.castOption(V.insidetextfont.color,W.pts);!re&&V._input.textfont&&(re=u.castOption(V._input.textfont.color,W.pts));var ie=u.castOption(V.insidetextfont.family,W.pts)||u.castOption(V.textfont.family,W.pts)||X.family,K=u.castOption(V.insidetextfont.size,W.pts)||u.castOption(V.textfont.size,W.pts)||X.size;return{color:re||C.contrast(W.color),family:ie,size:K}}function A(V,W){for(var X,re,ie=0;ie<V.length;ie++)if(X=V[ie][0],re=X.trace,re.title.text){var K=re.title.text;re._meta&&(K=v.templateString(K,re._meta));var q=w.tester.append("text").attr("data-notex",1).text(K).call(w.font,re.title.font).call(r.convertToTspans,W),le=w.bBox(q.node(),!0);X.titleBox={width:le.width,height:le.height},q.remove()}}function E(V,W,X){var re=X.r||W.rpx1,ie=W.rInscribed,K=W.startangle===W.stopangle;if(K)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var q=W.ring,le=q===1&&Math.abs(W.startangle-W.stopangle)===Math.PI*2,ae=W.halfangle,he=W.midangle,me=X.trace.insidetextorientation,Me=me==="horizontal",xe=me==="tangential",Ie=me==="radial",_e=me==="auto",Te=[],ye;if(!_e){var Ae=function(Qe,qe){if(g(W,Qe)){var ft=Math.abs(Qe-W.startangle),gt=Math.abs(Qe-W.stopangle),xt=ft<gt?ft:gt;qe==="tan"?ye=b(V,re,q,xt,0):ye=S(V,re,q,xt,Math.PI/2),ye.textPosAngle=Qe,Te.push(ye)}},Be;if(Me||xe){for(Be=4;Be>=-4;Be-=2)Ae(Math.PI*Be,"tan");for(Be=4;Be>=-4;Be-=2)Ae(Math.PI*(Be+1),"tan")}if(Me||Ie){for(Be=4;Be>=-4;Be-=2)Ae(Math.PI*(Be+1.5),"rad");for(Be=4;Be>=-4;Be-=2)Ae(Math.PI*(Be+.5),"rad")}}if(le||_e||Me){var Ue=Math.sqrt(V.width*V.width+V.height*V.height);if(ye={scale:ie*re*2/Ue,rCenter:1-ie,rotate:0},ye.textPosAngle=(W.startangle+W.stopangle)/2,ye.scale>=1)return ye;Te.push(ye)}(_e||Ie)&&(ye=S(V,re,q,ae,he),ye.textPosAngle=(W.startangle+W.stopangle)/2,Te.push(ye)),(_e||xe)&&(ye=b(V,re,q,ae,he),ye.textPosAngle=(W.startangle+W.stopangle)/2,Te.push(ye));for(var De=0,He=0,ut=0;ut<Te.length;ut++){var et=Te[ut].scale;if(He<et&&(He=et,De=ut),!_e&&He>=1)break}return Te[De]}function g(V,W){var X=V.startangle,re=V.stopangle;return X>W&&W>re||X<W&&W<re}function S(V,W,X,re,ie){W=Math.max(0,W-2*c);var K=V.width/V.height,q=x(K,re,W,X);return{scale:q*2/V.height,rCenter:i(K,q/W),rotate:P(ie)}}function b(V,W,X,re,ie){W=Math.max(0,W-2*c);var K=V.height/V.width,q=x(K,re,W,X);return{scale:q*2/V.width,rCenter:i(K,q/W),rotate:P(ie+Math.PI/2)}}function i(V,W){return Math.cos(W)-V*W}function P(V){return(180/Math.PI*V+720)%180-90}function x(V,W,X,re){var ie=V+1/(2*Math.tan(W));return X*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),re/(Math.sqrt(V*V+re/2)+V))}function k(V,W){return V.v===W.vTotal&&!W.trace.hole?1:Math.min(1/(1+1/Math.sin(V.halfangle)),V.ring/2)}function _(V,W){var X=W.pxmid[0],re=W.pxmid[1],ie=V.width/2,K=V.height/2;return X<0&&(ie*=-1),re<0&&(K*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(K)*(ie>0?1:-1)/2,y:K/(1+X*X/(re*re)),outside:!0}}function B(V){var W=Math.sqrt(V.titleBox.width*V.titleBox.width+V.titleBox.height*V.titleBox.height);return{x:V.cx,y:V.cy,scale:V.trace.hole*V.r*2/W,tx:0,ty:-V.titleBox.height/2+V.trace.title.font.size}}function I(V,W){var X=1,re=1,ie,K=V.trace,q={x:V.cx,y:V.cy},le={tx:0,ty:0};le.ty+=K.title.font.size,ie=F(K),K.title.position.indexOf("top")!==-1?(q.y-=(1+ie)*V.r,le.ty-=V.titleBox.height):K.title.position.indexOf("bottom")!==-1&&(q.y+=(1+ie)*V.r);var ae=z(V.r,V.trace.aspectratio),he=W.w*(K.domain.x[1]-K.domain.x[0])/2;return K.title.position.indexOf("left")!==-1?(he=he+ae,q.x-=(1+ie)*ae,le.tx+=V.titleBox.width/2):K.title.position.indexOf("center")!==-1?he*=2:K.title.position.indexOf("right")!==-1&&(he=he+ae,q.x+=(1+ie)*ae,le.tx-=V.titleBox.width/2),X=he/V.titleBox.width,re=O(V,W)/V.titleBox.height,{x:q.x,y:q.y,scale:Math.min(X,re),tx:le.tx,ty:le.ty}}function z(V,W){return V/(W===void 0?1:W)}function O(V,W){var X=V.trace,re=W.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(V.titleBox.height,re/2)}function F(V){var W=V.pull;if(!W)return 0;var X;if(Array.isArray(W))for(W=0,X=0;X<V.pull.length;X++)V.pull[X]>W&&(W=V.pull[X]);return W}function N(V,W){var X,re,ie,K,q,le,ae,he,me,Me,xe,Ie,_e;function Te(Ue,De){return Ue.pxmid[1]-De.pxmid[1]}function ye(Ue,De){return De.pxmid[1]-Ue.pxmid[1]}function Ae(Ue,De){De||(De={});var He=De.labelExtraY+(re?De.yLabelMax:De.yLabelMin),ut=re?Ue.yLabelMin:Ue.yLabelMax,et=re?Ue.yLabelMax:Ue.yLabelMin,Qe=Ue.cyFinal+q(Ue.px0[1],Ue.px1[1]),qe=He-ut,ft,gt,xt,Ct,Je,ze;if(qe*ae>0&&(Ue.labelExtraY=qe),!!Array.isArray(W.pull))for(gt=0;gt<Me.length;gt++)xt=Me[gt],!(xt===Ue||(u.castOption(W.pull,Ue.pts)||0)>=(u.castOption(W.pull,xt.pts)||0))&&((Ue.pxmid[1]-xt.pxmid[1])*ae>0?(Ct=xt.cyFinal+q(xt.px0[1],xt.px1[1]),qe=Ct-ut-Ue.labelExtraY,qe*ae>0&&(Ue.labelExtraY+=qe)):(et+Ue.labelExtraY-Qe)*ae>0&&(ft=3*le*Math.abs(gt-Me.indexOf(Ue)),Je=xt.cxFinal+K(xt.px0[0],xt.px1[0]),ze=Je+ft-(Ue.cxFinal+Ue.pxmid[0])-Ue.labelExtraX,ze*le>0&&(Ue.labelExtraX+=ze)))}for(re=0;re<2;re++)for(ie=re?Te:ye,q=re?Math.max:Math.min,ae=re?1:-1,X=0;X<2;X++){for(K=X?Math.max:Math.min,le=X?1:-1,he=V[re][X],he.sort(ie),me=V[1-re][X],Me=me.concat(he),Ie=[],xe=0;xe<he.length;xe++)he[xe].yLabelMid!==void 0&&Ie.push(he[xe]);for(_e=!1,xe=0;re&&xe<me.length;xe++)if(me[xe].yLabelMid!==void 0){_e=me[xe];break}for(xe=0;xe<Ie.length;xe++){var Be=xe&&Ie[xe-1];_e&&!xe&&(Be=_e),Ae(Ie[xe],Be)}}}function Q(V,W){for(var X=[],re=0;re<V.length;re++){var ie=V[re][0],K=ie.trace,q=K.domain,le=W.w*(q.x[1]-q.x[0]),ae=W.h*(q.y[1]-q.y[0]);K.title.text&&K.title.position!=="middle center"&&(ae-=O(ie,W));var he=le/2,me=ae/2;K.type==="funnelarea"&&!K.scalegroup&&(me/=K.aspectratio),ie.r=Math.min(he,me)/(1+F(K)),ie.cx=W.l+W.w*(K.domain.x[1]+K.domain.x[0])/2,ie.cy=W.t+W.h*(1-K.domain.y[0])-ae/2,K.title.text&&K.title.position.indexOf("bottom")!==-1&&(ie.cy-=O(ie,W)),K.scalegroup&&X.indexOf(K.scalegroup)===-1&&X.push(K.scalegroup)}$(V,X)}function $(V,W){for(var X,re,ie,K=0;K<W.length;K++){var q=1/0,le=W[K];for(re=0;re<V.length;re++)if(X=V[re][0],ie=X.trace,ie.scalegroup===le){var ae;if(ie.type==="pie")ae=X.r*X.r;else if(ie.type==="funnelarea"){var he,me;ie.aspectratio>1?(he=X.r,me=he/ie.aspectratio):(me=X.r,he=me*ie.aspectratio),he*=(1+ie.baseratio)/2,ae=he*me}q=Math.min(q,ae/X.vTotal)}for(re=0;re<V.length;re++)if(X=V[re][0],ie=X.trace,ie.scalegroup===le){var Me=q*X.vTotal;ie.type==="funnelarea"&&(Me/=(1+ie.baseratio)/2,Me/=ie.aspectratio),X.r=Math.sqrt(Me)}}}function j(V){var W=V[0],X=W.r,re=W.trace,ie=u.getRotationAngle(re.rotation),K=2*Math.PI/W.vTotal,q="px0",le="px1",ae,he,me;if(re.direction==="counterclockwise"){for(ae=0;ae<V.length&&V[ae].hidden;ae++);if(ae===V.length)return;ie+=K*V[ae].v,K*=-1,q="px1",le="px0"}for(me=ee(X,ie),ae=0;ae<V.length;ae++)he=V[ae],!he.hidden&&(he[q]=me,he.startangle=ie,ie+=K*he.v/2,he.pxmid=ee(X,ie),he.midangle=ie,ie+=K*he.v/2,me=ee(X,ie),he.stopangle=ie,he[le]=me,he.largeArc=he.v>W.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/W.vTotal,.5),he.ring=1-re.hole,he.rInscribed=k(he,W))}function ee(V,W){return[V*Math.sin(W),-V*Math.cos(W)]}function oe(V,W,X){var re=V._fullLayout,ie=X.trace,K=ie.texttemplate,q=ie.textinfo;if(!K&&q&&q!=="none"){var le=q.split("+"),ae=function(De){return le.indexOf(De)!==-1},he=ae("label"),me=ae("text"),Me=ae("value"),xe=ae("percent"),Ie=re.separators,_e;if(_e=he?[W.label]:[],me){var Te=u.getFirstFilled(ie.text,W.pts);h(Te)&&_e.push(Te)}Me&&_e.push(u.formatPieValue(W.v,Ie)),xe&&_e.push(u.formatPiePercent(W.v/X.vTotal,Ie)),W.text=_e.join("<br>")}function ye(De){return{label:De.label,value:De.v,valueLabel:u.formatPieValue(De.v,re.separators),percent:De.v/X.vTotal,percentLabel:u.formatPiePercent(De.v/X.vTotal,re.separators),color:De.color,text:De.text,customdata:v.castOption(ie,De.i,"customdata")}}if(K){var Ae=v.castOption(ie,W.i,"texttemplate");if(!Ae)W.text="";else{var Be=ye(W),Ue=u.getFirstFilled(ie.text,W.pts);(h(Ue)||Ue==="")&&(Be.text=Ue),W.text=v.texttemplateString(Ae,Be,V._fullLayout._d3locale,Be,ie._meta||{})}}}function Y(V,W){var X=V.rotate*Math.PI/180,re=Math.cos(X),ie=Math.sin(X),K=(W.left+W.right)/2,q=(W.top+W.bottom)/2;V.textX=K*re-q*ie,V.textY=K*ie+q*re,V.noCenter=!0}G.exports={plot:T,formatSliceLabel:oe,transformInsideText:E,determineInsideTextFont:M,positionTitleOutside:I,prerenderTitles:A,layoutAreas:Q,attachFxHandlers:o,computeTransform:Y}},68357:function(G,U,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;G.exports=function(w){var v=w._fullLayout._pielayer.selectAll(".trace");n(w,v,"pie"),v.each(function(y){var t=y[0],r=t.trace,l=p.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(a){p.select(this).call(L,a,r)})})}},63463:function(G,U,e){var p=e(7901),L=e(53581).castOption;G.exports=function(C,w,v){var y=v.marker.line,t=L(y.color,w.pts)||p.defaultLine,r=L(y.width,w.pts)||0;C.style("stroke-width",r).call(p.fill,w.color).call(p.stroke,t)}},10959:function(G,U,e){var p=e(82196);G.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(G,U,e){var p=e(9330).gl_pointcloud2d,L=e(78614),n=e(71739).findExtremes,C=e(34603);function w(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=w.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,l=this.yData=this.pickYData=t.y,a=this.pickXYData=t.xy,s=t.xbounds&&t.ybounds,c=t.indices,u,m,h,T=this.bounds,f,o,d;if(a){if(h=a,u=a.length>>>1,s)T[0]=t.xbounds[0],T[2]=t.xbounds[1],T[1]=t.ybounds[0],T[3]=t.ybounds[1];else for(d=0;d<u;d++)f=h[d*2],o=h[d*2+1],f<T[0]&&(T[0]=f),f>T[2]&&(T[2]=f),o<T[1]&&(T[1]=o),o>T[3]&&(T[3]=o);if(c)m=c;else for(m=new Int32Array(u),d=0;d<u;d++)m[d]=d}else for(u=r.length,h=new Float32Array(2*u),m=new Int32Array(u),d=0;d<u;d++)f=r[d],o=l[d],m[d]=d,h[d*2]=f,h[d*2+1]=o,f<T[0]&&(T[0]=f),f>T[2]&&(T[2]=f),o<T[1]&&(T[1]=o),o>T[3]&&(T[3]=o);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=h;var M=L(t.marker.color),A=L(t.marker.border.color),E=t.opacity*t.marker.opacity;M[3]*=E,this.pointcloudOptions.color=M;var g=t.marker.blend;if(g===null){var S=100;g=r.length<S||l.length<S}this.pointcloudOptions.blend=g,A[3]*=E,this.pointcloudOptions.borderColor=A;var b=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var P=this.scene.xaxis,x=this.scene.yaxis,k=i/2||.5;t._extremes[P._id]=n(P,[T[0],T[2]],{ppad:k}),t._extremes[x._id]=n(x,[T[1],T[3]],{ppad:k})},v.dispose=function(){this.pointcloud.dispose()};function y(t,r){var l=new w(t,r.uid);return l.update(r),l}G.exports=y},33876:function(G,U,e){var p=e(71828),L=e(10959);G.exports=function(C,w,v){function y(t,r){return p.coerce(C,w,L,t,r)}y("x"),y("y"),y("xbounds"),y("ybounds"),C.xy&&C.xy instanceof Float32Array&&(w.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(w.indices=C.indices),y("text"),y("marker.color",v),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",v),y("marker.border.arearatio"),w._length=null}},20593:function(G,U,e){G.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(G,U,e){var p=e(41940),L=e(9012),n=e(22399),C=e(77914),w=e(27670).Y,v=e(5386).f,y=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,l=e(1426).extendFlat,a=e(30962).overrideAll,s=G.exports=a({hoverinfo:l({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:w({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(y().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");s.transforms=void 0},75536:function(G,U,e){var p=e(30962).overrideAll,L=e(27659).a0,n=e(60436),C=e(528),w=e(6964),v=e(28569),y=e(47322).prepSelect,t=e(71828),r=e(73972),l="sankey";U.name=l,U.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),U.plot=function(s){var c=L(s.calcdata,l)[0];n(s,c),U.updateFx(s)},U.clean=function(s,c,u,m){var h=m._has&&m._has(l),T=c._has&&c._has(l);h&&!T&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(s){for(var c=0;c<s._fullData.length;c++)a(s,c)};function a(s,c){var u=s._fullData[c],m=s._fullLayout,h=m.dragmode,T=m.dragmode==="pan"?"move":"crosshair",f=u._bgRect;if(f&&!(h==="pan"||h==="zoom")){w(f,T);var o={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},M={gd:s,element:f.node(),plotinfo:{id:c,xaxis:o,yaxis:d,fillRangeItems:t.noop},subplot:c,xaxes:[o],yaxes:[d],doneFnCompleted:function(A){var E=s._fullData[c],g,S=E.node.groups.slice(),b=[];function i(_){for(var B=E._sankey.graph.nodes,I=0;I<B.length;I++)if(B[I].pointNumber===_)return B[I]}for(var P=0;P<A.length;P++){var x=i(A[P].pointNumber);if(x)if(x.group){for(var k=0;k<x.childrenNodes.length;k++)b.push(x.childrenNodes[k].pointNumber);S[x.pointNumber-E.node._count]=!1}else b.push(x.pointNumber)}g=S.filter(Boolean).concat([b]),r.call("_guiRestyle",s,{"node.groups":[g]},c)}};M.prepFn=function(A,E,g){y(A,E,g,M,h)},v.init(M)}}},92930:function(G,U,e){var p=e(68664),L=e(71828),n=e(28984).wrap,C=L.isArrayOrTypedArray,w=L.isIndex,v=e(21081);function y(r){var l=r.node,a=r.link,s=[],c=C(a.color),u=C(a.customdata),m={},h={},T=a.colorscales.length,f;for(f=0;f<T;f++){var o=a.colorscales[f],d=v.extractScale(o,{cLetter:"c"}),M=v.makeColorScaleFunc(d);h[o.label]=M}var A=0;for(f=0;f<a.value.length;f++)a.source[f]>A&&(A=a.source[f]),a.target[f]>A&&(A=a.target[f]);var E=A+1;r.node._count=E;var g,S=r.node.groups,b={};for(f=0;f<S.length;f++){var i=S[f];for(g=0;g<i.length;g++){var P=i[g],x=E+f;b.hasOwnProperty(P)?L.warn("Node "+P+" is already part of a group."):b[P]=x}}var k={source:[],target:[]};for(f=0;f<a.value.length;f++){var _=a.value[f],B=a.source[f],I=a.target[f];if(_>0&&w(B,E)&&w(I,E)&&!(b.hasOwnProperty(B)&&b.hasOwnProperty(I)&&b[B]===b[I])){b.hasOwnProperty(I)&&(I=b[I]),b.hasOwnProperty(B)&&(B=b[B]),B=+B,I=+I,m[B]=m[I]=!0;var z="";a.label&&a.label[f]&&(z=a.label[f]);var O=null;z&&h.hasOwnProperty(z)&&(O=h[z]),s.push({pointNumber:f,label:z,color:c?a.color[f]:a.color,customdata:u?a.customdata[f]:a.customdata,concentrationscale:O,source:B,target:I,value:+_}),k.source.push(B),k.target.push(I)}}var F=E+S.length,N=C(l.color),Q=C(l.customdata),$=[];for(f=0;f<F;f++)if(m[f]){var j=l.label[f];$.push({group:f>E-1,childrenNodes:[],pointNumber:f,label:j,color:N?l.color[f]:l.color,customdata:Q?l.customdata[f]:l.customdata})}var ee=!1;return t(F,k.source,k.target)&&(ee=!0),{circular:ee,links:s,nodes:$,groups:S,groupLookup:b}}function t(r,l,a){for(var s=L.init2dArray(r,0),c=0;c<Math.min(l.length,a.length);c++)if(L.isIndex(l[c],r)&&L.isIndex(a[c],r)){if(l[c]===a[c])return!0;s[l[c]].push(a[c])}var u=p(s);return u.components.some(function(m){return m.length>1})}G.exports=function(l,a){var s=y(a);return n({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(G,U,e){var p=e(71828),L=e(39953),n=e(7901),C=e(84267),w=e(27670).c,v=e(38048),y=e(44467),t=e(85501);G.exports=function(a,s,c,u){function m(i,P){return p.coerce(a,s,L,i,P)}var h=p.extendDeep(u.hoverlabel,a.hoverlabel),T=a.node,f=y.newContainer(s,"node");function o(i,P){return p.coerce(T,f,L.node,i,P)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",a.hoverinfo),v(T,f,o,h),o("hovertemplate");var d=u.colorway,M=function(i){return d[i%d.length]};o("color",f.label.map(function(i,P){return n.addOpacity(M(P),.8)})),o("customdata");var A=a.link||{},E=y.newContainer(s,"link");function g(i,P){return p.coerce(A,E,L.link,i,P)}g("label"),g("arrowlen"),g("source"),g("target"),g("value"),g("line.color"),g("line.width"),g("hoverinfo",a.hoverinfo),v(A,E,g,h),g("hovertemplate");var S=C(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";g("color",p.repeat(S,E.value.length)),g("customdata"),t(A,E,{name:"colorscales",handleItemDefaults:r}),w(s,u,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;f.x.length&&f.y.length&&(b="freeform"),m("arrangement",b),p.coerceFont(m,"textfont",p.extendFlat({},u.font)),s._length=null};function r(l,a){function s(c,u){return p.coerce(l,a,L.link.colorscales,c,u)}s("label"),s("cmin"),s("cmax"),s("colorscale")}},29396:function(G,U,e){G.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(G,U,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(3393),w=e(30211),v=e(7901),y=e(85247).cn,t=L._;function r(d){return d!==""}function l(d,M){return d.filter(function(A){return A.key===M.traceId})}function a(d,M){p.select(d).select("path").style("fill-opacity",M),p.select(d).select("rect").style("fill-opacity",M)}function s(d){p.select(d).select("text.name").style("fill","black")}function c(d){return function(M){return d.node.sourceLinks.indexOf(M.link)!==-1||d.node.targetLinks.indexOf(M.link)!==-1}}function u(d){return function(M){return M.node.sourceLinks.indexOf(d.link)!==-1||M.node.targetLinks.indexOf(d.link)!==-1}}function m(d,M,A){M&&A&&l(A,M).selectAll("."+y.sankeyLink).filter(c(M)).call(T.bind(0,M,A,!1))}function h(d,M,A){M&&A&&l(A,M).selectAll("."+y.sankeyLink).filter(c(M)).call(f.bind(0,M,A,!1))}function T(d,M,A,E){var g=E.datum().link.label;E.style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),g&&l(M,d).selectAll("."+y.sankeyLink).filter(function(S){return S.link.label===g}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),A&&l(M,d).selectAll("."+y.sankeyNode).filter(u(d)).call(m)}function f(d,M,A,E){var g=E.datum().link.label;E.style("fill-opacity",function(S){return S.tinyColorAlpha}),g&&l(M,d).selectAll("."+y.sankeyLink).filter(function(S){return S.link.label===g}).style("fill-opacity",function(S){return S.tinyColorAlpha}),A&&l(M,d).selectAll(y.sankeyNode).filter(u(d)).call(h)}function o(d,M){var A=d.hoverlabel||{},E=L.nestedProperty(A,M).get();return Array.isArray(E)?!1:E}G.exports=function(M,A){for(var E=M._fullLayout,g=E._paper,S=E._size,b=0;b<M._fullData.length;b++)if(M._fullData[b].visible&&M._fullData[b].type===y.sankey&&!M._fullData[b]._viewInitial){var i=M._fullData[b].node;M._fullData[b]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var P=function(ee,oe){var Y=oe.link;Y.originalEvent=p.event,M._hoverdata=[Y],w.click(M,{target:!0})},x=function(ee,oe,Y){M._fullLayout.hovermode!==!1&&(p.select(ee).call(T.bind(0,oe,Y,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,M.emit("plotly_hover",{event:p.event,points:[oe.link]})))},k=t(M,"source:")+" ",_=t(M,"target:")+" ",B=t(M,"concentration:")+" ",I=t(M,"incoming flow count:")+" ",z=t(M,"outgoing flow count:")+" ",O=function(ee,oe){if(M._fullLayout.hovermode===!1)return;var Y=oe.link.trace.link;if(Y.hoverinfo==="none"||Y.hoverinfo==="skip")return;var V=[];function W(ae){var he,me;ae.circular?(he=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,me=ae.circularPathData.verticalFullExtent):(he=(ae.source.x1+ae.target.x0)/2,me=(ae.y0+ae.y1)/2);var Me=[he,me];return ae.trace.orientation==="v"&&Me.reverse(),Me[0]+=oe.parent.translateX,Me[1]+=oe.parent.translateY,Me}for(var X=0,re=0;re<oe.flow.links.length;re++){var ie=oe.flow.links[re];if(!(M._fullLayout.hovermode==="closest"&&oe.link.pointNumber!==ie.pointNumber)){oe.link.pointNumber===ie.pointNumber&&(X=re),ie.fullData=ie.trace,Y=oe.link.trace.link;var K=W(ie),q={valueLabel:n(oe.valueFormat)(ie.value)+oe.valueSuffix};V.push({x:K[0],y:K[1],name:q.valueLabel,text:[ie.label||"",k+ie.source.label,_+ie.target.label,ie.concentrationscale?B+n("%0.2f")(ie.flow.labelConcentration):""].filter(r).join("<br>"),color:o(Y,"bgcolor")||v.addOpacity(ie.color,1),borderColor:o(Y,"bordercolor"),fontFamily:o(Y,"font.family"),fontSize:o(Y,"font.size"),fontColor:o(Y,"font.color"),nameLength:o(Y,"namelength"),textAlign:o(Y,"align"),idealAlign:p.event.x<K[0]?"right":"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:q,eventData:[ie]})}}var le=w.loneHover(V,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M,anchorIndex:X});le.each(function(){var ae=this;oe.link.concentrationscale||a(ae,.65),s(ae)})},F=function(ee,oe,Y){M._fullLayout.hovermode!==!1&&(p.select(ee).call(f.bind(0,oe,Y,!0)),oe.link.trace.link.hoverinfo!=="skip"&&(oe.link.fullData=oe.link.trace,M.emit("plotly_unhover",{event:p.event,points:[oe.link]})),w.loneUnhover(E._hoverlayer.node()))},N=function(ee,oe,Y){var V=oe.node;V.originalEvent=p.event,M._hoverdata=[V],p.select(ee).call(h,oe,Y),w.click(M,{target:!0})},Q=function(ee,oe,Y){M._fullLayout.hovermode!==!1&&(p.select(ee).call(m,oe,Y),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,M.emit("plotly_hover",{event:p.event,points:[oe.node]})))},$=function(ee,oe){if(M._fullLayout.hovermode!==!1){var Y=oe.node.trace.node;if(!(Y.hoverinfo==="none"||Y.hoverinfo==="skip")){var V=p.select(ee).select("."+y.nodeRect),W=M._fullLayout._paperdiv.node().getBoundingClientRect(),X=V.node().getBoundingClientRect(),re=X.left-2-W.left,ie=X.right+2-W.left,K=X.top+X.height/4-W.top,q={valueLabel:n(oe.valueFormat)(oe.node.value)+oe.valueSuffix};oe.node.fullData=oe.node.trace,M._fullLayout._calcInverseTransform(M);var le=M._fullLayout._invScaleX,ae=M._fullLayout._invScaleY,he=w.loneHover({x0:le*re,x1:le*ie,y:ae*K,name:n(oe.valueFormat)(oe.node.value)+oe.valueSuffix,text:[oe.node.label,I+oe.node.targetLinks.length,z+oe.node.sourceLinks.length].filter(r).join("<br>"),color:o(Y,"bgcolor")||oe.tinyColorHue,borderColor:o(Y,"bordercolor"),fontFamily:o(Y,"font.family"),fontSize:o(Y,"font.size"),fontColor:o(Y,"font.color"),nameLength:o(Y,"namelength"),textAlign:o(Y,"align"),idealAlign:"left",hovertemplate:Y.hovertemplate,hovertemplateLabels:q,eventData:[oe.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M});a(he,.85),s(he)}}},j=function(ee,oe,Y){M._fullLayout.hovermode!==!1&&(p.select(ee).call(h,oe,Y),oe.node.trace.node.hoverinfo!=="skip"&&(oe.node.fullData=oe.node.trace,M.emit("plotly_unhover",{event:p.event,points:[oe.node]})),w.loneUnhover(E._hoverlayer.node()))};C(M,g,A,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:x,follow:O,unhover:F,select:P},nodeEvents:{hover:Q,follow:$,unhover:j,select:N}})}},3393:function(G,U,e){var p=e(49887),L=e(81684).k4,n=e(39898),C=e(30838),w=e(86781),v=e(85247),y=e(84267),t=e(7901),r=e(91424),l=e(71828),a=l.strTranslate,s=l.strRotate,c=e(28984),u=c.keyFun,m=c.repeat,h=c.unwrap,T=e(63893),f=e(73972),o=e(18783),d=o.CAP_SHIFT,M=o.LINE_SPACING,A=3;function E(W,X,re){var ie=h(X),K=ie.trace,q=K.domain,le=K.orientation==="h",ae=K.node.pad,he=K.node.thickness,me=W.width*(q.x[1]-q.x[0]),Me=W.height*(q.y[1]-q.y[0]),xe=ie._nodes,Ie=ie._links,_e=ie.circular,Te;_e?Te=w.sankeyCircular().circularLinkGap(0):Te=C.sankey(),Te.iterations(v.sankeyIterations).size(le?[me,Me]:[Me,me]).nodeWidth(he).nodePadding(ae).nodeId(function(Je){return Je.pointNumber}).nodes(xe).links(Ie);var ye=Te();Te.nodePadding()<ae&&l.warn("node.pad was reduced to ",Te.nodePadding()," to fit within the figure.");var Ae,Be,Ue;for(var De in ie._groupLookup){var He=parseInt(ie._groupLookup[De]),ut;for(Ae=0;Ae<ye.nodes.length;Ae++)if(ye.nodes[Ae].pointNumber===He){ut=ye.nodes[Ae];break}if(ut){var et={pointNumber:parseInt(De),x0:ut.x0,x1:ut.x1,y0:ut.y0,y1:ut.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ye.nodes.unshift(et),ut.childrenNodes.unshift(et)}}function Qe(){for(Ae=0;Ae<ye.nodes.length;Ae++){var Je=ye.nodes[Ae],ze={},Fe,$e;for(Be=0;Be<Je.targetLinks.length;Be++)$e=Je.targetLinks[Be],Fe=$e.source.pointNumber+":"+$e.target.pointNumber,ze.hasOwnProperty(Fe)||(ze[Fe]=[]),ze[Fe].push($e);var at=Object.keys(ze);for(Be=0;Be<at.length;Be++){Fe=at[Be];var Xe=ze[Fe],Pe=0,we={};for(Ue=0;Ue<Xe.length;Ue++)$e=Xe[Ue],we[$e.label]||(we[$e.label]=0),we[$e.label]+=$e.value,Pe+=$e.value;for(Ue=0;Ue<Xe.length;Ue++)$e=Xe[Ue],$e.flow={value:Pe,labelConcentration:we[$e.label]/Pe,concentration:$e.value/Pe,links:Xe},$e.concentrationscale&&($e.color=y($e.concentrationscale($e.flow.labelConcentration)))}var ue=0;for(Be=0;Be<Je.sourceLinks.length;Be++)ue+=Je.sourceLinks[Be].value;for(Be=0;Be<Je.sourceLinks.length;Be++)$e=Je.sourceLinks[Be],$e.concentrationOut=$e.value/ue;var ge=0;for(Be=0;Be<Je.targetLinks.length;Be++)ge+=Je.targetLinks[Be].value;for(Be=0;Be<Je.targetLinks.length;Be++)$e=Je.targetLinks[Be],$e.concenrationIn=$e.value/ge}}Qe();function qe(Je){Je.forEach(function(ze){var Fe,$e,at=0,Xe=ze.length,Pe;for(ze.sort(function(we,ue){return we.y0-ue.y0}),Pe=0;Pe<Xe;++Pe)Fe=ze[Pe],Fe.y0>=at||($e=at-Fe.y0,$e>1e-6&&(Fe.y0+=$e,Fe.y1+=$e)),at=Fe.y1+ae})}function ft(Je){var ze=Je.map(function(ue,ge){return{x0:ue.x0,index:ge}}).sort(function(ue,ge){return ue.x0-ge.x0}),Fe=[],$e=-1,at,Xe=-1/0,Pe;for(Ae=0;Ae<ze.length;Ae++){var we=Je[ze[Ae].index];we.x0>Xe+he&&($e+=1,at=we.x0),Xe=we.x0,Fe[$e]||(Fe[$e]=[]),Fe[$e].push(we),Pe=at-we.x0,we.x0+=Pe,we.x1+=Pe}return Fe}if(K.node.x.length&&K.node.y.length){for(Ae=0;Ae<Math.min(K.node.x.length,K.node.y.length,ye.nodes.length);Ae++)if(K.node.x[Ae]&&K.node.y[Ae]){var gt=[K.node.x[Ae]*me,K.node.y[Ae]*Me];ye.nodes[Ae].x0=gt[0]-he/2,ye.nodes[Ae].x1=gt[0]+he/2;var xt=ye.nodes[Ae].y1-ye.nodes[Ae].y0;ye.nodes[Ae].y0=gt[1]-xt/2,ye.nodes[Ae].y1=gt[1]+xt/2}if(K.arrangement==="snap"){xe=ye.nodes;var Ct=ft(xe);qe(Ct)}Te.update(ye)}return{circular:_e,key:re,trace:K,guid:l.randstr(),horizontal:le,width:me,height:Me,nodePad:K.node.pad,nodeLineColor:K.node.line.color,nodeLineWidth:K.node.line.width,linkLineColor:K.link.line.color,linkLineWidth:K.link.line.width,linkArrowLength:K.link.arrowlen,valueFormat:K.valueformat,valueSuffix:K.valuesuffix,textFont:K.textfont,translateX:q.x[0]*W.width+W.margin.l,translateY:W.height-q.y[1]*W.height+W.margin.t,dragParallel:le?Me:me,dragPerpendicular:le?me:Me,arrangement:K.arrangement,sankey:Te,graph:ye,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function g(W,X,re){var ie=y(X.color),K=X.source.label+"|"+X.target.label,q=K+"__"+re;return X.trace=W.trace,X.curveNumber=W.trace.index,{circular:W.circular,key:q,traceId:W.key,pointNumber:X.pointNumber,link:X,tinyColorHue:t.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),linkPath:b,linkLineColor:W.linkLineColor,linkLineWidth:W.linkLineWidth,linkArrowLength:W.linkArrowLength,valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,parent:W,interactionState:W.interactionState,flow:X.flow}}function S(W,X){var re="",ie=W.width/2,K=W.circularPathData;return W.circularLinkType==="top"?re="M "+(K.targetX-X)+" "+(K.targetY+ie)+" L"+(K.rightInnerExtent-X)+" "+(K.targetY+ie)+"A"+(K.rightLargeArcRadius+ie)+" "+(K.rightSmallArcRadius+ie)+" 0 0 1 "+(K.rightFullExtent-ie-X)+" "+(K.targetY-K.rightSmallArcRadius)+"L"+(K.rightFullExtent-ie-X)+" "+K.verticalRightInnerExtent+"A"+(K.rightLargeArcRadius+ie)+" "+(K.rightLargeArcRadius+ie)+" 0 0 1 "+(K.rightInnerExtent-X)+" "+(K.verticalFullExtent-ie)+"L"+K.leftInnerExtent+" "+(K.verticalFullExtent-ie)+"A"+(K.leftLargeArcRadius+ie)+" "+(K.leftLargeArcRadius+ie)+" 0 0 1 "+(K.leftFullExtent+ie)+" "+K.verticalLeftInnerExtent+"L"+(K.leftFullExtent+ie)+" "+(K.sourceY-K.leftSmallArcRadius)+"A"+(K.leftLargeArcRadius+ie)+" "+(K.leftSmallArcRadius+ie)+" 0 0 1 "+K.leftInnerExtent+" "+(K.sourceY+ie)+"L"+K.sourceX+" "+(K.sourceY+ie)+"L"+K.sourceX+" "+(K.sourceY-ie)+"L"+K.leftInnerExtent+" "+(K.sourceY-ie)+"A"+(K.leftLargeArcRadius-ie)+" "+(K.leftSmallArcRadius-ie)+" 0 0 0 "+(K.leftFullExtent-ie)+" "+(K.sourceY-K.leftSmallArcRadius)+"L"+(K.leftFullExtent-ie)+" "+K.verticalLeftInnerExtent+"A"+(K.leftLargeArcRadius-ie)+" "+(K.leftLargeArcRadius-ie)+" 0 0 0 "+K.leftInnerExtent+" "+(K.verticalFullExtent+ie)+"L"+(K.rightInnerExtent-X)+" "+(K.verticalFullExtent+ie)+"A"+(K.rightLargeArcRadius-ie)+" "+(K.rightLargeArcRadius-ie)+" 0 0 0 "+(K.rightFullExtent+ie-X)+" "+K.verticalRightInnerExtent+"L"+(K.rightFullExtent+ie-X)+" "+(K.targetY-K.rightSmallArcRadius)+"A"+(K.rightLargeArcRadius-ie)+" "+(K.rightSmallArcRadius-ie)+" 0 0 0 "+(K.rightInnerExtent-X)+" "+(K.targetY-ie)+"L"+(K.targetX-X)+" "+(K.targetY-ie)+(X>0?"L"+K.targetX+" "+K.targetY:"")+"Z":re="M "+(K.targetX-X)+" "+(K.targetY-ie)+" L"+(K.rightInnerExtent-X)+" "+(K.targetY-ie)+"A"+(K.rightLargeArcRadius+ie)+" "+(K.rightSmallArcRadius+ie)+" 0 0 0 "+(K.rightFullExtent-ie-X)+" "+(K.targetY+K.rightSmallArcRadius)+"L"+(K.rightFullExtent-ie-X)+" "+K.verticalRightInnerExtent+"A"+(K.rightLargeArcRadius+ie)+" "+(K.rightLargeArcRadius+ie)+" 0 0 0 "+(K.rightInnerExtent-X)+" "+(K.verticalFullExtent+ie)+"L"+K.leftInnerExtent+" "+(K.verticalFullExtent+ie)+"A"+(K.leftLargeArcRadius+ie)+" "+(K.leftLargeArcRadius+ie)+" 0 0 0 "+(K.leftFullExtent+ie)+" "+K.verticalLeftInnerExtent+"L"+(K.leftFullExtent+ie)+" "+(K.sourceY+K.leftSmallArcRadius)+"A"+(K.leftLargeArcRadius+ie)+" "+(K.leftSmallArcRadius+ie)+" 0 0 0 "+K.leftInnerExtent+" "+(K.sourceY-ie)+"L"+K.sourceX+" "+(K.sourceY-ie)+"L"+K.sourceX+" "+(K.sourceY+ie)+"L"+K.leftInnerExtent+" "+(K.sourceY+ie)+"A"+(K.leftLargeArcRadius-ie)+" "+(K.leftSmallArcRadius-ie)+" 0 0 1 "+(K.leftFullExtent-ie)+" "+(K.sourceY+K.leftSmallArcRadius)+"L"+(K.leftFullExtent-ie)+" "+K.verticalLeftInnerExtent+"A"+(K.leftLargeArcRadius-ie)+" "+(K.leftLargeArcRadius-ie)+" 0 0 1 "+K.leftInnerExtent+" "+(K.verticalFullExtent-ie)+"L"+(K.rightInnerExtent-X)+" "+(K.verticalFullExtent-ie)+"A"+(K.rightLargeArcRadius-ie)+" "+(K.rightLargeArcRadius-ie)+" 0 0 1 "+(K.rightFullExtent+ie-X)+" "+K.verticalRightInnerExtent+"L"+(K.rightFullExtent+ie-X)+" "+(K.targetY+K.rightSmallArcRadius)+"A"+(K.rightLargeArcRadius-ie)+" "+(K.rightSmallArcRadius-ie)+" 0 0 1 "+(K.rightInnerExtent-X)+" "+(K.targetY+ie)+"L"+(K.targetX-X)+" "+(K.targetY+ie)+(X>0?"L"+K.targetX+" "+K.targetY:"")+"Z",re}function b(){var W=.5;function X(re){var ie=re.linkArrowLength;if(re.link.circular)return S(re.link,ie);var K=Math.abs((re.link.target.x0-re.link.source.x1)/2);ie>K&&(ie=K);var q=re.link.source.x1,le=re.link.target.x0-ie,ae=L(q,le),he=ae(W),me=ae(1-W),Me=re.link.y0-re.link.width/2,xe=re.link.y0+re.link.width/2,Ie=re.link.y1-re.link.width/2,_e=re.link.y1+re.link.width/2,Te="M"+q+","+Me,ye="C"+he+","+Me+" "+me+","+Ie+" "+le+","+Ie,Ae="C"+me+","+_e+" "+he+","+xe+" "+q+","+xe,Be=ie>0?"L"+(le+ie)+","+(Ie+re.link.width/2):"";return Be+="L"+le+","+_e,Te+ye+Be+Ae+"Z"}return X}function i(W,X){var re=y(X.color),ie=v.nodePadAcross,K=W.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var q=X.dx,le=Math.max(.5,X.dy),ae="node_"+X.pointNumber;return X.group&&(ae=l.randstr()),X.trace=W.trace,X.curveNumber=W.trace.index,{index:X.pointNumber,key:ae,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:W.key,trace:W.trace,node:X,nodePad:W.nodePad,nodeLineColor:W.nodeLineColor,nodeLineWidth:W.nodeLineWidth,textFont:W.textFont,size:W.horizontal?W.height:W.width,visibleWidth:Math.ceil(q),visibleHeight:le,zoneX:-ie,zoneY:-K,zoneWidth:q+2*ie,zoneHeight:le+2*K,labelY:W.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:W.width,forceLayouts:W.forceLayouts,horizontal:W.horizontal,darkBackground:re.getBrightness()<=128,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,graph:W.graph,arrangement:W.arrangement,uniqueNodeLabelPathId:[W.guid,W.key,ae].join("_"),interactionState:W.interactionState,figure:W}}function P(W){W.attr("transform",function(X){return a(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function x(W){W.call(P)}function k(W,X){W.call(x),X.attr("d",b())}function _(W){W.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function B(W){return W.link.width>1||W.linkLineWidth>0}function I(W){var X=a(W.translateX,W.translateY);return X+(W.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(W,X,re){W.on(".basic",null).on("mouseover.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(re.hover(this,ie,X),ie.interactionState.hovered=[this,ie])}).on("mousemove.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(re.follow(this,ie),ie.interactionState.hovered=[this,ie])}).on("mouseout.basic",function(ie){!ie.interactionState.dragInProgress&&!ie.partOfGroup&&(re.unhover(this,ie,X),ie.interactionState.hovered=!1)}).on("click.basic",function(ie){ie.interactionState.hovered&&(re.unhover(this,ie,X),ie.interactionState.hovered=!1),!ie.interactionState.dragInProgress&&!ie.partOfGroup&&re.select(this,ie,X)})}function O(W,X,re,ie){var K=n.behavior.drag().origin(function(q){return{x:q.node.x0+q.visibleWidth/2,y:q.node.y0+q.visibleHeight/2}}).on("dragstart",function(q){if(q.arrangement!=="fixed"&&(l.ensureSingle(ie._fullLayout._infolayer,"g","dragcover",function(ae){ie._fullLayout._dragCover=ae}),l.raiseToTop(this),q.interactionState.dragInProgress=q.node,ee(q.node),q.interactionState.hovered&&(re.nodeEvents.unhover.apply(0,q.interactionState.hovered),q.interactionState.hovered=!1),q.arrangement==="snap")){var le=q.traceId+"|"+q.key;q.forceLayouts[le]?q.forceLayouts[le].alpha(1):F(W,le,q),N(W,X,q,le,ie)}}).on("drag",function(q){if(q.arrangement!=="fixed"){var le=n.event.x,ae=n.event.y;q.arrangement==="snap"?(q.node.x0=le-q.visibleWidth/2,q.node.x1=le+q.visibleWidth/2,q.node.y0=ae-q.visibleHeight/2,q.node.y1=ae+q.visibleHeight/2):(q.arrangement==="freeform"&&(q.node.x0=le-q.visibleWidth/2,q.node.x1=le+q.visibleWidth/2),ae=Math.max(0,Math.min(q.size-q.visibleHeight/2,ae)),q.node.y0=ae-q.visibleHeight/2,q.node.y1=ae+q.visibleHeight/2),ee(q.node),q.arrangement!=="snap"&&(q.sankey.update(q.graph),k(W.filter(oe(q)),X))}}).on("dragend",function(q){if(q.arrangement!=="fixed"){q.interactionState.dragInProgress=!1;for(var le=0;le<q.node.childrenNodes.length;le++)q.node.childrenNodes[le].x=q.node.x,q.node.childrenNodes[le].y=q.node.y;q.arrangement!=="snap"&&$(q,ie)}});W.on(".drag",null).call(K)}function F(W,X,re,ie){Y(re.graph.nodes);var K=re.graph.nodes.filter(function(q){return q.originalX===re.node.originalX}).filter(function(q){return!q.partOfGroup});re.forceLayouts[X]=p.forceSimulation(K).alphaDecay(0).force("collide",p.forceCollide().radius(function(q){return q.dy/2+re.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Q(W,X,K,re)).stop()}function N(W,X,re,ie,K){window.requestAnimationFrame(function q(){var le;for(le=0;le<v.forceTicksPerFrame;le++)re.forceLayouts[ie].tick();var ae=re.graph.nodes;if(V(ae),re.sankey.update(re.graph),k(W.filter(oe(re)),X),re.forceLayouts[ie].alpha()>0)window.requestAnimationFrame(q);else{var he=re.node.originalX;re.node.x0=he-re.visibleWidth/2,re.node.x1=he+re.visibleWidth/2,$(re,K)}})}function Q(W,X,re,ie){return function(){for(var q=0,le=0;le<re.length;le++){var ae=re[le];ae===ie.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(ie.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),q=Math.max(q,Math.abs(ae.vx),Math.abs(ae.vy))}!ie.interactionState.dragInProgress&&q<.1&&ie.forceLayouts[X].alpha()>0&&ie.forceLayouts[X].alpha(0)}}function $(W,X){for(var re=[],ie=[],K=0;K<W.graph.nodes.length;K++){var q=(W.graph.nodes[K].x0+W.graph.nodes[K].x1)/2,le=(W.graph.nodes[K].y0+W.graph.nodes[K].y1)/2;re.push(q/W.figure.width),ie.push(le/W.figure.height)}f.call("_guiRestyle",X,{"node.x":[re],"node.y":[ie]},W.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function j(W){var X=[],re;for(re=0;re<W.length;re++)W[re].originalX=(W[re].x0+W[re].x1)/2,W[re].originalY=(W[re].y0+W[re].y1)/2,X.indexOf(W[re].originalX)===-1&&X.push(W[re].originalX);for(X.sort(function(ie,K){return ie-K}),re=0;re<W.length;re++)W[re].originalLayerIndex=X.indexOf(W[re].originalX),W[re].originalLayer=W[re].originalLayerIndex/(X.length-1)}function ee(W){W.lastDraggedX=W.x0+W.dx/2,W.lastDraggedY=W.y0+W.dy/2}function oe(W){return function(X){return X.node.originalX===W.node.originalX}}function Y(W){for(var X=0;X<W.length;X++)W[X].y=(W[X].y0+W[X].y1)/2,W[X].x=(W[X].x0+W[X].x1)/2}function V(W){for(var X=0;X<W.length;X++)W[X].y0=W[X].y-W[X].dy/2,W[X].y1=W[X].y0+W[X].dy,W[X].x0=W[X].x-W[X].dx/2,W[X].x1=W[X].x0+W[X].dx}G.exports=function(W,X,re,ie,K){var q=W._context.staticPlot,le=!1;l.ensureSingle(W._fullLayout._infolayer,"g","first-render",function(){le=!0});var ae=W._fullLayout._dragCover,he=re.filter(function(Ae){return h(Ae).trace.visible}).map(E.bind(null,ie)),me=X.selectAll("."+v.cn.sankey).data(he,u);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",q?"none":"auto").attr("transform",I),me.each(function(Ae,Be){W._fullData[Be]._sankey=Ae;var Ue="bgsankey-"+Ae.trace.uid+"-"+Be;l.ensureSingle(W._fullLayout._draggers,"rect",Ue),W._fullData[Be]._bgRect=n.select("."+Ue),W._fullData[Be]._bgRect.style("pointer-events",q?"none":"all").attr("width",Ae.width).attr("height",Ae.height).attr("x",Ae.translateX).attr("y",Ae.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",I);var Me=me.selectAll("."+v.cn.sankeyLinks).data(m,u);Me.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=Me.selectAll("."+v.cn.sankeyLink).data(function(Ae){var Be=Ae.graph.links;return Be.filter(function(Ue){return Ue.value}).map(g.bind(null,Ae))},u);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(z,me,K.linkEvents),xe.style("stroke",function(Ae){return B(Ae)?t.tinyRGB(y(Ae.linkLineColor)):Ae.tinyColorHue}).style("stroke-opacity",function(Ae){return B(Ae)?t.opacity(Ae.linkLineColor):Ae.tinyColorAlpha}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}).style("stroke-width",function(Ae){return B(Ae)?Ae.linkLineWidth:1}).attr("d",b()),xe.style("opacity",function(){return W._context.staticPlot||le||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ie=me.selectAll("."+v.cn.sankeyNodeSet).data(m,u);Ie.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ie.style("cursor",function(Ae){switch(Ae.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var _e=Ie.selectAll("."+v.cn.sankeyNode).data(function(Ae){var Be=Ae.graph.nodes;return j(Be),Be.map(i.bind(null,Ae))},u);_e.enter().append("g").classed(v.cn.sankeyNode,!0).call(P).style("opacity",function(Ae){return(W._context.staticPlot||le)&&!Ae.partOfGroup?1:0}),_e.call(z,me,K.nodeEvents).call(O,xe,K,W),_e.transition().ease(v.ease).duration(v.duration).call(P).style("opacity",function(Ae){return Ae.partOfGroup?0:1}),_e.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Te=_e.selectAll("."+v.cn.nodeRect).data(m);Te.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Te.style("stroke-width",function(Ae){return Ae.nodeLineWidth}).style("stroke",function(Ae){return t.tinyRGB(y(Ae.nodeLineColor))}).style("stroke-opacity",function(Ae){return t.opacity(Ae.nodeLineColor)}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}),Te.transition().ease(v.ease).duration(v.duration).call(_);var ye=_e.selectAll("."+v.cn.nodeLabel).data(m);ye.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),ye.attr("data-notex",1).text(function(Ae){return Ae.node.label}).each(function(Ae){var Be=n.select(this);r.font(Be,Ae.textFont),T.convertToTspans(Be,W)}).style("text-shadow",T.makeTextShadow(W._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ae){return Ae.horizontal&&Ae.left?"end":"start"}).attr("transform",function(Ae){var Be=n.select(this),Ue=T.lineCount(Be),De=Ae.textFont.size*((Ue-1)*M-d),He=Ae.nodeLineWidth/2+A,ut=((Ae.horizontal?Ae.visibleHeight:Ae.visibleWidth)-De)/2;Ae.horizontal&&(Ae.left?He=-He:He+=Ae.visibleWidth);var et=Ae.horizontal?"":"scale(-1,1)"+s(90);return a(Ae.horizontal?He:ut,Ae.horizontal?ut:He)+et}),ye.transition().ease(v.ease).duration(v.duration)}},84564:function(G){G.exports=function(e,p){for(var L=e.cd,n=[],C=L[0].trace,w=C._sankey.graph.nodes,v=0;v<w.length;v++){var y=w[v];if(!y.partOfGroup){var t=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];C.orientation==="v"&&t.reverse(),p&&p.contains(t,!1,v,e)&&n.push({pointNumber:y.pointNumber})}}return n}},75225:function(G,U,e){var p=e(71828);G.exports=function(n,C){for(var w=0;w<n.length;w++)n[w].i=w;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.texttemplate,n,"txt"),p.mergeArray(C.hovertext,n,"htx"),p.mergeArray(C.customdata,n,"data"),p.mergeArray(C.textposition,n,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,n,"ts"),p.mergeArray(C.textfont.color,n,"tc"),p.mergeArray(C.textfont.family,n,"tf"));var v=C.marker;if(v){p.mergeArrayCastPositive(v.size,n,"ms"),p.mergeArrayCastPositive(v.opacity,n,"mo"),p.mergeArray(v.symbol,n,"mx"),p.mergeArray(v.angle,n,"ma"),p.mergeArray(v.standoff,n,"mf"),p.mergeArray(v.color,n,"mc");var y=v.line;v.line&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(p.mergeArray(t.type,n,"mgt"),p.mergeArray(t.color,n,"mgc"))}}},82196:function(G,U,e){var p=e(12663).axisHoverFormat,L=e(5386).s,n=e(5386).f,C=e(50693),w=e(41940),v=e(79952).P,y=e(79952).u,t=e(91424),r=e(47581),l=e(1426).extendFlat;function a(u){return{valType:"any",dflt:0,editType:"calc"}}function s(u){return{valType:"any",editType:"calc"}}function c(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:a(),yperiod:a(),xperiod0:s(),yperiod0:s(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:y,marker:l({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:w({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(G,U,e){var p=e(92770),L=e(71828),n=e(89298),C=e(42973),w=e(50606).BADNUM,v=e(34098),y=e(36922),t=e(75225),r=e(66279);function l(h,T){var f=h._fullLayout,o=T._xA=n.getFromId(h,T.xaxis||"x","x"),d=T._yA=n.getFromId(h,T.yaxis||"y","y"),M=o.makeCalcdata(T,"x"),A=d.makeCalcdata(T,"y"),E=C(T,o,"x",M),g=C(T,d,"y",A),S=E.vals,b=g.vals,i=T._length,P=new Array(i),x=T.ids,k=m(T,f,o,d),_=!1,B,I,z,O,F,N;c(f,T);var Q="x",$="y",j;if(k)L.pushUnique(k.traceIndices,T._expandedIndex),B=k.orientation==="v",B?($="s",j="x"):(Q="s",j="y"),F=k.stackgaps==="interpolate";else{var ee=s(T,i);a(h,T,o,d,S,b,ee)}var oe=!!T.xperiodalignment,Y=!!T.yperiodalignment;for(I=0;I<i;I++){var V=P[I]={},W=p(S[I]),X=p(b[I]);W&&X?(V[Q]=S[I],V[$]=b[I],oe&&(V.orig_x=M[I],V.xEnd=E.ends[I],V.xStart=E.starts[I]),Y&&(V.orig_y=A[I],V.yEnd=g.ends[I],V.yStart=g.starts[I])):k&&(B?W:X)?(V[j]=B?S[I]:b[I],V.gap=!0,F?(V.s=w,_=!0):V.s=0):V[Q]=V[$]=w,x&&(V.id=String(x[I]))}if(t(P,T),y(h,T),r(P,T),k){for(I=0;I<P.length;)P[I][j]===w?P.splice(I,1):I++;if(L.sort(P,function(q,le){return q[j]-le[j]||q.i-le.i}),_){for(I=0;I<P.length-1&&P[I].gap;)I++;for(N=P[I].s,N||(N=P[I].s=0),z=0;z<I;z++)P[z].s=N;for(O=P.length-1;O>I&&P[O].gap;)O--;for(N=P[O].s,z=P.length-1;z>O;z--)P[z].s=N;for(;I<O;)if(I++,P[I].gap){for(z=I+1;P[z].gap;)z++;for(var re=P[I-1][j],ie=P[I-1].s,K=(P[z].s-ie)/(P[z][j]-re);I<z;)P[I].s=ie+(P[I][j]-re)*K,I++}}}return P}function a(h,T,f,o,d,M,A){var E=T._length,g=h._fullLayout,S=f._id,b=o._id,i=g._firstScatter[u(T)]===T.uid,P=(m(T,g,f,o)||{}).orientation,x=T.fill;f._minDtick=0,o._minDtick=0;var k={padded:!0},_={padded:!0};A&&(k.ppad=_.ppad=A);var B=E<2||d[0]!==d[E-1]||M[0]!==M[E-1];B&&(x==="tozerox"||x==="tonextx"&&(i||P==="h"))?k.tozero=!0:!(T.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(k.padded=!1,k.ppad=0),B&&(x==="tozeroy"||x==="tonexty"&&(i||P==="v"))?_.tozero=!0:(x==="tonextx"||x==="tozerox")&&(_.padded=!1),S&&(T._extremes[S]=n.findExtremes(f,d,k)),b&&(T._extremes[b]=n.findExtremes(o,M,_))}function s(h,T){if(v.hasMarkers(h)){var f=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/o),3)}:d=function(S){return Math.max((S||0)/o,3)},L.isArrayOrTypedArray(f.size)){var M={type:"linear"};n.setConvert(M);for(var A=M.makeCalcdata(h.marker,"size"),E=new Array(T),g=0;g<T;g++)E[g]=d(A[g]);return E}else return d(f.size)}}function c(h,T){var f=u(T),o=h._firstScatter;o[f]||(o[f]=T.uid)}function u(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function m(h,T,f,o){var d=h.stackgroup;if(d){var M=T._scatterStackOpts[f._id+o._id][d],A=M.orientation==="v"?o:f;if(A.type==="linear"||A.type==="log")return M}}G.exports={calc:l,calcMarkerSize:s,calcAxisExpansion:a,setFirstScatter:c,getStackOpts:m}},66279:function(G,U,e){var p=e(71828);G.exports=function(n,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(n,C)}},36922:function(G,U,e){var p=e(52075).hasColorscale,L=e(78803),n=e(34098);G.exports=function(w,v){n.hasLines(v)&&p(v,"line")&&L(w,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(v)&&(p(v,"marker")&&L(w,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),p(v,"marker.line")&&L(w,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(G,U,e){var p=e(47761),L=e(11661).setGroupPositions;function n(v,y){for(var t=y.xaxis,r=y.yaxis,l=v._fullLayout,a=v._fullData,s=v.calcdata,c=[],u=[],m=0;m<a.length;m++){var h=a[m];h.visible===!0&&h.type==="scatter"&&h.xaxis===t._id&&h.yaxis===r._id&&(h.orientation==="h"?c.push(s[m]):h.orientation==="v"&&u.push(s[m]))}var T={mode:l.scattermode,gap:l.scattergap};L(v,t,r,u,T),L(v,r,t,c,T)}G.exports=function(y,t){y._fullLayout.scattermode==="group"&&n(y,t);var r=t.xaxis,l=t.yaxis,a=r._id+l._id,s=y._fullLayout._scatterStackOpts[a];if(s){var c=y.calcdata,u,m,h,T,f,o,d,M,A,E,g,S,b,i,P;for(var x in s){E=s[x];var k=E.traceIndices;if(k.length){for(g=E.stackgaps==="interpolate",S=E.groupnorm,E.orientation==="v"?(b="x",i="y"):(b="y",i="x"),P=new Array(k.length),u=0;u<P.length;u++)P[u]=!1;o=c[k[0]];var _=new Array(o.length);for(u=0;u<o.length;u++)_[u]=o[u][b];for(u=1;u<k.length;u++){for(f=c[k[u]],m=h=0;m<f.length;m++){for(d=f[m][b];d>_[h]&&h<_.length;h++)C(f,m,_[h],u,P,g,b),m++;if(d!==_[h]){for(T=0;T<u;T++)C(c[k[T]],h,d,T,P,g,b);_.splice(h,0,d)}h++}for(;h<_.length;h++)C(f,m,_[h],u,P,g,b),m++}var B=_.length;for(m=0;m<o.length;m++){for(M=o[m][i]=o[m].s,u=1;u<k.length;u++)f=c[k[u]],f[0].trace._rawLength=f[0].trace._length,f[0].trace._length=B,M+=f[m].s,f[m][i]=M;if(S)for(A=(S==="fraction"?M:M/100)||1,u=0;u<k.length;u++){var I=c[k[u]][m];I[i]/=A,I.sNorm=I.s/A}}for(u=0;u<k.length;u++){f=c[k[u]];var z=f[0].trace,O=p.calcMarkerSize(z,z._rawLength),F=Array.isArray(O);if(O&&P[u]||F){var N=O;for(O=new Array(B),m=0;m<B;m++)O[m]=f[m].gap?0:F?N[f[m].i]:N}var Q=new Array(B),$=new Array(B);for(m=0;m<B;m++)Q[m]=f[m].x,$[m]=f[m].y;p.calcAxisExpansion(y,z,r,l,Q,$,O),f[0].t.orientation=E.orientation}}}}};function C(v,y,t,r,l,a,s){l[r]=!0;var c={i:null,gap:!0,s:0};if(c[s]=t,v.splice(y,0,c),y&&t===v[y-1][s]){var u=v[y-1];c.s=u.s,c.i=u.i,c.gap=u.gap}else a&&(c.s=w(v,y,t,s));y||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function w(v,y,t,r){var l=v[y-1],a=v[y+1];return a?l?l.s+(a.s-l.s)*(t-l[r])/(a[r]-l[r]):a.s:l.s}},34936:function(G,U,e){var p=e(71828),L=e(26125),n=e(82196);G.exports=function(w,v){var y,t,r;function l(m){return p.coerce(t._input,t,n,m)}if(v.scattermode==="group")for(r=0;r<w.length;r++)t=w[r],t.type==="scatter"&&(y=t._input,L(y,t,v,l));for(r=0;r<w.length;r++){var a=w[r];if(a.type==="scatter"){var s=a.fill;if(!(s==="none"||s==="toself")&&(a.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var c=r-1;c>=0;c--){var u=w[c];if(u.type==="scatter"&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},17438:function(G,U,e){var p=e(71828),L=e(73972),n=e(82196),C=e(47581),w=e(34098),v=e(67513),y=e(73927),t=e(565),r=e(49508),l=e(11058),a=e(94039),s=e(82410),c=e(28908),u=e(71828).coercePattern;G.exports=function(h,T,f,o){function d(P,x){return p.coerce(h,T,n,P,x)}var M=v(h,T,o,d);if(M||(T.visible=!1),!!T.visible){y(h,T,o,d),d("xhoverformat"),d("yhoverformat");var A=t(h,T,o,d);o.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var E=!A&&M<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",E),w.hasLines(T)&&(l(h,T,f,o,d,{backoff:!0}),a(h,T,d),d("connectgaps"),d("line.simplify")),w.hasMarkers(T)&&r(h,T,f,o,d,{gradient:!0}),w.hasText(T)&&(d("texttemplate"),s(h,T,o,d));var g=[];(w.hasMarkers(T)||w.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),g.push("points")),d("fill",A?A.fillDflt:"none"),T.fill!=="none"&&(c(h,T,f,d),w.hasLines(T)||a(h,T,d),u(d,"fillpattern",T.fillcolor,!1));var S=(T.line||{}).color,b=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&g.push("fills"),d("hoveron",g.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var i=L.getComponentMethod("errorbars","supplyDefaults");i(h,T,S||b||f,{axis:"y"}),i(h,T,S||b||f,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(T,d)}}},28908:function(G,U,e){var p=e(7901),L=e(71828).isArrayOrTypedArray;G.exports=function(C,w,v,y){var t=!1;if(w.marker){var r=w.marker.color,l=(w.marker.line||{}).color;r&&!L(r)?t=r:l&&!L(l)&&(t=l)}y("fillcolor",p.addOpacity((w.line||{}).color||t||v,.5))}},8225:function(G,U,e){var p=e(89298);G.exports=function(n,C,w){var v={},y={_fullLayout:w},t=p.getFromTrace(y,C,"x"),r=p.getFromTrace(y,C,"y"),l=n.orig_x;l===void 0&&(l=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),v.xLabel=p.tickText(t,t.c2l(l),!0).text,v.yLabel=p.tickText(r,r.c2l(a),!0).text,v}},34603:function(G,U,e){var p=e(7901),L=e(34098);G.exports=function(C,w){var v,y;if(C.mode==="lines")return v=C.line.color,v&&p.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var t=w.mcc||(C.marker||{}).color,r=w.mlcc||((C.marker||{}).line||{}).color;return y=t&&p.opacity(t)?t:r&&p.opacity(r)&&(w.mlw||((C.marker||{}).line||{}).width)?r:"",y?p.opacity(y)<.3?p.addOpacity(y,.3):y:(v=(C.line||{}).color,v&&p.opacity(v)&&L.hasLines(C)&&C.line.width?v:C.fillcolor)}},26125:function(G,U,e){var p=e(99082).getAxisGroup;G.exports=function(n,C,w,v){var y=C.orientation,t=C[{v:"x",h:"y"}[y]+"axis"],r=p(w,t)+y,l=w._alignmentOpts||{},a=v("alignmentgroup"),s=l[r];s||(s=l[r]={});var c=s[a];c?c.traces.push(C):c=s[a]={traces:[C],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var u=v("offsetgroup"),m=c.offsetGroups,h=m[u];u&&(h||(h=m[u]={offsetIndex:Object.keys(m).length}),C._offsetIndex=h.offsetIndex)}},33720:function(G,U,e){var p=e(71828),L=e(30211),n=e(73972),C=e(34603),w=e(7901),v=p.fillText;G.exports=function(t,r,l,a){var s=t.cd,c=s[0].trace,u=t.xa,m=t.ya,h=u.c2p(r),T=m.c2p(l),f=[h,T],o=c.hoveron||"",d=c.mode.indexOf("markers")!==-1?3:.5,M=!!c.xperiodalignment,A=!!c.yperiodalignment;if(o.indexOf("points")!==-1){var E=function(he){if(M){var me=u.c2p(he.xStart),Me=u.c2p(he.xEnd);return h>=Math.min(me,Me)&&h<=Math.max(me,Me)?0:1/0}var xe=Math.max(3,he.mrc||0),Ie=1-1/xe,_e=Math.abs(u.c2p(he.x)-h);return _e<xe?Ie*_e/xe:_e-xe+Ie},g=function(he){if(A){var me=m.c2p(he.yStart),Me=m.c2p(he.yEnd);return T>=Math.min(me,Me)&&T<=Math.max(me,Me)?0:1/0}var xe=Math.max(3,he.mrc||0),Ie=1-1/xe,_e=Math.abs(m.c2p(he.y)-T);return _e<xe?Ie*_e/xe:_e-xe+Ie},S=function(he){var me=Math.max(d,he.mrc||0),Me=u.c2p(he.x)-h,xe=m.c2p(he.y)-T;return Math.max(Math.sqrt(Me*Me+xe*xe)-me,1-d/me)},b=L.getDistanceFunction(a,E,g,S);if(L.getClosest(s,b,t),t.index!==!1){var i=s[t.index],P=u.c2p(i.x,!0),x=m.c2p(i.y,!0),k=i.mrc||1;t.index=i.i;var _=s[0].t.orientation,B=_&&(i.sNorm||i.s),I=_==="h"?B:i.orig_x!==void 0?i.orig_x:i.x,z=_==="v"?B:i.orig_y!==void 0?i.orig_y:i.y;return p.extendFlat(t,{color:C(c,i),x0:P-k,x1:P+k,xLabelVal:I,y0:x-k,y1:x+k,yLabelVal:z,spikeDistance:S(i),hovertemplate:c.hovertemplate}),v(i,c,t),n.getComponentMethod("errorbars","hoverInfo")(i,c,t),[t]}}if(o.indexOf("fills")!==-1&&c._polygons){var O=c._polygons,F=[],N=!1,Q=1/0,$=-1/0,j=1/0,ee=-1/0,oe,Y,V,W,X,re,ie,K,q;for(oe=0;oe<O.length;oe++)V=O[oe],V.contains(f)&&(N=!N,F.push(V),j=Math.min(j,V.ymin),ee=Math.max(ee,V.ymax));if(N){j=Math.max(j,0),ee=Math.min(ee,m._length);var le=(j+ee)/2;for(oe=0;oe<F.length;oe++)for(W=F[oe].pts,Y=1;Y<W.length;Y++)K=W[Y-1][1],q=W[Y][1],K>le!=q>=le&&(re=W[Y-1][0],ie=W[Y][0],q-K&&(X=re+(ie-re)*(le-K)/(q-K),Q=Math.min(Q,X),$=Math.max($,X)));Q=Math.max(Q,0),$=Math.min($,u._length);var ae=w.defaultLine;return w.opacity(c.fillcolor)?ae=c.fillcolor:w.opacity((c.line||{}).color)&&(ae=c.line.color),p.extendFlat(t,{distance:t.maxHoverDistance,x0:Q,x1:$,y0:le,y1:le,color:ae,hovertemplate:!1}),delete t.index,c.text&&!Array.isArray(c.text)?t.text=String(c.text):t.text=c.name,[t]}}}},67368:function(G,U,e){var p=e(34098);G.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(G,U,e){var p=e(71828),L=e(21479);G.exports=function(n,C){function w(y,t){return p.coerce(n,C,L,y,t)}var v=C.barmode==="group";C.scattermode==="group"&&w("scattergap",v?C.bargap:.2)}},11058:function(G,U,e){var p=e(71828).isArrayOrTypedArray,L=e(52075).hasColorscale,n=e(1586);G.exports=function(w,v,y,t,r,l){l||(l={});var a=(w.marker||{}).color;if(r("line.color",y),L(w,"line"))n(w,v,t,r,{prefix:"line.",cLetter:"c"});else{var s=(p(a)?!1:a)||y;r("line.color",s)}r("line.width"),l.noDash||r("line.dash"),l.backoff&&r("line.backoff")}},34621:function(G,U,e){var p=e(91424),L=e(50606),n=L.BADNUM,C=L.LOG_CLIP,w=C+.5,v=C-.5,y=e(71828),t=y.segmentsIntersect,r=y.constrain,l=e(47581);G.exports=function(s,c){var u=c.trace||{},m=c.xaxis,h=c.yaxis,T=m.type==="log",f=h.type==="log",o=m._length,d=h._length,M=c.backoff,A=u.marker,E=c.connectGaps,g=c.baseTolerance,S=c.shape,b=S==="linear",i=u.fill&&u.fill!=="none",P=[],x=l.minTolerance,k=s.length,_=new Array(k),B=0,I,z,O,F,N,Q,$,j,ee,oe,Y,V,W,X,re,ie;function K(bt){var Rt=s[bt];if(!Rt)return!1;var Ut=c.linearized?m.l2p(Rt.x):m.c2p(Rt.x),Gt=c.linearized?h.l2p(Rt.y):h.c2p(Rt.y);if(Ut===n){if(T&&(Ut=m.c2p(Rt.x,!0)),Ut===n)return!1;f&&Gt===n&&(Ut*=Math.abs(m._m*d*(m._m>0?w:v)/(h._m*o*(h._m>0?w:v)))),Ut*=1e3}if(Gt===n){if(f&&(Gt=h.c2p(Rt.y,!0)),Gt===n)return!1;Gt*=1e3}return[Ut,Gt]}function q(bt,Rt,Ut,Gt){var _t=Ut-bt,nr=Gt-Rt,lr=.5-bt,zr=.5-Rt,mt=_t*_t+nr*nr,jt=_t*lr+nr*zr;if(jt>0&&jt<mt){var Yt=lr*nr-zr*_t;if(Yt*Yt<mt)return!0}}var le,ae;function he(bt,Rt){var Ut=bt[0]/o,Gt=bt[1]/d,_t=Math.max(0,-Ut,Ut-1,-Gt,Gt-1);return _t&&le!==void 0&&q(Ut,Gt,le,ae)&&(_t=0),_t&&Rt&&q(Ut,Gt,Rt[0]/o,Rt[1]/d)&&(_t=0),(1+l.toleranceGrowth*_t)*g}function me(bt,Rt){var Ut=bt[0]-Rt[0],Gt=bt[1]-Rt[1];return Math.sqrt(Ut*Ut+Gt*Gt)}var Me=l.maxScreensAway,xe=-o*Me,Ie=o*(1+Me),_e=-d*Me,Te=d*(1+Me),ye=[[xe,_e,Ie,_e],[Ie,_e,Ie,Te],[Ie,Te,xe,Te],[xe,Te,xe,_e]],Ae,Be,Ue,De,He,ut;function et(bt,Rt){for(var Ut=[],Gt=0,_t=0;_t<4;_t++){var nr=ye[_t],lr=t(bt[0],bt[1],Rt[0],Rt[1],nr[0],nr[1],nr[2],nr[3]);lr&&(!Gt||Math.abs(lr.x-Ut[0][0])>1||Math.abs(lr.y-Ut[0][1])>1)&&(lr=[lr.x,lr.y],Gt&&me(lr,bt)<me(Ut[0],bt)?Ut.unshift(lr):Ut.push(lr),Gt++)}return Ut}function Qe(bt){if(bt[0]<xe||bt[0]>Ie||bt[1]<_e||bt[1]>Te)return[r(bt[0],xe,Ie),r(bt[1],_e,Te)]}function qe(bt,Rt){if(bt[0]===Rt[0]&&(bt[0]===xe||bt[0]===Ie)||bt[1]===Rt[1]&&(bt[1]===_e||bt[1]===Te))return!0}function ft(bt,Rt){var Ut=[],Gt=Qe(bt),_t=Qe(Rt);return Gt&&_t&&qe(Gt,_t)||(Gt&&Ut.push(Gt),_t&&Ut.push(_t)),Ut}function gt(bt,Rt,Ut){return function(Gt,_t){var nr=Qe(Gt),lr=Qe(_t),zr=[];if(nr&&lr&&qe(nr,lr))return zr;nr&&zr.push(nr),lr&&zr.push(lr);var mt=2*y.constrain((Gt[bt]+_t[bt])/2,Rt,Ut)-((nr||Gt)[bt]+(lr||_t)[bt]);if(mt){var jt;nr&&lr?jt=mt>0==nr[bt]>lr[bt]?nr:lr:jt=nr||lr,jt[bt]+=mt}return zr}}var xt;S==="linear"||S==="spline"?xt=et:S==="hv"||S==="vh"?xt=ft:S==="hvh"?xt=gt(0,xe,Ie):S==="vhv"&&(xt=gt(1,_e,Te));function Ct(bt,Rt){var Ut=Rt[0]-bt[0],Gt=(Rt[1]-bt[1])/Ut,_t=(bt[1]*Rt[0]-Rt[1]*bt[0])/Ut;return _t>0?[Gt>0?xe:Ie,Te]:[Gt>0?Ie:xe,_e]}function Je(bt){var Rt=bt[0],Ut=bt[1],Gt=Rt===_[B-1][0],_t=Ut===_[B-1][1];if(!(Gt&&_t))if(B>1){var nr=Rt===_[B-2][0],lr=Ut===_[B-2][1];Gt&&(Rt===xe||Rt===Ie)&&nr?lr?B--:_[B-1]=bt:_t&&(Ut===_e||Ut===Te)&&lr?nr?B--:_[B-1]=bt:_[B++]=bt}else _[B++]=bt}function ze(bt){_[B-1][0]!==bt[0]&&_[B-1][1]!==bt[1]&&Je([Ue,De]),Je(bt),He=null,Ue=De=0}var Fe=y.isArrayOrTypedArray(A);function $e(bt){if(bt&&M&&(bt.i=I,bt.d=s,bt.trace=u,bt.marker=Fe?A[bt.i]:A,bt.backoff=M),le=bt[0]/o,ae=bt[1]/d,Ae=bt[0]<xe?xe:bt[0]>Ie?Ie:0,Be=bt[1]<_e?_e:bt[1]>Te?Te:0,Ae||Be){if(!B)_[B++]=[Ae||bt[0],Be||bt[1]];else if(He){var Rt=xt(He,bt);Rt.length>1&&(ze(Rt[0]),_[B++]=Rt[1])}else ut=xt(_[B-1],bt)[0],_[B++]=ut;var Ut=_[B-1];Ae&&Be&&(Ut[0]!==Ae||Ut[1]!==Be)?(He&&(Ue!==Ae&&De!==Be?Je(Ue&&De?Ct(He,bt):[Ue||Ae,De||Be]):Ue&&De&&Je([Ue,De])),Je([Ae,Be])):Ue-Ae&&De-Be&&Je([Ae||Ue,Be||De]),He=bt,Ue=Ae,De=Be}else He&&ze(xt(He,bt)[0]),_[B++]=bt}for(I=0;I<k;I++)if(z=K(I),!!z){for(B=0,He=null,$e(z),I++;I<k;I++){if(F=K(I),!F){if(E)continue;break}if(!b||!c.simplify){$e(F);continue}var at=K(I+1);if(oe=me(F,z),!(!(i&&(B===0||B===k-1))&&oe<he(F,at)*x)){for(j=[(F[0]-z[0])/oe,(F[1]-z[1])/oe],N=z,Y=oe,V=X=re=0,$=!1,O=F,I++;I<s.length;I++){if(Q=at,at=K(I+1),!Q){if(E)continue;break}if(ee=[Q[0]-z[0],Q[1]-z[1]],ie=ee[0]*j[1]-ee[1]*j[0],X=Math.min(X,ie),re=Math.max(re,ie),re-X>he(Q,at))break;O=Q,W=ee[0]*j[0]+ee[1]*j[1],W>Y?(Y=W,F=Q,$=!1):W<V&&(V=W,N=Q,$=!0)}if($?($e(F),O!==N&&$e(N)):(N!==z&&$e(N),O!==F&&$e(F)),$e(O),I>=s.length||!Q)break;$e(Q),z=Q}}He&&Je([Ue||He[0],De||He[1]]),P.push(_.slice(0,B))}var Xe=S.slice(S.length-1);if(M&&Xe!=="h"&&Xe!=="v"){for(var Pe=!1,we=-1,ue=[],ge=0;ge<P.length;ge++)for(var Le=0;Le<P[ge].length-1;Le++){var ke=P[ge][Le],it=P[ge][Le+1],lt=p.applyBackoff(it,ke);(lt[0]!==it[0]||lt[1]!==it[1])&&(Pe=!0),ue[we+1]||(we++,ue[we]=[ke,[lt[0],lt[1]]])}return Pe?ue:P}return P}},94039:function(G){G.exports=function(e,p,L){var n=L("line.shape");n==="spline"&&L("line.smoothing")}},68687:function(G){var U={tonextx:1,tonexty:1,tonext:1};G.exports=function(p,L,n){var C,w,v,y,t,r={},l=!1,a=-1,s=0,c=-1;for(w=0;w<n.length;w++)C=n[w][0].trace,v=C.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=s,s++):C.fill in U&&c>=0?t=c:(t=c=s,s++),t<a&&(l=!0),C._groupIndex=a=t;var u=n.slice();l&&u.sort(function(h,T){var f=h[0].trace,o=T[0].trace;return f._groupIndex-o._groupIndex||f.index-o.index});var m={};for(w=0;w<u.length;w++)C=u[w][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in U&&(y=m[v],C._prevtrace=y||null,y&&(y._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return u}},39984:function(G,U,e){var p=e(92770);G.exports=function(n,C){C||(C=2);var w=n.marker,v=w.sizeref||1,y=w.sizemin||0,t=w.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var l=t(r/C);return p(l)&&l>0?Math.max(l,y):0}}},4898:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(G,U,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(34098);G.exports=function(v,y,t,r,l,a){var s=C.isBubble(v),c=(v.line||{}).color,u;if(a=a||{},c&&(t=c),l("marker.symbol"),l("marker.opacity",s?.7:1),l("marker.size"),a.noAngle||(l("marker.angle"),a.noAngleRef||l("marker.angleref"),a.noStandOff||l("marker.standoff")),l("marker.color",t),L(v,"marker")&&n(v,y,r,l,{prefix:"marker.",cLetter:"c"}),a.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),a.noLine||(c&&!Array.isArray(c)&&y.marker.color!==c?u=c:s?u=p.background:u=p.defaultLine,l("marker.line.color",u),L(v,"marker.line")&&n(v,y,r,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",s?1:0)),s&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),a.gradient){var m=l("marker.gradient.type");m!=="none"&&l("marker.gradient.color")}}},73927:function(G,U,e){var p=e(71828).dateTick0,L=e(50606),n=L.ONEWEEK;function C(w,v){return w%n===0?p(v,1):p(v,0)}G.exports=function(v,y,t,r,l){if(l||(l={x:!0,y:!0}),l.x){var a=r("xperiod");a&&(r("xperiod0",C(a,y.xcalendar)),r("xperiodalignment"))}if(l.y){var s=r("yperiod");s&&(r("yperiod0",C(s,y.ycalendar)),r("yperiodalignment"))}}},32663:function(G,U,e){var p=e(39898),L=e(73972),n=e(71828),C=n.ensureSingle,w=n.identity,v=e(91424),y=e(34098),t=e(34621),r=e(68687),l=e(61082).tester;G.exports=function(m,h,T,f,o,d){var M,A,E=!o,g=!!o&&o.duration>0,S=r(m,h,T);if(M=f.selectAll("g.trace").data(S,function(i){return i[0].trace.uid}),M.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),M.order(),a(m,M,h),g){d&&(A=d());var b=p.transition().duration(o.duration).ease(o.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});b.each(function(){f.selectAll("g.trace").each(function(i,P){s(m,P,h,i,S,this,o)})})}else M.each(function(i,P){s(m,P,h,i,S,this,o)});E&&M.exit().remove(),f.selectAll("path:not([d])").remove()};function a(u,m,h){m.each(function(T){var f=C(p.select(this),"g","fills");v.setClipUrl(f,h.layerClipId,u);var o=T[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var M=f.selectAll("g").data(d,w);M.enter().append("g"),M.exit().each(function(A){o[A]=null}).remove(),M.order().each(function(A){o[A]=C(p.select(this),"path","js-fill")})})}function s(u,m,h,T,f,o,d){var M=u._context.staticPlot,A;c(u,m,h,T,f);var E=!!d&&d.duration>0;function g(De){return E?De.transition():De}var S=h.xaxis,b=h.yaxis,i=T[0].trace,P=i.line,x=p.select(o),k=C(x,"g","errorbars"),_=C(x,"g","lines"),B=C(x,"g","points"),I=C(x,"g","text");if(L.getComponentMethod("errorbars","plot")(u,k,h,d),i.visible!==!0)return;g(x).style("opacity",i.opacity);var z,O,F=i.fill.charAt(i.fill.length-1);F!=="x"&&F!=="y"&&(F=""),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=x;var N="",Q=[],$=i._prevtrace;$&&(N=$._prevRevpath||"",O=$._nextFill,Q=$._polygons);var j,ee,oe="",Y="",V,W,X,re,ie,K,q,le=[],ae=n.noop;if(z=i._ownFill,y.hasLines(i)||i.fill!=="none"){for(O&&O.datum(T),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(V=v.steps(P.shape),W=v.steps(P.shape.split("").reverse().join(""))):P.shape==="spline"?V=W=function(De){var He=De[De.length-1];return De.length>1&&De[0][0]===He[0]&&De[0][1]===He[1]?v.smoothclosed(De.slice(1),P.smoothing):v.smoothopen(De,P.smoothing)}:V=W=function(De){return"M"+De.join("L")},X=function(De){return W(De.reverse())},le=t(T,{xaxis:S,yaxis:b,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,shape:P.shape,backoff:P.backoff,simplify:P.simplify,fill:i.fill}),q=i._polygons=new Array(le.length),A=0;A<le.length;A++)i._polygons[A]=l(le[A]);le.length&&(re=le[0][0],ie=le[le.length-1],K=ie[ie.length-1]),ae=function(De){return function(He){if(j=V(He),ee=X(He),oe?F?(oe+="L"+j.substr(1),Y=ee+("L"+Y.substr(1))):(oe+="Z"+j,Y=ee+"Z"+Y):(oe=j,Y=ee),y.hasLines(i)){var ut=p.select(this);if(ut.datum(T),De)g(ut.style("opacity",0).attr("d",j).call(v.lineGroupStyle)).style("opacity",1);else{var et=g(ut);et.attr("d",j),v.singleLineStyle(T,et)}}}}}var he=_.selectAll(".js-line").data(le);g(he.exit()).style("opacity",0).remove(),he.each(ae(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ae(!0)),v.setClipUrl(he,h.layerClipId,u);function me(De){g(De).attr("d","M0,0Z")}le.length?(z?(z.datum(T),re&&K&&(F?(F==="y"?re[1]=K[1]=b.c2p(0,!0):F==="x"&&(re[0]=K[0]=S.c2p(0,!0)),g(z).attr("d","M"+K+"L"+re+"L"+oe.substr(1)).call(v.singleFillStyle,u)):g(z).attr("d",oe+"Z").call(v.singleFillStyle,u))):O&&(i.fill.substr(0,6)==="tonext"&&oe&&N?(i.fill==="tonext"?g(O).attr("d",oe+"Z"+N+"Z").call(v.singleFillStyle,u):g(O).attr("d",oe+"L"+N.substr(1)+"Z").call(v.singleFillStyle,u),i._polygons=i._polygons.concat(Q)):(me(O),i._polygons=null)),i._prevRevpath=Y,i._prevPolygons=q):(z?me(z):O&&me(O),i._polygons=i._prevRevpath=i._prevPolygons=null);function Me(De){return De.filter(function(He){return!He.gap&&He.vis})}function xe(De){return De.filter(function(He){return He.vis})}function Ie(De){return De.filter(function(He){return!He.gap})}function _e(De){return De.id}function Te(De){if(De.ids)return _e}function ye(){return!1}function Ae(De,He,ut){var et,Qe,qe,ft=ut[0].trace,gt=y.hasMarkers(ft),xt=y.hasText(ft),Ct=Te(ft),Je=ye,ze=ye;if(gt||xt){var Fe=w,$e=ft.stackgroup,at=$e&&u._fullLayout._scatterStackOpts[S._id+b._id][$e].stackgaps==="infer zero";ft.marker.maxdisplayed||ft._needsCull?Fe=at?xe:Me:$e&&!at&&(Fe=Ie),gt&&(Je=Fe),xt&&(ze=Fe)}Qe=De.selectAll("path.point"),et=Qe.data(Je,Ct);var Xe=et.enter().append("path").classed("point",!0);E&&Xe.call(v.pointStyle,ft,u).call(v.translatePoints,S,b).style("opacity",0).transition().style("opacity",1),et.order();var Pe;gt&&(Pe=v.makePointStyleFns(ft)),et.each(function(we){var ue=p.select(this),ge=g(ue);qe=v.translatePoint(we,ge,S,b),qe?(v.singlePointStyle(we,ge,ft,Pe,u),h.layerClipId&&v.hideOutsideRangePoint(we,ge,S,b,ft.xcalendar,ft.ycalendar),ft.customdata&&ue.classed("plotly-customdata",we.data!==null&&we.data!==void 0)):ge.remove()}),E?et.exit().transition().style("opacity",0).remove():et.exit().remove(),Qe=He.selectAll("g"),et=Qe.data(ze,Ct),et.enter().append("g").classed("textpoint",!0).append("text"),et.order(),et.each(function(we){var ue=p.select(this),ge=g(ue.select("text"));qe=v.translatePoint(we,ge,S,b),qe?h.layerClipId&&v.hideOutsideRangePoint(we,ue,S,b,ft.xcalendar,ft.ycalendar):ue.remove()}),et.selectAll("text").call(v.textPointStyle,ft,u).each(function(we){var ue=S.c2p(we.x),ge=b.c2p(we.y);p.select(this).selectAll("tspan.line").each(function(){g(p.select(this)).attr({x:ue,y:ge})})}),et.exit().remove()}B.datum(T),I.datum(T),Ae(B,I,T);var Be=i.cliponaxis===!1,Ue=Be?null:h.layerClipId;v.setClipUrl(B,Ue,u),v.setClipUrl(I,Ue,u)}function c(u,m,h,T,f){var o=h.xaxis,d=h.yaxis,M=p.extent(n.simpleMap(o.range,o.r2c)),A=p.extent(n.simpleMap(d.range,d.r2c)),E=T[0].trace;if(y.hasMarkers(E)){var g=E.marker.maxdisplayed;if(g!==0){var S=T.filter(function(x){return x.x>=M[0]&&x.x<=M[1]&&x.y>=A[0]&&x.y<=A[1]}),b=Math.ceil(S.length/g),i=0;f.forEach(function(x,k){var _=x[0].trace;y.hasMarkers(_)&&_.marker.maxdisplayed>0&&k<m&&i++});var P=Math.round(i*b/3+Math.floor(i/3)*b/7.1);T.forEach(function(x){delete x.vis}),S.forEach(function(x,k){Math.round((k+P)%b)===0&&(x.vis=!0)})}}}},98002:function(G,U,e){var p=e(34098);G.exports=function(n,C){var w=n.cd,v=n.xaxis,y=n.yaxis,t=[],r=w[0].trace,l,a,s,c,u=!p.hasMarkers(r)&&!p.hasText(r);if(u)return[];if(C===!1)for(l=0;l<w.length;l++)w[l].selected=0;else for(l=0;l<w.length;l++)a=w[l],s=v.c2p(a.x),c=y.c2p(a.y),a.i!==null&&C.contains([s,c],!1,l,n)?(t.push({pointNumber:a.i,x:v.c2d(a.x),y:y.c2d(a.y)}),a.selected=1):a.selected=0;return t}},565:function(G){var U=["orientation","groupnorm","stackgaps"];G.exports=function(p,L,n,C){var w=n._scatterStackOpts,v=C("stackgroup");if(v){var y=L.xaxis+L.yaxis,t=w[y];t||(t=w[y]={});var r=t[v],l=!1;r?r.traces.push(L):(r=t[v]={traceIndices:[],traces:[L]},l=!0);for(var a={orientation:L.x&&!L.y?"h":"v"},s=0;s<U.length;s++){var c=U[s],u=c+"Found";if(!r[u]){var m=p[c]!==void 0,h=c==="orientation";if((m||l)&&(r[c]=C(c,a[c]),h&&(r.fillDflt=r[c]==="h"?"tonextx":"tonexty"),m&&(r[u]=!0,!l&&(delete r.traces[0][c],h))))for(var T=0;T<r.traces.length-1;T++){var f=r.traces[T];f._input.fill!==f.fill&&(f.fill=r.fillDflt)}}}return r}}},16296:function(G,U,e){var p=e(39898),L=e(91424),n=e(73972);function C(t){var r=p.select(t).selectAll("g.trace.scatter");r.style("opacity",function(l){return l[0].trace.opacity}),r.selectAll("g.points").each(function(l){var a=p.select(this),s=l.trace||l[0].trace;w(a,s,t)}),r.selectAll("g.text").each(function(l){var a=p.select(this),s=l.trace||l[0].trace;v(a,s,t)}),r.selectAll("g.trace path.js-line").call(L.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,t),n.getComponentMethod("errorbars","style")(r)}function w(t,r,l){L.pointStyle(t.selectAll("path.point"),r,l)}function v(t,r,l){L.textPointStyle(t.selectAll("text"),r,l)}function y(t,r,l){var a=r[0].trace;a.selectedpoints?(L.selectedPointStyle(l.selectAll("path.point"),a),L.selectedTextStyle(l.selectAll("text"),a)):(w(l,a,t),v(l,a,t))}G.exports={style:C,stylePoints:w,styleText:v,styleOnSelect:y}},34098:function(G,U,e){var p=e(71828);G.exports={hasLines:function(L){return L.visible&&L.mode&&L.mode.indexOf("lines")!==-1},hasMarkers:function(L){return L.visible&&(L.mode&&L.mode.indexOf("markers")!==-1||L.type==="splom")},hasText:function(L){return L.visible&&L.mode&&L.mode.indexOf("text")!==-1},isBubble:function(L){return p.isPlainObject(L.marker)&&p.isArrayOrTypedArray(L.marker.size)}}},82410:function(G,U,e){var p=e(71828);G.exports=function(L,n,C,w,v){v=v||{},w("textposition"),p.coerceFont(w,"textfont",C.font),v.noSelect||(w("selected.textfont.color"),w("unselected.textfont.color"))}},67513:function(G,U,e){var p=e(71828),L=e(73972);G.exports=function(C,w,v,y){var t=y("x"),r=y("y"),l,a=L.getComponentMethod("calendars","handleTraceDefaults");if(a(C,w,["x","y"],v),t){var s=p.minRowLength(t);r?l=Math.min(s,p.minRowLength(r)):(l=s,y("y0"),y("dy"))}else{if(!r)return 0;l=p.minRowLength(r),y("x0"),y("dx")}return w._length=l,l}},44542:function(G,U,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).f,w=e(5386).s,v=e(9012),y=e(29659),t=e(87381),r=e(1426).extendFlat,l=e(30962).overrideAll,a=e(78607),s=p.line,c=p.marker,u=c.line,m=r({width:s.width,dash:{valType:"enumerated",values:a(y),dflt:"solid"}},L("line"));function h(f){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var T=G.exports=l({x:p.x,y:p.y,z:{valType:"data_array"},text:r({},p.text,{}),texttemplate:w({},{}),hovertext:r({},p.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),mode:r({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:p.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:a(t),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:r({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:r({},p.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},36563:function(G,U,e){var p=e(75225),L=e(36922);G.exports=function(C,w){var v=[{x:!1,y:!1,trace:w,t:{}}];return p(v,w),L(C,w),v}},67336:function(G,U,e){var p=e(73972);function L(w,v,y,t){if(!v||!v.visible)return null;for(var r=p.getComponentMethod("errorbars","makeComputeError")(v),l=new Array(w.length),a=0;a<w.length;a++){var s=r(+w[a],a);if(t.type==="log"){var c=t.c2l(w[a]),u=w[a]-s[0],m=w[a]+s[1];if(l[a]=[(t.c2l(u,!0)-c)*y,(t.c2l(m,!0)-c)*y],u>0){var h=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=h),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,h)}}else l[a]=[-s[0]*y,s[1]*y]}return l}function n(w){for(var v=0;v<w.length;v++)if(w[v])return w[v].length;return 0}function C(w,v,y){var t=[L(w.x,w.error_x,v[0],y.xaxis),L(w.y,w.error_y,v[1],y.yaxis),L(w.z,w.error_z,v[2],y.zaxis)],r=n(t);if(r===0)return null;for(var l=new Array(r),a=0;a<r;a++){for(var s=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(t[c])for(var u=0;u<2;u++)s[u][c]=t[c][a][u];l[a]=s}return l}G.exports=C},58925:function(G,U,e){var p=e(9330).gl_line3d,L=e(9330).gl_scatter3d,n=e(9330).gl_error3d,C=e(9330).gl_mesh3d,w=e(9330).delaunay_triangulate,v=e(71828),y=e(78614),t=e(81697).formatColor,r=e(39984),l=e(29659),a=e(87381),s=e(89298),c=e(23469).appendArrayPointValue,u=e(67336);function m(x,k){this.scene=x,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;h.handlePick=function(x){if(x.object&&(x.object===this.linePlot||x.object===this.delaunayMesh||x.object===this.textMarkers||x.object===this.scatterPlot)){var k=x.index=x.data.index;return x.object.highlight&&x.object.highlight(null),this.scatterPlot&&(x.object=this.scatterPlot,this.scatterPlot.highlight(x.data)),x.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(x.textLabel=this.textLabels[k]):x.textLabel=this.textLabels),x.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function T(x,k,_){var B=(_+1)%3,I=(_+2)%3,z=[],O=[],F;for(F=0;F<x.length;++F){var N=x[F];isNaN(N[B])||!isFinite(N[B])||isNaN(N[I])||!isFinite(N[I])||(z.push([N[B],N[I]]),O.push(F))}var Q=w(z);for(F=0;F<Q.length;++F)for(var $=Q[F],j=0;j<$.length;++j)$[j]=O[$[j]];return{positions:x,cells:Q,meshColor:k}}function f(x){for(var k=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],I=0;I<3;I++){var z=x[I];z&&z.copy_zstyle!==!1&&x[2].visible!==!1&&(z=x[2]),!(!z||!z.visible)&&(k[I]=z.width/2,_[I]=y(z.color),B[I]=z.thickness)}return{capSize:k,color:_,lineWidth:B}}function o(x){return x==null?0:x.indexOf("left")>-1?-1:x.indexOf("right")>-1?1:0}function d(x){return x==null?0:x.indexOf("top")>-1?-1:x.indexOf("bottom")>-1?1:0}function M(x){var k=0,_=0,B=[k,_];if(Array.isArray(x))for(var I=0;I<x.length;I++)B[I]=[k,_],x[I]&&(B[I][0]=o(x[I]),B[I][1]=d(x[I]));else B[0]=o(x),B[1]=d(x);return B}function A(x,k){return k(x*4)}function E(x){return a[x]}function g(x,k,_,B,I){var z=null;if(v.isArrayOrTypedArray(x)){z=[];for(var O=0;O<k;O++)x[O]===void 0?z[O]=B:z[O]=_(x[O],I)}else z=_(x,v.identity);return z}function S(x,k){var _=[],B=x.fullSceneLayout,I=x.dataScale,z=B.xaxis,O=B.yaxis,F=B.zaxis,N=k.marker,Q=k.line,$=k.x||[],j=k.y||[],ee=k.z||[],oe=$.length,Y=k.xcalendar,V=k.ycalendar,W=k.zcalendar,X,re,ie,K,q,le;for(q=0;q<oe;q++)X=z.d2l($[q],0,Y)*I[0],re=O.d2l(j[q],0,V)*I[1],ie=F.d2l(ee[q],0,W)*I[2],_[q]=[X,re,ie];if(Array.isArray(k.text))le=k.text;else if(k.text!==void 0)for(le=new Array(oe),q=0;q<oe;q++)le[q]=k.text;function ae(et,Qe){var qe=B[et];return s.tickText(qe,qe.d2l(Qe),!0).text}var he=k.texttemplate;if(he){var me=x.fullLayout,Me=me._d3locale,xe=Array.isArray(he),Ie=xe?Math.min(he.length,oe):oe,_e=xe?function(et){return he[et]}:function(){return he};for(le=new Array(Ie),q=0;q<Ie;q++){var Te={x:$[q],y:j[q],z:ee[q]},ye={xLabel:ae("xaxis",$[q]),yLabel:ae("yaxis",j[q]),zLabel:ae("zaxis",ee[q])},Ae={};c(Ae,k,q);var Be=k._meta||{};le[q]=v.texttemplateString(_e(q),ye,Me,Ae,Te,Be)}}if(K={position:_,mode:k.mode,text:le},"line"in k&&(K.lineColor=t(Q,1,oe),K.lineWidth=Q.width,K.lineDashes=Q.dash),"marker"in k){var Ue=r(k);K.scatterColor=t(N,1,oe),K.scatterSize=g(N.size,oe,A,20,Ue),K.scatterMarker=g(N.symbol,oe,E,"●"),K.scatterLineWidth=N.line.width,K.scatterLineColor=t(N.line,1,oe),K.scatterAngle=0}"textposition"in k&&(K.textOffset=M(k.textposition),K.textColor=t(k.textfont,1,oe),K.textSize=g(k.textfont.size,oe,v.identity,12),K.textFont=k.textfont.family,K.textAngle=0);var De=["x","y","z"];for(K.project=[!1,!1,!1],K.projectScale=[1,1,1],K.projectOpacity=[1,1,1],q=0;q<3;++q){var He=k.projection[De[q]];(K.project[q]=He.show)&&(K.projectOpacity[q]=He.opacity,K.projectScale[q]=He.scale)}K.errorBounds=u(k,I,B);var ut=f([k.error_x,k.error_y,k.error_z]);return K.errorColor=ut.color,K.errorLineWidth=ut.lineWidth,K.errorCapSize=ut.capSize,K.delaunayAxis=k.surfaceaxis,K.delaunayColor=y(k.surfacecolor),K}function b(x){if(v.isArrayOrTypedArray(x)){var k=x[0];return v.isArrayOrTypedArray(k)&&(x=k),"rgb("+x.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function i(x){return v.isArrayOrTypedArray(x)?x.length===4&&typeof x[0]=="number"?b(x):x.map(b):null}h.update=function(x){var k=this.scene.glplot.gl,_,B,I,z,O=l.solid;this.data=x;var F=S(this.scene,x);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in l&&(O=l[F.lineDashes]),this.color=i(F.scatterColor)||i(F.lineColor),this.dataPoints=F.position,_={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:x.opacity,connectGaps:x.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=p(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=x.opacity;if(x.marker&&x.marker.opacity&&(N*=x.marker.opacity),B={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:N,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=L(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:x.opacity},this.textLabels=x.hovertext||x.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=L(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),I={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:x.opacity},this.errorBars?F.errorBounds?this.errorBars.update(I):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=n(I),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var Q=T(F.position,F.delaunayColor,F.delaunayAxis);Q.opacity=x.opacity,this.delaunayMesh?this.delaunayMesh.update(Q):(Q.gl=k,this.delaunayMesh=C(Q),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function P(x,k){var _=new m(x,k.uid);return _.update(k),_}G.exports=P},21428:function(G,U,e){var p=e(73972),L=e(71828),n=e(34098),C=e(49508),w=e(11058),v=e(82410),y=e(44542);G.exports=function(l,a,s,c){function u(A,E){return L.coerce(l,a,y,A,E)}var m=t(l,a,u,c);if(!m){a.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),n.hasLines(a)&&(u("connectgaps"),w(l,a,s,c,u)),n.hasMarkers(a)&&C(l,a,s,c,u,{noSelect:!0,noAngle:!0}),n.hasText(a)&&(u("texttemplate"),v(l,a,c,u,{noSelect:!0}));var h=(a.line||{}).color,T=(a.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",h||T);for(var f=["x","y","z"],o=0;o<3;++o){var d="projection."+f[o];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var M=p.getComponentMethod("errorbars","supplyDefaults");M(l,a,h||T||s,{axis:"z"}),M(l,a,h||T||s,{axis:"y",inherit:"z"}),M(l,a,h||T||s,{axis:"x",inherit:"z"})};function t(r,l,a,s){var c=0,u=a("x"),m=a("y"),h=a("z"),T=p.getComponentMethod("calendars","handleTraceDefaults");return T(r,l,["x","y","z"],s),u&&m&&h&&(c=Math.min(u.length,m.length,h.length),l._length=l._xlength=l._ylength=l._zlength=c),c}},13551:function(G,U,e){G.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(G,U,e){var p=e(82196),L=e(9012),n=e(5386).f,C=e(5386).s,w=e(50693),v=e(1426).extendFlat,y=p.marker,t=p.line,r=y.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},p.mode,{dflt:"markers"}),text:v({},p.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},p.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:p.connectgaps,fill:v({},p.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p.fillcolor,marker:v({symbol:y.symbol,opacity:y.opacity,maxdisplayed:y.maxdisplayed,angle:y.angle,angleref:y.angleref,standoff:y.standoff,size:y.size,sizeref:y.sizeref,sizemin:y.sizemin,sizemode:y.sizemode,line:v({width:r.width,editType:"calc"},w("marker.line")),gradient:y.gradient,editType:"calc"},w("marker")),textfont:p.textfont,textposition:p.textposition,selected:p.selected,unselected:p.unselected,hoverinfo:v({},L.hoverinfo,{flags:["a","b","text","name"]}),hoveron:p.hoveron,hovertemplate:n()}},34618:function(G,U,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),w=e(47761).calcMarkerSize,v=e(22882);G.exports=function(t,r){var l=r._carpetTrace=v(t,r);if(!(!l||!l.visible||l.visible==="legendonly")){var a;r.xaxis=l.xaxis,r.yaxis=l.yaxis;var s=r._length,c=new Array(s),u,m,h=!1;for(a=0;a<s;a++)if(u=r.a[a],m=r.b[a],p(u)&&p(m)){var T=l.ab2xy(+u,+m,!0),f=l.isVisible(+u,+m);f||(h=!0),c[a]={x:T[0],y:T[1],a:u,b:m,vis:f}}else c[a]={x:!1,y:!1};return r._needsCull=h,c[0].carpet=l,c[0].trace=r,w(r,s),L(t,r),n(c,r),C(c,r),c}}},98965:function(G,U,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),w=e(11058),v=e(94039),y=e(82410),t=e(28908),r=e(97001);G.exports=function(a,s,c,u){function m(A,E){return p.coerce(a,s,r,A,E)}m("carpet"),s.xaxis="x",s.yaxis="y";var h=m("a"),T=m("b"),f=Math.min(h.length,T.length);if(!f){s.visible=!1;return}s._length=f,m("text"),m("texttemplate"),m("hovertext");var o=f<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",o),n.hasLines(s)&&(w(a,s,c,u,m,{backoff:!0}),v(a,s,m),m("connectgaps")),n.hasMarkers(s)&&C(a,s,c,u,m,{gradient:!0}),n.hasText(s)&&y(a,s,u,m);var d=[];(n.hasMarkers(s)||n.hasText(s))&&(m("marker.maxdisplayed"),d.push("points")),m("fill"),s.fill!=="none"&&(t(a,s,c,m),n.hasLines(s)||v(a,s,m)),(s.fill==="tonext"||s.fill==="toself")&&d.push("fills");var M=m("hoveron",d.join("+")||"points");M!=="fills"&&m("hovertemplate"),p.coerceSelectionMarkerOpacity(s,m)}},16165:function(G){G.exports=function(e,p,L,n,C){var w=n[C];return e.a=w.a,e.b=w.b,e.y=w.y,e}},48953:function(G){G.exports=function(e,p){var L={},n=p._carpet,C=n.ab2ij([e.a,e.b]),w=Math.floor(C[0]),v=C[0]-w,y=Math.floor(C[1]),t=C[1]-y,r=n.evalxy([],w,y,v,t);return L.yLabel=r[1].toFixed(3),L}},22931:function(G,U,e){var p=e(33720),L=e(71828).fillText;G.exports=function(C,w,v,y){var t=p(C,w,v,y);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var l=1-r.y0/C.ya._length,a=C.xa._length,s=a*l/2,c=a-s;return r.x0=Math.max(Math.min(r.x0,c),s),r.x1=Math.max(Math.min(r.x1,c),s),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,h=m._carpet,T=m._module.formatLabels(u,m);r.yLabel=T.yLabel,delete r.text;var f=[];function o(A,E){var g;A.labelprefix&&A.labelprefix.length>0?g=A.labelprefix.replace(/ = $/,""):g=A._hovertitle,f.push(g+": "+E.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var d=u.hi||m.hoverinfo,M=d.split("+");M.indexOf("all")!==-1&&(M=["a","b","text"]),M.indexOf("a")!==-1&&o(h.aaxis,u.a),M.indexOf("b")!==-1&&o(h.baxis,u.b),f.push("y: "+r.yLabel),M.indexOf("text")!==-1&&L(u,m,f),r.extraText=f.join("<br>")}return t}},46858:function(G,U,e){G.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(G,U,e){var p=e(32663),L=e(89298),n=e(91424);G.exports=function(w,v,y,t){var r,l,a,s=y[0][0].carpet,c=L.getFromId(w,s.xaxis||"x"),u=L.getFromId(w,s.yaxis||"y"),m={xaxis:c,yaxis:u,plot:v.plot};for(r=0;r<y.length;r++)l=y[r][0].trace,l._xA=c,l._yA=u;for(p(w,m,y,t),r=0;r<y.length;r++)l=y[r][0].trace,a=t.selectAll("g.trace"+l.uid+" .js-line"),n.setClipUrl(a,y[r][0].carpet._clipPathId,w)}},19316:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(82196),C=e(9012),w=e(50693),v=e(79952).P,y=e(1426).extendFlat,t=e(30962).overrideAll,r=n.marker,l=n.line,a=r.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:y({},n.mode,{dflt:"markers"}),text:y({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:y({},n.hovertext,{}),textfont:n.textfont,textposition:n.textposition,line:{color:l.color,width:l.width,dash:v},connectgaps:n.connectgaps,marker:y({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:y({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:y({width:a.width},w("marker.line")),gradient:r.gradient},w("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n.fillcolor,selected:n.selected,unselected:n.unselected,hoverinfo:y({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},84622:function(G,U,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),w=e(66279),v=e(71828)._;function y(t){return t&&typeof t=="string"}G.exports=function(r,l){var a=Array.isArray(l.locations),s=a?l.locations.length:l._length,c=new Array(s),u;l.geojson?u=function(d){return y(d)||p(d)}:u=y;for(var m=0;m<s;m++){var h=c[m]={};if(a){var T=l.locations[m];h.loc=u(T)?T:null}else{var f=l.lon[m],o=l.lat[m];p(f)&&p(o)?h.lonlat=[+f,+o]:h.lonlat=[L,L]}}return C(c,l),n(r,l),w(c,l),s&&(c[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),c}},10659:function(G,U,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),w=e(82410),v=e(28908),y=e(19316);G.exports=function(r,l,a,s){function c(M,A){return p.coerce(r,l,y,M,A)}var u=c("locations"),m;if(u&&u.length){var h=c("geojson"),T;(typeof h=="string"&&h!==""||p.isPlainObject(h))&&(T="geojson-id");var f=c("locationmode",T);f==="geojson-id"&&c("featureidkey"),m=u.length}else{var o=c("lon")||[],d=c("lat")||[];m=Math.min(o.length,d.length)}if(!m){l.visible=!1;return}l._length=m,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),L.hasLines(l)&&(C(r,l,a,s,c),c("connectgaps")),L.hasMarkers(l)&&n(r,l,a,s,c,{gradient:!0}),L.hasText(l)&&(c("texttemplate"),w(r,l,s,c)),c("fill"),l.fill!=="none"&&v(r,l,a,c),p.coerceSelectionMarkerOpacity(l,c)}},84084:function(G){G.exports=function(e,p,L,n,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var w=n[C];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e}},82719:function(G,U,e){var p=e(89298);G.exports=function(n,C,w){var v={},y=w[C.geo]._subplot,t=y.mockAxis,r=n.lonlat;return v.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(G,U,e){var p=e(30211),L=e(50606).BADNUM,n=e(34603),C=e(71828).fillText,w=e(19316);G.exports=function(t,r,l){var a=t.cd,s=a[0].trace,c=t.xa,u=t.ya,m=t.subplot,h=m.projection.isLonLatOverEdges,T=m.project;function f(S){var b=S.lonlat;if(b[0]===L||h(b))return 1/0;var i=T(b),P=T([r,l]),x=Math.abs(i[0]-P[0]),k=Math.abs(i[1]-P[1]),_=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(x*x+k*k)-_,1-3/_)}if(p.getClosest(a,f,t),t.index!==!1){var o=a[t.index],d=o.lonlat,M=[c.c2p(d),u.c2p(d)],A=o.mrc||1;t.x0=M[0]-A,t.x1=M[0]+A,t.y0=M[1]-A,t.y1=M[1]+A,t.loc=o.loc,t.lon=d[0],t.lat=d[1];var E={};E[s.geo]={_subplot:m};var g=s._module.formatLabels(o,s,E);return t.lonLabel=g.lonLabel,t.latLabel=g.latLabel,t.color=n(s,o),t.extraText=v(s,o,t,a[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}};function v(y,t,r,l){if(y.hovertemplate)return;var a=t.hi||y.hoverinfo,s=a==="all"?w.hoverinfo.flags:a.split("+"),c=s.indexOf("location")!==-1&&Array.isArray(y.locations),u=s.indexOf("lon")!==-1,m=s.indexOf("lat")!==-1,h=s.indexOf("text")!==-1,T=[];function f(o){return o+"°"}return c?T.push(t.loc):u&&m?T.push("("+f(r.latLabel)+", "+f(r.lonLabel)+")"):u?T.push(l.lon+f(r.lonLabel)):m&&T.push(l.lat+f(r.latLabel)),h&&C(t,y,T),T.join("<br>")}},17988:function(G,U,e){G.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(G,U,e){var p=e(39898),L=e(71828),n=e(90973).getTopojsonFeatures,C=e(18214),w=e(41327),v=e(71739).findExtremes,y=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),l=e(33095);function a(c,u,m){var h=u.layers.frontplot.select(".scatterlayer"),T=L.makeTraceGroups(h,m,"trace scattergeo");function f(o,d){o.lonlat[0]===y&&p.select(d).remove()}T.selectAll("*").remove(),T.each(function(o){var d=p.select(this),M=o[0].trace;if(r.hasLines(M)||M.fill!=="none"){var A=C.calcTraceToLineCoords(o),E=M.fill!=="none"?C.makePolygon(A):C.makeLine(A);d.selectAll("path.js-line").data([{geojson:E,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(M)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(g){f(g,this)}),r.hasText(M)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(g){f(g,this)}),l(c,o)})}function s(c,u){var m=c[0].trace,h=u[m.geo],T=h._subplot,f=m._length,o,d;if(Array.isArray(m.locations)){var M=m.locationmode,A=M==="geojson-id"?w.extractTraceFeature(c):n(m,T.topojson);for(o=0;o<f;o++){d=c[o];var E=M==="geojson-id"?d.fOut:w.locationToFeature(M,d.loc,A);d.lonlat=E?E.properties.ct:[y,y]}}var g={padded:!0},S,b;if(h.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var i=w.computeBbox(w.getTraceGeojson(m));S=[i[0],i[2]],b=[i[1],i[3]]}else{for(S=new Array(f),b=new Array(f),o=0;o<f;o++)d=c[o],S[o]=d.lonlat[0],b[o]=d.lonlat[1];g.ppad=t(m,f)}m._extremes.lon=v(h.lonaxis._ax,S,g),m._extremes.lat=v(h.lataxis._ax,b,g)}G.exports={calcGeoJSON:s,plot:a}},20548:function(G,U,e){var p=e(34098),L=e(50606).BADNUM;G.exports=function(C,w){var v=C.cd,y=C.xaxis,t=C.yaxis,r=[],l=v[0].trace,a,s,c,u,m,h=!p.hasMarkers(l)&&!p.hasText(l);if(h)return[];if(w===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)a=v[m],s=a.lonlat,s[0]!==L&&(c=y.c2p(s),u=t.c2p(s),w.contains([c,u],null,m,C)?(r.push({pointNumber:m,lon:s[0],lat:s[1]}),a.selected=1):a.selected=0);return r}},33095:function(G,U,e){var p=e(39898),L=e(91424),n=e(7901),C=e(16296),w=C.stylePoints,v=C.styleText;G.exports=function(r,l){l&&y(r,l)};function y(t,r){var l=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),w(a,l,t),v(a,l,t),a.selectAll("path.js-line").style("fill","none").each(function(s){var c=p.select(this),u=s.trace,m=u.line||{};c.call(n.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),u.fill!=="none"&&c.call(n.fill,u.fillcolor)})}},42341:function(G,U,e){var p=e(9012),L=e(82196),n=e(12663).axisHoverFormat,C=e(50693),w=e(78607),v=e(1426).extendFlat,y=e(30962).overrideAll,t=e(78232).DASHES,r=L.line,l=L.marker,a=l.line,s=G.exports=y({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:L.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:w(t),dflt:"solid"}},marker:v({},C("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:v({},C("marker.line"),{width:a.width})}),connectgaps:L.connectgaps,fill:v({},L.fill,{dflt:"none"}),fillcolor:L.fillcolor,selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:p.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=L.hovertemplate,s.texttemplate=L.texttemplate},72156:function(G,U,e){var p=e(20794);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:p.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(G,U,e){var p=e(88294),L=e(71828),n=e(41675),C=e(71739).findExtremes,w=e(42973),v=e(47761),y=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,l=e(36922),a=e(19635),s=e(38967),c=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;G.exports=function(f,o){var d=f._fullLayout,M=o._xA=n.getFromId(f,o.xaxis,"x"),A=o._yA=n.getFromId(f,o.yaxis,"y"),E=d._plots[o.xaxis+o.yaxis],g=o._length,S=g>=u,b=g*2,i={},P,x=M.makeCalcdata(o,"x"),k=A.makeCalcdata(o,"y"),_=w(o,M,"x",x),B=w(o,A,"y",k),I=_.vals,z=B.vals;o._x=I,o._y=z,o.xperiodalignment&&(o._origX=x,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=B.starts,o._yEnds=B.ends);var O=new Array(b),F=new Array(g);for(P=0;P<g;P++)O[P*2]=I[P]===c?NaN:I[P],O[P*2+1]=z[P]===c?NaN:z[P],F[P]=P;if(M.type==="log")for(P=0;P<b;P+=2)O[P]=M.c2l(O[P]);if(A.type==="log")for(P=1;P<b;P+=2)O[P]=A.c2l(O[P]);S&&M.type!=="log"&&A.type!=="log"?i.tree=p(O):i.ids=F,l(f,o);var N=h(f,E,o,O,I,z),Q=s(f,E);r(d,o);var $;return S?N.marker&&($=N.marker.sizeAvg||Math.max(N.marker.size,3)):$=y(o,g),t(f,o,M,A,I,z,$),N.errorX&&m(o,M,N.errorX),N.errorY&&m(o,A,N.errorY),N.fill&&!Q.fill2d&&(Q.fill2d=!0),N.marker&&!Q.scatter2d&&(Q.scatter2d=!0),N.line&&!Q.line2d&&(Q.line2d=!0),(N.errorX||N.errorY)&&!Q.error2d&&(Q.error2d=!0),N.text&&!Q.glText&&(Q.glText=!0),N.marker&&(N.marker.snap=g),Q.lineOptions.push(N.line),Q.errorXOptions.push(N.errorX),Q.errorYOptions.push(N.errorY),Q.fillOptions.push(N.fill),Q.markerOptions.push(N.marker),Q.markerSelectedOptions.push(N.markerSel),Q.markerUnselectedOptions.push(N.markerUnsel),Q.textOptions.push(N.text),Q.textSelectedOptions.push(N.textSel),Q.textUnselectedOptions.push(N.textUnsel),Q.selectBatch.push([]),Q.unselectBatch.push([]),i._scene=Q,i.index=Q.count,i.x=I,i.y=z,i.positions=O,Q.count++,[{x:!1,y:!1,t:i,trace:o}]};function m(T,f,o){var d=T._extremes[f._id],M=C(f,o._bnds,{padded:!0});d.min=d.min.concat(M.min),d.max=d.max.concat(M.max)}function h(T,f,o,d,M,A){var E=a.style(T,o);if(E.marker&&(E.marker.positions=d),E.line&&d.length>1&&L.extendFlat(E.line,a.linePositions(T,o,d)),E.errorX||E.errorY){var g=a.errorBarPositions(T,o,d,M,A);E.errorX&&L.extendFlat(E.errorX,g.x),E.errorY&&L.extendFlat(E.errorY,g.y)}return E.text&&(L.extendFlat(E.text,{positions:d},a.textPosition(T,o,E.text,E.marker)),L.extendFlat(E.textSel,{positions:d},a.textPosition(T,o,E.text,E.markerSel)),L.extendFlat(E.textUnsel,{positions:d},a.textPosition(T,o,E.text,E.markerUnsel))),E}},78232:function(G){var U=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(G,U,e){var p=e(92770),L=e(82019),n=e(25075),C=e(73972),w=e(71828),v=e(91424),y=e(41675),t=e(81697).formatColor,r=e(34098),l=e(39984),a=e(68645),s=e(78232),c=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function h(_,B){var I,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=_._context.plotGlPixelRatio;if(B.visible!==!0)return z;if(r.hasText(B)&&(z.text=T(_,B),z.textSel=d(_,B,B.selected),z.textUnsel=d(_,B,B.unselected)),r.hasMarkers(B)&&(z.marker=f(_,B),z.markerSel=o(_,B,B.selected),z.markerUnsel=o(_,B,B.unselected),!B.unselected&&w.isArrayOrTypedArray(B.marker.opacity))){var F=B.marker.opacity;for(z.markerUnsel.opacity=new Array(F.length),I=0;I<F.length;I++)z.markerUnsel.opacity[I]=c*F[I]}if(r.hasLines(B)){z.line={overlay:!0,thickness:B.line.width*O,color:B.line.color,opacity:B.opacity};var N=(s.DASHES[B.line.dash]||[1]).slice();for(I=0;I<N.length;++I)N[I]*=B.line.width*O;z.line.dashes=N}return B.error_x&&B.error_x.visible&&(z.errorX=M(B,B.error_x,O)),B.error_y&&B.error_y.visible&&(z.errorY=M(B,B.error_y,O)),B.fill&&B.fill!=="none"&&(z.fill={closed:!0,fill:B.fillcolor,thickness:0}),z}function T(_,B){var I=_._fullLayout,z=B._length,O=B.textfont,F=B.textposition,N=Array.isArray(F)?F:[F],Q=O.color,$=O.size,j=O.family,ee={},oe,Y=_._context.plotGlPixelRatio,V=B.texttemplate;if(V){ee.text=[];var W=I._d3locale,X=Array.isArray(V),re=X?Math.min(V.length,z):z,ie=X?function(Me){return V[Me]}:function(){return V};for(oe=0;oe<re;oe++){var K={i:oe},q=B._module.formatLabels(K,B,I),le={};m(le,B,oe);var ae=B._meta||{};ee.text.push(w.texttemplateString(ie(oe),q,W,le,K,ae))}}else Array.isArray(B.text)&&B.text.length<z?ee.text=B.text.slice():ee.text=B.text;if(Array.isArray(ee.text))for(oe=ee.text.length;oe<z;oe++)ee.text[oe]="";for(ee.opacity=B.opacity,ee.font={},ee.align=[],ee.baseline=[],oe=0;oe<N.length;oe++){var he=N[oe].split(/\s+/);switch(he[1]){case"left":ee.align.push("right");break;case"right":ee.align.push("left");break;default:ee.align.push(he[1])}switch(he[0]){case"top":ee.baseline.push("bottom");break;case"bottom":ee.baseline.push("top");break;default:ee.baseline.push(he[0])}}if(Array.isArray(Q))for(ee.color=new Array(z),oe=0;oe<z;oe++)ee.color[oe]=Q[oe];else ee.color=Q;if(w.isArrayOrTypedArray($)||Array.isArray(j))for(ee.font=new Array(z),oe=0;oe<z;oe++){var me=ee.font[oe]={};me.size=(w.isTypedArray($)?$[oe]:Array.isArray($)?p($[oe])?$[oe]:0:$)*Y,me.family=Array.isArray(j)?j[oe]:j}else ee.font={size:$*Y,family:j};return ee}function f(_,B){var I=B._length,z=B.marker,O={},F,N=w.isArrayOrTypedArray(z.symbol),Q=w.isArrayOrTypedArray(z.angle),$=w.isArrayOrTypedArray(z.color),j=w.isArrayOrTypedArray(z.line.color),ee=w.isArrayOrTypedArray(z.opacity),oe=w.isArrayOrTypedArray(z.size),Y=w.isArrayOrTypedArray(z.line.width),V;if(N||(V=a.isOpenSymbol(z.symbol)),N||$||j||ee||Q){O.symbols=new Array(I),O.angles=new Array(I),O.colors=new Array(I),O.borderColors=new Array(I);var W=z.symbol,X=z.angle,re=t(z,z.opacity,I),ie=t(z.line,z.opacity,I);if(!Array.isArray(ie[0])){var K=ie;for(ie=Array(I),F=0;F<I;F++)ie[F]=K}if(!Array.isArray(re[0])){var q=re;for(re=Array(I),F=0;F<I;F++)re[F]=q}if(!Array.isArray(W)){var le=W;for(W=Array(I),F=0;F<I;F++)W[F]=le}if(!Array.isArray(X)){var ae=X;for(X=Array(I),F=0;F<I;F++)X[F]=ae}for(O.symbols=W,O.angles=X,O.colors=re,O.borderColors=ie,F=0;F<I;F++)N&&(V=a.isOpenSymbol(z.symbol[F])),V&&(ie[F]=re[F].slice(),re[F]=re[F].slice(),re[F][3]=0);for(O.opacity=B.opacity,O.markers=new Array(I),F=0;F<I;F++)O.markers[F]=i({mx:O.symbols[F],ma:O.angles[F]},B)}else V?(O.color=n(z.color,"uint8"),O.color[3]=0,O.borderColor=n(z.color,"uint8")):(O.color=n(z.color,"uint8"),O.borderColor=n(z.line.color,"uint8")),O.opacity=B.opacity*z.opacity,O.marker=i({mx:z.symbol,ma:z.angle},B);var he=1,me=l(B,he),Me;if(oe||Y){var xe=O.sizes=new Array(I),Ie=O.borderSizes=new Array(I),_e=0,Te;if(oe){for(F=0;F<I;F++)xe[F]=me(z.size[F]),_e+=xe[F];Te=_e/I}else for(Me=me(z.size),F=0;F<I;F++)xe[F]=Me;if(Y)for(F=0;F<I;F++)Ie[F]=z.line.width[F];else for(Me=z.line.width,F=0;F<I;F++)Ie[F]=Me;O.sizeAvg=Te}else O.size=me(z&&z.size||10),O.borderSizes=me(z.line.width);return O}function o(_,B,I){var z=B.marker,O={};return I&&(I.marker&&I.marker.symbol?O=f(_,w.extendFlat({},z,I.marker)):I.marker&&(I.marker.size&&(O.size=I.marker.size),I.marker.color&&(O.colors=I.marker.color),I.marker.opacity!==void 0&&(O.opacity=I.marker.opacity))),O}function d(_,B,I){var z={};if(!I)return z;if(I.textfont){var O={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:w.extendFlat({},B.textfont)};I.textfont&&w.extendFlat(O.textfont,I.textfont),z=T(_,O)}return z}function M(_,B,I){var z={capSize:B.width*2*I,lineWidth:B.thickness*I,color:B.color};return B.copy_ystyle&&(z=_.error_y),z}var A=s.SYMBOL_SDF_SIZE,E=s.SYMBOL_SIZE,g=s.SYMBOL_STROKE,S={},b=v.symbolFuncs[0](E*.05);function i(_,B){var I=_.mx;if(I==="circle")return null;var z,O,F=v.symbolNumber(I),N=v.symbolFuncs[F%100],Q=!!v.symbolNoDot[F%100],$=!!v.symbolNoFill[F%100],j=a.isDotSymbol(I);if(_.ma&&(I+="_"+_.ma),S[I])return S[I];var ee=v.getMarkerAngle(_,B);return j&&!Q?z=N(E*1.1,ee)+b:z=N(E,ee),O=L(z,{w:A,h:A,viewBox:[-E,-E,E,E],stroke:$?g:-g}),S[I]=O,O||null}function P(_,B,I){var z=I.length,O=z/2,F,N;if(r.hasLines(B)&&O)if(B.line.shape==="hv"){for(F=[],N=0;N<O-1;N++)isNaN(I[N*2])||isNaN(I[N*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(I[N*2],I[N*2+1]),!isNaN(I[N*2+2])&&!isNaN(I[N*2+3])?F.push(I[N*2+2],I[N*2+1]):F.push(NaN,NaN));F.push(I[z-2],I[z-1])}else if(B.line.shape==="hvh"){for(F=[],N=0;N<O-1;N++)if(isNaN(I[N*2])||isNaN(I[N*2+1])||isNaN(I[N*2+2])||isNaN(I[N*2+3]))!isNaN(I[N*2])&&!isNaN(I[N*2+1])?F.push(I[N*2],I[N*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var Q=(I[N*2]+I[N*2+2])/2;F.push(I[N*2],I[N*2+1],Q,I[N*2+1],Q,I[N*2+3])}F.push(I[z-2],I[z-1])}else if(B.line.shape==="vhv"){for(F=[],N=0;N<O-1;N++)if(isNaN(I[N*2])||isNaN(I[N*2+1])||isNaN(I[N*2+2])||isNaN(I[N*2+3]))!isNaN(I[N*2])&&!isNaN(I[N*2+1])?F.push(I[N*2],I[N*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var $=(I[N*2+1]+I[N*2+3])/2;F.push(I[N*2],I[N*2+1],I[N*2],$,I[N*2+2],$)}F.push(I[z-2],I[z-1])}else if(B.line.shape==="vh"){for(F=[],N=0;N<O-1;N++)isNaN(I[N*2])||isNaN(I[N*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(I[N*2],I[N*2+1]),!isNaN(I[N*2+2])&&!isNaN(I[N*2+3])?F.push(I[N*2],I[N*2+3]):F.push(NaN,NaN));F.push(I[z-2],I[z-1])}else F=I;var j=!1;for(N=0;N<F.length;N++)if(isNaN(F[N])){j=!0;break}var ee=j||F.length>s.TOO_MANY_POINTS||r.hasMarkers(B)?"rect":"round";if(j&&B.connectgaps){var oe=F[0],Y=F[1];for(N=0;N<F.length;N+=2)isNaN(F[N])||isNaN(F[N+1])?(F[N]=oe,F[N+1]=Y):(oe=F[N],Y=F[N+1])}return{join:ee,positions:F}}function x(_,B,I,z,O){var F=C.getComponentMethod("errorbars","makeComputeError"),N=y.getFromId(_,B.xaxis,"x"),Q=y.getFromId(_,B.yaxis,"y"),$=I.length/2,j={};function ee(oe,Y){var V=Y._id.charAt(0),W=B["error_"+V];if(W&&W.visible&&(Y.type==="linear"||Y.type==="log")){for(var X=F(W),re={x:0,y:1}[V],ie={x:[0,1,2,3],y:[2,3,0,1]}[V],K=new Float64Array(4*$),q=1/0,le=-1/0,ae=0,he=0;ae<$;ae++,he+=4){var me=oe[ae];if(p(me)){var Me=I[ae*2+re],xe=X(me,ae),Ie=xe[0],_e=xe[1];if(p(Ie)&&p(_e)){var Te=me-Ie,ye=me+_e;K[he+ie[0]]=Me-Y.c2l(Te),K[he+ie[1]]=Y.c2l(ye)-Me,K[he+ie[2]]=0,K[he+ie[3]]=0,q=Math.min(q,me-Ie),le=Math.max(le,me+_e)}}}j[V]={positions:I,errors:K,_bnds:[q,le]}}}return ee(z,N),ee(O,Q),j}function k(_,B,I,z){var O=B._length,F={},N;if(r.hasMarkers(B)){var Q=I.font,$=I.align,j=I.baseline;for(F.offset=new Array(O),N=0;N<O;N++){var ee=z.sizes?z.sizes[N]:z.size,oe=Array.isArray(Q)?Q[N].size:Q.size,Y=Array.isArray($)?$.length>1?$[N]:$[0]:$,V=Array.isArray(j)?j.length>1?j[N]:j[0]:j,W=u[Y],X=u[V],re=ee?ee/.8+1:0,ie=-X*re-X*.5;F.offset[N]=[W*re/oe,ie/oe]}}return F}G.exports={style:h,markerStyle:f,markerSelection:o,linePositions:P,errorBarPositions:x,textPosition:k}},47148:function(G,U,e){var p=e(71828),L=e(73972),n=e(68645),C=e(42341),w=e(47581),v=e(34098),y=e(67513),t=e(73927),r=e(49508),l=e(11058),a=e(28908),s=e(82410);G.exports=function(u,m,h,T){function f(b,i){return p.coerce(u,m,C,b,i)}var o=u.marker?n.isOpenSymbol(u.marker.symbol):!1,d=v.isBubble(u),M=y(u,m,T,f);if(!M){m.visible=!1;return}t(u,m,T,f),f("xhoverformat"),f("yhoverformat");var A=M<w.PTS_LINESONLY?"lines+markers":"lines";f("text"),f("hovertext"),f("hovertemplate"),f("mode",A),v.hasLines(m)&&(f("connectgaps"),l(u,m,h,T,f),f("line.shape")),v.hasMarkers(m)&&(r(u,m,h,T,f,{noAngleRef:!0,noStandOff:!0}),f("marker.line.width",o||d?1:0)),v.hasText(m)&&(f("texttemplate"),s(u,m,T,f));var E=(m.line||{}).color,g=(m.marker||{}).color;f("fill"),m.fill!=="none"&&a(u,m,h,f);var S=L.getComponentMethod("errorbars","supplyDefaults");S(u,m,E||g||h,{axis:"y"}),S(u,m,E||g||h,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(m,f)}},5345:function(G,U,e){var p=e(71828),L=e(7901),n=e(37822).DESELECTDIM;function C(w){var v=w[0],y=v.trace,t=v.t,r=t._scene,l=t.index,a=r.selectBatch[l],s=r.unselectBatch[l],c=r.textOptions[l],u=r.textSelectedOptions[l]||{},m=r.textUnselectedOptions[l]||{},h=p.extendFlat({},c),T,f;if(a.length||s.length){var o=u.color,d=m.color,M=c.color,A=Array.isArray(M);for(h.color=new Array(y._length),T=0;T<a.length;T++)f=a[T],h.color[f]=o||(A?M[f]:M);for(T=0;T<s.length;T++){f=s[T];var E=A?M[f]:M;h.color[f]=d||(o?E:L.addOpacity(E,n))}}r.glText[l].update(h)}G.exports={styleTextSelection:C}},68101:function(G,U,e){var p=e(8225);G.exports=function(n,C,w){var v=n.i;return"x"in n||(n.x=C._x[v]),"y"in n||(n.y=C._y[v]),p(n,C,w)}},68645:function(G,U,e){var p=e(78232);U.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},U.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},20794:function(G,U,e){var p=e(73972),L=e(71828),n=e(34603);function C(v,y,t,r){var l=v.cd,a=l[0].t,s=l[0].trace,c=v.xa,u=v.ya,m=a.x,h=a.y,T=c.c2p(y),f=u.c2p(t),o=v.distance,d;if(a.tree){var M=c.p2c(T-o),A=c.p2c(T+o),E=u.p2c(f-o),g=u.p2c(f+o);r==="x"?d=a.tree.range(Math.min(M,A),Math.min(u._rl[0],u._rl[1]),Math.max(M,A),Math.max(u._rl[0],u._rl[1])):d=a.tree.range(Math.min(M,A),Math.min(E,g),Math.max(M,A),Math.max(E,g))}else d=a.ids;var S,b,i,P,x,k,_,B,I,z=o;if(r==="x"){var O=!!s.xperiodalignment,F=!!s.yperiodalignment;for(x=0;x<d.length;x++){if(S=d[x],i=m[S],k=Math.abs(c.c2p(i)-T),O){var N=c.c2p(s._xStarts[S]),Q=c.c2p(s._xEnds[S]);k=T>=Math.min(N,Q)&&T<=Math.max(N,Q)?0:1/0}if(k<z){if(z=k,P=h[S],_=u.c2p(P)-f,F){var $=u.c2p(s._yStarts[S]),j=u.c2p(s._yEnds[S]);_=f>=Math.min($,j)&&f<=Math.max($,j)?0:1/0}I=Math.sqrt(k*k+_*_),b=d[x]}}}else for(x=d.length-1;x>-1;x--)S=d[x],i=m[S],P=h[S],k=c.c2p(i)-T,_=u.c2p(P)-f,B=Math.sqrt(k*k+_*_),B<z&&(z=I=B,b=S);return v.index=b,v.distance=z,v.dxy=I,b===void 0?[v]:[w(v,m,h,s)]}function w(v,y,t,r){var l=v.xa,a=v.ya,s=v.distance,c=v.dxy,u=v.index,m={pointNumber:u,x:y[u],y:t[u]};m.tx=Array.isArray(r.text)?r.text[u]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var h=r.textfont;h&&(m.ts=L.isArrayOrTypedArray(h.size)?h.size[u]:h.size,m.tc=Array.isArray(h.color)?h.color[u]:h.color,m.tf=Array.isArray(h.family)?h.family[u]:h.family);var T=r.marker;T&&(m.ms=L.isArrayOrTypedArray(T.size)?T.size[u]:T.size,m.mo=L.isArrayOrTypedArray(T.opacity)?T.opacity[u]:T.opacity,m.mx=L.isArrayOrTypedArray(T.symbol)?T.symbol[u]:T.symbol,m.ma=L.isArrayOrTypedArray(T.angle)?T.angle[u]:T.angle,m.mc=L.isArrayOrTypedArray(T.color)?T.color[u]:T.color);var f=T&&T.line;f&&(m.mlc=Array.isArray(f.color)?f.color[u]:f.color,m.mlw=L.isArrayOrTypedArray(f.width)?f.width[u]:f.width);var o=T&&T.gradient;o&&o.type!=="none"&&(m.mgt=Array.isArray(o.type)?o.type[u]:o.type,m.mgc=Array.isArray(o.color)?o.color[u]:o.color);var d=l.c2p(m.x,!0),M=a.c2p(m.y,!0),A=m.mrc||1,E=r.hoverlabel;E&&(m.hbg=Array.isArray(E.bgcolor)?E.bgcolor[u]:E.bgcolor,m.hbc=Array.isArray(E.bordercolor)?E.bordercolor[u]:E.bordercolor,m.hts=L.isArrayOrTypedArray(E.font.size)?E.font.size[u]:E.font.size,m.htc=Array.isArray(E.font.color)?E.font.color[u]:E.font.color,m.htf=Array.isArray(E.font.family)?E.font.family[u]:E.font.family,m.hnl=L.isArrayOrTypedArray(E.namelength)?E.namelength[u]:E.namelength);var g=r.hoverinfo;g&&(m.hi=Array.isArray(g)?g[u]:g);var S=r.hovertemplate;S&&(m.ht=Array.isArray(S)?S[u]:S);var b={};b[v.index]=m;var i=r._origX,P=r._origY,x=L.extendFlat({},v,{color:n(r,m),x0:d-A,x1:d+A,xLabelVal:i?i[u]:m.x,y0:M-A,y1:M+A,yLabelVal:P?P[u]:m.y,cd:b,distance:s,spikeDistance:c,hovertemplate:m.ht});return m.htx?x.text=m.htx:m.tx?x.text=m.tx:r.text&&(x.text=r.text),L.fillText(m,r,x),p.getComponentMethod("errorbars","hoverInfo")(m,r,x),x}G.exports={hoverPoints:C,calcHover:w}},68868:function(G,U,e){var p=e(72156);p.plot=e(26787),G.exports=p},26787:function(G,U,e){var p=e(11870),L=e(46075),n=e(3593),C=e(42505),w=e(71828),v=e(64505).selectMode,y=e(79749),t=e(34098),r=e(68687),l=e(5345).styleTextSelection,a={};function s(u,m,h,T){var f=u._size,o=u.width*T,d=u.height*T,M=f.l*T,A=f.b*T,E=f.r*T,g=f.t*T,S=f.w*T,b=f.h*T;return[M+m.domain[0]*S,A+h.domain[0]*b,o-E-(1-m.domain[1])*S,d-g-(1-h.domain[1])*b]}var c=G.exports=function(m,h,T){if(T.length){var f=m._fullLayout,o=h._scene,d=h.xaxis,M=h.yaxis,A,E;if(o){var g=y(m,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!g){o.init();return}var S=o.count,b=f._glcanvas.data()[0].regl;if(r(m,h,T),o.dirty){if(o.error2d===!0&&(o.error2d=n(b)),o.line2d===!0&&(o.line2d=L(b)),o.scatter2d===!0&&(o.scatter2d=p(b)),o.fill2d===!0&&(o.fill2d=L(b)),o.glText===!0)for(o.glText=new Array(S),A=0;A<S;A++)o.glText[A]=new C(b);if(o.glText){if(S>o.glText.length){var i=S-o.glText.length;for(A=0;A<i;A++)o.glText.push(new C(b))}else if(S<o.glText.length){var P=o.glText.length-S,x=o.glText.splice(S,P);x.forEach(function(K){K.destroy()})}for(A=0;A<S;A++)o.glText[A].update(o.textOptions[A])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(K){if(K&&K.positions){for(var q=K.positions,le=0;le<q.length&&(isNaN(q[le])||isNaN(q[le+1]));)le+=2;for(var ae=q.length-2;ae>le&&(isNaN(q[ae])||isNaN(q[ae+1]));)ae-=2;K.positions=q.slice(le,ae+2)}return K}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=w.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(K,q){var le=T[q];if(!(!K||!le||!le[0]||!le[0].trace)){var ae=le[0],he=ae.trace,me=ae.t,Me=o.lineOptions[q],xe,Ie,_e=[];he._ownfill&&_e.push(q),he._nexttrace&&_e.push(q+1),_e.length&&(o.fillOrder[q]=_e);var Te=[],ye=Me&&Me.positions||me.positions,Ae,Be;if(he.fill==="tozeroy"){for(Ae=0;Ae<ye.length&&isNaN(ye[Ae+1]);)Ae+=2;for(Be=ye.length-2;Be>Ae&&isNaN(ye[Be+1]);)Be-=2;ye[Ae+1]!==0&&(Te=[ye[Ae],0]),Te=Te.concat(ye.slice(Ae,Be+2)),ye[Be+1]!==0&&(Te=Te.concat([ye[Be],0]))}else if(he.fill==="tozerox"){for(Ae=0;Ae<ye.length&&isNaN(ye[Ae]);)Ae+=2;for(Be=ye.length-2;Be>Ae&&isNaN(ye[Be]);)Be-=2;ye[Ae]!==0&&(Te=[0,ye[Ae+1]]),Te=Te.concat(ye.slice(Ae,Be+2)),ye[Be]!==0&&(Te=Te.concat([0,ye[Be+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Te=[],xe=0,K.splitNull=!0,Ie=0;Ie<ye.length;Ie+=2)(isNaN(ye[Ie])||isNaN(ye[Ie+1]))&&(Te=Te.concat(ye.slice(xe,Ie)),Te.push(ye[xe],ye[xe+1]),Te.push(null,null),xe=Ie+2);Te=Te.concat(ye.slice(xe)),xe&&Te.push(ye[xe],ye[xe+1])}else{var Ue=he._nexttrace;if(Ue){var De=o.lineOptions[q+1];if(De){var He=De.positions;if(he.fill==="tonexty"){for(Te=ye.slice(),q=Math.floor(He.length/2);q--;){var ut=He[q*2],et=He[q*2+1];isNaN(ut)||isNaN(et)||Te.push(ut,et)}K.fill=Ue.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var Qe=o.lineOptions[q-1].positions,qe=Te.length/2;xe=qe;var ft=[xe];for(Ie=0;Ie<Qe.length;Ie+=2)(isNaN(Qe[Ie])||isNaN(Qe[Ie+1]))&&(ft.push(Ie/2+qe+1),xe=Ie+2);Te=Te.concat(Qe),K.hole=ft}return K.fillmode=he.fill,K.opacity=he.opacity,K.positions=Te,K}}),o.fill2d.update(o.fillOptions))}var _=f.dragmode,B=v(_),I=f.clickmode.indexOf("select")>-1;for(A=0;A<S;A++){var z=T[A][0],O=z.trace,F=z.t,N=F.index,Q=O._length,$=F.x,j=F.y;if(O.selectedpoints||B||I){if(B||(B=!0),O.selectedpoints){var ee=o.selectBatch[N]=w.selIndices2selPoints(O),oe={};for(E=0;E<ee.length;E++)oe[ee[E]]=1;var Y=[];for(E=0;E<Q;E++)oe[E]||Y.push(E);o.unselectBatch[N]=Y}var V=F.xpx=new Array(Q),W=F.ypx=new Array(Q);for(E=0;E<Q;E++)V[E]=d.c2p($[E]),W[E]=M.c2p(j[E])}else F.xpx=F.ypx=null}if(B){if(o.select2d||(o.select2d=p(f._glcanvas.data()[1].regl)),o.scatter2d){var X=new Array(S);for(A=0;A<S;A++)X[A]=o.selectBatch[A].length||o.unselectBatch[A].length?o.markerUnselectedOptions[A]:{};o.scatter2d.update(X)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&T.forEach(function(K){var q=((K||[])[0]||{}).trace||{};t.hasText(q)&&l(K)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var re={viewport:s(f,d,M,m._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(M._rl||M.range)[0],(d._rl||d.range)[1],(M._rl||M.range)[1]]},ie=w.repeat(re,o.count);o.fill2d&&o.fill2d.update(ie),o.line2d&&o.line2d.update(ie),o.error2d&&o.error2d.update(ie.concat(ie)),o.scatter2d&&o.scatter2d.update(ie),o.select2d&&o.select2d.update(ie),o.glText&&o.glText.forEach(function(K){K.update(re)})}}};c.reglPrecompiled=a},38967:function(G,U,e){var p=e(71828);G.exports=function(n,C){var w=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(w=C._scene={},w.init=function(){p.extendFlat(w,y,v)},w.init(),w.update=function(r){var l=p.repeat(r,w.count);if(w.fill2d&&w.fill2d.update(l),w.scatter2d&&w.scatter2d.update(l),w.line2d&&w.line2d.update(l),w.error2d&&w.error2d.update(l.concat(l)),w.select2d&&w.select2d.update(l),w.glText)for(var a=0;a<w.count;a++)w.glText[a].update(r)},w.draw=function(){for(var r=w.count,l=w.fill2d,a=w.error2d,s=w.line2d,c=w.scatter2d,u=w.glText,m=w.select2d,h=w.selectBatch,T=w.unselectBatch,f=0;f<r;f++){if(l&&w.fillOrder[f]&&l.draw(w.fillOrder[f]),s&&w.lineOptions[f]&&s.draw(f),a&&(w.errorXOptions[f]&&a.draw(f),w.errorYOptions[f]&&a.draw(f+r)),c&&w.markerOptions[f])if(T[f].length){var o=p.repeat([],w.count);o[f]=T[f],c.draw(o)}else h[f].length||c.draw(f);u[f]&&w.textOptions[f]&&u[f].render()}m&&m.draw(h),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(r){r.destroy&&r.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,C._scene=null}),w.dirty||p.extendFlat(w,v),w}},58147:function(G,U,e){var p=e(34098),L=e(5345).styleTextSelection;G.exports=function(C,w){var v=C.cd,y=C.xaxis,t=C.yaxis,r=[],l=v[0].trace,a=v[0].t,s=l._length,c=a.x,u=a.y,m=a._scene,h=a.index;if(!m)return r;var T=p.hasText(l),f=p.hasMarkers(l),o=!f&&!T;if(l.visible!==!0||o)return r;var d=[],M=[];if(w!==!1&&!w.degenerate)for(var A=0;A<s;A++)w.contains([a.xpx[A],a.ypx[A]],!1,A,C)?(d.push(A),r.push({pointNumber:A,x:y.c2d(c[A]),y:t.c2d(u[A])})):M.push(A);if(f){var E=m.scatter2d;if(!d.length&&!M.length){var g=new Array(m.count);g[h]=m.markerOptions[h],E.update.apply(E,g)}else if(!m.selectBatch[h].length&&!m.unselectBatch[h].length){var S=new Array(m.count);S[h]=m.markerUnselectedOptions[h],E.update.apply(E,S)}}return m.selectBatch[h]=d,m.unselectBatch[h]=M,T&&L(v),r}},99181:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(19316),C=e(82196),w=e(23585),v=e(9012),y=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,l=e(23585),a=n.line,s=n.marker;G.exports=r({lon:n.lon,lat:n.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},l.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},y("marker")),fill:n.fill,fillcolor:C.fillcolor,textfont:w.layers.symbol.textfont,textposition:w.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},15790:function(G,U,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=e(18214),w=e(21081),v=e(91424),y=e(39984),t=e(34098),r=e(13056),l=e(23469).appendArrayPointValue,a=e(63893).NEWLINES,s=e(63893).BR_TAG_ALL;G.exports=function(M,A){var E=A[0].trace,g=E.visible===!0&&E._length!==0,S=E.fill!=="none",b=t.hasLines(E),i=t.hasMarkers(E),P=t.hasText(E),x=i&&E.marker.symbol==="circle",k=i&&E.marker.symbol!=="circle",_=E.cluster&&E.cluster.enabled,B=c("fill"),I=c("line"),z=c("circle"),O=c("symbol"),F={fill:B,line:I,circle:z,symbol:O};if(!g)return F;var N;if((S||b)&&(N=C.calcTraceToLineCoords(A)),S&&(B.geojson=C.makePolygon(N),B.layout.visibility="visible",L.extendFlat(B.paint,{"fill-color":E.fillcolor})),b&&(I.geojson=C.makeLine(N),I.layout.visibility="visible",L.extendFlat(I.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),x){var Q=u(A);z.geojson=Q.geojson,z.layout.visibility="visible",_&&(z.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(E.cluster.color,E.cluster.step),"circle-radius":o(E.cluster.size,E.cluster.step),"circle-opacity":o(E.cluster.opacity,E.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(z.paint,{"circle-color":Q.mcc,"circle-radius":Q.mrc,"circle-opacity":Q.mo})}if(x&&_&&(z.filter=["!",["has","point_count"]]),(k||P)&&(O.geojson=m(A,M),L.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(L.extendFlat(O.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&L.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=E.marker.allowoverlap,L.extendFlat(O.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),P)){var $=(E.marker||{}).size,j=r(E.textposition,$);L.extendFlat(O.layout,{"text-size":E.textfont.size,"text-anchor":j.anchor,"text-offset":j.offset}),L.extendFlat(O.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return F};function c(d){return{type:d,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d){var M=d[0].trace,A=M.marker,E=M.selectedpoints,g=L.isArrayOrTypedArray(A.color),S=L.isArrayOrTypedArray(A.size),b=L.isArrayOrTypedArray(A.opacity),i;function P($){return M.opacity*$}function x($){return $/2}var k;g&&(w.hasColorscale(M,"marker")?k=w.makeColorScaleFuncFromTrace(A):k=L.identity);var _;S&&(_=y(M));var B;b&&(B=function($){var j=p($)?+L.constrain($,0,1):0;return P(j)});var I=[];for(i=0;i<d.length;i++){var z=d[i],O=z.lonlat;if(!f(O)){var F={};k&&(F.mcc=z.mcc=k(z.mc)),_&&(F.mrc=z.mrc=_(z.ms)),B&&(F.mo=B(z.mo)),E&&(F.selected=z.selected||0),I.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:O},properties:F})}}var N;if(E)for(N=v.makeSelectedPointStyleFns(M),i=0;i<I.length;i++){var Q=I[i].properties;N.selectedOpacityFn&&(Q.mo=P(N.selectedOpacityFn(Q))),N.selectedColorFn&&(Q.mcc=N.selectedColorFn(Q)),N.selectedSizeFn&&(Q.mrc=N.selectedSizeFn(Q))}return{geojson:{type:"FeatureCollection",features:I},mcc:g||N&&N.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:S||N&&N.selectedSizeFn?{type:"identity",property:"mrc"}:x(A.size),mo:b||N&&N.selectedOpacityFn?{type:"identity",property:"mo"}:P(A.opacity)}}function m(d,M){for(var A=M._fullLayout,E=d[0].trace,g=E.marker||{},S=g.symbol,b=g.angle,i=S!=="circle"?h(S):T,P=b!=="auto"?h(b,!0):T,x=t.hasText(E)?h(E.text):T,k=[],_=0;_<d.length;_++){var B=d[_];if(!f(B.lonlat)){var I=E.texttemplate,z;if(I){var O=Array.isArray(I)?I[_]||"":I,F=E._module.formatLabels(B,E,A),N={};l(N,E,B.i);var Q=E._meta||{};z=L.texttemplateString(O,F,A._d3locale,N,B,Q)}else z=x(_);z&&(z=z.replace(a,"").replace(s,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:i(_),angle:P(_),text:z}})}}return{type:"FeatureCollection",features:k}}function h(d,M){return L.isArrayOrTypedArray(d)?M?function(A){return p(d[A])?+d[A]:0}:function(A){return d[A]}:d?function(){return d}:T}function T(){return""}function f(d){return d[0]===n}function o(d,M){var A;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(M)){A=["step",["get","point_count"],d[0]];for(var E=1;E<d.length;E++)A.push(M[E-1],d[E])}else A=d;return A}},76645:function(G,U,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),w=e(82410),v=e(28908),y=e(99181);G.exports=function(l,a,s,c){function u(g,S){return p.coerce(l,a,y,g,S)}function m(g,S){return p.coerce2(l,a,y,g,S)}var h=t(l,a,u);if(!h){a.visible=!1;return}if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),L.hasLines(a)&&(C(l,a,s,c,u,{noDash:!0}),u("connectgaps")),L.hasMarkers(a)){n(l,a,s,c,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var T=a.marker;T.symbol!=="circle"&&(p.isArrayOrTypedArray(T.size)&&(T.size=T.size[0]),p.isArrayOrTypedArray(T.color)&&(T.color=T.color[0]))}var f=m("cluster.maxzoom"),o=m("cluster.step"),d=m("cluster.color",a.marker&&a.marker.color||s),M=m("cluster.size"),A=m("cluster.opacity"),E=f!==!1||o!==!1||d!==!1||M!==!1||A!==!1;u("cluster.enabled",E),L.hasText(a)&&w(l,a,c,u,{noSelect:!0}),u("fill"),a.fill!=="none"&&v(l,a,s,u),p.coerceSelectionMarkerOpacity(a,u)};function t(r,l,a){var s=a("lon")||[],c=a("lat")||[],u=Math.min(s.length,c.length);return l._length=u,u}},53353:function(G){G.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},15636:function(G,U,e){var p=e(89298);G.exports=function(n,C,w){var v={},y=w[C.subplot]._subplot,t=y.mockAxis,r=n.lonlat;return v.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(G,U,e){var p=e(30211),L=e(71828),n=e(34603),C=L.fillText,w=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function y(r,l,a){var s=r.cd,c=s[0].trace,u=r.xa,m=r.ya,h=r.subplot,T=[],f=v+c.uid+"-circle",o=c.cluster&&c.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[f]});T=d.map(function(I){return I.id})}var M=l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360),A=M*360,E=l-A;function g(I){var z=I.lonlat;if(z[0]===w||o&&T.indexOf(I.i+1)===-1)return 1/0;var O=L.modHalf(z[0],360),F=z[1],N=h.project([O,F]),Q=N.x-u.c2p([E,F]),$=N.y-m.c2p([O,a]),j=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(Q*Q+$*$)-j,1-3/j)}if(p.getClosest(s,g,r),r.index!==!1){var S=s[r.index],b=S.lonlat,i=[L.modHalf(b[0],360)+A,b[1]],P=u.c2p(i),x=m.c2p(i),k=S.mrc||1;r.x0=P-k,r.x1=P+k,r.y0=x-k,r.y1=x+k;var _={};_[c.subplot]={_subplot:h};var B=c._module.formatLabels(S,c,_);return r.lonLabel=B.lonLabel,r.latLabel=B.latLabel,r.color=n(c,S),r.extraText=t(c,S,s[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}}function t(r,l,a){if(r.hovertemplate)return;var s=l.hi||r.hoverinfo,c=s.split("+"),u=c.indexOf("all")!==-1,m=c.indexOf("lon")!==-1,h=c.indexOf("lat")!==-1,T=l.lonlat,f=[];function o(d){return d+"°"}return u||m&&h?f.push("("+o(T[1])+", "+o(T[0])+")"):m?f.push(a.lon+o(T[0])):h&&f.push(a.lat+o(T[1])),(u||c.indexOf("text")!==-1)&&C(l,r,f),f.join("<br>")}G.exports={hoverPoints:y,getExtraText:t}},20467:function(G,U,e){G.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(G,U,e){var p=e(71828),L=e(15790),n=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function w(y,t,r,l){this.type="scattermapbox",this.subplot=y,this.uid=t,this.clusterEnabled=r,this.isHidden=l,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:n+t+"-fill",line:n+t+"-line",circle:n+t+"-circle",symbol:n+t+"-symbol",cluster:n+t+"-cluster",clusterCount:n+t+"-cluster-count"},this.below=null}var v=w.prototype;v.addSource=function(y,t,r){var l={type:"geojson",data:t.geojson};r&&r.enabled&&p.extendFlat(l,{cluster:!0,clusterMaxZoom:r.maxzoom}),this.subplot.map.addSource(this.sourceIds[y],l)},v.setSourceData=function(y,t){this.subplot.map.getSource(this.sourceIds[y]).setData(t.geojson)},v.addLayer=function(y,t,r){var l={type:t.type,id:this.layerIds[y],source:this.sourceIds[y],layout:t.layout,paint:t.paint};t.filter&&(l.filter=t.filter),this.subplot.addLayer(l,r)},v.update=function(t){var r=t[0].trace,l=this.subplot,a=l.map,s=L(l.gd,t),c=l.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),m=!!this.clusterEnabled,h=this;function T(b){b||h.addSource("circle",s.circle,r.cluster);for(var i=C.cluster,P=0;P<i.length;P++){var x=i[P],k=s[x];h.addLayer(x,k,c)}}function f(b){for(var i=C.cluster,P=i.length-1;P>=0;P--){var x=i[P];a.removeLayer(h.layerIds[x])}b||a.removeSource(h.sourceIds.circle)}function o(b){for(var i=C.nonCluster,P=0;P<i.length;P++){var x=i[P],k=s[x];b||h.addSource(x,k),h.addLayer(x,k,c)}}function d(b){for(var i=C.nonCluster,P=i.length-1;P>=0;P--){var x=i[P];a.removeLayer(h.layerIds[x]),b||a.removeSource(h.sourceIds[x])}}function M(b){m?f(b):d(b)}function A(b){u?T(b):o(b)}function E(){for(var b=u?C.cluster:C.nonCluster,i=0;i<b.length;i++){var P=b[i],x=s[P];x&&(l.setOptions(h.layerIds[P],"setLayoutProperty",x.layout),x.layout.visibility==="visible"&&(P!=="cluster"&&h.setSourceData(P,x),l.setOptions(h.layerIds[P],"setPaintProperty",x.paint)))}}var g=this.isHidden,S=r.visible!==!0;S?g||M():g?S||A():m!==u?(M(),A()):(this.below!==c&&(M(!0),A(!0)),E()),this.clusterEnabled=u,this.isHidden=S,this.below=c,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?C.cluster:C.nonCluster,l=r.length-1;l>=0;l--){var a=r[l];t.removeLayer(this.layerIds[a]),t.removeSource(this.sourceIds[a])}},G.exports=function(t,r){var l=r[0].trace,a=l.cluster&&l.cluster.enabled,s=l.visible!==!0,c=new w(t,l.uid,a,s),u=L(t.gd,r),m=c.below=t.belowLookup["trace-"+l.uid],h,T,f;if(a)for(c.addSource("circle",u.circle,l.cluster),h=0;h<C.cluster.length;h++)T=C.cluster[h],f=u[T],c.addLayer(T,f,m);else for(h=0;h<C.nonCluster.length;h++)T=C.nonCluster[h],f=u[T],c.addSource(T,f,l.cluster),c.addLayer(T,f,m);return r[0].trace._glTrace=c,c}},86387:function(G,U,e){var p=e(71828),L=e(34098),n=e(50606).BADNUM;G.exports=function(w,v){var y=w.cd,t=w.xaxis,r=w.yaxis,l=[],a=y[0].trace,s;if(!L.hasMarkers(a))return[];if(v===!1)for(s=0;s<y.length;s++)y[s].selected=0;else for(s=0;s<y.length;s++){var c=y[s],u=c.lonlat;if(u[0]!==n){var m=[p.modHalf(u[0],360),u[1]],h=[t.c2p(m),r.c2p(m)];v.contains(h,null,s,w)?(l.push({pointNumber:s,lon:u[0],lat:u[1]}),c.selected=1):c.selected=0}}return l}},81245:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(1426).extendFlat,C=e(82196),w=e(9012),v=C.line;G.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:n({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},w.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},26442:function(G,U,e){var p=e(92770),L=e(50606).BADNUM,n=e(89298),C=e(36922),w=e(75225),v=e(66279),y=e(47761).calcMarkerSize;G.exports=function(r,l){for(var a=r._fullLayout,s=l.subplot,c=a[s].radialaxis,u=a[s].angularaxis,m=c.makeCalcdata(l,"r"),h=u.makeCalcdata(l,"theta"),T=l._length,f=new Array(T),o=0;o<T;o++){var d=m[o],M=h[o],A=f[o]={};p(d)&&p(M)?(A.r=d,A.theta=M):A.r=L}var E=y(l,T);return l._extremes.x=n.findExtremes(c,m,{ppad:E}),C(r,l),w(f,l),v(f,l),f}},22184:function(G,U,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),w=e(94039),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function l(s,c,u,m){function h(o,d){return p.coerce(s,c,r,o,d)}var T=a(s,c,m,h);if(!T){c.visible=!1;return}h("thetaunit"),h("mode",T<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),L.hasLines(c)&&(C(s,c,u,m,h,{backoff:!0}),w(s,c,h),h("connectgaps")),L.hasMarkers(c)&&n(s,c,u,m,h,{gradient:!0}),L.hasText(c)&&(h("texttemplate"),v(s,c,m,h));var f=[];(L.hasMarkers(c)||L.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(y(s,c,u,h),L.hasLines(c)||w(s,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,h)}function a(s,c,u,m){var h=m("r"),T=m("theta"),f;if(h)T?f=Math.min(h.length,T.length):(f=h.length,m("theta0"),m("dtheta"));else{if(!T)return 0;f=c.theta.length,m("r0"),m("dr")}return c._length=f,f}G.exports={handleRThetaDefaults:a,supplyDefaults:l}},98608:function(G,U,e){var p=e(71828),L=e(89298);G.exports=function(C,w,v){var y={},t=v[w.subplot]._subplot,r,l;t?(r=t.radialAxis,l=t.angularAxis):(t=v[w.subplot],r=t.radialaxis,l=t.angularaxis);var a=r.c2l(C.r);y.rLabel=L.tickText(r,a,!0).text;var s=l.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return y.thetaLabel=L.tickText(l,s,!0).text,y}},59150:function(G,U,e){var p=e(33720);function L(C,w,v,y){var t=p(C,w,v,y);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=C.subplot,a=r.cd[r.index],s=r.trace;if(l.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(a,s,l,r),r.hovertemplate=s.hovertemplate,t}}function n(C,w,v,y){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="θ";var l={};l[w.subplot]={_subplot:v};var a=w._module.formatLabels(C,w,l);y.rLabel=a.rLabel,y.thetaLabel=a.thetaLabel;var s=C.hi||w.hoverinfo,c=[];function u(h,T){c.push(h._hovertitle+": "+T)}if(!w.hovertemplate){var m=s.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&u(t,y.rLabel),m.indexOf("theta")!==-1&&u(r,y.thetaLabel),m.indexOf("text")!==-1&&y.text&&(c.push(y.text),delete y.text),y.extraText=c.join("<br>")}}G.exports={hoverPoints:L,makeHoverPointText:n}},91271:function(G,U,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(G,U,e){var p=e(32663),L=e(50606).BADNUM;G.exports=function(C,w,v){for(var y=w.layers.frontplot.select("g.scatterlayer"),t=w.xaxis,r=w.yaxis,l={xaxis:t,yaxis:r,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},a=w.radialAxis,s=w.angularAxis,c=0;c<v.length;c++)for(var u=v[c],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var h=u[m],T=h.r;if(T===L)h.x=h.y=L;else{var f=a.c2g(T),o=s.c2g(h.theta);h.x=f*Math.cos(o),h.y=f*Math.sin(o)}}p(C,l,v,y)}},53286:function(G,U,e){var p=e(81245),L=e(42341),n=e(5386).s;G.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:L.line,connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},65746:function(G,U,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(G,U,e){var p=e(36922),L=e(47761).calcMarkerSize,n=e(19635),C=e(89298),w=e(78232).TOO_MANY_POINTS;G.exports=function(y,t){var r=y._fullLayout,l=t.subplot,a=r[l].radialaxis,s=r[l].angularaxis,c=t._r=a.makeCalcdata(t,"r"),u=t._theta=s.makeCalcdata(t,"theta"),m=t._length,h={};m<c.length&&(c=c.slice(0,m)),m<u.length&&(u=u.slice(0,m)),h.r=c,h.theta=u,p(y,t);var T=h.opts=n.style(y,t),f;return m<w?f=L(t,m):T.marker&&(f=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),t._extremes.x=C.findExtremes(a,c,{ppad:f}),[{x:!1,y:!1,t:h,trace:t}]}},75485:function(G,U,e){var p=e(71828),L=e(34098),n=e(22184).handleRThetaDefaults,C=e(49508),w=e(11058),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);G.exports=function(a,s,c,u){function m(T,f){return p.coerce(a,s,r,T,f)}var h=n(a,s,u,m);if(!h){s.visible=!1;return}m("thetaunit"),m("mode",h<t?"lines+markers":"lines"),m("text"),m("hovertext"),s.hoveron!=="fills"&&m("hovertemplate"),L.hasLines(s)&&(w(a,s,c,u,m),m("connectgaps")),L.hasMarkers(s)&&C(a,s,c,u,m,{noAngleRef:!0,noStandOff:!0}),L.hasText(s)&&(m("texttemplate"),v(a,s,u,m)),m("fill"),s.fill!=="none"&&y(a,s,c,m),p.coerceSelectionMarkerOpacity(s,m)}},46255:function(G,U,e){var p=e(98608);G.exports=function(n,C,w){var v=n.i;return"r"in n||(n.r=C._r[v]),"theta"in n||(n.theta=C._theta[v]),p(n,C,w)}},29347:function(G,U,e){var p=e(20794),L=e(59150).makeHoverPointText;function n(C,w,v,y){var t=C.cd,r=t[0].t,l=r.r,a=r.theta,s=p.hoverPoints(C,w,v,y);if(!(!s||s[0].index===!1)){var c=s[0];if(c.index===void 0)return s;var u=C.subplot,m=c.cd[c.index],h=c.trace;if(m.r=l[c.index],m.theta=a[c.index],!!u.isPtInside(m))return c.xLabelVal=void 0,c.yLabelVal=void 0,L(m,h,u,c),s}}G.exports={hoverPoints:n}},21461:function(G,U,e){var p=e(65746);p.plot=e(49741),G.exports=p},49741:function(G,U,e){var p=e(88294),L=e(92770),n=e(26787),C=e(38967),w=e(19635),v=e(71828),y=e(78232).TOO_MANY_POINTS,t={};G.exports=function(l,a,s){if(s.length){var c=a.radialAxis,u=a.angularAxis,m=C(l,a);return s.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],f=T.trace,o=T.t,d=f._length,M=o.r,A=o.theta,E=o.opts,g,S=M.slice(),b=A.slice();for(g=0;g<M.length;g++)a.isPtInside({r:M[g],theta:A[g]})||(S[g]=NaN,b[g]=NaN);var i=new Array(d*2),P=Array(d),x=Array(d);for(g=0;g<d;g++){var k=S[g],_,B;if(L(k)){var I=c.c2g(k),z=u.c2g(b[g],f.thetaunit);_=I*Math.cos(z),B=I*Math.sin(z)}else _=B=NaN;P[g]=i[g*2]=_,x[g]=i[g*2+1]=B}o.tree=p(i),E.marker&&d>=y&&(E.marker.cluster=o.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=i),E.line&&i.length>1&&v.extendFlat(E.line,w.linePositions(l,f,i)),E.text&&(v.extendFlat(E.text,{positions:i},w.textPosition(l,f,E.text,E.marker)),v.extendFlat(E.textSel,{positions:i},w.textPosition(l,f,E.text,E.markerSel)),v.extendFlat(E.textUnsel,{positions:i},w.textPosition(l,f,E.text,E.markerUnsel))),E.fill&&!m.fill2d&&(m.fill2d=!0),E.marker&&!m.scatter2d&&(m.scatter2d=!0),E.line&&!m.line2d&&(m.line2d=!0),E.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(E.line),m.fillOptions.push(E.fill),m.markerOptions.push(E.marker),m.markerSelectedOptions.push(E.markerSel),m.markerUnselectedOptions.push(E.markerUnsel),m.textOptions.push(E.text),m.textSelectedOptions.push(E.textSel),m.textUnselectedOptions.push(E.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),o.x=P,o.y=x,o.rawx=P,o.rawy=x,o.r=M,o.theta=A,o.positions=i,o._scene=m,o.index=m.count,m.count++}}),n(l,a,s)}},G.exports.reglPrecompiled=t},48300:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(1426).extendFlat,C=e(82196),w=e(9012),v=C.line;G.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:n({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},w.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},30621:function(G,U,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),w=e(66279),v=e(47761).calcMarkerSize;G.exports=function(t,r){for(var l=t._fullLayout,a=r.subplot,s=l[a].realaxis,c=l[a].imaginaryaxis,u=s.makeCalcdata(r,"real"),m=c.makeCalcdata(r,"imag"),h=r._length,T=new Array(h),f=0;f<h;f++){var o=u[f],d=m[f],M=T[f]={};p(o)&&p(d)?(M.real=o,M.imag=d):M.real=L}return v(r,h),n(t,r),C(T,r),w(T,r),T}},65269:function(G,U,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),w=e(94039),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);G.exports=function(s,c,u,m){function h(o,d){return p.coerce(s,c,r,o,d)}var T=l(s,c,m,h);if(!T){c.visible=!1;return}h("mode",T<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),L.hasLines(c)&&(C(s,c,u,m,h,{backoff:!0}),w(s,c,h),h("connectgaps")),L.hasMarkers(c)&&n(s,c,u,m,h,{gradient:!0}),L.hasText(c)&&(h("texttemplate"),v(s,c,m,h));var f=[];(L.hasMarkers(c)||L.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(y(s,c,u,h),L.hasLines(c)||w(s,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,h)};function l(a,s,c,u){var m=u("real"),h=u("imag"),T;return m&&h&&(T=Math.min(m.length,h.length)),s._length=T,T}},62047:function(G,U,e){var p=e(89298);G.exports=function(n,C,w){var v={},y=w[C.subplot]._subplot;return v.realLabel=p.tickText(y.radialAxis,n.real,!0).text,v.imagLabel=p.tickText(y.angularAxis,n.imag,!0).text,v}},11350:function(G,U,e){var p=e(33720);function L(C,w,v,y){var t=p(C,w,v,y);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=C.subplot,a=r.cd[r.index],s=r.trace;if(l.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(a,s,l,r),r.hovertemplate=s.hovertemplate,t}}function n(C,w,v,y){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var l={};l[w.subplot]={_subplot:v};var a=w._module.formatLabels(C,w,l);y.realLabel=a.realLabel,y.imagLabel=a.imagLabel;var s=C.hi||w.hoverinfo,c=[];function u(h,T){c.push(h._hovertitle+": "+T)}if(!w.hovertemplate){var m=s.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&u(t,y.realLabel),m.indexOf("imag")!==-1&&u(r,y.imagLabel),m.indexOf("text")!==-1&&y.text&&(c.push(y.text),delete y.text),y.extraText=c.join("<br>")}}G.exports={hoverPoints:L,makeHoverPointText:n}},85956:function(G,U,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(G,U,e){var p=e(32663),L=e(50606).BADNUM,n=e(23893),C=n.smith;G.exports=function(v,y,t){for(var r=y.layers.frontplot.select("g.scatterlayer"),l=y.xaxis,a=y.yaxis,s={xaxis:l,yaxis:a,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},c=0;c<t.length;c++)for(var u=t[c],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=l,u[0].trace._yA=a);var h=u[m],T=h.real;if(T===L)h.x=h.y=L;else{var f=C([T,h.imag]);h.x=f[0],h.y=f[1]}}p(v,s,t,r)}},50413:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(82196),C=e(9012),w=e(50693),v=e(79952).P,y=e(1426).extendFlat,t=n.marker,r=n.line,l=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:y({},n.mode,{dflt:"markers"}),text:y({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:y({},n.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:y({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:n.connectgaps,cliponaxis:n.cliponaxis,fill:y({},n.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n.fillcolor,marker:y({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:y({width:l.width,editType:"calc"},w("marker.line")),gradient:t.gradient,editType:"calc"},w("marker")),textfont:n.textfont,textposition:n.textposition,selected:n.selected,unselected:n.unselected,hoverinfo:y({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron,hovertemplate:p()}},54337:function(G,U,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),w=e(47761).calcMarkerSize,v=["a","b","c"],y={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(r,l){var a=r._fullLayout[l.subplot],s=a.sum,c=l.sum||s,u={a:l.a,b:l.b,c:l.c},m,h,T,f,o,d;for(m=0;m<v.length;m++)if(T=v[m],!u[T]){for(o=u[y[T][0]],d=u[y[T][1]],f=new Array(o.length),h=0;h<o.length;h++)f[h]=c-o[h]-d[h];u[T]=f}var M=l._length,A=new Array(M),E,g,S,b,i,P;for(m=0;m<M;m++)E=u.a[m],g=u.b[m],S=u.c[m],p(E)&&p(g)&&p(S)?(E=+E,g=+g,S=+S,b=s/(E+g+S),b!==1&&(E*=b,g*=b,S*=b),P=E,i=S-g,A[m]={x:i,y:P,a:E,b:g,c:S}):A[m]={x:!1,y:!1};return w(l,M),L(r,l),n(A,l),C(A,l),A}},46008:function(G,U,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),w=e(11058),v=e(94039),y=e(82410),t=e(28908),r=e(50413);G.exports=function(a,s,c,u){function m(A,E){return p.coerce(a,s,r,A,E)}var h=m("a"),T=m("b"),f=m("c"),o;if(h?(o=h.length,T?(o=Math.min(o,T.length),f&&(o=Math.min(o,f.length))):f?o=Math.min(o,f.length):o=0):T&&f&&(o=Math.min(T.length,f.length)),!o){s.visible=!1;return}s._length=o,m("sum"),m("text"),m("hovertext"),s.hoveron!=="fills"&&m("hovertemplate");var d=o<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",d),n.hasLines(s)&&(w(a,s,c,u,m,{backoff:!0}),v(a,s,m),m("connectgaps")),n.hasMarkers(s)&&C(a,s,c,u,m,{gradient:!0}),n.hasText(s)&&(m("texttemplate"),y(a,s,u,m));var M=[];(n.hasMarkers(s)||n.hasText(s))&&(m("cliponaxis"),m("marker.maxdisplayed"),M.push("points")),m("fill"),s.fill!=="none"&&(t(a,s,c,m),n.hasLines(s)||v(a,s,m)),(s.fill==="tonext"||s.fill==="toself")&&M.push("fills"),m("hoveron",M.join("+")||"points"),p.coerceSelectionMarkerOpacity(s,m)}},4524:function(G){G.exports=function(e,p,L,n,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),n[C]){var w=n[C];e.a=w.a,e.b=w.b,e.c=w.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},93645:function(G,U,e){var p=e(89298);G.exports=function(n,C,w){var v={},y=w[C.subplot]._subplot;return v.aLabel=p.tickText(y.aaxis,n.a,!0).text,v.bLabel=p.tickText(y.baxis,n.b,!0).text,v.cLabel=p.tickText(y.caxis,n.c,!0).text,v}},47250:function(G,U,e){var p=e(33720);G.exports=function(n,C,w,v){var y=p(n,C,w,v);if(!y||y[0].index===!1)return;var t=y[0];if(t.index===void 0){var r=1-t.y0/n.ya._length,l=n.xa._length,a=l*r/2,s=l-a;return t.x0=Math.max(Math.min(t.x0,s),a),t.x1=Math.max(Math.min(t.x1,s),a),y}var c=t.cd[t.index],u=t.trace,m=t.subplot;t.a=c.a,t.b=c.b,t.c=c.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var h={};h[u.subplot]={_subplot:m};var T=u._module.formatLabels(c,u,h);t.aLabel=T.aLabel,t.bLabel=T.bLabel,t.cLabel=T.cLabel;var f=c.hi||u.hoverinfo,o=[];function d(A,E){o.push(A._hovertitle+": "+E)}if(!u.hovertemplate){var M=f.split("+");M.indexOf("all")!==-1&&(M=["a","b","c"]),M.indexOf("a")!==-1&&d(m.aaxis,t.aLabel),M.indexOf("b")!==-1&&d(m.baxis,t.bLabel),M.indexOf("c")!==-1&&d(m.caxis,t.cLabel)}return t.extraText=o.join("<br>"),t.hovertemplate=u.hovertemplate,y}},52979:function(G,U,e){G.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(G,U,e){var p=e(32663);G.exports=function(n,C,w){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var y=C.xaxis,t=C.yaxis,r={xaxis:y,yaxis:t,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},l=C.layers.frontplot.select("g.scatterlayer"),a=0;a<w.length;a++){var s=w[a];s.length&&(s[0].trace._xA=y,s[0].trace._yA=t)}p(n,r,w,l)}},46880:function(G,U,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).f,w=e(42341),v=e(85555).idRegex,y=e(44467).templatedArray,t=e(1426).extendFlat,r=p.marker,l=r.line,a=t(L("marker.line",{editTypeOverride:"calc"}),{width:t({},l.width,{editType:"calc"}),editType:"calc"}),s=t(L("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:a,editType:"calc"});s.color.editType=s.cmin.editType=s.cmax.editType="style";function c(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}G.exports={dimensions:y("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},w.text,{}),hovertext:t({},w.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),marker:s,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:w.selected.marker,editType:"calc"},unselected:{marker:w.unselected.marker,editType:"calc"},opacity:w.opacity}},65017:function(G,U,e){var p=e(73972),L=e(83312);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},p.register(L)},16947:function(G,U,e){var p=e(46075),L=e(73972),n=e(79749),C=e(27659).a0,w=e(93612),v=e(41675).getFromId,y=e(89298).shouldShowZeroLine,t="splom",r={};function l(h){var T=h._fullLayout,f=L.getModule(t),o=C(h.calcdata,f)[0],d=n(h,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(T._hasOnlyLargeSploms&&c(h),f.plot(h,{},o))}function a(h){var T=h.calcdata,f=h._fullLayout;f._hasOnlyLargeSploms&&c(h);for(var o=0;o<T.length;o++){var d=T[o][0],M=d.trace,A=f._splomScenes[M.uid];M.type==="splom"&&A&&A.matrix&&s(h,M,A)}}function s(h,T,f){for(var o=f.matrixOptions.data.length,d=T._visibleDims,M=f.viewOpts.ranges=new Array(o),A=0;A<d.length;A++){var E=d[A],g=M[A]=new Array(4),S=v(h,T._diag[E][0]);S&&(g[0]=S.r2l(S.range[0]),g[2]=S.r2l(S.range[1]));var b=v(h,T._diag[E][1]);b&&(g[1]=b.r2l(b.range[0]),g[3]=b.r2l(b.range[1]))}f.selectBatch.length||f.unselectBatch.length?f.matrix.update({ranges:M},{ranges:M}):f.matrix.update({ranges:M})}function c(h){var T=h._fullLayout,f=T._glcanvas.data()[0].regl,o=T._splomGrid;o||(o=T._splomGrid=p(f)),o.update(u(h))}function u(h){var T=h._context.plotGlPixelRatio,f=h._fullLayout,o=f._size,d=[0,0,f.width*T,f.height*T],M={},A;function E(Q,$,j,ee,oe,Y){j*=T,ee*=T,oe*=T,Y*=T;var V=$[Q+"color"],W=$[Q+"width"],X=String(V+W);X in M?M[X].data.push(NaN,NaN,j,ee,oe,Y):M[X]={data:[j,ee,oe,Y],join:"rect",thickness:W*T,color:V,viewport:d,range:d,overlay:!1}}for(A in f._splomSubplots){var g=f._plots[A],S=g.xaxis,b=g.yaxis,i=S._gridVals,P=b._gridVals,x=S._offset,k=S._length,_=b._length,B=o.b+b.domain[0]*o.h,I=-b._m,z=-I*b.r2l(b.range[0],b.calendar),O,F;if(S.showgrid)for(A=0;A<i.length;A++)O=x+S.l2p(i[A].x),E("grid",S,O,B,O,B+_);if(b.showgrid)for(A=0;A<P.length;A++)F=B+z+I*P[A].x,E("grid",b,x,F,x+k,F);y(h,S,b)&&(O=x+S.l2p(0),E("zeroline",S,O,B,O,B+_)),y(h,b,S)&&(F=B+z+0,E("zeroline",b,x,F,x+k,F))}var N=[];for(A in M)N.push(M[A]);return N}function m(h,T,f,o){var d={},M;if(o._splomScenes){for(M=0;M<h.length;M++){var A=h[M];A.type==="splom"&&(d[A.uid]=1)}for(M=0;M<f.length;M++){var E=f[M];if(!d[E.uid]){var g=o._splomScenes[E.uid];g&&g.destroy&&g.destroy(),o._splomScenes[E.uid]=null,delete o._splomScenes[E.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!T._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),w.clean(h,T,f,o)}G.exports={name:t,attr:w.attr,attrRegex:w.attrRegex,layoutAttributes:w.layoutAttributes,supplyLayoutDefaults:w.supplyLayoutDefaults,drawFramework:w.drawFramework,plot:l,drag:a,updateGrid:c,clean:m,updateFx:w.updateFx,toSVG:w.toSVG,reglPrecompiled:r}},87625:function(G,U,e){var p=e(71828),L=e(41675),n=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,w=e(36922),v=e(19635).markerSelection,y=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;G.exports=function(s,c){var u=c.dimensions,m=c._length,h={},T=h.cdata=[],f=h.data=[],o=c._visibleDims=[],d,M,A,E,g;function S(k,_){for(var B=k.makeCalcdata({v:_.values,vcalendar:c.calendar},"v"),I=0;I<B.length;I++)B[I]=B[I]===r?NaN:B[I];T.push(B),f.push(k.type==="log"?p.simpleMap(B,k.c2l):B)}for(d=0;d<u.length;d++)if(A=u[d],A.visible){if(E=L.getFromId(s,c._diag[d][0]),g=L.getFromId(s,c._diag[d][1]),E&&g&&E.type!==g.type){p.log("Skipping splom dimension "+d+" with conflicting axis types");continue}E?(S(E,A),g&&g.type==="category"&&(g._categories=E._categories.slice())):S(g,A),o.push(d)}w(s,c),p.extendFlat(h,y(s,c));var b=T.length,i=b*m>l,P;for(i?P=h.sizeAvg||Math.max(h.size,3):P=n(c,m),M=0;M<o.length;M++)d=o[M],A=u[d],E=L.getFromId(s,c._diag[d][0])||{},g=L.getFromId(s,c._diag[d][1])||{},C(s,c,E,g,T[M],T[M],P);var x=t(s,c);return x.matrix||(x.matrix=!0),x.matrixOptions=h,x.selectedOptions=v(s,c,c.selected),x.unselectedOptions=v(s,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(G,U,e){var p=e(71828),L=e(85501),n=e(46880),C=e(34098),w=e(49508),v=e(94397),y=e(68645).isOpenSymbol;G.exports=function(a,s,c,u){function m(E,g){return p.coerce(a,s,n,E,g)}var h=L(a,s,{name:"dimensions",handleItemDefaults:t}),T=m("diagonal.visible"),f=m("showupperhalf"),o=m("showlowerhalf"),d=v(s,h,"values");if(!d||!T&&!f&&!o){s.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),w(a,s,c,u,m,{noAngleRef:!0,noStandOff:!0});var M=y(s.marker.symbol),A=C.isBubble(s);m("marker.line.width",M||A?1:0),r(a,s,u,m),p.coerceSelectionMarkerOpacity(s,m)};function t(l,a){function s(u,m){return p.coerce(l,a,n.dimensions,u,m)}s("label");var c=s("values");c&&c.length?s("visible"):a.visible=!1,s("axis.type"),s("axis.matches")}function r(l,a,s,c){var u=a.dimensions,m=u.length,h=a.showupperhalf,T=a.showlowerhalf,f=a.diagonal.visible,o,d,M=new Array(m),A=new Array(m);for(o=0;o<m;o++){var E=o?o+1:"";M[o]="x"+E,A[o]="y"+E}var g=c("xaxes",M),S=c("yaxes",A),b=a._diag=new Array(m);a._xaxes={},a._yaxes={};var i=[],P=[];function x(Q,$,j,ee){if(Q){var oe=Q.charAt(0),Y=s._splomAxes[oe];if(a["_"+oe+"axes"][Q]=1,ee.push(Q),!(Q in Y)){var V=Y[Q]={};j&&(V.label=j.label||"",j.visible&&j.axis&&(j.axis.type&&(V.type=j.axis.type),j.axis.matches&&(V.matches=$)))}}}var k=!f&&!T,_=!f&&!h;for(a._axesDim={},o=0;o<m;o++){var B=u[o],I=o===0,z=o===m-1,O=I&&k||z&&_?void 0:g[o],F=I&&_||z&&k?void 0:S[o];x(O,F,B,i),x(F,O,B,P),b[o]=[O,F],a._axesDim[O]=o,a._axesDim[F]=o}for(o=0;o<i.length;o++)for(d=0;d<P.length;d++){var N=i[o]+P[d];(o>d&&h||o<d&&T||o===d&&(f||!T||!h))&&(s._splomSubplots[N]=1)}(!T||!f&&h&&T)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}},28801:function(G,U,e){var p=e(71828),L=e(36922),n=e(19635).markerStyle;G.exports=function(w,v){var y=v.trace,t=w._fullLayout._splomScenes[y.uid];if(t){L(w,y),p.extendFlat(t.matrixOptions,n(w,y));var r=p.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(G,U){U.getDimIndex=function(p,L){for(var n=L._id,C=n.charAt(0),w={x:0,y:1}[C],v=p._visibleDims,y=0;y<v.length;y++){var t=v[y];if(p._diag[t][w]===n)return y}return!1}},8567:function(G,U,e){var p=e(35948),L=e(20794).calcHover;function n(C,w,v){var y=C.cd,t=y[0].trace,r=C.scene,l=r.matrixOptions.cdata,a=C.xa,s=C.ya,c=a.c2p(w),u=s.c2p(v),m=C.distance,h=p.getDimIndex(t,a),T=p.getDimIndex(t,s);if(h===!1||T===!1)return[C];for(var f=l[h],o=l[T],d,M,A=m,E=0;E<f.length;E++){var g=f[E],S=o[E],b=a.c2p(g)-c,i=s.c2p(S)-u,P=Math.sqrt(b*b+i*i);P<A&&(A=M=P,d=E)}return C.index=d,C.distance=A,C.dxy=M,d===void 0?[C]:[L(C,f,o,t)]}G.exports={hoverPoints:n}},6419:function(G,U,e){var p=e(65017);p.basePlotModule=e(16947),G.exports=p},79410:function(G,U,e){var p=e(60487),L=e(71828),n=e(41675),C=e(64505).selectMode;G.exports=function(y,t,r){if(r.length)for(var l=0;l<r.length;l++)w(y,r[l][0])};function w(v,y){var t=v._fullLayout,r=t._size,l=y.trace,a=y.t,s=t._splomScenes[l.uid],c=s.matrixOptions,u=c.cdata,m=t._glcanvas.data()[0].regl,h=t.dragmode,T,f,o,d,M;if(u.length!==0){c.lower=l.showupperhalf,c.upper=l.showlowerhalf,c.diagonal=l.diagonal.visible;var A=l._visibleDims,E=u.length,g=s.viewOpts={};for(g.ranges=new Array(E),g.domains=new Array(E),M=0;M<A.length;M++){o=A[M];var S=g.ranges[M]=new Array(4),b=g.domains[M]=new Array(4);T=n.getFromId(v,l._diag[o][0]),T&&(S[0]=T._rl[0],S[2]=T._rl[1],b[0]=T.domain[0],b[2]=T.domain[1]),f=n.getFromId(v,l._diag[o][1]),f&&(S[1]=f._rl[0],S[3]=f._rl[1],b[1]=f.domain[0],b[3]=f.domain[1])}var i=v._context.plotGlPixelRatio,P=r.l*i,x=r.b*i,k=r.w*i,_=r.h*i;g.viewport=[P,x,k+P,_+x],s.matrix===!0&&(s.matrix=p(m));var B=t.clickmode.indexOf("select")>-1,I=C(h)||!!l.selectedpoints||B,z=!0;if(I){var O=l._length;if(l.selectedpoints){s.selectBatch=l.selectedpoints;var F=l.selectedpoints,N={};for(o=0;o<F.length;o++)N[F[o]]=!0;var Q=[];for(o=0;o<O;o++)N[o]||Q.push(o);s.unselectBatch=Q}var $=a.xpx=new Array(E),j=a.ypx=new Array(E);for(M=0;M<A.length;M++){if(o=A[M],T=n.getFromId(v,l._diag[o][0]),T)for($[M]=new Array(O),d=0;d<O;d++)$[M][d]=T.c2p(u[M][d]);if(f=n.getFromId(v,l._diag[o][1]),f)for(j[M]=new Array(O),d=0;d<O;d++)j[M][d]=f.c2p(u[M][d])}if(s.selectBatch.length||s.unselectBatch.length){var ee=L.extendFlat({},c,s.unselectedOptions,g),oe=L.extendFlat({},c,s.selectedOptions,g);s.matrix.update(ee,oe),z=!1}}else a.xpx=a.ypx=null;if(z){var Y=L.extendFlat({},c,g);s.matrix.update(Y,null)}}}},10164:function(G,U,e){var p=e(71828);G.exports=function(n,C){var w=n._fullLayout,v=C.uid,y=w._splomScenes;y||(y=w._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},l=y[C.uid];return l||(l=y[v]=p.extendFlat({},t,r),l.draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||p.extendFlat(l,t),l}},8689:function(G,U,e){var p=e(71828),L=p.pushUnique,n=e(34098),C=e(35948);G.exports=function(v,y){var t=v.cd,r=t[0].trace,l=t[0].t,a=v.scene,s=a.matrixOptions.cdata,c=v.xaxis,u=v.yaxis,m=[];if(!a)return m;var h=!n.hasMarkers(r)&&!n.hasText(r);if(r.visible!==!0||h)return m;var T=C.getDimIndex(r,c),f=C.getDimIndex(r,u);if(T===!1||f===!1)return m;var o=l.xpx[T],d=l.ypx[f],M=s[T],A=s[f],E=(v.scene.selectBatch||[]).slice(),g=[];if(y!==!1&&!y.degenerate)for(var S=0;S<M.length;S++)y.contains([o[S],d[S]],null,S,v)?(m.push({pointNumber:S,x:M[S],y:A[S]}),L(E,S)):E.indexOf(S)!==-1?L(E,S):g.push(S);var b=a.matrixOptions;return!E.length&&!g.length?a.matrix.update(b,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,p.extendFlat({},b,a.selectedOptions,a.viewOpts)),a.selectBatch=E,a.unselectBatch=g,m}},21850:function(G,U,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).f,C=e(2418),w=e(9012),v=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(y,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){y[r]=C[r]}),y.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,G.exports=y},88489:function(G,U,e){var p=e(71828),L=e(78803);function n(y,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=C(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var l=0,a,s,c;t.starts&&(a=v(t.starts.x||[]),s=v(t.starts.y||[]),c=v(t.starts.z||[]),l=Math.min(a.length,s.length,c.length)),t._startsX=a||[],t._startsY=s||[],t._startsZ=c||[];var u=0,m=1/0,h;for(h=0;h<t._len;h++){var T=t._u[h],f=t._v[h],o=t._w[h],d=Math.sqrt(T*T+f*f+o*o);u=Math.max(u,d),m=Math.min(m,d)}for(L(y,t,{vals:[m,u],containerStr:"",cLetter:"c"}),h=0;h<l;h++){var M=a[h];r.xMax=Math.max(r.xMax,M),r.xMin=Math.min(r.xMin,M);var A=s[h];r.yMax=Math.max(r.yMax,A),r.yMin=Math.min(r.yMin,A);var E=c[h];r.zMax=Math.max(r.zMax,E),r.zMin=Math.min(r.zMin,E)}t._slen=l,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function C(y){var t=y._x,r=y._y,l=y._z,a=y._len,s,c,u,m=-1/0,h=1/0,T=-1/0,f=1/0,o=-1/0,d=1/0,M="",A,E,g,S,b,i,P,x,k;for(a&&(S=t[0],i=r[0],x=l[0]),a>1&&(b=t[a-1],P=r[a-1],k=l[a-1]),s=0;s<a;s++)m=Math.max(m,t[s]),h=Math.min(h,t[s]),T=Math.max(T,r[s]),f=Math.min(f,r[s]),o=Math.max(o,l[s]),d=Math.min(d,l[s]),!A&&t[s]!==S&&(A=!0,M+="x"),!E&&r[s]!==i&&(E=!0,M+="y"),!g&&l[s]!==x&&(g=!0,M+="z");A||(M+="x"),E||(M+="y"),g||(M+="z");var _=w(y._x),B=w(y._y),I=w(y._z);M=M.replace("x",(S>b?"-":"+")+"x"),M=M.replace("y",(i>P?"-":"+")+"y"),M=M.replace("z",(x>k?"-":"+")+"z");var z=function(){a=0,_=[],B=[],I=[]};(!a||a<_.length*B.length*I.length)&&z();var O=function(he){return he==="x"?t:he==="y"?r:l},F=function(he){return he==="x"?_:he==="y"?B:I},N=function(he){return he[a-1]<he[0]?-1:1},Q=O(M[1]),$=O(M[3]),j=O(M[5]),ee=F(M[1]).length,oe=F(M[3]).length,Y=F(M[5]).length,V=!1,W=function(he,me,Me){return ee*(oe*he+me)+Me},X=N(O(M[1])),re=N(O(M[3])),ie=N(O(M[5]));for(s=0;s<Y-1;s++){for(c=0;c<oe-1;c++){for(u=0;u<ee-1;u++){var K=W(s,c,u),q=W(s,c,u+1),le=W(s,c+1,u),ae=W(s+1,c,u);if((!(Q[K]*X<Q[q]*X)||!($[K]*re<$[le]*re)||!(j[K]*ie<j[ae]*ie))&&(V=!0),V)break}if(V)break}if(V)break}return V&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:h,yMin:f,zMin:d,xMax:m,yMax:T,zMax:o,Xs:_,Ys:B,Zs:I,len:a,fill:M}}function w(y){return p.distinctVals(y).vals}function v(y,t){if(t===void 0&&(t=y.length),p.isTypedArray(y))return y.subarray(0,t);for(var r=[],l=0;l<t;l++)r[l]=+y[l];return r}G.exports={calc:n,filter:v,processGrid:C}},90154:function(G,U,e){var p=e(9330).gl_streamtube3d,L=p.createTubeMesh,n=e(71828),C=e(81697).parseColorScale,w=e(21081).extractOpts,v=e(90060),y={xaxis:0,yaxis:1,zaxis:2};function t(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var m=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,M){var A=m[M],E=h[y[M]];return A.l2c(d)/E}if(u.object===this.mesh){var f=u.data.position,o=u.data.velocity;return u.traceCoordinate=[T(f[0],"xaxis"),T(f[1],"yaxis"),T(f[2],"zaxis"),T(o[0],"xaxis"),T(o[1],"yaxis"),T(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function l(u){var m=u.length,h;return m>2?h=u.slice(1,m-1):m===2?h=[(u[0]+u[1])/2]:h=u,h}function a(u){var m=u.length;return m===1?[.5,.5]:[u[1]-u[0],u[m-1]-u[m-2]]}function s(u,m){var h=u.fullSceneLayout,T=u.dataScale,f=m._len,o={};function d(oe,Y){var V=h[Y],W=T[y[Y]];return n.simpleMap(oe,function(X){return V.d2l(X)*W})}if(o.vectors=v(d(m._u,"xaxis"),d(m._v,"yaxis"),d(m._w,"zaxis"),f),!f)return{positions:[],cells:[]};var M=d(m._Xs,"xaxis"),A=d(m._Ys,"yaxis"),E=d(m._Zs,"zaxis");o.meshgrid=[M,A,E],o.gridFill=m._gridFill;var g=m._slen;if(g)o.startingPositions=v(d(m._startsX,"xaxis"),d(m._startsY,"yaxis"),d(m._startsZ,"zaxis"));else{for(var S=A[0],b=l(M),i=l(E),P=new Array(b.length*i.length),x=0,k=0;k<b.length;k++)for(var _=0;_<i.length;_++)P[x++]=[b[k],S,i[_]];o.startingPositions=P}o.colormap=C(m),o.tubeSize=m.sizeref,o.maxLength=m.maxdisplayed;var B=d(m._xbnds,"xaxis"),I=d(m._ybnds,"yaxis"),z=d(m._zbnds,"zaxis"),O=a(M),F=a(A),N=a(E),Q=[[B[0]-O[0],I[0]-F[0],z[0]-N[0]],[B[1]+O[1],I[1]+F[1],z[1]+N[1]]],$=p(o,Q),j=w(m);$.vertexIntensityBounds=[j.min/m._normMax,j.max/m._normMax];var ee=m.lightposition;return $.lightPosition=[ee.x,ee.y,ee.z],$.ambient=m.lighting.ambient,$.diffuse=m.lighting.diffuse,$.specular=m.lighting.specular,$.roughness=m.lighting.roughness,$.fresnel=m.lighting.fresnel,$.opacity=m.opacity,m._pad=$.tubeScale*m.sizeref*2,$}r.update=function(u){this.data=u;var m=s(this.scene,u);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,m){var h=u.glplot.gl,T=s(u,m),f=L(h,T),o=new t(u,m.uid);return o.mesh=f,o.data=m,f._trace=o,u.glplot.add(f),o}G.exports=c},22459:function(G,U,e){var p=e(71828),L=e(1586),n=e(21850);G.exports=function(w,v,y,t){function r(h,T){return p.coerce(w,v,n,h,T)}var l=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),m=r("z");if(!l||!l.length||!a||!a.length||!s||!s.length||!c||!c.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(w,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(G,U,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},57564:function(G,U,e){var p=e(9012),L=e(5386).f,n=e(5386).s,C=e(50693),w=e(27670).Y,v=e(34e3),y=e(7055),t=e(1426).extendFlat;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:y.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:w({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(G,U,e){var p=e(74875);U.name="sunburst",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},52147:function(G,U,e){var p=e(674),L=e(92770),n=e(71828),C=e(21081).makeColorScaleFuncFromTrace,w=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,y=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},l={},a={};U.calc=function(c,u){var m=c._fullLayout,h=u.ids,T=n.isArrayOrTypedArray(h),f=u.labels,o=u.parents,d=u.values,M=n.isArrayOrTypedArray(d),A=[],E={},g={},S=function(X,re){E[X]?E[X].push(re):E[X]=[re],g[re]=1},b=function(X){return X||typeof X=="number"},i=function(X){return!M||L(d[X])&&d[X]>=0},P,x,k;T?(P=Math.min(h.length,o.length),x=function(X){return b(h[X])&&i(X)},k=function(X){return String(h[X])}):(P=Math.min(f.length,o.length),x=function(X){return b(f[X])&&i(X)},k=function(X){return String(f[X])}),M&&(P=Math.min(P,d.length));for(var _=0;_<P;_++)if(x(_)){var B=k(_),I=b(o[_])?String(o[_]):"",z={i:_,id:B,pid:I,label:b(f[_])?String(f[_]):""};M&&(z.v=+d[_]),A.push(z),S(I,B)}if(E[""]){if(E[""].length>1){for(var N=n.randstr(),Q=0;Q<A.length;Q++)A[Q].pid===""&&(A[Q].pid=N);A.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var O=[],F;for(F in E)g[F]||O.push(F);if(O.length===1)F=O[0],A.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return n.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",O.join(", ")].join(" "))}var $;try{$=p.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(A)}catch(X){return n.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",X.message].join(" "))}var j=p.hierarchy($),ee=!1;if(M)switch(u.branchvalues){case"remainder":j.sum(function(X){return X.data.v});break;case"total":j.each(function(X){var re=X.data.data,ie=re.v;if(X.children){var K=X.children.reduce(function(q,le){return q+le.data.data.v},0);if((re.hasImpliedRoot||re.hasMultipleRoots)&&(ie=K),ie<K*t)return ee=!0,n.warn(["Total value for node",X.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,ie,`
children sum =`,K].join(" "))}X.value=ie});break}else s(j,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ee){u.sort&&j.sort(function(X,re){return re.value-X.value});var oe,Y,V=u.marker.colors||[],W=!!V.length;return u._hasColorscale?(W||(V=M?u.values:u._values),y(c,u,{vals:V,containerStr:"marker",cLetter:"c"}),Y=C(u.marker)):oe=w(m["_"+u.type+"colormap"]),j.each(function(X){var re=X.data.data;re.color=u._hasColorscale?Y(V[re.i]):oe(V[re.i],re.id)}),A[0].hierarchy=j,A}},U._runCrossTraceCalc=function(c,u){var m=u._fullLayout,h=u.calcdata,T=m[c+"colorway"],f=m["_"+c+"colormap"];m["extend"+c+"colors"]&&(T=v(T,c==="icicle"?a:c==="treemap"?l:r));var o=0,d;function M(S){var b=S.data.data,i=b.id;b.color===!1&&(f[i]?b.color=f[i]:S.parent?S.parent.parent?b.color=S.parent.data.data.color:(f[i]=b.color=T[o%T.length],o++):b.color=d)}for(var A=0;A<h.length;A++){var E=h[A],g=E[0];g.trace.type===c&&g.hierarchy&&(d=g.trace.root.color,g.hierarchy.each(M))}},U.crossTraceCalc=function(c){return U._runCrossTraceCalc("sunburst",c)};function s(c,u,m){var h=0,T=c.children;if(T){for(var f=T.length,o=0;o<f;o++)h+=s(T[o],u,m);m.branches&&h++}else m.leaves&&h++;return c.value=c.data.data.value=h,u._values||(u._values=[]),u._values[c.data.data.i]=h,h}},7055:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(G,U,e){var p=e(71828),L=e(57564),n=e(27670).c,C=e(90769).handleText,w=e(21081),v=w.hasColorscale,y=w.handleDefaults;G.exports=function(r,l,a,s){function c(M,A){return p.coerce(r,l,L,M,A)}var u=c("labels"),m=c("parents");if(!u||!u.length||!m||!m.length){l.visible=!1;return}var h=c("values");h&&h.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var T=c("marker.line.width");T&&c("marker.line.color",s.paper_bgcolor),c("marker.colors");var f=l._hasColorscale=v(r,"marker","colors")||(r.marker||{}).coloraxis;f&&y(r,l,s,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",f?1:.7);var o=c("text");c("texttemplate"),l.texttemplate||c("textinfo",Array.isArray(o)?"text+label":"label"),c("hovertext"),c("hovertemplate");var d="auto";C(r,l,s,c,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),n(l,s,c),l._length=null}},83523:function(G,U,e){var p=e(39898),L=e(73972),n=e(23469).appendArrayPointValue,C=e(30211),w=e(71828),v=e(11086),y=e(2791),t=e(53581),r=t.formatPieValue;G.exports=function(s,c,u,m,h){var T=m[0],f=T.trace,o=T.hierarchy,d=f.type==="sunburst",M=f.type==="treemap"||f.type==="icicle";"_hasHoverLabel"in f||(f._hasHoverLabel=!1),"_hasHoverEvent"in f||(f._hasHoverEvent=!1);var A=function(S){var b=u._fullLayout;if(!(u._dragging||b.hovermode===!1)){var i=u._fullData[f.index],P=S.data.data,x=P.i,k=y.isHierarchyRoot(S),_=y.getParent(o,S),B=y.getValue(S),I=function(q){return w.castOption(i,x,q)},z=I("hovertemplate"),O=C.castHoverinfo(i,b,x),F=b.separators,N;if(z||O&&O!=="none"&&O!=="skip"){var Q,$;d&&(Q=T.cx+S.pxmid[0]*(1-S.rInscribed),$=T.cy+S.pxmid[1]*(1-S.rInscribed)),M&&(Q=S._hoverX,$=S._hoverY);var j={},ee=[],oe=[],Y=function(q){return ee.indexOf(q)!==-1};O&&(ee=O==="all"?i._module.attributes.hoverinfo.flags:O.split("+")),j.label=P.label,Y("label")&&j.label&&oe.push(j.label),P.hasOwnProperty("v")&&(j.value=P.v,j.valueLabel=r(j.value,F),Y("value")&&oe.push(j.valueLabel)),j.currentPath=S.currentPath=y.getPath(S.data),Y("current path")&&!k&&oe.push(j.currentPath);var V,W=[],X=function(){W.indexOf(V)===-1&&(oe.push(V),W.push(V))};j.percentParent=S.percentParent=B/y.getValue(_),j.parent=S.parentString=y.getPtLabel(_),Y("percent parent")&&(V=y.formatPercent(j.percentParent,F)+" of "+j.parent,X()),j.percentEntry=S.percentEntry=B/y.getValue(c),j.entry=S.entry=y.getPtLabel(c),Y("percent entry")&&!k&&!S.onPathbar&&(V=y.formatPercent(j.percentEntry,F)+" of "+j.entry,X()),j.percentRoot=S.percentRoot=B/y.getValue(o),j.root=S.root=y.getPtLabel(o),Y("percent root")&&!k&&(V=y.formatPercent(j.percentRoot,F)+" of "+j.root,X()),j.text=I("hovertext")||I("text"),Y("text")&&(V=j.text,w.isValidTextValue(V)&&oe.push(V)),N=[l(S,i,h.eventDataKeys)];var re={trace:i,y:$,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:oe.join("<br>"),name:z||Y("name")?i.name:void 0,color:I("hoverlabel.bgcolor")||P.color,borderColor:I("hoverlabel.bordercolor"),fontFamily:I("hoverlabel.font.family"),fontSize:I("hoverlabel.font.size"),fontColor:I("hoverlabel.font.color"),nameLength:I("hoverlabel.namelength"),textAlign:I("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:j,eventData:N};d&&(re.x0=Q-S.rInscribed*S.rpx1,re.x1=Q+S.rInscribed*S.rpx1,re.idealAlign=S.pxmid[0]<0?"left":"right"),M&&(re.x=Q,re.idealAlign=Q<0?"left":"right");var ie=[];C.loneHover(re,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:u,inOut_bbox:ie}),N[0].bbox=ie[0],f._hasHoverLabel=!0}if(M){var K=s.select("path.surface");h.styleOne(K,S,i,{hovered:!0})}f._hasHoverEvent=!0,u.emit("plotly_hover",{points:N||[l(S,i,h.eventDataKeys)],event:p.event})}},E=function(S){var b=u._fullLayout,i=u._fullData[f.index],P=p.select(this).datum();if(f._hasHoverEvent&&(S.originalEvent=p.event,u.emit("plotly_unhover",{points:[l(P,i,h.eventDataKeys)],event:p.event}),f._hasHoverEvent=!1),f._hasHoverLabel&&(C.loneUnhover(b._hoverlayer.node()),f._hasHoverLabel=!1),M){var x=s.select("path.surface");h.styleOne(x,P,i,{hovered:!1})}},g=function(S){var b=u._fullLayout,i=u._fullData[f.index],P=d&&(y.isHierarchyRoot(S)||y.isLeaf(S)),x=y.getPtId(S),k=y.isEntry(S)?y.findEntryWithChild(o,x):y.findEntryWithLevel(o,x),_=y.getPtId(k),B={points:[l(S,i,h.eventDataKeys)],event:p.event};P||(B.nextLevel=_);var I=v.triggerHandler(u,"plotly_"+f.type+"click",B);if(I!==!1&&b.hovermode&&(u._hoverdata=[l(S,i,h.eventDataKeys)],C.click(u,p.event)),!P&&I!==!1&&!u._dragging&&!u._transitioning){L.call("_storeDirectGUIEdit",i,b._tracePreGUI[i.uid],{level:i.level});var z={data:[{level:_}],traces:[f.index]},O={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(b._hoverlayer.node()),L.call("animate",u,z,O)}};s.on("mouseover",A),s.on("mouseout",E),s.on("click",g)};function l(a,s,c){for(var u=a.data.data,m={curveNumber:s.index,pointNumber:u.i,data:s._input,fullData:s},h=0;h<c.length;h++){var T=c[h];T in a&&(m[T]=a[T])}return"parentString"in a&&!y.isHierarchyRoot(a)&&(m.parent=a.parentString),n(m,s,u.i),m}},2791:function(G,U,e){var p=e(71828),L=e(7901),n=e(6964),C=e(53581);U.findEntryWithLevel=function(t,r){var l;return r&&t.eachAfter(function(a){if(U.getPtId(a)===r)return l=a.copy()}),l||t},U.findEntryWithChild=function(t,r){var l;return t.eachAfter(function(a){for(var s=a.children||[],c=0;c<s.length;c++){var u=s[c];if(U.getPtId(u)===r)return l=a.copy()}}),l||t},U.isEntry=function(t){return!t.parent},U.isLeaf=function(t){return!t.children},U.getPtId=function(t){return t.data.data.id},U.getPtLabel=function(t){return t.data.data.label},U.getValue=function(t){return t.value},U.isHierarchyRoot=function(t){return y(t)===""},U.setSliceCursor=function(t,r,l){var a=l.isTransitioning;if(!a){var s=t.datum();a=l.hideOnRoot&&U.isHierarchyRoot(s)||l.hideOnLeaves&&U.isLeaf(s)}n(t,a?null:"pointer")};function w(t,r,l){return{color:U.getOutsideTextFontKey("color",t,r,l),family:U.getOutsideTextFontKey("family",t,r,l),size:U.getOutsideTextFontKey("size",t,r,l)}}function v(t,r,l,a){var s=(a||{}).onPathbar,c=r.data.data,u=c.i,m=p.castOption(t,u,(s?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=p.castOption(t._input,u,"textfont.color")),{color:m||L.contrast(c.color),family:U.getInsideTextFontKey("family",t,r,l,a),size:U.getInsideTextFontKey("size",t,r,l,a)}}U.getInsideTextFontKey=function(t,r,l,a,s){var c=(s||{}).onPathbar,u=c?"pathbar.textfont":"insidetextfont",m=l.data.data.i;return p.castOption(r,m,u+"."+t)||p.castOption(r,m,"textfont."+t)||a.size},U.getOutsideTextFontKey=function(t,r,l,a){var s=l.data.data.i;return p.castOption(r,s,"outsidetextfont."+t)||p.castOption(r,s,"textfont."+t)||a.size},U.isOutsideText=function(t,r){return!t._hasColorscale&&U.isHierarchyRoot(r)},U.determineTextFont=function(t,r,l,a){return U.isOutsideText(t,r)?w(t,r,l):v(t,r,l,a)},U.hasTransition=function(t){return!!(t&&t.duration>0)},U.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},U.isHeader=function(t,r){return!(U.isLeaf(t)||t.depth===r._maxDepth-1)};function y(t){return t.data.data.pid}U.getParent=function(t,r){return U.findEntryWithLevel(t,y(r))},U.listPath=function(t,r){var l=t.parent;if(!l)return[];var a=r?[l.data[r]]:[l];return U.listPath(l,r).concat(a)},U.getPath=function(t){return U.listPath(t,"label").join("/")+"/"},U.formatValue=C.formatPieValue,U.formatPercent=function(t,r){var l=p.formatPercent(t,0);return l==="0%"&&(l=C.formatPiePercent(t,r)),l}},87619:function(G,U,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(G,U,e){var p=e(71828),L=e(2654);G.exports=function(C,w){function v(y,t){return p.coerce(C,w,L,y,t)}v("sunburstcolorway",w.colorway),v("extendsunburstcolors")}},24714:function(G,U,e){var p=e(39898),L=e(674),n=e(81684).sX,C=e(91424),w=e(71828),v=e(63893),y=e(72597),t=y.recordMinTextSize,r=y.clearMinTextSize,l=e(14575),a=e(53581).getRotationAngle,s=l.computeTransform,c=l.transformInsideText,u=e(29969).styleOne,m=e(16688).resizeText,h=e(83523),T=e(7055),f=e(2791);U.plot=function(g,S,b,i){var P=g._fullLayout,x=P._sunburstlayer,k,_,B=!b,I=!P.uniformtext.mode&&f.hasTransition(b);if(r("sunburst",P),k=x.selectAll("g.trace.sunburst").data(S,function(O){return O[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),I){i&&(_=i());var z=p.transition().duration(b.duration).ease(b.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});z.each(function(){x.selectAll("g.trace").each(function(O){o(g,O,this,b)})})}else k.each(function(O){o(g,O,this,b)}),P.uniformtext.mode&&m(g,P._sunburstlayer.selectAll(".trace"),"sunburst");B&&k.exit().remove()};function o(g,S,b,i){var P=g._context.staticPlot,x=g._fullLayout,k=!x.uniformtext.mode&&f.hasTransition(i),_=p.select(b),B=_.selectAll("g.slice"),I=S[0],z=I.trace,O=I.hierarchy,F=f.findEntryWithLevel(O,z.level),N=f.getMaxDepth(z),Q=x._size,$=z.domain,j=Q.w*($.x[1]-$.x[0]),ee=Q.h*($.y[1]-$.y[0]),oe=.5*Math.min(j,ee),Y=I.cx=Q.l+Q.w*($.x[1]+$.x[0])/2,V=I.cy=Q.t+Q.h*(1-$.y[0])-ee/2;if(!F)return B.remove();var W=null,X={};k&&B.each(function(He){X[f.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!W&&f.isEntry(He)&&(W=He)});var re=d(F).descendants(),ie=F.height+1,K=0,q=N;I.hasMultipleRoots&&f.isHierarchyRoot(F)&&(re=re.slice(1),ie-=1,K=1,q+=1),re=re.filter(function(He){return He.y1<=q});var le=a(z.rotation);le&&re.forEach(function(He){He.x0+=le,He.x1+=le});var ae=Math.min(ie,N),he=function(He){return(He-K)/ae*oe},me=function(He,ut){return[He*Math.cos(ut),-He*Math.sin(ut)]},Me=function(He){return w.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,Y,V)},xe=function(He){return Y+A(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},Ie=function(He){return V+A(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};B=B.data(re,f.getPtId),B.enter().append("g").classed("slice",!0),k?B.exit().transition().each(function(){var He=p.select(this),ut=He.select("path.surface");ut.transition().attrTween("d",function(Qe){var qe=Ae(Qe);return function(ft){return Me(qe(ft))}});var et=He.select("g.slicetext");et.attr("opacity",0)}).remove():B.exit().remove(),B.order();var _e=null;if(k&&W){var Te=f.getPtId(W);B.each(function(He){_e===null&&f.getPtId(He)===Te&&(_e=He.x1)})}var ye=B;k&&(ye=ye.transition().each("end",function(){var He=p.select(this);f.setSliceCursor(He,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ye.each(function(He){var ut=p.select(this),et=w.ensureSingle(ut,"path","surface",function(Ct){Ct.style("pointer-events",P?"none":"all")});He.rpx0=he(He.y0),He.rpx1=he(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=me(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(w.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=M(He),k?et.transition().attrTween("d",function(Ct){var Je=Be(Ct);return function(ze){return Me(Je(ze))}}):et.attr("d",Me),ut.call(h,F,g,S,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(f.setSliceCursor,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:g._transitioning}),et.call(u,He,z);var Qe=w.ensureSingle(ut,"g","slicetext"),qe=w.ensureSingle(Qe,"text","",function(Ct){Ct.attr("data-notex",1)}),ft=w.ensureUniformFontSize(g,f.determineTextFont(z,He,x.font));qe.text(U.formatSliceLabel(He,F,z,S,x)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ft).call(v.convertToTspans,g);var gt=C.bBox(qe.node());He.transform=c(gt,He,I),He.transform.targetX=xe(He),He.transform.targetY=Ie(He);var xt=function(Ct,Je){var ze=Ct.transform;return s(ze,Je),ze.fontSize=ft.size,t(z.type,ze,x),w.getTextTransform(ze)};k?qe.transition().attrTween("transform",function(Ct){var Je=Ue(Ct);return function(ze){return xt(Je(ze),gt)}}):qe.attr("transform",xt(He,gt))});function Ae(He){var ut=f.getPtId(He),et=X[ut],Qe=X[f.getPtId(F)],qe;if(Qe){var ft=(He.x1>Qe.x1?2*Math.PI:0)+le;qe=He.rpx1<Qe.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:He.rpx0,rpx1:He.rpx1}}else{var gt,xt=f.getPtId(He.parent);B.each(function($e){if(f.getPtId($e)===xt)return gt=$e});var Ct=gt.children,Je;Ct.forEach(function($e,at){if(f.getPtId($e)===ut)return Je=at});var ze=Ct.length,Fe=n(gt.x0,gt.x1);qe={rpx0:oe,rpx1:oe,x0:Fe(Je/ze),x1:Fe((Je+1)/ze)}}return n(et,qe)}function Be(He){var ut=X[f.getPtId(He)],et,Qe={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(ut)et=ut;else if(W)if(He.parent)if(_e){var qe=(He.x1>_e?2*Math.PI:0)+le;et={x0:qe,x1:qe}}else et={rpx0:oe,rpx1:oe},w.extendFlat(et,De(He));else et={rpx0:0,rpx1:0};else et={x0:le,x1:le};return n(et,Qe)}function Ue(He){var ut=X[f.getPtId(He)],et,Qe=He.transform;if(ut)et=ut;else if(et={rpx1:He.rpx1,transform:{textPosAngle:Qe.textPosAngle,scale:0,rotate:Qe.rotate,rCenter:Qe.rCenter,x:Qe.x,y:Qe.y}},W)if(He.parent)if(_e){var qe=He.x1>_e?2*Math.PI:0;et.x0=et.x1=qe}else w.extendFlat(et,De(He));else et.x0=et.x1=le;else et.x0=et.x1=le;var ft=n(et.transform.textPosAngle,He.transform.textPosAngle),gt=n(et.rpx1,He.rpx1),xt=n(et.x0,He.x0),Ct=n(et.x1,He.x1),Je=n(et.transform.scale,Qe.scale),ze=n(et.transform.rotate,Qe.rotate),Fe=Qe.rCenter===0?3:et.transform.rCenter===0?1/3:1,$e=n(et.transform.rCenter,Qe.rCenter),at=function(Xe){return $e(Math.pow(Xe,Fe))};return function(Xe){var Pe=gt(Xe),we=xt(Xe),ue=Ct(Xe),ge=at(Xe),Le=me(Pe,(we+ue)/2),ke=ft(Xe),it={pxmid:Le,rpx1:Pe,transform:{textPosAngle:ke,rCenter:ge,x:Qe.x,y:Qe.y}};return t(z.type,Qe,x),{transform:{targetX:xe(it),targetY:Ie(it),scale:Je(Xe),rotate:ze(Xe),rCenter:ge}}}}function De(He){var ut=He.parent,et=X[f.getPtId(ut)],Qe={};if(et){var qe=ut.children,ft=qe.indexOf(He),gt=qe.length,xt=n(et.x0,et.x1);Qe.x0=xt(ft/gt),Qe.x1=xt(ft/gt)}else Qe.x0=Qe.x1=0;return Qe}}function d(g){return L.partition().size([2*Math.PI,g.height+1])(g)}U.formatSliceLabel=function(g,S,b,i,P){var x=b.texttemplate,k=b.textinfo;if(!x&&(!k||k==="none"))return"";var _=P.separators,B=i[0],I=g.data.data,z=B.hierarchy,O=f.isHierarchyRoot(g),F=f.getParent(z,g),N=f.getValue(g);if(!x){var Q=k.split("+"),$=function(K){return Q.indexOf(K)!==-1},j=[],ee;if($("label")&&I.label&&j.push(I.label),I.hasOwnProperty("v")&&$("value")&&j.push(f.formatValue(I.v,_)),!O){$("current path")&&j.push(f.getPath(g.data));var oe=0;$("percent parent")&&oe++,$("percent entry")&&oe++,$("percent root")&&oe++;var Y=oe>1;if(oe){var V,W=function(K){ee=f.formatPercent(V,_),Y&&(ee+=" of "+K),j.push(ee)};$("percent parent")&&!O&&(V=N/f.getValue(F),W("parent")),$("percent entry")&&(V=N/f.getValue(S),W("entry")),$("percent root")&&(V=N/f.getValue(z),W("root"))}}return $("text")&&(ee=w.castOption(b,I.i,"text"),w.isValidTextValue(ee)&&j.push(ee)),j.join("<br>")}var X=w.castOption(b,I.i,"texttemplate");if(!X)return"";var re={};I.label&&(re.label=I.label),I.hasOwnProperty("v")&&(re.value=I.v,re.valueLabel=f.formatValue(I.v,_)),re.currentPath=f.getPath(g.data),O||(re.percentParent=N/f.getValue(F),re.percentParentLabel=f.formatPercent(re.percentParent,_),re.parent=f.getPtLabel(F)),re.percentEntry=N/f.getValue(S),re.percentEntryLabel=f.formatPercent(re.percentEntry,_),re.entry=f.getPtLabel(S),re.percentRoot=N/f.getValue(z),re.percentRootLabel=f.formatPercent(re.percentRoot,_),re.root=f.getPtLabel(z),I.hasOwnProperty("color")&&(re.color=I.color);var ie=w.castOption(b,I.i,"text");return(w.isValidTextValue(ie)||ie==="")&&(re.text=ie),re.customdata=w.castOption(b,I.i,"customdata"),w.texttemplateString(X,re,P._d3locale,re,b._meta||{})};function M(g){return g.rpx0===0&&w.isFullCircle([g.x0,g.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(g.halfangle)),g.ring/2))}function A(g){return E(g.rpx1,g.transform.textPosAngle)}function E(g,S){return[g*Math.sin(S),-g*Math.cos(S)]}},29969:function(G,U,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText;function w(y){var t=y._fullLayout._sunburstlayer.selectAll(".trace");C(y,t,"sunburst"),t.each(function(r){var l=p.select(this),a=r[0],s=a.trace;l.style("opacity",s.opacity),l.selectAll("path.surface").each(function(c){p.select(this).call(v,c,s)})})}function v(y,t,r){var l=t.data.data,a=!t.children,s=l.i,c=n.castOption(r,s,"marker.line.color")||L.defaultLine,u=n.castOption(r,s,"marker.line.width")||0;y.style("stroke-width",u).call(L.fill,l.color).call(L.stroke,c).style("opacity",a?r.leaf.opacity:null)}G.exports={style:w,styleOne:v}},54532:function(G,U,e){var p=e(7901),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).f,w=e(9012),v=e(1426).extendFlat,y=e(30962).overrideAll;function t(a){return{valType:"boolean",dflt:!1}}function r(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=G.exports=y(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},w.hoverinfo),showlegend:v({},w.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},18396:function(G,U,e){var p=e(78803);G.exports=function(n,C){C.surfacecolor?p(n,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(n,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(G,U,e){var p=e(9330).gl_surface3d,L=e(9330).ndarray,n=e(9330).ndarray_linear_interpolate.d2,C=e(824),w=e(43907),v=e(71828).isArrayOrTypedArray,y=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function l(i,P,x){this.scene=i,this.uid=x,this.surface=P,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=l.prototype;a.getXat=function(i,P,x,k){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[P][i]:this.data.x[i]:i;return x===void 0?_:k.d2l(_,0,x)},a.getYat=function(i,P,x,k){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[P][i]:this.data.y[P]:P;return x===void 0?_:k.d2l(_,0,x)},a.getZat=function(i,P,x,k){var _=this.data.z[P][i];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[P][i]),x===void 0?_:k.d2l(_,0,x)},a.handlePick=function(i){if(i.object===this.surface){var P=(i.data.index[0]-1)/this.dataScaleX-1,x=(i.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(P),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(x),this.data._ylength-1),0);i.index=[k,_],i.traceCoordinate=[this.getXat(k,_),this.getYat(k,_),this.getZat(k,_)],i.dataCoordinate=[this.getXat(k,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var I=i.dataCoordinate[B];I!=null&&(i.dataCoordinate[B]*=this.scene.dataScale[B])}var z=this.data.hovertext||this.data.text;return Array.isArray(z)&&z[_]&&z[_][k]!==void 0?i.textLabel=z[_][k]:z?i.textLabel=z:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function s(i){var P=i[0].rgb,x=i[i.length-1].rgb;return P[0]===x[0]&&P[1]===x[1]&&P[2]===x[2]&&P[3]===x[3]}var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(i,P){if(i<P)return 0;for(var x=0;Math.floor(i%P)===0;)i/=P,x++;return x}function m(i){for(var P=[],x=0;x<c.length;x++){var k=c[x];P.push(u(i,k))}return P}function h(i){for(var P=m(i),x=i,k=0;k<c.length;k++)if(P[k]>0){x=c[k];break}return x}function T(i,P){if(!(i<1||P<1)){for(var x=m(i),k=m(P),_=1,B=0;B<c.length;B++)_*=Math.pow(c[B],Math.max(x[B],k[B]));return _}}function f(i){if(i.length!==0){for(var P=1,x=0;x<i.length;x++)P=T(P,i[x]);return P}}a.calcXnums=function(i){var P,x=[];for(P=1;P<i;P++){var k=this.getXat(P-1,0),_=this.getXat(P,0);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?x[P-1]=Math.abs(_-k):x[P-1]=0}var B=0;for(P=1;P<i;P++)B+=x[P-1];for(P=1;P<i;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(B/x[P-1]);return x},a.calcYnums=function(i){var P,x=[];for(P=1;P<i;P++){var k=this.getYat(0,P-1),_=this.getYat(0,P);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?x[P-1]=Math.abs(_-k):x[P-1]=0}var B=0;for(P=1;P<i;P++)B+=x[P-1];for(P=1;P<i;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(B/x[P-1]);return x};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],M=o[13];a.estimateScale=function(i,P){for(var x=P===0?this.calcXnums(i):this.calcYnums(i),k=1+f(x);k<d;)k*=2;for(;k>M;)k--,k/=h(k),k++,k<d&&(k=M);var _=Math.round(k/i);return _>1?_:1};function A(i,P,x){var k=x[8]+x[2]*P[0]+x[5]*P[1];return i[0]=(x[6]+x[0]*P[0]+x[3]*P[1])/k,i[1]=(x[7]+x[1]*P[0]+x[4]*P[1])/k,i}function E(i,P,x){return g(i,P,A,x),i}function g(i,P,x,k){for(var _=[0,0],B=i.shape[0],I=i.shape[1],z=0;z<B;z++)for(var O=0;O<I;O++)x(_,[z,O],k),i.set(z,O,n(P,_[0],_[1]));return i}a.refineCoords=function(i){for(var P=this.dataScaleX,x=this.dataScaleY,k=i[0].shape[0],_=i[0].shape[1],B=Math.floor(i[0].shape[0]*P+1)|0,I=Math.floor(i[0].shape[1]*x+1)|0,z=1+k+1,O=1+_+1,F=L(new Float32Array(z*O),[z,O]),N=[1/P,0,0,0,1/x,0,0,0,1],Q=0;Q<i.length;++Q){this.surface.padField(F,i[Q]);var $=L(new Float32Array(B*I),[B,I]);E($,F,N),i[Q]=$}};function S(i,P){for(var x=!1,k=0;k<i.length;k++)if(P===i[k]){x=!0;break}x===!1&&i.push(P)}a.setContourLevels=function(){var i=[[],[],[]],P=[!1,!1,!1],x=!1,k,_,B;for(k=0;k<3;++k)if(this.showContour[k]&&(x=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(P[k]=!0,_=this.contourStart[k];_<this.contourEnd[k];_+=this.contourSize[k])B=_*this.scene.dataScale[k],S(i[k],B);if(x){var I=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(I[k]=P[k]?i[k]:this.scene.contourLevels[k]);this.surface.update({levels:I})}},a.update=function(i){var P=this.scene,x=P.fullSceneLayout,k=this.surface,_=y(i),B=P.dataScale,I=i.z[0].length,z=i._ylength,O=P.contourLevels;this.data=i;var F,N,Q,$,j=[];for(F=0;F<3;F++)for(j[F]=[],N=0;N<I;N++)j[F][N]=[];for(N=0;N<I;N++)for(Q=0;Q<z;Q++)j[0][N][Q]=this.getXat(N,Q,i.xcalendar,x.xaxis),j[1][N][Q]=this.getYat(N,Q,i.ycalendar,x.yaxis),j[2][N][Q]=this.getZat(N,Q,i.zcalendar,x.zaxis);if(i.connectgaps)for(i._emptypoints=w(j[2]),C(j[2],i._emptypoints),i._interpolatedZ=[],N=0;N<I;N++)for(i._interpolatedZ[N]=[],Q=0;Q<z;Q++)i._interpolatedZ[N][Q]=j[2][N][Q];for(F=0;F<3;F++)for(N=0;N<I;N++)for(Q=0;Q<z;Q++)$=j[F][N][Q],$==null?j[F][N][Q]=NaN:$=j[F][N][Q]*=B[F];for(F=0;F<3;F++)for(N=0;N<I;N++)for(Q=0;Q<z;Q++)$=j[F][N][Q],$!=null&&(this.minValues[F]>$&&(this.minValues[F]=$),this.maxValues[F]<$&&(this.maxValues[F]=$));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(N=0;N<I;N++)for(Q=0;Q<z;Q++)$=j[F][N][Q],$!=null&&(j[F][N][Q]-=this.objectOffset[F]);var ee=[L(new Float32Array(I*z),[I,z]),L(new Float32Array(I*z),[I,z]),L(new Float32Array(I*z),[I,z])];for(F=0;F<3;F++)for(N=0;N<I;N++)for(Q=0;Q<z;Q++)ee[F].set(N,Q,j[F][N][Q]);j=[];var oe={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},Y=r(i);if(oe.intensityBounds=[Y.min,Y.max],i.surfacecolor){var V=L(new Float32Array(I*z),[I,z]);for(N=0;N<I;N++)for(Q=0;Q<z;Q++)V.set(N,Q,i.surfacecolor[Q][N]);ee.push(V)}else oe.intensityBounds[0]*=B[2],oe.intensityBounds[1]*=B[2];(M<ee[0].shape[0]||M<ee[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ee[0].shape[0],0),this.dataScaleY=this.estimateScale(ee[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ee)),i.surfacecolor&&(oe.intensity=ee.pop());var W=[!0,!0,!0],X=["x","y","z"];for(F=0;F<3;++F){var re=i.contours[X[F]];W[F]=re.highlight,oe.showContour[F]=re.show||re.highlight,oe.showContour[F]&&(oe.contourProject[F]=[re.project.x,re.project.y,re.project.z],re.show?(this.showContour[F]=!0,oe.levels[F]=O[F],k.highlightColor[F]=oe.contourColor[F]=t(re.color),re.usecolormap?k.highlightTint[F]=oe.contourTint[F]=0:k.highlightTint[F]=oe.contourTint[F]=1,oe.contourWidth[F]=re.width,this.contourStart[F]=re.start,this.contourEnd[F]=re.end,this.contourSize[F]=re.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),re.highlight&&(oe.dynamicColor[F]=t(re.highlightcolor),oe.dynamicWidth[F]=re.highlightwidth))}s(_)&&(oe.vertexColor=!0),oe.objectOffset=this.objectOffset,oe.coords=ee,k.update(oe),k.visible=i.visible,k.enableDynamic=W,k.enableHighlight=W,k.snapToData=!0,"lighting"in i&&(k.ambientLight=i.lighting.ambient,k.diffuseLight=i.lighting.diffuse,k.specularLight=i.lighting.specular,k.roughness=i.lighting.roughness,k.fresnel=i.lighting.fresnel),"lightposition"in i&&(k.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(i,P){var x=i.glplot.gl,k=p({gl:x}),_=new l(i,k,P.uid);return k._trace=_,_.update(P),i.glplot.add(k),_}G.exports=b},91831:function(G,U,e){var p=e(73972),L=e(71828),n=e(1586),C=e(54532),w=.1;function v(a,s){for(var c=[],u=32,m=0;m<u;m++){var h=m/(u-1),T=s+(1-s)*(1-Math.pow(Math.sin(a*h*Math.PI),2));c.push([h,Math.max(0,Math.min(1,T))])}return c}function y(a){var s=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var c=0;c<a.length;c++){var u=a[c];if(u.length!==2||+u[0]<s)return!1;s=+u[0]}return!0}function t(a,s,c,u){var m,h;function T(i,P){return L.coerce(a,s,C,i,P)}var f=T("x"),o=T("y"),d=T("z");if(!d||!d.length||f&&f.length<1||o&&o.length<1){s.visible=!1;return}s._xlength=Array.isArray(f)&&L.isArrayOrTypedArray(f[0])?d.length:d[0].length,s._ylength=d.length;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(a,s,["x","y","z"],u),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){T(i)});var A=T("surfacecolor"),E=["x","y","z"];for(m=0;m<3;++m){var g="contours."+E[m],S=T(g+".show"),b=T(g+".highlight");if(S||b)for(h=0;h<3;++h)T(g+".project."+E[h]);S&&(T(g+".color"),T(g+".width"),T(g+".usecolormap")),b&&(T(g+".highlightcolor"),T(g+".highlightwidth")),T(g+".start"),T(g+".end"),T(g+".size")}A||(l(a,"zmin","cmin"),l(a,"zmax","cmax"),l(a,"zauto","cauto")),n(a,s,u,T,{prefix:"",cLetter:"c"}),r(a,s,u,T),s._length=null}function r(a,s,c,u){var m=u("opacityscale");m==="max"?s.opacityscale=[[0,w],[1,1]]:m==="min"?s.opacityscale=[[0,1],[1,w]]:m==="extremes"?s.opacityscale=v(1,w):y(m)||(s.opacityscale=void 0)}function l(a,s,c){s in a&&!(c in a)&&(a[c]=a[s])}G.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(G,U,e){G.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(G,U,e){var p=e(50215),L=e(1426).extendFlat,n=e(30962).overrideAll,C=e(41940),w=e(27670).Y,v=e(12663).descriptionOnlyNumbers,y=G.exports=n({domain:w({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");y.transforms=void 0},99469:function(G,U,e){var p=e(27659).a0,L=e(36736),n="table";U.name=n,U.plot=function(C){var w=p(C.calcdata,n)[0];w.length&&L(C,w)},U.clean=function(C,w,v,y){var t=y._has&&y._has(n),r=w._has&&w._has(n);t&&!r&&y._paperdiv.selectAll(".table").remove()}},76333:function(G,U,e){var p=e(28984).wrap;G.exports=function(){return p({})}},49850:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(G,U,e){var p=e(49850),L=e(1426).extendFlat,n=e(92770);G.exports=function(c,u){var m=v(u.cells.values),h=function(N){return N.slice(u.header.values.length,N.length)},T=v(u.header.values);T.length&&!T[0].length&&(T[0]=[""],T=v(T));var f=T.concat(h(m).map(function(){return y((T[0]||[""]).length)})),o=u.domain,d=Math.floor(c._fullLayout._size.w*(o.x[1]-o.x[0])),M=Math.floor(c._fullLayout._size.h*(o.y[1]-o.y[0])),A=u.header.values.length?f[0].map(function(){return u.header.height}):[p.emptyHeaderHeight],E=m.length?m[0].map(function(){return u.cells.height}):[],g=A.reduce(w,0),S=M-g,b=S+p.uplift,i=l(E,b),P=l(A,g),x=r(P,[]),k=r(i,x),_={},B=u._fullInput.columnorder.concat(h(m.map(function(N,Q){return Q}))),I=f.map(function(N,Q){var $=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(Q,u.columnwidth.length-1)]:u.columnwidth;return n($)?Number($):1}),z=I.reduce(w,0);I=I.map(function(N){return N/z*d});var O=Math.max(C(u.header.line.width),C(u.cells.line.width)),F={key:u.uid+c._context.staticPlot,translateX:o.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-o.y[1]),size:c._fullLayout._size,width:d,maxLineWidth:O,height:M,columnOrder:B,groupHeight:M,rowBlocks:k,headerRowBlocks:x,scrollY:0,cells:L({},u.cells,{values:m}),headerCells:L({},u.header,{values:f}),gdColumns:f.map(function(N){return N[0]}),gdColumnsOriginalOrder:f.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:f.map(function(N,Q){var $=_[N];_[N]=($||0)+1;var j=N+"__"+_[N];return{key:j,label:N,specIndex:Q,xIndex:B[Q],xScale:t,x:void 0,calcdata:void 0,columnWidth:I[Q]}})};return F.columns.forEach(function(N){N.calcdata=F,N.x=t(N)}),F};function C(s){if(Array.isArray(s)){for(var c=0,u=0;u<s.length;u++)c=Math.max(c,C(s[u]));return c}return s}function w(s,c){return s+c}function v(s){var c=s.slice(),u=1/0,m=0,h;for(h=0;h<c.length;h++)Array.isArray(c[h])||(c[h]=[c[h]]),u=Math.min(u,c[h].length),m=Math.max(m,c[h].length);if(u!==m)for(h=0;h<c.length;h++){var T=m-c[h].length;T&&(c[h]=c[h].concat(y(T)))}return c}function y(s){for(var c=new Array(s),u=0;u<s;u++)c[u]="";return c}function t(s){return s.calcdata.columns.reduce(function(c,u){return u.xIndex<s.xIndex?c+u.columnWidth:c},0)}function r(s,c){var u=Object.keys(s);return u.map(function(m){return L({},s[m],{auxiliaryBlocks:c})})}function l(s,c){for(var u={},m,h=0,T=0,f=a(),o=0,d=0,M=0;M<s.length;M++)m=s[M],f.rows.push({rowIndex:M,rowHeight:m}),T+=m,(T>=c||M===s.length-1)&&(u[h]=f,f.key=d++,f.firstRowIndex=o,f.lastRowIndex=M,f=a(),h+=T,o=M+1,T=0);return u}function a(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(G,U,e){var p=e(1426).extendFlat;U.splitToPanels=function(n){var C=[0,0],w=p({},n,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:p({},n.calcdata,{cells:n.calcdata.headerCells})}),v=p({},n,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),y=p({},n,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[v,y,w]},U.splitToCells=function(n){var C=L(n);return(n.values||[]).slice(C[0],C[1]).map(function(w,v){var y=typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+y,key:C[0]+v,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:w}})};function L(n){var C=n.rowBlocks[n.page],w=C?C.rows[0].rowIndex:0,v=C?w+C.rows.length:0;return[w,v]}},39754:function(G,U,e){var p=e(71828),L=e(44464),n=e(27670).c;function C(w,v){for(var y=w.columnorder||[],t=w.header.values.length,r=y.slice(0,t),l=r.slice().sort(function(c,u){return c-u}),a=r.map(function(c){return l.indexOf(c)}),s=a.length;s<t;s++)a.push(s);v("columnorder",a)}G.exports=function(v,y,t,r){function l(a,s){return p.coerce(v,y,L,a,s)}n(y,r,l),l("columnwidth"),l("header.values"),l("header.format"),l("header.align"),l("header.prefix"),l("header.suffix"),l("header.height"),l("header.line.width"),l("header.line.color"),l("header.fill.color"),p.coerceFont(l,"header.font",p.extendFlat({},r.font)),C(y,l),l("cells.values"),l("cells.format"),l("cells.align"),l("cells.prefix"),l("cells.suffix"),l("cells.height"),l("cells.line.width"),l("cells.line.color"),l("cells.fill.color"),p.coerceFont(l,"cells.font",p.extendFlat({},r.font)),y._length=null}},96595:function(G,U,e){G.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(G,U,e){var p=e(49850),L=e(39898),n=e(71828),C=n.numberFormat,w=e(28984),v=e(91424),y=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,l=e(71828).cancelTransition,a=e(51018),s=e(56269),c=e(7901);G.exports=function(le,ae){var he=!le._context.staticPlot,me=le._fullLayout._paper.selectAll("."+p.cn.table).data(ae.map(function(Qe){var qe=w.unwrap(Qe),ft=qe.trace;return a(le,ft)}),w.keyFun);me.exit().remove(),me.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(Qe){return Qe.width+Qe.size.l+Qe.size.r}).attr("height",function(Qe){return Qe.height+Qe.size.t+Qe.size.b}).attr("transform",function(Qe){return r(Qe.translateX,Qe.translateY)});var Me=me.selectAll("."+p.cn.tableControlView).data(w.repeat,w.keyFun),xe=Me.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Ie="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(Qe){Me.filter(function(qe){return Qe===qe}).call(f,le)}).on(Ie,function(Qe){if(!Qe.scrollbarState.wheeling){Qe.scrollbarState.wheeling=!0;var qe=Qe.scrollY+L.event.deltaY,ft=$(le,Me,null,qe)(Qe);ft||(L.event.stopPropagation(),L.event.preventDefault()),Qe.scrollbarState.wheeling=!1}}).call(f,le,!0)}Me.attr("transform",function(Qe){return r(Qe.size.l,Qe.size.t)});var _e=Me.selectAll("."+p.cn.scrollBackground).data(w.repeat,w.keyFun);_e.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),_e.attr("width",function(Qe){return Qe.width}).attr("height",function(Qe){return Qe.height}),Me.each(function(Qe){v.setClipUrl(L.select(this),m(le,Qe),le)});var Te=Me.selectAll("."+p.cn.yColumn).data(function(Qe){return Qe.columns},w.keyFun);Te.enter().append("g").classed(p.cn.yColumn,!0),Te.exit().remove(),Te.attr("transform",function(Qe){return r(Qe.x,0)}),he&&Te.call(L.behavior.drag().origin(function(Qe){var qe=L.select(this);return I(qe,Qe,-p.uplift),t(this),Qe.calcdata.columnDragInProgress=!0,f(Me.filter(function(ft){return Qe.calcdata.key===ft.key}),le),Qe}).on("drag",function(Qe){var qe=L.select(this),ft=function(Ct){return(Qe===Ct?L.event.x:Ct.x)+Ct.columnWidth/2};Qe.x=Math.max(-p.overdrag,Math.min(Qe.calcdata.width+p.overdrag-Qe.columnWidth,L.event.x));var gt=T(Te).filter(function(Ct){return Ct.calcdata.key===Qe.calcdata.key}),xt=gt.sort(function(Ct,Je){return ft(Ct)-ft(Je)});xt.forEach(function(Ct,Je){Ct.xIndex=Je,Ct.x=Qe===Ct?Ct.x:Ct.xScale(Ct)}),Te.filter(function(Ct){return Qe!==Ct}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(Ct){return r(Ct.x,0)}),qe.call(l).attr("transform",r(Qe.x,-p.uplift))}).on("dragend",function(Qe){var qe=L.select(this),ft=Qe.calcdata;Qe.x=Qe.xScale(Qe),Qe.calcdata.columnDragInProgress=!1,I(qe,Qe,0),_(le,ft,ft.columns.map(function(gt){return gt.xIndex}))})),Te.each(function(Qe){v.setClipUrl(L.select(this),h(le,Qe),le)});var ye=Te.selectAll("."+p.cn.columnBlock).data(s.splitToPanels,w.keyFun);ye.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(Qe){return Qe.key}),ye.style("cursor",function(Qe){return Qe.dragHandle?"ew-resize":Qe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ae=ye.filter(O),Be=ye.filter(z);he&&Be.call(L.behavior.drag().origin(function(Qe){return L.event.stopPropagation(),Qe}).on("drag",$(le,Me,-1)).on("dragend",function(){})),o(le,Me,Ae,ye),o(le,Me,Be,ye);var Ue=Me.selectAll("."+p.cn.scrollAreaClip).data(w.repeat,w.keyFun);Ue.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(Qe){return m(le,Qe)});var De=Ue.selectAll("."+p.cn.scrollAreaClipRect).data(w.repeat,w.keyFun);De.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),De.attr("width",function(Qe){return Qe.width+2*p.overdrag}).attr("height",function(Qe){return Qe.height+p.uplift});var He=Te.selectAll("."+p.cn.columnBoundary).data(w.repeat,w.keyFun);He.enter().append("g").classed(p.cn.columnBoundary,!0);var ut=Te.selectAll("."+p.cn.columnBoundaryClippath).data(w.repeat,w.keyFun);ut.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),ut.attr("id",function(Qe){return h(le,Qe)});var et=ut.selectAll("."+p.cn.columnBoundaryRect).data(w.repeat,w.keyFun);et.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),et.attr("width",function(Qe){return Qe.columnWidth+2*u(Qe)}).attr("height",function(Qe){return Qe.calcdata.height+2*u(Qe)+p.uplift}).attr("x",function(Qe){return-u(Qe)}).attr("y",function(Qe){return-u(Qe)}),Q(null,Be,Me)};function u(q){return Math.ceil(q.calcdata.maxLineWidth/2)}function m(q,le){return"clip"+q._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function h(q,le){return"clip"+q._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function T(q){return[].concat.apply([],q.map(function(le){return le})).map(function(le){return le.__data__})}function f(q,le,ae){function he(Te){var ye=Te.rowBlocks;return W(ye,ye.length-1)+(ye.length?X(ye[ye.length-1],1/0):1)}var me=q.selectAll("."+p.cn.scrollbarKit).data(w.repeat,w.keyFun);me.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Te){var ye=Te.scrollbarState;ye.totalHeight=he(Te),ye.scrollableAreaHeight=Te.groupHeight-F(Te),ye.currentlyVisibleHeight=Math.min(ye.totalHeight,ye.scrollableAreaHeight),ye.ratio=ye.currentlyVisibleHeight/ye.totalHeight,ye.barLength=Math.max(ye.ratio*ye.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),ye.barWiggleRoom=ye.currentlyVisibleHeight-ye.barLength,ye.wiggleRoom=Math.max(0,ye.totalHeight-ye.scrollableAreaHeight),ye.topY=ye.barWiggleRoom===0?0:Te.scrollY/ye.wiggleRoom*ye.barWiggleRoom,ye.bottomY=ye.topY+ye.barLength,ye.dragMultiplier=ye.wiggleRoom/ye.barWiggleRoom}).attr("transform",function(Te){var ye=Te.width+p.scrollbarWidth/2+p.scrollbarOffset;return r(ye,F(Te))});var Me=me.selectAll("."+p.cn.scrollbar).data(w.repeat,w.keyFun);Me.enter().append("g").classed(p.cn.scrollbar,!0);var xe=Me.selectAll("."+p.cn.scrollbarSlider).data(w.repeat,w.keyFun);xe.enter().append("g").classed(p.cn.scrollbarSlider,!0),xe.attr("transform",function(Te){return r(0,Te.scrollbarState.topY||0)});var Ie=xe.selectAll("."+p.cn.scrollbarGlyph).data(w.repeat,w.keyFun);Ie.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Ie.attr("y2",function(Te){return Te.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Te){return Te.columnDragInProgress||!Te.scrollbarState.barWiggleRoom||ae?0:.4}),Ie.transition().delay(0).duration(0),Ie.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var _e=Me.selectAll("."+p.cn.scrollbarCaptureZone).data(w.repeat,w.keyFun);_e.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Te){var ye=L.event.y,Ae=this.getBoundingClientRect(),Be=Te.scrollbarState,Ue=ye-Ae.top,De=L.scale.linear().domain([0,Be.scrollableAreaHeight]).range([0,Be.totalHeight]).clamp(!0);Be.topY<=Ue&&Ue<=Be.bottomY||$(le,q,null,De(Ue-Be.barLength/2))(Te)}).call(L.behavior.drag().origin(function(Te){return L.event.stopPropagation(),Te.scrollbarState.scrollbarScrollInProgress=!0,Te}).on("drag",$(le,q)).on("dragend",function(){})),_e.attr("y2",function(Te){return Te.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Ie.remove(),_e.remove())}function o(q,le,ae,he){var me=d(ae),Me=M(me);S(Me);var xe=A(Me);i(xe);var Ie=g(Me),_e=E(Ie);b(_e),P(_e,le,he,q),V(Me)}function d(q){var le=q.selectAll("."+p.cn.columnCells).data(w.repeat,w.keyFun);return le.enter().append("g").classed(p.cn.columnCells,!0),le.exit().remove(),le}function M(q){var le=q.selectAll("."+p.cn.columnCell).data(s.splitToCells,function(ae){return ae.keyWithinBlock});return le.enter().append("g").classed(p.cn.columnCell,!0),le.exit().remove(),le}function A(q){var le=q.selectAll("."+p.cn.cellRect).data(w.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("rect").classed(p.cn.cellRect,!0),le}function E(q){var le=q.selectAll("."+p.cn.cellText).data(w.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),le}function g(q){var le=q.selectAll("."+p.cn.cellTextHolder).data(w.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function S(q){q.each(function(le,ae){var he=le.calcdata.cells.font,me=le.column.specIndex,Me={size:B(he.size,me,ae),color:B(he.color,me,ae),family:B(he.family,me,ae)};le.rowNumber=le.key,le.align=B(le.calcdata.cells.align,me,ae),le.cellBorderWidth=B(le.calcdata.cells.line.width,me,ae),le.font=Me})}function b(q){q.each(function(le){v.font(L.select(this),le.font)})}function i(q){q.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ae=L.select(this);c.stroke(ae,B(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),c.fill(ae,B(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function P(q,le,ae,he){q.text(function(me){var Me=me.column.specIndex,xe=me.rowNumber,Ie=me.value,_e=typeof Ie=="string",Te=_e&&Ie.match(/<br>/i),ye=!_e||Te;me.mayHaveMarkup=_e&&Ie.match(/[<&>]/);var Ae=x(Ie);me.latex=Ae;var Be=Ae?"":B(me.calcdata.cells.prefix,Me,xe)||"",Ue=Ae?"":B(me.calcdata.cells.suffix,Me,xe)||"",De=Ae?null:B(me.calcdata.cells.format,Me,xe)||null,He=Be+(De?C(De)(me.value):me.value)+Ue,ut;me.wrappingNeeded=!me.wrapped&&!ye&&!Ae&&(ut=k(He)),me.cellHeightMayIncrease=Te||Ae||me.mayHaveMarkup||(ut===void 0?k(He):ut),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var et;if(me.wrappingNeeded){var Qe=p.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,qe=Qe.split(p.wrapSplitCharacter),ft=p.wrapSplitCharacter===" "?qe.map(function(gt){return gt.replace(/<a_href=/ig,"<a href=")}):qe;me.fragments=ft.map(function(gt){return{text:gt,width:null}}),me.fragments.push({fragment:p.wrapSpacer,width:null}),et=ft.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete me.fragments,et=He;return et}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var Me=this,xe=L.select(Me),Ie=me.wrappingNeeded?ee:oe;me.needsConvertToTspans?y.convertToTspans(xe,he,Ie(ae,Me,le,he,me)):L.select(Me.parentNode).attr("transform",function(_e){return r(Y(_e),p.cellPad)}).attr("text-anchor",function(_e){return{left:"start",center:"middle",right:"end"}[_e.align]})})}function x(q){return typeof q=="string"&&q.match(p.latexCheck)}function k(q){return q.indexOf(p.wrapSplitCharacter)!==-1}function _(q,le,ae){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(me,Me){return ae[he.indexOf(me)]-ae[he.indexOf(Me)]}),le.columnorder=ae,q.emit("plotly_restyle")}function B(q,le,ae){if(Array.isArray(q)){var he=q[Math.min(le,q.length-1)];return Array.isArray(he)?he[Math.min(ae,he.length-1)]:he}else return q}function I(q,le,ae){q.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",r(le.x,ae))}function z(q){return q.type==="cells"}function O(q){return q.type==="header"}function F(q){var le=q.rowBlocks.length?q.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ae,he){return ae+X(he,1/0)},0)}function N(q,le,ae){for(var he=[],me=0,Me=0;Me<q.length;Me++){for(var xe=q[Me],Ie=xe.rows,_e=0,Te=0;Te<Ie.length;Te++)_e+=Ie[Te].rowHeight;xe.allRowsHeight=_e;var ye=me+_e,Ae=le,Be=Ae+ae;Ae<ye&&Be>me&&he.push(Me),me+=_e}return he}function Q(q,le,ae){var he=T(le)[0];if(he!==void 0){var me=he.rowBlocks,Me=he.calcdata,xe=W(me,me.length),Ie=he.calcdata.groupHeight-F(he),_e=Me.scrollY=Math.max(0,Math.min(xe-Ie,Me.scrollY)),Te=N(me,_e,Ie);Te.length===1&&(Te[0]===me.length-1?Te.unshift(Te[0]-1):Te.push(Te[0]+1)),Te[0]%2&&Te.reverse(),le.each(function(ye,Ae){ye.page=Te[Ae],ye.scrollY=_e}),le.attr("transform",function(ye){var Ae=W(ye.rowBlocks,ye.page)-ye.scrollY;return r(0,Ae)}),q&&(j(q,ae,le,Te,he.prevPages,he,0),j(q,ae,le,Te,he.prevPages,he,1),f(ae,q))}}function $(q,le,ae,he){return function(Me){var xe=Me.calcdata?Me.calcdata:Me,Ie=le.filter(function(Ae){return xe.key===Ae.key}),_e=ae||xe.scrollbarState.dragMultiplier,Te=xe.scrollY;xe.scrollY=he===void 0?xe.scrollY+_e*L.event.dy:he;var ye=Ie.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(z);return Q(q,ye,Ie),xe.scrollY===Te}}function j(q,le,ae,he,me,Me,xe){var Ie=he[xe]!==me[xe];Ie&&(clearTimeout(Me.currentRepaint[xe]),Me.currentRepaint[xe]=setTimeout(function(){var _e=ae.filter(function(Te,ye){return ye===xe&&he[ye]!==me[ye]});o(q,le,_e,ae),me[xe]=he[xe]}))}function ee(q,le,ae,he){return function(){var Me=L.select(le.parentNode);Me.each(function(xe){var Ie=xe.fragments;Me.selectAll("tspan.line").each(function(He,ut){Ie[ut].width=this.getComputedTextLength()});var _e=Ie[Ie.length-1].width,Te=Ie.slice(0,-1),ye=[],Ae,Be,Ue=0,De=xe.column.columnWidth-2*p.cellPad;for(xe.value="";Te.length;)Ae=Te.shift(),Be=Ae.width+_e,Ue+Be>De&&(xe.value+=ye.join(p.wrapSpacer)+p.lineBreaker,ye=[],Ue=0),ye.push(Ae.text),Ue+=Be;Ue&&(xe.value+=ye.join(p.wrapSpacer)),xe.wrapped=!0}),Me.selectAll("tspan.line").remove(),P(Me.select("."+p.cn.cellText),ae,q,he),L.select(le.parentNode.parentNode).call(V)}}function oe(q,le,ae,he,me){return function(){if(!me.settledY){var xe=L.select(le.parentNode),Ie=ie(me),_e=me.key-Ie.firstRowIndex,Te=Ie.rows[_e].rowHeight,ye=me.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*p.cellPad:Te,Ae=Math.max(ye,Te),Be=Ae-Ie.rows[_e].rowHeight;Be&&(Ie.rows[_e].rowHeight=Ae,q.selectAll("."+p.cn.columnCell).call(V),Q(null,q.filter(z),0),f(ae,he,!0)),xe.attr("transform",function(){var Ue=this,De=Ue.parentNode,He=De.getBoundingClientRect(),ut=L.select(Ue.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),et=Ue.transform.baseVal.consolidate(),Qe=ut.top-He.top+(et?et.matrix.f:p.cellPad);return r(Y(me,L.select(Ue.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),Qe)}),me.settledY=!0}}}function Y(q,le){switch(q.align){case"left":return p.cellPad;case"right":return q.column.columnWidth-(le||0)-p.cellPad;case"center":return(q.column.columnWidth-(le||0))/2;default:return p.cellPad}}function V(q){q.attr("transform",function(le){var ae=le.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,Ie){return xe+X(Ie,1/0)},0),he=ie(le),me=X(he,le.key),Me=me+ae;return r(0,Me)}).selectAll("."+p.cn.cellRect).attr("height",function(le){return K(ie(le),le.key).rowHeight})}function W(q,le){for(var ae=0,he=le-1;he>=0;he--)ae+=re(q[he]);return ae}function X(q,le){for(var ae=0,he=0;he<q.rows.length&&q.rows[he].rowIndex<le;he++)ae+=q.rows[he].rowHeight;return ae}function re(q){var le=q.allRowsHeight;if(le!==void 0)return le;for(var ae=0,he=0;he<q.rows.length;he++)ae+=q.rows[he].rowHeight;return q.allRowsHeight=ae,ae}function ie(q){return q.rowBlocks[q.page]}function K(q,le){return q.rows[le-q.firstRowIndex]}},45802:function(G,U,e){var p=e(5386).f,L=e(5386).s,n=e(50693),C=e(27670).Y,w=e(34e3),v=e(57564),y=e(43473),t=e(1426).extendFlat;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},w.textfont,{}),editType:"calc"},text:w.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:y.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:t({},w.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:w.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(G,U,e){var p=e(74875);U.name="treemap",U.plot=function(L,n,C,w){p.plotBasePlot(U.name,L,n,C,w)},U.clean=function(L,n,C,w){p.cleanBasePlot(U.name,L,n,C,w)}},65039:function(G,U,e){var p=e(52147);U.y=function(L,n){return p.calc(L,n)},U.T=function(L){return p._runCrossTraceCalc("treemap",L)}},43473:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(G,U,e){var p=e(71828),L=e(45802),n=e(7901),C=e(27670).c,w=e(90769).handleText,v=e(97313).TEXTPAD,y=e(21081),t=y.hasColorscale,r=y.handleDefaults;G.exports=function(a,s,c,u){function m(P,x){return p.coerce(a,s,L,P,x)}var h=m("labels"),T=m("parents");if(!h||!h.length||!T||!T.length){s.visible=!1;return}var f=m("values");f&&f.length?m("branchvalues"):m("count"),m("level"),m("maxdepth");var o=m("tiling.packing");o==="squarify"&&m("tiling.squarifyratio"),m("tiling.flip"),m("tiling.pad");var d=m("text");m("texttemplate"),s.texttemplate||m("textinfo",Array.isArray(d)?"text+label":"label"),m("hovertext"),m("hovertemplate");var M=m("pathbar.visible"),A="auto";w(a,s,u,m,A,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),m("textposition");var E=s.textposition.indexOf("bottom")!==-1,g=m("marker.line.width");g&&m("marker.line.color",u.paper_bgcolor);var S=m("marker.colors"),b=s._hasColorscale=t(a,"marker","colors")||(a.marker||{}).coloraxis;b?r(a,s,u,m,{prefix:"marker.",cLetter:"c"}):m("marker.depthfade",!(S||[]).length);var i=s.textfont.size*2;m("marker.pad.t",E?i/4:i),m("marker.pad.l",i/4),m("marker.pad.r",i/4),m("marker.pad.b",E?i:i/4),m("marker.cornerradius"),s._hovered={marker:{line:{width:2,color:n.contrast(u.paper_bgcolor)}}},M&&(m("pathbar.thickness",s.pathbar.textfont.size+2*v),m("pathbar.side"),m("pathbar.edgeshape")),m("sort"),m("root.color"),C(s,u,m),s._length=null}},80694:function(G,U,e){var p=e(39898),L=e(2791),n=e(72597),C=n.clearMinTextSize,w=e(16688).resizeText,v=e(46650);G.exports=function(t,r,l,a,s){var c=s.type,u=s.drawDescendants,m=t._fullLayout,h=m["_"+c+"layer"],T,f,o=!l;if(C(c,m),T=h.selectAll("g.trace."+c).data(r,function(M){return M[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(c,!0),T.order(),!m.uniformtext.mode&&L.hasTransition(l)){a&&(f=a());var d=p.transition().duration(l.duration).ease(l.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});d.each(function(){h.selectAll("g.trace").each(function(M){v(t,M,this,l,u)})})}else T.each(function(M){v(t,M,this,l,u)}),m.uniformtext.mode&&w(t,h.selectAll(".trace"),c);o&&T.exit().remove()}},66209:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),w=e(37210),v=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),l=!0;G.exports=function(s,c,u,m,h){var T=h.barDifY,f=h.width,o=h.height,d=h.viewX,M=h.viewY,A=h.pathSlice,E=h.toMoveInsideSlice,g=h.strTransform,S=h.hasTransition,b=h.handleSlicesExit,i=h.makeUpdateSliceInterpolator,P=h.makeUpdateTextInterpolator,x={},k=s._context.staticPlot,_=s._fullLayout,B=c[0],I=B.trace,z=B.hierarchy,O=f/I._entryDepth,F=t.listPath(u.data,"id"),N=w(z.copy(),[f,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function($){var j=F.indexOf($.data.id);return j===-1?!1:($.x0=O*j,$.x1=O*(j+1),$.y0=T,$.y1=T+o,$.onPathbar=!0,!0)}),N.reverse(),m=m.data(N,t.getPtId),m.enter().append("g").classed("pathbar",!0),b(m,l,x,[f,o],A),m.order();var Q=m;S&&(Q=Q.transition().each("end",function(){var $=p.select(this);t.setSliceCursor($,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function($){$._x0=d($.x0),$._x1=d($.x1),$._y0=M($.y0),$._y1=M($.y1),$._hoverX=d($.x1-Math.min(f,o)/2),$._hoverY=M($.y1-o/2);var j=p.select(this),ee=L.ensureSingle(j,"path","surface",function(W){W.style("pointer-events",k?"none":"all")});S?ee.transition().attrTween("d",function(W){var X=i(W,l,x,[f,o]);return function(re){return A(X(re))}}):ee.attr("d",A),j.call(r,u,s,c,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:s._transitioning}),ee.call(v,$,I,{hovered:!1}),$._text=(t.getPtLabel($)||"").split("<br>").join(" ")||"";var oe=L.ensureSingle(j,"g","slicetext"),Y=L.ensureSingle(oe,"text","",function(W){W.attr("data-notex",1)}),V=L.ensureUniformFontSize(s,t.determineTextFont(I,$,_.font,{onPathbar:!0}));Y.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,V).call(C.convertToTspans,s),$.textBB=n.bBox(Y.node()),$.transform=E($,{fontSize:V.size,onPathbar:!0}),$.transform.fontSize=V.size,S?Y.transition().attrTween("transform",function(W){var X=P(W,l,x,[f,o]);return function(re){return g(X(re))}}):Y.attr("transform",g($))})}},52583:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),w=e(37210),v=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,a=!1;G.exports=function(c,u,m,h,T){var f=T.width,o=T.height,d=T.viewX,M=T.viewY,A=T.pathSlice,E=T.toMoveInsideSlice,g=T.strTransform,S=T.hasTransition,b=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,P=T.makeUpdateTextInterpolator,x=T.prevEntry,k={},_=c._context.staticPlot,B=c._fullLayout,I=u[0],z=I.trace,O=z.textposition.indexOf("left")!==-1,F=z.textposition.indexOf("right")!==-1,N=z.textposition.indexOf("bottom")!==-1,Q=!N&&!z.marker.pad.t||N&&!z.marker.pad.b,$=w(m,[f,o],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}),j=$.descendants(),ee=1/0,oe=-1/0;j.forEach(function(re){var ie=re.depth;ie>=z._maxDepth?(re.x0=re.x1=(re.x0+re.x1)/2,re.y0=re.y1=(re.y0+re.y1)/2):(ee=Math.min(ee,ie),oe=Math.max(oe,ie))}),h=h.data(j,t.getPtId),z._maxVisibleLayers=isFinite(oe)?oe-ee+1:0,h.enter().append("g").classed("slice",!0),b(h,a,k,[f,o],A),h.order();var Y=null;if(S&&x){var V=t.getPtId(x);h.each(function(re){Y===null&&t.getPtId(re)===V&&(Y={x0:re.x0,x1:re.x1,y0:re.y0,y1:re.y1})})}var W=function(){return Y||{x0:0,x1:f,y0:0,y1:o}},X=h;return S&&(X=X.transition().each("end",function(){var re=p.select(this);t.setSliceCursor(re,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(re){var ie=t.isHeader(re,z);re._x0=d(re.x0),re._x1=d(re.x1),re._y0=M(re.y0),re._y1=M(re.y1),re._hoverX=d(re.x1-z.marker.pad.r),re._hoverY=M(N?re.y1-z.marker.pad.b/2:re.y0+z.marker.pad.t/2);var K=p.select(this),q=L.ensureSingle(K,"path","surface",function(me){me.style("pointer-events",_?"none":"all")});S?q.transition().attrTween("d",function(me){var Me=i(me,a,W(),[f,o]);return function(xe){return A(Me(xe))}}):q.attr("d",A),K.call(r,m,c,u,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),q.call(v,re,z,{hovered:!1}),re.x0===re.x1||re.y0===re.y1?re._text="":ie?re._text=Q?"":t.getPtLabel(re)||"":re._text=l(re,m,z,u,B)||"";var le=L.ensureSingle(K,"g","slicetext"),ae=L.ensureSingle(le,"text","",function(me){me.attr("data-notex",1)}),he=L.ensureUniformFontSize(c,t.determineTextFont(z,re,B.font));ae.text(re._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O||ie?"start":"middle").call(n.font,he).call(C.convertToTspans,c),re.textBB=n.bBox(ae.node()),re.transform=E(re,{fontSize:he.size,isHeader:ie}),re.transform.fontSize=he.size,S?ae.transition().attrTween("transform",function(me){var Me=P(me,a,W(),[f,o]);return function(xe){return g(Me(xe))}}):ae.attr("transform",g(re))}),Y}},14102:function(G){G.exports=function U(e,p,L){var n;L.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),L.flipX&&(n=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-n),L.flipY&&(n=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-n);var C=e.children;if(C)for(var w=0;w<C.length;w++)U(C[w],p,L)}},70954:function(G,U,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(G,U,e){var p=e(71828),L=e(55479);G.exports=function(C,w){function v(y,t){return p.coerce(C,w,L,y,t)}v("treemapcolorway",w.colorway),v("extendtreemapcolors")}},37210:function(G,U,e){var p=e(674),L=e(14102);G.exports=function(w,v,y){var t=y.flipX,r=y.flipY,l=y.packing==="dice-slice",a=y.pad[r?"bottom":"top"],s=y.pad[t?"right":"left"],c=y.pad[t?"left":"right"],u=y.pad[r?"top":"bottom"],m;l&&(m=s,s=a,a=m,m=c,c=u,u=m);var h=p.treemap().tile(n(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(s).paddingRight(c).paddingTop(a).paddingBottom(u).size(l?[v[1],v[0]]:v)(w);return(l||t||r)&&L(h,v,{swapXY:l,flipX:t,flipY:r}),h};function n(C,w){switch(C){case"squarify":return p.treemapSquarify.ratio(w);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},5893:function(G,U,e){var p=e(80694),L=e(52583);G.exports=function(C,w,v,y){return p(C,w,v,y,{type:"treemap",drawDescendants:L})}},46650:function(G,U,e){var p=e(39898),L=e(81684).sX,n=e(2791),C=e(71828),w=e(97313).TEXTPAD,v=e(17295),y=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,l=e(43473),a=e(66209);function s(c){return n.isHierarchyRoot(c)?"":n.getPtId(c)}G.exports=function(u,m,h,T,f){var o=u._fullLayout,d=m[0],M=d.trace,A=M.type,E=A==="icicle",g=d.hierarchy,S=n.findEntryWithLevel(g,M.level),b=p.select(h),i=b.selectAll("g.pathbar"),P=b.selectAll("g.slice");if(!S){i.remove(),P.remove();return}var x=n.isHierarchyRoot(S),k=!o.uniformtext.mode&&n.hasTransition(T),_=n.getMaxDepth(M),B=function(Fe){return Fe.data.depth-S.data.depth<_},I=o._size,z=M.domain,O=I.w*(z.x[1]-z.x[0]),F=I.h*(z.y[1]-z.y[0]),N=O,Q=M.pathbar.thickness,$=M.marker.line.width+l.gapWithPathbar,j=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?F+$:-(Q+$):0,ee={x0:N,x1:N,y0:j,y1:j+Q},oe=function(Fe,$e,at){var Xe=M.tiling.pad,Pe=function(Le){return Le-Xe<=$e.x0},we=function(Le){return Le+Xe>=$e.x1},ue=function(Le){return Le-Xe<=$e.y0},ge=function(Le){return Le+Xe>=$e.y1};return Fe.x0===$e.x0&&Fe.x1===$e.x1&&Fe.y0===$e.y0&&Fe.y1===$e.y1?{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1}:{x0:Pe(Fe.x0-Xe)?0:we(Fe.x0-Xe)?at[0]:Fe.x0,x1:Pe(Fe.x1+Xe)?0:we(Fe.x1+Xe)?at[0]:Fe.x1,y0:ue(Fe.y0-Xe)?0:ge(Fe.y0-Xe)?at[1]:Fe.y0,y1:ue(Fe.y1+Xe)?0:ge(Fe.y1+Xe)?at[1]:Fe.y1}},Y=null,V={},W={},X=null,re=function(Fe,$e){return $e?V[s(Fe)]:W[s(Fe)]},ie=function(Fe,$e,at,Xe){if($e)return V[s(g)]||ee;var Pe=W[M.level]||at;return B(Fe)?oe(Fe,Pe,Xe):{}};d.hasMultipleRoots&&x&&_++,M._maxDepth=_,M._backgroundColor=o.paper_bgcolor,M._entryDepth=S.data.depth,M._atRootLevel=x;var K=-O/2+I.l+I.w*(z.x[1]+z.x[0])/2,q=-F/2+I.t+I.h*(1-(z.y[1]+z.y[0])/2),le=function(Fe){return K+Fe},ae=function(Fe){return q+Fe},he=ae(0),me=le(0),Me=function(Fe){return me+Fe},xe=function(Fe){return he+Fe};function Ie(Fe,$e){return Fe+","+$e}var _e=Me(0),Te=function(Fe){Fe.x=Math.max(_e,Fe.x)},ye=M.pathbar.edgeshape,Ae=function(Fe){var $e=Me(Math.max(Math.min(Fe.x0,Fe.x0),0)),at=Me(Math.min(Math.max(Fe.x1,Fe.x1),N)),Xe=xe(Fe.y0),Pe=xe(Fe.y1),we=Q/2,ue={},ge={};ue.x=$e,ge.x=at,ue.y=ge.y=(Xe+Pe)/2;var Le={x:$e,y:Xe},ke={x:at,y:Xe},it={x:at,y:Pe},lt={x:$e,y:Pe};return ye===">"?(Le.x-=we,ke.x-=we,it.x-=we,lt.x-=we):ye==="/"?(it.x-=we,lt.x-=we,ue.x-=we/2,ge.x-=we/2):ye==="\\"?(Le.x-=we,ke.x-=we,ue.x-=we/2,ge.x-=we/2):ye==="<"&&(ue.x-=we,ge.x-=we),Te(Le),Te(lt),Te(ue),Te(ke),Te(it),Te(ge),"M"+Ie(Le.x,Le.y)+"L"+Ie(ke.x,ke.y)+"L"+Ie(ge.x,ge.y)+"L"+Ie(it.x,it.y)+"L"+Ie(lt.x,lt.y)+"L"+Ie(ue.x,ue.y)+"Z"},Be=M[E?"tiling":"marker"].pad,Ue=function(Fe){return M.textposition.indexOf(Fe)!==-1},De=Ue("top"),He=Ue("left"),ut=Ue("right"),et=Ue("bottom"),Qe=function(Fe){var $e=le(Fe.x0),at=le(Fe.x1),Xe=ae(Fe.y0),Pe=ae(Fe.y1),we=at-$e,ue=Pe-Xe;if(!we||!ue)return"";var ge=M.marker.cornerradius||0,Le=Math.min(ge,we/2,ue/2);Le&&Fe.data&&Fe.data.data&&Fe.data.data.label&&(De&&(Le=Math.min(Le,Be.t)),He&&(Le=Math.min(Le,Be.l)),ut&&(Le=Math.min(Le,Be.r)),et&&(Le=Math.min(Le,Be.b)));var ke=function(it,lt){return Le?"a"+Ie(Le,Le)+" 0 0 1 "+Ie(it,lt):""};return"M"+Ie($e,Xe+Le)+ke(Le,-Le)+"L"+Ie(at-Le,Xe)+ke(Le,Le)+"L"+Ie(at,Pe-Le)+ke(-Le,Le)+"L"+Ie($e+Le,Pe)+ke(-Le,-Le)+"Z"},qe=function(Fe,$e){var at=Fe.x0,Xe=Fe.x1,Pe=Fe.y0,we=Fe.y1,ue=Fe.textBB,ge=De||$e.isHeader&&!et,Le=ge?"start":et?"end":"middle",ke=Ue("right"),it=Ue("left")||$e.onPathbar,lt=it?-1:ke?1:0;if($e.isHeader){if(at+=(E?Be:Be.l)-w,Xe-=(E?Be:Be.r)-w,at>=Xe){var bt=(at+Xe)/2;at=bt,Xe=bt}var Rt;et?(Rt=we-(E?Be:Be.b),Pe<Rt&&Rt<we&&(Pe=Rt)):(Rt=Pe+(E?Be:Be.t),Pe<Rt&&Rt<we&&(we=Rt))}var Ut=y(at,Xe,Pe,we,ue,{isHorizontal:!1,constrained:!0,angle:0,anchor:Le,leftToRight:lt});return Ut.fontSize=$e.fontSize,Ut.targetX=le(Ut.targetX),Ut.targetY=ae(Ut.targetY),isNaN(Ut.targetX)||isNaN(Ut.targetY)?{}:(at!==Xe&&Pe!==we&&r(M.type,Ut,o),{scale:Ut.scale,rotate:Ut.rotate,textX:Ut.textX,textY:Ut.textY,anchorX:Ut.anchorX,anchorY:Ut.anchorY,targetX:Ut.targetX,targetY:Ut.targetY})},ft=function(Fe,$e){for(var at,Xe=0,Pe=Fe;!at&&Xe<_;)Xe++,Pe=Pe.parent,Pe?at=re(Pe,$e):Xe=_;return at||{}},gt=function(Fe,$e,at,Xe){var Pe=re(Fe,$e),we;if($e)we=ee;else{var ue=re(S,$e);ue?we=oe(Fe,ue,Xe):we={}}return L(Pe,we)},xt=function(Fe,$e,at,Xe,Pe){var we=re(Fe,$e),ue;if(we)ue=we;else if($e)ue=ee;else if(Y)if(Fe.parent){var ge=X||at;ge&&!$e?ue=oe(Fe,ge,Xe):(ue={},C.extendFlat(ue,ft(Fe,$e)))}else ue=C.extendFlat({},Fe),E&&(Pe.orientation==="h"?Pe.flipX?ue.x0=Fe.x1:ue.x1=0:Pe.flipY?ue.y0=Fe.y1:ue.y1=0);else ue={};return L(ue,{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1})},Ct=function(Fe,$e,at,Xe){var Pe=re(Fe,$e),we={},ue=ie(Fe,$e,at,Xe);C.extendFlat(we,{transform:qe({x0:ue.x0,x1:ue.x1,y0:ue.y0,y1:ue.y1,textBB:Fe.textBB,_text:Fe._text},{isHeader:n.isHeader(Fe,M)})}),Pe?we=Pe:Fe.parent&&C.extendFlat(we,ft(Fe,$e));var ge=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&r(M.type,ge,o),L(we,{transform:{scale:ge.scale,rotate:ge.rotate,textX:ge.textX,textY:ge.textY,anchorX:ge.anchorX,anchorY:ge.anchorY,targetX:ge.targetX,targetY:ge.targetY}})},Je=function(Fe,$e,at,Xe,Pe){var we=Xe[0],ue=Xe[1];k?Fe.exit().transition().each(function(){var ge=p.select(this),Le=ge.select("path.surface");Le.transition().attrTween("d",function(it){var lt=gt(it,$e,at,[we,ue]);return function(bt){return Pe(lt(bt))}});var ke=ge.select("g.slicetext");ke.attr("opacity",0)}).remove():Fe.exit().remove()},ze=function(Fe){var $e=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&r(M.type,$e,o),C.getTextTransform({textX:$e.textX,textY:$e.textY,anchorX:$e.anchorX,anchorY:$e.anchorY,targetX:$e.targetX,targetY:$e.targetY,scale:$e.scale,rotate:$e.rotate})};k&&(i.each(function(Fe){V[s(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(V[s(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate})}),P.each(function(Fe){W[s(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(W[s(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate}),!Y&&n.isEntry(Fe)&&(Y=Fe)})),X=f(u,m,S,P,{width:O,height:F,viewX:le,viewY:ae,pathSlice:Qe,toMoveInsideSlice:qe,prevEntry:Y,makeUpdateSliceInterpolator:xt,makeUpdateTextInterpolator:Ct,handleSlicesExit:Je,hasTransition:k,strTransform:ze}),M.pathbar.visible?a(u,m,S,i,{barDifY:j,width:N,height:Q,viewX:Me,viewY:xe,pathSlice:Ae,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:xt,makeUpdateTextInterpolator:Ct,handleSlicesExit:Je,hasTransition:k,strTransform:ze}):i.remove()}},96362:function(G,U,e){var p=e(39898),L=e(7901),n=e(71828),C=e(2791),w=e(72597).resizeText;function v(t){var r=t._fullLayout._treemaplayer.selectAll(".trace");w(t,r,"treemap"),r.each(function(l){var a=p.select(this),s=l[0],c=s.trace;a.style("opacity",c.opacity),a.selectAll("path.surface").each(function(u){p.select(this).call(y,u,c,{hovered:!1})})})}function y(t,r,l,a){var s=(a||{}).hovered,c=r.data.data,u=c.i,m,h,T=c.color,f=C.isHierarchyRoot(r),o=1;if(s)m=l._hovered.marker.line.color,h=l._hovered.marker.line.width;else if(f&&T===l.root.color)o=100,m="rgba(0,0,0,0)",h=0;else if(m=n.castOption(l,u,"marker.line.color")||L.defaultLine,h=n.castOption(l,u,"marker.line.width")||0,!l._hasColorscale&&!r.onPathbar){var d=l.marker.depthfade;if(d){var M=L.combine(L.addOpacity(l._backgroundColor,.75),T),A;if(d===!0){var E=C.getMaxDepth(l);isFinite(E)?C.isLeaf(r)?A=0:A=l._maxVisibleLayers-(r.data.depth-l._entryDepth):A=r.data.height+1}else A=r.data.depth-l._entryDepth,l._atRootLevel||A++;if(A>0)for(var g=0;g<A;g++){var S=.5*g/A;T=L.combine(L.addOpacity(M,S),T)}}}t.style("stroke-width",h).call(L.fill,T).call(L.stroke,m).style("opacity",o)}G.exports={style:v,styleOne:y}},68875:function(G,U,e){var p=e(53522),L=e(1426).extendFlat,n=e(12663).axisHoverFormat;G.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(G,U,e){var p=e(71828),L=e(89298),n=e(48518),C=e(60168),w=e(50606).BADNUM;G.exports=function(l,a){var s=n(l,a);if(s[0].t.empty)return s;for(var c=l._fullLayout,u=L.getFromId(l,a[a.orientation==="h"?"xaxis":"yaxis"]),m=1/0,h=-1/0,T=0,f=0,o=0;o<s.length;o++){var d=s[o],M=d.pts.map(C.extractVal),A=d.bandwidth=y(a,d,M),E=d.span=t(a,d,u,A);if(d.min===d.max&&A===0)E=d.span=[d.min,d.max],d.density=[{v:1,t:E[0]}],d.bandwidth=A,T=Math.max(T,1);else{var g=E[1]-E[0],S=Math.ceil(g/(A/3)),b=g/S;if(!isFinite(b)||!isFinite(S))return p.error("Something went wrong with computing the violin span"),s[0].t.empty=!0,s;var i=C.makeKDE(d,a,M);d.density=new Array(S);for(var P=0,x=E[0];x<E[1]+b/2;P++,x+=b){var k=i(x);d.density[P]={v:k,t:x},T=Math.max(T,k)}}f=Math.max(f,M.length),m=Math.min(m,E[0]),h=Math.max(h,E[1])}var _=L.findExtremes(u,[m,h],{padded:!0});if(a._extremes[u._id]=_,a.width)s[0].t.maxKDE=T;else{var B=c._violinScaleGroupStats,I=a.scalegroup,z=B[I];z?(z.maxKDE=Math.max(z.maxKDE,T),z.maxCount=Math.max(z.maxCount,f)):B[I]={maxKDE:T,maxCount:f}}return s[0].t.labels.kde=p._(l,"kde:"),s};function v(r,l,a){var s=Math.min(l,a/1.349);return 1.059*s*Math.pow(r,-.2)}function y(r,l,a){var s=l.max-l.min;if(!s)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,s/1e4);var c=a.length,u=p.stdev(a,c-1,l.mean);return Math.max(v(c,u,l.q3-l.q1),s/100)}function t(r,l,a,s){var c=r.spanmode,u=r.span||[],m=[l.min,l.max],h=[l.min-2*s,l.max+2*s],T;function f(d){var M=u[d],A=a.type==="multicategory"?a.r2c(M):a.d2c(M,0,r[l.valLetter+"calendar"]);return A===w?h[d]:A}c==="soft"?T=h:c==="hard"?T=m:T=[f(0),f(1)];var o={type:"linear",range:T};return L.setConvert(o),o.cleanRange(),T}},86403:function(G,U,e){var p=e(37188).setPositionOffset,L=["v","h"];G.exports=function(C,w){for(var v=C.calcdata,y=w.xaxis,t=w.yaxis,r=0;r<L.length;r++){for(var l=L[r],a=l==="h"?t:y,s=[],c=0;c<v.length;c++){var u=v[c],m=u[0].t,h=u[0].trace;h.visible===!0&&h.type==="violin"&&!m.empty&&h.orientation===l&&h.xaxis===y._id&&h.yaxis===t._id&&s.push(c)}p("violin",C,s,a)}}},15899:function(G,U,e){var p=e(71828),L=e(7901),n=e(36411),C=e(68875);G.exports=function(v,y,t,r){function l(b,i){return p.coerce(v,y,C,b,i)}function a(b,i){return p.coerce2(v,y,C,b,i)}if(n.handleSampleDefaults(v,y,l,r),y.visible!==!1){l("bandwidth"),l("side");var s=l("width");s||(l("scalegroup",y.name),l("scalemode"));var c=l("span"),u;Array.isArray(c)&&(u="manual"),l("spanmode",u);var m=l("line.color",(v.marker||{}).color||t),h=l("line.width"),T=l("fillcolor",L.addOpacity(y.line.color,.5));n.handlePointsDefaults(v,y,l,{prefix:""});var f=a("box.width"),o=a("box.fillcolor",T),d=a("box.line.color",m),M=a("box.line.width",h),A=l("box.visible",!!(f||o||d||M));A||(y.box={visible:!1});var E=a("meanline.color",m),g=a("meanline.width",h),S=l("meanline.visible",!!(E||g));S||(y.meanline={visible:!1}),l("quartilemethod")}}},60168:function(G,U,e){var p=e(71828),L={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};U.makeKDE=function(n,C,w){var v=w.length,y=L.gaussian,t=n.bandwidth,r=1/(v*t);return function(l){for(var a=0,s=0;s<v;s++)a+=y((l-w[s])/t);return r*a}},U.getPositionOnKdePath=function(n,C,w){var v,y;C.orientation==="h"?(v="y",y="x"):(v="x",y="y");var t=p.findPointOnPath(n.path,w,y,{pathLength:n.pathLength}),r=n.posCenterPx,l=t[v],a=C.side==="both"?2*r-l:r;return[l,a]},U.getKdeValue=function(n,C,w){var v=n.pts.map(U.extractVal),y=U.makeKDE(n,C,v);return y(w)/n.posDensityScale},U.extractVal=function(n){return n.v}},57634:function(G,U,e){var p=e(7901),L=e(71828),n=e(89298),C=e(41868),w=e(60168);G.exports=function(y,t,r,l,a){a||(a={});var s=a.hoverLayer,c=y.cd,u=c[0].trace,m=u.hoveron,h=m.indexOf("violins")!==-1,T=m.indexOf("kde")!==-1,f=[],o,d;if(h||T){var M=C.hoverOnBoxes(y,t,r,l);if(T&&M.length>0){var A=y.xa,E=y.ya,g,S,b,i,P;u.orientation==="h"?(P=t,g="y",b=E,S="x",i=A):(P=r,g="x",b=A,S="y",i=E);var x=c[y.index];if(P>=x.span[0]&&P<=x.span[1]){var k=L.extendFlat({},y),_=i.c2p(P,!0),B=w.getKdeValue(x,u,P),I=w.getPositionOnKdePath(x,u,_),z=b._offset,O=b._length;k[g+"0"]=I[0],k[g+"1"]=I[1],k[S+"0"]=k[S+"1"]=_,k[S+"Label"]=S+": "+n.hoverLabelText(i,P,u[S+"hoverformat"])+", "+c[0].t.labels.kde+" "+B.toFixed(3);for(var F=0,N=0;N<M.length;N++)if(M[N].attr==="med"){F=N;break}k.spikeDistance=M[F].spikeDistance;var Q=g+"Spike";k[Q]=M[F][Q],M[F].spikeDistance=void 0,M[F][Q]=void 0,k.hovertemplate=!1,f.push(k),d={},d[g+"1"]=L.constrain(z+I[0],z,z+O),d[g+"2"]=L.constrain(z+I[1],z,z+O),d[S+"1"]=d[S+"2"]=i._offset+_}}h&&(f=f.concat(M))}m.indexOf("points")!==-1&&(o=C.hoverOnPoints(y,t,r));var $=s.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return $.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(d).call(p.stroke,y.color),l==="closest"?o?[o]:f:(o&&f.push(o),f)}},47462:function(G,U,e){G.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(G,U,e){var p=e(40094),L=e(71828).extendFlat;G.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},33598:function(G,U,e){var p=e(71828),L=e(9228),n=e(4199);G.exports=function(w,v,y){function t(r,l){return p.coerce(w,v,L,r,l)}n._supply(w,v,y,t,"violin")}},28443:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(86047),w=e(34621),v=e(60168);G.exports=function(t,r,l,a){var s=t._context.staticPlot,c=t._fullLayout,u=r.xaxis,m=r.yaxis;function h(T,f){var o=w(T,{xaxis:u,yaxis:m,trace:f,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(o[0],1)}L.makeTraceGroups(a,l,"trace violins").each(function(T){var f=p.select(this),o=T[0],d=o.t,M=o.trace;if(M.visible!==!0||d.empty){f.remove();return}var A=d.bPos,E=d.bdPos,g=r[d.valLetter+"axis"],S=r[d.posLetter+"axis"],b=M.side==="both",i=b||M.side==="positive",P=b||M.side==="negative",x=f.selectAll("path.violin").data(L.identity);x.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","violin"),x.exit().remove(),x.each(function(N){var Q=p.select(this),$=N.density,j=$.length,ee=S.c2l(N.pos+A,!0),oe=S.l2p(ee),Y;if(M.width)Y=d.maxKDE/E;else{var V=c._violinScaleGroupStats[M.scalegroup];Y=M.scalemode==="count"?V.maxKDE/E*(V.maxCount/N.pts.length):V.maxKDE/E}var W,X,re,ie,K,q,le;if(i){for(q=new Array(j),ie=0;ie<j;ie++)le=q[ie]={},le[d.posLetter]=ee+$[ie].v/Y,le[d.valLetter]=g.c2l($[ie].t,!0);W=h(q,M)}if(P){for(q=new Array(j),K=0,ie=j-1;K<j;K++,ie--)le=q[K]={},le[d.posLetter]=ee-$[ie].v/Y,le[d.valLetter]=g.c2l($[ie].t,!0);X=h(q,M)}if(b)re=W+"L"+X.substr(1)+"Z";else{var ae=[oe,g.c2p($[0].t)],he=[oe,g.c2p($[j-1].t)];M.orientation==="h"&&(ae.reverse(),he.reverse()),i?re="M"+ae+"L"+W.substr(1)+"L"+he:re="M"+he+"L"+X.substr(1)+"L"+ae}Q.attr("d",re),N.posCenterPx=oe,N.posDensityScale=Y*E,N.path=Q.node(),N.pathLength=N.path.getTotalLength()/(b?2:1)});var k=M.box,_=k.width,B=(k.line||{}).width,I,z;b?(I=E*_,z=0):i?(I=[0,E*_/2],z=B*{x:1,y:-1}[d.posLetter]):(I=[E*_/2,0],z=B*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(f,{pos:S,val:g},M,{bPos:A,bdPos:I,bPosPxOffset:z}),C.plotBoxMean(f,{pos:S,val:g},M,{bPos:A,bdPos:I,bPosPxOffset:z});var O;!M.box.visible&&M.meanline.visible&&(O=L.identity);var F=f.selectAll("path.meanline").data(O||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",s?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(N){var Q=g.c2p(N.mean,!0),$=v.getPositionOnKdePath(N,M,Q);p.select(this).attr("d",M.orientation==="h"?"M"+Q+","+$[0]+"V"+$[1]:"M"+$[0]+","+Q+"H"+$[1])}),C.plotPoints(f,{x:u,y:m},M,d)})}},31847:function(G,U,e){var p=e(39898),L=e(7901),n=e(16296).stylePoints;G.exports=function(w){var v=p.select(w).selectAll("g.trace.violins");v.style("opacity",function(y){return y[0].trace.opacity}),v.each(function(y){var t=y[0].trace,r=p.select(this),l=t.box||{},a=l.line||{},s=t.meanline||{},c=s.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(L.stroke,t.line.color).call(L.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",a.width+"px").call(L.stroke,a.color).call(L.fill,l.fillcolor);var u={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(u).call(L.stroke,s.color),r.selectAll("path.meanline").style(u).call(L.stroke,s.color),n(r,t,w)})}},16336:function(G,U,e){var p=e(50693),L=e(16249),n=e(54532),C=e(9012),w=e(1426).extendFlat,v=e(30962).overrideAll,y=G.exports=v(w({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:n.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:w({},C.hoverinfo),showlegend:w({},C.showlegend,{dflt:!1})}),"calc","nested");y.x.editType=y.y.editType=y.z.editType=y.value.editType="calc+clearAxisTypes",y.transforms=void 0},64809:function(G,U,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(78614),C=e(21081).extractOpts,w=e(90060),v=e(22674).findNearestOnAxis,y=e(22674).generateIsoMeshes;function t(a,s,c){this.scene=a,this.uid=c,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(a){if(a.object===this.mesh){var s=a.data.index,c=this.data._meshX[s],u=this.data._meshY[s],m=this.data._meshZ[s],h=this.data._Ys.length,T=this.data._Zs.length,f=v(c,this.data._Xs).id,o=v(u,this.data._Ys).id,d=v(m,this.data._Zs).id,M=a.index=d+T*o+T*h*f;a.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var A=this.data.hovertext||this.data.text;return Array.isArray(A)&&A[M]!==void 0?a.textLabel=A[M]:A&&(a.textLabel=A),!0}},r.update=function(a){var s=this.scene,c=s.fullSceneLayout;this.data=y(a);function u(o,d,M,A){return d.map(function(E){return o.d2l(E,0,A)*M})}var m=w(u(c.xaxis,a._meshX,s.dataScale[0],a.xcalendar),u(c.yaxis,a._meshY,s.dataScale[1],a.ycalendar),u(c.zaxis,a._meshZ,s.dataScale[2],a.zcalendar)),h=w(a._meshI,a._meshJ,a._meshK),T={positions:m,cells:h,lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:n(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},f=C(a);T.vertexIntensity=a._meshIntensity,T.vertexIntensityBounds=[f.min,f.max],T.colormap=L(a),this.mesh.update(T)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(a,s){var c=a.glplot.gl,u=p({gl:c}),m=new t(a,u,s.uid);return u._trace=m,m.update(s),a.glplot.add(u),m}G.exports=l},47651:function(G,U,e){var p=e(71828),L=e(16336),n=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;G.exports=function(v,y,t,r){function l(a,s){return p.coerce(v,y,L,a,s)}n(v,y,t,r,l),C(v,y,r,l)}},17659:function(G,U,e){G.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(G,U,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,w=e(5386).f,v=e(5386).s,y=e(48334),t=e(1426).extendFlat,r=e(7901);function l(a){return{marker:{color:t({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:w({},{keys:y.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:y.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},52752:function(G,U,e){var p=e(89298),L=e(42973),n=e(71828).mergeArray,C=e(66279),w=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function y(t){return t==="t"||t==="total"}G.exports=function(r,l){var a=p.getFromId(r,l.xaxis||"x"),s=p.getFromId(r,l.yaxis||"y"),c,u,m,h,T,f;l.orientation==="h"?(c=a.makeCalcdata(l,"x"),m=s.makeCalcdata(l,"y"),h=L(l,s,"y",m),T=!!l.yperiodalignment,f="y"):(c=s.makeCalcdata(l,"y"),m=a.makeCalcdata(l,"x"),h=L(l,a,"x",m),T=!!l.xperiodalignment,f="x"),u=h.vals;for(var o=Math.min(u.length,c.length),d=new Array(o),M=0,A,E=!1,g=0;g<o;g++){var S=c[g]||0,b=!1;(c[g]!==w||y(l.measure[g])||v(l.measure[g]))&&g+1<o&&(c[g+1]!==w||y(l.measure[g+1])||v(l.measure[g+1]))&&(b=!0);var i=d[g]={i:g,p:u[g],s:S,rawS:S,cNext:b};v(l.measure[g])?(M=i.s,i.isSum=!0,i.dir="totals",i.s=M):y(l.measure[g])?(i.isSum=!0,i.dir="totals",i.s=M):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",A=i.s,i.s=M+A,M+=A),i.dir==="totals"&&(E=!0),T&&(d[g].orig_p=m[g],d[g][f+"End"]=h.ends[g],d[g][f+"Start"]=h.starts[g]),l.ids&&(i.id=String(l.ids[g])),i.v=(l.base||0)+M}return d.length&&(d[0].hasTotals=E),n(l.text,d,"tx"),n(l.hovertext,d,"htx"),C(d,l),d}},48334:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},70766:function(G,U,e){var p=e(11661).setGroupPositions;G.exports=function(n,C){var w=n._fullLayout,v=n._fullData,y=n.calcdata,t=C.xaxis,r=C.yaxis,l=[],a=[],s=[],c,u;for(u=0;u<v.length;u++){var m=v[u];m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="waterfall"&&(c=y[u],m.orientation==="h"?s.push(c):a.push(c),l.push(c))}var h={mode:w.waterfallmode,norm:w.waterfallnorm,gap:w.waterfallgap,groupgap:w.waterfallgroupgap};for(p(n,t,r,a,h),p(n,r,t,s,h),u=0;u<l.length;u++){c=l[u];for(var T=0;T<c.length;T++){var f=c[T];f.isSum===!1&&(f.s0+=T===0?0:c[T-1].s),T+1<c.length&&(c[T].nextP0=c[T+1].p0,c[T].nextS0=c[T+1].s0)}}}},83266:function(G,U,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),w=e(73927),v=e(43037),y=e(7901),t=e(22372),r=t.INCREASING.COLOR,l=t.DECREASING.COLOR,a="#4499FF";function s(m,h,T){m(h+".marker.color",T),m(h+".marker.line.color",y.defaultLine),m(h+".marker.line.width")}function c(m,h,T,f){function o(g,S){return p.coerce(m,h,v,g,S)}var d=C(m,h,f,o);if(!d){h.visible=!1;return}w(m,h,f,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var M=o("textposition");n(m,h,f,o,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),s(o,"increasing",r),s(o,"decreasing",l),s(o,"totals",a);var A=o("connector.visible");if(A){o("connector.mode");var E=o("connector.line.width");E&&(o("connector.line.color"),o("connector.line.dash"))}}function u(m,h){var T,f;function o(M){return p.coerce(f._input,f,v,M)}if(h.waterfallmode==="group")for(var d=0;d<m.length;d++)f=m[d],T=f._input,L(T,f,h,o)}G.exports={supplyDefaults:c,crossTraceDefaults:u}},58593:function(G){G.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},61326:function(G,U,e){var p=e(89298).hoverLabelText,L=e(7901).opacity,n=e(95423).hoverOnBars,C=e(22372),w={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};G.exports=function(t,r,l,a,s){var c=n(t,r,l,a,s);if(!c)return;var u=c.cd,m=u[0].trace,h=m.orientation==="h",T=h?"x":"y",f=h?t.xa:t.ya;function o(x){return p(f,x,m[T+"hoverformat"])}var d=c.index,M=u[d],A=M.isSum?M.b+M.s:M.rawS;if(!M.isSum){c.initial=M.b+M.s-A,c.delta=A,c.final=c.initial+c.delta;var E=o(Math.abs(c.delta));c.deltaLabel=A<0?"("+E+")":E,c.finalLabel=o(c.final),c.initialLabel=o(c.initial)}var g=M.hi||m.hoverinfo,S=[];if(g&&g!=="none"&&g!=="skip"){var b=g==="all",i=g.split("+"),P=function(x){return b||i.indexOf(x)!==-1};M.isSum||(P("final")&&(h?!P("x"):!P("y"))&&S.push(c.finalLabel),P("delta")&&(A<0?S.push(c.deltaLabel+" "+w.decreasing):S.push(c.deltaLabel+" "+w.increasing)),P("initial")&&S.push("Initial: "+c.initialLabel))}return S.length&&(c.extraText=S.join("<br>")),c.color=v(m,M),[c]};function v(y,t){var r=y[t.dir].marker,l=r.color,a=r.line.color,s=r.line.width;if(L(l))return l;if(L(a)&&s)return a}},19990:function(G,U,e){G.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(G,U,e){var p=e(71828),L=e(13494);G.exports=function(n,C,w){var v=!1;function y(l,a){return p.coerce(n,C,L,l,a)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(y("waterfallmode"),y("waterfallgap",.2),y("waterfallgroupgap"))}},30436:function(G,U,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,w=e(17295),v=e(72597).clearMinTextSize;G.exports=function(l,a,s,c){var u=l._fullLayout;v("waterfall",u),w.plot(l,a,s,c,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),y(l,a,s,c)};function y(r,l,a,s){var c=l.xaxis,u=l.yaxis;L.makeTraceGroups(s,a,"trace bars").each(function(m){var h=p.select(this),T=m[0].trace,f=L.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){f.remove();return}var o=T.orientation==="h",d=T.connector.mode,M=f.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var A=M.size();M.each(function(E,g){if(!(g!==A-1&&!E.cNext)){var S=t(E,c,u,o),b=S[0],i=S[1],P="";b[0]!==C&&i[0]!==C&&b[1]!==C&&i[1]!==C&&(d==="spanning"&&!E.isSum&&g>0&&(o?P+="M"+b[0]+","+i[1]+"V"+i[0]:P+="M"+b[1]+","+i[0]+"H"+b[0]),d!=="between"&&(E.isSum||g<A-1)&&(o?P+="M"+b[1]+","+i[0]+"V"+i[1]:P+="M"+b[0]+","+i[1]+"H"+b[1]),b[2]!==C&&i[2]!==C&&(o?P+="M"+b[1]+","+i[1]+"V"+i[2]:P+="M"+b[1]+","+i[1]+"H"+b[2])),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,l.layerClipId,r)}})})}function t(r,l,a,s){var c=[],u=[],m=s?l:a,h=s?a:l;return c[0]=m.c2p(r.s0,!0),u[0]=h.c2p(r.p0,!0),c[1]=m.c2p(r.s1,!0),u[1]=h.c2p(r.p1,!0),c[2]=m.c2p(r.nextS0,!0),u[2]=h.c2p(r.nextP0,!0),s?[c,u]:[u,c]}},55750:function(G,U,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,w=e(16688),v=e(72597).resizeText,y=w.styleTextPoints;function t(r,l,a){var s=a||p.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,s,"waterfall"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=p.select(this),m=c[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=m[h.dir].marker;p.select(this).call(n.fill,T.color).call(n.stroke,T.line.color).call(L.dashLine,T.line.dash,T.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),y(u,m,r),u.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:t}},82887:function(G,U,e){var p=e(89298),L=e(71828),n=e(86281),C=e(79344).p,w=e(50606).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},y=v.aggregations;U.supplyDefaults=function(c,u){var m={},h;function T(x,k){return L.coerce(c,m,v,x,k)}var f=T("enabled");if(!f)return m;var o=n.findArrayAttributes(u),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var M=T("groups");if(!Array.isArray(M)){if(!d[M])return m.enabled=!1,m;d[M]=0}var A=c.aggregations||[],E=m.aggregations=new Array(A.length),g;function S(x,k){return L.coerce(A[h],g,y,x,k)}for(h=0;h<A.length;h++){g={_index:h};var b=S("target"),i=S("func"),P=S("enabled");P&&b&&(d[b]||i==="count"&&d[b]===void 0)?(i==="stddev"&&S("funcmode"),d[b]=0,E[h]=g):E[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&E.push({target:o[h],func:y.func.dflt,enabled:!0,_index:-1});return m},U.calcTransform=function(c,u,m){if(m.enabled){var h=m.groups,T=L.getTargetArray(u,{target:h});if(T){var f,o,d,M,A={},E={},g=[],S=C(u.transforms,m),b=T.length;for(u._length&&(b=Math.min(b,u._length)),f=0;f<b;f++)o=T[f],d=A[o],d===void 0?(A[o]=g.length,M=[f],g.push(M),E[A[o]]=S(f)):(g[d].push(f),E[A[o]]=(E[A[o]]||[]).concat(S(f)));m._indexToPoints=E;var i=m.aggregations;for(f=0;f<i.length;f++)t(c,u,g,i[f]);typeof h=="string"&&t(c,u,g,{target:h,func:"first",enabled:!0}),u._length=g.length}}};function t(c,u,m,h){if(h.enabled){for(var T=h.target,f=L.nestedProperty(u,T),o=f.get(),d=p.getDataConversions(c,u,T,o),M=r(h,d),A=new Array(m.length),E=0;E<m.length;E++)A[E]=M(o,m[E]);f.set(A),h.func==="count"&&L.pushUnique(u._arrayAttrs,T)}}function r(c,u){var m=c.func,h=u.d2c,T=u.c2d;switch(m){case"count":return l;case"first":return a;case"last":return s;case"sum":return function(f,o){for(var d=0,M=0;M<o.length;M++){var A=h(f[o[M]]);A!==w&&(d+=A)}return T(d)};case"avg":return function(f,o){for(var d=0,M=0,A=0;A<o.length;A++){var E=h(f[o[A]]);E!==w&&(d+=E,M++)}return M?T(d/M):w};case"min":return function(f,o){for(var d=1/0,M=0;M<o.length;M++){var A=h(f[o[M]]);A!==w&&(d=Math.min(d,A))}return d===1/0?w:T(d)};case"max":return function(f,o){for(var d=-1/0,M=0;M<o.length;M++){var A=h(f[o[M]]);A!==w&&(d=Math.max(d,A))}return d===-1/0?w:T(d)};case"range":return function(f,o){for(var d=1/0,M=-1/0,A=0;A<o.length;A++){var E=h(f[o[A]]);E!==w&&(d=Math.min(d,E),M=Math.max(M,E))}return M===-1/0||d===1/0?w:T(M-d)};case"change":return function(f,o){var d=h(f[o[0]]),M=h(f[o[o.length-1]]);return d===w||M===w?w:T(M-d)};case"median":return function(f,o){for(var d=[],M=0;M<o.length;M++){var A=h(f[o[M]]);A!==w&&d.push(A)}if(!d.length)return w;d.sort(L.sorterAsc);var E=(d.length-1)/2;return T((d[Math.floor(E)]+d[Math.ceil(E)])/2)};case"mode":return function(f,o){for(var d={},M=0,A=w,E=0;E<o.length;E++){var g=h(f[o[E]]);if(g!==w){var S=d[g]=(d[g]||0)+1;S>M&&(M=S,A=g)}}return M?T(A):w};case"rms":return function(f,o){for(var d=0,M=0,A=0;A<o.length;A++){var E=h(f[o[A]]);E!==w&&(d+=E*E,M++)}return M?T(Math.sqrt(d/M)):w};case"stddev":return function(f,o){var d=0,M=0,A=1,E=w,g;for(g=0;g<o.length&&E===w;g++)E=h(f[o[g]]);if(E===w)return w;for(;g<o.length;g++){var S=h(f[o[g]]);if(S!==w){var b=S-E;d+=b,M+=b*b,A++}}var i=c.funcmode==="sample"?A-1:A;return i?Math.sqrt((M-d*d/A)/i):0}}}function l(c,u){return u.length}function a(c,u){return c[u[0]]}function s(c,u){return c[u[u.length-1]]}},14382:function(G,U,e){var p=e(71828),L=e(73972),n=e(89298),C=e(79344).p,w=e(74808),v=w.COMPARISON_OPS,y=w.INTERVAL_OPS,t=w.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(y).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(l){var a={};function s(h,T){return p.coerce(l,a,U.attributes,h,T)}var c=s("enabled");if(c){var u=s("target");if(p.isArrayOrTypedArray(u)&&u.length===0)return a.enabled=!1,a;s("preservegaps"),s("operation"),s("value");var m=L.getComponentMethod("calendars","handleDefaults");m(l,a,"valuecalendar",null),m(l,a,"targetcalendar",null)}return a},U.calcTransform=function(l,a,s){if(!s.enabled)return;var c=p.getTargetArray(a,s);if(!c)return;var u=s.target,m=c.length;a._length&&(m=Math.min(m,a._length));var h=s.targetcalendar,T=a._arrayAttrs,f=s.preservegaps;if(typeof u=="string"){var o=p.nestedProperty(a,u+"calendar").get();o&&(h=o)}var d=n.getDataToCoordFunc(l,a,u,c),M=r(s,d,h),A={},E={},g=0;function S(_,B){for(var I=0;I<T.length;I++){var z=p.nestedProperty(a,T[I]);_(z,B)}}var b,i;f?(b=function(_){A[_.astr]=p.extendDeep([],_.get()),_.set(new Array(m))},i=function(_,B){var I=A[_.astr][B];_.get()[B]=I}):(b=function(_){A[_.astr]=p.extendDeep([],_.get()),_.set([])},i=function(_,B){var I=A[_.astr][B];_.get().push(I)}),S(b);for(var P=C(a.transforms,s),x=0;x<m;x++){var k=M(c[x]);k?(S(i,x),E[g++]=P(x)):f&&g++}s._indexToPoints=E,a._length=g};function r(l,a,s){var c=l.operation,u=l.value,m=Array.isArray(u);function h(d){return d.indexOf(c)!==-1}var T=function(d){return a(d,0,l.valuecalendar)},f=function(d){return a(d,0,s)},o;switch(h(v)?o=T(m?u[0]:u):h(y)?o=m?[T(u[0]),T(u[1])]:[T(u),T(u)]:h(t)&&(o=m?u.map(T):[T(u)]),c){case"=":return function(d){return f(d)===o};case"!=":return function(d){return f(d)!==o};case"<":return function(d){return f(d)<o};case"<=":return function(d){return f(d)<=o};case">":return function(d){return f(d)>o};case">=":return function(d){return f(d)>=o};case"[]":return function(d){var M=f(d);return M>=o[0]&&M<=o[1]};case"()":return function(d){var M=f(d);return M>o[0]&&M<o[1]};case"[)":return function(d){var M=f(d);return M>=o[0]&&M<o[1]};case"(]":return function(d){var M=f(d);return M>o[0]&&M<=o[1]};case"][":return function(d){var M=f(d);return M<=o[0]||M>=o[1]};case")(":return function(d){var M=f(d);return M<o[0]||M>o[1]};case"](":return function(d){var M=f(d);return M<=o[0]||M>o[1]};case")[":return function(d){var M=f(d);return M<o[0]||M>=o[1]};case"{}":return function(d){return o.indexOf(f(d))!==-1};case"}{":return function(d){return o.indexOf(f(d))===-1}}}},43102:function(G,U,e){var p=e(71828),L=e(86281),n=e(74875),C=e(79344).p;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,y,t){var r,l={};function a(T,f){return p.coerce(v,l,U.attributes,T,f)}var s=a("enabled");if(!s)return l;a("groups"),a("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var c=v.styles,u=l.styles=[];if(c)for(r=0;r<c.length;r++){var m=u[r]={};p.coerce(c[r],u[r],U.attributes.styles,"target");var h=p.coerce(c[r],u[r],U.attributes.styles,"value");p.isPlainObject(h)?m.value=p.extendDeep({},h):h&&delete m.value}return l},U.transform=function(v,y){var t,r,l,a=[];for(r=0;r<v.length;r++)for(t=w(v[r],y),l=0;l<t.length;l++)a.push(t[l]);return a};function w(v,y){var t,r,l,a,s,c,u,m,h,T,f=y.transform,o=y.transformIndex,d=v.transforms[o].groups,M=C(v.transforms,f);if(!p.isArrayOrTypedArray(d)||d.length===0)return[v];var A=p.filterUnique(d),E=new Array(A.length),g=d.length,S=L.findArrayAttributes(v),b=f.styles||[],i={};for(t=0;t<b.length;t++)i[b[t].target]=b[t].value;f.styles&&(T=p.keyedContainer(f,"styles","target","value.name"));var P={},x={};for(t=0;t<A.length;t++){c=A[t],P[c]=t,x[c]=0,u=E[t]=p.extendDeepNoArrays({},v),u._group=c,u.transforms[o]._indexToPoints={};var k=null;for(T&&(k=T.get(c)),k||k===""?u.name=k:u.name=p.templateString(f.nameformat,{trace:v.name,group:c}),m=u.transforms,u.transforms=[],r=0;r<m.length;r++)u.transforms[r]=p.extendDeepNoArrays({},m[r]);for(r=0;r<S.length;r++)p.nestedProperty(u,S[r]).set([])}for(l=0;l<S.length;l++){for(a=S[l],r=0,h=[];r<A.length;r++)h[r]=p.nestedProperty(E[r],a).get();for(s=p.nestedProperty(v,a).get(),r=0;r<g;r++)h[P[d[r]]].push(s[r])}for(r=0;r<g;r++){u=E[P[d[r]]];var _=u.transforms[o]._indexToPoints;_[x[d[r]]]=M(r),x[d[r]]++}for(t=0;t<A.length;t++)c=A[t],u=E[t],n.clearExpandedTraceDefaultColors(u),u=p.extendDeepNoArrays(u,i[c]||{});return E}},79344:function(G,U){U.p=function(e,p){for(var L,n,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(n=L._indexToPoints);var w=n?function(v){return n[v]}:function(v){return[v]};return w}},32275:function(G,U,e){var p=e(71828),L=e(89298),n=e(79344).p,C=e(50606).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(y){var t={};function r(a,s){return p.coerce(y,t,U.attributes,a,s)}var l=r("enabled");return l&&(r("target"),r("order")),t},U.calcTransform=function(y,t,r){if(r.enabled){var l=p.getTargetArray(t,r);if(l){var a=r.target,s=l.length;t._length&&(s=Math.min(s,t._length));var c=t._arrayAttrs,u=L.getDataToCoordFunc(y,t,a,l),m=w(r,l,u,s),h=n(t.transforms,r),T={},f,o;for(f=0;f<c.length;f++){var d=p.nestedProperty(t,c[f]),M=d.get(),A=new Array(s);for(o=0;o<s;o++)A[o]=M[m[o]];d.set(A)}for(o=0;o<s;o++)T[o]=h(m[o]);r._indexToPoints=T,t._length=s}}};function w(y,t,r,l){var a=new Array(l),s=new Array(l),c;for(c=0;c<l;c++)a[c]={v:t[c],i:c};for(a.sort(v(y,r)),c=0;c<l;c++)s[c]=a[c].i;return s}function v(y,t){switch(y.order){case"ascending":return function(r,l){var a=t(r.v),s=t(l.v);return a===C?1:s===C?-1:a-s};case"descending":return function(r,l){var a=t(r.v),s=t(l.v);return a===C?1:s===C?-1:s-a}}}},11506:function(G,U){U.version="2.20.0"},9330:function(G,U,e){var p=e(90386);(function(n,C){G.exports=C()})(self,function(){return function(){var L={7386:function(v,y,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,y,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(we,ue){if(!(we instanceof ue))throw new TypeError("Cannot call a class as a function")}function l(we,ue){for(var ge=0;ge<ue.length;ge++){var Le=ue[ge];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(we,Le.key,Le)}}function a(we,ue,ge){return ue&&l(we.prototype,ue),ge&&l(we,ge),Object.defineProperty(we,"prototype",{writable:!1}),we}function s(we,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(ue&&ue.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),ue&&c(we,ue)}function c(we,ue){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Le,ke){return Le.__proto__=ke,Le},c(we,ue)}function u(we){var ue=T();return function(){var Le=f(we),ke;if(ue){var it=f(this).constructor;ke=Reflect.construct(Le,arguments,it)}else ke=Le.apply(this,arguments);return m(this,ke)}}function m(we,ue){if(ue&&(o(ue)==="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(we)}function h(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(we){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},f(we)}function o(we){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},o(we)}var d=t(3910),M=t(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.lW=b,y.h2=50;var E=2147483647;b.TYPED_ARRAY_SUPPORT=g(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{var we=new Uint8Array(1),ue={foo:function(){return 42}};return Object.setPrototypeOf(ue,Uint8Array.prototype),Object.setPrototypeOf(we,ue),we.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function S(we){if(we>E)throw new RangeError('The value "'+we+'" is invalid for option "size"');var ue=new Uint8Array(we);return Object.setPrototypeOf(ue,b.prototype),ue}function b(we,ue,ge){if(typeof we=="number"){if(typeof ue=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(we)}return i(we,ue,ge)}b.poolSize=8192;function i(we,ue,ge){if(typeof we=="string")return _(we,ue);if(ArrayBuffer.isView(we))return I(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(we));if(Fe(we,ArrayBuffer)||we&&Fe(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(we,SharedArrayBuffer)||we&&Fe(we.buffer,SharedArrayBuffer)))return z(we,ue,ge);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=we.valueOf&&we.valueOf();if(Le!=null&&Le!==we)return b.from(Le,ue,ge);var ke=O(we);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return b.from(we[Symbol.toPrimitive]("string"),ue,ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(we))}b.from=function(we,ue,ge){return i(we,ue,ge)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function P(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function x(we,ue,ge){return P(we),we<=0?S(we):ue!==void 0?typeof ge=="string"?S(we).fill(ue,ge):S(we).fill(ue):S(we)}b.alloc=function(we,ue,ge){return x(we,ue,ge)};function k(we){return P(we),S(we<0?0:F(we)|0)}b.allocUnsafe=function(we){return k(we)},b.allocUnsafeSlow=function(we){return k(we)};function _(we,ue){if((typeof ue!="string"||ue==="")&&(ue="utf8"),!b.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var ge=N(we,ue)|0,Le=S(ge),ke=Le.write(we,ue);return ke!==ge&&(Le=Le.slice(0,ke)),Le}function B(we){for(var ue=we.length<0?0:F(we.length)|0,ge=S(ue),Le=0;Le<ue;Le+=1)ge[Le]=we[Le]&255;return ge}function I(we){if(Fe(we,Uint8Array)){var ue=new Uint8Array(we);return z(ue.buffer,ue.byteOffset,ue.byteLength)}return B(we)}function z(we,ue,ge){if(ue<0||we.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<ue+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return ue===void 0&&ge===void 0?Le=new Uint8Array(we):ge===void 0?Le=new Uint8Array(we,ue):Le=new Uint8Array(we,ue,ge),Object.setPrototypeOf(Le,b.prototype),Le}function O(we){if(b.isBuffer(we)){var ue=F(we.length)|0,ge=S(ue);return ge.length===0||we.copy(ge,0,0,ue),ge}if(we.length!==void 0)return typeof we.length!="number"||$e(we.length)?S(0):B(we);if(we.type==="Buffer"&&Array.isArray(we.data))return B(we.data)}function F(we){if(we>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return we|0}b.isBuffer=function(ue){return ue!=null&&ue._isBuffer===!0&&ue!==b.prototype},b.compare=function(ue,ge){if(Fe(ue,Uint8Array)&&(ue=b.from(ue,ue.offset,ue.byteLength)),Fe(ge,Uint8Array)&&(ge=b.from(ge,ge.offset,ge.byteLength)),!b.isBuffer(ue)||!b.isBuffer(ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ue===ge)return 0;for(var Le=ue.length,ke=ge.length,it=0,lt=Math.min(Le,ke);it<lt;++it)if(ue[it]!==ge[it]){Le=ue[it],ke=ge[it];break}return Le<ke?-1:ke<Le?1:0},b.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(ue,ge){if(!Array.isArray(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(ue.length===0)return b.alloc(0);var Le;if(ge===void 0)for(ge=0,Le=0;Le<ue.length;++Le)ge+=ue[Le].length;var ke=b.allocUnsafe(ge),it=0;for(Le=0;Le<ue.length;++Le){var lt=ue[Le];if(Fe(lt,Uint8Array))it+lt.length>ke.length?(b.isBuffer(lt)||(lt=b.from(lt)),lt.copy(ke,it)):Uint8Array.prototype.set.call(ke,lt,it);else if(b.isBuffer(lt))lt.copy(ke,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=lt.length}return ke};function N(we,ue){if(b.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||Fe(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(we));var ge=we.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&ge===0)return 0;for(var ke=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return ge;case"utf8":case"utf-8":return gt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge*2;case"hex":return ge>>>1;case"base64":return Je(we).length;default:if(ke)return Le?-1:gt(we).length;ue=(""+ue).toLowerCase(),ke=!0}}b.byteLength=N;function Q(we,ue,ge){var Le=!1;if((ue===void 0||ue<0)&&(ue=0),ue>this.length||((ge===void 0||ge>this.length)&&(ge=this.length),ge<=0)||(ge>>>=0,ue>>>=0,ge<=ue))return"";for(we||(we="utf8");;)switch(we){case"hex":return he(this,ue,ge);case"utf8":case"utf-8":return ie(this,ue,ge);case"ascii":return le(this,ue,ge);case"latin1":case"binary":return ae(this,ue,ge);case"base64":return re(this,ue,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,ue,ge);default:if(Le)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Le=!0}}b.prototype._isBuffer=!0;function $(we,ue,ge){var Le=we[ue];we[ue]=we[ge],we[ge]=Le}b.prototype.swap16=function(){var ue=this.length;if(ue%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ge=0;ge<ue;ge+=2)$(this,ge,ge+1);return this},b.prototype.swap32=function(){var ue=this.length;if(ue%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ge=0;ge<ue;ge+=4)$(this,ge,ge+3),$(this,ge+1,ge+2);return this},b.prototype.swap64=function(){var ue=this.length;if(ue%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ge=0;ge<ue;ge+=8)$(this,ge,ge+7),$(this,ge+1,ge+6),$(this,ge+2,ge+5),$(this,ge+3,ge+4);return this},b.prototype.toString=function(){var ue=this.length;return ue===0?"":arguments.length===0?ie(this,0,ue):Q.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(ue){if(!b.isBuffer(ue))throw new TypeError("Argument must be a Buffer");return this===ue?!0:b.compare(this,ue)===0},b.prototype.inspect=function(){var ue="",ge=y.h2;return ue=this.toString("hex",0,ge).replace(/(.{2})/g,"$1 ").trim(),this.length>ge&&(ue+=" ... "),"<Buffer "+ue+">"},A&&(b.prototype[A]=b.prototype.inspect),b.prototype.compare=function(ue,ge,Le,ke,it){if(Fe(ue,Uint8Array)&&(ue=b.from(ue,ue.offset,ue.byteLength)),!b.isBuffer(ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(ue));if(ge===void 0&&(ge=0),Le===void 0&&(Le=ue?ue.length:0),ke===void 0&&(ke=0),it===void 0&&(it=this.length),ge<0||Le>ue.length||ke<0||it>this.length)throw new RangeError("out of range index");if(ke>=it&&ge>=Le)return 0;if(ke>=it)return-1;if(ge>=Le)return 1;if(ge>>>=0,Le>>>=0,ke>>>=0,it>>>=0,this===ue)return 0;for(var lt=it-ke,bt=Le-ge,Rt=Math.min(lt,bt),Ut=this.slice(ke,it),Gt=ue.slice(ge,Le),_t=0;_t<Rt;++_t)if(Ut[_t]!==Gt[_t]){lt=Ut[_t],bt=Gt[_t];break}return lt<bt?-1:bt<lt?1:0};function j(we,ue,ge,Le,ke){if(we.length===0)return-1;if(typeof ge=="string"?(Le=ge,ge=0):ge>2147483647?ge=2147483647:ge<-2147483648&&(ge=-2147483648),ge=+ge,$e(ge)&&(ge=ke?0:we.length-1),ge<0&&(ge=we.length+ge),ge>=we.length){if(ke)return-1;ge=we.length-1}else if(ge<0)if(ke)ge=0;else return-1;if(typeof ue=="string"&&(ue=b.from(ue,Le)),b.isBuffer(ue))return ue.length===0?-1:ee(we,ue,ge,Le,ke);if(typeof ue=="number")return ue=ue&255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(we,ue,ge):Uint8Array.prototype.lastIndexOf.call(we,ue,ge):ee(we,[ue],ge,Le,ke);throw new TypeError("val must be string, number or Buffer")}function ee(we,ue,ge,Le,ke){var it=1,lt=we.length,bt=ue.length;if(Le!==void 0&&(Le=String(Le).toLowerCase(),Le==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(we.length<2||ue.length<2)return-1;it=2,lt/=2,bt/=2,ge/=2}function Rt(lr,zr){return it===1?lr[zr]:lr.readUInt16BE(zr*it)}var Ut;if(ke){var Gt=-1;for(Ut=ge;Ut<lt;Ut++)if(Rt(we,Ut)===Rt(ue,Gt===-1?0:Ut-Gt)){if(Gt===-1&&(Gt=Ut),Ut-Gt+1===bt)return Gt*it}else Gt!==-1&&(Ut-=Ut-Gt),Gt=-1}else for(ge+bt>lt&&(ge=lt-bt),Ut=ge;Ut>=0;Ut--){for(var _t=!0,nr=0;nr<bt;nr++)if(Rt(we,Ut+nr)!==Rt(ue,nr)){_t=!1;break}if(_t)return Ut}return-1}b.prototype.includes=function(ue,ge,Le){return this.indexOf(ue,ge,Le)!==-1},b.prototype.indexOf=function(ue,ge,Le){return j(this,ue,ge,Le,!0)},b.prototype.lastIndexOf=function(ue,ge,Le){return j(this,ue,ge,Le,!1)};function oe(we,ue,ge,Le){ge=Number(ge)||0;var ke=we.length-ge;Le?(Le=Number(Le),Le>ke&&(Le=ke)):Le=ke;var it=ue.length;Le>it/2&&(Le=it/2);var lt;for(lt=0;lt<Le;++lt){var bt=parseInt(ue.substr(lt*2,2),16);if($e(bt))return lt;we[ge+lt]=bt}return lt}function Y(we,ue,ge,Le){return ze(gt(ue,we.length-ge),we,ge,Le)}function V(we,ue,ge,Le){return ze(xt(ue),we,ge,Le)}function W(we,ue,ge,Le){return ze(Je(ue),we,ge,Le)}function X(we,ue,ge,Le){return ze(Ct(ue,we.length-ge),we,ge,Le)}b.prototype.write=function(ue,ge,Le,ke){if(ge===void 0)ke="utf8",Le=this.length,ge=0;else if(Le===void 0&&typeof ge=="string")ke=ge,Le=this.length,ge=0;else if(isFinite(ge))ge=ge>>>0,isFinite(Le)?(Le=Le>>>0,ke===void 0&&(ke="utf8")):(ke=Le,Le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-ge;if((Le===void 0||Le>it)&&(Le=it),ue.length>0&&(Le<0||ge<0)||ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var lt=!1;;)switch(ke){case"hex":return oe(this,ue,ge,Le);case"utf8":case"utf-8":return Y(this,ue,ge,Le);case"ascii":case"latin1":case"binary":return V(this,ue,ge,Le);case"base64":return W(this,ue,ge,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ue,ge,Le);default:if(lt)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),lt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(we,ue,ge){return ue===0&&ge===we.length?d.fromByteArray(we):d.fromByteArray(we.slice(ue,ge))}function ie(we,ue,ge){ge=Math.min(we.length,ge);for(var Le=[],ke=ue;ke<ge;){var it=we[ke],lt=null,bt=it>239?4:it>223?3:it>191?2:1;if(ke+bt<=ge){var Rt=void 0,Ut=void 0,Gt=void 0,_t=void 0;switch(bt){case 1:it<128&&(lt=it);break;case 2:Rt=we[ke+1],(Rt&192)===128&&(_t=(it&31)<<6|Rt&63,_t>127&&(lt=_t));break;case 3:Rt=we[ke+1],Ut=we[ke+2],(Rt&192)===128&&(Ut&192)===128&&(_t=(it&15)<<12|(Rt&63)<<6|Ut&63,_t>2047&&(_t<55296||_t>57343)&&(lt=_t));break;case 4:Rt=we[ke+1],Ut=we[ke+2],Gt=we[ke+3],(Rt&192)===128&&(Ut&192)===128&&(Gt&192)===128&&(_t=(it&15)<<18|(Rt&63)<<12|(Ut&63)<<6|Gt&63,_t>65535&&_t<1114112&&(lt=_t))}}lt===null?(lt=65533,bt=1):lt>65535&&(lt-=65536,Le.push(lt>>>10&1023|55296),lt=56320|lt&1023),Le.push(lt),ke+=bt}return q(Le)}var K=4096;function q(we){var ue=we.length;if(ue<=K)return String.fromCharCode.apply(String,we);for(var ge="",Le=0;Le<ue;)ge+=String.fromCharCode.apply(String,we.slice(Le,Le+=K));return ge}function le(we,ue,ge){var Le="";ge=Math.min(we.length,ge);for(var ke=ue;ke<ge;++ke)Le+=String.fromCharCode(we[ke]&127);return Le}function ae(we,ue,ge){var Le="";ge=Math.min(we.length,ge);for(var ke=ue;ke<ge;++ke)Le+=String.fromCharCode(we[ke]);return Le}function he(we,ue,ge){var Le=we.length;(!ue||ue<0)&&(ue=0),(!ge||ge<0||ge>Le)&&(ge=Le);for(var ke="",it=ue;it<ge;++it)ke+=at[we[it]];return ke}function me(we,ue,ge){for(var Le=we.slice(ue,ge),ke="",it=0;it<Le.length-1;it+=2)ke+=String.fromCharCode(Le[it]+Le[it+1]*256);return ke}b.prototype.slice=function(ue,ge){var Le=this.length;ue=~~ue,ge=ge===void 0?Le:~~ge,ue<0?(ue+=Le,ue<0&&(ue=0)):ue>Le&&(ue=Le),ge<0?(ge+=Le,ge<0&&(ge=0)):ge>Le&&(ge=Le),ge<ue&&(ge=ue);var ke=this.subarray(ue,ge);return Object.setPrototypeOf(ke,b.prototype),ke};function Me(we,ue,ge){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+ue>ge)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(ue,ge,Le){ue=ue>>>0,ge=ge>>>0,Le||Me(ue,ge,this.length);for(var ke=this[ue],it=1,lt=0;++lt<ge&&(it*=256);)ke+=this[ue+lt]*it;return ke},b.prototype.readUintBE=b.prototype.readUIntBE=function(ue,ge,Le){ue=ue>>>0,ge=ge>>>0,Le||Me(ue,ge,this.length);for(var ke=this[ue+--ge],it=1;ge>0&&(it*=256);)ke+=this[ue+--ge]*it;return ke},b.prototype.readUint8=b.prototype.readUInt8=function(ue,ge){return ue=ue>>>0,ge||Me(ue,1,this.length),this[ue]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,2,this.length),this[ue]|this[ue+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,2,this.length),this[ue]<<8|this[ue+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+this[ue+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),this[ue]*16777216+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},b.prototype.readBigUInt64LE=Xe(function(ue){ue=ue>>>0,et(ue,"offset");var ge=this[ue],Le=this[ue+7];(ge===void 0||Le===void 0)&&Qe(ue,this.length-8);var ke=ge+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24),it=this[++ue]+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+Le*Math.pow(2,24);return BigInt(ke)+(BigInt(it)<<BigInt(32))}),b.prototype.readBigUInt64BE=Xe(function(ue){ue=ue>>>0,et(ue,"offset");var ge=this[ue],Le=this[ue+7];(ge===void 0||Le===void 0)&&Qe(ue,this.length-8);var ke=ge*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue],it=this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+Le;return(BigInt(ke)<<BigInt(32))+BigInt(it)}),b.prototype.readIntLE=function(ue,ge,Le){ue=ue>>>0,ge=ge>>>0,Le||Me(ue,ge,this.length);for(var ke=this[ue],it=1,lt=0;++lt<ge&&(it*=256);)ke+=this[ue+lt]*it;return it*=128,ke>=it&&(ke-=Math.pow(2,8*ge)),ke},b.prototype.readIntBE=function(ue,ge,Le){ue=ue>>>0,ge=ge>>>0,Le||Me(ue,ge,this.length);for(var ke=ge,it=1,lt=this[ue+--ke];ke>0&&(it*=256);)lt+=this[ue+--ke]*it;return it*=128,lt>=it&&(lt-=Math.pow(2,8*ge)),lt},b.prototype.readInt8=function(ue,ge){return ue=ue>>>0,ge||Me(ue,1,this.length),this[ue]&128?(255-this[ue]+1)*-1:this[ue]},b.prototype.readInt16LE=function(ue,ge){ue=ue>>>0,ge||Me(ue,2,this.length);var Le=this[ue]|this[ue+1]<<8;return Le&32768?Le|4294901760:Le},b.prototype.readInt16BE=function(ue,ge){ue=ue>>>0,ge||Me(ue,2,this.length);var Le=this[ue+1]|this[ue]<<8;return Le&32768?Le|4294901760:Le},b.prototype.readInt32LE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},b.prototype.readInt32BE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},b.prototype.readBigInt64LE=Xe(function(ue){ue=ue>>>0,et(ue,"offset");var ge=this[ue],Le=this[ue+7];(ge===void 0||Le===void 0)&&Qe(ue,this.length-8);var ke=this[ue+4]+this[ue+5]*Math.pow(2,8)+this[ue+6]*Math.pow(2,16)+(Le<<24);return(BigInt(ke)<<BigInt(32))+BigInt(ge+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24))}),b.prototype.readBigInt64BE=Xe(function(ue){ue=ue>>>0,et(ue,"offset");var ge=this[ue],Le=this[ue+7];(ge===void 0||Le===void 0)&&Qe(ue,this.length-8);var ke=(ge<<24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue];return(BigInt(ke)<<BigInt(32))+BigInt(this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+Le)}),b.prototype.readFloatLE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),M.read(this,ue,!0,23,4)},b.prototype.readFloatBE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,4,this.length),M.read(this,ue,!1,23,4)},b.prototype.readDoubleLE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,8,this.length),M.read(this,ue,!0,52,8)},b.prototype.readDoubleBE=function(ue,ge){return ue=ue>>>0,ge||Me(ue,8,this.length),M.read(this,ue,!1,52,8)};function xe(we,ue,ge,Le,ke,it){if(!b.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>ke||ue<it)throw new RangeError('"value" argument is out of bounds');if(ge+Le>we.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(ue,ge,Le,ke){if(ue=+ue,ge=ge>>>0,Le=Le>>>0,!ke){var it=Math.pow(2,8*Le)-1;xe(this,ue,ge,Le,it,0)}var lt=1,bt=0;for(this[ge]=ue&255;++bt<Le&&(lt*=256);)this[ge+bt]=ue/lt&255;return ge+Le},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(ue,ge,Le,ke){if(ue=+ue,ge=ge>>>0,Le=Le>>>0,!ke){var it=Math.pow(2,8*Le)-1;xe(this,ue,ge,Le,it,0)}var lt=Le-1,bt=1;for(this[ge+lt]=ue&255;--lt>=0&&(bt*=256);)this[ge+lt]=ue/bt&255;return ge+Le},b.prototype.writeUint8=b.prototype.writeUInt8=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,1,255,0),this[ge]=ue&255,ge+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,2,65535,0),this[ge]=ue&255,this[ge+1]=ue>>>8,ge+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,2,65535,0),this[ge]=ue>>>8,this[ge+1]=ue&255,ge+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,4,4294967295,0),this[ge+3]=ue>>>24,this[ge+2]=ue>>>16,this[ge+1]=ue>>>8,this[ge]=ue&255,ge+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,4,4294967295,0),this[ge]=ue>>>24,this[ge+1]=ue>>>16,this[ge+2]=ue>>>8,this[ge+3]=ue&255,ge+4};function Ie(we,ue,ge,Le,ke){ut(ue,Le,ke,we,ge,7);var it=Number(ue&BigInt(4294967295));we[ge++]=it,it=it>>8,we[ge++]=it,it=it>>8,we[ge++]=it,it=it>>8,we[ge++]=it;var lt=Number(ue>>BigInt(32)&BigInt(4294967295));return we[ge++]=lt,lt=lt>>8,we[ge++]=lt,lt=lt>>8,we[ge++]=lt,lt=lt>>8,we[ge++]=lt,ge}function _e(we,ue,ge,Le,ke){ut(ue,Le,ke,we,ge,7);var it=Number(ue&BigInt(4294967295));we[ge+7]=it,it=it>>8,we[ge+6]=it,it=it>>8,we[ge+5]=it,it=it>>8,we[ge+4]=it;var lt=Number(ue>>BigInt(32)&BigInt(4294967295));return we[ge+3]=lt,lt=lt>>8,we[ge+2]=lt,lt=lt>>8,we[ge+1]=lt,lt=lt>>8,we[ge]=lt,ge+8}b.prototype.writeBigUInt64LE=Xe(function(ue){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,ue,ge,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Xe(function(ue){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return _e(this,ue,ge,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(ue,ge,Le,ke){if(ue=+ue,ge=ge>>>0,!ke){var it=Math.pow(2,8*Le-1);xe(this,ue,ge,Le,it-1,-it)}var lt=0,bt=1,Rt=0;for(this[ge]=ue&255;++lt<Le&&(bt*=256);)ue<0&&Rt===0&&this[ge+lt-1]!==0&&(Rt=1),this[ge+lt]=(ue/bt>>0)-Rt&255;return ge+Le},b.prototype.writeIntBE=function(ue,ge,Le,ke){if(ue=+ue,ge=ge>>>0,!ke){var it=Math.pow(2,8*Le-1);xe(this,ue,ge,Le,it-1,-it)}var lt=Le-1,bt=1,Rt=0;for(this[ge+lt]=ue&255;--lt>=0&&(bt*=256);)ue<0&&Rt===0&&this[ge+lt+1]!==0&&(Rt=1),this[ge+lt]=(ue/bt>>0)-Rt&255;return ge+Le},b.prototype.writeInt8=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,1,127,-128),ue<0&&(ue=255+ue+1),this[ge]=ue&255,ge+1},b.prototype.writeInt16LE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,2,32767,-32768),this[ge]=ue&255,this[ge+1]=ue>>>8,ge+2},b.prototype.writeInt16BE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,2,32767,-32768),this[ge]=ue>>>8,this[ge+1]=ue&255,ge+2},b.prototype.writeInt32LE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,4,2147483647,-2147483648),this[ge]=ue&255,this[ge+1]=ue>>>8,this[ge+2]=ue>>>16,this[ge+3]=ue>>>24,ge+4},b.prototype.writeInt32BE=function(ue,ge,Le){return ue=+ue,ge=ge>>>0,Le||xe(this,ue,ge,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),this[ge]=ue>>>24,this[ge+1]=ue>>>16,this[ge+2]=ue>>>8,this[ge+3]=ue&255,ge+4},b.prototype.writeBigInt64LE=Xe(function(ue){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,ue,ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Xe(function(ue){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return _e(this,ue,ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(we,ue,ge,Le,ke,it){if(ge+Le>we.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("Index out of range")}function ye(we,ue,ge,Le,ke){return ue=+ue,ge=ge>>>0,ke||Te(we,ue,ge,4),M.write(we,ue,ge,Le,23,4),ge+4}b.prototype.writeFloatLE=function(ue,ge,Le){return ye(this,ue,ge,!0,Le)},b.prototype.writeFloatBE=function(ue,ge,Le){return ye(this,ue,ge,!1,Le)};function Ae(we,ue,ge,Le,ke){return ue=+ue,ge=ge>>>0,ke||Te(we,ue,ge,8),M.write(we,ue,ge,Le,52,8),ge+8}b.prototype.writeDoubleLE=function(ue,ge,Le){return Ae(this,ue,ge,!0,Le)},b.prototype.writeDoubleBE=function(ue,ge,Le){return Ae(this,ue,ge,!1,Le)},b.prototype.copy=function(ue,ge,Le,ke){if(!b.isBuffer(ue))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!ke&&ke!==0&&(ke=this.length),ge>=ue.length&&(ge=ue.length),ge||(ge=0),ke>0&&ke<Le&&(ke=Le),ke===Le||ue.length===0||this.length===0)return 0;if(ge<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),ue.length-ge<ke-Le&&(ke=ue.length-ge+Le);var it=ke-Le;return this===ue&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ge,Le,ke):Uint8Array.prototype.set.call(ue,this.subarray(Le,ke),ge),it},b.prototype.fill=function(ue,ge,Le,ke){if(typeof ue=="string"){if(typeof ge=="string"?(ke=ge,ge=0,Le=this.length):typeof Le=="string"&&(ke=Le,Le=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!b.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(ue.length===1){var it=ue.charCodeAt(0);(ke==="utf8"&&it<128||ke==="latin1")&&(ue=it)}}else typeof ue=="number"?ue=ue&255:typeof ue=="boolean"&&(ue=Number(ue));if(ge<0||this.length<ge||this.length<Le)throw new RangeError("Out of range index");if(Le<=ge)return this;ge=ge>>>0,Le=Le===void 0?this.length:Le>>>0,ue||(ue=0);var lt;if(typeof ue=="number")for(lt=ge;lt<Le;++lt)this[lt]=ue;else{var bt=b.isBuffer(ue)?ue:b.from(ue,ke),Rt=bt.length;if(Rt===0)throw new TypeError('The value "'+ue+'" is invalid for argument "value"');for(lt=0;lt<Le-ge;++lt)this[lt+ge]=bt[lt%Rt]}return this};var Be={};function Ue(we,ue,ge){Be[we]=function(Le){s(it,Le);var ke=u(it);function it(){var lt;return r(this,it),lt=ke.call(this),Object.defineProperty(h(lt),"message",{value:ue.apply(h(lt),arguments),writable:!0,configurable:!0}),lt.name="".concat(lt.name," [").concat(we,"]"),lt.stack,delete lt.name,lt}return a(it,[{key:"code",get:function(){return we},set:function(bt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:bt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(we,"]: ").concat(this.message)}}]),it}(ge)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?"".concat(we," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(we,ue){return'The "'.concat(we,'" argument must be of type number. Received type ').concat(o(ue))},TypeError),Ue("ERR_OUT_OF_RANGE",function(we,ue,ge){var Le='The value of "'.concat(we,'" is out of range.'),ke=ge;return Number.isInteger(ge)&&Math.abs(ge)>Math.pow(2,32)?ke=De(String(ge)):typeof ge=="bigint"&&(ke=String(ge),(ge>Math.pow(BigInt(2),BigInt(32))||ge<-Math.pow(BigInt(2),BigInt(32)))&&(ke=De(ke)),ke+="n"),Le+=" It must be ".concat(ue,". Received ").concat(ke),Le},RangeError);function De(we){for(var ue="",ge=we.length,Le=we[0]==="-"?1:0;ge>=Le+4;ge-=3)ue="_".concat(we.slice(ge-3,ge)).concat(ue);return"".concat(we.slice(0,ge)).concat(ue)}function He(we,ue,ge){et(ue,"offset"),(we[ue]===void 0||we[ue+ge]===void 0)&&Qe(ue,we.length-(ge+1))}function ut(we,ue,ge,Le,ke,it){if(we>ge||we<ue){var lt=typeof ue=="bigint"?"n":"",bt;throw it>3?ue===0||ue===BigInt(0)?bt=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((it+1)*8).concat(lt):bt=">= -(2".concat(lt," ** ").concat((it+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((it+1)*8-1).concat(lt):bt=">= ".concat(ue).concat(lt," and <= ").concat(ge).concat(lt),new Be.ERR_OUT_OF_RANGE("value",bt,we)}He(Le,ke,it)}function et(we,ue){if(typeof we!="number")throw new Be.ERR_INVALID_ARG_TYPE(ue,"number",we)}function Qe(we,ue,ge){throw Math.floor(we)!==we?(et(we,ge),new Be.ERR_OUT_OF_RANGE(ge||"offset","an integer",we)):ue<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(ge||"offset",">= ".concat(ge?1:0," and <= ").concat(ue),we)}var qe=/[^+/0-9A-Za-z-_]/g;function ft(we){if(we=we.split("=")[0],we=we.trim().replace(qe,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function gt(we,ue){ue=ue||1/0;for(var ge,Le=we.length,ke=null,it=[],lt=0;lt<Le;++lt){if(ge=we.charCodeAt(lt),ge>55295&&ge<57344){if(!ke){if(ge>56319){(ue-=3)>-1&&it.push(239,191,189);continue}else if(lt+1===Le){(ue-=3)>-1&&it.push(239,191,189);continue}ke=ge;continue}if(ge<56320){(ue-=3)>-1&&it.push(239,191,189),ke=ge;continue}ge=(ke-55296<<10|ge-56320)+65536}else ke&&(ue-=3)>-1&&it.push(239,191,189);if(ke=null,ge<128){if((ue-=1)<0)break;it.push(ge)}else if(ge<2048){if((ue-=2)<0)break;it.push(ge>>6|192,ge&63|128)}else if(ge<65536){if((ue-=3)<0)break;it.push(ge>>12|224,ge>>6&63|128,ge&63|128)}else if(ge<1114112){if((ue-=4)<0)break;it.push(ge>>18|240,ge>>12&63|128,ge>>6&63|128,ge&63|128)}else throw new Error("Invalid code point")}return it}function xt(we){for(var ue=[],ge=0;ge<we.length;++ge)ue.push(we.charCodeAt(ge)&255);return ue}function Ct(we,ue){for(var ge,Le,ke,it=[],lt=0;lt<we.length&&!((ue-=2)<0);++lt)ge=we.charCodeAt(lt),Le=ge>>8,ke=ge%256,it.push(ke),it.push(Le);return it}function Je(we){return d.toByteArray(ft(we))}function ze(we,ue,ge,Le){var ke;for(ke=0;ke<Le&&!(ke+ge>=ue.length||ke>=we.length);++ke)ue[ke+ge]=we[ke];return ke}function Fe(we,ue){return we instanceof ue||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===ue.name}function $e(we){return we!==we}var at=function(){for(var we="0123456789abcdef",ue=new Array(256),ge=0;ge<16;++ge)for(var Le=ge*16,ke=0;ke<16;++ke)ue[Le+ke]=we[ge]+we[ke];return ue}();function Xe(we){return typeof BigInt>"u"?Pe:we}function Pe(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=l,v.exports.isMobile=l,v.exports.default=l;var y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function l(a){a||(a={});var s=a.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var c=y.test(s)&&!t.test(s)||!!a.tablet&&r.test(s);return!c&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(c=!0),c}},3910:function(v,y){y.byteLength=m,y.toByteArray=T,y.fromByteArray=d;for(var t=[],r=[],l=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)t[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function u(M){var A=M.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=M.indexOf("=");E===-1&&(E=A);var g=E===A?0:4-E%4;return[E,g]}function m(M){var A=u(M),E=A[0],g=A[1];return(E+g)*3/4-g}function h(M,A,E){return(A+E)*3/4-E}function T(M){var A,E=u(M),g=E[0],S=E[1],b=new l(h(M,g,S)),i=0,P=S>0?g-4:g,x;for(x=0;x<P;x+=4)A=r[M.charCodeAt(x)]<<18|r[M.charCodeAt(x+1)]<<12|r[M.charCodeAt(x+2)]<<6|r[M.charCodeAt(x+3)],b[i++]=A>>16&255,b[i++]=A>>8&255,b[i++]=A&255;return S===2&&(A=r[M.charCodeAt(x)]<<2|r[M.charCodeAt(x+1)]>>4,b[i++]=A&255),S===1&&(A=r[M.charCodeAt(x)]<<10|r[M.charCodeAt(x+1)]<<4|r[M.charCodeAt(x+2)]>>2,b[i++]=A>>8&255,b[i++]=A&255),b}function f(M){return t[M>>18&63]+t[M>>12&63]+t[M>>6&63]+t[M&63]}function o(M,A,E){for(var g,S=[],b=A;b<E;b+=3)g=(M[b]<<16&16711680)+(M[b+1]<<8&65280)+(M[b+2]&255),S.push(f(g));return S.join("")}function d(M){for(var A,E=M.length,g=E%3,S=[],b=16383,i=0,P=E-g;i<P;i+=b)S.push(o(M,i,i+b>P?P:i+b));return g===1?(A=M[E-1],S.push(t[A>>2]+t[A<<4&63]+"==")):g===2&&(A=(M[E-2]<<8)+M[E-1],S.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),S.join("")}},3187:function(v,y){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */y.read=function(t,r,l,a,s){var c,u,m=s*8-a-1,h=(1<<m)-1,T=h>>1,f=-7,o=l?s-1:0,d=l?-1:1,M=t[r+o];for(o+=d,c=M&(1<<-f)-1,M>>=-f,f+=m;f>0;c=c*256+t[r+o],o+=d,f-=8);for(u=c&(1<<-f)-1,c>>=-f,f+=a;f>0;u=u*256+t[r+o],o+=d,f-=8);if(c===0)c=1-T;else{if(c===h)return u?NaN:(M?-1:1)*(1/0);u=u+Math.pow(2,a),c=c-T}return(M?-1:1)*u*Math.pow(2,c-a)},y.write=function(t,r,l,a,s,c){var u,m,h,T=c*8-s-1,f=(1<<T)-1,o=f>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=a?0:c-1,A=a?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+o>=1?r+=d/h:r+=d*Math.pow(2,1-o),r*h>=2&&(u++,h/=2),u+o>=f?(m=0,u=f):u+o>=1?(m=(r*h-1)*Math.pow(2,s),u=u+o):(m=r*Math.pow(2,o-1)*Math.pow(2,s),u=0));s>=8;t[l+M]=m&255,M+=A,m/=256,s-=8);for(u=u<<s|m,T+=s;T>0;t[l+M]=u&255,M+=A,u/=256,T-=8);t[l+M-A]|=E*128}},1152:function(v,y,t){v.exports=u;var r=t(3440),l=t(7774),a=t(9298);function s(m,h){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(T){return m[T]}),this._mode=h,this._active=m[h],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=s.prototype;c.flush=function(m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(m)},c.idle=function(m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(m)},c.lookAt=function(m,h,T,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(m,h,T,f)},c.rotate=function(m,h,T,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(m,h,T,f)},c.pan=function(m,h,T,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(m,h,T,f)},c.translate=function(m,h,T,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(m,h,T,f)},c.setMatrix=function(m,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setMatrix(m,h)},c.setDistanceLimits=function(m,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setDistanceLimits(m,h)},c.setDistance=function(m,h){for(var T=this._controllerList,f=0;f<T.length;++f)T[f].setDistance(m,h)},c.recalcMatrix=function(m){this._active.recalcMatrix(m)},c.getDistance=function(m){return this._active.getDistance(m)},c.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},c.lastT=function(){return this._active.lastT()},c.setMode=function(m){if(m!==this._mode){var h=this._controllerNames.indexOf(m);if(!(h<0)){var T=this._active,f=this._controllerList[h],o=Math.max(T.lastT(),f.lastT());T.recalcMatrix(o),f.setMatrix(o,T.computedMatrix),this._active=f,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function u(m){m=m||{};var h=m.eye||[0,0,1],T=m.center||[0,0,0],f=m.up||[0,1,0],o=m.distanceLimits||[0,1/0],d=m.mode||"turntable",M=r(),A=l(),E=a();return M.setDistanceLimits(o[0],o[1]),M.lookAt(0,h,T,f),A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,T,f),E.setDistanceLimits(o[0],o[1]),E.lookAt(0,h,T,f),new s({turntable:M,orbit:A,matrix:E},d)}},8126:function(v,y,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,l=t(5827),a=t(2944),s=new r;function c(u){var m=s.get(u),h=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!h||!u.isBuffer(h)){var T=l(u,new Float32Array([-1,-1,-1,4,4,-1]));m=a(u,[{buffer:T,type:u.FLOAT,size:2}]),m._triangleBuffer=T,s.set(u,m)}m.bind(),u.drawArrays(u.TRIANGLES,0,3),m.unbind()}v.exports=c},8008:function(v,y,t){var r=t(4930);v.exports=l;function l(a,s,c){s=typeof s=="number"?s:1,c=c||": ";var u=a.split(/\r?\n/),m=String(u.length+s-1).length;return u.map(function(h,T){var f=T+s,o=String(f).length,d=r(f,m-o);return d+c+h}).join(`
`)}},2153:function(v,y,t){v.exports=a;var r=t(417);function l(s,c){for(var u=new Array(c+1),m=0;m<s.length;++m)u[m]=s[m];for(var m=0;m<=s.length;++m){for(var h=s.length;h<=c;++h){for(var T=new Array(c),f=0;f<c;++f)T[f]=Math.pow(h+1-m,f);u[h]=T}var o=r.apply(void 0,u);if(o)return!0}return!1}function a(s){var c=s.length;if(c===0)return[];if(c===1)return[0];for(var u=s[0].length,m=[s[0]],h=[0],T=1;T<c;++T){if(m.push(s[T]),!l(m,u)){m.pop();continue}if(h.push(T),h.length===u+1)return h}return h}},4653:function(v,y,t){v.exports=a;var r=t(4419),l=t(1778);function a(s,c){return r(c).filter(function(u){for(var m=new Array(u.length),h=0;h<u.length;++h)m[h]=c[u[h]];return l(m)*s<1})}},2350:function(v,y,t){v.exports=a;var r=t(4653),l=t(8691);function a(s,c){return l(r(s,c))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,y,t){v.exports=a;var r=t(6606);function l(s){for(var c=0,u=0;u<s.length;++u)c+=s[u];return c}function a(s,c){for(var u=c.length,m=new Array(u+1),h=0;h<u;++h){for(var T=new Array(u+1),f=0;f<=u;++f)T[f]=s[f][h];m[h]=T}m[u]=new Array(u+1);for(var h=0;h<=u;++h)m[u][h]=1;for(var o=new Array(u+1),h=0;h<u;++h)o[h]=c[h];o[u]=1;var d=r(m,o),M=l(d[u+1]);M===0&&(M=1);for(var A=new Array(u+1),h=0;h<=u;++h)A[h]=l(d[h])/M;return A}},1539:function(v,y,t){var r=t(8524);v.exports=l;function l(a,s){return r(a[0].mul(s[1]).add(s[0].mul(a[1])),a[1].mul(s[1]))}},8846:function(v){v.exports=y;function y(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,y,t){var r=t(8524);v.exports=l;function l(a,s){return r(a[0].mul(s[1]),a[1].mul(s[0]))}},5125:function(v,y,t){var r=t(234),l=t(3218),a=t(5514),s=t(2813),c=t(8524),u=t(9189);v.exports=m;function m(h,T){if(r(h))return T?u(h,m(T)):[h[0].clone(),h[1].clone()];var f=0,o,d;if(l(h))o=h.clone();else if(typeof h=="string")o=s(h);else{if(h===0)return[a(0),a(1)];if(h===Math.floor(h))o=a(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),f-=256;o=a(h)}}if(r(T))o.mul(T[1]),d=T[0].clone();else if(l(T))d=T.clone();else if(typeof T=="string")d=s(T);else if(!T)d=a(1);else if(T===Math.floor(T))d=a(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),f+=256;d=a(T)}return f>0?o=o.ushln(f):f<0&&(d=d.ushln(-f)),c(o,d)}},234:function(v,y,t){var r=t(3218);v.exports=l;function l(a){return Array.isArray(a)&&a.length===2&&r(a[0])&&r(a[1])}},4275:function(v,y,t){var r=t(1928);v.exports=l;function l(a){return a.cmp(new r(0))}},9958:function(v,y,t){var r=t(4275);v.exports=l;function l(a){var s=a.length,c=a.words,u=0;if(s===1)u=c[0];else if(s===2)u=c[0]+c[1]*67108864;else for(var m=0;m<s;m++){var h=c[m];u+=h*Math.pow(67108864,m)}return r(a)*u}},1112:function(v,y,t){var r=t(8362),l=t(2288).countTrailingZeros;v.exports=a;function a(s){var c=l(r.lo(s));if(c<32)return c;var u=l(r.hi(s));return u>20?52:u+32}},3218:function(v,y,t){t(1928),v.exports=r;function r(l){return l&&typeof l=="object"&&!!l.words}},5514:function(v,y,t){var r=t(1928),l=t(8362);v.exports=a;function a(s){var c=l.exponent(s);return c<52?new r(s):new r(s*Math.pow(2,52-c)).ushln(c-52)}},8524:function(v,y,t){var r=t(5514),l=t(4275);v.exports=a;function a(s,c){var u=l(s),m=l(c);if(u===0)return[r(0),r(1)];if(m===0)return[r(0),r(0)];m<0&&(s=s.neg(),c=c.neg());var h=s.gcd(c);return h.cmpn(1)?[s.div(h),c.div(h)]:[s,c]}},2813:function(v,y,t){var r=t(1928);v.exports=l;function l(a){return new r(a)}},3962:function(v,y,t){var r=t(8524);v.exports=l;function l(a,s){return r(a[0].mul(s[0]),a[1].mul(s[1]))}},4951:function(v,y,t){var r=t(4275);v.exports=l;function l(a){return r(a[0])*r(a[1])}},4354:function(v,y,t){var r=t(8524);v.exports=l;function l(a,s){return r(a[0].mul(s[1]).sub(a[1].mul(s[0])),a[1].mul(s[1]))}},7999:function(v,y,t){var r=t(9958),l=t(1112);v.exports=a;function a(s){var c=s[0],u=s[1];if(c.cmpn(0)===0)return 0;var m=c.abs().divmod(u.abs()),h=m.div,T=r(h),f=m.mod,o=c.negative!==u.negative?-1:1;if(f.cmpn(0)===0)return o*T;if(T){var d=l(T)+4,M=r(f.ushln(d).divRound(u));return o*(T+M*Math.pow(2,-d))}else{var A=u.bitLength()-f.bitLength()+53,M=r(f.ushln(A).divRound(u));return A<1023?o*M*Math.pow(2,-A):(M*=Math.pow(2,-1023),o*M*Math.pow(2,1023-A))}}},5070:function(v){function y(c,u,m,h,T){for(var f=T+1;h<=T;){var o=h+T>>>1,d=c[o],M=m!==void 0?m(d,u):d-u;M>=0?(f=o,T=o-1):h=o+1}return f}function t(c,u,m,h,T){for(var f=T+1;h<=T;){var o=h+T>>>1,d=c[o],M=m!==void 0?m(d,u):d-u;M>0?(f=o,T=o-1):h=o+1}return f}function r(c,u,m,h,T){for(var f=h-1;h<=T;){var o=h+T>>>1,d=c[o],M=m!==void 0?m(d,u):d-u;M<0?(f=o,h=o+1):T=o-1}return f}function l(c,u,m,h,T){for(var f=h-1;h<=T;){var o=h+T>>>1,d=c[o],M=m!==void 0?m(d,u):d-u;M<=0?(f=o,h=o+1):T=o-1}return f}function a(c,u,m,h,T){for(;h<=T;){var f=h+T>>>1,o=c[f],d=m!==void 0?m(o,u):o-u;if(d===0)return f;d<=0?h=f+1:T=f-1}return-1}function s(c,u,m,h,T,f){return typeof m=="function"?f(c,u,m,h===void 0?0:h|0,T===void 0?c.length-1:T|0):f(c,u,void 0,m===void 0?0:m|0,h===void 0?c.length-1:h|0)}v.exports={ge:function(c,u,m,h,T){return s(c,u,m,h,T,y)},gt:function(c,u,m,h,T){return s(c,u,m,h,T,t)},lt:function(c,u,m,h,T){return s(c,u,m,h,T,r)},le:function(c,u,m,h,T){return s(c,u,m,h,T,l)},eq:function(c,u,m,h,T){return s(c,u,m,h,T,a)}}},2288:function(v,y){var t=32;y.INT_BITS=t,y.INT_MAX=2147483647,y.INT_MIN=-1<<t-1,y.sign=function(a){return(a>0)-(a<0)},y.abs=function(a){var s=a>>t-1;return(a^s)-s},y.min=function(a,s){return s^(a^s)&-(a<s)},y.max=function(a,s){return a^(a^s)&-(a<s)},y.isPow2=function(a){return!(a&a-1)&&!!a},y.log2=function(a){var s,c;return s=(a>65535)<<4,a>>>=s,c=(a>255)<<3,a>>>=c,s|=c,c=(a>15)<<2,a>>>=c,s|=c,c=(a>3)<<1,a>>>=c,s|=c,s|a>>1},y.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},y.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function r(a){var s=32;return a&=-a,a&&s--,a&65535&&(s-=16),a&16711935&&(s-=8),a&252645135&&(s-=4),a&858993459&&(s-=2),a&1431655765&&(s-=1),s}y.countTrailingZeros=r,y.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},y.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},y.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var l=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,m=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--m;a[s]=u<<m&255}})(l),y.reverse=function(a){return l[a&255]<<24|l[a>>>8&255]<<16|l[a>>>16&255]<<8|l[a>>>24&255]},y.interleave2=function(a,s){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,a|s<<1},y.deinterleave2=function(a,s){return a=a>>>s&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},y.interleave3=function(a,s,c){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,a|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,a|c<<2},y.deinterleave3=function(a,s){return a=a>>>s&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},y.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},1928:function(v,y,t){v=t.nmd(v),function(r,l){function a(O,F){if(!O)throw new Error(F||"Assertion failed")}function s(O,F){O.super_=F;var N=function(){};N.prototype=F.prototype,O.prototype=new N,O.prototype.constructor=O}function c(O,F,N){if(c.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((F==="le"||F==="be")&&(N=F,F=10),this._init(O||0,F||10,N||"be"))}typeof r=="object"?r.exports=c:l.BN=c,c.BN=c,c.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}c.isBN=function(F){return F instanceof c?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===c.wordSize&&Array.isArray(F.words)},c.max=function(F,N){return F.cmp(N)>0?F:N},c.min=function(F,N){return F.cmp(N)<0?F:N},c.prototype._init=function(F,N,Q){if(typeof F=="number")return this._initNumber(F,N,Q);if(typeof F=="object")return this._initArray(F,N,Q);N==="hex"&&(N=16),a(N===(N|0)&&N>=2&&N<=36),F=F.toString().replace(/\s+/g,"");var $=0;F[0]==="-"&&($++,this.negative=1),$<F.length&&(N===16?this._parseHex(F,$,Q):(this._parseBase(F,N,$),Q==="le"&&this._initArray(this.toArray(),N,Q)))},c.prototype._initNumber=function(F,N,Q){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(a(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),Q==="le"&&this._initArray(this.toArray(),N,Q)},c.prototype._initArray=function(F,N,Q){if(a(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var j,ee,oe=0;if(Q==="be")for($=F.length-1,j=0;$>=0;$-=3)ee=F[$]|F[$-1]<<8|F[$-2]<<16,this.words[j]|=ee<<oe&67108863,this.words[j+1]=ee>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,j++);else if(Q==="le")for($=0,j=0;$<F.length;$+=3)ee=F[$]|F[$+1]<<8|F[$+2]<<16,this.words[j]|=ee<<oe&67108863,this.words[j+1]=ee>>>26-oe&67108863,oe+=24,oe>=26&&(oe-=26,j++);return this.strip()};function m(O,F){var N=O.charCodeAt(F);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function h(O,F,N){var Q=m(O,N);return N-1>=F&&(Q|=m(O,N-1)<<4),Q}c.prototype._parseHex=function(F,N,Q){this.length=Math.ceil((F.length-N)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var j=0,ee=0,oe;if(Q==="be")for($=F.length-1;$>=N;$-=2)oe=h(F,N,$)<<j,this.words[ee]|=oe&67108863,j>=18?(j-=18,ee+=1,this.words[ee]|=oe>>>26):j+=8;else{var Y=F.length-N;for($=Y%2===0?N+1:N;$<F.length;$+=2)oe=h(F,N,$)<<j,this.words[ee]|=oe&67108863,j>=18?(j-=18,ee+=1,this.words[ee]|=oe>>>26):j+=8}this.strip()};function T(O,F,N,Q){for(var $=0,j=Math.min(O.length,N),ee=F;ee<j;ee++){var oe=O.charCodeAt(ee)-48;$*=Q,oe>=49?$+=oe-49+10:oe>=17?$+=oe-17+10:$+=oe}return $}c.prototype._parseBase=function(F,N,Q){this.words=[0],this.length=1;for(var $=0,j=1;j<=67108863;j*=N)$++;$--,j=j/N|0;for(var ee=F.length-Q,oe=ee%$,Y=Math.min(ee,ee-oe)+Q,V=0,W=Q;W<Y;W+=$)V=T(F,W,W+$,N),this.imuln(j),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(oe!==0){var X=1;for(V=T(F,W,F.length,N),W=0;W<oe;W++)X*=N;this.imuln(X),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this.strip()},c.prototype.copy=function(F){F.words=new Array(this.length);for(var N=0;N<this.length;N++)F.words[N]=this.words[N];F.length=this.length,F.negative=this.negative,F.red=this.red},c.prototype.clone=function(){var F=new c(null);return this.copy(F),F},c.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(F,N){F=F||10,N=N|0||1;var Q;if(F===16||F==="hex"){Q="";for(var $=0,j=0,ee=0;ee<this.length;ee++){var oe=this.words[ee],Y=((oe<<$|j)&16777215).toString(16);j=oe>>>24-$&16777215,j!==0||ee!==this.length-1?Q=f[6-Y.length]+Y+Q:Q=Y+Q,$+=2,$>=26&&($-=26,ee--)}for(j!==0&&(Q=j.toString(16)+Q);Q.length%N!==0;)Q="0"+Q;return this.negative!==0&&(Q="-"+Q),Q}if(F===(F|0)&&F>=2&&F<=36){var V=o[F],W=d[F];Q="";var X=this.clone();for(X.negative=0;!X.isZero();){var re=X.modn(W).toString(F);X=X.idivn(W),X.isZero()?Q=re+Q:Q=f[V-re.length]+re+Q}for(this.isZero()&&(Q="0"+Q);Q.length%N!==0;)Q="0"+Q;return this.negative!==0&&(Q="-"+Q),Q}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(F,N){return a(typeof u<"u"),this.toArrayLike(u,F,N)},c.prototype.toArray=function(F,N){return this.toArrayLike(Array,F,N)},c.prototype.toArrayLike=function(F,N,Q){var $=this.byteLength(),j=Q||Math.max(1,$);a($<=j,"byte array longer than desired length"),a(j>0,"Requested array length <= 0"),this.strip();var ee=N==="le",oe=new F(j),Y,V,W=this.clone();if(ee){for(V=0;!W.isZero();V++)Y=W.andln(255),W.iushrn(8),oe[V]=Y;for(;V<j;V++)oe[V]=0}else{for(V=0;V<j-$;V++)oe[V]=0;for(V=0;!W.isZero();V++)Y=W.andln(255),W.iushrn(8),oe[j-V-1]=Y}return oe},Math.clz32?c.prototype._countBits=function(F){return 32-Math.clz32(F)}:c.prototype._countBits=function(F){var N=F,Q=0;return N>=4096&&(Q+=13,N>>>=13),N>=64&&(Q+=7,N>>>=7),N>=8&&(Q+=4,N>>>=4),N>=2&&(Q+=2,N>>>=2),Q+N},c.prototype._zeroBits=function(F){if(F===0)return 26;var N=F,Q=0;return N&8191||(Q+=13,N>>>=13),N&127||(Q+=7,N>>>=7),N&15||(Q+=4,N>>>=4),N&3||(Q+=2,N>>>=2),N&1||Q++,Q},c.prototype.bitLength=function(){var F=this.words[this.length-1],N=this._countBits(F);return(this.length-1)*26+N};function M(O){for(var F=new Array(O.bitLength()),N=0;N<F.length;N++){var Q=N/26|0,$=N%26;F[N]=(O.words[Q]&1<<$)>>>$}return F}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,N=0;N<this.length;N++){var Q=this._zeroBits(this.words[N]);if(F+=Q,Q!==26)break}return F},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},c.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var N=0;N<F.length;N++)this.words[N]=this.words[N]|F.words[N];return this.strip()},c.prototype.ior=function(F){return a((this.negative|F.negative)===0),this.iuor(F)},c.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},c.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},c.prototype.iuand=function(F){var N;this.length>F.length?N=F:N=this;for(var Q=0;Q<N.length;Q++)this.words[Q]=this.words[Q]&F.words[Q];return this.length=N.length,this.strip()},c.prototype.iand=function(F){return a((this.negative|F.negative)===0),this.iuand(F)},c.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},c.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},c.prototype.iuxor=function(F){var N,Q;this.length>F.length?(N=this,Q=F):(N=F,Q=this);for(var $=0;$<Q.length;$++)this.words[$]=N.words[$]^Q.words[$];if(this!==N)for(;$<N.length;$++)this.words[$]=N.words[$];return this.length=N.length,this.strip()},c.prototype.ixor=function(F){return a((this.negative|F.negative)===0),this.iuxor(F)},c.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},c.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},c.prototype.inotn=function(F){a(typeof F=="number"&&F>=0);var N=Math.ceil(F/26)|0,Q=F%26;this._expand(N),Q>0&&N--;for(var $=0;$<N;$++)this.words[$]=~this.words[$]&67108863;return Q>0&&(this.words[$]=~this.words[$]&67108863>>26-Q),this.strip()},c.prototype.notn=function(F){return this.clone().inotn(F)},c.prototype.setn=function(F,N){a(typeof F=="number"&&F>=0);var Q=F/26|0,$=F%26;return this._expand(Q+1),N?this.words[Q]=this.words[Q]|1<<$:this.words[Q]=this.words[Q]&~(1<<$),this.strip()},c.prototype.iadd=function(F){var N;if(this.negative!==0&&F.negative===0)return this.negative=0,N=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,N=this.isub(F),F.negative=1,N._normSign();var Q,$;this.length>F.length?(Q=this,$=F):(Q=F,$=this);for(var j=0,ee=0;ee<$.length;ee++)N=(Q.words[ee]|0)+($.words[ee]|0)+j,this.words[ee]=N&67108863,j=N>>>26;for(;j!==0&&ee<Q.length;ee++)N=(Q.words[ee]|0)+j,this.words[ee]=N&67108863,j=N>>>26;if(this.length=Q.length,j!==0)this.words[this.length]=j,this.length++;else if(Q!==this)for(;ee<Q.length;ee++)this.words[ee]=Q.words[ee];return this},c.prototype.add=function(F){var N;return F.negative!==0&&this.negative===0?(F.negative=0,N=this.sub(F),F.negative^=1,N):F.negative===0&&this.negative!==0?(this.negative=0,N=F.sub(this),this.negative=1,N):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},c.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var N=this.iadd(F);return F.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var Q=this.cmp(F);if(Q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,j;Q>0?($=this,j=F):($=F,j=this);for(var ee=0,oe=0;oe<j.length;oe++)N=($.words[oe]|0)-(j.words[oe]|0)+ee,ee=N>>26,this.words[oe]=N&67108863;for(;ee!==0&&oe<$.length;oe++)N=($.words[oe]|0)+ee,ee=N>>26,this.words[oe]=N&67108863;if(ee===0&&oe<$.length&&$!==this)for(;oe<$.length;oe++)this.words[oe]=$.words[oe];return this.length=Math.max(this.length,oe),$!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(F){return this.clone().isub(F)};function A(O,F,N){N.negative=F.negative^O.negative;var Q=O.length+F.length|0;N.length=Q,Q=Q-1|0;var $=O.words[0]|0,j=F.words[0]|0,ee=$*j,oe=ee&67108863,Y=ee/67108864|0;N.words[0]=oe;for(var V=1;V<Q;V++){for(var W=Y>>>26,X=Y&67108863,re=Math.min(V,F.length-1),ie=Math.max(0,V-O.length+1);ie<=re;ie++){var K=V-ie|0;$=O.words[K]|0,j=F.words[ie]|0,ee=$*j+X,W+=ee/67108864|0,X=ee&67108863}N.words[V]=X|0,Y=W|0}return Y!==0?N.words[V]=Y|0:N.length--,N.strip()}var E=function(F,N,Q){var $=F.words,j=N.words,ee=Q.words,oe=0,Y,V,W,X=$[0]|0,re=X&8191,ie=X>>>13,K=$[1]|0,q=K&8191,le=K>>>13,ae=$[2]|0,he=ae&8191,me=ae>>>13,Me=$[3]|0,xe=Me&8191,Ie=Me>>>13,_e=$[4]|0,Te=_e&8191,ye=_e>>>13,Ae=$[5]|0,Be=Ae&8191,Ue=Ae>>>13,De=$[6]|0,He=De&8191,ut=De>>>13,et=$[7]|0,Qe=et&8191,qe=et>>>13,ft=$[8]|0,gt=ft&8191,xt=ft>>>13,Ct=$[9]|0,Je=Ct&8191,ze=Ct>>>13,Fe=j[0]|0,$e=Fe&8191,at=Fe>>>13,Xe=j[1]|0,Pe=Xe&8191,we=Xe>>>13,ue=j[2]|0,ge=ue&8191,Le=ue>>>13,ke=j[3]|0,it=ke&8191,lt=ke>>>13,bt=j[4]|0,Rt=bt&8191,Ut=bt>>>13,Gt=j[5]|0,_t=Gt&8191,nr=Gt>>>13,lr=j[6]|0,zr=lr&8191,mt=lr>>>13,jt=j[7]|0,Yt=jt&8191,wr=jt>>>13,dr=j[8]|0,ct=dr&8191,ot=dr>>>13,wt=j[9]|0,Mt=wt&8191,Dt=wt>>>13;Q.negative=F.negative^N.negative,Q.length=19,Y=Math.imul(re,$e),V=Math.imul(re,at),V=V+Math.imul(ie,$e)|0,W=Math.imul(ie,at);var St=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(St>>>26)|0,St&=67108863,Y=Math.imul(q,$e),V=Math.imul(q,at),V=V+Math.imul(le,$e)|0,W=Math.imul(le,at),Y=Y+Math.imul(re,Pe)|0,V=V+Math.imul(re,we)|0,V=V+Math.imul(ie,Pe)|0,W=W+Math.imul(ie,we)|0;var Ot=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Y=Math.imul(he,$e),V=Math.imul(he,at),V=V+Math.imul(me,$e)|0,W=Math.imul(me,at),Y=Y+Math.imul(q,Pe)|0,V=V+Math.imul(q,we)|0,V=V+Math.imul(le,Pe)|0,W=W+Math.imul(le,we)|0,Y=Y+Math.imul(re,ge)|0,V=V+Math.imul(re,Le)|0,V=V+Math.imul(ie,ge)|0,W=W+Math.imul(ie,Le)|0;var Vt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Y=Math.imul(xe,$e),V=Math.imul(xe,at),V=V+Math.imul(Ie,$e)|0,W=Math.imul(Ie,at),Y=Y+Math.imul(he,Pe)|0,V=V+Math.imul(he,we)|0,V=V+Math.imul(me,Pe)|0,W=W+Math.imul(me,we)|0,Y=Y+Math.imul(q,ge)|0,V=V+Math.imul(q,Le)|0,V=V+Math.imul(le,ge)|0,W=W+Math.imul(le,Le)|0,Y=Y+Math.imul(re,it)|0,V=V+Math.imul(re,lt)|0,V=V+Math.imul(ie,it)|0,W=W+Math.imul(ie,lt)|0;var Qt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Y=Math.imul(Te,$e),V=Math.imul(Te,at),V=V+Math.imul(ye,$e)|0,W=Math.imul(ye,at),Y=Y+Math.imul(xe,Pe)|0,V=V+Math.imul(xe,we)|0,V=V+Math.imul(Ie,Pe)|0,W=W+Math.imul(Ie,we)|0,Y=Y+Math.imul(he,ge)|0,V=V+Math.imul(he,Le)|0,V=V+Math.imul(me,ge)|0,W=W+Math.imul(me,Le)|0,Y=Y+Math.imul(q,it)|0,V=V+Math.imul(q,lt)|0,V=V+Math.imul(le,it)|0,W=W+Math.imul(le,lt)|0,Y=Y+Math.imul(re,Rt)|0,V=V+Math.imul(re,Ut)|0,V=V+Math.imul(ie,Rt)|0,W=W+Math.imul(ie,Ut)|0;var Kt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Y=Math.imul(Be,$e),V=Math.imul(Be,at),V=V+Math.imul(Ue,$e)|0,W=Math.imul(Ue,at),Y=Y+Math.imul(Te,Pe)|0,V=V+Math.imul(Te,we)|0,V=V+Math.imul(ye,Pe)|0,W=W+Math.imul(ye,we)|0,Y=Y+Math.imul(xe,ge)|0,V=V+Math.imul(xe,Le)|0,V=V+Math.imul(Ie,ge)|0,W=W+Math.imul(Ie,Le)|0,Y=Y+Math.imul(he,it)|0,V=V+Math.imul(he,lt)|0,V=V+Math.imul(me,it)|0,W=W+Math.imul(me,lt)|0,Y=Y+Math.imul(q,Rt)|0,V=V+Math.imul(q,Ut)|0,V=V+Math.imul(le,Rt)|0,W=W+Math.imul(le,Ut)|0,Y=Y+Math.imul(re,_t)|0,V=V+Math.imul(re,nr)|0,V=V+Math.imul(ie,_t)|0,W=W+Math.imul(ie,nr)|0;var or=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(or>>>26)|0,or&=67108863,Y=Math.imul(He,$e),V=Math.imul(He,at),V=V+Math.imul(ut,$e)|0,W=Math.imul(ut,at),Y=Y+Math.imul(Be,Pe)|0,V=V+Math.imul(Be,we)|0,V=V+Math.imul(Ue,Pe)|0,W=W+Math.imul(Ue,we)|0,Y=Y+Math.imul(Te,ge)|0,V=V+Math.imul(Te,Le)|0,V=V+Math.imul(ye,ge)|0,W=W+Math.imul(ye,Le)|0,Y=Y+Math.imul(xe,it)|0,V=V+Math.imul(xe,lt)|0,V=V+Math.imul(Ie,it)|0,W=W+Math.imul(Ie,lt)|0,Y=Y+Math.imul(he,Rt)|0,V=V+Math.imul(he,Ut)|0,V=V+Math.imul(me,Rt)|0,W=W+Math.imul(me,Ut)|0,Y=Y+Math.imul(q,_t)|0,V=V+Math.imul(q,nr)|0,V=V+Math.imul(le,_t)|0,W=W+Math.imul(le,nr)|0,Y=Y+Math.imul(re,zr)|0,V=V+Math.imul(re,mt)|0,V=V+Math.imul(ie,zr)|0,W=W+Math.imul(ie,mt)|0;var Mr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,Y=Math.imul(Qe,$e),V=Math.imul(Qe,at),V=V+Math.imul(qe,$e)|0,W=Math.imul(qe,at),Y=Y+Math.imul(He,Pe)|0,V=V+Math.imul(He,we)|0,V=V+Math.imul(ut,Pe)|0,W=W+Math.imul(ut,we)|0,Y=Y+Math.imul(Be,ge)|0,V=V+Math.imul(Be,Le)|0,V=V+Math.imul(Ue,ge)|0,W=W+Math.imul(Ue,Le)|0,Y=Y+Math.imul(Te,it)|0,V=V+Math.imul(Te,lt)|0,V=V+Math.imul(ye,it)|0,W=W+Math.imul(ye,lt)|0,Y=Y+Math.imul(xe,Rt)|0,V=V+Math.imul(xe,Ut)|0,V=V+Math.imul(Ie,Rt)|0,W=W+Math.imul(Ie,Ut)|0,Y=Y+Math.imul(he,_t)|0,V=V+Math.imul(he,nr)|0,V=V+Math.imul(me,_t)|0,W=W+Math.imul(me,nr)|0,Y=Y+Math.imul(q,zr)|0,V=V+Math.imul(q,mt)|0,V=V+Math.imul(le,zr)|0,W=W+Math.imul(le,mt)|0,Y=Y+Math.imul(re,Yt)|0,V=V+Math.imul(re,wr)|0,V=V+Math.imul(ie,Yt)|0,W=W+Math.imul(ie,wr)|0;var Ve=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,Y=Math.imul(gt,$e),V=Math.imul(gt,at),V=V+Math.imul(xt,$e)|0,W=Math.imul(xt,at),Y=Y+Math.imul(Qe,Pe)|0,V=V+Math.imul(Qe,we)|0,V=V+Math.imul(qe,Pe)|0,W=W+Math.imul(qe,we)|0,Y=Y+Math.imul(He,ge)|0,V=V+Math.imul(He,Le)|0,V=V+Math.imul(ut,ge)|0,W=W+Math.imul(ut,Le)|0,Y=Y+Math.imul(Be,it)|0,V=V+Math.imul(Be,lt)|0,V=V+Math.imul(Ue,it)|0,W=W+Math.imul(Ue,lt)|0,Y=Y+Math.imul(Te,Rt)|0,V=V+Math.imul(Te,Ut)|0,V=V+Math.imul(ye,Rt)|0,W=W+Math.imul(ye,Ut)|0,Y=Y+Math.imul(xe,_t)|0,V=V+Math.imul(xe,nr)|0,V=V+Math.imul(Ie,_t)|0,W=W+Math.imul(Ie,nr)|0,Y=Y+Math.imul(he,zr)|0,V=V+Math.imul(he,mt)|0,V=V+Math.imul(me,zr)|0,W=W+Math.imul(me,mt)|0,Y=Y+Math.imul(q,Yt)|0,V=V+Math.imul(q,wr)|0,V=V+Math.imul(le,Yt)|0,W=W+Math.imul(le,wr)|0,Y=Y+Math.imul(re,ct)|0,V=V+Math.imul(re,ot)|0,V=V+Math.imul(ie,ct)|0,W=W+Math.imul(ie,ot)|0;var Ge=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,Y=Math.imul(Je,$e),V=Math.imul(Je,at),V=V+Math.imul(ze,$e)|0,W=Math.imul(ze,at),Y=Y+Math.imul(gt,Pe)|0,V=V+Math.imul(gt,we)|0,V=V+Math.imul(xt,Pe)|0,W=W+Math.imul(xt,we)|0,Y=Y+Math.imul(Qe,ge)|0,V=V+Math.imul(Qe,Le)|0,V=V+Math.imul(qe,ge)|0,W=W+Math.imul(qe,Le)|0,Y=Y+Math.imul(He,it)|0,V=V+Math.imul(He,lt)|0,V=V+Math.imul(ut,it)|0,W=W+Math.imul(ut,lt)|0,Y=Y+Math.imul(Be,Rt)|0,V=V+Math.imul(Be,Ut)|0,V=V+Math.imul(Ue,Rt)|0,W=W+Math.imul(Ue,Ut)|0,Y=Y+Math.imul(Te,_t)|0,V=V+Math.imul(Te,nr)|0,V=V+Math.imul(ye,_t)|0,W=W+Math.imul(ye,nr)|0,Y=Y+Math.imul(xe,zr)|0,V=V+Math.imul(xe,mt)|0,V=V+Math.imul(Ie,zr)|0,W=W+Math.imul(Ie,mt)|0,Y=Y+Math.imul(he,Yt)|0,V=V+Math.imul(he,wr)|0,V=V+Math.imul(me,Yt)|0,W=W+Math.imul(me,wr)|0,Y=Y+Math.imul(q,ct)|0,V=V+Math.imul(q,ot)|0,V=V+Math.imul(le,ct)|0,W=W+Math.imul(le,ot)|0,Y=Y+Math.imul(re,Mt)|0,V=V+Math.imul(re,Dt)|0,V=V+Math.imul(ie,Mt)|0,W=W+Math.imul(ie,Dt)|0;var Ft=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,Y=Math.imul(Je,Pe),V=Math.imul(Je,we),V=V+Math.imul(ze,Pe)|0,W=Math.imul(ze,we),Y=Y+Math.imul(gt,ge)|0,V=V+Math.imul(gt,Le)|0,V=V+Math.imul(xt,ge)|0,W=W+Math.imul(xt,Le)|0,Y=Y+Math.imul(Qe,it)|0,V=V+Math.imul(Qe,lt)|0,V=V+Math.imul(qe,it)|0,W=W+Math.imul(qe,lt)|0,Y=Y+Math.imul(He,Rt)|0,V=V+Math.imul(He,Ut)|0,V=V+Math.imul(ut,Rt)|0,W=W+Math.imul(ut,Ut)|0,Y=Y+Math.imul(Be,_t)|0,V=V+Math.imul(Be,nr)|0,V=V+Math.imul(Ue,_t)|0,W=W+Math.imul(Ue,nr)|0,Y=Y+Math.imul(Te,zr)|0,V=V+Math.imul(Te,mt)|0,V=V+Math.imul(ye,zr)|0,W=W+Math.imul(ye,mt)|0,Y=Y+Math.imul(xe,Yt)|0,V=V+Math.imul(xe,wr)|0,V=V+Math.imul(Ie,Yt)|0,W=W+Math.imul(Ie,wr)|0,Y=Y+Math.imul(he,ct)|0,V=V+Math.imul(he,ot)|0,V=V+Math.imul(me,ct)|0,W=W+Math.imul(me,ot)|0,Y=Y+Math.imul(q,Mt)|0,V=V+Math.imul(q,Dt)|0,V=V+Math.imul(le,Mt)|0,W=W+Math.imul(le,Dt)|0;var kt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(kt>>>26)|0,kt&=67108863,Y=Math.imul(Je,ge),V=Math.imul(Je,Le),V=V+Math.imul(ze,ge)|0,W=Math.imul(ze,Le),Y=Y+Math.imul(gt,it)|0,V=V+Math.imul(gt,lt)|0,V=V+Math.imul(xt,it)|0,W=W+Math.imul(xt,lt)|0,Y=Y+Math.imul(Qe,Rt)|0,V=V+Math.imul(Qe,Ut)|0,V=V+Math.imul(qe,Rt)|0,W=W+Math.imul(qe,Ut)|0,Y=Y+Math.imul(He,_t)|0,V=V+Math.imul(He,nr)|0,V=V+Math.imul(ut,_t)|0,W=W+Math.imul(ut,nr)|0,Y=Y+Math.imul(Be,zr)|0,V=V+Math.imul(Be,mt)|0,V=V+Math.imul(Ue,zr)|0,W=W+Math.imul(Ue,mt)|0,Y=Y+Math.imul(Te,Yt)|0,V=V+Math.imul(Te,wr)|0,V=V+Math.imul(ye,Yt)|0,W=W+Math.imul(ye,wr)|0,Y=Y+Math.imul(xe,ct)|0,V=V+Math.imul(xe,ot)|0,V=V+Math.imul(Ie,ct)|0,W=W+Math.imul(Ie,ot)|0,Y=Y+Math.imul(he,Mt)|0,V=V+Math.imul(he,Dt)|0,V=V+Math.imul(me,Mt)|0,W=W+Math.imul(me,Dt)|0;var Zt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,Y=Math.imul(Je,it),V=Math.imul(Je,lt),V=V+Math.imul(ze,it)|0,W=Math.imul(ze,lt),Y=Y+Math.imul(gt,Rt)|0,V=V+Math.imul(gt,Ut)|0,V=V+Math.imul(xt,Rt)|0,W=W+Math.imul(xt,Ut)|0,Y=Y+Math.imul(Qe,_t)|0,V=V+Math.imul(Qe,nr)|0,V=V+Math.imul(qe,_t)|0,W=W+Math.imul(qe,nr)|0,Y=Y+Math.imul(He,zr)|0,V=V+Math.imul(He,mt)|0,V=V+Math.imul(ut,zr)|0,W=W+Math.imul(ut,mt)|0,Y=Y+Math.imul(Be,Yt)|0,V=V+Math.imul(Be,wr)|0,V=V+Math.imul(Ue,Yt)|0,W=W+Math.imul(Ue,wr)|0,Y=Y+Math.imul(Te,ct)|0,V=V+Math.imul(Te,ot)|0,V=V+Math.imul(ye,ct)|0,W=W+Math.imul(ye,ot)|0,Y=Y+Math.imul(xe,Mt)|0,V=V+Math.imul(xe,Dt)|0,V=V+Math.imul(Ie,Mt)|0,W=W+Math.imul(Ie,Dt)|0;var tr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(tr>>>26)|0,tr&=67108863,Y=Math.imul(Je,Rt),V=Math.imul(Je,Ut),V=V+Math.imul(ze,Rt)|0,W=Math.imul(ze,Ut),Y=Y+Math.imul(gt,_t)|0,V=V+Math.imul(gt,nr)|0,V=V+Math.imul(xt,_t)|0,W=W+Math.imul(xt,nr)|0,Y=Y+Math.imul(Qe,zr)|0,V=V+Math.imul(Qe,mt)|0,V=V+Math.imul(qe,zr)|0,W=W+Math.imul(qe,mt)|0,Y=Y+Math.imul(He,Yt)|0,V=V+Math.imul(He,wr)|0,V=V+Math.imul(ut,Yt)|0,W=W+Math.imul(ut,wr)|0,Y=Y+Math.imul(Be,ct)|0,V=V+Math.imul(Be,ot)|0,V=V+Math.imul(Ue,ct)|0,W=W+Math.imul(Ue,ot)|0,Y=Y+Math.imul(Te,Mt)|0,V=V+Math.imul(Te,Dt)|0,V=V+Math.imul(ye,Mt)|0,W=W+Math.imul(ye,Dt)|0;var sr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(sr>>>26)|0,sr&=67108863,Y=Math.imul(Je,_t),V=Math.imul(Je,nr),V=V+Math.imul(ze,_t)|0,W=Math.imul(ze,nr),Y=Y+Math.imul(gt,zr)|0,V=V+Math.imul(gt,mt)|0,V=V+Math.imul(xt,zr)|0,W=W+Math.imul(xt,mt)|0,Y=Y+Math.imul(Qe,Yt)|0,V=V+Math.imul(Qe,wr)|0,V=V+Math.imul(qe,Yt)|0,W=W+Math.imul(qe,wr)|0,Y=Y+Math.imul(He,ct)|0,V=V+Math.imul(He,ot)|0,V=V+Math.imul(ut,ct)|0,W=W+Math.imul(ut,ot)|0,Y=Y+Math.imul(Be,Mt)|0,V=V+Math.imul(Be,Dt)|0,V=V+Math.imul(Ue,Mt)|0,W=W+Math.imul(Ue,Dt)|0;var rr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(rr>>>26)|0,rr&=67108863,Y=Math.imul(Je,zr),V=Math.imul(Je,mt),V=V+Math.imul(ze,zr)|0,W=Math.imul(ze,mt),Y=Y+Math.imul(gt,Yt)|0,V=V+Math.imul(gt,wr)|0,V=V+Math.imul(xt,Yt)|0,W=W+Math.imul(xt,wr)|0,Y=Y+Math.imul(Qe,ct)|0,V=V+Math.imul(Qe,ot)|0,V=V+Math.imul(qe,ct)|0,W=W+Math.imul(qe,ot)|0,Y=Y+Math.imul(He,Mt)|0,V=V+Math.imul(He,Dt)|0,V=V+Math.imul(ut,Mt)|0,W=W+Math.imul(ut,Dt)|0;var Nt=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Y=Math.imul(Je,Yt),V=Math.imul(Je,wr),V=V+Math.imul(ze,Yt)|0,W=Math.imul(ze,wr),Y=Y+Math.imul(gt,ct)|0,V=V+Math.imul(gt,ot)|0,V=V+Math.imul(xt,ct)|0,W=W+Math.imul(xt,ot)|0,Y=Y+Math.imul(Qe,Mt)|0,V=V+Math.imul(Qe,Dt)|0,V=V+Math.imul(qe,Mt)|0,W=W+Math.imul(qe,Dt)|0;var hr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(hr>>>26)|0,hr&=67108863,Y=Math.imul(Je,ct),V=Math.imul(Je,ot),V=V+Math.imul(ze,ct)|0,W=Math.imul(ze,ot),Y=Y+Math.imul(gt,Mt)|0,V=V+Math.imul(gt,Dt)|0,V=V+Math.imul(xt,Mt)|0,W=W+Math.imul(xt,Dt)|0;var pr=(oe+Y|0)+((V&8191)<<13)|0;oe=(W+(V>>>13)|0)+(pr>>>26)|0,pr&=67108863,Y=Math.imul(Je,Mt),V=Math.imul(Je,Dt),V=V+Math.imul(ze,Mt)|0,W=Math.imul(ze,Dt);var br=(oe+Y|0)+((V&8191)<<13)|0;return oe=(W+(V>>>13)|0)+(br>>>26)|0,br&=67108863,ee[0]=St,ee[1]=Ot,ee[2]=Vt,ee[3]=Qt,ee[4]=Kt,ee[5]=or,ee[6]=Mr,ee[7]=Ve,ee[8]=Ge,ee[9]=Ft,ee[10]=kt,ee[11]=Zt,ee[12]=tr,ee[13]=sr,ee[14]=rr,ee[15]=Nt,ee[16]=hr,ee[17]=pr,ee[18]=br,oe!==0&&(ee[19]=oe,Q.length++),Q};Math.imul||(E=A);function g(O,F,N){N.negative=F.negative^O.negative,N.length=O.length+F.length;for(var Q=0,$=0,j=0;j<N.length-1;j++){var ee=$;$=0;for(var oe=Q&67108863,Y=Math.min(j,F.length-1),V=Math.max(0,j-O.length+1);V<=Y;V++){var W=j-V,X=O.words[W]|0,re=F.words[V]|0,ie=X*re,K=ie&67108863;ee=ee+(ie/67108864|0)|0,K=K+oe|0,oe=K&67108863,ee=ee+(K>>>26)|0,$+=ee>>>26,ee&=67108863}N.words[j]=oe,Q=ee,ee=$}return Q!==0?N.words[j]=Q:N.length--,N.strip()}function S(O,F,N){var Q=new b;return Q.mulp(O,F,N)}c.prototype.mulTo=function(F,N){var Q,$=this.length+F.length;return this.length===10&&F.length===10?Q=E(this,F,N):$<63?Q=A(this,F,N):$<1024?Q=g(this,F,N):Q=S(this,F,N),Q};function b(O,F){this.x=O,this.y=F}b.prototype.makeRBT=function(F){for(var N=new Array(F),Q=c.prototype._countBits(F)-1,$=0;$<F;$++)N[$]=this.revBin($,Q,F);return N},b.prototype.revBin=function(F,N,Q){if(F===0||F===Q-1)return F;for(var $=0,j=0;j<N;j++)$|=(F&1)<<N-j-1,F>>=1;return $},b.prototype.permute=function(F,N,Q,$,j,ee){for(var oe=0;oe<ee;oe++)$[oe]=N[F[oe]],j[oe]=Q[F[oe]]},b.prototype.transform=function(F,N,Q,$,j,ee){this.permute(ee,F,N,Q,$,j);for(var oe=1;oe<j;oe<<=1)for(var Y=oe<<1,V=Math.cos(2*Math.PI/Y),W=Math.sin(2*Math.PI/Y),X=0;X<j;X+=Y)for(var re=V,ie=W,K=0;K<oe;K++){var q=Q[X+K],le=$[X+K],ae=Q[X+K+oe],he=$[X+K+oe],me=re*ae-ie*he;he=re*he+ie*ae,ae=me,Q[X+K]=q+ae,$[X+K]=le+he,Q[X+K+oe]=q-ae,$[X+K+oe]=le-he,K!==Y&&(me=V*re-W*ie,ie=V*ie+W*re,re=me)}},b.prototype.guessLen13b=function(F,N){var Q=Math.max(N,F)|1,$=Q&1,j=0;for(Q=Q/2|0;Q;Q=Q>>>1)j++;return 1<<j+1+$},b.prototype.conjugate=function(F,N,Q){if(!(Q<=1))for(var $=0;$<Q/2;$++){var j=F[$];F[$]=F[Q-$-1],F[Q-$-1]=j,j=N[$],N[$]=-N[Q-$-1],N[Q-$-1]=-j}},b.prototype.normalize13b=function(F,N){for(var Q=0,$=0;$<N/2;$++){var j=Math.round(F[2*$+1]/N)*8192+Math.round(F[2*$]/N)+Q;F[$]=j&67108863,j<67108864?Q=0:Q=j/67108864|0}return F},b.prototype.convert13b=function(F,N,Q,$){for(var j=0,ee=0;ee<N;ee++)j=j+(F[ee]|0),Q[2*ee]=j&8191,j=j>>>13,Q[2*ee+1]=j&8191,j=j>>>13;for(ee=2*N;ee<$;++ee)Q[ee]=0;a(j===0),a((j&-8192)===0)},b.prototype.stub=function(F){for(var N=new Array(F),Q=0;Q<F;Q++)N[Q]=0;return N},b.prototype.mulp=function(F,N,Q){var $=2*this.guessLen13b(F.length,N.length),j=this.makeRBT($),ee=this.stub($),oe=new Array($),Y=new Array($),V=new Array($),W=new Array($),X=new Array($),re=new Array($),ie=Q.words;ie.length=$,this.convert13b(F.words,F.length,oe,$),this.convert13b(N.words,N.length,W,$),this.transform(oe,ee,Y,V,$,j),this.transform(W,ee,X,re,$,j);for(var K=0;K<$;K++){var q=Y[K]*X[K]-V[K]*re[K];V[K]=Y[K]*re[K]+V[K]*X[K],Y[K]=q}return this.conjugate(Y,V,$),this.transform(Y,V,ie,ee,$,j),this.conjugate(ie,ee,$),this.normalize13b(ie,$),Q.negative=F.negative^N.negative,Q.length=F.length+N.length,Q.strip()},c.prototype.mul=function(F){var N=new c(null);return N.words=new Array(this.length+F.length),this.mulTo(F,N)},c.prototype.mulf=function(F){var N=new c(null);return N.words=new Array(this.length+F.length),S(this,F,N)},c.prototype.imul=function(F){return this.clone().mulTo(F,this)},c.prototype.imuln=function(F){a(typeof F=="number"),a(F<67108864);for(var N=0,Q=0;Q<this.length;Q++){var $=(this.words[Q]|0)*F,j=($&67108863)+(N&67108863);N>>=26,N+=$/67108864|0,N+=j>>>26,this.words[Q]=j&67108863}return N!==0&&(this.words[Q]=N,this.length++),this},c.prototype.muln=function(F){return this.clone().imuln(F)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(F){var N=M(F);if(N.length===0)return new c(1);for(var Q=this,$=0;$<N.length&&N[$]===0;$++,Q=Q.sqr());if(++$<N.length)for(var j=Q.sqr();$<N.length;$++,j=j.sqr())N[$]!==0&&(Q=Q.mul(j));return Q},c.prototype.iushln=function(F){a(typeof F=="number"&&F>=0);var N=F%26,Q=(F-N)/26,$=67108863>>>26-N<<26-N,j;if(N!==0){var ee=0;for(j=0;j<this.length;j++){var oe=this.words[j]&$,Y=(this.words[j]|0)-oe<<N;this.words[j]=Y|ee,ee=oe>>>26-N}ee&&(this.words[j]=ee,this.length++)}if(Q!==0){for(j=this.length-1;j>=0;j--)this.words[j+Q]=this.words[j];for(j=0;j<Q;j++)this.words[j]=0;this.length+=Q}return this.strip()},c.prototype.ishln=function(F){return a(this.negative===0),this.iushln(F)},c.prototype.iushrn=function(F,N,Q){a(typeof F=="number"&&F>=0);var $;N?$=(N-N%26)/26:$=0;var j=F%26,ee=Math.min((F-j)/26,this.length),oe=67108863^67108863>>>j<<j,Y=Q;if($-=ee,$=Math.max(0,$),Y){for(var V=0;V<ee;V++)Y.words[V]=this.words[V];Y.length=ee}if(ee!==0)if(this.length>ee)for(this.length-=ee,V=0;V<this.length;V++)this.words[V]=this.words[V+ee];else this.words[0]=0,this.length=1;var W=0;for(V=this.length-1;V>=0&&(W!==0||V>=$);V--){var X=this.words[V]|0;this.words[V]=W<<26-j|X>>>j,W=X&oe}return Y&&W!==0&&(Y.words[Y.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(F,N,Q){return a(this.negative===0),this.iushrn(F,N,Q)},c.prototype.shln=function(F){return this.clone().ishln(F)},c.prototype.ushln=function(F){return this.clone().iushln(F)},c.prototype.shrn=function(F){return this.clone().ishrn(F)},c.prototype.ushrn=function(F){return this.clone().iushrn(F)},c.prototype.testn=function(F){a(typeof F=="number"&&F>=0);var N=F%26,Q=(F-N)/26,$=1<<N;if(this.length<=Q)return!1;var j=this.words[Q];return!!(j&$)},c.prototype.imaskn=function(F){a(typeof F=="number"&&F>=0);var N=F%26,Q=(F-N)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=Q)return this;if(N!==0&&Q++,this.length=Math.min(Q,this.length),N!==0){var $=67108863^67108863>>>N<<N;this.words[this.length-1]&=$}return this.strip()},c.prototype.maskn=function(F){return this.clone().imaskn(F)},c.prototype.iaddn=function(F){return a(typeof F=="number"),a(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},c.prototype._iaddn=function(F){this.words[0]+=F;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},c.prototype.isubn=function(F){if(a(typeof F=="number"),a(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},c.prototype.addn=function(F){return this.clone().iaddn(F)},c.prototype.subn=function(F){return this.clone().isubn(F)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(F,N,Q){var $=F.length+Q,j;this._expand($);var ee,oe=0;for(j=0;j<F.length;j++){ee=(this.words[j+Q]|0)+oe;var Y=(F.words[j]|0)*N;ee-=Y&67108863,oe=(ee>>26)-(Y/67108864|0),this.words[j+Q]=ee&67108863}for(;j<this.length-Q;j++)ee=(this.words[j+Q]|0)+oe,oe=ee>>26,this.words[j+Q]=ee&67108863;if(oe===0)return this.strip();for(a(oe===-1),oe=0,j=0;j<this.length;j++)ee=-(this.words[j]|0)+oe,oe=ee>>26,this.words[j]=ee&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(F,N){var Q=this.length-F.length,$=this.clone(),j=F,ee=j.words[j.length-1]|0,oe=this._countBits(ee);Q=26-oe,Q!==0&&(j=j.ushln(Q),$.iushln(Q),ee=j.words[j.length-1]|0);var Y=$.length-j.length,V;if(N!=="mod"){V=new c(null),V.length=Y+1,V.words=new Array(V.length);for(var W=0;W<V.length;W++)V.words[W]=0}var X=$.clone()._ishlnsubmul(j,1,Y);X.negative===0&&($=X,V&&(V.words[Y]=1));for(var re=Y-1;re>=0;re--){var ie=($.words[j.length+re]|0)*67108864+($.words[j.length+re-1]|0);for(ie=Math.min(ie/ee|0,67108863),$._ishlnsubmul(j,ie,re);$.negative!==0;)ie--,$.negative=0,$._ishlnsubmul(j,1,re),$.isZero()||($.negative^=1);V&&(V.words[re]=ie)}return V&&V.strip(),$.strip(),N!=="div"&&Q!==0&&$.iushrn(Q),{div:V||null,mod:$}},c.prototype.divmod=function(F,N,Q){if(a(!F.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var $,j,ee;return this.negative!==0&&F.negative===0?(ee=this.neg().divmod(F,N),N!=="mod"&&($=ee.div.neg()),N!=="div"&&(j=ee.mod.neg(),Q&&j.negative!==0&&j.iadd(F)),{div:$,mod:j}):this.negative===0&&F.negative!==0?(ee=this.divmod(F.neg(),N),N!=="mod"&&($=ee.div.neg()),{div:$,mod:ee.mod}):this.negative&F.negative?(ee=this.neg().divmod(F.neg(),N),N!=="div"&&(j=ee.mod.neg(),Q&&j.negative!==0&&j.isub(F)),{div:ee.div,mod:j}):F.length>this.length||this.cmp(F)<0?{div:new c(0),mod:this}:F.length===1?N==="div"?{div:this.divn(F.words[0]),mod:null}:N==="mod"?{div:null,mod:new c(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new c(this.modn(F.words[0]))}:this._wordDiv(F,N)},c.prototype.div=function(F){return this.divmod(F,"div",!1).div},c.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},c.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},c.prototype.divRound=function(F){var N=this.divmod(F);if(N.mod.isZero())return N.div;var Q=N.div.negative!==0?N.mod.isub(F):N.mod,$=F.ushrn(1),j=F.andln(1),ee=Q.cmp($);return ee<0||j===1&&ee===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},c.prototype.modn=function(F){a(F<=67108863);for(var N=(1<<26)%F,Q=0,$=this.length-1;$>=0;$--)Q=(N*Q+(this.words[$]|0))%F;return Q},c.prototype.idivn=function(F){a(F<=67108863);for(var N=0,Q=this.length-1;Q>=0;Q--){var $=(this.words[Q]|0)+N*67108864;this.words[Q]=$/F|0,N=$%F}return this.strip()},c.prototype.divn=function(F){return this.clone().idivn(F)},c.prototype.egcd=function(F){a(F.negative===0),a(!F.isZero());var N=this,Q=F.clone();N.negative!==0?N=N.umod(F):N=N.clone();for(var $=new c(1),j=new c(0),ee=new c(0),oe=new c(1),Y=0;N.isEven()&&Q.isEven();)N.iushrn(1),Q.iushrn(1),++Y;for(var V=Q.clone(),W=N.clone();!N.isZero();){for(var X=0,re=1;!(N.words[0]&re)&&X<26;++X,re<<=1);if(X>0)for(N.iushrn(X);X-- >0;)($.isOdd()||j.isOdd())&&($.iadd(V),j.isub(W)),$.iushrn(1),j.iushrn(1);for(var ie=0,K=1;!(Q.words[0]&K)&&ie<26;++ie,K<<=1);if(ie>0)for(Q.iushrn(ie);ie-- >0;)(ee.isOdd()||oe.isOdd())&&(ee.iadd(V),oe.isub(W)),ee.iushrn(1),oe.iushrn(1);N.cmp(Q)>=0?(N.isub(Q),$.isub(ee),j.isub(oe)):(Q.isub(N),ee.isub($),oe.isub(j))}return{a:ee,b:oe,gcd:Q.iushln(Y)}},c.prototype._invmp=function(F){a(F.negative===0),a(!F.isZero());var N=this,Q=F.clone();N.negative!==0?N=N.umod(F):N=N.clone();for(var $=new c(1),j=new c(0),ee=Q.clone();N.cmpn(1)>0&&Q.cmpn(1)>0;){for(var oe=0,Y=1;!(N.words[0]&Y)&&oe<26;++oe,Y<<=1);if(oe>0)for(N.iushrn(oe);oe-- >0;)$.isOdd()&&$.iadd(ee),$.iushrn(1);for(var V=0,W=1;!(Q.words[0]&W)&&V<26;++V,W<<=1);if(V>0)for(Q.iushrn(V);V-- >0;)j.isOdd()&&j.iadd(ee),j.iushrn(1);N.cmp(Q)>=0?(N.isub(Q),$.isub(j)):(Q.isub(N),j.isub($))}var X;return N.cmpn(1)===0?X=$:X=j,X.cmpn(0)<0&&X.iadd(F),X},c.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var N=this.clone(),Q=F.clone();N.negative=0,Q.negative=0;for(var $=0;N.isEven()&&Q.isEven();$++)N.iushrn(1),Q.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;Q.isEven();)Q.iushrn(1);var j=N.cmp(Q);if(j<0){var ee=N;N=Q,Q=ee}else if(j===0||Q.cmpn(1)===0)break;N.isub(Q)}while(!0);return Q.iushln($)},c.prototype.invm=function(F){return this.egcd(F).a.umod(F)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(F){return this.words[0]&F},c.prototype.bincn=function(F){a(typeof F=="number");var N=F%26,Q=(F-N)/26,$=1<<N;if(this.length<=Q)return this._expand(Q+1),this.words[Q]|=$,this;for(var j=$,ee=Q;j!==0&&ee<this.length;ee++){var oe=this.words[ee]|0;oe+=j,j=oe>>>26,oe&=67108863,this.words[ee]=oe}return j!==0&&(this.words[ee]=j,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(F){var N=F<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var Q;if(this.length>1)Q=1;else{N&&(F=-F),a(F<=67108863,"Number is too big");var $=this.words[0]|0;Q=$===F?0:$<F?-1:1}return this.negative!==0?-Q|0:Q},c.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var N=this.ucmp(F);return this.negative!==0?-N|0:N},c.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var N=0,Q=this.length-1;Q>=0;Q--){var $=this.words[Q]|0,j=F.words[Q]|0;if($!==j){$<j?N=-1:$>j&&(N=1);break}}return N},c.prototype.gtn=function(F){return this.cmpn(F)===1},c.prototype.gt=function(F){return this.cmp(F)===1},c.prototype.gten=function(F){return this.cmpn(F)>=0},c.prototype.gte=function(F){return this.cmp(F)>=0},c.prototype.ltn=function(F){return this.cmpn(F)===-1},c.prototype.lt=function(F){return this.cmp(F)===-1},c.prototype.lten=function(F){return this.cmpn(F)<=0},c.prototype.lte=function(F){return this.cmp(F)<=0},c.prototype.eqn=function(F){return this.cmpn(F)===0},c.prototype.eq=function(F){return this.cmp(F)===0},c.red=function(F){return new I(F)},c.prototype.toRed=function(F){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(F){return this.red=F,this},c.prototype.forceRed=function(F){return a(!this.red,"Already a number in reduction context"),this._forceRed(F)},c.prototype.redAdd=function(F){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},c.prototype.redIAdd=function(F){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},c.prototype.redSub=function(F){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},c.prototype.redISub=function(F){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},c.prototype.redShl=function(F){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},c.prototype.redMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},c.prototype.redIMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(F){return a(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var i={k256:null,p224:null,p192:null,p25519:null};function P(O,F){this.name=O,this.p=new c(F,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var F=new c(null);return F.words=new Array(Math.ceil(this.n/13)),F},P.prototype.ireduce=function(F){var N=F,Q;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),Q=N.bitLength();while(Q>this.n);var $=Q<this.n?-1:N.ucmp(this.p);return $===0?(N.words[0]=0,N.length=1):$>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},P.prototype.split=function(F,N){F.iushrn(this.n,0,N)},P.prototype.imulK=function(F){return F.imul(this.k)};function x(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(x,P),x.prototype.split=function(F,N){for(var Q=4194303,$=Math.min(F.length,9),j=0;j<$;j++)N.words[j]=F.words[j];if(N.length=$,F.length<=9){F.words[0]=0,F.length=1;return}var ee=F.words[9];for(N.words[N.length++]=ee&Q,j=10;j<F.length;j++){var oe=F.words[j]|0;F.words[j-10]=(oe&Q)<<4|ee>>>22,ee=oe}ee>>>=22,F.words[j-10]=ee,ee===0&&F.length>10?F.length-=10:F.length-=9},x.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var N=0,Q=0;Q<F.length;Q++){var $=F.words[Q]|0;N+=$*977,F.words[Q]=N&67108863,N=$*64+(N/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function k(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(k,P);function _(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(_,P);function B(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(B,P),B.prototype.imulK=function(F){for(var N=0,Q=0;Q<F.length;Q++){var $=(F.words[Q]|0)*19+N,j=$&67108863;$>>>=26,F.words[Q]=j,N=$}return N!==0&&(F.words[F.length++]=N),F},c._prime=function(F){if(i[F])return i[F];var N;if(F==="k256")N=new x;else if(F==="p224")N=new k;else if(F==="p192")N=new _;else if(F==="p25519")N=new B;else throw new Error("Unknown prime "+F);return i[F]=N,N};function I(O){if(typeof O=="string"){var F=c._prime(O);this.m=F.p,this.prime=F}else a(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}I.prototype._verify1=function(F){a(F.negative===0,"red works only with positives"),a(F.red,"red works only with red numbers")},I.prototype._verify2=function(F,N){a((F.negative|N.negative)===0,"red works only with positives"),a(F.red&&F.red===N.red,"red works only with red numbers")},I.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},I.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},I.prototype.add=function(F,N){this._verify2(F,N);var Q=F.add(N);return Q.cmp(this.m)>=0&&Q.isub(this.m),Q._forceRed(this)},I.prototype.iadd=function(F,N){this._verify2(F,N);var Q=F.iadd(N);return Q.cmp(this.m)>=0&&Q.isub(this.m),Q},I.prototype.sub=function(F,N){this._verify2(F,N);var Q=F.sub(N);return Q.cmpn(0)<0&&Q.iadd(this.m),Q._forceRed(this)},I.prototype.isub=function(F,N){this._verify2(F,N);var Q=F.isub(N);return Q.cmpn(0)<0&&Q.iadd(this.m),Q},I.prototype.shl=function(F,N){return this._verify1(F),this.imod(F.ushln(N))},I.prototype.imul=function(F,N){return this._verify2(F,N),this.imod(F.imul(N))},I.prototype.mul=function(F,N){return this._verify2(F,N),this.imod(F.mul(N))},I.prototype.isqr=function(F){return this.imul(F,F.clone())},I.prototype.sqr=function(F){return this.mul(F,F)},I.prototype.sqrt=function(F){if(F.isZero())return F.clone();var N=this.m.andln(3);if(a(N%2===1),N===3){var Q=this.m.add(new c(1)).iushrn(2);return this.pow(F,Q)}for(var $=this.m.subn(1),j=0;!$.isZero()&&$.andln(1)===0;)j++,$.iushrn(1);a(!$.isZero());var ee=new c(1).toRed(this),oe=ee.redNeg(),Y=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new c(2*V*V).toRed(this);this.pow(V,Y).cmp(oe)!==0;)V.redIAdd(oe);for(var W=this.pow(V,$),X=this.pow(F,$.addn(1).iushrn(1)),re=this.pow(F,$),ie=j;re.cmp(ee)!==0;){for(var K=re,q=0;K.cmp(ee)!==0;q++)K=K.redSqr();a(q<ie);var le=this.pow(W,new c(1).iushln(ie-q-1));X=X.redMul(le),W=le.redSqr(),re=re.redMul(W),ie=q}return X},I.prototype.invm=function(F){var N=F._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},I.prototype.pow=function(F,N){if(N.isZero())return new c(1).toRed(this);if(N.cmpn(1)===0)return F.clone();var Q=4,$=new Array(1<<Q);$[0]=new c(1).toRed(this),$[1]=F;for(var j=2;j<$.length;j++)$[j]=this.mul($[j-1],F);var ee=$[0],oe=0,Y=0,V=N.bitLength()%26;for(V===0&&(V=26),j=N.length-1;j>=0;j--){for(var W=N.words[j],X=V-1;X>=0;X--){var re=W>>X&1;if(ee!==$[0]&&(ee=this.sqr(ee)),re===0&&oe===0){Y=0;continue}oe<<=1,oe|=re,Y++,!(Y!==Q&&(j!==0||X!==0))&&(ee=this.mul(ee,$[oe]),Y=0,oe=0)}V=26}return ee},I.prototype.convertTo=function(F){var N=F.umod(this.m);return N===F?N.clone():N},I.prototype.convertFrom=function(F){var N=F.clone();return N.red=null,N},c.mont=function(F){return new z(F)};function z(O){I.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(z,I),z.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},z.prototype.convertFrom=function(F){var N=this.imod(F.mul(this.rinv));return N.red=null,N},z.prototype.imul=function(F,N){if(F.isZero()||N.isZero())return F.words[0]=0,F.length=1,F;var Q=F.imul(N),$=Q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=Q.isub($).iushrn(this.shift),ee=j;return j.cmp(this.m)>=0?ee=j.isub(this.m):j.cmpn(0)<0&&(ee=j.iadd(this.m)),ee._forceRed(this)},z.prototype.mul=function(F,N){if(F.isZero()||N.isZero())return new c(0)._forceRed(this);var Q=F.mul(N),$=Q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=Q.isub($).iushrn(this.shift),ee=j;return j.cmp(this.m)>=0?ee=j.isub(this.m):j.cmpn(0)<0&&(ee=j.iadd(this.m)),ee._forceRed(this)},z.prototype.invm=function(F){var N=this.imod(F._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(v,this)},2692:function(v){v.exports=y;function y(t){var r,l,a,s=t.length,c=0;for(r=0;r<s;++r)c+=t[r].length;var u=new Array(c),m=0;for(r=0;r<s;++r){var h=t[r],T=h.length;for(l=0;l<T;++l){var f=u[m++]=new Array(T-1),o=0;for(a=0;a<T;++a)a!==l&&(f[o++]=h[a]);if(l&1){var d=f[1];f[1]=f[0],f[0]=d}}}return u}},2569:function(v,y,t){v.exports=o;var r=t(5306),l=t(1390),a=t(2337);function s(d,M){for(var A=0;A<d;++A)if(!(M[A]<=M[A+d]))return!0;return!1}function c(d,M,A,E){for(var g=0,S=0,b=0,i=d.length;b<i;++b){var P=d[b];if(!s(M,P)){for(var x=0;x<2*M;++x)A[g++]=P[x];E[S++]=b}}return S}function u(d,M,A,E){var g=d.length,S=M.length;if(!(g<=0||S<=0)){var b=d[0].length>>>1;if(!(b<=0)){var i,P=r.mallocDouble(2*b*g),x=r.mallocInt32(g);if(g=c(d,b,P,x),g>0){if(b===1&&E)l.init(g),i=l.sweepComplete(b,A,0,g,P,x,0,g,P,x);else{var k=r.mallocDouble(2*b*S),_=r.mallocInt32(S);S=c(M,b,k,_),S>0&&(l.init(g+S),b===1?i=l.sweepBipartite(b,A,0,g,P,x,0,S,k,_):i=a(b,A,E,g,P,x,S,k,_),r.free(k),r.free(_))}r.free(P),r.free(x)}return i}}}var m;function h(d,M){m.push([d,M])}function T(d){return m=[],u(d,d,h,!0),m}function f(d,M){return m=[],u(d,M,h,!1),m}function o(d,M,A){switch(arguments.length){case 1:return T(d);case 2:return typeof M=="function"?u(d,d,M,!0):f(d,M);case 3:return u(d,M,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,y){function t(){function a(u,m,h,T,f,o,d,M,A,E,g){for(var S=2*u,b=T,i=S*T;b<f;++b,i+=S){var P=o[m+i],x=o[m+i+u],k=d[b];e:for(var _=M,B=S*M;_<A;++_,B+=S){var I=E[m+B],z=E[m+B+u],O=g[_];if(!(z<P||x<I)){for(var F=m+1;F<u;++F){var N=o[F+i],Q=o[F+u+i],$=E[F+B],j=E[F+u+B];if(Q<$||j<N)continue e}var ee=h(k,O);if(ee!==void 0)return ee}}}}function s(u,m,h,T,f,o,d,M,A,E,g){for(var S=2*u,b=M,i=S*M;b<A;++b,i+=S){var P=E[m+i],x=E[m+i+u],k=g[b];e:for(var _=T,B=S*T;_<f;++_,B+=S){var I=o[m+B],z=o[m+B+u],O=d[_];if(!(x<I||z<P)){for(var F=m+1;F<u;++F){var N=o[F+B],Q=o[F+u+B],$=E[F+i],j=E[F+u+i];if(Q<$||j<N)continue e}var ee=h(O,k);if(ee!==void 0)return ee}}}}function c(u,m,h,T,f,o,d,M,A,E,g){return f-T>A-M?a(u,m,h,T,f,o,d,M,A,E,g):s(u,m,h,T,f,o,d,M,A,E,g)}return c}function r(){function a(h,T,f,o,d,M,A,E,g,S,b){for(var i=2*h,P=o,x=i*o;P<d;++P,x+=i){var k=M[T+x],_=M[T+x+h],B=A[P];e:for(var I=E,z=i*E;I<g;++I,z+=i){var O=S[T+z],F=b[I];if(!(O<=k||_<O)){for(var N=T+1;N<h;++N){var Q=M[N+x],$=M[N+h+x],j=S[N+z],ee=S[N+h+z];if($<j||ee<Q)continue e}var oe=f(F,B);if(oe!==void 0)return oe}}}}function s(h,T,f,o,d,M,A,E,g,S,b){for(var i=2*h,P=o,x=i*o;P<d;++P,x+=i){var k=M[T+x],_=M[T+x+h],B=A[P];e:for(var I=E,z=i*E;I<g;++I,z+=i){var O=S[T+z],F=b[I];if(!(O<k||_<O)){for(var N=T+1;N<h;++N){var Q=M[N+x],$=M[N+h+x],j=S[N+z],ee=S[N+h+z];if($<j||ee<Q)continue e}var oe=f(B,F);if(oe!==void 0)return oe}}}}function c(h,T,f,o,d,M,A,E,g,S,b){for(var i=2*h,P=E,x=i*E;P<g;++P,x+=i){var k=S[T+x],_=b[P];e:for(var B=o,I=i*o;B<d;++B,I+=i){var z=M[T+I],O=M[T+I+h],F=A[B];if(!(k<=z||O<k)){for(var N=T+1;N<h;++N){var Q=M[N+I],$=M[N+h+I],j=S[N+x],ee=S[N+h+x];if($<j||ee<Q)continue e}var oe=f(_,F);if(oe!==void 0)return oe}}}}function u(h,T,f,o,d,M,A,E,g,S,b){for(var i=2*h,P=E,x=i*E;P<g;++P,x+=i){var k=S[T+x],_=b[P];e:for(var B=o,I=i*o;B<d;++B,I+=i){var z=M[T+I],O=M[T+I+h],F=A[B];if(!(k<z||O<k)){for(var N=T+1;N<h;++N){var Q=M[N+I],$=M[N+h+I],j=S[N+x],ee=S[N+h+x];if($<j||ee<Q)continue e}var oe=f(F,_);if(oe!==void 0)return oe}}}}function m(h,T,f,o,d,M,A,E,g,S,b,i){return M-d>S-g?o?a(h,T,f,d,M,A,E,g,S,b,i):s(h,T,f,d,M,A,E,g,S,b,i):o?c(h,T,f,d,M,A,E,g,S,b,i):u(h,T,f,d,M,A,E,g,S,b,i)}return m}function l(a){return a?t():r()}y.partial=l(!1),y.full=l(!0)},2337:function(v,y,t){v.exports=O;var r=t(5306),l=t(2288),a=t(7333),s=a.partial,c=a.full,u=t(1390),m=t(2464),h=t(122),T=128,f=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),M=h("lo===p0"),A=h("lo<p0"),E=h("hi<=p0"),g=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),b=6,i=2,P=1024,x=r.mallocInt32(P),k=r.mallocDouble(P);function _(F,N){var Q=8*l.log2(N+1)*(F+1)|0,$=l.nextPow2(b*Q);x.length<$&&(r.free(x),x=r.mallocInt32($));var j=l.nextPow2(i*Q);k.length<j&&(r.free(k),k=r.mallocDouble(j))}function B(F,N,Q,$,j,ee,oe,Y,V){var W=b*F;x[W]=N,x[W+1]=Q,x[W+2]=$,x[W+3]=j,x[W+4]=ee,x[W+5]=oe;var X=i*F;k[X]=Y,k[X+1]=V}function I(F,N,Q,$,j,ee,oe,Y,V,W,X){var re=2*F,ie=V*re,K=W[ie+N];e:for(var q=j,le=j*re;q<ee;++q,le+=re){var ae=oe[le+N],he=oe[le+N+F];if(!(K<ae||he<K)&&!($&&K===ae)){for(var me=Y[q],Me=N+1;Me<F;++Me){var ae=oe[le+Me],he=oe[le+Me+F],xe=W[ie+Me],Ie=W[ie+Me+F];if(he<xe||Ie<ae)continue e}var _e;if($?_e=Q(X,me):_e=Q(me,X),_e!==void 0)return _e}}}function z(F,N,Q,$,j,ee,oe,Y,V,W){var X=2*F,re=Y*X,ie=V[re+N];e:for(var K=$,q=$*X;K<j;++K,q+=X){var le=oe[K];if(le!==W){var ae=ee[q+N],he=ee[q+N+F];if(!(ie<ae||he<ie)){for(var me=N+1;me<F;++me){var ae=ee[q+me],he=ee[q+me+F],Me=V[re+me],xe=V[re+me+F];if(he<Me||xe<ae)continue e}var Ie=Q(le,W);if(Ie!==void 0)return Ie}}}}function O(F,N,Q,$,j,ee,oe,Y,V){_(F,$+oe);var W=0,X=2*F,re;for(B(W++,0,0,$,0,oe,Q?16:0,-1/0,1/0),Q||B(W++,0,0,oe,0,$,1,-1/0,1/0);W>0;){W-=1;var ie=W*b,K=x[ie],q=x[ie+1],le=x[ie+2],ae=x[ie+3],he=x[ie+4],me=x[ie+5],Me=W*i,xe=k[Me],Ie=k[Me+1],_e=me&1,Te=!!(me&16),ye=j,Ae=ee,Be=Y,Ue=V;if(_e&&(ye=Y,Ae=V,Be=j,Ue=ee),!(me&2&&(le=A(F,K,q,le,ye,Ae,Ie),q>=le))&&!(me&4&&(q=E(F,K,q,le,ye,Ae,xe),q>=le))){var De=le-q,He=he-ae;if(Te){if(F*De*(De+He)<o){if(re=u.scanComplete(F,K,N,q,le,ye,Ae,ae,he,Be,Ue),re!==void 0)return re;continue}}else if(F*Math.min(De,He)<T){if(re=s(F,K,N,_e,q,le,ye,Ae,ae,he,Be,Ue),re!==void 0)return re;continue}else if(F*De*He<f){if(re=u.scanBipartite(F,K,N,_e,q,le,ye,Ae,ae,he,Be,Ue),re!==void 0)return re;continue}var ut=d(F,K,q,le,ye,Ae,xe,Ie);if(q<ut)if(F*(ut-q)<T){if(re=c(F,K+1,N,q,ut,ye,Ae,ae,he,Be,Ue),re!==void 0)return re}else if(K===F-2){if(_e?re=u.sweepBipartite(F,N,ae,he,Be,Ue,q,ut,ye,Ae):re=u.sweepBipartite(F,N,q,ut,ye,Ae,ae,he,Be,Ue),re!==void 0)return re}else B(W++,K+1,q,ut,ae,he,_e,-1/0,1/0),B(W++,K+1,ae,he,q,ut,_e^1,-1/0,1/0);if(ut<le){var et=m(F,K,ae,he,Be,Ue),Qe=Be[X*et+K],qe=M(F,K,et,he,Be,Ue,Qe);if(qe<he&&B(W++,K,ut,le,qe,he,(_e|4)+(Te?16:0),Qe,Ie),ae<et&&B(W++,K,ut,le,ae,et,(_e|2)+(Te?16:0),xe,Qe),et+1===qe){if(Te?re=z(F,K,N,ut,le,ye,Ae,et,Be,Ue[et]):re=I(F,K,N,_e,ut,le,ye,Ae,et,Be,Ue[et]),re!==void 0)return re}else if(et<qe){var ft;if(Te){if(ft=g(F,K,ut,le,ye,Ae,Qe),ut<ft){var gt=M(F,K,ut,ft,ye,Ae,Qe);if(K===F-2){if(ut<gt&&(re=u.sweepComplete(F,N,ut,gt,ye,Ae,et,qe,Be,Ue),re!==void 0)||gt<ft&&(re=u.sweepBipartite(F,N,gt,ft,ye,Ae,et,qe,Be,Ue),re!==void 0))return re}else ut<gt&&B(W++,K+1,ut,gt,et,qe,16,-1/0,1/0),gt<ft&&(B(W++,K+1,gt,ft,et,qe,0,-1/0,1/0),B(W++,K+1,et,qe,gt,ft,1,-1/0,1/0))}}else _e?ft=S(F,K,ut,le,ye,Ae,Qe):ft=g(F,K,ut,le,ye,Ae,Qe),ut<ft&&(K===F-2?_e?re=u.sweepBipartite(F,N,et,qe,Be,Ue,ut,ft,ye,Ae):re=u.sweepBipartite(F,N,ut,ft,ye,Ae,et,qe,Be,Ue):(B(W++,K+1,ut,ft,et,qe,_e,-1/0,1/0),B(W++,K+1,et,qe,ut,ft,_e^1,-1/0,1/0)))}}}}}},2464:function(v,y,t){v.exports=c;var r=t(122),l=r("lo<p0"),a=8;function s(u,m,h,T,f,o){for(var d=2*u,M=d*(h+1)+m,A=h+1;A<T;++A,M+=d)for(var E=f[M],g=A,S=d*(A-1);g>h&&f[S+m]>E;--g,S-=d){for(var b=S,i=S+d,P=0;P<d;++P,++b,++i){var x=f[b];f[b]=f[i],f[i]=x}var k=o[g];o[g]=o[g-1],o[g-1]=k}}function c(u,m,h,T,f,o){if(T<=h+1)return h;for(var d=h,M=T,A=T+h>>>1,E=2*u,g=A,S=f[E*A+m];d<M;){if(M-d<a){s(u,m,d,M,f,o),S=f[E*A+m];break}var b=M-d,i=Math.random()*b+d|0,P=f[E*i+m],x=Math.random()*b+d|0,k=f[E*x+m],_=Math.random()*b+d|0,B=f[E*_+m];P<=k?B>=k?(g=x,S=k):P>=B?(g=i,S=P):(g=_,S=B):k>=B?(g=x,S=k):B>=P?(g=i,S=P):(g=_,S=B);for(var O=E*(M-1),F=E*g,I=0;I<E;++I,++O,++F){var z=f[O];f[O]=f[F],f[F]=z}var N=o[M-1];o[M-1]=o[g],o[g]=N,g=l(u,m,d,M-1,f,o,S);for(var O=E*(M-1),F=E*g,I=0;I<E;++I,++O,++F){var z=f[O];f[O]=f[F],f[F]=z}var N=o[M-1];if(o[M-1]=o[g],o[g]=N,A<g){for(M=g-1;d<M&&f[E*(M-1)+m]===S;)M-=1;M+=1}else if(g<A)for(d=g+1;d<M&&f[E*d+m]===S;)d+=1;else break}return l(u,m,h,A,f,o,f[E*A+m])}},122:function(v){v.exports=t;var y={"lo===p0":r,"lo<p0":l,"lo<=p0":a,"hi<=p0":s,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":m};function t(h){return y[h]}function r(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+i];if(k===A)if(b===x)b+=1,S+=E;else{for(var _=0;E>_;++_){var B=d[g+_];d[g+_]=d[S],d[S++]=B}var I=M[x];M[x]=M[b],M[b++]=I}}return b}function l(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+i];if(k<A)if(b===x)b+=1,S+=E;else{for(var _=0;E>_;++_){var B=d[g+_];d[g+_]=d[S],d[S++]=B}var I=M[x];M[x]=M[b],M[b++]=I}}return b}function a(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+P];if(k<=A)if(b===x)b+=1,S+=E;else{for(var _=0;E>_;++_){var B=d[g+_];d[g+_]=d[S],d[S++]=B}var I=M[x];M[x]=M[b],M[b++]=I}}return b}function s(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+P];if(k<=A)if(b===x)b+=1,S+=E;else{for(var _=0;E>_;++_){var B=d[g+_];d[g+_]=d[S],d[S++]=B}var I=M[x];M[x]=M[b],M[b++]=I}}return b}function c(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+i],_=d[g+P];if(k<=A&&A<=_)if(b===x)b+=1,S+=E;else{for(var B=0;E>B;++B){var I=d[g+B];d[g+B]=d[S],d[S++]=I}var z=M[x];M[x]=M[b],M[b++]=z}}return b}function u(h,T,f,o,d,M,A){for(var E=2*h,g=E*f,S=g,b=f,i=T,P=h+T,x=f;o>x;++x,g+=E){var k=d[g+i],_=d[g+P];if(k<A&&A<=_)if(b===x)b+=1,S+=E;else{for(var B=0;E>B;++B){var I=d[g+B];d[g+B]=d[S],d[S++]=I}var z=M[x];M[x]=M[b],M[b++]=z}}return b}function m(h,T,f,o,d,M,A,E){for(var g=2*h,S=g*f,b=S,i=f,P=T,x=h+T,k=f;o>k;++k,S+=g){var _=d[S+P],B=d[S+x];if(!(_>=A)&&!(E>=B))if(i===k)i+=1,b+=g;else{for(var I=0;g>I;++I){var z=d[S+I];d[S+I]=d[b],d[b++]=z}var O=M[k];M[k]=M[i],M[i++]=O}}return i}},309:function(v){v.exports=t;var y=32;function t(T,f){f<=4*y?r(0,f-1,T):h(0,f-1,T)}function r(T,f,o){for(var d=2*(T+1),M=T+1;M<=f;++M){for(var A=o[d++],E=o[d++],g=M,S=d-2;g-- >T;){var b=o[S-2],i=o[S-1];if(b<A)break;if(b===A&&i<E)break;o[S]=b,o[S+1]=i,S-=2}o[S]=A,o[S+1]=E}}function l(T,f,o){T*=2,f*=2;var d=o[T],M=o[T+1];o[T]=o[f],o[T+1]=o[f+1],o[f]=d,o[f+1]=M}function a(T,f,o){T*=2,f*=2,o[T]=o[f],o[T+1]=o[f+1]}function s(T,f,o,d){T*=2,f*=2,o*=2;var M=d[T],A=d[T+1];d[T]=d[f],d[T+1]=d[f+1],d[f]=d[o],d[f+1]=d[o+1],d[o]=M,d[o+1]=A}function c(T,f,o,d,M){T*=2,f*=2,M[T]=M[f],M[f]=o,M[T+1]=M[f+1],M[f+1]=d}function u(T,f,o){T*=2,f*=2;var d=o[T],M=o[f];return d<M?!1:d===M?o[T+1]>o[f+1]:!0}function m(T,f,o,d){T*=2;var M=d[T];return M<f?!0:M===f?d[T+1]<o:!1}function h(T,f,o){var d=(f-T+1)/6|0,M=T+d,A=f-d,E=T+f>>1,g=E-d,S=E+d,b=M,i=g,P=E,x=S,k=A,_=T+1,B=f-1,I=0;u(b,i,o)&&(I=b,b=i,i=I),u(x,k,o)&&(I=x,x=k,k=I),u(b,P,o)&&(I=b,b=P,P=I),u(i,P,o)&&(I=i,i=P,P=I),u(b,x,o)&&(I=b,b=x,x=I),u(P,x,o)&&(I=P,P=x,x=I),u(i,k,o)&&(I=i,i=k,k=I),u(i,P,o)&&(I=i,i=P,P=I),u(x,k,o)&&(I=x,x=k,k=I);for(var z=o[2*i],O=o[2*i+1],F=o[2*x],N=o[2*x+1],Q=2*b,$=2*P,j=2*k,ee=2*M,oe=2*E,Y=2*A,V=0;V<2;++V){var W=o[Q+V],X=o[$+V],re=o[j+V];o[ee+V]=W,o[oe+V]=X,o[Y+V]=re}a(g,T,o),a(S,f,o);for(var ie=_;ie<=B;++ie)if(m(ie,z,O,o))ie!==_&&l(ie,_,o),++_;else if(!m(ie,F,N,o))for(;;)if(m(B,F,N,o)){m(B,z,O,o)?(s(ie,_,B,o),++_,--B):(l(ie,B,o),--B);break}else{if(--B<ie)break;continue}c(T,_-1,z,O,o),c(f,B+1,F,N,o),_-2-T<=y?r(T,_-2,o):h(T,_-2,o),f-(B+2)<=y?r(B+2,f,o):h(B+2,f,o),B-_<=y?r(_,B,o):h(_,B,o)}},1390:function(v,y,t){v.exports={init:M,sweepBipartite:g,sweepComplete:S,scanBipartite:b,scanComplete:i};var r=t(5306),l=t(2288),a=t(309),s=1<<28,c=1024,u=r.mallocInt32(c),m=r.mallocInt32(c),h=r.mallocInt32(c),T=r.mallocInt32(c),f=r.mallocInt32(c),o=r.mallocInt32(c),d=r.mallocDouble(c*8);function M(P){var x=l.nextPow2(P);u.length<x&&(r.free(u),u=r.mallocInt32(x)),m.length<x&&(r.free(m),m=r.mallocInt32(x)),h.length<x&&(r.free(h),h=r.mallocInt32(x)),T.length<x&&(r.free(T),T=r.mallocInt32(x)),f.length<x&&(r.free(f),f=r.mallocInt32(x)),o.length<x&&(r.free(o),o=r.mallocInt32(x));var k=8*x;d.length<k&&(r.free(d),d=r.mallocDouble(k))}function A(P,x,k,_){var B=x[_],I=P[k-1];P[B]=I,x[I]=B}function E(P,x,k,_){P[k]=_,x[_]=k}function g(P,x,k,_,B,I,z,O,F,N){for(var Q=0,$=2*P,j=P-1,ee=$-1,oe=k;oe<_;++oe){var Y=I[oe],V=$*oe;d[Q++]=B[V+j],d[Q++]=-(Y+1),d[Q++]=B[V+ee],d[Q++]=Y}for(var oe=z;oe<O;++oe){var Y=N[oe]+s,W=$*oe;d[Q++]=F[W+j],d[Q++]=-Y,d[Q++]=F[W+ee],d[Q++]=Y}var X=Q>>>1;a(d,X);for(var re=0,ie=0,oe=0;oe<X;++oe){var K=d[2*oe+1]|0;if(K>=s)K=K-s|0,A(h,T,ie--,K);else if(K>=0)A(u,m,re--,K);else if(K<=-s){K=-K-s|0;for(var q=0;q<re;++q){var le=x(u[q],K);if(le!==void 0)return le}E(h,T,ie++,K)}else{K=-K-1|0;for(var q=0;q<ie;++q){var le=x(K,h[q]);if(le!==void 0)return le}E(u,m,re++,K)}}}function S(P,x,k,_,B,I,z,O,F,N){for(var Q=0,$=2*P,j=P-1,ee=$-1,oe=k;oe<_;++oe){var Y=I[oe]+1<<1,V=$*oe;d[Q++]=B[V+j],d[Q++]=-Y,d[Q++]=B[V+ee],d[Q++]=Y}for(var oe=z;oe<O;++oe){var Y=N[oe]+1<<1,W=$*oe;d[Q++]=F[W+j],d[Q++]=-Y|1,d[Q++]=F[W+ee],d[Q++]=Y|1}var X=Q>>>1;a(d,X);for(var re=0,ie=0,K=0,oe=0;oe<X;++oe){var q=d[2*oe+1]|0,le=q&1;if(oe<X-1&&q>>1===d[2*oe+3]>>1&&(le=2,oe+=1),q<0){for(var ae=-(q>>1)-1,he=0;he<K;++he){var me=x(f[he],ae);if(me!==void 0)return me}if(le!==0)for(var he=0;he<re;++he){var me=x(u[he],ae);if(me!==void 0)return me}if(le!==1)for(var he=0;he<ie;++he){var me=x(h[he],ae);if(me!==void 0)return me}le===0?E(u,m,re++,ae):le===1?E(h,T,ie++,ae):le===2&&E(f,o,K++,ae)}else{var ae=(q>>1)-1;le===0?A(u,m,re--,ae):le===1?A(h,T,ie--,ae):le===2&&A(f,o,K--,ae)}}}function b(P,x,k,_,B,I,z,O,F,N,Q,$){var j=0,ee=2*P,oe=x,Y=x+P,V=1,W=1;_?W=s:V=s;for(var X=B;X<I;++X){var re=X+V,ie=ee*X;d[j++]=z[ie+oe],d[j++]=-re,d[j++]=z[ie+Y],d[j++]=re}for(var X=F;X<N;++X){var re=X+W,K=ee*X;d[j++]=Q[K+oe],d[j++]=-re}var q=j>>>1;a(d,q);for(var le=0,X=0;X<q;++X){var ae=d[2*X+1]|0;if(ae<0){var re=-ae,he=!1;if(re>=s?(he=!_,re-=s):(he=!!_,re-=1),he)E(u,m,le++,re);else{var me=$[re],Me=ee*re,xe=Q[Me+x+1],Ie=Q[Me+x+1+P];e:for(var _e=0;_e<le;++_e){var Te=u[_e],ye=ee*Te;if(!(Ie<z[ye+x+1]||z[ye+x+1+P]<xe)){for(var Ae=x+2;Ae<P;++Ae)if(Q[Me+Ae+P]<z[ye+Ae]||z[ye+Ae+P]<Q[Me+Ae])continue e;var Be=O[Te],Ue;if(_?Ue=k(me,Be):Ue=k(Be,me),Ue!==void 0)return Ue}}}}else A(u,m,le--,ae-V)}}function i(P,x,k,_,B,I,z,O,F,N,Q){for(var $=0,j=2*P,ee=x,oe=x+P,Y=_;Y<B;++Y){var V=Y+s,W=j*Y;d[$++]=I[W+ee],d[$++]=-V,d[$++]=I[W+oe],d[$++]=V}for(var Y=O;Y<F;++Y){var V=Y+1,X=j*Y;d[$++]=N[X+ee],d[$++]=-V}var re=$>>>1;a(d,re);for(var ie=0,Y=0;Y<re;++Y){var K=d[2*Y+1]|0;if(K<0){var V=-K;if(V>=s)u[ie++]=V-s;else{V-=1;var q=Q[V],le=j*V,ae=N[le+x+1],he=N[le+x+1+P];e:for(var me=0;me<ie;++me){var Me=u[me],xe=z[Me];if(xe===q)break;var Ie=j*Me;if(!(he<I[Ie+x+1]||I[Ie+x+1+P]<ae)){for(var _e=x+2;_e<P;++_e)if(N[le+_e+P]<I[Ie+_e]||I[Ie+_e+P]<N[le+_e])continue e;var Te=k(xe,q);if(Te!==void 0)return Te}}}}else{for(var V=K-s,me=ie-1;me>=0;--me)if(u[me]===V){for(var _e=me+1;_e<ie;++_e)u[_e-1]=u[_e];break}--ie}}}},7761:function(v,y,t){var r=t(9971),l=t(743),a=t(2161),s=t(7098);v.exports=T;function c(f){return[Math.min(f[0],f[1]),Math.max(f[0],f[1])]}function u(f,o){return f[0]-o[0]||f[1]-o[1]}function m(f){return f.map(c).sort(u)}function h(f,o,d){return o in f?f[o]:d}function T(f,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var M=!!h(d,"delaunay",!0),A=!!h(d,"interior",!0),E=!!h(d,"exterior",!0),g=!!h(d,"infinity",!1);if(!A&&!E||f.length===0)return[];var S=r(f,o);if(M||A!==E||g){for(var b=l(f.length,m(o)),i=0;i<S.length;++i){var P=S[i];b.addTriangle(P[0],P[1],P[2])}return M&&a(f,b),E?A?g?s(b,0,g):b.cells():s(b,1,g):s(b,-1)}else return S}},2161:function(v,y,t){var r=t(2227)[4];t(5070),v.exports=a;function l(s,c,u,m,h,T){var f=c.opposite(m,h);if(!(f<0)){if(h<m){var o=m;m=h,h=o,o=T,T=f,f=o}c.isConstraint(m,h)||r(s[m],s[h],s[T],s[f])<0&&u.push(m,h)}}function a(s,c){for(var u=[],m=s.length,h=c.stars,T=0;T<m;++T)for(var f=h[T],o=1;o<f.length;o+=2){var d=f[o];if(!(d<T)&&!c.isConstraint(T,d)){for(var M=f[o-1],A=-1,E=1;E<f.length;E+=2)if(f[E-1]===d){A=f[E];break}A<0||r(s[T],s[d],s[M],s[A])<0&&u.push(T,d)}}for(;u.length>0;){for(var d=u.pop(),T=u.pop(),M=-1,A=-1,f=h[T],g=1;g<f.length;g+=2){var S=f[g-1],b=f[g];S===d?A=b:b===d&&(M=S)}M<0||A<0||r(s[T],s[d],s[M],s[A])>=0||(c.flip(T,d),l(s,c,u,M,T,A),l(s,c,u,T,A,M),l(s,c,u,A,d,M),l(s,c,u,d,M,A))}}},7098:function(v,y,t){var r=t(5070);v.exports=m;function l(h,T,f,o,d,M,A){this.cells=h,this.neighbor=T,this.flags=o,this.constraint=f,this.active=d,this.next=M,this.boundary=A}var a=l.prototype;function s(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}a.locate=function(){var h=[0,0,0];return function(T,f,o){var d=T,M=f,A=o;return f<o?f<T&&(d=f,M=o,A=T):o<T&&(d=o,M=T,A=f),d<0?-1:(h[0]=d,h[1]=M,h[2]=A,r.eq(this.cells,h,s))}}();function c(h,T){for(var f=h.cells(),o=f.length,d=0;d<o;++d){var M=f[d],A=M[0],E=M[1],g=M[2];E<g?E<A&&(M[0]=E,M[1]=g,M[2]=A):g<A&&(M[0]=g,M[1]=A,M[2]=E)}f.sort(s);for(var S=new Array(o),d=0;d<S.length;++d)S[d]=0;var b=[],i=[],P=new Array(3*o),x=new Array(3*o),k=null;T&&(k=[]);for(var _=new l(f,P,x,S,b,i,k),d=0;d<o;++d)for(var M=f[d],B=0;B<3;++B){var A=M[B],E=M[(B+1)%3],I=P[3*d+B]=_.locate(E,A,h.opposite(E,A)),z=x[3*d+B]=h.isConstraint(A,E);I<0&&(z?i.push(d):(b.push(d),S[d]=1),T&&k.push([E,A,-1]))}return _}function u(h,T,f){for(var o=0,d=0;d<h.length;++d)T[d]===f&&(h[o++]=h[d]);return h.length=o,h}function m(h,T,f){var o=c(h,f);if(T===0)return f?o.cells.concat(o.boundary):o.cells;for(var d=1,M=o.active,A=o.next,E=o.flags,g=o.cells,S=o.constraint,b=o.neighbor;M.length>0||A.length>0;){for(;M.length>0;){var i=M.pop();if(E[i]!==-d){E[i]=d,g[i];for(var P=0;P<3;++P){var x=b[3*i+P];x>=0&&E[x]===0&&(S[3*i+P]?A.push(x):(M.push(x),E[x]=d))}}}var k=A;A=M,M=k,A.length=0,d=-d}var _=u(g,E,T);return f?_.concat(o.boundary):_}},9971:function(v,y,t){var r=t(5070),l=t(417)[3],a=0,s=1,c=2;v.exports=A;function u(E,g,S,b,i){this.a=E,this.b=g,this.idx=S,this.lowerIds=b,this.upperIds=i}function m(E,g,S,b){this.a=E,this.b=g,this.type=S,this.idx=b}function h(E,g){var S=E.a[0]-g.a[0]||E.a[1]-g.a[1]||E.type-g.type;return S||E.type!==a&&(S=l(E.a,E.b,g.b),S)?S:E.idx-g.idx}function T(E,g){return l(E.a,E.b,g)}function f(E,g,S,b,i){for(var P=r.lt(g,b,T),x=r.gt(g,b,T),k=P;k<x;++k){for(var _=g[k],B=_.lowerIds,z=B.length;z>1&&l(S[B[z-2]],S[B[z-1]],b)>0;)E.push([B[z-1],B[z-2],i]),z-=1;B.length=z,B.push(i);for(var I=_.upperIds,z=I.length;z>1&&l(S[I[z-2]],S[I[z-1]],b)<0;)E.push([I[z-2],I[z-1],i]),z-=1;I.length=z,I.push(i)}}function o(E,g){var S;return E.a[0]<g.a[0]?S=l(E.a,E.b,g.a):S=l(g.b,g.a,E.a),S||(g.b[0]<E.b[0]?S=l(E.a,E.b,g.b):S=l(g.b,g.a,E.b),S||E.idx-g.idx)}function d(E,g,S){var b=r.le(E,S,o),i=E[b],P=i.upperIds,x=P[P.length-1];i.upperIds=[x],E.splice(b+1,0,new u(S.a,S.b,S.idx,[x],P))}function M(E,g,S){var b=S.a;S.a=S.b,S.b=b;var i=r.eq(E,S,o),P=E[i],x=E[i-1];x.upperIds=P.upperIds,E.splice(i,1)}function A(E,g){for(var S=E.length,b=g.length,i=[],P=0;P<S;++P)i.push(new m(E[P],null,a,P));for(var P=0;P<b;++P){var x=g[P],k=E[x[0]],_=E[x[1]];k[0]<_[0]?i.push(new m(k,_,c,P),new m(_,k,s,P)):k[0]>_[0]&&i.push(new m(_,k,c,P),new m(k,_,s,P))}i.sort(h);for(var B=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),I=[new u([B,1],[B,0],-1,[],[])],z=[],P=0,O=i.length;P<O;++P){var F=i[P],N=F.type;N===a?f(z,I,E,F.a,F.idx):N===c?d(I,E,F):M(I,E,F)}return z}},743:function(v,y,t){var r=t(5070);v.exports=c;function l(u,m){this.stars=u,this.edges=m}var a=l.prototype;function s(u,m,h){for(var T=1,f=u.length;T<f;T+=2)if(u[T-1]===m&&u[T]===h){u[T-1]=u[f-2],u[T]=u[f-1],u.length=f-2;return}}a.isConstraint=function(){var u=[0,0];function m(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return u[0]=Math.min(h,T),u[1]=Math.max(h,T),r.eq(this.edges,u,m)>=0}}(),a.removeTriangle=function(u,m,h){var T=this.stars;s(T[u],m,h),s(T[m],h,u),s(T[h],u,m)},a.addTriangle=function(u,m,h){var T=this.stars;T[u].push(m,h),T[m].push(h,u),T[h].push(u,m)},a.opposite=function(u,m){for(var h=this.stars[m],T=1,f=h.length;T<f;T+=2)if(h[T]===u)return h[T-1];return-1},a.flip=function(u,m){var h=this.opposite(u,m),T=this.opposite(m,u);this.removeTriangle(u,m,h),this.removeTriangle(m,u,T),this.addTriangle(u,T,h),this.addTriangle(m,h,T)},a.edges=function(){for(var u=this.stars,m=[],h=0,T=u.length;h<T;++h)for(var f=u[h],o=0,d=f.length;o<d;o+=2)m.push([f[o],f[o+1]]);return m},a.cells=function(){for(var u=this.stars,m=[],h=0,T=u.length;h<T;++h)for(var f=u[h],o=0,d=f.length;o<d;o+=2){var M=f[o],A=f[o+1];h<Math.min(M,A)&&m.push([h,M,A])}return m};function c(u,m){for(var h=new Array(u),T=0;T<u;++T)h[T]=[];return new l(h,m)}},9887:function(v){v.exports=y;function y(t){for(var r=1,l=1;l<t.length;++l)for(var a=0;a<l;++a)if(t[l]<t[a])r=-r;else if(t[a]===t[l])return 0;return r}},9243:function(v,y,t){var r=t(3094),l=t(6606);function a(u,m){for(var h=0,T=u.length,f=0;f<T;++f)h+=u[f]*m[f];return h}function s(u){var m=u.length;if(m===0)return[];u[0].length;var h=r([u.length+1,u.length+1],1),T=r([u.length+1],1);h[m][m]=0;for(var f=0;f<m;++f){for(var o=0;o<=f;++o)h[o][f]=h[f][o]=2*a(u[f],u[o]);T[f]=a(u[f],u[f])}for(var d=l(h,T),M=0,A=d[m+1],f=0;f<A.length;++f)M+=A[f];for(var E=new Array(m),f=0;f<m;++f){for(var A=d[f],g=0,o=0;o<A.length;++o)g+=A[o];E[f]=g/M}return E}function c(u){if(u.length===0)return[];for(var m=u[0].length,h=r([m]),T=s(u),f=0;f<u.length;++f)for(var o=0;o<m;++o)h[o]+=u[f][o]*T[f];return h}c.barycenetric=s,v.exports=c},1778:function(v,y,t){v.exports=l;var r=t(9243);function l(a){for(var s=r(a),c=0,u=0;u<a.length;++u)for(var m=a[u],h=0;h<s.length;++h)c+=Math.pow(m[h]-s[h],2);return Math.sqrt(c/a.length)}},197:function(v,y,t){v.exports=k;var r=t(1731),l=t(2569),a=t(4434),s=t(5125),c=t(8846),u=t(7999),m=t(2826),h=t(8551),T=t(5528);function f(_){var B=u(_);return[h(B,-1/0),h(B,1/0)]}function o(_,B){for(var I=new Array(B.length),z=0;z<B.length;++z){var O=B[z],F=_[O[0]],N=_[O[1]];I[z]=[h(Math.min(F[0],N[0]),-1/0),h(Math.min(F[1],N[1]),-1/0),h(Math.max(F[0],N[0]),1/0),h(Math.max(F[1],N[1]),1/0)]}return I}function d(_){for(var B=new Array(_.length),I=0;I<_.length;++I){var z=_[I];B[I]=[h(z[0],-1/0),h(z[1],-1/0),h(z[0],1/0),h(z[1],1/0)]}return B}function M(_,B,I){var z=[];return l(I,function(O,F){var N=B[O],Q=B[F];if(!(N[0]===Q[0]||N[0]===Q[1]||N[1]===Q[0]||N[1]===Q[1])){var $=_[N[0]],j=_[N[1]],ee=_[Q[0]],oe=_[Q[1]];a($,j,ee,oe)&&z.push([O,F])}}),z}function A(_,B,I,z){var O=[];return l(I,z,function(F,N){var Q=B[F];if(!(Q[0]===N||Q[1]===N)){var $=_[N],j=_[Q[0]],ee=_[Q[1]];a(j,ee,$,$)&&O.push([F,N])}}),O}function E(_,B,I,z,O){var F,N,Q=_.map(function(Me){return[s(Me[0]),s(Me[1])]});for(F=0;F<I.length;++F){var $=I[F];N=$[0];var j=$[1],ee=B[N],oe=B[j],Y=T(m(_[ee[0]]),m(_[ee[1]]),m(_[oe[0]]),m(_[oe[1]]));if(Y){var V=_.length;_.push([u(Y[0]),u(Y[1])]),Q.push(Y),z.push([N,V],[j,V])}}for(z.sort(function(Me,xe){if(Me[0]!==xe[0])return Me[0]-xe[0];var Ie=Q[Me[1]],_e=Q[xe[1]];return c(Ie[0],_e[0])||c(Ie[1],_e[1])}),F=z.length-1;F>=0;--F){var W=z[F];N=W[0];var X=B[N],re=X[0],ie=X[1],K=_[re],q=_[ie];if((K[0]-q[0]||K[1]-q[1])<0){var le=re;re=ie,ie=le}X[0]=re;var ae=X[1]=W[1],he;for(O&&(he=X[2]);F>0&&z[F-1][0]===N;){var W=z[--F],me=W[1];O?B.push([ae,me,he]):B.push([ae,me]),ae=me}O?B.push([ae,ie,he]):B.push([ae,ie])}return Q}function g(_,B,I){for(var z=B.length,O=new r(z),F=[],N=0;N<B.length;++N){var Q=B[N],$=f(Q[0]),j=f(Q[1]);F.push([h($[0],-1/0),h(j[0],-1/0),h($[1],1/0),h(j[1],1/0)])}l(F,function(W,X){O.link(W,X)});for(var ee=!0,oe=new Array(z),N=0;N<z;++N){var Y=O.find(N);Y!==N&&(ee=!1,_[Y]=[Math.min(_[N][0],_[Y][0]),Math.min(_[N][1],_[Y][1])])}if(ee)return null;for(var V=0,N=0;N<z;++N){var Y=O.find(N);Y===N?(oe[N]=V,_[V++]=_[N]):oe[N]=-1}_.length=V;for(var N=0;N<z;++N)oe[N]<0&&(oe[N]=oe[O.find(N)]);return oe}function S(_,B){return _[0]-B[0]||_[1]-B[1]}function b(_,B){var I=_[0]-B[0]||_[1]-B[1];return I||(_[2]<B[2]?-1:_[2]>B[2]?1:0)}function i(_,B,I){if(_.length!==0){if(B)for(var z=0;z<_.length;++z){var O=_[z],F=B[O[0]],N=B[O[1]];O[0]=Math.min(F,N),O[1]=Math.max(F,N)}else for(var z=0;z<_.length;++z){var O=_[z],F=O[0],N=O[1];O[0]=Math.min(F,N),O[1]=Math.max(F,N)}I?_.sort(b):_.sort(S);for(var Q=1,z=1;z<_.length;++z){var $=_[z-1],j=_[z];j[0]===$[0]&&j[1]===$[1]&&(!I||j[2]===$[2])||(_[Q++]=j)}_.length=Q}}function P(_,B,I){var z=g(_,[],d(_));return i(B,z,I),!!z}function x(_,B,I){var z=o(_,B),O=M(_,B,z),F=d(_),N=A(_,B,z,F),Q=E(_,B,O,N,I),$=g(_,Q);return i(B,$,I),$?!0:O.length>0||N.length>0}function k(_,B,I){var z;if(I){z=B;for(var O=new Array(B.length),F=0;F<B.length;++F){var N=B[F];O[F]=[N[0],N[1],I[F]]}B=O}for(var Q=P(_,B,!!I);x(_,B,!!I);)Q=!0;if(I&&Q){z.length=0,I.length=0;for(var F=0;F<B.length;++F){var N=B[F];z.push([N[0],N[1]]),I.push(N[2])}}return Q}},5528:function(v,y,t){v.exports=T;var r=t(3962),l=t(9189),a=t(4354),s=t(4951),c=t(6695),u=t(7584),m=t(4469);function h(f,o){return a(r(f[0],o[1]),r(f[1],o[0]))}function T(f,o,d,M){var A=c(o,f),E=c(M,d),g=h(A,E);if(s(g)===0)return null;var S=c(f,d),b=h(E,S),i=l(b,g),P=m(A,i),x=u(f,P);return x}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,y,t){var r=t(5692),l=t(3578);v.exports=a;function a(m){var h,T,f,o,d,M,A,E,i,g,S;if(m||(m={}),E=(m.nshades||72)-1,A=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!r[M])throw Error(M+" not a supported colorscale");d=r[M]}else if(Array.isArray(M))d=M.slice();else throw Error("unsupported colormap option",M);if(d.length>E+1)throw new Error(M+" map requires nshades to be at least size "+d.length);Array.isArray(m.alpha)?m.alpha.length!==2?g=[1,1]:g=m.alpha.slice():typeof m.alpha=="number"?g=[m.alpha,m.alpha]:g=[1,1],h=d.map(function(k){return Math.round(k.index*E)}),g[0]=Math.min(Math.max(g[0],0),1),g[1]=Math.min(Math.max(g[1],0),1);var b=d.map(function(k,_){var B=d[_].index,I=d[_].rgb.slice();return I.length===4&&I[3]>=0&&I[3]<=1||(I[3]=g[0]+(g[1]-g[0])*B),I}),i=[];for(S=0;S<h.length-1;++S){o=h[S+1]-h[S],T=b[S],f=b[S+1];for(var P=0;P<o;P++){var x=P/o;i.push([Math.round(l(T[0],f[0],x)),Math.round(l(T[1],f[1],x)),Math.round(l(T[2],f[2],x)),l(T[3],f[3],x)])}}return i.push(d[d.length-1].rgb.concat(g[1])),A==="hex"?i=i.map(c):A==="rgbaString"?i=i.map(u):A==="float"&&(i=i.map(s)),i}function s(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function c(m){for(var h,T="#",f=0;f<3;++f)h=m[f],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function u(m){return"rgba("+m.join(",")+")"}},9398:function(v,y,t){v.exports=m;var r=t(417),l=t(7538),a=t(87),s=t(2019),c=t(9662);function u(h,T,f){var o=a(h[0],-T[0]),d=a(h[1],-T[1]),M=a(f[0],-T[0]),A=a(f[1],-T[1]),E=c(s(o,M),s(d,A));return E[E.length-1]>=0}function m(h,T,f,o){var d=r(T,f,o);if(d===0){var M=l(r(h,T,f)),A=l(r(h,T,o));if(M===A){if(M===0){var E=u(h,T,f),g=u(h,T,o);return E===g?0:E?1:-1}return 0}else{if(A===0)return M>0||u(h,T,o)?-1:1;if(M===0)return A>0||u(h,T,f)?1:-1}return l(A-M)}var S=r(h,T,f);if(S>0)return d>0&&r(h,T,o)>0?1:-1;if(S<0)return d>0||r(h,T,o)>0?1:-1;var b=r(h,T,o);return b>0||u(h,T,f)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var y=Math.min;function t(l,a){return l-a}function r(l,a){var s=l.length,c=l.length-a.length;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-a[0];case 2:return l[0]+l[1]-a[0]-a[1]||y(l[0],l[1])-y(a[0],a[1]);case 3:var u=l[0]+l[1],m=a[0]+a[1];if(c=u+l[2]-(m+a[2]),c)return c;var h=y(l[0],l[1]),T=y(a[0],a[1]);return y(h,l[2])-y(T,a[2])||y(h+l[2],u)-y(T+a[2],m);case 4:var f=l[0],o=l[1],d=l[2],M=l[3],A=a[0],E=a[1],g=a[2],S=a[3];return f+o+d+M-(A+E+g+S)||y(f,o,d,M)-y(A,E,g,S,A)||y(f+o,f+d,f+M,o+d,o+M,d+M)-y(A+E,A+g,A+S,E+g,E+S,g+S)||y(f+o+d,f+o+M,f+d+M,o+d+M)-y(A+E+g,A+E+S,A+g+S,E+g+S);default:for(var b=l.slice().sort(t),i=a.slice().sort(t),P=0;P<s;++P)if(c=b[P]-i[P],c)return c;return 0}}},1284:function(v,y,t){var r=t(9209),l=t(9887);v.exports=a;function a(s,c){return r(s,c)||l(s)-l(c)}},5537:function(v,y,t){var r=t(8950),l=t(8722),a=t(3332);v.exports=s;function s(c){var u=c.length;if(u===0)return[];if(u===1)return[[0]];var m=c[0].length;return m===0?[]:m===1?r(c):m===2?l(c):a(c,m)}},8950:function(v){v.exports=y;function y(t){for(var r=0,l=0,a=1;a<t.length;++a)t[a][0]<t[r][0]&&(r=a),t[a][0]>t[l][0]&&(l=a);return r<l?[[r],[l]]:r>l?[[l],[r]]:[[r]]}},8722:function(v,y,t){v.exports=l;var r=t(3266);function l(a){var s=r(a),c=s.length;if(c<=2)return[];for(var u=new Array(c),m=s[c-1],h=0;h<c;++h){var T=s[h];u[h]=[m,T],m=T}return u}},3332:function(v,y,t){v.exports=c;var r=t(2183),l=t(2153);function a(u,m){for(var h=u.length,T=new Array(h),f=0;f<m.length;++f)T[f]=u[m[f]];for(var o=m.length,f=0;f<h;++f)m.indexOf(f)<0&&(T[o++]=u[f]);return T}function s(u,m){for(var h=u.length,T=m.length,f=0;f<h;++f)for(var o=u[f],d=0;d<o.length;++d){var M=o[d];if(M<T)o[d]=m[M];else{M=M-T;for(var A=0;A<T;++A)M>=m[A]&&(M+=1);o[d]=M}}return u}function c(u,m){try{return r(u,!0)}catch{var h=l(u);if(h.length<=m)return[];var T=a(u,h),f=r(T,!0);return s(f,h)}}},9680:function(v){function y(r,l,a,s,c,u){var m=6*c*c-6*c,h=3*c*c-4*c+1,T=-6*c*c+6*c,f=3*c*c-2*c;if(r.length){u||(u=new Array(r.length));for(var o=r.length-1;o>=0;--o)u[o]=m*r[o]+h*l[o]+T*a[o]+f*s[o];return u}return m*r+h*l+T*a[o]+f*s}function t(r,l,a,s,c,u){var m=c-1,h=c*c,T=m*m,f=(1+2*c)*T,o=c*T,d=h*(3-2*c),M=h*m;if(r.length){u||(u=new Array(r.length));for(var A=r.length-1;A>=0;--A)u[A]=f*r[A]+o*l[A]+d*a[A]+M*s[A];return u}return f*r+o*l+d*a+M*s}v.exports=t,v.exports.derivative=y},4419:function(v,y,t){var r=t(2183),l=t(1215);v.exports=u;function a(m,h){this.point=m,this.index=h}function s(m,h){for(var T=m.point,f=h.point,o=T.length,d=0;d<o;++d){var M=f[d]-T[d];if(M)return M}return 0}function c(m,h,T){if(m===1)return T?[[-1,0]]:[];var f=h.map(function(E,g){return[E[0],g]});f.sort(function(E,g){return E[0]-g[0]});for(var o=new Array(m-1),d=1;d<m;++d){var M=f[d-1],A=f[d];o[d-1]=[M[1],A[1]]}return T&&o.push([-1,o[0][1]],[o[m-1][1],-1]),o}function u(m,h){var T=m.length;if(T===0)return[];var f=m[0].length;if(f<1)return[];if(f===1)return c(T,m,h);for(var o=new Array(T),d=1,M=0;M<T;++M){for(var A=m[M],E=new Array(f+1),g=0,S=0;S<f;++S){var b=A[S];E[S]=b,g+=b*b}E[f]=g,o[M]=new a(E,M),d=Math.max(g,d)}l(o,s),T=o.length;for(var i=new Array(T+f+1),P=new Array(T+f+1),x=(f+1)*(f+1)*d,k=new Array(f+1),M=0;M<=f;++M)k[M]=0;k[f]=x,i[0]=k.slice(),P[0]=-1;for(var M=0;M<=f;++M){var E=k.slice();E[M]=1,i[M+1]=E,P[M+1]=-1}for(var M=0;M<T;++M){var _=o[M];i[M+f+1]=_.point,P[M+f+1]=_.index}var B=r(i,!1);if(h?B=B.filter(function(I){for(var z=0,O=0;O<=f;++O){var F=P[I[O]];if(F<0&&++z>=2)return!1;I[O]=F}return!0}):B=B.filter(function(I){for(var z=0;z<=f;++z){var O=P[I[z]];if(O<0)return!1;I[z]=O}return!0}),f&1)for(var M=0;M<B.length;++M){var _=B[M],E=_[0];_[0]=_[1],_[1]=E}return B}},8362:function(v){var y=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,y=!0,r[1]===1072693248){let a=function(u,m){return r[0]=u,r[1]=m,t[0]},s=function(u){return t[0]=u,r[0]},c=function(u){return t[0]=u,r[1]};v.exports=function(m){return t[0]=m,[r[0],r[1]]},v.exports.pack=a,v.exports.lo=s,v.exports.hi=c}else if(r[0]===1072693248){let a=function(u,m){return r[1]=u,r[0]=m,t[0]},s=function(u){return t[0]=u,r[1]},c=function(u){return t[0]=u,r[0]};v.exports=function(m){return t[0]=m,[r[1],r[0]]},v.exports.pack=a,v.exports.lo=s,v.exports.hi=c}else y=!1}if(!y){let a=function(u,m){return l.writeUInt32LE(u,0,!0),l.writeUInt32LE(m,4,!0),l.readDoubleLE(0,!0)},s=function(u){return l.writeDoubleLE(u,0,!0),l.readUInt32LE(0,!0)},c=function(u){return l.writeDoubleLE(u,0,!0),l.readUInt32LE(4,!0)};var l=new Buffer(8);v.exports=function(m){return l.writeDoubleLE(m,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},v.exports.pack=a,v.exports.lo=s,v.exports.hi=c}v.exports.sign=function(a){return v.exports.hi(a)>>>31},v.exports.exponent=function(a){var s=v.exports.hi(a);return(s<<1>>>21)-1023},v.exports.fraction=function(a){var s=v.exports.lo(a),c=v.exports.hi(a),u=c&(1<<20)-1;return c&2146435072&&(u+=1048576),[s,u]},v.exports.denormalized=function(a){var s=v.exports.hi(a);return!(s&2146435072)}},3094:function(v){function y(l,a,s){var c=l[s]|0;if(c<=0)return[];var u=new Array(c),m;if(s===l.length-1)for(m=0;m<c;++m)u[m]=a;else for(m=0;m<c;++m)u[m]=y(l,a,s+1);return u}function t(l,a){var s,c;for(s=new Array(l),c=0;c<l;++c)s[c]=a;return s}function r(l,a){switch(typeof a>"u"&&(a=0),typeof l){case"number":if(l>0)return t(l|0,a);break;case"object":if(typeof l.length=="number")return y(l,a,0);break}return[]}v.exports=r},8348:function(v,y,t){v.exports=l;var r=t(1215);function l(a,s){var c=a.length;if(typeof s!="number"){s=0;for(var u=0;u<c;++u){var m=a[u];s=Math.max(s,m[0],m[1])}s=(s|0)+1}s=s|0;for(var h=new Array(s),u=0;u<s;++u)h[u]=[];for(var u=0;u<c;++u){var m=a[u];h[m[0]].push(m[1]),h[m[1]].push(m[0])}for(var T=0;T<s;++T)r(h[T],function(f,o){return f-o});return h}},5795:function(v){v.exports=y;function y(t,r,l){var a=r||0,s=l||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[a*t[12]+t[8],a*t[13]+t[9],a*t[14]+t[10],a*t[15]+t[11]],[s*t[12]-t[8],s*t[13]-t[9],s*t[14]-t[10],s*t[15]-t[11]]]}},8444:function(v,y,t){v.exports=m;var r=t(9680),l=t(5070);function a(h,T,f){return Math.min(T,Math.max(h,f))}function s(h,T,f){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[f],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var c=s.prototype;c.flush=function(h){var T=l.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},c.curve=function(h){var T=this._time,f=T.length,o=l.le(T,h),d=this._scratch[0],M=this._state,A=this._velocity,E=this.dimension,g=this.bounds;if(o<0)for(var S=E-1,b=0;b<E;++b,--S)d[b]=M[S];else if(o>=f-1)for(var S=M.length-1,i=h-T[f-1],b=0;b<E;++b,--S)d[b]=M[S]+i*A[S];else{for(var S=E*(o+1)-1,P=T[o],x=T[o+1],k=x-P||1,_=this._scratch[1],B=this._scratch[2],I=this._scratch[3],z=this._scratch[4],O=!0,b=0;b<E;++b,--S)_[b]=M[S],I[b]=A[S]*k,B[b]=M[S+E],z[b]=A[S+E]*k,O=O&&_[b]===B[b]&&I[b]===z[b]&&I[b]===0;if(O)for(var b=0;b<E;++b)d[b]=_[b];else r(_,I,B,z,(h-P)/k,d)}for(var F=g[0],N=g[1],b=0;b<E;++b)d[b]=a(F[b],N[b],d[b]);return d},c.dcurve=function(h){var T=this._time,f=T.length,o=l.le(T,h),d=this._scratch[0],M=this._state,A=this._velocity,E=this.dimension;if(o>=f-1){var g=M.length-1;h-T[f-1];for(var S=0;S<E;++S,--g)d[S]=A[g]}else{for(var g=E*(o+1)-1,b=T[o],i=T[o+1],P=i-b||1,x=this._scratch[1],k=this._scratch[2],_=this._scratch[3],B=this._scratch[4],I=!0,S=0;S<E;++S,--g)x[S]=M[g],_[S]=A[g]*P,k[S]=M[g+E],B[S]=A[g+E]*P,I=I&&x[S]===k[S]&&_[S]===B[S]&&_[S]===0;if(I)for(var S=0;S<E;++S)d[S]=0;else{r.derivative(x,_,k,B,(h-b)/P,d);for(var S=0;S<E;++S)d[S]/=P}}return d},c.lastT=function(){var h=this._time;return h[h.length-1]},c.stable=function(){for(var h=this._velocity,T=h.length,f=this.dimension-1;f>=0;--f)if(h[--T])return!1;return!0},c.jump=function(h){var T=this.lastT(),f=this.dimension;if(!(h<T||arguments.length!==f+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,A=this.bounds,E=A[0],g=A[1];this._time.push(T,h);for(var S=0;S<2;++S)for(var b=0;b<f;++b)o.push(o[M++]),d.push(0);this._time.push(h);for(var b=f;b>0;--b)o.push(a(E[b-1],g[b-1],arguments[b])),d.push(0)}},c.push=function(h){var T=this.lastT(),f=this.dimension;if(!(h<T||arguments.length!==f+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,A=h-T,E=this.bounds,g=E[0],S=E[1],b=A>1e-6?1/A:0;this._time.push(h);for(var i=f;i>0;--i){var P=a(g[i-1],S[i-1],arguments[i]);o.push(P),d.push((P-o[M++])*b)}}},c.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var f=this._state,o=this._velocity,d=this.bounds,M=d[0],A=d[1];this._time.push(h);for(var E=T;E>0;--E)f.push(a(M[E-1],A[E-1],arguments[E])),o.push(0)}},c.move=function(h){var T=this.lastT(),f=this.dimension;if(!(h<=T||arguments.length!==f+1)){var o=this._state,d=this._velocity,M=o.length-this.dimension,A=this.bounds,E=A[0],g=A[1],S=h-T,b=S>1e-6?1/S:0;this._time.push(h);for(var i=f;i>0;--i){var P=arguments[i];o.push(a(E[i-1],g[i-1],o[M++]+P)),d.push(P*b)}}},c.idle=function(h){var T=this.lastT();if(!(h<T)){var f=this.dimension,o=this._state,d=this._velocity,M=o.length-f,A=this.bounds,E=A[0],g=A[1],S=h-T;this._time.push(h);for(var b=f-1;b>=0;--b)o.push(a(E[b],g[b],o[M]+S*d[M])),d.push(0),M+=1}};function u(h){for(var T=new Array(h),f=0;f<h;++f)T[f]=0;return T}function m(h,T,f){switch(arguments.length){case 0:return new s([0],[0],0);case 1:if(typeof h=="number"){var o=u(h);return new s(o,o,0)}else return new s(h,u(h.length),0);case 2:if(typeof T=="number"){var o=u(h.length);return new s(h,o,+T)}else f=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new s(h,T,f)}}},7080:function(v){v.exports=E;var y=0,t=1;function r(g,S,b,i,P,x){this._color=g,this.key=S,this.value=b,this.left=i,this.right=P,this._count=x}function l(g){return new r(g._color,g.key,g.value,g.left,g.right,g._count)}function a(g,S){return new r(g,S.key,S.value,S.left,S.right,S._count)}function s(g){g._count=1+(g.left?g.left._count:0)+(g.right?g.right._count:0)}function c(g,S){this._compare=g,this.root=S}var u=c.prototype;Object.defineProperty(u,"keys",{get:function(){var g=[];return this.forEach(function(S,b){g.push(S)}),g}}),Object.defineProperty(u,"values",{get:function(){var g=[];return this.forEach(function(S,b){g.push(b)}),g}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(g,S){for(var b=this._compare,i=this.root,P=[],x=[];i;){var k=b(g,i.key);P.push(i),x.push(k),k<=0?i=i.left:i=i.right}P.push(new r(y,g,S,null,null,1));for(var _=P.length-2;_>=0;--_){var i=P[_];x[_]<=0?P[_]=new r(i._color,i.key,i.value,P[_+1],i.right,i._count+1):P[_]=new r(i._color,i.key,i.value,i.left,P[_+1],i._count+1)}for(var _=P.length-1;_>1;--_){var B=P[_-1],i=P[_];if(B._color===t||i._color===t)break;var I=P[_-2];if(I.left===B)if(B.left===i){var z=I.right;if(z&&z._color===y)B._color=t,I.right=a(t,z),I._color=y,_-=1;else{if(I._color=y,I.left=B.right,B._color=t,B.right=I,P[_-2]=B,P[_-1]=i,s(I),s(B),_>=3){var O=P[_-3];O.left===I?O.left=B:O.right=B}break}}else{var z=I.right;if(z&&z._color===y)B._color=t,I.right=a(t,z),I._color=y,_-=1;else{if(B.right=i.left,I._color=y,I.left=i.right,i._color=t,i.left=B,i.right=I,P[_-2]=i,P[_-1]=B,s(I),s(B),s(i),_>=3){var O=P[_-3];O.left===I?O.left=i:O.right=i}break}}else if(B.right===i){var z=I.left;if(z&&z._color===y)B._color=t,I.left=a(t,z),I._color=y,_-=1;else{if(I._color=y,I.right=B.left,B._color=t,B.left=I,P[_-2]=B,P[_-1]=i,s(I),s(B),_>=3){var O=P[_-3];O.right===I?O.right=B:O.left=B}break}}else{var z=I.left;if(z&&z._color===y)B._color=t,I.left=a(t,z),I._color=y,_-=1;else{if(B.left=i.right,I._color=y,I.right=i.left,i._color=t,i.right=B,i.left=I,P[_-2]=i,P[_-1]=B,s(I),s(B),s(i),_>=3){var O=P[_-3];O.right===I?O.right=i:O.left=i}break}}}return P[0]._color=t,new c(b,P[0])};function m(g,S){if(S.left){var b=m(g,S.left);if(b)return b}var b=g(S.key,S.value);if(b)return b;if(S.right)return m(g,S.right)}function h(g,S,b,i){var P=S(g,i.key);if(P<=0){if(i.left){var x=h(g,S,b,i.left);if(x)return x}var x=b(i.key,i.value);if(x)return x}if(i.right)return h(g,S,b,i.right)}function T(g,S,b,i,P){var x=b(g,P.key),k=b(S,P.key),_;if(x<=0&&(P.left&&(_=T(g,S,b,i,P.left),_)||k>0&&(_=i(P.key,P.value),_)))return _;if(k>0&&P.right)return T(g,S,b,i,P.right)}u.forEach=function(S,b,i){if(this.root)switch(arguments.length){case 1:return m(S,this.root);case 2:return h(b,this._compare,S,this.root);case 3:return this._compare(b,i)>=0?void 0:T(b,i,this._compare,S,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var g=[],S=this.root;S;)g.push(S),S=S.left;return new f(this,g)}}),Object.defineProperty(u,"end",{get:function(){for(var g=[],S=this.root;S;)g.push(S),S=S.right;return new f(this,g)}}),u.at=function(g){if(g<0)return new f(this,[]);for(var S=this.root,b=[];;){if(b.push(S),S.left){if(g<S.left._count){S=S.left;continue}g-=S.left._count}if(!g)return new f(this,b);if(g-=1,S.right){if(g>=S.right._count)break;S=S.right}else break}return new f(this,[])},u.ge=function(g){for(var S=this._compare,b=this.root,i=[],P=0;b;){var x=S(g,b.key);i.push(b),x<=0&&(P=i.length),x<=0?b=b.left:b=b.right}return i.length=P,new f(this,i)},u.gt=function(g){for(var S=this._compare,b=this.root,i=[],P=0;b;){var x=S(g,b.key);i.push(b),x<0&&(P=i.length),x<0?b=b.left:b=b.right}return i.length=P,new f(this,i)},u.lt=function(g){for(var S=this._compare,b=this.root,i=[],P=0;b;){var x=S(g,b.key);i.push(b),x>0&&(P=i.length),x<=0?b=b.left:b=b.right}return i.length=P,new f(this,i)},u.le=function(g){for(var S=this._compare,b=this.root,i=[],P=0;b;){var x=S(g,b.key);i.push(b),x>=0&&(P=i.length),x<0?b=b.left:b=b.right}return i.length=P,new f(this,i)},u.find=function(g){for(var S=this._compare,b=this.root,i=[];b;){var P=S(g,b.key);if(i.push(b),P===0)return new f(this,i);P<=0?b=b.left:b=b.right}return new f(this,[])},u.remove=function(g){var S=this.find(g);return S?S.remove():this},u.get=function(g){for(var S=this._compare,b=this.root;b;){var i=S(g,b.key);if(i===0)return b.value;i<=0?b=b.left:b=b.right}};function f(g,S){this.tree=g,this._stack=S}var o=f.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new f(this.tree,this._stack.slice())};function d(g,S){g.key=S.key,g.value=S.value,g.left=S.left,g.right=S.right,g._color=S._color,g._count=S._count}function M(g){for(var S,b,i,P,x=g.length-1;x>=0;--x){if(S=g[x],x===0){S._color=t;return}if(b=g[x-1],b.left===S){if(i=b.right,i.right&&i.right._color===y){if(i=b.right=l(i),P=i.right=l(i.right),b.right=i.left,i.left=b,i.right=P,i._color=b._color,S._color=t,b._color=t,P._color=t,s(b),s(i),x>1){var k=g[x-2];k.left===b?k.left=i:k.right=i}g[x-1]=i;return}else if(i.left&&i.left._color===y){if(i=b.right=l(i),P=i.left=l(i.left),b.right=P.left,i.left=P.right,P.left=b,P.right=i,P._color=b._color,b._color=t,i._color=t,S._color=t,s(b),s(i),s(P),x>1){var k=g[x-2];k.left===b?k.left=P:k.right=P}g[x-1]=P;return}if(i._color===t)if(b._color===y){b._color=t,b.right=a(y,i);return}else{b.right=a(y,i);continue}else{if(i=l(i),b.right=i.left,i.left=b,i._color=b._color,b._color=y,s(b),s(i),x>1){var k=g[x-2];k.left===b?k.left=i:k.right=i}g[x-1]=i,g[x]=b,x+1<g.length?g[x+1]=S:g.push(S),x=x+2}}else{if(i=b.left,i.left&&i.left._color===y){if(i=b.left=l(i),P=i.left=l(i.left),b.left=i.right,i.right=b,i.left=P,i._color=b._color,S._color=t,b._color=t,P._color=t,s(b),s(i),x>1){var k=g[x-2];k.right===b?k.right=i:k.left=i}g[x-1]=i;return}else if(i.right&&i.right._color===y){if(i=b.left=l(i),P=i.right=l(i.right),b.left=P.right,i.right=P.left,P.right=b,P.left=i,P._color=b._color,b._color=t,i._color=t,S._color=t,s(b),s(i),s(P),x>1){var k=g[x-2];k.right===b?k.right=P:k.left=P}g[x-1]=P;return}if(i._color===t)if(b._color===y){b._color=t,b.left=a(y,i);return}else{b.left=a(y,i);continue}else{if(i=l(i),b.left=i.right,i.right=b,i._color=b._color,b._color=y,s(b),s(i),x>1){var k=g[x-2];k.right===b?k.right=i:k.left=i}g[x-1]=i,g[x]=b,x+1<g.length?g[x+1]=S:g.push(S),x=x+2}}}}o.remove=function(){var g=this._stack;if(g.length===0)return this.tree;var S=new Array(g.length),b=g[g.length-1];S[S.length-1]=new r(b._color,b.key,b.value,b.left,b.right,b._count);for(var i=g.length-2;i>=0;--i){var b=g[i];b.left===g[i+1]?S[i]=new r(b._color,b.key,b.value,S[i+1],b.right,b._count):S[i]=new r(b._color,b.key,b.value,b.left,S[i+1],b._count)}if(b=S[S.length-1],b.left&&b.right){var P=S.length;for(b=b.left;b.right;)S.push(b),b=b.right;var x=S[P-1];S.push(new r(b._color,x.key,x.value,b.left,b.right,b._count)),S[P-1].key=b.key,S[P-1].value=b.value;for(var i=S.length-2;i>=P;--i)b=S[i],S[i]=new r(b._color,b.key,b.value,b.left,S[i+1],b._count);S[P-1].left=S[P]}if(b=S[S.length-1],b._color===y){var k=S[S.length-2];k.left===b?k.left=null:k.right===b&&(k.right=null),S.pop();for(var i=0;i<S.length;++i)S[i]._count--;return new c(this.tree._compare,S[0])}else if(b.left||b.right){b.left?d(b,b.left):b.right&&d(b,b.right),b._color=t;for(var i=0;i<S.length-1;++i)S[i]._count--;return new c(this.tree._compare,S[0])}else{if(S.length===1)return new c(this.tree._compare,null);for(var i=0;i<S.length;++i)S[i]._count--;var _=S[S.length-2];M(S),_.left===b?_.left=null:_.right=null}return new c(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var g=0,S=this._stack;if(S.length===0){var b=this.tree.root;return b?b._count:0}else S[S.length-1].left&&(g=S[S.length-1].left._count);for(var i=S.length-2;i>=0;--i)S[i+1]===S[i].right&&(++g,S[i].left&&(g+=S[i].left._count));return g},enumerable:!0}),o.next=function(){var g=this._stack;if(g.length!==0){var S=g[g.length-1];if(S.right)for(S=S.right;S;)g.push(S),S=S.left;else for(g.pop();g.length>0&&g[g.length-1].right===S;)S=g[g.length-1],g.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].right)return!0;for(var S=g.length-1;S>0;--S)if(g[S-1].left===g[S])return!0;return!1}}),o.update=function(g){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var b=new Array(S.length),i=S[S.length-1];b[b.length-1]=new r(i._color,i.key,g,i.left,i.right,i._count);for(var P=S.length-2;P>=0;--P)i=S[P],i.left===S[P+1]?b[P]=new r(i._color,i.key,i.value,b[P+1],i.right,i._count):b[P]=new r(i._color,i.key,i.value,i.left,b[P+1],i._count);return new c(this.tree._compare,b[0])},o.prev=function(){var g=this._stack;if(g.length!==0){var S=g[g.length-1];if(S.left)for(S=S.left;S;)g.push(S),S=S.right;else for(g.pop();g.length>0&&g[g.length-1].left===S;)S=g[g.length-1],g.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].left)return!0;for(var S=g.length-1;S>0;--S)if(g[S-1].right===g[S])return!0;return!1}});function A(g,S){return g<S?-1:g>S?1:0}function E(g){return new c(g||A,null)}},7453:function(v,y,t){v.exports=i;var r=t(9557),l=t(1681),a=t(1011),s=t(2864),c=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(P,x){return P[0]=x[0],P[1]=x[1],P[2]=x[2],P}function h(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(P)}var T=h.prototype;T.update=function(P){P=P||{};function x(ee,oe,Y){if(Y in P){var V=P[Y],W=this[Y],X;(ee?Array.isArray(V)&&Array.isArray(V[0]):Array.isArray(V))?this[Y]=X=[oe(V[0]),oe(V[1]),oe(V[2])]:this[Y]=X=[oe(V),oe(V),oe(V)];for(var re=0;re<3;++re)if(X[re]!==W[re])return!0}return!1}var k=x.bind(this,!1,Number),_=x.bind(this,!1,Boolean),B=x.bind(this,!1,String),I=x.bind(this,!0,function(ee){if(Array.isArray(ee)){if(ee.length===3)return[+ee[0],+ee[1],+ee[2],1];if(ee.length===4)return[+ee[0],+ee[1],+ee[2],+ee[3]]}return[0,0,0,1]}),z,O=!1,F=!1;if("bounds"in P)for(var N=P.bounds,Q=0;Q<2;++Q)for(var $=0;$<3;++$)N[Q][$]!==this.bounds[Q][$]&&(F=!0),this.bounds[Q][$]=N[Q][$];if("ticks"in P){z=P.ticks,O=!0,this.autoTicks=!1;for(var Q=0;Q<3;++Q)this.tickSpacing[Q]=0}else k("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),F=!0,O=!0,this._firstInit=!1),F&&this.autoTicks&&(z=c.create(this.bounds,this.tickSpacing),O=!0),O){for(var Q=0;Q<3;++Q)z[Q].sort(function(oe,Y){return oe.x-Y.x});c.equal(z,this.ticks)?O=!1:this.ticks=z}_("tickEnable"),B("tickFont")&&(O=!0),k("tickSize"),k("tickAngle"),k("tickPad"),I("tickColor");var j=B("labels");B("labelFont")&&(j=!0),_("labelEnable"),k("labelSize"),k("labelPad"),I("labelColor"),_("lineEnable"),_("lineMirror"),k("lineWidth"),I("lineColor"),_("lineTickEnable"),_("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),I("lineTickColor"),_("gridEnable"),k("gridWidth"),I("gridColor"),_("zeroEnable"),I("zeroLineColor"),k("zeroLineWidth"),_("backgroundEnable"),I("backgroundColor"),this._text?this._text&&(j||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new f,new f,new f];function d(P,x,k,_,B){for(var I=P.primalOffset,z=P.primalMinor,O=P.mirrorOffset,F=P.mirrorMinor,N=_[x],Q=0;Q<3;++Q)if(x!==Q){var $=I,j=O,ee=z,oe=F;N&1<<Q&&($=O,j=I,ee=F,oe=z),$[Q]=k[0][Q],j[Q]=k[1][Q],B[Q]>0?(ee[Q]=-1,oe[Q]=0):(ee[Q]=0,oe[Q]=1)}}var M=[0,0,0],A={model:u,view:u,projection:u,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(P){};var E=0,g=[0,0,0],S=[0,0,0],b=[0,0,0];T.draw=function(P){P=P||A;for(var W=this.gl,x=P.model||u,k=P.view||u,_=P.projection||u,B=this.bounds,I=P._ortho||!1,z=s(x,k,_,B,I),O=z.cubeEdges,F=z.axis,N=k[12],Q=k[13],$=k[14],j=k[15],ee=I?2:1,oe=ee*this.pixelRatio*(_[3]*N+_[7]*Q+_[11]*$+_[15]*j)/W.drawingBufferHeight,Y=0;Y<3;++Y)this.lastCubeProps.cubeEdges[Y]=O[Y],this.lastCubeProps.axis[Y]=F[Y];for(var V=o,Y=0;Y<3;++Y)d(o[Y],Y,this.bounds,O,F);for(var W=this.gl,X=M,Y=0;Y<3;++Y)this.backgroundEnable[Y]?X[Y]=F[Y]:X[Y]=0;this._background.draw(x,k,_,B,X,this.backgroundColor),this._lines.bind(x,k,_,this);for(var Y=0;Y<3;++Y){var re=[0,0,0];F[Y]>0?re[Y]=B[1][Y]:re[Y]=B[0][Y];for(var ie=0;ie<2;++ie){var K=(Y+1+ie)%3,q=(Y+1+(ie^1))%3;this.gridEnable[K]&&this._lines.drawGrid(K,q,this.bounds,re,this.gridColor[K],this.gridWidth[K]*this.pixelRatio)}for(var ie=0;ie<2;++ie){var K=(Y+1+ie)%3,q=(Y+1+(ie^1))%3;this.zeroEnable[q]&&Math.min(B[0][q],B[1][q])<=0&&Math.max(B[0][q],B[1][q])>=0&&this._lines.drawZero(K,q,this.bounds,re,this.zeroLineColor[q],this.zeroLineWidth[q]*this.pixelRatio)}}for(var Y=0;Y<3;++Y){this.lineEnable[Y]&&this._lines.drawAxisLine(Y,this.bounds,V[Y].primalOffset,this.lineColor[Y],this.lineWidth[Y]*this.pixelRatio),this.lineMirror[Y]&&this._lines.drawAxisLine(Y,this.bounds,V[Y].mirrorOffset,this.lineColor[Y],this.lineWidth[Y]*this.pixelRatio);for(var le=m(g,V[Y].primalMinor),ae=m(S,V[Y].mirrorMinor),he=this.lineTickLength,ie=0;ie<3;++ie){var me=oe/x[5*ie];le[ie]*=he[ie]*me,ae[ie]*=he[ie]*me}this.lineTickEnable[Y]&&this._lines.drawAxisTicks(Y,V[Y].primalOffset,le,this.lineTickColor[Y],this.lineTickWidth[Y]*this.pixelRatio),this.lineTickMirror[Y]&&this._lines.drawAxisTicks(Y,V[Y].mirrorOffset,ae,this.lineTickColor[Y],this.lineTickWidth[Y]*this.pixelRatio)}this._lines.unbind(),this._text.bind(x,k,_,this.pixelRatio);var Me,xe=.5,Ie,_e;function Te(He){_e=[0,0,0],_e[He]=1}function ye(He,ut,et){var Qe=(He+1)%3,qe=(He+2)%3,ft=ut[Qe],gt=ut[qe],xt=et[Qe],Ct=et[qe];if(ft>0&&Ct>0){Te(Qe);return}else if(ft>0&&Ct<0){Te(Qe);return}else if(ft<0&&Ct>0){Te(Qe);return}else if(ft<0&&Ct<0){Te(Qe);return}else if(gt>0&&xt>0){Te(qe);return}else if(gt>0&&xt<0){Te(qe);return}else if(gt<0&&xt>0){Te(qe);return}else if(gt<0&&xt<0){Te(qe);return}}for(var Y=0;Y<3;++Y){for(var Ae=V[Y].primalMinor,Be=V[Y].mirrorMinor,Ue=m(b,V[Y].primalOffset),ie=0;ie<3;++ie)this.lineTickEnable[Y]&&(Ue[ie]+=oe*Ae[ie]*Math.max(this.lineTickLength[ie],0)/x[5*ie]);var De=[0,0,0];if(De[Y]=1,this.tickEnable[Y]){this.tickAngle[Y]===-3600?(this.tickAngle[Y]=0,this.tickAlign[Y]="auto"):this.tickAlign[Y]=-1,Ie=1,Me=[this.tickAlign[Y],xe,Ie],Me[0]==="auto"?Me[0]=E:Me[0]=parseInt(""+Me[0]),_e=[0,0,0],ye(Y,Ae,Be);for(var ie=0;ie<3;++ie)Ue[ie]+=oe*Ae[ie]*this.tickPad[ie]/x[5*ie];this._text.drawTicks(Y,this.tickSize[Y],this.tickAngle[Y],Ue,this.tickColor[Y],De,_e,Me)}if(this.labelEnable[Y]){Ie=0,_e=[0,0,0],this.labels[Y].length>4&&(Te(Y),Ie=1),Me=[this.labelAlign[Y],xe,Ie],Me[0]==="auto"?Me[0]=E:Me[0]=parseInt(""+Me[0]);for(var ie=0;ie<3;++ie)Ue[ie]+=oe*Ae[ie]*this.labelPad[ie]/x[5*ie];Ue[Y]+=.5*(B[0][Y]+B[1][Y]),this._text.drawLabel(Y,this.labelSize[Y],this.labelAngle[Y],Ue,this.labelColor[Y],[0,0,0],_e,Me)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(P,x){var k=new h(P);return k.update(x),k}},1011:function(v,y,t){v.exports=u;var r=t(5827),l=t(2944),a=t(1943).bg;function s(m,h,T,f){this.gl=m,this.buffer=h,this.vao=T,this.shader=f}var c=s.prototype;c.draw=function(m,h,T,f,o,d){for(var M=!1,A=0;A<3;++A)M=M||o[A];if(M){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:h,projection:T,bounds:f,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(m){for(var h=[],T=[],f=0,o=0;o<3;++o)for(var d=(o+1)%3,M=(o+2)%3,A=[0,0,0],E=[0,0,0],g=-1;g<=1;g+=2){T.push(f,f+2,f+1,f+1,f+2,f+3),A[o]=g,E[o]=g;for(var S=-1;S<=1;S+=2){A[d]=S;for(var b=-1;b<=1;b+=2)A[M]=b,h.push(A[0],A[1],A[2],E[0],E[1],E[2]),f+=1}var i=d;d=M,M=i}var P=r(m,new Float32Array(h)),x=r(m,new Uint16Array(T),m.ELEMENT_ARRAY_BUFFER),k=l(m,[{buffer:P,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:m.FLOAT,size:3,offset:12,stride:24}],x),_=a(m);return _.attributes.position.location=0,_.attributes.normal.location=1,new s(m,P,k,_)}},2864:function(v,y,t){v.exports=g;var r=t(2288),l=t(104),a=t(4670),s=t(417),c=new Array(16),u=new Array(8),m=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var S=0;S<8;++S)u[S]=[1,1,1,1],m[S]=[1,1,1]})();function f(S,b,i){for(var P=0;P<4;++P){S[P]=i[12+P];for(var x=0;x<3;++x)S[P]+=b[x]*i[4*x+P]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var b=0;b<o.length;++b)if(S=a.positive(S,o[b]),S.length<3)return 0;for(var i=S[0],P=i[0]/i[3],x=i[1]/i[3],k=0,b=1;b+1<S.length;++b){var _=S[b],B=S[b+1],I=_[0]/_[3],z=_[1]/_[3],O=B[0]/B[3],F=B[1]/B[3],N=I-P,Q=z-x,$=O-P,j=F-x;k+=Math.abs(N*j-Q*$)}return k}var M=[1,1,1],A=[0,0,0],E={cubeEdges:M,axis:A};function g(S,b,i,P,x){l(c,b,S),l(c,i,c);for(var k=0,_=0;_<2;++_){h[2]=P[_][2];for(var B=0;B<2;++B){h[1]=P[B][1];for(var I=0;I<2;++I)h[0]=P[I][0],f(u[k],h,c),k+=1}}for(var z=-1,_=0;_<8;++_){for(var O=u[_][3],F=0;F<3;++F)m[_][F]=u[_][F]/O;x&&(m[_][2]*=-1),O<0&&(z<0||m[_][2]<m[z][2])&&(z=_)}if(z<0){z=0;for(var N=0;N<3;++N){for(var Q=(N+2)%3,$=(N+1)%3,j=-1,ee=-1,oe=0;oe<2;++oe){var Y=oe<<N,V=Y+(oe<<Q)+(1-oe<<$),W=Y+(1-oe<<Q)+(oe<<$);s(m[Y],m[V],m[W],T)<0||(oe?j=1:ee=1)}if(j<0||ee<0){ee>j&&(z|=1<<N);continue}for(var oe=0;oe<2;++oe){var Y=oe<<N,V=Y+(oe<<Q)+(1-oe<<$),W=Y+(1-oe<<Q)+(oe<<$),X=d([u[Y],u[V],u[W],u[Y+(1<<Q)+(1<<$)]]);oe?j=X:ee=X}if(ee>j){z|=1<<N;continue}}}for(var re=7^z,ie=-1,_=0;_<8;++_)_===z||_===re||(ie<0||m[ie][1]>m[_][1])&&(ie=_);for(var K=-1,_=0;_<3;++_){var q=ie^1<<_;if(!(q===z||q===re)){K<0&&(K=q);var $=m[q];$[0]<m[K][0]&&(K=q)}}for(var le=-1,_=0;_<3;++_){var q=ie^1<<_;if(!(q===z||q===re||q===K)){le<0&&(le=q);var $=m[q];$[0]>m[le][0]&&(le=q)}}var ae=M;ae[0]=ae[1]=ae[2]=0,ae[r.log2(K^ie)]=ie&K,ae[r.log2(ie^le)]=ie&le;var he=le^7;he===z||he===re?(he=K^7,ae[r.log2(le^he)]=he&le):ae[r.log2(K^he)]=he&K;for(var me=A,Me=z,N=0;N<3;++N)Me&1<<N?me[N]=-1:me[N]=1;return E}},1681:function(v,y,t){v.exports=M;var r=t(5827),l=t(2944),a=t(1943).j,s=[0,0,0],c=[0,0,0],u=[0,0,0],m=[0,0,0],h=[1,1];function T(A){return A[0]=A[1]=A[2]=0,A}function f(A,E){return A[0]=E[0],A[1]=E[1],A[2]=E[2],A}function o(A,E,g,S,b,i,P,x){this.gl=A,this.vertBuffer=E,this.vao=g,this.shader=S,this.tickCount=b,this.tickOffset=i,this.gridCount=P,this.gridOffset=x}var d=o.prototype;d.bind=function(A,E,g){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=E,this.shader.uniforms.projection=g,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(A,E,g,S,b){var i=T(c);this.shader.uniforms.majorAxis=c,i[A]=E[1][A]-E[0][A],this.shader.uniforms.minorAxis=i;var P=f(m,g);P[A]+=E[0][A],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=S;var x=T(u);x[(A+2)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6);var x=T(u);x[(A+1)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(A,E,g,S,b){if(this.tickCount[A]){var i=T(s);i[A]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=g,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=b;var P=T(u);P[A]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},d.drawGrid=function(A,E,g,S,b,i){if(this.gridCount[A]){var P=T(c);P[E]=g[1][E]-g[0][E],this.shader.uniforms.minorAxis=P;var x=f(m,S);x[E]+=g[0][E],this.shader.uniforms.offset=x;var k=T(s);k[A]=1,this.shader.uniforms.majorAxis=k;var _=T(u);_[A]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},d.drawZero=function(A,E,g,S,b,i){var P=T(c);this.shader.uniforms.majorAxis=P,P[A]=g[1][A]-g[0][A],this.shader.uniforms.minorAxis=P;var x=f(m,S);x[A]+=g[0][A],this.shader.uniforms.offset=x;var k=T(u);k[E]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(A,E,g){var S=[],b=[0,0,0],i=[0,0,0],P=[0,0,0],x=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var I=S.length/3|0,_=0;_<g[k].length;++_){var B=+g[k][_].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var O=S.length/3|0;b[k]=I,i[k]=O-I;for(var I=S.length/3|0,z=0;z<g[k].length;++z){var B=+g[k][z].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var O=S.length/3|0;P[k]=I,x[k]=O-I}var F=r(A,new Float32Array(S)),N=l(A,[{buffer:F,type:A.FLOAT,size:3,stride:0,offset:0}]),Q=a(A);return Q.attributes.position.location=0,new o(A,F,N,Q,i,b,x,P)}},1943:function(v,y,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.j=function(T){return l(T,a,s,null,[{name:"position",type:"vec3"}])};var c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.f=function(T){return l(T,c,u,null,[{name:"position",type:"vec3"}])};var m=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);y.bg=function(T){return l(T,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,y,t){v.exports=d;var r=t(5827),l=t(2944),a=t(875),s=t(1943).f,c=window||p.global||{},u=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var m=3;function h(M,A,E,g){this.gl=M,this.shader=A,this.buffer=E,this.vao=g,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,f=[0,0];T.bind=function(M,A,E,g){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=M,S.view=A,S.projection=E,S.pixelScale=g,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=f},T.unbind=function(){this.vao.unbind()},T.update=function(M,A,E,g,S){var b=[];function i(F,N,Q,$,j,ee){var oe=u[Q];oe||(oe=u[Q]={});var Y=oe[N];Y||(Y=oe[N]=o(N,{triangles:!0,font:Q,textAlign:"center",textBaseline:"middle",lineSpacing:j,styletags:ee}));for(var V=($||12)/12,W=Y.positions,X=Y.cells,re=0,ie=X.length;re<ie;++re)for(var K=X[re],q=2;q>=0;--q){var le=W[K[q]];b.push(V*le[0],-V*le[1],F)}}for(var P=[0,0,0],x=[0,0,0],k=[0,0,0],_=[0,0,0],B=1.25,I={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){k[z]=b.length/m|0,i(.5*(M[0][z]+M[1][z]),A[z],E[z],12,B,I),_[z]=(b.length/m|0)-k[z],P[z]=b.length/m|0;for(var O=0;O<g[z].length;++O)g[z][O].text&&i(g[z][O].x,g[z][O].text,g[z][O].font||S,g[z][O].fontSize||12,B,I);x[z]=(b.length/m|0)-P[z]}this.buffer.update(b),this.tickOffset=P,this.tickCount=x,this.labelOffset=k,this.labelCount=_},T.drawTicks=function(M,A,E,g,S,b,i,P){this.tickCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},T.drawLabel=function(M,A,E,g,S,b,i,P){this.labelCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(M,A){try{return a(M,A)}catch(E){return console.warn('error vectorizing text:"'+M+'" error:',E),{cells:[],positions:[]}}}function d(M,A,E,g,S,b){var i=r(M),P=l(M,[{buffer:i,size:3}]),x=s(M);x.attributes.position.location=0;var k=new h(M,x,i,P);return k.update(A,E,g,S,b),k}},8468:function(v,y){y.create=r,y.equal=l;function t(a,s){var c=a+"",u=c.indexOf("."),m=0;u>=0&&(m=c.length-u-1);var h=Math.pow(10,m),T=Math.round(a*s*h),f=T+"";if(f.indexOf("e")>=0)return f;var o=T/h,d=T%h;T<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var M=""+o;if(T<0&&(M="-"+M),m){for(var A=""+d;A.length<m;)A="0"+A;return M+"."+A}else return M}function r(a,s){for(var c=[],u=0;u<3;++u){var m=[];.5*(a[0][u]+a[1][u]);for(var h=0;h*s[u]<=a[1][u];++h)m.push({x:h*s[u],text:t(s[u],h)});for(var h=-1;h*s[u]>=a[0][u];--h)m.push({x:h*s[u],text:t(s[u],h)});c.push(m)}return c}function l(a,s){for(var c=0;c<3;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;++u){var m=a[c][u],h=s[c][u];if(m.x!==h.x||m.text!==h.text||m.font!==h.font||m.fontColor!==h.fontColor||m.fontSize!==h.fontSize||m.dx!==h.dx||m.dy!==h.dy)return!1}}return!0}},2771:function(v,y,t){v.exports=E;var r=t(5795),l=t(4670),a=t(2864),s=t(104),c=t(2142),u=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(g,S,b){this.lo=g,this.hi=S,this.pixelsPerDataUnit=b}var f=[0,0,0,1],o=[0,0,0,1];function d(g,S,b,i,P){for(var x=0;x<3;++x){for(var k=f,_=o,B=0;B<3;++B)_[B]=k[B]=b[B];_[3]=k[3]=1,_[x]+=1,u(_,_,S),_[3]<0&&(g[x]=1/0),k[x]-=1,u(k,k,S),k[3]<0&&(g[x]=1/0);var I=(k[0]/k[3]-_[0]/_[3])*i,z=(k[1]/k[3]-_[1]/_[3])*P;g[x]=.25*Math.sqrt(I*I+z*z)}return g}var M=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],A=[0,0,0];function E(g,S,b,i,z){var x=S.model||m,k=S.view||m,_=S.projection||m,B=S._ortho||!1,I=g.bounds,z=z||a(x,k,_,I,B),O=z.axis;s(h,k,x),s(h,_,h);for(var F=M,N=0;N<3;++N)F[N].lo=1/0,F[N].hi=-1/0,F[N].pixelsPerDataUnit=1/0;var Q=r(c(h,h));c(h,h);for(var $=0;$<3;++$){var j=($+1)%3,ee=($+2)%3,oe=A;e:for(var N=0;N<2;++N){var Y=[];if(O[$]<0!=!!N){oe[$]=I[N][$];for(var V=0;V<2;++V){oe[j]=I[V^N][j];for(var W=0;W<2;++W)oe[ee]=I[W^V^N][ee],Y.push(oe.slice())}for(var X=B?5:4,V=X;V===X;++V){if(Y.length===0)continue e;Y=l.positive(Y,Q[V])}for(var V=0;V<Y.length;++V)for(var ee=Y[V],re=d(A,h,ee,b,i),W=0;W<3;++W)F[W].lo=Math.min(F[W].lo,ee[W]),F[W].hi=Math.max(F[W].hi,ee[W]),W!==$&&(F[W].pixelsPerDataUnit=Math.min(F[W].pixelsPerDataUnit,Math.abs(re[W])))}}}return F}},5827:function(v,y,t){var r=t(5306),l=t(7498),a=t(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(o,d,M,A,E){this.gl=o,this.type=d,this.handle=M,this.length=A,this.usage=E}var u=c.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(o,d,M,A,E,g){var S=E.length*E.BYTES_PER_ELEMENT;if(g<0)return o.bufferData(d,E,A),S;if(S+g>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,g,E),M}function h(o,d){for(var M=r.malloc(o.length,d),A=o.length,E=0;E<A;++E)M[E]=o[E];return M}function T(o,d){for(var M=1,A=d.length-1;A>=0;--A){if(d[A]!==M)return!1;M*=o[A]}return!0}u.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var M=o.dtype;if(s.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&M!=="uint16"?M="uint32":M="uint16"}if(M===o.dtype&&T(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,o.data,d):this.length=m(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var E=r.malloc(o.size,M),g=a(E,o.shape);l.assign(g,o),d<0?this.length=m(this.gl,this.type,this.length,this.usage,E,d):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,o.size),d),r.free(E)}}else if(Array.isArray(o)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(o,"uint16"):S=h(o,"float32"),d<0?this.length=m(this.gl,this.type,this.length,this.usage,S,d):this.length=m(this.gl,this.type,this.length,this.usage,S.subarray(0,o.length),d),r.free(S)}else if(typeof o=="object"&&typeof o.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function f(o,d,M,A){if(M=M||o.ARRAY_BUFFER,A=A||o.DYNAMIC_DRAW,M!==o.ARRAY_BUFFER&&M!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==o.DYNAMIC_DRAW&&A!==o.STATIC_DRAW&&A!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=o.createBuffer(),g=new c(o,M,E,0,A);return g.update(d),g}v.exports=f},1140:function(v,y,t){var r=t(2858);v.exports=function(a,s){var c=a.positions,u=a.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),m;for(var h=0,T=1/0,f=-1/0,o=1/0,d=-1/0,M=1/0,A=-1/0,E=null,g=null,S=[],b=1/0,i=!1,P=0;P<c.length;P++){var x=c[P];T=Math.min(x[0],T),f=Math.max(x[0],f),o=Math.min(x[1],o),d=Math.max(x[1],d),M=Math.min(x[2],M),A=Math.max(x[2],A);var k=u[P];if(r.length(k)>h&&(h=r.length(k)),P){var _=2*r.distance(E,x)/(r.length(g)+r.length(k));_?(b=Math.min(b,_),i=!1):i=!0}i||(E=x,g=k),S.push(k)}var B=[T,o,M],I=[f,d,A];s&&(s[0]=B,s[1]=I),h===0&&(h=1);var z=1/h;isFinite(b)||(b=1),m.vectorScale=b;var O=a.coneSize||.5;a.absoluteConeSize&&(O=a.absoluteConeSize*z),m.coneScale=O;for(var P=0,F=0;P<c.length;P++)for(var x=c[P],N=x[0],Q=x[1],$=x[2],j=S[P],ee=r.length(j)*z,oe=0,Y=8;oe<Y;oe++){m.positions.push([N,Q,$,F++]),m.positions.push([N,Q,$,F++]),m.positions.push([N,Q,$,F++]),m.positions.push([N,Q,$,F++]),m.positions.push([N,Q,$,F++]),m.positions.push([N,Q,$,F++]),m.vectors.push(j),m.vectors.push(j),m.vectors.push(j),m.vectors.push(j),m.vectors.push(j),m.vectors.push(j),m.vertexIntensity.push(ee,ee,ee),m.vertexIntensity.push(ee,ee,ee);var V=m.positions.length;m.cells.push([V-6,V-5,V-4],[V-3,V-2,V-1])}return m};var l=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(a,s){return v.exports.createMesh(a,s,{shaders:l,traceType:"cone"})}},5028:function(v,y,t){var r=t(5158),l=t(5827),a=t(2944),s=t(8931),c=t(104),u=t(7437),m=t(5050),h=t(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(S,b,i,P,x,k,_,B,I,z,O){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=i,this.pickShader=P,this.trianglePositions=x,this.triangleVectors=k,this.triangleColors=B,this.triangleUVs=I,this.triangleIds=_,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var o=f.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S};function d(S){for(var b=h({colormap:S,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),P=0;P<256;++P){for(var x=b[P],k=0;k<3;++k)i[4*P+k]=x[k];i[4*P+3]=x[3]*255}return m(i,[256,256,4],[4,0,1])}function M(S){for(var b=S.length,i=new Array(b),P=0;P<b;++P)i[P]=S[P][2];return i}o.update=function(S){S=S||{};var b=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var i=S.cells,P=S.positions,x=S.vectors;if(!(!P||!i||!x)){var k=[],_=[],B=[],I=[],z=[];this.cells=i,this.positions=P,this.vectors=x;var O=S.meshColor||[1,1,1,1],F=S.vertexIntensity,N=1/0,Q=-1/0;if(F)if(S.vertexIntensityBounds)N=+S.vertexIntensityBounds[0],Q=+S.vertexIntensityBounds[1];else for(var $=0;$<F.length;++$){var j=F[$];N=Math.min(N,j),Q=Math.max(Q,j)}else for(var $=0;$<P.length;++$){var j=P[$][2];N=Math.min(N,j),Q=Math.max(Q,j)}F?this.intensity=F:this.intensity=M(P),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $=0;$<P.length;++$)for(var ee=P[$],oe=0;oe<3;++oe)isNaN(ee[oe])||!isFinite(ee[oe])||(this.bounds[0][oe]=Math.min(this.bounds[0][oe],ee[oe]),this.bounds[1][oe]=Math.max(this.bounds[1][oe],ee[oe]));var Y=0;e:for(var $=0;$<i.length;++$){var V=i[$];switch(V.length){case 3:for(var oe=0;oe<3;++oe)for(var W=V[oe],ee=P[W],X=0;X<3;++X)if(isNaN(ee[X])||!isFinite(ee[X]))continue e;for(var oe=0;oe<3;++oe){var W=V[2-oe],ee=P[W];k.push(ee[0],ee[1],ee[2],ee[3]);var re=x[W];_.push(re[0],re[1],re[2],re[3]||0);var ie=O;ie.length===3?B.push(ie[0],ie[1],ie[2],1):B.push(ie[0],ie[1],ie[2],ie[3]);var K;F?K=[(F[W]-N)/(Q-N),0]:K=[(ee[2]-N)/(Q-N),0],I.push(K[0],K[1]),z.push($)}Y+=1;break}}this.triangleCount=Y,this.trianglePositions.update(k),this.triangleVectors.update(_),this.triangleColors.update(B),this.triangleUVs.update(I),this.triangleIds.update(new Uint32Array(z))}},o.drawTransparent=o.draw=function(S){S=S||{};for(var b=this.gl,i=S.model||T,P=S.view||T,x=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);var B={model:i,view:P,projection:x,inverseModel:T.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=u(B.inverseModel,B.model),b.disable(b.CULL_FACE),this.texture.bind(0);var I=new Array(16);c(I,B.view,B.model),c(I,B.projection,I),u(I,I);for(var _=0;_<3;++_)B.eyePosition[_]=I[12+_]/I[15];for(var z=I[15],_=0;_<3;++_)z+=this.lightPosition[_]*I[4*_+3];for(var _=0;_<3;++_){for(var O=I[12+_],F=0;F<3;++F)O+=I[4*F+_]*this.lightPosition[F];B.lightPosition[_]=O/z}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=B,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(S){S=S||{};for(var b=this.gl,i=S.model||T,P=S.view||T,x=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);this._model=[].slice.call(i),this._view=[].slice.call(P),this._projection=[].slice.call(x),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var B={model:i,view:P,projection:x,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},I=this.pickShader;I.bind(),I.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var b=S.value[0]+256*S.value[1]+65536*S.value[2],i=this.cells[b],P=this.positions[i[1]].slice(0,3),x={position:P,dataCoordinate:P,index:Math.floor(i[1]/48)};return this.traceType==="cone"?x.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(x.intensity=this.intensity[i[1]],x.velocity=this.vectors[i[1]].slice(0,3),x.divergence=this.vectors[i[1]][3],x.index=b),x},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(S,b){var i=r(S,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function E(S,b){var i=r(S,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function g(S,b,i){var P=i.shaders;arguments.length===1&&(b=S,S=b.gl);var x=A(S,P),k=E(S,P),_=s(S,m(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=S.LINEAR_MIPMAP_LINEAR,_.magFilter=S.LINEAR;var B=l(S),I=l(S),z=l(S),O=l(S),F=l(S),N=a(S,[{buffer:B,type:S.FLOAT,size:4},{buffer:F,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:S.FLOAT,size:4},{buffer:O,type:S.FLOAT,size:2},{buffer:I,type:S.FLOAT,size:4}]),Q=new f(S,_,x,k,B,I,F,z,O,N,i.traceType||"cone");return Q.update(b),Q}v.exports=g},7234:function(v,y,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},y.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,y,t){var r=t(1950);v.exports=function(a){return r[a]}},3110:function(v,y,t){v.exports=f;var r=t(5827),l=t(2944),a=t(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,M,A){this.gl=o,this.shader=A,this.buffer=d,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=c.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var d=this.gl,M=this.shader.uniforms;this.shader.bind();var A=M.view=o.view||s,E=M.projection=o.projection||s;M.model=o.model||s,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var g=A[12],S=A[13],b=A[14],i=A[15],P=o._ortho||!1,x=P?2:1,k=x*this.pixelRatio*(E[3]*g+E[7]*S+E[11]*b+E[15]*i)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),M.capSize=this.capSize[_]*k,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function m(o,d){for(var M=0;M<3;++M)o[0][M]=Math.min(o[0][M],d[M]),o[1][M]=Math.max(o[1][M],d[M])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var M=[],A=1;A<=2;++A)for(var E=-1;E<=1;E+=2){var g=(A+d)%3,S=[0,0,0];S[g]=E,M.push(S)}o[d]=M}return o}();function T(o,d,M,A){for(var E=h[A],g=0;g<E.length;++g){var S=E[g];o.push(d[0],d[1],d[2],M[0],M[1],M[2],M[3],S[0],S[1],S[2])}return E.length}u.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],M=o.position,A=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),M&&A){var E=[],g=M.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=S;e:for(var i=0;i<g;++i){for(var P=M[i],x=0;x<3;++x)if(isNaN(P[x])||!isFinite(P[x]))continue e;var k=A[i],_=d[b];if(Array.isArray(_[0])&&(_=d[i]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][b])||isNaN(k[1][b]))){if(k[0][b]<0){var B=P.slice();B[b]+=k[0][b],E.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,B),S+=2+T(E,B,_,b)}if(k[1][b]>0){var B=P.slice();B[b]+=k[1][b],E.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,B[0],B[1],B[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,B),S+=2+T(E,B,_,b)}}}this.lineCount[b]=S-this.lineOffset[b]}this.buffer.update(E)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function f(o){var d=o.gl,M=r(d),A=l(d,[{buffer:M,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:d.FLOAT,size:3,offset:28,stride:40}]),E=a(d);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var g=new c(d,M,A,E);return g.update(o),g}},7667:function(v,y,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,y,t){var r=t(8931);v.exports=S;var l=null,a,s,c,u;function m(b){var i=b.getParameter(b.FRAMEBUFFER_BINDING),P=b.getParameter(b.RENDERBUFFER_BINDING),x=b.getParameter(b.TEXTURE_BINDING_2D);return[i,P,x]}function h(b,i){b.bindFramebuffer(b.FRAMEBUFFER,i[0]),b.bindRenderbuffer(b.RENDERBUFFER,i[1]),b.bindTexture(b.TEXTURE_2D,i[2])}function T(b,i){var P=b.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(P+1);for(var x=0;x<=P;++x){for(var k=new Array(P),_=0;_<x;++_)k[_]=b.COLOR_ATTACHMENT0+_;for(var _=x;_<P;++_)k[_]=b.NONE;l[x]=k}}function f(b){switch(b){case a:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(b,i,P,x,k,_){if(!x)return null;var B=r(b,i,P,k,x);return B.magFilter=b.NEAREST,B.minFilter=b.NEAREST,B.mipSamples=1,B.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,_,b.TEXTURE_2D,B.handle,0),B}function d(b,i,P,x,k){var _=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,_),b.renderbufferStorage(b.RENDERBUFFER,x,i,P),b.framebufferRenderbuffer(b.FRAMEBUFFER,k,b.RENDERBUFFER,_),_}function M(b){var i=m(b.gl),P=b.gl,x=b.handle=P.createFramebuffer(),k=b._shape[0],_=b._shape[1],B=b.color.length,I=b._ext,z=b._useStencil,O=b._useDepth,F=b._colorType;P.bindFramebuffer(P.FRAMEBUFFER,x);for(var N=0;N<B;++N)b.color[N]=o(P,k,_,F,P.RGBA,P.COLOR_ATTACHMENT0+N);B===0?(b._color_rb=d(P,k,_,P.RGBA4,P.COLOR_ATTACHMENT0),I&&I.drawBuffersWEBGL(l[0])):B>1&&I.drawBuffersWEBGL(l[B]);var Q=P.getExtension("WEBGL_depth_texture");Q?z?b.depth=o(P,k,_,Q.UNSIGNED_INT_24_8_WEBGL,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):O&&(b.depth=o(P,k,_,P.UNSIGNED_SHORT,P.DEPTH_COMPONENT,P.DEPTH_ATTACHMENT)):O&&z?b._depth_rb=d(P,k,_,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):O?b._depth_rb=d(P,k,_,P.DEPTH_COMPONENT16,P.DEPTH_ATTACHMENT):z&&(b._depth_rb=d(P,k,_,P.STENCIL_INDEX,P.STENCIL_ATTACHMENT));var $=P.checkFramebufferStatus(P.FRAMEBUFFER);if($!==P.FRAMEBUFFER_COMPLETE){b._destroyed=!0,P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(P.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var N=0;N<b.color.length;++N)b.color[N].dispose(),b.color[N]=null;b._color_rb&&(P.deleteRenderbuffer(b._color_rb),b._color_rb=null),h(P,i),f($)}h(P,i)}function A(b,i,P,x,k,_,B,I){this.gl=b,this._shape=[i|0,P|0],this._destroyed=!1,this._ext=I,this.color=new Array(k);for(var z=0;z<k;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=x,this._useDepth=_,this._useStencil=B;var O=this,F=[i|0,P|0];Object.defineProperties(F,{0:{get:function(){return O._shape[0]},set:function(N){return O.width=N}},1:{get:function(){return O._shape[1]},set:function(N){return O.height=N}}}),this._shapeVector=F,M(this)}var E=A.prototype;function g(b,i,P){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===i&&b._shape[1]===P)){var x=b.gl,k=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(i<0||i>k||P<0||P>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=i,b._shape[1]=P;for(var _=m(x),B=0;B<b.color.length;++B)b.color[B].shape=b._shape;b._color_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,b._color_rb),x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&x.renderbufferStorage(x.RENDERBUFFER,x.STENCIL_INDEX,b._shape[0],b._shape[1])),x.bindFramebuffer(x.FRAMEBUFFER,b.handle);var I=x.checkFramebufferStatus(x.FRAMEBUFFER);I!==x.FRAMEBUFFER_COMPLETE&&(b.dispose(),h(x,_),f(I)),h(x,_)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=b[0]|0,P=b[1]|0;return g(this,i,P),[i,P]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,g(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,g(this,this._shape[0],b),b},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(b,i,P,x){a||(a=b.FRAMEBUFFER_UNSUPPORTED,s=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=b.getExtension("WEBGL_draw_buffers");if(!l&&k&&T(b,k),Array.isArray(i)&&(x=P,P=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var _=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(i<0||i>_||P<0||P>_)throw new Error("gl-fbo: Parameters are too large for FBO");x=x||{};var B=1;if("color"in x){if(B=Math.max(x.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(k){if(B>b.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var I=b.UNSIGNED_BYTE,z=b.getExtension("OES_texture_float");if(x.float&&B>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");I=b.FLOAT}else x.preferFloat&&B>0&&z&&(I=b.FLOAT);var O=!0;"depth"in x&&(O=!!x.depth);var F=!1;return"stencil"in x&&(F=!!x.stencil),new A(b,i,P,I,B,O,F,k)}},3530:function(v,y,t){var r=t(8974).sprintf,l=t(6603),a=t(9365),s=t(8008);v.exports=c;function c(u,m,h){var T=a(m)||"of unknown name (see npm glsl-shader-name)",f="unknown type";h!==void 0&&(f=h===l.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r(`Error compiling %s shader %s:
`,f,T),d=r("%s%s",o,u),M=u.split(`
`),A={},E=0;E<M.length;E++){var g=M[E];if(!(g===""||g==="\0")){var S=parseInt(g.split(":")[2]);if(isNaN(S))throw new Error(r("Could not parse error: %s",g));A[S]=g}}for(var b=s(m).split(`
`),E=0;E<b.length;E++)if(!(!A[E+3]&&!A[E+2]&&!A[E+1])){var i=b[E];if(o+=i+`
`,A[E+1]){var P=A[E+1];P=P.substr(P.split(":",3).join(":").length+1).trim(),o+=r(`^^^ %s

`,P)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,y,t){v.exports=f;var r=t(5070),l=t(9560),a=t(5306),s=t(5158),c=t(5827),u=t(1292);function m(o,d,M,A,E,g,S){this.plot=o,this.shader=d,this.pickShader=M,this.positionBuffer=A,this.weightBuffer=E,this.colorBuffer=g,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=m.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,M=this.shader,A=this.bounds,E=this.numVertices;if(!(E<=0)){var g=d.gl,S=d.dataBox,b=A[2]-A[0],i=A[3]-A[1],P=S[2]-S[0],x=S[3]-S[1];o[0]=2*b/P,o[4]=2*i/x,o[6]=2*(A[0]-S[0])/P-1,o[7]=2*(A[1]-S[1])/x-1,M.bind();var k=M.uniforms;k.viewTransform=o,k.shape=this.shape;var _=M.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(g.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(g.UNSIGNED_BYTE,!0),g.drawArrays(g.TRIANGLES,0,E)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(M){var A=this.plot,E=this.pickShader,g=this.bounds,S=this.numVertices;if(!(S<=0)){var b=A.gl,i=A.dataBox,P=g[2]-g[0],x=g[3]-g[1],k=i[2]-i[0],_=i[3]-i[1];o[0]=2*P/k,o[4]=2*x/_,o[6]=2*(g[0]-i[0])/k-1,o[7]=2*(g[1]-i[1])/_-1;for(var B=0;B<4;++B)d[B]=M>>B*8&255;this.pickOffset=M,E.bind();var I=E.uniforms;I.viewTransform=o,I.pickOffset=d,I.shape=this.shape;var z=E.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,S),M+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,M){var A=this.pickOffset,E=this.shape[0]*this.shape[1];if(M<A||M>=A+E)return null;var g=M-A,S=this.xData,b=this.yData;return{object:this,pointId:g,dataCoord:[S[g%this.shape[0]],b[g/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],M=o.x||l(d[0]),A=o.y||l(d[1]),E=o.z||new Float32Array(d[0]*d[1]),g=o.zsmooth!==!1;this.xData=M,this.yData=A;var S=o.colorLevels||[0],b=o.colorValues||[0,0,0,1],i=S.length,P=this.bounds,x,k,_,B;g?(x=P[0]=M[0],k=P[1]=A[0],_=P[2]=M[M.length-1],B=P[3]=A[A.length-1]):(x=P[0]=M[0]+(M[1]-M[0])/2,k=P[1]=A[0]+(A[1]-A[0])/2,_=P[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,B=P[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var I=1/(_-x),z=1/(B-k),O=d[0],F=d[1];this.shape=[O,F];var N=(g?(O-1)*(F-1):O*F)*(T.length>>>1);this.numVertices=N;for(var Q=a.mallocUint8(N*4),$=a.mallocFloat32(N*2),j=a.mallocUint8(N*2),ee=a.mallocUint32(N),oe=0,Y=g?O-1:O,V=g?F-1:F,W=0;W<V;++W){var X,re;g?(X=z*(A[W]-k),re=z*(A[W+1]-k)):(X=W<F-1?z*(A[W]-(A[W+1]-A[W])/2-k):z*(A[W]-(A[W]-A[W-1])/2-k),re=W<F-1?z*(A[W]+(A[W+1]-A[W])/2-k):z*(A[W]+(A[W]-A[W-1])/2-k));for(var ie=0;ie<Y;++ie){var K,q;g?(K=I*(M[ie]-x),q=I*(M[ie+1]-x)):(K=ie<O-1?I*(M[ie]-(M[ie+1]-M[ie])/2-x):I*(M[ie]-(M[ie]-M[ie-1])/2-x),q=ie<O-1?I*(M[ie]+(M[ie+1]-M[ie])/2-x):I*(M[ie]+(M[ie]-M[ie-1])/2-x));for(var le=0;le<T.length;le+=2){var ae=T[le],he=T[le+1],me=g?(W+he)*O+(ie+ae):W*O+ie,Me=E[me],xe=r.le(S,Me),Ie,_e,Te,ye;if(xe<0)Ie=b[0],_e=b[1],Te=b[2],ye=b[3];else if(xe===i-1)Ie=b[4*i-4],_e=b[4*i-3],Te=b[4*i-2],ye=b[4*i-1];else{var Ae=(Me-S[xe])/(S[xe+1]-S[xe]),Be=1-Ae,Ue=4*xe,De=4*(xe+1);Ie=Be*b[Ue]+Ae*b[De],_e=Be*b[Ue+1]+Ae*b[De+1],Te=Be*b[Ue+2]+Ae*b[De+2],ye=Be*b[Ue+3]+Ae*b[De+3]}Q[4*oe]=255*Ie,Q[4*oe+1]=255*_e,Q[4*oe+2]=255*Te,Q[4*oe+3]=255*ye,$[2*oe]=K*.5+q*.5,$[2*oe+1]=X*.5+re*.5,j[2*oe]=ae,j[2*oe+1]=he,ee[oe]=W*O+ie,oe+=1}}}this.positionBuffer.update($),this.weightBuffer.update(j),this.colorBuffer.update(Q),this.idBuffer.update(ee),a.free($),a.free(Q),a.free(j),a.free(ee)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function f(o,d){var M=o.gl,A=s(M,u.vertex,u.fragment),E=s(M,u.pickVertex,u.pickFragment),g=c(M),S=c(M),b=c(M),i=c(M),P=new m(o,A,E,g,S,b,i);return P.update(d),o.addObject(P),P}},1292:function(v,y,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,y,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];y.createShader=function(m){return l(m,a,s,null,u)},y.createPickShader=function(m){return l(m,a,c,null,u)}},6086:function(v,y,t){v.exports=b;var r=t(5827),l=t(2944),a=t(8931),s=new Uint8Array(4),c=new Float32Array(s.buffer);function u(i,P,x,k){return s[0]=k,s[1]=x,s[2]=P,s[3]=i,c[0]}var m=t(5070),h=t(5050),T=t(248),f=T.createShader,o=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(i,P){for(var x=0,k=0;k<3;++k){var _=i[k]-P[k];x+=_*_}return Math.sqrt(x)}function A(i){for(var P=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],x=0;x<3;++x)P[0][x]=Math.max(i[0][x],P[0][x]),P[1][x]=Math.min(i[1][x],P[1][x]);return P}function E(i,P,x,k){this.arcLength=i,this.position=P,this.index=x,this.dataCoordinate=k}function g(i,P,x,k,_,B){this.gl=i,this.shader=P,this.pickShader=x,this.buffer=k,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=g.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(i){this.pickId=i},S.drawTransparent=S.draw=function(i){if(this.vertexCount){var P=this.gl,x=this.shader,k=this.vao;x.bind(),x.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(P.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(i){if(this.vertexCount){var P=this.gl,x=this.pickShader,k=this.vao;x.bind(),x.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(P.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(i){var P,x;this.dirty=!0;var k=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],B=[],I=[],z=0,O=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=i.position||i.positions;if(N){var Q=i.color||i.colors||[0,0,0,1],$=i.lineWidth||1,j=!1;e:for(P=1;P<N.length;++P){var ee=N[P-1],oe=N[P];for(B.push(z),I.push(ee.slice()),x=0;x<3;++x){if(isNaN(ee[x])||isNaN(oe[x])||!isFinite(ee[x])||!isFinite(oe[x])){if(!k&&_.length>0){for(var Y=0;Y<24;++Y)_.push(_[_.length-12]);O+=2,j=!0}continue e}F[0][x]=Math.min(F[0][x],ee[x],oe[x]),F[1][x]=Math.max(F[1][x],ee[x],oe[x])}var V,W;Array.isArray(Q[0])?(V=Q.length>P-1?Q[P-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1],W=Q.length>P?Q[P]:Q.length>0?Q[Q.length-1]:[0,0,0,1]):V=W=Q,V.length===3&&(V=[V[0],V[1],V[2],1]),W.length===3&&(W=[W[0],W[1],W[2],1]),!this.hasAlpha&&V[3]<1&&(this.hasAlpha=!0);var X;Array.isArray($)?X=$.length>P-1?$[P-1]:$.length>0?$[$.length-1]:[0,0,0,1]:X=$;var re=z;if(z+=M(ee,oe),j){for(x=0;x<2;++x)_.push(ee[0],ee[1],ee[2],oe[0],oe[1],oe[2],re,X,V[0],V[1],V[2],V[3]);O+=2,j=!1}_.push(ee[0],ee[1],ee[2],oe[0],oe[1],oe[2],re,X,V[0],V[1],V[2],V[3],ee[0],ee[1],ee[2],oe[0],oe[1],oe[2],re,-X,V[0],V[1],V[2],V[3],oe[0],oe[1],oe[2],ee[0],ee[1],ee[2],z,-X,W[0],W[1],W[2],W[3],oe[0],oe[1],oe[2],ee[0],ee[1],ee[2],z,X,W[0],W[1],W[2],W[3]),O+=4}}if(this.buffer.update(_),B.push(z),I.push(N[N.length-1].slice()),this.bounds=F,this.vertexCount=O,this.points=I,this.arcLength=B,"dashes"in i){var ie=i.dashes,K=ie.slice();for(K.unshift(0),P=1;P<K.length;++P)K[P]=K[P-1]+K[P];var q=h(new Array(256*4),[256,1,4]);for(P=0;P<256;++P){for(x=0;x<4;++x)q.set(P,0,x,0);m.le(K,K[K.length-1]*P/255)&1?q.set(P,0,0,0):q.set(P,0,0,255)}this.texture.setPixels(q)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(i){if(!i||i.id!==this.pickId)return null;var P=u(i.value[0],i.value[1],i.value[2],0),x=m.le(this.arcLength,P);if(x<0)return null;if(x===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),x);for(var k=this.points[x],_=this.points[Math.min(x+1,this.points.length-1)],B=(P-this.arcLength[x])/(this.arcLength[x+1]-this.arcLength[x]),I=1-B,z=[0,0,0],O=0;O<3;++O)z[O]=I*k[O]+B*_[O];var F=Math.min(B<.5?x:x+1,this.points.length-1);return new E(P,z,F,this.points[F])};function b(i){var P=i.gl||i.scene&&i.scene.gl,x=f(P);x.attributes.position.location=0,x.attributes.nextPosition.location=1,x.attributes.arcLength.location=2,x.attributes.lineWidth.location=3,x.attributes.color.location=4;var k=o(P);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var _=r(P),B=l(P,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),I=h(new Array(256*4),[256,1,4]),z=0;z<1024;++z)I.data[z]=255;var O=a(P,I);O.wrap=P.REPEAT;var F=new g(P,x,k,_,B,O);return F.update(i),F}},7332:function(v){v.exports=y;function y(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=y;function y(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=y;function y(t){var r=t[0],l=t[1],a=t[2],s=t[3],c=t[4],u=t[5],m=t[6],h=t[7],T=t[8],f=t[9],o=t[10],d=t[11],M=t[12],A=t[13],E=t[14],g=t[15],S=r*u-l*c,b=r*m-a*c,i=r*h-s*c,P=l*m-a*u,x=l*h-s*u,k=a*h-s*m,_=T*A-f*M,B=T*E-o*M,I=T*g-d*M,z=f*E-o*A,O=f*g-d*A,F=o*g-d*E;return S*F-b*O+i*z+P*I-x*B+k*_}},5950:function(v){v.exports=y;function y(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=l+l,m=a+a,h=s+s,T=l*u,f=a*u,o=a*m,d=s*u,M=s*m,A=s*h,E=c*u,g=c*m,S=c*h;return t[0]=1-o-A,t[1]=f+S,t[2]=d-g,t[3]=0,t[4]=f-S,t[5]=1-T-A,t[6]=M+E,t[7]=0,t[8]=d+g,t[9]=M-E,t[10]=1-T-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3],m=a+a,h=s+s,T=c+c,f=a*m,o=a*h,d=a*T,M=s*h,A=s*T,E=c*T,g=u*m,S=u*h,b=u*T;return t[0]=1-(M+E),t[1]=o+b,t[2]=d-S,t[3]=0,t[4]=o-b,t[5]=1-(f+E),t[6]=A+g,t[7]=0,t[8]=d+S,t[9]=A-g,t[10]=1-(f+M),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},9947:function(v){v.exports=y;function y(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=y;function y(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=r[4],m=r[5],h=r[6],T=r[7],f=r[8],o=r[9],d=r[10],M=r[11],A=r[12],E=r[13],g=r[14],S=r[15],b=l*m-a*u,i=l*h-s*u,P=l*T-c*u,x=a*h-s*m,k=a*T-c*m,_=s*T-c*h,B=f*E-o*A,I=f*g-d*A,z=f*S-M*A,O=o*g-d*E,F=o*S-M*E,N=d*S-M*g,Q=b*N-i*F+P*O+x*z-k*I+_*B;return Q?(Q=1/Q,t[0]=(m*N-h*F+T*O)*Q,t[1]=(s*F-a*N-c*O)*Q,t[2]=(E*_-g*k+S*x)*Q,t[3]=(d*k-o*_-M*x)*Q,t[4]=(h*z-u*N-T*I)*Q,t[5]=(l*N-s*z+c*I)*Q,t[6]=(g*P-A*_-S*i)*Q,t[7]=(f*_-d*P+M*i)*Q,t[8]=(u*F-m*z+T*B)*Q,t[9]=(a*z-l*F-c*B)*Q,t[10]=(A*k-E*P+S*b)*Q,t[11]=(o*P-f*k-M*b)*Q,t[12]=(m*I-u*O-h*B)*Q,t[13]=(l*O-a*I+s*B)*Q,t[14]=(E*i-A*x-g*b)*Q,t[15]=(f*x-o*i+d*b)*Q,t):null}},3012:function(v,y,t){var r=t(9947);v.exports=l;function l(a,s,c,u){var m,h,T,f,o,d,M,A,E,g,S=s[0],b=s[1],i=s[2],P=u[0],x=u[1],k=u[2],_=c[0],B=c[1],I=c[2];return Math.abs(S-_)<1e-6&&Math.abs(b-B)<1e-6&&Math.abs(i-I)<1e-6?r(a):(M=S-_,A=b-B,E=i-I,g=1/Math.sqrt(M*M+A*A+E*E),M*=g,A*=g,E*=g,m=x*E-k*A,h=k*M-P*E,T=P*A-x*M,g=Math.sqrt(m*m+h*h+T*T),g?(g=1/g,m*=g,h*=g,T*=g):(m=0,h=0,T=0),f=A*T-E*h,o=E*m-M*T,d=M*h-A*m,g=Math.sqrt(f*f+o*o+d*d),g?(g=1/g,f*=g,o*=g,d*=g):(f=0,o=0,d=0),a[0]=m,a[1]=f,a[2]=M,a[3]=0,a[4]=h,a[5]=o,a[6]=A,a[7]=0,a[8]=T,a[9]=d,a[10]=E,a[11]=0,a[12]=-(m*S+h*b+T*i),a[13]=-(f*S+o*b+d*i),a[14]=-(M*S+A*b+E*i),a[15]=1,a)}},104:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3],m=r[4],h=r[5],T=r[6],f=r[7],o=r[8],d=r[9],M=r[10],A=r[11],E=r[12],g=r[13],S=r[14],b=r[15],i=l[0],P=l[1],x=l[2],k=l[3];return t[0]=i*a+P*m+x*o+k*E,t[1]=i*s+P*h+x*d+k*g,t[2]=i*c+P*T+x*M+k*S,t[3]=i*u+P*f+x*A+k*b,i=l[4],P=l[5],x=l[6],k=l[7],t[4]=i*a+P*m+x*o+k*E,t[5]=i*s+P*h+x*d+k*g,t[6]=i*c+P*T+x*M+k*S,t[7]=i*u+P*f+x*A+k*b,i=l[8],P=l[9],x=l[10],k=l[11],t[8]=i*a+P*m+x*o+k*E,t[9]=i*s+P*h+x*d+k*g,t[10]=i*c+P*T+x*M+k*S,t[11]=i*u+P*f+x*A+k*b,i=l[12],P=l[13],x=l[14],k=l[15],t[12]=i*a+P*m+x*o+k*E,t[13]=i*s+P*h+x*d+k*g,t[14]=i*c+P*T+x*M+k*S,t[15]=i*u+P*f+x*A+k*b,t}},5268:function(v){v.exports=y;function y(t,r,l,a,s,c,u){var m=1/(r-l),h=1/(a-s),T=1/(c-u);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*T,t[11]=0,t[12]=(r+l)*m,t[13]=(s+a)*h,t[14]=(u+c)*T,t[15]=1,t}},1120:function(v){v.exports=y;function y(t,r,l,a,s){var c=1/Math.tan(r/2),u=1/(a-s);return t[0]=c/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*a*u,t[15]=0,t}},4422:function(v){v.exports=y;function y(t,r,l,a){var s=a[0],c=a[1],u=a[2],m=Math.sqrt(s*s+c*c+u*u),h,T,f,o,d,M,A,E,g,S,b,i,P,x,k,_,B,I,z,O,F,N,Q,$;return Math.abs(m)<1e-6?null:(m=1/m,s*=m,c*=m,u*=m,h=Math.sin(l),T=Math.cos(l),f=1-T,o=r[0],d=r[1],M=r[2],A=r[3],E=r[4],g=r[5],S=r[6],b=r[7],i=r[8],P=r[9],x=r[10],k=r[11],_=s*s*f+T,B=c*s*f+u*h,I=u*s*f-c*h,z=s*c*f-u*h,O=c*c*f+T,F=u*c*f+s*h,N=s*u*f+c*h,Q=c*u*f-s*h,$=u*u*f+T,t[0]=o*_+E*B+i*I,t[1]=d*_+g*B+P*I,t[2]=M*_+S*B+x*I,t[3]=A*_+b*B+k*I,t[4]=o*z+E*O+i*F,t[5]=d*z+g*O+P*F,t[6]=M*z+S*O+x*F,t[7]=A*z+b*O+k*F,t[8]=o*N+E*Q+i*$,t[9]=d*N+g*Q+P*$,t[10]=M*N+S*Q+x*$,t[11]=A*N+b*Q+k*$,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=y;function y(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[4],u=r[5],m=r[6],h=r[7],T=r[8],f=r[9],o=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=c*s+T*a,t[5]=u*s+f*a,t[6]=m*s+o*a,t[7]=h*s+d*a,t[8]=T*s-c*a,t[9]=f*s-u*a,t[10]=o*s-m*a,t[11]=d*s-h*a,t}},7115:function(v){v.exports=y;function y(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],m=r[2],h=r[3],T=r[8],f=r[9],o=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s-T*a,t[1]=u*s-f*a,t[2]=m*s-o*a,t[3]=h*s-d*a,t[8]=c*a+T*s,t[9]=u*a+f*s,t[10]=m*a+o*s,t[11]=h*a+d*s,t}},5240:function(v){v.exports=y;function y(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],m=r[2],h=r[3],T=r[4],f=r[5],o=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s+T*a,t[1]=u*s+f*a,t[2]=m*s+o*a,t[3]=h*s+d*a,t[4]=T*s-c*a,t[5]=f*s-u*a,t[6]=o*s-m*a,t[7]=d*s-h*a,t}},3668:function(v){v.exports=y;function y(t,r,l){var a=l[0],s=l[1],c=l[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=r[11]*c,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=y;function y(t,r,l){var a=l[0],s=l[1],c=l[2],u,m,h,T,f,o,d,M,A,E,g,S;return r===t?(t[12]=r[0]*a+r[4]*s+r[8]*c+r[12],t[13]=r[1]*a+r[5]*s+r[9]*c+r[13],t[14]=r[2]*a+r[6]*s+r[10]*c+r[14],t[15]=r[3]*a+r[7]*s+r[11]*c+r[15]):(u=r[0],m=r[1],h=r[2],T=r[3],f=r[4],o=r[5],d=r[6],M=r[7],A=r[8],E=r[9],g=r[10],S=r[11],t[0]=u,t[1]=m,t[2]=h,t[3]=T,t[4]=f,t[5]=o,t[6]=d,t[7]=M,t[8]=A,t[9]=E,t[10]=g,t[11]=S,t[12]=u*a+f*s+A*c+r[12],t[13]=m*a+o*s+E*c+r[13],t[14]=h*a+d*s+g*c+r[14],t[15]=T*a+M*s+S*c+r[15]),t}},2142:function(v){v.exports=y;function y(t,r){if(t===r){var l=r[1],a=r[2],s=r[3],c=r[6],u=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=l,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=c,t[11]=r[14],t[12]=s,t[13]=u,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,y,t){var r=t(957),l=t(7309);v.exports=m;function a(h,T){for(var f=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)f[d]+=h[4*o+d]*T[o];return f}function s(h,T,f,o,d){for(var M=a(o,a(f,a(T,[h[0],h[1],h[2],1]))),A=0;A<3;++A)M[A]/=M[3];return[.5*d[0]*(1+M[0]),.5*d[1]*(1-M[1])]}function c(h,T){if(h.length===2){for(var f=0,o=0,d=0;d<2;++d)f+=Math.pow(T[d]-h[0][d],2),o+=Math.pow(T[d]-h[1][d],2);return f=Math.sqrt(f),o=Math.sqrt(o),f+o<1e-6?[1,0]:[o/(f+o),f/(o+f)]}else if(h.length===3){var M=[0,0];return l(h[0],h[1],h[2],T,M),r(h,M)}return[]}function u(h,T){for(var f=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],M=T[o],A=0;A<3;++A)f[A]+=M*d[A];return f}function m(h,T,f,o,d,M){if(h.length===1)return[0,h[0].slice()];for(var A=new Array(h.length),E=0;E<h.length;++E)A[E]=s(h[E],f,o,d,M);for(var g=0,S=1/0,E=0;E<A.length;++E){for(var b=0,i=0;i<2;++i)b+=Math.pow(A[E][i]-T[i],2);b<S&&(S=b,g=E)}for(var P=c(A,T),x=0,E=0;E<3;++E){if(P[E]<-.001||P[E]>1.0001)return null;x+=P[E]}return Math.abs(x-1)>.001?null:[g,u(h,P),P]}},2056:function(v,y,t){var r=t(6832),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);y.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.wireShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.pointShader={vertex:u,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},y.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},y.pointPickShader={vertex:f,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},y.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,y,t){var r=1e-6,l=1e-6,a=t(5158),s=t(5827),c=t(2944),u=t(8931),m=t(115),h=t(104),T=t(7437),f=t(5050),o=t(9156),d=t(7212),M=t(5306),A=t(2056),E=t(4340),g=A.meshShader,S=A.wireShader,b=A.pointShader,i=A.pickShader,P=A.pointPickShader,x=A.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Y,V,W,X,re,ie,K,q,le,ae,he,me,Me,xe,Ie,_e,Te,ye,Ae,Be,Ue,De,He,ut,et,Qe,qe){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=V,this.dirty=!0,this.triShader=W,this.lineShader=X,this.pointShader=re,this.pickShader=ie,this.pointPickShader=K,this.contourShader=q,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Me,this.triangleUVs=me,this.triangleIds=ae,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ie,this.edgeColors=Te,this.edgeUVs=ye,this.edgeIds=_e,this.edgeVAO=Ae,this.edgeCount=0,this.pointPositions=Be,this.pointColors=De,this.pointUVs=He,this.pointSizes=ut,this.pointIds=Ue,this.pointVAO=et,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Qe,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var B=_.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(Y){this.pickId=Y};function I(Y,V){if(!V||!V.length)return 1;for(var W=0;W<V.length;++W){if(V.length<2)return 1;if(V[W][0]===Y)return V[W][1];if(V[W][0]>Y&&W>0){var X=(V[W][0]-Y)/(V[W][0]-V[W-1][0]);return V[W][1]*(1-X)+X*V[W-1][1]}}return 1}function z(Y,V){for(var W=o({colormap:Y,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),re=0;re<256;++re){for(var ie=W[re],K=0;K<3;++K)X[4*re+K]=ie[K];V?X[4*re+3]=255*I(re/255,V):X[4*re+3]=255*ie[3]}return f(X,[256,256,4],[4,0,1])}function O(Y){for(var V=Y.length,W=new Array(V),X=0;X<V;++X)W[X]=Y[X][2];return W}B.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var V=d(this.cells,this.intensity,Y.intensity),W=V.cells,X=V.vertexIds,re=V.vertexWeights,ie=W.length,K=M.mallocFloat32(2*3*ie),q=0,le=0;le<ie;++le)for(var ae=W[le],he=0;he<2;++he){var me=ae[0];ae.length===2&&(me=ae[he]);for(var Me=X[me][0],xe=X[me][1],Ie=re[me],_e=1-Ie,Te=this.positions[Me],ye=this.positions[xe],Ae=0;Ae<3;++Ae)K[q++]=Ie*Te[Ae]+_e*ye[Ae]}this.contourCount=q/3|0,this.contourPositions.update(K.subarray(0,q)),M.free(K)},B.update=function(Y){Y=Y||{};var V=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=u(V,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=V.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=V.LINEAR,this.texture.setPixels(z(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var W=Y.cells,X=Y.positions;if(!(!X||!W)){var re=[],ie=[],K=[],q=[],le=[],ae=[],he=[],me=[],Me=[],xe=[],Ie=[],_e=[],Te=[],ye=[];this.cells=W,this.positions=X;var Ae=Y.vertexNormals,Be=Y.cellNormals,Ue=Y.vertexNormalsEpsilon===void 0?r:Y.vertexNormalsEpsilon,De=Y.faceNormalsEpsilon===void 0?l:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Be&&(Be=m.faceNormals(W,X,De)),!Be&&!Ae&&(Ae=m.vertexNormals(W,X,Ue));var He=Y.vertexColors,ut=Y.cellColors,et=Y.meshColor||[1,1,1,1],Qe=Y.vertexUVs,qe=Y.vertexIntensity,ft=Y.cellUVs,gt=Y.cellIntensity,xt=1/0,Ct=-1/0;if(!Qe&&!ft)if(qe)if(Y.vertexIntensityBounds)xt=+Y.vertexIntensityBounds[0],Ct=+Y.vertexIntensityBounds[1];else for(var Je=0;Je<qe.length;++Je){var ze=qe[Je];xt=Math.min(xt,ze),Ct=Math.max(Ct,ze)}else if(gt)if(Y.cellIntensityBounds)xt=+Y.cellIntensityBounds[0],Ct=+Y.cellIntensityBounds[1];else for(var Je=0;Je<gt.length;++Je){var ze=gt[Je];xt=Math.min(xt,ze),Ct=Math.max(Ct,ze)}else for(var Je=0;Je<X.length;++Je){var ze=X[Je][2];xt=Math.min(xt,ze),Ct=Math.max(Ct,ze)}qe?this.intensity=qe:gt?this.intensity=gt:this.intensity=O(X),this.pickVertex=!(gt||ut);var Fe=Y.pointSizes,$e=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Je=0;Je<X.length;++Je)for(var at=X[Je],Xe=0;Xe<3;++Xe)isNaN(at[Xe])||!isFinite(at[Xe])||(this.bounds[0][Xe]=Math.min(this.bounds[0][Xe],at[Xe]),this.bounds[1][Xe]=Math.max(this.bounds[1][Xe],at[Xe]));var Pe=0,we=0,ue=0;e:for(var Je=0;Je<W.length;++Je){var ge=W[Je];switch(ge.length){case 1:for(var Le=ge[0],at=X[Le],Xe=0;Xe<3;++Xe)if(isNaN(at[Xe])||!isFinite(at[Xe]))continue e;xe.push(at[0],at[1],at[2]);var ke;He?ke=He[Le]:ut?ke=ut[Je]:ke=et,this.opacityscale&&qe?ie.push(ke[0],ke[1],ke[2],this.opacity*I((qe[Le]-xt)/(Ct-xt),this.opacityscale)):ke.length===3?Ie.push(ke[0],ke[1],ke[2],this.opacity):(Ie.push(ke[0],ke[1],ke[2],ke[3]*this.opacity),ke[3]<1&&(this.hasAlpha=!0));var it;Qe?it=Qe[Le]:qe?it=[(qe[Le]-xt)/(Ct-xt),0]:ft?it=ft[Je]:gt?it=[(gt[Je]-xt)/(Ct-xt),0]:it=[(at[2]-xt)/(Ct-xt),0],_e.push(it[0],it[1]),Fe?Te.push(Fe[Le]):Te.push($e),ye.push(Je),ue+=1;break;case 2:for(var Xe=0;Xe<2;++Xe)for(var Le=ge[Xe],at=X[Le],lt=0;lt<3;++lt)if(isNaN(at[lt])||!isFinite(at[lt]))continue e;for(var Xe=0;Xe<2;++Xe){var Le=ge[Xe],at=X[Le];ae.push(at[0],at[1],at[2]);var ke;He?ke=He[Le]:ut?ke=ut[Je]:ke=et,this.opacityscale&&qe?ie.push(ke[0],ke[1],ke[2],this.opacity*I((qe[Le]-xt)/(Ct-xt),this.opacityscale)):ke.length===3?he.push(ke[0],ke[1],ke[2],this.opacity):(he.push(ke[0],ke[1],ke[2],ke[3]*this.opacity),ke[3]<1&&(this.hasAlpha=!0));var it;Qe?it=Qe[Le]:qe?it=[(qe[Le]-xt)/(Ct-xt),0]:ft?it=ft[Je]:gt?it=[(gt[Je]-xt)/(Ct-xt),0]:it=[(at[2]-xt)/(Ct-xt),0],me.push(it[0],it[1]),Me.push(Je)}we+=1;break;case 3:for(var Xe=0;Xe<3;++Xe)for(var Le=ge[Xe],at=X[Le],lt=0;lt<3;++lt)if(isNaN(at[lt])||!isFinite(at[lt]))continue e;for(var Xe=0;Xe<3;++Xe){var Le=ge[2-Xe],at=X[Le];re.push(at[0],at[1],at[2]);var ke;He?ke=He[Le]:ut?ke=ut[Je]:ke=et,ke?this.opacityscale&&qe?ie.push(ke[0],ke[1],ke[2],this.opacity*I((qe[Le]-xt)/(Ct-xt),this.opacityscale)):ke.length===3?ie.push(ke[0],ke[1],ke[2],this.opacity):(ie.push(ke[0],ke[1],ke[2],ke[3]*this.opacity),ke[3]<1&&(this.hasAlpha=!0)):ie.push(.5,.5,.5,1);var it;Qe?it=Qe[Le]:qe?it=[(qe[Le]-xt)/(Ct-xt),0]:ft?it=ft[Je]:gt?it=[(gt[Je]-xt)/(Ct-xt),0]:it=[(at[2]-xt)/(Ct-xt),0],q.push(it[0],it[1]);var bt;Ae?bt=Ae[Le]:bt=Be[Je],K.push(bt[0],bt[1],bt[2]),le.push(Je)}Pe+=1;break}}this.pointCount=ue,this.edgeCount=we,this.triangleCount=Pe,this.pointPositions.update(xe),this.pointColors.update(Ie),this.pointUVs.update(_e),this.pointSizes.update(Te),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(ae),this.edgeColors.update(he),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(Me)),this.trianglePositions.update(re),this.triangleColors.update(ie),this.triangleUVs.update(q),this.triangleNormals.update(K),this.triangleIds.update(new Uint32Array(le))}},B.drawTransparent=B.draw=function(Y){Y=Y||{};for(var V=this.gl,W=Y.model||k,X=Y.view||k,re=Y.projection||k,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ie[0][K]=Math.max(ie[0][K],this.clipBounds[0][K]),ie[1][K]=Math.min(ie[1][K],this.clipBounds[1][K]);var q={model:W,view:X,projection:re,inverseModel:k.slice(),clipBounds:ie,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};q.inverseModel=T(q.inverseModel,q.model),V.disable(V.CULL_FACE),this.texture.bind(0);var le=new Array(16);h(le,q.view,q.model),h(le,q.projection,le),T(le,le);for(var K=0;K<3;++K)q.eyePosition[K]=le[12+K]/le[15];for(var ae=le[15],K=0;K<3;++K)ae+=this.lightPosition[K]*le[4*K+3];for(var K=0;K<3;++K){for(var he=le[12+K],me=0;me<3;++me)he+=le[4*me+K]*this.lightPosition[me];q.lightPosition[K]=he/ae}if(this.triangleCount>0){var Me=this.triShader;Me.bind(),Me.uniforms=q,this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Me=this.lineShader;Me.bind(),Me.uniforms=q,this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Me=this.pointShader;Me.bind(),Me.uniforms=q,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Me=this.contourShader;Me.bind(),Me.uniforms=q,this.contourVAO.bind(),V.drawArrays(V.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(Y){Y=Y||{};for(var V=this.gl,W=Y.model||k,X=Y.view||k,re=Y.projection||k,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ie[0][K]=Math.max(ie[0][K],this.clipBounds[0][K]),ie[1][K]=Math.min(ie[1][K],this.clipBounds[1][K]);this._model=[].slice.call(W),this._view=[].slice.call(X),this._projection=[].slice.call(re),this._resolution=[V.drawingBufferWidth,V.drawingBufferHeight];var q={model:W,view:X,projection:re,clipBounds:ie,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=q,this.triangleCount>0&&(this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=q,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var V=Y.value[0]+256*Y.value[1]+65536*Y.value[2],W=this.cells[V],X=this.positions,re=new Array(W.length),ie=0;ie<W.length;++ie)re[ie]=X[W[ie]];var K=Y.coord[0],q=Y.coord[1];if(!this.pickVertex){var le=this.positions[W[0]],ae=this.positions[W[1]],he=this.positions[W[2]],me=[(le[0]+ae[0]+he[0])/3,(le[1]+ae[1]+he[1])/3,(le[2]+ae[2]+he[2])/3];return{_cellCenter:!0,position:[K,q],index:V,cell:W,cellId:V,intensity:this.intensity[V],dataCoordinate:me}}var Me=E(re,[K*this.pixelRatio,this._resolution[1]-q*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Me)return null;for(var xe=Me[2],Ie=0,ie=0;ie<W.length;++ie)Ie+=xe[ie]*this.intensity[W[ie]];return{position:Me[1],index:W[Me[0]],cell:W,cellId:V,intensity:Ie,dataCoordinate:this.positions[W[Me[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(Y){var V=a(Y,g.vertex,g.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.normal.location=4,V}function N(Y){var V=a(Y,S.vertex,S.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V}function Q(Y){var V=a(Y,b.vertex,b.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.pointSize.location=4,V}function $(Y){var V=a(Y,i.vertex,i.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V}function j(Y){var V=a(Y,P.vertex,P.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V.attributes.pointSize.location=4,V}function ee(Y){var V=a(Y,x.vertex,x.fragment);return V.attributes.position.location=0,V}function oe(Y,V){arguments.length===1&&(V=Y,Y=V.gl);var W=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!W)throw new Error("derivatives not supported");var X=F(Y),re=N(Y),ie=Q(Y),K=$(Y),q=j(Y),le=ee(Y),ae=u(Y,f(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=Y.LINEAR_MIPMAP_LINEAR,ae.magFilter=Y.LINEAR;var he=s(Y),me=s(Y),Me=s(Y),xe=s(Y),Ie=s(Y),_e=c(Y,[{buffer:he,type:Y.FLOAT,size:3},{buffer:Ie,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:Y.FLOAT,size:4},{buffer:Me,type:Y.FLOAT,size:2},{buffer:xe,type:Y.FLOAT,size:3}]),Te=s(Y),ye=s(Y),Ae=s(Y),Be=s(Y),Ue=c(Y,[{buffer:Te,type:Y.FLOAT,size:3},{buffer:Be,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:Y.FLOAT,size:4},{buffer:Ae,type:Y.FLOAT,size:2}]),De=s(Y),He=s(Y),ut=s(Y),et=s(Y),Qe=s(Y),qe=c(Y,[{buffer:De,type:Y.FLOAT,size:3},{buffer:Qe,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:Y.FLOAT,size:4},{buffer:ut,type:Y.FLOAT,size:2},{buffer:et,type:Y.FLOAT,size:1}]),ft=s(Y),gt=c(Y,[{buffer:ft,type:Y.FLOAT,size:3}]),xt=new _(Y,ae,X,re,ie,K,q,le,he,Ie,me,Me,xe,_e,Te,Be,ye,Ae,Ue,De,Qe,He,ut,et,qe,ft,gt);return xt.update(V),xt}v.exports=oe},4554:function(v,y,t){v.exports=u;var r=t(5827),l=t(5158),a=t(2709);function s(m,h,T){this.plot=m,this.vbo=h,this.shader=T}var c=s.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var m=[0,0],h=[0,0];return function(T,f,o,d,M){var A=this.plot,E=this.shader,g=A.gl;m[0]=T,m[1]=f,h[0]=o,h[1]=d,E.uniforms.lo=m,E.uniforms.hi=h,E.uniforms.color=M,g.drawArrays(g.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var h=m.gl,T=r(h,[0,0,0,1,1,0,1,1]),f=l(h,a.boxVert,a.lineFrag);return new s(m,T,f)}},3016:function(v,y,t){v.exports=h;var r=t(5827),l=t(5158),a=t(5070),s=t(2709);function c(T,f,o,d){this.plot=T,this.vbo=f,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function u(T,f){return T-f}var m=c.prototype;m.draw=function(){var T=[0,0],f=[0,0],o=[0,0];return function(){for(var d=this.plot,M=this.vbo,A=this.shader,E=this.ticks,g=d.gl,S=d._tickBounds,b=d.dataBox,i=d.viewBox,P=d.gridLineWidth,x=d.gridLineColor,k=d.gridLineEnable,_=d.pixelRatio,B=0;B<2;++B){var I=S[B],z=S[B+2],O=z-I,F=.5*(b[B+2]+b[B]),N=b[B+2]-b[B];f[B]=2*O/N,T[B]=2*(I-F)/N}A.bind(),M.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=T,A.uniforms.dataScale=f;for(var Q=0,B=0;B<2;++B){o[0]=o[1]=0,o[B]=1,A.uniforms.dataAxis=o,A.uniforms.lineWidth=P[B]/(i[B+2]-i[B])*_,A.uniforms.color=x[B];var $=E[B].length*6;k[B]&&$&&g.drawArrays(g.TRIANGLES,Q,$),Q+=$}}}(),m.drawTickMarks=function(){var T=[0,0],f=[0,0],o=[1,0],d=[0,1],M=[0,0],A=[0,0];return function(){for(var E=this.plot,g=this.vbo,S=this.tickShader,b=this.ticks,i=E.gl,P=E._tickBounds,x=E.dataBox,k=E.viewBox,_=E.pixelRatio,B=E.screenBox,I=B[2]-B[0],z=B[3]-B[1],O=k[2]-k[0],F=k[3]-k[1],N=0;N<2;++N){var Q=P[N],$=P[N+2],j=$-Q,ee=.5*(x[N+2]+x[N]),oe=x[N+2]-x[N];f[N]=2*j/oe,T[N]=2*(Q-ee)/oe}f[0]*=O/I,T[0]*=O/I,f[1]*=F/z,T[1]*=F/z,S.bind(),g.bind(),S.attributes.dataCoord.pointer();var Y=S.uniforms;Y.dataShift=T,Y.dataScale=f;var V=E.tickMarkLength,W=E.tickMarkWidth,X=E.tickMarkColor,re=0,ie=b[0].length*6,K=Math.min(a.ge(b[0],(x[0]-P[0])/(P[2]-P[0]),u),b[0].length),q=Math.min(a.gt(b[0],(x[2]-P[0])/(P[2]-P[0]),u),b[0].length),le=re+6*K,ae=6*Math.max(0,q-K),he=Math.min(a.ge(b[1],(x[1]-P[1])/(P[3]-P[1]),u),b[1].length),me=Math.min(a.gt(b[1],(x[3]-P[1])/(P[3]-P[1]),u),b[1].length),Me=ie+6*he,xe=6*Math.max(0,me-he);M[0]=2*(k[0]-V[1])/I-1,M[1]=(k[3]+k[1])/z-1,A[0]=V[1]*_/I,A[1]=W[1]*_/z,xe&&(Y.color=X[1],Y.tickScale=A,Y.dataAxis=d,Y.screenOffset=M,i.drawArrays(i.TRIANGLES,Me,xe)),M[0]=(k[2]+k[0])/I-1,M[1]=2*(k[1]-V[0])/z-1,A[0]=W[0]*_/I,A[1]=V[0]*_/z,ae&&(Y.color=X[0],Y.tickScale=A,Y.dataAxis=o,Y.screenOffset=M,i.drawArrays(i.TRIANGLES,le,ae)),M[0]=2*(k[2]+V[3])/I-1,M[1]=(k[3]+k[1])/z-1,A[0]=V[3]*_/I,A[1]=W[3]*_/z,xe&&(Y.color=X[3],Y.tickScale=A,Y.dataAxis=d,Y.screenOffset=M,i.drawArrays(i.TRIANGLES,Me,xe)),M[0]=(k[2]+k[0])/I-1,M[1]=2*(k[3]+V[2])/z-1,A[0]=W[2]*_/I,A[1]=V[2]*_/z,ae&&(Y.color=X[2],Y.tickScale=A,Y.dataAxis=o,Y.screenOffset=M,i.drawArrays(i.TRIANGLES,le,ae))}}(),m.update=function(){var T=[1,1,-1,-1,1,-1],f=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,M=o.bounds,A=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var E=0,g=[[],[]],S=0;S<2;++S)for(var b=g[S],i=d[S],P=M[S],x=M[S+2],k=0;k<i.length;++k){var _=(i[k].x-P)/(x-P);b.push(_);for(var B=0;B<6;++B)A[E++]=_,A[E++]=T[B],A[E++]=f[B]}this.ticks=g,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var f=T.gl,o=r(f),d=l(f,s.gridVert,s.gridFrag),M=l(f,s.tickVert,s.gridFrag),A=new c(T,o,d,M);return A}},1154:function(v,y,t){v.exports=u;var r=t(5827),l=t(5158),a=t(2709);function s(m,h,T){this.plot=m,this.vbo=h,this.shader=T}var c=s.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var m=[0,0],h=[0,0];return function(T,f,o,d,M,A){var E=this.plot,g=this.shader,S=E.gl;m[0]=T,m[1]=f,h[0]=o,h[1]=d,g.uniforms.start=m,g.uniforms.end=h,g.uniforms.width=M*E.pixelRatio,g.uniforms.color=A,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var h=m.gl,T=r(h,[-1,-1,-1,1,1,-1,1,1]),f=l(h,a.lineVert,a.lineFrag),o=new s(m,T,f);return o}},2709:function(v,y,t){var r=t(6832),l=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:l,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:l,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:l,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,y,t){v.exports=h;var r=t(5827),l=t(5158),a=t(6946),s=t(5070),c=t(2709);function u(T,f,o){this.plot=T,this.vbo=f,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=u.prototype;m.drawTicks=function(){var T=[0,0],f=[0,0],o=[0,0];return function(d){var M=this.plot,A=this.shader,E=this.tickX[d],g=this.tickOffset[d],S=M.gl,b=M.viewBox,i=M.dataBox,P=M.screenBox,x=M.pixelRatio,k=M.tickEnable,_=M.tickPad,B=M.tickColor,I=M.tickAngle,z=M.labelEnable,O=M.labelPad,F=M.labelColor,N=M.labelAngle,Q=this.labelOffset[d],$=this.labelCount[d],j=s.lt(E,i[d]),ee=s.le(E,i[d+2]);T[0]=T[1]=0,T[d]=1,f[d]=(b[2+d]+b[d])/(P[2+d]-P[d])-1;var oe=2/P[2+(d^1)]-P[d^1];f[d^1]=oe*b[d^1]-1,k[d]&&(f[d^1]-=oe*x*_[d],j<ee&&g[ee]>g[j]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=f,A.uniforms.color=B[d],A.uniforms.angle=I[d],S.drawArrays(S.TRIANGLES,g[j],g[ee]-g[j]))),z[d]&&$&&(f[d^1]-=oe*x*O[d],A.uniforms.dataAxis=o,A.uniforms.screenOffset=f,A.uniforms.color=F[d],A.uniforms.angle=N[d],S.drawArrays(S.TRIANGLES,Q,$)),f[d^1]=oe*b[2+(d^1)]-1,k[d+2]&&(f[d^1]+=oe*x*_[d+2],j<ee&&g[ee]>g[j]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=f,A.uniforms.color=B[d+2],A.uniforms.angle=I[d+2],S.drawArrays(S.TRIANGLES,g[j],g[ee]-g[j]))),z[d+2]&&$&&(f[d^1]+=oe*x*O[d+2],A.uniforms.dataAxis=o,A.uniforms.screenOffset=f,A.uniforms.color=F[d+2],A.uniforms.angle=N[d+2],S.drawArrays(S.TRIANGLES,Q,$))}}(),m.drawTitle=function(){var T=[0,0],f=[0,0];return function(){var o=this.plot,d=this.shader,M=o.gl,A=o.screenBox,E=o.titleCenter,g=o.titleAngle,S=o.titleColor,b=o.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)f[i]=2*(E[i]*b-A[i])/(A[2+i]-A[i])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=f,d.uniforms.angle=g,d.uniforms.color=S,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var T=[0,0],f=[0,0],o=[0,0];return function(){var d=this.plot,M=this.shader,A=d._tickBounds,E=d.dataBox,g=d.screenBox,S=d.viewBox;M.bind();for(var b=0;b<2;++b){var i=A[b],P=A[b+2],x=P-i,k=.5*(E[b+2]+E[b]),_=E[b+2]-E[b],B=S[b],I=S[b+2],z=I-B,O=g[b],F=g[b+2],N=F-O;f[b]=2*x/_*z/N,T[b]=2*(i-k)/_*z/N}o[1]=2*d.pixelRatio/(g[3]-g[1]),o[0]=o[1]*(g[3]-g[1])/(g[2]-g[0]),M.uniforms.dataScale=f,M.uniforms.dataShift=T,M.uniforms.textScale=o,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(T){var f=[],o=T.ticks,d=T.bounds,M,A,E,g,S;for(S=0;S<2;++S){var b=[Math.floor(f.length/3)],i=[-1/0],P=o[S];for(M=0;M<P.length;++M){var x=P[M],k=x.x,_=x.text,B=x.font||"sans-serif";g=x.fontSize||12;for(var I=1/(d[S+2]-d[S]),z=d[S],O=_.split(`
`),F=0;F<O.length;F++)for(E=a(B,O[F]).data,A=0;A<E.length;A+=2)f.push(E[A]*g,-E[A+1]*g-F*g*1.2,(k-z)*I);b.push(Math.floor(f.length/3)),i.push(k)}this.tickOffset[S]=b,this.tickX[S]=i}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(f.length/3),E=a(T.labelFont[S],T.labels[S],{textAlign:"center"}).data,g=T.labelSize[S],M=0;M<E.length;M+=2)f.push(E[M]*g,-E[M+1]*g,0);this.labelCount[S]=Math.floor(f.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(f.length/3),E=a(T.titleFont,T.title).data,g=T.titleSize,M=0;M<E.length;M+=2)f.push(E[M]*g,-E[M+1]*g,0);this.titleCount=Math.floor(f.length/3)-this.titleOffset,this.vbo.update(f)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var f=T.gl,o=r(f),d=l(f,c.textVert,c.textFrag),M=new u(T,o,d);return M}},2117:function(v,y,t){v.exports=f;var r=t(2611),l=t(3016),a=t(5613),s=t(1154),c=t(4554);function u(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=u.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var o=this.gl,d=this.screenBox,M=this.viewBox,A=this.dataBox,E=this.pixelRatio,g=this.grid,S=this.line,b=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var P=this.borderColor;o.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),o.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var x=this.backgroundColor;o.clearColor(x[0]*x[3],x[1]*x[3],x[2]*x[3],x[3]),o.clear(o.COLOR_BUFFER_BIT),g.draw();var k=this.zeroLineEnable,_=this.zeroLineColor,B=this.zeroLineWidth;if(k[0]||k[1]){S.bind();for(var I=0;I<2;++I)if(!(!k[I]||!(A[I]<=0&&A[I+2]>=0))){var z=d[I]-A[I]*(d[I+2]-d[I])/(A[I+2]-A[I]);I===0?S.drawLine(z,d[1],z,d[3],B[I],_[I]):S.drawLine(d[0],z,d[2],z,B[I],_[I])}}for(var I=0;I<i.length;++I)i[I].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var O=this.borderLineEnable,F=this.borderLineWidth,N=this.borderLineColor;O[1]&&S.drawLine(M[0],M[1]-.5*F[1]*E,M[0],M[3]+.5*F[3]*E,F[1],N[1]),O[0]&&S.drawLine(M[0]-.5*F[0]*E,M[1],M[2]+.5*F[2]*E,M[1],F[0],N[0]),O[3]&&S.drawLine(M[2],M[1]-.5*F[1]*E,M[2],M[3]+.5*F[3]*E,F[3],N[3]),O[2]&&S.drawLine(M[0]-.5*F[0]*E,M[3],M[2]+.5*F[2]*E,M[3],F[2],N[2]),b.bind();for(var I=0;I<2;++I)b.drawTicks(I);this.titleEnable&&b.drawTitle();for(var Q=this.overlays,I=0;I<Q.length;++I)Q[I].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,M=this.objects,A=0;A<M.length;++A)d=M[A].drawPick(d);o.end()}}}(),m.pick=function(){return function(o,d){if(!this.static){var M=this.pixelRatio,A=this.pickPixelRatio,E=this.viewBox,g=Math.round((o-E[0]/M)*A)|0,S=Math.round((d-E[1]/M)*A)|0,b=this.pickBuffer.query(g,S,this.pickRadius);if(!b)return null;for(var i=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),P=this.objects,x=0;x<P.length;++x){var k=P[x].pick(g,S,i);if(k)return k}return null}}}();function h(o){for(var d=o.slice(),M=0;M<d.length;++M)d[M]=d[M].slice();return d}function T(o,d){return o.x-d.x}m.setScreenBox=function(o){var d=this.screenBox,M=this.pixelRatio;d[0]=Math.round(o[0]*M)|0,d[1]=Math.round(o[1]*M)|0,d[2]=Math.round(o[2]*M)|0,d[3]=Math.round(o[3]*M)|0,this.setDirty()},m.setDataBox=function(o){var d=this.dataBox,M=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];M&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},m.setViewBox=function(o){var d=this.pixelRatio,M=this.viewBox;M[0]=Math.round(o[0]*d)|0,M[1]=Math.round(o[1]*d)|0,M[2]=Math.round(o[2]*d)|0,M[3]=Math.round(o[3]*d)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*A)|0,Math.round((o[3]-o[1])*A)|0],this.setDirty()},m.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var M=this.pixelRatio;this.pickPixelRatio=Math.max(M,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/M,d.drawingBufferHeight/M]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/M,.125*(this.screenBox[3]-this.screenBox[1])/M,.875*(this.screenBox[2]-this.screenBox[0])/M,.875*(this.screenBox[3]-this.screenBox[1])/M]);var A=this.viewBox,E=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(o.dataBox||[-10,-10/E,10,10/E]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(A[0]+A[2])/M,(A[3]+120)/M]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var g=o.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var b=0;b<2;++b){var i=g[b].slice(0);i.length!==0&&(i.sort(T),S[b]=Math.min(S[b],i[0].x),S[b+2]=Math.max(S[b+2],i[i.length-1].x))}this.grid.update({bounds:S,ticks:g}),this.text.update({bounds:S,ticks:g,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},m.removeObject=function(o){for(var d=this.objects,M=0;M<d.length;++M)if(d[M]===o){d.splice(M,1),this.setDirty();break}},m.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},m.removeOverlay=function(o){for(var d=this.overlays,M=0;M<d.length;++M)if(d[M]===o){d.splice(M,1),this.setOverlayDirty();break}};function f(o){var d=o.gl,M=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),A=new u(d,M);return A.grid=l(A),A.text=a(A),A.line=s(A),A.box=c(A),A.update(o),A}},4296:function(v,y,t){v.exports=m;var r=t(8161),l=t(1152),a=t(6145),s=t(6475),c=t(2565),u=t(5233);function m(h,T){h=h||document.body,T=T||{};var f=[.01,1/0];"distanceLimits"in T&&(f[0]=T.distanceLimits[0],f[1]=T.distanceLimits[1]),"zoomMin"in T&&(f[0]=T.zoomMin),"zoomMax"in T&&(f[1]=T.zoomMax);var o=l({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:f}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,A=h.clientWidth,E=h.clientHeight,g={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:o.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var S=r(),b=this.delay,i=S-2*b;o.idle(S-b),o.recalcMatrix(i),o.flush(S-(100+b*2));for(var P=!0,x=o.computedMatrix,k=0;k<16;++k)P=P&&d[k]===x[k],d[k]=x[k];var _=h.clientWidth===A&&h.clientHeight===E;return A=h.clientWidth,E=h.clientHeight,P?!_:(M=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,b,i){o.lookAt(o.lastT(),S,b,i)},rotate:function(S,b,i){o.rotate(o.lastT(),S,b,i)},pan:function(S,b,i){o.pan(o.lastT(),S,b,i)},translate:function(S,b,i){o.translate(o.lastT(),S,b,i)}};return Object.defineProperties(g,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var b=o.computedUp.slice(),i=o.computedEye.slice(),P=o.computedCenter.slice();if(o.setMode(S),S==="turntable"){var x=r();o._active.lookAt(x,i,P,b),o._active.lookAt(x+500,i,P,[0,0,1]),o._active.flush(x)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(f)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),g._lastX=-1,g._lastY=-1,g._lastMods={shift:!1,control:!1,alt:!1,meta:!1},g.enableMouseListeners=function(){g.mouseListener=a(h,S),h.addEventListener("touchstart",function(b){var i=c(b.changedTouches[0],h);S(0,i[0],i[1],g._lastMods),S(1,i[0],i[1],g._lastMods)},u?{passive:!0}:!1),h.addEventListener("touchmove",function(b){var i=c(b.changedTouches[0],h);S(1,i[0],i[1],g._lastMods),b.preventDefault()},u?{passive:!1}:!1),h.addEventListener("touchend",function(b){S(0,g._lastX,g._lastY,g._lastMods)},u?{passive:!0}:!1);function S(b,i,P,x){var k=g.keyBindingMode;if(k!==!1){var _=k==="rotate",B=k==="pan",I=k==="zoom",z=!!x.control,O=!!x.alt,F=!!x.shift,N=!!(b&1),Q=!!(b&2),$=!!(b&4),j=1/h.clientHeight,ee=j*(i-g._lastX),oe=j*(P-g._lastY),Y=g.flipX?1:-1,V=g.flipY?1:-1,W=Math.PI*g.rotateSpeed,X=r();if(g._lastX!==-1&&g._lastY!==-1&&((_&&N&&!z&&!O&&!F||N&&!z&&!O&&F)&&o.rotate(X,Y*W*ee,-V*W*oe,0),(B&&N&&!z&&!O&&!F||Q||N&&z&&!O&&!F)&&o.pan(X,-g.translateSpeed*ee*M,g.translateSpeed*oe*M,0),I&&N&&!z&&!O&&!F||$||N&&!z&&O&&!F)){var re=-g.zoomSpeed*oe/window.innerHeight*(X-o.lastT())*100;o.pan(X,0,0,M*(Math.exp(re)-1))}return g._lastX=i,g._lastY=P,g._lastMods=x,!0}}g.wheelListener=s(h,function(b,i){if(g.keyBindingMode!==!1&&g.enableWheel){var P=g.flipX?1:-1,x=g.flipY?1:-1,k=r();if(Math.abs(b)>Math.abs(i))o.rotate(k,0,0,-b*P*Math.PI*g.rotateSpeed/window.innerWidth);else if(!g._ortho){var _=-g.zoomSpeed*x*i/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,M*(Math.exp(_)-1))}}},!0)},g.enableMouseListeners(),g}},8245:function(v,y,t){var r=t(6832),l=t(5158),a=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec2"}])}},1059:function(v,y,t){var r=t(4296),l=t(7453),a=t(2771),s=t(6496),c=t(2611),u=t(4234),m=t(8126),h=t(6145),T=t(1120),f=t(5268),o=t(8245),d=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:r};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(i,P){var x=null;try{x=i.getContext("webgl",P),x||(x=i.getContext("experimental-webgl",P))}catch{return null}return x}function E(i){var P=Math.round(Math.log(Math.abs(i))/Math.log(10));if(P<0){var x=Math.round(Math.pow(10,-P));return Math.ceil(i*x)/x}else if(P>0){var x=Math.round(Math.pow(10,P));return Math.ceil(i/x)*x}return Math.ceil(i)}function g(i){return typeof i=="boolean"?i:!0}function S(i){i=i||{},i.camera=i.camera||{};var P=i.canvas;if(!P)if(P=document.createElement("canvas"),i.container){var x=i.container;x.appendChild(P)}else document.body.appendChild(P);var k=i.gl;if(k||(i.glOptions&&(d=!!i.glOptions.preserveDrawingBuffer),k=A(P,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var _=i.bounds||[[-10,-10,-10],[10,10,10]],B=new M,I=u(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),z=o(k),O=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,F={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:O},N=i.axes||{},Q=l(k,N);Q.enable=!N.disable;var $=i.spikes||{},j=s(k,$),ee=[],oe=[],Y=[],V=[],W=!0,K=!0,X=new Array(16),re=new Array(16),ie={view:null,projection:X,model:re,_ortho:!1},K=!0,q=[k.drawingBufferWidth,k.drawingBufferHeight],le=i.cameraObject||r(P,F),ae={gl:k,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:P,selection:B,camera:le,axes:Q,axesPixels:null,spikes:j,bounds:_,objects:ee,shape:q,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:g(i.autoResize),autoBounds:g(i.autoBounds),autoScale:!!i.autoScale,autoCenter:g(i.autoCenter),clipToBounds:g(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:ie,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Be){this.aspect[0]=Be.x,this.aspect[1]=Be.y,this.aspect[2]=Be.z,K=!0},setBounds:function(Be,Ue){this.bounds[0][Be]=Ue.min,this.bounds[1][Be]=Ue.max},setClearColor:function(Be){this.clearColor=Be},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/ae.pixelRatio|0,k.drawingBufferHeight/ae.pixelRatio|0];function me(){if(!ae._stopped&&ae.autoResize){var Be=P.parentNode,Ue=1,De=1;Be&&Be!==document.body?(Ue=Be.clientWidth,De=Be.clientHeight):(Ue=window.innerWidth,De=window.innerHeight);var He=Math.ceil(Ue*ae.pixelRatio)|0,ut=Math.ceil(De*ae.pixelRatio)|0;if(He!==P.width||ut!==P.height){P.width=He,P.height=ut;var et=P.style;et.position=et.position||"absolute",et.left="0px",et.top="0px",et.width=Ue+"px",et.height=De+"px",W=!0}}}ae.autoResize&&me(),window.addEventListener("resize",me);function Me(){for(var Be=ee.length,Ue=V.length,De=0;De<Ue;++De)Y[De]=0;e:for(var De=0;De<Be;++De){var He=ee[De],ut=He.pickSlots;if(!ut){oe[De]=-1;continue}for(var et=0;et<Ue;++et)if(Y[et]+ut<255){oe[De]=et,He.setPickBase(Y[et]+1),Y[et]+=ut;continue e}var Qe=c(k,q);oe[De]=Ue,V.push(Qe),Y.push(ut),He.setPickBase(1),Ue+=1}for(;Ue>0&&Y[Ue-1]===0;)Y.pop(),V.pop().dispose()}ae.update=function(Be){ae._stopped||(W=!0,K=!0)},ae.add=function(Be){ae._stopped||(Be.axes=Q,ee.push(Be),oe.push(-1),W=!0,K=!0,Me())},ae.remove=function(Be){if(!ae._stopped){var Ue=ee.indexOf(Be);Ue<0||(ee.splice(Ue,1),oe.pop(),W=!0,K=!0,Me())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",me),P.removeEventListener("webglcontextlost",xe),ae.mouseListener.enabled=!1,!ae.contextLost)){Q.dispose(),j.dispose();for(var Be=0;Be<ee.length;++Be)ee[Be].dispose();I.dispose();for(var Be=0;Be<V.length;++Be)V[Be].dispose();z.dispose(),k=null,Q=null,j=null,ee=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=h(P,function(Be,Ue,De){if(!ae._stopped){var He=V.length,ut=ee.length,et=B.object;B.distance=1/0,B.mouse[0]=Ue,B.mouse[1]=De,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var Qe=!1;if(Be&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(K=!0),ae._mouseRotating=!1;for(var qe=0;qe<He;++qe){var ft=V[qe].query(Ue,he[1]-De-1,ae.pickRadius);if(ft){if(ft.distance>B.distance)continue;for(var gt=0;gt<ut;++gt){var xt=ee[gt];if(oe[gt]===qe){var Ct=xt.pick(ft);Ct&&(B.buttons=Be,B.screen=ft.coord,B.distance=ft.distance,B.object=xt,B.index=Ct.distance,B.dataPosition=Ct.position,B.dataCoordinate=Ct.dataCoordinate,B.data=Ct,Qe=!0)}}}}}et&&et!==B.object&&(et.highlight&&et.highlight(null),W=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),W=!0),Qe=Qe||B.object!==et,Qe&&ae.onselect&&ae.onselect(B),Be&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(B),ae._prevButtons=Be}})};function xe(){if(ae.contextLost)return!0;k.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}P.addEventListener("webglcontextlost",xe);function Ie(){if(!xe()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Be=ee.length,Ue=V.length,De=0;De<Ue;++De){var He=V[De];He.shape=he,He.begin();for(var ut=0;ut<Be;++ut)if(oe[ut]===De){var et=ee[ut];et.drawPick&&(et.pixelRatio=1,et.drawPick(ie))}He.end()}}}var _e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=[_e[0].slice(),_e[1].slice()];function ye(){if(!xe()){me();var Be=ae.camera.tick();ie.view=ae.camera.matrix,W=W||Be,K=K||Be,Q.pixelRatio=ae.pixelRatio,j.pixelRatio=ae.pixelRatio;var Ue=ee.length,De=_e[0],He=_e[1];De[0]=De[1]=De[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var ut=0;ut<Ue;++ut){var et=ee[ut];et.pixelRatio=ae.pixelRatio,et.axes=ae.axes,W=W||!!et.dirty,K=K||!!et.dirty;var Qe=et.bounds;if(Qe)for(var qe=Qe[0],ft=Qe[1],gt=0;gt<3;++gt)De[gt]=Math.min(De[gt],qe[gt]),He[gt]=Math.max(He[gt],ft[gt])}var xt=ae.bounds;if(ae.autoBounds)for(var gt=0;gt<3;++gt){if(He[gt]<De[gt])De[gt]=-1,He[gt]=1;else{De[gt]===He[gt]&&(De[gt]-=1,He[gt]+=1);var Ct=.05*(He[gt]-De[gt]);De[gt]=De[gt]-Ct,He[gt]=He[gt]+Ct}xt[0][gt]=De[gt],xt[1][gt]=He[gt]}for(var Je=!1,gt=0;gt<3;++gt)Je=Je||Te[0][gt]!==xt[0][gt]||Te[1][gt]!==xt[1][gt],Te[0][gt]=xt[0][gt],Te[1][gt]=xt[1][gt];if(K=K||Je,W=W||Je,!!W){if(Je){for(var ze=[0,0,0],ut=0;ut<3;++ut)ze[ut]=E((xt[1][ut]-xt[0][ut])/10);Q.autoTicks?Q.update({bounds:xt,tickSpacing:ze}):Q.update({bounds:xt})}var Fe=k.drawingBufferWidth,$e=k.drawingBufferHeight;q[0]=Fe,q[1]=$e,he[0]=Math.max(Fe/ae.pixelRatio,1)|0,he[1]=Math.max($e/ae.pixelRatio,1)|0,b(ae,O);for(var ut=0;ut<Ue;++ut){var et=ee[ut];et.axesBounds=xt,ae.clipToBounds&&(et.clipBounds=xt)}B.object&&(ae.snapToData?j.position=B.dataCoordinate:j.position=B.dataPosition,j.bounds=xt),K&&(K=!1,Ie()),ae.axesPixels=a(ae.axes,ie,Fe,$e),ae.onrender&&ae.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Fe,$e),ae.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var at=!1;Q.enable&&(at=at||Q.isTransparent(),Q.draw(ie)),j.axes=Q,B.object&&j.draw(ie),k.disable(k.CULL_FACE);for(var ut=0;ut<Ue;++ut){var et=ee[ut];et.axes=Q,et.pixelRatio=ae.pixelRatio,et.isOpaque&&et.isOpaque()&&et.draw(ie),et.isTransparent&&et.isTransparent()&&(at=!0)}if(at){I.shape=q,I.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Q.enable&&Q.isTransparent()&&Q.drawTransparent(ie);for(var ut=0;ut<Ue;++ut){var et=ee[ut];et.isOpaque&&et.isOpaque()&&et.draw(ie)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Q.isTransparent()&&Q.drawTransparent(ie);for(var ut=0;ut<Ue;++ut){var et=ee[ut];et.isTransparent&&et.isTransparent()&&et.drawTransparent(ie)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),z.bind(),I.color[0].bind(0),z.uniforms.accumBuffer=0,m(k),k.disable(k.BLEND)}W=!1;for(var ut=0;ut<Ue;++ut)ee[ut].dirty=!1}}}function Ae(){ae._stopped||ae.contextLost||(ye(),requestAnimationFrame(Ae))}return ae.enableMouseListeners(),Ae(),ae.redraw=function(){ae._stopped||(W=!0,ye())},ae}function b(i,P){var x=i.bounds,k=i.cameraParams,_=k.projection,B=k.model,I=i.gl.drawingBufferWidth,z=i.gl.drawingBufferHeight,O=i.zNear,F=i.zFar,N=i.fovy,Q=I/z;P?(f(_,-Q,Q,-1,1,O,F),k._ortho=!0):(T(_,N,Q,O,F),k._ortho=!1);for(var $=0;$<16;++$)B[$]=0;B[15]=1;for(var j=0,$=0;$<3;++$)j=Math.max(j,x[1][$]-x[0][$]);for(var $=0;$<3;++$)i.autoScale?B[5*$]=i.aspect[$]/(x[1][$]-x[0][$]):B[5*$]=1/j,i.autoCenter&&(B[12+$]=-B[5*$]*.5*(x[0][$]+x[1][$]))}},8023:function(v,y,t){var r=t(6832);y.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),y.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),y.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),y.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,y,t){var r=t(5158),l=t(5827),a=t(5306),s=t(8023);v.exports=h;function c(T,f,o,d,M){this.plot=T,this.offsetBuffer=f,this.pickBuffer=o,this.shader=d,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=c.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(T){var f;T=T||{};function o(b,i){return b in T?T[b]:i}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=T.positions.length>>>1,M=T.positions instanceof Float32Array,A=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,E=T.positions,g=M?E:a.mallocFloat32(E.length),S=A?T.idToIndex:a.mallocInt32(d);if(M||g.set(E),!A)for(g.set(E),f=0;f<d;f++)S[f]=f;this.points=E,this.offsetBuffer.update(g),this.pickBuffer.update(S),M||a.free(g),A||a.free(S),this.pointCount=d,this.pickOffset=0};function m(T,f){var o=0,d=T.length>>>1,M;for(M=0;M<d;M++){var A=T[M*2],E=T[M*2+1];A>=f[0]&&A<=f[2]&&E>=f[1]&&E<=f[3]&&o++}return o}u.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],f=[0,0,0,0];return function(o){var d=o!==void 0,M=d?this.pickShader:this.shader,A=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return o;var g=E[2]-E[0],S=E[3]-E[1],b=m(this.points,E),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));T[0]=2/g,T[4]=2/S,T[6]=-2*E[0]/g-1,T[7]=-2*E[1]/S-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=T,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=i<5,M.uniforms.pointSize=i,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(f[0]=o&255,f[1]=o>>8&255,f[2]=o>>16&255,f[3]=o>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(A.UNSIGNED_BYTE),M.uniforms.pickOffset=f,this.pickOffset=o);var P=A.getParameter(A.BLEND),x=A.getParameter(A.DITHER);return P&&!this.blend&&A.disable(A.BLEND),x&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),P&&!this.blend&&A.enable(A.BLEND),x&&A.enable(A.DITHER),o+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(T,f,o){var d=this.pickOffset,M=this.pointCount;if(o<d||o>=d+M)return null;var A=o-d,E=this.points;return{object:this,pointId:A,dataCoord:[E[2*A],E[2*A+1]]}};function h(T,f){var o=T.gl,d=l(o),M=l(o),A=r(o,s.pointVertex,s.pointFragment),E=r(o,s.pickVertex,s.pickFragment),g=new c(T,d,M,A,E);return g.update(f),T.addObject(g),g}},6093:function(v){v.exports=y;function y(t,r,l,a){var s=r[0],c=r[1],u=r[2],m=r[3],h=l[0],T=l[1],f=l[2],o=l[3],d,M,A,E,g;return M=s*h+c*T+u*f+m*o,M<0&&(M=-M,h=-h,T=-T,f=-f,o=-o),1-M>1e-6?(d=Math.acos(M),A=Math.sin(d),E=Math.sin((1-a)*d)/A,g=Math.sin(a*d)/A):(E=1-a,g=a),t[0]=E*s+g*h,t[1]=E*c+g*T,t[2]=E*u+g*f,t[3]=E*m+g*o,t}},8240:function(v){v.exports=function(y){return!y&&y!==0?"":y.toString()}},4123:function(v,y,t){var r=t(875);v.exports=a;var l={};function a(s,c,u){var m=l[c];if(m||(m=l[c]={}),s in m)return m[s];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var T=r(s,h);h.triangles=!1;var f=r(s,h),o,d;if(u&&u!==1){for(o=0;o<T.positions.length;++o)for(d=0;d<T.positions[o].length;++d)T.positions[o][d]/=u;for(o=0;o<f.positions.length;++o)for(d=0;d<f.positions[o].length;++d)f.positions[o][d]/=u}var M=[[1/0,1/0],[-1/0,-1/0]],A=f.positions.length;for(o=0;o<A;++o){var E=f.positions[o];for(d=0;d<2;++d)M[0][d]=Math.min(M[0][d],E[d]),M[1][d]=Math.max(M[1][d],E[d])}return m[s]=[T,f,M]}},9282:function(v,y,t){var r=t(5158),l=t(6832),a=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:a,fragment:u,attributes:h},f={vertex:s,fragment:u,attributes:h},o={vertex:c,fragment:u,attributes:h},d={vertex:a,fragment:m,attributes:h},M={vertex:s,fragment:m,attributes:h},A={vertex:c,fragment:m,attributes:h};function E(g,S){var b=r(g,S),i=b.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,b}y.createPerspective=function(g){return E(g,T)},y.createOrtho=function(g){return E(g,f)},y.createProject=function(g){return E(g,o)},y.createPickPerspective=function(g){return E(g,d)},y.createPickOrtho=function(g){return E(g,M)},y.createPickProject=function(g){return E(g,A)}},2182:function(v,y,t){var r=t(3596),l=t(5827),a=t(2944),s=t(5306),c=t(104),u=t(9282),m=t(4123),h=t(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=oe;function f(Y,V){var W=Y[0],X=Y[1],re=Y[2],ie=Y[3];return Y[0]=V[0]*W+V[4]*X+V[8]*re+V[12]*ie,Y[1]=V[1]*W+V[5]*X+V[9]*re+V[13]*ie,Y[2]=V[2]*W+V[6]*X+V[10]*re+V[14]*ie,Y[3]=V[3]*W+V[7]*X+V[11]*re+V[15]*ie,Y}function o(Y,V,W,X){return f(X,X),f(X,X),f(X,X)}function d(Y,V){this.index=Y,this.dataCoordinate=this.position=V}function M(Y){return Y===!0||Y>1?1:Y}function A(Y,V,W,X,re,ie,K,q,le,ae,he,me){this.gl=Y,this.pixelRatio=1,this.shader=V,this.orthoShader=W,this.projectShader=X,this.pointBuffer=re,this.colorBuffer=ie,this.glyphBuffer=K,this.idBuffer=q,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=he,this.pickProjectShader=me,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var E=A.prototype;E.pickSlots=1,E.setPickBase=function(Y){this.pickId=Y},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&!this.projectHasAlpha)return!0;return!1};var g=[0,0],S=[0,0,0],b=[0,0,0],i=[0,0,0,1],P=[0,0,0,1],x=T.slice(),k=[0,0,0],_=[[0,0,0],[0,0,0]];function B(Y){return Y[0]=Y[1]=Y[2]=0,Y}function I(Y,V){return Y[0]=V[0],Y[1]=V[1],Y[2]=V[2],Y[3]=1,Y}function z(Y,V,W,X){return Y[0]=V[0],Y[1]=V[1],Y[2]=V[2],Y[W]=X,Y}function O(Y){for(var V=_,W=0;W<2;++W)for(var X=0;X<3;++X)V[W][X]=Math.max(Math.min(Y[W][X],1e8),-1e8);return V}function F(Y,V,W,X){var re=V.axesProject,ie=V.gl,K=Y.uniforms,q=W.model||T,le=W.view||T,ae=W.projection||T,he=V.axesBounds,me=O(V.clipBounds),Me;V.axes&&V.axes.lastCubeProps?Me=V.axes.lastCubeProps.axis:Me=[1,1,1],g[0]=2/ie.drawingBufferWidth,g[1]=2/ie.drawingBufferHeight,Y.bind(),K.view=le,K.projection=ae,K.screenSize=g,K.highlightId=V.highlightId,K.highlightScale=V.highlightScale,K.clipBounds=me,K.pickGroup=V.pickId/255,K.pixelRatio=X;for(var xe=0;xe<3;++xe)if(re[xe]){K.scale=V.projectScale[xe],K.opacity=V.projectOpacity[xe];for(var Ie=x,_e=0;_e<16;++_e)Ie[_e]=0;for(var _e=0;_e<4;++_e)Ie[5*_e]=1;Ie[5*xe]=0,Me[xe]<0?Ie[12+xe]=he[0][xe]:Ie[12+xe]=he[1][xe],c(Ie,q,Ie),K.model=Ie;var Te=(xe+1)%3,ye=(xe+2)%3,Ae=B(S),Be=B(b);Ae[Te]=1,Be[ye]=1;var Ue=o(ae,le,q,I(i,Ae)),De=o(ae,le,q,I(P,Be));if(Math.abs(Ue[1])>Math.abs(De[1])){var He=Ue;Ue=De,De=He,He=Ae,Ae=Be,Be=He;var ut=Te;Te=ye,ye=ut}Ue[0]<0&&(Ae[Te]=-1),De[1]>0&&(Be[ye]=-1);for(var et=0,Qe=0,_e=0;_e<4;++_e)et+=Math.pow(q[4*Te+_e],2),Qe+=Math.pow(q[4*ye+_e],2);Ae[Te]/=Math.sqrt(et),Be[ye]/=Math.sqrt(Qe),K.axes[0]=Ae,K.axes[1]=Be,K.fragClipBounds[0]=z(k,me[0],xe,-1e8),K.fragClipBounds[1]=z(k,me[1],xe,1e8),V.vao.bind(),V.vao.draw(ie.TRIANGLES,V.vertexCount),V.lineWidth>0&&(ie.lineWidth(V.lineWidth*X),V.vao.draw(ie.LINES,V.lineVertexCount,V.vertexCount)),V.vao.unbind()}}var N=[-1e8,-1e8,-1e8],Q=[1e8,1e8,1e8],$=[N,Q];function j(Y,V,W,X,re,ie,K){var q=W.gl;if((ie===W.projectHasAlpha||K)&&F(V,W,X,re),ie===W.hasAlpha||K){Y.bind();var le=Y.uniforms;le.model=X.model||T,le.view=X.view||T,le.projection=X.projection||T,g[0]=2/q.drawingBufferWidth,g[1]=2/q.drawingBufferHeight,le.screenSize=g,le.highlightId=W.highlightId,le.highlightScale=W.highlightScale,le.fragClipBounds=$,le.clipBounds=W.axes.bounds,le.opacity=W.opacity,le.pickGroup=W.pickId/255,le.pixelRatio=re,W.vao.bind(),W.vao.draw(q.TRIANGLES,W.vertexCount),W.lineWidth>0&&(q.lineWidth(W.lineWidth*re),W.vao.draw(q.LINES,W.lineVertexCount,W.vertexCount)),W.vao.unbind()}}E.draw=function(Y){var V=this.useOrtho?this.orthoShader:this.shader;j(V,this.projectShader,this,Y,this.pixelRatio,!1,!1)},E.drawTransparent=function(Y){var V=this.useOrtho?this.orthoShader:this.shader;j(V,this.projectShader,this,Y,this.pixelRatio,!0,!1)},E.drawPick=function(Y){var V=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;j(V,this.pickProjectShader,this,Y,1,!0,!0)},E.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var V=Y.value[2]+(Y.value[1]<<8)+(Y.value[0]<<16);if(V>=this.pointCount||V<0)return null;var W=this.points[V],X=this._selectResult;X.index=V;for(var re=0;re<3;++re)X.position[re]=X.dataCoordinate[re]=W[re];return X},E.highlight=function(Y){if(!Y)this.highlightId=[1,1,1,1];else{var V=Y.index,W=V&255,X=V>>8&255,re=V>>16&255;this.highlightId=[W/255,X/255,re/255,0]}};function ee(Y,V,W,X){var re;Array.isArray(Y)?V<Y.length?re=Y[V]:re=void 0:re=Y,re=h(re);var ie=!0;r(re)&&(re="▼",ie=!1);var K=m(re,W,X);return{mesh:K[0],lines:K[1],bounds:K[2],visible:ie}}E.update=function(Y){if(Y=Y||{},"perspective"in Y&&(this.useOrtho=!Y.perspective),"orthographic"in Y&&(this.useOrtho=!!Y.orthographic),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"project"in Y)if(Array.isArray(Y.project))this.axesProject=Y.project;else{var V=!!Y.project;this.axesProject=[V,V,V]}if("projectScale"in Y)if(Array.isArray(Y.projectScale))this.projectScale=Y.projectScale.slice();else{var W=+Y.projectScale;this.projectScale=[W,W,W]}if(this.projectHasAlpha=!1,"projectOpacity"in Y){if(Array.isArray(Y.projectOpacity))this.projectOpacity=Y.projectOpacity.slice();else{var W=+Y.projectOpacity;this.projectOpacity=[W,W,W]}for(var X=0;X<3;++X)this.projectOpacity[X]=M(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Y&&(this.opacity=M(Y.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=Y.position,ie=Y.font||"normal",K=Y.alignment||[0,0],q,le;if(K.length===2)q=K[0],le=K[1];else{q=[],le=[];for(var X=0;X<K.length;++X)q[X]=K[X][0],le[X]=K[X][1]}var ae=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],me=Y.glyph,Me=Y.color,xe=Y.size,Ie=Y.angle,_e=Y.lineColor,Te=-1,ye=0,Ae=0,Be=0;if(re.length){Be=re.length;e:for(var X=0;X<Be;++X){for(var Ue=re[X],De=0;De<3;++De)if(isNaN(Ue[De])||!isFinite(Ue[De]))continue e;var He=ee(me,X,ie,this.pixelRatio),ut=He.mesh,et=He.lines,Qe=He.bounds;ye+=ut.cells.length*3,Ae+=et.edges.length*2}}var qe=ye+Ae,ft=s.mallocFloat(3*qe),gt=s.mallocFloat(4*qe),xt=s.mallocFloat(2*qe),Ct=s.mallocUint32(qe);if(qe>0){var Je=0,ze=ye,Fe=[0,0,0,1],$e=[0,0,0,1],at=Array.isArray(Me)&&Array.isArray(Me[0]),Xe=Array.isArray(_e)&&Array.isArray(_e[0]);e:for(var X=0;X<Be;++X){Te+=1;for(var Ue=re[X],De=0;De<3;++De){if(isNaN(Ue[De])||!isFinite(Ue[De]))continue e;he[De]=Math.max(he[De],Ue[De]),ae[De]=Math.min(ae[De],Ue[De])}var He=ee(me,X,ie,this.pixelRatio),ut=He.mesh,et=He.lines,Qe=He.bounds,Pe=He.visible;if(!Pe)Fe=[1,1,1,0];else if(Array.isArray(Me)){var we;if(at?X<Me.length?we=Me[X]:we=[0,0,0,0]:we=Me,we.length===3){for(var De=0;De<3;++De)Fe[De]=we[De];Fe[3]=1}else if(we.length===4){for(var De=0;De<4;++De)Fe[De]=we[De];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;if(!Pe)$e=[1,1,1,0];else if(Array.isArray(_e)){var we;if(Xe?X<_e.length?we=_e[X]:we=[0,0,0,0]:we=_e,we.length===3){for(var De=0;De<3;++De)$e[De]=we[De];$e[De]=1}else if(we.length===4){for(var De=0;De<4;++De)$e[De]=we[De];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else $e[0]=$e[1]=$e[2]=0,$e[3]=1;var ue=.5;Pe?Array.isArray(xe)?X<xe.length?ue=+xe[X]:ue=12:xe?ue=+xe:this.useOrtho&&(ue=12):ue=0;var ge=0;Array.isArray(Ie)?X<Ie.length?ge=+Ie[X]:ge=0:Ie&&(ge=+Ie);for(var Le=Math.cos(ge),ke=Math.sin(ge),Ue=re[X],De=0;De<3;++De)he[De]=Math.max(he[De],Ue[De]),ae[De]=Math.min(ae[De],Ue[De]);var it=q,lt=le,it=0;Array.isArray(q)?X<q.length?it=q[X]:it=0:q&&(it=q);var lt=0;Array.isArray(le)?X<le.length?lt=le[X]:lt=0:le&&(lt=le),it*=it>0?1-Qe[0][0]:it<0?1+Qe[1][0]:1,lt*=lt>0?1-Qe[0][1]:lt<0?1+Qe[1][1]:1;for(var bt=[it,lt],nr=ut.cells||[],lr=ut.positions||[],De=0;De<nr.length;++De)for(var Rt=nr[De],Ut=0;Ut<3;++Ut){for(var Gt=0;Gt<3;++Gt)ft[3*Je+Gt]=Ue[Gt];for(var Gt=0;Gt<4;++Gt)gt[4*Je+Gt]=Fe[Gt];Ct[Je]=Te;var _t=lr[Rt[Ut]];xt[2*Je]=ue*(Le*_t[0]-ke*_t[1]+bt[0]),xt[2*Je+1]=ue*(ke*_t[0]+Le*_t[1]+bt[1]),Je+=1}for(var nr=et.edges,lr=et.positions,De=0;De<nr.length;++De)for(var Rt=nr[De],Ut=0;Ut<2;++Ut){for(var Gt=0;Gt<3;++Gt)ft[3*ze+Gt]=Ue[Gt];for(var Gt=0;Gt<4;++Gt)gt[4*ze+Gt]=$e[Gt];Ct[ze]=Te;var _t=lr[Rt[Ut]];xt[2*ze]=ue*(Le*_t[0]-ke*_t[1]+bt[0]),xt[2*ze+1]=ue*(ke*_t[0]+Le*_t[1]+bt[1]),ze+=1}}}this.bounds=[ae,he],this.points=re,this.pointCount=re.length,this.vertexCount=ye,this.lineVertexCount=Ae,this.pointBuffer.update(ft),this.colorBuffer.update(gt),this.glyphBuffer.update(xt),this.idBuffer.update(Ct),s.free(ft),s.free(gt),s.free(xt),s.free(Ct)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function oe(Y){var V=Y.gl,W=u.createPerspective(V),X=u.createOrtho(V),re=u.createProject(V),ie=u.createPickPerspective(V),K=u.createPickOrtho(V),q=u.createPickProject(V),le=l(V),ae=l(V),he=l(V),me=l(V),Me=a(V,[{buffer:le,size:3,type:V.FLOAT},{buffer:ae,size:4,type:V.FLOAT},{buffer:he,size:2,type:V.FLOAT},{buffer:me,size:4,type:V.UNSIGNED_BYTE,normalized:!0}]),xe=new A(V,W,X,re,le,ae,he,me,Me,ie,K,q);return xe.update(Y),xe}},1884:function(v,y,t){var r=t(6832);y.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),y.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,y,t){var r=t(5158),l=t(5827),a=t(1884);v.exports=u;function s(m,h,T){this.plot=m,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=s.prototype;c.draw=function(){if(this.enabled){var m=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var f=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,M=m.box,A=m.screenBox,E=m.dataBox,g=m.viewBox,S=m.pixelRatio,b=(h[0]-E[0])*(g[2]-g[0])/(E[2]-E[0])+g[0],i=(h[1]-E[1])*(g[3]-g[1])/(E[3]-E[1])+g[1],P=(h[2]-E[0])*(g[2]-g[0])/(E[2]-E[0])+g[0],x=(h[3]-E[1])*(g[3]-g[1])/(E[3]-E[1])+g[1];if(b=Math.max(b,g[0]),i=Math.max(i,g[1]),P=Math.min(P,g[2]),x=Math.min(x,g[3]),!(P<b||x<i)){M.bind();var k=A[2]-A[0],_=A[3]-A[1];if(this.outerFill&&(M.drawBox(0,0,k,i,o),M.drawBox(0,i,b,x,o),M.drawBox(0,x,k,_,o),M.drawBox(P,i,k,x,o)),this.innerFill&&M.drawBox(b,i,P,x,f),T>0){var B=T*S;M.drawBox(b-B,i-B,P+B,i+B,d),M.drawBox(b-B,x-B,P+B,x+B,d),M.drawBox(b-B,i-B,b+B,x+B,d),M.drawBox(P-B,i-B,P+B,x+B,d)}}}},c.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(m,h){var T=m.gl,f=l(T,[0,0,0,1,1,0,1,1]),o=r(T,a.boxVertex,a.boxFragment),d=new s(m,f,o);return d.update(h),m.addOverlay(d),d}},2611:function(v,y,t){v.exports=T;var r=t(4234),l=t(5306),a=t(5050),s=t(2288).nextPow2,c=function(f,o,d){for(var M=1e8,A=-1,E=-1,g=f.shape[0],S=f.shape[1],b=0;b<g;b++)for(var i=0;i<S;i++){var P=f.get(b,i,0),x=f.get(b,i,1),k=f.get(b,i,2),_=f.get(b,i,3);if(P<255||x<255||k<255||_<255){var B=o-b,I=d-i,z=B*B+I*I;z<M&&(M=z,A=b,E=i)}}return[A,E,M]};function u(f,o,d,M,A){this.coord=[f,o],this.id=d,this.value=M,this.distance=A}function m(f,o,d){this.gl=f,this.fbo=o,this.buffer=d,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(o.bind(),f.readPixels(0,0,o.shape[0],o.shape[1],f.RGBA,f.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var h=m.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(f){if(this.gl){this.fbo.shape=f;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){l.free(this.buffer);for(var M=this.buffer=l.mallocUint8(s(d*o*4)),A=0;A<d*o*4;++A)M[A]=255}return f}}}),h.begin=function(){var f=this.gl;this.shape,f&&(this.fbo.bind(),f.clearColor(1,1,1,1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT))},h.end=function(){var f=this.gl;f&&(f.bindFramebuffer(f.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(f,o,d){if(!this.gl)return null;var M=this.fbo.shape.slice();f=f|0,o=o|0,typeof d!="number"&&(d=1);var A=Math.min(Math.max(f-d,0),M[0])|0,E=Math.min(Math.max(f+d,0),M[0])|0,g=Math.min(Math.max(o-d,0),M[1])|0,S=Math.min(Math.max(o+d,0),M[1])|0;if(E<=A||S<=g)return null;var b=[E-A,S-g],i=a(this.buffer,[b[0],b[1],4],[4,M[0]*4,1],4*(A+M[0]*g)),P=c(i.hi(b[0],b[1],1),d,d),x=P[0],k=P[1];if(x<0||Math.pow(this.radius,2)<P[2])return null;var _=i.get(x,k,0),B=i.get(x,k,1),I=i.get(x,k,2),z=i.get(x,k,3);return new u(x+A|0,k+g|0,_,[B,I,z],Math.sqrt(P[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(f,o){var d=o[0],M=o[1],A={},E=r(f,d,M,A),g=l.mallocUint8(d*M*4);return new m(f,E,g)}},5158:function(v,y,t){var r=t(9016),l=t(4280),a=t(3984),s=t(1628),c=t(2631),u=t(9068);function m(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(d>M)for(o=M;o<d;o++)this.gl.enableVertexAttribArray(o);else if(M>d)for(o=d;o<M;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(o,d){return o.name<d.name?-1:1}h.update=function(o,d,M,A){if(!d||arguments.length===1){var E=o;o=E.vertex,d=E.fragment,M=E.uniforms,A=E.attributes}var g=this,S=g.gl,b=g._vref;g._vref=s.shader(S,S.VERTEX_SHADER,o),b&&b.dispose(),g.vertShader=g._vref.shader;var i=this._fref;if(g._fref=s.shader(S,S.FRAGMENT_SHADER,d),i&&i.dispose(),g.fragShader=g._fref.shader,!M||!A){var P=S.createProgram();if(S.attachShader(P,g.fragShader),S.attachShader(P,g.vertShader),S.linkProgram(P),!S.getProgramParameter(P,S.LINK_STATUS)){var x=S.getProgramInfoLog(P);throw new u(x,"Error linking program:"+x)}M=M||c.uniforms(S,P),A=A||c.attributes(S,P),S.deleteProgram(P)}A=A.slice(),A.sort(T);var k=[],_=[],B=[],I;for(I=0;I<A.length;++I){var z=A[I];if(z.type.indexOf("mat")>=0){for(var O=z.type.charAt(z.type.length-1)|0,F=new Array(O),N=0;N<O;++N)F[N]=B.length,_.push(z.name+"["+N+"]"),typeof z.location=="number"?B.push(z.location+N):Array.isArray(z.location)&&z.location.length===O&&typeof z.location[N]=="number"?B.push(z.location[N]|0):B.push(-1);k.push({name:z.name,type:z.type,locations:F})}else k.push({name:z.name,type:z.type,locations:[B.length]}),_.push(z.name),typeof z.location=="number"?B.push(z.location|0):B.push(-1)}var Q=0;for(I=0;I<B.length;++I)if(B[I]<0){for(;B.indexOf(Q)>=0;)Q+=1;B[I]=Q}var $=new Array(M.length);function j(){g.program=s.program(S,g._vref,g._fref,_,B);for(var ee=0;ee<M.length;++ee)$[ee]=S.getUniformLocation(g.program,M[ee].name)}j(),g._relink=j,g.types={uniforms:a(M),attributes:a(A)},g.attributes=l(S,g,k,B),Object.defineProperty(g,"uniforms",r(S,g,M,$))};function f(o,d,M,A,E){var g=new m(o);return g.update(d,M,A,E),g}v.exports=f},9068:function(v){function y(t,r,l){this.shortMessage=r||"",this.longMessage=l||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(l?`
`+l:""),this.stack=new Error().stack}y.prototype=new Error,y.prototype.name="GLError",y.prototype.constructor=y,v.exports=y},4280:function(v,y,t){v.exports=m;var r=t(9068);function l(h,T,f,o,d,M){this._gl=h,this._wrapper=T,this._index=f,this._locations=o,this._dimension=d,this._constFunc=M}var a=l.prototype;a.pointer=function(T,f,o,d){var M=this,A=M._gl,E=M._locations[M._index];A.vertexAttribPointer(E,M._dimension,T||A.FLOAT,!!f,o||0,d||0),A.enableVertexAttribArray(E)},a.set=function(h,T,f,o){return this._constFunc(this._locations[this._index],h,T,f,o)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var s=[function(h,T,f){return f.length===void 0?h.vertexAttrib1f(T,f):h.vertexAttrib1fv(T,f)},function(h,T,f,o){return f.length===void 0?h.vertexAttrib2f(T,f,o):h.vertexAttrib2fv(T,f)},function(h,T,f,o,d){return f.length===void 0?h.vertexAttrib3f(T,f,o,d):h.vertexAttrib3fv(T,f)},function(h,T,f,o,d,M){return f.length===void 0?h.vertexAttrib4f(T,f,o,d,M):h.vertexAttrib4fv(T,f)}];function c(h,T,f,o,d,M,A){var E=s[d],g=new l(h,T,f,o,d,E);Object.defineProperty(M,A,{set:function(S){return h.disableVertexAttribArray(o[f]),E(h,o[f],S),S},get:function(){return g},enumerable:!0})}function u(h,T,f,o,d,M,A){for(var E=new Array(d),g=new Array(d),S=0;S<d;++S)c(h,T,f[S],o,d,E,S),g[S]=E[S];Object.defineProperty(E,"location",{set:function(P){if(Array.isArray(P))for(var x=0;x<d;++x)g[x].location=P[x];else for(var x=0;x<d;++x)g[x].location=P+x;return P},get:function(){for(var P=new Array(d),x=0;x<d;++x)P[x]=o[f[x]];return P},enumerable:!0}),E.pointer=function(P,x,k,_){P=P||h.FLOAT,x=!!x,k=k||d*d,_=_||0;for(var B=0;B<d;++B){var I=o[f[B]];h.vertexAttribPointer(I,d,P,x,k,_+B*d),h.enableVertexAttribArray(I)}};var b=new Array(d),i=h["vertexAttrib"+d+"fv"];Object.defineProperty(M,A,{set:function(P){for(var x=0;x<d;++x){var k=o[f[x]];if(h.disableVertexAttribArray(k),Array.isArray(P[0]))i.call(h,k,P[x]);else{for(var _=0;_<d;++_)b[_]=P[d*x+_];i.call(h,k,b)}}return P},get:function(){return E},enumerable:!0})}function m(h,T,f,o){for(var d={},M=0,A=f.length;M<A;++M){var E=f[M],g=E.name,S=E.type,b=E.locations;switch(S){case"bool":case"int":case"float":c(h,T,b[0],o,1,d,g);break;default:if(S.indexOf("vec")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+g+": "+S);c(h,T,b[0],o,i,d,g)}else if(S.indexOf("mat")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+g+": "+S);u(h,T,b,o,i,d,g)}else throw new r("","Unknown data type for attribute "+g+": "+S);break}}return d}},9016:function(v,y,t){var r=t(3984),l=t(9068);v.exports=c;function a(u){return function(){return u}}function s(u,m){for(var h=new Array(u),T=0;T<u;++T)h[T]=m;return h}function c(u,m,h,T){function f(S){return function(b,i,P){return b.getUniform(i.program,P[S])}}function o(S){return function(i){for(var P=d("",S),x=0;x<P.length;++x){var k=P[x],_=k[0],B=k[1];if(T[B]){var I=i;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var z=_;if(_.indexOf(".")===0&&(z=_.slice(1)),z.indexOf("]")===z.length-1){var O=z.indexOf("["),F=z.slice(0,O),N=z.slice(O+1,z.length-1);I=F?i[F][N]:i[N]}else I=i[z]}var Q=h[B].type,$;switch(Q){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(T[B],I);break;case"float":u.uniform1f(T[B],I);break;default:var j=Q.indexOf("vec");if(0<=j&&j<=1&&Q.length===4+j){if($=Q.charCodeAt(Q.length-1)-48,$<2||$>4)throw new l("","Invalid data type");switch(Q.charAt(0)){case"b":case"i":u["uniform"+$+"iv"](T[B],I);break;case"v":u["uniform"+$+"fv"](T[B],I);break;default:throw new l("","Unrecognized data type for vector "+name+": "+Q)}}else if(Q.indexOf("mat")===0&&Q.length===4){if($=Q.charCodeAt(Q.length-1)-48,$<2||$>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+Q);u["uniformMatrix"+$+"fv"](T[B],!1,I);break}else throw new l("","Unknown uniform data type for "+name+": "+Q)}}}}}function d(S,b){if(typeof b!="object")return[[S,b]];var i=[];for(var P in b){var x=b[P],k=S;parseInt(P)+""===P?k+="["+P+"]":k+="."+P,typeof x=="object"?i.push.apply(i,d(k,x)):i.push([k,x])}return i}function M(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=S.indexOf("vec");if(0<=b&&b<=1&&S.length===4+b){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new l("","Invalid data type");return S.charAt(0)==="b"?s(i,!1):s(i,0)}else if(S.indexOf("mat")===0&&S.length===4){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+S);return s(i*i,0)}else throw new l("","Unknown uniform data type for "+name+": "+S)}}function A(S,b,i){if(typeof i=="object"){var P=E(i);Object.defineProperty(S,b,{get:a(P),set:o(i),enumerable:!0,configurable:!1})}else T[i]?Object.defineProperty(S,b,{get:f(i),set:o(i),enumerable:!0,configurable:!1}):S[b]=M(h[i].type)}function E(S){var b;if(Array.isArray(S)){b=new Array(S.length);for(var i=0;i<S.length;++i)A(b,i,S[i])}else{b={};for(var P in S)A(b,P,S[P])}return b}var g=r(h,!0);return{get:a(E(g)),set:o(g),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=y;function y(t,r){for(var l={},a=0;a<t.length;++a)for(var s=t[a].name,c=s.split("."),u=l,m=0;m<c.length;++m){var h=c[m].split("[");if(h.length>1){h[0]in u||(u[h[0]]=[]),u=u[h[0]];for(var T=1;T<h.length;++T){var f=parseInt(h[T]);T<h.length-1||m<c.length-1?(f in u||(T<h.length-1?u[f]=[]:u[f]={}),u=u[f]):r?u[f]=a:u[f]=t[a].type}}else m<c.length-1?(h[0]in u||(u[h[0]]={}),u=u[h[0]]):r?u[h[0]]=a:u[h[0]]=t[a].type}return l}},2631:function(v,y){y.uniforms=a,y.attributes=s;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function l(c,u){if(!r){var m=Object.keys(t);r={};for(var h=0;h<m.length;++h){var T=m[h];r[c[T]]=t[T]}}return r[u]}function a(c,u){for(var m=c.getProgramParameter(u,c.ACTIVE_UNIFORMS),h=[],T=0;T<m;++T){var f=c.getActiveUniform(u,T);if(f){var o=l(c,f.type);if(f.size>1)for(var d=0;d<f.size;++d)h.push({name:f.name.replace("[0]","["+d+"]"),type:o});else h.push({name:f.name,type:o})}}return h}function s(c,u){for(var m=c.getProgramParameter(u,c.ACTIVE_ATTRIBUTES),h=[],T=0;T<m;++T){var f=c.getActiveAttrib(u,T);f&&h.push({name:f.name,type:l(c,f.type)})}return h}},1628:function(v,y,t){y.shader=d,y.program=M;var r=t(9068),l=t(3530),a=typeof WeakMap>"u"?t(4037):WeakMap,s=new a,c=0;function u(A,E,g,S,b,i,P){this.id=A,this.src=E,this.type=g,this.shader=S,this.count=i,this.programs=[],this.cache=P}u.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,E=A.gl,g=this.programs,S=0,b=g.length;S<b;++S){var i=A.programs[g[S]];i&&(delete A.programs[S],E.deleteProgram(i))}E.deleteShader(this.shader),delete A.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var h=m.prototype;function T(A,E,g){var S=A.createShader(E);if(A.shaderSource(S,g),A.compileShader(S),!A.getShaderParameter(S,A.COMPILE_STATUS)){var b=A.getShaderInfoLog(S);try{var i=l(b,g,E)}catch(P){throw console.warn("Failed to format compiler error: "+P),new r(b,`Error compiling shader:
`+b)}throw new r(b,i.short,i.long)}return S}h.getShaderReference=function(A,E){var g=this.gl,S=this.shaders[A===g.FRAGMENT_SHADER|0],b=S[E];if(!b||!g.isShader(b.shader)){var i=T(g,A,E);b=S[E]=new u(c++,E,A,i,[],1,this)}else b.count+=1;return b};function f(A,E,g,S,b){var i=A.createProgram();A.attachShader(i,E),A.attachShader(i,g);for(var P=0;P<S.length;++P)A.bindAttribLocation(i,b[P],S[P]);if(A.linkProgram(i),!A.getProgramParameter(i,A.LINK_STATUS)){var x=A.getProgramInfoLog(i);throw new r(x,"Error linking program: "+x)}return i}h.getProgram=function(A,E,g,S){var b=[A.id,E.id,g.join(":"),S.join(":")].join("@"),i=this.programs[b];return(!i||!this.gl.isProgram(i))&&(this.programs[b]=i=f(this.gl,A.shader,E.shader,g,S),A.programs.push(b),E.programs.push(b)),i};function o(A){var E=s.get(A);return E||(E=new m(A),s.set(A,E)),E}function d(A,E,g){return o(A).getShaderReference(E,g)}function M(A,E,g,S,b){return o(A).getProgram(E,g,S,b)}},3050:function(v){v.exports=r;function y(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=y.prototype;t.update=function(l){l=l||{},this.enable=(l.enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var l=this.enable,a=this.width,s=this.color,c=this.center,u=this.plot,m=u.line,h=u.dataBox,T=u.viewBox;if(m.bind(),h[0]<=c[0]&&c[0]<=h[2]&&h[1]<=c[1]&&c[1]<=h[3]){var f=T[0]+(c[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),o=T[1]+(c[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);l[0]&&m.drawLine(f,o,T[0],o,a[0],s[0]),l[1]&&m.drawLine(f,o,f,T[1],a[1],s[1]),l[2]&&m.drawLine(f,o,T[2],o,a[2],s[2]),l[3]&&m.drawLine(f,o,f,T[3],a[3],s[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(l,a){var s=new y(l);return s.update(a),l.addOverlay(s),s}},3540:function(v,y,t){var r=t(6832),l=t(5158),a=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,y,t){var r=t(5827),l=t(2944),a=t(3540);v.exports=f;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,M,A){this.gl=o,this.buffer=d,this.vao=M,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=c.prototype,m=[0,0,0],h=[0,0,0],T=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var d=this.gl,M=this.vao,A=this.shader;M.bind(),A.bind();var E=o.model||s,g=o.view||s,S=o.projection||s,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var i=m,P=h,x=0;x<3;++x)b&&b[x]<0?(i[x]=this.bounds[0][x],P[x]=this.bounds[1][x]):(i[x]=this.bounds[1][x],P[x]=this.bounds[0][x]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,A.uniforms.model=E,A.uniforms.view=g,A.uniforms.projection=S,A.uniforms.coordinates=[this.position,i,P],A.uniforms.colors=this.colors,A.uniforms.screenShape=T;for(var x=0;x<3;++x)A.uniforms.lineWidth=this.lineWidth[x]*this.pixelRatio,this.enabled[x]&&(M.draw(d.TRIANGLES,6,6*x),this.drawSides[x]&&M.draw(d.TRIANGLES,12,18+12*x));M.unbind()},u.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(o,d){var M=[];function A(i,P,x,k,_,B){var I=[i,P,x,0,0,0,1];I[k+3]=1,I[k]=_,M.push.apply(M,I),I[6]=-1,M.push.apply(M,I),I[k]=B,M.push.apply(M,I),M.push.apply(M,I),I[6]=1,M.push.apply(M,I),I[k]=_,M.push.apply(M,I)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var E=r(o,M),g=l(o,[{type:o.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:E,size:1,offset:24,stride:28}]),S=a(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var b=new c(o,E,g,S);return b.update(d),b}},9578:function(v,y,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},y.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,y,t){var r=t(2858),l=t(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(M,A,E,g){for(var S=M.points,b=M.velocities,i=M.divergences,P=[],x=[],k=[],_=[],B=[],I=[],z=0,O=0,F=l.create(),N=l.create(),Q=8,$=0;$<S.length;$++){var j=S[$],ee=b[$],oe=i[$];A===0&&(oe=E*.05),O=r.length(ee)/g,F=l.create(),r.copy(F,ee),F[3]=oe;for(var Y=0;Y<Q;Y++)B[Y]=[j[0],j[1],j[2],Y];if(_.length>0)for(var Y=0;Y<Q;Y++){var V=(Y+1)%Q;P.push(_[Y],B[Y],B[V],B[V],_[V],_[Y]),k.push(N,F,F,F,N,N),I.push(z,O,O,O,z,z);var W=P.length;x.push([W-6,W-5,W-4],[W-3,W-2,W-1])}var X=_;_=B,B=X;var re=N;N=F,F=re;var ie=z;z=O,O=ie}return{positions:P,cells:x,vectors:k,vertexIntensity:I}},c=function(M,A,E,g){for(var S=0,b=0;b<M.length;b++)for(var i=M[b].velocities,P=0;P<i.length;P++)S=Math.max(S,r.length(i[P]));for(var x=M.map(function($){return s($,E,g,S)}),k=[],_=[],B=[],I=[],b=0;b<x.length;b++){var z=x[b],O=k.length;k=k.concat(z.positions),B=B.concat(z.vectors),I=I.concat(z.vertexIntensity);for(var P=0;P<z.cells.length;P++){var F=z.cells[P],N=[];_.push(N);for(var Q=0;Q<F.length;Q++)N.push(F[Q]+O)}}return{positions:k,cells:_,vectors:B,vertexIntensity:I,colormap:A}},u=function(M,A){var E=M.length,g;for(g=0;g<E;g++){var S=M[g];if(S===A)return g;if(S>A)return g-1}return g},m=function(M,A,E){return M<A?A:M>E?E:M},h=function(M,A,E){var g=A.vectors,S=A.meshgrid,b=M[0],i=M[1],P=M[2],x=S[0].length,k=S[1].length,_=S[2].length,B=u(S[0],b),I=u(S[1],i),z=u(S[2],P),O=B+1,F=I+1,N=z+1;if(B=m(B,0,x-1),O=m(O,0,x-1),I=m(I,0,k-1),F=m(F,0,k-1),z=m(z,0,_-1),N=m(N,0,_-1),B<0||I<0||z<0||O>x-1||F>k-1||N>_-1)return r.create();var Q=S[0][B],$=S[0][O],j=S[1][I],ee=S[1][F],oe=S[2][z],Y=S[2][N],V=(b-Q)/($-Q),W=(i-j)/(ee-j),X=(P-oe)/(Y-oe);isFinite(V)||(V=.5),isFinite(W)||(W=.5),isFinite(X)||(X=.5);var re,ie,K,q,le,ae;switch(E.reversedX&&(B=x-1-B,O=x-1-O),E.reversedY&&(I=k-1-I,F=k-1-F),E.reversedZ&&(z=_-1-z,N=_-1-N),E.filled){case 5:le=z,ae=N,K=I*_,q=F*_,re=B*_*k,ie=O*_*k;break;case 4:le=z,ae=N,re=B*_,ie=O*_,K=I*_*x,q=F*_*x;break;case 3:K=I,q=F,le=z*k,ae=N*k,re=B*k*_,ie=O*k*_;break;case 2:K=I,q=F,re=B*k,ie=O*k,le=z*k*x,ae=N*k*x;break;case 1:re=B,ie=O,le=z*x,ae=N*x,K=I*x*_,q=F*x*_;break;default:re=B,ie=O,K=I*x,q=F*x,le=z*x*k,ae=N*x*k;break}var he=g[re+K+le],me=g[re+K+ae],Me=g[re+q+le],xe=g[re+q+ae],Ie=g[ie+K+le],_e=g[ie+K+ae],Te=g[ie+q+le],ye=g[ie+q+ae],Ae=r.create(),Be=r.create(),Ue=r.create(),De=r.create();r.lerp(Ae,he,Ie,V),r.lerp(Be,me,_e,V),r.lerp(Ue,Me,Te,V),r.lerp(De,xe,ye,V);var He=r.create(),ut=r.create();r.lerp(He,Ae,Ue,W),r.lerp(ut,Be,De,W);var et=r.create();return r.lerp(et,He,ut,X),et},T=function(M){var A=1/0;M.sort(function(b,i){return b-i});for(var E=M.length,g=1;g<E;g++){var S=Math.abs(M[g]-M[g-1]);S<A&&(A=S)}return A},f=function(M){for(var A=[],E=[],g=[],S={},b={},i={},P=M.length,x=0;x<P;x++){var k=M[x],_=k[0],B=k[1],I=k[2];S[_]||(A.push(_),S[_]=!0),b[B]||(E.push(B),b[B]=!0),i[I]||(g.push(I),i[I]=!0)}var z=T(A),O=T(E),F=T(g),N=Math.min(z,O,F);return isFinite(N)?N:1};v.exports=function(M,A){var E=M.startingPositions,g=M.maxLength||1e3,S=M.tubeSize||1,b=M.absoluteTubeSize,i=M.gridFill||"+x+y+z",P={};i.indexOf("-x")!==-1&&(P.reversedX=!0),i.indexOf("-y")!==-1&&(P.reversedY=!0),i.indexOf("-z")!==-1&&(P.reversedZ=!0),P.filled=a.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var x=M.getVelocity||function(_e){return h(_e,M,P)},k=M.getDivergence||function(_e,Te){var ye=r.create(),Ae=1e-4;r.add(ye,_e,[Ae,0,0]);var Be=x(ye);r.subtract(Be,Be,Te),r.scale(Be,Be,1/Ae),r.add(ye,_e,[0,Ae,0]);var Ue=x(ye);r.subtract(Ue,Ue,Te),r.scale(Ue,Ue,1/Ae),r.add(ye,_e,[0,0,Ae]);var De=x(ye);return r.subtract(De,De,Te),r.scale(De,De,1/Ae),r.add(ye,Be,Ue),r.add(ye,ye,De),ye},_=[],B=A[0][0],I=A[0][1],z=A[0][2],O=A[1][0],F=A[1][1],N=A[1][2],Q=function(_e){var Te=_e[0],ye=_e[1],Ae=_e[2];return!(Te<B||Te>O||ye<I||ye>F||Ae<z||Ae>N)},$=r.distance(A[0],A[1]),j=10*$/g,ee=j*j,oe=1,Y=0,V=E.length;V>1&&(oe=f(E));for(var W=0;W<V;W++){var X=r.create();r.copy(X,E[W]);var re=[X],ie=[],K=x(X),q=X;ie.push(K);var le=[],ae=k(X,K),he=r.length(ae);isFinite(he)&&he>Y&&(Y=he),le.push(he),_.push({points:re,velocities:ie,divergences:le});for(var me=0;me<g*100&&re.length<g&&Q(X);){me++;var Me=r.clone(K),xe=r.squaredLength(Me);if(xe===0)break;if(xe>ee&&r.scale(Me,Me,j/Math.sqrt(xe)),r.add(Me,Me,X),K=x(Me),r.squaredDistance(q,Me)-ee>-1e-4*ee){re.push(Me),q=Me,ie.push(K);var ae=k(Me,K),he=r.length(ae);isFinite(he)&&he>Y&&(Y=he),le.push(he)}X=Me}}var Ie=c(_,M.colormap,Y,oe);return b?Ie.tubeScale=b:(Y===0&&(Y=1),Ie.tubeScale=S*.5*oe/Y),Ie};var o=t(9578),d=t(1140).createMesh;v.exports.createTubeMesh=function(M,A){return d(M,A,{shaders:o,traceType:"streamtube"})}},9054:function(v,y,t){var r=t(5158),l=t(6832),a=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=l([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);y.createShader=function(m){var h=r(m,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},y.createPickShader=function(m){var h=r(m,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},y.createContourShader=function(m){var h=r(m,c,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},y.createPickContourShader=function(m){var h=r(m,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,y,t){v.exports=ie;var r=t(2288),l=t(5827),a=t(2944),s=t(8931),c=t(5306),u=t(9156),m=t(7498),h=t(7382),T=t(5050),f=t(4162),o=t(104),d=t(7437),M=t(5070),A=t(9144),E=t(9054),g=E.createShader,S=E.createContourShader,b=E.createPickShader,i=E.createPickContourShader,P=4*(4+3+3),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var K=0;K<3;++K){var q=_[K],le=(K+1)%3,ae=(K+2)%3;q[le+0]=1,q[ae+3]=1,q[K+6]=1}})();function B(K,q,le,ae,he){this.position=K,this.index=q,this.uv=le,this.level=ae,this.dataCoordinate=he}var I=256;function z(K,q,le,ae,he,me,Me,xe,Ie,_e,Te,ye,Ae,Be,Ue){this.gl=K,this.shape=q,this.bounds=le,this.objectOffset=Ue,this.intensityBounds=[],this._shader=ae,this._pickShader=he,this._coordinateBuffer=me,this._vao=Me,this._colorMap=xe,this._contourShader=Ie,this._contourPickShader=_e,this._contourBuffer=Te,this._contourVAO=ye,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ae,this._dynamicVAO=Be,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=z.prototype;O.genColormap=function(K,q){var le=!1,ae=h([u({colormap:K,nshades:I,format:"rgba"}).map(function(he,me){var Me=q?F(me/255,q):he[3];return Me<1&&(le=!0),[he[0],he[1],he[2],255*Me]})]);return m.divseq(ae,255),this.hasAlphaScale=le,ae},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(K){this.pickId=K};function F(K,q){if(!q||!q.length)return 1;for(var le=0;le<q.length;++le){if(q.length<2)return 1;if(q[le][0]===K)return q[le][1];if(q[le][0]>K&&le>0){var ae=(q[le][0]-K)/(q[le][0]-q[le-1][0]);return q[le][1]*(1-ae)+ae*q[le-1][1]}}return 1}var N=[0,0,0],Q={showSurface:!1,showContour:!1,projections:[x.slice(),x.slice(),x.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(K,q){var le,ae,he,me=q.axes&&q.axes.lastCubeProps.axis||N,Me=q.showSurface,xe=q.showContour;for(le=0;le<3;++le)for(Me=Me||q.surfaceProject[le],ae=0;ae<3;++ae)xe=xe||q.contourProject[le][ae];for(le=0;le<3;++le){var Ie=Q.projections[le];for(ae=0;ae<16;++ae)Ie[ae]=0;for(ae=0;ae<4;++ae)Ie[5*ae]=1;Ie[5*le]=0,Ie[12+le]=q.axesBounds[+(me[le]>0)][le],o(Ie,K.model,Ie);var _e=Q.clipBounds[le];for(he=0;he<2;++he)for(ae=0;ae<3;++ae)_e[he][ae]=K.clipBounds[he][ae];_e[0][le]=-1e8,_e[1][le]=1e8}return Q.showSurface=Me,Q.showContour=xe,Q}var j={model:x,view:x,projection:x,inverseModel:x.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ee=x.slice(),oe=[1,0,0,0,1,0,0,0,1];function Y(K,q){K=K||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ae=j;ae.model=K.model||x,ae.view=K.view||x,ae.projection=K.projection||x,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=d(ae.inverseModel,ae.model);for(var he=0;he<2;++he)for(var me=ae.clipBounds[he],Me=0;Me<3;++Me)me[Me]=Math.min(Math.max(this.clipBounds[he][Me],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=oe,ae.vertexColor=this.vertexColor;var xe=ee;for(o(xe,ae.view,ae.model),o(xe,ae.projection,xe),d(xe,xe),he=0;he<3;++he)ae.eyePosition[he]=xe[12+he]/xe[15];var Ie=xe[15];for(he=0;he<3;++he)Ie+=this.lightPosition[he]*xe[4*he+3];for(he=0;he<3;++he){var _e=xe[12+he];for(Me=0;Me<3;++Me)_e+=xe[4*Me+he]*this.lightPosition[Me];ae.lightPosition[he]=_e/Ie}var Te=$(ae,this);if(Te.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Te.projections[he],this._shader.uniforms.clipBounds=Te.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Te.showContour){var ye=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,ye.bind(),ye.uniforms=ae;var Ae=this._contourVAO;for(Ae.bind(),he=0;he<3;++he)for(ye.uniforms.permutation=_[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Me=0;Me<this.contourLevels[he].length;++Me)Me===this.highlightLevel[he]?(ye.uniforms.contourColor=this.highlightColor[he],ye.uniforms.contourTint=this.highlightTint[he]):(Me===0||Me-1===this.highlightLevel[he])&&(ye.uniforms.contourColor=this.contourColor[he],ye.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Me]&&(ye.uniforms.height=this.contourLevels[he][Me],Ae.draw(le.LINES,this._contourCounts[he][Me],this._contourOffsets[he][Me]));for(he=0;he<3;++he)for(ye.uniforms.model=Te.projections[he],ye.uniforms.clipBounds=Te.clipBounds[he],Me=0;Me<3;++Me)if(this.contourProject[he][Me]){ye.uniforms.permutation=_[Me],le.lineWidth(this.contourWidth[Me]*this.pixelRatio);for(var Be=0;Be<this.contourLevels[Me].length;++Be)Be===this.highlightLevel[Me]?(ye.uniforms.contourColor=this.highlightColor[Me],ye.uniforms.contourTint=this.highlightTint[Me]):(Be===0||Be-1===this.highlightLevel[Me])&&(ye.uniforms.contourColor=this.contourColor[Me],ye.uniforms.contourTint=this.contourTint[Me]),this._contourCounts[Me][Be]&&(ye.uniforms.height=this.contourLevels[Me][Be],Ae.draw(le.LINES,this._contourCounts[Me][Be],this._contourOffsets[Me][Be]))}for(Ae.unbind(),Ae=this._dynamicVAO,Ae.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(ye.uniforms.model=ae.model,ye.uniforms.clipBounds=ae.clipBounds,ye.uniforms.permutation=_[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),ye.uniforms.contourColor=this.dynamicColor[he],ye.uniforms.contourTint=this.dynamicTint[he],ye.uniforms.height=this.dynamicLevel[he],Ae.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Me=0;Me<3;++Me)this.contourProject[Me][he]&&(ye.uniforms.model=Te.projections[Me],ye.uniforms.clipBounds=Te.clipBounds[Me],Ae.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Ae.unbind()}}O.draw=function(K){return Y.call(this,K,!1)},O.drawTransparent=function(K){return Y.call(this,K,!0)};var V={model:x,view:x,projection:x,inverseModel:x,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function(K){K=K||{};var q=this.gl;q.disable(q.CULL_FACE);var le=V;le.model=K.model||x,le.view=K.view||x,le.projection=K.projection||x,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=oe;for(var ae=0;ae<2;++ae)for(var he=le.clipBounds[ae],me=0;me<3;++me)he[me]=Math.min(Math.max(this.clipBounds[ae][me],-1e8),1e8);var Me=$(le,this);if(Me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(q.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Me.projections[ae],this._pickShader.uniforms.clipBounds=Me.clipBounds[ae],this._vao.draw(q.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=le;var Ie=this._contourVAO;for(Ie.bind(),me=0;me<3;++me)for(q.lineWidth(this.contourWidth[me]*this.pixelRatio),xe.uniforms.permutation=_[me],ae=0;ae<this.contourLevels[me].length;++ae)this._contourCounts[me][ae]&&(xe.uniforms.height=this.contourLevels[me][ae],Ie.draw(q.LINES,this._contourCounts[me][ae],this._contourOffsets[me][ae]));for(ae=0;ae<3;++ae)for(xe.uniforms.model=Me.projections[ae],xe.uniforms.clipBounds=Me.clipBounds[ae],me=0;me<3;++me)if(this.contourProject[ae][me]){xe.uniforms.permutation=_[me],q.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var _e=0;_e<this.contourLevels[me].length;++_e)this._contourCounts[me][_e]&&(xe.uniforms.height=this.contourLevels[me][_e],Ie.draw(q.LINES,this._contourCounts[me][_e],this._contourOffsets[me][_e]))}Ie.unbind()}},O.pick=function(K){if(!K||K.id!==this.pickId)return null;var q=this._field[2].shape,le=this._pickResult,ae=q[0]*(K.value[0]+(K.value[2]>>4)/16)/255,he=Math.floor(ae),me=ae-he,Me=q[1]*(K.value[1]+(K.value[2]&15)/16)/255,xe=Math.floor(Me),Ie=Me-xe;he+=1,xe+=1;var _e=le.position;_e[0]=_e[1]=_e[2]=0;for(var Te=0;Te<2;++Te)for(var ye=Te?me:1-me,Ae=0;Ae<2;++Ae)for(var Be=Ae?Ie:1-Ie,Ue=he+Te,De=xe+Ae,He=ye*Be,ut=0;ut<3;++ut)_e[ut]+=this._field[ut].get(Ue,De)*He;for(var et=this._pickResult.level,Qe=0;Qe<3;++Qe)if(et[Qe]=M.le(this.contourLevels[Qe],_e[Qe]),et[Qe]<0)this.contourLevels[Qe].length>0&&(et[Qe]=0);else if(et[Qe]<this.contourLevels[Qe].length-1){var qe=this.contourLevels[Qe][et[Qe]],ft=this.contourLevels[Qe][et[Qe]+1];Math.abs(qe-_e[Qe])>Math.abs(ft-_e[Qe])&&(et[Qe]+=1)}for(le.index[0]=me<.5?he:he+1,le.index[1]=Ie<.5?xe:xe+1,le.uv[0]=ae/q[0],le.uv[1]=Me/q[1],ut=0;ut<3;++ut)le.dataCoordinate[ut]=this._field[ut].get(le.index[0],le.index[1]);return le},O.padField=function(K,q){var le=q.shape.slice(),ae=K.shape.slice();m.assign(K.lo(1,1).hi(le[0],le[1]),q),m.assign(K.lo(1).hi(le[0],1),q.hi(le[0],1)),m.assign(K.lo(1,ae[1]-1).hi(le[0],1),q.lo(0,le[1]-1).hi(le[0],1)),m.assign(K.lo(0,1).hi(1,le[1]),q.hi(1)),m.assign(K.lo(ae[0]-1,1).hi(1,le[1]),q.lo(le[0]-1)),K.set(0,0,q.get(0,0)),K.set(0,ae[1]-1,q.get(0,le[1]-1)),K.set(ae[0]-1,0,q.get(le[0]-1,0)),K.set(ae[0]-1,ae[1]-1,q.get(le[0]-1,le[1]-1))};function W(K,q){return Array.isArray(K)?[q(K[0]),q(K[1]),q(K[2])]:[q(K),q(K),q(K)]}function X(K){return Array.isArray(K)?K.length===3?[K[0],K[1],K[2],1]:[K[0],K[1],K[2],K[3]]:[0,0,0,1]}function re(K){if(Array.isArray(K)){if(Array.isArray(K))return[X(K[0]),X(K[1]),X(K[2])];var q=X(K);return[q.slice(),q.slice(),q.slice()]}}O.update=function(K){K=K||{},this.objectOffset=K.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in K&&(this.contourWidth=W(K.contourWidth,Number)),"showContour"in K&&(this.showContour=W(K.showContour,Boolean)),"showSurface"in K&&(this.showSurface=!!K.showSurface),"contourTint"in K&&(this.contourTint=W(K.contourTint,Boolean)),"contourColor"in K&&(this.contourColor=re(K.contourColor)),"contourProject"in K&&(this.contourProject=W(K.contourProject,function(kt){return W(kt,Boolean)})),"surfaceProject"in K&&(this.surfaceProject=K.surfaceProject),"dynamicColor"in K&&(this.dynamicColor=re(K.dynamicColor)),"dynamicTint"in K&&(this.dynamicTint=W(K.dynamicTint,Number)),"dynamicWidth"in K&&(this.dynamicWidth=W(K.dynamicWidth,Number)),"opacity"in K&&(this.opacity=K.opacity),"opacityscale"in K&&(this.opacityscale=K.opacityscale),"colorBounds"in K&&(this.colorBounds=K.colorBounds),"vertexColor"in K&&(this.vertexColor=K.vertexColor?1:0),"colormap"in K&&this._colorMap.setPixels(this.genColormap(K.colormap,this.opacityscale));var q=K.field||K.coords&&K.coords[2]||null,le=!1;if(q||(this._field[2].shape[0]||this._field[2].shape[2]?q=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):q=this._field[2].hi(0,0)),"field"in K||"coords"in K){var ae=(q.shape[0]+2)*(q.shape[1]+2);ae>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(ae))),this._field[2]=T(this._field[2].data,[q.shape[0]+2,q.shape[1]+2]),this.padField(this._field[2],q),this.shape=q.shape.slice();for(var he=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(c.freeFloat(this._field[me].data),this._field[me].data=c.mallocFloat(this._field[2].size)),this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2]);if(K.coords){var Me=K.coords;if(!Array.isArray(Me)||Me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var xe=Me[me];for(Ae=0;Ae<2;++Ae)if(xe.shape[Ae]!==he[Ae])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],xe)}}else if(K.ticks){var Ie=K.ticks;if(!Array.isArray(Ie)||Ie.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var _e=Ie[me];if((Array.isArray(_e)||_e.length)&&(_e=T(_e)),_e.shape[0]!==he[me])throw new Error("gl-surface: invalid tick length");var Te=T(_e.data,he);Te.stride[me]=_e.stride[0],Te.stride[me^1]=0,this.padField(this._field[me],Te)}}else{for(me=0;me<2;++me){var ye=[0,0];ye[me]=1,this._field[me]=T(this._field[me].data,[he[0]+2,he[1]+2],ye,0)}this._field[0].set(0,0,0);for(var Ae=0;Ae<he[0];++Ae)this._field[0].set(Ae+1,0,Ae);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Ae=0;Ae<he[1];++Ae)this._field[1].set(0,Ae+1,Ae);this._field[1].set(0,he[1]+1,he[1]-1)}var Be=this._field,Ue=T(c.mallocFloat(Be[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(me=0;me<3;++me)A(Ue.pick(me),Be[me],"mirror");var De=T(c.mallocFloat(Be[2].size*3),[he[0]+2,he[1]+2,3]);for(me=0;me<he[0]+2;++me)for(Ae=0;Ae<he[1]+2;++Ae){var He=Ue.get(0,me,Ae,0),ut=Ue.get(0,me,Ae,1),et=Ue.get(1,me,Ae,0),Qe=Ue.get(1,me,Ae,1),qe=Ue.get(2,me,Ae,0),ft=Ue.get(2,me,Ae,1),gt=et*ft-Qe*qe,xt=qe*ut-ft*He,Ct=He*Qe-ut*et,Je=Math.sqrt(gt*gt+xt*xt+Ct*Ct);Je<1e-8?(Je=Math.max(Math.abs(gt),Math.abs(xt),Math.abs(Ct)),Je<1e-8?(Ct=1,xt=gt=0,Je=1):Je=1/Je):Je=1/Math.sqrt(Je),De.set(me,Ae,0,gt*Je),De.set(me,Ae,1,xt*Je),De.set(me,Ae,2,Ct*Je)}c.free(Ue.data);var ze=[1/0,1/0,1/0],Fe=[-1/0,-1/0,-1/0],$e=1/0,at=-1/0,Xe=(he[0]-1)*(he[1]-1)*6,Pe=c.mallocFloat(r.nextPow2(10*Xe)),we=0,ue=0;for(me=0;me<he[0]-1;++me)e:for(Ae=0;Ae<he[1]-1;++Ae){for(var ge=0;ge<2;++ge)for(var Le=0;Le<2;++Le)for(var ke=0;ke<3;++ke){var it=this._field[ke].get(1+me+ge,1+Ae+Le);if(isNaN(it)||!isFinite(it))continue e}for(ke=0;ke<6;++ke){var lt=me+k[ke][0],bt=Ae+k[ke][1],Rt=this._field[0].get(lt+1,bt+1),Ut=this._field[1].get(lt+1,bt+1);it=this._field[2].get(lt+1,bt+1),gt=De.get(lt+1,bt+1,0),xt=De.get(lt+1,bt+1,1),Ct=De.get(lt+1,bt+1,2),K.intensity&&(Gt=K.intensity.get(lt,bt));var Gt=K.intensity?K.intensity.get(lt,bt):it+this.objectOffset[2];Pe[we++]=lt,Pe[we++]=bt,Pe[we++]=Rt,Pe[we++]=Ut,Pe[we++]=it,Pe[we++]=0,Pe[we++]=Gt,Pe[we++]=gt,Pe[we++]=xt,Pe[we++]=Ct,ze[0]=Math.min(ze[0],Rt+this.objectOffset[0]),ze[1]=Math.min(ze[1],Ut+this.objectOffset[1]),ze[2]=Math.min(ze[2],it+this.objectOffset[2]),$e=Math.min($e,Gt),Fe[0]=Math.max(Fe[0],Rt+this.objectOffset[0]),Fe[1]=Math.max(Fe[1],Ut+this.objectOffset[1]),Fe[2]=Math.max(Fe[2],it+this.objectOffset[2]),at=Math.max(at,Gt),ue+=1}}for(K.intensityBounds&&($e=+K.intensityBounds[0],at=+K.intensityBounds[1]),me=6;me<we;me+=10)Pe[me]=(Pe[me]-$e)/(at-$e);this._vertexCount=ue,this._coordinateBuffer.update(Pe.subarray(0,we)),c.freeFloat(Pe),c.free(De.data),this.bounds=[ze,Fe],this.intensity=K.intensity||this._field[2],(this.intensityBounds[0]!==$e||this.intensityBounds[1]!==at)&&(le=!0),this.intensityBounds=[$e,at]}if("levels"in K){var _t=K.levels;for(Array.isArray(_t[0])?_t=_t.slice():_t=[[],[],_t],me=0;me<3;++me)_t[me]=_t[me].slice(),_t[me].sort(function(kt,Zt){return kt-Zt});for(me=0;me<3;++me)for(Ae=0;Ae<_t[me].length;++Ae)_t[me][Ae]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(_t[me].length!==this.contourLevels[me].length){le=!0;break}for(Ae=0;Ae<_t[me].length;++Ae)if(_t[me][Ae]!==this.contourLevels[me][Ae]){le=!0;break e}}this.contourLevels=_t}if(le){Be=this._field,he=this.shape;for(var nr=[],lr=0;lr<3;++lr){var zr=this.contourLevels[lr],mt=[],jt=[],Yt=[0,0,0];for(me=0;me<zr.length;++me){var wr=f(this._field[lr],zr[me]);mt.push(nr.length/5|0),ue=0;e:for(Ae=0;Ae<wr.cells.length;++Ae){var dr=wr.cells[Ae];for(ke=0;ke<2;++ke){var ct=wr.positions[dr[ke]],ot=ct[0],wt=Math.floor(ot)|0,Mt=ot-wt,Dt=ct[1],St=Math.floor(Dt)|0,Ot=Dt-St,Vt=!1;t:for(var Qt=0;Qt<3;++Qt){Yt[Qt]=0;var Kt=(lr+Qt+1)%3;for(ge=0;ge<2;++ge){var or=ge?Mt:1-Mt;for(lt=Math.min(Math.max(wt+ge,0),he[0])|0,Le=0;Le<2;++Le){var Mr=Le?Ot:1-Ot;if(bt=Math.min(Math.max(St+Le,0),he[1])|0,Qt<2?it=this._field[Kt].get(lt,bt):it=(this.intensity.get(lt,bt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(it)||isNaN(it)){Vt=!0;break t}var Ve=or*Mr;Yt[Qt]+=Ve*it}}}if(!Vt)nr.push(Yt[0],Yt[1],ct[0],ct[1],Yt[2]),ue+=1;else{if(ke>0){for(var Ge=0;Ge<5;++Ge)nr.pop();ue-=1}continue e}}}jt.push(ue)}this._contourOffsets[lr]=mt,this._contourCounts[lr]=jt}var Ft=c.mallocFloat(nr.length);for(me=0;me<nr.length;++me)Ft[me]=nr[me];this._contourBuffer.update(Ft),c.freeFloat(Ft)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var K=0;K<3;++K)c.freeFloat(this._field[K].data)},O.highlight=function(K){var q;if(!K){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(q=0;q<3;++q)this.enableHighlight[q]?this.highlightLevel[q]=K.level[q]:this.highlightLevel[q]=-1;var le;for(this.snapToData?le=K.dataCoordinate:le=K.position,q=0;q<3;++q)le[q]-=this.objectOffset[q];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ae=0,he=this.shape,me=c.mallocFloat(12*he[0]*he[1]),Me=0;Me<3;++Me){if(!this.enableDynamic[Me]){this.dynamicLevel[Me]=NaN,this._dynamicCounts[Me]=0;continue}this.dynamicLevel[Me]=le[Me];var xe=(Me+1)%3,Ie=(Me+2)%3,_e=this._field[Me],Te=this._field[xe],ye=this._field[Ie],Ae=f(_e,le[Me]),Be=Ae.cells,Ue=Ae.positions;for(this._dynamicOffsets[Me]=ae,q=0;q<Be.length;++q)for(var De=Be[q],He=0;He<2;++He){var ut=Ue[De[He]],et=+ut[0],Qe=et|0,qe=Math.min(Qe+1,he[0])|0,ft=et-Qe,gt=1-ft,xt=+ut[1],Ct=xt|0,Je=Math.min(Ct+1,he[1])|0,ze=xt-Ct,Fe=1-ze,$e=gt*Fe,at=gt*ze,Xe=ft*Fe,Pe=ft*ze,we=$e*Te.get(Qe,Ct)+at*Te.get(Qe,Je)+Xe*Te.get(qe,Ct)+Pe*Te.get(qe,Je),ue=$e*ye.get(Qe,Ct)+at*ye.get(Qe,Je)+Xe*ye.get(qe,Ct)+Pe*ye.get(qe,Je);if(isNaN(we)||isNaN(ue)){He&&(ae-=1);break}me[2*ae+0]=we,me[2*ae+1]=ue,ae+=1}this._dynamicCounts[Me]=ae-this._dynamicOffsets[Me]}this._dynamicBuffer.update(me.subarray(0,2*ae)),c.freeFloat(me)}};function ie(K){var q=K.gl,le=g(q),ae=b(q),he=S(q),me=i(q),Me=l(q),xe=a(q,[{buffer:Me,size:4,stride:P,offset:0},{buffer:Me,size:3,stride:P,offset:16},{buffer:Me,size:3,stride:P,offset:28}]),Ie=l(q),_e=a(q,[{buffer:Ie,size:4,stride:20,offset:0},{buffer:Ie,size:1,stride:20,offset:16}]),Te=l(q),ye=a(q,[{buffer:Te,size:2,type:q.FLOAT}]),Ae=s(q,1,I,q.RGBA,q.UNSIGNED_BYTE);Ae.minFilter=q.LINEAR,Ae.magFilter=q.LINEAR;var Be=new z(q,[0,0],[[0,0,0],[0,0,0]],le,ae,Me,xe,Ae,he,me,Ie,_e,Te,ye,[0,0,0]),Ue={levels:[[],[],[]]};for(var De in K)Ue[De]=K[De];return Ue.colormap=Ue.colormap||"jet",Be.update(Ue),Be}},8931:function(v,y,t){var r=t(5050),l=t(7498),a=t(5306);v.exports=i;var s=null,c=null,u=null;function m(P){s=[P.LINEAR,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_NEAREST],c=[P.NEAREST,P.LINEAR,P.NEAREST_MIPMAP_NEAREST,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_LINEAR],u=[P.REPEAT,P.CLAMP_TO_EDGE,P.MIRRORED_REPEAT]}function h(P){return typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&P instanceof HTMLVideoElement||typeof ImageData<"u"&&P instanceof ImageData}var T=function(P,x){l.muls(P,x,255)};function f(P,x,k){var _=P.gl,B=_.getParameter(_.MAX_TEXTURE_SIZE);if(x<0||x>B||k<0||k>B)throw new Error("gl-texture2d: Invalid texture size");return P._shape=[x,k],P.bind(),_.texImage2D(_.TEXTURE_2D,0,P.format,x,k,0,P.format,P.type,null),P._mipLevels=[0],P}function o(P,x,k,_,B,I){this.gl=P,this.handle=x,this.format=B,this.type=I,this._shape=[k,_],this._mipLevels=[0],this._magFilter=P.NEAREST,this._minFilter=P.NEAREST,this._wrapS=P.CLAMP_TO_EDGE,this._wrapT=P.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return z._wrapS},set:function(N){return z.wrapS=N}},{get:function(){return z._wrapT},set:function(N){return z.wrapT=N}}]),this._wrapVector=O;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return z._shape[0]},set:function(N){return z.width=N}},{get:function(){return z._shape[1]},set:function(N){return z.height=N}}]),this._shapeVector=F}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&s.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),c.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,P),this._minFilter=P}},magFilter:{get:function(){return this._magFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&s.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),c.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,P),this._magFilter=P}},mipSamples:{get:function(){return this._anisoSamples},set:function(P){var x=this._anisoSamples;if(this._anisoSamples=Math.max(P,1)|0,x!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(P){if(this.bind(),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,P),this._wrapS=P}},wrapT:{get:function(){return this._wrapT},set:function(P){if(this.bind(),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,P),this._wrapT=P}},wrap:{get:function(){return this._wrapVector},set:function(P){if(Array.isArray(P)||(P=[P,P]),P.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var x=0;x<2;++x)if(u.indexOf(P[x])<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);this._wrapS=P[0],this._wrapT=P[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),P}},shape:{get:function(){return this._shapeVector},set:function(P){if(!Array.isArray(P))P=[P|0,P|0];else if(P.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return f(this,P[0]|0,P[1]|0),[P[0]|0,P[1]|0]}},width:{get:function(){return this._shape[0]},set:function(P){return P=P|0,f(this,P,this._shape[1]),P}},height:{get:function(){return this._shape[1]},set:function(P){return P=P|0,f(this,this._shape[0],P),P}}}),d.bind=function(P){var x=this.gl;return P!==void 0&&x.activeTexture(x.TEXTURE0+(P|0)),x.bindTexture(x.TEXTURE_2D,this.handle),P!==void 0?P|0:x.getParameter(x.ACTIVE_TEXTURE)-x.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var P=Math.min(this._shape[0],this._shape[1]),x=0;P>0;++x,P>>>=1)this._mipLevels.indexOf(x)<0&&this._mipLevels.push(x)},d.setPixels=function(P,x,k,_){var B=this.gl;this.bind(),Array.isArray(x)?(_=k,k=x[1]|0,x=x[0]|0):(x=x||0,k=k||0),_=_||0;var I=h(P)?P:P.raw;if(I){var z=this._mipLevels.indexOf(_)<0;z?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,I),this._mipLevels.push(_)):B.texSubImage2D(B.TEXTURE_2D,_,x,k,this.format,this.type,I)}else if(P.shape&&P.stride&&P.data){if(P.shape.length<2||x+P.shape[1]>this._shape[1]>>>_||k+P.shape[0]>this._shape[0]>>>_||x<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(B,x,k,_,this.format,this.type,this._mipLevels,P)}else throw new Error("gl-texture2d: Unsupported data type")};function M(P,x){return P.length===3?x[2]===1&&x[1]===P[0]*P[2]&&x[0]===P[2]:x[0]===1&&x[1]===P[0]}function A(P,x,k,_,B,I,z,O){var F=O.dtype,N=O.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Q=0,$=0,j=M(N,O.stride.slice());if(F==="float32"?Q=P.FLOAT:F==="float64"?(Q=P.FLOAT,j=!1,F="float32"):F==="uint8"?Q=P.UNSIGNED_BYTE:(Q=P.UNSIGNED_BYTE,j=!1,F="uint8"),N.length===2)$=P.LUMINANCE,N=[N[0],N[1],1],O=r(O.data,N,[O.stride[0],O.stride[1],1],O.offset);else if(N.length===3){if(N[2]===1)$=P.ALPHA;else if(N[2]===2)$=P.LUMINANCE_ALPHA;else if(N[2]===3)$=P.RGB;else if(N[2]===4)$=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");N[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if(($===P.LUMINANCE||$===P.ALPHA)&&(B===P.LUMINANCE||B===P.ALPHA)&&($=B),$!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ee=O.size,oe=z.indexOf(_)<0;if(oe&&z.push(_),Q===I&&j)O.offset===0&&O.data.length===ee?oe?P.texImage2D(P.TEXTURE_2D,_,B,N[0],N[1],0,B,I,O.data):P.texSubImage2D(P.TEXTURE_2D,_,x,k,N[0],N[1],B,I,O.data):oe?P.texImage2D(P.TEXTURE_2D,_,B,N[0],N[1],0,B,I,O.data.subarray(O.offset,O.offset+ee)):P.texSubImage2D(P.TEXTURE_2D,_,x,k,N[0],N[1],B,I,O.data.subarray(O.offset,O.offset+ee));else{var Y;I===P.FLOAT?Y=a.mallocFloat32(ee):Y=a.mallocUint8(ee);var V=r(Y,N,[N[2],N[2]*N[0],1]);Q===P.FLOAT&&I===P.UNSIGNED_BYTE?T(V,O):l.assign(V,O),oe?P.texImage2D(P.TEXTURE_2D,_,B,N[0],N[1],0,B,I,Y.subarray(0,ee)):P.texSubImage2D(P.TEXTURE_2D,_,x,k,N[0],N[1],B,I,Y.subarray(0,ee)),I===P.FLOAT?a.freeFloat32(Y):a.freeUint8(Y)}}function E(P){var x=P.createTexture();return P.bindTexture(P.TEXTURE_2D,x),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),x}function g(P,x,k,_,B){var I=P.getParameter(P.MAX_TEXTURE_SIZE);if(x<0||x>I||k<0||k>I)throw new Error("gl-texture2d: Invalid texture shape");if(B===P.FLOAT&&!P.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=E(P);return P.texImage2D(P.TEXTURE_2D,0,_,x,k,0,_,B,null),new o(P,z,x,k,_,B)}function S(P,x,k,_,B,I){var z=E(P);return P.texImage2D(P.TEXTURE_2D,0,B,B,I,x),new o(P,z,k,_,B,I)}function b(P,x){var k=x.dtype,_=x.shape.slice(),B=P.getParameter(P.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>B||_[1]<0||_[1]>B)throw new Error("gl-texture2d: Invalid texture size");var I=M(_,x.stride.slice()),z=0;k==="float32"?z=P.FLOAT:k==="float64"?(z=P.FLOAT,I=!1,k="float32"):k==="uint8"?z=P.UNSIGNED_BYTE:(z=P.UNSIGNED_BYTE,I=!1,k="uint8");var O=0;if(_.length===2)O=P.LUMINANCE,_=[_[0],_[1],1],x=r(x.data,_,[x.stride[0],x.stride[1],1],x.offset);else if(_.length===3)if(_[2]===1)O=P.ALPHA;else if(_[2]===2)O=P.LUMINANCE_ALPHA;else if(_[2]===3)O=P.RGB;else if(_[2]===4)O=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");z===P.FLOAT&&!P.getExtension("OES_texture_float")&&(z=P.UNSIGNED_BYTE,I=!1);var F,N,Q=x.size;if(I)x.offset===0&&x.data.length===Q?F=x.data:F=x.data.subarray(x.offset,x.offset+Q);else{var $=[_[2],_[2]*_[0],1];N=a.malloc(Q,k);var j=r(N,_,$,0);(k==="float32"||k==="float64")&&z===P.UNSIGNED_BYTE?T(j,x):l.assign(j,x),F=N.subarray(0,Q)}var ee=E(P);return P.texImage2D(P.TEXTURE_2D,0,O,_[0],_[1],0,O,z,F),I||a.free(N),new o(P,ee,_[0],_[1],O,z)}function i(P){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||m(P),typeof arguments[1]=="number")return g(P,arguments[1],arguments[2],arguments[3]||P.RGBA,arguments[4]||P.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(P,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var x=arguments[1],k=h(x)?x:x.raw;if(k)return S(P,k,x.width|0,x.height|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(x.shape&&x.data&&x.stride)return b(P,x)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function y(t,r,l){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var a=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(l){if(l.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<l.length;++s){var c=l[s];if(c.buffer){var u=c.buffer,m=c.size||4,h=c.type||t.FLOAT,T=!!c.normalized,f=c.stride||0,o=c.offset||0;u.bind(),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,m,h,T,f,o)}else{if(typeof c=="number")t.vertexAttrib1f(s,c);else if(c.length===1)t.vertexAttrib1f(s,c[0]);else if(c.length===2)t.vertexAttrib2f(s,c[0],c[1]);else if(c.length===3)t.vertexAttrib3f(s,c[0],c[1],c[2]);else if(c.length===4)t.vertexAttrib4f(s,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(s)}}for(;s<a;++s)t.disableVertexAttribArray(s)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var s=0;s<a;++s)t.disableVertexAttribArray(s)}}v.exports=y},7220:function(v,y,t){var r=t(3056);function l(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}l.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},l.prototype.update=function(s,c,u){this._elements=c,this._attributes=s,this._elementsType=u||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(s,c,u){u=u||0;var m=this.gl;this._elements?m.drawElements(s,c,this._elementsType,u):m.drawArrays(s,u,c)};function a(s){return new l(s)}v.exports=a},3778:function(v,y,t){var r=t(3056);function l(c,u,m,h,T,f){this.location=c,this.dimension=u,this.a=m,this.b=h,this.c=T,this.d=f}l.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(c,u,m){this.gl=c,this._ext=u,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(c,u,m){if(this.bind(),r(this.gl,u,c),this.unbind(),this._attribs.length=0,c)for(var h=0;h<c.length;++h){var T=c[h];typeof T=="number"?this._attribs.push(new l(h,1,T)):Array.isArray(T)&&this._attribs.push(new l(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!u,this._elementsType=m||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(c,u,m){m=m||0;var h=this.gl;this._useElements?h.drawElements(c,u,this._elementsType,m):h.drawArrays(c,m,u)};function s(c,u){return new a(c,u,u.createVertexArrayOES())}v.exports=s},2944:function(v,y,t){var r=t(3778),l=t(7220);function a(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function s(c,u,m,h){var T=c.createVertexArray?new a(c):c.getExtension("OES_vertex_array_object"),f;return T?f=r(c,T):f=l(c),f.update(u,m,h),f}v.exports=s},2598:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t}},5879:function(v,y,t){v.exports=s;var r=t(5415),l=t(899),a=t(9305);function s(c,u){var m=r(c[0],c[1],c[2]),h=r(u[0],u[1],u[2]);l(m,m),l(h,h);var T=a(m,h);return T>1?0:Math.acos(T)}},8827:function(v){v.exports=y;function y(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=y;function y(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=y;function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=y;function y(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],m=l[1],h=l[2];return t[0]=s*h-c*m,t[1]=c*u-a*h,t[2]=a*m-s*u,t}},5981:function(v,y,t){v.exports=t(8288)},8288:function(v){v.exports=y;function y(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(l*l+a*a+s*s)}},8629:function(v,y,t){v.exports=t(7979)},7979:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t}},9305:function(v){v.exports=y;function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,y,t){v.exports=l;var r=t(154);function l(a,s){var c=a[0],u=a[1],m=a[2],h=s[0],T=s[1],f=s[2];return Math.abs(c-h)<=r*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(u-T)<=r*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(m-f)<=r*Math.max(1,Math.abs(m),Math.abs(f))}},5777:function(v){v.exports=y;function y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=y;function y(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,y,t){v.exports=l;var r=t(8501)();function l(a,s,c,u,m,h){var T,f;for(s||(s=3),c||(c=0),u?f=Math.min(u*s+c,a.length):f=a.length,T=c;T<f;T+=s)r[0]=a[T],r[1]=a[T+1],r[2]=a[T+2],m(r,r,h),a[T]=r[0],a[T+1]=r[1],a[T+2]=r[2];return a}},5415:function(v){v.exports=y;function y(t,r,l){var a=new Float32Array(3);return a[0]=t,a[1]=r,a[2]=l,a}},2858:function(v,y,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=y;function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,y,t){v.exports=t(4693)},4693:function(v){v.exports=y;function y(t){var r=t[0],l=t[1],a=t[2];return Math.sqrt(r*r+l*l+a*a)}},1868:function(v){v.exports=y;function y(t,r,l,a){var s=r[0],c=r[1],u=r[2];return t[0]=s+a*(l[0]-s),t[1]=c+a*(l[1]-c),t[2]=u+a*(l[2]-u),t}},1716:function(v){v.exports=y;function y(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t}},3605:function(v){v.exports=y;function y(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t}},5733:function(v,y,t){v.exports=t(105)},105:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t}},435:function(v){v.exports=y;function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=y;function y(t,r){var l=r[0],a=r[1],s=r[2],c=l*l+a*a+s*s;return c>0&&(c=1/Math.sqrt(c),t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c),t}},6660:function(v){v.exports=y;function y(t,r){r=r||1;var l=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*r;return t[0]=Math.cos(l)*s,t[1]=Math.sin(l)*s,t[2]=a*r,t}},392:function(v){v.exports=y;function y(t,r,l,a){var s=l[1],c=l[2],u=r[1]-s,m=r[2]-c,h=Math.sin(a),T=Math.cos(a);return t[0]=r[0],t[1]=s+u*T-m*h,t[2]=c+u*h+m*T,t}},3222:function(v){v.exports=y;function y(t,r,l,a){var s=l[0],c=l[2],u=r[0]-s,m=r[2]-c,h=Math.sin(a),T=Math.cos(a);return t[0]=s+m*h+u*T,t[1]=r[1],t[2]=c+m*T-u*h,t}},3388:function(v){v.exports=y;function y(t,r,l,a){var s=l[0],c=l[1],u=r[0]-s,m=r[1]-c,h=Math.sin(a),T=Math.cos(a);return t[0]=s+u*T-m*h,t[1]=c+u*h+m*T,t[2]=r[2],t}},1624:function(v){v.exports=y;function y(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t}},6722:function(v){v.exports=y;function y(t,r,l,a){return t[0]=r[0]+l[0]*a,t[1]=r[1]+l[1]*a,t[2]=r[2]+l[2]*a,t}},831:function(v){v.exports=y;function y(t,r,l,a){return t[0]=r,t[1]=l,t[2]=a,t}},5294:function(v,y,t){v.exports=t(6403)},3303:function(v,y,t){v.exports=t(4337)},6403:function(v){v.exports=y;function y(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2];return l*l+a*a+s*s}},4337:function(v){v.exports=y;function y(t){var r=t[0],l=t[1],a=t[2];return r*r+l*l+a*a}},8921:function(v,y,t){v.exports=t(911)},911:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t}},9908:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2];return t[0]=a*l[0]+s*l[3]+c*l[6],t[1]=a*l[1]+s*l[4]+c*l[7],t[2]=a*l[2]+s*l[5]+c*l[8],t}},3255:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[3]*a+l[7]*s+l[11]*c+l[15];return u=u||1,t[0]=(l[0]*a+l[4]*s+l[8]*c+l[12])/u,t[1]=(l[1]*a+l[5]*s+l[9]*c+l[13])/u,t[2]=(l[2]*a+l[6]*s+l[10]*c+l[14])/u,t}},6568:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],m=l[1],h=l[2],T=l[3],f=T*a+m*c-h*s,o=T*s+h*a-u*c,d=T*c+u*s-m*a,M=-u*a-m*s-h*c;return t[0]=f*T+M*-u+o*-h-d*-m,t[1]=o*T+M*-m+d*-u-f*-h,t[2]=d*T+M*-h+f*-m-o*-u,t}},3433:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t[3]=r[3]+l[3],t}},1413:function(v){v.exports=y;function y(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=y;function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=y;function y(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=y;function y(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return Math.sqrt(l*l+a*a+s*s+c*c)}},205:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t[3]=r[3]/l[3],t}},4242:function(v){v.exports=y;function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=y;function y(t,r,l,a){var s=new Float32Array(4);return s[0]=t,s[1]=r,s[2]=l,s[3]=a,s}},4020:function(v,y,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=y;function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=y;function y(t){var r=t[0],l=t[1],a=t[2],s=t[3];return Math.sqrt(r*r+l*l+a*a+s*s)}},8746:function(v){v.exports=y;function y(t,r,l,a){var s=r[0],c=r[1],u=r[2],m=r[3];return t[0]=s+a*(l[0]-s),t[1]=c+a*(l[1]-c),t[2]=u+a*(l[2]-u),t[3]=m+a*(l[3]-m),t}},3030:function(v){v.exports=y;function y(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t[3]=Math.max(r[3],l[3]),t}},2170:function(v){v.exports=y;function y(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t[3]=Math.min(r[3],l[3]),t}},746:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t[3]=r[3]*l[3],t}},6459:function(v){v.exports=y;function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=y;function y(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=l*l+a*a+s*s+c*c;return u>0&&(u=1/Math.sqrt(u),t[0]=l*u,t[1]=a*u,t[2]=s*u,t[3]=c*u),t}},3770:function(v,y,t){var r=t(381),l=t(5510);v.exports=a;function a(s,c){return c=c||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),r(s,s),l(s,s,c),s}},5510:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t[3]=r[3]*l,t}},4224:function(v){v.exports=y;function y(t,r,l,a){return t[0]=r[0]+l[0]*a,t[1]=r[1]+l[1]*a,t[2]=r[2]+l[2]*a,t[3]=r[3]+l[3]*a,t}},6453:function(v){v.exports=y;function y(t,r,l,a,s){return t[0]=r,t[1]=l,t[2]=a,t[3]=s,t}},1542:function(v){v.exports=y;function y(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return l*l+a*a+s*s+c*c}},9037:function(v){v.exports=y;function y(t){var r=t[0],l=t[1],a=t[2],s=t[3];return r*r+l*l+a*a+s*s}},2705:function(v){v.exports=y;function y(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t[3]=r[3]-l[3],t}},6342:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3];return t[0]=l[0]*a+l[4]*s+l[8]*c+l[12]*u,t[1]=l[1]*a+l[5]*s+l[9]*c+l[13]*u,t[2]=l[2]*a+l[6]*s+l[10]*c+l[14]*u,t[3]=l[3]*a+l[7]*s+l[11]*c+l[15]*u,t}},5022:function(v){v.exports=y;function y(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],m=l[1],h=l[2],T=l[3],f=T*a+m*c-h*s,o=T*s+h*a-u*c,d=T*c+u*s-m*a,M=-u*a-m*s-h*c;return t[0]=f*T+M*-u+o*-h-d*-m,t[1]=o*T+M*-m+d*-u-f*-h,t[2]=d*T+M*-h+f*-m-o*-u,t[3]=r[3],t}},9365:function(v,y,t){var r=t(8096),l=t(7896);v.exports=a;function a(s){for(var c=Array.isArray(s)?s:r(s),u=0;u<c.length;u++){var m=c[u];if(m.type==="preprocessor"){var h=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],f=h[2];return(T?l(f):f).trim()}}}}},3193:function(v,y,t){v.exports=x;var r=t(399),l=t(9746),a=t(9525),s=t(9458),c=t(3585),u=999,m=9999,h=0,T=1,f=2,o=3,d=4,M=5,A=6,E=7,g=8,S=9,b=10,i=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function x(k){var _=0,B=0,I=u,z,O,F=[],N=[],Q=1,$=0,j=0,ee=!1,oe=!1,Y="",V;k=k||{};var W=a,X=r;k.version==="300 es"&&(W=c,X=s);for(var re={},ie={},_=0;_<W.length;_++)re[W[_]]=!0;for(var _=0;_<X.length;_++)ie[X[_]]=!0;return function(Ue){return N=[],Ue!==null?q(Ue):le()};function K(Ue){Ue.length&&N.push({type:P[I],data:Ue,position:j,line:Q,column:$})}function q(Ue){_=0,Ue.toString&&(Ue=Ue.toString()),Y+=Ue.replace(/\r\n/g,`
`),V=Y.length;for(var De;z=Y[_],_<V;){switch(De=_,I){case h:_=xe();break;case T:_=Me();break;case f:_=me();break;case o:_=Ie();break;case d:_=ye();break;case i:_=Te();break;case M:_=Ae();break;case m:_=Be();break;case S:_=he();break;case u:_=ae();break}if(De!==_)switch(Y[De]){case`
`:$=0,++Q;break;default:++$;break}}return B+=_,Y=Y.slice(_),N}function le(Ue){return F.length&&K(F.join("")),I=b,K("(eof)"),N}function ae(){return F=F.length?[]:F,O==="/"&&z==="*"?(j=B+_-1,I=h,O=z,_+1):O==="/"&&z==="/"?(j=B+_-1,I=T,O=z,_+1):z==="#"?(I=f,j=B+_,_):/\s/.test(z)?(I=S,j=B+_,_):(ee=/\d/.test(z),oe=/[^\w_]/.test(z),j=B+_,I=ee?d:oe?o:m,_)}function he(){return/[^\s]/g.test(z)?(K(F.join("")),I=u,_):(F.push(z),O=z,_+1)}function me(){return(z==="\r"||z===`
`)&&O!=="\\"?(K(F.join("")),I=u,_):(F.push(z),O=z,_+1)}function Me(){return me()}function xe(){return z==="/"&&O==="*"?(F.push(z),K(F.join("")),I=u,_+1):(F.push(z),O=z,_+1)}function Ie(){if(O==="."&&/\d/.test(z))return I=M,_;if(O==="/"&&z==="*")return I=h,_;if(O==="/"&&z==="/")return I=T,_;if(z==="."&&F.length){for(;_e(F););return I=M,_}if(z===";"||z===")"||z==="("){if(F.length)for(;_e(F););return K(z),I=u,_+1}var Ue=F.length===2&&z!=="=";if(/[\w_\d\s]/.test(z)||Ue){for(;_e(F););return I=u,_}return F.push(z),O=z,_+1}function _e(Ue){var De=0,He,ut;do{if(He=l.indexOf(Ue.slice(0,Ue.length+De).join("")),ut=l[He],He===-1){if(De--+Ue.length>0)continue;ut=Ue.slice(0,1).join("")}return K(ut),j+=ut.length,F=F.slice(ut.length),F.length}while(1)}function Te(){return/[^a-fA-F0-9]/.test(z)?(K(F.join("")),I=u,_):(F.push(z),O=z,_+1)}function ye(){return z==="."||/[eE]/.test(z)?(F.push(z),I=M,O=z,_+1):z==="x"&&F.length===1&&F[0]==="0"?(I=i,F.push(z),O=z,_+1):/[^\d]/.test(z)?(K(F.join("")),I=u,_):(F.push(z),O=z,_+1)}function Ae(){return z==="f"&&(F.push(z),O=z,_+=1),/[eE]/.test(z)||(z==="-"||z==="+")&&/[eE]/.test(O)?(F.push(z),O=z,_+1):/[^\d]/.test(z)?(K(F.join("")),I=u,_):(F.push(z),O=z,_+1)}function Be(){if(/[^\d\w_]/.test(z)){var Ue=F.join("");return ie[Ue]?I=g:re[Ue]?I=E:I=A,K(F.join("")),I=u,_}return F.push(z),O=z,_+1}}},3585:function(v,y,t){var r=t(9525);r=r.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,y,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,y,t){var r=t(3193);v.exports=l;function l(a,s){var c=r(s),u=[];return u=u.concat(c(a)),u=u.concat(c(null)),u}},6832:function(v){v.exports=function(y){typeof y=="string"&&(y=[y]);for(var t=[].slice.call(arguments,1),r=[],l=0;l<y.length-1;l++)r.push(y[l],t[l]||"");return r.push(y[l]),r.join("")}},5233:function(v,y,t){var r=t(4846);function l(){var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{a=!1}return a}v.exports=r&&l()},2183:function(v,y,t){v.exports=o;var r=t(417),l=t(8211).H;function a(d,M,A){this.vertices=d,this.adjacent=M,this.boundary=A,this.lastVisited=-1}a.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function s(d,M,A){this.vertices=d,this.cell=M,this.index=A}function c(d,M){return l(d.vertices,M.vertices)}function u(d){return function(){var M=this.tuple;return d.apply(this,M)}}function m(d){var M=r[d+1];return M||(M=r),u(M)}var h=[];function T(d,M,A){this.dimension=d,this.vertices=M,this.simplices=A,this.interior=A.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var E=0;E<=d;++E)this.tuple[E]=this.vertices[E];var g=h[d];g||(g=h[d]=m(d)),this.orient=g}var f=T.prototype;f.handleBoundaryDegeneracy=function(d,M){var A=this.dimension,E=this.vertices.length-1,g=this.tuple,S=this.vertices,b=[d];for(d.lastVisited=-E;b.length>0;){d=b.pop();for(var i=d.adjacent,P=0;P<=A;++P){var x=i[P];if(!(!x.boundary||x.lastVisited<=-E)){for(var k=x.vertices,_=0;_<=A;++_){var B=k[_];B<0?g[_]=M:g[_]=S[B]}var I=this.orient();if(I>0)return x;x.lastVisited=-E,I===0&&b.push(x)}}}return null},f.walk=function(d,M){var A=this.vertices.length-1,E=this.dimension,g=this.vertices,S=this.tuple,b=M?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[b];e:for(;!i.boundary;){for(var P=i.vertices,x=i.adjacent,k=0;k<=E;++k)S[k]=g[P[k]];i.lastVisited=A;for(var k=0;k<=E;++k){var _=x[k];if(!(_.lastVisited>=A)){var B=S[k];S[k]=d;var I=this.orient();if(S[k]=B,I<0){i=_;continue e}else _.boundary?_.lastVisited=-A:_.lastVisited=A}}return}return i},f.addPeaks=function(d,M){var A=this.vertices.length-1,E=this.dimension,g=this.vertices,S=this.tuple,b=this.interior,i=this.simplices,P=[M];M.lastVisited=A,M.vertices[M.vertices.indexOf(-1)]=A,M.boundary=!1,b.push(M);for(var x=[];P.length>0;){var M=P.pop(),k=M.vertices,_=M.adjacent,B=k.indexOf(A);if(!(B<0)){for(var I=0;I<=E;++I)if(I!==B){var z=_[I];if(!(!z.boundary||z.lastVisited>=A)){var O=z.vertices;if(z.lastVisited!==-A){for(var F=0,N=0;N<=E;++N)O[N]<0?(F=N,S[N]=d):S[N]=g[O[N]];var Q=this.orient();if(Q>0){O[F]=A,z.boundary=!1,b.push(z),P.push(z),z.lastVisited=A;continue}else z.lastVisited=-A}var $=z.adjacent,j=k.slice(),ee=_.slice(),oe=new a(j,ee,!0);i.push(oe);var Y=$.indexOf(M);if(!(Y<0)){$[Y]=oe,ee[B]=z,j[I]=-1,ee[I]=M,_[I]=oe,oe.flip();for(var N=0;N<=E;++N){var V=j[N];if(!(V<0||V===A)){for(var W=new Array(E-1),X=0,re=0;re<=E;++re){var ie=j[re];ie<0||re===N||(W[X++]=ie)}x.push(new s(W,oe,N))}}}}}}}x.sort(c);for(var I=0;I+1<x.length;I+=2){var K=x[I],q=x[I+1],le=K.index,ae=q.index;le<0||ae<0||(K.cell.adjacent[K.index]=q.cell,q.cell.adjacent[q.index]=K.cell)}},f.insert=function(d,M){var A=this.vertices;A.push(d);var E=this.walk(d,M);if(E){for(var g=this.dimension,S=this.tuple,b=0;b<=g;++b){var i=E.vertices[b];i<0?S[b]=d:S[b]=A[i]}var P=this.orient(S);P<0||P===0&&(E=this.handleBoundaryDegeneracy(E,d),!E)||this.addPeaks(d,E)}},f.boundary=function(){for(var d=this.dimension,M=[],A=this.simplices,E=A.length,g=0;g<E;++g){var S=A[g];if(S.boundary){for(var b=new Array(d),i=S.vertices,P=0,x=0,k=0;k<=d;++k)i[k]>=0?b[P++]=i[k]:x=k&1;if(x===(d&1)){var _=b[0];b[0]=b[1],b[1]=_}M.push(b)}}return M};function o(d,M){var A=d.length;if(A===0)throw new Error("Must have at least d+1 points");var E=d[0].length;if(A<=E)throw new Error("Must input at least d+1 points");var g=d.slice(0,E+1),S=r.apply(void 0,g);if(S===0)throw new Error("Input not in general position");for(var b=new Array(E+1),i=0;i<=E;++i)b[i]=i;S<0&&(b[0]=1,b[1]=0);for(var P=new a(b,new Array(E+1),!1),x=P.adjacent,k=new Array(E+2),i=0;i<=E;++i){for(var _=b.slice(),B=0;B<=E;++B)B===i&&(_[B]=-1);var I=_[0];_[0]=_[1],_[1]=I;var z=new a(_,new Array(E+1),!0);x[i]=z,k[i]=z}k[E+1]=P;for(var i=0;i<=E;++i)for(var _=x[i].vertices,O=x[i].adjacent,B=0;B<=E;++B){var F=_[B];if(F<0){O[B]=P;continue}for(var N=0;N<=E;++N)x[N].vertices.indexOf(F)<0&&(O[B]=x[N])}for(var Q=new T(E,g,k),$=!!M,i=E+1;i<A;++i)Q.insert(d[i],$);return Q.boundary()}},9014:function(v,y,t){var r=t(5070),l=0,a=1,s=2;v.exports=P;function c(x,k,_,B,I){this.mid=x,this.left=k,this.right=_,this.leftPoints=B,this.rightPoints=I,this.count=(k?k.count:0)+(_?_.count:0)+B.length}var u=c.prototype;function m(x,k){x.mid=k.mid,x.left=k.left,x.right=k.right,x.leftPoints=k.leftPoints,x.rightPoints=k.rightPoints,x.count=k.count}function h(x,k){var _=S(k);x.mid=_.mid,x.left=_.left,x.right=_.right,x.leftPoints=_.leftPoints,x.rightPoints=_.rightPoints,x.count=_.count}function T(x,k){var _=x.intervals([]);_.push(k),h(x,_)}function f(x,k){var _=x.intervals([]),B=_.indexOf(k);return B<0?l:(_.splice(B,1),h(x,_),a)}u.intervals=function(x){return x.push.apply(x,this.leftPoints),this.left&&this.left.intervals(x),this.right&&this.right.intervals(x),x},u.insert=function(x){var k=this.count-this.leftPoints.length;if(this.count+=1,x[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?T(this,x):this.left.insert(x):this.left=S([x]);else if(x[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?T(this,x):this.right.insert(x):this.right=S([x]);else{var _=r.ge(this.leftPoints,x,E),B=r.ge(this.rightPoints,x,g);this.leftPoints.splice(_,0,x),this.rightPoints.splice(B,0,x)}},u.remove=function(x){var k=this.count-this.leftPoints;if(x[1]<this.mid){if(!this.left)return l;var _=this.right?this.right.count:0;if(4*_>3*(k-1))return f(this,x);var B=this.left.remove(x);return B===s?(this.left=null,this.count-=1,a):(B===a&&(this.count-=1),B)}else if(x[0]>this.mid){if(!this.right)return l;var I=this.left?this.left.count:0;if(4*I>3*(k-1))return f(this,x);var B=this.right.remove(x);return B===s?(this.right=null,this.count-=1,a):(B===a&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===x?s:l;if(this.leftPoints.length===1&&this.leftPoints[0]===x){if(this.left&&this.right){for(var z=this,O=this.left;O.right;)z=O,O=O.right;if(z===this)O.right=this.right;else{var F=this.left,B=this.right;z.count-=O.count,z.right=O.left,O.left=F,O.right=B}m(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return a}for(var F=r.ge(this.leftPoints,x,E);F<this.leftPoints.length&&this.leftPoints[F][0]===x[0];++F)if(this.leftPoints[F]===x){this.count-=1,this.leftPoints.splice(F,1);for(var B=r.ge(this.rightPoints,x,g);B<this.rightPoints.length&&this.rightPoints[B][1]===x[1];++B)if(this.rightPoints[B]===x)return this.rightPoints.splice(B,1),a}return l}};function o(x,k,_){for(var B=0;B<x.length&&x[B][0]<=k;++B){var I=_(x[B]);if(I)return I}}function d(x,k,_){for(var B=x.length-1;B>=0&&x[B][1]>=k;--B){var I=_(x[B]);if(I)return I}}function M(x,k){for(var _=0;_<x.length;++_){var B=k(x[_]);if(B)return B}}u.queryPoint=function(x,k){if(x<this.mid){if(this.left){var _=this.left.queryPoint(x,k);if(_)return _}return o(this.leftPoints,x,k)}else if(x>this.mid){if(this.right){var _=this.right.queryPoint(x,k);if(_)return _}return d(this.rightPoints,x,k)}else return M(this.leftPoints,k)},u.queryInterval=function(x,k,_){if(x<this.mid&&this.left){var B=this.left.queryInterval(x,k,_);if(B)return B}if(k>this.mid&&this.right){var B=this.right.queryInterval(x,k,_);if(B)return B}return k<this.mid?o(this.leftPoints,k,_):x>this.mid?d(this.rightPoints,x,_):M(this.leftPoints,_)};function A(x,k){return x-k}function E(x,k){var _=x[0]-k[0];return _||x[1]-k[1]}function g(x,k){var _=x[1]-k[1];return _||x[0]-k[0]}function S(x){if(x.length===0)return null;for(var k=[],_=0;_<x.length;++_)k.push(x[_][0],x[_][1]);k.sort(A);for(var B=k[k.length>>1],I=[],z=[],O=[],_=0;_<x.length;++_){var F=x[_];F[1]<B?I.push(F):B<F[0]?z.push(F):O.push(F)}var N=O,Q=O.slice();return N.sort(E),Q.sort(g),new c(B,S(I),S(z),N,Q)}function b(x){this.root=x}var i=b.prototype;i.insert=function(x){this.root?this.root.insert(x):this.root=new c(x[0],null,null,[x],[x])},i.remove=function(x){if(this.root){var k=this.root.remove(x);return k===s&&(this.root=null),k!==l}return!1},i.queryPoint=function(x,k){if(this.root)return this.root.queryPoint(x,k)},i.queryInterval=function(x,k,_){if(x<=k&&this.root)return this.root.queryInterval(x,k,_)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function P(x){return!x||x.length===0?new b(null):new b(S(x))}},9560:function(v){function y(t){for(var r=new Array(t),l=0;l<t;++l)r[l]=l;return r}v.exports=y},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(y(r)||t(r)||!!r._isBuffer)};function y(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&y(r.slice(0,0))}},3596:function(v){v.exports=function(y){for(var t=y.length,r,l=0;l<t;l++)if(r=y.charCodeAt(l),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function y(t,r,l){return t*(1-l)+r*l}v.exports=y},7191:function(v,y,t){var r=t(4690),l=t(9823),a=t(7332),s=t(7787),c=t(7437),u=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},h=l(),T=l(),f=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,b,i,P,x,k){if(b||(b=[0,0,0]),i||(i=[0,0,0]),P||(P=[0,0,0]),x||(x=[0,0,0,1]),k||(k=[0,0,0,1]),!r(h,S)||(a(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(s(T)<1e-8)))return!1;var _=h[3],B=h[7],I=h[11],z=h[12],O=h[13],F=h[14],N=h[15];if(_!==0||B!==0||I!==0){f[0]=_,f[1]=B,f[2]=I,f[3]=N;var Q=c(T,T);if(!Q)return!1;u(T,T),M(x,f,T)}else x[0]=x[1]=x[2]=0,x[3]=1;if(b[0]=z,b[1]=O,b[2]=F,A(o,h),i[0]=m.length(o[0]),m.normalize(o[0],o[0]),P[0]=m.dot(o[0],o[1]),E(o[1],o[1],o[0],1,-P[0]),i[1]=m.length(o[1]),m.normalize(o[1],o[1]),P[0]/=i[1],P[1]=m.dot(o[0],o[2]),E(o[2],o[2],o[0],1,-P[1]),P[2]=m.dot(o[1],o[2]),E(o[2],o[2],o[1],1,-P[2]),i[2]=m.length(o[2]),m.normalize(o[2],o[2]),P[1]/=i[2],P[2]/=i[2],m.cross(d,o[1],o[2]),m.dot(o[0],d)<0)for(var $=0;$<3;$++)i[$]*=-1,o[$][0]*=-1,o[$][1]*=-1,o[$][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function M(g,S,b){var i=S[0],P=S[1],x=S[2],k=S[3];return g[0]=b[0]*i+b[4]*P+b[8]*x+b[12]*k,g[1]=b[1]*i+b[5]*P+b[9]*x+b[13]*k,g[2]=b[2]*i+b[6]*P+b[10]*x+b[14]*k,g[3]=b[3]*i+b[7]*P+b[11]*x+b[15]*k,g}function A(g,S){g[0][0]=S[0],g[0][1]=S[1],g[0][2]=S[2],g[1][0]=S[4],g[1][1]=S[5],g[1][2]=S[6],g[2][0]=S[8],g[2][1]=S[9],g[2][2]=S[10]}function E(g,S,b,i,P){g[0]=S[0]*i+b[0]*P,g[1]=S[1]*i+b[1]*P,g[2]=S[2]*i+b[2]*P}},4690:function(v){v.exports=function(t,r){var l=r[15];if(l===0)return!1;for(var a=1/l,s=0;s<16;s++)t[s]=r[s]*a;return!0}},7649:function(v,y,t){var r=t(1868),l=t(1102),a=t(7191),s=t(7787),c=t(1116),u=f(),m=f(),h=f();v.exports=T;function T(M,A,E,g){if(s(A)===0||s(E)===0)return!1;var S=a(A,u.translate,u.scale,u.skew,u.perspective,u.quaternion),b=a(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!S||!b?!1:(r(h.translate,u.translate,m.translate,g),r(h.skew,u.skew,m.skew,g),r(h.scale,u.scale,m.scale,g),r(h.perspective,u.perspective,m.perspective,g),c(h.quaternion,u.quaternion,m.quaternion,g),l(M,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function f(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(M){return[M||0,M||0,M||0]}function d(){return[0,0,0,1]}},1102:function(v,y,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var l=r.create();v.exports=function(s,c,u,m,h,T){return r.identity(s),r.fromRotationTranslation(s,T,c),s[3]=h[0],s[7]=h[1],s[11]=h[2],s[15]=h[3],r.identity(l),m[2]!==0&&(l[9]=m[2],r.multiply(s,s,l)),m[1]!==0&&(l[9]=0,l[8]=m[1],r.multiply(s,s,l)),m[0]!==0&&(l[8]=0,l[4]=m[0],r.multiply(s,s,l)),r.scale(s,s,u),s}},9298:function(v,y,t){var r=t(5070),l=t(7649),a=t(7437),s=t(6109),c=t(7115),u=t(5240),m=t(3012),h=t(998);t(3668);var T=t(899),f=[0,0,0];v.exports=A;function o(E){this._components=E.slice(),this._time=[0],this.prevMatrix=E.slice(),this.nextMatrix=E.slice(),this.computedMatrix=E.slice(),this.computedInverse=E.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(E){var g=this._time,S=r.le(g,E),b=this.computedMatrix;if(!(S<0)){var i=this._components;if(S===g.length-1)for(var P=16*S,x=0;x<16;++x)b[x]=i[P++];else{for(var k=g[S+1]-g[S],P=16*S,_=this.prevMatrix,B=!0,x=0;x<16;++x)_[x]=i[P++];for(var I=this.nextMatrix,x=0;x<16;++x)I[x]=i[P++],B=B&&_[x]===I[x];if(k<1e-6||B)for(var x=0;x<16;++x)b[x]=_[x];else l(b,_,I,(E-g[S])/k)}var z=this.computedUp;z[0]=b[1],z[1]=b[5],z[2]=b[9],T(z,z);var O=this.computedInverse;a(O,b);var F=this.computedEye,N=O[15];F[0]=O[12]/N,F[1]=O[13]/N,F[2]=O[14]/N;for(var Q=this.computedCenter,$=Math.exp(this.computedRadius[0]),x=0;x<3;++x)Q[x]=F[x]-b[2+4*x]*$}},d.idle=function(E){if(!(E<this.lastT())){for(var g=this._components,S=g.length-16,b=0;b<16;++b)g.push(g[S++]);this._time.push(E)}},d.flush=function(E){var g=r.gt(this._time,E)-2;g<0||(this._time.splice(0,g),this._components.splice(0,16*g))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(E,g,S,b){this.recalcMatrix(E),g=g||this.computedEye,S=S||f,b=b||this.computedUp,this.setMatrix(E,m(this.computedMatrix,g,S,b));for(var i=0,P=0;P<3;++P)i+=Math.pow(S[P]-g[P],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},d.rotate=function(E,g,S,b){this.recalcMatrix(E);var i=this.computedInverse;g&&c(i,i,g),S&&s(i,i,S),b&&u(i,i,b),this.setMatrix(E,a(this.computedMatrix,i))};var M=[0,0,0];d.pan=function(E,g,S,b){M[0]=-(g||0),M[1]=-(S||0),M[2]=-(b||0),this.recalcMatrix(E);var i=this.computedInverse;h(i,i,M),this.setMatrix(E,a(i,i))},d.translate=function(E,g,S,b){M[0]=g||0,M[1]=S||0,M[2]=b||0,this.recalcMatrix(E);var i=this.computedMatrix;h(i,i,M),this.setMatrix(E,i)},d.setMatrix=function(E,g){if(!(E<this.lastT())){this._time.push(E);for(var S=0;S<16;++S)this._components.push(g[S])}},d.setDistance=function(E,g){this.computedRadius[0]=g},d.setDistanceLimits=function(E,g){var S=this._limits;S[0]=E,S[1]=g},d.getDistanceLimits=function(E){var g=this._limits;return E?(E[0]=g[0],E[1]=g[1],E):g};function A(E){E=E||{};var g=E.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(g)}},3266:function(v,y,t){v.exports=l;var r=t(417)[3];function l(a){var s=a.length;if(s<3){for(var d=new Array(s),c=0;c<s;++c)d[c]=c;return s===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:d}for(var u=new Array(s),c=0;c<s;++c)u[c]=c;u.sort(function(g,S){var b=a[g][0]-a[S][0];return b||a[g][1]-a[S][1]});for(var m=[u[0],u[1]],h=[u[0],u[1]],c=2;c<s;++c){for(var T=u[c],f=a[T],o=m.length;o>1&&r(a[m[o-2]],a[m[o-1]],f)<=0;)o-=1,m.pop();for(m.push(T),o=h.length;o>1&&r(a[h[o-2]],a[h[o-1]],f)>=0;)o-=1,h.pop();h.push(T)}for(var d=new Array(h.length+m.length-2),M=0,c=0,A=m.length;c<A;++c)d[M++]=m[c];for(var E=h.length-2;E>0;--E)d[M++]=h[E];return d}},6145:function(v,y,t){v.exports=l;var r=t(4110);function l(a,s){s||(s=a,a=window);var c=0,u=0,m=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function f(x){var k=!1;return"altKey"in x&&(k=k||x.altKey!==h.alt,h.alt=!!x.altKey),"shiftKey"in x&&(k=k||x.shiftKey!==h.shift,h.shift=!!x.shiftKey),"ctrlKey"in x&&(k=k||x.ctrlKey!==h.control,h.control=!!x.ctrlKey),"metaKey"in x&&(k=k||x.metaKey!==h.meta,h.meta=!!x.metaKey),k}function o(x,k){var _=r.x(k),B=r.y(k);"buttons"in k&&(x=k.buttons|0),(x!==c||_!==u||B!==m||f(k))&&(c=x|0,u=_||0,m=B||0,s&&s(c,u,m,h))}function d(x){o(0,x)}function M(){(c||u||m||h.shift||h.alt||h.meta||h.control)&&(u=m=0,c=0,h.shift=h.alt=h.control=h.meta=!1,s&&s(0,0,0,h))}function A(x){f(x)&&s&&s(c,u,m,h)}function E(x){r.buttons(x)===0?o(0,x):o(c,x)}function g(x){o(c|r.buttons(x),x)}function S(x){o(c&~r.buttons(x),x)}function b(){T||(T=!0,a.addEventListener("mousemove",E),a.addEventListener("mousedown",g),a.addEventListener("mouseup",S),a.addEventListener("mouseleave",d),a.addEventListener("mouseenter",d),a.addEventListener("mouseout",d),a.addEventListener("mouseover",d),a.addEventListener("blur",M),a.addEventListener("keyup",A),a.addEventListener("keydown",A),a.addEventListener("keypress",A),a!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function i(){T&&(T=!1,a.removeEventListener("mousemove",E),a.removeEventListener("mousedown",g),a.removeEventListener("mouseup",S),a.removeEventListener("mouseleave",d),a.removeEventListener("mouseenter",d),a.removeEventListener("mouseout",d),a.removeEventListener("mouseover",d),a.removeEventListener("blur",M),a.removeEventListener("keyup",A),a.removeEventListener("keydown",A),a.removeEventListener("keypress",A),a!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}b();var P={element:a};return Object.defineProperties(P,{enabled:{get:function(){return T},set:function(x){x?b():i()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),P}},2565:function(v){var y={left:0,top:0};v.exports=t;function t(l,a,s){a=a||l.currentTarget||l.srcElement,Array.isArray(s)||(s=[0,0]);var c=l.clientX||0,u=l.clientY||0,m=r(a);return s[0]=c-m.left,s[1]=u-m.top,s}function r(l){return l===window||l===document||l===document.body?y:l.getBoundingClientRect()}},4110:function(v,y){function t(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){var c=s.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in s){var c=s.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}y.buttons=t;function r(s){return s.target||s.srcElement||window}y.element=r;function l(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var c=r(s),u=c.getBoundingClientRect();return s.clientX-u.left}return 0}y.x=l;function a(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var c=r(s),u=c.getBoundingClientRect();return s.clientY-u.top}return 0}y.y=a},6475:function(v,y,t){var r=t(14);v.exports=l;function l(a,s,c){typeof a=="function"&&(c=!!s,s=a,a=window);var u=r("ex",a),m=function(h){c&&h.preventDefault();var T=h.deltaX||0,f=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,M=1;switch(d){case 1:M=u;break;case 2:M=window.innerHeight;break}if(T*=M,f*=M,o*=M,T||f||o)return s(T,f,o,h)};return a.addEventListener("wheel",m),m}},9284:function(v,y,t){var r=t(5306);v.exports=s;var l={"false,0,1":function(u,m,h,T,f){return function(d,M,A,E){var g=d.shape[0]|0,S=d.shape[1]|0,b=d.data,i=d.offset|0,P=d.stride[0]|0,x=d.stride[1]|0,k=i,_,B=-P|0,I=0,z=-x|0,O=0,F=-P-x|0,N=0,Q=P|0,$=x-P*g|0,j=0,ee=0,oe=0,Y=2*g|0,V=T(Y),W=T(Y),X=0,re=0,ie=-1,K=-1,q=0,le=-g|0,ae=g|0,he=0,me=-g-1|0,Me=g-1|0,xe=0,Ie=0,_e=0;for(j=0;j<g;++j)V[X++]=h(b[k],M,A,E),k+=Q;if(k+=$,S>0){if(ee=1,V[X++]=h(b[k],M,A,E),k+=Q,g>0)for(j=1,_=b[k],re=V[X]=h(_,M,A,E),q=V[X+ie],he=V[X+le],xe=V[X+me],(re!==q||re!==he||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,q,he,xe,M,A,E),Ie=W[X]=oe++),X+=1,k+=Q,j=2;j<g;++j)_=b[k],re=V[X]=h(_,M,A,E),q=V[X+ie],he=V[X+le],xe=V[X+me],(re!==q||re!==he||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,q,he,xe,M,A,E),Ie=W[X]=oe++,xe!==q&&m(W[X+ie],Ie,N,I,xe,q,M,A,E)),X+=1,k+=Q;for(k+=$,X=0,_e=ie,ie=K,K=_e,_e=le,le=ae,ae=_e,_e=me,me=Me,Me=_e,ee=2;ee<S;++ee){if(V[X++]=h(b[k],M,A,E),k+=Q,g>0)for(j=1,_=b[k],re=V[X]=h(_,M,A,E),q=V[X+ie],he=V[X+le],xe=V[X+me],(re!==q||re!==he||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,q,he,xe,M,A,E),Ie=W[X]=oe++,xe!==he&&m(W[X+le],Ie,O,N,he,xe,M,A,E)),X+=1,k+=Q,j=2;j<g;++j)_=b[k],re=V[X]=h(_,M,A,E),q=V[X+ie],he=V[X+le],xe=V[X+me],(re!==q||re!==he||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,q,he,xe,M,A,E),Ie=W[X]=oe++,xe!==he&&m(W[X+le],Ie,O,N,he,xe,M,A,E),xe!==q&&m(W[X+ie],Ie,N,I,xe,q,M,A,E)),X+=1,k+=Q;ee&1&&(X=0),_e=ie,ie=K,K=_e,_e=le,le=ae,ae=_e,_e=me,me=Me,Me=_e,k+=$}}f(W),f(V)}},"false,1,0":function(u,m,h,T,f){return function(d,M,A,E){var g=d.shape[0]|0,S=d.shape[1]|0,b=d.data,i=d.offset|0,P=d.stride[0]|0,x=d.stride[1]|0,k=i,_,B=-P|0,I=0,z=-x|0,O=0,F=-P-x|0,N=0,Q=x|0,$=P-x*S|0,j=0,ee=0,oe=0,Y=2*S|0,V=T(Y),W=T(Y),X=0,re=0,ie=-1,K=-1,q=0,le=-S|0,ae=S|0,he=0,me=-S-1|0,Me=S-1|0,xe=0,Ie=0,_e=0;for(ee=0;ee<S;++ee)V[X++]=h(b[k],M,A,E),k+=Q;if(k+=$,g>0){if(j=1,V[X++]=h(b[k],M,A,E),k+=Q,S>0)for(ee=1,_=b[k],re=V[X]=h(_,M,A,E),he=V[X+le],q=V[X+ie],xe=V[X+me],(re!==he||re!==q||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,he,q,xe,M,A,E),Ie=W[X]=oe++),X+=1,k+=Q,ee=2;ee<S;++ee)_=b[k],re=V[X]=h(_,M,A,E),he=V[X+le],q=V[X+ie],xe=V[X+me],(re!==he||re!==q||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,he,q,xe,M,A,E),Ie=W[X]=oe++,xe!==q&&m(W[X+ie],Ie,O,N,q,xe,M,A,E)),X+=1,k+=Q;for(k+=$,X=0,_e=le,le=ae,ae=_e,_e=ie,ie=K,K=_e,_e=me,me=Me,Me=_e,j=2;j<g;++j){if(V[X++]=h(b[k],M,A,E),k+=Q,S>0)for(ee=1,_=b[k],re=V[X]=h(_,M,A,E),he=V[X+le],q=V[X+ie],xe=V[X+me],(re!==he||re!==q||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,he,q,xe,M,A,E),Ie=W[X]=oe++,xe!==he&&m(W[X+le],Ie,N,I,xe,he,M,A,E)),X+=1,k+=Q,ee=2;ee<S;++ee)_=b[k],re=V[X]=h(_,M,A,E),he=V[X+le],q=V[X+ie],xe=V[X+me],(re!==he||re!==q||re!==xe)&&(I=b[k+B],O=b[k+z],N=b[k+F],u(j,ee,_,I,O,N,re,he,q,xe,M,A,E),Ie=W[X]=oe++,xe!==q&&m(W[X+ie],Ie,O,N,q,xe,M,A,E),xe!==he&&m(W[X+le],Ie,N,I,xe,he,M,A,E)),X+=1,k+=Q;j&1&&(X=0),_e=le,le=ae,ae=_e,_e=ie,ie=K,K=_e,_e=me,me=Me,Me=_e,k+=$}}f(W),f(V)}}};function a(c,u,m,h,T,f){var o=[f,T].join(","),d=l[o];return d(c,u,m,r.mallocUint32,r.freeUint32)}function s(c){function u(M){throw new Error("ndarray-extract-contour: "+M)}typeof c!="object"&&u("Must specify arguments");var m=c.order;Array.isArray(m)||u("Must specify order");var h=c.arrayArguments||1;h<1&&u("Must have at least one array argument");var T=c.scalarArguments||0;T<0&&u("Scalar arg count must be > 0"),typeof c.vertex!="function"&&u("Must specify vertex creation function"),typeof c.cell!="function"&&u("Must specify cell creation function"),typeof c.phase!="function"&&u("Must specify phase function");for(var f=c.getters||[],o=new Array(h),d=0;d<h;++d)f.indexOf(d)>=0?o[d]=!0:o[d]=!1;return a(c.vertex,c.cell,c.phase,T,m,o)}},9144:function(v,y,t){var r=t(3094),l={zero:function(A,E,g,S){var b=A[0],i=g[0];S|=0;var P=0,x=i;for(P=0;P<b;++P)E[S]=0,S+=x},fdTemplate1:function(A,E,g,S,b,i,P){var x=A[0],k=g[0],_=i[0],B=-1*k,I=k;S|=0,P|=0;var z=0,O=k,F=_;for(z=0;z<x;++z)b[P]=.5*(E[S+B]-E[S+I]),S+=O,P+=F},fdTemplate2:function(A,E,g,S,b,i,P,x,k,_){var B=A[0],I=A[1],z=g[0],O=g[1],F=i[0],N=i[1],Q=k[0],$=k[1],j=-1*z,ee=z,oe=-1*O,Y=O;S|=0,P|=0,_|=0;var V=0,W=0,X=O,re=z-I*O,ie=N,K=F-I*N,q=$,le=Q-I*$;for(W=0;W<B;++W){for(V=0;V<I;++V)b[P]=.5*(E[S+j]-E[S+ee]),x[_]=.5*(E[S+oe]-E[S+Y]),S+=X,P+=ie,_+=q;S+=re,P+=K,_+=le}}},a={cdiff:function(A){var E={};return function(S,b,i){var P=S.dtype,x=S.order,k=b.dtype,_=b.order,B=i.dtype,I=i.order,z=[P,x.join(),k,_.join(),B,I.join()].join(),O=E[z];return O||(E[z]=O=A([P,x,k,_,B,I])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0,i.data,i.stride,i.offset|0)}},zero:function(A){var E={};return function(S){var b=S.dtype,i=S.order,P=[b,i.join()].join(),x=E[P];return x||(E[P]=x=A([b,i])),x(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(A){var E={};return function(S,b){var i=S.dtype,P=S.order,x=b.dtype,k=b.order,_=[i,P.join(),x,k.join()].join(),B=E[_];return B||(E[_]=B=A([i,P,x,k])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(A){var E={};return function(S,b,i){var P=S.dtype,x=S.order,k=b.dtype,_=b.order,B=i.dtype,I=i.order,z=[P,x.join(),k,_.join(),B,I.join()].join(),O=E[z];return O||(E[z]=O=A([P,x,k,_,B,I])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,b.data,b.stride,b.offset|0,i.data,i.stride,i.offset|0)}}};function s(A){var E=a[A.funcName];return E(c.bind(void 0,A))}function c(A){return l[A.funcName]}function u(A){return s({funcName:A.funcName})}var m={},h={},T=u({funcName:"cdiff"}),f=u({funcName:"zero"});function o(A){return A in m?m[A]:m[A]=u({funcName:"fdTemplate"+A})}function d(A,E,g,S){return function(b,i){var P=i.shape.slice();return P[0]>2&&P[1]>2&&S(i.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),b.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),b.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(g(i.pick(0,-1).lo(1).hi(P[1]-2),b.pick(0,-1,1).lo(1).hi(P[1]-2)),E(b.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(g(i.pick(P[0]-1,-1).lo(1).hi(P[1]-2),b.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),E(b.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(g(i.pick(-1,0).lo(1).hi(P[0]-2),b.pick(-1,0,0).lo(1).hi(P[0]-2)),E(b.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(g(i.pick(-1,P[1]-1).lo(1).hi(P[0]-2),b.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),E(b.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(P[0]-1,0,0,0),b.set(P[0]-1,0,1,0),b.set(0,P[1]-1,0,0),b.set(0,P[1]-1,1,0),b.set(P[0]-1,P[1]-1,0,0),b.set(P[0]-1,P[1]-1,1,0),b}}function M(A){var E=A.join(),P=h[E];if(P)return P;for(var g=A.length,S=[T,f],b=1;b<=g;++b)S.push(o(b));var i=d,P=i.apply(void 0,S);return h[E]=P,P}v.exports=function(E,g,S){if(Array.isArray(S)||(typeof S=="string"?S=r(g.dimension,S):S=r(g.dimension,"clamp")),g.size===0)return E;if(g.dimension===0)return E.set(0),E;var b=M(S);return b(E,g)}},3581:function(v){function y(s,c){var u=Math.floor(c),m=c-u,h=0<=u&&u<s.shape[0],T=0<=u+1&&u+1<s.shape[0],f=h?+s.get(u):0,o=T?+s.get(u+1):0;return(1-m)*f+m*o}function t(s,c,u){var m=Math.floor(c),h=c-m,T=0<=m&&m<s.shape[0],f=0<=m+1&&m+1<s.shape[0],o=Math.floor(u),d=u-o,M=0<=o&&o<s.shape[1],A=0<=o+1&&o+1<s.shape[1],E=T&&M?s.get(m,o):0,g=T&&A?s.get(m,o+1):0,S=f&&M?s.get(m+1,o):0,b=f&&A?s.get(m+1,o+1):0;return(1-d)*((1-h)*E+h*S)+d*((1-h)*g+h*b)}function r(s,c,u,m){var h=Math.floor(c),T=c-h,f=0<=h&&h<s.shape[0],o=0<=h+1&&h+1<s.shape[0],d=Math.floor(u),M=u-d,A=0<=d&&d<s.shape[1],E=0<=d+1&&d+1<s.shape[1],g=Math.floor(m),S=m-g,b=0<=g&&g<s.shape[2],i=0<=g+1&&g+1<s.shape[2],P=f&&A&&b?s.get(h,d,g):0,x=f&&E&&b?s.get(h,d+1,g):0,k=o&&A&&b?s.get(h+1,d,g):0,_=o&&E&&b?s.get(h+1,d+1,g):0,B=f&&A&&i?s.get(h,d,g+1):0,I=f&&E&&i?s.get(h,d+1,g+1):0,z=o&&A&&i?s.get(h+1,d,g+1):0,O=o&&E&&i?s.get(h+1,d+1,g+1):0;return(1-S)*((1-M)*((1-T)*P+T*k)+M*((1-T)*x+T*_))+S*((1-M)*((1-T)*B+T*z)+M*((1-T)*I+T*O))}function l(s){var c=s.shape.length|0,u=new Array(c),m=new Array(c),h=new Array(c),T=new Array(c),f,o;for(f=0;f<c;++f)o=+arguments[f+1],u[f]=Math.floor(o),m[f]=o-u[f],h[f]=0<=u[f]&&u[f]<s.shape[f],T[f]=0<=u[f]+1&&u[f]+1<s.shape[f];var d=0,M,A,E;e:for(f=0;f<1<<c;++f){for(A=1,E=s.offset,M=0;M<c;++M)if(f&1<<M){if(!T[M])continue e;A*=m[M],E+=s.stride[M]*(u[M]+1)}else{if(!h[M])continue e;A*=1-m[M],E+=s.stride[M]*u[M]}d+=A*s.data[E]}return d}function a(s,c,u,m){switch(s.shape.length){case 0:return 0;case 1:return y(s,c);case 2:return t(s,c,u);case 3:return r(s,c,u,m);default:return l.apply(void 0,arguments)}}v.exports=a,v.exports.d1=y,v.exports.d2=t,v.exports.d3=r},7498:function(v,y){var t={"float64,2,1,0":function(){return function(h,T,f,o,d){var M=h[0],A=h[1],E=h[2],g=f[0],S=f[1],b=f[2];o|=0;var i=0,P=0,x=0,k=b,_=S-E*b,B=g-A*S;for(x=0;x<M;++x){for(P=0;P<A;++P){for(i=0;i<E;++i)T[o]/=d,o+=k;o+=_}o+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,f,o,d,M,A,E){var g=h[0],S=h[1],b=h[2],i=f[0],P=f[1],x=f[2],k=M[0],_=M[1],B=M[2];o|=0,A|=0;for(var I=o,z=A,O=h[0]|0;O>0;){O<64?(g=O,O=0):(g=64,O-=64);for(var F=h[1]|0;F>0;){F<64?(S=F,F=0):(S=64,F-=64),o=I+O*i+F*P,A=z+O*k+F*_;var N=0,Q=0,$=0,j=x,ee=i-b*x,oe=P-g*i,Y=B,V=k-b*B,W=_-g*k;for($=0;$<S;++$){for(Q=0;Q<g;++Q){for(N=0;N<b;++N)T[o]=d[A]*E,o+=j,A+=Y;o+=ee,A+=V}o+=oe,A+=W}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,f,o,d,M,A){var E=h[0],g=h[1],S=f[0],b=f[1],i=M[0],P=M[1];o|=0,A|=0;var x=0,k=0,_=b,B=S-g*b,I=P,z=i-g*P;for(k=0;k<E;++k){for(x=0;x<g;++x)T[o]=d[A],o+=_,A+=I;o+=B,A+=z}}},"float32,1,0,float32,0,1":function(){return function(h,T,f,o,d,M,A){var E=h[0],g=h[1],S=f[0],b=f[1],i=M[0],P=M[1];o|=0,A|=0;for(var x=o,k=A,_=h[1]|0;_>0;){_<64?(g=_,_=0):(g=64,_-=64);for(var B=h[0]|0;B>0;){B<64?(E=B,B=0):(E=64,B-=64),o=x+_*b+B*S,A=k+_*P+B*i;var I=0,z=0,O=b,F=S-g*b,N=P,Q=i-g*P;for(z=0;z<E;++z){for(I=0;I<g;++I)T[o]=d[A],o+=O,A+=N;o+=F,A+=Q}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,f,o,d,M,A){var E=h[0],g=h[1],S=h[2],b=f[0],i=f[1],P=f[2],x=M[0],k=M[1],_=M[2];o|=0,A|=0;for(var B=o,I=A,z=h[2]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64);for(var O=h[0]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64);for(var F=h[1]|0;F>0;){F<64?(g=F,F=0):(g=64,F-=64),o=B+z*P+O*b+F*i,A=I+z*_+O*x+F*k;var N=0,Q=0,$=0,j=P,ee=b-S*P,oe=i-E*b,Y=_,V=x-S*_,W=k-E*x;for($=0;$<g;++$){for(Q=0;Q<E;++Q){for(N=0;N<S;++N)T[o]=d[A],o+=j,A+=Y;o+=ee,A+=V}o+=oe,A+=W}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,f,o,d,M,A){var E=h[0],g=h[1],S=h[2],b=f[0],i=f[1],P=f[2],x=M[0],k=M[1],_=M[2];o|=0,A|=0;var B=0,I=0,z=0,O=P,F=b-S*P,N=i-E*b,Q=_,$=x-S*_,j=k-E*x;for(z=0;z<g;++z){for(I=0;I<E;++I){for(B=0;B<S;++B)T[o]=d[A],o+=O,A+=Q;o+=F,A+=$}o+=N,A+=j}}}};function r(m,h){var T=h.join(","),f=t[T];return f()}var l=r,a={mul:function(m){var h={};return function(f,o,d){var M=f.dtype,A=f.order,E=o.dtype,g=o.order,S=d.dtype,b=d.order,i=[M,A.join(),E,g.join(),S,b.join()].join(),P=h[i];return P||(h[i]=P=m([M,A,E,g,S,b])),P(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(m){var h={};return function(f,o,d){var M=f.dtype,A=f.order,E=o.dtype,g=o.order,S=[M,A.join(),E,g.join()].join(),b=h[S];return b||(h[S]=b=m([M,A,E,g])),b(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(m){var h={};return function(f,o){var d=f.dtype,M=f.order,A=[d,M.join()].join(),E=h[A];return E||(h[A]=E=m([d,M])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,o)}},div:function(m){var h={};return function(f,o,d){var M=f.dtype,A=f.order,E=o.dtype,g=o.order,S=d.dtype,b=d.order,i=[M,A.join(),E,g.join(),S,b.join()].join(),P=h[i];return P||(h[i]=P=m([M,A,E,g,S,b])),P(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(m){var h={};return function(f,o,d){var M=f.dtype,A=f.order,E=o.dtype,g=o.order,S=[M,A.join(),E,g.join()].join(),b=h[S];return b||(h[S]=b=m([M,A,E,g])),b(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(m){var h={};return function(f,o){var d=f.dtype,M=f.order,A=[d,M.join()].join(),E=h[A];return E||(h[A]=E=m([d,M])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,o)}},assign:function(m){var h={};return function(f,o){var d=f.dtype,M=f.order,A=o.dtype,E=o.order,g=[d,M.join(),A,E.join()].join(),S=h[g];return S||(h[g]=S=m([d,M,A,E])),S(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0)}}};function s(m){var h=a[m.funcName];return h(l.bind(void 0,m))}function c(m){return s({funcName:m.funcName})}var u={mul:"*",div:"/"};(function(){for(var m in u)y[m]=c({funcName:m}),y[m+"s"]=c({funcName:m+"s"}),y[m+"seq"]=c({funcName:m+"seq"})})(),y.assign=c({funcName:"assign"})},7382:function(v,y,t){var r=t(5050),l=t(9262);v.exports=function(s,c){for(var u=[],m=s,h=1;Array.isArray(m);)u.push(m.length),h*=m.length,m=m[0];return u.length===0?r():(c||(c=r(new Float64Array(h),u)),l(c,s),c)}},9262:function(v){function y(){return function(c,u,m,h,T){var f=c[0],o=c[1],d=c[2],M=m[0],A=m[1],E=m[2],g=[0,0,0];h|=0;var S=0,b=0,i=0,P=E,x=A-d*E,k=M-o*A;for(i=0;i<f;++i){for(b=0;b<o;++b){for(S=0;S<d;++S){{var _=T,B;for(B=0;B<g.length-1;++B)_=_[g[B]];u[h]=_[g[g.length-1]]}h+=P,++g[2]}h+=x,g[2]-=d,++g[1]}h+=k,g[1]-=o,++g[0]}}}function t(){return y()}var r=t;function l(c){var u={};return function(h,T){var f=h.dtype,o=h.order,d=[f,o.join()].join(),M=u[d];return M||(u[d]=M=c([f,o])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function a(c){return l(r.bind(void 0,c))}function s(c){return a({funcName:c.funcName})}v.exports=s({funcName:"convert"})},8139:function(v,y,t){var r=t(5306);function l(T){switch(T){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var a={"uint32,1,0":function(T,f){return function(d,M,A,E,g,S,b,i,P,x,k){var _,B,I,z=d*g+E,O,F=T(i),N,Q,$,j;for(_=d+1;_<=M;++_){for(B=_,z+=g,I=z,N=0,Q=z,O=0;O<i;++O)F[N++]=A[Q],Q+=P;e:for(;B-- >d;){N=0,Q=I-g;t:for(O=0;O<i;++O){if($=A[Q],j=F[N],$<j)break e;if($>j)break t;Q+=x,N+=k}for(N=I,Q=I-g,O=0;O<i;++O)A[N]=A[Q],N+=P,Q+=P;I-=g}for(N=I,Q=0,O=0;O<i;++O)A[N]=F[Q++],N+=P}f(F)}}};function s(T,f){var o=l(f),d=[f,T].join(","),M=a[d];return o?M(o[0],o[1]):M()}var c={"uint32,1,0":function(T,f,o){return function d(M,A,E,g,S,b,i,P,x,k,_){var B=(A-M+1)/6|0,I=M+B,z=A-B,O=M+A>>1,F=O-B,N=O+B,Q=I,$=F,j=O,ee=N,oe=z,Y=M+1,V=A-1,W=!0,X,re,ie,K,q,le,ae,he,me,Me=0,xe=0,Ie=0,_e,Te,ye,Ae,Be,Ue,De,He,ut,et,Qe,qe,ft,gt,xt,Ct,Je=P,ze=f(Je),Fe=f(Je);Te=S*Q,ye=S*$,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=Q,Q=$,$=re;break e}if(Ie<0)break e;Ct+=k}Te=S*ee,ye=S*oe,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=ee,ee=oe,oe=re;break e}if(Ie<0)break e;Ct+=k}Te=S*Q,ye=S*j,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=Q,Q=j,j=re;break e}if(Ie<0)break e;Ct+=k}Te=S*$,ye=S*j,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=$,$=j,j=re;break e}if(Ie<0)break e;Ct+=k}Te=S*Q,ye=S*ee,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=Q,Q=ee,ee=re;break e}if(Ie<0)break e;Ct+=k}Te=S*j,ye=S*ee,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=j,j=ee,ee=re;break e}if(Ie<0)break e;Ct+=k}Te=S*$,ye=S*oe,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=$,$=oe,oe=re;break e}if(Ie<0)break e;Ct+=k}Te=S*$,ye=S*j,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=$,$=j,j=re;break e}if(Ie<0)break e;Ct+=k}Te=S*ee,ye=S*oe,Ct=g;e:for(_e=0;_e<P;++_e){if(ae=Te+Ct,he=ye+Ct,Ie=E[ae]-E[he],Ie>0){re=ee,ee=oe,oe=re;break e}if(Ie<0)break e;Ct+=k}for(Te=S*Q,ye=S*$,Ae=S*j,Be=S*ee,Ue=S*oe,De=S*I,He=S*O,ut=S*z,xt=0,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,me=Ae+Ct,et=Be+Ct,Qe=Ue+Ct,qe=De+Ct,ft=He+Ct,gt=ut+Ct,ze[xt]=E[he],Fe[xt]=E[et],W=W&&ze[xt]===Fe[xt],ie=E[ae],K=E[me],q=E[Qe],E[qe]=ie,E[ft]=K,E[gt]=q,++xt,Ct+=x;for(Te=S*F,ye=S*M,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,E[ae]=E[he],Ct+=x;for(Te=S*N,ye=S*A,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,E[ae]=E[he],Ct+=x;if(W)for(le=Y;le<=V;++le){ae=g+le*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-ze[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie!==0)if(Ie<0){if(le!==Y)for(Te=S*le,ye=S*Y,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;++Y}else for(;;){ae=g+V*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-ze[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie>0)V--;else if(Ie<0){for(Te=S*le,ye=S*Y,Ae=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,me=Ae+Ct,X=E[ae],E[ae]=E[he],E[he]=E[me],E[me]=X,Ct+=x;++Y,--V;break}else{for(Te=S*le,ye=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;--V;break}}}else for(le=Y;le<=V;++le){ae=g+le*S,xt=0;e:for(_e=0;_e<P;++_e){if(Me=E[ae]-ze[xt],Me!==0)break e;xt+=_,ae+=k}if(Me<0){if(le!==Y)for(Te=S*le,ye=S*Y,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;++Y}else{ae=g+le*S,xt=0;e:for(_e=0;_e<P;++_e){if(xe=E[ae]-Fe[xt],xe!==0)break e;xt+=_,ae+=k}if(xe>0)for(;;){ae=g+V*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-Fe[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie>0){if(--V<le)break;continue}else{ae=g+V*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-ze[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie<0){for(Te=S*le,ye=S*Y,Ae=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,me=Ae+Ct,X=E[ae],E[ae]=E[he],E[he]=E[me],E[me]=X,Ct+=x;++Y,--V}else{for(Te=S*le,ye=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;--V}break}}}}for(Te=S*M,ye=S*(Y-1),xt=0,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,E[ae]=E[he],E[he]=ze[xt],++xt,Ct+=x;for(Te=S*A,ye=S*(V+1),xt=0,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,E[ae]=E[he],E[he]=Fe[xt],++xt,Ct+=x;if(Y-2-M<=32?T(M,Y-2,E,g,S,b,i,P,x,k,_):d(M,Y-2,E,g,S,b,i,P,x,k,_),A-(V+2)<=32?T(V+2,A,E,g,S,b,i,P,x,k,_):d(V+2,A,E,g,S,b,i,P,x,k,_),W){o(ze),o(Fe);return}if(Y<I&&V>z){e:for(;;){for(ae=g+Y*S,xt=0,Ct=g,_e=0;_e<P;++_e){if(E[ae]!==ze[xt])break e;++xt,ae+=x}++Y}e:for(;;){for(ae=g+V*S,xt=0,Ct=g,_e=0;_e<P;++_e){if(E[ae]!==Fe[xt])break e;++xt,ae+=x}--V}for(le=Y;le<=V;++le){ae=g+le*S,xt=0;e:for(_e=0;_e<P;++_e){if(Me=E[ae]-ze[xt],Me!==0)break e;xt+=_,ae+=k}if(Me===0){if(le!==Y)for(Te=S*le,ye=S*Y,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;++Y}else{ae=g+le*S,xt=0;e:for(_e=0;_e<P;++_e){if(xe=E[ae]-Fe[xt],xe!==0)break e;xt+=_,ae+=k}if(xe===0)for(;;){ae=g+V*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-Fe[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie===0){if(--V<le)break;continue}else{ae=g+V*S,xt=0;e:for(_e=0;_e<P;++_e){if(Ie=E[ae]-ze[xt],Ie!==0)break e;xt+=_,ae+=k}if(Ie<0){for(Te=S*le,ye=S*Y,Ae=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,me=Ae+Ct,X=E[ae],E[ae]=E[he],E[he]=E[me],E[me]=X,Ct+=x;++Y,--V}else{for(Te=S*le,ye=S*V,Ct=g,_e=0;_e<P;++_e)ae=Te+Ct,he=ye+Ct,X=E[ae],E[ae]=E[he],E[he]=X,Ct+=x;--V}break}}}}}o(ze),o(Fe),V-Y<=32?T(Y,V,E,g,S,b,i,P,x,k,_):d(Y,V,E,g,S,b,i,P,x,k,_)}}};function u(T,f,o){var d=l(f),M=[f,T].join(","),A=c[M];return T.length>1&&d?A(o,d[0],d[1]):A(o)}var m={"uint32,1,0":function(T,f){return function(o){var d=o.data,M=o.offset|0,A=o.shape,E=o.stride,g=E[0]|0,S=A[0]|0,b=E[1]|0,i=A[1]|0,P=b,x=b,k=1;S<=32?T(0,S-1,d,M,g,b,S,i,P,x,k):f(0,S-1,d,M,g,b,S,i,P,x,k)}}};function h(T,f){var o=[f,T].join(","),d=m[o],M=s(T,f),A=u(T,f,M);return d(M,A)}v.exports=h},8729:function(v,y,t){var r=t(8139),l={};function a(s){var c=s.order,u=s.dtype,m=[c,u],h=m.join(":"),T=l[h];return T||(l[h]=T=r(c,u)),T(s),s}v.exports=a},5050:function(v,y,t){var r=t(4780),l=typeof Float64Array<"u";function a(f,o){return f[0]-o[0]}function s(){var f=this.stride,o=new Array(f.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(f[d]),d];o.sort(a);var M=new Array(o.length);for(d=0;d<M.length;++d)M[d]=o[d][1];return M}var c={T:function(f){function o(M){this.data=M}var d=o.prototype;return d.dtype=f,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(A){return new o(A)}},0:function(f,o){function d(A,E){this.data=A,this.offset=E}var M=d.prototype;return M.dtype=f,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new d(this.data,this.offset)},M.pick=function(){return o(this.data)},M.valueOf=M.get=function(){return f==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(E){return f==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,g,S,b){return new d(E,b)}},1:function(f,o,d){function M(E,g,S,b){this.data=E,this.shape=[g],this.stride=[S],this.offset=b|0}var A=M.prototype;return A.dtype=f,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(g,S){return f==="generic"?this.data.set(this.offset+this.stride[0]*g,S):this.data[this.offset+this.stride[0]*g]=S},A.get=function(g){return f==="generic"?this.data.get(this.offset+this.stride[0]*g):this.data[this.offset+this.stride[0]*g]},A.index=function(g){return this.offset+this.stride[0]*g},A.hi=function(g){return new M(this.data,typeof g!="number"||g<0?this.shape[0]:g|0,this.stride[0],this.offset)},A.lo=function(g){var S=this.offset,b=0,i=this.shape[0],P=this.stride[0];return typeof g=="number"&&g>=0&&(b=g|0,S+=P*b,i-=b),new M(this.data,i,P,S)},A.step=function(g){var S=this.shape[0],b=this.stride[0],i=this.offset,P=0,x=Math.ceil;return typeof g=="number"&&(P=g|0,P<0?(i+=b*(S-1),S=x(-S/P)):S=x(S/P),b*=P),new M(this.data,S,b,i)},A.transpose=function(g){g=g===void 0?0:g|0;var S=this.shape,b=this.stride;return new M(this.data,S[g],b[g],this.offset)},A.pick=function(g){var S=[],b=[],i=this.offset;typeof g=="number"&&g>=0?i=i+this.stride[0]*g|0:(S.push(this.shape[0]),b.push(this.stride[0]));var P=o[S.length+1];return P(this.data,S,b,i)},function(g,S,b,i){return new M(g,S[0],b[0],i)}},2:function(f,o,d){function M(E,g,S,b,i,P){this.data=E,this.shape=[g,S],this.stride=[b,i],this.offset=P|0}var A=M.prototype;return A.dtype=f,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(g,S,b){return f==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*S,b):this.data[this.offset+this.stride[0]*g+this.stride[1]*S]=b},A.get=function(g,S){return f==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*S):this.data[this.offset+this.stride[0]*g+this.stride[1]*S]},A.index=function(g,S){return this.offset+this.stride[0]*g+this.stride[1]*S},A.hi=function(g,S){return new M(this.data,typeof g!="number"||g<0?this.shape[0]:g|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(g,S){var b=this.offset,i=0,P=this.shape[0],x=this.shape[1],k=this.stride[0],_=this.stride[1];return typeof g=="number"&&g>=0&&(i=g|0,b+=k*i,P-=i),typeof S=="number"&&S>=0&&(i=S|0,b+=_*i,x-=i),new M(this.data,P,x,k,_,b)},A.step=function(g,S){var b=this.shape[0],i=this.shape[1],P=this.stride[0],x=this.stride[1],k=this.offset,_=0,B=Math.ceil;return typeof g=="number"&&(_=g|0,_<0?(k+=P*(b-1),b=B(-b/_)):b=B(b/_),P*=_),typeof S=="number"&&(_=S|0,_<0?(k+=x*(i-1),i=B(-i/_)):i=B(i/_),x*=_),new M(this.data,b,i,P,x,k)},A.transpose=function(g,S){g=g===void 0?0:g|0,S=S===void 0?1:S|0;var b=this.shape,i=this.stride;return new M(this.data,b[g],b[S],i[g],i[S],this.offset)},A.pick=function(g,S){var b=[],i=[],P=this.offset;typeof g=="number"&&g>=0?P=P+this.stride[0]*g|0:(b.push(this.shape[0]),i.push(this.stride[0])),typeof S=="number"&&S>=0?P=P+this.stride[1]*S|0:(b.push(this.shape[1]),i.push(this.stride[1]));var x=o[b.length+1];return x(this.data,b,i,P)},function(g,S,b,i){return new M(g,S[0],S[1],b[0],b[1],i)}},3:function(f,o,d){function M(E,g,S,b,i,P,x,k){this.data=E,this.shape=[g,S,b],this.stride=[i,P,x],this.offset=k|0}var A=M.prototype;return A.dtype=f,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var g=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return g>S?S>b?[2,1,0]:g>b?[1,2,0]:[1,0,2]:g>b?[2,0,1]:b>S?[0,1,2]:[0,2,1]}}),A.set=function(g,S,b,i){return f==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b,i):this.data[this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b]=i},A.get=function(g,S,b){return f==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b):this.data[this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b]},A.index=function(g,S,b){return this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b},A.hi=function(g,S,b){return new M(this.data,typeof g!="number"||g<0?this.shape[0]:g|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(g,S,b){var i=this.offset,P=0,x=this.shape[0],k=this.shape[1],_=this.shape[2],B=this.stride[0],I=this.stride[1],z=this.stride[2];return typeof g=="number"&&g>=0&&(P=g|0,i+=B*P,x-=P),typeof S=="number"&&S>=0&&(P=S|0,i+=I*P,k-=P),typeof b=="number"&&b>=0&&(P=b|0,i+=z*P,_-=P),new M(this.data,x,k,_,B,I,z,i)},A.step=function(g,S,b){var i=this.shape[0],P=this.shape[1],x=this.shape[2],k=this.stride[0],_=this.stride[1],B=this.stride[2],I=this.offset,z=0,O=Math.ceil;return typeof g=="number"&&(z=g|0,z<0?(I+=k*(i-1),i=O(-i/z)):i=O(i/z),k*=z),typeof S=="number"&&(z=S|0,z<0?(I+=_*(P-1),P=O(-P/z)):P=O(P/z),_*=z),typeof b=="number"&&(z=b|0,z<0?(I+=B*(x-1),x=O(-x/z)):x=O(x/z),B*=z),new M(this.data,i,P,x,k,_,B,I)},A.transpose=function(g,S,b){g=g===void 0?0:g|0,S=S===void 0?1:S|0,b=b===void 0?2:b|0;var i=this.shape,P=this.stride;return new M(this.data,i[g],i[S],i[b],P[g],P[S],P[b],this.offset)},A.pick=function(g,S,b){var i=[],P=[],x=this.offset;typeof g=="number"&&g>=0?x=x+this.stride[0]*g|0:(i.push(this.shape[0]),P.push(this.stride[0])),typeof S=="number"&&S>=0?x=x+this.stride[1]*S|0:(i.push(this.shape[1]),P.push(this.stride[1])),typeof b=="number"&&b>=0?x=x+this.stride[2]*b|0:(i.push(this.shape[2]),P.push(this.stride[2]));var k=o[i.length+1];return k(this.data,i,P,x)},function(g,S,b,i){return new M(g,S[0],S[1],S[2],b[0],b[1],b[2],i)}},4:function(f,o,d){function M(E,g,S,b,i,P,x,k,_,B){this.data=E,this.shape=[g,S,b,i],this.stride=[P,x,k,_],this.offset=B|0}var A=M.prototype;return A.dtype=f,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:d}),A.set=function(g,S,b,i,P){return f==="generic"?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b+this.stride[3]*i,P):this.data[this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b+this.stride[3]*i]=P},A.get=function(g,S,b,i){return f==="generic"?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b+this.stride[3]*i):this.data[this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b+this.stride[3]*i]},A.index=function(g,S,b,i){return this.offset+this.stride[0]*g+this.stride[1]*S+this.stride[2]*b+this.stride[3]*i},A.hi=function(g,S,b,i){return new M(this.data,typeof g!="number"||g<0?this.shape[0]:g|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(g,S,b,i){var P=this.offset,x=0,k=this.shape[0],_=this.shape[1],B=this.shape[2],I=this.shape[3],z=this.stride[0],O=this.stride[1],F=this.stride[2],N=this.stride[3];return typeof g=="number"&&g>=0&&(x=g|0,P+=z*x,k-=x),typeof S=="number"&&S>=0&&(x=S|0,P+=O*x,_-=x),typeof b=="number"&&b>=0&&(x=b|0,P+=F*x,B-=x),typeof i=="number"&&i>=0&&(x=i|0,P+=N*x,I-=x),new M(this.data,k,_,B,I,z,O,F,N,P)},A.step=function(g,S,b,i){var P=this.shape[0],x=this.shape[1],k=this.shape[2],_=this.shape[3],B=this.stride[0],I=this.stride[1],z=this.stride[2],O=this.stride[3],F=this.offset,N=0,Q=Math.ceil;return typeof g=="number"&&(N=g|0,N<0?(F+=B*(P-1),P=Q(-P/N)):P=Q(P/N),B*=N),typeof S=="number"&&(N=S|0,N<0?(F+=I*(x-1),x=Q(-x/N)):x=Q(x/N),I*=N),typeof b=="number"&&(N=b|0,N<0?(F+=z*(k-1),k=Q(-k/N)):k=Q(k/N),z*=N),typeof i=="number"&&(N=i|0,N<0?(F+=O*(_-1),_=Q(-_/N)):_=Q(_/N),O*=N),new M(this.data,P,x,k,_,B,I,z,O,F)},A.transpose=function(g,S,b,i){g=g===void 0?0:g|0,S=S===void 0?1:S|0,b=b===void 0?2:b|0,i=i===void 0?3:i|0;var P=this.shape,x=this.stride;return new M(this.data,P[g],P[S],P[b],P[i],x[g],x[S],x[b],x[i],this.offset)},A.pick=function(g,S,b,i){var P=[],x=[],k=this.offset;typeof g=="number"&&g>=0?k=k+this.stride[0]*g|0:(P.push(this.shape[0]),x.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(P.push(this.shape[1]),x.push(this.stride[1])),typeof b=="number"&&b>=0?k=k+this.stride[2]*b|0:(P.push(this.shape[2]),x.push(this.stride[2])),typeof i=="number"&&i>=0?k=k+this.stride[3]*i|0:(P.push(this.shape[3]),x.push(this.stride[3]));var _=o[P.length+1];return _(this.data,P,x,k)},function(g,S,b,i){return new M(g,S[0],S[1],S[2],S[3],b[0],b[1],b[2],b[3],i)}},5:function(o,d,M){function A(g,S,b,i,P,x,k,_,B,I,z,O){this.data=g,this.shape=[S,b,i,P,x],this.stride=[k,_,B,I,z],this.offset=O|0}var E=A.prototype;return E.dtype=o,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:M}),E.set=function(S,b,i,P,x,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*i+this.stride[3]*P+this.stride[4]*x,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*i+this.stride[3]*P+this.stride[4]*x]=k},E.get=function(S,b,i,P,x){return o==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*i+this.stride[3]*P+this.stride[4]*x):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*i+this.stride[3]*P+this.stride[4]*x]},E.index=function(S,b,i,P,x){return this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*i+this.stride[3]*P+this.stride[4]*x},E.hi=function(S,b,i,P,x){return new A(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof P!="number"||P<0?this.shape[3]:P|0,typeof x!="number"||x<0?this.shape[4]:x|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(S,b,i,P,x){var k=this.offset,_=0,B=this.shape[0],I=this.shape[1],z=this.shape[2],O=this.shape[3],F=this.shape[4],N=this.stride[0],Q=this.stride[1],$=this.stride[2],j=this.stride[3],ee=this.stride[4];return typeof S=="number"&&S>=0&&(_=S|0,k+=N*_,B-=_),typeof b=="number"&&b>=0&&(_=b|0,k+=Q*_,I-=_),typeof i=="number"&&i>=0&&(_=i|0,k+=$*_,z-=_),typeof P=="number"&&P>=0&&(_=P|0,k+=j*_,O-=_),typeof x=="number"&&x>=0&&(_=x|0,k+=ee*_,F-=_),new A(this.data,B,I,z,O,F,N,Q,$,j,ee,k)},E.step=function(S,b,i,P,x){var k=this.shape[0],_=this.shape[1],B=this.shape[2],I=this.shape[3],z=this.shape[4],O=this.stride[0],F=this.stride[1],N=this.stride[2],Q=this.stride[3],$=this.stride[4],j=this.offset,ee=0,oe=Math.ceil;return typeof S=="number"&&(ee=S|0,ee<0?(j+=O*(k-1),k=oe(-k/ee)):k=oe(k/ee),O*=ee),typeof b=="number"&&(ee=b|0,ee<0?(j+=F*(_-1),_=oe(-_/ee)):_=oe(_/ee),F*=ee),typeof i=="number"&&(ee=i|0,ee<0?(j+=N*(B-1),B=oe(-B/ee)):B=oe(B/ee),N*=ee),typeof P=="number"&&(ee=P|0,ee<0?(j+=Q*(I-1),I=oe(-I/ee)):I=oe(I/ee),Q*=ee),typeof x=="number"&&(ee=x|0,ee<0?(j+=$*(z-1),z=oe(-z/ee)):z=oe(z/ee),$*=ee),new A(this.data,k,_,B,I,z,O,F,N,Q,$,j)},E.transpose=function(S,b,i,P,x){S=S===void 0?0:S|0,b=b===void 0?1:b|0,i=i===void 0?2:i|0,P=P===void 0?3:P|0,x=x===void 0?4:x|0;var k=this.shape,_=this.stride;return new A(this.data,k[S],k[b],k[i],k[P],k[x],_[S],_[b],_[i],_[P],_[x],this.offset)},E.pick=function(S,b,i,P,x){var k=[],_=[],B=this.offset;typeof S=="number"&&S>=0?B=B+this.stride[0]*S|0:(k.push(this.shape[0]),_.push(this.stride[0])),typeof b=="number"&&b>=0?B=B+this.stride[1]*b|0:(k.push(this.shape[1]),_.push(this.stride[1])),typeof i=="number"&&i>=0?B=B+this.stride[2]*i|0:(k.push(this.shape[2]),_.push(this.stride[2])),typeof P=="number"&&P>=0?B=B+this.stride[3]*P|0:(k.push(this.shape[3]),_.push(this.stride[3])),typeof x=="number"&&x>=0?B=B+this.stride[4]*x|0:(k.push(this.shape[4]),_.push(this.stride[4]));var I=d[k.length+1];return I(this.data,k,_,B)},function(S,b,i,P){return new A(S,b[0],b[1],b[2],b[3],b[4],i[0],i[1],i[2],i[3],i[4],P)}}};function u(f,o){var d=o===-1?"T":String(o),M=c[d];return o===-1?M(f):o===0?M(f,h[f][0]):M(f,h[f],s)}function m(f){if(r(f))return"buffer";if(l)switch(Object.prototype.toString.call(f)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(f)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(f,o,d,M){if(f===void 0){var i=h.array[0];return i([])}else typeof f=="number"&&(f=[f]);o===void 0&&(o=[f.length]);var A=o.length;if(d===void 0){d=new Array(A);for(var E=A-1,g=1;E>=0;--E)d[E]=g,g*=o[E]}if(M===void 0){M=0;for(var E=0;E<A;++E)d[E]<0&&(M-=(o[E]-1)*d[E])}for(var S=m(f),b=h[S];b.length<=A+1;)b.push(u(S,b.length-1));var i=b[A+1];return i(f,o,d,M)}v.exports=T},8551:function(v,y,t){var r=t(8362),l=Math.pow(2,-1074),a=-1>>>0;v.exports=s;function s(c,u){if(isNaN(c)||isNaN(u))return NaN;if(c===u)return c;if(c===0)return u<0?-l:l;var m=r.hi(c),h=r.lo(c);return u>c==c>0?h===a?(m+=1,h=0):h+=1:h===0?(h=a,m-=1):h-=1,r.pack(h,m)}},115:function(v,y){var t=1e-6,r=1e-6;y.vertexNormals=function(l,a,s){for(var c=a.length,u=new Array(c),m=s===void 0?t:s,h=0;h<c;++h)u[h]=[0,0,0];for(var h=0;h<l.length;++h)for(var T=l[h],f=0,o=T[T.length-1],d=T[0],M=0;M<T.length;++M){f=o,o=d,d=T[(M+1)%T.length];for(var A=a[f],E=a[o],g=a[d],S=new Array(3),b=0,i=new Array(3),P=0,x=0;x<3;++x)S[x]=A[x]-E[x],b+=S[x]*S[x],i[x]=g[x]-E[x],P+=i[x]*i[x];if(b*P>m)for(var k=u[o],_=1/Math.sqrt(b*P),x=0;x<3;++x){var B=(x+1)%3,I=(x+2)%3;k[x]+=_*(i[B]*S[I]-i[I]*S[B])}}for(var h=0;h<c;++h){for(var k=u[h],z=0,x=0;x<3;++x)z+=k[x]*k[x];if(z>m)for(var _=1/Math.sqrt(z),x=0;x<3;++x)k[x]*=_;else for(var x=0;x<3;++x)k[x]=0}return u},y.faceNormals=function(l,a,s){for(var c=l.length,u=new Array(c),m=s===void 0?r:s,h=0;h<c;++h){for(var T=l[h],f=new Array(3),o=0;o<3;++o)f[o]=a[T[o]];for(var d=new Array(3),M=new Array(3),o=0;o<3;++o)d[o]=f[1][o]-f[0][o],M[o]=f[2][o]-f[0][o];for(var A=new Array(3),E=0,o=0;o<3;++o){var g=(o+1)%3,S=(o+2)%3;A[o]=d[g]*M[S]-d[S]*M[g],E+=A[o]*A[o]}E>m?E=1/Math.sqrt(E):E=0;for(var o=0;o<3;++o)A[o]*=E;u[h]=A}return u}},567:function(v){v.exports=y;function y(t,r,l,a,s,c,u,m,h,T){var f=r+c+T;if(o>0){var o=Math.sqrt(f+1);t[0]=.5*(u-h)/o,t[1]=.5*(m-a)/o,t[2]=.5*(l-c)/o,t[3]=.5*o}else{var d=Math.max(r,c,T),o=Math.sqrt(2*d-f+1);r>=d?(t[0]=.5*o,t[1]=.5*(s+l)/o,t[2]=.5*(m+a)/o,t[3]=.5*(u-h)/o):c>=d?(t[0]=.5*(l+s)/o,t[1]=.5*o,t[2]=.5*(h+u)/o,t[3]=.5*(m-a)/o):(t[0]=.5*(a+m)/o,t[1]=.5*(u+h)/o,t[2]=.5*o,t[3]=.5*(l-s)/o)}return t}},7774:function(v,y,t){v.exports=o;var r=t(8444),l=t(3012),a=t(5950),s=t(7437),c=t(567);function u(d,M,A){return Math.sqrt(Math.pow(d,2)+Math.pow(M,2)+Math.pow(A,2))}function m(d,M,A,E){return Math.sqrt(Math.pow(d,2)+Math.pow(M,2)+Math.pow(A,2)+Math.pow(E,2))}function h(d,M){var A=M[0],E=M[1],g=M[2],S=M[3],b=m(A,E,g,S);b>1e-6?(d[0]=A/b,d[1]=E/b,d[2]=g/b,d[3]=S/b):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,M,A){this.radius=r([A]),this.center=r(M),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=T.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var M=this.computedRotation;h(M,M);var A=this.computedMatrix;a(A,M);var E=this.computedCenter,g=this.computedEye,S=this.computedUp,b=Math.exp(this.computedRadius[0]);g[0]=E[0]+b*A[2],g[1]=E[1]+b*A[6],g[2]=E[2]+b*A[10],S[0]=A[1],S[1]=A[5],S[2]=A[9];for(var i=0;i<3;++i){for(var P=0,x=0;x<3;++x)P+=A[i+4*x]*g[x];A[12+i]=-P}},f.getMatrix=function(d,M){this.recalcMatrix(d);var A=this.computedMatrix;if(M){for(var E=0;E<16;++E)M[E]=A[E];return M}return A},f.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},f.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},f.pan=function(d,M,A,E){M=M||0,A=A||0,E=E||0,this.recalcMatrix(d);var g=this.computedMatrix,S=g[1],b=g[5],i=g[9],P=u(S,b,i);S/=P,b/=P,i/=P;var x=g[0],k=g[4],_=g[8],B=x*S+k*b+_*i;x-=S*B,k-=b*B,_-=i*B;var I=u(x,k,_);x/=I,k/=I,_/=I,g[2],g[6],g[10];var z=x*M+S*A,O=k*M+b*A,F=_*M+i*A;this.center.move(d,z,O,F);var N=Math.exp(this.computedRadius[0]);N=Math.max(1e-4,N+E),this.radius.set(d,Math.log(N))},f.rotate=function(d,M,A,E){this.recalcMatrix(d),M=M||0,A=A||0;var g=this.computedMatrix,S=g[0],b=g[4],i=g[8],P=g[1],x=g[5],k=g[9],_=g[2],B=g[6],I=g[10],z=M*S+A*P,O=M*b+A*x,F=M*i+A*k,N=-(B*F-I*O),Q=-(I*z-_*F),$=-(_*O-B*z),j=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(Q,2)-Math.pow($,2))),ee=m(N,Q,$,j);ee>1e-6?(N/=ee,Q/=ee,$/=ee,j/=ee):(N=Q=$=0,j=1);var oe=this.computedRotation,Y=oe[0],V=oe[1],W=oe[2],X=oe[3],re=Y*j+X*N+V*$-W*Q,ie=V*j+X*Q+W*N-Y*$,K=W*j+X*$+Y*Q-V*N,q=X*j-Y*N-V*Q-W*$;if(E){N=_,Q=B,$=I;var le=Math.sin(E)/u(N,Q,$);N*=le,Q*=le,$*=le,j=Math.cos(M),re=re*j+q*N+ie*$-K*Q,ie=ie*j+q*Q+K*N-re*$,K=K*j+q*$+re*Q-ie*N,q=q*j-re*N-ie*Q-K*$}var ae=m(re,ie,K,q);ae>1e-6?(re/=ae,ie/=ae,K/=ae,q/=ae):(re=ie=K=0,q=1),this.rotation.set(d,re,ie,K,q)},f.lookAt=function(d,M,A,E){this.recalcMatrix(d),A=A||this.computedCenter,M=M||this.computedEye,E=E||this.computedUp;var g=this.computedMatrix;l(g,M,A,E);var S=this.computedRotation;c(S,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var b=0,i=0;i<3;++i)b+=Math.pow(A[i]-M[i],2);this.radius.set(d,.5*Math.log(Math.max(b,1e-6))),this.center.set(d,A[0],A[1],A[2])},f.translate=function(d,M,A,E){this.center.move(d,M||0,A||0,E||0)},f.setMatrix=function(d,M){var A=this.computedRotation;c(A,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),h(A,A),this.rotation.set(d,A[0],A[1],A[2],A[3]);var E=this.computedMatrix;s(E,M);var g=E[15];if(Math.abs(g)>1e-6){var S=E[12]/g,b=E[13]/g,i=E[14]/g;this.recalcMatrix(d);var P=Math.exp(this.computedRadius[0]);this.center.set(d,S-E[2]*P,b-E[6]*P,i-E[10]*P),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},f.setDistance=function(d,M){M>0&&this.radius.set(d,Math.log(M))},f.setDistanceLimits=function(d,M){d>0?d=Math.log(d):d=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=M},f.getDistanceLimits=function(d){var M=this.radius.bounds;return d?(d[0]=Math.exp(M[0][0]),d[1]=Math.exp(M[1][0]),d):[Math.exp(M[0][0]),Math.exp(M[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(d){var M=this.lastT(),A=d.center;A&&this.center.set(M,A[0],A[1],A[2]);var E=d.rotation;E&&this.rotation.set(M,E[0],E[1],E[2],E[3]);var g=d.distance;g&&g>0&&this.radius.set(M,Math.log(g)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var M=d.center||[0,0,0],A=d.rotation||[0,0,0,1],E=d.radius||1;M=[].slice.call(M,0,3),A=[].slice.call(A,0,4),h(A,A);var g=new T(A,M,Math.log(E));return g.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&g.lookAt(0,d.eye,d.center,d.up),g}},4930:function(v,y,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(a,s,c){return c=typeof c<"u"?c+"":" ",r(c,s)+a}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var l=parseFloat(t,10);return r[0]=l,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,y,t){v.exports=l;var r=t(9398);function l(a,s){for(var c=s.length|0,u=a.length,m=[new Array(c),new Array(c)],h=0;h<c;++h)m[0][h]=[],m[1][h]=[];for(var h=0;h<u;++h){var T=a[h];m[0][T[0]].push(T),m[1][T[1]].push(T)}for(var f=[],h=0;h<c;++h)m[0][h].length+m[1][h].length===0&&f.push([h]);function o(b,i){var P=m[i][b[i]];P.splice(P.indexOf(b),1)}function d(b,i,P){for(var x,k,_,B=0;B<2;++B)if(m[B][i].length>0){x=m[B][i][0],_=B;break}k=x[_^1];for(var I=0;I<2;++I)for(var z=m[I][i],O=0;O<z.length;++O){var F=z[O],N=F[I^1],Q=r(s[b],s[i],s[k],s[N]);Q>0&&(x=F,k=N,_=I)}return P||x&&o(x,_),k}function M(b,i){var P=m[i][b][0],x=[b];o(P,i);for(var k=P[i^1];;){for(;k!==b;)x.push(k),k=d(x[x.length-2],k,!1);if(m[0][b].length+m[1][b].length===0)break;var _=x[x.length-1],B=b,I=x[1],z=d(_,B,!0);if(r(s[_],s[B],s[I],s[z])<0)break;x.push(b),k=d(_,B)}return x}function A(b,i){return i[1]===i[i.length-1]}for(var h=0;h<c;++h)for(var E=0;E<2;++E){for(var g=[];m[E][h].length>0;){m[0][h].length;var S=M(h,E);A(g,S)?g.push.apply(g,S):(g.length>0&&f.push(g),g=S)}g.length>0&&f.push(g)}return f}},3959:function(v,y,t){v.exports=l;var r=t(8348);function l(a,s){for(var c=r(a,s.length),u=new Array(s.length),m=new Array(s.length),h=[],T=0;T<s.length;++T){var f=c[T].length;m[T]=f,u[T]=!0,f<=1&&h.push(T)}for(;h.length>0;){var o=h.pop();u[o]=!1;for(var d=c[o],T=0;T<d.length;++T){var M=d[T];--m[M]===0&&h.push(M)}}for(var A=new Array(s.length),E=[],T=0;T<s.length;++T)if(u[T]){var o=E.length;A[T]=o,E.push(s[T])}else A[T]=-1;for(var g=[],T=0;T<a.length;++T){var S=a[T];u[S[0]]&&u[S[1]]&&g.push([A[S[0]],A[S[1]]])}return[g,E]}},8040:function(v,y,t){v.exports=f;var r=t(8348),l=t(4166),a=t(211),s=t(9660),c=t(9662),u=t(1215),m=t(3959);function h(o,d){for(var M=new Array(o),A=0;A<o;++A)M[A]=d;return M}function T(o){for(var d=new Array(o),M=0;M<o;++M)d[M]=[];return d}function f(o,d){var q=m(o,d);o=q[0],d=q[1];var M=d.length;o.length;for(var A=r(o,d.length),E=0;E<M;++E)if(A[E].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var g=l(o,d);function S(Ie){for(var _e=Ie.length,Te=[0],ye=0;ye<_e;++ye){var Ae=d[Ie[ye]],Be=d[Ie[(ye+1)%_e]],Ue=s(-Ae[0],Ae[1]),De=s(-Ae[0],Be[1]),He=s(Be[0],Ae[1]),ut=s(Be[0],Be[1]);Te=c(Te,c(c(Ue,De),c(He,ut)))}return Te[Te.length-1]>0}g=g.filter(S);for(var b=g.length,i=new Array(b),P=new Array(b),E=0;E<b;++E){i[E]=E;var x=new Array(b),k=g[E].map(function(_e){return d[_e]}),_=a([k]),B=0;e:for(var I=0;I<b;++I)if(x[I]=0,E!==I){for(var z=g[I],O=z.length,F=0;F<O;++F){var N=_(d[z[F]]);if(N!==0){N<0&&(x[I]=1,B+=1);continue e}}x[I]=1,B+=1}P[E]=[B,E,x]}P.sort(function(Ie,_e){return _e[0]-Ie[0]});for(var E=0;E<b;++E)for(var x=P[E],Q=x[1],$=x[2],I=0;I<b;++I)$[I]&&(i[I]=Q);for(var j=T(b),E=0;E<b;++E)j[E].push(i[E]),j[i[E]].push(E);for(var ee={},oe=h(M,!1),E=0;E<b;++E)for(var z=g[E],O=z.length,I=0;I<O;++I){var Y=z[I],V=z[(I+1)%O],W=Math.min(Y,V)+":"+Math.max(Y,V);if(W in ee){var X=ee[W];j[X].push(E),j[E].push(X),oe[Y]=oe[V]=!0}else ee[W]=E}function re(Ie){for(var _e=Ie.length,Te=0;Te<_e;++Te)if(!oe[Ie[Te]])return!1;return!0}for(var ie=[],K=h(b,-1),E=0;E<b;++E)i[E]===E&&!re(g[E])?(ie.push(E),K[E]=0):K[E]=-1;for(var q=[];ie.length>0;){var le=ie.pop(),ae=j[le];u(ae,function(Ie,_e){return Ie-_e});var he=ae.length,me=K[le],Me;if(me===0){var z=g[le];Me=[z]}for(var E=0;E<he;++E){var xe=ae[E];if(!(K[xe]>=0)&&(K[xe]=me^1,ie.push(xe),me===0)){var z=g[xe];re(z)||(z.reverse(),Me.push(z))}}me===0&&q.push(Me)}return q}},211:function(v,y,t){v.exports=d;var r=t(417)[3],l=t(4385),a=t(9014),s=t(5070);function c(){return!0}function u(M){return function(A,E){var g=M[A];return g?!!g.queryPoint(E,c):!1}}function m(M){for(var A={},E=0;E<M.length;++E){var g=M[E],S=g[0][0],b=g[0][1],i=g[1][1],P=[Math.min(b,i),Math.max(b,i)];S in A?A[S].push(P):A[S]=[P]}for(var x={},k=Object.keys(A),E=0;E<k.length;++E){var _=A[k[E]];x[k[E]]=a(_)}return u(x)}function h(M,A){return function(E){var g=s.le(A,E[0]);if(g<0)return 1;var S=M[g];if(!S)if(g>0&&A[g]===E[0])S=M[g-1];else return 1;for(var b=1;S;){var i=S.key,P=r(E,i[0],i[1]);if(i[0][0]<i[1][0])if(P<0)S=S.left;else if(P>0)b=-1,S=S.right;else return 0;else if(P>0)S=S.left;else if(P<0)b=1,S=S.right;else return 0}return b}}function T(M){return 1}function f(M){return function(E){return M(E[0],E[1])?0:1}}function o(M,A){return function(g){return M(g[0],g[1])?0:A(g)}}function d(M){for(var A=M.length,E=[],g=[],S=0;S<A;++S)for(var b=M[S],i=b.length,P=i-1,x=0;x<i;P=x++){var k=b[P],_=b[x];k[0]===_[0]?g.push([k,_]):E.push([k,_])}if(E.length===0)return g.length===0?T:f(m(g));var B=l(E),I=h(B.slabs,B.coordinates);return g.length===0?I:o(m(g),I)}},7309:function(v){var y=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function l(a,s,c,u,m){y.length<u.length&&(y=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var h=0;h<u.length;++h)y[h]=a[h]-u[h],t[h]=s[h]-a[h],r[h]=c[h]-a[h];for(var T=0,f=0,o=0,d=0,M=0,A=0,h=0;h<u.length;++h){var E=t[h],g=r[h],S=y[h];T+=E*E,f+=E*g,o+=g*g,d+=S*E,M+=S*g,A+=S*S}var b=Math.abs(T*o-f*f),i=f*M-o*d,P=f*d-T*M,x;if(i+P<=b)if(i<0)P<0&&d<0?(P=0,-d>=T?(i=1,x=T+2*d+A):(i=-d/T,x=d*i+A)):(i=0,M>=0?(P=0,x=A):-M>=o?(P=1,x=o+2*M+A):(P=-M/o,x=M*P+A));else if(P<0)P=0,d>=0?(i=0,x=A):-d>=T?(i=1,x=T+2*d+A):(i=-d/T,x=d*i+A);else{var k=1/b;i*=k,P*=k,x=i*(T*i+f*P+2*d)+P*(f*i+o*P+2*M)+A}else{var _,B,I,z;i<0?(_=f+d,B=o+M,B>_?(I=B-_,z=T-2*f+o,I>=z?(i=1,P=0,x=T+2*d+A):(i=I/z,P=1-i,x=i*(T*i+f*P+2*d)+P*(f*i+o*P+2*M)+A)):(i=0,B<=0?(P=1,x=o+2*M+A):M>=0?(P=0,x=A):(P=-M/o,x=M*P+A))):P<0?(_=f+M,B=T+d,B>_?(I=B-_,z=T-2*f+o,I>=z?(P=1,i=0,x=o+2*M+A):(P=I/z,i=1-P,x=i*(T*i+f*P+2*d)+P*(f*i+o*P+2*M)+A)):(P=0,B<=0?(i=1,x=T+2*d+A):d>=0?(i=0,x=A):(i=-d/T,x=d*i+A))):(I=o+M-f-d,I<=0?(i=0,P=1,x=o+2*M+A):(z=T-2*f+o,I>=z?(i=1,P=0,x=T+2*d+A):(i=I/z,P=1-i,x=i*(T*i+f*P+2*d)+P*(f*i+o*P+2*M)+A)))}for(var O=1-i-P,h=0;h<u.length;++h)m[h]=O*a[h]+i*s[h]+P*c[h];return x<0?0:x}v.exports=l},1116:function(v,y,t){v.exports=t(6093)},7584:function(v,y,t){var r=t(1539);v.exports=l;function l(a,s){for(var c=a.length,u=new Array(c),m=0;m<c;++m)u[m]=r(a[m],s[m]);return u}},2826:function(v,y,t){v.exports=l;var r=t(5125);function l(a){for(var s=new Array(a.length),c=0;c<a.length;++c)s[c]=r(a[c]);return s}},4469:function(v,y,t){var r=t(5125),l=t(3962);v.exports=a;function a(s,c){for(var u=r(c),m=s.length,h=new Array(m),T=0;T<m;++T)h[T]=l(s[T],u);return h}},6695:function(v,y,t){var r=t(4354);v.exports=l;function l(a,s){for(var c=a.length,u=new Array(c),m=0;m<c;++m)u[m]=r(a[m],s[m]);return u}},7037:function(v,y,t){var r=t(9209),l=t(1284),a=t(9887);v.exports=s;function s(c){c.sort(l);for(var u=c.length,m=0,h=0;h<u;++h){var T=c[h],f=a(T);if(f!==0){if(m>0){var o=c[m-1];if(r(T,o)===0&&a(o)!==f){m-=1;continue}}c[m++]=T}}return c.length=m,c}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var y="",t;v.exports=r;function r(l,a){if(typeof l!="string")throw new TypeError("expected a string");if(a===1)return l;if(a===2)return l+l;var s=l.length*a;if(t!==l||typeof t>"u")t=l,y="";else if(y.length>=s)return y.substr(0,s);for(;s>y.length&&a>1;)a&1&&(y+=l),a>>=1,l+=l;return y+=l,y=y.substr(0,s),y}},8161:function(v,y,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=y;function y(t){for(var r=t.length,l=t[t.length-1],a=r,s=r-2;s>=0;--s){var c=l,u=t[s];l=c+u;var m=l-c,h=u-m;h&&(t[--a]=l,l=h)}for(var T=0,s=a;s<r;++s){var c=t[s],u=l;l=c+u;var m=l-c,h=u-m;h&&(t[T++]=h)}return t[T++]=l,t.length=T,t}},8167:function(v,y,t){var r=t(9660),l=t(9662),a=t(8289),s=t(402),c=6;function u(A,E,g,S){return function(i){return S(A(g(i[0][0],i[1][1]),g(-i[0][1],i[1][0])))}}function m(A,E,g,S){return function(i){return S(A(E(A(g(i[1][1],i[2][2]),g(-i[1][2],i[2][1])),i[0][0]),A(E(A(g(i[1][0],i[2][2]),g(-i[1][2],i[2][0])),-i[0][1]),E(A(g(i[1][0],i[2][1]),g(-i[1][1],i[2][0])),i[0][2]))))}}function h(A,E,g,S){return function(i){return S(A(A(E(A(E(A(g(i[2][2],i[3][3]),g(-i[2][3],i[3][2])),i[1][1]),A(E(A(g(i[2][1],i[3][3]),g(-i[2][3],i[3][1])),-i[1][2]),E(A(g(i[2][1],i[3][2]),g(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),E(A(E(A(g(i[2][2],i[3][3]),g(-i[2][3],i[3][2])),i[1][0]),A(E(A(g(i[2][0],i[3][3]),g(-i[2][3],i[3][0])),-i[1][2]),E(A(g(i[2][0],i[3][2]),g(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),A(E(A(E(A(g(i[2][1],i[3][3]),g(-i[2][3],i[3][1])),i[1][0]),A(E(A(g(i[2][0],i[3][3]),g(-i[2][3],i[3][0])),-i[1][1]),E(A(g(i[2][0],i[3][1]),g(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),E(A(E(A(g(i[2][1],i[3][2]),g(-i[2][2],i[3][1])),i[1][0]),A(E(A(g(i[2][0],i[3][2]),g(-i[2][2],i[3][0])),-i[1][1]),E(A(g(i[2][0],i[3][1]),g(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function T(A,E,g,S){return function(i){return S(A(A(E(A(A(E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][2]),A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),-i[2][3]),E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][1]),A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),-i[2][3]),E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),A(E(A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),i[2][1]),A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),-i[2][2]),E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),E(A(E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][1]),A(E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),-i[2][2]),E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),E(A(A(E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][2]),A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),-i[2][3]),E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][3]),E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),A(E(A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][2]),E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),E(A(E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][0]),A(E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),-i[2][2]),E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),A(E(A(A(E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][1]),A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),-i[2][3]),E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),E(A(E(A(g(i[3][3],i[4][4]),g(-i[3][4],i[4][3])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][3]),E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),A(E(A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),E(A(E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),A(E(A(A(E(A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),i[2][1]),A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),-i[2][2]),E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),E(A(E(A(g(i[3][2],i[4][4]),g(-i[3][4],i[4][2])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][2]),E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),A(E(A(E(A(g(i[3][1],i[4][4]),g(-i[3][4],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][4]),g(-i[3][4],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),E(A(E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),E(A(A(E(A(E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][1]),A(E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),-i[2][2]),E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),E(A(E(A(g(i[3][2],i[4][3]),g(-i[3][3],i[4][2])),i[2][0]),A(E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),-i[2][2]),E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),A(E(A(E(A(g(i[3][1],i[4][3]),g(-i[3][3],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][3]),g(-i[3][3],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),E(A(E(A(g(i[3][1],i[4][2]),g(-i[3][2],i[4][1])),i[2][0]),A(E(A(g(i[3][0],i[4][2]),g(-i[3][2],i[4][0])),-i[2][1]),E(A(g(i[3][0],i[4][1]),g(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function f(A){var E=A===2?u:A===3?m:A===4?h:A===5?T:void 0;return E(l,a,r,s)}var o=[function(){return[0]},function(E){return[E[0][0]]}];function d(A,E,g,S,b,i,P,x){return function(_){switch(_.length){case 0:return A(_);case 1:return E(_);case 2:return g(_);case 3:return S(_);case 4:return b(_);case 5:return i(_)}var B=P[_.length];return B||(B=P[_.length]=x(_.length)),B(_)}}function M(){for(;o.length<c;)o.push(f(o.length));v.exports=d.apply(void 0,o.concat([o,f]));for(var A=0;A<o.length;++A)v.exports[A]=o[A]}M()},9130:function(v,y,t){var r=t(9660),l=t(9662);v.exports=a;function a(s,c){for(var u=r(s[0],c[0]),m=1;m<s.length;++m)u=l(u,r(s[m],c[m]));return u}},2227:function(v,y,t){var r=t(9660),l=t(9662),a=t(4078),s=t(8289),c=6;function u(b){var i=b===3?f:b===4?o:b===5?d:M;return i(l,a,r,s)}function m(){return 0}function h(){return 0}function T(){return 0}function f(b,i,P,x){function k(_,B,I){var z=P(_[0],_[0]),O=x(z,B[0]),F=x(z,I[0]),N=P(B[0],B[0]),Q=x(N,_[0]),$=x(N,I[0]),j=P(I[0],I[0]),ee=x(j,_[0]),oe=x(j,B[0]),Y=b(i(oe,$),i(Q,O)),V=i(ee,F),W=i(Y,V);return W[W.length-1]}return k}function o(b,i,P,x){function k(_,B,I,z){var O=b(P(_[0],_[0]),P(_[1],_[1])),F=x(O,B[0]),N=x(O,I[0]),Q=x(O,z[0]),$=b(P(B[0],B[0]),P(B[1],B[1])),j=x($,_[0]),ee=x($,I[0]),oe=x($,z[0]),Y=b(P(I[0],I[0]),P(I[1],I[1])),V=x(Y,_[0]),W=x(Y,B[0]),X=x(Y,z[0]),re=b(P(z[0],z[0]),P(z[1],z[1])),ie=x(re,_[0]),K=x(re,B[0]),q=x(re,I[0]),le=b(b(x(i(q,X),B[1]),b(x(i(K,oe),-I[1]),x(i(W,ee),z[1]))),b(x(i(K,oe),_[1]),b(x(i(ie,Q),-B[1]),x(i(j,F),z[1])))),ae=b(b(x(i(q,X),_[1]),b(x(i(ie,Q),-I[1]),x(i(V,N),z[1]))),b(x(i(W,ee),_[1]),b(x(i(V,N),-B[1]),x(i(j,F),I[1])))),he=i(le,ae);return he[he.length-1]}return k}function d(b,i,P,x){function k(_,B,I,z,O){var F=b(P(_[0],_[0]),b(P(_[1],_[1]),P(_[2],_[2]))),N=x(F,B[0]),Q=x(F,I[0]),$=x(F,z[0]),j=x(F,O[0]),ee=b(P(B[0],B[0]),b(P(B[1],B[1]),P(B[2],B[2]))),oe=x(ee,_[0]),Y=x(ee,I[0]),V=x(ee,z[0]),W=x(ee,O[0]),X=b(P(I[0],I[0]),b(P(I[1],I[1]),P(I[2],I[2]))),re=x(X,_[0]),ie=x(X,B[0]),K=x(X,z[0]),q=x(X,O[0]),le=b(P(z[0],z[0]),b(P(z[1],z[1]),P(z[2],z[2]))),ae=x(le,_[0]),he=x(le,B[0]),me=x(le,I[0]),Me=x(le,O[0]),xe=b(P(O[0],O[0]),b(P(O[1],O[1]),P(O[2],O[2]))),Ie=x(xe,_[0]),_e=x(xe,B[0]),Te=x(xe,I[0]),ye=x(xe,z[0]),Ae=b(b(b(x(b(x(i(ye,Me),I[1]),b(x(i(Te,q),-z[1]),x(i(me,K),O[1]))),B[2]),b(x(b(x(i(ye,Me),B[1]),b(x(i(_e,W),-z[1]),x(i(he,V),O[1]))),-I[2]),x(b(x(i(Te,q),B[1]),b(x(i(_e,W),-I[1]),x(i(ie,Y),O[1]))),z[2]))),b(x(b(x(i(me,K),B[1]),b(x(i(he,V),-I[1]),x(i(ie,Y),z[1]))),-O[2]),b(x(b(x(i(ye,Me),B[1]),b(x(i(_e,W),-z[1]),x(i(he,V),O[1]))),_[2]),x(b(x(i(ye,Me),_[1]),b(x(i(Ie,j),-z[1]),x(i(ae,$),O[1]))),-B[2])))),b(b(x(b(x(i(_e,W),_[1]),b(x(i(Ie,j),-B[1]),x(i(oe,N),O[1]))),z[2]),b(x(b(x(i(he,V),_[1]),b(x(i(ae,$),-B[1]),x(i(oe,N),z[1]))),-O[2]),x(b(x(i(me,K),B[1]),b(x(i(he,V),-I[1]),x(i(ie,Y),z[1]))),_[2]))),b(x(b(x(i(me,K),_[1]),b(x(i(ae,$),-I[1]),x(i(re,Q),z[1]))),-B[2]),b(x(b(x(i(he,V),_[1]),b(x(i(ae,$),-B[1]),x(i(oe,N),z[1]))),I[2]),x(b(x(i(ie,Y),_[1]),b(x(i(re,Q),-B[1]),x(i(oe,N),I[1]))),-z[2]))))),Be=b(b(b(x(b(x(i(ye,Me),I[1]),b(x(i(Te,q),-z[1]),x(i(me,K),O[1]))),_[2]),x(b(x(i(ye,Me),_[1]),b(x(i(Ie,j),-z[1]),x(i(ae,$),O[1]))),-I[2])),b(x(b(x(i(Te,q),_[1]),b(x(i(Ie,j),-I[1]),x(i(re,Q),O[1]))),z[2]),x(b(x(i(me,K),_[1]),b(x(i(ae,$),-I[1]),x(i(re,Q),z[1]))),-O[2]))),b(b(x(b(x(i(Te,q),B[1]),b(x(i(_e,W),-I[1]),x(i(ie,Y),O[1]))),_[2]),x(b(x(i(Te,q),_[1]),b(x(i(Ie,j),-I[1]),x(i(re,Q),O[1]))),-B[2])),b(x(b(x(i(_e,W),_[1]),b(x(i(Ie,j),-B[1]),x(i(oe,N),O[1]))),I[2]),x(b(x(i(ie,Y),_[1]),b(x(i(re,Q),-B[1]),x(i(oe,N),I[1]))),-O[2])))),Ue=i(Ae,Be);return Ue[Ue.length-1]}return k}function M(b,i,P,x){function k(_,B,I,z,O,F){var N=b(b(P(_[0],_[0]),P(_[1],_[1])),b(P(_[2],_[2]),P(_[3],_[3]))),Q=x(N,B[0]),$=x(N,I[0]),j=x(N,z[0]),ee=x(N,O[0]),oe=x(N,F[0]),Y=b(b(P(B[0],B[0]),P(B[1],B[1])),b(P(B[2],B[2]),P(B[3],B[3]))),V=x(Y,_[0]),W=x(Y,I[0]),X=x(Y,z[0]),re=x(Y,O[0]),ie=x(Y,F[0]),K=b(b(P(I[0],I[0]),P(I[1],I[1])),b(P(I[2],I[2]),P(I[3],I[3]))),q=x(K,_[0]),le=x(K,B[0]),ae=x(K,z[0]),he=x(K,O[0]),me=x(K,F[0]),Me=b(b(P(z[0],z[0]),P(z[1],z[1])),b(P(z[2],z[2]),P(z[3],z[3]))),xe=x(Me,_[0]),Ie=x(Me,B[0]),_e=x(Me,I[0]),Te=x(Me,O[0]),ye=x(Me,F[0]),Ae=b(b(P(O[0],O[0]),P(O[1],O[1])),b(P(O[2],O[2]),P(O[3],O[3]))),Be=x(Ae,_[0]),Ue=x(Ae,B[0]),De=x(Ae,I[0]),He=x(Ae,z[0]),ut=x(Ae,F[0]),et=b(b(P(F[0],F[0]),P(F[1],F[1])),b(P(F[2],F[2]),P(F[3],F[3]))),Qe=x(et,_[0]),qe=x(et,B[0]),ft=x(et,I[0]),gt=x(et,z[0]),xt=x(et,O[0]),Ct=b(b(b(x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),I[2]),x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),-z[2])),b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),O[2]),x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),-F[2]))),B[3]),b(x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),B[2]),x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),-z[2])),b(x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),O[2]),x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),-F[2]))),-I[3]),x(b(b(x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),B[2]),x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),-I[2])),b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),O[2]),x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),-F[2]))),z[3]))),b(b(x(b(b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),B[2]),x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),-I[2])),b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),z[2]),x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),-F[2]))),-O[3]),x(b(b(x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),B[2]),x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),-I[2])),b(x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),z[2]),x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),-O[2]))),F[3])),b(x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),B[2]),x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),-z[2])),b(x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),O[2]),x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),-F[2]))),_[3]),x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-z[2])),b(x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),O[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-F[2]))),-B[3])))),b(b(b(x(b(b(x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),O[2]),x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),-F[2]))),z[3]),x(b(b(x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),_[2]),x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),z[2]),x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),-F[2]))),-O[3])),b(x(b(b(x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),_[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-B[2])),b(x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),z[2]),x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),-O[2]))),F[3]),x(b(b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),B[2]),x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),-I[2])),b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),z[2]),x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),-F[2]))),_[3]))),b(b(x(b(b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),_[2]),x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),-I[2])),b(x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),z[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-F[2]))),-B[3]),x(b(b(x(b(x(i(gt,ye),B[1]),b(x(i(qe,ie),-z[1]),x(i(Ie,X),F[1]))),_[2]),x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),z[2]),x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),-F[2]))),I[3])),b(x(b(b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),_[2]),x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-F[2]))),-z[3]),x(b(b(x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),_[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-B[2])),b(x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-z[2]))),F[3]))))),Je=b(b(b(x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),I[2]),x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),-z[2])),b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),O[2]),x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),-F[2]))),_[3]),b(x(b(b(x(b(x(i(xt,ut),z[1]),b(x(i(gt,ye),-O[1]),x(i(He,Te),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-z[2])),b(x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),O[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-F[2]))),-I[3]),x(b(b(x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-I[2])),b(x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),O[2]),x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),-F[2]))),z[3]))),b(b(x(b(b(x(b(x(i(gt,ye),I[1]),b(x(i(ft,me),-z[1]),x(i(_e,ae),F[1]))),_[2]),x(b(x(i(gt,ye),_[1]),b(x(i(Qe,oe),-z[1]),x(i(xe,j),F[1]))),-I[2])),b(x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),z[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-F[2]))),-O[3]),x(b(b(x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),_[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-I[2])),b(x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),z[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-O[2]))),F[3])),b(x(b(b(x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),B[2]),x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),-I[2])),b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),O[2]),x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),-F[2]))),_[3]),x(b(b(x(b(x(i(xt,ut),I[1]),b(x(i(ft,me),-O[1]),x(i(De,he),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-I[2])),b(x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),O[2]),x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),-F[2]))),-B[3])))),b(b(b(x(b(b(x(b(x(i(xt,ut),B[1]),b(x(i(qe,ie),-O[1]),x(i(Ue,re),F[1]))),_[2]),x(b(x(i(xt,ut),_[1]),b(x(i(Qe,oe),-O[1]),x(i(Be,ee),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),O[2]),x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),-F[2]))),I[3]),x(b(b(x(b(x(i(ft,me),B[1]),b(x(i(qe,ie),-I[1]),x(i(le,W),F[1]))),_[2]),x(b(x(i(ft,me),_[1]),b(x(i(Qe,oe),-I[1]),x(i(q,$),F[1]))),-B[2])),b(x(b(x(i(qe,ie),_[1]),b(x(i(Qe,oe),-B[1]),x(i(V,Q),F[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-F[2]))),-O[3])),b(x(b(b(x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),_[2]),x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),-B[2])),b(x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-O[2]))),F[3]),x(b(b(x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),B[2]),x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),-I[2])),b(x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),z[2]),x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),-O[2]))),_[3]))),b(b(x(b(b(x(b(x(i(He,Te),I[1]),b(x(i(De,he),-z[1]),x(i(_e,ae),O[1]))),_[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-I[2])),b(x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),z[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-O[2]))),-B[3]),x(b(b(x(b(x(i(He,Te),B[1]),b(x(i(Ue,re),-z[1]),x(i(Ie,X),O[1]))),_[2]),x(b(x(i(He,Te),_[1]),b(x(i(Be,ee),-z[1]),x(i(xe,j),O[1]))),-B[2])),b(x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),z[2]),x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),-O[2]))),I[3])),b(x(b(b(x(b(x(i(De,he),B[1]),b(x(i(Ue,re),-I[1]),x(i(le,W),O[1]))),_[2]),x(b(x(i(De,he),_[1]),b(x(i(Be,ee),-I[1]),x(i(q,$),O[1]))),-B[2])),b(x(b(x(i(Ue,re),_[1]),b(x(i(Be,ee),-B[1]),x(i(V,Q),O[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-O[2]))),-z[3]),x(b(b(x(b(x(i(_e,ae),B[1]),b(x(i(Ie,X),-I[1]),x(i(le,W),z[1]))),_[2]),x(b(x(i(_e,ae),_[1]),b(x(i(xe,j),-I[1]),x(i(q,$),z[1]))),-B[2])),b(x(b(x(i(Ie,X),_[1]),b(x(i(xe,j),-B[1]),x(i(V,Q),z[1]))),I[2]),x(b(x(i(le,W),_[1]),b(x(i(q,$),-B[1]),x(i(V,Q),I[1]))),-z[2]))),O[3]))))),ze=i(Ct,Je);return ze[ze.length-1]}return k}var A=[m,h,T];function E(b){var i=A[b.length];return i||(i=A[b.length]=u(b.length)),i.apply(void 0,b)}function g(b,i,P,x,k,_,B,I){function z(O,F,N,Q,$,j){switch(arguments.length){case 0:case 1:return 0;case 2:return x(O,F);case 3:return k(O,F,N);case 4:return _(O,F,N,Q);case 5:return B(O,F,N,Q,$);case 6:return I(O,F,N,Q,$,j)}for(var ee=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ee[oe]=arguments[oe];return b(ee)}return z}function S(){for(;A.length<=c;)A.push(u(A.length));v.exports=g.apply(void 0,[E].concat(A));for(var b=0;b<=c;++b)v.exports[b]=A[b]}S()},6606:function(v,y,t){var r=t(8167),l=6;function a(A){var E=A===2?u:A===3?m:A===4?h:A===5?T:f;return A<6?E(r[A]):E(r)}function s(){return[[0]]}function c(A,E){return[[E[0]],[A[0][0]]]}function u(A){return function(g,S){return[A([[+S[0],+g[0][1]],[+S[1],+g[1][1]]]),A([[+g[0][0],+S[0]],[+g[1][0],+S[1]]]),A(g)]}}function m(A){return function(g,S){return[A([[+S[0],+g[0][1],+g[0][2]],[+S[1],+g[1][1],+g[1][2]],[+S[2],+g[2][1],+g[2][2]]]),A([[+g[0][0],+S[0],+g[0][2]],[+g[1][0],+S[1],+g[1][2]],[+g[2][0],+S[2],+g[2][2]]]),A([[+g[0][0],+g[0][1],+S[0]],[+g[1][0],+g[1][1],+S[1]],[+g[2][0],+g[2][1],+S[2]]]),A(g)]}}function h(A){return function(g,S){return[A([[+S[0],+g[0][1],+g[0][2],+g[0][3]],[+S[1],+g[1][1],+g[1][2],+g[1][3]],[+S[2],+g[2][1],+g[2][2],+g[2][3]],[+S[3],+g[3][1],+g[3][2],+g[3][3]]]),A([[+g[0][0],+S[0],+g[0][2],+g[0][3]],[+g[1][0],+S[1],+g[1][2],+g[1][3]],[+g[2][0],+S[2],+g[2][2],+g[2][3]],[+g[3][0],+S[3],+g[3][2],+g[3][3]]]),A([[+g[0][0],+g[0][1],+S[0],+g[0][3]],[+g[1][0],+g[1][1],+S[1],+g[1][3]],[+g[2][0],+g[2][1],+S[2],+g[2][3]],[+g[3][0],+g[3][1],+S[3],+g[3][3]]]),A([[+g[0][0],+g[0][1],+g[0][2],+S[0]],[+g[1][0],+g[1][1],+g[1][2],+S[1]],[+g[2][0],+g[2][1],+g[2][2],+S[2]],[+g[3][0],+g[3][1],+g[3][2],+S[3]]]),A(g)]}}function T(A){return function(g,S){return[A([[+S[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4]],[+S[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4]],[+S[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4]],[+S[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4]],[+S[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4]]]),A([[+g[0][0],+S[0],+g[0][2],+g[0][3],+g[0][4]],[+g[1][0],+S[1],+g[1][2],+g[1][3],+g[1][4]],[+g[2][0],+S[2],+g[2][2],+g[2][3],+g[2][4]],[+g[3][0],+S[3],+g[3][2],+g[3][3],+g[3][4]],[+g[4][0],+S[4],+g[4][2],+g[4][3],+g[4][4]]]),A([[+g[0][0],+g[0][1],+S[0],+g[0][3],+g[0][4]],[+g[1][0],+g[1][1],+S[1],+g[1][3],+g[1][4]],[+g[2][0],+g[2][1],+S[2],+g[2][3],+g[2][4]],[+g[3][0],+g[3][1],+S[3],+g[3][3],+g[3][4]],[+g[4][0],+g[4][1],+S[4],+g[4][3],+g[4][4]]]),A([[+g[0][0],+g[0][1],+g[0][2],+S[0],+g[0][4]],[+g[1][0],+g[1][1],+g[1][2],+S[1],+g[1][4]],[+g[2][0],+g[2][1],+g[2][2],+S[2],+g[2][4]],[+g[3][0],+g[3][1],+g[3][2],+S[3],+g[3][4]],[+g[4][0],+g[4][1],+g[4][2],+S[4],+g[4][4]]]),A([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+S[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+S[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+S[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+S[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+S[4]]]),A(g)]}}function f(A){return function(g,S){return[A([[+S[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+S[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+S[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+S[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+S[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+S[5],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),A([[+g[0][0],+S[0],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+S[1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+S[2],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+S[3],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+S[4],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+S[5],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),A([[+g[0][0],+g[0][1],+S[0],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+S[1],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+S[2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+S[3],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+S[4],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+S[5],+g[5][3],+g[5][4],+g[5][5]]]),A([[+g[0][0],+g[0][1],+g[0][2],+S[0],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+S[1],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+S[2],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+S[3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+S[4],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+S[5],+g[5][4],+g[5][5]]]),A([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+S[0],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+S[1],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+S[2],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+S[3],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+S[4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+S[5],+g[5][5]]]),A([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+S[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+S[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+S[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+S[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+S[4]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+S[5]]]),A(g)]}}var o=[s,c];function d(A,E,g,S,b,i,P,x){return function(_,B){switch(_.length){case 0:return A(_,B);case 1:return E(_,B);case 2:return g(_,B);case 3:return S(_,B);case 4:return b(_,B);case 5:return i(_,B)}var I=P[_.length];return I||(I=P[_.length]=x(_.length)),I(_,B)}}function M(){for(;o.length<l;)o.push(a(o.length));v.exports=d.apply(void 0,o.concat([o,a]));for(var A=0;A<l;++A)v.exports[A]=o[A]}M()},417:function(v,y,t){var r=t(9660),l=t(9662),a=t(8289),s=t(4078),c=5,u=11102230246251565e-32,m=(3+16*u)*u,h=(7+56*u)*u;function T(i,P,x,k){return function(B,I,z){var O=i(i(P(I[1],z[0]),P(-z[1],I[0])),i(P(B[1],I[0]),P(-I[1],B[0]))),F=i(P(B[1],z[0]),P(-z[1],B[0])),N=k(O,F);return N[N.length-1]}}function f(i,P,x,k){return function(B,I,z,O){var F=i(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),I[2]),i(x(i(P(I[1],O[0]),P(-O[1],I[0])),-z[2]),x(i(P(I[1],z[0]),P(-z[1],I[0])),O[2]))),i(x(i(P(I[1],O[0]),P(-O[1],I[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),O[2])))),N=i(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-z[2]),x(i(P(B[1],z[0]),P(-z[1],B[0])),O[2]))),i(x(i(P(I[1],z[0]),P(-z[1],I[0])),B[2]),i(x(i(P(B[1],z[0]),P(-z[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),z[2])))),Q=k(F,N);return Q[Q.length-1]}}function o(i,P,x,k){return function(B,I,z,O,F){var N=i(i(i(x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),z[2]),i(x(i(P(z[1],F[0]),P(-F[1],z[0])),-O[2]),x(i(P(z[1],O[0]),P(-O[1],z[0])),F[2]))),I[3]),i(x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),I[2]),i(x(i(P(I[1],F[0]),P(-F[1],I[0])),-O[2]),x(i(P(I[1],O[0]),P(-O[1],I[0])),F[2]))),-z[3]),x(i(x(i(P(z[1],F[0]),P(-F[1],z[0])),I[2]),i(x(i(P(I[1],F[0]),P(-F[1],I[0])),-z[2]),x(i(P(I[1],z[0]),P(-z[1],I[0])),F[2]))),O[3]))),i(x(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),I[2]),i(x(i(P(I[1],O[0]),P(-O[1],I[0])),-z[2]),x(i(P(I[1],z[0]),P(-z[1],I[0])),O[2]))),-F[3]),i(x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),I[2]),i(x(i(P(I[1],F[0]),P(-F[1],I[0])),-O[2]),x(i(P(I[1],O[0]),P(-O[1],I[0])),F[2]))),B[3]),x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-O[2]),x(i(P(B[1],O[0]),P(-O[1],B[0])),F[2]))),-I[3])))),i(i(x(i(x(i(P(I[1],F[0]),P(-F[1],I[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),F[2]))),O[3]),i(x(i(x(i(P(I[1],O[0]),P(-O[1],I[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),O[2]))),-F[3]),x(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),I[2]),i(x(i(P(I[1],O[0]),P(-O[1],I[0])),-z[2]),x(i(P(I[1],z[0]),P(-z[1],I[0])),O[2]))),B[3]))),i(x(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-z[2]),x(i(P(B[1],z[0]),P(-z[1],B[0])),O[2]))),-I[3]),i(x(i(x(i(P(I[1],O[0]),P(-O[1],I[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),O[2]))),z[3]),x(i(x(i(P(I[1],z[0]),P(-z[1],I[0])),B[2]),i(x(i(P(B[1],z[0]),P(-z[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),z[2]))),-O[3]))))),Q=i(i(i(x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),z[2]),i(x(i(P(z[1],F[0]),P(-F[1],z[0])),-O[2]),x(i(P(z[1],O[0]),P(-O[1],z[0])),F[2]))),B[3]),x(i(x(i(P(O[1],F[0]),P(-F[1],O[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-O[2]),x(i(P(B[1],O[0]),P(-O[1],B[0])),F[2]))),-z[3])),i(x(i(x(i(P(z[1],F[0]),P(-F[1],z[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-z[2]),x(i(P(B[1],z[0]),P(-z[1],B[0])),F[2]))),O[3]),x(i(x(i(P(z[1],O[0]),P(-O[1],z[0])),B[2]),i(x(i(P(B[1],O[0]),P(-O[1],B[0])),-z[2]),x(i(P(B[1],z[0]),P(-z[1],B[0])),O[2]))),-F[3]))),i(i(x(i(x(i(P(z[1],F[0]),P(-F[1],z[0])),I[2]),i(x(i(P(I[1],F[0]),P(-F[1],I[0])),-z[2]),x(i(P(I[1],z[0]),P(-z[1],I[0])),F[2]))),B[3]),x(i(x(i(P(z[1],F[0]),P(-F[1],z[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-z[2]),x(i(P(B[1],z[0]),P(-z[1],B[0])),F[2]))),-I[3])),i(x(i(x(i(P(I[1],F[0]),P(-F[1],I[0])),B[2]),i(x(i(P(B[1],F[0]),P(-F[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),F[2]))),z[3]),x(i(x(i(P(I[1],z[0]),P(-z[1],I[0])),B[2]),i(x(i(P(B[1],z[0]),P(-z[1],B[0])),-I[2]),x(i(P(B[1],I[0]),P(-I[1],B[0])),z[2]))),-F[3])))),$=k(N,Q);return $[$.length-1]}}function d(i){var P=i===3?T:i===4?f:o;return P(l,r,a,s)}var M=d(3),A=d(4),E=[function(){return 0},function(){return 0},function(P,x){return x[0]-P[0]},function(P,x,k){var _=(P[1]-k[1])*(x[0]-k[0]),B=(P[0]-k[0])*(x[1]-k[1]),I=_-B,z;if(_>0){if(B<=0)return I;z=_+B}else if(_<0){if(B>=0)return I;z=-(_+B)}else return I;var O=m*z;return I>=O||I<=-O?I:M(P,x,k)},function(P,x,k,_){var B=P[0]-_[0],I=x[0]-_[0],z=k[0]-_[0],O=P[1]-_[1],F=x[1]-_[1],N=k[1]-_[1],Q=P[2]-_[2],$=x[2]-_[2],j=k[2]-_[2],ee=I*N,oe=z*F,Y=z*O,V=B*N,W=B*F,X=I*O,re=Q*(ee-oe)+$*(Y-V)+j*(W-X),ie=(Math.abs(ee)+Math.abs(oe))*Math.abs(Q)+(Math.abs(Y)+Math.abs(V))*Math.abs($)+(Math.abs(W)+Math.abs(X))*Math.abs(j),K=h*ie;return re>K||-re>K?re:A(P,x,k,_)}];function g(i){var P=E[i.length];return P||(P=E[i.length]=d(i.length)),P.apply(void 0,i)}function S(i,P,x,k,_,B,I){return function(O,F,N,Q,$){switch(arguments.length){case 0:case 1:return 0;case 2:return k(O,F);case 3:return _(O,F,N);case 4:return B(O,F,N,Q);case 5:return I(O,F,N,Q,$)}for(var j=new Array(arguments.length),ee=0;ee<arguments.length;++ee)j[ee]=arguments[ee];return i(j)}}function b(){for(;E.length<=c;)E.push(d(E.length));v.exports=S.apply(void 0,[g].concat(E));for(var i=0;i<=c;++i)v.exports[i]=E[i]}b()},2019:function(v,y,t){var r=t(9662),l=t(8289);v.exports=a;function a(s,c){if(s.length===1)return l(c,s[0]);if(c.length===1)return l(s,c[0]);if(s.length===0||c.length===0)return[0];var u=[0];if(s.length<c.length)for(var m=0;m<s.length;++m)u=r(u,l(c,s[m]));else for(var m=0;m<c.length;++m)u=r(u,l(s,c[m]));return u}},8289:function(v,y,t){var r=t(9660),l=t(87);v.exports=a;function a(s,c){var u=s.length;if(u===1){var m=r(s[0],c);return m[0]?m:[m[1]]}var h=new Array(2*u),T=[.1,.1],f=[.1,.1],o=0;r(s[0],c,T),T[0]&&(h[o++]=T[0]);for(var d=1;d<u;++d){r(s[d],c,f);var M=T[1];l(M,f[0],T),T[0]&&(h[o++]=T[0]);var A=f[1],E=T[1],g=A+E,S=g-A,b=E-S;T[1]=g,b&&(h[o++]=b)}return T[1]&&(h[o++]=T[1]),o===0&&(h[o++]=0),h.length=o,h}},4434:function(v,y,t){v.exports=a;var r=t(417)[3];function l(s,c,u,m){for(var h=0;h<2;++h){var T=s[h],f=c[h],o=Math.min(T,f),d=Math.max(T,f),M=u[h],A=m[h],E=Math.min(M,A),g=Math.max(M,A);if(g<o||d<E)return!1}return!0}function a(s,c,u,m){var h=r(s,u,m),T=r(c,u,m);if(h>0&&T>0||h<0&&T<0)return!1;var f=r(u,s,c),o=r(m,s,c);return f>0&&o>0||f<0&&o<0?!1:h===0&&T===0&&f===0&&o===0?l(s,c,u,m):!0}},4078:function(v){v.exports=t;function y(r,l){var a=r+l,s=a-r,c=a-s,u=l-s,m=r-c,h=m+u;return h?[h,a]:[a]}function t(r,l){var a=r.length|0,s=l.length|0;if(a===1&&s===1)return y(r[0],-l[0]);var c=a+s,u=new Array(c),m=0,h=0,T=0,f=Math.abs,o=r[h],d=f(o),M=-l[T],A=f(M),E,g;d<A?(g=o,h+=1,h<a&&(o=r[h],d=f(o))):(g=M,T+=1,T<s&&(M=-l[T],A=f(M))),h<a&&d<A||T>=s?(E=o,h+=1,h<a&&(o=r[h],d=f(o))):(E=M,T+=1,T<s&&(M=-l[T],A=f(M)));for(var S=E+g,b=S-E,i=g-b,P=i,x=S,k,_,B,I,z;h<a&&T<s;)d<A?(E=o,h+=1,h<a&&(o=r[h],d=f(o))):(E=M,T+=1,T<s&&(M=-l[T],A=f(M))),g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k;for(;h<a;)E=o,g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k,h+=1,h<a&&(o=r[h]);for(;T<s;)E=M,g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k,T+=1,T<s&&(M=-l[T]);return P&&(u[m++]=P),x&&(u[m++]=x),m||(u[m++]=0),u.length=m,u}},9662:function(v){v.exports=t;function y(r,l){var a=r+l,s=a-r,c=a-s,u=l-s,m=r-c,h=m+u;return h?[h,a]:[a]}function t(r,l){var a=r.length|0,s=l.length|0;if(a===1&&s===1)return y(r[0],l[0]);var c=a+s,u=new Array(c),m=0,h=0,T=0,f=Math.abs,o=r[h],d=f(o),M=l[T],A=f(M),E,g;d<A?(g=o,h+=1,h<a&&(o=r[h],d=f(o))):(g=M,T+=1,T<s&&(M=l[T],A=f(M))),h<a&&d<A||T>=s?(E=o,h+=1,h<a&&(o=r[h],d=f(o))):(E=M,T+=1,T<s&&(M=l[T],A=f(M)));for(var S=E+g,b=S-E,i=g-b,P=i,x=S,k,_,B,I,z;h<a&&T<s;)d<A?(E=o,h+=1,h<a&&(o=r[h],d=f(o))):(E=M,T+=1,T<s&&(M=l[T],A=f(M))),g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k;for(;h<a;)E=o,g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k,h+=1,h<a&&(o=r[h]);for(;T<s;)E=M,g=P,S=E+g,b=S-E,i=g-b,i&&(u[m++]=i),k=x+S,_=k-x,B=k-_,I=S-_,z=x-B,P=z+I,x=k,T+=1,T<s&&(M=l[T]);return P&&(u[m++]=P),x&&(u[m++]=x),m||(u[m++]=0),u.length=m,u}},8691:function(v,y,t){v.exports=a;var r=t(2692),l=t(7037);function a(s){return l(r(s))}},7212:function(v,y,t){v.exports=o;var r=t(5050),l=t(5306),a=t(8729),s=t(1168);function c(d){for(var M=d.length,A=0,E=0;E<M;++E)A=Math.max(A,d[E].length)|0;return A-1}function u(d,M){for(var A=d.length,E=l.mallocUint8(A),g=0;g<A;++g)E[g]=d[g]<M|0;return E}function m(d,M){for(var A=d.length,E=M*(M+1)/2*A|0,g=l.mallocUint32(E*2),S=0,b=0;b<A;++b)for(var i=d[b],M=i.length,P=0;P<M;++P)for(var x=0;x<P;++x){var k=i[x],_=i[P];g[S++]=Math.min(k,_)|0,g[S++]=Math.max(k,_)|0}var B=S/2|0;a(r(g,[B,2]));for(var I=2,b=2;b<S;b+=2)g[b-2]===g[b]&&g[b-1]===g[b+1]||(g[I++]=g[b],g[I++]=g[b+1]);return r(g,[I/2|0,2])}function h(d,M,A,E){for(var g=d.data,S=d.shape[0],b=l.mallocDouble(S),i=0,P=0;P<S;++P){var x=g[2*P],k=g[2*P+1];if(A[x]!==A[k]){var _=M[x],B=M[k];g[2*i]=x,g[2*i+1]=k,b[i++]=(B-E)/(B-_)}}return d.shape[0]=i,r(b,[i])}function T(d,M){var A=l.mallocInt32(M*2),E=d.shape[0],g=d.data;A[0]=0;for(var S=0,b=0;b<E;++b){var i=g[2*b];if(i!==S){for(A[2*S+1]=b;++S<i;)A[2*S]=b,A[2*S+1]=b;A[2*S]=b}}for(A[2*S+1]=E;++S<M;)A[2*S]=A[2*S+1]=E;return A}function f(d){for(var M=d.shape[0]|0,A=d.data,E=new Array(M),g=0;g<M;++g)E[g]=[A[2*g],A[2*g+1]];return E}function o(d,M,A,E){A=A||0,typeof E>"u"&&(E=c(d));var g=d.length;if(g===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=u(M,+A),b=m(d,E),i=h(b,M,S,+A),P=T(b,M.length|0),x=s(E)(d,b.data,P,S),k=f(b),_=[].slice.call(i.data,0,i.shape[0]);return l.free(S),l.free(b.data),l.free(i.data),l.free(P),{cells:x,vertexIds:k,vertexWeights:_}}},1168:function(v){v.exports=t;var y=[function(){function l(a,s,c,u){for(var m=a.length,h=[],T=0;T<m;++T){var f=a[T];f.length}return h}return l},function(){function l(s,c,u,m){for(var h=Math.min(u,m)|0,T=Math.max(u,m)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,M=c[2*d+1];if(M===T)return d;T<M?o=d:f=d+1}return f}function a(s,c,u,m){for(var h=s.length,T=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[1])]);break;case 2:T.push([l(u,c,o[1],o[0])]);break}}}return T}return a},function(){function l(s,c,u,m){for(var h=Math.min(u,m)|0,T=Math.max(u,m)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,M=c[2*d+1];if(M===T)return d;T<M?o=d:f=d+1}return f}function a(s,c,u,m){for(var h=s.length,T=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===3){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:T.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:T.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:T.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:T.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:T.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[1])]);break;case 2:T.push([l(u,c,o[1],o[0])]);break}}}return T}return a},function(){function l(s,c,u,m){for(var h=Math.min(u,m)|0,T=Math.max(u,m)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,M=c[2*d+1];if(M===T)return d;T<M?o=d:f=d+1}return f}function a(s,c,u,m){for(var h=s.length,T=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===4){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2)+(m[o[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[1]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])]);break;case 2:T.push([l(u,c,o[1],o[2]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])]);break;case 3:T.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])],[l(u,c,o[1],o[3]),l(u,c,o[1],o[2]),l(u,c,o[0],o[3])]);break;case 4:T.push([l(u,c,o[2],o[0]),l(u,c,o[2],o[1]),l(u,c,o[2],o[3])]);break;case 5:T.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[0],o[3])],[l(u,c,o[2],o[1]),l(u,c,o[2],o[3]),l(u,c,o[0],o[3])]);break;case 6:T.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])],[l(u,c,o[2],o[3]),l(u,c,o[2],o[0]),l(u,c,o[1],o[3])]);break;case 7:T.push([l(u,c,o[0],o[3]),l(u,c,o[1],o[3]),l(u,c,o[2],o[3])]);break;case 8:T.push([l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[3],o[2])]);break;case 9:T.push([l(u,c,o[3],o[1]),l(u,c,o[0],o[1]),l(u,c,o[0],o[2])],[l(u,c,o[3],o[2]),l(u,c,o[3],o[1]),l(u,c,o[0],o[2])]);break;case 10:T.push([l(u,c,o[1],o[0]),l(u,c,o[3],o[0]),l(u,c,o[1],o[2])],[l(u,c,o[3],o[0]),l(u,c,o[3],o[2]),l(u,c,o[1],o[2])]);break;case 11:T.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[3],o[2])]);break;case 12:T.push([l(u,c,o[3],o[0]),l(u,c,o[2],o[0]),l(u,c,o[2],o[1])],[l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[2],o[1])]);break;case 13:T.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[3],o[1])]);break;case 14:T.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[3],o[0])]);break}}else if(d===3){var M=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:T.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:T.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:T.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:T.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:T.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var M=(m[o[0]]<<0)+(m[o[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:T.push([l(u,c,o[0],o[1])]);break;case 2:T.push([l(u,c,o[1],o[0])]);break}}}return T}return a}];function t(r){return y[r]()}},8211:function(v,y,t){t(2288),t(1731);function r(l,a){var s=l.length,c=l.length-a.length,u=Math.min;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-a[0];case 2:var o=l[0]+l[1]-a[0]-a[1];return o||u(l[0],l[1])-u(a[0],a[1]);case 3:var m=l[0]+l[1],h=a[0]+a[1];if(o=m+l[2]-(h+a[2]),o)return o;var T=u(l[0],l[1]),f=u(a[0],a[1]),o=u(T,l[2])-u(f,a[2]);return o||u(T+l[2],m)-u(f+a[2],h);default:var d=l.slice(0);d.sort();var M=a.slice(0);M.sort();for(var A=0;A<s;++A)if(c=d[A]-M[A],c)return c;return 0}}y.H=r},9392:function(v,y){var t=32;y.INT_BITS=t,y.INT_MAX=2147483647,y.INT_MIN=-1<<t-1,y.sign=function(a){return(a>0)-(a<0)},y.abs=function(a){var s=a>>t-1;return(a^s)-s},y.min=function(a,s){return s^(a^s)&-(a<s)},y.max=function(a,s){return a^(a^s)&-(a<s)},y.isPow2=function(a){return!(a&a-1)&&!!a},y.log2=function(a){var s,c;return s=(a>65535)<<4,a>>>=s,c=(a>255)<<3,a>>>=c,s|=c,c=(a>15)<<2,a>>>=c,s|=c,c=(a>3)<<1,a>>>=c,s|=c,s|a>>1},y.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},y.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function r(a){var s=32;return a&=-a,a&&s--,a&65535&&(s-=16),a&16711935&&(s-=8),a&252645135&&(s-=4),a&858993459&&(s-=2),a&1431655765&&(s-=1),s}y.countTrailingZeros=r,y.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},y.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},y.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var l=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,m=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--m;a[s]=u<<m&255}})(l),y.reverse=function(a){return l[a&255]<<24|l[a>>>8&255]<<16|l[a>>>16&255]<<8|l[a>>>24&255]},y.interleave2=function(a,s){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,a|s<<1},y.deinterleave2=function(a,s){return a=a>>>s&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},y.interleave3=function(a,s,c){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,a|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,a|c<<2},y.deinterleave3=function(a,s){return a=a>>>s&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},y.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},6656:function(v,y,t){var r=t(9392),l=t(9521);function a(i){for(var P=0,x=Math.max,k=0,_=i.length;k<_;++k)P=x(P,i[k].length);return P-1}y.dimension=a;function s(i){for(var P=-1,x=Math.max,k=0,_=i.length;k<_;++k)for(var B=i[k],I=0,z=B.length;I<z;++I)P=x(P,B[I]);return P+1}y.countVertices=s;function c(i){for(var P=new Array(i.length),x=0,k=i.length;x<k;++x)P[x]=i[x].slice(0);return P}y.cloneCells=c;function u(i,P){var x=i.length,k=i.length-P.length,_=Math.min;if(k)return k;switch(x){case 0:return 0;case 1:return i[0]-P[0];case 2:var F=i[0]+i[1]-P[0]-P[1];return F||_(i[0],i[1])-_(P[0],P[1]);case 3:var B=i[0]+i[1],I=P[0]+P[1];if(F=B+i[2]-(I+P[2]),F)return F;var z=_(i[0],i[1]),O=_(P[0],P[1]),F=_(z,i[2])-_(O,P[2]);return F||_(z+i[2],B)-_(O+P[2],I);default:var N=i.slice(0);N.sort();var Q=P.slice(0);Q.sort();for(var $=0;$<x;++$)if(k=N[$]-Q[$],k)return k;return 0}}y.compareCells=u;function m(i,P){return u(i[0],P[0])}function h(i,P){if(P){for(var x=i.length,k=new Array(x),_=0;_<x;++_)k[_]=[i[_],P[_]];k.sort(m);for(var _=0;_<x;++_)i[_]=k[_][0],P[_]=k[_][1];return i}else return i.sort(u),i}y.normalize=h;function T(i){if(i.length===0)return[];for(var P=1,x=i.length,k=1;k<x;++k){var _=i[k];if(u(_,i[k-1])){if(k===P){P++;continue}i[P++]=_}}return i.length=P,i}y.unique=T;function f(i,P){for(var x=0,k=i.length-1,_=-1;x<=k;){var B=x+k>>1,I=u(i[B],P);I<=0?(I===0&&(_=B),x=B+1):I>0&&(k=B-1)}return _}y.findCell=f;function o(i,P){for(var x=new Array(i.length),k=0,_=x.length;k<_;++k)x[k]=[];for(var B=[],k=0,I=P.length;k<I;++k)for(var z=P[k],O=z.length,F=1,N=1<<O;F<N;++F){B.length=r.popCount(F);for(var Q=0,$=0;$<O;++$)F&1<<$&&(B[Q++]=z[$]);var j=f(i,B);if(!(j<0))for(;x[j++].push(k),!(j>=i.length||u(i[j],B)!==0););}return x}y.incidence=o;function d(i,P){if(!P)return o(T(A(i,0)),i);for(var x=new Array(P),k=0;k<P;++k)x[k]=[];for(var k=0,_=i.length;k<_;++k)for(var B=i[k],I=0,z=B.length;I<z;++I)x[B[I]].push(k);return x}y.dual=d;function M(i){for(var P=[],x=0,k=i.length;x<k;++x)for(var _=i[x],B=_.length|0,I=1,z=1<<B;I<z;++I){for(var O=[],F=0;F<B;++F)I>>>F&1&&O.push(_[F]);P.push(O)}return h(P)}y.explode=M;function A(i,P){if(P<0)return[];for(var x=[],k=(1<<P+1)-1,_=0;_<i.length;++_)for(var B=i[_],I=k;I<1<<B.length;I=r.nextCombination(I)){for(var z=new Array(P+1),O=0,F=0;F<B.length;++F)I&1<<F&&(z[O++]=B[F]);x.push(z)}return h(x)}y.skeleton=A;function E(i){for(var P=[],x=0,k=i.length;x<k;++x)for(var _=i[x],B=0,I=_.length;B<I;++B){for(var z=new Array(_.length-1),O=0,F=0;O<I;++O)O!==B&&(z[F++]=_[O]);P.push(z)}return h(P)}y.boundary=E;function g(i,P){for(var x=new l(P),k=0;k<i.length;++k)for(var _=i[k],B=0;B<_.length;++B)for(var I=B+1;I<_.length;++I)x.link(_[B],_[I]);for(var z=[],O=x.ranks,k=0;k<O.length;++k)O[k]=-1;for(var k=0;k<i.length;++k){var F=x.find(i[k][0]);O[F]<0?(O[F]=z.length,z.push([i[k].slice(0)])):z[O[F]].push(i[k].slice(0))}return z}function S(i){for(var P=T(h(A(i,0))),x=new l(P.length),k=0;k<i.length;++k)for(var _=i[k],B=0;B<_.length;++B)for(var I=f(P,[_[B]]),z=B+1;z<_.length;++z)x.link(I,f(P,[_[z]]));for(var O=[],F=x.ranks,k=0;k<F.length;++k)F[k]=-1;for(var k=0;k<i.length;++k){var N=x.find(f(P,[i[k][0]]));F[N]<0?(F[N]=O.length,O.push([i[k].slice(0)])):O[F[N]].push(i[k].slice(0))}return O}function b(i,P){return P?g(i,P):S(i)}y.connectedComponents=b},9521:function(v){v.exports=y;function y(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}y.prototype.length=function(){return this.roots.length},y.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},y.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var l=r[t];r[t]=r[l],t=l}return t},y.prototype.link=function(t,r){var l=this.find(t),a=this.find(r);if(l!==a){var s=this.ranks,c=this.roots,u=s[l],m=s[a];u<m?c[l]=a:m<u?c[a]=l:(c[a]=l,++s[l])}}},8243:function(v,y,t){v.exports=s;var r=t(417),l=t(6656);function a(c,u,m){var h=Math.abs(r(c,u,m)),T=Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2));return h/T}function s(c,u,m){for(var h=u.length,T=c.length,f=new Array(h),o=new Array(h),d=new Array(h),M=new Array(h),A=0;A<h;++A)f[A]=o[A]=-1,d[A]=1/0,M[A]=!1;for(var A=0;A<T;++A){var E=c[A];if(E.length!==2)throw new Error("Input must be a graph");var g=E[1],S=E[0];o[S]!==-1?o[S]=-2:o[S]=g,f[g]!==-1?f[g]=-2:f[g]=S}function b(Y){if(M[Y])return 1/0;var V=f[Y],W=o[Y];return V<0||W<0?1/0:a(u[Y],u[V],u[W])}function i(Y,V){var W=O[Y],X=O[V];O[Y]=X,O[V]=W,F[W]=V,F[X]=Y}function P(Y){return d[O[Y]]}function x(Y){return Y&1?Y-1>>1:(Y>>1)-1}function k(Y){for(var V=P(Y);;){var W=V,X=2*Y+1,re=2*(Y+1),ie=Y;if(X<Q){var K=P(X);K<W&&(ie=X,W=K)}if(re<Q){var q=P(re);q<W&&(ie=re)}if(ie===Y)return Y;i(Y,ie),Y=ie}}function _(Y){for(var V=P(Y);Y>0;){var W=x(Y);if(W>=0){var X=P(W);if(V<X){i(Y,W),Y=W;continue}}return Y}}function B(){if(Q>0){var Y=O[0];return i(0,Q-1),Q-=1,k(0),Y}return-1}function I(Y,V){var W=O[Y];return d[W]===V?Y:(d[W]=-1/0,_(Y),B(),d[W]=V,Q+=1,_(Q-1))}function z(Y){if(!M[Y]){M[Y]=!0;var V=f[Y],W=o[Y];f[W]>=0&&(f[W]=V),o[V]>=0&&(o[V]=W),F[V]>=0&&I(F[V],b(V)),F[W]>=0&&I(F[W],b(W))}}for(var O=[],F=new Array(h),A=0;A<h;++A){var N=d[A]=b(A);N<1/0?(F[A]=O.length,O.push(A)):F[A]=-1}for(var Q=O.length,A=Q>>1;A>=0;--A)k(A);for(;;){var $=B();if($<0||d[$]>m)break;z($)}for(var j=[],A=0;A<h;++A)M[A]||(F[A]=j.length,j.push(u[A].slice()));j.length;function ee(Y,V){if(Y[V]<0)return V;var W=V,X=V;do{var re=Y[X];if(!M[X]||re<0||re===X||(X=re,re=Y[X],!M[X]||re<0||re===X))break;X=re,W=Y[W]}while(W!==X);for(var ie=V;ie!==X;ie=Y[ie])Y[ie]=X;return X}var oe=[];return c.forEach(function(Y){var V=ee(f,Y[0]),W=ee(o,Y[1]);if(V>=0&&W>=0&&V!==W){var X=F[V],re=F[W];X!==re&&oe.push([X,re])}}),l.unique(l.normalize(oe)),{positions:j,edges:oe}}},6638:function(v,y,t){v.exports=a;var r=t(417);function l(s,c){var u,m;if(c[0][0]<c[1][0])u=c[0],m=c[1];else if(c[0][0]>c[1][0])u=c[1],m=c[0];else{var h=Math.min(s[0][1],s[1][1]),T=Math.max(s[0][1],s[1][1]),f=Math.min(c[0][1],c[1][1]),o=Math.max(c[0][1],c[1][1]);return T<f?T-f:h>o?h-o:T-o}var d,M;s[0][1]<s[1][1]?(d=s[0],M=s[1]):(d=s[1],M=s[0]);var A=r(m,u,d);return A||(A=r(m,u,M),A)?A:M-m}function a(s,c){var u,m;if(c[0][0]<c[1][0])u=c[0],m=c[1];else if(c[0][0]>c[1][0])u=c[1],m=c[0];else return l(c,s);var h,T;if(s[0][0]<s[1][0])h=s[0],T=s[1];else if(s[0][0]>s[1][0])h=s[1],T=s[0];else return-l(s,c);var f=r(u,m,T),o=r(u,m,h);if(f<0){if(o<=0)return f}else if(f>0){if(o>=0)return f}else if(o)return o;if(f=r(T,h,m),o=r(T,h,u),f<0){if(o<=0)return f}else if(f>0){if(o>=0)return f}else if(o)return o;return m[0]-T[0]}},4385:function(v,y,t){v.exports=o;var r=t(5070),l=t(7080),a=t(417),s=t(6638);function c(d,M,A){this.slabs=d,this.coordinates=M,this.horizontal=A}var u=c.prototype;function m(d,M){return d.y-M}function h(d,M){for(var A=null;d;){var E=d.key,g,S;E[0][0]<E[1][0]?(g=E[0],S=E[1]):(g=E[1],S=E[0]);var b=a(g,S,M);if(b<0)d=d.left;else if(b>0)if(M[0]!==E[1][0])A=d,d=d.right;else{var i=h(d.right,M);if(i)return i;d=d.left}else{if(M[0]!==E[1][0])return d;var i=h(d.right,M);if(i)return i;d=d.left}}return A}u.castUp=function(d){var M=r.le(this.coordinates,d[0]);if(M<0)return-1;this.slabs[M];var A=h(this.slabs[M],d),E=-1;if(A&&(E=A.value),this.coordinates[M]===d[0]){var g=null;if(A&&(g=A.key),M>0){var S=h(this.slabs[M-1],d);S&&(g?s(S.key,g)>0&&(g=S.key,E=S.value):(E=S.value,g=S.key))}var b=this.horizontal[M];if(b.length>0){var i=r.ge(b,d[1],m);if(i<b.length){var P=b[i];if(d[1]===P.y){if(P.closed)return P.index;for(;i<b.length-1&&b[i+1].y===d[1];)if(i=i+1,P=b[i],P.closed)return P.index;if(P.y===d[1]&&!P.start){if(i=i+1,i>=b.length)return E;P=b[i]}}if(P.start)if(g){var x=a(g[0],g[1],[d[0],P.y]);g[0][0]>g[1][0]&&(x=-x),x>0&&(E=P.index)}else E=P.index;else P.y!==d[1]&&(E=P.index)}}}return E};function T(d,M,A,E){this.y=d,this.index=M,this.start=A,this.closed=E}function f(d,M,A,E){this.x=d,this.segment=M,this.create=A,this.index=E}function o(d){for(var M=d.length,A=2*M,E=new Array(A),g=0;g<M;++g){var S=d[g],b=S[0][0]<S[1][0];E[2*g]=new f(S[0][0],S,b,g),E[2*g+1]=new f(S[1][0],S,!b,g)}E.sort(function(z,O){var F=z.x-O.x;return F||(F=z.create-O.create,F)?F:Math.min(z.segment[0][1],z.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});for(var i=l(s),P=[],x=[],k=[],g=0;g<A;){for(var _=E[g].x,B=[];g<A;){var I=E[g];if(I.x!==_)break;g+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(B.push(new T(I.segment[0][1],I.index,!0,!0)),B.push(new T(I.segment[1][1],I.index,!1,!1))):(B.push(new T(I.segment[1][1],I.index,!0,!1)),B.push(new T(I.segment[0][1],I.index,!1,!0)))):I.create?i=i.insert(I.segment,I.index):i=i.remove(I.segment)}P.push(i.root),x.push(_),k.push(B)}return new c(P,x,k)}},4670:function(v,y,t){var r=t(9130),l=t(9662);v.exports=c,v.exports.positive=u,v.exports.negative=m;function a(h,T){var f=l(r(h,T),[T[T.length-1]]);return f[f.length-1]}function s(h,T,f,o){var d=o-T,M=-T/d;M<0?M=0:M>1&&(M=1);for(var A=1-M,E=h.length,g=new Array(E),S=0;S<E;++S)g[S]=M*h[S]+A*f[S];return g}function c(h,T){for(var f=[],o=[],d=a(h[h.length-1],T),M=h[h.length-1],A=h[0],E=0;E<h.length;++E,M=A){A=h[E];var g=a(A,T);if(d<0&&g>0||d>0&&g<0){var S=s(M,g,A,d);f.push(S),o.push(S.slice())}g<0?o.push(A.slice()):g>0?f.push(A.slice()):(f.push(A.slice()),o.push(A.slice())),d=g}return{positive:f,negative:o}}function u(h,T){for(var f=[],o=a(h[h.length-1],T),d=h[h.length-1],M=h[0],A=0;A<h.length;++A,d=M){M=h[A];var E=a(M,T);(o<0&&E>0||o>0&&E<0)&&f.push(s(d,E,M,o)),E>=0&&f.push(M.slice()),o=E}return f}function m(h,T){for(var f=[],o=a(h[h.length-1],T),d=h[h.length-1],M=h[0],A=0;A<h.length;++A,d=M){M=h[A];var E=a(M,T);(o<0&&E>0||o>0&&E<0)&&f.push(s(d,E,M,o)),E<=0&&f.push(M.slice()),o=E}return f}},8974:function(v,y,t){var r;(function(){var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(h){return c(m(h),arguments)}function s(h,T){return a.apply(null,[h].concat(T||[]))}function c(h,T){var f=1,o=h.length,d,M="",A,E,g,S,b,i,P,x;for(A=0;A<o;A++)if(typeof h[A]=="string")M+=h[A];else if(typeof h[A]=="object"){if(g=h[A],g.keys)for(d=T[f],E=0;E<g.keys.length;E++){if(d==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[E],g.keys[E-1]));d=d[g.keys[E]]}else g.param_no?d=T[g.param_no]:d=T[f++];if(l.not_type.test(g.type)&&l.not_primitive.test(g.type)&&d instanceof Function&&(d=d()),l.numeric_arg.test(g.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(a("[sprintf] expecting number but found %T",d));switch(l.number.test(g.type)&&(P=d>=0),g.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,g.width?parseInt(g.width):0);break;case"e":d=g.precision?parseFloat(d).toExponential(g.precision):parseFloat(d).toExponential();break;case"f":d=g.precision?parseFloat(d).toFixed(g.precision):parseFloat(d);break;case"g":d=g.precision?String(Number(d.toPrecision(g.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=g.precision?d.substring(0,g.precision):d;break;case"t":d=String(!!d),d=g.precision?d.substring(0,g.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=g.precision?d.substring(0,g.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=g.precision?d.substring(0,g.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}l.json.test(g.type)?M+=d:(l.number.test(g.type)&&(!P||g.sign)?(x=P?"+":"-",d=d.toString().replace(l.sign,"")):x="",b=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",i=g.width-(x+d).length,S=g.width&&i>0?b.repeat(i):"",M+=g.align?x+d+S:b==="0"?x+S+d:S+x+d)}return M}var u=Object.create(null);function m(h){if(u[h])return u[h];for(var T=h,f,o=[],d=0;T;){if((f=l.text.exec(T))!==null)o.push(f[0]);else if((f=l.modulo.exec(T))!==null)o.push("%");else if((f=l.placeholder.exec(T))!==null){if(f[2]){d|=1;var M=[],A=f[2],E=[];if((E=l.key.exec(A))!==null)for(M.push(E[1]);(A=A.substring(E[0].length))!=="";)if((E=l.key_access.exec(A))!==null)M.push(E[1]);else if((E=l.index_access.exec(A))!==null)M.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=M}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(f[0].length)}return u[h]=o}y.sprintf=a,y.vsprintf=s,typeof window<"u"&&(window.sprintf=a,window.vsprintf=s,r=function(){return{sprintf:a,vsprintf:s}}.call(y,t,y,v),r!==void 0&&(v.exports=r))})()},4162:function(v,y,t){v.exports=m;var r=t(9284),l=t(9584),a={"2d":function(h,T,f){var o=h({order:T,scalarArguments:3,getters:f==="generic"?[0]:void 0,phase:function(M,A,E,g){return M>g|0},vertex:function(M,A,E,g,S,b,i,P,x,k,_,B,I){var z=(i<<0)+(P<<1)+(x<<2)+(k<<3)|0;if(!(z===0||z===15))switch(z){case 0:_.push([M-.5,A-.5]);break;case 1:_.push([M-.25-.25*(g+E-2*I)/(E-g),A-.25-.25*(S+E-2*I)/(E-S)]);break;case 2:_.push([M-.75-.25*(-g-E+2*I)/(g-E),A-.25-.25*(b+g-2*I)/(g-b)]);break;case 3:_.push([M-.5,A-.5-.5*(S+E+b+g-4*I)/(E-S+g-b)]);break;case 4:_.push([M-.25-.25*(b+S-2*I)/(S-b),A-.75-.25*(-S-E+2*I)/(S-E)]);break;case 5:_.push([M-.5-.5*(g+E+b+S-4*I)/(E-g+S-b),A-.5]);break;case 6:_.push([M-.5-.25*(-g-E+b+S)/(g-E+S-b),A-.5-.25*(-S-E+b+g)/(S-E+g-b)]);break;case 7:_.push([M-.75-.25*(b+S-2*I)/(S-b),A-.75-.25*(b+g-2*I)/(g-b)]);break;case 8:_.push([M-.75-.25*(-b-S+2*I)/(b-S),A-.75-.25*(-b-g+2*I)/(b-g)]);break;case 9:_.push([M-.5-.25*(g+E+-b-S)/(E-g+b-S),A-.5-.25*(S+E+-b-g)/(E-S+b-g)]);break;case 10:_.push([M-.5-.5*(-g-E+-b-S+4*I)/(g-E+b-S),A-.5]);break;case 11:_.push([M-.25-.25*(-b-S+2*I)/(b-S),A-.75-.25*(S+E-2*I)/(E-S)]);break;case 12:_.push([M-.5,A-.5-.5*(-S-E+-b-g+4*I)/(S-E+b-g)]);break;case 13:_.push([M-.75-.25*(g+E-2*I)/(E-g),A-.25-.25*(-b-g+2*I)/(b-g)]);break;case 14:_.push([M-.25-.25*(-g-E+2*I)/(g-E),A-.25-.25*(-S-E+2*I)/(S-E)]);break;case 15:_.push([M-.5,A-.5]);break}},cell:function(M,A,E,g,S,b,i,P,x){S?P.push([M,A]):P.push([A,M])}});return function(d,M){var A=[],E=[];return o(d,A,E,M),{positions:A,cells:E}}}};function s(h,T){var f=h.length+"d",o=a[f];if(o)return o(r,h,T)}function c(h,T){for(var f=l(h,T),o=f.length,d=new Array(o),M=new Array(o),A=0;A<o;++A)d[A]=[f[A]],M[A]=[A];return{positions:d,cells:M}}var u={};function m(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return c(h,d);var f=h.order.join()+"-"+h.dtype,o=u[f],d=+d||0;return o||(o=u[f]=s(h.order,h.dtype)),o(h,d)}},6946:function(v,y,t){v.exports=c;var r=t(875),l=window||p.global||{},a=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function s(u){for(var m=u.cells,h=u.positions,T=new Float32Array(m.length*6),f=0,o=0,d=0;d<m.length;++d)for(var M=m[d],A=0;A<3;++A){var E=h[M[A]];T[f++]=E[0],T[f++]=E[1]+1.4,o=Math.max(E[0],o)}return{data:T,shape:o}}function c(u,m,T){var T=T||{},f=a[u];f||(f=a[u]={" ":{data:new Float32Array(0),shape:.2}});var o=f[m];if(!o)if(m.length<=1||!/\d/.test(m))o=f[m]=s(r(m,{triangles:!0,font:u,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),M=new Array(d.length),A=0,E=0,g=0;g<d.length;++g)M[g]=c(u,d[g]),A+=M[g].data.length,E+=M[g].shape,g>0&&(E+=.02);for(var S=new Float32Array(A),b=0,i=-.5*E,g=0;g<M.length;++g){for(var P=M[g].data,x=0;x<P.length;x+=2)S[b++]=P[x]+i,S[b++]=P[x+1];i+=M[g].shape+.02}o=f[m]={data:S,shape:E}}return o}},14:function(v,y,t){var r=t(4405);v.exports=c;var l=96;function a(u,m){var h=r(getComputedStyle(u).getPropertyValue(m));return h[0]*c(h[1],u)}function s(u,m){var h=document.createElement("div");h.style["font-size"]="128"+u,m.appendChild(h);var T=a(h,"font-size")/128;return m.removeChild(h),T}function c(u,m){switch(m=m||document.body,u=(u||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),u){case"%":return m.clientHeight/100;case"ch":case"ex":return s(u,m);case"em":return a(m,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},3440:function(v,y,t){v.exports=M;var r=t(8444),l=t(7437),a=t(4422),s=t(903),c=t(899),u=t(9305);function m(A,E,g){return Math.sqrt(Math.pow(A,2)+Math.pow(E,2)+Math.pow(g,2))}function h(A){return Math.min(1,Math.max(-1,A))}function T(A){var E=Math.abs(A[0]),g=Math.abs(A[1]),S=Math.abs(A[2]),b=[0,0,0];E>Math.max(g,S)?b[2]=1:g>Math.max(E,S)?b[0]=1:b[1]=1;for(var i=0,P=0,x=0;x<3;++x)i+=A[x]*A[x],P+=b[x]*A[x];for(var x=0;x<3;++x)b[x]-=P/i*A[x];return c(b,b),b}function f(A,E,g,S,b,i,P,x){this.center=r(g),this.up=r(S),this.right=r(b),this.radius=r([i]),this.angle=r([P,x]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=f.prototype;o.setDistanceLimits=function(A,E){A>0?A=Math.log(A):A=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=E},o.getDistanceLimits=function(A){var E=this.radius.bounds[0];return A?(A[0]=Math.exp(E[0][0]),A[1]=Math.exp(E[1][0]),A):[Math.exp(E[0][0]),Math.exp(E[1][0])]},o.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var E=this.computedUp,g=this.computedRight,S=0,b=0,i=0;i<3;++i)b+=E[i]*g[i],S+=E[i]*E[i];for(var P=Math.sqrt(S),x=0,i=0;i<3;++i)g[i]-=E[i]*b/S,x+=g[i]*g[i],E[i]/=P;for(var k=Math.sqrt(x),i=0;i<3;++i)g[i]/=k;var _=this.computedToward;s(_,E,g),c(_,_);for(var B=Math.exp(this.computedRadius[0]),I=this.computedAngle[0],z=this.computedAngle[1],O=Math.cos(I),F=Math.sin(I),N=Math.cos(z),Q=Math.sin(z),$=this.computedCenter,j=O*N,ee=F*N,oe=Q,Y=-O*Q,V=-F*Q,W=N,X=this.computedEye,re=this.computedMatrix,i=0;i<3;++i){var ie=j*g[i]+ee*_[i]+oe*E[i];re[4*i+1]=Y*g[i]+V*_[i]+W*E[i],re[4*i+2]=ie,re[4*i+3]=0}var K=re[1],q=re[5],le=re[9],ae=re[2],he=re[6],me=re[10],Me=q*me-le*he,xe=le*ae-K*me,Ie=K*he-q*ae,_e=m(Me,xe,Ie);Me/=_e,xe/=_e,Ie/=_e,re[0]=Me,re[4]=xe,re[8]=Ie;for(var i=0;i<3;++i)X[i]=$[i]+re[2+4*i]*B;for(var i=0;i<3;++i){for(var x=0,Te=0;Te<3;++Te)x+=re[i+4*Te]*X[Te];re[12+i]=-x}re[15]=1},o.getMatrix=function(A,E){this.recalcMatrix(A);var g=this.computedMatrix;if(E){for(var S=0;S<16;++S)E[S]=g[S];return E}return g};var d=[0,0,0];o.rotate=function(A,E,g,S){if(this.angle.move(A,E,g),S){this.recalcMatrix(A);var b=this.computedMatrix;d[0]=b[2],d[1]=b[6],d[2]=b[10];for(var i=this.computedUp,P=this.computedRight,x=this.computedToward,k=0;k<3;++k)b[4*k]=i[k],b[4*k+1]=P[k],b[4*k+2]=x[k];a(b,b,S,d);for(var k=0;k<3;++k)i[k]=b[4*k],P[k]=b[4*k+1];this.up.set(A,i[0],i[1],i[2]),this.right.set(A,P[0],P[1],P[2])}},o.pan=function(A,E,g,S){E=E||0,g=g||0,S=S||0,this.recalcMatrix(A);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=b[1],P=b[5],x=b[9],k=m(i,P,x);i/=k,P/=k,x/=k;var _=b[0],B=b[4],I=b[8],z=_*i+B*P+I*x;_-=i*z,B-=P*z,I-=x*z;var O=m(_,B,I);_/=O,B/=O,I/=O;var F=_*E+i*g,N=B*E+P*g,Q=I*E+x*g;this.center.move(A,F,N,Q);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+S),this.radius.set(A,Math.log($))},o.translate=function(A,E,g,S){this.center.move(A,E||0,g||0,S||0)},o.setMatrix=function(A,E,g,S){var b=1;typeof g=="number"&&(b=g|0),(b<0||b>3)&&(b=1);var i=(b+2)%3;E||(this.recalcMatrix(A),E=this.computedMatrix);var P=E[b],x=E[b+4],k=E[b+8];if(S){var B=Math.abs(P),I=Math.abs(x),z=Math.abs(k),O=Math.max(B,I,z);B===O?(P=P<0?-1:1,x=k=0):z===O?(k=k<0?-1:1,P=x=0):(x=x<0?-1:1,P=k=0)}else{var _=m(P,x,k);P/=_,x/=_,k/=_}var F=E[i],N=E[i+4],Q=E[i+8],$=F*P+N*x+Q*k;F-=P*$,N-=x*$,Q-=k*$;var j=m(F,N,Q);F/=j,N/=j,Q/=j;var ee=x*Q-k*N,oe=k*F-P*Q,Y=P*N-x*F,V=m(ee,oe,Y);ee/=V,oe/=V,Y/=V,this.center.jump(A,Ue,De,He),this.radius.idle(A),this.up.jump(A,P,x,k),this.right.jump(A,F,N,Q);var W,X;if(b===2){var re=E[1],ie=E[5],K=E[9],q=re*F+ie*N+K*Q,le=re*ee+ie*oe+K*Y;Me<0?W=-Math.PI/2:W=Math.PI/2,X=Math.atan2(le,q)}else{var ae=E[2],he=E[6],me=E[10],Me=ae*P+he*x+me*k,xe=ae*F+he*N+me*Q,Ie=ae*ee+he*oe+me*Y;W=Math.asin(h(Me)),X=Math.atan2(Ie,xe)}this.angle.jump(A,X,W),this.recalcMatrix(A);var _e=E[2],Te=E[6],ye=E[10],Ae=this.computedMatrix;l(Ae,E);var Be=Ae[15],Ue=Ae[12]/Be,De=Ae[13]/Be,He=Ae[14]/Be,ut=Math.exp(this.computedRadius[0]);this.center.jump(A,Ue-_e*ut,De-Te*ut,He-ye*ut)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},o.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},o.setDistance=function(A,E){E>0&&this.radius.set(A,Math.log(E))},o.lookAt=function(A,E,g,S){this.recalcMatrix(A),E=E||this.computedEye,g=g||this.computedCenter,S=S||this.computedUp;var b=S[0],i=S[1],P=S[2],x=m(b,i,P);if(!(x<1e-6)){b/=x,i/=x,P/=x;var k=E[0]-g[0],_=E[1]-g[1],B=E[2]-g[2],I=m(k,_,B);if(!(I<1e-6)){k/=I,_/=I,B/=I;var z=this.computedRight,O=z[0],F=z[1],N=z[2],Q=b*O+i*F+P*N;O-=Q*b,F-=Q*i,N-=Q*P;var $=m(O,F,N);if(!($<.01&&(O=i*B-P*_,F=P*k-b*B,N=b*_-i*k,$=m(O,F,N),$<1e-6))){O/=$,F/=$,N/=$,this.up.set(A,b,i,P),this.right.set(A,O,F,N),this.center.set(A,g[0],g[1],g[2]),this.radius.set(A,Math.log(I));var j=i*N-P*F,ee=P*O-b*N,oe=b*F-i*O,Y=m(j,ee,oe);j/=Y,ee/=Y,oe/=Y;var V=b*k+i*_+P*B,W=O*k+F*_+N*B,X=j*k+ee*_+oe*B,re=Math.asin(h(V)),ie=Math.atan2(X,W),K=this.angle._state,q=K[K.length-1],le=K[K.length-2];q=q%(2*Math.PI);var ae=Math.abs(q+2*Math.PI-ie),he=Math.abs(q-ie),me=Math.abs(q-2*Math.PI-ie);ae<he&&(q+=2*Math.PI),me<he&&(q-=2*Math.PI),this.angle.jump(this.angle.lastT(),q,le),this.angle.set(A,ie,re)}}}};function M(A){A=A||{};var E=A.center||[0,0,0],g=A.up||[0,1,0],S=A.right||T(g),b=A.radius||1,i=A.theta||0,P=A.phi||0;if(E=[].slice.call(E,0,3),g=[].slice.call(g,0,3),c(g,g),S=[].slice.call(S,0,3),c(S,S),"eye"in A){var x=A.eye,k=[x[0]-E[0],x[1]-E[1],x[2]-E[2]];s(S,k,g),m(S[0],S[1],S[2])<1e-6?S=T(g):c(S,S),b=m(k[0],k[1],k[2]);var _=u(g,k)/b,B=u(S,k)/b;P=Math.acos(_),i=Math.acos(B)}return b=Math.log(b),new f(A.zoomMin,A.zoomMax,E,g,S,b,i,P)}},9660:function(v){v.exports=t;var y=+(Math.pow(2,27)+1);function t(r,l,a){var s=r*l,c=y*r,u=c-r,m=c-u,h=r-m,T=y*l,f=T-l,o=T-f,d=l-o,M=s-m*o,A=M-h*o,E=A-m*d,g=h*d-E;return a?(a[0]=g,a[1]=s,a):[g,s]}},87:function(v){v.exports=y;function y(t,r,l){var a=t+r,s=a-t,c=a-s,u=r-s,m=t-c;return l?(l[0]=m+u,l[1]=a,l):[m+u,a]}},5306:function(v,y,t){var r=t(2288),l=t(3094),a=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var s=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=l([32,0])),m.BIGUINT64||(m.BIGUINT64=l([32,0])),m.BIGINT64||(m.BIGINT64=l([32,0])),m.BUFFER||(m.BUFFER=l([32,0]));var h=m.DATA,T=m.BUFFER;y.free=function(O){if(a.isBuffer(O))T[r.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var F=O.length||O.byteLength,N=r.log2(F)|0;h[N].push(O)}};function f(z){if(z){var O=z.length||z.byteLength,F=r.log2(O);h[F].push(z)}}function o(z){f(z.buffer)}y.freeUint8=y.freeUint16=y.freeUint32=y.freeBigUint64=y.freeInt8=y.freeInt16=y.freeInt32=y.freeBigInt64=y.freeFloat32=y.freeFloat=y.freeFloat64=y.freeDouble=y.freeUint8Clamped=y.freeDataView=o,y.freeArrayBuffer=f,y.freeBuffer=function(O){T[r.log2(O.length)].push(O)},y.malloc=function(O,F){if(F===void 0||F==="arraybuffer")return d(O);switch(F){case"uint8":return M(O);case"uint16":return A(O);case"uint32":return E(O);case"int8":return g(O);case"int16":return S(O);case"int32":return b(O);case"float":case"float32":return i(O);case"double":case"float64":return P(O);case"uint8_clamped":return x(O);case"bigint64":return _(O);case"biguint64":return k(O);case"buffer":return I(O);case"data":case"dataview":return B(O);default:return null}return null};function d(O){var O=r.nextPow2(O),F=r.log2(O),N=h[F];return N.length>0?N.pop():new ArrayBuffer(O)}y.mallocArrayBuffer=d;function M(z){return new Uint8Array(d(z),0,z)}y.mallocUint8=M;function A(z){return new Uint16Array(d(2*z),0,z)}y.mallocUint16=A;function E(z){return new Uint32Array(d(4*z),0,z)}y.mallocUint32=E;function g(z){return new Int8Array(d(z),0,z)}y.mallocInt8=g;function S(z){return new Int16Array(d(2*z),0,z)}y.mallocInt16=S;function b(z){return new Int32Array(d(4*z),0,z)}y.mallocInt32=b;function i(z){return new Float32Array(d(4*z),0,z)}y.mallocFloat32=y.mallocFloat=i;function P(z){return new Float64Array(d(8*z),0,z)}y.mallocFloat64=y.mallocDouble=P;function x(z){return s?new Uint8ClampedArray(d(z),0,z):M(z)}y.mallocUint8Clamped=x;function k(z){return c?new BigUint64Array(d(8*z),0,z):null}y.mallocBigUint64=k;function _(z){return u?new BigInt64Array(d(8*z),0,z):null}y.mallocBigInt64=_;function B(z){return new DataView(d(z),0,z)}y.mallocDataView=B;function I(z){z=r.nextPow2(z);var O=r.log2(z),F=T[O];return F.length>0?F.pop():new a(z)}y.mallocBuffer=I,y.clearCache=function(){for(var O=0;O<32;++O)m.UINT8[O].length=0,m.UINT16[O].length=0,m.UINT32[O].length=0,m.INT8[O].length=0,m.INT16[O].length=0,m.INT32[O].length=0,m.FLOAT[O].length=0,m.DOUBLE[O].length=0,m.BIGUINT64[O].length=0,m.BIGINT64[O].length=0,m.UINT8C[O].length=0,h[O].length=0,T[O].length=0}},1731:function(v){v.exports=y;function y(r){this.roots=new Array(r),this.ranks=new Array(r);for(var l=0;l<r;++l)this.roots[l]=l,this.ranks[l]=0}var t=y.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var l=r,a=this.roots;a[r]!==r;)r=a[r];for(;a[l]!==r;){var s=a[l];a[l]=r,l=s}return r},t.link=function(r,l){var a=this.find(r),s=this.find(l);if(a!==s){var c=this.ranks,u=this.roots,m=c[a],h=c[s];m<h?u[a]=s:h<m?u[s]=a:(u[s]=a,++c[a])}}},1215:function(v){function y(l,a){for(var s=1,c=l.length,u=l[0],m=l[0],h=1;h<c;++h)if(m=u,u=l[h],a(u,m)){if(h===s){s++;continue}l[s++]=u}return l.length=s,l}function t(l){for(var a=1,s=l.length,c=l[0],u=l[0],m=1;m<s;++m,u=c)if(u=c,c=l[m],c!==u){if(m===a){a++;continue}l[a++]=c}return l.length=a,l}function r(l,a,s){return l.length===0?l:a?(s||l.sort(a),y(l,a)):(s||l.sort(),t(l))}v.exports=r},875:function(v,y,t){v.exports=s;var r=t(712),l=null,a=null;typeof document<"u"&&(l=document.createElement("canvas"),l.width=8192,l.height=1024,a=l.getContext("2d"));function s(c,u){return(typeof u!="object"||u===null)&&(u={}),r(c,u.canvas||l,u.context||a,u)}},712:function(v,y,t){v.exports=_,v.exports.processPixels=k;var r=t(4162),l=t(5050),a=t(8243),s=t(197),c=t(7761),u=t(8040),m="b",h="b|",T="i",f="i|",o="sup",d="+",M="+1",A="sub",E="-",g="-1";function S(B,I,z,O){for(var F="<"+B+">",N="</"+B+">",Q=F.length,$=N.length,j=I[0]===d||I[0]===E,ee=0,oe=-$;ee>-1&&(ee=z.indexOf(F,ee),!(ee===-1||(oe=z.indexOf(N,ee+Q),oe===-1)||oe<=ee));){for(var Y=ee;Y<oe+$;++Y)if(Y<ee+Q||Y>=oe)O[Y]=null,z=z.substr(0,Y)+" "+z.substr(Y+1);else if(O[Y]!==null){var V=O[Y].indexOf(I[0]);V===-1?O[Y]+=I:j&&(O[Y]=O[Y].substr(0,V+1)+(1+parseInt(O[Y][V+1]))+O[Y].substr(V+2))}var W=ee+Q,X=z.substr(W,oe-W),re=X.indexOf(F);re!==-1?ee=re:ee=oe+$}return O}function b(B,I,z){for(var O=I.textAlign||"start",F=I.textBaseline||"alphabetic",N=[1<<30,1<<30],Q=[0,0],$=B.length,j=0;j<$;++j)for(var ee=B[j],oe=0;oe<2;++oe)N[oe]=Math.min(N[oe],ee[oe])|0,Q[oe]=Math.max(Q[oe],ee[oe])|0;var Y=0;switch(O){case"center":Y=-.5*(N[0]+Q[0]);break;case"right":case"end":Y=-Q[0];break;case"left":case"start":Y=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var V=0;switch(F){case"hanging":case"top":V=-N[1];break;case"middle":V=-.5*(N[1]+Q[1]);break;case"alphabetic":case"ideographic":V=-3*z;break;case"bottom":V=-Q[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var W=1/z;return"lineHeight"in I?W*=+I.lineHeight:"width"in I?W=I.width/(Q[0]-N[0]):"height"in I&&(W=I.height/(Q[1]-N[1])),B.map(function(X){return[W*(X[0]+Y),W*(X[1]+V)]})}function i(B,I,z,O,F,N){z=z.replace(/\n/g,""),N.breaklines===!0?z=z.replace(/\<br\>/g,`
`):z=z.replace(/\<br\>/g," ");var Q="",$=[];for(q=0;q<z.length;++q)$[q]=Q;N.bolds===!0&&($=S(m,h,z,$)),N.italics===!0&&($=S(T,f,z,$)),N.superscripts===!0&&($=S(o,M,z,$)),N.subscripts===!0&&($=S(A,g,z,$));var j=[],ee="";for(q=0;q<z.length;++q)$[q]!==null&&(ee+=z[q],j.push($[q]));var oe=ee.split(`
`),Y=oe.length,V=Math.round(F*O),W=O,X=O*2,re=0,ie=Y*V+X;B.height<ie&&(B.height=ie),I.fillStyle="#000",I.fillRect(0,0,B.width,B.height),I.fillStyle="#fff";var K,q,le,ae,he,me=0,Me="";function xe(){if(Me!==""){var He=I.measureText(Me).width;I.fillText(Me,W+le,X+ae),le+=He}}function Ie(){return""+Math.round(he)+"px "}function _e(He,ut){var et=""+I.font;if(N.subscripts===!0){var Qe=He.indexOf(E),qe=ut.indexOf(E),ft=Qe>-1?parseInt(He[1+Qe]):0,gt=qe>-1?parseInt(ut[1+qe]):0;ft!==gt&&(et=et.replace(Ie(),"?px "),he*=Math.pow(.75,gt-ft),et=et.replace("?px ",Ie())),ae+=.25*V*(gt-ft)}if(N.superscripts===!0){var xt=He.indexOf(d),Ct=ut.indexOf(d),Je=xt>-1?parseInt(He[1+xt]):0,ze=Ct>-1?parseInt(ut[1+Ct]):0;Je!==ze&&(et=et.replace(Ie(),"?px "),he*=Math.pow(.75,ze-Je),et=et.replace("?px ",Ie())),ae-=.25*V*(ze-Je)}if(N.bolds===!0){var Fe=He.indexOf(h)>-1,$e=ut.indexOf(h)>-1;!Fe&&$e&&(at?et=et.replace("italic ","italic bold "):et="bold "+et),Fe&&!$e&&(et=et.replace("bold ",""))}if(N.italics===!0){var at=He.indexOf(f)>-1,Xe=ut.indexOf(f)>-1;!at&&Xe&&(et="italic "+et),at&&!Xe&&(et=et.replace("italic ",""))}I.font=et}for(K=0;K<Y;++K){var Te=oe[K]+`
`;for(le=0,ae=K*V,he=O,Me="",q=0;q<Te.length;++q){var ye=q+me<j.length?j[q+me]:j[j.length-1];Q===ye?Me+=Te[q]:(xe(),Me=Te[q],ye!==void 0&&(_e(Q,ye),Q=ye))}xe(),me+=Te.length;var Ae=Math.round(le+2*W)|0;re<Ae&&(re=Ae)}var Be=re,Ue=X+V*Y,De=l(I.getImageData(0,0,Be,Ue).data,[Ue,Be,4]);return De.pick(-1,-1,0).transpose(1,0)}function P(B,I){var z=r(B,128);return I?a(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function x(B,I,z,O){var F=P(B,O),N=b(F.positions,I,z),Q=F.edges,$=I.orientation==="ccw";if(s(N,Q),I.polygons||I.polygon||I.polyline){for(var j=u(Q,N),ee=new Array(j.length),oe=0;oe<j.length;++oe){for(var Y=j[oe],V=new Array(Y.length),W=0;W<Y.length;++W){for(var X=Y[W],re=new Array(X.length),ie=0;ie<X.length;++ie)re[ie]=N[X[ie]].slice();$&&re.reverse(),V[W]=re}ee[oe]=V}return ee}else return I.triangles||I.triangulate||I.triangle?{cells:c(N,Q,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:Q,positions:N}}function k(B,I,z){try{return x(B,I,z,!0)}catch{}try{return x(B,I,z,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(B,I,z,O){var F=64,N=1.25,Q={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(F=O.size),O.lineSpacing&&O.lineSpacing>0&&(N=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(Q.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(Q.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(Q.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(Q.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(Q.superscripts=!!O.styletags.superscripts)),z.font=[O.fontStyle,O.fontVariant,O.fontWeight,F+"px",O.font].filter(function(j){return j}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr";var $=i(I,z,B,F,N,Q);return k($,O,F)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(P){P.permitHostObjects___&&P.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var l=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new l,s=Object.freeze({});if(a.set(s,1),a.get(s)!==1)r=!0;else{v.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,u=Object.defineProperty,m=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var f=new ArrayBuffer(25),o=new Uint8Array(f);crypto.getRandomValues(o),T=h+"rand:"+Array.prototype.map.call(o,function(P){return(P%36).toString(36)}).join("")+"___"}function d(P){return!(P.substr(0,h.length)==h&&P.substr(P.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(x){return c(x).filter(d)}}),"getPropertyNames"in Object){var M=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(x){return M(x).filter(d)}})}function A(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var x=P[T];if(x&&x.key===P)return x;if(m(P)){x={key:P};try{return u(P,T,{value:x,writable:!1,enumerable:!1,configurable:!1}),x}catch{return}}}(function(){var P=Object.freeze;u(Object,"freeze",{value:function(B){return A(B),P(B)}});var x=Object.seal;u(Object,"seal",{value:function(B){return A(B),x(B)}});var k=Object.preventExtensions;u(Object,"preventExtensions",{value:function(B){return A(B),k(B)}})})();function E(P){return P.prototype=null,Object.freeze(P)}var g=!1;function S(){!g&&typeof console<"u"&&(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,i=function(){this instanceof i||S();var P=[],x=[],k=b++;function _(O,F){var N,Q=A(O);return Q?k in Q?Q[k]:F:(N=P.indexOf(O),N>=0?x[N]:F)}function B(O){var F=A(O);return F?k in F:P.indexOf(O)>=0}function I(O,F){var N,Q=A(O);return Q?Q[k]=F:(N=P.indexOf(O),N>=0?x[N]=F:(N=P.length,x[N]=F,P[N]=O)),this}function z(O){var F=A(O),N,Q;return F?k in F&&delete F[k]:(N=P.indexOf(O),N<0?!1:(Q=P.length-1,P[N]=void 0,x[N]=x[Q],P[N]=P[Q],P.length=Q,x.length=Q,!0))}return Object.create(i.prototype,{get___:{value:E(_)},has___:{value:E(B)},set___:{value:E(I)},delete___:{value:E(z)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(x,k){return this.get___(x,k)},writable:!0,configurable:!0},has:{value:function(x){return this.has___(x)},writable:!0,configurable:!0},set:{value:function(x,k){return this.set___(x,k)},writable:!0,configurable:!0},delete:{value:function(x){return this.delete___(x)},writable:!0,configurable:!0}}),typeof l=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function P(){this instanceof i||S();var x=new l,k=void 0,_=!1;function B(F,N){return k?x.has(F)?x.get(F):k.get___(F,N):x.get(F,N)}function I(F){return x.has(F)||(k?k.has___(F):!1)}var z;r?z=function(F,N){return x.set(F,N),x.has(F)||(k||(k=new i),k.set(F,N)),this}:z=function(F,N){if(_)try{x.set(F,N)}catch{k||(k=new i),k.set___(F,N)}else x.set(F,N);return this};function O(F){var N=!!x.delete(F);return k&&k.delete___(F)||N}return Object.create(i.prototype,{get___:{value:E(B)},has___:{value:E(I)},set___:{value:E(z)},delete___:{value:E(O)},permitHostObjects___:{value:E(function(F){if(F===t)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}P.prototype=i.prototype,v.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},9222:function(v,y,t){var r=t(7178);v.exports=l;function l(){var a={};return function(s){if((typeof s!="object"||s===null)&&typeof s!="function")throw new Error("Weakmap-shim: Key must be object");var c=s.valueOf(a);return c&&c.identity===a?c:r(s,a)}}},7178:function(v){v.exports=y;function y(t,r){var l={identity:r},a=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(s){return s!==r?a.apply(this,arguments):l},writable:!0}),l}},4037:function(v,y,t){var r=t(9222);v.exports=l;function l(){var a=r();return{get:function(s,c){var u=a(s);return u.hasOwnProperty("value")?u.value:c},set:function(s,c){return a(s).value=c,this},has:function(s){return"value"in a(s)},delete:function(s){return delete a(s).value}}}},6183:function(v){function y(){return function(c,u,m,h,T,f){var o=c[0],d=m[0],M=[0],A=d;h|=0;var E=0,g=d;for(E=0;E<o;++E){{var S=u[h]-f,b=u[h+A]-f;S>=0!=b>=0&&T.push(M[0]+.5+.5*(S+b)/(S-b))}h+=g,++M[0]}}}function t(){return y()}var r=t;function l(c){var u={};return function(h,T,f){var o=h.dtype,d=h.order,M=[o,d.join()].join(),A=u[M];return A||(u[M]=A=c([o,d])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,T,f)}}function a(c){return l(r.bind(void 0,c))}function s(c){return a({funcName:c.funcName})}v.exports=s({funcName:"zeroCrossings"})},9584:function(v,y,t){v.exports=l;var r=t(6183);function l(a,s){var c=[];return s=+s||0,r(a.hi(a.shape[0]-1),c,s),c}},6601:function(){}},n={};function C(v){var y=n[v];if(y!==void 0)return y.exports;var t=n[v]={id:v,loaded:!1,exports:{}};return L[v].call(t.exports,t,t.exports,C),t.loaded=!0,t.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var w=C(7386);return w}()})},12856:function(G,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(Je,ze){if(!(Je instanceof ze))throw new TypeError("Cannot call a class as a function")}function L(Je,ze){for(var Fe=0;Fe<ze.length;Fe++){var $e=ze[Fe];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Je,$e.key,$e)}}function n(Je,ze,Fe){return ze&&L(Je.prototype,ze),Fe&&L(Je,Fe),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function C(Je,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),ze&&w(Je,ze)}function w(Je,ze){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($e,at){return $e.__proto__=at,$e},w(Je,ze)}function v(Je){var ze=r();return function(){var $e=l(Je),at;if(ze){var Xe=l(this).constructor;at=Reflect.construct($e,arguments,Xe)}else at=$e.apply(this,arguments);return y(this,at)}}function y(Je,ze){if(ze&&(a(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(Je)}function t(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(Je){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},l(Je)}function a(Je){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},a(Je)}var s=e(95341),c=e(95280),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=f,U.SlowBuffer=x,U.INSPECT_MAX_BYTES=50;var m=2147483647;U.kMaxLength=m,f.TYPED_ARRAY_SUPPORT=h(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Je=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(Je,ze),Je.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function T(Je){if(Je>m)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var ze=new Uint8Array(Je);return Object.setPrototypeOf(ze,f.prototype),ze}function f(Je,ze,Fe){if(typeof Je=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(Je)}return o(Je,ze,Fe)}f.poolSize=8192;function o(Je,ze,Fe){if(typeof Je=="string")return E(Je,ze);if(ArrayBuffer.isView(Je))return S(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+a(Je));if(qe(Je,ArrayBuffer)||Je&&qe(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(Je,SharedArrayBuffer)||Je&&qe(Je.buffer,SharedArrayBuffer)))return b(Je,ze,Fe);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $e=Je.valueOf&&Je.valueOf();if($e!=null&&$e!==Je)return f.from($e,ze,Fe);var at=i(Je);if(at)return at;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return f.from(Je[Symbol.toPrimitive]("string"),ze,Fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+a(Je))}f.from=function(Je,ze,Fe){return o(Je,ze,Fe)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function d(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function M(Je,ze,Fe){return d(Je),Je<=0?T(Je):ze!==void 0?typeof Fe=="string"?T(Je).fill(ze,Fe):T(Je).fill(ze):T(Je)}f.alloc=function(Je,ze,Fe){return M(Je,ze,Fe)};function A(Je){return d(Je),T(Je<0?0:P(Je)|0)}f.allocUnsafe=function(Je){return A(Je)},f.allocUnsafeSlow=function(Je){return A(Je)};function E(Je,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!f.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var Fe=k(Je,ze)|0,$e=T(Fe),at=$e.write(Je,ze);return at!==Fe&&($e=$e.slice(0,at)),$e}function g(Je){for(var ze=Je.length<0?0:P(Je.length)|0,Fe=T(ze),$e=0;$e<ze;$e+=1)Fe[$e]=Je[$e]&255;return Fe}function S(Je){if(qe(Je,Uint8Array)){var ze=new Uint8Array(Je);return b(ze.buffer,ze.byteOffset,ze.byteLength)}return g(Je)}function b(Je,ze,Fe){if(ze<0||Je.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<ze+(Fe||0))throw new RangeError('"length" is outside of buffer bounds');var $e;return ze===void 0&&Fe===void 0?$e=new Uint8Array(Je):Fe===void 0?$e=new Uint8Array(Je,ze):$e=new Uint8Array(Je,ze,Fe),Object.setPrototypeOf($e,f.prototype),$e}function i(Je){if(f.isBuffer(Je)){var ze=P(Je.length)|0,Fe=T(ze);return Fe.length===0||Je.copy(Fe,0,0,ze),Fe}if(Je.length!==void 0)return typeof Je.length!="number"||ft(Je.length)?T(0):g(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return g(Je.data)}function P(Je){if(Je>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return Je|0}function x(Je){return+Je!=Je&&(Je=0),f.alloc(+Je)}f.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==f.prototype},f.compare=function(ze,Fe){if(qe(ze,Uint8Array)&&(ze=f.from(ze,ze.offset,ze.byteLength)),qe(Fe,Uint8Array)&&(Fe=f.from(Fe,Fe.offset,Fe.byteLength)),!f.isBuffer(ze)||!f.isBuffer(Fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===Fe)return 0;for(var $e=ze.length,at=Fe.length,Xe=0,Pe=Math.min($e,at);Xe<Pe;++Xe)if(ze[Xe]!==Fe[Xe]){$e=ze[Xe],at=Fe[Xe];break}return $e<at?-1:at<$e?1:0},f.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(ze,Fe){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return f.alloc(0);var $e;if(Fe===void 0)for(Fe=0,$e=0;$e<ze.length;++$e)Fe+=ze[$e].length;var at=f.allocUnsafe(Fe),Xe=0;for($e=0;$e<ze.length;++$e){var Pe=ze[$e];if(qe(Pe,Uint8Array))Xe+Pe.length>at.length?(f.isBuffer(Pe)||(Pe=f.from(Pe)),Pe.copy(at,Xe)):Uint8Array.prototype.set.call(at,Pe,Xe);else if(f.isBuffer(Pe))Pe.copy(at,Xe);else throw new TypeError('"list" argument must be an Array of Buffers');Xe+=Pe.length}return at};function k(Je,ze){if(f.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||qe(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+a(Je));var Fe=Je.length,$e=arguments.length>2&&arguments[2]===!0;if(!$e&&Fe===0)return 0;for(var at=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return Fe;case"utf8":case"utf-8":return De(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe*2;case"hex":return Fe>>>1;case"base64":return et(Je).length;default:if(at)return $e?-1:De(Je).length;ze=(""+ze).toLowerCase(),at=!0}}f.byteLength=k;function _(Je,ze,Fe){var $e=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((Fe===void 0||Fe>this.length)&&(Fe=this.length),Fe<=0)||(Fe>>>=0,ze>>>=0,Fe<=ze))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return X(this,ze,Fe);case"utf8":case"utf-8":return ee(this,ze,Fe);case"ascii":return V(this,ze,Fe);case"latin1":case"binary":return W(this,ze,Fe);case"base64":return j(this,ze,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,ze,Fe);default:if($e)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),$e=!0}}f.prototype._isBuffer=!0;function B(Je,ze,Fe){var $e=Je[ze];Je[ze]=Je[Fe],Je[Fe]=$e}f.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Fe=0;Fe<ze;Fe+=2)B(this,Fe,Fe+1);return this},f.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Fe=0;Fe<ze;Fe+=4)B(this,Fe,Fe+3),B(this,Fe+1,Fe+2);return this},f.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Fe=0;Fe<ze;Fe+=8)B(this,Fe,Fe+7),B(this,Fe+1,Fe+6),B(this,Fe+2,Fe+5),B(this,Fe+3,Fe+4);return this},f.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?ee(this,0,ze):_.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(ze){if(!f.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:f.compare(this,ze)===0},f.prototype.inspect=function(){var ze="",Fe=U.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,Fe).replace(/(.{2})/g,"$1 ").trim(),this.length>Fe&&(ze+=" ... "),"<Buffer "+ze+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(ze,Fe,$e,at,Xe){if(qe(ze,Uint8Array)&&(ze=f.from(ze,ze.offset,ze.byteLength)),!f.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+a(ze));if(Fe===void 0&&(Fe=0),$e===void 0&&($e=ze?ze.length:0),at===void 0&&(at=0),Xe===void 0&&(Xe=this.length),Fe<0||$e>ze.length||at<0||Xe>this.length)throw new RangeError("out of range index");if(at>=Xe&&Fe>=$e)return 0;if(at>=Xe)return-1;if(Fe>=$e)return 1;if(Fe>>>=0,$e>>>=0,at>>>=0,Xe>>>=0,this===ze)return 0;for(var Pe=Xe-at,we=$e-Fe,ue=Math.min(Pe,we),ge=this.slice(at,Xe),Le=ze.slice(Fe,$e),ke=0;ke<ue;++ke)if(ge[ke]!==Le[ke]){Pe=ge[ke],we=Le[ke];break}return Pe<we?-1:we<Pe?1:0};function I(Je,ze,Fe,$e,at){if(Je.length===0)return-1;if(typeof Fe=="string"?($e=Fe,Fe=0):Fe>2147483647?Fe=2147483647:Fe<-2147483648&&(Fe=-2147483648),Fe=+Fe,ft(Fe)&&(Fe=at?0:Je.length-1),Fe<0&&(Fe=Je.length+Fe),Fe>=Je.length){if(at)return-1;Fe=Je.length-1}else if(Fe<0)if(at)Fe=0;else return-1;if(typeof ze=="string"&&(ze=f.from(ze,$e)),f.isBuffer(ze))return ze.length===0?-1:z(Je,ze,Fe,$e,at);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?at?Uint8Array.prototype.indexOf.call(Je,ze,Fe):Uint8Array.prototype.lastIndexOf.call(Je,ze,Fe):z(Je,[ze],Fe,$e,at);throw new TypeError("val must be string, number or Buffer")}function z(Je,ze,Fe,$e,at){var Xe=1,Pe=Je.length,we=ze.length;if($e!==void 0&&($e=String($e).toLowerCase(),$e==="ucs2"||$e==="ucs-2"||$e==="utf16le"||$e==="utf-16le")){if(Je.length<2||ze.length<2)return-1;Xe=2,Pe/=2,we/=2,Fe/=2}function ue(lt,bt){return Xe===1?lt[bt]:lt.readUInt16BE(bt*Xe)}var ge;if(at){var Le=-1;for(ge=Fe;ge<Pe;ge++)if(ue(Je,ge)===ue(ze,Le===-1?0:ge-Le)){if(Le===-1&&(Le=ge),ge-Le+1===we)return Le*Xe}else Le!==-1&&(ge-=ge-Le),Le=-1}else for(Fe+we>Pe&&(Fe=Pe-we),ge=Fe;ge>=0;ge--){for(var ke=!0,it=0;it<we;it++)if(ue(Je,ge+it)!==ue(ze,it)){ke=!1;break}if(ke)return ge}return-1}f.prototype.includes=function(ze,Fe,$e){return this.indexOf(ze,Fe,$e)!==-1},f.prototype.indexOf=function(ze,Fe,$e){return I(this,ze,Fe,$e,!0)},f.prototype.lastIndexOf=function(ze,Fe,$e){return I(this,ze,Fe,$e,!1)};function O(Je,ze,Fe,$e){Fe=Number(Fe)||0;var at=Je.length-Fe;$e?($e=Number($e),$e>at&&($e=at)):$e=at;var Xe=ze.length;$e>Xe/2&&($e=Xe/2);var Pe;for(Pe=0;Pe<$e;++Pe){var we=parseInt(ze.substr(Pe*2,2),16);if(ft(we))return Pe;Je[Fe+Pe]=we}return Pe}function F(Je,ze,Fe,$e){return Qe(De(ze,Je.length-Fe),Je,Fe,$e)}function N(Je,ze,Fe,$e){return Qe(He(ze),Je,Fe,$e)}function Q(Je,ze,Fe,$e){return Qe(et(ze),Je,Fe,$e)}function $(Je,ze,Fe,$e){return Qe(ut(ze,Je.length-Fe),Je,Fe,$e)}f.prototype.write=function(ze,Fe,$e,at){if(Fe===void 0)at="utf8",$e=this.length,Fe=0;else if($e===void 0&&typeof Fe=="string")at=Fe,$e=this.length,Fe=0;else if(isFinite(Fe))Fe=Fe>>>0,isFinite($e)?($e=$e>>>0,at===void 0&&(at="utf8")):(at=$e,$e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Xe=this.length-Fe;if(($e===void 0||$e>Xe)&&($e=Xe),ze.length>0&&($e<0||Fe<0)||Fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");for(var Pe=!1;;)switch(at){case"hex":return O(this,ze,Fe,$e);case"utf8":case"utf-8":return F(this,ze,Fe,$e);case"ascii":case"latin1":case"binary":return N(this,ze,Fe,$e);case"base64":return Q(this,ze,Fe,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,ze,Fe,$e);default:if(Pe)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),Pe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(Je,ze,Fe){return ze===0&&Fe===Je.length?s.fromByteArray(Je):s.fromByteArray(Je.slice(ze,Fe))}function ee(Je,ze,Fe){Fe=Math.min(Je.length,Fe);for(var $e=[],at=ze;at<Fe;){var Xe=Je[at],Pe=null,we=Xe>239?4:Xe>223?3:Xe>191?2:1;if(at+we<=Fe){var ue=void 0,ge=void 0,Le=void 0,ke=void 0;switch(we){case 1:Xe<128&&(Pe=Xe);break;case 2:ue=Je[at+1],(ue&192)===128&&(ke=(Xe&31)<<6|ue&63,ke>127&&(Pe=ke));break;case 3:ue=Je[at+1],ge=Je[at+2],(ue&192)===128&&(ge&192)===128&&(ke=(Xe&15)<<12|(ue&63)<<6|ge&63,ke>2047&&(ke<55296||ke>57343)&&(Pe=ke));break;case 4:ue=Je[at+1],ge=Je[at+2],Le=Je[at+3],(ue&192)===128&&(ge&192)===128&&(Le&192)===128&&(ke=(Xe&15)<<18|(ue&63)<<12|(ge&63)<<6|Le&63,ke>65535&&ke<1114112&&(Pe=ke))}}Pe===null?(Pe=65533,we=1):Pe>65535&&(Pe-=65536,$e.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),$e.push(Pe),at+=we}return Y($e)}var oe=4096;function Y(Je){var ze=Je.length;if(ze<=oe)return String.fromCharCode.apply(String,Je);for(var Fe="",$e=0;$e<ze;)Fe+=String.fromCharCode.apply(String,Je.slice($e,$e+=oe));return Fe}function V(Je,ze,Fe){var $e="";Fe=Math.min(Je.length,Fe);for(var at=ze;at<Fe;++at)$e+=String.fromCharCode(Je[at]&127);return $e}function W(Je,ze,Fe){var $e="";Fe=Math.min(Je.length,Fe);for(var at=ze;at<Fe;++at)$e+=String.fromCharCode(Je[at]);return $e}function X(Je,ze,Fe){var $e=Je.length;(!ze||ze<0)&&(ze=0),(!Fe||Fe<0||Fe>$e)&&(Fe=$e);for(var at="",Xe=ze;Xe<Fe;++Xe)at+=gt[Je[Xe]];return at}function re(Je,ze,Fe){for(var $e=Je.slice(ze,Fe),at="",Xe=0;Xe<$e.length-1;Xe+=2)at+=String.fromCharCode($e[Xe]+$e[Xe+1]*256);return at}f.prototype.slice=function(ze,Fe){var $e=this.length;ze=~~ze,Fe=Fe===void 0?$e:~~Fe,ze<0?(ze+=$e,ze<0&&(ze=0)):ze>$e&&(ze=$e),Fe<0?(Fe+=$e,Fe<0&&(Fe=0)):Fe>$e&&(Fe=$e),Fe<ze&&(Fe=ze);var at=this.subarray(ze,Fe);return Object.setPrototypeOf(at,f.prototype),at};function ie(Je,ze,Fe){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+ze>Fe)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(ze,Fe,$e){ze=ze>>>0,Fe=Fe>>>0,$e||ie(ze,Fe,this.length);for(var at=this[ze],Xe=1,Pe=0;++Pe<Fe&&(Xe*=256);)at+=this[ze+Pe]*Xe;return at},f.prototype.readUintBE=f.prototype.readUIntBE=function(ze,Fe,$e){ze=ze>>>0,Fe=Fe>>>0,$e||ie(ze,Fe,this.length);for(var at=this[ze+--Fe],Xe=1;Fe>0&&(Xe*=256);)at+=this[ze+--Fe]*Xe;return at},f.prototype.readUint8=f.prototype.readUInt8=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,1,this.length),this[ze]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,2,this.length),this[ze]|this[ze+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,2,this.length),this[ze]<<8|this[ze+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},f.prototype.readBigUInt64LE=xt(function(ze){ze=ze>>>0,ye(ze,"offset");var Fe=this[ze],$e=this[ze+7];(Fe===void 0||$e===void 0)&&Ae(ze,this.length-8);var at=Fe+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),Xe=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+$e*Math.pow(2,24);return BigInt(at)+(BigInt(Xe)<<BigInt(32))}),f.prototype.readBigUInt64BE=xt(function(ze){ze=ze>>>0,ye(ze,"offset");var Fe=this[ze],$e=this[ze+7];(Fe===void 0||$e===void 0)&&Ae(ze,this.length-8);var at=Fe*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],Xe=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+$e;return(BigInt(at)<<BigInt(32))+BigInt(Xe)}),f.prototype.readIntLE=function(ze,Fe,$e){ze=ze>>>0,Fe=Fe>>>0,$e||ie(ze,Fe,this.length);for(var at=this[ze],Xe=1,Pe=0;++Pe<Fe&&(Xe*=256);)at+=this[ze+Pe]*Xe;return Xe*=128,at>=Xe&&(at-=Math.pow(2,8*Fe)),at},f.prototype.readIntBE=function(ze,Fe,$e){ze=ze>>>0,Fe=Fe>>>0,$e||ie(ze,Fe,this.length);for(var at=Fe,Xe=1,Pe=this[ze+--at];at>0&&(Xe*=256);)Pe+=this[ze+--at]*Xe;return Xe*=128,Pe>=Xe&&(Pe-=Math.pow(2,8*Fe)),Pe},f.prototype.readInt8=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},f.prototype.readInt16LE=function(ze,Fe){ze=ze>>>0,Fe||ie(ze,2,this.length);var $e=this[ze]|this[ze+1]<<8;return $e&32768?$e|4294901760:$e},f.prototype.readInt16BE=function(ze,Fe){ze=ze>>>0,Fe||ie(ze,2,this.length);var $e=this[ze+1]|this[ze]<<8;return $e&32768?$e|4294901760:$e},f.prototype.readInt32LE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},f.prototype.readInt32BE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},f.prototype.readBigInt64LE=xt(function(ze){ze=ze>>>0,ye(ze,"offset");var Fe=this[ze],$e=this[ze+7];(Fe===void 0||$e===void 0)&&Ae(ze,this.length-8);var at=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+($e<<24);return(BigInt(at)<<BigInt(32))+BigInt(Fe+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),f.prototype.readBigInt64BE=xt(function(ze){ze=ze>>>0,ye(ze,"offset");var Fe=this[ze],$e=this[ze+7];(Fe===void 0||$e===void 0)&&Ae(ze,this.length-8);var at=(Fe<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(at)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+$e)}),f.prototype.readFloatLE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),c.read(this,ze,!0,23,4)},f.prototype.readFloatBE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,4,this.length),c.read(this,ze,!1,23,4)},f.prototype.readDoubleLE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,8,this.length),c.read(this,ze,!0,52,8)},f.prototype.readDoubleBE=function(ze,Fe){return ze=ze>>>0,Fe||ie(ze,8,this.length),c.read(this,ze,!1,52,8)};function K(Je,ze,Fe,$e,at,Xe){if(!f.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>at||ze<Xe)throw new RangeError('"value" argument is out of bounds');if(Fe+$e>Je.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(ze,Fe,$e,at){if(ze=+ze,Fe=Fe>>>0,$e=$e>>>0,!at){var Xe=Math.pow(2,8*$e)-1;K(this,ze,Fe,$e,Xe,0)}var Pe=1,we=0;for(this[Fe]=ze&255;++we<$e&&(Pe*=256);)this[Fe+we]=ze/Pe&255;return Fe+$e},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(ze,Fe,$e,at){if(ze=+ze,Fe=Fe>>>0,$e=$e>>>0,!at){var Xe=Math.pow(2,8*$e)-1;K(this,ze,Fe,$e,Xe,0)}var Pe=$e-1,we=1;for(this[Fe+Pe]=ze&255;--Pe>=0&&(we*=256);)this[Fe+Pe]=ze/we&255;return Fe+$e},f.prototype.writeUint8=f.prototype.writeUInt8=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,1,255,0),this[Fe]=ze&255,Fe+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,2,65535,0),this[Fe]=ze&255,this[Fe+1]=ze>>>8,Fe+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,2,65535,0),this[Fe]=ze>>>8,this[Fe+1]=ze&255,Fe+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,4,4294967295,0),this[Fe+3]=ze>>>24,this[Fe+2]=ze>>>16,this[Fe+1]=ze>>>8,this[Fe]=ze&255,Fe+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,4,4294967295,0),this[Fe]=ze>>>24,this[Fe+1]=ze>>>16,this[Fe+2]=ze>>>8,this[Fe+3]=ze&255,Fe+4};function q(Je,ze,Fe,$e,at){Te(ze,$e,at,Je,Fe,7);var Xe=Number(ze&BigInt(4294967295));Je[Fe++]=Xe,Xe=Xe>>8,Je[Fe++]=Xe,Xe=Xe>>8,Je[Fe++]=Xe,Xe=Xe>>8,Je[Fe++]=Xe;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[Fe++]=Pe,Pe=Pe>>8,Je[Fe++]=Pe,Pe=Pe>>8,Je[Fe++]=Pe,Pe=Pe>>8,Je[Fe++]=Pe,Fe}function le(Je,ze,Fe,$e,at){Te(ze,$e,at,Je,Fe,7);var Xe=Number(ze&BigInt(4294967295));Je[Fe+7]=Xe,Xe=Xe>>8,Je[Fe+6]=Xe,Xe=Xe>>8,Je[Fe+5]=Xe,Xe=Xe>>8,Je[Fe+4]=Xe;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[Fe+3]=Pe,Pe=Pe>>8,Je[Fe+2]=Pe,Pe=Pe>>8,Je[Fe+1]=Pe,Pe=Pe>>8,Je[Fe]=Pe,Fe+8}f.prototype.writeBigUInt64LE=xt(function(ze){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return q(this,ze,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=xt(function(ze){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,ze,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(ze,Fe,$e,at){if(ze=+ze,Fe=Fe>>>0,!at){var Xe=Math.pow(2,8*$e-1);K(this,ze,Fe,$e,Xe-1,-Xe)}var Pe=0,we=1,ue=0;for(this[Fe]=ze&255;++Pe<$e&&(we*=256);)ze<0&&ue===0&&this[Fe+Pe-1]!==0&&(ue=1),this[Fe+Pe]=(ze/we>>0)-ue&255;return Fe+$e},f.prototype.writeIntBE=function(ze,Fe,$e,at){if(ze=+ze,Fe=Fe>>>0,!at){var Xe=Math.pow(2,8*$e-1);K(this,ze,Fe,$e,Xe-1,-Xe)}var Pe=$e-1,we=1,ue=0;for(this[Fe+Pe]=ze&255;--Pe>=0&&(we*=256);)ze<0&&ue===0&&this[Fe+Pe+1]!==0&&(ue=1),this[Fe+Pe]=(ze/we>>0)-ue&255;return Fe+$e},f.prototype.writeInt8=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,1,127,-128),ze<0&&(ze=255+ze+1),this[Fe]=ze&255,Fe+1},f.prototype.writeInt16LE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,2,32767,-32768),this[Fe]=ze&255,this[Fe+1]=ze>>>8,Fe+2},f.prototype.writeInt16BE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,2,32767,-32768),this[Fe]=ze>>>8,this[Fe+1]=ze&255,Fe+2},f.prototype.writeInt32LE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,4,2147483647,-2147483648),this[Fe]=ze&255,this[Fe+1]=ze>>>8,this[Fe+2]=ze>>>16,this[Fe+3]=ze>>>24,Fe+4},f.prototype.writeInt32BE=function(ze,Fe,$e){return ze=+ze,Fe=Fe>>>0,$e||K(this,ze,Fe,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[Fe]=ze>>>24,this[Fe+1]=ze>>>16,this[Fe+2]=ze>>>8,this[Fe+3]=ze&255,Fe+4},f.prototype.writeBigInt64LE=xt(function(ze){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return q(this,ze,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=xt(function(ze){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,ze,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(Je,ze,Fe,$e,at,Xe){if(Fe+$e>Je.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("Index out of range")}function he(Je,ze,Fe,$e,at){return ze=+ze,Fe=Fe>>>0,at||ae(Je,ze,Fe,4),c.write(Je,ze,Fe,$e,23,4),Fe+4}f.prototype.writeFloatLE=function(ze,Fe,$e){return he(this,ze,Fe,!0,$e)},f.prototype.writeFloatBE=function(ze,Fe,$e){return he(this,ze,Fe,!1,$e)};function me(Je,ze,Fe,$e,at){return ze=+ze,Fe=Fe>>>0,at||ae(Je,ze,Fe,8),c.write(Je,ze,Fe,$e,52,8),Fe+8}f.prototype.writeDoubleLE=function(ze,Fe,$e){return me(this,ze,Fe,!0,$e)},f.prototype.writeDoubleBE=function(ze,Fe,$e){return me(this,ze,Fe,!1,$e)},f.prototype.copy=function(ze,Fe,$e,at){if(!f.isBuffer(ze))throw new TypeError("argument should be a Buffer");if($e||($e=0),!at&&at!==0&&(at=this.length),Fe>=ze.length&&(Fe=ze.length),Fe||(Fe=0),at>0&&at<$e&&(at=$e),at===$e||ze.length===0||this.length===0)return 0;if(Fe<0)throw new RangeError("targetStart out of bounds");if($e<0||$e>=this.length)throw new RangeError("Index out of range");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),ze.length-Fe<at-$e&&(at=ze.length-Fe+$e);var Xe=at-$e;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Fe,$e,at):Uint8Array.prototype.set.call(ze,this.subarray($e,at),Fe),Xe},f.prototype.fill=function(ze,Fe,$e,at){if(typeof ze=="string"){if(typeof Fe=="string"?(at=Fe,Fe=0,$e=this.length):typeof $e=="string"&&(at=$e,$e=this.length),at!==void 0&&typeof at!="string")throw new TypeError("encoding must be a string");if(typeof at=="string"&&!f.isEncoding(at))throw new TypeError("Unknown encoding: "+at);if(ze.length===1){var Xe=ze.charCodeAt(0);(at==="utf8"&&Xe<128||at==="latin1")&&(ze=Xe)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(Fe<0||this.length<Fe||this.length<$e)throw new RangeError("Out of range index");if($e<=Fe)return this;Fe=Fe>>>0,$e=$e===void 0?this.length:$e>>>0,ze||(ze=0);var Pe;if(typeof ze=="number")for(Pe=Fe;Pe<$e;++Pe)this[Pe]=ze;else{var we=f.isBuffer(ze)?ze:f.from(ze,at),ue=we.length;if(ue===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(Pe=0;Pe<$e-Fe;++Pe)this[Pe+Fe]=we[Pe%ue]}return this};var Me={};function xe(Je,ze,Fe){Me[Je]=function($e){C(Xe,$e);var at=v(Xe);function Xe(){var Pe;return p(this,Xe),Pe=at.call(this),Object.defineProperty(t(Pe),"message",{value:ze.apply(t(Pe),arguments),writable:!0,configurable:!0}),Pe.name="".concat(Pe.name," [").concat(Je,"]"),Pe.stack,delete Pe.name,Pe}return n(Xe,[{key:"code",get:function(){return Je},set:function(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),Xe}(Fe)}xe("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),xe("ERR_INVALID_ARG_TYPE",function(Je,ze){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(a(ze))},TypeError),xe("ERR_OUT_OF_RANGE",function(Je,ze,Fe){var $e='The value of "'.concat(Je,'" is out of range.'),at=Fe;return Number.isInteger(Fe)&&Math.abs(Fe)>Math.pow(2,32)?at=Ie(String(Fe)):typeof Fe=="bigint"&&(at=String(Fe),(Fe>Math.pow(BigInt(2),BigInt(32))||Fe<-Math.pow(BigInt(2),BigInt(32)))&&(at=Ie(at)),at+="n"),$e+=" It must be ".concat(ze,". Received ").concat(at),$e},RangeError);function Ie(Je){for(var ze="",Fe=Je.length,$e=Je[0]==="-"?1:0;Fe>=$e+4;Fe-=3)ze="_".concat(Je.slice(Fe-3,Fe)).concat(ze);return"".concat(Je.slice(0,Fe)).concat(ze)}function _e(Je,ze,Fe){ye(ze,"offset"),(Je[ze]===void 0||Je[ze+Fe]===void 0)&&Ae(ze,Je.length-(Fe+1))}function Te(Je,ze,Fe,$e,at,Xe){if(Je>Fe||Je<ze){var Pe=typeof ze=="bigint"?"n":"",we;throw Xe>3?ze===0||ze===BigInt(0)?we=">= 0".concat(Pe," and < 2").concat(Pe," ** ").concat((Xe+1)*8).concat(Pe):we=">= -(2".concat(Pe," ** ").concat((Xe+1)*8-1).concat(Pe,") and < 2 ** ")+"".concat((Xe+1)*8-1).concat(Pe):we=">= ".concat(ze).concat(Pe," and <= ").concat(Fe).concat(Pe),new Me.ERR_OUT_OF_RANGE("value",we,Je)}_e($e,at,Xe)}function ye(Je,ze){if(typeof Je!="number")throw new Me.ERR_INVALID_ARG_TYPE(ze,"number",Je)}function Ae(Je,ze,Fe){throw Math.floor(Je)!==Je?(ye(Je,Fe),new Me.ERR_OUT_OF_RANGE(Fe||"offset","an integer",Je)):ze<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(Fe||"offset",">= ".concat(Fe?1:0," and <= ").concat(ze),Je)}var Be=/[^+/0-9A-Za-z-_]/g;function Ue(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(Be,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function De(Je,ze){ze=ze||1/0;for(var Fe,$e=Je.length,at=null,Xe=[],Pe=0;Pe<$e;++Pe){if(Fe=Je.charCodeAt(Pe),Fe>55295&&Fe<57344){if(!at){if(Fe>56319){(ze-=3)>-1&&Xe.push(239,191,189);continue}else if(Pe+1===$e){(ze-=3)>-1&&Xe.push(239,191,189);continue}at=Fe;continue}if(Fe<56320){(ze-=3)>-1&&Xe.push(239,191,189),at=Fe;continue}Fe=(at-55296<<10|Fe-56320)+65536}else at&&(ze-=3)>-1&&Xe.push(239,191,189);if(at=null,Fe<128){if((ze-=1)<0)break;Xe.push(Fe)}else if(Fe<2048){if((ze-=2)<0)break;Xe.push(Fe>>6|192,Fe&63|128)}else if(Fe<65536){if((ze-=3)<0)break;Xe.push(Fe>>12|224,Fe>>6&63|128,Fe&63|128)}else if(Fe<1114112){if((ze-=4)<0)break;Xe.push(Fe>>18|240,Fe>>12&63|128,Fe>>6&63|128,Fe&63|128)}else throw new Error("Invalid code point")}return Xe}function He(Je){for(var ze=[],Fe=0;Fe<Je.length;++Fe)ze.push(Je.charCodeAt(Fe)&255);return ze}function ut(Je,ze){for(var Fe,$e,at,Xe=[],Pe=0;Pe<Je.length&&!((ze-=2)<0);++Pe)Fe=Je.charCodeAt(Pe),$e=Fe>>8,at=Fe%256,Xe.push(at),Xe.push($e);return Xe}function et(Je){return s.toByteArray(Ue(Je))}function Qe(Je,ze,Fe,$e){var at;for(at=0;at<$e&&!(at+Fe>=ze.length||at>=Je.length);++at)ze[at+Fe]=Je[at];return at}function qe(Je,ze){return Je instanceof ze||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===ze.name}function ft(Je){return Je!==Je}var gt=function(){for(var Je="0123456789abcdef",ze=new Array(256),Fe=0;Fe<16;++Fe)for(var $e=Fe*16,at=0;at<16;++at)ze[$e+at]=Je[Fe]+Je[at];return ze}();function xt(Je){return typeof BigInt>"u"?Ct:Je}function Ct(){throw new Error("BigInt not supported")}},35791:function(G){G.exports=L,G.exports.isMobile=L,G.exports.default=L;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(n){n||(n={});var C=n.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var w=U.test(C)&&!e.test(C)||!!n.tablet&&p.test(C);return!w&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(w=!0),w}},86781:function(G,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return l},sankeyCircular:function(){return P},sankeyJustify:function(){return r},sankeyLeft:function(){return y},sankeyRight:function(){return t}});var p=e(33064),L=e(15140),n=e(45879),C=e(2502),w=e.n(C);function v(xe){return xe.target.depth}function y(xe){return xe.depth}function t(xe,Ie){return Ie-1-xe.height}function r(xe,Ie){return xe.sourceLinks.length?xe.depth:Ie-1}function l(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,p.VV)(xe.sourceLinks,v)-1:0}function a(xe){return function(){return xe}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function c(xe,Ie){return m(xe.source,Ie.source)||xe.index-Ie.index}function u(xe,Ie){return m(xe.target,Ie.target)||xe.index-Ie.index}function m(xe,Ie){return xe.partOfCycle===Ie.partOfCycle?xe.y0-Ie.y0:xe.circularLinkType==="top"||Ie.circularLinkType==="bottom"?-1:1}function h(xe){return xe.value}function T(xe){return(xe.y0+xe.y1)/2}function f(xe){return T(xe.source)}function o(xe){return T(xe.target)}function d(xe){return xe.index}function M(xe){return xe.nodes}function A(xe){return xe.links}function E(xe,Ie){var _e=xe.get(Ie);if(!_e)throw new Error("missing: "+Ie);return _e}function g(xe,Ie){return Ie(xe)}var S=25,b=10,i=.3;function P(){var xe=0,Ie=0,_e=1,Te=1,ye=24,Ae,Be=d,Ue=r,De=M,He=A,ut=32,et=2,Qe,qe=null;function ft(){var at={nodes:De.apply(null,arguments),links:He.apply(null,arguments)};gt(at),x(at,Be,qe),xt(at),ze(at),k(at,Be),Fe(at,ut,Be),$e(at);for(var Xe=4,Pe=0;Pe<Xe;Pe++)q(at,Te,Be),le(at,Te,Be),re(at,Ie,Te,Be),q(at,Te,Be),le(at,Te,Be);return Me(at,Ie,Te),F(at,et,Te,Be),at}ft.nodeId=function(at){return arguments.length?(Be=typeof at=="function"?at:a(at),ft):Be},ft.nodeAlign=function(at){return arguments.length?(Ue=typeof at=="function"?at:a(at),ft):Ue},ft.nodeWidth=function(at){return arguments.length?(ye=+at,ft):ye},ft.nodePadding=function(at){return arguments.length?(Ae=+at,ft):Ae},ft.nodes=function(at){return arguments.length?(De=typeof at=="function"?at:a(at),ft):De},ft.links=function(at){return arguments.length?(He=typeof at=="function"?at:a(at),ft):He},ft.size=function(at){return arguments.length?(xe=Ie=0,_e=+at[0],Te=+at[1],ft):[_e-xe,Te-Ie]},ft.extent=function(at){return arguments.length?(xe=+at[0][0],_e=+at[1][0],Ie=+at[0][1],Te=+at[1][1],ft):[[xe,Ie],[_e,Te]]},ft.iterations=function(at){return arguments.length?(ut=+at,ft):ut},ft.circularLinkGap=function(at){return arguments.length?(et=+at,ft):et},ft.nodePaddingRatio=function(at){return arguments.length?(Qe=+at,ft):Qe},ft.sortNodes=function(at){return arguments.length?(qe=at,ft):qe},ft.update=function(at){return k(at,Be),$e(at),at.links.forEach(function(Xe){Xe.circular&&(Xe.circularLinkType=Xe.y0+Xe.y1<Te?"top":"bottom",Xe.source.circularLinkType=Xe.circularLinkType,Xe.target.circularLinkType=Xe.circularLinkType)}),q(at,Te,Be,!1),le(at,Te,Be),F(at,et,Te,Be),at};function gt(at){at.nodes.forEach(function(Pe,we){Pe.index=we,Pe.sourceLinks=[],Pe.targetLinks=[]});var Xe=(0,L.UI)(at.nodes,Be);return at.links.forEach(function(Pe,we){Pe.index=we;var ue=Pe.source,ge=Pe.target;(typeof ue>"u"?"undefined":s(ue))!=="object"&&(ue=Pe.source=E(Xe,ue)),(typeof ge>"u"?"undefined":s(ge))!=="object"&&(ge=Pe.target=E(Xe,ge)),ue.sourceLinks.push(Pe),ge.targetLinks.push(Pe)}),at}function xt(at){at.nodes.forEach(function(Xe){Xe.partOfCycle=!1,Xe.value=Math.max((0,p.Sm)(Xe.sourceLinks,h),(0,p.Sm)(Xe.targetLinks,h)),Xe.sourceLinks.forEach(function(Pe){Pe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Pe.circularLinkType)}),Xe.targetLinks.forEach(function(Pe){Pe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Pe.circularLinkType)})})}function Ct(at){var Xe=0,Pe=0,we=0,ue=0,ge=(0,p.Fp)(at.nodes,function(Le){return Le.column});return at.links.forEach(function(Le){Le.circular&&(Le.circularLinkType=="top"?Xe=Xe+Le.width:Pe=Pe+Le.width,Le.target.column==0&&(ue=ue+Le.width),Le.source.column==ge&&(we=we+Le.width))}),Xe=Xe>0?Xe+S+b:Xe,Pe=Pe>0?Pe+S+b:Pe,we=we>0?we+S+b:we,ue=ue>0?ue+S+b:ue,{top:Xe,bottom:Pe,left:ue,right:we}}function Je(at,Xe){var Pe=(0,p.Fp)(at.nodes,function(lt){return lt.column}),we=_e-xe,ue=Te-Ie,ge=we+Xe.right+Xe.left,Le=ue+Xe.top+Xe.bottom,ke=we/ge,it=ue/Le;return xe=xe*ke+Xe.left,_e=Xe.right==0?_e:_e*ke,Ie=Ie*it+Xe.top,Te=Te*it,at.nodes.forEach(function(lt){lt.x0=xe+lt.column*((_e-xe-ye)/Pe),lt.x1=lt.x0+ye}),it}function ze(at){var Xe,Pe,we;for(Xe=at.nodes,Pe=[],we=0;Xe.length;++we,Xe=Pe,Pe=[])Xe.forEach(function(ue){ue.depth=we,ue.sourceLinks.forEach(function(ge){Pe.indexOf(ge.target)<0&&!ge.circular&&Pe.push(ge.target)})});for(Xe=at.nodes,Pe=[],we=0;Xe.length;++we,Xe=Pe,Pe=[])Xe.forEach(function(ue){ue.height=we,ue.targetLinks.forEach(function(ge){Pe.indexOf(ge.source)<0&&!ge.circular&&Pe.push(ge.source)})});at.nodes.forEach(function(ue){ue.column=Math.floor(Ue.call(null,ue,we))})}function Fe(at,Xe,Pe){var we=(0,L.b1)().key(function(lt){return lt.column}).sortKeys(p.j2).entries(at.nodes).map(function(lt){return lt.values});Le(Pe),it();for(var ue=1,ge=Xe;ge>0;--ge)ke(ue*=.99,Pe),it();function Le(lt){if(Qe){var bt=1/0;we.forEach(function(_t){var nr=Te*Qe/(_t.length+1);bt=nr<bt?nr:bt}),Ae=bt}var Rt=(0,p.VV)(we,function(_t){return(Te-Ie-(_t.length-1)*Ae)/(0,p.Sm)(_t,h)});Rt=Rt*i,at.links.forEach(function(_t){_t.width=_t.value*Rt});var Ut=Ct(at),Gt=Je(at,Ut);Rt=Rt*Gt,at.links.forEach(function(_t){_t.width=_t.value*Rt}),we.forEach(function(_t){var nr=_t.length;_t.forEach(function(lr,zr){lr.depth==we.length-1&&nr==1||lr.depth==0&&nr==1?(lr.y0=Te/2-lr.value*Rt,lr.y1=lr.y0+lr.value*Rt):lr.partOfCycle?I(lr,lt)==0?(lr.y0=Te/2+zr,lr.y1=lr.y0+lr.value*Rt):lr.circularLinkType=="top"?(lr.y0=Ie+zr,lr.y1=lr.y0+lr.value*Rt):(lr.y0=Te-lr.value*Rt-zr,lr.y1=lr.y0+lr.value*Rt):Ut.top==0||Ut.bottom==0?(lr.y0=(Te-Ie)/nr*zr,lr.y1=lr.y0+lr.value*Rt):(lr.y0=(Te-Ie)/2-nr/2+zr,lr.y1=lr.y0+lr.value*Rt)})})}function ke(lt,bt){var Rt=we.length;we.forEach(function(Ut){var Gt=Ut.length,_t=Ut[0].depth;Ut.forEach(function(nr){var lr;if((nr.sourceLinks.length||nr.targetLinks.length)&&!(nr.partOfCycle&&I(nr,bt)>0))if(_t==0&&Gt==1)lr=nr.y1-nr.y0,nr.y0=Te/2-lr/2,nr.y1=Te/2+lr/2;else if(_t==Rt-1&&Gt==1)lr=nr.y1-nr.y0,nr.y0=Te/2-lr/2,nr.y1=Te/2+lr/2;else{var zr=0,mt=(0,p.J6)(nr.sourceLinks,o),jt=(0,p.J6)(nr.targetLinks,f);mt&&jt?zr=(mt+jt)/2:zr=mt||jt;var Yt=(zr-T(nr))*lt;nr.y0+=Yt,nr.y1+=Yt}})})}function it(){we.forEach(function(lt){var bt,Rt,Ut=Ie,Gt=lt.length,_t;for(lt.sort(m),_t=0;_t<Gt;++_t)bt=lt[_t],Rt=Ut-bt.y0,Rt>0&&(bt.y0+=Rt,bt.y1+=Rt),Ut=bt.y1+Ae;if(Rt=Ut-Ae-Te,Rt>0)for(Ut=bt.y0-=Rt,bt.y1-=Rt,_t=Gt-2;_t>=0;--_t)bt=lt[_t],Rt=bt.y1+Ae-Ut,Rt>0&&(bt.y0-=Rt,bt.y1-=Rt),Ut=bt.y0})}}function $e(at){at.nodes.forEach(function(Xe){Xe.sourceLinks.sort(u),Xe.targetLinks.sort(c)}),at.nodes.forEach(function(Xe){var Pe=Xe.y0,we=Pe,ue=Xe.y1,ge=ue;Xe.sourceLinks.forEach(function(Le){Le.circular?(Le.y0=ue-Le.width/2,ue=ue-Le.width):(Le.y0=Pe+Le.width/2,Pe+=Le.width)}),Xe.targetLinks.forEach(function(Le){Le.circular?(Le.y1=ge-Le.width/2,ge=ge-Le.width):(Le.y1=we+Le.width/2,we+=Le.width)})})}return ft}function x(xe,Ie,_e){var Te=0;if(_e===null){for(var ye=[],Ae=0;Ae<xe.links.length;Ae++){var Be=xe.links[Ae],Ue=Be.source.index,De=Be.target.index;ye[Ue]||(ye[Ue]=[]),ye[De]||(ye[De]=[]),ye[Ue].indexOf(De)===-1&&ye[Ue].push(De)}var He=w()(ye);He.sort(function(qe,ft){return qe.length-ft.length});var ut={};for(Ae=0;Ae<He.length;Ae++){var et=He[Ae],Qe=et.slice(-2);ut[Qe[0]]||(ut[Qe[0]]={}),ut[Qe[0]][Qe[1]]=!0}xe.links.forEach(function(qe){var ft=qe.target.index,gt=qe.source.index;ft===gt||ut[gt]&&ut[gt][ft]?(qe.circular=!0,qe.circularLinkID=Te,Te=Te+1):qe.circular=!1})}else xe.links.forEach(function(qe){qe.source[_e]<qe.target[_e]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Te,Te=Te+1)})}function k(xe,Ie){var _e=0,Te=0;xe.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType||ye.target.circularLinkType?ye.circularLinkType=ye.source.circularLinkType?ye.source.circularLinkType:ye.target.circularLinkType:ye.circularLinkType=_e<Te?"top":"bottom",ye.circularLinkType=="top"?_e=_e+1:Te=Te+1,xe.nodes.forEach(function(Ae){(g(Ae,Ie)==g(ye.source,Ie)||g(Ae,Ie)==g(ye.target,Ie))&&(Ae.circularLinkType=ye.circularLinkType)}))}),xe.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType==ye.target.circularLinkType&&(ye.circularLinkType=ye.source.circularLinkType),me(ye,Ie)&&(ye.circularLinkType=ye.source.circularLinkType))})}function _(xe){var Ie=Math.abs(xe.y1-xe.y0),_e=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(_e/Ie)}function B(xe,Ie){return xe.source.column<Ie.target.column?!1:!(xe.target.column>Ie.source.column)}function I(xe,Ie){var _e=0;xe.sourceLinks.forEach(function(ye){_e=ye.circular&&!me(ye,Ie)?_e+1:_e});var Te=0;return xe.targetLinks.forEach(function(ye){Te=ye.circular&&!me(ye,Ie)?Te+1:Te}),_e+Te}function z(xe){var Ie=xe.source.sourceLinks,_e=0;Ie.forEach(function(Ae){_e=Ae.circular?_e+1:_e});var Te=xe.target.targetLinks,ye=0;return Te.forEach(function(Ae){ye=Ae.circular?ye+1:ye}),!(_e>1||ye>1)}function O(xe,Ie,_e){return xe.sort(Q),xe.forEach(function(Te,ye){var Ae=0;if(me(Te,_e)&&z(Te))Te.circularPathData.verticalBuffer=Ae+Te.width/2;else{var Be=0;for(Be;Be<ye;Be++)if(B(xe[ye],xe[Be])){var Ue=xe[Be].circularPathData.verticalBuffer+xe[Be].width/2+Ie;Ae=Ue>Ae?Ue:Ae}Te.circularPathData.verticalBuffer=Ae+Te.width/2}}),xe}function F(xe,Ie,_e,Te){var ye=5,Ae=(0,p.VV)(xe.links,function(De){return De.source.y0});xe.links.forEach(function(De){De.circular&&(De.circularPathData={})});var Be=xe.links.filter(function(De){return De.circularLinkType=="top"});O(Be,Ie,Te);var Ue=xe.links.filter(function(De){return De.circularLinkType=="bottom"});O(Ue,Ie,Te),xe.links.forEach(function(De){if(De.circular){if(De.circularPathData.arcRadius=De.width+b,De.circularPathData.leftNodeBuffer=ye,De.circularPathData.rightNodeBuffer=ye,De.circularPathData.sourceWidth=De.source.x1-De.source.x0,De.circularPathData.sourceX=De.source.x0+De.circularPathData.sourceWidth,De.circularPathData.targetX=De.target.x0,De.circularPathData.sourceY=De.y0,De.circularPathData.targetY=De.y1,me(De,Te)&&z(De))De.circularPathData.leftSmallArcRadius=b+De.width/2,De.circularPathData.leftLargeArcRadius=b+De.width/2,De.circularPathData.rightSmallArcRadius=b+De.width/2,De.circularPathData.rightLargeArcRadius=b+De.width/2,De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=De.source.y1+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=De.source.y0-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius);else{var He=De.source.column,ut=De.circularLinkType,et=xe.links.filter(function(ft){return ft.source.column==He&&ft.circularLinkType==ut});De.circularLinkType=="bottom"?et.sort(j):et.sort($);var Qe=0;et.forEach(function(ft,gt){ft.circularLinkID==De.circularLinkID&&(De.circularPathData.leftSmallArcRadius=b+De.width/2+Qe,De.circularPathData.leftLargeArcRadius=b+De.width/2+gt*Ie+Qe),Qe=Qe+ft.width}),He=De.target.column,et=xe.links.filter(function(ft){return ft.target.column==He&&ft.circularLinkType==ut}),De.circularLinkType=="bottom"?et.sort(oe):et.sort(ee),Qe=0,et.forEach(function(ft,gt){ft.circularLinkID==De.circularLinkID&&(De.circularPathData.rightSmallArcRadius=b+De.width/2+Qe,De.circularPathData.rightLargeArcRadius=b+De.width/2+gt*Ie+Qe),Qe=Qe+ft.width}),De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=Math.max(_e,De.source.y1,De.target.y1)+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=Ae-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius)}De.circularPathData.leftInnerExtent=De.circularPathData.sourceX+De.circularPathData.leftNodeBuffer,De.circularPathData.rightInnerExtent=De.circularPathData.targetX-De.circularPathData.rightNodeBuffer,De.circularPathData.leftFullExtent=De.circularPathData.sourceX+De.circularPathData.leftLargeArcRadius+De.circularPathData.leftNodeBuffer,De.circularPathData.rightFullExtent=De.circularPathData.targetX-De.circularPathData.rightLargeArcRadius-De.circularPathData.rightNodeBuffer}if(De.circular)De.path=N(De);else{var qe=(0,n.h5)().source(function(ft){var gt=ft.source.x0+(ft.source.x1-ft.source.x0),xt=ft.y0;return[gt,xt]}).target(function(ft){var gt=ft.target.x0,xt=ft.y1;return[gt,xt]});De.path=qe(De)}})}function N(xe){var Ie="";return xe.circularLinkType=="top"?Ie="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:Ie="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,Ie}function Q(xe,Ie){return Y(xe)==Y(Ie)?xe.circularLinkType=="bottom"?j(xe,Ie):$(xe,Ie):Y(Ie)-Y(xe)}function $(xe,Ie){return xe.y0-Ie.y0}function j(xe,Ie){return Ie.y0-xe.y0}function ee(xe,Ie){return xe.y1-Ie.y1}function oe(xe,Ie){return Ie.y1-xe.y1}function Y(xe){return xe.target.column-xe.source.column}function V(xe){return xe.target.x0-xe.source.x1}function W(xe,Ie){var _e=_(xe),Te=V(Ie)/Math.tan(_e),ye=he(xe)=="up"?xe.y1+Te:xe.y1-Te;return ye}function X(xe,Ie){var _e=_(xe),Te=V(Ie)/Math.tan(_e),ye=he(xe)=="up"?xe.y1-Te:xe.y1+Te;return ye}function re(xe,Ie,_e,Te){xe.links.forEach(function(ye){if(!ye.circular&&ye.target.column-ye.source.column>1){var Ae=ye.source.column+1,Be=ye.target.column-1,Ue=1,De=Be-Ae+1;for(Ue=1;Ae<=Be;Ae++,Ue++)xe.nodes.forEach(function(He){if(He.column==Ae){var ut=Ue/(De+1),et=Math.pow(1-ut,3),Qe=3*ut*Math.pow(1-ut,2),qe=3*Math.pow(ut,2)*(1-ut),ft=Math.pow(ut,3),gt=et*ye.y0+Qe*ye.y0+qe*ye.y1+ft*ye.y1,xt=gt-ye.width/2,Ct=gt+ye.width/2,Je;xt>He.y0&&xt<He.y1?(Je=He.y1-xt+10,Je=He.circularLinkType=="bottom"?Je:-Je,He=K(He,Je,Ie,_e),xe.nodes.forEach(function(ze){g(ze,Te)==g(He,Te)||ze.column!=He.column||ie(He,ze)&&K(ze,Je,Ie,_e)})):Ct>He.y0&&Ct<He.y1?(Je=Ct-He.y0+10,He=K(He,Je,Ie,_e),xe.nodes.forEach(function(ze){g(ze,Te)==g(He,Te)||ze.column!=He.column||ze.y0<He.y1&&ze.y1>He.y1&&K(ze,Je,Ie,_e)})):xt<He.y0&&Ct>He.y1&&(Je=Ct-He.y0+10,He=K(He,Je,Ie,_e),xe.nodes.forEach(function(ze){g(ze,Te)==g(He,Te)||ze.column!=He.column||ze.y0<He.y1&&ze.y1>He.y1&&K(ze,Je,Ie,_e)}))}})}})}function ie(xe,Ie){return xe.y0>Ie.y0&&xe.y0<Ie.y1||xe.y1>Ie.y0&&xe.y1<Ie.y1?!0:xe.y0<Ie.y0&&xe.y1>Ie.y1}function K(xe,Ie,_e,Te){return xe.y0+Ie>=_e&&xe.y1+Ie<=Te&&(xe.y0=xe.y0+Ie,xe.y1=xe.y1+Ie,xe.targetLinks.forEach(function(ye){ye.y1=ye.y1+Ie}),xe.sourceLinks.forEach(function(ye){ye.y0=ye.y0+Ie})),xe}function q(xe,Ie,_e,Te){xe.nodes.forEach(function(ye){Te&&ye.y+(ye.y1-ye.y0)>Ie&&(ye.y=ye.y-(ye.y+(ye.y1-ye.y0)-Ie));var Ae=xe.links.filter(function(De){return g(De.source,_e)==g(ye,_e)}),Be=Ae.length;Be>1&&Ae.sort(function(De,He){if(!De.circular&&!He.circular){if(De.target.column==He.target.column)return De.y1-He.y1;if(ae(De,He)){if(De.target.column>He.target.column){var ut=X(He,De);return De.y1-ut}if(He.target.column>De.target.column){var et=X(De,He);return et-He.y1}}else return De.y1-He.y1}if(De.circular&&!He.circular)return De.circularLinkType=="top"?-1:1;if(He.circular&&!De.circular)return He.circularLinkType=="top"?1:-1;if(De.circular&&He.circular)return De.circularLinkType===He.circularLinkType&&De.circularLinkType=="top"?De.target.column===He.target.column?De.target.y1-He.target.y1:He.target.column-De.target.column:De.circularLinkType===He.circularLinkType&&De.circularLinkType=="bottom"?De.target.column===He.target.column?He.target.y1-De.target.y1:De.target.column-He.target.column:De.circularLinkType=="top"?-1:1});var Ue=ye.y0;Ae.forEach(function(De){De.y0=Ue+De.width/2,Ue=Ue+De.width}),Ae.forEach(function(De,He){if(De.circularLinkType=="bottom"){var ut=He+1,et=0;for(ut;ut<Be;ut++)et=et+Ae[ut].width;De.y0=ye.y1-et-De.width/2}})})}function le(xe,Ie,_e){xe.nodes.forEach(function(Te){var ye=xe.links.filter(function(Ue){return g(Ue.target,_e)==g(Te,_e)}),Ae=ye.length;Ae>1&&ye.sort(function(Ue,De){if(!Ue.circular&&!De.circular){if(Ue.source.column==De.source.column)return Ue.y0-De.y0;if(ae(Ue,De)){if(De.source.column<Ue.source.column){var He=W(De,Ue);return Ue.y0-He}if(Ue.source.column<De.source.column){var ut=W(Ue,De);return ut-De.y0}}else return Ue.y0-De.y0}if(Ue.circular&&!De.circular)return Ue.circularLinkType=="top"?-1:1;if(De.circular&&!Ue.circular)return De.circularLinkType=="top"?1:-1;if(Ue.circular&&De.circular)return Ue.circularLinkType===De.circularLinkType&&Ue.circularLinkType=="top"?Ue.source.column===De.source.column?Ue.source.y1-De.source.y1:Ue.source.column-De.source.column:Ue.circularLinkType===De.circularLinkType&&Ue.circularLinkType=="bottom"?Ue.source.column===De.source.column?Ue.source.y1-De.source.y1:De.source.column-Ue.source.column:Ue.circularLinkType=="top"?-1:1});var Be=Te.y0;ye.forEach(function(Ue){Ue.y1=Be+Ue.width/2,Be=Be+Ue.width}),ye.forEach(function(Ue,De){if(Ue.circularLinkType=="bottom"){var He=De+1,ut=0;for(He;He<Ae;He++)ut=ut+ye[He].width;Ue.y1=Te.y1-ut-Ue.width/2}})})}function ae(xe,Ie){return he(xe)==he(Ie)}function he(xe){return xe.y0-xe.y1>0?"up":"down"}function me(xe,Ie){return g(xe.source,Ie)==g(xe.target,Ie)}function Me(xe,Ie,_e){var Te=xe.nodes,ye=xe.links,Ae=!1,Be=!1;if(ye.forEach(function(Qe){Qe.circularLinkType=="top"?Ae=!0:Qe.circularLinkType=="bottom"&&(Be=!0)}),Ae==!1||Be==!1){var Ue=(0,p.VV)(Te,function(Qe){return Qe.y0}),De=(0,p.Fp)(Te,function(Qe){return Qe.y1}),He=De-Ue,ut=_e-Ie,et=ut/He;Te.forEach(function(Qe){var qe=(Qe.y1-Qe.y0)*et;Qe.y0=(Qe.y0-Ue)*et,Qe.y1=Qe.y0+qe}),ye.forEach(function(Qe){Qe.y0=(Qe.y0-Ue)*et,Qe.y1=(Qe.y1-Ue)*et,Qe.width=Qe.width*et})}}},30838:function(G,U,e){e.r(U),e.d(U,{sankey:function(){return d},sankeyCenter:function(){return y},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return g},sankeyRight:function(){return w}});var p=e(33064),L=e(15140);function n(S){return S.target.depth}function C(S){return S.depth}function w(S,b){return b-1-S.height}function v(S,b){return S.sourceLinks.length?S.depth:b-1}function y(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,p.VV)(S.sourceLinks,n)-1:0}function t(S){return function(){return S}}function r(S,b){return a(S.source,b.source)||S.index-b.index}function l(S,b){return a(S.target,b.target)||S.index-b.index}function a(S,b){return S.y0-b.y0}function s(S){return S.value}function c(S){return(S.y0+S.y1)/2}function u(S){return c(S.source)*S.value}function m(S){return c(S.target)*S.value}function h(S){return S.index}function T(S){return S.nodes}function f(S){return S.links}function o(S,b){var i=S.get(b);if(!i)throw new Error("missing: "+b);return i}function d(){var S=0,b=0,i=1,P=1,x=24,k=8,_=h,B=v,I=T,z=f,O=32,F=2/3;function N(){var Y={nodes:I.apply(null,arguments),links:z.apply(null,arguments)};return Q(Y),$(Y),j(Y),ee(Y),oe(Y),Y}N.update=function(Y){return oe(Y),Y},N.nodeId=function(Y){return arguments.length?(_=typeof Y=="function"?Y:t(Y),N):_},N.nodeAlign=function(Y){return arguments.length?(B=typeof Y=="function"?Y:t(Y),N):B},N.nodeWidth=function(Y){return arguments.length?(x=+Y,N):x},N.nodePadding=function(Y){return arguments.length?(k=+Y,N):k},N.nodes=function(Y){return arguments.length?(I=typeof Y=="function"?Y:t(Y),N):I},N.links=function(Y){return arguments.length?(z=typeof Y=="function"?Y:t(Y),N):z},N.size=function(Y){return arguments.length?(S=b=0,i=+Y[0],P=+Y[1],N):[i-S,P-b]},N.extent=function(Y){return arguments.length?(S=+Y[0][0],i=+Y[1][0],b=+Y[0][1],P=+Y[1][1],N):[[S,b],[i,P]]},N.iterations=function(Y){return arguments.length?(O=+Y,N):O};function Q(Y){Y.nodes.forEach(function(W,X){W.index=X,W.sourceLinks=[],W.targetLinks=[]});var V=(0,L.UI)(Y.nodes,_);Y.links.forEach(function(W,X){W.index=X;var re=W.source,ie=W.target;typeof re!="object"&&(re=W.source=o(V,re)),typeof ie!="object"&&(ie=W.target=o(V,ie)),re.sourceLinks.push(W),ie.targetLinks.push(W)})}function $(Y){Y.nodes.forEach(function(V){V.value=Math.max((0,p.Sm)(V.sourceLinks,s),(0,p.Sm)(V.targetLinks,s))})}function j(Y){var V,W,X;for(V=Y.nodes,W=[],X=0;V.length;++X,V=W,W=[])V.forEach(function(ie){ie.depth=X,ie.sourceLinks.forEach(function(K){W.indexOf(K.target)<0&&W.push(K.target)})});for(V=Y.nodes,W=[],X=0;V.length;++X,V=W,W=[])V.forEach(function(ie){ie.height=X,ie.targetLinks.forEach(function(K){W.indexOf(K.source)<0&&W.push(K.source)})});var re=(i-S-x)/(X-1);Y.nodes.forEach(function(ie){ie.x1=(ie.x0=S+Math.max(0,Math.min(X-1,Math.floor(B.call(null,ie,X))))*re)+x})}function ee(Y){var V=(0,L.b1)().key(function(le){return le.x0}).sortKeys(p.j2).entries(Y.nodes).map(function(le){return le.values});re(),q();for(var W=1,X=O;X>0;--X)K(W*=.99),q(),ie(W),q();function re(){var le=(0,p.Fp)(V,function(me){return me.length}),ae=F*(P-b)/(le-1);k>ae&&(k=ae);var he=(0,p.VV)(V,function(me){return(P-b-(me.length-1)*k)/(0,p.Sm)(me,s)});V.forEach(function(me){me.forEach(function(Me,xe){Me.y1=(Me.y0=xe)+Me.value*he})}),Y.links.forEach(function(me){me.width=me.value*he})}function ie(le){V.forEach(function(ae){ae.forEach(function(he){if(he.targetLinks.length){var me=((0,p.Sm)(he.targetLinks,u)/(0,p.Sm)(he.targetLinks,s)-c(he))*le;he.y0+=me,he.y1+=me}})})}function K(le){V.slice().reverse().forEach(function(ae){ae.forEach(function(he){if(he.sourceLinks.length){var me=((0,p.Sm)(he.sourceLinks,m)/(0,p.Sm)(he.sourceLinks,s)-c(he))*le;he.y0+=me,he.y1+=me}})})}function q(){V.forEach(function(le){var ae,he,me=b,Me=le.length,xe;for(le.sort(a),xe=0;xe<Me;++xe)ae=le[xe],he=me-ae.y0,he>0&&(ae.y0+=he,ae.y1+=he),me=ae.y1+k;if(he=me-k-P,he>0)for(me=ae.y0-=he,ae.y1-=he,xe=Me-2;xe>=0;--xe)ae=le[xe],he=ae.y1+k-me,he>0&&(ae.y0-=he,ae.y1-=he),me=ae.y0})}}function oe(Y){Y.nodes.forEach(function(V){V.sourceLinks.sort(l),V.targetLinks.sort(r)}),Y.nodes.forEach(function(V){var W=V.y0,X=W;V.sourceLinks.forEach(function(re){re.y0=W+re.width/2,W+=re.width}),V.targetLinks.forEach(function(re){re.y1=X+re.width/2,X+=re.width})})}return N}var M=e(45879);function A(S){return[S.source.x1,S.y0]}function E(S){return[S.target.x0,S.y1]}function g(){return(0,M.h5)().source(A).target(E)}},39898:function(G,U,e){var p,L;(function(){var n={version:"3.8.0"},C=[].slice,w=function(se){return C.call(se)},v=self.document;function y(se){return se&&(se.ownerDocument||se.document||se).documentElement}function t(se){return se&&(se.ownerDocument&&se.ownerDocument.defaultView||se.document&&se||se.defaultView)}if(v)try{w(v.documentElement.childNodes)[0].nodeType}catch{w=function(Se){for(var Oe=Se.length,Ke=new Array(Oe);Oe--;)Ke[Oe]=Se[Oe];return Ke}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,l=r.setAttribute,a=r.setAttributeNS,s=this.CSSStyleDeclaration.prototype,c=s.setProperty;r.setAttribute=function(Se,Oe){l.call(this,Se,Oe+"")},r.setAttributeNS=function(Se,Oe,Ke){a.call(this,Se,Oe,Ke+"")},s.setProperty=function(Se,Oe,Ke){c.call(this,Se,Oe+"",Ke)}}n.ascending=u;function u(se,Se){return se<Se?-1:se>Se?1:se>=Se?0:NaN}n.descending=function(se,Se){return Se<se?-1:Se>se?1:Se>=se?0:NaN},n.min=function(se,Se){var Oe=-1,Ke=se.length,tt,nt;if(arguments.length===1){for(;++Oe<Ke;)if((nt=se[Oe])!=null&&nt>=nt){tt=nt;break}for(;++Oe<Ke;)(nt=se[Oe])!=null&&tt>nt&&(tt=nt)}else{for(;++Oe<Ke;)if((nt=Se.call(se,se[Oe],Oe))!=null&&nt>=nt){tt=nt;break}for(;++Oe<Ke;)(nt=Se.call(se,se[Oe],Oe))!=null&&tt>nt&&(tt=nt)}return tt},n.max=function(se,Se){var Oe=-1,Ke=se.length,tt,nt;if(arguments.length===1){for(;++Oe<Ke;)if((nt=se[Oe])!=null&&nt>=nt){tt=nt;break}for(;++Oe<Ke;)(nt=se[Oe])!=null&&nt>tt&&(tt=nt)}else{for(;++Oe<Ke;)if((nt=Se.call(se,se[Oe],Oe))!=null&&nt>=nt){tt=nt;break}for(;++Oe<Ke;)(nt=Se.call(se,se[Oe],Oe))!=null&&nt>tt&&(tt=nt)}return tt},n.extent=function(se,Se){var Oe=-1,Ke=se.length,tt,nt,Pt;if(arguments.length===1){for(;++Oe<Ke;)if((nt=se[Oe])!=null&&nt>=nt){tt=Pt=nt;break}for(;++Oe<Ke;)(nt=se[Oe])!=null&&(tt>nt&&(tt=nt),Pt<nt&&(Pt=nt))}else{for(;++Oe<Ke;)if((nt=Se.call(se,se[Oe],Oe))!=null&&nt>=nt){tt=Pt=nt;break}for(;++Oe<Ke;)(nt=Se.call(se,se[Oe],Oe))!=null&&(tt>nt&&(tt=nt),Pt<nt&&(Pt=nt))}return[tt,Pt]};function m(se){return se===null?NaN:+se}function h(se){return!isNaN(se)}n.sum=function(se,Se){var Oe=0,Ke=se.length,tt,nt=-1;if(arguments.length===1)for(;++nt<Ke;)h(tt=+se[nt])&&(Oe+=tt);else for(;++nt<Ke;)h(tt=+Se.call(se,se[nt],nt))&&(Oe+=tt);return Oe},n.mean=function(se,Se){var Oe=0,Ke=se.length,tt,nt=-1,Pt=Ke;if(arguments.length===1)for(;++nt<Ke;)h(tt=m(se[nt]))?Oe+=tt:--Pt;else for(;++nt<Ke;)h(tt=m(Se.call(se,se[nt],nt)))?Oe+=tt:--Pt;if(Pt)return Oe/Pt},n.quantile=function(se,Se){var Oe=(se.length-1)*Se+1,Ke=Math.floor(Oe),tt=+se[Ke-1],nt=Oe-Ke;return nt?tt+nt*(se[Ke]-tt):tt},n.median=function(se,Se){var Oe=[],Ke=se.length,tt,nt=-1;if(arguments.length===1)for(;++nt<Ke;)h(tt=m(se[nt]))&&Oe.push(tt);else for(;++nt<Ke;)h(tt=m(Se.call(se,se[nt],nt)))&&Oe.push(tt);if(Oe.length)return n.quantile(Oe.sort(u),.5)},n.variance=function(se,Se){var Oe=se.length,Ke=0,tt,nt,Pt=0,vt=-1,Ht=0;if(arguments.length===1)for(;++vt<Oe;)h(tt=m(se[vt]))&&(nt=tt-Ke,Ke+=nt/++Ht,Pt+=nt*(tt-Ke));else for(;++vt<Oe;)h(tt=m(Se.call(se,se[vt],vt)))&&(nt=tt-Ke,Ke+=nt/++Ht,Pt+=nt*(tt-Ke));if(Ht>1)return Pt/(Ht-1)},n.deviation=function(){var se=n.variance.apply(this,arguments);return se&&Math.sqrt(se)};function T(se){return{left:function(Se,Oe,Ke,tt){for(arguments.length<3&&(Ke=0),arguments.length<4&&(tt=Se.length);Ke<tt;){var nt=Ke+tt>>>1;se(Se[nt],Oe)<0?Ke=nt+1:tt=nt}return Ke},right:function(Se,Oe,Ke,tt){for(arguments.length<3&&(Ke=0),arguments.length<4&&(tt=Se.length);Ke<tt;){var nt=Ke+tt>>>1;se(Se[nt],Oe)>0?tt=nt:Ke=nt+1}return Ke}}}var f=T(u);n.bisectLeft=f.left,n.bisect=n.bisectRight=f.right,n.bisector=function(se){return T(se.length===1?function(Se,Oe){return u(se(Se),Oe)}:se)},n.shuffle=function(se,Se,Oe){(Ke=arguments.length)<3&&(Oe=se.length,Ke<2&&(Se=0));for(var Ke=Oe-Se,tt,nt;Ke;)nt=Math.random()*Ke--|0,tt=se[Ke+Se],se[Ke+Se]=se[nt+Se],se[nt+Se]=tt;return se},n.permute=function(se,Se){for(var Oe=Se.length,Ke=new Array(Oe);Oe--;)Ke[Oe]=se[Se[Oe]];return Ke},n.pairs=function(se){for(var Se=0,Oe=se.length-1,Ke=se[0],tt=new Array(Oe<0?0:Oe);Se<Oe;)tt[Se]=[Ke,Ke=se[++Se]];return tt},n.transpose=function(se){if(!(nt=se.length))return[];for(var Se=-1,Oe=n.min(se,o),Ke=new Array(Oe);++Se<Oe;)for(var tt=-1,nt,Pt=Ke[Se]=new Array(nt);++tt<nt;)Pt[tt]=se[tt][Se];return Ke};function o(se){return se.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(se){var Se=[];for(var Oe in se)Se.push(Oe);return Se},n.values=function(se){var Se=[];for(var Oe in se)Se.push(se[Oe]);return Se},n.entries=function(se){var Se=[];for(var Oe in se)Se.push({key:Oe,value:se[Oe]});return Se},n.merge=function(se){for(var Se=se.length,Oe,Ke=-1,tt=0,nt,Pt;++Ke<Se;)tt+=se[Ke].length;for(nt=new Array(tt);--Se>=0;)for(Pt=se[Se],Oe=Pt.length;--Oe>=0;)nt[--tt]=Pt[Oe];return nt};var d=Math.abs;n.range=function(se,Se,Oe){if(arguments.length<3&&(Oe=1,arguments.length<2&&(Se=se,se=0)),(Se-se)/Oe===1/0)throw new Error("infinite range");var Ke=[],tt=M(d(Oe)),nt=-1,Pt;if(se*=tt,Se*=tt,Oe*=tt,Oe<0)for(;(Pt=se+Oe*++nt)>Se;)Ke.push(Pt/tt);else for(;(Pt=se+Oe*++nt)<Se;)Ke.push(Pt/tt);return Ke};function M(se){for(var Se=1;se*Se%1;)Se*=10;return Se}function A(se,Se){for(var Oe in Se)Object.defineProperty(se.prototype,Oe,{value:Se[Oe],enumerable:!1})}n.map=function(se,Se){var Oe=new E;if(se instanceof E)se.forEach(function(vt,Ht){Oe.set(vt,Ht)});else if(Array.isArray(se)){var Ke=-1,tt=se.length,nt;if(arguments.length===1)for(;++Ke<tt;)Oe.set(Ke,se[Ke]);else for(;++Ke<tt;)Oe.set(Se.call(se,nt=se[Ke],Ke),nt)}else for(var Pt in se)Oe.set(Pt,se[Pt]);return Oe};function E(){this._=Object.create(null)}var g="__proto__",S="\0";A(E,{has:P,get:function(se){return this._[b(se)]},set:function(se,Se){return this._[b(se)]=Se},remove:x,keys:k,values:function(){var se=[];for(var Se in this._)se.push(this._[Se]);return se},entries:function(){var se=[];for(var Se in this._)se.push({key:i(Se),value:this._[Se]});return se},size:_,empty:B,forEach:function(se){for(var Se in this._)se.call(this,i(Se),this._[Se])}});function b(se){return(se+="")===g||se[0]===S?S+se:se}function i(se){return(se+="")[0]===S?se.slice(1):se}function P(se){return b(se)in this._}function x(se){return(se=b(se))in this._&&delete this._[se]}function k(){var se=[];for(var Se in this._)se.push(i(Se));return se}function _(){var se=0;for(var Se in this._)++se;return se}function B(){for(var se in this._)return!1;return!0}n.nest=function(){var se={},Se=[],Oe=[],Ke,tt;function nt(vt,Ht,qt){if(qt>=Se.length)return tt?tt.call(se,Ht):Ke?Ht.sort(Ke):Ht;for(var er=-1,Cr=Ht.length,Sr=Se[qt++],Xr,qr,Dr,Ur=new E,Yr;++er<Cr;)(Yr=Ur.get(Xr=Sr(qr=Ht[er])))?Yr.push(qr):Ur.set(Xr,[qr]);return vt?(qr=vt(),Dr=function(en,ln){qr.set(en,nt(vt,ln,qt))}):(qr={},Dr=function(en,ln){qr[en]=nt(vt,ln,qt)}),Ur.forEach(Dr),qr}function Pt(vt,Ht){if(Ht>=Se.length)return vt;var qt=[],er=Oe[Ht++];return vt.forEach(function(Cr,Sr){qt.push({key:Cr,values:Pt(Sr,Ht)})}),er?qt.sort(function(Cr,Sr){return er(Cr.key,Sr.key)}):qt}return se.map=function(vt,Ht){return nt(Ht,vt,0)},se.entries=function(vt){return Pt(nt(n.map,vt,0),0)},se.key=function(vt){return Se.push(vt),se},se.sortKeys=function(vt){return Oe[Se.length-1]=vt,se},se.sortValues=function(vt){return Ke=vt,se},se.rollup=function(vt){return tt=vt,se},se},n.set=function(se){var Se=new I;if(se)for(var Oe=0,Ke=se.length;Oe<Ke;++Oe)Se.add(se[Oe]);return Se};function I(){this._=Object.create(null)}A(I,{has:P,add:function(se){return this._[b(se+="")]=!0,se},remove:x,values:k,size:_,empty:B,forEach:function(se){for(var Se in this._)se.call(this,i(Se))}}),n.behavior={};function z(se){return se}n.rebind=function(se,Se){for(var Oe=1,Ke=arguments.length,tt;++Oe<Ke;)se[tt=arguments[Oe]]=O(se,Se,Se[tt]);return se};function O(se,Se,Oe){return function(){var Ke=Oe.apply(Se,arguments);return Ke===Se?se:Ke}}function F(se,Se){if(Se in se)return Se;Se=Se.charAt(0).toUpperCase()+Se.slice(1);for(var Oe=0,Ke=N.length;Oe<Ke;++Oe){var tt=N[Oe]+Se;if(tt in se)return tt}}var N=["webkit","ms","moz","Moz","o","O"];function Q(){}n.dispatch=function(){for(var se=new $,Se=-1,Oe=arguments.length;++Se<Oe;)se[arguments[Se]]=j(se);return se};function $(){}$.prototype.on=function(se,Se){var Oe=se.indexOf("."),Ke="";if(Oe>=0&&(Ke=se.slice(Oe+1),se=se.slice(0,Oe)),se)return arguments.length<2?this[se].on(Ke):this[se].on(Ke,Se);if(arguments.length===2){if(Se==null)for(se in this)this.hasOwnProperty(se)&&this[se].on(Ke,null);return this}};function j(se){var Se=[],Oe=new E;function Ke(){for(var tt=Se,nt=-1,Pt=tt.length,vt;++nt<Pt;)(vt=tt[nt].on)&&vt.apply(this,arguments);return se}return Ke.on=function(tt,nt){var Pt=Oe.get(tt),vt;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Se=Se.slice(0,vt=Se.indexOf(Pt)).concat(Se.slice(vt+1)),Oe.remove(tt)),nt&&Se.push(Oe.set(tt,{on:nt})),se)},Ke}n.event=null;function ee(){n.event.preventDefault()}function oe(){for(var se=n.event,Se;Se=se.sourceEvent;)se=Se;return se}function Y(se){for(var Se=new $,Oe=0,Ke=arguments.length;++Oe<Ke;)Se[arguments[Oe]]=j(Se);return Se.of=function(tt,nt){return function(Pt){try{var vt=Pt.sourceEvent=n.event;Pt.target=se,n.event=Pt,Se[Pt.type].apply(tt,nt)}finally{n.event=vt}}},Se}n.requote=function(se){return se.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(se,Se){se.__proto__=Se}:function(se,Se){for(var Oe in Se)se[Oe]=Se[Oe]};function X(se){return W(se,q),se}var re=function(se,Se){return Se.querySelector(se)},ie=function(se,Se){return Se.querySelectorAll(se)},K=function(se,Se){var Oe=se.matches||se[F(se,"matchesSelector")];return K=function(Ke,tt){return Oe.call(Ke,tt)},K(se,Se)};typeof Sizzle=="function"&&(re=function(se,Se){return Sizzle(se,Se)[0]||null},ie=Sizzle,K=Sizzle.matchesSelector),n.selection=function(){return n.select(v.documentElement)};var q=n.selection.prototype=[];q.select=function(se){var Se=[],Oe,Ke,tt,nt;se=le(se);for(var Pt=-1,vt=this.length;++Pt<vt;){Se.push(Oe=[]),Oe.parentNode=(tt=this[Pt]).parentNode;for(var Ht=-1,qt=tt.length;++Ht<qt;)(nt=tt[Ht])?(Oe.push(Ke=se.call(nt,nt.__data__,Ht,Pt)),Ke&&"__data__"in nt&&(Ke.__data__=nt.__data__)):Oe.push(null)}return X(Se)};function le(se){return typeof se=="function"?se:function(){return re(se,this)}}q.selectAll=function(se){var Se=[],Oe,Ke;se=ae(se);for(var tt=-1,nt=this.length;++tt<nt;)for(var Pt=this[tt],vt=-1,Ht=Pt.length;++vt<Ht;)(Ke=Pt[vt])&&(Se.push(Oe=w(se.call(Ke,Ke.__data__,vt,tt))),Oe.parentNode=Ke);return X(Se)};function ae(se){return typeof se=="function"?se:function(){return ie(se,this)}}var he="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:me,qualify:function(se){var Se=se.indexOf(":"),Oe=se;return Se>=0&&(Oe=se.slice(0,Se))!=="xmlns"&&(se=se.slice(Se+1)),me.hasOwnProperty(Oe)?{space:me[Oe],local:se}:se}},q.attr=function(se,Se){if(arguments.length<2){if(typeof se=="string"){var Oe=this.node();return se=n.ns.qualify(se),se.local?Oe.getAttributeNS(se.space,se.local):Oe.getAttribute(se)}for(Se in se)this.each(Me(Se,se[Se]));return this}return this.each(Me(se,Se))};function Me(se,Se){se=n.ns.qualify(se);function Oe(){this.removeAttribute(se)}function Ke(){this.removeAttributeNS(se.space,se.local)}function tt(){this.setAttribute(se,Se)}function nt(){this.setAttributeNS(se.space,se.local,Se)}function Pt(){var Ht=Se.apply(this,arguments);Ht==null?this.removeAttribute(se):this.setAttribute(se,Ht)}function vt(){var Ht=Se.apply(this,arguments);Ht==null?this.removeAttributeNS(se.space,se.local):this.setAttributeNS(se.space,se.local,Ht)}return Se==null?se.local?Ke:Oe:typeof Se=="function"?se.local?vt:Pt:se.local?nt:tt}function xe(se){return se.trim().replace(/\s+/g," ")}q.classed=function(se,Se){if(arguments.length<2){if(typeof se=="string"){var Oe=this.node(),Ke=(se=_e(se)).length,tt=-1;if(Se=Oe.classList){for(;++tt<Ke;)if(!Se.contains(se[tt]))return!1}else for(Se=Oe.getAttribute("class");++tt<Ke;)if(!Ie(se[tt]).test(Se))return!1;return!0}for(Se in se)this.each(Te(Se,se[Se]));return this}return this.each(Te(se,Se))};function Ie(se){return new RegExp("(?:^|\\s+)"+n.requote(se)+"(?:\\s+|$)","g")}function _e(se){return(se+"").trim().split(/^|\s+/)}function Te(se,Se){se=_e(se).map(ye);var Oe=se.length;function Ke(){for(var nt=-1;++nt<Oe;)se[nt](this,Se)}function tt(){for(var nt=-1,Pt=Se.apply(this,arguments);++nt<Oe;)se[nt](this,Pt)}return typeof Se=="function"?tt:Ke}function ye(se){var Se=Ie(se);return function(Oe,Ke){if(tt=Oe.classList)return Ke?tt.add(se):tt.remove(se);var tt=Oe.getAttribute("class")||"";Ke?(Se.lastIndex=0,Se.test(tt)||Oe.setAttribute("class",xe(tt+" "+se))):Oe.setAttribute("class",xe(tt.replace(Se," ")))}}q.style=function(se,Se,Oe){var Ke=arguments.length;if(Ke<3){if(typeof se!="string"){Ke<2&&(Se="");for(Oe in se)this.each(Ae(Oe,se[Oe],Se));return this}if(Ke<2){var tt=this.node();return t(tt).getComputedStyle(tt,null).getPropertyValue(se)}Oe=""}return this.each(Ae(se,Se,Oe))};function Ae(se,Se,Oe){function Ke(){this.style.removeProperty(se)}function tt(){this.style.setProperty(se,Se,Oe)}function nt(){var Pt=Se.apply(this,arguments);Pt==null?this.style.removeProperty(se):this.style.setProperty(se,Pt,Oe)}return Se==null?Ke:typeof Se=="function"?nt:tt}q.property=function(se,Se){if(arguments.length<2){if(typeof se=="string")return this.node()[se];for(Se in se)this.each(Be(Se,se[Se]));return this}return this.each(Be(se,Se))};function Be(se,Se){function Oe(){delete this[se]}function Ke(){this[se]=Se}function tt(){var nt=Se.apply(this,arguments);nt==null?delete this[se]:this[se]=nt}return Se==null?Oe:typeof Se=="function"?tt:Ke}q.text=function(se){return arguments.length?this.each(typeof se=="function"?function(){var Se=se.apply(this,arguments);this.textContent=Se??""}:se==null?function(){this.textContent=""}:function(){this.textContent=se}):this.node().textContent},q.html=function(se){return arguments.length?this.each(typeof se=="function"?function(){var Se=se.apply(this,arguments);this.innerHTML=Se??""}:se==null?function(){this.innerHTML=""}:function(){this.innerHTML=se}):this.node().innerHTML},q.append=function(se){return se=Ue(se),this.select(function(){return this.appendChild(se.apply(this,arguments))})};function Ue(se){function Se(){var Ke=this.ownerDocument,tt=this.namespaceURI;return tt===he&&Ke.documentElement.namespaceURI===he?Ke.createElement(se):Ke.createElementNS(tt,se)}function Oe(){return this.ownerDocument.createElementNS(se.space,se.local)}return typeof se=="function"?se:(se=n.ns.qualify(se)).local?Oe:Se}q.insert=function(se,Se){return se=Ue(se),Se=le(Se),this.select(function(){return this.insertBefore(se.apply(this,arguments),Se.apply(this,arguments)||null)})},q.remove=function(){return this.each(De)};function De(){var se=this.parentNode;se&&se.removeChild(this)}q.data=function(se,Se){var Oe=-1,Ke=this.length,tt,nt;if(!arguments.length){for(se=new Array(Ke=(tt=this[0]).length);++Oe<Ke;)(nt=tt[Oe])&&(se[Oe]=nt.__data__);return se}function Pt(er,Cr){var Sr,Xr=er.length,qr=Cr.length,Dr=Math.min(Xr,qr),Ur=new Array(qr),Yr=new Array(qr),en=new Array(Xr),ln,Zr;if(Se){var On=new E,Vn=new Array(Xr),Xn;for(Sr=-1;++Sr<Xr;)(ln=er[Sr])&&(On.has(Xn=Se.call(ln,ln.__data__,Sr))?en[Sr]=ln:On.set(Xn,ln),Vn[Sr]=Xn);for(Sr=-1;++Sr<qr;)(ln=On.get(Xn=Se.call(Cr,Zr=Cr[Sr],Sr)))?ln!==!0&&(Ur[Sr]=ln,ln.__data__=Zr):Yr[Sr]=He(Zr),On.set(Xn,!0);for(Sr=-1;++Sr<Xr;)Sr in Vn&&On.get(Vn[Sr])!==!0&&(en[Sr]=er[Sr])}else{for(Sr=-1;++Sr<Dr;)ln=er[Sr],Zr=Cr[Sr],ln?(ln.__data__=Zr,Ur[Sr]=ln):Yr[Sr]=He(Zr);for(;Sr<qr;++Sr)Yr[Sr]=He(Cr[Sr]);for(;Sr<Xr;++Sr)en[Sr]=er[Sr]}Yr.update=Ur,Yr.parentNode=Ur.parentNode=en.parentNode=er.parentNode,vt.push(Yr),Ht.push(Ur),qt.push(en)}var vt=qe([]),Ht=X([]),qt=X([]);if(typeof se=="function")for(;++Oe<Ke;)Pt(tt=this[Oe],se.call(tt,tt.parentNode.__data__,Oe));else for(;++Oe<Ke;)Pt(tt=this[Oe],se);return Ht.enter=function(){return vt},Ht.exit=function(){return qt},Ht};function He(se){return{__data__:se}}q.datum=function(se){return arguments.length?this.property("__data__",se):this.property("__data__")},q.filter=function(se){var Se=[],Oe,Ke,tt;typeof se!="function"&&(se=ut(se));for(var nt=0,Pt=this.length;nt<Pt;nt++){Se.push(Oe=[]),Oe.parentNode=(Ke=this[nt]).parentNode;for(var vt=0,Ht=Ke.length;vt<Ht;vt++)(tt=Ke[vt])&&se.call(tt,tt.__data__,vt,nt)&&Oe.push(tt)}return X(Se)};function ut(se){return function(){return K(this,se)}}q.order=function(){for(var se=-1,Se=this.length;++se<Se;)for(var Oe=this[se],Ke=Oe.length-1,tt=Oe[Ke],nt;--Ke>=0;)(nt=Oe[Ke])&&(tt&&tt!==nt.nextSibling&&tt.parentNode.insertBefore(nt,tt),tt=nt);return this},q.sort=function(se){se=et.apply(this,arguments);for(var Se=-1,Oe=this.length;++Se<Oe;)this[Se].sort(se);return this.order()};function et(se){return arguments.length||(se=u),function(Se,Oe){return Se&&Oe?se(Se.__data__,Oe.__data__):!Se-!Oe}}q.each=function(se){return Qe(this,function(Se,Oe,Ke){se.call(Se,Se.__data__,Oe,Ke)})};function Qe(se,Se){for(var Oe=0,Ke=se.length;Oe<Ke;Oe++)for(var tt=se[Oe],nt=0,Pt=tt.length,vt;nt<Pt;nt++)(vt=tt[nt])&&Se(vt,nt,Oe);return se}q.call=function(se){var Se=w(arguments);return se.apply(Se[0]=this,Se),this},q.empty=function(){return!this.node()},q.node=function(){for(var se=0,Se=this.length;se<Se;se++)for(var Oe=this[se],Ke=0,tt=Oe.length;Ke<tt;Ke++){var nt=Oe[Ke];if(nt)return nt}return null},q.size=function(){var se=0;return Qe(this,function(){++se}),se};function qe(se){return W(se,ft),se}var ft=[];n.selection.enter=qe,n.selection.enter.prototype=ft,ft.append=q.append,ft.empty=q.empty,ft.node=q.node,ft.call=q.call,ft.size=q.size,ft.select=function(se){for(var Se=[],Oe,Ke,tt,nt,Pt,vt=-1,Ht=this.length;++vt<Ht;){tt=(nt=this[vt]).update,Se.push(Oe=[]),Oe.parentNode=nt.parentNode;for(var qt=-1,er=nt.length;++qt<er;)(Pt=nt[qt])?(Oe.push(tt[qt]=Ke=se.call(nt.parentNode,Pt.__data__,qt,vt)),Ke.__data__=Pt.__data__):Oe.push(null)}return X(Se)},ft.insert=function(se,Se){return arguments.length<2&&(Se=gt(this)),q.insert.call(this,se,Se)};function gt(se){var Se,Oe;return function(Ke,tt,nt){var Pt=se[nt].update,vt=Pt.length,Ht;for(nt!=Oe&&(Oe=nt,Se=0),tt>=Se&&(Se=tt+1);!(Ht=Pt[Se])&&++Se<vt;);return Ht}}n.select=function(se){var Se;return typeof se=="string"?(Se=[re(se,v)],Se.parentNode=v.documentElement):(Se=[se],Se.parentNode=y(se)),X([Se])},n.selectAll=function(se){var Se;return typeof se=="string"?(Se=w(ie(se,v)),Se.parentNode=v.documentElement):(Se=w(se),Se.parentNode=null),X([Se])},q.on=function(se,Se,Oe){var Ke=arguments.length;if(Ke<3){if(typeof se!="string"){Ke<2&&(Se=!1);for(Oe in se)this.each(xt(Oe,se[Oe],Se));return this}if(Ke<2)return(Ke=this.node()["__on"+se])&&Ke._;Oe=!1}return this.each(xt(se,Se,Oe))};function xt(se,Se,Oe){var Ke="__on"+se,tt=se.indexOf("."),nt=Je;tt>0&&(se=se.slice(0,tt));var Pt=Ct.get(se);Pt&&(se=Pt,nt=ze);function vt(){var er=this[Ke];er&&(this.removeEventListener(se,er,er.$),delete this[Ke])}function Ht(){var er=nt(Se,w(arguments));vt.call(this),this.addEventListener(se,this[Ke]=er,er.$=Oe),er._=Se}function qt(){var er=new RegExp("^__on([^.]+)"+n.requote(se)+"$"),Cr;for(var Sr in this)if(Cr=Sr.match(er)){var Xr=this[Sr];this.removeEventListener(Cr[1],Xr,Xr.$),delete this[Sr]}}return tt?Se?Ht:vt:Se?Q:qt}var Ct=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Ct.forEach(function(se){"on"+se in v&&Ct.remove(se)});function Je(se,Se){return function(Oe){var Ke=n.event;n.event=Oe,Se[0]=this.__data__;try{se.apply(this,Se)}finally{n.event=Ke}}}function ze(se,Se){var Oe=Je(se,Se);return function(Ke){var tt=this,nt=Ke.relatedTarget;(!nt||nt!==tt&&!(nt.compareDocumentPosition(tt)&8))&&Oe.call(tt,Ke)}}var Fe,$e=0;function at(se){var Se=".dragsuppress-"+ ++$e,Oe="click"+Se,Ke=n.select(t(se)).on("touchmove"+Se,ee).on("dragstart"+Se,ee).on("selectstart"+Se,ee);if(Fe==null&&(Fe="onselectstart"in se?!1:F(se.style,"userSelect")),Fe){var tt=y(se).style,nt=tt[Fe];tt[Fe]="none"}return function(Pt){if(Ke.on(Se,null),Fe&&(tt[Fe]=nt),Pt){var vt=function(){Ke.on(Oe,null)};Ke.on(Oe,function(){ee(),vt()},!0),setTimeout(vt,0)}}}n.mouse=function(se){return Pe(se,oe())};var Xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Pe(se,Se){Se.changedTouches&&(Se=Se.changedTouches[0]);var Oe=se.ownerSVGElement||se;if(Oe.createSVGPoint){var Ke=Oe.createSVGPoint();if(Xe<0){var tt=t(se);if(tt.scrollX||tt.scrollY){Oe=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var nt=Oe[0][0].getScreenCTM();Xe=!(nt.f||nt.e),Oe.remove()}}return Xe?(Ke.x=Se.pageX,Ke.y=Se.pageY):(Ke.x=Se.clientX,Ke.y=Se.clientY),Ke=Ke.matrixTransform(se.getScreenCTM().inverse()),[Ke.x,Ke.y]}var Pt=se.getBoundingClientRect();return[Se.clientX-Pt.left-se.clientLeft,Se.clientY-Pt.top-se.clientTop]}n.touch=function(se,Se,Oe){if(arguments.length<3&&(Oe=Se,Se=oe().changedTouches),Se){for(var Ke=0,tt=Se.length,nt;Ke<tt;++Ke)if((nt=Se[Ke]).identifier===Oe)return Pe(se,nt)}},n.behavior.drag=function(){var se=Y(tt,"drag","dragstart","dragend"),Se=null,Oe=nt(Q,n.mouse,t,"mousemove","mouseup"),Ke=nt(we,n.touch,z,"touchmove","touchend");function tt(){this.on("mousedown.drag",Oe).on("touchstart.drag",Ke)}function nt(Pt,vt,Ht,qt,er){return function(){var Cr=this,Sr=n.event.target.correspondingElement||n.event.target,Xr=Cr.parentNode,qr=se.of(Cr,arguments),Dr=0,Ur=Pt(),Yr=".drag"+(Ur==null?"":"-"+Ur),en,ln=n.select(Ht(Sr)).on(qt+Yr,Vn).on(er+Yr,Xn),Zr=at(Sr),On=vt(Xr,Ur);Se?(en=Se.apply(Cr,arguments),en=[en.x-On[0],en.y-On[1]]):en=[0,0],qr({type:"dragstart"});function Vn(){var ta=vt(Xr,Ur),ya,ga;ta&&(ya=ta[0]-On[0],ga=ta[1]-On[1],Dr|=ya|ga,On=ta,qr({type:"drag",x:ta[0]+en[0],y:ta[1]+en[1],dx:ya,dy:ga}))}function Xn(){vt(Xr,Ur)&&(ln.on(qt+Yr,null).on(er+Yr,null),Zr(Dr),qr({type:"dragend"}))}}}return tt.origin=function(Pt){return arguments.length?(Se=Pt,tt):Se},n.rebind(tt,se,"on")};function we(){return n.event.changedTouches[0].identifier}n.touches=function(se,Se){return arguments.length<2&&(Se=oe().touches),Se?w(Se).map(function(Oe){var Ke=Pe(se,Oe);return Ke.identifier=Oe.identifier,Ke}):[]};var ue=1e-6,ge=ue*ue,Le=Math.PI,ke=2*Le,it=ke-ue,lt=Le/2,bt=Le/180,Rt=180/Le;function Ut(se,Se,Oe){return(Se[0]-se[0])*(Oe[1]-se[1])-(Se[1]-se[1])*(Oe[0]-se[0])}function Gt(se){return se>1?lt:se<-1?-lt:Math.asin(se)}function _t(se){return((se=Math.exp(se))-1/se)/2}function nr(se){return((se=Math.exp(se))+1/se)/2}function lr(se){return((se=Math.exp(2*se))-1)/(se+1)}var zr=Math.SQRT2,mt=2,jt=4;n.interpolateZoom=function(se,Se){var Oe=se[0],Ke=se[1],tt=se[2],nt=Se[0],Pt=Se[1],vt=Se[2],Ht=nt-Oe,qt=Pt-Ke,er=Ht*Ht+qt*qt,Cr,Sr;if(er<ge)Sr=Math.log(vt/tt)/zr,Cr=function(en){return[Oe+en*Ht,Ke+en*qt,tt*Math.exp(zr*en*Sr)]};else{var Xr=Math.sqrt(er),qr=(vt*vt-tt*tt+jt*er)/(2*tt*mt*Xr),Dr=(vt*vt-tt*tt-jt*er)/(2*vt*mt*Xr),Ur=Math.log(Math.sqrt(qr*qr+1)-qr),Yr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Sr=(Yr-Ur)/zr,Cr=function(en){var ln=en*Sr,Zr=nr(Ur),On=tt/(mt*Xr)*(Zr*lr(zr*ln+Ur)-_t(Ur));return[Oe+On*Ht,Ke+On*qt,tt*Zr/nr(zr*ln+Ur)]}}return Cr.duration=Sr*1e3,Cr},n.behavior.zoom=function(){var se={x:0,y:0,k:1},Se,Oe,Ke,tt=[960,500],nt=Yt,Pt=250,vt=0,Ht="mousedown.zoom",qt="mousemove.zoom",er="mouseup.zoom",Cr,Sr="touchstart.zoom",Xr,qr=Y(ln,"zoomstart","zoom","zoomend"),Dr,Ur,Yr,en;dr||(dr="onwheel"in v?(wr=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(wr=function(){return n.event.wheelDelta},"mousewheel"):(wr=function(){return-n.event.detail},"MozMousePixelScroll"));function ln(Bn){Bn.on(Ht,_a).on(dr+".zoom",$a).on("dblclick.zoom",oi).on(Sr,Xa)}ln.event=function(Bn){Bn.each(function(){var Fa=qr.of(this,arguments),Da=se;Lr?n.select(this).transition().each("start.zoom",function(){se=this.__chart__||{x:0,y:0,k:1},ga(Fa)}).tween("zoom:zoom",function(){var Ha=tt[0],wi=tt[1],Ii=Oe?Oe[0]:Ha/2,zi=Oe?Oe[1]:wi/2,pi=n.interpolateZoom([(Ii-se.x)/se.k,(zi-se.y)/se.k,Ha/se.k],[(Ii-Da.x)/Da.k,(zi-Da.y)/Da.k,Ha/Da.k]);return function(li){var da=pi(li),wa=Ha/da[2];this.__chart__=se={x:Ii-da[0]*wa,y:zi-da[1]*wa,k:wa},za(Fa)}}).each("interrupt.zoom",function(){Aa(Fa)}).each("end.zoom",function(){Aa(Fa)}):(this.__chart__=se,ga(Fa),za(Fa),Aa(Fa))})},ln.translate=function(Bn){return arguments.length?(se={x:+Bn[0],y:+Bn[1],k:se.k},ya(),ln):[se.x,se.y]},ln.scale=function(Bn){return arguments.length?(se={x:se.x,y:se.y,k:null},Vn(+Bn),ya(),ln):se.k},ln.scaleExtent=function(Bn){return arguments.length?(nt=Bn==null?Yt:[+Bn[0],+Bn[1]],ln):nt},ln.center=function(Bn){return arguments.length?(Ke=Bn&&[+Bn[0],+Bn[1]],ln):Ke},ln.size=function(Bn){return arguments.length?(tt=Bn&&[+Bn[0],+Bn[1]],ln):tt},ln.duration=function(Bn){return arguments.length?(Pt=+Bn,ln):Pt},ln.x=function(Bn){return arguments.length?(Ur=Bn,Dr=Bn.copy(),se={x:0,y:0,k:1},ln):Ur},ln.y=function(Bn){return arguments.length?(en=Bn,Yr=Bn.copy(),se={x:0,y:0,k:1},ln):en};function Zr(Bn){return[(Bn[0]-se.x)/se.k,(Bn[1]-se.y)/se.k]}function On(Bn){return[Bn[0]*se.k+se.x,Bn[1]*se.k+se.y]}function Vn(Bn){se.k=Math.max(nt[0],Math.min(nt[1],Bn))}function Xn(Bn,Fa){Fa=On(Fa),se.x+=Bn[0]-Fa[0],se.y+=Bn[1]-Fa[1]}function ta(Bn,Fa,Da,Ha){Bn.__chart__={x:se.x,y:se.y,k:se.k},Vn(Math.pow(2,Ha)),Xn(Oe=Fa,Da),Bn=n.select(Bn),Pt>0&&(Bn=Bn.transition().duration(Pt)),Bn.call(ln.event)}function ya(){Ur&&Ur.domain(Dr.range().map(function(Bn){return(Bn-se.x)/se.k}).map(Dr.invert)),en&&en.domain(Yr.range().map(function(Bn){return(Bn-se.y)/se.k}).map(Yr.invert))}function ga(Bn){vt++||Bn({type:"zoomstart"})}function za(Bn){ya(),Bn({type:"zoom",scale:se.k,translate:[se.x,se.y]})}function Aa(Bn){--vt||(Bn({type:"zoomend"}),Oe=null)}function _a(){var Bn=this,Fa=qr.of(Bn,arguments),Da=0,Ha=n.select(t(Bn)).on(qt,zi).on(er,pi),wi=Zr(n.mouse(Bn)),Ii=at(Bn);zt.call(Bn),ga(Fa);function zi(){Da=1,Xn(n.mouse(Bn),wi),za(Fa)}function pi(){Ha.on(qt,null).on(er,null),Ii(Da),Aa(Fa)}}function Xa(){var Bn=this,Fa=qr.of(Bn,arguments),Da={},Ha=0,wi,Ii=".zoom-"+n.event.changedTouches[0].identifier,zi="touchmove"+Ii,pi="touchend"+Ii,li=[],da=n.select(Bn),wa=at(Bn);ki(),ga(Fa),da.on(Ht,null).on(Sr,ki);function gi(){var co=n.touches(Bn);return wi=se.k,co.forEach(function(Mi){Mi.identifier in Da&&(Da[Mi.identifier]=Zr(Mi))}),co}function ki(){var co=n.event.target;n.select(co).on(zi,Po).on(pi,Xi),li.push(co);for(var Mi=n.event.changedTouches,Fo=0,hi=Mi.length;Fo<hi;++Fo)Da[Mi[Fo].identifier]=null;var ns=gi(),ko=Date.now();if(ns.length===1){if(ko-Xr<500){var Ga=ns[0];ta(Bn,Ga,Da[Ga.identifier],Math.floor(Math.log(se.k)/Math.LN2)+1),ee()}Xr=ko}else if(ns.length>1){var Ga=ns[0],yi=ns[1],Gf=Ga[0]-yi[0],hf=Ga[1]-yi[1];Ha=Gf*Gf+hf*hf}}function Po(){var co=n.touches(Bn),Mi,Fo,hi,ns;zt.call(Bn);for(var ko=0,Ga=co.length;ko<Ga;++ko,ns=null)if(hi=co[ko],ns=Da[hi.identifier]){if(Fo)break;Mi=hi,Fo=ns}if(ns){var yi=(yi=hi[0]-Mi[0])*yi+(yi=hi[1]-Mi[1])*yi,Gf=Ha&&Math.sqrt(yi/Ha);Mi=[(Mi[0]+hi[0])/2,(Mi[1]+hi[1])/2],Fo=[(Fo[0]+ns[0])/2,(Fo[1]+ns[1])/2],Vn(Gf*wi)}Xr=null,Xn(Mi,Fo),za(Fa)}function Xi(){if(n.event.touches.length){for(var co=n.event.changedTouches,Mi=0,Fo=co.length;Mi<Fo;++Mi)delete Da[co[Mi].identifier];for(var hi in Da)return void gi()}n.selectAll(li).on(Ii,null),da.on(Ht,_a).on(Sr,Xa),wa(),Aa(Fa)}}function $a(){var Bn=qr.of(this,arguments);Cr?clearTimeout(Cr):(zt.call(this),Se=Zr(Oe=Ke||n.mouse(this)),ga(Bn)),Cr=setTimeout(function(){Cr=null,Aa(Bn)},50),ee(),Vn(Math.pow(2,wr()*.002)*se.k),Xn(Oe,Se),za(Bn)}function oi(){var Bn=n.mouse(this),Fa=Math.log(se.k)/Math.LN2;ta(this,Bn,Zr(Bn),n.event.shiftKey?Math.ceil(Fa)-1:Math.floor(Fa)+1)}return n.rebind(ln,qr,"on")};var Yt=[0,1/0],wr,dr;n.color=ct;function ct(){}ct.prototype.toString=function(){return this.rgb()+""},n.hsl=ot;function ot(se,Se,Oe){return this instanceof ot?(this.h=+se,this.s=+Se,void(this.l=+Oe)):arguments.length<2?se instanceof ot?new ot(se.h,se.s,se.l):br(""+se,vr,ot):new ot(se,Se,Oe)}var wt=ot.prototype=new ct;wt.brighter=function(se){return se=Math.pow(.7,arguments.length?se:1),new ot(this.h,this.s,this.l/se)},wt.darker=function(se){return se=Math.pow(.7,arguments.length?se:1),new ot(this.h,this.s,se*this.l)},wt.rgb=function(){return Mt(this.h,this.s,this.l)};function Mt(se,Se,Oe){var Ke,tt;se=isNaN(se)?0:(se%=360)<0?se+360:se,Se=isNaN(Se)||Se<0?0:Se>1?1:Se,Oe=Oe<0?0:Oe>1?1:Oe,tt=Oe<=.5?Oe*(1+Se):Oe+Se-Oe*Se,Ke=2*Oe-tt;function nt(vt){return vt>360?vt-=360:vt<0&&(vt+=360),vt<60?Ke+(tt-Ke)*vt/60:vt<180?tt:vt<240?Ke+(tt-Ke)*(240-vt)/60:Ke}function Pt(vt){return Math.round(nt(vt)*255)}return new sr(Pt(se+120),Pt(se),Pt(se-120))}n.hcl=Dt;function Dt(se,Se,Oe){return this instanceof Dt?(this.h=+se,this.c=+Se,void(this.l=+Oe)):arguments.length<2?se instanceof Dt?new Dt(se.h,se.c,se.l):se instanceof Vt?Ft(se.l,se.a,se.b):Ft((se=Kr((se=n.rgb(se)).r,se.g,se.b)).l,se.a,se.b):new Dt(se,Se,Oe)}var St=Dt.prototype=new ct;St.brighter=function(se){return new Dt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?se:1)))},St.darker=function(se){return new Dt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?se:1)))},St.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(se,Se,Oe){return isNaN(se)&&(se=0),isNaN(Se)&&(Se=0),new Vt(Oe,Math.cos(se*=bt)*Se,Math.sin(se)*Se)}n.lab=Vt;function Vt(se,Se,Oe){return this instanceof Vt?(this.l=+se,this.a=+Se,void(this.b=+Oe)):arguments.length<2?se instanceof Vt?new Vt(se.l,se.a,se.b):se instanceof Dt?Ot(se.h,se.c,se.l):Kr((se=sr(se)).r,se.g,se.b):new Vt(se,Se,Oe)}var Qt=18,Kt=.95047,or=1,Mr=1.08883,Ve=Vt.prototype=new ct;Ve.brighter=function(se){return new Vt(Math.min(100,this.l+Qt*(arguments.length?se:1)),this.a,this.b)},Ve.darker=function(se){return new Vt(Math.max(0,this.l-Qt*(arguments.length?se:1)),this.a,this.b)},Ve.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(se,Se,Oe){var Ke=(se+16)/116,tt=Ke+Se/500,nt=Ke-Oe/200;return tt=kt(tt)*Kt,Ke=kt(Ke)*or,nt=kt(nt)*Mr,new sr(tr(3.2404542*tt-1.5371385*Ke-.4985314*nt),tr(-.969266*tt+1.8760108*Ke+.041556*nt),tr(.0556434*tt-.2040259*Ke+1.0572252*nt))}function Ft(se,Se,Oe){return se>0?new Dt(Math.atan2(Oe,Se)*Rt,Math.sqrt(Se*Se+Oe*Oe),se):new Dt(NaN,NaN,se)}function kt(se){return se>.206893034?se*se*se:(se-.13793103448275862)/7.787037}function Zt(se){return se>.008856?Math.pow(se,.3333333333333333):7.787037*se+.13793103448275862}function tr(se){return Math.round(255*(se<=.00304?12.92*se:1.055*Math.pow(se,.4166666666666667)-.055))}n.rgb=sr;function sr(se,Se,Oe){return this instanceof sr?(this.r=~~se,this.g=~~Se,void(this.b=~~Oe)):arguments.length<2?se instanceof sr?new sr(se.r,se.g,se.b):br(""+se,sr,Mt):new sr(se,Se,Oe)}function rr(se){return new sr(se>>16,se>>8&255,se&255)}function Nt(se){return rr(se)+""}var hr=sr.prototype=new ct;hr.brighter=function(se){se=Math.pow(.7,arguments.length?se:1);var Se=this.r,Oe=this.g,Ke=this.b,tt=30;return!Se&&!Oe&&!Ke?new sr(tt,tt,tt):(Se&&Se<tt&&(Se=tt),Oe&&Oe<tt&&(Oe=tt),Ke&&Ke<tt&&(Ke=tt),new sr(Math.min(255,Se/se),Math.min(255,Oe/se),Math.min(255,Ke/se)))},hr.darker=function(se){return se=Math.pow(.7,arguments.length?se:1),new sr(se*this.r,se*this.g,se*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+pr(this.r)+pr(this.g)+pr(this.b)};function pr(se){return se<16?"0"+Math.max(0,se).toString(16):Math.min(255,se).toString(16)}function br(se,Se,Oe){var Ke=0,tt=0,nt=0,Pt,vt,Ht;if(Pt=/([a-z]+)\((.*)\)/.exec(se=se.toLowerCase()),Pt)switch(vt=Pt[2].split(","),Pt[1]){case"hsl":return Oe(parseFloat(vt[0]),parseFloat(vt[1])/100,parseFloat(vt[2])/100);case"rgb":return Se(Br(vt[0]),Br(vt[1]),Br(vt[2]))}return(Ht=xn.get(se))?Se(Ht.r,Ht.g,Ht.b):(se!=null&&se.charAt(0)==="#"&&!isNaN(Ht=parseInt(se.slice(1),16))&&(se.length===4?(Ke=(Ht&3840)>>4,Ke=Ke>>4|Ke,tt=Ht&240,tt=tt>>4|tt,nt=Ht&15,nt=nt<<4|nt):se.length===7&&(Ke=(Ht&16711680)>>16,tt=(Ht&65280)>>8,nt=Ht&255)),Se(Ke,tt,nt))}function vr(se,Se,Oe){var Ke=Math.min(se/=255,Se/=255,Oe/=255),tt=Math.max(se,Se,Oe),nt=tt-Ke,Pt,vt,Ht=(tt+Ke)/2;return nt?(vt=Ht<.5?nt/(tt+Ke):nt/(2-tt-Ke),se==tt?Pt=(Se-Oe)/nt+(Se<Oe?6:0):Se==tt?Pt=(Oe-se)/nt+2:Pt=(se-Se)/nt+4,Pt*=60):(Pt=NaN,vt=Ht>0&&Ht<1?0:Pt),new ot(Pt,vt,Ht)}function Kr(se,Se,Oe){se=Fr(se),Se=Fr(Se),Oe=Fr(Oe);var Ke=Zt((.4124564*se+.3575761*Se+.1804375*Oe)/Kt),tt=Zt((.2126729*se+.7151522*Se+.072175*Oe)/or),nt=Zt((.0193339*se+.119192*Se+.9503041*Oe)/Mr);return Vt(116*tt-16,500*(Ke-tt),200*(tt-nt))}function Fr(se){return(se/=255)<=.04045?se/12.92:Math.pow((se+.055)/1.055,2.4)}function Br(se){var Se=parseFloat(se);return se.charAt(se.length-1)==="%"?Math.round(Se*2.55):Se}var xn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});xn.forEach(function(se,Se){xn.set(se,rr(Se))});function jr(se){return typeof se=="function"?se:function(){return se}}n.functor=jr,n.xhr=Dn(z);function Dn(se){return function(Se,Oe,Ke){return arguments.length===2&&typeof Oe=="function"&&(Ke=Oe,Oe=null),In(Se,Oe,se,Ke)}}function In(se,Se,Oe,Ke){var tt={},nt=n.dispatch("beforesend","progress","load","error"),Pt={},vt=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in vt)&&/^(http(s)?:)?\/\//.test(se)&&(vt=new XDomainRequest),"onload"in vt?vt.onload=vt.onerror=qt:vt.onreadystatechange=function(){vt.readyState>3&&qt()};function qt(){var er=vt.status,Cr;if(!er&&cr(vt)||er>=200&&er<300||er===304){try{Cr=Oe.call(tt,vt)}catch(Sr){nt.error.call(tt,Sr);return}nt.load.call(tt,Cr)}else nt.error.call(tt,vt)}return vt.onprogress=function(er){var Cr=n.event;n.event=er;try{nt.progress.call(tt,vt)}finally{n.event=Cr}},tt.header=function(er,Cr){return er=(er+"").toLowerCase(),arguments.length<2?Pt[er]:(Cr==null?delete Pt[er]:Pt[er]=Cr+"",tt)},tt.mimeType=function(er){return arguments.length?(Se=er==null?null:er+"",tt):Se},tt.responseType=function(er){return arguments.length?(Ht=er,tt):Ht},tt.response=function(er){return Oe=er,tt},["get","post"].forEach(function(er){tt[er]=function(){return tt.send.apply(tt,[er].concat(w(arguments)))}}),tt.send=function(er,Cr,Sr){if(arguments.length===2&&typeof Cr=="function"&&(Sr=Cr,Cr=null),vt.open(er,se,!0),Se!=null&&!("accept"in Pt)&&(Pt.accept=Se+",*/*"),vt.setRequestHeader)for(var Xr in Pt)vt.setRequestHeader(Xr,Pt[Xr]);return Se!=null&&vt.overrideMimeType&&vt.overrideMimeType(Se),Ht!=null&&(vt.responseType=Ht),Sr!=null&&tt.on("error",Sr).on("load",function(qr){Sr(null,qr)}),nt.beforesend.call(tt,vt),vt.send(Cr??null),tt},tt.abort=function(){return vt.abort(),tt},n.rebind(tt,nt,"on"),Ke==null?tt:tt.get(yr(Ke))}function yr(se){return se.length===1?function(Se,Oe){se(Se==null?Oe:null)}:se}function cr(se){var Se=se.responseType;return Se&&Se!=="text"?se.response:se.responseText}n.dsv=function(se,Se){var Oe=new RegExp('["'+se+`
]`),Ke=se.charCodeAt(0);function tt(qt,er,Cr){arguments.length<3&&(Cr=er,er=null);var Sr=In(qt,Se,er==null?nt:Pt(er),Cr);return Sr.row=function(Xr){return arguments.length?Sr.response((er=Xr)==null?nt:Pt(Xr)):er},Sr}function nt(qt){return tt.parse(qt.responseText)}function Pt(qt){return function(er){return tt.parse(er.responseText,qt)}}tt.parse=function(qt,er){var Cr;return tt.parseRows(qt,function(Sr,Xr){if(Cr)return Cr(Sr,Xr-1);var qr=function(Dr){for(var Ur={},Yr=Sr.length,en=0;en<Yr;++en)Ur[Sr[en]]=Dr[en];return Ur};Cr=er?function(Dr,Ur){return er(qr(Dr),Ur)}:qr})},tt.parseRows=function(qt,er){var Cr={},Sr={},Xr=[],qr=qt.length,Dr=0,Ur=0,Yr,en;function ln(){if(Dr>=qr)return Sr;if(en)return en=!1,Cr;var On=Dr;if(qt.charCodeAt(On)===34){for(var Vn=On;Vn++<qr;)if(qt.charCodeAt(Vn)===34){if(qt.charCodeAt(Vn+1)!==34)break;++Vn}Dr=Vn+2;var Xn=qt.charCodeAt(Vn+1);return Xn===13?(en=!0,qt.charCodeAt(Vn+2)===10&&++Dr):Xn===10&&(en=!0),qt.slice(On+1,Vn).replace(/""/g,'"')}for(;Dr<qr;){var Xn=qt.charCodeAt(Dr++),ta=1;if(Xn===10)en=!0;else if(Xn===13)en=!0,qt.charCodeAt(Dr)===10&&(++Dr,++ta);else if(Xn!==Ke)continue;return qt.slice(On,Dr-ta)}return qt.slice(On)}for(;(Yr=ln())!==Sr;){for(var Zr=[];Yr!==Cr&&Yr!==Sr;)Zr.push(Yr),Yr=ln();er&&(Zr=er(Zr,Ur++))==null||Xr.push(Zr)}return Xr},tt.format=function(qt){if(Array.isArray(qt[0]))return tt.formatRows(qt);var er=new I,Cr=[];return qt.forEach(function(Sr){for(var Xr in Sr)er.has(Xr)||Cr.push(er.add(Xr))}),[Cr.map(Ht).join(se)].concat(qt.map(function(Sr){return Cr.map(function(Xr){return Ht(Sr[Xr])}).join(se)})).join(`
`)},tt.formatRows=function(qt){return qt.map(vt).join(`
`)};function vt(qt){return qt.map(Ht).join(se)}function Ht(qt){return Oe.test(qt)?'"'+qt.replace(/\"/g,'""')+'"':qt}return tt},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var kr,Or,sn,yn,bn=this[F(this,"requestAnimationFrame")]||function(se){setTimeout(se,17)};n.timer=function(){mn.apply(this,arguments)};function mn(se,Se,Oe){var Ke=arguments.length;Ke<2&&(Se=0),Ke<3&&(Oe=Date.now());var tt=Oe+Se,nt={c:se,t:tt,n:null};return Or?Or.n=nt:kr=nt,Or=nt,sn||(yn=clearTimeout(yn),sn=1,bn(_n)),nt}function _n(){var se=Kn(),Se=na()-se;Se>24?(isFinite(Se)&&(clearTimeout(yn),yn=setTimeout(_n,Se)),sn=0):(sn=1,bn(_n))}n.timer.flush=function(){Kn(),na()};function Kn(){for(var se=Date.now(),Se=kr;Se;)se>=Se.t&&Se.c(se-Se.t)&&(Se.c=null),Se=Se.n;return se}function na(){for(var se,Se=kr,Oe=1/0;Se;)Se.c?(Se.t<Oe&&(Oe=Se.t),Se=(se=Se).n):Se=se?se.n=Se.n:kr=Se.n;return Or=se,Oe}n.round=function(se,Se){return Se?Math.round(se*(Se=Math.pow(10,Se)))/Se:Math.round(se)},n.geom={};function ea(se){return se[0]}function oa(se){return se[1]}n.geom.hull=function(se){var Se=ea,Oe=oa;if(arguments.length)return Ke(se);function Ke(tt){if(tt.length<3)return[];var nt=jr(Se),Pt=jr(Oe),vt,Ht=tt.length,qt=[],er=[];for(vt=0;vt<Ht;vt++)qt.push([+nt.call(this,tt[vt],vt),+Pt.call(this,tt[vt],vt),vt]);for(qt.sort(Rr),vt=0;vt<Ht;vt++)er.push([qt[vt][0],-qt[vt][1]]);var Cr=$n(qt),Sr=$n(er),Xr=Sr[0]===Cr[0],qr=Sr[Sr.length-1]===Cr[Cr.length-1],Dr=[];for(vt=Cr.length-1;vt>=0;--vt)Dr.push(tt[qt[Cr[vt]][2]]);for(vt=+Xr;vt<Sr.length-qr;++vt)Dr.push(tt[qt[Sr[vt]][2]]);return Dr}return Ke.x=function(tt){return arguments.length?(Se=tt,Ke):Se},Ke.y=function(tt){return arguments.length?(Oe=tt,Ke):Oe},Ke};function $n(se){for(var Se=se.length,Oe=[0,1],Ke=2,tt=2;tt<Se;tt++){for(;Ke>1&&Ut(se[Oe[Ke-2]],se[Oe[Ke-1]],se[tt])<=0;)--Ke;Oe[Ke++]=tt}return Oe.slice(0,Ke)}function Rr(se,Se){return se[0]-Se[0]||se[1]-Se[1]}n.geom.polygon=function(se){return W(se,an),se};var an=n.geom.polygon.prototype=[];an.area=function(){for(var se=-1,Se=this.length,Oe,Ke=this[Se-1],tt=0;++se<Se;)Oe=Ke,Ke=this[se],tt+=Oe[1]*Ke[0]-Oe[0]*Ke[1];return tt*.5},an.centroid=function(se){var Se=-1,Oe=this.length,Ke=0,tt=0,nt,Pt=this[Oe-1],vt;for(arguments.length||(se=-1/(6*this.area()));++Se<Oe;)nt=Pt,Pt=this[Se],vt=nt[0]*Pt[1]-Pt[0]*nt[1],Ke+=(nt[0]+Pt[0])*vt,tt+=(nt[1]+Pt[1])*vt;return[Ke*se,tt*se]},an.clip=function(se){for(var Se,Oe=Nn(se),Ke=-1,tt=this.length-Nn(this),nt,Pt,vt=this[tt-1],Ht,qt,er;++Ke<tt;){for(Se=se.slice(),se.length=0,Ht=this[Ke],qt=Se[(Pt=Se.length-Oe)-1],nt=-1;++nt<Pt;)er=Se[nt],rn(er,vt,Ht)?(rn(qt,vt,Ht)||se.push(vn(qt,er,vt,Ht)),se.push(er)):rn(qt,vt,Ht)&&se.push(vn(qt,er,vt,Ht)),qt=er;Oe&&se.push(se[0]),vt=Ht}return se};function rn(se,Se,Oe){return(Oe[0]-Se[0])*(se[1]-Se[1])<(Oe[1]-Se[1])*(se[0]-Se[0])}function vn(se,Se,Oe,Ke){var tt=se[0],nt=Oe[0],Pt=Se[0]-tt,vt=Ke[0]-nt,Ht=se[1],qt=Oe[1],er=Se[1]-Ht,Cr=Ke[1]-qt,Sr=(vt*(Ht-qt)-Cr*(tt-nt))/(Cr*Pt-vt*er);return[tt+Sr*Pt,Ht+Sr*er]}function Nn(se){var Se=se[0],Oe=se[se.length-1];return!(Se[0]-Oe[0]||Se[1]-Oe[1])}var En,Cn,Hn,ra=[],Ea,Va,Xt=[];function Tr(){uo(this),this.edge=this.site=this.circle=null}function nn(se){var Se=ra.pop()||new Tr;return Se.site=se,Se}function fn(se){Gn(se),Hn.remove(se),ra.push(se),uo(se)}function cn(se){var Se=se.circle,Oe=Se.x,Ke=Se.cy,tt={x:Oe,y:Ke},nt=se.P,Pt=se.N,vt=[se];fn(se);for(var Ht=nt;Ht.circle&&d(Oe-Ht.circle.x)<ue&&d(Ke-Ht.circle.cy)<ue;)nt=Ht.P,vt.unshift(Ht),fn(Ht),Ht=nt;vt.unshift(Ht),Gn(Ht);for(var qt=Pt;qt.circle&&d(Oe-qt.circle.x)<ue&&d(Ke-qt.circle.cy)<ue;)Pt=qt.N,vt.push(qt),fn(qt),qt=Pt;vt.push(qt),Gn(qt);var er=vt.length,Cr;for(Cr=1;Cr<er;++Cr)qt=vt[Cr],Ht=vt[Cr-1],ha(qt.edge,Ht.site,qt.site,tt);Ht=vt[0],qt=vt[er-1],qt.edge=aa(Ht.site,qt.site,null,tt),Fn(Ht),Fn(qt)}function Ln(se){for(var Se=se.x,Oe=se.y,Ke,tt,nt,Pt,vt=Hn._;vt;)if(nt=Tn(vt,Oe)-Se,nt>ue)vt=vt.L;else if(Pt=Se-un(vt,Oe),Pt>ue){if(!vt.R){Ke=vt;break}vt=vt.R}else{nt>-ue?(Ke=vt.P,tt=vt):Pt>-ue?(Ke=vt,tt=vt.N):Ke=tt=vt;break}var Ht=nn(se);if(Hn.insert(Ke,Ht),!(!Ke&&!tt)){if(Ke===tt){Gn(Ke),tt=nn(Ke.site),Hn.insert(Ht,tt),Ht.edge=tt.edge=aa(Ke.site,Ht.site),Fn(Ke),Fn(tt);return}if(!tt){Ht.edge=aa(Ke.site,Ht.site);return}Gn(Ke),Gn(tt);var qt=Ke.site,er=qt.x,Cr=qt.y,Sr=se.x-er,Xr=se.y-Cr,qr=tt.site,Dr=qr.x-er,Ur=qr.y-Cr,Yr=2*(Sr*Ur-Xr*Dr),en=Sr*Sr+Xr*Xr,ln=Dr*Dr+Ur*Ur,Zr={x:(Ur*en-Xr*ln)/Yr+er,y:(Sr*ln-Dr*en)/Yr+Cr};ha(tt.edge,qt,qr,Zr),Ht.edge=aa(qt,se,null,Zr),tt.edge=aa(se,qr,null,Zr),Fn(Ke),Fn(tt)}}function Tn(se,Se){var Oe=se.site,Ke=Oe.x,tt=Oe.y,nt=tt-Se;if(!nt)return Ke;var Pt=se.P;if(!Pt)return-1/0;Oe=Pt.site;var vt=Oe.x,Ht=Oe.y,qt=Ht-Se;if(!qt)return vt;var er=vt-Ke,Cr=1/nt-1/qt,Sr=er/qt;return Cr?(-Sr+Math.sqrt(Sr*Sr-2*Cr*(er*er/(-2*qt)-Ht+qt/2+tt-nt/2)))/Cr+Ke:(Ke+vt)/2}function un(se,Se){var Oe=se.N;if(Oe)return Tn(Oe,Se);var Ke=se.site;return Ke.y===Se?Ke.x:1/0}function Pr(se){this.site=se,this.edges=[]}Pr.prototype.prepare=function(){for(var se=this.edges,Se=se.length,Oe;Se--;)Oe=se[Se].edge,(!Oe.b||!Oe.a)&&se.splice(Se,1);return se.sort(_r),se.length};function Er(se){for(var Se=se[0][0],Oe=se[1][0],Ke=se[0][1],tt=se[1][1],nt,Pt,vt,Ht,qt=Cn,er=qt.length,Cr,Sr,Xr,qr,Dr,Ur;er--;)if(Cr=qt[er],!(!Cr||!Cr.prepare()))for(Xr=Cr.edges,qr=Xr.length,Sr=0;Sr<qr;)Ur=Xr[Sr].end(),vt=Ur.x,Ht=Ur.y,Dr=Xr[++Sr%qr].start(),nt=Dr.x,Pt=Dr.y,(d(vt-nt)>ue||d(Ht-Pt)>ue)&&(Xr.splice(Sr,0,new Wi(ia(Cr.site,Ur,d(vt-Se)<ue&&tt-Ht>ue?{x:Se,y:d(nt-Se)<ue?Pt:tt}:d(Ht-tt)<ue&&Oe-vt>ue?{x:d(Pt-tt)<ue?nt:Oe,y:tt}:d(vt-Oe)<ue&&Ht-Ke>ue?{x:Oe,y:d(nt-Oe)<ue?Pt:Ke}:d(Ht-Ke)<ue&&vt-Se>ue?{x:d(Pt-Ke)<ue?nt:Se,y:Ke}:null),Cr.site,null)),++qr)}function _r(se,Se){return Se.angle-se.angle}function hn(){uo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fn(se){var Se=se.P,Oe=se.N;if(!(!Se||!Oe)){var Ke=Se.site,tt=se.site,nt=Oe.site;if(Ke!==nt){var Pt=tt.x,vt=tt.y,Ht=Ke.x-Pt,qt=Ke.y-vt,er=nt.x-Pt,Ur=nt.y-vt,Cr=2*(Ht*Ur-qt*er);if(!(Cr>=-ge)){var Sr=Ht*Ht+qt*qt,Xr=er*er+Ur*Ur,qr=(Ur*Sr-qt*Xr)/Cr,Dr=(Ht*Xr-er*Sr)/Cr,Ur=Dr+vt,Yr=Xt.pop()||new hn;Yr.arc=se,Yr.site=tt,Yr.x=qr+Pt,Yr.y=Ur+Math.sqrt(qr*qr+Dr*Dr),Yr.cy=Ur,se.circle=Yr;for(var en=null,ln=Va._;ln;)if(Yr.y<ln.y||Yr.y===ln.y&&Yr.x<=ln.x)if(ln.L)ln=ln.L;else{en=ln.P;break}else if(ln.R)ln=ln.R;else{en=ln;break}Va.insert(en,Yr),en||(Ea=Yr)}}}}function Gn(se){var Se=se.circle;Se&&(Se.P||(Ea=Se.N),Va.remove(Se),Xt.push(Se),uo(Se),se.circle=null)}function dn(se,Se,Oe,Ke){return function(tt){var nt=tt.a,Pt=tt.b,vt=nt.x,Ht=nt.y,qt=Pt.x,er=Pt.y,Cr=0,Sr=1,Xr=qt-vt,qr=er-Ht,Dr;if(Dr=se-vt,!(!Xr&&Dr>0)){if(Dr/=Xr,Xr<0){if(Dr<Cr)return;Dr<Sr&&(Sr=Dr)}else if(Xr>0){if(Dr>Sr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Oe-vt,!(!Xr&&Dr<0)){if(Dr/=Xr,Xr<0){if(Dr>Sr)return;Dr>Cr&&(Cr=Dr)}else if(Xr>0){if(Dr<Cr)return;Dr<Sr&&(Sr=Dr)}if(Dr=Se-Ht,!(!qr&&Dr>0)){if(Dr/=qr,qr<0){if(Dr<Cr)return;Dr<Sr&&(Sr=Dr)}else if(qr>0){if(Dr>Sr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Ke-Ht,!(!qr&&Dr<0)){if(Dr/=qr,qr<0){if(Dr>Sr)return;Dr>Cr&&(Cr=Dr)}else if(qr>0){if(Dr<Cr)return;Dr<Sr&&(Sr=Dr)}return Cr>0&&(tt.a={x:vt+Cr*Xr,y:Ht+Cr*qr}),Sr<1&&(tt.b={x:vt+Sr*Xr,y:Ht+Sr*qr}),tt}}}}}}function zn(se){for(var Se=En,Oe=dn(se[0][0],se[0][1],se[1][0],se[1][1]),Ke=Se.length,tt;Ke--;)tt=Se[Ke],(!Qn(tt,se)||!Oe(tt)||d(tt.a.x-tt.b.x)<ue&&d(tt.a.y-tt.b.y)<ue)&&(tt.a=tt.b=null,Se.splice(Ke,1))}function Qn(se,Se){var Oe=se.b;if(Oe)return!0;var Ke=se.a,tt=Se[0][0],nt=Se[1][0],Pt=Se[0][1],vt=Se[1][1],Ht=se.l,qt=se.r,er=Ht.x,Cr=Ht.y,Sr=qt.x,Xr=qt.y,qr=(er+Sr)/2,Dr=(Cr+Xr)/2,Ur,Yr;if(Xr===Cr){if(qr<tt||qr>=nt)return;if(er>Sr){if(!Ke)Ke={x:qr,y:Pt};else if(Ke.y>=vt)return;Oe={x:qr,y:vt}}else{if(!Ke)Ke={x:qr,y:vt};else if(Ke.y<Pt)return;Oe={x:qr,y:Pt}}}else if(Ur=(er-Sr)/(Xr-Cr),Yr=Dr-Ur*qr,Ur<-1||Ur>1)if(er>Sr){if(!Ke)Ke={x:(Pt-Yr)/Ur,y:Pt};else if(Ke.y>=vt)return;Oe={x:(vt-Yr)/Ur,y:vt}}else{if(!Ke)Ke={x:(vt-Yr)/Ur,y:vt};else if(Ke.y<Pt)return;Oe={x:(Pt-Yr)/Ur,y:Pt}}else if(Cr<Xr){if(!Ke)Ke={x:tt,y:Ur*tt+Yr};else if(Ke.x>=nt)return;Oe={x:nt,y:Ur*nt+Yr}}else{if(!Ke)Ke={x:nt,y:Ur*nt+Yr};else if(Ke.x<tt)return;Oe={x:tt,y:Ur*tt+Yr}}return se.a=Ke,se.b=Oe,!0}function sa(se,Se){this.l=se,this.r=Se,this.a=this.b=null}function aa(se,Se,Oe,Ke){var tt=new sa(se,Se);return En.push(tt),Oe&&ha(tt,se,Se,Oe),Ke&&ha(tt,Se,se,Ke),Cn[se.i].edges.push(new Wi(tt,se,Se)),Cn[Se.i].edges.push(new Wi(tt,Se,se)),tt}function ia(se,Se,Oe){var Ke=new sa(se,null);return Ke.a=Se,Ke.b=Oe,En.push(Ke),Ke}function ha(se,Se,Oe,Ke){!se.a&&!se.b?(se.a=Ke,se.l=Se,se.r=Oe):se.l===Oe?se.b=Ke:se.a=Ke}function Wi(se,Se,Oe){var Ke=se.a,tt=se.b;this.edge=se,this.site=Se,this.angle=Oe?Math.atan2(Oe.y-Se.y,Oe.x-Se.x):se.l===Se?Math.atan2(tt.x-Ke.x,Ke.y-tt.y):Math.atan2(Ke.x-tt.x,tt.y-Ke.y)}Wi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ao(){this._=null}function uo(se){se.U=se.C=se.L=se.R=se.P=se.N=null}ao.prototype={insert:function(se,Se){var Oe,Ke,tt;if(se){if(Se.P=se,Se.N=se.N,se.N&&(se.N.P=Se),se.N=Se,se.R){for(se=se.R;se.L;)se=se.L;se.L=Se}else se.R=Se;Oe=se}else this._?(se=Hu(this._),Se.P=null,Se.N=se,se.P=se.L=Se,Oe=se):(Se.P=Se.N=null,this._=Se,Oe=null);for(Se.L=Se.R=null,Se.U=Oe,Se.C=!0,se=Se;Oe&&Oe.C;)Ke=Oe.U,Oe===Ke.L?(tt=Ke.R,tt&&tt.C?(Oe.C=tt.C=!1,Ke.C=!0,se=Ke):(se===Oe.R&&(mo(this,Oe),se=Oe,Oe=se.U),Oe.C=!1,Ke.C=!0,fo(this,Ke))):(tt=Ke.L,tt&&tt.C?(Oe.C=tt.C=!1,Ke.C=!0,se=Ke):(se===Oe.L&&(fo(this,Oe),se=Oe,Oe=se.U),Oe.C=!1,Ke.C=!0,mo(this,Ke))),Oe=se.U;this._.C=!1},remove:function(se){se.N&&(se.N.P=se.P),se.P&&(se.P.N=se.N),se.N=se.P=null;var Se=se.U,Oe,Ke=se.L,tt=se.R,nt,Pt;if(Ke?tt?nt=Hu(tt):nt=Ke:nt=tt,Se?Se.L===se?Se.L=nt:Se.R=nt:this._=nt,Ke&&tt?(Pt=nt.C,nt.C=se.C,nt.L=Ke,Ke.U=nt,nt!==tt?(Se=nt.U,nt.U=se.U,se=nt.R,Se.L=se,nt.R=tt,tt.U=nt):(nt.U=Se,Se=nt,se=nt.R)):(Pt=se.C,se=nt),se&&(se.U=Se),!Pt){if(se&&se.C){se.C=!1;return}do{if(se===this._)break;if(se===Se.L){if(Oe=Se.R,Oe.C&&(Oe.C=!1,Se.C=!0,mo(this,Se),Oe=Se.R),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.R||!Oe.R.C)&&(Oe.L.C=!1,Oe.C=!0,fo(this,Oe),Oe=Se.R),Oe.C=Se.C,Se.C=Oe.R.C=!1,mo(this,Se),se=this._;break}}else if(Oe=Se.L,Oe.C&&(Oe.C=!1,Se.C=!0,fo(this,Se),Oe=Se.L),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.L||!Oe.L.C)&&(Oe.R.C=!1,Oe.C=!0,mo(this,Oe),Oe=Se.L),Oe.C=Se.C,Se.C=Oe.L.C=!1,fo(this,Se),se=this._;break}Oe.C=!0,se=Se,Se=Se.U}while(!se.C);se&&(se.C=!1)}}};function mo(se,Se){var Oe=Se,Ke=Se.R,tt=Oe.U;tt?tt.L===Oe?tt.L=Ke:tt.R=Ke:se._=Ke,Ke.U=tt,Oe.U=Ke,Oe.R=Ke.L,Oe.R&&(Oe.R.U=Oe),Ke.L=Oe}function fo(se,Se){var Oe=Se,Ke=Se.L,tt=Oe.U;tt?tt.L===Oe?tt.L=Ke:tt.R=Ke:se._=Ke,Ke.U=tt,Oe.U=Ke,Oe.L=Ke.R,Oe.L&&(Oe.L.U=Oe),Ke.R=Oe}function Hu(se){for(;se.L;)se=se.L;return se}function Qa(se,Se){var Oe=se.sort(Il).pop(),Ke,tt,nt;for(En=[],Cn=new Array(se.length),Hn=new ao,Va=new ao;;)if(nt=Ea,Oe&&(!nt||Oe.y<nt.y||Oe.y===nt.y&&Oe.x<nt.x))(Oe.x!==Ke||Oe.y!==tt)&&(Cn[Oe.i]=new Pr(Oe),Ln(Oe),Ke=Oe.x,tt=Oe.y),Oe=se.pop();else if(nt)cn(nt.arc);else break;Se&&(zn(Se),Er(Se));var Pt={cells:Cn,edges:En};return Hn=Va=En=Cn=null,Pt}function Il(se,Se){return Se.y-se.y||Se.x-se.x}n.geom.voronoi=function(se){var Se=ea,Oe=oa,Ke=Se,tt=Oe,nt=il;if(se)return Pt(se);function Pt(Ht){var qt=new Array(Ht.length),er=nt[0][0],Cr=nt[0][1],Sr=nt[1][0],Xr=nt[1][1];return Qa(vt(Ht),nt).cells.forEach(function(qr,Dr){var Ur=qr.edges,Yr=qr.site,en=qt[Dr]=Ur.length?Ur.map(function(ln){var Zr=ln.start();return[Zr.x,Zr.y]}):Yr.x>=er&&Yr.x<=Sr&&Yr.y>=Cr&&Yr.y<=Xr?[[er,Xr],[Sr,Xr],[Sr,Cr],[er,Cr]]:[];en.point=Ht[Dr]}),qt}function vt(Ht){return Ht.map(function(qt,er){return{x:Math.round(Ke(qt,er)/ue)*ue,y:Math.round(tt(qt,er)/ue)*ue,i:er}})}return Pt.links=function(Ht){return Qa(vt(Ht)).edges.filter(function(qt){return qt.l&&qt.r}).map(function(qt){return{source:Ht[qt.l.i],target:Ht[qt.r.i]}})},Pt.triangles=function(Ht){var qt=[];return Qa(vt(Ht)).cells.forEach(function(er,Cr){for(var Sr=er.site,Xr=er.edges.sort(_r),qr=-1,Dr=Xr.length,Ur,Yr=Xr[Dr-1].edge,en=Yr.l===Sr?Yr.r:Yr.l;++qr<Dr;)Ur=en,Yr=Xr[qr].edge,en=Yr.l===Sr?Yr.r:Yr.l,Cr<Ur.i&&Cr<en.i&&Yi(Sr,Ur,en)<0&&qt.push([Ht[Cr],Ht[Ur.i],Ht[en.i]])}),qt},Pt.x=function(Ht){return arguments.length?(Ke=jr(Se=Ht),Pt):Se},Pt.y=function(Ht){return arguments.length?(tt=jr(Oe=Ht),Pt):Oe},Pt.clipExtent=function(Ht){return arguments.length?(nt=Ht??il,Pt):nt===il?null:nt},Pt.size=function(Ht){return arguments.length?Pt.clipExtent(Ht&&[[0,0],Ht]):nt===il?null:nt&&nt[1]},Pt};var il=[[-1e6,-1e6],[1e6,1e6]];function Yi(se,Se,Oe){return(se.x-Oe.x)*(Se.y-se.y)-(se.x-Se.x)*(Oe.y-se.y)}n.geom.delaunay=function(se){return n.geom.voronoi().triangles(se)},n.geom.quadtree=function(se,Se,Oe,Ke,tt){var nt=ea,Pt=oa,vt;if(vt=arguments.length)return nt=xo,Pt=Sf,vt===3&&(tt=Oe,Ke=Se,Oe=Se=0),Ht(se);function Ht(qt){var er,Cr=jr(nt),Sr=jr(Pt),Xr,qr,Dr,Ur,Yr,en,ln,Zr;if(Se!=null)Yr=Se,en=Oe,ln=Ke,Zr=tt;else if(ln=Zr=-(Yr=en=1/0),Xr=[],qr=[],Ur=qt.length,vt)for(Dr=0;Dr<Ur;++Dr)er=qt[Dr],er.x<Yr&&(Yr=er.x),er.y<en&&(en=er.y),er.x>ln&&(ln=er.x),er.y>Zr&&(Zr=er.y),Xr.push(er.x),qr.push(er.y);else for(Dr=0;Dr<Ur;++Dr){var On=+Cr(er=qt[Dr],Dr),Vn=+Sr(er,Dr);On<Yr&&(Yr=On),Vn<en&&(en=Vn),On>ln&&(ln=On),Vn>Zr&&(Zr=Vn),Xr.push(On),qr.push(Vn)}var Xn=ln-Yr,ta=Zr-en;Xn>ta?Zr=en+Xn:ln=Yr+ta;function ya(Aa,_a,Xa,$a,oi,Bn,Fa,Da){if(!(isNaN(Xa)||isNaN($a)))if(Aa.leaf){var Ha=Aa.x,wi=Aa.y;if(Ha!=null)if(d(Ha-Xa)+d(wi-$a)<.01)ga(Aa,_a,Xa,$a,oi,Bn,Fa,Da);else{var Ii=Aa.point;Aa.x=Aa.y=Aa.point=null,ga(Aa,Ii,Ha,wi,oi,Bn,Fa,Da),ga(Aa,_a,Xa,$a,oi,Bn,Fa,Da)}else Aa.x=Xa,Aa.y=$a,Aa.point=_a}else ga(Aa,_a,Xa,$a,oi,Bn,Fa,Da)}function ga(Aa,_a,Xa,$a,oi,Bn,Fa,Da){var Ha=(oi+Fa)*.5,wi=(Bn+Da)*.5,Ii=Xa>=Ha,zi=$a>=wi,pi=zi<<1|Ii;Aa.leaf=!1,Aa=Aa.nodes[pi]||(Aa.nodes[pi]=_l()),Ii?oi=Ha:Fa=Ha,zi?Bn=wi:Da=wi,ya(Aa,_a,Xa,$a,oi,Bn,Fa,Da)}var za=_l();if(za.add=function(Aa){ya(za,Aa,+Cr(Aa,++Dr),+Sr(Aa,Dr),Yr,en,ln,Zr)},za.visit=function(Aa){Ci(Aa,za,Yr,en,ln,Zr)},za.find=function(Aa){return Fl(za,Aa[0],Aa[1],Yr,en,ln,Zr)},Dr=-1,Se==null){for(;++Dr<Ur;)ya(za,qt[Dr],Xr[Dr],qr[Dr],Yr,en,ln,Zr);--Dr}else qt.forEach(za.add);return Xr=qr=qt=er=null,za}return Ht.x=function(qt){return arguments.length?(nt=qt,Ht):nt},Ht.y=function(qt){return arguments.length?(Pt=qt,Ht):Pt},Ht.extent=function(qt){return arguments.length?(qt==null?Se=Oe=Ke=tt=null:(Se=+qt[0][0],Oe=+qt[0][1],Ke=+qt[1][0],tt=+qt[1][1]),Ht):Se==null?null:[[Se,Oe],[Ke,tt]]},Ht.size=function(qt){return arguments.length?(qt==null?Se=Oe=Ke=tt=null:(Se=Oe=0,Ke=+qt[0],tt=+qt[1]),Ht):Se==null?null:[Ke-Se,tt-Oe]},Ht};function xo(se){return se.x}function Sf(se){return se.y}function _l(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ci(se,Se,Oe,Ke,tt,nt){if(!se(Se,Oe,Ke,tt,nt)){var Pt=(Oe+tt)*.5,vt=(Ke+nt)*.5,Ht=Se.nodes;Ht[0]&&Ci(se,Ht[0],Oe,Ke,Pt,vt),Ht[1]&&Ci(se,Ht[1],Pt,Ke,tt,vt),Ht[2]&&Ci(se,Ht[2],Oe,vt,Pt,nt),Ht[3]&&Ci(se,Ht[3],Pt,vt,tt,nt)}}function Fl(se,Se,Oe,Ke,tt,nt,Pt){var vt=1/0,Ht;return function qt(er,Cr,Sr,Xr,qr){if(!(Cr>nt||Sr>Pt||Xr<Ke||qr<tt)){if(Dr=er.point){var Dr,Ur=Se-er.x,Yr=Oe-er.y,en=Ur*Ur+Yr*Yr;if(en<vt){var ln=Math.sqrt(vt=en);Ke=Se-ln,tt=Oe-ln,nt=Se+ln,Pt=Oe+ln,Ht=Dr}}for(var Zr=er.nodes,On=(Cr+Xr)*.5,Vn=(Sr+qr)*.5,Xn=Se>=On,ta=Oe>=Vn,ya=ta<<1|Xn,ga=ya+4;ya<ga;++ya)if(er=Zr[ya&3])switch(ya&3){case 0:qt(er,Cr,Sr,On,Vn);break;case 1:qt(er,On,Sr,Xr,Vn);break;case 2:qt(er,Cr,Vn,On,qr);break;case 3:qt(er,On,Vn,Xr,qr);break}}}(se,Ke,tt,nt,Pt),Ht}n.interpolateRgb=Eo;function Eo(se,Se){se=n.rgb(se),Se=n.rgb(Se);var Oe=se.r,Ke=se.g,tt=se.b,nt=Se.r-Oe,Pt=Se.g-Ke,vt=Se.b-tt;return function(Ht){return"#"+pr(Math.round(Oe+nt*Ht))+pr(Math.round(Ke+Pt*Ht))+pr(Math.round(tt+vt*Ht))}}n.interpolateObject=Ui;function Ui(se,Se){var Oe={},Ke={},tt;for(tt in se)tt in Se?Oe[tt]=hs(se[tt],Se[tt]):Ke[tt]=se[tt];for(tt in Se)tt in se||(Ke[tt]=Se[tt]);return function(nt){for(tt in Oe)Ke[tt]=Oe[tt](nt);return Ke}}n.interpolateNumber=Co;function Co(se,Se){return se=+se,Se=+Se,function(Oe){return se*(1-Oe)+Se*Oe}}n.interpolateString=io;function io(se,Se){var Oe=Io.lastIndex=Jo.lastIndex=0,Ke,tt,nt,Pt=-1,vt=[],Ht=[];for(se=se+"",Se=Se+"";(Ke=Io.exec(se))&&(tt=Jo.exec(Se));)(nt=tt.index)>Oe&&(nt=Se.slice(Oe,nt),vt[Pt]?vt[Pt]+=nt:vt[++Pt]=nt),(Ke=Ke[0])===(tt=tt[0])?vt[Pt]?vt[Pt]+=tt:vt[++Pt]=tt:(vt[++Pt]=null,Ht.push({i:Pt,x:Co(Ke,tt)})),Oe=Jo.lastIndex;return Oe<Se.length&&(nt=Se.slice(Oe),vt[Pt]?vt[Pt]+=nt:vt[++Pt]=nt),vt.length<2?Ht[0]?(Se=Ht[0].x,function(qt){return Se(qt)+""}):function(){return Se}:(Se=Ht.length,function(qt){for(var er=0,Cr;er<Se;++er)vt[(Cr=Ht[er]).i]=Cr.x(qt);return vt.join("")})}var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jo=new RegExp(Io.source,"g");n.interpolate=hs;function hs(se,Se){for(var Oe=n.interpolators.length,Ke;--Oe>=0&&!(Ke=n.interpolators[Oe](se,Se)););return Ke}n.interpolators=[function(se,Se){var Oe=typeof Se;return(Oe==="string"?xn.has(Se.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Se)?Eo:io:Se instanceof ct?Eo:Array.isArray(Se)?Ki:Oe==="object"&&isNaN(Se)?Ui:Co)(se,Se)}],n.interpolateArray=Ki;function Ki(se,Se){var Oe=[],Ke=[],tt=se.length,nt=Se.length,Pt=Math.min(se.length,Se.length),vt;for(vt=0;vt<Pt;++vt)Oe.push(hs(se[vt],Se[vt]));for(;vt<tt;++vt)Ke[vt]=se[vt];for(;vt<nt;++vt)Ke[vt]=Se[vt];return function(Ht){for(vt=0;vt<Pt;++vt)Ke[vt]=Oe[vt](Ht);return Ke}}var Ef=function(){return z},Qo=n.map({linear:Ef,poly:kl,quad:function(){return Gu},cubic:function(){return Wu},sin:function(){return vc},exp:function(){return dc},circle:function(){return pc},elastic:Yu,back:gc,bounce:function(){return yc}}),Ji=n.map({in:z,out:vs,"in-out":$o,"out-in":function(se){return $o(vs(se))}});n.ease=function(se){var Se=se.indexOf("-"),Oe=Se>=0?se.slice(0,Se):se,Ke=Se>=0?se.slice(Se+1):"in";return Oe=Qo.get(Oe)||Ef,Ke=Ji.get(Ke)||z,Vu(Ke(Oe.apply(null,C.call(arguments,1))))};function Vu(se){return function(Se){return Se<=0?0:Se>=1?1:se(Se)}}function vs(se){return function(Se){return 1-se(1-Se)}}function $o(se){return function(Se){return .5*(Se<.5?se(2*Se):2-se(2-2*Se))}}function Gu(se){return se*se}function Wu(se){return se*se*se}function hc(se){if(se<=0)return 0;if(se>=1)return 1;var Se=se*se,Oe=Se*se;return 4*(se<.5?Oe:3*(se-Se)+Oe-.75)}function kl(se){return function(Se){return Math.pow(Se,se)}}function vc(se){return 1-Math.cos(se*lt)}function dc(se){return Math.pow(2,10*(se-1))}function pc(se){return 1-Math.sqrt(1-se*se)}function Yu(se,Se){var Oe;return arguments.length<2&&(Se=.45),arguments.length?Oe=Se/ke*Math.asin(1/se):(se=1,Oe=Se/4),function(Ke){return 1+se*Math.pow(2,-10*Ke)*Math.sin((Ke-Oe)*ke/Se)}}function gc(se){return se||(se=1.70158),function(Se){return Se*Se*((se+1)*Se-se)}}function yc(se){return se<.36363636363636365?7.5625*se*se:se<.7272727272727273?7.5625*(se-=.5454545454545454)*se+.75:se<.9090909090909091?7.5625*(se-=.8181818181818182)*se+.9375:7.5625*(se-=.9545454545454546)*se+.984375}n.interpolateHcl=Cf;function Cf(se,Se){se=n.hcl(se),Se=n.hcl(Se);var Oe=se.h,Ke=se.c,tt=se.l,nt=Se.h-Oe,Pt=Se.c-Ke,vt=Se.l-tt;return isNaN(Pt)&&(Pt=0,Ke=isNaN(Ke)?Se.c:Ke),isNaN(nt)?(nt=0,Oe=isNaN(Oe)?Se.h:Oe):nt>180?nt-=360:nt<-180&&(nt+=360),function(Ht){return Ot(Oe+nt*Ht,Ke+Pt*Ht,tt+vt*Ht)+""}}n.interpolateHsl=mc;function mc(se,Se){se=n.hsl(se),Se=n.hsl(Se);var Oe=se.h,Ke=se.s,tt=se.l,nt=Se.h-Oe,Pt=Se.s-Ke,vt=Se.l-tt;return isNaN(Pt)&&(Pt=0,Ke=isNaN(Ke)?Se.s:Ke),isNaN(nt)?(nt=0,Oe=isNaN(Oe)?Se.h:Oe):nt>180?nt-=360:nt<-180&&(nt+=360),function(Ht){return Mt(Oe+nt*Ht,Ke+Pt*Ht,tt+vt*Ht)+""}}n.interpolateLab=xc;function xc(se,Se){se=n.lab(se),Se=n.lab(Se);var Oe=se.l,Ke=se.a,tt=se.b,nt=Se.l-Oe,Pt=Se.a-Ke,vt=Se.b-tt;return function(Ht){return Ge(Oe+nt*Ht,Ke+Pt*Ht,tt+vt*Ht)+""}}n.interpolateRound=Zu;function Zu(se,Se){return Se-=se,function(Oe){return Math.round(se+Se*Oe)}}n.transform=function(se){var Se=v.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(Oe){if(Oe!=null){Se.setAttribute("transform",Oe);var Ke=Se.transform.baseVal.consolidate()}return new Gs(Ke?Ke.matrix:bc)})(se)};function Gs(se){var Se=[se.a,se.b],Oe=[se.c,se.d],Ke=ol(Se),tt=Ws(Se,Oe),nt=ol(fu(Oe,Se,-tt))||0;Se[0]*Oe[1]<Oe[0]*Se[1]&&(Se[0]*=-1,Se[1]*=-1,Ke*=-1,tt*=-1),this.rotate=(Ke?Math.atan2(Se[1],Se[0]):Math.atan2(-Oe[0],Oe[1]))*Rt,this.translate=[se.e,se.f],this.scale=[Ke,nt],this.skew=nt?Math.atan2(tt,nt)*Rt:0}Gs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ws(se,Se){return se[0]*Se[0]+se[1]*Se[1]}function ol(se){var Se=Math.sqrt(Ws(se,se));return Se&&(se[0]/=Se,se[1]/=Se),Se}function fu(se,Se,Oe){return se[0]+=Oe*Se[0],se[1]+=Oe*Se[1],se}var bc={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Ys;function ds(se){return se.length?se.pop()+",":""}function Lf(se,Se,Oe,Ke){if(se[0]!==Se[0]||se[1]!==Se[1]){var tt=Oe.push("translate(",null,",",null,")");Ke.push({i:tt-4,x:Co(se[0],Se[0])},{i:tt-2,x:Co(se[1],Se[1])})}else(Se[0]||Se[1])&&Oe.push("translate("+Se+")")}function Xu(se,Se,Oe,Ke){se!==Se?(se-Se>180?Se+=360:Se-se>180&&(se+=360),Ke.push({i:Oe.push(ds(Oe)+"rotate(",null,")")-2,x:Co(se,Se)})):Se&&Oe.push(ds(Oe)+"rotate("+Se+")")}function wc(se,Se,Oe,Ke){se!==Se?Ke.push({i:Oe.push(ds(Oe)+"skewX(",null,")")-2,x:Co(se,Se)}):Se&&Oe.push(ds(Oe)+"skewX("+Se+")")}function _o(se,Se,Oe,Ke){if(se[0]!==Se[0]||se[1]!==Se[1]){var tt=Oe.push(ds(Oe)+"scale(",null,",",null,")");Ke.push({i:tt-4,x:Co(se[0],Se[0])},{i:tt-2,x:Co(se[1],Se[1])})}else(Se[0]!==1||Se[1]!==1)&&Oe.push(ds(Oe)+"scale("+Se+")")}function Ys(se,Se){var Oe=[],Ke=[];return se=n.transform(se),Se=n.transform(Se),Lf(se.translate,Se.translate,Oe,Ke),Xu(se.rotate,Se.rotate,Oe,Ke),wc(se.skew,Se.skew,Oe,Ke),_o(se.scale,Se.scale,Oe,Ke),se=Se=null,function(tt){for(var nt=-1,Pt=Ke.length,vt;++nt<Pt;)Oe[(vt=Ke[nt]).i]=vt.x(tt);return Oe.join("")}}function zl(se,Se){return Se=(Se-=se=+se)||1/Se,function(Oe){return(Oe-se)/Se}}function sl(se,Se){return Se=(Se-=se=+se)||1/Se,function(Oe){return Math.max(0,Math.min(1,(Oe-se)/Se))}}n.layout={},n.layout.bundle=function(){return function(se){for(var Se=[],Oe=-1,Ke=se.length;++Oe<Ke;)Se.push(qo(se[Oe]));return Se}};function qo(se){for(var Se=se.source,Oe=se.target,Ke=ju(Se,Oe),tt=[Se];Se!==Ke;)Se=Se.parent,tt.push(Se);for(var nt=tt.length;Oe!==Ke;)tt.splice(nt,0,Oe),Oe=Oe.parent;return tt}function ps(se){for(var Se=[],Oe=se.parent;Oe!=null;)Se.push(se),se=Oe,Oe=Oe.parent;return Se.push(se),Se}function ju(se,Se){if(se===Se)return se;for(var Oe=ps(se),Ke=ps(Se),tt=Oe.pop(),nt=Ke.pop(),Pt=null;tt===nt;)Pt=tt,tt=Oe.pop(),nt=Ke.pop();return Pt}n.layout.chord=function(){var se={},Se,Oe,Ke,tt,nt=0,Pt,vt,Ht;function qt(){var Cr={},Sr=[],Xr=n.range(tt),qr=[],Dr,Ur,Yr,en,ln;for(Se=[],Oe=[],Dr=0,en=-1;++en<tt;){for(Ur=0,ln=-1;++ln<tt;)Ur+=Ke[en][ln];Sr.push(Ur),qr.push(n.range(tt)),Dr+=Ur}for(Pt&&Xr.sort(function(za,Aa){return Pt(Sr[za],Sr[Aa])}),vt&&qr.forEach(function(za,Aa){za.sort(function(_a,Xa){return vt(Ke[Aa][_a],Ke[Aa][Xa])})}),Dr=(ke-nt*tt)/Dr,Ur=0,en=-1;++en<tt;){for(Yr=Ur,ln=-1;++ln<tt;){var Zr=Xr[en],On=qr[Zr][ln],Vn=Ke[Zr][On],Xn=Ur,ta=Ur+=Vn*Dr;Cr[Zr+"-"+On]={index:Zr,subindex:On,startAngle:Xn,endAngle:ta,value:Vn}}Oe[Zr]={index:Zr,startAngle:Yr,endAngle:Ur,value:Sr[Zr]},Ur+=nt}for(en=-1;++en<tt;)for(ln=en-1;++ln<tt;){var ya=Cr[en+"-"+ln],ga=Cr[ln+"-"+en];(ya.value||ga.value)&&Se.push(ya.value<ga.value?{source:ga,target:ya}:{source:ya,target:ga})}Ht&&er()}function er(){Se.sort(function(Cr,Sr){return Ht((Cr.source.value+Cr.target.value)/2,(Sr.source.value+Sr.target.value)/2)})}return se.matrix=function(Cr){return arguments.length?(tt=(Ke=Cr)&&Ke.length,Se=Oe=null,se):Ke},se.padding=function(Cr){return arguments.length?(nt=Cr,Se=Oe=null,se):nt},se.sortGroups=function(Cr){return arguments.length?(Pt=Cr,Se=Oe=null,se):Pt},se.sortSubgroups=function(Cr){return arguments.length?(vt=Cr,Se=null,se):vt},se.sortChords=function(Cr){return arguments.length?(Ht=Cr,Se&&er(),se):Ht},se.chords=function(){return Se||qt(),Se},se.groups=function(){return Oe||qt(),Oe},se},n.layout.force=function(){var se={},Se=n.dispatch("start","tick","end"),Oe,Ke=[1,1],tt,nt,Pt=.9,vt=ul,Ht=Pf,qt=-30,er=Rf,Cr=.1,Sr=.64,Xr=[],qr=[],Dr,Ur,Yr;function en(Zr){return function(On,Vn,Xn,ta){if(On.point!==Zr){var ya=On.cx-Zr.x,ga=On.cy-Zr.y,za=ta-Vn,Aa=ya*ya+ga*ga;if(za*za/Sr<Aa){if(Aa<er){var _a=On.charge/Aa;Zr.px-=ya*_a,Zr.py-=ga*_a}return!0}if(On.point&&Aa&&Aa<er){var _a=On.pointCharge/Aa;Zr.px-=ya*_a,Zr.py-=ga*_a}}return!On.charge}}se.tick=function(){if((nt*=.99)<.005)return Oe=null,Se.end({type:"end",alpha:nt=0}),!0;var Zr=Xr.length,On=qr.length,Vn,Xn,ta,ya,ga,za,Aa,_a,Xa;for(Xn=0;Xn<On;++Xn)ta=qr[Xn],ya=ta.source,ga=ta.target,_a=ga.x-ya.x,Xa=ga.y-ya.y,(za=_a*_a+Xa*Xa)&&(za=nt*Ur[Xn]*((za=Math.sqrt(za))-Dr[Xn])/za,_a*=za,Xa*=za,ga.x-=_a*(Aa=ya.weight+ga.weight?ya.weight/(ya.weight+ga.weight):.5),ga.y-=Xa*Aa,ya.x+=_a*(Aa=1-Aa),ya.y+=Xa*Aa);if((Aa=nt*Cr)&&(_a=Ke[0]/2,Xa=Ke[1]/2,Xn=-1,Aa))for(;++Xn<Zr;)ta=Xr[Xn],ta.x+=(_a-ta.x)*Aa,ta.y+=(Xa-ta.y)*Aa;if(qt)for(cu(Vn=n.geom.quadtree(Xr),nt,Yr),Xn=-1;++Xn<Zr;)(ta=Xr[Xn]).fixed||Vn.visit(en(ta));for(Xn=-1;++Xn<Zr;)ta=Xr[Xn],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*Pt,ta.y-=(ta.py-(ta.py=ta.y))*Pt);Se.tick({type:"tick",alpha:nt})},se.nodes=function(Zr){return arguments.length?(Xr=Zr,se):Xr},se.links=function(Zr){return arguments.length?(qr=Zr,se):qr},se.size=function(Zr){return arguments.length?(Ke=Zr,se):Ke},se.linkDistance=function(Zr){return arguments.length?(vt=typeof Zr=="function"?Zr:+Zr,se):vt},se.distance=se.linkDistance,se.linkStrength=function(Zr){return arguments.length?(Ht=typeof Zr=="function"?Zr:+Zr,se):Ht},se.friction=function(Zr){return arguments.length?(Pt=+Zr,se):Pt},se.charge=function(Zr){return arguments.length?(qt=typeof Zr=="function"?Zr:+Zr,se):qt},se.chargeDistance=function(Zr){return arguments.length?(er=Zr*Zr,se):Math.sqrt(er)},se.gravity=function(Zr){return arguments.length?(Cr=+Zr,se):Cr},se.theta=function(Zr){return arguments.length?(Sr=Zr*Zr,se):Math.sqrt(Sr)},se.alpha=function(Zr){return arguments.length?(Zr=+Zr,nt?Zr>0?nt=Zr:(Oe.c=null,Oe.t=NaN,Oe=null,Se.end({type:"end",alpha:nt=0})):Zr>0&&(Se.start({type:"start",alpha:nt=Zr}),Oe=mn(se.tick)),se):nt},se.start=function(){var Zr,On=Xr.length,Vn=qr.length,Xn=Ke[0],ta=Ke[1],ya,ga;for(Zr=0;Zr<On;++Zr)(ga=Xr[Zr]).index=Zr,ga.weight=0;for(Zr=0;Zr<Vn;++Zr)ga=qr[Zr],typeof ga.source=="number"&&(ga.source=Xr[ga.source]),typeof ga.target=="number"&&(ga.target=Xr[ga.target]),++ga.source.weight,++ga.target.weight;for(Zr=0;Zr<On;++Zr)ga=Xr[Zr],isNaN(ga.x)&&(ga.x=za("x",Xn)),isNaN(ga.y)&&(ga.y=za("y",ta)),isNaN(ga.px)&&(ga.px=ga.x),isNaN(ga.py)&&(ga.py=ga.y);if(Dr=[],typeof vt=="function")for(Zr=0;Zr<Vn;++Zr)Dr[Zr]=+vt.call(this,qr[Zr],Zr);else for(Zr=0;Zr<Vn;++Zr)Dr[Zr]=vt;if(Ur=[],typeof Ht=="function")for(Zr=0;Zr<Vn;++Zr)Ur[Zr]=+Ht.call(this,qr[Zr],Zr);else for(Zr=0;Zr<Vn;++Zr)Ur[Zr]=Ht;if(Yr=[],typeof qt=="function")for(Zr=0;Zr<On;++Zr)Yr[Zr]=+qt.call(this,Xr[Zr],Zr);else for(Zr=0;Zr<On;++Zr)Yr[Zr]=qt;function za(Aa,_a){if(!ya){for(ya=new Array(On),oi=0;oi<On;++oi)ya[oi]=[];for(oi=0;oi<Vn;++oi){var Xa=qr[oi];ya[Xa.source.index].push(Xa.target),ya[Xa.target.index].push(Xa.source)}}for(var $a=ya[Zr],oi=-1,Bn=$a.length,Fa;++oi<Bn;)if(!isNaN(Fa=$a[oi][Aa]))return Fa;return Math.random()*_a}return se.resume()},se.resume=function(){return se.alpha(.1)},se.stop=function(){return se.alpha(0)},se.drag=function(){if(tt||(tt=n.behavior.drag().origin(z).on("dragstart.force",ll).on("drag.force",ln).on("dragend.force",Es)),!arguments.length)return tt;this.on("mouseover.force",Di).on("mouseout.force",Ku).call(tt)};function ln(Zr){Zr.px=n.event.x,Zr.py=n.event.y,se.resume()}return n.rebind(se,Se,"on")};function ll(se){se.fixed|=2}function Es(se){se.fixed&=-7}function Di(se){se.fixed|=4,se.px=se.x,se.py=se.y}function Ku(se){se.fixed&=-5}function cu(se,Se,Oe){var Ke=0,tt=0;if(se.charge=0,!se.leaf)for(var nt=se.nodes,Pt=nt.length,vt=-1,Ht;++vt<Pt;)Ht=nt[vt],Ht!=null&&(cu(Ht,Se,Oe),se.charge+=Ht.charge,Ke+=Ht.charge*Ht.cx,tt+=Ht.charge*Ht.cy);if(se.point){se.leaf||(se.point.x+=Math.random()-.5,se.point.y+=Math.random()-.5);var qt=Se*Oe[se.point.index];se.charge+=se.pointCharge=qt,Ke+=qt*se.point.x,tt+=qt*se.point.y}se.cx=Ke/se.charge,se.cy=tt/se.charge}var ul=20,Pf=1,Rf=1/0;n.layout.hierarchy=function(){var se=Ju,Se=hu,Oe=Tc;function Ke(tt){var nt=[tt],Pt=[],vt;for(tt.depth=0;(vt=nt.pop())!=null;)if(Pt.push(vt),(qt=Se.call(Ke,vt,vt.depth))&&(Ht=qt.length)){for(var Ht,qt,er;--Ht>=0;)nt.push(er=qt[Ht]),er.parent=vt,er.depth=vt.depth+1;Oe&&(vt.value=0),vt.children=qt}else Oe&&(vt.value=+Oe.call(Ke,vt,vt.depth)||0),delete vt.children;return Zi(tt,function(Cr){var Sr,Xr;se&&(Sr=Cr.children)&&Sr.sort(se),Oe&&(Xr=Cr.parent)&&(Xr.value+=Cr.value)}),Pt}return Ke.sort=function(tt){return arguments.length?(se=tt,Ke):se},Ke.children=function(tt){return arguments.length?(Se=tt,Ke):Se},Ke.value=function(tt){return arguments.length?(Oe=tt,Ke):Oe},Ke.revalue=function(tt){return Oe&&(cl(tt,function(nt){nt.children&&(nt.value=0)}),Zi(tt,function(nt){var Pt;nt.children||(nt.value=+Oe.call(Ke,nt,nt.depth)||0),(Pt=nt.parent)&&(Pt.value+=nt.value)})),tt},Ke};function fl(se,Se){return n.rebind(se,Se,"sort","children","value"),se.nodes=se,se.links=Ac,se}function cl(se,Se){for(var Oe=[se];(se=Oe.pop())!=null;)if(Se(se),(tt=se.children)&&(Ke=tt.length))for(var Ke,tt;--Ke>=0;)Oe.push(tt[Ke])}function Zi(se,Se){for(var Oe=[se],Ke=[];(se=Oe.pop())!=null;)if(Ke.push(se),(Pt=se.children)&&(nt=Pt.length))for(var tt=-1,nt,Pt;++tt<nt;)Oe.push(Pt[tt]);for(;(se=Ke.pop())!=null;)Se(se)}function hu(se){return se.children}function Tc(se){return se.value}function Ju(se,Se){return Se.value-se.value}function Ac(se){return n.merge(se.map(function(Se){return(Se.children||[]).map(function(Oe){return{source:Se,target:Oe}})}))}n.layout.partition=function(){var se=n.layout.hierarchy(),Se=[1,1];function Oe(nt,Pt,vt,Ht){var qt=nt.children;if(nt.x=Pt,nt.y=nt.depth*Ht,nt.dx=vt,nt.dy=Ht,qt&&(Cr=qt.length)){var er=-1,Cr,Sr,Xr;for(vt=nt.value?vt/nt.value:0;++er<Cr;)Oe(Sr=qt[er],Pt,Xr=Sr.value*vt,Ht),Pt+=Xr}}function Ke(nt){var Pt=nt.children,vt=0;if(Pt&&(qt=Pt.length))for(var Ht=-1,qt;++Ht<qt;)vt=Math.max(vt,Ke(Pt[Ht]));return 1+vt}function tt(nt,Pt){var vt=se.call(this,nt,Pt);return Oe(vt[0],0,Se[0],Se[1]/Ke(vt[0])),vt}return tt.size=function(nt){return arguments.length?(Se=nt,tt):Se},fl(tt,se)},n.layout.pie=function(){var se=Number,Se=vu,Oe=0,Ke=ke,tt=0;function nt(Pt){var vt=Pt.length,Ht=Pt.map(function(en,ln){return+se.call(nt,en,ln)}),qt=+(typeof Oe=="function"?Oe.apply(this,arguments):Oe),er=(typeof Ke=="function"?Ke.apply(this,arguments):Ke)-qt,Cr=Math.min(Math.abs(er)/vt,+(typeof tt=="function"?tt.apply(this,arguments):tt)),Sr=Cr*(er<0?-1:1),Xr=n.sum(Ht),qr=Xr?(er-vt*Sr)/Xr:0,Dr=n.range(vt),Ur=[],Yr;return Se!=null&&Dr.sort(Se===vu?function(en,ln){return Ht[ln]-Ht[en]}:function(en,ln){return Se(Pt[en],Pt[ln])}),Dr.forEach(function(en){Ur[en]={data:Pt[en],value:Yr=Ht[en],startAngle:qt,endAngle:qt+=Yr*qr+Sr,padAngle:Cr}}),Ur}return nt.value=function(Pt){return arguments.length?(se=Pt,nt):se},nt.sort=function(Pt){return arguments.length?(Se=Pt,nt):Se},nt.startAngle=function(Pt){return arguments.length?(Oe=Pt,nt):Oe},nt.endAngle=function(Pt){return arguments.length?(Ke=Pt,nt):Ke},nt.padAngle=function(Pt){return arguments.length?(tt=Pt,nt):tt},nt};var vu={};n.layout.stack=function(){var se=z,Se=du,Oe=ef,Ke=$u,tt=Ol,nt=Qu;function Pt(vt,Ht){if(!(qr=vt.length))return vt;var qt=vt.map(function(en,ln){return se.call(Pt,en,ln)}),er=qt.map(function(en){return en.map(function(ln,Zr){return[tt.call(Pt,ln,Zr),nt.call(Pt,ln,Zr)]})}),Cr=Se.call(Pt,er,Ht);qt=n.permute(qt,Cr),er=n.permute(er,Cr);var Sr=Oe.call(Pt,er,Ht),Xr=qt[0].length,qr,Dr,Ur,Yr;for(Ur=0;Ur<Xr;++Ur)for(Ke.call(Pt,qt[0][Ur],Yr=Sr[Ur],er[0][Ur][1]),Dr=1;Dr<qr;++Dr)Ke.call(Pt,qt[Dr][Ur],Yr+=er[Dr-1][Ur][1],er[Dr][Ur][1]);return vt}return Pt.values=function(vt){return arguments.length?(se=vt,Pt):se},Pt.order=function(vt){return arguments.length?(Se=typeof vt=="function"?vt:Bl.get(vt)||du,Pt):Se},Pt.offset=function(vt){return arguments.length?(Oe=typeof vt=="function"?vt:qu.get(vt)||ef,Pt):Oe},Pt.x=function(vt){return arguments.length?(tt=vt,Pt):tt},Pt.y=function(vt){return arguments.length?(nt=vt,Pt):nt},Pt.out=function(vt){return arguments.length?(Ke=vt,Pt):Ke},Pt};function Ol(se){return se.x}function Qu(se){return se.y}function $u(se,Se,Oe){se.y0=Se,se.y=Oe}var Bl=n.map({"inside-out":function(se){var Se=se.length,Oe,Ke,tt=se.map(fi),nt=se.map(Df),Pt=n.range(Se).sort(function(Cr,Sr){return tt[Cr]-tt[Sr]}),vt=0,Ht=0,qt=[],er=[];for(Oe=0;Oe<Se;++Oe)Ke=Pt[Oe],vt<Ht?(vt+=nt[Ke],qt.push(Ke)):(Ht+=nt[Ke],er.push(Ke));return er.reverse().concat(qt)},reverse:function(se){return n.range(se.length).reverse()},default:du}),qu=n.map({silhouette:function(se){var Se=se.length,Oe=se[0].length,Ke=[],tt=0,nt,Pt,vt,Ht=[];for(Pt=0;Pt<Oe;++Pt){for(nt=0,vt=0;nt<Se;nt++)vt+=se[nt][Pt][1];vt>tt&&(tt=vt),Ke.push(vt)}for(Pt=0;Pt<Oe;++Pt)Ht[Pt]=(tt-Ke[Pt])/2;return Ht},wiggle:function(se){var Se=se.length,Oe=se[0],Ke=Oe.length,tt,nt,Pt,vt,Ht,qt,er,Cr,Sr,Xr=[];for(Xr[0]=Cr=Sr=0,nt=1;nt<Ke;++nt){for(tt=0,vt=0;tt<Se;++tt)vt+=se[tt][nt][1];for(tt=0,Ht=0,er=Oe[nt][0]-Oe[nt-1][0];tt<Se;++tt){for(Pt=0,qt=(se[tt][nt][1]-se[tt][nt-1][1])/(2*er);Pt<tt;++Pt)qt+=(se[Pt][nt][1]-se[Pt][nt-1][1])/er;Ht+=qt*se[tt][nt][1]}Xr[nt]=Cr-=vt?Ht/vt*er:0,Cr<Sr&&(Sr=Cr)}for(nt=0;nt<Ke;++nt)Xr[nt]-=Sr;return Xr},expand:function(se){var Se=se.length,Oe=se[0].length,Ke=1/Se,tt,nt,Pt,vt=[];for(nt=0;nt<Oe;++nt){for(tt=0,Pt=0;tt<Se;tt++)Pt+=se[tt][nt][1];if(Pt)for(tt=0;tt<Se;tt++)se[tt][nt][1]/=Pt;else for(tt=0;tt<Se;tt++)se[tt][nt][1]=Ke}for(nt=0;nt<Oe;++nt)vt[nt]=0;return vt},zero:ef});function du(se){return n.range(se.length)}function ef(se){for(var Se=-1,Oe=se[0].length,Ke=[];++Se<Oe;)Ke[Se]=0;return Ke}function fi(se){for(var Se=1,Oe=0,Ke=se[0][1],tt,nt=se.length;Se<nt;++Se)(tt=se[Se][1])>Ke&&(Oe=Se,Ke=tt);return Oe}function Df(se){return se.reduce(Uo,0)}function Uo(se,Se){return se+Se[1]}n.layout.histogram=function(){var se=!0,Se=Number,Oe=tf,Ke=hl;function tt(nt,Sr){for(var vt=[],Ht=nt.map(Se,this),qt=Oe.call(this,Ht,Sr),er=Ke.call(this,qt,Ht,Sr),Cr,Sr=-1,Xr=Ht.length,qr=er.length-1,Dr=se?1:1/Xr,Ur;++Sr<qr;)Cr=vt[Sr]=[],Cr.dx=er[Sr+1]-(Cr.x=er[Sr]),Cr.y=0;if(qr>0)for(Sr=-1;++Sr<Xr;)Ur=Ht[Sr],Ur>=qt[0]&&Ur<=qt[1]&&(Cr=vt[n.bisect(er,Ur,1,qr)-1],Cr.y+=Dr,Cr.push(nt[Sr]));return vt}return tt.value=function(nt){return arguments.length?(Se=nt,tt):Se},tt.range=function(nt){return arguments.length?(Oe=jr(nt),tt):Oe},tt.bins=function(nt){return arguments.length?(Ke=typeof nt=="number"?function(Pt){return Zs(Pt,nt)}:jr(nt),tt):Ke},tt.frequency=function(nt){return arguments.length?(se=!!nt,tt):se},tt};function hl(se,Se){return Zs(se,Math.ceil(Math.log(Se.length)/Math.LN2+1))}function Zs(se,Se){for(var Oe=-1,Ke=+se[0],tt=(se[1]-Ke)/Se,nt=[];++Oe<=Se;)nt[Oe]=tt*Oe+Ke;return nt}function tf(se){return[n.min(se),n.max(se)]}n.layout.pack=function(){var se=n.layout.hierarchy().sort(_i),Se=0,Oe=[1,1],Ke;function tt(nt,Pt){var vt=se.call(this,nt,Pt),Ht=vt[0],qt=Oe[0],er=Oe[1],Cr=Ke==null?Math.sqrt:typeof Ke=="function"?Ke:function(){return Ke};if(Ht.x=Ht.y=0,Zi(Ht,function(Xr){Xr.r=+Cr(Xr.value)}),Zi(Ht,ys),Se){var Sr=Se*(Ke?1:Math.max(2*Ht.r/qt,2*Ht.r/er))/2;Zi(Ht,function(Xr){Xr.r+=Sr}),Zi(Ht,ys),Zi(Ht,function(Xr){Xr.r-=Sr})}return Ps(Ht,qt/2,er/2,Ke?1:1/Math.max(2*Ht.r/qt,2*Ht.r/er)),vt}return tt.size=function(nt){return arguments.length?(Oe=nt,tt):Oe},tt.radius=function(nt){return arguments.length?(Ke=nt==null||typeof nt=="function"?nt:+nt,tt):Ke},tt.padding=function(nt){return arguments.length?(Se=+nt,tt):Se},fl(tt,se)};function _i(se,Se){return se.value-Se.value}function Nl(se,Se){var Oe=se._pack_next;se._pack_next=Se,Se._pack_prev=se,Se._pack_next=Oe,Oe._pack_prev=Se}function bo(se,Se){se._pack_next=Se,Se._pack_prev=se}function gs(se,Se){var Oe=Se.x-se.x,Ke=Se.y-se.y,tt=se.r+Se.r;return .999*tt*tt>Oe*Oe+Ke*Ke}function ys(se){if(!(Se=se.children)||!(Sr=Se.length))return;var Se,Oe=1/0,Ke=-1/0,tt=1/0,nt=-1/0,Pt,vt,Ht,qt,er,Cr,Sr;function Xr(Zr){Oe=Math.min(Zr.x-Zr.r,Oe),Ke=Math.max(Zr.x+Zr.r,Ke),tt=Math.min(Zr.y-Zr.r,tt),nt=Math.max(Zr.y+Zr.r,nt)}if(Se.forEach(Cs),Pt=Se[0],Pt.x=-Pt.r,Pt.y=0,Xr(Pt),Sr>1&&(vt=Se[1],vt.x=vt.r,vt.y=0,Xr(vt),Sr>2))for(Ht=Se[2],Ho(Pt,vt,Ht),Xr(Ht),Nl(Pt,Ht),Pt._pack_prev=Ht,Nl(Ht,vt),vt=Pt._pack_next,qt=3;qt<Sr;qt++){Ho(Pt,vt,Ht=Se[qt]);var qr=0,Dr=1,Ur=1;for(er=vt._pack_next;er!==vt;er=er._pack_next,Dr++)if(gs(er,Ht)){qr=1;break}if(qr==1)for(Cr=Pt._pack_prev;Cr!==er._pack_prev&&!gs(Cr,Ht);Cr=Cr._pack_prev,Ur++);qr?(Dr<Ur||Dr==Ur&&vt.r<Pt.r?bo(Pt,vt=er):bo(Pt=Cr,vt),qt--):(Nl(Pt,Ht),vt=Ht,Xr(Ht))}var Yr=(Oe+Ke)/2,en=(tt+nt)/2,ln=0;for(qt=0;qt<Sr;qt++)Ht=Se[qt],Ht.x-=Yr,Ht.y-=en,ln=Math.max(ln,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));se.r=ln,Se.forEach(Ls)}function Cs(se){se._pack_next=se._pack_prev=se}function Ls(se){delete se._pack_next,delete se._pack_prev}function Ps(se,Se,Oe,Ke){var tt=se.children;if(se.x=Se+=Ke*se.x,se.y=Oe+=Ke*se.y,se.r*=Ke,tt)for(var nt=-1,Pt=tt.length;++nt<Pt;)Ps(tt[nt],Se,Oe,Ke)}function Ho(se,Se,Oe){var Ke=se.r+Oe.r,tt=Se.x-se.x,nt=Se.y-se.y;if(Ke&&(tt||nt)){var Pt=Se.r+Oe.r,vt=tt*tt+nt*nt;Pt*=Pt,Ke*=Ke;var Ht=.5+(Ke-Pt)/(2*vt),qt=Math.sqrt(Math.max(0,2*Pt*(Ke+vt)-(Ke-=vt)*Ke-Pt*Pt))/(2*vt);Oe.x=se.x+Ht*tt+qt*nt,Oe.y=se.y+Ht*nt-qt*tt}else Oe.x=se.x+Ke,Oe.y=se.y}n.layout.tree=function(){var se=n.layout.hierarchy().sort(null).value(null),Se=es,Oe=[1,1],Ke=null;function tt(er,Cr){var Sr=se.call(this,er,Cr),Xr=Sr[0],qr=nt(Xr);if(Zi(qr,Pt),qr.parent.m=-qr.z,cl(qr,vt),Ke)cl(Xr,qt);else{var Dr=Xr,Ur=Xr,Yr=Xr;cl(Xr,function(On){On.x<Dr.x&&(Dr=On),On.x>Ur.x&&(Ur=On),On.depth>Yr.depth&&(Yr=On)});var en=Se(Dr,Ur)/2-Dr.x,ln=Oe[0]/(Ur.x+Se(Ur,Dr)/2+en),Zr=Oe[1]/(Yr.depth||1);cl(Xr,function(On){On.x=(On.x+en)*ln,On.y=On.depth*Zr})}return Sr}function nt(er){for(var Cr={A:null,children:[er]},Sr=[Cr],Xr;(Xr=Sr.pop())!=null;)for(var qr=Xr.children,Dr,Ur=0,Yr=qr.length;Ur<Yr;++Ur)Sr.push((qr[Ur]=Dr={_:qr[Ur],parent:Xr,children:(Dr=qr[Ur].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Dr);return Cr.children[0]}function Pt(er){var Cr=er.children,Sr=er.parent.children,Xr=er.i?Sr[er.i-1]:null;if(Cr.length){Mc(er);var qr=(Cr[0].z+Cr[Cr.length-1].z)/2;Xr?(er.z=Xr.z+Se(er._,Xr._),er.m=er.z-qr):er.z=qr}else Xr&&(er.z=Xr.z+Se(er._,Xr._));er.parent.A=Ht(er,Xr,er.parent.A||Sr[0])}function vt(er){er._.x=er.z+er.parent.m,er.m+=er.parent.m}function Ht(er,Cr,Sr){if(Cr){for(var Xr=er,qr=er,Dr=Cr,Ur=Xr.parent.children[0],Yr=Xr.m,en=qr.m,ln=Dr.m,Zr=Ur.m,On;Dr=Hl(Dr),Xr=Ul(Xr),Dr&&Xr;)Ur=Ul(Ur),qr=Hl(qr),qr.a=er,On=Dr.z+ln-Xr.z-Yr+Se(Dr._,Xr._),On>0&&(pu(Sc(Dr,er,Sr),er,On),Yr+=On,en+=On),ln+=Dr.m,Yr+=Xr.m,Zr+=Ur.m,en+=qr.m;Dr&&!Hl(qr)&&(qr.t=Dr,qr.m+=ln-en),Xr&&!Ul(Ur)&&(Ur.t=Xr,Ur.m+=Yr-Zr,Sr=er)}return Sr}function qt(er){er.x*=Oe[0],er.y=er.depth*Oe[1]}return tt.separation=function(er){return arguments.length?(Se=er,tt):Se},tt.size=function(er){return arguments.length?(Ke=(Oe=er)==null?qt:null,tt):Ke?null:Oe},tt.nodeSize=function(er){return arguments.length?(Ke=(Oe=er)==null?null:qt,tt):Ke?Oe:null},fl(tt,se)};function es(se,Se){return se.parent==Se.parent?1:2}function Ul(se){var Se=se.children;return Se.length?Se[0]:se.t}function Hl(se){var Se=se.children,Oe;return(Oe=Se.length)?Se[Oe-1]:se.t}function pu(se,Se,Oe){var Ke=Oe/(Se.i-se.i);Se.c-=Ke,Se.s+=Oe,se.c+=Ke,Se.z+=Oe,Se.m+=Oe}function Mc(se){for(var Se=0,Oe=0,Ke=se.children,tt=Ke.length,nt;--tt>=0;)nt=Ke[tt],nt.z+=Se,nt.m+=Se,Se+=nt.s+(Oe+=nt.c)}function Sc(se,Se,Oe){return se.a.parent===Se.parent?se.a:Oe}n.layout.cluster=function(){var se=n.layout.hierarchy().sort(null).value(null),Se=es,Oe=[1,1],Ke=!1;function tt(nt,Pt){var vt=se.call(this,nt,Pt),Ht=vt[0],qt,er=0;Zi(Ht,function(Dr){var Ur=Dr.children;Ur&&Ur.length?(Dr.x=Cc(Ur),Dr.y=Ec(Ur)):(Dr.x=qt?er+=Se(Dr,qt):0,Dr.y=0,qt=Dr)});var Cr=gu(Ht),Sr=If(Ht),Xr=Cr.x-Se(Cr,Sr)/2,qr=Sr.x+Se(Sr,Cr)/2;return Zi(Ht,Ke?function(Dr){Dr.x=(Dr.x-Ht.x)*Oe[0],Dr.y=(Ht.y-Dr.y)*Oe[1]}:function(Dr){Dr.x=(Dr.x-Xr)/(qr-Xr)*Oe[0],Dr.y=(1-(Ht.y?Dr.y/Ht.y:1))*Oe[1]}),vt}return tt.separation=function(nt){return arguments.length?(Se=nt,tt):Se},tt.size=function(nt){return arguments.length?(Ke=(Oe=nt)==null,tt):Ke?null:Oe},tt.nodeSize=function(nt){return arguments.length?(Ke=(Oe=nt)!=null,tt):Ke?Oe:null},fl(tt,se)};function Ec(se){return 1+n.max(se,function(Se){return Se.y})}function Cc(se){return se.reduce(function(Se,Oe){return Se+Oe.x},0)/se.length}function gu(se){var Se=se.children;return Se&&Se.length?gu(Se[0]):se}function If(se){var Se=se.children,Oe;return Se&&(Oe=Se.length)?If(Se[Oe-1]):se}n.layout.treemap=function(){var se=n.layout.hierarchy(),Se=Math.round,Oe=[1,1],Ke=null,tt=vl,nt=!1,Pt,vt="squarify",Ht=.5*(1+Math.sqrt(5));function qt(Dr,Ur){for(var Yr=-1,en=Dr.length,ln,Zr;++Yr<en;)Zr=(ln=Dr[Yr]).value*(Ur<0?0:Ur),ln.area=isNaN(Zr)||Zr<=0?0:Zr}function er(Dr){var Ur=Dr.children;if(Ur&&Ur.length){var Yr=tt(Dr),en=[],ln=Ur.slice(),Zr,On=1/0,Vn,Xn=vt==="slice"?Yr.dx:vt==="dice"?Yr.dy:vt==="slice-dice"?Dr.depth&1?Yr.dy:Yr.dx:Math.min(Yr.dx,Yr.dy),ta;for(qt(ln,Yr.dx*Yr.dy/Dr.value),en.area=0;(ta=ln.length)>0;)en.push(Zr=ln[ta-1]),en.area+=Zr.area,vt!=="squarify"||(Vn=Sr(en,Xn))<=On?(ln.pop(),On=Vn):(en.area-=en.pop().area,Xr(en,Xn,Yr,!1),Xn=Math.min(Yr.dx,Yr.dy),en.length=en.area=0,On=1/0);en.length&&(Xr(en,Xn,Yr,!0),en.length=en.area=0),Ur.forEach(er)}}function Cr(Dr){var Ur=Dr.children;if(Ur&&Ur.length){var Yr=tt(Dr),en=Ur.slice(),ln,Zr=[];for(qt(en,Yr.dx*Yr.dy/Dr.value),Zr.area=0;ln=en.pop();)Zr.push(ln),Zr.area+=ln.area,ln.z!=null&&(Xr(Zr,ln.z?Yr.dx:Yr.dy,Yr,!en.length),Zr.length=Zr.area=0);Ur.forEach(Cr)}}function Sr(Dr,Ur){for(var Yr=Dr.area,en,ln=0,Zr=1/0,On=-1,Vn=Dr.length;++On<Vn;)(en=Dr[On].area)&&(en<Zr&&(Zr=en),en>ln&&(ln=en));return Yr*=Yr,Ur*=Ur,Yr?Math.max(Ur*ln*Ht/Yr,Yr/(Ur*Zr*Ht)):1/0}function Xr(Dr,Ur,Yr,en){var ln=-1,Zr=Dr.length,On=Yr.x,Vn=Yr.y,Xn=Ur?Se(Dr.area/Ur):0,ta;if(Ur==Yr.dx){for((en||Xn>Yr.dy)&&(Xn=Yr.dy);++ln<Zr;)ta=Dr[ln],ta.x=On,ta.y=Vn,ta.dy=Xn,On+=ta.dx=Math.min(Yr.x+Yr.dx-On,Xn?Se(ta.area/Xn):0);ta.z=!0,ta.dx+=Yr.x+Yr.dx-On,Yr.y+=Xn,Yr.dy-=Xn}else{for((en||Xn>Yr.dx)&&(Xn=Yr.dx);++ln<Zr;)ta=Dr[ln],ta.x=On,ta.y=Vn,ta.dx=Xn,Vn+=ta.dy=Math.min(Yr.y+Yr.dy-Vn,Xn?Se(ta.area/Xn):0);ta.z=!1,ta.dy+=Yr.y+Yr.dy-Vn,Yr.x+=Xn,Yr.dx-=Xn}}function qr(Dr){var Ur=Pt||se(Dr),Yr=Ur[0];return Yr.x=Yr.y=0,Yr.value?(Yr.dx=Oe[0],Yr.dy=Oe[1]):Yr.dx=Yr.dy=0,Pt&&se.revalue(Yr),qt([Yr],Yr.dx*Yr.dy/Yr.value),(Pt?Cr:er)(Yr),nt&&(Pt=Ur),Ur}return qr.size=function(Dr){return arguments.length?(Oe=Dr,qr):Oe},qr.padding=function(Dr){if(!arguments.length)return Ke;function Ur(ln){var Zr=Dr.call(qr,ln,ln.depth);return Zr==null?vl(ln):Qi(ln,typeof Zr=="number"?[Zr,Zr,Zr,Zr]:Zr)}function Yr(ln){return Qi(ln,Dr)}var en;return tt=(Ke=Dr)==null?vl:(en=typeof Dr)=="function"?Ur:(en==="number"&&(Dr=[Dr,Dr,Dr,Dr]),Yr),qr},qr.round=function(Dr){return arguments.length?(Se=Dr?Math.round:Number,qr):Se!=Number},qr.sticky=function(Dr){return arguments.length?(nt=Dr,Pt=null,qr):nt},qr.ratio=function(Dr){return arguments.length?(Ht=Dr,qr):Ht},qr.mode=function(Dr){return arguments.length?(vt=Dr+"",qr):vt},fl(qr,se)};function vl(se){return{x:se.x,y:se.y,dx:se.dx,dy:se.dy}}function Qi(se,Se){var Oe=se.x+Se[3],Ke=se.y+Se[0],tt=se.dx-Se[1]-Se[3],nt=se.dy-Se[0]-Se[2];return tt<0&&(Oe+=tt/2,tt=0),nt<0&&(Ke+=nt/2,nt=0),{x:Oe,y:Ke,dx:tt,dy:nt}}n.random={normal:function(se,Se){var Oe=arguments.length;return Oe<2&&(Se=1),Oe<1&&(se=0),function(){var Ke,tt,nt;do Ke=Math.random()*2-1,tt=Math.random()*2-1,nt=Ke*Ke+tt*tt;while(!nt||nt>1);return se+Se*Ke*Math.sqrt(-2*Math.log(nt)/nt)}},logNormal:function(){var se=n.random.normal.apply(n,arguments);return function(){return Math.exp(se())}},bates:function(se){var Se=n.random.irwinHall(se);return function(){return Se()/se}},irwinHall:function(se){return function(){for(var Se=0,Oe=0;Oe<se;Oe++)Se+=Math.random();return Se}}},n.scale={};function wo(se){var Se=se[0],Oe=se[se.length-1];return Se<Oe?[Se,Oe]:[Oe,Se]}function Vl(se){return se.rangeExtent?se.rangeExtent():wo(se.range())}function Xs(se,Se,Oe,Ke){var tt=Oe(se[0],se[1]),nt=Ke(Se[0],Se[1]);return function(Pt){return nt(tt(Pt))}}function Gl(se,Se){var Oe=0,Ke=se.length-1,tt=se[Oe],nt=se[Ke],Pt;return nt<tt&&(Pt=Oe,Oe=Ke,Ke=Pt,Pt=tt,tt=nt,nt=Pt),se[Oe]=Se.floor(tt),se[Ke]=Se.ceil(nt),se}function yu(se){return se?{floor:function(Se){return Math.floor(Se/se)*se},ceil:function(Se){return Math.ceil(Se/se)*se}}:Lc}var Lc={floor:z,ceil:z};function _f(se,Se,Oe,Ke){var tt=[],nt=[],Pt=0,vt=Math.min(se.length,Se.length)-1;for(se[vt]<se[0]&&(se=se.slice().reverse(),Se=Se.slice().reverse());++Pt<=vt;)tt.push(Oe(se[Pt-1],se[Pt])),nt.push(Ke(Se[Pt-1],Se[Pt]));return function(Ht){var qt=n.bisect(se,Ht,1,vt)-1;return nt[qt](tt[qt](Ht))}}n.scale.linear=function(){return Ff([0,1],[0,1],hs,!1)};function Ff(se,Se,Oe,Ke){var tt,nt;function Pt(){var Ht=Math.min(se.length,Se.length)>2?_f:Xs,qt=Ke?sl:zl;return tt=Ht(se,Se,qt,Oe),nt=Ht(Se,se,qt,hs),vt}function vt(Ht){return tt(Ht)}return vt.invert=function(Ht){return nt(Ht)},vt.domain=function(Ht){return arguments.length?(se=Ht.map(Number),Pt()):se},vt.range=function(Ht){return arguments.length?(Se=Ht,Pt()):Se},vt.rangeRound=function(Ht){return vt.range(Ht).interpolate(Zu)},vt.clamp=function(Ht){return arguments.length?(Ke=Ht,Pt()):Ke},vt.interpolate=function(Ht){return arguments.length?(Oe=Ht,Pt()):Oe},vt.ticks=function(Ht){return ts(se,Ht)},vt.tickFormat=function(Ht,qt){return d3_scale_linearTickFormat(se,Ht,qt)},vt.nice=function(Ht){return Rs(se,Ht),Pt()},vt.copy=function(){return Ff(se,Se,Oe,Ke)},Pt()}function rf(se,Se){return n.rebind(se,Se,"range","rangeRound","interpolate","clamp")}function Rs(se,Se){return Gl(se,yu(Fi(se,Se)[2])),Gl(se,yu(Fi(se,Se)[2])),se}function Fi(se,Se){Se==null&&(Se=10);var Oe=wo(se),Ke=Oe[1]-Oe[0],tt=Math.pow(10,Math.floor(Math.log(Ke/Se)/Math.LN10)),nt=Se/Ke*tt;return nt<=.15?tt*=10:nt<=.35?tt*=5:nt<=.75&&(tt*=2),Oe[0]=Math.ceil(Oe[0]/tt)*tt,Oe[1]=Math.floor(Oe[1]/tt)*tt+tt*.5,Oe[2]=tt,Oe}function ts(se,Se){return n.range.apply(n,Fi(se,Se))}n.scale.log=function(){return nf(n.scale.linear().domain([0,1]),10,!0,[1,10])};function nf(se,Se,Oe,Ke){function tt(vt){return(Oe?Math.log(vt<0?0:vt):-Math.log(vt>0?0:-vt))/Math.log(Se)}function nt(vt){return Oe?Math.pow(Se,vt):-Math.pow(Se,-vt)}function Pt(vt){return se(tt(vt))}return Pt.invert=function(vt){return nt(se.invert(vt))},Pt.domain=function(vt){return arguments.length?(Oe=vt[0]>=0,se.domain((Ke=vt.map(Number)).map(tt)),Pt):Ke},Pt.base=function(vt){return arguments.length?(Se=+vt,se.domain(Ke.map(tt)),Pt):Se},Pt.nice=function(){var vt=Gl(Ke.map(tt),Oe?Math:kf);return se.domain(vt),Ke=vt.map(nt),Pt},Pt.ticks=function(){var vt=wo(Ke),Ht=[],qt=vt[0],er=vt[1],Cr=Math.floor(tt(qt)),Sr=Math.ceil(tt(er)),Xr=Se%1?2:Se;if(isFinite(Sr-Cr)){if(Oe){for(;Cr<Sr;Cr++)for(var qr=1;qr<Xr;qr++)Ht.push(nt(Cr)*qr);Ht.push(nt(Cr))}else for(Ht.push(nt(Cr));Cr++<Sr;)for(var qr=Xr-1;qr>0;qr--)Ht.push(nt(Cr)*qr);for(Cr=0;Ht[Cr]<qt;Cr++);for(Sr=Ht.length;Ht[Sr-1]>er;Sr--);Ht=Ht.slice(Cr,Sr)}return Ht},Pt.copy=function(){return nf(se.copy(),Se,Oe,Ke)},rf(Pt,se)}var kf={floor:function(se){return-Math.ceil(-se)},ceil:function(se){return-Math.floor(-se)}};n.scale.pow=function(){return js(n.scale.linear(),1,[0,1])};function js(se,Se,Oe){var Ke=mu(Se),tt=mu(1/Se);function nt(Pt){return se(Ke(Pt))}return nt.invert=function(Pt){return tt(se.invert(Pt))},nt.domain=function(Pt){return arguments.length?(se.domain((Oe=Pt.map(Number)).map(Ke)),nt):Oe},nt.ticks=function(Pt){return ts(Oe,Pt)},nt.tickFormat=function(Pt,vt){return d3_scale_linearTickFormat(Oe,Pt,vt)},nt.nice=function(Pt){return nt.domain(Rs(Oe,Pt))},nt.exponent=function(Pt){return arguments.length?(Ke=mu(Se=Pt),tt=mu(1/Se),se.domain(Oe.map(Ke)),nt):Se},nt.copy=function(){return js(se.copy(),Se,Oe)},rf(nt,se)}function mu(se){return function(Se){return Se<0?-Math.pow(-Se,se):Math.pow(Se,se)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Vo([],{t:"range",a:[[]]})};function Vo(se,Se){var Oe,Ke,tt;function nt(vt){return Ke[((Oe.get(vt)||(Se.t==="range"?Oe.set(vt,se.push(vt)):NaN))-1)%Ke.length]}function Pt(vt,Ht){return n.range(se.length).map(function(qt){return vt+Ht*qt})}return nt.domain=function(vt){if(!arguments.length)return se;se=[],Oe=new E;for(var Ht=-1,qt=vt.length,er;++Ht<qt;)Oe.has(er=vt[Ht])||Oe.set(er,se.push(er));return nt[Se.t].apply(nt,Se.a)},nt.range=function(vt){return arguments.length?(Ke=vt,tt=0,Se={t:"range",a:arguments},nt):Ke},nt.rangePoints=function(vt,Ht){arguments.length<2&&(Ht=0);var qt=vt[0],er=vt[1],Cr=se.length<2?(qt=(qt+er)/2,0):(er-qt)/(se.length-1+Ht);return Ke=Pt(qt+Cr*Ht/2,Cr),tt=0,Se={t:"rangePoints",a:arguments},nt},nt.rangeRoundPoints=function(vt,Ht){arguments.length<2&&(Ht=0);var qt=vt[0],er=vt[1],Cr=se.length<2?(qt=er=Math.round((qt+er)/2),0):(er-qt)/(se.length-1+Ht)|0;return Ke=Pt(qt+Math.round(Cr*Ht/2+(er-qt-(se.length-1+Ht)*Cr)/2),Cr),tt=0,Se={t:"rangeRoundPoints",a:arguments},nt},nt.rangeBands=function(vt,Ht,qt){arguments.length<2&&(Ht=0),arguments.length<3&&(qt=Ht);var er=vt[1]<vt[0],Cr=vt[er-0],Sr=vt[1-er],Xr=(Sr-Cr)/(se.length-Ht+2*qt);return Ke=Pt(Cr+Xr*qt,Xr),er&&Ke.reverse(),tt=Xr*(1-Ht),Se={t:"rangeBands",a:arguments},nt},nt.rangeRoundBands=function(vt,Ht,qt){arguments.length<2&&(Ht=0),arguments.length<3&&(qt=Ht);var er=vt[1]<vt[0],Cr=vt[er-0],Sr=vt[1-er],Xr=Math.floor((Sr-Cr)/(se.length-Ht+2*qt));return Ke=Pt(Cr+Math.round((Sr-Cr-(se.length-Ht)*Xr)/2),Xr),er&&Ke.reverse(),tt=Math.round(Xr*(1-Ht)),Se={t:"rangeRoundBands",a:arguments},nt},nt.rangeBand=function(){return tt},nt.rangeExtent=function(){return wo(Se.a[0])},nt.copy=function(){return Vo(se,Se)},nt.domain(se)}n.scale.category10=function(){return n.scale.ordinal().range(xu)},n.scale.category20=function(){return n.scale.ordinal().range(ms)},n.scale.category20b=function(){return n.scale.ordinal().range(xs)},n.scale.category20c=function(){return n.scale.ordinal().range(af)};var xu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),xs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),af=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);n.scale.quantile=function(){return dl([],[])};function dl(se,Se){var Oe;function Ke(){var nt=0,Pt=Se.length;for(Oe=[];++nt<Pt;)Oe[nt-1]=n.quantile(se,nt/Pt);return tt}function tt(nt){if(!isNaN(nt=+nt))return Se[n.bisect(Oe,nt)]}return tt.domain=function(nt){return arguments.length?(se=nt.map(m).filter(h).sort(u),Ke()):se},tt.range=function(nt){return arguments.length?(Se=nt,Ke()):Se},tt.quantiles=function(){return Oe},tt.invertExtent=function(nt){return nt=Se.indexOf(nt),nt<0?[NaN,NaN]:[nt>0?Oe[nt-1]:se[0],nt<Oe.length?Oe[nt]:se[se.length-1]]},tt.copy=function(){return dl(se,Se)},Ke()}n.scale.quantize=function(){return ii(0,1,[0,1])};function ii(se,Se,Oe){var Ke,tt;function nt(vt){return Oe[Math.max(0,Math.min(tt,Math.floor(Ke*(vt-se))))]}function Pt(){return Ke=Oe.length/(Se-se),tt=Oe.length-1,nt}return nt.domain=function(vt){return arguments.length?(se=+vt[0],Se=+vt[vt.length-1],Pt()):[se,Se]},nt.range=function(vt){return arguments.length?(Oe=vt,Pt()):Oe},nt.invertExtent=function(vt){return vt=Oe.indexOf(vt),vt=vt<0?NaN:vt/Ke+se,[vt,vt+1/Ke]},nt.copy=function(){return ii(se,Se,Oe)},Pt()}n.scale.threshold=function(){return Ks([.5],[0,1])};function Ks(se,Se){function Oe(Ke){if(Ke<=Ke)return Se[n.bisect(se,Ke)]}return Oe.domain=function(Ke){return arguments.length?(se=Ke,Oe):se},Oe.range=function(Ke){return arguments.length?(Se=Ke,Oe):Se},Oe.invertExtent=function(Ke){return Ke=Se.indexOf(Ke),[se[Ke-1],se[Ke]]},Oe.copy=function(){return Ks(se,Se)},Oe}n.scale.identity=function(){return bu([0,1])};function bu(se){function Se(Oe){return+Oe}return Se.invert=Se,Se.domain=Se.range=function(Oe){return arguments.length?(se=Oe.map(Se),Se):se},Se.ticks=function(Oe){return ts(se,Oe)},Se.tickFormat=function(Oe,Ke){return d3_scale_linearTickFormat(se,Oe,Ke)},Se.copy=function(){return bu(se)},Se}n.svg={};function wu(){return 0}n.svg.arc=function(){var se=Pc,Se=of,Oe=wu,Ke=Ds,tt=pl,nt=sf,Pt=zf;function vt(){var qt=Math.max(0,+se.apply(this,arguments)),er=Math.max(0,+Se.apply(this,arguments)),Cr=tt.apply(this,arguments)-lt,Sr=nt.apply(this,arguments)-lt,Xr=Math.abs(Sr-Cr),qr=Cr>Sr?0:1;if(er<qt&&(Dr=er,er=qt,qt=Dr),Xr>=it)return Ht(er,qr)+(qt?Ht(qt,1-qr):"")+"Z";var Dr,Ur,Yr,en,ln=0,Zr=0,On,Vn,Xn,ta,ya,ga,za,Aa,_a=[];if((en=(+Pt.apply(this,arguments)||0)/2)&&(Yr=Ke===Ds?Math.sqrt(qt*qt+er*er):+Ke.apply(this,arguments),qr||(Zr*=-1),er&&(Zr=Gt(Yr/er*Math.sin(en))),qt&&(ln=Gt(Yr/qt*Math.sin(en)))),er){On=er*Math.cos(Cr+Zr),Vn=er*Math.sin(Cr+Zr),Xn=er*Math.cos(Sr-Zr),ta=er*Math.sin(Sr-Zr);var Xa=Math.abs(Sr-Cr-2*Zr)<=Le?0:1;if(Zr&&bs(On,Vn,Xn,ta)===qr^Xa){var $a=(Cr+Sr)/2;On=er*Math.cos($a),Vn=er*Math.sin($a),Xn=ta=null}}else On=Vn=0;if(qt){ya=qt*Math.cos(Sr-ln),ga=qt*Math.sin(Sr-ln),za=qt*Math.cos(Cr+ln),Aa=qt*Math.sin(Cr+ln);var oi=Math.abs(Cr-Sr+2*ln)<=Le?0:1;if(ln&&bs(ya,ga,za,Aa)===1-qr^oi){var Bn=(Cr+Sr)/2;ya=qt*Math.cos(Bn),ga=qt*Math.sin(Bn),za=Aa=null}}else ya=ga=0;if(Xr>ue&&(Dr=Math.min(Math.abs(er-qt)/2,+Oe.apply(this,arguments)))>.001){Ur=qt<er^qr?0:1;var Fa=Dr,Da=Dr;if(Xr<Le){var Ha=za==null?[ya,ga]:Xn==null?[On,Vn]:vn([On,Vn],[za,Aa],[Xn,ta],[ya,ga]),wi=On-Ha[0],Ii=Vn-Ha[1],zi=Xn-Ha[0],pi=ta-Ha[1],li=1/Math.sin(Math.acos((wi*zi+Ii*pi)/(Math.sqrt(wi*wi+Ii*Ii)*Math.sqrt(zi*zi+pi*pi)))/2),da=Math.sqrt(Ha[0]*Ha[0]+Ha[1]*Ha[1]);Da=Math.min(Dr,(qt-da)/(li-1)),Fa=Math.min(Dr,(er-da)/(li+1))}if(Xn!=null){var wa=Is(za==null?[ya,ga]:[za,Aa],[On,Vn],er,Fa,qr),gi=Is([Xn,ta],[ya,ga],er,Fa,qr);Dr===Fa?_a.push("M",wa[0],"A",Fa,",",Fa," 0 0,",Ur," ",wa[1],"A",er,",",er," 0 ",1-qr^bs(wa[1][0],wa[1][1],gi[1][0],gi[1][1]),",",qr," ",gi[1],"A",Fa,",",Fa," 0 0,",Ur," ",gi[0]):_a.push("M",wa[0],"A",Fa,",",Fa," 0 1,",Ur," ",gi[0])}else _a.push("M",On,",",Vn);if(za!=null){var ki=Is([On,Vn],[za,Aa],qt,-Da,qr),Po=Is([ya,ga],Xn==null?[On,Vn]:[Xn,ta],qt,-Da,qr);Dr===Da?_a.push("L",Po[0],"A",Da,",",Da," 0 0,",Ur," ",Po[1],"A",qt,",",qt," 0 ",qr^bs(Po[1][0],Po[1][1],ki[1][0],ki[1][1]),",",1-qr," ",ki[1],"A",Da,",",Da," 0 0,",Ur," ",ki[0]):_a.push("L",Po[0],"A",Da,",",Da," 0 0,",Ur," ",ki[0])}else _a.push("L",ya,",",ga)}else _a.push("M",On,",",Vn),Xn!=null&&_a.push("A",er,",",er," 0 ",Xa,",",qr," ",Xn,",",ta),_a.push("L",ya,",",ga),za!=null&&_a.push("A",qt,",",qt," 0 ",oi,",",1-qr," ",za,",",Aa);return _a.push("Z"),_a.join("")}function Ht(qt,er){return"M0,"+qt+"A"+qt+","+qt+" 0 1,"+er+" 0,"+-qt+"A"+qt+","+qt+" 0 1,"+er+" 0,"+qt}return vt.innerRadius=function(qt){return arguments.length?(se=jr(qt),vt):se},vt.outerRadius=function(qt){return arguments.length?(Se=jr(qt),vt):Se},vt.cornerRadius=function(qt){return arguments.length?(Oe=jr(qt),vt):Oe},vt.padRadius=function(qt){return arguments.length?(Ke=qt==Ds?Ds:jr(qt),vt):Ke},vt.startAngle=function(qt){return arguments.length?(tt=jr(qt),vt):tt},vt.endAngle=function(qt){return arguments.length?(nt=jr(qt),vt):nt},vt.padAngle=function(qt){return arguments.length?(Pt=jr(qt),vt):Pt},vt.centroid=function(){var qt=(+se.apply(this,arguments)+ +Se.apply(this,arguments))/2,er=(+tt.apply(this,arguments)+ +nt.apply(this,arguments))/2-lt;return[Math.cos(er)*qt,Math.sin(er)*qt]},vt};var Ds="auto";function Pc(se){return se.innerRadius}function of(se){return se.outerRadius}function pl(se){return se.startAngle}function sf(se){return se.endAngle}function zf(se){return se&&se.padAngle}function bs(se,Se,Oe,Ke){return(se-Oe)*Se-(Se-Ke)*se>0?0:1}function Is(se,Se,Oe,Ke,tt){var nt=se[0]-Se[0],Pt=se[1]-Se[1],vt=(tt?Ke:-Ke)/Math.sqrt(nt*nt+Pt*Pt),Ht=vt*Pt,qt=-vt*nt,er=se[0]+Ht,Cr=se[1]+qt,Sr=Se[0]+Ht,Xr=Se[1]+qt,qr=(er+Sr)/2,Dr=(Cr+Xr)/2,Ur=Sr-er,Yr=Xr-Cr,en=Ur*Ur+Yr*Yr,ln=Oe-Ke,Zr=er*Xr-Sr*Cr,On=(Yr<0?-1:1)*Math.sqrt(Math.max(0,ln*ln*en-Zr*Zr)),Vn=(Zr*Yr-Ur*On)/en,Xn=(-Zr*Ur-Yr*On)/en,ta=(Zr*Yr+Ur*On)/en,ya=(-Zr*Ur+Yr*On)/en,ga=Vn-qr,za=Xn-Dr,Aa=ta-qr,_a=ya-Dr;return ga*ga+za*za>Aa*Aa+_a*_a&&(Vn=ta,Xn=ya),[[Vn-Ht,Xn-qt],[Vn*Oe/ln,Xn*Oe/ln]]}function Js(){return!0}function Qs(se){var Se=ea,Oe=oa,Ke=Js,tt=Lo,nt=tt.key,Pt=.7;function vt(Ht){var qt=[],er=[],Cr=-1,Sr=Ht.length,Xr,qr=jr(Se),Dr=jr(Oe);function Ur(){qt.push("M",tt(se(er),Pt))}for(;++Cr<Sr;)Ke.call(this,Xr=Ht[Cr],Cr)?er.push([+qr.call(this,Xr,Cr),+Dr.call(this,Xr,Cr)]):er.length&&(Ur(),er=[]);return er.length&&Ur(),qt.length?qt.join(""):null}return vt.x=function(Ht){return arguments.length?(Se=Ht,vt):Se},vt.y=function(Ht){return arguments.length?(Oe=Ht,vt):Oe},vt.defined=function(Ht){return arguments.length?(Ke=Ht,vt):Ke},vt.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?nt=tt=Ht:nt=(tt=To.get(Ht)||Lo).key,vt):nt},vt.tension=function(Ht){return arguments.length?(Pt=Ht,vt):Pt},vt}n.svg.line=function(){return Qs(z)};var To=n.map({linear:Lo,"linear-closed":$s,step:Of,"step-before":yl,"step-after":Tu,basis:ws,"basis-open":Rc,"basis-closed":uf,bundle:Au,cardinal:lf,"cardinal-open":Bf,"cardinal-closed":Go,monotone:ff});To.forEach(function(se,Se){Se.key=se,Se.closed=/-closed$/.test(se)});function Lo(se){return se.length>1?se.join("L"):se+"Z"}function $s(se){return se.join("L")+"Z"}function Of(se){for(var Se=0,Oe=se.length,Ke=se[0],tt=[Ke[0],",",Ke[1]];++Se<Oe;)tt.push("H",(Ke[0]+(Ke=se[Se])[0])/2,"V",Ke[1]);return Oe>1&&tt.push("H",Ke[0]),tt.join("")}function yl(se){for(var Se=0,Oe=se.length,Ke=se[0],tt=[Ke[0],",",Ke[1]];++Se<Oe;)tt.push("V",(Ke=se[Se])[1],"H",Ke[0]);return tt.join("")}function Tu(se){for(var Se=0,Oe=se.length,Ke=se[0],tt=[Ke[0],",",Ke[1]];++Se<Oe;)tt.push("H",(Ke=se[Se])[0],"V",Ke[1]);return tt.join("")}function Bf(se,Se){return se.length<4?Lo(se):se[1]+_s(se.slice(1,-1),Wl(se,Se))}function Go(se,Se){return se.length<3?$s(se):se[0]+_s((se.push(se[0]),se),Wl([se[se.length-2]].concat(se,[se[1]]),Se))}function lf(se,Se){return se.length<3?Lo(se):se[0]+_s(se,Wl(se,Se))}function _s(se,Se){if(Se.length<1||se.length!=Se.length&&se.length!=Se.length+2)return Lo(se);var Oe=se.length!=Se.length,Ke="",tt=se[0],nt=se[1],Pt=Se[0],vt=Pt,Ht=1;if(Oe&&(Ke+="Q"+(nt[0]-Pt[0]*2/3)+","+(nt[1]-Pt[1]*2/3)+","+nt[0]+","+nt[1],tt=se[1],Ht=2),Se.length>1){vt=Se[1],nt=se[Ht],Ht++,Ke+="C"+(tt[0]+Pt[0])+","+(tt[1]+Pt[1])+","+(nt[0]-vt[0])+","+(nt[1]-vt[1])+","+nt[0]+","+nt[1];for(var qt=2;qt<Se.length;qt++,Ht++)nt=se[Ht],vt=Se[qt],Ke+="S"+(nt[0]-vt[0])+","+(nt[1]-vt[1])+","+nt[0]+","+nt[1]}if(Oe){var er=se[Ht];Ke+="Q"+(nt[0]+vt[0]*2/3)+","+(nt[1]+vt[1]*2/3)+","+er[0]+","+er[1]}return Ke}function Wl(se,Se){for(var Oe=[],Ke=(1-Se)/2,tt,nt=se[0],Pt=se[1],vt=1,Ht=se.length;++vt<Ht;)tt=nt,nt=Pt,Pt=se[vt],Oe.push([Ke*(Pt[0]-tt[0]),Ke*(Pt[1]-tt[1])]);return Oe}function ws(se){if(se.length<3)return Lo(se);var Se=1,Oe=se.length,Ke=se[0],tt=Ke[0],nt=Ke[1],Pt=[tt,tt,tt,(Ke=se[1])[0]],vt=[nt,nt,nt,Ke[1]],Ht=[tt,",",nt,"L",oo(rs,Pt),",",oo(rs,vt)];for(se.push(se[Oe-1]);++Se<=Oe;)Ke=se[Se],Pt.shift(),Pt.push(Ke[0]),vt.shift(),vt.push(Ke[1]),Zl(Ht,Pt,vt);return se.pop(),Ht.push("L",Ke),Ht.join("")}function Rc(se){if(se.length<4)return Lo(se);for(var Se=[],Oe=-1,Ke=se.length,tt,nt=[0],Pt=[0];++Oe<3;)tt=se[Oe],nt.push(tt[0]),Pt.push(tt[1]);for(Se.push(oo(rs,nt)+","+oo(rs,Pt)),--Oe;++Oe<Ke;)tt=se[Oe],nt.shift(),nt.push(tt[0]),Pt.shift(),Pt.push(tt[1]),Zl(Se,nt,Pt);return Se.join("")}function uf(se){for(var Se,Oe=-1,Ke=se.length,tt=Ke+4,nt,Pt=[],vt=[];++Oe<4;)nt=se[Oe%Ke],Pt.push(nt[0]),vt.push(nt[1]);for(Se=[oo(rs,Pt),",",oo(rs,vt)],--Oe;++Oe<tt;)nt=se[Oe%Ke],Pt.shift(),Pt.push(nt[0]),vt.shift(),vt.push(nt[1]),Zl(Se,Pt,vt);return Se.join("")}function Au(se,Se){var Oe=se.length-1;if(Oe)for(var Ke=se[0][0],tt=se[0][1],nt=se[Oe][0]-Ke,Pt=se[Oe][1]-tt,vt=-1,Ht,qt;++vt<=Oe;)Ht=se[vt],qt=vt/Oe,Ht[0]=Se*Ht[0]+(1-Se)*(Ke+qt*nt),Ht[1]=Se*Ht[1]+(1-Se)*(tt+qt*Pt);return ws(se)}function oo(se,Se){return se[0]*Se[0]+se[1]*Se[1]+se[2]*Se[2]+se[3]*Se[3]}var Nf=[0,2/3,1/3,0],Yl=[0,1/3,2/3,0],rs=[0,1/6,2/3,1/6];function Zl(se,Se,Oe){se.push("C",oo(Nf,Se),",",oo(Nf,Oe),",",oo(Yl,Se),",",oo(Yl,Oe),",",oo(rs,Se),",",oo(rs,Oe))}function Fs(se,Se){return(Se[1]-se[1])/(Se[0]-se[0])}function Mu(se){for(var Se=0,Oe=se.length-1,Ke=[],tt=se[0],nt=se[1],Pt=Ke[0]=Fs(tt,nt);++Se<Oe;)Ke[Se]=(Pt+(Pt=Fs(tt=nt,nt=se[Se+1])))/2;return Ke[Se]=Pt,Ke}function Uf(se){for(var Se=[],Oe,Ke,tt,nt,Pt=Mu(se),vt=-1,Ht=se.length-1;++vt<Ht;)Oe=Fs(se[vt],se[vt+1]),d(Oe)<ue?Pt[vt]=Pt[vt+1]=0:(Ke=Pt[vt]/Oe,tt=Pt[vt+1]/Oe,nt=Ke*Ke+tt*tt,nt>9&&(nt=Oe*3/Math.sqrt(nt),Pt[vt]=nt*Ke,Pt[vt+1]=nt*tt));for(vt=-1;++vt<=Ht;)nt=(se[Math.min(Ht,vt+1)][0]-se[Math.max(0,vt-1)][0])/(6*(1+Pt[vt]*Pt[vt])),Se.push([nt||0,Pt[vt]*nt||0]);return Se}function ff(se){return se.length<3?Lo(se):se[0]+_s(se,Uf(se))}n.svg.line.radial=function(){var se=Qs(cf);return se.radius=se.x,delete se.x,se.angle=se.y,delete se.y,se};function cf(se){for(var Se,Oe=-1,Ke=se.length,tt,nt;++Oe<Ke;)Se=se[Oe],tt=Se[0],nt=Se[1]-lt,Se[0]=tt*Math.cos(nt),Se[1]=tt*Math.sin(nt);return se}function qs(se){var Se=ea,Oe=ea,Ke=0,tt=oa,nt=Js,Pt=Lo,vt=Pt.key,Ht=Pt,qt="L",er=.7;function Cr(Sr){var Xr=[],qr=[],Dr=[],Ur=-1,Yr=Sr.length,en,ln=jr(Se),Zr=jr(Ke),On=Se===Oe?function(){return Xn}:jr(Oe),Vn=Ke===tt?function(){return ta}:jr(tt),Xn,ta;function ya(){Xr.push("M",Pt(se(Dr),er),qt,Ht(se(qr.reverse()),er),"Z")}for(;++Ur<Yr;)nt.call(this,en=Sr[Ur],Ur)?(qr.push([Xn=+ln.call(this,en,Ur),ta=+Zr.call(this,en,Ur)]),Dr.push([+On.call(this,en,Ur),+Vn.call(this,en,Ur)])):qr.length&&(ya(),qr=[],Dr=[]);return qr.length&&ya(),Xr.length?Xr.join(""):null}return Cr.x=function(Sr){return arguments.length?(Se=Oe=Sr,Cr):Oe},Cr.x0=function(Sr){return arguments.length?(Se=Sr,Cr):Se},Cr.x1=function(Sr){return arguments.length?(Oe=Sr,Cr):Oe},Cr.y=function(Sr){return arguments.length?(Ke=tt=Sr,Cr):tt},Cr.y0=function(Sr){return arguments.length?(Ke=Sr,Cr):Ke},Cr.y1=function(Sr){return arguments.length?(tt=Sr,Cr):tt},Cr.defined=function(Sr){return arguments.length?(nt=Sr,Cr):nt},Cr.interpolate=function(Sr){return arguments.length?(typeof Sr=="function"?vt=Pt=Sr:vt=(Pt=To.get(Sr)||Lo).key,Ht=Pt.reverse||Pt,qt=Pt.closed?"M":"L",Cr):vt},Cr.tension=function(Sr){return arguments.length?(er=Sr,Cr):er},Cr}yl.reverse=Tu,Tu.reverse=yl,n.svg.area=function(){return qs(z)},n.svg.area.radial=function(){var se=qs(cf);return se.radius=se.x,delete se.x,se.innerRadius=se.x0,delete se.x0,se.outerRadius=se.x1,delete se.x1,se.angle=se.y,delete se.y,se.startAngle=se.y0,delete se.y0,se.endAngle=se.y1,delete se.y1,se};function Su(se){return se.source}function Xl(se){return se.target}n.svg.chord=function(){var se=Su,Se=Xl,Oe=Hf,Ke=pl,tt=sf;function nt(er,Cr){var Sr=Pt(this,se,er,Cr),Xr=Pt(this,Se,er,Cr);return"M"+Sr.p0+Ht(Sr.r,Sr.p1,Sr.a1-Sr.a0)+(vt(Sr,Xr)?qt(Sr.r,Sr.p1,Sr.r,Sr.p0):qt(Sr.r,Sr.p1,Xr.r,Xr.p0)+Ht(Xr.r,Xr.p1,Xr.a1-Xr.a0)+qt(Xr.r,Xr.p1,Sr.r,Sr.p0))+"Z"}function Pt(er,Cr,Sr,Xr){var qr=Cr.call(er,Sr,Xr),Dr=Oe.call(er,qr,Xr),Ur=Ke.call(er,qr,Xr)-lt,Yr=tt.call(er,qr,Xr)-lt;return{r:Dr,a0:Ur,a1:Yr,p0:[Dr*Math.cos(Ur),Dr*Math.sin(Ur)],p1:[Dr*Math.cos(Yr),Dr*Math.sin(Yr)]}}function vt(er,Cr){return er.a0==Cr.a0&&er.a1==Cr.a1}function Ht(er,Cr,Sr){return"A"+er+","+er+" 0 "+ +(Sr>Le)+",1 "+Cr}function qt(er,Cr,Sr,Xr){return"Q 0,0 "+Xr}return nt.radius=function(er){return arguments.length?(Oe=jr(er),nt):Oe},nt.source=function(er){return arguments.length?(se=jr(er),nt):se},nt.target=function(er){return arguments.length?(Se=jr(er),nt):Se},nt.startAngle=function(er){return arguments.length?(Ke=jr(er),nt):Ke},nt.endAngle=function(er){return arguments.length?(tt=jr(er),nt):tt},nt};function Hf(se){return se.radius}n.svg.diagonal=function(){var se=Su,Se=Xl,Oe=jl;function Ke(tt,nt){var Pt=se.call(this,tt,nt),vt=Se.call(this,tt,nt),Ht=(Pt.y+vt.y)/2,qt=[Pt,{x:Pt.x,y:Ht},{x:vt.x,y:Ht},vt];return qt=qt.map(Oe),"M"+qt[0]+"C"+qt[1]+" "+qt[2]+" "+qt[3]}return Ke.source=function(tt){return arguments.length?(se=jr(tt),Ke):se},Ke.target=function(tt){return arguments.length?(Se=jr(tt),Ke):Se},Ke.projection=function(tt){return arguments.length?(Oe=tt,Ke):Oe},Ke};function jl(se){return[se.x,se.y]}n.svg.diagonal.radial=function(){var se=n.svg.diagonal(),Se=jl,Oe=se.projection;return se.projection=function(Ke){return arguments.length?Oe(Vf(Se=Ke)):Se},se};function Vf(se){return function(){var Se=se.apply(this,arguments),Oe=Se[0],Ke=Se[1]-lt;return[Oe*Math.cos(Ke),Oe*Math.sin(Ke)]}}n.svg.symbol=function(){var se=rt,Se=Ye;function Oe(Ke,tt){return(yt.get(se.call(this,Ke,tt))||dt)(Se.call(this,Ke,tt))}return Oe.type=function(Ke){return arguments.length?(se=jr(Ke),Oe):se},Oe.size=function(Ke){return arguments.length?(Se=jr(Ke),Oe):Se},Oe};function Ye(){return 64}function rt(){return"circle"}function dt(se){var Se=Math.sqrt(se/Le);return"M0,"+Se+"A"+Se+","+Se+" 0 1,1 0,"+-Se+"A"+Se+","+Se+" 0 1,1 0,"+Se+"Z"}var yt=n.map({circle:dt,cross:function(se){var Se=Math.sqrt(se/5)/2;return"M"+-3*Se+","+-Se+"H"+-Se+"V"+-3*Se+"H"+Se+"V"+-Se+"H"+3*Se+"V"+Se+"H"+Se+"V"+3*Se+"H"+-Se+"V"+Se+"H"+-3*Se+"Z"},diamond:function(se){var Se=Math.sqrt(se/(2*Lt)),Oe=Se*Lt;return"M0,"+-Se+"L"+Oe+",0 0,"+Se+" "+-Oe+",0Z"},square:function(se){var Se=Math.sqrt(se)/2;return"M"+-Se+","+-Se+"L"+Se+","+-Se+" "+Se+","+Se+" "+-Se+","+Se+"Z"},"triangle-down":function(se){var Se=Math.sqrt(se/It),Oe=Se*It/2;return"M0,"+Oe+"L"+Se+","+-Oe+" "+-Se+","+-Oe+"Z"},"triangle-up":function(se){var Se=Math.sqrt(se/It),Oe=Se*It/2;return"M0,"+-Oe+"L"+Se+","+Oe+" "+-Se+","+Oe+"Z"}});n.svg.symbolTypes=yt.keys();var It=Math.sqrt(3),Lt=Math.tan(30*bt);q.transition=function(se){for(var Se=Lr||++Ar,Oe=wn(se),Ke=[],tt,nt,Pt=Wr||{time:Date.now(),ease:hc,delay:0,duration:250},vt=-1,Ht=this.length;++vt<Ht;){Ke.push(tt=[]);for(var qt=this[vt],er=-1,Cr=qt.length;++er<Cr;)(nt=qt[er])&&Pn(nt,er,Oe,Se,Pt),tt.push(nt)}return gr(Ke,Oe,Se)},q.interrupt=function(se){return this.each(se==null?zt:fr(wn(se)))};var zt=fr(wn());function fr(se){return function(){var Se,Oe,Ke;(Se=this[se])&&(Ke=Se[Oe=Se.active])&&(Ke.timer.c=null,Ke.timer.t=NaN,--Se.count?delete Se[Oe]:delete this[se],Se.active+=.5,Ke.event&&Ke.event.interrupt.call(this,this.__data__,Ke.index))}}function gr(se,Se,Oe){return W(se,ar),se.namespace=Se,se.id=Oe,se}var ar=[],Ar=0,Lr,Wr;ar.call=q.call,ar.empty=q.empty,ar.node=q.node,ar.size=q.size,n.transition=function(se,Se){return se&&se.transition?Lr?se.transition(Se):se:n.selection().transition(se)},n.transition.prototype=ar,ar.select=function(se){var Se=this.id,Oe=this.namespace,Ke=[],tt,nt,Pt;se=le(se);for(var vt=-1,Ht=this.length;++vt<Ht;){Ke.push(tt=[]);for(var qt=this[vt],er=-1,Cr=qt.length;++er<Cr;)(Pt=qt[er])&&(nt=se.call(Pt,Pt.__data__,er,vt))?("__data__"in Pt&&(nt.__data__=Pt.__data__),Pn(nt,er,Oe,Se,Pt[Oe][Se]),tt.push(nt)):tt.push(null)}return gr(Ke,Oe,Se)},ar.selectAll=function(se){var Se=this.id,Oe=this.namespace,Ke=[],tt,nt,Pt,vt,Ht;se=ae(se);for(var qt=-1,er=this.length;++qt<er;)for(var Cr=this[qt],Sr=-1,Xr=Cr.length;++Sr<Xr;)if(Pt=Cr[Sr]){Ht=Pt[Oe][Se],nt=se.call(Pt,Pt.__data__,Sr,qt),Ke.push(tt=[]);for(var qr=-1,Dr=nt.length;++qr<Dr;)(vt=nt[qr])&&Pn(vt,qr,Oe,Se,Ht),tt.push(vt)}return gr(Ke,Oe,Se)},ar.filter=function(se){var Se=[],Oe,Ke,tt;typeof se!="function"&&(se=ut(se));for(var nt=0,Pt=this.length;nt<Pt;nt++){Se.push(Oe=[]);for(var Ke=this[nt],vt=0,Ht=Ke.length;vt<Ht;vt++)(tt=Ke[vt])&&se.call(tt,tt.__data__,vt,nt)&&Oe.push(tt)}return gr(Se,this.namespace,this.id)},ar.tween=function(se,Se){var Oe=this.id,Ke=this.namespace;return arguments.length<2?this.node()[Ke][Oe].tween.get(se):Qe(this,Se==null?function(tt){tt[Ke][Oe].tween.remove(se)}:function(tt){tt[Ke][Oe].tween.set(se,Se)})};function Jr(se,Se,Oe,Ke){var tt=se.id,nt=se.namespace;return Qe(se,typeof Oe=="function"?function(Pt,vt,Ht){Pt[nt][tt].tween.set(Se,Ke(Oe.call(Pt,Pt.__data__,vt,Ht)))}:(Oe=Ke(Oe),function(Pt){Pt[nt][tt].tween.set(Se,Oe)}))}ar.attr=function(se,Se){if(arguments.length<2){for(Se in se)this.attr(Se,se[Se]);return this}var Oe=se=="transform"?Ys:hs,Ke=n.ns.qualify(se);function tt(){this.removeAttribute(Ke)}function nt(){this.removeAttributeNS(Ke.space,Ke.local)}function Pt(Ht){return Ht==null?tt:(Ht+="",function(){var qt=this.getAttribute(Ke),er;return qt!==Ht&&(er=Oe(qt,Ht),function(Cr){this.setAttribute(Ke,er(Cr))})})}function vt(Ht){return Ht==null?nt:(Ht+="",function(){var qt=this.getAttributeNS(Ke.space,Ke.local),er;return qt!==Ht&&(er=Oe(qt,Ht),function(Cr){this.setAttributeNS(Ke.space,Ke.local,er(Cr))})})}return Jr(this,"attr."+se,Se,Ke.local?vt:Pt)},ar.attrTween=function(se,Se){var Oe=n.ns.qualify(se);function Ke(nt,Pt){var vt=Se.call(this,nt,Pt,this.getAttribute(Oe));return vt&&function(Ht){this.setAttribute(Oe,vt(Ht))}}function tt(nt,Pt){var vt=Se.call(this,nt,Pt,this.getAttributeNS(Oe.space,Oe.local));return vt&&function(Ht){this.setAttributeNS(Oe.space,Oe.local,vt(Ht))}}return this.tween("attr."+se,Oe.local?tt:Ke)},ar.style=function(se,Se,Oe){var Ke=arguments.length;if(Ke<3){if(typeof se!="string"){Ke<2&&(Se="");for(Oe in se)this.style(Oe,se[Oe],Se);return this}Oe=""}function tt(){this.style.removeProperty(se)}function nt(Pt){return Pt==null?tt:(Pt+="",function(){var vt=t(this).getComputedStyle(this,null).getPropertyValue(se),Ht;return vt!==Pt&&(Ht=hs(vt,Pt),function(qt){this.style.setProperty(se,Ht(qt),Oe)})})}return Jr(this,"style."+se,Se,nt)},ar.styleTween=function(se,Se,Oe){arguments.length<3&&(Oe="");function Ke(tt,nt){var Pt=Se.call(this,tt,nt,t(this).getComputedStyle(this,null).getPropertyValue(se));return Pt&&function(vt){this.style.setProperty(se,Pt(vt),Oe)}}return this.tween("style."+se,Ke)},ar.text=function(se){return Jr(this,"text",se,pn)};function pn(se){return se==null&&(se=""),function(){this.textContent=se}}ar.remove=function(){var se=this.namespace;return this.each("end.transition",function(){var Se;this[se].count<2&&(Se=this.parentNode)&&Se.removeChild(this)})},ar.ease=function(se){var Se=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Se].ease:(typeof se!="function"&&(se=n.ease.apply(n,arguments)),Qe(this,function(Ke){Ke[Oe][Se].ease=se}))},ar.delay=function(se){var Se=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Se].delay:Qe(this,typeof se=="function"?function(Ke,tt,nt){Ke[Oe][Se].delay=+se.call(Ke,Ke.__data__,tt,nt)}:(se=+se,function(Ke){Ke[Oe][Se].delay=se}))},ar.duration=function(se){var Se=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Se].duration:Qe(this,typeof se=="function"?function(Ke,tt,nt){Ke[Oe][Se].duration=Math.max(1,se.call(Ke,Ke.__data__,tt,nt))}:(se=Math.max(1,se),function(Ke){Ke[Oe][Se].duration=se}))},ar.each=function(se,Se){var Oe=this.id,Ke=this.namespace;if(arguments.length<2){var tt=Wr,nt=Lr;try{Lr=Oe,Qe(this,function(Pt,vt,Ht){Wr=Pt[Ke][Oe],se.call(Pt,Pt.__data__,vt,Ht)})}finally{Wr=tt,Lr=nt}}else Qe(this,function(Pt){var vt=Pt[Ke][Oe];(vt.event||(vt.event=n.dispatch("start","end","interrupt"))).on(se,Se)});return this},ar.transition=function(){for(var se=this.id,Se=++Ar,Oe=this.namespace,Ke=[],tt,nt,Pt,vt,Ht=0,qt=this.length;Ht<qt;Ht++){Ke.push(tt=[]);for(var nt=this[Ht],er=0,Cr=nt.length;er<Cr;er++)(Pt=nt[er])&&(vt=Pt[Oe][se],Pn(Pt,er,Oe,Se,{time:vt.time,ease:vt.ease,delay:vt.delay+vt.duration,duration:vt.duration})),tt.push(Pt)}return gr(Ke,Oe,Se)};function wn(se){return se==null?"__transition__":"__transition_"+se+"__"}function Pn(se,Se,Oe,Ke,tt){var nt=se[Oe]||(se[Oe]={active:0,count:0}),Pt=nt[Ke],vt,Ht,qt,er,Cr;function Sr(Dr){var Ur=Pt.delay;if(Ht.t=Ur+vt,Ur<=Dr)return Xr(Dr-Ur);Ht.c=Xr}function Xr(Dr){var Ur=nt.active,Yr=nt[Ur];Yr&&(Yr.timer.c=null,Yr.timer.t=NaN,--nt.count,delete nt[Ur],Yr.event&&Yr.event.interrupt.call(se,se.__data__,Yr.index));for(var en in nt)if(+en<Ke){var ln=nt[en];ln.timer.c=null,ln.timer.t=NaN,--nt.count,delete nt[en]}Ht.c=qr,mn(function(){return Ht.c&&qr(Dr||1)&&(Ht.c=null,Ht.t=NaN),1},0,vt),nt.active=Ke,Pt.event&&Pt.event.start.call(se,se.__data__,Se),Cr=[],Pt.tween.forEach(function(Zr,On){(On=On.call(se,se.__data__,Se))&&Cr.push(On)}),er=Pt.ease,qt=Pt.duration}function qr(Dr){for(var Ur=Dr/qt,Yr=er(Ur),en=Cr.length;en>0;)Cr[--en].call(se,Yr);if(Ur>=1)return Pt.event&&Pt.event.end.call(se,se.__data__,Se),--nt.count?delete nt[Ke]:delete se[Oe],1}Pt||(vt=tt.time,Ht=mn(Sr,0,vt),Pt=nt[Ke]={tween:new E,time:vt,timer:Ht,delay:tt.delay,duration:tt.duration,ease:tt.ease,index:Se},tt=null,++nt.count)}n.svg.axis=function(){var se=n.scale.linear(),Se=ca,Oe=6,Ke=6,tt=3,nt=[10],Pt=null,vt;function Ht(qt){qt.each(function(){var er=n.select(this),Cr=this.__chart__||se,Sr=this.__chart__=se.copy(),Xr=Pt??(Sr.ticks?Sr.ticks.apply(Sr,nt):Sr.domain()),qr=vt??(Sr.tickFormat?Sr.tickFormat.apply(Sr,nt):z),Dr=er.selectAll(".tick").data(Xr,Sr),Ur=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",ue),Yr=n.transition(Dr.exit()).style("opacity",ue).remove(),en=n.transition(Dr.order()).style("opacity",1),ln=Math.max(Oe,0)+tt,Zr,On=Vl(Sr),Vn=er.selectAll(".domain").data([0]),Xn=(Vn.enter().append("path").attr("class","domain"),n.transition(Vn));Ur.append("line"),Ur.append("text");var ta=Ur.select("line"),ya=en.select("line"),ga=Dr.select("text").text(qr),za=Ur.select("text"),Aa=en.select("text"),_a=Se==="top"||Se==="left"?-1:1,Xa,$a,oi,Bn;if(Se==="bottom"||Se==="top"?(Zr=Ca,Xa="x",oi="y",$a="x2",Bn="y2",ga.attr("dy",_a<0?"0em":".71em").style("text-anchor","middle"),Xn.attr("d","M"+On[0]+","+_a*Ke+"V0H"+On[1]+"V"+_a*Ke)):(Zr=La,Xa="y",oi="x",$a="y2",Bn="x2",ga.attr("dy",".32em").style("text-anchor",_a<0?"end":"start"),Xn.attr("d","M"+_a*Ke+","+On[0]+"H0V"+On[1]+"H"+_a*Ke)),ta.attr(Bn,_a*Oe),za.attr(oi,_a*ln),ya.attr($a,0).attr(Bn,_a*Oe),Aa.attr(Xa,0).attr(oi,_a*ln),Sr.rangeBand){var Fa=Sr,Da=Fa.rangeBand()/2;Cr=Sr=function(Ha){return Fa(Ha)+Da}}else Cr.rangeBand?Cr=Sr:Yr.call(Zr,Sr,Cr);Ur.call(Zr,Cr,Sr),en.call(Zr,Sr,Sr)})}return Ht.scale=function(qt){return arguments.length?(se=qt,Ht):se},Ht.orient=function(qt){return arguments.length?(Se=qt in Ma?qt+"":ca,Ht):Se},Ht.ticks=function(){return arguments.length?(nt=w(arguments),Ht):nt},Ht.tickValues=function(qt){return arguments.length?(Pt=qt,Ht):Pt},Ht.tickFormat=function(qt){return arguments.length?(vt=qt,Ht):vt},Ht.tickSize=function(qt){var er=arguments.length;return er?(Oe=+qt,Ke=+arguments[er-1],Ht):Oe},Ht.innerTickSize=function(qt){return arguments.length?(Oe=+qt,Ht):Oe},Ht.outerTickSize=function(qt){return arguments.length?(Ke=+qt,Ht):Ke},Ht.tickPadding=function(qt){return arguments.length?(tt=+qt,Ht):tt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var ca="bottom",Ma={top:1,right:1,bottom:1,left:1};function Ca(se,Se,Oe){se.attr("transform",function(Ke){var tt=Se(Ke);return"translate("+(isFinite(tt)?tt:Oe(Ke))+",0)"})}function La(se,Se,Oe){se.attr("transform",function(Ke){var tt=Se(Ke);return"translate(0,"+(isFinite(tt)?tt:Oe(Ke))+")"})}n.svg.brush=function(){var se=Y(er,"brushstart","brush","brushend"),Se=null,Oe=null,Ke=[0,0],tt=[0,0],nt,Pt,vt=!0,Ht=!0,qt=ri[0];function er(Dr){Dr.each(function(){var Ur=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",qr).on("touchstart.brush",qr),Yr=Ur.selectAll(".background").data([0]);Yr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var en=Ur.selectAll(".resize").data(qt,z);en.exit().remove(),en.enter().append("g").attr("class",function(Vn){return"resize "+Vn}).style("cursor",function(Vn){return Ra[Vn]}).append("rect").attr("x",function(Vn){return/[ew]$/.test(Vn)?-3:null}).attr("y",function(Vn){return/^[ns]/.test(Vn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),en.style("display",er.empty()?"none":null);var ln=n.transition(Ur),Zr=n.transition(Yr),On;Se&&(On=Vl(Se),Zr.attr("x",On[0]).attr("width",On[1]-On[0]),Sr(ln)),Oe&&(On=Vl(Oe),Zr.attr("y",On[0]).attr("height",On[1]-On[0]),Xr(ln)),Cr(ln)})}er.event=function(Dr){Dr.each(function(){var Ur=se.of(this,arguments),Yr={x:Ke,y:tt,i:nt,j:Pt},en=this.__chart__||Yr;this.__chart__=Yr,Lr?n.select(this).transition().each("start.brush",function(){nt=en.i,Pt=en.j,Ke=en.x,tt=en.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var ln=Ki(Ke,Yr.x),Zr=Ki(tt,Yr.y);return nt=Pt=null,function(On){Ke=Yr.x=ln(On),tt=Yr.y=Zr(On),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){nt=Yr.i,Pt=Yr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Cr(Dr){Dr.selectAll(".resize").attr("transform",function(Ur){return"translate("+Ke[+/e$/.test(Ur)]+","+tt[+/^s/.test(Ur)]+")"})}function Sr(Dr){Dr.select(".extent").attr("x",Ke[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",Ke[1]-Ke[0])}function Xr(Dr){Dr.select(".extent").attr("y",tt[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",tt[1]-tt[0])}function qr(){var Dr=this,Ur=n.select(n.event.target),Yr=se.of(Dr,arguments),en=n.select(Dr),ln=Ur.datum(),Zr=!/^(n|s)$/.test(ln)&&Se,On=!/^(e|w)$/.test(ln)&&Oe,Vn=Ur.classed("extent"),Xn=at(Dr),ta,ya=n.mouse(Dr),ga,za=n.select(t(Dr)).on("keydown.brush",Xa).on("keyup.brush",$a);if(n.event.changedTouches?za.on("touchmove.brush",oi).on("touchend.brush",Fa):za.on("mousemove.brush",oi).on("mouseup.brush",Fa),en.interrupt().selectAll("*").interrupt(),Vn)ya[0]=Ke[0]-ya[0],ya[1]=tt[0]-ya[1];else if(ln){var Aa=+/w$/.test(ln),_a=+/^n/.test(ln);ga=[Ke[1-Aa]-ya[0],tt[1-_a]-ya[1]],ya[0]=Ke[Aa],ya[1]=tt[_a]}else n.event.altKey&&(ta=ya.slice());en.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Ur.style("cursor")),Yr({type:"brushstart"}),oi();function Xa(){n.event.keyCode==32&&(Vn||(ta=null,ya[0]-=Ke[1],ya[1]-=tt[1],Vn=2),ee())}function $a(){n.event.keyCode==32&&Vn==2&&(ya[0]+=Ke[1],ya[1]+=tt[1],Vn=0,ee())}function oi(){var Da=n.mouse(Dr),Ha=!1;ga&&(Da[0]+=ga[0],Da[1]+=ga[1]),Vn||(n.event.altKey?(ta||(ta=[(Ke[0]+Ke[1])/2,(tt[0]+tt[1])/2]),ya[0]=Ke[+(Da[0]<ta[0])],ya[1]=tt[+(Da[1]<ta[1])]):ta=null),Zr&&Bn(Da,Se,0)&&(Sr(en),Ha=!0),On&&Bn(Da,Oe,1)&&(Xr(en),Ha=!0),Ha&&(Cr(en),Yr({type:"brush",mode:Vn?"move":"resize"}))}function Bn(Da,Ha,wi){var Ii=Vl(Ha),zi=Ii[0],pi=Ii[1],li=ya[wi],da=wi?tt:Ke,wa=da[1]-da[0],gi,ki;if(Vn&&(zi-=li,pi-=wa+li),gi=(wi?Ht:vt)?Math.max(zi,Math.min(pi,Da[wi])):Da[wi],Vn?ki=(gi+=li)+wa:(ta&&(li=Math.max(zi,Math.min(pi,2*ta[wi]-gi))),li<gi?(ki=gi,gi=li):ki=li),da[0]!=gi||da[1]!=ki)return wi?Pt=null:nt=null,da[0]=gi,da[1]=ki,!0}function Fa(){oi(),en.style("pointer-events","all").selectAll(".resize").style("display",er.empty()?"none":null),n.select("body").style("cursor",null),za.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Xn(),Yr({type:"brushend"})}}return er.x=function(Dr){return arguments.length?(Se=Dr,qt=ri[!Se<<1|!Oe],er):Se},er.y=function(Dr){return arguments.length?(Oe=Dr,qt=ri[!Se<<1|!Oe],er):Oe},er.clamp=function(Dr){return arguments.length?(Se&&Oe?(vt=!!Dr[0],Ht=!!Dr[1]):Se?vt=!!Dr:Oe&&(Ht=!!Dr),er):Se&&Oe?[vt,Ht]:Se?vt:Oe?Ht:null},er.extent=function(Dr){var Ur,Yr,en,ln,Zr;return arguments.length?(Se&&(Ur=Dr[0],Yr=Dr[1],Oe&&(Ur=Ur[0],Yr=Yr[0]),nt=[Ur,Yr],Se.invert&&(Ur=Se(Ur),Yr=Se(Yr)),Yr<Ur&&(Zr=Ur,Ur=Yr,Yr=Zr),(Ur!=Ke[0]||Yr!=Ke[1])&&(Ke=[Ur,Yr])),Oe&&(en=Dr[0],ln=Dr[1],Se&&(en=en[1],ln=ln[1]),Pt=[en,ln],Oe.invert&&(en=Oe(en),ln=Oe(ln)),ln<en&&(Zr=en,en=ln,ln=Zr),(en!=tt[0]||ln!=tt[1])&&(tt=[en,ln])),er):(Se&&(nt?(Ur=nt[0],Yr=nt[1]):(Ur=Ke[0],Yr=Ke[1],Se.invert&&(Ur=Se.invert(Ur),Yr=Se.invert(Yr)),Yr<Ur&&(Zr=Ur,Ur=Yr,Yr=Zr))),Oe&&(Pt?(en=Pt[0],ln=Pt[1]):(en=tt[0],ln=tt[1],Oe.invert&&(en=Oe.invert(en),ln=Oe.invert(ln)),ln<en&&(Zr=en,en=ln,ln=Zr))),Se&&Oe?[[Ur,en],[Yr,ln]]:Se?[Ur,Yr]:Oe&&[en,ln])},er.clear=function(){return er.empty()||(Ke=[0,0],tt=[0,0],nt=Pt=null),er},er.empty=function(){return!!Se&&Ke[0]==Ke[1]||!!Oe&&tt[0]==tt[1]},n.rebind(er,se,"on")};var Ra={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ri=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=Dn(function(se){return se.responseText}),n.json=function(se,Se){return In(se,"application/json",Li,Se)};function Li(se){return JSON.parse(se.responseText)}n.html=function(se,Se){return In(se,"text/html",ci,Se)};function ci(se){var Se=v.createRange();return Se.selectNode(v.body),Se.createContextualFragment(se.responseText)}n.xml=Dn(function(se){return se.responseXML}),p=n,L=typeof p=="function"?p.call(U,e,U,G):p,L!==void 0&&(G.exports=L)}).apply(self)},88294:function(G,U,e){G.exports=e(62849)},62849:function(G,U,e){var p=e(91358),L=e(53435),n=e(18863),C=e(21527),w=e(71299),v=e(46775),y=e(30120),t=e(64941),r=e(90660),l=e(27084),a=1073741824;G.exports=function(u,m){m||(m={}),u=y(u,"float64"),m=w(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(m.maxDepth,255),T=v(m.bounds,C(u,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var f=s(u,T),o=u.length>>>1,d;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?d=new(r(m.dtype))(o):m.dtype&&(d=m.dtype,Array.isArray(d)&&(d.length=o));for(var M=0;M<o;++M)d[M]=M;var A=[],E=[],g=[],S=[];B(0,0,1,d,0,1);for(var b=0,i=0;i<A.length;i++){var P=A[i];if(d.set)d.set(P,b);else for(var x=0,k=P.length;x<k;x++)d[x+b]=P[x];var _=b+A[i].length;S[i]=[b,_],b=_}return d.range=I,d;function B(F,N,Q,$,j,ee){if(!$.length)return null;var oe=A[j]||(A[j]=[]),Y=g[j]||(g[j]=[]),V=E[j]||(E[j]=[]),W=oe.length;if(j++,j>h||ee>a){for(var X=0;X<$.length;X++)oe.push($[X]),Y.push(ee),V.push(null,null,null,null);return W}if(oe.push($[0]),Y.push(ee),$.length<=1)return V.push(null,null,null,null),W;for(var re=Q*.5,ie=F+re,K=N+re,q=[],le=[],ae=[],he=[],me=1,Me=$.length;me<Me;me++){var xe=$[me],Ie=f[xe*2],_e=f[xe*2+1];Ie<ie?_e<K?q.push(xe):le.push(xe):_e<K?ae.push(xe):he.push(xe)}return ee<<=2,V.push(B(F,N,re,q,j,ee),B(F,K,re,le,j,ee+1),B(ie,N,re,ae,j,ee+2),B(ie,K,re,he,j,ee+3)),W}function I(){for(var F=[],N=arguments.length;N--;)F[N]=arguments[N];var Q;if(t(F[F.length-1])){var $=F.pop();!F.length&&($.x!=null||$.l!=null||$.left!=null)&&(F=[$],Q={}),Q=w($,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Q={};F.length||(F=T);var j=n.apply(void 0,F),ee=[Math.min(j.x,j.x+j.width),Math.min(j.y,j.y+j.height),Math.max(j.x,j.x+j.width),Math.max(j.y,j.y+j.height)],oe=ee[0],Y=ee[1],V=ee[2],W=ee[3],X=s([oe,Y,V,W],T),re=X[0],ie=X[1],K=X[2],q=X[3],le=v(Q.level,A.length);if(Q.d!=null){var ae;typeof Q.d=="number"?ae=[Q.d,Q.d]:Q.d.length&&(ae=Q.d),le=Math.min(Math.max(Math.ceil(-l(Math.abs(ae[0])/(T[2]-T[0]))),Math.ceil(-l(Math.abs(ae[1])/(T[3]-T[1])))),le)}if(le=Math.min(le,A.length),Q.lod)return z(re,ie,K,q,le);var he=[];me(0,0,1,0,0,1);function me(xe,Ie,_e,Te,ye,Ae){if(!(ye===null||Ae===null)){var Be=xe+_e,Ue=Ie+_e;if(!(re>Be||ie>Ue||K<xe||q<Ie)&&!(Te>=le)&&ye!==Ae){var De=A[Te];Ae===void 0&&(Ae=De.length);for(var He=ye;He<Ae;He++){var ut=De[He],et=u[ut*2],Qe=u[ut*2+1];et>=oe&&et<=V&&Qe>=Y&&Qe<=W&&he.push(ut)}var qe=E[Te],ft=qe[ye*4+0],gt=qe[ye*4+1],xt=qe[ye*4+2],Ct=qe[ye*4+3],Je=Me(qe,ye+1),ze=_e*.5,Fe=Te+1;me(xe,Ie,ze,Fe,ft,gt||xt||Ct||Je),me(xe,Ie+ze,ze,Fe,gt,xt||Ct||Je),me(xe+ze,Ie,ze,Fe,xt,Ct||Je),me(xe+ze,Ie+ze,ze,Fe,Ct,Je)}}}function Me(xe,Ie){for(var _e=null,Te=0;_e===null;)if(_e=xe[Ie*4+Te],Te++,Te>xe.length)return null;return _e}return he}function z(F,N,Q,$,j){for(var ee=[],oe=0;oe<j;oe++){var Y=g[oe],V=S[oe][0],W=O(F,N,oe),X=O(Q,$,oe),re=p.ge(Y,W),ie=p.gt(Y,X,re,Y.length-1);ee[oe]=[re+V,ie+V]}return ee}function O(F,N,Q){for(var $=1,j=.5,ee=.5,oe=.5,Y=0;Y<Q;Y++)$<<=2,$+=F<j?N<ee?0:1:N<ee?2:3,oe*=.5,j+=F<j?-oe:oe,ee+=N<ee?-oe:oe;return $}};function s(c,u){for(var m=u[0],h=u[1],T=u[2],f=u[3],o=1/(T-m),d=1/(f-h),M=new Array(c.length),A=0,E=c.length/2;A<E;A++)M[2*A]=L((c[2*A]-m)*o,0,1),M[2*A+1]=L((c[2*A+1]-h)*d,0,1);return M}},30774:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(60302),L=6378137;function n(t){return p.geomReduce(t,function(r,l){return r+C(l)},0)}U.default=n;function C(t){var r=0,l;switch(t.type){case"Polygon":return w(t.coordinates);case"MultiPolygon":for(l=0;l<t.coordinates.length;l++)r+=w(t.coordinates[l]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var l=1;l<t.length;l++)r-=Math.abs(v(t[l]))}return r}function v(t){var r,l,a,s,c,u,m,h=0,T=t.length;if(T>2){for(m=0;m<T;m++)m===T-2?(s=T-2,c=T-1,u=0):m===T-1?(s=T-1,c=0,u=1):(s=m,c=m+1,u=m+2),r=t[s],l=t[c],a=t[u],h+=(y(a[0])-y(r[0]))*Math.sin(y(l[1]));h=h*L*L/2}return h}function y(t){return t*Math.PI/180}},23132:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,i,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=i||{},x.geometry=b,x}U.feature=e;function p(b,i,P){switch(b){case"Point":return L(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return l(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return a(i).geometry;default:throw new Error(b+" is invalid")}}U.geometry=p;function L(b,i,P){if(P===void 0&&(P={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:b};return e(x,i,P)}U.point=L;function n(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return L(x,i)}),P)}U.points=n;function C(b,i,P){P===void 0&&(P={});for(var x=0,k=b;x<k.length;x++){var _=k[x];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var I={type:"Polygon",coordinates:b};return e(I,i,P)}U.polygon=C;function w(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return C(x,i)}),P)}U.polygons=w;function v(b,i,P){if(P===void 0&&(P={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:b};return e(x,i,P)}U.lineString=v;function y(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return v(x,i)}),P)}U.lineStrings=y;function t(b,i){i===void 0&&(i={});var P={type:"FeatureCollection"};return i.id&&(P.id=i.id),i.bbox&&(P.bbox=i.bbox),P.features=b,P}U.featureCollection=t;function r(b,i,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:b};return e(x,i,P)}U.multiLineString=r;function l(b,i,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:b};return e(x,i,P)}U.multiPoint=l;function a(b,i,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:b};return e(x,i,P)}U.multiPolygon=a;function s(b,i,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:b};return e(x,i,P)}U.geometryCollection=s;function c(b,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,i||0);return Math.round(b*P)/P}U.round=c;function u(b,i){i===void 0&&(i="kilometers");var P=U.factors[i];if(!P)throw new Error(i+" units is invalid");return b*P}U.radiansToLength=u;function m(b,i){i===void 0&&(i="kilometers");var P=U.factors[i];if(!P)throw new Error(i+" units is invalid");return b/P}U.lengthToRadians=m;function h(b,i){return f(m(b,i))}U.lengthToDegrees=h;function T(b){var i=b%360;return i<0&&(i+=360),i}U.bearingToAzimuth=T;function f(b){var i=b%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=f;function o(b){var i=b%360;return i*Math.PI/180}U.degreesToRadians=o;function d(b,i,P){if(i===void 0&&(i="kilometers"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(m(b,i),P)}U.convertLength=d;function M(b,i,P){if(i===void 0&&(i="meters"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("area must be a positive number");var x=U.areaFactors[i];if(!x)throw new Error("invalid original units");var k=U.areaFactors[P];if(!k)throw new Error("invalid final units");return b/x*k}U.convertArea=M;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}U.isNumber=A;function E(b){return!!b&&b.constructor===Object}U.isObject=E;function g(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(i){if(!A(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=g;function S(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}U.validateId=S},60302:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(23132);function L(o,d,M){if(o!==null)for(var A,E,g,S,b,i,P,x=0,k=0,_,B=o.type,I=B==="FeatureCollection",z=B==="Feature",O=I?o.features.length:1,F=0;F<O;F++){P=I?o.features[F].geometry:z?o.geometry:o,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var N=0;N<b;N++){var Q=0,$=0;if(S=_?P.geometries[N]:P,S!==null){i=S.coordinates;var j=S.type;switch(x=M&&(j==="Polygon"||j==="MultiPolygon")?1:0,j){case null:break;case"Point":if(d(i,k,F,Q,$)===!1)return!1;k++,Q++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(d(i[A],k,F,Q,$)===!1)return!1;k++,j==="MultiPoint"&&Q++}j==="LineString"&&Q++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-x;E++){if(d(i[A][E],k,F,Q,$)===!1)return!1;k++}j==="MultiLineString"&&Q++,j==="Polygon"&&$++}j==="Polygon"&&Q++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for($=0,E=0;E<i[A].length;E++){for(g=0;g<i[A][E].length-x;g++){if(d(i[A][E][g],k,F,Q,$)===!1)return!1;k++}$++}Q++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,M,A){var E=M;return L(o,function(g,S,b,i,P){S===0&&M===void 0?E=g:E=d(E,g,S,b,i,P)},A),E}function C(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function w(o,d,M){var A=M;return C(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function y(o,d,M){var A=M;return v(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function t(o){var d=[];return L(o,function(M){d.push(M)}),d}function r(o,d){var M,A,E,g,S,b,i,P,x,k,_=0,B=o.type==="FeatureCollection",I=o.type==="Feature",z=B?o.features.length:1;for(M=0;M<z;M++){for(b=B?o.features[M].geometry:I?o.geometry:o,P=B?o.features[M].properties:I?o.properties:{},x=B?o.features[M].bbox:I?o.bbox:void 0,k=B?o.features[M].id:I?o.id:void 0,i=b?b.type==="GeometryCollection":!1,S=i?b.geometries.length:1,E=0;E<S;E++){if(g=i?b.geometries[E]:b,g===null){if(d(null,_,P,x,k)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(g,_,P,x,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<g.geometries.length;A++)if(d(g.geometries[A],_,P,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,M){var A=M;return r(o,function(E,g,S,b,i){g===0&&M===void 0?A=E:A=d(A,E,g,S,b,i)}),A}function a(o,d){r(o,function(M,A,E,g,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(M,E,{bbox:g,id:S}),A,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],k={type:i,coordinates:x};if(d(p.feature(k,E),A,P)===!1)return!1}})}function s(o,d,M){var A=M;return a(o,function(E,g,S){g===0&&S===0&&M===void 0?A=E:A=d(A,E,g,S)}),A}function c(o,d){a(o,function(M,A,E){var g=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,i=0,P=0,x=0;if(L(M,function(k,_,B,I,z){if(b===void 0||A>i||I>P||z>x){b=k,i=A,P=I,x=z,g=0;return}var O=p.lineString([b,k],M.properties);if(d(O,A,E,z,g)===!1)return!1;g++,b=k})===!1)return!1}}})}function u(o,d,M){var A=M,E=!1;return c(o,function(g,S,b,i,P){E===!1&&M===void 0?A=g:A=d(A,g,S,b,i,P),E=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");a(o,function(M,A,E){if(M.geometry!==null){var g=M.geometry.type,S=M.geometry.coordinates;switch(g){case"LineString":if(d(M,A,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(p.lineString(S[b],M.properties),A,E,b)===!1)return!1;break}}})}function h(o,d,M){var A=M;return m(o,function(E,g,S,b){g===0&&M===void 0?A=E:A=d(A,E,g,S,b)}),A}function T(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=i.length+g-1),p.lineString([i[g],i[g+1]],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g-1),p.lineString([i[E][g],i[E][g+1]],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g-1),p.lineString([i[A][g],i[A][g+1]],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g-1),p.lineString([i[A][E][g],i[A][E][g+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,S,d);case"MultiPoint":return A<0&&(A=i.length+A),p.point(i[A],S,d);case"LineString":return g<0&&(g=i.length+g),p.point(i[g],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g),p.point(i[E][g],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g),p.point(i[A][g],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g),p.point(i[A][E][g],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=w,U.featureEach=v,U.featureReduce=y,U.coordAll=t,U.geomEach=r,U.geomReduce=l,U.flattenEach=a,U.flattenReduce=s,U.segmentEach=c,U.segmentReduce=u,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=f},85268:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(27138);function L(n){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(n,function(w){C[0]>w[0]&&(C[0]=w[0]),C[1]>w[1]&&(C[1]=w[1]),C[2]<w[0]&&(C[2]=w[0]),C[3]<w[1]&&(C[3]=w[1])}),C}L.default=L,U.default=L},94228:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,i,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=i||{},x.geometry=b,x}U.feature=e;function p(b,i,P){switch(b){case"Point":return L(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return l(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return a(i).geometry;default:throw new Error(b+" is invalid")}}U.geometry=p;function L(b,i,P){if(P===void 0&&(P={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:b};return e(x,i,P)}U.point=L;function n(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return L(x,i)}),P)}U.points=n;function C(b,i,P){P===void 0&&(P={});for(var x=0,k=b;x<k.length;x++){var _=k[x];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<_[_.length-1].length;B++)if(_[_.length-1][B]!==_[0][B])throw new Error("First and last Position are not equivalent.")}var I={type:"Polygon",coordinates:b};return e(I,i,P)}U.polygon=C;function w(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return C(x,i)}),P)}U.polygons=w;function v(b,i,P){if(P===void 0&&(P={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:b};return e(x,i,P)}U.lineString=v;function y(b,i,P){return P===void 0&&(P={}),t(b.map(function(x){return v(x,i)}),P)}U.lineStrings=y;function t(b,i){i===void 0&&(i={});var P={type:"FeatureCollection"};return i.id&&(P.id=i.id),i.bbox&&(P.bbox=i.bbox),P.features=b,P}U.featureCollection=t;function r(b,i,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:b};return e(x,i,P)}U.multiLineString=r;function l(b,i,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:b};return e(x,i,P)}U.multiPoint=l;function a(b,i,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:b};return e(x,i,P)}U.multiPolygon=a;function s(b,i,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:b};return e(x,i,P)}U.geometryCollection=s;function c(b,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,i||0);return Math.round(b*P)/P}U.round=c;function u(b,i){i===void 0&&(i="kilometers");var P=U.factors[i];if(!P)throw new Error(i+" units is invalid");return b*P}U.radiansToLength=u;function m(b,i){i===void 0&&(i="kilometers");var P=U.factors[i];if(!P)throw new Error(i+" units is invalid");return b/P}U.lengthToRadians=m;function h(b,i){return f(m(b,i))}U.lengthToDegrees=h;function T(b){var i=b%360;return i<0&&(i+=360),i}U.bearingToAzimuth=T;function f(b){var i=b%(2*Math.PI);return i*180/Math.PI}U.radiansToDegrees=f;function o(b){var i=b%360;return i*Math.PI/180}U.degreesToRadians=o;function d(b,i,P){if(i===void 0&&(i="kilometers"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(m(b,i),P)}U.convertLength=d;function M(b,i,P){if(i===void 0&&(i="meters"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("area must be a positive number");var x=U.areaFactors[i];if(!x)throw new Error("invalid original units");var k=U.areaFactors[P];if(!k)throw new Error("invalid final units");return b/x*k}U.convertArea=M;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}U.isNumber=A;function E(b){return!!b&&b.constructor===Object}U.isObject=E;function g(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(i){if(!A(i))throw new Error("bbox must only contain numbers")})}U.validateBBox=g;function S(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}U.validateId=S},27138:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(94228);function L(o,d,M){if(o!==null)for(var A,E,g,S,b,i,P,x=0,k=0,_,B=o.type,I=B==="FeatureCollection",z=B==="Feature",O=I?o.features.length:1,F=0;F<O;F++){P=I?o.features[F].geometry:z?o.geometry:o,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var N=0;N<b;N++){var Q=0,$=0;if(S=_?P.geometries[N]:P,S!==null){i=S.coordinates;var j=S.type;switch(x=M&&(j==="Polygon"||j==="MultiPolygon")?1:0,j){case null:break;case"Point":if(d(i,k,F,Q,$)===!1)return!1;k++,Q++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(d(i[A],k,F,Q,$)===!1)return!1;k++,j==="MultiPoint"&&Q++}j==="LineString"&&Q++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-x;E++){if(d(i[A][E],k,F,Q,$)===!1)return!1;k++}j==="MultiLineString"&&Q++,j==="Polygon"&&$++}j==="Polygon"&&Q++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for($=0,E=0;E<i[A].length;E++){for(g=0;g<i[A][E].length-x;g++){if(d(i[A][E][g],k,F,Q,$)===!1)return!1;k++}$++}Q++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,M,A){var E=M;return L(o,function(g,S,b,i,P){S===0&&M===void 0?E=g:E=d(E,g,S,b,i,P)},A),E}function C(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function w(o,d,M){var A=M;return C(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function y(o,d,M){var A=M;return v(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function t(o){var d=[];return L(o,function(M){d.push(M)}),d}function r(o,d){var M,A,E,g,S,b,i,P,x,k,_=0,B=o.type==="FeatureCollection",I=o.type==="Feature",z=B?o.features.length:1;for(M=0;M<z;M++){for(b=B?o.features[M].geometry:I?o.geometry:o,P=B?o.features[M].properties:I?o.properties:{},x=B?o.features[M].bbox:I?o.bbox:void 0,k=B?o.features[M].id:I?o.id:void 0,i=b?b.type==="GeometryCollection":!1,S=i?b.geometries.length:1,E=0;E<S;E++){if(g=i?b.geometries[E]:b,g===null){if(d(null,_,P,x,k)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(g,_,P,x,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<g.geometries.length;A++)if(d(g.geometries[A],_,P,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,M){var A=M;return r(o,function(E,g,S,b,i){g===0&&M===void 0?A=E:A=d(A,E,g,S,b,i)}),A}function a(o,d){r(o,function(M,A,E,g,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(M,E,{bbox:g,id:S}),A,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],k={type:i,coordinates:x};if(d(p.feature(k,E),A,P)===!1)return!1}})}function s(o,d,M){var A=M;return a(o,function(E,g,S){g===0&&S===0&&M===void 0?A=E:A=d(A,E,g,S)}),A}function c(o,d){a(o,function(M,A,E){var g=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,i=0,P=0,x=0;if(L(M,function(k,_,B,I,z){if(b===void 0||A>i||I>P||z>x){b=k,i=A,P=I,x=z,g=0;return}var O=p.lineString([b,k],M.properties);if(d(O,A,E,z,g)===!1)return!1;g++,b=k})===!1)return!1}}})}function u(o,d,M){var A=M,E=!1;return c(o,function(g,S,b,i,P){E===!1&&M===void 0?A=g:A=d(A,g,S,b,i,P),E=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");a(o,function(M,A,E){if(M.geometry!==null){var g=M.geometry.type,S=M.geometry.coordinates;switch(g){case"LineString":if(d(M,A,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(p.lineString(S[b],M.properties),A,E,b)===!1)return!1;break}}})}function h(o,d,M){var A=M;return m(o,function(E,g,S,b){g===0&&M===void 0?A=E:A=d(A,E,g,S,b)}),A}function T(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=i.length+g-1),p.lineString([i[g],i[g+1]],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g-1),p.lineString([i[E][g],i[E][g+1]],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g-1),p.lineString([i[A][g],i[A][g+1]],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g-1),p.lineString([i[A][E][g],i[A][E][g+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,S,d);case"MultiPoint":return A<0&&(A=i.length+A),p.point(i[A],S,d);case"LineString":return g<0&&(g=i.length+g),p.point(i[g],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g),p.point(i[E][g],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g),p.point(i[A][g],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g),p.point(i[A][E][g],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=w,U.featureEach=v,U.featureReduce=y,U.coordAll=t,U.geomEach=r,U.geomReduce=l,U.flattenEach=a,U.flattenReduce=s,U.segmentEach=c,U.segmentReduce=u,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=f},29261:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(88553),L=e(64182);function n(C,w){w===void 0&&(w={});var v=0,y=0,t=0;return p.coordEach(C,function(r){v+=r[0],y+=r[1],t++}),L.point([v/t,y/t],w.properties)}U.default=n},64182:function(G,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(I,z,O){O===void 0&&(O={});var F={type:"Feature"};return(O.id===0||O.id)&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.properties=z||{},F.geometry=I,F}U.feature=e;function p(I,z,O){switch(I){case"Point":return L(z).geometry;case"LineString":return v(z).geometry;case"Polygon":return C(z).geometry;case"MultiPoint":return l(z).geometry;case"MultiLineString":return r(z).geometry;case"MultiPolygon":return a(z).geometry;default:throw new Error(I+" is invalid")}}U.geometry=p;function L(I,z,O){O===void 0&&(O={});var F={type:"Point",coordinates:I};return e(F,z,O)}U.point=L;function n(I,z,O){return O===void 0&&(O={}),t(I.map(function(F){return L(F,z)}),O)}U.points=n;function C(I,z,O){O===void 0&&(O={});for(var F=0,N=I;F<N.length;F++){var Q=N[F];if(Q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<Q[Q.length-1].length;$++)if(Q[Q.length-1][$]!==Q[0][$])throw new Error("First and last Position are not equivalent.")}var j={type:"Polygon",coordinates:I};return e(j,z,O)}U.polygon=C;function w(I,z,O){return O===void 0&&(O={}),t(I.map(function(F){return C(F,z)}),O)}U.polygons=w;function v(I,z,O){if(O===void 0&&(O={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:I};return e(F,z,O)}U.lineString=v;function y(I,z,O){return O===void 0&&(O={}),t(I.map(function(F){return v(F,z)}),O)}U.lineStrings=y;function t(I,z){z===void 0&&(z={});var O={type:"FeatureCollection"};return z.id&&(O.id=z.id),z.bbox&&(O.bbox=z.bbox),O.features=I,O}U.featureCollection=t;function r(I,z,O){O===void 0&&(O={});var F={type:"MultiLineString",coordinates:I};return e(F,z,O)}U.multiLineString=r;function l(I,z,O){O===void 0&&(O={});var F={type:"MultiPoint",coordinates:I};return e(F,z,O)}U.multiPoint=l;function a(I,z,O){O===void 0&&(O={});var F={type:"MultiPolygon",coordinates:I};return e(F,z,O)}U.multiPolygon=a;function s(I,z,O){O===void 0&&(O={});var F={type:"GeometryCollection",geometries:I};return e(F,z,O)}U.geometryCollection=s;function c(I,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,z||0);return Math.round(I*O)/O}U.round=c;function u(I,z){z===void 0&&(z="kilometers");var O=U.factors[z];if(!O)throw new Error(z+" units is invalid");return I*O}U.radiansToLength=u;function m(I,z){z===void 0&&(z="kilometers");var O=U.factors[z];if(!O)throw new Error(z+" units is invalid");return I/O}U.lengthToRadians=m;function h(I,z){return f(m(I,z))}U.lengthToDegrees=h;function T(I){var z=I%360;return z<0&&(z+=360),z}U.bearingToAzimuth=T;function f(I){var z=I%(2*Math.PI);return z*180/Math.PI}U.radiansToDegrees=f;function o(I){var z=I%360;return z*Math.PI/180}U.degreesToRadians=o;function d(I,z,O){if(z===void 0&&(z="kilometers"),O===void 0&&(O="kilometers"),!(I>=0))throw new Error("length must be a positive number");return u(m(I,z),O)}U.convertLength=d;function M(I,z,O){if(z===void 0&&(z="meters"),O===void 0&&(O="kilometers"),!(I>=0))throw new Error("area must be a positive number");var F=U.areaFactors[z];if(!F)throw new Error("invalid original units");var N=U.areaFactors[O];if(!N)throw new Error("invalid final units");return I/F*N}U.convertArea=M;function A(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)&&!/^\s*$/.test(I)}U.isNumber=A;function E(I){return!!I&&I.constructor===Object}U.isObject=E;function g(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(z){if(!A(z))throw new Error("bbox must only contain numbers")})}U.validateBBox=g;function S(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}U.validateId=S;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=b;function i(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=i;function P(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=P;function x(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=x;function k(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=k;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=_;function B(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=B},88553:function(G,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(64182);function L(o,d,M){if(o!==null)for(var A,E,g,S,b,i,P,x=0,k=0,_,B=o.type,I=B==="FeatureCollection",z=B==="Feature",O=I?o.features.length:1,F=0;F<O;F++){P=I?o.features[F].geometry:z?o.geometry:o,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var N=0;N<b;N++){var Q=0,$=0;if(S=_?P.geometries[N]:P,S!==null){i=S.coordinates;var j=S.type;switch(x=M&&(j==="Polygon"||j==="MultiPolygon")?1:0,j){case null:break;case"Point":if(d(i,k,F,Q,$)===!1)return!1;k++,Q++;break;case"LineString":case"MultiPoint":for(A=0;A<i.length;A++){if(d(i[A],k,F,Q,$)===!1)return!1;k++,j==="MultiPoint"&&Q++}j==="LineString"&&Q++;break;case"Polygon":case"MultiLineString":for(A=0;A<i.length;A++){for(E=0;E<i[A].length-x;E++){if(d(i[A][E],k,F,Q,$)===!1)return!1;k++}j==="MultiLineString"&&Q++,j==="Polygon"&&$++}j==="Polygon"&&Q++;break;case"MultiPolygon":for(A=0;A<i.length;A++){for($=0,E=0;E<i[A].length;E++){for(g=0;g<i[A][E].length-x;g++){if(d(i[A][E][g],k,F,Q,$)===!1)return!1;k++}$++}Q++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,M,A){var E=M;return L(o,function(g,S,b,i,P){S===0&&M===void 0?E=g:E=d(E,g,S,b,i,P)},A),E}function C(o,d){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&d(o.features[M].properties,M)!==!1;M++);break;case"Feature":d(o.properties,0);break}}function w(o,d,M){var A=M;return C(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var M=0;M<o.features.length&&d(o.features[M],M)!==!1;M++);}function y(o,d,M){var A=M;return v(o,function(E,g){g===0&&M===void 0?A=E:A=d(A,E,g)}),A}function t(o){var d=[];return L(o,function(M){d.push(M)}),d}function r(o,d){var M,A,E,g,S,b,i,P,x,k,_=0,B=o.type==="FeatureCollection",I=o.type==="Feature",z=B?o.features.length:1;for(M=0;M<z;M++){for(b=B?o.features[M].geometry:I?o.geometry:o,P=B?o.features[M].properties:I?o.properties:{},x=B?o.features[M].bbox:I?o.bbox:void 0,k=B?o.features[M].id:I?o.id:void 0,i=b?b.type==="GeometryCollection":!1,S=i?b.geometries.length:1,E=0;E<S;E++){if(g=i?b.geometries[E]:b,g===null){if(d(null,_,P,x,k)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(g,_,P,x,k)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<g.geometries.length;A++)if(d(g.geometries[A],_,P,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,M){var A=M;return r(o,function(E,g,S,b,i){g===0&&M===void 0?A=E:A=d(A,E,g,S,b,i)}),A}function a(o,d){r(o,function(M,A,E,g,S){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(M,E,{bbox:g,id:S}),A,0)===!1?!1:void 0}var i;switch(b){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],k={type:i,coordinates:x};if(d(p.feature(k,E),A,P)===!1)return!1}})}function s(o,d,M){var A=M;return a(o,function(E,g,S){g===0&&S===0&&M===void 0?A=E:A=d(A,E,g,S)}),A}function c(o,d){a(o,function(M,A,E){var g=0;if(M.geometry){var S=M.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var b,i=0,P=0,x=0;if(L(M,function(k,_,B,I,z){if(b===void 0||A>i||I>P||z>x){b=k,i=A,P=I,x=z,g=0;return}var O=p.lineString([b,k],M.properties);if(d(O,A,E,z,g)===!1)return!1;g++,b=k})===!1)return!1}}})}function u(o,d,M){var A=M,E=!1;return c(o,function(g,S,b,i,P){E===!1&&M===void 0?A=g:A=d(A,g,S,b,i,P),E=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");a(o,function(M,A,E){if(M.geometry!==null){var g=M.geometry.type,S=M.geometry.coordinates;switch(g){case"LineString":if(d(M,A,E,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(d(p.lineString(S[b],M.properties),A,E,b)===!1)return!1;break}}})}function h(o,d,M){var A=M;return m(o,function(E,g,S,b){g===0&&M===void 0?A=E:A=d(A,E,g,S,b)}),A}function T(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.segmentIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=i.length+g-1),p.lineString([i[g],i[g+1]],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g-1),p.lineString([i[E][g],i[E][g+1]],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g-1),p.lineString([i[A][g],i[A][g+1]],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g-1),p.lineString([i[A][E][g],i[A][E][g+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var M=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,g=d.coordIndex||0,S=d.properties,b;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var i=b.coordinates;switch(b.type){case"Point":return p.point(i,S,d);case"MultiPoint":return A<0&&(A=i.length+A),p.point(i[A],S,d);case"LineString":return g<0&&(g=i.length+g),p.point(i[g],S,d);case"Polygon":return E<0&&(E=i.length+E),g<0&&(g=i[E].length+g),p.point(i[E][g],S,d);case"MultiLineString":return A<0&&(A=i.length+A),g<0&&(g=i[A].length+g),p.point(i[A][g],S,d);case"MultiPolygon":return A<0&&(A=i.length+A),E<0&&(E=i[A].length+E),g<0&&(g=i[A][E].length-g),p.point(i[A][E][g],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=w,U.featureEach=v,U.featureReduce=y,U.coordAll=t,U.geomEach=r,U.geomReduce=l,U.flattenEach=a,U.flattenReduce=s,U.segmentEach=c,U.segmentReduce=u,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=f},65185:function(G){G.exports=U;function U(e){var p=0,L=0,n=0,C=0;return e.map(function(w){w=w.slice();var v=w[0],y=v.toUpperCase();if(v!=y)switch(w[0]=y,v){case"a":w[6]+=n,w[7]+=C;break;case"v":w[1]+=C;break;case"h":w[1]+=n;break;default:for(var t=1;t<w.length;)w[t++]+=n,w[t++]+=C}switch(y){case"Z":n=p,C=L;break;case"H":n=w[1];break;case"V":C=w[1];break;case"M":n=p=w[1],C=L=w[2];break;default:n=w[w.length-2],C=w[w.length-1]}return w})}},21527:function(G){G.exports=U;function U(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),n=0;n<p;n++){for(var C=-1/0,w=1/0,v=n,y=e.length;v<y;v+=p)e[v]>C&&(C=e[v]),e[v]<w&&(w=e[v]);L[n]=w,L[p+n]=C}return L}},6851:function(G){G.exports=function(U,e,p){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(U),n=L.length;if(n===0)return-1;for(var C=0;C<n;C++)if(e.call(p,L[C],C,L))return C;return-1}},54:function(G,U,e){var p=e(21527);G.exports=L;function L(n,C,w){if(!n||n.length==null)throw Error("Argument should be an array");C==null&&(C=1),w==null&&(w=p(n,C));for(var v=0;v<C;v++){var y=w[C+v],t=w[v],r=v,l=n.length;if(y===1/0&&t===-1/0)for(r=v;r<l;r+=C)n[r]=n[r]===y?1:n[r]===t?0:.5;else if(y===1/0)for(r=v;r<l;r+=C)n[r]=n[r]===y?1:0;else if(t===-1/0)for(r=v;r<l;r+=C)n[r]=n[r]===t?0:1;else{var a=y-t;for(r=v;r<l;r+=C)isNaN(n[r])||(n[r]=a===0?.5:(n[r]-t)/a)}}return n}},57471:function(G){G.exports=function(e,p){var L=typeof e=="number",n=typeof p=="number";L&&!n?(p=e,e=0):!L&&!n&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var w=new Array(C),v=0,y=e;v<C;v++,y++)w[v]=y;return w}},32791:function(G,U,e){var p=e(90386);function L($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(ee){return typeof ee}:L=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},L($)}function n($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}var C=e(79616),w=C.codes,v=w.ERR_AMBIGUOUS_ARGUMENT,y=w.ERR_INVALID_ARG_TYPE,t=w.ERR_INVALID_ARG_VALUE,r=w.ERR_INVALID_RETURN_VALUE,l=w.ERR_MISSING_ARGS,a=e(73894),s=e(43827),c=s.inspect,u=e(43827).types,m=u.isPromise,h=u.isRegExp,T=Object.assign?Object.assign:e(73523).assign,f=Object.is?Object.is:e(64003),o,d;function M(){var $=e(74061);o=$.isDeepEqual,d=$.isDeepStrictEqual}var A=!1,E=G.exports=P,g={};function S($){throw $.message instanceof Error?$.message:new a($)}function b($,j,ee,oe,Y){var V=arguments.length,W;if(V===0)W="Failed";else if(V===1)ee=$,$=void 0;else{if(A===!1){A=!0;var X=p.emitWarning?p.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}V===2&&(oe="!=")}if(ee instanceof Error)throw ee;var re={actual:$,expected:j,operator:oe===void 0?"fail":oe,stackStartFn:Y||b};ee!==void 0&&(re.message=ee);var ie=new a(re);throw W&&(ie.message=W,ie.generatedMessage=!0),ie}E.fail=b,E.AssertionError=a;function i($,j,ee,oe){if(!ee){var Y=!1;if(j===0)Y=!0,oe="No value argument passed to `assert.ok()`";else if(oe instanceof Error)throw oe;var V=new a({actual:ee,expected:!0,message:oe,operator:"==",stackStartFn:$});throw V.generatedMessage=Y,V}}function P(){for(var $=arguments.length,j=new Array($),ee=0;ee<$;ee++)j[ee]=arguments[ee];i.apply(void 0,[P,j.length].concat(j))}E.ok=P,E.equal=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");j!=ee&&S({actual:j,expected:ee,message:oe,operator:"==",stackStartFn:$})},E.notEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");j==ee&&S({actual:j,expected:ee,message:oe,operator:"!=",stackStartFn:$})},E.deepEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&M(),o(j,ee)||S({actual:j,expected:ee,message:oe,operator:"deepEqual",stackStartFn:$})},E.notDeepEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&M(),o(j,ee)&&S({actual:j,expected:ee,message:oe,operator:"notDeepEqual",stackStartFn:$})},E.deepStrictEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&M(),d(j,ee)||S({actual:j,expected:ee,message:oe,operator:"deepStrictEqual",stackStartFn:$})},E.notDeepStrictEqual=x;function x($,j,ee){if(arguments.length<2)throw new l("actual","expected");o===void 0&&M(),d($,j)&&S({actual:$,expected:j,message:ee,operator:"notDeepStrictEqual",stackStartFn:x})}E.strictEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");f(j,ee)||S({actual:j,expected:ee,message:oe,operator:"strictEqual",stackStartFn:$})},E.notStrictEqual=function $(j,ee,oe){if(arguments.length<2)throw new l("actual","expected");f(j,ee)&&S({actual:j,expected:ee,message:oe,operator:"notStrictEqual",stackStartFn:$})};var k=function $(j,ee,oe){var Y=this;n(this,$),ee.forEach(function(V){V in j&&(oe!==void 0&&typeof oe[V]=="string"&&h(j[V])&&j[V].test(oe[V])?Y[V]=oe[V]:Y[V]=j[V])})};function _($,j,ee,oe,Y,V){if(!(ee in $)||!d($[ee],j[ee])){if(!oe){var W=new k($,Y),X=new k(j,Y,$),re=new a({actual:W,expected:X,operator:"deepStrictEqual",stackStartFn:V});throw re.actual=$,re.expected=j,re.operator=V.name,re}S({actual:$,expected:j,message:oe,operator:V.name,stackStartFn:V})}}function B($,j,ee,oe){if(typeof j!="function"){if(h(j))return j.test($);if(arguments.length===2)throw new y("expected",["Function","RegExp"],j);if(L($)!=="object"||$===null){var Y=new a({actual:$,expected:j,message:ee,operator:"deepStrictEqual",stackStartFn:oe});throw Y.operator=oe.name,Y}var V=Object.keys(j);if(j instanceof Error)V.push("name","message");else if(V.length===0)throw new t("error",j,"may not be an empty object");return o===void 0&&M(),V.forEach(function(W){typeof $[W]=="string"&&h(j[W])&&j[W].test($[W])||_($,j,W,ee,V,oe)}),!0}return j.prototype!==void 0&&$ instanceof j?!0:Error.isPrototypeOf(j)?!1:j.call({},$)===!0}function I($){if(typeof $!="function")throw new y("fn","Function",$);try{$()}catch(j){return j}return g}function z($){return m($)||$!==null&&L($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function O($){return Promise.resolve().then(function(){var j;if(typeof $=="function"){if(j=$(),!z(j))throw new r("instance of Promise","promiseFn",j)}else if(z($))j=$;else throw new y("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return j}).then(function(){return g}).catch(function(ee){return ee})})}function F($,j,ee,oe){if(typeof ee=="string"){if(arguments.length===4)throw new y("error",["Object","Error","Function","RegExp"],ee);if(L(j)==="object"&&j!==null){if(j.message===ee)throw new v("error/message",'The error message "'.concat(j.message,'" is identical to the message.'))}else if(j===ee)throw new v("error/message",'The error "'.concat(j,'" is identical to the message.'));oe=ee,ee=void 0}else if(ee!=null&&L(ee)!=="object"&&typeof ee!="function")throw new y("error",["Object","Error","Function","RegExp"],ee);if(j===g){var Y="";ee&&ee.name&&(Y+=" (".concat(ee.name,")")),Y+=oe?": ".concat(oe):".";var V=$.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:ee,operator:$.name,message:"Missing expected ".concat(V).concat(Y),stackStartFn:$})}if(ee&&!B(j,ee,oe,$))throw j}function N($,j,ee,oe){if(j!==g){if(typeof ee=="string"&&(oe=ee,ee=void 0),!ee||B(j,ee)){var Y=oe?": ".concat(oe):".",V=$.name==="doesNotReject"?"rejection":"exception";S({actual:j,expected:ee,operator:$.name,message:"Got unwanted ".concat(V).concat(Y,`
`)+'Actual message: "'.concat(j&&j.message,'"'),stackStartFn:$})}throw j}}E.throws=function $(j){for(var ee=arguments.length,oe=new Array(ee>1?ee-1:0),Y=1;Y<ee;Y++)oe[Y-1]=arguments[Y];F.apply(void 0,[$,I(j)].concat(oe))},E.rejects=function $(j){for(var ee=arguments.length,oe=new Array(ee>1?ee-1:0),Y=1;Y<ee;Y++)oe[Y-1]=arguments[Y];return O(j).then(function(V){return F.apply(void 0,[$,V].concat(oe))})},E.doesNotThrow=function $(j){for(var ee=arguments.length,oe=new Array(ee>1?ee-1:0),Y=1;Y<ee;Y++)oe[Y-1]=arguments[Y];N.apply(void 0,[$,I(j)].concat(oe))},E.doesNotReject=function $(j){for(var ee=arguments.length,oe=new Array(ee>1?ee-1:0),Y=1;Y<ee;Y++)oe[Y-1]=arguments[Y];return O(j).then(function(V){return N.apply(void 0,[$,V].concat(oe))})},E.ifError=function $(j){if(j!=null){var ee="ifError got unwanted exception: ";L(j)==="object"&&typeof j.message=="string"?j.message.length===0&&j.constructor?ee+=j.constructor.name:ee+=j.message:ee+=c(j);var oe=new a({actual:j,expected:null,operator:"ifError",message:ee,stackStartFn:$}),Y=j.stack;if(typeof Y=="string"){var V=Y.split(`
`);V.shift();for(var W=oe.stack.split(`
`),X=0;X<V.length;X++){var re=W.indexOf(V[X]);if(re!==-1){W=W.slice(0,re);break}}oe.stack="".concat(W.join(`
`),`
`).concat(V.join(`
`))}throw oe}};function Q(){for(var $=arguments.length,j=new Array($),ee=0;ee<$;ee++)j[ee]=arguments[ee];i.apply(void 0,[Q,j.length].concat(j))}E.strict=T(Q,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},73894:function(G,U,e){var p=e(90386);function L(I){for(var z=1;z<arguments.length;z++){var O=arguments[z]!=null?arguments[z]:{},F=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(O).filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable}))),F.forEach(function(N){n(I,N,O[N])})}return I}function n(I,z,O){return z in I?Object.defineProperty(I,z,{value:O,enumerable:!0,configurable:!0,writable:!0}):I[z]=O,I}function C(I,z){if(!(I instanceof z))throw new TypeError("Cannot call a class as a function")}function w(I,z){for(var O=0;O<z.length;O++){var F=z[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}function v(I,z,O){return z&&w(I.prototype,z),O&&w(I,O),I}function y(I,z){return z&&(h(z)==="object"||typeof z=="function")?z:t(I)}function t(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(z&&z.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),z&&u(I,z)}function l(I){var z=typeof Map=="function"?new Map:void 0;return l=function(F){if(F===null||!c(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(F))return z.get(F);z.set(F,N)}function N(){return s(F,arguments,m(this).constructor)}return N.prototype=Object.create(F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),u(N,F)},l(I)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(I,z,O){return a()?s=Reflect.construct:s=function(N,Q,$){var j=[null];j.push.apply(j,Q);var ee=Function.bind.apply(N,j),oe=new ee;return $&&u(oe,$.prototype),oe},s.apply(null,arguments)}function c(I){return Function.toString.call(I).indexOf("[native code]")!==-1}function u(I,z){return u=Object.setPrototypeOf||function(F,N){return F.__proto__=N,F},u(I,z)}function m(I){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},m(I)}function h(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(O){return typeof O}:h=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h(I)}var T=e(43827),f=T.inspect,o=e(79616),d=o.codes.ERR_INVALID_ARG_TYPE;function M(I,z,O){return(O===void 0||O>I.length)&&(O=I.length),I.substring(O-z.length,O)===z}function A(I,z){if(z=Math.floor(z),I.length==0||z==0)return"";var O=I.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)I+=I,z--;return I+=I.substring(0,O-I.length),I}var E="",g="",S="",b="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function x(I){var z=Object.keys(I),O=Object.create(Object.getPrototypeOf(I));return z.forEach(function(F){O[F]=I[F]}),Object.defineProperty(O,"message",{value:I.message}),O}function k(I){return f(I,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(I,z,O){var F="",N="",Q=0,$="",j=!1,ee=k(I),oe=ee.split(`
`),Y=k(z).split(`
`),V=0,W="";if(O==="strictEqual"&&h(I)==="object"&&h(z)==="object"&&I!==null&&z!==null&&(O="strictEqualObject"),oe.length===1&&Y.length===1&&oe[0]!==Y[0]){var X=oe[0].length+Y[0].length;if(X<=P){if((h(I)!=="object"||I===null)&&(h(z)!=="object"||z===null)&&(I!==0||z!==0))return"".concat(i[O],`

`)+"".concat(oe[0]," !== ").concat(Y[0],`
`)}else if(O!=="strictEqualObject"){var re=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(X<re){for(;oe[0][V]===Y[0][V];)V++;V>2&&(W=`
  `.concat(A(" ",V),"^"),V=0)}}}for(var ie=oe[oe.length-1],K=Y[Y.length-1];ie===K&&(V++<2?$=`
  `.concat(ie).concat($):F=ie,oe.pop(),Y.pop(),!(oe.length===0||Y.length===0));)ie=oe[oe.length-1],K=Y[Y.length-1];var q=Math.max(oe.length,Y.length);if(q===0){var le=ee.split(`
`);if(le.length>30)for(le[26]="".concat(E,"...").concat(b);le.length>27;)le.pop();return"".concat(i.notIdentical,`

`).concat(le.join(`
`),`
`)}V>3&&($=`
`.concat(E,"...").concat(b).concat($),j=!0),F!==""&&($=`
  `.concat(F).concat($),F="");var ae=0,he=i[O]+`
`.concat(g,"+ actual").concat(b," ").concat(S,"- expected").concat(b),me=" ".concat(E,"...").concat(b," Lines skipped");for(V=0;V<q;V++){var Me=V-Q;if(oe.length<V+1)Me>1&&V>2&&(Me>4?(N+=`
`.concat(E,"...").concat(b),j=!0):Me>3&&(N+=`
  `.concat(Y[V-2]),ae++),N+=`
  `.concat(Y[V-1]),ae++),Q=V,F+=`
`.concat(S,"-").concat(b," ").concat(Y[V]),ae++;else if(Y.length<V+1)Me>1&&V>2&&(Me>4?(N+=`
`.concat(E,"...").concat(b),j=!0):Me>3&&(N+=`
  `.concat(oe[V-2]),ae++),N+=`
  `.concat(oe[V-1]),ae++),Q=V,N+=`
`.concat(g,"+").concat(b," ").concat(oe[V]),ae++;else{var xe=Y[V],Ie=oe[V],_e=Ie!==xe&&(!M(Ie,",")||Ie.slice(0,-1)!==xe);_e&&M(xe,",")&&xe.slice(0,-1)===Ie&&(_e=!1,Ie+=","),_e?(Me>1&&V>2&&(Me>4?(N+=`
`.concat(E,"...").concat(b),j=!0):Me>3&&(N+=`
  `.concat(oe[V-2]),ae++),N+=`
  `.concat(oe[V-1]),ae++),Q=V,N+=`
`.concat(g,"+").concat(b," ").concat(Ie),F+=`
`.concat(S,"-").concat(b," ").concat(xe),ae+=2):(N+=F,F="",(Me===1||V===0)&&(N+=`
  `.concat(Ie),ae++))}if(ae>20&&V<q-2)return"".concat(he).concat(me,`
`).concat(N,`
`).concat(E,"...").concat(b).concat(F,`
`)+"".concat(E,"...").concat(b)}return"".concat(he).concat(j?me:"",`
`).concat(N).concat(F).concat($).concat(W)}var B=function(I){r(z,I);function z(O){var F;if(C(this,z),h(O)!=="object"||O===null)throw new d("options","Object",O);var N=O.message,Q=O.operator,$=O.stackStartFn,j=O.actual,ee=O.expected,oe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,N!=null)F=y(this,m(z).call(this,String(N)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(E="\x1B[34m",g="\x1B[32m",b="\x1B[39m",S="\x1B[31m"):(E="",g="",b="",S="")),h(j)==="object"&&j!==null&&h(ee)==="object"&&ee!==null&&"stack"in j&&j instanceof Error&&"stack"in ee&&ee instanceof Error&&(j=x(j),ee=x(ee)),Q==="deepStrictEqual"||Q==="strictEqual")F=y(this,m(z).call(this,_(j,ee,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var Y=i[Q],V=k(j).split(`
`);if(Q==="notStrictEqual"&&h(j)==="object"&&j!==null&&(Y=i.notStrictEqualObject),V.length>30)for(V[26]="".concat(E,"...").concat(b);V.length>27;)V.pop();V.length===1?F=y(this,m(z).call(this,"".concat(Y," ").concat(V[0]))):F=y(this,m(z).call(this,"".concat(Y,`

`).concat(V.join(`
`),`
`)))}else{var W=k(j),X="",re=i[Q];Q==="notDeepEqual"||Q==="notEqual"?(W="".concat(i[Q],`

`).concat(W),W.length>1024&&(W="".concat(W.slice(0,1021),"..."))):(X="".concat(k(ee)),W.length>512&&(W="".concat(W.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?W="".concat(re,`

`).concat(W,`

should equal

`):X=" ".concat(Q," ").concat(X)),F=y(this,m(z).call(this,"".concat(W).concat(X)))}return Error.stackTraceLimit=oe,F.generatedMessage=!N,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=j,F.expected=ee,F.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(t(F),$),F.stack,F.name="AssertionError",y(F)}return v(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(F,N){return f(this,L({},N,{customInspect:!1,depth:0}))}}]),z}(l(Error));G.exports=B},79616:function(G,U,e){function p(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(h)}function L(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function n(h,T){return T&&(p(T)==="object"||typeof T=="function")?T:C(h)}function C(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function w(h){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},w(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&y(h,T)}function y(h,T){return y=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},y(h,T)}var t={},r,l;function a(h,T,f){f||(f=Error);function o(M,A,E){return typeof T=="string"?T:T(M,A,E)}var d=function(M){v(A,M);function A(E,g,S){var b;return L(this,A),b=n(this,w(A).call(this,o(E,g,S))),b.code=h,b}return A}(f);t[h]=d}function s(h,T){if(Array.isArray(h)){var f=h.length;return h=h.map(function(o){return String(o)}),f>2?"one of ".concat(T," ").concat(h.slice(0,f-1).join(", "),", or ")+h[f-1]:f===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function c(h,T,f){return h.substr(!f||f<0?0:+f,T.length)===T}function u(h,T,f){return(f===void 0||f>h.length)&&(f=h.length),h.substring(f-T.length,f)===T}function m(h,T,f){return typeof f!="number"&&(f=0),f+T.length>h.length?!1:h.indexOf(T,f)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(h,T,f){r===void 0&&(r=e(32791)),r(typeof h=="string","'name' must be a string");var o;typeof T=="string"&&c(T,"not ")?(o="must not be",T=T.replace(/^not /,"")):o="must be";var d;if(u(h," argument"))d="The ".concat(h," ").concat(o," ").concat(s(T,"type"));else{var M=m(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(M," ").concat(o," ").concat(s(T,"type"))}return d+=". Received type ".concat(p(f)),d},TypeError),a("ERR_INVALID_ARG_VALUE",function(h,T){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";l===void 0&&(l=e(43827));var o=l.inspect(T);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(f,". Received ").concat(o)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(h,T,f){var o;return f&&f.constructor&&f.constructor.name?o="instance of ".concat(f.constructor.name):o="type ".concat(p(f)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),f=0;f<h;f++)T[f]=arguments[f];r===void 0&&(r=e(32791)),r(T.length>0,"At least one arg needs to be specified");var o="The ",d=T.length;switch(T=T.map(function(M){return'"'.concat(M,'"')}),d){case 1:o+="".concat(T[0]," argument");break;case 2:o+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:o+=T.slice(0,d-1).join(", "),o+=", and ".concat(T[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),G.exports.codes=t},74061:function(G,U,e){function p(Te,ye){return C(Te)||n(Te,ye)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Te,ye){var Ae=[],Be=!0,Ue=!1,De=void 0;try{for(var He=Te[Symbol.iterator](),ut;!(Be=(ut=He.next()).done)&&(Ae.push(ut.value),!(ye&&Ae.length===ye));Be=!0);}catch(et){Ue=!0,De=et}finally{try{!Be&&He.return!=null&&He.return()}finally{if(Ue)throw De}}return Ae}function C(Te){if(Array.isArray(Te))return Te}function w(Te){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(Ae){return typeof Ae}:w=function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},w(Te)}var v=/a/g.flags!==void 0,y=function(ye){var Ae=[];return ye.forEach(function(Be){return Ae.push(Be)}),Ae},t=function(ye){var Ae=[];return ye.forEach(function(Be,Ue){return Ae.push([Ue,Be])}),Ae},r=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(15567);function s(Te){return Te.call.bind(Te)}var c=s(Object.prototype.hasOwnProperty),u=s(Object.prototype.propertyIsEnumerable),m=s(Object.prototype.toString),h=e(43827).types,T=h.isAnyArrayBuffer,f=h.isArrayBufferView,o=h.isDate,d=h.isMap,M=h.isRegExp,A=h.isSet,E=h.isNativeError,g=h.isBoxedPrimitive,S=h.isNumberObject,b=h.isStringObject,i=h.isBooleanObject,P=h.isBigIntObject,x=h.isSymbolObject,k=h.isFloat32Array,_=h.isFloat64Array;function B(Te){if(Te.length===0||Te.length>10)return!0;for(var ye=0;ye<Te.length;ye++){var Ae=Te.charCodeAt(ye);if(Ae<48||Ae>57)return!0}return Te.length===10&&Te>=Math.pow(2,32)}function I(Te){return Object.keys(Te).filter(B).concat(l(Te).filter(Object.prototype.propertyIsEnumerable.bind(Te)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function z(Te,ye){if(Te===ye)return 0;for(var Ae=Te.length,Be=ye.length,Ue=0,De=Math.min(Ae,Be);Ue<De;++Ue)if(Te[Ue]!==ye[Ue]){Ae=Te[Ue],Be=ye[Ue];break}return Ae<Be?-1:Be<Ae?1:0}var O=!0,F=!1,N=0,Q=1,$=2,j=3;function ee(Te,ye){return v?Te.source===ye.source&&Te.flags===ye.flags:RegExp.prototype.toString.call(Te)===RegExp.prototype.toString.call(ye)}function oe(Te,ye){if(Te.byteLength!==ye.byteLength)return!1;for(var Ae=0;Ae<Te.byteLength;Ae++)if(Te[Ae]!==ye[Ae])return!1;return!0}function Y(Te,ye){return Te.byteLength!==ye.byteLength?!1:z(new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength),new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength))===0}function V(Te,ye){return Te.byteLength===ye.byteLength&&z(new Uint8Array(Te),new Uint8Array(ye))===0}function W(Te,ye){return S(Te)?S(ye)&&r(Number.prototype.valueOf.call(Te),Number.prototype.valueOf.call(ye)):b(Te)?b(ye)&&String.prototype.valueOf.call(Te)===String.prototype.valueOf.call(ye):i(Te)?i(ye)&&Boolean.prototype.valueOf.call(Te)===Boolean.prototype.valueOf.call(ye):P(Te)?P(ye)&&BigInt.prototype.valueOf.call(Te)===BigInt.prototype.valueOf.call(ye):x(ye)&&Symbol.prototype.valueOf.call(Te)===Symbol.prototype.valueOf.call(ye)}function X(Te,ye,Ae,Be){if(Te===ye)return Te!==0?!0:Ae?r(Te,ye):!0;if(Ae){if(w(Te)!=="object")return typeof Te=="number"&&a(Te)&&a(ye);if(w(ye)!=="object"||Te===null||ye===null||Object.getPrototypeOf(Te)!==Object.getPrototypeOf(ye))return!1}else{if(Te===null||w(Te)!=="object")return ye===null||w(ye)!=="object"?Te==ye:!1;if(ye===null||w(ye)!=="object")return!1}var Ue=m(Te),De=m(ye);if(Ue!==De)return!1;if(Array.isArray(Te)){if(Te.length!==ye.length)return!1;var He=I(Te),ut=I(ye);return He.length!==ut.length?!1:ie(Te,ye,Ae,Be,Q,He)}if(Ue==="[object Object]"&&(!d(Te)&&d(ye)||!A(Te)&&A(ye)))return!1;if(o(Te)){if(!o(ye)||Date.prototype.getTime.call(Te)!==Date.prototype.getTime.call(ye))return!1}else if(M(Te)){if(!M(ye)||!ee(Te,ye))return!1}else if(E(Te)||Te instanceof Error){if(Te.message!==ye.message||Te.name!==ye.name)return!1}else if(f(Te)){if(!Ae&&(k(Te)||_(Te))){if(!oe(Te,ye))return!1}else if(!Y(Te,ye))return!1;var et=I(Te),Qe=I(ye);return et.length!==Qe.length?!1:ie(Te,ye,Ae,Be,N,et)}else{if(A(Te))return!A(ye)||Te.size!==ye.size?!1:ie(Te,ye,Ae,Be,$);if(d(Te))return!d(ye)||Te.size!==ye.size?!1:ie(Te,ye,Ae,Be,j);if(T(Te)){if(!V(Te,ye))return!1}else if(g(Te)&&!W(Te,ye))return!1}return ie(Te,ye,Ae,Be,N)}function re(Te,ye){return ye.filter(function(Ae){return u(Te,Ae)})}function ie(Te,ye,Ae,Be,Ue,De){if(arguments.length===5){De=Object.keys(Te);var He=Object.keys(ye);if(De.length!==He.length)return!1}for(var ut=0;ut<De.length;ut++)if(!c(ye,De[ut]))return!1;if(Ae&&arguments.length===5){var et=l(Te);if(et.length!==0){var Qe=0;for(ut=0;ut<et.length;ut++){var qe=et[ut];if(u(Te,qe)){if(!u(ye,qe))return!1;De.push(qe),Qe++}else if(u(ye,qe))return!1}var ft=l(ye);if(et.length!==ft.length&&re(ye,ft).length!==Qe)return!1}else{var gt=l(ye);if(gt.length!==0&&re(ye,gt).length!==0)return!1}}if(De.length===0&&(Ue===N||Ue===Q&&Te.length===0||Te.size===0))return!0;if(Be===void 0)Be={val1:new Map,val2:new Map,position:0};else{var xt=Be.val1.get(Te);if(xt!==void 0){var Ct=Be.val2.get(ye);if(Ct!==void 0)return xt===Ct}Be.position++}Be.val1.set(Te,Be.position),Be.val2.set(ye,Be.position);var Je=xe(Te,ye,Ae,De,Be,Ue);return Be.val1.delete(Te),Be.val2.delete(ye),Je}function K(Te,ye,Ae,Be){for(var Ue=y(Te),De=0;De<Ue.length;De++){var He=Ue[De];if(X(ye,He,Ae,Be))return Te.delete(He),!0}return!1}function q(Te){switch(w(Te)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Te=+Te;case"number":if(a(Te))return!1}return!0}function le(Te,ye,Ae){var Be=q(Ae);return Be??(ye.has(Be)&&!Te.has(Be))}function ae(Te,ye,Ae,Be,Ue){var De=q(Ae);if(De!=null)return De;var He=ye.get(De);return He===void 0&&!ye.has(De)||!X(Be,He,!1,Ue)?!1:!Te.has(De)&&X(Be,He,!1,Ue)}function he(Te,ye,Ae,Be){for(var Ue=null,De=y(Te),He=0;He<De.length;He++){var ut=De[He];if(w(ut)==="object"&&ut!==null)Ue===null&&(Ue=new Set),Ue.add(ut);else if(!ye.has(ut)){if(Ae||!le(Te,ye,ut))return!1;Ue===null&&(Ue=new Set),Ue.add(ut)}}if(Ue!==null){for(var et=y(ye),Qe=0;Qe<et.length;Qe++){var qe=et[Qe];if(w(qe)==="object"&&qe!==null){if(!K(Ue,qe,Ae,Be))return!1}else if(!Ae&&!Te.has(qe)&&!K(Ue,qe,Ae,Be))return!1}return Ue.size===0}return!0}function me(Te,ye,Ae,Be,Ue,De){for(var He=y(Te),ut=0;ut<He.length;ut++){var et=He[ut];if(X(Ae,et,Ue,De)&&X(Be,ye.get(et),Ue,De))return Te.delete(et),!0}return!1}function Me(Te,ye,Ae,Be){for(var Ue=null,De=t(Te),He=0;He<De.length;He++){var ut=p(De[He],2),et=ut[0],Qe=ut[1];if(w(et)==="object"&&et!==null)Ue===null&&(Ue=new Set),Ue.add(et);else{var qe=ye.get(et);if(qe===void 0&&!ye.has(et)||!X(Qe,qe,Ae,Be)){if(Ae||!ae(Te,ye,et,Qe,Be))return!1;Ue===null&&(Ue=new Set),Ue.add(et)}}}if(Ue!==null){for(var ft=t(ye),gt=0;gt<ft.length;gt++){var xt=p(ft[gt],2),et=xt[0],Ct=xt[1];if(w(et)==="object"&&et!==null){if(!me(Ue,Te,et,Ct,Ae,Be))return!1}else if(!Ae&&(!Te.has(et)||!X(Te.get(et),Ct,!1,Be))&&!me(Ue,Te,et,Ct,!1,Be))return!1}return Ue.size===0}return!0}function xe(Te,ye,Ae,Be,Ue,De){var He=0;if(De===$){if(!he(Te,ye,Ae,Ue))return!1}else if(De===j){if(!Me(Te,ye,Ae,Ue))return!1}else if(De===Q)for(;He<Te.length;He++)if(c(Te,He)){if(!c(ye,He)||!X(Te[He],ye[He],Ae,Ue))return!1}else{if(c(ye,He))return!1;for(var ut=Object.keys(Te);He<ut.length;He++){var et=ut[He];if(!c(ye,et)||!X(Te[et],ye[et],Ae,Ue))return!1}return ut.length===Object.keys(ye).length}for(He=0;He<Be.length;He++){var Qe=Be[He];if(!X(Te[Qe],ye[Qe],Ae,Ue))return!1}return!0}function Ie(Te,ye){return X(Te,ye,F)}function _e(Te,ye){return X(Te,ye,O)}G.exports={isDeepEqual:Ie,isDeepStrictEqual:_e}},95341:function(G,U){U.byteLength=y,U.toByteArray=r,U.fromByteArray=s;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,w=n.length;C<w;++C)e[C]=n[C],p[n.charCodeAt(C)]=C;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function v(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=c.indexOf("=");m===-1&&(m=u);var h=m===u?0:4-m%4;return[m,h]}function y(c){var u=v(c),m=u[0],h=u[1];return(m+h)*3/4-h}function t(c,u,m){return(u+m)*3/4-m}function r(c){var u,m=v(c),h=m[0],T=m[1],f=new L(t(c,h,T)),o=0,d=T>0?h-4:h,M;for(M=0;M<d;M+=4)u=p[c.charCodeAt(M)]<<18|p[c.charCodeAt(M+1)]<<12|p[c.charCodeAt(M+2)]<<6|p[c.charCodeAt(M+3)],f[o++]=u>>16&255,f[o++]=u>>8&255,f[o++]=u&255;return T===2&&(u=p[c.charCodeAt(M)]<<2|p[c.charCodeAt(M+1)]>>4,f[o++]=u&255),T===1&&(u=p[c.charCodeAt(M)]<<10|p[c.charCodeAt(M+1)]<<4|p[c.charCodeAt(M+2)]>>2,f[o++]=u>>8&255,f[o++]=u&255),f}function l(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function a(c,u,m){for(var h,T=[],f=u;f<m;f+=3)h=(c[f]<<16&16711680)+(c[f+1]<<8&65280)+(c[f+2]&255),T.push(l(h));return T.join("")}function s(c){for(var u,m=c.length,h=m%3,T=[],f=16383,o=0,d=m-h;o<d;o+=f)T.push(a(c,o,o+f>d?d:o+f));return h===1?(u=c[m-1],T.push(e[u>>2]+e[u<<4&63]+"==")):h===2&&(u=(c[m-2]<<8)+c[m-1],T.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),T.join("")}},91358:function(G){function U(w,v,y,t,r){for(var l=r+1;t<=r;){var a=t+r>>>1,s=w[a],c=y!==void 0?y(s,v):s-v;c>=0?(l=a,r=a-1):t=a+1}return l}function e(w,v,y,t,r){for(var l=r+1;t<=r;){var a=t+r>>>1,s=w[a],c=y!==void 0?y(s,v):s-v;c>0?(l=a,r=a-1):t=a+1}return l}function p(w,v,y,t,r){for(var l=t-1;t<=r;){var a=t+r>>>1,s=w[a],c=y!==void 0?y(s,v):s-v;c<0?(l=a,t=a+1):r=a-1}return l}function L(w,v,y,t,r){for(var l=t-1;t<=r;){var a=t+r>>>1,s=w[a],c=y!==void 0?y(s,v):s-v;c<=0?(l=a,t=a+1):r=a-1}return l}function n(w,v,y,t,r){for(;t<=r;){var l=t+r>>>1,a=w[l],s=y!==void 0?y(a,v):a-v;if(s===0)return l;s<=0?t=l+1:r=l-1}return-1}function C(w,v,y,t,r,l){return typeof y=="function"?l(w,v,y,t===void 0?0:t|0,r===void 0?w.length-1:r|0):l(w,v,void 0,y===void 0?0:y|0,t===void 0?w.length-1:t|0)}G.exports={ge:function(w,v,y,t,r){return C(w,v,y,t,r,U)},gt:function(w,v,y,t,r){return C(w,v,y,t,r,e)},lt:function(w,v,y,t,r){return C(w,v,y,t,r,p)},le:function(w,v,y,t,r){return C(w,v,y,t,r,L)},eq:function(w,v,y,t,r){return C(w,v,y,t,r,n)}}},13547:function(G,U){var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(n){return(n>0)-(n<0)},U.abs=function(n){var C=n>>e-1;return(n^C)-C},U.min=function(n,C){return C^(n^C)&-(n<C)},U.max=function(n,C){return n^(n^C)&-(n<C)},U.isPow2=function(n){return!(n&n-1)&&!!n},U.log2=function(n){var C,w;return C=(n>65535)<<4,n>>>=C,w=(n>255)<<3,n>>>=w,C|=w,w=(n>15)<<2,n>>>=w,C|=w,w=(n>3)<<1,n>>>=w,C|=w,C|n>>1},U.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},U.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function p(n){var C=32;return n&=-n,n&&C--,n&65535&&(C-=16),n&16711935&&(C-=8),n&252645135&&(C-=4),n&858993459&&(C-=2),n&1431655765&&(C-=1),C}U.countTrailingZeros=p,U.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},U.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},U.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var L=new Array(256);(function(n){for(var C=0;C<256;++C){var w=C,v=C,y=7;for(w>>>=1;w;w>>>=1)v<<=1,v|=w&1,--y;n[C]=v<<y&255}})(L),U.reverse=function(n){return L[n&255]<<24|L[n>>>8&255]<<16|L[n>>>16&255]<<8|L[n>>>24&255]},U.interleave2=function(n,C){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,n|C<<1},U.deinterleave2=function(n,C){return n=n>>>C&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},U.interleave3=function(n,C,w){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,n|=C<<1,w&=1023,w=(w|w<<16)&4278190335,w=(w|w<<8)&251719695,w=(w|w<<4)&3272356035,w=(w|w<<2)&1227133513,n|w<<2},U.deinterleave3=function(n,C){return n=n>>>C&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},U.nextCombination=function(n){var C=n|n-1;return C+1|(~C&-~C)-1>>>p(n)+1}},44781:function(G,U,e){var p=e(53435);G.exports=n;var L=1e20;function n(v,y){y||(y={});var t=y.cutoff==null?.25:y.cutoff,r=y.radius==null?8:y.radius,l=y.channel||0,a,s,c,u,m,h,T,f,o,d,M;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");a=y.width,s=y.height,u=v,y.stride?h=y.stride:h=Math.floor(v.length/a/s)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(f=v,T=f.getContext("2d"),a=f.width,s=f.height,o=T.getImageData(0,0,a,s),u=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(f=v.canvas,T=v,a=f.width,s=f.height,o=T.getImageData(0,0,a,s),u=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,a=v.width,s=v.height,u=o.data,h=4);if(c=Math.max(a,s),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(m=u,u=Array(a*s),d=0,M=m.length;d<M;d++)u[d]=m[d*h+l]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(a*s),E=Array(a*s),g=Array(c),S=Array(c),b=Array(c+1),i=Array(c);for(d=0,M=a*s;d<M;d++){var P=u[d];A[d]=P===1?0:P===0?L:Math.pow(Math.max(0,.5-P),2),E[d]=P===1?L:P===0?0:Math.pow(Math.max(0,P-.5),2)}C(A,a,s,g,S,i,b),C(E,a,s,g,S,i,b);var x=window.Float32Array?new Float32Array(a*s):new Array(a*s);for(d=0,M=a*s;d<M;d++)x[d]=p(1-((A[d]-E[d])/r+t),0,1);return x}function C(v,y,t,r,l,a,s){for(var c=0;c<y;c++){for(var u=0;u<t;u++)r[u]=v[u*y+c];for(w(r,l,a,s,t),u=0;u<t;u++)v[u*y+c]=l[u]}for(u=0;u<t;u++){for(c=0;c<y;c++)r[c]=v[u*y+c];for(w(r,l,a,s,y),c=0;c<y;c++)v[u*y+c]=Math.sqrt(l[c])}}function w(v,y,t,r,l){t[0]=0,r[0]=-L,r[1]=+L;for(var a=1,s=0;a<l;a++){for(var c=(v[a]+a*a-(v[t[s]]+t[s]*t[s]))/(2*a-2*t[s]);c<=r[s];)s--,c=(v[a]+a*a-(v[t[s]]+t[s]*t[s]))/(2*a-2*t[s]);s++,t[s]=a,r[s]=c,r[s+1]=+L}for(a=0,s=0;a<l;a++){for(;r[s+1]<a;)s++;y[a]=(a-t[s])*(a-t[s])+v[t[s]]}}},6614:function(G,U,e){var p=e(68318),L=e(68222),n=L(p("String.prototype.indexOf"));G.exports=function(w,v){var y=p(w,!!v);return typeof y=="function"&&n(w,".prototype.")>-1?L(y):y}},68222:function(G,U,e){var p=e(77575),L=e(68318),n=L("%Function.prototype.apply%"),C=L("%Function.prototype.call%"),w=L("%Reflect.apply%",!0)||p.call(C,n),v=L("%Object.getOwnPropertyDescriptor%",!0),y=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}G.exports=function(a){var s=w(p,C,arguments);if(v&&y){var c=v(s,"length");c.configurable&&y(s,"length",{value:1+t(0,a.length-(arguments.length-1))})}return s};var r=function(){return w(p,n,arguments)};y?y(G.exports,"apply",{value:r}):G.exports.apply=r},53435:function(G){G.exports=U;function U(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},6475:function(G,U,e){var p=e(53435);G.exports=L,G.exports.to=L,G.exports.from=n;function L(C,w){w==null&&(w=!0);var v=C[0],y=C[1],t=C[2],r=C[3];r==null&&(r=w?1:255),w&&(v*=255,y*=255,t*=255,r*=255),v=p(v,0,255)&255,y=p(y,0,255)&255,t=p(t,0,255)&255,r=p(r,0,255)&255;var l=v*16777216+(y<<16)+(t<<8)+r;return l}function n(C,w){C=+C;var v=C>>>24,y=(C&16711680)>>>16,t=(C&65280)>>>8,r=C&255;return w===!1?[v,y,t,r]:[v/255,y/255,t/255,r/255]}},76857:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(G,U,e){var p=e(36652),L=e(53435),n=e(90660);G.exports=function(v,y){(y==="float"||!y)&&(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var t=n(y),r=new t(4),l=y!=="uint8"&&y!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=p(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,l&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(l?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=L(Math.floor(v[0]*255),0,255),r[1]=L(Math.floor(v[1]*255),0,255),r[2]=L(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),r)};function C(w){return!!(w instanceof Uint8Array||w instanceof Uint8ClampedArray||Array.isArray(w)&&(w[0]>1||w[0]===0)&&(w[1]>1||w[1]===0)&&(w[2]>1||w[2]===0)&&(!w[3]||w[3]>1))}},90736:function(G,U,e){var p=e(76857),L=e(10973),n=e(46775);G.exports=w;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function w(v){var y,t=[],r=1,l;if(typeof v=="string")if(p[v])t=p[v].slice(),l="rgb";else if(v==="transparent")r=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var a=v.slice(1),s=a.length,c=s<=4;r=1,c?(t=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],s===4&&(r=parseInt(a[3]+a[3],16)/255)):(t=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],s===8&&(r=parseInt(a[6]+a[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var u=y[1],m=u==="rgb",a=u.replace(/a$/,"");l=a;var s=a==="cmyk"?4:a==="gray"?1:3;t=y[2].trim().split(/\s*,\s*/).map(function(o,d){if(/%$/.test(o))return d===s?parseFloat(o)/100:a==="rgb"?parseFloat(o)*255/100:parseFloat(o);if(a[d]==="h"){if(/deg$/.test(o))return parseFloat(o);if(C[o]!==void 0)return C[o]}return parseFloat(o)}),u===a&&t.push(1),r=m||t[s]===void 0?1:t[s],t=t.slice(0,s)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(T){return parseFloat(T)}),l=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))l="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(L(v)){var h=n(v.r,v.red,v.R,null);h!==null?(l="rgb",t=[h,n(v.g,v.green,v.G),n(v.b,v.blue,v.B)]):(l="hsl",t=[n(v.h,v.hue,v.H),n(v.s,v.saturation,v.S),n(v.l,v.lightness,v.L,v.b,v.brightness)]),r=n(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],l="rgb",r=v.length===4?v[3]:1);return{space:l,values:t,alpha:r}}},36652:function(G,U,e){var p=e(90736),L=e(80009),n=e(53435);G.exports=function(w){var v,y=p(w);return y.space?(v=Array(3),v[0]=n(y.values[0],0,255),v[1]=n(y.values[1],0,255),v[2]=n(y.values[2],0,255),y.space[0]==="h"&&(v=L.rgb(v)),v.push(n(y.alpha,0,1)),v):[]}},80009:function(G,U,e){var p=e(6866);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var n=L[0]/360,C=L[1]/100,w=L[2]/100,v,y,t,r,l;if(C===0)return l=w*255,[l,l,l];w<.5?y=w*(1+C):y=w+C-w*C,v=2*w-y,r=[0,0,0];for(var a=0;a<3;a++)t=n+.3333333333333333*-(a-1),t<0?t++:t>1&&t--,6*t<1?l=v+(y-v)*6*t:2*t<1?l=y:3*t<2?l=v+(y-v)*(.6666666666666666-t)*6:l=v,r[a]=l*255;return r}},p.hsl=function(L){var n=L[0]/255,C=L[1]/255,w=L[2]/255,v=Math.min(n,C,w),y=Math.max(n,C,w),t=y-v,r,l,a;return y===v?r=0:n===y?r=(C-w)/t:C===y?r=2+(w-n)/t:w===y&&(r=4+(n-C)/t),r=Math.min(r*60,360),r<0&&(r+=360),a=(v+y)/2,y===v?l=0:a<=.5?l=t/(y+v):l=t/(2-y-v),[r,l*100,a*100]}},6866:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(G,U,e){G.exports={parse:e(41004),stringify:e(53313)}},63625:function(G,U,e){var p=e(40402);G.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||p.indexOf(n)!==-1}}},41004:function(G,U,e){var p=e(90448),L=e(38732),n=e(41901),C=e(15659),w=e(96209),v=e(83794),y=e(99011),t=e(63625).isSize;G.exports=l;var r=l.cache={};function l(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(r[s])return r[s];if(s==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(s)!==-1)return r[s]={system:s};for(var c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=y(s,/\s+/),m;m=u.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(T){c[T]=m}),r[s]=c;if(w.indexOf(m)!==-1){c.style=m;continue}if(m==="normal"||m==="small-caps"){c.variant=m;continue}if(v.indexOf(m)!==-1){c.stretch=m;continue}if(C.indexOf(m)!==-1){c.weight=m;continue}if(t(m)){var h=y(m,"/");if(c.size=h[0],h[1]!=null?c.lineHeight=a(h[1]):u[0]==="/"&&(u.shift(),c.lineHeight=a(u.shift())),!u.length)throw new Error("Missing required font-family.");return c.family=y(u.join(" "),/\s*,\s*/).map(p),r[s]=c}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function a(s){var c=parseFloat(s);return c.toString()===s?c:s}},53313:function(G,U,e){var p=e(71299),L=e(63625).isSize,n=s(e(38732)),C=s(e(41901)),w=s(e(15659)),v=s(e(96209)),y=s(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(u){if(u=p(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&a(u.system,C),u.system;if(a(u.style,v),a(u.variant,t),a(u.weight,w),a(u.stretch,y),u.size==null&&(u.size=l.size),typeof u.size=="number"&&(u.size+="px"),!L)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=l.family),Array.isArray(u.family)&&(u.family.length||(u.family=[l.family]),u.family=u.family.map(function(h){return r[h]?h:'"'+h+'"'}).join(", "));var m=[];return m.push(u.style),u.variant!==u.style&&m.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&m.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&m.push(u.stretch),m.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),m.push(u.family),m.filter(Boolean).join(" ")};function a(c,u){if(c&&!u[c]&&!n[c])throw Error("Unknown keyword `"+c+"`");return c}function s(c){for(var u={},m=0;m<c.length;m++)u[c[m]]=1;return u}},55174:function(G,U,e){var p=e(24582),L=e(10424),n=e(82527),C=e(19012),w=e(21780),v=e(16906),y=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,l;l=function(a,s,c){var u=L(s)&&n(s.value),m;return m=C(s),delete m.writable,delete m.value,m.get=function(){return!c.overwriteDefinition&&r.call(this,a)?u:(s.value=y.call(u,c.resolveContext?c.resolveContext(this):this),t(this,a,s),this[a])},m},G.exports=function(a){var s=w(arguments[1]);return p(s.resolveContext)&&n(s.resolveContext),v(a,function(c,u){return l(u,c,s)})}},62072:function(G,U,e){var p=e(24582),L=e(84985),n=e(95879),C=e(21780),w=e(66741),v=G.exports=function(y,t){var r,l,a,s,c;return arguments.length<2||typeof y!="string"?(s=t,t=y,y=null):s=arguments[2],p(y)?(r=w.call(y,"c"),l=w.call(y,"e"),a=w.call(y,"w")):(r=a=!0,l=!1),c={value:t,configurable:r,enumerable:l,writable:a},s?n(C(s),c):c};v.gs=function(y,t,r){var l,a,s,c;return typeof y!="string"?(s=r,r=t,t=y,y=null):s=arguments[3],p(t)?L(t)?p(r)?L(r)||(s=r,r=void 0):r=void 0:(s=t,t=r=void 0):t=void 0,p(y)?(l=w.call(y,"c"),a=w.call(y,"e")):(l=!0,a=!1),c={get:t,set:r,configurable:l,enumerable:a},s?n(C(s),c):c}},33064:function(G,U,e){e.d(U,{j2:function(){return p},Fp:function(){return C},J6:function(){return v},TS:function(){return y},VV:function(){return t},w6:function(){return r},Sm:function(){return l}});function p(a,s){return a<s?-1:a>s?1:a>=s?0:NaN}function L(a){return a.length===1&&(a=n(a)),{left:function(s,c,u,m){for(u==null&&(u=0),m==null&&(m=s.length);u<m;){var h=u+m>>>1;a(s[h],c)<0?u=h+1:m=h}return u},right:function(s,c,u,m){for(u==null&&(u=0),m==null&&(m=s.length);u<m;){var h=u+m>>>1;a(s[h],c)>0?m=h:u=h+1}return u}}}function n(a){return function(s,c){return p(a(s),c)}}L(p);function C(a,s){var c=a.length,u=-1,m,h;if(s==null){for(;++u<c;)if((m=a[u])!=null&&m>=m)for(h=m;++u<c;)(m=a[u])!=null&&m>h&&(h=m)}else for(;++u<c;)if((m=s(a[u],u,a))!=null&&m>=m)for(h=m;++u<c;)(m=s(a[u],u,a))!=null&&m>h&&(h=m);return h}function w(a){return a===null?NaN:+a}function v(a,s){var c=a.length,u=c,m=-1,h,T=0;if(s==null)for(;++m<c;)isNaN(h=w(a[m]))?--u:T+=h;else for(;++m<c;)isNaN(h=w(s(a[m],m,a)))?--u:T+=h;if(u)return T/u}function y(a){for(var s=a.length,c,u=-1,m=0,h,T;++u<s;)m+=a[u].length;for(h=new Array(m);--s>=0;)for(T=a[s],c=T.length;--c>=0;)h[--m]=T[c];return h}function t(a,s){var c=a.length,u=-1,m,h;if(s==null){for(;++u<c;)if((m=a[u])!=null&&m>=m)for(h=m;++u<c;)(m=a[u])!=null&&h>m&&(h=m)}else for(;++u<c;)if((m=s(a[u],u,a))!=null&&m>=m)for(h=m;++u<c;)(m=s(a[u],u,a))!=null&&h>m&&(h=m);return h}function r(a,s,c){a=+a,s=+s,c=(m=arguments.length)<2?(s=a,a=0,1):m<3?1:+c;for(var u=-1,m=Math.max(0,Math.ceil((s-a)/c))|0,h=new Array(m);++u<m;)h[u]=a+u*c;return h}function l(a,s){var c=a.length,u=-1,m,h=0;if(s==null)for(;++u<c;)(m=+a[u])&&(h+=m);else for(;++u<c;)(m=+s(a[u],u,a))&&(h+=m);return h}},15140:function(G,U,e){e.d(U,{UI:function(){return C},b1:function(){return w}});var p="$";function L(){}L.prototype=n.prototype={constructor:L,has:function(s){return p+s in this},get:function(s){return this[p+s]},set:function(s,c){return this[p+s]=c,this},remove:function(s){var c=p+s;return c in this&&delete this[c]},clear:function(){for(var s in this)s[0]===p&&delete this[s]},keys:function(){var s=[];for(var c in this)c[0]===p&&s.push(c.slice(1));return s},values:function(){var s=[];for(var c in this)c[0]===p&&s.push(this[c]);return s},entries:function(){var s=[];for(var c in this)c[0]===p&&s.push({key:c.slice(1),value:this[c]});return s},size:function(){var s=0;for(var c in this)c[0]===p&&++s;return s},empty:function(){for(var s in this)if(s[0]===p)return!1;return!0},each:function(s){for(var c in this)c[0]===p&&s(this[c],c.slice(1),this)}};function n(s,c){var u=new L;if(s instanceof L)s.each(function(o,d){u.set(d,o)});else if(Array.isArray(s)){var m=-1,h=s.length,T;if(c==null)for(;++m<h;)u.set(m,s[m]);else for(;++m<h;)u.set(c(T=s[m],m,s),T)}else if(s)for(var f in s)u.set(f,s[f]);return u}var C=n;function w(){var s=[],c=[],u,m,h;function T(o,d,M,A){if(d>=s.length)return u!=null&&o.sort(u),m!=null?m(o):o;for(var E=-1,g=o.length,S=s[d++],b,i,P=C(),x,k=M();++E<g;)(x=P.get(b=S(i=o[E])+""))?x.push(i):P.set(b,[i]);return P.each(function(_,B){A(k,B,T(_,d,M,A))}),k}function f(o,d){if(++d>s.length)return o;var M,A=c[d-1];return m!=null&&d>=s.length?M=o.entries():(M=[],o.each(function(E,g){M.push({key:g,values:f(E,d)})})),A!=null?M.sort(function(E,g){return A(E.key,g.key)}):M}return h={object:function(o){return T(o,0,v,y)},map:function(o){return T(o,0,t,r)},entries:function(o){return f(T(o,0,t,r),0)},key:function(o){return s.push(o),h},sortKeys:function(o){return c[s.length-1]=o,h},sortValues:function(o){return u=o,h},rollup:function(o){return m=o,h}}}function v(){return{}}function y(s,c,u){s[c]=u}function t(){return C()}function r(s,c,u){s.set(c,u)}function l(){}var a=C.prototype;l.prototype={constructor:l,has:a.has,add:function(s){return s+="",this[p+s]=s,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49887:function(G,U,e){e.r(U),e.d(U,{forceCenter:function(){return p},forceCollide:function(){return P},forceLink:function(){return B},forceManyBody:function(){return He},forceRadial:function(){return ut},forceSimulation:function(){return De},forceX:function(){return et},forceY:function(){return Qe}});function p(qe,ft){var gt;qe==null&&(qe=0),ft==null&&(ft=0);function xt(){var Ct,Je=gt.length,ze,Fe=0,$e=0;for(Ct=0;Ct<Je;++Ct)ze=gt[Ct],Fe+=ze.x,$e+=ze.y;for(Fe=Fe/Je-qe,$e=$e/Je-ft,Ct=0;Ct<Je;++Ct)ze=gt[Ct],ze.x-=Fe,ze.y-=$e}return xt.initialize=function(Ct){gt=Ct},xt.x=function(Ct){return arguments.length?(qe=+Ct,xt):qe},xt.y=function(Ct){return arguments.length?(ft=+Ct,xt):ft},xt}function L(qe){return function(){return qe}}function n(){return(Math.random()-.5)*1e-6}function C(qe){var ft=+this._x.call(null,qe),gt=+this._y.call(null,qe);return w(this.cover(ft,gt),ft,gt,qe)}function w(qe,ft,gt,xt){if(isNaN(ft)||isNaN(gt))return qe;var Ct,Je=qe._root,ze={data:xt},Fe=qe._x0,$e=qe._y0,at=qe._x1,Xe=qe._y1,Pe,we,ue,ge,Le,ke,it,lt;if(!Je)return qe._root=ze,qe;for(;Je.length;)if((Le=ft>=(Pe=(Fe+at)/2))?Fe=Pe:at=Pe,(ke=gt>=(we=($e+Xe)/2))?$e=we:Xe=we,Ct=Je,!(Je=Je[it=ke<<1|Le]))return Ct[it]=ze,qe;if(ue=+qe._x.call(null,Je.data),ge=+qe._y.call(null,Je.data),ft===ue&&gt===ge)return ze.next=Je,Ct?Ct[it]=ze:qe._root=ze,qe;do Ct=Ct?Ct[it]=new Array(4):qe._root=new Array(4),(Le=ft>=(Pe=(Fe+at)/2))?Fe=Pe:at=Pe,(ke=gt>=(we=($e+Xe)/2))?$e=we:Xe=we;while((it=ke<<1|Le)===(lt=(ge>=we)<<1|ue>=Pe));return Ct[lt]=Je,Ct[it]=ze,qe}function v(qe){var ft,gt,xt=qe.length,Ct,Je,ze=new Array(xt),Fe=new Array(xt),$e=1/0,at=1/0,Xe=-1/0,Pe=-1/0;for(gt=0;gt<xt;++gt)isNaN(Ct=+this._x.call(null,ft=qe[gt]))||isNaN(Je=+this._y.call(null,ft))||(ze[gt]=Ct,Fe[gt]=Je,Ct<$e&&($e=Ct),Ct>Xe&&(Xe=Ct),Je<at&&(at=Je),Je>Pe&&(Pe=Je));if($e>Xe||at>Pe)return this;for(this.cover($e,at).cover(Xe,Pe),gt=0;gt<xt;++gt)w(this,ze[gt],Fe[gt],qe[gt]);return this}function y(qe,ft){if(isNaN(qe=+qe)||isNaN(ft=+ft))return this;var gt=this._x0,xt=this._y0,Ct=this._x1,Je=this._y1;if(isNaN(gt))Ct=(gt=Math.floor(qe))+1,Je=(xt=Math.floor(ft))+1;else{for(var ze=Ct-gt,Fe=this._root,$e,at;gt>qe||qe>=Ct||xt>ft||ft>=Je;)switch(at=(ft<xt)<<1|qe<gt,$e=new Array(4),$e[at]=Fe,Fe=$e,ze*=2,at){case 0:Ct=gt+ze,Je=xt+ze;break;case 1:gt=Ct-ze,Je=xt+ze;break;case 2:Ct=gt+ze,xt=Je-ze;break;case 3:gt=Ct-ze,xt=Je-ze;break}this._root&&this._root.length&&(this._root=Fe)}return this._x0=gt,this._y0=xt,this._x1=Ct,this._y1=Je,this}function t(){var qe=[];return this.visit(function(ft){if(!ft.length)do qe.push(ft.data);while(ft=ft.next)}),qe}function r(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l(qe,ft,gt,xt,Ct){this.node=qe,this.x0=ft,this.y0=gt,this.x1=xt,this.y1=Ct}function a(qe,ft,gt){var xt,Ct=this._x0,Je=this._y0,ze,Fe,$e,at,Xe=this._x1,Pe=this._y1,we=[],ue=this._root,ge,Le;for(ue&&we.push(new l(ue,Ct,Je,Xe,Pe)),gt==null?gt=1/0:(Ct=qe-gt,Je=ft-gt,Xe=qe+gt,Pe=ft+gt,gt*=gt);ge=we.pop();)if(!(!(ue=ge.node)||(ze=ge.x0)>Xe||(Fe=ge.y0)>Pe||($e=ge.x1)<Ct||(at=ge.y1)<Je))if(ue.length){var ke=(ze+$e)/2,it=(Fe+at)/2;we.push(new l(ue[3],ke,it,$e,at),new l(ue[2],ze,it,ke,at),new l(ue[1],ke,Fe,$e,it),new l(ue[0],ze,Fe,ke,it)),(Le=(ft>=it)<<1|qe>=ke)&&(ge=we[we.length-1],we[we.length-1]=we[we.length-1-Le],we[we.length-1-Le]=ge)}else{var lt=qe-+this._x.call(null,ue.data),bt=ft-+this._y.call(null,ue.data),Rt=lt*lt+bt*bt;if(Rt<gt){var Ut=Math.sqrt(gt=Rt);Ct=qe-Ut,Je=ft-Ut,Xe=qe+Ut,Pe=ft+Ut,xt=ue.data}}return xt}function s(qe){if(isNaN(Xe=+this._x.call(null,qe))||isNaN(Pe=+this._y.call(null,qe)))return this;var ft,gt=this._root,xt,Ct,Je,ze=this._x0,Fe=this._y0,$e=this._x1,at=this._y1,Xe,Pe,we,ue,ge,Le,ke,it;if(!gt)return this;if(gt.length)for(;;){if((ge=Xe>=(we=(ze+$e)/2))?ze=we:$e=we,(Le=Pe>=(ue=(Fe+at)/2))?Fe=ue:at=ue,ft=gt,!(gt=gt[ke=Le<<1|ge]))return this;if(!gt.length)break;(ft[ke+1&3]||ft[ke+2&3]||ft[ke+3&3])&&(xt=ft,it=ke)}for(;gt.data!==qe;)if(Ct=gt,!(gt=gt.next))return this;return(Je=gt.next)&&delete gt.next,Ct?(Je?Ct.next=Je:delete Ct.next,this):ft?(Je?ft[ke]=Je:delete ft[ke],(gt=ft[0]||ft[1]||ft[2]||ft[3])&&gt===(ft[3]||ft[2]||ft[1]||ft[0])&&!gt.length&&(xt?xt[it]=gt:this._root=gt),this):(this._root=Je,this)}function c(qe){for(var ft=0,gt=qe.length;ft<gt;++ft)this.remove(qe[ft]);return this}function u(){return this._root}function m(){var qe=0;return this.visit(function(ft){if(!ft.length)do++qe;while(ft=ft.next)}),qe}function h(qe){var ft=[],gt,xt=this._root,Ct,Je,ze,Fe,$e;for(xt&&ft.push(new l(xt,this._x0,this._y0,this._x1,this._y1));gt=ft.pop();)if(!qe(xt=gt.node,Je=gt.x0,ze=gt.y0,Fe=gt.x1,$e=gt.y1)&&xt.length){var at=(Je+Fe)/2,Xe=(ze+$e)/2;(Ct=xt[3])&&ft.push(new l(Ct,at,Xe,Fe,$e)),(Ct=xt[2])&&ft.push(new l(Ct,Je,Xe,at,$e)),(Ct=xt[1])&&ft.push(new l(Ct,at,ze,Fe,Xe)),(Ct=xt[0])&&ft.push(new l(Ct,Je,ze,at,Xe))}return this}function T(qe){var ft=[],gt=[],xt;for(this._root&&ft.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));xt=ft.pop();){var Ct=xt.node;if(Ct.length){var Je,ze=xt.x0,Fe=xt.y0,$e=xt.x1,at=xt.y1,Xe=(ze+$e)/2,Pe=(Fe+at)/2;(Je=Ct[0])&&ft.push(new l(Je,ze,Fe,Xe,Pe)),(Je=Ct[1])&&ft.push(new l(Je,Xe,Fe,$e,Pe)),(Je=Ct[2])&&ft.push(new l(Je,ze,Pe,Xe,at)),(Je=Ct[3])&&ft.push(new l(Je,Xe,Pe,$e,at))}gt.push(xt)}for(;xt=gt.pop();)qe(xt.node,xt.x0,xt.y0,xt.x1,xt.y1);return this}function f(qe){return qe[0]}function o(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function M(qe){return arguments.length?(this._y=qe,this):this._y}function A(qe,ft,gt){var xt=new E(ft??f,gt??d,NaN,NaN,NaN,NaN);return qe==null?xt:xt.addAll(qe)}function E(qe,ft,gt,xt,Ct,Je){this._x=qe,this._y=ft,this._x0=gt,this._y0=xt,this._x1=Ct,this._y1=Je,this._root=void 0}function g(qe){for(var ft={data:qe.data},gt=ft;qe=qe.next;)gt=gt.next={data:qe.data};return ft}var S=A.prototype=E.prototype;S.copy=function(){var qe=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,gt,xt;if(!ft)return qe;if(!ft.length)return qe._root=g(ft),qe;for(gt=[{source:ft,target:qe._root=new Array(4)}];ft=gt.pop();)for(var Ct=0;Ct<4;++Ct)(xt=ft.source[Ct])&&(xt.length?gt.push({source:xt,target:ft.target[Ct]=new Array(4)}):ft.target[Ct]=g(xt));return qe},S.add=C,S.addAll=v,S.cover=y,S.data=t,S.extent=r,S.find=a,S.remove=s,S.removeAll=c,S.root=u,S.size=m,S.visit=h,S.visitAfter=T,S.x=o,S.y=M;function b(qe){return qe.x+qe.vx}function i(qe){return qe.y+qe.vy}function P(qe){var ft,gt,xt=1,Ct=1;typeof qe!="function"&&(qe=L(qe==null?1:+qe));function Je(){for(var $e,at=ft.length,Xe,Pe,we,ue,ge,Le,ke=0;ke<Ct;++ke)for(Xe=A(ft,b,i).visitAfter(ze),$e=0;$e<at;++$e)Pe=ft[$e],ge=gt[Pe.index],Le=ge*ge,we=Pe.x+Pe.vx,ue=Pe.y+Pe.vy,Xe.visit(it);function it(lt,bt,Rt,Ut,Gt){var _t=lt.data,nr=lt.r,lr=ge+nr;if(_t){if(_t.index>Pe.index){var zr=we-_t.x-_t.vx,mt=ue-_t.y-_t.vy,jt=zr*zr+mt*mt;jt<lr*lr&&(zr===0&&(zr=n(),jt+=zr*zr),mt===0&&(mt=n(),jt+=mt*mt),jt=(lr-(jt=Math.sqrt(jt)))/jt*xt,Pe.vx+=(zr*=jt)*(lr=(nr*=nr)/(Le+nr)),Pe.vy+=(mt*=jt)*lr,_t.vx-=zr*(lr=1-lr),_t.vy-=mt*lr)}return}return bt>we+lr||Ut<we-lr||Rt>ue+lr||Gt<ue-lr}}function ze($e){if($e.data)return $e.r=gt[$e.data.index];for(var at=$e.r=0;at<4;++at)$e[at]&&$e[at].r>$e.r&&($e.r=$e[at].r)}function Fe(){if(ft){var $e,at=ft.length,Xe;for(gt=new Array(at),$e=0;$e<at;++$e)Xe=ft[$e],gt[Xe.index]=+qe(Xe,$e,ft)}}return Je.initialize=function($e){ft=$e,Fe()},Je.iterations=function($e){return arguments.length?(Ct=+$e,Je):Ct},Je.strength=function($e){return arguments.length?(xt=+$e,Je):xt},Je.radius=function($e){return arguments.length?(qe=typeof $e=="function"?$e:L(+$e),Fe(),Je):qe},Je}var x=e(15140);function k(qe){return qe.index}function _(qe,ft){var gt=qe.get(ft);if(!gt)throw new Error("missing: "+ft);return gt}function B(qe){var ft=k,gt=Xe,xt,Ct=L(30),Je,ze,Fe,$e,at=1;qe==null&&(qe=[]);function Xe(Le){return 1/Math.min(Fe[Le.source.index],Fe[Le.target.index])}function Pe(Le){for(var ke=0,it=qe.length;ke<at;++ke)for(var lt=0,bt,Rt,Ut,Gt,_t,nr,lr;lt<it;++lt)bt=qe[lt],Rt=bt.source,Ut=bt.target,Gt=Ut.x+Ut.vx-Rt.x-Rt.vx||n(),_t=Ut.y+Ut.vy-Rt.y-Rt.vy||n(),nr=Math.sqrt(Gt*Gt+_t*_t),nr=(nr-Je[lt])/nr*Le*xt[lt],Gt*=nr,_t*=nr,Ut.vx-=Gt*(lr=$e[lt]),Ut.vy-=_t*lr,Rt.vx+=Gt*(lr=1-lr),Rt.vy+=_t*lr}function we(){if(ze){var Le,ke=ze.length,it=qe.length,lt=(0,x.UI)(ze,ft),bt;for(Le=0,Fe=new Array(ke);Le<it;++Le)bt=qe[Le],bt.index=Le,typeof bt.source!="object"&&(bt.source=_(lt,bt.source)),typeof bt.target!="object"&&(bt.target=_(lt,bt.target)),Fe[bt.source.index]=(Fe[bt.source.index]||0)+1,Fe[bt.target.index]=(Fe[bt.target.index]||0)+1;for(Le=0,$e=new Array(it);Le<it;++Le)bt=qe[Le],$e[Le]=Fe[bt.source.index]/(Fe[bt.source.index]+Fe[bt.target.index]);xt=new Array(it),ue(),Je=new Array(it),ge()}}function ue(){if(ze)for(var Le=0,ke=qe.length;Le<ke;++Le)xt[Le]=+gt(qe[Le],Le,qe)}function ge(){if(ze)for(var Le=0,ke=qe.length;Le<ke;++Le)Je[Le]=+Ct(qe[Le],Le,qe)}return Pe.initialize=function(Le){ze=Le,we()},Pe.links=function(Le){return arguments.length?(qe=Le,we(),Pe):qe},Pe.id=function(Le){return arguments.length?(ft=Le,Pe):ft},Pe.iterations=function(Le){return arguments.length?(at=+Le,Pe):at},Pe.strength=function(Le){return arguments.length?(gt=typeof Le=="function"?Le:L(+Le),ue(),Pe):gt},Pe.distance=function(Le){return arguments.length?(Ct=typeof Le=="function"?Le:L(+Le),ge(),Pe):Ct},Pe}var I={value:function(){}};function z(){for(var qe=0,ft=arguments.length,gt={},xt;qe<ft;++qe){if(!(xt=arguments[qe]+"")||xt in gt||/[\s.]/.test(xt))throw new Error("illegal type: "+xt);gt[xt]=[]}return new O(gt)}function O(qe){this._=qe}function F(qe,ft){return qe.trim().split(/^|\s+/).map(function(gt){var xt="",Ct=gt.indexOf(".");if(Ct>=0&&(xt=gt.slice(Ct+1),gt=gt.slice(0,Ct)),gt&&!ft.hasOwnProperty(gt))throw new Error("unknown type: "+gt);return{type:gt,name:xt}})}O.prototype=z.prototype={constructor:O,on:function(qe,ft){var gt=this._,xt=F(qe+"",gt),Ct,Je=-1,ze=xt.length;if(arguments.length<2){for(;++Je<ze;)if((Ct=(qe=xt[Je]).type)&&(Ct=N(gt[Ct],qe.name)))return Ct;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Je<ze;)if(Ct=(qe=xt[Je]).type)gt[Ct]=Q(gt[Ct],qe.name,ft);else if(ft==null)for(Ct in gt)gt[Ct]=Q(gt[Ct],qe.name,null);return this},copy:function(){var qe={},ft=this._;for(var gt in ft)qe[gt]=ft[gt].slice();return new O(qe)},call:function(qe,ft){if((Ct=arguments.length-2)>0)for(var gt=new Array(Ct),xt=0,Ct,Je;xt<Ct;++xt)gt[xt]=arguments[xt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Je=this._[qe],xt=0,Ct=Je.length;xt<Ct;++xt)Je[xt].value.apply(ft,gt)},apply:function(qe,ft,gt){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var xt=this._[qe],Ct=0,Je=xt.length;Ct<Je;++Ct)xt[Ct].value.apply(ft,gt)}};function N(qe,ft){for(var gt=0,xt=qe.length,Ct;gt<xt;++gt)if((Ct=qe[gt]).name===ft)return Ct.value}function Q(qe,ft,gt){for(var xt=0,Ct=qe.length;xt<Ct;++xt)if(qe[xt].name===ft){qe[xt]=I,qe=qe.slice(0,xt).concat(qe.slice(xt+1));break}return gt!=null&&qe.push({name:ft,value:gt}),qe}var $=z,j=0,ee=0,oe=0,Y=1e3,V,W,X=0,re=0,ie=0,K=typeof performance=="object"&&performance.now?performance:Date,q=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function le(){return re||(q(ae),re=K.now()+ie)}function ae(){re=0}function he(){this._call=this._time=this._next=null}he.prototype=me.prototype={constructor:he,restart:function(qe,ft,gt){if(typeof qe!="function")throw new TypeError("callback is not a function");gt=(gt==null?le():+gt)+(ft==null?0:+ft),!this._next&&W!==this&&(W?W._next=this:V=this,W=this),this._call=qe,this._time=gt,Te()},stop:function(){this._call&&(this._call=null,this._time=1/0,Te())}};function me(qe,ft,gt){var xt=new he;return xt.restart(qe,ft,gt),xt}function Me(){le(),++j;for(var qe=V,ft;qe;)(ft=re-qe._time)>=0&&qe._call.call(null,ft),qe=qe._next;--j}function xe(){re=(X=K.now())+ie,j=ee=0;try{Me()}finally{j=0,_e(),re=0}}function Ie(){var qe=K.now(),ft=qe-X;ft>Y&&(ie-=ft,X=qe)}function _e(){for(var qe,ft=V,gt,xt=1/0;ft;)ft._call?(xt>ft._time&&(xt=ft._time),qe=ft,ft=ft._next):(gt=ft._next,ft._next=null,ft=qe?qe._next=gt:V=gt);W=qe,Te(xt)}function Te(qe){if(!j){ee&&(ee=clearTimeout(ee));var ft=qe-re;ft>24?(qe<1/0&&(ee=setTimeout(xe,qe-K.now()-ie)),oe&&(oe=clearInterval(oe))):(oe||(X=K.now(),oe=setInterval(Ie,Y)),j=1,q(xe))}}function ye(qe){return qe.x}function Ae(qe){return qe.y}var Be=10,Ue=Math.PI*(3-Math.sqrt(5));function De(qe){var ft,gt=1,xt=.001,Ct=1-Math.pow(xt,1/300),Je=0,ze=.6,Fe=(0,x.UI)(),$e=me(Xe),at=$("tick","end");qe==null&&(qe=[]);function Xe(){Pe(),at.call("tick",ft),gt<xt&&($e.stop(),at.call("end",ft))}function Pe(ge){var Le,ke=qe.length,it;ge===void 0&&(ge=1);for(var lt=0;lt<ge;++lt)for(gt+=(Je-gt)*Ct,Fe.each(function(bt){bt(gt)}),Le=0;Le<ke;++Le)it=qe[Le],it.fx==null?it.x+=it.vx*=ze:(it.x=it.fx,it.vx=0),it.fy==null?it.y+=it.vy*=ze:(it.y=it.fy,it.vy=0);return ft}function we(){for(var ge=0,Le=qe.length,ke;ge<Le;++ge){if(ke=qe[ge],ke.index=ge,ke.fx!=null&&(ke.x=ke.fx),ke.fy!=null&&(ke.y=ke.fy),isNaN(ke.x)||isNaN(ke.y)){var it=Be*Math.sqrt(ge),lt=ge*Ue;ke.x=it*Math.cos(lt),ke.y=it*Math.sin(lt)}(isNaN(ke.vx)||isNaN(ke.vy))&&(ke.vx=ke.vy=0)}}function ue(ge){return ge.initialize&&ge.initialize(qe),ge}return we(),ft={tick:Pe,restart:function(){return $e.restart(Xe),ft},stop:function(){return $e.stop(),ft},nodes:function(ge){return arguments.length?(qe=ge,we(),Fe.each(ue),ft):qe},alpha:function(ge){return arguments.length?(gt=+ge,ft):gt},alphaMin:function(ge){return arguments.length?(xt=+ge,ft):xt},alphaDecay:function(ge){return arguments.length?(Ct=+ge,ft):+Ct},alphaTarget:function(ge){return arguments.length?(Je=+ge,ft):Je},velocityDecay:function(ge){return arguments.length?(ze=1-ge,ft):1-ze},force:function(ge,Le){return arguments.length>1?(Le==null?Fe.remove(ge):Fe.set(ge,ue(Le)),ft):Fe.get(ge)},find:function(ge,Le,ke){var it=0,lt=qe.length,bt,Rt,Ut,Gt,_t;for(ke==null?ke=1/0:ke*=ke,it=0;it<lt;++it)Gt=qe[it],bt=ge-Gt.x,Rt=Le-Gt.y,Ut=bt*bt+Rt*Rt,Ut<ke&&(_t=Gt,ke=Ut);return _t},on:function(ge,Le){return arguments.length>1?(at.on(ge,Le),ft):at.on(ge)}}}function He(){var qe,ft,gt,xt=L(-30),Ct,Je=1,ze=1/0,Fe=.81;function $e(we){var ue,ge=qe.length,Le=A(qe,ye,Ae).visitAfter(Xe);for(gt=we,ue=0;ue<ge;++ue)ft=qe[ue],Le.visit(Pe)}function at(){if(qe){var we,ue=qe.length,ge;for(Ct=new Array(ue),we=0;we<ue;++we)ge=qe[we],Ct[ge.index]=+xt(ge,we,qe)}}function Xe(we){var ue=0,ge,Le,ke=0,it,lt,bt;if(we.length){for(it=lt=bt=0;bt<4;++bt)(ge=we[bt])&&(Le=Math.abs(ge.value))&&(ue+=ge.value,ke+=Le,it+=Le*ge.x,lt+=Le*ge.y);we.x=it/ke,we.y=lt/ke}else{ge=we,ge.x=ge.data.x,ge.y=ge.data.y;do ue+=Ct[ge.data.index];while(ge=ge.next)}we.value=ue}function Pe(we,ue,ge,Le){if(!we.value)return!0;var ke=we.x-ft.x,it=we.y-ft.y,lt=Le-ue,bt=ke*ke+it*it;if(lt*lt/Fe<bt)return bt<ze&&(ke===0&&(ke=n(),bt+=ke*ke),it===0&&(it=n(),bt+=it*it),bt<Je&&(bt=Math.sqrt(Je*bt)),ft.vx+=ke*we.value*gt/bt,ft.vy+=it*we.value*gt/bt),!0;if(we.length||bt>=ze)return;(we.data!==ft||we.next)&&(ke===0&&(ke=n(),bt+=ke*ke),it===0&&(it=n(),bt+=it*it),bt<Je&&(bt=Math.sqrt(Je*bt)));do we.data!==ft&&(lt=Ct[we.data.index]*gt/bt,ft.vx+=ke*lt,ft.vy+=it*lt);while(we=we.next)}return $e.initialize=function(we){qe=we,at()},$e.strength=function(we){return arguments.length?(xt=typeof we=="function"?we:L(+we),at(),$e):xt},$e.distanceMin=function(we){return arguments.length?(Je=we*we,$e):Math.sqrt(Je)},$e.distanceMax=function(we){return arguments.length?(ze=we*we,$e):Math.sqrt(ze)},$e.theta=function(we){return arguments.length?(Fe=we*we,$e):Math.sqrt(Fe)},$e}function ut(qe,ft,gt){var xt,Ct=L(.1),Je,ze;typeof qe!="function"&&(qe=L(+qe)),ft==null&&(ft=0),gt==null&&(gt=0);function Fe(at){for(var Xe=0,Pe=xt.length;Xe<Pe;++Xe){var we=xt[Xe],ue=we.x-ft||1e-6,ge=we.y-gt||1e-6,Le=Math.sqrt(ue*ue+ge*ge),ke=(ze[Xe]-Le)*Je[Xe]*at/Le;we.vx+=ue*ke,we.vy+=ge*ke}}function $e(){if(xt){var at,Xe=xt.length;for(Je=new Array(Xe),ze=new Array(Xe),at=0;at<Xe;++at)ze[at]=+qe(xt[at],at,xt),Je[at]=isNaN(ze[at])?0:+Ct(xt[at],at,xt)}}return Fe.initialize=function(at){xt=at,$e()},Fe.strength=function(at){return arguments.length?(Ct=typeof at=="function"?at:L(+at),$e(),Fe):Ct},Fe.radius=function(at){return arguments.length?(qe=typeof at=="function"?at:L(+at),$e(),Fe):qe},Fe.x=function(at){return arguments.length?(ft=+at,Fe):ft},Fe.y=function(at){return arguments.length?(gt=+at,Fe):gt},Fe}function et(qe){var ft=L(.1),gt,xt,Ct;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Je(Fe){for(var $e=0,at=gt.length,Xe;$e<at;++$e)Xe=gt[$e],Xe.vx+=(Ct[$e]-Xe.x)*xt[$e]*Fe}function ze(){if(gt){var Fe,$e=gt.length;for(xt=new Array($e),Ct=new Array($e),Fe=0;Fe<$e;++Fe)xt[Fe]=isNaN(Ct[Fe]=+qe(gt[Fe],Fe,gt))?0:+ft(gt[Fe],Fe,gt)}}return Je.initialize=function(Fe){gt=Fe,ze()},Je.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:L(+Fe),ze(),Je):ft},Je.x=function(Fe){return arguments.length?(qe=typeof Fe=="function"?Fe:L(+Fe),ze(),Je):qe},Je}function Qe(qe){var ft=L(.1),gt,xt,Ct;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Je(Fe){for(var $e=0,at=gt.length,Xe;$e<at;++$e)Xe=gt[$e],Xe.vy+=(Ct[$e]-Xe.y)*xt[$e]*Fe}function ze(){if(gt){var Fe,$e=gt.length;for(xt=new Array($e),Ct=new Array($e),Fe=0;Fe<$e;++Fe)xt[Fe]=isNaN(Ct[Fe]=+qe(gt[Fe],Fe,gt))?0:+ft(gt[Fe],Fe,gt)}}return Je.initialize=function(Fe){gt=Fe,ze()},Je.strength=function(Fe){return arguments.length?(ft=typeof Fe=="function"?Fe:L(+Fe),ze(),Je):ft},Je.y=function(Fe){return arguments.length?(qe=typeof Fe=="function"?Fe:L(+Fe),ze(),Je):qe},Je}},60721:function(G,U,e){e.d(U,{WU:function(){return o},FF:function(){return T}});function p(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function L(M,A){if((E=(M=A?M.toExponential(A-1):M.toExponential()).indexOf("e"))<0)return null;var E,g=M.slice(0,E);return[g.length>1?g[0]+g.slice(2):g,+M.slice(E+1)]}function n(M){return M=L(Math.abs(M)),M?M[1]:NaN}function C(M,A){return function(E,g){for(var S=E.length,b=[],i=0,P=M[0],x=0;S>0&&P>0&&(x+P+1>g&&(P=Math.max(1,g-x)),b.push(E.substring(S-=P,S+P)),!((x+=P+1)>g));)P=M[i=(i+1)%M.length];return b.reverse().join(A)}}function w(M){return function(A){return A.replace(/[0-9]/g,function(E){return M[+E]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y(M){if(!(A=v.exec(M)))throw new Error("invalid format: "+M);var A;return new t({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}y.prototype=t.prototype;function t(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(M){e:for(var A=M.length,E=1,g=-1,S;E<A;++E)switch(M[E]){case".":g=S=E;break;case"0":g===0&&(g=E),S=E;break;default:if(!+M[E])break e;g>0&&(g=0);break}return g>0?M.slice(0,g)+M.slice(S+1):M}var l;function a(M,A){var E=L(M,A);if(!E)return M+"";var g=E[0],S=E[1],b=S-(l=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,i=g.length;return b===i?g:b>i?g+new Array(b-i+1).join("0"):b>0?g.slice(0,b)+"."+g.slice(b):"0."+new Array(1-b).join("0")+L(M,Math.max(0,A+b-1))[0]}function s(M,A){var E=L(M,A);if(!E)return M+"";var g=E[0],S=E[1];return S<0?"0."+new Array(-S).join("0")+g:g.length>S+1?g.slice(0,S+1)+"."+g.slice(S+1):g+new Array(S-g.length+2).join("0")}var c={"%":function(M,A){return(M*100).toFixed(A)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:p,e:function(M,A){return M.toExponential(A)},f:function(M,A){return M.toFixed(A)},g:function(M,A){return M.toPrecision(A)},o:function(M){return Math.round(M).toString(8)},p:function(M,A){return s(M*100,A)},r:s,s:a,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function u(M){return M}var m=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(M){var A=M.grouping===void 0||M.thousands===void 0?u:C(m.call(M.grouping,Number),M.thousands+""),E=M.currency===void 0?"":M.currency[0]+"",g=M.currency===void 0?"":M.currency[1]+"",S=M.decimal===void 0?".":M.decimal+"",b=M.numerals===void 0?u:w(m.call(M.numerals,String)),i=M.percent===void 0?"%":M.percent+"",P=M.minus===void 0?"-":M.minus+"",x=M.nan===void 0?"NaN":M.nan+"";function k(B){B=y(B);var I=B.fill,z=B.align,O=B.sign,F=B.symbol,N=B.zero,Q=B.width,$=B.comma,j=B.precision,ee=B.trim,oe=B.type;oe==="n"?($=!0,oe="g"):c[oe]||(j===void 0&&(j=12),ee=!0,oe="g"),(N||I==="0"&&z==="=")&&(N=!0,I="0",z="=");var Y=F==="$"?E:F==="#"&&/[boxX]/.test(oe)?"0"+oe.toLowerCase():"",V=F==="$"?g:/[%p]/.test(oe)?i:"",W=c[oe],X=/[defgprs%]/.test(oe);j=j===void 0?6:/[gprs]/.test(oe)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function re(ie){var K=Y,q=V,le,ae,he;if(oe==="c")q=W(ie)+q,ie="";else{ie=+ie;var me=ie<0||1/ie<0;if(ie=isNaN(ie)?x:W(Math.abs(ie),j),ee&&(ie=r(ie)),me&&+ie==0&&O!=="+"&&(me=!1),K=(me?O==="("?O:P:O==="-"||O==="("?"":O)+K,q=(oe==="s"?h[8+l/3]:"")+q+(me&&O==="("?")":""),X){for(le=-1,ae=ie.length;++le<ae;)if(he=ie.charCodeAt(le),48>he||he>57){q=(he===46?S+ie.slice(le+1):ie.slice(le))+q,ie=ie.slice(0,le);break}}}$&&!N&&(ie=A(ie,1/0));var Me=K.length+ie.length+q.length,xe=Me<Q?new Array(Q-Me+1).join(I):"";switch($&&N&&(ie=A(xe+ie,xe.length?Q-q.length:1/0),xe=""),z){case"<":ie=K+ie+q+xe;break;case"=":ie=K+xe+ie+q;break;case"^":ie=xe.slice(0,Me=xe.length>>1)+K+ie+q+xe.slice(Me);break;default:ie=xe+K+ie+q;break}return b(ie)}return re.toString=function(){return B+""},re}function _(B,I){var z=k((B=y(B),B.type="f",B)),O=Math.max(-8,Math.min(8,Math.floor(n(I)/3)))*3,F=Math.pow(10,-O),N=h[8+O/3];return function(Q){return z(F*Q)+N}}return{format:k,formatPrefix:_}}var f,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(M){return f=T(M),o=f.format,f.formatPrefix,f}},65704:function(G,U,e){e.r(U),e.d(U,{geoAiry:function(){return N},geoAiryRaw:function(){return F},geoAitoff:function(){return $},geoAitoffRaw:function(){return Q},geoArmadillo:function(){return ee},geoArmadilloRaw:function(){return j},geoAugust:function(){return Y},geoAugustRaw:function(){return oe},geoBaker:function(){return re},geoBakerRaw:function(){return X},geoBerghaus:function(){return q},geoBerghausRaw:function(){return K},geoBertin1953:function(){return _e},geoBertin1953Raw:function(){return Ie},geoBoggs:function(){return ut},geoBoggsRaw:function(){return He},geoBonne:function(){return gt},geoBonneRaw:function(){return ft},geoBottomley:function(){return Ct},geoBottomleyRaw:function(){return xt},geoBromley:function(){return ze},geoBromleyRaw:function(){return Je},geoChamberlin:function(){return Le},geoChamberlinAfrica:function(){return ge},geoChamberlinRaw:function(){return we},geoCollignon:function(){return it},geoCollignonRaw:function(){return ke},geoCraig:function(){return bt},geoCraigRaw:function(){return lt},geoCraster:function(){return Gt},geoCrasterRaw:function(){return Ut},geoCylindricalEqualArea:function(){return nr},geoCylindricalEqualAreaRaw:function(){return _t},geoCylindricalStereographic:function(){return zr},geoCylindricalStereographicRaw:function(){return lr},geoEckert1:function(){return jt},geoEckert1Raw:function(){return mt},geoEckert2:function(){return wr},geoEckert2Raw:function(){return Yt},geoEckert3:function(){return ct},geoEckert3Raw:function(){return dr},geoEckert4:function(){return wt},geoEckert4Raw:function(){return ot},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Mt},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return St},geoEisenlohr:function(){return Kt},geoEisenlohrRaw:function(){return Qt},geoFahey:function(){return Ve},geoFaheyRaw:function(){return Mr},geoFoucaut:function(){return Ft},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return hr},geoGingery:function(){return Kr},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return xn},geoGinzburg4Raw:function(){return Br},geoGinzburg5:function(){return Dn},geoGinzburg5Raw:function(){return jr},geoGinzburg6:function(){return yr},geoGinzburg6Raw:function(){return In},geoGinzburg8:function(){return kr},geoGinzburg8Raw:function(){return cr},geoGinzburg9:function(){return sn},geoGinzburg9Raw:function(){return Or},geoGringorten:function(){return Kn},geoGringortenQuincuncial:function(){return Lc},geoGringortenRaw:function(){return bn},geoGuyou:function(){return vn},geoGuyouRaw:function(){return Rr},geoHammer:function(){return me},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return En},geoHealpix:function(){return un},geoHealpixRaw:function(){return nn},geoHill:function(){return Er},geoHillRaw:function(){return Pr},geoHomolosine:function(){return zn},geoHomolosineRaw:function(){return dn},geoHufnagel:function(){return sa},geoHufnagelRaw:function(){return Qn},geoHyperelliptical:function(){return Wi},geoHyperellipticalRaw:function(){return ha},geoInterrupt:function(){return fo},geoInterruptedBoggs:function(){return Qa},geoInterruptedHomolosine:function(){return il},geoInterruptedMollweide:function(){return xo},geoInterruptedMollweideHemispheres:function(){return _l},geoInterruptedQuarticAuthalic:function(){return ju},geoInterruptedSinuMollweide:function(){return Fl},geoInterruptedSinusoidal:function(){return Ui},geoKavrayskiy7:function(){return io},geoKavrayskiy7Raw:function(){return Co},geoLagrange:function(){return Jo},geoLagrangeRaw:function(){return Io},geoLarrivee:function(){return Ef},geoLarriveeRaw:function(){return Ki},geoLaskowski:function(){return Ji},geoLaskowskiRaw:function(){return Qo},geoLittrow:function(){return vs},geoLittrowRaw:function(){return Vu},geoLoximuthal:function(){return Gu},geoLoximuthalRaw:function(){return $o},geoMiller:function(){return hc},geoMillerRaw:function(){return Wu},geoModifiedStereographic:function(){return Gs},geoModifiedStereographicAlaska:function(){return yc},geoModifiedStereographicGs48:function(){return Cf},geoModifiedStereographicGs50:function(){return mc},geoModifiedStereographicLee:function(){return Zu},geoModifiedStereographicMiller:function(){return xc},geoModifiedStereographicRaw:function(){return kl},geoMollweide:function(){return Be},geoMollweideRaw:function(){return Ae},geoMtFlatPolarParabolic:function(){return bc},geoMtFlatPolarParabolicRaw:function(){return fu},geoMtFlatPolarQuartic:function(){return Lf},geoMtFlatPolarQuarticRaw:function(){return ds},geoMtFlatPolarSinusoidal:function(){return wc},geoMtFlatPolarSinusoidalRaw:function(){return Xu},geoNaturalEarth:function(){return _o.Z},geoNaturalEarth2:function(){return zl},geoNaturalEarth2Raw:function(){return Ys},geoNaturalEarthRaw:function(){return _o.K},geoNellHammer:function(){return qo},geoNellHammerRaw:function(){return sl},geoNicolosi:function(){return Es},geoNicolosiRaw:function(){return ll},geoPatterson:function(){return Tc},geoPattersonRaw:function(){return hu},geoPeirceQuincuncial:function(){return _f},geoPierceQuincuncial:function(){return _f},geoPolyconic:function(){return Ac},geoPolyconicRaw:function(){return Ju},geoPolyhedral:function(){return fi},geoPolyhedralButterfly:function(){return gs},geoPolyhedralCollignon:function(){return Ls},geoPolyhedralWaterman:function(){return Ps},geoProject:function(){return Ec},geoQuantize:function(){return Ff},geoQuincuncial:function(){return yu},geoRectangularPolyconic:function(){return Rs},geoRectangularPolyconicRaw:function(){return rf},geoRobinson:function(){return nf},geoRobinsonRaw:function(){return ts},geoSatellite:function(){return mu},geoSatelliteRaw:function(){return js},geoSinuMollweide:function(){return Gn},geoSinuMollweideRaw:function(){return Fn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return Qe},geoStitch:function(){return Qs},geoTimes:function(){return Lo},geoTimesRaw:function(){return To},geoTwoPointAzimuthal:function(){return Tu},geoTwoPointAzimuthalRaw:function(){return Of},geoTwoPointAzimuthalUsa:function(){return yl},geoTwoPointEquidistant:function(){return lf},geoTwoPointEquidistantRaw:function(){return Bf},geoTwoPointEquidistantUsa:function(){return Go},geoVanDerGrinten:function(){return Wl},geoVanDerGrinten2:function(){return Rc},geoVanDerGrinten2Raw:function(){return ws},geoVanDerGrinten3:function(){return Au},geoVanDerGrinten3Raw:function(){return uf},geoVanDerGrinten4:function(){return Nf},geoVanDerGrinten4Raw:function(){return oo},geoVanDerGrintenRaw:function(){return _s},geoWagner:function(){return Zl},geoWagner4:function(){return cf},geoWagner4Raw:function(){return ff},geoWagner6:function(){return Su},geoWagner6Raw:function(){return qs},geoWagner7:function(){return Fs},geoWagnerRaw:function(){return rs},geoWiechel:function(){return Hf},geoWiechelRaw:function(){return Xl},geoWinkel3:function(){return Vf},geoWinkel3Raw:function(){return jl}});var p=e(15002),L=Math.abs,n=Math.atan,C=Math.atan2,w=Math.cos,v=Math.exp,y=Math.floor,t=Math.log,r=Math.max,l=Math.min,a=Math.pow,s=Math.round,c=Math.sign||function(Ye){return Ye>0?1:Ye<0?-1:0},u=Math.sin,m=Math.tan,h=1e-6,T=1e-12,f=Math.PI,o=f/2,d=f/4,M=Math.SQRT1_2,A=k(2),E=k(f),g=f*2,S=180/f,b=f/180;function i(Ye){return Ye?Ye/Math.sin(Ye):1}function P(Ye){return Ye>1?o:Ye<-1?-o:Math.asin(Ye)}function x(Ye){return Ye>1?0:Ye<-1?f:Math.acos(Ye)}function k(Ye){return Ye>0?Math.sqrt(Ye):0}function _(Ye){return Ye=v(2*Ye),(Ye-1)/(Ye+1)}function B(Ye){return(v(Ye)-v(-Ye))/2}function I(Ye){return(v(Ye)+v(-Ye))/2}function z(Ye){return t(Ye+k(Ye*Ye+1))}function O(Ye){return t(Ye+k(Ye*Ye-1))}function F(Ye){var rt=m(Ye/2),dt=2*t(w(Ye/2))/(rt*rt);function yt(It,Lt){var zt=w(It),fr=w(Lt),gr=u(Lt),ar=fr*zt,Ar=-((1-ar?t((1+ar)/2)/(1-ar):-.5)+dt/(1+ar));return[Ar*fr*u(It),Ar*gr]}return yt.invert=function(It,Lt){var zt=k(It*It+Lt*Lt),fr=-Ye/2,gr=50,ar;if(!zt)return[0,0];do{var Ar=fr/2,Lr=w(Ar),Wr=u(Ar),Jr=Wr/Lr,pn=-t(L(Lr));fr-=ar=(2/Jr*pn-dt*Jr-zt)/(-pn/(Wr*Wr)+1-dt/(2*Lr*Lr))*(Lr<0?.7:1)}while(L(ar)>h&&--gr>0);var wn=u(fr);return[C(It*wn,zt*w(fr)),P(Lt*wn/zt)]},yt}function N(){var Ye=o,rt=(0,p.r)(F),dt=rt(Ye);return dt.radius=function(yt){return arguments.length?rt(Ye=yt*b):Ye*S},dt.scale(179.976).clipAngle(147)}function Q(Ye,rt){var dt=w(rt),yt=i(x(dt*w(Ye/=2)));return[2*dt*u(Ye)*yt,u(rt)*yt]}Q.invert=function(Ye,rt){if(!(Ye*Ye+4*rt*rt>f*f+h)){var dt=Ye,yt=rt,It=25;do{var Lt=u(dt),zt=u(dt/2),fr=w(dt/2),gr=u(yt),ar=w(yt),Ar=u(2*yt),Lr=gr*gr,Wr=ar*ar,Jr=zt*zt,pn=1-Wr*fr*fr,wn=pn?x(ar*fr)*k(Pn=1/pn):Pn=0,Pn,ca=2*wn*ar*zt-Ye,Ma=wn*gr-rt,Ca=Pn*(Wr*Jr+wn*ar*fr*Lr),La=Pn*(.5*Lt*Ar-wn*2*gr*zt),Ra=Pn*.25*(Ar*zt-wn*gr*Wr*Lt),ri=Pn*(Lr*fr+wn*Jr*ar),Li=La*Ra-ri*Ca;if(!Li)break;var ci=(Ma*La-ca*ri)/Li,se=(ca*Ra-Ma*Ca)/Li;dt-=ci,yt-=se}while((L(ci)>h||L(se)>h)&&--It>0);return[dt,yt]}};function $(){return(0,p.Z)(Q).scale(152.63)}function j(Ye){var rt=u(Ye),dt=w(Ye),yt=Ye>=0?1:-1,It=m(yt*Ye),Lt=(1+rt-dt)/2;function zt(fr,gr){var ar=w(gr),Ar=w(fr/=2);return[(1+ar)*u(fr),(yt*gr>-C(Ar,It)-.001?0:-yt*10)+Lt+u(gr)*dt-(1+ar)*rt*Ar]}return zt.invert=function(fr,gr){var ar=0,Ar=0,Lr=50;do{var Wr=w(ar),Jr=u(ar),pn=w(Ar),wn=u(Ar),Pn=1+pn,ca=Pn*Jr-fr,Ma=Lt+wn*dt-Pn*rt*Wr-gr,Ca=Pn*Wr/2,La=-Jr*wn,Ra=rt*Pn*Jr/2,ri=dt*pn+rt*Wr*wn,Li=La*Ra-ri*Ca,ci=(Ma*La-ca*ri)/Li/2,se=(ca*Ra-Ma*Ca)/Li;L(se)>2&&(se/=2),ar-=ci,Ar-=se}while((L(ci)>h||L(se)>h)&&--Lr>0);return yt*Ar>-C(w(ar),It)-.001?[ar*2,Ar]:null},zt}function ee(){var Ye=20*b,rt=Ye>=0?1:-1,dt=m(rt*Ye),yt=(0,p.r)(j),It=yt(Ye),Lt=It.stream;return It.parallel=function(zt){return arguments.length?(dt=m((rt=(Ye=zt*b)>=0?1:-1)*Ye),yt(Ye)):Ye*S},It.stream=function(zt){var fr=It.rotate(),gr=Lt(zt),ar=(It.rotate([0,0]),Lt(zt)),Ar=It.precision();return It.rotate(fr),gr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Lr=rt*-180;rt*Lr<180;Lr+=rt*90)ar.point(Lr,rt*90);if(Ye)for(;rt*(Lr-=3*rt*Ar)>=-180;)ar.point(Lr,rt*-C(w(Lr*b/2),dt)*S);ar.lineEnd(),ar.polygonEnd()},gr},It.scale(218.695).center([0,28.0974])}function oe(Ye,rt){var dt=m(rt/2),yt=k(1-dt*dt),It=1+yt*w(Ye/=2),Lt=u(Ye)*yt/It,zt=dt/It,fr=Lt*Lt,gr=zt*zt;return[1.3333333333333333*Lt*(3+fr-3*gr),1.3333333333333333*zt*(3+3*fr-gr)]}oe.invert=function(Ye,rt){if(Ye*=.375,rt*=.375,!Ye&&L(rt)>1)return null;var dt=Ye*Ye,yt=rt*rt,It=1+dt+yt,Lt=k((It-k(It*It-4*rt*rt))/2),zt=P(Lt)/3,fr=Lt?O(L(rt/Lt))/3:z(L(Ye))/3,gr=w(zt),ar=I(fr),Ar=ar*ar-gr*gr;return[c(Ye)*2*C(B(fr)*gr,.25-Ar),c(rt)*2*C(ar*u(zt),.25+Ar)]};function Y(){return(0,p.Z)(oe).scale(66.1603)}var V=k(8),W=t(1+A);function X(Ye,rt){var dt=L(rt);return dt<d?[Ye,t(m(d+rt/2))]:[Ye*w(dt)*(2*A-1/u(dt)),c(rt)*(2*A*(dt-d)-t(m(dt/2)))]}X.invert=function(Ye,rt){if((Lt=L(rt))<W)return[Ye,2*n(v(rt))-o];var dt=d,yt=25,It,Lt;do{var zt=w(dt/2),fr=m(dt/2);dt-=It=(V*(dt-d)-t(fr)-Lt)/(V-zt*zt/(2*fr))}while(L(It)>T&&--yt>0);return[Ye/(w(dt)*(V-1/u(dt))),c(rt)*dt]};function re(){return(0,p.Z)(X).scale(112.314)}var ie=e(17889);function K(Ye){var rt=2*f/Ye;function dt(yt,It){var Lt=(0,ie.N)(yt,It);if(L(yt)>o){var zt=C(Lt[1],Lt[0]),fr=k(Lt[0]*Lt[0]+Lt[1]*Lt[1]),gr=rt*s((zt-o)/rt)+o,ar=C(u(zt-=gr),2-w(zt));zt=gr+P(f/fr*u(ar))-ar,Lt[0]=fr*w(zt),Lt[1]=fr*u(zt)}return Lt}return dt.invert=function(yt,It){var Lt=k(yt*yt+It*It);if(Lt>o){var zt=C(It,yt),fr=rt*s((zt-o)/rt)+o,gr=zt>fr?-1:1,ar=Lt*w(fr-zt),Ar=1/m(gr*x((ar-f)/k(f*(f-2*ar)+Lt*Lt)));zt=fr+2*n((Ar+gr*k(Ar*Ar-3))/3),yt=Lt*w(zt),It=Lt*u(zt)}return ie.N.invert(yt,It)},dt}function q(){var Ye=5,rt=(0,p.r)(K),dt=rt(Ye),yt=dt.stream,It=.01,Lt=-w(It*b),zt=u(It*b);return dt.lobes=function(fr){return arguments.length?rt(Ye=+fr):Ye},dt.stream=function(fr){var gr=dt.rotate(),ar=yt(fr),Ar=(dt.rotate([0,0]),yt(fr));return dt.rotate(gr),ar.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Lr=0,Wr=360/Ye,Jr=2*f/Ye,pn=90-180/Ye,wn=o;Lr<Ye;++Lr,pn-=Wr,wn-=Jr)Ar.point(C(zt*w(wn),Lt)*S,P(zt*u(wn))*S),pn<-90?(Ar.point(-90,-180-pn-It),Ar.point(-90,-180-pn+It)):(Ar.point(90,pn+It),Ar.point(90,pn-It));Ar.lineEnd(),Ar.polygonEnd()},ar},dt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(12956);function ae(Ye,rt){if(arguments.length<2&&(rt=Ye),rt===1)return le.l;if(rt===1/0)return he;function dt(yt,It){var Lt=(0,le.l)(yt/rt,It);return Lt[0]*=Ye,Lt}return dt.invert=function(yt,It){var Lt=le.l.invert(yt/Ye,It);return Lt[0]*=rt,Lt},dt}function he(Ye,rt){return[Ye*w(rt)/w(rt/=2),2*u(rt)]}he.invert=function(Ye,rt){var dt=2*P(rt/2);return[Ye*w(dt/2)/w(dt),dt]};function me(){var Ye=2,rt=(0,p.r)(ae),dt=rt(Ye);return dt.coefficient=function(yt){return arguments.length?rt(Ye=+yt):Ye},dt.scale(169.529)}function Me(Ye,rt,dt){var yt=100,It,Lt,zt;dt=dt===void 0?0:+dt,rt=+rt;do Lt=Ye(dt),zt=Ye(dt+h),Lt===zt&&(zt=Lt+h),dt-=It=-1*h*(Lt-rt)/(Lt-zt);while(yt-- >0&&L(It)>h);return yt<0?NaN:dt}function xe(Ye,rt,dt){return rt===void 0&&(rt=40),dt===void 0&&(dt=T),function(yt,It,Lt,zt){var fr,gr,ar;Lt=Lt===void 0?0:+Lt,zt=zt===void 0?0:+zt;for(var Ar=0;Ar<rt;Ar++){var Lr=Ye(Lt,zt),Wr=Lr[0]-yt,Jr=Lr[1]-It;if(L(Wr)<dt&&L(Jr)<dt)break;var pn=Wr*Wr+Jr*Jr;if(pn>fr){Lt-=gr/=2,zt-=ar/=2;continue}fr=pn;var wn=(Lt>0?-1:1)*dt,Pn=(zt>0?-1:1)*dt,ca=Ye(Lt+wn,zt),Ma=Ye(Lt,zt+Pn),Ca=(ca[0]-Lr[0])/wn,La=(ca[1]-Lr[1])/wn,Ra=(Ma[0]-Lr[0])/Pn,ri=(Ma[1]-Lr[1])/Pn,Li=ri*Ca-La*Ra,ci=(L(Li)<.5?.5:1)/Li;if(gr=(Jr*Ra-Wr*ri)*ci,ar=(Wr*La-Jr*Ca)*ci,Lt+=gr,zt+=ar,L(gr)<dt&&L(ar)<dt)break}return[Lt,zt]}}function Ie(){var Ye=ae(1.68,2),rt=1.4,dt=12;function yt(It,Lt){if(It+Lt<-rt){var zt=(It-Lt+1.6)*(It+Lt+rt)/8;It+=zt,Lt-=.8*zt*u(Lt+f/2)}var fr=Ye(It,Lt),gr=(1-w(It*Lt))/dt;return fr[1]<0&&(fr[0]*=1+gr),fr[1]>0&&(fr[1]*=1+gr/1.5*fr[0]*fr[0]),fr}return yt.invert=xe(yt),yt}function _e(){return(0,p.Z)(Ie()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Te(Ye,rt){var dt=Ye*u(rt),yt=30,It;do rt-=It=(rt+u(rt)-dt)/(1+w(rt));while(L(It)>h&&--yt>0);return rt/2}function ye(Ye,rt,dt){function yt(It,Lt){return[Ye*It*w(Lt=Te(dt,Lt)),rt*u(Lt)]}return yt.invert=function(It,Lt){return Lt=P(Lt/rt),[It/(Ye*w(Lt)),P((2*Lt+u(2*Lt))/dt)]},yt}var Ae=ye(A/o,A,f);function Be(){return(0,p.Z)(Ae).scale(169.529)}var Ue=2.00276,De=1.11072;function He(Ye,rt){var dt=Te(f,rt);return[Ue*Ye/(1/w(rt)+De/w(dt)),(rt+A*u(dt))/Ue]}He.invert=function(Ye,rt){var dt=Ue*rt,yt=rt<0?-d:d,It=25,Lt,zt;do zt=dt-A*u(yt),yt-=Lt=(u(2*yt)+2*yt-f*u(zt))/(2*w(2*yt)+2+f*w(zt)*A*w(yt));while(L(Lt)>h&&--It>0);return zt=dt-A*u(yt),[Ye*(1/w(zt)+De/w(yt))/Ue,zt]};function ut(){return(0,p.Z)(He).scale(160.857)}function et(Ye){var rt=0,dt=(0,p.r)(Ye),yt=dt(rt);return yt.parallel=function(It){return arguments.length?dt(rt=It*b):rt*S},yt}function Qe(Ye,rt){return[Ye*w(rt),rt]}Qe.invert=function(Ye,rt){return[Ye/w(rt),rt]};function qe(){return(0,p.Z)(Qe).scale(152.63)}function ft(Ye){if(!Ye)return Qe;var rt=1/m(Ye);function dt(yt,It){var Lt=rt+Ye-It,zt=Lt&&yt*w(It)/Lt;return[Lt*u(zt),rt-Lt*w(zt)]}return dt.invert=function(yt,It){var Lt=k(yt*yt+(It=rt-It)*It),zt=rt+Ye-Lt;return[Lt/w(zt)*C(yt,It),zt]},dt}function gt(){return et(ft).scale(123.082).center([0,26.1441]).parallel(45)}function xt(Ye){function rt(dt,yt){var It=o-yt,Lt=It&&dt*Ye*u(It)/It;return[It*u(Lt)/Ye,o-It*w(Lt)]}return rt.invert=function(dt,yt){var It=dt*Ye,Lt=o-yt,zt=k(It*It+Lt*Lt),fr=C(It,Lt);return[(zt?zt/u(zt):1)*fr/Ye,o-zt]},rt}function Ct(){var Ye=.5,rt=(0,p.r)(xt),dt=rt(Ye);return dt.fraction=function(yt){return arguments.length?rt(Ye=+yt):Ye},dt.scale(158.837)}var Je=ye(1,4/f,f);function ze(){return(0,p.Z)(Je).scale(152.63)}var Fe=e(66624),$e=e(49386);function at(Ye,rt,dt,yt,It,Lt){var zt=w(Lt),fr;if(L(Ye)>1||L(Lt)>1)fr=x(dt*It+rt*yt*zt);else{var gr=u(Ye/2),ar=u(Lt/2);fr=2*P(k(gr*gr+rt*yt*ar*ar))}return L(fr)>h?[fr,C(yt*u(Lt),rt*It-dt*yt*zt)]:[0,0]}function Xe(Ye,rt,dt){return x((Ye*Ye+rt*rt-dt*dt)/(2*Ye*rt))}function Pe(Ye){return Ye-2*f*y((Ye+f)/(2*f))}function we(Ye,rt,dt){for(var yt=[[Ye[0],Ye[1],u(Ye[1]),w(Ye[1])],[rt[0],rt[1],u(rt[1]),w(rt[1])],[dt[0],dt[1],u(dt[1]),w(dt[1])]],It=yt[2],Lt,zt=0;zt<3;++zt,It=Lt)Lt=yt[zt],It.v=at(Lt[1]-It[1],It[3],It[2],Lt[3],Lt[2],Lt[0]-It[0]),It.point=[0,0];var fr=Xe(yt[0].v[0],yt[2].v[0],yt[1].v[0]),gr=Xe(yt[0].v[0],yt[1].v[0],yt[2].v[0]),ar=f-fr;yt[2].point[1]=0,yt[0].point[0]=-(yt[1].point[0]=yt[0].v[0]/2);var Ar=[yt[2].point[0]=yt[0].point[0]+yt[2].v[0]*w(fr),2*(yt[0].point[1]=yt[1].point[1]=yt[2].v[0]*u(fr))];function Lr(Wr,Jr){var pn=u(Jr),wn=w(Jr),Pn=new Array(3),ca;for(ca=0;ca<3;++ca){var Ma=yt[ca];if(Pn[ca]=at(Jr-Ma[1],Ma[3],Ma[2],wn,pn,Wr-Ma[0]),!Pn[ca][0])return Ma.point;Pn[ca][1]=Pe(Pn[ca][1]-Ma.v[1])}var Ca=Ar.slice();for(ca=0;ca<3;++ca){var La=ca==2?0:ca+1,Ra=Xe(yt[ca].v[0],Pn[ca][0],Pn[La][0]);Pn[ca][1]<0&&(Ra=-Ra),ca?ca==1?(Ra=gr-Ra,Ca[0]-=Pn[ca][0]*w(Ra),Ca[1]-=Pn[ca][0]*u(Ra)):(Ra=ar-Ra,Ca[0]+=Pn[ca][0]*w(Ra),Ca[1]+=Pn[ca][0]*u(Ra)):(Ca[0]+=Pn[ca][0]*w(Ra),Ca[1]-=Pn[ca][0]*u(Ra))}return Ca[0]/=3,Ca[1]/=3,Ca}return Lr}function ue(Ye){return Ye[0]*=b,Ye[1]*=b,Ye}function ge(){return Le([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Le(Ye,rt,dt){var yt=(0,Fe.Z)({type:"MultiPoint",coordinates:[Ye,rt,dt]}),It=[-yt[0],-yt[1]],Lt=(0,$e.Z)(It),zt=we(ue(Lt(Ye)),ue(Lt(rt)),ue(Lt(dt)));zt.invert=xe(zt);var fr=(0,p.Z)(zt).rotate(It),gr=fr.center;return delete fr.rotate,fr.center=function(ar){return arguments.length?gr(Lt(ar)):Lt.invert(gr())},fr.clipAngle(90)}function ke(Ye,rt){var dt=k(1-u(rt));return[2/E*Ye*dt,E*(1-dt)]}ke.invert=function(Ye,rt){var dt=(dt=rt/E-1)*dt;return[dt>0?Ye*k(f/dt)/2:0,P(1-dt)]};function it(){return(0,p.Z)(ke).scale(95.6464).center([0,30])}function lt(Ye){var rt=m(Ye);function dt(yt,It){return[yt,(yt?yt/u(yt):1)*(u(It)*w(yt)-rt*w(It))]}return dt.invert=rt?function(yt,It){yt&&(It*=u(yt)/yt);var Lt=w(yt);return[yt,2*C(k(Lt*Lt+rt*rt-It*It)-Lt,rt-It)]}:function(yt,It){return[yt,P(yt?It*m(yt)/yt:It)]},dt}function bt(){return et(lt).scale(249.828).clipAngle(90)}var Rt=k(3);function Ut(Ye,rt){return[Rt*Ye*(2*w(2*rt/3)-1)/E,Rt*E*u(rt/3)]}Ut.invert=function(Ye,rt){var dt=3*P(rt/(Rt*E));return[E*Ye/(Rt*(2*w(2*dt/3)-1)),dt]};function Gt(){return(0,p.Z)(Ut).scale(156.19)}function _t(Ye){var rt=w(Ye);function dt(yt,It){return[yt*rt,u(It)/rt]}return dt.invert=function(yt,It){return[yt/rt,P(It*rt)]},dt}function nr(){return et(_t).parallel(38.58).scale(195.044)}function lr(Ye){var rt=w(Ye);function dt(yt,It){return[yt*rt,(1+rt)*m(It/2)]}return dt.invert=function(yt,It){return[yt/rt,n(It/(1+rt))*2]},dt}function zr(){return et(lr).scale(124.75)}function mt(Ye,rt){var dt=k(8/(3*f));return[dt*Ye*(1-L(rt)/f),dt*rt]}mt.invert=function(Ye,rt){var dt=k(8/(3*f)),yt=rt/dt;return[Ye/(dt*(1-L(yt)/f)),yt]};function jt(){return(0,p.Z)(mt).scale(165.664)}function Yt(Ye,rt){var dt=k(4-3*u(L(rt)));return[2/k(6*f)*Ye*dt,c(rt)*k(2*f/3)*(2-dt)]}Yt.invert=function(Ye,rt){var dt=2-L(rt)/k(2*f/3);return[Ye*k(6*f)/(2*dt),c(rt)*P((4-dt*dt)/3)]};function wr(){return(0,p.Z)(Yt).scale(165.664)}function dr(Ye,rt){var dt=k(f*(4+f));return[2/dt*Ye*(1+k(1-4*rt*rt/(f*f))),4/dt*rt]}dr.invert=function(Ye,rt){var dt=k(f*(4+f))/2;return[Ye*dt/(1+k(1-rt*rt*(4+f)/(4*f))),rt*dt/2]};function ct(){return(0,p.Z)(dr).scale(180.739)}function ot(Ye,rt){var dt=(2+o)*u(rt);rt/=2;for(var yt=0,It=1/0;yt<10&&L(It)>h;yt++){var Lt=w(rt);rt-=It=(rt+u(rt)*(Lt+2)-dt)/(2*Lt*(1+Lt))}return[2/k(f*(4+f))*Ye*(1+w(rt)),2*k(f/(4+f))*u(rt)]}ot.invert=function(Ye,rt){var dt=rt*k((4+f)/f)/2,yt=P(dt),It=w(yt);return[Ye/(2/k(f*(4+f))*(1+It)),P((yt+dt*(It+2))/(2+o))]};function wt(){return(0,p.Z)(ot).scale(180.739)}function Mt(Ye,rt){return[Ye*(1+w(rt))/k(2+f),2*rt/k(2+f)]}Mt.invert=function(Ye,rt){var dt=k(2+f),yt=rt*dt/2;return[dt*Ye/(1+w(yt)),yt]};function Dt(){return(0,p.Z)(Mt).scale(173.044)}function St(Ye,rt){for(var dt=(1+o)*u(rt),yt=0,It=1/0;yt<10&&L(It)>h;yt++)rt-=It=(rt+u(rt)-dt)/(1+w(rt));return dt=k(2+f),[Ye*(1+w(rt))/dt,2*rt/dt]}St.invert=function(Ye,rt){var dt=1+o,yt=k(dt/2);return[Ye*2*yt/(1+w(rt*=yt)),P((rt+u(rt))/dt)]};function Ot(){return(0,p.Z)(St).scale(173.044)}var Vt=3+2*A;function Qt(Ye,rt){var dt=u(Ye/=2),yt=w(Ye),It=k(w(rt)),Lt=w(rt/=2),zt=u(rt)/(Lt+A*yt*It),fr=k(2/(1+zt*zt)),gr=k((A*Lt+(yt+dt)*It)/(A*Lt+(yt-dt)*It));return[Vt*(fr*(gr-1/gr)-2*t(gr)),Vt*(fr*zt*(gr+1/gr)-2*n(zt))]}Qt.invert=function(Ye,rt){if(!(Lt=oe.invert(Ye/1.2,rt*1.065)))return null;var dt=Lt[0],yt=Lt[1],It=20,Lt;Ye/=Vt,rt/=Vt;do{var zt=dt/2,fr=yt/2,gr=u(zt),ar=w(zt),Ar=u(fr),Lr=w(fr),Wr=w(yt),Jr=k(Wr),pn=Ar/(Lr+A*ar*Jr),wn=pn*pn,Pn=k(2/(1+wn)),ca=A*Lr+(ar+gr)*Jr,Ma=A*Lr+(ar-gr)*Jr,Ca=ca/Ma,La=k(Ca),Ra=La-1/La,ri=La+1/La,Li=Pn*Ra-2*t(La)-Ye,ci=Pn*pn*ri-2*n(pn)-rt,se=Ar&&M*Jr*gr*wn/Ar,Se=(A*ar*Lr+Jr)/(2*(Lr+A*ar*Jr)*(Lr+A*ar*Jr)*Jr),Oe=-.5*pn*Pn*Pn*Pn,Ke=Oe*se,tt=Oe*Se,nt=(nt=2*Lr+A*Jr*(ar-gr))*nt*La,Pt=(A*ar*Lr*Jr+Wr)/nt,vt=-(A*gr*Ar)/(Jr*nt),Ht=Ra*Ke-2*Pt/La+Pn*(Pt+Pt/Ca),qt=Ra*tt-2*vt/La+Pn*(vt+vt/Ca),er=pn*ri*Ke-2*se/(1+wn)+Pn*ri*se+Pn*pn*(Pt-Pt/Ca),Cr=pn*ri*tt-2*Se/(1+wn)+Pn*ri*Se+Pn*pn*(vt-vt/Ca),Sr=qt*er-Cr*Ht;if(!Sr)break;var Xr=(ci*qt-Li*Cr)/Sr,qr=(Li*er-ci*Ht)/Sr;dt-=Xr,yt=r(-o,l(o,yt-qr))}while((L(Xr)>h||L(qr)>h)&&--It>0);return L(L(yt)-o)<h?[0,yt]:It&&[dt,yt]};function Kt(){return(0,p.Z)(Qt).scale(62.5271)}var or=w(35*b);function Mr(Ye,rt){var dt=m(rt/2);return[Ye*or*k(1-dt*dt),(1+or)*dt]}Mr.invert=function(Ye,rt){var dt=rt/(1+or);return[Ye&&Ye/(or*k(1-dt*dt)),2*n(dt)]};function Ve(){return(0,p.Z)(Mr).scale(137.152)}function Ge(Ye,rt){var dt=rt/2,yt=w(dt);return[2*Ye/E*w(rt)*yt*yt,E*m(dt)]}Ge.invert=function(Ye,rt){var dt=n(rt/E),yt=w(dt),It=2*dt;return[Ye*E/2/(w(It)*yt*yt),It]};function Ft(){return(0,p.Z)(Ge).scale(135.264)}function kt(Ye){var rt=1-Ye,dt=Lt(f,0)[0]-Lt(-f,0)[0],yt=Lt(0,o)[1]-Lt(0,-o)[1],It=k(2*yt/dt);function Lt(gr,ar){var Ar=w(ar),Lr=u(ar);return[Ar/(rt+Ye*Ar)*gr,rt*ar+Ye*Lr]}function zt(gr,ar){var Ar=Lt(gr,ar);return[Ar[0]*It,Ar[1]/It]}function fr(gr){return zt(0,gr)[1]}return zt.invert=function(gr,ar){var Ar=Me(fr,ar),Lr=gr/It*(Ye+rt/w(Ar));return[Lr,Ar]},zt}function Zt(){var Ye=.5,rt=(0,p.r)(kt),dt=rt(Ye);return dt.alpha=function(yt){return arguments.length?rt(Ye=+yt):Ye},dt.scale(168.725)}var tr=e(57962),sr=e(97492);function rr(Ye){return[Ye[0]/2,P(m(Ye[1]/2*b))*S]}function Nt(Ye){return[Ye[0]*2,2*n(u(Ye[1]*b))*S]}function hr(Ye){Ye==null&&(Ye=tr.Z);var rt=Ye(),dt=(0,sr.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function yt(Lt){return rt(rr(Lt))}rt.invert&&(yt.invert=function(Lt){return Nt(rt.invert(Lt))}),yt.stream=function(Lt){var zt=rt.stream(Lt),fr=dt.stream({point:function(gr,ar){zt.point(gr/2,P(m(-ar/2*b))*S)},lineStart:function(){zt.lineStart()},lineEnd:function(){zt.lineEnd()},polygonStart:function(){zt.polygonStart()},polygonEnd:function(){zt.polygonEnd()}});return fr.sphere=zt.sphere,fr};function It(Lt){yt[Lt]=function(){return arguments.length?(rt[Lt].apply(rt,arguments),yt):rt[Lt]()}}return yt.rotate=function(Lt){return arguments.length?(dt.rotate(Lt),yt):dt.rotate()},yt.center=function(Lt){return arguments.length?(rt.center(rr(Lt)),yt):Nt(rt.center())},It("angle"),It("clipAngle"),It("clipExtent"),It("fitExtent"),It("fitHeight"),It("fitSize"),It("fitWidth"),It("scale"),It("translate"),It("precision"),yt.scale(249.5)}function pr(Ye,rt){var dt=2*f/rt,yt=Ye*Ye;function It(Lt,zt){var fr=(0,ie.N)(Lt,zt),gr=fr[0],ar=fr[1],Ar=gr*gr+ar*ar;if(Ar>yt){var Lr=k(Ar),Wr=C(ar,gr),Jr=dt*s(Wr/dt),pn=Wr-Jr,wn=Ye*w(pn),Pn=(Ye*u(pn)-pn*u(wn))/(o-wn),ca=br(pn,Pn),Ma=(f-Ye)/vr(ca,wn,f);gr=Lr;var Ca=50,La;do gr-=La=(Ye+vr(ca,wn,gr)*Ma-Lr)/(ca(gr)*Ma);while(L(La)>h&&--Ca>0);ar=pn*u(gr),gr<o&&(ar-=Pn*(gr-o));var Ra=u(Jr),ri=w(Jr);fr[0]=gr*ri-ar*Ra,fr[1]=gr*Ra+ar*ri}return fr}return It.invert=function(Lt,zt){var fr=Lt*Lt+zt*zt;if(fr>yt){var gr=k(fr),ar=C(zt,Lt),Ar=dt*s(ar/dt),Lr=ar-Ar;Lt=gr*w(Lr),zt=gr*u(Lr);for(var Wr=Lt-o,Jr=u(Lt),pn=zt/Jr,wn=Lt<o?1/0:0,Pn=10;;){var ca=Ye*u(pn),Ma=Ye*w(pn),Ca=u(Ma),La=o-Ma,Ra=(ca-pn*Ca)/La,ri=br(pn,Ra);if(L(wn)<T||!--Pn)break;pn-=wn=(pn*Jr-Ra*Wr-zt)/(Jr-Wr*2*(La*(Ma+pn*ca*w(Ma)-Ca)-ca*(ca-pn*Ca))/(La*La))}gr=Ye+vr(ri,Ma,Lt)*(f-Ye)/vr(ri,Ma,f),ar=Ar+pn,Lt=gr*w(ar),zt=gr*u(ar)}return ie.N.invert(Lt,zt)},It}function br(Ye,rt){return function(dt){var yt=Ye*w(dt);return dt<o&&(yt-=rt),k(1+yt*yt)}}function vr(Ye,rt,dt){for(var yt=50,It=(dt-rt)/yt,Lt=Ye(rt)+Ye(dt),zt=1,fr=rt;zt<yt;++zt)Lt+=2*Ye(fr+=It);return Lt*.5*It}function Kr(){var Ye=6,rt=30*b,dt=w(rt),yt=u(rt),It=(0,p.r)(pr),Lt=It(rt,Ye),zt=Lt.stream,fr=.01,gr=-w(fr*b),ar=u(fr*b);return Lt.radius=function(Ar){return arguments.length?(dt=w(rt=Ar*b),yt=u(rt),It(rt,Ye)):rt*S},Lt.lobes=function(Ar){return arguments.length?It(rt,Ye=+Ar):Ye},Lt.stream=function(Ar){var Lr=Lt.rotate(),Wr=zt(Ar),Jr=(Lt.rotate([0,0]),zt(Ar));return Lt.rotate(Lr),Wr.sphere=function(){Jr.polygonStart(),Jr.lineStart();for(var pn=0,wn=2*f/Ye,Pn=0;pn<Ye;++pn,Pn-=wn)Jr.point(C(ar*w(Pn),gr)*S,P(ar*u(Pn))*S),Jr.point(C(yt*w(Pn-wn/2),dt)*S,P(yt*u(Pn-wn/2))*S);Jr.lineEnd(),Jr.polygonEnd()},Wr},Lt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Fr(Ye,rt,dt,yt,It,Lt,zt,fr){arguments.length<8&&(fr=0);function gr(ar,Ar){if(!Ar)return[Ye*ar/f,0];var Lr=Ar*Ar,Wr=Ye+Lr*(rt+Lr*(dt+Lr*yt)),Jr=Ar*(It-1+Lr*(Lt-fr+Lr*zt)),pn=(Wr*Wr+Jr*Jr)/(2*Jr),wn=ar*P(Wr/pn)/f;return[pn*u(wn),Ar*(1+Lr*fr)+pn*(1-w(wn))]}return gr.invert=function(ar,Ar){var Lr=f*ar/Ye,Wr=Ar,Jr,pn,wn=50;do{var Pn=Wr*Wr,ca=Ye+Pn*(rt+Pn*(dt+Pn*yt)),Ma=Wr*(It-1+Pn*(Lt-fr+Pn*zt)),Ca=ca*ca+Ma*Ma,La=2*Ma,Ra=Ca/La,ri=Ra*Ra,Li=P(ca/Ra)/f,ci=Lr*Li,se=ca*ca,Se=(2*rt+Pn*(4*dt+Pn*6*yt))*Wr,Oe=It+Pn*(3*Lt+Pn*5*zt),Ke=2*(ca*Se+Ma*(Oe-1)),tt=2*(Oe-1),nt=(Ke*La-Ca*tt)/(La*La),Pt=w(ci),vt=u(ci),Ht=Ra*Pt,qt=Ra*vt,er=Lr/f*(1/k(1-se/ri))*(Se*Ra-ca*nt)/ri,Cr=qt-ar,Sr=Wr*(1+Pn*fr)+Ra-Ht-Ar,Xr=nt*vt+Ht*er,qr=Ht*Li,Dr=1+nt-(nt*Pt-qt*er),Ur=qt*Li,Yr=Xr*Ur-Dr*qr;if(!Yr)break;Lr-=Jr=(Sr*Xr-Cr*Dr)/Yr,Wr-=pn=(Cr*Ur-Sr*qr)/Yr}while((L(Jr)>h||L(pn)>h)&&--wn>0);return[Lr,Wr]},gr}var Br=Fr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function xn(){return(0,p.Z)(Br).scale(149.995)}var jr=Fr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Dn(){return(0,p.Z)(jr).scale(153.93)}var In=Fr(5/6*f,-.62636,-.0344,0,1.3493,-.05524,0,.045);function yr(){return(0,p.Z)(In).scale(130.945)}function cr(Ye,rt){var dt=Ye*Ye,yt=rt*rt;return[Ye*(1-.162388*yt)*(.87-952426e-9*dt*dt),rt*(1+yt/12)]}cr.invert=function(Ye,rt){var dt=Ye,yt=rt,It=50,Lt;do{var zt=yt*yt;yt-=Lt=(yt*(1+zt/12)-rt)/(1+zt/4)}while(L(Lt)>h&&--It>0);It=50,Ye/=1-.162388*zt;do{var fr=(fr=dt*dt)*fr;dt-=Lt=(dt*(.87-952426e-9*fr)-Ye)/(.87-.00476213*fr)}while(L(Lt)>h&&--It>0);return[dt,yt]};function kr(){return(0,p.Z)(cr).scale(131.747)}var Or=Fr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function sn(){return(0,p.Z)(Or).scale(131.087)}function yn(Ye){var rt=Ye(o,0)[0]-Ye(-o,0)[0];function dt(yt,It){var Lt=yt>0?-.5:.5,zt=Ye(yt+Lt*f,It);return zt[0]-=Lt*rt,zt}return Ye.invert&&(dt.invert=function(yt,It){var Lt=yt>0?-.5:.5,zt=Ye.invert(yt+Lt*rt,It),fr=zt[0]-Lt*f;return fr<-f?fr+=2*f:fr>f&&(fr-=2*f),zt[0]=fr,zt}),dt}function bn(Ye,rt){var dt=c(Ye),yt=c(rt),It=w(rt),Lt=w(Ye)*It,zt=u(Ye)*It,fr=u(yt*rt);Ye=L(C(zt,fr)),rt=P(Lt),L(Ye-o)>h&&(Ye%=o);var gr=mn(Ye>f/4?o-Ye:Ye,rt);return Ye>f/4&&(fr=gr[0],gr[0]=-gr[1],gr[1]=-fr),gr[0]*=dt,gr[1]*=-yt,gr}bn.invert=function(Ye,rt){L(Ye)>1&&(Ye=c(Ye)*2-Ye),L(rt)>1&&(rt=c(rt)*2-rt);var dt=c(Ye),yt=c(rt),It=-dt*Ye,Lt=-yt*rt,zt=Lt/It<1,fr=_n(zt?Lt:It,zt?It:Lt),gr=fr[0],ar=fr[1],Ar=w(ar);return zt&&(gr=-o-gr),[dt*(C(u(gr)*Ar,-u(ar))+f),yt*P(w(gr)*Ar)]};function mn(Ye,rt){if(rt===o)return[0,0];var dt=u(rt),yt=dt*dt,It=yt*yt,Lt=1+It,zt=1+3*It,fr=1-It,gr=P(1/k(Lt)),ar=fr+yt*Lt*gr,Ar=(1-dt)/ar,Lr=k(Ar),Wr=Ar*Lt,Jr=k(Wr),pn=Lr*fr,wn,Pn;if(Ye===0)return[0,-(pn+yt*Jr)];var ca=w(rt),Ma=1/ca,Ca=2*dt*ca,La=(-3*yt+gr*zt)*Ca,Ra=(-ar*ca-(1-dt)*La)/(ar*ar),ri=.5*Ra/Lr,Li=fr*ri-2*yt*Lr*Ca,ci=yt*Lt*Ra+Ar*zt*Ca,se=-Ma*Ca,Se=-Ma*ci,Oe=-2*Ma*Li,Ke=4*Ye/f,tt;if(Ye>.222*f||rt<f/4&&Ye>.175*f){if(wn=(pn+yt*k(Wr*(1+It)-pn*pn))/(1+It),Ye>f/4)return[wn,wn];var nt=wn,Pt=.5*wn;wn=.5*(Pt+nt),Pn=50;do{var vt=k(Wr-wn*wn),Ht=wn*(Oe+se*vt)+Se*P(wn/Jr)-Ke;if(!Ht)break;Ht<0?Pt=wn:nt=wn,wn=.5*(Pt+nt)}while(L(nt-Pt)>h&&--Pn>0)}else{wn=h,Pn=25;do{var qt=wn*wn,er=k(Wr-qt),Cr=Oe+se*er,Sr=wn*Cr+Se*P(wn/Jr)-Ke,Xr=Cr+(Se-se*qt)/er;wn-=tt=er?Sr/Xr:0}while(L(tt)>h&&--Pn>0)}return[wn,-pn-yt*k(Wr-wn*wn)]}function _n(Ye,rt){for(var dt=0,yt=1,It=.5,Lt=50;;){var zt=It*It,fr=k(It),gr=P(1/k(1+zt)),ar=1-zt+It*(1+zt)*gr,Ar=(1-fr)/ar,Lr=k(Ar),Wr=Ar*(1+zt),Jr=Lr*(1-zt),pn=Wr-Ye*Ye,wn=k(pn),Pn=rt+Jr+It*wn;if(L(yt-dt)<T||--Lt===0||Pn===0)break;Pn>0?dt=It:yt=It,It=.5*(dt+yt)}if(!Lt)return null;var ca=P(fr),Ma=w(ca),Ca=1/Ma,La=2*fr*Ma,Ra=(-3*It+gr*(1+3*zt))*La,ri=(-ar*Ma-(1-fr)*Ra)/(ar*ar),Li=.5*ri/Lr,ci=(1-zt)*Li-2*It*Lr*La,se=-2*Ca*ci,Se=-Ca*La,Oe=-Ca*(It*(1+zt)*ri+Ar*(1+3*zt)*La);return[f/4*(Ye*(se+Se*wn)+Oe*P(Ye/k(Wr))),ca]}function Kn(){return(0,p.Z)(yn(bn)).scale(239.75)}function na(Ye,rt,dt){var yt,It,Lt;return Ye?(yt=ea(Ye,dt),rt?(It=ea(rt,1-dt),Lt=It[1]*It[1]+dt*yt[0]*yt[0]*It[0]*It[0],[[yt[0]*It[2]/Lt,yt[1]*yt[2]*It[0]*It[1]/Lt],[yt[1]*It[1]/Lt,-yt[0]*yt[2]*It[0]*It[2]/Lt],[yt[2]*It[1]*It[2]/Lt,-dt*yt[0]*yt[1]*It[0]/Lt]]):[[yt[0],0],[yt[1],0],[yt[2],0]]):(It=ea(rt,1-dt),[[0,It[0]/It[1]],[1/It[1],0],[It[2]/It[1],0]])}function ea(Ye,rt){var dt,yt,It,Lt,zt;if(rt<h)return Lt=u(Ye),yt=w(Ye),dt=rt*(Ye-Lt*yt)/4,[Lt-dt*yt,yt+dt*Lt,1-rt*Lt*Lt/2,Ye-dt];if(rt>=1-h)return dt=(1-rt)/4,yt=I(Ye),Lt=_(Ye),It=1/yt,zt=yt*B(Ye),[Lt+dt*(zt-Ye)/(yt*yt),It-dt*Lt*It*(zt-Ye),It+dt*Lt*It*(zt+Ye),2*n(v(Ye))-o+dt*(zt-Ye)/yt];var fr=[1,0,0,0,0,0,0,0,0],gr=[k(rt),0,0,0,0,0,0,0,0],ar=0;for(yt=k(1-rt),zt=1;L(gr[ar]/fr[ar])>h&&ar<8;)dt=fr[ar++],gr[ar]=(dt-yt)/2,fr[ar]=(dt+yt)/2,yt=k(dt*yt),zt*=2;It=zt*fr[ar]*Ye;do Lt=gr[ar]*u(yt=It)/fr[ar],It=(P(Lt)+It)/2;while(--ar);return[u(It),Lt=w(It),Lt/w(It-yt),It]}function oa(Ye,rt,dt){var yt=L(Ye),It=L(rt),Lt=B(It);if(yt){var zt=1/u(yt),fr=1/(m(yt)*m(yt)),gr=-(fr+dt*(Lt*Lt*zt*zt)-1+dt),ar=(dt-1)*fr,Ar=(-gr+k(gr*gr-4*ar))/2;return[$n(n(1/k(Ar)),dt)*c(Ye),$n(n(k((Ar/fr-1)/dt)),1-dt)*c(rt)]}return[0,$n(n(Lt),1-dt)*c(rt)]}function $n(Ye,rt){if(!rt)return Ye;if(rt===1)return t(m(Ye/2+d));for(var dt=1,yt=k(1-rt),It=k(rt),Lt=0;L(It)>h;Lt++){if(Ye%f){var zt=n(yt*m(Ye)/dt);zt<0&&(zt+=f),Ye+=zt+~~(Ye/f)*f}else Ye+=Ye;It=(dt+yt)/2,yt=k(dt*yt),It=((dt=It)-yt)/2}return Ye/(a(2,Lt)*dt)}function Rr(Ye,rt){var dt=(A-1)/(A+1),yt=k(1-dt*dt),It=$n(o,yt*yt),Lt=-1,zt=t(m(f/4+L(rt)/2)),fr=v(Lt*zt)/k(dt),gr=an(fr*w(Lt*Ye),fr*u(Lt*Ye)),ar=oa(gr[0],gr[1],yt*yt);return[-ar[1],(rt>=0?1:-1)*(.5*It-ar[0])]}function an(Ye,rt){var dt=Ye*Ye,yt=rt+1,It=1-dt-rt*rt;return[.5*((Ye>=0?o:-o)-C(It,2*Ye)),-.25*t(It*It+4*dt)+.5*t(yt*yt+dt)]}function rn(Ye,rt){var dt=rt[0]*rt[0]+rt[1]*rt[1];return[(Ye[0]*rt[0]+Ye[1]*rt[1])/dt,(Ye[1]*rt[0]-Ye[0]*rt[1])/dt]}Rr.invert=function(Ye,rt){var dt=(A-1)/(A+1),yt=k(1-dt*dt),It=$n(o,yt*yt),Lt=-1,zt=na(.5*It-rt,-Ye,yt*yt),fr=rn(zt[0],zt[1]),gr=C(fr[1],fr[0])/Lt;return[gr,2*n(v(.5/Lt*t(dt*fr[0]*fr[0]+dt*fr[1]*fr[1])))-o]};function vn(){return(0,p.Z)(yn(Rr)).scale(151.496)}var Nn=e(7613);function En(Ye){var rt=u(Ye),dt=w(Ye),yt=Cn(Ye);yt.invert=Cn(-Ye);function It(Lt,zt){var fr=yt(Lt,zt);Lt=fr[0],zt=fr[1];var gr=u(zt),ar=w(zt),Ar=w(Lt),Lr=x(rt*gr+dt*ar*Ar),Wr=u(Lr),Jr=L(Wr)>h?Lr/Wr:1;return[Jr*dt*u(Lt),(L(Lt)>o?Jr:-Jr)*(rt*ar-dt*gr*Ar)]}return It.invert=function(Lt,zt){var fr=k(Lt*Lt+zt*zt),gr=-u(fr),ar=w(fr),Ar=fr*ar,Lr=-zt*gr,Wr=fr*rt,Jr=k(Ar*Ar+Lr*Lr-Wr*Wr),pn=C(Ar*Wr+Lr*Jr,Lr*Wr-Ar*Jr),wn=(fr>o?-1:1)*C(Lt*gr,fr*w(pn)*ar+zt*u(pn)*gr);return yt.invert(wn,pn)},It}function Cn(Ye){var rt=u(Ye),dt=w(Ye);return function(yt,It){var Lt=w(It),zt=w(yt)*Lt,fr=u(yt)*Lt,gr=u(It);return[C(fr,zt*dt-gr*rt),P(gr*dt+zt*rt)]}}function Hn(){var Ye=0,rt=(0,p.r)(En),dt=rt(Ye),yt=dt.rotate,It=dt.stream,Lt=(0,Nn.Z)();return dt.parallel=function(zt){if(!arguments.length)return Ye*S;var fr=dt.rotate();return rt(Ye=zt*b).rotate(fr)},dt.rotate=function(zt){return arguments.length?(yt.call(dt,[zt[0],zt[1]-Ye*S]),Lt.center([-zt[0],-zt[1]]),dt):(zt=yt.call(dt),zt[1]+=Ye*S,zt)},dt.stream=function(zt){return zt=It(zt),zt.sphere=function(){zt.polygonStart();var fr=.01,gr=Lt.radius(90-fr)().coordinates[0],ar=gr.length-1,Ar=-1,Lr;for(zt.lineStart();++Ar<ar;)zt.point((Lr=gr[Ar])[0],Lr[1]);for(zt.lineEnd(),gr=Lt.radius(90+fr)().coordinates[0],ar=gr.length-1,zt.lineStart();--Ar>=0;)zt.point((Lr=gr[Ar])[0],Lr[1]);zt.lineEnd(),zt.polygonEnd()},zt},dt.scale(79.4187).parallel(45).clipAngle(179.999)}var ra=e(33064),Ea=e(72736),Va=3,Xt=P(1-1/Va)*S,Tr=_t(0);function nn(Ye){var rt=Xt*b,dt=ke(f,rt)[0]-ke(-f,rt)[0],yt=Tr(0,rt)[1],It=ke(0,rt)[1],Lt=E-It,zt=g/Ye,fr=4/g,gr=yt+Lt*Lt*4/g;function ar(Ar,Lr){var Wr,Jr=L(Lr);if(Jr>rt){var pn=l(Ye-1,r(0,y((Ar+f)/zt)));Ar+=f*(Ye-1)/Ye-pn*zt,Wr=ke(Ar,Jr),Wr[0]=Wr[0]*g/dt-g*(Ye-1)/(2*Ye)+pn*g/Ye,Wr[1]=yt+(Wr[1]-It)*4*Lt/g,Lr<0&&(Wr[1]=-Wr[1])}else Wr=Tr(Ar,Lr);return Wr[0]*=fr,Wr[1]/=gr,Wr}return ar.invert=function(Ar,Lr){Ar/=fr,Lr*=gr;var Wr=L(Lr);if(Wr>yt){var Jr=l(Ye-1,r(0,y((Ar+f)/zt)));Ar=(Ar+f*(Ye-1)/Ye-Jr*zt)*dt/g;var pn=ke.invert(Ar,.25*(Wr-yt)*g/Lt+It);return pn[0]-=f*(Ye-1)/Ye-Jr*zt,Lr<0&&(pn[1]=-pn[1]),pn}return Tr.invert(Ar,Lr)},ar}function fn(Ye,rt){return[Ye,rt&1?90-h:Xt]}function cn(Ye,rt){return[Ye,rt&1?-90+h:-Xt]}function Ln(Ye){return[Ye[0]*(1-h),Ye[1]]}function Tn(Ye){var rt=[].concat((0,ra.w6)(-180,180+Ye/2,Ye).map(fn),(0,ra.w6)(180,-180-Ye/2,-Ye).map(cn));return{type:"Polygon",coordinates:[Ye===180?rt.map(Ln):rt]}}function un(){var Ye=4,rt=(0,p.r)(nn),dt=rt(Ye),yt=dt.stream;return dt.lobes=function(It){return arguments.length?rt(Ye=+It):Ye},dt.stream=function(It){var Lt=dt.rotate(),zt=yt(It),fr=(dt.rotate([0,0]),yt(It));return dt.rotate(Lt),zt.sphere=function(){(0,Ea.Z)(Tn(180/Ye),fr)},zt},dt.scale(239.75)}function Pr(Ye){var rt=1+Ye,dt=u(1/rt),yt=P(dt),It=2*k(f/(Lt=f+4*yt*rt)),Lt,zt=.5*It*(rt+k(Ye*(2+Ye))),fr=Ye*Ye,gr=rt*rt;function ar(Ar,Lr){var Wr=1-u(Lr),Jr,pn;if(Wr&&Wr<2){var wn=o-Lr,Pn=25,ca;do{var Ma=u(wn),Ca=w(wn),La=yt+C(Ma,rt-Ca),Ra=1+gr-2*rt*Ca;wn-=ca=(wn-fr*yt-rt*Ma+Ra*La-.5*Wr*Lt)/(2*rt*Ma*La)}while(L(ca)>T&&--Pn>0);Jr=It*k(Ra),pn=Ar*La/f}else Jr=It*(Ye+Wr),pn=Ar*yt/f;return[Jr*u(pn),zt-Jr*w(pn)]}return ar.invert=function(Ar,Lr){var Wr=Ar*Ar+(Lr-=zt)*Lr,Jr=(1+gr-Wr/(It*It))/(2*rt),pn=x(Jr),wn=u(pn),Pn=yt+C(wn,rt-Jr);return[P(Ar/k(Wr))*f/Pn,P(1-2*(pn-fr*yt-rt*wn+(1+gr-2*rt*Jr)*Pn)/Lt)]},ar}function Er(){var Ye=1,rt=(0,p.r)(Pr),dt=rt(Ye);return dt.ratio=function(yt){return arguments.length?rt(Ye=+yt):Ye},dt.scale(167.774).center([0,18.67])}var _r=.7109889596207567,hn=.0528035274542;function Fn(Ye,rt){return rt>-_r?(Ye=Ae(Ye,rt),Ye[1]+=hn,Ye):Qe(Ye,rt)}Fn.invert=function(Ye,rt){return rt>-_r?Ae.invert(Ye,rt-hn):Qe.invert(Ye,rt)};function Gn(){return(0,p.Z)(Fn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function dn(Ye,rt){return L(rt)>_r?(Ye=Ae(Ye,rt),Ye[1]-=rt>0?hn:-hn,Ye):Qe(Ye,rt)}dn.invert=function(Ye,rt){return L(rt)>_r?Ae.invert(Ye,rt+(rt>0?hn:-hn)):Qe.invert(Ye,rt)};function zn(){return(0,p.Z)(dn).scale(152.63)}function Qn(Ye,rt,dt,yt){var It=k(4*f/(2*dt+(1+Ye-rt/2)*u(2*dt)+(Ye+rt)/2*u(4*dt)+rt/2*u(6*dt))),Lt=k(yt*u(dt)*k((1+Ye*w(2*dt)+rt*w(4*dt))/(1+Ye+rt))),zt=dt*gr(1);function fr(Lr){return k(1+Ye*w(2*Lr)+rt*w(4*Lr))}function gr(Lr){var Wr=Lr*dt;return(2*Wr+(1+Ye-rt/2)*u(2*Wr)+(Ye+rt)/2*u(4*Wr)+rt/2*u(6*Wr))/dt}function ar(Lr){return fr(Lr)*u(Lr)}var Ar=function(Lr,Wr){var Jr=dt*Me(gr,zt*u(Wr)/dt,Wr/f);isNaN(Jr)&&(Jr=dt*c(Wr));var pn=It*fr(Jr);return[pn*Lt*Lr/f*w(Jr),pn/Lt*u(Jr)]};return Ar.invert=function(Lr,Wr){var Jr=Me(ar,Wr*Lt/It);return[Lr*f/(w(Jr)*It*Lt*fr(Jr)),P(dt*gr(Jr/dt)/zt)]},dt===0&&(It=k(yt/f),Ar=function(Lr,Wr){return[Lr*It,u(Wr)/It]},Ar.invert=function(Lr,Wr){return[Lr/It,P(Wr*It)]}),Ar}function sa(){var Ye=1,rt=0,dt=45*b,yt=2,It=(0,p.r)(Qn),Lt=It(Ye,rt,dt,yt);return Lt.a=function(zt){return arguments.length?It(Ye=+zt,rt,dt,yt):Ye},Lt.b=function(zt){return arguments.length?It(Ye,rt=+zt,dt,yt):rt},Lt.psiMax=function(zt){return arguments.length?It(Ye,rt,dt=+zt*b,yt):dt*S},Lt.ratio=function(zt){return arguments.length?It(Ye,rt,dt,yt=+zt):yt},Lt.scale(180.739)}function aa(Ye,rt,dt,yt,It,Lt,zt,fr,gr,ar,Ar){if(Ar.nanEncountered)return NaN;var Lr,Wr,Jr,pn,wn,Pn,ca,Ma,Ca,La;if(Lr=dt-rt,Wr=Ye(rt+Lr*.25),Jr=Ye(dt-Lr*.25),isNaN(Wr)){Ar.nanEncountered=!0;return}if(isNaN(Jr)){Ar.nanEncountered=!0;return}return pn=Lr*(yt+4*Wr+It)/12,wn=Lr*(It+4*Jr+Lt)/12,Pn=pn+wn,La=(Pn-zt)/15,ar>gr?(Ar.maxDepthCount++,Pn+La):Math.abs(La)<fr?Pn+La:(ca=rt+Lr*.5,Ma=aa(Ye,rt,ca,yt,Wr,It,pn,fr*.5,gr,ar+1,Ar),isNaN(Ma)?(Ar.nanEncountered=!0,NaN):(Ca=aa(Ye,ca,dt,It,Jr,Lt,wn,fr*.5,gr,ar+1,Ar),isNaN(Ca)?(Ar.nanEncountered=!0,NaN):Ma+Ca))}function ia(Ye,rt,dt,yt,It){var Lt={maxDepthCount:0,nanEncountered:!1};yt===void 0&&(yt=1e-8),It===void 0&&(It=20);var zt=Ye(rt),fr=Ye(.5*(rt+dt)),gr=Ye(dt),ar=(zt+4*fr+gr)*(dt-rt)/6,Ar=aa(Ye,rt,dt,zt,fr,gr,ar,yt,It,1,Lt);return Ar}function ha(Ye,rt,dt){function yt(Jr){return Ye+(1-Ye)*a(1-a(Jr,rt),1/rt)}function It(Jr){return ia(yt,0,Jr,1e-4)}for(var Lt=1/It(1),zt=1e3,fr=(1+1e-8)*Lt,gr=[],ar=0;ar<=zt;ar++)gr.push(It(ar/zt)*fr);function Ar(Jr){var pn=0,wn=zt,Pn=zt>>1;do gr[Pn]>Jr?wn=Pn:pn=Pn,Pn=pn+wn>>1;while(Pn>pn);var ca=gr[Pn+1]-gr[Pn];return ca&&(ca=(Jr-gr[Pn+1])/ca),(Pn+1+ca)/zt}var Lr=2*Ar(1)/f*Lt/dt,Wr=function(Jr,pn){var wn=Ar(L(u(pn))),Pn=yt(wn)*Jr;return wn/=Lr,[Pn,pn>=0?wn:-wn]};return Wr.invert=function(Jr,pn){var wn;return pn*=Lr,L(pn)<1&&(wn=c(pn)*P(It(L(pn))*Lt)),[Jr/yt(L(pn)),wn]},Wr}function Wi(){var Ye=0,rt=2.5,dt=1.183136,yt=(0,p.r)(ha),It=yt(Ye,rt,dt);return It.alpha=function(Lt){return arguments.length?yt(Ye=+Lt,rt,dt):Ye},It.k=function(Lt){return arguments.length?yt(Ye,rt=+Lt,dt):rt},It.gamma=function(Lt){return arguments.length?yt(Ye,rt,dt=+Lt):dt},It.scale(152.63)}function ao(Ye,rt){return L(Ye[0]-rt[0])<h&&L(Ye[1]-rt[1])<h}function uo(Ye,rt){for(var dt=-1,yt=Ye.length,It=Ye[0],Lt,zt,fr,gr=[];++dt<yt;){Lt=Ye[dt],zt=(Lt[0]-It[0])/rt,fr=(Lt[1]-It[1])/rt;for(var ar=0;ar<rt;++ar)gr.push([It[0]+ar*zt,It[1]+ar*fr]);It=Lt}return gr.push(Lt),gr}function mo(Ye){var rt=[],dt,yt,It,Lt,zt,fr,gr,ar=Ye[0].length;for(gr=0;gr<ar;++gr)dt=Ye[0][gr],yt=dt[0][0],It=dt[0][1],Lt=dt[1][1],zt=dt[2][0],fr=dt[2][1],rt.push(uo([[yt+h,It+h],[yt+h,Lt-h],[zt-h,Lt-h],[zt-h,fr+h]],30));for(gr=Ye[1].length-1;gr>=0;--gr)dt=Ye[1][gr],yt=dt[0][0],It=dt[0][1],Lt=dt[1][1],zt=dt[2][0],fr=dt[2][1],rt.push(uo([[zt-h,fr-h],[zt-h,Lt+h],[yt+h,Lt+h],[yt+h,It-h]],30));return{type:"Polygon",coordinates:[(0,ra.TS)(rt)]}}function fo(Ye,rt,dt){var yt,It;function Lt(gr,ar){for(var Ar=ar<0?-1:1,Lr=rt[+(ar<0)],Wr=0,Jr=Lr.length-1;Wr<Jr&&gr>Lr[Wr][2][0];++Wr);var pn=Ye(gr-Lr[Wr][1][0],ar);return pn[0]+=Ye(Lr[Wr][1][0],Ar*ar>Ar*Lr[Wr][0][1]?Lr[Wr][0][1]:ar)[0],pn}dt?Lt.invert=dt(Lt):Ye.invert&&(Lt.invert=function(gr,ar){for(var Ar=It[+(ar<0)],Lr=rt[+(ar<0)],Wr=0,Jr=Ar.length;Wr<Jr;++Wr){var pn=Ar[Wr];if(pn[0][0]<=gr&&gr<pn[1][0]&&pn[0][1]<=ar&&ar<pn[1][1]){var wn=Ye.invert(gr-Ye(Lr[Wr][1][0],0)[0],ar);return wn[0]+=Lr[Wr][1][0],ao(Lt(wn[0],wn[1]),[gr,ar])?wn:null}}});var zt=(0,p.Z)(Lt),fr=zt.stream;return zt.stream=function(gr){var ar=zt.rotate(),Ar=fr(gr),Lr=(zt.rotate([0,0]),fr(gr));return zt.rotate(ar),Ar.sphere=function(){(0,Ea.Z)(yt,Lr)},Ar},zt.lobes=function(gr){return arguments.length?(yt=mo(gr),rt=gr.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*b,Ar[0][1]*b],[Ar[1][0]*b,Ar[1][1]*b],[Ar[2][0]*b,Ar[2][1]*b]]})}),It=rt.map(function(ar){return ar.map(function(Ar){var Lr=Ye(Ar[0][0],Ar[0][1])[0],Wr=Ye(Ar[2][0],Ar[2][1])[0],Jr=Ye(Ar[1][0],Ar[0][1])[1],pn=Ye(Ar[1][0],Ar[1][1])[1],wn;return Jr>pn&&(wn=Jr,Jr=pn,pn=wn),[[Lr,Jr],[Wr,pn]]})}),zt):rt.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*S,Ar[0][1]*S],[Ar[1][0]*S,Ar[1][1]*S],[Ar[2][0]*S,Ar[2][1]*S]]})})},rt!=null&&zt.lobes(rt),zt}var Hu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Qa(){return fo(He,Hu).scale(160.857)}var Il=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function il(){return fo(dn,Il).scale(152.63)}var Yi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function xo(){return fo(Ae,Yi).scale(169.529)}var Sf=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function _l(){return fo(Ae,Sf).scale(169.529).rotate([20,0])}var Ci=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Fl(){return fo(Fn,Ci,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Eo=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ui(){return fo(Qe,Eo).scale(152.63).rotate([-20,0])}function Co(Ye,rt){return[3/g*Ye*k(f*f/3-rt*rt),rt]}Co.invert=function(Ye,rt){return[g/3*Ye/k(f*f/3-rt*rt),rt]};function io(){return(0,p.Z)(Co).scale(158.837)}function Io(Ye){function rt(dt,yt){if(L(L(yt)-o)<h)return[0,yt<0?-2:2];var It=u(yt),Lt=a((1+It)/(1-It),Ye/2),zt=.5*(Lt+1/Lt)+w(dt*=Ye);return[2*u(dt)/zt,(Lt-1/Lt)/zt]}return rt.invert=function(dt,yt){var It=L(yt);if(L(It-2)<h)return dt?null:[0,c(yt)*o];if(It>2)return null;dt/=2,yt/=2;var Lt=dt*dt,zt=yt*yt,fr=2*yt/(1+Lt+zt);return fr=a((1+fr)/(1-fr),1/Ye),[C(2*dt,1-Lt-zt)/Ye,P((fr-1)/(fr+1))]},rt}function Jo(){var Ye=.5,rt=(0,p.r)(Io),dt=rt(Ye);return dt.spacing=function(yt){return arguments.length?rt(Ye=+yt):Ye},dt.scale(124.75)}var hs=f/A;function Ki(Ye,rt){return[Ye*(1+k(w(rt)))/2,rt/(w(rt/2)*w(Ye/6))]}Ki.invert=function(Ye,rt){var dt=L(Ye),yt=L(rt),It=h,Lt=o;yt<hs?Lt*=yt/hs:It+=6*x(hs/yt);for(var zt=0;zt<25;zt++){var fr=u(Lt),gr=k(w(Lt)),ar=u(Lt/2),Ar=w(Lt/2),Lr=u(It/6),Wr=w(It/6),Jr=.5*It*(1+gr)-dt,pn=Lt/(Ar*Wr)-yt,wn=gr?-.25*It*fr/gr:0,Pn=.5*(1+gr),ca=(1+.5*Lt*ar/Ar)/(Ar*Wr),Ma=Lt/Ar*(Lr/6)/(Wr*Wr),Ca=wn*Ma-ca*Pn,La=(Jr*Ma-pn*Pn)/Ca,Ra=(pn*wn-Jr*ca)/Ca;if(Lt-=La,It-=Ra,L(La)<h&&L(Ra)<h)break}return[Ye<0?-It:It,rt<0?-Lt:Lt]};function Ef(){return(0,p.Z)(Ki).scale(97.2672)}function Qo(Ye,rt){var dt=Ye*Ye,yt=rt*rt;return[Ye*(.975534+yt*(-.119161+dt*-.0143059+yt*-.0547009)),rt*(1.00384+dt*(.0802894+yt*-.02855+dt*199025e-9)+yt*(.0998909+yt*-.0491032))]}Qo.invert=function(Ye,rt){var dt=c(Ye)*f,yt=rt/2,It=50;do{var Lt=dt*dt,zt=yt*yt,fr=dt*yt,gr=dt*(.975534+zt*(-.119161+Lt*-.0143059+zt*-.0547009))-Ye,ar=yt*(1.00384+Lt*(.0802894+zt*-.02855+Lt*199025e-9)+zt*(.0998909+zt*-.0491032))-rt,Ar=.975534-zt*(.119161+3*Lt*.0143059+zt*.0547009),Lr=-fr*(2*.119161+4*.0547009*zt+2*.0143059*Lt),Wr=fr*(2*.0802894+4*199025e-9*Lt+2*-.02855*zt),Jr=1.00384+Lt*(.0802894+199025e-9*Lt)+zt*(3*(.0998909-.02855*Lt)-5*.0491032*zt),pn=Lr*Wr-Jr*Ar,wn=(ar*Lr-gr*Jr)/pn,Pn=(gr*Wr-ar*Ar)/pn;dt-=wn,yt-=Pn}while((L(wn)>h||L(Pn)>h)&&--It>0);return It&&[dt,yt]};function Ji(){return(0,p.Z)(Qo).scale(139.98)}function Vu(Ye,rt){return[u(Ye)/w(rt),m(rt)*w(Ye)]}Vu.invert=function(Ye,rt){var dt=Ye*Ye,yt=rt*rt,It=yt+1,Lt=dt+It,zt=Ye?M*k((Lt-k(Lt*Lt-4*dt))/dt):1/k(It);return[P(Ye*zt),c(rt)*x(zt)]};function vs(){return(0,p.Z)(Vu).scale(144.049).clipAngle(89.999)}function $o(Ye){var rt=w(Ye),dt=m(d+Ye/2);function yt(It,Lt){var zt=Lt-Ye,fr=L(zt)<h?It*rt:L(fr=d+Lt/2)<h||L(L(fr)-o)<h?0:It*zt/t(m(fr)/dt);return[fr,zt]}return yt.invert=function(It,Lt){var zt,fr=Lt+Ye;return[L(Lt)<h?It/rt:L(zt=d+fr/2)<h||L(L(zt)-o)<h?0:It*t(m(zt)/dt)/Lt,fr]},yt}function Gu(){return et($o).parallel(40).scale(158.837)}function Wu(Ye,rt){return[Ye,1.25*t(m(d+.4*rt))]}Wu.invert=function(Ye,rt){return[Ye,2.5*n(v(.8*rt))-.625*f]};function hc(){return(0,p.Z)(Wu).scale(108.318)}function kl(Ye){var rt=Ye.length-1;function dt(yt,It){for(var Lt=w(It),zt=2/(1+Lt*w(yt)),fr=zt*Lt*u(yt),gr=zt*u(It),ar=rt,Ar=Ye[ar],Lr=Ar[0],Wr=Ar[1],Jr;--ar>=0;)Ar=Ye[ar],Lr=Ar[0]+fr*(Jr=Lr)-gr*Wr,Wr=Ar[1]+fr*Wr+gr*Jr;return Lr=fr*(Jr=Lr)-gr*Wr,Wr=fr*Wr+gr*Jr,[Lr,Wr]}return dt.invert=function(yt,It){var Lt=20,zt=yt,fr=It;do{for(var gr=rt,ar=Ye[gr],Ar=ar[0],Lr=ar[1],Wr=0,Jr=0,pn;--gr>=0;)ar=Ye[gr],Wr=Ar+zt*(pn=Wr)-fr*Jr,Jr=Lr+zt*Jr+fr*pn,Ar=ar[0]+zt*(pn=Ar)-fr*Lr,Lr=ar[1]+zt*Lr+fr*pn;Wr=Ar+zt*(pn=Wr)-fr*Jr,Jr=Lr+zt*Jr+fr*pn,Ar=zt*(pn=Ar)-fr*Lr-yt,Lr=zt*Lr+fr*pn-It;var wn=Wr*Wr+Jr*Jr,Pn,ca;zt-=Pn=(Ar*Wr+Lr*Jr)/wn,fr-=ca=(Lr*Wr-Ar*Jr)/wn}while(L(Pn)+L(ca)>h*h&&--Lt>0);if(Lt){var Ma=k(zt*zt+fr*fr),Ca=2*n(Ma*.5),La=u(Ca);return[C(zt*La,Ma*w(Ca)),Ma?P(fr*La/Ma):0]}},dt}var vc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],dc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],pc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Yu=[[.9245,0],[0,0],[.01943,0]],gc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function yc(){return Gs(vc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Cf(){return Gs(dc,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function mc(){return Gs(pc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function xc(){return Gs(Yu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Zu(){return Gs(gc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Gs(Ye,rt){var dt=(0,p.Z)(kl(Ye)).rotate(rt).clipAngle(90),yt=(0,$e.Z)(rt),It=dt.center;return delete dt.rotate,dt.center=function(Lt){return arguments.length?It(yt(Lt)):yt.invert(It())},dt}var Ws=k(6),ol=k(7);function fu(Ye,rt){var dt=P(7*u(rt)/(3*Ws));return[Ws*Ye*(2*w(2*dt/3)-1)/ol,9*u(dt/3)/ol]}fu.invert=function(Ye,rt){var dt=3*P(rt*ol/9);return[Ye*ol/(Ws*(2*w(2*dt/3)-1)),P(u(dt)*3*Ws/7)]};function bc(){return(0,p.Z)(fu).scale(164.859)}function ds(Ye,rt){for(var dt=(1+M)*u(rt),yt=rt,It=0,Lt;It<25&&(yt-=Lt=(u(yt/2)+u(yt)-dt)/(.5*w(yt/2)+w(yt)),!(L(Lt)<h));It++);return[Ye*(1+2*w(yt)/w(yt/2))/(3*A),2*k(3)*u(yt/2)/k(2+A)]}ds.invert=function(Ye,rt){var dt=rt*k(2+A)/(2*k(3)),yt=2*P(dt);return[3*A*Ye/(1+2*w(yt)/w(yt/2)),P((dt+u(yt))/(1+M))]};function Lf(){return(0,p.Z)(ds).scale(188.209)}function Xu(Ye,rt){for(var dt=k(6/(4+f)),yt=(1+f/4)*u(rt),It=rt/2,Lt=0,zt;Lt<25&&(It-=zt=(It/2+u(It)-yt)/(.5+w(It)),!(L(zt)<h));Lt++);return[dt*(.5+w(It))*Ye/1.5,dt*It]}Xu.invert=function(Ye,rt){var dt=k(6/(4+f)),yt=rt/dt;return L(L(yt)-o)<h&&(yt=yt<0?-o:o),[1.5*Ye/(dt*(.5+w(yt))),P((yt/2+u(yt))/(1+f/4))]};function wc(){return(0,p.Z)(Xu).scale(166.518)}var _o=e(26867);function Ys(Ye,rt){var dt=rt*rt,yt=dt*dt,It=dt*yt;return[Ye*(.84719-.13063*dt+It*It*(-.04515+.05494*dt-.02326*yt+.00331*It)),rt*(1.01183+yt*yt*(-.02625+.01926*dt-.00396*yt))]}Ys.invert=function(Ye,rt){var dt=rt,yt=25,It,Lt,zt,fr;do Lt=dt*dt,zt=Lt*Lt,dt-=It=(dt*(1.01183+zt*zt*(-.02625+.01926*Lt-.00396*zt))-rt)/(1.01183+zt*zt*(-.23625+.21186*Lt+-.05148*zt));while(L(It)>T&&--yt>0);return Lt=dt*dt,zt=Lt*Lt,fr=Lt*zt,[Ye/(.84719-.13063*Lt+fr*fr*(-.04515+.05494*Lt-.02326*zt+.00331*fr)),dt]};function zl(){return(0,p.Z)(Ys).scale(175.295)}function sl(Ye,rt){return[Ye*(1+w(rt))/2,2*(rt-m(rt/2))]}sl.invert=function(Ye,rt){for(var dt=rt/2,yt=0,It=1/0;yt<10&&L(It)>h;++yt){var Lt=w(rt/2);rt-=It=(rt-m(rt/2)-dt)/(1-.5/(Lt*Lt))}return[2*Ye/(1+w(rt)),rt]};function qo(){return(0,p.Z)(sl).scale(152.63)}var ps=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ju(){return fo(ae(1/0),ps).rotate([20,0]).scale(152.63)}function ll(Ye,rt){var dt=u(rt),yt=w(rt),It=c(Ye);if(Ye===0||L(rt)===o)return[0,rt];if(rt===0)return[Ye,0];if(L(Ye)===o)return[Ye*yt,o*dt];var Lt=f/(2*Ye)-2*Ye/f,zt=2*rt/f,fr=(1-zt*zt)/(dt-zt),gr=Lt*Lt,ar=fr*fr,Ar=1+gr/ar,Lr=1+ar/gr,Wr=(Lt*dt/fr-Lt/2)/Ar,Jr=(ar*dt/gr+fr/2)/Lr,pn=Wr*Wr+yt*yt/Ar,wn=Jr*Jr-(ar*dt*dt/gr+fr*dt-1)/Lr;return[o*(Wr+k(pn)*It),o*(Jr+k(wn<0?0:wn)*c(-rt*Lt)*It)]}ll.invert=function(Ye,rt){Ye/=o,rt/=o;var dt=Ye*Ye,yt=rt*rt,It=dt+yt,Lt=f*f;return[Ye?(It-1+k((1-It)*(1-It)+4*dt))/(2*Ye)*o:0,Me(function(zt){return It*(f*u(zt)-2*zt)*f+4*zt*zt*(rt-u(zt))+2*f*zt-Lt*rt},0)]};function Es(){return(0,p.Z)(ll).scale(127.267)}var Di=1.0148,Ku=.23185,cu=-.14499,ul=.02406,Pf=Di,Rf=5*Ku,fl=7*cu,cl=9*ul,Zi=1.790857183;function hu(Ye,rt){var dt=rt*rt;return[Ye,rt*(Di+dt*dt*(Ku+dt*(cu+ul*dt)))]}hu.invert=function(Ye,rt){rt>Zi?rt=Zi:rt<-Zi&&(rt=-Zi);var dt=rt,yt;do{var It=dt*dt;dt-=yt=(dt*(Di+It*It*(Ku+It*(cu+ul*It)))-rt)/(Pf+It*It*(Rf+It*(fl+cl*It)))}while(L(yt)>h);return[Ye,dt]};function Tc(){return(0,p.Z)(hu).scale(139.319)}function Ju(Ye,rt){if(L(rt)<h)return[Ye,0];var dt=m(rt),yt=Ye*u(rt);return[u(yt)/dt,rt+(1-w(yt))/dt]}Ju.invert=function(Ye,rt){if(L(rt)<h)return[Ye,0];var dt=Ye*Ye+rt*rt,yt=rt*.5,It=10,Lt;do{var zt=m(yt),fr=1/w(yt),gr=dt-2*rt*yt+yt*yt;yt-=Lt=(zt*gr+2*(yt-rt))/(2+gr*fr*fr+2*(yt-rt)*zt)}while(L(Lt)>h&&--It>0);return zt=m(yt),[(L(rt)<L(yt+1/zt)?P(Ye*zt):c(rt)*c(Ye)*(x(L(Ye*zt))+o))/u(yt),yt]};function Ac(){return(0,p.Z)(Ju).scale(103.74)}var vu=e(77338),Ol=e(83074);function Qu(Ye,rt){var dt=qu(Ye[1],Ye[0]),yt=qu(rt[1],rt[0]),It=ef(dt,yt),Lt=du(dt)/du(yt);return Bl([1,0,Ye[0][0],0,1,Ye[0][1]],Bl([Lt,0,0,0,Lt,0],Bl([w(It),u(It),0,-u(It),w(It),0],[1,0,-rt[0][0],0,1,-rt[0][1]])))}function $u(Ye){var rt=1/(Ye[0]*Ye[4]-Ye[1]*Ye[3]);return[rt*Ye[4],-rt*Ye[1],rt*(Ye[1]*Ye[5]-Ye[2]*Ye[4]),-rt*Ye[3],rt*Ye[0],rt*(Ye[2]*Ye[3]-Ye[0]*Ye[5])]}function Bl(Ye,rt){return[Ye[0]*rt[0]+Ye[1]*rt[3],Ye[0]*rt[1]+Ye[1]*rt[4],Ye[0]*rt[2]+Ye[1]*rt[5]+Ye[2],Ye[3]*rt[0]+Ye[4]*rt[3],Ye[3]*rt[1]+Ye[4]*rt[4],Ye[3]*rt[2]+Ye[4]*rt[5]+Ye[5]]}function qu(Ye,rt){return[Ye[0]-rt[0],Ye[1]-rt[1]]}function du(Ye){return k(Ye[0]*Ye[0]+Ye[1]*Ye[1])}function ef(Ye,rt){return C(Ye[0]*rt[1]-Ye[1]*rt[0],Ye[0]*rt[0]+Ye[1]*rt[1])}function fi(Ye,rt,dt){yt(Ye,{transform:null});function yt(ar,Ar){if(ar.edges=Zs(ar.face),Ar.face){var Lr=ar.shared=hl(ar.face,Ar.face),Wr=Qu(Lr.map(Ar.project),Lr.map(ar.project));ar.transform=Ar.transform?Bl(Ar.transform,Wr):Wr;for(var Jr=Ar.edges,pn=0,wn=Jr.length;pn<wn;++pn)Uo(Lr[0],Jr[pn][1])&&Uo(Lr[1],Jr[pn][0])&&(Jr[pn]=ar),Uo(Lr[0],Jr[pn][0])&&Uo(Lr[1],Jr[pn][1])&&(Jr[pn]=ar);for(Jr=ar.edges,pn=0,wn=Jr.length;pn<wn;++pn)Uo(Lr[0],Jr[pn][0])&&Uo(Lr[1],Jr[pn][1])&&(Jr[pn]=Ar),Uo(Lr[0],Jr[pn][1])&&Uo(Lr[1],Jr[pn][0])&&(Jr[pn]=Ar)}else ar.transform=Ar.transform;return ar.children&&ar.children.forEach(function(Pn){yt(Pn,ar)}),ar}function It(ar,Ar){var Lr=rt(ar,Ar),Wr=Lr.project([ar*S,Ar*S]),Jr;return(Jr=Lr.transform)?[Jr[0]*Wr[0]+Jr[1]*Wr[1]+Jr[2],-(Jr[3]*Wr[0]+Jr[4]*Wr[1]+Jr[5])]:(Wr[1]=-Wr[1],Wr)}tf(Ye)&&(It.invert=function(ar,Ar){var Lr=Lt(Ye,[ar,-Ar]);return Lr&&(Lr[0]*=b,Lr[1]*=b,Lr)});function Lt(ar,Ar){var Lr=ar.project.invert,Wr=ar.transform,Jr=Ar;if(Wr&&(Wr=$u(Wr),Jr=[Wr[0]*Jr[0]+Wr[1]*Jr[1]+Wr[2],Wr[3]*Jr[0]+Wr[4]*Jr[1]+Wr[5]]),Lr&&ar===zt(pn=Lr(Jr)))return pn;for(var pn,wn=ar.children,Pn=0,ca=wn&&wn.length;Pn<ca;++Pn)if(pn=Lt(wn[Pn],Ar))return pn}function zt(ar){return rt(ar[0]*b,ar[1]*b)}var fr=(0,p.Z)(It),gr=fr.stream;return fr.stream=function(ar){var Ar=fr.rotate(),Lr=gr(ar),Wr=(fr.rotate([0,0]),gr(ar));return fr.rotate(Ar),Lr.sphere=function(){Wr.polygonStart(),Wr.lineStart(),Df(Wr,Ye),Wr.lineEnd(),Wr.polygonEnd()},Lr},fr.angle(dt==null?-30:dt*S)}function Df(Ye,rt,dt){var yt,It=rt.edges,Lt=It.length,zt,fr={type:"MultiPoint",coordinates:rt.face},gr=rt.face.filter(function(wn){return L(wn[1])!==90}),ar=(0,vu.Z)({type:"MultiPoint",coordinates:gr}),Ar=!1,Lr=-1,Wr=ar[1][0]-ar[0][0],Jr=Wr===180||Wr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Fe.Z)(fr);if(dt)for(;++Lr<Lt&&It[Lr]!==dt;);++Lr;for(var pn=0;pn<Lt;++pn)zt=It[(pn+Lr)%Lt],Array.isArray(zt)?(Ar||(Ye.point((yt=(0,Ol.Z)(zt[0],Jr)(h))[0],yt[1]),Ar=!0),Ye.point((yt=(0,Ol.Z)(zt[1],Jr)(h))[0],yt[1])):(Ar=!1,zt!==dt&&Df(Ye,zt,rt))}function Uo(Ye,rt){return Ye&&rt&&Ye[0]===rt[0]&&Ye[1]===rt[1]}function hl(Ye,rt){for(var dt,yt,It=Ye.length,Lt=null,zt=0;zt<It;++zt){dt=Ye[zt];for(var fr=rt.length;--fr>=0;)if(yt=rt[fr],dt[0]===yt[0]&&dt[1]===yt[1]){if(Lt)return[Lt,dt];Lt=dt}}}function Zs(Ye){for(var rt=Ye.length,dt=[],yt=Ye[rt-1],It=0;It<rt;++It)dt.push([yt,yt=Ye[It]]);return dt}function tf(Ye){return Ye.project.invert||Ye.children&&Ye.children.some(tf)}var _i=e(98936),Nl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],bo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ye){return Ye.map(function(rt){return Nl[rt]})});function gs(Ye){Ye=Ye||function(dt){var yt=(0,Fe.Z)({type:"MultiPoint",coordinates:dt});return(0,_i.Z)().scale(1).translate([0,0]).rotate([-yt[0],-yt[1]])};var rt=bo.map(function(dt){return{face:dt,project:Ye(dt)}});return[-1,0,0,1,0,1,4,5].forEach(function(dt,yt){var It=rt[dt];It&&(It.children||(It.children=[])).push(rt[yt])}),fi(rt[0],function(dt,yt){return rt[dt<-f/2?yt<0?6:4:dt<0?yt<0?2:0:dt<f/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ys=2/k(3);function Cs(Ye,rt){var dt=ke(Ye,rt);return[dt[0]*ys,dt[1]]}Cs.invert=function(Ye,rt){return ke.invert(Ye/ys,rt)};function Ls(Ye){Ye=Ye||function(dt){var yt=(0,Fe.Z)({type:"MultiPoint",coordinates:dt});return(0,p.Z)(Cs).translate([0,0]).scale(1).rotate(yt[1]>0?[-yt[0],0]:[180-yt[0],180])};var rt=bo.map(function(dt){return{face:dt,project:Ye(dt)}});return[-1,0,0,1,0,1,4,5].forEach(function(dt,yt){var It=rt[dt];It&&(It.children||(It.children=[])).push(rt[yt])}),fi(rt[0],function(dt,yt){return rt[dt<-f/2?yt<0?6:4:dt<0?yt<0?2:0:dt<f/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ps(Ye){Ye=Ye||function(zt){var fr=zt.length===6?(0,Fe.Z)({type:"MultiPoint",coordinates:zt}):zt[0];return(0,_i.Z)().scale(1).translate([0,0]).rotate([-fr[0],-fr[1]])};var rt=bo.map(function(zt){for(var fr=zt.map(Hl),gr=fr.length,ar=fr[gr-1],Ar,Lr=[],Wr=0;Wr<gr;++Wr)Ar=fr[Wr],Lr.push(Ul([ar[0]*.9486832980505138+Ar[0]*.31622776601683794,ar[1]*.9486832980505138+Ar[1]*.31622776601683794,ar[2]*.9486832980505138+Ar[2]*.31622776601683794]),Ul([Ar[0]*.9486832980505138+ar[0]*.31622776601683794,Ar[1]*.9486832980505138+ar[1]*.31622776601683794,Ar[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Ar;return Lr}),dt=[],yt=[-1,0,0,1,0,1,4,5];rt.forEach(function(zt,fr){for(var gr=bo[fr],ar=gr.length,Ar=dt[fr]=[],Lr=0;Lr<ar;++Lr)rt.push([gr[Lr],zt[(Lr*2+2)%(2*ar)],zt[(Lr*2+1)%(2*ar)]]),yt.push(fr),Ar.push(es(Hl(zt[(Lr*2+2)%(2*ar)]),Hl(zt[(Lr*2+1)%(2*ar)])))});var It=rt.map(function(zt){return{project:Ye(zt),face:zt}});yt.forEach(function(zt,fr){var gr=It[zt];gr&&(gr.children||(gr.children=[])).push(It[fr])});function Lt(zt,fr){var gr=w(fr),ar=[gr*w(zt),gr*u(zt),u(fr)],Ar=zt<-f/2?fr<0?6:4:zt<0?fr<0?2:0:zt<f/2?fr<0?3:1:fr<0?7:5,Lr=dt[Ar];return It[Ho(Lr[0],ar)<0?8+3*Ar:Ho(Lr[1],ar)<0?8+3*Ar+1:Ho(Lr[2],ar)<0?8+3*Ar+2:Ar]}return fi(It[0],Lt).angle(-30).scale(110.625).center([0,45])}function Ho(Ye,rt){for(var dt=0,yt=Ye.length,It=0;dt<yt;++dt)It+=Ye[dt]*rt[dt];return It}function es(Ye,rt){return[Ye[1]*rt[2]-Ye[2]*rt[1],Ye[2]*rt[0]-Ye[0]*rt[2],Ye[0]*rt[1]-Ye[1]*rt[0]]}function Ul(Ye){return[C(Ye[1],Ye[0])*S,P(r(-1,l(1,Ye[2])))*S]}function Hl(Ye){var rt=Ye[0]*b,dt=Ye[1]*b,yt=w(dt);return[yt*w(rt),yt*u(rt),u(dt)]}function pu(){}function Mc(Ye){if((dt=Ye.length)<4)return!1;for(var rt=0,dt,yt=Ye[dt-1][1]*Ye[0][0]-Ye[dt-1][0]*Ye[0][1];++rt<dt;)yt+=Ye[rt-1][1]*Ye[rt][0]-Ye[rt-1][0]*Ye[rt][1];return yt<=0}function Sc(Ye,rt){for(var dt=rt[0],yt=rt[1],It=!1,Lt=0,zt=Ye.length,fr=zt-1;Lt<zt;fr=Lt++){var gr=Ye[Lt],ar=gr[0],Ar=gr[1],Lr=Ye[fr],Wr=Lr[0],Jr=Lr[1];Ar>yt^Jr>yt&&dt<(Wr-ar)*(yt-Ar)/(Jr-Ar)+ar&&(It=!It)}return It}function Ec(Ye,rt){var dt=rt.stream,yt;if(!dt)throw new Error("invalid projection");switch(Ye&&Ye.type){case"Feature":yt=gu;break;case"FeatureCollection":yt=Cc;break;default:yt=vl;break}return yt(Ye,dt)}function Cc(Ye,rt){return{type:"FeatureCollection",features:Ye.features.map(function(dt){return gu(dt,rt)})}}function gu(Ye,rt){return{type:"Feature",id:Ye.id,properties:Ye.properties,geometry:vl(Ye.geometry,rt)}}function If(Ye,rt){return{type:"GeometryCollection",geometries:Ye.geometries.map(function(dt){return vl(dt,rt)})}}function vl(Ye,rt){if(!Ye)return null;if(Ye.type==="GeometryCollection")return If(Ye,rt);var dt;switch(Ye.type){case"Point":dt=Vl;break;case"MultiPoint":dt=Vl;break;case"LineString":dt=Xs;break;case"MultiLineString":dt=Xs;break;case"Polygon":dt=Gl;break;case"MultiPolygon":dt=Gl;break;case"Sphere":dt=Gl;break;default:return null}return(0,Ea.Z)(Ye,rt(dt)),dt.result()}var Qi=[],wo=[],Vl={point:function(Ye,rt){Qi.push([Ye,rt])},result:function(){var Ye=Qi.length?Qi.length<2?{type:"Point",coordinates:Qi[0]}:{type:"MultiPoint",coordinates:Qi}:null;return Qi=[],Ye}},Xs={lineStart:pu,point:function(Ye,rt){Qi.push([Ye,rt])},lineEnd:function(){Qi.length&&(wo.push(Qi),Qi=[])},result:function(){var Ye=wo.length?wo.length<2?{type:"LineString",coordinates:wo[0]}:{type:"MultiLineString",coordinates:wo}:null;return wo=[],Ye}},Gl={polygonStart:pu,lineStart:pu,point:function(Ye,rt){Qi.push([Ye,rt])},lineEnd:function(){var Ye=Qi.length;if(Ye){do Qi.push(Qi[0].slice());while(++Ye<4);wo.push(Qi),Qi=[]}},polygonEnd:pu,result:function(){if(!wo.length)return null;var Ye=[],rt=[];return wo.forEach(function(dt){Mc(dt)?Ye.push([dt]):rt.push(dt)}),rt.forEach(function(dt){var yt=dt[0];Ye.some(function(It){if(Sc(It[0],yt))return It.push(dt),!0})||Ye.push([dt])}),wo=[],Ye.length?Ye.length>1?{type:"MultiPolygon",coordinates:Ye}:{type:"Polygon",coordinates:Ye[0]}:null}};function yu(Ye){var rt=Ye(o,0)[0]-Ye(-o,0)[0];function dt(yt,It){var Lt=L(yt)<o,zt=Ye(Lt?yt:yt>0?yt-f:yt+f,It),fr=(zt[0]-zt[1])*M,gr=(zt[0]+zt[1])*M;if(Lt)return[fr,gr];var ar=rt*M,Ar=fr>0^gr>0?-1:1;return[Ar*fr-c(gr)*ar,Ar*gr-c(fr)*ar]}return Ye.invert&&(dt.invert=function(yt,It){var Lt=(yt+It)*M,zt=(It-yt)*M,fr=L(Lt)<.5*rt&&L(zt)<.5*rt;if(!fr){var gr=rt*M,ar=Lt>0^zt>0?-1:1,Ar=-ar*yt+(zt>0?1:-1)*gr,Lr=-ar*It+(Lt>0?1:-1)*gr;Lt=(-Ar-Lr)*M,zt=(Ar-Lr)*M}var Wr=Ye.invert(Lt,zt);return fr||(Wr[0]+=Lt>0?f:-f),Wr}),(0,p.Z)(dt).rotate([-90,-90,45]).clipAngle(179.999)}function Lc(){return yu(bn).scale(176.423)}function _f(){return yu(Rr).scale(111.48)}function Ff(Ye,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function dt(ar){var Ar=ar.length,Lr=2,Wr=new Array(Ar);for(Wr[0]=+ar[0].toFixed(rt),Wr[1]=+ar[1].toFixed(rt);Lr<Ar;)Wr[Lr]=ar[Lr],++Lr;return Wr}function yt(ar){return ar.map(dt)}function It(ar){for(var Ar=dt(ar[0]),Lr=[Ar],Wr=1;Wr<ar.length;Wr++){var Jr=dt(ar[Wr]);(Jr.length>2||Jr[0]!=Ar[0]||Jr[1]!=Ar[1])&&(Lr.push(Jr),Ar=Jr)}return Lr.length===1&&ar.length>1&&Lr.push(dt(ar[ar.length-1])),Lr}function Lt(ar){return ar.map(It)}function zt(ar){if(ar==null)return ar;var Ar;switch(ar.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ar.geometries.map(zt)};break;case"Point":Ar={type:"Point",coordinates:dt(ar.coordinates)};break;case"MultiPoint":Ar={type:ar.type,coordinates:yt(ar.coordinates)};break;case"LineString":Ar={type:ar.type,coordinates:It(ar.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ar.type,coordinates:Lt(ar.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ar.coordinates.map(Lt)};break;default:return ar}return ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}function fr(ar){var Ar={type:"Feature",properties:ar.properties,geometry:zt(ar.geometry)};return ar.id!=null&&(Ar.id=ar.id),ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}if(Ye!=null)switch(Ye.type){case"Feature":return fr(Ye);case"FeatureCollection":{var gr={type:"FeatureCollection",features:Ye.features.map(fr)};return Ye.bbox!=null&&(gr.bbox=Ye.bbox),gr}default:return zt(Ye)}return Ye}function rf(Ye){var rt=u(Ye);function dt(yt,It){var Lt=rt?m(yt*rt/2)/rt:yt/2;if(!It)return[2*Lt,-Ye];var zt=2*n(Lt*u(It)),fr=1/m(It);return[u(zt)*fr,It+(1-w(zt))*fr-Ye]}return dt.invert=function(yt,It){if(L(It+=Ye)<h)return[rt?2*n(rt*yt/2)/rt:yt,0];var Lt=yt*yt+It*It,zt=0,fr=10,gr;do{var ar=m(zt),Ar=1/w(zt),Lr=Lt-2*It*zt+zt*zt;zt-=gr=(ar*Lr+2*(zt-It))/(2+Lr*Ar*Ar+2*(zt-It)*ar)}while(L(gr)>h&&--fr>0);var Wr=yt*(ar=m(zt)),Jr=m(L(It)<L(zt+1/ar)?P(Wr)*.5:x(Wr)*.5+f/4)/u(zt);return[rt?2*n(rt*Jr)/rt:2*Jr,zt]},dt}function Rs(){return et(rf).scale(131.215)}var Fi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Fi.forEach(function(Ye){Ye[1]*=1.0144});function ts(Ye,rt){var dt=l(18,L(rt)*36/f),yt=y(dt),It=dt-yt,Lt=(Lr=Fi[yt])[0],zt=Lr[1],fr=(Lr=Fi[++yt])[0],gr=Lr[1],ar=(Lr=Fi[l(19,++yt)])[0],Ar=Lr[1],Lr;return[Ye*(fr+It*(ar-Lt)/2+It*It*(ar-2*fr+Lt)/2),(rt>0?o:-o)*(gr+It*(Ar-zt)/2+It*It*(Ar-2*gr+zt)/2)]}ts.invert=function(Ye,rt){var dt=rt/o,yt=dt*90,It=l(18,L(yt/5)),Lt=r(0,y(It));do{var zt=Fi[Lt][1],fr=Fi[Lt+1][1],gr=Fi[l(19,Lt+2)][1],ar=gr-zt,Ar=gr-2*fr+zt,Lr=2*(L(dt)-fr)/ar,Wr=Ar/ar,Jr=Lr*(1-Wr*Lr*(1-2*Wr*Lr));if(Jr>=0||Lt===1){yt=(rt>=0?5:-5)*(Jr+It);var pn=50,wn;do It=l(18,L(yt)/5),Lt=y(It),Jr=It-Lt,zt=Fi[Lt][1],fr=Fi[Lt+1][1],gr=Fi[l(19,Lt+2)][1],yt-=(wn=(rt>=0?o:-o)*(fr+Jr*(gr-zt)/2+Jr*Jr*(gr-2*fr+zt)/2)-rt)*S;while(L(wn)>T&&--pn>0);break}}while(--Lt>=0);var Pn=Fi[Lt][0],ca=Fi[Lt+1][0],Ma=Fi[l(19,Lt+2)][0];return[Ye/(ca+Jr*(Ma-Pn)/2+Jr*Jr*(Ma-2*ca+Pn)/2),yt*b]};function nf(){return(0,p.Z)(ts).scale(152.63)}function kf(Ye){function rt(dt,yt){var It=w(yt),Lt=(Ye-1)/(Ye-It*w(dt));return[Lt*It*u(dt),Lt*u(yt)]}return rt.invert=function(dt,yt){var It=dt*dt+yt*yt,Lt=k(It),zt=(Ye-k(1-It*(Ye+1)/(Ye-1)))/((Ye-1)/Lt+Lt/(Ye-1));return[C(dt*zt,Lt*k(1-zt*zt)),Lt?P(yt*zt/Lt):0]},rt}function js(Ye,rt){var dt=kf(Ye);if(!rt)return dt;var yt=w(rt),It=u(rt);function Lt(zt,fr){var gr=dt(zt,fr),ar=gr[1],Ar=ar*It/(Ye-1)+yt;return[gr[0]*yt/Ar,ar/Ar]}return Lt.invert=function(zt,fr){var gr=(Ye-1)/(Ye-1-fr*It);return dt.invert(gr*zt,gr*fr*yt)},Lt}function mu(){var Ye=2,rt=0,dt=(0,p.r)(js),yt=dt(Ye,rt);return yt.distance=function(It){return arguments.length?dt(Ye=+It,rt):Ye},yt.tilt=function(It){return arguments.length?dt(Ye,rt=It*b):rt*S},yt.scale(432.147).clipAngle(x(1/Ye)*S-1e-6)}var Vo=1e-4,xu=1e4,ms=-180,xs=ms+Vo,af=180,dl=af-Vo,ii=-90,Ks=ii+Vo,bu=90,wu=bu-Vo;function Ds(Ye){return Ye.length>0}function Pc(Ye){return Math.floor(Ye*xu)/xu}function of(Ye){return Ye===ii||Ye===bu?[0,Ye]:[ms,Pc(Ye)]}function pl(Ye){var rt=Ye[0],dt=Ye[1],yt=!1;return rt<=xs?(rt=ms,yt=!0):rt>=dl&&(rt=af,yt=!0),dt<=Ks?(dt=ii,yt=!0):dt>=wu&&(dt=bu,yt=!0),yt?[rt,dt]:Ye}function sf(Ye){return Ye.map(pl)}function zf(Ye,rt,dt){for(var yt=0,It=Ye.length;yt<It;++yt){var Lt=Ye[yt].slice();dt.push({index:-1,polygon:rt,ring:Lt});for(var zt=0,fr=Lt.length;zt<fr;++zt){var gr=Lt[zt],ar=gr[0],Ar=gr[1];if(ar<=xs||ar>=dl||Ar<=Ks||Ar>=wu){Lt[zt]=pl(gr);for(var Lr=zt+1;Lr<fr;++Lr){var Wr=Lt[Lr],Jr=Wr[0],pn=Wr[1];if(Jr>xs&&Jr<dl&&pn>Ks&&pn<wu)break}if(Lr===zt+1)continue;if(zt){var wn={index:-1,polygon:rt,ring:Lt.slice(0,zt+1)};wn.ring[wn.ring.length-1]=of(Ar),dt[dt.length-1]=wn}else dt.pop();if(Lr>=fr)break;dt.push({index:-1,polygon:rt,ring:Lt=Lt.slice(Lr-1)}),Lt[0]=of(Lt[0][1]),zt=-1,fr=Lt.length}}}}function bs(Ye){var rt,dt=Ye.length,yt={},It={},Lt,zt,fr,gr,ar;for(rt=0;rt<dt;++rt){if(Lt=Ye[rt],zt=Lt.ring[0],gr=Lt.ring[Lt.ring.length-1],zt[0]===gr[0]&&zt[1]===gr[1]){Lt.polygon.push(Lt.ring),Ye[rt]=null;continue}Lt.index=rt,yt[zt]=It[gr]=Lt}for(rt=0;rt<dt;++rt)if(Lt=Ye[rt],Lt){if(zt=Lt.ring[0],gr=Lt.ring[Lt.ring.length-1],fr=It[zt],ar=yt[gr],delete yt[zt],delete It[gr],zt[0]===gr[0]&&zt[1]===gr[1]){Lt.polygon.push(Lt.ring);continue}fr?(delete It[zt],delete yt[fr.ring[0]],fr.ring.pop(),Ye[fr.index]=null,Lt={index:-1,polygon:fr.polygon,ring:fr.ring.concat(Lt.ring)},fr===ar?Lt.polygon.push(Lt.ring):(Lt.index=dt++,Ye.push(yt[Lt.ring[0]]=It[Lt.ring[Lt.ring.length-1]]=Lt))):ar?(delete yt[gr],delete It[ar.ring[ar.ring.length-1]],Lt.ring.pop(),Lt={index:dt++,polygon:ar.polygon,ring:Lt.ring.concat(ar.ring)},Ye[ar.index]=null,Ye.push(yt[Lt.ring[0]]=It[Lt.ring[Lt.ring.length-1]]=Lt)):(Lt.ring.push(Lt.ring[0]),Lt.polygon.push(Lt.ring))}}function Is(Ye){var rt={type:"Feature",geometry:Js(Ye.geometry)};return Ye.id!=null&&(rt.id=Ye.id),Ye.bbox!=null&&(rt.bbox=Ye.bbox),Ye.properties!=null&&(rt.properties=Ye.properties),rt}function Js(Ye){if(Ye==null)return Ye;var rt,dt,yt,It;switch(Ye.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:Ye.geometries.map(Js)};break;case"Point":rt={type:"Point",coordinates:pl(Ye.coordinates)};break;case"MultiPoint":case"LineString":rt={type:Ye.type,coordinates:sf(Ye.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:Ye.coordinates.map(sf)};break;case"Polygon":{var Lt=[];zf(Ye.coordinates,Lt,dt=[]),bs(dt),rt={type:"Polygon",coordinates:Lt};break}case"MultiPolygon":{dt=[],yt=-1,It=Ye.coordinates.length;for(var zt=new Array(It);++yt<It;)zf(Ye.coordinates[yt],zt[yt]=[],dt);bs(dt),rt={type:"MultiPolygon",coordinates:zt.filter(Ds)};break}default:return Ye}return Ye.bbox!=null&&(rt.bbox=Ye.bbox),rt}function Qs(Ye){if(Ye==null)return Ye;switch(Ye.type){case"Feature":return Is(Ye);case"FeatureCollection":{var rt={type:"FeatureCollection",features:Ye.features.map(Is)};return Ye.bbox!=null&&(rt.bbox=Ye.bbox),rt}default:return Js(Ye)}}function To(Ye,rt){var dt=m(rt/2),yt=u(d*dt);return[Ye*(.74482-.34588*yt*yt),1.70711*dt]}To.invert=function(Ye,rt){var dt=rt/1.70711,yt=u(d*dt);return[Ye/(.74482-.34588*yt*yt),2*n(dt)]};function Lo(){return(0,p.Z)(To).scale(146.153)}function $s(Ye,rt,dt){var yt=(0,Ol.Z)(rt,dt),It=yt(.5),Lt=(0,$e.Z)([-It[0],-It[1]])(rt),zt=yt.distance/2,fr=-P(u(Lt[1]*b)/u(zt)),gr=[-It[0],-It[1],-(Lt[0]>0?f-fr:fr)*S],ar=(0,p.Z)(Ye(zt)).rotate(gr),Ar=(0,$e.Z)(gr),Lr=ar.center;return delete ar.rotate,ar.center=function(Wr){return arguments.length?Lr(Ar(Wr)):Ar.invert(Lr())},ar.clipAngle(90)}function Of(Ye){var rt=w(Ye);function dt(yt,It){var Lt=(0,_i.M)(yt,It);return Lt[0]*=rt,Lt}return dt.invert=function(yt,It){return _i.M.invert(yt/rt,It)},dt}function yl(){return Tu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Tu(Ye,rt){return $s(Of,Ye,rt)}function Bf(Ye){if(!(Ye*=2))return ie.N;var rt=-Ye/2,dt=-rt,yt=Ye*Ye,It=m(dt),Lt=.5/u(dt);function zt(fr,gr){var ar=x(w(gr)*w(fr-rt)),Ar=x(w(gr)*w(fr-dt)),Lr=gr<0?-1:1;return ar*=ar,Ar*=Ar,[(ar-Ar)/(2*Ye),Lr*k(4*yt*Ar-(yt-ar+Ar)*(yt-ar+Ar))/(2*Ye)]}return zt.invert=function(fr,gr){var ar=gr*gr,Ar=w(k(ar+(Wr=fr+rt)*Wr)),Lr=w(k(ar+(Wr=fr+dt)*Wr)),Wr,Jr;return[C(Jr=Ar-Lr,Wr=(Ar+Lr)*It),(gr<0?-1:1)*x(k(Wr*Wr+Jr*Jr)*Lt)]},zt}function Go(){return lf([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function lf(Ye,rt){return $s(Bf,Ye,rt)}function _s(Ye,rt){if(L(rt)<h)return[Ye,0];var dt=L(rt/o),yt=P(dt);if(L(Ye)<h||L(L(rt)-o)<h)return[0,c(rt)*f*m(yt/2)];var It=w(yt),Lt=L(f/Ye-Ye/f)/2,zt=Lt*Lt,fr=It/(dt+It-1),gr=fr*(2/dt-1),ar=gr*gr,Ar=ar+zt,Lr=fr-ar,Wr=zt+fr;return[c(Ye)*f*(Lt*Lr+k(zt*Lr*Lr-Ar*(fr*fr-ar)))/Ar,c(rt)*f*(gr*Wr-Lt*k((zt+1)*Ar-Wr*Wr))/Ar]}_s.invert=function(Ye,rt){if(L(rt)<h)return[Ye,0];if(L(Ye)<h)return[0,o*u(2*n(rt/f))];var dt=(Ye/=f)*Ye,yt=(rt/=f)*rt,It=dt+yt,Lt=It*It,zt=-L(rt)*(1+It),fr=zt-2*yt+dt,gr=-2*zt+1+2*yt+Lt,ar=yt/gr+(2*fr*fr*fr/(gr*gr*gr)-9*zt*fr/(gr*gr))/27,Ar=(zt-fr*fr/(3*gr))/gr,Lr=2*k(-Ar/3),Wr=x(3*ar/(Ar*Lr))/3;return[f*(It-1+k(1+2*(dt-yt)+Lt))/(2*Ye),c(rt)*f*(-Lr*w(Wr+f/3)-fr/(3*gr))]};function Wl(){return(0,p.Z)(_s).scale(79.4183)}function ws(Ye,rt){if(L(rt)<h)return[Ye,0];var dt=L(rt/o),yt=P(dt);if(L(Ye)<h||L(L(rt)-o)<h)return[0,c(rt)*f*m(yt/2)];var It=w(yt),Lt=L(f/Ye-Ye/f)/2,zt=Lt*Lt,fr=It*(k(1+zt)-Lt*It)/(1+zt*dt*dt);return[c(Ye)*f*fr,c(rt)*f*k(1-fr*(2*Lt+fr))]}ws.invert=function(Ye,rt){if(!Ye)return[0,o*u(2*n(rt/f))];var dt=L(Ye/f),yt=(1-dt*dt-(rt/=f)*rt)/(2*dt),It=yt*yt,Lt=k(It+1);return[c(Ye)*f*(Lt-yt),c(rt)*o*u(2*C(k((1-2*yt*dt)*(yt+Lt)-dt),k(Lt+yt+dt)))]};function Rc(){return(0,p.Z)(ws).scale(79.4183)}function uf(Ye,rt){if(L(rt)<h)return[Ye,0];var dt=rt/o,yt=P(dt);if(L(Ye)<h||L(L(rt)-o)<h)return[0,f*m(yt/2)];var It=(f/Ye-Ye/f)/2,Lt=dt/(1+w(yt));return[f*(c(Ye)*k(It*It+1-Lt*Lt)-It),f*Lt]}uf.invert=function(Ye,rt){if(!rt)return[Ye,0];var dt=rt/f,yt=(f*f*(1-dt*dt)-Ye*Ye)/(2*f*Ye);return[Ye?f*(c(Ye)*k(yt*yt+1)-yt):0,o*u(2*n(dt))]};function Au(){return(0,p.Z)(uf).scale(79.4183)}function oo(Ye,rt){if(!rt)return[Ye,0];var dt=L(rt);if(!Ye||dt===o)return[0,rt];var yt=dt/o,It=yt*yt,Lt=(8*yt-It*(It+2)-5)/(2*It*(yt-1)),zt=Lt*Lt,fr=yt*Lt,gr=It+zt+2*fr,ar=yt+3*Lt,Ar=Ye/o,Lr=Ar+1/Ar,Wr=c(L(Ye)-o)*k(Lr*Lr-4),Jr=Wr*Wr,pn=gr*(It+zt*Jr-1)+(1-It)*(It*(ar*ar+4*zt)+12*fr*zt+4*zt*zt),wn=(Wr*(gr+zt-1)+2*k(pn))/(4*gr+Jr);return[c(Ye)*o*wn,c(rt)*o*k(1+Wr*L(wn)-wn*wn)]}oo.invert=function(Ye,rt){var dt;if(!Ye||!rt)return[Ye,rt];rt/=f;var yt=c(Ye)*Ye/o,It=(yt*yt-1+4*rt*rt)/L(yt),Lt=It*It,zt=2*rt,fr=50;do{var gr=zt*zt,ar=(8*zt-gr*(gr+2)-5)/(2*gr*(zt-1)),Ar=(3*zt-gr*zt-10)/(2*gr*zt),Lr=ar*ar,Wr=zt*ar,Jr=zt+ar,pn=Jr*Jr,wn=zt+3*ar,Pn=pn*(gr+Lr*Lt-1)+(1-gr)*(gr*(wn*wn+4*Lr)+Lr*(12*Wr+4*Lr)),ca=-2*Jr*(4*Wr*Lr+(1-4*gr+3*gr*gr)*(1+Ar)+Lr*(-6+14*gr-Lt+(-8+8*gr-2*Lt)*Ar)+Wr*(-8+12*gr+(-10+10*gr-Lt)*Ar)),Ma=k(Pn),Ca=It*(pn+Lr-1)+2*Ma-yt*(4*pn+Lt),La=It*(2*ar*Ar+2*Jr*(1+Ar))+ca/Ma-8*Jr*(It*(-1+Lr+pn)+2*Ma)*(1+Ar)/(Lt+4*pn);zt-=dt=Ca/La}while(dt>h&&--fr>0);return[c(Ye)*(k(It*It+4)+It)*f/4,o*zt]};function Nf(){return(0,p.Z)(oo).scale(127.16)}function Yl(Ye,rt,dt,yt,It){function Lt(zt,fr){var gr=dt*u(yt*fr),ar=k(1-gr*gr),Ar=k(2/(1+ar*w(zt*=It)));return[Ye*ar*Ar*u(zt),rt*gr*Ar]}return Lt.invert=function(zt,fr){var gr=zt/Ye,ar=fr/rt,Ar=k(gr*gr+ar*ar),Lr=2*P(Ar/2);return[C(zt*m(Lr),Ye*Ar)/It,Ar&&P(fr*u(Lr)/(rt*dt*Ar))/yt]},Lt}function rs(Ye,rt,dt,yt){var It=f/3;Ye=r(Ye,h),rt=r(rt,h),Ye=l(Ye,o),rt=l(rt,f-h),dt=r(dt,0),dt=l(dt,100-h),yt=r(yt,h);var Lt=dt/100+1,zt=yt/100,fr=x(Lt*w(It))/It,gr=u(Ye)/u(fr*o),ar=rt/f,Ar=k(zt*u(Ye/2)/u(rt/2)),Lr=Ar/k(ar*gr*fr),Wr=1/(Ar*k(ar*gr*fr));return Yl(Lr,Wr,gr,fr,ar)}function Zl(){var Ye=65*b,rt=60*b,dt=20,yt=200,It=(0,p.r)(rs),Lt=It(Ye,rt,dt,yt);return Lt.poleline=function(zt){return arguments.length?It(Ye=+zt*b,rt,dt,yt):Ye*S},Lt.parallels=function(zt){return arguments.length?It(Ye,rt=+zt*b,dt,yt):rt*S},Lt.inflation=function(zt){return arguments.length?It(Ye,rt,dt=+zt,yt):dt},Lt.ratio=function(zt){return arguments.length?It(Ye,rt,dt,yt=+zt):yt},Lt.scale(163.775)}function Fs(){return Zl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Mu=4*f+3*k(3),Uf=2*k(2*f*k(3)/Mu),ff=ye(Uf*k(3)/f,Uf,Mu/6);function cf(){return(0,p.Z)(ff).scale(176.84)}function qs(Ye,rt){return[Ye*k(1-3*rt*rt/(f*f)),rt]}qs.invert=function(Ye,rt){return[Ye/k(1-3*rt*rt/(f*f)),rt]};function Su(){return(0,p.Z)(qs).scale(152.63)}function Xl(Ye,rt){var dt=w(rt),yt=w(Ye)*dt,It=1-yt,Lt=w(Ye=C(u(Ye)*dt,-u(rt))),zt=u(Ye);return dt=k(1-yt*yt),[zt*dt-Lt*It,-Lt*dt-zt*It]}Xl.invert=function(Ye,rt){var dt=(Ye*Ye+rt*rt)/-2,yt=k(-dt*(2+dt)),It=rt*dt+Ye*yt,Lt=Ye*dt-rt*yt,zt=k(Lt*Lt+It*It);return[C(yt*It,zt*(1+dt)),zt?-P(yt*Lt/zt):0]};function Hf(){return(0,p.Z)(Xl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function jl(Ye,rt){var dt=Q(Ye,rt);return[(dt[0]+Ye/o)/2,(dt[1]+rt)/2]}jl.invert=function(Ye,rt){var dt=Ye,yt=rt,It=25;do{var Lt=w(yt),zt=u(yt),fr=u(2*yt),gr=zt*zt,ar=Lt*Lt,Ar=u(dt),Lr=w(dt/2),Wr=u(dt/2),Jr=Wr*Wr,pn=1-ar*Lr*Lr,wn=pn?x(Lt*Lr)*k(Pn=1/pn):Pn=0,Pn,ca=.5*(2*wn*Lt*Wr+dt/o)-Ye,Ma=.5*(wn*zt+yt)-rt,Ca=.5*Pn*(ar*Jr+wn*Lt*Lr*gr)+.5/o,La=Pn*(Ar*fr/4-wn*zt*Wr),Ra=.125*Pn*(fr*Wr-wn*zt*ar*Ar),ri=.5*Pn*(gr*Lr+wn*Jr*Lt)+.5,Li=La*Ra-ri*Ca,ci=(Ma*La-ca*ri)/Li,se=(ca*Ra-Ma*Ca)/Li;dt-=ci,yt-=se}while((L(ci)>h||L(se)>h)&&--It>0);return[dt,yt]};function Vf(){return(0,p.Z)(jl).scale(158.837)}},33940:function(G,U,e){e.d(U,{Z:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(w){C(n,w,this.t),C(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new L;function C(w,v,y){var t=w.s=v+y,r=t-v,l=t-r;w.t=v-l+(y-r)}},97860:function(G,U,e){e.d(U,{L9:function(){return w},ZP:function(){return T},gL:function(){return s}});var p=e(33940),L=e(39695),n=e(73182),C=e(72736),w=(0,p.Z)(),v=(0,p.Z)(),y,t,r,l,a,s={point:n.Z,lineStart:n.Z,lineEnd:n.Z,polygonStart:function(){w.reset(),s.lineStart=c,s.lineEnd=u},polygonEnd:function(){var f=+w;v.add(f<0?L.BZ+f:f),this.lineStart=this.lineEnd=this.point=n.Z},sphere:function(){v.add(L.BZ)}};function c(){s.point=m}function u(){h(y,t)}function m(f,o){s.point=h,y=f,t=o,f*=L.uR,o*=L.uR,r=f,l=(0,L.mC)(o=o/2+L.pu),a=(0,L.O$)(o)}function h(f,o){f*=L.uR,o*=L.uR,o=o/2+L.pu;var d=f-r,M=d>=0?1:-1,A=M*d,E=(0,L.mC)(o),g=(0,L.O$)(o),S=a*g,b=l*E+S*(0,L.mC)(A),i=S*M*(0,L.O$)(A);w.add((0,L.fv)(i,b)),r=f,l=E,a=g}function T(f){return v.reset(),(0,C.Z)(f,s),v*2}},77338:function(G,U,e){e.d(U,{Z:function(){return P}});var p=e(33940),L=e(97860),n=e(7620),C=e(39695),w=e(72736),v,y,t,r,l,a,s,c,u=(0,p.Z)(),m,h,T={point:f,lineStart:d,lineEnd:M,polygonStart:function(){T.point=A,T.lineStart=E,T.lineEnd=g,u.reset(),L.gL.polygonStart()},polygonEnd:function(){L.gL.polygonEnd(),T.point=f,T.lineStart=d,T.lineEnd=M,L.L9<0?(v=-(t=180),y=-(r=90)):u>C.Ho?r=90:u<-C.Ho&&(y=-90),h[0]=v,h[1]=t},sphere:function(){v=-(t=180),y=-(r=90)}};function f(x,k){m.push(h=[v=x,t=x]),k<y&&(y=k),k>r&&(r=k)}function o(x,k){var _=(0,n.Og)([x*C.uR,k*C.uR]);if(c){var B=(0,n.T5)(c,_),I=[B[1],-B[0],0],z=(0,n.T5)(I,B);(0,n.iJ)(z),z=(0,n.Y1)(z);var O=x-l,F=O>0?1:-1,N=z[0]*C.RW*F,Q,$=(0,C.Wn)(O)>180;$^(F*l<N&&N<F*x)?(Q=z[1]*C.RW,Q>r&&(r=Q)):(N=(N+360)%360-180,$^(F*l<N&&N<F*x)?(Q=-z[1]*C.RW,Q<y&&(y=Q)):(k<y&&(y=k),k>r&&(r=k))),$?x<l?S(v,x)>S(v,t)&&(t=x):S(x,t)>S(v,t)&&(v=x):t>=v?(x<v&&(v=x),x>t&&(t=x)):x>l?S(v,x)>S(v,t)&&(t=x):S(x,t)>S(v,t)&&(v=x)}else m.push(h=[v=x,t=x]);k<y&&(y=k),k>r&&(r=k),c=_,l=x}function d(){T.point=o}function M(){h[0]=v,h[1]=t,T.point=f,c=null}function A(x,k){if(c){var _=x-l;u.add((0,C.Wn)(_)>180?_+(_>0?360:-360):_)}else a=x,s=k;L.gL.point(x,k),o(x,k)}function E(){L.gL.lineStart()}function g(){A(a,s),L.gL.lineEnd(),(0,C.Wn)(u)>C.Ho&&(v=-(t=180)),h[0]=v,h[1]=t,c=null}function S(x,k){return(k-=x)<0?k+360:k}function b(x,k){return x[0]-k[0]}function i(x,k){return x[0]<=x[1]?x[0]<=k&&k<=x[1]:k<x[0]||x[1]<k}function P(x){var k,_,B,I,z,O,F;if(r=t=-(v=y=1/0),m=[],(0,w.Z)(x,T),_=m.length){for(m.sort(b),k=1,B=m[0],z=[B];k<_;++k)I=m[k],i(B,I[0])||i(B,I[1])?(S(B[0],I[1])>S(B[0],B[1])&&(B[1]=I[1]),S(I[0],B[1])>S(B[0],B[1])&&(B[0]=I[0])):z.push(B=I);for(O=-1/0,_=z.length-1,k=0,B=z[_];k<=_;B=I,++k)I=z[k],(F=S(B[1],I[0]))>O&&(O=F,v=I[0],t=B[1])}return m=h=null,v===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,y],[t,r]]}},7620:function(G,U,e){e.d(U,{Og:function(){return n},T:function(){return y},T5:function(){return w},Y1:function(){return L},iJ:function(){return t},j9:function(){return C},s0:function(){return v}});var p=e(39695);function L(r){return[(0,p.fv)(r[1],r[0]),(0,p.ZR)(r[2])]}function n(r){var l=r[0],a=r[1],s=(0,p.mC)(a);return[s*(0,p.mC)(l),s*(0,p.O$)(l),(0,p.O$)(a)]}function C(r,l){return r[0]*l[0]+r[1]*l[1]+r[2]*l[2]}function w(r,l){return[r[1]*l[2]-r[2]*l[1],r[2]*l[0]-r[0]*l[2],r[0]*l[1]-r[1]*l[0]]}function v(r,l){r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}function y(r,l){return[r[0]*l,r[1]*l,r[2]*l]}function t(r){var l=(0,p._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=l,r[1]/=l,r[2]/=l}},66624:function(G,U,e){e.d(U,{Z:function(){return _}});var p=e(39695),L=e(73182),n=e(72736),C,w,v,y,t,r,l,a,s,c,u,m,h,T,f,o,d={sphere:L.Z,point:M,lineStart:E,lineEnd:b,polygonStart:function(){d.lineStart=i,d.lineEnd=P},polygonEnd:function(){d.lineStart=E,d.lineEnd=b}};function M(B,I){B*=p.uR,I*=p.uR;var z=(0,p.mC)(I);A(z*(0,p.mC)(B),z*(0,p.O$)(B),(0,p.O$)(I))}function A(B,I,z){++C,v+=(B-v)/C,y+=(I-y)/C,t+=(z-t)/C}function E(){d.point=g}function g(B,I){B*=p.uR,I*=p.uR;var z=(0,p.mC)(I);T=z*(0,p.mC)(B),f=z*(0,p.O$)(B),o=(0,p.O$)(I),d.point=S,A(T,f,o)}function S(B,I){B*=p.uR,I*=p.uR;var z=(0,p.mC)(I),O=z*(0,p.mC)(B),F=z*(0,p.O$)(B),N=(0,p.O$)(I),Q=(0,p.fv)((0,p._b)((Q=f*N-o*F)*Q+(Q=o*O-T*N)*Q+(Q=T*F-f*O)*Q),T*O+f*F+o*N);w+=Q,r+=Q*(T+(T=O)),l+=Q*(f+(f=F)),a+=Q*(o+(o=N)),A(T,f,o)}function b(){d.point=M}function i(){d.point=x}function P(){k(m,h),d.point=M}function x(B,I){m=B,h=I,B*=p.uR,I*=p.uR,d.point=k;var z=(0,p.mC)(I);T=z*(0,p.mC)(B),f=z*(0,p.O$)(B),o=(0,p.O$)(I),A(T,f,o)}function k(B,I){B*=p.uR,I*=p.uR;var z=(0,p.mC)(I),O=z*(0,p.mC)(B),F=z*(0,p.O$)(B),N=(0,p.O$)(I),Q=f*N-o*F,$=o*O-T*N,j=T*F-f*O,ee=(0,p._b)(Q*Q+$*$+j*j),oe=(0,p.ZR)(ee),Y=ee&&-oe/ee;s+=Y*Q,c+=Y*$,u+=Y*j,w+=oe,r+=oe*(T+(T=O)),l+=oe*(f+(f=F)),a+=oe*(o+(o=N)),A(T,f,o)}function _(B){C=w=v=y=t=r=l=a=s=c=u=0,(0,n.Z)(B,d);var I=s,z=c,O=u,F=I*I+z*z+O*O;return F<p.aW&&(I=r,z=l,O=a,w<p.Ho&&(I=v,z=y,O=t),F=I*I+z*z+O*O,F<p.aW)?[NaN,NaN]:[(0,p.fv)(z,I)*p.RW,(0,p.ZR)(O/(0,p._b)(F))*p.RW]}},7613:function(G,U,e){e.d(U,{m:function(){return w},Z:function(){return y}});var p=e(7620);function L(t){return function(){return t}}var n=e(39695),C=e(49386);function w(t,r,l,a,s,c){if(l){var u=(0,n.mC)(r),m=(0,n.O$)(r),h=a*l;s==null?(s=r+a*n.BZ,c=r-h/2):(s=v(u,s),c=v(u,c),(a>0?s<c:s>c)&&(s+=a*n.BZ));for(var T,f=s;a>0?f>c:f<c;f-=h)T=(0,p.Y1)([u,-m*(0,n.mC)(f),-m*(0,n.O$)(f)]),t.point(T[0],T[1])}}function v(t,r){r=(0,p.Og)(r),r[0]-=t,(0,p.iJ)(r);var l=(0,n.Kh)(-r[1]);return((-r[2]<0?-l:l)+n.BZ-n.Ho)%n.BZ}function y(){var t=L([0,0]),r=L(90),l=L(6),a,s,c={point:u};function u(h,T){a.push(h=s(h,T)),h[0]*=n.RW,h[1]*=n.RW}function m(){var h=t.apply(this,arguments),T=r.apply(this,arguments)*n.uR,f=l.apply(this,arguments)*n.uR;return a=[],s=(0,C.I)(-h[0]*n.uR,-h[1]*n.uR,0).invert,w(c,T,f,1),h={type:"Polygon",coordinates:[a]},a=s=null,h}return m.center=function(h){return arguments.length?(t=typeof h=="function"?h:L([+h[0],+h[1]]),m):t},m.radius=function(h){return arguments.length?(r=typeof h=="function"?h:L(+h),m):r},m.precision=function(h){return arguments.length?(l=typeof h=="function"?h:L(+h),m):l},m}},87070:function(G,U,e){var p=e(97023),L=e(39695);U.Z=(0,p.Z)(function(){return!0},n,w,[-L.pi,-L.ou]);function n(v){var y=NaN,t=NaN,r=NaN,l;return{lineStart:function(){v.lineStart(),l=1},point:function(a,s){var c=a>0?L.pi:-L.pi,u=(0,L.Wn)(a-y);(0,L.Wn)(u-L.pi)<L.Ho?(v.point(y,t=(t+s)/2>0?L.ou:-L.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),v.point(a,t),l=0):r!==c&&u>=L.pi&&((0,L.Wn)(y-r)<L.Ho&&(y-=r*L.Ho),(0,L.Wn)(a-c)<L.Ho&&(a-=c*L.Ho),t=C(y,t,a,s),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),l=0),v.point(y=a,t=s),r=c},lineEnd:function(){v.lineEnd(),y=t=NaN},clean:function(){return 2-l}}}function C(v,y,t,r){var l,a,s=(0,L.O$)(v-t);return(0,L.Wn)(s)>L.Ho?(0,L.z4)(((0,L.O$)(y)*(a=(0,L.mC)(r))*(0,L.O$)(t)-(0,L.O$)(r)*(l=(0,L.mC)(y))*(0,L.O$)(v))/(l*a*s)):(y+r)/2}function w(v,y,t,r){var l;if(v==null)l=t*L.ou,r.point(-L.pi,l),r.point(0,l),r.point(L.pi,l),r.point(L.pi,0),r.point(L.pi,-l),r.point(0,-l),r.point(-L.pi,-l),r.point(-L.pi,0),r.point(-L.pi,l);else if((0,L.Wn)(v[0]-y[0])>L.Ho){var a=v[0]<y[0]?L.pi:-L.pi;l=t*a/2,r.point(-a,l),r.point(0,l),r.point(a,l)}else r.point(y[0],y[1])}},85272:function(G,U,e){e.d(U,{Z:function(){return L}});var p=e(73182);function L(){var n=[],C;return{point:function(w,v,y){C.push([w,v,y])},lineStart:function(){n.push(C=[])},lineEnd:p.Z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var w=n;return n=[],C=null,w}}}},1457:function(G,U,e){e.d(U,{Z:function(){return v}});var p=e(7620),L=e(7613),n=e(39695),C=e(67108),w=e(97023);function v(y){var t=(0,n.mC)(y),r=6*n.uR,l=t>0,a=(0,n.Wn)(t)>n.Ho;function s(T,f,o,d){(0,L.m)(d,y,r,o,T,f)}function c(T,f){return(0,n.mC)(T)*(0,n.mC)(f)>t}function u(T){var f,o,d,M,A;return{lineStart:function(){M=d=!1,A=1},point:function(E,g){var S=[E,g],b,i=c(E,g),P=l?i?0:h(E,g):i?h(E+(E<0?n.pi:-n.pi),g):0;if(!f&&(M=d=i)&&T.lineStart(),i!==d&&(b=m(f,S),(!b||(0,C.Z)(f,b)||(0,C.Z)(S,b))&&(S[2]=1)),i!==d)A=0,i?(T.lineStart(),b=m(S,f),T.point(b[0],b[1])):(b=m(f,S),T.point(b[0],b[1],2),T.lineEnd()),f=b;else if(a&&f&&l^i){var x;!(P&o)&&(x=m(S,f,!0))&&(A=0,l?(T.lineStart(),T.point(x[0][0],x[0][1]),T.point(x[1][0],x[1][1]),T.lineEnd()):(T.point(x[1][0],x[1][1]),T.lineEnd(),T.lineStart(),T.point(x[0][0],x[0][1],3)))}i&&(!f||!(0,C.Z)(f,S))&&T.point(S[0],S[1]),f=S,d=i,o=P},lineEnd:function(){d&&T.lineEnd(),f=null},clean:function(){return A|(M&&d)<<1}}}function m(T,f,o){var d=(0,p.Og)(T),M=(0,p.Og)(f),A=[1,0,0],E=(0,p.T5)(d,M),g=(0,p.j9)(E,E),S=E[0],b=g-S*S;if(!b)return!o&&T;var i=t*g/b,P=-t*S/b,x=(0,p.T5)(A,E),k=(0,p.T)(A,i),_=(0,p.T)(E,P);(0,p.s0)(k,_);var B=x,I=(0,p.j9)(k,B),z=(0,p.j9)(B,B),O=I*I-z*((0,p.j9)(k,k)-1);if(!(O<0)){var F=(0,n._b)(O),N=(0,p.T)(B,(-I-F)/z);if((0,p.s0)(N,k),N=(0,p.Y1)(N),!o)return N;var Q=T[0],$=f[0],j=T[1],ee=f[1],oe;$<Q&&(oe=Q,Q=$,$=oe);var Y=$-Q,V=(0,n.Wn)(Y-n.pi)<n.Ho,W=V||Y<n.Ho;if(!V&&ee<j&&(oe=j,j=ee,ee=oe),W?V?j+ee>0^N[1]<((0,n.Wn)(N[0]-Q)<n.Ho?j:ee):j<=N[1]&&N[1]<=ee:Y>n.pi^(Q<=N[0]&&N[0]<=$)){var X=(0,p.T)(B,(-I+F)/z);return(0,p.s0)(X,k),[N,(0,p.Y1)(X)]}}}function h(T,f){var o=l?y:n.pi-y,d=0;return T<-o?d|=1:T>o&&(d|=2),f<-o?d|=4:f>o&&(d|=8),d}return(0,w.Z)(c,u,s,l?[0,-y]:[-n.pi,y-n.pi])}},97023:function(G,U,e){e.d(U,{Z:function(){return v}});var p=e(85272),L=e(46225),n=e(39695),C=e(23071),w=e(33064);function v(r,l,a,s){return function(c){var u=l(c),m=(0,p.Z)(),h=l(m),T=!1,f,o,d,M={point:A,lineStart:g,lineEnd:S,polygonStart:function(){M.point=b,M.lineStart=i,M.lineEnd=P,o=[],f=[]},polygonEnd:function(){M.point=A,M.lineStart=g,M.lineEnd=S,o=(0,w.TS)(o);var x=(0,C.Z)(f,s);o.length?(T||(c.polygonStart(),T=!0),(0,L.Z)(o,t,x,a,c)):x&&(T||(c.polygonStart(),T=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),T&&(c.polygonEnd(),T=!1),o=f=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function A(x,k){r(x,k)&&c.point(x,k)}function E(x,k){u.point(x,k)}function g(){M.point=E,u.lineStart()}function S(){M.point=A,u.lineEnd()}function b(x,k){d.push([x,k]),h.point(x,k)}function i(){h.lineStart(),d=[]}function P(){b(d[0][0],d[0][1]),h.lineEnd();var x=h.clean(),k=m.result(),_,B=k.length,I,z,O;if(d.pop(),f.push(d),d=null,!!B){if(x&1){if(z=k[0],(I=z.length-1)>0){for(T||(c.polygonStart(),T=!0),c.lineStart(),_=0;_<I;++_)c.point((O=z[_])[0],O[1]);c.lineEnd()}return}B>1&&x&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(y))}}return M}}function y(r){return r.length>1}function t(r,l){return((r=r.x)[0]<0?r[1]-n.ou-n.Ho:n.ou-r[1])-((l=l.x)[0]<0?l[1]-n.ou-n.Ho:n.ou-l[1])}},87605:function(G,U,e){e.d(U,{Z:function(){return t}});var p=e(39695),L=e(85272);function n(r,l,a,s,c,u){var m=r[0],h=r[1],T=l[0],f=l[1],o=0,d=1,M=T-m,A=f-h,E;if(E=a-m,!(!M&&E>0)){if(E/=M,M<0){if(E<o)return;E<d&&(d=E)}else if(M>0){if(E>d)return;E>o&&(o=E)}if(E=c-m,!(!M&&E<0)){if(E/=M,M<0){if(E>d)return;E>o&&(o=E)}else if(M>0){if(E<o)return;E<d&&(d=E)}if(E=s-h,!(!A&&E>0)){if(E/=A,A<0){if(E<o)return;E<d&&(d=E)}else if(A>0){if(E>d)return;E>o&&(o=E)}if(E=u-h,!(!A&&E<0)){if(E/=A,A<0){if(E>d)return;E>o&&(o=E)}else if(A>0){if(E<o)return;E<d&&(d=E)}return o>0&&(r[0]=m+o*M,r[1]=h+o*A),d<1&&(l[0]=m+d*M,l[1]=h+d*A),!0}}}}}var C=e(46225),w=e(33064),v=1e9,y=-v;function t(r,l,a,s){function c(f,o){return r<=f&&f<=a&&l<=o&&o<=s}function u(f,o,d,M){var A=0,E=0;if(f==null||(A=m(f,d))!==(E=m(o,d))||T(f,o)<0^d>0)do M.point(A===0||A===3?r:a,A>1?s:l);while((A=(A+d+4)%4)!==E);else M.point(o[0],o[1])}function m(f,o){return(0,p.Wn)(f[0]-r)<p.Ho?o>0?0:3:(0,p.Wn)(f[0]-a)<p.Ho?o>0?2:1:(0,p.Wn)(f[1]-l)<p.Ho?o>0?1:0:o>0?3:2}function h(f,o){return T(f.x,o.x)}function T(f,o){var d=m(f,1),M=m(o,1);return d!==M?d-M:d===0?o[1]-f[1]:d===1?f[0]-o[0]:d===2?f[1]-o[1]:o[0]-f[0]}return function(f){var o=f,d=(0,L.Z)(),M,A,E,g,S,b,i,P,x,k,_,B={point:I,lineStart:N,lineEnd:Q,polygonStart:O,polygonEnd:F};function I(j,ee){c(j,ee)&&o.point(j,ee)}function z(){for(var j=0,ee=0,oe=A.length;ee<oe;++ee)for(var Y=A[ee],V=1,W=Y.length,X=Y[0],re,ie,K=X[0],q=X[1];V<W;++V)re=K,ie=q,X=Y[V],K=X[0],q=X[1],ie<=s?q>s&&(K-re)*(s-ie)>(q-ie)*(r-re)&&++j:q<=s&&(K-re)*(s-ie)<(q-ie)*(r-re)&&--j;return j}function O(){o=d,M=[],A=[],_=!0}function F(){var j=z(),ee=_&&j,oe=(M=(0,w.TS)(M)).length;(ee||oe)&&(f.polygonStart(),ee&&(f.lineStart(),u(null,null,1,f),f.lineEnd()),oe&&(0,C.Z)(M,h,j,u,f),f.polygonEnd()),o=f,M=A=E=null}function N(){B.point=$,A&&A.push(E=[]),k=!0,x=!1,i=P=NaN}function Q(){M&&($(g,S),b&&x&&d.rejoin(),M.push(d.result())),B.point=I,x&&o.lineEnd()}function $(j,ee){var oe=c(j,ee);if(A&&E.push([j,ee]),k)g=j,S=ee,b=oe,k=!1,oe&&(o.lineStart(),o.point(j,ee));else if(oe&&x)o.point(j,ee);else{var Y=[i=Math.max(y,Math.min(v,i)),P=Math.max(y,Math.min(v,P))],V=[j=Math.max(y,Math.min(v,j)),ee=Math.max(y,Math.min(v,ee))];n(Y,V,r,l,a,s)?(x||(o.lineStart(),o.point(Y[0],Y[1])),o.point(V[0],V[1]),oe||o.lineEnd(),_=!1):oe&&(o.lineStart(),o.point(j,ee),_=!1)}i=j,P=ee,x=oe}return B}}},46225:function(G,U,e){e.d(U,{Z:function(){return C}});var p=e(67108),L=e(39695);function n(v,y,t,r){this.x=v,this.z=y,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function C(v,y,t,r,l){var a=[],s=[],c,u;if(v.forEach(function(d){if(!((M=d.length-1)<=0)){var M,A=d[0],E=d[M],g;if((0,p.Z)(A,E)){if(!A[2]&&!E[2]){for(l.lineStart(),c=0;c<M;++c)l.point((A=d[c])[0],A[1]);l.lineEnd();return}E[0]+=2*L.Ho}a.push(g=new n(A,d,null,!0)),s.push(g.o=new n(A,null,g,!1)),a.push(g=new n(E,d,null,!1)),s.push(g.o=new n(E,null,g,!0))}}),!!a.length){for(s.sort(y),w(a),w(s),c=0,u=s.length;c<u;++c)s[c].e=t=!t;for(var m=a[0],h,T;;){for(var f=m,o=!0;f.v;)if((f=f.n)===m)return;h=f.z,l.lineStart();do{if(f.v=f.o.v=!0,f.e){if(o)for(c=0,u=h.length;c<u;++c)l.point((T=h[c])[0],T[1]);else r(f.x,f.n.x,1,l);f=f.n}else{if(o)for(h=f.p.z,c=h.length-1;c>=0;--c)l.point((T=h[c])[0],T[1]);else r(f.x,f.p.x,-1,l);f=f.p}f=f.o,h=f.z,o=!o}while(!f.v);l.lineEnd()}}}function w(v){if(y=v.length){for(var y,t=0,r=v[0],l;++t<y;)r.n=l=v[t],l.p=r,r=l;r.n=l=v[0],l.p=r}}},96059:function(G,U,e){e.d(U,{Z:function(){return p}});function p(L,n){function C(w,v){return w=L(w,v),n(w[0],w[1])}return L.invert&&n.invert&&(C.invert=function(w,v){return w=n.invert(w,v),w&&L.invert(w[0],w[1])}),C}},8593:function(G,U,e){e.d(U,{Z:function(){return p}});function p(L){return L}},27362:function(G,U,e){e.r(U),e.d(U,{geoAlbers:function(){return wr},geoAlbersUsa:function(){return ot},geoArea:function(){return p.ZP},geoAzimuthalEqualArea:function(){return wt.Z},geoAzimuthalEqualAreaRaw:function(){return wt.l},geoAzimuthalEquidistant:function(){return Mt.Z},geoAzimuthalEquidistantRaw:function(){return Mt.N},geoBounds:function(){return L.Z},geoCentroid:function(){return n.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return w.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return y.Z},geoConicConformal:function(){return or},geoConicConformalRaw:function(){return Kt},geoConicEqualArea:function(){return Yt},geoConicEqualAreaRaw:function(){return jt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return Ve},geoContains:function(){return O},geoDistance:function(){return b},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return Mr.Z},geoEquirectangularRaw:function(){return Mr.k},geoGnomonic:function(){return pr.Z},geoGnomonicRaw:function(){return pr.M},geoGraticule:function(){return $},geoGraticule10:function(){return j},geoIdentity:function(){return vr},geoInterpolate:function(){return ee.Z},geoLength:function(){return E},geoMercator:function(){return Ot},geoMercatorRaw:function(){return St},geoNaturalEarth1:function(){return Kr.Z},geoNaturalEarth1Raw:function(){return Kr.K},geoOrthographic:function(){return Fr.Z},geoOrthographicRaw:function(){return Fr.I},geoPath:function(){return nr},geoProjection:function(){return lr.Z},geoProjectionMutator:function(){return lr.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return jr},geoStereographicRaw:function(){return xn},geoStream:function(){return c.Z},geoTransform:function(){return br.Z},geoTransverseMercator:function(){return In},geoTransverseMercatorRaw:function(){return Dn}});var p=e(97860),L=e(77338),n=e(66624),C=e(7613),w=e(87070),v=e(1457),y=e(87605);function t(){var yr=0,cr=0,kr=960,Or=500,sn,yn,bn;return bn={stream:function(mn){return sn&&yn===mn?sn:sn=(0,y.Z)(yr,cr,kr,Or)(yn=mn)},extent:function(mn){return arguments.length?(yr=+mn[0][0],cr=+mn[0][1],kr=+mn[1][0],Or=+mn[1][1],sn=yn=null,bn):[[yr,cr],[kr,Or]]}}}var r=e(23071),l=e(33940),a=e(39695),s=e(73182),c=e(72736),u=(0,l.Z)(),m,h,T,f={sphere:s.Z,point:s.Z,lineStart:o,lineEnd:s.Z,polygonStart:s.Z,polygonEnd:s.Z};function o(){f.point=M,f.lineEnd=d}function d(){f.point=f.lineEnd=s.Z}function M(yr,cr){yr*=a.uR,cr*=a.uR,m=yr,h=(0,a.O$)(cr),T=(0,a.mC)(cr),f.point=A}function A(yr,cr){yr*=a.uR,cr*=a.uR;var kr=(0,a.O$)(cr),Or=(0,a.mC)(cr),sn=(0,a.Wn)(yr-m),yn=(0,a.mC)(sn),bn=(0,a.O$)(sn),mn=Or*bn,_n=T*kr-h*Or*yn,Kn=h*kr+T*Or*yn;u.add((0,a.fv)((0,a._b)(mn*mn+_n*_n),Kn)),m=yr,h=kr,T=Or}function E(yr){return u.reset(),(0,c.Z)(yr,f),+u}var g=[null,null],S={type:"LineString",coordinates:g};function b(yr,cr){return g[0]=yr,g[1]=cr,E(S)}var i={Feature:function(yr,cr){return x(yr.geometry,cr)},FeatureCollection:function(yr,cr){for(var kr=yr.features,Or=-1,sn=kr.length;++Or<sn;)if(x(kr[Or].geometry,cr))return!0;return!1}},P={Sphere:function(){return!0},Point:function(yr,cr){return k(yr.coordinates,cr)},MultiPoint:function(yr,cr){for(var kr=yr.coordinates,Or=-1,sn=kr.length;++Or<sn;)if(k(kr[Or],cr))return!0;return!1},LineString:function(yr,cr){return _(yr.coordinates,cr)},MultiLineString:function(yr,cr){for(var kr=yr.coordinates,Or=-1,sn=kr.length;++Or<sn;)if(_(kr[Or],cr))return!0;return!1},Polygon:function(yr,cr){return B(yr.coordinates,cr)},MultiPolygon:function(yr,cr){for(var kr=yr.coordinates,Or=-1,sn=kr.length;++Or<sn;)if(B(kr[Or],cr))return!0;return!1},GeometryCollection:function(yr,cr){for(var kr=yr.geometries,Or=-1,sn=kr.length;++Or<sn;)if(x(kr[Or],cr))return!0;return!1}};function x(yr,cr){return yr&&P.hasOwnProperty(yr.type)?P[yr.type](yr,cr):!1}function k(yr,cr){return b(yr,cr)===0}function _(yr,cr){for(var kr,Or,sn,yn=0,bn=yr.length;yn<bn;yn++){if(Or=b(yr[yn],cr),Or===0||yn>0&&(sn=b(yr[yn],yr[yn-1]),sn>0&&kr<=sn&&Or<=sn&&(kr+Or-sn)*(1-Math.pow((kr-Or)/sn,2))<a.aW*sn))return!0;kr=Or}return!1}function B(yr,cr){return!!(0,r.Z)(yr.map(I),z(cr))}function I(yr){return yr=yr.map(z),yr.pop(),yr}function z(yr){return[yr[0]*a.uR,yr[1]*a.uR]}function O(yr,cr){return(yr&&i.hasOwnProperty(yr.type)?i[yr.type]:x)(yr,cr)}var F=e(33064);function N(yr,cr,kr){var Or=(0,F.w6)(yr,cr-a.Ho,kr).concat(cr);return function(sn){return Or.map(function(yn){return[sn,yn]})}}function Q(yr,cr,kr){var Or=(0,F.w6)(yr,cr-a.Ho,kr).concat(cr);return function(sn){return Or.map(function(yn){return[yn,sn]})}}function $(){var yr,cr,kr,Or,sn,yn,bn,mn,_n=10,Kn=_n,na=90,ea=360,oa,$n,Rr,an,rn=2.5;function vn(){return{type:"MultiLineString",coordinates:Nn()}}function Nn(){return(0,F.w6)((0,a.mD)(Or/na)*na,kr,na).map(Rr).concat((0,F.w6)((0,a.mD)(mn/ea)*ea,bn,ea).map(an)).concat((0,F.w6)((0,a.mD)(cr/_n)*_n,yr,_n).filter(function(En){return(0,a.Wn)(En%na)>a.Ho}).map(oa)).concat((0,F.w6)((0,a.mD)(yn/Kn)*Kn,sn,Kn).filter(function(En){return(0,a.Wn)(En%ea)>a.Ho}).map($n))}return vn.lines=function(){return Nn().map(function(En){return{type:"LineString",coordinates:En}})},vn.outline=function(){return{type:"Polygon",coordinates:[Rr(Or).concat(an(bn).slice(1),Rr(kr).reverse().slice(1),an(mn).reverse().slice(1))]}},vn.extent=function(En){return arguments.length?vn.extentMajor(En).extentMinor(En):vn.extentMinor()},vn.extentMajor=function(En){return arguments.length?(Or=+En[0][0],kr=+En[1][0],mn=+En[0][1],bn=+En[1][1],Or>kr&&(En=Or,Or=kr,kr=En),mn>bn&&(En=mn,mn=bn,bn=En),vn.precision(rn)):[[Or,mn],[kr,bn]]},vn.extentMinor=function(En){return arguments.length?(cr=+En[0][0],yr=+En[1][0],yn=+En[0][1],sn=+En[1][1],cr>yr&&(En=cr,cr=yr,yr=En),yn>sn&&(En=yn,yn=sn,sn=En),vn.precision(rn)):[[cr,yn],[yr,sn]]},vn.step=function(En){return arguments.length?vn.stepMajor(En).stepMinor(En):vn.stepMinor()},vn.stepMajor=function(En){return arguments.length?(na=+En[0],ea=+En[1],vn):[na,ea]},vn.stepMinor=function(En){return arguments.length?(_n=+En[0],Kn=+En[1],vn):[_n,Kn]},vn.precision=function(En){return arguments.length?(rn=+En,oa=N(yn,sn,90),$n=Q(cr,yr,rn),Rr=N(mn,bn,90),an=Q(Or,kr,rn),vn):rn},vn.extentMajor([[-180,-90+a.Ho],[180,90-a.Ho]]).extentMinor([[-180,-80-a.Ho],[180,80+a.Ho]])}function j(){return $()()}var ee=e(83074),oe=e(8593),Y=(0,l.Z)(),V=(0,l.Z)(),W,X,re,ie,K={point:s.Z,lineStart:s.Z,lineEnd:s.Z,polygonStart:function(){K.lineStart=q,K.lineEnd=he},polygonEnd:function(){K.lineStart=K.lineEnd=K.point=s.Z,Y.add((0,a.Wn)(V)),V.reset()},result:function(){var yr=Y/2;return Y.reset(),yr}};function q(){K.point=le}function le(yr,cr){K.point=ae,W=re=yr,X=ie=cr}function ae(yr,cr){V.add(ie*yr-re*cr),re=yr,ie=cr}function he(){ae(W,X)}var me=K,Me=e(3559),xe=0,Ie=0,_e=0,Te=0,ye=0,Ae=0,Be=0,Ue=0,De=0,He,ut,et,Qe,qe={point:ft,lineStart:gt,lineEnd:Je,polygonStart:function(){qe.lineStart=ze,qe.lineEnd=Fe},polygonEnd:function(){qe.point=ft,qe.lineStart=gt,qe.lineEnd=Je},result:function(){var yr=De?[Be/De,Ue/De]:Ae?[Te/Ae,ye/Ae]:_e?[xe/_e,Ie/_e]:[NaN,NaN];return xe=Ie=_e=Te=ye=Ae=Be=Ue=De=0,yr}};function ft(yr,cr){xe+=yr,Ie+=cr,++_e}function gt(){qe.point=xt}function xt(yr,cr){qe.point=Ct,ft(et=yr,Qe=cr)}function Ct(yr,cr){var kr=yr-et,Or=cr-Qe,sn=(0,a._b)(kr*kr+Or*Or);Te+=sn*(et+yr)/2,ye+=sn*(Qe+cr)/2,Ae+=sn,ft(et=yr,Qe=cr)}function Je(){qe.point=ft}function ze(){qe.point=$e}function Fe(){at(He,ut)}function $e(yr,cr){qe.point=at,ft(He=et=yr,ut=Qe=cr)}function at(yr,cr){var kr=yr-et,Or=cr-Qe,sn=(0,a._b)(kr*kr+Or*Or);Te+=sn*(et+yr)/2,ye+=sn*(Qe+cr)/2,Ae+=sn,sn=Qe*yr-et*cr,Be+=sn*(et+yr),Ue+=sn*(Qe+cr),De+=sn*3,ft(et=yr,Qe=cr)}var Xe=qe;function Pe(yr){this._context=yr}Pe.prototype={_radius:4.5,pointRadius:function(yr){return this._radius=yr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(yr,cr){switch(this._point){case 0:{this._context.moveTo(yr,cr),this._point=1;break}case 1:{this._context.lineTo(yr,cr);break}default:{this._context.moveTo(yr+this._radius,cr),this._context.arc(yr,cr,this._radius,0,a.BZ);break}}},result:s.Z};var we=(0,l.Z)(),ue,ge,Le,ke,it,lt={point:s.Z,lineStart:function(){lt.point=bt},lineEnd:function(){ue&&Rt(ge,Le),lt.point=s.Z},polygonStart:function(){ue=!0},polygonEnd:function(){ue=null},result:function(){var yr=+we;return we.reset(),yr}};function bt(yr,cr){lt.point=Rt,ge=ke=yr,Le=it=cr}function Rt(yr,cr){ke-=yr,it-=cr,we.add((0,a._b)(ke*ke+it*it)),ke=yr,it=cr}var Ut=lt;function Gt(){this._string=[]}Gt.prototype={_radius:4.5,_circle:_t(4.5),pointRadius:function(yr){return(yr=+yr)!==this._radius&&(this._radius=yr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(yr,cr){switch(this._point){case 0:{this._string.push("M",yr,",",cr),this._point=1;break}case 1:{this._string.push("L",yr,",",cr);break}default:{this._circle==null&&(this._circle=_t(this._radius)),this._string.push("M",yr,",",cr,this._circle);break}}},result:function(){if(this._string.length){var yr=this._string.join("");return this._string=[],yr}else return null}};function _t(yr){return"m0,"+yr+"a"+yr+","+yr+" 0 1,1 0,"+-2*yr+"a"+yr+","+yr+" 0 1,1 0,"+2*yr+"z"}function nr(yr,cr){var kr=4.5,Or,sn;function yn(bn){return bn&&(typeof kr=="function"&&sn.pointRadius(+kr.apply(this,arguments)),(0,c.Z)(bn,Or(sn))),sn.result()}return yn.area=function(bn){return(0,c.Z)(bn,Or(me)),me.result()},yn.measure=function(bn){return(0,c.Z)(bn,Or(Ut)),Ut.result()},yn.bounds=function(bn){return(0,c.Z)(bn,Or(Me.Z)),Me.Z.result()},yn.centroid=function(bn){return(0,c.Z)(bn,Or(Xe)),Xe.result()},yn.projection=function(bn){return arguments.length?(Or=bn==null?(yr=null,oe.Z):(yr=bn).stream,yn):yr},yn.context=function(bn){return arguments.length?(sn=bn==null?(cr=null,new Gt):new Pe(cr=bn),typeof kr!="function"&&sn.pointRadius(kr),yn):cr},yn.pointRadius=function(bn){return arguments.length?(kr=typeof bn=="function"?bn:(sn.pointRadius(+bn),+bn),yn):kr},yn.projection(yr).context(cr)}var lr=e(15002);function zr(yr){var cr=0,kr=a.pi/3,Or=(0,lr.r)(yr),sn=Or(cr,kr);return sn.parallels=function(yn){return arguments.length?Or(cr=yn[0]*a.uR,kr=yn[1]*a.uR):[cr*a.RW,kr*a.RW]},sn}function mt(yr){var cr=(0,a.mC)(yr);function kr(Or,sn){return[Or*cr,(0,a.O$)(sn)/cr]}return kr.invert=function(Or,sn){return[Or/cr,(0,a.ZR)(sn*cr)]},kr}function jt(yr,cr){var kr=(0,a.O$)(yr),Or=(kr+(0,a.O$)(cr))/2;if((0,a.Wn)(Or)<a.Ho)return mt(yr);var sn=1+kr*(2*Or-kr),yn=(0,a._b)(sn)/Or;function bn(mn,_n){var Kn=(0,a._b)(sn-2*Or*(0,a.O$)(_n))/Or;return[Kn*(0,a.O$)(mn*=Or),yn-Kn*(0,a.mC)(mn)]}return bn.invert=function(mn,_n){var Kn=yn-_n,na=(0,a.fv)(mn,(0,a.Wn)(Kn))*(0,a.Xx)(Kn);return Kn*Or<0&&(na-=a.pi*(0,a.Xx)(mn)*(0,a.Xx)(Kn)),[na/Or,(0,a.ZR)((sn-(mn*mn+Kn*Kn)*Or*Or)/(2*Or))]},bn}function Yt(){return zr(jt).scale(155.424).center([0,33.6442])}function wr(){return Yt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dr=e(47589);function ct(yr){var cr=yr.length;return{point:function(kr,Or){for(var sn=-1;++sn<cr;)yr[sn].point(kr,Or)},sphere:function(){for(var kr=-1;++kr<cr;)yr[kr].sphere()},lineStart:function(){for(var kr=-1;++kr<cr;)yr[kr].lineStart()},lineEnd:function(){for(var kr=-1;++kr<cr;)yr[kr].lineEnd()},polygonStart:function(){for(var kr=-1;++kr<cr;)yr[kr].polygonStart()},polygonEnd:function(){for(var kr=-1;++kr<cr;)yr[kr].polygonEnd()}}}function ot(){var yr,cr,kr=wr(),Or,sn=Yt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yn,bn=Yt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),mn,_n,Kn={point:function(oa,$n){_n=[oa,$n]}};function na(oa){var $n=oa[0],Rr=oa[1];return _n=null,Or.point($n,Rr),_n||(yn.point($n,Rr),_n)||(mn.point($n,Rr),_n)}na.invert=function(oa){var $n=kr.scale(),Rr=kr.translate(),an=(oa[0]-Rr[0])/$n,rn=(oa[1]-Rr[1])/$n;return(rn>=.12&&rn<.234&&an>=-.425&&an<-.214?sn:rn>=.166&&rn<.234&&an>=-.214&&an<-.115?bn:kr).invert(oa)},na.stream=function(oa){return yr&&cr===oa?yr:yr=ct([kr.stream(cr=oa),sn.stream(oa),bn.stream(oa)])},na.precision=function(oa){return arguments.length?(kr.precision(oa),sn.precision(oa),bn.precision(oa),ea()):kr.precision()},na.scale=function(oa){return arguments.length?(kr.scale(oa),sn.scale(oa*.35),bn.scale(oa),na.translate(kr.translate())):kr.scale()},na.translate=function(oa){if(!arguments.length)return kr.translate();var $n=kr.scale(),Rr=+oa[0],an=+oa[1];return Or=kr.translate(oa).clipExtent([[Rr-.455*$n,an-.238*$n],[Rr+.455*$n,an+.238*$n]]).stream(Kn),yn=sn.translate([Rr-.307*$n,an+.201*$n]).clipExtent([[Rr-.425*$n+a.Ho,an+.12*$n+a.Ho],[Rr-.214*$n-a.Ho,an+.234*$n-a.Ho]]).stream(Kn),mn=bn.translate([Rr-.205*$n,an+.212*$n]).clipExtent([[Rr-.214*$n+a.Ho,an+.166*$n+a.Ho],[Rr-.115*$n-a.Ho,an+.234*$n-a.Ho]]).stream(Kn),ea()},na.fitExtent=function(oa,$n){return(0,dr.qg)(na,oa,$n)},na.fitSize=function(oa,$n){return(0,dr.mF)(na,oa,$n)},na.fitWidth=function(oa,$n){return(0,dr.V6)(na,oa,$n)},na.fitHeight=function(oa,$n){return(0,dr.rf)(na,oa,$n)};function ea(){return yr=cr=null,na}return na.scale(1070)}var wt=e(12956),Mt=e(17889),Dt=e(49386);function St(yr,cr){return[yr,(0,a.cM)((0,a.OR)((a.ou+cr)/2))]}St.invert=function(yr,cr){return[yr,2*(0,a.z4)((0,a.Qq)(cr))-a.ou]};function Ot(){return Vt(St).scale(961/a.BZ)}function Vt(yr){var cr=(0,lr.Z)(yr),kr=cr.center,Or=cr.scale,sn=cr.translate,yn=cr.clipExtent,bn=null,mn,_n,Kn;cr.scale=function(ea){return arguments.length?(Or(ea),na()):Or()},cr.translate=function(ea){return arguments.length?(sn(ea),na()):sn()},cr.center=function(ea){return arguments.length?(kr(ea),na()):kr()},cr.clipExtent=function(ea){return arguments.length?(ea==null?bn=mn=_n=Kn=null:(bn=+ea[0][0],mn=+ea[0][1],_n=+ea[1][0],Kn=+ea[1][1]),na()):bn==null?null:[[bn,mn],[_n,Kn]]};function na(){var ea=a.pi*Or(),oa=cr((0,Dt.Z)(cr.rotate()).invert([0,0]));return yn(bn==null?[[oa[0]-ea,oa[1]-ea],[oa[0]+ea,oa[1]+ea]]:yr===St?[[Math.max(oa[0]-ea,bn),mn],[Math.min(oa[0]+ea,_n),Kn]]:[[bn,Math.max(oa[1]-ea,mn)],[_n,Math.min(oa[1]+ea,Kn)]])}return na()}function Qt(yr){return(0,a.OR)((a.ou+yr)/2)}function Kt(yr,cr){var kr=(0,a.mC)(yr),Or=yr===cr?(0,a.O$)(yr):(0,a.cM)(kr/(0,a.mC)(cr))/(0,a.cM)(Qt(cr)/Qt(yr)),sn=kr*(0,a.sQ)(Qt(yr),Or)/Or;if(!Or)return St;function yn(bn,mn){sn>0?mn<-a.ou+a.Ho&&(mn=-a.ou+a.Ho):mn>a.ou-a.Ho&&(mn=a.ou-a.Ho);var _n=sn/(0,a.sQ)(Qt(mn),Or);return[_n*(0,a.O$)(Or*bn),sn-_n*(0,a.mC)(Or*bn)]}return yn.invert=function(bn,mn){var _n=sn-mn,Kn=(0,a.Xx)(Or)*(0,a._b)(bn*bn+_n*_n),na=(0,a.fv)(bn,(0,a.Wn)(_n))*(0,a.Xx)(_n);return _n*Or<0&&(na-=a.pi*(0,a.Xx)(bn)*(0,a.Xx)(_n)),[na/Or,2*(0,a.z4)((0,a.sQ)(sn/Kn,1/Or))-a.ou]},yn}function or(){return zr(Kt).scale(109.5).parallels([30,30])}var Mr=e(97492);function Ve(yr,cr){var kr=(0,a.mC)(yr),Or=yr===cr?(0,a.O$)(yr):(kr-(0,a.mC)(cr))/(cr-yr),sn=kr/Or+yr;if((0,a.Wn)(Or)<a.Ho)return Mr.k;function yn(bn,mn){var _n=sn-mn,Kn=Or*bn;return[_n*(0,a.O$)(Kn),sn-_n*(0,a.mC)(Kn)]}return yn.invert=function(bn,mn){var _n=sn-mn,Kn=(0,a.fv)(bn,(0,a.Wn)(_n))*(0,a.Xx)(_n);return _n*Or<0&&(Kn-=a.pi*(0,a.Xx)(bn)*(0,a.Xx)(_n)),[Kn/Or,sn-(0,a.Xx)(Or)*(0,a._b)(bn*bn+_n*_n)]},yn}function Ge(){return zr(Ve).scale(131.154).center([0,13.9389])}var Ft=1.340264,kt=-.081106,Zt=893e-6,tr=.003796,sr=(0,a._b)(3)/2,rr=12;function Nt(yr,cr){var kr=(0,a.ZR)(sr*(0,a.O$)(cr)),Or=kr*kr,sn=Or*Or*Or;return[yr*(0,a.mC)(kr)/(sr*(Ft+3*kt*Or+sn*(7*Zt+9*tr*Or))),kr*(Ft+kt*Or+sn*(Zt+tr*Or))]}Nt.invert=function(yr,cr){for(var kr=cr,Or=kr*kr,sn=Or*Or*Or,yn=0,bn,mn,_n;yn<rr&&(mn=kr*(Ft+kt*Or+sn*(Zt+tr*Or))-cr,_n=Ft+3*kt*Or+sn*(7*Zt+9*tr*Or),kr-=bn=mn/_n,Or=kr*kr,sn=Or*Or*Or,!((0,a.Wn)(bn)<a.aW));++yn);return[sr*yr*(Ft+3*kt*Or+sn*(7*Zt+9*tr*Or))/(0,a.mC)(kr),(0,a.ZR)((0,a.O$)(kr)/sr)]};function hr(){return(0,lr.Z)(Nt).scale(177.158)}var pr=e(98936),br=e(64684);function vr(){var yr=1,cr=0,kr=0,Or=1,sn=1,yn=0,bn,mn,_n=null,Kn,na,ea,oa=1,$n=1,Rr=(0,br.l)({point:function(Cn,Hn){var ra=En([Cn,Hn]);this.stream.point(ra[0],ra[1])}}),an=oe.Z,rn,vn;function Nn(){return oa=yr*Or,$n=yr*sn,rn=vn=null,En}function En(Cn){var Hn=Cn[0]*oa,ra=Cn[1]*$n;if(yn){var Ea=ra*bn-Hn*mn;Hn=Hn*bn+ra*mn,ra=Ea}return[Hn+cr,ra+kr]}return En.invert=function(Cn){var Hn=Cn[0]-cr,ra=Cn[1]-kr;if(yn){var Ea=ra*bn+Hn*mn;Hn=Hn*bn-ra*mn,ra=Ea}return[Hn/oa,ra/$n]},En.stream=function(Cn){return rn&&vn===Cn?rn:rn=Rr(an(vn=Cn))},En.postclip=function(Cn){return arguments.length?(an=Cn,_n=Kn=na=ea=null,Nn()):an},En.clipExtent=function(Cn){return arguments.length?(an=Cn==null?(_n=Kn=na=ea=null,oe.Z):(0,y.Z)(_n=+Cn[0][0],Kn=+Cn[0][1],na=+Cn[1][0],ea=+Cn[1][1]),Nn()):_n==null?null:[[_n,Kn],[na,ea]]},En.scale=function(Cn){return arguments.length?(yr=+Cn,Nn()):yr},En.translate=function(Cn){return arguments.length?(cr=+Cn[0],kr=+Cn[1],Nn()):[cr,kr]},En.angle=function(Cn){return arguments.length?(yn=Cn%360*a.uR,mn=(0,a.O$)(yn),bn=(0,a.mC)(yn),Nn()):yn*a.RW},En.reflectX=function(Cn){return arguments.length?(Or=Cn?-1:1,Nn()):Or<0},En.reflectY=function(Cn){return arguments.length?(sn=Cn?-1:1,Nn()):sn<0},En.fitExtent=function(Cn,Hn){return(0,dr.qg)(En,Cn,Hn)},En.fitSize=function(Cn,Hn){return(0,dr.mF)(En,Cn,Hn)},En.fitWidth=function(Cn,Hn){return(0,dr.V6)(En,Cn,Hn)},En.fitHeight=function(Cn,Hn){return(0,dr.rf)(En,Cn,Hn)},En}var Kr=e(26867),Fr=e(57962),Br=e(25382);function xn(yr,cr){var kr=(0,a.mC)(cr),Or=1+(0,a.mC)(yr)*kr;return[kr*(0,a.O$)(yr)/Or,(0,a.O$)(cr)/Or]}xn.invert=(0,Br.O)(function(yr){return 2*(0,a.z4)(yr)});function jr(){return(0,lr.Z)(xn).scale(250).clipAngle(142)}function Dn(yr,cr){return[(0,a.cM)((0,a.OR)((a.ou+cr)/2)),-yr]}Dn.invert=function(yr,cr){return[-cr,2*(0,a.z4)((0,a.Qq)(yr))-a.ou]};function In(){var yr=Vt(Dn),cr=yr.center,kr=yr.rotate;return yr.center=function(Or){return arguments.length?cr([-Or[1],Or[0]]):(Or=cr(),[Or[1],-Or[0]])},yr.rotate=function(Or){return arguments.length?kr([Or[0],Or[1],Or.length>2?Or[2]+90:90]):(Or=kr(),[Or[0],Or[1],Or[2]-90])},kr([0,0,90]).scale(159.155)}},83074:function(G,U,e){e.d(U,{Z:function(){return L}});var p=e(39695);function L(n,C){var w=n[0]*p.uR,v=n[1]*p.uR,y=C[0]*p.uR,t=C[1]*p.uR,r=(0,p.mC)(v),l=(0,p.O$)(v),a=(0,p.mC)(t),s=(0,p.O$)(t),c=r*(0,p.mC)(w),u=r*(0,p.O$)(w),m=a*(0,p.mC)(y),h=a*(0,p.O$)(y),T=2*(0,p.ZR)((0,p._b)((0,p.Jy)(t-v)+r*a*(0,p.Jy)(y-w))),f=(0,p.O$)(T),o=T?function(d){var M=(0,p.O$)(d*=T)/f,A=(0,p.O$)(T-d)/f,E=A*c+M*m,g=A*u+M*h,S=A*l+M*s;return[(0,p.fv)(g,E)*p.RW,(0,p.fv)(S,(0,p._b)(E*E+g*g))*p.RW]}:function(){return[w*p.RW,v*p.RW]};return o.distance=T,o}},39695:function(G,U,e){e.d(U,{BZ:function(){return v},Ho:function(){return p},Jy:function(){return E},Kh:function(){return M},O$:function(){return T},OR:function(){return d},Qq:function(){return u},RW:function(){return y},Wn:function(){return r},Xx:function(){return f},ZR:function(){return A},_b:function(){return o},aW:function(){return L},cM:function(){return m},fv:function(){return a},mC:function(){return s},mD:function(){return c},ou:function(){return C},pi:function(){return n},pu:function(){return w},sQ:function(){return h},uR:function(){return t},z4:function(){return l}});var p=1e-6,L=1e-12,n=Math.PI,C=n/2,w=n/4,v=n*2,y=180/n,t=n/180,r=Math.abs,l=Math.atan,a=Math.atan2,s=Math.cos,c=Math.ceil,u=Math.exp,m=Math.log,h=Math.pow,T=Math.sin,f=Math.sign||function(g){return g>0?1:g<0?-1:0},o=Math.sqrt,d=Math.tan;function M(g){return g>1?0:g<-1?n:Math.acos(g)}function A(g){return g>1?C:g<-1?-C:Math.asin(g)}function E(g){return(g=T(g/2))*g}},73182:function(G,U,e){e.d(U,{Z:function(){return p}});function p(){}},3559:function(G,U,e){var p=e(73182),L=1/0,n=L,C=-L,w=C,v={point:y,lineStart:p.Z,lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z,result:function(){var t=[[L,n],[C,w]];return C=w=-(n=L=1/0),t}};function y(t,r){t<L&&(L=t),t>C&&(C=t),r<n&&(n=r),r>w&&(w=r)}U.Z=v},67108:function(G,U,e){e.d(U,{Z:function(){return L}});var p=e(39695);function L(n,C){return(0,p.Wn)(n[0]-C[0])<p.Ho&&(0,p.Wn)(n[1]-C[1])<p.Ho}},23071:function(G,U,e){e.d(U,{Z:function(){return v}});var p=e(33940),L=e(7620),n=e(39695),C=(0,p.Z)();function w(y){return(0,n.Wn)(y[0])<=n.pi?y[0]:(0,n.Xx)(y[0])*(((0,n.Wn)(y[0])+n.pi)%n.BZ-n.pi)}function v(y,t){var r=w(t),l=t[1],a=(0,n.O$)(l),s=[(0,n.O$)(r),-(0,n.mC)(r),0],c=0,u=0;C.reset(),a===1?l=n.ou+n.Ho:a===-1&&(l=-n.ou-n.Ho);for(var m=0,h=y.length;m<h;++m)if(f=(T=y[m]).length)for(var T,f,o=T[f-1],d=w(o),M=o[1]/2+n.pu,A=(0,n.O$)(M),E=(0,n.mC)(M),g=0;g<f;++g,d=b,A=P,E=x,o=S){var S=T[g],b=w(S),i=S[1]/2+n.pu,P=(0,n.O$)(i),x=(0,n.mC)(i),k=b-d,_=k>=0?1:-1,B=_*k,I=B>n.pi,z=A*P;if(C.add((0,n.fv)(z*_*(0,n.O$)(B),E*x+z*(0,n.mC)(B))),c+=I?k+_*n.BZ:k,I^d>=r^b>=r){var O=(0,L.T5)((0,L.Og)(o),(0,L.Og)(S));(0,L.iJ)(O);var F=(0,L.T5)(s,O);(0,L.iJ)(F);var N=(I^k>=0?-1:1)*(0,n.ZR)(F[2]);(l>N||l===N&&(O[0]||O[1]))&&(u+=I^k>=0?1:-1)}}return(c<-n.Ho||c<n.Ho&&C<-n.Ho)^u&1}},25382:function(G,U,e){e.d(U,{O:function(){return n},W:function(){return L}});var p=e(39695);function L(C){return function(w,v){var y=(0,p.mC)(w),t=(0,p.mC)(v),r=C(y*t);return[r*t*(0,p.O$)(w),r*(0,p.O$)(v)]}}function n(C){return function(w,v){var y=(0,p._b)(w*w+v*v),t=C(y),r=(0,p.O$)(t),l=(0,p.mC)(t);return[(0,p.fv)(w*r,y*l),(0,p.ZR)(y&&v*r/y)]}}},12956:function(G,U,e){e.d(U,{Z:function(){return w},l:function(){return C}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(v){return(0,p._b)(2/(1+v))});C.invert=(0,L.O)(function(v){return 2*(0,p.ZR)(v/2)});function w(){return(0,n.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(G,U,e){e.d(U,{N:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(v){return(v=(0,p.Kh)(v))&&v/(0,p.O$)(v)});C.invert=(0,L.O)(function(v){return v});function w(){return(0,n.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(G,U,e){e.d(U,{Z:function(){return n},k:function(){return L}});var p=e(15002);function L(C,w){return[C,w]}L.invert=L;function n(){return(0,p.Z)(L).scale(152.63)}},47589:function(G,U,e){e.d(U,{V6:function(){return v},mF:function(){return w},qg:function(){return C},rf:function(){return y}});var p=e(72736),L=e(3559);function n(t,r,l){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),(0,p.Z)(l,t.stream(L.Z)),r(L.Z.result()),a!=null&&t.clipExtent(a),t}function C(t,r,l){return n(t,function(a){var s=r[1][0]-r[0][0],c=r[1][1]-r[0][1],u=Math.min(s/(a[1][0]-a[0][0]),c/(a[1][1]-a[0][1])),m=+r[0][0]+(s-u*(a[1][0]+a[0][0]))/2,h=+r[0][1]+(c-u*(a[1][1]+a[0][1]))/2;t.scale(150*u).translate([m,h])},l)}function w(t,r,l){return C(t,[[0,0],r],l)}function v(t,r,l){return n(t,function(a){var s=+r,c=s/(a[1][0]-a[0][0]),u=(s-c*(a[1][0]+a[0][0]))/2,m=-c*a[0][1];t.scale(150*c).translate([u,m])},l)}function y(t,r,l){return n(t,function(a){var s=+r,c=s/(a[1][1]-a[0][1]),u=-c*a[0][0],m=(s-c*(a[1][1]+a[0][1]))/2;t.scale(150*c).translate([u,m])},l)}},98936:function(G,U,e){e.d(U,{M:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),n=e(15002);function C(v,y){var t=(0,p.mC)(y),r=(0,p.mC)(v)*t;return[t*(0,p.O$)(v)/r,(0,p.O$)(y)/r]}C.invert=(0,L.O)(p.z4);function w(){return(0,n.Z)(C).scale(144.049).clipAngle(60)}},15002:function(G,U,e){e.d(U,{Z:function(){return d},r:function(){return M}});var p=e(87070),L=e(1457),n=e(87605),C=e(96059),w=e(8593),v=e(39695),y=e(49386),t=e(64684),r=e(47589),l=e(7620),a=16,s=(0,v.mC)(30*v.uR);function c(A,E){return+E?m(A,E):u(A)}function u(A){return(0,t.l)({point:function(E,g){E=A(E,g),this.stream.point(E[0],E[1])}})}function m(A,E){function g(S,b,i,P,x,k,_,B,I,z,O,F,N,Q){var $=_-S,j=B-b,ee=$*$+j*j;if(ee>4*E&&N--){var oe=P+z,Y=x+O,V=k+F,W=(0,v._b)(oe*oe+Y*Y+V*V),X=(0,v.ZR)(V/=W),re=(0,v.Wn)((0,v.Wn)(V)-1)<v.Ho||(0,v.Wn)(i-I)<v.Ho?(i+I)/2:(0,v.fv)(Y,oe),ie=A(re,X),K=ie[0],q=ie[1],le=K-S,ae=q-b,he=j*le-$*ae;(he*he/ee>E||(0,v.Wn)(($*le+j*ae)/ee-.5)>.3||P*z+x*O+k*F<s)&&(g(S,b,i,P,x,k,K,q,re,oe/=W,Y/=W,V,N,Q),Q.point(K,q),g(K,q,re,oe,Y,V,_,B,I,z,O,F,N,Q))}}return function(S){var b,i,P,x,k,_,B,I,z,O,F,N,Q={point:$,lineStart:j,lineEnd:oe,polygonStart:function(){S.polygonStart(),Q.lineStart=Y},polygonEnd:function(){S.polygonEnd(),Q.lineStart=j}};function $(X,re){X=A(X,re),S.point(X[0],X[1])}function j(){I=NaN,Q.point=ee,S.lineStart()}function ee(X,re){var ie=(0,l.Og)([X,re]),K=A(X,re);g(I,z,B,O,F,N,I=K[0],z=K[1],B=X,O=ie[0],F=ie[1],N=ie[2],a,S),S.point(I,z)}function oe(){Q.point=$,S.lineEnd()}function Y(){j(),Q.point=V,Q.lineEnd=W}function V(X,re){ee(b=X,re),i=I,P=z,x=O,k=F,_=N,Q.point=ee}function W(){g(I,z,B,O,F,N,i,P,b,x,k,_,a,S),Q.lineEnd=oe,oe()}return Q}}var h=(0,t.l)({point:function(A,E){this.stream.point(A*v.uR,E*v.uR)}});function T(A){return(0,t.l)({point:function(E,g){var S=A(E,g);return this.stream.point(S[0],S[1])}})}function f(A,E,g,S,b){function i(P,x){return P*=S,x*=b,[E+A*P,g-A*x]}return i.invert=function(P,x){return[(P-E)/A*S,(g-x)/A*b]},i}function o(A,E,g,S,b,i){var P=(0,v.mC)(i),x=(0,v.O$)(i),k=P*A,_=x*A,B=P/A,I=x/A,z=(x*g-P*E)/A,O=(x*E+P*g)/A;function F(N,Q){return N*=S,Q*=b,[k*N-_*Q+E,g-_*N-k*Q]}return F.invert=function(N,Q){return[S*(B*N-I*Q+z),b*(O-I*N-B*Q)]},F}function d(A){return M(function(){return A})()}function M(A){var E,g=150,S=480,b=250,i=0,P=0,x=0,k=0,_=0,B,I=0,z=1,O=1,F=null,N=p.Z,Q=null,$,j,ee,oe=w.Z,Y=.5,V,W,X,re,ie;function K(he){return X(he[0]*v.uR,he[1]*v.uR)}function q(he){return he=X.invert(he[0],he[1]),he&&[he[0]*v.RW,he[1]*v.RW]}K.stream=function(he){return re&&ie===he?re:re=h(T(B)(N(V(oe(ie=he)))))},K.preclip=function(he){return arguments.length?(N=he,F=void 0,ae()):N},K.postclip=function(he){return arguments.length?(oe=he,Q=$=j=ee=null,ae()):oe},K.clipAngle=function(he){return arguments.length?(N=+he?(0,L.Z)(F=he*v.uR):(F=null,p.Z),ae()):F*v.RW},K.clipExtent=function(he){return arguments.length?(oe=he==null?(Q=$=j=ee=null,w.Z):(0,n.Z)(Q=+he[0][0],$=+he[0][1],j=+he[1][0],ee=+he[1][1]),ae()):Q==null?null:[[Q,$],[j,ee]]},K.scale=function(he){return arguments.length?(g=+he,le()):g},K.translate=function(he){return arguments.length?(S=+he[0],b=+he[1],le()):[S,b]},K.center=function(he){return arguments.length?(i=he[0]%360*v.uR,P=he[1]%360*v.uR,le()):[i*v.RW,P*v.RW]},K.rotate=function(he){return arguments.length?(x=he[0]%360*v.uR,k=he[1]%360*v.uR,_=he.length>2?he[2]%360*v.uR:0,le()):[x*v.RW,k*v.RW,_*v.RW]},K.angle=function(he){return arguments.length?(I=he%360*v.uR,le()):I*v.RW},K.reflectX=function(he){return arguments.length?(z=he?-1:1,le()):z<0},K.reflectY=function(he){return arguments.length?(O=he?-1:1,le()):O<0},K.precision=function(he){return arguments.length?(V=c(W,Y=he*he),ae()):(0,v._b)(Y)},K.fitExtent=function(he,me){return(0,r.qg)(K,he,me)},K.fitSize=function(he,me){return(0,r.mF)(K,he,me)},K.fitWidth=function(he,me){return(0,r.V6)(K,he,me)},K.fitHeight=function(he,me){return(0,r.rf)(K,he,me)};function le(){var he=o(g,0,0,z,O,I).apply(null,E(i,P)),me=(I?o:f)(g,S-he[0],b-he[1],z,O,I);return B=(0,y.I)(x,k,_),W=(0,C.Z)(E,me),X=(0,C.Z)(B,W),V=c(W,Y),ae()}function ae(){return re=ie=null,K}return function(){return E=A.apply(this,arguments),K.invert=E.invert&&q,le()}}},26867:function(G,U,e){e.d(U,{K:function(){return n},Z:function(){return C}});var p=e(15002),L=e(39695);function n(w,v){var y=v*v,t=y*y;return[w*(.8707-.131979*y+t*(-.013791+t*(.003971*y-.001529*t))),v*(1.007226+y*(.015085+t*(-.044475+.028874*y-.005916*t)))]}n.invert=function(w,v){var y=v,t=25,r;do{var l=y*y,a=l*l;y-=r=(y*(1.007226+l*(.015085+a*(-.044475+.028874*l-.005916*a)))-v)/(1.007226+l*(.045255+a*(-.311325+.259866*l-.06507600000000001*a)))}while((0,L.Wn)(r)>L.Ho&&--t>0);return[w/(.8707+(l=y*y)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),y]};function C(){return(0,p.Z)(n).scale(175.295)}},57962:function(G,U,e){e.d(U,{I:function(){return C},Z:function(){return w}});var p=e(39695),L=e(25382),n=e(15002);function C(v,y){return[(0,p.mC)(y)*(0,p.O$)(v),(0,p.O$)(y)]}C.invert=(0,L.O)(p.ZR);function w(){return(0,n.Z)(C).scale(249.5).clipAngle(90+p.Ho)}},49386:function(G,U,e){e.d(U,{I:function(){return C},Z:function(){return t}});var p=e(96059),L=e(39695);function n(r,l){return[(0,L.Wn)(r)>L.pi?r+Math.round(-r/L.BZ)*L.BZ:r,l]}n.invert=n;function C(r,l,a){return(r%=L.BZ)?l||a?(0,p.Z)(v(r),y(l,a)):v(r):l||a?y(l,a):n}function w(r){return function(l,a){return l+=r,[l>L.pi?l-L.BZ:l<-L.pi?l+L.BZ:l,a]}}function v(r){var l=w(r);return l.invert=w(-r),l}function y(r,l){var a=(0,L.mC)(r),s=(0,L.O$)(r),c=(0,L.mC)(l),u=(0,L.O$)(l);function m(h,T){var f=(0,L.mC)(T),o=(0,L.mC)(h)*f,d=(0,L.O$)(h)*f,M=(0,L.O$)(T),A=M*a+o*s;return[(0,L.fv)(d*c-A*u,o*a-M*s),(0,L.ZR)(A*c+d*u)]}return m.invert=function(h,T){var f=(0,L.mC)(T),o=(0,L.mC)(h)*f,d=(0,L.O$)(h)*f,M=(0,L.O$)(T),A=M*c-d*u;return[(0,L.fv)(d*c+M*u,o*a+A*s),(0,L.ZR)(A*a-o*s)]},m}function t(r){r=C(r[0]*L.uR,r[1]*L.uR,r.length>2?r[2]*L.uR:0);function l(a){return a=r(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a}return l.invert=function(a){return a=r.invert(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a},l}},72736:function(G,U,e){e.d(U,{Z:function(){return v}});function p(y,t){y&&n.hasOwnProperty(y.type)&&n[y.type](y,t)}var L={Feature:function(y,t){p(y.geometry,t)},FeatureCollection:function(y,t){for(var r=y.features,l=-1,a=r.length;++l<a;)p(r[l].geometry,t)}},n={Sphere:function(y,t){t.sphere()},Point:function(y,t){y=y.coordinates,t.point(y[0],y[1],y[2])},MultiPoint:function(y,t){for(var r=y.coordinates,l=-1,a=r.length;++l<a;)y=r[l],t.point(y[0],y[1],y[2])},LineString:function(y,t){C(y.coordinates,t,0)},MultiLineString:function(y,t){for(var r=y.coordinates,l=-1,a=r.length;++l<a;)C(r[l],t,0)},Polygon:function(y,t){w(y.coordinates,t)},MultiPolygon:function(y,t){for(var r=y.coordinates,l=-1,a=r.length;++l<a;)w(r[l],t)},GeometryCollection:function(y,t){for(var r=y.geometries,l=-1,a=r.length;++l<a;)p(r[l],t)}};function C(y,t,r){var l=-1,a=y.length-r,s;for(t.lineStart();++l<a;)s=y[l],t.point(s[0],s[1],s[2]);t.lineEnd()}function w(y,t){var r=-1,l=y.length;for(t.polygonStart();++r<l;)C(y[r],t,1);t.polygonEnd()}function v(y,t){y&&L.hasOwnProperty(y.type)?L[y.type](y,t):p(y,t)}},64684:function(G,U,e){e.d(U,{Z:function(){return p},l:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(w){var v=new n;for(var y in C)v[y]=C[y];return v.stream=w,v}}function n(){}n.prototype={constructor:n,point:function(C,w){this.stream.point(C,w)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(G,U,e){e.r(U),e.d(U,{cluster:function(){return t},hierarchy:function(){return A},pack:function(){return q},packEnclose:function(){return k},packSiblings:function(){return V},partition:function(){return xe},stratify:function(){return Be},tree:function(){return gt},treemap:function(){return Fe},treemapBinary:function(){return $e},treemapDice:function(){return Me},treemapResquarify:function(){return Xe},treemapSlice:function(){return xt},treemapSliceDice:function(){return at},treemapSquarify:function(){return ze}});function p(Pe,we){return Pe.parent===we.parent?1:2}function L(Pe){return Pe.reduce(n,0)/Pe.length}function n(Pe,we){return Pe+we.x}function C(Pe){return 1+Pe.reduce(w,0)}function w(Pe,we){return Math.max(Pe,we.y)}function v(Pe){for(var we;we=Pe.children;)Pe=we[0];return Pe}function y(Pe){for(var we;we=Pe.children;)Pe=we[we.length-1];return Pe}function t(){var Pe=p,we=1,ue=1,ge=!1;function Le(ke){var it,lt=0;ke.eachAfter(function(_t){var nr=_t.children;nr?(_t.x=L(nr),_t.y=C(nr)):(_t.x=it?lt+=Pe(_t,it):0,_t.y=0,it=_t)});var bt=v(ke),Rt=y(ke),Ut=bt.x-Pe(bt,Rt)/2,Gt=Rt.x+Pe(Rt,bt)/2;return ke.eachAfter(ge?function(_t){_t.x=(_t.x-ke.x)*we,_t.y=(ke.y-_t.y)*ue}:function(_t){_t.x=(_t.x-Ut)/(Gt-Ut)*we,_t.y=(1-(ke.y?_t.y/ke.y:1))*ue})}return Le.separation=function(ke){return arguments.length?(Pe=ke,Le):Pe},Le.size=function(ke){return arguments.length?(ge=!1,we=+ke[0],ue=+ke[1],Le):ge?null:[we,ue]},Le.nodeSize=function(ke){return arguments.length?(ge=!0,we=+ke[0],ue=+ke[1],Le):ge?[we,ue]:null},Le}function r(Pe){var we=0,ue=Pe.children,ge=ue&&ue.length;if(!ge)we=1;else for(;--ge>=0;)we+=ue[ge].value;Pe.value=we}function l(){return this.eachAfter(r)}function a(Pe){var we=this,ue,ge=[we],Le,ke,it;do for(ue=ge.reverse(),ge=[];we=ue.pop();)if(Pe(we),Le=we.children,Le)for(ke=0,it=Le.length;ke<it;++ke)ge.push(Le[ke]);while(ge.length);return this}function s(Pe){for(var we=this,ue=[we],ge,Le;we=ue.pop();)if(Pe(we),ge=we.children,ge)for(Le=ge.length-1;Le>=0;--Le)ue.push(ge[Le]);return this}function c(Pe){for(var we=this,ue=[we],ge=[],Le,ke,it;we=ue.pop();)if(ge.push(we),Le=we.children,Le)for(ke=0,it=Le.length;ke<it;++ke)ue.push(Le[ke]);for(;we=ge.pop();)Pe(we);return this}function u(Pe){return this.eachAfter(function(we){for(var ue=+Pe(we.data)||0,ge=we.children,Le=ge&&ge.length;--Le>=0;)ue+=ge[Le].value;we.value=ue})}function m(Pe){return this.eachBefore(function(we){we.children&&we.children.sort(Pe)})}function h(Pe){for(var we=this,ue=T(we,Pe),ge=[we];we!==ue;)we=we.parent,ge.push(we);for(var Le=ge.length;Pe!==ue;)ge.splice(Le,0,Pe),Pe=Pe.parent;return ge}function T(Pe,we){if(Pe===we)return Pe;var ue=Pe.ancestors(),ge=we.ancestors(),Le=null;for(Pe=ue.pop(),we=ge.pop();Pe===we;)Le=Pe,Pe=ue.pop(),we=ge.pop();return Le}function f(){for(var Pe=this,we=[Pe];Pe=Pe.parent;)we.push(Pe);return we}function o(){var Pe=[];return this.each(function(we){Pe.push(we)}),Pe}function d(){var Pe=[];return this.eachBefore(function(we){we.children||Pe.push(we)}),Pe}function M(){var Pe=this,we=[];return Pe.each(function(ue){ue!==Pe&&we.push({source:ue.parent,target:ue})}),we}function A(Pe,we){var ue=new i(Pe),ge=+Pe.value&&(ue.value=Pe.value),Le,ke=[ue],it,lt,bt,Rt;for(we==null&&(we=g);Le=ke.pop();)if(ge&&(Le.value=+Le.data.value),(lt=we(Le.data))&&(Rt=lt.length))for(Le.children=new Array(Rt),bt=Rt-1;bt>=0;--bt)ke.push(it=Le.children[bt]=new i(lt[bt])),it.parent=Le,it.depth=Le.depth+1;return ue.eachBefore(b)}function E(){return A(this).eachBefore(S)}function g(Pe){return Pe.children}function S(Pe){Pe.data=Pe.data.data}function b(Pe){var we=0;do Pe.height=we;while((Pe=Pe.parent)&&Pe.height<++we)}function i(Pe){this.data=Pe,this.depth=this.height=0,this.parent=null}i.prototype=A.prototype={constructor:i,count:l,each:a,eachAfter:c,eachBefore:s,sum:u,sort:m,path:h,ancestors:f,descendants:o,leaves:d,links:M,copy:E};var P=Array.prototype.slice;function x(Pe){for(var we=Pe.length,ue,ge;we;)ge=Math.random()*we--|0,ue=Pe[we],Pe[we]=Pe[ge],Pe[ge]=ue;return Pe}function k(Pe){for(var we=0,ue=(Pe=x(P.call(Pe))).length,ge=[],Le,ke;we<ue;)Le=Pe[we],ke&&I(ke,Le)?++we:(ke=O(ge=_(ge,Le)),we=0);return ke}function _(Pe,we){var ue,ge;if(z(we,Pe))return[we];for(ue=0;ue<Pe.length;++ue)if(B(we,Pe[ue])&&z(N(Pe[ue],we),Pe))return[Pe[ue],we];for(ue=0;ue<Pe.length-1;++ue)for(ge=ue+1;ge<Pe.length;++ge)if(B(N(Pe[ue],Pe[ge]),we)&&B(N(Pe[ue],we),Pe[ge])&&B(N(Pe[ge],we),Pe[ue])&&z(Q(Pe[ue],Pe[ge],we),Pe))return[Pe[ue],Pe[ge],we];throw new Error}function B(Pe,we){var ue=Pe.r-we.r,ge=we.x-Pe.x,Le=we.y-Pe.y;return ue<0||ue*ue<ge*ge+Le*Le}function I(Pe,we){var ue=Pe.r-we.r+1e-6,ge=we.x-Pe.x,Le=we.y-Pe.y;return ue>0&&ue*ue>ge*ge+Le*Le}function z(Pe,we){for(var ue=0;ue<we.length;++ue)if(!I(Pe,we[ue]))return!1;return!0}function O(Pe){switch(Pe.length){case 1:return F(Pe[0]);case 2:return N(Pe[0],Pe[1]);case 3:return Q(Pe[0],Pe[1],Pe[2])}}function F(Pe){return{x:Pe.x,y:Pe.y,r:Pe.r}}function N(Pe,we){var ue=Pe.x,ge=Pe.y,Le=Pe.r,ke=we.x,it=we.y,lt=we.r,bt=ke-ue,Rt=it-ge,Ut=lt-Le,Gt=Math.sqrt(bt*bt+Rt*Rt);return{x:(ue+ke+bt/Gt*Ut)/2,y:(ge+it+Rt/Gt*Ut)/2,r:(Gt+Le+lt)/2}}function Q(Pe,we,ue){var ge=Pe.x,Le=Pe.y,ke=Pe.r,it=we.x,lt=we.y,bt=we.r,Rt=ue.x,Ut=ue.y,Gt=ue.r,_t=ge-it,nr=ge-Rt,lr=Le-lt,zr=Le-Ut,mt=bt-ke,jt=Gt-ke,Yt=ge*ge+Le*Le-ke*ke,wr=Yt-it*it-lt*lt+bt*bt,dr=Yt-Rt*Rt-Ut*Ut+Gt*Gt,ct=nr*lr-_t*zr,ot=(lr*dr-zr*wr)/(ct*2)-ge,wt=(zr*mt-lr*jt)/ct,Mt=(nr*wr-_t*dr)/(ct*2)-Le,Dt=(_t*jt-nr*mt)/ct,St=wt*wt+Dt*Dt-1,Ot=2*(ke+ot*wt+Mt*Dt),Vt=ot*ot+Mt*Mt-ke*ke,Qt=-(St?(Ot+Math.sqrt(Ot*Ot-4*St*Vt))/(2*St):Vt/Ot);return{x:ge+ot+wt*Qt,y:Le+Mt+Dt*Qt,r:Qt}}function $(Pe,we,ue){var ge=Pe.x-we.x,Le,ke,it=Pe.y-we.y,lt,bt,Rt=ge*ge+it*it;Rt?(ke=we.r+ue.r,ke*=ke,bt=Pe.r+ue.r,bt*=bt,ke>bt?(Le=(Rt+bt-ke)/(2*Rt),lt=Math.sqrt(Math.max(0,bt/Rt-Le*Le)),ue.x=Pe.x-Le*ge-lt*it,ue.y=Pe.y-Le*it+lt*ge):(Le=(Rt+ke-bt)/(2*Rt),lt=Math.sqrt(Math.max(0,ke/Rt-Le*Le)),ue.x=we.x+Le*ge-lt*it,ue.y=we.y+Le*it+lt*ge)):(ue.x=we.x+ue.r,ue.y=we.y)}function j(Pe,we){var ue=Pe.r+we.r-1e-6,ge=we.x-Pe.x,Le=we.y-Pe.y;return ue>0&&ue*ue>ge*ge+Le*Le}function ee(Pe){var we=Pe._,ue=Pe.next._,ge=we.r+ue.r,Le=(we.x*ue.r+ue.x*we.r)/ge,ke=(we.y*ue.r+ue.y*we.r)/ge;return Le*Le+ke*ke}function oe(Pe){this._=Pe,this.next=null,this.previous=null}function Y(Pe){if(!(Le=Pe.length))return 0;var we,ue,ge,Le,ke,it,lt,bt,Rt,Ut,Gt;if(we=Pe[0],we.x=0,we.y=0,!(Le>1))return we.r;if(ue=Pe[1],we.x=-ue.r,ue.x=we.r,ue.y=0,!(Le>2))return we.r+ue.r;$(ue,we,ge=Pe[2]),we=new oe(we),ue=new oe(ue),ge=new oe(ge),we.next=ge.previous=ue,ue.next=we.previous=ge,ge.next=ue.previous=we;e:for(lt=3;lt<Le;++lt){$(we._,ue._,ge=Pe[lt]),ge=new oe(ge),bt=ue.next,Rt=we.previous,Ut=ue._.r,Gt=we._.r;do if(Ut<=Gt){if(j(bt._,ge._)){ue=bt,we.next=ue,ue.previous=we,--lt;continue e}Ut+=bt._.r,bt=bt.next}else{if(j(Rt._,ge._)){we=Rt,we.next=ue,ue.previous=we,--lt;continue e}Gt+=Rt._.r,Rt=Rt.previous}while(bt!==Rt.next);for(ge.previous=we,ge.next=ue,we.next=ue.previous=ue=ge,ke=ee(we);(ge=ge.next)!==ue;)(it=ee(ge))<ke&&(we=ge,ke=it);ue=we.next}for(we=[ue._],ge=ue;(ge=ge.next)!==ue;)we.push(ge._);for(ge=k(we),lt=0;lt<Le;++lt)we=Pe[lt],we.x-=ge.x,we.y-=ge.y;return ge.r}function V(Pe){return Y(Pe),Pe}function W(Pe){return Pe==null?null:X(Pe)}function X(Pe){if(typeof Pe!="function")throw new Error;return Pe}function re(){return 0}function ie(Pe){return function(){return Pe}}function K(Pe){return Math.sqrt(Pe.value)}function q(){var Pe=null,we=1,ue=1,ge=re;function Le(ke){return ke.x=we/2,ke.y=ue/2,Pe?ke.eachBefore(le(Pe)).eachAfter(ae(ge,.5)).eachBefore(he(1)):ke.eachBefore(le(K)).eachAfter(ae(re,1)).eachAfter(ae(ge,ke.r/Math.min(we,ue))).eachBefore(he(Math.min(we,ue)/(2*ke.r))),ke}return Le.radius=function(ke){return arguments.length?(Pe=W(ke),Le):Pe},Le.size=function(ke){return arguments.length?(we=+ke[0],ue=+ke[1],Le):[we,ue]},Le.padding=function(ke){return arguments.length?(ge=typeof ke=="function"?ke:ie(+ke),Le):ge},Le}function le(Pe){return function(we){we.children||(we.r=Math.max(0,+Pe(we)||0))}}function ae(Pe,we){return function(ue){if(ge=ue.children){var ge,Le,ke=ge.length,it=Pe(ue)*we||0,lt;if(it)for(Le=0;Le<ke;++Le)ge[Le].r+=it;if(lt=Y(ge),it)for(Le=0;Le<ke;++Le)ge[Le].r-=it;ue.r=lt+it}}}function he(Pe){return function(we){var ue=we.parent;we.r*=Pe,ue&&(we.x=ue.x+Pe*we.x,we.y=ue.y+Pe*we.y)}}function me(Pe){Pe.x0=Math.round(Pe.x0),Pe.y0=Math.round(Pe.y0),Pe.x1=Math.round(Pe.x1),Pe.y1=Math.round(Pe.y1)}function Me(Pe,we,ue,ge,Le){for(var ke=Pe.children,it,lt=-1,bt=ke.length,Rt=Pe.value&&(ge-we)/Pe.value;++lt<bt;)it=ke[lt],it.y0=ue,it.y1=Le,it.x0=we,it.x1=we+=it.value*Rt}function xe(){var Pe=1,we=1,ue=0,ge=!1;function Le(it){var lt=it.height+1;return it.x0=it.y0=ue,it.x1=Pe,it.y1=we/lt,it.eachBefore(ke(we,lt)),ge&&it.eachBefore(me),it}function ke(it,lt){return function(bt){bt.children&&Me(bt,bt.x0,it*(bt.depth+1)/lt,bt.x1,it*(bt.depth+2)/lt);var Rt=bt.x0,Ut=bt.y0,Gt=bt.x1-ue,_t=bt.y1-ue;Gt<Rt&&(Rt=Gt=(Rt+Gt)/2),_t<Ut&&(Ut=_t=(Ut+_t)/2),bt.x0=Rt,bt.y0=Ut,bt.x1=Gt,bt.y1=_t}}return Le.round=function(it){return arguments.length?(ge=!!it,Le):ge},Le.size=function(it){return arguments.length?(Pe=+it[0],we=+it[1],Le):[Pe,we]},Le.padding=function(it){return arguments.length?(ue=+it,Le):ue},Le}var Ie="$",_e={depth:-1},Te={};function ye(Pe){return Pe.id}function Ae(Pe){return Pe.parentId}function Be(){var Pe=ye,we=Ae;function ue(ge){var Le,ke,it=ge.length,lt,bt,Rt,Ut=new Array(it),Gt,_t,nr={};for(ke=0;ke<it;++ke)Le=ge[ke],Rt=Ut[ke]=new i(Le),(Gt=Pe(Le,ke,ge))!=null&&(Gt+="")&&(_t=Ie+(Rt.id=Gt),nr[_t]=_t in nr?Te:Rt);for(ke=0;ke<it;++ke)if(Rt=Ut[ke],Gt=we(ge[ke],ke,ge),Gt==null||!(Gt+="")){if(lt)throw new Error("multiple roots");lt=Rt}else{if(bt=nr[Ie+Gt],!bt)throw new Error("missing: "+Gt);if(bt===Te)throw new Error("ambiguous: "+Gt);bt.children?bt.children.push(Rt):bt.children=[Rt],Rt.parent=bt}if(!lt)throw new Error("no root");if(lt.parent=_e,lt.eachBefore(function(lr){lr.depth=lr.parent.depth+1,--it}).eachBefore(b),lt.parent=null,it>0)throw new Error("cycle");return lt}return ue.id=function(ge){return arguments.length?(Pe=X(ge),ue):Pe},ue.parentId=function(ge){return arguments.length?(we=X(ge),ue):we},ue}function Ue(Pe,we){return Pe.parent===we.parent?1:2}function De(Pe){var we=Pe.children;return we?we[0]:Pe.t}function He(Pe){var we=Pe.children;return we?we[we.length-1]:Pe.t}function ut(Pe,we,ue){var ge=ue/(we.i-Pe.i);we.c-=ge,we.s+=ue,Pe.c+=ge,we.z+=ue,we.m+=ue}function et(Pe){for(var we=0,ue=0,ge=Pe.children,Le=ge.length,ke;--Le>=0;)ke=ge[Le],ke.z+=we,ke.m+=we,we+=ke.s+(ue+=ke.c)}function Qe(Pe,we,ue){return Pe.a.parent===we.parent?Pe.a:ue}function qe(Pe,we){this._=Pe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=we}qe.prototype=Object.create(i.prototype);function ft(Pe){for(var we=new qe(Pe,0),ue,ge=[we],Le,ke,it,lt;ue=ge.pop();)if(ke=ue._.children)for(ue.children=new Array(lt=ke.length),it=lt-1;it>=0;--it)ge.push(Le=ue.children[it]=new qe(ke[it],it)),Le.parent=ue;return(we.parent=new qe(null,0)).children=[we],we}function gt(){var Pe=Ue,we=1,ue=1,ge=null;function Le(Rt){var Ut=ft(Rt);if(Ut.eachAfter(ke),Ut.parent.m=-Ut.z,Ut.eachBefore(it),ge)Rt.eachBefore(bt);else{var Gt=Rt,_t=Rt,nr=Rt;Rt.eachBefore(function(Yt){Yt.x<Gt.x&&(Gt=Yt),Yt.x>_t.x&&(_t=Yt),Yt.depth>nr.depth&&(nr=Yt)});var lr=Gt===_t?1:Pe(Gt,_t)/2,zr=lr-Gt.x,mt=we/(_t.x+lr+zr),jt=ue/(nr.depth||1);Rt.eachBefore(function(Yt){Yt.x=(Yt.x+zr)*mt,Yt.y=Yt.depth*jt})}return Rt}function ke(Rt){var Ut=Rt.children,Gt=Rt.parent.children,_t=Rt.i?Gt[Rt.i-1]:null;if(Ut){et(Rt);var nr=(Ut[0].z+Ut[Ut.length-1].z)/2;_t?(Rt.z=_t.z+Pe(Rt._,_t._),Rt.m=Rt.z-nr):Rt.z=nr}else _t&&(Rt.z=_t.z+Pe(Rt._,_t._));Rt.parent.A=lt(Rt,_t,Rt.parent.A||Gt[0])}function it(Rt){Rt._.x=Rt.z+Rt.parent.m,Rt.m+=Rt.parent.m}function lt(Rt,Ut,Gt){if(Ut){for(var _t=Rt,nr=Rt,lr=Ut,zr=_t.parent.children[0],mt=_t.m,jt=nr.m,Yt=lr.m,wr=zr.m,dr;lr=He(lr),_t=De(_t),lr&&_t;)zr=De(zr),nr=He(nr),nr.a=Rt,dr=lr.z+Yt-_t.z-mt+Pe(lr._,_t._),dr>0&&(ut(Qe(lr,Rt,Gt),Rt,dr),mt+=dr,jt+=dr),Yt+=lr.m,mt+=_t.m,wr+=zr.m,jt+=nr.m;lr&&!He(nr)&&(nr.t=lr,nr.m+=Yt-jt),_t&&!De(zr)&&(zr.t=_t,zr.m+=mt-wr,Gt=Rt)}return Gt}function bt(Rt){Rt.x*=we,Rt.y=Rt.depth*ue}return Le.separation=function(Rt){return arguments.length?(Pe=Rt,Le):Pe},Le.size=function(Rt){return arguments.length?(ge=!1,we=+Rt[0],ue=+Rt[1],Le):ge?null:[we,ue]},Le.nodeSize=function(Rt){return arguments.length?(ge=!0,we=+Rt[0],ue=+Rt[1],Le):ge?[we,ue]:null},Le}function xt(Pe,we,ue,ge,Le){for(var ke=Pe.children,it,lt=-1,bt=ke.length,Rt=Pe.value&&(Le-ue)/Pe.value;++lt<bt;)it=ke[lt],it.x0=we,it.x1=ge,it.y0=ue,it.y1=ue+=it.value*Rt}var Ct=(1+Math.sqrt(5))/2;function Je(Pe,we,ue,ge,Le,ke){for(var it=[],lt=we.children,bt,Rt,Ut=0,Gt=0,_t=lt.length,nr,lr,zr=we.value,mt,jt,Yt,wr,dr,ct,ot;Ut<_t;){nr=Le-ue,lr=ke-ge;do mt=lt[Gt++].value;while(!mt&&Gt<_t);for(jt=Yt=mt,ct=Math.max(lr/nr,nr/lr)/(zr*Pe),ot=mt*mt*ct,dr=Math.max(Yt/ot,ot/jt);Gt<_t;++Gt){if(mt+=Rt=lt[Gt].value,Rt<jt&&(jt=Rt),Rt>Yt&&(Yt=Rt),ot=mt*mt*ct,wr=Math.max(Yt/ot,ot/jt),wr>dr){mt-=Rt;break}dr=wr}it.push(bt={value:mt,dice:nr<lr,children:lt.slice(Ut,Gt)}),bt.dice?Me(bt,ue,ge,Le,zr?ge+=lr*mt/zr:ke):xt(bt,ue,ge,zr?ue+=nr*mt/zr:Le,ke),zr-=mt,Ut=Gt}return it}var ze=function Pe(we){function ue(ge,Le,ke,it,lt){Je(we,ge,Le,ke,it,lt)}return ue.ratio=function(ge){return Pe((ge=+ge)>1?ge:1)},ue}(Ct);function Fe(){var Pe=ze,we=!1,ue=1,ge=1,Le=[0],ke=re,it=re,lt=re,bt=re,Rt=re;function Ut(_t){return _t.x0=_t.y0=0,_t.x1=ue,_t.y1=ge,_t.eachBefore(Gt),Le=[0],we&&_t.eachBefore(me),_t}function Gt(_t){var nr=Le[_t.depth],lr=_t.x0+nr,zr=_t.y0+nr,mt=_t.x1-nr,jt=_t.y1-nr;mt<lr&&(lr=mt=(lr+mt)/2),jt<zr&&(zr=jt=(zr+jt)/2),_t.x0=lr,_t.y0=zr,_t.x1=mt,_t.y1=jt,_t.children&&(nr=Le[_t.depth+1]=ke(_t)/2,lr+=Rt(_t)-nr,zr+=it(_t)-nr,mt-=lt(_t)-nr,jt-=bt(_t)-nr,mt<lr&&(lr=mt=(lr+mt)/2),jt<zr&&(zr=jt=(zr+jt)/2),Pe(_t,lr,zr,mt,jt))}return Ut.round=function(_t){return arguments.length?(we=!!_t,Ut):we},Ut.size=function(_t){return arguments.length?(ue=+_t[0],ge=+_t[1],Ut):[ue,ge]},Ut.tile=function(_t){return arguments.length?(Pe=X(_t),Ut):Pe},Ut.padding=function(_t){return arguments.length?Ut.paddingInner(_t).paddingOuter(_t):Ut.paddingInner()},Ut.paddingInner=function(_t){return arguments.length?(ke=typeof _t=="function"?_t:ie(+_t),Ut):ke},Ut.paddingOuter=function(_t){return arguments.length?Ut.paddingTop(_t).paddingRight(_t).paddingBottom(_t).paddingLeft(_t):Ut.paddingTop()},Ut.paddingTop=function(_t){return arguments.length?(it=typeof _t=="function"?_t:ie(+_t),Ut):it},Ut.paddingRight=function(_t){return arguments.length?(lt=typeof _t=="function"?_t:ie(+_t),Ut):lt},Ut.paddingBottom=function(_t){return arguments.length?(bt=typeof _t=="function"?_t:ie(+_t),Ut):bt},Ut.paddingLeft=function(_t){return arguments.length?(Rt=typeof _t=="function"?_t:ie(+_t),Ut):Rt},Ut}function $e(Pe,we,ue,ge,Le){var ke=Pe.children,it,lt=ke.length,bt,Rt=new Array(lt+1);for(Rt[0]=bt=it=0;it<lt;++it)Rt[it+1]=bt+=ke[it].value;Ut(0,lt,Pe.value,we,ue,ge,Le);function Ut(Gt,_t,nr,lr,zr,mt,jt){if(Gt>=_t-1){var Yt=ke[Gt];Yt.x0=lr,Yt.y0=zr,Yt.x1=mt,Yt.y1=jt;return}for(var wr=Rt[Gt],dr=nr/2+wr,ct=Gt+1,ot=_t-1;ct<ot;){var wt=ct+ot>>>1;Rt[wt]<dr?ct=wt+1:ot=wt}dr-Rt[ct-1]<Rt[ct]-dr&&Gt+1<ct&&--ct;var Mt=Rt[ct]-wr,Dt=nr-Mt;if(mt-lr>jt-zr){var St=(lr*Dt+mt*Mt)/nr;Ut(Gt,ct,Mt,lr,zr,St,jt),Ut(ct,_t,Dt,St,zr,mt,jt)}else{var Ot=(zr*Dt+jt*Mt)/nr;Ut(Gt,ct,Mt,lr,zr,mt,Ot),Ut(ct,_t,Dt,lr,Ot,mt,jt)}}}function at(Pe,we,ue,ge,Le){(Pe.depth&1?xt:Me)(Pe,we,ue,ge,Le)}var Xe=function Pe(we){function ue(ge,Le,ke,it,lt){if((bt=ge._squarify)&&bt.ratio===we)for(var bt,Rt,Ut,Gt,_t=-1,nr,lr=bt.length,zr=ge.value;++_t<lr;){for(Rt=bt[_t],Ut=Rt.children,Gt=Rt.value=0,nr=Ut.length;Gt<nr;++Gt)Rt.value+=Ut[Gt].value;Rt.dice?Me(Rt,Le,ke,it,ke+=(lt-ke)*Rt.value/zr):xt(Rt,Le,ke,Le+=(it-Le)*Rt.value/zr,lt),zr-=Rt.value}else ge._squarify=bt=Je(we,ge,Le,ke,it,lt),bt.ratio=we}return ue.ratio=function(ge){return Pe((ge=+ge)>1?ge:1)},ue}(Ct)},45879:function(G,U,e){e.d(U,{h5:function(){return h}});var p=Math.PI,L=2*p,n=1e-6,C=L-n;function w(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new w}w.prototype=v.prototype={constructor:w,moveTo:function(T,f){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+f)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,f){this._+="L"+(this._x1=+T)+","+(this._y1=+f)},quadraticCurveTo:function(T,f,o,d){this._+="Q"+ +T+","+ +f+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(T,f,o,d,M,A){this._+="C"+ +T+","+ +f+","+ +o+","+ +d+","+(this._x1=+M)+","+(this._y1=+A)},arcTo:function(T,f,o,d,M){T=+T,f=+f,o=+o,d=+d,M=+M;var A=this._x1,E=this._y1,g=o-T,S=d-f,b=A-T,i=E-f,P=b*b+i*i;if(M<0)throw new Error("negative radius: "+M);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=f);else if(P>n)if(!(Math.abs(i*g-S*b)>n)||!M)this._+="L"+(this._x1=T)+","+(this._y1=f);else{var x=o-A,k=d-E,_=g*g+S*S,B=x*x+k*k,I=Math.sqrt(_),z=Math.sqrt(P),O=M*Math.tan((p-Math.acos((_+P-B)/(2*I*z)))/2),F=O/z,N=O/I;Math.abs(F-1)>n&&(this._+="L"+(T+F*b)+","+(f+F*i)),this._+="A"+M+","+M+",0,0,"+ +(i*x>b*k)+","+(this._x1=T+N*g)+","+(this._y1=f+N*S)}},arc:function(T,f,o,d,M,A){T=+T,f=+f,o=+o,A=!!A;var E=o*Math.cos(d),g=o*Math.sin(d),S=T+E,b=f+g,i=1^A,P=A?d-M:M-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+S+","+b:(Math.abs(this._x1-S)>n||Math.abs(this._y1-b)>n)&&(this._+="L"+S+","+b),o&&(P<0&&(P=P%L+L),P>C?this._+="A"+o+","+o+",0,1,"+i+","+(T-E)+","+(f-g)+"A"+o+","+o+",0,1,"+i+","+(this._x1=S)+","+(this._y1=b):P>n&&(this._+="A"+o+","+o+",0,"+ +(P>=p)+","+i+","+(this._x1=T+o*Math.cos(M))+","+(this._y1=f+o*Math.sin(M))))},rect:function(T,f,o,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+f)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var y=v,t=Array.prototype.slice;function r(T){return function(){return T}}function l(T){return T[0]}function a(T){return T[1]}function s(T){return T.source}function c(T){return T.target}function u(T){var f=s,o=c,d=l,M=a,A=null;function E(){var g,S=t.call(arguments),b=f.apply(this,S),i=o.apply(this,S);if(A||(A=g=y()),T(A,+d.apply(this,(S[0]=b,S)),+M.apply(this,S),+d.apply(this,(S[0]=i,S)),+M.apply(this,S)),g)return A=null,g+""||null}return E.source=function(g){return arguments.length?(f=g,E):f},E.target=function(g){return arguments.length?(o=g,E):o},E.x=function(g){return arguments.length?(d=typeof g=="function"?g:r(+g),E):d},E.y=function(g){return arguments.length?(M=typeof g=="function"?g:r(+g),E):M},E.context=function(g){return arguments.length?(A=g??null,E):A},E}function m(T,f,o,d,M){T.moveTo(f,o),T.bezierCurveTo(f=(f+d)/2,o,f,M,d,M)}function h(){return u(m)}},84096:function(G,U,e){e.d(U,{i$:function(){return $e},Dq:function(){return l},g0:function(){return at}});var p=e(58176),L=e(48480),n=e(59879),C=e(82301),w=e(34823),v=e(79791);function y(Pe){if(0<=Pe.y&&Pe.y<100){var we=new Date(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L);return we.setFullYear(Pe.y),we}return new Date(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L)}function t(Pe){if(0<=Pe.y&&Pe.y<100){var we=new Date(Date.UTC(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L));return we.setUTCFullYear(Pe.y),we}return new Date(Date.UTC(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L))}function r(Pe,we,ue){return{y:Pe,m:we,d:ue,H:0,M:0,S:0,L:0}}function l(Pe){var we=Pe.dateTime,ue=Pe.date,ge=Pe.time,Le=Pe.periods,ke=Pe.days,it=Pe.shortDays,lt=Pe.months,bt=Pe.shortMonths,Rt=T(Le),Ut=f(Le),Gt=T(ke),_t=f(ke),nr=T(it),lr=f(it),zr=T(lt),mt=f(lt),jt=T(bt),Yt=f(bt),wr={a:Ve,A:Ge,b:Ft,B:kt,c:null,d:$,e:$,f:V,H:j,I:ee,j:oe,L:Y,m:W,M:X,p:Zt,q:tr,Q:Je,s:ze,S:re,u:ie,U:K,V:q,w:le,W:ae,x:null,X:null,y:he,Y:me,Z:Me,"%":Ct},dr={a:sr,A:rr,b:Nt,B:hr,c:null,d:xe,e:xe,f:Ae,H:Ie,I:_e,j:Te,L:ye,m:Be,M:Ue,p:pr,q:br,Q:Je,s:ze,S:De,u:He,U:ut,V:et,w:Qe,W:qe,x:null,X:null,y:ft,Y:gt,Z:xt,"%":Ct},ct={a:St,A:Ot,b:Vt,B:Qt,c:Kt,d:x,e:x,f:O,H:_,I:_,j:k,L:z,m:P,M:B,p:Dt,q:i,Q:N,s:Q,S:I,u:d,U:M,V:A,w:o,W:E,x:or,X:Mr,y:S,Y:g,Z:b,"%":F};wr.x=ot(ue,wr),wr.X=ot(ge,wr),wr.c=ot(we,wr),dr.x=ot(ue,dr),dr.X=ot(ge,dr),dr.c=ot(we,dr);function ot(vr,Kr){return function(Fr){var Br=[],xn=-1,jr=0,Dn=vr.length,In,yr,cr;for(Fr instanceof Date||(Fr=new Date(+Fr));++xn<Dn;)vr.charCodeAt(xn)===37&&(Br.push(vr.slice(jr,xn)),(yr=a[In=vr.charAt(++xn)])!=null?In=vr.charAt(++xn):yr=In==="e"?" ":"0",(cr=Kr[In])&&(In=cr(Fr,yr)),Br.push(In),jr=xn+1);return Br.push(vr.slice(jr,xn)),Br.join("")}}function wt(vr,Kr){return function(Fr){var Br=r(1900,void 0,1),xn=Mt(Br,vr,Fr+="",0),jr,Dn;if(xn!=Fr.length)return null;if("Q"in Br)return new Date(Br.Q);if("s"in Br)return new Date(Br.s*1e3+("L"in Br?Br.L:0));if(Kr&&!("Z"in Br)&&(Br.Z=0),"p"in Br&&(Br.H=Br.H%12+Br.p*12),Br.m===void 0&&(Br.m="q"in Br?Br.q:0),"V"in Br){if(Br.V<1||Br.V>53)return null;"w"in Br||(Br.w=1),"Z"in Br?(jr=t(r(Br.y,0,1)),Dn=jr.getUTCDay(),jr=Dn>4||Dn===0?p.l6.ceil(jr):(0,p.l6)(jr),jr=L.Z.offset(jr,(Br.V-1)*7),Br.y=jr.getUTCFullYear(),Br.m=jr.getUTCMonth(),Br.d=jr.getUTCDate()+(Br.w+6)%7):(jr=y(r(Br.y,0,1)),Dn=jr.getDay(),jr=Dn>4||Dn===0?n.wA.ceil(jr):(0,n.wA)(jr),jr=C.Z.offset(jr,(Br.V-1)*7),Br.y=jr.getFullYear(),Br.m=jr.getMonth(),Br.d=jr.getDate()+(Br.w+6)%7)}else("W"in Br||"U"in Br)&&("w"in Br||(Br.w="u"in Br?Br.u%7:"W"in Br?1:0),Dn="Z"in Br?t(r(Br.y,0,1)).getUTCDay():y(r(Br.y,0,1)).getDay(),Br.m=0,Br.d="W"in Br?(Br.w+6)%7+Br.W*7-(Dn+5)%7:Br.w+Br.U*7-(Dn+6)%7);return"Z"in Br?(Br.H+=Br.Z/100|0,Br.M+=Br.Z%100,t(Br)):y(Br)}}function Mt(vr,Kr,Fr,Br){for(var xn=0,jr=Kr.length,Dn=Fr.length,In,yr;xn<jr;){if(Br>=Dn)return-1;if(In=Kr.charCodeAt(xn++),In===37){if(In=Kr.charAt(xn++),yr=ct[In in a?Kr.charAt(xn++):In],!yr||(Br=yr(vr,Fr,Br))<0)return-1}else if(In!=Fr.charCodeAt(Br++))return-1}return Br}function Dt(vr,Kr,Fr){var Br=Rt.exec(Kr.slice(Fr));return Br?(vr.p=Ut[Br[0].toLowerCase()],Fr+Br[0].length):-1}function St(vr,Kr,Fr){var Br=nr.exec(Kr.slice(Fr));return Br?(vr.w=lr[Br[0].toLowerCase()],Fr+Br[0].length):-1}function Ot(vr,Kr,Fr){var Br=Gt.exec(Kr.slice(Fr));return Br?(vr.w=_t[Br[0].toLowerCase()],Fr+Br[0].length):-1}function Vt(vr,Kr,Fr){var Br=jt.exec(Kr.slice(Fr));return Br?(vr.m=Yt[Br[0].toLowerCase()],Fr+Br[0].length):-1}function Qt(vr,Kr,Fr){var Br=zr.exec(Kr.slice(Fr));return Br?(vr.m=mt[Br[0].toLowerCase()],Fr+Br[0].length):-1}function Kt(vr,Kr,Fr){return Mt(vr,we,Kr,Fr)}function or(vr,Kr,Fr){return Mt(vr,ue,Kr,Fr)}function Mr(vr,Kr,Fr){return Mt(vr,ge,Kr,Fr)}function Ve(vr){return it[vr.getDay()]}function Ge(vr){return ke[vr.getDay()]}function Ft(vr){return bt[vr.getMonth()]}function kt(vr){return lt[vr.getMonth()]}function Zt(vr){return Le[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function sr(vr){return it[vr.getUTCDay()]}function rr(vr){return ke[vr.getUTCDay()]}function Nt(vr){return bt[vr.getUTCMonth()]}function hr(vr){return lt[vr.getUTCMonth()]}function pr(vr){return Le[+(vr.getUTCHours()>=12)]}function br(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Kr=ot(vr+="",wr);return Kr.toString=function(){return vr},Kr},parse:function(vr){var Kr=wt(vr+="",!1);return Kr.toString=function(){return vr},Kr},utcFormat:function(vr){var Kr=ot(vr+="",dr);return Kr.toString=function(){return vr},Kr},utcParse:function(vr){var Kr=wt(vr+="",!0);return Kr.toString=function(){return vr},Kr}}}var a={"-":"",_:" ",0:"0"},s=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function m(Pe,we,ue){var ge=Pe<0?"-":"",Le=(ge?-Pe:Pe)+"",ke=Le.length;return ge+(ke<ue?new Array(ue-ke+1).join(we)+Le:Le)}function h(Pe){return Pe.replace(u,"\\$&")}function T(Pe){return new RegExp("^(?:"+Pe.map(h).join("|")+")","i")}function f(Pe){for(var we={},ue=-1,ge=Pe.length;++ue<ge;)we[Pe[ue].toLowerCase()]=ue;return we}function o(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+1));return ge?(Pe.w=+ge[0],ue+ge[0].length):-1}function d(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+1));return ge?(Pe.u=+ge[0],ue+ge[0].length):-1}function M(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.U=+ge[0],ue+ge[0].length):-1}function A(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.V=+ge[0],ue+ge[0].length):-1}function E(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.W=+ge[0],ue+ge[0].length):-1}function g(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+4));return ge?(Pe.y=+ge[0],ue+ge[0].length):-1}function S(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.y=+ge[0]+(+ge[0]>68?1900:2e3),ue+ge[0].length):-1}function b(Pe,we,ue){var ge=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(ue,ue+6));return ge?(Pe.Z=ge[1]?0:-(ge[2]+(ge[3]||"00")),ue+ge[0].length):-1}function i(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+1));return ge?(Pe.q=ge[0]*3-3,ue+ge[0].length):-1}function P(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.m=ge[0]-1,ue+ge[0].length):-1}function x(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.d=+ge[0],ue+ge[0].length):-1}function k(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+3));return ge?(Pe.m=0,Pe.d=+ge[0],ue+ge[0].length):-1}function _(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.H=+ge[0],ue+ge[0].length):-1}function B(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.M=+ge[0],ue+ge[0].length):-1}function I(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+2));return ge?(Pe.S=+ge[0],ue+ge[0].length):-1}function z(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+3));return ge?(Pe.L=+ge[0],ue+ge[0].length):-1}function O(Pe,we,ue){var ge=s.exec(we.slice(ue,ue+6));return ge?(Pe.L=Math.floor(ge[0]/1e3),ue+ge[0].length):-1}function F(Pe,we,ue){var ge=c.exec(we.slice(ue,ue+1));return ge?ue+ge[0].length:-1}function N(Pe,we,ue){var ge=s.exec(we.slice(ue));return ge?(Pe.Q=+ge[0],ue+ge[0].length):-1}function Q(Pe,we,ue){var ge=s.exec(we.slice(ue));return ge?(Pe.s=+ge[0],ue+ge[0].length):-1}function $(Pe,we){return m(Pe.getDate(),we,2)}function j(Pe,we){return m(Pe.getHours(),we,2)}function ee(Pe,we){return m(Pe.getHours()%12||12,we,2)}function oe(Pe,we){return m(1+C.Z.count((0,w.Z)(Pe),Pe),we,3)}function Y(Pe,we){return m(Pe.getMilliseconds(),we,3)}function V(Pe,we){return Y(Pe,we)+"000"}function W(Pe,we){return m(Pe.getMonth()+1,we,2)}function X(Pe,we){return m(Pe.getMinutes(),we,2)}function re(Pe,we){return m(Pe.getSeconds(),we,2)}function ie(Pe){var we=Pe.getDay();return we===0?7:we}function K(Pe,we){return m(n.OM.count((0,w.Z)(Pe)-1,Pe),we,2)}function q(Pe,we){var ue=Pe.getDay();return Pe=ue>=4||ue===0?(0,n.bL)(Pe):n.bL.ceil(Pe),m(n.bL.count((0,w.Z)(Pe),Pe)+((0,w.Z)(Pe).getDay()===4),we,2)}function le(Pe){return Pe.getDay()}function ae(Pe,we){return m(n.wA.count((0,w.Z)(Pe)-1,Pe),we,2)}function he(Pe,we){return m(Pe.getFullYear()%100,we,2)}function me(Pe,we){return m(Pe.getFullYear()%1e4,we,4)}function Me(Pe){var we=Pe.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+m(we/60|0,"0",2)+m(we%60,"0",2)}function xe(Pe,we){return m(Pe.getUTCDate(),we,2)}function Ie(Pe,we){return m(Pe.getUTCHours(),we,2)}function _e(Pe,we){return m(Pe.getUTCHours()%12||12,we,2)}function Te(Pe,we){return m(1+L.Z.count((0,v.Z)(Pe),Pe),we,3)}function ye(Pe,we){return m(Pe.getUTCMilliseconds(),we,3)}function Ae(Pe,we){return ye(Pe,we)+"000"}function Be(Pe,we){return m(Pe.getUTCMonth()+1,we,2)}function Ue(Pe,we){return m(Pe.getUTCMinutes(),we,2)}function De(Pe,we){return m(Pe.getUTCSeconds(),we,2)}function He(Pe){var we=Pe.getUTCDay();return we===0?7:we}function ut(Pe,we){return m(p.Ox.count((0,v.Z)(Pe)-1,Pe),we,2)}function et(Pe,we){var ue=Pe.getUTCDay();return Pe=ue>=4||ue===0?(0,p.hB)(Pe):p.hB.ceil(Pe),m(p.hB.count((0,v.Z)(Pe),Pe)+((0,v.Z)(Pe).getUTCDay()===4),we,2)}function Qe(Pe){return Pe.getUTCDay()}function qe(Pe,we){return m(p.l6.count((0,v.Z)(Pe)-1,Pe),we,2)}function ft(Pe,we){return m(Pe.getUTCFullYear()%100,we,2)}function gt(Pe,we){return m(Pe.getUTCFullYear()%1e4,we,4)}function xt(){return"+0000"}function Ct(){return"%"}function Je(Pe){return+Pe}function ze(Pe){return Math.floor(+Pe/1e3)}var Fe,$e,at;Xe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xe(Pe){return Fe=l(Pe),$e=Fe.format,Fe.parse,at=Fe.utcFormat,Fe.utcParse,Fe}},82301:function(G,U,e){e.d(U,{a:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(w){w.setHours(0,0,0,0)},function(w,v){w.setDate(w.getDate()+v)},function(w,v){return(v-w-(v.getTimezoneOffset()-w.getTimezoneOffset())*L.yB)/L.UD},function(w){return w.getDate()-1});U.Z=n;var C=n.range},54263:function(G,U,e){e.d(U,{UD:function(){return C},Y2:function(){return n},Ym:function(){return p},iM:function(){return w},yB:function(){return L}});var p=1e3,L=6e4,n=36e5,C=864e5,w=6048e5},81041:function(G,U,e){e.r(U),e.d(U,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return c},timeHours:function(){return u},timeInterval:function(){return p.Z},timeMillisecond:function(){return n},timeMilliseconds:function(){return C},timeMinute:function(){return l},timeMinutes:function(){return a},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return f},timeMonths:function(){return o},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return y},timeSeconds:function(){return t},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return P.QQ},utcFridays:function(){return P.fz},utcHour:function(){return S},utcHours:function(){return b},utcMillisecond:function(){return n},utcMilliseconds:function(){return C},utcMinute:function(){return A},utcMinutes:function(){return E},utcMonday:function(){return P.l6},utcMondays:function(){return P.$3},utcMonth:function(){return k},utcMonths:function(){return _},utcSaturday:function(){return P.g4},utcSaturdays:function(){return P.Q_},utcSecond:function(){return y},utcSeconds:function(){return t},utcSunday:function(){return P.Ox},utcSundays:function(){return P.SU},utcThursday:function(){return P.hB},utcThursdays:function(){return P.xj},utcTuesday:function(){return P.J1},utcTuesdays:function(){return P.DK},utcWednesday:function(){return P.b3},utcWednesdays:function(){return P.uy},utcWeek:function(){return P.Ox},utcWeeks:function(){return P.SU},utcYear:function(){return B.Z},utcYears:function(){return B.D}});var p=e(30052),L=(0,p.Z)(function(){},function(I,z){I.setTime(+I+z)},function(I,z){return z-I});L.every=function(I){return I=Math.floor(I),!isFinite(I)||!(I>0)?null:I>1?(0,p.Z)(function(z){z.setTime(Math.floor(z/I)*I)},function(z,O){z.setTime(+z+O*I)},function(z,O){return(O-z)/I}):L};var n=L,C=L.range,w=e(54263),v=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds())},function(I,z){I.setTime(+I+z*w.Ym)},function(I,z){return(z-I)/w.Ym},function(I){return I.getUTCSeconds()}),y=v,t=v.range,r=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*w.Ym)},function(I,z){I.setTime(+I+z*w.yB)},function(I,z){return(z-I)/w.yB},function(I){return I.getMinutes()}),l=r,a=r.range,s=(0,p.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*w.Ym-I.getMinutes()*w.yB)},function(I,z){I.setTime(+I+z*w.Y2)},function(I,z){return(z-I)/w.Y2},function(I){return I.getHours()}),c=s,u=s.range,m=e(82301),h=e(59879),T=(0,p.Z)(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,z){I.setMonth(I.getMonth()+z)},function(I,z){return z.getMonth()-I.getMonth()+(z.getFullYear()-I.getFullYear())*12},function(I){return I.getMonth()}),f=T,o=T.range,d=e(34823),M=(0,p.Z)(function(I){I.setUTCSeconds(0,0)},function(I,z){I.setTime(+I+z*w.yB)},function(I,z){return(z-I)/w.yB},function(I){return I.getUTCMinutes()}),A=M,E=M.range,g=(0,p.Z)(function(I){I.setUTCMinutes(0,0,0)},function(I,z){I.setTime(+I+z*w.Y2)},function(I,z){return(z-I)/w.Y2},function(I){return I.getUTCHours()}),S=g,b=g.range,i=e(48480),P=e(58176),x=(0,p.Z)(function(I){I.setUTCDate(1),I.setUTCHours(0,0,0,0)},function(I,z){I.setUTCMonth(I.getUTCMonth()+z)},function(I,z){return z.getUTCMonth()-I.getUTCMonth()+(z.getUTCFullYear()-I.getUTCFullYear())*12},function(I){return I.getUTCMonth()}),k=x,_=x.range,B=e(79791)},30052:function(G,U,e){e.d(U,{Z:function(){return n}});var p=new Date,L=new Date;function n(C,w,v,y){function t(r){return C(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return C(r=new Date(+r)),r},t.ceil=function(r){return C(r=new Date(r-1)),w(r,1),C(r),r},t.round=function(r){var l=t(r),a=t.ceil(r);return r-l<a-r?l:a},t.offset=function(r,l){return w(r=new Date(+r),l==null?1:Math.floor(l)),r},t.range=function(r,l,a){var s=[],c;if(r=t.ceil(r),a=a==null?1:Math.floor(a),!(r<l)||!(a>0))return s;do s.push(c=new Date(+r)),w(r,a),C(r);while(c<r&&r<l);return s},t.filter=function(r){return n(function(l){if(l>=l)for(;C(l),!r(l);)l.setTime(l-1)},function(l,a){if(l>=l)if(a<0)for(;++a<=0;)for(;w(l,-1),!r(l););else for(;--a>=0;)for(;w(l,1),!r(l););})},v&&(t.count=function(r,l){return p.setTime(+r),L.setTime(+l),C(p),C(L),Math.floor(v(p,L))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(y?function(l){return y(l)%r===0}:function(l){return t.count(0,l)%r===0}):t}),t}},48480:function(G,U,e){e.d(U,{y:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(w){w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCDate(w.getUTCDate()+v)},function(w,v){return(v-w)/L.UD},function(w){return w.getUTCDate()-1});U.Z=n;var C=n.range},58176:function(G,U,e){e.d(U,{$3:function(){return s},DK:function(){return c},J1:function(){return v},Ox:function(){return C},QQ:function(){return r},Q_:function(){return T},SU:function(){return a},b3:function(){return y},fz:function(){return h},g4:function(){return l},hB:function(){return t},l6:function(){return w},uy:function(){return u},xj:function(){return m}});var p=e(30052),L=e(54263);function n(f){return(0,p.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-f)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/L.iM})}var C=n(0),w=n(1),v=n(2),y=n(3),t=n(4),r=n(5),l=n(6),a=C.range,s=w.range,c=v.range,u=y.range,m=t.range,h=r.range,T=l.range},79791:function(G,U,e){e.d(U,{D:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,w){C.setUTCFullYear(C.getUTCFullYear()+w)},function(C,w){return w.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/C)*C),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCFullYear(w.getUTCFullYear()+v*C)})},U.Z=L;var n=L.range},59879:function(G,U,e){e.d(U,{$t:function(){return m},EY:function(){return l},Ff:function(){return T},Ld:function(){return u},OM:function(){return C},aU:function(){return c},b$:function(){return h},bJ:function(){return s},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return a},wA:function(){return w},zg:function(){return y}});var p=e(30052),L=e(54263);function n(f){return(0,p.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-f)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*L.yB)/L.iM})}var C=n(0),w=n(1),v=n(2),y=n(3),t=n(4),r=n(5),l=n(6),a=C.range,s=w.range,c=v.range,u=y.range,m=t.range,h=r.range,T=l.range},34823:function(G,U,e){e.d(U,{g:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,w){C.setFullYear(C.getFullYear()+w)},function(C,w){return w.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(w){w.setFullYear(Math.floor(w.getFullYear()/C)*C),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,v){w.setFullYear(w.getFullYear()+v*C)})},U.Z=L;var n=L.range},17045:function(G,U,e){var p=e(8709),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,C=Array.prototype.concat,w=Object.defineProperty,v=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},y=e(55622)(),t=w&&y,r=function(a,s,c,u){if(s in a){if(u===!0){if(a[s]===c)return}else if(!v(u)||!u())return}t?w(a,s,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[s]=c},l=function(a,s){var c=arguments.length>2?arguments[2]:{},u=p(s);L&&(u=C.call(u,Object.getOwnPropertySymbols(s)));for(var m=0;m<u.length;m+=1)r(a,u[m],s[u[m]],c[u[m]])};l.supportsDescriptors=!!t,G.exports=l},46775:function(G){G.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},53545:function(G){G.exports=L;var U=L.canvas=document.createElement("canvas"),e=U.getContext("2d"),p=n([32,126]);L.createPairs=n,L.ascii=p;function L(C,w){Array.isArray(C)&&(C=C.join(", "));var v={},y,t=16,r=.05;w&&(w.length===2&&typeof w[0]=="number"?y=n(w):Array.isArray(w)?y=w:(w.o?y=n(w.o):w.pairs&&(y=w.pairs),w.fontSize&&(t=w.fontSize),w.threshold!=null&&(r=w.threshold))),y||(y=p),e.font=t+"px "+C;for(var l=0;l<y.length;l++){var a=y[l],s=e.measureText(a[0]).width+e.measureText(a[1]).width,c=e.measureText(a).width;if(Math.abs(s-c)>t*r){var u=(c-s)/t;v[a]=u*1e3}}return v}function n(C){for(var w=[],v=C[0];v<=C[1];v++)for(var y=String.fromCharCode(v),t=C[0];t<C[1];t++){var r=String.fromCharCode(t),l=y+r;w.push(l)}return w}},31457:function(G,U,e){var p=e(65185),L=e(18625),n={M:"moveTo",C:"bezierCurveTo"};G.exports=function(C,w){C.beginPath(),L(p(w)).forEach(function(v){var y=v[0],t=v.slice(1);C[n[y]].apply(C,t)}),C.closePath()}},90660:function(G){G.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(G){function U(L,n,C){var w=L[C]|0;if(w<=0)return[];var v=new Array(w),y;if(C===L.length-1)for(y=0;y<w;++y)v[y]=n;else for(y=0;y<w;++y)v[y]=U(L,n,C+1);return v}function e(L,n){var C,w;for(C=new Array(L),w=0;w<L;++w)C[w]=n;return C}function p(L,n){switch(typeof n>"u"&&(n=0),typeof L){case"number":if(L>0)return e(L|0,n);break;case"object":if(typeof L.length=="number")return U(L,n,0);break}return[]}G.exports=p},11474:function(G){G.exports=U,G.exports.default=U;function U(_,B,I){I=I||2;var z=B&&B.length,O=z?B[0]*I:_.length,F=e(_,0,O,I,!0),N=[];if(!F||F.next===F.prev)return N;var Q,$,j,ee,oe,Y,V;if(z&&(F=y(_,B,F,I)),_.length>80*I){Q=j=_[0],$=ee=_[1];for(var W=I;W<O;W+=I)oe=_[W],Y=_[W+1],oe<Q&&(Q=oe),Y<$&&($=Y),oe>j&&(j=oe),Y>ee&&(ee=Y);V=Math.max(j-Q,ee-$),V=V!==0?1/V:0}return L(F,N,I,Q,$,V),N}function e(_,B,I,z,O){var F,N;if(O===k(_,B,I,z)>0)for(F=B;F<I;F+=z)N=i(F,_[F],_[F+1],N);else for(F=I-z;F>=B;F-=z)N=i(F,_[F],_[F+1],N);return N&&o(N,N.next)&&(P(N),N=N.next),N}function p(_,B){if(!_)return _;B||(B=_);var I=_,z;do if(z=!1,!I.steiner&&(o(I,I.next)||f(I.prev,I,I.next)===0)){if(P(I),I=B=I.prev,I===I.next)break;z=!0}else I=I.next;while(z||I!==B);return B}function L(_,B,I,z,O,F,N){if(_){!N&&F&&s(_,z,O,F);for(var Q=_,$,j;_.prev!==_.next;){if($=_.prev,j=_.next,F?C(_,z,O,F):n(_)){B.push($.i/I),B.push(_.i/I),B.push(j.i/I),P(_),_=j.next,Q=j.next;continue}if(_=j,_===Q){N?N===1?(_=w(p(_),B,I),L(_,B,I,z,O,F,2)):N===2&&v(_,B,I,z,O,F):L(p(_),B,I,z,O,F,1);break}}}}function n(_){var B=_.prev,I=_,z=_.next;if(f(B,I,z)>=0)return!1;for(var O=_.next.next;O!==_.prev;){if(h(B.x,B.y,I.x,I.y,z.x,z.y,O.x,O.y)&&f(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function C(_,B,I,z){var O=_.prev,F=_,N=_.next;if(f(O,F,N)>=0)return!1;for(var Q=O.x<F.x?O.x<N.x?O.x:N.x:F.x<N.x?F.x:N.x,$=O.y<F.y?O.y<N.y?O.y:N.y:F.y<N.y?F.y:N.y,j=O.x>F.x?O.x>N.x?O.x:N.x:F.x>N.x?F.x:N.x,ee=O.y>F.y?O.y>N.y?O.y:N.y:F.y>N.y?F.y:N.y,oe=u(Q,$,B,I,z),Y=u(j,ee,B,I,z),V=_.prevZ,W=_.nextZ;V&&V.z>=oe&&W&&W.z<=Y;){if(V!==_.prev&&V!==_.next&&h(O.x,O.y,F.x,F.y,N.x,N.y,V.x,V.y)&&f(V.prev,V,V.next)>=0||(V=V.prevZ,W!==_.prev&&W!==_.next&&h(O.x,O.y,F.x,F.y,N.x,N.y,W.x,W.y)&&f(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;V&&V.z>=oe;){if(V!==_.prev&&V!==_.next&&h(O.x,O.y,F.x,F.y,N.x,N.y,V.x,V.y)&&f(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;W&&W.z<=Y;){if(W!==_.prev&&W!==_.next&&h(O.x,O.y,F.x,F.y,N.x,N.y,W.x,W.y)&&f(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function w(_,B,I){var z=_;do{var O=z.prev,F=z.next.next;!o(O,F)&&d(O,z,z.next,F)&&g(O,F)&&g(F,O)&&(B.push(O.i/I),B.push(z.i/I),B.push(F.i/I),P(z),P(z.next),z=_=F),z=z.next}while(z!==_);return p(z)}function v(_,B,I,z,O,F){var N=_;do{for(var Q=N.next.next;Q!==N.prev;){if(N.i!==Q.i&&T(N,Q)){var $=b(N,Q);N=p(N,N.next),$=p($,$.next),L(N,B,I,z,O,F),L($,B,I,z,O,F);return}Q=Q.next}N=N.next}while(N!==_)}function y(_,B,I,z){var O=[],F,N,Q,$,j;for(F=0,N=B.length;F<N;F++)Q=B[F]*z,$=F<N-1?B[F+1]*z:_.length,j=e(_,Q,$,z,!1),j===j.next&&(j.steiner=!0),O.push(m(j));for(O.sort(t),F=0;F<O.length;F++)r(O[F],I),I=p(I,I.next);return I}function t(_,B){return _.x-B.x}function r(_,B){if(B=l(_,B),B){var I=b(B,_);p(B,B.next),p(I,I.next)}}function l(_,B){var I=B,z=_.x,O=_.y,F=-1/0,N;do{if(O<=I.y&&O>=I.next.y&&I.next.y!==I.y){var Q=I.x+(O-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Q<=z&&Q>F){if(F=Q,Q===z){if(O===I.y)return I;if(O===I.next.y)return I.next}N=I.x<I.next.x?I:I.next}}I=I.next}while(I!==B);if(!N)return null;if(z===F)return N;var $=N,j=N.x,ee=N.y,oe=1/0,Y;I=N;do z>=I.x&&I.x>=j&&z!==I.x&&h(O<ee?z:F,O,j,ee,O<ee?F:z,O,I.x,I.y)&&(Y=Math.abs(O-I.y)/(z-I.x),g(I,_)&&(Y<oe||Y===oe&&(I.x>N.x||I.x===N.x&&a(N,I)))&&(N=I,oe=Y)),I=I.next;while(I!==$);return N}function a(_,B){return f(_.prev,_,B.prev)<0&&f(B.next,_,_.next)<0}function s(_,B,I,z){var O=_;do O.z===null&&(O.z=u(O.x,O.y,B,I,z)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==_);O.prevZ.nextZ=null,O.prevZ=null,c(O)}function c(_){var B,I,z,O,F,N,Q,$,j=1;do{for(I=_,_=null,F=null,N=0;I;){for(N++,z=I,Q=0,B=0;B<j&&(Q++,z=z.nextZ,!!z);B++);for($=j;Q>0||$>0&&z;)Q!==0&&($===0||!z||I.z<=z.z)?(O=I,I=I.nextZ,Q--):(O=z,z=z.nextZ,$--),F?F.nextZ=O:_=O,O.prevZ=F,F=O;I=z}F.nextZ=null,j*=2}while(N>1);return _}function u(_,B,I,z,O){return _=32767*(_-I)*O,B=32767*(B-z)*O,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,_|B<<1}function m(_){var B=_,I=_;do(B.x<I.x||B.x===I.x&&B.y<I.y)&&(I=B),B=B.next;while(B!==_);return I}function h(_,B,I,z,O,F,N,Q){return(O-N)*(B-Q)-(_-N)*(F-Q)>=0&&(_-N)*(z-Q)-(I-N)*(B-Q)>=0&&(I-N)*(F-Q)-(O-N)*(z-Q)>=0}function T(_,B){return _.next.i!==B.i&&_.prev.i!==B.i&&!E(_,B)&&(g(_,B)&&g(B,_)&&S(_,B)&&(f(_.prev,_,B.prev)||f(_,B.prev,B))||o(_,B)&&f(_.prev,_,_.next)>0&&f(B.prev,B,B.next)>0)}function f(_,B,I){return(B.y-_.y)*(I.x-B.x)-(B.x-_.x)*(I.y-B.y)}function o(_,B){return _.x===B.x&&_.y===B.y}function d(_,B,I,z){var O=A(f(_,B,I)),F=A(f(_,B,z)),N=A(f(I,z,_)),Q=A(f(I,z,B));return!!(O!==F&&N!==Q||O===0&&M(_,I,B)||F===0&&M(_,z,B)||N===0&&M(I,_,z)||Q===0&&M(I,B,z))}function M(_,B,I){return B.x<=Math.max(_.x,I.x)&&B.x>=Math.min(_.x,I.x)&&B.y<=Math.max(_.y,I.y)&&B.y>=Math.min(_.y,I.y)}function A(_){return _>0?1:_<0?-1:0}function E(_,B){var I=_;do{if(I.i!==_.i&&I.next.i!==_.i&&I.i!==B.i&&I.next.i!==B.i&&d(I,I.next,_,B))return!0;I=I.next}while(I!==_);return!1}function g(_,B){return f(_.prev,_,_.next)<0?f(_,B,_.next)>=0&&f(_,_.prev,B)>=0:f(_,B,_.prev)<0||f(_,_.next,B)<0}function S(_,B){var I=_,z=!1,O=(_.x+B.x)/2,F=(_.y+B.y)/2;do I.y>F!=I.next.y>F&&I.next.y!==I.y&&O<(I.next.x-I.x)*(F-I.y)/(I.next.y-I.y)+I.x&&(z=!z),I=I.next;while(I!==_);return z}function b(_,B){var I=new x(_.i,_.x,_.y),z=new x(B.i,B.x,B.y),O=_.next,F=B.prev;return _.next=B,B.prev=_,I.next=O,O.prev=I,z.next=I,I.prev=z,F.next=z,z.prev=F,z}function i(_,B,I,z){var O=new x(_,B,I);return z?(O.next=z.next,O.prev=z,z.next.prev=O,z.next=O):(O.prev=O,O.next=O),O}function P(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function x(_,B,I){this.i=_,this.x=B,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(_,B,I,z){var O=B&&B.length,F=O?B[0]*I:_.length,N=Math.abs(k(_,0,F,I));if(O)for(var Q=0,$=B.length;Q<$;Q++){var j=B[Q]*I,ee=Q<$-1?B[Q+1]*I:_.length;N-=Math.abs(k(_,j,ee,I))}var oe=0;for(Q=0;Q<z.length;Q+=3){var Y=z[Q]*I,V=z[Q+1]*I,W=z[Q+2]*I;oe+=Math.abs((_[Y]-_[W])*(_[V+1]-_[Y+1])-(_[Y]-_[V])*(_[W+1]-_[Y+1]))}return N===0&&oe===0?0:Math.abs((oe-N)/N)};function k(_,B,I,z){for(var O=0,F=B,N=I-z;F<I;F+=z)O+=(_[N]-_[F])*(_[F+1]+_[N+1]),N=F;return O}U.flatten=function(_){for(var B=_[0][0].length,I={vertices:[],holes:[],dimensions:B},z=0,O=0;O<_.length;O++){for(var F=0;F<_[O].length;F++)for(var N=0;N<B;N++)I.vertices.push(_[O][F][N]);O>0&&(z+=_[O-1].length,I.holes.push(z))}return I}},2502:function(G,U,e){var p=e(68664);G.exports=function(n,C){var w=[],v=[],y=[],t={},r=[],l;function a(M){y[M]=!1,t.hasOwnProperty(M)&&Object.keys(t[M]).forEach(function(A){delete t[M][A],y[A]&&a(A)})}function s(M){var A=!1;v.push(M),y[M]=!0;var E,g;for(E=0;E<r[M].length;E++)g=r[M][E],g===l?(c(l,v),A=!0):y[g]||(A=s(g));if(A)a(M);else for(E=0;E<r[M].length;E++){g=r[M][E];var S=t[g];S||(S={},t[g]=S),S[g]=!0}return v.pop(),A}function c(M,A){var E=[].concat(A).concat(M);C?C(s):w.push(E)}function u(M){for(var A=0;A<n.length;A++)A<M&&(n[A]=[]),n[A]=n[A].filter(function(E){return E>=M})}function m(M){u(M);for(var A=n,E=p(A),g=E.components.filter(function(_){return _.length>1}),S=1/0,b,i=0;i<g.length;i++)for(var P=0;P<g[i].length;P++)g[i][P]<S&&(S=g[i][P],b=i);var x=g[b];if(!x)return!1;var k=n.map(function(_,B){return x.indexOf(B)===-1?[]:_.filter(function(I){return x.indexOf(I)!==-1})});return{leastVertex:S,adjList:k}}l=0;for(var h=n.length;l<h;){var T=m(l);if(l=T.leastVertex,r=T.adjList,r){for(var f=0;f<r.length;f++)for(var o=0;o<r[f].length;o++){var d=r[f][o];y[+d]=!1,t[d]={}}s(l),l=l+1}else l=h}if(!C)return w}},16134:function(G,U,e){var p=e(36672);G.exports=function(){return p(this).length=0,this}},4892:function(G,U,e){G.exports=e(64404)()?Array.from:e(49441)},64404:function(G){G.exports=function(){var U=Array.from,e,p;return typeof U!="function"?!1:(e=["raz","dwa"],p=U(e),!!(p&&p!==e&&p[1]==="dwa"))}},49441:function(G,U,e){var p=e(8260).iterator,L=e(73051),n=e(33717),C=e(35976),w=e(78513),v=e(36672),y=e(95296),t=e(87963),r=Array.isArray,l=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;G.exports=function(c){var u=arguments[1],m=arguments[2],h,T,f,o,d,M,A,E,g,S;if(c=Object(v(c)),y(u)&&w(u),!this||this===Array||!n(this)){if(!u){if(L(c))return d=c.length,d!==1?Array.apply(null,c):(o=new Array(1),o[0]=c[0],o);if(r(c)){for(o=new Array(d=c.length),T=0;T<d;++T)o[T]=c[T];return o}}o=[]}else h=this;if(!r(c)){if((g=c[p])!==void 0){for(A=w(g).call(c),h&&(o=new h),E=A.next(),T=0;!E.done;)S=u?l.call(u,m,E.value,T):E.value,h?(a.value=S,s(o,T,a)):o[T]=S,E=A.next(),++T;d=T}else if(t(c)){for(d=c.length,h&&(o=new h),T=0,f=0;T<d;++T)S=c[T],T+1<d&&(M=S.charCodeAt(0),M>=55296&&M<=56319&&(S+=c[++T])),S=u?l.call(u,m,S,f):S,h?(a.value=S,s(o,f,a)):o[f]=S,++f;d=f}}if(d===void 0)for(d=C(c.length),h&&(o=new h(d)),T=0;T<d;++T)S=u?l.call(u,m,c[T],T):c[T],h?(a.value=S,s(o,T,a)):o[T]=S;return h&&(a.value=null,o.length=d),o}},73051:function(G){var U=Object.prototype.toString,e=U.call(function(){return arguments}());G.exports=function(p){return U.call(p)===e}},33717:function(G){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(p){return typeof p=="function"&&e(U.call(p))}},52345:function(G){G.exports=function(){}},9953:function(G,U,e){G.exports=e(90436)()?Math.sign:e(6069)},90436:function(G){G.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},6069:function(G){G.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},56247:function(G,U,e){var p=e(9953),L=Math.abs,n=Math.floor;G.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*n(L(C)))}},35976:function(G,U,e){var p=e(56247),L=Math.max;G.exports=function(n){return L(0,p(n))}},67260:function(G,U,e){var p=e(78513),L=e(36672),n=Function.prototype.bind,C=Function.prototype.call,w=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(y,t){return function(r,l){var a,s=arguments[2],c=arguments[3];return r=Object(L(r)),p(l),a=w(r),c&&a.sort(typeof c=="function"?n.call(c,r):void 0),typeof y!="function"&&(y=a[y]),C.call(y,a,function(u,m){return v.call(r,u)?C.call(l,s,r[u],u,r,m):t})}}},95879:function(G,U,e){G.exports=e(73583)()?Object.assign:e(34205)},73583:function(G){G.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(G,U,e){var p=e(68700),L=e(36672),n=Math.max;G.exports=function(C,w){var v,y,t=n(arguments.length,2),r;for(C=Object(L(C)),r=function(l){try{C[l]=w[l]}catch(a){v||(v=a)}},y=1;y<t;++y)w=arguments[y],p(w).forEach(r);if(v!==void 0)throw v;return C}},19012:function(G,U,e){var p=e(4892),L=e(95879),n=e(36672);G.exports=function(C){var w=Object(n(C)),v=arguments[1],y=Object(arguments[2]);if(w!==C&&!v)return w;var t={};return v?p(v,function(r){(y.ensure||r in C)&&(t[r]=C[r])}):L(t,C),t}},52818:function(G,U,e){var p=Object.create,L;e(33247)()||(L=e(51882)),G.exports=function(){var n,C,w;return!L||L.level!==1?p:(n={},C={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=w}),Object.defineProperties(n,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(v,y){return p(v===null?n:v,y)})}()},96437:function(G,U,e){G.exports=e(67260)("forEach")},99611:function(G,U,e){var p=e(95296),L={function:!0,object:!0};G.exports=function(n){return p(n)&&L[typeof n]||!1}},95296:function(G,U,e){var p=e(52345)();G.exports=function(L){return L!==p&&L!==null}},68700:function(G,U,e){G.exports=e(13895)()?Object.keys:e(25217)},13895:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(G,U,e){var p=e(95296),L=Object.keys;G.exports=function(n){return L(p(n)?Object(n):n)}},16906:function(G,U,e){var p=e(78513),L=e(96437),n=Function.prototype.call;G.exports=function(C,w){var v={},y=arguments[2];return p(w),L(C,function(t,r,l,a){v[r]=n.call(w,y,t,r,l,a)}),v}},21780:function(G,U,e){var p=e(95296),L=Array.prototype.forEach,n=Object.create,C=function(w,v){var y;for(y in w)v[y]=w[y]};G.exports=function(w){var v=n(null);return L.call(arguments,function(y){p(y)&&C(Object(y),v)}),v}},1496:function(G,U,e){G.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(G){var U=Object.create,e=Object.getPrototypeOf,p={};G.exports=function(){var L=Object.setPrototypeOf,n=arguments[0]||U;return typeof L!="function"?!1:e(L(n(null),p))===p}},51882:function(G,U,e){var p=e(99611),L=e(36672),n=Object.prototype.isPrototypeOf,C=Object.defineProperty,w={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(y,t){if(L(y),t===null||p(t))return y;throw new TypeError("Prototype must be null or an object")},G.exports=function(y){var t,r;return y?(y.level===2?y.set?(r=y.set,t=function(l,a){return r.call(v(l,a),a),l}):t=function(l,a){return v(l,a).__proto__=a,l}:t=function l(a,s){var c;return v(a,s),c=n.call(l.nullPolyfill,a),c&&delete l.nullPolyfill.__proto__,s===null&&(s=l.nullPolyfill),a.__proto__=s,c&&C(l.nullPolyfill,"__proto__",w),a},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null}(function(){var y=Object.create(null),t={},r,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{r=l.set,r.call(y,t)}catch{}if(Object.getPrototypeOf(y)===t)return{set:r,level:2}}return y.__proto__=t,Object.getPrototypeOf(y)===t?{level:2}:(y={},y.__proto__=t,Object.getPrototypeOf(y)===t?{level:1}:!1)}()),e(52818)},78513:function(G){G.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},98976:function(G,U,e){var p=e(99611);G.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},36672:function(G,U,e){var p=e(95296);G.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},66741:function(G,U,e){G.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(G){var U="razdwatrzy";G.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},60381:function(G){var U=String.prototype.indexOf;G.exports=function(e){return U.call(this,e,arguments[1])>-1}},87963:function(G){var U=Object.prototype.toString,e=U.call("");G.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||U.call(p)===e)||!1}},43043:function(G){var U=Object.create(null),e=Math.random;G.exports=function(){var p;do p=e().toString(36).slice(2);while(U[p]);return p}},32411:function(G,U,e){var p=e(1496),L=e(66741),n=e(62072),C=e(8260),w=e(95426),v=Object.defineProperty,y;y=G.exports=function(t,r){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");w.call(this,t),r?L.call(r,"key+value")?r="key+value":L.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",n("",r))},p&&p(y,w),delete y.prototype.constructor,y.prototype=Object.create(w.prototype,{_resolve:n(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(y.prototype,C.toStringTag,n("c","Array Iterator"))},27515:function(G,U,e){var p=e(73051),L=e(78513),n=e(87963),C=e(66661),w=Array.isArray,v=Function.prototype.call,y=Array.prototype.some;G.exports=function(t,r){var l,a=arguments[2],s,c,u,m,h,T,f;if(w(t)||p(t)?l="array":n(t)?l="string":t=C(t),L(r),c=function(){u=!0},l==="array"){y.call(t,function(o){return v.call(r,a,o,c),u});return}if(l==="string"){for(h=t.length,m=0;m<h&&(T=t[m],m+1<h&&(f=T.charCodeAt(0),f>=55296&&f<=56319&&(T+=t[++m])),v.call(r,a,T,c),!u);++m);return}for(s=t.next();!s.done;){if(v.call(r,a,s.value,c),u)return;s=t.next()}}},66661:function(G,U,e){var p=e(73051),L=e(87963),n=e(32411),C=e(259),w=e(58095),v=e(8260).iterator;G.exports=function(y){return typeof w(y)[v]=="function"?y[v]():p(y)?new n(y):L(y)?new C(y):new n(y)}},95426:function(G,U,e){var p=e(16134),L=e(95879),n=e(78513),C=e(36672),w=e(62072),v=e(55174),y=e(8260),t=Object.defineProperty,r=Object.defineProperties,l;G.exports=l=function(a,s){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");r(this,{__list__:w("w",C(a)),__context__:w("w",s),__nextIndex__:w("w",0)}),s&&(n(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete l.prototype.constructor,r(l.prototype,L({_next:w(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:w(function(){return this._createResult(this._next())}),_createResult:w(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:w(function(a){return this.__list__[a]}),_unBind:w(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:w(function(){return"[object "+(this[y.toStringTag]||"Object")+"]"})},v({_onAdd:w(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",w("c",[a]));return}this.__redo__.forEach(function(s,c){s>=a&&(this.__redo__[c]=++s)},this),this.__redo__.push(a)}}),_onDelete:w(function(a){var s;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(s=this.__redo__.indexOf(a),s!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(c,u){c>a&&(this.__redo__[u]=--c)},this)))}),_onClear:w(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),t(l.prototype,y.iterator,w(function(){return this}))},35940:function(G,U,e){var p=e(73051),L=e(95296),n=e(87963),C=e(8260).iterator,w=Array.isArray;G.exports=function(v){return L(v)?w(v)||n(v)||p(v)?!0:typeof v[C]=="function":!1}},259:function(G,U,e){var p=e(1496),L=e(62072),n=e(8260),C=e(95426),w=Object.defineProperty,v;v=G.exports=function(y){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");y=String(y),C.call(this,y),w(this,"__length__",L("",y.length))},p&&p(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(y){var t=this.__list__[y],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),w(v.prototype,n.toStringTag,L("c","String Iterator"))},58095:function(G,U,e){var p=e(35940);G.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},73523:function(G){function U(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(p),C=1;C<arguments.length;C++){var w=arguments[C];if(w!=null)for(var v=Object.keys(Object(w)),y=0,t=v.length;y<t;y++){var r=v[y],l=Object.getOwnPropertyDescriptor(w,r);l!==void 0&&l.enumerable&&(n[r]=w[r])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}G.exports={assign:U,polyfill:e}},8260:function(G,U,e){G.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(G,U,e){var p=e(94908),L={object:!0,symbol:!0};G.exports=function(){var n=p.Symbol,C;if(typeof n!="function")return!1;C=n("test symbol");try{String(C)}catch{return!1}return!(!L[typeof n.iterator]||!L[typeof n.toPrimitive]||!L[typeof n.toStringTag])}},82276:function(G){G.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},29366:function(G,U,e){var p=e(62072),L=Object.create,n=Object.defineProperty,C=Object.prototype,w=L(null);G.exports=function(v){for(var y=0,t,r;w[v+(y||"")];)++y;return v+=y||"",w[v]=!0,t="@@"+v,n(C,t,p.gs(null,function(l){r||(r=!0,n(this,t,p(l)),r=!1)})),t}},92842:function(G,U,e){var p=e(62072),L=e(94908).Symbol;G.exports=function(n){return Object.defineProperties(n,{hasInstance:p("",L&&L.hasInstance||n("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||n("isConcatSpreadable")),iterator:p("",L&&L.iterator||n("iterator")),match:p("",L&&L.match||n("match")),replace:p("",L&&L.replace||n("replace")),search:p("",L&&L.search||n("search")),species:p("",L&&L.species||n("species")),split:p("",L&&L.split||n("split")),toPrimitive:p("",L&&L.toPrimitive||n("toPrimitive")),toStringTag:p("",L&&L.toStringTag||n("toStringTag")),unscopables:p("",L&&L.unscopables||n("unscopables"))})}},13304:function(G,U,e){var p=e(62072),L=e(53308),n=Object.create(null);G.exports=function(C){return Object.defineProperties(C,{for:p(function(w){return n[w]?n[w]:n[w]=C(String(w))}),keyFor:p(function(w){var v;L(w);for(v in n)if(n[v]===w)return v})})}},18415:function(G,U,e){var p=e(62072),L=e(53308),n=e(94908).Symbol,C=e(29366),w=e(92842),v=e(13304),y=Object.create,t=Object.defineProperties,r=Object.defineProperty,l,a,s;if(typeof n=="function")try{String(n()),s=!0}catch{}else n=null;a=function(u){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return l(u)},G.exports=l=function c(u){var m;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return s?n(u):(m=y(a.prototype),u=u===void 0?"":String(u),t(m,{__description__:p("",u),__name__:p("",C(u))}))},w(l),v(l),t(a.prototype,{constructor:p(l),toString:p("",function(){return this.__name__})}),t(l.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),r(l.prototype,l.toPrimitive,p("",function(){var c=L(this);return typeof c=="symbol"?c:c.toString()})),r(l.prototype,l.toStringTag,p("c","Symbol")),r(a.prototype,l.toStringTag,p("c",l.prototype[l.toStringTag])),r(a.prototype,l.toPrimitive,p("c",l.prototype[l.toPrimitive]))},53308:function(G,U,e){var p=e(82276);G.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},83522:function(G,U,e){G.exports=e(96402)()?WeakMap:e(329)},96402:function(G){G.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},96416:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(G,U,e){var p=e(95296),L=e(1496),n=e(98976),C=e(36672),w=e(43043),v=e(62072),y=e(66661),t=e(27515),r=e(8260).toStringTag,l=e(96416),a=Array.isArray,s=Object.defineProperty,c=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,m;G.exports=m=function(){var h=arguments[0],T;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return T=l&&L&&WeakMap!==m?L(new WeakMap,u(this)):this,p(h)&&(a(h)||(h=y(h))),s(T,"__weakMapData__",v("c","$weakMap$"+w())),h&&t(h,function(f){C(f),T.set(f[0],f[1])}),T},l&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(h){return c.call(n(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(c.call(n(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return c.call(n(h),this.__weakMapData__)}),set:v(function(h,T){return s(n(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),s(m.prototype,r,v("c","WeakMap"))},15398:function(G){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(d,M,A){return Function.prototype.apply.call(d,M,A)},p;U&&typeof U.ownKeys=="function"?p=U.ownKeys:Object.getOwnPropertySymbols?p=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:p=function(d){return Object.getOwnPropertyNames(d)};function L(o){console&&console.warn&&console.warn(o)}var n=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}G.exports=C,G.exports.once=h,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var w=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(o){if(typeof o!="number"||o<0||n(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");w=o}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||n(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function y(o){return o._maxListeners===void 0?C.defaultMaxListeners:o._maxListeners}C.prototype.getMaxListeners=function(){return y(this)},C.prototype.emit=function(d){for(var M=[],A=1;A<arguments.length;A++)M.push(arguments[A]);var E=d==="error",g=this._events;if(g!==void 0)E=E&&g.error===void 0;else if(!E)return!1;if(E){var S;if(M.length>0&&(S=M[0]),S instanceof Error)throw S;var b=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw b.context=S,b}var i=g[d];if(i===void 0)return!1;if(typeof i=="function")e(i,this,M);else for(var P=i.length,x=c(i,P),A=0;A<P;++A)e(x[A],this,M);return!0};function t(o,d,M,A){var E,g,S;if(v(M),g=o._events,g===void 0?(g=o._events=Object.create(null),o._eventsCount=0):(g.newListener!==void 0&&(o.emit("newListener",d,M.listener?M.listener:M),g=o._events),S=g[d]),S===void 0)S=g[d]=M,++o._eventsCount;else if(typeof S=="function"?S=g[d]=A?[M,S]:[S,M]:A?S.unshift(M):S.push(M),E=y(o),E>0&&S.length>E&&!S.warned){S.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=o,b.type=d,b.count=S.length,L(b)}return o}C.prototype.addListener=function(d,M){return t(this,d,M,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,M){return t(this,d,M,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(o,d,M){var A={fired:!1,wrapFn:void 0,target:o,type:d,listener:M},E=r.bind(A);return E.listener=M,A.wrapFn=E,E}C.prototype.once=function(d,M){return v(M),this.on(d,l(this,d,M)),this},C.prototype.prependOnceListener=function(d,M){return v(M),this.prependListener(d,l(this,d,M)),this},C.prototype.removeListener=function(d,M){var A,E,g,S,b;if(v(M),E=this._events,E===void 0)return this;if(A=E[d],A===void 0)return this;if(A===M||A.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete E[d],E.removeListener&&this.emit("removeListener",d,A.listener||M));else if(typeof A!="function"){for(g=-1,S=A.length-1;S>=0;S--)if(A[S]===M||A[S].listener===M){b=A[S].listener,g=S;break}if(g<0)return this;g===0?A.shift():u(A,g),A.length===1&&(E[d]=A[0]),E.removeListener!==void 0&&this.emit("removeListener",d,b||M)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var M,A,E;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[d]),this;if(arguments.length===0){var g=Object.keys(A),S;for(E=0;E<g.length;++E)S=g[E],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=A[d],typeof M=="function")this.removeListener(d,M);else if(M!==void 0)for(E=M.length-1;E>=0;E--)this.removeListener(d,M[E]);return this};function a(o,d,M){var A=o._events;if(A===void 0)return[];var E=A[d];return E===void 0?[]:typeof E=="function"?M?[E.listener||E]:[E]:M?m(E):c(E,E.length)}C.prototype.listeners=function(d){return a(this,d,!0)},C.prototype.rawListeners=function(d){return a(this,d,!1)},C.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):s.call(o,d)},C.prototype.listenerCount=s;function s(o){var d=this._events;if(d!==void 0){var M=d[o];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function c(o,d){for(var M=new Array(d),A=0;A<d;++A)M[A]=o[A];return M}function u(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function m(o){for(var d=new Array(o.length),M=0;M<d.length;++M)d[M]=o[M].listener||o[M];return d}function h(o,d){return new Promise(function(M,A){function E(S){o.removeListener(d,g),A(S)}function g(){typeof o.removeListener=="function"&&o.removeListener("error",E),M([].slice.call(arguments))}f(o,d,g,{once:!0}),d!=="error"&&T(o,E,{once:!0})})}function T(o,d,M){typeof o.on=="function"&&f(o,"error",d,M)}function f(o,d,M,A){if(typeof o.on=="function")A.once?o.once(d,M):o.on(d,M);else if(typeof o.addEventListener=="function")o.addEventListener(d,function E(g){A.once&&o.removeEventListener(d,E),M(g)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},60774:function(G){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},94908:function(G,U,e){G.exports=e(51152)()?globalThis:e(60774)},51152:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(G,U,e){var p=e(18546);G.exports=function(L){var n=typeof L;if(n==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(n!=="number")return!1;return L-L<1}},30120:function(G,U,e){var p=e(90660);G.exports=L;function L(n,C,w){if(!n)throw new TypeError("must specify data as first parameter");if(w=+(w||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var v=n[0].length,y=n.length*v,t,r,l,a;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(y+w));var s=C.length-w;if(y!==s)throw new Error("source length "+y+" ("+v+"x"+n.length+") does not match destination length "+s);for(t=0,l=w;t<n.length;t++)for(r=0;r<v;r++)C[l++]=n[t][r]===null?NaN:n[t][r]}else if(!C||typeof C=="string"){var c=p(C||"float32");if(Array.isArray(n)||C==="array")for(C=new c(n.length+w),t=0,l=w,a=C.length;l<a;l++,t++)C[l]=n[t]===null?NaN:n[t];else w===0?C=new c(n):(C=new c(n.length+w),C.set(n,w))}else C.set(n,w);return C}},68016:function(G,U,e){var p=e(53313),L=[32,126];G.exports=n;function n(C){C=C||{};var w=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),y=C.font,t=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],r=C.chars||L;if(y&&typeof y!="string"&&(y=p(y)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var l=[],a=r[0],s=0;a<=r[1];a++)l[s++]=String.fromCharCode(a);r=l}w=w.slice(),v.width=w[0],v.height=w[1];var c=v.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,v.width,v.height),c.font=y,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";for(var u=t[0]/2,m=t[1]/2,a=0;a<r.length;a++)c.fillText(r[a],u,m),(u+=t[0])>w[0]-t[0]/2&&(u=t[0]/2,m+=t[1]);return v}},32879:function(G){G.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(r,C){C||(C={}),(typeof r=="string"||Array.isArray(r))&&(C.family=r);var w=Array.isArray(C.family)?C.family.join(", "):C.family;if(!w)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,y=C.weight||C.fontWeight||"",t=C.style||C.fontStyle||"",r=[t,y,v].join(" ")+"px "+w,l=C.origin||"top";if(U.cache[w]&&v<=U.cache[w].em)return e(U.cache[w],l);var a=C.canvas||U.canvas,s=a.getContext("2d"),c={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},u=Math.ceil(v*1.5);a.height=u,a.width=u*.5,s.font=r;var m="H",h={top:0};s.clearRect(0,0,u,u),s.textBaseline="top",s.fillStyle="black",s.fillText(m,0,0);var T=p(s.getImageData(0,0,u,u));s.clearRect(0,0,u,u),s.textBaseline="bottom",s.fillText(m,0,u);var f=p(s.getImageData(0,0,u,u));h.lineHeight=h.bottom=u-f+T,s.clearRect(0,0,u,u),s.textBaseline="alphabetic",s.fillText(m,0,u);var o=p(s.getImageData(0,0,u,u)),d=u-o-1+T;h.baseline=h.alphabetic=d,s.clearRect(0,0,u,u),s.textBaseline="middle",s.fillText(m,0,u*.5);var M=p(s.getImageData(0,0,u,u));h.median=h.middle=u-M-1+T-u*.5,s.clearRect(0,0,u,u),s.textBaseline="hanging",s.fillText(m,0,u*.5);var A=p(s.getImageData(0,0,u,u));h.hanging=u-A-1+T-u*.5,s.clearRect(0,0,u,u),s.textBaseline="ideographic",s.fillText(m,0,u);var E=p(s.getImageData(0,0,u,u));if(h.ideographic=u-E-1+T,c.upper&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.upper,0,0),h.upper=p(s.getImageData(0,0,u,u)),h.capHeight=h.baseline-h.upper),c.lower&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.lower,0,0),h.lower=p(s.getImageData(0,0,u,u)),h.xHeight=h.baseline-h.lower),c.tittle&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.tittle,0,0),h.tittle=p(s.getImageData(0,0,u,u))),c.ascent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.ascent,0,0),h.ascent=p(s.getImageData(0,0,u,u))),c.descent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.descent,0,0),h.descent=L(s.getImageData(0,0,u,u))),c.overshoot){s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.overshoot,0,0);var g=L(s.getImageData(0,0,u,u));h.overshoot=g-d}for(var S in h)h[S]/=v;return h.em=v,U.cache[w]=h,e(h,l)}function e(n,C){var w={};typeof C=="string"&&(C=n[C]);for(var v in n)v!=="em"&&(w[v]=n[v]-C);return w}function p(n){for(var C=n.height,w=n.data,v=3;v<w.length;v+=4)if(w[v]!==0)return Math.floor((v-3)*.25/C)}function L(n){for(var C=n.height,w=n.data,v=w.length-1;v>0;v-=4)if(w[v]!==0)return Math.floor((v-3)*.25/C)}},31353:function(G,U,e){var p=e(85395),L=Object.prototype.toString,n=Object.prototype.hasOwnProperty,C=function(r,l,a){for(var s=0,c=r.length;s<c;s++)n.call(r,s)&&(a==null?l(r[s],s,r):l.call(a,r[s],s,r))},w=function(r,l,a){for(var s=0,c=r.length;s<c;s++)a==null?l(r.charAt(s),s,r):l.call(a,r.charAt(s),s,r)},v=function(r,l,a){for(var s in r)n.call(r,s)&&(a==null?l(r[s],s,r):l.call(a,r[s],s,r))},y=function(r,l,a){if(!p(l))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=a),L.call(r)==="[object Array]"?C(r,l,s):typeof r=="string"?w(r,l,s):v(r,l,s)};G.exports=y},73047:function(G){var U="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,p=Object.prototype.toString,L="[object Function]";G.exports=function(C){var w=this;if(typeof w!="function"||p.call(w)!==L)throw new TypeError(U+w);for(var v=e.call(arguments,1),y,t=function(){if(this instanceof y){var c=w.apply(this,v.concat(e.call(arguments)));return Object(c)===c?c:this}else return w.apply(C,v.concat(e.call(arguments)))},r=Math.max(0,w.length-v.length),l=[],a=0;a<r;a++)l.push("$"+a);if(y=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(t),w.prototype){var s=function(){};s.prototype=w.prototype,y.prototype=new s,s.prototype=null}return y}},77575:function(G,U,e){var p=e(73047);G.exports=Function.prototype.bind||p},86249:function(G){G.exports=U;function U(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var n=p,C;try{var w=[e];e.indexOf("webgl")===0&&w.push("experimental-"+e);for(var v=0;v<w.length;v++)if(C=L.getContext(w[v],n),C)return C}catch{C=null}return C||null}},68318:function(G,U,e){var p,L=SyntaxError,n=Function,C=TypeError,w=function(P){try{return n('"use strict"; return ('+P+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var y=function(){throw new C},t=v?function(){try{return arguments.callee,y}catch{try{return v(arguments,"callee").get}catch{return y}}}():y,r=e(57877)(),l=Object.getPrototypeOf||function(P){return P.__proto__},a={},s=typeof Uint8Array>"u"?p:l(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":r?l([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?l(l([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?p:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?p:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?l(""[Symbol.iterator]()):p,"%Symbol%":r?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":t,"%TypedArray%":s,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};try{null.error}catch(P){var u=l(l(P));c["%Error.prototype%"]=u}var m=function P(x){var k;if(x==="%AsyncFunction%")k=w("async function () {}");else if(x==="%GeneratorFunction%")k=w("function* () {}");else if(x==="%AsyncGeneratorFunction%")k=w("async function* () {}");else if(x==="%AsyncGenerator%"){var _=P("%AsyncGeneratorFunction%");_&&(k=_.prototype)}else if(x==="%AsyncIteratorPrototype%"){var B=P("%AsyncGenerator%");B&&(k=l(B.prototype))}return c[x]=k,k},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e(77575),f=e(35065),o=T.call(Function.call,Array.prototype.concat),d=T.call(Function.apply,Array.prototype.splice),M=T.call(Function.call,String.prototype.replace),A=T.call(Function.call,String.prototype.slice),E=T.call(Function.call,RegExp.prototype.exec),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,b=function(x){var k=A(x,0,1),_=A(x,-1);if(k==="%"&&_!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(_==="%"&&k!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var B=[];return M(x,g,function(I,z,O,F){B[B.length]=O?M(F,S,"$1"):z||I}),B},i=function(x,k){var _=x,B;if(f(h,_)&&(B=h[_],_="%"+B[0]+"%"),f(c,_)){var I=c[_];if(I===a&&(I=m(_)),typeof I>"u"&&!k)throw new C("intrinsic "+x+" exists, but is not available. Please file an issue!");return{alias:B,name:_,value:I}}throw new L("intrinsic "+x+" does not exist!")};G.exports=function(x,k){if(typeof x!="string"||x.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new C('"allowMissing" argument must be a boolean');if(E(/^%?[^%]*%?$/,x)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _=b(x),B=_.length>0?_[0]:"",I=i("%"+B+"%",k),z=I.name,O=I.value,F=!1,N=I.alias;N&&(B=N[0],d(_,o([0,1],N)));for(var Q=1,$=!0;Q<_.length;Q+=1){var j=_[Q],ee=A(j,0,1),oe=A(j,-1);if((ee==='"'||ee==="'"||ee==="`"||oe==='"'||oe==="'"||oe==="`")&&ee!==oe)throw new L("property names with quotes must have matching quotes");if((j==="constructor"||!$)&&(F=!0),B+="."+j,z="%"+B+"%",f(c,z))O=c[z];else if(O!=null){if(!(j in O)){if(!k)throw new C("base intrinsic for "+x+" exists, but the property is not available.");return}if(v&&Q+1>=_.length){var Y=v(O,j);$=!!Y,$&&"get"in Y&&!("originalValue"in Y.get)?O=Y.get:O=O[j]}else $=f(O,j),O=O[j];$&&!F&&(c[z]=O)}}return O}},85400:function(G){G.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],w=p[3],v=p[4],y=p[5],t=p[6],r=p[7],l=p[8],a=p[9],s=p[10],c=p[11],u=p[12],m=p[13],h=p[14],T=p[15];return e[0]=y*(s*T-c*h)-a*(t*T-r*h)+m*(t*c-r*s),e[1]=-(n*(s*T-c*h)-a*(C*T-w*h)+m*(C*c-w*s)),e[2]=n*(t*T-r*h)-y*(C*T-w*h)+m*(C*r-w*t),e[3]=-(n*(t*c-r*s)-y*(C*c-w*s)+a*(C*r-w*t)),e[4]=-(v*(s*T-c*h)-l*(t*T-r*h)+u*(t*c-r*s)),e[5]=L*(s*T-c*h)-l*(C*T-w*h)+u*(C*c-w*s),e[6]=-(L*(t*T-r*h)-v*(C*T-w*h)+u*(C*r-w*t)),e[7]=L*(t*c-r*s)-v*(C*c-w*s)+l*(C*r-w*t),e[8]=v*(a*T-c*m)-l*(y*T-r*m)+u*(y*c-r*a),e[9]=-(L*(a*T-c*m)-l*(n*T-w*m)+u*(n*c-w*a)),e[10]=L*(y*T-r*m)-v*(n*T-w*m)+u*(n*r-w*y),e[11]=-(L*(y*c-r*a)-v*(n*c-w*a)+l*(n*r-w*y)),e[12]=-(v*(a*h-s*m)-l*(y*h-t*m)+u*(y*s-t*a)),e[13]=L*(a*h-s*m)-l*(n*h-C*m)+u*(n*s-C*a),e[14]=-(L*(y*h-t*m)-v*(n*h-C*m)+u*(n*t-C*y)),e[15]=L*(y*s-t*a)-v*(n*s-C*a)+l*(n*t-C*y),e}},42331:function(G){G.exports=U;function U(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},31042:function(G){G.exports=U;function U(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},11902:function(G){G.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(G){G.exports=U;function U(e){var p=e[0],L=e[1],n=e[2],C=e[3],w=e[4],v=e[5],y=e[6],t=e[7],r=e[8],l=e[9],a=e[10],s=e[11],c=e[12],u=e[13],m=e[14],h=e[15],T=p*v-L*w,f=p*y-n*w,o=p*t-C*w,d=L*y-n*v,M=L*t-C*v,A=n*t-C*y,E=r*u-l*c,g=r*m-a*c,S=r*h-s*c,b=l*m-a*u,i=l*h-s*u,P=a*h-s*m;return T*P-f*i+o*b+d*S-M*g+A*E}},27812:function(G){G.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],w=p[3],v=L+L,y=n+n,t=C+C,r=L*v,l=n*v,a=n*y,s=C*v,c=C*y,u=C*t,m=w*v,h=w*y,T=w*t;return e[0]=1-a-u,e[1]=l+T,e[2]=s-h,e[3]=0,e[4]=l-T,e[5]=1-r-u,e[6]=c+m,e[7]=0,e[8]=s+h,e[9]=c-m,e[10]=1-r-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(G){G.exports=U;function U(e,p,L){var n,C,w,v=L[0],y=L[1],t=L[2],r=Math.sqrt(v*v+y*y+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,y*=r,t*=r,n=Math.sin(p),C=Math.cos(p),w=1-C,e[0]=v*v*w+C,e[1]=y*v*w+t*n,e[2]=t*v*w-y*n,e[3]=0,e[4]=v*y*w-t*n,e[5]=y*y*w+C,e[6]=t*y*w+v*n,e[7]=0,e[8]=v*t*w+y*n,e[9]=y*t*w-v*n,e[10]=t*t*w+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(G){G.exports=U;function U(e,p,L){var n=p[0],C=p[1],w=p[2],v=p[3],y=n+n,t=C+C,r=w+w,l=n*y,a=n*t,s=n*r,c=C*t,u=C*r,m=w*r,h=v*y,T=v*t,f=v*r;return e[0]=1-(c+m),e[1]=a+f,e[2]=s-T,e[3]=0,e[4]=a-f,e[5]=1-(l+m),e[6]=u+h,e[7]=0,e[8]=s+T,e[9]=u-h,e[10]=1-(l+c),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},81472:function(G){G.exports=U;function U(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(G){G.exports=U;function U(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},75262:function(G){G.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(G){G.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(G){G.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(G){G.exports=U;function U(e,p,L,n,C,w,v){var y=1/(L-p),t=1/(C-n),r=1/(w-v);return e[0]=w*2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w*2*t,e[6]=0,e[7]=0,e[8]=(L+p)*y,e[9]=(C+n)*t,e[10]=(v+w)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*w*2*r,e[15]=0,e}},71551:function(G){G.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(G,U,e){G.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(G){G.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],w=p[3],v=p[4],y=p[5],t=p[6],r=p[7],l=p[8],a=p[9],s=p[10],c=p[11],u=p[12],m=p[13],h=p[14],T=p[15],f=L*y-n*v,o=L*t-C*v,d=L*r-w*v,M=n*t-C*y,A=n*r-w*y,E=C*r-w*t,g=l*m-a*u,S=l*h-s*u,b=l*T-c*u,i=a*h-s*m,P=a*T-c*m,x=s*T-c*h,k=f*x-o*P+d*i+M*b-A*S+E*g;return k?(k=1/k,e[0]=(y*x-t*P+r*i)*k,e[1]=(C*P-n*x-w*i)*k,e[2]=(m*E-h*A+T*M)*k,e[3]=(s*A-a*E-c*M)*k,e[4]=(t*b-v*x-r*S)*k,e[5]=(L*x-C*b+w*S)*k,e[6]=(h*d-u*E-T*o)*k,e[7]=(l*E-s*d+c*o)*k,e[8]=(v*P-y*b+r*g)*k,e[9]=(n*b-L*P-w*g)*k,e[10]=(u*A-m*d+T*f)*k,e[11]=(a*d-l*A-c*f)*k,e[12]=(y*S-v*i-t*g)*k,e[13]=(L*i-n*S+C*g)*k,e[14]=(m*o-u*M-h*f)*k,e[15]=(l*M-a*o+s*f)*k,e):null}},65551:function(G,U,e){var p=e(71551);G.exports=L;function L(n,C,w,v){var y,t,r,l,a,s,c,u,m,h,T=C[0],f=C[1],o=C[2],d=v[0],M=v[1],A=v[2],E=w[0],g=w[1],S=w[2];return Math.abs(T-E)<1e-6&&Math.abs(f-g)<1e-6&&Math.abs(o-S)<1e-6?p(n):(c=T-E,u=f-g,m=o-S,h=1/Math.sqrt(c*c+u*u+m*m),c*=h,u*=h,m*=h,y=M*m-A*u,t=A*c-d*m,r=d*u-M*c,h=Math.sqrt(y*y+t*t+r*r),h?(h=1/h,y*=h,t*=h,r*=h):(y=0,t=0,r=0),l=u*r-m*t,a=m*y-c*r,s=c*t-u*y,h=Math.sqrt(l*l+a*a+s*s),h?(h=1/h,l*=h,a*=h,s*=h):(l=0,a=0,s=0),n[0]=y,n[1]=l,n[2]=c,n[3]=0,n[4]=t,n[5]=a,n[6]=u,n[7]=0,n[8]=r,n[9]=s,n[10]=m,n[11]=0,n[12]=-(y*T+t*f+r*o),n[13]=-(l*T+a*f+s*o),n[14]=-(c*T+u*f+m*o),n[15]=1,n)}},91362:function(G){G.exports=U;function U(e,p,L){var n=p[0],C=p[1],w=p[2],v=p[3],y=p[4],t=p[5],r=p[6],l=p[7],a=p[8],s=p[9],c=p[10],u=p[11],m=p[12],h=p[13],T=p[14],f=p[15],o=L[0],d=L[1],M=L[2],A=L[3];return e[0]=o*n+d*y+M*a+A*m,e[1]=o*C+d*t+M*s+A*h,e[2]=o*w+d*r+M*c+A*T,e[3]=o*v+d*l+M*u+A*f,o=L[4],d=L[5],M=L[6],A=L[7],e[4]=o*n+d*y+M*a+A*m,e[5]=o*C+d*t+M*s+A*h,e[6]=o*w+d*r+M*c+A*T,e[7]=o*v+d*l+M*u+A*f,o=L[8],d=L[9],M=L[10],A=L[11],e[8]=o*n+d*y+M*a+A*m,e[9]=o*C+d*t+M*s+A*h,e[10]=o*w+d*r+M*c+A*T,e[11]=o*v+d*l+M*u+A*f,o=L[12],d=L[13],M=L[14],A=L[15],e[12]=o*n+d*y+M*a+A*m,e[13]=o*C+d*t+M*s+A*h,e[14]=o*w+d*r+M*c+A*T,e[15]=o*v+d*l+M*u+A*f,e}},60378:function(G){G.exports=U;function U(e,p,L,n,C,w,v){var y=1/(p-L),t=1/(n-C),r=1/(w-v);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(p+L)*y,e[13]=(C+n)*t,e[14]=(v+w)*r,e[15]=1,e}},7864:function(G){G.exports=U;function U(e,p,L,n,C){var w=1/Math.tan(p/2),v=1/(n-C);return e[0]=w/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+n)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*n*v,e[15]=0,e}},35279:function(G){G.exports=U;function U(e,p,L,n){var C=Math.tan(p.upDegrees*Math.PI/180),w=Math.tan(p.downDegrees*Math.PI/180),v=Math.tan(p.leftDegrees*Math.PI/180),y=Math.tan(p.rightDegrees*Math.PI/180),t=2/(v+y),r=2/(C+w);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-y)*t*.5),e[9]=(C-w)*r*.5,e[10]=n/(L-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*L/(L-n),e[15]=0,e}},65074:function(G){G.exports=U;function U(e,p,L,n){var C=n[0],w=n[1],v=n[2],y=Math.sqrt(C*C+w*w+v*v),t,r,l,a,s,c,u,m,h,T,f,o,d,M,A,E,g,S,b,i,P,x,k,_;return Math.abs(y)<1e-6?null:(y=1/y,C*=y,w*=y,v*=y,t=Math.sin(L),r=Math.cos(L),l=1-r,a=p[0],s=p[1],c=p[2],u=p[3],m=p[4],h=p[5],T=p[6],f=p[7],o=p[8],d=p[9],M=p[10],A=p[11],E=C*C*l+r,g=w*C*l+v*t,S=v*C*l-w*t,b=C*w*l-v*t,i=w*w*l+r,P=v*w*l+C*t,x=C*v*l+w*t,k=w*v*l-C*t,_=v*v*l+r,e[0]=a*E+m*g+o*S,e[1]=s*E+h*g+d*S,e[2]=c*E+T*g+M*S,e[3]=u*E+f*g+A*S,e[4]=a*b+m*i+o*P,e[5]=s*b+h*i+d*P,e[6]=c*b+T*i+M*P,e[7]=u*b+f*i+A*P,e[8]=a*x+m*k+o*_,e[9]=s*x+h*k+d*_,e[10]=c*x+T*k+M*_,e[11]=u*x+f*k+A*_,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},35545:function(G){G.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),w=p[4],v=p[5],y=p[6],t=p[7],r=p[8],l=p[9],a=p[10],s=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=w*C+r*n,e[5]=v*C+l*n,e[6]=y*C+a*n,e[7]=t*C+s*n,e[8]=r*C-w*n,e[9]=l*C-v*n,e[10]=a*C-y*n,e[11]=s*C-t*n,e}},94918:function(G){G.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),w=p[0],v=p[1],y=p[2],t=p[3],r=p[8],l=p[9],a=p[10],s=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=w*C-r*n,e[1]=v*C-l*n,e[2]=y*C-a*n,e[3]=t*C-s*n,e[8]=w*n+r*C,e[9]=v*n+l*C,e[10]=y*n+a*C,e[11]=t*n+s*C,e}},15692:function(G){G.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),w=p[0],v=p[1],y=p[2],t=p[3],r=p[4],l=p[5],a=p[6],s=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=w*C+r*n,e[1]=v*C+l*n,e[2]=y*C+a*n,e[3]=t*C+s*n,e[4]=r*C-w*n,e[5]=l*C-v*n,e[6]=a*C-y*n,e[7]=s*C-t*n,e}},10789:function(G){G.exports=U;function U(e,p,L){var n=L[0],C=L[1],w=L[2];return e[0]=p[0]*n,e[1]=p[1]*n,e[2]=p[2]*n,e[3]=p[3]*n,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*w,e[9]=p[9]*w,e[10]=p[10]*w,e[11]=p[11]*w,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},6726:function(G){G.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(G){G.exports=U;function U(e,p,L){var n=L[0],C=L[1],w=L[2],v,y,t,r,l,a,s,c,u,m,h,T;return p===e?(e[12]=p[0]*n+p[4]*C+p[8]*w+p[12],e[13]=p[1]*n+p[5]*C+p[9]*w+p[13],e[14]=p[2]*n+p[6]*C+p[10]*w+p[14],e[15]=p[3]*n+p[7]*C+p[11]*w+p[15]):(v=p[0],y=p[1],t=p[2],r=p[3],l=p[4],a=p[5],s=p[6],c=p[7],u=p[8],m=p[9],h=p[10],T=p[11],e[0]=v,e[1]=y,e[2]=t,e[3]=r,e[4]=l,e[5]=a,e[6]=s,e[7]=c,e[8]=u,e[9]=m,e[10]=h,e[11]=T,e[12]=v*n+l*C+u*w+p[12],e[13]=y*n+a*C+m*w+p[13],e[14]=t*n+s*C+h*w+p[14],e[15]=r*n+c*C+T*w+p[15]),e}},88654:function(G){G.exports=U;function U(e,p){if(e===p){var L=p[1],n=p[2],C=p[3],w=p[6],v=p[7],y=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=n,e[9]=w,e[11]=p[14],e[12]=C,e[13]=v,e[14]=y}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},42505:function(G,U,e){var p=e(72791),L=e(71299),n=e(98580),C=e(12018),w=e(83522),v=e(25075),y=e(68016),t=e(58404),r=e(18863),l=e(10973),a=e(25677),s=e(75686),c=e(53545),u=e(56131),m=e(32879),h=e(30120),T=e(13547),f=T.nextPow2,o=new w,d=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(d=!0),document.body.removeChild(M)}var A=function(S){E(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=C(S),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(S)?S:{})};A.prototype.createShader=function(){var S=this.regl,b=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(P,x){return[x.atlas.width,x.atlas.height]},atlasDim:function(P,x){return[x.atlas.cols,x.atlas.rows]},atlas:function(P,x){return x.atlas.texture},charStep:function(P,x){return x.atlas.step},em:function(P,x){return x.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:S,draw:b,atlas:i}},A.prototype.update=function(S){var b=this;if(typeof S=="string")S={text:S};else if(!S)return;S=L(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(De){return parseFloat(De)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=r(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=A.baseFontSize+"px sans-serif");var i=!1,P=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(De,He){if(typeof De=="string")try{De=p.parse(De)}catch{De=p.parse(A.baseFontSize+"px "+De)}else De=p.parse(p.stringify(De));var ut=p.stringify({size:A.baseFontSize,family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style}),et=a(De.size),Qe=Math.round(et[0]*s(et[1]));if(Qe!==b.fontSize[He]&&(P=!0,b.fontSize[He]=Qe),(!b.font[He]||ut!=b.font[He].baseString)&&(i=!0,b.font[He]=A.fonts[ut],!b.font[He])){var qe=De.family.join(", "),ft=[De.style];De.style!=De.variant&&ft.push(De.variant),De.variant!=De.weight&&ft.push(De.weight),d&&De.weight!=De.stretch&&ft.push(De.stretch),b.font[He]={baseString:ut,family:qe,weight:De.weight,stretch:De.stretch,style:De.style,variant:De.variant,width:{},kerning:{},metrics:m(qe,{origin:"top",fontSize:A.baseFontSize,fontStyle:ft.join(" ")})},A.fonts[ut]=b.font[He]}}),(i||P)&&this.font.forEach(function(De,He){var ut=p.stringify({size:b.fontSize[He],family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style});if(b.fontAtlas[He]=b.shader.atlas[ut],!b.fontAtlas[He]){var et=De.metrics;b.shader.atlas[ut]=b.fontAtlas[He]={fontString:ut,step:Math.ceil(b.fontSize[He]*et.bottom*.5)*2,em:b.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}S.text==null&&(S.text=b.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var x=Array(S.position.length*.5),k=0;k<x.length;k++)x[k]=S.text;S.text=x}var _;if(S.text!=null||i){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var B=1;B<S.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+S.text[B-1].length,this.count+=S.text[B].length,this.counts.push(S.text[B].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(De,He){A.atlasContext.font=De.baseString;for(var ut=b.fontAtlas[He],et=0;et<b.text.length;et++){var Qe=b.text.charAt(et);if(ut.ids[Qe]==null&&(ut.ids[Qe]=ut.chars.length,ut.chars.push(Qe),_.push(Qe)),De.width[Qe]==null&&(De.width[Qe]=A.atlasContext.measureText(Qe).width/A.baseFontSize,b.kerning)){var qe=[];for(var ft in De.width)qe.push(ft+Qe,Qe+ft);u(De.kerning,c(De.family,{pairs:qe}))}}})}if(S.position)if(S.position.length>2){for(var I=!S.position[0].length,z=t.mallocFloat(this.count*2),O=0,F=0;O<this.counts.length;O++){var N=this.counts[O];if(I)for(var Q=0;Q<N;Q++)z[F++]=S.position[O*2],z[F++]=S.position[O*2+1];else for(var $=0;$<N;$++)z[F++]=S.position[O][0],z[F++]=S.position[O][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||i){var j=t.mallocUint8(this.count),ee=t.mallocFloat(this.count*2);this.textWidth=[];for(var oe=0,Y=0;oe<this.counts.length;oe++){for(var V=this.counts[oe],W=this.font[oe]||this.font[0],X=this.fontAtlas[oe]||this.fontAtlas[0],re=0;re<V;re++){var ie=this.text.charAt(Y),K=this.text.charAt(Y-1);if(j[Y]=X.ids[ie],ee[Y*2]=W.width[ie],re){var q=ee[Y*2-2],le=ee[Y*2],ae=ee[Y*2-1],he=ae+q*.5+le*.5;if(this.kerning){var me=W.kerning[K+ie];me&&(he+=me*.001)}ee[Y*2+1]=he}else ee[Y*2+1]=ee[Y*2]*.5;Y++}this.textWidth.push(ee.length?ee[Y*2-2]*.5+ee[Y*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:j,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ee,type:"float",usage:"stream"}),t.freeUint8(j),t.freeFloat(ee),_.length&&this.font.forEach(function(De,He){var ut=b.fontAtlas[He],et=ut.step,Qe=Math.floor(A.maxAtlasSize/et),qe=Math.min(Qe,ut.chars.length),ft=Math.ceil(ut.chars.length/qe),gt=f(qe*et),xt=f(ft*et);ut.width=gt,ut.height=xt,ut.rows=ft,ut.cols=qe,ut.em&&ut.texture({data:y({canvas:A.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[gt,xt],step:[et,et]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(De,He){var ut=Array.isArray(b.align)?b.align.length>1?b.align[He]:b.align[0]:b.align;if(typeof ut=="number")return ut;switch(ut){case"right":case"end":return-De;case"center":case"centre":case"middle":return-De*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(De,He){var ut=(b.font[He]||b.font[0]).metrics,et=0;return et+=ut.bottom*.5,typeof De=="number"?et+=De-ut.baseline:et+=-ut[De],et*=-1,et})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Me;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var xe=S.color.length;Me=t.mallocUint8(xe);for(var Ie=(S.color.subarray||S.color.slice).bind(S.color),_e=0;_e<xe;_e+=4)Me.set(v(Ie(_e,_e+4),"uint8"),_e)}else{var Te=S.color.length;Me=t.mallocUint8(Te*4);for(var ye=0;ye<Te;ye++)Me.set(v(S.color[ye]||0,"uint8"),ye*4)}this.color=Me}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Ae=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ae){var Be=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Be);for(var Ue=0;Ue<this.batch.length;Ue++)this.batch[Ue]={count:this.counts.length>1?this.counts[Ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ue*4,Ue*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ue]:this.opacity,baseline:this.baselineOffset[Ue]!=null?this.baselineOffset[Ue]:this.baselineOffset[0],align:this.align?this.alignOffset[Ue]!=null?this.alignOffset[Ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ue*2,Ue*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function E(g){return typeof g=="function"&&g._gl&&g.prop&&g.texture&&g.buffer}G.exports=A},12018:function(G,U,e){var p=e(71299);G.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},n(t)?t={container:t}:C(t)?t={container:t}:w(t)?t={gl:t}:t=p(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}n(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),L(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),L(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(l){try{t.gl=t.canvas.getContext(l,t.attrs)}catch{}return t.gl}),t.gl};function L(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var t=y.container.getBoundingClientRect();y.canvas.width=y.width||t.right-t.left,y.canvas.height=y.height||t.bottom-t.top}}function n(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function C(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function w(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function v(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}},56068:function(G){G.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<U.length-1;L++)p.push(U[L],e[L]||"");return p.push(U[L]),p.join("")}},40383:function(G,U,e){var p=e(68318),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}G.exports=L},57035:function(G,U,e){var p=e(54404),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,G.exports=L},38520:function(G,U,e){var p=e(54404);function L(){var n=!1;try{var C=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{n=!1}return n}G.exports=p&&L()},55622:function(G,U,e){var p=e(68318),L=p("%Object.defineProperty%",!0),n=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},G.exports=n},57877:function(G,U,e){var p=typeof Symbol<"u"&&Symbol,L=e(35638);G.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},35638:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var n=42;e[p]=n;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(e,p);if(w.value!==n||w.enumerable!==!0)return!1}return!0}},84543:function(G,U,e){var p=e(35638);G.exports=function(){return p()&&!!Symbol.toStringTag}},35065:function(G,U,e){var p=e(77575);G.exports=p.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(G,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,p,L,n,C){var w,v,y=C*8-n-1,t=(1<<y)-1,r=t>>1,l=-7,a=L?C-1:0,s=L?-1:1,c=e[p+a];for(a+=s,w=c&(1<<-l)-1,c>>=-l,l+=y;l>0;w=w*256+e[p+a],a+=s,l-=8);for(v=w&(1<<-l)-1,w>>=-l,l+=n;l>0;v=v*256+e[p+a],a+=s,l-=8);if(w===0)w=1-r;else{if(w===t)return v?NaN:(c?-1:1)*(1/0);v=v+Math.pow(2,n),w=w-r}return(c?-1:1)*v*Math.pow(2,w-n)},U.write=function(e,p,L,n,C,w){var v,y,t,r=w*8-C-1,l=(1<<r)-1,a=l>>1,s=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:w-1,u=n?1:-1,m=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(y=isNaN(p)?1:0,v=l):(v=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+a>=1?p+=s/t:p+=s*Math.pow(2,1-a),p*t>=2&&(v++,t/=2),v+a>=l?(y=0,v=l):v+a>=1?(y=(p*t-1)*Math.pow(2,C),v=v+a):(y=p*Math.pow(2,a-1)*Math.pow(2,C),v=0));C>=8;e[L+c]=y&255,c+=u,y/=256,C-=8);for(v=v<<C|y,r+=C;r>0;e[L+c]=v&255,c+=u,v/=256,r-=8);e[L+c-u]|=m*128}},42018:function(G){typeof Object.create=="function"?G.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},47216:function(G,U,e){var p=e(84543)(),L=e(6614),n=L("Object.prototype.toString"),C=function(t){return p&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:n(t)==="[object Arguments]"},w=function(t){return C(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&n(t)!=="[object Array]"&&n(t.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=w,G.exports=v?C:w},54404:function(G){G.exports=!0},85395:function(G){var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(T){T!==L&&(e=null)}else e=null;var n=/^\s*class\b/,C=function(f){try{var o=U.call(f);return n.test(o)}catch{return!1}},w=function(f){try{return C(f)?!1:(U.call(f),!0)}catch{return!1}},v=Object.prototype.toString,y="[object Object]",t="[object Function]",r="[object GeneratorFunction]",l="[object HTMLAllCollection]",a="[object HTML document.all class]",s="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(m=function(f){if((u||!f)&&(typeof f>"u"||typeof f=="object"))try{var o=v.call(f);return(o===l||o===a||o===s||o===y)&&f("")==null}catch{}return!1})}G.exports=e?function(f){if(m(f))return!0;if(!f||typeof f!="function"&&typeof f!="object")return!1;try{e(f,null,p)}catch(o){if(o!==L)return!1}return!C(f)&&w(f)}:function(f){if(m(f))return!0;if(!f||typeof f!="function"&&typeof f!="object")return!1;if(c)return w(f);if(C(f))return!1;var o=v.call(f);return o!==t&&o!==r&&!/^\[object HTML/.test(o)?!1:w(f)}},65481:function(G,U,e){var p=Object.prototype.toString,L=Function.prototype.toString,n=/^\s*(?:function)?\*/,C=e(84543)(),w=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},y;G.exports=function(r){if(typeof r!="function")return!1;if(n.test(L.call(r)))return!0;if(!C){var l=p.call(r);return l==="[object GeneratorFunction]"}if(!w)return!1;if(typeof y>"u"){var a=v();y=a?w(a):!1}return w(r)===y}},62683:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(G){G.exports=function(e){return e!==e}},15567:function(G,U,e){var p=e(68222),L=e(17045),n=e(64274),C=e(14922),w=e(22442),v=p(C(),Number);L(v,{getPolyfill:C,implementation:n,shim:w}),G.exports=v},14922:function(G,U,e){var p=e(64274);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},22442:function(G,U,e){var p=e(17045),L=e(14922);G.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(G){G.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},10973:function(G){var U=Object.prototype.toString;G.exports=function(e){var p;return U.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},18546:function(G){G.exports=function(U){for(var e=U.length,p,L=0;L<e;L++)if(p=U.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},89546:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(G,U,e){var p=e(31353),L=e(72077),n=e(6614),C=n("Object.prototype.toString"),w=e(84543)(),v=e(40383),y=typeof globalThis>"u"?e.g:globalThis,t=L(),r=n("Array.prototype.indexOf",!0)||function(m,h){for(var T=0;T<m.length;T+=1)if(m[T]===h)return T;return-1},l=n("String.prototype.slice"),a={},s=Object.getPrototypeOf;w&&v&&s&&p(t,function(u){var m=new y[u];if(Symbol.toStringTag in m){var h=s(m),T=v(h,Symbol.toStringTag);if(!T){var f=s(h);T=v(f,Symbol.toStringTag)}a[u]=T.get}});var c=function(m){var h=!1;return p(a,function(T,f){if(!h)try{h=T.call(m)===f}catch{}}),h};G.exports=function(m){if(!m||typeof m!="object")return!1;if(!w||!(Symbol.toStringTag in m)){var h=l(C(m),8,-1);return r(t,h)>-1}return v?c(m):!1}},44517:function(G){(function(U,e){G.exports=e()})(this,function(){var U,e,p;function L(n,C){if(!U)U=C;else if(!e)e=C;else{var w="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),p=C(v),p.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))}}return L(["exports"],function(n){function C(R,D){return D={exports:{}},R(D,D.exports),D.exports}var w="1.10.1",v=y;function y(R,D,H,ne){this.cx=3*R,this.bx=3*(H-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ne-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ne,this.p2x=H,this.p2y=ne}y.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},y.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},y.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},y.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var H,ne,ve,be,Ce;for(ve=R,Ce=0;Ce<8;Ce++){if(be=this.sampleCurveX(ve)-R,Math.abs(be)<D)return ve;var Ze=this.sampleCurveDerivativeX(ve);if(Math.abs(Ze)<1e-6)break;ve=ve-be/Ze}if(H=0,ne=1,ve=R,ve<H)return H;if(ve>ne)return ne;for(;H<ne;){if(be=this.sampleCurveX(ve),Math.abs(be-R)<D)return ve;R>be?H=ve:ne=ve,ve=(ne-H)*.5+H}return ve},y.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var t=r;function r(R,D){this.x=R,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,H=R.y-this.y;return D*D+H*H},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,H=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=H,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),H=Math.sin(R),ne=D*this.x-H*this.y,ve=H*this.x+D*this.y;return this.x=ne,this.y=ve,this},_rotateAround:function(R,D){var H=Math.cos(R),ne=Math.sin(R),ve=D.x+H*(this.x-D.x)-ne*(this.y-D.y),be=D.y+ne*(this.x-D.x)+H*(this.y-D.y);return this.x=ve,this.y=be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};function l(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var H=0;H<R.length;H++)if(!l(R[H],D[H]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ne=Object.keys(R);if(ne.length!==Object.keys(D).length)return!1;for(var ve in R)if(!l(R[ve],D[ve]))return!1;return!0}return R===D}function a(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,H=D*R;return 4*(R<.5?H:3*(R-D)+H-.75)}function s(R,D,H,ne){var ve=new v(R,D,H,ne);return function(be){return ve.solve(be)}}var c=s(.25,.1,.25,1);function u(R,D,H){return Math.min(H,Math.max(D,R))}function m(R,D,H){var ne=H-D,ve=((R-D)%ne+ne)%ne+D;return ve===D?H:ve}function h(R,D,H){if(!R.length)return H(null,[]);var ne=R.length,ve=new Array(R.length),be=null;R.forEach(function(Ce,Ze){D(Ce,function(ht,At){ht&&(be=ht),ve[Ze]=At,--ne===0&&H(be,ve)})})}function T(R){var D=[];for(var H in R)D.push(R[H]);return D}function f(R,D){var H=[];for(var ne in R)ne in D||H.push(ne);return H}function o(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];for(var Ce in be)R[Ce]=be[Ce]}return R}function d(R,D){for(var H={},ne=0;ne<D.length;ne++){var ve=D[ne];ve in R&&(H[ve]=R[ve])}return H}var M=1;function A(){return M++}function E(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function g(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function S(R,D){R.forEach(function(H){D[H]&&(D[H]=D[H].bind(D))})}function b(R,D){return R.indexOf(D,R.length-D.length)!==-1}function i(R,D,H){var ne={};for(var ve in R)ne[ve]=D.call(H||this,R[ve],ve,R);return ne}function P(R,D,H){var ne={};for(var ve in R)D.call(H||this,R[ve],ve,R)&&(ne[ve]=R[ve]);return ne}function x(R){return Array.isArray(R)?R.map(x):typeof R=="object"&&R?i(R,x):R}function k(R,D){for(var H=0;H<R.length;H++)if(D.indexOf(R[H])>=0)return!0;return!1}var _={};function B(R){_[R]||(typeof console<"u"&&console.warn(R),_[R]=!0)}function I(R,D,H){return(H.y-R.y)*(D.x-R.x)>(D.y-R.y)*(H.x-R.x)}function z(R){for(var D=0,H=0,ne=R.length,ve=ne-1,be=void 0,Ce=void 0;H<ne;ve=H++)be=R[H],Ce=R[ve],D+=(Ce.x-be.x)*(be.y+Ce.y);return D}function O(R){var D=R[0],H=R[1],ne=R[2];return H+=90,H*=Math.PI/180,ne*=Math.PI/180,{x:D*Math.cos(H)*Math.sin(ne),y:D*Math.sin(H)*Math.sin(ne),z:D*Math.cos(ne)}}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function N(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,H={};if(R.replace(D,function(ve,be,Ce,Ze){var ht=Ce||Ze;return H[be]=ht?ht.toLowerCase():!0,""}),H["max-age"]){var ne=parseInt(H["max-age"],10);isNaN(ne)?delete H["max-age"]:H["max-age"]=ne}return H}var Q=null;function $(R){if(Q==null){var D=R.navigator?R.navigator.userAgent:null;Q=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return Q}function j(R){try{var D=self[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function ee(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,H){return String.fromCharCode(+("0x"+H))}))}function oe(R){return decodeURIComponent(self.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),V=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,W=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,X,re,ie={now:Y,frame:function(D){var H=V(D);return{cancel:function(){return W(H)}}},getImageData:function(D,H){H===void 0&&(H=0);var ne=self.document.createElement("canvas"),ve=ne.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ne.width=D.width,ne.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-H,-H,D.width+2*H,D.height+2*H)},resolveURL:function(D){return X||(X=self.document.createElement("a")),X.href=D,X.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(re==null&&(re=self.matchMedia("(prefers-reduced-motion: reduce)")),re.matches):!1}},K={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:Me},le,ae=!1,he,me=!1;self.document&&(he=self.document.createElement("img"),he.onload=function(){le&&xe(le),le=null,me=!0},he.onerror=function(){ae=!0,le=null},he.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Me(R){ae||!he||(me?xe(R):le=R)}function xe(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,he),R.isContextLost())return;q.supported=!0}catch{}R.deleteTexture(D),ae=!0}var Ie="01";function _e(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="",ne=0;ne<10;ne++)H+=D[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,be=[R,Ie,H].join(""),Ce=Date.now()+ve;return{token:be,tokenExpiresAt:Ce}}var Te=function(D,H){this._transformRequestFn=D,this._customAccessToken=H,this._createSkuToken()};Te.prototype._createSkuToken=function(){var D=_e();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Te.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Te.prototype.transformRequest=function(D,H){return this._transformRequestFn?this._transformRequestFn(D,H)||{url:D}:{url:D}},Te.prototype.normalizeStyleURL=function(D,H){if(!ye(D))return D;var ne=ut(D);return ne.path="/styles/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Te.prototype.normalizeGlyphsURL=function(D,H){if(!ye(D))return D;var ne=ut(D);return ne.path="/fonts/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Te.prototype.normalizeSourceURL=function(D,H){if(!ye(D))return D;var ne=ut(D);return ne.path="/v4/"+ne.authority+".json",ne.params.push("secure"),this._makeAPIURL(ne,this._customAccessToken||H)},Te.prototype.normalizeSpriteURL=function(D,H,ne,ve){var be=ut(D);return ye(D)?(be.path="/styles/v1"+be.path+"/sprite"+H+ne,this._makeAPIURL(be,this._customAccessToken||ve)):(be.path+=""+H+ne,et(be))},Te.prototype.normalizeTileURL=function(D,H){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!ye(D))return D;var ne=ut(D),ve=/(\.(png|jpg)\d*)(?=$)/,be=/^.+\/v4\//,Ce=ie.devicePixelRatio>=2||H===512?"@2x":"",Ze=q.supported?".webp":"$1";ne.path=ne.path.replace(ve,""+Ce+Ze),ne.path=ne.path.replace(be,"/"),ne.path="/v4"+ne.path;var ht=this._customAccessToken||De(ne.params)||K.ACCESS_TOKEN;return K.REQUIRE_ACCESS_TOKEN&&ht&&this._skuToken&&ne.params.push("sku="+this._skuToken),this._makeAPIURL(ne,ht)},Te.prototype.canonicalizeTileURL=function(D,H){var ne="/v4/",ve=/\.[\w]+$/,be=ut(D);if(!be.path.match(/(^\/v4\/)/)||!be.path.match(ve))return D;var Ce="mapbox://tiles/";Ce+=be.path.replace(ne,"");var Ze=be.params;return H&&(Ze=Ze.filter(function(ht){return!ht.match(/^access_token=/)})),Ze.length&&(Ce+="?"+Ze.join("&")),Ce},Te.prototype.canonicalizeTileset=function(D,H){for(var ne=H?ye(H):!1,ve=[],be=0,Ce=D.tiles||[];be<Ce.length;be+=1){var Ze=Ce[be];Be(Ze)?ve.push(this.canonicalizeTileURL(Ze,ne)):ve.push(Ze)}return ve},Te.prototype._makeAPIURL=function(D,H){var ne="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=ut(K.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,ve.path!=="/"&&(D.path=""+ve.path+D.path),!K.REQUIRE_ACCESS_TOKEN)return et(D);if(H=H||K.ACCESS_TOKEN,!H)throw new Error("An API access token is required to use Mapbox GL. "+ne);if(H[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ne);return D.params=D.params.filter(function(be){return be.indexOf("access_token")===-1}),D.params.push("access_token="+H),et(D)};function ye(R){return R.indexOf("mapbox:")===0}var Ae=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Be(R){return Ae.test(R)}function Ue(R){return R.indexOf("sku=")>0&&Be(R)}function De(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D],ve=ne.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var He=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ut(R){var D=R.match(He);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function et(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var Qe="mapbox.eventData";function qe(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var H=JSON.parse(oe(D[1]));return H}catch{return null}}var ft=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ft.prototype.getStorageKey=function(D){var H=qe(K.ACCESS_TOKEN),ne="";return H&&H.u?ne=ee(H.u):ne=K.ACCESS_TOKEN||"",D?Qe+"."+D+":"+ne:Qe+":"+ne},ft.prototype.fetchEventData=function(){var D=j("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{var ve=self.localStorage.getItem(H);ve&&(this.eventData=JSON.parse(ve));var be=self.localStorage.getItem(ne);be&&(this.anonId=be)}catch{B("Unable to read from LocalStorage")}},ft.prototype.saveEventData=function(){var D=j("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ne,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(H,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},ft.prototype.processRequests=function(D){},ft.prototype.postEvent=function(D,H,ne,ve){var be=this;if(K.EVENTS_URL){var Ce=ut(K.EVENTS_URL);Ce.params.push("access_token="+(ve||K.ACCESS_TOKEN||""));var Ze={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:Ie,userId:this.anonId},ht=H?o(Ze,H):Ze,At={url:et(Ce),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ht])};this.pendingRequest=Dt(At,function(Et){be.pendingRequest=null,ne(Et),be.saveEventData(),be.processRequests(ve)})}},ft.prototype.queueRequest=function(D,H){this.queue.push(D),this.processRequests(H)};var gt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ne,ve,be,Ce){this.skuToken=be,(K.EVENTS_URL&&Ce||K.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(Ze){return ye(Ze)||Be(Ze)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Ce)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var be=this.queue.shift(),Ce=be.id,Ze=be.timestamp;Ce&&this.success[Ce]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=E()),this.postEvent(Ze,{skuToken:this.skuToken},function(ht){ht||Ce&&(ve.success[Ce]=!0)},ne))}},D}(ft),xt=function(R){function D(H){R.call(this,"appUserTurnstile"),this._customAccessToken=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ne,ve){K.EVENTS_URL&&K.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(be){return ye(be)||Be(be)})&&this.queueRequest(Date.now(),ve)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var be=qe(K.ACCESS_TOKEN),Ce=be?be.u:K.ACCESS_TOKEN,Ze=Ce!==this.eventData.tokenU;g(this.anonId)||(this.anonId=E(),Ze=!0);var ht=this.queue.shift();if(this.eventData.lastSuccess){var At=new Date(this.eventData.lastSuccess),Et=new Date(ht),Wt=(ht-this.eventData.lastSuccess)/(24*60*60*1e3);Ze=Ze||Wt>=1||Wt<-1||At.getDate()!==Et.getDate()}else Ze=!0;if(!Ze)return this.processRequests();this.postEvent(ht,{"enabled.telemetry":!1},function(ir){ir||(ve.eventData.lastSuccess=ht,ve.eventData.tokenU=Ce)},ne)}},D}(ft),Ct=new xt,Je=Ct.postTurnstileEvent.bind(Ct),ze=new gt,Fe=ze.postMapLoadEvent.bind(ze),$e="mapbox-tiles",at=500,Xe=50,Pe=1e3*60*7,we;function ue(){self.caches&&!we&&(we=self.caches.open($e))}var ge;function Le(R,D){if(ge===void 0)try{new Response(new ReadableStream),ge=!0}catch{ge=!1}ge?D(R.body):R.blob().then(D)}function ke(R,D,H){if(ue(),!!we){var ne={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Ce,Ze){return ne.headers.set(Ze,Ce)});var ve=N(D.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ne.headers.set("Expires",new Date(H+ve["max-age"]*1e3).toUTCString());var be=new Date(ne.headers.get("Expires")).getTime()-H;be<Pe||Le(D,function(Ce){var Ze=new self.Response(Ce,ne);ue(),we&&we.then(function(ht){return ht.put(it(R.url),Ze)}).catch(function(ht){return B(ht.message)})})}}}function it(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function lt(R,D){if(ue(),!we)return D(null);var H=it(R.url);we.then(function(ne){ne.match(H).then(function(ve){var be=bt(ve);ne.delete(H),be&&ne.put(H,ve.clone()),D(null,ve,be)}).catch(D)}).catch(D)}function bt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),H=N(R.headers.get("Cache-Control")||"");return D>Date.now()&&!H["no-cache"]}var Rt=1/0;function Ut(R){Rt++,Rt>Xe&&(R.getActor().send("enforceCacheSizeLimit",at),Rt=0)}function Gt(R){ue(),we&&we.then(function(D){D.keys().then(function(H){for(var ne=0;ne<H.length-R;ne++)D.delete(H[ne])})})}function _t(R){var D=self.caches.delete($e);R&&D.catch(R).then(function(){return R()})}function nr(R,D){at=R,Xe=D}var lr;function zr(){return lr==null&&(lr=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),lr}var mt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mt);var jt=function(R){function D(H,ne,ve){ne===401&&Be(ve)&&(H+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,H),this.status=ne,this.url=ve,this.name=this.constructor.name,this.message=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),Yt=F()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},wr=function(R){return/^file:/.test(R)||/^file:/.test(Yt())&&!/^\w+:/.test(R)};function dr(R,D){var H=new self.AbortController,ne=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:Yt(),signal:H.signal}),ve=!1,be=!1,Ce=Ue(ne.url);R.type==="json"&&ne.headers.set("Accept","application/json");var Ze=function(At,Et,Wt){if(!be){if(At&&At.message!=="SecurityError"&&B(At),Et&&Wt)return ht(Et);var ir=Date.now();self.fetch(ne).then(function($t){if($t.ok){var xr=Ce?$t.clone():null;return ht($t,xr,ir)}else return D(new jt($t.statusText,$t.status,R.url))}).catch(function($t){$t.code!==20&&D(new Error($t.message))})}},ht=function(At,Et,Wt){(R.type==="arrayBuffer"?At.arrayBuffer():R.type==="json"?At.json():At.text()).then(function(ir){be||(Et&&Wt&&ke(ne,Et,Wt),ve=!0,D(null,ir,At.headers.get("Cache-Control"),At.headers.get("Expires")))}).catch(function(ir){be||D(new Error(ir.message))})};return Ce?lt(ne,Ze):Ze(null,null),{cancel:function(){be=!0,ve||H.abort()}}}function ct(R,D){var H=new self.XMLHttpRequest;H.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(H.responseType="arraybuffer");for(var ne in R.headers)H.setRequestHeader(ne,R.headers[ne]);return R.type==="json"&&(H.responseType="text",H.setRequestHeader("Accept","application/json")),H.withCredentials=R.credentials==="include",H.onerror=function(){D(new Error(H.statusText))},H.onload=function(){if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){var ve=H.response;if(R.type==="json")try{ve=JSON.parse(H.response)}catch(be){return D(be)}D(null,ve,H.getResponseHeader("Cache-Control"),H.getResponseHeader("Expires"))}else D(new jt(H.statusText,H.status,R.url))},H.send(R.body),{cancel:function(){return H.abort()}}}var ot=function(R,D){if(!wr(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return dr(R,D);if(F()&&self.worker&&self.worker.actor){var H=!0;return self.worker.actor.send("getResource",R,D,void 0,H)}}return ct(R,D)},wt=function(R,D){return ot(o(R,{type:"json"}),D)},Mt=function(R,D){return ot(o(R,{type:"arrayBuffer"}),D)},Dt=function(R,D){return ot(o(R,{method:"POST"}),D)};function St(R){var D=self.document.createElement("a");return D.href=R,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Vt(R,D,H,ne){var ve=new self.Image,be=self.URL;ve.onload=function(){D(null,ve),be.revokeObjectURL(ve.src)},ve.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ce=new self.Blob([new Uint8Array(R)],{type:"image/png"});ve.cacheControl=H,ve.expires=ne,ve.src=R.byteLength?be.createObjectURL(Ce):Ot}function Qt(R,D){var H=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(H).then(function(ne){D(null,ne)}).catch(function(ne){D(new Error("Could not load image because of "+ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Kt,or,Mr=function(){Kt=[],or=0};Mr();var Ve=function(R,D){if(q.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),or>=K.MAX_PARALLEL_IMAGE_REQUESTS){var H={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Kt.push(H),H}or++;var ne=!1,ve=function(){if(!ne)for(ne=!0,or--;Kt.length&&or<K.MAX_PARALLEL_IMAGE_REQUESTS;){var Ce=Kt.shift(),Ze=Ce.requestParameters,ht=Ce.callback,At=Ce.cancelled;At||(Ce.cancel=Ve(Ze,ht).cancel)}},be=Mt(R,function(Ce,Ze,ht,At){ve(),Ce?D(Ce):Ze&&(zr()?Qt(Ze,D):Vt(Ze,D,ht,At))});return{cancel:function(){be.cancel(),ve()}}},Ge=function(R,D){var H=self.document.createElement("video");H.muted=!0,H.onloadstart=function(){D(null,H)};for(var ne=0;ne<R.length;ne++){var ve=self.document.createElement("source");St(R[ne])||(H.crossOrigin="Anonymous"),ve.src=R[ne],H.appendChild(ve)}return{cancel:function(){}}};function Ft(R,D,H){var ne=H[R]&&H[R].indexOf(D)!==-1;ne||(H[R]=H[R]||[],H[R].push(D))}function kt(R,D,H){if(H&&H[R]){var ne=H[R].indexOf(D);ne!==-1&&H[R].splice(ne,1)}}var Zt=function(D,H){H===void 0&&(H={}),o(this,H),this.type=D},tr=function(R){function D(H,ne){ne===void 0&&(ne={}),R.call(this,"error",o({error:H},ne))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Zt),sr=function(){};sr.prototype.on=function(D,H){return this._listeners=this._listeners||{},Ft(D,H,this._listeners),this},sr.prototype.off=function(D,H){return kt(D,H,this._listeners),kt(D,H,this._oneTimeListeners),this},sr.prototype.once=function(D,H){return this._oneTimeListeners=this._oneTimeListeners||{},Ft(D,H,this._oneTimeListeners),this},sr.prototype.fire=function(D,H){typeof D=="string"&&(D=new Zt(D,H||{}));var ne=D.type;if(this.listens(ne)){D.target=this;for(var ve=this._listeners&&this._listeners[ne]?this._listeners[ne].slice():[],be=0,Ce=ve;be<Ce.length;be+=1){var Ze=Ce[be];Ze.call(this,D)}for(var ht=this._oneTimeListeners&&this._oneTimeListeners[ne]?this._oneTimeListeners[ne].slice():[],At=0,Et=ht;At<Et.length;At+=1){var Wt=Et[At];kt(ne,Wt,this._oneTimeListeners),Wt.call(this,D)}var ir=this._eventedParent;ir&&(o(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(D))}else D instanceof tr&&console.error(D.error);return this},sr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},sr.prototype.setEventedParent=function(D,H){return this._eventedParent=D,this._eventedParentData=H,this};var rr=8,Nt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},pr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],br={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},vr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Kr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Fr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Br={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},xn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},jr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Dn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],In={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},cr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},kr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Or={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},sn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},bn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={type:"array",value:"*"},_n={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Kn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},na={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ea={type:"array",value:"*",minimum:1},oa={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},$n={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Rr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],an={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},rn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},vn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Nn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},En={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Cn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Hn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ra={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ea={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Va={"*":{type:"string"}},Xt={$version:rr,$root:Nt,sources:hr,source:pr,source_vector:br,source_raster:vr,source_raster_dem:Kr,source_geojson:Fr,source_video:Br,source_image:xn,layer:jr,layout:Dn,layout_background:In,layout_fill:yr,layout_circle:cr,layout_heatmap:kr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Or,layout_symbol:sn,layout_raster:yn,layout_hillshade:bn,filter:mn,filter_operator:_n,geometry_type:Kn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:na,expression:ea,expression_name:oa,light:$n,paint:Rr,paint_fill:an,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:rn,paint_circle:vn,paint_heatmap:Nn,paint_symbol:En,paint_raster:Cn,paint_hillshade:Hn,paint_background:ra,transition:Ea,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Va},Tr=function(D,H,ne,ve){this.message=(D?D+": ":"")+ne,ve&&(this.identifier=ve),H!=null&&H.__line__&&(this.line=H.__line__)};function nn(R){var D=R.key,H=R.value;return H?[new Tr(D,H,"constants have been deprecated as of v8")]:[]}function fn(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];for(var Ce in be)R[Ce]=be[Ce]}return R}function cn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Ln(R){if(Array.isArray(R))return R.map(Ln);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var H in R)D[H]=Ln(R[H]);return D}return cn(R)}var Tn=function(R){function D(H,ne){R.call(this,ne),this.message=ne,this.key=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),un=function(D,H){H===void 0&&(H=[]),this.parent=D,this.bindings={};for(var ne=0,ve=H;ne<ve.length;ne+=1){var be=ve[ne],Ce=be[0],Ze=be[1];this.bindings[Ce]=Ze}};un.prototype.concat=function(D){return new un(this,D)},un.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},un.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Pr={kind:"null"},Er={kind:"number"},_r={kind:"string"},hn={kind:"boolean"},Fn={kind:"color"},Gn={kind:"object"},dn={kind:"value"},zn={kind:"error"},Qn={kind:"collator"},sa={kind:"formatted"},aa={kind:"resolvedImage"};function ia(R,D){return{kind:"array",itemType:R,N:D}}function ha(R){if(R.kind==="array"){var D=ha(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var Wi=[Pr,Er,_r,hn,Fn,sa,Gn,ia(dn),aa];function ao(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!ao(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var H=0,ne=Wi;H<ne.length;H+=1){var ve=ne[H];if(!ao(ve,D))return null}}return"Expected "+ha(R)+" but found "+ha(D)+" instead."}function uo(R,D){return D.some(function(H){return H.kind===R.kind})}function mo(R,D){return D.some(function(H){return H==="null"?R===null:H==="array"?Array.isArray(R):H==="object"?R&&!Array.isArray(R)&&typeof R=="object":H===typeof R})}var fo=C(function(R,D){var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(At){return At=Math.round(At),At<0?0:At>255?255:At}function ve(At){return At<0?0:At>1?1:At}function be(At){return At[At.length-1]==="%"?ne(parseFloat(At)/100*255):ne(parseInt(At))}function Ce(At){return At[At.length-1]==="%"?ve(parseFloat(At)/100):ve(parseFloat(At))}function Ze(At,Et,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?At+(Et-At)*Wt*6:Wt*2<1?Et:Wt*3<2?At+(Et-At)*(2/3-Wt)*6:At}function ht(At){var Et=At.replace(/ /g,"").toLowerCase();if(Et in H)return H[Et].slice();if(Et[0]==="#"){if(Et.length===4){var Wt=parseInt(Et.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Et.length===7){var Wt=parseInt(Et.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var ir=Et.indexOf("("),$t=Et.indexOf(")");if(ir!==-1&&$t+1===Et.length){var xr=Et.substr(0,ir),Nr=Et.substr(ir+1,$t-(ir+1)).split(","),tn=1;switch(xr){case"rgba":if(Nr.length!==4)return null;tn=Ce(Nr.pop());case"rgb":return Nr.length!==3?null:[be(Nr[0]),be(Nr[1]),be(Nr[2]),tn];case"hsla":if(Nr.length!==4)return null;tn=Ce(Nr.pop());case"hsl":if(Nr.length!==3)return null;var $r=(parseFloat(Nr[0])%360+360)%360/360,Mn=Ce(Nr[1]),gn=Ce(Nr[2]),An=gn<=.5?gn*(Mn+1):gn+Mn-gn*Mn,Rn=gn*2-An;return[ne(Ze(Rn,An,$r+1/3)*255),ne(Ze(Rn,An,$r)*255),ne(Ze(Rn,An,$r-1/3)*255),tn];default:return null}}return null}try{D.parseCSSColor=ht}catch{}}),Hu=fo.parseCSSColor,Qa=function(D,H,ne,ve){ve===void 0&&(ve=1),this.r=D,this.g=H,this.b=ne,this.a=ve};Qa.parse=function(D){if(D){if(D instanceof Qa)return D;if(typeof D=="string"){var H=Hu(D);if(H)return new Qa(H[0]/255*H[3],H[1]/255*H[3],H[2]/255*H[3],H[3])}}},Qa.prototype.toString=function(){var D=this.toArray(),H=D[0],ne=D[1],ve=D[2],be=D[3];return"rgba("+Math.round(H)+","+Math.round(ne)+","+Math.round(ve)+","+be+")"},Qa.prototype.toArray=function(){var D=this,H=D.r,ne=D.g,ve=D.b,be=D.a;return be===0?[0,0,0,0]:[H*255/be,ne*255/be,ve*255/be,be]},Qa.black=new Qa(0,0,0,1),Qa.white=new Qa(1,1,1,1),Qa.transparent=new Qa(0,0,0,0),Qa.red=new Qa(1,0,0,1);var Il=function(D,H,ne){D?this.sensitivity=H?"variant":"case":this.sensitivity=H?"accent":"base",this.locale=ne,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Il.prototype.compare=function(D,H){return this.collator.compare(D,H)},Il.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var il=function(D,H,ne,ve,be){this.text=D,this.image=H,this.scale=ne,this.fontStack=ve,this.textColor=be},Yi=function(D){this.sections=D};Yi.fromString=function(D){return new Yi([new il(D,null,null,null,null)])},Yi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Yi.factory=function(D){return D instanceof Yi?D:Yi.fromString(D)},Yi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Yi.prototype.serialize=function(){for(var D=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];if(ve.image){D.push(["image",ve.image.name]);continue}D.push(ve.text);var be={};ve.fontStack&&(be["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(be["font-scale"]=ve.scale),ve.textColor&&(be["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(be)}return D};var xo=function(D){this.name=D.name,this.available=D.available};xo.prototype.toString=function(){return this.name},xo.fromString=function(D){return D?new xo({name:D,available:!1}):null},xo.prototype.serialize=function(){return["image",this.name]};function Sf(R,D,H,ne){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof H=="number"&&H>=0&&H<=255)){var ve=typeof ne=="number"?[R,D,H,ne]:[R,D,H];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ne>"u"||typeof ne=="number"&&ne>=0&&ne<=1?null:"Invalid rgba value ["+[R,D,H,ne].join(", ")+"]: 'a' must be between 0 and 1."}function _l(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof Qa)return!0;if(R instanceof Il)return!0;if(R instanceof Yi)return!0;if(R instanceof xo)return!0;if(Array.isArray(R)){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(!_l(ne))return!1}return!0}else if(typeof R=="object"){for(var ve in R)if(!_l(R[ve]))return!1;return!0}else return!1}function Ci(R){if(R===null)return Pr;if(typeof R=="string")return _r;if(typeof R=="boolean")return hn;if(typeof R=="number")return Er;if(R instanceof Qa)return Fn;if(R instanceof Il)return Qn;if(R instanceof Yi)return sa;if(R instanceof xo)return aa;if(Array.isArray(R)){for(var D=R.length,H,ne=0,ve=R;ne<ve.length;ne+=1){var be=ve[ne],Ce=Ci(be);if(!H)H=Ce;else{if(H===Ce)continue;H=dn;break}}return ia(H||dn,D)}else return Gn}function Fl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof Qa||R instanceof Yi||R instanceof xo?R.toString():JSON.stringify(R)}var Eo=function(D,H){this.type=D,this.value=H};Eo.parse=function(D,H){if(D.length!==2)return H.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!_l(D[1]))return H.error("invalid value");var ne=D[1],ve=Ci(ne),be=H.expectedType;return ve.kind==="array"&&ve.N===0&&be&&be.kind==="array"&&(typeof be.N!="number"||be.N===0)&&(ve=be),new Eo(ve,ne)},Eo.prototype.evaluate=function(){return this.value},Eo.prototype.eachChild=function(){},Eo.prototype.outputDefined=function(){return!0},Eo.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Qa?["rgba"].concat(this.value.toArray()):this.value instanceof Yi?this.value.serialize():this.value};var Ui=function(D){this.name="ExpressionEvaluationError",this.message=D};Ui.prototype.toJSON=function(){return this.message};var Co={string:_r,number:Er,boolean:hn,object:Gn},io=function(D,H){this.type=D,this.args=H};io.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=1,ve,be=D[0];if(be==="array"){var Ce;if(D.length>2){var Ze=D[1];if(typeof Ze!="string"||!(Ze in Co)||Ze==="object")return H.error('The item type argument of "array" must be one of string, number, boolean',1);Ce=Co[Ze],ne++}else Ce=dn;var ht;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return H.error('The length argument to "array" must be a positive integer literal',2);ht=D[2],ne++}ve=ia(Ce,ht)}else ve=Co[be];for(var At=[];ne<D.length;ne++){var Et=H.parse(D[ne],ne,dn);if(!Et)return null;At.push(Et)}return new io(ve,At)},io.prototype.evaluate=function(D){for(var H=0;H<this.args.length;H++){var ne=this.args[H].evaluate(D),ve=ao(this.type,Ci(ne));if(ve){if(H===this.args.length-1)throw new Ui("Expected value to be of type "+ha(this.type)+", but found "+ha(Ci(ne))+" instead.")}else return ne}return null},io.prototype.eachChild=function(D){this.args.forEach(D)},io.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},io.prototype.serialize=function(){var D=this.type,H=[D.kind];if(D.kind==="array"){var ne=D.itemType;if(ne.kind==="string"||ne.kind==="number"||ne.kind==="boolean"){H.push(ne.kind);var ve=D.N;(typeof ve=="number"||this.args.length>1)&&H.push(ve)}}return H.concat(this.args.map(function(be){return be.serialize()}))};var Io=function(D){this.type=sa,this.sections=D};Io.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=D[1];if(!Array.isArray(ne)&&typeof ne=="object")return H.error("First argument must be an image or text section.");for(var ve=[],be=!1,Ce=1;Ce<=D.length-1;++Ce){var Ze=D[Ce];if(be&&typeof Ze=="object"&&!Array.isArray(Ze)){be=!1;var ht=null;if(Ze["font-scale"]&&(ht=H.parse(Ze["font-scale"],1,Er),!ht))return null;var At=null;if(Ze["text-font"]&&(At=H.parse(Ze["text-font"],1,ia(_r)),!At))return null;var Et=null;if(Ze["text-color"]&&(Et=H.parse(Ze["text-color"],1,Fn),!Et))return null;var Wt=ve[ve.length-1];Wt.scale=ht,Wt.font=At,Wt.textColor=Et}else{var ir=H.parse(D[Ce],1,dn);if(!ir)return null;var $t=ir.type.kind;if($t!=="string"&&$t!=="value"&&$t!=="null"&&$t!=="resolvedImage")return H.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");be=!0,ve.push({content:ir,scale:null,font:null,textColor:null})}}return new Io(ve)},Io.prototype.evaluate=function(D){var H=function(ne){var ve=ne.content.evaluate(D);return Ci(ve)===aa?new il("",ve,null,null,null):new il(Fl(ve),null,ne.scale?ne.scale.evaluate(D):null,ne.font?ne.font.evaluate(D).join(","):null,ne.textColor?ne.textColor.evaluate(D):null)};return new Yi(this.sections.map(H))},Io.prototype.eachChild=function(D){for(var H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},Io.prototype.outputDefined=function(){return!1},Io.prototype.serialize=function(){for(var D=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var ve=ne[H];D.push(ve.content.serialize());var be={};ve.scale&&(be["font-scale"]=ve.scale.serialize()),ve.font&&(be["text-font"]=ve.font.serialize()),ve.textColor&&(be["text-color"]=ve.textColor.serialize()),D.push(be)}return D};var Jo=function(D){this.type=aa,this.input=D};Jo.parse=function(D,H){if(D.length!==2)return H.error("Expected two arguments.");var ne=H.parse(D[1],1,_r);return ne?new Jo(ne):H.error("No image name provided.")},Jo.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=xo.fromString(H);return ne&&D.availableImages&&(ne.available=D.availableImages.indexOf(H)>-1),ne},Jo.prototype.eachChild=function(D){D(this.input)},Jo.prototype.outputDefined=function(){return!1},Jo.prototype.serialize=function(){return["image",this.input.serialize()]};var hs={"to-boolean":hn,"to-color":Fn,"to-number":Er,"to-string":_r},Ki=function(D,H){this.type=D,this.args=H};Ki.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ne=D[0];if((ne==="to-boolean"||ne==="to-string")&&D.length!==2)return H.error("Expected one argument.");for(var ve=hs[ne],be=[],Ce=1;Ce<D.length;Ce++){var Ze=H.parse(D[Ce],Ce,dn);if(!Ze)return null;be.push(Ze)}return new Ki(ve,be)},Ki.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var H,ne,ve=0,be=this.args;ve<be.length;ve+=1){var Ce=be[ve];if(H=Ce.evaluate(D),ne=null,H instanceof Qa)return H;if(typeof H=="string"){var Ze=D.parseColor(H);if(Ze)return Ze}else if(Array.isArray(H)&&(H.length<3||H.length>4?ne="Invalid rbga value "+JSON.stringify(H)+": expected an array containing either three or four numeric values.":ne=Sf(H[0],H[1],H[2],H[3]),!ne))return new Qa(H[0]/255,H[1]/255,H[2]/255,H[3])}throw new Ui(ne||"Could not parse color from value '"+(typeof H=="string"?H:String(JSON.stringify(H)))+"'")}else if(this.type.kind==="number"){for(var ht=null,At=0,Et=this.args;At<Et.length;At+=1){var Wt=Et[At];if(ht=Wt.evaluate(D),ht===null)return 0;var ir=Number(ht);if(!isNaN(ir))return ir}throw new Ui("Could not convert "+JSON.stringify(ht)+" to number.")}else return this.type.kind==="formatted"?Yi.fromString(Fl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?xo.fromString(Fl(this.args[0].evaluate(D))):Fl(this.args[0].evaluate(D))},Ki.prototype.eachChild=function(D){this.args.forEach(D)},Ki.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Ki.prototype.serialize=function(){if(this.type.kind==="formatted")return new Io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Jo(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(H){D.push(H.serialize())}),D};var Ef=["Unknown","Point","LineString","Polygon"],Qo=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Qo.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qo.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ef[this.feature.type]:this.feature.type:null},Qo.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Qo.prototype.canonicalID=function(){return this.canonical},Qo.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qo.prototype.parseColor=function(D){var H=this._parseColorCache[D];return H||(H=this._parseColorCache[D]=Qa.parse(D)),H};var Ji=function(D,H,ne,ve){this.name=D,this.type=H,this._evaluate=ne,this.args=ve};Ji.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Ji.prototype.eachChild=function(D){this.args.forEach(D)},Ji.prototype.outputDefined=function(){return!1},Ji.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Ji.parse=function(D,H){var ne,ve=D[0],be=Ji.definitions[ve];if(!be)return H.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ce=Array.isArray(be)?be[0]:be.type,Ze=Array.isArray(be)?[[be[1],be[2]]]:be.overloads,ht=Ze.filter(function(xa){var ba=xa[0];return!Array.isArray(ba)||ba.length===D.length-1}),At=null,Et=0,Wt=ht;Et<Wt.length;Et+=1){var ir=Wt[Et],$t=ir[0],xr=ir[1];At=new ps(H.registry,H.path,null,H.scope);for(var Nr=[],tn=!1,$r=1;$r<D.length;$r++){var Mn=D[$r],gn=Array.isArray($t)?$t[$r-1]:$t.type,An=At.parse(Mn,1+Nr.length,gn);if(!An){tn=!0;break}Nr.push(An)}if(!tn){if(Array.isArray($t)&&$t.length!==Nr.length){At.error("Expected "+$t.length+" arguments, but found "+Nr.length+" instead.");continue}for(var Rn=0;Rn<Nr.length;Rn++){var Un=Array.isArray($t)?$t[Rn]:$t.type,Jn=Nr[Rn];At.concat(Rn+1).checkSubtype(Un,Jn.type)}if(At.errors.length===0)return new Ji(ve,Ce,xr,Nr)}}if(ht.length===1)(ne=H.errors).push.apply(ne,At.errors);else{for(var jn=ht.length?ht:Ze,Ta=jn.map(function(xa){var ba=xa[0];return Vu(ba)}).join(" | "),fa=[],pa=1;pa<D.length;pa++){var ka=H.parse(D[pa],1+fa.length);if(!ka)return null;fa.push(ha(ka.type))}H.error("Expected arguments of type "+Ta+", but found ("+fa.join(", ")+") instead.")}return null},Ji.register=function(D,H){Ji.definitions=H;for(var ne in H)D[ne]=Ji};function Vu(R){return Array.isArray(R)?"("+R.map(ha).join(", ")+")":"("+ha(R.type)+"...)"}var vs=function(D,H,ne){this.type=Qn,this.locale=ne,this.caseSensitive=D,this.diacriticSensitive=H};vs.parse=function(D,H){if(D.length!==2)return H.error("Expected one argument.");var ne=D[1];if(typeof ne!="object"||Array.isArray(ne))return H.error("Collator options argument must be an object.");var ve=H.parse(ne["case-sensitive"]===void 0?!1:ne["case-sensitive"],1,hn);if(!ve)return null;var be=H.parse(ne["diacritic-sensitive"]===void 0?!1:ne["diacritic-sensitive"],1,hn);if(!be)return null;var Ce=null;return ne.locale&&(Ce=H.parse(ne.locale,1,_r),!Ce)?null:new vs(ve,be,Ce)},vs.prototype.evaluate=function(D){return new Il(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},vs.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},vs.prototype.outputDefined=function(){return!1},vs.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var $o=8192;function Gu(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function Wu(R){return(180+R)/360}function hc(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function kl(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function vc(R,D){var H=Wu(R[0]),ne=hc(R[1]),ve=Math.pow(2,D.z);return[Math.round(H*ve*$o),Math.round(ne*ve*$o)]}function dc(R,D,H){var ne=R[0]-D[0],ve=R[1]-D[1],be=R[0]-H[0],Ce=R[1]-H[1];return ne*Ce-be*ve===0&&ne*be<=0&&ve*Ce<=0}function pc(R,D,H){return D[1]>R[1]!=H[1]>R[1]&&R[0]<(H[0]-D[0])*(R[1]-D[1])/(H[1]-D[1])+D[0]}function Yu(R,D){for(var H=!1,ne=0,ve=D.length;ne<ve;ne++)for(var be=D[ne],Ce=0,Ze=be.length;Ce<Ze-1;Ce++){if(dc(R,be[Ce],be[Ce+1]))return!1;pc(R,be[Ce],be[Ce+1])&&(H=!H)}return H}function gc(R,D){for(var H=0;H<D.length;H++)if(Yu(R,D[H]))return!0;return!1}function yc(R,D){return R[0]*D[1]-R[1]*D[0]}function Cf(R,D,H,ne){var ve=R[0]-H[0],be=R[1]-H[1],Ce=D[0]-H[0],Ze=D[1]-H[1],ht=ne[0]-H[0],At=ne[1]-H[1],Et=ve*At-ht*be,Wt=Ce*At-ht*Ze;return Et>0&&Wt<0||Et<0&&Wt>0}function mc(R,D,H,ne){var ve=[D[0]-R[0],D[1]-R[1]],be=[ne[0]-H[0],ne[1]-H[1]];return yc(be,ve)===0?!1:!!(Cf(R,D,H,ne)&&Cf(H,ne,R,D))}function xc(R,D,H){for(var ne=0,ve=H;ne<ve.length;ne+=1)for(var be=ve[ne],Ce=0;Ce<be.length-1;++Ce)if(mc(R,D,be[Ce],be[Ce+1]))return!0;return!1}function Zu(R,D){for(var H=0;H<R.length;++H)if(!Yu(R[H],D))return!1;for(var ne=0;ne<R.length-1;++ne)if(xc(R[ne],R[ne+1],D))return!1;return!0}function Gs(R,D){for(var H=0;H<D.length;H++)if(Zu(R,D[H]))return!0;return!1}function Ws(R,D,H){for(var ne=[],ve=0;ve<R.length;ve++){for(var be=[],Ce=0;Ce<R[ve].length;Ce++){var Ze=vc(R[ve][Ce],H);Gu(D,Ze),be.push(Ze)}ne.push(be)}return ne}function ol(R,D,H){for(var ne=[],ve=0;ve<R.length;ve++){var be=Ws(R[ve],D,H);ne.push(be)}return ne}function fu(R,D,H,ne){if(R[0]<H[0]||R[0]>H[2]){var ve=ne*.5,be=R[0]-H[0]>ve?-ne:H[0]-R[0]>ve?ne:0;be===0&&(be=R[0]-H[2]>ve?-ne:H[2]-R[0]>ve?ne:0),R[0]+=be}Gu(D,R)}function bc(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function ds(R,D,H,ne){for(var ve=Math.pow(2,ne.z)*$o,be=[ne.x*$o,ne.y*$o],Ce=[],Ze=0,ht=R;Ze<ht.length;Ze+=1)for(var At=ht[Ze],Et=0,Wt=At;Et<Wt.length;Et+=1){var ir=Wt[Et],$t=[ir.x+be[0],ir.y+be[1]];fu($t,D,H,ve),Ce.push($t)}return Ce}function Lf(R,D,H,ne){for(var ve=Math.pow(2,ne.z)*$o,be=[ne.x*$o,ne.y*$o],Ce=[],Ze=0,ht=R;Ze<ht.length;Ze+=1){for(var At=ht[Ze],Et=[],Wt=0,ir=At;Wt<ir.length;Wt+=1){var $t=ir[Wt],xr=[$t.x+be[0],$t.y+be[1]];Gu(D,xr),Et.push(xr)}Ce.push(Et)}if(D[2]-D[0]<=ve/2){bc(D);for(var Nr=0,tn=Ce;Nr<tn.length;Nr+=1)for(var $r=tn[Nr],Mn=0,gn=$r;Mn<gn.length;Mn+=1){var An=gn[Mn];fu(An,D,H,ve)}}return Ce}function Xu(R,D){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var be=Ws(D.coordinates,ne,ve),Ce=ds(R.geometry(),H,ne,ve);if(!kl(H,ne))return!1;for(var Ze=0,ht=Ce;Ze<ht.length;Ze+=1){var At=ht[Ze];if(!Yu(At,be))return!1}}if(D.type==="MultiPolygon"){var Et=ol(D.coordinates,ne,ve),Wt=ds(R.geometry(),H,ne,ve);if(!kl(H,ne))return!1;for(var ir=0,$t=Wt;ir<$t.length;ir+=1){var xr=$t[ir];if(!gc(xr,Et))return!1}}return!0}function wc(R,D){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var be=Ws(D.coordinates,ne,ve),Ce=Lf(R.geometry(),H,ne,ve);if(!kl(H,ne))return!1;for(var Ze=0,ht=Ce;Ze<ht.length;Ze+=1){var At=ht[Ze];if(!Zu(At,be))return!1}}if(D.type==="MultiPolygon"){var Et=ol(D.coordinates,ne,ve),Wt=Lf(R.geometry(),H,ne,ve);if(!kl(H,ne))return!1;for(var ir=0,$t=Wt;ir<$t.length;ir+=1){var xr=$t[ir];if(!Gs(xr,Et))return!1}}return!0}var _o=function(D,H){this.type=hn,this.geojson=D,this.geometries=H};_o.parse=function(D,H){if(D.length!==2)return H.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(_l(D[1])){var ne=D[1];if(ne.type==="FeatureCollection")for(var ve=0;ve<ne.features.length;++ve){var be=ne.features[ve].geometry.type;if(be==="Polygon"||be==="MultiPolygon")return new _o(ne,ne.features[ve].geometry)}else if(ne.type==="Feature"){var Ce=ne.geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new _o(ne,ne.geometry)}else if(ne.type==="Polygon"||ne.type==="MultiPolygon")return new _o(ne,ne)}return H.error("'within' expression requires valid geojson object that contains polygon geometry type.")},_o.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return Xu(D,this.geometries);if(D.geometryType()==="LineString")return wc(D,this.geometries)}return!1},_o.prototype.eachChild=function(){},_o.prototype.outputDefined=function(){return!0},_o.prototype.serialize=function(){return["within",this.geojson]};function Ys(R){if(R instanceof Ji){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof _o)return!1;var D=!0;return R.eachChild(function(H){D&&!Ys(H)&&(D=!1)}),D}function zl(R){if(R instanceof Ji&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(H){D&&!zl(H)&&(D=!1)}),D}function sl(R,D){if(R instanceof Ji&&D.indexOf(R.name)>=0)return!1;var H=!0;return R.eachChild(function(ne){H&&!sl(ne,D)&&(H=!1)}),H}var qo=function(D,H){this.type=H.type,this.name=D,this.boundExpression=H};qo.parse=function(D,H){if(D.length!==2||typeof D[1]!="string")return H.error("'var' expression requires exactly one string literal argument.");var ne=D[1];return H.scope.has(ne)?new qo(ne,H.scope.get(ne)):H.error('Unknown variable "'+ne+'". Make sure "'+ne+'" has been bound in an enclosing "let" expression before using it.',1)},qo.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},qo.prototype.eachChild=function(){},qo.prototype.outputDefined=function(){return!1},qo.prototype.serialize=function(){return["var",this.name]};var ps=function(D,H,ne,ve,be){H===void 0&&(H=[]),ve===void 0&&(ve=new un),be===void 0&&(be=[]),this.registry=D,this.path=H,this.key=H.map(function(Ce){return"["+Ce+"]"}).join(""),this.scope=ve,this.errors=be,this.expectedType=ne};ps.prototype.parse=function(D,H,ne,ve,be){return be===void 0&&(be={}),H?this.concat(H,ne,ve)._parse(D,be):this._parse(D,be)},ps.prototype._parse=function(D,H){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ne(Et,Wt,ir){return ir==="assert"?new io(Wt,[Et]):ir==="coerce"?new Ki(Wt,[Et]):Et}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var be=this.registry[ve];if(be){var Ce=be.parse(D,this);if(!Ce)return null;if(this.expectedType){var Ze=this.expectedType,ht=Ce.type;if((Ze.kind==="string"||Ze.kind==="number"||Ze.kind==="boolean"||Ze.kind==="object"||Ze.kind==="array")&&ht.kind==="value")Ce=ne(Ce,Ze,H.typeAnnotation||"assert");else if((Ze.kind==="color"||Ze.kind==="formatted"||Ze.kind==="resolvedImage")&&(ht.kind==="value"||ht.kind==="string"))Ce=ne(Ce,Ze,H.typeAnnotation||"coerce");else if(this.checkSubtype(Ze,ht))return null}if(!(Ce instanceof Eo)&&Ce.type.kind!=="resolvedImage"&&ju(Ce)){var At=new Qo;try{Ce=new Eo(Ce.type,Ce.evaluate(At))}catch(Et){return this.error(Et.message),null}}return Ce}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},ps.prototype.concat=function(D,H,ne){var ve=typeof D=="number"?this.path.concat(D):this.path,be=ne?this.scope.concat(ne):this.scope;return new ps(this.registry,ve,H||null,be,this.errors)},ps.prototype.error=function(D){for(var H=[],ne=arguments.length-1;ne-- >0;)H[ne]=arguments[ne+1];var ve=""+this.key+H.map(function(be){return"["+be+"]"}).join("");this.errors.push(new Tn(ve,D))},ps.prototype.checkSubtype=function(D,H){var ne=ao(D,H);return ne&&this.error(ne),ne};function ju(R){if(R instanceof qo)return ju(R.boundExpression);if(R instanceof Ji&&R.name==="error")return!1;if(R instanceof vs)return!1;if(R instanceof _o)return!1;var D=R instanceof Ki||R instanceof io,H=!0;return R.eachChild(function(ne){D?H=H&&ju(ne):H=H&&ne instanceof Eo}),H?Ys(R)&&sl(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function ll(R,D){for(var H=R.length-1,ne=0,ve=H,be=0,Ce,Ze;ne<=ve;)if(be=Math.floor((ne+ve)/2),Ce=R[be],Ze=R[be+1],Ce<=D){if(be===H||D<Ze)return be;ne=be+1}else if(Ce>D)ve=be-1;else throw new Ui("Input is not a number.");return 0}var Es=function(D,H,ne){this.type=D,this.input=H,this.labels=[],this.outputs=[];for(var ve=0,be=ne;ve<be.length;ve+=1){var Ce=be[ve],Ze=Ce[0],ht=Ce[1];this.labels.push(Ze),this.outputs.push(ht)}};Es.parse=function(D,H){if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");var ne=H.parse(D[1],1,Er);if(!ne)return null;var ve=[],be=null;H.expectedType&&H.expectedType.kind!=="value"&&(be=H.expectedType);for(var Ce=1;Ce<D.length;Ce+=2){var Ze=Ce===1?-1/0:D[Ce],ht=D[Ce+1],At=Ce,Et=Ce+1;if(typeof Ze!="number")return H.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',At);if(ve.length&&ve[ve.length-1][0]>=Ze)return H.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',At);var Wt=H.parse(ht,Et,be);if(!Wt)return null;be=be||Wt.type,ve.push([Ze,Wt])}return new Es(be,ne,ve)},Es.prototype.evaluate=function(D){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=H[0])return ne[0].evaluate(D);var be=H.length;if(ve>=H[be-1])return ne[be-1].evaluate(D);var Ce=ll(H,ve);return ne[Ce].evaluate(D)},Es.prototype.eachChild=function(D){D(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var ve=ne[H];D(ve)}},Es.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Es.prototype.serialize=function(){for(var D=["step",this.input.serialize()],H=0;H<this.labels.length;H++)H>0&&D.push(this.labels[H]),D.push(this.outputs[H].serialize());return D};function Di(R,D,H){return R*(1-H)+D*H}function Ku(R,D,H){return new Qa(Di(R.r,D.r,H),Di(R.g,D.g,H),Di(R.b,D.b,H),Di(R.a,D.a,H))}function cu(R,D,H){return R.map(function(ne,ve){return Di(ne,D[ve],H)})}var ul=Object.freeze({__proto__:null,number:Di,color:Ku,array:cu}),Pf=.95047,Rf=1,fl=1.08883,cl=4/29,Zi=6/29,hu=3*Zi*Zi,Tc=Zi*Zi*Zi,Ju=Math.PI/180,Ac=180/Math.PI;function vu(R){return R>Tc?Math.pow(R,.3333333333333333):R/hu+cl}function Ol(R){return R>Zi?R*R*R:hu*(R-cl)}function Qu(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function $u(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function Bl(R){var D=$u(R.r),H=$u(R.g),ne=$u(R.b),ve=vu((.4124564*D+.3575761*H+.1804375*ne)/Pf),be=vu((.2126729*D+.7151522*H+.072175*ne)/Rf),Ce=vu((.0193339*D+.119192*H+.9503041*ne)/fl);return{l:116*be-16,a:500*(ve-be),b:200*(be-Ce),alpha:R.a}}function qu(R){var D=(R.l+16)/116,H=isNaN(R.a)?D:D+R.a/500,ne=isNaN(R.b)?D:D-R.b/200;return D=Rf*Ol(D),H=Pf*Ol(H),ne=fl*Ol(ne),new Qa(Qu(3.2404542*H-1.5371385*D-.4985314*ne),Qu(-.969266*H+1.8760108*D+.041556*ne),Qu(.0556434*H-.2040259*D+1.0572252*ne),R.alpha)}function du(R,D,H){return{l:Di(R.l,D.l,H),a:Di(R.a,D.a,H),b:Di(R.b,D.b,H),alpha:Di(R.alpha,D.alpha,H)}}function ef(R){var D=Bl(R),H=D.l,ne=D.a,ve=D.b,be=Math.atan2(ve,ne)*Ac;return{h:be<0?be+360:be,c:Math.sqrt(ne*ne+ve*ve),l:H,alpha:R.a}}function fi(R){var D=R.h*Ju,H=R.c,ne=R.l;return qu({l:ne,a:Math.cos(D)*H,b:Math.sin(D)*H,alpha:R.alpha})}function Df(R,D,H){var ne=D-R;return R+H*(ne>180||ne<-180?ne-360*Math.round(ne/360):ne)}function Uo(R,D,H){return{h:Df(R.h,D.h,H),c:Di(R.c,D.c,H),l:Di(R.l,D.l,H),alpha:Di(R.alpha,D.alpha,H)}}var hl={forward:Bl,reverse:qu,interpolate:du},Zs={forward:ef,reverse:fi,interpolate:Uo},tf=Object.freeze({__proto__:null,lab:hl,hcl:Zs}),_i=function(D,H,ne,ve,be){this.type=D,this.operator=H,this.interpolation=ne,this.input=ve,this.labels=[],this.outputs=[];for(var Ce=0,Ze=be;Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=ht[0],Et=ht[1];this.labels.push(At),this.outputs.push(Et)}};_i.interpolationFactor=function(D,H,ne,ve){var be=0;if(D.name==="exponential")be=Nl(H,D.base,ne,ve);else if(D.name==="linear")be=Nl(H,1,ne,ve);else if(D.name==="cubic-bezier"){var Ce=D.controlPoints,Ze=new v(Ce[0],Ce[1],Ce[2],Ce[3]);be=Ze.solve(Nl(H,1,ne,ve))}return be},_i.parse=function(D,H){var ne=D[0],ve=D[1],be=D[2],Ce=D.slice(3);if(!Array.isArray(ve)||ve.length===0)return H.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Ze=ve[1];if(typeof Ze!="number")return H.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ze}}else if(ve[0]==="cubic-bezier"){var ht=ve.slice(1);if(ht.length!==4||ht.some(function($r){return typeof $r!="number"||$r<0||$r>1}))return H.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:ht}}else return H.error("Unknown interpolation type "+String(ve[0]),1,0);if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");if(be=H.parse(be,2,Er),!be)return null;var At=[],Et=null;ne==="interpolate-hcl"||ne==="interpolate-lab"?Et=Fn:H.expectedType&&H.expectedType.kind!=="value"&&(Et=H.expectedType);for(var Wt=0;Wt<Ce.length;Wt+=2){var ir=Ce[Wt],$t=Ce[Wt+1],xr=Wt+3,Nr=Wt+4;if(typeof ir!="number")return H.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(At.length&&At[At.length-1][0]>=ir)return H.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var tn=H.parse($t,Nr,Et);if(!tn)return null;Et=Et||tn.type,At.push([ir,tn])}return Et.kind!=="number"&&Et.kind!=="color"&&!(Et.kind==="array"&&Et.itemType.kind==="number"&&typeof Et.N=="number")?H.error("Type "+ha(Et)+" is not interpolatable."):new _i(Et,ne,ve,be,At)},_i.prototype.evaluate=function(D){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=H[0])return ne[0].evaluate(D);var be=H.length;if(ve>=H[be-1])return ne[be-1].evaluate(D);var Ce=ll(H,ve),Ze=H[Ce],ht=H[Ce+1],At=_i.interpolationFactor(this.interpolation,ve,Ze,ht),Et=ne[Ce].evaluate(D),Wt=ne[Ce+1].evaluate(D);return this.operator==="interpolate"?ul[this.type.kind.toLowerCase()](Et,Wt,At):this.operator==="interpolate-hcl"?Zs.reverse(Zs.interpolate(Zs.forward(Et),Zs.forward(Wt),At)):hl.reverse(hl.interpolate(hl.forward(Et),hl.forward(Wt),At))},_i.prototype.eachChild=function(D){D(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var ve=ne[H];D(ve)}},_i.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},_i.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var H=[this.operator,D,this.input.serialize()],ne=0;ne<this.labels.length;ne++)H.push(this.labels[ne],this.outputs[ne].serialize());return H};function Nl(R,D,H,ne){var ve=ne-H,be=R-H;return ve===0?0:D===1?be/ve:(Math.pow(D,be)-1)/(Math.pow(D,ve)-1)}var bo=function(D,H){this.type=D,this.args=H};bo.parse=function(D,H){if(D.length<2)return H.error("Expectected at least one argument.");var ne=null,ve=H.expectedType;ve&&ve.kind!=="value"&&(ne=ve);for(var be=[],Ce=0,Ze=D.slice(1);Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=H.parse(ht,1+be.length,ne,void 0,{typeAnnotation:"omit"});if(!At)return null;ne=ne||At.type,be.push(At)}var Et=ve&&be.some(function(Wt){return ao(ve,Wt.type)});return Et?new bo(dn,be):new bo(ne,be)},bo.prototype.evaluate=function(D){for(var H=null,ne=0,ve,be=0,Ce=this.args;be<Ce.length;be+=1){var Ze=Ce[be];if(ne++,H=Ze.evaluate(D),H&&H instanceof xo&&!H.available&&(ve||(ve=H.name),H=null,ne===this.args.length&&(H=ve)),H!==null)break}return H},bo.prototype.eachChild=function(D){this.args.forEach(D)},bo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},bo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(H){D.push(H.serialize())}),D};var gs=function(D,H){this.type=H.type,this.bindings=[].concat(D),this.result=H};gs.prototype.evaluate=function(D){return this.result.evaluate(D)},gs.prototype.eachChild=function(D){for(var H=0,ne=this.bindings;H<ne.length;H+=1){var ve=ne[H];D(ve[1])}D(this.result)},gs.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ne=[],ve=1;ve<D.length-1;ve+=2){var be=D[ve];if(typeof be!="string")return H.error("Expected string, but found "+typeof be+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(be))return H.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Ce=H.parse(D[ve+1],ve+1);if(!Ce)return null;ne.push([be,Ce])}var Ze=H.parse(D[D.length-1],D.length-1,H.expectedType,ne);return Ze?new gs(ne,Ze):null},gs.prototype.outputDefined=function(){return this.result.outputDefined()},gs.prototype.serialize=function(){for(var D=["let"],H=0,ne=this.bindings;H<ne.length;H+=1){var ve=ne[H],be=ve[0],Ce=ve[1];D.push(be,Ce.serialize())}return D.push(this.result.serialize()),D};var ys=function(D,H,ne){this.type=D,this.index=H,this.input=ne};ys.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,Er),ve=H.parse(D[2],2,ia(H.expectedType||dn));if(!ne||!ve)return null;var be=ve.type;return new ys(be.itemType,ne,ve)},ys.prototype.evaluate=function(D){var H=this.index.evaluate(D),ne=this.input.evaluate(D);if(H<0)throw new Ui("Array index out of bounds: "+H+" < 0.");if(H>=ne.length)throw new Ui("Array index out of bounds: "+H+" > "+(ne.length-1)+".");if(H!==Math.floor(H))throw new Ui("Array index must be an integer, but found "+H+" instead.");return ne[H]},ys.prototype.eachChild=function(D){D(this.index),D(this.input)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Cs=function(D,H){this.type=hn,this.needle=D,this.haystack=H};Cs.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,dn),ve=H.parse(D[2],2,dn);return!ne||!ve?null:uo(ne.type,[hn,_r,Er,Pr,dn])?new Cs(ne,ve):H.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(ne.type)+" instead")},Cs.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!ne)return!1;if(!mo(H,["boolean","string","number","null"]))throw new Ui("Expected first argument to be of type boolean, string, number or null, but found "+ha(Ci(H))+" instead.");if(!mo(ne,["string","array"]))throw new Ui("Expected second argument to be of type array or string, but found "+ha(Ci(ne))+" instead.");return ne.indexOf(H)>=0},Cs.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Cs.prototype.outputDefined=function(){return!0},Cs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ls=function(D,H,ne){this.type=Er,this.needle=D,this.haystack=H,this.fromIndex=ne};Ls.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,dn),ve=H.parse(D[2],2,dn);if(!ne||!ve)return null;if(!uo(ne.type,[hn,_r,Er,Pr,dn]))return H.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(ne.type)+" instead");if(D.length===4){var be=H.parse(D[3],3,Er);return be?new Ls(ne,ve,be):null}else return new Ls(ne,ve)},Ls.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!mo(H,["boolean","string","number","null"]))throw new Ui("Expected first argument to be of type boolean, string, number or null, but found "+ha(Ci(H))+" instead.");if(!mo(ne,["string","array"]))throw new Ui("Expected second argument to be of type array or string, but found "+ha(Ci(ne))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return ne.indexOf(H,ve)}return ne.indexOf(H)},Ls.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Ls.prototype.outputDefined=function(){return!1},Ls.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ps=function(D,H,ne,ve,be,Ce){this.inputType=D,this.type=H,this.input=ne,this.cases=ve,this.outputs=be,this.otherwise=Ce};Ps.parse=function(D,H){if(D.length<5)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return H.error("Expected an even number of arguments.");var ne,ve;H.expectedType&&H.expectedType.kind!=="value"&&(ve=H.expectedType);for(var be={},Ce=[],Ze=2;Ze<D.length-1;Ze+=2){var ht=D[Ze],At=D[Ze+1];Array.isArray(ht)||(ht=[ht]);var Et=H.concat(Ze);if(ht.length===0)return Et.error("Expected at least one branch label.");for(var Wt=0,ir=ht;Wt<ir.length;Wt+=1){var $t=ir[Wt];if(typeof $t!="number"&&typeof $t!="string")return Et.error("Branch labels must be numbers or strings.");if(typeof $t=="number"&&Math.abs($t)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof $t=="number"&&Math.floor($t)!==$t)return Et.error("Numeric branch labels must be integer values.");if(!ne)ne=Ci($t);else if(Et.checkSubtype(ne,Ci($t)))return null;if(typeof be[String($t)]<"u")return Et.error("Branch labels must be unique.");be[String($t)]=Ce.length}var xr=H.parse(At,Ze,ve);if(!xr)return null;ve=ve||xr.type,Ce.push(xr)}var Nr=H.parse(D[1],1,dn);if(!Nr)return null;var tn=H.parse(D[D.length-1],D.length-1,ve);return!tn||Nr.type.kind!=="value"&&H.concat(1).checkSubtype(ne,Nr.type)?null:new Ps(ne,ve,Nr,be,Ce,tn)},Ps.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=Ci(H)===this.inputType&&this.outputs[this.cases[H]]||this.otherwise;return ne.evaluate(D)},Ps.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Ps.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Ps.prototype.serialize=function(){for(var D=this,H=["match",this.input.serialize()],ne=Object.keys(this.cases).sort(),ve=[],be={},Ce=0,Ze=ne;Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=be[this.cases[ht]];At===void 0?(be[this.cases[ht]]=ve.length,ve.push([this.cases[ht],[ht]])):ve[At][1].push(ht)}for(var Et=function(Nr){return D.inputType.kind==="number"?Number(Nr):Nr},Wt=0,ir=ve;Wt<ir.length;Wt+=1){var $t=ir[Wt],At=$t[0],xr=$t[1];xr.length===1?H.push(Et(xr[0])):H.push(xr.map(Et)),H.push(this.outputs[outputIndex$1].serialize())}return H.push(this.otherwise.serialize()),H};var Ho=function(D,H,ne){this.type=D,this.branches=H,this.otherwise=ne};Ho.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return H.error("Expected an odd number of arguments.");var ne;H.expectedType&&H.expectedType.kind!=="value"&&(ne=H.expectedType);for(var ve=[],be=1;be<D.length-1;be+=2){var Ce=H.parse(D[be],be,hn);if(!Ce)return null;var Ze=H.parse(D[be+1],be+1,ne);if(!Ze)return null;ve.push([Ce,Ze]),ne=ne||Ze.type}var ht=H.parse(D[D.length-1],D.length-1,ne);return ht?new Ho(ne,ve,ht):null},Ho.prototype.evaluate=function(D){for(var H=0,ne=this.branches;H<ne.length;H+=1){var ve=ne[H],be=ve[0],Ce=ve[1];if(be.evaluate(D))return Ce.evaluate(D)}return this.otherwise.evaluate(D)},Ho.prototype.eachChild=function(D){for(var H=0,ne=this.branches;H<ne.length;H+=1){var ve=ne[H],be=ve[0],Ce=ve[1];D(be),D(Ce)}D(this.otherwise)},Ho.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var H=D[1];return H.outputDefined()})&&this.otherwise.outputDefined()},Ho.prototype.serialize=function(){var D=["case"];return this.eachChild(function(H){D.push(H.serialize())}),D};var es=function(D,H,ne,ve){this.type=D,this.input=H,this.beginIndex=ne,this.endIndex=ve};es.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1,dn),ve=H.parse(D[2],2,Er);if(!ne||!ve)return null;if(!uo(ne.type,[ia(dn),_r,dn]))return H.error("Expected first argument to be of type array or string, but found "+ha(ne.type)+" instead");if(D.length===4){var be=H.parse(D[3],3,Er);return be?new es(ne.type,ne,ve,be):null}else return new es(ne.type,ne,ve)},es.prototype.evaluate=function(D){var H=this.input.evaluate(D),ne=this.beginIndex.evaluate(D);if(!mo(H,["string","array"]))throw new Ui("Expected first argument to be of type array or string, but found "+ha(Ci(H))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return H.slice(ne,ve)}return H.slice(ne)},es.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Ul(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Hl(R,D,H){return D===H}function pu(R,D,H){return D!==H}function Mc(R,D,H){return D<H}function Sc(R,D,H){return D>H}function Ec(R,D,H){return D<=H}function Cc(R,D,H){return D>=H}function gu(R,D,H,ne){return ne.compare(D,H)===0}function If(R,D,H,ne){return!gu(R,D,H,ne)}function vl(R,D,H,ne){return ne.compare(D,H)<0}function Qi(R,D,H,ne){return ne.compare(D,H)>0}function wo(R,D,H,ne){return ne.compare(D,H)<=0}function Vl(R,D,H,ne){return ne.compare(D,H)>=0}function Xs(R,D,H){var ne=R!=="=="&&R!=="!=";return function(){function ve(be,Ce,Ze){this.type=hn,this.lhs=be,this.rhs=Ce,this.collator=Ze,this.hasUntypedArgument=be.type.kind==="value"||Ce.type.kind==="value"}return ve.parse=function(Ce,Ze){if(Ce.length!==3&&Ce.length!==4)return Ze.error("Expected two or three arguments.");var ht=Ce[0],At=Ze.parse(Ce[1],1,dn);if(!At)return null;if(!Ul(ht,At.type))return Ze.concat(1).error('"'+ht+`" comparisons are not supported for type '`+ha(At.type)+"'.");var Et=Ze.parse(Ce[2],2,dn);if(!Et)return null;if(!Ul(ht,Et.type))return Ze.concat(2).error('"'+ht+`" comparisons are not supported for type '`+ha(Et.type)+"'.");if(At.type.kind!==Et.type.kind&&At.type.kind!=="value"&&Et.type.kind!=="value")return Ze.error("Cannot compare types '"+ha(At.type)+"' and '"+ha(Et.type)+"'.");ne&&(At.type.kind==="value"&&Et.type.kind!=="value"?At=new io(Et.type,[At]):At.type.kind!=="value"&&Et.type.kind==="value"&&(Et=new io(At.type,[Et])));var Wt=null;if(Ce.length===4){if(At.type.kind!=="string"&&Et.type.kind!=="string"&&At.type.kind!=="value"&&Et.type.kind!=="value")return Ze.error("Cannot use collator to compare non-string types.");if(Wt=Ze.parse(Ce[3],3,Qn),!Wt)return null}return new ve(At,Et,Wt)},ve.prototype.evaluate=function(Ce){var Ze=this.lhs.evaluate(Ce),ht=this.rhs.evaluate(Ce);if(ne&&this.hasUntypedArgument){var At=Ci(Ze),Et=Ci(ht);if(At.kind!==Et.kind||!(At.kind==="string"||At.kind==="number"))throw new Ui('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+At.kind+", "+Et.kind+") instead.")}if(this.collator&&!ne&&this.hasUntypedArgument){var Wt=Ci(Ze),ir=Ci(ht);if(Wt.kind!=="string"||ir.kind!=="string")return D(Ce,Ze,ht)}return this.collator?H(Ce,Ze,ht,this.collator.evaluate(Ce)):D(Ce,Ze,ht)},ve.prototype.eachChild=function(Ce){Ce(this.lhs),Ce(this.rhs),this.collator&&Ce(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Ce=[R];return this.eachChild(function(Ze){Ce.push(Ze.serialize())}),Ce},ve}()}var Gl=Xs("==",Hl,gu),yu=Xs("!=",pu,If),Lc=Xs("<",Mc,vl),_f=Xs(">",Sc,Qi),Ff=Xs("<=",Ec,wo),rf=Xs(">=",Cc,Vl),Rs=function(D,H,ne,ve,be){this.type=_r,this.number=D,this.locale=H,this.currency=ne,this.minFractionDigits=ve,this.maxFractionDigits=be};Rs.parse=function(D,H){if(D.length!==3)return H.error("Expected two arguments.");var ne=H.parse(D[1],1,Er);if(!ne)return null;var ve=D[2];if(typeof ve!="object"||Array.isArray(ve))return H.error("NumberFormat options argument must be an object.");var be=null;if(ve.locale&&(be=H.parse(ve.locale,1,_r),!be))return null;var Ce=null;if(ve.currency&&(Ce=H.parse(ve.currency,1,_r),!Ce))return null;var Ze=null;if(ve["min-fraction-digits"]&&(Ze=H.parse(ve["min-fraction-digits"],1,Er),!Ze))return null;var ht=null;return ve["max-fraction-digits"]&&(ht=H.parse(ve["max-fraction-digits"],1,Er),!ht)?null:new Rs(ne,be,Ce,Ze,ht)},Rs.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Rs.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Fi=function(D){this.type=Er,this.input=D};Fi.parse=function(D,H){if(D.length!==2)return H.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ne=H.parse(D[1],1);return ne?ne.type.kind!=="array"&&ne.type.kind!=="string"&&ne.type.kind!=="value"?H.error("Expected argument of type string or array, but found "+ha(ne.type)+" instead."):new Fi(ne):null},Fi.prototype.evaluate=function(D){var H=this.input.evaluate(D);if(typeof H=="string")return H.length;if(Array.isArray(H))return H.length;throw new Ui("Expected value to be of type string or array, but found "+ha(Ci(H))+" instead.")},Fi.prototype.eachChild=function(D){D(this.input)},Fi.prototype.outputDefined=function(){return!1},Fi.prototype.serialize=function(){var D=["length"];return this.eachChild(function(H){D.push(H.serialize())}),D};var ts={"==":Gl,"!=":yu,">":_f,"<":Lc,">=":rf,"<=":Ff,array:io,at:ys,boolean:io,case:Ho,coalesce:bo,collator:vs,format:Io,image:Jo,in:Cs,"index-of":Ls,interpolate:_i,"interpolate-hcl":_i,"interpolate-lab":_i,length:Fi,let:gs,literal:Eo,match:Ps,number:io,"number-format":Rs,object:io,slice:es,step:Es,string:io,"to-boolean":Ki,"to-color":Ki,"to-number":Ki,"to-string":Ki,var:qo,within:_o};function nf(R,D){var H=D[0],ne=D[1],ve=D[2],be=D[3];H=H.evaluate(R),ne=ne.evaluate(R),ve=ve.evaluate(R);var Ce=be?be.evaluate(R):1,Ze=Sf(H,ne,ve,Ce);if(Ze)throw new Ui(Ze);return new Qa(H/255*Ce,ne/255*Ce,ve/255*Ce,Ce)}function kf(R,D){return R in D}function js(R,D){var H=D[R];return typeof H>"u"?null:H}function mu(R,D,H,ne){for(;H<=ne;){var ve=H+ne>>1;if(D[ve]===R)return!0;D[ve]>R?ne=ve-1:H=ve+1}return!1}function Vo(R){return{type:R}}Ji.register(ts,{error:[zn,[_r],function(R,D){var H=D[0];throw new Ui(H.evaluate(R))}],typeof:[_r,[dn],function(R,D){var H=D[0];return ha(Ci(H.evaluate(R)))}],"to-rgba":[ia(Er,4),[Fn],function(R,D){var H=D[0];return H.evaluate(R).toArray()}],rgb:[Fn,[Er,Er,Er],nf],rgba:[Fn,[Er,Er,Er,Er],nf],has:{type:hn,overloads:[[[_r],function(R,D){var H=D[0];return kf(H.evaluate(R),R.properties())}],[[_r,Gn],function(R,D){var H=D[0],ne=D[1];return kf(H.evaluate(R),ne.evaluate(R))}]]},get:{type:dn,overloads:[[[_r],function(R,D){var H=D[0];return js(H.evaluate(R),R.properties())}],[[_r,Gn],function(R,D){var H=D[0],ne=D[1];return js(H.evaluate(R),ne.evaluate(R))}]]},"feature-state":[dn,[_r],function(R,D){var H=D[0];return js(H.evaluate(R),R.featureState||{})}],properties:[Gn,[],function(R){return R.properties()}],"geometry-type":[_r,[],function(R){return R.geometryType()}],id:[dn,[],function(R){return R.id()}],zoom:[Er,[],function(R){return R.globals.zoom}],"heatmap-density":[Er,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Er,[],function(R){return R.globals.lineProgress||0}],accumulated:[dn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Er,Vo(Er),function(R,D){for(var H=0,ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];H+=be.evaluate(R)}return H}],"*":[Er,Vo(Er),function(R,D){for(var H=1,ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];H*=be.evaluate(R)}return H}],"-":{type:Er,overloads:[[[Er,Er],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)-ne.evaluate(R)}],[[Er],function(R,D){var H=D[0];return-H.evaluate(R)}]]},"/":[Er,[Er,Er],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)/ne.evaluate(R)}],"%":[Er,[Er,Er],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)%ne.evaluate(R)}],ln2:[Er,[],function(){return Math.LN2}],pi:[Er,[],function(){return Math.PI}],e:[Er,[],function(){return Math.E}],"^":[Er,[Er,Er],function(R,D){var H=D[0],ne=D[1];return Math.pow(H.evaluate(R),ne.evaluate(R))}],sqrt:[Er,[Er],function(R,D){var H=D[0];return Math.sqrt(H.evaluate(R))}],log10:[Er,[Er],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN10}],ln:[Er,[Er],function(R,D){var H=D[0];return Math.log(H.evaluate(R))}],log2:[Er,[Er],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN2}],sin:[Er,[Er],function(R,D){var H=D[0];return Math.sin(H.evaluate(R))}],cos:[Er,[Er],function(R,D){var H=D[0];return Math.cos(H.evaluate(R))}],tan:[Er,[Er],function(R,D){var H=D[0];return Math.tan(H.evaluate(R))}],asin:[Er,[Er],function(R,D){var H=D[0];return Math.asin(H.evaluate(R))}],acos:[Er,[Er],function(R,D){var H=D[0];return Math.acos(H.evaluate(R))}],atan:[Er,[Er],function(R,D){var H=D[0];return Math.atan(H.evaluate(R))}],min:[Er,Vo(Er),function(R,D){return Math.min.apply(Math,D.map(function(H){return H.evaluate(R)}))}],max:[Er,Vo(Er),function(R,D){return Math.max.apply(Math,D.map(function(H){return H.evaluate(R)}))}],abs:[Er,[Er],function(R,D){var H=D[0];return Math.abs(H.evaluate(R))}],round:[Er,[Er],function(R,D){var H=D[0],ne=H.evaluate(R);return ne<0?-Math.round(-ne):Math.round(ne)}],floor:[Er,[Er],function(R,D){var H=D[0];return Math.floor(H.evaluate(R))}],ceil:[Er,[Er],function(R,D){var H=D[0];return Math.ceil(H.evaluate(R))}],"filter-==":[hn,[_r,dn],function(R,D){var H=D[0],ne=D[1];return R.properties()[H.value]===ne.value}],"filter-id-==":[hn,[dn],function(R,D){var H=D[0];return R.id()===H.value}],"filter-type-==":[hn,[_r],function(R,D){var H=D[0];return R.geometryType()===H.value}],"filter-<":[hn,[_r,dn],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],be=ne.value;return typeof ve==typeof be&&ve<be}],"filter-id-<":[hn,[dn],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne<ve}],"filter->":[hn,[_r,dn],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],be=ne.value;return typeof ve==typeof be&&ve>be}],"filter-id->":[hn,[dn],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne>ve}],"filter-<=":[hn,[_r,dn],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],be=ne.value;return typeof ve==typeof be&&ve<=be}],"filter-id-<=":[hn,[dn],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne<=ve}],"filter->=":[hn,[_r,dn],function(R,D){var H=D[0],ne=D[1],ve=R.properties()[H.value],be=ne.value;return typeof ve==typeof be&&ve>=be}],"filter-id->=":[hn,[dn],function(R,D){var H=D[0],ne=R.id(),ve=H.value;return typeof ne==typeof ve&&ne>=ve}],"filter-has":[hn,[dn],function(R,D){var H=D[0];return H.value in R.properties()}],"filter-has-id":[hn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[hn,[ia(_r)],function(R,D){var H=D[0];return H.value.indexOf(R.geometryType())>=0}],"filter-id-in":[hn,[ia(dn)],function(R,D){var H=D[0];return H.value.indexOf(R.id())>=0}],"filter-in-small":[hn,[_r,ia(dn)],function(R,D){var H=D[0],ne=D[1];return ne.value.indexOf(R.properties()[H.value])>=0}],"filter-in-large":[hn,[_r,ia(dn)],function(R,D){var H=D[0],ne=D[1];return mu(R.properties()[H.value],ne.value,0,ne.value.length-1)}],all:{type:hn,overloads:[[[hn,hn],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)&&ne.evaluate(R)}],[Vo(hn),function(R,D){for(var H=0,ne=D;H<ne.length;H+=1){var ve=ne[H];if(!ve.evaluate(R))return!1}return!0}]]},any:{type:hn,overloads:[[[hn,hn],function(R,D){var H=D[0],ne=D[1];return H.evaluate(R)||ne.evaluate(R)}],[Vo(hn),function(R,D){for(var H=0,ne=D;H<ne.length;H+=1){var ve=ne[H];if(ve.evaluate(R))return!0}return!1}]]},"!":[hn,[hn],function(R,D){var H=D[0];return!H.evaluate(R)}],"is-supported-script":[hn,[_r],function(R,D){var H=D[0],ne=R.globals&&R.globals.isSupportedScript;return ne?ne(H.evaluate(R)):!0}],upcase:[_r,[_r],function(R,D){var H=D[0];return H.evaluate(R).toUpperCase()}],downcase:[_r,[_r],function(R,D){var H=D[0];return H.evaluate(R).toLowerCase()}],concat:[_r,Vo(dn),function(R,D){return D.map(function(H){return Fl(H.evaluate(R))}).join("")}],"resolved-locale":[_r,[Qn],function(R,D){var H=D[0];return H.evaluate(R).resolvedLocale()}]});function xu(R){return{result:"success",value:R}}function ms(R){return{result:"error",value:R}}function xs(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function af(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function dl(R){return!!R.expression&&R.expression.interpolated}function ii(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Ks(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function bu(R){return R}function wu(R,D){var H=D.type==="color",ne=R.stops&&typeof R.stops[0][0]=="object",ve=ne||R.property!==void 0,be=ne||!ve,Ce=R.type||(dl(D)?"exponential":"interval");if(H&&(R=fn({},R),R.stops&&(R.stops=R.stops.map(function(jn){return[jn[0],Qa.parse(jn[1])]})),R.default?R.default=Qa.parse(R.default):R.default=Qa.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!tf[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Ze,ht,At;if(Ce==="exponential")Ze=pl;else if(Ce==="interval")Ze=of;else if(Ce==="categorical"){Ze=Pc,ht=Object.create(null);for(var Et=0,Wt=R.stops;Et<Wt.length;Et+=1){var ir=Wt[Et];ht[ir[0]]=ir[1]}At=typeof R.stops[0][0]}else if(Ce==="identity")Ze=sf;else throw new Error('Unknown function type "'+Ce+'"');if(ne){for(var $t={},xr=[],Nr=0;Nr<R.stops.length;Nr++){var tn=R.stops[Nr],$r=tn[0].zoom;$t[$r]===void 0&&($t[$r]={zoom:$r,type:R.type,property:R.property,default:R.default,stops:[]},xr.push($r)),$t[$r].stops.push([tn[0].value,tn[1]])}for(var Mn=[],gn=0,An=xr;gn<An.length;gn+=1){var Rn=An[gn];Mn.push([$t[Rn].zoom,wu($t[Rn],D)])}var Un={name:"linear"};return{kind:"composite",interpolationType:Un,interpolationFactor:_i.interpolationFactor.bind(void 0,Un),zoomStops:Mn.map(function(jn){return jn[0]}),evaluate:function(Ta,fa){var pa=Ta.zoom;return pl({stops:Mn,base:R.base},D,pa).evaluate(pa,fa)}}}else if(be){var Jn=Ce==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:Jn,interpolationFactor:_i.interpolationFactor.bind(void 0,Jn),zoomStops:R.stops.map(function(jn){return jn[0]}),evaluate:function(jn){var Ta=jn.zoom;return Ze(R,D,Ta,ht,At)}}}else return{kind:"source",evaluate:function(Ta,fa){var pa=fa&&fa.properties?fa.properties[R.property]:void 0;return pa===void 0?Ds(R.default,D.default):Ze(R,D,pa,ht,At)}}}function Ds(R,D,H){if(R!==void 0)return R;if(D!==void 0)return D;if(H!==void 0)return H}function Pc(R,D,H,ne,ve){var be=typeof H===ve?ne[H]:void 0;return Ds(be,R.default,D.default)}function of(R,D,H){if(ii(H)!=="number")return Ds(R.default,D.default);var ne=R.stops.length;if(ne===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[ne-1][0])return R.stops[ne-1][1];var ve=ll(R.stops.map(function(be){return be[0]}),H);return R.stops[ve][1]}function pl(R,D,H){var ne=R.base!==void 0?R.base:1;if(ii(H)!=="number")return Ds(R.default,D.default);var ve=R.stops.length;if(ve===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[ve-1][0])return R.stops[ve-1][1];var be=ll(R.stops.map(function(Wt){return Wt[0]}),H),Ce=zf(H,ne,R.stops[be][0],R.stops[be+1][0]),Ze=R.stops[be][1],ht=R.stops[be+1][1],At=ul[D.type]||bu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Et=tf[R.colorSpace];At=function(Wt,ir){return Et.reverse(Et.interpolate(Et.forward(Wt),Et.forward(ir),Ce))}}return typeof Ze.evaluate=="function"?{evaluate:function(){for(var ir=[],$t=arguments.length;$t--;)ir[$t]=arguments[$t];var xr=Ze.evaluate.apply(void 0,ir),Nr=ht.evaluate.apply(void 0,ir);if(!(xr===void 0||Nr===void 0))return At(xr,Nr,Ce)}}:At(Ze,ht,Ce)}function sf(R,D,H){return D.type==="color"?H=Qa.parse(H):D.type==="formatted"?H=Yi.fromString(H.toString()):D.type==="resolvedImage"?H=xo.fromString(H.toString()):ii(H)!==D.type&&(D.type!=="enum"||!D.values[H])&&(H=void 0),Ds(H,R.default,D.default)}function zf(R,D,H,ne){var ve=ne-H,be=R-H;return ve===0?0:D===1?be/ve:(Math.pow(D,be)-1)/(Math.pow(D,ve)-1)}var bs=function(D,H){this.expression=D,this._warningHistory={},this._evaluator=new Qo,this._defaultValue=H?Bf(H):null,this._enumValues=H&&H.type==="enum"?H.values:null};bs.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,be,Ce){return this._evaluator.globals=D,this._evaluator.feature=H,this._evaluator.featureState=ne,this._evaluator.canonical=ve,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ce,this.expression.evaluate(this._evaluator)},bs.prototype.evaluate=function(D,H,ne,ve,be,Ce){this._evaluator.globals=D,this._evaluator.feature=H||null,this._evaluator.featureState=ne||null,this._evaluator.canonical=ve,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ce||null;try{var Ze=this.expression.evaluate(this._evaluator);if(Ze==null||typeof Ze=="number"&&Ze!==Ze)return this._defaultValue;if(this._enumValues&&!(Ze in this._enumValues))throw new Ui("Expected value to be one of "+Object.keys(this._enumValues).map(function(ht){return JSON.stringify(ht)}).join(", ")+", but found "+JSON.stringify(Ze)+" instead.");return Ze}catch(ht){return this._warningHistory[ht.message]||(this._warningHistory[ht.message]=!0,typeof console<"u"&&console.warn(ht.message)),this._defaultValue}};function Is(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in ts}function Js(R,D){var H=new ps(ts,[],D?Tu(D):void 0),ne=H.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ne?xu(new bs(ne,D)):ms(H.errors)}var Qs=function(D,H){this.kind=D,this._styleExpression=H,this.isStateDependent=D!=="constant"&&!zl(H.expression)};Qs.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,be,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ne,ve,be,Ce)},Qs.prototype.evaluate=function(D,H,ne,ve,be,Ce){return this._styleExpression.evaluate(D,H,ne,ve,be,Ce)};var To=function(D,H,ne,ve){this.kind=D,this.zoomStops=ne,this._styleExpression=H,this.isStateDependent=D!=="camera"&&!zl(H.expression),this.interpolationType=ve};To.prototype.evaluateWithoutErrorHandling=function(D,H,ne,ve,be,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ne,ve,be,Ce)},To.prototype.evaluate=function(D,H,ne,ve,be,Ce){return this._styleExpression.evaluate(D,H,ne,ve,be,Ce)},To.prototype.interpolationFactor=function(D,H,ne){return this.interpolationType?_i.interpolationFactor(this.interpolationType,D,H,ne):0};function Lo(R,D){if(R=Js(R,D),R.result==="error")return R;var H=R.value.expression,ne=Ys(H);if(!ne&&!xs(D))return ms([new Tn("","data expressions not supported")]);var ve=sl(H,["zoom"]);if(!ve&&!af(D))return ms([new Tn("","zoom expressions not supported")]);var be=yl(H);if(!be&&!ve)return ms([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(be instanceof Tn)return ms([be]);if(be instanceof _i&&!dl(D))return ms([new Tn("",'"interpolate" expressions cannot be used with this property')]);if(!be)return xu(ne?new Qs("constant",R.value):new Qs("source",R.value));var Ce=be instanceof _i?be.interpolation:void 0;return xu(ne?new To("camera",R.value,be.labels,Ce):new To("composite",R.value,be.labels,Ce))}var $s=function(D,H){this._parameters=D,this._specification=H,fn(this,wu(this._parameters,this._specification))};$s.deserialize=function(D){return new $s(D._parameters,D._specification)},$s.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Of(R,D){if(Ks(R))return new $s(R,D);if(Is(R)){var H=Lo(R,D);if(H.result==="error")throw new Error(H.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return H.value}else{var ne=R;return typeof R=="string"&&D.type==="color"&&(ne=Qa.parse(R)),{kind:"constant",evaluate:function(){return ne}}}}function yl(R){var D=null;if(R instanceof gs)D=yl(R.result);else if(R instanceof bo)for(var H=0,ne=R.args;H<ne.length;H+=1){var ve=ne[H];if(D=yl(ve),D)break}else(R instanceof Es||R instanceof _i)&&R.input instanceof Ji&&R.input.name==="zoom"&&(D=R);return D instanceof Tn||R.eachChild(function(be){var Ce=yl(be);Ce instanceof Tn?D=Ce:!D&&Ce?D=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ce&&D!==Ce&&(D=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Tu(R){var D={color:Fn,string:_r,number:Er,enum:_r,boolean:hn,formatted:sa,resolvedImage:aa};return R.type==="array"?ia(D[R.value]||dn,R.length):D[R.type]}function Bf(R){return R.type==="color"&&Ks(R.default)?new Qa(0,0,0,0):R.type==="color"?Qa.parse(R.default)||null:R.default===void 0?null:R.default}function Go(R){var D=R.key,H=R.value,ne=R.valueSpec||{},ve=R.objectElementValidators||{},be=R.style,Ce=R.styleSpec,Ze=[],ht=ii(H);if(ht!=="object")return[new Tr(D,H,"object expected, "+ht+" found")];for(var At in H){var Et=At.split(".")[0],Wt=ne[Et]||ne["*"],ir=void 0;if(ve[Et])ir=ve[Et];else if(ne[Et])ir=ar;else if(ve["*"])ir=ve["*"];else if(ne["*"])ir=ar;else{Ze.push(new Tr(D,H[At],'unknown property "'+At+'"'));continue}Ze=Ze.concat(ir({key:(D&&D+".")+At,value:H[At],valueSpec:Wt,style:be,styleSpec:Ce,object:H,objectKey:At},H))}for(var $t in ne)ve[$t]||ne[$t].required&&ne[$t].default===void 0&&H[$t]===void 0&&Ze.push(new Tr(D,H,'missing required property "'+$t+'"'));return Ze}function lf(R){var D=R.value,H=R.valueSpec,ne=R.style,ve=R.styleSpec,be=R.key,Ce=R.arrayElementValidator||ar;if(ii(D)!=="array")return[new Tr(be,D,"array expected, "+ii(D)+" found")];if(H.length&&D.length!==H.length)return[new Tr(be,D,"array length "+H.length+" expected, length "+D.length+" found")];if(H["min-length"]&&D.length<H["min-length"])return[new Tr(be,D,"array length at least "+H["min-length"]+" expected, length "+D.length+" found")];var Ze={type:H.value,values:H.values};ve.$version<7&&(Ze.function=H.function),ii(H.value)==="object"&&(Ze=H.value);for(var ht=[],At=0;At<D.length;At++)ht=ht.concat(Ce({array:D,arrayIndex:At,value:D[At],valueSpec:Ze,style:ne,styleSpec:ve,key:be+"["+At+"]"}));return ht}function _s(R){var D=R.key,H=R.value,ne=R.valueSpec,ve=ii(H);return ve==="number"&&H!==H&&(ve="NaN"),ve!=="number"?[new Tr(D,H,"number expected, "+ve+" found")]:"minimum"in ne&&H<ne.minimum?[new Tr(D,H,H+" is less than the minimum value "+ne.minimum)]:"maximum"in ne&&H>ne.maximum?[new Tr(D,H,H+" is greater than the maximum value "+ne.maximum)]:[]}function Wl(R){var D=R.valueSpec,H=cn(R.value.type),ne,ve={},be,Ce,Ze=H!=="categorical"&&R.value.property===void 0,ht=!Ze,At=ii(R.value.stops)==="array"&&ii(R.value.stops[0])==="array"&&ii(R.value.stops[0][0])==="object",Et=Go({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Wt,default:xr}});return H==="identity"&&Ze&&Et.push(new Tr(R.key,R.value,'missing required property "property"')),H!=="identity"&&!R.value.stops&&Et.push(new Tr(R.key,R.value,'missing required property "stops"')),H==="exponential"&&R.valueSpec.expression&&!dl(R.valueSpec)&&Et.push(new Tr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ht&&!xs(R.valueSpec)?Et.push(new Tr(R.key,R.value,"property functions not supported")):Ze&&!af(R.valueSpec)&&Et.push(new Tr(R.key,R.value,"zoom functions not supported"))),(H==="categorical"||At)&&R.value.property===void 0&&Et.push(new Tr(R.key,R.value,'"property" property is required')),Et;function Wt(Nr){if(H==="identity")return[new Tr(Nr.key,Nr.value,'identity function may not have a "stops" property')];var tn=[],$r=Nr.value;return tn=tn.concat(lf({key:Nr.key,value:$r,valueSpec:Nr.valueSpec,style:Nr.style,styleSpec:Nr.styleSpec,arrayElementValidator:ir})),ii($r)==="array"&&$r.length===0&&tn.push(new Tr(Nr.key,$r,"array must have at least one stop")),tn}function ir(Nr){var tn=[],$r=Nr.value,Mn=Nr.key;if(ii($r)!=="array")return[new Tr(Mn,$r,"array expected, "+ii($r)+" found")];if($r.length!==2)return[new Tr(Mn,$r,"array length 2 expected, length "+$r.length+" found")];if(At){if(ii($r[0])!=="object")return[new Tr(Mn,$r,"object expected, "+ii($r[0])+" found")];if($r[0].zoom===void 0)return[new Tr(Mn,$r,"object stop key must have zoom")];if($r[0].value===void 0)return[new Tr(Mn,$r,"object stop key must have value")];if(Ce&&Ce>cn($r[0].zoom))return[new Tr(Mn,$r[0].zoom,"stop zoom values must appear in ascending order")];cn($r[0].zoom)!==Ce&&(Ce=cn($r[0].zoom),be=void 0,ve={}),tn=tn.concat(Go({key:Mn+"[0]",value:$r[0],valueSpec:{zoom:{}},style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{zoom:_s,value:$t}}))}else tn=tn.concat($t({key:Mn+"[0]",value:$r[0],valueSpec:{},style:Nr.style,styleSpec:Nr.styleSpec},$r));return Is(Ln($r[1]))?tn.concat([new Tr(Mn+"[1]",$r[1],"expressions are not allowed in function stops.")]):tn.concat(ar({key:Mn+"[1]",value:$r[1],valueSpec:D,style:Nr.style,styleSpec:Nr.styleSpec}))}function $t(Nr,tn){var $r=ii(Nr.value),Mn=cn(Nr.value),gn=Nr.value!==null?Nr.value:tn;if(!ne)ne=$r;else if($r!==ne)return[new Tr(Nr.key,gn,$r+" stop domain type must match previous stop domain type "+ne)];if($r!=="number"&&$r!=="string"&&$r!=="boolean")return[new Tr(Nr.key,gn,"stop domain value must be a number, string, or boolean")];if($r!=="number"&&H!=="categorical"){var An="number expected, "+$r+" found";return xs(D)&&H===void 0&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tr(Nr.key,gn,An)]}return H==="categorical"&&$r==="number"&&(!isFinite(Mn)||Math.floor(Mn)!==Mn)?[new Tr(Nr.key,gn,"integer expected, found "+Mn)]:H!=="categorical"&&$r==="number"&&be!==void 0&&Mn<be?[new Tr(Nr.key,gn,"stop domain values must appear in ascending order")]:(be=Mn,H==="categorical"&&Mn in ve?[new Tr(Nr.key,gn,"stop domain values must be unique")]:(ve[Mn]=!0,[]))}function xr(Nr){return ar({key:Nr.key,value:Nr.value,valueSpec:D,style:Nr.style,styleSpec:Nr.styleSpec})}}function ws(R){var D=(R.expressionContext==="property"?Lo:Js)(Ln(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ne){return new Tr(""+R.key+ne.key,R.value,ne.message)});var H=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!H.outputDefined())return[new Tr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!zl(H))return[new Tr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!zl(H))return[new Tr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!sl(H,["zoom","feature-state"]))return[new Tr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Ys(H))return[new Tr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rc(R){var D=R.value,H=R.key,ne=ii(D);return ne!=="boolean"?[new Tr(H,D,"boolean expected, "+ne+" found")]:[]}function uf(R){var D=R.key,H=R.value,ne=ii(H);return ne!=="string"?[new Tr(D,H,"color expected, "+ne+" found")]:Hu(H)===null?[new Tr(D,H,'color expected, "'+H+'" found')]:[]}function Au(R){var D=R.key,H=R.value,ne=R.valueSpec,ve=[];return Array.isArray(ne.values)?ne.values.indexOf(cn(H))===-1&&ve.push(new Tr(D,H,"expected one of ["+ne.values.join(", ")+"], "+JSON.stringify(H)+" found")):Object.keys(ne.values).indexOf(cn(H))===-1&&ve.push(new Tr(D,H,"expected one of ["+Object.keys(ne.values).join(", ")+"], "+JSON.stringify(H)+" found")),ve}function oo(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,H=R.slice(1);D<H.length;D+=1){var ne=H[D];if(!oo(ne)&&typeof ne!="boolean")return!1}return!0;default:return!0}}var Nf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Yl(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};oo(R)||(R=Fs(R));var D=Js(R,Nf);if(D.result==="error")throw new Error(D.value.map(function(ne){return ne.key+": "+ne.message}).join(", "));var H=Zl(R);return{filter:function(ne,ve,be){return D.value.evaluate(ne,ve,{},be)},needGeometry:H}}function rs(R,D){return R<D?-1:R>D?1:0}function Zl(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(Zl(R[D]))return!0;return!1}function Fs(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var H=D==="=="?Mu(R[1],R[2],"=="):D==="!="?qs(Mu(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Mu(R[1],R[2],D):D==="any"?Uf(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(Fs)):D==="none"?["all"].concat(R.slice(1).map(Fs).map(qs)):D==="in"?ff(R[1],R.slice(2)):D==="!in"?qs(ff(R[1],R.slice(2))):D==="has"?cf(R[1]):D==="!has"?qs(cf(R[1])):D==="within"?R:!0;return H}function Mu(R,D,H){switch(R){case"$type":return["filter-type-"+H,D];case"$id":return["filter-id-"+H,D];default:return["filter-"+H,R,D]}}function Uf(R){return["any"].concat(R.map(Fs))}function ff(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(H){return typeof H!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(rs)]]:["filter-in-small",R,["literal",D]]}}function cf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function qs(R){return["!",R]}function Su(R){return oo(Ln(R.value))?ws(fn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xl(R)}function Xl(R){var D=R.value,H=R.key;if(ii(D)!=="array")return[new Tr(H,D,"array expected, "+ii(D)+" found")];var ne=R.styleSpec,ve,be=[];if(D.length<1)return[new Tr(H,D,"filter array must have at least 1 element")];switch(be=be.concat(Au({key:H+"[0]",value:D[0],valueSpec:ne.filter_operator,style:R.style,styleSpec:R.styleSpec})),cn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&cn(D[1])==="$type"&&be.push(new Tr(H,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&be.push(new Tr(H,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ve=ii(D[1]),ve!=="string"&&be.push(new Tr(H+"[1]",D[1],"string expected, "+ve+" found")));for(var Ce=2;Ce<D.length;Ce++)ve=ii(D[Ce]),cn(D[1])==="$type"?be=be.concat(Au({key:H+"["+Ce+"]",value:D[Ce],valueSpec:ne.geometry_type,style:R.style,styleSpec:R.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&be.push(new Tr(H+"["+Ce+"]",D[Ce],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Ze=1;Ze<D.length;Ze++)be=be.concat(Xl({key:H+"["+Ze+"]",value:D[Ze],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ve=ii(D[1]),D.length!==2?be.push(new Tr(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="string"&&be.push(new Tr(H+"[1]",D[1],"string expected, "+ve+" found"));break;case"within":ve=ii(D[1]),D.length!==2?be.push(new Tr(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="object"&&be.push(new Tr(H+"[1]",D[1],"object expected, "+ve+" found"));break}return be}function Hf(R,D){var H=R.key,ne=R.style,ve=R.styleSpec,be=R.value,Ce=R.objectKey,Ze=ve[D+"_"+R.layerType];if(!Ze)return[];var ht=Ce.match(/^(.*)-transition$/);if(D==="paint"&&ht&&Ze[ht[1]]&&Ze[ht[1]].transition)return ar({key:H,value:be,valueSpec:ve.transition,style:ne,styleSpec:ve});var At=R.valueSpec||Ze[Ce];if(!At)return[new Tr(H,be,'unknown property "'+Ce+'"')];var Et;if(ii(be)==="string"&&xs(At)&&!At.tokens&&(Et=/^{([^}]+)}$/.exec(be)))return[new Tr(H,be,'"'+Ce+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var Wt=[];return R.layerType==="symbol"&&(Ce==="text-field"&&ne&&!ne.glyphs&&Wt.push(new Tr(H,be,'use of "text-field" requires a style "glyphs" property')),Ce==="text-font"&&Ks(Ln(be))&&cn(be.type)==="identity"&&Wt.push(new Tr(H,be,'"text-font" does not support identity functions'))),Wt.concat(ar({key:R.key,value:be,valueSpec:At,style:ne,styleSpec:ve,expressionContext:"property",propertyType:D,propertyKey:Ce}))}function jl(R){return Hf(R,"paint")}function Vf(R){return Hf(R,"layout")}function Ye(R){var D=[],H=R.value,ne=R.key,ve=R.style,be=R.styleSpec;!H.type&&!H.ref&&D.push(new Tr(ne,H,'either "type" or "ref" is required'));var Ce=cn(H.type),Ze=cn(H.ref);if(H.id)for(var ht=cn(H.id),At=0;At<R.arrayIndex;At++){var Et=ve.layers[At];cn(Et.id)===ht&&D.push(new Tr(ne,H.id,'duplicate layer id "'+H.id+'", previously used at line '+Et.id.__line__))}if("ref"in H){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in H&&D.push(new Tr(ne,H[xr],'"'+xr+'" is prohibited for ref layers'))});var Wt;ve.layers.forEach(function(xr){cn(xr.id)===Ze&&(Wt=xr)}),Wt?Wt.ref?D.push(new Tr(ne,H.ref,"ref cannot reference another ref layer")):Ce=cn(Wt.type):D.push(new Tr(ne,H.ref,'ref layer "'+Ze+'" not found'))}else if(Ce!=="background")if(!H.source)D.push(new Tr(ne,H,'missing required property "source"'));else{var ir=ve.sources&&ve.sources[H.source],$t=ir&&cn(ir.type);ir?$t==="vector"&&Ce==="raster"?D.push(new Tr(ne,H.source,'layer "'+H.id+'" requires a raster source')):$t==="raster"&&Ce!=="raster"?D.push(new Tr(ne,H.source,'layer "'+H.id+'" requires a vector source')):$t==="vector"&&!H["source-layer"]?D.push(new Tr(ne,H,'layer "'+H.id+'" must specify a "source-layer"')):$t==="raster-dem"&&Ce!=="hillshade"?D.push(new Tr(ne,H.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ce==="line"&&H.paint&&H.paint["line-gradient"]&&($t!=="geojson"||!ir.lineMetrics)&&D.push(new Tr(ne,H,'layer "'+H.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Tr(ne,H.source,'source "'+H.source+'" not found'))}return D=D.concat(Go({key:ne,value:H,valueSpec:be.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:ne+".type",value:H.type,valueSpec:be.layer.type,style:R.style,styleSpec:R.styleSpec,object:H,objectKey:"type"})},filter:Su,layout:function(Nr){return Go({layer:H,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return Vf(fn({layerType:Ce},$r))}}})},paint:function(Nr){return Go({layer:H,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return jl(fn({layerType:Ce},$r))}}})}}})),D}function rt(R){var D=R.value,H=R.key,ne=ii(D);return ne!=="string"?[new Tr(H,D,"string expected, "+ne+" found")]:[]}var dt={promoteId:It};function yt(R){var D=R.value,H=R.key,ne=R.styleSpec,ve=R.style;if(!D.type)return[new Tr(H,D,'"type" is required')];var be=cn(D.type),Ce;switch(be){case"vector":case"raster":case"raster-dem":return Ce=Go({key:H,value:D,valueSpec:ne["source_"+be.replace("-","_")],style:R.style,styleSpec:ne,objectElementValidators:dt}),Ce;case"geojson":if(Ce=Go({key:H,value:D,valueSpec:ne.source_geojson,style:ve,styleSpec:ne,objectElementValidators:dt}),D.cluster)for(var Ze in D.clusterProperties){var ht=D.clusterProperties[Ze],At=ht[0],Et=ht[1],Wt=typeof At=="string"?[At,["accumulated"],["get",Ze]]:At;Ce.push.apply(Ce,ws({key:H+"."+Ze+".map",value:Et,expressionContext:"cluster-map"})),Ce.push.apply(Ce,ws({key:H+"."+Ze+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return Ce;case"video":return Go({key:H,value:D,valueSpec:ne.source_video,style:ve,styleSpec:ne});case"image":return Go({key:H,value:D,valueSpec:ne.source_image,style:ve,styleSpec:ne});case"canvas":return[new Tr(H,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Au({key:H+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ne})}}function It(R){var D=R.key,H=R.value;if(ii(H)==="string")return rt({key:D,value:H});var ne=[];for(var ve in H)ne.push.apply(ne,rt({key:D+"."+ve,value:H[ve]}));return ne}function Lt(R){var D=R.value,H=R.styleSpec,ne=H.light,ve=R.style,be=[],Ce=ii(D);if(D===void 0)return be;if(Ce!=="object")return be=be.concat([new Tr("light",D,"object expected, "+Ce+" found")]),be;for(var Ze in D){var ht=Ze.match(/^(.*)-transition$/);ht&&ne[ht[1]]&&ne[ht[1]].transition?be=be.concat(ar({key:Ze,value:D[Ze],valueSpec:H.transition,style:ve,styleSpec:H})):ne[Ze]?be=be.concat(ar({key:Ze,value:D[Ze],valueSpec:ne[Ze],style:ve,styleSpec:H})):be=be.concat([new Tr(Ze,D[Ze],'unknown property "'+Ze+'"')])}return be}function zt(R){return rt(R).length===0?[]:ws(R)}function fr(R){return rt(R).length===0?[]:ws(R)}var gr={"*":function(){return[]},array:lf,boolean:Rc,number:_s,color:uf,constants:nn,enum:Au,filter:Su,function:Wl,layer:Ye,object:Go,source:yt,light:Lt,string:rt,formatted:zt,resolvedImage:fr};function ar(R){var D=R.value,H=R.valueSpec,ne=R.styleSpec;if(H.expression&&Ks(cn(D)))return Wl(R);if(H.expression&&Is(Ln(D)))return ws(R);if(H.type&&gr[H.type])return gr[H.type](R);var ve=Go(fn({},R,{valueSpec:H.type?ne[H.type]:H}));return ve}function Ar(R){var D=R.value,H=R.key,ne=rt(R);return ne.length||(D.indexOf("{fontstack}")===-1&&ne.push(new Tr(H,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ne.push(new Tr(H,D,'"glyphs" url must include a "{range}" token'))),ne}function Lr(R,D){D===void 0&&(D=Xt);var H=[];return H=H.concat(ar({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Ar,"*":function(){return[]}}})),R.constants&&(H=H.concat(nn({key:"constants",value:R.constants,style:R,styleSpec:D}))),Wr(H)}Lr.source=Jr(yt),Lr.light=Jr(Lt),Lr.layer=Jr(Ye),Lr.filter=Jr(Su),Lr.paintProperty=Jr(jl),Lr.layoutProperty=Jr(Vf);function Wr(R){return[].concat(R).sort(function(D,H){return D.line-H.line})}function Jr(R){return function(){for(var D=[],H=arguments.length;H--;)D[H]=arguments[H];return Wr(R.apply(this,D))}}var pn=Lr,wn=pn.light,Pn=pn.paintProperty,ca=pn.layoutProperty;function Ma(R,D){var H=!1;if(D&&D.length)for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];R.fire(new tr(new Error(be.message))),H=!0}return H}var Ca=Ra,La=3;function Ra(R,D,H){var ne=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ve=new Int32Array(this.arrayBuffer);R=ve[0],D=ve[1],H=ve[2],this.d=D+2*H;for(var be=0;be<this.d*this.d;be++){var Ce=ve[La+be],Ze=ve[La+be+1];ne.push(Ce===Ze?null:ve.subarray(Ce,Ze))}var ht=ve[La+ne.length],At=ve[La+ne.length+1];this.keys=ve.subarray(ht,At),this.bboxes=ve.subarray(At),this.insert=this._insertReadonly}else{this.d=D+2*H;for(var Et=0;Et<this.d*this.d;Et++)ne.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=H,this.scale=D/R,this.uid=0;var Wt=H/D*R;this.min=-Wt,this.max=R+Wt}Ra.prototype.insert=function(R,D,H,ne,ve){this._forEachCell(D,H,ne,ve,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(H),this.bboxes.push(ne),this.bboxes.push(ve)},Ra.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ra.prototype._insertCell=function(R,D,H,ne,ve,be){this.cells[ve].push(be)},Ra.prototype.query=function(R,D,H,ne,ve){var be=this.min,Ce=this.max;if(R<=be&&D<=be&&Ce<=H&&Ce<=ne&&!ve)return Array.prototype.slice.call(this.keys);var Ze=[],ht={};return this._forEachCell(R,D,H,ne,this._queryCell,Ze,ht,ve),Ze},Ra.prototype._queryCell=function(R,D,H,ne,ve,be,Ce,Ze){var ht=this.cells[ve];if(ht!==null)for(var At=this.keys,Et=this.bboxes,Wt=0;Wt<ht.length;Wt++){var ir=ht[Wt];if(Ce[ir]===void 0){var $t=ir*4;(Ze?Ze(Et[$t+0],Et[$t+1],Et[$t+2],Et[$t+3]):R<=Et[$t+2]&&D<=Et[$t+3]&&H>=Et[$t+0]&&ne>=Et[$t+1])?(Ce[ir]=!0,be.push(At[ir])):Ce[ir]=!1}}},Ra.prototype._forEachCell=function(R,D,H,ne,ve,be,Ce,Ze){for(var ht=this._convertToCellCoord(R),At=this._convertToCellCoord(D),Et=this._convertToCellCoord(H),Wt=this._convertToCellCoord(ne),ir=ht;ir<=Et;ir++)for(var $t=At;$t<=Wt;$t++){var xr=this.d*$t+ir;if(!(Ze&&!Ze(this._convertFromCellCoord(ir),this._convertFromCellCoord($t),this._convertFromCellCoord(ir+1),this._convertFromCellCoord($t+1)))&&ve.call(this,R,D,H,ne,xr,be,Ce,Ze))return}},Ra.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Ra.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Ra.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=La+this.cells.length+1+1,H=0,ne=0;ne<this.cells.length;ne++)H+=this.cells[ne].length;var ve=new Int32Array(D+H+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var be=D,Ce=0;Ce<R.length;Ce++){var Ze=R[Ce];ve[La+Ce]=be,ve.set(Ze,be),be+=Ze.length}return ve[La+R.length]=be,ve.set(this.keys,be),be+=this.keys.length,ve[La+R.length+1]=be,ve.set(this.bboxes,be),be+=this.bboxes.length,ve.buffer};var ri=self.ImageData,Li=self.ImageBitmap,ci={};function se(R,D,H){H===void 0&&(H={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),ci[R]={klass:D,omit:H.omit||[],shallow:H.shallow||[]}}se("Object",Object),Ca.serialize=function(D,H){var ne=D.toArrayBuffer();return H&&H.push(ne),{buffer:ne}},Ca.deserialize=function(D){return new Ca(D.buffer)},se("Grid",Ca),se("Color",Qa),se("Error",Error),se("ResolvedImage",xo),se("StylePropertyFunction",$s),se("StyleExpression",bs,{omit:["_evaluator"]}),se("ZoomDependentExpression",To),se("ZoomConstantExpression",Qs),se("CompoundExpression",Ji,{omit:["_evaluate"]});for(var Se in ts)ts[Se]._classRegistryKey||se("Expression_"+Se,ts[Se]);function Oe(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function Ke(R){return Li&&R instanceof Li}function tt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(Oe(R)||Ke(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var H=R;return D&&D.push(H.buffer),H}if(R instanceof ri)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ne=[],ve=0,be=R;ve<be.length;ve+=1){var Ce=be[ve];ne.push(tt(Ce,D))}return ne}if(typeof R=="object"){var Ze=R.constructor,ht=Ze._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var At=Ze.serialize?Ze.serialize(R,D):{};if(!Ze.serialize){for(var Et in R)if(R.hasOwnProperty(Et)&&!(ci[ht].omit.indexOf(Et)>=0)){var Wt=R[Et];At[Et]=ci[ht].shallow.indexOf(Et)>=0?Wt:tt(Wt,D)}R instanceof Error&&(At.message=R.message)}if(At.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(At.$name=ht),At}throw new Error("can't serialize object of type "+typeof R)}function nt(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||Oe(R)||Ke(R)||ArrayBuffer.isView(R)||R instanceof ri)return R;if(Array.isArray(R))return R.map(nt);if(typeof R=="object"){var D=R.$name||"Object",H=ci[D],ne=H.klass;if(!ne)throw new Error("can't deserialize unregistered class "+D);if(ne.deserialize)return ne.deserialize(R);for(var ve=Object.create(ne.prototype),be=0,Ce=Object.keys(R);be<Ce.length;be+=1){var Ze=Ce[be];if(Ze!=="$name"){var ht=R[Ze];ve[Ze]=ci[D].shallow.indexOf(Ze)>=0?ht:nt(ht)}}return ve}throw new Error("can't deserialize object of type "+typeof R)}var Pt=function(){this.first=!0};Pt.prototype.update=function(D,H){var ne=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ne,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ne,!0):(this.lastFloorZoom>ne?(this.lastIntegerZoom=ne+1,this.lastIntegerZoomTime=H):this.lastFloorZoom<ne&&(this.lastIntegerZoom=ne,this.lastIntegerZoomTime=H),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ne,!0):!1)};var vt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Ht(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(Sr(ne.charCodeAt(0)))return!0}return!1}function qt(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(!er(ne.charCodeAt(0)))return!1}return!0}function er(R){return!(vt.Arabic(R)||vt["Arabic Supplement"](R)||vt["Arabic Extended-A"](R)||vt["Arabic Presentation Forms-A"](R)||vt["Arabic Presentation Forms-B"](R))}function Cr(R){return R<11904?!1:!!(vt["Bopomofo Extended"](R)||vt.Bopomofo(R)||vt["CJK Compatibility Forms"](R)||vt["CJK Compatibility Ideographs"](R)||vt["CJK Compatibility"](R)||vt["CJK Radicals Supplement"](R)||vt["CJK Strokes"](R)||vt["CJK Symbols and Punctuation"](R)||vt["CJK Unified Ideographs Extension A"](R)||vt["CJK Unified Ideographs"](R)||vt["Enclosed CJK Letters and Months"](R)||vt["Halfwidth and Fullwidth Forms"](R)||vt.Hiragana(R)||vt["Ideographic Description Characters"](R)||vt["Kangxi Radicals"](R)||vt["Katakana Phonetic Extensions"](R)||vt.Katakana(R)||vt["Vertical Forms"](R)||vt["Yi Radicals"](R)||vt["Yi Syllables"](R))}function Sr(R){return R===746||R===747?!0:R<4352?!1:!!(vt["Bopomofo Extended"](R)||vt.Bopomofo(R)||vt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||vt["CJK Compatibility Ideographs"](R)||vt["CJK Compatibility"](R)||vt["CJK Radicals Supplement"](R)||vt["CJK Strokes"](R)||vt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||vt["CJK Unified Ideographs Extension A"](R)||vt["CJK Unified Ideographs"](R)||vt["Enclosed CJK Letters and Months"](R)||vt["Hangul Compatibility Jamo"](R)||vt["Hangul Jamo Extended-A"](R)||vt["Hangul Jamo Extended-B"](R)||vt["Hangul Jamo"](R)||vt["Hangul Syllables"](R)||vt.Hiragana(R)||vt["Ideographic Description Characters"](R)||vt.Kanbun(R)||vt["Kangxi Radicals"](R)||vt["Katakana Phonetic Extensions"](R)||vt.Katakana(R)&&R!==12540||vt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||vt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||vt["Unified Canadian Aboriginal Syllabics"](R)||vt["Unified Canadian Aboriginal Syllabics Extended"](R)||vt["Vertical Forms"](R)||vt["Yijing Hexagram Symbols"](R)||vt["Yi Syllables"](R)||vt["Yi Radicals"](R))}function Xr(R){return!!(vt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||vt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||vt["Letterlike Symbols"](R)||vt["Number Forms"](R)||vt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||vt["Control Pictures"](R)&&R!==9251||vt["Optical Character Recognition"](R)||vt["Enclosed Alphanumerics"](R)||vt["Geometric Shapes"](R)||vt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||vt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||vt["CJK Symbols and Punctuation"](R)||vt.Katakana(R)||vt["Private Use Area"](R)||vt["CJK Compatibility Forms"](R)||vt["Small Form Variants"](R)||vt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function qr(R){return!(Sr(R)||Xr(R))}function Dr(R){return vt.Arabic(R)||vt["Arabic Supplement"](R)||vt["Arabic Extended-A"](R)||vt["Arabic Presentation Forms-A"](R)||vt["Arabic Presentation Forms-B"](R)}function Ur(R){return R>=1424&&R<=2303||vt["Arabic Presentation Forms-A"](R)||vt["Arabic Presentation Forms-B"](R)}function Yr(R,D){return!(!D&&Ur(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||vt.Khmer(R))}function en(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(Ur(ne.charCodeAt(0)))return!0}return!1}function ln(R,D){for(var H=0,ne=R;H<ne.length;H+=1){var ve=ne[H];if(!Yr(ve.charCodeAt(0),D))return!1}return!0}var Zr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},On=null,Vn=Zr.unavailable,Xn=null,ta=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(Vn=Zr.error),On&&On(R)};function ya(){ga.fire(new Zt("pluginStateChange",{pluginStatus:Vn,pluginURL:Xn}))}var ga=new sr,za=function(){return Vn},Aa=function(R){return R({pluginStatus:Vn,pluginURL:Xn}),ga.on("pluginStateChange",R),R},_a=function(R,D,H){if(H===void 0&&(H=!1),Vn===Zr.deferred||Vn===Zr.loading||Vn===Zr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Xn=ie.resolveURL(R),Vn=Zr.deferred,On=D,ya(),H||Xa()},Xa=function(){if(Vn!==Zr.deferred||!Xn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vn=Zr.loading,ya(),Xn&&Mt({url:Xn},function(R){R?ta(R):(Vn=Zr.loaded,ya())})},$a={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Vn===Zr.loaded||$a.applyArabicShaping!=null},isLoading:function(){return Vn===Zr.loading},setState:function(D){Vn=D.pluginStatus,Xn=D.pluginURL},isParsed:function(){return $a.applyArabicShaping!=null&&$a.processBidirectionalText!=null&&$a.processStyledBidirectionalText!=null},getPluginURL:function(){return Xn}},oi=function(){!$a.isLoading()&&!$a.isLoaded()&&za()==="deferred"&&Xa()},Bn=function(D,H){this.zoom=D,H?(this.now=H.now,this.fadeDuration=H.fadeDuration,this.zoomHistory=H.zoomHistory,this.transition=H.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pt,this.transition={})};Bn.prototype.isSupportedScript=function(D){return ln(D,$a.isLoaded())},Bn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Bn.prototype.getCrossfadeParameters=function(){var D=this.zoom,H=D-Math.floor(D),ne=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:H+(1-H)*ne}:{fromScale:.5,toScale:1,t:1-(1-ne)*H}};var Fa=function(D,H){this.property=D,this.value=H,this.expression=Of(H===void 0?D.specification.default:H,D.specification)};Fa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Fa.prototype.possiblyEvaluate=function(D,H,ne){return this.property.possiblyEvaluate(this,D,H,ne)};var Da=function(D){this.property=D,this.value=new Fa(D,void 0)};Da.prototype.transitioned=function(D,H){return new wi(this.property,this.value,H,o({},D.transition,this.transition),D.now)},Da.prototype.untransitioned=function(){return new wi(this.property,this.value,null,{},0)};var Ha=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};Ha.prototype.getValue=function(D){return x(this._values[D].value.value)},Ha.prototype.setValue=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Da(this._values[D].property)),this._values[D].value=new Fa(this._values[D].property,H===null?void 0:x(H))},Ha.prototype.getTransition=function(D){return x(this._values[D].transition)},Ha.prototype.setTransition=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Da(this._values[D].property)),this._values[D].transition=x(H)||void 0},Ha.prototype.serialize=function(){for(var D={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H],be=this.getValue(ve);be!==void 0&&(D[ve]=be);var Ce=this.getTransition(ve);Ce!==void 0&&(D[ve+"-transition"]=Ce)}return D},Ha.prototype.transitioned=function(D,H){for(var ne=new Ii(this._properties),ve=0,be=Object.keys(this._values);ve<be.length;ve+=1){var Ce=be[ve];ne._values[Ce]=this._values[Ce].transitioned(D,H._values[Ce])}return ne},Ha.prototype.untransitioned=function(){for(var D=new Ii(this._properties),H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H];D._values[ve]=this._values[ve].untransitioned()}return D};var wi=function(D,H,ne,ve,be){this.property=D,this.value=H,this.begin=be+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ne)};wi.prototype.possiblyEvaluate=function(D,H,ne){var ve=D.now||0,be=this.value.possiblyEvaluate(D,H,ne),Ce=this.prior;if(Ce){if(ve>this.end)return this.prior=null,be;if(this.value.isDataDriven())return this.prior=null,be;if(ve<this.begin)return Ce.possiblyEvaluate(D,H,ne);var Ze=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Ce.possiblyEvaluate(D,H,ne),be,a(Ze))}else return be};var Ii=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};Ii.prototype.possiblyEvaluate=function(D,H,ne){for(var ve=new li(this._properties),be=0,Ce=Object.keys(this._values);be<Ce.length;be+=1){var Ze=Ce[be];ve._values[Ze]=this._values[Ze].possiblyEvaluate(D,H,ne)}return ve},Ii.prototype.hasTransition=function(){for(var D=0,H=Object.keys(this._values);D<H.length;D+=1){var ne=H[D];if(this._values[ne].prior)return!0}return!1};var zi=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};zi.prototype.getValue=function(D){return x(this._values[D].value)},zi.prototype.setValue=function(D,H){this._values[D]=new Fa(this._values[D].property,H===null?void 0:x(H))},zi.prototype.serialize=function(){for(var D={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var ve=ne[H],be=this.getValue(ve);be!==void 0&&(D[ve]=be)}return D},zi.prototype.possiblyEvaluate=function(D,H,ne){for(var ve=new li(this._properties),be=0,Ce=Object.keys(this._values);be<Ce.length;be+=1){var Ze=Ce[be];ve._values[Ze]=this._values[Ze].possiblyEvaluate(D,H,ne)}return ve};var pi=function(D,H,ne){this.property=D,this.value=H,this.parameters=ne};pi.prototype.isConstant=function(){return this.value.kind==="constant"},pi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},pi.prototype.evaluate=function(D,H,ne,ve){return this.property.evaluate(this.value,this.parameters,D,H,ne,ve)};var li=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};li.prototype.get=function(D){return this._values[D]};var da=function(D){this.specification=D};da.prototype.possiblyEvaluate=function(D,H){return D.expression.evaluate(H)},da.prototype.interpolate=function(D,H,ne){var ve=ul[this.specification.type];return ve?ve(D,H,ne):D};var wa=function(D,H){this.specification=D,this.overrides=H};wa.prototype.possiblyEvaluate=function(D,H,ne,ve){return D.expression.kind==="constant"||D.expression.kind==="camera"?new pi(this,{kind:"constant",value:D.expression.evaluate(H,null,{},ne,ve)},H):new pi(this,D.expression,H)},wa.prototype.interpolate=function(D,H,ne){if(D.value.kind!=="constant"||H.value.kind!=="constant")return D;if(D.value.value===void 0||H.value.value===void 0)return new pi(this,{kind:"constant",value:void 0},D.parameters);var ve=ul[this.specification.type];return ve?new pi(this,{kind:"constant",value:ve(D.value.value,H.value.value,ne)},D.parameters):D},wa.prototype.evaluate=function(D,H,ne,ve,be,Ce){return D.kind==="constant"?D.value:D.evaluate(H,ne,ve,be,Ce)};var gi=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve,be,Ce){if(ne.value===void 0)return new pi(this,{kind:"constant",value:void 0},ve);if(ne.expression.kind==="constant"){var Ze=ne.expression.evaluate(ve,null,{},be,Ce),ht=ne.property.specification.type==="resolvedImage",At=ht&&typeof Ze!="string"?Ze.name:Ze,Et=this._calculate(At,At,At,ve);return new pi(this,{kind:"constant",value:Et},ve)}else if(ne.expression.kind==="camera"){var Wt=this._calculate(ne.expression.evaluate({zoom:ve.zoom-1}),ne.expression.evaluate({zoom:ve.zoom}),ne.expression.evaluate({zoom:ve.zoom+1}),ve);return new pi(this,{kind:"constant",value:Wt},ve)}else return new pi(this,ne.expression,ve)},D.prototype.evaluate=function(ne,ve,be,Ce,Ze,ht){if(ne.kind==="source"){var At=ne.evaluate(ve,be,Ce,Ze,ht);return this._calculate(At,At,At,ve)}else return ne.kind==="composite"?this._calculate(ne.evaluate({zoom:Math.floor(ve.zoom)-1},be,Ce),ne.evaluate({zoom:Math.floor(ve.zoom)},be,Ce),ne.evaluate({zoom:Math.floor(ve.zoom)+1},be,Ce),ve):ne.value},D.prototype._calculate=function(ne,ve,be,Ce){var Ze=Ce.zoom;return Ze>Ce.zoomHistory.lastIntegerZoom?{from:ne,to:ve}:{from:be,to:ve}},D.prototype.interpolate=function(ne){return ne},D}(wa),ki=function(D){this.specification=D};ki.prototype.possiblyEvaluate=function(D,H,ne,ve){if(D.value!==void 0)if(D.expression.kind==="constant"){var be=D.expression.evaluate(H,null,{},ne,ve);return this._calculate(be,be,be,H)}else return this._calculate(D.expression.evaluate(new Bn(Math.floor(H.zoom-1),H)),D.expression.evaluate(new Bn(Math.floor(H.zoom),H)),D.expression.evaluate(new Bn(Math.floor(H.zoom+1),H)),H)},ki.prototype._calculate=function(D,H,ne,ve){var be=ve.zoom;return be>ve.zoomHistory.lastIntegerZoom?{from:D,to:H}:{from:ne,to:H}},ki.prototype.interpolate=function(D){return D};var Po=function(D){this.specification=D};Po.prototype.possiblyEvaluate=function(D,H,ne,ve){return!!D.expression.evaluate(H,null,{},ne,ve)},Po.prototype.interpolate=function(){return!1};var Xi=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var H in D){var ne=D[H];ne.specification.overridable&&this.overridableProperties.push(H);var ve=this.defaultPropertyValues[H]=new Fa(ne,void 0),be=this.defaultTransitionablePropertyValues[H]=new Da(ne);this.defaultTransitioningPropertyValues[H]=be.untransitioned(),this.defaultPossiblyEvaluatedValues[H]=ve.possiblyEvaluate({})}};se("DataDrivenProperty",wa),se("DataConstantProperty",da),se("CrossFadedDataDrivenProperty",gi),se("CrossFadedProperty",ki),se("ColorRampProperty",Po);var co="-transition",Mi=function(R){function D(H,ne){if(R.call(this),this.id=H.id,this.type=H.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},H.type!=="custom"&&(H=H,this.metadata=H.metadata,this.minzoom=H.minzoom,this.maxzoom=H.maxzoom,H.type!=="background"&&(this.source=H.source,this.sourceLayer=H["source-layer"],this.filter=H.filter),ne.layout&&(this._unevaluatedLayout=new zi(ne.layout)),ne.paint)){this._transitionablePaint=new Ha(ne.paint);for(var ve in H.paint)this.setPaintProperty(ve,H.paint[ve],{validate:!1});for(var be in H.layout)this.setLayoutProperty(be,H.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new li(ne.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ne){return ne==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ne)},D.prototype.setLayoutProperty=function(ne,ve,be){if(be===void 0&&(be={}),ve!=null){var Ce="layers."+this.id+".layout."+ne;if(this._validate(ca,Ce,ne,ve,be))return}if(ne==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ne,ve)},D.prototype.getPaintProperty=function(ne){return b(ne,co)?this._transitionablePaint.getTransition(ne.slice(0,-co.length)):this._transitionablePaint.getValue(ne)},D.prototype.setPaintProperty=function(ne,ve,be){if(be===void 0&&(be={}),ve!=null){var Ce="layers."+this.id+".paint."+ne;if(this._validate(Pn,Ce,ne,ve,be))return!1}if(b(ne,co))return this._transitionablePaint.setTransition(ne.slice(0,-co.length),ve||void 0),!1;var Ze=this._transitionablePaint._values[ne],ht=Ze.property.specification["property-type"]==="cross-faded-data-driven",At=Ze.value.isDataDriven(),Et=Ze.value;this._transitionablePaint.setValue(ne,ve),this._handleSpecialPaintPropertyUpdate(ne);var Wt=this._transitionablePaint._values[ne].value,ir=Wt.isDataDriven();return ir||At||ht||this._handleOverridablePaintPropertyUpdate(ne,Et,Wt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,be){return!1},D.prototype.isHidden=function(ne){return this.minzoom&&ne<this.minzoom||this.maxzoom&&ne>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ne){this._transitioningPaint=this._transitionablePaint.transitioned(ne,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ne,ve){ne.getCrossfadeParameters&&(this._crossfadeParameters=ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ne,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ne,void 0,ve)},D.prototype.serialize=function(){var ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ne.layout=ne.layout||{},ne.layout.visibility=this.visibility),P(ne,function(ve,be){return ve!==void 0&&!(be==="layout"&&!Object.keys(ve).length)&&!(be==="paint"&&!Object.keys(ve).length)})},D.prototype._validate=function(ne,ve,be,Ce,Ze){return Ze===void 0&&(Ze={}),Ze&&Ze.validate===!1?!1:Ma(this,ne.call(pn,{key:ve,layerType:this.type,objectKey:be,value:Ce,styleSpec:Xt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ne in this.paint._values){var ve=this.paint.get(ne);if(!(!(ve instanceof pi)||!xs(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},D}(sr),Fo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},hi=function(D,H){this._structArray=D,this._pos1=H*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ns=128,ko=5,Ga=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ga.serialize=function(D,H){return D._trim(),H&&(D.isTransferred=!0,H.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Ga.deserialize=function(D){var H=Object.create(this.prototype);return H.arrayBuffer=D.arrayBuffer,H.length=D.length,H.capacity=D.arrayBuffer.byteLength/H.bytesPerElement,H._refreshViews(),H},Ga.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ga.prototype.clear=function(){this.length=0},Ga.prototype.resize=function(D){this.reserve(D),this.length=D},Ga.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*ko),ns),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var H=this.uint8;this._refreshViews(),H&&this.uint8.set(H)}},Ga.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function yi(R,D){D===void 0&&(D=1);var H=0,ne=0,ve=R.map(function(Ce){var Ze=Gf(Ce.type),ht=H=hf(H,Math.max(D,Ze)),At=Ce.components||1;return ne=Math.max(ne,Ze),H+=Ze*At,{name:Ce.name,type:Ce.type,components:At,offset:ht}}),be=hf(H,Math.max(ne,D));return{members:ve,size:be,alignment:D}}function Gf(R){return Fo[R].BYTES_PER_ELEMENT}function hf(R,D){return Math.ceil(R/D)*D}var Dc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Ce=ne*2;return this.int16[Ce+0]=ve,this.int16[Ce+1]=be,ne},D}(Ga);Dc.prototype.bytesPerElement=4,se("StructArrayLayout2i4",Dc);var Eu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,ne,ve,be,Ce)},D.prototype.emplace=function(ne,ve,be,Ce,Ze){var ht=ne*4;return this.int16[ht+0]=ve,this.int16[ht+1]=be,this.int16[ht+2]=Ce,this.int16[ht+3]=Ze,ne},D}(Ga);Eu.prototype.bytesPerElement=8,se("StructArrayLayout4i8",Eu);var Wf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht){var At=this.length;return this.resize(At+1),this.emplace(At,ne,ve,be,Ce,Ze,ht)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At){var Et=ne*6;return this.int16[Et+0]=ve,this.int16[Et+1]=be,this.int16[Et+2]=Ce,this.int16[Et+3]=Ze,this.int16[Et+4]=ht,this.int16[Et+5]=At,ne},D}(Ga);Wf.prototype.bytesPerElement=12,se("StructArrayLayout2i4i12",Wf);var nh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht){var At=this.length;return this.resize(At+1),this.emplace(At,ne,ve,be,Ce,Ze,ht)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At){var Et=ne*4,Wt=ne*8;return this.int16[Et+0]=ve,this.int16[Et+1]=be,this.uint8[Wt+4]=Ce,this.uint8[Wt+5]=Ze,this.uint8[Wt+6]=ht,this.uint8[Wt+7]=At,ne},D}(Ga);nh.prototype.bytesPerElement=8,se("StructArrayLayout2i4ub8",nh);var Wo=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir){var $t=this.length;return this.resize($t+1),this.emplace($t,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t){var xr=ne*9,Nr=ne*18;return this.uint16[xr+0]=ve,this.uint16[xr+1]=be,this.uint16[xr+2]=Ce,this.uint16[xr+3]=Ze,this.uint16[xr+4]=ht,this.uint16[xr+5]=At,this.uint16[xr+6]=Et,this.uint16[xr+7]=Wt,this.uint8[Nr+16]=ir,this.uint8[Nr+17]=$t,ne},D}(Ga);Wo.prototype.bytesPerElement=18,se("StructArrayLayout8ui2ub18",Wo);var Cu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr){var Nr=this.length;return this.resize(Nr+1),this.emplace(Nr,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr){var tn=ne*12;return this.int16[tn+0]=ve,this.int16[tn+1]=be,this.int16[tn+2]=Ce,this.int16[tn+3]=Ze,this.uint16[tn+4]=ht,this.uint16[tn+5]=At,this.uint16[tn+6]=Et,this.uint16[tn+7]=Wt,this.int16[tn+8]=ir,this.int16[tn+9]=$t,this.int16[tn+10]=xr,this.int16[tn+11]=Nr,ne},D}(Ga);Cu.prototype.bytesPerElement=24,se("StructArrayLayout4i4ui4i24",Cu);var $h=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Ce){var Ze=ne*3;return this.float32[Ze+0]=ve,this.float32[Ze+1]=be,this.float32[Ze+2]=Ce,ne},D}(Ga);$h.prototype.bytesPerElement=12,se("StructArrayLayout3f12",$h);var qh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.uint32[be+0]=ve,ne},D}(Ga);qh.prototype.bytesPerElement=4,se("StructArrayLayout1ul4",qh);var Ic=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ne,ve,be,Ce,Ze,ht,At,Et,Wt)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir){var $t=ne*10,xr=ne*5;return this.int16[$t+0]=ve,this.int16[$t+1]=be,this.int16[$t+2]=Ce,this.int16[$t+3]=Ze,this.int16[$t+4]=ht,this.int16[$t+5]=At,this.uint32[xr+3]=Et,this.uint16[$t+8]=Wt,this.uint16[$t+9]=ir,ne},D}(Ga);Ic.prototype.bytesPerElement=20,se("StructArrayLayout6i1ul2ui20",Ic);var ah=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht){var At=this.length;return this.resize(At+1),this.emplace(At,ne,ve,be,Ce,Ze,ht)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At){var Et=ne*6;return this.int16[Et+0]=ve,this.int16[Et+1]=be,this.int16[Et+2]=Ce,this.int16[Et+3]=Ze,this.int16[Et+4]=ht,this.int16[Et+5]=At,ne},D}(Ga);ah.prototype.bytesPerElement=12,se("StructArrayLayout2i2i2i12",ah);var Kl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze){var ht=this.length;return this.resize(ht+1),this.emplace(ht,ne,ve,be,Ce,Ze)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht){var At=ne*4,Et=ne*8;return this.float32[At+0]=ve,this.float32[At+1]=be,this.float32[At+2]=Ce,this.int16[Et+6]=Ze,this.int16[Et+7]=ht,ne},D}(Ga);Kl.prototype.bytesPerElement=16,se("StructArrayLayout2f1f2i16",Kl);var as=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,ne,ve,be,Ce)},D.prototype.emplace=function(ne,ve,be,Ce,Ze){var ht=ne*12,At=ne*3;return this.uint8[ht+0]=ve,this.uint8[ht+1]=be,this.float32[At+1]=Ce,this.float32[At+2]=Ze,ne},D}(Ga);as.prototype.bytesPerElement=12,se("StructArrayLayout2ub2f12",as);var Jl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Ce){var Ze=ne*3;return this.uint16[Ze+0]=ve,this.uint16[Ze+1]=be,this.uint16[Ze+2]=Ce,ne},D}(Ga);Jl.prototype.bytesPerElement=6,se("StructArrayLayout3ui6",Jl);var _c=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn){var An=this.length;return this.resize(An+1),this.emplace(An,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn,An){var Rn=ne*24,Un=ne*12,Jn=ne*48;return this.int16[Rn+0]=ve,this.int16[Rn+1]=be,this.uint16[Rn+2]=Ce,this.uint16[Rn+3]=Ze,this.uint32[Un+2]=ht,this.uint32[Un+3]=At,this.uint32[Un+4]=Et,this.uint16[Rn+10]=Wt,this.uint16[Rn+11]=ir,this.uint16[Rn+12]=$t,this.float32[Un+7]=xr,this.float32[Un+8]=Nr,this.uint8[Jn+36]=tn,this.uint8[Jn+37]=$r,this.uint8[Jn+38]=Mn,this.uint32[Un+10]=gn,this.int16[Rn+22]=An,ne},D}(Ga);_c.prototype.bytesPerElement=48,se("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_c);var ih=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn,An,Rn,Un,Jn,jn,Ta,fa,pa,ka,xa,ba){var Ua=this.length;return this.resize(Ua+1),this.emplace(Ua,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn,An,Rn,Un,Jn,jn,Ta,fa,pa,ka,xa,ba)},D.prototype.emplace=function(ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn,An,Rn,Un,Jn,jn,Ta,fa,pa,ka,xa,ba,Ua){var Ia=ne*34,qa=ne*17;return this.int16[Ia+0]=ve,this.int16[Ia+1]=be,this.int16[Ia+2]=Ce,this.int16[Ia+3]=Ze,this.int16[Ia+4]=ht,this.int16[Ia+5]=At,this.int16[Ia+6]=Et,this.int16[Ia+7]=Wt,this.uint16[Ia+8]=ir,this.uint16[Ia+9]=$t,this.uint16[Ia+10]=xr,this.uint16[Ia+11]=Nr,this.uint16[Ia+12]=tn,this.uint16[Ia+13]=$r,this.uint16[Ia+14]=Mn,this.uint16[Ia+15]=gn,this.uint16[Ia+16]=An,this.uint16[Ia+17]=Rn,this.uint16[Ia+18]=Un,this.uint16[Ia+19]=Jn,this.uint16[Ia+20]=jn,this.uint16[Ia+21]=Ta,this.uint16[Ia+22]=fa,this.uint32[qa+12]=pa,this.float32[qa+13]=ka,this.float32[qa+14]=xa,this.float32[qa+15]=ba,this.float32[qa+16]=Ua,ne},D}(Ga);ih.prototype.bytesPerElement=68,se("StructArrayLayout8i15ui1ul4f68",ih);var Yf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.float32[be+0]=ve,ne},D}(Ga);Yf.prototype.bytesPerElement=4,se("StructArrayLayout1f4",Yf);var ev=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Ce){var Ze=ne*3;return this.int16[Ze+0]=ve,this.int16[Ze+1]=be,this.int16[Ze+2]=Ce,ne},D}(Ga);ev.prototype.bytesPerElement=6,se("StructArrayLayout3i6",ev);var Lu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Ce){var Ze=ne*2,ht=ne*4;return this.uint32[Ze+0]=ve,this.uint16[ht+2]=be,this.uint16[ht+3]=Ce,ne},D}(Ga);Lu.prototype.bytesPerElement=8,se("StructArrayLayout1ul2ui8",Lu);var Fc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Ce=ne*2;return this.uint16[Ce+0]=ve,this.uint16[Ce+1]=be,ne},D}(Ga);Fc.prototype.bytesPerElement=4,se("StructArrayLayout2ui4",Fc);var Zf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.uint16[be+0]=ve,ne},D}(Ga);Zf.prototype.bytesPerElement=2,se("StructArrayLayout1ui2",Zf);var Pu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Ce=ne*2;return this.float32[Ce+0]=ve,this.float32[Ce+1]=be,ne},D}(Ga);Pu.prototype.bytesPerElement=8,se("StructArrayLayout2f8",Pu);var tv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Ce){var Ze=this.length;return this.resize(Ze+1),this.emplace(Ze,ne,ve,be,Ce)},D.prototype.emplace=function(ne,ve,be,Ce,Ze){var ht=ne*4;return this.float32[ht+0]=ve,this.float32[ht+1]=be,this.float32[ht+2]=Ce,this.float32[ht+3]=Ze,ne},D}(Ga);tv.prototype.bytesPerElement=16,se("StructArrayLayout4f16",tv);var rd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return H.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},H.x1.get=function(){return this._structArray.int16[this._pos2+2]},H.y1.get=function(){return this._structArray.int16[this._pos2+3]},H.x2.get=function(){return this._structArray.int16[this._pos2+4]},H.y2.get=function(){return this._structArray.int16[this._pos2+5]},H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,H),D}(hi);rd.prototype.size=20;var Ru=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new rd(this,ne)},D}(Ic);se("CollisionBoxArray",Ru);var rv=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},H.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},H.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},H.segment.get=function(){return this._structArray.uint16[this._pos2+10]},H.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},H.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},H.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},H.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},H.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},H.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},H.placedOrientation.set=function(ne){this._structArray.uint8[this._pos1+37]=ne},H.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},H.hidden.set=function(ne){this._structArray.uint8[this._pos1+38]=ne},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+10]=ne},H.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,H),D}(hi);rv.prototype.size=48;var Xf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new rv(this,ne)},D}(_c);se("PlacedSymbolArray",Xf);var nd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},H.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},H.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},H.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},H.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},H.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},H.key.get=function(){return this._structArray.uint16[this._pos2+8]},H.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},H.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},H.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},H.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},H.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},H.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},H.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},H.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},H.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},H.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},H.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},H.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},H.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+12]=ne},H.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},H.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},H.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},H.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,H),D}(hi);nd.prototype.size=68;var ad=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new nd(this,ne)},D}(ih);se("SymbolInstanceArray",ad);var el=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ne){return this.float32[ne*1+0]},D}(Yf);se("GlyphOffsetArray",el);var id=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ne){return this.int16[ne*3+0]},D.prototype.gety=function(ne){return this.int16[ne*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ne){return this.int16[ne*3+2]},D}(ev);se("SymbolLineVertexArray",id);var od=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,H),D}(hi);od.prototype.size=8;var nv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new od(this,ne)},D}(Lu);se("FeatureIndexArray",nv);var sd=yi([{name:"a_pos",components:2,type:"Int16"}],4),fe=sd.members,Z=function(D){D===void 0&&(D=[]),this.segments=D};Z.prototype.prepareSegment=function(D,H,ne,ve){var be=this.segments[this.segments.length-1];return D>Z.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+Z.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!be||be.vertexLength+D>Z.MAX_VERTEX_ARRAY_LENGTH||be.sortKey!==ve)&&(be={vertexOffset:H.length,primitiveOffset:ne.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(be.sortKey=ve),this.segments.push(be)),be},Z.prototype.get=function(){return this.segments},Z.prototype.destroy=function(){for(var D=0,H=this.segments;D<H.length;D+=1){var ne=H[D];for(var ve in ne.vaos)ne.vaos[ve].destroy()}},Z.simpleSegment=function(D,H,ne,ve){return new Z([{vertexOffset:D,primitiveOffset:H,vertexLength:ne,primitiveLength:ve,vaos:{},sortKey:0}])},Z.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,se("SegmentVector",Z);function de(R,D){return R=u(Math.floor(R),0,255),D=u(Math.floor(D),0,255),256*R+D}var te=yi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),pe=C(function(R){function D(H,ne){var ve,be,Ce,Ze,ht,At,Et,Wt;for(ve=H.length&3,be=H.length-ve,Ce=ne,ht=3432918353,At=461845907,Wt=0;Wt<be;)Et=H.charCodeAt(Wt)&255|(H.charCodeAt(++Wt)&255)<<8|(H.charCodeAt(++Wt)&255)<<16|(H.charCodeAt(++Wt)&255)<<24,++Wt,Et=(Et&65535)*ht+(((Et>>>16)*ht&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*At+(((Et>>>16)*At&65535)<<16)&4294967295,Ce^=Et,Ce=Ce<<13|Ce>>>19,Ze=(Ce&65535)*5+(((Ce>>>16)*5&65535)<<16)&4294967295,Ce=(Ze&65535)+27492+(((Ze>>>16)+58964&65535)<<16);switch(Et=0,ve){case 3:Et^=(H.charCodeAt(Wt+2)&255)<<16;case 2:Et^=(H.charCodeAt(Wt+1)&255)<<8;case 1:Et^=H.charCodeAt(Wt)&255,Et=(Et&65535)*ht+(((Et>>>16)*ht&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*At+(((Et>>>16)*At&65535)<<16)&4294967295,Ce^=Et}return Ce^=H.length,Ce^=Ce>>>16,Ce=(Ce&65535)*2246822507+(((Ce>>>16)*2246822507&65535)<<16)&4294967295,Ce^=Ce>>>13,Ce=(Ce&65535)*3266489909+(((Ce>>>16)*3266489909&65535)<<16)&4294967295,Ce^=Ce>>>16,Ce>>>0}R.exports=D}),Re=C(function(R){function D(H,ne){for(var ve=H.length,be=ne^ve,Ce=0,Ze;ve>=4;)Ze=H.charCodeAt(Ce)&255|(H.charCodeAt(++Ce)&255)<<8|(H.charCodeAt(++Ce)&255)<<16|(H.charCodeAt(++Ce)&255)<<24,Ze=(Ze&65535)*1540483477+(((Ze>>>16)*1540483477&65535)<<16),Ze^=Ze>>>24,Ze=(Ze&65535)*1540483477+(((Ze>>>16)*1540483477&65535)<<16),be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)^Ze,ve-=4,++Ce;switch(ve){case 3:be^=(H.charCodeAt(Ce+2)&255)<<16;case 2:be^=(H.charCodeAt(Ce+1)&255)<<8;case 1:be^=H.charCodeAt(Ce)&255,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)}return be^=be>>>13,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16),be^=be>>>15,be>>>0}R.exports=D}),We=pe,st=pe,Tt=Re;We.murmur3=st,We.murmur2=Tt;var Bt=function(){this.ids=[],this.positions=[],this.indexed=!1};Bt.prototype.add=function(D,H,ne,ve){this.ids.push(ur(D)),this.positions.push(H,ne,ve)},Bt.prototype.getPositions=function(D){for(var H=ur(D),ne=0,ve=this.ids.length-1;ne<ve;){var be=ne+ve>>1;this.ids[be]>=H?ve=be:ne=be+1}for(var Ce=[];this.ids[ne]===H;){var Ze=this.positions[3*ne],ht=this.positions[3*ne+1],At=this.positions[3*ne+2];Ce.push({index:Ze,start:ht,end:At}),ne++}return Ce},Bt.serialize=function(D,H){var ne=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return mr(ne,ve,0,ne.length-1),H&&H.push(ne.buffer,ve.buffer),{ids:ne,positions:ve}},Bt.deserialize=function(D){var H=new Bt;return H.ids=D.ids,H.positions=D.positions,H.indexed=!0,H};var Jt=Math.pow(2,53)-1;function ur(R){var D=+R;return!isNaN(D)&&D<=Jt?D:We(String(R))}function mr(R,D,H,ne){for(;H<ne;){for(var ve=R[H+ne>>1],be=H-1,Ce=ne+1;;){do be++;while(R[be]<ve);do Ce--;while(R[Ce]>ve);if(be>=Ce)break;Ir(R,be,Ce),Ir(D,3*be,3*Ce),Ir(D,3*be+1,3*Ce+1),Ir(D,3*be+2,3*Ce+2)}Ce-H<ne-Ce?(mr(R,D,H,Ce),H=Ce+1):(mr(R,D,Ce+1,ne),ne=Ce)}}function Ir(R,D,H){var ne=R[D];R[D]=R[H],R[H]=ne}se("FeaturePositionMap",Bt);var Vr=function(D,H){this.gl=D.gl,this.location=H},Gr=function(R){function D(H,ne){R.call(this,H,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1i(this.location,ne))},D}(Vr),Hr=function(R){function D(H,ne){R.call(this,H,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1f(this.location,ne))},D}(Vr),Qr=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1])&&(this.current=ne,this.gl.uniform2f(this.location,ne[0],ne[1]))},D}(Vr),on=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2])&&(this.current=ne,this.gl.uniform3f(this.location,ne[0],ne[1],ne[2]))},D}(Vr),Sn=function(R){function D(H,ne){R.call(this,H,ne),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2]||ne[3]!==this.current[3])&&(this.current=ne,this.gl.uniform4f(this.location,ne[0],ne[1],ne[2],ne[3]))},D}(Vr),kn=function(R){function D(H,ne){R.call(this,H,ne),this.current=Qa.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne.r!==this.current.r||ne.g!==this.current.g||ne.b!==this.current.b||ne.a!==this.current.a)&&(this.current=ne,this.gl.uniform4f(this.location,ne.r,ne.g,ne.b,ne.a))},D}(Vr),Wn=new Float32Array(16),Zn=function(R){function D(H,ne){R.call(this,H,ne),this.current=Wn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){if(ne[12]!==this.current[12]||ne[0]!==this.current[0]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);return}for(var ve=1;ve<16;ve++)if(ne[ve]!==this.current[ve]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);break}},D}(Vr);function Yn(R){return[de(255*R.r,255*R.g),de(255*R.b,255*R.a)]}var qn=function(D,H,ne){this.value=D,this.uniformNames=H.map(function(ve){return"u_"+ve}),this.type=ne};qn.prototype.setUniform=function(D,H,ne){D.set(ne.constantOr(this.value))},qn.prototype.getBinding=function(D,H,ne){return this.type==="color"?new kn(D,H):new Hr(D,H)};var ua=function(D,H){this.uniformNames=H.map(function(ne){return"u_"+ne}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ua.prototype.setConstantPatternPositions=function(D,H){this.pixelRatioFrom=H.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=H.tlbr,this.patternTo=D.tlbr},ua.prototype.setUniform=function(D,H,ne,ve){var be=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;be&&D.set(be)},ua.prototype.getBinding=function(D,H,ne){return ne.substr(0,9)==="u_pattern"?new Sn(D,H):new Hr(D,H)};var la=function(D,H,ne,ve){this.expression=D,this.type=ne,this.maxValue=0,this.paintVertexAttributes=H.map(function(be){return{name:"a_"+be,type:"Float32",components:ne==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};la.prototype.populatePaintArray=function(D,H,ne,ve,be){var Ce=this.paintVertexArray.length,Ze=this.expression.evaluate(new Bn(0),H,{},ve,[],be);this.paintVertexArray.resize(D),this._setPaintValue(Ce,D,Ze)},la.prototype.updatePaintArray=function(D,H,ne,ve){var be=this.expression.evaluate({zoom:0},ne,ve);this._setPaintValue(D,H,be)},la.prototype._setPaintValue=function(D,H,ne){if(this.type==="color")for(var ve=Yn(ne),be=D;be<H;be++)this.paintVertexArray.emplace(be,ve[0],ve[1]);else{for(var Ce=D;Ce<H;Ce++)this.paintVertexArray.emplace(Ce,ne);this.maxValue=Math.max(this.maxValue,Math.abs(ne))}},la.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},la.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var va=function(D,H,ne,ve,be,Ce){this.expression=D,this.uniformNames=H.map(function(Ze){return"u_"+Ze+"_t"}),this.type=ne,this.useIntegerZoom=ve,this.zoom=be,this.maxValue=0,this.paintVertexAttributes=H.map(function(Ze){return{name:"a_"+Ze,type:"Float32",components:ne==="color"?4:2,offset:0}}),this.paintVertexArray=new Ce};va.prototype.populatePaintArray=function(D,H,ne,ve,be){var Ce=this.expression.evaluate(new Bn(this.zoom),H,{},ve,[],be),Ze=this.expression.evaluate(new Bn(this.zoom+1),H,{},ve,[],be),ht=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ht,D,Ce,Ze)},va.prototype.updatePaintArray=function(D,H,ne,ve){var be=this.expression.evaluate({zoom:this.zoom},ne,ve),Ce=this.expression.evaluate({zoom:this.zoom+1},ne,ve);this._setPaintValue(D,H,be,Ce)},va.prototype._setPaintValue=function(D,H,ne,ve){if(this.type==="color")for(var be=Yn(ne),Ce=Yn(ve),Ze=D;Ze<H;Ze++)this.paintVertexArray.emplace(Ze,be[0],be[1],Ce[0],Ce[1]);else{for(var ht=D;ht<H;ht++)this.paintVertexArray.emplace(ht,ne,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ne),Math.abs(ve))}},va.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},va.prototype.setUniform=function(D,H){var ne=this.useIntegerZoom?Math.floor(H.zoom):H.zoom,ve=u(this.expression.interpolationFactor(ne,this.zoom,this.zoom+1),0,1);D.set(ve)},va.prototype.getBinding=function(D,H,ne){return new Hr(D,H)};var ma=function(D,H,ne,ve,be,Ce){this.expression=D,this.type=H,this.useIntegerZoom=ne,this.zoom=ve,this.layerId=Ce,this.zoomInPaintVertexArray=new be,this.zoomOutPaintVertexArray=new be};ma.prototype.populatePaintArray=function(D,H,ne){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,H.patterns&&H.patterns[this.layerId],ne)},ma.prototype.updatePaintArray=function(D,H,ne,ve,be){this._setPaintValues(D,H,ne.patterns&&ne.patterns[this.layerId],be)},ma.prototype._setPaintValues=function(D,H,ne,ve){if(!(!ve||!ne)){var be=ne.min,Ce=ne.mid,Ze=ne.max,ht=ve[be],At=ve[Ce],Et=ve[Ze];if(!(!ht||!At||!Et))for(var Wt=D;Wt<H;Wt++)this.zoomInPaintVertexArray.emplace(Wt,At.tl[0],At.tl[1],At.br[0],At.br[1],ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],At.pixelRatio,ht.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,At.tl[0],At.tl[1],At.br[0],At.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],At.pixelRatio,Et.pixelRatio)}},ma.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,te.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,te.members,this.expression.isStateDependent))},ma.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Pa=function(D,H,ne,ve){this.binders={},this.layoutAttributes=ve,this._buffers=[];var be=[];for(var Ce in D.paint._values)if(ne(Ce)){var Ze=D.paint.get(Ce);if(!(!(Ze instanceof pi)||!xs(Ze.property.specification))){var ht=ni(Ce,D.type),At=Ze.value,Et=Ze.property.specification.type,Wt=Ze.property.useIntegerZoom,ir=Ze.property.specification["property-type"],$t=ir==="cross-faded"||ir==="cross-faded-data-driven";if(At.kind==="constant")this.binders[Ce]=$t?new ua(At.value,ht):new qn(At.value,ht,Et),be.push("/u_"+Ce);else if(At.kind==="source"||$t){var xr=Wa(Ce,Et,"source");this.binders[Ce]=$t?new ma(At,Et,Wt,H,xr,D.id):new la(At,ht,Et,xr),be.push("/a_"+Ce)}else{var Nr=Wa(Ce,Et,"composite");this.binders[Ce]=new va(At,ht,Et,Wt,H,Nr),be.push("/z_"+Ce)}}}this.cacheKey=be.sort().join("")};Pa.prototype.getMaxValue=function(D){var H=this.binders[D];return H instanceof la||H instanceof va?H.maxValue:0},Pa.prototype.populatePaintArrays=function(D,H,ne,ve,be){for(var Ce in this.binders){var Ze=this.binders[Ce];(Ze instanceof la||Ze instanceof va||Ze instanceof ma)&&Ze.populatePaintArray(D,H,ne,ve,be)}},Pa.prototype.setConstantPatternPositions=function(D,H){for(var ne in this.binders){var ve=this.binders[ne];ve instanceof ua&&ve.setConstantPatternPositions(D,H)}},Pa.prototype.updatePaintArrays=function(D,H,ne,ve,be){var Ce=!1;for(var Ze in D)for(var ht=H.getPositions(Ze),At=0,Et=ht;At<Et.length;At+=1){var Wt=Et[At],ir=ne.feature(Wt.index);for(var $t in this.binders){var xr=this.binders[$t];if((xr instanceof la||xr instanceof va||xr instanceof ma)&&xr.expression.isStateDependent===!0){var Nr=ve.paint.get($t);xr.expression=Nr.value,xr.updatePaintArray(Wt.start,Wt.end,ir,D[Ze],be),Ce=!0}}}return Ce},Pa.prototype.defines=function(){var D=[];for(var H in this.binders){var ne=this.binders[H];(ne instanceof qn||ne instanceof ua)&&D.push.apply(D,ne.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},Pa.prototype.getPaintVertexBuffers=function(){return this._buffers},Pa.prototype.getUniforms=function(D,H){var ne=[];for(var ve in this.binders){var be=this.binders[ve];if(be instanceof qn||be instanceof ua||be instanceof va)for(var Ce=0,Ze=be.uniformNames;Ce<Ze.length;Ce+=1){var ht=Ze[Ce];if(H[ht]){var At=be.getBinding(D,H[ht],ht);ne.push({name:ht,property:ve,binding:At})}}}return ne},Pa.prototype.setUniforms=function(D,H,ne,ve){for(var be=0,Ce=H;be<Ce.length;be+=1){var Ze=Ce[be],ht=Ze.name,At=Ze.property,Et=Ze.binding;this.binders[At].setUniform(Et,ve,ne.get(At),ht)}},Pa.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var H in this.binders){var ne=this.binders[H];if(D&&ne instanceof ma){var ve=D.fromScale===2?ne.zoomInPaintVertexBuffer:ne.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ne instanceof la||ne instanceof va)&&ne.paintVertexBuffer&&this._buffers.push(ne.paintVertexBuffer)}},Pa.prototype.upload=function(D){for(var H in this.binders){var ne=this.binders[H];(ne instanceof la||ne instanceof va||ne instanceof ma)&&ne.upload(D)}this.updatePaintBuffers()},Pa.prototype.destroy=function(){for(var D in this.binders){var H=this.binders[D];(H instanceof la||H instanceof va||H instanceof ma)&&H.destroy()}};var Oa=function(D,H,ne,ve){ve===void 0&&(ve=function(){return!0}),this.programConfigurations={};for(var be=0,Ce=H;be<Ce.length;be+=1){var Ze=Ce[be];this.programConfigurations[Ze.id]=new Pa(Ze,ne,ve,D)}this.needsUpload=!1,this._featureMap=new Bt,this._bufferOffset=0};Oa.prototype.populatePaintArrays=function(D,H,ne,ve,be,Ce){for(var Ze in this.programConfigurations)this.programConfigurations[Ze].populatePaintArrays(D,H,ve,be,Ce);H.id!==void 0&&this._featureMap.add(H.id,ne,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Oa.prototype.updatePaintArrays=function(D,H,ne,ve){for(var be=0,Ce=ne;be<Ce.length;be+=1){var Ze=Ce[be];this.needsUpload=this.programConfigurations[Ze.id].updatePaintArrays(D,this._featureMap,H,Ze,ve)||this.needsUpload}},Oa.prototype.get=function(D){return this.programConfigurations[D]},Oa.prototype.upload=function(D){if(this.needsUpload){for(var H in this.programConfigurations)this.programConfigurations[H].upload(D);this.needsUpload=!1}},Oa.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function ni(R,D){var H={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return H[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Na(R){var D={"line-pattern":{source:Wo,composite:Wo},"fill-pattern":{source:Wo,composite:Wo},"fill-extrusion-pattern":{source:Wo,composite:Wo}};return D[R]}function Wa(R,D,H){var ne={color:{source:Pu,composite:tv},number:{source:Yf,composite:Pu}},ve=Na(R);return ve&&ve[H]||ne[D][H]}se("ConstantBinder",qn),se("CrossFadedConstantBinder",ua),se("SourceExpressionBinder",la),se("CrossFadedCompositeBinder",ma),se("CompositeExpressionBinder",va),se("ProgramConfiguration",Pa,{omit:["_buffers"]}),se("ProgramConfigurationSet",Oa);var Sa=8192;function ai(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}var si=ai(15);function ui(R){for(var D=Sa/R.extent,H=R.loadGeometry(),ne=0;ne<H.length;ne++)for(var ve=H[ne],be=0;be<ve.length;be++){var Ce=ve[be];Ce.x=Math.round(Ce.x*D),Ce.y=Math.round(Ce.y*D),(Ce.x<si.min||Ce.x>si.max||Ce.y<si.min||Ce.y>si.max)&&(B("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ce.x=u(Ce.x,si.min,si.max),Ce.y=u(Ce.y,si.min,si.max))}return H}function Za(R,D,H,ne,ve){R.emplaceBack(D*2+(ne+1)/2,H*2+(ve+1)/2)}var mi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Dc,this.indexArray=new Jl,this.segments=new Z,this.programConfigurations=new Oa(fe,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};mi.prototype.populate=function(D,H,ne){var ve=this.layers[0],be=[],Ce=null;ve.type==="circle"&&(Ce=ve.layout.get("circle-sort-key"));for(var Ze=0,ht=D;Ze<ht.length;Ze+=1){var At=ht[Ze],Et=At.feature,Wt=At.id,ir=At.index,$t=At.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Nr={type:Et.type,id:Wt,properties:Et.properties,geometry:xr?ui(Et):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),Nr,ne)){xr||(Nr.geometry=ui(Et));var tn=Ce?Ce.evaluate(Nr,{},ne):void 0,$r={id:Wt,properties:Et.properties,type:Et.type,sourceLayerIndex:$t,index:ir,geometry:Nr.geometry,patterns:{},sortKey:tn};be.push($r)}}Ce&&be.sort(function(fa,pa){return fa.sortKey-pa.sortKey});for(var Mn=0,gn=be;Mn<gn.length;Mn+=1){var An=gn[Mn],Rn=An,Un=Rn.geometry,Jn=Rn.index,jn=Rn.sourceLayerIndex,Ta=D[Jn].feature;this.addFeature(An,Un,Jn,ne),H.featureIndex.insert(Ta,Un,Jn,jn,this.index)}},mi.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},mi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},mi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,fe),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},mi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mi.prototype.addFeature=function(D,H,ne,ve){for(var be=0,Ce=H;be<Ce.length;be+=1)for(var Ze=Ce[be],ht=0,At=Ze;ht<At.length;ht+=1){var Et=At[ht],Wt=Et.x,ir=Et.y;if(!(Wt<0||Wt>=Sa||ir<0||ir>=Sa)){var $t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),xr=$t.vertexLength;Za(this.layoutVertexArray,Wt,ir,-1,-1),Za(this.layoutVertexArray,Wt,ir,1,-1),Za(this.layoutVertexArray,Wt,ir,1,1),Za(this.layoutVertexArray,Wt,ir,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),$t.vertexLength+=4,$t.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,{},ve)},se("CircleBucket",mi,{omit:["layers"]});function Ba(R,D){for(var H=0;H<R.length;H++)if(Yo(D,R[H]))return!0;for(var ne=0;ne<D.length;ne++)if(Yo(R,D[ne]))return!0;return!!zs(R,D)}function ja(R,D,H){return!!(Yo(R,D)||xl(D,R,H))}function Oi(R,D){if(R.length===1)return bl(D,R[0]);for(var H=0;H<D.length;H++)for(var ne=D[H],ve=0;ve<ne.length;ve++)if(Yo(R,ne[ve]))return!0;for(var be=0;be<R.length;be++)if(bl(D,R[be]))return!0;for(var Ce=0;Ce<D.length;Ce++)if(zs(R,D[Ce]))return!0;return!1}function $i(R,D,H){for(var ne=0;ne<D.length;ne++){var ve=D[ne];if(R.length>=3){for(var be=0;be<ve.length;be++)if(Yo(R,ve[be]))return!0}if(ks(R,ve,H))return!0}return!1}function ks(R,D,H){if(R.length>1){if(zs(R,D))return!0;for(var ne=0;ne<D.length;ne++)if(xl(D[ne],R,H))return!0}for(var ve=0;ve<R.length;ve++)if(xl(R[ve],D,H))return!0;return!1}function zs(R,D){if(R.length===0||D.length===0)return!1;for(var H=0;H<R.length-1;H++)for(var ne=R[H],ve=R[H+1],be=0;be<D.length-1;be++){var Ce=D[be],Ze=D[be+1];if(ml(ne,ve,Ce,Ze))return!0}return!1}function ml(R,D,H,ne){return I(R,H,ne)!==I(D,H,ne)&&I(R,D,H)!==I(R,D,ne)}function xl(R,D,H){var ne=H*H;if(D.length===1)return R.distSqr(D[0])<ne;for(var ve=1;ve<D.length;ve++){var be=D[ve-1],Ce=D[ve];if(Ql(R,be,Ce)<ne)return!0}return!1}function Ql(R,D,H){var ne=D.distSqr(H);if(ne===0)return R.distSqr(D);var ve=((R.x-D.x)*(H.x-D.x)+(R.y-D.y)*(H.y-D.y))/ne;return ve<0?R.distSqr(D):ve>1?R.distSqr(H):R.distSqr(H.sub(D)._mult(ve)._add(D))}function bl(R,D){for(var H=!1,ne,ve,be,Ce=0;Ce<R.length;Ce++){ne=R[Ce];for(var Ze=0,ht=ne.length-1;Ze<ne.length;ht=Ze++)ve=ne[Ze],be=ne[ht],ve.y>D.y!=be.y>D.y&&D.x<(be.x-ve.x)*(D.y-ve.y)/(be.y-ve.y)+ve.x&&(H=!H)}return H}function Yo(R,D){for(var H=!1,ne=0,ve=R.length-1;ne<R.length;ve=ne++){var be=R[ne],Ce=R[ve];be.y>D.y!=Ce.y>D.y&&D.x<(Ce.x-be.x)*(D.y-be.y)/(Ce.y-be.y)+be.x&&(H=!H)}return H}function Du(R,D,H,ne,ve){for(var be=0,Ce=R;be<Ce.length;be+=1){var Ze=Ce[be];if(D<=Ze.x&&H<=Ze.y&&ne>=Ze.x&&ve>=Ze.y)return!0}var ht=[new t(D,H),new t(D,ve),new t(ne,ve),new t(ne,H)];if(R.length>2)for(var At=0,Et=ht;At<Et.length;At+=1){var Wt=Et[At];if(Yo(R,Wt))return!0}for(var ir=0;ir<R.length-1;ir++){var $t=R[ir],xr=R[ir+1];if(Ro($t,xr,ht))return!0}return!1}function Ro(R,D,H){var ne=H[0],ve=H[2];if(R.x<ne.x&&D.x<ne.x||R.x>ve.x&&D.x>ve.x||R.y<ne.y&&D.y<ne.y||R.y>ve.y&&D.y>ve.y)return!1;var be=I(R,D,H[0]);return be!==I(R,D,H[1])||be!==I(R,D,H[2])||be!==I(R,D,H[3])}function Ts(R,D,H){var ne=D.paint.get(R).value;return ne.kind==="constant"?ne.value:H.programConfigurations.get(D.id).getMaxValue(R)}function wl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function tl(R,D,H,ne,ve){if(!D[0]&&!D[1])return R;var be=t.convert(D)._mult(ve);H==="viewport"&&be._rotate(-ne);for(var Ce=[],Ze=0;Ze<R.length;Ze++){var ht=R[Ze];Ce.push(ht.sub(be))}return Ce}var Tl=new Xi({"circle-sort-key":new wa(Xt.layout_circle["circle-sort-key"])}),oh=new Xi({"circle-radius":new wa(Xt.paint_circle["circle-radius"]),"circle-color":new wa(Xt.paint_circle["circle-color"]),"circle-blur":new wa(Xt.paint_circle["circle-blur"]),"circle-opacity":new wa(Xt.paint_circle["circle-opacity"]),"circle-translate":new da(Xt.paint_circle["circle-translate"]),"circle-translate-anchor":new da(Xt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new da(Xt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new da(Xt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new wa(Xt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new wa(Xt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new wa(Xt.paint_circle["circle-stroke-opacity"])}),vf={paint:oh,layout:Tl},Ao=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,H=arguments.length;H--;)D+=R[H]*R[H];return Math.sqrt(D)});function kc(){var R=new Ao(4);return Ao!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function zo(R,D,H){var ne=D[0],ve=D[1],be=D[2],Ce=D[3],Ze=Math.sin(H),ht=Math.cos(H);return R[0]=ne*ht+be*Ze,R[1]=ve*ht+Ce*Ze,R[2]=ne*-Ze+be*ht,R[3]=ve*-Ze+Ce*ht,R}function zc(){var R=new Ao(9);return Ao!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function sh(R,D){var H=Math.sin(D),ne=Math.cos(D);return R[0]=ne,R[1]=H,R[2]=0,R[3]=-H,R[4]=ne,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function lh(){var R=new Ao(16);return Ao!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function ld(R){var D=new Ao(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function uh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function jf(R,D){var H=D[0],ne=D[1],ve=D[2],be=D[3],Ce=D[4],Ze=D[5],ht=D[6],At=D[7],Et=D[8],Wt=D[9],ir=D[10],$t=D[11],xr=D[12],Nr=D[13],tn=D[14],$r=D[15],Mn=H*Ze-ne*Ce,gn=H*ht-ve*Ce,An=H*At-be*Ce,Rn=ne*ht-ve*Ze,Un=ne*At-be*Ze,Jn=ve*At-be*ht,jn=Et*Nr-Wt*xr,Ta=Et*tn-ir*xr,fa=Et*$r-$t*xr,pa=Wt*tn-ir*Nr,ka=Wt*$r-$t*Nr,xa=ir*$r-$t*tn,ba=Mn*xa-gn*ka+An*pa+Rn*fa-Un*Ta+Jn*jn;return ba?(ba=1/ba,R[0]=(Ze*xa-ht*ka+At*pa)*ba,R[1]=(ve*ka-ne*xa-be*pa)*ba,R[2]=(Nr*Jn-tn*Un+$r*Rn)*ba,R[3]=(ir*Un-Wt*Jn-$t*Rn)*ba,R[4]=(ht*fa-Ce*xa-At*Ta)*ba,R[5]=(H*xa-ve*fa+be*Ta)*ba,R[6]=(tn*An-xr*Jn-$r*gn)*ba,R[7]=(Et*Jn-ir*An+$t*gn)*ba,R[8]=(Ce*ka-Ze*fa+At*jn)*ba,R[9]=(ne*fa-H*ka-be*jn)*ba,R[10]=(xr*Un-Nr*An+$r*Mn)*ba,R[11]=(Wt*An-Et*Un-$t*Mn)*ba,R[12]=(Ze*Ta-Ce*pa-ht*jn)*ba,R[13]=(H*pa-ne*Ta+ve*jn)*ba,R[14]=(Nr*gn-xr*Rn-tn*Mn)*ba,R[15]=(Et*Rn-Wt*gn+ir*Mn)*ba,R):null}function Kf(R,D,H){var ne=D[0],ve=D[1],be=D[2],Ce=D[3],Ze=D[4],ht=D[5],At=D[6],Et=D[7],Wt=D[8],ir=D[9],$t=D[10],xr=D[11],Nr=D[12],tn=D[13],$r=D[14],Mn=D[15],gn=H[0],An=H[1],Rn=H[2],Un=H[3];return R[0]=gn*ne+An*Ze+Rn*Wt+Un*Nr,R[1]=gn*ve+An*ht+Rn*ir+Un*tn,R[2]=gn*be+An*At+Rn*$t+Un*$r,R[3]=gn*Ce+An*Et+Rn*xr+Un*Mn,gn=H[4],An=H[5],Rn=H[6],Un=H[7],R[4]=gn*ne+An*Ze+Rn*Wt+Un*Nr,R[5]=gn*ve+An*ht+Rn*ir+Un*tn,R[6]=gn*be+An*At+Rn*$t+Un*$r,R[7]=gn*Ce+An*Et+Rn*xr+Un*Mn,gn=H[8],An=H[9],Rn=H[10],Un=H[11],R[8]=gn*ne+An*Ze+Rn*Wt+Un*Nr,R[9]=gn*ve+An*ht+Rn*ir+Un*tn,R[10]=gn*be+An*At+Rn*$t+Un*$r,R[11]=gn*Ce+An*Et+Rn*xr+Un*Mn,gn=H[12],An=H[13],Rn=H[14],Un=H[15],R[12]=gn*ne+An*Ze+Rn*Wt+Un*Nr,R[13]=gn*ve+An*ht+Rn*ir+Un*tn,R[14]=gn*be+An*At+Rn*$t+Un*$r,R[15]=gn*Ce+An*Et+Rn*xr+Un*Mn,R}function Hi(R,D,H){var ne=H[0],ve=H[1],be=H[2],Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r;return D===R?(R[12]=D[0]*ne+D[4]*ve+D[8]*be+D[12],R[13]=D[1]*ne+D[5]*ve+D[9]*be+D[13],R[14]=D[2]*ne+D[6]*ve+D[10]*be+D[14],R[15]=D[3]*ne+D[7]*ve+D[11]*be+D[15]):(Ce=D[0],Ze=D[1],ht=D[2],At=D[3],Et=D[4],Wt=D[5],ir=D[6],$t=D[7],xr=D[8],Nr=D[9],tn=D[10],$r=D[11],R[0]=Ce,R[1]=Ze,R[2]=ht,R[3]=At,R[4]=Et,R[5]=Wt,R[6]=ir,R[7]=$t,R[8]=xr,R[9]=Nr,R[10]=tn,R[11]=$r,R[12]=Ce*ne+Et*ve+xr*be+D[12],R[13]=Ze*ne+Wt*ve+Nr*be+D[13],R[14]=ht*ne+ir*ve+tn*be+D[14],R[15]=At*ne+$t*ve+$r*be+D[15]),R}function is(R,D,H){var ne=H[0],ve=H[1],be=H[2];return R[0]=D[0]*ne,R[1]=D[1]*ne,R[2]=D[2]*ne,R[3]=D[3]*ne,R[4]=D[4]*ve,R[5]=D[5]*ve,R[6]=D[6]*ve,R[7]=D[7]*ve,R[8]=D[8]*be,R[9]=D[9]*be,R[10]=D[10]*be,R[11]=D[11]*be,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function os(R,D,H){var ne=Math.sin(H),ve=Math.cos(H),be=D[4],Ce=D[5],Ze=D[6],ht=D[7],At=D[8],Et=D[9],Wt=D[10],ir=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=be*ve+At*ne,R[5]=Ce*ve+Et*ne,R[6]=Ze*ve+Wt*ne,R[7]=ht*ve+ir*ne,R[8]=At*ve-be*ne,R[9]=Et*ve-Ce*ne,R[10]=Wt*ve-Ze*ne,R[11]=ir*ve-ht*ne,R}function fh(R,D,H){var ne=Math.sin(H),ve=Math.cos(H),be=D[0],Ce=D[1],Ze=D[2],ht=D[3],At=D[4],Et=D[5],Wt=D[6],ir=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=be*ve+At*ne,R[1]=Ce*ve+Et*ne,R[2]=Ze*ve+Wt*ne,R[3]=ht*ve+ir*ne,R[4]=At*ve-be*ne,R[5]=Et*ve-Ce*ne,R[6]=Wt*ve-Ze*ne,R[7]=ir*ve-ht*ne,R}function av(R,D,H,ne,ve){var be=1/Math.tan(D/2),Ce;return R[0]=be/H,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=be,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ve!=null&&ve!==1/0?(Ce=1/(ne-ve),R[10]=(ve+ne)*Ce,R[14]=2*ve*ne*Ce):(R[10]=-1,R[14]=-2*ne),R}function B0(R,D,H,ne,ve,be,Ce){var Ze=1/(D-H),ht=1/(ne-ve),At=1/(be-Ce);return R[0]=-2*Ze,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ht,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*At,R[11]=0,R[12]=(D+H)*Ze,R[13]=(ve+ne)*ht,R[14]=(Ce+be)*At,R[15]=1,R}var N0=Kf;function Oc(){var R=new Ao(3);return Ao!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function U0(R){var D=new Ao(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function ch(R,D,H){return R[0]=D[0]+H[0],R[1]=D[1]+H[1],R[2]=D[2]+H[2],R}function H0(R,D,H){return R[0]=D[0]-H[0],R[1]=D[1]-H[1],R[2]=D[2]-H[2],R}function V0(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R}function iv(R,D){var H=D[0],ne=D[1],ve=D[2],be=H*H+ne*ne+ve*ve;return be>0&&(be=1/Math.sqrt(be)),R[0]=D[0]*be,R[1]=D[1]*be,R[2]=D[2]*be,R}function H2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function V2(R,D,H){var ne=D[0],ve=D[1],be=D[2],Ce=H[0],Ze=H[1],ht=H[2];return R[0]=ve*ht-be*Ze,R[1]=be*Ce-ne*ht,R[2]=ne*Ze-ve*Ce,R}function G2(R,D,H){var ne=D[0],ve=D[1],be=D[2];return R[0]=ne*H[0]+ve*H[3]+be*H[6],R[1]=ne*H[1]+ve*H[4]+be*H[7],R[2]=ne*H[2]+ve*H[5]+be*H[8],R}var W2=H0;(function(){var R=Oc();return function(D,H,ne,ve,be,Ce){var Ze,ht;for(H||(H=3),ne||(ne=0),ve?ht=Math.min(ve*H+ne,D.length):ht=D.length,Ze=ne;Ze<ht;Ze+=H)R[0]=D[Ze],R[1]=D[Ze+1],R[2]=D[Ze+2],be(R,R,Ce),D[Ze]=R[0],D[Ze+1]=R[1],D[Ze+2]=R[2];return D}})();function Y2(){var R=new Ao(4);return Ao!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function Z2(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R[3]=D[3]*H,R}function X2(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function ud(R,D,H){var ne=D[0],ve=D[1],be=D[2],Ce=D[3];return R[0]=H[0]*ne+H[4]*ve+H[8]*be+H[12]*Ce,R[1]=H[1]*ne+H[5]*ve+H[9]*be+H[13]*Ce,R[2]=H[2]*ne+H[6]*ve+H[10]*be+H[14]*Ce,R[3]=H[3]*ne+H[7]*ve+H[11]*be+H[15]*Ce,R}(function(){var R=Y2();return function(D,H,ne,ve,be,Ce){var Ze,ht;for(H||(H=4),ne||(ne=0),ve?ht=Math.min(ve*H+ne,D.length):ht=D.length,Ze=ne;Ze<ht;Ze+=H)R[0]=D[Ze],R[1]=D[Ze+1],R[2]=D[Ze+2],R[3]=D[Ze+3],be(R,R,Ce),D[Ze]=R[0],D[Ze+1]=R[1],D[Ze+2]=R[2],D[Ze+3]=R[3];return D}})();function j2(){var R=new Ao(2);return Ao!=Float32Array&&(R[0]=0,R[1]=0),R}function K2(R){var D=R[0],H=R[1];return D*D+H*H}var J2=K2;(function(){var R=j2();return function(D,H,ne,ve,be,Ce){var Ze,ht;for(H||(H=2),ne||(ne=0),ve?ht=Math.min(ve*H+ne,D.length):ht=D.length,Ze=ne;Ze<ht;Ze+=H)R[0]=D[Ze],R[1]=D[Ze+1],be(R,R,Ce),D[Ze]=R[0],D[Ze+1]=R[1];return D}})();var Q2=function(R){function D(H){R.call(this,H,vf)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new mi(ne)},D.prototype.queryRadius=function(ne){var ve=ne;return Ts("circle-radius",this,ve)+Ts("circle-stroke-width",this,ve)+wl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Ce,Ze,ht,At,Et){for(var Wt=tl(ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ht.angle,At),ir=this.paint.get("circle-radius").evaluate(ve,be),$t=this.paint.get("circle-stroke-width").evaluate(ve,be),xr=ir+$t,Nr=this.paint.get("circle-pitch-alignment")==="map",tn=Nr?Wt:$2(Wt,Et),$r=Nr?xr*At:xr,Mn=0,gn=Ce;Mn<gn.length;Mn+=1)for(var An=gn[Mn],Rn=0,Un=An;Rn<Un.length;Rn+=1){var Jn=Un[Rn],jn=Nr?Jn:Kg(Jn,Et),Ta=$r,fa=ud([],[Jn.x,Jn.y,0,1],Et);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=fa[3]/ht.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=ht.cameraToCenterDistance/fa[3]),ja(tn,jn,Ta))return!0}return!1},D}(Mi);function Kg(R,D){var H=ud([],[R.x,R.y,0,1],D);return new t(H[0]/H[3],H[1]/H[3])}function $2(R,D){return R.map(function(H){return Kg(H,D)})}var Jg=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(mi);se("HeatmapBucket",Jg,{omit:["layers"]});function G0(R,D,H,ne){var ve=D.width,be=D.height;if(!ne)ne=new Uint8Array(ve*be*H);else if(ne instanceof Uint8ClampedArray)ne=new Uint8Array(ne.buffer);else if(ne.length!==ve*be*H)throw new RangeError("mismatched image size");return R.width=ve,R.height=be,R.data=ne,R}function Qg(R,D,H){var ne=D.width,ve=D.height;if(!(ne===R.width&&ve===R.height)){var be=G0({},{width:ne,height:ve},H);W0(R,be,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ne),height:Math.min(R.height,ve)},H),R.width=ne,R.height=ve,R.data=be.data}}function W0(R,D,H,ne,ve,be){if(ve.width===0||ve.height===0)return D;if(ve.width>R.width||ve.height>R.height||H.x>R.width-ve.width||H.y>R.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>D.width||ve.height>D.height||ne.x>D.width-ve.width||ne.y>D.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ce=R.data,Ze=D.data,ht=0;ht<ve.height;ht++)for(var At=((H.y+ht)*R.width+H.x)*be,Et=((ne.y+ht)*D.width+ne.x)*be,Wt=0;Wt<ve.width*be;Wt++)Ze[Et+Wt]=Ce[At+Wt];return D}var Bc=function(D,H){G0(this,D,1,H)};Bc.prototype.resize=function(D){Qg(this,D,1)},Bc.prototype.clone=function(){return new Bc({width:this.width,height:this.height},new Uint8Array(this.data))},Bc.copy=function(D,H,ne,ve,be){W0(D,H,ne,ve,be,1)};var ss=function(D,H){G0(this,D,4,H)};ss.prototype.resize=function(D){Qg(this,D,4)},ss.prototype.replace=function(D,H){H?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},ss.prototype.clone=function(){return new ss({width:this.width,height:this.height},new Uint8Array(this.data))},ss.copy=function(D,H,ne,ve,be){W0(D,H,ne,ve,be,4)},se("AlphaImage",Bc),se("RGBAImage",ss);var q2=new Xi({"heatmap-radius":new wa(Xt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new wa(Xt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new da(Xt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Po(Xt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new da(Xt.paint_heatmap["heatmap-opacity"])}),eb={paint:q2};function $g(R,D){for(var H=new Uint8Array(1024),ne={},ve=0,be=0;ve<256;ve++,be+=4){ne[D]=ve/255;var Ce=R.evaluate(ne);H[be+0]=Math.floor(Ce.r*255/Ce.a),H[be+1]=Math.floor(Ce.g*255/Ce.a),H[be+2]=Math.floor(Ce.b*255/Ce.a),H[be+3]=Math.floor(Ce.a*255)}return new ss({width:256,height:1},H)}var tb=function(R){function D(H){R.call(this,H,eb),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Jg(ne)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ne=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=$g(ne,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Mi),rb=new Xi({"hillshade-illumination-direction":new da(Xt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new da(Xt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new da(Xt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new da(Xt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new da(Xt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new da(Xt.paint_hillshade["hillshade-accent-color"])}),nb={paint:rb},ab=function(R){function D(H){R.call(this,H,nb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Mi),ib=yi([{name:"a_pos",components:2,type:"Int16"}],4),qg=ib.members,Y0=fd,ob=fd;function fd(R,D,H){H=H||2;var ne=D&&D.length,ve=ne?D[0]*H:R.length,be=ey(R,0,ve,H,!0),Ce=[];if(!be||be.next===be.prev)return Ce;var Ze,ht,At,Et,Wt,ir,$t;if(ne&&(be=cb(R,D,be,H)),R.length>80*H){Ze=At=R[0],ht=Et=R[1];for(var xr=H;xr<ve;xr+=H)Wt=R[xr],ir=R[xr+1],Wt<Ze&&(Ze=Wt),ir<ht&&(ht=ir),Wt>At&&(At=Wt),ir>Et&&(Et=ir);$t=Math.max(At-Ze,Et-ht),$t=$t!==0?1/$t:0}return ov(be,Ce,H,Ze,ht,$t),Ce}function ey(R,D,H,ne,ve){var be,Ce;if(ve===j0(R,D,H,ne)>0)for(be=D;be<H;be+=ne)Ce=ny(be,R[be],R[be+1],Ce);else for(be=H-ne;be>=D;be-=ne)Ce=ny(be,R[be],R[be+1],Ce);return Ce&&cd(Ce,Ce.next)&&(lv(Ce),Ce=Ce.next),Ce}function Jf(R,D){if(!R)return R;D||(D=R);var H=R,ne;do if(ne=!1,!H.steiner&&(cd(H,H.next)||qi(H.prev,H,H.next)===0)){if(lv(H),H=D=H.prev,H===H.next)break;ne=!0}else H=H.next;while(ne||H!==D);return D}function ov(R,D,H,ne,ve,be,Ce){if(R){!Ce&&be&&gb(R,ne,ve,be);for(var Ze=R,ht,At;R.prev!==R.next;){if(ht=R.prev,At=R.next,be?lb(R,ne,ve,be):sb(R)){D.push(ht.i/H),D.push(R.i/H),D.push(At.i/H),lv(R),R=At.next,Ze=At.next;continue}if(R=At,R===Ze){Ce?Ce===1?(R=ub(Jf(R),D,H),ov(R,D,H,ne,ve,be,2)):Ce===2&&fb(R,D,H,ne,ve,be):ov(Jf(R),D,H,ne,ve,be,1);break}}}}function sb(R){var D=R.prev,H=R,ne=R.next;if(qi(D,H,ne)>=0)return!1;for(var ve=R.next.next;ve!==R.prev;){if(hh(D.x,D.y,H.x,H.y,ne.x,ne.y,ve.x,ve.y)&&qi(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function lb(R,D,H,ne){var ve=R.prev,be=R,Ce=R.next;if(qi(ve,be,Ce)>=0)return!1;for(var Ze=ve.x<be.x?ve.x<Ce.x?ve.x:Ce.x:be.x<Ce.x?be.x:Ce.x,ht=ve.y<be.y?ve.y<Ce.y?ve.y:Ce.y:be.y<Ce.y?be.y:Ce.y,At=ve.x>be.x?ve.x>Ce.x?ve.x:Ce.x:be.x>Ce.x?be.x:Ce.x,Et=ve.y>be.y?ve.y>Ce.y?ve.y:Ce.y:be.y>Ce.y?be.y:Ce.y,Wt=Z0(Ze,ht,D,H,ne),ir=Z0(At,Et,D,H,ne),$t=R.prevZ,xr=R.nextZ;$t&&$t.z>=Wt&&xr&&xr.z<=ir;){if($t!==R.prev&&$t!==R.next&&hh(ve.x,ve.y,be.x,be.y,Ce.x,Ce.y,$t.x,$t.y)&&qi($t.prev,$t,$t.next)>=0||($t=$t.prevZ,xr!==R.prev&&xr!==R.next&&hh(ve.x,ve.y,be.x,be.y,Ce.x,Ce.y,xr.x,xr.y)&&qi(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;$t&&$t.z>=Wt;){if($t!==R.prev&&$t!==R.next&&hh(ve.x,ve.y,be.x,be.y,Ce.x,Ce.y,$t.x,$t.y)&&qi($t.prev,$t,$t.next)>=0)return!1;$t=$t.prevZ}for(;xr&&xr.z<=ir;){if(xr!==R.prev&&xr!==R.next&&hh(ve.x,ve.y,be.x,be.y,Ce.x,Ce.y,xr.x,xr.y)&&qi(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function ub(R,D,H){var ne=R;do{var ve=ne.prev,be=ne.next.next;!cd(ve,be)&&ty(ve,ne,ne.next,be)&&sv(ve,be)&&sv(be,ve)&&(D.push(ve.i/H),D.push(ne.i/H),D.push(be.i/H),lv(ne),lv(ne.next),ne=R=be),ne=ne.next}while(ne!==R);return Jf(ne)}function fb(R,D,H,ne,ve,be){var Ce=R;do{for(var Ze=Ce.next.next;Ze!==Ce.prev;){if(Ce.i!==Ze.i&&xb(Ce,Ze)){var ht=ry(Ce,Ze);Ce=Jf(Ce,Ce.next),ht=Jf(ht,ht.next),ov(Ce,D,H,ne,ve,be),ov(ht,D,H,ne,ve,be);return}Ze=Ze.next}Ce=Ce.next}while(Ce!==R)}function cb(R,D,H,ne){var ve=[],be,Ce,Ze,ht,At;for(be=0,Ce=D.length;be<Ce;be++)Ze=D[be]*ne,ht=be<Ce-1?D[be+1]*ne:R.length,At=ey(R,Ze,ht,ne,!1),At===At.next&&(At.steiner=!0),ve.push(mb(At));for(ve.sort(hb),be=0;be<ve.length;be++)vb(ve[be],H),H=Jf(H,H.next);return H}function hb(R,D){return R.x-D.x}function vb(R,D){if(D=db(R,D),D){var H=ry(D,R);Jf(D,D.next),Jf(H,H.next)}}function db(R,D){var H=D,ne=R.x,ve=R.y,be=-1/0,Ce;do{if(ve<=H.y&&ve>=H.next.y&&H.next.y!==H.y){var Ze=H.x+(ve-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(Ze<=ne&&Ze>be){if(be=Ze,Ze===ne){if(ve===H.y)return H;if(ve===H.next.y)return H.next}Ce=H.x<H.next.x?H:H.next}}H=H.next}while(H!==D);if(!Ce)return null;if(ne===be)return Ce;var ht=Ce,At=Ce.x,Et=Ce.y,Wt=1/0,ir;H=Ce;do ne>=H.x&&H.x>=At&&ne!==H.x&&hh(ve<Et?ne:be,ve,At,Et,ve<Et?be:ne,ve,H.x,H.y)&&(ir=Math.abs(ve-H.y)/(ne-H.x),sv(H,R)&&(ir<Wt||ir===Wt&&(H.x>Ce.x||H.x===Ce.x&&pb(Ce,H)))&&(Ce=H,Wt=ir)),H=H.next;while(H!==ht);return Ce}function pb(R,D){return qi(R.prev,R,D.prev)<0&&qi(D.next,R,R.next)<0}function gb(R,D,H,ne){var ve=R;do ve.z===null&&(ve.z=Z0(ve.x,ve.y,D,H,ne)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==R);ve.prevZ.nextZ=null,ve.prevZ=null,yb(ve)}function yb(R){var D,H,ne,ve,be,Ce,Ze,ht,At=1;do{for(H=R,R=null,be=null,Ce=0;H;){for(Ce++,ne=H,Ze=0,D=0;D<At&&(Ze++,ne=ne.nextZ,!!ne);D++);for(ht=At;Ze>0||ht>0&&ne;)Ze!==0&&(ht===0||!ne||H.z<=ne.z)?(ve=H,H=H.nextZ,Ze--):(ve=ne,ne=ne.nextZ,ht--),be?be.nextZ=ve:R=ve,ve.prevZ=be,be=ve;H=ne}be.nextZ=null,At*=2}while(Ce>1);return R}function Z0(R,D,H,ne,ve){return R=32767*(R-H)*ve,D=32767*(D-ne)*ve,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function mb(R){var D=R,H=R;do(D.x<H.x||D.x===H.x&&D.y<H.y)&&(H=D),D=D.next;while(D!==R);return H}function hh(R,D,H,ne,ve,be,Ce,Ze){return(ve-Ce)*(D-Ze)-(R-Ce)*(be-Ze)>=0&&(R-Ce)*(ne-Ze)-(H-Ce)*(D-Ze)>=0&&(H-Ce)*(be-Ze)-(ve-Ce)*(ne-Ze)>=0}function xb(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!bb(R,D)&&(sv(R,D)&&sv(D,R)&&wb(R,D)&&(qi(R.prev,R,D.prev)||qi(R,D.prev,D))||cd(R,D)&&qi(R.prev,R,R.next)>0&&qi(D.prev,D,D.next)>0)}function qi(R,D,H){return(D.y-R.y)*(H.x-D.x)-(D.x-R.x)*(H.y-D.y)}function cd(R,D){return R.x===D.x&&R.y===D.y}function ty(R,D,H,ne){var ve=vd(qi(R,D,H)),be=vd(qi(R,D,ne)),Ce=vd(qi(H,ne,R)),Ze=vd(qi(H,ne,D));return!!(ve!==be&&Ce!==Ze||ve===0&&hd(R,H,D)||be===0&&hd(R,ne,D)||Ce===0&&hd(H,R,ne)||Ze===0&&hd(H,D,ne))}function hd(R,D,H){return D.x<=Math.max(R.x,H.x)&&D.x>=Math.min(R.x,H.x)&&D.y<=Math.max(R.y,H.y)&&D.y>=Math.min(R.y,H.y)}function vd(R){return R>0?1:R<0?-1:0}function bb(R,D){var H=R;do{if(H.i!==R.i&&H.next.i!==R.i&&H.i!==D.i&&H.next.i!==D.i&&ty(H,H.next,R,D))return!0;H=H.next}while(H!==R);return!1}function sv(R,D){return qi(R.prev,R,R.next)<0?qi(R,D,R.next)>=0&&qi(R,R.prev,D)>=0:qi(R,D,R.prev)<0||qi(R,R.next,D)<0}function wb(R,D){var H=R,ne=!1,ve=(R.x+D.x)/2,be=(R.y+D.y)/2;do H.y>be!=H.next.y>be&&H.next.y!==H.y&&ve<(H.next.x-H.x)*(be-H.y)/(H.next.y-H.y)+H.x&&(ne=!ne),H=H.next;while(H!==R);return ne}function ry(R,D){var H=new X0(R.i,R.x,R.y),ne=new X0(D.i,D.x,D.y),ve=R.next,be=D.prev;return R.next=D,D.prev=R,H.next=ve,ve.prev=H,ne.next=H,H.prev=ne,be.next=ne,ne.prev=be,ne}function ny(R,D,H,ne){var ve=new X0(R,D,H);return ne?(ve.next=ne.next,ve.prev=ne,ne.next.prev=ve,ne.next=ve):(ve.prev=ve,ve.next=ve),ve}function lv(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function X0(R,D,H){this.i=R,this.x=D,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}fd.deviation=function(R,D,H,ne){var ve=D&&D.length,be=ve?D[0]*H:R.length,Ce=Math.abs(j0(R,0,be,H));if(ve)for(var Ze=0,ht=D.length;Ze<ht;Ze++){var At=D[Ze]*H,Et=Ze<ht-1?D[Ze+1]*H:R.length;Ce-=Math.abs(j0(R,At,Et,H))}var Wt=0;for(Ze=0;Ze<ne.length;Ze+=3){var ir=ne[Ze]*H,$t=ne[Ze+1]*H,xr=ne[Ze+2]*H;Wt+=Math.abs((R[ir]-R[xr])*(R[$t+1]-R[ir+1])-(R[ir]-R[$t])*(R[xr+1]-R[ir+1]))}return Ce===0&&Wt===0?0:Math.abs((Wt-Ce)/Ce)};function j0(R,D,H,ne){for(var ve=0,be=D,Ce=H-ne;be<H;be+=ne)ve+=(R[Ce]-R[be])*(R[be+1]+R[Ce+1]),Ce=be;return ve}fd.flatten=function(R){for(var D=R[0][0].length,H={vertices:[],holes:[],dimensions:D},ne=0,ve=0;ve<R.length;ve++){for(var be=0;be<R[ve].length;be++)for(var Ce=0;Ce<D;Ce++)H.vertices.push(R[ve][be][Ce]);ve>0&&(ne+=R[ve-1].length,H.holes.push(ne))}return H},Y0.default=ob;function Tb(R,D,H,ne,ve){ay(R,D,H||0,ne||R.length-1,ve||Ab)}function ay(R,D,H,ne,ve){for(;ne>H;){if(ne-H>600){var be=ne-H+1,Ce=D-H+1,Ze=Math.log(be),ht=.5*Math.exp(2*Ze/3),At=.5*Math.sqrt(Ze*ht*(be-ht)/be)*(Ce-be/2<0?-1:1),Et=Math.max(H,Math.floor(D-Ce*ht/be+At)),Wt=Math.min(ne,Math.floor(D+(be-Ce)*ht/be+At));ay(R,D,Et,Wt,ve)}var ir=R[D],$t=H,xr=ne;for(uv(R,H,D),ve(R[ne],ir)>0&&uv(R,H,ne);$t<xr;){for(uv(R,$t,xr),$t++,xr--;ve(R[$t],ir)<0;)$t++;for(;ve(R[xr],ir)>0;)xr--}ve(R[H],ir)===0?uv(R,H,xr):(xr++,uv(R,xr,ne)),xr<=D&&(H=xr+1),D<=xr&&(ne=xr-1)}}function uv(R,D,H){var ne=R[D];R[D]=R[H],R[H]=ne}function Ab(R,D){return R<D?-1:R>D?1:0}function K0(R,D){var H=R.length;if(H<=1)return[R];for(var ne=[],ve,be,Ce=0;Ce<H;Ce++){var Ze=z(R[Ce]);Ze!==0&&(R[Ce].area=Math.abs(Ze),be===void 0&&(be=Ze<0),be===Ze<0?(ve&&ne.push(ve),ve=[R[Ce]]):ve.push(R[Ce]))}if(ve&&ne.push(ve),D>1)for(var ht=0;ht<ne.length;ht++)ne[ht].length<=D||(Tb(ne[ht],D,1,ne[ht].length-1,Mb),ne[ht]=ne[ht].slice(0,D));return ne}function Mb(R,D){return D.area-R.area}function J0(R,D,H){for(var ne=H.patternDependencies,ve=!1,be=0,Ce=D;be<Ce.length;be+=1){var Ze=Ce[be],ht=Ze.paint.get(R+"-pattern");ht.isConstant()||(ve=!0);var At=ht.constantOr(null);At&&(ve=!0,ne[At.to]=!0,ne[At.from]=!0)}return ve}function Q0(R,D,H,ne,ve){for(var be=ve.patternDependencies,Ce=0,Ze=D;Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=ht.paint.get(R+"-pattern"),Et=At.value;if(Et.kind!=="constant"){var Wt=Et.evaluate({zoom:ne-1},H,{},ve.availableImages),ir=Et.evaluate({zoom:ne},H,{},ve.availableImages),$t=Et.evaluate({zoom:ne+1},H,{},ve.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,ir=ir&&ir.name?ir.name:ir,$t=$t&&$t.name?$t.name:$t,be[Wt]=!0,be[ir]=!0,be[$t]=!0,H.patterns[ht.id]={min:Wt,mid:ir,max:$t}}}return H}var Sb=500,$l=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Dc,this.indexArray=new Jl,this.indexArray2=new Fc,this.programConfigurations=new Oa(qg,D.layers,D.zoom),this.segments=new Z,this.segments2=new Z,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};$l.prototype.populate=function(D,H,ne){this.hasPattern=J0("fill",this.layers,H);for(var ve=this.layers[0].layout.get("fill-sort-key"),be=[],Ce=0,Ze=D;Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=ht.feature,Et=ht.id,Wt=ht.index,ir=ht.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,xr={type:At.type,id:Et,properties:At.properties,geometry:$t?ui(At):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),xr,ne)){$t||(xr.geometry=ui(At));var Nr=ve?ve.evaluate(xr,{},ne,H.availableImages):void 0,tn={id:Et,properties:At.properties,type:At.type,sourceLayerIndex:ir,index:Wt,geometry:xr.geometry,patterns:{},sortKey:Nr};be.push(tn)}}ve&&be.sort(function(fa,pa){return fa.sortKey-pa.sortKey});for(var $r=0,Mn=be;$r<Mn.length;$r+=1){var gn=Mn[$r],An=gn,Rn=An.geometry,Un=An.index,Jn=An.sourceLayerIndex;if(this.hasPattern){var jn=Q0("fill",this.layers,gn,this.zoom,H);this.patternFeatures.push(jn)}else this.addFeature(gn,Rn,Un,ne,{});var Ta=D[Un].feature;H.featureIndex.insert(Ta,Rn,Un,Jn,this.index)}},$l.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},$l.prototype.addFeatures=function(D,H,ne){for(var ve=0,be=this.patternFeatures;ve<be.length;ve+=1){var Ce=be[ve];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},$l.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$l.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$l.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,qg),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},$l.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},$l.prototype.addFeature=function(D,H,ne,ve,be){for(var Ce=0,Ze=K0(H,Sb);Ce<Ze.length;Ce+=1){for(var ht=Ze[Ce],At=0,Et=0,Wt=ht;Et<Wt.length;Et+=1){var ir=Wt[Et];At+=ir.length}for(var $t=this.segments.prepareSegment(At,this.layoutVertexArray,this.indexArray),xr=$t.vertexLength,Nr=[],tn=[],$r=0,Mn=ht;$r<Mn.length;$r+=1){var gn=Mn[$r];if(gn.length!==0){gn!==ht[0]&&tn.push(Nr.length/2);var An=this.segments2.prepareSegment(gn.length,this.layoutVertexArray,this.indexArray2),Rn=An.vertexLength;this.layoutVertexArray.emplaceBack(gn[0].x,gn[0].y),this.indexArray2.emplaceBack(Rn+gn.length-1,Rn),Nr.push(gn[0].x),Nr.push(gn[0].y);for(var Un=1;Un<gn.length;Un++)this.layoutVertexArray.emplaceBack(gn[Un].x,gn[Un].y),this.indexArray2.emplaceBack(Rn+Un-1,Rn+Un),Nr.push(gn[Un].x),Nr.push(gn[Un].y);An.vertexLength+=gn.length,An.primitiveLength+=gn.length}}for(var Jn=Y0(Nr,tn),jn=0;jn<Jn.length;jn+=3)this.indexArray.emplaceBack(xr+Jn[jn],xr+Jn[jn+1],xr+Jn[jn+2]);$t.vertexLength+=At,$t.primitiveLength+=Jn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},se("FillBucket",$l,{omit:["layers","patternFeatures"]});var Eb=new Xi({"fill-sort-key":new wa(Xt.layout_fill["fill-sort-key"])}),Cb=new Xi({"fill-antialias":new da(Xt.paint_fill["fill-antialias"]),"fill-opacity":new wa(Xt.paint_fill["fill-opacity"]),"fill-color":new wa(Xt.paint_fill["fill-color"]),"fill-outline-color":new wa(Xt.paint_fill["fill-outline-color"]),"fill-translate":new da(Xt.paint_fill["fill-translate"]),"fill-translate-anchor":new da(Xt.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Xt.paint_fill["fill-pattern"])}),Lb={paint:Cb,layout:Eb},Pb=function(R){function D(H){R.call(this,H,Lb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve);var be=this.paint._values["fill-outline-color"];be.value.kind==="constant"&&be.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ne){return new $l(ne)},D.prototype.queryRadius=function(){return wl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Ce,Ze,ht,At){var Et=tl(ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ht.angle,At);return Oi(Et,Ce)},D.prototype.isTileClipped=function(){return!0},D}(Mi),Rb=yi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),iy=Rb.members,oy=vh;function vh(R,D,H,ne,ve){this.properties={},this.extent=H,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ne,this._values=ve,R.readFields(Db,this,D)}function Db(R,D,H){R==1?D.id=H.readVarint():R==2?Ib(H,D):R==3?D.type=H.readVarint():R==4&&(D._geometry=H.pos)}function Ib(R,D){for(var H=R.readVarint()+R.pos;R.pos<H;){var ne=D._keys[R.readVarint()],ve=D._values[R.readVarint()];D.properties[ne]=ve}}vh.types=["Unknown","Point","LineString","Polygon"],vh.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ne=0,ve=0,be=0,Ce=[],Ze;R.pos<D;){if(ne<=0){var ht=R.readVarint();H=ht&7,ne=ht>>3}if(ne--,H===1||H===2)ve+=R.readSVarint(),be+=R.readSVarint(),H===1&&(Ze&&Ce.push(Ze),Ze=[]),Ze.push(new t(ve,be));else if(H===7)Ze&&Ze.push(Ze[0].clone());else throw new Error("unknown command "+H)}return Ze&&Ce.push(Ze),Ce},vh.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ne=0,ve=0,be=0,Ce=1/0,Ze=-1/0,ht=1/0,At=-1/0;R.pos<D;){if(ne<=0){var Et=R.readVarint();H=Et&7,ne=Et>>3}if(ne--,H===1||H===2)ve+=R.readSVarint(),be+=R.readSVarint(),ve<Ce&&(Ce=ve),ve>Ze&&(Ze=ve),be<ht&&(ht=be),be>At&&(At=be);else if(H!==7)throw new Error("unknown command "+H)}return[Ce,ht,Ze,At]},vh.prototype.toGeoJSON=function(R,D,H){var ne=this.extent*Math.pow(2,H),ve=this.extent*R,be=this.extent*D,Ce=this.loadGeometry(),Ze=vh.types[this.type],ht,At;function Et($t){for(var xr=0;xr<$t.length;xr++){var Nr=$t[xr],tn=180-(Nr.y+be)*360/ne;$t[xr]=[(Nr.x+ve)*360/ne-180,360/Math.PI*Math.atan(Math.exp(tn*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(ht=0;ht<Ce.length;ht++)Wt[ht]=Ce[ht][0];Ce=Wt,Et(Ce);break;case 2:for(ht=0;ht<Ce.length;ht++)Et(Ce[ht]);break;case 3:for(Ce=_b(Ce),ht=0;ht<Ce.length;ht++)for(At=0;At<Ce[ht].length;At++)Et(Ce[ht][At]);break}Ce.length===1?Ce=Ce[0]:Ze="Multi"+Ze;var ir={type:"Feature",geometry:{type:Ze,coordinates:Ce},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function _b(R){var D=R.length;if(D<=1)return[R];for(var H=[],ne,ve,be=0;be<D;be++){var Ce=Fb(R[be]);Ce!==0&&(ve===void 0&&(ve=Ce<0),ve===Ce<0?(ne&&H.push(ne),ne=[R[be]]):ne.push(R[be]))}return ne&&H.push(ne),H}function Fb(R){for(var D=0,H=0,ne=R.length,ve=ne-1,be,Ce;H<ne;ve=H++)be=R[H],Ce=R[ve],D+=(Ce.x-be.x)*(be.y+Ce.y);return D}var sy=ly;function ly(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(kb,this,D),this.length=this._features.length}function kb(R,D,H){R===15?D.version=H.readVarint():R===1?D.name=H.readString():R===5?D.extent=H.readVarint():R===2?D._features.push(H.pos):R===3?D._keys.push(H.readString()):R===4&&D._values.push(zb(H))}function zb(R){for(var D=null,H=R.readVarint()+R.pos;R.pos<H;){var ne=R.readVarint()>>3;D=ne===1?R.readString():ne===2?R.readFloat():ne===3?R.readDouble():ne===4?R.readVarint64():ne===5?R.readVarint():ne===6?R.readSVarint():ne===7?R.readBoolean():null}return D}ly.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new oy(this._pbf,D,this.extent,this._keys,this._values)};var Ob=Bb;function Bb(R,D){this.layers=R.readFields(Nb,{},D)}function Nb(R,D,H){if(R===3){var ne=new sy(H,H.readVarint()+H.pos);ne.length&&(D[ne.name]=ne)}}var Ub=Ob,Hb=oy,Vb=sy,dh={VectorTile:Ub,VectorTileFeature:Hb,VectorTileLayer:Vb},Gb=dh.VectorTileFeature.types,Wb=500,$0=Math.pow(2,13);function fv(R,D,H,ne,ve,be,Ce,Ze){R.emplaceBack(D,H,Math.floor(ne*$0)*2+Ce,ve*$0*2,be*$0*2,Math.round(Ze))}var ql=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Wf,this.indexArray=new Jl,this.programConfigurations=new Oa(iy,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};ql.prototype.populate=function(D,H,ne){this.features=[],this.hasPattern=J0("fill-extrusion",this.layers,H);for(var ve=0,be=D;ve<be.length;ve+=1){var Ce=be[ve],Ze=Ce.feature,ht=Ce.id,At=Ce.index,Et=Ce.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,ir={type:Ze.type,id:ht,properties:Ze.properties,geometry:Wt?ui(Ze):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),ir,ne)){var $t={id:ht,sourceLayerIndex:Et,index:At,geometry:Wt?ir.geometry:ui(Ze),properties:Ze.properties,type:Ze.type,patterns:{}};typeof Ze.id<"u"&&($t.id=Ze.id),this.hasPattern?this.features.push(Q0("fill-extrusion",this.layers,$t,this.zoom,H)):this.addFeature($t,$t.geometry,At,ne,{}),H.featureIndex.insert(Ze,$t.geometry,At,Et,this.index,!0)}}},ql.prototype.addFeatures=function(D,H,ne){for(var ve=0,be=this.features;ve<be.length;ve+=1){var Ce=be[ve],Ze=Ce.geometry;this.addFeature(Ce,Ze,Ce.index,H,ne)}},ql.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},ql.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ql.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ql.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,iy),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ql.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ql.prototype.addFeature=function(D,H,ne,ve,be){for(var Ce=0,Ze=K0(H,Wb);Ce<Ze.length;Ce+=1){for(var ht=Ze[Ce],At=0,Et=0,Wt=ht;Et<Wt.length;Et+=1){var ir=Wt[Et];At+=ir.length}for(var $t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Nr=ht;xr<Nr.length;xr+=1){var tn=Nr[xr];if(tn.length!==0&&!Zb(tn))for(var $r=0,Mn=0;Mn<tn.length;Mn++){var gn=tn[Mn];if(Mn>=1){var An=tn[Mn-1];if(!Yb(gn,An)){$t.vertexLength+4>Z.MAX_VERTEX_ARRAY_LENGTH&&($t=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Rn=gn.sub(An)._perp()._unit(),Un=An.dist(gn);$r+Un>32768&&($r=0),fv(this.layoutVertexArray,gn.x,gn.y,Rn.x,Rn.y,0,0,$r),fv(this.layoutVertexArray,gn.x,gn.y,Rn.x,Rn.y,0,1,$r),$r+=Un,fv(this.layoutVertexArray,An.x,An.y,Rn.x,Rn.y,0,0,$r),fv(this.layoutVertexArray,An.x,An.y,Rn.x,Rn.y,0,1,$r);var Jn=$t.vertexLength;this.indexArray.emplaceBack(Jn,Jn+2,Jn+1),this.indexArray.emplaceBack(Jn+1,Jn+2,Jn+3),$t.vertexLength+=4,$t.primitiveLength+=2}}}}if($t.vertexLength+At>Z.MAX_VERTEX_ARRAY_LENGTH&&($t=this.segments.prepareSegment(At,this.layoutVertexArray,this.indexArray)),Gb[D.type]==="Polygon"){for(var jn=[],Ta=[],fa=$t.vertexLength,pa=0,ka=ht;pa<ka.length;pa+=1){var xa=ka[pa];if(xa.length!==0){xa!==ht[0]&&Ta.push(jn.length/2);for(var ba=0;ba<xa.length;ba++){var Ua=xa[ba];fv(this.layoutVertexArray,Ua.x,Ua.y,0,0,1,1,0),jn.push(Ua.x),jn.push(Ua.y)}}}for(var Ia=Y0(jn,Ta),qa=0;qa<Ia.length;qa+=3)this.indexArray.emplaceBack(fa+Ia[qa],fa+Ia[qa+2],fa+Ia[qa+1]);$t.primitiveLength+=Ia.length/3,$t.vertexLength+=At}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},se("FillExtrusionBucket",ql,{omit:["layers","features"]});function Yb(R,D){return R.x===D.x&&(R.x<0||R.x>Sa)||R.y===D.y&&(R.y<0||R.y>Sa)}function Zb(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Sa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Sa})}var Xb=new Xi({"fill-extrusion-opacity":new da(Xt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new wa(Xt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new da(Xt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new da(Xt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Xt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new wa(Xt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new wa(Xt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new da(Xt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),jb={paint:Xb},Kb=function(R){function D(H){R.call(this,H,jb)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new ql(ne)},D.prototype.queryRadius=function(){return wl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ne,ve,be,Ce,Ze,ht,At,Et){var Wt=tl(ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ht.angle,At),ir=this.paint.get("fill-extrusion-height").evaluate(ve,be),$t=this.paint.get("fill-extrusion-base").evaluate(ve,be),xr=$b(Wt,Et,ht,0),Nr=Qb(Ce,$t,ir,Et),tn=Nr[0],$r=Nr[1];return Jb(tn,$r,xr)},D}(Mi);function cv(R,D){return R.x*D.x+R.y*D.y}function uy(R,D){if(R.length===1){for(var H=0,ne=D[H++],ve;!ve||ne.equals(ve);)if(ve=D[H++],!ve)return 1/0;for(;H<D.length;H++){var be=D[H],Ce=R[0],Ze=ve.sub(ne),ht=be.sub(ne),At=Ce.sub(ne),Et=cv(Ze,Ze),Wt=cv(Ze,ht),ir=cv(ht,ht),$t=cv(At,Ze),xr=cv(At,ht),Nr=Et*ir-Wt*Wt,tn=(ir*$t-Wt*xr)/Nr,$r=(Et*xr-Wt*$t)/Nr,Mn=1-tn-$r,gn=ne.z*Mn+ve.z*tn+be.z*$r;if(isFinite(gn))return gn}return 1/0}else{for(var An=1/0,Rn=0,Un=D;Rn<Un.length;Rn+=1){var Jn=Un[Rn];An=Math.min(An,Jn.z)}return An}}function Jb(R,D,H){var ne=1/0;Oi(H,D)&&(ne=uy(H,D[0]));for(var ve=0;ve<D.length;ve++)for(var be=D[ve],Ce=R[ve],Ze=0;Ze<be.length-1;Ze++){var ht=be[Ze],At=be[Ze+1],Et=Ce[Ze],Wt=Ce[Ze+1],ir=[ht,At,Wt,Et,ht];Ba(H,ir)&&(ne=Math.min(ne,uy(H,ir)))}return ne===1/0?!1:ne}function Qb(R,D,H,ne){for(var ve=[],be=[],Ce=ne[8]*D,Ze=ne[9]*D,ht=ne[10]*D,At=ne[11]*D,Et=ne[8]*H,Wt=ne[9]*H,ir=ne[10]*H,$t=ne[11]*H,xr=0,Nr=R;xr<Nr.length;xr+=1){for(var tn=Nr[xr],$r=[],Mn=[],gn=0,An=tn;gn<An.length;gn+=1){var Rn=An[gn],Un=Rn.x,Jn=Rn.y,jn=ne[0]*Un+ne[4]*Jn+ne[12],Ta=ne[1]*Un+ne[5]*Jn+ne[13],fa=ne[2]*Un+ne[6]*Jn+ne[14],pa=ne[3]*Un+ne[7]*Jn+ne[15],ka=jn+Ce,xa=Ta+Ze,ba=fa+ht,Ua=pa+At,Ia=jn+Et,qa=Ta+Wt,di=fa+ir,ei=pa+$t,ti=new t(ka/Ua,xa/Ua);ti.z=ba/Ua,$r.push(ti);var Ka=new t(Ia/ei,qa/ei);Ka.z=di/ei,Mn.push(Ka)}ve.push($r),be.push(Mn)}return[ve,be]}function $b(R,D,H,ne){for(var ve=[],be=0,Ce=R;be<Ce.length;be+=1){var Ze=Ce[be],ht=[Ze.x,Ze.y,ne,1];ud(ht,ht,D),ve.push(new t(ht[0]/ht[3],ht[1]/ht[3]))}return ve}var qb=yi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),fy=qb.members,e3=dh.VectorTileFeature.types,cy=63,t3=Math.cos(75/2*(Math.PI/180)),r3=15,n3=20,a3=15,hy=1/2,vy=Math.pow(2,a3-1)/hy,ls=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new nh,this.indexArray=new Jl,this.programConfigurations=new Oa(fy,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};ls.prototype.populate=function(D,H,ne){this.hasPattern=J0("line",this.layers,H);for(var ve=this.layers[0].layout.get("line-sort-key"),be=[],Ce=0,Ze=D;Ce<Ze.length;Ce+=1){var ht=Ze[Ce],At=ht.feature,Et=ht.id,Wt=ht.index,ir=ht.sourceLayerIndex,$t=this.layers[0]._featureFilter.needGeometry,xr={type:At.type,id:Et,properties:At.properties,geometry:$t?ui(At):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),xr,ne)){$t||(xr.geometry=ui(At));var Nr=ve?ve.evaluate(xr,{},ne):void 0,tn={id:Et,properties:At.properties,type:At.type,sourceLayerIndex:ir,index:Wt,geometry:xr.geometry,patterns:{},sortKey:Nr};be.push(tn)}}ve&&be.sort(function(fa,pa){return fa.sortKey-pa.sortKey});for(var $r=0,Mn=be;$r<Mn.length;$r+=1){var gn=Mn[$r],An=gn,Rn=An.geometry,Un=An.index,Jn=An.sourceLayerIndex;if(this.hasPattern){var jn=Q0("line",this.layers,gn,this.zoom,H);this.patternFeatures.push(jn)}else this.addFeature(gn,Rn,Un,ne,{});var Ta=D[Un].feature;H.featureIndex.insert(Ta,Rn,Un,Jn,this.index)}},ls.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ne)},ls.prototype.addFeatures=function(D,H,ne){for(var ve=0,be=this.patternFeatures;ve<be.length;ve+=1){var Ce=be[ve];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},ls.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ls.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,fy),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ls.prototype.addFeature=function(D,H,ne,ve,be){for(var Ce=this.layers[0].layout,Ze=Ce.get("line-join").evaluate(D,{}),ht=Ce.get("line-cap"),At=Ce.get("line-miter-limit"),Et=Ce.get("line-round-limit"),Wt=0,ir=H;Wt<ir.length;Wt+=1){var $t=ir[Wt];this.addLine($t,D,Ze,ht,At,Et)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},ls.prototype.addLine=function(D,H,ne,ve,be,Ce){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,H.properties&&H.properties.hasOwnProperty("mapbox_clip_start")&&H.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+H.properties.mapbox_clip_start,this.clipEnd=+H.properties.mapbox_clip_end;for(var Ze=0;Ze<D.length-1;Ze++)this.totalDistance+=D[Ze].dist(D[Ze+1]);this.updateScaledDistance()}for(var ht=e3[H.type]==="Polygon",At=D.length;At>=2&&D[At-1].equals(D[At-2]);)At--;for(var Et=0;Et<At-1&&D[Et].equals(D[Et+1]);)Et++;if(!(At<(ht?3:2))){ne==="bevel"&&(be=1.05);var Wt=this.overscaling<=16?r3*Sa/(512*this.overscaling):0,ir=this.segments.prepareSegment(At*10,this.layoutVertexArray,this.indexArray),$t,xr=void 0,Nr=void 0,tn=void 0,$r=void 0;this.e1=this.e2=-1,ht&&($t=D[At-2],$r=D[Et].sub($t)._unit()._perp());for(var Mn=Et;Mn<At;Mn++)if(Nr=Mn===At-1?ht?D[Et+1]:void 0:D[Mn+1],!(Nr&&D[Mn].equals(Nr))){$r&&(tn=$r),$t&&(xr=$t),$t=D[Mn],$r=Nr?Nr.sub($t)._unit()._perp():tn,tn=tn||$r;var gn=tn.add($r);(gn.x!==0||gn.y!==0)&&gn._unit();var An=tn.x*$r.x+tn.y*$r.y,Rn=gn.x*$r.x+gn.y*$r.y,Un=Rn!==0?1/Rn:1/0,Jn=2*Math.sqrt(2-2*Rn),jn=Rn<t3&&xr&&Nr,Ta=tn.x*$r.y-tn.y*$r.x>0;if(jn&&Mn>Et){var fa=$t.dist(xr);if(fa>2*Wt){var pa=$t.sub($t.sub(xr)._mult(Wt/fa)._round());this.updateDistance(xr,pa),this.addCurrentVertex(pa,tn,0,0,ir),xr=pa}}var ka=xr&&Nr,xa=ka?ne:ht?"butt":ve;if(ka&&xa==="round"&&(Un<Ce?xa="miter":Un<=2&&(xa="fakeround")),xa==="miter"&&Un>be&&(xa="bevel"),xa==="bevel"&&(Un>2&&(xa="flipbevel"),Un<be&&(xa="miter")),xr&&this.updateDistance(xr,$t),xa==="miter")gn._mult(Un),this.addCurrentVertex($t,gn,0,0,ir);else if(xa==="flipbevel"){if(Un>100)gn=$r.mult(-1);else{var ba=Un*tn.add($r).mag()/tn.sub($r).mag();gn._perp()._mult(ba*(Ta?-1:1))}this.addCurrentVertex($t,gn,0,0,ir),this.addCurrentVertex($t,gn.mult(-1),0,0,ir)}else if(xa==="bevel"||xa==="fakeround"){var Ua=-Math.sqrt(Un*Un-1),Ia=Ta?Ua:0,qa=Ta?0:Ua;if(xr&&this.addCurrentVertex($t,tn,Ia,qa,ir),xa==="fakeround")for(var di=Math.round(Jn*180/Math.PI/n3),ei=1;ei<di;ei++){var ti=ei/di;if(ti!==.5){var Ka=ti-.5,Ti=1.0904+An*(-3.2452+An*(3.55645-An*1.43519)),Ei=.848013+An*(-1.06021+An*.215638);ti=ti+ti*Ka*(ti-1)*(Ti*Ka*Ka+Ei)}var Bi=$r.sub(tn)._mult(ti)._add(tn)._unit()._mult(Ta?-1:1);this.addHalfVertex($t,Bi.x,Bi.y,!1,Ta,0,ir)}Nr&&this.addCurrentVertex($t,$r,-Ia,-qa,ir)}else if(xa==="butt")this.addCurrentVertex($t,gn,0,0,ir);else if(xa==="square"){var Vi=xr?1:-1;this.addCurrentVertex($t,gn,Vi,Vi,ir)}else xa==="round"&&(xr&&(this.addCurrentVertex($t,tn,0,0,ir),this.addCurrentVertex($t,tn,1,1,ir,!0)),Nr&&(this.addCurrentVertex($t,$r,-1,-1,ir,!0),this.addCurrentVertex($t,$r,0,0,ir)));if(jn&&Mn<At-1){var vo=$t.dist(Nr);if(vo>2*Wt){var ro=$t.add(Nr.sub($t)._mult(Wt/vo)._round());this.updateDistance($t,ro),this.addCurrentVertex(ro,$r,0,0,ir),$t=ro}}}}},ls.prototype.addCurrentVertex=function(D,H,ne,ve,be,Ce){Ce===void 0&&(Ce=!1);var Ze=H.x+H.y*ne,ht=H.y-H.x*ne,At=-H.x+H.y*ve,Et=-H.y-H.x*ve;this.addHalfVertex(D,Ze,ht,Ce,!1,ne,be),this.addHalfVertex(D,At,Et,Ce,!0,-ve,be),this.distance>vy/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,H,ne,ve,be,Ce))},ls.prototype.addHalfVertex=function(D,H,ne,ve,be,Ce,Ze){var ht=D.x,At=D.y,Et=this.scaledDistance*hy;this.layoutVertexArray.emplaceBack((ht<<1)+(ve?1:0),(At<<1)+(be?1:0),Math.round(cy*H)+128,Math.round(cy*ne)+128,(Ce===0?0:Ce<0?-1:1)+1|(Et&63)<<2,Et>>6);var Wt=Ze.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Wt),Ze.primitiveLength++),be?this.e2=Wt:this.e1=Wt},ls.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(vy-1):this.distance},ls.prototype.updateDistance=function(D,H){this.distance+=D.dist(H),this.updateScaledDistance()},se("LineBucket",ls,{omit:["layers","patternFeatures"]});var i3=new Xi({"line-cap":new da(Xt.layout_line["line-cap"]),"line-join":new wa(Xt.layout_line["line-join"]),"line-miter-limit":new da(Xt.layout_line["line-miter-limit"]),"line-round-limit":new da(Xt.layout_line["line-round-limit"]),"line-sort-key":new wa(Xt.layout_line["line-sort-key"])}),o3=new Xi({"line-opacity":new wa(Xt.paint_line["line-opacity"]),"line-color":new wa(Xt.paint_line["line-color"]),"line-translate":new da(Xt.paint_line["line-translate"]),"line-translate-anchor":new da(Xt.paint_line["line-translate-anchor"]),"line-width":new wa(Xt.paint_line["line-width"]),"line-gap-width":new wa(Xt.paint_line["line-gap-width"]),"line-offset":new wa(Xt.paint_line["line-offset"]),"line-blur":new wa(Xt.paint_line["line-blur"]),"line-dasharray":new ki(Xt.paint_line["line-dasharray"]),"line-pattern":new gi(Xt.paint_line["line-pattern"]),"line-gradient":new Po(Xt.paint_line["line-gradient"])}),dy={paint:o3,layout:i3},s3=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve){return ve=new Bn(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),R.prototype.possiblyEvaluate.call(this,ne,ve)},D.prototype.evaluate=function(ne,ve,be,Ce){return ve=o({},ve,{zoom:Math.floor(ve.zoom)}),R.prototype.evaluate.call(this,ne,ve,be,Ce)},D}(wa),py=new s3(dy.paint.properties["line-width"].specification);py.useIntegerZoom=!0;var l3=function(R){function D(H){R.call(this,H,dy)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ne=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=$g(ne,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve),this.paint._values["line-floorwidth"]=py.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ne)},D.prototype.createBucket=function(ne){return new ls(ne)},D.prototype.queryRadius=function(ne){var ve=ne,be=gy(Ts("line-width",this,ve),Ts("line-gap-width",this,ve)),Ce=Ts("line-offset",this,ve);return be/2+Math.abs(Ce)+wl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Ce,Ze,ht,At){var Et=tl(ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ht.angle,At),Wt=At/2*gy(this.paint.get("line-width").evaluate(ve,be),this.paint.get("line-gap-width").evaluate(ve,be)),ir=this.paint.get("line-offset").evaluate(ve,be);return ir&&(Ce=u3(Ce,ir*At)),$i(Et,Ce,Wt)},D.prototype.isTileClipped=function(){return!0},D}(Mi);function gy(R,D){return D>0?D+2*R:R}function u3(R,D){for(var H=[],ne=new t(0,0),ve=0;ve<R.length;ve++){for(var be=R[ve],Ce=[],Ze=0;Ze<be.length;Ze++){var ht=be[Ze-1],At=be[Ze],Et=be[Ze+1],Wt=Ze===0?ne:At.sub(ht)._unit()._perp(),ir=Ze===be.length-1?ne:Et.sub(At)._unit()._perp(),$t=Wt._add(ir)._unit(),xr=$t.x*ir.x+$t.y*ir.y;$t._mult(1/xr),Ce.push($t._mult(D)._add(At))}H.push(Ce)}return H}var q0=yi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),f3=yi([{name:"a_projected_pos",components:3,type:"Float32"}],4);yi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var c3=yi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);yi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var yy=yi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),h3=yi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);yi([{name:"triangle",components:3,type:"Uint16"}]),yi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),yi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),yi([{type:"Float32",name:"offsetX"}]),yi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function v3(R,D,H){var ne=D.layout.get("text-transform").evaluate(H,{});return ne==="uppercase"?R=R.toLocaleUpperCase():ne==="lowercase"&&(R=R.toLocaleLowerCase()),$a.applyArabicShaping&&(R=$a.applyArabicShaping(R)),R}function d3(R,D,H){return R.sections.forEach(function(ne){ne.text=v3(ne.text,D,H)}),R}function p3(R){var D={},H={},ne=[],ve=0;function be($r){ne.push(R[$r]),ve++}function Ce($r,Mn,gn){var An=H[$r];return delete H[$r],H[Mn]=An,ne[An].geometry[0].pop(),ne[An].geometry[0]=ne[An].geometry[0].concat(gn[0]),An}function Ze($r,Mn,gn){var An=D[Mn];return delete D[Mn],D[$r]=An,ne[An].geometry[0].shift(),ne[An].geometry[0]=gn[0].concat(ne[An].geometry[0]),An}function ht($r,Mn,gn){var An=gn?Mn[0][Mn[0].length-1]:Mn[0][0];return $r+":"+An.x+":"+An.y}for(var At=0;At<R.length;At++){var Et=R[At],Wt=Et.geometry,ir=Et.text?Et.text.toString():null;if(!ir){be(At);continue}var $t=ht(ir,Wt),xr=ht(ir,Wt,!0);if($t in H&&xr in D&&H[$t]!==D[xr]){var Nr=Ze($t,xr,Wt),tn=Ce($t,xr,ne[Nr].geometry);delete D[$t],delete H[xr],H[ht(ir,ne[tn].geometry,!0)]=tn,ne[Nr].geometry=null}else $t in H?Ce($t,xr,Wt):xr in D?Ze($t,xr,Wt):(be(At),D[$t]=ve-1,H[xr]=ve-1)}return ne.filter(function($r){return $r.geometry})}var hv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function g3(R){for(var D="",H=0;H<R.length;H++){var ne=R.charCodeAt(H+1)||null,ve=R.charCodeAt(H-1)||null,be=(!ne||!qr(ne)||hv[R[H+1]])&&(!ve||!qr(ve)||hv[R[H-1]]);be&&hv[R[H]]?D+=hv[R[H]]:D+=R[H]}return D}var Mo=24,y3=function(R,D,H,ne,ve){var be,Ce,Ze=ve*8-ne-1,ht=(1<<Ze)-1,At=ht>>1,Et=-7,Wt=H?ve-1:0,ir=H?-1:1,$t=R[D+Wt];for(Wt+=ir,be=$t&(1<<-Et)-1,$t>>=-Et,Et+=Ze;Et>0;be=be*256+R[D+Wt],Wt+=ir,Et-=8);for(Ce=be&(1<<-Et)-1,be>>=-Et,Et+=ne;Et>0;Ce=Ce*256+R[D+Wt],Wt+=ir,Et-=8);if(be===0)be=1-At;else{if(be===ht)return Ce?NaN:($t?-1:1)*(1/0);Ce=Ce+Math.pow(2,ne),be=be-At}return($t?-1:1)*Ce*Math.pow(2,be-ne)},m3=function(R,D,H,ne,ve,be){var Ce,Ze,ht,At=be*8-ve-1,Et=(1<<At)-1,Wt=Et>>1,ir=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,$t=ne?0:be-1,xr=ne?1:-1,Nr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Ze=isNaN(D)?1:0,Ce=Et):(Ce=Math.floor(Math.log(D)/Math.LN2),D*(ht=Math.pow(2,-Ce))<1&&(Ce--,ht*=2),Ce+Wt>=1?D+=ir/ht:D+=ir*Math.pow(2,1-Wt),D*ht>=2&&(Ce++,ht/=2),Ce+Wt>=Et?(Ze=0,Ce=Et):Ce+Wt>=1?(Ze=(D*ht-1)*Math.pow(2,ve),Ce=Ce+Wt):(Ze=D*Math.pow(2,Wt-1)*Math.pow(2,ve),Ce=0));ve>=8;R[H+$t]=Ze&255,$t+=xr,Ze/=256,ve-=8);for(Ce=Ce<<ve|Ze,At+=ve;At>0;R[H+$t]=Ce&255,$t+=xr,Ce/=256,At-=8);R[H+$t-xr]|=Nr*128},dd={read:y3,write:m3},pd=Si;function Si(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Si.Varint=0,Si.Fixed64=1,Si.Bytes=2,Si.Fixed32=5;var ep=(1<<16)*(1<<16),my=1/ep,x3=12,xy=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Si.prototype={destroy:function(){this.buf=null},readFields:function(R,D,H){for(H=H||this.length;this.pos<H;){var ne=this.readVarint(),ve=ne>>3,be=this.pos;this.type=ne&7,R(ve,D,this),this.pos===be&&this.skip(ne)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=gd(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=wy(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=gd(this.buf,this.pos)+gd(this.buf,this.pos+4)*ep;return this.pos+=8,R},readSFixed64:function(){var R=gd(this.buf,this.pos)+wy(this.buf,this.pos+4)*ep;return this.pos+=8,R},readFloat:function(){var R=dd.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=dd.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,H,ne;return ne=D[this.pos++],H=ne&127,ne<128||(ne=D[this.pos++],H|=(ne&127)<<7,ne<128)||(ne=D[this.pos++],H|=(ne&127)<<14,ne<128)||(ne=D[this.pos++],H|=(ne&127)<<21,ne<128)?H:(ne=D[this.pos],H|=(ne&15)<<28,b3(H,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=x3&&xy?F3(this.buf,D,R):_3(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Si.Bytes)return R.push(this.readVarint(D));var H=df(this);for(R=R||[];this.pos<H;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Si.Bytes)return R.push(this.readSVarint());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Si.Bytes)return R.push(this.readBoolean());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Si.Bytes)return R.push(this.readFloat());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Si.Bytes)return R.push(this.readDouble());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed32());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed32());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed64());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed64());var D=df(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Si.Varint)for(;this.buf[this.pos++]>127;);else if(D===Si.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Si.Fixed32)this.pos+=4;else if(D===Si.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var H=new Uint8Array(D);H.set(this.buf),this.buf=H,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),gh(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),gh(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),gh(this.buf,R&-1,this.pos),gh(this.buf,Math.floor(R*my),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),gh(this.buf,R&-1,this.pos),gh(this.buf,Math.floor(R*my),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){w3(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=k3(this.buf,R,this.pos);var H=this.pos-D;H>=128&&by(D,H,this),this.pos=D-1,this.writeVarint(H),this.pos+=H},writeFloat:function(R){this.realloc(4),dd.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),dd.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var H=0;H<D;H++)this.buf[this.pos++]=R[H]},writeRawMessage:function(R,D){this.pos++;var H=this.pos;R(D,this);var ne=this.pos-H;ne>=128&&by(H,ne,this),this.pos=H-1,this.writeVarint(ne),this.pos+=ne},writeMessage:function(R,D,H){this.writeTag(R,Si.Bytes),this.writeRawMessage(D,H)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,M3,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,S3,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,L3,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,E3,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,C3,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,P3,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,R3,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,D3,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,I3,D)},writeBytesField:function(R,D){this.writeTag(R,Si.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Si.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Si.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function b3(R,D,H){var ne=H.buf,ve,be;if(be=ne[H.pos++],ve=(be&112)>>4,be<128||(be=ne[H.pos++],ve|=(be&127)<<3,be<128)||(be=ne[H.pos++],ve|=(be&127)<<10,be<128)||(be=ne[H.pos++],ve|=(be&127)<<17,be<128)||(be=ne[H.pos++],ve|=(be&127)<<24,be<128)||(be=ne[H.pos++],ve|=(be&1)<<31,be<128))return ph(R,ve,D);throw new Error("Expected varint not more than 10 bytes")}function df(R){return R.type===Si.Bytes?R.readVarint()+R.pos:R.pos+1}function ph(R,D,H){return H?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function w3(R,D){var H,ne;if(R>=0?(H=R%4294967296|0,ne=R/4294967296|0):(H=~(-R%4294967296),ne=~(-R/4294967296),H^4294967295?H=H+1|0:(H=0,ne=ne+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),T3(H,ne,D),A3(ne,D)}function T3(R,D,H){H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos]=R&127}function A3(R,D){var H=(R&7)<<4;D.buf[D.pos++]|=H|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function by(R,D,H){var ne=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));H.realloc(ne);for(var ve=H.pos-1;ve>=R;ve--)H.buf[ve+ne]=H.buf[ve]}function M3(R,D){for(var H=0;H<R.length;H++)D.writeVarint(R[H])}function S3(R,D){for(var H=0;H<R.length;H++)D.writeSVarint(R[H])}function E3(R,D){for(var H=0;H<R.length;H++)D.writeFloat(R[H])}function C3(R,D){for(var H=0;H<R.length;H++)D.writeDouble(R[H])}function L3(R,D){for(var H=0;H<R.length;H++)D.writeBoolean(R[H])}function P3(R,D){for(var H=0;H<R.length;H++)D.writeFixed32(R[H])}function R3(R,D){for(var H=0;H<R.length;H++)D.writeSFixed32(R[H])}function D3(R,D){for(var H=0;H<R.length;H++)D.writeFixed64(R[H])}function I3(R,D){for(var H=0;H<R.length;H++)D.writeSFixed64(R[H])}function gd(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function gh(R,D,H){R[H]=D,R[H+1]=D>>>8,R[H+2]=D>>>16,R[H+3]=D>>>24}function wy(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function _3(R,D,H){for(var ne="",ve=D;ve<H;){var be=R[ve],Ce=null,Ze=be>239?4:be>223?3:be>191?2:1;if(ve+Ze>H)break;var ht,At,Et;Ze===1?be<128&&(Ce=be):Ze===2?(ht=R[ve+1],(ht&192)===128&&(Ce=(be&31)<<6|ht&63,Ce<=127&&(Ce=null))):Ze===3?(ht=R[ve+1],At=R[ve+2],(ht&192)===128&&(At&192)===128&&(Ce=(be&15)<<12|(ht&63)<<6|At&63,(Ce<=2047||Ce>=55296&&Ce<=57343)&&(Ce=null))):Ze===4&&(ht=R[ve+1],At=R[ve+2],Et=R[ve+3],(ht&192)===128&&(At&192)===128&&(Et&192)===128&&(Ce=(be&15)<<18|(ht&63)<<12|(At&63)<<6|Et&63,(Ce<=65535||Ce>=1114112)&&(Ce=null))),Ce===null?(Ce=65533,Ze=1):Ce>65535&&(Ce-=65536,ne+=String.fromCharCode(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne+=String.fromCharCode(Ce),ve+=Ze}return ne}function F3(R,D,H){return xy.decode(R.subarray(D,H))}function k3(R,D,H){for(var ne=0,ve,be;ne<D.length;ne++){if(ve=D.charCodeAt(ne),ve>55295&&ve<57344)if(be)if(ve<56320){R[H++]=239,R[H++]=191,R[H++]=189,be=ve;continue}else ve=be-55296<<10|ve-56320|65536,be=null;else{ve>56319||ne+1===D.length?(R[H++]=239,R[H++]=191,R[H++]=189):be=ve;continue}else be&&(R[H++]=239,R[H++]=191,R[H++]=189,be=null);ve<128?R[H++]=ve:(ve<2048?R[H++]=ve>>6|192:(ve<65536?R[H++]=ve>>12|224:(R[H++]=ve>>18|240,R[H++]=ve>>12&63|128),R[H++]=ve>>6&63|128),R[H++]=ve&63|128)}return H}var tp=3;function z3(R,D,H){R===1&&H.readMessage(O3,D)}function O3(R,D,H){if(R===3){var ne=H.readMessage(B3,{}),ve=ne.id,be=ne.bitmap,Ce=ne.width,Ze=ne.height,ht=ne.left,At=ne.top,Et=ne.advance;D.push({id:ve,bitmap:new Bc({width:Ce+2*tp,height:Ze+2*tp},be),metrics:{width:Ce,height:Ze,left:ht,top:At,advance:Et}})}}function B3(R,D,H){R===1?D.id=H.readVarint():R===2?D.bitmap=H.readBytes():R===3?D.width=H.readVarint():R===4?D.height=H.readVarint():R===5?D.left=H.readSVarint():R===6?D.top=H.readSVarint():R===7&&(D.advance=H.readVarint())}function N3(R){return new pd(R).readFields(z3,[])}var Ty=tp;function Ay(R){for(var D=0,H=0,ne=0,ve=R;ne<ve.length;ne+=1){var be=ve[ne];D+=be.w*be.h,H=Math.max(H,be.w)}R.sort(function(tn,$r){return $r.h-tn.h});for(var Ce=Math.max(Math.ceil(Math.sqrt(D/.95)),H),Ze=[{x:0,y:0,w:Ce,h:1/0}],ht=0,At=0,Et=0,Wt=R;Et<Wt.length;Et+=1)for(var ir=Wt[Et],$t=Ze.length-1;$t>=0;$t--){var xr=Ze[$t];if(!(ir.w>xr.w||ir.h>xr.h)){if(ir.x=xr.x,ir.y=xr.y,At=Math.max(At,ir.y+ir.h),ht=Math.max(ht,ir.x+ir.w),ir.w===xr.w&&ir.h===xr.h){var Nr=Ze.pop();$t<Ze.length&&(Ze[$t]=Nr)}else ir.h===xr.h?(xr.x+=ir.w,xr.w-=ir.w):ir.w===xr.w?(xr.y+=ir.h,xr.h-=ir.h):(Ze.push({x:xr.x+ir.w,y:xr.y,w:xr.w-ir.w,h:ir.h}),xr.y+=ir.h,xr.h-=ir.h);break}}return{w:ht,h:At,fill:D/(ht*At)||0}}var As=1,yd=function(D,H){var ne=H.pixelRatio,ve=H.version,be=H.stretchX,Ce=H.stretchY,Ze=H.content;this.paddedRect=D,this.pixelRatio=ne,this.stretchX=be,this.stretchY=Ce,this.content=Ze,this.version=ve},vv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vv.tl.get=function(){return[this.paddedRect.x+As,this.paddedRect.y+As]},vv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-As,this.paddedRect.y+this.paddedRect.h-As]},vv.tlbr.get=function(){return this.tl.concat(this.br)},vv.displaySize.get=function(){return[(this.paddedRect.w-As*2)/this.pixelRatio,(this.paddedRect.h-As*2)/this.pixelRatio]},Object.defineProperties(yd.prototype,vv);var dv=function(D,H){var ne={},ve={};this.haveRenderCallbacks=[];var be=[];this.addImages(D,ne,be),this.addImages(H,ve,be);var Ce=Ay(be),Ze=Ce.w,ht=Ce.h,At=new ss({width:Ze||1,height:ht||1});for(var Et in D){var Wt=D[Et],ir=ne[Et].paddedRect;ss.copy(Wt.data,At,{x:0,y:0},{x:ir.x+As,y:ir.y+As},Wt.data)}for(var $t in H){var xr=H[$t],Nr=ve[$t].paddedRect,tn=Nr.x+As,$r=Nr.y+As,Mn=xr.data.width,gn=xr.data.height;ss.copy(xr.data,At,{x:0,y:0},{x:tn,y:$r},xr.data),ss.copy(xr.data,At,{x:0,y:gn-1},{x:tn,y:$r-1},{width:Mn,height:1}),ss.copy(xr.data,At,{x:0,y:0},{x:tn,y:$r+gn},{width:Mn,height:1}),ss.copy(xr.data,At,{x:Mn-1,y:0},{x:tn-1,y:$r},{width:1,height:gn}),ss.copy(xr.data,At,{x:0,y:0},{x:tn+Mn,y:$r},{width:1,height:gn})}this.image=At,this.iconPositions=ne,this.patternPositions=ve};dv.prototype.addImages=function(D,H,ne){for(var ve in D){var be=D[ve],Ce={x:0,y:0,w:be.data.width+2*As,h:be.data.height+2*As};ne.push(Ce),H[ve]=new yd(Ce,be),be.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},dv.prototype.patchUpdatedImages=function(D,H){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ne in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ne],D.getImage(ne),H),this.patchUpdatedImage(this.patternPositions[ne],D.getImage(ne),H)},dv.prototype.patchUpdatedImage=function(D,H,ne){if(!(!D||!H)&&D.version!==H.version){D.version=H.version;var ve=D.tl,be=ve[0],Ce=ve[1];ne.update(H.data,void 0,{x:be,y:Ce})}},se("ImagePosition",yd),se("ImageAtlas",dv);var Os={horizontal:1,vertical:2,horizontalOnly:3},pv=-17;function U3(R){for(var D=0,H=R;D<H.length;D+=1){var ne=H[D];if(ne.positionedGlyphs.length!==0)return!1}return!0}var My=57344,Sy=63743,yh=function(){this.scale=1,this.fontStack="",this.imageName=null};yh.forText=function(D,H){var ne=new yh;return ne.scale=D||1,ne.fontStack=H,ne},yh.forImage=function(D){var H=new yh;return H.imageName=D,H};var Oo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Oo.fromFeature=function(D,H){for(var ne=new Oo,ve=0;ve<D.sections.length;ve++){var be=D.sections[ve];be.image?ne.addImageSection(be):ne.addTextSection(be,H)}return ne},Oo.prototype.length=function(){return this.text.length},Oo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Oo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Oo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Oo.prototype.verticalizePunctuation=function(){this.text=g3(this.text)},Oo.prototype.trim=function(){for(var D=0,H=0;H<this.text.length&&Iu[this.text.charCodeAt(H)];H++)D++;for(var ne=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&Iu[this.text.charCodeAt(ve)];ve--)ne--;this.text=this.text.substring(D,ne),this.sectionIndex=this.sectionIndex.slice(D,ne)},Oo.prototype.substring=function(D,H){var ne=new Oo;return ne.text=this.text.substring(D,H),ne.sectionIndex=this.sectionIndex.slice(D,H),ne.sections=this.sections,ne},Oo.prototype.toString=function(){return this.text},Oo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(H,ne){return Math.max(H,D.sections[ne].scale)},0)},Oo.prototype.addTextSection=function(D,H){this.text+=D.text,this.sections.push(yh.forText(D.scale,D.fontStack||H));for(var ne=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(ne)},Oo.prototype.addImageSection=function(D){var H=D.image?D.image.name:"";if(H.length===0){B("Can't add FormattedSection with an empty image.");return}var ne=this.getNextImageSectionCharCode();if(!ne){B("Reached maximum number of images "+(Sy-My+2));return}this.text+=String.fromCharCode(ne),this.sections.push(yh.forImage(H)),this.sectionIndex.push(this.sections.length-1)},Oo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Sy?null:++this.imageSectionID:(this.imageSectionID=My,this.imageSectionID)};function H3(R,D){for(var H=[],ne=R.text,ve=0,be=0,Ce=D;be<Ce.length;be+=1){var Ze=Ce[be];H.push(R.substring(ve,Ze)),ve=Ze}return ve<ne.length&&H.push(R.substring(ve,ne.length)),H}function md(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr){var tn=Oo.fromFeature(R,ve);Wt===Os.vertical&&tn.verticalizePunctuation();var $r,Mn=$a.processBidirectionalText,gn=$a.processStyledBidirectionalText;if(Mn&&tn.sections.length===1){$r=[];for(var An=Mn(tn.toString(),rp(tn,At,be,D,ne,$t,xr)),Rn=0,Un=An;Rn<Un.length;Rn+=1){var Jn=Un[Rn],jn=new Oo;jn.text=Jn,jn.sections=tn.sections;for(var Ta=0;Ta<Jn.length;Ta++)jn.sectionIndex.push(0);$r.push(jn)}}else if(gn){$r=[];for(var fa=gn(tn.text,tn.sectionIndex,rp(tn,At,be,D,ne,$t,xr)),pa=0,ka=fa;pa<ka.length;pa+=1){var xa=ka[pa],ba=new Oo;ba.text=xa[0],ba.sectionIndex=xa[1],ba.sections=tn.sections,$r.push(ba)}}else $r=H3(tn,rp(tn,At,be,D,ne,$t,xr));var Ua=[],Ia={positionedLines:Ua,text:tn.toString(),top:Et[1],bottom:Et[1],left:Et[0],right:Et[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return W3(Ia,D,H,ne,$r,Ce,Ze,ht,Wt,At,ir,Nr),U3(Ua)?!1:Ia}var Iu={};Iu[9]=!0,Iu[10]=!0,Iu[11]=!0,Iu[12]=!0,Iu[13]=!0,Iu[32]=!0;var Ms={};Ms[10]=!0,Ms[32]=!0,Ms[38]=!0,Ms[40]=!0,Ms[41]=!0,Ms[43]=!0,Ms[45]=!0,Ms[47]=!0,Ms[173]=!0,Ms[183]=!0,Ms[8203]=!0,Ms[8208]=!0,Ms[8211]=!0,Ms[8231]=!0;function Ey(R,D,H,ne,ve,be){if(D.imageName){var ht=ne[D.imageName];return ht?ht.displaySize[0]*D.scale*Mo/be+ve:0}else{var Ce=H[D.fontStack],Ze=Ce&&Ce[R];return Ze?Ze.metrics.advance*D.scale+ve:0}}function V3(R,D,H,ne,ve,be){for(var Ce=0,Ze=0;Ze<R.length();Ze++){var ht=R.getSection(Ze);Ce+=Ey(R.getCharCode(Ze),ht,ne,ve,D,be)}var At=Math.max(1,Math.ceil(Ce/H));return Ce/At}function Cy(R,D,H,ne){var ve=Math.pow(R-D,2);return ne?R<D?ve/2:ve*2:ve+Math.abs(H)*H}function G3(R,D,H){var ne=0;return R===10&&(ne-=1e4),H&&(ne+=150),(R===40||R===65288)&&(ne+=50),(D===41||D===65289)&&(ne+=50),ne}function Ly(R,D,H,ne,ve,be){for(var Ce=null,Ze=Cy(D,H,ve,be),ht=0,At=ne;ht<At.length;ht+=1){var Et=At[ht],Wt=D-Et.x,ir=Cy(Wt,H,ve,be)+Et.badness;ir<=Ze&&(Ce=Et,Ze=ir)}return{index:R,x:D,priorBreak:Ce,badness:Ze}}function Py(R){return R?Py(R.priorBreak).concat(R.index):[]}function rp(R,D,H,ne,ve,be,Ce){if(be!=="point")return[];if(!R)return[];for(var Ze=[],ht=V3(R,D,H,ne,ve,Ce),At=R.text.indexOf("​")>=0,Et=0,Wt=0;Wt<R.length();Wt++){var ir=R.getSection(Wt),$t=R.getCharCode(Wt);if(Iu[$t]||(Et+=Ey($t,ir,ne,ve,D,Ce)),Wt<R.length()-1){var xr=Cr($t);(Ms[$t]||xr||ir.imageName)&&Ze.push(Ly(Wt+1,Et,ht,Ze,G3($t,R.getCharCode(Wt+1),xr&&At),!1))}}return Py(Ly(R.length(),Et,ht,Ze,0,!0))}function np(R){var D=.5,H=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":H=1;break;case"top":case"top-right":case"top-left":H=0;break}return{horizontalAlign:D,verticalAlign:H}}function W3(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt){for(var ir=0,$t=pv,xr=0,Nr=0,tn=Ze==="right"?1:Ze==="left"?0:.5,$r=0,Mn=0,gn=ve;Mn<gn.length;Mn+=1){var An=gn[Mn];An.trim();var Rn=An.getMaxScale(),Un=(Rn-1)*Mo,Jn={positionedGlyphs:[],lineOffset:0};R.positionedLines[$r]=Jn;var jn=Jn.positionedGlyphs,Ta=0;if(!An.length()){$t+=be,++$r;continue}for(var fa=0;fa<An.length();fa++){var pa=An.getSection(fa),ka=An.getSectionIndex(fa),xa=An.getCharCode(fa),ba=0,Ua=null,Ia=null,qa=null,di=Mo,ei=!(ht===Os.horizontal||!Et&&!Sr(xa)||Et&&(Iu[xa]||Dr(xa)));if(pa.imageName){var Bi=ne[pa.imageName];if(!Bi)continue;qa=pa.imageName,R.iconsInText=R.iconsInText||!0,Ia=Bi.paddedRect;var Vi=Bi.displaySize;pa.scale=pa.scale*Mo/Wt,Ua={width:Vi[0],height:Vi[1],left:As,top:-Ty,advance:ei?Vi[1]:Vi[0]};var vo=Mo-Vi[1]*pa.scale;ba=Un+vo,di=Ua.advance;var ro=ei?Vi[0]*pa.scale-Mo*Rn:Vi[1]*pa.scale-Mo*Rn;ro>0&&ro>Ta&&(Ta=ro)}else{var ti=H[pa.fontStack],Ka=ti&&ti[xa];if(Ka&&Ka.rect)Ia=Ka.rect,Ua=Ka.metrics;else{var Ti=D[pa.fontStack],Ei=Ti&&Ti[xa];if(!Ei)continue;Ua=Ei.metrics}ba=(Rn-pa.scale)*Mo}ei?(R.verticalizable=!0,jn.push({glyph:xa,imageName:qa,x:ir,y:$t+ba,vertical:ei,scale:pa.scale,fontStack:pa.fontStack,sectionIndex:ka,metrics:Ua,rect:Ia}),ir+=di*pa.scale+At):(jn.push({glyph:xa,imageName:qa,x:ir,y:$t+ba,vertical:ei,scale:pa.scale,fontStack:pa.fontStack,sectionIndex:ka,metrics:Ua,rect:Ia}),ir+=Ua.advance*pa.scale+At)}if(jn.length!==0){var Bo=ir-At;xr=Math.max(Bo,xr),Y3(jn,0,jn.length-1,tn,Ta)}ir=0;var No=be*Rn+Ta;Jn.lineOffset=Math.max(Ta,Un),$t+=No,Nr=Math.max(No,Nr),++$r}var po=$t-pv,Zo=np(Ce),Xo=Zo.horizontalAlign,so=Zo.verticalAlign;Z3(R.positionedLines,tn,Xo,so,xr,Nr,be,po,ve.length),R.top+=-so*po,R.bottom=R.top+po,R.left+=-Xo*xr,R.right=R.left+xr}function Y3(R,D,H,ne,ve){if(!(!ne&&!ve))for(var be=R[H],Ce=be.metrics.advance*be.scale,Ze=(R[H].x+Ce)*ne,ht=D;ht<=H;ht++)R[ht].x-=Ze,R[ht].y+=ve}function Z3(R,D,H,ne,ve,be,Ce,Ze,ht){var At=(D-H)*ve,Et=0;be!==Ce?Et=-Ze*ne-pv:Et=(-ne*ht+.5)*Ce;for(var Wt=0,ir=R;Wt<ir.length;Wt+=1)for(var $t=ir[Wt],xr=0,Nr=$t.positionedGlyphs;xr<Nr.length;xr+=1){var tn=Nr[xr];tn.x+=At,tn.y+=Et}}function X3(R,D,H){var ne=np(H),ve=ne.horizontalAlign,be=ne.verticalAlign,Ce=D[0],Ze=D[1],ht=Ce-R.displaySize[0]*ve,At=ht+R.displaySize[0],Et=Ze-R.displaySize[1]*be,Wt=Et+R.displaySize[1];return{image:R,top:Et,bottom:Wt,left:ht,right:At}}function Ry(R,D,H,ne,ve,be){var Ce=R.image,Ze;if(Ce.content){var ht=Ce.content,At=Ce.pixelRatio||1;Ze=[ht[0]/At,ht[1]/At,Ce.displaySize[0]-ht[2]/At,Ce.displaySize[1]-ht[3]/At]}var Et=D.left*be,Wt=D.right*be,ir,$t,xr,Nr;H==="width"||H==="both"?(Nr=ve[0]+Et-ne[3],$t=ve[0]+Wt+ne[1]):(Nr=ve[0]+(Et+Wt-Ce.displaySize[0])/2,$t=Nr+Ce.displaySize[0]);var tn=D.top*be,$r=D.bottom*be;return H==="height"||H==="both"?(ir=ve[1]+tn-ne[0],xr=ve[1]+$r+ne[2]):(ir=ve[1]+(tn+$r-Ce.displaySize[1])/2,xr=ir+Ce.displaySize[1]),{image:Ce,top:ir,right:$t,bottom:xr,left:Nr,collisionPadding:Ze}}var mh=function(R){function D(H,ne,ve,be){R.call(this,H,ne),this.angle=ve,be!==void 0&&(this.segment=be)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);se("Anchor",mh);var eu=128;function ap(R,D){var H=D.expression;if(H.kind==="constant"){var ne=H.evaluate(new Bn(R+1));return{kind:"constant",layoutSize:ne}}else{if(H.kind==="source")return{kind:"source"};for(var ve=H.zoomStops,be=H.interpolationType,Ce=0;Ce<ve.length&&ve[Ce]<=R;)Ce++;Ce=Math.max(0,Ce-1);for(var Ze=Ce;Ze<ve.length&&ve[Ze]<R+1;)Ze++;Ze=Math.min(ve.length-1,Ze);var ht=ve[Ce],At=ve[Ze];if(H.kind==="composite")return{kind:"composite",minZoom:ht,maxZoom:At,interpolationType:be};var Et=H.evaluate(new Bn(ht)),Wt=H.evaluate(new Bn(At));return{kind:"camera",minZoom:ht,maxZoom:At,minSize:Et,maxSize:Wt,interpolationType:be}}}function Dy(R,D,H){var ne=D.uSize,ve=D.uSizeT,be=H.lowerSize,Ce=H.upperSize;return R.kind==="source"?be/eu:R.kind==="composite"?Di(be/eu,Ce/eu,ve):ne}function Iy(R,D){var H=0,ne=0;if(R.kind==="constant")ne=R.layoutSize;else if(R.kind!=="source"){var ve=R.interpolationType,be=R.minZoom,Ce=R.maxZoom,Ze=ve?u(_i.interpolationFactor(ve,D,be,Ce),0,1):0;R.kind==="camera"?ne=Di(R.minSize,R.maxSize,Ze):H=Ze}return{uSizeT:H,uSize:ne}}var j3=Object.freeze({__proto__:null,getSizeData:ap,evaluateSizeForFeature:Dy,evaluateSizeForZoom:Iy,SIZE_PACK_FACTOR:eu});function _y(R,D,H,ne,ve){if(D.segment===void 0)return!0;for(var be=D,Ce=D.segment+1,Ze=0;Ze>-H/2;){if(Ce--,Ce<0)return!1;Ze-=R[Ce].dist(be),be=R[Ce]}Ze+=R[Ce].dist(R[Ce+1]),Ce++;for(var ht=[],At=0;Ze<H/2;){var Et=R[Ce-1],Wt=R[Ce],ir=R[Ce+1];if(!ir)return!1;var $t=Et.angleTo(Wt)-Wt.angleTo(ir);for($t=Math.abs(($t+3*Math.PI)%(Math.PI*2)-Math.PI),ht.push({distance:Ze,angleDelta:$t}),At+=$t;Ze-ht[0].distance>ne;)At-=ht.shift().angleDelta;if(At>ve)return!1;Ce++,Ze+=Wt.dist(ir)}return!0}function Fy(R){for(var D=0,H=0;H<R.length-1;H++)D+=R[H].dist(R[H+1]);return D}function ky(R,D,H){return R?.6*D*H:0}function zy(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function K3(R,D,H,ne,ve,be){for(var Ce=ky(H,ve,be),Ze=zy(H,ne)*be,ht=0,At=Fy(R)/2,Et=0;Et<R.length-1;Et++){var Wt=R[Et],ir=R[Et+1],$t=Wt.dist(ir);if(ht+$t>At){var xr=(At-ht)/$t,Nr=Di(Wt.x,ir.x,xr),tn=Di(Wt.y,ir.y,xr),$r=new mh(Nr,tn,ir.angleTo(Wt),Et);return $r._round(),!Ce||_y(R,$r,Ze,Ce,D)?$r:void 0}ht+=$t}}function J3(R,D,H,ne,ve,be,Ce,Ze,ht){var At=ky(ne,be,Ce),Et=zy(ne,ve),Wt=Et*Ce,ir=R[0].x===0||R[0].x===ht||R[0].y===0||R[0].y===ht;D-Wt<D/4&&(D=Wt+D/4);var $t=be*2,xr=ir?D/2*Ze%D:(Et/2+$t)*Ce*Ze%D;return Oy(R,xr,D,At,H,Wt,ir,!1,ht)}function Oy(R,D,H,ne,ve,be,Ce,Ze,ht){for(var At=be/2,Et=Fy(R),Wt=0,ir=D-H,$t=[],xr=0;xr<R.length-1;xr++){for(var Nr=R[xr],tn=R[xr+1],$r=Nr.dist(tn),Mn=tn.angleTo(Nr);ir+H<Wt+$r;){ir+=H;var gn=(ir-Wt)/$r,An=Di(Nr.x,tn.x,gn),Rn=Di(Nr.y,tn.y,gn);if(An>=0&&An<ht&&Rn>=0&&Rn<ht&&ir-At>=0&&ir+At<=Et){var Un=new mh(An,Rn,Mn,xr);Un._round(),(!ne||_y(R,Un,be,ne,ve))&&$t.push(Un)}}Wt+=$r}return!Ze&&!$t.length&&!Ce&&($t=Oy(R,Wt/2,H,ne,ve,be,Ce,!0,ht)),$t}function By(R,D,H,ne,ve){for(var be=[],Ce=0;Ce<R.length;Ce++)for(var Ze=R[Ce],ht=void 0,At=0;At<Ze.length-1;At++){var Et=Ze[At],Wt=Ze[At+1];Et.x<D&&Wt.x<D||(Et.x<D?Et=new t(D,Et.y+(Wt.y-Et.y)*((D-Et.x)/(Wt.x-Et.x)))._round():Wt.x<D&&(Wt=new t(D,Et.y+(Wt.y-Et.y)*((D-Et.x)/(Wt.x-Et.x)))._round()),!(Et.y<H&&Wt.y<H)&&(Et.y<H?Et=new t(Et.x+(Wt.x-Et.x)*((H-Et.y)/(Wt.y-Et.y)),H)._round():Wt.y<H&&(Wt=new t(Et.x+(Wt.x-Et.x)*((H-Et.y)/(Wt.y-Et.y)),H)._round()),!(Et.x>=ne&&Wt.x>=ne)&&(Et.x>=ne?Et=new t(ne,Et.y+(Wt.y-Et.y)*((ne-Et.x)/(Wt.x-Et.x)))._round():Wt.x>=ne&&(Wt=new t(ne,Et.y+(Wt.y-Et.y)*((ne-Et.x)/(Wt.x-Et.x)))._round()),!(Et.y>=ve&&Wt.y>=ve)&&(Et.y>=ve?Et=new t(Et.x+(Wt.x-Et.x)*((ve-Et.y)/(Wt.y-Et.y)),ve)._round():Wt.y>=ve&&(Wt=new t(Et.x+(Wt.x-Et.x)*((ve-Et.y)/(Wt.y-Et.y)),ve)._round()),(!ht||!Et.equals(ht[ht.length-1]))&&(ht=[Et],be.push(ht)),ht.push(Wt)))))}return be}var xh=As;function Ny(R,D,H,ne){var ve=[],be=R.image,Ce=be.pixelRatio,Ze=be.paddedRect.w-2*xh,ht=be.paddedRect.h-2*xh,At=R.right-R.left,Et=R.bottom-R.top,Wt=be.stretchX||[[0,Ze]],ir=be.stretchY||[[0,ht]],$t=function(ti,Ka){return ti+Ka[1]-Ka[0]},xr=Wt.reduce($t,0),Nr=ir.reduce($t,0),tn=Ze-xr,$r=ht-Nr,Mn=0,gn=xr,An=0,Rn=Nr,Un=0,Jn=tn,jn=0,Ta=$r;if(be.content&&ne){var fa=be.content;Mn=xd(Wt,0,fa[0]),An=xd(ir,0,fa[1]),gn=xd(Wt,fa[0],fa[2]),Rn=xd(ir,fa[1],fa[3]),Un=fa[0]-Mn,jn=fa[1]-An,Jn=fa[2]-fa[0]-gn,Ta=fa[3]-fa[1]-Rn}var pa=function(ti,Ka,Ti,Ei){var Bi=bd(ti.stretch-Mn,gn,At,R.left),Vi=wd(ti.fixed-Un,Jn,ti.stretch,xr),vo=bd(Ka.stretch-An,Rn,Et,R.top),ro=wd(Ka.fixed-jn,Ta,Ka.stretch,Nr),Bo=bd(Ti.stretch-Mn,gn,At,R.left),No=wd(Ti.fixed-Un,Jn,Ti.stretch,xr),po=bd(Ei.stretch-An,Rn,Et,R.top),Zo=wd(Ei.fixed-jn,Ta,Ei.stretch,Nr),Xo=new t(Bi,vo),so=new t(Bo,vo),jo=new t(Bo,po),Bs=new t(Bi,po),yf=new t(Vi/Ce,ro/Ce),qf=new t(No/Ce,Zo/Ce),ec=D*Math.PI/180;if(ec){var tc=Math.sin(ec),Ch=Math.cos(ec),Al=[Ch,-tc,tc,Ch];Xo._matMult(Al),so._matMult(Al),Bs._matMult(Al),jo._matMult(Al)}var Cd=ti.stretch+ti.fixed,hp=Ti.stretch+Ti.fixed,Ld=Ka.stretch+Ka.fixed,vp=Ei.stretch+Ei.fixed,rl={x:be.paddedRect.x+xh+Cd,y:be.paddedRect.y+xh+Ld,w:hp-Cd,h:vp-Ld},Lh=Jn/Ce/At,Pd=Ta/Ce/Et;return{tl:Xo,tr:so,bl:Bs,br:jo,tex:rl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yf,pixelOffsetBR:qf,minFontScaleX:Lh,minFontScaleY:Pd,isSDF:H}};if(!ne||!be.stretchX&&!be.stretchY)ve.push(pa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ze+1},{fixed:0,stretch:ht+1}));else for(var ka=Uy(Wt,tn,xr),xa=Uy(ir,$r,Nr),ba=0;ba<ka.length-1;ba++)for(var Ua=ka[ba],Ia=ka[ba+1],qa=0;qa<xa.length-1;qa++){var di=xa[qa],ei=xa[qa+1];ve.push(pa(Ua,di,Ia,ei))}return ve}function xd(R,D,H){for(var ne=0,ve=0,be=R;ve<be.length;ve+=1){var Ce=be[ve];ne+=Math.max(D,Math.min(H,Ce[1]))-Math.max(D,Math.min(H,Ce[0]))}return ne}function Uy(R,D,H){for(var ne=[{fixed:-xh,stretch:0}],ve=0,be=R;ve<be.length;ve+=1){var Ce=be[ve],Ze=Ce[0],ht=Ce[1],At=ne[ne.length-1];ne.push({fixed:Ze-At.stretch,stretch:At.stretch}),ne.push({fixed:Ze-At.stretch,stretch:At.stretch+(ht-Ze)})}return ne.push({fixed:D+xh,stretch:H}),ne}function bd(R,D,H,ne){return R/D*H+ne}function wd(R,D,H,ne){return R-D*H/ne}function Q3(R,D,H,ne,ve,be,Ce,Ze){for(var ht=ne.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,At=[],Et=0,Wt=D.positionedLines;Et<Wt.length;Et+=1)for(var ir=Wt[Et],$t=0,xr=ir.positionedGlyphs;$t<xr.length;$t+=1){var Nr=xr[$t];if(Nr.rect){var tn=Nr.rect||{},$r=1,Mn=Ty+$r,gn=!0,An=1,Rn=0,Un=(ve||Ze)&&Nr.vertical,Jn=Nr.metrics.advance*Nr.scale/2;if(Ze&&D.verticalizable){var jn=(Nr.scale-1)*Mo,Ta=(Mo-Nr.metrics.width*Nr.scale)/2;Rn=ir.lineOffset/2-(Nr.imageName?-Ta:jn)}if(Nr.imageName){var fa=Ce[Nr.imageName];gn=fa.sdf,An=fa.pixelRatio,Mn=As/An}var pa=ve?[Nr.x+Jn,Nr.y]:[0,0],ka=ve?[0,0]:[Nr.x+Jn+H[0],Nr.y+H[1]-Rn],xa=[0,0];Un&&(xa=ka,ka=[0,0]);var ba=(Nr.metrics.left-Mn)*Nr.scale-Jn+ka[0],Ua=(-Nr.metrics.top-Mn)*Nr.scale+ka[1],Ia=ba+tn.w*Nr.scale/An,qa=Ua+tn.h*Nr.scale/An,di=new t(ba,Ua),ei=new t(Ia,Ua),ti=new t(ba,qa),Ka=new t(Ia,qa);if(Un){var Ti=new t(-Jn,Jn-pv),Ei=-Math.PI/2,Bi=Mo/2-Jn,Vi=Nr.imageName?Bi:0,vo=new t(5-pv-Bi,-Vi),ro=new(Function.prototype.bind.apply(t,[null].concat(xa)));di._rotateAround(Ei,Ti)._add(vo)._add(ro),ei._rotateAround(Ei,Ti)._add(vo)._add(ro),ti._rotateAround(Ei,Ti)._add(vo)._add(ro),Ka._rotateAround(Ei,Ti)._add(vo)._add(ro)}if(ht){var Bo=Math.sin(ht),No=Math.cos(ht),po=[No,-Bo,Bo,No];di._matMult(po),ei._matMult(po),ti._matMult(po),Ka._matMult(po)}var Zo=new t(0,0),Xo=new t(0,0),so=0,jo=0;At.push({tl:di,tr:ei,bl:ti,br:Ka,tex:tn,writingMode:D.writingMode,glyphOffset:pa,sectionIndex:Nr.sectionIndex,isSDF:gn,pixelOffsetTL:Zo,pixelOffsetBR:Xo,minFontScaleX:so,minFontScaleY:jo})}}return At}var Td=function(D,H,ne,ve,be,Ce,Ze,ht,At,Et){if(this.boxStartIndex=D.length,At){var Wt=Ce.top,ir=Ce.bottom,$t=Ce.collisionPadding;$t&&(Wt-=$t[1],ir+=$t[3]);var xr=ir-Wt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Nr=Ce.top*Ze-ht,tn=Ce.bottom*Ze+ht,$r=Ce.left*Ze-ht,Mn=Ce.right*Ze+ht,gn=Ce.collisionPadding;if(gn&&($r-=gn[0]*Ze,Nr-=gn[1]*Ze,Mn+=gn[2]*Ze,tn+=gn[3]*Ze),Et){var An=new t($r,Nr),Rn=new t(Mn,Nr),Un=new t($r,tn),Jn=new t(Mn,tn),jn=Et*Math.PI/180;An._rotate(jn),Rn._rotate(jn),Un._rotate(jn),Jn._rotate(jn),$r=Math.min(An.x,Rn.x,Un.x,Jn.x),Mn=Math.max(An.x,Rn.x,Un.x,Jn.x),Nr=Math.min(An.y,Rn.y,Un.y,Jn.y),tn=Math.max(An.y,Rn.y,Un.y,Jn.y)}D.emplaceBack(H.x,H.y,$r,Nr,Mn,tn,ne,ve,be)}this.boxEndIndex=D.length},bh=function(D,H){if(D===void 0&&(D=[]),H===void 0&&(H=$3),this.data=D,this.length=this.data.length,this.compare=H,this.length>0)for(var ne=(this.length>>1)-1;ne>=0;ne--)this._down(ne)};bh.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},bh.prototype.pop=function(){if(this.length!==0){var D=this.data[0],H=this.data.pop();return this.length--,this.length>0&&(this.data[0]=H,this._down(0)),D}},bh.prototype.peek=function(){return this.data[0]},bh.prototype._up=function(D){for(var H=this,ne=H.data,ve=H.compare,be=ne[D];D>0;){var Ce=D-1>>1,Ze=ne[Ce];if(ve(be,Ze)>=0)break;ne[D]=Ze,D=Ce}ne[D]=be},bh.prototype._down=function(D){for(var H=this,ne=H.data,ve=H.compare,be=this.length>>1,Ce=ne[D];D<be;){var Ze=(D<<1)+1,ht=ne[Ze],At=Ze+1;if(At<this.length&&ve(ne[At],ht)<0&&(Ze=At,ht=ne[At]),ve(ht,Ce)>=0)break;ne[D]=ht,D=Ze}ne[D]=Ce};function $3(R,D){return R<D?-1:R>D?1:0}function q3(R,D,H){D===void 0&&(D=1),H===void 0&&(H=!1);for(var ne=1/0,ve=1/0,be=-1/0,Ce=-1/0,Ze=R[0],ht=0;ht<Ze.length;ht++){var At=Ze[ht];(!ht||At.x<ne)&&(ne=At.x),(!ht||At.y<ve)&&(ve=At.y),(!ht||At.x>be)&&(be=At.x),(!ht||At.y>Ce)&&(Ce=At.y)}var Et=be-ne,Wt=Ce-ve,ir=Math.min(Et,Wt),$t=ir/2,xr=new bh([],ew);if(ir===0)return new t(ne,ve);for(var Nr=ne;Nr<be;Nr+=ir)for(var tn=ve;tn<Ce;tn+=ir)xr.push(new wh(Nr+$t,tn+$t,$t,R));for(var $r=rw(R),Mn=xr.length;xr.length;){var gn=xr.pop();(gn.d>$r.d||!$r.d)&&($r=gn,H&&console.log("found best %d after %d probes",Math.round(1e4*gn.d)/1e4,Mn)),!(gn.max-$r.d<=D)&&($t=gn.h/2,xr.push(new wh(gn.p.x-$t,gn.p.y-$t,$t,R)),xr.push(new wh(gn.p.x+$t,gn.p.y-$t,$t,R)),xr.push(new wh(gn.p.x-$t,gn.p.y+$t,$t,R)),xr.push(new wh(gn.p.x+$t,gn.p.y+$t,$t,R)),Mn+=4)}return H&&(console.log("num probes: "+Mn),console.log("best distance: "+$r.d)),$r.p}function ew(R,D){return D.max-R.max}function wh(R,D,H,ne){this.p=new t(R,D),this.h=H,this.d=tw(this.p,ne),this.max=this.d+this.h*Math.SQRT2}function tw(R,D){for(var H=!1,ne=1/0,ve=0;ve<D.length;ve++)for(var be=D[ve],Ce=0,Ze=be.length,ht=Ze-1;Ce<Ze;ht=Ce++){var At=be[Ce],Et=be[ht];At.y>R.y!=Et.y>R.y&&R.x<(Et.x-At.x)*(R.y-At.y)/(Et.y-At.y)+At.x&&(H=!H),ne=Math.min(ne,Ql(R,At,Et))}return(H?1:-1)*Math.sqrt(ne)}function rw(R){for(var D=0,H=0,ne=0,ve=R[0],be=0,Ce=ve.length,Ze=Ce-1;be<Ce;Ze=be++){var ht=ve[be],At=ve[Ze],Et=ht.x*At.y-At.x*ht.y;H+=(ht.x+At.x)*Et,ne+=(ht.y+At.y)*Et,D+=Et*3}return new wh(H/D,ne/D,0,R)}var Th=7,ip=Number.POSITIVE_INFINITY;function Hy(R,D){function H(ve,be){var Ce=0,Ze=0;be<0&&(be=0);var ht=be/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Ze=ht-Th;break;case"bottom-right":case"bottom-left":Ze=-ht+Th;break;case"bottom":Ze=-be+Th;break;case"top":Ze=be-Th;break}switch(ve){case"top-right":case"bottom-right":Ce=-ht;break;case"top-left":case"bottom-left":Ce=ht;break;case"left":Ce=be;break;case"right":Ce=-be;break}return[Ce,Ze]}function ne(ve,be,Ce){var Ze=0,ht=0;switch(be=Math.abs(be),Ce=Math.abs(Ce),ve){case"top-right":case"top-left":case"top":ht=Ce-Th;break;case"bottom-right":case"bottom-left":case"bottom":ht=-Ce+Th;break}switch(ve){case"top-right":case"bottom-right":case"right":Ze=-be;break;case"top-left":case"bottom-left":case"left":Ze=be;break}return[Ze,ht]}return D[1]!==ip?ne(R,D[0],D[1]):H(R,D[0])}function nw(R,D,H,ne,ve,be,Ce){R.createArrays();var Ze=512*R.overscaling;R.tilePixelRatio=Sa/Ze,R.compareText={},R.iconsNeedLinear=!1;var ht=R.layers[0].layout,At=R.layers[0]._unevaluatedLayout._values,Et={};if(R.textSizeData.kind==="composite"){var Wt=R.textSizeData,ir=Wt.minZoom,$t=Wt.maxZoom;Et.compositeTextSizes=[At["text-size"].possiblyEvaluate(new Bn(ir),Ce),At["text-size"].possiblyEvaluate(new Bn($t),Ce)]}if(R.iconSizeData.kind==="composite"){var xr=R.iconSizeData,Nr=xr.minZoom,tn=xr.maxZoom;Et.compositeIconSizes=[At["icon-size"].possiblyEvaluate(new Bn(Nr),Ce),At["icon-size"].possiblyEvaluate(new Bn(tn),Ce)]}Et.layoutTextSize=At["text-size"].possiblyEvaluate(new Bn(R.zoom+1),Ce),Et.layoutIconSize=At["icon-size"].possiblyEvaluate(new Bn(R.zoom+1),Ce),Et.textMaxSize=At["text-size"].possiblyEvaluate(new Bn(18));for(var $r=ht.get("text-line-height")*Mo,Mn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",gn=ht.get("text-keep-upright"),An=ht.get("text-size"),Rn=function(){var jn=Jn[Un],Ta=ht.get("text-font").evaluate(jn,{},Ce).join(","),fa=An.evaluate(jn,{},Ce),pa=Et.layoutTextSize.evaluate(jn,{},Ce),ka=Et.layoutIconSize.evaluate(jn,{},Ce),xa={horizontal:{},vertical:void 0},ba=jn.text,Ua=[0,0];if(ba){var Ia=ba.toString(),qa=ht.get("text-letter-spacing").evaluate(jn,{},Ce)*Mo,di=qt(Ia)?qa:0,ei=ht.get("text-anchor").evaluate(jn,{},Ce),ti=ht.get("text-variable-anchor");if(!ti){var Ka=ht.get("text-radial-offset").evaluate(jn,{},Ce);Ka?Ua=Hy(ei,[Ka*Mo,ip]):Ua=ht.get("text-offset").evaluate(jn,{},Ce).map(function(yf){return yf*Mo})}var Ti=Mn?"center":ht.get("text-justify").evaluate(jn,{},Ce),Ei=ht.get("symbol-placement"),Bi=Ei==="point"?ht.get("text-max-width").evaluate(jn,{},Ce)*Mo:0,Vi=function(){R.allowVerticalPlacement&&Ht(Ia)&&(xa.vertical=md(ba,D,H,ve,Ta,Bi,$r,ei,"left",di,Ua,Os.vertical,!0,Ei,pa,fa))};if(!Mn&&ti){for(var vo=Ti==="auto"?ti.map(function(yf){return op(yf)}):[Ti],ro=!1,Bo=0;Bo<vo.length;Bo++){var No=vo[Bo];if(!xa.horizontal[No])if(ro)xa.horizontal[No]=xa.horizontal[0];else{var po=md(ba,D,H,ve,Ta,Bi,$r,"center",No,di,Ua,Os.horizontal,!1,Ei,pa,fa);po&&(xa.horizontal[No]=po,ro=po.positionedLines.length===1)}}Vi()}else{Ti==="auto"&&(Ti=op(ei));var Zo=md(ba,D,H,ve,Ta,Bi,$r,ei,Ti,di,Ua,Os.horizontal,!1,Ei,pa,fa);Zo&&(xa.horizontal[Ti]=Zo),Vi(),Ht(Ia)&&Mn&&gn&&(xa.vertical=md(ba,D,H,ve,Ta,Bi,$r,ei,Ti,di,Ua,Os.vertical,!1,Ei,pa,fa))}}var Xo=void 0,so=!1;if(jn.icon&&jn.icon.name){var jo=ne[jn.icon.name];jo&&(Xo=X3(ve[jn.icon.name],ht.get("icon-offset").evaluate(jn,{},Ce),ht.get("icon-anchor").evaluate(jn,{},Ce)),so=jo.sdf,R.sdfIcons===void 0?R.sdfIcons=jo.sdf:R.sdfIcons!==jo.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(jo.pixelRatio!==R.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var Bs=Gy(xa.horizontal)||xa.vertical;R.iconsInText=Bs?Bs.iconsInText:!1,(Bs||Xo)&&aw(R,jn,xa,Xo,ne,Et,pa,ka,Ua,so,Ce)},Un=0,Jn=R.features;Un<Jn.length;Un+=1)Rn();be&&R.generateCollisionDebugBuffers()}function op(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function aw(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et){var Wt=be.textMaxSize.evaluate(D,{});Wt===void 0&&(Wt=Ce);var ir=R.layers[0].layout,$t=ir.get("icon-offset").evaluate(D,{},Et),xr=Gy(H.horizontal),Nr=24,tn=Ce/Nr,$r=R.tilePixelRatio*tn,Mn=R.tilePixelRatio*Wt/Nr,gn=R.tilePixelRatio*Ze,An=R.tilePixelRatio*ir.get("symbol-spacing"),Rn=ir.get("text-padding")*R.tilePixelRatio,Un=ir.get("icon-padding")*R.tilePixelRatio,Jn=ir.get("text-max-angle")/180*Math.PI,jn=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Ta=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",fa=ir.get("symbol-placement"),pa=An/2,ka=ir.get("icon-text-fit"),xa;ne&&ka!=="none"&&(R.allowVerticalPlacement&&H.vertical&&(xa=Ry(ne,H.vertical,ka,ir.get("icon-text-fit-padding"),$t,tn)),xr&&(ne=Ry(ne,xr,ka,ir.get("icon-text-fit-padding"),$t,tn)));var ba=function(Ch,Al){Al.x<0||Al.x>=Sa||Al.y<0||Al.y>=Sa||iw(R,Al,Ch,H,ne,ve,xa,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,$r,Rn,jn,ht,gn,Un,Ta,$t,D,be,At,Et,Ce)};if(fa==="line")for(var Ua=0,Ia=By(D.geometry,0,0,Sa,Sa);Ua<Ia.length;Ua+=1)for(var qa=Ia[Ua],di=J3(qa,An,Jn,H.vertical||xr,ne,Nr,Mn,R.overscaling,Sa),ei=0,ti=di;ei<ti.length;ei+=1){var Ka=ti[ei],Ti=xr;(!Ti||!ow(R,Ti.text,pa,Ka))&&ba(qa,Ka)}else if(fa==="line-center")for(var Ei=0,Bi=D.geometry;Ei<Bi.length;Ei+=1){var Vi=Bi[Ei];if(Vi.length>1){var vo=K3(Vi,Jn,H.vertical||xr,ne,Nr,Mn);vo&&ba(Vi,vo)}}else if(D.type==="Polygon")for(var ro=0,Bo=K0(D.geometry,0);ro<Bo.length;ro+=1){var No=Bo[ro],po=q3(No,16);ba(No[0],new mh(po.x,po.y,0))}else if(D.type==="LineString")for(var Zo=0,Xo=D.geometry;Zo<Xo.length;Zo+=1){var so=Xo[Zo];ba(so,new mh(so[0].x,so[0].y,0))}else if(D.type==="Point")for(var jo=0,Bs=D.geometry;jo<Bs.length;jo+=1)for(var yf=Bs[jo],qf=0,ec=yf;qf<ec.length;qf+=1){var tc=ec[qf];ba([tc],new mh(tc.x,tc.y,0))}}var gv=255,Qf=gv*eu;function Vy(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr){var Nr=Q3(D,H,Ze,ve,be,Ce,ne,R.allowVerticalPlacement),tn=R.textSizeData,$r=null;tn.kind==="source"?($r=[eu*ve.layout.get("text-size").evaluate(Ce,{})],$r[0]>Qf&&B(R.layerIds[0]+': Value for "text-size" is >= '+gv+'. Reduce your "text-size".')):tn.kind==="composite"&&($r=[eu*$t.compositeTextSizes[0].evaluate(Ce,{},xr),eu*$t.compositeTextSizes[1].evaluate(Ce,{},xr)],($r[0]>Qf||$r[1]>Qf)&&B(R.layerIds[0]+': Value for "text-size" is >= '+gv+'. Reduce your "text-size".')),R.addSymbols(R.text,Nr,$r,Ze,be,Ce,At,D,ht.lineStartIndex,ht.lineLength,ir,xr);for(var Mn=0,gn=Et;Mn<gn.length;Mn+=1){var An=gn[Mn];Wt[An]=R.text.placedSymbolArray.length-1}return Nr.length*4}function Gy(R){for(var D in R)return R[D];return null}function iw(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir,$t,xr,Nr,tn,$r,Mn,gn,An,Rn,Un,Jn,jn){var Ta,fa=R.addToLineVertexArray(D,H),pa,ka,xa,ba,Ua=0,Ia=0,qa=0,di=0,ei=-1,ti=-1,Ka={},Ti=We(""),Ei=0,Bi=0;if(Ze._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=Ze.layout.get("text-offset").evaluate(An,{},Jn).map(function(xv){return xv*Mo}),Ei=Ta[0],Bi=Ta[1]):(Ei=Ze.layout.get("text-radial-offset").evaluate(An,{},Jn)*Mo,Bi=ip),R.allowVerticalPlacement&&ne.vertical){var Vi=Ze.layout.get("text-rotate").evaluate(An,{},Jn),vo=Vi+90,ro=ne.vertical;xa=new Td(ht,D,At,Et,Wt,ro,ir,$t,xr,vo),Ce&&(ba=new Td(ht,D,At,Et,Wt,Ce,tn,$r,xr,vo))}if(ve){var Bo=Ze.layout.get("icon-rotate").evaluate(An,{}),No=Ze.layout.get("icon-text-fit")!=="none",po=Ny(ve,Bo,Un,No),Zo=Ce?Ny(Ce,Bo,Un,No):void 0;ka=new Td(ht,D,At,Et,Wt,ve,tn,$r,!1,Bo),Ua=po.length*4;var Xo=R.iconSizeData,so=null;Xo.kind==="source"?(so=[eu*Ze.layout.get("icon-size").evaluate(An,{})],so[0]>Qf&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gv+'. Reduce your "icon-size".')):Xo.kind==="composite"&&(so=[eu*Rn.compositeIconSizes[0].evaluate(An,{},Jn),eu*Rn.compositeIconSizes[1].evaluate(An,{},Jn)],(so[0]>Qf||so[1]>Qf)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gv+'. Reduce your "icon-size".')),R.addSymbols(R.icon,po,so,gn,Mn,An,!1,D,fa.lineStartIndex,fa.lineLength,-1,Jn),ei=R.icon.placedSymbolArray.length-1,Zo&&(Ia=Zo.length*4,R.addSymbols(R.icon,Zo,so,gn,Mn,An,Os.vertical,D,fa.lineStartIndex,fa.lineLength,-1,Jn),ti=R.icon.placedSymbolArray.length-1)}for(var jo in ne.horizontal){var Bs=ne.horizontal[jo];if(!pa){Ti=We(Bs.text);var yf=Ze.layout.get("text-rotate").evaluate(An,{},Jn);pa=new Td(ht,D,At,Et,Wt,Bs,ir,$t,xr,yf)}var qf=Bs.positionedLines.length===1;if(qa+=Vy(R,D,Bs,be,Ze,xr,An,Nr,fa,ne.vertical?Os.horizontal:Os.horizontalOnly,qf?Object.keys(ne.horizontal):[jo],Ka,ei,Rn,Jn),qf)break}ne.vertical&&(di+=Vy(R,D,ne.vertical,be,Ze,xr,An,Nr,fa,Os.vertical,["vertical"],Ka,ti,Rn,Jn));var ec=pa?pa.boxStartIndex:R.collisionBoxArray.length,tc=pa?pa.boxEndIndex:R.collisionBoxArray.length,Ch=xa?xa.boxStartIndex:R.collisionBoxArray.length,Al=xa?xa.boxEndIndex:R.collisionBoxArray.length,Cd=ka?ka.boxStartIndex:R.collisionBoxArray.length,hp=ka?ka.boxEndIndex:R.collisionBoxArray.length,Ld=ba?ba.boxStartIndex:R.collisionBoxArray.length,vp=ba?ba.boxEndIndex:R.collisionBoxArray.length,rl=-1,Lh=function(xv,i1){return xv&&xv.circleDiameter?Math.max(xv.circleDiameter,i1):i1};rl=Lh(pa,rl),rl=Lh(xa,rl),rl=Lh(ka,rl),rl=Lh(ba,rl);var Pd=rl>-1?1:0;Pd&&(rl*=jn/Mo),R.glyphOffsetArray.length>=vi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,An.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,Ka.right>=0?Ka.right:-1,Ka.center>=0?Ka.center:-1,Ka.left>=0?Ka.left:-1,Ka.vertical||-1,ei,ti,Ti,ec,tc,Ch,Al,Cd,hp,Ld,vp,At,qa,di,Ua,Ia,Pd,0,ir,Ei,Bi,rl)}function ow(R,D,H,ne){var ve=R.compareText;if(!(D in ve))ve[D]=[];else for(var be=ve[D],Ce=be.length-1;Ce>=0;Ce--)if(ne.dist(be[Ce])<H)return!0;return ve[D].push(ne),!1}var sw=dh.VectorTileFeature.types,lw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ad(R,D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir){var $t=Ze?Math.min(Qf,Math.round(Ze[0])):0,xr=Ze?Math.min(Qf,Math.round(Ze[1])):0;R.emplaceBack(D,H,Math.round(ne*32),Math.round(ve*32),be,Ce,($t<<1)+(ht?1:0),xr,At*16,Et*16,Wt*256,ir*256)}function sp(R,D,H){R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H)}function uw(R){for(var D=0,H=R.sections;D<H.length;D+=1){var ne=H[D];if(en(ne.text))return!0}return!1}var Ah=function(D){this.layoutVertexArray=new Cu,this.indexArray=new Jl,this.programConfigurations=D,this.segments=new Z,this.dynamicLayoutVertexArray=new $h,this.opacityVertexArray=new qh,this.placedSymbolArray=new Xf};Ah.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Ah.prototype.upload=function(D,H,ne,ve){this.isEmpty()||(ne&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,q0.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,H),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,f3.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,lw,!0),this.opacityVertexBuffer.itemSize=1),(ne||ve)&&this.programConfigurations.upload(D))},Ah.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},se("SymbolBuffers",Ah);var yv=function(D,H,ne){this.layoutVertexArray=new D,this.layoutAttributes=H,this.indexArray=new ne,this.segments=new Z,this.collisionVertexArray=new as};yv.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,c3.members,!0)},yv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},se("CollisionBuffers",yv);var vi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ht){return ht.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=uh([]),this.placementViewportMatrix=uh([]);var H=this.layers[0],ne=H._unevaluatedLayout._values;this.textSizeData=ap(this.zoom,ne["text-size"]),this.iconSizeData=ap(this.zoom,ne["icon-size"]);var ve=this.layers[0].layout,be=ve.get("symbol-sort-key"),Ce=ve.get("symbol-z-order");this.sortFeaturesByKey=Ce!=="viewport-y"&&be.constantOr(1)!==void 0;var Ze=Ce==="viewport-y"||Ce==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ze&&(ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement")),ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(ht){return Os[ht]})),this.stateDependentLayerIds=this.layers.filter(function(ht){return ht.isStateDependent()}).map(function(ht){return ht.id}),this.sourceID=D.sourceID};vi.prototype.createArrays=function(){this.text=new Ah(new Oa(q0.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Ah(new Oa(q0.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new el,this.lineVertexArray=new id,this.symbolInstances=new ad},vi.prototype.calculateGlyphDependencies=function(D,H,ne,ve,be){for(var Ce=0;Ce<D.length;Ce++)if(H[D.charCodeAt(Ce)]=!0,(ne||ve)&&be){var Ze=hv[D.charAt(Ce)];Ze&&(H[Ze.charCodeAt(0)]=!0)}},vi.prototype.populate=function(D,H,ne){var ve=this.layers[0],be=ve.layout,Ce=be.get("text-font"),Ze=be.get("text-field"),ht=be.get("icon-image"),At=(Ze.value.kind!=="constant"||Ze.value.value instanceof Yi&&!Ze.value.value.isEmpty()||Ze.value.value.toString().length>0)&&(Ce.value.kind!=="constant"||Ce.value.value.length>0),Et=ht.value.kind!=="constant"||!!ht.value.value||Object.keys(ht.parameters).length>0,Wt=be.get("symbol-sort-key");if(this.features=[],!(!At&&!Et)){for(var ir=H.iconDependencies,$t=H.glyphDependencies,xr=H.availableImages,Nr=new Bn(this.zoom),tn=0,$r=D;tn<$r.length;tn+=1){var Mn=$r[tn],gn=Mn.feature,An=Mn.id,Rn=Mn.index,Un=Mn.sourceLayerIndex,Jn=ve._featureFilter.needGeometry,jn={type:gn.type,id:An,properties:gn.properties,geometry:Jn?ui(gn):[]};if(ve._featureFilter.filter(Nr,jn,ne)){Jn||(jn.geometry=ui(gn));var Ta=void 0;if(At){var fa=ve.getValueAndResolveTokens("text-field",jn,ne,xr),pa=Yi.factory(fa);uw(pa)&&(this.hasRTLText=!0),(!this.hasRTLText||za()==="unavailable"||this.hasRTLText&&$a.isParsed())&&(Ta=d3(pa,ve,jn))}var ka=void 0;if(Et){var xa=ve.getValueAndResolveTokens("icon-image",jn,ne,xr);xa instanceof xo?ka=xa:ka=xo.fromString(xa)}if(!(!Ta&&!ka)){var ba=this.sortFeaturesByKey?Wt.evaluate(jn,{},ne):void 0,Ua={id:An,text:Ta,icon:ka,index:Rn,sourceLayerIndex:Un,geometry:ui(gn),properties:gn.properties,type:sw[gn.type],sortKey:ba};if(this.features.push(Ua),ka&&(ir[ka.name]=!0),Ta){var Ia=Ce.evaluate(jn,{},ne).join(","),qa=be.get("text-rotation-alignment")==="map"&&be.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Os.vertical)>=0;for(var di=0,ei=Ta.sections;di<ei.length;di+=1){var ti=ei[di];if(ti.image)ir[ti.image.name]=!0;else{var Ka=Ht(Ta.toString()),Ti=ti.fontStack||Ia,Ei=$t[Ti]=$t[Ti]||{};this.calculateGlyphDependencies(ti.text,Ei,qa,this.allowVerticalPlacement,Ka)}}}}}}be.get("symbol-placement")==="line"&&(this.features=p3(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Bi,Vi){return Bi.sortKey-Vi.sortKey})}},vi.prototype.update=function(D,H,ne){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,H,this.layers,ne),this.icon.programConfigurations.updatePaintArrays(D,H,this.layers,ne))},vi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},vi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},vi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},vi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},vi.prototype.addToLineVertexArray=function(D,H){var ne=this.lineVertexArray.length;if(D.segment!==void 0){for(var ve=D.dist(H[D.segment+1]),be=D.dist(H[D.segment]),Ce={},Ze=D.segment+1;Ze<H.length;Ze++)Ce[Ze]={x:H[Ze].x,y:H[Ze].y,tileUnitDistanceFromAnchor:ve},Ze<H.length-1&&(ve+=H[Ze+1].dist(H[Ze]));for(var ht=D.segment||0;ht>=0;ht--)Ce[ht]={x:H[ht].x,y:H[ht].y,tileUnitDistanceFromAnchor:be},ht>0&&(be+=H[ht-1].dist(H[ht]));for(var At=0;At<H.length;At++){var Et=Ce[At];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ne,lineLength:this.lineVertexArray.length-ne}},vi.prototype.addSymbols=function(D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt,ir){for(var $t=D.indexArray,xr=D.layoutVertexArray,Nr=D.segments.prepareSegment(4*H.length,xr,$t,Ce.sortKey),tn=this.glyphOffsetArray.length,$r=Nr.vertexLength,Mn=this.allowVerticalPlacement&&Ze===Os.vertical?Math.PI/2:0,gn=Ce.text&&Ce.text.sections,An=0;An<H.length;An++){var Rn=H[An],Un=Rn.tl,Jn=Rn.tr,jn=Rn.bl,Ta=Rn.br,fa=Rn.tex,pa=Rn.pixelOffsetTL,ka=Rn.pixelOffsetBR,xa=Rn.minFontScaleX,ba=Rn.minFontScaleY,Ua=Rn.glyphOffset,Ia=Rn.isSDF,qa=Rn.sectionIndex,di=Nr.vertexLength,ei=Ua[1];Ad(xr,ht.x,ht.y,Un.x,ei+Un.y,fa.x,fa.y,ne,Ia,pa.x,pa.y,xa,ba),Ad(xr,ht.x,ht.y,Jn.x,ei+Jn.y,fa.x+fa.w,fa.y,ne,Ia,ka.x,pa.y,xa,ba),Ad(xr,ht.x,ht.y,jn.x,ei+jn.y,fa.x,fa.y+fa.h,ne,Ia,pa.x,ka.y,xa,ba),Ad(xr,ht.x,ht.y,Ta.x,ei+Ta.y,fa.x+fa.w,fa.y+fa.h,ne,Ia,ka.x,ka.y,xa,ba),sp(D.dynamicLayoutVertexArray,ht,Mn),$t.emplaceBack(di,di+1,di+2),$t.emplaceBack(di+1,di+2,di+3),Nr.vertexLength+=4,Nr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ua[0]),(An===H.length-1||qa!==H[An+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(xr.length,Ce,Ce.index,{},ir,gn&&gn[qa])}D.placedSymbolArray.emplaceBack(ht.x,ht.y,tn,this.glyphOffsetArray.length-tn,$r,At,Et,ht.segment,ne?ne[0]:0,ne?ne[1]:0,ve[0],ve[1],Ze,0,!1,0,Wt)},vi.prototype._addCollisionDebugVertex=function(D,H,ne,ve,be,Ce){return H.emplaceBack(0,0),D.emplaceBack(ne.x,ne.y,ve,be,Math.round(Ce.x),Math.round(Ce.y))},vi.prototype.addCollisionDebugVertices=function(D,H,ne,ve,be,Ce,Ze){var ht=be.segments.prepareSegment(4,be.layoutVertexArray,be.indexArray),At=ht.vertexLength,Et=be.layoutVertexArray,Wt=be.collisionVertexArray,ir=Ze.anchorX,$t=Ze.anchorY;this._addCollisionDebugVertex(Et,Wt,Ce,ir,$t,new t(D,H)),this._addCollisionDebugVertex(Et,Wt,Ce,ir,$t,new t(ne,H)),this._addCollisionDebugVertex(Et,Wt,Ce,ir,$t,new t(ne,ve)),this._addCollisionDebugVertex(Et,Wt,Ce,ir,$t,new t(D,ve)),ht.vertexLength+=4;var xr=be.indexArray;xr.emplaceBack(At,At+1),xr.emplaceBack(At+1,At+2),xr.emplaceBack(At+2,At+3),xr.emplaceBack(At+3,At),ht.primitiveLength+=4},vi.prototype.addDebugCollisionBoxes=function(D,H,ne,ve){for(var be=D;be<H;be++){var Ce=this.collisionBoxArray.get(be),Ze=Ce.x1,ht=Ce.y1,At=Ce.x2,Et=Ce.y2;this.addCollisionDebugVertices(Ze,ht,At,Et,ve?this.textCollisionBox:this.iconCollisionBox,Ce.anchorPoint,ne)}},vi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yv(ah,yy.members,Fc),this.iconCollisionBox=new yv(ah,yy.members,Fc);for(var D=0;D<this.symbolInstances.length;D++){var H=this.symbolInstances.get(D);this.addDebugCollisionBoxes(H.textBoxStartIndex,H.textBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.verticalTextBoxStartIndex,H.verticalTextBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.iconBoxStartIndex,H.iconBoxEndIndex,H,!1),this.addDebugCollisionBoxes(H.verticalIconBoxStartIndex,H.verticalIconBoxEndIndex,H,!1)}},vi.prototype._deserializeCollisionBoxesForSymbol=function(D,H,ne,ve,be,Ce,Ze,ht,At){for(var Et={},Wt=H;Wt<ne;Wt++){var ir=D.get(Wt);Et.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Et.textFeatureIndex=ir.featureIndex;break}for(var $t=ve;$t<be;$t++){var xr=D.get($t);Et.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Et.verticalTextFeatureIndex=xr.featureIndex;break}for(var Nr=Ce;Nr<Ze;Nr++){var tn=D.get(Nr);Et.iconBox={x1:tn.x1,y1:tn.y1,x2:tn.x2,y2:tn.y2,anchorPointX:tn.anchorPointX,anchorPointY:tn.anchorPointY},Et.iconFeatureIndex=tn.featureIndex;break}for(var $r=ht;$r<At;$r++){var Mn=D.get($r);Et.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},Et.verticalIconFeatureIndex=Mn.featureIndex;break}return Et},vi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var H=0;H<this.symbolInstances.length;H++){var ne=this.symbolInstances.get(H);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ne.textBoxStartIndex,ne.textBoxEndIndex,ne.verticalTextBoxStartIndex,ne.verticalTextBoxEndIndex,ne.iconBoxStartIndex,ne.iconBoxEndIndex,ne.verticalIconBoxStartIndex,ne.verticalIconBoxEndIndex))}},vi.prototype.hasTextData=function(){return this.text.segments.get().length>0},vi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},vi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},vi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},vi.prototype.addIndicesForPlacedSymbol=function(D,H){for(var ne=D.placedSymbolArray.get(H),ve=ne.vertexStartIndex+ne.numGlyphs*4,be=ne.vertexStartIndex;be<ve;be+=4)D.indexArray.emplaceBack(be,be+1,be+2),D.indexArray.emplaceBack(be+1,be+2,be+3)},vi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var H=Math.sin(D),ne=Math.cos(D),ve=[],be=[],Ce=[],Ze=0;Ze<this.symbolInstances.length;++Ze){Ce.push(Ze);var ht=this.symbolInstances.get(Ze);ve.push(Math.round(H*ht.anchorX+ne*ht.anchorY)|0),be.push(ht.featureIndex)}return Ce.sort(function(At,Et){return ve[At]-ve[Et]||be[Et]-be[At]}),Ce},vi.prototype.addToSortKeyRanges=function(D,H){var ne=this.sortKeyRanges[this.sortKeyRanges.length-1];ne&&ne.sortKey===H?ne.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:H,symbolInstanceStart:D,symbolInstanceEnd:D+1})},vi.prototype.sortFeatures=function(D){var H=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ne=0,ve=this.symbolInstanceIndexes;ne<ve.length;ne+=1){var be=ve[ne],Ce=this.symbolInstances.get(be);this.featureSortOrder.push(Ce.featureIndex),[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(function(Ze,ht,At){Ze>=0&&At.indexOf(Ze)===ht&&H.addIndicesForPlacedSymbol(H.text,Ze)}),Ce.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ce.verticalPlacedTextSymbolIndex),Ce.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.placedIconSymbolIndex),Ce.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},se("SymbolBucket",vi,{omit:["layers","collisionBoxArray","features","compareText"]}),vi.MAX_GLYPHS=65535,vi.addDynamicAttributes=sp;function fw(R,D){return D.replace(/{([^{}]+)}/g,function(H,ne){return ne in R?String(R[ne]):""})}var cw=new Xi({"symbol-placement":new da(Xt.layout_symbol["symbol-placement"]),"symbol-spacing":new da(Xt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new da(Xt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new wa(Xt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new da(Xt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new da(Xt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new da(Xt.layout_symbol["icon-ignore-placement"]),"icon-optional":new da(Xt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new da(Xt.layout_symbol["icon-rotation-alignment"]),"icon-size":new wa(Xt.layout_symbol["icon-size"]),"icon-text-fit":new da(Xt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new da(Xt.layout_symbol["icon-text-fit-padding"]),"icon-image":new wa(Xt.layout_symbol["icon-image"]),"icon-rotate":new wa(Xt.layout_symbol["icon-rotate"]),"icon-padding":new da(Xt.layout_symbol["icon-padding"]),"icon-keep-upright":new da(Xt.layout_symbol["icon-keep-upright"]),"icon-offset":new wa(Xt.layout_symbol["icon-offset"]),"icon-anchor":new wa(Xt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new da(Xt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new da(Xt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new da(Xt.layout_symbol["text-rotation-alignment"]),"text-field":new wa(Xt.layout_symbol["text-field"]),"text-font":new wa(Xt.layout_symbol["text-font"]),"text-size":new wa(Xt.layout_symbol["text-size"]),"text-max-width":new wa(Xt.layout_symbol["text-max-width"]),"text-line-height":new da(Xt.layout_symbol["text-line-height"]),"text-letter-spacing":new wa(Xt.layout_symbol["text-letter-spacing"]),"text-justify":new wa(Xt.layout_symbol["text-justify"]),"text-radial-offset":new wa(Xt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new da(Xt.layout_symbol["text-variable-anchor"]),"text-anchor":new wa(Xt.layout_symbol["text-anchor"]),"text-max-angle":new da(Xt.layout_symbol["text-max-angle"]),"text-writing-mode":new da(Xt.layout_symbol["text-writing-mode"]),"text-rotate":new wa(Xt.layout_symbol["text-rotate"]),"text-padding":new da(Xt.layout_symbol["text-padding"]),"text-keep-upright":new da(Xt.layout_symbol["text-keep-upright"]),"text-transform":new wa(Xt.layout_symbol["text-transform"]),"text-offset":new wa(Xt.layout_symbol["text-offset"]),"text-allow-overlap":new da(Xt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new da(Xt.layout_symbol["text-ignore-placement"]),"text-optional":new da(Xt.layout_symbol["text-optional"])}),hw=new Xi({"icon-opacity":new wa(Xt.paint_symbol["icon-opacity"]),"icon-color":new wa(Xt.paint_symbol["icon-color"]),"icon-halo-color":new wa(Xt.paint_symbol["icon-halo-color"]),"icon-halo-width":new wa(Xt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new wa(Xt.paint_symbol["icon-halo-blur"]),"icon-translate":new da(Xt.paint_symbol["icon-translate"]),"icon-translate-anchor":new da(Xt.paint_symbol["icon-translate-anchor"]),"text-opacity":new wa(Xt.paint_symbol["text-opacity"]),"text-color":new wa(Xt.paint_symbol["text-color"],{runtimeType:Fn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new wa(Xt.paint_symbol["text-halo-color"]),"text-halo-width":new wa(Xt.paint_symbol["text-halo-width"]),"text-halo-blur":new wa(Xt.paint_symbol["text-halo-blur"]),"text-translate":new da(Xt.paint_symbol["text-translate"]),"text-translate-anchor":new da(Xt.paint_symbol["text-translate-anchor"])}),lp={paint:hw,layout:cw},Mh=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Pr,this.defaultValue=D};Mh.prototype.evaluate=function(D){if(D.formattedSection){var H=this.defaultValue.property.overrides;if(H&&H.hasOverride(D.formattedSection))return H.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Mh.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var H=this.defaultValue.value;D(H._styleExpression.expression)}},Mh.prototype.outputDefined=function(){return!1},Mh.prototype.serialize=function(){return null},se("FormatSectionOverride",Mh,{omit:["defaultValue"]});var vw=function(R){function D(H){R.call(this,H,lp)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){if(R.prototype.recalculate.call(this,ne,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var be=this.layout.get("text-writing-mode");if(be){for(var Ce=[],Ze=0,ht=be;Ze<ht.length;Ze+=1){var At=ht[Ze];Ce.indexOf(At)<0&&Ce.push(At)}this.layout._values["text-writing-mode"]=Ce}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ne,ve,be,Ce){var Ze=this.layout.get(ne).evaluate(ve,{},be,Ce),ht=this._unevaluatedLayout._values[ne];return!ht.isDataDriven()&&!Is(ht.value)&&Ze?fw(ve.properties,Ze):Ze},D.prototype.createBucket=function(ne){return new vi(ne)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ne=0,ve=lp.paint.overridableProperties;ne<ve.length;ne+=1){var be=ve[ne];if(D.hasPaintOverride(this.layout,be)){var Ce=this.paint.get(be),Ze=new Mh(Ce),ht=new bs(Ze,Ce.property.specification),At=null;Ce.value.kind==="constant"||Ce.value.kind==="source"?At=new Qs("source",ht):At=new To("composite",ht,Ce.value.zoomStops,Ce.value._interpolationType),this.paint._values[be]=new pi(Ce.property,At,Ce.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,be){return!this.layout||ve.isDataDriven()||be.isDataDriven()?!1:D.hasPaintOverride(this.layout,ne)},D.hasPaintOverride=function(ne,ve){var be=ne.get("text-field"),Ce=lp.paint.properties[ve],Ze=!1,ht=function(Wt){for(var ir=0,$t=Wt;ir<$t.length;ir+=1){var xr=$t[ir];if(Ce.overrides&&Ce.overrides.hasOverride(xr)){Ze=!0;return}}};if(be.value.kind==="constant"&&be.value.value instanceof Yi)ht(be.value.value.sections);else if(be.value.kind==="source"){var At=function(Wt){if(!Ze)if(Wt instanceof Eo&&Ci(Wt.value)===sa){var ir=Wt.value;ht(ir.sections)}else Wt instanceof Io?ht(Wt.sections):Wt.eachChild(At)},Et=be.value;Et._styleExpression&&At(Et._styleExpression.expression)}return Ze},D}(Mi),dw=new Xi({"background-color":new da(Xt.paint_background["background-color"]),"background-pattern":new ki(Xt.paint_background["background-pattern"]),"background-opacity":new da(Xt.paint_background["background-opacity"])}),pw={paint:dw},gw=function(R){function D(H){R.call(this,H,pw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Mi),yw=new Xi({"raster-opacity":new da(Xt.paint_raster["raster-opacity"]),"raster-hue-rotate":new da(Xt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new da(Xt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new da(Xt.paint_raster["raster-brightness-max"]),"raster-saturation":new da(Xt.paint_raster["raster-saturation"]),"raster-contrast":new da(Xt.paint_raster["raster-contrast"]),"raster-resampling":new da(Xt.paint_raster["raster-resampling"]),"raster-fade-duration":new da(Xt.paint_raster["raster-fade-duration"])}),mw={paint:yw},xw=function(R){function D(H){R.call(this,H,mw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Mi);function bw(R){var D=[],H=R.id;return H===void 0&&D.push({message:"layers."+H+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+H+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+H+': property "renderingMode" must be either "2d" or "3d"'}),D}var ww=function(R){function D(H){R.call(this,H,{}),this.implementation=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ne){this.implementation.onAdd&&this.implementation.onAdd(ne,ne.painter.context.gl)},D.prototype.onRemove=function(ne){this.implementation.onRemove&&this.implementation.onRemove(ne,ne.painter.context.gl)},D}(Mi),Tw={circle:Q2,heatmap:tb,hillshade:ab,fill:Pb,"fill-extrusion":Kb,line:l3,symbol:vw,background:gw,raster:xw};function Aw(R){return R.type==="custom"?new ww(R):new Tw[R.type](R)}var Wy=self.HTMLImageElement,Yy=self.HTMLCanvasElement,Zy=self.HTMLVideoElement,Xy=self.ImageData,Md=self.ImageBitmap,Nc=function(D,H,ne,ve){this.context=D,this.format=ne,this.texture=D.gl.createTexture(),this.update(H,ve)};Nc.prototype.update=function(D,H,ne){var ve=D.width,be=D.height,Ce=(!this.size||this.size[0]!==ve||this.size[1]!==be)&&!ne,Ze=this,ht=Ze.context,At=ht.gl;if(this.useMipmap=!!(H&&H.useMipmap),At.bindTexture(At.TEXTURE_2D,this.texture),ht.pixelStoreUnpackFlipY.set(!1),ht.pixelStoreUnpack.set(1),ht.pixelStoreUnpackPremultiplyAlpha.set(this.format===At.RGBA&&(!H||H.premultiply!==!1)),Ce)this.size=[ve,be],D instanceof Wy||D instanceof Yy||D instanceof Zy||D instanceof Xy||Md&&D instanceof Md?At.texImage2D(At.TEXTURE_2D,0,this.format,this.format,At.UNSIGNED_BYTE,D):At.texImage2D(At.TEXTURE_2D,0,this.format,ve,be,0,this.format,At.UNSIGNED_BYTE,D.data);else{var Et=ne||{x:0,y:0},Wt=Et.x,ir=Et.y;D instanceof Wy||D instanceof Yy||D instanceof Zy||D instanceof Xy||Md&&D instanceof Md?At.texSubImage2D(At.TEXTURE_2D,0,Wt,ir,At.RGBA,At.UNSIGNED_BYTE,D):At.texSubImage2D(At.TEXTURE_2D,0,Wt,ir,ve,be,At.RGBA,At.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&At.generateMipmap(At.TEXTURE_2D)},Nc.prototype.bind=function(D,H,ne){var ve=this,be=ve.context,Ce=be.gl;Ce.bindTexture(Ce.TEXTURE_2D,this.texture),ne===Ce.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ne=Ce.LINEAR),D!==this.filter&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,D),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,ne||D),this.filter=D),H!==this.wrap&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,H),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,H),this.wrap=H)},Nc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Nc.prototype.destroy=function(){var D=this.context,H=D.gl;H.deleteTexture(this.texture),this.texture=null};var up=function(D){var H=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){H._triggered=!1,H._callback()})};up.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},up.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Sh=function(D,H,ne){this.target=D,this.parent=H,this.mapId=ne,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new up(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?D:self};Sh.prototype.send=function(D,H,ne,ve,be){var Ce=this;be===void 0&&(be=!1);var Ze=Math.round(Math.random()*1e18).toString(36).substring(0,10);ne&&(this.callbacks[Ze]=ne);var ht=$(this.globalScope)?void 0:[];return this.target.postMessage({id:Ze,type:D,hasCallback:!!ne,targetMapId:ve,mustQueue:be,sourceMapId:this.mapId,data:tt(H,ht)},ht),{cancel:function(){ne&&delete Ce.callbacks[Ze],Ce.target.postMessage({id:Ze,type:"<cancel>",targetMapId:ve,sourceMapId:Ce.mapId})}}},Sh.prototype.receive=function(D){var H=D.data,ne=H.id;if(ne&&!(H.targetMapId&&this.mapId!==H.targetMapId))if(H.type==="<cancel>"){delete this.tasks[ne];var ve=this.cancelCallbacks[ne];delete this.cancelCallbacks[ne],ve&&ve()}else F()||H.mustQueue?(this.tasks[ne]=H,this.taskQueue.push(ne),this.invoker.trigger()):this.processTask(ne,H)},Sh.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),H=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),H&&this.processTask(D,H)}},Sh.prototype.processTask=function(D,H){var ne=this;if(H.type==="<response>"){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(H.error?ve(nt(H.error)):ve(null,nt(H.data)))}else{var be=!1,Ce=$(this.globalScope)?void 0:[],Ze=H.hasCallback?function(ir,$t){be=!0,delete ne.cancelCallbacks[D],ne.target.postMessage({id:D,type:"<response>",sourceMapId:ne.mapId,error:ir?tt(ir):null,data:tt($t,Ce)},Ce)}:function(ir){be=!0},ht=null,At=nt(H.data);if(this.parent[H.type])ht=this.parent[H.type](H.sourceMapId,At,Ze);else if(this.parent.getWorkerSource){var Et=H.type.split("."),Wt=this.parent.getWorkerSource(H.sourceMapId,Et[0],At.source);ht=Wt[Et[1]](At,Ze)}else Ze(new Error("Could not find function "+H.type));!be&&ht&&ht.cancel&&(this.cancelCallbacks[D]=ht.cancel)}},Sh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function Mw(R,D,H){D=Math.pow(2,H)-D-1;var ne=jy(R*256,D*256,H),ve=jy((R+1)*256,(D+1)*256,H);return ne[0]+","+ne[1]+","+ve[0]+","+ve[1]}function jy(R,D,H){var ne=2*Math.PI*6378137/256/Math.pow(2,H),ve=R*ne-2*Math.PI*6378137/2,be=D*ne-2*Math.PI*6378137/2;return[ve,be]}var eo=function(D,H){D&&(H?this.setSouthWest(D).setNorthEast(H):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};eo.prototype.setNorthEast=function(D){return this._ne=D instanceof Pi?new Pi(D.lng,D.lat):Pi.convert(D),this},eo.prototype.setSouthWest=function(D){return this._sw=D instanceof Pi?new Pi(D.lng,D.lat):Pi.convert(D),this},eo.prototype.extend=function(D){var H=this._sw,ne=this._ne,ve,be;if(D instanceof Pi)ve=D,be=D;else if(D instanceof eo){if(ve=D._sw,be=D._ne,!ve||!be)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ce=D;return this.extend(eo.convert(Ce))}else{var Ze=D;return this.extend(Pi.convert(Ze))}return this}return!H&&!ne?(this._sw=new Pi(ve.lng,ve.lat),this._ne=new Pi(be.lng,be.lat)):(H.lng=Math.min(ve.lng,H.lng),H.lat=Math.min(ve.lat,H.lat),ne.lng=Math.max(be.lng,ne.lng),ne.lat=Math.max(be.lat,ne.lat)),this},eo.prototype.getCenter=function(){return new Pi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},eo.prototype.getSouthWest=function(){return this._sw},eo.prototype.getNorthEast=function(){return this._ne},eo.prototype.getNorthWest=function(){return new Pi(this.getWest(),this.getNorth())},eo.prototype.getSouthEast=function(){return new Pi(this.getEast(),this.getSouth())},eo.prototype.getWest=function(){return this._sw.lng},eo.prototype.getSouth=function(){return this._sw.lat},eo.prototype.getEast=function(){return this._ne.lng},eo.prototype.getNorth=function(){return this._ne.lat},eo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},eo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},eo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},eo.prototype.contains=function(D){var H=Pi.convert(D),ne=H.lng,ve=H.lat,be=this._sw.lat<=ve&&ve<=this._ne.lat,Ce=this._sw.lng<=ne&&ne<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ce=this._sw.lng>=ne&&ne>=this._ne.lng),be&&Ce},eo.convert=function(D){return!D||D instanceof eo?D:new eo(D)};var Ky=63710088e-1,Pi=function(D,H){if(isNaN(D)||isNaN(H))throw new Error("Invalid LngLat object: ("+D+", "+H+")");if(this.lng=+D,this.lat=+H,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Pi.prototype.wrap=function(){return new Pi(m(this.lng,-180,180),this.lat)},Pi.prototype.toArray=function(){return[this.lng,this.lat]},Pi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Pi.prototype.distanceTo=function(D){var H=Math.PI/180,ne=this.lat*H,ve=D.lat*H,be=Math.sin(ne)*Math.sin(ve)+Math.cos(ne)*Math.cos(ve)*Math.cos((D.lng-this.lng)*H),Ce=Ky*Math.acos(Math.min(be,1));return Ce},Pi.prototype.toBounds=function(D){D===void 0&&(D=0);var H=40075017,ne=360*D/H,ve=ne/Math.cos(Math.PI/180*this.lat);return new eo(new Pi(this.lng-ve,this.lat-ne),new Pi(this.lng+ve,this.lat+ne))},Pi.convert=function(D){if(D instanceof Pi)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Pi(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Pi(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Jy=2*Math.PI*Ky;function Qy(R){return Jy*Math.cos(R*Math.PI/180)}function $y(R){return(180+R)/360}function qy(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function e1(R,D){return R/Qy(D)}function Sw(R){return R*360-180}function fp(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function Ew(R,D){return R*Qy(fp(D))}function Cw(R){return 1/Math.cos(R*Math.PI/180)}var Uc=function(D,H,ne){ne===void 0&&(ne=0),this.x=+D,this.y=+H,this.z=+ne};Uc.fromLngLat=function(D,H){H===void 0&&(H=0);var ne=Pi.convert(D);return new Uc($y(ne.lng),qy(ne.lat),e1(H,ne.lat))},Uc.prototype.toLngLat=function(){return new Pi(Sw(this.x),fp(this.y))},Uc.prototype.toAltitude=function(){return Ew(this.z,this.y)},Uc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Jy*Cw(fp(this.y))};var Hc=function(D,H,ne){this.z=D,this.x=H,this.y=ne,this.key=mv(0,D,D,H,ne)};Hc.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Hc.prototype.url=function(D,H){var ne=Mw(this.x,this.y,this.z),ve=Lw(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(H==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ne)},Hc.prototype.getTilePoint=function(D){var H=Math.pow(2,this.z);return new t((D.x*H-this.x)*Sa,(D.y*H-this.y)*Sa)},Hc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var t1=function(D,H){this.wrap=D,this.canonical=H,this.key=mv(D,H.z,H.z,H.x,H.y)},to=function(D,H,ne,ve,be){this.overscaledZ=D,this.wrap=H,this.canonical=new Hc(ne,+ve,+be),this.key=mv(H,D,ne,ve,be)};to.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},to.prototype.scaledTo=function(D){var H=this.canonical.z-D;return D>this.canonical.z?new to(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new to(D,this.wrap,D,this.canonical.x>>H,this.canonical.y>>H)},to.prototype.calculateScaledKey=function(D,H){var ne=this.canonical.z-D;return D>this.canonical.z?mv(this.wrap*+H,D,this.canonical.z,this.canonical.x,this.canonical.y):mv(this.wrap*+H,D,D,this.canonical.x>>ne,this.canonical.y>>ne)},to.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var H=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>H&&D.canonical.y===this.canonical.y>>H},to.prototype.children=function(D){if(this.overscaledZ>=D)return[new to(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var H=this.canonical.z+1,ne=this.canonical.x*2,ve=this.canonical.y*2;return[new to(H,this.wrap,H,ne,ve),new to(H,this.wrap,H,ne+1,ve),new to(H,this.wrap,H,ne,ve+1),new to(H,this.wrap,H,ne+1,ve+1)]},to.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},to.prototype.wrapped=function(){return new to(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},to.prototype.unwrapTo=function(D){return new to(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},to.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},to.prototype.toUnwrapped=function(){return new t1(this.wrap,this.canonical)},to.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},to.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Uc(D.x-this.wrap,D.y))};function mv(R,D,H,ne,ve){R*=2,R<0&&(R=R*-1-1);var be=1<<H;return(be*be*R+be*ve+ne).toString(36)+H.toString(36)+D.toString(36)}function Lw(R,D,H){for(var ne="",ve,be=R;be>0;be--)ve=1<<be-1,ne+=(D&ve?1:0)+(H&ve?2:0);return ne}se("CanonicalTileID",Hc),se("OverscaledTileID",to,{omit:["posMatrix"]});var pf=function(D,H,ne){if(this.uid=D,H.height!==H.width)throw new RangeError("DEM tiles must be square");if(ne&&ne!=="mapbox"&&ne!=="terrarium")return B('"'+ne+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=H.height;var ve=this.dim=H.height-2;this.data=new Uint32Array(H.data.buffer),this.encoding=ne||"mapbox";for(var be=0;be<ve;be++)this.data[this._idx(-1,be)]=this.data[this._idx(0,be)],this.data[this._idx(ve,be)]=this.data[this._idx(ve-1,be)],this.data[this._idx(be,-1)]=this.data[this._idx(be,0)],this.data[this._idx(be,ve)]=this.data[this._idx(be,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};pf.prototype.get=function(D,H){var ne=new Uint8Array(this.data.buffer),ve=this._idx(D,H)*4,be=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return be(ne[ve],ne[ve+1],ne[ve+2])},pf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},pf.prototype._idx=function(D,H){if(D<-1||D>=this.dim+1||H<-1||H>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(H+1)*this.stride+(D+1)},pf.prototype._unpackMapbox=function(D,H,ne){return(D*256*256+H*256+ne)/10-1e4},pf.prototype._unpackTerrarium=function(D,H,ne){return D*256+H+ne/256-32768},pf.prototype.getPixels=function(){return new ss({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},pf.prototype.backfillBorder=function(D,H,ne){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=H*this.dim,be=H*this.dim+this.dim,Ce=ne*this.dim,Ze=ne*this.dim+this.dim;switch(H){case-1:ve=be-1;break;case 1:be=ve+1;break}switch(ne){case-1:Ce=Ze-1;break;case 1:Ze=Ce+1;break}for(var ht=-H*this.dim,At=-ne*this.dim,Et=Ce;Et<Ze;Et++)for(var Wt=ve;Wt<be;Wt++)this.data[this._idx(Wt,Et)]=D.data[this._idx(Wt+ht,Et+At)]},se("DEMData",pf);function Pw(R,D){var H={};if(!D)return H;for(var ne=function(){var Ce=be[ve],Ze=Ce.layerIds.map(function(Wt){return D.getLayer(Wt)}).filter(Boolean);if(Ze.length!==0){Ce.layers=Ze,Ce.stateDependentLayerIds&&(Ce.stateDependentLayers=Ce.stateDependentLayerIds.map(function(Wt){return Ze.filter(function(ir){return ir.id===Wt})[0]}));for(var ht=0,At=Ze;ht<At.length;ht+=1){var Et=At[ht];H[Et.id]=Ce}}},ve=0,be=R;ve<be.length;ve+=1)ne();return H}var Sd=function(D){this._stringToNumber={},this._numberToString=[];for(var H=0;H<D.length;H++){var ne=D[H];this._stringToNumber[ne]=H,this._numberToString[H]=ne}};Sd.prototype.encode=function(D){return this._stringToNumber[D]},Sd.prototype.decode=function(D){return this._numberToString[D]};var Ed=function(D,H,ne,ve,be){this.type="Feature",this._vectorTileFeature=D,D._z=H,D._x=ne,D._y=ve,this.properties=D.properties,this.id=be},cp={geometry:{configurable:!0}};cp.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},cp.geometry.set=function(R){this._geometry=R},Ed.prototype.toJSON=function(){var D={geometry:this.geometry};for(var H in this)H==="_geometry"||H==="_vectorTileFeature"||(D[H]=this[H]);return D},Object.defineProperties(Ed.prototype,cp);var Eh=function(){this.state={},this.stateChanges={},this.deletedStates={}};Eh.prototype.updateState=function(D,H,ne){var ve=String(H);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},o(this.stateChanges[D][ve],ne),this.deletedStates[D]===null){this.deletedStates[D]={};for(var be in this.state[D])be!==ve&&(this.deletedStates[D][be]=null)}else{var Ce=this.deletedStates[D]&&this.deletedStates[D][ve]===null;if(Ce){this.deletedStates[D][ve]={};for(var Ze in this.state[D][ve])ne[Ze]||(this.deletedStates[D][ve][Ze]=null)}else for(var ht in ne){var At=this.deletedStates[D]&&this.deletedStates[D][ve]&&this.deletedStates[D][ve][ht]===null;At&&delete this.deletedStates[D][ve][ht]}}},Eh.prototype.removeFeatureState=function(D,H,ne){var ve=this.deletedStates[D]===null;if(!ve){var be=String(H);if(this.deletedStates[D]=this.deletedStates[D]||{},ne&&H!==void 0)this.deletedStates[D][be]!==null&&(this.deletedStates[D][be]=this.deletedStates[D][be]||{},this.deletedStates[D][be][ne]=null);else if(H!==void 0){var Ce=this.stateChanges[D]&&this.stateChanges[D][be];if(Ce){this.deletedStates[D][be]={};for(ne in this.stateChanges[D][be])this.deletedStates[D][be][ne]=null}else this.deletedStates[D][be]=null}else this.deletedStates[D]=null}},Eh.prototype.getState=function(D,H){var ne=String(H),ve=this.state[D]||{},be=this.stateChanges[D]||{},Ce=o({},ve[ne],be[ne]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Ze=this.deletedStates[D][H];if(Ze===null)return{};for(var ht in Ze)delete Ce[ht]}return Ce},Eh.prototype.initializeTileState=function(D,H){D.setFeatureState(this.state,H)},Eh.prototype.coalesceChanges=function(D,H){var ne={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var be={};for(var Ce in this.stateChanges[ve])this.state[ve][Ce]||(this.state[ve][Ce]={}),o(this.state[ve][Ce],this.stateChanges[ve][Ce]),be[Ce]=this.state[ve][Ce];ne[ve]=be}for(var Ze in this.deletedStates){this.state[Ze]=this.state[Ze]||{};var ht={};if(this.deletedStates[Ze]===null)for(var At in this.state[Ze])ht[At]={},this.state[Ze][At]={};else for(var Et in this.deletedStates[Ze]){var Wt=this.deletedStates[Ze][Et]===null;if(Wt)this.state[Ze][Et]={};else for(var ir=0,$t=Object.keys(this.deletedStates[Ze][Et]);ir<$t.length;ir+=1){var xr=$t[ir];delete this.state[Ze][Et][xr]}ht[Et]=this.state[Ze][Et]}ne[Ze]=ne[Ze]||{},o(ne[Ze],ht)}if(this.stateChanges={},this.deletedStates={},Object.keys(ne).length!==0)for(var Nr in D){var tn=D[Nr];tn.setFeatureState(ne,H)}};var gf=function(D,H){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ca(Sa,16,0),this.grid3D=new Ca(Sa,16,0),this.featureIndexArray=new nv,this.promoteId=H};gf.prototype.insert=function(D,H,ne,ve,be,Ce){var Ze=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ne,ve,be);for(var ht=Ce?this.grid3D:this.grid,At=0;At<H.length;At++){for(var Et=H[At],Wt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Et.length;ir++){var $t=Et[ir];Wt[0]=Math.min(Wt[0],$t.x),Wt[1]=Math.min(Wt[1],$t.y),Wt[2]=Math.max(Wt[2],$t.x),Wt[3]=Math.max(Wt[3],$t.y)}Wt[0]<Sa&&Wt[1]<Sa&&Wt[2]>=0&&Wt[3]>=0&&ht.insert(Ze,Wt[0],Wt[1],Wt[2],Wt[3])}},gf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new dh.VectorTile(new pd(this.rawTileData)).layers,this.sourceLayerCoder=new Sd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},gf.prototype.query=function(D,H,ne,ve){var be=this;this.loadVTLayers();for(var Ce=D.params||{},Ze=Sa/D.tileSize/D.scale,ht=Yl(Ce.filter),At=D.queryGeometry,Et=D.queryPadding*Ze,Wt=n1(At),ir=this.grid.query(Wt.minX-Et,Wt.minY-Et,Wt.maxX+Et,Wt.maxY+Et),$t=n1(D.cameraQueryGeometry),xr=this.grid3D.query($t.minX-Et,$t.minY-Et,$t.maxX+Et,$t.maxY+Et,function(Un,Jn,jn,Ta){return Du(D.cameraQueryGeometry,Un-Et,Jn-Et,jn+Et,Ta+Et)}),Nr=0,tn=xr;Nr<tn.length;Nr+=1){var $r=tn[Nr];ir.push($r)}ir.sort(Rw);for(var Mn={},gn,An=function(Un){var Jn=ir[Un];if(Jn!==gn){gn=Jn;var jn=be.featureIndexArray.get(Jn),Ta=null;be.loadMatchingFeature(Mn,jn.bucketIndex,jn.sourceLayerIndex,jn.featureIndex,ht,Ce.layers,Ce.availableImages,H,ne,ve,function(fa,pa,ka){return Ta||(Ta=ui(fa)),pa.queryIntersectsFeature(At,fa,ka,Ta,be.z,D.transform,Ze,D.pixelPosMatrix)})}},Rn=0;Rn<ir.length;Rn++)An(Rn);return Mn},gf.prototype.loadMatchingFeature=function(D,H,ne,ve,be,Ce,Ze,ht,At,Et,Wt){var ir=this.bucketLayerIDs[H];if(!(Ce&&!k(Ce,ir))){var $t=this.sourceLayerCoder.decode(ne),xr=this.vtLayers[$t],Nr=xr.feature(ve);if(be.filter(new Bn(this.tileID.overscaledZ),Nr))for(var tn=this.getId(Nr,$t),$r=0;$r<ir.length;$r++){var Mn=ir[$r];if(!(Ce&&Ce.indexOf(Mn)<0)){var gn=ht[Mn];if(gn){var An={};tn!==void 0&&Et&&(An=Et.getState(gn.sourceLayer||"_geojsonTileLayer",tn));var Rn=At[Mn];Rn.paint=r1(Rn.paint,gn.paint,Nr,An,Ze),Rn.layout=r1(Rn.layout,gn.layout,Nr,An,Ze);var Un=!Wt||Wt(Nr,gn,An);if(Un){var Jn=new Ed(Nr,this.z,this.x,this.y,tn);Jn.layer=Rn;var jn=D[Mn];jn===void 0&&(jn=D[Mn]=[]),jn.push({featureIndex:ve,feature:Jn,intersectionZ:Un})}}}}}},gf.prototype.lookupSymbolFeatures=function(D,H,ne,ve,be,Ce,Ze,ht){var At={};this.loadVTLayers();for(var Et=Yl(be),Wt=0,ir=D;Wt<ir.length;Wt+=1){var $t=ir[Wt];this.loadMatchingFeature(At,ne,ve,$t,Et,Ce,Ze,ht,H)}return At},gf.prototype.hasLayer=function(D){for(var H=0,ne=this.bucketLayerIDs;H<ne.length;H+=1)for(var ve=ne[H],be=0,Ce=ve;be<Ce.length;be+=1){var Ze=Ce[be];if(D===Ze)return!0}return!1},gf.prototype.getId=function(D,H){var ne=D.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[H];ne=D.properties[ve],typeof ne=="boolean"&&(ne=Number(ne))}return ne},se("FeatureIndex",gf,{omit:["rawTileData","sourceLayerCoder"]});function r1(R,D,H,ne,ve){return i(R,function(be,Ce){var Ze=D instanceof li?D.get(Ce):null;return Ze&&Ze.evaluate?Ze.evaluate(H,ne,ve):Ze})}function n1(R){for(var D=1/0,H=1/0,ne=-1/0,ve=-1/0,be=0,Ce=R;be<Ce.length;be+=1){var Ze=Ce[be];D=Math.min(D,Ze.x),H=Math.min(H,Ze.y),ne=Math.max(ne,Ze.x),ve=Math.max(ve,Ze.y)}return{minX:D,minY:H,maxX:ne,maxY:ve}}function Rw(R,D){return D-R}var Dw=3e4,ho=function(D,H){this.tileID=D,this.uid=A(),this.uses=0,this.tileSize=H,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ho.prototype.registerFadeDuration=function(D){var H=D+this.timeAdded;H<ie.now()||this.fadeEndTime&&H<this.fadeEndTime||(this.fadeEndTime=H)},ho.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ho.prototype.loadVectorData=function(D,H,ne){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Ru;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=Pw(D.buckets,H.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var be=this.buckets[ve];if(be instanceof vi)if(this.hasSymbolBuckets=!0,ne)be.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ce in this.buckets){var Ze=this.buckets[Ce];if(Ze instanceof vi&&Ze.hasRTLText){this.hasRTLText=!0,oi();break}}this.queryPadding=0;for(var ht in this.buckets){var At=this.buckets[ht];this.queryPadding=Math.max(this.queryPadding,H.style.getLayer(ht).queryRadius(At))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},ho.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ho.prototype.getBucket=function(D){return this.buckets[D.id]},ho.prototype.upload=function(D){for(var H in this.buckets){var ne=this.buckets[H];ne.uploadPending()&&ne.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Nc(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Nc(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},ho.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},ho.prototype.queryRenderedFeatures=function(D,H,ne,ve,be,Ce,Ze,ht,At,Et){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:be,scale:Ce,tileSize:this.tileSize,pixelPosMatrix:Et,transform:ht,params:Ze,queryPadding:this.queryPadding*At},D,H,ne)},ho.prototype.querySourceFeatures=function(D,H){var ne=this.latestFeatureIndex;if(!(!ne||!ne.rawTileData)){var ve=ne.loadVTLayers(),be=H?H.sourceLayer:"",Ce=ve._geojsonTileLayer||ve[be];if(Ce)for(var Ze=Yl(H&&H.filter),ht=this.tileID.canonical,At=ht.z,Et=ht.x,Wt=ht.y,ir={z:At,x:Et,y:Wt},$t=0;$t<Ce.length;$t++){var xr=Ce.feature($t);if(Ze.filter(new Bn(this.tileID.overscaledZ),xr)){var Nr=ne.getId(xr,be),tn=new Ed(xr,At,Et,Wt,Nr);tn.tile=ir,D.push(tn)}}}},ho.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ho.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ho.prototype.setExpiryData=function(D){var H=this.expirationTime;if(D.cacheControl){var ne=N(D.cacheControl);ne["max-age"]&&(this.expirationTime=Date.now()+ne["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),be=!1;if(this.expirationTime>ve)be=!1;else if(!H)be=!0;else if(this.expirationTime<H)be=!0;else{var Ce=this.expirationTime-H;Ce?this.expirationTime=ve+Math.max(Ce,Dw):be=!0}be?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ho.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ho.prototype.setFeatureState=function(D,H){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ne=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(H.style.hasLayer(ve)){var be=this.buckets[ve],Ce=be.layers[0].sourceLayer||"_geojsonTileLayer",Ze=ne[Ce],ht=D[Ce];if(!(!Ze||!ht||Object.keys(ht).length===0)){be.update(ht,Ze,this.imageAtlas&&this.imageAtlas.patternPositions||{});var At=H&&H.style&&H.style.getLayer(ve);At&&(this.queryPadding=Math.max(this.queryPadding,At.queryRadius(be)))}}}},ho.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ho.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ie.now()},ho.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ho.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=ie.now()+D},ho.prototype.setDependencies=function(D,H){for(var ne={},ve=0,be=H;ve<be.length;ve+=1){var Ce=be[ve];ne[Ce]=!0}this.dependencies[D]=ne},ho.prototype.hasDependency=function(D,H){for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne],Ce=this.dependencies[be];if(Ce)for(var Ze=0,ht=H;Ze<ht.length;Ze+=1){var At=ht[Ze];if(Ce[At])return!0}}return!1};var Iw=["type","source","source-layer","minzoom","maxzoom","filter","layout"],$f=self.performance,a1=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},$f.mark(this._marks.start)};a1.prototype.finish=function(){$f.mark(this._marks.end);var D=$f.getEntriesByName(this._marks.measure);return D.length===0&&($f.measure(this._marks.measure,this._marks.start,this._marks.end),D=$f.getEntriesByName(this._marks.measure),$f.clearMarks(this._marks.start),$f.clearMarks(this._marks.end),$f.clearMeasures(this._marks.measure)),D},n.Actor=Sh,n.AlphaImage=Bc,n.CanonicalTileID=Hc,n.CollisionBoxArray=Ru,n.Color=Qa,n.DEMData=pf,n.DataConstantProperty=da,n.DictionaryCoder=Sd,n.EXTENT=Sa,n.ErrorEvent=tr,n.EvaluationParameters=Bn,n.Event=Zt,n.Evented=sr,n.FeatureIndex=gf,n.FillBucket=$l,n.FillExtrusionBucket=ql,n.ImageAtlas=dv,n.ImagePosition=yd,n.LineBucket=ls,n.LngLat=Pi,n.LngLatBounds=eo,n.MercatorCoordinate=Uc,n.ONE_EM=Mo,n.OverscaledTileID=to,n.Point=t,n.Point$1=t,n.Properties=Xi,n.Protobuf=pd,n.RGBAImage=ss,n.RequestManager=Te,n.RequestPerformance=a1,n.ResourceType=mt,n.SegmentVector=Z,n.SourceFeatureState=Eh,n.StructArrayLayout1ui2=Zf,n.StructArrayLayout2f1f2i16=Kl,n.StructArrayLayout2i4=Dc,n.StructArrayLayout3ui6=Jl,n.StructArrayLayout4i8=Eu,n.SymbolBucket=vi,n.Texture=Nc,n.Tile=ho,n.Transitionable=Ha,n.Uniform1f=Hr,n.Uniform1i=Gr,n.Uniform2f=Qr,n.Uniform3f=on,n.Uniform4f=Sn,n.UniformColor=kn,n.UniformMatrix4f=Zn,n.UnwrappedTileID=t1,n.ValidationError=Tr,n.WritingMode=Os,n.ZoomHistory=Pt,n.add=ch,n.addDynamicAttributes=sp,n.asyncAll=h,n.bezier=s,n.bindAll=S,n.browser=ie,n.cacheEntryPossiblyAdded=Ut,n.clamp=u,n.clearTileCache=_t,n.clipLine=By,n.clone=ld,n.clone$1=x,n.clone$2=U0,n.collisionCircleLayout=h3,n.config=K,n.create=lh,n.create$1=zc,n.create$2=kc,n.createCommonjsModule=C,n.createExpression=Js,n.createLayout=yi,n.createStyleLayer=Aw,n.cross=V2,n.deepEqual=l,n.dot=H2,n.dot$1=X2,n.ease=c,n.emitValidationErrors=Ma,n.endsWith=b,n.enforceCacheSizeLimit=Gt,n.evaluateSizeForFeature=Dy,n.evaluateSizeForZoom=Iy,n.evaluateVariableOffset=Hy,n.evented=ga,n.extend=o,n.featureFilter=Yl,n.filterObject=P,n.fromRotation=sh,n.getAnchorAlignment=np,n.getAnchorJustification=op,n.getArrayBuffer=Mt,n.getImage=Ve,n.getJSON=wt,n.getRTLTextPluginStatus=za,n.getReferrer=Yt,n.getVideo=Ge,n.identity=uh,n.invert=jf,n.isChar=vt,n.isMapboxURL=ye,n.keysDifference=f,n.makeRequest=ot,n.mapObject=i,n.mercatorXfromLng=$y,n.mercatorYfromLat=qy,n.mercatorZfromAltitude=e1,n.mul=N0,n.multiply=Kf,n.mvt=dh,n.normalize=iv,n.number=Di,n.offscreenCanvasSupported=zr,n.ortho=B0,n.parseGlyphPBF=N3,n.pbf=pd,n.performSymbolLayout=nw,n.perspective=av,n.pick=d,n.plugin=$a,n.polygonIntersectsPolygon=Ba,n.postMapLoadEvent=Fe,n.postTurnstileEvent=Je,n.potpack=Ay,n.refProperties=Iw,n.register=se,n.registerForPluginStateChange=Aa,n.rotate=zo,n.rotateX=os,n.rotateZ=fh,n.scale=is,n.scale$1=Z2,n.scale$2=V0,n.setCacheLimits=nr,n.setRTLTextPlugin=_a,n.sphericalToCartesian=O,n.sqrLen=J2,n.styleSpec=Xt,n.sub=W2,n.symbolSize=j3,n.transformMat3=G2,n.transformMat4=ud,n.translate=Hi,n.triggerPluginCompletionEvent=ta,n.uniqueId=A,n.validateCustomStyleLayer=bw,n.validateLight=wn,n.validateStyle=pn,n.values=T,n.vectorTile=dh,n.version=w,n.warnOnce=B,n.webpSupported=q,n.window=self,n.wrap=m}),L(["./shared"],function(n){function C(ct){var ot=typeof ct;if(ot==="number"||ot==="boolean"||ot==="string"||ct===void 0||ct===null)return JSON.stringify(ct);if(Array.isArray(ct)){for(var wt="[",Mt=0,Dt=ct;Mt<Dt.length;Mt+=1){var St=Dt[Mt];wt+=C(St)+","}return wt+"]"}for(var Ot=Object.keys(ct).sort(),Vt="{",Qt=0;Qt<Ot.length;Qt++)Vt+=JSON.stringify(Ot[Qt])+":"+C(ct[Ot[Qt]])+",";return Vt+"}"}function w(ct){for(var ot="",wt=0,Mt=n.refProperties;wt<Mt.length;wt+=1){var Dt=Mt[wt];ot+="/"+C(ct[Dt])}return ot}function v(ct,ot){for(var wt={},Mt=0;Mt<ct.length;Mt++){var Dt=ot&&ot[ct[Mt].id]||w(ct[Mt]);ot&&(ot[ct[Mt].id]=Dt);var St=wt[Dt];St||(St=wt[Dt]=[]),St.push(ct[Mt])}var Ot=[];for(var Vt in wt)Ot.push(wt[Vt]);return Ot}var y=function(ot){this.keyCache={},ot&&this.replace(ot)};y.prototype.replace=function(ot){this._layerConfigs={},this._layers={},this.update(ot,[])},y.prototype.update=function(ot,wt){for(var Mt=this,Dt=0,St=ot;Dt<St.length;Dt+=1){var Ot=St[Dt];this._layerConfigs[Ot.id]=Ot;var Vt=this._layers[Ot.id]=n.createStyleLayer(Ot);Vt._featureFilter=n.featureFilter(Vt.filter),this.keyCache[Ot.id]&&delete this.keyCache[Ot.id]}for(var Qt=0,Kt=wt;Qt<Kt.length;Qt+=1){var or=Kt[Qt];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var Mr=v(n.values(this._layerConfigs),this.keyCache),Ve=0,Ge=Mr;Ve<Ge.length;Ve+=1){var Ft=Ge[Ve],kt=Ft.map(function(hr){return Mt._layers[hr.id]}),Zt=kt[0];if(Zt.visibility!=="none"){var tr=Zt.source||"",sr=this.familiesBySource[tr];sr||(sr=this.familiesBySource[tr]={});var rr=Zt.sourceLayer||"_geojsonTileLayer",Nt=sr[rr];Nt||(Nt=sr[rr]=[]),Nt.push(kt)}}};var t=1,r=function(ot){var wt={},Mt=[];for(var Dt in ot){var St=ot[Dt],Ot=wt[Dt]={};for(var Vt in St){var Qt=St[+Vt];if(!(!Qt||Qt.bitmap.width===0||Qt.bitmap.height===0)){var Kt={x:0,y:0,w:Qt.bitmap.width+2*t,h:Qt.bitmap.height+2*t};Mt.push(Kt),Ot[Vt]={rect:Kt,metrics:Qt.metrics}}}}var or=n.potpack(Mt),Mr=or.w,Ve=or.h,Ge=new n.AlphaImage({width:Mr||1,height:Ve||1});for(var Ft in ot){var kt=ot[Ft];for(var Zt in kt){var tr=kt[+Zt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var sr=wt[Ft][Zt].rect;n.AlphaImage.copy(tr.bitmap,Ge,{x:0,y:0},{x:sr.x+t,y:sr.y+t},tr.bitmap)}}}this.image=Ge,this.positions=wt};n.register("GlyphAtlas",r);var l=function(ot){this.tileID=new n.OverscaledTileID(ot.tileID.overscaledZ,ot.tileID.wrap,ot.tileID.canonical.z,ot.tileID.canonical.x,ot.tileID.canonical.y),this.uid=ot.uid,this.zoom=ot.zoom,this.pixelRatio=ot.pixelRatio,this.tileSize=ot.tileSize,this.source=ot.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ot.showCollisionBoxes,this.collectResourceTiming=!!ot.collectResourceTiming,this.returnDependencies=!!ot.returnDependencies,this.promoteId=ot.promoteId};l.prototype.parse=function(ot,wt,Mt,Dt,St){var Ot=this;this.status="parsing",this.data=ot,this.collisionBoxArray=new n.CollisionBoxArray;var Vt=new n.DictionaryCoder(Object.keys(ot.layers).sort()),Qt=new n.FeatureIndex(this.tileID,this.promoteId);Qt.bucketLayerIDs=[];var Kt={},or={featureIndex:Qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Mt},Mr=wt.familiesBySource[this.source];for(var Ve in Mr){var Ge=ot.layers[Ve];if(Ge){Ge.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ve+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ft=Vt.encode(Ve),kt=[],Zt=0;Zt<Ge.length;Zt++){var tr=Ge.feature(Zt),sr=Qt.getId(tr,Ve);kt.push({feature:tr,id:sr,index:Zt,sourceLayerIndex:Ft})}for(var rr=0,Nt=Mr[Ve];rr<Nt.length;rr+=1){var hr=Nt[rr],pr=hr[0];if(!(pr.minzoom&&this.zoom<Math.floor(pr.minzoom))&&!(pr.maxzoom&&this.zoom>=pr.maxzoom)&&pr.visibility!=="none"){a(hr,this.zoom,Mt);var br=Kt[pr.id]=pr.createBucket({index:Qt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ft,sourceID:this.source});br.populate(kt,or,this.tileID.canonical),Qt.bucketLayerIDs.push(hr.map(function(yr){return yr.id}))}}}}var vr,Kr,Fr,Br,xn=n.mapObject(or.glyphDependencies,function(yr){return Object.keys(yr).map(Number)});Object.keys(xn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:xn},function(yr,cr){vr||(vr=yr,Kr=cr,In.call(Ot))}):Kr={};var jr=Object.keys(or.iconDependencies);jr.length?Dt.send("getImages",{icons:jr,source:this.source,tileID:this.tileID,type:"icons"},function(yr,cr){vr||(vr=yr,Fr=cr,In.call(Ot))}):Fr={};var Dn=Object.keys(or.patternDependencies);Dn.length?Dt.send("getImages",{icons:Dn,source:this.source,tileID:this.tileID,type:"patterns"},function(yr,cr){vr||(vr=yr,Br=cr,In.call(Ot))}):Br={},In.call(this);function In(){if(vr)return St(vr);if(Kr&&Fr&&Br){var yr=new r(Kr),cr=new n.ImageAtlas(Fr,Br);for(var kr in Kt){var Or=Kt[kr];Or instanceof n.SymbolBucket?(a(Or.layers,this.zoom,Mt),n.performSymbolLayout(Or,Kr,yr.positions,Fr,cr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Or.hasPattern&&(Or instanceof n.LineBucket||Or instanceof n.FillBucket||Or instanceof n.FillExtrusionBucket)&&(a(Or.layers,this.zoom,Mt),Or.addFeatures(or,this.tileID.canonical,cr.patternPositions))}this.status="done",St(null,{buckets:n.values(Kt).filter(function(sn){return!sn.isEmpty()}),featureIndex:Qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:yr.image,imageAtlas:cr,glyphMap:this.returnDependencies?Kr:null,iconMap:this.returnDependencies?Fr:null,glyphPositions:this.returnDependencies?yr.positions:null})}}};function a(ct,ot,wt){for(var Mt=new n.EvaluationParameters(ot),Dt=0,St=ct;Dt<St.length;Dt+=1){var Ot=St[Dt];Ot.recalculate(Mt,wt)}}function s(ct,ot){var wt=n.getArrayBuffer(ct.request,function(Mt,Dt,St,Ot){Mt?ot(Mt):Dt&&ot(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Dt)),rawData:Dt,cacheControl:St,expires:Ot})});return function(){wt.cancel(),ot()}}var c=function(ot,wt,Mt,Dt){this.actor=ot,this.layerIndex=wt,this.availableImages=Mt,this.loadVectorData=Dt||s,this.loading={},this.loaded={}};c.prototype.loadTile=function(ot,wt){var Mt=this,Dt=ot.uid;this.loading||(this.loading={});var St=ot&&ot.request&&ot.request.collectResourceTiming?new n.RequestPerformance(ot.request):!1,Ot=this.loading[Dt]=new l(ot);Ot.abort=this.loadVectorData(ot,function(Vt,Qt){if(delete Mt.loading[Dt],Vt||!Qt)return Ot.status="done",Mt.loaded[Dt]=Ot,wt(Vt);var Kt=Qt.rawData,or={};Qt.expires&&(or.expires=Qt.expires),Qt.cacheControl&&(or.cacheControl=Qt.cacheControl);var Mr={};if(St){var Ve=St.finish();Ve&&(Mr.resourceTiming=JSON.parse(JSON.stringify(Ve)))}Ot.vectorTile=Qt.vectorTile,Ot.parse(Qt.vectorTile,Mt.layerIndex,Mt.availableImages,Mt.actor,function(Ge,Ft){if(Ge||!Ft)return wt(Ge);wt(null,n.extend({rawTileData:Kt.slice(0)},Ft,or,Mr))}),Mt.loaded=Mt.loaded||{},Mt.loaded[Dt]=Ot})},c.prototype.reloadTile=function(ot,wt){var Mt=this,Dt=this.loaded,St=ot.uid,Ot=this;if(Dt&&Dt[St]){var Vt=Dt[St];Vt.showCollisionBoxes=ot.showCollisionBoxes;var Qt=function(Kt,or){var Mr=Vt.reloadCallback;Mr&&(delete Vt.reloadCallback,Vt.parse(Vt.vectorTile,Ot.layerIndex,Mt.availableImages,Ot.actor,Mr)),wt(Kt,or)};Vt.status==="parsing"?Vt.reloadCallback=Qt:Vt.status==="done"&&(Vt.vectorTile?Vt.parse(Vt.vectorTile,this.layerIndex,this.availableImages,this.actor,Qt):Qt())}},c.prototype.abortTile=function(ot,wt){var Mt=this.loading,Dt=ot.uid;Mt&&Mt[Dt]&&Mt[Dt].abort&&(Mt[Dt].abort(),delete Mt[Dt]),wt()},c.prototype.removeTile=function(ot,wt){var Mt=this.loaded,Dt=ot.uid;Mt&&Mt[Dt]&&delete Mt[Dt],wt()};var u=n.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(ot,wt){var Mt=ot.uid,Dt=ot.encoding,St=ot.rawImageData,Ot=u&&St instanceof u?this.getImageData(St):St,Vt=new n.DEMData(Mt,Ot,Dt);this.loaded=this.loaded||{},this.loaded[Mt]=Vt,wt(null,Vt)},m.prototype.getImageData=function(ot){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ot.width,ot.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ot.width,this.offscreenCanvas.height=ot.height,this.offscreenCanvasContext.drawImage(ot,0,0,ot.width,ot.height);var wt=this.offscreenCanvasContext.getImageData(-1,-1,ot.width+2,ot.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:wt.width,height:wt.height},wt.data)},m.prototype.removeTile=function(ot){var wt=this.loaded,Mt=ot.uid;wt&&wt[Mt]&&delete wt[Mt]};var h=T;function T(ct,ot){var wt=ct&&ct.type,Mt;if(wt==="FeatureCollection")for(Mt=0;Mt<ct.features.length;Mt++)T(ct.features[Mt],ot);else if(wt==="GeometryCollection")for(Mt=0;Mt<ct.geometries.length;Mt++)T(ct.geometries[Mt],ot);else if(wt==="Feature")T(ct.geometry,ot);else if(wt==="Polygon")f(ct.coordinates,ot);else if(wt==="MultiPolygon")for(Mt=0;Mt<ct.coordinates.length;Mt++)f(ct.coordinates[Mt],ot);return ct}function f(ct,ot){if(ct.length!==0){o(ct[0],ot);for(var wt=1;wt<ct.length;wt++)o(ct[wt],!ot)}}function o(ct,ot){for(var wt=0,Mt=0,Dt=ct.length,St=Dt-1;Mt<Dt;St=Mt++)wt+=(ct[Mt][0]-ct[St][0])*(ct[St][1]+ct[Mt][1]);wt>=0!=!!ot&&ct.reverse()}var d=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(ot){this._feature=ot,this.extent=n.EXTENT,this.type=ot.type,this.properties=ot.tags,"id"in ot&&!isNaN(ot.id)&&(this.id=parseInt(ot.id,10))};M.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ot=[],wt=0,Mt=this._feature.geometry;wt<Mt.length;wt+=1){var Dt=Mt[wt];ot.push([new n.Point$1(Dt[0],Dt[1])])}return ot}else{for(var St=[],Ot=0,Vt=this._feature.geometry;Ot<Vt.length;Ot+=1){for(var Qt=Vt[Ot],Kt=[],or=0,Mr=Qt;or<Mr.length;or+=1){var Ve=Mr[or];Kt.push(new n.Point$1(Ve[0],Ve[1]))}St.push(Kt)}return St}},M.prototype.toGeoJSON=function(ot,wt,Mt){return d.call(this,ot,wt,Mt)};var A=function(ot){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=ot.length,this._features=ot};A.prototype.feature=function(ot){return new M(this._features[ot])};var E=n.vectorTile.VectorTileFeature,g=S;function S(ct,ot){this.options=ot||{},this.features=ct,this.length=ct.length}S.prototype.feature=function(ct){return new b(this.features[ct],this.options.extent)};function b(ct,ot){this.id=typeof ct.id=="number"?ct.id:void 0,this.type=ct.type,this.rawGeometry=ct.type===1?[ct.geometry]:ct.geometry,this.properties=ct.tags,this.extent=ot||4096}b.prototype.loadGeometry=function(){var ct=this.rawGeometry;this.geometry=[];for(var ot=0;ot<ct.length;ot++){for(var wt=ct[ot],Mt=[],Dt=0;Dt<wt.length;Dt++)Mt.push(new n.Point$1(wt[Dt][0],wt[Dt][1]));this.geometry.push(Mt)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ct=this.geometry,ot=1/0,wt=-1/0,Mt=1/0,Dt=-1/0,St=0;St<ct.length;St++)for(var Ot=ct[St],Vt=0;Vt<Ot.length;Vt++){var Qt=Ot[Vt];ot=Math.min(ot,Qt.x),wt=Math.max(wt,Qt.x),Mt=Math.min(Mt,Qt.y),Dt=Math.max(Dt,Qt.y)}return[ot,Mt,wt,Dt]},b.prototype.toGeoJSON=E.prototype.toGeoJSON;var i=_,P=_,x=B,k=g;function _(ct){var ot=new n.pbf;return I(ct,ot),ot.finish()}function B(ct,ot){ot=ot||{};var wt={};for(var Mt in ct)wt[Mt]=new g(ct[Mt].features,ot),wt[Mt].name=Mt,wt[Mt].version=ot.version,wt[Mt].extent=ot.extent;return _({layers:wt})}function I(ct,ot){for(var wt in ct.layers)ot.writeMessage(3,z,ct.layers[wt])}function z(ct,ot){ot.writeVarintField(15,ct.version||1),ot.writeStringField(1,ct.name||""),ot.writeVarintField(5,ct.extent||4096);var wt,Mt={keys:[],values:[],keycache:{},valuecache:{}};for(wt=0;wt<ct.length;wt++)Mt.feature=ct.feature(wt),ot.writeMessage(2,O,Mt);var Dt=Mt.keys;for(wt=0;wt<Dt.length;wt++)ot.writeStringField(3,Dt[wt]);var St=Mt.values;for(wt=0;wt<St.length;wt++)ot.writeMessage(4,j,St[wt])}function O(ct,ot){var wt=ct.feature;wt.id!==void 0&&ot.writeVarintField(1,wt.id),ot.writeMessage(2,F,ct),ot.writeVarintField(3,wt.type),ot.writeMessage(4,$,wt)}function F(ct,ot){var wt=ct.feature,Mt=ct.keys,Dt=ct.values,St=ct.keycache,Ot=ct.valuecache;for(var Vt in wt.properties){var Qt=St[Vt];typeof Qt>"u"&&(Mt.push(Vt),Qt=Mt.length-1,St[Vt]=Qt),ot.writeVarint(Qt);var Kt=wt.properties[Vt],or=typeof Kt;or!=="string"&&or!=="boolean"&&or!=="number"&&(Kt=JSON.stringify(Kt));var Mr=or+":"+Kt,Ve=Ot[Mr];typeof Ve>"u"&&(Dt.push(Kt),Ve=Dt.length-1,Ot[Mr]=Ve),ot.writeVarint(Ve)}}function N(ct,ot){return(ot<<3)+(ct&7)}function Q(ct){return ct<<1^ct>>31}function $(ct,ot){for(var wt=ct.loadGeometry(),Mt=ct.type,Dt=0,St=0,Ot=wt.length,Vt=0;Vt<Ot;Vt++){var Qt=wt[Vt],Kt=1;Mt===1&&(Kt=Qt.length),ot.writeVarint(N(1,Kt));for(var or=Mt===3?Qt.length-1:Qt.length,Mr=0;Mr<or;Mr++){Mr===1&&Mt!==1&&ot.writeVarint(N(2,or-1));var Ve=Qt[Mr].x-Dt,Ge=Qt[Mr].y-St;ot.writeVarint(Q(Ve)),ot.writeVarint(Q(Ge)),Dt+=Ve,St+=Ge}Mt===3&&ot.writeVarint(N(7,1))}}function j(ct,ot){var wt=typeof ct;wt==="string"?ot.writeStringField(1,ct):wt==="boolean"?ot.writeBooleanField(7,ct):wt==="number"&&(ct%1!==0?ot.writeDoubleField(3,ct):ct<0?ot.writeSVarintField(6,ct):ot.writeVarintField(5,ct))}i.fromVectorTileJs=P,i.fromGeojsonVt=x,i.GeoJSONWrapper=k;function ee(ct,ot,wt,Mt,Dt,St){if(!(Dt-Mt<=wt)){var Ot=Mt+Dt>>1;oe(ct,ot,Ot,Mt,Dt,St%2),ee(ct,ot,wt,Mt,Ot-1,St+1),ee(ct,ot,wt,Ot+1,Dt,St+1)}}function oe(ct,ot,wt,Mt,Dt,St){for(;Dt>Mt;){if(Dt-Mt>600){var Ot=Dt-Mt+1,Vt=wt-Mt+1,Qt=Math.log(Ot),Kt=.5*Math.exp(2*Qt/3),or=.5*Math.sqrt(Qt*Kt*(Ot-Kt)/Ot)*(Vt-Ot/2<0?-1:1),Mr=Math.max(Mt,Math.floor(wt-Vt*Kt/Ot+or)),Ve=Math.min(Dt,Math.floor(wt+(Ot-Vt)*Kt/Ot+or));oe(ct,ot,wt,Mr,Ve,St)}var Ge=ot[2*wt+St],Ft=Mt,kt=Dt;for(Y(ct,ot,Mt,wt),ot[2*Dt+St]>Ge&&Y(ct,ot,Mt,Dt);Ft<kt;){for(Y(ct,ot,Ft,kt),Ft++,kt--;ot[2*Ft+St]<Ge;)Ft++;for(;ot[2*kt+St]>Ge;)kt--}ot[2*Mt+St]===Ge?Y(ct,ot,Mt,kt):(kt++,Y(ct,ot,kt,Dt)),kt<=wt&&(Mt=kt+1),wt<=kt&&(Dt=kt-1)}}function Y(ct,ot,wt,Mt){V(ct,wt,Mt),V(ot,2*wt,2*Mt),V(ot,2*wt+1,2*Mt+1)}function V(ct,ot,wt){var Mt=ct[ot];ct[ot]=ct[wt],ct[wt]=Mt}function W(ct,ot,wt,Mt,Dt,St,Ot){for(var Vt=[0,ct.length-1,0],Qt=[],Kt,or;Vt.length;){var Mr=Vt.pop(),Ve=Vt.pop(),Ge=Vt.pop();if(Ve-Ge<=Ot){for(var Ft=Ge;Ft<=Ve;Ft++)Kt=ot[2*Ft],or=ot[2*Ft+1],Kt>=wt&&Kt<=Dt&&or>=Mt&&or<=St&&Qt.push(ct[Ft]);continue}var kt=Math.floor((Ge+Ve)/2);Kt=ot[2*kt],or=ot[2*kt+1],Kt>=wt&&Kt<=Dt&&or>=Mt&&or<=St&&Qt.push(ct[kt]);var Zt=(Mr+1)%2;(Mr===0?wt<=Kt:Mt<=or)&&(Vt.push(Ge),Vt.push(kt-1),Vt.push(Zt)),(Mr===0?Dt>=Kt:St>=or)&&(Vt.push(kt+1),Vt.push(Ve),Vt.push(Zt))}return Qt}function X(ct,ot,wt,Mt,Dt,St){for(var Ot=[0,ct.length-1,0],Vt=[],Qt=Dt*Dt;Ot.length;){var Kt=Ot.pop(),or=Ot.pop(),Mr=Ot.pop();if(or-Mr<=St){for(var Ve=Mr;Ve<=or;Ve++)re(ot[2*Ve],ot[2*Ve+1],wt,Mt)<=Qt&&Vt.push(ct[Ve]);continue}var Ge=Math.floor((Mr+or)/2),Ft=ot[2*Ge],kt=ot[2*Ge+1];re(Ft,kt,wt,Mt)<=Qt&&Vt.push(ct[Ge]);var Zt=(Kt+1)%2;(Kt===0?wt-Dt<=Ft:Mt-Dt<=kt)&&(Ot.push(Mr),Ot.push(Ge-1),Ot.push(Zt)),(Kt===0?wt+Dt>=Ft:Mt+Dt>=kt)&&(Ot.push(Ge+1),Ot.push(or),Ot.push(Zt))}return Vt}function re(ct,ot,wt,Mt){var Dt=ct-wt,St=ot-Mt;return Dt*Dt+St*St}var ie=function(ct){return ct[0]},K=function(ct){return ct[1]},q=function(ot,wt,Mt,Dt,St){wt===void 0&&(wt=ie),Mt===void 0&&(Mt=K),Dt===void 0&&(Dt=64),St===void 0&&(St=Float64Array),this.nodeSize=Dt,this.points=ot;for(var Ot=ot.length<65536?Uint16Array:Uint32Array,Vt=this.ids=new Ot(ot.length),Qt=this.coords=new St(ot.length*2),Kt=0;Kt<ot.length;Kt++)Vt[Kt]=Kt,Qt[2*Kt]=wt(ot[Kt]),Qt[2*Kt+1]=Mt(ot[Kt]);ee(Vt,Qt,Dt,0,Vt.length-1,0)};q.prototype.range=function(ot,wt,Mt,Dt){return W(this.ids,this.coords,ot,wt,Mt,Dt,this.nodeSize)},q.prototype.within=function(ot,wt,Mt){return X(this.ids,this.coords,ot,wt,Mt,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ct){return ct}},ae=function(ot){this.options=Ae(Object.create(le),ot),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(ot){var wt=this.options,Mt=wt.log,Dt=wt.minZoom,St=wt.maxZoom,Ot=wt.nodeSize;Mt&&console.time("total time");var Vt="prepare "+ot.length+" points";Mt&&console.time(Vt),this.points=ot;for(var Qt=[],Kt=0;Kt<ot.length;Kt++)ot[Kt].geometry&&Qt.push(me(ot[Kt],Kt));this.trees[St+1]=new q(Qt,Be,Ue,Ot,Float32Array),Mt&&console.timeEnd(Vt);for(var or=St;or>=Dt;or--){var Mr=+Date.now();Qt=this._cluster(Qt,or),this.trees[or]=new q(Qt,Be,Ue,Ot,Float32Array),Mt&&console.log("z%d: %d clusters in %dms",or,Qt.length,+Date.now()-Mr)}return Mt&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(ot,wt){var Mt=((ot[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,ot[1])),St=ot[2]===180?180:((ot[2]+180)%360+360)%360-180,Ot=Math.max(-90,Math.min(90,ot[3]));if(ot[2]-ot[0]>=360)Mt=-180,St=180;else if(Mt>St){var Vt=this.getClusters([Mt,Dt,180,Ot],wt),Qt=this.getClusters([-180,Dt,St,Ot],wt);return Vt.concat(Qt)}for(var Kt=this.trees[this._limitZoom(wt)],or=Kt.range(Ie(Mt),_e(Ot),Ie(St),_e(Dt)),Mr=[],Ve=0,Ge=or;Ve<Ge.length;Ve+=1){var Ft=Ge[Ve],kt=Kt.points[Ft];Mr.push(kt.numPoints?Me(kt):this.points[kt.index])}return Mr},ae.prototype.getChildren=function(ot){var wt=this._getOriginId(ot),Mt=this._getOriginZoom(ot),Dt="No cluster with the specified id.",St=this.trees[Mt];if(!St)throw new Error(Dt);var Ot=St.points[wt];if(!Ot)throw new Error(Dt);for(var Vt=this.options.radius/(this.options.extent*Math.pow(2,Mt-1)),Qt=St.within(Ot.x,Ot.y,Vt),Kt=[],or=0,Mr=Qt;or<Mr.length;or+=1){var Ve=Mr[or],Ge=St.points[Ve];Ge.parentId===ot&&Kt.push(Ge.numPoints?Me(Ge):this.points[Ge.index])}if(Kt.length===0)throw new Error(Dt);return Kt},ae.prototype.getLeaves=function(ot,wt,Mt){wt=wt||10,Mt=Mt||0;var Dt=[];return this._appendLeaves(Dt,ot,wt,Mt,0),Dt},ae.prototype.getTile=function(ot,wt,Mt){var Dt=this.trees[this._limitZoom(ot)],St=Math.pow(2,ot),Ot=this.options,Vt=Ot.extent,Qt=Ot.radius,Kt=Qt/Vt,or=(Mt-Kt)/St,Mr=(Mt+1+Kt)/St,Ve={features:[]};return this._addTileFeatures(Dt.range((wt-Kt)/St,or,(wt+1+Kt)/St,Mr),Dt.points,wt,Mt,St,Ve),wt===0&&this._addTileFeatures(Dt.range(1-Kt/St,or,1,Mr),Dt.points,St,Mt,St,Ve),wt===St-1&&this._addTileFeatures(Dt.range(0,or,Kt/St,Mr),Dt.points,-1,Mt,St,Ve),Ve.features.length?Ve:null},ae.prototype.getClusterExpansionZoom=function(ot){for(var wt=this._getOriginZoom(ot)-1;wt<=this.options.maxZoom;){var Mt=this.getChildren(ot);if(wt++,Mt.length!==1)break;ot=Mt[0].properties.cluster_id}return wt},ae.prototype._appendLeaves=function(ot,wt,Mt,Dt,St){for(var Ot=this.getChildren(wt),Vt=0,Qt=Ot;Vt<Qt.length;Vt+=1){var Kt=Qt[Vt],or=Kt.properties;if(or&&or.cluster?St+or.point_count<=Dt?St+=or.point_count:St=this._appendLeaves(ot,or.cluster_id,Mt,Dt,St):St<Dt?St++:ot.push(Kt),ot.length===Mt)break}return St},ae.prototype._addTileFeatures=function(ot,wt,Mt,Dt,St,Ot){for(var Vt=0,Qt=ot;Vt<Qt.length;Vt+=1){var Kt=Qt[Vt],or=wt[Kt],Mr=or.numPoints,Ve={type:1,geometry:[[Math.round(this.options.extent*(or.x*St-Mt)),Math.round(this.options.extent*(or.y*St-Dt))]],tags:Mr?xe(or):this.points[or.index].properties},Ge=void 0;Mr?Ge=or.id:this.options.generateId?Ge=or.index:this.points[or.index].id&&(Ge=this.points[or.index].id),Ge!==void 0&&(Ve.id=Ge),Ot.features.push(Ve)}},ae.prototype._limitZoom=function(ot){return Math.max(this.options.minZoom,Math.min(ot,this.options.maxZoom+1))},ae.prototype._cluster=function(ot,wt){for(var Mt=[],Dt=this.options,St=Dt.radius,Ot=Dt.extent,Vt=Dt.reduce,Qt=St/(Ot*Math.pow(2,wt)),Kt=0;Kt<ot.length;Kt++){var or=ot[Kt];if(!(or.zoom<=wt)){or.zoom=wt;for(var Mr=this.trees[wt+1],Ve=Mr.within(or.x,or.y,Qt),Ge=or.numPoints||1,Ft=or.x*Ge,kt=or.y*Ge,Zt=Vt&&Ge>1?this._map(or,!0):null,tr=(Kt<<5)+(wt+1)+this.points.length,sr=0,rr=Ve;sr<rr.length;sr+=1){var Nt=rr[sr],hr=Mr.points[Nt];if(!(hr.zoom<=wt)){hr.zoom=wt;var pr=hr.numPoints||1;Ft+=hr.x*pr,kt+=hr.y*pr,Ge+=pr,hr.parentId=tr,Vt&&(Zt||(Zt=this._map(or,!0)),Vt(Zt,this._map(hr)))}}Ge===1?Mt.push(or):(or.parentId=tr,Mt.push(he(Ft/Ge,kt/Ge,tr,Ge,Zt)))}}return Mt},ae.prototype._getOriginId=function(ot){return ot-this.points.length>>5},ae.prototype._getOriginZoom=function(ot){return(ot-this.points.length)%32},ae.prototype._map=function(ot,wt){if(ot.numPoints)return wt?Ae({},ot.properties):ot.properties;var Mt=this.points[ot.index].properties,Dt=this.options.map(Mt);return wt&&Dt===Mt?Ae({},Dt):Dt};function he(ct,ot,wt,Mt,Dt){return{x:ct,y:ot,zoom:1/0,id:wt,parentId:-1,numPoints:Mt,properties:Dt}}function me(ct,ot){var wt=ct.geometry.coordinates,Mt=wt[0],Dt=wt[1];return{x:Ie(Mt),y:_e(Dt),zoom:1/0,index:ot,parentId:-1}}function Me(ct){return{type:"Feature",id:ct.id,properties:xe(ct),geometry:{type:"Point",coordinates:[Te(ct.x),ye(ct.y)]}}}function xe(ct){var ot=ct.numPoints,wt=ot>=1e4?Math.round(ot/1e3)+"k":ot>=1e3?Math.round(ot/100)/10+"k":ot;return Ae(Ae({},ct.properties),{cluster:!0,cluster_id:ct.id,point_count:ot,point_count_abbreviated:wt})}function Ie(ct){return ct/360+.5}function _e(ct){var ot=Math.sin(ct*Math.PI/180),wt=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return wt<0?0:wt>1?1:wt}function Te(ct){return(ct-.5)*360}function ye(ct){var ot=(180-ct*360)*Math.PI/180;return 360*Math.atan(Math.exp(ot))/Math.PI-90}function Ae(ct,ot){for(var wt in ot)ct[wt]=ot[wt];return ct}function Be(ct){return ct.x}function Ue(ct){return ct.y}function De(ct,ot,wt,Mt){for(var Dt=Mt,St=wt-ot>>1,Ot=wt-ot,Vt,Qt=ct[ot],Kt=ct[ot+1],or=ct[wt],Mr=ct[wt+1],Ve=ot+3;Ve<wt;Ve+=3){var Ge=He(ct[Ve],ct[Ve+1],Qt,Kt,or,Mr);if(Ge>Dt)Vt=Ve,Dt=Ge;else if(Ge===Dt){var Ft=Math.abs(Ve-St);Ft<Ot&&(Vt=Ve,Ot=Ft)}}Dt>Mt&&(Vt-ot>3&&De(ct,ot,Vt,Mt),ct[Vt+2]=Dt,wt-Vt>3&&De(ct,Vt,wt,Mt))}function He(ct,ot,wt,Mt,Dt,St){var Ot=Dt-wt,Vt=St-Mt;if(Ot!==0||Vt!==0){var Qt=((ct-wt)*Ot+(ot-Mt)*Vt)/(Ot*Ot+Vt*Vt);Qt>1?(wt=Dt,Mt=St):Qt>0&&(wt+=Ot*Qt,Mt+=Vt*Qt)}return Ot=ct-wt,Vt=ot-Mt,Ot*Ot+Vt*Vt}function ut(ct,ot,wt,Mt){var Dt={id:typeof ct>"u"?null:ct,type:ot,geometry:wt,tags:Mt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return et(Dt),Dt}function et(ct){var ot=ct.geometry,wt=ct.type;if(wt==="Point"||wt==="MultiPoint"||wt==="LineString")Qe(ct,ot);else if(wt==="Polygon"||wt==="MultiLineString")for(var Mt=0;Mt<ot.length;Mt++)Qe(ct,ot[Mt]);else if(wt==="MultiPolygon")for(Mt=0;Mt<ot.length;Mt++)for(var Dt=0;Dt<ot[Mt].length;Dt++)Qe(ct,ot[Mt][Dt])}function Qe(ct,ot){for(var wt=0;wt<ot.length;wt+=3)ct.minX=Math.min(ct.minX,ot[wt]),ct.minY=Math.min(ct.minY,ot[wt+1]),ct.maxX=Math.max(ct.maxX,ot[wt]),ct.maxY=Math.max(ct.maxY,ot[wt+1])}function qe(ct,ot){var wt=[];if(ct.type==="FeatureCollection")for(var Mt=0;Mt<ct.features.length;Mt++)ft(wt,ct.features[Mt],ot,Mt);else ct.type==="Feature"?ft(wt,ct,ot):ft(wt,{geometry:ct},ot);return wt}function ft(ct,ot,wt,Mt){if(ot.geometry){var Dt=ot.geometry.coordinates,St=ot.geometry.type,Ot=Math.pow(wt.tolerance/((1<<wt.maxZoom)*wt.extent),2),Vt=[],Qt=ot.id;if(wt.promoteId?Qt=ot.properties[wt.promoteId]:wt.generateId&&(Qt=Mt||0),St==="Point")gt(Dt,Vt);else if(St==="MultiPoint")for(var Kt=0;Kt<Dt.length;Kt++)gt(Dt[Kt],Vt);else if(St==="LineString")xt(Dt,Vt,Ot,!1);else if(St==="MultiLineString")if(wt.lineMetrics){for(Kt=0;Kt<Dt.length;Kt++)Vt=[],xt(Dt[Kt],Vt,Ot,!1),ct.push(ut(Qt,"LineString",Vt,ot.properties));return}else Ct(Dt,Vt,Ot,!1);else if(St==="Polygon")Ct(Dt,Vt,Ot,!0);else if(St==="MultiPolygon")for(Kt=0;Kt<Dt.length;Kt++){var or=[];Ct(Dt[Kt],or,Ot,!0),Vt.push(or)}else if(St==="GeometryCollection"){for(Kt=0;Kt<ot.geometry.geometries.length;Kt++)ft(ct,{id:Qt,geometry:ot.geometry.geometries[Kt],properties:ot.properties},wt,Mt);return}else throw new Error("Input data is not a valid GeoJSON object.");ct.push(ut(Qt,St,Vt,ot.properties))}}function gt(ct,ot){ot.push(Je(ct[0])),ot.push(ze(ct[1])),ot.push(0)}function xt(ct,ot,wt,Mt){for(var Dt,St,Ot=0,Vt=0;Vt<ct.length;Vt++){var Qt=Je(ct[Vt][0]),Kt=ze(ct[Vt][1]);ot.push(Qt),ot.push(Kt),ot.push(0),Vt>0&&(Mt?Ot+=(Dt*Kt-Qt*St)/2:Ot+=Math.sqrt(Math.pow(Qt-Dt,2)+Math.pow(Kt-St,2))),Dt=Qt,St=Kt}var or=ot.length-3;ot[2]=1,De(ot,0,or,wt),ot[or+2]=1,ot.size=Math.abs(Ot),ot.start=0,ot.end=ot.size}function Ct(ct,ot,wt,Mt){for(var Dt=0;Dt<ct.length;Dt++){var St=[];xt(ct[Dt],St,wt,Mt),ot.push(St)}}function Je(ct){return ct/360+.5}function ze(ct){var ot=Math.sin(ct*Math.PI/180),wt=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return wt<0?0:wt>1?1:wt}function Fe(ct,ot,wt,Mt,Dt,St,Ot,Vt){if(wt/=ot,Mt/=ot,St>=wt&&Ot<Mt)return ct;if(Ot<wt||St>=Mt)return null;for(var Qt=[],Kt=0;Kt<ct.length;Kt++){var or=ct[Kt],Mr=or.geometry,Ve=or.type,Ge=Dt===0?or.minX:or.minY,Ft=Dt===0?or.maxX:or.maxY;if(Ge>=wt&&Ft<Mt){Qt.push(or);continue}else if(Ft<wt||Ge>=Mt)continue;var kt=[];if(Ve==="Point"||Ve==="MultiPoint")$e(Mr,kt,wt,Mt,Dt);else if(Ve==="LineString")at(Mr,kt,wt,Mt,Dt,!1,Vt.lineMetrics);else if(Ve==="MultiLineString")Pe(Mr,kt,wt,Mt,Dt,!1);else if(Ve==="Polygon")Pe(Mr,kt,wt,Mt,Dt,!0);else if(Ve==="MultiPolygon")for(var Zt=0;Zt<Mr.length;Zt++){var tr=[];Pe(Mr[Zt],tr,wt,Mt,Dt,!0),tr.length&&kt.push(tr)}if(kt.length){if(Vt.lineMetrics&&Ve==="LineString"){for(Zt=0;Zt<kt.length;Zt++)Qt.push(ut(or.id,Ve,kt[Zt],or.tags));continue}(Ve==="LineString"||Ve==="MultiLineString")&&(kt.length===1?(Ve="LineString",kt=kt[0]):Ve="MultiLineString"),(Ve==="Point"||Ve==="MultiPoint")&&(Ve=kt.length===3?"Point":"MultiPoint"),Qt.push(ut(or.id,Ve,kt,or.tags))}}return Qt.length?Qt:null}function $e(ct,ot,wt,Mt,Dt){for(var St=0;St<ct.length;St+=3){var Ot=ct[St+Dt];Ot>=wt&&Ot<=Mt&&(ot.push(ct[St]),ot.push(ct[St+1]),ot.push(ct[St+2]))}}function at(ct,ot,wt,Mt,Dt,St,Ot){for(var Vt=Xe(ct),Qt=Dt===0?ue:ge,Kt=ct.start,or,Mr,Ve=0;Ve<ct.length-3;Ve+=3){var Ge=ct[Ve],Ft=ct[Ve+1],kt=ct[Ve+2],Zt=ct[Ve+3],tr=ct[Ve+4],sr=Dt===0?Ge:Ft,rr=Dt===0?Zt:tr,Nt=!1;Ot&&(or=Math.sqrt(Math.pow(Ge-Zt,2)+Math.pow(Ft-tr,2))),sr<wt?rr>wt&&(Mr=Qt(Vt,Ge,Ft,Zt,tr,wt),Ot&&(Vt.start=Kt+or*Mr)):sr>Mt?rr<Mt&&(Mr=Qt(Vt,Ge,Ft,Zt,tr,Mt),Ot&&(Vt.start=Kt+or*Mr)):we(Vt,Ge,Ft,kt),rr<wt&&sr>=wt&&(Mr=Qt(Vt,Ge,Ft,Zt,tr,wt),Nt=!0),rr>Mt&&sr<=Mt&&(Mr=Qt(Vt,Ge,Ft,Zt,tr,Mt),Nt=!0),!St&&Nt&&(Ot&&(Vt.end=Kt+or*Mr),ot.push(Vt),Vt=Xe(ct)),Ot&&(Kt+=or)}var hr=ct.length-3;Ge=ct[hr],Ft=ct[hr+1],kt=ct[hr+2],sr=Dt===0?Ge:Ft,sr>=wt&&sr<=Mt&&we(Vt,Ge,Ft,kt),hr=Vt.length-3,St&&hr>=3&&(Vt[hr]!==Vt[0]||Vt[hr+1]!==Vt[1])&&we(Vt,Vt[0],Vt[1],Vt[2]),Vt.length&&ot.push(Vt)}function Xe(ct){var ot=[];return ot.size=ct.size,ot.start=ct.start,ot.end=ct.end,ot}function Pe(ct,ot,wt,Mt,Dt,St){for(var Ot=0;Ot<ct.length;Ot++)at(ct[Ot],ot,wt,Mt,Dt,St,!1)}function we(ct,ot,wt,Mt){ct.push(ot),ct.push(wt),ct.push(Mt)}function ue(ct,ot,wt,Mt,Dt,St){var Ot=(St-ot)/(Mt-ot);return ct.push(St),ct.push(wt+(Dt-wt)*Ot),ct.push(1),Ot}function ge(ct,ot,wt,Mt,Dt,St){var Ot=(St-wt)/(Dt-wt);return ct.push(ot+(Mt-ot)*Ot),ct.push(St),ct.push(1),Ot}function Le(ct,ot){var wt=ot.buffer/ot.extent,Mt=ct,Dt=Fe(ct,1,-1-wt,wt,0,-1,2,ot),St=Fe(ct,1,1-wt,2+wt,0,-1,2,ot);return(Dt||St)&&(Mt=Fe(ct,1,-wt,1+wt,0,-1,2,ot)||[],Dt&&(Mt=ke(Dt,1).concat(Mt)),St&&(Mt=Mt.concat(ke(St,-1)))),Mt}function ke(ct,ot){for(var wt=[],Mt=0;Mt<ct.length;Mt++){var Dt=ct[Mt],St=Dt.type,Ot;if(St==="Point"||St==="MultiPoint"||St==="LineString")Ot=it(Dt.geometry,ot);else if(St==="MultiLineString"||St==="Polygon"){Ot=[];for(var Vt=0;Vt<Dt.geometry.length;Vt++)Ot.push(it(Dt.geometry[Vt],ot))}else if(St==="MultiPolygon")for(Ot=[],Vt=0;Vt<Dt.geometry.length;Vt++){for(var Qt=[],Kt=0;Kt<Dt.geometry[Vt].length;Kt++)Qt.push(it(Dt.geometry[Vt][Kt],ot));Ot.push(Qt)}wt.push(ut(Dt.id,St,Ot,Dt.tags))}return wt}function it(ct,ot){var wt=[];wt.size=ct.size,ct.start!==void 0&&(wt.start=ct.start,wt.end=ct.end);for(var Mt=0;Mt<ct.length;Mt+=3)wt.push(ct[Mt]+ot,ct[Mt+1],ct[Mt+2]);return wt}function lt(ct,ot){if(ct.transformed)return ct;var wt=1<<ct.z,Mt=ct.x,Dt=ct.y,St,Ot,Vt;for(St=0;St<ct.features.length;St++){var Qt=ct.features[St],Kt=Qt.geometry,or=Qt.type;if(Qt.geometry=[],or===1)for(Ot=0;Ot<Kt.length;Ot+=2)Qt.geometry.push(bt(Kt[Ot],Kt[Ot+1],ot,wt,Mt,Dt));else for(Ot=0;Ot<Kt.length;Ot++){var Mr=[];for(Vt=0;Vt<Kt[Ot].length;Vt+=2)Mr.push(bt(Kt[Ot][Vt],Kt[Ot][Vt+1],ot,wt,Mt,Dt));Qt.geometry.push(Mr)}}return ct.transformed=!0,ct}function bt(ct,ot,wt,Mt,Dt,St){return[Math.round(wt*(ct*Mt-Dt)),Math.round(wt*(ot*Mt-St))]}function Rt(ct,ot,wt,Mt,Dt){for(var St=ot===Dt.maxZoom?0:Dt.tolerance/((1<<ot)*Dt.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:wt,y:Mt,z:ot,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Vt=0;Vt<ct.length;Vt++){Ot.numFeatures++,Ut(Ot,ct[Vt],St,Dt);var Qt=ct[Vt].minX,Kt=ct[Vt].minY,or=ct[Vt].maxX,Mr=ct[Vt].maxY;Qt<Ot.minX&&(Ot.minX=Qt),Kt<Ot.minY&&(Ot.minY=Kt),or>Ot.maxX&&(Ot.maxX=or),Mr>Ot.maxY&&(Ot.maxY=Mr)}return Ot}function Ut(ct,ot,wt,Mt){var Dt=ot.geometry,St=ot.type,Ot=[];if(St==="Point"||St==="MultiPoint")for(var Vt=0;Vt<Dt.length;Vt+=3)Ot.push(Dt[Vt]),Ot.push(Dt[Vt+1]),ct.numPoints++,ct.numSimplified++;else if(St==="LineString")Gt(Ot,Dt,ct,wt,!1,!1);else if(St==="MultiLineString"||St==="Polygon")for(Vt=0;Vt<Dt.length;Vt++)Gt(Ot,Dt[Vt],ct,wt,St==="Polygon",Vt===0);else if(St==="MultiPolygon")for(var Qt=0;Qt<Dt.length;Qt++){var Kt=Dt[Qt];for(Vt=0;Vt<Kt.length;Vt++)Gt(Ot,Kt[Vt],ct,wt,!0,Vt===0)}if(Ot.length){var or=ot.tags||null;if(St==="LineString"&&Mt.lineMetrics){or={};for(var Mr in ot.tags)or[Mr]=ot.tags[Mr];or.mapbox_clip_start=Dt.start/Dt.size,or.mapbox_clip_end=Dt.end/Dt.size}var Ve={geometry:Ot,type:St==="Polygon"||St==="MultiPolygon"?3:St==="LineString"||St==="MultiLineString"?2:1,tags:or};ot.id!==null&&(Ve.id=ot.id),ct.features.push(Ve)}}function Gt(ct,ot,wt,Mt,Dt,St){var Ot=Mt*Mt;if(Mt>0&&ot.size<(Dt?Ot:Mt)){wt.numPoints+=ot.length/3;return}for(var Vt=[],Qt=0;Qt<ot.length;Qt+=3)(Mt===0||ot[Qt+2]>Ot)&&(wt.numSimplified++,Vt.push(ot[Qt]),Vt.push(ot[Qt+1])),wt.numPoints++;Dt&&_t(Vt,St),ct.push(Vt)}function _t(ct,ot){for(var wt=0,Mt=0,Dt=ct.length,St=Dt-2;Mt<Dt;St=Mt,Mt+=2)wt+=(ct[Mt]-ct[St])*(ct[Mt+1]+ct[St+1]);if(wt>0===ot)for(Mt=0,Dt=ct.length;Mt<Dt/2;Mt+=2){var Ot=ct[Mt],Vt=ct[Mt+1];ct[Mt]=ct[Dt-2-Mt],ct[Mt+1]=ct[Dt-1-Mt],ct[Dt-2-Mt]=Ot,ct[Dt-1-Mt]=Vt}}function nr(ct,ot){return new lr(ct,ot)}function lr(ct,ot){ot=this.options=mt(Object.create(this.options),ot);var wt=ot.debug;if(wt&&console.time("preprocess data"),ot.maxZoom<0||ot.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ot.promoteId&&ot.generateId)throw new Error("promoteId and generateId cannot be used together.");var Mt=qe(ct,ot);this.tiles={},this.tileCoords=[],wt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ot.indexMaxZoom,ot.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Mt=Le(Mt,ot),Mt.length&&this.splitTile(Mt,0,0,0),wt&&(Mt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}lr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},lr.prototype.splitTile=function(ct,ot,wt,Mt,Dt,St,Ot){for(var Vt=[ct,ot,wt,Mt],Qt=this.options,Kt=Qt.debug;Vt.length;){Mt=Vt.pop(),wt=Vt.pop(),ot=Vt.pop(),ct=Vt.pop();var or=1<<ot,Mr=zr(ot,wt,Mt),Ve=this.tiles[Mr];if(!Ve&&(Kt>1&&console.time("creation"),Ve=this.tiles[Mr]=Rt(ct,ot,wt,Mt,Qt),this.tileCoords.push({z:ot,x:wt,y:Mt}),Kt)){Kt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ot,wt,Mt,Ve.numFeatures,Ve.numPoints,Ve.numSimplified),console.timeEnd("creation"));var Ge="z"+ot;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(Ve.source=ct,Dt){if(ot===Qt.maxZoom||ot===Dt)continue;var Ft=1<<Dt-ot;if(wt!==Math.floor(St/Ft)||Mt!==Math.floor(Ot/Ft))continue}else if(ot===Qt.indexMaxZoom||Ve.numPoints<=Qt.indexMaxPoints)continue;if(Ve.source=null,ct.length!==0){Kt>1&&console.time("clipping");var kt=.5*Qt.buffer/Qt.extent,Zt=.5-kt,tr=.5+kt,sr=1+kt,rr,Nt,hr,pr,br,vr;rr=Nt=hr=pr=null,br=Fe(ct,or,wt-kt,wt+tr,0,Ve.minX,Ve.maxX,Qt),vr=Fe(ct,or,wt+Zt,wt+sr,0,Ve.minX,Ve.maxX,Qt),ct=null,br&&(rr=Fe(br,or,Mt-kt,Mt+tr,1,Ve.minY,Ve.maxY,Qt),Nt=Fe(br,or,Mt+Zt,Mt+sr,1,Ve.minY,Ve.maxY,Qt),br=null),vr&&(hr=Fe(vr,or,Mt-kt,Mt+tr,1,Ve.minY,Ve.maxY,Qt),pr=Fe(vr,or,Mt+Zt,Mt+sr,1,Ve.minY,Ve.maxY,Qt),vr=null),Kt>1&&console.timeEnd("clipping"),Vt.push(rr||[],ot+1,wt*2,Mt*2),Vt.push(Nt||[],ot+1,wt*2,Mt*2+1),Vt.push(hr||[],ot+1,wt*2+1,Mt*2),Vt.push(pr||[],ot+1,wt*2+1,Mt*2+1)}}},lr.prototype.getTile=function(ct,ot,wt){var Mt=this.options,Dt=Mt.extent,St=Mt.debug;if(ct<0||ct>24)return null;var Ot=1<<ct;ot=(ot%Ot+Ot)%Ot;var Vt=zr(ct,ot,wt);if(this.tiles[Vt])return lt(this.tiles[Vt],Dt);St>1&&console.log("drilling down to z%d-%d-%d",ct,ot,wt);for(var Qt=ct,Kt=ot,or=wt,Mr;!Mr&&Qt>0;)Qt--,Kt=Math.floor(Kt/2),or=Math.floor(or/2),Mr=this.tiles[zr(Qt,Kt,or)];return!Mr||!Mr.source?null:(St>1&&console.log("found parent tile z%d-%d-%d",Qt,Kt,or),St>1&&console.time("drilling down"),this.splitTile(Mr.source,Qt,Kt,or,ct,ot,wt),St>1&&console.timeEnd("drilling down"),this.tiles[Vt]?lt(this.tiles[Vt],Dt):null)};function zr(ct,ot,wt){return((1<<ct)*wt+ot)*32+ct}function mt(ct,ot){for(var wt in ot)ct[wt]=ot[wt];return ct}function jt(ct,ot){var wt=ct.tileID.canonical;if(!this._geoJSONIndex)return ot(null,null);var Mt=this._geoJSONIndex.getTile(wt.z,wt.x,wt.y);if(!Mt)return ot(null,null);var Dt=new A(Mt.features),St=i(Dt);(St.byteOffset!==0||St.byteLength!==St.buffer.byteLength)&&(St=new Uint8Array(St)),ot(null,{vectorTile:Dt,rawData:St.buffer})}var Yt=function(ct){function ot(wt,Mt,Dt,St){ct.call(this,wt,Mt,Dt,jt),St&&(this.loadGeoJSON=St)}return ct&&(ot.__proto__=ct),ot.prototype=Object.create(ct&&ct.prototype),ot.prototype.constructor=ot,ot.prototype.loadData=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Mt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ot.prototype._loadData=function(){var Mt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,St=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ot=St&&St.request&&St.request.collectResourceTiming?new n.RequestPerformance(St.request):!1;this.loadGeoJSON(St,function(Vt,Qt){if(Vt||!Qt)return Dt(Vt);if(typeof Qt!="object")return Dt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."));h(Qt,!0);try{Mt._geoJSONIndex=St.cluster?new ae(wr(St)).load(Qt.features):nr(Qt,St.geojsonVtOptions)}catch(Mr){return Dt(Mr)}Mt.loaded={};var Kt={};if(Ot){var or=Ot.finish();or&&(Kt.resourceTiming={},Kt.resourceTiming[St.source]=JSON.parse(JSON.stringify(or)))}Dt(null,Kt)})}},ot.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ot.prototype.reloadTile=function(Mt,Dt){var St=this.loaded,Ot=Mt.uid;return St&&St[Ot]?ct.prototype.reloadTile.call(this,Mt,Dt):this.loadTile(Mt,Dt)},ot.prototype.loadGeoJSON=function(Mt,Dt){if(Mt.request)n.getJSON(Mt.request,Dt);else if(typeof Mt.data=="string")try{return Dt(null,JSON.parse(Mt.data))}catch{return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))},ot.prototype.removeSource=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},ot.prototype.getClusterExpansionZoom=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Mt.clusterId))}catch(St){Dt(St)}},ot.prototype.getClusterChildren=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Mt.clusterId))}catch(St){Dt(St)}},ot.prototype.getClusterLeaves=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Mt.clusterId,Mt.limit,Mt.offset))}catch(St){Dt(St)}},ot}(c);function wr(ct){var ot=ct.superclusterOptions,wt=ct.clusterProperties;if(!wt||!ot)return ot;for(var Mt={},Dt={},St={accumulated:null,zoom:0},Ot={properties:null},Vt=Object.keys(wt),Qt=0,Kt=Vt;Qt<Kt.length;Qt+=1){var or=Kt[Qt],Mr=wt[or],Ve=Mr[0],Ge=Mr[1],Ft=n.createExpression(Ge),kt=n.createExpression(typeof Ve=="string"?[Ve,["accumulated"],["get",or]]:Ve);Mt[or]=Ft.value,Dt[or]=kt.value}return ot.map=function(Zt){Ot.properties=Zt;for(var tr={},sr=0,rr=Vt;sr<rr.length;sr+=1){var Nt=rr[sr];tr[Nt]=Mt[Nt].evaluate(St,Ot)}return tr},ot.reduce=function(Zt,tr){Ot.properties=tr;for(var sr=0,rr=Vt;sr<rr.length;sr+=1){var Nt=rr[sr];St.accumulated=Zt[Nt],Zt[Nt]=Dt[Nt].evaluate(St,Ot)}},ot}var dr=function(ot){var wt=this;this.self=ot,this.actor=new n.Actor(ot,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:Yt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Mt,Dt){if(wt.workerSourceTypes[Mt])throw new Error('Worker source with name "'+Mt+'" already registered.');wt.workerSourceTypes[Mt]=Dt},this.self.registerRTLTextPlugin=function(Mt){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Mt.applyArabicShaping,n.plugin.processBidirectionalText=Mt.processBidirectionalText,n.plugin.processStyledBidirectionalText=Mt.processStyledBidirectionalText}};return dr.prototype.setReferrer=function(ot,wt){this.referrer=wt},dr.prototype.setImages=function(ot,wt,Mt){this.availableImages[ot]=wt;for(var Dt in this.workerSources[ot]){var St=this.workerSources[ot][Dt];for(var Ot in St)St[Ot].availableImages=wt}Mt()},dr.prototype.setLayers=function(ot,wt,Mt){this.getLayerIndex(ot).replace(wt),Mt()},dr.prototype.updateLayers=function(ot,wt,Mt){this.getLayerIndex(ot).update(wt.layers,wt.removedIds),Mt()},dr.prototype.loadTile=function(ot,wt,Mt){this.getWorkerSource(ot,wt.type,wt.source).loadTile(wt,Mt)},dr.prototype.loadDEMTile=function(ot,wt,Mt){this.getDEMWorkerSource(ot,wt.source).loadTile(wt,Mt)},dr.prototype.reloadTile=function(ot,wt,Mt){this.getWorkerSource(ot,wt.type,wt.source).reloadTile(wt,Mt)},dr.prototype.abortTile=function(ot,wt,Mt){this.getWorkerSource(ot,wt.type,wt.source).abortTile(wt,Mt)},dr.prototype.removeTile=function(ot,wt,Mt){this.getWorkerSource(ot,wt.type,wt.source).removeTile(wt,Mt)},dr.prototype.removeDEMTile=function(ot,wt){this.getDEMWorkerSource(ot,wt.source).removeTile(wt)},dr.prototype.removeSource=function(ot,wt,Mt){if(!(!this.workerSources[ot]||!this.workerSources[ot][wt.type]||!this.workerSources[ot][wt.type][wt.source])){var Dt=this.workerSources[ot][wt.type][wt.source];delete this.workerSources[ot][wt.type][wt.source],Dt.removeSource!==void 0?Dt.removeSource(wt,Mt):Mt()}},dr.prototype.loadWorkerSource=function(ot,wt,Mt){try{this.self.importScripts(wt.url),Mt()}catch(Dt){Mt(Dt.toString())}},dr.prototype.syncRTLPluginState=function(ot,wt,Mt){try{n.plugin.setState(wt);var Dt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var St=n.plugin.isParsed(),Ot=St?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Mt(Ot,St)}}catch(Vt){Mt(Vt.toString())}},dr.prototype.getAvailableImages=function(ot){var wt=this.availableImages[ot];return wt||(wt=[]),wt},dr.prototype.getLayerIndex=function(ot){var wt=this.layerIndexes[ot];return wt||(wt=this.layerIndexes[ot]=new y),wt},dr.prototype.getWorkerSource=function(ot,wt,Mt){var Dt=this;if(this.workerSources[ot]||(this.workerSources[ot]={}),this.workerSources[ot][wt]||(this.workerSources[ot][wt]={}),!this.workerSources[ot][wt][Mt]){var St={send:function(Ot,Vt,Qt){Dt.actor.send(Ot,Vt,Qt,ot)}};this.workerSources[ot][wt][Mt]=new this.workerSourceTypes[wt](St,this.getLayerIndex(ot),this.getAvailableImages(ot))}return this.workerSources[ot][wt][Mt]},dr.prototype.getDEMWorkerSource=function(ot,wt){return this.demWorkerSources[ot]||(this.demWorkerSources[ot]={}),this.demWorkerSources[ot][wt]||(this.demWorkerSources[ot][wt]=new m),this.demWorkerSources[ot][wt]},dr.prototype.enforceCacheSizeLimit=function(ot,wt){n.enforceCacheSizeLimit(wt)},typeof WorkerGlobalScope<"u"&&typeof n.window<"u"&&n.window instanceof WorkerGlobalScope&&(n.window.worker=new dr(n.window)),dr}),L(["./shared"],function(n){var C=n.createCommonjsModule(function(fe){fe.exports?fe.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=de);function Z(Hr){return!de(Hr)}function de(Hr){if(!te())return"not a browser";if(!pe())return"insufficent Array support";if(!Re())return"insufficient Function support";if(!We())return"insufficient Object support";if(!st())return"insufficient JSON support";if(!Tt())return"insufficient worker support";if(!Bt())return"insufficient Uint8ClampedArray support";if(!Jt())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!Ir(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Re(){return Function.prototype&&Function.prototype.bind}function We(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function st(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Tt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(Hr),on,Sn;try{Sn=new Worker(Qr),on=!0}catch{on=!1}return Sn&&Sn.terminate(),URL.revokeObjectURL(Qr),on}function Bt(){return"Uint8ClampedArray"in window}function Jt(){return ArrayBuffer.isView}function ur(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Qr=Hr.getContext("2d");if(!Qr)return!1;var on=Qr.getImageData(0,0,1,1);return on&&on.width===Hr.width}var mr={};function Ir(Hr){return mr[Hr]===void 0&&(mr[Hr]=Gr(Hr)),mr[Hr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Vr(Hr){var Qr=document.createElement("canvas"),on=Object.create(Z.webGLContextAttributes);return on.failIfMajorPerformanceCaveat=Hr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",on)||Qr.probablySupportsContext("experimental-webgl",on):Qr.supportsContext?Qr.supportsContext("webgl",on)||Qr.supportsContext("experimental-webgl",on):Qr.getContext("webgl",on)||Qr.getContext("experimental-webgl",on)}function Gr(Hr){var Qr=Vr(Hr);if(!Qr)return!1;var on=Qr.createShader(Qr.VERTEX_SHADER);return!on||Qr.isContextLost()?!1:(Qr.shaderSource(on,"void main() {}"),Qr.compileShader(on),Qr.getShaderParameter(on,Qr.COMPILE_STATUS)===!0)}}),w={};w.create=function(fe,Z,de){var te=n.window.document.createElement(fe);return Z!==void 0&&(te.className=Z),de&&de.appendChild(te),te},w.createNS=function(fe,Z){var de=n.window.document.createElementNS(fe,Z);return de};var v=n.window.document.documentElement.style;function y(fe){if(!v)return fe[0];for(var Z=0;Z<fe.length;Z++)if(fe[Z]in v)return fe[Z];return fe[0]}var t=y(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;w.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},w.enableDrag=function(){v&&t&&(v[t]=r)};var l=y(["transform","WebkitTransform"]);w.setTransform=function(fe,Z){fe.style[l]=Z};var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",s,s),n.window.removeEventListener("test",s,s)}catch{a=!1}w.addEventListener=function(fe,Z,de,te){te===void 0&&(te={}),"passive"in te&&a?fe.addEventListener(Z,de,te):fe.addEventListener(Z,de,te.capture)},w.removeEventListener=function(fe,Z,de,te){te===void 0&&(te={}),"passive"in te&&a?fe.removeEventListener(Z,de,te):fe.removeEventListener(Z,de,te.capture)};var c=function(fe){fe.preventDefault(),fe.stopPropagation(),n.window.removeEventListener("click",c,!0)};w.suppressClick=function(){n.window.addEventListener("click",c,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",c,!0)},0)},w.mousePos=function(fe,Z){var de=fe.getBoundingClientRect();return new n.Point(Z.clientX-de.left-fe.clientLeft,Z.clientY-de.top-fe.clientTop)},w.touchPos=function(fe,Z){for(var de=fe.getBoundingClientRect(),te=[],pe=0;pe<Z.length;pe++)te.push(new n.Point(Z[pe].clientX-de.left-fe.clientLeft,Z[pe].clientY-de.top-fe.clientTop));return te},w.mouseButton=function(fe){return typeof n.window.InstallTrigger<"u"&&fe.button===2&&fe.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:fe.button},w.remove=function(fe){fe.parentNode&&fe.parentNode.removeChild(fe)};function u(fe,Z,de){var te,pe,Re,We=n.browser.devicePixelRatio>1?"@2x":"",st=n.getJSON(Z.transformRequest(Z.normalizeSpriteURL(fe,We,".json"),n.ResourceType.SpriteJSON),function(Jt,ur){st=null,Re||(Re=Jt,te=ur,Bt())}),Tt=n.getImage(Z.transformRequest(Z.normalizeSpriteURL(fe,We,".png"),n.ResourceType.SpriteImage),function(Jt,ur){Tt=null,Re||(Re=Jt,pe=ur,Bt())});function Bt(){if(Re)de(Re);else if(te&&pe){var Jt=n.browser.getImageData(pe),ur={};for(var mr in te){var Ir=te[mr],Vr=Ir.width,Gr=Ir.height,Hr=Ir.x,Qr=Ir.y,on=Ir.sdf,Sn=Ir.pixelRatio,kn=Ir.stretchX,Wn=Ir.stretchY,Zn=Ir.content,Yn=new n.RGBAImage({width:Vr,height:Gr});n.RGBAImage.copy(Jt,Yn,{x:Hr,y:Qr},{x:0,y:0},{width:Vr,height:Gr}),ur[mr]={data:Yn,pixelRatio:Sn,sdf:on,stretchX:kn,stretchY:Wn,content:Zn}}de(null,ur)}}return{cancel:function(){st&&(st.cancel(),st=null),Tt&&(Tt.cancel(),Tt=null)}}}function m(fe){var Z=fe.userImage;if(Z&&Z.render){var de=Z.render();if(de)return fe.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,T=function(fe){function Z(){fe.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var pe=0,Re=this.requestors;pe<Re.length;pe+=1){var We=Re[pe],st=We.ids,Tt=We.callback;this._notify(st,Tt)}this.requestors=[]}},Z.prototype.getImage=function(te){return this.images[te]},Z.prototype.addImage=function(te,pe){this._validate(te,pe)&&(this.images[te]=pe)},Z.prototype._validate=function(te,pe){var Re=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),Re=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),Re=!1),this._validateContent(pe.content,pe)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),Re=!1),Re},Z.prototype._validateStretch=function(te,pe){if(!te)return!0;for(var Re=0,We=0,st=te;We<st.length;We+=1){var Tt=st[We];if(Tt[0]<Re||Tt[1]<Tt[0]||pe<Tt[1])return!1;Re=Tt[1]}return!0},Z.prototype._validateContent=function(te,pe){return te?!(te.length!==4||te[0]<0||pe.data.width<te[0]||te[1]<0||pe.data.height<te[1]||te[2]<0||pe.data.width<te[2]||te[3]<0||pe.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},Z.prototype.updateImage=function(te,pe){var Re=this.images[te];pe.version=Re.version+1,this.images[te]=pe,this.updatedImages[te]=!0},Z.prototype.removeImage=function(te){var pe=this.images[te];delete this.images[te],delete this.patterns[te],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(te,pe){var Re=!0;if(!this.isLoaded())for(var We=0,st=te;We<st.length;We+=1){var Tt=st[We];this.images[Tt]||(Re=!1)}this.isLoaded()||Re?this._notify(te,pe):this.requestors.push({ids:te,callback:pe})},Z.prototype._notify=function(te,pe){for(var Re={},We=0,st=te;We<st.length;We+=1){var Tt=st[We];this.images[Tt]||this.fire(new n.Event("styleimagemissing",{id:Tt}));var Bt=this.images[Tt];Bt?Re[Tt]={data:Bt.data.clone(),pixelRatio:Bt.pixelRatio,sdf:Bt.sdf,version:Bt.version,stretchX:Bt.stretchX,stretchY:Bt.stretchY,content:Bt.content,hasRenderCallback:!!(Bt.userImage&&Bt.userImage.render)}:n.warnOnce('Image "'+Tt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,Re)},Z.prototype.getPixelSize=function(){var te=this.atlasImage,pe=te.width,Re=te.height;return{width:pe,height:Re}},Z.prototype.getPattern=function(te){var pe=this.patterns[te],Re=this.getImage(te);if(!Re)return null;if(pe&&pe.position.version===Re.version)return pe.position;if(pe)pe.position.version=Re.version;else{var We=Re.data.width+h*2,st=Re.data.height+h*2,Tt={w:We,h:st,x:0,y:0},Bt=new n.ImagePosition(Tt,Re);this.patterns[te]={bin:Tt,position:Bt}}return this._updatePatternAtlas(),this.patterns[te].position},Z.prototype.bind=function(te){var pe=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(te,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var te=[];for(var pe in this.patterns)te.push(this.patterns[pe].bin);var Re=n.potpack(te),We=Re.w,st=Re.h,Tt=this.atlasImage;Tt.resize({width:We||1,height:st||1});for(var Bt in this.patterns){var Jt=this.patterns[Bt],ur=Jt.bin,mr=ur.x+h,Ir=ur.y+h,Vr=this.images[Bt].data,Gr=Vr.width,Hr=Vr.height;n.RGBAImage.copy(Vr,Tt,{x:0,y:0},{x:mr,y:Ir},{width:Gr,height:Hr}),n.RGBAImage.copy(Vr,Tt,{x:0,y:Hr-1},{x:mr,y:Ir-1},{width:Gr,height:1}),n.RGBAImage.copy(Vr,Tt,{x:0,y:0},{x:mr,y:Ir+Hr},{width:Gr,height:1}),n.RGBAImage.copy(Vr,Tt,{x:Gr-1,y:0},{x:mr-1,y:Ir},{width:1,height:Hr}),n.RGBAImage.copy(Vr,Tt,{x:0,y:0},{x:mr+Gr,y:Ir},{width:1,height:Hr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(te){for(var pe=0,Re=te;pe<Re.length;pe+=1){var We=Re[pe];if(!this.callbackDispatchedThisFrame[We]){this.callbackDispatchedThisFrame[We]=!0;var st=this.images[We],Tt=m(st);Tt&&this.updateImage(We,st)}}},Z}(n.Evented);function f(fe,Z,de,te,pe){var Re=Z*256,We=Re+255,st=te.transformRequest(te.normalizeGlyphsURL(de).replace("{fontstack}",fe).replace("{range}",Re+"-"+We),n.ResourceType.Glyphs);n.getArrayBuffer(st,function(Tt,Bt){if(Tt)pe(Tt);else if(Bt){for(var Jt={},ur=0,mr=n.parseGlyphPBF(Bt);ur<mr.length;ur+=1){var Ir=mr[ur];Jt[Ir.id]=Ir}pe(null,Jt)}})}var o=A,d=A,M=1e20;function A(fe,Z,de,te,pe,Re){this.fontSize=fe||24,this.buffer=Z===void 0?3:Z,this.cutoff=te||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=Re||"normal",this.radius=de||8;var We=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=We,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(We*We),this.gridInner=new Float64Array(We*We),this.f=new Float64Array(We),this.d=new Float64Array(We),this.z=new Float64Array(We+1),this.v=new Int16Array(We),this.middle=Math.round(We/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(fe){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(fe,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var pe=Z.data[te*4+3]/255;this.gridOuter[te]=pe===1?0:pe===0?M:Math.pow(Math.max(0,.5-pe),2),this.gridInner[te]=pe===1?M:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var Re=this.gridOuter[te]-this.gridInner[te];de[te]=Math.max(0,Math.min(255,Math.round(255-255*(Re/this.radius+this.cutoff))))}return de};function E(fe,Z,de,te,pe,Re,We){for(var st=0;st<Z;st++){for(var Tt=0;Tt<de;Tt++)te[Tt]=fe[Tt*Z+st];for(g(te,pe,Re,We,de),Tt=0;Tt<de;Tt++)fe[Tt*Z+st]=pe[Tt]}for(Tt=0;Tt<de;Tt++){for(st=0;st<Z;st++)te[st]=fe[Tt*Z+st];for(g(te,pe,Re,We,Z),st=0;st<Z;st++)fe[Tt*Z+st]=Math.sqrt(pe[st])}}function g(fe,Z,de,te,pe){de[0]=0,te[0]=-M,te[1]=+M;for(var Re=1,We=0;Re<pe;Re++){for(var st=(fe[Re]+Re*Re-(fe[de[We]]+de[We]*de[We]))/(2*Re-2*de[We]);st<=te[We];)We--,st=(fe[Re]+Re*Re-(fe[de[We]]+de[We]*de[We]))/(2*Re-2*de[We]);We++,de[We]=Re,te[We]=st,te[We+1]=+M}for(Re=0,We=0;Re<pe;Re++){for(;te[We+1]<Re;)We++;Z[Re]=(Re-de[We])*(Re-de[We])+fe[de[We]]}}o.default=d;var S=function(Z,de){this.requestManager=Z,this.localIdeographFontFamily=de,this.entries={}};S.prototype.setURL=function(Z){this.url=Z},S.prototype.getGlyphs=function(Z,de){var te=this,pe=[];for(var Re in Z)for(var We=0,st=Z[Re];We<st.length;We+=1){var Tt=st[We];pe.push({stack:Re,id:Tt})}n.asyncAll(pe,function(Bt,Jt){var ur=Bt.stack,mr=Bt.id,Ir=te.entries[ur];Ir||(Ir=te.entries[ur]={glyphs:{},requests:{},ranges:{}});var Vr=Ir.glyphs[mr];if(Vr!==void 0){Jt(null,{stack:ur,id:mr,glyph:Vr});return}if(Vr=te._tinySDF(Ir,ur,mr),Vr){Ir.glyphs[mr]=Vr,Jt(null,{stack:ur,id:mr,glyph:Vr});return}var Gr=Math.floor(mr/256);if(Gr*256>65535){Jt(new Error("glyphs > 65535 not supported"));return}if(Ir.ranges[Gr]){Jt(null,{stack:ur,id:mr,glyph:Vr});return}var Hr=Ir.requests[Gr];Hr||(Hr=Ir.requests[Gr]=[],S.loadGlyphRange(ur,Gr,te.url,te.requestManager,function(Qr,on){if(on){for(var Sn in on)te._doesCharSupportLocalGlyph(+Sn)||(Ir.glyphs[+Sn]=on[+Sn]);Ir.ranges[Gr]=!0}for(var kn=0,Wn=Hr;kn<Wn.length;kn+=1){var Zn=Wn[kn];Zn(Qr,on)}delete Ir.requests[Gr]})),Hr.push(function(Qr,on){Qr?Jt(Qr):on&&Jt(null,{stack:ur,id:mr,glyph:on[mr]||null})})},function(Bt,Jt){if(Bt)de(Bt);else if(Jt){for(var ur={},mr=0,Ir=Jt;mr<Ir.length;mr+=1){var Vr=Ir[mr],Gr=Vr.stack,Hr=Vr.id,Qr=Vr.glyph;(ur[Gr]||(ur[Gr]={}))[Hr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}de(null,ur)}})},S.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](Z)||n.isChar["Hangul Syllables"](Z)||n.isChar.Hiragana(Z)||n.isChar.Katakana(Z))},S.prototype._tinySDF=function(Z,de,te){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(te)){var Re=Z.tinySDF;if(!Re){var We="400";/bold/i.test(de)?We="900":/medium/i.test(de)?We="500":/light/i.test(de)&&(We="200"),Re=Z.tinySDF=new S.TinySDF(24,3,8,.25,pe,We)}return{id:te,bitmap:new n.AlphaImage({width:30,height:30},Re.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=f,S.TinySDF=o;var b=function(){this.specification=n.styleSpec.light.position};b.prototype.possiblyEvaluate=function(Z,de){return n.sphericalToCartesian(Z.expression.evaluate(de))},b.prototype.interpolate=function(Z,de,te){return{x:n.number(Z.x,de.x,te),y:n.number(Z.y,de.y,te),z:n.number(Z.z,de.z,te)}};var i=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new b,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),P="-transition",x=function(fe){function Z(de){fe.call(this),this._transitionable=new n.Transitionable(i),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(te,pe){if(pe===void 0&&(pe={}),!this._validate(n.validateLight,te,pe))for(var Re in te){var We=te[Re];n.endsWith(Re,P)?this._transitionable.setTransition(Re.slice(0,-P.length),We):this._transitionable.setValue(Re,We)}},Z.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},Z.prototype._validate=function(te,pe,Re){return Re&&Re.validate===!1?!1:n.emitValidationErrors(this,te.call(n.validateStyle,n.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},Z}(n.Evented),k=function(Z,de){this.width=Z,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,de){var te=Z.join(",")+String(de);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(Z,de)),this.dashEntry[te]},k.prototype.getDashRanges=function(Z,de,te){var pe=Z.length%2===1,Re=[],We=pe?-Z[Z.length-1]*te:0,st=Z[0]*te,Tt=!0;Re.push({left:We,right:st,isDash:Tt,zeroLength:Z[0]===0});for(var Bt=Z[0],Jt=1;Jt<Z.length;Jt++){Tt=!Tt;var ur=Z[Jt];We=Bt*te,Bt+=ur,st=Bt*te,Re.push({left:We,right:st,isDash:Tt,zeroLength:ur===0})}return Re},k.prototype.addRoundDash=function(Z,de,te){for(var pe=de/2,Re=-te;Re<=te;Re++)for(var We=this.nextRow+te+Re,st=this.width*We,Tt=0,Bt=Z[Tt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=Z[++Tt]);var ur=Math.abs(Jt-Bt.left),mr=Math.abs(Jt-Bt.right),Ir=Math.min(ur,mr),Vr=void 0,Gr=Re/te*(pe+1);if(Bt.isDash){var Hr=pe-Math.abs(Gr);Vr=Math.sqrt(Ir*Ir+Hr*Hr)}else Vr=pe-Math.sqrt(Ir*Ir+Gr*Gr);this.data[st+Jt]=Math.max(0,Math.min(255,Vr+128))}},k.prototype.addRegularDash=function(Z){for(var de=Z.length-1;de>=0;--de){var te=Z[de],pe=Z[de+1];te.zeroLength?Z.splice(de,1):pe&&pe.isDash===te.isDash&&(pe.left=te.left,Z.splice(de,1))}var Re=Z[0],We=Z[Z.length-1];Re.isDash===We.isDash&&(Re.left=We.left-this.width,We.right=Re.right+this.width);for(var st=this.width*this.nextRow,Tt=0,Bt=Z[Tt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=Z[++Tt]);var ur=Math.abs(Jt-Bt.left),mr=Math.abs(Jt-Bt.right),Ir=Math.min(ur,mr),Vr=Bt.isDash?Ir:-Ir;this.data[st+Jt]=Math.max(0,Math.min(255,Vr+128))}},k.prototype.addDash=function(Z,de){var te=de?7:0,pe=2*te+1;if(this.nextRow+pe>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var Re=0,We=0;We<Z.length;We++)Re+=Z[We];if(Re!==0){var st=this.width/Re,Tt=this.getDashRanges(Z,this.width,st);de?this.addRoundDash(Tt,st,te):this.addRegularDash(Tt)}var Bt={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:Re};return this.nextRow+=pe,this.dirty=!0,Bt},k.prototype.bind=function(Z){var de=Z.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var _=function fe(Z,de){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var te=this.workerPool.acquire(this.id),pe=0;pe<te.length;pe++){var Re=te[pe],We=new fe.Actor(Re,de,this.id);We.name="Worker "+pe,this.actors.push(We)}};_.prototype.broadcast=function(Z,de,te){te=te||function(){},n.asyncAll(this.actors,function(pe,Re){pe.send(Z,de,Re)},te)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=n.Actor;function B(fe,Z,de){var te=function(pe,Re){if(pe)return de(pe);if(Re){var We=n.pick(n.extend(Re,fe),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Re.vector_layers&&(We.vectorLayers=Re.vector_layers,We.vectorLayerIds=We.vectorLayers.map(function(st){return st.id})),We.tiles=Z.canonicalizeTileset(We,fe.url),de(null,We)}};return fe.url?n.getJSON(Z.transformRequest(Z.normalizeSourceURL(fe.url),n.ResourceType.Source),te):n.browser.frame(function(){return te(null,fe)})}var I=function(Z,de,te){this.bounds=n.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=de||0,this.maxzoom=te||24};I.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},I.prototype.contains=function(Z){var de=Math.pow(2,Z.z),te={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*de)},pe=Z.x>=te.minX&&Z.x<te.maxX&&Z.y>=te.minY&&Z.y<te.maxY;return pe};var z=function(fe){function Z(de,te,pe,Re){if(fe.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(te,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Re)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,Re){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new n.ErrorEvent(pe)):Re&&(n.extend(te,Re),Re.bounds&&(te.tileBounds=new I(Re.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(Re.tiles,te.map._requestManager._customAccessToken),n.postMapLoadEvent(Re.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return n.extend({},this._options)},Z.prototype.loadTile=function(te,pe){var Re=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),We={request:this.map._requestManager.transformRequest(Re,n.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};We.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",We,st.bind(this))):te.state==="loading"?te.reloadCallback=pe:te.request=te.actor.send("reloadTile",We,st.bind(this));function st(Tt,Bt){if(delete te.request,te.aborted)return pe(null);if(Tt&&Tt.status!==404)return pe(Tt);Bt&&Bt.resourceTiming&&(te.resourceTiming=Bt.resourceTiming),this.map._refreshExpiredTiles&&Bt&&te.setExpiryData(Bt),te.loadVectorData(Bt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),pe(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(n.Evented),O=function(fe){function Z(de,te,pe,Re){fe.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(Re),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},te),n.extend(this,n.pick(te,["url","scheme","tileSize"]))}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(pe,Re){te._tileJSONRequest=null,te._loaded=!0,pe?te.fire(new n.ErrorEvent(pe)):Re&&(n.extend(te,Re),Re.bounds&&(te.tileBounds=new I(Re.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(Re.tiles),n.postMapLoadEvent(Re.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return n.extend({},this._options)},Z.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},Z.prototype.loadTile=function(te,pe){var Re=this,We=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(We,n.ResourceType.Tile),function(st,Tt){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(st)te.state="errored",pe(st);else if(Tt){Re.map._refreshExpiredTiles&&te.setExpiryData(Tt),delete Tt.cacheControl,delete Tt.expires;var Bt=Re.map.painter.context,Jt=Bt.gl;te.texture=Re.map.painter.getTileTexture(Tt.width),te.texture?te.texture.update(Tt,{useMipmap:!0}):(te.texture=new n.Texture(Bt,Tt,Jt.RGBA,{useMipmap:!0}),te.texture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE,Jt.LINEAR_MIPMAP_NEAREST),Bt.extTextureFilterAnisotropic&&Jt.texParameterf(Jt.TEXTURE_2D,Bt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Bt.extTextureFilterAnisotropicMax)),te.state="loaded",n.cacheEntryPossiblyAdded(Re.dispatcher),pe(null)}})},Z.prototype.abortTile=function(te,pe){te.request&&(te.request.cancel(),delete te.request),pe()},Z.prototype.unloadTile=function(te,pe){te.texture&&this.map.painter.saveTileTexture(te.texture),pe()},Z.prototype.hasTransition=function(){return!1},Z}(n.Evented),F=function(fe){function Z(de,te,pe,Re){fe.call(this,de,te,pe,Re),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(te,pe){var Re=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(Re,n.ResourceType.Tile),We.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function We(Tt,Bt){if(delete te.request,te.aborted)te.state="unloaded",pe(null);else if(Tt)te.state="errored",pe(Tt);else if(Bt){this.map._refreshExpiredTiles&&te.setExpiryData(Bt),delete Bt.cacheControl,delete Bt.expires;var Jt=n.window.ImageBitmap&&Bt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),ur=Jt?Bt:n.browser.getImageData(Bt,1),mr={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",mr,st.bind(this)))}}function st(Tt,Bt){Tt&&(te.state="errored",pe(Tt)),Bt&&(te.dem=Bt,te.needsHillshadePrepare=!0,te.state="loaded",pe(null))}},Z.prototype._getNeighboringTiles=function(te){var pe=te.canonical,Re=Math.pow(2,pe.z),We=(pe.x-1+Re)%Re,st=pe.x===0?te.wrap-1:te.wrap,Tt=(pe.x+1+Re)%Re,Bt=pe.x+1===Re?te.wrap+1:te.wrap,Jt={};return Jt[new n.OverscaledTileID(te.overscaledZ,st,pe.z,We,pe.y).key]={backfilled:!1},Jt[new n.OverscaledTileID(te.overscaledZ,Bt,pe.z,Tt,pe.y).key]={backfilled:!1},pe.y>0&&(Jt[new n.OverscaledTileID(te.overscaledZ,st,pe.z,We,pe.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(te.overscaledZ,Bt,pe.z,Tt,pe.y-1).key]={backfilled:!1}),pe.y+1<Re&&(Jt[new n.OverscaledTileID(te.overscaledZ,st,pe.z,We,pe.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(te.overscaledZ,te.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(te.overscaledZ,Bt,pe.z,Tt,pe.y+1).key]={backfilled:!1}),Jt},Z.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},Z}(O),N=function(fe){function Z(de,te,pe,Re){fe.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(Re),this._data=te.data,this._options=n.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var We=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*We,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*We,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:n.EXTENT,radius:(te.clusterRadius||50)*We,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){te.fire(new n.ErrorEvent(pe));return}var Re={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Re.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new n.Event("data",Re))})},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setData=function(te){var pe=this;return this._data=te,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Re){if(Re){pe.fire(new n.ErrorEvent(Re));return}var We={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(We.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new n.Event("data",We))}),this},Z.prototype.getClusterExpansionZoom=function(te,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},pe),this},Z.prototype.getClusterChildren=function(te,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},pe),this},Z.prototype.getClusterLeaves=function(te,pe,Re,We){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:pe,offset:Re},We),this},Z.prototype._updateWorkerData=function(te){var pe=this;this._loaded=!1;var Re=n.extend({},this.workerOptions),We=this._data;typeof We=="string"?(Re.request=this.map._requestManager.transformRequest(n.browser.resolveURL(We),n.ResourceType.Source),Re.request.collectResourceTiming=this._collectResourceTiming):Re.data=JSON.stringify(We),this.actor.send(this.type+".loadData",Re,function(st,Tt){pe._removed||Tt&&Tt.abandoned||(pe._loaded=!0,Tt&&Tt.resourceTiming&&Tt.resourceTiming[pe.id]&&(pe._resourceTiming=Tt.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:Re.source},null),te(st))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(te,pe){var Re=this,We=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var st={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(We,st,function(Tt,Bt){return delete te.request,te.unloadVectorData(),te.aborted?pe(null):Tt?pe(Tt):(te.loadVectorData(Bt,Re.map.painter,We==="reloadTile"),pe(null))})},Z.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},Z.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(n.Evented),Q=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(fe){function Z(de,te,pe,Re){fe.call(this),this.id=de,this.dispatcher=pe,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Re),this.options=te}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(te,pe){var Re=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(We,st){Re._loaded=!0,We?Re.fire(new n.ErrorEvent(We)):st&&(Re.image=st,te&&(Re.coordinates=te),pe&&pe(),Re._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(te){var pe=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){pe.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(te){this.map=te,this.load()},Z.prototype.setCoordinates=function(te){var pe=this;this.coordinates=te;var Re=te.map(n.MercatorCoordinate.fromLngLat);this.tileID=j(Re),this.minzoom=this.maxzoom=this.tileID.z;var We=Re.map(function(st){return pe.tileID.getTilePoint(st)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(We[0].x,We[0].y,0,0),this._boundsArray.emplaceBack(We[1].x,We[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(We[3].x,We[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(We[2].x,We[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Q.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(te,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Re in this.tiles){var We=this.tiles[Re];We.state!=="loaded"&&(We.state="loaded",We.texture=this.texture)}}},Z.prototype.loadTile=function(te,pe){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},pe(null)):(te.state="errored",pe(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(n.Evented);function j(fe){for(var Z=1/0,de=1/0,te=-1/0,pe=-1/0,Re=0,We=fe;Re<We.length;Re+=1){var st=We[Re];Z=Math.min(Z,st.x),de=Math.min(de,st.y),te=Math.max(te,st.x),pe=Math.max(pe,st.y)}var Tt=te-Z,Bt=pe-de,Jt=Math.max(Tt,Bt),ur=Math.max(0,Math.floor(-Math.log(Jt)/Math.LN2)),mr=Math.pow(2,ur);return new n.CanonicalTileID(ur,Math.floor((Z+te)/2*mr),Math.floor((de+pe)/2*mr))}var ee=function(fe){function Z(de,te,pe,Re){fe.call(this,de,te,pe,Re),this.roundZoom=!0,this.type="video",this.options=te}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var te=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var Re=0,We=pe.urls;Re<We.length;Re+=1){var st=We[Re];this.urls.push(this.map._requestManager.transformRequest(st,n.ResourceType.Source).url)}n.getVideo(this.urls,function(Tt,Bt){te._loaded=!0,Tt?te.fire(new n.ErrorEvent(Tt)):Bt&&(te.video=Bt,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(te){if(this.video){var pe=this.video.seekable;te<pe.start(0)||te>pe.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=te}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,pe=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Q.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(te,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Re in this.tiles){var We=this.tiles[Re];We.state!=="loaded"&&(We.state="loaded",We.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}($),oe=function(fe){function Z(de,te,pe,Re){fe.call(this,de,te,pe,Re),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(We){return!Array.isArray(We)||We.length!==2||We.some(function(st){return typeof st!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,Re=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,Q.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(pe,this.canvas,Re.RGBA,{premultiply:!0});for(var We in this.tiles){var st=this.tiles[We];st.state!=="loaded"&&(st.state="loaded",st.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var te=0,pe=[this.canvas.width,this.canvas.height];te<pe.length;te+=1){var Re=pe[te];if(isNaN(Re)||Re<=0)return!0}return!1},Z}($),Y={vector:z,raster:O,"raster-dem":F,geojson:N,video:ee,image:$,canvas:oe},V=function(fe,Z,de,te){var pe=new Y[Z.type](fe,Z,de,te);if(pe.id!==fe)throw new Error("Expected Source id to be "+fe+" instead of "+pe.id);return n.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},W=function(fe){return Y[fe]},X=function(fe,Z){Y[fe]=Z};function re(fe,Z){var de=n.identity([]);return n.translate(de,de,[1,1,0]),n.scale(de,de,[fe.width*.5,fe.height*.5,1]),n.multiply(de,de,fe.calculatePosMatrix(Z.toUnwrapped()))}function ie(fe,Z,de){if(fe)for(var te=0,pe=fe;te<pe.length;te+=1){var Re=pe[te],We=Z[Re];if(We&&We.source===de&&We.type==="fill-extrusion")return!0}else for(var st in Z){var Tt=Z[st];if(Tt.source===de&&Tt.type==="fill-extrusion")return!0}return!1}function K(fe,Z,de,te,pe,Re){var We=ie(pe&&pe.layers,Z,fe.id),st=Re.maxPitchScaleFactor(),Tt=fe.tilesIn(te,st,We);Tt.sort(ae);for(var Bt=[],Jt=0,ur=Tt;Jt<ur.length;Jt+=1){var mr=ur[Jt];Bt.push({wrappedTileID:mr.tileID.wrapped().key,queryResults:mr.tile.queryRenderedFeatures(Z,de,fe._state,mr.queryGeometry,mr.cameraQueryGeometry,mr.scale,pe,Re,st,re(fe.transform,mr.tileID))})}var Ir=he(Bt);for(var Vr in Ir)Ir[Vr].forEach(function(Gr){var Hr=Gr.feature,Qr=fe.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Qr});return Ir}function q(fe,Z,de,te,pe,Re,We){for(var st={},Tt=Re.queryRenderedSymbols(te),Bt=[],Jt=0,ur=Object.keys(Tt).map(Number);Jt<ur.length;Jt+=1){var mr=ur[Jt];Bt.push(We[mr])}Bt.sort(ae);for(var Ir=function(){var on=Gr[Vr],Sn=on.featureIndex.lookupSymbolFeatures(Tt[on.bucketInstanceId],Z,on.bucketIndex,on.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,fe);for(var kn in Sn){var Wn=st[kn]=st[kn]||[],Zn=Sn[kn];Zn.sort(function(la,va){var ma=on.featureSortOrder;if(ma){var Pa=ma.indexOf(la.featureIndex),Oa=ma.indexOf(va.featureIndex);return Oa-Pa}else return va.featureIndex-la.featureIndex});for(var Yn=0,qn=Zn;Yn<qn.length;Yn+=1){var ua=qn[Yn];Wn.push(ua)}}},Vr=0,Gr=Bt;Vr<Gr.length;Vr+=1)Ir();var Hr=function(on){st[on].forEach(function(Sn){var kn=Sn.feature,Wn=fe[on],Zn=de[Wn.source],Yn=Zn.getFeatureState(kn.layer["source-layer"],kn.id);kn.source=kn.layer.source,kn.layer["source-layer"]&&(kn.sourceLayer=kn.layer["source-layer"]),kn.state=Yn})};for(var Qr in st)Hr(Qr);return st}function le(fe,Z){for(var de=fe.getRenderableIds().map(function(Tt){return fe.getTileByID(Tt)}),te=[],pe={},Re=0;Re<de.length;Re++){var We=de[Re],st=We.tileID.canonical.key;pe[st]||(pe[st]=!0,We.querySourceFeatures(te,Z))}return te}function ae(fe,Z){var de=fe.tileID,te=Z.tileID;return de.overscaledZ-te.overscaledZ||de.canonical.y-te.canonical.y||de.wrap-te.wrap||de.canonical.x-te.canonical.x}function he(fe){for(var Z={},de={},te=0,pe=fe;te<pe.length;te+=1){var Re=pe[te],We=Re.queryResults,st=Re.wrappedTileID,Tt=de[st]=de[st]||{};for(var Bt in We)for(var Jt=We[Bt],ur=Tt[Bt]=Tt[Bt]||{},mr=Z[Bt]=Z[Bt]||[],Ir=0,Vr=Jt;Ir<Vr.length;Ir+=1){var Gr=Vr[Ir];ur[Gr.featureIndex]||(ur[Gr.featureIndex]=!0,mr.push(Gr))}}return Z}var me=function(Z,de){this.max=Z,this.onRemove=de,this.reset()};me.prototype.reset=function(){for(var Z in this.data)for(var de=0,te=this.data[Z];de<te.length;de+=1){var pe=te[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},me.prototype.add=function(Z,de,te){var pe=this,Re=Z.wrapped().key;this.data[Re]===void 0&&(this.data[Re]=[]);var We={value:de,timeout:void 0};if(te!==void 0&&(We.timeout=setTimeout(function(){pe.remove(Z,We)},te)),this.data[Re].push(We),this.order.push(Re),this.order.length>this.max){var st=this._getAndRemoveByKey(this.order[0]);st&&this.onRemove(st)}return this},me.prototype.has=function(Z){return Z.wrapped().key in this.data},me.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},me.prototype._getAndRemoveByKey=function(Z){var de=this.data[Z].shift();return de.timeout&&clearTimeout(de.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),de.value},me.prototype.getByKey=function(Z){var de=this.data[Z];return de?de[0].value:null},me.prototype.get=function(Z){if(!this.has(Z))return null;var de=this.data[Z.wrapped().key][0];return de.value},me.prototype.remove=function(Z,de){if(!this.has(Z))return this;var te=Z.wrapped().key,pe=de===void 0?0:this.data[te].indexOf(de),Re=this.data[te][pe];return this.data[te].splice(pe,1),Re.timeout&&clearTimeout(Re.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(Re.value),this.order.splice(this.order.indexOf(te),1),this},me.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},me.prototype.filter=function(Z){var de=[];for(var te in this.data)for(var pe=0,Re=this.data[te];pe<Re.length;pe+=1){var We=Re[pe];Z(We.value)||de.push(We)}for(var st=0,Tt=de;st<Tt.length;st+=1){var Bt=Tt[st];this.remove(Bt.value.tileID,Bt)}};var Me=function(Z,de,te){this.context=Z;var pe=Z.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Me.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Me.prototype.updateData=function(Z){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Me.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ie=function(Z,de,te,pe){this.length=de.length,this.attributes=te,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=Z;var Re=Z.gl;this.buffer=Re.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Re.bufferData(Re.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?Re.DYNAMIC_DRAW:Re.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ie.prototype.updateData=function(Z){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,Z.arrayBuffer)},Ie.prototype.enableAttributes=function(Z,de){for(var te=0;te<this.attributes.length;te++){var pe=this.attributes[te],Re=de.attributes[pe.name];Re!==void 0&&Z.enableVertexAttribArray(Re)}},Ie.prototype.setVertexAttribPointers=function(Z,de,te){for(var pe=0;pe<this.attributes.length;pe++){var Re=this.attributes[pe],We=de.attributes[Re.name];We!==void 0&&Z.vertexAttribPointer(We,Re.components,Z[xe[Re.type]],!1,this.itemSize,Re.offset+this.itemSize*(te||0))}},Ie.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var _e=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};_e.prototype.get=function(){return this.current},_e.prototype.set=function(Z){},_e.prototype.getDefault=function(){return this.default},_e.prototype.setDefault=function(){this.set(this.default)};var Te=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return n.Color.transparent},Z.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(_e),ye=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},Z}(_e),Ae=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},Z}(_e),Be=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(_e),Ue=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},Z}(_e),De=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},Z}(_e),He=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(te){var pe=this.current;te.func===pe.func&&te.ref===pe.ref&&te.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},Z}(_e),ut=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},Z}(_e),et=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=te,this.dirty=!1}},Z}(_e),Qe=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(_e),qe=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=te,this.dirty=!1}},Z}(_e),ft=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},Z}(_e),gt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=te,this.dirty=!1}},Z}(_e),xt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},Z}(_e),Ct=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return n.Color.transparent},Z.prototype.set=function(te){var pe=this.current;te.r===pe.r&&te.g===pe.g&&te.b===pe.b&&te.a===pe.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},Z}(_e),Je=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},Z}(_e),ze=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;te?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=te,this.dirty=!1}},Z}(_e),Fe=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},Z}(_e),$e=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},Z}(_e),at=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},Z}(_e),Xe=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},Z}(_e),Pe=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},Z.prototype.set=function(te){var pe=this.current;te[0]===pe[0]&&te[1]===pe[1]&&te[2]===pe[2]&&te[3]===pe[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},Z}(_e),we=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},Z}(_e),ue=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(_e),ge=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,te),this.current=te,this.dirty=!1}},Z}(_e),Le=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},Z}(_e),ke=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},Z}(_e),it=function(fe){function Z(de){fe.call(this,de),this.vao=de.extVertexArrayObject}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},Z}(_e),lt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},Z}(_e),bt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},Z}(_e),Rt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},Z}(_e),Ut=function(fe){function Z(de,te){fe.call(this,de),this.context=de,this.parent=te}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(_e),Gt=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},Z}(Ut),_t=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,te),this.current=te,this.dirty=!1}},Z}(Ut),nr=function(Z,de,te,pe){this.context=Z,this.width=de,this.height=te;var Re=Z.gl,We=this.framebuffer=Re.createFramebuffer();this.colorAttachment=new Gt(Z,We),pe&&(this.depthAttachment=new _t(Z,We))};nr.prototype.destroy=function(){var Z=this.context.gl,de=this.colorAttachment.get();if(de&&Z.deleteTexture(de),this.depthAttachment){var te=this.depthAttachment.get();te&&Z.deleteRenderbuffer(te)}Z.deleteFramebuffer(this.framebuffer)};var lr=519,zr=function(Z,de,te){this.func=Z,this.mask=de,this.range=te};zr.ReadOnly=!1,zr.ReadWrite=!0,zr.disabled=new zr(lr,zr.ReadOnly,[0,1]);var mt=519,jt=7680,Yt=function(Z,de,te,pe,Re,We){this.test=Z,this.ref=de,this.mask=te,this.fail=pe,this.depthFail=Re,this.pass=We};Yt.disabled=new Yt({func:mt,mask:0},0,0,jt,jt,jt);var wr=0,dr=1,ct=771,ot=function(Z,de,te){this.blendFunction=Z,this.blendColor=de,this.mask=te};ot.Replace=[dr,wr],ot.disabled=new ot(ot.Replace,n.Color.transparent,[!1,!1,!1,!1]),ot.unblended=new ot(ot.Replace,n.Color.transparent,[!0,!0,!0,!0]),ot.alphaBlended=new ot([dr,ct],n.Color.transparent,[!0,!0,!0,!0]);var wt=1029,Mt=2305,Dt=function(Z,de,te){this.enable=Z,this.mode=de,this.frontFace=te};Dt.disabled=new Dt(!1,wt,Mt),Dt.backCCW=new Dt(!0,wt,Mt);var St=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Te(this),this.clearDepth=new ye(this),this.clearStencil=new Ae(this),this.colorMask=new Be(this),this.depthMask=new Ue(this),this.stencilMask=new De(this),this.stencilFunc=new He(this),this.stencilOp=new ut(this),this.stencilTest=new et(this),this.depthRange=new Qe(this),this.depthTest=new qe(this),this.depthFunc=new ft(this),this.blend=new gt(this),this.blendFunc=new xt(this),this.blendColor=new Ct(this),this.blendEquation=new Je(this),this.cullFace=new ze(this),this.cullFaceSide=new Fe(this),this.frontFace=new $e(this),this.program=new at(this),this.activeTexture=new Xe(this),this.viewport=new Pe(this),this.bindFramebuffer=new we(this),this.bindRenderbuffer=new ue(this),this.bindTexture=new ge(this),this.bindVertexBuffer=new Le(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new it(this),this.pixelStoreUnpack=new lt(this),this.pixelStoreUnpackPremultiplyAlpha=new bt(this),this.pixelStoreUnpackFlipY=new Rt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query")};St.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},St.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},St.prototype.createIndexBuffer=function(Z,de){return new Me(this,Z,de)},St.prototype.createVertexBuffer=function(Z,de,te){return new Ie(this,Z,de,te)},St.prototype.createRenderbuffer=function(Z,de,te){var pe=this.gl,Re=pe.createRenderbuffer();return this.bindRenderbuffer.set(Re),pe.renderbufferStorage(pe.RENDERBUFFER,Z,de,te),this.bindRenderbuffer.set(null),Re},St.prototype.createFramebuffer=function(Z,de,te){return new nr(this,Z,de,te)},St.prototype.clear=function(Z){var de=Z.color,te=Z.depth,pe=this.gl,Re=0;de&&(Re|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(Re|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),pe.clear(Re)},St.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},St.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},St.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},St.prototype.setColorMode=function(Z){n.deepEqual(Z.blendFunction,ot.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},St.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ot=function(fe){function Z(de,te,pe){var Re=this;fe.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(We){We.dataType==="source"&&We.sourceDataType==="metadata"&&(Re._sourceLoaded=!0),Re._sourceLoaded&&!Re._paused&&We.dataType==="source"&&We.sourceDataType==="content"&&(Re.reload(),Re.transform&&Re.update(Re.transform))}),this.on("error",function(){Re._sourceErrored=!0}),this._source=V(de,te,pe,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},Z.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var pe=this._tiles[te];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(te,pe){return this._source.loadTile(te,pe)},Z.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},Z.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var Re=this._tiles[pe];Re.upload(te),Re.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return n.values(this._tiles).map(function(te){return te.tileID}).sort(Vt).map(function(te){return te.key})},Z.prototype.getRenderableIds=function(te){var pe=this,Re=[];for(var We in this._tiles)this._isIdRenderable(We,te)&&Re.push(this._tiles[We]);return te?Re.sort(function(st,Tt){var Bt=st.tileID,Jt=Tt.tileID,ur=new n.Point(Bt.canonical.x,Bt.canonical.y)._rotate(pe.transform.angle),mr=new n.Point(Jt.canonical.x,Jt.canonical.y)._rotate(pe.transform.angle);return Bt.overscaledZ-Jt.overscaledZ||mr.y-ur.y||mr.x-ur.x}).map(function(st){return st.tileID.key}):Re.map(function(st){return st.tileID}).sort(Vt).map(function(st){return st.key})},Z.prototype.hasRenderableParent=function(te){var pe=this.findLoadedParent(te,0);return pe?this._isIdRenderable(pe.tileID.key):!1},Z.prototype._isIdRenderable=function(te,pe){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(pe||!this._tiles[te].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},Z.prototype._reloadTile=function(te,pe){var Re=this._tiles[te];Re&&(Re.state!=="loading"&&(Re.state=pe),this._loadTile(Re,this._tileLoaded.bind(this,Re,te,pe)))},Z.prototype._tileLoaded=function(te,pe,Re,We){if(We){te.state="errored",We.status!==404?this._source.fire(new n.ErrorEvent(We,{tile:te})):this.update(this.transform);return}te.timeAdded=n.browser.now(),Re==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},Z.prototype._backfillDEM=function(te){for(var pe=this.getRenderableIds(),Re=0;Re<pe.length;Re++){var We=pe[Re];if(te.neighboringTiles&&te.neighboringTiles[We]){var st=this.getTileByID(We);Tt(te,st),Tt(st,te)}}function Tt(Bt,Jt){Bt.needsHillshadePrepare=!0;var ur=Jt.tileID.canonical.x-Bt.tileID.canonical.x,mr=Jt.tileID.canonical.y-Bt.tileID.canonical.y,Ir=Math.pow(2,Bt.tileID.canonical.z),Vr=Jt.tileID.key;ur===0&&mr===0||Math.abs(mr)>1||(Math.abs(ur)>1&&(Math.abs(ur+Ir)===1?ur+=Ir:Math.abs(ur-Ir)===1&&(ur-=Ir)),!(!Jt.dem||!Bt.dem)&&(Bt.dem.backfillBorder(Jt.dem,ur,mr),Bt.neighboringTiles&&Bt.neighboringTiles[Vr]&&(Bt.neighboringTiles[Vr].backfilled=!0)))}},Z.prototype.getTile=function(te){return this.getTileByID(te.key)},Z.prototype.getTileByID=function(te){return this._tiles[te]},Z.prototype._retainLoadedChildren=function(te,pe,Re,We){for(var st in this._tiles){var Tt=this._tiles[st];if(!(We[st]||!Tt.hasData()||Tt.tileID.overscaledZ<=pe||Tt.tileID.overscaledZ>Re)){for(var Bt=Tt.tileID;Tt&&Tt.tileID.overscaledZ>pe+1;){var Jt=Tt.tileID.scaledTo(Tt.tileID.overscaledZ-1);Tt=this._tiles[Jt.key],Tt&&Tt.hasData()&&(Bt=Jt)}for(var ur=Bt;ur.overscaledZ>pe;)if(ur=ur.scaledTo(ur.overscaledZ-1),te[ur.key]){We[Bt.key]=Bt;break}}}},Z.prototype.findLoadedParent=function(te,pe){if(te.key in this._loadedParentTiles){var Re=this._loadedParentTiles[te.key];return Re&&Re.tileID.overscaledZ>=pe?Re:null}for(var We=te.overscaledZ-1;We>=pe;We--){var st=te.scaledTo(We),Tt=this._getLoadedTile(st);if(Tt)return Tt}},Z.prototype._getLoadedTile=function(te){var pe=this._tiles[te.key];if(pe&&pe.hasData())return pe;var Re=this._cache.getByKey(te.wrapped().key);return Re},Z.prototype.updateCacheSize=function(te){var pe=Math.ceil(te.width/this._source.tileSize)+1,Re=Math.ceil(te.height/this._source.tileSize)+1,We=pe*Re,st=5,Tt=Math.floor(We*st),Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Tt):Tt;this._cache.setMaxSize(Bt)},Z.prototype.handleWrapJump=function(te){var pe=this._prevLng===void 0?te:this._prevLng,Re=te-pe,We=Re/360,st=Math.round(We);if(this._prevLng=te,st){var Tt={};for(var Bt in this._tiles){var Jt=this._tiles[Bt];Jt.tileID=Jt.tileID.unwrapTo(Jt.tileID.wrap+st),Tt[Jt.tileID.key]=Jt}this._tiles=Tt;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var mr in this._tiles){var Ir=this._tiles[mr];this._setTileReloadTimer(mr,Ir)}}},Z.prototype.update=function(te){var pe=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Re;this.used?this._source.tileID?Re=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(la){return new n.OverscaledTileID(la.canonical.z,la.wrap,la.canonical.z,la.canonical.x,la.canonical.y)}):(Re=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Re=Re.filter(function(la){return pe._source.hasTile(la)}))):Re=[];var We=te.coveringZoomLevel(this._source),st=Math.max(We-Z.maxOverzooming,this._source.minzoom),Tt=Math.max(We+Z.maxUnderzooming,this._source.minzoom),Bt=this._updateRetainedTiles(Re,We);if(Qt(this._source.type)){for(var Jt={},ur={},mr=Object.keys(Bt),Ir=0,Vr=mr;Ir<Vr.length;Ir+=1){var Gr=Vr[Ir],Hr=Bt[Gr],Qr=this._tiles[Gr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=n.browser.now())){var on=this.findLoadedParent(Hr,st);on&&(this._addTile(on.tileID),Jt[on.tileID.key]=on.tileID),ur[Gr]=Hr}}this._retainLoadedChildren(ur,We,Tt,Bt);for(var Sn in Jt)Bt[Sn]||(this._coveredTiles[Sn]=!0,Bt[Sn]=Jt[Sn])}for(var kn in Bt)this._tiles[kn].clearFadeHold();for(var Wn=n.keysDifference(this._tiles,Bt),Zn=0,Yn=Wn;Zn<Yn.length;Zn+=1){var qn=Yn[Zn],ua=this._tiles[qn];ua.hasSymbolBuckets&&!ua.holdingForFade()?ua.setHoldDuration(this.map._fadeDuration):(!ua.hasSymbolBuckets||ua.symbolFadeFinished())&&this._removeTile(qn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},Z.prototype._updateRetainedTiles=function(te,pe){for(var Re={},We={},st=Math.max(pe-Z.maxOverzooming,this._source.minzoom),Tt=Math.max(pe+Z.maxUnderzooming,this._source.minzoom),Bt={},Jt=0,ur=te;Jt<ur.length;Jt+=1){var mr=ur[Jt],Ir=this._addTile(mr);Re[mr.key]=mr,!Ir.hasData()&&pe<this._source.maxzoom&&(Bt[mr.key]=mr)}this._retainLoadedChildren(Bt,pe,Tt,Re);for(var Vr=0,Gr=te;Vr<Gr.length;Vr+=1){var Hr=Gr[Vr],Qr=this._tiles[Hr.key];if(!Qr.hasData()){if(pe+1>this._source.maxzoom){var on=Hr.children(this._source.maxzoom)[0],Sn=this.getTile(on);if(Sn&&Sn.hasData()){Re[on.key]=on;continue}}else{var kn=Hr.children(this._source.maxzoom);if(Re[kn[0].key]&&Re[kn[1].key]&&Re[kn[2].key]&&Re[kn[3].key])continue}for(var Wn=Qr.wasRequested(),Zn=Hr.overscaledZ-1;Zn>=st;--Zn){var Yn=Hr.scaledTo(Zn);if(We[Yn.key]||(We[Yn.key]=!0,Qr=this.getTile(Yn),!Qr&&Wn&&(Qr=this._addTile(Yn)),Qr&&(Re[Yn.key]=Yn,Wn=Qr.wasRequested(),Qr.hasData())))break}}}return Re},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var pe=[],Re=void 0,We=this._tiles[te].tileID;We.overscaledZ>0;){if(We.key in this._loadedParentTiles){Re=this._loadedParentTiles[We.key];break}pe.push(We.key);var st=We.scaledTo(We.overscaledZ-1);if(Re=this._getLoadedTile(st),Re)break;We=st}for(var Tt=0,Bt=pe;Tt<Bt.length;Tt+=1){var Jt=Bt[Tt];this._loadedParentTiles[Jt]=Re}}},Z.prototype._addTile=function(te){var pe=this._tiles[te.key];if(pe)return pe;pe=this._cache.getAndRemove(te),pe&&(this._setTileReloadTimer(te.key,pe),pe.tileID=te,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,pe)));var Re=!!pe;return Re||(pe=new n.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,te.key,pe.state))),pe?(pe.uses++,this._tiles[te.key]=pe,Re||this._source.fire(new n.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},Z.prototype._setTileReloadTimer=function(te,pe){var Re=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var We=pe.getExpiryTimeout();We&&(this._timers[te]=setTimeout(function(){Re._reloadTile(te,"expired"),delete Re._timers[te]},We))},Z.prototype._removeTile=function(te){var pe=this._tiles[te];pe&&(pe.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},Z.prototype.tilesIn=function(te,pe,Re){var We=this,st=[],Tt=this.transform;if(!Tt)return st;for(var Bt=Re?Tt.getCameraQueryGeometry(te):te,Jt=te.map(function(Zn){return Tt.pointCoordinate(Zn)}),ur=Bt.map(function(Zn){return Tt.pointCoordinate(Zn)}),mr=this.getIds(),Ir=1/0,Vr=1/0,Gr=-1/0,Hr=-1/0,Qr=0,on=ur;Qr<on.length;Qr+=1){var Sn=on[Qr];Ir=Math.min(Ir,Sn.x),Vr=Math.min(Vr,Sn.y),Gr=Math.max(Gr,Sn.x),Hr=Math.max(Hr,Sn.y)}for(var kn=function(Zn){var Yn=We._tiles[mr[Zn]];if(!Yn.holdingForFade()){var qn=Yn.tileID,ua=Math.pow(2,Tt.zoom-Yn.tileID.overscaledZ),la=pe*Yn.queryPadding*n.EXTENT/Yn.tileSize/ua,va=[qn.getTilePoint(new n.MercatorCoordinate(Ir,Vr)),qn.getTilePoint(new n.MercatorCoordinate(Gr,Hr))];if(va[0].x-la<n.EXTENT&&va[0].y-la<n.EXTENT&&va[1].x+la>=0&&va[1].y+la>=0){var ma=Jt.map(function(Oa){return qn.getTilePoint(Oa)}),Pa=ur.map(function(Oa){return qn.getTilePoint(Oa)});st.push({tile:Yn,tileID:qn,queryGeometry:ma,cameraQueryGeometry:Pa,scale:ua})}}},Wn=0;Wn<mr.length;Wn++)kn(Wn);return st},Z.prototype.getVisibleCoordinates=function(te){for(var pe=this,Re=this.getRenderableIds(te).map(function(Bt){return pe._tiles[Bt].tileID}),We=0,st=Re;We<st.length;We+=1){var Tt=st[We];Tt.posMatrix=this.transform.calculatePosMatrix(Tt.toUnwrapped())}return Re},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Qt(this._source.type))for(var te in this._tiles){var pe=this._tiles[te];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=n.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(te,pe,Re){te=te||"_geojsonTileLayer",this._state.updateState(te,pe,Re)},Z.prototype.removeFeatureState=function(te,pe,Re){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,pe,Re)},Z.prototype.getFeatureState=function(te,pe){return te=te||"_geojsonTileLayer",this._state.getState(te,pe)},Z.prototype.setDependencies=function(te,pe,Re){var We=this._tiles[te];We&&We.setDependencies(pe,Re)},Z.prototype.reloadTilesForDependencies=function(te,pe){for(var Re in this._tiles){var We=this._tiles[Re];We.hasDependency(te,pe)&&this._reloadTile(Re,"reloading")}this._cache.filter(function(st){return!st.hasDependency(te,pe)})},Z}(n.Evented);Ot.maxOverzooming=10,Ot.maxUnderzooming=3;function Vt(fe,Z){var de=Math.abs(fe.wrap*2)-+(fe.wrap<0),te=Math.abs(Z.wrap*2)-+(Z.wrap<0);return fe.overscaledZ-Z.overscaledZ||te-de||Z.canonical.y-fe.canonical.y||Z.canonical.x-fe.canonical.x}function Qt(fe){return fe==="raster"||fe==="image"||fe==="video"}function Kt(){return new n.window.Worker(sd.workerUrl)}var or="mapboxgl_preloaded_worker_pool",Mr=function(){this.active={}};Mr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<Mr.workerCount;)this.workers.push(new Kt);return this.active[Z]=!0,this.workers.slice()},Mr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},Mr.prototype.isPreloaded=function(){return!!this.active[or]},Mr.prototype.numActive=function(){return Object.keys(this.active).length};var Ve=Math.floor(n.browser.hardwareConcurrency/2);Mr.workerCount=Math.max(Math.min(Ve,6),1);var Ge;function Ft(){return Ge||(Ge=new Mr),Ge}function kt(){var fe=Ft();fe.acquire(or)}function Zt(){var fe=Ge;fe&&(fe.isPreloaded()&&fe.numActive()===1?(fe.release(or),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(fe,Z){var de={};for(var te in fe)te!=="ref"&&(de[te]=fe[te]);return n.refProperties.forEach(function(pe){pe in Z&&(de[pe]=Z[pe])}),de}function sr(fe){fe=fe.slice();for(var Z=Object.create(null),de=0;de<fe.length;de++)Z[fe[de].id]=fe[de];for(var te=0;te<fe.length;te++)"ref"in fe[te]&&(fe[te]=tr(fe[te],Z[fe[te].ref]));return fe}function rr(){var fe={},Z=n.styleSpec.$version;for(var de in n.styleSpec.$root){var te=n.styleSpec.$root[de];if(te.required){var pe=null;de==="version"?pe=Z:te.type==="array"?pe=[]:pe={},pe!=null&&(fe[de]=pe)}}return fe}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(fe,Z,de){de.push({command:Nt.addSource,args:[fe,Z[fe]]})}function pr(fe,Z,de){Z.push({command:Nt.removeSource,args:[fe]}),de[fe]=!0}function br(fe,Z,de,te){pr(fe,de,te),hr(fe,Z,de)}function vr(fe,Z,de){var te;for(te in fe[de])if(fe[de].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(fe[de][te],Z[de][te]))return!1;for(te in Z[de])if(Z[de].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(fe[de][te],Z[de][te]))return!1;return!0}function Kr(fe,Z,de,te){fe=fe||{},Z=Z||{};var pe;for(pe in fe)fe.hasOwnProperty(pe)&&(Z.hasOwnProperty(pe)||pr(pe,de,te));for(pe in Z)Z.hasOwnProperty(pe)&&(fe.hasOwnProperty(pe)?n.deepEqual(fe[pe],Z[pe])||(fe[pe].type==="geojson"&&Z[pe].type==="geojson"&&vr(fe,Z,pe)?de.push({command:Nt.setGeoJSONSourceData,args:[pe,Z[pe].data]}):br(pe,Z,de,te)):hr(pe,Z,de))}function Fr(fe,Z,de,te,pe,Re){fe=fe||{},Z=Z||{};var We;for(We in fe)fe.hasOwnProperty(We)&&(n.deepEqual(fe[We],Z[We])||de.push({command:Re,args:[te,We,Z[We],pe]}));for(We in Z)!Z.hasOwnProperty(We)||fe.hasOwnProperty(We)||n.deepEqual(fe[We],Z[We])||de.push({command:Re,args:[te,We,Z[We],pe]})}function Br(fe){return fe.id}function xn(fe,Z){return fe[Z.id]=Z,fe}function jr(fe,Z,de){fe=fe||[],Z=Z||[];var te=fe.map(Br),pe=Z.map(Br),Re=fe.reduce(xn,{}),We=Z.reduce(xn,{}),st=te.slice(),Tt=Object.create(null),Bt,Jt,ur,mr,Ir,Vr,Gr;for(Bt=0,Jt=0;Bt<te.length;Bt++)ur=te[Bt],We.hasOwnProperty(ur)?Jt++:(de.push({command:Nt.removeLayer,args:[ur]}),st.splice(st.indexOf(ur,Jt),1));for(Bt=0,Jt=0;Bt<pe.length;Bt++)ur=pe[pe.length-1-Bt],st[st.length-1-Bt]!==ur&&(Re.hasOwnProperty(ur)?(de.push({command:Nt.removeLayer,args:[ur]}),st.splice(st.lastIndexOf(ur,st.length-Jt),1)):Jt++,Vr=st[st.length-Bt],de.push({command:Nt.addLayer,args:[We[ur],Vr]}),st.splice(st.length-Bt,0,ur),Tt[ur]=!0);for(Bt=0;Bt<pe.length;Bt++)if(ur=pe[Bt],mr=Re[ur],Ir=We[ur],!(Tt[ur]||n.deepEqual(mr,Ir))){if(!n.deepEqual(mr.source,Ir.source)||!n.deepEqual(mr["source-layer"],Ir["source-layer"])||!n.deepEqual(mr.type,Ir.type)){de.push({command:Nt.removeLayer,args:[ur]}),Vr=st[st.lastIndexOf(ur)+1],de.push({command:Nt.addLayer,args:[Ir,Vr]});continue}Fr(mr.layout,Ir.layout,de,ur,null,Nt.setLayoutProperty),Fr(mr.paint,Ir.paint,de,ur,null,Nt.setPaintProperty),n.deepEqual(mr.filter,Ir.filter)||de.push({command:Nt.setFilter,args:[ur,Ir.filter]}),(!n.deepEqual(mr.minzoom,Ir.minzoom)||!n.deepEqual(mr.maxzoom,Ir.maxzoom))&&de.push({command:Nt.setLayerZoomRange,args:[ur,Ir.minzoom,Ir.maxzoom]});for(Gr in mr)mr.hasOwnProperty(Gr)&&(Gr==="layout"||Gr==="paint"||Gr==="filter"||Gr==="metadata"||Gr==="minzoom"||Gr==="maxzoom"||(Gr.indexOf("paint.")===0?Fr(mr[Gr],Ir[Gr],de,ur,Gr.slice(6),Nt.setPaintProperty):n.deepEqual(mr[Gr],Ir[Gr])||de.push({command:Nt.setLayerProperty,args:[ur,Gr,Ir[Gr]]})));for(Gr in Ir)!Ir.hasOwnProperty(Gr)||mr.hasOwnProperty(Gr)||Gr==="layout"||Gr==="paint"||Gr==="filter"||Gr==="metadata"||Gr==="minzoom"||Gr==="maxzoom"||(Gr.indexOf("paint.")===0?Fr(mr[Gr],Ir[Gr],de,ur,Gr.slice(6),Nt.setPaintProperty):n.deepEqual(mr[Gr],Ir[Gr])||de.push({command:Nt.setLayerProperty,args:[ur,Gr,Ir[Gr]]}))}}function Dn(fe,Z){if(!fe)return[{command:Nt.setStyle,args:[Z]}];var de=[];try{if(!n.deepEqual(fe.version,Z.version))return[{command:Nt.setStyle,args:[Z]}];n.deepEqual(fe.center,Z.center)||de.push({command:Nt.setCenter,args:[Z.center]}),n.deepEqual(fe.zoom,Z.zoom)||de.push({command:Nt.setZoom,args:[Z.zoom]}),n.deepEqual(fe.bearing,Z.bearing)||de.push({command:Nt.setBearing,args:[Z.bearing]}),n.deepEqual(fe.pitch,Z.pitch)||de.push({command:Nt.setPitch,args:[Z.pitch]}),n.deepEqual(fe.sprite,Z.sprite)||de.push({command:Nt.setSprite,args:[Z.sprite]}),n.deepEqual(fe.glyphs,Z.glyphs)||de.push({command:Nt.setGlyphs,args:[Z.glyphs]}),n.deepEqual(fe.transition,Z.transition)||de.push({command:Nt.setTransition,args:[Z.transition]}),n.deepEqual(fe.light,Z.light)||de.push({command:Nt.setLight,args:[Z.light]});var te={},pe=[];Kr(fe.sources,Z.sources,pe,te);var Re=[];fe.layers&&fe.layers.forEach(function(We){te[We.source]?de.push({command:Nt.removeLayer,args:[We.id]}):Re.push(We)}),de=de.concat(pe),jr(Re,Z.layers,de)}catch(We){console.warn("Unable to compute style diff:",We),de=[{command:Nt.setStyle,args:[Z]}]}return de}var In=function(Z,de){this.reset(Z,de)};In.prototype.reset=function(Z,de){this.points=Z||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},In.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=n.clamp(Z,0,1);for(var de=1,te=this._distances[de],pe=Z*this.paddedLength+this.padding;te<pe&&de<this._distances.length;)te=this._distances[++de];var Re=de-1,We=this._distances[Re],st=te-We,Tt=st>0?(pe-We)/st:0;return this.points[Re].mult(1-Tt).add(this.points[de].mult(Tt))};var yr=function(Z,de,te){var pe=this.boxCells=[],Re=this.circleCells=[];this.xCellCount=Math.ceil(Z/te),this.yCellCount=Math.ceil(de/te);for(var We=0;We<this.xCellCount*this.yCellCount;We++)pe.push([]),Re.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=de,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};yr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},yr.prototype.insert=function(Z,de,te,pe,Re){this._forEachCell(de,te,pe,Re,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(de),this.bboxes.push(te),this.bboxes.push(pe),this.bboxes.push(Re)},yr.prototype.insertCircle=function(Z,de,te,pe){this._forEachCell(de-pe,te-pe,de+pe,te+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(de),this.circles.push(te),this.circles.push(pe)},yr.prototype._insertBoxCell=function(Z,de,te,pe,Re,We){this.boxCells[Re].push(We)},yr.prototype._insertCircleCell=function(Z,de,te,pe,Re,We){this.circleCells[Re].push(We)},yr.prototype._query=function(Z,de,te,pe,Re,We){if(te<0||Z>this.width||pe<0||de>this.height)return Re?!1:[];var st=[];if(Z<=0&&de<=0&&this.width<=te&&this.height<=pe){if(Re)return!0;for(var Tt=0;Tt<this.boxKeys.length;Tt++)st.push({key:this.boxKeys[Tt],x1:this.bboxes[Tt*4],y1:this.bboxes[Tt*4+1],x2:this.bboxes[Tt*4+2],y2:this.bboxes[Tt*4+3]});for(var Bt=0;Bt<this.circleKeys.length;Bt++){var Jt=this.circles[Bt*3],ur=this.circles[Bt*3+1],mr=this.circles[Bt*3+2];st.push({key:this.circleKeys[Bt],x1:Jt-mr,y1:ur-mr,x2:Jt+mr,y2:ur+mr})}return We?st.filter(We):st}else{var Ir={hitTest:Re,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,de,te,pe,this._queryCell,st,Ir,We),Re?st.length>0:st}},yr.prototype._queryCircle=function(Z,de,te,pe,Re){var We=Z-te,st=Z+te,Tt=de-te,Bt=de+te;if(st<0||We>this.width||Bt<0||Tt>this.height)return pe?!1:[];var Jt=[],ur={hitTest:pe,circle:{x:Z,y:de,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(We,Tt,st,Bt,this._queryCellCircle,Jt,ur,Re),pe?Jt.length>0:Jt},yr.prototype.query=function(Z,de,te,pe,Re){return this._query(Z,de,te,pe,!1,Re)},yr.prototype.hitTest=function(Z,de,te,pe,Re){return this._query(Z,de,te,pe,!0,Re)},yr.prototype.hitTestCircle=function(Z,de,te,pe){return this._queryCircle(Z,de,te,!0,pe)},yr.prototype._queryCell=function(Z,de,te,pe,Re,We,st,Tt){var Bt=st.seenUids,Jt=this.boxCells[Re];if(Jt!==null)for(var ur=this.bboxes,mr=0,Ir=Jt;mr<Ir.length;mr+=1){var Vr=Ir[mr];if(!Bt.box[Vr]){Bt.box[Vr]=!0;var Gr=Vr*4;if(Z<=ur[Gr+2]&&de<=ur[Gr+3]&&te>=ur[Gr+0]&&pe>=ur[Gr+1]&&(!Tt||Tt(this.boxKeys[Vr]))){if(st.hitTest)return We.push(!0),!0;We.push({key:this.boxKeys[Vr],x1:ur[Gr],y1:ur[Gr+1],x2:ur[Gr+2],y2:ur[Gr+3]})}}}var Hr=this.circleCells[Re];if(Hr!==null)for(var Qr=this.circles,on=0,Sn=Hr;on<Sn.length;on+=1){var kn=Sn[on];if(!Bt.circle[kn]){Bt.circle[kn]=!0;var Wn=kn*3;if(this._circleAndRectCollide(Qr[Wn],Qr[Wn+1],Qr[Wn+2],Z,de,te,pe)&&(!Tt||Tt(this.circleKeys[kn]))){if(st.hitTest)return We.push(!0),!0;var Zn=Qr[Wn],Yn=Qr[Wn+1],qn=Qr[Wn+2];We.push({key:this.circleKeys[kn],x1:Zn-qn,y1:Yn-qn,x2:Zn+qn,y2:Yn+qn})}}}},yr.prototype._queryCellCircle=function(Z,de,te,pe,Re,We,st,Tt){var Bt=st.circle,Jt=st.seenUids,ur=this.boxCells[Re];if(ur!==null)for(var mr=this.bboxes,Ir=0,Vr=ur;Ir<Vr.length;Ir+=1){var Gr=Vr[Ir];if(!Jt.box[Gr]){Jt.box[Gr]=!0;var Hr=Gr*4;if(this._circleAndRectCollide(Bt.x,Bt.y,Bt.radius,mr[Hr+0],mr[Hr+1],mr[Hr+2],mr[Hr+3])&&(!Tt||Tt(this.boxKeys[Gr])))return We.push(!0),!0}}var Qr=this.circleCells[Re];if(Qr!==null)for(var on=this.circles,Sn=0,kn=Qr;Sn<kn.length;Sn+=1){var Wn=kn[Sn];if(!Jt.circle[Wn]){Jt.circle[Wn]=!0;var Zn=Wn*3;if(this._circlesCollide(on[Zn],on[Zn+1],on[Zn+2],Bt.x,Bt.y,Bt.radius)&&(!Tt||Tt(this.circleKeys[Wn])))return We.push(!0),!0}}},yr.prototype._forEachCell=function(Z,de,te,pe,Re,We,st,Tt){for(var Bt=this._convertToXCellCoord(Z),Jt=this._convertToYCellCoord(de),ur=this._convertToXCellCoord(te),mr=this._convertToYCellCoord(pe),Ir=Bt;Ir<=ur;Ir++)for(var Vr=Jt;Vr<=mr;Vr++){var Gr=this.xCellCount*Vr+Ir;if(Re.call(this,Z,de,te,pe,Gr,We,st,Tt))return}},yr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},yr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},yr.prototype._circlesCollide=function(Z,de,te,pe,Re,We){var st=pe-Z,Tt=Re-de,Bt=te+We;return Bt*Bt>st*st+Tt*Tt},yr.prototype._circleAndRectCollide=function(Z,de,te,pe,Re,We,st){var Tt=(We-pe)/2,Bt=Math.abs(Z-(pe+Tt));if(Bt>Tt+te)return!1;var Jt=(st-Re)/2,ur=Math.abs(de-(Re+Jt));if(ur>Jt+te)return!1;if(Bt<=Tt||ur<=Jt)return!0;var mr=Bt-Tt,Ir=ur-Jt;return mr*mr+Ir*Ir<=te*te};function cr(fe,Z,de,te,pe){var Re=n.create();return Z?(n.scale(Re,Re,[1/pe,1/pe,1]),de||n.rotateZ(Re,Re,te.angle)):n.multiply(Re,te.labelPlaneMatrix,fe),Re}function kr(fe,Z,de,te,pe){if(Z){var Re=n.clone(fe);return n.scale(Re,Re,[pe,pe,1]),de||n.rotateZ(Re,Re,-te.angle),Re}else return te.glCoordMatrix}function Or(fe,Z){var de=[fe.x,fe.y,0,1];Rr(de,de,Z);var te=de[3];return{point:new n.Point(de[0]/te,de[1]/te),signedDistanceFromCamera:te}}function sn(fe,Z){return .5+.5*(fe/Z)}function yn(fe,Z){var de=fe[0]/fe[3],te=fe[1]/fe[3],pe=de>=-Z[0]&&de<=Z[0]&&te>=-Z[1]&&te<=Z[1];return pe}function bn(fe,Z,de,te,pe,Re,We,st){var Tt=te?fe.textSizeData:fe.iconSizeData,Bt=n.evaluateSizeForZoom(Tt,de.transform.zoom),Jt=[256/de.width*2+1,256/de.height*2+1],ur=te?fe.text.dynamicLayoutVertexArray:fe.icon.dynamicLayoutVertexArray;ur.clear();for(var mr=fe.lineVertexArray,Ir=te?fe.text.placedSymbolArray:fe.icon.placedSymbolArray,Vr=de.transform.width/de.transform.height,Gr=!1,Hr=0;Hr<Ir.length;Hr++){var Qr=Ir.get(Hr);if(Qr.hidden||Qr.writingMode===n.WritingMode.vertical&&!Gr){$n(Qr.numGlyphs,ur);continue}Gr=!1;var on=[Qr.anchorX,Qr.anchorY,0,1];if(n.transformMat4(on,on,Z),!yn(on,Jt)){$n(Qr.numGlyphs,ur);continue}var Sn=on[3],kn=sn(de.transform.cameraToCenterDistance,Sn),Wn=n.evaluateSizeForFeature(Tt,Bt,Qr),Zn=We?Wn/kn:Wn*kn,Yn=new n.Point(Qr.anchorX,Qr.anchorY),qn=Or(Yn,pe).point,ua={},la=Kn(Qr,Zn,!1,st,Z,pe,Re,fe.glyphOffsetArray,mr,ur,qn,Yn,ua,Vr);Gr=la.useVertical,(la.notEnoughRoom||Gr||la.needsFlipping&&Kn(Qr,Zn,!0,st,Z,pe,Re,fe.glyphOffsetArray,mr,ur,qn,Yn,ua,Vr).notEnoughRoom)&&$n(Qr.numGlyphs,ur)}te?fe.text.dynamicLayoutVertexBuffer.updateData(ur):fe.icon.dynamicLayoutVertexBuffer.updateData(ur)}function mn(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt){var ur=st.glyphStartIndex+st.numGlyphs,mr=st.lineStartIndex,Ir=st.lineStartIndex+st.lineLength,Vr=Z.getoffsetX(st.glyphStartIndex),Gr=Z.getoffsetX(ur-1),Hr=ea(fe*Vr,de,te,pe,Re,We,st.segment,mr,Ir,Tt,Bt,Jt);if(!Hr)return null;var Qr=ea(fe*Gr,de,te,pe,Re,We,st.segment,mr,Ir,Tt,Bt,Jt);return Qr?{first:Hr,last:Qr}:null}function _n(fe,Z,de,te){if(fe===n.WritingMode.horizontal){var pe=Math.abs(de.y-Z.y),Re=Math.abs(de.x-Z.x)*te;if(pe>Re)return{useVertical:!0}}return(fe===n.WritingMode.vertical?Z.y<de.y:Z.x>de.x)?{needsFlipping:!0}:null}function Kn(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur,mr,Ir){var Vr=Z/24,Gr=fe.lineOffsetX*Vr,Hr=fe.lineOffsetY*Vr,Qr;if(fe.numGlyphs>1){var on=fe.glyphStartIndex+fe.numGlyphs,Sn=fe.lineStartIndex,kn=fe.lineStartIndex+fe.lineLength,Wn=mn(Vr,st,Gr,Hr,de,Jt,ur,fe,Tt,Re,mr);if(!Wn)return{notEnoughRoom:!0};var Zn=Or(Wn.first.point,We).point,Yn=Or(Wn.last.point,We).point;if(te&&!de){var qn=_n(fe.writingMode,Zn,Yn,Ir);if(qn)return qn}Qr=[Wn.first];for(var ua=fe.glyphStartIndex+1;ua<on-1;ua++)Qr.push(ea(Vr*st.getoffsetX(ua),Gr,Hr,de,Jt,ur,fe.segment,Sn,kn,Tt,Re,mr));Qr.push(Wn.last)}else{if(te&&!de){var la=Or(ur,pe).point,va=fe.lineStartIndex+fe.segment+1,ma=new n.Point(Tt.getx(va),Tt.gety(va)),Pa=Or(ma,pe),Oa=Pa.signedDistanceFromCamera>0?Pa.point:na(ur,ma,la,1,pe),ni=_n(fe.writingMode,la,Oa,Ir);if(ni)return ni}var Na=ea(Vr*st.getoffsetX(fe.glyphStartIndex),Gr,Hr,de,Jt,ur,fe.segment,fe.lineStartIndex,fe.lineStartIndex+fe.lineLength,Tt,Re,mr);if(!Na)return{notEnoughRoom:!0};Qr=[Na]}for(var Wa=0,Sa=Qr;Wa<Sa.length;Wa+=1){var ai=Sa[Wa];n.addDynamicAttributes(Bt,ai.point,ai.angle)}return{}}function na(fe,Z,de,te,pe){var Re=Or(fe.add(fe.sub(Z)._unit()),pe).point,We=de.sub(Re);return de.add(We._mult(te/We.mag()))}function ea(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur){var mr=te?fe-Z:fe+Z,Ir=mr>0?1:-1,Vr=0;te&&(Ir*=-1,Vr=Math.PI),Ir<0&&(Vr+=Math.PI);for(var Gr=Ir>0?st+We:st+We+1,Hr=pe,Qr=pe,on=0,Sn=0,kn=Math.abs(mr),Wn=[];on+Sn<=kn;){if(Gr+=Ir,Gr<st||Gr>=Tt)return null;if(Qr=Hr,Wn.push(Hr),Hr=ur[Gr],Hr===void 0){var Zn=new n.Point(Bt.getx(Gr),Bt.gety(Gr)),Yn=Or(Zn,Jt);if(Yn.signedDistanceFromCamera>0)Hr=ur[Gr]=Yn.point;else{var qn=Gr-Ir,ua=on===0?Re:new n.Point(Bt.getx(qn),Bt.gety(qn));Hr=na(ua,Zn,Qr,kn-on+1,Jt)}}on+=Sn,Sn=Qr.dist(Hr)}var la=(kn-on)/Sn,va=Hr.sub(Qr),ma=va.mult(la)._add(Qr);ma._add(va._unit()._perp()._mult(de*Ir));var Pa=Vr+Math.atan2(Hr.y-Qr.y,Hr.x-Qr.x);return Wn.push(ma),{point:ma,angle:Pa,path:Wn}}var oa=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $n(fe,Z){for(var de=0;de<fe;de++){var te=Z.length;Z.resize(te+4),Z.float32.set(oa,te*3)}}function Rr(fe,Z,de){var te=Z[0],pe=Z[1];return fe[0]=de[0]*te+de[4]*pe+de[12],fe[1]=de[1]*te+de[5]*pe+de[13],fe[3]=de[3]*te+de[7]*pe+de[15],fe}var an=100,rn=function(Z,de,te){de===void 0&&(de=new yr(Z.width+2*an,Z.height+2*an,25)),te===void 0&&(te=new yr(Z.width+2*an,Z.height+2*an,25)),this.transform=Z,this.grid=de,this.ignoredGrid=te,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+an,this.screenBottomBoundary=Z.height+an,this.gridRightBoundary=Z.width+2*an,this.gridBottomBoundary=Z.height+2*an};rn.prototype.placeCollisionBox=function(Z,de,te,pe,Re){var We=this.projectAndGetPerspectiveRatio(pe,Z.anchorPointX,Z.anchorPointY),st=te*We.perspectiveRatio,Tt=Z.x1*st+We.point.x,Bt=Z.y1*st+We.point.y,Jt=Z.x2*st+We.point.x,ur=Z.y2*st+We.point.y;return!this.isInsideGrid(Tt,Bt,Jt,ur)||!de&&this.grid.hitTest(Tt,Bt,Jt,ur,Re)?{box:[],offscreen:!1}:{box:[Tt,Bt,Jt,ur],offscreen:this.isOffscreen(Tt,Bt,Jt,ur)}},rn.prototype.placeCollisionCircles=function(Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur,mr,Ir){var Vr=[],Gr=new n.Point(de.anchorX,de.anchorY),Hr=Or(Gr,We),Qr=sn(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),on=Jt?Re/Qr:Re*Qr,Sn=on/n.ONE_EM,kn=Or(Gr,st).point,Wn={},Zn=de.lineOffsetX*Sn,Yn=de.lineOffsetY*Sn,qn=mn(Sn,pe,Zn,Yn,!1,kn,Gr,de,te,st,Wn),ua=!1,la=!1,va=!0;if(qn){for(var ma=mr*.5*Qr+Ir,Pa=new n.Point(-an,-an),Oa=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),ni=new In,Na=qn.first,Wa=qn.last,Sa=[],ai=Na.path.length-1;ai>=1;ai--)Sa.push(Na.path[ai]);for(var si=1;si<Wa.path.length;si++)Sa.push(Wa.path[si]);var ui=ma*2.5;if(Tt){var Za=Sa.map(function(Tl){return Or(Tl,Tt)});Za.some(function(Tl){return Tl.signedDistanceFromCamera<=0})?Sa=[]:Sa=Za.map(function(Tl){return Tl.point})}var mi=[];if(Sa.length>0){for(var Ba=Sa[0].clone(),ja=Sa[0].clone(),Oi=1;Oi<Sa.length;Oi++)Ba.x=Math.min(Ba.x,Sa[Oi].x),Ba.y=Math.min(Ba.y,Sa[Oi].y),ja.x=Math.max(ja.x,Sa[Oi].x),ja.y=Math.max(ja.y,Sa[Oi].y);Ba.x>=Pa.x&&ja.x<=Oa.x&&Ba.y>=Pa.y&&ja.y<=Oa.y?mi=[Sa]:ja.x<Pa.x||Ba.x>Oa.x||ja.y<Pa.y||Ba.y>Oa.y?mi=[]:mi=n.clipLine([Sa],Pa.x,Pa.y,Oa.x,Oa.y)}for(var $i=0,ks=mi;$i<ks.length;$i+=1){var zs=ks[$i];ni.reset(zs,ma*.25);var ml=0;ni.length<=.5*ma?ml=1:ml=Math.ceil(ni.paddedLength/ui)+1;for(var xl=0;xl<ml;xl++){var Ql=xl/Math.max(ml-1,1),bl=ni.lerp(Ql),Yo=bl.x+an,Du=bl.y+an;Vr.push(Yo,Du,ma,0);var Ro=Yo-ma,Ts=Du-ma,wl=Yo+ma,tl=Du+ma;if(va=va&&this.isOffscreen(Ro,Ts,wl,tl),la=la||this.isInsideGrid(Ro,Ts,wl,tl),!Z&&this.grid.hitTestCircle(Yo,Du,ma,ur)&&(ua=!0,!Bt))return{circles:[],offscreen:!1,collisionDetected:ua}}}}return{circles:!Bt&&ua||!la?[]:Vr,offscreen:va,collisionDetected:ua}},rn.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],te=1/0,pe=1/0,Re=-1/0,We=-1/0,st=0,Tt=Z;st<Tt.length;st+=1){var Bt=Tt[st],Jt=new n.Point(Bt.x+an,Bt.y+an);te=Math.min(te,Jt.x),pe=Math.min(pe,Jt.y),Re=Math.max(Re,Jt.x),We=Math.max(We,Jt.y),de.push(Jt)}for(var ur=this.grid.query(te,pe,Re,We).concat(this.ignoredGrid.query(te,pe,Re,We)),mr={},Ir={},Vr=0,Gr=ur;Vr<Gr.length;Vr+=1){var Hr=Gr[Vr],Qr=Hr.key;if(mr[Qr.bucketInstanceId]===void 0&&(mr[Qr.bucketInstanceId]={}),!mr[Qr.bucketInstanceId][Qr.featureIndex]){var on=[new n.Point(Hr.x1,Hr.y1),new n.Point(Hr.x2,Hr.y1),new n.Point(Hr.x2,Hr.y2),new n.Point(Hr.x1,Hr.y2)];n.polygonIntersectsPolygon(de,on)&&(mr[Qr.bucketInstanceId][Qr.featureIndex]=!0,Ir[Qr.bucketInstanceId]===void 0&&(Ir[Qr.bucketInstanceId]=[]),Ir[Qr.bucketInstanceId].push(Qr.featureIndex))}}return Ir},rn.prototype.insertCollisionBox=function(Z,de,te,pe,Re){var We=de?this.ignoredGrid:this.grid,st={bucketInstanceId:te,featureIndex:pe,collisionGroupID:Re};We.insert(st,Z[0],Z[1],Z[2],Z[3])},rn.prototype.insertCollisionCircles=function(Z,de,te,pe,Re){for(var We=de?this.ignoredGrid:this.grid,st={bucketInstanceId:te,featureIndex:pe,collisionGroupID:Re},Tt=0;Tt<Z.length;Tt+=4)We.insertCircle(st,Z[Tt],Z[Tt+1],Z[Tt+2])},rn.prototype.projectAndGetPerspectiveRatio=function(Z,de,te){var pe=[de,te,0,1];Rr(pe,pe,Z);var Re=new n.Point((pe[0]/pe[3]+1)/2*this.transform.width+an,(-pe[1]/pe[3]+1)/2*this.transform.height+an);return{point:Re,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},rn.prototype.isOffscreen=function(Z,de,te,pe){return te<an||Z>=this.screenRightBoundary||pe<an||de>this.screenBottomBoundary},rn.prototype.isInsideGrid=function(Z,de,te,pe){return te>=0&&Z<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},rn.prototype.getViewportMatrix=function(){var Z=n.identity([]);return n.translate(Z,Z,[-an,-an,0]),Z};function vn(fe,Z,de){return Z*(n.EXTENT/(fe.tileSize*Math.pow(2,de-fe.tileID.overscaledZ)))}var Nn=function(Z,de,te,pe){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?de:-de))):this.opacity=pe&&te?1:0,this.placed=te};Nn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var En=function(Z,de,te,pe,Re){this.text=new Nn(Z?Z.text:null,de,te,Re),this.icon=new Nn(Z?Z.icon:null,de,pe,Re)};En.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cn=function(Z,de,te){this.text=Z,this.icon=de,this.skipFade=te},Hn=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},ra=function(Z,de,te,pe,Re){this.bucketInstanceId=Z,this.featureIndex=de,this.sourceLayerIndex=te,this.bucketIndex=pe,this.tileID=Re},Ea=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};Ea.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var de=++this.maxGroupID;this.collisionGroups[Z]={ID:de,predicate:function(te){return te.collisionGroupID===de}}}return this.collisionGroups[Z]};function Va(fe,Z,de,te,pe){var Re=n.getAnchorAlignment(fe),We=Re.horizontalAlign,st=Re.verticalAlign,Tt=-(We-.5)*Z,Bt=-(st-.5)*de,Jt=n.evaluateVariableOffset(fe,te);return new n.Point(Tt+Jt[0]*pe,Bt+Jt[1]*pe)}function Xt(fe,Z,de,te,pe,Re){var We=fe.x1,st=fe.x2,Tt=fe.y1,Bt=fe.y2,Jt=fe.anchorPointX,ur=fe.anchorPointY,mr=new n.Point(Z,de);return te&&mr._rotate(pe?Re:-Re),{x1:We+mr.x,y1:Tt+mr.y,x2:st+mr.x,y2:Bt+mr.y,anchorPointX:Jt,anchorPointY:ur}}var Tr=function(Z,de,te,pe){this.transform=Z.clone(),this.collisionIndex=new rn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new Ea(te),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};Tr.prototype.getBucketParts=function(Z,de,te,pe){var Re=te.getBucket(de),We=te.latestFeatureIndex;if(!(!Re||!We||de.id!==Re.layerIds[0])){var st=te.collisionBoxArray,Tt=Re.layers[0].layout,Bt=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),Jt=te.tileSize/n.EXTENT,ur=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),mr=Tt.get("text-pitch-alignment")==="map",Ir=Tt.get("text-rotation-alignment")==="map",Vr=vn(te,1,this.transform.zoom),Gr=cr(ur,mr,Ir,this.transform,Vr),Hr=null;if(mr){var Qr=kr(ur,mr,Ir,this.transform,Vr);Hr=n.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[Re.bucketInstanceId]=new ra(Re.bucketInstanceId,We,Re.sourceLayerIndex,Re.index,te.tileID);var on={bucket:Re,layout:Tt,posMatrix:ur,textLabelPlaneMatrix:Gr,labelToScreenMatrix:Hr,scale:Bt,textPixelRatio:Jt,holdingForFade:te.holdingForFade(),collisionBoxArray:st,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(Re.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Re.sourceID)};if(pe)for(var Sn=0,kn=Re.sortKeyRanges;Sn<kn.length;Sn+=1){var Wn=kn[Sn],Zn=Wn.sortKey,Yn=Wn.symbolInstanceStart,qn=Wn.symbolInstanceEnd;Z.push({sortKey:Zn,symbolInstanceStart:Yn,symbolInstanceEnd:qn,parameters:on})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Re.symbolInstances.length,parameters:on})}},Tr.prototype.attemptAnchorPlacement=function(Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur,mr,Ir,Vr,Gr){var Hr=[mr.textOffset0,mr.textOffset1],Qr=Va(Z,te,pe,Hr,Re),on=this.collisionIndex.placeCollisionBox(Xt(de,Qr.x,Qr.y,We,st,this.transform.angle),ur,Tt,Bt,Jt.predicate);if(Gr){var Sn=this.collisionIndex.placeCollisionBox(Xt(Gr,Qr.x,Qr.y,We,st,this.transform.angle),ur,Tt,Bt,Jt.predicate);if(Sn.box.length===0)return}if(on.box.length>0){var kn;return this.prevPlacement&&this.prevPlacement.variableOffsets[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID].text&&(kn=this.prevPlacement.variableOffsets[mr.crossTileID].anchor),this.variableOffsets[mr.crossTileID]={textOffset:Hr,width:te,height:pe,anchor:Z,textBoxScale:Re,prevAnchor:kn},this.markUsedJustification(Ir,Z,mr,Vr),Ir.allowVerticalPlacement&&(this.markUsedOrientation(Ir,Vr,mr),this.placedOrientations[mr.crossTileID]=Vr),{shift:Qr,placedGlyphBoxes:on}}},Tr.prototype.placeLayerBucketPart=function(Z,de,te){var pe=this,Re=Z.parameters,We=Re.bucket,st=Re.layout,Tt=Re.posMatrix,Bt=Re.textLabelPlaneMatrix,Jt=Re.labelToScreenMatrix,ur=Re.textPixelRatio,mr=Re.holdingForFade,Ir=Re.collisionBoxArray,Vr=Re.partiallyEvaluatedTextSize,Gr=Re.collisionGroup,Hr=st.get("text-optional"),Qr=st.get("icon-optional"),on=st.get("text-allow-overlap"),Sn=st.get("icon-allow-overlap"),kn=st.get("text-rotation-alignment")==="map",Wn=st.get("text-pitch-alignment")==="map",Zn=st.get("icon-text-fit")!=="none",Yn=st.get("symbol-z-order")==="viewport-y",qn=on&&(Sn||!We.hasIconData()||Qr),ua=Sn&&(on||!We.hasTextData()||Hr);!We.collisionArrays&&Ir&&We.deserializeCollisionBoxes(Ir);var la=function(Na,Wa){if(!de[Na.crossTileID]){if(mr){pe.placements[Na.crossTileID]=new Cn(!1,!1,!1);return}var Sa=!1,ai=!1,si=!0,ui=null,Za={box:null,offscreen:null},mi={box:null,offscreen:null},Ba=null,ja=null,Oi=null,$i=0,ks=0,zs=0;Wa.textFeatureIndex?$i=Wa.textFeatureIndex:Na.useRuntimeCollisionCircles&&($i=Na.featureIndex),Wa.verticalTextFeatureIndex&&(ks=Wa.verticalTextFeatureIndex);var ml=Wa.textBox;if(ml){var xl=function(Hi){var is=n.WritingMode.horizontal;if(We.allowVerticalPlacement&&!Hi&&pe.prevPlacement){var os=pe.prevPlacement.placedOrientations[Na.crossTileID];os&&(pe.placedOrientations[Na.crossTileID]=os,is=os,pe.markUsedOrientation(We,is,Na))}return is},Ql=function(Hi,is){if(We.allowVerticalPlacement&&Na.numVerticalGlyphVertices>0&&Wa.verticalTextBox)for(var os=0,fh=We.writingModes;os<fh.length;os+=1){var av=fh[os];if(av===n.WritingMode.vertical?(Za=is(),mi=Za):Za=Hi(),Za&&Za.box&&Za.box.length)break}else Za=Hi()};if(st.get("text-variable-anchor")){var Ro=st.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Na.crossTileID]){var Ts=pe.prevPlacement.variableOffsets[Na.crossTileID];Ro.indexOf(Ts.anchor)>0&&(Ro=Ro.filter(function(Hi){return Hi!==Ts.anchor}),Ro.unshift(Ts.anchor))}var wl=function(Hi,is,os){for(var fh=Hi.x2-Hi.x1,av=Hi.y2-Hi.y1,B0=Na.textBoxScale,N0=Zn&&!Sn?is:null,Oc={box:[],offscreen:!1},U0=on?Ro.length*2:Ro.length,ch=0;ch<U0;++ch){var H0=Ro[ch%Ro.length],V0=ch>=Ro.length,iv=pe.attemptAnchorPlacement(H0,Hi,fh,av,B0,kn,Wn,ur,Tt,Gr,V0,Na,We,os,N0);if(iv&&(Oc=iv.placedGlyphBoxes,Oc&&Oc.box&&Oc.box.length)){Sa=!0,ui=iv.shift;break}}return Oc},tl=function(){return wl(ml,Wa.iconBox,n.WritingMode.horizontal)},Tl=function(){var Hi=Wa.verticalTextBox,is=Za&&Za.box&&Za.box.length;return We.allowVerticalPlacement&&!is&&Na.numVerticalGlyphVertices>0&&Hi?wl(Hi,Wa.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};Ql(tl,Tl),Za&&(Sa=Za.box,si=Za.offscreen);var oh=xl(Za&&Za.box);if(!Sa&&pe.prevPlacement){var vf=pe.prevPlacement.variableOffsets[Na.crossTileID];vf&&(pe.variableOffsets[Na.crossTileID]=vf,pe.markUsedJustification(We,vf.anchor,Na,oh))}}else{var bl=function(Hi,is){var os=pe.collisionIndex.placeCollisionBox(Hi,on,ur,Tt,Gr.predicate);return os&&os.box&&os.box.length&&(pe.markUsedOrientation(We,is,Na),pe.placedOrientations[Na.crossTileID]=is),os},Yo=function(){return bl(ml,n.WritingMode.horizontal)},Du=function(){var Hi=Wa.verticalTextBox;return We.allowVerticalPlacement&&Na.numVerticalGlyphVertices>0&&Hi?bl(Hi,n.WritingMode.vertical):{box:null,offscreen:null}};Ql(Yo,Du),xl(Za&&Za.box&&Za.box.length)}}if(Ba=Za,Sa=Ba&&Ba.box&&Ba.box.length>0,si=Ba&&Ba.offscreen,Na.useRuntimeCollisionCircles){var Ao=We.text.placedSymbolArray.get(Na.centerJustifiedTextSymbolIndex),kc=n.evaluateSizeForFeature(We.textSizeData,Vr,Ao),zo=st.get("text-padding"),zc=Na.collisionCircleDiameter;ja=pe.collisionIndex.placeCollisionCircles(on,Ao,We.lineVertexArray,We.glyphOffsetArray,kc,Tt,Bt,Jt,te,Wn,Gr.predicate,zc,zo),Sa=on||ja.circles.length>0&&!ja.collisionDetected,si=si&&ja.offscreen}if(Wa.iconFeatureIndex&&(zs=Wa.iconFeatureIndex),Wa.iconBox){var sh=function(Hi){var is=Zn&&ui?Xt(Hi,ui.x,ui.y,kn,Wn,pe.transform.angle):Hi;return pe.collisionIndex.placeCollisionBox(is,Sn,ur,Tt,Gr.predicate)};mi&&mi.box&&mi.box.length&&Wa.verticalIconBox?(Oi=sh(Wa.verticalIconBox),ai=Oi.box.length>0):(Oi=sh(Wa.iconBox),ai=Oi.box.length>0),si=si&&Oi.offscreen}var lh=Hr||Na.numHorizontalGlyphVertices===0&&Na.numVerticalGlyphVertices===0,ld=Qr||Na.numIconVertices===0;if(!lh&&!ld?ai=Sa=ai&&Sa:ld?lh||(ai=ai&&Sa):Sa=ai&&Sa,Sa&&Ba&&Ba.box&&(mi&&mi.box&&ks?pe.collisionIndex.insertCollisionBox(Ba.box,st.get("text-ignore-placement"),We.bucketInstanceId,ks,Gr.ID):pe.collisionIndex.insertCollisionBox(Ba.box,st.get("text-ignore-placement"),We.bucketInstanceId,$i,Gr.ID)),ai&&Oi&&pe.collisionIndex.insertCollisionBox(Oi.box,st.get("icon-ignore-placement"),We.bucketInstanceId,zs,Gr.ID),ja&&(Sa&&pe.collisionIndex.insertCollisionCircles(ja.circles,st.get("text-ignore-placement"),We.bucketInstanceId,$i,Gr.ID),te)){var uh=We.bucketInstanceId,jf=pe.collisionCircleArrays[uh];jf===void 0&&(jf=pe.collisionCircleArrays[uh]=new Hn);for(var Kf=0;Kf<ja.circles.length;Kf+=4)jf.circles.push(ja.circles[Kf+0]),jf.circles.push(ja.circles[Kf+1]),jf.circles.push(ja.circles[Kf+2]),jf.circles.push(ja.collisionDetected?1:0)}pe.placements[Na.crossTileID]=new Cn(Sa||qn,ai||ua,si||We.justReloaded),de[Na.crossTileID]=!0}};if(Yn)for(var va=We.getSortedSymbolIndexes(this.transform.angle),ma=va.length-1;ma>=0;--ma){var Pa=va[ma];la(We.symbolInstances.get(Pa),We.collisionArrays[Pa])}else for(var Oa=Z.symbolInstanceStart;Oa<Z.symbolInstanceEnd;Oa++)la(We.symbolInstances.get(Oa),We.collisionArrays[Oa]);if(te&&We.bucketInstanceId in this.collisionCircleArrays){var ni=this.collisionCircleArrays[We.bucketInstanceId];n.invert(ni.invProjMatrix,Tt),ni.viewportMatrix=this.collisionIndex.getViewportMatrix()}We.justReloaded=!1},Tr.prototype.markUsedJustification=function(Z,de,te,pe){var Re={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},We;pe===n.WritingMode.vertical?We=te.verticalPlacedTextSymbolIndex:We=Re[n.getAnchorJustification(de)];for(var st=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Tt=0,Bt=st;Tt<Bt.length;Tt+=1){var Jt=Bt[Tt];Jt>=0&&(We>=0&&Jt!==We?Z.text.placedSymbolArray.get(Jt).crossTileID=0:Z.text.placedSymbolArray.get(Jt).crossTileID=te.crossTileID)}},Tr.prototype.markUsedOrientation=function(Z,de,te){for(var pe=de===n.WritingMode.horizontal||de===n.WritingMode.horizontalOnly?de:0,Re=de===n.WritingMode.vertical?de:0,We=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],st=0,Tt=We;st<Tt.length;st+=1){var Bt=Tt[st];Z.text.placedSymbolArray.get(Bt).placedOrientation=pe}te.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=Re)},Tr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,te=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(Z):1,Re=de?de.opacities:{},We=de?de.variableOffsets:{},st=de?de.placedOrientations:{};for(var Tt in this.placements){var Bt=this.placements[Tt],Jt=Re[Tt];Jt?(this.opacities[Tt]=new En(Jt,pe,Bt.text,Bt.icon),te=te||Bt.text!==Jt.text.placed||Bt.icon!==Jt.icon.placed):(this.opacities[Tt]=new En(null,pe,Bt.text,Bt.icon,Bt.skipFade),te=te||Bt.text||Bt.icon)}for(var ur in Re){var mr=Re[ur];if(!this.opacities[ur]){var Ir=new En(mr,pe,!1,!1);Ir.isHidden()||(this.opacities[ur]=Ir,te=te||mr.text.placed||mr.icon.placed)}}for(var Vr in We)!this.variableOffsets[Vr]&&this.opacities[Vr]&&!this.opacities[Vr].isHidden()&&(this.variableOffsets[Vr]=We[Vr]);for(var Gr in st)!this.placedOrientations[Gr]&&this.opacities[Gr]&&!this.opacities[Gr].isHidden()&&(this.placedOrientations[Gr]=st[Gr]);te?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:Z)},Tr.prototype.updateLayerOpacities=function(Z,de){for(var te={},pe=0,Re=de;pe<Re.length;pe+=1){var We=Re[pe],st=We.getBucket(Z);st&&We.latestFeatureIndex&&Z.id===st.layerIds[0]&&this.updateBucketOpacities(st,te,We.collisionBoxArray)}},Tr.prototype.updateBucketOpacities=function(Z,de,te){var pe=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Re=Z.layers[0].layout,We=new En(null,0,!1,!1,!0),st=Re.get("text-allow-overlap"),Tt=Re.get("icon-allow-overlap"),Bt=Re.get("text-variable-anchor"),Jt=Re.get("text-rotation-alignment")==="map",ur=Re.get("text-pitch-alignment")==="map",mr=Re.get("icon-text-fit")!=="none",Ir=new En(null,0,st&&(Tt||!Z.hasIconData()||Re.get("icon-optional")),Tt&&(st||!Z.hasTextData()||Re.get("text-optional")),!0);!Z.collisionArrays&&te&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(te);for(var Vr=function(on,Sn,kn){for(var Wn=0;Wn<Sn/4;Wn++)on.opacityVertexArray.emplaceBack(kn)},Gr=function(on){var Sn=Z.symbolInstances.get(on),kn=Sn.numHorizontalGlyphVertices,Wn=Sn.numVerticalGlyphVertices,Zn=Sn.crossTileID,Yn=de[Zn],qn=pe.opacities[Zn];Yn?qn=We:qn||(qn=Ir,pe.opacities[Zn]=qn),de[Zn]=!0;var ua=kn>0||Wn>0,la=Sn.numIconVertices>0,va=pe.placedOrientations[Sn.crossTileID],ma=va===n.WritingMode.vertical,Pa=va===n.WritingMode.horizontal||va===n.WritingMode.horizontalOnly;if(ua){var Oa=_r(qn.text),ni=ma?hn:Oa;Vr(Z.text,kn,ni);var Na=Pa?hn:Oa;Vr(Z.text,Wn,Na);var Wa=qn.text.isHidden();[Sn.rightJustifiedTextSymbolIndex,Sn.centerJustifiedTextSymbolIndex,Sn.leftJustifiedTextSymbolIndex].forEach(function(zs){zs>=0&&(Z.text.placedSymbolArray.get(zs).hidden=Wa||ma?1:0)}),Sn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Sn.verticalPlacedTextSymbolIndex).hidden=Wa||Pa?1:0);var Sa=pe.variableOffsets[Sn.crossTileID];Sa&&pe.markUsedJustification(Z,Sa.anchor,Sn,va);var ai=pe.placedOrientations[Sn.crossTileID];ai&&(pe.markUsedJustification(Z,"left",Sn,ai),pe.markUsedOrientation(Z,ai,Sn))}if(la){var si=_r(qn.icon),ui=!(mr&&Sn.verticalPlacedIconSymbolIndex&&ma);if(Sn.placedIconSymbolIndex>=0){var Za=ui?si:hn;Vr(Z.icon,Sn.numIconVertices,Za),Z.icon.placedSymbolArray.get(Sn.placedIconSymbolIndex).hidden=qn.icon.isHidden()}if(Sn.verticalPlacedIconSymbolIndex>=0){var mi=ui?hn:si;Vr(Z.icon,Sn.numVerticalIconVertices,mi),Z.icon.placedSymbolArray.get(Sn.verticalPlacedIconSymbolIndex).hidden=qn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Ba=Z.collisionArrays[on];if(Ba){var ja=new n.Point(0,0);if(Ba.textBox||Ba.verticalTextBox){var Oi=!0;if(Bt){var $i=pe.variableOffsets[Zn];$i?(ja=Va($i.anchor,$i.width,$i.height,$i.textOffset,$i.textBoxScale),Jt&&ja._rotate(ur?pe.transform.angle:-pe.transform.angle)):Oi=!1}Ba.textBox&&nn(Z.textCollisionBox.collisionVertexArray,qn.text.placed,!Oi||ma,ja.x,ja.y),Ba.verticalTextBox&&nn(Z.textCollisionBox.collisionVertexArray,qn.text.placed,!Oi||Pa,ja.x,ja.y)}var ks=!!(!Pa&&Ba.verticalIconBox);Ba.iconBox&&nn(Z.iconCollisionBox.collisionVertexArray,qn.icon.placed,ks,mr?ja.x:0,mr?ja.y:0),Ba.verticalIconBox&&nn(Z.iconCollisionBox.collisionVertexArray,qn.icon.placed,!ks,mr?ja.x:0,mr?ja.y:0)}}},Hr=0;Hr<Z.symbolInstances.length;Hr++)Gr(Hr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Qr.invProjMatrix,Z.placementViewportMatrix=Qr.viewportMatrix,Z.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Tr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Tr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Tr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Tr.prototype.stillRecent=function(Z,de){var te=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*te>Z},Tr.prototype.setStale=function(){this.stale=!0};function nn(fe,Z,de,te,pe){fe.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),fe.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),fe.emplaceBack(Z?1:0,de?1:0,te||0,pe||0),fe.emplaceBack(Z?1:0,de?1:0,te||0,pe||0)}var fn=Math.pow(2,25),cn=Math.pow(2,24),Ln=Math.pow(2,17),Tn=Math.pow(2,16),un=Math.pow(2,9),Pr=Math.pow(2,8),Er=Math.pow(2,1);function _r(fe){if(fe.opacity===0&&!fe.placed)return 0;if(fe.opacity===1&&fe.placed)return 4294967295;var Z=fe.placed?1:0,de=Math.floor(fe.opacity*127);return de*fn+Z*cn+de*Ln+Z*Tn+de*un+Z*Pr+de*Er+Z}var hn=0,Fn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Fn.prototype.continuePlacement=function(Z,de,te,pe,Re){for(var We=this._bucketParts;this._currentTileIndex<Z.length;){var st=Z[this._currentTileIndex];if(de.getBucketParts(We,pe,st,this._sortAcrossTiles),this._currentTileIndex++,Re())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,We.sort(function(Bt,Jt){return Bt.sortKey-Jt.sortKey}));this._currentPartIndex<We.length;){var Tt=We[this._currentPartIndex];if(de.placeLayerBucketPart(Tt,this._seenCrossTileIDs,te),this._currentPartIndex++,Re())return!0}return!1};var Gn=function(Z,de,te,pe,Re,We,st){this.placement=new Tr(Z,Re,We,st),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=pe,this._done=!1};Gn.prototype.isDone=function(){return this._done},Gn.prototype.continuePlacement=function(Z,de,te){for(var pe=this,Re=n.browser.now(),We=function(){var ur=n.browser.now()-Re;return pe._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var st=Z[this._currentPlacementIndex],Tt=de[st],Bt=this.placement.collisionIndex.transform.zoom;if(Tt.type==="symbol"&&(!Tt.minzoom||Tt.minzoom<=Bt)&&(!Tt.maxzoom||Tt.maxzoom>Bt)){this._inProgressLayer||(this._inProgressLayer=new Fn(Tt));var Jt=this._inProgressLayer.continuePlacement(te[Tt.source],this.placement,this._showCollisionBoxes,Tt,We);if(Jt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Gn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var dn=512/n.EXTENT/2,zn=function(Z,de,te){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var pe=0;pe<de.length;pe++){var Re=de.get(pe),We=Re.key;this.indexedSymbolInstances[We]||(this.indexedSymbolInstances[We]=[]),this.indexedSymbolInstances[We].push({crossTileID:Re.crossTileID,coord:this.getScaledCoordinates(Re,Z)})}};zn.prototype.getScaledCoordinates=function(Z,de){var te=de.canonical.z-this.tileID.canonical.z,pe=dn/Math.pow(2,te);return{x:Math.floor((de.canonical.x*n.EXTENT+Z.anchorX)*pe),y:Math.floor((de.canonical.y*n.EXTENT+Z.anchorY)*pe)}},zn.prototype.findMatches=function(Z,de,te){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),Re=0;Re<Z.length;Re++){var We=Z.get(Re);if(!We.crossTileID){var st=this.indexedSymbolInstances[We.key];if(st)for(var Tt=this.getScaledCoordinates(We,de),Bt=0,Jt=st;Bt<Jt.length;Bt+=1){var ur=Jt[Bt];if(Math.abs(ur.coord.x-Tt.x)<=pe&&Math.abs(ur.coord.y-Tt.y)<=pe&&!te[ur.crossTileID]){te[ur.crossTileID]=!0,We.crossTileID=ur.crossTileID;break}}}}};var Qn=function(){this.maxCrossTileID=0};Qn.prototype.generate=function(){return++this.maxCrossTileID};var sa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};sa.prototype.handleWrapJump=function(Z){var de=Math.round((Z-this.lng)/360);if(de!==0)for(var te in this.indexes){var pe=this.indexes[te],Re={};for(var We in pe){var st=pe[We];st.tileID=st.tileID.unwrapTo(st.tileID.wrap+de),Re[st.tileID.key]=st}this.indexes[te]=Re}this.lng=Z},sa.prototype.addBucket=function(Z,de,te){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var Re=de.symbolInstances.get(pe);Re.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var We=this.usedCrossTileIDs[Z.overscaledZ];for(var st in this.indexes){var Tt=this.indexes[st];if(Number(st)>Z.overscaledZ)for(var Bt in Tt){var Jt=Tt[Bt];Jt.tileID.isChildOf(Z)&&Jt.findMatches(de.symbolInstances,Z,We)}else{var ur=Z.scaledTo(Number(st)),mr=Tt[ur.key];mr&&mr.findMatches(de.symbolInstances,Z,We)}}for(var Ir=0;Ir<de.symbolInstances.length;Ir++){var Vr=de.symbolInstances.get(Ir);Vr.crossTileID||(Vr.crossTileID=te.generate(),We[Vr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new zn(Z,de.symbolInstances,de.bucketInstanceId),!0},sa.prototype.removeBucketCrossTileIDs=function(Z,de){for(var te in de.indexedSymbolInstances)for(var pe=0,Re=de.indexedSymbolInstances[te];pe<Re.length;pe+=1){var We=Re[pe];delete this.usedCrossTileIDs[Z][We.crossTileID]}},sa.prototype.removeStaleBuckets=function(Z){var de=!1;for(var te in this.indexes){var pe=this.indexes[te];for(var Re in pe)Z[pe[Re].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,pe[Re]),delete pe[Re],de=!0)}return de};var aa=function(){this.layerIndexes={},this.crossTileIDs=new Qn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};aa.prototype.addLayer=function(Z,de,te){var pe=this.layerIndexes[Z.id];pe===void 0&&(pe=this.layerIndexes[Z.id]=new sa);var Re=!1,We={};pe.handleWrapJump(te);for(var st=0,Tt=de;st<Tt.length;st+=1){var Bt=Tt[st],Jt=Bt.getBucket(Z);!Jt||Z.id!==Jt.layerIds[0]||(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Bt.tileID,Jt,this.crossTileIDs)&&(Re=!0),We[Jt.bucketInstanceId]=!0)}return pe.removeStaleBuckets(We)&&(Re=!0),Re},aa.prototype.pruneUnusedLayers=function(Z){var de={};Z.forEach(function(pe){de[pe]=!0});for(var te in this.layerIndexes)de[te]||delete this.layerIndexes[te]};var ia=function(fe,Z){return n.emitValidationErrors(fe,Z&&Z.filter(function(de){return de.identifier!=="source.canvas"}))},ha=n.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Wi=n.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ao=rr(),uo=function(fe){function Z(de,te){var pe=this;te===void 0&&(te={}),fe.call(this),this.map=de,this.dispatcher=new _(Ft(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new S(de._requestManager,te.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new aa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var Re=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(We){var st={pluginStatus:We.pluginStatus,pluginURL:We.pluginURL};Re.dispatcher.broadcast("syncRTLPluginState",st,function(Tt,Bt){if(n.triggerPluginCompletionEvent(Tt),Bt){var Jt=Bt.every(function(mr){return mr});if(Jt)for(var ur in Re.sourceCaches)Re.sourceCaches[ur].reload()}})}),this.on("data",function(We){if(!(We.dataType!=="source"||We.sourceDataType!=="metadata")){var st=pe.sourceCaches[We.sourceId];if(st){var Tt=st.getSource();if(!(!Tt||!Tt.vectorLayerIds))for(var Bt in pe._layers){var Jt=pe._layers[Bt];Jt.source===Tt.id&&pe._validateLayer(Jt)}}}})}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(te,pe){var Re=this;pe===void 0&&(pe={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var We=typeof pe.validate=="boolean"?pe.validate:!n.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,pe.accessToken);var st=this.map._requestManager.transformRequest(te,n.ResourceType.Style);this._request=n.getJSON(st,function(Tt,Bt){Re._request=null,Tt?Re.fire(new n.ErrorEvent(Tt)):Bt&&Re._load(Bt,We)})},Z.prototype.loadJSON=function(te,pe){var Re=this;pe===void 0&&(pe={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){Re._request=null,Re._load(te,pe.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(ao,!1)},Z.prototype._load=function(te,pe){if(!(pe&&ia(this,n.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var Re in te.sources)this.addSource(Re,te.sources[Re],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var We=sr(this.stylesheet.layers);this._order=We.map(function(Jt){return Jt.id}),this._layers={},this._serializedLayers={};for(var st=0,Tt=We;st<Tt.length;st+=1){var Bt=Tt[st];Bt=n.createStyleLayer(Bt),Bt.setEventedParent(this,{layer:{id:Bt.id}}),this._layers[Bt.id]=Bt,this._serializedLayers[Bt.id]=Bt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},Z.prototype._loadSprite=function(te){var pe=this;this._spriteRequest=u(te,this.map._requestManager,function(Re,We){if(pe._spriteRequest=null,Re)pe.fire(new n.ErrorEvent(Re));else if(We)for(var st in We)pe.imageManager.addImage(st,We[st]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new n.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(te){var pe=this.sourceCaches[te.source];if(pe){var Re=te.sourceLayer;if(Re){var We=pe.getSource();(We.type==="geojson"||We.vectorLayerIds&&We.vectorLayerIds.indexOf(Re)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+Re+'" does not exist on source "'+We.id+'" as specified by style layer "'+te.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(te){for(var pe=[],Re=0,We=te;Re<We.length;Re+=1){var st=We[Re],Tt=this._layers[st];Tt.type!=="custom"&&pe.push(Tt.serialize())}return pe},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(te){if(this._loaded){var pe=this._changed;if(this._changed){var Re=Object.keys(this._updatedLayers),We=Object.keys(this._removedLayers);(Re.length||We.length)&&this._updateWorkerLayers(Re,We);for(var st in this._updatedSources){var Tt=this._updatedSources[st];Tt==="reload"?this._reloadSource(st):Tt==="clear"&&this._clearSource(st)}this._updateTilesForChangedImages();for(var Bt in this._updatedPaintProps)this._layers[Bt].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}for(var Jt in this.sourceCaches)this.sourceCaches[Jt].used=!1;for(var ur=0,mr=this._order;ur<mr.length;ur+=1){var Ir=mr[ur],Vr=this._layers[Ir];Vr.recalculate(te,this._availableImages),!Vr.isHidden(te.zoom)&&Vr.source&&(this.sourceCaches[Vr.source].used=!0)}this.light.recalculate(te),this.z=te.zoom,pe&&this.fire(new n.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(te,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:pe})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(te){var pe=this;if(this._checkLoaded(),ia(this,n.validateStyle(te)))return!1;te=n.clone$1(te),te.layers=sr(te.layers);var Re=Dn(this.serialize(),te).filter(function(st){return!(st.command in Wi)});if(Re.length===0)return!1;var We=Re.filter(function(st){return!(st.command in ha)});if(We.length>0)throw new Error("Unimplemented: "+We.map(function(st){return st.command}).join(", ")+".");return Re.forEach(function(st){st.command!=="setTransition"&&pe[st.command].apply(pe,st.args)}),this.stylesheet=te,!0},Z.prototype.addImage=function(te,pe){if(this.getImage(te))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,pe),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},Z.prototype.updateImage=function(te,pe){this.imageManager.updateImage(te,pe)},Z.prototype.getImage=function(te){return this.imageManager.getImage(te)},Z.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(te,pe,Re){var We=this;if(Re===void 0&&(Re={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(pe).join(", ")+".");var st=["vector","raster","geojson","video","image"],Tt=st.indexOf(pe.type)>=0;if(!(Tt&&this._validate(n.validateStyle.source,"sources."+te,pe,null,Re))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Bt=this.sourceCaches[te]=new Ot(te,pe,this.dispatcher);Bt.style=this,Bt.setEventedParent(this,function(){return{isSourceLoaded:We.loaded(),source:Bt.serialize(),sourceId:te}}),Bt.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===te)return this.fire(new n.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+pe+'" is using it.')));var Re=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],Re.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),Re.setEventedParent(null),Re.clearTiles(),Re.onRemove&&Re.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(te,pe){this._checkLoaded();var Re=this.sourceCaches[te].getSource();Re.setData(pe),this._changed=!0},Z.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},Z.prototype.addLayer=function(te,pe,Re){Re===void 0&&(Re={}),this._checkLoaded();var We=te.id;if(this.getLayer(We)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+We+'" already exists on this map')));return}var st;if(te.type==="custom"){if(ia(this,n.validateCustomStyleLayer(te)))return;st=n.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(We,te.source),te=n.clone$1(te),te=n.extend(te,{source:We})),this._validate(n.validateStyle.layer,"layers."+We,te,{arrayIndex:-1},Re))return;st=n.createStyleLayer(te),this._validateLayer(st),st.setEventedParent(this,{layer:{id:We}}),this._serializedLayers[st.id]=st.serialize()}var Tt=pe?this._order.indexOf(pe):this._order.length;if(pe&&Tt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(Tt,0,We),this._layerOrderChanged=!0,this._layers[We]=st,this._removedLayers[We]&&st.source&&st.type!=="custom"){var Bt=this._removedLayers[We];delete this._removedLayers[We],Bt.type!==st.type?this._updatedSources[st.source]="clear":(this._updatedSources[st.source]="reload",this.sourceCaches[st.source].pause())}this._updateLayer(st),st.onAdd&&st.onAdd(this.map)},Z.prototype.moveLayer=function(te,pe){this._checkLoaded(),this._changed=!0;var Re=this._layers[te];if(!Re){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==pe){var We=this._order.indexOf(te);this._order.splice(We,1);var st=pe?this._order.indexOf(pe):this._order.length;if(pe&&st===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(st,0,te),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(te){this._checkLoaded();var pe=this._layers[te];if(!pe){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var Re=this._order.indexOf(te);this._order.splice(Re,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=pe,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],pe.onRemove&&pe.onRemove(this.map)},Z.prototype.getLayer=function(te){return this._layers[te]},Z.prototype.hasLayer=function(te){return te in this._layers},Z.prototype.setLayerZoomRange=function(te,pe,Re){this._checkLoaded();var We=this.getLayer(te);if(!We){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}We.minzoom===pe&&We.maxzoom===Re||(pe!=null&&(We.minzoom=pe),Re!=null&&(We.maxzoom=Re),this._updateLayer(We))},Z.prototype.setFilter=function(te,pe,Re){Re===void 0&&(Re={}),this._checkLoaded();var We=this.getLayer(te);if(!We){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(We.filter,pe)){if(pe==null){We.filter=void 0,this._updateLayer(We);return}this._validate(n.validateStyle.filter,"layers."+We.id+".filter",pe,null,Re)||(We.filter=n.clone$1(pe),this._updateLayer(We))}},Z.prototype.getFilter=function(te){return n.clone$1(this.getLayer(te).filter)},Z.prototype.setLayoutProperty=function(te,pe,Re,We){We===void 0&&(We={}),this._checkLoaded();var st=this.getLayer(te);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(st.getLayoutProperty(pe),Re)||(st.setLayoutProperty(pe,Re,We),this._updateLayer(st))},Z.prototype.getLayoutProperty=function(te,pe){var Re=this.getLayer(te);if(!Re){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return Re.getLayoutProperty(pe)},Z.prototype.setPaintProperty=function(te,pe,Re,We){We===void 0&&(We={}),this._checkLoaded();var st=this.getLayer(te);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(st.getPaintProperty(pe),Re)){var Tt=st.setPaintProperty(pe,Re,We);Tt&&this._updateLayer(st),this._changed=!0,this._updatedPaintProps[te]=!0}},Z.prototype.getPaintProperty=function(te,pe){return this.getLayer(te).getPaintProperty(pe)},Z.prototype.setFeatureState=function(te,pe){this._checkLoaded();var Re=te.source,We=te.sourceLayer,st=this.sourceCaches[Re];if(st===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Re+"' does not exist in the map's style.")));return}var Tt=st.getSource().type;if(Tt==="geojson"&&We){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Tt==="vector"&&!We){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),st.setFeatureState(We,te.id,pe)},Z.prototype.removeFeatureState=function(te,pe){this._checkLoaded();var Re=te.source,We=this.sourceCaches[Re];if(We===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Re+"' does not exist in the map's style.")));return}var st=We.getSource().type,Tt=st==="vector"?te.sourceLayer:void 0;if(st==="vector"&&!Tt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}We.removeFeatureState(Tt,te.id,pe)},Z.prototype.getFeatureState=function(te){this._checkLoaded();var pe=te.source,Re=te.sourceLayer,We=this.sourceCaches[pe];if(We===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var st=We.getSource().type;if(st==="vector"&&!Re){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),We.getFeatureState(Re,te.id)},Z.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},Z.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(te){for(var pe=this,Re=function(Pa){return pe._layers[Pa].type==="fill-extrusion"},We={},st=[],Tt=this._order.length-1;Tt>=0;Tt--){var Bt=this._order[Tt];if(Re(Bt)){We[Bt]=Tt;for(var Jt=0,ur=te;Jt<ur.length;Jt+=1){var mr=ur[Jt],Ir=mr[Bt];if(Ir)for(var Vr=0,Gr=Ir;Vr<Gr.length;Vr+=1){var Hr=Gr[Vr];st.push(Hr)}}}}st.sort(function(Pa,Oa){return Oa.intersectionZ-Pa.intersectionZ});for(var Qr=[],on=this._order.length-1;on>=0;on--){var Sn=this._order[on];if(Re(Sn))for(var kn=st.length-1;kn>=0;kn--){var Wn=st[kn].feature;if(We[Wn.layer.id]<on)break;Qr.push(Wn),st.pop()}else for(var Zn=0,Yn=te;Zn<Yn.length;Zn+=1){var qn=Yn[Zn],ua=qn[Sn];if(ua)for(var la=0,va=ua;la<va.length;la+=1){var ma=va[la];Qr.push(ma.feature)}}}return Qr},Z.prototype.queryRenderedFeatures=function(te,pe,Re){pe&&pe.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var We={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var st=0,Tt=pe.layers;st<Tt.length;st+=1){var Bt=Tt[st],Jt=this._layers[Bt];if(!Jt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Bt+"' does not exist in the map's style and cannot be queried for features."))),[];We[Jt.source]=!0}}var ur=[];pe.availableImages=this._availableImages;for(var mr in this.sourceCaches)pe.layers&&!We[mr]||ur.push(K(this.sourceCaches[mr],this._layers,this._serializedLayers,te,pe,Re));return this.placement&&ur.push(q(this._layers,this._serializedLayers,this.sourceCaches,te,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},Z.prototype.querySourceFeatures=function(te,pe){pe&&pe.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var Re=this.sourceCaches[te];return Re?le(Re,pe):[]},Z.prototype.addSourceType=function(te,pe,Re){if(Z.getSourceType(te))return Re(new Error('A source type called "'+te+'" already exists.'));if(Z.setSourceType(te,pe),!pe.workerSourceURL)return Re(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:pe.workerSourceURL},Re)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(te,pe){pe===void 0&&(pe={}),this._checkLoaded();var Re=this.light.getLight(),We=!1;for(var st in te)if(!n.deepEqual(te[st],Re[st])){We=!0;break}if(We){var Tt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,pe),this.light.updateTransitions(Tt)}},Z.prototype._validate=function(te,pe,Re,We,st){return st===void 0&&(st={}),st&&st.validate===!1?!1:ia(this,te.call(n.validateStyle,n.extend({key:pe,style:this.serialize(),value:Re,styleSpec:n.styleSpec},We)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var pe=this._layers[te];pe.setEventedParent(null)}for(var Re in this.sourceCaches)this.sourceCaches[Re].clearTiles(),this.sourceCaches[Re].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},Z.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},Z.prototype._updateSources=function(te){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(te)},Z.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},Z.prototype._updatePlacement=function(te,pe,Re,We,st){st===void 0&&(st=!1);for(var Tt=!1,Bt=!1,Jt={},ur=0,mr=this._order;ur<mr.length;ur+=1){var Ir=mr[ur],Vr=this._layers[Ir];if(Vr.type==="symbol"){if(!Jt[Vr.source]){var Gr=this.sourceCaches[Vr.source];Jt[Vr.source]=Gr.getRenderableIds(!0).map(function(Zn){return Gr.getTileByID(Zn)}).sort(function(Zn,Yn){return Yn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(Yn.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Vr,Jt[Vr.source],te.center.lng);Tt=Tt||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),st=st||this._layerOrderChanged||Re===0,(st||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),te.zoom))&&(this.pauseablePlacement=new Gn(te,this._order,st,pe,Re,We,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Jt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Bt=!0),Tt&&this.pauseablePlacement.placement.setStale()),Bt||Tt)for(var Qr=0,on=this._order;Qr<on.length;Qr+=1){var Sn=on[Qr],kn=this._layers[Sn];kn.type==="symbol"&&this.placement.updateLayerOpacities(kn,Jt[kn.source])}var Wn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return Wn},Z.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},Z.prototype.getImages=function(te,pe,Re){this.imageManager.getImages(pe.icons,Re),this._updateTilesForChangedImages();var We=this.sourceCaches[pe.source];We&&We.setDependencies(pe.tileID.key,pe.type,pe.icons)},Z.prototype.getGlyphs=function(te,pe,Re){this.glyphManager.getGlyphs(pe.stacks,Re)},Z.prototype.getResource=function(te,pe,Re){return n.makeRequest(pe,Re)},Z}(n.Evented);uo.getSourceType=W,uo.setSourceType=X,uo.registerForPluginStateChange=n.registerForPluginStateChange;var mo=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),fo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Hu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Qa=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Il="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",il=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yi="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",xo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sf=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,_l="void main() {gl_FragColor=vec4(1.0);}",Ci="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Fl=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Eo=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Ui=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Co="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",io="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Io="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Jo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",hs="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Ki="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Ef="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Qo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ji=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Vu=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vs=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,$o=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gu=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Wu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,kl=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,dc=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Yu=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",yc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cf="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",mc=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Zu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gs=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ws=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ol=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,fu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,ds=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lf="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Xu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,wc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,_o=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ys=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,zl=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,qo=fi(fo,Hu),ps=fi(Qa,Il),ju=fi(il,Yi),ll=fi(xo,Sf),Es=fi(_l,Ci),Di=fi(Fl,Eo),Ku=fi(Ui,Co),cu=fi(io,Io),ul=fi(Jo,hs),Pf=fi(Ki,Ef),Rf=fi(Qo,Ji),fl=fi(Vu,vs),cl=fi($o,Gu),Zi=fi(Wu,hc),hu=fi(kl,vc),Tc=fi(dc,pc),Ju=fi(Yu,gc),Ac=fi(yc,Cf),vu=fi(mc,xc),Ol=fi(Zu,Gs),Qu=fi(Ws,ol),$u=fi(fu,bc),Bl=fi(ds,Lf),qu=fi(Xu,wc),du=fi(_o,Ys),ef=fi(zl,sl);function fi(fe,Z){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return fe=fe.replace(de,function(pe,Re,We,st,Tt){return te[Tt]=!0,Re==="define"?`
#ifndef HAS_UNIFORM_u_`+Tt+`
varying `+We+" "+st+" "+Tt+`;
#else
uniform `+We+" "+st+" u_"+Tt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Tt+`
    `+We+" "+st+" "+Tt+" = u_"+Tt+`;
#endif
`}),Z=Z.replace(de,function(pe,Re,We,st,Tt){var Bt=st==="float"?"vec2":"vec4",Jt=Tt.match(/color/)?"color":Bt;return te[Tt]?Re==="define"?`
#ifndef HAS_UNIFORM_u_`+Tt+`
uniform lowp float u_`+Tt+`_t;
attribute `+We+" "+Bt+" a_"+Tt+`;
varying `+We+" "+st+" "+Tt+`;
#else
uniform `+We+" "+st+" u_"+Tt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Tt+`
    `+Tt+" = a_"+Tt+`;
#else
    `+We+" "+st+" "+Tt+" = u_"+Tt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Tt+`
    `+Tt+" = unpack_mix_"+Jt+"(a_"+Tt+", u_"+Tt+`_t);
#else
    `+We+" "+st+" "+Tt+" = u_"+Tt+`;
#endif
`:Re==="define"?`
#ifndef HAS_UNIFORM_u_`+Tt+`
uniform lowp float u_`+Tt+`_t;
attribute `+We+" "+Bt+" a_"+Tt+`;
#else
uniform `+We+" "+st+" u_"+Tt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Tt+`
    `+We+" "+st+" "+Tt+" = a_"+Tt+`;
#else
    `+We+" "+st+" "+Tt+" = u_"+Tt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Tt+`
    `+We+" "+st+" "+Tt+" = unpack_mix_"+Jt+"(a_"+Tt+", u_"+Tt+`_t);
#else
    `+We+" "+st+" "+Tt+" = u_"+Tt+`;
#endif
`}),{fragmentSource:fe,vertexSource:Z}}var Df=Object.freeze({__proto__:null,prelude:qo,background:ps,backgroundPattern:ju,circle:ll,clippingMask:Es,heatmap:Di,heatmapTexture:Ku,collisionBox:cu,collisionCircle:ul,debug:Pf,fill:Rf,fillOutline:fl,fillOutlinePattern:cl,fillPattern:Zi,fillExtrusion:hu,fillExtrusionPattern:Tc,hillshadePrepare:Ju,hillshade:Ac,line:vu,lineGradient:Ol,linePattern:Qu,lineSDF:$u,raster:Bl,symbolIcon:qu,symbolSDF:du,symbolTextAndIcon:ef}),Uo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Uo.prototype.bind=function(Z,de,te,pe,Re,We,st,Tt){this.context=Z;for(var Bt=this.boundPaintVertexBuffers.length!==pe.length,Jt=0;!Bt&&Jt<pe.length;Jt++)this.boundPaintVertexBuffers[Jt]!==pe[Jt]&&(Bt=!0);var ur=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==te||Bt||this.boundIndexBuffer!==Re||this.boundVertexOffset!==We||this.boundDynamicVertexBuffer!==st||this.boundDynamicVertexBuffer2!==Tt;!Z.extVertexArrayObject||ur?this.freshBind(de,te,pe,Re,We,st,Tt):(Z.bindVertexArrayOES.set(this.vao),st&&st.bind(),Re&&Re.dynamicDraw&&Re.bind(),Tt&&Tt.bind())},Uo.prototype.freshBind=function(Z,de,te,pe,Re,We,st){var Tt,Bt=Z.numAttributes,Jt=this.context,ur=Jt.gl;if(Jt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Jt.extVertexArrayObject.createVertexArrayOES(),Jt.bindVertexArrayOES.set(this.vao),Tt=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=pe,this.boundVertexOffset=Re,this.boundDynamicVertexBuffer=We,this.boundDynamicVertexBuffer2=st;else{Tt=Jt.currentNumAttributes||0;for(var mr=Bt;mr<Tt;mr++)ur.disableVertexAttribArray(mr)}de.enableAttributes(ur,Z);for(var Ir=0,Vr=te;Ir<Vr.length;Ir+=1){var Gr=Vr[Ir];Gr.enableAttributes(ur,Z)}We&&We.enableAttributes(ur,Z),st&&st.enableAttributes(ur,Z),de.bind(),de.setVertexAttribPointers(ur,Z,Re);for(var Hr=0,Qr=te;Hr<Qr.length;Hr+=1){var on=Qr[Hr];on.bind(),on.setVertexAttribPointers(ur,Z,Re)}We&&(We.bind(),We.setVertexAttribPointers(ur,Z,Re)),pe&&pe.bind(),st&&(st.bind(),st.setVertexAttribPointers(ur,Z,Re)),Jt.currentNumAttributes=Bt},Uo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var hl=function(Z,de,te,pe,Re){var We=Z.gl;this.program=We.createProgram();var st=te?te.defines():[];Re&&st.push("#define OVERDRAW_INSPECTOR;");var Tt=st.concat(qo.fragmentSource,de.fragmentSource).join(`
`),Bt=st.concat(qo.vertexSource,de.vertexSource).join(`
`),Jt=We.createShader(We.FRAGMENT_SHADER);if(We.isContextLost()){this.failedToCreate=!0;return}We.shaderSource(Jt,Tt),We.compileShader(Jt),We.attachShader(this.program,Jt);var ur=We.createShader(We.VERTEX_SHADER);if(We.isContextLost()){this.failedToCreate=!0;return}We.shaderSource(ur,Bt),We.compileShader(ur),We.attachShader(this.program,ur);for(var mr=te?te.layoutAttributes:[],Ir=0;Ir<mr.length;Ir++)We.bindAttribLocation(this.program,Ir,mr[Ir].name);We.linkProgram(this.program),We.deleteShader(ur),We.deleteShader(Jt),this.numAttributes=We.getProgramParameter(this.program,We.ACTIVE_ATTRIBUTES),this.attributes={};for(var Vr={},Gr=0;Gr<this.numAttributes;Gr++){var Hr=We.getActiveAttrib(this.program,Gr);Hr&&(this.attributes[Hr.name]=We.getAttribLocation(this.program,Hr.name))}for(var Qr=We.getProgramParameter(this.program,We.ACTIVE_UNIFORMS),on=0;on<Qr;on++){var Sn=We.getActiveUniform(this.program,on);Sn&&(Vr[Sn.name]=We.getUniformLocation(this.program,Sn.name))}this.fixedUniforms=pe(Z,Vr),this.binderUniforms=te?te.getUniforms(Z,Vr):[]};hl.prototype.draw=function(Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur,mr,Ir,Vr,Gr,Hr){var Qr,on=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(te),Z.setStencilMode(pe),Z.setColorMode(Re),Z.setCullFace(We);for(var Sn in this.fixedUniforms)this.fixedUniforms[Sn].set(st[Sn]);Vr&&Vr.setUniforms(Z,this.binderUniforms,mr,{zoom:Ir});for(var kn=(Qr={},Qr[on.LINES]=2,Qr[on.TRIANGLES]=3,Qr[on.LINE_STRIP]=1,Qr)[de],Wn=0,Zn=ur.get();Wn<Zn.length;Wn+=1){var Yn=Zn[Wn],qn=Yn.vaos||(Yn.vaos={}),ua=qn[Tt]||(qn[Tt]=new Uo);ua.bind(Z,this,Bt,Vr?Vr.getPaintVertexBuffers():[],Jt,Yn.vertexOffset,Gr,Hr),on.drawElements(de,Yn.primitiveLength*kn,on.UNSIGNED_SHORT,Yn.primitiveOffset*kn*2)}}};function Zs(fe,Z,de){var te=1/vn(de,1,Z.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),Re=de.tileSize*Math.pow(2,Z.transform.tileZoom)/pe,We=Re*(de.tileID.canonical.x+de.tileID.wrap*pe),st=Re*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[te,fe.fromScale,fe.toScale],u_fade:fe.t,u_pixel_coord_upper:[We>>16,st>>16],u_pixel_coord_lower:[We&65535,st&65535]}}function tf(fe,Z,de,te){var pe=de.imageManager.getPattern(fe.from.toString()),Re=de.imageManager.getPattern(fe.to.toString()),We=de.imageManager.getPixelSize(),st=We.width,Tt=We.height,Bt=Math.pow(2,te.tileID.overscaledZ),Jt=te.tileSize*Math.pow(2,de.transform.tileZoom)/Bt,ur=Jt*(te.tileID.canonical.x+te.tileID.wrap*Bt),mr=Jt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:Re.tl,u_pattern_br_b:Re.br,u_texsize:[st,Tt],u_mix:Z.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:Re.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/vn(te,1,de.transform.tileZoom),u_pixel_coord_upper:[ur>>16,mr>>16],u_pixel_coord_lower:[ur&65535,mr&65535]}}var _i=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_lightpos:new n.Uniform3f(fe,Z.u_lightpos),u_lightintensity:new n.Uniform1f(fe,Z.u_lightintensity),u_lightcolor:new n.Uniform3f(fe,Z.u_lightcolor),u_vertical_gradient:new n.Uniform1f(fe,Z.u_vertical_gradient),u_opacity:new n.Uniform1f(fe,Z.u_opacity)}},Nl=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_lightpos:new n.Uniform3f(fe,Z.u_lightpos),u_lightintensity:new n.Uniform1f(fe,Z.u_lightintensity),u_lightcolor:new n.Uniform3f(fe,Z.u_lightcolor),u_vertical_gradient:new n.Uniform1f(fe,Z.u_vertical_gradient),u_height_factor:new n.Uniform1f(fe,Z.u_height_factor),u_image:new n.Uniform1i(fe,Z.u_image),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_pixel_coord_upper:new n.Uniform2f(fe,Z.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(fe,Z.u_pixel_coord_lower),u_scale:new n.Uniform3f(fe,Z.u_scale),u_fade:new n.Uniform1f(fe,Z.u_fade),u_opacity:new n.Uniform1f(fe,Z.u_opacity)}},bo=function(fe,Z,de,te){var pe=Z.style.light,Re=pe.properties.get("position"),We=[Re.x,Re.y,Re.z],st=n.create$1();pe.properties.get("anchor")==="viewport"&&n.fromRotation(st,-Z.transform.angle),n.transformMat3(We,We,st);var Tt=pe.properties.get("color");return{u_matrix:fe,u_lightpos:We,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[Tt.r,Tt.g,Tt.b],u_vertical_gradient:+de,u_opacity:te}},gs=function(fe,Z,de,te,pe,Re,We){return n.extend(bo(fe,Z,de,te),Zs(Re,Z,We),{u_height_factor:-Math.pow(2,pe.overscaledZ)/We.tileSize/8})},ys=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix)}},Cs=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_image:new n.Uniform1i(fe,Z.u_image),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_pixel_coord_upper:new n.Uniform2f(fe,Z.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(fe,Z.u_pixel_coord_lower),u_scale:new n.Uniform3f(fe,Z.u_scale),u_fade:new n.Uniform1f(fe,Z.u_fade)}},Ls=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_world:new n.Uniform2f(fe,Z.u_world)}},Ps=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_world:new n.Uniform2f(fe,Z.u_world),u_image:new n.Uniform1i(fe,Z.u_image),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_pixel_coord_upper:new n.Uniform2f(fe,Z.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(fe,Z.u_pixel_coord_lower),u_scale:new n.Uniform3f(fe,Z.u_scale),u_fade:new n.Uniform1f(fe,Z.u_fade)}},Ho=function(fe){return{u_matrix:fe}},es=function(fe,Z,de,te){return n.extend(Ho(fe),Zs(de,Z,te))},Ul=function(fe,Z){return{u_matrix:fe,u_world:Z}},Hl=function(fe,Z,de,te,pe){return n.extend(es(fe,Z,de,te),{u_world:pe})},pu=function(fe,Z){return{u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(fe,Z.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(fe,Z.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(fe,Z.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix)}},Mc=function(fe,Z,de,te){var pe=fe.transform,Re,We;if(te.paint.get("circle-pitch-alignment")==="map"){var st=vn(de,1,pe.zoom);Re=!0,We=[st,st]}else Re=!1,We=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:fe.translatePosMatrix(Z.posMatrix,de,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+Re,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:We}},Sc=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(fe,Z.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(fe,Z.u_extrude_scale),u_overscale_factor:new n.Uniform1f(fe,Z.u_overscale_factor)}},Ec=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_inv_matrix:new n.UniformMatrix4f(fe,Z.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(fe,Z.u_viewport_size)}},Cc=function(fe,Z,de){var te=vn(de,1,Z.zoom),pe=Math.pow(2,Z.zoom-de.tileID.overscaledZ),Re=de.tileID.overscaleFactor();return{u_matrix:fe,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[Z.pixelsToGLUnits[0]/(te*pe),Z.pixelsToGLUnits[1]/(te*pe)],u_overscale_factor:Re}},gu=function(fe,Z,de){return{u_matrix:fe,u_inv_matrix:Z,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},If=function(fe,Z){return{u_color:new n.UniformColor(fe,Z.u_color),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_overlay:new n.Uniform1i(fe,Z.u_overlay),u_overlay_scale:new n.Uniform1f(fe,Z.u_overlay_scale)}},vl=function(fe,Z,de){return de===void 0&&(de=1),{u_matrix:fe,u_color:Z,u_overlay:0,u_overlay_scale:de}},Qi=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix)}},wo=function(fe){return{u_matrix:fe}},Vl=function(fe,Z){return{u_extrude_scale:new n.Uniform1f(fe,Z.u_extrude_scale),u_intensity:new n.Uniform1f(fe,Z.u_intensity),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix)}},Xs=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_world:new n.Uniform2f(fe,Z.u_world),u_image:new n.Uniform1i(fe,Z.u_image),u_color_ramp:new n.Uniform1i(fe,Z.u_color_ramp),u_opacity:new n.Uniform1f(fe,Z.u_opacity)}},Gl=function(fe,Z,de,te){return{u_matrix:fe,u_extrude_scale:vn(Z,1,de),u_intensity:te}},yu=function(fe,Z,de,te){var pe=n.create();n.ortho(pe,0,fe.width,fe.height,0,0,1);var Re=fe.context.gl;return{u_matrix:pe,u_world:[Re.drawingBufferWidth,Re.drawingBufferHeight],u_image:de,u_color_ramp:te,u_opacity:Z.paint.get("heatmap-opacity")}},Lc=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_image:new n.Uniform1i(fe,Z.u_image),u_latrange:new n.Uniform2f(fe,Z.u_latrange),u_light:new n.Uniform2f(fe,Z.u_light),u_shadow:new n.UniformColor(fe,Z.u_shadow),u_highlight:new n.UniformColor(fe,Z.u_highlight),u_accent:new n.UniformColor(fe,Z.u_accent)}},_f=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_image:new n.Uniform1i(fe,Z.u_image),u_dimension:new n.Uniform2f(fe,Z.u_dimension),u_zoom:new n.Uniform1f(fe,Z.u_zoom),u_maxzoom:new n.Uniform1f(fe,Z.u_maxzoom),u_unpack:new n.Uniform4f(fe,Z.u_unpack)}},Ff=function(fe,Z,de){var te=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),Re=de.paint.get("hillshade-accent-color"),We=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(We-=fe.transform.angle);var st=!fe.options.moving;return{u_matrix:fe.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),st),u_image:0,u_latrange:Rs(fe,Z.tileID),u_light:[de.paint.get("hillshade-exaggeration"),We],u_shadow:te,u_highlight:pe,u_accent:Re}},rf=function(fe,Z,de){var te=Z.stride,pe=n.create();return n.ortho(pe,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(pe,pe,[0,-n.EXTENT,0]),{u_matrix:pe,u_image:1,u_dimension:[te,te],u_zoom:fe.overscaledZ,u_maxzoom:de,u_unpack:Z.getUnpackVector()}};function Rs(fe,Z){var de=Math.pow(2,Z.canonical.z),te=Z.canonical.y;return[new n.MercatorCoordinate(0,te/de).toLngLat().lat,new n.MercatorCoordinate(0,(te+1)/de).toLngLat().lat]}var Fi=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_ratio:new n.Uniform1f(fe,Z.u_ratio),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(fe,Z.u_units_to_pixels)}},ts=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_ratio:new n.Uniform1f(fe,Z.u_ratio),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(fe,Z.u_units_to_pixels),u_image:new n.Uniform1i(fe,Z.u_image)}},nf=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_ratio:new n.Uniform1f(fe,Z.u_ratio),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_image:new n.Uniform1i(fe,Z.u_image),u_units_to_pixels:new n.Uniform2f(fe,Z.u_units_to_pixels),u_scale:new n.Uniform3f(fe,Z.u_scale),u_fade:new n.Uniform1f(fe,Z.u_fade)}},kf=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_ratio:new n.Uniform1f(fe,Z.u_ratio),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(fe,Z.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(fe,Z.u_patternscale_a),u_patternscale_b:new n.Uniform2f(fe,Z.u_patternscale_b),u_sdfgamma:new n.Uniform1f(fe,Z.u_sdfgamma),u_image:new n.Uniform1i(fe,Z.u_image),u_tex_y_a:new n.Uniform1f(fe,Z.u_tex_y_a),u_tex_y_b:new n.Uniform1f(fe,Z.u_tex_y_b),u_mix:new n.Uniform1f(fe,Z.u_mix)}},js=function(fe,Z,de){var te=fe.transform;return{u_matrix:xs(fe,Z,de),u_ratio:1/vn(Z,1,te.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},mu=function(fe,Z,de){return n.extend(js(fe,Z,de),{u_image:0})},Vo=function(fe,Z,de,te){var pe=fe.transform,Re=ms(Z,pe);return{u_matrix:xs(fe,Z,de),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/vn(Z,1,pe.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[Re,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},xu=function(fe,Z,de,te,pe){var Re=fe.transform,We=fe.lineAtlas,st=ms(Z,Re),Tt=de.layout.get("line-cap")==="round",Bt=We.getDash(te.from,Tt),Jt=We.getDash(te.to,Tt),ur=Bt.width*pe.fromScale,mr=Jt.width*pe.toScale;return n.extend(js(fe,Z,de),{u_patternscale_a:[st/ur,-Bt.height/2],u_patternscale_b:[st/mr,-Jt.height/2],u_sdfgamma:We.width/(Math.min(ur,mr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Bt.y,u_tex_y_b:Jt.y,u_mix:pe.t})};function ms(fe,Z){return 1/vn(fe,1,Z.tileZoom)}function xs(fe,Z,de){return fe.translatePosMatrix(Z.tileID.posMatrix,Z,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var af=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_tl_parent:new n.Uniform2f(fe,Z.u_tl_parent),u_scale_parent:new n.Uniform1f(fe,Z.u_scale_parent),u_buffer_scale:new n.Uniform1f(fe,Z.u_buffer_scale),u_fade_t:new n.Uniform1f(fe,Z.u_fade_t),u_opacity:new n.Uniform1f(fe,Z.u_opacity),u_image0:new n.Uniform1i(fe,Z.u_image0),u_image1:new n.Uniform1i(fe,Z.u_image1),u_brightness_low:new n.Uniform1f(fe,Z.u_brightness_low),u_brightness_high:new n.Uniform1f(fe,Z.u_brightness_high),u_saturation_factor:new n.Uniform1f(fe,Z.u_saturation_factor),u_contrast_factor:new n.Uniform1f(fe,Z.u_contrast_factor),u_spin_weights:new n.Uniform3f(fe,Z.u_spin_weights)}},dl=function(fe,Z,de,te,pe){return{u_matrix:fe,u_tl_parent:Z,u_scale_parent:de,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:bu(pe.paint.get("raster-saturation")),u_contrast_factor:Ks(pe.paint.get("raster-contrast")),u_spin_weights:ii(pe.paint.get("raster-hue-rotate"))}};function ii(fe){fe*=Math.PI/180;var Z=Math.sin(fe),de=Math.cos(fe);return[(2*de+1)/3,(-Math.sqrt(3)*Z-de+1)/3,(Math.sqrt(3)*Z-de+1)/3]}function Ks(fe){return fe>0?1/(1-fe):1+fe}function bu(fe){return fe>0?1-1/(1.001-fe):-fe}var wu=function(fe,Z){return{u_is_size_zoom_constant:new n.Uniform1i(fe,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(fe,Z.u_is_size_feature_constant),u_size_t:new n.Uniform1f(fe,Z.u_size_t),u_size:new n.Uniform1f(fe,Z.u_size),u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_pitch:new n.Uniform1f(fe,Z.u_pitch),u_rotate_symbol:new n.Uniform1i(fe,Z.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(fe,Z.u_aspect_ratio),u_fade_change:new n.Uniform1f(fe,Z.u_fade_change),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(fe,Z.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(fe,Z.u_coord_matrix),u_is_text:new n.Uniform1i(fe,Z.u_is_text),u_pitch_with_map:new n.Uniform1i(fe,Z.u_pitch_with_map),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_texture:new n.Uniform1i(fe,Z.u_texture)}},Ds=function(fe,Z){return{u_is_size_zoom_constant:new n.Uniform1i(fe,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(fe,Z.u_is_size_feature_constant),u_size_t:new n.Uniform1f(fe,Z.u_size_t),u_size:new n.Uniform1f(fe,Z.u_size),u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_pitch:new n.Uniform1f(fe,Z.u_pitch),u_rotate_symbol:new n.Uniform1i(fe,Z.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(fe,Z.u_aspect_ratio),u_fade_change:new n.Uniform1f(fe,Z.u_fade_change),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(fe,Z.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(fe,Z.u_coord_matrix),u_is_text:new n.Uniform1i(fe,Z.u_is_text),u_pitch_with_map:new n.Uniform1i(fe,Z.u_pitch_with_map),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_texture:new n.Uniform1i(fe,Z.u_texture),u_gamma_scale:new n.Uniform1f(fe,Z.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(fe,Z.u_is_halo)}},Pc=function(fe,Z){return{u_is_size_zoom_constant:new n.Uniform1i(fe,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(fe,Z.u_is_size_feature_constant),u_size_t:new n.Uniform1f(fe,Z.u_size_t),u_size:new n.Uniform1f(fe,Z.u_size),u_camera_to_center_distance:new n.Uniform1f(fe,Z.u_camera_to_center_distance),u_pitch:new n.Uniform1f(fe,Z.u_pitch),u_rotate_symbol:new n.Uniform1i(fe,Z.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(fe,Z.u_aspect_ratio),u_fade_change:new n.Uniform1f(fe,Z.u_fade_change),u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(fe,Z.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(fe,Z.u_coord_matrix),u_is_text:new n.Uniform1i(fe,Z.u_is_text),u_pitch_with_map:new n.Uniform1i(fe,Z.u_pitch_with_map),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_texsize_icon:new n.Uniform2f(fe,Z.u_texsize_icon),u_texture:new n.Uniform1i(fe,Z.u_texture),u_texture_icon:new n.Uniform1i(fe,Z.u_texture_icon),u_gamma_scale:new n.Uniform1f(fe,Z.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(fe,Z.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(fe,Z.u_is_halo)}},of=function(fe,Z,de,te,pe,Re,We,st,Tt,Bt){var Jt=pe.transform;return{u_is_size_zoom_constant:+(fe==="constant"||fe==="source"),u_is_size_feature_constant:+(fe==="constant"||fe==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:Jt.cameraToCenterDistance,u_pitch:Jt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:Jt.width/Jt.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:Re,u_label_plane_matrix:We,u_coord_matrix:st,u_is_text:+Tt,u_pitch_with_map:+te,u_texsize:Bt,u_texture:0}},pl=function(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt){var ur=pe.transform;return n.extend(of(fe,Z,de,te,pe,Re,We,st,Tt,Bt),{u_gamma_scale:te?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+Jt})},sf=function(fe,Z,de,te,pe,Re,We,st,Tt,Bt){return n.extend(pl(fe,Z,de,te,pe,Re,We,st,!0,Tt,!0),{u_texsize_icon:Bt,u_texture_icon:1})},zf=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_opacity:new n.Uniform1f(fe,Z.u_opacity),u_color:new n.UniformColor(fe,Z.u_color)}},bs=function(fe,Z){return{u_matrix:new n.UniformMatrix4f(fe,Z.u_matrix),u_opacity:new n.Uniform1f(fe,Z.u_opacity),u_image:new n.Uniform1i(fe,Z.u_image),u_pattern_tl_a:new n.Uniform2f(fe,Z.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(fe,Z.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(fe,Z.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(fe,Z.u_pattern_br_b),u_texsize:new n.Uniform2f(fe,Z.u_texsize),u_mix:new n.Uniform1f(fe,Z.u_mix),u_pattern_size_a:new n.Uniform2f(fe,Z.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(fe,Z.u_pattern_size_b),u_scale_a:new n.Uniform1f(fe,Z.u_scale_a),u_scale_b:new n.Uniform1f(fe,Z.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(fe,Z.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(fe,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(fe,Z.u_tile_units_to_pixels)}},Is=function(fe,Z,de){return{u_matrix:fe,u_opacity:Z,u_color:de}},Js=function(fe,Z,de,te,pe,Re){return n.extend(tf(te,Re,de,pe),{u_matrix:fe,u_opacity:Z})},Qs={fillExtrusion:_i,fillExtrusionPattern:Nl,fill:ys,fillPattern:Cs,fillOutline:Ls,fillOutlinePattern:Ps,circle:pu,collisionBox:Sc,collisionCircle:Ec,debug:If,clippingMask:Qi,heatmap:Vl,heatmapTexture:Xs,hillshade:Lc,hillshadePrepare:_f,line:Fi,lineGradient:ts,linePattern:nf,lineSDF:kf,raster:af,symbolIcon:wu,symbolSDF:Ds,symbolTextAndIcon:Pc,background:zf,backgroundPattern:bs},To;function Lo(fe,Z,de,te,pe,Re,We){for(var st=fe.context,Tt=st.gl,Bt=fe.useProgram("collisionBox"),Jt=[],ur=0,mr=0,Ir=0;Ir<te.length;Ir++){var Vr=te[Ir],Gr=Z.getTile(Vr),Hr=Gr.getBucket(de);if(Hr){var Qr=Vr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Qr=fe.translatePosMatrix(Vr.posMatrix,Gr,pe,Re));var on=We?Hr.textCollisionBox:Hr.iconCollisionBox,Sn=Hr.collisionCircleArray;if(Sn.length>0){var kn=n.create(),Wn=Qr;n.mul(kn,Hr.placementInvProjMatrix,fe.transform.glCoordMatrix),n.mul(kn,kn,Hr.placementViewportMatrix),Jt.push({circleArray:Sn,circleOffset:mr,transform:Wn,invTransform:kn}),ur+=Sn.length/4,mr=ur}on&&Bt.draw(st,Tt.LINES,zr.disabled,Yt.disabled,fe.colorModeForRenderPass(),Dt.disabled,Cc(Qr,fe.transform,Gr),de.id,on.layoutVertexBuffer,on.indexBuffer,on.segments,null,fe.transform.zoom,null,null,on.collisionVertexBuffer)}}if(!(!We||!Jt.length)){var Zn=fe.useProgram("collisionCircle"),Yn=new n.StructArrayLayout2f1f2i16;Yn.resize(ur*4),Yn._trim();for(var qn=0,ua=0,la=Jt;ua<la.length;ua+=1)for(var va=la[ua],ma=0;ma<va.circleArray.length/4;ma++){var Pa=ma*4,Oa=va.circleArray[Pa+0],ni=va.circleArray[Pa+1],Na=va.circleArray[Pa+2],Wa=va.circleArray[Pa+3];Yn.emplace(qn++,Oa,ni,Na,Wa,0),Yn.emplace(qn++,Oa,ni,Na,Wa,1),Yn.emplace(qn++,Oa,ni,Na,Wa,2),Yn.emplace(qn++,Oa,ni,Na,Wa,3)}(!To||To.length<ur*2)&&(To=$s(ur));for(var Sa=st.createIndexBuffer(To,!0),ai=st.createVertexBuffer(Yn,n.collisionCircleLayout.members,!0),si=0,ui=Jt;si<ui.length;si+=1){var Za=ui[si],mi=gu(Za.transform,Za.invTransform,fe.transform);Zn.draw(st,Tt.TRIANGLES,zr.disabled,Yt.disabled,fe.colorModeForRenderPass(),Dt.disabled,mi,de.id,ai,Sa,n.SegmentVector.simpleSegment(0,Za.circleOffset*2,Za.circleArray.length,Za.circleArray.length/2),null,fe.transform.zoom,null,null,null)}ai.destroy(),Sa.destroy()}}function $s(fe){var Z=fe*2,de=new n.StructArrayLayout3ui6;de.resize(Z),de._trim();for(var te=0;te<Z;te++){var pe=te*6;de.uint16[pe+0]=te*4+0,de.uint16[pe+1]=te*4+1,de.uint16[pe+2]=te*4+2,de.uint16[pe+3]=te*4+2,de.uint16[pe+4]=te*4+3,de.uint16[pe+5]=te*4+0}return de}var Of=n.identity(new Float32Array(16));function yl(fe,Z,de,te,pe){if(fe.renderPass==="translucent"){var Re=Yt.disabled,We=fe.colorModeForRenderPass(),st=de.layout.get("text-variable-anchor");st&&Bf(te,fe,de,Z,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&_s(fe,Z,de,te,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),Re,We),de.paint.get("text-opacity").constantOr(1)!==0&&_s(fe,Z,de,te,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),Re,We),Z.map.showCollisionBoxes&&(Lo(fe,Z,de,te,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),Lo(fe,Z,de,te,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function Tu(fe,Z,de,te,pe,Re){var We=n.getAnchorAlignment(fe),st=We.horizontalAlign,Tt=We.verticalAlign,Bt=-(st-.5)*Z,Jt=-(Tt-.5)*de,ur=n.evaluateVariableOffset(fe,te);return new n.Point((Bt/pe+ur[0])*Re,(Jt/pe+ur[1])*Re)}function Bf(fe,Z,de,te,pe,Re,We){for(var st=Z.transform,Tt=pe==="map",Bt=Re==="map",Jt=0,ur=fe;Jt<ur.length;Jt+=1){var mr=ur[Jt],Ir=te.getTile(mr),Vr=Ir.getBucket(de);if(!(!Vr||!Vr.text||!Vr.text.segments.get().length)){var Gr=Vr.textSizeData,Hr=n.evaluateSizeForZoom(Gr,st.zoom),Qr=vn(Ir,1,Z.transform.zoom),on=cr(mr.posMatrix,Bt,Tt,Z.transform,Qr),Sn=de.layout.get("icon-text-fit")!=="none"&&Vr.hasIconData();if(Hr){var kn=Math.pow(2,st.zoom-Ir.tileID.overscaledZ);Go(Vr,Tt,Bt,We,n.symbolSize,st,on,mr.posMatrix,kn,Hr,Sn)}}}}function Go(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt){var ur=fe.text.placedSymbolArray,mr=fe.text.dynamicLayoutVertexArray,Ir=fe.icon.dynamicLayoutVertexArray,Vr={};mr.clear();for(var Gr=0;Gr<ur.length;Gr++){var Hr=ur.get(Gr),Qr=fe.allowVerticalPlacement&&!Hr.placedOrientation,on=!Hr.hidden&&Hr.crossTileID&&!Qr?te[Hr.crossTileID]:null;if(!on)$n(Hr.numGlyphs,mr);else{var Sn=new n.Point(Hr.anchorX,Hr.anchorY),kn=Or(Sn,de?st:We),Wn=sn(Re.cameraToCenterDistance,kn.signedDistanceFromCamera),Zn=pe.evaluateSizeForFeature(fe.textSizeData,Bt,Hr)*Wn/n.ONE_EM;de&&(Zn*=fe.tilePixelRatio/Tt);for(var Yn=on.width,qn=on.height,ua=on.anchor,la=on.textOffset,va=on.textBoxScale,ma=Tu(ua,Yn,qn,la,va,Zn),Pa=de?Or(Sn.add(ma),We).point:kn.point.add(Z?ma.rotate(-Re.angle):ma),Oa=fe.allowVerticalPlacement&&Hr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,ni=0;ni<Hr.numGlyphs;ni++)n.addDynamicAttributes(mr,Pa,Oa);Jt&&Hr.associatedIconIndex>=0&&(Vr[Hr.associatedIconIndex]={shiftedAnchor:Pa,angle:Oa})}}if(Jt){Ir.clear();for(var Na=fe.icon.placedSymbolArray,Wa=0;Wa<Na.length;Wa++){var Sa=Na.get(Wa);if(Sa.hidden)$n(Sa.numGlyphs,Ir);else{var ai=Vr[Wa];if(!ai)$n(Sa.numGlyphs,Ir);else for(var si=0;si<Sa.numGlyphs;si++)n.addDynamicAttributes(Ir,ai.shiftedAnchor,ai.angle)}}fe.icon.dynamicLayoutVertexBuffer.updateData(Ir)}fe.text.dynamicLayoutVertexBuffer.updateData(mr)}function lf(fe,Z,de){return de.iconsInText&&Z?"symbolTextAndIcon":fe?"symbolSDF":"symbolIcon"}function _s(fe,Z,de,te,pe,Re,We,st,Tt,Bt,Jt,ur){for(var mr=fe.context,Ir=mr.gl,Vr=fe.transform,Gr=st==="map",Hr=Tt==="map",Qr=Gr&&de.layout.get("symbol-placement")!=="point",on=Gr&&!Hr&&!Qr,Sn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,kn=fe.depthModeForSublayer(0,zr.ReadOnly),Wn=de.layout.get("text-variable-anchor"),Zn=[],Yn=0,qn=te;Yn<qn.length;Yn+=1){var ua=qn[Yn],la=Z.getTile(ua),va=la.getBucket(de);if(va){var ma=pe?va.text:va.icon;if(!(!ma||!ma.segments.get().length)){var Pa=ma.programConfigurations.get(de.id),Oa=pe||va.sdfIcons,ni=pe?va.textSizeData:va.iconSizeData,Na=Hr||Vr.pitch!==0,Wa=fe.useProgram(lf(Oa,pe,va),Pa),Sa=n.evaluateSizeForZoom(ni,Vr.zoom),ai=void 0,si=[0,0],ui=void 0,Za=void 0,mi=null,Ba=void 0;if(pe){if(ui=la.glyphAtlasTexture,Za=Ir.LINEAR,ai=la.glyphAtlasTexture.size,va.iconsInText){si=la.imageAtlasTexture.size,mi=la.imageAtlasTexture;var ja=ni.kind==="composite"||ni.kind==="camera";Ba=Na||fe.options.rotating||fe.options.zooming||ja?Ir.LINEAR:Ir.NEAREST}}else{var Oi=de.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;ui=la.imageAtlasTexture,Za=Oa||fe.options.rotating||fe.options.zooming||Oi||Na?Ir.LINEAR:Ir.NEAREST,ai=la.imageAtlasTexture.size}var $i=vn(la,1,fe.transform.zoom),ks=cr(ua.posMatrix,Hr,Gr,fe.transform,$i),zs=kr(ua.posMatrix,Hr,Gr,fe.transform,$i),ml=Wn&&va.hasTextData(),xl=de.layout.get("icon-text-fit")!=="none"&&ml&&va.hasIconData();Qr&&bn(va,ua.posMatrix,fe,pe,ks,zs,Hr,Bt);var Ql=fe.translatePosMatrix(ua.posMatrix,la,Re,We),bl=Qr||pe&&Wn||xl?Of:ks,Yo=fe.translatePosMatrix(zs,la,Re,We,!0),Du=Oa&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ro=void 0;Oa?va.iconsInText?Ro=sf(ni.kind,Sa,on,Hr,fe,Ql,bl,Yo,ai,si):Ro=pl(ni.kind,Sa,on,Hr,fe,Ql,bl,Yo,pe,ai,!0):Ro=of(ni.kind,Sa,on,Hr,fe,Ql,bl,Yo,pe,ai);var Ts={program:Wa,buffers:ma,uniformValues:Ro,atlasTexture:ui,atlasTextureIcon:mi,atlasInterpolation:Za,atlasInterpolationIcon:Ba,isSDF:Oa,hasHalo:Du};if(Sn)for(var wl=ma.segments.get(),tl=0,Tl=wl;tl<Tl.length;tl+=1){var oh=Tl[tl];Zn.push({segments:new n.SegmentVector([oh]),sortKey:oh.sortKey,state:Ts})}else Zn.push({segments:ma.segments,sortKey:0,state:Ts})}}}Sn&&Zn.sort(function(sh,lh){return sh.sortKey-lh.sortKey});for(var vf=0,Ao=Zn;vf<Ao.length;vf+=1){var kc=Ao[vf],zo=kc.state;if(mr.activeTexture.set(Ir.TEXTURE0),zo.atlasTexture.bind(zo.atlasInterpolation,Ir.CLAMP_TO_EDGE),zo.atlasTextureIcon&&(mr.activeTexture.set(Ir.TEXTURE1),zo.atlasTextureIcon&&zo.atlasTextureIcon.bind(zo.atlasInterpolationIcon,Ir.CLAMP_TO_EDGE)),zo.isSDF){var zc=zo.uniformValues;zo.hasHalo&&(zc.u_is_halo=1,Wl(zo.buffers,kc.segments,de,fe,zo.program,kn,Jt,ur,zc)),zc.u_is_halo=0}Wl(zo.buffers,kc.segments,de,fe,zo.program,kn,Jt,ur,zo.uniformValues)}}function Wl(fe,Z,de,te,pe,Re,We,st,Tt){var Bt=te.context,Jt=Bt.gl;pe.draw(Bt,Jt.TRIANGLES,Re,We,st,Dt.disabled,Tt,de.id,fe.layoutVertexBuffer,fe.indexBuffer,Z,de.paint,te.transform.zoom,fe.programConfigurations.get(de.id),fe.dynamicLayoutVertexBuffer,fe.opacityVertexBuffer)}function ws(fe,Z,de,te){if(fe.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),Re=de.paint.get("circle-stroke-width"),We=de.paint.get("circle-stroke-opacity"),st=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(Re.constantOr(1)===0||We.constantOr(1)===0))){for(var Tt=fe.context,Bt=Tt.gl,Jt=fe.depthModeForSublayer(0,zr.ReadOnly),ur=Yt.disabled,mr=fe.colorModeForRenderPass(),Ir=[],Vr=0;Vr<te.length;Vr++){var Gr=te[Vr],Hr=Z.getTile(Gr),Qr=Hr.getBucket(de);if(Qr){var on=Qr.programConfigurations.get(de.id),Sn=fe.useProgram("circle",on),kn=Qr.layoutVertexBuffer,Wn=Qr.indexBuffer,Zn=Mc(fe,Gr,Hr,de),Yn={programConfiguration:on,program:Sn,layoutVertexBuffer:kn,indexBuffer:Wn,uniformValues:Zn};if(st)for(var qn=Qr.segments.get(),ua=0,la=qn;ua<la.length;ua+=1){var va=la[ua];Ir.push({segments:new n.SegmentVector([va]),sortKey:va.sortKey,state:Yn})}else Ir.push({segments:Qr.segments,sortKey:0,state:Yn})}}st&&Ir.sort(function(Za,mi){return Za.sortKey-mi.sortKey});for(var ma=0,Pa=Ir;ma<Pa.length;ma+=1){var Oa=Pa[ma],ni=Oa.state,Na=ni.programConfiguration,Wa=ni.program,Sa=ni.layoutVertexBuffer,ai=ni.indexBuffer,si=ni.uniformValues,ui=Oa.segments;Wa.draw(Tt,Bt.TRIANGLES,Jt,ur,mr,Dt.disabled,si,de.id,Sa,ai,ui,de.paint,fe.transform.zoom,Na)}}}}function Rc(fe,Z,de,te){if(de.paint.get("heatmap-opacity")!==0)if(fe.renderPass==="offscreen"){var pe=fe.context,Re=pe.gl,We=Yt.disabled,st=new ot([Re.ONE,Re.ONE],n.Color.transparent,[!0,!0,!0,!0]);uf(pe,fe,de),pe.clear({color:n.Color.transparent});for(var Tt=0;Tt<te.length;Tt++){var Bt=te[Tt];if(!Z.hasRenderableParent(Bt)){var Jt=Z.getTile(Bt),ur=Jt.getBucket(de);if(ur){var mr=ur.programConfigurations.get(de.id),Ir=fe.useProgram("heatmap",mr),Vr=fe.transform,Gr=Vr.zoom;Ir.draw(pe,Re.TRIANGLES,zr.disabled,We,st,Dt.disabled,Gl(Bt.posMatrix,Jt,Gr,de.paint.get("heatmap-intensity")),de.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,de.paint,fe.transform.zoom,mr)}}}pe.viewport.set([0,0,fe.width,fe.height])}else fe.renderPass==="translucent"&&(fe.context.setColorMode(fe.colorModeForRenderPass()),oo(fe,de))}function uf(fe,Z,de){var te=fe.gl;fe.activeTexture.set(te.TEXTURE1),fe.viewport.set([0,0,Z.width/4,Z.height/4]);var pe=de.heatmapFbo;if(pe)te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),fe.bindFramebuffer.set(pe.framebuffer);else{var Re=te.createTexture();te.bindTexture(te.TEXTURE_2D,Re),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),pe=de.heatmapFbo=fe.createFramebuffer(Z.width/4,Z.height/4,!1),Au(fe,Z,Re,pe)}}function Au(fe,Z,de,te){var pe=fe.gl,Re=fe.extRenderToTextureHalfFloat?fe.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,Z.width/4,Z.height/4,0,pe.RGBA,Re,null),te.colorAttachment.set(de)}function oo(fe,Z){var de=fe.context,te=de.gl,pe=Z.heatmapFbo;if(pe){de.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(te.TEXTURE1);var Re=Z.colorRampTexture;Re||(Re=Z.colorRampTexture=new n.Texture(de,Z.colorRamp,te.RGBA)),Re.bind(te.LINEAR,te.CLAMP_TO_EDGE),fe.useProgram("heatmapTexture").draw(de,te.TRIANGLES,zr.disabled,Yt.disabled,fe.colorModeForRenderPass(),Dt.disabled,yu(fe,Z,0,1),Z.id,fe.viewportBuffer,fe.quadTriangleIndexBuffer,fe.viewportSegments,Z.paint,fe.transform.zoom)}}function Nf(fe,Z,de,te){if(fe.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),Re=de.paint.get("line-width");if(!(pe.constantOr(1)===0||Re.constantOr(1)===0)){var We=fe.depthModeForSublayer(0,zr.ReadOnly),st=fe.colorModeForRenderPass(),Tt=de.paint.get("line-dasharray"),Bt=de.paint.get("line-pattern"),Jt=Bt.constantOr(1),ur=de.paint.get("line-gradient"),mr=de.getCrossfadeParameters(),Ir=Jt?"linePattern":Tt?"lineSDF":ur?"lineGradient":"line",Vr=fe.context,Gr=Vr.gl,Hr=!0;if(ur){Vr.activeTexture.set(Gr.TEXTURE0);var Qr=de.gradientTexture;if(!de.gradient)return;Qr||(Qr=de.gradientTexture=new n.Texture(Vr,de.gradient,Gr.RGBA)),Qr.bind(Gr.LINEAR,Gr.CLAMP_TO_EDGE)}for(var on=0,Sn=te;on<Sn.length;on+=1){var kn=Sn[on],Wn=Z.getTile(kn);if(!(Jt&&!Wn.patternsLoaded())){var Zn=Wn.getBucket(de);if(Zn){var Yn=Zn.programConfigurations.get(de.id),qn=fe.context.program.get(),ua=fe.useProgram(Ir,Yn),la=Hr||ua.program!==qn,va=Bt.constantOr(null);if(va&&Wn.imageAtlas){var ma=Wn.imageAtlas,Pa=ma.patternPositions[va.to.toString()],Oa=ma.patternPositions[va.from.toString()];Pa&&Oa&&Yn.setConstantPatternPositions(Pa,Oa)}var ni=Jt?Vo(fe,Wn,de,mr):Tt?xu(fe,Wn,de,Tt,mr):ur?mu(fe,Wn,de):js(fe,Wn,de);Jt?(Vr.activeTexture.set(Gr.TEXTURE0),Wn.imageAtlasTexture.bind(Gr.LINEAR,Gr.CLAMP_TO_EDGE),Yn.updatePaintBuffers(mr)):Tt&&(la||fe.lineAtlas.dirty)&&(Vr.activeTexture.set(Gr.TEXTURE0),fe.lineAtlas.bind(Vr)),ua.draw(Vr,Gr.TRIANGLES,We,fe.stencilModeForClipping(kn),st,Dt.disabled,ni,de.id,Zn.layoutVertexBuffer,Zn.indexBuffer,Zn.segments,de.paint,fe.transform.zoom,Yn),Hr=!1}}}}}}function Yl(fe,Z,de,te){var pe=de.paint.get("fill-color"),Re=de.paint.get("fill-opacity");if(Re.constantOr(1)!==0){var We=fe.colorModeForRenderPass(),st=de.paint.get("fill-pattern"),Tt=fe.opaquePassEnabledForLayer()&&!st.constantOr(1)&&pe.constantOr(n.Color.transparent).a===1&&Re.constantOr(0)===1?"opaque":"translucent";if(fe.renderPass===Tt){var Bt=fe.depthModeForSublayer(1,fe.renderPass==="opaque"?zr.ReadWrite:zr.ReadOnly);rs(fe,Z,de,te,Bt,We,!1)}if(fe.renderPass==="translucent"&&de.paint.get("fill-antialias")){var Jt=fe.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,zr.ReadOnly);rs(fe,Z,de,te,Jt,We,!0)}}}function rs(fe,Z,de,te,pe,Re,We){var st=fe.context.gl,Tt=de.paint.get("fill-pattern"),Bt=Tt&&Tt.constantOr(1),Jt=de.getCrossfadeParameters(),ur,mr,Ir,Vr,Gr;We?(mr=Bt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=st.LINES):(mr=Bt?"fillPattern":"fill",ur=st.TRIANGLES);for(var Hr=0,Qr=te;Hr<Qr.length;Hr+=1){var on=Qr[Hr],Sn=Z.getTile(on);if(!(Bt&&!Sn.patternsLoaded())){var kn=Sn.getBucket(de);if(kn){var Wn=kn.programConfigurations.get(de.id),Zn=fe.useProgram(mr,Wn);Bt&&(fe.context.activeTexture.set(st.TEXTURE0),Sn.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Wn.updatePaintBuffers(Jt));var Yn=Tt.constantOr(null);if(Yn&&Sn.imageAtlas){var qn=Sn.imageAtlas,ua=qn.patternPositions[Yn.to.toString()],la=qn.patternPositions[Yn.from.toString()];ua&&la&&Wn.setConstantPatternPositions(ua,la)}var va=fe.translatePosMatrix(on.posMatrix,Sn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!We)Vr=kn.indexBuffer,Gr=kn.segments,Ir=Bt?es(va,fe,Jt,Sn):Ho(va);else{Vr=kn.indexBuffer2,Gr=kn.segments2;var ma=[st.drawingBufferWidth,st.drawingBufferHeight];Ir=mr==="fillOutlinePattern"&&Bt?Hl(va,fe,Jt,Sn,ma):Ul(va,ma)}Zn.draw(fe.context,ur,pe,fe.stencilModeForClipping(on),Re,Dt.disabled,Ir,de.id,kn.layoutVertexBuffer,Vr,Gr,de.paint,fe.transform.zoom,Wn)}}}}function Zl(fe,Z,de,te){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&fe.renderPass==="translucent"){var Re=new zr(fe.context.gl.LEQUAL,zr.ReadWrite,fe.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var We=fe.colorModeForRenderPass();Fs(fe,Z,de,te,Re,Yt.disabled,We)}else Fs(fe,Z,de,te,Re,Yt.disabled,ot.disabled),Fs(fe,Z,de,te,Re,fe.stencilModeFor3D(),fe.colorModeForRenderPass())}}function Fs(fe,Z,de,te,pe,Re,We){for(var st=fe.context,Tt=st.gl,Bt=de.paint.get("fill-extrusion-pattern"),Jt=Bt.constantOr(1),ur=de.getCrossfadeParameters(),mr=de.paint.get("fill-extrusion-opacity"),Ir=0,Vr=te;Ir<Vr.length;Ir+=1){var Gr=Vr[Ir],Hr=Z.getTile(Gr),Qr=Hr.getBucket(de);if(Qr){var on=Qr.programConfigurations.get(de.id),Sn=fe.useProgram(Jt?"fillExtrusionPattern":"fillExtrusion",on);Jt&&(fe.context.activeTexture.set(Tt.TEXTURE0),Hr.imageAtlasTexture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE),on.updatePaintBuffers(ur));var kn=Bt.constantOr(null);if(kn&&Hr.imageAtlas){var Wn=Hr.imageAtlas,Zn=Wn.patternPositions[kn.to.toString()],Yn=Wn.patternPositions[kn.from.toString()];Zn&&Yn&&on.setConstantPatternPositions(Zn,Yn)}var qn=fe.translatePosMatrix(Gr.posMatrix,Hr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),ua=de.paint.get("fill-extrusion-vertical-gradient"),la=Jt?gs(qn,fe,ua,mr,Gr,ur,Hr):bo(qn,fe,ua,mr);Sn.draw(st,st.gl.TRIANGLES,pe,Re,We,Dt.backCCW,la,de.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,de.paint,fe.transform.zoom,on)}}}function Mu(fe,Z,de,te){if(!(fe.renderPass!=="offscreen"&&fe.renderPass!=="translucent")){for(var pe=fe.context,Re=Z.getSource().maxzoom,We=fe.depthModeForSublayer(0,zr.ReadOnly),st=fe.colorModeForRenderPass(),Tt=fe.renderPass==="translucent"?fe.stencilConfigForOverlap(te):[{},te],Bt=Tt[0],Jt=Tt[1],ur=0,mr=Jt;ur<mr.length;ur+=1){var Ir=mr[ur],Vr=Z.getTile(Ir);Vr.needsHillshadePrepare&&fe.renderPass==="offscreen"?ff(fe,Vr,de,Re,We,Yt.disabled,st):fe.renderPass==="translucent"&&Uf(fe,Vr,de,We,Bt[Ir.overscaledZ],st)}pe.viewport.set([0,0,fe.width,fe.height])}}function Uf(fe,Z,de,te,pe,Re){var We=fe.context,st=We.gl,Tt=Z.fbo;if(Tt){var Bt=fe.useProgram("hillshade");We.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,Tt.colorAttachment.get());var Jt=Ff(fe,Z,de);Bt.draw(We,st.TRIANGLES,te,pe,Re,Dt.disabled,Jt,de.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments)}}function ff(fe,Z,de,te,pe,Re,We){var st=fe.context,Tt=st.gl,Bt=Z.dem;if(Bt&&Bt.data){var Jt=Bt.dim,ur=Bt.stride,mr=Bt.getPixels();if(st.activeTexture.set(Tt.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||fe.getTileTexture(ur),Z.demTexture){var Ir=Z.demTexture;Ir.update(mr,{premultiply:!1}),Ir.bind(Tt.NEAREST,Tt.CLAMP_TO_EDGE)}else Z.demTexture=new n.Texture(st,mr,Tt.RGBA,{premultiply:!1}),Z.demTexture.bind(Tt.NEAREST,Tt.CLAMP_TO_EDGE);st.activeTexture.set(Tt.TEXTURE0);var Vr=Z.fbo;if(!Vr){var Gr=new n.Texture(st,{width:Jt,height:Jt,data:null},Tt.RGBA);Gr.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE),Vr=Z.fbo=st.createFramebuffer(Jt,Jt,!0),Vr.colorAttachment.set(Gr.texture)}st.bindFramebuffer.set(Vr.framebuffer),st.viewport.set([0,0,Jt,Jt]),fe.useProgram("hillshadePrepare").draw(st,Tt.TRIANGLES,pe,Re,We,Dt.disabled,rf(Z.tileID,Bt,te),de.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function cf(fe,Z,de,te){if(fe.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&te.length)for(var pe=fe.context,Re=pe.gl,We=Z.getSource(),st=fe.useProgram("raster"),Tt=fe.colorModeForRenderPass(),Bt=We instanceof $?[{},te]:fe.stencilConfigForOverlap(te),Jt=Bt[0],ur=Bt[1],mr=ur[ur.length-1].overscaledZ,Ir=!fe.options.moving,Vr=0,Gr=ur;Vr<Gr.length;Vr+=1){var Hr=Gr[Vr],Qr=fe.depthModeForSublayer(Hr.overscaledZ-mr,de.paint.get("raster-opacity")===1?zr.ReadWrite:zr.ReadOnly,Re.LESS),on=Z.getTile(Hr),Sn=fe.transform.calculatePosMatrix(Hr.toUnwrapped(),Ir);on.registerFadeDuration(de.paint.get("raster-fade-duration"));var kn=Z.findLoadedParent(Hr,0),Wn=qs(on,kn,Z,de,fe.transform),Zn=void 0,Yn=void 0,qn=de.paint.get("raster-resampling")==="nearest"?Re.NEAREST:Re.LINEAR;pe.activeTexture.set(Re.TEXTURE0),on.texture.bind(qn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(Re.TEXTURE1),kn?(kn.texture.bind(qn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,kn.tileID.overscaledZ-on.tileID.overscaledZ),Yn=[on.tileID.canonical.x*Zn%1,on.tileID.canonical.y*Zn%1]):on.texture.bind(qn,Re.CLAMP_TO_EDGE,Re.LINEAR_MIPMAP_NEAREST);var ua=dl(Sn,Yn||[0,0],Zn||1,Wn,de);We instanceof $?st.draw(pe,Re.TRIANGLES,Qr,Yt.disabled,Tt,Dt.disabled,ua,de.id,We.boundsBuffer,fe.quadTriangleIndexBuffer,We.boundsSegments):st.draw(pe,Re.TRIANGLES,Qr,Jt[Hr.overscaledZ],Tt,Dt.disabled,ua,de.id,fe.rasterBoundsBuffer,fe.quadTriangleIndexBuffer,fe.rasterBoundsSegments)}}function qs(fe,Z,de,te,pe){var Re=te.paint.get("raster-fade-duration");if(Re>0){var We=n.browser.now(),st=(We-fe.timeAdded)/Re,Tt=Z?(We-Z.timeAdded)/Re:-1,Bt=de.getSource(),Jt=pe.coveringZoomLevel({tileSize:Bt.tileSize,roundZoom:Bt.roundZoom}),ur=!Z||Math.abs(Z.tileID.overscaledZ-Jt)>Math.abs(fe.tileID.overscaledZ-Jt),mr=ur&&fe.refreshedUponExpiration?1:n.clamp(ur?st:1-Tt,0,1);return fe.refreshedUponExpiration&&st>=1&&(fe.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-mr}:{opacity:mr,mix:0}}else return{opacity:1,mix:0}}function Su(fe,Z,de){var te=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var Re=fe.context,We=Re.gl,st=fe.transform,Tt=st.tileSize,Bt=de.paint.get("background-pattern");if(!fe.isPatternMissing(Bt)){var Jt=!Bt&&te.a===1&&pe===1&&fe.opaquePassEnabledForLayer()?"opaque":"translucent";if(fe.renderPass===Jt){var ur=Yt.disabled,mr=fe.depthModeForSublayer(0,Jt==="opaque"?zr.ReadWrite:zr.ReadOnly),Ir=fe.colorModeForRenderPass(),Vr=fe.useProgram(Bt?"backgroundPattern":"background"),Gr=st.coveringTiles({tileSize:Tt});Bt&&(Re.activeTexture.set(We.TEXTURE0),fe.imageManager.bind(fe.context));for(var Hr=de.getCrossfadeParameters(),Qr=0,on=Gr;Qr<on.length;Qr+=1){var Sn=on[Qr],kn=fe.transform.calculatePosMatrix(Sn.toUnwrapped()),Wn=Bt?Js(kn,pe,fe,Bt,{tileID:Sn,tileSize:Tt},Hr):Is(kn,pe,te);Vr.draw(Re,We.TRIANGLES,mr,ur,Ir,Dt.disabled,Wn,de.id,fe.tileExtentBuffer,fe.quadTriangleIndexBuffer,fe.tileExtentSegments)}}}}}var Xl=new n.Color(1,0,0,1),Hf=new n.Color(0,1,0,1),jl=new n.Color(0,0,1,1),Vf=new n.Color(1,0,1,1),Ye=new n.Color(0,1,1,1);function rt(fe){var Z=fe.transform.padding,de=3;yt(fe,fe.transform.height-(Z.top||0),de,Xl),yt(fe,Z.bottom||0,de,Hf),It(fe,Z.left||0,de,jl),It(fe,fe.transform.width-(Z.right||0),de,Vf);var te=fe.transform.centerPoint;dt(fe,te.x,fe.transform.height-te.y,Ye)}function dt(fe,Z,de,te){var pe=20,Re=2;Lt(fe,Z-Re/2,de-pe/2,Re,pe,te),Lt(fe,Z-pe/2,de-Re/2,pe,Re,te)}function yt(fe,Z,de,te){Lt(fe,0,Z+de/2,fe.transform.width,de,te)}function It(fe,Z,de,te){Lt(fe,Z-de/2,0,de,fe.transform.height,te)}function Lt(fe,Z,de,te,pe,Re){var We=fe.context,st=We.gl;st.enable(st.SCISSOR_TEST),st.scissor(Z*n.browser.devicePixelRatio,de*n.browser.devicePixelRatio,te*n.browser.devicePixelRatio,pe*n.browser.devicePixelRatio),We.clear({color:Re}),st.disable(st.SCISSOR_TEST)}function zt(fe,Z,de){for(var te=0;te<de.length;te++)fr(fe,Z,de[te])}function fr(fe,Z,de){var te=fe.context,pe=te.gl,Re=de.posMatrix,We=fe.useProgram("debug"),st=zr.disabled,Tt=Yt.disabled,Bt=fe.colorModeForRenderPass(),Jt="$debug";te.activeTexture.set(pe.TEXTURE0),fe.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),We.draw(te,pe.LINE_STRIP,st,Tt,Bt,Dt.disabled,vl(Re,n.Color.red),Jt,fe.debugBuffer,fe.tileBorderIndexBuffer,fe.debugSegments);var ur=Z.getTileByID(de.key).latestRawTileData,mr=ur&&ur.byteLength||0,Ir=Math.floor(mr/1024),Vr=Z.getTile(de).tileSize,Gr=512/Math.min(Vr,512)*(de.overscaledZ/fe.transform.zoom)*.5,Hr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Hr+=" => "+de.overscaledZ);var Qr=Hr+" "+Ir+"kb";gr(fe,Qr),We.draw(te,pe.TRIANGLES,st,Tt,ot.alphaBlended,Dt.disabled,vl(Re,n.Color.transparent,Gr),Jt,fe.debugBuffer,fe.quadTriangleIndexBuffer,fe.debugSegments)}function gr(fe,Z){fe.initDebugOverlayCanvas();var de=fe.debugOverlayCanvas,te=fe.context.gl,pe=fe.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(Z,5,5),pe.strokeText(Z,5,5),fe.debugOverlayTexture.update(de),fe.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function ar(fe,Z,de){var te=fe.context,pe=de.implementation;if(fe.renderPass==="offscreen"){var Re=pe.prerender;Re&&(fe.setCustomLayerDefaults(),te.setColorMode(fe.colorModeForRenderPass()),Re.call(pe,te.gl,fe.transform.customLayerMatrix()),te.setDirty(),fe.setBaseState())}else if(fe.renderPass==="translucent"){fe.setCustomLayerDefaults(),te.setColorMode(fe.colorModeForRenderPass()),te.setStencilMode(Yt.disabled);var We=pe.renderingMode==="3d"?new zr(fe.context.gl.LEQUAL,zr.ReadWrite,fe.depthRangeFor3D):fe.depthModeForSublayer(0,zr.ReadOnly);te.setDepthMode(We),pe.render(te.gl,fe.transform.customLayerMatrix()),te.setDirty(),fe.setBaseState(),te.bindFramebuffer.set(null)}}var Ar={symbol:yl,circle:ws,heatmap:Rc,line:Nf,fill:Yl,"fill-extrusion":Zl,hillshade:Mu,raster:cf,background:Su,debug:zt,custom:ar},Lr=function(Z,de){this.context=new St(Z),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new aa,this.gpuTimers={}};Lr.prototype.resize=function(Z,de){if(this.width=Z*n.browser.devicePixelRatio,this.height=de*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,pe=this.style._order;te<pe.length;te+=1){var Re=pe[te];this.style._layers[Re].resize()}},Lr.prototype.setup=function(){var Z=this.context,de=new n.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(n.EXTENT,0),de.emplaceBack(0,n.EXTENT),de.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(de,mo.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var te=new n.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(n.EXTENT,0),te.emplaceBack(0,n.EXTENT),te.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=Z.createVertexBuffer(te,mo.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var pe=new n.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(n.EXTENT,0,n.EXTENT,0),pe.emplaceBack(0,n.EXTENT,0,n.EXTENT),pe.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(pe,Q.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Re=new n.StructArrayLayout2i4;Re.emplaceBack(0,0),Re.emplaceBack(1,0),Re.emplaceBack(0,1),Re.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Re,mo.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var We=new n.StructArrayLayout1ui2;We.emplaceBack(0),We.emplaceBack(1),We.emplaceBack(3),We.emplaceBack(2),We.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(We);var st=new n.StructArrayLayout3ui6;st.emplaceBack(0,1,2),st.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(st),this.emptyTexture=new n.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var Tt=this.context.gl;this.stencilClearMode=new Yt({func:Tt.ALWAYS,mask:0},0,255,Tt.ZERO,Tt.ZERO,Tt.ZERO)},Lr.prototype.clearStencil=function(){var Z=this.context,de=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=n.create();n.ortho(te,0,this.width,this.height,0,0,1),n.scale(te,te,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,de.TRIANGLES,zr.disabled,this.stencilClearMode,ot.disabled,Dt.disabled,wo(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Lr.prototype._renderTileClippingMasks=function(Z,de){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!de||!de.length)){this.currentStencilSource=Z.source;var te=this.context,pe=te.gl;this.nextStencilID+de.length>256&&this.clearStencil(),te.setColorMode(ot.disabled),te.setDepthMode(zr.disabled);var Re=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var We=0,st=de;We<st.length;We+=1){var Tt=st[We],Bt=this._tileClippingMaskIDs[Tt.key]=this.nextStencilID++;Re.draw(te,pe.TRIANGLES,zr.disabled,new Yt({func:pe.ALWAYS,mask:0},Bt,255,pe.KEEP,pe.KEEP,pe.REPLACE),ot.disabled,Dt.disabled,wo(Tt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Lr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,de=this.context.gl;return new Yt({func:de.NOTEQUAL,mask:255},Z,255,de.KEEP,de.KEEP,de.REPLACE)},Lr.prototype.stencilModeForClipping=function(Z){var de=this.context.gl;return new Yt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,de.KEEP,de.KEEP,de.REPLACE)},Lr.prototype.stencilConfigForOverlap=function(Z){var de,te=this.context.gl,pe=Z.sort(function(Bt,Jt){return Jt.overscaledZ-Bt.overscaledZ}),Re=pe[pe.length-1].overscaledZ,We=pe[0].overscaledZ-Re+1;if(We>1){this.currentStencilSource=void 0,this.nextStencilID+We>256&&this.clearStencil();for(var st={},Tt=0;Tt<We;Tt++)st[Tt+Re]=new Yt({func:te.GEQUAL,mask:255},Tt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=We,[st,pe]}return[(de={},de[Re]=Yt.disabled,de),pe]},Lr.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var de=8,te=1/de;return new ot([Z.CONSTANT_COLOR,Z.ONE],new n.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ot.unblended:ot.alphaBlended},Lr.prototype.depthModeForSublayer=function(Z,de,te){if(!this.opaquePassEnabledForLayer())return zr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new zr(te||this.context.gl.LEQUAL,de,[pe,pe])},Lr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Lr.prototype.render=function(Z,de){var te=this;this.style=Z,this.options=de,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,Re=this.style.sourceCaches;for(var We in Re){var st=Re[We];st.used&&st.prepare(this.context)}var Tt={},Bt={},Jt={};for(var ur in Re){var mr=Re[ur];Tt[ur]=mr.getVisibleCoordinates(),Bt[ur]=Tt[ur].slice().reverse(),Jt[ur]=mr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ir=0;Ir<pe.length;Ir++){var Vr=pe[Ir];if(this.style._layers[Vr].is3D()){this.opaquePassCutoff=Ir;break}}this.renderPass="offscreen";for(var Gr=0,Hr=pe;Gr<Hr.length;Gr+=1){var Qr=Hr[Gr],on=this.style._layers[Qr];if(!(!on.hasOffscreenPass()||on.isHidden(this.transform.zoom))){var Sn=Bt[on.source];on.type!=="custom"&&!Sn.length||this.renderLayer(this,Re[on.source],on,Sn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var kn=this.style._layers[pe[this.currentLayer]],Wn=Re[kn.source],Zn=Tt[kn.source];this._renderTileClippingMasks(kn,Zn),this.renderLayer(this,Wn,kn,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Yn=this.style._layers[pe[this.currentLayer]],qn=Re[Yn.source],ua=(Yn.type==="symbol"?Jt:Bt)[Yn.source];this._renderTileClippingMasks(Yn,Tt[Yn.source]),this.renderLayer(this,qn,Yn,ua)}if(this.options.showTileBoundaries){var la,va,ma=n.values(this.style._layers);ma.forEach(function(Pa){Pa.source&&!Pa.isHidden(te.transform.zoom)&&(Pa.source!==(va&&va.id)&&(va=te.style.sourceCaches[Pa.source]),(!la||la.getSource().maxzoom<va.getSource().maxzoom)&&(la=va))}),la&&Ar.debug(this,la,la.getVisibleCoordinates())}this.options.showPadding&&rt(this),this.context.setDefault()},Lr.prototype.renderLayer=function(Z,de,te,pe){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!pe.length||(this.id=te.id,this.gpuTimingStart(te),Ar[te.type](Z,de,te,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Lr.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var de=this.context.extTimerQuery,te=this.gpuTimers[Z.id];te||(te=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),te.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,te.query)}},Lr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Lr.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Lr.prototype.queryGpuTimers=function(Z){var de={};for(var te in Z){var pe=Z[te],Re=this.context.extTimerQuery,We=Re.getQueryObjectEXT(pe.query,Re.QUERY_RESULT_EXT)/(1e3*1e3);Re.deleteQueryEXT(pe.query),de[te]=We}return de},Lr.prototype.translatePosMatrix=function(Z,de,te,pe,Re){if(!te[0]&&!te[1])return Z;var We=Re?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(We){var st=Math.sin(We),Tt=Math.cos(We);te=[te[0]*Tt-te[1]*st,te[0]*st+te[1]*Tt]}var Bt=[Re?te[0]:vn(de,te[0],this.transform.zoom),Re?te[1]:vn(de,te[1],this.transform.zoom),0],Jt=new Float32Array(16);return n.translate(Jt,Z,Bt),Jt},Lr.prototype.saveTileTexture=function(Z){var de=this._tileTextures[Z.size[0]];de?de.push(Z):this._tileTextures[Z.size[0]]=[Z]},Lr.prototype.getTileTexture=function(Z){var de=this._tileTextures[Z];return de&&de.length>0?de.pop():null},Lr.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var de=this.imageManager.getPattern(Z.from.toString()),te=this.imageManager.getPattern(Z.to.toString());return!de||!te},Lr.prototype.useProgram=function(Z,de){this.cache=this.cache||{};var te=""+Z+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new hl(this.context,Df[Z],de,Qs[Z],this._showOverdrawInspector)),this.cache[te]},Lr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Lr.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Lr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Lr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Wr=function(Z,de){this.points=Z,this.planes=de};Wr.fromInvProjectionMatrix=function(Z,de,te){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Re=Math.pow(2,te),We=pe.map(function(Bt){return n.transformMat4([],Bt,Z)}).map(function(Bt){return n.scale$1([],Bt,1/Bt[3]/de*Re)}),st=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Tt=st.map(function(Bt){var Jt=n.sub([],We[Bt[0]],We[Bt[1]]),ur=n.sub([],We[Bt[2]],We[Bt[1]]),mr=n.normalize([],n.cross([],Jt,ur)),Ir=-n.dot(mr,We[Bt[1]]);return mr.concat(Ir)});return new Wr(We,Tt)};var Jr=function(Z,de){this.min=Z,this.max=de,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};Jr.prototype.quadrant=function(Z){for(var de=[Z%2===0,Z<2],te=n.clone$2(this.min),pe=n.clone$2(this.max),Re=0;Re<de.length;Re++)te[Re]=de[Re]?this.min[Re]:this.center[Re],pe[Re]=de[Re]?this.center[Re]:this.max[Re];return pe[2]=this.max[2],new Jr(te,pe)},Jr.prototype.distanceX=function(Z){var de=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return de-Z[0]},Jr.prototype.distanceY=function(Z){var de=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return de-Z[1]},Jr.prototype.intersects=function(Z){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,pe=0;pe<Z.planes.length;pe++){for(var Re=Z.planes[pe],We=0,st=0;st<de.length;st++)We+=n.dot$1(Re,de[st])>=0;if(We===0)return 0;We!==de.length&&(te=!1)}if(te)return 2;for(var Tt=0;Tt<3;Tt++){for(var Bt=Number.MAX_VALUE,Jt=-Number.MAX_VALUE,ur=0;ur<Z.points.length;ur++){var mr=Z.points[ur][Tt]-this.min[Tt];Bt=Math.min(Bt,mr),Jt=Math.max(Jt,mr)}if(Jt<0||Bt>this.max[Tt]-this.min[Tt])return 0}return 1};var pn=function(Z,de,te,pe){if(Z===void 0&&(Z=0),de===void 0&&(de=0),te===void 0&&(te=0),pe===void 0&&(pe=0),isNaN(Z)||Z<0||isNaN(de)||de<0||isNaN(te)||te<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=de,this.left=te,this.right=pe};pn.prototype.interpolate=function(Z,de,te){return de.top!=null&&Z.top!=null&&(this.top=n.number(Z.top,de.top,te)),de.bottom!=null&&Z.bottom!=null&&(this.bottom=n.number(Z.bottom,de.bottom,te)),de.left!=null&&Z.left!=null&&(this.left=n.number(Z.left,de.left,te)),de.right!=null&&Z.right!=null&&(this.right=n.number(Z.right,de.right,te)),this},pn.prototype.getCenter=function(Z,de){var te=n.clamp((this.left+Z-this.right)/2,0,Z),pe=n.clamp((this.top+de-this.bottom)/2,0,de);return new n.Point(te,pe)},pn.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},pn.prototype.clone=function(){return new pn(this.top,this.bottom,this.left,this.right)},pn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var wn=function(Z,de,te,pe,Re){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Re===void 0?!0:Re,this._minZoom=Z||0,this._maxZoom=de||22,this._minPitch=te??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new pn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};wn.prototype.clone=function(){var Z=new wn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Pn.minZoom.get=function(){return this._minZoom},Pn.minZoom.set=function(fe){this._minZoom!==fe&&(this._minZoom=fe,this.zoom=Math.max(this.zoom,fe))},Pn.maxZoom.get=function(){return this._maxZoom},Pn.maxZoom.set=function(fe){this._maxZoom!==fe&&(this._maxZoom=fe,this.zoom=Math.min(this.zoom,fe))},Pn.minPitch.get=function(){return this._minPitch},Pn.minPitch.set=function(fe){this._minPitch!==fe&&(this._minPitch=fe,this.pitch=Math.max(this.pitch,fe))},Pn.maxPitch.get=function(){return this._maxPitch},Pn.maxPitch.set=function(fe){this._maxPitch!==fe&&(this._maxPitch=fe,this.pitch=Math.min(this.pitch,fe))},Pn.renderWorldCopies.get=function(){return this._renderWorldCopies},Pn.renderWorldCopies.set=function(fe){fe===void 0?fe=!0:fe===null&&(fe=!1),this._renderWorldCopies=fe},Pn.worldSize.get=function(){return this.tileSize*this.scale},Pn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Pn.size.get=function(){return new n.Point(this.width,this.height)},Pn.bearing.get=function(){return-this.angle/Math.PI*180},Pn.bearing.set=function(fe){var Z=-n.wrap(fe,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Pn.pitch.get=function(){return this._pitch/Math.PI*180},Pn.pitch.set=function(fe){var Z=n.clamp(fe,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Pn.fov.get=function(){return this._fov/Math.PI*180},Pn.fov.set=function(fe){fe=Math.max(.01,Math.min(60,fe)),this._fov!==fe&&(this._unmodified=!1,this._fov=fe/180*Math.PI,this._calcMatrices())},Pn.zoom.get=function(){return this._zoom},Pn.zoom.set=function(fe){var Z=Math.min(Math.max(fe,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Pn.center.get=function(){return this._center},Pn.center.set=function(fe){fe.lat===this._center.lat&&fe.lng===this._center.lng||(this._unmodified=!1,this._center=fe,this._constrain(),this._calcMatrices())},Pn.padding.get=function(){return this._edgeInsets.toJSON()},Pn.padding.set=function(fe){this._edgeInsets.equals(fe)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,fe,1),this._calcMatrices())},Pn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},wn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},wn.prototype.interpolatePadding=function(Z,de,te){this._unmodified=!1,this._edgeInsets.interpolate(Z,de,te),this._constrain(),this._calcMatrices()},wn.prototype.coveringZoomLevel=function(Z){var de=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,de)},wn.prototype.getVisibleUnwrappedCoordinates=function(Z){var de=[new n.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new n.Point(0,0)),pe=this.pointCoordinate(new n.Point(this.width,0)),Re=this.pointCoordinate(new n.Point(this.width,this.height)),We=this.pointCoordinate(new n.Point(0,this.height)),st=Math.floor(Math.min(te.x,pe.x,Re.x,We.x)),Tt=Math.floor(Math.max(te.x,pe.x,Re.x,We.x)),Bt=1,Jt=st-Bt;Jt<=Tt+Bt;Jt++)Jt!==0&&de.push(new n.UnwrappedTileID(Jt,Z));return de},wn.prototype.coveringTiles=function(Z){var de=this.coveringZoomLevel(Z),te=de;if(Z.minzoom!==void 0&&de<Z.minzoom)return[];Z.maxzoom!==void 0&&de>Z.maxzoom&&(de=Z.maxzoom);var pe=n.MercatorCoordinate.fromLngLat(this.center),Re=Math.pow(2,de),We=[Re*pe.x,Re*pe.y,0],st=Wr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Tt=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Tt=de);var Bt=3,Jt=function(ma){return{aabb:new Jr([ma*Re,0,0],[(ma+1)*Re,Re,0]),zoom:0,x:0,y:0,wrap:ma,fullyVisible:!1}},ur=[],mr=[],Ir=de,Vr=Z.reparseOverscaled?te:de;if(this._renderWorldCopies)for(var Gr=1;Gr<=3;Gr++)ur.push(Jt(-Gr)),ur.push(Jt(Gr));for(ur.push(Jt(0));ur.length>0;){var Hr=ur.pop(),Qr=Hr.x,on=Hr.y,Sn=Hr.fullyVisible;if(!Sn){var kn=Hr.aabb.intersects(st);if(kn===0)continue;Sn=kn===2}var Wn=Hr.aabb.distanceX(We),Zn=Hr.aabb.distanceY(We),Yn=Math.max(Math.abs(Wn),Math.abs(Zn)),qn=Bt+(1<<Ir-Hr.zoom)-2;if(Hr.zoom===Ir||Yn>qn&&Hr.zoom>=Tt){mr.push({tileID:new n.OverscaledTileID(Hr.zoom===Ir?Vr:Hr.zoom,Hr.wrap,Hr.zoom,Qr,on),distanceSq:n.sqrLen([We[0]-.5-Qr,We[1]-.5-on])});continue}for(var ua=0;ua<4;ua++){var la=(Qr<<1)+ua%2,va=(on<<1)+(ua>>1);ur.push({aabb:Hr.aabb.quadrant(ua),zoom:Hr.zoom+1,x:la,y:va,wrap:Hr.wrap,fullyVisible:Sn})}}return mr.sort(function(ma,Pa){return ma.distanceSq-Pa.distanceSq}).map(function(ma){return ma.tileID})},wn.prototype.resize=function(Z,de){this.width=Z,this.height=de,this.pixelsToGLUnits=[2/Z,-2/de],this._constrain(),this._calcMatrices()},Pn.unmodified.get=function(){return this._unmodified},wn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},wn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},wn.prototype.project=function(Z){var de=n.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(Z.lng)*this.worldSize,n.mercatorYfromLat(de)*this.worldSize)},wn.prototype.unproject=function(Z){return new n.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Pn.point.get=function(){return this.project(this.center)},wn.prototype.setLocationAtPoint=function(Z,de){var te=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),Re=this.locationCoordinate(Z),We=new n.MercatorCoordinate(Re.x-(te.x-pe.x),Re.y-(te.y-pe.y));this.center=this.coordinateLocation(We),this._renderWorldCopies&&(this.center=this.center.wrap())},wn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},wn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},wn.prototype.locationCoordinate=function(Z){return n.MercatorCoordinate.fromLngLat(Z)},wn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},wn.prototype.pointCoordinate=function(Z){var de=0,te=[Z.x,Z.y,0,1],pe=[Z.x,Z.y,1,1];n.transformMat4(te,te,this.pixelMatrixInverse),n.transformMat4(pe,pe,this.pixelMatrixInverse);var Re=te[3],We=pe[3],st=te[0]/Re,Tt=pe[0]/We,Bt=te[1]/Re,Jt=pe[1]/We,ur=te[2]/Re,mr=pe[2]/We,Ir=(de-ur)/(mr-ur);return new n.MercatorCoordinate(n.number(st,Tt,Ir)/this.worldSize,n.number(Bt,Jt,Ir)/this.worldSize)},wn.prototype.coordinatePoint=function(Z){var de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return n.transformMat4(de,de,this.pixelMatrix),new n.Point(de[0]/de[3],de[1]/de[3])},wn.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},wn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},wn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},wn.prototype.calculatePosMatrix=function(Z,de){de===void 0&&(de=!1);var te=Z.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[te])return pe[te];var Re=Z.canonical,We=this.worldSize/this.zoomScale(Re.z),st=Re.x+Math.pow(2,Re.z)*Z.wrap,Tt=n.identity(new Float64Array(16));return n.translate(Tt,Tt,[st*We,Re.y*We,0]),n.scale(Tt,Tt,[We/n.EXTENT,We/n.EXTENT,1]),n.multiply(Tt,de?this.alignedProjMatrix:this.projMatrix,Tt),pe[te]=new Float32Array(Tt),pe[te]},wn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},wn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,de=90,te=-180,pe=180,Re,We,st,Tt,Bt=this.size,Jt=this._unmodified;if(this.latRange){var ur=this.latRange;Z=n.mercatorYfromLat(ur[1])*this.worldSize,de=n.mercatorYfromLat(ur[0])*this.worldSize,Re=de-Z<Bt.y?Bt.y/(de-Z):0}if(this.lngRange){var mr=this.lngRange;te=n.mercatorXfromLng(mr[0])*this.worldSize,pe=n.mercatorXfromLng(mr[1])*this.worldSize,We=pe-te<Bt.x?Bt.x/(pe-te):0}var Ir=this.point,Vr=Math.max(We||0,Re||0);if(Vr){this.center=this.unproject(new n.Point(We?(pe+te)/2:Ir.x,Re?(de+Z)/2:Ir.y)),this.zoom+=this.scaleZoom(Vr),this._unmodified=Jt,this._constraining=!1;return}if(this.latRange){var Gr=Ir.y,Hr=Bt.y/2;Gr-Hr<Z&&(Tt=Z+Hr),Gr+Hr>de&&(Tt=de-Hr)}if(this.lngRange){var Qr=Ir.x,on=Bt.x/2;Qr-on<te&&(st=te+on),Qr+on>pe&&(st=pe-on)}(st!==void 0||Tt!==void 0)&&(this.center=this.unproject(new n.Point(st!==void 0?st:Ir.x,Tt!==void 0?Tt:Ir.y))),this._unmodified=Jt,this._constraining=!1}},wn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var te=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),Re=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-te-pe,.01,Math.PI-.01)),We=this.point,st=We.x,Tt=We.y,Bt=Math.cos(Math.PI/2-this._pitch)*Re+this.cameraToCenterDistance,Jt=Bt*1.01,ur=this.height/50,mr=new Float64Array(16);n.perspective(mr,this._fov,this.width/this.height,ur,Jt),mr[8]=-de.x*2/this.width,mr[9]=de.y*2/this.height,n.scale(mr,mr,[1,-1,1]),n.translate(mr,mr,[0,0,-this.cameraToCenterDistance]),n.rotateX(mr,mr,this._pitch),n.rotateZ(mr,mr,this.angle),n.translate(mr,mr,[-st,-Tt,0]),this.mercatorMatrix=n.scale([],mr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(mr,mr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=mr,this.invProjMatrix=n.invert([],this.projMatrix);var Ir=this.width%2/2,Vr=this.height%2/2,Gr=Math.cos(this.angle),Hr=Math.sin(this.angle),Qr=st-Math.round(st)+Gr*Ir+Hr*Vr,on=Tt-Math.round(Tt)+Gr*Vr+Hr*Ir,Sn=new Float64Array(mr);if(n.translate(Sn,Sn,[Qr>.5?Qr-1:Qr,on>.5?on-1:on,0]),this.alignedProjMatrix=Sn,mr=n.create(),n.scale(mr,mr,[this.width/2,-this.height/2,1]),n.translate(mr,mr,[1,-1,0]),this.labelPlaneMatrix=mr,mr=n.create(),n.scale(mr,mr,[1,-1,1]),n.translate(mr,mr,[-1,-1,0]),n.scale(mr,mr,[2/this.width,2/this.height,1]),this.glCoordMatrix=mr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),mr=n.invert(new Float64Array(16),this.pixelMatrix),!mr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=mr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},wn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new n.Point(0,0)),de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],te=n.transformMat4(de,de,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},wn.prototype.getCameraPoint=function(){var Z=this._pitch,de=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,de))},wn.prototype.getCameraQueryGeometry=function(Z){var de=this.getCameraPoint();if(Z.length===1)return[Z[0],de];for(var te=de.x,pe=de.y,Re=de.x,We=de.y,st=0,Tt=Z;st<Tt.length;st+=1){var Bt=Tt[st];te=Math.min(te,Bt.x),pe=Math.min(pe,Bt.y),Re=Math.max(Re,Bt.x),We=Math.max(We,Bt.y)}return[new n.Point(te,pe),new n.Point(Re,pe),new n.Point(Re,We),new n.Point(te,We),new n.Point(te,pe)]},Object.defineProperties(wn.prototype,Pn);function ca(fe,Z){var de=!1,te=null,pe=function(){te=null,de&&(fe(),te=setTimeout(pe,Z),de=!1)};return function(){return de=!0,te||pe(),te}}var Ma=function(Z){this._hashName=Z&&encodeURIComponent(Z),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ca(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ma.prototype.addTo=function(Z){return this._map=Z,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ma.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ma.prototype.getHashString=function(Z){var de=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),Re=Math.pow(10,pe),We=Math.round(de.lng*Re)/Re,st=Math.round(de.lat*Re)/Re,Tt=this._map.getBearing(),Bt=this._map.getPitch(),Jt="";if(Z?Jt+="/"+We+"/"+st+"/"+te:Jt+=te+"/"+st+"/"+We,(Tt||Bt)&&(Jt+="/"+Math.round(Tt*10)/10),Bt&&(Jt+="/"+Math.round(Bt)),this._hashName){var ur=this._hashName,mr=!1,Ir=n.window.location.hash.slice(1).split("&").map(function(Vr){var Gr=Vr.split("=")[0];return Gr===ur?(mr=!0,Gr+"="+Jt):Vr}).filter(function(Vr){return Vr});return mr||Ir.push(ur+"="+Jt),"#"+Ir.join("&")}return"#"+Jt},Ma.prototype._getCurrentHash=function(){var Z=this,de=n.window.location.hash.replace("#","");if(this._hashName){var te;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===Z._hashName&&(te=pe)}),(te&&te[1]||"").split("/")}return de.split("/")},Ma.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(te){return isNaN(te)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:de,pitch:+(Z[4]||0)}),!0}return!1},Ma.prototype._updateHashUnthrottled=function(){var Z=this.getHashString();try{n.window.history.replaceState(n.window.history.state,"",Z)}catch{}};var Ca={linearity:.3,easing:n.bezier(0,0,.3,1)},La=n.extend({deceleration:2500,maxSpeed:1400},Ca),Ra=n.extend({deceleration:20,maxSpeed:1400},Ca),ri=n.extend({deceleration:1e3,maxSpeed:360},Ca),Li=n.extend({deceleration:1e3,maxSpeed:90},Ca),ci=function(Z){this._map=Z,this.clear()};ci.prototype.clear=function(){this._inertiaBuffer=[]},ci.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:Z})},ci.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,de=n.browser.now(),te=160;Z.length>0&&de-Z[0].time>te;)Z.shift()},ci.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},te=0,pe=this._inertiaBuffer;te<pe.length;te+=1){var Re=pe[te],We=Re.settings;de.zoom+=We.zoomDelta||0,de.bearing+=We.bearingDelta||0,de.pitch+=We.pitchDelta||0,We.panDelta&&de.pan._add(We.panDelta),We.around&&(de.around=We.around),We.pinchAround&&(de.pinchAround=We.pinchAround)}var st=this._inertiaBuffer[this._inertiaBuffer.length-1],Tt=st.time-this._inertiaBuffer[0].time,Bt={};if(de.pan.mag()){var Jt=Se(de.pan.mag(),Tt,n.extend({},La,Z||{}));Bt.offset=de.pan.mult(Jt.amount/de.pan.mag()),Bt.center=this._map.transform.center,se(Bt,Jt)}if(de.zoom){var ur=Se(de.zoom,Tt,Ra);Bt.zoom=this._map.transform.zoom+ur.amount,se(Bt,ur)}if(de.bearing){var mr=Se(de.bearing,Tt,ri);Bt.bearing=this._map.transform.bearing+n.clamp(mr.amount,-179,179),se(Bt,mr)}if(de.pitch){var Ir=Se(de.pitch,Tt,Li);Bt.pitch=this._map.transform.pitch+Ir.amount,se(Bt,Ir)}if(Bt.zoom||Bt.bearing){var Vr=de.pinchAround===void 0?de.around:de.pinchAround;Bt.around=Vr?this._map.unproject(Vr):this._map.getCenter()}return this.clear(),n.extend(Bt,{noMoveStart:!0})}};function se(fe,Z){(!fe.duration||fe.duration<Z.duration)&&(fe.duration=Z.duration,fe.easing=Z.easing)}function Se(fe,Z,de){var te=de.maxSpeed,pe=de.linearity,Re=de.deceleration,We=n.clamp(fe*pe/(Z/1e3),-te,te),st=Math.abs(We)/(Re*pe);return{easing:de.easing,duration:st*1e3,amount:We*(st/2)}}var Oe=function(fe){function Z(te,pe,Re,We){We===void 0&&(We={});var st=w.mousePos(pe.getCanvasContainer(),Re),Tt=pe.unproject(st);fe.call(this,te,n.extend({point:st,lngLat:Tt,originalEvent:Re},We)),this._defaultPrevented=!1,this.target=pe}fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(n.Event),Ke=function(fe){function Z(te,pe,Re){var We=te==="touchend"?Re.changedTouches:Re.touches,st=w.touchPos(pe.getCanvasContainer(),We),Tt=st.map(function(ur){return pe.unproject(ur)}),Bt=st.reduce(function(ur,mr,Ir,Vr){return ur.add(mr.div(Vr.length))},new n.Point(0,0)),Jt=pe.unproject(Bt);fe.call(this,te,{points:st,point:Bt,lngLats:Tt,lngLat:Jt,originalEvent:Re}),this._defaultPrevented=!1}fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(n.Event),tt=function(fe){function Z(te,pe,Re){fe.call(this,te,{originalEvent:Re}),this._defaultPrevented=!1}fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(n.Event),nt=function(Z,de){this._map=Z,this._clickTolerance=de.clickTolerance};nt.prototype.reset=function(){delete this._mousedownPos},nt.prototype.wheel=function(Z){return this._firePreventable(new tt(Z.type,this._map,Z))},nt.prototype.mousedown=function(Z,de){return this._mousedownPos=de,this._firePreventable(new Oe(Z.type,this._map,Z))},nt.prototype.mouseup=function(Z){this._map.fire(new Oe(Z.type,this._map,Z))},nt.prototype.click=function(Z,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new Oe(Z.type,this._map,Z))},nt.prototype.dblclick=function(Z){return this._firePreventable(new Oe(Z.type,this._map,Z))},nt.prototype.mouseover=function(Z){this._map.fire(new Oe(Z.type,this._map,Z))},nt.prototype.mouseout=function(Z){this._map.fire(new Oe(Z.type,this._map,Z))},nt.prototype.touchstart=function(Z){return this._firePreventable(new Ke(Z.type,this._map,Z))},nt.prototype.touchmove=function(Z){this._map.fire(new Ke(Z.type,this._map,Z))},nt.prototype.touchend=function(Z){this._map.fire(new Ke(Z.type,this._map,Z))},nt.prototype.touchcancel=function(Z){this._map.fire(new Ke(Z.type,this._map,Z))},nt.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},nt.prototype.isEnabled=function(){return!0},nt.prototype.isActive=function(){return!1},nt.prototype.enable=function(){},nt.prototype.disable=function(){};var Pt=function(Z){this._map=Z};Pt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pt.prototype.mousemove=function(Z){this._map.fire(new Oe(Z.type,this._map,Z))},Pt.prototype.mousedown=function(){this._delayContextMenu=!0},Pt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Oe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new Oe(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var vt=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=de.clickTolerance||1};vt.prototype.isEnabled=function(){return!!this._enabled},vt.prototype.isActive=function(){return!!this._active},vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vt.prototype.mousedown=function(Z,de){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(w.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},vt.prototype.mousemoveWindow=function(Z,de){if(this._active){var te=de;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=te,this._box||(this._box=w.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Re=Math.min(pe.x,te.x),We=Math.max(pe.x,te.x),st=Math.min(pe.y,te.y),Tt=Math.max(pe.y,te.y);w.setTransform(this._box,"translate("+Re+"px,"+st+"px)"),this._box.style.width=We-Re+"px",this._box.style.height=Tt-st+"px"}}},vt.prototype.mouseupWindow=function(Z,de){var te=this;if(this._active&&Z.button===0){var pe=this._startPos,Re=de;if(this.reset(),w.suppressClick(),pe.x===Re.x&&pe.y===Re.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(We){return We.fitScreenCoordinates(pe,Re,te._map.getBearing(),{linear:!0})}}}},vt.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos},vt.prototype._fireEvent=function(Z,de){return this._map.fire(new n.Event(Z,{originalEvent:de}))};function Ht(fe,Z){for(var de={},te=0;te<fe.length;te++)de[fe[te].identifier]=Z[te];return de}function qt(fe){for(var Z=new n.Point(0,0),de=0,te=fe;de<te.length;de+=1){var pe=te[de];Z._add(pe)}return Z.div(fe.length)}var er=500,Cr=500,Sr=30,Xr=function(Z){this.reset(),this.numTouches=Z.numTouches};Xr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Xr.prototype.touchstart=function(Z,de,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),te.length===this.numTouches&&(this.centroid=qt(de),this.touches=Ht(te,de)))},Xr.prototype.touchmove=function(Z,de,te){if(!(this.aborted||!this.centroid)){var pe=Ht(te,de);for(var Re in this.touches){var We=this.touches[Re],st=pe[Re];(!st||st.dist(We)>Sr)&&(this.aborted=!0)}}},Xr.prototype.touchend=function(Z,de,te){if((!this.centroid||Z.timeStamp-this.startTime>Cr)&&(this.aborted=!0),te.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var qr=function(Z){this.singleTap=new Xr(Z),this.numTaps=Z.numTaps,this.reset()};qr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},qr.prototype.touchstart=function(Z,de,te){this.singleTap.touchstart(Z,de,te)},qr.prototype.touchmove=function(Z,de,te){this.singleTap.touchmove(Z,de,te)},qr.prototype.touchend=function(Z,de,te){var pe=this.singleTap.touchend(Z,de,te);if(pe){var Re=Z.timeStamp-this.lastTime<er,We=!this.lastTap||this.lastTap.dist(pe)<Sr;if((!Re||!We)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Dr=function(){this._zoomIn=new qr({numTouches:1,numTaps:2}),this._zoomOut=new qr({numTouches:2,numTaps:1}),this.reset()};Dr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Dr.prototype.touchstart=function(Z,de,te){this._zoomIn.touchstart(Z,de,te),this._zoomOut.touchstart(Z,de,te)},Dr.prototype.touchmove=function(Z,de,te){this._zoomIn.touchmove(Z,de,te),this._zoomOut.touchmove(Z,de,te)},Dr.prototype.touchend=function(Z,de,te){var pe=this,Re=this._zoomIn.touchend(Z,de,te),We=this._zoomOut.touchend(Z,de,te);if(Re)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()+1,around:st.unproject(Re)},{originalEvent:Z})}};if(We)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()-1,around:st.unproject(We)},{originalEvent:Z})}}},Dr.prototype.touchcancel=function(){this.reset()},Dr.prototype.enable=function(){this._enabled=!0},Dr.prototype.disable=function(){this._enabled=!1,this.reset()},Dr.prototype.isEnabled=function(){return this._enabled},Dr.prototype.isActive=function(){return this._active};var Ur=0,Yr=2,en=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};en.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},en.prototype._correctButton=function(Z,de){return!1},en.prototype._move=function(Z,de){return{}},en.prototype.mousedown=function(Z,de){if(!this._lastPoint){var te=w.mouseButton(Z);this._correctButton(Z,te)&&(this._lastPoint=de,this._eventButton=te)}},en.prototype.mousemoveWindow=function(Z,de){var te=this._lastPoint;if(te&&(Z.preventDefault(),!(!this._moved&&de.dist(te)<this._clickTolerance)))return this._moved=!0,this._lastPoint=de,this._move(te,de)},en.prototype.mouseupWindow=function(Z){var de=w.mouseButton(Z);de===this._eventButton&&(this._moved&&w.suppressClick(),this.reset())},en.prototype.enable=function(){this._enabled=!0},en.prototype.disable=function(){this._enabled=!1,this.reset()},en.prototype.isEnabled=function(){return this._enabled},en.prototype.isActive=function(){return this._active};var ln=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(te,pe){fe.prototype.mousedown.call(this,te,pe),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(te,pe){return pe===Ur&&!te.ctrlKey},Z.prototype._move=function(te,pe){return{around:pe,panDelta:pe.sub(te)}},Z}(en),Zr=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,pe){return pe===Ur&&te.ctrlKey||pe===Yr},Z.prototype._move=function(te,pe){var Re=.8,We=(pe.x-te.x)*Re;if(We)return this._active=!0,{bearingDelta:We}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(en),On=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(te,pe){return pe===Ur&&te.ctrlKey||pe===Yr},Z.prototype._move=function(te,pe){var Re=-.5,We=(pe.y-te.y)*Re;if(We)return this._active=!0,{pitchDelta:We}},Z.prototype.contextmenu=function(te){te.preventDefault()},Z}(en),Vn=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};Vn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Vn.prototype.touchstart=function(Z,de,te){return this._calculateTransform(Z,de,te)},Vn.prototype.touchmove=function(Z,de,te){if(this._active)return Z.preventDefault(),this._calculateTransform(Z,de,te)},Vn.prototype.touchend=function(Z,de,te){this._calculateTransform(Z,de,te),this._active&&te.length<this._minTouches&&this.reset()},Vn.prototype.touchcancel=function(){this.reset()},Vn.prototype._calculateTransform=function(Z,de,te){te.length>0&&(this._active=!0);var pe=Ht(te,de),Re=new n.Point(0,0),We=new n.Point(0,0),st=0;for(var Tt in pe){var Bt=pe[Tt],Jt=this._touches[Tt];Jt&&(Re._add(Bt),We._add(Bt.sub(Jt)),st++,pe[Tt]=Bt)}if(this._touches=pe,!(st<this._minTouches||!We.mag())){var ur=We.div(st);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var mr=Re.div(st);return{around:mr,panDelta:ur}}}},Vn.prototype.enable=function(){this._enabled=!0},Vn.prototype.disable=function(){this._enabled=!1,this.reset()},Vn.prototype.isEnabled=function(){return this._enabled},Vn.prototype.isActive=function(){return this._active};var Xn=function(){this.reset()};Xn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Xn.prototype._start=function(Z){},Xn.prototype._move=function(Z,de,te){return{}},Xn.prototype.touchstart=function(Z,de,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([de[0],de[1]]))},Xn.prototype.touchmove=function(Z,de,te){if(this._firstTwoTouches){Z.preventDefault();var pe=this._firstTwoTouches,Re=pe[0],We=pe[1],st=ta(te,de,Re),Tt=ta(te,de,We);if(!(!st||!Tt)){var Bt=this._aroundCenter?null:st.add(Tt).div(2);return this._move([st,Tt],Bt,Z)}}},Xn.prototype.touchend=function(Z,de,te){if(this._firstTwoTouches){var pe=this._firstTwoTouches,Re=pe[0],We=pe[1],st=ta(te,de,Re),Tt=ta(te,de,We);st&&Tt||(this._active&&w.suppressClick(),this.reset())}},Xn.prototype.touchcancel=function(){this.reset()},Xn.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},Xn.prototype.disable=function(){this._enabled=!1,this.reset()},Xn.prototype.isEnabled=function(){return this._enabled},Xn.prototype.isActive=function(){return this._active};function ta(fe,Z,de){for(var te=0;te<fe.length;te++)if(fe[te].identifier===de)return Z[te]}var ya=.1;function ga(fe,Z){return Math.log(fe/Z)/Math.LN2}var za=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){fe.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},Z.prototype._move=function(te,pe){var Re=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(ga(this._distance,this._startDistance))<ya))return this._active=!0,{zoomDelta:ga(this._distance,Re),pinchAround:pe}},Z}(Xn),Aa=25;function _a(fe,Z){return fe.angleWith(Z)*180/Math.PI}var Xa=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){fe.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},Z.prototype._move=function(te,pe){var Re=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:_a(this._vector,Re),pinchAround:pe}},Z.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var pe=Math.PI*this._minDiameter,Re=Aa/pe*360,We=_a(te,this._startVector);return Math.abs(We)<Re},Z}(Xn);function $a(fe){return Math.abs(fe.y)>Math.abs(fe.x)}var oi=100,Bn=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){fe.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(te){this._lastPoints=te,$a(te[0].sub(te[1]))&&(this._valid=!1)},Z.prototype._move=function(te,pe,Re){var We=te[0].sub(this._lastPoints[0]),st=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(We,st,Re.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Tt=(We.y+st.y)/2,Bt=-.5;return{pitchDelta:Tt*Bt}}},Z.prototype.gestureBeginsVertically=function(te,pe,Re){if(this._valid!==void 0)return this._valid;var We=2,st=te.mag()>=We,Tt=pe.mag()>=We;if(!(!st&&!Tt)){if(!st||!Tt)return this._firstMove===void 0&&(this._firstMove=Re),Re-this._firstMove<oi?void 0:!1;var Bt=te.y>0==pe.y>0;return $a(te)&&$a(pe)&&Bt}},Z}(Xn),Fa={panStep:100,bearingStep:15,pitchStep:10},Da=function(){var Z=Fa;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep};Da.prototype.reset=function(){this._active=!1},Da.prototype.keydown=function(Z){var de=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var te=0,pe=0,Re=0,We=0,st=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:Z.shiftKey?pe=-1:(Z.preventDefault(),We=-1);break;case 39:Z.shiftKey?pe=1:(Z.preventDefault(),We=1);break;case 38:Z.shiftKey?Re=1:(Z.preventDefault(),st=-1);break;case 40:Z.shiftKey?Re=-1:(Z.preventDefault(),st=1);break;default:return}return{cameraAnimation:function(Tt){var Bt=Tt.getZoom();Tt.easeTo({duration:300,easeId:"keyboardHandler",easing:Ha,zoom:te?Math.round(Bt)+te*(Z.shiftKey?2:1):Bt,bearing:Tt.getBearing()+pe*de._bearingStep,pitch:Tt.getPitch()+Re*de._pitchStep,offset:[-We*de._panStep,-st*de._panStep],center:Tt.getCenter()},{originalEvent:Z})}}}},Da.prototype.enable=function(){this._enabled=!0},Da.prototype.disable=function(){this._enabled=!1,this.reset()},Da.prototype.isEnabled=function(){return this._enabled},Da.prototype.isActive=function(){return this._active};function Ha(fe){return fe*(2-fe)}var wi=4.000244140625,Ii=1/100,zi=1/450,pi=2,li=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=Ii,this._wheelZoomRate=zi,n.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};li.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},li.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},li.prototype.isEnabled=function(){return!!this._enabled},li.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},li.prototype.isZooming=function(){return!!this._zooming},li.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},li.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},li.prototype.wheel=function(Z){if(this.isEnabled()){var de=Z.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,te=n.browser.now(),pe=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,de!==0&&de%wi===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),Z.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=Z,this._delta-=de,this._active||this._start(Z)),Z.preventDefault()}},li.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},li.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=w.mousePos(this._el,Z);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},li.prototype.renderFrame=function(){return this._onScrollFrame()},li.prototype._onScrollFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>wi?this._wheelZoomRate:this._defaultZoomRate,pe=pi/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&pe!==0&&(pe=1/pe);var Re=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(Re*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var We=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,st=this._startZoom,Tt=this._easing,Bt=!1,Jt;if(this._type==="wheel"&&st&&Tt){var ur=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),mr=Tt(ur);Jt=n.number(st,We,mr),ur<1?this._frameId||(this._frameId=!0):Bt=!0}else Jt=We,Bt=!0;return this._active=!0,Bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Bt,zoomDelta:Jt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},li.prototype._smoothOutEasing=function(Z){var de=n.ease;if(this._prevEase){var te=this._prevEase,pe=(n.browser.now()-te.start)/te.duration,Re=te.easing(pe+.01)-te.easing(pe),We=.27/Math.sqrt(Re*Re+1e-4)*.01,st=Math.sqrt(.27*.27-We*We);de=n.bezier(We,st,.25,1)}return this._prevEase={start:n.browser.now(),duration:Z,easing:de},de},li.prototype.reset=function(){this._active=!1};var da=function(Z,de){this._clickZoom=Z,this._tapZoom=de};da.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},da.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},da.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},da.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var wa=function(){this.reset()};wa.prototype.reset=function(){this._active=!1},wa.prototype.dblclick=function(Z,de){return Z.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(Z.shiftKey?-1:1),around:te.unproject(de)},{originalEvent:Z})}}},wa.prototype.enable=function(){this._enabled=!0},wa.prototype.disable=function(){this._enabled=!1,this.reset()},wa.prototype.isEnabled=function(){return this._enabled},wa.prototype.isActive=function(){return this._active};var gi=function(){this._tap=new qr({numTouches:1,numTaps:1}),this.reset()};gi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},gi.prototype.touchstart=function(Z,de,te){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>er&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=de[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(Z,de,te))},gi.prototype.touchmove=function(Z,de,te){if(!this._tapTime)this._tap.touchmove(Z,de,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var pe=de[0],Re=pe.y-this._swipePoint.y;return this._swipePoint=pe,Z.preventDefault(),this._active=!0,{zoomDelta:Re/128}}},gi.prototype.touchend=function(Z,de,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var pe=this._tap.touchend(Z,de,te);pe&&(this._tapTime=Z.timeStamp)}},gi.prototype.touchcancel=function(){this.reset()},gi.prototype.enable=function(){this._enabled=!0},gi.prototype.disable=function(){this._enabled=!1,this.reset()},gi.prototype.isEnabled=function(){return this._enabled},gi.prototype.isActive=function(){return this._active};var ki=function(Z,de,te){this._el=Z,this._mousePan=de,this._touchPan=te};ki.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ki.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ki.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ki.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Po=function(Z,de,te){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=de,this._mousePitch=te};Po.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Po.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Po.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Po.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Xi=function(Z,de,te,pe){this._el=Z,this._touchZoom=de,this._touchRotate=te,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Xi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Xi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Xi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Xi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Xi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Xi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var co=function(fe){return fe.zoom||fe.drag||fe.pitch||fe.rotate},Mi=function(fe){function Z(){fe.apply(this,arguments)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z}(n.Event);function Fo(fe){return fe.panDelta&&fe.panDelta.mag()||fe.zoomDelta||fe.bearingDelta||fe.pitchDelta}var hi=function(Z,de){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ci(Z),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),n.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!1}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[n.window,"blur",void 0]];for(var pe=0,Re=this._listeners;pe<Re.length;pe+=1){var We=Re[pe],st=We[0],Tt=We[1],Bt=We[2];w.addEventListener(st,Tt,st===n.window.document?this.handleWindowEvent:this.handleEvent,Bt)}};hi.prototype.destroy=function(){for(var Z=0,de=this._listeners;Z<de.length;Z+=1){var te=de[Z],pe=te[0],Re=te[1],We=te[2];w.removeEventListener(pe,Re,pe===n.window.document?this.handleWindowEvent:this.handleEvent,We)}},hi.prototype._addDefaultHandlers=function(Z){var de=this._map,te=de.getCanvasContainer();this._add("mapEvent",new nt(de,Z));var pe=de.boxZoom=new vt(de,Z);this._add("boxZoom",pe);var Re=new Dr,We=new wa;de.doubleClickZoom=new da(We,Re),this._add("tapZoom",Re),this._add("clickZoom",We);var st=new gi;this._add("tapDragZoom",st);var Tt=de.touchPitch=new Bn;this._add("touchPitch",Tt);var Bt=new Zr(Z),Jt=new On(Z);de.dragRotate=new Po(Z,Bt,Jt),this._add("mouseRotate",Bt,["mousePitch"]),this._add("mousePitch",Jt,["mouseRotate"]);var ur=new ln(Z),mr=new Vn(Z);de.dragPan=new ki(te,ur,mr),this._add("mousePan",ur),this._add("touchPan",mr,["touchZoom","touchRotate"]);var Ir=new Xa,Vr=new za;de.touchZoomRotate=new Xi(te,Vr,Ir,st),this._add("touchRotate",Ir,["touchPan","touchZoom"]),this._add("touchZoom",Vr,["touchPan","touchRotate"]);var Gr=de.scrollZoom=new li(de,this);this._add("scrollZoom",Gr,["mousePan"]);var Hr=de.keyboard=new Da;this._add("keyboard",Hr),this._add("blockableMapEvent",new Pt(de));for(var Qr=0,on=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<on.length;Qr+=1){var Sn=on[Qr];Z.interactive&&Z[Sn]&&de[Sn].enable(Z[Sn])}},hi.prototype._add=function(Z,de,te){this._handlers.push({handlerName:Z,handler:de,allowed:te}),this._handlersById[Z]=de},hi.prototype.stop=function(){if(!this._updatingCamera){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var te=de[Z],pe=te.handler;pe.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},hi.prototype.isActive=function(){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var te=de[Z],pe=te.handler;if(pe.isActive())return!0}return!1},hi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},hi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},hi.prototype.isMoving=function(){return!!co(this._eventsInProgress)||this.isZooming()},hi.prototype._blockedByActive=function(Z,de,te){for(var pe in Z)if(pe!==te&&(!de||de.indexOf(pe)<0))return!0;return!1},hi.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},hi.prototype._getMapTouches=function(Z){for(var de=[],te=0,pe=Z;te<pe.length;te+=1){var Re=pe[te],We=Re.target;this._el.contains(We)&&de.push(Re)}return de},hi.prototype.handleEvent=function(Z,de){if(Z.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var te=Z.type==="renderFrame"?void 0:Z,pe={needsRenderFrame:!1},Re={},We={},st=Z.touches?this._getMapTouches(Z.touches):void 0,Tt=st?w.touchPos(this._el,st):w.mousePos(this._el,Z),Bt=0,Jt=this._handlers;Bt<Jt.length;Bt+=1){var ur=Jt[Bt],mr=ur.handlerName,Ir=ur.handler,Vr=ur.allowed;if(Ir.isEnabled()){var Gr=void 0;this._blockedByActive(We,Vr,mr)?Ir.reset():Ir[de||Z.type]&&(Gr=Ir[de||Z.type](Z,Tt,st),this.mergeHandlerResult(pe,Re,Gr,mr,te),Gr&&Gr.needsRenderFrame&&this._triggerRenderFrame()),(Gr||Ir.isActive())&&(We[mr]=Ir)}}var Hr={};for(var Qr in this._previousActiveHandlers)We[Qr]||(Hr[Qr]=te);this._previousActiveHandlers=We,(Object.keys(Hr).length||Fo(pe))&&(this._changes.push([pe,Re,Hr]),this._triggerRenderFrame()),(Object.keys(We).length||Fo(pe))&&this._map._stop(!0),this._updatingCamera=!1;var on=pe.cameraAnimation;on&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],on(this._map))},hi.prototype.mergeHandlerResult=function(Z,de,te,pe,Re){if(te){n.extend(Z,te);var We={handlerName:pe,originalEvent:te.originalEvent||Re};te.zoomDelta!==void 0&&(de.zoom=We),te.panDelta!==void 0&&(de.drag=We),te.pitchDelta!==void 0&&(de.pitch=We),te.bearingDelta!==void 0&&(de.rotate=We)}},hi.prototype._applyChanges=function(){for(var Z={},de={},te={},pe=0,Re=this._changes;pe<Re.length;pe+=1){var We=Re[pe],st=We[0],Tt=We[1],Bt=We[2];st.panDelta&&(Z.panDelta=(Z.panDelta||new n.Point(0,0))._add(st.panDelta)),st.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+st.zoomDelta),st.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+st.bearingDelta),st.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+st.pitchDelta),st.around!==void 0&&(Z.around=st.around),st.pinchAround!==void 0&&(Z.pinchAround=st.pinchAround),st.noInertia&&(Z.noInertia=st.noInertia),n.extend(de,Tt),n.extend(te,Bt)}this._updateMapTransform(Z,de,te),this._changes=[]},hi.prototype._updateMapTransform=function(Z,de,te){var pe=this._map,Re=pe.transform;if(!Fo(Z))return this._fireEvents(de,te);var We=Z.panDelta,st=Z.zoomDelta,Tt=Z.bearingDelta,Bt=Z.pitchDelta,Jt=Z.around,ur=Z.pinchAround;ur!==void 0&&(Jt=ur),pe._stop(!0),Jt=Jt||pe.transform.centerPoint;var mr=Re.pointLocation(We?Jt.sub(We):Jt);Tt&&(Re.bearing+=Tt),Bt&&(Re.pitch+=Bt),st&&(Re.zoom+=st),Re.setLocationAtPoint(mr,Jt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(de,te)},hi.prototype._fireEvents=function(Z,de){var te=this,pe=co(this._eventsInProgress),Re=co(Z),We={};for(var st in Z){var Tt=Z[st],Bt=Tt.originalEvent;this._eventsInProgress[st]||(We[st+"start"]=Bt),this._eventsInProgress[st]=Z[st]}!pe&&Re&&this._fireEvent("movestart",Re.originalEvent);for(var Jt in We)this._fireEvent(Jt,We[Jt]);Z.rotate&&(this._bearingChanged=!0),Re&&this._fireEvent("move",Re.originalEvent);for(var ur in Z){var mr=Z[ur],Ir=mr.originalEvent;this._fireEvent(ur,Ir)}var Vr={},Gr;for(var Hr in this._eventsInProgress){var Qr=this._eventsInProgress[Hr],on=Qr.handlerName,Sn=Qr.originalEvent;this._handlersById[on].isActive()||(delete this._eventsInProgress[Hr],Gr=de[on]||Sn,Vr[Hr+"end"]=Gr)}for(var kn in Vr)this._fireEvent(kn,Vr[kn]);var Wn=co(this._eventsInProgress);if((pe||Re)&&!Wn){this._updatingCamera=!0;var Zn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Yn=function(qn){return qn!==0&&-te._bearingSnap<qn&&qn<te._bearingSnap};Zn?(Yn(Zn.bearing||this._map.getBearing())&&(Zn.bearing=0),this._map.easeTo(Zn,{originalEvent:Gr})):(this._map.fire(new n.Event("moveend",{originalEvent:Gr})),Yn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},hi.prototype._fireEvent=function(Z,de){this._map.fire(new n.Event(Z,de?{originalEvent:de}:{}))},hi.prototype._triggerRenderFrame=function(){var Z=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(de){delete Z._frameId,Z.handleEvent(new Mi("renderFrame",{timeStamp:de})),Z._applyChanges()}))};var ns=function(fe){function Z(de,te){fe.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=te.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(te,pe){return this.jumpTo({center:te},pe)},Z.prototype.panBy=function(te,pe,Re){return te=n.Point.convert(te).mult(-1),this.panTo(this.transform.center,n.extend({offset:te},pe),Re)},Z.prototype.panTo=function(te,pe,Re){return this.easeTo(n.extend({center:te},pe),Re)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(te,pe){return this.jumpTo({zoom:te},pe),this},Z.prototype.zoomTo=function(te,pe,Re){return this.easeTo(n.extend({zoom:te},pe),Re)},Z.prototype.zoomIn=function(te,pe){return this.zoomTo(this.getZoom()+1,te,pe),this},Z.prototype.zoomOut=function(te,pe){return this.zoomTo(this.getZoom()-1,te,pe),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(te,pe){return this.jumpTo({bearing:te},pe),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(te,pe){return this.jumpTo({padding:te},pe),this},Z.prototype.rotateTo=function(te,pe,Re){return this.easeTo(n.extend({bearing:te},pe),Re)},Z.prototype.resetNorth=function(te,pe){return this.rotateTo(0,n.extend({duration:1e3},te),pe),this},Z.prototype.resetNorthPitch=function(te,pe){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},te),pe),this},Z.prototype.snapToNorth=function(te,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,pe):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(te,pe){return this.jumpTo({pitch:te},pe),this},Z.prototype.cameraForBounds=function(te,pe){return te=n.LngLatBounds.convert(te),this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),0,pe)},Z.prototype._cameraForBoxAndBearing=function(te,pe,Re,We){var st={top:0,bottom:0,right:0,left:0};if(We=n.extend({padding:st,offset:[0,0],maxZoom:this.transform.maxZoom},We),typeof We.padding=="number"){var Tt=We.padding;We.padding={top:Tt,bottom:Tt,right:Tt,left:Tt}}We.padding=n.extend(st,We.padding);var Bt=this.transform,Jt=Bt.padding,ur=Bt.project(n.LngLat.convert(te)),mr=Bt.project(n.LngLat.convert(pe)),Ir=ur.rotate(-Re*Math.PI/180),Vr=mr.rotate(-Re*Math.PI/180),Gr=new n.Point(Math.max(Ir.x,Vr.x),Math.max(Ir.y,Vr.y)),Hr=new n.Point(Math.min(Ir.x,Vr.x),Math.min(Ir.y,Vr.y)),Qr=Gr.sub(Hr),on=(Bt.width-(Jt.left+Jt.right+We.padding.left+We.padding.right))/Qr.x,Sn=(Bt.height-(Jt.top+Jt.bottom+We.padding.top+We.padding.bottom))/Qr.y;if(Sn<0||on<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var kn=Math.min(Bt.scaleZoom(Bt.scale*Math.min(on,Sn)),We.maxZoom),Wn=n.Point.convert(We.offset),Zn=(We.padding.left-We.padding.right)/2,Yn=(We.padding.top-We.padding.bottom)/2,qn=new n.Point(Wn.x+Zn,Wn.y+Yn),ua=qn.mult(Bt.scale/Bt.zoomScale(kn)),la=Bt.unproject(ur.add(mr).div(2).sub(ua));return{center:la,zoom:kn,bearing:Re}},Z.prototype.fitBounds=function(te,pe,Re){return this._fitInternal(this.cameraForBounds(te,pe),pe,Re)},Z.prototype.fitScreenCoordinates=function(te,pe,Re,We,st){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(te)),this.transform.pointLocation(n.Point.convert(pe)),Re,We),We,st)},Z.prototype._fitInternal=function(te,pe,Re){return te?(pe=n.extend(te,pe),delete pe.padding,pe.linear?this.easeTo(pe,Re):this.flyTo(pe,Re)):this},Z.prototype.jumpTo=function(te,pe){this.stop();var Re=this.transform,We=!1,st=!1,Tt=!1;return"zoom"in te&&Re.zoom!==+te.zoom&&(We=!0,Re.zoom=+te.zoom),te.center!==void 0&&(Re.center=n.LngLat.convert(te.center)),"bearing"in te&&Re.bearing!==+te.bearing&&(st=!0,Re.bearing=+te.bearing),"pitch"in te&&Re.pitch!==+te.pitch&&(Tt=!0,Re.pitch=+te.pitch),te.padding!=null&&!Re.isPaddingEqual(te.padding)&&(Re.padding=te.padding),this.fire(new n.Event("movestart",pe)).fire(new n.Event("move",pe)),We&&this.fire(new n.Event("zoomstart",pe)).fire(new n.Event("zoom",pe)).fire(new n.Event("zoomend",pe)),st&&this.fire(new n.Event("rotatestart",pe)).fire(new n.Event("rotate",pe)).fire(new n.Event("rotateend",pe)),Tt&&this.fire(new n.Event("pitchstart",pe)).fire(new n.Event("pitch",pe)).fire(new n.Event("pitchend",pe)),this.fire(new n.Event("moveend",pe))},Z.prototype.easeTo=function(te,pe){var Re=this;this._stop(!1,te.easeId),te=n.extend({offset:[0,0],duration:500,easing:n.ease},te),(te.animate===!1||!te.essential&&n.browser.prefersReducedMotion)&&(te.duration=0);var We=this.transform,st=this.getZoom(),Tt=this.getBearing(),Bt=this.getPitch(),Jt=this.getPadding(),ur="zoom"in te?+te.zoom:st,mr="bearing"in te?this._normalizeBearing(te.bearing,Tt):Tt,Ir="pitch"in te?+te.pitch:Bt,Vr="padding"in te?te.padding:We.padding,Gr=n.Point.convert(te.offset),Hr=We.centerPoint.add(Gr),Qr=We.pointLocation(Hr),on=n.LngLat.convert(te.center||Qr);this._normalizeCenter(on);var Sn=We.project(Qr),kn=We.project(on).sub(Sn),Wn=We.zoomScale(ur-st),Zn,Yn;te.around&&(Zn=n.LngLat.convert(te.around),Yn=We.locationPoint(Zn));var qn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==st,this._rotating=this._rotating||Tt!==mr,this._pitching=this._pitching||Ir!==Bt,this._padding=!We.isPaddingEqual(Vr),this._easeId=te.easeId,this._prepareEase(pe,te.noMoveStart,qn),clearTimeout(this._easeEndTimeoutID),this._ease(function(ua){if(Re._zooming&&(We.zoom=n.number(st,ur,ua)),Re._rotating&&(We.bearing=n.number(Tt,mr,ua)),Re._pitching&&(We.pitch=n.number(Bt,Ir,ua)),Re._padding&&(We.interpolatePadding(Jt,Vr,ua),Hr=We.centerPoint.add(Gr)),Zn)We.setLocationAtPoint(Zn,Yn);else{var la=We.zoomScale(We.zoom-st),va=ur>st?Math.min(2,Wn):Math.max(.5,Wn),ma=Math.pow(va,1-ua),Pa=We.unproject(Sn.add(kn.mult(ua*ma)).mult(la));We.setLocationAtPoint(We.renderWorldCopies?Pa.wrap():Pa,Hr)}Re._fireMoveEvents(pe)},function(ua){Re._afterEase(pe,ua)},te),this},Z.prototype._prepareEase=function(te,pe,Re){Re===void 0&&(Re={}),this._moving=!0,!pe&&!Re.moving&&this.fire(new n.Event("movestart",te)),this._zooming&&!Re.zooming&&this.fire(new n.Event("zoomstart",te)),this._rotating&&!Re.rotating&&this.fire(new n.Event("rotatestart",te)),this._pitching&&!Re.pitching&&this.fire(new n.Event("pitchstart",te))},Z.prototype._fireMoveEvents=function(te){this.fire(new n.Event("move",te)),this._zooming&&this.fire(new n.Event("zoom",te)),this._rotating&&this.fire(new n.Event("rotate",te)),this._pitching&&this.fire(new n.Event("pitch",te))},Z.prototype._afterEase=function(te,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var Re=this._zooming,We=this._rotating,st=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Re&&this.fire(new n.Event("zoomend",te)),We&&this.fire(new n.Event("rotateend",te)),st&&this.fire(new n.Event("pitchend",te)),this.fire(new n.Event("moveend",te))}},Z.prototype.flyTo=function(te,pe){var Re=this;if(!te.essential&&n.browser.prefersReducedMotion){var We=n.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(We,pe)}this.stop(),te=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},te);var st=this.transform,Tt=this.getZoom(),Bt=this.getBearing(),Jt=this.getPitch(),ur=this.getPadding(),mr="zoom"in te?n.clamp(+te.zoom,st.minZoom,st.maxZoom):Tt,Ir="bearing"in te?this._normalizeBearing(te.bearing,Bt):Bt,Vr="pitch"in te?+te.pitch:Jt,Gr="padding"in te?te.padding:st.padding,Hr=st.zoomScale(mr-Tt),Qr=n.Point.convert(te.offset),on=st.centerPoint.add(Qr),Sn=st.pointLocation(on),kn=n.LngLat.convert(te.center||Sn);this._normalizeCenter(kn);var Wn=st.project(Sn),Zn=st.project(kn).sub(Wn),Yn=te.curve,qn=Math.max(st.width,st.height),ua=qn/Hr,la=Zn.mag();if("minZoom"in te){var va=n.clamp(Math.min(te.minZoom,Tt,mr),st.minZoom,st.maxZoom),ma=qn/st.zoomScale(va-Tt);Yn=Math.sqrt(ma/la*2)}var Pa=Yn*Yn;function Oa(Ba){var ja=(ua*ua-qn*qn+(Ba?-1:1)*Pa*Pa*la*la)/(2*(Ba?ua:qn)*Pa*la);return Math.log(Math.sqrt(ja*ja+1)-ja)}function ni(Ba){return(Math.exp(Ba)-Math.exp(-Ba))/2}function Na(Ba){return(Math.exp(Ba)+Math.exp(-Ba))/2}function Wa(Ba){return ni(Ba)/Na(Ba)}var Sa=Oa(0),ai=function(Ba){return Na(Sa)/Na(Sa+Yn*Ba)},si=function(Ba){return qn*((Na(Sa)*Wa(Sa+Yn*Ba)-ni(Sa))/Pa)/la},ui=(Oa(1)-Sa)/Yn;if(Math.abs(la)<1e-6||!isFinite(ui)){if(Math.abs(qn-ua)<1e-6)return this.easeTo(te,pe);var Za=ua<qn?-1:1;ui=Math.abs(Math.log(ua/qn))/Yn,si=function(){return 0},ai=function(Ba){return Math.exp(Za*Yn*Ba)}}if("duration"in te)te.duration=+te.duration;else{var mi="screenSpeed"in te?+te.screenSpeed/Yn:+te.speed;te.duration=1e3*ui/mi}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Bt!==Ir,this._pitching=Vr!==Jt,this._padding=!st.isPaddingEqual(Gr),this._prepareEase(pe,!1),this._ease(function(Ba){var ja=Ba*ui,Oi=1/ai(ja);st.zoom=Ba===1?mr:Tt+st.scaleZoom(Oi),Re._rotating&&(st.bearing=n.number(Bt,Ir,Ba)),Re._pitching&&(st.pitch=n.number(Jt,Vr,Ba)),Re._padding&&(st.interpolatePadding(ur,Gr,Ba),on=st.centerPoint.add(Qr));var $i=Ba===1?kn:st.unproject(Wn.add(Zn.mult(si(ja))).mult(Oi));st.setLocationAtPoint(st.renderWorldCopies?$i.wrap():$i,on),Re._fireMoveEvents(pe)},function(){return Re._afterEase(pe)},te),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(te,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Re=this._onEaseEnd;delete this._onEaseEnd,Re.call(this,pe)}if(!te){var We=this.handlers;We&&We.stop()}return this},Z.prototype._ease=function(te,pe,Re){Re.animate===!1||Re.duration===0?(te(1),pe()):(this._easeStart=n.browser.now(),this._easeOptions=Re,this._onEaseFrame=te,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var te=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(te,pe){te=n.wrap(te,-180,180);var Re=Math.abs(te-pe);return Math.abs(te-360-pe)<Re&&(te-=360),Math.abs(te+360-pe)<Re&&(te+=360),te},Z.prototype._normalizeCenter=function(te){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var Re=te.lng-pe.center.lng;te.lng+=Re>180?-360:Re<-180?360:0}},Z}(n.Evented),ko=function(Z){Z===void 0&&(Z={}),this.options=Z,n.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ko.prototype.getDefaultPosition=function(){return"bottom-right"},ko.prototype.onAdd=function(Z){var de=this.options&&this.options.compact;return this._map=Z,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=w.create("div","mapboxgl-ctrl-attrib-inner",this._container),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ko.prototype.onRemove=function(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ko.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(Z){var te=de.reduce(function(pe,Re,We){return Re.value&&(pe+=Re.key+"="+Re.value+(We<de.length-1?"&":"")),pe},"?");Z.href=n.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow"}},ko.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ko.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(Tt){return typeof Tt!="string"?"":Tt})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var te=this._map.style.sourceCaches;for(var pe in te){var Re=te[pe];if(Re.used){var We=Re.getSource();We.attribution&&Z.indexOf(We.attribution)<0&&Z.push(We.attribution)}}Z.sort(function(Tt,Bt){return Tt.length-Bt.length}),Z=Z.filter(function(Tt,Bt){for(var Jt=Bt+1;Jt<Z.length;Jt++)if(Z[Jt].indexOf(Tt)>=0)return!1;return!0});var st=Z.join(" | ");st!==this._attribHTML&&(this._attribHTML=st,Z.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ko.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ga=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Ga.prototype.onAdd=function(Z){this._map=Z,this._container=w.create("div","mapboxgl-ctrl");var de=w.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ga.prototype.onRemove=function(){w.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ga.prototype.getDefaultPosition=function(){return"bottom-left"},Ga.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ga.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var de in Z){var te=Z[de].getSource();if(te.mapbox_logo)return!0}return!1}},Ga.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var de=Z[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var yi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};yi.prototype.add=function(Z){var de=++this._id,te=this._queue;return te.push({callback:Z,id:de,cancelled:!1}),de},yi.prototype.remove=function(Z){for(var de=this._currentlyRunning,te=de?this._queue.concat(de):this._queue,pe=0,Re=te;pe<Re.length;pe+=1){var We=Re[pe];if(We.id===Z){We.cancelled=!0;return}}},yi.prototype.run=function(Z){Z===void 0&&(Z=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,pe=de;te<pe.length;te+=1){var Re=pe[te];if(!Re.cancelled&&(Re.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},yi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Gf={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},hf=n.window.HTMLImageElement,Dc=n.window.HTMLElement,Eu=n.window.ImageBitmap,Wf=-2,nh=22,Wo=0,Cu=60,$h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Wf,maxZoom:nh,minPitch:Wo,maxPitch:Cu,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qh=function(fe){function Z(te){var pe=this;if(te=n.extend({},$h,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<Wo)throw new Error("minPitch must be greater than or equal to "+Wo);if(te.maxPitch!=null&&te.maxPitch>Cu)throw new Error("maxPitch must be less than or equal to "+Cu);var Re=new wn(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(fe.call(this,Re,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new yi,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Gf,te.locale),this._requestManager=new n.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=n.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof Dc)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new hi(this,te);var We=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new Ma(We).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,n.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new ko({customAttribution:te.customAttribution})),this.addControl(new Ga,te.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(st){pe._update(st.dataType==="style"),pe.fire(new n.Event(st.dataType+"data",st))}),this.on("dataloading",function(st){pe.fire(new n.Event(st.dataType+"dataloading",st))})}fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(pe,Re){if(Re===void 0&&pe.getDefaultPosition&&(Re=pe.getDefaultPosition()),Re===void 0&&(Re="top-right"),!pe||!pe.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var We=pe.onAdd(this);this._controls.push(pe);var st=this._controlPositions[Re];return Re.indexOf("bottom")!==-1?st.insertBefore(We,st.firstChild):st.appendChild(We),this},Z.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Re=this._controls.indexOf(pe);return Re>-1&&this._controls.splice(Re,1),pe.onRemove(this),this},Z.prototype.resize=function(pe){var Re=this._containerDimensions(),We=Re[0],st=Re[1];this._resizeCanvas(We,st),this.transform.resize(We,st),this.painter.resize(We,st);var Tt=!this._moving;return Tt&&(this.stop(),this.fire(new n.Event("movestart",pe)).fire(new n.Event("move",pe))),this.fire(new n.Event("resize",pe)),Tt&&this.fire(new n.Event("moveend",pe)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(n.LngLatBounds.convert(pe)),this._update()},Z.prototype.setMinZoom=function(pe){if(pe=pe??Wf,pe>=Wf&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+Wf+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(pe){if(pe=pe??nh,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(pe){if(pe=pe??Wo,pe<Wo)throw new Error("minPitch must be greater than or equal to "+Wo);if(pe>=Wo&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+Wo+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(pe){if(pe=pe??Cu,pe>Cu)throw new Error("maxPitch must be less than or equal to "+Cu);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},Z.prototype.project=function(pe){return this.transform.locationPoint(n.LngLat.convert(pe))},Z.prototype.unproject=function(pe){return this.transform.pointLocation(n.Point.convert(pe))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(pe,Re,We){var st=this,Tt;if(pe==="mouseenter"||pe==="mouseover"){var Bt=!1,Jt=function(Hr){var Qr=st.getLayer(Re)?st.queryRenderedFeatures(Hr.point,{layers:[Re]}):[];Qr.length?Bt||(Bt=!0,We.call(st,new Oe(pe,st,Hr.originalEvent,{features:Qr}))):Bt=!1},ur=function(){Bt=!1};return{layer:Re,listener:We,delegates:{mousemove:Jt,mouseout:ur}}}else if(pe==="mouseleave"||pe==="mouseout"){var mr=!1,Ir=function(Hr){var Qr=st.getLayer(Re)?st.queryRenderedFeatures(Hr.point,{layers:[Re]}):[];Qr.length?mr=!0:mr&&(mr=!1,We.call(st,new Oe(pe,st,Hr.originalEvent)))},Vr=function(Hr){mr&&(mr=!1,We.call(st,new Oe(pe,st,Hr.originalEvent)))};return{layer:Re,listener:We,delegates:{mousemove:Ir,mouseout:Vr}}}else{var Gr=function(Hr){var Qr=st.getLayer(Re)?st.queryRenderedFeatures(Hr.point,{layers:[Re]}):[];Qr.length&&(Hr.features=Qr,We.call(st,Hr),delete Hr.features)};return{layer:Re,listener:We,delegates:(Tt={},Tt[pe]=Gr,Tt)}}},Z.prototype.on=function(pe,Re,We){if(We===void 0)return fe.prototype.on.call(this,pe,Re);var st=this._createDelegatedListener(pe,Re,We);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(st);for(var Tt in st.delegates)this.on(Tt,st.delegates[Tt]);return this},Z.prototype.once=function(pe,Re,We){if(We===void 0)return fe.prototype.once.call(this,pe,Re);var st=this._createDelegatedListener(pe,Re,We);for(var Tt in st.delegates)this.once(Tt,st.delegates[Tt]);return this},Z.prototype.off=function(pe,Re,We){var st=this;if(We===void 0)return fe.prototype.off.call(this,pe,Re);var Tt=function(Bt){for(var Jt=Bt[pe],ur=0;ur<Jt.length;ur++){var mr=Jt[ur];if(mr.layer===Re&&mr.listener===We){for(var Ir in mr.delegates)st.off(Ir,mr.delegates[Ir]);return Jt.splice(ur,1),st}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&Tt(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(pe,Re){if(!this.style)return[];Re===void 0&&pe!==void 0&&!(pe instanceof n.Point)&&!Array.isArray(pe)&&(Re=pe,pe=void 0),Re=Re||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var We;if(pe instanceof n.Point||typeof pe[0]=="number")We=[n.Point.convert(pe)];else{var st=n.Point.convert(pe[0]),Tt=n.Point.convert(pe[1]);We=[st,new n.Point(Tt.x,st.y),Tt,new n.Point(st.x,Tt.y),st]}return this.style.queryRenderedFeatures(We,Re,this.transform)},Z.prototype.querySourceFeatures=function(pe,Re){return this.style.querySourceFeatures(pe,Re)},Z.prototype.setStyle=function(pe,Re){return Re=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Re),Re.diff!==!1&&Re.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,Re),this):(this._localIdeographFontFamily=Re.localIdeographFontFamily,this._updateStyle(pe,Re))},Z.prototype._getUIString=function(pe){var Re=this._locale[pe];if(Re==null)throw new Error("Missing UI string '"+pe+"'");return Re},Z.prototype._updateStyle=function(pe,Re){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new uo(this,Re||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new uo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(pe,Re){var We=this;if(typeof pe=="string"){var st=this._requestManager.normalizeStyleURL(pe),Tt=this._requestManager.transformRequest(st,n.ResourceType.Style);n.getJSON(Tt,function(Bt,Jt){Bt?We.fire(new n.ErrorEvent(Bt)):Jt&&We._updateDiff(Jt,Re)})}else typeof pe=="object"&&this._updateDiff(pe,Re)},Z.prototype._updateDiff=function(pe,Re){try{this.style.setState(pe)&&this._update(!0)}catch(We){n.warnOnce("Unable to perform style diff: "+(We.message||We.error||We)+".  Rebuilding the style from scratch."),this._updateStyle(pe,Re)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(pe,Re){return this._lazyInitEmptyStyle(),this.style.addSource(pe,Re),this._update(!0)},Z.prototype.isSourceLoaded=function(pe){var Re=this.style&&this.style.sourceCaches[pe];if(Re===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return Re.loaded()},Z.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var Re in pe){var We=pe[Re],st=We._tiles;for(var Tt in st){var Bt=st[Tt];if(!(Bt.state==="loaded"||Bt.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(pe,Re,We){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,Re,We)},Z.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},Z.prototype.getSource=function(pe){return this.style.getSource(pe)},Z.prototype.addImage=function(pe,Re,We){We===void 0&&(We={});var st=We.pixelRatio;st===void 0&&(st=1);var Tt=We.sdf;Tt===void 0&&(Tt=!1);var Bt=We.stretchX,Jt=We.stretchY,ur=We.content;this._lazyInitEmptyStyle();var mr=0;if(Re instanceof hf||Eu&&Re instanceof Eu){var Ir=n.browser.getImageData(Re),Vr=Ir.width,Gr=Ir.height,Hr=Ir.data;this.style.addImage(pe,{data:new n.RGBAImage({width:Vr,height:Gr},Hr),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:ur,sdf:Tt,version:mr})}else{if(Re.width===void 0||Re.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=Re.width,on=Re.height,Sn=Re.data,kn=Re;this.style.addImage(pe,{data:new n.RGBAImage({width:Qr,height:on},new Uint8Array(Sn)),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:ur,sdf:Tt,version:mr,userImage:kn}),kn.onAdd&&kn.onAdd(this,pe)}},Z.prototype.updateImage=function(pe,Re){var We=this.style.getImage(pe);if(!We)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var st=Re instanceof hf||Eu&&Re instanceof Eu?n.browser.getImageData(Re):Re,Tt=st.width,Bt=st.height,Jt=st.data;if(Tt===void 0||Bt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Tt!==We.data.width||Bt!==We.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(Re instanceof hf||Eu&&Re instanceof Eu);We.data.replace(Jt,ur),this.style.updateImage(pe,We)},Z.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(pe){this.style.removeImage(pe)},Z.prototype.loadImage=function(pe,Re){n.getImage(this._requestManager.transformRequest(pe,n.ResourceType.Image),Re)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(pe,Re){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,Re),this._update(!0)},Z.prototype.moveLayer=function(pe,Re){return this.style.moveLayer(pe,Re),this._update(!0)},Z.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},Z.prototype.getLayer=function(pe){return this.style.getLayer(pe)},Z.prototype.setLayerZoomRange=function(pe,Re,We){return this.style.setLayerZoomRange(pe,Re,We),this._update(!0)},Z.prototype.setFilter=function(pe,Re,We){return We===void 0&&(We={}),this.style.setFilter(pe,Re,We),this._update(!0)},Z.prototype.getFilter=function(pe){return this.style.getFilter(pe)},Z.prototype.setPaintProperty=function(pe,Re,We,st){return st===void 0&&(st={}),this.style.setPaintProperty(pe,Re,We,st),this._update(!0)},Z.prototype.getPaintProperty=function(pe,Re){return this.style.getPaintProperty(pe,Re)},Z.prototype.setLayoutProperty=function(pe,Re,We,st){return st===void 0&&(st={}),this.style.setLayoutProperty(pe,Re,We,st),this._update(!0)},Z.prototype.getLayoutProperty=function(pe,Re){return this.style.getLayoutProperty(pe,Re)},Z.prototype.setLight=function(pe,Re){return Re===void 0&&(Re={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,Re),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(pe,Re){return this.style.setFeatureState(pe,Re),this._update()},Z.prototype.removeFeatureState=function(pe,Re){return this.style.removeFeatureState(pe,Re),this._update()},Z.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var pe=0,Re=0;return this._container&&(pe=this._container.clientWidth||400,Re=this._container.clientHeight||300),[pe,Re]},Z.prototype._detectMissingCSS=function(){var pe=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var Re=this._missingCSSCanary=w.create("div","mapboxgl-canary",pe);Re.style.visibility="hidden",this._detectMissingCSS();var We=this._canvasContainer=w.create("div","mapboxgl-canvas-container",pe);this._interactive&&We.classList.add("mapboxgl-interactive"),this._canvas=w.create("canvas","mapboxgl-canvas",We),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var Tt=this._controlContainer=w.create("div","mapboxgl-control-container",pe),Bt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Jt){Bt[Jt]=w.create("div","mapboxgl-ctrl-"+Jt,Tt)})},Z.prototype._resizeCanvas=function(pe,Re){var We=n.browser.devicePixelRatio||1;this._canvas.width=We*pe,this._canvas.height=We*Re,this._canvas.style.width=pe+"px",this._canvas.style.height=Re+"px"},Z.prototype._setupPainter=function(){var pe=n.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Re=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!Re){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Lr(Re,this.transform),n.webpSupported.testSupport(Re)},Z.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:pe}))},Z.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:pe}))},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},Z.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},Z.prototype._render=function(pe){var Re=this,We,st=0,Tt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(We=Tt.createQueryEXT(),Tt.beginQueryEXT(Tt.TIME_ELAPSED_EXT,We),st=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Bt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Jt=this.transform.zoom,ur=n.browser.now();this.style.zoomHistory.update(Jt,ur);var mr=new n.EvaluationParameters(Jt,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ir=mr.crossFadingFactor();(Ir!==1||Ir!==this._crossFadingFactor)&&(Bt=!0,this._crossFadingFactor=Ir),this.style.update(mr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Bt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Vr=n.browser.now()-st;Tt.endQueryEXT(Tt.TIME_ELAPSED_EXT,We),setTimeout(function(){var Qr=Tt.getQueryObjectEXT(We,Tt.QUERY_RESULT_EXT)/1e6;Tt.deleteQueryEXT(We),Re.fire(new n.Event("gpu-timing-frame",{cpuTime:Vr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Gr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=Re.painter.queryGpuTimers(Gr);Re.fire(new n.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new n.Event("idle"))),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,Re=this._controls;pe<Re.length;pe+=1){var We=Re[pe];We.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),Ic(this._canvasContainer),Ic(this._controlContainer),Ic(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},Z.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(Re){pe._frame=null,pe._render(Re)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(te){this._vertices=te,this._update()},Z.prototype._setCacheLimits=function(pe,Re){n.setCacheLimits(pe,Re)},de.version.get=function(){return n.version},Object.defineProperties(Z.prototype,de),Z}(ns);function Ic(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}var ah={showCompass:!0,showZoom:!0,visualizePitch:!1},Kl=function(Z){var de=this;this.options=n.extend({},ah,Z),this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return de._map.zoomIn({},{originalEvent:te})}),w.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return de._map.zoomOut({},{originalEvent:te})}),w.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:te}):de._map.resetNorth({},{originalEvent:te})}),this._compassIcon=w.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Kl.prototype._updateZoomButtons=function(){var Z=this._map.getZoom();this._zoomInButton.disabled=Z===this._map.getMaxZoom(),this._zoomOutButton.disabled=Z===this._map.getMinZoom()},Kl.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},Kl.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new as(this._map,this._compass,this.options.visualizePitch)),this._container},Kl.prototype.onRemove=function(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Kl.prototype._createButton=function(Z,de){var te=w.create("button",Z,this._container);return te.type="button",te.addEventListener("click",de),te},Kl.prototype._setButtonTitle=function(Z,de){var te=this._map._getUIString("NavigationControl."+de);Z.title=te,Z.setAttribute("aria-label",te)};var as=function(Z,de,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new Zr({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,te&&(this.mousePitch=new On({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),w.addEventListener(de,"mousedown",this.mousedown),w.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(de,"touchmove",this.touchmove),w.addEventListener(de,"touchend",this.touchend),w.addEventListener(de,"touchcancel",this.reset)};as.prototype.down=function(Z,de){this.mouseRotate.mousedown(Z,de),this.mousePitch&&this.mousePitch.mousedown(Z,de),w.disableDrag()},as.prototype.move=function(Z,de){var te=this.map,pe=this.mouseRotate.mousemoveWindow(Z,de);if(pe&&pe.bearingDelta&&te.setBearing(te.getBearing()+pe.bearingDelta),this.mousePitch){var Re=this.mousePitch.mousemoveWindow(Z,de);Re&&Re.pitchDelta&&te.setPitch(te.getPitch()+Re.pitchDelta)}},as.prototype.off=function(){var Z=this.element;w.removeEventListener(Z,"mousedown",this.mousedown),w.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(Z,"touchmove",this.touchmove),w.removeEventListener(Z,"touchend",this.touchend),w.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},as.prototype.offTemp=function(){w.enableDrag(),w.removeEventListener(n.window,"mousemove",this.mousemove),w.removeEventListener(n.window,"mouseup",this.mouseup)},as.prototype.mousedown=function(Z){this.down(n.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),w.mousePos(this.element,Z)),w.addEventListener(n.window,"mousemove",this.mousemove),w.addEventListener(n.window,"mouseup",this.mouseup)},as.prototype.mousemove=function(Z){this.move(Z,w.mousePos(this.element,Z))},as.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},as.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},as.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},as.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},as.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Jl(fe,Z,de){if(fe=new n.LngLat(fe.lng,fe.lat),Z){var te=new n.LngLat(fe.lng-360,fe.lat),pe=new n.LngLat(fe.lng+360,fe.lat),Re=de.locationPoint(fe).distSqr(Z);de.locationPoint(te).distSqr(Z)<Re?fe=te:de.locationPoint(pe).distSqr(Z)<Re&&(fe=pe)}for(;Math.abs(fe.lng-de.center.lng)>180;){var We=de.locationPoint(fe);if(We.x>=0&&We.y>=0&&We.x<=de.width&&We.y<=de.height)break;fe.lng>de.center.lng?fe.lng-=360:fe.lng+=360}return fe}var _c={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ih(fe,Z,de){var te=fe.classList;for(var pe in _c)te.remove("mapboxgl-"+de+"-anchor-"+pe);te.add("mapboxgl-"+de+"-anchor-"+Z)}var Yf=function(fe){function Z(de,te){var pe=this;if(fe.call(this),(de instanceof n.window.HTMLElement||te)&&(de=n.extend({element:de},te)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._draggable=de&&de.draggable||!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");var Re=w.createNS("http://www.w3.org/2000/svg","svg");Re.setAttributeNS(null,"display","block"),Re.setAttributeNS(null,"height","41px"),Re.setAttributeNS(null,"width","27px"),Re.setAttributeNS(null,"viewBox","0 0 27 41");var We=w.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"stroke","none"),We.setAttributeNS(null,"stroke-width","1"),We.setAttributeNS(null,"fill","none"),We.setAttributeNS(null,"fill-rule","evenodd");var st=w.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var Tt=w.createNS("http://www.w3.org/2000/svg","g");Tt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Tt.setAttributeNS(null,"fill","#000000");for(var Bt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Jt=0,ur=Bt;Jt<ur.length;Jt+=1){var mr=ur[Jt],Ir=w.createNS("http://www.w3.org/2000/svg","ellipse");Ir.setAttributeNS(null,"opacity","0.04"),Ir.setAttributeNS(null,"cx","10.5"),Ir.setAttributeNS(null,"cy","5.80029008"),Ir.setAttributeNS(null,"rx",mr.rx),Ir.setAttributeNS(null,"ry",mr.ry),Tt.appendChild(Ir)}var Vr=w.createNS("http://www.w3.org/2000/svg","g");Vr.setAttributeNS(null,"fill",this._color);var Gr=w.createNS("http://www.w3.org/2000/svg","path");Gr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Vr.appendChild(Gr);var Hr=w.createNS("http://www.w3.org/2000/svg","g");Hr.setAttributeNS(null,"opacity","0.25"),Hr.setAttributeNS(null,"fill","#000000");var Qr=w.createNS("http://www.w3.org/2000/svg","path");Qr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Hr.appendChild(Qr);var on=w.createNS("http://www.w3.org/2000/svg","g");on.setAttributeNS(null,"transform","translate(6.0, 7.0)"),on.setAttributeNS(null,"fill","#FFFFFF");var Sn=w.createNS("http://www.w3.org/2000/svg","g");Sn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var kn=w.createNS("http://www.w3.org/2000/svg","circle");kn.setAttributeNS(null,"fill","#000000"),kn.setAttributeNS(null,"opacity","0.25"),kn.setAttributeNS(null,"cx","5.5"),kn.setAttributeNS(null,"cy","5.5"),kn.setAttributeNS(null,"r","5.4999962");var Wn=w.createNS("http://www.w3.org/2000/svg","circle");Wn.setAttributeNS(null,"fill","#FFFFFF"),Wn.setAttributeNS(null,"cx","5.5"),Wn.setAttributeNS(null,"cy","5.5"),Wn.setAttributeNS(null,"r","5.4999962"),Sn.appendChild(kn),Sn.appendChild(Wn),st.appendChild(Tt),st.appendChild(Vr),st.appendChild(Hr),st.appendChild(on),st.appendChild(Sn),Re.appendChild(st),this._element.appendChild(Re),this._offset=n.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=n.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Zn){Zn.preventDefault()}),this._element.addEventListener("mousedown",function(Zn){Zn.preventDefault()}),this._element.addEventListener("focus",function(){var Zn=pe._map.getContainer();Zn.scrollTop=0,Zn.scrollLeft=0}),ih(this._element,this._anchor,"marker"),this._popup=null}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var pe=38.1,Re=13.5,We=Math.sqrt(Math.pow(Re,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[We,(pe-Re+We)*-1],"bottom-right":[-We,(pe-Re+We)*-1],left:[Re,(pe-Re)*-1],right:[-Re,(pe-Re)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(te){var pe=te.code,Re=te.charCode||te.keyCode;(pe==="Space"||pe==="Enter"||Re===32||Re===13)&&this.togglePopup()},Z.prototype._onMapClick=function(te){var pe=te.originalEvent.target,Re=this._element;this._popup&&(pe===Re||Re.contains(pe))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},Z.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Jl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Re="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Re="rotateX(0deg)":this._pitchAlignment==="map"&&(Re="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),w.setTransform(this._element,_c[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Re+" "+pe)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(te){return this._offset=n.Point.convert(te),this._update(),this},Z.prototype._onMove=function(te){this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(n.Evented),ev={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Lu;function Fc(fe){Lu!==void 0?fe(Lu):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){Lu=Z.state!=="denied",fe(Lu)}):(Lu=!!n.window.navigator.geolocation,fe(Lu))}var Zf=0,Pu=!1,tv=function(fe){function Z(de){fe.call(this),this.options=n.extend({},ev,de),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(te){return this._map=te,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Fc(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Zf=0,Pu=!1},Z.prototype._isOutOfMapMaxBounds=function(te){var pe=this._map.getMaxBounds(),Re=te.coords;return pe&&(Re.longitude<pe.getWest()||Re.longitude>pe.getEast()||Re.latitude<pe.getSouth()||Re.latitude>pe.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",te)),this._finish()}},Z.prototype._updateCamera=function(te){var pe=new n.LngLat(te.coords.longitude,te.coords.latitude),Re=te.coords.accuracy,We=this._map.getBearing(),st=n.extend({bearing:We},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(Re),st,{geolocateSource:!0})},Z.prototype._updateMarker=function(te){if(te){var pe=new n.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,pe=this._map.unproject([0,te]),Re=this._map.unproject([1,te]),We=pe.distanceTo(Re),st=Math.ceil(2*this._accuracy/We);this._circleElement.style.width=st+"px",this._circleElement.style.height=st+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&Pu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",te)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(te){var pe=this;if(this._container.addEventListener("contextmenu",function(st){return st.preventDefault()}),this._geolocateButton=w.create("button","mapboxgl-ctrl-geolocate",this._container),w.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Re=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Re,this._geolocateButton.setAttribute("aria-label",Re)}else{var We=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=We,this._geolocateButton.setAttribute("aria-label",We)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Yf(this._dotElement),this._circleElement=w.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(st){var Tt=st.originalEvent&&st.originalEvent.type==="resize";!st.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!Tt&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new n.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Zf--,Pu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Zf++;var te;Zf>1?(te={maximumAge:6e5,timeout:0},Pu=!0):(te=this.options.positionOptions,Pu=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(n.Evented),rd={maxWidth:100,unit:"metric"},Ru=function(Z){this.options=n.extend({},rd,Z),n.bindAll(["_onMove","setUnit"],this)};Ru.prototype.getDefaultPosition=function(){return"bottom-left"},Ru.prototype._onMove=function(){rv(this._map,this._container,this.options)},Ru.prototype.onAdd=function(Z){return this._map=Z,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ru.prototype.onRemove=function(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ru.prototype.setUnit=function(Z){this.options.unit=Z,rv(this._map,this._container,this.options)};function rv(fe,Z,de){var te=de&&de.maxWidth||100,pe=fe._container.clientHeight/2,Re=fe.unproject([0,pe]),We=fe.unproject([te,pe]),st=Re.distanceTo(We);if(de&&de.unit==="imperial"){var Tt=3.2808*st;if(Tt>5280){var Bt=Tt/5280;Xf(Z,te,Bt,fe._getUIString("ScaleControl.Miles"))}else Xf(Z,te,Tt,fe._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var Jt=st/1852;Xf(Z,te,Jt,fe._getUIString("ScaleControl.NauticalMiles"))}else st>=1e3?Xf(Z,te,st/1e3,fe._getUIString("ScaleControl.Kilometers")):Xf(Z,te,st,fe._getUIString("ScaleControl.Meters"))}function Xf(fe,Z,de,te){var pe=ad(de),Re=pe/de;fe.style.width=Z*Re+"px",fe.innerHTML=pe+"&nbsp;"+te}function nd(fe){var Z=Math.pow(10,Math.ceil(-Math.log(fe)/Math.LN10));return Math.round(fe*Z)/Z}function ad(fe){var Z=Math.pow(10,(""+Math.floor(fe)).length-1),de=fe/Z;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:nd(de),Z*de}var el=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof n.window.HTMLElement?this._container=Z.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};el.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},el.prototype.onRemove=function(){w.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},el.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},el.prototype._setupUI=function(){var Z=this._fullscreenButton=w.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);w.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},el.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},el.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},el.prototype._isFullscreen=function(){return this._fullscreen},el.prototype._changeIcon=function(){var Z=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},el.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var id={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},od=function(fe){function Z(de){fe.call(this),this.options=n.extend(Object.create(id),de),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return fe&&(Z.__proto__=fe),Z.prototype=Object.create(fe&&fe.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(te){return this.setDOMContent(n.window.document.createTextNode(te))},Z.prototype.setHTML=function(te){var pe=n.window.document.createDocumentFragment(),Re=n.window.document.createElement("body"),We;for(Re.innerHTML=te;We=Re.firstChild,!!We;)pe.appendChild(We);return this.setDOMContent(pe)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},Z.prototype.setDOMContent=function(te){return this._createContent(),this._content.appendChild(te),this._update(),this},Z.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},Z.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},Z.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},Z.prototype._createContent=function(){this._content&&w.remove(this._content),this._content=w.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=w.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(te){this._update(te.point)},Z.prototype._onMouseMove=function(te){this._update(te.point)},Z.prototype._onDrag=function(te){this._update(te.point)},Z.prototype._update=function(te){var pe=this,Re=this._lngLat||this._trackPointer;if(!(!this._map||!Re||!this._content)&&(this._container||(this._container=w.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=w.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ir){return pe._container.classList.add(Ir)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Jl(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var We=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),st=this.options.anchor,Tt=nv(this.options.offset);if(!st){var Bt=this._container.offsetWidth,Jt=this._container.offsetHeight,ur;We.y+Tt.bottom.y<Jt?ur=["top"]:We.y>this._map.transform.height-Jt?ur=["bottom"]:ur=[],We.x<Bt/2?ur.push("left"):We.x>this._map.transform.width-Bt/2&&ur.push("right"),ur.length===0?st="bottom":st=ur.join("-")}var mr=We.add(Tt[st]).round();w.setTransform(this._container,_c[st]+" translate("+mr.x+"px,"+mr.y+"px)"),ih(this._container,st,"popup")}},Z.prototype._onClose=function(){this.remove()},Z}(n.Evented);function nv(fe){if(fe)if(typeof fe=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(fe,2)));return{center:new n.Point(0,0),top:new n.Point(0,fe),"top-left":new n.Point(Z,Z),"top-right":new n.Point(-Z,Z),bottom:new n.Point(0,-fe),"bottom-left":new n.Point(Z,-Z),"bottom-right":new n.Point(-Z,-Z),left:new n.Point(fe,0),right:new n.Point(-fe,0)}}else if(fe instanceof n.Point||Array.isArray(fe)){var de=n.Point.convert(fe);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:n.Point.convert(fe.center||[0,0]),top:n.Point.convert(fe.top||[0,0]),"top-left":n.Point.convert(fe["top-left"]||[0,0]),"top-right":n.Point.convert(fe["top-right"]||[0,0]),bottom:n.Point.convert(fe.bottom||[0,0]),"bottom-left":n.Point.convert(fe["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(fe["bottom-right"]||[0,0]),left:n.Point.convert(fe.left||[0,0]),right:n.Point.convert(fe.right||[0,0])};else return nv(new n.Point(0,0))}var sd={version:n.version,supported:C,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:qh,NavigationControl:Kl,GeolocateControl:tv,AttributionControl:ko,ScaleControl:Ru,FullscreenControl:el,Popup:od,Marker:Yf,Style:uo,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:kt,clearPrewarmedResources:Zt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(fe){n.config.ACCESS_TOKEN=fe},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(fe){n.config.API_URL=fe},get workerCount(){return Mr.workerCount},set workerCount(fe){Mr.workerCount=fe},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(fe){n.config.MAX_PARALLEL_IMAGE_REQUESTS=fe},clearStorage:function(Z){n.clearTileCache(Z)},workerUrl:""};return sd}),p})},27084:function(G){G.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},16825:function(G,U,e){G.exports=L;var p=e(74311);function L(n,C){C||(C=n,n=window);var w=0,v=0,y=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function l(M){var A=!1;return"altKey"in M&&(A=A||M.altKey!==t.alt,t.alt=!!M.altKey),"shiftKey"in M&&(A=A||M.shiftKey!==t.shift,t.shift=!!M.shiftKey),"ctrlKey"in M&&(A=A||M.ctrlKey!==t.control,t.control=!!M.ctrlKey),"metaKey"in M&&(A=A||M.metaKey!==t.meta,t.meta=!!M.metaKey),A}function a(M,A){var E=p.x(A),g=p.y(A);"buttons"in A&&(M=A.buttons|0),(M!==w||E!==v||g!==y||l(A))&&(w=M|0,v=E||0,y=g||0,C&&C(w,v,y,t))}function s(M){a(0,M)}function c(){(w||v||y||t.shift||t.alt||t.meta||t.control)&&(v=y=0,w=0,t.shift=t.alt=t.control=t.meta=!1,C&&C(0,0,0,t))}function u(M){l(M)&&C&&C(w,v,y,t)}function m(M){p.buttons(M)===0?a(0,M):a(w,M)}function h(M){a(w|p.buttons(M),M)}function T(M){a(w&~p.buttons(M),M)}function f(){r||(r=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",h),n.addEventListener("mouseup",T),n.addEventListener("mouseleave",s),n.addEventListener("mouseenter",s),n.addEventListener("mouseout",s),n.addEventListener("mouseover",s),n.addEventListener("blur",c),n.addEventListener("keyup",u),n.addEventListener("keydown",u),n.addEventListener("keypress",u),n!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function o(){r&&(r=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",h),n.removeEventListener("mouseup",T),n.removeEventListener("mouseleave",s),n.removeEventListener("mouseenter",s),n.removeEventListener("mouseout",s),n.removeEventListener("mouseover",s),n.removeEventListener("blur",c),n.removeEventListener("keyup",u),n.removeEventListener("keydown",u),n.removeEventListener("keypress",u),n!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}f();var d={element:n};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(M){M?f():o()},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(G){var U={left:0,top:0};G.exports=e;function e(L,n,C){n=n||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var w=L.clientX||0,v=L.clientY||0,y=p(n);return C[0]=w-y.left,C[1]=v-y.top,C}function p(L){return L===window||L===document||L===document.body?U:L.getBoundingClientRect()}},74311:function(G,U){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var w=C.which;if(w===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in C){var w=C.button;if(w===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0}U.buttons=e;function p(C){return C.target||C.srcElement||window}U.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var w=p(C),v=w.getBoundingClientRect();return C.clientX-v.left}return 0}U.x=L;function n(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var w=p(C),v=w.getBoundingClientRect();return C.clientY-v.top}return 0}U.y=n},1195:function(G,U,e){var p=e(75686);G.exports=L;function L(n,C,w){typeof n=="function"&&(w=!!C,C=n,n=window);var v=p("ex",n),y=function(t){w&&t.preventDefault();var r=t.deltaX||0,l=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,c=1;switch(s){case 1:c=v;break;case 2:c=window.innerHeight;break}if(r*=c,l*=c,a*=c,r||l||a)return C(r,l,a,t)};return n.addEventListener("wheel",y),y}},7417:function(G,U,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,C,w){C[n]=C[n]||w(),G.exports?G.exports=C[n]:(p=function(){return C[n]}.call(U,e,U,G),p!==void 0&&(G.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,C,w,v=Object.prototype.toString,y=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(d,M,A,E){return Object.defineProperty(d,M,{value:A,writable:!0,configurable:E!==!1})}}catch{n=function(M,A,E){return M[A]=E,M}}w=function(){var d,M,A;function E(g,S){this.fn=g,this.self=S,this.next=void 0}return{add:function(S,b){A=new E(S,b),M?M.next=A:d=A,M=A,A=void 0},drain:function(){var S=d;for(d=M=C=void 0;S;)S.fn.call(S.self),S=S.next}}}();function t(o,d){w.add(o,d),C||(C=y(w.drain))}function r(o){var d,M=typeof o;return o!=null&&(M=="object"||M=="function")&&(d=o.then),typeof d=="function"?d:!1}function l(){for(var o=0;o<this.chain.length;o++)a(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function a(o,d,M){var A,E;try{d===!1?M.reject(o.msg):(d===!0?A=o.msg:A=d.call(void 0,o.msg),A===M.promise?M.reject(TypeError("Promise-chain cycle")):(E=r(A))?E.call(A,M.resolve,M.reject):M.resolve(A))}catch(g){M.reject(g)}}function s(o){var d,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(d=r(o))?t(function(){var A=new m(M);try{d.call(o,function(){s.apply(A,arguments)},function(){c.apply(A,arguments)})}catch(E){c.call(A,E)}}):(M.msg=o,M.state=1,M.chain.length>0&&t(l,M))}catch(A){c.call(new m(M),A)}}}function c(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&t(l,d))}function u(o,d,M,A){for(var E=0;E<d.length;E++)(function(S){o.resolve(d[S]).then(function(i){M(S,i)},A)})(E)}function m(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(A,E){var g={success:typeof A=="function"?A:!0,failure:typeof E=="function"?E:!1};return g.promise=new this.constructor(function(b,i){if(typeof b!="function"||typeof i!="function")throw TypeError("Not a function");g.resolve=b,g.reject=i}),d.chain.push(g),d.state!==0&&t(l,d),g.promise},this.catch=function(A){return this.then(void 0,A)};try{o.call(void 0,function(A){s.call(d,A)},function(A){c.call(d,A)})}catch(M){c.call(d,M)}}var f=n({},"constructor",T,!1);return T.prototype=f,n(f,"__NPO__",0,!1),n(T,"resolve",function(d){var M=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new M(function(E,g){if(typeof E!="function"||typeof g!="function")throw TypeError("Not a function");E(d)})}),n(T,"reject",function(d){return new this(function(A,E){if(typeof A!="function"||typeof E!="function")throw TypeError("Not a function");E(d)})}),n(T,"all",function(d){var M=this;return v.call(d)!="[object Array]"?M.reject(TypeError("Not an array")):d.length===0?M.resolve([]):new M(function(E,g){if(typeof E!="function"||typeof g!="function")throw TypeError("Not a function");var S=d.length,b=Array(S),i=0;u(M,d,function(x,k){b[x]=k,++i===S&&E(b)},g)})}),n(T,"race",function(d){var M=this;return v.call(d)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(E,g){if(typeof E!="function"||typeof g!="function")throw TypeError("Not a function");u(M,d,function(b,i){E(i)},g)})}),T})},18625:function(G){var U=Math.PI,e=v(120);G.exports=p;function p(y){for(var t,r=[],l=0,a=0,s=0,c=0,u=null,m=null,h=0,T=0,f=0,o=y.length;f<o;f++){var d=y[f],M=d[0];switch(M){case"M":s=d[1],c=d[2];break;case"A":d=C(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var A=h,E=T;(t=="C"||t=="S")&&(A+=A-l,E+=E-a),d=["C",A,E,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(u=h*2-u,m=T*2-m):(u=h,m=T),d=n(h,T,u,m,d[1],d[2]);break;case"Q":u=d[1],m=d[2],d=n(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,T,d[1],d[2]);break;case"H":d=L(h,T,d[1],T);break;case"V":d=L(h,T,h,d[1]);break;case"Z":d=L(h,T,s,c);break}t=M,h=d[d.length-2],T=d[d.length-1],d.length>4?(l=d[d.length-4],a=d[d.length-3]):(l=h,a=T),r.push(d)}return r}function L(y,t,r,l){return["C",y,t,r,l,r,l]}function n(y,t,r,l,a,s){return["C",y/3+.6666666666666666*r,t/3+.6666666666666666*l,a/3+.6666666666666666*r,s/3+.6666666666666666*l,a,s]}function C(y,t,r,l,a,s,c,u,m,h){if(h)b=h[0],i=h[1],g=h[2],S=h[3];else{var T=w(y,t,-a);y=T.x,t=T.y,T=w(u,m,-a),u=T.x,m=T.y;var f=(y-u)/2,o=(t-m)/2,d=f*f/(r*r)+o*o/(l*l);d>1&&(d=Math.sqrt(d),r=d*r,l=d*l);var M=r*r,A=l*l,E=(s==c?-1:1)*Math.sqrt(Math.abs((M*A-M*o*o-A*f*f)/(M*o*o+A*f*f)));E==1/0&&(E=1);var g=E*r*o/l+(y+u)/2,S=E*-l*f/r+(t+m)/2,b=Math.asin(((t-S)/l).toFixed(9)),i=Math.asin(((m-S)/l).toFixed(9));b=y<g?U-b:b,i=u<g?U-i:i,b<0&&(b=U*2+b),i<0&&(i=U*2+i),c&&b>i&&(b=b-U*2),!c&&i>b&&(i=i-U*2)}if(Math.abs(i-b)>e){var P=i,x=u,k=m;i=b+e*(c&&i>b?1:-1),u=g+r*Math.cos(i),m=S+l*Math.sin(i);var _=C(u,m,r,l,a,0,c,x,k,[i,P,g,S])}var B=Math.tan((i-b)/4),I=4/3*r*B,z=4/3*l*B,O=[2*y-(y+I*Math.sin(b)),2*t-(t-z*Math.cos(b)),u+I*Math.sin(i),m-z*Math.cos(i),u,m];if(h)return O;_&&(O=O.concat(_));for(var F=0;F<O.length;){var N=w(O[F],O[F+1],a);O[F++]=N.x,O[F++]=N.y}return O}function w(y,t,r){return{x:y*Math.cos(r)-t*Math.sin(r),y:y*Math.sin(r)+t*Math.cos(r)}}function v(y){return y*(U/180)}},56131:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function n(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var w={},v=0;v<10;v++)w["_"+String.fromCharCode(v)]=v;var y=Object.getOwnPropertyNames(w).map(function(r){return w[r]});if(y.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=n()?Object.assign:function(C,w){for(var v,y=L(C),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var l in v)e.call(v,l)&&(y[l]=v[l]);if(U){t=U(v);for(var a=0;a<t.length;a++)p.call(v,t[a])&&(y[t[a]]=v[t[a]])}}return y}},65848:function(G){var U=function(e){return e!==e};G.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||U(p)&&U(L))}},64003:function(G,U,e){var p=e(17045),L=e(68222),n=e(65848),C=e(27015),w=e(55572),v=L(C(),Object);p(v,{getPolyfill:C,implementation:n,shim:w}),G.exports=v},27015:function(G,U,e){var p=e(65848);G.exports=function(){return typeof Object.is=="function"?Object.is:p}},55572:function(G,U,e){var p=e(27015),L=e(17045);G.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(G,U,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,n=Object.prototype.toString,C=e(64178),w=Object.prototype.propertyIsEnumerable,v=!w.call({toString:null},"toString"),y=w.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var u=c.constructor;return u&&u.prototype===c},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!l["$"+c]&&L.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{r(window[c])}catch{return!0}}catch{return!0}return!1}(),s=function(c){if(typeof window>"u"||!a)return r(c);try{return r(c)}catch{return!1}};p=function(u){var m=u!==null&&typeof u=="object",h=n.call(u)==="[object Function]",T=C(u),f=m&&n.call(u)==="[object String]",o=[];if(!m&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=y&&h;if(f&&u.length>0&&!L.call(u,0))for(var M=0;M<u.length;++M)o.push(String(M));if(T&&u.length>0)for(var A=0;A<u.length;++A)o.push(String(A));else for(var E in u)!(d&&E==="prototype")&&L.call(u,E)&&o.push(String(E));if(v)for(var g=s(u),S=0;S<t.length;++S)!(g&&t[S]==="constructor")&&L.call(u,t[S])&&o.push(t[S]);return o}}G.exports=p},8709:function(G,U,e){var p=Array.prototype.slice,L=e(64178),n=Object.keys,C=n?function(y){return n(y)}:e(99019),w=Object.keys;C.shim=function(){if(Object.keys){var y=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);y||(Object.keys=function(r){return L(r)?w(p.call(r)):w(r)})}else Object.keys=C;return Object.keys||C},G.exports=C},64178:function(G){var U=Object.prototype.toString;G.exports=function(p){var L=U.call(p),n=L==="[object Arguments]";return n||(n=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&U.call(p.callee)==="[object Function]"),n}},88641:function(G){function U(L,n){if(typeof L!="string")return[L];var C=[L];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var w=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],v=n.escape||"___",y=!!n.flat;w.forEach(function(l){var a=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),s=[];function c(u,m,h){var T=C.push(u.slice(l[0].length,-l[1].length))-1;return s.push(T),v+T+v}C.forEach(function(u,m){for(var h,T=0;u!=h;)if(h=u,u=u.replace(a,c),T++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=u}),s=s.reverse(),C=C.map(function(u){return s.forEach(function(m){u=u.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),l[0]+"$1"+l[1])}),u})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(l,a,s){for(var c=[],u,m=0;u=t.exec(l);){if(m++>1e4)throw Error("Circular references in parenthesis");c.push(l.slice(0,u.index)),c.push(r(a[u[1]],a)),l=l.slice(u.index+u[0].length)}return c.push(l),c}return y?C:r(C[0],C)}function e(L,n){if(n&&n.flat){var C=n&&n.escape||"___",w=L[0],v;if(!w)return"";for(var y=new RegExp("\\"+C+"([0-9]+)\\"+C),t=0;w!=v;){if(t++>1e4)throw Error("Circular references in "+L);v=w,w=w.replace(y,r)}return w}return L.reduce(function l(a,s){return Array.isArray(s)&&(s=s.reduce(l,"")),a+s},"");function r(l,a){if(L[a]==null)throw Error("Reference "+a+"is undefined");return L[a]}}function p(L,n){return Array.isArray(L)?e(L,n):U(L,n)}p.parse=U,p.stringify=e,G.exports=p},18863:function(G,U,e){var p=e(71299);G.exports=L;function L(n){var C;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?C={width:n[0],height:n[0],x:0,y:0}:n.length===2?C={width:n[0],height:n[1],x:0,y:0}:C={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=p(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:n.left||0,y:n.top||0},n.width==null?n.right?C.width=n.right-C.x:C.width=0:C.width=n.width,n.height==null?n.bottom?C.height=n.bottom-C.y:C.height=0:C.height=n.height),C}},95616:function(G){G.exports=p;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var w=[];return C.replace(e,function(v,y,t){var r=y.toLowerCase();for(t=n(t),r=="m"&&t.length>2&&(w.push([y].concat(t.splice(0,2))),r="l",y=y=="m"?"l":"L");;){if(t.length==U[r])return t.unshift(y),w.push(t);if(t.length<U[r])throw new Error("malformed path data");w.push([y].concat(t.splice(0,U[r])))}}),w}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(C){var w=C.match(L);return w?w.map(Number):[]}},25677:function(G){G.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},9748:function(G,U,e){var p=e(90386);(function(){var L,n,C,w,v,y;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(G.exports=function(){return(L()-v)/1e6},n=p.hrtime,L=function(){var t;return t=n(),t[0]*1e9+t[1]},w=L(),y=p.uptime()*1e9,v=w-y):Date.now?(G.exports=function(){return Date.now()-C},C=Date.now()):(G.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(G){G.exports=function(L,n,C){var w={},v,y;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var t={};for(y=0;y<n.length;y++)t[n[y]]=!0;n=t}for(v in n)n[v]=e(n[v]);var r={};for(v in n){var l=n[v];if(Array.isArray(l))for(y=0;y<l.length;y++){var a=l[y];if(C&&(r[a]=!0),a in L){if(w[v]=L[a],C)for(var s=y;s<l.length;s++)r[l[s]]=!0;break}}else v in L&&(n[v]&&(w[v]=L[v]),C&&(r[v]=!0))}if(C)for(v in L)r[v]||(w[v]=L[v]);return w};var U={};function e(p){return U[p]?U[p]:(typeof p=="string"&&(p=U[p]=p.split(/\s*,\s*|\s+/)),p)}},38258:function(G){G.exports=function(e,p,L,n){var C=e[0],w=e[1],v=!1;L===void 0&&(L=0),n===void 0&&(n=p.length);for(var y=n-L,t=0,r=y-1;t<y;r=t++){var l=p[t+L][0],a=p[t+L][1],s=p[r+L][0],c=p[r+L][1],u=a>w!=c>w&&C<(s-l)*(w-a)/(c-a)+l;u&&(v=!v)}return v}},52142:function(G,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(69444),L=e(29023),n=e(87263),C=e(11328),w=e(55968),v=e(10670),y=!1,t=L(),r;r={buildLog:function(a){return a===!0?y=p():a===!1&&(y=!1),y===!1?!1:y.list},epsilon:function(a){return t.epsilon(a)},segments:function(a){var s=n(!0,t,y);return a.regions.forEach(s.addRegion),{segments:s.calculate(a.inverted),inverted:a.inverted}},combine:function(a,s){var c=n(!1,t,y);return{combined:c.calculate(a.segments,a.inverted,s.segments,s.inverted),inverted1:a.inverted,inverted2:s.inverted}},selectUnion:function(a){return{segments:w.union(a.combined,y),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:w.intersect(a.combined,y),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:w.difference(a.combined,y),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:w.differenceRev(a.combined,y),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:w.xor(a.combined,y),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:C(a.segments,t,y),inverted:a.inverted}},polygonFromGeoJSON:function(a){return v.toPolygon(r,a)},polygonToGeoJSON:function(a){return v.fromPolygon(r,t,a)},union:function(a,s){return l(a,s,r.selectUnion)},intersect:function(a,s){return l(a,s,r.selectIntersect)},difference:function(a,s){return l(a,s,r.selectDifference)},differenceRev:function(a,s){return l(a,s,r.selectDifferenceRev)},xor:function(a,s){return l(a,s,r.selectXor)}};function l(a,s,c){var u=r.segments(a),m=r.segments(s),h=r.combine(u,m),T=c(h);return r.polygon(T)}typeof window=="object"&&(window.PolyBool=r),G.exports=r},69444:function(G){function U(){var e,p=0,L=!1;function n(C,w){return e.list.push({type:C,data:w?JSON.parse(JSON.stringify(w)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,w){return n("check",{seg1:C,seg2:w})},segmentChop:function(C,w){return n("div_seg",{seg:C,pt:w}),n("chop",{seg:C,pt:w})},statusRemove:function(C){return n("pop_seg",{seg:C})},segmentUpdate:function(C){return n("seg_update",{seg:C})},segmentNew:function(C,w){return n("new_seg",{seg:C,primary:w})},segmentRemove:function(C){return n("rem_seg",{seg:C})},tempStatus:function(C,w,v){return n("temp_status",{seg:C,above:w,below:v})},rewind:function(C){return n("rewind",{seg:C})},status:function(C,w,v){return n("status",{seg:C,above:w,below:v})},vert:function(C){return C===L?e:(L=C,n("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),n("log",{txt:C})},reset:function(){return n("reset")},selected:function(C){return n("selected",{segs:C})},chainStart:function(C){return n("chain_start",{seg:C})},chainRemoveHead:function(C,w){return n("chain_rem_head",{index:C,pt:w})},chainRemoveTail:function(C,w){return n("chain_rem_tail",{index:C,pt:w})},chainNew:function(C,w){return n("chain_new",{pt1:C,pt2:w})},chainMatch:function(C){return n("chain_match",{index:C})},chainClose:function(C){return n("chain_close",{index:C})},chainAddHead:function(C,w){return n("chain_add_head",{index:C,pt:w})},chainAddTail:function(C,w){return n("chain_add_tail",{index:C,pt:w})},chainConnect:function(C,w){return n("chain_con",{index1:C,index2:w})},chainReverse:function(C){return n("chain_rev",{index:C})},chainJoin:function(C,w){return n("chain_join",{index1:C,index2:w})},done:function(){return n("done")}},e}G.exports=U},29023:function(G){function U(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,n,C){var w=n[0],v=n[1],y=C[0],t=C[1],r=L[0],l=L[1];return(y-w)*(l-v)-(t-v)*(r-w)>=-e},pointBetween:function(L,n,C){var w=L[1]-n[1],v=C[0]-n[0],y=L[0]-n[0],t=C[1]-n[1],r=y*v+w*t;if(r<e)return!1;var l=v*v+t*t;return!(r-l>-e)},pointsSameX:function(L,n){return Math.abs(L[0]-n[0])<e},pointsSameY:function(L,n){return Math.abs(L[1]-n[1])<e},pointsSame:function(L,n){return p.pointsSameX(L,n)&&p.pointsSameY(L,n)},pointsCompare:function(L,n){return p.pointsSameX(L,n)?p.pointsSameY(L,n)?0:L[1]<n[1]?-1:1:L[0]<n[0]?-1:1},pointsCollinear:function(L,n,C){var w=L[0]-n[0],v=L[1]-n[1],y=n[0]-C[0],t=n[1]-C[1];return Math.abs(w*t-y*v)<e},linesIntersect:function(L,n,C,w){var v=n[0]-L[0],y=n[1]-L[1],t=w[0]-C[0],r=w[1]-C[1],l=v*r-y*t;if(Math.abs(l)<e)return!1;var a=L[0]-C[0],s=L[1]-C[1],c=(t*s-r*a)/l,u=(v*s-y*a)/l,m={alongA:0,alongB:0,pt:[L[0]+c*v,L[1]+c*y]};return c<=-e?m.alongA=-2:c<e?m.alongA=-1:c-1<=-e?m.alongA=0:c-1<e?m.alongA=1:m.alongA=2,u<=-e?m.alongB=-2:u<e?m.alongB=-1:u-1<=-e?m.alongB=0:u-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,n){for(var C=L[0],w=L[1],v=n[n.length-1][0],y=n[n.length-1][1],t=!1,r=0;r<n.length;r++){var l=n[r][0],a=n[r][1];a-w>e!=y-w>e&&(v-l)*(w-a)/(y-a)+l-C>e&&(t=!t),v=l,y=a}return t}};return p}G.exports=U},10670:function(G){var U={toPolygon:function(e,p){function L(w){if(w.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var l=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[l]})}for(var y=v(w[0]),t=1;t<w.length;t++)y=e.selectDifference(e.combine(y,v(w[t])));return y}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)n=e.selectUnion(e.combine(n,L(p.coordinates[C])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function n(c,u){return p.pointInsideRegion([(c[0][0]+c[1][0])*.5,(c[0][1]+c[1][1])*.5],u)}function C(c){return{region:c,children:[]}}var w=C(null);function v(c,u){for(var m=0;m<c.children.length;m++){var h=c.children[m];if(n(u,h.region)){v(h,u);return}}for(var T=C(u),m=0;m<c.children.length;m++){var h=c.children[m];n(h.region,u)&&(T.children.push(h),c.children.splice(m,1),m--)}c.children.push(T)}for(var y=0;y<L.regions.length;y++){var t=L.regions[y];t.length<3||v(w,t)}function r(c,u){for(var m=0,h=c[c.length-1][0],T=c[c.length-1][1],f=[],o=0;o<c.length;o++){var d=c[o][0],M=c[o][1];f.push([d,M]),m+=M*h-d*T,h=d,T=M}var A=m<0;return A!==u&&f.reverse(),f.push([f[0][0],f[0][1]]),f}var l=[];function a(c){var u=[r(c.region,!1)];l.push(u);for(var m=0;m<c.children.length;m++)u.push(s(c.children[m]))}function s(c){for(var u=0;u<c.children.length;u++)a(c.children[u]);return r(c.region,!0)}for(var y=0;y<w.children.length;y++)a(w.children[y]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};G.exports=U},87263:function(G,U,e){var p=e(26859);function L(n,C,w){function v(T,f){return{id:w?w.segmentId():-1,start:T,end:f,myFill:{above:null,below:null},otherFill:null}}function y(T,f,o){return{id:w?w.segmentId():-1,start:T,end:f,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var t=p.create();function r(T,f,o,d,M,A){var E=C.pointsCompare(f,M);return E!==0?E:C.pointsSame(o,A)?0:T!==d?T?1:-1:C.pointAboveOrOnLine(o,d?M:A,d?A:M)?1:-1}function l(T,f){t.insertBefore(T,function(o){var d=r(T.isStart,T.pt,f,o.isStart,o.pt,o.other.pt);return d<0})}function a(T,f){var o=p.node({isStart:!0,pt:T.start,seg:T,primary:f,other:null,status:null});return l(o,T.end),o}function s(T,f,o){var d=p.node({isStart:!1,pt:f.end,seg:f,primary:o,other:T,status:null});T.other=d,l(d,T.pt)}function c(T,f){var o=a(T,f);return s(o,T,f),o}function u(T,f){w&&w.segmentChop(T.seg,f),T.other.remove(),T.seg.end=f,T.other.pt=f,l(T.other,T.pt)}function m(T,f){var o=y(f,T.seg.end,T.seg);return u(T,f),c(o,T.primary)}function h(T,f){var o=p.create();function d(I,z){var O=I.seg.start,F=I.seg.end,N=z.seg.start,Q=z.seg.end;return C.pointsCollinear(O,N,Q)?C.pointsCollinear(F,N,Q)||C.pointAboveOrOnLine(F,N,Q)?1:-1:C.pointAboveOrOnLine(O,N,Q)?1:-1}function M(I){return o.findTransition(function(z){var O=d(I,z.ev);return O>0})}function A(I,z){var O=I.seg,F=z.seg,N=O.start,Q=O.end,$=F.start,j=F.end;w&&w.checkIntersection(O,F);var ee=C.linesIntersect(N,Q,$,j);if(ee===!1){if(!C.pointsCollinear(N,Q,$)||C.pointsSame(N,j)||C.pointsSame(Q,$))return!1;var oe=C.pointsSame(N,$),Y=C.pointsSame(Q,j);if(oe&&Y)return z;var V=!oe&&C.pointBetween(N,$,j),W=!Y&&C.pointBetween(Q,$,j);if(oe)return W?m(z,Q):m(I,j),z;V&&(Y||(W?m(z,Q):m(I,j)),m(z,N))}else ee.alongA===0&&(ee.alongB===-1?m(I,$):ee.alongB===0?m(I,ee.pt):ee.alongB===1&&m(I,j)),ee.alongB===0&&(ee.alongA===-1?m(z,N):ee.alongA===0?m(z,ee.pt):ee.alongA===1&&m(z,Q));return!1}for(var E=[];!t.isEmpty();){var g=t.getHead();if(w&&w.vert(g.pt[0]),g.isStart){let I=function(){if(b){var z=A(g,b);if(z)return z}return i?A(g,i):!1};w&&w.segmentNew(g.seg,g.primary);var S=M(g),b=S.before?S.before.ev:null,i=S.after?S.after.ev:null;w&&w.tempStatus(g.seg,b?b.seg:!1,i?i.seg:!1);var P=I();if(P){if(n){var x;g.seg.myFill.below===null?x=!0:x=g.seg.myFill.above!==g.seg.myFill.below,x&&(P.seg.myFill.above=!P.seg.myFill.above)}else P.seg.otherFill=g.seg.myFill;w&&w.segmentUpdate(P.seg),g.other.remove(),g.remove()}if(t.getHead()!==g){w&&w.rewind(g.seg);continue}if(n){var x;g.seg.myFill.below===null?x=!0:x=g.seg.myFill.above!==g.seg.myFill.below,i?g.seg.myFill.below=i.seg.myFill.above:g.seg.myFill.below=T,x?g.seg.myFill.above=!g.seg.myFill.below:g.seg.myFill.above=g.seg.myFill.below}else if(g.seg.otherFill===null){var k;i?g.primary===i.primary?k=i.seg.otherFill.above:k=i.seg.myFill.above:k=g.primary?f:T,g.seg.otherFill={above:k,below:k}}w&&w.status(g.seg,b?b.seg:!1,i?i.seg:!1),g.other.status=S.insert(p.node({ev:g}))}else{var _=g.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&A(_.prev.ev,_.next.ev),w&&w.statusRemove(_.ev.seg),_.remove(),!g.primary){var B=g.seg.myFill;g.seg.myFill=g.seg.otherFill,g.seg.otherFill=B}E.push(g.seg)}t.getHead().remove()}return w&&w.done(),E}return n?{addRegion:function(T){for(var f,o=T[T.length-1],d=0;d<T.length;d++){f=o,o=T[d];var M=C.pointsCompare(f,o);M!==0&&c(v(M<0?f:o,M<0?o:f),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,f,o,d){return T.forEach(function(M){c(y(M.start,M.end,M),!0)}),o.forEach(function(M){c(y(M.start,M.end,M),!1)}),h(f,d)}}}G.exports=L},26859:function(G){var U={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var n=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}n=C,C=C.next}n.next=p,p.prev=n,p.next=null},findTransition:function(p){for(var L=e.root,n=e.root.next;n!==null&&!p(n);)L=n,n=n.next;return{before:L===e.root?null:L,after:n,insert:function(C){return C.prev=L,C.next=n,L.next=C,n!==null&&(n.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=U},11328:function(G){function U(e,p,L){var n=[],C=[];return e.forEach(function(w){var v=w.start,y=w.end;if(p.pointsSame(v,y)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(w);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},l=t;function a(P,x,k){return l.index=P,l.matches_head=x,l.matches_pt1=k,l===t?(l=r,!1):(l=null,!0)}for(var s=0;s<n.length;s++){var c=n[s],u=c[0];c[1];var m=c[c.length-1];if(c[c.length-2],p.pointsSame(u,v)){if(a(s,!0,!0))break}else if(p.pointsSame(u,y)){if(a(s,!0,!1))break}else if(p.pointsSame(m,v)){if(a(s,!1,!0))break}else if(p.pointsSame(m,y)&&a(s,!1,!1))break}if(l===t){n.push([v,y]),L&&L.chainNew(v,y);return}if(l===r){L&&L.chainMatch(t.index);var h=t.index,T=t.matches_pt1?y:v,f=t.matches_head,c=n[h],o=f?c[0]:c[c.length-1],d=f?c[1]:c[c.length-2],M=f?c[c.length-1]:c[0],A=f?c[c.length-2]:c[1];if(p.pointsCollinear(d,o,T)&&(f?(L&&L.chainRemoveHead(t.index,T),c.shift()):(L&&L.chainRemoveTail(t.index,T),c.pop()),o=d),p.pointsSame(M,T)){n.splice(h,1),p.pointsCollinear(A,M,o)&&(f?(L&&L.chainRemoveTail(t.index,o),c.pop()):(L&&L.chainRemoveHead(t.index,o),c.shift())),L&&L.chainClose(t.index),C.push(c);return}f?(L&&L.chainAddHead(t.index,T),c.unshift(T)):(L&&L.chainAddTail(t.index,T),c.push(T));return}function E(P){L&&L.chainReverse(P),n[P].reverse()}function g(P,x){var k=n[P],_=n[x],B=k[k.length-1],I=k[k.length-2],z=_[0],O=_[1];p.pointsCollinear(I,B,z)&&(L&&L.chainRemoveTail(P,B),k.pop(),B=I),p.pointsCollinear(B,z,O)&&(L&&L.chainRemoveHead(x,z),_.shift()),L&&L.chainJoin(P,x),n[P]=k.concat(_),n.splice(x,1)}var S=t.index,b=r.index;L&&L.chainConnect(S,b);var i=n[S].length<n[b].length;t.matches_head?r.matches_head?i?(E(S),g(S,b)):(E(b),g(b,S)):g(b,S):r.matches_head?g(S,b):i?(E(S),g(b,S)):(E(b),g(S,b))}),C}G.exports=U},55968:function(G){function U(p,L,n){var C=[];return p.forEach(function(w){var v=(w.myFill.above?8:0)+(w.myFill.below?4:0)+(w.otherFill&&w.otherFill.above?2:0)+(w.otherFill&&w.otherFill.below?1:0);L[v]!==0&&C.push({id:n?n.segmentId():-1,start:w.start,end:w.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),n&&n.selected(C),C}var e={union:function(p,L){return U(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return U(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return U(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return U(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return U(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};G.exports=e},14847:function(G,U,e){var p=e(21630).Transform,L=e(90715);function n(){p.call(this,{readableObjectMode:!0})}n.prototype=Object.create(p.prototype),n.prototype.constructor=n,L(n.prototype),U.OF=function(w,v,y){for(var t=v,r=0;r<y.length;)if(w[t++]!==y[r++])return!1;return!0},U.eG=function(w,v){var y=[],t=0;if(v&&v==="hex")for(;t<w.length;)y.push(parseInt(w.slice(t,t+2),16)),t+=2;else for(;t<w.length;t++)y.push(w.charCodeAt(t)&255);return y},U.mP=function(w,v){return w[v]|w[v+1]<<8},U.n8=function(w,v){return w[v+1]|w[v]<<8},U.nm=function(w,v){return w[v]|w[v+1]<<8|w[v+2]<<16|w[v+3]*16777216},U.Ag=function(w,v){return w[v+3]|w[v+2]<<8|w[v+1]<<16|w[v]*16777216};function C(w,v,y){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=w,v&&(this.code=v),y&&(this.statusCode=y)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(G){function U(L,n){var C=new Error(L);return C.code=n,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,n,C){this.input=L.subarray(n,C),this.start=n;var w=String.fromCharCode.apply(null,this.input.subarray(0,4));if(w!=="II*\0"&&w!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=w[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var n=this.input;if(L+2>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[L]*256+n[L+1]:n[L]+n[L+1]*256},p.prototype.read_uint32=function(L){var n=this.input;if(L+4>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[L]*16777216+n[L+1]*65536+n[L+2]*256+n[L+3]:n[L]+n[L+1]*256+n[L+2]*65536+n[L+3]*16777216},p.prototype.is_subifd_link=function(L,n){return L===0&&n===34665||L===0&&n===34853||L===34665&&n===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,n){var C;switch(L){case 1:case 2:return C=this.input[n],C;case 6:return C=this.input[n],C|(C&128)*33554430;case 3:return C=this.read_uint16(n),C;case 8:return C=this.read_uint16(n),C|(C&32768)*131070;case 4:return C=this.read_uint32(n),C;case 9:return C=this.read_uint32(n),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,n,C){var w=this.read_uint16(n);n+=2;for(var v=0;v<w;v++){var y=this.read_uint16(n),t=this.read_uint16(n+2),r=this.read_uint32(n+4),l=this.exif_format_length(t),a=r*l,s=a<=4?n+8:this.read_uint32(n+8),c=!1;if(s+a>this.input.length)throw U("unexpected EOF","EBADDATA");for(var u=[],m=s,h=0;h<r;h++,m+=l){var T=this.exif_format_read(t,m);if(T===null){u=null;break}u.push(T)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(L,y)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:y,offset:u[0]}),c=!0);var f={is_big_endian:this.big_endian,ifd:L,tag:y,format:t,count:r,entry_offset:n+this.start,data_length:a,data_offset:s+this.start,value:u,is_subifd_link:c};if(C(f)===!1){this.aborted=!0;return}n+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},G.exports.ExifParser=p,G.exports.get_orientation=function(L){var n=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return n=C.value[0],!1}),n}catch{return-1}}},76767:function(G,U,e){var p=e(14847).n8,L=e(14847).Ag;function n(a,s){if(a.length<4+s)return null;var c=L(a,s);return a.length<c+s||c<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(s+4,s+8)),data:a.slice(s+8,s+c),end:s+c}}G.exports.unbox=n;function C(a,s){for(var c=0;;){var u=n(a,c);if(!u)break;switch(u.boxtype){case"ispe":s.sizes.push({width:L(u.data,4),height:L(u.data,8)});break;case"irot":s.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":s.transforms.push({type:"imir",value:u.data[0]&1});break}c=u.end}}function w(a,s,c){for(var u=0,m=0;m<c;m++)u=u*256+(a[s+m]||0);return u}function v(a,s){for(var c=a[4]>>4&15,u=a[4]&15,m=a[5]>>4&15,h=p(a,6),T=8,f=0;f<h;f++){var o=p(a,T);T+=2;var d=p(a,T);T+=2;var M=w(a,T,m);T+=m;var A=p(a,T);if(T+=2,d===0&&A===1){var E=w(a,T,c),g=w(a,T+c,u);s.item_loc[o]={length:g,offset:E+M}}T+=A*(c+u)}}function y(a,s){for(var c=p(a,4),u=6,m=0;m<c;m++){var h=n(a,u);if(!h)break;if(h.boxtype==="infe"){for(var T=p(h.data,4),f="",o=8;o<h.data.length&&h.data[o];o++)f+=String.fromCharCode(h.data[o]);s.item_inf[f]=T}u=h.end}}function t(a,s){for(var c=0;;){var u=n(a,c);if(!u)break;u.boxtype==="ipco"&&C(u.data,s),c=u.end}}function r(a,s){for(var c=4;;){var u=n(a,c);if(!u)break;u.boxtype==="iprp"&&t(u.data,s),u.boxtype==="iloc"&&v(u.data,s),u.boxtype==="iinf"&&y(u.data,s),c=u.end}}function l(a){var s=a.reduce(function(m,h){return m.width>h.width||m.width===h.width&&m.height>h.height?m:h}),c=a.reduce(function(m,h){return m.height>h.height||m.height===h.height&&m.width>h.width?m:h}),u;return s.width>c.height||s.width===c.height&&s.height>c.width?u=s:u=c,u}G.exports.readSizeFromMeta=function(a){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(a,s),!!s.sizes.length){var c=l(s.sizes),u=1;s.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},f={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?u=f[u]:(u=f[u],u=T[u],u=T[u])),h.type==="irot")for(var o=0;o<h.value;o++)u=T[u]});var m=null;return s.item_inf.Exif&&(m=s.item_loc[s.item_inf.Exif]),{width:c.width,height:c.height,orientation:s.transforms.length?u:null,variants:s.sizes,exif_location:m}}},G.exports.getMimeType=function(a){var s=String.fromCharCode.apply(null,a.slice(0,4)),c={};c[s]=!0;for(var u=8;u<a.length;u+=4)c[String.fromCharCode.apply(null,a.slice(u,u+4))]=!0;if(!(!c.mif1&&!c.msf1&&!c.miaf))return s==="avif"||s==="avis"||s==="avio"?{type:"avif",mime:"image/avif"}:s==="heic"||s==="heix"?{type:"heic",mime:"image/heic"}:s==="hevc"||s==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=e(76767),w=e(71371),v=p("ftyp");G.exports=function(y){if(L(y,4,v)){var t=C.unbox(y,0);if(t){var r=C.getMimeType(t.data);if(r){for(var l,a=t.end;;){var s=C.unbox(y,a);if(!s)break;if(a=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){l=s.data;break}}if(l){var c=C.readSizeFromMeta(l);if(c){var u={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(u.variants=c.variants),c.orientation&&(u.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=y.length){var m=n(y,c.exif_location.offset),h=y.slice(c.exif_location.offset+m+4,c.exif_location.offset+c.exif_location.length),T=w.get_orientation(h);T>0&&(u.orientation=T)}return u}}}}}}},2504:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("BM");G.exports=function(w){if(!(w.length<26)&&L(w,0,C))return{width:n(w,18),height:n(w,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("GIF87a"),w=p("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!L(v,0,C)&&!L(v,0,w)))return{width:n(v,6),height:n(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(G,U,e){var p=e(14847).mP,L=0,n=1,C=16;G.exports=function(w){var v=p(w,0),y=p(w,2),t=p(w,4);if(!(v!==L||y!==n||!t)){for(var r=[],l={width:0,height:0},a=0;a<t;a++){var s=w[6+C*a]||256,c=w[6+C*a+1]||256,u={width:s,height:c};r.push(u),(s>l.width||c>l.height)&&(l=u)}return{width:l.width,height:l.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(G,U,e){var p=e(14847).n8,L=e(14847).eG,n=e(14847).OF,C=e(71371),w=L("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var y=2;;){for(;;){if(v.length-y<2)return;if(v[y++]===255)break}for(var t=v[y++],r;t===255;)t=v[y++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-y<2)return;r=p(v,y)-2,y+=2}else return;if(t===217||t===218)return;var l;if(t===225&&r>=10&&n(v,y,w)&&(l=C.get_orientation(v.slice(y+6,y+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-y<r)return;var a={width:p(v,y+3),height:p(v,y+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(a.orientation=l),a}y+=r}}},6303:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p(`PNG\r

`),w=p("IHDR");G.exports=function(v){if(!(v.length<24)&&L(v,0,C)&&L(v,12,w))return{width:n(v,16),height:n(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p("8BPS\0");G.exports=function(w){if(!(w.length<22)&&L(w,0,C))return{width:n(w,18),height:n(w,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(G){function U(l){return l===32||l===9||l===13||l===10}function e(l){return typeof l=="number"&&isFinite(l)&&l>0}function p(l){var a=0,s=l.length;for(l[0]===239&&l[1]===187&&l[2]===191&&(a=3);a<s&&U(l[a]);)a++;return a===s?!1:l[a]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,w=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(l){var a=l.match(C),s=l.match(w),c=l.match(v);return{width:a&&(a[1]||a[2]),height:s&&(s[1]||s[2]),viewbox:c&&(c[1]||c[2])}}function r(l){return y.test(l)?l.match(y)[0]:"px"}G.exports=function(l){if(p(l)){for(var a="",s=0;s<l.length;s++)a+=String.fromCharCode(l[s]);var c=(a.match(L)||[""])[0];if(n.test(c)){var u=t(c),m=parseFloat(u.width),h=parseFloat(u.height);if(u.width&&u.height)return!e(m)||!e(h)?void 0:{width:m,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var T=(u.viewbox||"").split(" "),f={width:T[2],height:T[3]},o=parseFloat(f.width),d=parseFloat(f.height);if(!(!e(o)||!e(d))&&r(f.width)===r(f.height)){var M=o/d;return u.width?e(m)?{width:m,height:m/M,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(h)?{width:h*M,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(f.width),hUnits:r(f.height)}}}}}},66278:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).n8,w=e(14847).nm,v=e(14847).Ag,y=p("II*\0"),t=p("MM\0*");function r(s,c,u){return u?C(s,c):n(s,c)}function l(s,c,u){return u?v(s,c):w(s,c)}function a(s,c,u){var m=r(s,c+2,u),h=l(s,c+4,u);return h!==1||m!==3&&m!==4?null:m===3?r(s,c+8,u):l(s,c+8,u)}G.exports=function(s){if(!(s.length<8)&&!(!L(s,0,y)&&!L(s,0,t))){var c=s[0]===77,u=l(s,4,c)-8;if(!(u<0)){var m=u+8;if(!(s.length-m<2)){var h=r(s,m+0,c)*12;if(!(h<=0)&&(m+=2,!(s.length-m<h))){var T,f,o,d;for(T=0;T<h;T+=12)d=r(s,m+T,c),d===256?f=a(s,m+T,c):d===257&&(o=a(s,m+T,c));if(f&&o)return{width:f,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(G,U,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).nm,w=e(71371),v=p("RIFF"),y=p("WEBP");function t(a,s){if(!(a[s+3]!==157||a[s+4]!==1||a[s+5]!==42))return{width:n(a,s+6)&16383,height:n(a,s+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(a,s){if(a[s]===47){var c=C(a,s+1);return{width:(c&16383)+1,height:(c>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(a,s){return{width:(a[s+6]<<16|a[s+5]<<8|a[s+4])+1,height:(a[s+9]<<s|a[s+8]<<8|a[s+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(a){if(!(a.length<16)&&!(!L(a,0,v)&&!L(a,8,y))){var s=12,c=null,u=0,m=C(a,4)+8;if(!(m>a.length)){for(;s+8<m;){if(a[s]===0){s++;continue}var h=String.fromCharCode.apply(null,a.slice(s,s+4)),T=C(a,s+4);h==="VP8 "&&T>=10?c=c||t(a,s+8):h==="VP8L"&&T>=9?c=c||r(a,s+8):h==="VP8X"&&T>=10?c=c||l(a,s+8):h==="EXIF"&&(u=w.get_orientation(a.slice(s+8,s+8+T)),s=1/0),s+=8+T}if(c)return u>0&&(c.orientation=u),c}}}},91497:function(G,U,e){G.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(G,U,e){var p=e(91497);function L(n){for(var C=Object.keys(p),w=0;w<C.length;w++){var v=p[C[w]](n);if(v)return v}return null}G.exports=function(C){return L(C)},G.exports.parsers=p},90386:function(G){var U=G.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=n}catch{p=n}})();function C(u){if(e===setTimeout)return setTimeout(u,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function w(u){if(p===clearTimeout)return clearTimeout(u);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(u);try{return p(u)}catch{try{return p.call(null,u)}catch{return p.call(this,u)}}}var v=[],y=!1,t,r=-1;function l(){!y||!t||(y=!1,t.length?v=t.concat(v):r=-1,v.length&&a())}function a(){if(!y){var u=C(l);y=!0;for(var m=v.length;m;){for(t=v,v=[];++r<m;)t&&t[r].run();r=-1,m=v.length}t=null,y=!1,w(u)}}U.nextTick=function(u){var m=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)m[h-1]=arguments[h];v.push(new s(u,m)),v.length===1&&!y&&C(a)};function s(u,m){this.fun=u,this.array=m}s.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function c(){}U.on=c,U.addListener=c,U.once=c,U.off=c,U.removeListener=c,U.removeAllListeners=c,U.emit=c,U.prependListener=c,U.prependOnceListener=c,U.listeners=function(u){return[]},U.binding=function(u){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(u){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},5877:function(G,U,e){for(var p=e(9748),L=typeof window>"u"?e.g:window,n=["moz","webkit"],C="AnimationFrame",w=L["request"+C],v=L["cancel"+C]||L["cancelRequest"+C],y=0;!w&&y<n.length;y++)w=L[n[y]+"Request"+C],v=L[n[y]+"Cancel"+C]||L[n[y]+"CancelRequest"+C];if(!w||!v){var t=0,r=0,l=[],a=1e3/60;w=function(s){if(l.length===0){var c=p(),u=Math.max(0,a-(c-t));t=u+c,setTimeout(function(){var m=l.slice(0);l.length=0;for(var h=0;h<m.length;h++)if(!m[h].cancelled)try{m[h].callback(t)}catch(T){setTimeout(function(){throw T},0)}},Math.round(u))}return l.push({handle:++r,callback:s,cancelled:!1}),r},v=function(s){for(var c=0;c<l.length;c++)l[c].handle===s&&(l[c].cancelled=!0)}}G.exports=function(s){return w.call(L,s)},G.exports.cancel=function(){v.apply(L,arguments)},G.exports.polyfill=function(s){s||(s=L),s.requestAnimationFrame=w,s.cancelAnimationFrame=v}},3593:function(G,U,e){var p=e(21527),L=e(25075),n=e(93447),C=e(71299),w=e(56131),v=e(30120),y=e(57060),t=y.float32,r=y.fract32;G.exports=a;var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(s,c){if(typeof s=="function"?(c||(c={}),c.regl=s):c=s,c.length&&(c.positions=c),s=c.regl,!s.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=s._gl,m,h,T,f,o,d,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return f=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=s.buffer({usage:"static",type:"float",data:l}),b(c),m=s({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(P,x){return[x.viewport.x,x.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:f,offset:function(P,x){return x.offset*4},divisor:1},position:{buffer:h,offset:function(P,x){return x.offset*8},divisor:1},positionFract:{buffer:T,offset:function(P,x){return x.offset*8},divisor:1},error:{buffer:o,offset:function(P,x){return x.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:l.length}),w(E,{update:b,draw:g,destroy:i,regl:s,gl:u,canvas:u.canvas,groups:A}),E;function E(P){P?b(P):P===null&&i(),g()}function g(P){if(typeof P=="number")return S(P);P&&!Array.isArray(P)&&(P=[P]),s._refresh(),A.forEach(function(x,k){if(x){if(P&&(P[k]?x.draw=!0:x.draw=!1),!x.draw){x.draw=!0;return}S(k)}})}function S(P){typeof P=="number"&&(P=A[P]),P!=null&&P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1&&(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],m(P),P.after&&P.after(P))}function b(P){if(P){P.length!=null?typeof P[0]=="number"&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var x=0,k=0;if(E.groups=A=P.map(function(N,Q){var $=A[Q];if(N)typeof N=="function"?N={after:N}:typeof N[0]=="number"&&(N={positions:N});else return $;return N=C(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(A[Q]=$={id:Q,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=w({},M,N)),n($,N,[{lineWidth:function(j){return+j*.5},capSize:function(j){return+j*.5},opacity:parseFloat,errors:function(j){return j=v(j),k+=j.length,j},positions:function(j,ee){return j=v(j,"float64"),ee.count=Math.floor(j.length/2),ee.bounds=p(j,2),ee.offset=x,x+=ee.count,j}},{color:function(j,ee){var oe=ee.count;if(j||(j="transparent"),!Array.isArray(j)||typeof j[0]=="number"){var Y=j;j=Array(oe);for(var V=0;V<oe;V++)j[V]=Y}if(j.length<oe)throw Error("Not enough colors");for(var W=new Uint8Array(oe*4),X=0;X<oe;X++){var re=L(j[X],"uint8");W.set(re,X*4)}return W},range:function(j,ee,oe){var Y=ee.bounds;return j||(j=Y),ee.scale=[1/(j[2]-j[0]),1/(j[3]-j[1])],ee.translate=[-j[0],-j[1]],ee.scaleFract=r(ee.scale),ee.translateFract=r(ee.translate),j},viewport:function(j){var ee;return Array.isArray(j)?ee={x:j[0],y:j[1],width:j[2]-j[0],height:j[3]-j[1]}:j?(ee={x:j.x||j.left||0,y:j.y||j.top||0},j.right?ee.width=j.right-ee.x:ee.width=j.w||j.width||0,j.bottom?ee.height=j.bottom-ee.y:ee.height=j.h||j.height||0):ee={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},ee}}]),$}),x||k){var _=A.reduce(function(N,Q,$){return N+(Q?Q.count:0)},0),B=new Float64Array(_*2),I=new Uint8Array(_*4),z=new Float32Array(_*4);A.forEach(function(N,Q){if(N){var $=N.positions,j=N.count,ee=N.offset,oe=N.color,Y=N.errors;j&&(I.set(oe,ee*4),z.set(Y,ee*4),B.set($,ee*2))}});var O=t(B);h(O);var F=r(B,O);T(F),f(I),o(z)}}}function i(){h.destroy(),T.destroy(),f.destroy(),o.destroy(),d.destroy()}}},46075:function(G,U,e){var p=e(25075),L=e(21527),n=e(56131),C=e(56068),w=e(71299),v=e(30120),y=e(11474),t=e(54),r=e(57060),l=r.float32,a=r.fract32,s=e(83522),c=e(18863),u=e(6851);G.exports=m;function m(h,T){if(!(this instanceof m))return new m(h,T);if(typeof h=="function"?(T||(T={}),T.regl=h):T=h,T.length&&(T.positions=T),h=T.regl,!h.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=m.shaders.has(h)?m.shaders.get(h):m.shaders.set(h,m.createShaders(h)).get(h),this.update(T)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new s,m.createShaders=function(h){var T=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),f={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(A,E){return E.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(A,E){return[E.viewport.x,E.viewport.y,A.viewportWidth,A.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(A,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},o=h(n({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},f)),d;try{d=h(n({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},f))}catch{d=o}var M=h({primitive:"triangle",elements:function(A,E){return E.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(A,E){return[E.viewport.x,E.viewport.y,A.viewportWidth,A.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:f.blend,depth:{enable:!1},scissor:f.scissor,stencil:f.stencil,viewport:f.viewport});return{fill:M,rect:o,miter:d}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var h,T=[],f=arguments.length;f--;)T[f]=arguments[f];T.length&&(h=this).update.apply(h,T),this.draw()},m.prototype.draw=function(){for(var h=this,T=[],f=arguments.length;f--;)T[f]=arguments[f];return(T.length?T:this.passes).forEach(function(o,d){var M;if(o&&Array.isArray(o))return(M=h).draw.apply(M,o);typeof o=="number"&&(o=h.passes[o]),o&&o.count>1&&o.opacity&&(h.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&h.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>m.precisionThreshold||o.scale[1]*o.viewport.height>m.precisionThreshold||o.join==="rect"||!o.join&&(o.thickness<=2||o.count>=m.maxPoints)?h.shaders.rect(o):h.shaders.miter(o)))}),this},m.prototype.update=function(h){var T=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var f=this,o=f.regl,d=f.gl;if(h.forEach(function(S,b){var i=T.passes[b];if(S!==void 0){if(S===null){T.passes[b]=null;return}if(typeof S[0]=="number"&&(S={positions:S}),S=w(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(T.passes[b]=i={id:b,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=n({},m.defaults,S)),S.thickness!=null&&(i.thickness=parseFloat(S.thickness)),S.opacity!=null&&(i.opacity=parseFloat(S.opacity)),S.miterLimit!=null&&(i.miterLimit=parseFloat(S.miterLimit)),S.overlay!=null&&(i.overlay=!!S.overlay,b<m.maxLines&&(i.depth=2*(m.maxLines-1-b%m.maxLines)/m.maxLines-1)),S.join!=null&&(i.join=S.join),S.hole!=null&&(i.hole=S.hole),S.fill!=null&&(i.fill=S.fill?p(S.fill,"uint8"):null),S.viewport!=null&&(i.viewport=c(S.viewport)),i.viewport||(i.viewport=c([d.drawingBufferWidth,d.drawingBufferHeight])),S.close!=null&&(i.close=S.close),S.positions===null&&(S.positions=[]),S.positions){var P,x;if(S.positions.x&&S.positions.y){var k=S.positions.x,_=S.positions.y;x=i.count=Math.max(k.length,_.length),P=new Float64Array(x*2);for(var B=0;B<x;B++)P[B*2]=k[B],P[B*2+1]=_[B]}else P=v(S.positions,"float64"),x=i.count=Math.floor(P.length/2);var I=i.bounds=L(P,2);if(i.fill){for(var z=[],O={},F=0,N=0,Q=0,$=i.count;N<$;N++){var j=P[N*2],ee=P[N*2+1];isNaN(j)||isNaN(ee)||j==null||ee==null?(j=P[F*2],ee=P[F*2+1],O[N]=F):F=N,z[Q++]=j,z[Q++]=ee}if(S.splitNull){i.count-1 in O||(O[i.count]=i.count-1);var oe=Object.keys(O).map(Number).sort(function(Xe,Pe){return Xe-Pe}),Y=[],V=0,W=i.hole!=null?i.hole[0]:null;if(W!=null){var X=u(oe,function(Xe){return Xe>=W});oe=oe.slice(0,X),oe.push(W)}for(var re=function(Xe){var Pe=z.slice(V*2,oe[Xe]*2).concat(W?z.slice(W*2):[]),we=(i.hole||[]).map(function(ge){return ge-W+(oe[Xe]-V)}),ue=y(Pe,we);ue=ue.map(function(ge){return ge+V+(ge+V<oe[Xe]?0:W-oe[Xe])}),Y.push.apply(Y,ue),V=oe[Xe]+1},ie=0;ie<oe.length;ie++)re(ie);for(var K=0,q=Y.length;K<q;K++)O[Y[K]]!=null&&(Y[K]=O[Y[K]]);i.triangles=Y}else{for(var le=y(z,i.hole||[]),ae=0,he=le.length;ae<he;ae++)O[le[ae]]!=null&&(le[ae]=O[le[ae]]);i.triangles=le}}var me=new Float64Array(P);t(me,2,I);var Me=new Float64Array(x*2+6);i.close?P[0]===P[x*2-2]&&P[1]===P[x*2-1]?(Me[0]=me[x*2-4],Me[1]=me[x*2-3]):(Me[0]=me[x*2-2],Me[1]=me[x*2-1]):(Me[0]=me[0],Me[1]=me[1]),Me.set(me,2),i.close?P[0]===P[x*2-2]&&P[1]===P[x*2-1]?(Me[x*2+2]=me[2],Me[x*2+3]=me[3],i.count-=1):(Me[x*2+2]=me[0],Me[x*2+3]=me[1],Me[x*2+4]=me[2],Me[x*2+5]=me[3]):(Me[x*2+2]=me[x*2-2],Me[x*2+3]=me[x*2-1],Me[x*2+4]=me[x*2-2],Me[x*2+5]=me[x*2-1]);var xe=l(Me);i.positionBuffer(xe);var Ie=a(Me,xe);i.positionFractBuffer(Ie)}if(S.range?i.range=S.range:i.range||(i.range=i.bounds),(S.range||S.positions)&&i.count){var _e=i.bounds,Te=_e[2]-_e[0],ye=_e[3]-_e[1],Ae=i.range[2]-i.range[0],Be=i.range[3]-i.range[1];i.scale=[Te/Ae,ye/Be],i.translate=[-i.range[0]/Ae+_e[0]/Ae||0,-i.range[1]/Be+_e[1]/Be||0],i.scaleFract=a(i.scale),i.translateFract=a(i.translate)}if(S.dashes){var Ue=0,De;if(!S.dashes||S.dashes.length<2)Ue=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var He=0;He<S.dashes.length;++He)Ue+=S.dashes[He];De=new Uint8Array(Ue*m.dashMult);for(var ut=0,et=255,Qe=0;Qe<2;Qe++)for(var qe=0;qe<S.dashes.length;++qe){for(var ft=0,gt=S.dashes[qe]*m.dashMult*.5;ft<gt;++ft)De[ut++]=et;et^=255}}i.dashLength=Ue,i.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var xt=i.count,Ct=S.color;Ct||(Ct="transparent");var Je=new Uint8Array(xt*4+4);if(!Array.isArray(Ct)||typeof Ct[0]=="number")for(var ze=p(Ct,"uint8"),Fe=0;Fe<xt+1;Fe++)Je.set(ze,Fe*4);else{for(var $e=0;$e<xt;$e++){var at=p(Ct[$e],"uint8");Je.set(at,$e*4)}Je.set(p(Ct[0],"uint8"),xt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Je})}}}),h.length<this.passes.length){for(var M=h.length;M<this.passes.length;M++){var A=this.passes[M];A&&(A.colorBuffer.destroy(),A.positionBuffer.destroy(),A.dashTexture.destroy())}this.passes.length=h.length}for(var E=[],g=0;g<this.passes.length;g++)this.passes[g]!==null&&E.push(this.passes[g]);return this.passes=E,this}},m.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(G,U,e){function p(i,P){return C(i)||v(i,P)||y(i,P)||l()}function L(i){return n(i)||w(i)||y(i)||r()}function n(i){if(Array.isArray(i))return t(i)}function C(i){if(Array.isArray(i))return i}function w(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function v(i,P){var x=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(x!=null){var k=[],_=!0,B=!1,I,z;try{for(x=x.call(i);!(_=(I=x.next()).done)&&(k.push(I.value),!(P&&k.length===P));_=!0);}catch(O){B=!0,z=O}finally{try{!_&&x.return!=null&&x.return()}finally{if(B)throw z}}return k}}function y(i,P){if(i){if(typeof i=="string")return t(i,P);var x=Object.prototype.toString.call(i).slice(8,-1);if(x==="Object"&&i.constructor&&(x=i.constructor.name),x==="Map"||x==="Set")return Array.from(i);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return t(i,P)}}function t(i,P){(P==null||P>i.length)&&(P=i.length);for(var x=0,k=new Array(P);x<P;x++)k[x]=i[x];return k}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(25075),s=e(21527),c=e(6475),u=e(88294),m=e(56131),h=e(56068),T=e(71299),f=e(93447),o=e(30120),d=e(62683),M=e(57060),A=e(18863),E=g;function g(i,P){var x=this;if(!(this instanceof g))return new g(i,P);typeof i=="function"?(P||(P={}),P.regl=i):(P=i,i=null),P&&P.length&&(P.positions=P),i=P.regl;var k=i._gl,_,B=[],I={},z=[],O=[null],F=[null],N=255,Q=100;this.tooManyColors=d,_=i.texture({data:new Uint8Array(N*4),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:i,gl:k,groups:z,markerCache:F,markerTextures:O,palette:B,paletteIds:I,paletteTexture:_,maxColors:N,maxSize:Q,canvas:k.canvas}),this.update(P);var $={uniforms:{constPointSize:!!P.constPointSize,opacity:i.prop("opacity"),paletteSize:function(Y,V){return[x.tooManyColors?0:N,_.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:_},attributes:{x:function(Y,V){return V.xAttr||{buffer:V.positionBuffer,stride:8,offset:0}},y:function(Y,V){return V.yAttr||{buffer:V.positionBuffer,stride:8,offset:4}},xFract:function(Y,V){return V.xAttr?{constant:[0,0]}:{buffer:V.positionFractBuffer,stride:8,offset:0}},yFract:function(Y,V){return V.yAttr?{constant:[0,0]}:{buffer:V.positionFractBuffer,stride:8,offset:4}},size:function(Y,V){return V.size.length?{buffer:V.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(V.size*255/x.maxSize)]}},borderSize:function(Y,V){return V.borderSize.length?{buffer:V.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(V.borderSize*255/x.maxSize)]}},colorId:function(Y,V){return V.color.length?{buffer:V.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?B.slice(V.color*4,V.color*4+4):[V.color]}},borderColorId:function(Y,V){return V.borderColor.length?{buffer:V.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?B.slice(V.borderColor*4,V.borderColor*4+4):[V.borderColor]}},isActive:function(Y,V){return V.activation===!0?{constant:[1]}:V.activation?V.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},j=m({},$);j.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),j.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(j);var ee=m({},$);ee.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ee.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ee.frag=ee.frag.replace("smoothstep","smoothStep"),j.frag=j.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(ee)}g.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},g.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},g.prototype.draw=function(){for(var i=this,P=arguments.length,x=new Array(P),k=0;k<P;k++)x[k]=arguments[k];var _=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var B=0;B<x.length;B++)this.drawItem(B,x[B]);else _.forEach(function(I,z){i.drawItem(z)});return this},g.prototype.drawItem=function(i,P){var x=this.groups,k=x[i];if(typeof P=="number"&&(i=P,k=x[P],P=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,P));for(var _=[],B=1;B<k.activation.length;B++)!k.activation[B]||k.activation[B]!==!0&&!k.activation[B].data.length||_.push.apply(_,L(this.getMarkerDrawOptions(B,k,P)));_.length&&this.drawMarker(_)}},g.prototype.getMarkerDrawOptions=function(i,P,x){var k=P.range,_=P.tree,B=P.viewport,I=P.activation,z=P.selectionBuffer,O=P.count;if(this.regl,!_)return x?[m({},P,{markerTexture:this.markerTextures[i],activation:I[i],count:x.length,elements:x,offset:0})]:[m({},P,{markerTexture:this.markerTextures[i],activation:I[i],offset:0})];var F=[],N=_.range(k,{lod:!0,px:[(k[2]-k[0])/B.width,(k[3]-k[1])/B.height]});if(x){for(var Q=I[i],$=Q.data,j=new Uint8Array(O),ee=0;ee<x.length;ee++){var oe=x[ee];j[oe]=$?$[oe]:1}z.subdata(j)}for(var Y=N.length;Y--;){var V=p(N[Y],2),W=V[0],X=V[1];F.push(m({},P,{markerTexture:this.markerTextures[i],activation:x?z:I[i],offset:W,count:X-W}))}return F},g.prototype.update=function(){for(var i=this,P=arguments.length,x=new Array(P),k=0;k<P;k++)x[k]=arguments[k];if(x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var _=this.groups,B=this.gl,I=this.regl,z=this.maxSize,O=this.maxColors,F=this.palette;this.groups=_=x.map(function(N,Q){var $=_[Q];if(N===void 0)return $;N===null?N={positions:null}:typeof N=="function"?N={ondraw:N}:typeof N[0]=="number"&&(N={positions:N}),N=T(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),N.positions===null&&(N.positions=[]),N.tooManyColors!=null&&(i.tooManyColors=N.tooManyColors),$||(_[Q]=$={id:Q,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:I.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=m({},g.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=$.marker,delete $.marker),N.marker&&!("positions"in N)&&(N.positions=$.positions,delete $.positions);var j=0,ee=0;if(f($,N,[{snap:!0,size:function(ye,Ae){return ye==null&&(ye=g.defaults.size),j+=ye&&ye.length?1:0,ye},borderSize:function(ye,Ae){return ye==null&&(ye=g.defaults.borderSize),j+=ye&&ye.length?1:0,ye},opacity:parseFloat,color:function(ye,Ae){return ye==null&&(ye=g.defaults.color),ye=i.updateColor(ye),ee++,ye},borderColor:function(ye,Ae){return ye==null&&(ye=g.defaults.borderColor),ye=i.updateColor(ye),ee++,ye},bounds:function(ye,Ae,Be){return"range"in Be||(Be.range=null),ye},positions:function(ye,Ae,Be){var Ue=Ae.snap,De=Ae.positionBuffer,He=Ae.positionFractBuffer,ut=Ae.selectionBuffer;if(ye.x||ye.y)return ye.x.length?Ae.xAttr={buffer:I.buffer(ye.x),offset:0,stride:4,count:ye.x.length}:Ae.xAttr={buffer:ye.x.buffer,offset:ye.x.offset*4||0,stride:(ye.x.stride||1)*4,count:ye.x.count},ye.y.length?Ae.yAttr={buffer:I.buffer(ye.y),offset:0,stride:4,count:ye.y.length}:Ae.yAttr={buffer:ye.y.buffer,offset:ye.y.offset*4||0,stride:(ye.y.stride||1)*4,count:ye.y.count},Ae.count=Math.max(Ae.xAttr.count,Ae.yAttr.count),ye;ye=o(ye,"float64");var et=Ae.count=Math.floor(ye.length/2),Qe=Ae.bounds=et?s(ye,2):null;if(!Be.range&&!Ae.range&&(delete Ae.range,Be.range=Qe),!Be.marker&&!Ae.marker&&(delete Ae.marker,Be.marker=null),Ue&&(Ue===!0||et>Ue)?Ae.tree=u(ye,{bounds:Qe}):Ue&&Ue.length&&(Ae.tree=Ue),Ae.tree){var qe={primitive:"points",usage:"static",data:Ae.tree,type:"uint32"};Ae.elements?Ae.elements(qe):Ae.elements=I.elements(qe)}var ft=M.float32(ye);De({data:ft,usage:"dynamic"});var gt=M.fract32(ye,ft);return He({data:gt,usage:"dynamic"}),ut({data:new Uint8Array(et),type:"uint8",usage:"stream"}),ye}},{marker:function(ye,Ae,Be){var Ue=Ae.activation;if(Ue.forEach(function(gt){return gt&&gt.destroy&&gt.destroy()}),Ue.length=0,!ye||typeof ye[0]=="number"){var De=i.addMarker(ye);Ue[De]=!0}else{for(var He=[],ut=0,et=Math.min(ye.length,Ae.count);ut<et;ut++){var Qe=i.addMarker(ye[ut]);He[Qe]||(He[Qe]=new Uint8Array(Ae.count)),He[Qe][ut]=1}for(var qe=0;qe<He.length;qe++)if(He[qe]){var ft={data:He[qe],type:"uint8",usage:"static"};Ue[qe]?Ue[qe](ft):Ue[qe]=I.buffer(ft),Ue[qe].data=He[qe]}}return ye},range:function(ye,Ae,Be){var Ue=Ae.bounds;if(Ue)return ye||(ye=Ue),Ae.scale=[1/(ye[2]-ye[0]),1/(ye[3]-ye[1])],Ae.translate=[-ye[0],-ye[1]],Ae.scaleFract=M.fract(Ae.scale),Ae.translateFract=M.fract(Ae.translate),ye},viewport:function(ye){var Ae=A(ye||[B.drawingBufferWidth,B.drawingBufferHeight]);return Ae}}]),j){var oe=$,Y=oe.count,V=oe.size,W=oe.borderSize,X=oe.sizeBuffer,re=new Uint8Array(Y*2);if(V.length||W.length)for(var ie=0;ie<Y;ie++)re[ie*2]=Math.round((V[ie]==null?V:V[ie])*255/z),re[ie*2+1]=Math.round((W[ie]==null?W:W[ie])*255/z);X({data:re,usage:"dynamic"})}if(ee){var K=$,q=K.count,le=K.color,ae=K.borderColor,he=K.colorBuffer,me;if(i.tooManyColors){if(le.length||ae.length){me=new Uint8Array(q*8);for(var Me=0;Me<q;Me++){var xe=le[Me];me[Me*8]=F[xe*4],me[Me*8+1]=F[xe*4+1],me[Me*8+2]=F[xe*4+2],me[Me*8+3]=F[xe*4+3];var Ie=ae[Me];me[Me*8+4]=F[Ie*4],me[Me*8+5]=F[Ie*4+1],me[Me*8+6]=F[Ie*4+2],me[Me*8+7]=F[Ie*4+3]}}}else if(le.length||ae.length){me=new Uint8Array(q*4+2);for(var _e=0;_e<q;_e++)le[_e]!=null&&(me[_e*4]=le[_e]%O,me[_e*4+1]=Math.floor(le[_e]/O)),ae[_e]!=null&&(me[_e*4+2]=ae[_e]%O,me[_e*4+3]=Math.floor(ae[_e]/O))}he({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return $})}},g.prototype.addMarker=function(i){var P=this.markerTextures,x=this.regl,k=this.markerCache,_=i==null?0:k.indexOf(i);if(_>=0)return _;var B;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)B=i;else{B=new Uint8Array(i.length);for(var I=0,z=i.length;I<z;I++)B[I]=i[I]*255}var O=Math.floor(Math.sqrt(B.length));return _=P.length,k.push(i),P.push(x.texture({channels:1,data:B,radius:O,mag:"linear",min:"linear"})),_},g.prototype.updateColor=function(i){var P=this.paletteIds,x=this.palette,k=this.maxColors;Array.isArray(i)||(i=[i]);var _=[];if(typeof i[0]=="number"){var B=[];if(Array.isArray(i))for(var I=0;I<i.length;I+=4)B.push(i.slice(I,I+4));else for(var z=0;z<i.length;z+=4)B.push(i.subarray(z,z+4));i=B}for(var O=0;O<i.length;O++){var F=i[O];F=a(F,"uint8");var N=c(F,!1);if(P[N]==null){var Q=x.length;P[N]=Math.floor(Q/4),x[Q]=F[0],x[Q+1]=F[1],x[Q+2]=F[2],x[Q+3]=F[3]}_[O]=P[N]}return!this.tooManyColors&&x.length>k*4&&(this.tooManyColors=!0),this.updatePalette(x),_.length===1?_[0]:_},g.prototype.updatePalette=function(i){if(!this.tooManyColors){var P=this.maxColors,x=this.paletteTexture,k=Math.ceil(i.length*.25/P);if(k>1){i=i.slice();for(var _=i.length*.25%P;_<k*P;_++)i.push(0,0,0,0)}x.height<k&&x.resize(P,k),x.subimage({width:Math.min(i.length*.25,P),height:k,data:i},0,0)}},g.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(P){return P&&P.destroy&&P.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var S=e(56131),b=function(P,x){var k=new E(P,x),_=k.render.bind(k);return S(_,{render:_,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),_};G.exports=b},60487:function(G,U,e){var p=e(11870),L=e(71299),n=e(21527),C=e(5877),w=e(57471),v=e(18863),y=e(30120);G.exports=t;function t(s,c){if(!(this instanceof t))return new t(s);this.traces=[],this.passes={},this.regl=s,this.scatter=p(s),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var s=this,c,u=[],m=arguments.length;m--;)u[m]=arguments[m];return u.length&&(c=this).update.apply(c,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,C(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(c.length){for(var m=0;m<c.length;m++)this.updateItem(m,c[m]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,f=0;f<this.traces.length;f++){for(var o=this.traces[f],d=this.traces[f].passes,M=0;M<d.length;M++)h.push(this.passes[d[M]]);o.passOffset=T,T+=o.passes.length}return(s=this.scatter).update.apply(s,h),this}},t.prototype.updateItem=function(s,c){var u=this,m=u.regl;if(c===null)return this.traces[s]=null,this;if(!c)return this;var h=L(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[s]||(this.traces[s]={id:s,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(y(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var f=0;f<T.columns;f++)T.bounds[f]=n(h.data[f],1)}var o;h.range&&(T.range=h.range,o=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(a),d=!0):T.padding=a(h.padding));var M=T.columns,A=T.count,E=T.viewport.width,g=T.viewport.height,S=T.viewport.x,b=T.viewport.y,i=E/M,P=g/M;T.passes=[];for(var x=0;x<M;x++)for(var k=0;k<M;k++)if(!(!T.diagonal&&k===x)&&!(!T.upper&&x>k)&&!(!T.lower&&x<k)){var _=r(T.id,x,k),B=this.passes[_]||(this.passes[_]={});if(h.data&&(h.transpose?B.positions={x:{buffer:T.buffer,offset:k,count:A,stride:M},y:{buffer:T.buffer,offset:x,count:A,stride:M}}:B.positions={x:{buffer:T.buffer,offset:k*A,count:A},y:{buffer:T.buffer,offset:x*A,count:A}},B.bounds=l(T.bounds,x,k)),h.domain||h.viewport||h.data){var I=d?l(T.padding,x,k):T.padding;if(T.domain){var z=l(T.domain,x,k),O=z[0],F=z[1],N=z[2],Q=z[3];B.viewport=[S+O*E+I[0],b+F*g+I[1],S+N*E-I[2],b+Q*g-I[3]]}else B.viewport=[S+k*i+i*I[0],b+x*P+P*I[1],S+(k+1)*i-i*I[2],b+(x+1)*P-P*I[3]]}h.color&&(B.color=T.color),h.size&&(B.size=T.size),h.marker&&(B.marker=T.marker),h.borderSize&&(B.borderSize=T.borderSize),h.borderColor&&(B.borderColor=T.borderColor),h.opacity&&(B.opacity=T.opacity),h.range&&(B.range=o?l(T.range,x,k):T.range||B.bounds),T.passes.push(_)}return this},t.prototype.draw=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!c.length)this.scatter.draw();else{for(var m=[],h=0;h<c.length;h++)if(typeof c[h]=="number"){var T=this.traces[c[h]],f=T.passes,o=T.passOffset;m.push.apply(m,w(o,o+f.length))}else if(c[h].length){var d=c[h],M=this.traces[h],A=M.passes,E=M.passOffset;A=A.map(function(g,S){m[E+S]=d})}(s=this.scatter).draw.apply(s,m)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(s,c,u){var m=s.id!=null?s.id:s,h=c,T=u,f=m<<16|(h&255)<<8|T&255;return f}function l(s,c,u){var m,h,T,f,o=s[c],d=s[u];return o.length>2?(o[0],o[2],m=o[1],h=o[3]):o.length?(m=o[0],h=o[1]):(o.x,m=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(T=d[0],f=d[2],d[1],d[3]):d.length?(T=d[0],f=d[1]):(T=d.x,d.y,f=d.x+d.width,d.y+d.height),[T,m,f,h]}function a(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var c=v(s);return[c.x,c.y,c.x+c.width,c.y+c.height]}},98580:function(G){(function(U,e){G.exports=e()})(this,function(){function U(mt,jt){this.id=he++,this.type=mt,this.data=jt}function e(mt){if(mt.length===0)return[];var jt=mt.charAt(0),Yt=mt.charAt(mt.length-1);if(1<mt.length&&jt===Yt&&(jt==='"'||jt==="'"))return['"'+mt.substr(1,mt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(mt))return e(mt.substr(0,jt.index)).concat(e(jt[1])).concat(e(mt.substr(jt.index+jt[0].length)));if(jt=mt.split("."),jt.length===1)return['"'+mt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(mt=[],Yt=0;Yt<jt.length;++Yt)mt=mt.concat(e(jt[Yt]));return mt}function p(mt){return"["+e(mt).join("][")+"]"}function L(mt,jt){if(typeof mt=="function")return new U(0,mt);if(typeof mt=="number"||typeof mt=="boolean")return new U(5,mt);if(Array.isArray(mt))return new U(6,mt.map(function(Yt,wr){return L(Yt)}));if(mt instanceof U)return mt}function n(){var mt={"":0},jt=[""];return{id:function(Yt){var wr=mt[Yt];return wr||(wr=mt[Yt]=jt.length,jt.push(Yt),wr)},str:function(Yt){return jt[Yt]}}}function C(mt,jt,Yt){function wr(){var ot=window.innerWidth,wt=window.innerHeight;mt!==document.body&&(wt=dr.getBoundingClientRect(),ot=wt.right-wt.left,wt=wt.bottom-wt.top),dr.width=Yt*ot,dr.height=Yt*wt}var dr=document.createElement("canvas");ae(dr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),mt.appendChild(dr),mt===document.body&&(dr.style.position="absolute",ae(mt.style,{margin:0,padding:0}));var ct;return mt!==document.body&&typeof ResizeObserver=="function"?(ct=new ResizeObserver(function(){setTimeout(wr)}),ct.observe(mt)):window.addEventListener("resize",wr,!1),wr(),{canvas:dr,onDestroy:function(){ct?ct.disconnect():window.removeEventListener("resize",wr),mt.removeChild(dr)}}}function w(mt,jt){function Yt(wr){try{return mt.getContext(wr,jt)}catch{return null}}return Yt("webgl")||Yt("experimental-webgl")||Yt("webgl-experimental")}function v(mt){return typeof mt=="string"?mt.split():mt}function y(mt){return typeof mt=="string"?document.querySelector(mt):mt}function t(mt){var jt=mt||{},Yt,wr,dr,ct;mt={};var ot=[],wt=[],Mt=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,St={},Ot=function(Qt){},Vt=function(){};if(typeof jt=="string"?Yt=document.querySelector(jt):typeof jt=="object"&&(typeof jt.nodeName=="string"&&typeof jt.appendChild=="function"&&typeof jt.getBoundingClientRect=="function"?Yt=jt:typeof jt.drawArrays=="function"||typeof jt.drawElements=="function"?(ct=jt,dr=ct.canvas):("gl"in jt?ct=jt.gl:"canvas"in jt?dr=y(jt.canvas):"container"in jt&&(wr=y(jt.container)),"attributes"in jt&&(mt=jt.attributes),"extensions"in jt&&(ot=v(jt.extensions)),"optionalExtensions"in jt&&(wt=v(jt.optionalExtensions)),"onDone"in jt&&(Ot=jt.onDone),"profile"in jt&&(Dt=!!jt.profile),"pixelRatio"in jt&&(Mt=+jt.pixelRatio),"cachedCode"in jt&&(St=jt.cachedCode))),Yt&&(Yt.nodeName.toLowerCase()==="canvas"?dr=Yt:wr=Yt),!ct){if(!dr){if(Yt=C(wr||document.body,Ot,Mt),!Yt)return null;dr=Yt.canvas,Vt=Yt.onDestroy}mt.premultipliedAlpha===void 0&&(mt.premultipliedAlpha=!0),ct=w(dr,mt)}return ct?{gl:ct,canvas:dr,container:wr,extensions:ot,optionalExtensions:wt,pixelRatio:Mt,profile:Dt,cachedCode:St,onDone:Ot,onDestroy:Vt}:(Vt(),Ot("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(mt,jt){function Yt(ot){ot=ot.toLowerCase();var wt;try{wt=wr[ot]=mt.getExtension(ot)}catch{}return!!wt}for(var wr={},dr=0;dr<jt.extensions.length;++dr){var ct=jt.extensions[dr];if(!Yt(ct))return jt.onDestroy(),jt.onDone('"'+ct+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return jt.optionalExtensions.forEach(Yt),{extensions:wr,restore:function(){Object.keys(wr).forEach(function(ot){if(wr[ot]&&!Yt(ot))throw Error("(regl): error restoring extension "+ot)})}}}function l(mt,jt){for(var Yt=Array(mt),wr=0;wr<mt;++wr)Yt[wr]=jt(wr);return Yt}function a(mt){var jt,Yt;return jt=(65535<mt)<<4,mt>>>=jt,Yt=(255<mt)<<3,mt>>>=Yt,jt|=Yt,Yt=(15<mt)<<2,mt>>>=Yt,jt|=Yt,Yt=(3<mt)<<1,jt|Yt|mt>>>Yt>>1}function s(){function mt(wr){e:{for(var dr=16;268435456>=dr;dr*=16)if(wr<=dr){wr=dr;break e}wr=0}return dr=Yt[a(wr)>>2],0<dr.length?dr.pop():new ArrayBuffer(wr)}function jt(wr){Yt[a(wr.byteLength)>>2].push(wr)}var Yt=l(8,function(){return[]});return{alloc:mt,free:jt,allocType:function(wr,dr){var ct=null;switch(wr){case 5120:ct=new Int8Array(mt(dr),0,dr);break;case 5121:ct=new Uint8Array(mt(dr),0,dr);break;case 5122:ct=new Int16Array(mt(2*dr),0,dr);break;case 5123:ct=new Uint16Array(mt(2*dr),0,dr);break;case 5124:ct=new Int32Array(mt(4*dr),0,dr);break;case 5125:ct=new Uint32Array(mt(4*dr),0,dr);break;case 5126:ct=new Float32Array(mt(4*dr),0,dr);break;default:return null}return ct.length!==dr?ct.subarray(0,dr):ct},freeType:function(wr){jt(wr.buffer)}}}function c(mt){return!!mt&&typeof mt=="object"&&Array.isArray(mt.shape)&&Array.isArray(mt.stride)&&typeof mt.offset=="number"&&mt.shape.length===mt.stride.length&&(Array.isArray(mt.data)||Te(mt.data))}function u(mt,jt,Yt,wr,dr,ct){for(var ot=0;ot<jt;++ot)for(var wt=mt[ot],Mt=0;Mt<Yt;++Mt)for(var Dt=wt[Mt],St=0;St<wr;++St)dr[ct++]=Dt[St]}function m(mt,jt,Yt,wr,dr){for(var ct=1,ot=Yt+1;ot<jt.length;++ot)ct*=jt[ot];var wt=jt[Yt];if(jt.length-Yt===4){var Mt=jt[Yt+1],Dt=jt[Yt+2];for(jt=jt[Yt+3],ot=0;ot<wt;++ot)u(mt[ot],Mt,Dt,jt,wr,dr),dr+=ct}else for(ot=0;ot<wt;++ot)m(mt[ot],jt,Yt+1,wr,dr),dr+=ct}function h(mt){return Be[Object.prototype.toString.call(mt)]|0}function T(mt,jt){for(var Yt=0;Yt<jt.length;++Yt)mt[Yt]=jt[Yt]}function f(mt,jt,Yt,wr,dr,ct,ot){for(var wt=0,Mt=0;Mt<Yt;++Mt)for(var Dt=0;Dt<wr;++Dt)mt[wt++]=jt[dr*Mt+ct*Dt+ot]}function o(mt,jt,Yt,wr){function dr(Ot){this.id=Mt++,this.buffer=mt.createBuffer(),this.type=Ot,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Yt.profile&&(this.stats={size:0})}function ct(Ot,Vt,Qt){Ot.byteLength=Vt.byteLength,mt.bufferData(Ot.type,Vt,Qt)}function ot(Ot,Vt,Qt,Kt,or,Mr){if(Ot.usage=Qt,Array.isArray(Vt)){if(Ot.dtype=Kt||5126,0<Vt.length)if(Array.isArray(Vt[0])){or=ut(Vt);for(var Ve=Kt=1;Ve<or.length;++Ve)Kt*=or[Ve];Ot.dimension=Kt,Vt=He(Vt,or,Ot.dtype),ct(Ot,Vt,Qt),Mr?Ot.persistentData=Vt:Ie.freeType(Vt)}else typeof Vt[0]=="number"?(Ot.dimension=or,or=Ie.allocType(Ot.dtype,Vt.length),T(or,Vt),ct(Ot,or,Qt),Mr?Ot.persistentData=or:Ie.freeType(or)):Te(Vt[0])&&(Ot.dimension=Vt[0].length,Ot.dtype=Kt||h(Vt[0])||5126,Vt=He(Vt,[Vt.length,Vt[0].length],Ot.dtype),ct(Ot,Vt,Qt),Mr?Ot.persistentData=Vt:Ie.freeType(Vt))}else if(Te(Vt))Ot.dtype=Kt||h(Vt),Ot.dimension=or,ct(Ot,Vt,Qt),Mr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Vt.buffer)));else if(c(Vt)){or=Vt.shape;var Ge=Vt.stride,Ve=Vt.offset,Ft=0,kt=0,Zt=0,tr=0;or.length===1?(Ft=or[0],kt=1,Zt=Ge[0],tr=0):or.length===2&&(Ft=or[0],kt=or[1],Zt=Ge[0],tr=Ge[1]),Ot.dtype=Kt||h(Vt.data)||5126,Ot.dimension=kt,or=Ie.allocType(Ot.dtype,Ft*kt),f(or,Vt.data,Ft,kt,Zt,tr,Ve),ct(Ot,or,Qt),Mr?Ot.persistentData=or:Ie.freeType(or)}else Vt instanceof ArrayBuffer&&(Ot.dtype=5121,Ot.dimension=or,ct(Ot,Vt,Qt),Mr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Vt))))}function wt(Ot){jt.bufferCount--,wr(Ot),mt.deleteBuffer(Ot.buffer),Ot.buffer=null,delete Dt[Ot.id]}var Mt=0,Dt={};dr.prototype.bind=function(){mt.bindBuffer(this.type,this.buffer)},dr.prototype.destroy=function(){wt(this)};var St=[];return Yt.profile&&(jt.getTotalBufferSize=function(){var Ot=0;return Object.keys(Dt).forEach(function(Vt){Ot+=Dt[Vt].stats.size}),Ot}),{create:function(Ot,Vt,Qt,Kt){function or(Ve){var Ge=35044,Ft=null,kt=0,Zt=0,tr=1;return Array.isArray(Ve)||Te(Ve)||c(Ve)||Ve instanceof ArrayBuffer?Ft=Ve:typeof Ve=="number"?kt=Ve|0:Ve&&("data"in Ve&&(Ft=Ve.data),"usage"in Ve&&(Ge=De[Ve.usage]),"type"in Ve&&(Zt=Ue[Ve.type]),"dimension"in Ve&&(tr=Ve.dimension|0),"length"in Ve&&(kt=Ve.length|0)),Mr.bind(),Ft?ot(Mr,Ft,Ge,Zt,tr,Kt):(kt&&mt.bufferData(Mr.type,kt,Ge),Mr.dtype=Zt||5121,Mr.usage=Ge,Mr.dimension=tr,Mr.byteLength=kt),Yt.profile&&(Mr.stats.size=Mr.byteLength*et[Mr.dtype]),or}jt.bufferCount++;var Mr=new dr(Vt);return Dt[Mr.id]=Mr,Qt||or(Ot),or._reglType="buffer",or._buffer=Mr,or.subdata=function(Ve,Ge){var Ft=(Ge||0)|0,kt;if(Mr.bind(),Te(Ve)||Ve instanceof ArrayBuffer)mt.bufferSubData(Mr.type,Ft,Ve);else if(Array.isArray(Ve)){if(0<Ve.length)if(typeof Ve[0]=="number"){var Zt=Ie.allocType(Mr.dtype,Ve.length);T(Zt,Ve),mt.bufferSubData(Mr.type,Ft,Zt),Ie.freeType(Zt)}else(Array.isArray(Ve[0])||Te(Ve[0]))&&(kt=ut(Ve),Zt=He(Ve,kt,Mr.dtype),mt.bufferSubData(Mr.type,Ft,Zt),Ie.freeType(Zt))}else if(c(Ve)){kt=Ve.shape;var tr=Ve.stride,sr=Zt=0,rr=0,Nt=0;kt.length===1?(Zt=kt[0],sr=1,rr=tr[0],Nt=0):kt.length===2&&(Zt=kt[0],sr=kt[1],rr=tr[0],Nt=tr[1]),kt=Array.isArray(Ve.data)?Mr.dtype:h(Ve.data),kt=Ie.allocType(kt,Zt*sr),f(kt,Ve.data,Zt,sr,rr,Nt,Ve.offset),mt.bufferSubData(Mr.type,Ft,kt),Ie.freeType(kt)}return or},Yt.profile&&(or.stats=Mr.stats),or.destroy=function(){wt(Mr)},or},createStream:function(Ot,Vt){var Qt=St.pop();return Qt||(Qt=new dr(Ot)),Qt.bind(),ot(Qt,Vt,35040,0,1,!1),Qt},destroyStream:function(Ot){St.push(Ot)},clear:function(){ye(Dt).forEach(wt),St.forEach(wt)},getBuffer:function(Ot){return Ot&&Ot._buffer instanceof dr?Ot._buffer:null},restore:function(){ye(Dt).forEach(function(Ot){Ot.buffer=mt.createBuffer(),mt.bindBuffer(Ot.type,Ot.buffer),mt.bufferData(Ot.type,Ot.persistentData||Ot.byteLength,Ot.usage)})},_initBuffer:ot}}function d(mt,jt,Yt,wr){function dr(Ot){this.id=Mt++,wt[this.id]=this,this.buffer=Ot,this.primType=4,this.type=this.vertCount=0}function ct(Ot,Vt,Qt,Kt,or,Mr,Ve){Ot.buffer.bind();var Ge;if(Vt?((Ge=Ve)||Te(Vt)&&(!c(Vt)||Te(Vt.data))||(Ge=jt.oes_element_index_uint?5125:5123),Yt._initBuffer(Ot.buffer,Vt,Qt,Ge,3)):(mt.bufferData(34963,Mr,Qt),Ot.buffer.dtype=Ge||5121,Ot.buffer.usage=Qt,Ot.buffer.dimension=3,Ot.buffer.byteLength=Mr),Ge=Ve,!Ve){switch(Ot.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Ot.buffer.dtype=Ge}Ot.type=Ge,Vt=or,0>Vt&&(Vt=Ot.buffer.byteLength,Ge===5123?Vt>>=1:Ge===5125&&(Vt>>=2)),Ot.vertCount=Vt,Vt=Kt,0>Kt&&(Vt=4,Kt=Ot.buffer.dimension,Kt===1&&(Vt=0),Kt===2&&(Vt=1),Kt===3&&(Vt=4)),Ot.primType=Vt}function ot(Ot){wr.elementsCount--,delete wt[Ot.id],Ot.buffer.destroy(),Ot.buffer=null}var wt={},Mt=0,Dt={uint8:5121,uint16:5123};jt.oes_element_index_uint&&(Dt.uint32=5125),dr.prototype.bind=function(){this.buffer.bind()};var St=[];return{create:function(Ot,Vt){function Qt(Mr){if(Mr)if(typeof Mr=="number")Kt(Mr),or.primType=4,or.vertCount=Mr|0,or.type=5121;else{var Ve=null,Ge=35044,Ft=-1,kt=-1,Zt=0,tr=0;Array.isArray(Mr)||Te(Mr)||c(Mr)?Ve=Mr:("data"in Mr&&(Ve=Mr.data),"usage"in Mr&&(Ge=De[Mr.usage]),"primitive"in Mr&&(Ft=Qe[Mr.primitive]),"count"in Mr&&(kt=Mr.count|0),"type"in Mr&&(tr=Dt[Mr.type]),"length"in Mr?Zt=Mr.length|0:(Zt=kt,tr===5123||tr===5122?Zt*=2:(tr===5125||tr===5124)&&(Zt*=4))),ct(or,Ve,Ge,Ft,kt,Zt,tr)}else Kt(),or.primType=4,or.vertCount=0,or.type=5121;return Qt}var Kt=Yt.create(null,34963,!0),or=new dr(Kt._buffer);return wr.elementsCount++,Qt(Ot),Qt._reglType="elements",Qt._elements=or,Qt.subdata=function(Mr,Ve){return Kt.subdata(Mr,Ve),Qt},Qt.destroy=function(){ot(or)},Qt},createStream:function(Ot){var Vt=St.pop();return Vt||(Vt=new dr(Yt.create(null,34963,!0,!1)._buffer)),ct(Vt,Ot,35040,-1,-1,0,0),Vt},destroyStream:function(Ot){St.push(Ot)},getElements:function(Ot){return typeof Ot=="function"&&Ot._elements instanceof dr?Ot._elements:null},clear:function(){ye(wt).forEach(ot)}}}function M(mt){for(var jt=Ie.allocType(5123,mt.length),Yt=0;Yt<mt.length;++Yt)if(isNaN(mt[Yt]))jt[Yt]=65535;else if(mt[Yt]===1/0)jt[Yt]=31744;else if(mt[Yt]===-1/0)jt[Yt]=64512;else{qe[0]=mt[Yt];var ct=ft[0],wr=ct>>>31<<15,dr=(ct<<1>>>24)-127,ct=ct>>13&1023;jt[Yt]=-24>dr?wr:-14>dr?wr+(ct+1024>>-14-dr):15<dr?wr+31744:wr+(dr+15<<10)+ct}return jt}function A(mt){return Array.isArray(mt)||Te(mt)}function E(mt){return"[object "+mt+"]"}function g(mt){return Array.isArray(mt)&&(mt.length===0||typeof mt[0]=="number")}function S(mt){return!!(Array.isArray(mt)&&mt.length!==0&&A(mt[0]))}function b(mt){return Object.prototype.toString.call(mt)}function i(mt){if(!mt)return!1;var jt=b(mt);return 0<=Pe.indexOf(jt)?!0:g(mt)||S(mt)||c(mt)}function P(mt,jt){mt.type===36193?(mt.data=M(jt),Ie.freeType(jt)):mt.data=jt}function x(mt,jt,Yt,wr,dr,ct){if(mt=typeof ue[mt]<"u"?ue[mt]:Ct[mt]*we[jt],ct&&(mt*=6),dr){for(wr=0;1<=Yt;)wr+=mt*Yt*Yt,Yt/=2;return wr}return mt*Yt*wr}function k(mt,jt,Yt,wr,dr,ct,ot){function wt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Mt(Rr,an){Rr.internalformat=an.internalformat,Rr.format=an.format,Rr.type=an.type,Rr.compressed=an.compressed,Rr.premultiplyAlpha=an.premultiplyAlpha,Rr.flipY=an.flipY,Rr.unpackAlignment=an.unpackAlignment,Rr.colorSpace=an.colorSpace,Rr.width=an.width,Rr.height=an.height,Rr.channels=an.channels}function Dt(Rr,an){if(typeof an=="object"&&an){"premultiplyAlpha"in an&&(Rr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Rr.flipY=an.flipY),"alignment"in an&&(Rr.unpackAlignment=an.alignment),"colorSpace"in an&&(Rr.colorSpace=xn[an.colorSpace]),"type"in an&&(Rr.type=jr[an.type]);var rn=Rr.width,vn=Rr.height,Nn=Rr.channels,En=!1;"shape"in an?(rn=an.shape[0],vn=an.shape[1],an.shape.length===3&&(Nn=an.shape[2],En=!0)):("radius"in an&&(rn=vn=an.radius),"width"in an&&(rn=an.width),"height"in an&&(vn=an.height),"channels"in an&&(Nn=an.channels,En=!0)),Rr.width=rn|0,Rr.height=vn|0,Rr.channels=Nn|0,rn=!1,"format"in an&&(rn=an.format,vn=Rr.internalformat=Dn[rn],Rr.format=mn[vn],rn in jr&&!("type"in an)&&(Rr.type=jr[rn]),rn in In&&(Rr.compressed=!0),rn=!0),!En&&rn?Rr.channels=Ct[Rr.format]:En&&!rn&&Rr.channels!==xt[Rr.format]&&(Rr.format=Rr.internalformat=xt[Rr.channels])}}function St(Rr){mt.pixelStorei(37440,Rr.flipY),mt.pixelStorei(37441,Rr.premultiplyAlpha),mt.pixelStorei(37443,Rr.colorSpace),mt.pixelStorei(3317,Rr.unpackAlignment)}function Ot(){wt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Vt(Rr,an){var rn=null;if(i(an)?rn=an:an&&(Dt(Rr,an),"x"in an&&(Rr.xOffset=an.x|0),"y"in an&&(Rr.yOffset=an.y|0),i(an.data)&&(rn=an.data)),an.copy){var vn=dr.viewportWidth,Nn=dr.viewportHeight;Rr.width=Rr.width||vn-Rr.xOffset,Rr.height=Rr.height||Nn-Rr.yOffset,Rr.needsCopy=!0}else if(!rn)Rr.width=Rr.width||1,Rr.height=Rr.height||1,Rr.channels=Rr.channels||4;else if(Te(rn))Rr.channels=Rr.channels||4,Rr.data=rn,"type"in an||Rr.type!==5121||(Rr.type=Be[Object.prototype.toString.call(rn)]|0);else if(g(rn)){switch(Rr.channels=Rr.channels||4,vn=rn,Nn=vn.length,Rr.type){case 5121:case 5123:case 5125:case 5126:Nn=Ie.allocType(Rr.type,Nn),Nn.set(vn),Rr.data=Nn;break;case 36193:Rr.data=M(vn)}Rr.alignment=1,Rr.needsFree=!0}else if(c(rn)){vn=rn.data,Array.isArray(vn)||Rr.type!==5121||(Rr.type=Be[Object.prototype.toString.call(vn)]|0);var Nn=rn.shape,En=rn.stride,Cn,Hn,ra,Ea;Nn.length===3?(ra=Nn[2],Ea=En[2]):Ea=ra=1,Cn=Nn[0],Hn=Nn[1],Nn=En[0],En=En[1],Rr.alignment=1,Rr.width=Cn,Rr.height=Hn,Rr.channels=ra,Rr.format=Rr.internalformat=xt[ra],Rr.needsFree=!0,Cn=Ea,rn=rn.offset,ra=Rr.width,Ea=Rr.height,Hn=Rr.channels;for(var Va=Ie.allocType(Rr.type===36193?5126:Rr.type,ra*Ea*Hn),Xt=0,Tr=0;Tr<Ea;++Tr)for(var nn=0;nn<ra;++nn)for(var fn=0;fn<Hn;++fn)Va[Xt++]=vn[Nn*nn+En*Tr+Cn*fn+rn];P(Rr,Va)}else if(b(rn)===Je||b(rn)===ze||b(rn)===Fe)b(rn)===Je||b(rn)===ze?Rr.element=rn:Rr.element=rn.canvas,Rr.width=Rr.element.width,Rr.height=Rr.element.height,Rr.channels=4;else if(b(rn)===$e)Rr.element=rn,Rr.width=rn.width,Rr.height=rn.height,Rr.channels=4;else if(b(rn)===at)Rr.element=rn,Rr.width=rn.naturalWidth,Rr.height=rn.naturalHeight,Rr.channels=4;else if(b(rn)===Xe)Rr.element=rn,Rr.width=rn.videoWidth,Rr.height=rn.videoHeight,Rr.channels=4;else if(S(rn)){for(vn=Rr.width||rn[0].length,Nn=Rr.height||rn.length,En=Rr.channels,En=A(rn[0][0])?En||rn[0][0].length:En||1,Cn=Ae.shape(rn),ra=1,Ea=0;Ea<Cn.length;++Ea)ra*=Cn[Ea];ra=Ie.allocType(Rr.type===36193?5126:Rr.type,ra),Ae.flatten(rn,Cn,"",ra),P(Rr,ra),Rr.alignment=1,Rr.width=vn,Rr.height=Nn,Rr.channels=En,Rr.format=Rr.internalformat=xt[En],Rr.needsFree=!0}}function Qt(Rr,an,rn,vn,Nn){var En=Rr.element,Cn=Rr.data,Hn=Rr.internalformat,ra=Rr.format,Ea=Rr.type,Va=Rr.width,Xt=Rr.height;St(Rr),En?mt.texSubImage2D(an,Nn,rn,vn,ra,Ea,En):Rr.compressed?mt.compressedTexSubImage2D(an,Nn,rn,vn,Hn,Va,Xt,Cn):Rr.needsCopy?(wr(),mt.copyTexSubImage2D(an,Nn,rn,vn,Rr.xOffset,Rr.yOffset,Va,Xt)):mt.texSubImage2D(an,Nn,rn,vn,Va,Xt,ra,Ea,Cn)}function Kt(){return _n.pop()||new Ot}function or(Rr){Rr.needsFree&&Ie.freeType(Rr.data),Ot.call(Rr),_n.push(Rr)}function Mr(){wt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ve(Rr,an,rn){var vn=Rr.images[0]=Kt();Rr.mipmask=1,vn.width=Rr.width=an,vn.height=Rr.height=rn,vn.channels=Rr.channels=4}function Ge(Rr,an){var rn=null;if(i(an))rn=Rr.images[0]=Kt(),Mt(rn,Rr),Vt(rn,an),Rr.mipmask=1;else if(Dt(Rr,an),Array.isArray(an.mipmap))for(var vn=an.mipmap,Nn=0;Nn<vn.length;++Nn)rn=Rr.images[Nn]=Kt(),Mt(rn,Rr),rn.width>>=Nn,rn.height>>=Nn,Vt(rn,vn[Nn]),Rr.mipmask|=1<<Nn;else rn=Rr.images[0]=Kt(),Mt(rn,Rr),Vt(rn,an),Rr.mipmask=1;Mt(Rr,Rr.images[0])}function Ft(Rr,an){for(var rn=Rr.images,vn=0;vn<rn.length&&rn[vn];++vn){var Nn=rn[vn],En=an,Cn=vn,Hn=Nn.element,ra=Nn.data,Ea=Nn.internalformat,Va=Nn.format,Xt=Nn.type,Tr=Nn.width,nn=Nn.height;St(Nn),Hn?mt.texImage2D(En,Cn,Va,Va,Xt,Hn):Nn.compressed?mt.compressedTexImage2D(En,Cn,Ea,Tr,nn,0,ra):Nn.needsCopy?(wr(),mt.copyTexImage2D(En,Cn,Va,Nn.xOffset,Nn.yOffset,Tr,nn,0)):mt.texImage2D(En,Cn,Va,Tr,nn,0,Va,Xt,ra||null)}}function kt(){var Rr=Kn.pop()||new Mr;wt.call(Rr);for(var an=Rr.mipmask=0;16>an;++an)Rr.images[an]=null;return Rr}function Zt(Rr){for(var an=Rr.images,rn=0;rn<an.length;++rn)an[rn]&&or(an[rn]),an[rn]=null;Kn.push(Rr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function sr(Rr,an){"min"in an&&(Rr.minFilter=Br[an.min],0<=gt.indexOf(Rr.minFilter)&&!("faces"in an)&&(Rr.genMipmaps=!0)),"mag"in an&&(Rr.magFilter=Fr[an.mag]);var rn=Rr.wrapS,vn=Rr.wrapT;if("wrap"in an){var Nn=an.wrap;typeof Nn=="string"?rn=vn=Kr[Nn]:Array.isArray(Nn)&&(rn=Kr[Nn[0]],vn=Kr[Nn[1]])}else"wrapS"in an&&(rn=Kr[an.wrapS]),"wrapT"in an&&(vn=Kr[an.wrapT]);if(Rr.wrapS=rn,Rr.wrapT=vn,"anisotropic"in an&&(Rr.anisotropic=an.anisotropic),"mipmap"in an){switch(rn=!1,typeof an.mipmap){case"string":Rr.mipmapHint=vr[an.mipmap],rn=Rr.genMipmaps=!0;break;case"boolean":rn=Rr.genMipmaps=an.mipmap;break;case"object":Rr.genMipmaps=!1,rn=!0}!rn||"min"in an||(Rr.minFilter=9984)}}function rr(Rr,an){mt.texParameteri(an,10241,Rr.minFilter),mt.texParameteri(an,10240,Rr.magFilter),mt.texParameteri(an,10242,Rr.wrapS),mt.texParameteri(an,10243,Rr.wrapT),jt.ext_texture_filter_anisotropic&&mt.texParameteri(an,34046,Rr.anisotropic),Rr.genMipmaps&&(mt.hint(33170,Rr.mipmapHint),mt.generateMipmap(an))}function Nt(Rr){wt.call(this),this.mipmask=0,this.internalformat=6408,this.id=na++,this.refCount=1,this.target=Rr,this.texture=mt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,ot.profile&&(this.stats={size:0})}function hr(Rr){mt.activeTexture(33984),mt.bindTexture(Rr.target,Rr.texture)}function pr(){var Rr=$n[0];Rr?mt.bindTexture(Rr.target,Rr.texture):mt.bindTexture(3553,null)}function br(Rr){var an=Rr.texture,rn=Rr.unit,vn=Rr.target;0<=rn&&(mt.activeTexture(33984+rn),mt.bindTexture(vn,null),$n[rn]=null),mt.deleteTexture(an),Rr.texture=null,Rr.params=null,Rr.pixels=null,Rr.refCount=0,delete ea[Rr.id],ct.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Kr={repeat:10497,clamp:33071,mirror:33648},Fr={nearest:9728,linear:9729},Br=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Fr),xn={none:0,browser:37444},jr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Dn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},In={};jt.ext_srgb&&(Dn.srgb=35904,Dn.srgba=35906),jt.oes_texture_float&&(jr.float32=jr.float=5126),jt.oes_texture_half_float&&(jr.float16=jr["half float"]=36193),jt.webgl_depth_texture&&(ae(Dn,{depth:6402,"depth stencil":34041}),ae(jr,{uint16:5123,uint32:5125,"depth stencil":34042})),jt.webgl_compressed_texture_s3tc&&ae(In,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),jt.webgl_compressed_texture_atc&&ae(In,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),jt.webgl_compressed_texture_pvrtc&&ae(In,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),jt.webgl_compressed_texture_etc1&&(In["rgb etc1"]=36196);var yr=Array.prototype.slice.call(mt.getParameter(34467));Object.keys(In).forEach(function(Rr){var an=In[Rr];0<=yr.indexOf(an)&&(Dn[Rr]=an)});var cr=Object.keys(Dn);Yt.textureFormats=cr;var kr=[];Object.keys(Dn).forEach(function(Rr){kr[Dn[Rr]]=Rr});var Or=[];Object.keys(jr).forEach(function(Rr){Or[jr[Rr]]=Rr});var sn=[];Object.keys(Fr).forEach(function(Rr){sn[Fr[Rr]]=Rr});var yn=[];Object.keys(Br).forEach(function(Rr){yn[Br[Rr]]=Rr});var bn=[];Object.keys(Kr).forEach(function(Rr){bn[Kr[Rr]]=Rr});var mn=cr.reduce(function(Rr,an){var rn=Dn[an];return rn===6409||rn===6406||rn===6409||rn===6410||rn===6402||rn===34041||jt.ext_srgb&&(rn===35904||rn===35906)?Rr[rn]=rn:rn===32855||0<=an.indexOf("rgba")?Rr[rn]=6408:Rr[rn]=6407,Rr},{}),_n=[],Kn=[],na=0,ea={},oa=Yt.maxTextureUnits,$n=Array(oa).map(function(){return null});return ae(Nt.prototype,{bind:function(){this.bindCount+=1;var Rr=this.unit;if(0>Rr){for(var an=0;an<oa;++an){var rn=$n[an];if(rn){if(0<rn.bindCount)continue;rn.unit=-1}$n[an]=this,Rr=an;break}ot.profile&&ct.maxTextureUnits<Rr+1&&(ct.maxTextureUnits=Rr+1),this.unit=Rr,mt.activeTexture(33984+Rr),mt.bindTexture(this.target,this.texture)}return Rr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&br(this)}}),ot.profile&&(ct.getTotalTextureSize=function(){var Rr=0;return Object.keys(ea).forEach(function(an){Rr+=ea[an].stats.size}),Rr}),{create2D:function(Rr,an){function rn(Nn,En){var Cn=vn.texInfo;tr.call(Cn);var Hn=kt();return typeof Nn=="number"?typeof En=="number"?Ve(Hn,Nn|0,En|0):Ve(Hn,Nn|0,Nn|0):Nn?(sr(Cn,Nn),Ge(Hn,Nn)):Ve(Hn,1,1),Cn.genMipmaps&&(Hn.mipmask=(Hn.width<<1)-1),vn.mipmask=Hn.mipmask,Mt(vn,Hn),vn.internalformat=Hn.internalformat,rn.width=Hn.width,rn.height=Hn.height,hr(vn),Ft(Hn,3553),rr(Cn,3553),pr(),Zt(Hn),ot.profile&&(vn.stats.size=x(vn.internalformat,vn.type,Hn.width,Hn.height,Cn.genMipmaps,!1)),rn.format=kr[vn.internalformat],rn.type=Or[vn.type],rn.mag=sn[Cn.magFilter],rn.min=yn[Cn.minFilter],rn.wrapS=bn[Cn.wrapS],rn.wrapT=bn[Cn.wrapT],rn}var vn=new Nt(3553);return ea[vn.id]=vn,ct.textureCount++,rn(Rr,an),rn.subimage=function(Nn,En,Cn,Hn){En|=0,Cn|=0,Hn|=0;var ra=Kt();return Mt(ra,vn),ra.width=0,ra.height=0,Vt(ra,Nn),ra.width=ra.width||(vn.width>>Hn)-En,ra.height=ra.height||(vn.height>>Hn)-Cn,hr(vn),Qt(ra,3553,En,Cn,Hn),pr(),or(ra),rn},rn.resize=function(Nn,En){var Cn=Nn|0,Hn=En|0||Cn;if(Cn===vn.width&&Hn===vn.height)return rn;rn.width=vn.width=Cn,rn.height=vn.height=Hn,hr(vn);for(var ra=0;vn.mipmask>>ra;++ra){var Ea=Cn>>ra,Va=Hn>>ra;if(!Ea||!Va)break;mt.texImage2D(3553,ra,vn.format,Ea,Va,0,vn.format,vn.type,null)}return pr(),ot.profile&&(vn.stats.size=x(vn.internalformat,vn.type,Cn,Hn,!1,!1)),rn},rn._reglType="texture2d",rn._texture=vn,ot.profile&&(rn.stats=vn.stats),rn.destroy=function(){vn.decRef()},rn},createCube:function(Rr,an,rn,vn,Nn,En){function Cn(Ea,Va,Xt,Tr,nn,fn){var cn,Ln=Hn.texInfo;for(tr.call(Ln),cn=0;6>cn;++cn)ra[cn]=kt();if(typeof Ea=="number"||!Ea)for(Ea=Ea|0||1,cn=0;6>cn;++cn)Ve(ra[cn],Ea,Ea);else if(typeof Ea=="object")if(Va)Ge(ra[0],Ea),Ge(ra[1],Va),Ge(ra[2],Xt),Ge(ra[3],Tr),Ge(ra[4],nn),Ge(ra[5],fn);else if(sr(Ln,Ea),Dt(Hn,Ea),"faces"in Ea)for(Ea=Ea.faces,cn=0;6>cn;++cn)Mt(ra[cn],Hn),Ge(ra[cn],Ea[cn]);else for(cn=0;6>cn;++cn)Ge(ra[cn],Ea);for(Mt(Hn,ra[0]),Hn.mipmask=Ln.genMipmaps?(ra[0].width<<1)-1:ra[0].mipmask,Hn.internalformat=ra[0].internalformat,Cn.width=ra[0].width,Cn.height=ra[0].height,hr(Hn),cn=0;6>cn;++cn)Ft(ra[cn],34069+cn);for(rr(Ln,34067),pr(),ot.profile&&(Hn.stats.size=x(Hn.internalformat,Hn.type,Cn.width,Cn.height,Ln.genMipmaps,!0)),Cn.format=kr[Hn.internalformat],Cn.type=Or[Hn.type],Cn.mag=sn[Ln.magFilter],Cn.min=yn[Ln.minFilter],Cn.wrapS=bn[Ln.wrapS],Cn.wrapT=bn[Ln.wrapT],cn=0;6>cn;++cn)Zt(ra[cn]);return Cn}var Hn=new Nt(34067);ea[Hn.id]=Hn,ct.cubeCount++;var ra=Array(6);return Cn(Rr,an,rn,vn,Nn,En),Cn.subimage=function(Ea,Va,Xt,Tr,nn){Xt|=0,Tr|=0,nn|=0;var fn=Kt();return Mt(fn,Hn),fn.width=0,fn.height=0,Vt(fn,Va),fn.width=fn.width||(Hn.width>>nn)-Xt,fn.height=fn.height||(Hn.height>>nn)-Tr,hr(Hn),Qt(fn,34069+Ea,Xt,Tr,nn),pr(),or(fn),Cn},Cn.resize=function(Ea){if(Ea|=0,Ea!==Hn.width){Cn.width=Hn.width=Ea,Cn.height=Hn.height=Ea,hr(Hn);for(var Va=0;6>Va;++Va)for(var Xt=0;Hn.mipmask>>Xt;++Xt)mt.texImage2D(34069+Va,Xt,Hn.format,Ea>>Xt,Ea>>Xt,0,Hn.format,Hn.type,null);return pr(),ot.profile&&(Hn.stats.size=x(Hn.internalformat,Hn.type,Cn.width,Cn.height,!1,!0)),Cn}},Cn._reglType="textureCube",Cn._texture=Hn,ot.profile&&(Cn.stats=Hn.stats),Cn.destroy=function(){Hn.decRef()},Cn},clear:function(){for(var Rr=0;Rr<oa;++Rr)mt.activeTexture(33984+Rr),mt.bindTexture(3553,null),$n[Rr]=null;ye(ea).forEach(br),ct.cubeCount=0,ct.textureCount=0},getTexture:function(Rr){return null},restore:function(){for(var Rr=0;Rr<oa;++Rr){var an=$n[Rr];an&&(an.bindCount=0,an.unit=-1,$n[Rr]=null)}ye(ea).forEach(function(rn){rn.texture=mt.createTexture(),mt.bindTexture(rn.target,rn.texture);for(var vn=0;32>vn;++vn)if(rn.mipmask&1<<vn)if(rn.target===3553)mt.texImage2D(3553,vn,rn.internalformat,rn.width>>vn,rn.height>>vn,0,rn.internalformat,rn.type,null);else for(var Nn=0;6>Nn;++Nn)mt.texImage2D(34069+Nn,vn,rn.internalformat,rn.width>>vn,rn.height>>vn,0,rn.internalformat,rn.type,null);rr(rn.texInfo,rn.target)})},refresh:function(){for(var Rr=0;Rr<oa;++Rr){var an=$n[Rr];an&&(an.bindCount=0,an.unit=-1,$n[Rr]=null),mt.activeTexture(33984+Rr),mt.bindTexture(3553,null),mt.bindTexture(34067,null)}}}}function _(mt,jt,Yt,wr,dr,ct){function ot(Nt,hr,pr){this.target=Nt,this.texture=hr,this.renderbuffer=pr;var br=Nt=0;hr?(Nt=hr.width,br=hr.height):pr&&(Nt=pr.width,br=pr.height),this.width=Nt,this.height=br}function wt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Mt(Nt,hr,pr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Dt(Nt,hr){hr&&(hr.texture?mt.framebufferTexture2D(36160,Nt,hr.target,hr.texture._texture.texture,0):mt.framebufferRenderbuffer(36160,Nt,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function St(Nt){var hr=3553,pr=null,br=null,vr=Nt;return typeof Nt=="object"&&(vr=Nt.data,"target"in Nt&&(hr=Nt.target|0)),Nt=vr._reglType,Nt==="texture2d"||Nt==="textureCube"?pr=vr:Nt==="renderbuffer"&&(br=vr,hr=36161),new ot(hr,pr,br)}function Ot(Nt,hr,pr,br,vr){return pr?(Nt=wr.create2D({width:Nt,height:hr,format:br,type:vr}),Nt._texture.refCount=0,new ot(3553,Nt,null)):(Nt=dr.create({width:Nt,height:hr,format:br}),Nt._renderbuffer.refCount=0,new ot(36161,null,Nt))}function Vt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function Qt(Nt,hr,pr){Nt&&(Nt.texture?Nt.texture.resize(hr,pr):Nt.renderbuffer&&Nt.renderbuffer.resize(hr,pr),Nt.width=hr,Nt.height=pr)}function Kt(){this.id=sr++,rr[this.id]=this,this.framebuffer=mt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function or(Nt){Nt.colorAttachments.forEach(wt),wt(Nt.depthAttachment),wt(Nt.stencilAttachment),wt(Nt.depthStencilAttachment)}function Mr(Nt){mt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,ct.framebufferCount--,delete rr[Nt.id]}function Ve(Nt){var hr;mt.bindFramebuffer(36160,Nt.framebuffer);var pr=Nt.colorAttachments;for(hr=0;hr<pr.length;++hr)Dt(36064+hr,pr[hr]);for(hr=pr.length;hr<Yt.maxColorAttachments;++hr)mt.framebufferTexture2D(36160,36064+hr,3553,null,0);mt.framebufferTexture2D(36160,33306,3553,null,0),mt.framebufferTexture2D(36160,36096,3553,null,0),mt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Nt.depthAttachment),Dt(36128,Nt.stencilAttachment),Dt(33306,Nt.depthStencilAttachment),mt.checkFramebufferStatus(36160),mt.isContextLost(),mt.bindFramebuffer(36160,Ft.next?Ft.next.framebuffer:null),Ft.cur=Ft.next,mt.getError()}function Ge(Nt,hr){function pr(vr,Kr){var Fr,Br=0,xn=0,jr=!0,Dn=!0;Fr=null;var In=!0,yr="rgba",cr="uint8",kr=1,Or=null,sn=null,yn=null,bn=!1;typeof vr=="number"?(Br=vr|0,xn=Kr|0||Br):vr?("shape"in vr?(xn=vr.shape,Br=xn[0],xn=xn[1]):("radius"in vr&&(Br=xn=vr.radius),"width"in vr&&(Br=vr.width),"height"in vr&&(xn=vr.height)),("color"in vr||"colors"in vr)&&(Fr=vr.color||vr.colors),Fr||("colorCount"in vr&&(kr=vr.colorCount|0),"colorTexture"in vr&&(In=!!vr.colorTexture,yr="rgba4"),"colorType"in vr&&(cr=vr.colorType,!In)&&(cr==="half float"||cr==="float16"?yr="rgba16f":(cr==="float"||cr==="float32")&&(yr="rgba32f")),"colorFormat"in vr&&(yr=vr.colorFormat,0<=kt.indexOf(yr)?In=!0:0<=Zt.indexOf(yr)&&(In=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(bn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?jr=vr.depth:(Or=vr.depth,Dn=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Dn=vr.stencil:(sn=vr.stencil,jr=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?jr=Dn=vr.depthStencil:(yn=vr.depthStencil,Dn=jr=!1))):Br=xn=1;var mn=null,_n=null,Kn=null,na=null;if(Array.isArray(Fr))mn=Fr.map(St);else if(Fr)mn=[St(Fr)];else for(mn=Array(kr),Fr=0;Fr<kr;++Fr)mn[Fr]=Ot(Br,xn,In,yr,cr);for(Br=Br||mn[0].width,xn=xn||mn[0].height,Or?_n=St(Or):jr&&!Dn&&(_n=Ot(Br,xn,bn,"depth","uint32")),sn?Kn=St(sn):Dn&&!jr&&(Kn=Ot(Br,xn,!1,"stencil","uint8")),yn?na=St(yn):!Or&&!sn&&Dn&&jr&&(na=Ot(Br,xn,bn,"depth stencil","depth stencil")),jr=null,Fr=0;Fr<mn.length;++Fr)Mt(mn[Fr]),mn[Fr]&&mn[Fr].texture&&(Dn=ke[mn[Fr].texture._texture.format]*it[mn[Fr].texture._texture.type],jr===null&&(jr=Dn));return Mt(_n),Mt(Kn),Mt(na),or(br),br.width=Br,br.height=xn,br.colorAttachments=mn,br.depthAttachment=_n,br.stencilAttachment=Kn,br.depthStencilAttachment=na,pr.color=mn.map(Vt),pr.depth=Vt(_n),pr.stencil=Vt(Kn),pr.depthStencil=Vt(na),pr.width=br.width,pr.height=br.height,Ve(br),pr}var br=new Kt;return ct.framebufferCount++,pr(Nt,hr),ae(pr,{resize:function(vr,Kr){var Fr=Math.max(vr|0,1),Br=Math.max(Kr|0||Fr,1);if(Fr===br.width&&Br===br.height)return pr;for(var xn=br.colorAttachments,jr=0;jr<xn.length;++jr)Qt(xn[jr],Fr,Br);return Qt(br.depthAttachment,Fr,Br),Qt(br.stencilAttachment,Fr,Br),Qt(br.depthStencilAttachment,Fr,Br),br.width=pr.width=Fr,br.height=pr.height=Br,Ve(br),pr},_reglType:"framebuffer",_framebuffer:br,destroy:function(){Mr(br),or(br)},use:function(vr){Ft.setFBO({framebuffer:pr},vr)}})}var Ft={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];jt.ext_srgb&&Zt.push("srgba"),jt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),jt.webgl_color_buffer_float&&Zt.push("rgba32f");var tr=["uint8"];jt.oes_texture_half_float&&tr.push("half float","float16"),jt.oes_texture_float&&tr.push("float","float32");var sr=0,rr={};return ae(Ft,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof Kt)?Nt:null},create:Ge,createCube:function(Nt){function hr(br){var vr,Kr={color:null},Fr=0,Br=null;vr="rgba";var xn="uint8",jr=1;if(typeof br=="number"?Fr=br|0:br?("shape"in br?Fr=br.shape[0]:("radius"in br&&(Fr=br.radius|0),"width"in br?Fr=br.width|0:"height"in br&&(Fr=br.height|0)),("color"in br||"colors"in br)&&(Br=br.color||br.colors),Br||("colorCount"in br&&(jr=br.colorCount|0),"colorType"in br&&(xn=br.colorType),"colorFormat"in br&&(vr=br.colorFormat)),"depth"in br&&(Kr.depth=br.depth),"stencil"in br&&(Kr.stencil=br.stencil),"depthStencil"in br&&(Kr.depthStencil=br.depthStencil)):Fr=1,Br)if(Array.isArray(Br))for(br=[],vr=0;vr<Br.length;++vr)br[vr]=Br[vr];else br=[Br];else for(br=Array(jr),Br={radius:Fr,format:vr,type:xn},vr=0;vr<jr;++vr)br[vr]=wr.createCube(Br);for(Kr.color=Array(br.length),vr=0;vr<br.length;++vr)jr=br[vr],Fr=Fr||jr.width,Kr.color[vr]={target:34069,data:br[vr]};for(vr=0;6>vr;++vr){for(jr=0;jr<br.length;++jr)Kr.color[jr].target=34069+vr;0<vr&&(Kr.depth=pr[0].depth,Kr.stencil=pr[0].stencil,Kr.depthStencil=pr[0].depthStencil),pr[vr]?pr[vr](Kr):pr[vr]=Ge(Kr)}return ae(hr,{width:Fr,height:Fr,color:br})}var pr=Array(6);return hr(Nt),ae(hr,{faces:pr,resize:function(br){var vr=br|0;if(vr===hr.width)return hr;var Kr=hr.color;for(br=0;br<Kr.length;++br)Kr[br].resize(vr);for(br=0;6>br;++br)pr[br].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){pr.forEach(function(br){br.destroy()})}})},clear:function(){ye(rr).forEach(Mr)},restore:function(){Ft.cur=null,Ft.next=null,Ft.dirty=!0,ye(rr).forEach(function(Nt){Nt.framebuffer=mt.createFramebuffer(),Ve(Nt)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function I(mt,jt,Yt,wr,dr,ct,ot){function wt(Ve){if(Ve!==Mr.currentVAO){var Ge=jt.oes_vertex_array_object;Ve?Ge.bindVertexArrayOES(Ve.vao):Ge.bindVertexArrayOES(null),Mr.currentVAO=Ve}}function Mt(Ve){if(Ve!==Mr.currentVAO){if(Ve)Ve.bindAttrs();else{for(var Ge=jt.angle_instanced_arrays,Ft=0;Ft<Qt.length;++Ft){var kt=Qt[Ft];kt.buffer?(mt.enableVertexAttribArray(Ft),kt.buffer.bind(),mt.vertexAttribPointer(Ft,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ge&&kt.divisor&&Ge.vertexAttribDivisorANGLE(Ft,kt.divisor)):(mt.disableVertexAttribArray(Ft),mt.vertexAttrib4f(Ft,kt.x,kt.y,kt.z,kt.w))}ot.elements?mt.bindBuffer(34963,ot.elements.buffer.buffer):mt.bindBuffer(34963,null)}Mr.currentVAO=Ve}}function Dt(){ye(or).forEach(function(Ve){Ve.destroy()})}function St(){this.id=++Kt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ve=jt.oes_vertex_array_object;this.vao=Ve?Ve.createVertexArrayOES():null,or[this.id]=this,this.buffers=[]}function Ot(){jt.oes_vertex_array_object&&ye(or).forEach(function(Ve){Ve.refresh()})}var Vt=Yt.maxAttributes,Qt=Array(Vt);for(Yt=0;Yt<Vt;++Yt)Qt[Yt]=new B;var Kt=0,or={},Mr={Record:B,scope:{},state:Qt,currentVAO:null,targetVAO:null,restore:jt.oes_vertex_array_object?Ot:function(){},createVAO:function(Ve){function Ge(kt){var Zt;Array.isArray(kt)?(Zt=kt,Ft.elements&&Ft.ownsElements&&Ft.elements.destroy(),Ft.elements=null,Ft.ownsElements=!1,Ft.offset=0,Ft.count=0,Ft.instances=-1,Ft.primitive=4):(kt.elements?(Zt=kt.elements,Ft.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?Ft.elements.destroy():Ft.elements(Zt),Ft.ownsElements=!1):ct.getElements(kt.elements)?(Ft.elements=kt.elements,Ft.ownsElements=!1):(Ft.elements=ct.create(kt.elements),Ft.ownsElements=!0)):(Ft.elements=null,Ft.ownsElements=!1),Zt=kt.attributes,Ft.offset=0,Ft.count=-1,Ft.instances=-1,Ft.primitive=4,Ft.elements&&(Ft.count=Ft.elements._elements.vertCount,Ft.primitive=Ft.elements._elements.primType),"offset"in kt&&(Ft.offset=kt.offset|0),"count"in kt&&(Ft.count=kt.count|0),"instances"in kt&&(Ft.instances=kt.instances|0),"primitive"in kt&&(Ft.primitive=Qe[kt.primitive])),kt={};var tr=Ft.attributes;tr.length=Zt.length;for(var sr=0;sr<Zt.length;++sr){var rr=Zt[sr],Nt=tr[sr]=new B,hr=rr.data||rr;if(Array.isArray(hr)||Te(hr)||c(hr)){var pr;Ft.buffers[sr]&&(pr=Ft.buffers[sr],Te(hr)&&pr._buffer.byteLength>=hr.byteLength?pr.subdata(hr):(pr.destroy(),Ft.buffers[sr]=null)),Ft.buffers[sr]||(pr=Ft.buffers[sr]=dr.create(rr,34962,!1,!0)),Nt.buffer=dr.getBuffer(pr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,kt[sr]=1}else dr.getBuffer(rr)?(Nt.buffer=dr.getBuffer(rr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):dr.getBuffer(rr.buffer)?(Nt.buffer=dr.getBuffer(rr.buffer),Nt.size=(+rr.size||Nt.buffer.dimension)|0,Nt.normalized=!!rr.normalized||!1,Nt.type="type"in rr?Ue[rr.type]:Nt.buffer.dtype,Nt.offset=(rr.offset||0)|0,Nt.stride=(rr.stride||0)|0,Nt.divisor=(rr.divisor||0)|0,Nt.state=1):"x"in rr&&(Nt.x=+rr.x||0,Nt.y=+rr.y||0,Nt.z=+rr.z||0,Nt.w=+rr.w||0,Nt.state=2)}for(pr=0;pr<Ft.buffers.length;++pr)!kt[pr]&&Ft.buffers[pr]&&(Ft.buffers[pr].destroy(),Ft.buffers[pr]=null);return Ft.refresh(),Ge}var Ft=new St;return wr.vaoCount+=1,Ge.destroy=function(){for(var kt=0;kt<Ft.buffers.length;++kt)Ft.buffers[kt]&&Ft.buffers[kt].destroy();Ft.buffers.length=0,Ft.ownsElements&&(Ft.elements.destroy(),Ft.elements=null,Ft.ownsElements=!1),Ft.destroy()},Ge._vao=Ft,Ge._reglType="vao",Ge(Ve)},getVAO:function(Ve){return typeof Ve=="function"&&Ve._vao?Ve._vao:null},destroyBuffer:function(Ve){for(var Ge=0;Ge<Qt.length;++Ge){var Ft=Qt[Ge];Ft.buffer===Ve&&(mt.disableVertexAttribArray(Ge),Ft.buffer=null)}},setVAO:jt.oes_vertex_array_object?wt:Mt,clear:jt.oes_vertex_array_object?Dt:function(){}};return St.prototype.bindAttrs=function(){for(var Ve=jt.angle_instanced_arrays,Ge=this.attributes,Ft=0;Ft<Ge.length;++Ft){var kt=Ge[Ft];kt.buffer?(mt.enableVertexAttribArray(Ft),mt.bindBuffer(34962,kt.buffer.buffer),mt.vertexAttribPointer(Ft,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),Ve&&kt.divisor&&Ve.vertexAttribDivisorANGLE(Ft,kt.divisor)):(mt.disableVertexAttribArray(Ft),mt.vertexAttrib4f(Ft,kt.x,kt.y,kt.z,kt.w))}for(Ve=Ge.length;Ve<Vt;++Ve)mt.disableVertexAttribArray(Ve);(Ve=ct.getElements(this.elements))?mt.bindBuffer(34963,Ve.buffer.buffer):mt.bindBuffer(34963,null)},St.prototype.refresh=function(){var Ve=jt.oes_vertex_array_object;Ve&&(Ve.bindVertexArrayOES(this.vao),this.bindAttrs(),Mr.currentVAO=null,Ve.bindVertexArrayOES(null))},St.prototype.destroy=function(){if(this.vao){var Ve=jt.oes_vertex_array_object;this===Mr.currentVAO&&(Mr.currentVAO=null,Ve.bindVertexArrayOES(null)),Ve.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),or[this.id]&&(delete or[this.id],--wr.vaoCount)},Mr}function z(mt,jt,Yt,wr){function dr(Kt,or,Mr,Ve){this.name=Kt,this.id=or,this.location=Mr,this.info=Ve}function ct(Kt,or){for(var Mr=0;Mr<Kt.length;++Mr)if(Kt[Mr].id===or.id){Kt[Mr].location=or.location;return}Kt.push(or)}function ot(Kt,or,Mr){Mr=Kt===35632?Dt:St;var Ve=Mr[or];if(!Ve){var Ge=jt.str(or),Ve=mt.createShader(Kt);mt.shaderSource(Ve,Ge),mt.compileShader(Ve),Mr[or]=Ve}return Ve}function wt(Kt,or){this.id=Qt++,this.fragId=Kt,this.vertId=or,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,wr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Mt(Kt,or,Mr){var Ve;Ve=ot(35632,Kt.fragId);var Ge=ot(35633,Kt.vertId);if(or=Kt.program=mt.createProgram(),mt.attachShader(or,Ve),mt.attachShader(or,Ge),Mr)for(Ve=0;Ve<Mr.length;++Ve)Ge=Mr[Ve],mt.bindAttribLocation(or,Ge[0],Ge[1]);mt.linkProgram(or),Ge=mt.getProgramParameter(or,35718),wr.profile&&(Kt.stats.uniformsCount=Ge);var Ft=Kt.uniforms;for(Ve=0;Ve<Ge;++Ve)if(Mr=mt.getActiveUniform(or,Ve))if(1<Mr.size)for(var kt=0;kt<Mr.size;++kt){var Zt=Mr.name.replace("[0]","["+kt+"]");ct(Ft,new dr(Zt,jt.id(Zt),mt.getUniformLocation(or,Zt),Mr))}else ct(Ft,new dr(Mr.name,jt.id(Mr.name),mt.getUniformLocation(or,Mr.name),Mr));for(Ge=mt.getProgramParameter(or,35721),wr.profile&&(Kt.stats.attributesCount=Ge),Kt=Kt.attributes,Ve=0;Ve<Ge;++Ve)(Mr=mt.getActiveAttrib(or,Ve))&&ct(Kt,new dr(Mr.name,jt.id(Mr.name),mt.getAttribLocation(or,Mr.name),Mr))}var Dt={},St={},Ot={},Vt=[],Qt=0;return wr.profile&&(Yt.getMaxUniformsCount=function(){var Kt=0;return Vt.forEach(function(or){or.stats.uniformsCount>Kt&&(Kt=or.stats.uniformsCount)}),Kt},Yt.getMaxAttributesCount=function(){var Kt=0;return Vt.forEach(function(or){or.stats.attributesCount>Kt&&(Kt=or.stats.attributesCount)}),Kt}),{clear:function(){var Kt=mt.deleteShader.bind(mt);ye(Dt).forEach(Kt),Dt={},ye(St).forEach(Kt),St={},Vt.forEach(function(or){mt.deleteProgram(or.program)}),Vt.length=0,Ot={},Yt.shaderCount=0},program:function(Kt,or,Mr,Ve){var Ge=Ot[or];Ge||(Ge=Ot[or]={});var Ft=Ge[Kt];if(Ft&&(Ft.refCount++,!Ve))return Ft;var kt=new wt(or,Kt);return Yt.shaderCount++,Mt(kt,Mr,Ve),Ft||(Ge[Kt]=kt),Vt.push(kt),ae(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){mt.deleteProgram(kt.program);var Zt=Vt.indexOf(kt);Vt.splice(Zt,1),Yt.shaderCount--}0>=Ge[kt.vertId].refCount&&(mt.deleteShader(St[kt.vertId]),delete St[kt.vertId],delete Ot[kt.fragId][kt.vertId]),Object.keys(Ot[kt.fragId]).length||(mt.deleteShader(Dt[kt.fragId]),delete Dt[kt.fragId],delete Ot[kt.fragId])}})},restore:function(){Dt={},St={};for(var Kt=0;Kt<Vt.length;++Kt)Mt(Vt[Kt],null,Vt[Kt].attributes.map(function(or){return[or.location,or.name]}))},shader:ot,frag:-1,vert:-1}}function O(mt,jt,Yt,wr,dr,ct,ot){function wt(Dt){var St;St=jt.next===null?5121:jt.next.colorAttachments[0].texture._texture.type;var Ot=0,Vt=0,Qt=wr.framebufferWidth,Kt=wr.framebufferHeight,or=null;return Te(Dt)?or=Dt:Dt&&(Ot=Dt.x|0,Vt=Dt.y|0,Qt=(Dt.width||wr.framebufferWidth-Ot)|0,Kt=(Dt.height||wr.framebufferHeight-Vt)|0,or=Dt.data||null),Yt(),Dt=Qt*Kt*4,or||(St===5121?or=new Uint8Array(Dt):St===5126&&(or=or||new Float32Array(Dt))),mt.pixelStorei(3333,4),mt.readPixels(Ot,Vt,Qt,Kt,6408,St,or),or}function Mt(Dt){var St;return jt.setFBO({framebuffer:Dt.framebuffer},function(){St=wt(Dt)}),St}return function(Dt){return Dt&&"framebuffer"in Dt?Mt(Dt):wt(Dt)}}function F(mt){for(var jt=Array(mt.length>>2),wr=0;wr<jt.length;wr++)jt[wr]=0;for(wr=0;wr<8*mt.length;wr+=8)jt[wr>>5]|=(mt.charCodeAt(wr/8)&255)<<24-wr%32;var Yt=8*mt.length;mt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var wr=Array(64),dr,ct,ot,wt,Mt,Dt,St,Ot,Vt,Qt,Kt;for(jt[Yt>>5]|=128<<24-Yt%32,jt[(Yt+64>>9<<4)+15]=Yt,Ot=0;Ot<jt.length;Ot+=16){for(Yt=mt[0],dr=mt[1],ct=mt[2],ot=mt[3],wt=mt[4],Mt=mt[5],Dt=mt[6],St=mt[7],Vt=0;64>Vt;Vt++){if(16>Vt)wr[Vt]=jt[Vt+Ot];else{Qt=Vt,Kt=wr[Vt-2],Kt=$(Kt,17)^$(Kt,19)^Kt>>>10,Kt=j(Kt,wr[Vt-7]);var or;or=wr[Vt-15],or=$(or,7)^$(or,18)^or>>>3,wr[Qt]=j(j(Kt,or),wr[Vt-16])}Qt=wt,Qt=$(Qt,6)^$(Qt,11)^$(Qt,25),Qt=j(j(j(j(St,Qt),wt&Mt^~wt&Dt),lt[Vt]),wr[Vt]),St=Yt,St=$(St,2)^$(St,13)^$(St,22),Kt=j(St,Yt&dr^Yt&ct^dr&ct),St=Dt,Dt=Mt,Mt=wt,wt=j(ot,Qt),ot=ct,ct=dr,dr=Yt,Yt=j(Qt,Kt)}mt[0]=j(Yt,mt[0]),mt[1]=j(dr,mt[1]),mt[2]=j(ct,mt[2]),mt[3]=j(ot,mt[3]),mt[4]=j(wt,mt[4]),mt[5]=j(Mt,mt[5]),mt[6]=j(Dt,mt[6]),mt[7]=j(St,mt[7])}for(jt="",wr=0;wr<32*mt.length;wr+=8)jt+=String.fromCharCode(mt[wr>>5]>>>24-wr%32&255);return jt}function N(mt){for(var jt="",Yt,wr=0;wr<mt.length;wr++)Yt=mt.charCodeAt(wr),jt+="0123456789abcdef".charAt(Yt>>>4&15)+"0123456789abcdef".charAt(Yt&15);return jt}function Q(mt){for(var jt="",Yt=-1,wr,dr;++Yt<mt.length;)wr=mt.charCodeAt(Yt),dr=Yt+1<mt.length?mt.charCodeAt(Yt+1):0,55296<=wr&&56319>=wr&&56320<=dr&&57343>=dr&&(wr=65536+((wr&1023)<<10)+(dr&1023),Yt++),127>=wr?jt+=String.fromCharCode(wr):2047>=wr?jt+=String.fromCharCode(192|wr>>>6&31,128|wr&63):65535>=wr?jt+=String.fromCharCode(224|wr>>>12&15,128|wr>>>6&63,128|wr&63):2097151>=wr&&(jt+=String.fromCharCode(240|wr>>>18&7,128|wr>>>12&63,128|wr>>>6&63,128|wr&63));return jt}function $(mt,jt){return mt>>>jt|mt<<32-jt}function j(mt,jt){var Yt=(mt&65535)+(jt&65535);return(mt>>16)+(jt>>16)+(Yt>>16)<<16|Yt&65535}function ee(mt){return Array.prototype.slice.call(mt)}function oe(mt){return ee(mt).join("")}function Y(mt){function jt(){var St=[],Ot=[];return ae(function(){St.push.apply(St,ee(arguments))},{def:function(){var Vt="v"+dr++;return Ot.push(Vt),0<arguments.length&&(St.push(Vt,"="),St.push.apply(St,ee(arguments)),St.push(";")),Vt},toString:function(){return oe([0<Ot.length?"var "+Ot.join(",")+";":"",oe(St)])}})}function Yt(){function St(or,Mr){Vt(or,Mr,"=",Ot.def(or,Mr),";")}var Ot=jt(),Vt=jt(),Qt=Ot.toString,Kt=Vt.toString;return ae(function(){Ot.apply(Ot,ee(arguments))},{def:Ot.def,entry:Ot,exit:Vt,save:St,set:function(or,Mr,Ve){St(or,Mr),Ot(or,Mr,"=",Ve,";")},toString:function(){return Qt()+Kt()}})}var wr=mt&&mt.cache,dr=0,ct=[],ot=[],wt=[],Mt=jt(),Dt={};return{global:Mt,link:function(St,Ot){var Vt=Ot&&Ot.stable;if(!Vt){for(var Qt=0;Qt<ot.length;++Qt)if(ot[Qt]===St&&!wt[Qt])return ct[Qt]}return Qt="g"+dr++,ct.push(Qt),ot.push(St),wt.push(Vt),Qt},block:jt,proc:function(St,Ot){function Vt(){var Mr="a"+Qt.length;return Qt.push(Mr),Mr}var Qt=[];Ot=Ot||0;for(var Kt=0;Kt<Ot;++Kt)Vt();var Kt=Yt(),or=Kt.toString;return Dt[St]=ae(Kt,{arg:Vt,toString:function(){return oe(["function(",Qt.join(),"){",or(),"}"])}})},scope:Yt,cond:function(){var St=oe(arguments),Ot=Yt(),Vt=Yt(),Qt=Ot.toString,Kt=Vt.toString;return ae(Ot,{then:function(){return Ot.apply(Ot,ee(arguments)),this},else:function(){return Vt.apply(Vt,ee(arguments)),this},toString:function(){var or=Kt();return or&&(or="else{"+or+"}"),oe(["if(",St,"){",Qt(),"}",or])}})},compile:function(){var St=['"use strict";',Mt,"return {"];Object.keys(Dt).forEach(function(Qt){St.push('"',Qt,'":',Dt[Qt].toString(),",")}),St.push("}");var Ot=oe(St).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Vt;return wr&&(Vt=N(F(Q(Ot))),wr[Vt])?wr[Vt].apply(null,ot):(Ot=Function.apply(null,ct.concat(Ot)),wr&&(wr[Vt]=Ot),Ot.apply(null,ot))}}}function V(mt){return Array.isArray(mt)||Te(mt)||c(mt)}function W(mt){return mt.sort(function(jt,Yt){return jt==="viewport"?-1:Yt==="viewport"?1:jt<Yt?-1:1})}function X(mt,jt,Yt,wr){this.thisDep=mt,this.contextDep=jt,this.propDep=Yt,this.append=wr}function re(mt){return mt&&!(mt.thisDep||mt.contextDep||mt.propDep)}function ie(mt){return new X(!1,!1,!1,mt)}function K(mt,jt){var Yt=mt.type;if(Yt===0)return Yt=mt.data.length,new X(!0,1<=Yt,2<=Yt,jt);if(Yt===4)return Yt=mt.data,new X(Yt.thisDep,Yt.contextDep,Yt.propDep,jt);if(Yt===5)return new X(!1,!1,!1,jt);if(Yt===6){for(var wr=Yt=!1,dr=!1,ct=0;ct<mt.data.length;++ct){var ot=mt.data[ct];ot.type===1?dr=!0:ot.type===2?wr=!0:ot.type===3?Yt=!0:ot.type===0?(Yt=!0,ot=ot.data,1<=ot&&(wr=!0),2<=ot&&(dr=!0)):ot.type===4&&(Yt=Yt||ot.data.thisDep,wr=wr||ot.data.contextDep,dr=dr||ot.data.propDep)}return new X(Yt,wr,dr,jt)}return new X(Yt===3,Yt===2,Yt===1,jt)}function q(mt,jt,Yt,wr,dr,ct,ot,wt,Mt,Dt,St,Ot,Vt,Qt,Kt,or){function Mr(Xt){return Xt.replace(".","_")}function Ve(Xt,Tr,nn){var fn=Mr(Xt);En.push(Xt),Nn[fn]=vn[fn]=!!nn,Cn[fn]=Tr}function Ge(Xt,Tr,nn){var fn=Mr(Xt);En.push(Xt),Array.isArray(nn)?(vn[fn]=nn.slice(),Nn[fn]=nn.slice()):vn[fn]=Nn[fn]=nn,Hn[fn]=Tr}function Ft(){var Xt=Y({cache:Kt}),Tr=Xt.link,nn=Xt.global;Xt.id=Va++,Xt.batchId="0";var fn=Tr(ra),cn=Xt.shared={props:"a0"};Object.keys(ra).forEach(function(Er){cn[Er]=nn.def(fn,".",Er)});var Ln=Xt.next={},Tn=Xt.current={};Object.keys(Hn).forEach(function(Er){Array.isArray(vn[Er])&&(Ln[Er]=nn.def(cn.next,".",Er),Tn[Er]=nn.def(cn.current,".",Er))});var un=Xt.constants={};Object.keys(Ea).forEach(function(Er){un[Er]=nn.def(JSON.stringify(Ea[Er]))}),Xt.invoke=function(Er,_r){switch(_r.type){case 0:var hn=["this",cn.context,cn.props,Xt.batchId];return Er.def(Tr(_r.data),".call(",hn.slice(0,Math.max(_r.data.length+1,4)),")");case 1:return Er.def(cn.props,_r.data);case 2:return Er.def(cn.context,_r.data);case 3:return Er.def("this",_r.data);case 4:return _r.data.append(Xt,Er),_r.data.ref;case 5:return _r.data.toString();case 6:return _r.data.map(function(Fn){return Xt.invoke(Er,Fn)})}},Xt.attribCache={};var Pr={};return Xt.scopeAttrib=function(Er){if(Er=jt.id(Er),Er in Pr)return Pr[Er];var _r=Dt.scope[Er];return _r||(_r=Dt.scope[Er]=new oa),Pr[Er]=Tr(_r)},Xt}function kt(Xt){var Tr=Xt.static;Xt=Xt.dynamic;var nn;if("profile"in Tr){var fn=!!Tr.profile;nn=ie(function(Ln,Tn){return fn}),nn.enable=fn}else if("profile"in Xt){var cn=Xt.profile;nn=K(cn,function(Ln,Tn){return Ln.invoke(Tn,cn)})}return nn}function Zt(Xt,Tr){var nn=Xt.static,fn=Xt.dynamic;if("framebuffer"in nn){var cn=nn.framebuffer;return cn?(cn=wt.getFramebuffer(cn),ie(function(Tn,un){var Pr=Tn.link(cn),Er=Tn.shared;return un.set(Er.framebuffer,".next",Pr),Er=Er.context,un.set(Er,".framebufferWidth",Pr+".width"),un.set(Er,".framebufferHeight",Pr+".height"),Pr})):ie(function(Tn,un){var Pr=Tn.shared;return un.set(Pr.framebuffer,".next","null"),Pr=Pr.context,un.set(Pr,".framebufferWidth",Pr+".drawingBufferWidth"),un.set(Pr,".framebufferHeight",Pr+".drawingBufferHeight"),"null"})}if("framebuffer"in fn){var Ln=fn.framebuffer;return K(Ln,function(Tn,un){var _r=Tn.invoke(un,Ln),Pr=Tn.shared,Er=Pr.framebuffer,_r=un.def(Er,".getFramebuffer(",_r,")");return un.set(Er,".next",_r),Pr=Pr.context,un.set(Pr,".framebufferWidth",_r+"?"+_r+".width:"+Pr+".drawingBufferWidth"),un.set(Pr,".framebufferHeight",_r+"?"+_r+".height:"+Pr+".drawingBufferHeight"),_r})}return null}function tr(Xt,Tr,nn){function fn(un){if(un in cn){var Pr=cn[un];un=!0;var Er=Pr.x|0,_r=Pr.y|0,hn,Fn;return"width"in Pr?hn=Pr.width|0:un=!1,"height"in Pr?Fn=Pr.height|0:un=!1,new X(!un&&Tr&&Tr.thisDep,!un&&Tr&&Tr.contextDep,!un&&Tr&&Tr.propDep,function(dn,zn){var Qn=dn.shared.context,sa=hn;"width"in Pr||(sa=zn.def(Qn,".","framebufferWidth","-",Er));var aa=Fn;return"height"in Pr||(aa=zn.def(Qn,".","framebufferHeight","-",_r)),[Er,_r,sa,aa]})}if(un in Ln){var Gn=Ln[un];return un=K(Gn,function(dn,zn){var ha=dn.invoke(zn,Gn),Qn=dn.shared.context,sa=zn.def(ha,".x|0"),aa=zn.def(ha,".y|0"),ia=zn.def('"width" in ',ha,"?",ha,".width|0:","(",Qn,".","framebufferWidth","-",sa,")"),ha=zn.def('"height" in ',ha,"?",ha,".height|0:","(",Qn,".","framebufferHeight","-",aa,")");return[sa,aa,ia,ha]}),Tr&&(un.thisDep=un.thisDep||Tr.thisDep,un.contextDep=un.contextDep||Tr.contextDep,un.propDep=un.propDep||Tr.propDep),un}return Tr?new X(Tr.thisDep,Tr.contextDep,Tr.propDep,function(dn,zn){var Qn=dn.shared.context;return[0,0,zn.def(Qn,".","framebufferWidth"),zn.def(Qn,".","framebufferHeight")]}):null}var cn=Xt.static,Ln=Xt.dynamic;if(Xt=fn("viewport")){var Tn=Xt;Xt=new X(Xt.thisDep,Xt.contextDep,Xt.propDep,function(un,Pr){var Er=Tn.append(un,Pr),_r=un.shared.context;return Pr.set(_r,".viewportWidth",Er[2]),Pr.set(_r,".viewportHeight",Er[3]),Er})}return{viewport:Xt,scissor_box:fn("scissor.box")}}function sr(Xt,Tr){var nn=Xt.static;if(typeof nn.frag=="string"&&typeof nn.vert=="string"){if(0<Object.keys(Tr.dynamic).length)return null;var nn=Tr.static,fn=Object.keys(nn);if(0<fn.length&&typeof nn[fn[0]]=="number"){for(var cn=[],Ln=0;Ln<fn.length;++Ln)cn.push([nn[fn[Ln]]|0,fn[Ln]]);return cn}}return null}function rr(Xt,Tr,nn){function fn(Er){if(Er in cn){var _r=jt.id(cn[Er]);return Er=ie(function(){return _r}),Er.id=_r,Er}if(Er in Ln){var hn=Ln[Er];return K(hn,function(Fn,Gn){var dn=Fn.invoke(Gn,hn);return Gn.def(Fn.shared.strings,".id(",dn,")")})}return null}var cn=Xt.static,Ln=Xt.dynamic,Tn=fn("frag"),un=fn("vert"),Pr=null;return re(Tn)&&re(un)?(Pr=St.program(un.id,Tn.id,null,nn),Xt=ie(function(Er,_r){return Er.link(Pr)})):Xt=new X(Tn&&Tn.thisDep||un&&un.thisDep,Tn&&Tn.contextDep||un&&un.contextDep,Tn&&Tn.propDep||un&&un.propDep,function(Er,_r){var hn=Er.shared.shader,Fn;Fn=Tn?Tn.append(Er,_r):_r.def(hn,".","frag");var Gn;return Gn=un?un.append(Er,_r):_r.def(hn,".","vert"),_r.def(hn+".program("+Gn+","+Fn+")")}),{frag:Tn,vert:un,progVar:Xt,program:Pr}}function Nt(Xt,Tr){function nn(dn,zn){if(dn in fn){var Qn=fn[dn]|0;return zn?Ln.offset=Qn:Ln.instances=Qn,ie(function(aa,ia){return zn&&(aa.OFFSET=Qn),Qn})}if(dn in cn){var sa=cn[dn];return K(sa,function(aa,ia){var ha=aa.invoke(ia,sa);return zn&&(aa.OFFSET=ha),ha})}if(zn){if(Pr)return ie(function(aa,ia){return aa.OFFSET=0});if(Tn)return new X(un.thisDep,un.contextDep,un.propDep,function(aa,ia){return ia.def(aa.shared.vao+".currentVAO?"+aa.shared.vao+".currentVAO.offset:0")})}else if(Tn)return new X(un.thisDep,un.contextDep,un.propDep,function(aa,ia){return ia.def(aa.shared.vao+".currentVAO?"+aa.shared.vao+".currentVAO.instances:-1")});return null}var fn=Xt.static,cn=Xt.dynamic,Ln={},Tn=!1,un=function(){if("vao"in fn){var dn=fn.vao;return dn!==null&&Dt.getVAO(dn)===null&&(dn=Dt.createVAO(dn)),Tn=!0,Ln.vao=dn,ie(function(Qn){var sa=Dt.getVAO(dn);return sa?Qn.link(sa):"null"})}if("vao"in cn){Tn=!0;var zn=cn.vao;return K(zn,function(Qn,sa){var aa=Qn.invoke(sa,zn);return sa.def(Qn.shared.vao+".getVAO("+aa+")")})}return null}(),Pr=!1,Er=function(){if("elements"in fn){var dn=fn.elements;if(Ln.elements=dn,V(dn)){var zn=Ln.elements=ct.create(dn,!0),dn=ct.getElements(zn);Pr=!0}else dn&&(dn=ct.getElements(dn),Pr=!0);return zn=ie(function(sa,aa){if(dn){var ia=sa.link(dn);return sa.ELEMENTS=ia}return sa.ELEMENTS=null}),zn.value=dn,zn}if("elements"in cn){Pr=!0;var Qn=cn.elements;return K(Qn,function(sa,aa){var ia=sa.shared,Wi=ia.isBufferArgs,ia=ia.elements,ao=sa.invoke(aa,Qn),ha=aa.def("null"),Wi=aa.def(Wi,"(",ao,")"),ao=sa.cond(Wi).then(ha,"=",ia,".createStream(",ao,");").else(ha,"=",ia,".getElements(",ao,");");return aa.entry(ao),aa.exit(sa.cond(Wi).then(ia,".destroyStream(",ha,");")),sa.ELEMENTS=ha})}return Tn?new X(un.thisDep,un.contextDep,un.propDep,function(sa,aa){return aa.def(sa.shared.vao+".currentVAO?"+sa.shared.elements+".getElements("+sa.shared.vao+".currentVAO.elements):null")}):null}(),_r=nn("offset",!0),hn=function(){if("primitive"in fn){var dn=fn.primitive;return Ln.primitive=dn,ie(function(Qn,sa){return Qe[dn]})}if("primitive"in cn){var zn=cn.primitive;return K(zn,function(Qn,sa){var aa=Qn.constants.primTypes,ia=Qn.invoke(sa,zn);return sa.def(aa,"[",ia,"]")})}return Pr?re(Er)?Er.value?ie(function(Qn,sa){return sa.def(Qn.ELEMENTS,".primType")}):ie(function(){return 4}):new X(Er.thisDep,Er.contextDep,Er.propDep,function(Qn,sa){var aa=Qn.ELEMENTS;return sa.def(aa,"?",aa,".primType:",4)}):Tn?new X(un.thisDep,un.contextDep,un.propDep,function(Qn,sa){return sa.def(Qn.shared.vao+".currentVAO?"+Qn.shared.vao+".currentVAO.primitive:4")}):null}(),Fn=function(){if("count"in fn){var dn=fn.count|0;return Ln.count=dn,ie(function(){return dn})}if("count"in cn){var zn=cn.count;return K(zn,function(Qn,sa){return Qn.invoke(sa,zn)})}return Pr?re(Er)?Er?_r?new X(_r.thisDep,_r.contextDep,_r.propDep,function(Qn,sa){return sa.def(Qn.ELEMENTS,".vertCount-",Qn.OFFSET)}):ie(function(Qn,sa){return sa.def(Qn.ELEMENTS,".vertCount")}):ie(function(){return-1}):new X(Er.thisDep||_r.thisDep,Er.contextDep||_r.contextDep,Er.propDep||_r.propDep,function(Qn,sa){var aa=Qn.ELEMENTS;return Qn.OFFSET?sa.def(aa,"?",aa,".vertCount-",Qn.OFFSET,":-1"):sa.def(aa,"?",aa,".vertCount:-1")}):Tn?new X(un.thisDep,un.contextDep,un.propDep,function(Qn,sa){return sa.def(Qn.shared.vao,".currentVAO?",Qn.shared.vao,".currentVAO.count:-1")}):null}(),Gn=nn("instances",!1);return{elements:Er,primitive:hn,count:Fn,instances:Gn,offset:_r,vao:un,vaoActive:Tn,elementsActive:Pr,static:Ln}}function hr(Xt,Tr){var nn=Xt.static,fn=Xt.dynamic,cn={};return En.forEach(function(Ln){function Tn(Pr,Er){if(Ln in nn){var _r=Pr(nn[Ln]);cn[un]=ie(function(){return _r})}else if(Ln in fn){var hn=fn[Ln];cn[un]=K(hn,function(Fn,Gn){return Er(Fn,Gn,Fn.invoke(Gn,hn))})}}var un=Mr(Ln);switch(Ln){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Tn(function(Pr){return Pr},function(Pr,Er,_r){return _r});case"depth.func":return Tn(function(Pr){return Gt[Pr]},function(Pr,Er,_r){return Er.def(Pr.constants.compareFuncs,"[",_r,"]")});case"depth.range":return Tn(function(Pr){return Pr},function(Pr,Er,_r){return Pr=Er.def("+",_r,"[0]"),Er=Er.def("+",_r,"[1]"),[Pr,Er]});case"blend.func":return Tn(function(Pr){return[Ut["srcRGB"in Pr?Pr.srcRGB:Pr.src],Ut["dstRGB"in Pr?Pr.dstRGB:Pr.dst],Ut["srcAlpha"in Pr?Pr.srcAlpha:Pr.src],Ut["dstAlpha"in Pr?Pr.dstAlpha:Pr.dst]]},function(Pr,Er,_r){function hn(zn,Qn){return Er.def('"',zn,Qn,'" in ',_r,"?",_r,".",zn,Qn,":",_r,".",zn)}Pr=Pr.constants.blendFuncs;var Fn=hn("src","RGB"),dn=hn("dst","RGB"),Fn=Er.def(Pr,"[",Fn,"]"),Gn=Er.def(Pr,"[",hn("src","Alpha"),"]"),dn=Er.def(Pr,"[",dn,"]");return Pr=Er.def(Pr,"[",hn("dst","Alpha"),"]"),[Fn,dn,Gn,Pr]});case"blend.equation":return Tn(function(Pr){if(typeof Pr=="string")return[$n[Pr],$n[Pr]];if(typeof Pr=="object")return[$n[Pr.rgb],$n[Pr.alpha]]},function(Pr,Er,_r){var hn=Pr.constants.blendEquations,Fn=Er.def(),Gn=Er.def();return Pr=Pr.cond("typeof ",_r,'==="string"'),Pr.then(Fn,"=",Gn,"=",hn,"[",_r,"];"),Pr.else(Fn,"=",hn,"[",_r,".rgb];",Gn,"=",hn,"[",_r,".alpha];"),Er(Pr),[Fn,Gn]});case"blend.color":return Tn(function(Pr){return l(4,function(Er){return+Pr[Er]})},function(Pr,Er,_r){return l(4,function(hn){return Er.def("+",_r,"[",hn,"]")})});case"stencil.mask":return Tn(function(Pr){return Pr|0},function(Pr,Er,_r){return Er.def(_r,"|0")});case"stencil.func":return Tn(function(Pr){return[Gt[Pr.cmp||"keep"],Pr.ref||0,"mask"in Pr?Pr.mask:-1]},function(Pr,Er,_r){Pr=Er.def('"cmp" in ',_r,"?",Pr.constants.compareFuncs,"[",_r,".cmp]",":",7680);var hn=Er.def(_r,".ref|0");return Er=Er.def('"mask" in ',_r,"?",_r,".mask|0:-1"),[Pr,hn,Er]});case"stencil.opFront":case"stencil.opBack":return Tn(function(Pr){return[Ln==="stencil.opBack"?1029:1028,_t[Pr.fail||"keep"],_t[Pr.zfail||"keep"],_t[Pr.zpass||"keep"]]},function(Pr,Er,_r){function hn(Gn){return Er.def('"',Gn,'" in ',_r,"?",Fn,"[",_r,".",Gn,"]:",7680)}var Fn=Pr.constants.stencilOps;return[Ln==="stencil.opBack"?1029:1028,hn("fail"),hn("zfail"),hn("zpass")]});case"polygonOffset.offset":return Tn(function(Pr){return[Pr.factor|0,Pr.units|0]},function(Pr,Er,_r){return Pr=Er.def(_r,".factor|0"),Er=Er.def(_r,".units|0"),[Pr,Er]});case"cull.face":return Tn(function(Pr){var Er=0;return Pr==="front"?Er=1028:Pr==="back"&&(Er=1029),Er},function(Pr,Er,_r){return Er.def(_r,'==="front"?',1028,":",1029)});case"lineWidth":return Tn(function(Pr){return Pr},function(Pr,Er,_r){return _r});case"frontFace":return Tn(function(Pr){return nr[Pr]},function(Pr,Er,_r){return Er.def(_r+'==="cw"?2304:2305')});case"colorMask":return Tn(function(Pr){return Pr.map(function(Er){return!!Er})},function(Pr,Er,_r){return l(4,function(hn){return"!!"+_r+"["+hn+"]"})});case"sample.coverage":return Tn(function(Pr){return["value"in Pr?Pr.value:1,!!Pr.invert]},function(Pr,Er,_r){return Pr=Er.def('"value" in ',_r,"?+",_r,".value:1"),Er=Er.def("!!",_r,".invert"),[Pr,Er]})}}),cn}function pr(Xt,Tr){var nn=Xt.static,fn=Xt.dynamic,cn={};return Object.keys(nn).forEach(function(Ln){var Tn=nn[Ln],un;if(typeof Tn=="number"||typeof Tn=="boolean")un=ie(function(){return Tn});else if(typeof Tn=="function"){var Pr=Tn._reglType;Pr==="texture2d"||Pr==="textureCube"?un=ie(function(Er){return Er.link(Tn)}):(Pr==="framebuffer"||Pr==="framebufferCube")&&(un=ie(function(Er){return Er.link(Tn.color[0])}))}else A(Tn)&&(un=ie(function(Er){return Er.global.def("[",l(Tn.length,function(_r){return Tn[_r]}),"]")}));un.value=Tn,cn[Ln]=un}),Object.keys(fn).forEach(function(Ln){var Tn=fn[Ln];cn[Ln]=K(Tn,function(un,Pr){return un.invoke(Pr,Tn)})}),cn}function br(Xt,Tr){var nn=Xt.static,fn=Xt.dynamic,cn={};return Object.keys(nn).forEach(function(Ln){var Tn=nn[Ln],un=jt.id(Ln),Pr=new oa;if(V(Tn))Pr.state=1,Pr.buffer=dr.getBuffer(dr.create(Tn,34962,!1,!0)),Pr.type=0;else{var Er=dr.getBuffer(Tn);if(Er)Pr.state=1,Pr.buffer=Er,Pr.type=0;else if("constant"in Tn){var _r=Tn.constant;Pr.buffer="null",Pr.state=2,typeof _r=="number"?Pr.x=_r:bt.forEach(function(Qn,sa){sa<_r.length&&(Pr[Qn]=_r[sa])})}else{var Er=V(Tn.buffer)?dr.getBuffer(dr.create(Tn.buffer,34962,!1,!0)):dr.getBuffer(Tn.buffer),hn=Tn.offset|0,Fn=Tn.stride|0,Gn=Tn.size|0,dn=!!Tn.normalized,zn=0;"type"in Tn&&(zn=Ue[Tn.type]),Tn=Tn.divisor|0,Pr.buffer=Er,Pr.state=1,Pr.size=Gn,Pr.normalized=dn,Pr.type=zn||Er.dtype,Pr.offset=hn,Pr.stride=Fn,Pr.divisor=Tn}}cn[Ln]=ie(function(Qn,sa){var aa=Qn.attribCache;if(un in aa)return aa[un];var ia={isStream:!1};return Object.keys(Pr).forEach(function(ha){ia[ha]=Pr[ha]}),Pr.buffer&&(ia.buffer=Qn.link(Pr.buffer),ia.type=ia.type||ia.buffer+".dtype"),aa[un]=ia})}),Object.keys(fn).forEach(function(Ln){var Tn=fn[Ln];cn[Ln]=K(Tn,function(un,Pr){function Er(aa){Pr(dn[aa],"=",_r,".",aa,"|0;")}var _r=un.invoke(Pr,Tn),Gn=un.shared,hn=un.constants,Fn=Gn.isBufferArgs,Gn=Gn.buffer,dn={isStream:Pr.def(!1)},zn=new oa;zn.state=1,Object.keys(zn).forEach(function(aa){dn[aa]=Pr.def(""+zn[aa])});var Qn=dn.buffer,sa=dn.type;return Pr("if(",Fn,"(",_r,")){",dn.isStream,"=true;",Qn,"=",Gn,".createStream(",34962,",",_r,");",sa,"=",Qn,".dtype;","}else{",Qn,"=",Gn,".getBuffer(",_r,");","if(",Qn,"){",sa,"=",Qn,".dtype;",'}else if("constant" in ',_r,"){",dn.state,"=",2,";","if(typeof "+_r+'.constant === "number"){',dn[bt[0]],"=",_r,".constant;",bt.slice(1).map(function(aa){return dn[aa]}).join("="),"=0;","}else{",bt.map(function(aa,ia){return dn[aa]+"="+_r+".constant.length>"+ia+"?"+_r+".constant["+ia+"]:0;"}).join(""),"}}else{","if(",Fn,"(",_r,".buffer)){",Qn,"=",Gn,".createStream(",34962,",",_r,".buffer);","}else{",Qn,"=",Gn,".getBuffer(",_r,".buffer);","}",sa,'="type" in ',_r,"?",hn.glTypes,"[",_r,".type]:",Qn,".dtype;",dn.normalized,"=!!",_r,".normalized;"),Er("size"),Er("offset"),Er("stride"),Er("divisor"),Pr("}}"),Pr.exit("if(",dn.isStream,"){",Gn,".destroyStream(",Qn,");","}"),dn})}),cn}function vr(Xt){var Tr=Xt.static,nn=Xt.dynamic,fn={};return Object.keys(Tr).forEach(function(cn){var Ln=Tr[cn];fn[cn]=ie(function(Tn,un){return typeof Ln=="number"||typeof Ln=="boolean"?""+Ln:Tn.link(Ln)})}),Object.keys(nn).forEach(function(cn){var Ln=nn[cn];fn[cn]=K(Ln,function(Tn,un){return Tn.invoke(un,Ln)})}),fn}function Kr(Xt,Tr,nn,fn,cn){function Ln(zn){var Qn=un[zn];Qn&&(Er[zn]=Qn)}var Tn=sr(Xt,Tr),Fn=Zt(Xt),un=tr(Xt,Fn),Pr=Nt(Xt),Er=hr(Xt),_r=rr(Xt,cn,Tn);Ln("viewport"),Ln(Mr("scissor.box"));var hn=0<Object.keys(Er).length,Fn={framebuffer:Fn,draw:Pr,shader:_r,state:Er,dirty:hn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Fn.profile=kt(Xt),Fn.uniforms=pr(nn),Fn.drawVAO=Fn.scopeVAO=Pr.vao,!Fn.drawVAO&&_r.program&&!Tn&&Yt.angle_instanced_arrays&&Pr.static.elements){var Gn=!0;if(Xt=_r.program.attributes.map(function(zn){return zn=Tr.static[zn],Gn=Gn&&!!zn,zn}),Gn&&0<Xt.length){var dn=Dt.getVAO(Dt.createVAO({attributes:Xt,elements:Pr.static.elements}));Fn.drawVAO=new X(null,null,null,function(zn,Qn){return zn.link(dn)}),Fn.useVAO=!0}}return Tn?Fn.useVAO=!0:Fn.attributes=br(Tr),Fn.context=vr(fn),Fn}function Fr(Xt,Tr,nn){var fn=Xt.shared.context,cn=Xt.scope();Object.keys(nn).forEach(function(Ln){Tr.save(fn,"."+Ln);var Tn=nn[Ln].append(Xt,Tr);Array.isArray(Tn)?cn(fn,".",Ln,"=[",Tn.join(),"];"):cn(fn,".",Ln,"=",Tn,";")}),Tr(cn)}function Br(Xt,Tr,nn,fn){var un=Xt.shared,cn=un.gl,Ln=un.framebuffer,Tn;an&&(Tn=Tr.def(un.extensions,".webgl_draw_buffers"));var Pr=Xt.constants,un=Pr.drawBuffer,Pr=Pr.backBuffer;Xt=nn?nn.append(Xt,Tr):Tr.def(Ln,".next"),fn||Tr("if(",Xt,"!==",Ln,".cur){"),Tr("if(",Xt,"){",cn,".bindFramebuffer(",36160,",",Xt,".framebuffer);"),an&&Tr(Tn,".drawBuffersWEBGL(",un,"[",Xt,".colorAttachments.length]);"),Tr("}else{",cn,".bindFramebuffer(",36160,",null);"),an&&Tr(Tn,".drawBuffersWEBGL(",Pr,");"),Tr("}",Ln,".cur=",Xt,";"),fn||Tr("}")}function xn(Xt,Tr,nn){var fn=Xt.shared,cn=fn.gl,Ln=Xt.current,Tn=Xt.next,un=fn.current,Pr=fn.next,Er=Xt.cond(un,".dirty");En.forEach(function(_r){if(_r=Mr(_r),!(_r in nn.state)){var hn,Fn;if(_r in Tn){hn=Tn[_r],Fn=Ln[_r];var Gn=l(vn[_r].length,function(dn){return Er.def(hn,"[",dn,"]")});Er(Xt.cond(Gn.map(function(dn,zn){return dn+"!=="+Fn+"["+zn+"]"}).join("||")).then(cn,".",Hn[_r],"(",Gn,");",Gn.map(function(dn,zn){return Fn+"["+zn+"]="+dn}).join(";"),";"))}else hn=Er.def(Pr,".",_r),Gn=Xt.cond(hn,"!==",un,".",_r),Er(Gn),_r in Cn?Gn(Xt.cond(hn).then(cn,".enable(",Cn[_r],");").else(cn,".disable(",Cn[_r],");"),un,".",_r,"=",hn,";"):Gn(cn,".",Hn[_r],"(",hn,");",un,".",_r,"=",hn,";")}}),Object.keys(nn.state).length===0&&Er(un,".dirty=false;"),Tr(Er)}function jr(Xt,Tr,nn,fn){var cn=Xt.shared,Ln=Xt.current,Tn=cn.current,un=cn.gl,Pr;W(Object.keys(nn)).forEach(function(Er){var _r=nn[Er];if(!fn||fn(_r)){var hn=_r.append(Xt,Tr);if(Cn[Er]){var Fn=Cn[Er];re(_r)?(Pr=Xt.link(hn,{stable:!0}),Tr(Xt.cond(Pr).then(un,".enable(",Fn,");").else(un,".disable(",Fn,");")),Tr(Tn,".",Er,"=",Pr,";")):(Tr(Xt.cond(hn).then(un,".enable(",Fn,");").else(un,".disable(",Fn,");")),Tr(Tn,".",Er,"=",hn,";"))}else if(A(hn)){var Gn=Ln[Er];Tr(un,".",Hn[Er],"(",hn,");",hn.map(function(dn,zn){return Gn+"["+zn+"]="+dn}).join(";"),";")}else re(_r)?(Pr=Xt.link(hn,{stable:!0}),Tr(un,".",Hn[Er],"(",Pr,");",Tn,".",Er,"=",Pr,";")):Tr(un,".",Hn[Er],"(",hn,");",Tn,".",Er,"=",hn,";")}})}function Dn(Xt,Tr){Rr&&(Xt.instancing=Tr.def(Xt.shared.extensions,".angle_instanced_arrays"))}function In(Xt,Tr,nn,fn,cn){function Ln(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Tn(zn){Gn=Tr.def(),zn(Gn,"=",Ln(),";"),typeof cn=="string"?zn(_r,".count+=",cn,";"):zn(_r,".count++;"),Qt&&(fn?(dn=Tr.def(),zn(dn,"=",Fn,".getNumPendingQueries();")):zn(Fn,".beginQuery(",_r,");"))}function un(zn){zn(_r,".cpuTime+=",Ln(),"-",Gn,";"),Qt&&(fn?zn(Fn,".pushScopeStats(",dn,",",Fn,".getNumPendingQueries(),",_r,");"):zn(Fn,".endQuery();"))}function Pr(zn){var Qn=Tr.def(hn,".profile");Tr(hn,".profile=",zn,";"),Tr.exit(hn,".profile=",Qn,";")}var Er=Xt.shared,_r=Xt.stats,hn=Er.current,Fn=Er.timer;nn=nn.profile;var Gn,dn;if(nn){if(re(nn)){nn.enable?(Tn(Tr),un(Tr.exit),Pr("true")):Pr("false");return}nn=nn.append(Xt,Tr),Pr(nn)}else nn=Tr.def(hn,".profile");Er=Xt.block(),Tn(Er),Tr("if(",nn,"){",Er,"}"),Xt=Xt.block(),un(Xt),Tr.exit("if(",nn,"){",Xt,"}")}function yr(Xt,Tr,nn,fn,cn){function Ln(Pr){switch(Pr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Tn(Pr,Er,_r){function hn(){Tr("if(!",zn,".buffer){",Gn,".enableVertexAttribArray(",dn,");}");var ia=_r.type,ha;ha=_r.size?Tr.def(_r.size,"||",Er):Er,Tr("if(",zn,".type!==",ia,"||",zn,".size!==",ha,"||",aa.map(function(Wi){return zn+"."+Wi+"!=="+_r[Wi]}).join("||"),"){",Gn,".bindBuffer(",34962,",",Qn,".buffer);",Gn,".vertexAttribPointer(",[dn,ha,ia,_r.normalized,_r.stride,_r.offset],");",zn,".type=",ia,";",zn,".size=",ha,";",aa.map(function(Wi){return zn+"."+Wi+"="+_r[Wi]+";"}).join(""),"}"),Rr&&(ia=_r.divisor,Tr("if(",zn,".divisor!==",ia,"){",Xt.instancing,".vertexAttribDivisorANGLE(",[dn,ia],");",zn,".divisor=",ia,";}"))}function Fn(){Tr("if(",zn,".buffer){",Gn,".disableVertexAttribArray(",dn,");",zn,".buffer=null;","}if(",bt.map(function(ia,ha){return zn+"."+ia+"!=="+sa[ha]}).join("||"),"){",Gn,".vertexAttrib4f(",dn,",",sa,");",bt.map(function(ia,ha){return zn+"."+ia+"="+sa[ha]+";"}).join(""),"}")}var Gn=un.gl,dn=Tr.def(Pr,".location"),zn=Tr.def(un.attributes,"[",dn,"]");Pr=_r.state;var Qn=_r.buffer,sa=[_r.x,_r.y,_r.z,_r.w],aa=["buffer","normalized","offset","stride"];Pr===1?hn():Pr===2?Fn():(Tr("if(",Pr,"===",1,"){"),hn(),Tr("}else{"),Fn(),Tr("}"))}var un=Xt.shared;fn.forEach(function(Pr){var Er=Pr.name,_r=nn.attributes[Er],hn;if(_r){if(!cn(_r))return;hn=_r.append(Xt,Tr)}else{if(!cn(lr))return;var Fn=Xt.scopeAttrib(Er);hn={},Object.keys(new oa).forEach(function(Gn){hn[Gn]=Tr.def(Fn,".",Gn)})}Tn(Xt.link(Pr),Ln(Pr.info.type),hn)})}function cr(Xt,Tr,nn,fn,cn,Ln){for(var Tn=Xt.shared,un=Tn.gl,Pr,Er=0;Er<fn.length;++Er){var Gn=fn[Er],_r=Gn.name,hn=Gn.info.type,Fn=nn.uniforms[_r],Gn=Xt.link(Gn)+".location",dn;if(Fn){if(!cn(Fn))continue;if(re(Fn)){if(_r=Fn.value,hn===35678||hn===35680)hn=Xt.link(_r._texture||_r.color[0]._texture),Tr(un,".uniform1i(",Gn,",",hn+".bind());"),Tr.exit(hn,".unbind();");else if(hn===35674||hn===35675||hn===35676)_r=Xt.global.def("new Float32Array(["+Array.prototype.slice.call(_r)+"])"),Fn=2,hn===35675?Fn=3:hn===35676&&(Fn=4),Tr(un,".uniformMatrix",Fn,"fv(",Gn,",false,",_r,");");else{switch(hn){case 5126:Pr="1f";break;case 35664:Pr="2f";break;case 35665:Pr="3f";break;case 35666:Pr="4f";break;case 35670:Pr="1i";break;case 5124:Pr="1i";break;case 35671:Pr="2i";break;case 35667:Pr="2i";break;case 35672:Pr="3i";break;case 35668:Pr="3i";break;case 35673:Pr="4i";break;case 35669:Pr="4i"}Tr(un,".uniform",Pr,"(",Gn,",",A(_r)?Array.prototype.slice.call(_r):_r,");")}continue}else dn=Fn.append(Xt,Tr)}else{if(!cn(lr))continue;dn=Tr.def(Tn.uniforms,"[",jt.id(_r),"]")}switch(hn===35678?Tr("if(",dn,"&&",dn,'._reglType==="framebuffer"){',dn,"=",dn,".color[0];","}"):hn===35680&&Tr("if(",dn,"&&",dn,'._reglType==="framebufferCube"){',dn,"=",dn,".color[0];","}"),_r=1,hn){case 35678:case 35680:hn=Tr.def(dn,"._texture"),Tr(un,".uniform1i(",Gn,",",hn,".bind());"),Tr.exit(hn,".unbind();");continue;case 5124:case 35670:Pr="1i";break;case 35667:case 35671:Pr="2i",_r=2;break;case 35668:case 35672:Pr="3i",_r=3;break;case 35669:case 35673:Pr="4i",_r=4;break;case 5126:Pr="1f";break;case 35664:Pr="2f",_r=2;break;case 35665:Pr="3f",_r=3;break;case 35666:Pr="4f",_r=4;break;case 35674:Pr="Matrix2fv";break;case 35675:Pr="Matrix3fv";break;case 35676:Pr="Matrix4fv"}if(Pr.charAt(0)==="M"){Tr(un,".uniform",Pr,"(",Gn,",");var Gn=Math.pow(hn-35674+2,2),zn=Xt.global.def("new Float32Array(",Gn,")");Array.isArray(dn)?Tr("false,(",l(Gn,function(aa){return zn+"["+aa+"]="+dn[aa]}),",",zn,")"):Tr("false,(Array.isArray(",dn,")||",dn," instanceof Float32Array)?",dn,":(",l(Gn,function(aa){return zn+"["+aa+"]="+dn+"["+aa+"]"}),",",zn,")"),Tr(");")}else{if(1<_r){for(var hn=[],Qn=[],Fn=0;Fn<_r;++Fn)Array.isArray(dn)?Qn.push(dn[Fn]):Qn.push(Tr.def(dn+"["+Fn+"]")),Ln&&hn.push(Tr.def());Ln&&Tr("if(!",Xt.batchId,"||",hn.map(function(sa,aa){return sa+"!=="+Qn[aa]}).join("||"),"){",hn.map(function(sa,aa){return sa+"="+Qn[aa]+";"}).join("")),Tr(un,".uniform",Pr,"(",Gn,",",Qn.join(","),");")}else Ln&&(hn=Tr.def(),Tr("if(!",Xt.batchId,"||",hn,"!==",dn,"){",hn,"=",dn,";")),Tr(un,".uniform",Pr,"(",Gn,",",dn,");");Ln&&Tr("}")}}}function kr(Xt,Tr,nn,fn){function cn(ia){var ha=_r[ia];return ha?ha.contextDep&&fn.contextDynamic||ha.propDep?ha.append(Xt,nn):ha.append(Xt,Tr):Tr.def(Er,".",ia)}function Ln(){function ia(){nn(Qn,".drawElementsInstancedANGLE(",[Fn,dn,sa,Gn+"<<(("+sa+"-5121)>>1)",zn],");")}function ha(){nn(Qn,".drawArraysInstancedANGLE(",[Fn,Gn,dn,zn],");")}hn&&hn!=="null"?aa?ia():(nn("if(",hn,"){"),ia(),nn("}else{"),ha(),nn("}")):ha()}function Tn(){function ia(){nn(Pr+".drawElements("+[Fn,dn,sa,Gn+"<<(("+sa+"-5121)>>1)"]+");")}function ha(){nn(Pr+".drawArrays("+[Fn,Gn,dn]+");")}hn&&hn!=="null"?aa?ia():(nn("if(",hn,"){"),ia(),nn("}else{"),ha(),nn("}")):ha()}var un=Xt.shared,Pr=un.gl,Er=un.draw,_r=fn.draw,hn=function(){var ia=_r.elements,ha=Tr;return ia?((ia.contextDep&&fn.contextDynamic||ia.propDep)&&(ha=nn),ia=ia.append(Xt,ha),_r.elementsActive&&ha("if("+ia+")"+Pr+".bindBuffer(34963,"+ia+".buffer.buffer);")):(ia=ha.def(),ha(ia,"=",Er,".","elements",";","if(",ia,"){",Pr,".bindBuffer(",34963,",",ia,".buffer.buffer);}","else if(",un.vao,".currentVAO){",ia,"=",Xt.shared.elements+".getElements("+un.vao,".currentVAO.elements);",rn?"":"if("+ia+")"+Pr+".bindBuffer(34963,"+ia+".buffer.buffer);","}")),ia}(),Fn=cn("primitive"),Gn=cn("offset"),dn=function(){var ia=_r.count,ha=Tr;return ia?((ia.contextDep&&fn.contextDynamic||ia.propDep)&&(ha=nn),ia=ia.append(Xt,ha)):ia=ha.def(Er,".","count"),ia}();if(typeof dn=="number"){if(dn===0)return}else nn("if(",dn,"){"),nn.exit("}");var zn,Qn;Rr&&(zn=cn("instances"),Qn=Xt.instancing);var sa=hn+".type",aa=_r.elements&&re(_r.elements)&&!_r.vaoActive;Rr&&(typeof zn!="number"||0<=zn)?typeof zn=="string"?(nn("if(",zn,">0){"),Ln(),nn("}else if(",zn,"<0){"),Tn(),nn("}")):Ln():Tn()}function Or(Xt,Tr,nn,fn,cn){return Tr=Ft(),cn=Tr.proc("body",cn),Rr&&(Tr.instancing=cn.def(Tr.shared.extensions,".angle_instanced_arrays")),Xt(Tr,cn,nn,fn),Tr.compile().body}function sn(Xt,Tr,nn,fn){Dn(Xt,Tr),nn.useVAO?nn.drawVAO?Tr(Xt.shared.vao,".setVAO(",nn.drawVAO.append(Xt,Tr),");"):Tr(Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"):(Tr(Xt.shared.vao,".setVAO(null);"),yr(Xt,Tr,nn,fn.attributes,function(){return!0})),cr(Xt,Tr,nn,fn.uniforms,function(){return!0},!1),kr(Xt,Tr,Tr,nn)}function yn(Xt,Tr){var nn=Xt.proc("draw",1);Dn(Xt,nn),Fr(Xt,nn,Tr.context),Br(Xt,nn,Tr.framebuffer),xn(Xt,nn,Tr),jr(Xt,nn,Tr.state),In(Xt,nn,Tr,!1,!0);var fn=Tr.shader.progVar.append(Xt,nn);if(nn(Xt.shared.gl,".useProgram(",fn,".program);"),Tr.shader.program)sn(Xt,nn,Tr,Tr.shader.program);else{nn(Xt.shared.vao,".setVAO(null);");var cn=Xt.global.def("{}"),Ln=nn.def(fn,".id"),Tn=nn.def(cn,"[",Ln,"]");nn(Xt.cond(Tn).then(Tn,".call(this,a0);").else(Tn,"=",cn,"[",Ln,"]=",Xt.link(function(un){return Or(sn,Xt,Tr,un,1)}),"(",fn,");",Tn,".call(this,a0);"))}0<Object.keys(Tr.state).length&&nn(Xt.shared.current,".dirty=true;"),Xt.shared.vao&&nn(Xt.shared.vao,".setVAO(null);")}function bn(Xt,Tr,nn,fn){function cn(){return!0}Xt.batchId="a1",Dn(Xt,Tr),yr(Xt,Tr,nn,fn.attributes,cn),cr(Xt,Tr,nn,fn.uniforms,cn,!1),kr(Xt,Tr,Tr,nn)}function mn(Xt,Tr,nn,fn){function cn(hn){return hn.contextDep&&Tn||hn.propDep}function Ln(hn){return!cn(hn)}Dn(Xt,Tr);var Tn=nn.contextDep,un=Tr.def(),Pr=Tr.def();Xt.shared.props=Pr,Xt.batchId=un;var Er=Xt.scope(),_r=Xt.scope();Tr(Er.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",Pr,"=","a0","[",un,"];",_r,"}",Er.exit),nn.needsContext&&Fr(Xt,_r,nn.context),nn.needsFramebuffer&&Br(Xt,_r,nn.framebuffer),jr(Xt,_r,nn.state,cn),nn.profile&&cn(nn.profile)&&In(Xt,_r,nn,!1,!0),fn?(nn.useVAO?nn.drawVAO?cn(nn.drawVAO)?_r(Xt.shared.vao,".setVAO(",nn.drawVAO.append(Xt,_r),");"):Er(Xt.shared.vao,".setVAO(",nn.drawVAO.append(Xt,Er),");"):Er(Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"):(Er(Xt.shared.vao,".setVAO(null);"),yr(Xt,Er,nn,fn.attributes,Ln),yr(Xt,_r,nn,fn.attributes,cn)),cr(Xt,Er,nn,fn.uniforms,Ln,!1),cr(Xt,_r,nn,fn.uniforms,cn,!0),kr(Xt,Er,_r,nn)):(Tr=Xt.global.def("{}"),fn=nn.shader.progVar.append(Xt,_r),Pr=_r.def(fn,".id"),Er=_r.def(Tr,"[",Pr,"]"),_r(Xt.shared.gl,".useProgram(",fn,".program);","if(!",Er,"){",Er,"=",Tr,"[",Pr,"]=",Xt.link(function(hn){return Or(bn,Xt,nn,hn,2)}),"(",fn,");}",Er,".call(this,a0[",un,"],",un,");"))}function _n(Xt,Tr){function nn(Er){return Er.contextDep&&cn||Er.propDep}var fn=Xt.proc("batch",2);Xt.batchId="0",Dn(Xt,fn);var cn=!1,Ln=!0;Object.keys(Tr.context).forEach(function(Er){cn=cn||Tr.context[Er].propDep}),cn||(Fr(Xt,fn,Tr.context),Ln=!1);var Tn=Tr.framebuffer,un=!1;if(Tn?(Tn.propDep?cn=un=!0:Tn.contextDep&&cn&&(un=!0),un||Br(Xt,fn,Tn)):Br(Xt,fn,null),Tr.state.viewport&&Tr.state.viewport.propDep&&(cn=!0),xn(Xt,fn,Tr),jr(Xt,fn,Tr.state,function(Er){return!nn(Er)}),Tr.profile&&nn(Tr.profile)||In(Xt,fn,Tr,!1,"a1"),Tr.contextDep=cn,Tr.needsContext=Ln,Tr.needsFramebuffer=un,Ln=Tr.shader.progVar,Ln.contextDep&&cn||Ln.propDep)mn(Xt,fn,Tr,null);else if(Ln=Ln.append(Xt,fn),fn(Xt.shared.gl,".useProgram(",Ln,".program);"),Tr.shader.program)mn(Xt,fn,Tr,Tr.shader.program);else{fn(Xt.shared.vao,".setVAO(null);");var Tn=Xt.global.def("{}"),un=fn.def(Ln,".id"),Pr=fn.def(Tn,"[",un,"]");fn(Xt.cond(Pr).then(Pr,".call(this,a0,a1);").else(Pr,"=",Tn,"[",un,"]=",Xt.link(function(hn){return Or(mn,Xt,Tr,hn,2)}),"(",Ln,");",Pr,".call(this,a0,a1);"))}0<Object.keys(Tr.state).length&&fn(Xt.shared.current,".dirty=true;"),Xt.shared.vao&&fn(Xt.shared.vao,".setVAO(null);")}function Kn(Xt,Tr){function nn(un){var Pr=Tr.shader[un];Pr&&(Pr=Pr.append(Xt,fn),isNaN(Pr)?fn.set(cn.shader,"."+un,Pr):fn.set(cn.shader,"."+un,Xt.link(Pr,{stable:!0})))}var fn=Xt.proc("scope",3);Xt.batchId="a2";var cn=Xt.shared,Ln=cn.current;if(Fr(Xt,fn,Tr.context),Tr.framebuffer&&Tr.framebuffer.append(Xt,fn),W(Object.keys(Tr.state)).forEach(function(un){var Pr=Tr.state[un],Er=Pr.append(Xt,fn);A(Er)?Er.forEach(function(_r,hn){isNaN(_r)?fn.set(Xt.next[un],"["+hn+"]",_r):fn.set(Xt.next[un],"["+hn+"]",Xt.link(_r,{stable:!0}))}):re(Pr)?fn.set(cn.next,"."+un,Xt.link(Er,{stable:!0})):fn.set(cn.next,"."+un,Er)}),In(Xt,fn,Tr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var Pr=Tr.draw[un];Pr&&(Pr=Pr.append(Xt,fn),isNaN(Pr)?fn.set(cn.draw,"."+un,Pr):fn.set(cn.draw,"."+un,Xt.link(Pr),{stable:!0}))}),Object.keys(Tr.uniforms).forEach(function(un){var Pr=Tr.uniforms[un].append(Xt,fn);Array.isArray(Pr)&&(Pr="["+Pr.map(function(Er){return isNaN(Er)?Er:Xt.link(Er,{stable:!0})})+"]"),fn.set(cn.uniforms,"["+Xt.link(jt.id(un),{stable:!0})+"]",Pr)}),Object.keys(Tr.attributes).forEach(function(un){var Pr=Tr.attributes[un].append(Xt,fn),Er=Xt.scopeAttrib(un);Object.keys(new oa).forEach(function(_r){fn.set(Er,"."+_r,Pr[_r])})}),Tr.scopeVAO){var Tn=Tr.scopeVAO.append(Xt,fn);isNaN(Tn)?fn.set(cn.vao,".targetVAO",Tn):fn.set(cn.vao,".targetVAO",Xt.link(Tn,{stable:!0}))}nn("vert"),nn("frag"),0<Object.keys(Tr.state).length&&(fn(Ln,".dirty=true;"),fn.exit(Ln,".dirty=true;")),fn("a1(",Xt.shared.context,",a0,",Xt.batchId,");")}function na(Xt){if(typeof Xt=="object"&&!A(Xt)){for(var Tr=Object.keys(Xt),nn=0;nn<Tr.length;++nn)if(me.isDynamic(Xt[Tr[nn]]))return!0;return!1}}function ea(Xt,Tr,nn){function fn(hn,Fn){Tn.forEach(function(Gn){var dn=cn[Gn];me.isDynamic(dn)&&(dn=hn.invoke(Fn,dn),Fn(_r,".",Gn,"=",dn,";"))})}var cn=Tr.static[nn];if(cn&&na(cn)){var Ln=Xt.global,Tn=Object.keys(cn),un=!1,Pr=!1,Er=!1,_r=Xt.global.def("{}");Tn.forEach(function(hn){var Fn=cn[hn];if(me.isDynamic(Fn))typeof Fn=="function"&&(Fn=cn[hn]=me.unbox(Fn)),hn=K(Fn,null),un=un||hn.thisDep,Er=Er||hn.propDep,Pr=Pr||hn.contextDep;else{switch(Ln(_r,".",hn,"="),typeof Fn){case"number":Ln(Fn);break;case"string":Ln('"',Fn,'"');break;case"object":Array.isArray(Fn)&&Ln("[",Fn.join(),"]");break;default:Ln(Xt.link(Fn))}Ln(";")}}),Tr.dynamic[nn]=new me.DynamicVariable(4,{thisDep:un,contextDep:Pr,propDep:Er,ref:_r,append:fn}),delete Tr.static[nn]}}var oa=Dt.Record,$n={add:32774,subtract:32778,"reverse subtract":32779};Yt.ext_blend_minmax&&($n.min=32775,$n.max=32776);var Rr=Yt.angle_instanced_arrays,an=Yt.webgl_draw_buffers,rn=Yt.oes_vertex_array_object,vn={dirty:!0,profile:or.profile},Nn={},En=[],Cn={},Hn={};Ve("dither",3024),Ve("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),Ve("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),Ve("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),Ve("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),Ve("sample.alpha",32926),Ve("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),Ve("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ve("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]);var ra={gl:mt,context:Vt,strings:jt,next:Nn,current:vn,draw:Ot,elements:ct,buffer:dr,shader:St,attributes:Dt.state,vao:Dt,uniforms:Mt,framebuffer:wt,extensions:Yt,timer:Qt,isBufferArgs:V},Ea={primTypes:Qe,compareFuncs:Gt,blendFuncs:Ut,blendEquations:$n,stencilOps:_t,glTypes:Ue,orientationType:nr};an&&(Ea.backBuffer=[1029],Ea.drawBuffer=l(wr.maxDrawbuffers,function(Xt){return Xt===0?[0]:l(Xt,function(Tr){return 36064+Tr})}));var Va=0;return{next:Nn,current:vn,procs:function(){var Xt=Ft(),Tr=Xt.proc("poll"),nn=Xt.proc("refresh"),fn=Xt.block();Tr(fn),nn(fn);var Pr=Xt.shared,cn=Pr.gl,Ln=Pr.next,Tn=Pr.current;fn(Tn,".dirty=false;"),Br(Xt,Tr),Br(Xt,nn,null,!0);var un;Rr&&(un=Xt.link(Rr)),Yt.oes_vertex_array_object&&nn(Xt.link(Yt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Pr=nn.def(Pr.attributes),Er=nn.def(0),_r=Xt.cond(Er,".buffer");_r.then(cn,".enableVertexAttribArray(i);",cn,".bindBuffer(",34962,",",Er,".buffer.buffer);",cn,".vertexAttribPointer(i,",Er,".size,",Er,".type,",Er,".normalized,",Er,".stride,",Er,".offset);").else(cn,".disableVertexAttribArray(i);",cn,".vertexAttrib4f(i,",Er,".x,",Er,".y,",Er,".z,",Er,".w);",Er,".buffer=null;");var hn=Xt.link(wr.maxAttributes,{stable:!0});return nn("for(var i=0;i<",hn,";++i){",Er,"=",Pr,"[i];",_r,"}"),Rr&&nn("for(var i=0;i<",hn,";++i){",un,".vertexAttribDivisorANGLE(i,",Pr,"[i].divisor);","}"),nn(Xt.shared.vao,".currentVAO=null;",Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"),Object.keys(Cn).forEach(function(Fn){var Gn=Cn[Fn],dn=fn.def(Ln,".",Fn),zn=Xt.block();zn("if(",dn,"){",cn,".enable(",Gn,")}else{",cn,".disable(",Gn,")}",Tn,".",Fn,"=",dn,";"),nn(zn),Tr("if(",dn,"!==",Tn,".",Fn,"){",zn,"}")}),Object.keys(Hn).forEach(function(Fn){var Gn=Hn[Fn],dn=vn[Fn],zn,Qn,sa=Xt.block();sa(cn,".",Gn,"("),A(dn)?(Gn=dn.length,zn=Xt.global.def(Ln,".",Fn),Qn=Xt.global.def(Tn,".",Fn),sa(l(Gn,function(aa){return zn+"["+aa+"]"}),");",l(Gn,function(aa){return Qn+"["+aa+"]="+zn+"["+aa+"];"}).join("")),Tr("if(",l(Gn,function(aa){return zn+"["+aa+"]!=="+Qn+"["+aa+"]"}).join("||"),"){",sa,"}")):(zn=fn.def(Ln,".",Fn),Qn=fn.def(Tn,".",Fn),sa(zn,");",Tn,".",Fn,"=",zn,";"),Tr("if(",zn,"!==",Qn,"){",sa,"}")),nn(sa)}),Xt.compile()}(),compile:function(Xt,Tr,nn,fn,cn){var Ln=Ft();Ln.stats=Ln.link(cn),Object.keys(Tr.static).forEach(function(un){ea(Ln,Tr,un)}),Rt.forEach(function(un){ea(Ln,Xt,un)});var Tn=Kr(Xt,Tr,nn,fn,Ln);return Tn.shader.program&&(Tn.shader.program.attributes.sort(function(un,Pr){return un.name<Pr.name?-1:1}),Tn.shader.program.uniforms.sort(function(un,Pr){return un.name<Pr.name?-1:1})),yn(Ln,Tn),Kn(Ln,Tn),_n(Ln,Tn),ae(Ln.compile(),{destroy:function(){Tn.shader.program.destroy()}})}}}function le(mt,jt){for(var Yt=0;Yt<mt.length;++Yt)if(mt[Yt]===jt)return Yt;return-1}var ae=function(mt,jt){for(var Yt=Object.keys(jt),wr=0;wr<Yt.length;++wr)mt[Yt[wr]]=jt[Yt[wr]];return mt},he=0,me={DynamicVariable:U,define:function(mt,jt){return new U(mt,p(jt+""))},isDynamic:function(mt){return typeof mt=="function"&&!mt._reglType||mt instanceof U},unbox:L,accessor:p},Me={next:typeof requestAnimationFrame=="function"?function(mt){return requestAnimationFrame(mt)}:function(mt){return setTimeout(mt,16)},cancel:typeof cancelAnimationFrame=="function"?function(mt){return cancelAnimationFrame(mt)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ie=s();Ie.zero=s();var _e=function(mt,jt){var Yt=1;jt.ext_texture_filter_anisotropic&&(Yt=mt.getParameter(34047));var wr=1,dr=1;jt.webgl_draw_buffers&&(wr=mt.getParameter(34852),dr=mt.getParameter(36063));var ct=!!jt.oes_texture_float;if(ct){ct=mt.createTexture(),mt.bindTexture(3553,ct),mt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ot=mt.createFramebuffer();if(mt.bindFramebuffer(36160,ot),mt.framebufferTexture2D(36160,36064,3553,ct,0),mt.bindTexture(3553,null),mt.checkFramebufferStatus(36160)!==36053)ct=!1;else{mt.viewport(0,0,1,1),mt.clearColor(1,0,0,1),mt.clear(16384);var wt=Ie.allocType(5126,4);mt.readPixels(0,0,1,1,6408,5126,wt),mt.getError()?ct=!1:(mt.deleteFramebuffer(ot),mt.deleteTexture(ct),ct=wt[0]===1),Ie.freeType(wt)}}return wt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(wt=mt.createTexture(),ot=Ie.allocType(5121,36),mt.activeTexture(33984),mt.bindTexture(34067,wt),mt.texImage2D(34069,0,6408,3,3,0,6408,5121,ot),Ie.freeType(ot),mt.bindTexture(34067,null),mt.deleteTexture(wt),wt=!mt.getError()),{colorBits:[mt.getParameter(3410),mt.getParameter(3411),mt.getParameter(3412),mt.getParameter(3413)],depthBits:mt.getParameter(3414),stencilBits:mt.getParameter(3415),subpixelBits:mt.getParameter(3408),extensions:Object.keys(jt).filter(function(Mt){return!!jt[Mt]}),maxAnisotropic:Yt,maxDrawbuffers:wr,maxColorAttachments:dr,pointSizeDims:mt.getParameter(33901),lineWidthDims:mt.getParameter(33902),maxViewportDims:mt.getParameter(3386),maxCombinedTextureUnits:mt.getParameter(35661),maxCubeMapSize:mt.getParameter(34076),maxRenderbufferSize:mt.getParameter(34024),maxTextureUnits:mt.getParameter(34930),maxTextureSize:mt.getParameter(3379),maxAttributes:mt.getParameter(34921),maxVertexUniforms:mt.getParameter(36347),maxVertexTextureUnits:mt.getParameter(35660),maxVaryingVectors:mt.getParameter(36348),maxFragmentUniforms:mt.getParameter(36349),glsl:mt.getParameter(35724),renderer:mt.getParameter(7937),vendor:mt.getParameter(7936),version:mt.getParameter(7938),readFloat:ct,npotTextureCube:wt}},Te=function(mt){return mt instanceof Uint8Array||mt instanceof Uint16Array||mt instanceof Uint32Array||mt instanceof Int8Array||mt instanceof Int16Array||mt instanceof Int32Array||mt instanceof Float32Array||mt instanceof Float64Array||mt instanceof Uint8ClampedArray},ye=function(mt){return Object.keys(mt).map(function(jt){return mt[jt]})},Ae={shape:function(mt){for(var jt=[];mt.length;mt=mt[0])jt.push(mt.length);return jt},flatten:function(mt,jt,Yt,wr){var dr=1;if(jt.length)for(var ct=0;ct<jt.length;++ct)dr*=jt[ct];else dr=0;switch(Yt=wr||Ie.allocType(Yt,dr),jt.length){case 0:break;case 1:for(wr=jt[0],jt=0;jt<wr;++jt)Yt[jt]=mt[jt];break;case 2:for(wr=jt[0],jt=jt[1],ct=dr=0;ct<wr;++ct)for(var ot=mt[ct],wt=0;wt<jt;++wt)Yt[dr++]=ot[wt];break;case 3:u(mt,jt[0],jt[1],jt[2],Yt,0);break;default:m(mt,jt,0,Yt,0)}return Yt}},Be={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},He=Ae.flatten,ut=Ae.shape,et=[];et[5120]=1,et[5122]=2,et[5124]=4,et[5121]=1,et[5123]=2,et[5125]=4,et[5126]=4;var Qe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ft=new Uint32Array(qe.buffer),gt=[9984,9986,9985,9987],xt=[0,6409,6410,6407,6408],Ct={};Ct[6409]=Ct[6406]=Ct[6402]=1,Ct[34041]=Ct[6410]=2,Ct[6407]=Ct[35904]=3,Ct[6408]=Ct[35906]=4;var Je=E("HTMLCanvasElement"),ze=E("OffscreenCanvas"),Fe=E("CanvasRenderingContext2D"),$e=E("ImageBitmap"),at=E("HTMLImageElement"),Xe=E("HTMLVideoElement"),Pe=Object.keys(Be).concat([Je,ze,Fe,$e,at,Xe]),we=[];we[5121]=1,we[5126]=4,we[36193]=2,we[5123]=2,we[5125]=4;var ue=[];ue[32854]=2,ue[32855]=2,ue[36194]=2,ue[34041]=4,ue[33776]=.5,ue[33777]=.5,ue[33778]=1,ue[33779]=1,ue[35986]=.5,ue[35987]=1,ue[34798]=1,ue[35840]=.5,ue[35841]=.25,ue[35842]=.5,ue[35843]=.25,ue[36196]=.5;var ge=[];ge[32854]=2,ge[32855]=2,ge[36194]=2,ge[33189]=2,ge[36168]=1,ge[34041]=4,ge[35907]=4,ge[34836]=16,ge[34842]=8,ge[34843]=6;var Le=function(mt,jt,Yt,wr,dr){function ct(Ot){this.id=Dt++,this.refCount=1,this.renderbuffer=Ot,this.format=32854,this.height=this.width=0,dr.profile&&(this.stats={size:0})}function ot(Ot){var Vt=Ot.renderbuffer;mt.bindRenderbuffer(36161,null),mt.deleteRenderbuffer(Vt),Ot.renderbuffer=null,Ot.refCount=0,delete St[Ot.id],wr.renderbufferCount--}var wt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};jt.ext_srgb&&(wt.srgba=35907),jt.ext_color_buffer_half_float&&(wt.rgba16f=34842,wt.rgb16f=34843),jt.webgl_color_buffer_float&&(wt.rgba32f=34836);var Mt=[];Object.keys(wt).forEach(function(Ot){Mt[wt[Ot]]=Ot});var Dt=0,St={};return ct.prototype.decRef=function(){0>=--this.refCount&&ot(this)},dr.profile&&(wr.getTotalRenderbufferSize=function(){var Ot=0;return Object.keys(St).forEach(function(Vt){Ot+=St[Vt].stats.size}),Ot}),{create:function(Ot,Vt){function Qt(or,Mr){var Ve=0,Ge=0,Ft=32854;if(typeof or=="object"&&or?("shape"in or?(Ge=or.shape,Ve=Ge[0]|0,Ge=Ge[1]|0):("radius"in or&&(Ve=Ge=or.radius|0),"width"in or&&(Ve=or.width|0),"height"in or&&(Ge=or.height|0)),"format"in or&&(Ft=wt[or.format])):typeof or=="number"?(Ve=or|0,Ge=typeof Mr=="number"?Mr|0:Ve):or||(Ve=Ge=1),Ve!==Kt.width||Ge!==Kt.height||Ft!==Kt.format)return Qt.width=Kt.width=Ve,Qt.height=Kt.height=Ge,Kt.format=Ft,mt.bindRenderbuffer(36161,Kt.renderbuffer),mt.renderbufferStorage(36161,Ft,Ve,Ge),dr.profile&&(Kt.stats.size=ge[Kt.format]*Kt.width*Kt.height),Qt.format=Mt[Kt.format],Qt}var Kt=new ct(mt.createRenderbuffer());return St[Kt.id]=Kt,wr.renderbufferCount++,Qt(Ot,Vt),Qt.resize=function(or,Mr){var Ve=or|0,Ge=Mr|0||Ve;return Ve===Kt.width&&Ge===Kt.height||(Qt.width=Kt.width=Ve,Qt.height=Kt.height=Ge,mt.bindRenderbuffer(36161,Kt.renderbuffer),mt.renderbufferStorage(36161,Kt.format,Ve,Ge),dr.profile&&(Kt.stats.size=ge[Kt.format]*Kt.width*Kt.height)),Qt},Qt._reglType="renderbuffer",Qt._renderbuffer=Kt,dr.profile&&(Qt.stats=Kt.stats),Qt.destroy=function(){Kt.decRef()},Qt},clear:function(){ye(St).forEach(ot)},restore:function(){ye(St).forEach(function(Ot){Ot.renderbuffer=mt.createRenderbuffer(),mt.bindRenderbuffer(36161,Ot.renderbuffer),mt.renderbufferStorage(36161,Ot.format,Ot.width,Ot.height)}),mt.bindRenderbuffer(36161,null)}}},ke=[];ke[6408]=4,ke[6407]=3;var it=[];it[5121]=1,it[5126]=4,it[36193]=2;var lt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],bt=["x","y","z","w"],Rt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ut={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},_t={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},nr={cw:2304,ccw:2305},lr=new X(!1,!1,!1,function(){}),zr=function(mt,jt){function Yt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function wr(St,Ot,Vt){var Qt=ot.pop()||new Yt;Qt.startQueryIndex=St,Qt.endQueryIndex=Ot,Qt.sum=0,Qt.stats=Vt,wt.push(Qt)}if(!jt.ext_disjoint_timer_query)return null;var dr=[],ct=[],ot=[],wt=[],Mt=[],Dt=[];return{beginQuery:function(St){var Ot=dr.pop()||jt.ext_disjoint_timer_query.createQueryEXT();jt.ext_disjoint_timer_query.beginQueryEXT(35007,Ot),ct.push(Ot),wr(ct.length-1,ct.length,St)},endQuery:function(){jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:wr,update:function(){var St,Ot;if(St=ct.length,St!==0){Dt.length=Math.max(Dt.length,St+1),Mt.length=Math.max(Mt.length,St+1),Mt[0]=0;var Vt=Dt[0]=0;for(Ot=St=0;Ot<ct.length;++Ot){var Qt=ct[Ot];jt.ext_disjoint_timer_query.getQueryObjectEXT(Qt,34919)?(Vt+=jt.ext_disjoint_timer_query.getQueryObjectEXT(Qt,34918),dr.push(Qt)):ct[St++]=Qt,Mt[Ot+1]=Vt,Dt[Ot+1]=St}for(ct.length=St,Ot=St=0;Ot<wt.length;++Ot){var Vt=wt[Ot],Kt=Vt.startQueryIndex,Qt=Vt.endQueryIndex;Vt.sum+=Mt[Qt]-Mt[Kt],Kt=Dt[Kt],Qt=Dt[Qt],Qt===Kt?(Vt.stats.gpuTime+=Vt.sum/1e6,ot.push(Vt)):(Vt.startQueryIndex=Kt,Vt.endQueryIndex=Qt,wt[St++]=Vt)}wt.length=St}},getNumPendingQueries:function(){return ct.length},clear:function(){dr.push.apply(dr,ct);for(var St=0;St<dr.length;St++)jt.ext_disjoint_timer_query.deleteQueryEXT(dr[St]);ct.length=0,dr.length=0},restore:function(){ct.length=0,dr.length=0}}};return function(mt){function jt(){if(In.length===0)Ft&&Ft.update(),Or=null;else{Or=Me.next(jt),St();for(var yn=In.length-1;0<=yn;--yn){var bn=In[yn];bn&&bn(tr,null,0)}Qt.flush(),Ft&&Ft.update()}}function Yt(){!Or&&0<In.length&&(Or=Me.next(jt))}function wr(){Or&&(Me.cancel(jt),Or=null)}function dr(yn){yn.preventDefault(),wr(),yr.forEach(function(bn){bn()})}function ct(yn){Qt.getError(),or.restore(),br.restore(),Nt.restore(),vr.restore(),Kr.restore(),Fr.restore(),pr.restore(),Ft&&Ft.restore(),Br.procs.refresh(),Yt(),cr.forEach(function(bn){bn()})}function ot(yn){function bn(vn,Nn){var En={},Cn={};return Object.keys(vn).forEach(function(Hn){var ra=vn[Hn];if(me.isDynamic(ra))Cn[Hn]=me.unbox(ra,Hn);else{if(Nn&&Array.isArray(ra)){for(var Ea=0;Ea<ra.length;++Ea)if(me.isDynamic(ra[Ea])){Cn[Hn]=me.unbox(ra,Hn);return}}En[Hn]=ra}}),{dynamic:Cn,static:En}}function mn(vn){for(;rn.length<vn;)rn.push(null);return rn}var _n=bn(yn.context||{},!0),Kn=bn(yn.uniforms||{},!0),na=bn(yn.attributes||{},!1);yn=bn(function(vn){function Nn(Cn){if(Cn in En){var Hn=En[Cn];delete En[Cn],Object.keys(Hn).forEach(function(ra){En[Cn+"."+ra]=Hn[ra]})}}var En=ae({},vn);return delete En.uniforms,delete En.attributes,delete En.context,delete En.vao,"stencil"in En&&En.stencil.op&&(En.stencil.opBack=En.stencil.opFront=En.stencil.op,delete En.stencil.op),Nn("blend"),Nn("depth"),Nn("cull"),Nn("stencil"),Nn("polygonOffset"),Nn("scissor"),Nn("sample"),"vao"in vn&&(En.vao=vn.vao),En}(yn),!1);var ea={gpuTime:0,cpuTime:0,count:0},oa=Br.compile(yn,na,Kn,_n,ea),$n=oa.draw,Rr=oa.batch,an=oa.scope,rn=[];return ae(function(vn,Nn){var En;if(typeof vn=="function")return an.call(this,null,vn,0);if(typeof Nn=="function")if(typeof vn=="number")for(En=0;En<vn;++En)an.call(this,null,Nn,En);else if(Array.isArray(vn))for(En=0;En<vn.length;++En)an.call(this,vn[En],Nn,En);else return an.call(this,vn,Nn,0);else if(typeof vn=="number"){if(0<vn)return Rr.call(this,mn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return Rr.call(this,vn,vn.length)}else return $n.call(this,vn)},{stats:ea,destroy:function(){oa.destroy()}})}function wt(yn,bn){var mn=0;Br.procs.poll();var _n=bn.color;_n&&(Qt.clearColor(+_n[0]||0,+_n[1]||0,+_n[2]||0,+_n[3]||0),mn|=16384),"depth"in bn&&(Qt.clearDepth(+bn.depth),mn|=256),"stencil"in bn&&(Qt.clearStencil(bn.stencil|0),mn|=1024),Qt.clear(mn)}function Mt(yn){return In.push(yn),Yt(),{cancel:function(){function bn(){var _n=le(In,bn);In[_n]=In[In.length-1],--In.length,0>=In.length&&wr()}var mn=le(In,yn);In[mn]=bn}}}function Dt(){var yn=jr.viewport,bn=jr.scissor_box;yn[0]=yn[1]=bn[0]=bn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=yn[2]=bn[2]=Qt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=yn[3]=bn[3]=Qt.drawingBufferHeight}function St(){tr.tick+=1,tr.time=Vt(),Dt(),Br.procs.poll()}function Ot(){vr.refresh(),Dt(),Br.procs.refresh(),Ft&&Ft.update()}function Vt(){return(xe()-kt)/1e3}if(mt=t(mt),!mt)return null;var Qt=mt.gl,Kt=Qt.getContextAttributes();Qt.isContextLost();var or=r(Qt,mt);if(!or)return null;var xn=n(),Mr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ve=mt.cachedCode||{},Ge=or.extensions,Ft=zr(Qt,Ge),kt=xe(),sr=Qt.drawingBufferWidth,Zt=Qt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:sr,viewportHeight:Zt,framebufferWidth:sr,framebufferHeight:Zt,drawingBufferWidth:sr,drawingBufferHeight:Zt,pixelRatio:mt.pixelRatio},sr={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=_e(Qt,Ge),Nt=o(Qt,Mr,mt,function(yn){return pr.destroyBuffer(yn)}),hr=d(Qt,Ge,Nt,Mr),pr=I(Qt,Ge,rr,Mr,Nt,hr,sr),br=z(Qt,xn,Mr,mt),vr=k(Qt,Ge,rr,function(){Br.procs.poll()},tr,Mr,mt),Kr=Le(Qt,Ge,rr,Mr,mt),Fr=_(Qt,Ge,rr,vr,Kr,Mr),Br=q(Qt,xn,Ge,rr,Nt,hr,vr,Fr,{},pr,br,sr,tr,Ft,Ve,mt),xn=O(Qt,Fr,Br.procs.poll,tr),jr=Br.next,Dn=Qt.canvas,In=[],yr=[],cr=[],kr=[mt.onDestroy],Or=null;Dn&&(Dn.addEventListener("webglcontextlost",dr,!1),Dn.addEventListener("webglcontextrestored",ct,!1));var sn=Fr.setFBO=ot({framebuffer:me.define.call(null,1,"framebuffer")});return Ot(),Kt=ae(ot,{clear:function(yn){if("framebuffer"in yn)if(yn.framebuffer&&yn.framebuffer_reglType==="framebufferCube")for(var bn=0;6>bn;++bn)sn(ae({framebuffer:yn.framebuffer.faces[bn]},yn),wt);else sn(yn,wt);else wt(null,yn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:ot({}),buffer:function(yn){return Nt.create(yn,34962,!1,!1)},elements:function(yn){return hr.create(yn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Kr.create,framebuffer:Fr.create,framebufferCube:Fr.createCube,vao:pr.createVAO,attributes:Kt,frame:Mt,on:function(yn,bn){var mn;switch(yn){case"frame":return Mt(bn);case"lost":mn=yr;break;case"restore":mn=cr;break;case"destroy":mn=kr}return mn.push(bn),{cancel:function(){for(var _n=0;_n<mn.length;++_n)if(mn[_n]===bn){mn[_n]=mn[mn.length-1],mn.pop();break}}}},limits:rr,hasExtension:function(yn){return 0<=rr.extensions.indexOf(yn.toLowerCase())},read:xn,destroy:function(){In.length=0,wr(),Dn&&(Dn.removeEventListener("webglcontextlost",dr),Dn.removeEventListener("webglcontextrestored",ct)),br.clear(),Fr.clear(),Kr.clear(),pr.clear(),vr.clear(),hr.clear(),Nt.clear(),Ft&&Ft.clear(),kr.forEach(function(yn){yn()})},_gl:Qt,_refresh:Ot,poll:function(){St(),Ft&&Ft.update()},now:Vt,stats:Mr,getCachedCode:function(){return Ve},preloadCachedCode:function(yn){Object.entries(yn).forEach(function(bn){Ve[bn[0]]=bn[1]})}}),mt.onDone(null,Kt),Kt}})},71665:function(G,U,e){var p=e(12856),L=p.Buffer;function n(w,v){for(var y in w)v[y]=w[y]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?G.exports=p:(n(p,U),U.Buffer=C);function C(w,v,y){return L(w,v,y)}C.prototype=Object.create(L.prototype),n(L,C),C.from=function(w,v,y){if(typeof w=="number")throw new TypeError("Argument must not be a number");return L(w,v,y)},C.alloc=function(w,v,y){if(typeof w!="number")throw new TypeError("Argument must be a number");var t=L(w);return v!==void 0?typeof y=="string"?t.fill(v,y):t.fill(v):t.fill(0),t},C.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return L(w)},C.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(w)}},21630:function(G,U,e){G.exports=n;var p=e(15398).EventEmitter,L=e(42018);L(n,p),n.Readable=e(40410),n.Writable=e(37493),n.Duplex=e(37865),n.Transform=e(74308),n.PassThrough=e(66897),n.finished=e(12726),n.pipeline=e(10168),n.Stream=n;function n(){p.call(this)}n.prototype.pipe=function(C,w){var v=this;function y(u){C.writable&&C.write(u)===!1&&v.pause&&v.pause()}v.on("data",y);function t(){v.readable&&v.resume&&v.resume()}C.on("drain",t),!C._isStdio&&(!w||w.end!==!1)&&(v.on("end",l),v.on("close",a));var r=!1;function l(){r||(r=!0,C.end())}function a(){r||(r=!0,typeof C.destroy=="function"&&C.destroy())}function s(u){if(c(),p.listenerCount(this,"error")===0)throw u}v.on("error",s),C.on("error",s);function c(){v.removeListener("data",y),C.removeListener("drain",t),v.removeListener("end",l),v.removeListener("close",a),v.removeListener("error",s),C.removeListener("error",s),v.removeListener("end",c),v.removeListener("close",c),C.removeListener("close",c)}return v.on("end",c),v.on("close",c),C.on("close",c),C.emit("pipe",v),C}},74322:function(G){function U(v,y){v.prototype=Object.create(y.prototype),v.prototype.constructor=v,v.__proto__=y}var e={};function p(v,y,t){t||(t=Error);function r(a,s,c){return typeof y=="string"?y:y(a,s,c)}var l=function(a){U(s,a);function s(c,u,m){return a.call(this,r(c,u,m))||this}return s}(t);l.prototype.name=t.name,l.prototype.code=v,e[v]=l}function L(v,y){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(y," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(y," ").concat(v[0]," or ").concat(v[1]):"of ".concat(y," ").concat(v[0])}else return"of ".concat(y," ").concat(String(v))}function n(v,y,t){return v.substr(!t||t<0?0:+t,y.length)===y}function C(v,y,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-y.length,t)===y}function w(v,y,t){return typeof t!="number"&&(t=0),t+y.length>v.length?!1:v.indexOf(y,t)!==-1}p("ERR_INVALID_OPT_VALUE",function(v,y){return'The value "'+y+'" is invalid for option "'+v+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(v,y,t){var r;typeof y=="string"&&n(y,"not ")?(r="must not be",y=y.replace(/^not /,"")):r="must be";var l;if(C(v," argument"))l="The ".concat(v," ").concat(r," ").concat(L(y,"type"));else{var a=w(v,".")?"property":"argument";l='The "'.concat(v,'" ').concat(a," ").concat(r," ").concat(L(y,"type"))}return l+=". Received type ".concat(typeof t),l},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.q=e},37865:function(G,U,e){var p=e(90386),L=Object.keys||function(a){var s=[];for(var c in a)s.push(c);return s};G.exports=t;var n=e(40410),C=e(37493);e(42018)(t,n);for(var w=L(C.prototype),v=0;v<w.length;v++){var y=w[v];t.prototype[y]||(t.prototype[y]=C.prototype[y])}function t(a){if(!(this instanceof t))return new t(a);n.call(this,a),C.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||p.nextTick(l,this)}function l(a){a.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})},66897:function(G,U,e){G.exports=L;var p=e(74308);e(42018)(L,p);function L(n){if(!(this instanceof L))return new L(n);p.call(this,n)}L.prototype._transform=function(n,C,w){w(null,n)}},40410:function(G,U,e){var p=e(90386);G.exports=i;var L;i.ReadableState=b,e(15398).EventEmitter;var n=function(q,le){return q.listeners(le).length},C=e(71405),w=e(12856).Buffer,v=e.g.Uint8Array||function(){};function y(K){return w.from(K)}function t(K){return w.isBuffer(K)||K instanceof v}var r=e(40964),l;r&&r.debuglog?l=r.debuglog("stream"):l=function(){};var a=e(31125),s=e(65756),c=e(56306),u=c.getHighWaterMark,m=e(74322).q,h=m.ERR_INVALID_ARG_TYPE,T=m.ERR_STREAM_PUSH_AFTER_EOF,f=m.ERR_METHOD_NOT_IMPLEMENTED,o=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,M,A;e(42018)(i,C);var E=s.errorOrDestroy,g=["error","close","destroy","pause","resume"];function S(K,q,le){if(typeof K.prependListener=="function")return K.prependListener(q,le);!K._events||!K._events[q]?K.on(q,le):Array.isArray(K._events[q])?K._events[q].unshift(le):K._events[q]=[le,K._events[q]]}function b(K,q,le){L=L||e(37865),K=K||{},typeof le!="boolean"&&(le=q instanceof L),this.objectMode=!!K.objectMode,le&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=u(this,K,"readableHighWaterMark",le),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(d||(d=e(68019).s),this.decoder=new d(K.encoding),this.encoding=K.encoding)}function i(K){if(L=L||e(37865),!(this instanceof i))return new i(K);var q=this instanceof L;this._readableState=new b(K,this,q),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),C.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),i.prototype.destroy=s.destroy,i.prototype._undestroy=s.undestroy,i.prototype._destroy=function(K,q){q(K)},i.prototype.push=function(K,q){var le=this._readableState,ae;return le.objectMode?ae=!0:typeof K=="string"&&(q=q||le.defaultEncoding,q!==le.encoding&&(K=w.from(K,q),q=""),ae=!0),P(this,K,q,!1,ae)},i.prototype.unshift=function(K){return P(this,K,null,!0,!1)};function P(K,q,le,ae,he){l("readableAddChunk",q);var me=K._readableState;if(q===null)me.reading=!1,z(K,me);else{var Me;if(he||(Me=k(me,q)),Me)E(K,Me);else if(me.objectMode||q&&q.length>0)if(typeof q!="string"&&!me.objectMode&&Object.getPrototypeOf(q)!==w.prototype&&(q=y(q)),ae)me.endEmitted?E(K,new o):x(K,me,q,!0);else if(me.ended)E(K,new T);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!le?(q=me.decoder.write(q),me.objectMode||q.length!==0?x(K,me,q,!1):N(K,me)):x(K,me,q,!1)}else ae||(me.reading=!1,N(K,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function x(K,q,le,ae){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,K.emit("data",le)):(q.length+=q.objectMode?1:le.length,ae?q.buffer.unshift(le):q.buffer.push(le),q.needReadable&&O(K)),N(K,q)}function k(K,q){var le;return!t(q)&&typeof q!="string"&&q!==void 0&&!K.objectMode&&(le=new h("chunk",["string","Buffer","Uint8Array"],q)),le}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(K){d||(d=e(68019).s);var q=new d(K);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ae="";le!==null;)ae+=q.write(le.data),le=le.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var _=1073741824;function B(K){return K>=_?K=_:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function I(K,q){return K<=0||q.length===0&&q.ended?0:q.objectMode?1:K!==K?q.flowing&&q.length?q.buffer.head.data.length:q.length:(K>q.highWaterMark&&(q.highWaterMark=B(K)),K<=q.length?K:q.ended?q.length:(q.needReadable=!0,0))}i.prototype.read=function(K){l("read",K),K=parseInt(K,10);var q=this._readableState,le=K;if(K!==0&&(q.emittedReadable=!1),K===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return l("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?X(this):O(this),null;if(K=I(K,q),K===0&&q.ended)return q.length===0&&X(this),null;var ae=q.needReadable;l("need readable",ae),(q.length===0||q.length-K<q.highWaterMark)&&(ae=!0,l("length less than watermark",ae)),q.ended||q.reading?(ae=!1,l("reading or ended",ae)):ae&&(l("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(K=I(le,q)));var he;return K>0?he=W(K,q):he=null,he===null?(q.needReadable=q.length<=q.highWaterMark,K=0):(q.length-=K,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),le!==K&&q.ended&&X(this)),he!==null&&this.emit("data",he),he};function z(K,q){if(l("onEofChunk"),!q.ended){if(q.decoder){var le=q.decoder.end();le&&le.length&&(q.buffer.push(le),q.length+=q.objectMode?1:le.length)}q.ended=!0,q.sync?O(K):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,F(K)))}}function O(K){var q=K._readableState;l("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(l("emitReadable",q.flowing),q.emittedReadable=!0,p.nextTick(F,K))}function F(K){var q=K._readableState;l("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(K.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,V(K)}function N(K,q){q.readingMore||(q.readingMore=!0,p.nextTick(Q,K,q))}function Q(K,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var le=q.length;if(l("maybeReadMore read 0"),K.read(0),le===q.length)break}q.readingMore=!1}i.prototype._read=function(K){E(this,new f("_read()"))},i.prototype.pipe=function(K,q){var le=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=K;break;case 1:ae.pipes=[ae.pipes,K];break;default:ae.pipes.push(K);break}ae.pipesCount+=1,l("pipe count=%d opts=%j",ae.pipesCount,q);var he=(!q||q.end!==!1)&&K!==p.stdout&&K!==p.stderr,me=he?xe:De;ae.endEmitted?p.nextTick(me):le.once("end",me),K.on("unpipe",Me);function Me(He,ut){l("onunpipe"),He===le&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,Te())}function xe(){l("onend"),K.end()}var Ie=$(le);K.on("drain",Ie);var _e=!1;function Te(){l("cleanup"),K.removeListener("close",Be),K.removeListener("finish",Ue),K.removeListener("drain",Ie),K.removeListener("error",Ae),K.removeListener("unpipe",Me),le.removeListener("end",xe),le.removeListener("end",De),le.removeListener("data",ye),_e=!0,ae.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&Ie()}le.on("data",ye);function ye(He){l("ondata");var ut=K.write(He);l("dest.write",ut),ut===!1&&((ae.pipesCount===1&&ae.pipes===K||ae.pipesCount>1&&ie(ae.pipes,K)!==-1)&&!_e&&(l("false write response, pause",ae.awaitDrain),ae.awaitDrain++),le.pause())}function Ae(He){l("onerror",He),De(),K.removeListener("error",Ae),n(K,"error")===0&&E(K,He)}S(K,"error",Ae);function Be(){K.removeListener("finish",Ue),De()}K.once("close",Be);function Ue(){l("onfinish"),K.removeListener("close",Be),De()}K.once("finish",Ue);function De(){l("unpipe"),le.unpipe(K)}return K.emit("pipe",le),ae.flowing||(l("pipe resume"),le.resume()),K};function $(K){return function(){var le=K._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&n(K,"data")&&(le.flowing=!0,V(K))}}i.prototype.unpipe=function(K){var q=this._readableState,le={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return K&&K!==q.pipes?this:(K||(K=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,K&&K.emit("unpipe",this,le),this);if(!K){var ae=q.pipes,he=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var me=0;me<he;me++)ae[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=ie(q.pipes,K);return Me===-1?this:(q.pipes.splice(Me,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),K.emit("unpipe",this,le),this)},i.prototype.on=function(K,q){var le=C.prototype.on.call(this,K,q),ae=this._readableState;return K==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):K==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,l("on readable",ae.length,ae.reading),ae.length?O(this):ae.reading||p.nextTick(ee,this)),le},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(K,q){var le=C.prototype.removeListener.call(this,K,q);return K==="readable"&&p.nextTick(j,this),le},i.prototype.removeAllListeners=function(K){var q=C.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&p.nextTick(j,this),q};function j(K){var q=K._readableState;q.readableListening=K.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:K.listenerCount("data")>0&&K.resume()}function ee(K){l("readable nexttick read 0"),K.read(0)}i.prototype.resume=function(){var K=this._readableState;return K.flowing||(l("resume"),K.flowing=!K.readableListening,oe(this,K)),K.paused=!1,this};function oe(K,q){q.resumeScheduled||(q.resumeScheduled=!0,p.nextTick(Y,K,q))}function Y(K,q){l("resume",q.reading),q.reading||K.read(0),q.resumeScheduled=!1,K.emit("resume"),V(K),q.flowing&&!q.reading&&K.read(0)}i.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(K){var q=K._readableState;for(l("flow",q.flowing);q.flowing&&K.read()!==null;);}i.prototype.wrap=function(K){var q=this,le=this._readableState,ae=!1;K.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&q.push(Me)}q.push(null)}),K.on("data",function(Me){if(l("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var xe=q.push(Me);xe||(ae=!0,K.pause())}});for(var he in K)this[he]===void 0&&typeof K[he]=="function"&&(this[he]=function(xe){return function(){return K[xe].apply(K,arguments)}}(he));for(var me=0;me<g.length;me++)K.on(g[me],this.emit.bind(this,g[me]));return this._read=function(Me){l("wrapped _read",Me),ae&&(ae=!1,K.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=e(68221)),M(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),i._fromList=W,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function W(K,q){if(q.length===0)return null;var le;return q.objectMode?le=q.buffer.shift():!K||K>=q.length?(q.decoder?le=q.buffer.join(""):q.buffer.length===1?le=q.buffer.first():le=q.buffer.concat(q.length),q.buffer.clear()):le=q.buffer.consume(K,q.decoder),le}function X(K){var q=K._readableState;l("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,p.nextTick(re,q,K))}function re(K,q){if(l("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,q.readable=!1,q.emit("end"),K.autoDestroy)){var le=q._writableState;(!le||le.autoDestroy&&le.finished)&&q.destroy()}}typeof Symbol=="function"&&(i.from=function(K,q){return A===void 0&&(A=e(31748)),A(i,K,q)});function ie(K,q){for(var le=0,ae=K.length;le<ae;le++)if(K[le]===q)return le;return-1}},74308:function(G,U,e){G.exports=t;var p=e(74322).q,L=p.ERR_METHOD_NOT_IMPLEMENTED,n=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=p.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function y(a,s){var c=this._transformState;c.transforming=!1;var u=c.writecb;if(u===null)return this.emit("error",new n);c.writechunk=null,c.writecb=null,s!=null&&this.push(s),u(a);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(a){if(!(this instanceof t))return new t(a);v.call(this,a),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",r)}function r(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(s,c){l(a,s,c)}):l(this,null,null)}t.prototype.push=function(a,s){return this._transformState.needTransform=!1,v.prototype.push.call(this,a,s)},t.prototype._transform=function(a,s,c){c(new L("_transform()"))},t.prototype._write=function(a,s,c){var u=this._transformState;if(u.writecb=c,u.writechunk=a,u.writeencoding=s,!u.transforming){var m=this._readableState;(u.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(a){var s=this._transformState;s.writechunk!==null&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},t.prototype._destroy=function(a,s){v.prototype._destroy.call(this,a,function(c){s(c)})};function l(a,s,c){if(s)return a.emit("error",s);if(c!=null&&a.push(c),a._writableState.length)throw new w;if(a._transformState.transforming)throw new C;return a.push(null)}},37493:function(G,U,e){var p=e(90386);G.exports=b;function L(V){var W=this;this.next=null,this.entry=null,this.finish=function(){Y(W,V)}}var n;b.WritableState=g;var C={deprecate:e(20588)},w=e(71405),v=e(12856).Buffer,y=e.g.Uint8Array||function(){};function t(V){return v.from(V)}function r(V){return v.isBuffer(V)||V instanceof y}var l=e(65756),a=e(56306),s=a.getHighWaterMark,c=e(74322).q,u=c.ERR_INVALID_ARG_TYPE,m=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,T=c.ERR_STREAM_CANNOT_PIPE,f=c.ERR_STREAM_DESTROYED,o=c.ERR_STREAM_NULL_VALUES,d=c.ERR_STREAM_WRITE_AFTER_END,M=c.ERR_UNKNOWN_ENCODING,A=l.errorOrDestroy;e(42018)(b,w);function E(){}function g(V,W,X){n=n||e(37865),V=V||{},typeof X!="boolean"&&(X=W instanceof n),this.objectMode=!!V.objectMode,X&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=s(this,V,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=V.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){z(W,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}g.prototype.getBuffer=function(){for(var W=this.bufferedRequest,X=[];W;)X.push(W),W=W.next;return X},function(){try{Object.defineProperty(g.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(W){return S.call(this,W)?!0:this!==b?!1:W&&W._writableState instanceof g}})):S=function(W){return W instanceof this};function b(V){n=n||e(37865);var W=this instanceof n;if(!W&&!S.call(b,this))return new b(V);this._writableState=new g(V,this,W),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),w.call(this)}b.prototype.pipe=function(){A(this,new T)};function i(V,W){var X=new d;A(V,X),p.nextTick(W,X)}function P(V,W,X,re){var ie;return X===null?ie=new o:typeof X!="string"&&!W.objectMode&&(ie=new u("chunk",["string","Buffer"],X)),ie?(A(V,ie),p.nextTick(re,ie),!1):!0}b.prototype.write=function(V,W,X){var re=this._writableState,ie=!1,K=!re.objectMode&&r(V);return K&&!v.isBuffer(V)&&(V=t(V)),typeof W=="function"&&(X=W,W=null),K?W="buffer":W||(W=re.defaultEncoding),typeof X!="function"&&(X=E),re.ending?i(this,X):(K||P(this,re,V,X))&&(re.pendingcb++,ie=k(this,re,K,V,W,X)),ie},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&N(this,V))},b.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new M(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x(V,W,X){return!V.objectMode&&V.decodeStrings!==!1&&typeof W=="string"&&(W=v.from(W,X)),W}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(V,W,X,re,ie,K){if(!X){var q=x(W,re,ie);re!==q&&(X=!0,ie="buffer",re=q)}var le=W.objectMode?1:re.length;W.length+=le;var ae=W.length<W.highWaterMark;if(ae||(W.needDrain=!0),W.writing||W.corked){var he=W.lastBufferedRequest;W.lastBufferedRequest={chunk:re,encoding:ie,isBuf:X,callback:K,next:null},he?he.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else _(V,W,!1,le,re,ie,K);return ae}function _(V,W,X,re,ie,K,q){W.writelen=re,W.writecb=q,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new f("write")):X?V._writev(ie,W.onwrite):V._write(ie,K,W.onwrite),W.sync=!1}function B(V,W,X,re,ie){--W.pendingcb,X?(p.nextTick(ie,re),p.nextTick(ee,V,W),V._writableState.errorEmitted=!0,A(V,re)):(ie(re),V._writableState.errorEmitted=!0,A(V,re),ee(V,W))}function I(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function z(V,W){var X=V._writableState,re=X.sync,ie=X.writecb;if(typeof ie!="function")throw new h;if(I(X),W)B(V,X,re,W,ie);else{var K=Q(X)||V.destroyed;!K&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&N(V,X),re?p.nextTick(O,V,X,K,ie):O(V,X,K,ie)}}function O(V,W,X,re){X||F(V,W),W.pendingcb--,re(),ee(V,W)}function F(V,W){W.length===0&&W.needDrain&&(W.needDrain=!1,V.emit("drain"))}function N(V,W){W.bufferProcessing=!0;var X=W.bufferedRequest;if(V._writev&&X&&X.next){var re=W.bufferedRequestCount,ie=new Array(re),K=W.corkedRequestsFree;K.entry=X;for(var q=0,le=!0;X;)ie[q]=X,X.isBuf||(le=!1),X=X.next,q+=1;ie.allBuffers=le,_(V,W,!0,W.length,ie,"",K.finish),W.pendingcb++,W.lastBufferedRequest=null,K.next?(W.corkedRequestsFree=K.next,K.next=null):W.corkedRequestsFree=new L(W),W.bufferedRequestCount=0}else{for(;X;){var ae=X.chunk,he=X.encoding,me=X.callback,Me=W.objectMode?1:ae.length;if(_(V,W,!1,Me,ae,he,me),X=X.next,W.bufferedRequestCount--,W.writing)break}X===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=X,W.bufferProcessing=!1}b.prototype._write=function(V,W,X){X(new m("_write()"))},b.prototype._writev=null,b.prototype.end=function(V,W,X){var re=this._writableState;return typeof V=="function"?(X=V,V=null,W=null):typeof W=="function"&&(X=W,W=null),V!=null&&this.write(V,W),re.corked&&(re.corked=1,this.uncork()),re.ending||oe(this,re,X),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function $(V,W){V._final(function(X){W.pendingcb--,X&&A(V,X),W.prefinished=!0,V.emit("prefinish"),ee(V,W)})}function j(V,W){!W.prefinished&&!W.finalCalled&&(typeof V._final=="function"&&!W.destroyed?(W.pendingcb++,W.finalCalled=!0,p.nextTick($,V,W)):(W.prefinished=!0,V.emit("prefinish")))}function ee(V,W){var X=Q(W);if(X&&(j(V,W),W.pendingcb===0&&(W.finished=!0,V.emit("finish"),W.autoDestroy))){var re=V._readableState;(!re||re.autoDestroy&&re.endEmitted)&&V.destroy()}return X}function oe(V,W,X){W.ending=!0,ee(V,W),X&&(W.finished?p.nextTick(X):V.once("finish",X)),W.ended=!0,V.writable=!1}function Y(V,W,X){var re=V.entry;for(V.entry=null;re;){var ie=re.callback;W.pendingcb--,ie(X),re=re.next}W.corkedRequestsFree.next=V}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),b.prototype.destroy=l.destroy,b.prototype._undestroy=l.undestroy,b.prototype._destroy=function(V,W){W(V)}},68221:function(G,U,e){var p=e(90386),L;function n(o,d,M){return d in o?Object.defineProperty(o,d,{value:M,enumerable:!0,configurable:!0,writable:!0}):o[d]=M,o}var C=e(12726),w=Symbol("lastResolve"),v=Symbol("lastReject"),y=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),l=Symbol("handlePromise"),a=Symbol("stream");function s(o,d){return{value:o,done:d}}function c(o){var d=o[w];if(d!==null){var M=o[a].read();M!==null&&(o[r]=null,o[w]=null,o[v]=null,d(s(M,!1)))}}function u(o){p.nextTick(c,o)}function m(o,d){return function(M,A){o.then(function(){if(d[t]){M(s(void 0,!0));return}d[l](M,A)},A)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((L={get stream(){return this[a]},next:function(){var d=this,M=this[y];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(s(void 0,!0));if(this[a].destroyed)return new Promise(function(S,b){p.nextTick(function(){d[y]?b(d[y]):S(s(void 0,!0))})});var A=this[r],E;if(A)E=new Promise(m(A,this));else{var g=this[a].read();if(g!==null)return Promise.resolve(s(g,!1));E=new Promise(this[l])}return this[r]=E,E}},n(L,Symbol.asyncIterator,function(){return this}),n(L,"return",function(){var d=this;return new Promise(function(M,A){d[a].destroy(null,function(E){if(E){A(E);return}M(s(void 0,!0))})})}),L),h),f=function(d){var M,A=Object.create(T,(M={},n(M,a,{value:d,writable:!0}),n(M,w,{value:null,writable:!0}),n(M,v,{value:null,writable:!0}),n(M,y,{value:null,writable:!0}),n(M,t,{value:d._readableState.endEmitted,writable:!0}),n(M,l,{value:function(g,S){var b=A[a].read();b?(A[r]=null,A[w]=null,A[v]=null,g(s(b,!1))):(A[w]=g,A[v]=S)},writable:!0}),M));return A[r]=null,C(d,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var g=A[v];g!==null&&(A[r]=null,A[w]=null,A[v]=null,g(E)),A[y]=E;return}var S=A[w];S!==null&&(A[r]=null,A[w]=null,A[v]=null,S(s(void 0,!0))),A[t]=!0}),d.on("readable",u.bind(null,A)),A};G.exports=f},31125:function(G,U,e){function p(c,u){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(c);u&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(c,T).enumerable})),m.push.apply(m,h)}return m}function L(c){for(var u=1;u<arguments.length;u++){var m=arguments[u]!=null?arguments[u]:{};u%2?p(Object(m),!0).forEach(function(h){n(c,h,m[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(m,h))})}return c}function n(c,u,m){return u in c?Object.defineProperty(c,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[u]=m,c}function C(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function w(c,u){for(var m=0;m<u.length;m++){var h=u[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function v(c,u,m){return u&&w(c.prototype,u),m&&w(c,m),c}var y=e(12856),t=y.Buffer,r=e(69862),l=r.inspect,a=l&&l.custom||"inspect";function s(c,u,m){t.prototype.copy.call(c,u,m)}G.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return v(c,[{key:"push",value:function(m){var h={data:m,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(m){var h={data:m,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=m+h.data;return T}},{key:"concat",value:function(m){if(this.length===0)return t.alloc(0);for(var h=t.allocUnsafe(m>>>0),T=this.head,f=0;T;)s(T.data,h,f),f+=T.data.length,T=T.next;return h}},{key:"consume",value:function(m,h){var T;return m<this.head.data.length?(T=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?T=this.shift():T=h?this._getString(m):this._getBuffer(m),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var h=this.head,T=1,f=h.data;for(m-=f.length;h=h.next;){var o=h.data,d=m>o.length?o.length:m;if(d===o.length?f+=o:f+=o.slice(0,m),m-=d,m===0){d===o.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++T}return this.length-=T,f}},{key:"_getBuffer",value:function(m){var h=t.allocUnsafe(m),T=this.head,f=1;for(T.data.copy(h),m-=T.data.length;T=T.next;){var o=T.data,d=m>o.length?o.length:m;if(o.copy(h,h.length-m,0,d),m-=d,m===0){d===o.length?(++f,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=o.slice(d));break}++f}return this.length-=f,h}},{key:a,value:function(m,h){return l(this,L({},h,{depth:0,customInspect:!1}))}}]),c}()},65756:function(G,U,e){var p=e(90386);function L(t,r){var l=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(v,this,t)):p.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(c){!r&&c?l._writableState?l._writableState.errorEmitted?p.nextTick(C,l):(l._writableState.errorEmitted=!0,p.nextTick(n,l,c)):p.nextTick(n,l,c):r?(p.nextTick(C,l),r(c)):p.nextTick(C,l)}),this)}function n(t,r){v(t,r),C(t)}function C(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function y(t,r){var l=t._readableState,a=t._writableState;l&&l.autoDestroy||a&&a.autoDestroy?t.destroy(r):t.emit("error",r)}G.exports={destroy:L,undestroy:w,errorOrDestroy:y}},12726:function(G,U,e){var p=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function L(v){var y=!1;return function(){if(!y){y=!0;for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];v.apply(this,r)}}}function n(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function w(v,y,t){if(typeof y=="function")return w(v,null,y);y||(y={}),t=L(t||n);var r=y.readable||y.readable!==!1&&v.readable,l=y.writable||y.writable!==!1&&v.writable,a=function(){v.writable||c()},s=v._writableState&&v._writableState.finished,c=function(){l=!1,s=!0,r||t.call(v)},u=v._readableState&&v._readableState.endEmitted,m=function(){r=!1,u=!0,l||t.call(v)},h=function(d){t.call(v,d)},T=function(){var d;if(r&&!u)return(!v._readableState||!v._readableState.ended)&&(d=new p),t.call(v,d);if(l&&!s)return(!v._writableState||!v._writableState.ended)&&(d=new p),t.call(v,d)},f=function(){v.req.on("finish",c)};return C(v)?(v.on("complete",c),v.on("abort",T),v.req?f():v.on("request",f)):l&&!v._writableState&&(v.on("end",a),v.on("close",a)),v.on("end",m),v.on("finish",c),y.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",c),v.removeListener("abort",T),v.removeListener("request",f),v.req&&v.req.removeListener("finish",c),v.removeListener("end",a),v.removeListener("close",a),v.removeListener("finish",c),v.removeListener("end",m),v.removeListener("error",h),v.removeListener("close",T)}}G.exports=w},31748:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(G,U,e){var p;function L(c){var u=!1;return function(){u||(u=!0,c.apply(void 0,arguments))}}var n=e(74322).q,C=n.ERR_MISSING_ARGS,w=n.ERR_STREAM_DESTROYED;function v(c){if(c)throw c}function y(c){return c.setHeader&&typeof c.abort=="function"}function t(c,u,m,h){h=L(h);var T=!1;c.on("close",function(){T=!0}),p===void 0&&(p=e(12726)),p(c,{readable:u,writable:m},function(o){if(o)return h(o);T=!0,h()});var f=!1;return function(o){if(!T&&!f){if(f=!0,y(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();h(o||new w("pipe"))}}}function r(c){c()}function l(c,u){return c.pipe(u)}function a(c){return!c.length||typeof c[c.length-1]!="function"?v:c.pop()}function s(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var h=a(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new C("streams");var T,f=u.map(function(o,d){var M=d<u.length-1,A=d>0;return t(o,M,A,function(E){T||(T=E),E&&f.forEach(r),!M&&(f.forEach(r),h(T))})});return u.reduce(l)}G.exports=s},56306:function(G,U,e){var p=e(74322).q.ERR_INVALID_OPT_VALUE;function L(C,w,v){return C.highWaterMark!=null?C.highWaterMark:w?C[v]:null}function n(C,w,v,y){var t=L(w,y,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=y?v:"highWaterMark";throw new p(r,t)}return Math.floor(t)}return C.objectMode?16:16384}G.exports={getHighWaterMark:n}},71405:function(G,U,e){G.exports=e(15398).EventEmitter},68019:function(G,U,e){var p=e(71665).Buffer,L=p.isEncoding||function(f){switch(f=""+f,f&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(f){if(!f)return"utf8";for(var o;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(o)return;f=(""+f).toLowerCase(),o=!0}}function C(f){var o=n(f);if(typeof o!="string"&&(p.isEncoding===L||!L(f)))throw new Error("Unknown encoding: "+f);return o||f}U.s=w;function w(f){this.encoding=C(f);var o;switch(this.encoding){case"utf16le":this.text=s,this.end=c,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=u,this.end=m,o=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(o)}w.prototype.write=function(f){if(f.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(f),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<f.length?o?o+this.text(f,d):this.text(f,d):o||""},w.prototype.end=a,w.prototype.text=l,w.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length};function v(f){return f<=127?0:f>>5===6?2:f>>4===14?3:f>>3===30?4:f>>6===2?-1:-2}function y(f,o,d){var M=o.length-1;if(M<d)return 0;var A=v(o[M]);return A>=0?(A>0&&(f.lastNeed=A-1),A):--M<d||A===-2?0:(A=v(o[M]),A>=0?(A>0&&(f.lastNeed=A-2),A):--M<d||A===-2?0:(A=v(o[M]),A>=0?(A>0&&(A===2?A=0:f.lastNeed=A-3),A):0))}function t(f,o,d){if((o[0]&192)!==128)return f.lastNeed=0,"�";if(f.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return f.lastNeed=1,"�";if(f.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return f.lastNeed=2,"�"}}function r(f){var o=this.lastTotal-this.lastNeed,d=t(this,f);if(d!==void 0)return d;if(this.lastNeed<=f.length)return f.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,o,0,f.length),this.lastNeed-=f.length}function l(f,o){var d=y(this,f,o);if(!this.lastNeed)return f.toString("utf8",o);this.lastTotal=d;var M=f.length-(d-this.lastNeed);return f.copy(this.lastChar,0,M),f.toString("utf8",o,M)}function a(f){var o=f&&f.length?this.write(f):"";return this.lastNeed?o+"�":o}function s(f,o){if((f.length-o)%2===0){var d=f.toString("utf16le",o);if(d){var M=d.charCodeAt(d.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",o,f.length-1)}function c(f){var o=f&&f.length?this.write(f):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function u(f,o){var d=(f.length-o)%3;return d===0?f.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",o,f.length-d))}function m(f){var o=f&&f.length?this.write(f):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(f){return f.toString(this.encoding)}function T(f){return f&&f.length?this.write(f):""}},90715:function(G,U,e){var p=e(32791),L=e(41633)("stream-parser");G.exports=y;var n=-1,C=0,w=1,v=2;function y(f){var o=f&&typeof f._transform=="function",d=f&&typeof f._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),f._bytes=r,f._skipBytes=l,o&&(f._passthrough=a),o?f._transform=c:f._write=s}function t(f){L("initializing parser stream"),f._parserBytesLeft=0,f._parserBuffers=[],f._parserBuffered=0,f._parserState=n,f._parserCallback=null,typeof f.push=="function"&&(f._parserOutput=f.push.bind(f)),f._parserInit=!0}function r(f,o){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(f)&&f>0,'can only buffer a finite number of bytes > 0, got "'+f+'"'),this._parserInit||t(this),L("buffering %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=C}function l(f,o){p(!this._parserCallback,'there is already a "callback" set!'),p(f>0,'can only skip > 0 bytes, got "'+f+'"'),this._parserInit||t(this),L("skipping %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=w}function a(f,o){p(!this._parserCallback,'There is already a "callback" set!'),p(f>0,'can only pass through > 0 bytes, got "'+f+'"'),this._parserInit||t(this),L("passing through %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=v}function s(f,o,d){this._parserInit||t(this),L("write(%o bytes)",f.length),typeof o=="function"&&(d=o),h(this,f,null,d)}function c(f,o,d){this._parserInit||t(this),L("transform(%o bytes)",f.length),typeof o!="function"&&(o=this._parserOutput),h(this,f,o,d)}function u(f,o,d,M){return f._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):o.length<=f._parserBytesLeft?function(){return m(f,o,d,M)}:function(){var A=o.slice(0,f._parserBytesLeft);return m(f,A,d,function(E){if(E)return M(E);if(o.length>A.length)return function(){return u(f,o.slice(A.length),d,M)}})}}function m(f,o,d,M){if(f._parserBytesLeft-=o.length,L("%o bytes left for stream piece",f._parserBytesLeft),f._parserState===C?(f._parserBuffers.push(o),f._parserBuffered+=o.length):f._parserState===v&&d(o),f._parserBytesLeft===0){var A=f._parserCallback;if(A&&f._parserState===C&&f._parserBuffers.length>1&&(o=Buffer.concat(f._parserBuffers,f._parserBuffered)),f._parserState!==C&&(o=null),f._parserCallback=null,f._parserBuffered=0,f._parserState=n,f._parserBuffers.splice(0),A){var E=[];o&&E.push(o),d&&E.push(d);var g=A.length>E.length;g&&E.push(T(M));var S=A.apply(f,E);if(!g||M===S)return M}}else return M}var h=T(u);function T(f){return function(){for(var o=f.apply(this,arguments);typeof o=="function";)o=o();return o}}},41633:function(G,U,e){var p=e(90386);U=G.exports=e(74469),U.log=C,U.formatArgs=n,U.save=w,U.load=v,U.useColors=L,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function n(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+U.humanize(this.diff),!!r){var l="color: "+this.color;t.splice(1,0,l,"color: inherit");var a=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(c){c!=="%%"&&(a++,c==="%c"&&(s=a))}),t.splice(s,0,l)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(t){try{t==null?U.storage.removeItem("debug"):U.storage.debug=t}catch{}}function v(){var t;try{t=U.storage.debug}catch{}return!t&&typeof p<"u"&&"env"in p&&(t={}.DEBUG),t}U.enable(v());function y(){try{return window.localStorage}catch{}}},74469:function(G,U,e){U=G.exports=n.debug=n.default=n,U.coerce=y,U.disable=w,U.enable=C,U.enabled=v,U.humanize=e(11375),U.names=[],U.skips=[],U.formatters={};var p;function L(t){var r=0,l;for(l in t)r=(r<<5)-r+t.charCodeAt(l),r|=0;return U.colors[Math.abs(r)%U.colors.length]}function n(t){function r(){if(r.enabled){var l=r,a=+new Date,s=a-(p||a);l.diff=s,l.prev=p,l.curr=a,p=a;for(var c=new Array(arguments.length),u=0;u<c.length;u++)c[u]=arguments[u];c[0]=U.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var m=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(T,f){if(T==="%%")return T;m++;var o=U.formatters[f];if(typeof o=="function"){var d=c[m];T=o.call(l,d),c.splice(m,1),m--}return T}),U.formatArgs.call(l,c);var h=r.log||U.log||console.log.bind(console);h.apply(l,c)}}return r.namespace=t,r.enabled=U.enabled(t),r.useColors=U.useColors(),r.color=L(t),typeof U.init=="function"&&U.init(r),r}function C(t){U.save(t),U.names=[],U.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),l=r.length,a=0;a<l;a++)r[a]&&(t=r[a].replace(/\*/g,".*?"),t[0]==="-"?U.skips.push(new RegExp("^"+t.substr(1)+"$")):U.names.push(new RegExp("^"+t+"$")))}function w(){U.enable("")}function v(t){var r,l;for(r=0,l=U.skips.length;r<l;r++)if(U.skips[r].test(t))return!1;for(r=0,l=U.names.length;r<l;r++)if(U.names[r].test(t))return!0;return!1}function y(t){return t instanceof Error?t.stack||t.message:t}},11375:function(G){var U=1e3,e=U*60,p=e*60,L=p*24,n=L*365.25;G.exports=function(t,r){r=r||{};var l=typeof t;if(l==="string"&&t.length>0)return C(t);if(l==="number"&&isNaN(t)===!1)return r.long?v(t):w(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var l=parseFloat(r[1]),a=(r[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return l*n;case"days":case"day":case"d":return l*L;case"hours":case"hour":case"hrs":case"hr":case"h":return l*p;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function w(t){return t>=L?Math.round(t/L)+"d":t>=p?Math.round(t/p)+"h":t>=e?Math.round(t/e)+"m":t>=U?Math.round(t/U)+"s":t+"ms"}function v(t){return y(t,L,"day")||y(t,p,"hour")||y(t,e,"minute")||y(t,U,"second")||t+" ms"}function y(t,r,l){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+l:Math.ceil(t/r)+" "+l+"s"}},99011:function(G,U,e){var p=e(88641);G.exports=function(n,C,w){if(n==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var v=p.parse(n,{flat:!0,brackets:w.ignore}),y=v[0],t=y.split(C);if(w.escape){for(var r=[],l=0;l<t.length;l++){var a=t[l],s=t[l+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(r.push(a+C+s),l++):r.push(a)}t=r}for(var l=0;l<t.length;l++)v[0]=t[l],t[l]=p.stringify(v,{flat:!0});return t}},68664:function(G){G.exports=U;function U(e){for(var p=e.length,L=new Array(p),n=new Array(p),C=new Array(p),w=new Array(p),v=new Array(p),y=new Array(p),t=0;t<p;++t)L[t]=-1,n[t]=0,C[t]=!1,w[t]=0,v[t]=-1,y[t]=[];var r=0,l=[],a=[];function s(h){var T=[h],f=[h];for(L[h]=n[h]=r,C[h]=!0,r+=1;f.length>0;){h=f[f.length-1];var o=e[h];if(w[h]<o.length){for(var d=w[h];d<o.length;++d){var M=o[d];if(L[M]<0){L[M]=n[M]=r,C[M]=!0,r+=1,T.push(M),f.push(M);break}else C[M]&&(n[h]=Math.min(n[h],n[M])|0);v[M]>=0&&y[h].push(v[M])}w[h]=d}else{if(n[h]===L[h]){for(var A=[],E=[],g=0,d=T.length-1;d>=0;--d){var S=T[d];if(C[S]=!1,A.push(S),E.push(y[S]),g+=y[S].length,v[S]=l.length,S===h){T.length=d;break}}l.push(A);for(var b=new Array(g),d=0;d<E.length;d++)for(var i=0;i<E[d].length;i++)b[--g]=E[d][i];a.push(b)}f.pop()}}}for(var t=0;t<p;++t)L[t]<0&&s(t);for(var c,t=0;t<a.length;t++){var u=a[t];if(u.length!==0){u.sort(function(T,f){return T-f}),c=[u[0]];for(var m=1;m<u.length;m++)u[m]!==u[m-1]&&c.push(u[m]);a[t]=c}}return{components:l,adjacencyList:a}}},7095:function(G,U,e){e.r(U);var p=function(){function t(r,l){var a=[],s=!0,c=!1,u=void 0;try{for(var m=r[Symbol.iterator](),h;!(s=(h=m.next()).done)&&(a.push(h.value),!(l&&a.length===l));s=!0);}catch(T){c=!0,u=T}finally{try{!s&&m.return&&m.return()}finally{if(c)throw u}}return a}return function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,n=function(r,l,a,s,c,u,m){var h=r.x,T=r.y;h*=l,T*=a;var f=s*h-c*T,o=c*h+s*T;return{x:f+u,y:o+m}},C=function(r,l){var a=l===1.5707963267948966?.551915024494:l===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(l/4),s=Math.cos(r),c=Math.sin(r),u=Math.cos(r+l),m=Math.sin(r+l);return[{x:s-c*a,y:c+s*a},{x:u+m*a,y:m-u*a},{x:u,y:m}]},w=function(r,l,a,s){var c=r*s-l*a<0?-1:1,u=r*a+l*s;return u>1&&(u=1),u<-1&&(u=-1),c*Math.acos(u)},v=function(r,l,a,s,c,u,m,h,T,f,o,d){var M=Math.pow(c,2),A=Math.pow(u,2),E=Math.pow(o,2),g=Math.pow(d,2),S=M*A-M*g-A*E;S<0&&(S=0),S/=M*g+A*E,S=Math.sqrt(S)*(m===h?-1:1);var b=S*c/u*d,i=S*-u/c*o,P=f*b-T*i+(r+a)/2,x=T*b+f*i+(l+s)/2,k=(o-b)/c,_=(d-i)/u,B=(-o-b)/c,I=(-d-i)/u,z=w(1,0,k,_),O=w(k,_,B,I);return h===0&&O>0&&(O-=L),h===1&&O<0&&(O+=L),[P,x,z,O]},y=function(r){var l=r.px,a=r.py,s=r.cx,c=r.cy,u=r.rx,m=r.ry,h=r.xAxisRotation,T=h===void 0?0:h,f=r.largeArcFlag,o=f===void 0?0:f,d=r.sweepFlag,M=d===void 0?0:d,A=[];if(u===0||m===0)return[];var E=Math.sin(T*L/360),g=Math.cos(T*L/360),S=g*(l-s)/2+E*(a-c)/2,b=-E*(l-s)/2+g*(a-c)/2;if(S===0&&b===0)return[];u=Math.abs(u),m=Math.abs(m);var i=Math.pow(S,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(m,2);i>1&&(u*=Math.sqrt(i),m*=Math.sqrt(i));var P=v(l,a,s,c,u,m,o,M,E,g,S,b),x=p(P,4),k=x[0],_=x[1],B=x[2],I=x[3],z=Math.abs(I)/(L/4);Math.abs(1-z)<1e-7&&(z=1);var O=Math.max(Math.ceil(z),1);I/=O;for(var F=0;F<O;F++)A.push(C(B,I)),B+=I;return A.map(function(N){var Q=n(N[0],u,m,g,E,k,_),$=Q.x,j=Q.y,ee=n(N[1],u,m,g,E,k,_),oe=ee.x,Y=ee.y,V=n(N[2],u,m,g,E,k,_),W=V.x,X=V.y;return{x1:$,y1:j,x2:oe,y2:Y,x:W,y:X}})};U.default=y},1750:function(G,U,e){var p=e(95616),L=e(65185),n=e(29988),C=e(89546),w=e(32791);G.exports=v;function v(y){if(Array.isArray(y)&&y.length===1&&typeof y[0]=="string"&&(y=y[0]),typeof y=="string"&&(w(C(y),"String is not an SVG path."),y=p(y)),w(Array.isArray(y),"Argument should be a string or an array of path segments."),y=L(y),y=n(y),!y.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,l=y.length;r<l;r++)for(var a=y[r].slice(1),s=0;s<a.length;s+=2)a[s+0]<t[0]&&(t[0]=a[s+0]),a[s+1]<t[1]&&(t[1]=a[s+1]),a[s+0]>t[2]&&(t[2]=a[s+0]),a[s+1]>t[3]&&(t[3]=a[s+1]);return t}},29988:function(G,U,e){G.exports=L;var p=e(7095);function L(w){for(var v,y=[],t=0,r=0,l=0,a=0,s=null,c=null,u=0,m=0,h=0,T=w.length;h<T;h++){var f=w[h],o=f[0];switch(o){case"M":l=f[1],a=f[2];break;case"A":var d=p({px:u,py:m,cx:f[6],cy:f[7],rx:f[1],ry:f[2],xAxisRotation:f[3],largeArcFlag:f[4],sweepFlag:f[5]});if(!d.length)continue;for(var M=0,A;M<d.length;M++)A=d[M],f=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],M<d.length-1&&y.push(f);break;case"S":var E=u,g=m;(v=="C"||v=="S")&&(E+=E-t,g+=g-r),f=["C",E,g,f[1],f[2],f[3],f[4]];break;case"T":v=="Q"||v=="T"?(s=u*2-s,c=m*2-c):(s=u,c=m),f=C(u,m,s,c,f[1],f[2]);break;case"Q":s=f[1],c=f[2],f=C(u,m,f[1],f[2],f[3],f[4]);break;case"L":f=n(u,m,f[1],f[2]);break;case"H":f=n(u,m,f[1],m);break;case"V":f=n(u,m,u,f[1]);break;case"Z":f=n(u,m,l,a);break}v=o,u=f[f.length-2],m=f[f.length-1],f.length>4?(t=f[f.length-4],r=f[f.length-3]):(t=u,r=m),y.push(f)}return y}function n(w,v,y,t){return["C",w,v,y,t,y,t]}function C(w,v,y,t,r,l){return["C",w/3+.6666666666666666*y,v/3+.6666666666666666*t,r/3+.6666666666666666*y,l/3+.6666666666666666*t,r,l]}},82019:function(G,U,e){var p=e(1750),L=e(95616),n=e(31457),C=e(89546),w=e(44781),v=document.createElement("canvas"),y=v.getContext("2d");G.exports=t;function t(a,s){if(!C(a))throw Error("Argument should be valid svg path string");s||(s={});var c,u;s.shape?(c=s.shape[0],u=s.shape[1]):(c=v.width=s.w||s.width||200,u=v.height=s.h||s.height||200);var m=Math.min(c,u),h=s.stroke||0,T=s.viewbox||s.viewBox||p(a),f=[c/(T[2]-T[0]),u/(T[3]-T[1])],o=Math.min(f[0]||0,f[1]||0)/2;if(y.fillStyle="black",y.fillRect(0,0,c,u),y.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?y.strokeStyle="white":y.strokeStyle="black",y.lineWidth=Math.abs(h)),y.translate(c*.5,u*.5),y.scale(o,o),l()){var d=new Path2D(a);y.fill(d),h&&y.stroke(d)}else{var M=L(a);n(y,M),y.fill(),h&&y.stroke()}y.setTransform(1,0,0,1,0,0);var A=w(y,{cutoff:s.cutoff!=null?s.cutoff:.5,radius:s.radius!=null?s.radius:m*.5});return A}var r;function l(){if(r!=null)return r;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return r=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(s);var c=a.getImageData(0,0,1,1);return r=c&&c.data&&c.data[3]===255}},84267:function(G,U,e){var p;(function(L){var n=/^\s+/,C=/\s+$/,w=0,v=L.round,y=L.min,t=L.max,r=L.random;function l(q,le){if(q=q||"",le=le||{},q instanceof l)return q;if(!(this instanceof l))return new l(q,le);var ae=a(q);this._originalInput=q,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=le.format||ae.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=w++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var q=this.toRgb();return(q.r*299+q.g*587+q.b*114)/1e3},getLuminance:function(){var q=this.toRgb(),le,ae,he,me,Me,xe;return le=q.r/255,ae=q.g/255,he=q.b/255,le<=.03928?me=le/12.92:me=L.pow((le+.055)/1.055,2.4),ae<=.03928?Me=ae/12.92:Me=L.pow((ae+.055)/1.055,2.4),he<=.03928?xe=he/12.92:xe=L.pow((he+.055)/1.055,2.4),.2126*me+.7152*Me+.0722*xe},setAlpha:function(q){return this._a=F(q),this._roundA=v(100*this._a)/100,this},toHsv:function(){var q=m(this._r,this._g,this._b);return{h:q.h*360,s:q.s,v:q.v,a:this._a}},toHsvString:function(){var q=m(this._r,this._g,this._b),le=v(q.h*360),ae=v(q.s*100),he=v(q.v*100);return this._a==1?"hsv("+le+", "+ae+"%, "+he+"%)":"hsva("+le+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var q=c(this._r,this._g,this._b);return{h:q.h*360,s:q.s,l:q.l,a:this._a}},toHslString:function(){var q=c(this._r,this._g,this._b),le=v(q.h*360),ae=v(q.s*100),he=v(q.l*100);return this._a==1?"hsl("+le+", "+ae+"%, "+he+"%)":"hsla("+le+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHex:function(q){return T(this._r,this._g,this._b,q)},toHexString:function(q){return"#"+this.toHex(q)},toHex8:function(q){return f(this._r,this._g,this._b,this._a,q)},toHex8String:function(q){return"#"+this.toHex8(q)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(N(this._r,255)*100)+"%",g:v(N(this._g,255)*100)+"%",b:v(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%)":"rgba("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(q){var le="#"+o(this._r,this._g,this._b,this._a),ae=le,he=this._gradientType?"GradientType = 1, ":"";if(q){var me=l(q);ae="#"+o(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+ae+")"},toString:function(q){var le=!!q;q=q||this._format;var ae=!1,he=this._a<1&&this._a>=0,me=!le&&he&&(q==="hex"||q==="hex6"||q==="hex3"||q==="hex4"||q==="hex8"||q==="name");return me?q==="name"&&this._a===0?this.toName():this.toRgbString():(q==="rgb"&&(ae=this.toRgbString()),q==="prgb"&&(ae=this.toPercentageRgbString()),(q==="hex"||q==="hex6")&&(ae=this.toHexString()),q==="hex3"&&(ae=this.toHexString(!0)),q==="hex4"&&(ae=this.toHex8String(!0)),q==="hex8"&&(ae=this.toHex8String()),q==="name"&&(ae=this.toName()),q==="hsl"&&(ae=this.toHslString()),q==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(q,le){var ae=q.apply(null,[this].concat([].slice.call(le)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(q,le){return q.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},l.fromRatio=function(q,le){if(typeof q=="object"){var ae={};for(var he in q)q.hasOwnProperty(he)&&(he==="a"?ae[he]=q[he]:ae[he]=Y(q[he]));q=ae}return l(q,le)};function a(q){var le={r:0,g:0,b:0},ae=1,he=null,me=null,Me=null,xe=!1,Ie=!1;return typeof q=="string"&&(q=ie(q)),typeof q=="object"&&(re(q.r)&&re(q.g)&&re(q.b)?(le=s(q.r,q.g,q.b),xe=!0,Ie=String(q.r).substr(-1)==="%"?"prgb":"rgb"):re(q.h)&&re(q.s)&&re(q.v)?(he=Y(q.s),me=Y(q.v),le=h(q.h,he,me),xe=!0,Ie="hsv"):re(q.h)&&re(q.s)&&re(q.l)&&(he=Y(q.s),Me=Y(q.l),le=u(q.h,he,Me),xe=!0,Ie="hsl"),q.hasOwnProperty("a")&&(ae=q.a)),ae=F(ae),{ok:xe,format:q.format||Ie,r:y(255,t(le.r,0)),g:y(255,t(le.g,0)),b:y(255,t(le.b,0)),a:ae}}function s(q,le,ae){return{r:N(q,255)*255,g:N(le,255)*255,b:N(ae,255)*255}}function c(q,le,ae){q=N(q,255),le=N(le,255),ae=N(ae,255);var he=t(q,le,ae),me=y(q,le,ae),Me,xe,Ie=(he+me)/2;if(he==me)Me=xe=0;else{var _e=he-me;switch(xe=Ie>.5?_e/(2-he-me):_e/(he+me),he){case q:Me=(le-ae)/_e+(le<ae?6:0);break;case le:Me=(ae-q)/_e+2;break;case ae:Me=(q-le)/_e+4;break}Me/=6}return{h:Me,s:xe,l:Ie}}function u(q,le,ae){var he,me,Me;q=N(q,360),le=N(le,100),ae=N(ae,100);function xe(Te,ye,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<.16666666666666666?Te+(ye-Te)*6*Ae:Ae<.5?ye:Ae<.6666666666666666?Te+(ye-Te)*(.6666666666666666-Ae)*6:Te}if(le===0)he=me=Me=ae;else{var Ie=ae<.5?ae*(1+le):ae+le-ae*le,_e=2*ae-Ie;he=xe(_e,Ie,q+.3333333333333333),me=xe(_e,Ie,q),Me=xe(_e,Ie,q-.3333333333333333)}return{r:he*255,g:me*255,b:Me*255}}function m(q,le,ae){q=N(q,255),le=N(le,255),ae=N(ae,255);var he=t(q,le,ae),me=y(q,le,ae),Me,xe,Ie=he,_e=he-me;if(xe=he===0?0:_e/he,he==me)Me=0;else{switch(he){case q:Me=(le-ae)/_e+(le<ae?6:0);break;case le:Me=(ae-q)/_e+2;break;case ae:Me=(q-le)/_e+4;break}Me/=6}return{h:Me,s:xe,v:Ie}}function h(q,le,ae){q=N(q,360)*6,le=N(le,100),ae=N(ae,100);var he=L.floor(q),me=q-he,Me=ae*(1-le),xe=ae*(1-me*le),Ie=ae*(1-(1-me)*le),_e=he%6,Te=[ae,xe,Me,Me,Ie,ae][_e],ye=[Ie,ae,ae,xe,Me,Me][_e],Ae=[Me,Me,Ie,ae,ae,xe][_e];return{r:Te*255,g:ye*255,b:Ae*255}}function T(q,le,ae,he){var me=[oe(v(q).toString(16)),oe(v(le).toString(16)),oe(v(ae).toString(16))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function f(q,le,ae,he,me){var Me=[oe(v(q).toString(16)),oe(v(le).toString(16)),oe(v(ae).toString(16)),oe(V(he))];return me&&Me[0].charAt(0)==Me[0].charAt(1)&&Me[1].charAt(0)==Me[1].charAt(1)&&Me[2].charAt(0)==Me[2].charAt(1)&&Me[3].charAt(0)==Me[3].charAt(1)?Me[0].charAt(0)+Me[1].charAt(0)+Me[2].charAt(0)+Me[3].charAt(0):Me.join("")}function o(q,le,ae,he){var me=[oe(V(he)),oe(v(q).toString(16)),oe(v(le).toString(16)),oe(v(ae).toString(16))];return me.join("")}l.equals=function(q,le){return!q||!le?!1:l(q).toRgbString()==l(le).toRgbString()},l.random=function(){return l.fromRatio({r:r(),g:r(),b:r()})};function d(q,le){le=le===0?0:le||10;var ae=l(q).toHsl();return ae.s-=le/100,ae.s=Q(ae.s),l(ae)}function M(q,le){le=le===0?0:le||10;var ae=l(q).toHsl();return ae.s+=le/100,ae.s=Q(ae.s),l(ae)}function A(q){return l(q).desaturate(100)}function E(q,le){le=le===0?0:le||10;var ae=l(q).toHsl();return ae.l+=le/100,ae.l=Q(ae.l),l(ae)}function g(q,le){le=le===0?0:le||10;var ae=l(q).toRgb();return ae.r=t(0,y(255,ae.r-v(255*-(le/100)))),ae.g=t(0,y(255,ae.g-v(255*-(le/100)))),ae.b=t(0,y(255,ae.b-v(255*-(le/100)))),l(ae)}function S(q,le){le=le===0?0:le||10;var ae=l(q).toHsl();return ae.l-=le/100,ae.l=Q(ae.l),l(ae)}function b(q,le){var ae=l(q).toHsl(),he=(ae.h+le)%360;return ae.h=he<0?360+he:he,l(ae)}function i(q){var le=l(q).toHsl();return le.h=(le.h+180)%360,l(le)}function P(q){var le=l(q).toHsl(),ae=le.h;return[l(q),l({h:(ae+120)%360,s:le.s,l:le.l}),l({h:(ae+240)%360,s:le.s,l:le.l})]}function x(q){var le=l(q).toHsl(),ae=le.h;return[l(q),l({h:(ae+90)%360,s:le.s,l:le.l}),l({h:(ae+180)%360,s:le.s,l:le.l}),l({h:(ae+270)%360,s:le.s,l:le.l})]}function k(q){var le=l(q).toHsl(),ae=le.h;return[l(q),l({h:(ae+72)%360,s:le.s,l:le.l}),l({h:(ae+216)%360,s:le.s,l:le.l})]}function _(q,le,ae){le=le||6,ae=ae||30;var he=l(q).toHsl(),me=360/ae,Me=[l(q)];for(he.h=(he.h-(me*le>>1)+720)%360;--le;)he.h=(he.h+me)%360,Me.push(l(he));return Me}function B(q,le){le=le||6;for(var ae=l(q).toHsv(),he=ae.h,me=ae.s,Me=ae.v,xe=[],Ie=1/le;le--;)xe.push(l({h:he,s:me,v:Me})),Me=(Me+Ie)%1;return xe}l.mix=function(q,le,ae){ae=ae===0?0:ae||50;var he=l(q).toRgb(),me=l(le).toRgb(),Me=ae/100,xe={r:(me.r-he.r)*Me+he.r,g:(me.g-he.g)*Me+he.g,b:(me.b-he.b)*Me+he.b,a:(me.a-he.a)*Me+he.a};return l(xe)},l.readability=function(q,le){var ae=l(q),he=l(le);return(L.max(ae.getLuminance(),he.getLuminance())+.05)/(L.min(ae.getLuminance(),he.getLuminance())+.05)},l.isReadable=function(q,le,ae){var he=l.readability(q,le),me,Me;switch(Me=!1,me=K(ae),me.level+me.size){case"AAsmall":case"AAAlarge":Me=he>=4.5;break;case"AAlarge":Me=he>=3;break;case"AAAsmall":Me=he>=7;break}return Me},l.mostReadable=function(q,le,ae){var he=null,me=0,Me,xe,Ie,_e;ae=ae||{},xe=ae.includeFallbackColors,Ie=ae.level,_e=ae.size;for(var Te=0;Te<le.length;Te++)Me=l.readability(q,le[Te]),Me>me&&(me=Me,he=l(le[Te]));return l.isReadable(q,he,{level:Ie,size:_e})||!xe?he:(ae.includeFallbackColors=!1,l.mostReadable(q,["#fff","#000"],ae))};var I=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=l.hexNames=O(I);function O(q){var le={};for(var ae in q)q.hasOwnProperty(ae)&&(le[q[ae]]=ae);return le}function F(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function N(q,le){j(q)&&(q="100%");var ae=ee(q);return q=y(le,t(0,parseFloat(q))),ae&&(q=parseInt(q*le,10)/100),L.abs(q-le)<1e-6?1:q%le/parseFloat(le)}function Q(q){return y(1,t(0,q))}function $(q){return parseInt(q,16)}function j(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function ee(q){return typeof q=="string"&&q.indexOf("%")!=-1}function oe(q){return q.length==1?"0"+q:""+q}function Y(q){return q<=1&&(q=q*100+"%"),q}function V(q){return L.round(parseFloat(q)*255).toString(16)}function W(q){return $(q)/255}var X=function(){var q="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+le+")|(?:"+q+")",he="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",me="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(q){return!!X.CSS_UNIT.exec(q)}function ie(q){q=q.replace(n,"").replace(C,"").toLowerCase();var le=!1;if(I[q])q=I[q],le=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=X.rgb.exec(q))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=X.rgba.exec(q))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=X.hsl.exec(q))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=X.hsla.exec(q))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=X.hsv.exec(q))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=X.hsva.exec(q))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=X.hex8.exec(q))?{r:$(ae[1]),g:$(ae[2]),b:$(ae[3]),a:W(ae[4]),format:le?"name":"hex8"}:(ae=X.hex6.exec(q))?{r:$(ae[1]),g:$(ae[2]),b:$(ae[3]),format:le?"name":"hex"}:(ae=X.hex4.exec(q))?{r:$(ae[1]+""+ae[1]),g:$(ae[2]+""+ae[2]),b:$(ae[3]+""+ae[3]),a:W(ae[4]+""+ae[4]),format:le?"name":"hex8"}:(ae=X.hex3.exec(q))?{r:$(ae[1]+""+ae[1]),g:$(ae[2]+""+ae[2]),b:$(ae[3]+""+ae[3]),format:le?"name":"hex"}:!1}function K(q){var le,ae;return q=q||{level:"AA",size:"small"},le=(q.level||"AA").toUpperCase(),ae=(q.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:le,size:ae}}G.exports?G.exports=l:(p=function(){return l}.call(U,e,U,G),p!==void 0&&(G.exports=p))})(Math)},57060:function(G){G.exports=p,G.exports.float32=G.exports.float=p,G.exports.fract32=G.exports.fract=e;var U=new Float32Array(1);function e(L,n){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);n instanceof Float32Array||(n=p(L));for(var C=0,w=n.length;C<w;C++)n[C]=L[C]-n[C];return n}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(U[0]=L,U[0])}},75686:function(G,U,e){var p=e(25677);G.exports=w;var L=96;function n(v,y){var t=p(getComputedStyle(v).getPropertyValue(y));return t[0]*w(t[1],v)}function C(v,y){var t=document.createElement("div");t.style["font-size"]="128"+v,y.appendChild(t);var r=n(t,"font-size")/128;return y.removeChild(t),r}function w(v,y){switch(y=y||document.body,v=(v||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),v){case"%":return y.clientHeight/100;case"ch":case"ex":return C(v,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},96892:function(G,U,e){e.d(U,{zL:function(){return C}});function p(y,t){for(var r,l=y.length,a=l-t;a<--l;)r=y[a],y[a++]=y[l],y[l]=r}function L(y){return y}function n(y){if(y==null)return L;var t,r,l=y.scale[0],a=y.scale[1],s=y.translate[0],c=y.translate[1];return function(u,m){m||(t=r=0);var h=2,T=u.length,f=new Array(T);for(f[0]=(t+=u[0])*l+s,f[1]=(r+=u[1])*a+c;h<T;)f[h]=u[h],++h;return f}}function C(y,t){return typeof t=="string"&&(t=y.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return w(y,r)})}:w(y,t)}function w(y,t){var r=t.id,l=t.bbox,a=t.properties==null?{}:t.properties,s=v(y,t);return r==null&&l==null?{type:"Feature",properties:a,geometry:s}:l==null?{type:"Feature",id:r,properties:a,geometry:s}:{type:"Feature",id:r,bbox:l,properties:a,geometry:s}}function v(y,t){var r=n(y.transform),l=y.arcs;function a(T,f){f.length&&f.pop();for(var o=l[T<0?~T:T],d=0,M=o.length;d<M;++d)f.push(r(o[d],d));T<0&&p(f,M)}function s(T){return r(T)}function c(T){for(var f=[],o=0,d=T.length;o<d;++o)a(T[o],f);return f.length<2&&f.push(f[0]),f}function u(T){for(var f=c(T);f.length<4;)f.push(f[0]);return f}function m(T){return T.map(u)}function h(T){var f=T.type,o;switch(f){case"GeometryCollection":return{type:f,geometries:T.geometries.map(h)};case"Point":o=s(T.coordinates);break;case"MultiPoint":o=T.coordinates.map(s);break;case"LineString":o=c(T.arcs);break;case"MultiLineString":o=T.arcs.map(c);break;case"Polygon":o=m(T.arcs);break;case"MultiPolygon":o=T.arcs.map(m);break;default:return null}return{type:f,coordinates:o}}return h(t)}},73116:function(G,U,e){var p=e(24511);G.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},69190:function(G,U,e){var p=e(24582),L=e(47403),n=e(9234),C=e(6048),w=function(v,y){return v.replace("%v",C(y))};G.exports=function(v,y,t){if(!L(t))throw new TypeError(w(y,v));if(!p(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=n(t.errorMessage);throw p(r)||(r=y),new TypeError(w(r,v))}},18497:function(G){G.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},6048:function(G,U,e){var p=e(18497),L=/[\n\r\u2028\u2029]/g;G.exports=function(n){var C=p(n);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+"…"),C=C.replace(L,function(w){switch(w){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(G,U,e){var p=e(24582),L={object:!0,function:!0,undefined:!0};G.exports=function(n){return p(n)?hasOwnProperty.call(L,typeof n):!1}},82527:function(G,U,e){var p=e(69190),L=e(84985);G.exports=function(n){return L(n)?n:p(n,"%v is not a plain function",arguments[1])}},84985:function(G,U,e){var p=e(73116),L=/^\s*class[\s{/}]/,n=Function.prototype.toString;G.exports=function(C){return!(!p(C)||L.test(n.call(C)))}},24511:function(G,U,e){var p=e(47403);G.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},9234:function(G,U,e){var p=e(24582),L=e(47403),n=Object.prototype.toString;G.exports=function(C){if(!p(C))return null;if(L(C)){var w=C.toString;if(typeof w!="function"||w===n)return null}try{return""+C}catch{return null}}},10424:function(G,U,e){var p=e(69190),L=e(24582);G.exports=function(n){return L(n)?n:p(n,"Cannot use %v",arguments[1])}},24582:function(G){var U=void 0;G.exports=function(e){return e!==U&&e!==null}},58404:function(G,U,e){var p=e(13547),L=e(12129),n=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",w=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=L([32,0])),y.BIGUINT64||(y.BIGUINT64=L([32,0])),y.BIGINT64||(y.BIGINT64=L([32,0])),y.BUFFER||(y.BUFFER=L([32,0]));var t=y.DATA,r=y.BUFFER;U.free=function(i){if(n.isBuffer(i))r[p.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var P=i.length||i.byteLength,x=p.log2(P)|0;t[x].push(i)}};function l(b){if(b){var i=b.length||b.byteLength,P=p.log2(i);t[P].push(b)}}function a(b){l(b.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=a,U.freeArrayBuffer=l,U.freeBuffer=function(i){r[p.log2(i.length)].push(i)},U.malloc=function(i,P){if(P===void 0||P==="arraybuffer")return s(i);switch(P){case"uint8":return c(i);case"uint16":return u(i);case"uint32":return m(i);case"int8":return h(i);case"int16":return T(i);case"int32":return f(i);case"float":case"float32":return o(i);case"double":case"float64":return d(i);case"uint8_clamped":return M(i);case"bigint64":return E(i);case"biguint64":return A(i);case"buffer":return S(i);case"data":case"dataview":return g(i);default:return null}return null};function s(i){var i=p.nextPow2(i),P=p.log2(i),x=t[P];return x.length>0?x.pop():new ArrayBuffer(i)}U.mallocArrayBuffer=s;function c(b){return new Uint8Array(s(b),0,b)}U.mallocUint8=c;function u(b){return new Uint16Array(s(2*b),0,b)}U.mallocUint16=u;function m(b){return new Uint32Array(s(4*b),0,b)}U.mallocUint32=m;function h(b){return new Int8Array(s(b),0,b)}U.mallocInt8=h;function T(b){return new Int16Array(s(2*b),0,b)}U.mallocInt16=T;function f(b){return new Int32Array(s(4*b),0,b)}U.mallocInt32=f;function o(b){return new Float32Array(s(4*b),0,b)}U.mallocFloat32=U.mallocFloat=o;function d(b){return new Float64Array(s(8*b),0,b)}U.mallocFloat64=U.mallocDouble=d;function M(b){return C?new Uint8ClampedArray(s(b),0,b):c(b)}U.mallocUint8Clamped=M;function A(b){return w?new BigUint64Array(s(8*b),0,b):null}U.mallocBigUint64=A;function E(b){return v?new BigInt64Array(s(8*b),0,b):null}U.mallocBigInt64=E;function g(b){return new DataView(s(b),0,b)}U.mallocDataView=g;function S(b){b=p.nextPow2(b);var i=p.log2(b),P=r[i];return P.length>0?P.pop():new n(b)}U.mallocBuffer=S,U.clearCache=function(){for(var i=0;i<32;++i)y.UINT8[i].length=0,y.UINT16[i].length=0,y.UINT32[i].length=0,y.INT8[i].length=0,y.INT16[i].length=0,y.INT32[i].length=0,y.FLOAT[i].length=0,y.DOUBLE[i].length=0,y.BIGUINT64[i].length=0,y.BIGINT64[i].length=0,y.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(G){var U=/[\'\"]/;G.exports=function(p){return p?(U.test(p.charAt(0))&&(p=p.substr(1)),U.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},93447:function(G){G.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var n=0,C=L.length;n<C;n++){var w=L[n];for(var v in w)if(!(p[v]!==void 0&&!Array.isArray(p[v])&&e[v]===p[v])&&v in p){var y;if(w[v]===!0)y=p[v];else{if(w[v]===!1)continue;if(typeof w[v]=="function"&&(y=w[v](p[v],e,p),y===void 0))continue}e[v]=y}}return e}},20588:function(G,U,e){G.exports=p;function p(n,C){if(L("noDeprecation"))return n;var w=!1;function v(){if(!w){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),w=!0}return n.apply(this,arguments)}return v}function L(n){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[n];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(G,U,e){var p=e(47216),L=e(65481),n=e(21099),C=e(9187);function w(Me){return Me.call.bind(Me)}var v=typeof BigInt<"u",y=typeof Symbol<"u",t=w(Object.prototype.toString),r=w(Number.prototype.valueOf),l=w(String.prototype.valueOf),a=w(Boolean.prototype.valueOf);if(v)var s=w(BigInt.prototype.valueOf);if(y)var c=w(Symbol.prototype.valueOf);function u(Me,xe){if(typeof Me!="object")return!1;try{return xe(Me),!0}catch{return!1}}U.isArgumentsObject=p,U.isGeneratorFunction=L,U.isTypedArray=C;function m(Me){return typeof Promise<"u"&&Me instanceof Promise||Me!==null&&typeof Me=="object"&&typeof Me.then=="function"&&typeof Me.catch=="function"}U.isPromise=m;function h(Me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Me):C(Me)||$(Me)}U.isArrayBufferView=h;function T(Me){return n(Me)==="Uint8Array"}U.isUint8Array=T;function f(Me){return n(Me)==="Uint8ClampedArray"}U.isUint8ClampedArray=f;function o(Me){return n(Me)==="Uint16Array"}U.isUint16Array=o;function d(Me){return n(Me)==="Uint32Array"}U.isUint32Array=d;function M(Me){return n(Me)==="Int8Array"}U.isInt8Array=M;function A(Me){return n(Me)==="Int16Array"}U.isInt16Array=A;function E(Me){return n(Me)==="Int32Array"}U.isInt32Array=E;function g(Me){return n(Me)==="Float32Array"}U.isFloat32Array=g;function S(Me){return n(Me)==="Float64Array"}U.isFloat64Array=S;function b(Me){return n(Me)==="BigInt64Array"}U.isBigInt64Array=b;function i(Me){return n(Me)==="BigUint64Array"}U.isBigUint64Array=i;function P(Me){return t(Me)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function x(Me){return typeof Map>"u"?!1:P.working?P(Me):Me instanceof Map}U.isMap=x;function k(Me){return t(Me)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function _(Me){return typeof Set>"u"?!1:k.working?k(Me):Me instanceof Set}U.isSet=_;function B(Me){return t(Me)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function I(Me){return typeof WeakMap>"u"?!1:B.working?B(Me):Me instanceof WeakMap}U.isWeakMap=I;function z(Me){return t(Me)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function O(Me){return z(Me)}U.isWeakSet=O;function F(Me){return t(Me)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function N(Me){return typeof ArrayBuffer>"u"?!1:F.working?F(Me):Me instanceof ArrayBuffer}U.isArrayBuffer=N;function Q(Me){return t(Me)==="[object DataView]"}Q.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Q(new DataView(new ArrayBuffer(1),0,1));function $(Me){return typeof DataView>"u"?!1:Q.working?Q(Me):Me instanceof DataView}U.isDataView=$;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(Me){return t(Me)==="[object SharedArrayBuffer]"}function oe(Me){return typeof j>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new j)),ee.working?ee(Me):Me instanceof j)}U.isSharedArrayBuffer=oe;function Y(Me){return t(Me)==="[object AsyncFunction]"}U.isAsyncFunction=Y;function V(Me){return t(Me)==="[object Map Iterator]"}U.isMapIterator=V;function W(Me){return t(Me)==="[object Set Iterator]"}U.isSetIterator=W;function X(Me){return t(Me)==="[object Generator]"}U.isGeneratorObject=X;function re(Me){return t(Me)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=re;function ie(Me){return u(Me,r)}U.isNumberObject=ie;function K(Me){return u(Me,l)}U.isStringObject=K;function q(Me){return u(Me,a)}U.isBooleanObject=q;function le(Me){return v&&u(Me,s)}U.isBigIntObject=le;function ae(Me){return y&&u(Me,c)}U.isSymbolObject=ae;function he(Me){return ie(Me)||K(Me)||q(Me)||le(Me)||ae(Me)}U.isBoxedPrimitive=he;function me(Me){return typeof Uint8Array<"u"&&(N(Me)||oe(Me))}U.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Me){Object.defineProperty(U,Me,{enumerable:!1,value:function(){throw new Error(Me+" is not supported in userland")}})})},43827:function(G,U,e){var p=e(90386),L=Object.getOwnPropertyDescriptors||function(j){for(var ee=Object.keys(j),oe={},Y=0;Y<ee.length;Y++)oe[ee[Y]]=Object.getOwnPropertyDescriptor(j,ee[Y]);return oe},n=/%[sdj%]/g;U.format=function($){if(!A($)){for(var j=[],ee=0;ee<arguments.length;ee++)j.push(y(arguments[ee]));return j.join(" ")}for(var ee=1,oe=arguments,Y=oe.length,V=String($).replace(n,function(X){if(X==="%%")return"%";if(ee>=Y)return X;switch(X){case"%s":return String(oe[ee++]);case"%d":return Number(oe[ee++]);case"%j":try{return JSON.stringify(oe[ee++])}catch{return"[Circular]"}default:return X}}),W=oe[ee];ee<Y;W=oe[++ee])o(W)||!b(W)?V+=" "+W:V+=" "+y(W);return V},U.deprecate=function($,j){if(typeof p<"u"&&p.noDeprecation===!0)return $;if(typeof p>"u")return function(){return U.deprecate($,j).apply(this,arguments)};var ee=!1;function oe(){if(!ee){if(p.throwDeprecation)throw new Error(j);p.traceDeprecation?console.trace(j):console.error(j),ee=!0}return $.apply(this,arguments)}return oe};var C={},w=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+v+"$","i")}U.debuglog=function($){if($=$.toUpperCase(),!C[$])if(w.test($)){var j=p.pid;C[$]=function(){var ee=U.format.apply(U,arguments);console.error("%s %d: %s",$,j,ee)}}else C[$]=function(){};return C[$]};function y($,j){var ee={seen:[],stylize:r};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),f(j)?ee.showHidden=j:j&&U._extend(ee,j),g(ee.showHidden)&&(ee.showHidden=!1),g(ee.depth)&&(ee.depth=2),g(ee.colors)&&(ee.colors=!1),g(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=t),a(ee,$,ee.depth)}U.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t($,j){var ee=y.styles[j];return ee?"\x1B["+y.colors[ee][0]+"m"+$+"\x1B["+y.colors[ee][1]+"m":$}function r($,j){return $}function l($){var j={};return $.forEach(function(ee,oe){j[ee]=!0}),j}function a($,j,ee){if($.customInspect&&j&&x(j.inspect)&&j.inspect!==U.inspect&&!(j.constructor&&j.constructor.prototype===j)){var oe=j.inspect(ee,$);return A(oe)||(oe=a($,oe,ee)),oe}var Y=s($,j);if(Y)return Y;var V=Object.keys(j),W=l(V);if($.showHidden&&(V=Object.getOwnPropertyNames(j)),P(j)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return c(j);if(V.length===0){if(x(j)){var X=j.name?": "+j.name:"";return $.stylize("[Function"+X+"]","special")}if(S(j))return $.stylize(RegExp.prototype.toString.call(j),"regexp");if(i(j))return $.stylize(Date.prototype.toString.call(j),"date");if(P(j))return c(j)}var re="",ie=!1,K=["{","}"];if(T(j)&&(ie=!0,K=["[","]"]),x(j)){var q=j.name?": "+j.name:"";re=" [Function"+q+"]"}if(S(j)&&(re=" "+RegExp.prototype.toString.call(j)),i(j)&&(re=" "+Date.prototype.toUTCString.call(j)),P(j)&&(re=" "+c(j)),V.length===0&&(!ie||j.length==0))return K[0]+re+K[1];if(ee<0)return S(j)?$.stylize(RegExp.prototype.toString.call(j),"regexp"):$.stylize("[Object]","special");$.seen.push(j);var le;return ie?le=u($,j,ee,W,V):le=V.map(function(ae){return m($,j,ee,W,ae,ie)}),$.seen.pop(),h(le,re,K)}function s($,j){if(g(j))return $.stylize("undefined","undefined");if(A(j)){var ee="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ee,"string")}if(M(j))return $.stylize(""+j,"number");if(f(j))return $.stylize(""+j,"boolean");if(o(j))return $.stylize("null","null")}function c($){return"["+Error.prototype.toString.call($)+"]"}function u($,j,ee,oe,Y){for(var V=[],W=0,X=j.length;W<X;++W)O(j,String(W))?V.push(m($,j,ee,oe,String(W),!0)):V.push("");return Y.forEach(function(re){re.match(/^\d+$/)||V.push(m($,j,ee,oe,re,!0))}),V}function m($,j,ee,oe,Y,V){var W,X,re;if(re=Object.getOwnPropertyDescriptor(j,Y)||{value:j[Y]},re.get?re.set?X=$.stylize("[Getter/Setter]","special"):X=$.stylize("[Getter]","special"):re.set&&(X=$.stylize("[Setter]","special")),O(oe,Y)||(W="["+Y+"]"),X||($.seen.indexOf(re.value)<0?(o(ee)?X=a($,re.value,null):X=a($,re.value,ee-1),X.indexOf(`
`)>-1&&(V?X=X.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):X=$.stylize("[Circular]","special")),g(W)){if(V&&Y.match(/^\d+$/))return X;W=JSON.stringify(""+Y),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=$.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=$.stylize(W,"string"))}return W+": "+X}function h($,j,ee){var oe=$.reduce(function(Y,V){return V.indexOf(`
`)>=0,Y+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?ee[0]+(j===""?"":j+`
 `)+" "+$.join(`,
  `)+" "+ee[1]:ee[0]+j+" "+$.join(", ")+" "+ee[1]}U.types=e(4936);function T($){return Array.isArray($)}U.isArray=T;function f($){return typeof $=="boolean"}U.isBoolean=f;function o($){return $===null}U.isNull=o;function d($){return $==null}U.isNullOrUndefined=d;function M($){return typeof $=="number"}U.isNumber=M;function A($){return typeof $=="string"}U.isString=A;function E($){return typeof $=="symbol"}U.isSymbol=E;function g($){return $===void 0}U.isUndefined=g;function S($){return b($)&&_($)==="[object RegExp]"}U.isRegExp=S,U.types.isRegExp=S;function b($){return typeof $=="object"&&$!==null}U.isObject=b;function i($){return b($)&&_($)==="[object Date]"}U.isDate=i,U.types.isDate=i;function P($){return b($)&&(_($)==="[object Error]"||$ instanceof Error)}U.isError=P,U.types.isNativeError=P;function x($){return typeof $=="function"}U.isFunction=x;function k($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}U.isPrimitive=k,U.isBuffer=e(45920);function _($){return Object.prototype.toString.call($)}function B($){return $<10?"0"+$.toString(10):$.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var $=new Date,j=[B($.getHours()),B($.getMinutes()),B($.getSeconds())].join(":");return[$.getDate(),I[$.getMonth()],j].join(" ")}U.log=function(){console.log("%s - %s",z(),U.format.apply(U,arguments))},U.inherits=e(42018),U._extend=function($,j){if(!j||!b(j))return $;for(var ee=Object.keys(j),oe=ee.length;oe--;)$[ee[oe]]=j[ee[oe]];return $};function O($,j){return Object.prototype.hasOwnProperty.call($,j)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(j){if(typeof j!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&j[F]){var ee=j[F];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,F,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var oe,Y,V=new Promise(function(re,ie){oe=re,Y=ie}),W=[],X=0;X<arguments.length;X++)W.push(arguments[X]);W.push(function(re,ie){re?Y(re):oe(ie)});try{j.apply(this,W)}catch(re){Y(re)}return V}return Object.setPrototypeOf(ee,Object.getPrototypeOf(j)),F&&Object.defineProperty(ee,F,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,L(j))},U.promisify.custom=F;function N($,j){if(!$){var ee=new Error("Promise was rejected with a falsy value");ee.reason=$,$=ee}return j($)}function Q($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function j(){for(var ee=[],oe=0;oe<arguments.length;oe++)ee.push(arguments[oe]);var Y=ee.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var V=this,W=function(){return Y.apply(V,arguments)};$.apply(this,ee).then(function(X){p.nextTick(W.bind(null,null,X))},function(X){p.nextTick(N.bind(null,X,W))})}return Object.setPrototypeOf(j,Object.getPrototypeOf($)),Object.defineProperties(j,L($)),j}U.callbackify=Q},40372:function(G,U,e){var p=e(86249);G.exports=function(n){return p("webgl",n)}},21099:function(G,U,e){var p=e(31353),L=e(72077),n=e(6614),C=e(40383),w=n("Object.prototype.toString"),v=e(84543)(),y=typeof globalThis>"u"?e.g:globalThis,t=L(),r=n("String.prototype.slice"),l={},a=Object.getPrototypeOf;v&&C&&a&&p(t,function(u){if(typeof y[u]=="function"){var m=new y[u];if(Symbol.toStringTag in m){var h=a(m),T=C(h,Symbol.toStringTag);if(!T){var f=a(h);T=C(f,Symbol.toStringTag)}l[u]=T.get}}});var s=function(m){var h=!1;return p(l,function(T,f){if(!h)try{var o=T.call(m);o===f&&(h=o)}catch{}}),h},c=e(9187);G.exports=function(m){return c(m)?!v||!(Symbol.toStringTag in m)?r(w(m),8,-1):s(m):!1}},3961:function(G,U,e){var p=e(63489),L=e(56131),n=p.instance();function C(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,u){if(typeof c=="string"){var m=c.match(v);return m?m[0]:""}var h=this._validateYear(c),T=c.month(),f=""+this.toChineseMonth(h,T);return u&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(h,T)&&(f+="i"),f},monthNames:function(c){if(typeof c=="string"){var u=c.match(y);return u?u[0]:""}var m=this._validateYear(c),h=c.month(),T=this.toChineseMonth(m,h),f=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(m,h)&&(f="闰"+f),f},monthNamesShort:function(c){if(typeof c=="string"){var u=c.match(t);return u?u[0]:""}var m=this._validateYear(c),h=c.month(),T=this.toChineseMonth(m,h),f=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(m,h)&&(f="闰"+f),f},parseMonth:function(c,u){c=this._validateYear(c);var m=parseInt(u),h;if(isNaN(m))u[0]==="闰"&&(h=!0,u=u.substring(1)),u[u.length-1]==="月"&&(u=u.substring(0,u.length-1)),m=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(u);else{var T=u[u.length-1];h=T==="i"||T==="I"}var f=this.toMonthIndex(c,m,h);return f},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,u){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw u.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,u,m){var h=this.intercalaryMonth(c),T=m&&u!==h;if(T||u<1||u>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var f;return h?!m&&u<=h?f=u-1:f=u:f=u-1,f},toChineseMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var m=this.intercalaryMonth(c),h=m?12:11;if(u<0||u>h)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return m?u<m?T=u+1:T=u:T=u+1,T},intercalaryMonth:function(c){c=this._validateYear(c);var u=r[c-r[0]],m=u>>13;return m},isIntercalaryMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var m=this.intercalaryMonth(c);return!!m&&m===u},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,u,m){var h=this._validateYear(c,p.local.invalidyear),T=l[h-l[0]],f=T>>9&4095,o=T>>5&15,d=T&31,M;M=n.newDate(f,o,d),M.add(4-(M.dayOfWeek()||7),"d");var A=this.toJD(c,u,m)-M.toJD();return 1+Math.floor(A/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,u){c.year&&(u=c.month(),c=c.year()),c=this._validateYear(c);var m=r[c-r[0]],h=m>>13,T=h?12:11;if(u>T)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var f=m&1<<12-u?30:29;return f},weekDay:function(c,u,m){return(this.dayOfWeek(c,u,m)||7)<6},toJD:function(c,u,m){var h=this._validate(c,f,m,p.local.invalidDate);c=this._validateYear(h.year()),u=h.month(),m=h.day();var T=this.isIntercalaryMonth(c,u),f=this.toChineseMonth(c,u),o=s(c,f,m,T);return n.toJD(o.year,o.month,o.day)},fromJD:function(c){var u=n.fromJD(c),m=a(u.year(),u.month(),u.day()),h=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,h,m.day)},fromString:function(c){var u=c.match(w),m=this._validateYear(+u[1]),h=+u[2],T=!!u[3],f=this.toMonthIndex(m,h,T),o=+u[4];return this.newDate(m,f,o)},add:function(c,u,m){var h=c.year(),T=c.month(),f=this.isIntercalaryMonth(h,T),o=this.toChineseMonth(h,T),d=Object.getPrototypeOf(C.prototype).add.call(this,c,u,m);if(m==="y"){var M=d.year(),A=d.month(),E=this.isIntercalaryMonth(M,o),g=f&&E?this.toMonthIndex(M,o,!0):this.toMonthIndex(M,o,!1);g!==A&&d.month(g)}return d}});var w=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,y=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=C;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(c,u,m,h){var T,f;if(typeof c=="object")T=c,f=u||{};else{var o=typeof c=="number"&&c>=1888&&c<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=31;if(!M)throw new Error("Solar day outside range 1 - 31");T={year:c,month:u,day:m},f=h||{}}var A=l[T.year-l[0]],E=T.year<<9|T.month<<5|T.day;f.year=E>=A?T.year:T.year-1,A=l[f.year-l[0]];var g=A>>9&4095,S=A>>5&15,b=A&31,i,P=new Date(g,S-1,b),x=new Date(T.year,T.month-1,T.day);i=Math.round((x-P)/864e5);var k=r[f.year-r[0]],_;for(_=0;_<13;_++){var B=k&1<<12-_?30:29;if(i<B)break;i-=B}var I=k>>13;return!I||_<I?(f.isIntercalary=!1,f.month=1+_):_===I?(f.isIntercalary=!0,f.month=_):(f.isIntercalary=!1,f.month=_),f.day=1+i,f}function s(c,u,m,h,T){var f,o;if(typeof c=="object")o=c,f=u||{};else{var d=typeof c=="number"&&c>=1888&&c<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var M=typeof u=="number"&&u>=1&&u<=12;if(!M)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var E;typeof h=="object"?(E=!1,f=h):(E=!!h,f=T||{}),o={year:c,month:u,day:m,isIntercalary:E}}var g;g=o.day-1;var S=r[o.year-r[0]],b=S>>13,i;b&&(o.month>b||o.isIntercalary)?i=o.month:i=o.month-1;for(var P=0;P<i;P++){var x=S&1<<12-P?30:29;g+=x}var k=l[o.year-l[0]],_=k>>9&4095,B=k>>5&15,I=k&31,z=new Date(_,B-1,I+g);return f.year=z.getFullYear(),f.month=1+z.getMonth(),f.day=z.getDate(),f}},38751:function(G,U,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,w,v){var y=this.newDate(C,w,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var v=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,w,v){return(this.dayOfWeek(C,w,v)||7)<6},toJD:function(C,w,v){var y=this._validate(C,w,v,p.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var w=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var y=Math.floor(w/30)+1,t=w-(y-1)*30+1;return this.newDate(v,y,t)}}),p.calendars.coptic=n},86825:function(G,U,e){var p=e(63489),L=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(w,v,y){var t=this.newDate(w,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(w,v){var y=this._validate(w,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);return(t.day()+1)%8},weekDay:function(w,v,y){var t=this.dayOfWeek(w,v,y);return t>=2&&t<=6},extraInfo:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);return{century:C[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);return w=t.year()+(t.year()<0?1:0),v=t.month(),y=t.day(),y+(v>1?16:0)+(v>2?(v-2)*32:0)+(w-1)*400+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(w/400)+1;w-=(v-1)*400,w+=w>15?16:0;var y=Math.floor(w/32)+1,t=w-(y-1)*32+1;return this.newDate(v<=0?v-1:v,y,t)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=n},37715:function(G,U,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,w,v){var y=this.newDate(C,w,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var v=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,w,v){return(this.dayOfWeek(C,w,v)||7)<6},toJD:function(C,w,v){var y=this._validate(C,w,v,p.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var w=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var y=Math.floor(w/30)+1,t=w-(y-1)*30+1;return this.newDate(v,y,t)}}),p.calendars.ethiopian=n},99384:function(G,U,e){var p=e(63489),L=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(w){return w=w<0?w+1:w,C(w*7+1,19)<7},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(w.year?w.year():w)?13:12},weekOfYear:function(w,v,y){var t=this.newDate(w,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return w=v.year(),this.toJD(w===-1?1:w+1,7,1)-this.toJD(w,7,1)},daysInMonth:function(w,v){return w.year&&(v=w.month(),w=w.year()),this._validate(w,v,this.minDay,p.local.invalidMonth),v===12&&this.leapYear(w)||v===8&&C(this.daysInYear(w),10)===5?30:v===9&&C(this.daysInYear(w),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(w,v,y){return this.dayOfWeek(w,v,y)!==6},extraInfo:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);w=t.year(),v=t.month(),y=t.day();var r=w<=0?w+1:w,l=this.jdEpoch+this._delay1(r)+this._delay2(r)+y+1;if(v<7){for(var a=7;a<=this.monthsInYear(w);a++)l+=this.daysInMonth(w,a);for(var a=1;a<v;a++)l+=this.daysInMonth(w,a)}else for(var a=7;a<v;a++)l+=this.daysInMonth(w,a);return l},_delay1:function(w){var v=Math.floor((235*w-234)/19),y=12084+13753*v,t=v*29+Math.floor(y/25920);return C(3*(t+1),7)<3&&t++,t},_delay2:function(w){var v=this._delay1(w-1),y=this._delay1(w),t=this._delay1(w+1);return t-y===356?2:y-v===382?1:0},fromJD:function(w){w=Math.floor(w)+.5;for(var v=Math.floor((w-this.jdEpoch)*98496/35975351)-1;w>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var y=w<this.toJD(v,1,1)?7:1;w>this.toJD(v,y,this.daysInMonth(v,y));)y++;var t=w-this.toJD(v,y,1)+1;return this.newDate(v,y,t)}});function C(w,v){return w-v*Math.floor(w/v)}p.calendars.hebrew=n},43805:function(G,U,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var w=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(w.year()*11+14)%30<11},weekOfYear:function(C,w,v){var y=this.newDate(C,w,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,w){var v=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,w,v){return this.dayOfWeek(C,w,v)!==5},toJD:function(C,w,v){var y=this._validate(C,w,v,p.local.invalidDate);return C=y.year(),w=y.month(),v=y.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(w-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var w=Math.floor((30*(C-this.jdEpoch)+10646)/10631);w=w<=0?w-1:w;var v=Math.min(12,Math.ceil((C-29-this.toJD(w,1,1))/29.5)+1),y=C-this.toJD(w,v,1)+1;return this.newDate(w,v,y)}}),p.calendars.islamic=n},88874:function(G,U,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=w.year()<0?w.year()+1:w.year();return v%4===0},weekOfYear:function(C,w,v){var y=this.newDate(C,w,v);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,w){var v=this._validate(C,w,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,w,v){return(this.dayOfWeek(C,w,v)||7)<6},toJD:function(C,w,v){var y=this._validate(C,w,v,p.local.invalidDate);return C=y.year(),w=y.month(),v=y.day(),C<0&&C++,w<=2&&(C--,w+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(w+1))+v-1524.5},fromJD:function(C){var w=Math.floor(C+.5),v=w+1524,y=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*y),r=Math.floor((v-t)/30.6001),l=r-Math.floor(r<14?1:13),a=y-Math.floor(l>2?4716:4715),s=v-t-Math.floor(30.6001*r);return a<=0&&a--,this.newDate(a,l,s)}}),p.calendars.julian=n},83290:function(G,U,e){var p=e(63489),L=e(56131);function n(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(v){var y=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear);v=y.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var y=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";y=y*20+r}return y},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(v,y,t){return this._validate(v,y,t,p.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(v,y){return this._validate(v,y,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,y,t){var r=this._validate(v,y,t,p.local.invalidDate);return r.day()},weekDay:function(v,y,t){return this._validate(v,y,t,p.local.invalidDate),!0},extraInfo:function(v,y,t){var r=this._validate(v,y,t,p.local.invalidDate),l=r.toJD(),a=this._toHaab(l),s=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(v){v-=this.jdEpoch;var y=C(v+8+(18-1)*20,365);return[Math.floor(y/20)+1,C(y,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[w(v+20,20),w(v+4,13)]},toJD:function(v,y,t){var r=this._validate(v,y,t,p.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var y=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(y,t,r)}});function C(v,y){return v-y*Math.floor(v/y)}function w(v,y){return C(v-1,y)+1}p.calendars.mayan=n},29108:function(G,U,e){var p=e(63489),L=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(w,v,y){var t=this.newDate(w,v,y);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var y=this._validate(w,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(w,v,y){return(this.dayOfWeek(w,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,p.local.invalidMonth),r=t.year();r<0&&r++;for(var l=t.day(),a=1;a<t.month();a++)l+=this.daysPerMonth[a-1];return l+C.toJD(r+1468,3,13)},fromJD:function(w){w=Math.floor(w+.5);for(var v=Math.floor((w-(this.jdEpoch-1))/366);w>=this.toJD(v+1,1,1);)v++;for(var y=w-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;y>this.daysInMonth(v,t);)y-=this.daysInMonth(v,t),t++;return this.newDate(v,t,y)}}),p.calendars.nanakshahi=n},55422:function(G,U,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,w,v){var y=this.newDate(C,w,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){var w=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=w.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,y=this.minMonth;y<=12;y++)v+=this.NEPALI_CALENDAR_DATA[C][y];return v},daysInMonth:function(C,w){return C.year&&(w=C.month(),C=C.year()),this._validate(C,w,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[w-1]:this.NEPALI_CALENDAR_DATA[C][w]},weekDay:function(C,w,v){return this.dayOfWeek(C,w,v)!==6},toJD:function(C,w,v){var y=this._validate(C,w,v,p.local.invalidDate);C=y.year(),w=y.month(),v=y.day();var t=p.instance(),r=0,l=w,a=C;this._createMissingCalendarData(C);var s=C-(l>9||l===9&&v>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(w!==9&&(r=v,l--);l!==9;)l<=0&&(l=12,a--),r+=this.NEPALI_CALENDAR_DATA[a][l],l--;return w===9?(r+=v-this.NEPALI_CALENDAR_DATA[a][0],r<0&&(r+=t.daysInYear(s))):r+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],t.newDate(s,1,1).add(r,"d").toJD()},fromJD:function(C){var w=p.instance(),v=w.fromJD(C),y=v.year(),t=v.dayOfYear(),r=y+56;this._createMissingCalendarData(r);for(var l=9,a=this.NEPALI_CALENDAR_DATA[r][0],s=this.NEPALI_CALENDAR_DATA[r][l]-a+1;t>s;)l++,l>12&&(l=1,r++),s+=this.NEPALI_CALENDAR_DATA[r][l];var c=this.NEPALI_CALENDAR_DATA[r][l]-(s-t);return this.newDate(r,l,c)},_createMissingCalendarData:function(C){var w=this.daysPerMonth.slice(0);w.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=w)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=n},94320:function(G,U,e){var p=e(63489),L=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(w,v,y){var t=this.newDate(w,v,y);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var y=this._validate(w,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(w,v,y){return this.dayOfWeek(w,v,y)!==5},toJD:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate);w=t.year(),v=t.month(),y=t.day();var r=w-(w>=0?474:473),l=474+C(r,2820);return y+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((l*682-110)/2816)+(l-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var v=w-this.toJD(475,1,1),y=Math.floor(v/1029983),t=C(v,1029983),r=2820;if(t!==1029982){var l=Math.floor(t/366),a=C(t,366);r=Math.floor((2134*l+2816*a+2815)/1028522)+l+1}var s=r+2820*y+474;s=s<=0?s-1:s;var c=w-this.toJD(s,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),m=w-this.toJD(s,u,1)+1;return this.newDate(s,u,m)}});function C(w,v){return w-v*Math.floor(w/v)}p.calendars.persian=n,p.calendars.jalali=n},31320:function(G,U,e){var p=e(63489),L=e(56131),n=p.instance();function C(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var v=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),y=this._t2gYear(v.year());return n.leapYear(y)},weekOfYear:function(r,v,y){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,v){var y=this._validate(w,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(w,v,y){return(this.dayOfWeek(w,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,p.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(w){var v=n.fromJD(w),y=this._g2tYear(v.year());return this.newDate(y,v.month(),v.day())},_t2gYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)},_g2tYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},51367:function(G,U,e){var p=e(63489),L=e(56131),n=p.instance();function C(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var v=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),y=this._t2gYear(v.year());return n.leapYear(y)},weekOfYear:function(r,v,y){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,v){var y=this._validate(w,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(w,v,y){return(this.dayOfWeek(w,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,p.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(w){var v=n.fromJD(w),y=this._g2tYear(v.year());return this.newDate(y,v.month(),v.day())},_t2gYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)},_g2tYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)}}),p.calendars.thai=C},21457:function(G,U,e){var p=e(63489),L=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(w,v,y){var t=this.newDate(w,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){for(var v=0,y=1;y<=12;y++)v+=this.daysInMonth(w,y);return v},daysInMonth:function(w,v){for(var y=this._validate(w,v,this.minDay,p.local.invalidMonth),t=y.toJD()-24e5+.5,r=0,l=0;l<C.length;l++){if(C[l]>t)return C[r]-C[r-1];r++}return 30},weekDay:function(w,v,y){return this.dayOfWeek(w,v,y)!==5},toJD:function(w,v,y){var t=this._validate(w,v,y,p.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,l=t.day()+C[r-1]-1;return l+24e5-.5},fromJD:function(w){for(var v=w-24e5+.5,y=0,t=0;t<C.length&&!(C[t]>v);t++)y++;var r=y+15292,l=Math.floor((r-1)/12),a=l+1,s=r-12*l,c=v-C[y-1]+1;return this.newDate(a,s,c)},isValid:function(w,v,y){var t=p.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(w=w.year!=null?w.year:w,t=w>=1276&&w<=1500),t},_validate:function(w,v,y,t){var r=p.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),p.calendars.ummalqura=n;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(G,U,e){var p=e(56131);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var l=this._localCals[t+"-"+r];if(!l&&this.calendars[t]&&(l=new this.calendars[t](r),this._localCals[t+"-"+r]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return l},newDate:function(t,r,l,a,s){return a=(t!=null&&t.year?t.calendar():typeof a=="string"?this.instance(a,s):a)||this.instance(),a.newDate(t,r,l)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(l){return t[l]})}},substituteChineseDigits:function(t,r){return function(l){for(var a="",s=0;l>0;){var c=l%10;a=(c===0?"":t[c]+r[s])+a,s++,l=Math.floor(l/10)}return a.indexOf(t[1]+r[1])===0&&(a=a.substr(1)),a||t[0]}}});function n(t,r,l,a){if(this._calendar=t,this._year=r,this._month=l,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}p(n.prototype,{newDate:function(t,r,l){return this._calendar.newDate(t??this,r,l)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,l){if(!this._calendar.isValid(t,r,l))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function w(){this.shortYearCutoff="+10"}p(w.prototype,{_validateLevel:0,newDate:function(t,r,l){return t==null?this.today():(t.year&&(this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),l=t.day(),r=t.month(),t=t.year()),new n(this,t,r,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+C(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var l=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(t,r){var l=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,l,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth),l},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,l){var a=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,l){var a=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(t,r,l){return this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),{}},add:function(t,r,l){return this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,l),r,l)},_add:function(t,r,l){if(this._validateLevel++,l==="d"||l==="w"){var a=t.toJD()+r*(l==="w"?this.daysInWeek():1),s=t.calendar().fromJD(a);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var c=t.year()+(l==="y"?r:0),u=t.monthOfYear()+(l==="m"?r:0),s=t.day(),m=function(f){for(;u<f.minMonth;)c--,u+=f.monthsInYear(c);for(var o=f.monthsInYear(c);u>o-1+f.minMonth;)c++,u-=o,o=f.monthsInYear(c)};l==="y"?(t.month()!==this.fromMonthOfYear(c,u)&&(u=this.newDate(c,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(c)),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u)))):l==="m"&&(m(this),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u))));var h=[c,this.fromMonthOfYear(c,u),s];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(t,r,l,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],c=l<0?-1:1;r=this._add(t,l*s[0]+c*s[1],s[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,l){this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate);var a=l==="y"?r:t.year(),s=l==="m"?r:t.month(),c=l==="d"?r:t.day();return(l==="y"||l==="m")&&(c=Math.min(c,this.daysInMonth(a,s))),t.date(a,s,c)},isValid:function(t,r,l){this._validateLevel++;var a=this.hasYearZero||t!==0;if(a){var s=this.newDate(t,r,this.minDay);a=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(s)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(s)}return this._validateLevel--,a},toJSDate:function(t,r,l){var a=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return y.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(t){return this.fromJD(y.instance().fromJSDate(t).toJD())},_validate:function(t,r,l,a){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,l))throw a.replace(/\{0\}/,this.local.name);var s=this.newDate(t,r,l);return this._validateLevel--,s}catch(c){throw this._validateLevel--,c}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new w,p(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),l=r.year()+(r.year()<0?1:0);return l%4===0&&(l%100!==0||l%400===0)},weekOfYear:function(t,r,l){var a=this.newDate(t,r,l);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var l=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,r,l){return(this.dayOfWeek(t,r,l)||7)<6},toJD:function(t,r,l){var a=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);t=a.year(),r=a.month(),l=a.day(),t<0&&t++,r<3&&(r+=12,t--);var s=Math.floor(t/100),c=2-s+Math.floor(s/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+l+c-1524.5},fromJD:function(t){var r=Math.floor(t+.5),l=Math.floor((r-186721625e-2)/36524.25);l=r+1+l-Math.floor(l/4);var a=l+1524,s=Math.floor((a-122.1)/365.25),c=Math.floor(365.25*s),u=Math.floor((a-c)/30.6001),m=a-c-Math.floor(u*30.6001),h=u-(u>13.5?13:1),T=s-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,m)},toJSDate:function(t,r,l){var a=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),s=new Date(a.year(),a.month()-1,a.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var y=G.exports=new L;y.cdate=n,y.baseCalendar=w,y.calendars.gregorian=v},94338:function(G,U,e){var p=e(56131),L=e(63489);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(n,C){return typeof n!="string"&&(C=n,n=""),this._calendar.formatDate(n||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,C,w){if(typeof n!="string"&&(w=C,C=n,n=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,w=w||{};var v=w.dayNamesShort||this.local.dayNamesShort,y=w.dayNames||this.local.dayNames,t=w.monthNumbers||this.local.monthNumbers,r=w.monthNamesShort||this.local.monthNamesShort,l=w.monthNames||this.local.monthNames;w.calculateWeek||this.local.calculateWeek;for(var a=function(A,E){for(var g=1;M+g<n.length&&n.charAt(M+g)===A;)g++;return M+=g-1,Math.floor(g/(E||1))>1},s=function(A,E,g,S){var b=""+E;if(a(A,S))for(;b.length<g;)b="0"+b;return b},c=function(A,E,g,S){return a(A)?S[E]:g[E]},u=this,m=function(A){return typeof t=="function"?t.call(u,A,a("m")):f(s("m",A.month(),2))},h=function(A,E){return E?typeof l=="function"?l.call(u,A):l[A.month()-u.minMonth]:typeof r=="function"?r.call(u,A):r[A.month()-u.minMonth]},T=this.local.digits,f=function(A){return w.localNumbers&&T?T(A):A},o="",d=!1,M=0;M<n.length;M++)if(d)n.charAt(M)==="'"&&!a("'")?d=!1:o+=n.charAt(M);else switch(n.charAt(M)){case"d":o+=f(s("d",C.day(),2));break;case"D":o+=c("D",C.dayOfWeek(),v,y);break;case"o":o+=s("o",C.dayOfYear(),3);break;case"w":o+=s("w",C.weekOfYear(),2);break;case"m":o+=m(C);break;case"M":o+=h(C,a("M"));break;case"y":o+=a("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":a("Y",2),o+=C.formatYear();break;case"J":o+=C.toJD();break;case"@":o+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?o+="'":d=!0;break;default:o+=n.charAt(M)}return o},parseDate:function(n,C,w){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;n=n||this.local.dateFormat,w=w||{};var v=w.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var y=w.dayNamesShort||this.local.dayNamesShort,t=w.dayNames||this.local.dayNames,r=w.parseMonth||this.local.parseMonth,l=w.monthNumbers||this.local.monthNumbers,a=w.monthNamesShort||this.local.monthNamesShort,s=w.monthNames||this.local.monthNames,c=-1,u=-1,m=-1,h=-1,T=-1,f=!1,o=!1,d=function(_,B){for(var I=1;P+I<n.length&&n.charAt(P+I)===_;)I++;return P+=I-1,Math.floor(I/(B||1))>1},M=function(_,B){var I=d(_,B),z=[2,3,I?4:2,I?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],O=new RegExp("^-?\\d{1,"+z+"}"),F=C.substring(i).match(O);if(!F)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=F[0].length,parseInt(F[0],10)},A=this,E=function(){if(typeof l=="function"){d("m");var _=l.call(A,C.substring(i));return i+=_.length,_}return M("m")},g=function(_,B,I,z){for(var O=d(_,z)?I:B,F=0;F<O.length;F++)if(C.substr(i,O[F].length).toLowerCase()===O[F].toLowerCase())return i+=O[F].length,F+A.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},S=function(){if(typeof s=="function"){var _=d("M")?s.call(A,C.substring(i)):a.call(A,C.substring(i));return i+=_.length,_}return g("M",a,s)},b=function(){if(C.charAt(i)!==n.charAt(P))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,P=0;P<n.length;P++)if(o)n.charAt(P)==="'"&&!d("'")?o=!1:b();else switch(n.charAt(P)){case"d":h=M("d");break;case"D":g("D",y,t);break;case"o":T=M("o");break;case"w":M("w");break;case"m":m=E();break;case"M":m=S();break;case"y":var x=P;f=!d("y",2),P=x,u=M("y",2);break;case"Y":u=M("Y",2);break;case"J":c=M("J")+.5,C.charAt(i)==="."&&(i++,M("J"));break;case"@":c=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=C.length;break;case"'":d("'")?b():o=!0;break;default:b()}if(i<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&f&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof m=="string"&&(m=r.call(this,u,m)),T>-1){m=1,h=T;for(var k=this.daysInMonth(u,m);h>k;k=this.daysInMonth(u,m))m++,h-=k}return c>-1?this.fromJD(c):this.newDate(u,m,h)},determineDate:function(n,C,w,v,y){w&&typeof w!="object"&&(y=v,v=w,w=null),typeof v!="string"&&(y=v,v="");var t=this,r=function(l){try{return t.parseDate(v,l,y)}catch{}l=l.toLowerCase();for(var a=(l.match(/^c/)&&w?w.newDate():null)||t.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=s.exec(l);c;)a.add(parseInt(c[1],10),c[2]||"d"),c=s.exec(l);return a};return C=C?C.newDate():null,n=n==null?C:typeof n=="string"?r(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?C:t.today().add(n,"d"):t.newDate(n),n}})},69862:function(){},40964:function(){},72077:function(G,U,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var C=[],w=0;w<p.length;w++)typeof L[p[w]]=="function"&&(C[C.length]=p[w]);return C}},81684:function(G,U,e){e.d(U,{sX:function(){return Te},k4:function(){return ie}});function p(ye,Ae,Be){ye.prototype=Ae.prototype=Be,Be.constructor=ye}function L(ye,Ae){var Be=Object.create(ye.prototype);for(var Ue in Ae)Be[Ue]=Ae[Ue];return Be}function n(){}var C=.7,w=1/C,v="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),a=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),s=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(y,"\\)$")),c=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(y,"\\)$")),u=new RegExp("^hsl\\(".concat(y,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(y,",").concat(t,",").concat(t,",").concat(y,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(n,M,{copy:function(Ae){return Object.assign(new this.constructor,this,Ae)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:f,formatHsl:o,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function f(){return this.rgb().formatHex8()}function o(){return z(this).formatHsl()}function d(){return this.rgb().formatRgb()}function M(ye){var Ae,Be;return ye=(ye+"").trim().toLowerCase(),(Ae=r.exec(ye))?(Be=Ae[1].length,Ae=parseInt(Ae[1],16),Be===6?A(Ae):Be===3?new b(Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,(Ae&15)<<4|Ae&15,1):Be===8?E(Ae>>24&255,Ae>>16&255,Ae>>8&255,(Ae&255)/255):Be===4?E(Ae>>12&15|Ae>>8&240,Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,((Ae&15)<<4|Ae&15)/255):null):(Ae=l.exec(ye))?new b(Ae[1],Ae[2],Ae[3],1):(Ae=a.exec(ye))?new b(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,1):(Ae=s.exec(ye))?E(Ae[1],Ae[2],Ae[3],Ae[4]):(Ae=c.exec(ye))?E(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,Ae[4]):(Ae=u.exec(ye))?I(Ae[1],Ae[2]/100,Ae[3]/100,1):(Ae=m.exec(ye))?I(Ae[1],Ae[2]/100,Ae[3]/100,Ae[4]):h.hasOwnProperty(ye)?A(h[ye]):ye==="transparent"?new b(NaN,NaN,NaN,0):null}function A(ye){return new b(ye>>16&255,ye>>8&255,ye&255,1)}function E(ye,Ae,Be,Ue){return Ue<=0&&(ye=Ae=Be=NaN),new b(ye,Ae,Be,Ue)}function g(ye){return ye instanceof n||(ye=M(ye)),ye?(ye=ye.rgb(),new b(ye.r,ye.g,ye.b,ye.opacity)):new b}function S(ye,Ae,Be,Ue){return arguments.length===1?g(ye):new b(ye,Ae,Be,Ue??1)}function b(ye,Ae,Be,Ue){this.r=+ye,this.g=+Ae,this.b=+Be,this.opacity=+Ue}p(b,S,L(n,{brighter:function(Ae){return Ae=Ae==null?w:Math.pow(w,Ae),new b(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?C:Math.pow(C,Ae),new b(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},rgb:function(){return this},clamp:function(){return new b(_(this.r),_(this.g),_(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:P,formatRgb:x,toString:x}));function i(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function P(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B((isNaN(this.opacity)?1:this.opacity)*255))}function x(){var ye=k(this.opacity);return"".concat(ye===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(ye===1?")":", ".concat(ye,")"))}function k(ye){return isNaN(ye)?1:Math.max(0,Math.min(1,ye))}function _(ye){return Math.max(0,Math.min(255,Math.round(ye)||0))}function B(ye){return ye=_(ye),(ye<16?"0":"")+ye.toString(16)}function I(ye,Ae,Be,Ue){return Ue<=0?ye=Ae=Be=NaN:Be<=0||Be>=1?ye=Ae=NaN:Ae<=0&&(ye=NaN),new F(ye,Ae,Be,Ue)}function z(ye){if(ye instanceof F)return new F(ye.h,ye.s,ye.l,ye.opacity);if(ye instanceof n||(ye=M(ye)),!ye)return new F;if(ye instanceof F)return ye;ye=ye.rgb();var Ae=ye.r/255,Be=ye.g/255,Ue=ye.b/255,De=Math.min(Ae,Be,Ue),He=Math.max(Ae,Be,Ue),ut=NaN,et=He-De,Qe=(He+De)/2;return et?(Ae===He?ut=(Be-Ue)/et+(Be<Ue)*6:Be===He?ut=(Ue-Ae)/et+2:ut=(Ae-Be)/et+4,et/=Qe<.5?He+De:2-He-De,ut*=60):et=Qe>0&&Qe<1?0:ut,new F(ut,et,Qe,ye.opacity)}function O(ye,Ae,Be,Ue){return arguments.length===1?z(ye):new F(ye,Ae,Be,Ue??1)}function F(ye,Ae,Be,Ue){this.h=+ye,this.s=+Ae,this.l=+Be,this.opacity=+Ue}p(F,O,L(n,{brighter:function(Ae){return Ae=Ae==null?w:Math.pow(w,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?C:Math.pow(C,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},rgb:function(){var Ae=this.h%360+(this.h<0)*360,Be=isNaN(Ae)||isNaN(this.s)?0:this.s,Ue=this.l,De=Ue+(Ue<.5?Ue:1-Ue)*Be,He=2*Ue-De;return new b($(Ae>=240?Ae-240:Ae+120,He,De),$(Ae,He,De),$(Ae<120?Ae+240:Ae-120,He,De),this.opacity)},clamp:function(){return new F(N(this.h),Q(this.s),Q(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ae=k(this.opacity);return"".concat(Ae===1?"hsl(":"hsla(").concat(N(this.h),", ").concat(Q(this.s)*100,"%, ").concat(Q(this.l)*100,"%").concat(Ae===1?")":", ".concat(Ae,")"))}}));function N(ye){return ye=(ye||0)%360,ye<0?ye+360:ye}function Q(ye){return Math.max(0,Math.min(1,ye||0))}function $(ye,Ae,Be){return(ye<60?Ae+(Be-Ae)*ye/60:ye<180?Be:ye<240?Ae+(Be-Ae)*(240-ye)/60:Ae)*255}var j=function(ye){return function(){return ye}};function ee(ye,Ae){return function(Be){return ye+Be*Ae}}function oe(ye,Ae,Be){return ye=Math.pow(ye,Be),Ae=Math.pow(Ae,Be)-ye,Be=1/Be,function(Ue){return Math.pow(ye+Ue*Ae,Be)}}function Y(ye){return(ye=+ye)==1?V:function(Ae,Be){return Be-Ae?oe(Ae,Be,ye):j(isNaN(Ae)?Be:Ae)}}function V(ye,Ae){var Be=Ae-ye;return Be?ee(ye,Be):j(isNaN(ye)?Ae:ye)}var W=function ye(Ae){var Be=Y(Ae);function Ue(De,He){var ut=Be((De=S(De)).r,(He=S(He)).r),et=Be(De.g,He.g),Qe=Be(De.b,He.b),qe=V(De.opacity,He.opacity);return function(ft){return De.r=ut(ft),De.g=et(ft),De.b=Qe(ft),De.opacity=qe(ft),De+""}}return Ue.gamma=ye,Ue}(1);function X(ye,Ae){var Be=Ae?Ae.length:0,Ue=ye?Math.min(Be,ye.length):0,De=new Array(Ue),He=new Array(Be),ut;for(ut=0;ut<Ue;++ut)De[ut]=Te(ye[ut],Ae[ut]);for(;ut<Be;++ut)He[ut]=Ae[ut];return function(et){for(ut=0;ut<Ue;++ut)He[ut]=De[ut](et);return He}}function re(ye,Ae){var Be=new Date;return ye=+ye,Ae=+Ae,function(Ue){return Be.setTime(ye*(1-Ue)+Ae*Ue),Be}}function ie(ye,Ae){return ye=+ye,Ae=+Ae,function(Be){return ye*(1-Be)+Ae*Be}}function K(ye){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},K(ye)}function q(ye,Ae){var Be={},Ue={},De;(ye===null||K(ye)!=="object")&&(ye={}),(Ae===null||K(Ae)!=="object")&&(Ae={});for(De in Ae)De in ye?Be[De]=Te(ye[De],Ae[De]):Ue[De]=Ae[De];return function(He){for(De in Be)Ue[De]=Be[De](He);return Ue}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(le.source,"g");function he(ye){return function(){return ye}}function me(ye){return function(Ae){return ye(Ae)+""}}function Me(ye,Ae){var Be=le.lastIndex=ae.lastIndex=0,Ue,De,He,ut=-1,et=[],Qe=[];for(ye=ye+"",Ae=Ae+"";(Ue=le.exec(ye))&&(De=ae.exec(Ae));)(He=De.index)>Be&&(He=Ae.slice(Be,He),et[ut]?et[ut]+=He:et[++ut]=He),(Ue=Ue[0])===(De=De[0])?et[ut]?et[ut]+=De:et[++ut]=De:(et[++ut]=null,Qe.push({i:ut,x:ie(Ue,De)})),Be=ae.lastIndex;return Be<Ae.length&&(He=Ae.slice(Be),et[ut]?et[ut]+=He:et[++ut]=He),et.length<2?Qe[0]?me(Qe[0].x):he(Ae):(Ae=Qe.length,function(qe){for(var ft=0,gt;ft<Ae;++ft)et[(gt=Qe[ft]).i]=gt.x(qe);return et.join("")})}function xe(ye,Ae){Ae||(Ae=[]);var Be=ye?Math.min(Ae.length,ye.length):0,Ue=Ae.slice(),De;return function(He){for(De=0;De<Be;++De)Ue[De]=ye[De]*(1-He)+Ae[De]*He;return Ue}}function Ie(ye){return ArrayBuffer.isView(ye)&&!(ye instanceof DataView)}function _e(ye){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},_e(ye)}function Te(ye,Ae){var Be=_e(Ae),Ue;return Ae==null||Be==="boolean"?j(Ae):(Be==="number"?ie:Be==="string"?(Ue=M(Ae))?(Ae=Ue,W):Me:Ae instanceof M?W:Ae instanceof Date?re:Ie(Ae)?xe:Array.isArray(Ae)?X:typeof Ae.valueOf!="function"&&typeof Ae.toString!="function"||isNaN(Ae)?q:ie)(ye,Ae)}},40402:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ne={};function je(G){var U=Ne[G];if(U!==void 0)return U.exports;var e=Ne[G]={exports:{}};return Ee[G].call(e.exports,e,e.exports,je),e.exports}(function(){je.n=function(G){var U=G&&G.__esModule?function(){return G.default}:function(){return G};return je.d(U,{a:U}),U}})(),function(){je.d=function(G,U){for(var e in U)je.o(U,e)&&!je.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:U[e]})}}(),function(){je.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){je.o=function(G,U){return Object.prototype.hasOwnProperty.call(G,U)}}(),function(){je.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var pt=je(27909);return pt}()})})(a4);var q1={},Mp={},Sp=34,Tv=10,Ep=13;function $x(J){return new Function("d","return {"+J.map(function(ce,Ee){return JSON.stringify(ce)+": d["+Ee+'] || ""'}).join(",")+"}")}function i4(J,ce){var Ee=$x(J);return function(Ne,je){return ce(Ee(Ne),je,J)}}function em(J){var ce=Object.create(null),Ee=[];return J.forEach(function(Ne){for(var je in Ne)je in ce||Ee.push(ce[je]=je)}),Ee}function Us(J,ce){var Ee=J+"",Ne=Ee.length;return Ne<ce?new Array(ce-Ne+1).join(0)+Ee:Ee}function o4(J){return J<0?"-"+Us(-J,6):J>9999?"+"+Us(J,6):Us(J,4)}function s4(J){var ce=J.getUTCHours(),Ee=J.getUTCMinutes(),Ne=J.getUTCSeconds(),je=J.getUTCMilliseconds();return isNaN(J)?"Invalid Date":o4(J.getUTCFullYear())+"-"+Us(J.getUTCMonth()+1,2)+"-"+Us(J.getUTCDate(),2)+(je?"T"+Us(ce,2)+":"+Us(Ee,2)+":"+Us(Ne,2)+"."+Us(je,3)+"Z":Ne?"T"+Us(ce,2)+":"+Us(Ee,2)+":"+Us(Ne,2)+"Z":Ee||ce?"T"+Us(ce,2)+":"+Us(Ee,2)+"Z":"")}function l4(J){var ce=new RegExp('["'+J+`
\r]`),Ee=J.charCodeAt(0);function Ne(n,C){var w,v,y=je(n,function(t,r){if(w)return w(t,r-1);v=t,w=C?i4(t,C):$x(t)});return y.columns=v||[],y}function je(n,C){var w=[],v=n.length,y=0,t=0,r,l=v<=0,a=!1;n.charCodeAt(v-1)===Tv&&--v,n.charCodeAt(v-1)===Ep&&--v;function s(){if(l)return Mp;if(a)return a=!1,q1;var u,m=y,h;if(n.charCodeAt(m)===Sp){for(;y++<v&&n.charCodeAt(y)!==Sp||n.charCodeAt(++y)===Sp;);return(u=y)>=v?l=!0:(h=n.charCodeAt(y++))===Tv?a=!0:h===Ep&&(a=!0,n.charCodeAt(y)===Tv&&++y),n.slice(m+1,u-1).replace(/""/g,'"')}for(;y<v;){if((h=n.charCodeAt(u=y++))===Tv)a=!0;else if(h===Ep)a=!0,n.charCodeAt(y)===Tv&&++y;else if(h!==Ee)continue;return n.slice(m,u)}return l=!0,n.slice(m,v)}for(;(r=s())!==Mp;){for(var c=[];r!==q1&&r!==Mp;)c.push(r),r=s();C&&(c=C(c,t++))==null||w.push(c)}return w}function pt(n,C){return n.map(function(w){return C.map(function(v){return L(w[v])}).join(J)})}function G(n,C){return C==null&&(C=em(n)),[C.map(L).join(J)].concat(pt(n,C)).join(`
`)}function U(n,C){return C==null&&(C=em(n)),pt(n,C).join(`
`)}function e(n){return n.map(p).join(`
`)}function p(n){return n.map(L).join(J)}function L(n){return n==null?"":n instanceof Date?s4(n):ce.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:Ne,parseRows:je,format:G,formatBody:U,formatRows:e,formatRow:p,formatValue:L}}var u4=l4(","),P8=u4.parse;class qc{constructor(){this._partials=new Float64Array(32),this._n=0}add(ce){const Ee=this._partials;let Ne=0;for(let je=0;je<this._n&&je<32;je++){const pt=Ee[je],G=ce+pt,U=Math.abs(ce)<Math.abs(pt)?ce-(G-pt):pt-(G-ce);U&&(Ee[Ne++]=U),ce=G}return Ee[Ne]=ce,this._n=Ne+1,this}valueOf(){const ce=this._partials;let Ee=this._n,Ne,je,pt,G=0;if(Ee>0){for(G=ce[--Ee];Ee>0&&(Ne=G,je=ce[--Ee],G=Ne+je,pt=je-(G-Ne),!pt););Ee>0&&(pt<0&&ce[Ee-1]<0||pt>0&&ce[Ee-1]>0)&&(je=pt*2,Ne=G+je,je==Ne-G&&(G=Ne))}return G}}function*f4(J){for(const ce of J)yield*ce}function qx(J){return Array.from(f4(J))}var c4={value:()=>{}};function e2(){for(var J=0,ce=arguments.length,Ee={},Ne;J<ce;++J){if(!(Ne=arguments[J]+"")||Ne in Ee||/[\s.]/.test(Ne))throw new Error("illegal type: "+Ne);Ee[Ne]=[]}return new Jd(Ee)}function Jd(J){this._=J}function h4(J,ce){return J.trim().split(/^|\s+/).map(function(Ee){var Ne="",je=Ee.indexOf(".");if(je>=0&&(Ne=Ee.slice(je+1),Ee=Ee.slice(0,je)),Ee&&!ce.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:Ne}})}Jd.prototype=e2.prototype={constructor:Jd,on:function(J,ce){var Ee=this._,Ne=h4(J+"",Ee),je,pt=-1,G=Ne.length;if(arguments.length<2){for(;++pt<G;)if((je=(J=Ne[pt]).type)&&(je=v4(Ee[je],J.name)))return je;return}if(ce!=null&&typeof ce!="function")throw new Error("invalid callback: "+ce);for(;++pt<G;)if(je=(J=Ne[pt]).type)Ee[je]=tm(Ee[je],J.name,ce);else if(ce==null)for(je in Ee)Ee[je]=tm(Ee[je],J.name,null);return this},copy:function(){var J={},ce=this._;for(var Ee in ce)J[Ee]=ce[Ee].slice();return new Jd(J)},call:function(J,ce){if((je=arguments.length-2)>0)for(var Ee=new Array(je),Ne=0,je,pt;Ne<je;++Ne)Ee[Ne]=arguments[Ne+2];if(!this._.hasOwnProperty(J))throw new Error("unknown type: "+J);for(pt=this._[J],Ne=0,je=pt.length;Ne<je;++Ne)pt[Ne].value.apply(ce,Ee)},apply:function(J,ce,Ee){if(!this._.hasOwnProperty(J))throw new Error("unknown type: "+J);for(var Ne=this._[J],je=0,pt=Ne.length;je<pt;++je)Ne[je].value.apply(ce,Ee)}};function v4(J,ce){for(var Ee=0,Ne=J.length,je;Ee<Ne;++Ee)if((je=J[Ee]).name===ce)return je.value}function tm(J,ce,Ee){for(var Ne=0,je=J.length;Ne<je;++Ne)if(J[Ne].name===ce){J[Ne]=c4,J=J.slice(0,Ne).concat(J.slice(Ne+1));break}return Ee!=null&&J.push({name:ce,value:Ee}),J}var Jp="http://www.w3.org/1999/xhtml";const rm={svg:"http://www.w3.org/2000/svg",xhtml:Jp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function k0(J){var ce=J+="",Ee=ce.indexOf(":");return Ee>=0&&(ce=J.slice(0,Ee))!=="xmlns"&&(J=J.slice(Ee+1)),rm.hasOwnProperty(ce)?{space:rm[ce],local:J}:J}function d4(J){return function(){var ce=this.ownerDocument,Ee=this.namespaceURI;return Ee===Jp&&ce.documentElement.namespaceURI===Jp?ce.createElement(J):ce.createElementNS(Ee,J)}}function p4(J){return function(){return this.ownerDocument.createElementNS(J.space,J.local)}}function t2(J){var ce=k0(J);return(ce.local?p4:d4)(ce)}function g4(){}function Hg(J){return J==null?g4:function(){return this.querySelector(J)}}function y4(J){typeof J!="function"&&(J=Hg(J));for(var ce=this._groups,Ee=ce.length,Ne=new Array(Ee),je=0;je<Ee;++je)for(var pt=ce[je],G=pt.length,U=Ne[je]=new Array(G),e,p,L=0;L<G;++L)(e=pt[L])&&(p=J.call(e,e.__data__,L,pt))&&("__data__"in e&&(p.__data__=e.__data__),U[L]=p);return new al(Ne,this._parents)}function m4(J){return J==null?[]:Array.isArray(J)?J:Array.from(J)}function x4(){return[]}function r2(J){return J==null?x4:function(){return this.querySelectorAll(J)}}function b4(J){return function(){return m4(J.apply(this,arguments))}}function w4(J){typeof J=="function"?J=b4(J):J=r2(J);for(var ce=this._groups,Ee=ce.length,Ne=[],je=[],pt=0;pt<Ee;++pt)for(var G=ce[pt],U=G.length,e,p=0;p<U;++p)(e=G[p])&&(Ne.push(J.call(e,e.__data__,p,G)),je.push(e));return new al(Ne,je)}function n2(J){return function(){return this.matches(J)}}function a2(J){return function(ce){return ce.matches(J)}}var T4=Array.prototype.find;function A4(J){return function(){return T4.call(this.children,J)}}function M4(){return this.firstElementChild}function S4(J){return this.select(J==null?M4:A4(typeof J=="function"?J:a2(J)))}var E4=Array.prototype.filter;function C4(){return Array.from(this.children)}function L4(J){return function(){return E4.call(this.children,J)}}function P4(J){return this.selectAll(J==null?C4:L4(typeof J=="function"?J:a2(J)))}function R4(J){typeof J!="function"&&(J=n2(J));for(var ce=this._groups,Ee=ce.length,Ne=new Array(Ee),je=0;je<Ee;++je)for(var pt=ce[je],G=pt.length,U=Ne[je]=[],e,p=0;p<G;++p)(e=pt[p])&&J.call(e,e.__data__,p,pt)&&U.push(e);return new al(Ne,this._parents)}function i2(J){return new Array(J.length)}function D4(){return new al(this._enter||this._groups.map(i2),this._parents)}function o0(J,ce){this.ownerDocument=J.ownerDocument,this.namespaceURI=J.namespaceURI,this._next=null,this._parent=J,this.__data__=ce}o0.prototype={constructor:o0,appendChild:function(J){return this._parent.insertBefore(J,this._next)},insertBefore:function(J,ce){return this._parent.insertBefore(J,ce)},querySelector:function(J){return this._parent.querySelector(J)},querySelectorAll:function(J){return this._parent.querySelectorAll(J)}};function I4(J){return function(){return J}}function _4(J,ce,Ee,Ne,je,pt){for(var G=0,U,e=ce.length,p=pt.length;G<p;++G)(U=ce[G])?(U.__data__=pt[G],Ne[G]=U):Ee[G]=new o0(J,pt[G]);for(;G<e;++G)(U=ce[G])&&(je[G]=U)}function F4(J,ce,Ee,Ne,je,pt,G){var U,e,p=new Map,L=ce.length,n=pt.length,C=new Array(L),w;for(U=0;U<L;++U)(e=ce[U])&&(C[U]=w=G.call(e,e.__data__,U,ce)+"",p.has(w)?je[U]=e:p.set(w,e));for(U=0;U<n;++U)w=G.call(J,pt[U],U,pt)+"",(e=p.get(w))?(Ne[U]=e,e.__data__=pt[U],p.delete(w)):Ee[U]=new o0(J,pt[U]);for(U=0;U<L;++U)(e=ce[U])&&p.get(C[U])===e&&(je[U]=e)}function k4(J){return J.__data__}function z4(J,ce){if(!arguments.length)return Array.from(this,k4);var Ee=ce?F4:_4,Ne=this._parents,je=this._groups;typeof J!="function"&&(J=I4(J));for(var pt=je.length,G=new Array(pt),U=new Array(pt),e=new Array(pt),p=0;p<pt;++p){var L=Ne[p],n=je[p],C=n.length,w=O4(J.call(L,L&&L.__data__,p,Ne)),v=w.length,y=U[p]=new Array(v),t=G[p]=new Array(v),r=e[p]=new Array(C);Ee(L,n,y,t,r,w,ce);for(var l=0,a=0,s,c;l<v;++l)if(s=y[l]){for(l>=a&&(a=l+1);!(c=t[a])&&++a<v;);s._next=c||null}}return G=new al(G,Ne),G._enter=U,G._exit=e,G}function O4(J){return typeof J=="object"&&"length"in J?J:Array.from(J)}function B4(){return new al(this._exit||this._groups.map(i2),this._parents)}function N4(J,ce,Ee){var Ne=this.enter(),je=this,pt=this.exit();return typeof J=="function"?(Ne=J(Ne),Ne&&(Ne=Ne.selection())):Ne=Ne.append(J+""),ce!=null&&(je=ce(je),je&&(je=je.selection())),Ee==null?pt.remove():Ee(pt),Ne&&je?Ne.merge(je).order():je}function U4(J){for(var ce=J.selection?J.selection():J,Ee=this._groups,Ne=ce._groups,je=Ee.length,pt=Ne.length,G=Math.min(je,pt),U=new Array(je),e=0;e<G;++e)for(var p=Ee[e],L=Ne[e],n=p.length,C=U[e]=new Array(n),w,v=0;v<n;++v)(w=p[v]||L[v])&&(C[v]=w);for(;e<je;++e)U[e]=Ee[e];return new al(U,this._parents)}function H4(){for(var J=this._groups,ce=-1,Ee=J.length;++ce<Ee;)for(var Ne=J[ce],je=Ne.length-1,pt=Ne[je],G;--je>=0;)(G=Ne[je])&&(pt&&G.compareDocumentPosition(pt)^4&&pt.parentNode.insertBefore(G,pt),pt=G);return this}function V4(J){J||(J=G4);function ce(n,C){return n&&C?J(n.__data__,C.__data__):!n-!C}for(var Ee=this._groups,Ne=Ee.length,je=new Array(Ne),pt=0;pt<Ne;++pt){for(var G=Ee[pt],U=G.length,e=je[pt]=new Array(U),p,L=0;L<U;++L)(p=G[L])&&(e[L]=p);e.sort(ce)}return new al(je,this._parents).order()}function G4(J,ce){return J<ce?-1:J>ce?1:J>=ce?0:NaN}function W4(){var J=arguments[0];return arguments[0]=this,J.apply(null,arguments),this}function Y4(){return Array.from(this)}function Z4(){for(var J=this._groups,ce=0,Ee=J.length;ce<Ee;++ce)for(var Ne=J[ce],je=0,pt=Ne.length;je<pt;++je){var G=Ne[je];if(G)return G}return null}function X4(){let J=0;for(const ce of this)++J;return J}function j4(){return!this.node()}function K4(J){for(var ce=this._groups,Ee=0,Ne=ce.length;Ee<Ne;++Ee)for(var je=ce[Ee],pt=0,G=je.length,U;pt<G;++pt)(U=je[pt])&&J.call(U,U.__data__,pt,je);return this}function J4(J){return function(){this.removeAttribute(J)}}function Q4(J){return function(){this.removeAttributeNS(J.space,J.local)}}function $4(J,ce){return function(){this.setAttribute(J,ce)}}function q4(J,ce){return function(){this.setAttributeNS(J.space,J.local,ce)}}function eM(J,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?this.removeAttribute(J):this.setAttribute(J,Ee)}}function tM(J,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?this.removeAttributeNS(J.space,J.local):this.setAttributeNS(J.space,J.local,Ee)}}function rM(J,ce){var Ee=k0(J);if(arguments.length<2){var Ne=this.node();return Ee.local?Ne.getAttributeNS(Ee.space,Ee.local):Ne.getAttribute(Ee)}return this.each((ce==null?Ee.local?Q4:J4:typeof ce=="function"?Ee.local?tM:eM:Ee.local?q4:$4)(Ee,ce))}function o2(J){return J.ownerDocument&&J.ownerDocument.defaultView||J.document&&J||J.defaultView}function nM(J){return function(){this.style.removeProperty(J)}}function aM(J,ce,Ee){return function(){this.style.setProperty(J,ce,Ee)}}function iM(J,ce,Ee){return function(){var Ne=ce.apply(this,arguments);Ne==null?this.style.removeProperty(J):this.style.setProperty(J,Ne,Ee)}}function oM(J,ce,Ee){return arguments.length>1?this.each((ce==null?nM:typeof ce=="function"?iM:aM)(J,ce,Ee??"")):Yh(this.node(),J)}function Yh(J,ce){return J.style.getPropertyValue(ce)||o2(J).getComputedStyle(J,null).getPropertyValue(ce)}function sM(J){return function(){delete this[J]}}function lM(J,ce){return function(){this[J]=ce}}function uM(J,ce){return function(){var Ee=ce.apply(this,arguments);Ee==null?delete this[J]:this[J]=Ee}}function fM(J,ce){return arguments.length>1?this.each((ce==null?sM:typeof ce=="function"?uM:lM)(J,ce)):this.node()[J]}function s2(J){return J.trim().split(/^|\s+/)}function Vg(J){return J.classList||new l2(J)}function l2(J){this._node=J,this._names=s2(J.getAttribute("class")||"")}l2.prototype={add:function(J){var ce=this._names.indexOf(J);ce<0&&(this._names.push(J),this._node.setAttribute("class",this._names.join(" ")))},remove:function(J){var ce=this._names.indexOf(J);ce>=0&&(this._names.splice(ce,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(J){return this._names.indexOf(J)>=0}};function u2(J,ce){for(var Ee=Vg(J),Ne=-1,je=ce.length;++Ne<je;)Ee.add(ce[Ne])}function f2(J,ce){for(var Ee=Vg(J),Ne=-1,je=ce.length;++Ne<je;)Ee.remove(ce[Ne])}function cM(J){return function(){u2(this,J)}}function hM(J){return function(){f2(this,J)}}function vM(J,ce){return function(){(ce.apply(this,arguments)?u2:f2)(this,J)}}function dM(J,ce){var Ee=s2(J+"");if(arguments.length<2){for(var Ne=Vg(this.node()),je=-1,pt=Ee.length;++je<pt;)if(!Ne.contains(Ee[je]))return!1;return!0}return this.each((typeof ce=="function"?vM:ce?cM:hM)(Ee,ce))}function pM(){this.textContent=""}function gM(J){return function(){this.textContent=J}}function yM(J){return function(){var ce=J.apply(this,arguments);this.textContent=ce??""}}function mM(J){return arguments.length?this.each(J==null?pM:(typeof J=="function"?yM:gM)(J)):this.node().textContent}function xM(){this.innerHTML=""}function bM(J){return function(){this.innerHTML=J}}function wM(J){return function(){var ce=J.apply(this,arguments);this.innerHTML=ce??""}}function TM(J){return arguments.length?this.each(J==null?xM:(typeof J=="function"?wM:bM)(J)):this.node().innerHTML}function AM(){this.nextSibling&&this.parentNode.appendChild(this)}function MM(){return this.each(AM)}function SM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function EM(){return this.each(SM)}function CM(J){var ce=typeof J=="function"?J:t2(J);return this.select(function(){return this.appendChild(ce.apply(this,arguments))})}function LM(){return null}function PM(J,ce){var Ee=typeof J=="function"?J:t2(J),Ne=ce==null?LM:typeof ce=="function"?ce:Hg(ce);return this.select(function(){return this.insertBefore(Ee.apply(this,arguments),Ne.apply(this,arguments)||null)})}function RM(){var J=this.parentNode;J&&J.removeChild(this)}function DM(){return this.each(RM)}function IM(){var J=this.cloneNode(!1),ce=this.parentNode;return ce?ce.insertBefore(J,this.nextSibling):J}function _M(){var J=this.cloneNode(!0),ce=this.parentNode;return ce?ce.insertBefore(J,this.nextSibling):J}function FM(J){return this.select(J?_M:IM)}function kM(J){return arguments.length?this.property("__data__",J):this.node().__data__}function zM(J){return function(ce){J.call(this,ce,this.__data__)}}function OM(J){return J.trim().split(/^|\s+/).map(function(ce){var Ee="",Ne=ce.indexOf(".");return Ne>=0&&(Ee=ce.slice(Ne+1),ce=ce.slice(0,Ne)),{type:ce,name:Ee}})}function BM(J){return function(){var ce=this.__on;if(ce){for(var Ee=0,Ne=-1,je=ce.length,pt;Ee<je;++Ee)pt=ce[Ee],(!J.type||pt.type===J.type)&&pt.name===J.name?this.removeEventListener(pt.type,pt.listener,pt.options):ce[++Ne]=pt;++Ne?ce.length=Ne:delete this.__on}}}function NM(J,ce,Ee){return function(){var Ne=this.__on,je,pt=zM(ce);if(Ne){for(var G=0,U=Ne.length;G<U;++G)if((je=Ne[G]).type===J.type&&je.name===J.name){this.removeEventListener(je.type,je.listener,je.options),this.addEventListener(je.type,je.listener=pt,je.options=Ee),je.value=ce;return}}this.addEventListener(J.type,pt,Ee),je={type:J.type,name:J.name,value:ce,listener:pt,options:Ee},Ne?Ne.push(je):this.__on=[je]}}function UM(J,ce,Ee){var Ne=OM(J+""),je,pt=Ne.length,G;if(arguments.length<2){var U=this.node().__on;if(U){for(var e=0,p=U.length,L;e<p;++e)for(je=0,L=U[e];je<pt;++je)if((G=Ne[je]).type===L.type&&G.name===L.name)return L.value}return}for(U=ce?NM:BM,je=0;je<pt;++je)this.each(U(Ne[je],ce,Ee));return this}function c2(J,ce,Ee){var Ne=o2(J),je=Ne.CustomEvent;typeof je=="function"?je=new je(ce,Ee):(je=Ne.document.createEvent("Event"),Ee?(je.initEvent(ce,Ee.bubbles,Ee.cancelable),je.detail=Ee.detail):je.initEvent(ce,!1,!1)),J.dispatchEvent(je)}function HM(J,ce){return function(){return c2(this,J,ce)}}function VM(J,ce){return function(){return c2(this,J,ce.apply(this,arguments))}}function GM(J,ce){return this.each((typeof ce=="function"?VM:HM)(J,ce))}function*WM(){for(var J=this._groups,ce=0,Ee=J.length;ce<Ee;++ce)for(var Ne=J[ce],je=0,pt=Ne.length,G;je<pt;++je)(G=Ne[je])&&(yield G)}var h2=[null];function al(J,ce){this._groups=J,this._parents=ce}function ed(){return new al([[document.documentElement]],h2)}function YM(){return this}al.prototype=ed.prototype={constructor:al,select:y4,selectAll:w4,selectChild:S4,selectChildren:P4,filter:R4,data:z4,enter:D4,exit:B4,join:N4,merge:U4,selection:YM,order:H4,sort:V4,call:W4,nodes:Y4,node:Z4,size:X4,empty:j4,each:K4,attr:rM,style:oM,property:fM,classed:dM,text:mM,html:TM,raise:MM,lower:EM,append:CM,insert:PM,remove:DM,clone:FM,datum:kM,on:UM,dispatch:GM,[Symbol.iterator]:WM};function R8(J){return typeof J=="string"?new al([[document.querySelector(J)]],[document.documentElement]):new al([[J]],h2)}function Gg(J,ce,Ee){J.prototype=ce.prototype=Ee,Ee.constructor=J}function v2(J,ce){var Ee=Object.create(J.prototype);for(var Ne in ce)Ee[Ne]=ce[Ne];return Ee}function td(){}var Wv=.7,s0=1/Wv,Nh="\\s*([+-]?\\d+)\\s*",Yv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZM=/^#([0-9a-f]{3,8})$/,XM=new RegExp(`^rgb\\(${Nh},${Nh},${Nh}\\)$`),jM=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),KM=new RegExp(`^rgba\\(${Nh},${Nh},${Nh},${Yv}\\)$`),JM=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Yv}\\)$`),QM=new RegExp(`^hsl\\(${Yv},${Bu},${Bu}\\)$`),$M=new RegExp(`^hsla\\(${Yv},${Bu},${Bu},${Yv}\\)$`),nm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gg(td,Zv,{copy(J){return Object.assign(new this.constructor,this,J)},displayable(){return this.rgb().displayable()},hex:am,formatHex:am,formatHex8:qM,formatHsl:e6,formatRgb:im,toString:im});function am(){return this.rgb().formatHex()}function qM(){return this.rgb().formatHex8()}function e6(){return d2(this).formatHsl()}function im(){return this.rgb().formatRgb()}function Zv(J){var ce,Ee;return J=(J+"").trim().toLowerCase(),(ce=ZM.exec(J))?(Ee=ce[1].length,ce=parseInt(ce[1],16),Ee===6?om(ce):Ee===3?new Hs(ce>>8&15|ce>>4&240,ce>>4&15|ce&240,(ce&15)<<4|ce&15,1):Ee===8?zd(ce>>24&255,ce>>16&255,ce>>8&255,(ce&255)/255):Ee===4?zd(ce>>12&15|ce>>8&240,ce>>8&15|ce>>4&240,ce>>4&15|ce&240,((ce&15)<<4|ce&15)/255):null):(ce=XM.exec(J))?new Hs(ce[1],ce[2],ce[3],1):(ce=jM.exec(J))?new Hs(ce[1]*255/100,ce[2]*255/100,ce[3]*255/100,1):(ce=KM.exec(J))?zd(ce[1],ce[2],ce[3],ce[4]):(ce=JM.exec(J))?zd(ce[1]*255/100,ce[2]*255/100,ce[3]*255/100,ce[4]):(ce=QM.exec(J))?um(ce[1],ce[2]/100,ce[3]/100,1):(ce=$M.exec(J))?um(ce[1],ce[2]/100,ce[3]/100,ce[4]):nm.hasOwnProperty(J)?om(nm[J]):J==="transparent"?new Hs(NaN,NaN,NaN,0):null}function om(J){return new Hs(J>>16&255,J>>8&255,J&255,1)}function zd(J,ce,Ee,Ne){return Ne<=0&&(J=ce=Ee=NaN),new Hs(J,ce,Ee,Ne)}function t6(J){return J instanceof td||(J=Zv(J)),J?(J=J.rgb(),new Hs(J.r,J.g,J.b,J.opacity)):new Hs}function Qp(J,ce,Ee,Ne){return arguments.length===1?t6(J):new Hs(J,ce,Ee,Ne??1)}function Hs(J,ce,Ee,Ne){this.r=+J,this.g=+ce,this.b=+Ee,this.opacity=+Ne}Gg(Hs,Qp,v2(td,{brighter(J){return J=J==null?s0:Math.pow(s0,J),new Hs(this.r*J,this.g*J,this.b*J,this.opacity)},darker(J){return J=J==null?Wv:Math.pow(Wv,J),new Hs(this.r*J,this.g*J,this.b*J,this.opacity)},rgb(){return this},clamp(){return new Hs($c(this.r),$c(this.g),$c(this.b),l0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sm,formatHex:sm,formatHex8:r6,formatRgb:lm,toString:lm}));function sm(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}`}function r6(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}${Kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function lm(){const J=l0(this.opacity);return`${J===1?"rgb(":"rgba("}${$c(this.r)}, ${$c(this.g)}, ${$c(this.b)}${J===1?")":`, ${J})`}`}function l0(J){return isNaN(J)?1:Math.max(0,Math.min(1,J))}function $c(J){return Math.max(0,Math.min(255,Math.round(J)||0))}function Kc(J){return J=$c(J),(J<16?"0":"")+J.toString(16)}function um(J,ce,Ee,Ne){return Ne<=0?J=ce=Ee=NaN:Ee<=0||Ee>=1?J=ce=NaN:ce<=0&&(J=NaN),new nu(J,ce,Ee,Ne)}function d2(J){if(J instanceof nu)return new nu(J.h,J.s,J.l,J.opacity);if(J instanceof td||(J=Zv(J)),!J)return new nu;if(J instanceof nu)return J;J=J.rgb();var ce=J.r/255,Ee=J.g/255,Ne=J.b/255,je=Math.min(ce,Ee,Ne),pt=Math.max(ce,Ee,Ne),G=NaN,U=pt-je,e=(pt+je)/2;return U?(ce===pt?G=(Ee-Ne)/U+(Ee<Ne)*6:Ee===pt?G=(Ne-ce)/U+2:G=(ce-Ee)/U+4,U/=e<.5?pt+je:2-pt-je,G*=60):U=e>0&&e<1?0:G,new nu(G,U,e,J.opacity)}function n6(J,ce,Ee,Ne){return arguments.length===1?d2(J):new nu(J,ce,Ee,Ne??1)}function nu(J,ce,Ee,Ne){this.h=+J,this.s=+ce,this.l=+Ee,this.opacity=+Ne}Gg(nu,n6,v2(td,{brighter(J){return J=J==null?s0:Math.pow(s0,J),new nu(this.h,this.s,this.l*J,this.opacity)},darker(J){return J=J==null?Wv:Math.pow(Wv,J),new nu(this.h,this.s,this.l*J,this.opacity)},rgb(){var J=this.h%360+(this.h<0)*360,ce=isNaN(J)||isNaN(this.s)?0:this.s,Ee=this.l,Ne=Ee+(Ee<.5?Ee:1-Ee)*ce,je=2*Ee-Ne;return new Hs(Cp(J>=240?J-240:J+120,je,Ne),Cp(J,je,Ne),Cp(J<120?J+240:J-120,je,Ne),this.opacity)},clamp(){return new nu(fm(this.h),Od(this.s),Od(this.l),l0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const J=l0(this.opacity);return`${J===1?"hsl(":"hsla("}${fm(this.h)}, ${Od(this.s)*100}%, ${Od(this.l)*100}%${J===1?")":`, ${J})`}`}}));function fm(J){return J=(J||0)%360,J<0?J+360:J}function Od(J){return Math.max(0,Math.min(1,J||0))}function Cp(J,ce,Ee){return(J<60?ce+(Ee-ce)*J/60:J<180?Ee:J<240?ce+(Ee-ce)*(240-J)/60:ce)*255}const p2=J=>()=>J;function a6(J,ce){return function(Ee){return J+Ee*ce}}function i6(J,ce,Ee){return J=Math.pow(J,Ee),ce=Math.pow(ce,Ee)-J,Ee=1/Ee,function(Ne){return Math.pow(J+Ne*ce,Ee)}}function o6(J){return(J=+J)==1?g2:function(ce,Ee){return Ee-ce?i6(ce,Ee,J):p2(isNaN(ce)?Ee:ce)}}function g2(J,ce){var Ee=ce-J;return Ee?a6(J,Ee):p2(isNaN(J)?ce:J)}const cm=function J(ce){var Ee=o6(ce);function Ne(je,pt){var G=Ee((je=Qp(je)).r,(pt=Qp(pt)).r),U=Ee(je.g,pt.g),e=Ee(je.b,pt.b),p=g2(je.opacity,pt.opacity);return function(L){return je.r=G(L),je.g=U(L),je.b=e(L),je.opacity=p(L),je+""}}return Ne.gamma=J,Ne}(1);function oc(J,ce){return J=+J,ce=+ce,function(Ee){return J*(1-Ee)+ce*Ee}}var $p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lp=new RegExp($p.source,"g");function s6(J){return function(){return J}}function l6(J){return function(ce){return J(ce)+""}}function u6(J,ce){var Ee=$p.lastIndex=Lp.lastIndex=0,Ne,je,pt,G=-1,U=[],e=[];for(J=J+"",ce=ce+"";(Ne=$p.exec(J))&&(je=Lp.exec(ce));)(pt=je.index)>Ee&&(pt=ce.slice(Ee,pt),U[G]?U[G]+=pt:U[++G]=pt),(Ne=Ne[0])===(je=je[0])?U[G]?U[G]+=je:U[++G]=je:(U[++G]=null,e.push({i:G,x:oc(Ne,je)})),Ee=Lp.lastIndex;return Ee<ce.length&&(pt=ce.slice(Ee),U[G]?U[G]+=pt:U[++G]=pt),U.length<2?e[0]?l6(e[0].x):s6(ce):(ce=e.length,function(p){for(var L=0,n;L<ce;++L)U[(n=e[L]).i]=n.x(p);return U.join("")})}var hm=180/Math.PI,qp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function y2(J,ce,Ee,Ne,je,pt){var G,U,e;return(G=Math.sqrt(J*J+ce*ce))&&(J/=G,ce/=G),(e=J*Ee+ce*Ne)&&(Ee-=J*e,Ne-=ce*e),(U=Math.sqrt(Ee*Ee+Ne*Ne))&&(Ee/=U,Ne/=U,e/=U),J*Ne<ce*Ee&&(J=-J,ce=-ce,e=-e,G=-G),{translateX:je,translateY:pt,rotate:Math.atan2(ce,J)*hm,skewX:Math.atan(e)*hm,scaleX:G,scaleY:U}}var Bd;function f6(J){const ce=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(J+"");return ce.isIdentity?qp:y2(ce.a,ce.b,ce.c,ce.d,ce.e,ce.f)}function c6(J){return J==null||(Bd||(Bd=document.createElementNS("http://www.w3.org/2000/svg","g")),Bd.setAttribute("transform",J),!(J=Bd.transform.baseVal.consolidate()))?qp:(J=J.matrix,y2(J.a,J.b,J.c,J.d,J.e,J.f))}function m2(J,ce,Ee,Ne){function je(p){return p.length?p.pop()+" ":""}function pt(p,L,n,C,w,v){if(p!==n||L!==C){var y=w.push("translate(",null,ce,null,Ee);v.push({i:y-4,x:oc(p,n)},{i:y-2,x:oc(L,C)})}else(n||C)&&w.push("translate("+n+ce+C+Ee)}function G(p,L,n,C){p!==L?(p-L>180?L+=360:L-p>180&&(p+=360),C.push({i:n.push(je(n)+"rotate(",null,Ne)-2,x:oc(p,L)})):L&&n.push(je(n)+"rotate("+L+Ne)}function U(p,L,n,C){p!==L?C.push({i:n.push(je(n)+"skewX(",null,Ne)-2,x:oc(p,L)}):L&&n.push(je(n)+"skewX("+L+Ne)}function e(p,L,n,C,w,v){if(p!==n||L!==C){var y=w.push(je(w)+"scale(",null,",",null,")");v.push({i:y-4,x:oc(p,n)},{i:y-2,x:oc(L,C)})}else(n!==1||C!==1)&&w.push(je(w)+"scale("+n+","+C+")")}return function(p,L){var n=[],C=[];return p=J(p),L=J(L),pt(p.translateX,p.translateY,L.translateX,L.translateY,n,C),G(p.rotate,L.rotate,n,C),U(p.skewX,L.skewX,n,C),e(p.scaleX,p.scaleY,L.scaleX,L.scaleY,n,C),p=L=null,function(w){for(var v=-1,y=C.length,t;++v<y;)n[(t=C[v]).i]=t.x(w);return n.join("")}}}var h6=m2(f6,"px, ","px)","deg)"),v6=m2(c6,", ",")",")"),Zh=0,Sv=0,Av=0,x2=1e3,u0,Ev,f0=0,eh=0,z0=0,Xv=typeof performance=="object"&&performance.now?performance:Date,b2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(J){setTimeout(J,17)};function Wg(){return eh||(b2(d6),eh=Xv.now()+z0)}function d6(){eh=0}function c0(){this._call=this._time=this._next=null}c0.prototype=w2.prototype={constructor:c0,restart:function(J,ce,Ee){if(typeof J!="function")throw new TypeError("callback is not a function");Ee=(Ee==null?Wg():+Ee)+(ce==null?0:+ce),!this._next&&Ev!==this&&(Ev?Ev._next=this:u0=this,Ev=this),this._call=J,this._time=Ee,eg()},stop:function(){this._call&&(this._call=null,this._time=1/0,eg())}};function w2(J,ce,Ee){var Ne=new c0;return Ne.restart(J,ce,Ee),Ne}function p6(){Wg(),++Zh;for(var J=u0,ce;J;)(ce=eh-J._time)>=0&&J._call.call(void 0,ce),J=J._next;--Zh}function vm(){eh=(f0=Xv.now())+z0,Zh=Sv=0;try{p6()}finally{Zh=0,y6(),eh=0}}function g6(){var J=Xv.now(),ce=J-f0;ce>x2&&(z0-=ce,f0=J)}function y6(){for(var J,ce=u0,Ee,Ne=1/0;ce;)ce._call?(Ne>ce._time&&(Ne=ce._time),J=ce,ce=ce._next):(Ee=ce._next,ce._next=null,ce=J?J._next=Ee:u0=Ee);Ev=J,eg(Ne)}function eg(J){if(!Zh){Sv&&(Sv=clearTimeout(Sv));var ce=J-eh;ce>24?(J<1/0&&(Sv=setTimeout(vm,J-Xv.now()-z0)),Av&&(Av=clearInterval(Av))):(Av||(f0=Xv.now(),Av=setInterval(g6,x2)),Zh=1,b2(vm))}}function dm(J,ce,Ee){var Ne=new c0;return ce=ce==null?0:+ce,Ne.restart(je=>{Ne.stop(),J(je+ce)},ce,Ee),Ne}var m6=e2("start","end","cancel","interrupt"),x6=[],T2=0,pm=1,tg=2,Qd=3,gm=4,rg=5,$d=6;function O0(J,ce,Ee,Ne,je,pt){var G=J.__transition;if(!G)J.__transition={};else if(Ee in G)return;b6(J,Ee,{name:ce,index:Ne,group:je,on:m6,tween:x6,time:pt.time,delay:pt.delay,duration:pt.duration,ease:pt.ease,timer:null,state:T2})}function Yg(J,ce){var Ee=uu(J,ce);if(Ee.state>T2)throw new Error("too late; already scheduled");return Ee}function Uu(J,ce){var Ee=uu(J,ce);if(Ee.state>Qd)throw new Error("too late; already running");return Ee}function uu(J,ce){var Ee=J.__transition;if(!Ee||!(Ee=Ee[ce]))throw new Error("transition not found");return Ee}function b6(J,ce,Ee){var Ne=J.__transition,je;Ne[ce]=Ee,Ee.timer=w2(pt,0,Ee.time);function pt(p){Ee.state=pm,Ee.timer.restart(G,Ee.delay,Ee.time),Ee.delay<=p&&G(p-Ee.delay)}function G(p){var L,n,C,w;if(Ee.state!==pm)return e();for(L in Ne)if(w=Ne[L],w.name===Ee.name){if(w.state===Qd)return dm(G);w.state===gm?(w.state=$d,w.timer.stop(),w.on.call("interrupt",J,J.__data__,w.index,w.group),delete Ne[L]):+L<ce&&(w.state=$d,w.timer.stop(),w.on.call("cancel",J,J.__data__,w.index,w.group),delete Ne[L])}if(dm(function(){Ee.state===Qd&&(Ee.state=gm,Ee.timer.restart(U,Ee.delay,Ee.time),U(p))}),Ee.state=tg,Ee.on.call("start",J,J.__data__,Ee.index,Ee.group),Ee.state===tg){for(Ee.state=Qd,je=new Array(C=Ee.tween.length),L=0,n=-1;L<C;++L)(w=Ee.tween[L].value.call(J,J.__data__,Ee.index,Ee.group))&&(je[++n]=w);je.length=n+1}}function U(p){for(var L=p<Ee.duration?Ee.ease.call(null,p/Ee.duration):(Ee.timer.restart(e),Ee.state=rg,1),n=-1,C=je.length;++n<C;)je[n].call(J,L);Ee.state===rg&&(Ee.on.call("end",J,J.__data__,Ee.index,Ee.group),e())}function e(){Ee.state=$d,Ee.timer.stop(),delete Ne[ce];for(var p in Ne)return;delete J.__transition}}function w6(J,ce){var Ee=J.__transition,Ne,je,pt=!0,G;if(Ee){ce=ce==null?null:ce+"";for(G in Ee){if((Ne=Ee[G]).name!==ce){pt=!1;continue}je=Ne.state>tg&&Ne.state<rg,Ne.state=$d,Ne.timer.stop(),Ne.on.call(je?"interrupt":"cancel",J,J.__data__,Ne.index,Ne.group),delete Ee[G]}pt&&delete J.__transition}}function T6(J){return this.each(function(){w6(this,J)})}function A6(J,ce){var Ee,Ne;return function(){var je=Uu(this,J),pt=je.tween;if(pt!==Ee){Ne=Ee=pt;for(var G=0,U=Ne.length;G<U;++G)if(Ne[G].name===ce){Ne=Ne.slice(),Ne.splice(G,1);break}}je.tween=Ne}}function M6(J,ce,Ee){var Ne,je;if(typeof Ee!="function")throw new Error;return function(){var pt=Uu(this,J),G=pt.tween;if(G!==Ne){je=(Ne=G).slice();for(var U={name:ce,value:Ee},e=0,p=je.length;e<p;++e)if(je[e].name===ce){je[e]=U;break}e===p&&je.push(U)}pt.tween=je}}function S6(J,ce){var Ee=this._id;if(J+="",arguments.length<2){for(var Ne=uu(this.node(),Ee).tween,je=0,pt=Ne.length,G;je<pt;++je)if((G=Ne[je]).name===J)return G.value;return null}return this.each((ce==null?A6:M6)(Ee,J,ce))}function Zg(J,ce,Ee){var Ne=J._id;return J.each(function(){var je=Uu(this,Ne);(je.value||(je.value={}))[ce]=Ee.apply(this,arguments)}),function(je){return uu(je,Ne).value[ce]}}function A2(J,ce){var Ee;return(typeof ce=="number"?oc:ce instanceof Zv?cm:(Ee=Zv(ce))?(ce=Ee,cm):u6)(J,ce)}function E6(J){return function(){this.removeAttribute(J)}}function C6(J){return function(){this.removeAttributeNS(J.space,J.local)}}function L6(J,ce,Ee){var Ne,je=Ee+"",pt;return function(){var G=this.getAttribute(J);return G===je?null:G===Ne?pt:pt=ce(Ne=G,Ee)}}function P6(J,ce,Ee){var Ne,je=Ee+"",pt;return function(){var G=this.getAttributeNS(J.space,J.local);return G===je?null:G===Ne?pt:pt=ce(Ne=G,Ee)}}function R6(J,ce,Ee){var Ne,je,pt;return function(){var G,U=Ee(this),e;return U==null?void this.removeAttribute(J):(G=this.getAttribute(J),e=U+"",G===e?null:G===Ne&&e===je?pt:(je=e,pt=ce(Ne=G,U)))}}function D6(J,ce,Ee){var Ne,je,pt;return function(){var G,U=Ee(this),e;return U==null?void this.removeAttributeNS(J.space,J.local):(G=this.getAttributeNS(J.space,J.local),e=U+"",G===e?null:G===Ne&&e===je?pt:(je=e,pt=ce(Ne=G,U)))}}function I6(J,ce){var Ee=k0(J),Ne=Ee==="transform"?v6:A2;return this.attrTween(J,typeof ce=="function"?(Ee.local?D6:R6)(Ee,Ne,Zg(this,"attr."+J,ce)):ce==null?(Ee.local?C6:E6)(Ee):(Ee.local?P6:L6)(Ee,Ne,ce))}function _6(J,ce){return function(Ee){this.setAttribute(J,ce.call(this,Ee))}}function F6(J,ce){return function(Ee){this.setAttributeNS(J.space,J.local,ce.call(this,Ee))}}function k6(J,ce){var Ee,Ne;function je(){var pt=ce.apply(this,arguments);return pt!==Ne&&(Ee=(Ne=pt)&&F6(J,pt)),Ee}return je._value=ce,je}function z6(J,ce){var Ee,Ne;function je(){var pt=ce.apply(this,arguments);return pt!==Ne&&(Ee=(Ne=pt)&&_6(J,pt)),Ee}return je._value=ce,je}function O6(J,ce){var Ee="attr."+J;if(arguments.length<2)return(Ee=this.tween(Ee))&&Ee._value;if(ce==null)return this.tween(Ee,null);if(typeof ce!="function")throw new Error;var Ne=k0(J);return this.tween(Ee,(Ne.local?k6:z6)(Ne,ce))}function B6(J,ce){return function(){Yg(this,J).delay=+ce.apply(this,arguments)}}function N6(J,ce){return ce=+ce,function(){Yg(this,J).delay=ce}}function U6(J){var ce=this._id;return arguments.length?this.each((typeof J=="function"?B6:N6)(ce,J)):uu(this.node(),ce).delay}function H6(J,ce){return function(){Uu(this,J).duration=+ce.apply(this,arguments)}}function V6(J,ce){return ce=+ce,function(){Uu(this,J).duration=ce}}function G6(J){var ce=this._id;return arguments.length?this.each((typeof J=="function"?H6:V6)(ce,J)):uu(this.node(),ce).duration}function W6(J,ce){if(typeof ce!="function")throw new Error;return function(){Uu(this,J).ease=ce}}function Y6(J){var ce=this._id;return arguments.length?this.each(W6(ce,J)):uu(this.node(),ce).ease}function Z6(J,ce){return function(){var Ee=ce.apply(this,arguments);if(typeof Ee!="function")throw new Error;Uu(this,J).ease=Ee}}function X6(J){if(typeof J!="function")throw new Error;return this.each(Z6(this._id,J))}function j6(J){typeof J!="function"&&(J=n2(J));for(var ce=this._groups,Ee=ce.length,Ne=new Array(Ee),je=0;je<Ee;++je)for(var pt=ce[je],G=pt.length,U=Ne[je]=[],e,p=0;p<G;++p)(e=pt[p])&&J.call(e,e.__data__,p,pt)&&U.push(e);return new Af(Ne,this._parents,this._name,this._id)}function K6(J){if(J._id!==this._id)throw new Error;for(var ce=this._groups,Ee=J._groups,Ne=ce.length,je=Ee.length,pt=Math.min(Ne,je),G=new Array(Ne),U=0;U<pt;++U)for(var e=ce[U],p=Ee[U],L=e.length,n=G[U]=new Array(L),C,w=0;w<L;++w)(C=e[w]||p[w])&&(n[w]=C);for(;U<Ne;++U)G[U]=ce[U];return new Af(G,this._parents,this._name,this._id)}function J6(J){return(J+"").trim().split(/^|\s+/).every(function(ce){var Ee=ce.indexOf(".");return Ee>=0&&(ce=ce.slice(0,Ee)),!ce||ce==="start"})}function Q6(J,ce,Ee){var Ne,je,pt=J6(ce)?Yg:Uu;return function(){var G=pt(this,J),U=G.on;U!==Ne&&(je=(Ne=U).copy()).on(ce,Ee),G.on=je}}function $6(J,ce){var Ee=this._id;return arguments.length<2?uu(this.node(),Ee).on.on(J):this.each(Q6(Ee,J,ce))}function q6(J){return function(){var ce=this.parentNode;for(var Ee in this.__transition)if(+Ee!==J)return;ce&&ce.removeChild(this)}}function eS(){return this.on("end.remove",q6(this._id))}function tS(J){var ce=this._name,Ee=this._id;typeof J!="function"&&(J=Hg(J));for(var Ne=this._groups,je=Ne.length,pt=new Array(je),G=0;G<je;++G)for(var U=Ne[G],e=U.length,p=pt[G]=new Array(e),L,n,C=0;C<e;++C)(L=U[C])&&(n=J.call(L,L.__data__,C,U))&&("__data__"in L&&(n.__data__=L.__data__),p[C]=n,O0(p[C],ce,Ee,C,p,uu(L,Ee)));return new Af(pt,this._parents,ce,Ee)}function rS(J){var ce=this._name,Ee=this._id;typeof J!="function"&&(J=r2(J));for(var Ne=this._groups,je=Ne.length,pt=[],G=[],U=0;U<je;++U)for(var e=Ne[U],p=e.length,L,n=0;n<p;++n)if(L=e[n]){for(var C=J.call(L,L.__data__,n,e),w,v=uu(L,Ee),y=0,t=C.length;y<t;++y)(w=C[y])&&O0(w,ce,Ee,y,C,v);pt.push(C),G.push(L)}return new Af(pt,G,ce,Ee)}var nS=ed.prototype.constructor;function aS(){return new nS(this._groups,this._parents)}function iS(J,ce){var Ee,Ne,je;return function(){var pt=Yh(this,J),G=(this.style.removeProperty(J),Yh(this,J));return pt===G?null:pt===Ee&&G===Ne?je:je=ce(Ee=pt,Ne=G)}}function M2(J){return function(){this.style.removeProperty(J)}}function oS(J,ce,Ee){var Ne,je=Ee+"",pt;return function(){var G=Yh(this,J);return G===je?null:G===Ne?pt:pt=ce(Ne=G,Ee)}}function sS(J,ce,Ee){var Ne,je,pt;return function(){var G=Yh(this,J),U=Ee(this),e=U+"";return U==null&&(e=U=(this.style.removeProperty(J),Yh(this,J))),G===e?null:G===Ne&&e===je?pt:(je=e,pt=ce(Ne=G,U))}}function lS(J,ce){var Ee,Ne,je,pt="style."+ce,G="end."+pt,U;return function(){var e=Uu(this,J),p=e.on,L=e.value[pt]==null?U||(U=M2(ce)):void 0;(p!==Ee||je!==L)&&(Ne=(Ee=p).copy()).on(G,je=L),e.on=Ne}}function uS(J,ce,Ee){var Ne=(J+="")=="transform"?h6:A2;return ce==null?this.styleTween(J,iS(J,Ne)).on("end.style."+J,M2(J)):typeof ce=="function"?this.styleTween(J,sS(J,Ne,Zg(this,"style."+J,ce))).each(lS(this._id,J)):this.styleTween(J,oS(J,Ne,ce),Ee).on("end.style."+J,null)}function fS(J,ce,Ee){return function(Ne){this.style.setProperty(J,ce.call(this,Ne),Ee)}}function cS(J,ce,Ee){var Ne,je;function pt(){var G=ce.apply(this,arguments);return G!==je&&(Ne=(je=G)&&fS(J,G,Ee)),Ne}return pt._value=ce,pt}function hS(J,ce,Ee){var Ne="style."+(J+="");if(arguments.length<2)return(Ne=this.tween(Ne))&&Ne._value;if(ce==null)return this.tween(Ne,null);if(typeof ce!="function")throw new Error;return this.tween(Ne,cS(J,ce,Ee??""))}function vS(J){return function(){this.textContent=J}}function dS(J){return function(){var ce=J(this);this.textContent=ce??""}}function pS(J){return this.tween("text",typeof J=="function"?dS(Zg(this,"text",J)):vS(J==null?"":J+""))}function gS(J){return function(ce){this.textContent=J.call(this,ce)}}function yS(J){var ce,Ee;function Ne(){var je=J.apply(this,arguments);return je!==Ee&&(ce=(Ee=je)&&gS(je)),ce}return Ne._value=J,Ne}function mS(J){var ce="text";if(arguments.length<1)return(ce=this.tween(ce))&&ce._value;if(J==null)return this.tween(ce,null);if(typeof J!="function")throw new Error;return this.tween(ce,yS(J))}function xS(){for(var J=this._name,ce=this._id,Ee=S2(),Ne=this._groups,je=Ne.length,pt=0;pt<je;++pt)for(var G=Ne[pt],U=G.length,e,p=0;p<U;++p)if(e=G[p]){var L=uu(e,ce);O0(e,J,Ee,p,G,{time:L.time+L.delay+L.duration,delay:0,duration:L.duration,ease:L.ease})}return new Af(Ne,this._parents,J,Ee)}function bS(){var J,ce,Ee=this,Ne=Ee._id,je=Ee.size();return new Promise(function(pt,G){var U={value:G},e={value:function(){--je===0&&pt()}};Ee.each(function(){var p=Uu(this,Ne),L=p.on;L!==J&&(ce=(J=L).copy(),ce._.cancel.push(U),ce._.interrupt.push(U),ce._.end.push(e)),p.on=ce}),je===0&&pt()})}var wS=0;function Af(J,ce,Ee,Ne){this._groups=J,this._parents=ce,this._name=Ee,this._id=Ne}function S2(){return++wS}var xf=ed.prototype;Af.prototype={constructor:Af,select:tS,selectAll:rS,selectChild:xf.selectChild,selectChildren:xf.selectChildren,filter:j6,merge:K6,selection:aS,transition:xS,call:xf.call,nodes:xf.nodes,node:xf.node,size:xf.size,empty:xf.empty,each:xf.each,on:$6,attr:I6,attrTween:O6,style:uS,styleTween:hS,text:pS,textTween:mS,remove:eS,tween:S6,delay:U6,duration:G6,ease:Y6,easeVarying:X6,end:bS,[Symbol.iterator]:xf[Symbol.iterator]};function TS(J){return((J*=2)<=1?J*J*J:(J-=2)*J*J+2)/2}var AS={time:null,delay:0,duration:250,ease:TS};function MS(J,ce){for(var Ee;!(Ee=J.__transition)||!(Ee=Ee[ce]);)if(!(J=J.parentNode))throw new Error(`transition ${ce} not found`);return Ee}function SS(J){var ce,Ee;J instanceof Af?(ce=J._id,J=J._name):(ce=S2(),(Ee=AS).time=Wg(),J=J==null?null:J+"");for(var Ne=this._groups,je=Ne.length,pt=0;pt<je;++pt)for(var G=Ne[pt],U=G.length,e,p=0;p<U;++p)(e=G[p])&&O0(e,J,ce,p,G,Ee||MS(e,ce));return new Af(Ne,this._parents,J,ce)}ed.prototype.interrupt=T6;ed.prototype.transition=SS;var Ni=1e-6,ES=1e-12,bi=Math.PI,Cl=bi/2,ym=bi/4,Dl=bi*2,bf=180/bi,nl=bi/180,no=Math.abs,CS=Math.atan,jv=Math.atan2,go=Math.cos,yo=Math.sin,LS=Math.sign||function(J){return J>0?1:J<0?-1:0},rh=Math.sqrt;function PS(J){return J>1?0:J<-1?bi:Math.acos(J)}function Kv(J){return J>1?Cl:J<-1?-Cl:Math.asin(J)}function Ll(){}function h0(J,ce){J&&xm.hasOwnProperty(J.type)&&xm[J.type](J,ce)}var mm={Feature:function(J,ce){h0(J.geometry,ce)},FeatureCollection:function(J,ce){for(var Ee=J.features,Ne=-1,je=Ee.length;++Ne<je;)h0(Ee[Ne].geometry,ce)}},xm={Sphere:function(J,ce){ce.sphere()},Point:function(J,ce){J=J.coordinates,ce.point(J[0],J[1],J[2])},MultiPoint:function(J,ce){for(var Ee=J.coordinates,Ne=-1,je=Ee.length;++Ne<je;)J=Ee[Ne],ce.point(J[0],J[1],J[2])},LineString:function(J,ce){ng(J.coordinates,ce,0)},MultiLineString:function(J,ce){for(var Ee=J.coordinates,Ne=-1,je=Ee.length;++Ne<je;)ng(Ee[Ne],ce,0)},Polygon:function(J,ce){bm(J.coordinates,ce)},MultiPolygon:function(J,ce){for(var Ee=J.coordinates,Ne=-1,je=Ee.length;++Ne<je;)bm(Ee[Ne],ce)},GeometryCollection:function(J,ce){for(var Ee=J.geometries,Ne=-1,je=Ee.length;++Ne<je;)h0(Ee[Ne],ce)}};function ng(J,ce,Ee){var Ne=-1,je=J.length-Ee,pt;for(ce.lineStart();++Ne<je;)pt=J[Ne],ce.point(pt[0],pt[1],pt[2]);ce.lineEnd()}function bm(J,ce){var Ee=-1,Ne=J.length;for(ce.polygonStart();++Ee<Ne;)ng(J[Ee],ce,1);ce.polygonEnd()}function Ih(J,ce){J&&mm.hasOwnProperty(J.type)?mm[J.type](J,ce):h0(J,ce)}function ag(J){return[jv(J[1],J[0]),Kv(J[2])]}function Xh(J){var ce=J[0],Ee=J[1],Ne=go(Ee);return[Ne*go(ce),Ne*yo(ce),yo(Ee)]}function Nd(J,ce){return J[0]*ce[0]+J[1]*ce[1]+J[2]*ce[2]}function v0(J,ce){return[J[1]*ce[2]-J[2]*ce[1],J[2]*ce[0]-J[0]*ce[2],J[0]*ce[1]-J[1]*ce[0]]}function Pp(J,ce){J[0]+=ce[0],J[1]+=ce[1],J[2]+=ce[2]}function Ud(J,ce){return[J[0]*ce,J[1]*ce,J[2]*ce]}function ig(J){var ce=rh(J[0]*J[0]+J[1]*J[1]+J[2]*J[2]);J[0]/=ce,J[1]/=ce,J[2]/=ce}function og(J,ce){function Ee(Ne,je){return Ne=J(Ne,je),ce(Ne[0],Ne[1])}return J.invert&&ce.invert&&(Ee.invert=function(Ne,je){return Ne=ce.invert(Ne,je),Ne&&J.invert(Ne[0],Ne[1])}),Ee}function sg(J,ce){return no(J)>bi&&(J-=Math.round(J/Dl)*Dl),[J,ce]}sg.invert=sg;function RS(J,ce,Ee){return(J%=Dl)?ce||Ee?og(Tm(J),Am(ce,Ee)):Tm(J):ce||Ee?Am(ce,Ee):sg}function wm(J){return function(ce,Ee){return ce+=J,no(ce)>bi&&(ce-=Math.round(ce/Dl)*Dl),[ce,Ee]}}function Tm(J){var ce=wm(J);return ce.invert=wm(-J),ce}function Am(J,ce){var Ee=go(J),Ne=yo(J),je=go(ce),pt=yo(ce);function G(U,e){var p=go(e),L=go(U)*p,n=yo(U)*p,C=yo(e),w=C*Ee+L*Ne;return[jv(n*je-w*pt,L*Ee-C*Ne),Kv(w*je+n*pt)]}return G.invert=function(U,e){var p=go(e),L=go(U)*p,n=yo(U)*p,C=yo(e),w=C*je-n*pt;return[jv(n*je+C*pt,L*Ee+w*Ne),Kv(w*Ee-L*Ne)]},G}function DS(J,ce,Ee,Ne,je,pt){if(Ee){var G=go(ce),U=yo(ce),e=Ne*Ee;je==null?(je=ce+Ne*Dl,pt=ce-e/2):(je=Mm(G,je),pt=Mm(G,pt),(Ne>0?je<pt:je>pt)&&(je+=Ne*Dl));for(var p,L=je;Ne>0?L>pt:L<pt;L-=e)p=ag([G,-U*go(L),-U*yo(L)]),J.point(p[0],p[1])}}function Mm(J,ce){ce=Xh(ce),ce[0]-=J,ig(ce);var Ee=PS(-ce[1]);return((-ce[2]<0?-Ee:Ee)+Dl-Ni)%Dl}function E2(){var J=[],ce;return{point:function(Ee,Ne,je){ce.push([Ee,Ne,je])},lineStart:function(){J.push(ce=[])},lineEnd:Ll,rejoin:function(){J.length>1&&J.push(J.pop().concat(J.shift()))},result:function(){var Ee=J;return J=[],ce=null,Ee}}}function qd(J,ce){return no(J[0]-ce[0])<Ni&&no(J[1]-ce[1])<Ni}function Hd(J,ce,Ee,Ne){this.x=J,this.z=ce,this.o=Ee,this.e=Ne,this.v=!1,this.n=this.p=null}function C2(J,ce,Ee,Ne,je){var pt=[],G=[],U,e;if(J.forEach(function(v){if(!((y=v.length-1)<=0)){var y,t=v[0],r=v[y],l;if(qd(t,r)){if(!t[2]&&!r[2]){for(je.lineStart(),U=0;U<y;++U)je.point((t=v[U])[0],t[1]);je.lineEnd();return}r[0]+=2*Ni}pt.push(l=new Hd(t,v,null,!0)),G.push(l.o=new Hd(t,null,l,!1)),pt.push(l=new Hd(r,v,null,!1)),G.push(l.o=new Hd(r,null,l,!0))}}),!!pt.length){for(G.sort(ce),Sm(pt),Sm(G),U=0,e=G.length;U<e;++U)G[U].e=Ee=!Ee;for(var p=pt[0],L,n;;){for(var C=p,w=!0;C.v;)if((C=C.n)===p)return;L=C.z,je.lineStart();do{if(C.v=C.o.v=!0,C.e){if(w)for(U=0,e=L.length;U<e;++U)je.point((n=L[U])[0],n[1]);else Ne(C.x,C.n.x,1,je);C=C.n}else{if(w)for(L=C.p.z,U=L.length-1;U>=0;--U)je.point((n=L[U])[0],n[1]);else Ne(C.x,C.p.x,-1,je);C=C.p}C=C.o,L=C.z,w=!w}while(!C.v);je.lineEnd()}}}function Sm(J){if(ce=J.length){for(var ce,Ee=0,Ne=J[0],je;++Ee<ce;)Ne.n=je=J[Ee],je.p=Ne,Ne=je;Ne.n=je=J[0],je.p=Ne}}function Rp(J){return no(J[0])<=bi?J[0]:LS(J[0])*((no(J[0])+bi)%Dl-bi)}function IS(J,ce){var Ee=Rp(ce),Ne=ce[1],je=yo(Ne),pt=[yo(Ee),-go(Ee),0],G=0,U=0,e=new qc;je===1?Ne=Cl+Ni:je===-1&&(Ne=-Cl-Ni);for(var p=0,L=J.length;p<L;++p)if(C=(n=J[p]).length)for(var n,C,w=n[C-1],v=Rp(w),y=w[1]/2+ym,t=yo(y),r=go(y),l=0;l<C;++l,v=s,t=u,r=m,w=a){var a=n[l],s=Rp(a),c=a[1]/2+ym,u=yo(c),m=go(c),h=s-v,T=h>=0?1:-1,f=T*h,o=f>bi,d=t*u;if(e.add(jv(d*T*yo(f),r*m+d*go(f))),G+=o?h+T*Dl:h,o^v>=Ee^s>=Ee){var M=v0(Xh(w),Xh(a));ig(M);var A=v0(pt,M);ig(A);var E=(o^h>=0?-1:1)*Kv(A[2]);(Ne>E||Ne===E&&(M[0]||M[1]))&&(U+=o^h>=0?1:-1)}}return(G<-Ni||G<Ni&&e<-ES)^U&1}function L2(J,ce,Ee,Ne){return function(je){var pt=ce(je),G=E2(),U=ce(G),e=!1,p,L,n,C={point:w,lineStart:y,lineEnd:t,polygonStart:function(){C.point=r,C.lineStart=l,C.lineEnd=a,L=[],p=[]},polygonEnd:function(){C.point=w,C.lineStart=y,C.lineEnd=t,L=qx(L);var s=IS(p,Ne);L.length?(e||(je.polygonStart(),e=!0),C2(L,FS,s,Ee,je)):s&&(e||(je.polygonStart(),e=!0),je.lineStart(),Ee(null,null,1,je),je.lineEnd()),e&&(je.polygonEnd(),e=!1),L=p=null},sphere:function(){je.polygonStart(),je.lineStart(),Ee(null,null,1,je),je.lineEnd(),je.polygonEnd()}};function w(s,c){J(s,c)&&je.point(s,c)}function v(s,c){pt.point(s,c)}function y(){C.point=v,pt.lineStart()}function t(){C.point=w,pt.lineEnd()}function r(s,c){n.push([s,c]),U.point(s,c)}function l(){U.lineStart(),n=[]}function a(){r(n[0][0],n[0][1]),U.lineEnd();var s=U.clean(),c=G.result(),u,m=c.length,h,T,f;if(n.pop(),p.push(n),n=null,!!m){if(s&1){if(T=c[0],(h=T.length-1)>0){for(e||(je.polygonStart(),e=!0),je.lineStart(),u=0;u<h;++u)je.point((f=T[u])[0],f[1]);je.lineEnd()}return}m>1&&s&2&&c.push(c.pop().concat(c.shift())),L.push(c.filter(_S))}}return C}}function _S(J){return J.length>1}function FS(J,ce){return((J=J.x)[0]<0?J[1]-Cl-Ni:Cl-J[1])-((ce=ce.x)[0]<0?ce[1]-Cl-Ni:Cl-ce[1])}const Em=L2(function(){return!0},kS,OS,[-bi,-Cl]);function kS(J){var ce=NaN,Ee=NaN,Ne=NaN,je;return{lineStart:function(){J.lineStart(),je=1},point:function(pt,G){var U=pt>0?bi:-bi,e=no(pt-ce);no(e-bi)<Ni?(J.point(ce,Ee=(Ee+G)/2>0?Cl:-Cl),J.point(Ne,Ee),J.lineEnd(),J.lineStart(),J.point(U,Ee),J.point(pt,Ee),je=0):Ne!==U&&e>=bi&&(no(ce-Ne)<Ni&&(ce-=Ne*Ni),no(pt-U)<Ni&&(pt-=U*Ni),Ee=zS(ce,Ee,pt,G),J.point(Ne,Ee),J.lineEnd(),J.lineStart(),J.point(U,Ee),je=0),J.point(ce=pt,Ee=G),Ne=U},lineEnd:function(){J.lineEnd(),ce=Ee=NaN},clean:function(){return 2-je}}}function zS(J,ce,Ee,Ne){var je,pt,G=yo(J-Ee);return no(G)>Ni?CS((yo(ce)*(pt=go(Ne))*yo(Ee)-yo(Ne)*(je=go(ce))*yo(J))/(je*pt*G)):(ce+Ne)/2}function OS(J,ce,Ee,Ne){var je;if(J==null)je=Ee*Cl,Ne.point(-bi,je),Ne.point(0,je),Ne.point(bi,je),Ne.point(bi,0),Ne.point(bi,-je),Ne.point(0,-je),Ne.point(-bi,-je),Ne.point(-bi,0),Ne.point(-bi,je);else if(no(J[0]-ce[0])>Ni){var pt=J[0]<ce[0]?bi:-bi;je=Ee*pt/2,Ne.point(-pt,je),Ne.point(0,je),Ne.point(pt,je)}else Ne.point(ce[0],ce[1])}function BS(J){var ce=go(J),Ee=6*nl,Ne=ce>0,je=no(ce)>Ni;function pt(L,n,C,w){DS(w,J,Ee,C,L,n)}function G(L,n){return go(L)*go(n)>ce}function U(L){var n,C,w,v,y;return{lineStart:function(){v=w=!1,y=1},point:function(t,r){var l=[t,r],a,s=G(t,r),c=Ne?s?0:p(t,r):s?p(t+(t<0?bi:-bi),r):0;if(!n&&(v=w=s)&&L.lineStart(),s!==w&&(a=e(n,l),(!a||qd(n,a)||qd(l,a))&&(l[2]=1)),s!==w)y=0,s?(L.lineStart(),a=e(l,n),L.point(a[0],a[1])):(a=e(n,l),L.point(a[0],a[1],2),L.lineEnd()),n=a;else if(je&&n&&Ne^s){var u;!(c&C)&&(u=e(l,n,!0))&&(y=0,Ne?(L.lineStart(),L.point(u[0][0],u[0][1]),L.point(u[1][0],u[1][1]),L.lineEnd()):(L.point(u[1][0],u[1][1]),L.lineEnd(),L.lineStart(),L.point(u[0][0],u[0][1],3)))}s&&(!n||!qd(n,l))&&L.point(l[0],l[1]),n=l,w=s,C=c},lineEnd:function(){w&&L.lineEnd(),n=null},clean:function(){return y|(v&&w)<<1}}}function e(L,n,C){var w=Xh(L),v=Xh(n),y=[1,0,0],t=v0(w,v),r=Nd(t,t),l=t[0],a=r-l*l;if(!a)return!C&&L;var s=ce*r/a,c=-ce*l/a,u=v0(y,t),m=Ud(y,s),h=Ud(t,c);Pp(m,h);var T=u,f=Nd(m,T),o=Nd(T,T),d=f*f-o*(Nd(m,m)-1);if(!(d<0)){var M=rh(d),A=Ud(T,(-f-M)/o);if(Pp(A,m),A=ag(A),!C)return A;var E=L[0],g=n[0],S=L[1],b=n[1],i;g<E&&(i=E,E=g,g=i);var P=g-E,x=no(P-bi)<Ni,k=x||P<Ni;if(!x&&b<S&&(i=S,S=b,b=i),k?x?S+b>0^A[1]<(no(A[0]-E)<Ni?S:b):S<=A[1]&&A[1]<=b:P>bi^(E<=A[0]&&A[0]<=g)){var _=Ud(T,(-f+M)/o);return Pp(_,m),[A,ag(_)]}}}function p(L,n){var C=Ne?J:bi-J,w=0;return L<-C?w|=1:L>C&&(w|=2),n<-C?w|=4:n>C&&(w|=8),w}return L2(G,U,pt,Ne?[0,-J]:[-bi,J-bi])}function NS(J,ce,Ee,Ne,je,pt){var G=J[0],U=J[1],e=ce[0],p=ce[1],L=0,n=1,C=e-G,w=p-U,v;if(v=Ee-G,!(!C&&v>0)){if(v/=C,C<0){if(v<L)return;v<n&&(n=v)}else if(C>0){if(v>n)return;v>L&&(L=v)}if(v=je-G,!(!C&&v<0)){if(v/=C,C<0){if(v>n)return;v>L&&(L=v)}else if(C>0){if(v<L)return;v<n&&(n=v)}if(v=Ne-U,!(!w&&v>0)){if(v/=w,w<0){if(v<L)return;v<n&&(n=v)}else if(w>0){if(v>n)return;v>L&&(L=v)}if(v=pt-U,!(!w&&v<0)){if(v/=w,w<0){if(v>n)return;v>L&&(L=v)}else if(w>0){if(v<L)return;v<n&&(n=v)}return L>0&&(J[0]=G+L*C,J[1]=U+L*w),n<1&&(ce[0]=G+n*C,ce[1]=U+n*w),!0}}}}}var Cv=1e9,Vd=-Cv;function US(J,ce,Ee,Ne){function je(p,L){return J<=p&&p<=Ee&&ce<=L&&L<=Ne}function pt(p,L,n,C){var w=0,v=0;if(p==null||(w=G(p,n))!==(v=G(L,n))||e(p,L)<0^n>0)do C.point(w===0||w===3?J:Ee,w>1?Ne:ce);while((w=(w+n+4)%4)!==v);else C.point(L[0],L[1])}function G(p,L){return no(p[0]-J)<Ni?L>0?0:3:no(p[0]-Ee)<Ni?L>0?2:1:no(p[1]-ce)<Ni?L>0?1:0:L>0?3:2}function U(p,L){return e(p.x,L.x)}function e(p,L){var n=G(p,1),C=G(L,1);return n!==C?n-C:n===0?L[1]-p[1]:n===1?p[0]-L[0]:n===2?p[1]-L[1]:L[0]-p[0]}return function(p){var L=p,n=E2(),C,w,v,y,t,r,l,a,s,c,u,m={point:h,lineStart:d,lineEnd:M,polygonStart:f,polygonEnd:o};function h(E,g){je(E,g)&&L.point(E,g)}function T(){for(var E=0,g=0,S=w.length;g<S;++g)for(var b=w[g],i=1,P=b.length,x=b[0],k,_,B=x[0],I=x[1];i<P;++i)k=B,_=I,x=b[i],B=x[0],I=x[1],_<=Ne?I>Ne&&(B-k)*(Ne-_)>(I-_)*(J-k)&&++E:I<=Ne&&(B-k)*(Ne-_)<(I-_)*(J-k)&&--E;return E}function f(){L=n,C=[],w=[],u=!0}function o(){var E=T(),g=u&&E,S=(C=qx(C)).length;(g||S)&&(p.polygonStart(),g&&(p.lineStart(),pt(null,null,1,p),p.lineEnd()),S&&C2(C,U,E,pt,p),p.polygonEnd()),L=p,C=w=v=null}function d(){m.point=A,w&&w.push(v=[]),c=!0,s=!1,l=a=NaN}function M(){C&&(A(y,t),r&&s&&n.rejoin(),C.push(n.result())),m.point=h,s&&L.lineEnd()}function A(E,g){var S=je(E,g);if(w&&v.push([E,g]),c)y=E,t=g,r=S,c=!1,S&&(L.lineStart(),L.point(E,g));else if(S&&s)L.point(E,g);else{var b=[l=Math.max(Vd,Math.min(Cv,l)),a=Math.max(Vd,Math.min(Cv,a))],i=[E=Math.max(Vd,Math.min(Cv,E)),g=Math.max(Vd,Math.min(Cv,g))];NS(b,i,J,ce,Ee,Ne)?(s||(L.lineStart(),L.point(b[0],b[1])),L.point(i[0],i[1]),S||L.lineEnd(),u=!1):S&&(L.lineStart(),L.point(E,g),u=!1)}l=E,a=g,s=S}return m}}const lg=J=>J;var Dp=new qc,ug=new qc,P2,R2,fg,cg,sc={point:Ll,lineStart:Ll,lineEnd:Ll,polygonStart:function(){sc.lineStart=HS,sc.lineEnd=GS},polygonEnd:function(){sc.lineStart=sc.lineEnd=sc.point=Ll,Dp.add(no(ug)),ug=new qc},result:function(){var J=Dp/2;return Dp=new qc,J}};function HS(){sc.point=VS}function VS(J,ce){sc.point=D2,P2=fg=J,R2=cg=ce}function D2(J,ce){ug.add(cg*J-fg*ce),fg=J,cg=ce}function GS(){D2(P2,R2)}const Cm=sc;var jh=1/0,d0=jh,Jv=-jh,p0=Jv,WS={point:YS,lineStart:Ll,lineEnd:Ll,polygonStart:Ll,polygonEnd:Ll,result:function(){var J=[[jh,d0],[Jv,p0]];return Jv=p0=-(d0=jh=1/0),J}};function YS(J,ce){J<jh&&(jh=J),J>Jv&&(Jv=J),ce<d0&&(d0=ce),ce>p0&&(p0=ce)}const g0=WS;var hg=0,vg=0,Lv=0,y0=0,m0=0,_h=0,dg=0,pg=0,Pv=0,I2,_2,zu,Ou,au={point:th,lineStart:Lm,lineEnd:Pm,polygonStart:function(){au.lineStart=jS,au.lineEnd=KS},polygonEnd:function(){au.point=th,au.lineStart=Lm,au.lineEnd=Pm},result:function(){var J=Pv?[dg/Pv,pg/Pv]:_h?[y0/_h,m0/_h]:Lv?[hg/Lv,vg/Lv]:[NaN,NaN];return hg=vg=Lv=y0=m0=_h=dg=pg=Pv=0,J}};function th(J,ce){hg+=J,vg+=ce,++Lv}function Lm(){au.point=ZS}function ZS(J,ce){au.point=XS,th(zu=J,Ou=ce)}function XS(J,ce){var Ee=J-zu,Ne=ce-Ou,je=rh(Ee*Ee+Ne*Ne);y0+=je*(zu+J)/2,m0+=je*(Ou+ce)/2,_h+=je,th(zu=J,Ou=ce)}function Pm(){au.point=th}function jS(){au.point=JS}function KS(){F2(I2,_2)}function JS(J,ce){au.point=F2,th(I2=zu=J,_2=Ou=ce)}function F2(J,ce){var Ee=J-zu,Ne=ce-Ou,je=rh(Ee*Ee+Ne*Ne);y0+=je*(zu+J)/2,m0+=je*(Ou+ce)/2,_h+=je,je=Ou*J-zu*ce,dg+=je*(zu+J),pg+=je*(Ou+ce),Pv+=je*3,th(zu=J,Ou=ce)}const Rm=au;function k2(J){this._context=J}k2.prototype={_radius:4.5,pointRadius:function(J){return this._radius=J,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(J,ce){switch(this._point){case 0:{this._context.moveTo(J,ce),this._point=1;break}case 1:{this._context.lineTo(J,ce);break}default:{this._context.moveTo(J+this._radius,ce),this._context.arc(J,ce,this._radius,0,Dl);break}}},result:Ll};var gg=new qc,Ip,z2,O2,Rv,Dv,x0={point:Ll,lineStart:function(){x0.point=QS},lineEnd:function(){Ip&&B2(z2,O2),x0.point=Ll},polygonStart:function(){Ip=!0},polygonEnd:function(){Ip=null},result:function(){var J=+gg;return gg=new qc,J}};function QS(J,ce){x0.point=B2,z2=Rv=J,O2=Dv=ce}function B2(J,ce){Rv-=J,Dv-=ce,gg.add(rh(Rv*Rv+Dv*Dv)),Rv=J,Dv=ce}const Dm=x0;let Im,b0,_m,Fm;class km{constructor(ce){this._append=ce==null?N2:$S(ce),this._radius=4.5,this._=""}pointRadius(ce){return this._radius=+ce,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(ce,Ee){switch(this._point){case 0:{this._append`M${ce},${Ee}`,this._point=1;break}case 1:{this._append`L${ce},${Ee}`;break}default:{if(this._append`M${ce},${Ee}`,this._radius!==_m||this._append!==b0){const Ne=this._radius,je=this._;this._="",this._append`m0,${Ne}a${Ne},${Ne} 0 1,1 0,${-2*Ne}a${Ne},${Ne} 0 1,1 0,${2*Ne}z`,_m=Ne,b0=this._append,Fm=this._,this._=je}this._+=Fm;break}}}result(){const ce=this._;return this._="",ce.length?ce:null}}function N2(J){let ce=1;this._+=J[0];for(const Ee=J.length;ce<Ee;++ce)this._+=arguments[ce]+J[ce]}function $S(J){const ce=Math.floor(J);if(!(ce>=0))throw new RangeError(`invalid digits: ${J}`);if(ce>15)return N2;if(ce!==Im){const Ee=10**ce;Im=ce,b0=function(je){let pt=1;this._+=je[0];for(const G=je.length;pt<G;++pt)this._+=Math.round(arguments[pt]*Ee)/Ee+je[pt]}}return b0}function D8(J,ce){let Ee=3,Ne=4.5,je,pt;function G(U){return U&&(typeof Ne=="function"&&pt.pointRadius(+Ne.apply(this,arguments)),Ih(U,je(pt))),pt.result()}return G.area=function(U){return Ih(U,je(Cm)),Cm.result()},G.measure=function(U){return Ih(U,je(Dm)),Dm.result()},G.bounds=function(U){return Ih(U,je(g0)),g0.result()},G.centroid=function(U){return Ih(U,je(Rm)),Rm.result()},G.projection=function(U){return arguments.length?(je=U==null?(J=null,lg):(J=U).stream,G):J},G.context=function(U){return arguments.length?(pt=U==null?(ce=null,new km(Ee)):new k2(ce=U),typeof Ne!="function"&&pt.pointRadius(Ne),G):ce},G.pointRadius=function(U){return arguments.length?(Ne=typeof U=="function"?U:(pt.pointRadius(+U),+U),G):Ne},G.digits=function(U){if(!arguments.length)return Ee;if(U==null)Ee=null;else{const e=Math.floor(U);if(!(e>=0))throw new RangeError(`invalid digits: ${U}`);Ee=e}return ce===null&&(pt=new km(Ee)),G},G.projection(J).digits(Ee).context(ce)}function Xg(J){return function(ce){var Ee=new yg;for(var Ne in J)Ee[Ne]=J[Ne];return Ee.stream=ce,Ee}}function yg(){}yg.prototype={constructor:yg,point:function(J,ce){this.stream.point(J,ce)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jg(J,ce,Ee){var Ne=J.clipExtent&&J.clipExtent();return J.scale(150).translate([0,0]),Ne!=null&&J.clipExtent(null),Ih(Ee,J.stream(g0)),ce(g0.result()),Ne!=null&&J.clipExtent(Ne),J}function U2(J,ce,Ee){return jg(J,function(Ne){var je=ce[1][0]-ce[0][0],pt=ce[1][1]-ce[0][1],G=Math.min(je/(Ne[1][0]-Ne[0][0]),pt/(Ne[1][1]-Ne[0][1])),U=+ce[0][0]+(je-G*(Ne[1][0]+Ne[0][0]))/2,e=+ce[0][1]+(pt-G*(Ne[1][1]+Ne[0][1]))/2;J.scale(150*G).translate([U,e])},Ee)}function qS(J,ce,Ee){return U2(J,[[0,0],ce],Ee)}function e8(J,ce,Ee){return jg(J,function(Ne){var je=+ce,pt=je/(Ne[1][0]-Ne[0][0]),G=(je-pt*(Ne[1][0]+Ne[0][0]))/2,U=-pt*Ne[0][1];J.scale(150*pt).translate([G,U])},Ee)}function t8(J,ce,Ee){return jg(J,function(Ne){var je=+ce,pt=je/(Ne[1][1]-Ne[0][1]),G=-pt*Ne[0][0],U=(je-pt*(Ne[1][1]+Ne[0][1]))/2;J.scale(150*pt).translate([G,U])},Ee)}var zm=16,r8=go(30*nl);function Om(J,ce){return+ce?a8(J,ce):n8(J)}function n8(J){return Xg({point:function(ce,Ee){ce=J(ce,Ee),this.stream.point(ce[0],ce[1])}})}function a8(J,ce){function Ee(Ne,je,pt,G,U,e,p,L,n,C,w,v,y,t){var r=p-Ne,l=L-je,a=r*r+l*l;if(a>4*ce&&y--){var s=G+C,c=U+w,u=e+v,m=rh(s*s+c*c+u*u),h=Kv(u/=m),T=no(no(u)-1)<Ni||no(pt-n)<Ni?(pt+n)/2:jv(c,s),f=J(T,h),o=f[0],d=f[1],M=o-Ne,A=d-je,E=l*M-r*A;(E*E/a>ce||no((r*M+l*A)/a-.5)>.3||G*C+U*w+e*v<r8)&&(Ee(Ne,je,pt,G,U,e,o,d,T,s/=m,c/=m,u,y,t),t.point(o,d),Ee(o,d,T,s,c,u,p,L,n,C,w,v,y,t))}}return function(Ne){var je,pt,G,U,e,p,L,n,C,w,v,y,t={point:r,lineStart:l,lineEnd:s,polygonStart:function(){Ne.polygonStart(),t.lineStart=c},polygonEnd:function(){Ne.polygonEnd(),t.lineStart=l}};function r(h,T){h=J(h,T),Ne.point(h[0],h[1])}function l(){n=NaN,t.point=a,Ne.lineStart()}function a(h,T){var f=Xh([h,T]),o=J(h,T);Ee(n,C,L,w,v,y,n=o[0],C=o[1],L=h,w=f[0],v=f[1],y=f[2],zm,Ne),Ne.point(n,C)}function s(){t.point=r,Ne.lineEnd()}function c(){l(),t.point=u,t.lineEnd=m}function u(h,T){a(je=h,T),pt=n,G=C,U=w,e=v,p=y,t.point=a}function m(){Ee(n,C,L,w,v,y,pt,G,je,U,e,p,zm,Ne),t.lineEnd=s,s()}return t}}var i8=Xg({point:function(J,ce){this.stream.point(J*nl,ce*nl)}});function o8(J){return Xg({point:function(ce,Ee){var Ne=J(ce,Ee);return this.stream.point(Ne[0],Ne[1])}})}function s8(J,ce,Ee,Ne,je){function pt(G,U){return G*=Ne,U*=je,[ce+J*G,Ee-J*U]}return pt.invert=function(G,U){return[(G-ce)/J*Ne,(Ee-U)/J*je]},pt}function Bm(J,ce,Ee,Ne,je,pt){if(!pt)return s8(J,ce,Ee,Ne,je);var G=go(pt),U=yo(pt),e=G*J,p=U*J,L=G/J,n=U/J,C=(U*Ee-G*ce)/J,w=(U*ce+G*Ee)/J;function v(y,t){return y*=Ne,t*=je,[e*y-p*t+ce,Ee-p*y-e*t]}return v.invert=function(y,t){return[Ne*(L*y-n*t+C),je*(w-n*y-L*t)]},v}function l8(J){return u8(function(){return J})()}function u8(J){var ce,Ee=150,Ne=480,je=250,pt=0,G=0,U=0,e=0,p=0,L,n=0,C=1,w=1,v=null,y=Em,t=null,r,l,a,s=lg,c=.5,u,m,h,T,f;function o(E){return h(E[0]*nl,E[1]*nl)}function d(E){return E=h.invert(E[0],E[1]),E&&[E[0]*bf,E[1]*bf]}o.stream=function(E){return T&&f===E?T:T=i8(o8(L)(y(u(s(f=E)))))},o.preclip=function(E){return arguments.length?(y=E,v=void 0,A()):y},o.postclip=function(E){return arguments.length?(s=E,t=r=l=a=null,A()):s},o.clipAngle=function(E){return arguments.length?(y=+E?BS(v=E*nl):(v=null,Em),A()):v*bf},o.clipExtent=function(E){return arguments.length?(s=E==null?(t=r=l=a=null,lg):US(t=+E[0][0],r=+E[0][1],l=+E[1][0],a=+E[1][1]),A()):t==null?null:[[t,r],[l,a]]},o.scale=function(E){return arguments.length?(Ee=+E,M()):Ee},o.translate=function(E){return arguments.length?(Ne=+E[0],je=+E[1],M()):[Ne,je]},o.center=function(E){return arguments.length?(pt=E[0]%360*nl,G=E[1]%360*nl,M()):[pt*bf,G*bf]},o.rotate=function(E){return arguments.length?(U=E[0]%360*nl,e=E[1]%360*nl,p=E.length>2?E[2]%360*nl:0,M()):[U*bf,e*bf,p*bf]},o.angle=function(E){return arguments.length?(n=E%360*nl,M()):n*bf},o.reflectX=function(E){return arguments.length?(C=E?-1:1,M()):C<0},o.reflectY=function(E){return arguments.length?(w=E?-1:1,M()):w<0},o.precision=function(E){return arguments.length?(u=Om(m,c=E*E),A()):rh(c)},o.fitExtent=function(E,g){return U2(o,E,g)},o.fitSize=function(E,g){return qS(o,E,g)},o.fitWidth=function(E,g){return e8(o,E,g)},o.fitHeight=function(E,g){return t8(o,E,g)};function M(){var E=Bm(Ee,0,0,C,w,n).apply(null,ce(pt,G)),g=Bm(Ee,Ne-E[0],je-E[1],C,w,n);return L=RS(U,e,p),m=og(ce,g),h=og(L,m),u=Om(m,c),A()}function A(){return T=f=null,o}return function(){return ce=J.apply(this,arguments),o.invert=ce.invert&&d,M()}}function mg(J,ce){return[J,ce]}mg.invert=mg;function I8(){return l8(mg).scale(152.63)}function Iv(J,ce,Ee){this.k=J,this.x=ce,this.y=Ee}Iv.prototype={constructor:Iv,scale:function(J){return J===1?this:new Iv(this.k*J,this.x,this.y)},translate:function(J,ce){return J===0&ce===0?this:new Iv(this.k,this.x+this.k*J,this.y+this.k*ce)},apply:function(J){return[J[0]*this.k+this.x,J[1]*this.k+this.y]},applyX:function(J){return J*this.k+this.x},applyY:function(J){return J*this.k+this.y},invert:function(J){return[(J[0]-this.x)/this.k,(J[1]-this.y)/this.k]},invertX:function(J){return(J-this.x)/this.k},invertY:function(J){return(J-this.y)/this.k},rescaleX:function(J){return J.copy().domain(J.range().map(this.invertX,this).map(J.invert,J))},rescaleY:function(J){return J.copy().domain(J.range().map(this.invertY,this).map(J.invert,J))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Iv.prototype;export{_T as A,b5 as B,w8 as C,g8 as D,$1 as E,Sl as F,Zd as G,E8 as H,S8 as I,M8 as J,C8 as K,L8 as L,A8 as M,El as N,b8 as O,wx as P,Yd as a,x8 as b,zx as c,Bx as d,m8 as e,d8 as f,y8 as g,bg as h,su as i,bx as j,I8 as k,D8 as l,h8 as m,wg as n,Fx as o,c8 as p,v8 as q,p8 as r,R8 as s,f8 as t,Oh as u,T8 as v,Xd as w,Qv as x,P8 as y,Do as z};
